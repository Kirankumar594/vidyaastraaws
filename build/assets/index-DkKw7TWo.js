(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function a(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=a(i);fetch(i.href,o)}})();var Jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function nW(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var r=t.default;if(typeof r=="function"){var a=function s(){var i=!1;try{i=this instanceof s}catch{}return i?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};a.prototype=r.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var i=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(a,s,i.get?i:{enumerable:!0,get:function(){return t[s]}})}),a}var Ij={exports:{}},e1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NF;function iW(){if(NF)return e1;NF=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(s,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var c in i)c!=="key"&&(o[c]=i[c])}else o=i;return i=o.ref,{$$typeof:t,type:s,key:l,ref:i!==void 0?i:null,props:o}}return e1.Fragment=r,e1.jsx=a,e1.jsxs=a,e1}var SF;function oW(){return SF||(SF=1,Ij.exports=iW()),Ij.exports}var n=oW(),kj={exports:{}},va={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CF;function lW(){if(CF)return va;CF=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),m=Symbol.iterator;function p(se){return se===null||typeof se!="object"?null:(se=m&&se[m]||se["@@iterator"],typeof se=="function"?se:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function b(se,ve,_){this.props=se,this.context=ve,this.refs=y,this.updater=_||g}b.prototype.isReactComponent={},b.prototype.setState=function(se,ve){if(typeof se!="object"&&typeof se!="function"&&se!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,se,ve,"setState")},b.prototype.forceUpdate=function(se){this.updater.enqueueForceUpdate(this,se,"forceUpdate")};function j(){}j.prototype=b.prototype;function N(se,ve,_){this.props=se,this.context=ve,this.refs=y,this.updater=_||g}var S=N.prototype=new j;S.constructor=N,v(S,b.prototype),S.isPureReactComponent=!0;var B=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function O(se,ve,_,z,ae,oe){return _=oe.ref,{$$typeof:t,type:se,key:ve,ref:_!==void 0?_:null,props:oe}}function k(se,ve){return O(se.type,ve,void 0,void 0,void 0,se.props)}function V(se){return typeof se=="object"&&se!==null&&se.$$typeof===t}function Q(se){var ve={"=":"=0",":":"=2"};return"$"+se.replace(/[=:]/g,function(_){return ve[_]})}var H=/\/+/g;function M(se,ve){return typeof se=="object"&&se!==null&&se.key!=null?Q(""+se.key):ve.toString(36)}function K(){}function q(se){switch(se.status){case"fulfilled":return se.value;case"rejected":throw se.reason;default:switch(typeof se.status=="string"?se.then(K,K):(se.status="pending",se.then(function(ve){se.status==="pending"&&(se.status="fulfilled",se.value=ve)},function(ve){se.status==="pending"&&(se.status="rejected",se.reason=ve)})),se.status){case"fulfilled":return se.value;case"rejected":throw se.reason}}throw se}function re(se,ve,_,z,ae){var oe=typeof se;(oe==="undefined"||oe==="boolean")&&(se=null);var ce=!1;if(se===null)ce=!0;else switch(oe){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(se.$$typeof){case t:case r:ce=!0;break;case u:return ce=se._init,re(ce(se._payload),ve,_,z,ae)}}if(ce)return ae=ae(se),ce=z===""?"."+M(se,0):z,B(ae)?(_="",ce!=null&&(_=ce.replace(H,"$&/")+"/"),re(ae,ve,_,"",function(te){return te})):ae!=null&&(V(ae)&&(ae=k(ae,_+(ae.key==null||se&&se.key===ae.key?"":(""+ae.key).replace(H,"$&/")+"/")+ce)),ve.push(ae)),1;ce=0;var me=z===""?".":z+":";if(B(se))for(var he=0;he<se.length;he++)z=se[he],oe=me+M(z,he),ce+=re(z,ve,_,oe,ae);else if(he=p(se),typeof he=="function")for(se=he.call(se),he=0;!(z=se.next()).done;)z=z.value,oe=me+M(z,he++),ce+=re(z,ve,_,oe,ae);else if(oe==="object"){if(typeof se.then=="function")return re(q(se),ve,_,z,ae);throw ve=String(se),Error("Objects are not valid as a React child (found: "+(ve==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":ve)+"). If you meant to render a collection of children, use an array instead.")}return ce}function ee(se,ve,_){if(se==null)return se;var z=[],ae=0;return re(se,z,"","",function(oe){return ve.call(_,oe,ae++)}),z}function le(se){if(se._status===-1){var ve=se._result;ve=ve(),ve.then(function(_){(se._status===0||se._status===-1)&&(se._status=1,se._result=_)},function(_){(se._status===0||se._status===-1)&&(se._status=2,se._result=_)}),se._status===-1&&(se._status=0,se._result=ve)}if(se._status===1)return se._result.default;throw se._result}var Ae=typeof reportError=="function"?reportError:function(se){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ve=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof se=="object"&&se!==null&&typeof se.message=="string"?String(se.message):String(se),error:se});if(!window.dispatchEvent(ve))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",se);return}console.error(se)};function ue(){}return va.Children={map:ee,forEach:function(se,ve,_){ee(se,function(){ve.apply(this,arguments)},_)},count:function(se){var ve=0;return ee(se,function(){ve++}),ve},toArray:function(se){return ee(se,function(ve){return ve})||[]},only:function(se){if(!V(se))throw Error("React.Children.only expected to receive a single React element child.");return se}},va.Component=b,va.Fragment=a,va.Profiler=i,va.PureComponent=N,va.StrictMode=s,va.Suspense=d,va.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,va.__COMPILER_RUNTIME={__proto__:null,c:function(se){return I.H.useMemoCache(se)}},va.cache=function(se){return function(){return se.apply(null,arguments)}},va.cloneElement=function(se,ve,_){if(se==null)throw Error("The argument must be a React element, but you passed "+se+".");var z=v({},se.props),ae=se.key,oe=void 0;if(ve!=null)for(ce in ve.ref!==void 0&&(oe=void 0),ve.key!==void 0&&(ae=""+ve.key),ve)!F.call(ve,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&ve.ref===void 0||(z[ce]=ve[ce]);var ce=arguments.length-2;if(ce===1)z.children=_;else if(1<ce){for(var me=Array(ce),he=0;he<ce;he++)me[he]=arguments[he+2];z.children=me}return O(se.type,ae,void 0,void 0,oe,z)},va.createContext=function(se){return se={$$typeof:l,_currentValue:se,_currentValue2:se,_threadCount:0,Provider:null,Consumer:null},se.Provider=se,se.Consumer={$$typeof:o,_context:se},se},va.createElement=function(se,ve,_){var z,ae={},oe=null;if(ve!=null)for(z in ve.key!==void 0&&(oe=""+ve.key),ve)F.call(ve,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(ae[z]=ve[z]);var ce=arguments.length-2;if(ce===1)ae.children=_;else if(1<ce){for(var me=Array(ce),he=0;he<ce;he++)me[he]=arguments[he+2];ae.children=me}if(se&&se.defaultProps)for(z in ce=se.defaultProps,ce)ae[z]===void 0&&(ae[z]=ce[z]);return O(se,oe,void 0,void 0,null,ae)},va.createRef=function(){return{current:null}},va.forwardRef=function(se){return{$$typeof:c,render:se}},va.isValidElement=V,va.lazy=function(se){return{$$typeof:u,_payload:{_status:-1,_result:se},_init:le}},va.memo=function(se,ve){return{$$typeof:f,type:se,compare:ve===void 0?null:ve}},va.startTransition=function(se){var ve=I.T,_={};I.T=_;try{var z=se(),ae=I.S;ae!==null&&ae(_,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(ue,Ae)}catch(oe){Ae(oe)}finally{I.T=ve}},va.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},va.use=function(se){return I.H.use(se)},va.useActionState=function(se,ve,_){return I.H.useActionState(se,ve,_)},va.useCallback=function(se,ve){return I.H.useCallback(se,ve)},va.useContext=function(se){return I.H.useContext(se)},va.useDebugValue=function(){},va.useDeferredValue=function(se,ve){return I.H.useDeferredValue(se,ve)},va.useEffect=function(se,ve,_){var z=I.H;if(typeof _=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return z.useEffect(se,ve)},va.useId=function(){return I.H.useId()},va.useImperativeHandle=function(se,ve,_){return I.H.useImperativeHandle(se,ve,_)},va.useInsertionEffect=function(se,ve){return I.H.useInsertionEffect(se,ve)},va.useLayoutEffect=function(se,ve){return I.H.useLayoutEffect(se,ve)},va.useMemo=function(se,ve){return I.H.useMemo(se,ve)},va.useOptimistic=function(se,ve){return I.H.useOptimistic(se,ve)},va.useReducer=function(se,ve,_){return I.H.useReducer(se,ve,_)},va.useRef=function(se){return I.H.useRef(se)},va.useState=function(se){return I.H.useState(se)},va.useSyncExternalStore=function(se,ve,_){return I.H.useSyncExternalStore(se,ve,_)},va.useTransition=function(){return I.H.useTransition()},va.version="19.1.0",va}var BF;function zg(){return BF||(BF=1,kj.exports=lW()),kj.exports}var w=zg();const $r=Tc(w);var _j={exports:{}},t1={},Pj={exports:{}},Oj={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EF;function cW(){return EF||(EF=1,function(t){function r(ee,le){var Ae=ee.length;ee.push(le);e:for(;0<Ae;){var ue=Ae-1>>>1,se=ee[ue];if(0<i(se,le))ee[ue]=le,ee[Ae]=se,Ae=ue;else break e}}function a(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var le=ee[0],Ae=ee.pop();if(Ae!==le){ee[0]=Ae;e:for(var ue=0,se=ee.length,ve=se>>>1;ue<ve;){var _=2*(ue+1)-1,z=ee[_],ae=_+1,oe=ee[ae];if(0>i(z,Ae))ae<se&&0>i(oe,z)?(ee[ue]=oe,ee[ae]=Ae,ue=ae):(ee[ue]=z,ee[_]=Ae,ue=_);else if(ae<se&&0>i(oe,Ae))ee[ue]=oe,ee[ae]=Ae,ue=ae;else break e}}return le}function i(ee,le){var Ae=ee.sortIndex-le.sortIndex;return Ae!==0?Ae:ee.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],u=1,m=null,p=3,g=!1,v=!1,y=!1,b=!1,j=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function B(ee){for(var le=a(f);le!==null;){if(le.callback===null)s(f);else if(le.startTime<=ee)s(f),le.sortIndex=le.expirationTime,r(d,le);else break;le=a(f)}}function I(ee){if(y=!1,B(ee),!v)if(a(d)!==null)v=!0,F||(F=!0,M());else{var le=a(f);le!==null&&re(I,le.startTime-ee)}}var F=!1,O=-1,k=5,V=-1;function Q(){return b?!0:!(t.unstable_now()-V<k)}function H(){if(b=!1,F){var ee=t.unstable_now();V=ee;var le=!0;try{e:{v=!1,y&&(y=!1,N(O),O=-1),g=!0;var Ae=p;try{t:{for(B(ee),m=a(d);m!==null&&!(m.expirationTime>ee&&Q());){var ue=m.callback;if(typeof ue=="function"){m.callback=null,p=m.priorityLevel;var se=ue(m.expirationTime<=ee);if(ee=t.unstable_now(),typeof se=="function"){m.callback=se,B(ee),le=!0;break t}m===a(d)&&s(d),B(ee)}else s(d);m=a(d)}if(m!==null)le=!0;else{var ve=a(f);ve!==null&&re(I,ve.startTime-ee),le=!1}}break e}finally{m=null,p=Ae,g=!1}le=void 0}}finally{le?M():F=!1}}}var M;if(typeof S=="function")M=function(){S(H)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,q=K.port2;K.port1.onmessage=H,M=function(){q.postMessage(null)}}else M=function(){j(H,0)};function re(ee,le){O=j(function(){ee(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(ee){switch(p){case 1:case 2:case 3:var le=3;break;default:le=p}var Ae=p;p=le;try{return ee()}finally{p=Ae}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(ee,le){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var Ae=p;p=ee;try{return le()}finally{p=Ae}},t.unstable_scheduleCallback=function(ee,le,Ae){var ue=t.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?ue+Ae:ue):Ae=ue,ee){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=Ae+se,ee={id:u++,callback:le,priorityLevel:ee,startTime:Ae,expirationTime:se,sortIndex:-1},Ae>ue?(ee.sortIndex=Ae,r(f,ee),a(d)===null&&ee===a(f)&&(y?(N(O),O=-1):y=!0,re(I,Ae-ue))):(ee.sortIndex=se,r(d,ee),v||g||(v=!0,F||(F=!0,M()))),ee},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(ee){var le=p;return function(){var Ae=p;p=le;try{return ee.apply(this,arguments)}finally{p=Ae}}}}(Oj)),Oj}var TF;function dW(){return TF||(TF=1,Pj.exports=cW()),Pj.exports}var Dj={exports:{}},_o={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FF;function uW(){if(FF)return _o;FF=1;var t=zg();function r(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)f+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,f,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:d,containerInfo:f,implementation:u}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return _o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,_o.createPortal=function(d,f){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(r(299));return o(d,f,null,u)},_o.flushSync=function(d){var f=l.T,u=s.p;try{if(l.T=null,s.p=2,d)return d()}finally{l.T=f,s.p=u,s.d.f()}},_o.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(d,f))},_o.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},_o.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var u=f.as,m=c(u,f.crossOrigin),p=typeof f.integrity=="string"?f.integrity:void 0,g=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;u==="style"?s.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:p,fetchPriority:g}):u==="script"&&s.d.X(d,{crossOrigin:m,integrity:p,fetchPriority:g,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},_o.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var u=c(f.as,f.crossOrigin);s.d.M(d,{crossOrigin:u,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(d)},_o.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var u=f.as,m=c(u,f.crossOrigin);s.d.L(d,u,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},_o.preloadModule=function(d,f){if(typeof d=="string")if(f){var u=c(f.as,f.crossOrigin);s.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:u,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(d)},_o.requestFormReset=function(d){s.d.r(d)},_o.unstable_batchedUpdates=function(d,f){return d(f)},_o.useFormState=function(d,f,u){return l.H.useFormState(d,f,u)},_o.useFormStatus=function(){return l.H.useHostTransitionStatus()},_o.version="19.1.0",_o}var IF;function a7(){if(IF)return Dj.exports;IF=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Dj.exports=uW(),Dj.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kF;function fW(){if(kF)return t1;kF=1;var t=dW(),r=zg(),a=a7();function s(A){var h="https://react.dev/errors/"+A;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+A+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function o(A){var h=A,x=A;if(A.alternate)for(;h.return;)h=h.return;else{A=h;do h=A,(h.flags&4098)!==0&&(x=h.return),A=h.return;while(A)}return h.tag===3?x:null}function l(A){if(A.tag===13){var h=A.memoizedState;if(h===null&&(A=A.alternate,A!==null&&(h=A.memoizedState)),h!==null)return h.dehydrated}return null}function c(A){if(o(A)!==A)throw Error(s(188))}function d(A){var h=A.alternate;if(!h){if(h=o(A),h===null)throw Error(s(188));return h!==A?null:A}for(var x=A,C=h;;){var U=x.return;if(U===null)break;var G=U.alternate;if(G===null){if(C=U.return,C!==null){x=C;continue}break}if(U.child===G.child){for(G=U.child;G;){if(G===x)return c(U),A;if(G===C)return c(U),h;G=G.sibling}throw Error(s(188))}if(x.return!==C.return)x=U,C=G;else{for(var Be=!1,Re=U.child;Re;){if(Re===x){Be=!0,x=U,C=G;break}if(Re===C){Be=!0,C=U,x=G;break}Re=Re.sibling}if(!Be){for(Re=G.child;Re;){if(Re===x){Be=!0,x=G,C=U;break}if(Re===C){Be=!0,C=G,x=U;break}Re=Re.sibling}if(!Be)throw Error(s(189))}}if(x.alternate!==C)throw Error(s(190))}if(x.tag!==3)throw Error(s(188));return x.stateNode.current===x?A:h}function f(A){var h=A.tag;if(h===5||h===26||h===27||h===6)return A;for(A=A.child;A!==null;){if(h=f(A),h!==null)return h;A=A.sibling}return null}var u=Object.assign,m=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),S=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function M(A){return A===null||typeof A!="object"?null:(A=H&&A[H]||A["@@iterator"],typeof A=="function"?A:null)}var K=Symbol.for("react.client.reference");function q(A){if(A==null)return null;if(typeof A=="function")return A.$$typeof===K?null:A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case v:return"Fragment";case b:return"Profiler";case y:return"StrictMode";case I:return"Suspense";case F:return"SuspenseList";case V:return"Activity"}if(typeof A=="object")switch(A.$$typeof){case g:return"Portal";case S:return(A.displayName||"Context")+".Provider";case N:return(A._context.displayName||"Context")+".Consumer";case B:var h=A.render;return A=A.displayName,A||(A=h.displayName||h.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case O:return h=A.displayName||null,h!==null?h:q(A.type)||"Memo";case k:h=A._payload,A=A._init;try{return q(A(h))}catch{}}return null}var re=Array.isArray,ee=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},ue=[],se=-1;function ve(A){return{current:A}}function _(A){0>se||(A.current=ue[se],ue[se]=null,se--)}function z(A,h){se++,ue[se]=A.current,A.current=h}var ae=ve(null),oe=ve(null),ce=ve(null),me=ve(null);function he(A,h){switch(z(ce,h),z(oe,A),z(ae,null),h.nodeType){case 9:case 11:A=(A=h.documentElement)&&(A=A.namespaceURI)?JT(A):0;break;default:if(A=h.tagName,h=h.namespaceURI)h=JT(h),A=ZT(h,A);else switch(A){case"svg":A=1;break;case"math":A=2;break;default:A=0}}_(ae),z(ae,A)}function te(){_(ae),_(oe),_(ce)}function J(A){A.memoizedState!==null&&z(me,A);var h=ae.current,x=ZT(h,A.type);h!==x&&(z(oe,A),z(ae,x))}function X(A){oe.current===A&&(_(ae),_(oe)),me.current===A&&(_(me),qx._currentValue=Ae)}var xe=Object.prototype.hasOwnProperty,Ne=t.unstable_scheduleCallback,ge=t.unstable_cancelCallback,pe=t.unstable_shouldYield,Y=t.unstable_requestPaint,Le=t.unstable_now,ie=t.unstable_getCurrentPriorityLevel,de=t.unstable_ImmediatePriority,je=t.unstable_UserBlockingPriority,ye=t.unstable_NormalPriority,Ce=t.unstable_LowPriority,be=t.unstable_IdlePriority,Ee=t.log,Qe=t.unstable_setDisableYieldValue,rt=null,Te=null;function nt(A){if(typeof Ee=="function"&&Qe(A),Te&&typeof Te.setStrictMode=="function")try{Te.setStrictMode(rt,A)}catch{}}var xt=Math.clz32?Math.clz32:dt,it=Math.log,_e=Math.LN2;function dt(A){return A>>>=0,A===0?32:31-(it(A)/_e|0)|0}var yt=256,rr=4194304;function _t(A){var h=A&42;if(h!==0)return h;switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return A&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return A&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return A}}function Ve(A,h,x){var C=A.pendingLanes;if(C===0)return 0;var U=0,G=A.suspendedLanes,Be=A.pingedLanes;A=A.warmLanes;var Re=C&134217727;return Re!==0?(C=Re&~G,C!==0?U=_t(C):(Be&=Re,Be!==0?U=_t(Be):x||(x=Re&~A,x!==0&&(U=_t(x))))):(Re=C&~G,Re!==0?U=_t(Re):Be!==0?U=_t(Be):x||(x=C&~A,x!==0&&(U=_t(x)))),U===0?0:h!==0&&h!==U&&(h&G)===0&&(G=U&-U,x=h&-h,G>=x||G===32&&(x&4194048)!==0)?h:U}function Se(A,h){return(A.pendingLanes&~(A.suspendedLanes&~A.pingedLanes)&h)===0}function ot(A,h){switch(A){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ot(){var A=yt;return yt<<=1,(yt&4194048)===0&&(yt=256),A}function vt(){var A=rr;return rr<<=1,(rr&62914560)===0&&(rr=4194304),A}function Ze(A){for(var h=[],x=0;31>x;x++)h.push(A);return h}function He(A,h){A.pendingLanes|=h,h!==268435456&&(A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0)}function ct(A,h,x,C,U,G){var Be=A.pendingLanes;A.pendingLanes=x,A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0,A.expiredLanes&=x,A.entangledLanes&=x,A.errorRecoveryDisabledLanes&=x,A.shellSuspendCounter=0;var Re=A.entanglements,lt=A.expirationTimes,kt=A.hiddenUpdates;for(x=Be&~x;0<x;){var Xt=31-xt(x),ar=1<<Xt;Re[Xt]=0,lt[Xt]=-1;var Pt=kt[Xt];if(Pt!==null)for(kt[Xt]=null,Xt=0;Xt<Pt.length;Xt++){var Dt=Pt[Xt];Dt!==null&&(Dt.lane&=-536870913)}x&=~ar}C!==0&&ft(A,C,0),G!==0&&U===0&&A.tag!==0&&(A.suspendedLanes|=G&~(Be&~h))}function ft(A,h,x){A.pendingLanes|=h,A.suspendedLanes&=~h;var C=31-xt(h);A.entangledLanes|=h,A.entanglements[C]=A.entanglements[C]|1073741824|x&4194090}function Wt(A,h){var x=A.entangledLanes|=h;for(A=A.entanglements;x;){var C=31-xt(x),U=1<<C;U&h|A[C]&h&&(A[C]|=h),x&=~U}}function gr(A){switch(A){case 2:A=1;break;case 8:A=4;break;case 32:A=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:A=128;break;case 268435456:A=134217728;break;default:A=0}return A}function Fr(A){return A&=-A,2<A?8<A?(A&134217727)!==0?32:268435456:8:2}function Ta(){var A=le.p;return A!==0?A:(A=window.event,A===void 0?32:xF(A.type))}function pa(A,h){var x=le.p;try{return le.p=A,h()}finally{le.p=x}}var at=Math.random().toString(36).slice(2),Ht="__reactFiber$"+at,Gt="__reactProps$"+at,dr="__reactContainer$"+at,Jt="__reactEvents$"+at,Mr="__reactListeners$"+at,ke="__reactHandles$"+at,qe="__reactResources$"+at,ze="__reactMarker$"+at;function Ke(A){delete A[Ht],delete A[Gt],delete A[Jt],delete A[Mr],delete A[ke]}function Je(A){var h=A[Ht];if(h)return h;for(var x=A.parentNode;x;){if(h=x[dr]||x[Ht]){if(x=h.alternate,h.child!==null||x!==null&&x.child!==null)for(A=aF(A);A!==null;){if(x=A[Ht])return x;A=aF(A)}return h}A=x,x=A.parentNode}return null}function et(A){if(A=A[Ht]||A[dr]){var h=A.tag;if(h===5||h===6||h===13||h===26||h===27||h===3)return A}return null}function St(A){var h=A.tag;if(h===5||h===26||h===27||h===6)return A.stateNode;throw Error(s(33))}function Me(A){var h=A[qe];return h||(h=A[qe]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function We(A){A[ze]=!0}var st=new Set,jt={};function Yt(A,h){tr(A,h),tr(A+"Capture",h)}function tr(A,h){for(jt[A]=h,A=0;A<h.length;A++)st.add(h[A])}var or=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ur={},jr={};function qr(A){return xe.call(jr,A)?!0:xe.call(ur,A)?!1:or.test(A)?jr[A]=!0:(ur[A]=!0,!1)}function ga(A,h,x){if(qr(h))if(x===null)A.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":A.removeAttribute(h);return;case"boolean":var C=h.toLowerCase().slice(0,5);if(C!=="data-"&&C!=="aria-"){A.removeAttribute(h);return}}A.setAttribute(h,""+x)}}function Oa(A,h,x){if(x===null)A.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(h);return}A.setAttribute(h,""+x)}}function Ma(A,h,x,C){if(C===null)A.removeAttribute(x);else{switch(typeof C){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(x);return}A.setAttributeNS(h,x,""+C)}}var Bi,Ei;function di(A){if(Bi===void 0)try{throw Error()}catch(x){var h=x.stack.trim().match(/\n( *(at )?)/);Bi=h&&h[1]||"",Ei=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bi+A+Ei}var Xi=!1;function ui(A,h){if(!A||Xi)return"";Xi=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(h){var ar=function(){throw Error()};if(Object.defineProperty(ar.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ar,[])}catch(Dt){var Pt=Dt}Reflect.construct(A,[],ar)}else{try{ar.call()}catch(Dt){Pt=Dt}A.call(ar.prototype)}}else{try{throw Error()}catch(Dt){Pt=Dt}(ar=A())&&typeof ar.catch=="function"&&ar.catch(function(){})}}catch(Dt){if(Dt&&Pt&&typeof Dt.stack=="string")return[Dt.stack,Pt.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var U=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");U&&U.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var G=C.DetermineComponentFrameRoot(),Be=G[0],Re=G[1];if(Be&&Re){var lt=Be.split(`
`),kt=Re.split(`
`);for(U=C=0;C<lt.length&&!lt[C].includes("DetermineComponentFrameRoot");)C++;for(;U<kt.length&&!kt[U].includes("DetermineComponentFrameRoot");)U++;if(C===lt.length||U===kt.length)for(C=lt.length-1,U=kt.length-1;1<=C&&0<=U&&lt[C]!==kt[U];)U--;for(;1<=C&&0<=U;C--,U--)if(lt[C]!==kt[U]){if(C!==1||U!==1)do if(C--,U--,0>U||lt[C]!==kt[U]){var Xt=`
`+lt[C].replace(" at new "," at ");return A.displayName&&Xt.includes("<anonymous>")&&(Xt=Xt.replace("<anonymous>",A.displayName)),Xt}while(1<=C&&0<=U);break}}}finally{Xi=!1,Error.prepareStackTrace=x}return(x=A?A.displayName||A.name:"")?di(x):""}function Mn(A){switch(A.tag){case 26:case 27:case 5:return di(A.type);case 16:return di("Lazy");case 13:return di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return ui(A.type,!1);case 11:return ui(A.type.render,!1);case 1:return ui(A.type,!0);case 31:return di("Activity");default:return""}}function Rs(A){try{var h="";do h+=Mn(A),A=A.return;while(A);return h}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function fi(A){switch(typeof A){case"bigint":case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function kf(A){var h=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function bd(A){var h=kf(A)?"checked":"value",x=Object.getOwnPropertyDescriptor(A.constructor.prototype,h),C=""+A[h];if(!A.hasOwnProperty(h)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var U=x.get,G=x.set;return Object.defineProperty(A,h,{configurable:!0,get:function(){return U.call(this)},set:function(Be){C=""+Be,G.call(this,Be)}}),Object.defineProperty(A,h,{enumerable:x.enumerable}),{getValue:function(){return C},setValue:function(Be){C=""+Be},stopTracking:function(){A._valueTracker=null,delete A[h]}}}}function Wo(A){A._valueTracker||(A._valueTracker=bd(A))}function Ic(A){if(!A)return!1;var h=A._valueTracker;if(!h)return!0;var x=h.getValue(),C="";return A&&(C=kf(A)?A.checked?"true":"false":A.value),A=C,A!==x?(h.setValue(A),!0):!1}function Ti(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}var pn=/[\n"\\]/g;function ds(A){return A.replace(pn,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function wd(A,h,x,C,U,G,Be,Re){A.name="",Be!=null&&typeof Be!="function"&&typeof Be!="symbol"&&typeof Be!="boolean"?A.type=Be:A.removeAttribute("type"),h!=null?Be==="number"?(h===0&&A.value===""||A.value!=h)&&(A.value=""+fi(h)):A.value!==""+fi(h)&&(A.value=""+fi(h)):Be!=="submit"&&Be!=="reset"||A.removeAttribute("value"),h!=null?Pf(A,Be,fi(h)):x!=null?Pf(A,Be,fi(x)):C!=null&&A.removeAttribute("value"),U==null&&G!=null&&(A.defaultChecked=!!G),U!=null&&(A.checked=U&&typeof U!="function"&&typeof U!="symbol"),Re!=null&&typeof Re!="function"&&typeof Re!="symbol"&&typeof Re!="boolean"?A.name=""+fi(Re):A.removeAttribute("name")}function _f(A,h,x,C,U,G,Be,Re){if(G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(A.type=G),h!=null||x!=null){if(!(G!=="submit"&&G!=="reset"||h!=null))return;x=x!=null?""+fi(x):"",h=h!=null?""+fi(h):x,Re||h===A.value||(A.value=h),A.defaultValue=h}C=C??U,C=typeof C!="function"&&typeof C!="symbol"&&!!C,A.checked=Re?A.checked:!!C,A.defaultChecked=!!C,Be!=null&&typeof Be!="function"&&typeof Be!="symbol"&&typeof Be!="boolean"&&(A.name=Be)}function Pf(A,h,x){h==="number"&&Ti(A.ownerDocument)===A||A.defaultValue===""+x||(A.defaultValue=""+x)}function Kl(A,h,x,C){if(A=A.options,h){h={};for(var U=0;U<x.length;U++)h["$"+x[U]]=!0;for(x=0;x<A.length;x++)U=h.hasOwnProperty("$"+A[x].value),A[x].selected!==U&&(A[x].selected=U),U&&C&&(A[x].defaultSelected=!0)}else{for(x=""+fi(x),h=null,U=0;U<A.length;U++){if(A[U].value===x){A[U].selected=!0,C&&(A[U].defaultSelected=!0);return}h!==null||A[U].disabled||(h=A[U])}h!==null&&(h.selected=!0)}}function sh(A,h,x){if(h!=null&&(h=""+fi(h),h!==A.value&&(A.value=h),x==null)){A.defaultValue!==h&&(A.defaultValue=h);return}A.defaultValue=x!=null?""+fi(x):""}function Of(A,h,x,C){if(h==null){if(C!=null){if(x!=null)throw Error(s(92));if(re(C)){if(1<C.length)throw Error(s(93));C=C[0]}x=C}x==null&&(x=""),h=x}x=fi(h),A.defaultValue=x,C=A.textContent,C===x&&C!==""&&C!==null&&(A.value=C)}function kc(A,h){if(h){var x=A.firstChild;if(x&&x===A.lastChild&&x.nodeType===3){x.nodeValue=h;return}}A.textContent=h}var _c=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nh(A,h,x){var C=h.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?C?A.setProperty(h,""):h==="float"?A.cssFloat="":A[h]="":C?A.setProperty(h,x):typeof x!="number"||x===0||_c.has(h)?h==="float"?A.cssFloat=x:A[h]=(""+x).trim():A[h]=x+"px"}function Df(A,h,x){if(h!=null&&typeof h!="object")throw Error(s(62));if(A=A.style,x!=null){for(var C in x)!x.hasOwnProperty(C)||h!=null&&h.hasOwnProperty(C)||(C.indexOf("--")===0?A.setProperty(C,""):C==="float"?A.cssFloat="":A[C]="");for(var U in h)C=h[U],h.hasOwnProperty(U)&&x[U]!==C&&nh(A,U,C)}else for(var G in h)h.hasOwnProperty(G)&&nh(A,G,h[G])}function Lf(A){if(A.indexOf("-")===-1)return!1;switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qo(A){return jd.test(""+A)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":A}var bo=null;function Cn(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var Pc=null,Wl=null;function Vr(A){var h=et(A);if(h&&(A=h.stateNode)){var x=A[Gt]||null;e:switch(A=h.stateNode,h.type){case"input":if(wd(A,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),h=x.name,x.type==="radio"&&h!=null){for(x=A;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+ds(""+h)+'"][type="radio"]'),h=0;h<x.length;h++){var C=x[h];if(C!==A&&C.form===A.form){var U=C[Gt]||null;if(!U)throw Error(s(90));wd(C,U.value,U.defaultValue,U.defaultValue,U.checked,U.defaultChecked,U.type,U.name)}}for(h=0;h<x.length;h++)C=x[h],C.form===A.form&&Ic(C)}break e;case"textarea":sh(A,x.value,x.defaultValue);break e;case"select":h=x.value,h!=null&&Kl(A,!!x.multiple,h,!1)}}}var Mf=!1;function ih(A,h,x){if(Mf)return A(h,x);Mf=!0;try{var C=A(h);return C}finally{if(Mf=!1,(Pc!==null||Wl!==null)&&(oa(),Pc&&(h=Pc,A=Wl,Wl=Pc=null,Vr(h),A)))for(h=0;h<A.length;h++)Vr(A[h])}}function Fi(A,h){var x=A.stateNode;if(x===null)return null;var C=x[Gt]||null;if(C===null)return null;x=C[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(A=A.type,C=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!C;break e;default:A=!1}if(A)return null;if(x&&typeof x!="function")throw Error(s(231,h,typeof x));return x}var wo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fu=!1;if(wo)try{var bl={};Object.defineProperty(bl,"passive",{get:function(){Fu=!0}}),window.addEventListener("test",bl,bl),window.removeEventListener("test",bl,bl)}catch{Fu=!1}var Ws=null,Iu=null,Nd=null;function Uf(){if(Nd)return Nd;var A,h=Iu,x=h.length,C,U="value"in Ws?Ws.value:Ws.textContent,G=U.length;for(A=0;A<x&&h[A]===U[A];A++);var Be=x-A;for(C=1;C<=Be&&h[x-C]===U[G-C];C++);return Nd=U.slice(A,1<C?1-C:void 0)}function Oc(A){var h=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&h===13&&(A=13)):A=h,A===10&&(A=13),32<=A||A===13?A:0}function wl(){return!0}function ql(){return!1}function Un(A){function h(x,C,U,G,Be){this._reactName=x,this._targetInst=U,this.type=C,this.nativeEvent=G,this.target=Be,this.currentTarget=null;for(var Re in A)A.hasOwnProperty(Re)&&(x=A[Re],this[Re]=x?x(G):G[Re]);return this.isDefaultPrevented=(G.defaultPrevented!=null?G.defaultPrevented:G.returnValue===!1)?wl:ql,this.isPropagationStopped=ql,this}return u(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=wl)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=wl)},persist:function(){},isPersistent:wl}),h}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yl=Un(Ii),jl=u({},Ii,{view:0,detail:0}),oh=Un(jl),qs,ku,Ji,Zi=u({},jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Du,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==Ji&&(Ji&&A.type==="mousemove"?(qs=A.screenX-Ji.screenX,ku=A.screenY-Ji.screenY):ku=qs=0,Ji=A),qs)},movementY:function(A){return"movementY"in A?A.movementY:ku}}),Nl=Un(Zi),km=u({},Zi,{dataTransfer:0}),Dc=Un(km),ki=u({},jl,{relatedTarget:0}),Sl=Un(ki),Lc=u({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),_m=Un(Lc),eo=u({},Ii,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),_u=Un(eo),Sd=u({},Ii,{data:0}),Pu=Un(Sd),lh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qf(A){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(A):(A=Rf[A])?!!h[A]:!1}function Du(){return Qf}var Pm=u({},jl,{key:function(A){if(A.key){var h=lh[A.key]||A.key;if(h!=="Unidentified")return h}return A.type==="keypress"?(A=Oc(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?Ou[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Du,charCode:function(A){return A.type==="keypress"?Oc(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?Oc(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),Lu=Un(Pm),Cd=u({},Zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mu=Un(Cd),Mc=u({},jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Du}),Hf=Un(Mc),W=u({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ie=Un(W),tt=u({},Zi,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),ut=Un(tt),Ct=u({},Ii,{newState:0,oldState:0}),$t=Un(Ct),lr=[9,13,27,32],Sr=wo&&"CompositionEvent"in window,Dr=null;wo&&"documentMode"in document&&(Dr=document.documentMode);var ta=wo&&"TextEvent"in window&&!Dr,Jr=wo&&(!Sr||Dr&&8<Dr&&11>=Dr),ba=" ",Va=!1;function Ka(A,h){switch(A){case"keyup":return lr.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gr(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var Ys=!1;function on(A,h){switch(A){case"compositionend":return Gr(h);case"keypress":return h.which!==32?null:(Va=!0,ba);case"textInput":return A=h.data,A===ba&&Va?null:A;default:return null}}function jo(A,h){if(Ys)return A==="compositionend"||!Sr&&Ka(A,h)?(A=Uf(),Nd=Iu=Ws=null,Ys=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Jr&&h.locale!=="ko"?null:h.data;default:return null}}var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ln(A){var h=A&&A.nodeName&&A.nodeName.toLowerCase();return h==="input"?!!Bn[A.type]:h==="textarea"}function $f(A,h,x,C){Pc?Wl?Wl.push(C):Wl=[C]:Pc=C,h=Qv(h,"onChange"),0<h.length&&(x=new Yl("onChange","change",null,x,C),A.push({event:x,listeners:h}))}var Yn=null,Ga=null;function Bd(A){GT(A,0)}function bs(A){var h=St(A);if(Ic(h))return A}function Uc(A,h){if(A==="change")return h}var _i=!1;if(wo){var Is;if(wo){var Fa="oninput"in document;if(!Fa){var Rc=document.createElement("div");Rc.setAttribute("oninput","return;"),Fa=typeof Rc.oninput=="function"}Is=Fa}else Is=!1;_i=Is&&(!document.documentMode||9<document.documentMode)}function Qc(){Yn&&(Yn.detachEvent("onpropertychange",Ed),Ga=Yn=null)}function Ed(A){if(A.propertyName==="value"&&bs(Ga)){var h=[];$f(h,Ga,A,Cn(A)),ih(Bd,h)}}function Ai(A,h,x){A==="focusin"?(Qc(),Yn=h,Ga=x,Yn.attachEvent("onpropertychange",Ed)):A==="focusout"&&Qc()}function Uu(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return bs(Ga)}function Ru(A,h){if(A==="click")return bs(h)}function zf(A,h){if(A==="input"||A==="change")return bs(h)}function ks(A,h){return A===h&&(A!==0||1/A===1/h)||A!==A&&h!==h}var us=typeof Object.is=="function"?Object.is:ks;function hi(A,h){if(us(A,h))return!0;if(typeof A!="object"||A===null||typeof h!="object"||h===null)return!1;var x=Object.keys(A),C=Object.keys(h);if(x.length!==C.length)return!1;for(C=0;C<x.length;C++){var U=x[C];if(!xe.call(h,U)||!us(A[U],h[U]))return!1}return!0}function Qs(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function Xn(A,h){var x=Qs(A);A=0;for(var C;x;){if(x.nodeType===3){if(C=A+x.textContent.length,A<=h&&C>=h)return{node:x,offset:h-A};A=C}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=Qs(x)}}function Xl(A,h){return A&&h?A===h?!0:A&&A.nodeType===3?!1:h&&h.nodeType===3?Xl(A,h.parentNode):"contains"in A?A.contains(h):A.compareDocumentPosition?!!(A.compareDocumentPosition(h)&16):!1:!1}function Jn(A){A=A!=null&&A.ownerDocument!=null&&A.ownerDocument.defaultView!=null?A.ownerDocument.defaultView:window;for(var h=Ti(A.document);h instanceof A.HTMLIFrameElement;){try{var x=typeof h.contentWindow.location.href=="string"}catch{x=!1}if(x)A=h.contentWindow;else break;h=Ti(A.document)}return h}function gn(A){var h=A&&A.nodeName&&A.nodeName.toLowerCase();return h&&(h==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||h==="textarea"||A.contentEditable==="true")}var Jl=wo&&"documentMode"in document&&11>=document.documentMode,Pi=null,mi=null,En=null,Yo=!1;function Hs(A,h,x){var C=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Yo||Pi==null||Pi!==Ti(C)||(C=Pi,"selectionStart"in C&&gn(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),En&&hi(En,C)||(En=C,C=Qv(mi,"onSelect"),0<C.length&&(h=new Yl("onSelect","select",null,h,x),A.push({event:h,listeners:C}),h.target=Pi)))}function Oi(A,h){var x={};return x[A.toLowerCase()]=h.toLowerCase(),x["Webkit"+A]="webkit"+h,x["Moz"+A]="moz"+h,x}var Xs={animationend:Oi("Animation","AnimationEnd"),animationiteration:Oi("Animation","AnimationIteration"),animationstart:Oi("Animation","AnimationStart"),transitionrun:Oi("Transition","TransitionRun"),transitionstart:Oi("Transition","TransitionStart"),transitioncancel:Oi("Transition","TransitionCancel"),transitionend:Oi("Transition","TransitionEnd")},Di={},Td={};wo&&(Td=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function cn(A){if(Di[A])return Di[A];if(!Xs[A])return A;var h=Xs[A],x;for(x in h)if(h.hasOwnProperty(x)&&x in Td)return Di[A]=h[x];return A}var Fd=cn("animationend"),Hc=cn("animationiteration"),$c=cn("animationstart"),Xo=cn("transitionrun"),Id=cn("transitionstart"),kd=cn("transitioncancel"),Zl=cn("transitionend"),Cl=new Map,zc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zc.push("scrollEnd");function _s(A,h){Cl.set(A,h),Yt(h,[A])}var Li=new WeakMap;function Aa(A,h){if(typeof A=="object"&&A!==null){var x=Li.get(A);return x!==void 0?x:(h={value:A,source:h,stack:Rs(h)},Li.set(A,h),h)}return{value:A,source:h,stack:Rs(h)}}var ha=[],is=0,ws=0;function No(){for(var A=is,h=ws=is=0;h<A;){var x=ha[h];ha[h++]=null;var C=ha[h];ha[h++]=null;var U=ha[h];ha[h++]=null;var G=ha[h];if(ha[h++]=null,C!==null&&U!==null){var Be=C.pending;Be===null?U.next=U:(U.next=Be.next,Be.next=U),C.pending=U}G!==0&&Vf(x,U,G)}}function Vc(A,h,x,C){ha[is++]=A,ha[is++]=h,ha[is++]=x,ha[is++]=C,ws|=C,A.lanes|=C,A=A.alternate,A!==null&&(A.lanes|=C)}function Bl(A,h,x,C){return Vc(A,h,x,C),_d(A)}function ec(A,h){return Vc(A,null,null,h),_d(A)}function Vf(A,h,x){A.lanes|=x;var C=A.alternate;C!==null&&(C.lanes|=x);for(var U=!1,G=A.return;G!==null;)G.childLanes|=x,C=G.alternate,C!==null&&(C.childLanes|=x),G.tag===22&&(A=G.stateNode,A===null||A._visibility&1||(U=!0)),A=G,G=G.return;return A.tag===3?(G=A.stateNode,U&&h!==null&&(U=31-xt(x),A=G.hiddenUpdates,C=A[U],C===null?A[U]=[h]:C.push(h),h.lane=x|536870912),G):null}function _d(A){if(50<Bt)throw Bt=0,zt=null,Error(s(185));for(var h=A.return;h!==null;)A=h,h=A.return;return A.tag===3?A.stateNode:null}var Tn={};function So(A,h,x,C){this.tag=A,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(A,h,x,C){return new So(A,h,x,C)}function Qu(A){return A=A.prototype,!(!A||!A.isReactComponent)}function pi(A,h){var x=A.alternate;return x===null?(x=Zn(A.tag,h,A.key,A.mode),x.elementType=A.elementType,x.type=A.type,x.stateNode=A.stateNode,x.alternate=A,A.alternate=x):(x.pendingProps=h,x.type=A.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=A.flags&65011712,x.childLanes=A.childLanes,x.lanes=A.lanes,x.child=A.child,x.memoizedProps=A.memoizedProps,x.memoizedState=A.memoizedState,x.updateQueue=A.updateQueue,h=A.dependencies,x.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},x.sibling=A.sibling,x.index=A.index,x.ref=A.ref,x.refCleanup=A.refCleanup,x}function Kf(A,h){A.flags&=65011714;var x=A.alternate;return x===null?(A.childLanes=0,A.lanes=h,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=x.childLanes,A.lanes=x.lanes,A.child=x.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=x.memoizedProps,A.memoizedState=x.memoizedState,A.updateQueue=x.updateQueue,A.type=x.type,h=x.dependencies,A.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),A}function Pd(A,h,x,C,U,G){var Be=0;if(C=A,typeof A=="function")Qu(A)&&(Be=1);else if(typeof A=="string")Be=KG(A,x,ae.current)?26:A==="html"||A==="head"||A==="body"?27:5;else e:switch(A){case V:return A=Zn(31,x,h,U),A.elementType=V,A.lanes=G,A;case v:return Co(x.children,U,G,h);case y:Be=8,U|=24;break;case b:return A=Zn(12,x,h,U|2),A.elementType=b,A.lanes=G,A;case I:return A=Zn(13,x,h,U),A.elementType=I,A.lanes=G,A;case F:return A=Zn(19,x,h,U),A.elementType=F,A.lanes=G,A;default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case j:case S:Be=10;break e;case N:Be=9;break e;case B:Be=11;break e;case O:Be=14;break e;case k:Be=16,C=null;break e}Be=29,x=Error(s(130,A===null?"null":typeof A,"")),C=null}return h=Zn(Be,x,h,U),h.elementType=A,h.type=C,h.lanes=G,h}function Co(A,h,x,C){return A=Zn(7,A,C,h),A.lanes=x,A}function ch(A,h,x){return A=Zn(6,A,null,h),A.lanes=x,A}function Gf(A,h,x){return h=Zn(4,A.children!==null?A.children:[],A.key,h),h.lanes=x,h.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},h}var Kc=[],tc=0,rc=null,dh=0,Bo=[],to=0,Od=null,Eo=1,ac="";function Dd(A,h){Kc[tc++]=dh,Kc[tc++]=rc,rc=A,dh=h}function xp(A,h,x){Bo[to++]=Eo,Bo[to++]=ac,Bo[to++]=Od,Od=A;var C=Eo;A=ac;var U=32-xt(C)-1;C&=~(1<<U),x+=1;var G=32-xt(h)+U;if(30<G){var Be=U-U%5;G=(C&(1<<Be)-1).toString(32),C>>=Be,U-=Be,Eo=1<<32-xt(h)+U|x<<U|C,ac=G+A}else Eo=1<<G|x<<U|C,ac=A}function Wf(A){A.return!==null&&(Dd(A,1),xp(A,1,0))}function Gc(A){for(;A===rc;)rc=Kc[--tc],Kc[tc]=null,dh=Kc[--tc],Kc[tc]=null;for(;A===Od;)Od=Bo[--to],Bo[to]=null,ac=Bo[--to],Bo[to]=null,Eo=Bo[--to],Bo[to]=null}var xn=null,$s=null,Ua=!1,Wc=null,El=!1,Om=Error(s(519));function Ld(A){var h=Error(s(418,""));throw Hu(Aa(h,A)),Om}function yp(A){var h=A.stateNode,x=A.type,C=A.memoizedProps;switch(h[Ht]=A,h[Gt]=C,x){case"dialog":_a("cancel",h),_a("close",h);break;case"iframe":case"object":case"embed":_a("load",h);break;case"video":case"audio":for(x=0;x<$x.length;x++)_a($x[x],h);break;case"source":_a("error",h);break;case"img":case"image":case"link":_a("error",h),_a("load",h);break;case"details":_a("toggle",h);break;case"input":_a("invalid",h),_f(h,C.value,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name,!0),Wo(h);break;case"select":_a("invalid",h);break;case"textarea":_a("invalid",h),Of(h,C.value,C.defaultValue,C.children),Wo(h)}x=C.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||h.textContent===""+x||C.suppressHydrationWarning===!0||XT(h.textContent,x)?(C.popover!=null&&(_a("beforetoggle",h),_a("toggle",h)),C.onScroll!=null&&_a("scroll",h),C.onScrollEnd!=null&&_a("scrollend",h),C.onClick!=null&&(h.onclick=Hv),h=!0):h=!1,h||Ld(A)}function sc(A){for(xn=A.return;xn;)switch(xn.tag){case 5:case 13:El=!1;return;case 27:case 3:El=!0;return;default:xn=xn.return}}function gi(A){if(A!==xn)return!1;if(!Ua)return sc(A),Ua=!0,!1;var h=A.tag,x;if((x=h!==3&&h!==27)&&((x=h===5)&&(x=A.type,x=!(x!=="form"&&x!=="button")||gj(A.type,A.memoizedProps)),x=!x),x&&$s&&Ld(A),sc(A),h===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(s(317));e:{for(A=A.nextSibling,h=0;A;){if(A.nodeType===8)if(x=A.data,x==="/$"){if(h===0){$s=lu(A.nextSibling);break e}h--}else x!=="$"&&x!=="$!"&&x!=="$?"||h++;A=A.nextSibling}$s=null}}else h===27?(h=$s,_h(A.type)?(A=bj,bj=null,$s=A):$s=h):$s=xn?lu(A.stateNode.nextSibling):null;return!0}function ei(){$s=xn=null,Ua=!1}function vp(){var A=Wc;return A!==null&&(ko===null?ko=A:ko.push.apply(ko,A),Wc=null),A}function Hu(A){Wc===null?Wc=[A]:Wc.push(A)}var Jo=ve(null),Fn=null,nc=null;function Tl(A,h,x){z(Jo,h._currentValue),h._currentValue=x}function ro(A){A._currentValue=Jo.current,_(Jo)}function uh(A,h,x){for(;A!==null;){var C=A.alternate;if((A.childLanes&h)!==h?(A.childLanes|=h,C!==null&&(C.childLanes|=h)):C!==null&&(C.childLanes&h)!==h&&(C.childLanes|=h),A===x)break;A=A.return}}function fh(A,h,x,C){var U=A.child;for(U!==null&&(U.return=A);U!==null;){var G=U.dependencies;if(G!==null){var Be=U.child;G=G.firstContext;e:for(;G!==null;){var Re=G;G=U;for(var lt=0;lt<h.length;lt++)if(Re.context===h[lt]){G.lanes|=x,Re=G.alternate,Re!==null&&(Re.lanes|=x),uh(G.return,x,A),C||(Be=null);break e}G=Re.next}}else if(U.tag===18){if(Be=U.return,Be===null)throw Error(s(341));Be.lanes|=x,G=Be.alternate,G!==null&&(G.lanes|=x),uh(Be,x,A),Be=null}else Be=U.child;if(Be!==null)Be.return=U;else for(Be=U;Be!==null;){if(Be===A){Be=null;break}if(U=Be.sibling,U!==null){U.return=Be.return,Be=U;break}Be=Be.return}U=Be}}function $u(A,h,x,C){A=null;for(var U=h,G=!1;U!==null;){if(!G){if((U.flags&524288)!==0)G=!0;else if((U.flags&262144)!==0)break}if(U.tag===10){var Be=U.alternate;if(Be===null)throw Error(s(387));if(Be=Be.memoizedProps,Be!==null){var Re=U.type;us(U.pendingProps.value,Be.value)||(A!==null?A.push(Re):A=[Re])}}else if(U===me.current){if(Be=U.alternate,Be===null)throw Error(s(387));Be.memoizedState.memoizedState!==U.memoizedState.memoizedState&&(A!==null?A.push(qx):A=[qx])}U=U.return}A!==null&&fh(h,A,x,C),h.flags|=262144}function Ah(A){for(A=A.firstContext;A!==null;){if(!us(A.context._currentValue,A.memoizedValue))return!0;A=A.next}return!1}function Fl(A){Fn=A,nc=null,A=A.dependencies,A!==null&&(A.firstContext=null)}function yn(A){return hh(Fn,A)}function Zo(A,h){return Fn===null&&Fl(A),hh(A,h)}function hh(A,h){var x=h._currentValue;if(h={context:h,memoizedValue:x,next:null},nc===null){if(A===null)throw Error(s(308));nc=h,A.dependencies={lanes:0,firstContext:h},A.flags|=524288}else nc=nc.next=h;return x}var mx=typeof AbortController<"u"?AbortController:function(){var A=[],h=this.signal={aborted:!1,addEventListener:function(x,C){A.push(C)}};this.abort=function(){h.aborted=!0,A.forEach(function(x){return x()})}},bp=t.unstable_scheduleCallback,px=t.unstable_NormalPriority,vn={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dm(){return{controller:new mx,data:new Map,refCount:0}}function qf(A){A.refCount--,A.refCount===0&&bp(px,function(){A.controller.abort()})}var Yf=null,Lm=0,Md=0,ic=null;function gx(A,h){if(Yf===null){var x=Yf=[];Lm=0,Md=lj(),ic={status:"pending",value:void 0,then:function(C){x.push(C)}}}return Lm++,h.then(Mm,Mm),h}function Mm(){if(--Lm===0&&Yf!==null){ic!==null&&(ic.status="fulfilled");var A=Yf;Yf=null,Md=0,ic=null;for(var h=0;h<A.length;h++)(0,A[h])()}}function wp(A,h){var x=[],C={status:"pending",value:null,reason:null,then:function(U){x.push(U)}};return A.then(function(){C.status="fulfilled",C.value=h;for(var U=0;U<x.length;U++)(0,x[U])(h)},function(U){for(C.status="rejected",C.reason=U,U=0;U<x.length;U++)(0,x[U])(void 0)}),C}var E=ee.S;ee.S=function(A,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&gx(A,h),E!==null&&E(A,h)};var R=ve(null);function Z(){var A=R.current;return A!==null?A:Ns.pooledCache}function fe(A,h){h===null?z(R,R.current):z(R,h.pool)}function Fe(){var A=Z();return A===null?null:{parent:vn._currentValue,pool:A}}var Pe=Error(s(460)),De=Error(s(474)),Ue=Error(s(542)),$e={then:function(){}};function Xe(A){return A=A.status,A==="fulfilled"||A==="rejected"}function At(){}function Tt(A,h,x){switch(x=A[x],x===void 0?A.push(h):x!==h&&(h.then(At,At),h=x),h.status){case"fulfilled":return h.value;case"rejected":throw A=h.reason,Qt(A),A;default:if(typeof h.status=="string")h.then(At,At);else{if(A=Ns,A!==null&&100<A.shellSuspendCounter)throw Error(s(482));A=h,A.status="pending",A.then(function(C){if(h.status==="pending"){var U=h;U.status="fulfilled",U.value=C}},function(C){if(h.status==="pending"){var U=h;U.status="rejected",U.reason=C}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw A=h.reason,Qt(A),A}throw Et=h,Pe}}var Et=null;function wt(){if(Et===null)throw Error(s(459));var A=Et;return Et=null,A}function Qt(A){if(A===Pe||A===Ue)throw Error(s(483))}var Lt=!1;function ht(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gt(A,h){A=A.updateQueue,h.updateQueue===A&&(h.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,callbacks:null})}function Kt(A){return{lane:A,tag:0,payload:null,callback:null,next:null}}function Zt(A,h,x){var C=A.updateQueue;if(C===null)return null;if(C=C.shared,(ss&2)!==0){var U=C.pending;return U===null?h.next=h:(h.next=U.next,U.next=h),C.pending=h,h=_d(A),Vf(A,null,x),h}return Vc(A,C,h,x),_d(A)}function qt(A,h,x){if(h=h.updateQueue,h!==null&&(h=h.shared,(x&4194048)!==0)){var C=h.lanes;C&=A.pendingLanes,x|=C,h.lanes=x,Wt(A,x)}}function Cr(A,h){var x=A.updateQueue,C=A.alternate;if(C!==null&&(C=C.updateQueue,x===C)){var U=null,G=null;if(x=x.firstBaseUpdate,x!==null){do{var Be={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};G===null?U=G=Be:G=G.next=Be,x=x.next}while(x!==null);G===null?U=G=h:G=G.next=h}else U=G=h;x={baseState:C.baseState,firstBaseUpdate:U,lastBaseUpdate:G,shared:C.shared,callbacks:C.callbacks},A.updateQueue=x;return}A=x.lastBaseUpdate,A===null?x.firstBaseUpdate=h:A.next=h,x.lastBaseUpdate=h}var xr=!1;function Ur(){if(xr){var A=ic;if(A!==null)throw A}}function vr(A,h,x,C){xr=!1;var U=A.updateQueue;Lt=!1;var G=U.firstBaseUpdate,Be=U.lastBaseUpdate,Re=U.shared.pending;if(Re!==null){U.shared.pending=null;var lt=Re,kt=lt.next;lt.next=null,Be===null?G=kt:Be.next=kt,Be=lt;var Xt=A.alternate;Xt!==null&&(Xt=Xt.updateQueue,Re=Xt.lastBaseUpdate,Re!==Be&&(Re===null?Xt.firstBaseUpdate=kt:Re.next=kt,Xt.lastBaseUpdate=lt))}if(G!==null){var ar=U.baseState;Be=0,Xt=kt=lt=null,Re=G;do{var Pt=Re.lane&-536870913,Dt=Pt!==Re.lane;if(Dt?(La&Pt)===Pt:(C&Pt)===Pt){Pt!==0&&Pt===Md&&(xr=!0),Xt!==null&&(Xt=Xt.next={lane:0,tag:Re.tag,payload:Re.payload,callback:null,next:null});e:{var sa=A,Xr=Re;Pt=h;var Cs=x;switch(Xr.tag){case 1:if(sa=Xr.payload,typeof sa=="function"){ar=sa.call(Cs,ar,Pt);break e}ar=sa;break e;case 3:sa.flags=sa.flags&-65537|128;case 0:if(sa=Xr.payload,Pt=typeof sa=="function"?sa.call(Cs,ar,Pt):sa,Pt==null)break e;ar=u({},ar,Pt);break e;case 2:Lt=!0}}Pt=Re.callback,Pt!==null&&(A.flags|=64,Dt&&(A.flags|=8192),Dt=U.callbacks,Dt===null?U.callbacks=[Pt]:Dt.push(Pt))}else Dt={lane:Pt,tag:Re.tag,payload:Re.payload,callback:Re.callback,next:null},Xt===null?(kt=Xt=Dt,lt=ar):Xt=Xt.next=Dt,Be|=Pt;if(Re=Re.next,Re===null){if(Re=U.shared.pending,Re===null)break;Dt=Re,Re=Dt.next,Dt.next=null,U.lastBaseUpdate=Dt,U.shared.pending=null}}while(!0);Xt===null&&(lt=ar),U.baseState=lt,U.firstBaseUpdate=kt,U.lastBaseUpdate=Xt,G===null&&(U.shared.lanes=0),rf|=Be,A.lanes=Be,A.memoizedState=ar}}function Da(A,h){if(typeof A!="function")throw Error(s(191,A));A.call(h)}function Qa(A,h){var x=A.callbacks;if(x!==null)for(A.callbacks=null,A=0;A<x.length;A++)Da(x[A],h)}var fa=ve(null),sr=ve(0);function Wa(A,h){A=nu,z(sr,A),z(fa,h),nu=A|h.baseLanes}function Ha(){z(sr,nu),z(fa,fa.current)}function Zr(){nu=sr.current,_(fa),_(sr)}var wa=0,Qr=null,Wr=null,xa=null,Ca=!1,In=!1,bn=!1,Js=0,rs=0,zs=null,Mi=0;function $a(){throw Error(s(321))}function Zs(A,h){if(h===null)return!1;for(var x=0;x<h.length&&x<A.length;x++)if(!us(A[x],h[x]))return!1;return!0}function el(A,h,x,C,U,G){return wa=G,Qr=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,ee.H=A===null||A.memoizedState===null?wv:jv,bn=!1,G=x(C,U),bn=!1,In&&(G=Ud(h,x,C,U)),Il(A),G}function Il(A){ee.H=Fp;var h=Wr!==null&&Wr.next!==null;if(wa=0,xa=Wr=Qr=null,Ca=!1,rs=0,zs=null,h)throw Error(s(300));A===null||ti||(A=A.dependencies,A!==null&&Ah(A)&&(ti=!0))}function Ud(A,h,x,C){Qr=A;var U=0;do{if(In&&(zs=null),rs=0,In=!1,25<=U)throw Error(s(301));if(U+=1,xa=Wr=null,A.updateQueue!=null){var G=A.updateQueue;G.lastEffect=null,G.events=null,G.stores=null,G.memoCache!=null&&(G.memoCache.index=0)}ee.H=Ip,G=h(x,C)}while(In);return G}function qc(){var A=ee.H,h=A.useState()[0];return h=typeof h.then=="function"?oc(h):h,A=A.useState()[0],(Wr!==null?Wr.memoizedState:null)!==A&&(Qr.flags|=1024),h}function js(){var A=Js!==0;return Js=0,A}function Xf(A,h,x){h.updateQueue=A.updateQueue,h.flags&=-2053,A.lanes&=~x}function mh(A){if(Ca){for(A=A.memoizedState;A!==null;){var h=A.queue;h!==null&&(h.pending=null),A=A.next}Ca=!1}wa=0,xa=Wr=Qr=null,In=!1,rs=Js=0,zs=null}function xi(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xa===null?Qr.memoizedState=xa=A:xa=xa.next=A,xa}function Ps(){if(Wr===null){var A=Qr.alternate;A=A!==null?A.memoizedState:null}else A=Wr.next;var h=xa===null?Qr.memoizedState:xa.next;if(h!==null)xa=h,Wr=A;else{if(A===null)throw Qr.alternate===null?Error(s(467)):Error(s(310));Wr=A,A={memoizedState:Wr.memoizedState,baseState:Wr.baseState,baseQueue:Wr.baseQueue,queue:Wr.queue,next:null},xa===null?Qr.memoizedState=xa=A:xa=xa.next=A}return xa}function Rd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oc(A){var h=rs;return rs+=1,zs===null&&(zs=[]),A=Tt(zs,A,h),h=Qr,(xa===null?h.memoizedState:xa.next)===null&&(h=h.alternate,ee.H=h===null||h.memoizedState===null?wv:jv),A}function Ui(A){if(A!==null&&typeof A=="object"){if(typeof A.then=="function")return oc(A);if(A.$$typeof===S)return yn(A)}throw Error(s(438,String(A)))}function Yc(A){var h=null,x=Qr.updateQueue;if(x!==null&&(h=x.memoCache),h==null){var C=Qr.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(h={data:C.data.map(function(U){return U.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),x===null&&(x=Rd(),Qr.updateQueue=x),x.memoCache=h,x=h.data[h.index],x===void 0)for(x=h.data[h.index]=Array(A),C=0;C<A;C++)x[C]=Q;return h.index++,x}function Ri(A,h){return typeof h=="function"?h(A):h}function zu(A){var h=Ps();return Vu(h,Wr,A)}function Vu(A,h,x){var C=A.queue;if(C===null)throw Error(s(311));C.lastRenderedReducer=x;var U=A.baseQueue,G=C.pending;if(G!==null){if(U!==null){var Be=U.next;U.next=G.next,G.next=Be}h.baseQueue=U=G,C.pending=null}if(G=A.baseState,U===null)A.memoizedState=G;else{h=U.next;var Re=Be=null,lt=null,kt=h,Xt=!1;do{var ar=kt.lane&-536870913;if(ar!==kt.lane?(La&ar)===ar:(wa&ar)===ar){var Pt=kt.revertLane;if(Pt===0)lt!==null&&(lt=lt.next={lane:0,revertLane:0,action:kt.action,hasEagerState:kt.hasEagerState,eagerState:kt.eagerState,next:null}),ar===Md&&(Xt=!0);else if((wa&Pt)===Pt){kt=kt.next,Pt===Md&&(Xt=!0);continue}else ar={lane:0,revertLane:kt.revertLane,action:kt.action,hasEagerState:kt.hasEagerState,eagerState:kt.eagerState,next:null},lt===null?(Re=lt=ar,Be=G):lt=lt.next=ar,Qr.lanes|=Pt,rf|=Pt;ar=kt.action,bn&&x(G,ar),G=kt.hasEagerState?kt.eagerState:x(G,ar)}else Pt={lane:ar,revertLane:kt.revertLane,action:kt.action,hasEagerState:kt.hasEagerState,eagerState:kt.eagerState,next:null},lt===null?(Re=lt=Pt,Be=G):lt=lt.next=Pt,Qr.lanes|=ar,rf|=ar;kt=kt.next}while(kt!==null&&kt!==h);if(lt===null?Be=G:lt.next=Re,!us(G,A.memoizedState)&&(ti=!0,Xt&&(x=ic,x!==null)))throw x;A.memoizedState=G,A.baseState=Be,A.baseQueue=lt,C.lastRenderedState=G}return U===null&&(C.lanes=0),[A.memoizedState,C.dispatch]}function Qd(A){var h=Ps(),x=h.queue;if(x===null)throw Error(s(311));x.lastRenderedReducer=A;var C=x.dispatch,U=x.pending,G=h.memoizedState;if(U!==null){x.pending=null;var Be=U=U.next;do G=A(G,Be.action),Be=Be.next;while(Be!==U);us(G,h.memoizedState)||(ti=!0),h.memoizedState=G,h.baseQueue===null&&(h.baseState=G),x.lastRenderedState=G}return[G,C]}function Jf(A,h,x){var C=Qr,U=Ps(),G=Ua;if(G){if(x===void 0)throw Error(s(407));x=x()}else x=h();var Be=!us((Wr||U).memoizedState,x);Be&&(U.memoizedState=x,ti=!0),U=U.queue;var Re=$d.bind(null,C,U,A);if(Wu(2048,8,Re,[A]),U.getSnapshot!==h||Be||xa!==null&&xa.memoizedState.tag&1){if(C.flags|=2048,lc(9,tA(),Hd.bind(null,C,U,x,h),null),Ns===null)throw Error(s(349));G||(wa&124)!==0||Ku(C,h,x)}return x}function Ku(A,h,x){A.flags|=16384,A={getSnapshot:h,value:x},h=Qr.updateQueue,h===null?(h=Rd(),Qr.updateQueue=h,h.stores=[A]):(x=h.stores,x===null?h.stores=[A]:x.push(A))}function Hd(A,h,x,C){h.value=x,h.getSnapshot=C,Um(h)&&jp(A)}function $d(A,h,x){return x(function(){Um(h)&&jp(A)})}function Um(A){var h=A.getSnapshot;A=A.value;try{var x=h();return!us(A,x)}catch{return!0}}function jp(A){var h=ec(A,2);h!==null&&pr(h,A,2)}function Gu(A){var h=xi();if(typeof A=="function"){var x=A;if(A=x(),bn){nt(!0);try{x()}finally{nt(!1)}}}return h.memoizedState=h.baseState=A,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:A},h}function tl(A,h,x,C){return A.baseState=x,Vu(A,Wr,typeof C=="function"?C:Ri)}function Rm(A,h,x,C,U){if(qm(A))throw Error(s(485));if(A=h.action,A!==null){var G={payload:U,action:A,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Be){G.listeners.push(Be)}};ee.T!==null?x(!0):G.isTransition=!1,C(G),x=h.pending,x===null?(G.next=h.pending=G,Qm(h,G)):(G.next=x.next,h.pending=x.next=G)}}function Qm(A,h){var x=h.action,C=h.payload,U=A.state;if(h.isTransition){var G=ee.T,Be={};ee.T=Be;try{var Re=x(U,C),lt=ee.S;lt!==null&&lt(Be,Re),Hm(A,h,Re)}catch(kt){zd(A,h,kt)}finally{ee.T=G}}else try{G=x(U,C),Hm(A,h,G)}catch(kt){zd(A,h,kt)}}function Hm(A,h,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(C){ph(A,h,C)},function(C){return zd(A,h,C)}):ph(A,h,x)}function ph(A,h,x){h.status="fulfilled",h.value=x,Zf(h),A.state=x,h=A.pending,h!==null&&(x=h.next,x===h?A.pending=null:(x=x.next,h.next=x,Qm(A,x)))}function zd(A,h,x){var C=A.pending;if(A.pending=null,C!==null){C=C.next;do h.status="rejected",h.reason=x,Zf(h),h=h.next;while(h!==C)}A.action=null}function Zf(A){A=A.listeners;for(var h=0;h<A.length;h++)(0,A[h])()}function $m(A,h){return h}function eA(A,h){if(Ua){var x=Ns.formState;if(x!==null){e:{var C=Qr;if(Ua){if($s){t:{for(var U=$s,G=El;U.nodeType!==8;){if(!G){U=null;break t}if(U=lu(U.nextSibling),U===null){U=null;break t}}G=U.data,U=G==="F!"||G==="F"?U:null}if(U){$s=lu(U.nextSibling),C=U.data==="F!";break e}}Ld(C)}C=!1}C&&(h=x[0])}}return x=xi(),x.memoizedState=x.baseState=h,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$m,lastRenderedState:h},x.queue=C,x=xx.bind(null,Qr,C),C.dispatch=x,C=Gu(!1),G=Ep.bind(null,Qr,!1,C.queue),C=xi(),U={state:h,dispatch:null,action:A,pending:null},C.queue=U,x=Rm.bind(null,Qr,U,G,x),U.dispatch=x,C.memoizedState=A,[h,x,!1]}function gh(A){var h=Ps();return Rn(h,Wr,A)}function Rn(A,h,x){if(h=Vu(A,h,$m)[0],A=zu(Ri)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var C=oc(h)}catch(Be){throw Be===Pe?Ue:Be}else C=h;h=Ps();var U=h.queue,G=U.dispatch;return x!==h.memoizedState&&(Qr.flags|=2048,lc(9,tA(),xh.bind(null,U,x),null)),[C,G,A]}function xh(A,h){A.action=h}function Np(A){var h=Ps(),x=Wr;if(x!==null)return Rn(h,x,A);Ps(),h=h.memoizedState,x=Ps();var C=x.queue.dispatch;return x.memoizedState=A,[h,C,!1]}function lc(A,h,x,C){return A={tag:A,create:x,deps:C,inst:h,next:null},h=Qr.updateQueue,h===null&&(h=Rd(),Qr.updateQueue=h),x=h.lastEffect,x===null?h.lastEffect=A.next=A:(C=x.next,x.next=A,A.next=C,h.lastEffect=A),A}function tA(){return{destroy:void 0,resource:void 0}}function yh(){return Ps().memoizedState}function rl(A,h,x,C){var U=xi();C=C===void 0?null:C,Qr.flags|=A,U.memoizedState=lc(1|h,tA(),x,C)}function Wu(A,h,x,C){var U=Ps();C=C===void 0?null:C;var G=U.memoizedState.inst;Wr!==null&&C!==null&&Zs(C,Wr.memoizedState.deps)?U.memoizedState=lc(h,G,x,C):(Qr.flags|=A,U.memoizedState=lc(1|h,G,x,C))}function zm(A,h){rl(8390656,8,A,h)}function Sp(A,h){Wu(2048,8,A,h)}function Vm(A,h){return Wu(4,2,A,h)}function Xc(A,h){return Wu(4,4,A,h)}function Cp(A,h){if(typeof h=="function"){A=A();var x=h(A);return function(){typeof x=="function"?x():h(null)}}if(h!=null)return A=A(),h.current=A,function(){h.current=null}}function rA(A,h,x){x=x!=null?x.concat([A]):null,Wu(4,4,Cp.bind(null,h,A),x)}function vh(){}function wn(A,h){var x=Ps();h=h===void 0?null:h;var C=x.memoizedState;return h!==null&&Zs(h,C[1])?C[0]:(x.memoizedState=[A,h],A)}function qu(A,h){var x=Ps();h=h===void 0?null:h;var C=x.memoizedState;if(h!==null&&Zs(h,C[1]))return C[0];if(C=A(),bn){nt(!0);try{A()}finally{nt(!1)}}return x.memoizedState=[C,h],C}function Vd(A,h,x){return x===void 0||(wa&1073741824)!==0?A.memoizedState=h:(A.memoizedState=x,A=hr(),Qr.lanes|=A,rf|=A,x)}function bh(A,h,x,C){return us(x,h)?x:fa.current!==null?(A=Vd(A,x,C),us(A,h)||(ti=!0),A):(wa&42)===0?(ti=!0,A.memoizedState=x):(A=hr(),Qr.lanes|=A,rf|=A,h)}function Yu(A,h,x,C,U){var G=le.p;le.p=G!==0&&8>G?G:8;var Be=ee.T,Re={};ee.T=Re,Ep(A,!1,h,x);try{var lt=U(),kt=ee.S;if(kt!==null&&kt(Re,lt),lt!==null&&typeof lt=="object"&&typeof lt.then=="function"){var Xt=wp(lt,C);wh(A,h,Xt,br(A))}else wh(A,h,C,br(A))}catch(ar){wh(A,h,{then:function(){},status:"rejected",reason:ar},br())}finally{le.p=G,ee.T=Be}}function al(){}function kl(A,h,x,C){if(A.tag!==5)throw Error(s(476));var U=cc(A).queue;Yu(A,U,h,Ae,x===null?al:function(){return aA(A),x(C)})}function cc(A){var h=A.memoizedState;if(h!==null)return h;h={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:Ae},next:null};var x={};return h.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:x},next:null},A.memoizedState=h,A=A.alternate,A!==null&&(A.memoizedState=h),h}function aA(A){var h=cc(A).next.queue;wh(A,h,{},br())}function sA(){return yn(qx)}function Km(){return Ps().memoizedState}function Bp(){return Ps().memoizedState}function Gm(A){for(var h=A.return;h!==null;){switch(h.tag){case 24:case 3:var x=br();A=Kt(x);var C=Zt(h,A,x);C!==null&&(pr(C,h,x),qt(C,h,x)),h={cache:Dm()},A.payload=h;return}h=h.return}}function Wm(A,h,x){var C=br();x={lane:C,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},qm(A)?Tp(h,x):(x=Bl(A,h,x,C),x!==null&&(pr(x,A,C),bv(x,h,C)))}function xx(A,h,x){var C=br();wh(A,h,x,C)}function wh(A,h,x,C){var U={lane:C,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(qm(A))Tp(h,U);else{var G=A.alternate;if(A.lanes===0&&(G===null||G.lanes===0)&&(G=h.lastRenderedReducer,G!==null))try{var Be=h.lastRenderedState,Re=G(Be,x);if(U.hasEagerState=!0,U.eagerState=Re,us(Re,Be))return Vc(A,h,U,0),Ns===null&&No(),!1}catch{}finally{}if(x=Bl(A,h,U,C),x!==null)return pr(x,A,C),bv(x,h,C),!0}return!1}function Ep(A,h,x,C){if(C={lane:2,revertLane:lj(),action:C,hasEagerState:!1,eagerState:null,next:null},qm(A)){if(h)throw Error(s(479))}else h=Bl(A,x,C,2),h!==null&&pr(h,A,2)}function qm(A){var h=A.alternate;return A===Qr||h!==null&&h===Qr}function Tp(A,h){In=Ca=!0;var x=A.pending;x===null?h.next=h:(h.next=x.next,x.next=h),A.pending=h}function bv(A,h,x){if((x&4194048)!==0){var C=h.lanes;C&=A.pendingLanes,x|=C,h.lanes=x,Wt(A,x)}}var Fp={readContext:yn,use:Ui,useCallback:$a,useContext:$a,useEffect:$a,useImperativeHandle:$a,useLayoutEffect:$a,useInsertionEffect:$a,useMemo:$a,useReducer:$a,useRef:$a,useState:$a,useDebugValue:$a,useDeferredValue:$a,useTransition:$a,useSyncExternalStore:$a,useId:$a,useHostTransitionStatus:$a,useFormState:$a,useActionState:$a,useOptimistic:$a,useMemoCache:$a,useCacheRefresh:$a},wv={readContext:yn,use:Ui,useCallback:function(A,h){return xi().memoizedState=[A,h===void 0?null:h],A},useContext:yn,useEffect:zm,useImperativeHandle:function(A,h,x){x=x!=null?x.concat([A]):null,rl(4194308,4,Cp.bind(null,h,A),x)},useLayoutEffect:function(A,h){return rl(4194308,4,A,h)},useInsertionEffect:function(A,h){rl(4,2,A,h)},useMemo:function(A,h){var x=xi();h=h===void 0?null:h;var C=A();if(bn){nt(!0);try{A()}finally{nt(!1)}}return x.memoizedState=[C,h],C},useReducer:function(A,h,x){var C=xi();if(x!==void 0){var U=x(h);if(bn){nt(!0);try{x(h)}finally{nt(!1)}}}else U=h;return C.memoizedState=C.baseState=U,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:U},C.queue=A,A=A.dispatch=Wm.bind(null,Qr,A),[C.memoizedState,A]},useRef:function(A){var h=xi();return A={current:A},h.memoizedState=A},useState:function(A){A=Gu(A);var h=A.queue,x=xx.bind(null,Qr,h);return h.dispatch=x,[A.memoizedState,x]},useDebugValue:vh,useDeferredValue:function(A,h){var x=xi();return Vd(x,A,h)},useTransition:function(){var A=Gu(!1);return A=Yu.bind(null,Qr,A.queue,!0,!1),xi().memoizedState=A,[!1,A]},useSyncExternalStore:function(A,h,x){var C=Qr,U=xi();if(Ua){if(x===void 0)throw Error(s(407));x=x()}else{if(x=h(),Ns===null)throw Error(s(349));(La&124)!==0||Ku(C,h,x)}U.memoizedState=x;var G={value:x,getSnapshot:h};return U.queue=G,zm($d.bind(null,C,G,A),[A]),C.flags|=2048,lc(9,tA(),Hd.bind(null,C,G,x,h),null),x},useId:function(){var A=xi(),h=Ns.identifierPrefix;if(Ua){var x=ac,C=Eo;x=(C&~(1<<32-xt(C)-1)).toString(32)+x,h=""+h+"R"+x,x=Js++,0<x&&(h+="H"+x.toString(32)),h+=""}else x=Mi++,h=""+h+"r"+x.toString(32)+"";return A.memoizedState=h},useHostTransitionStatus:sA,useFormState:eA,useActionState:eA,useOptimistic:function(A){var h=xi();h.memoizedState=h.baseState=A;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=x,h=Ep.bind(null,Qr,!0,x),x.dispatch=h,[A,h]},useMemoCache:Yc,useCacheRefresh:function(){return xi().memoizedState=Gm.bind(null,Qr)}},jv={readContext:yn,use:Ui,useCallback:wn,useContext:yn,useEffect:Sp,useImperativeHandle:rA,useInsertionEffect:Vm,useLayoutEffect:Xc,useMemo:qu,useReducer:zu,useRef:yh,useState:function(){return zu(Ri)},useDebugValue:vh,useDeferredValue:function(A,h){var x=Ps();return bh(x,Wr.memoizedState,A,h)},useTransition:function(){var A=zu(Ri)[0],h=Ps().memoizedState;return[typeof A=="boolean"?A:oc(A),h]},useSyncExternalStore:Jf,useId:Km,useHostTransitionStatus:sA,useFormState:gh,useActionState:gh,useOptimistic:function(A,h){var x=Ps();return tl(x,Wr,A,h)},useMemoCache:Yc,useCacheRefresh:Bp},Ip={readContext:yn,use:Ui,useCallback:wn,useContext:yn,useEffect:Sp,useImperativeHandle:rA,useInsertionEffect:Vm,useLayoutEffect:Xc,useMemo:qu,useReducer:Qd,useRef:yh,useState:function(){return Qd(Ri)},useDebugValue:vh,useDeferredValue:function(A,h){var x=Ps();return Wr===null?Vd(x,A,h):bh(x,Wr.memoizedState,A,h)},useTransition:function(){var A=Qd(Ri)[0],h=Ps().memoizedState;return[typeof A=="boolean"?A:oc(A),h]},useSyncExternalStore:Jf,useId:Km,useHostTransitionStatus:sA,useFormState:Np,useActionState:Np,useOptimistic:function(A,h){var x=Ps();return Wr!==null?tl(x,Wr,A,h):(x.baseState=A,[A,x.queue.dispatch])},useMemoCache:Yc,useCacheRefresh:Bp},Kd=null,Ym=0;function Xm(A){var h=Ym;return Ym+=1,Kd===null&&(Kd=[]),Tt(Kd,A,h)}function nA(A,h){h=h.props.ref,A.ref=h!==void 0?h:null}function Jm(A,h){throw h.$$typeof===m?Error(s(525)):(A=Object.prototype.toString.call(h),Error(s(31,A==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":A)))}function yx(A){var h=A._init;return h(A._payload)}function vx(A){function h(Nt,pt){if(A){var Ft=Nt.deletions;Ft===null?(Nt.deletions=[pt],Nt.flags|=16):Ft.push(pt)}}function x(Nt,pt){if(!A)return null;for(;pt!==null;)h(Nt,pt),pt=pt.sibling;return null}function C(Nt){for(var pt=new Map;Nt!==null;)Nt.key!==null?pt.set(Nt.key,Nt):pt.set(Nt.index,Nt),Nt=Nt.sibling;return pt}function U(Nt,pt){return Nt=pi(Nt,pt),Nt.index=0,Nt.sibling=null,Nt}function G(Nt,pt,Ft){return Nt.index=Ft,A?(Ft=Nt.alternate,Ft!==null?(Ft=Ft.index,Ft<pt?(Nt.flags|=67108866,pt):Ft):(Nt.flags|=67108866,pt)):(Nt.flags|=1048576,pt)}function Be(Nt){return A&&Nt.alternate===null&&(Nt.flags|=67108866),Nt}function Re(Nt,pt,Ft,er){return pt===null||pt.tag!==6?(pt=ch(Ft,Nt.mode,er),pt.return=Nt,pt):(pt=U(pt,Ft),pt.return=Nt,pt)}function lt(Nt,pt,Ft,er){var Or=Ft.type;return Or===v?Xt(Nt,pt,Ft.props.children,er,Ft.key):pt!==null&&(pt.elementType===Or||typeof Or=="object"&&Or!==null&&Or.$$typeof===k&&yx(Or)===pt.type)?(pt=U(pt,Ft.props),nA(pt,Ft),pt.return=Nt,pt):(pt=Pd(Ft.type,Ft.key,Ft.props,null,Nt.mode,er),nA(pt,Ft),pt.return=Nt,pt)}function kt(Nt,pt,Ft,er){return pt===null||pt.tag!==4||pt.stateNode.containerInfo!==Ft.containerInfo||pt.stateNode.implementation!==Ft.implementation?(pt=Gf(Ft,Nt.mode,er),pt.return=Nt,pt):(pt=U(pt,Ft.children||[]),pt.return=Nt,pt)}function Xt(Nt,pt,Ft,er,Or){return pt===null||pt.tag!==7?(pt=Co(Ft,Nt.mode,er,Or),pt.return=Nt,pt):(pt=U(pt,Ft),pt.return=Nt,pt)}function ar(Nt,pt,Ft){if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return pt=ch(""+pt,Nt.mode,Ft),pt.return=Nt,pt;if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case p:return Ft=Pd(pt.type,pt.key,pt.props,null,Nt.mode,Ft),nA(Ft,pt),Ft.return=Nt,Ft;case g:return pt=Gf(pt,Nt.mode,Ft),pt.return=Nt,pt;case k:var er=pt._init;return pt=er(pt._payload),ar(Nt,pt,Ft)}if(re(pt)||M(pt))return pt=Co(pt,Nt.mode,Ft,null),pt.return=Nt,pt;if(typeof pt.then=="function")return ar(Nt,Xm(pt),Ft);if(pt.$$typeof===S)return ar(Nt,Zo(Nt,pt),Ft);Jm(Nt,pt)}return null}function Pt(Nt,pt,Ft,er){var Or=pt!==null?pt.key:null;if(typeof Ft=="string"&&Ft!==""||typeof Ft=="number"||typeof Ft=="bigint")return Or!==null?null:Re(Nt,pt,""+Ft,er);if(typeof Ft=="object"&&Ft!==null){switch(Ft.$$typeof){case p:return Ft.key===Or?lt(Nt,pt,Ft,er):null;case g:return Ft.key===Or?kt(Nt,pt,Ft,er):null;case k:return Or=Ft._init,Ft=Or(Ft._payload),Pt(Nt,pt,Ft,er)}if(re(Ft)||M(Ft))return Or!==null?null:Xt(Nt,pt,Ft,er,null);if(typeof Ft.then=="function")return Pt(Nt,pt,Xm(Ft),er);if(Ft.$$typeof===S)return Pt(Nt,pt,Zo(Nt,Ft),er);Jm(Nt,Ft)}return null}function Dt(Nt,pt,Ft,er,Or){if(typeof er=="string"&&er!==""||typeof er=="number"||typeof er=="bigint")return Nt=Nt.get(Ft)||null,Re(pt,Nt,""+er,Or);if(typeof er=="object"&&er!==null){switch(er.$$typeof){case p:return Nt=Nt.get(er.key===null?Ft:er.key)||null,lt(pt,Nt,er,Or);case g:return Nt=Nt.get(er.key===null?Ft:er.key)||null,kt(pt,Nt,er,Or);case k:var Ba=er._init;return er=Ba(er._payload),Dt(Nt,pt,Ft,er,Or)}if(re(er)||M(er))return Nt=Nt.get(Ft)||null,Xt(pt,Nt,er,Or,null);if(typeof er.then=="function")return Dt(Nt,pt,Ft,Xm(er),Or);if(er.$$typeof===S)return Dt(Nt,pt,Ft,Zo(pt,er),Or);Jm(pt,er)}return null}function sa(Nt,pt,Ft,er){for(var Or=null,Ba=null,Rr=pt,ea=pt=0,$i=null;Rr!==null&&ea<Ft.length;ea++){Rr.index>ea?($i=Rr,Rr=null):$i=Rr.sibling;var Ya=Pt(Nt,Rr,Ft[ea],er);if(Ya===null){Rr===null&&(Rr=$i);break}A&&Rr&&Ya.alternate===null&&h(Nt,Rr),pt=G(Ya,pt,ea),Ba===null?Or=Ya:Ba.sibling=Ya,Ba=Ya,Rr=$i}if(ea===Ft.length)return x(Nt,Rr),Ua&&Dd(Nt,ea),Or;if(Rr===null){for(;ea<Ft.length;ea++)Rr=ar(Nt,Ft[ea],er),Rr!==null&&(pt=G(Rr,pt,ea),Ba===null?Or=Rr:Ba.sibling=Rr,Ba=Rr);return Ua&&Dd(Nt,ea),Or}for(Rr=C(Rr);ea<Ft.length;ea++)$i=Dt(Rr,Nt,ea,Ft[ea],er),$i!==null&&(A&&$i.alternate!==null&&Rr.delete($i.key===null?ea:$i.key),pt=G($i,pt,ea),Ba===null?Or=$i:Ba.sibling=$i,Ba=$i);return A&&Rr.forEach(function(Mh){return h(Nt,Mh)}),Ua&&Dd(Nt,ea),Or}function Xr(Nt,pt,Ft,er){if(Ft==null)throw Error(s(151));for(var Or=null,Ba=null,Rr=pt,ea=pt=0,$i=null,Ya=Ft.next();Rr!==null&&!Ya.done;ea++,Ya=Ft.next()){Rr.index>ea?($i=Rr,Rr=null):$i=Rr.sibling;var Mh=Pt(Nt,Rr,Ya.value,er);if(Mh===null){Rr===null&&(Rr=$i);break}A&&Rr&&Mh.alternate===null&&h(Nt,Rr),pt=G(Mh,pt,ea),Ba===null?Or=Mh:Ba.sibling=Mh,Ba=Mh,Rr=$i}if(Ya.done)return x(Nt,Rr),Ua&&Dd(Nt,ea),Or;if(Rr===null){for(;!Ya.done;ea++,Ya=Ft.next())Ya=ar(Nt,Ya.value,er),Ya!==null&&(pt=G(Ya,pt,ea),Ba===null?Or=Ya:Ba.sibling=Ya,Ba=Ya);return Ua&&Dd(Nt,ea),Or}for(Rr=C(Rr);!Ya.done;ea++,Ya=Ft.next())Ya=Dt(Rr,Nt,ea,Ya.value,er),Ya!==null&&(A&&Ya.alternate!==null&&Rr.delete(Ya.key===null?ea:Ya.key),pt=G(Ya,pt,ea),Ba===null?Or=Ya:Ba.sibling=Ya,Ba=Ya);return A&&Rr.forEach(function(sW){return h(Nt,sW)}),Ua&&Dd(Nt,ea),Or}function Cs(Nt,pt,Ft,er){if(typeof Ft=="object"&&Ft!==null&&Ft.type===v&&Ft.key===null&&(Ft=Ft.props.children),typeof Ft=="object"&&Ft!==null){switch(Ft.$$typeof){case p:e:{for(var Or=Ft.key;pt!==null;){if(pt.key===Or){if(Or=Ft.type,Or===v){if(pt.tag===7){x(Nt,pt.sibling),er=U(pt,Ft.props.children),er.return=Nt,Nt=er;break e}}else if(pt.elementType===Or||typeof Or=="object"&&Or!==null&&Or.$$typeof===k&&yx(Or)===pt.type){x(Nt,pt.sibling),er=U(pt,Ft.props),nA(er,Ft),er.return=Nt,Nt=er;break e}x(Nt,pt);break}else h(Nt,pt);pt=pt.sibling}Ft.type===v?(er=Co(Ft.props.children,Nt.mode,er,Ft.key),er.return=Nt,Nt=er):(er=Pd(Ft.type,Ft.key,Ft.props,null,Nt.mode,er),nA(er,Ft),er.return=Nt,Nt=er)}return Be(Nt);case g:e:{for(Or=Ft.key;pt!==null;){if(pt.key===Or)if(pt.tag===4&&pt.stateNode.containerInfo===Ft.containerInfo&&pt.stateNode.implementation===Ft.implementation){x(Nt,pt.sibling),er=U(pt,Ft.children||[]),er.return=Nt,Nt=er;break e}else{x(Nt,pt);break}else h(Nt,pt);pt=pt.sibling}er=Gf(Ft,Nt.mode,er),er.return=Nt,Nt=er}return Be(Nt);case k:return Or=Ft._init,Ft=Or(Ft._payload),Cs(Nt,pt,Ft,er)}if(re(Ft))return sa(Nt,pt,Ft,er);if(M(Ft)){if(Or=M(Ft),typeof Or!="function")throw Error(s(150));return Ft=Or.call(Ft),Xr(Nt,pt,Ft,er)}if(typeof Ft.then=="function")return Cs(Nt,pt,Xm(Ft),er);if(Ft.$$typeof===S)return Cs(Nt,pt,Zo(Nt,Ft),er);Jm(Nt,Ft)}return typeof Ft=="string"&&Ft!==""||typeof Ft=="number"||typeof Ft=="bigint"?(Ft=""+Ft,pt!==null&&pt.tag===6?(x(Nt,pt.sibling),er=U(pt,Ft),er.return=Nt,Nt=er):(x(Nt,pt),er=ch(Ft,Nt.mode,er),er.return=Nt,Nt=er),Be(Nt)):x(Nt,pt)}return function(Nt,pt,Ft,er){try{Ym=0;var Or=Cs(Nt,pt,Ft,er);return Kd=null,Or}catch(Rr){if(Rr===Pe||Rr===Ue)throw Rr;var Ba=Zn(29,Rr,null,Nt.mode);return Ba.lanes=er,Ba.return=Nt,Ba}finally{}}}var jh=vx(!0),Zm=vx(!1),sl=ve(null),dc=null;function Xu(A){var h=A.alternate;z(jn,jn.current&1),z(sl,A),dc===null&&(h===null||fa.current!==null||h.memoizedState!==null)&&(dc=A)}function Nv(A){if(A.tag===22){if(z(jn,jn.current),z(sl,A),dc===null){var h=A.alternate;h!==null&&h.memoizedState!==null&&(dc=A)}}else Gd()}function Gd(){z(jn,jn.current),z(sl,sl.current)}function To(A){_(sl),dc===A&&(dc=null),_(jn)}var jn=ve(0);function iA(A){for(var h=A;h!==null;){if(h.tag===13){var x=h.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||vj(x)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===A)break;for(;h.sibling===null;){if(h.return===null||h.return===A)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function bx(A,h,x,C){h=A.memoizedState,x=x(C,h),x=x==null?h:u({},h,x),A.memoizedState=x,A.lanes===0&&(A.updateQueue.baseState=x)}var wx={enqueueSetState:function(A,h,x){A=A._reactInternals;var C=br(),U=Kt(C);U.payload=h,x!=null&&(U.callback=x),h=Zt(A,U,C),h!==null&&(pr(h,A,C),qt(h,A,C))},enqueueReplaceState:function(A,h,x){A=A._reactInternals;var C=br(),U=Kt(C);U.tag=1,U.payload=h,x!=null&&(U.callback=x),h=Zt(A,U,C),h!==null&&(pr(h,A,C),qt(h,A,C))},enqueueForceUpdate:function(A,h){A=A._reactInternals;var x=br(),C=Kt(x);C.tag=2,h!=null&&(C.callback=h),h=Zt(A,C,x),h!==null&&(pr(h,A,x),qt(h,A,x))}};function Sv(A,h,x,C,U,G,Be){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(C,G,Be):h.prototype&&h.prototype.isPureReactComponent?!hi(x,C)||!hi(U,G):!0}function Cv(A,h,x,C){A=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(x,C),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(x,C),h.state!==A&&wx.enqueueReplaceState(h,h.state,null)}function Ju(A,h){var x=h;if("ref"in h){x={};for(var C in h)C!=="ref"&&(x[C]=h[C])}if(A=A.defaultProps){x===h&&(x=u({},x));for(var U in A)x[U]===void 0&&(x[U]=A[U])}return x}var Nh=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function jx(A){Nh(A)}function Nx(A){console.error(A)}function kp(A){Nh(A)}function e0(A,h){try{var x=A.onUncaughtError;x(h.value,{componentStack:h.stack})}catch(C){setTimeout(function(){throw C})}}function Sx(A,h,x){try{var C=A.onCaughtError;C(x.value,{componentStack:x.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(U){setTimeout(function(){throw U})}}function Cx(A,h,x){return x=Kt(x),x.tag=3,x.payload={element:null},x.callback=function(){e0(A,h)},x}function t0(A){return A=Kt(A),A.tag=3,A}function r0(A,h,x,C){var U=x.type.getDerivedStateFromError;if(typeof U=="function"){var G=C.value;A.payload=function(){return U(G)},A.callback=function(){Sx(h,x,C)}}var Be=x.stateNode;Be!==null&&typeof Be.componentDidCatch=="function"&&(A.callback=function(){Sx(h,x,C),typeof U!="function"&&(D===null?D=new Set([this]):D.add(this));var Re=C.stack;this.componentDidCatch(C.value,{componentStack:Re!==null?Re:""})})}function Bv(A,h,x,C,U){if(x.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(h=x.alternate,h!==null&&$u(h,x,U,!0),x=sl.current,x!==null){switch(x.tag){case 13:return dc===null?un():x.alternate===null&&dn===0&&(dn=3),x.flags&=-257,x.flags|=65536,x.lanes=U,C===$e?x.flags|=16384:(h=x.updateQueue,h===null?x.updateQueue=new Set([C]):h.add(C),nj(A,C,U)),!1;case 22:return x.flags|=65536,C===$e?x.flags|=16384:(h=x.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([C])},x.updateQueue=h):(x=h.retryQueue,x===null?h.retryQueue=new Set([C]):x.add(C)),nj(A,C,U)),!1}throw Error(s(435,x.tag))}return nj(A,C,U),un(),!1}if(Ua)return h=sl.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=U,C!==Om&&(A=Error(s(422),{cause:C}),Hu(Aa(A,x)))):(C!==Om&&(h=Error(s(423),{cause:C}),Hu(Aa(h,x))),A=A.current.alternate,A.flags|=65536,U&=-U,A.lanes|=U,C=Aa(C,x),U=Cx(A.stateNode,C,U),Cr(A,U),dn!==4&&(dn=2)),!1;var G=Error(s(520),{cause:C});if(G=Aa(G,x),d0===null?d0=[G]:d0.push(G),dn!==4&&(dn=2),h===null)return!0;C=Aa(C,x),x=h;do{switch(x.tag){case 3:return x.flags|=65536,A=U&-U,x.lanes|=A,A=Cx(x.stateNode,C,A),Cr(x,A),!1;case 1:if(h=x.type,G=x.stateNode,(x.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(D===null||!D.has(G))))return x.flags|=65536,U&=-U,x.lanes|=U,U=t0(U),r0(U,A,x,C),Cr(x,U),!1}x=x.return}while(x!==null);return!1}var Bx=Error(s(461)),ti=!1;function ri(A,h,x,C){h.child=A===null?Zm(h,null,x,C):jh(h,A.child,x,C)}function Ex(A,h,x,C,U){x=x.render;var G=h.ref;if("ref"in C){var Be={};for(var Re in C)Re!=="ref"&&(Be[Re]=C[Re])}else Be=C;return Fl(h),C=el(A,h,x,Be,G,U),Re=js(),A!==null&&!ti?(Xf(A,h,U),Xd(A,h,U)):(Ua&&Re&&Wf(h),h.flags|=1,ri(A,h,C,U),h.child)}function Ev(A,h,x,C,U){if(A===null){var G=x.type;return typeof G=="function"&&!Qu(G)&&G.defaultProps===void 0&&x.compare===null?(h.tag=15,h.type=G,Tv(A,h,G,C,U)):(A=Pd(x.type,null,C,h,h.mode,U),A.ref=h.ref,A.return=h,h.child=A)}if(G=A.child,!kx(A,U)){var Be=G.memoizedProps;if(x=x.compare,x=x!==null?x:hi,x(Be,C)&&A.ref===h.ref)return Xd(A,h,U)}return h.flags|=1,A=pi(G,C),A.ref=h.ref,A.return=h,h.child=A}function Tv(A,h,x,C,U){if(A!==null){var G=A.memoizedProps;if(hi(G,C)&&A.ref===h.ref)if(ti=!1,h.pendingProps=C=G,kx(A,U))(A.flags&131072)!==0&&(ti=!0);else return h.lanes=A.lanes,Xd(A,h,U)}return Wd(A,h,x,C,U)}function oA(A,h,x){var C=h.pendingProps,U=C.children,G=A!==null?A.memoizedState:null;if(C.mode==="hidden"){if((h.flags&128)!==0){if(C=G!==null?G.baseLanes|x:x,A!==null){for(U=h.child=A.child,G=0;U!==null;)G=G|U.lanes|U.childLanes,U=U.sibling;h.childLanes=G&~C}else h.childLanes=0,h.child=null;return Tx(A,h,C,x)}if((x&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},A!==null&&fe(h,G!==null?G.cachePool:null),G!==null?Wa(h,G):Ha(),Nv(h);else return h.lanes=h.childLanes=536870912,Tx(A,h,G!==null?G.baseLanes|x:x,x)}else G!==null?(fe(h,G.cachePool),Wa(h,G),Gd(),h.memoizedState=null):(A!==null&&fe(h,null),Ha(),Gd());return ri(A,h,U,x),h.child}function Tx(A,h,x,C){var U=Z();return U=U===null?null:{parent:vn._currentValue,pool:U},h.memoizedState={baseLanes:x,cachePool:U},A!==null&&fe(h,null),Ha(),Nv(h),A!==null&&$u(A,h,C,!0),null}function Vs(A,h){var x=h.ref;if(x===null)A!==null&&A.ref!==null&&(h.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(s(284));(A===null||A.ref!==x)&&(h.flags|=4194816)}}function Wd(A,h,x,C,U){return Fl(h),x=el(A,h,x,C,void 0,U),C=js(),A!==null&&!ti?(Xf(A,h,U),Xd(A,h,U)):(Ua&&C&&Wf(h),h.flags|=1,ri(A,h,x,U),h.child)}function lA(A,h,x,C,U,G){return Fl(h),h.updateQueue=null,x=Ud(h,C,x,U),Il(A),C=js(),A!==null&&!ti?(Xf(A,h,G),Xd(A,h,G)):(Ua&&C&&Wf(h),h.flags|=1,ri(A,h,x,G),h.child)}function qd(A,h,x,C,U){if(Fl(h),h.stateNode===null){var G=Tn,Be=x.contextType;typeof Be=="object"&&Be!==null&&(G=yn(Be)),G=new x(C,G),h.memoizedState=G.state!==null&&G.state!==void 0?G.state:null,G.updater=wx,h.stateNode=G,G._reactInternals=h,G=h.stateNode,G.props=C,G.state=h.memoizedState,G.refs={},ht(h),Be=x.contextType,G.context=typeof Be=="object"&&Be!==null?yn(Be):Tn,G.state=h.memoizedState,Be=x.getDerivedStateFromProps,typeof Be=="function"&&(bx(h,x,Be,C),G.state=h.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof G.getSnapshotBeforeUpdate=="function"||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(Be=G.state,typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount(),Be!==G.state&&wx.enqueueReplaceState(G,G.state,null),vr(h,C,G,U),Ur(),G.state=h.memoizedState),typeof G.componentDidMount=="function"&&(h.flags|=4194308),C=!0}else if(A===null){G=h.stateNode;var Re=h.memoizedProps,lt=Ju(x,Re);G.props=lt;var kt=G.context,Xt=x.contextType;Be=Tn,typeof Xt=="object"&&Xt!==null&&(Be=yn(Xt));var ar=x.getDerivedStateFromProps;Xt=typeof ar=="function"||typeof G.getSnapshotBeforeUpdate=="function",Re=h.pendingProps!==Re,Xt||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(Re||kt!==Be)&&Cv(h,G,C,Be),Lt=!1;var Pt=h.memoizedState;G.state=Pt,vr(h,C,G,U),Ur(),kt=h.memoizedState,Re||Pt!==kt||Lt?(typeof ar=="function"&&(bx(h,x,ar,C),kt=h.memoizedState),(lt=Lt||Sv(h,x,lt,C,Pt,kt,Be))?(Xt||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(h.flags|=4194308)):(typeof G.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=C,h.memoizedState=kt),G.props=C,G.state=kt,G.context=Be,C=lt):(typeof G.componentDidMount=="function"&&(h.flags|=4194308),C=!1)}else{G=h.stateNode,gt(A,h),Be=h.memoizedProps,Xt=Ju(x,Be),G.props=Xt,ar=h.pendingProps,Pt=G.context,kt=x.contextType,lt=Tn,typeof kt=="object"&&kt!==null&&(lt=yn(kt)),Re=x.getDerivedStateFromProps,(kt=typeof Re=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(Be!==ar||Pt!==lt)&&Cv(h,G,C,lt),Lt=!1,Pt=h.memoizedState,G.state=Pt,vr(h,C,G,U),Ur();var Dt=h.memoizedState;Be!==ar||Pt!==Dt||Lt||A!==null&&A.dependencies!==null&&Ah(A.dependencies)?(typeof Re=="function"&&(bx(h,x,Re,C),Dt=h.memoizedState),(Xt=Lt||Sv(h,x,Xt,C,Pt,Dt,lt)||A!==null&&A.dependencies!==null&&Ah(A.dependencies))?(kt||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(C,Dt,lt),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(C,Dt,lt)),typeof G.componentDidUpdate=="function"&&(h.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof G.componentDidUpdate!="function"||Be===A.memoizedProps&&Pt===A.memoizedState||(h.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||Be===A.memoizedProps&&Pt===A.memoizedState||(h.flags|=1024),h.memoizedProps=C,h.memoizedState=Dt),G.props=C,G.state=Dt,G.context=lt,C=Xt):(typeof G.componentDidUpdate!="function"||Be===A.memoizedProps&&Pt===A.memoizedState||(h.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||Be===A.memoizedProps&&Pt===A.memoizedState||(h.flags|=1024),C=!1)}return G=C,Vs(A,h),C=(h.flags&128)!==0,G||C?(G=h.stateNode,x=C&&typeof x.getDerivedStateFromError!="function"?null:G.render(),h.flags|=1,A!==null&&C?(h.child=jh(h,A.child,null,U),h.child=jh(h,null,x,U)):ri(A,h,x,U),h.memoizedState=G.state,A=h.child):A=Xd(A,h,U),A}function Yd(A,h,x,C){return ei(),h.flags|=256,ri(A,h,x,C),h.child}var cA={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uc(A){return{baseLanes:A,cachePool:Fe()}}function _p(A,h,x){return A=A!==null?A.childLanes&~x:0,h&&(A|=Pl),A}function Fx(A,h,x){var C=h.pendingProps,U=!1,G=(h.flags&128)!==0,Be;if((Be=G)||(Be=A!==null&&A.memoizedState===null?!1:(jn.current&2)!==0),Be&&(U=!0,h.flags&=-129),Be=(h.flags&32)!==0,h.flags&=-33,A===null){if(Ua){if(U?Xu(h):Gd(),Ua){var Re=$s,lt;if(lt=Re){e:{for(lt=Re,Re=El;lt.nodeType!==8;){if(!Re){Re=null;break e}if(lt=lu(lt.nextSibling),lt===null){Re=null;break e}}Re=lt}Re!==null?(h.memoizedState={dehydrated:Re,treeContext:Od!==null?{id:Eo,overflow:ac}:null,retryLane:536870912,hydrationErrors:null},lt=Zn(18,null,null,0),lt.stateNode=Re,lt.return=h,h.child=lt,xn=h,$s=null,lt=!0):lt=!1}lt||Ld(h)}if(Re=h.memoizedState,Re!==null&&(Re=Re.dehydrated,Re!==null))return vj(Re)?h.lanes=32:h.lanes=536870912,null;To(h)}return Re=C.children,C=C.fallback,U?(Gd(),U=h.mode,Re=Sh({mode:"hidden",children:Re},U),C=Co(C,U,x,null),Re.return=h,C.return=h,Re.sibling=C,h.child=Re,U=h.child,U.memoizedState=uc(x),U.childLanes=_p(A,Be,x),h.memoizedState=cA,C):(Xu(h),Pp(h,Re))}if(lt=A.memoizedState,lt!==null&&(Re=lt.dehydrated,Re!==null)){if(G)h.flags&256?(Xu(h),h.flags&=-257,h=dA(A,h,x)):h.memoizedState!==null?(Gd(),h.child=A.child,h.flags|=128,h=null):(Gd(),U=C.fallback,Re=h.mode,C=Sh({mode:"visible",children:C.children},Re),U=Co(U,Re,x,null),U.flags|=2,C.return=h,U.return=h,C.sibling=U,h.child=C,jh(h,A.child,null,x),C=h.child,C.memoizedState=uc(x),C.childLanes=_p(A,Be,x),h.memoizedState=cA,h=U);else if(Xu(h),vj(Re)){if(Be=Re.nextSibling&&Re.nextSibling.dataset,Be)var kt=Be.dgst;Be=kt,C=Error(s(419)),C.stack="",C.digest=Be,Hu({value:C,source:null,stack:null}),h=dA(A,h,x)}else if(ti||$u(A,h,x,!1),Be=(x&A.childLanes)!==0,ti||Be){if(Be=Ns,Be!==null&&(C=x&-x,C=(C&42)!==0?1:gr(C),C=(C&(Be.suspendedLanes|x))!==0?0:C,C!==0&&C!==lt.retryLane))throw lt.retryLane=C,ec(A,C),pr(Be,A,C),Bx;Re.data==="$?"||un(),h=dA(A,h,x)}else Re.data==="$?"?(h.flags|=192,h.child=A.child,h=null):(A=lt.treeContext,$s=lu(Re.nextSibling),xn=h,Ua=!0,Wc=null,El=!1,A!==null&&(Bo[to++]=Eo,Bo[to++]=ac,Bo[to++]=Od,Eo=A.id,ac=A.overflow,Od=h),h=Pp(h,C.children),h.flags|=4096);return h}return U?(Gd(),U=C.fallback,Re=h.mode,lt=A.child,kt=lt.sibling,C=pi(lt,{mode:"hidden",children:C.children}),C.subtreeFlags=lt.subtreeFlags&65011712,kt!==null?U=pi(kt,U):(U=Co(U,Re,x,null),U.flags|=2),U.return=h,C.return=h,C.sibling=U,h.child=C,C=U,U=h.child,Re=A.child.memoizedState,Re===null?Re=uc(x):(lt=Re.cachePool,lt!==null?(kt=vn._currentValue,lt=lt.parent!==kt?{parent:kt,pool:kt}:lt):lt=Fe(),Re={baseLanes:Re.baseLanes|x,cachePool:lt}),U.memoizedState=Re,U.childLanes=_p(A,Be,x),h.memoizedState=cA,C):(Xu(h),x=A.child,A=x.sibling,x=pi(x,{mode:"visible",children:C.children}),x.return=h,x.sibling=null,A!==null&&(Be=h.deletions,Be===null?(h.deletions=[A],h.flags|=16):Be.push(A)),h.child=x,h.memoizedState=null,x)}function Pp(A,h){return h=Sh({mode:"visible",children:h},A.mode),h.return=A,A.child=h}function Sh(A,h){return A=Zn(22,A,null,h),A.lanes=0,A.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},A}function dA(A,h,x){return jh(h,A.child,null,x),A=Pp(h,h.pendingProps.children),A.flags|=2,h.memoizedState=null,A}function Ix(A,h,x){A.lanes|=h;var C=A.alternate;C!==null&&(C.lanes|=h),uh(A.return,h,x)}function Op(A,h,x,C,U){var G=A.memoizedState;G===null?A.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:C,tail:x,tailMode:U}:(G.isBackwards=h,G.rendering=null,G.renderingStartTime=0,G.last=C,G.tail=x,G.tailMode=U)}function Ch(A,h,x){var C=h.pendingProps,U=C.revealOrder,G=C.tail;if(ri(A,h,C.children,x),C=jn.current,(C&2)!==0)C=C&1|2,h.flags|=128;else{if(A!==null&&(A.flags&128)!==0)e:for(A=h.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&Ix(A,x,h);else if(A.tag===19)Ix(A,x,h);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===h)break e;for(;A.sibling===null;){if(A.return===null||A.return===h)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}C&=1}switch(z(jn,C),U){case"forwards":for(x=h.child,U=null;x!==null;)A=x.alternate,A!==null&&iA(A)===null&&(U=x),x=x.sibling;x=U,x===null?(U=h.child,h.child=null):(U=x.sibling,x.sibling=null),Op(h,!1,U,x,G);break;case"backwards":for(x=null,U=h.child,h.child=null;U!==null;){if(A=U.alternate,A!==null&&iA(A)===null){h.child=U;break}A=U.sibling,U.sibling=x,x=U,U=A}Op(h,!0,x,null,G);break;case"together":Op(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Xd(A,h,x){if(A!==null&&(h.dependencies=A.dependencies),rf|=h.lanes,(x&h.childLanes)===0)if(A!==null){if($u(A,h,x,!1),(x&h.childLanes)===0)return null}else return null;if(A!==null&&h.child!==A.child)throw Error(s(153));if(h.child!==null){for(A=h.child,x=pi(A,A.pendingProps),h.child=x,x.return=h;A.sibling!==null;)A=A.sibling,x=x.sibling=pi(A,A.pendingProps),x.return=h;x.sibling=null}return h.child}function kx(A,h){return(A.lanes&h)!==0?!0:(A=A.dependencies,!!(A!==null&&Ah(A)))}function Z4(A,h,x){switch(h.tag){case 3:he(h,h.stateNode.containerInfo),Tl(h,vn,A.memoizedState.cache),ei();break;case 27:case 5:J(h);break;case 4:he(h,h.stateNode.containerInfo);break;case 10:Tl(h,h.type,h.memoizedProps.value);break;case 13:var C=h.memoizedState;if(C!==null)return C.dehydrated!==null?(Xu(h),h.flags|=128,null):(x&h.child.childLanes)!==0?Fx(A,h,x):(Xu(h),A=Xd(A,h,x),A!==null?A.sibling:null);Xu(h);break;case 19:var U=(A.flags&128)!==0;if(C=(x&h.childLanes)!==0,C||($u(A,h,x,!1),C=(x&h.childLanes)!==0),U){if(C)return Ch(A,h,x);h.flags|=128}if(U=h.memoizedState,U!==null&&(U.rendering=null,U.tail=null,U.lastEffect=null),z(jn,jn.current),C)break;return null;case 22:case 23:return h.lanes=0,oA(A,h,x);case 24:Tl(h,vn,A.memoizedState.cache)}return Xd(A,h,x)}function Fv(A,h,x){if(A!==null)if(A.memoizedProps!==h.pendingProps)ti=!0;else{if(!kx(A,x)&&(h.flags&128)===0)return ti=!1,Z4(A,h,x);ti=(A.flags&131072)!==0}else ti=!1,Ua&&(h.flags&1048576)!==0&&xp(h,dh,h.index);switch(h.lanes=0,h.tag){case 16:e:{A=h.pendingProps;var C=h.elementType,U=C._init;if(C=U(C._payload),h.type=C,typeof C=="function")Qu(C)?(A=Ju(C,A),h.tag=1,h=qd(null,h,C,A,x)):(h.tag=0,h=Wd(null,h,C,A,x));else{if(C!=null){if(U=C.$$typeof,U===B){h.tag=11,h=Ex(null,h,C,A,x);break e}else if(U===O){h.tag=14,h=Ev(null,h,C,A,x);break e}}throw h=q(C)||C,Error(s(306,h,""))}}return h;case 0:return Wd(A,h,h.type,h.pendingProps,x);case 1:return C=h.type,U=Ju(C,h.pendingProps),qd(A,h,C,U,x);case 3:e:{if(he(h,h.stateNode.containerInfo),A===null)throw Error(s(387));C=h.pendingProps;var G=h.memoizedState;U=G.element,gt(A,h),vr(h,C,null,x);var Be=h.memoizedState;if(C=Be.cache,Tl(h,vn,C),C!==G.cache&&fh(h,[vn],x,!0),Ur(),C=Be.element,G.isDehydrated)if(G={element:C,isDehydrated:!1,cache:Be.cache},h.updateQueue.baseState=G,h.memoizedState=G,h.flags&256){h=Yd(A,h,C,x);break e}else if(C!==U){U=Aa(Error(s(424)),h),Hu(U),h=Yd(A,h,C,x);break e}else{switch(A=h.stateNode.containerInfo,A.nodeType){case 9:A=A.body;break;default:A=A.nodeName==="HTML"?A.ownerDocument.body:A}for($s=lu(A.firstChild),xn=h,Ua=!0,Wc=null,El=!0,x=Zm(h,null,C,x),h.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(ei(),C===U){h=Xd(A,h,x);break e}ri(A,h,C,x)}h=h.child}return h;case 26:return Vs(A,h),A===null?(x=oF(h.type,null,h.pendingProps,null))?h.memoizedState=x:Ua||(x=h.type,A=h.pendingProps,C=$v(ce.current).createElement(x),C[Ht]=h,C[Gt]=A,so(C,x,A),We(C),h.stateNode=C):h.memoizedState=oF(h.type,A.memoizedProps,h.pendingProps,A.memoizedState),null;case 27:return J(h),A===null&&Ua&&(C=h.stateNode=sF(h.type,h.pendingProps,ce.current),xn=h,El=!0,U=$s,_h(h.type)?(bj=U,$s=lu(C.firstChild)):$s=U),ri(A,h,h.pendingProps.children,x),Vs(A,h),A===null&&(h.flags|=4194304),h.child;case 5:return A===null&&Ua&&((U=C=$s)&&(C=_G(C,h.type,h.pendingProps,El),C!==null?(h.stateNode=C,xn=h,$s=lu(C.firstChild),El=!1,U=!0):U=!1),U||Ld(h)),J(h),U=h.type,G=h.pendingProps,Be=A!==null?A.memoizedProps:null,C=G.children,gj(U,G)?C=null:Be!==null&&gj(U,Be)&&(h.flags|=32),h.memoizedState!==null&&(U=el(A,h,qc,null,null,x),qx._currentValue=U),Vs(A,h),ri(A,h,C,x),h.child;case 6:return A===null&&Ua&&((A=x=$s)&&(x=PG(x,h.pendingProps,El),x!==null?(h.stateNode=x,xn=h,$s=null,A=!0):A=!1),A||Ld(h)),null;case 13:return Fx(A,h,x);case 4:return he(h,h.stateNode.containerInfo),C=h.pendingProps,A===null?h.child=jh(h,null,C,x):ri(A,h,C,x),h.child;case 11:return Ex(A,h,h.type,h.pendingProps,x);case 7:return ri(A,h,h.pendingProps,x),h.child;case 8:return ri(A,h,h.pendingProps.children,x),h.child;case 12:return ri(A,h,h.pendingProps.children,x),h.child;case 10:return C=h.pendingProps,Tl(h,h.type,C.value),ri(A,h,C.children,x),h.child;case 9:return U=h.type._context,C=h.pendingProps.children,Fl(h),U=yn(U),C=C(U),h.flags|=1,ri(A,h,C,x),h.child;case 14:return Ev(A,h,h.type,h.pendingProps,x);case 15:return Tv(A,h,h.type,h.pendingProps,x);case 19:return Ch(A,h,x);case 31:return C=h.pendingProps,x=h.mode,C={mode:C.mode,children:C.children},A===null?(x=Sh(C,x),x.ref=h.ref,h.child=x,x.return=h,h=x):(x=pi(A.child,C),x.ref=h.ref,h.child=x,x.return=h,h=x),h;case 22:return oA(A,h,x);case 24:return Fl(h),C=yn(vn),A===null?(U=Z(),U===null&&(U=Ns,G=Dm(),U.pooledCache=G,G.refCount++,G!==null&&(U.pooledCacheLanes|=x),U=G),h.memoizedState={parent:C,cache:U},ht(h),Tl(h,vn,U)):((A.lanes&x)!==0&&(gt(A,h),vr(h,null,null,x),Ur()),U=A.memoizedState,G=h.memoizedState,U.parent!==C?(U={parent:C,cache:C},h.memoizedState=U,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=U),Tl(h,vn,C)):(C=G.cache,Tl(h,vn,C),C!==U.cache&&fh(h,[vn],x,!0))),ri(A,h,h.pendingProps.children,x),h.child;case 29:throw h.pendingProps}throw Error(s(156,h.tag))}function Jd(A){A.flags|=4}function Dp(A,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)A.flags&=-16777217;else if(A.flags|=16777216,!fF(h)){if(h=sl.current,h!==null&&((La&4194048)===La?dc!==null:(La&62914560)!==La&&(La&536870912)===0||h!==dc))throw Et=$e,De;A.flags|=8192}}function Lp(A,h){h!==null&&(A.flags|=4),A.flags&16384&&(h=A.tag!==22?vt():536870912,A.lanes|=h,Ih|=h)}function a0(A,h){if(!Ua)switch(A.tailMode){case"hidden":h=A.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?A.tail=null:x.sibling=null;break;case"collapsed":x=A.tail;for(var C=null;x!==null;)x.alternate!==null&&(C=x),x=x.sibling;C===null?h||A.tail===null?A.tail=null:A.tail.sibling=null:C.sibling=null}}function en(A){var h=A.alternate!==null&&A.alternate.child===A.child,x=0,C=0;if(h)for(var U=A.child;U!==null;)x|=U.lanes|U.childLanes,C|=U.subtreeFlags&65011712,C|=U.flags&65011712,U.return=A,U=U.sibling;else for(U=A.child;U!==null;)x|=U.lanes|U.childLanes,C|=U.subtreeFlags,C|=U.flags,U.return=A,U=U.sibling;return A.subtreeFlags|=C,A.childLanes=x,h}function ej(A,h,x){var C=h.pendingProps;switch(Gc(h),h.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(h),null;case 1:return en(h),null;case 3:return x=h.stateNode,C=null,A!==null&&(C=A.memoizedState.cache),h.memoizedState.cache!==C&&(h.flags|=2048),ro(vn),te(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(A===null||A.child===null)&&(gi(h)?Jd(h):A===null||A.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,vp())),en(h),null;case 26:return x=h.memoizedState,A===null?(Jd(h),x!==null?(en(h),Dp(h,x)):(en(h),h.flags&=-16777217)):x?x!==A.memoizedState?(Jd(h),en(h),Dp(h,x)):(en(h),h.flags&=-16777217):(A.memoizedProps!==C&&Jd(h),en(h),h.flags&=-16777217),null;case 27:X(h),x=ce.current;var U=h.type;if(A!==null&&h.stateNode!=null)A.memoizedProps!==C&&Jd(h);else{if(!C){if(h.stateNode===null)throw Error(s(166));return en(h),null}A=ae.current,gi(h)?yp(h):(A=sF(U,C,x),h.stateNode=A,Jd(h))}return en(h),null;case 5:if(X(h),x=h.type,A!==null&&h.stateNode!=null)A.memoizedProps!==C&&Jd(h);else{if(!C){if(h.stateNode===null)throw Error(s(166));return en(h),null}if(A=ae.current,gi(h))yp(h);else{switch(U=$v(ce.current),A){case 1:A=U.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:A=U.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":A=U.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":A=U.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":A=U.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof C.is=="string"?U.createElement("select",{is:C.is}):U.createElement("select"),C.multiple?A.multiple=!0:C.size&&(A.size=C.size);break;default:A=typeof C.is=="string"?U.createElement(x,{is:C.is}):U.createElement(x)}}A[Ht]=h,A[Gt]=C;e:for(U=h.child;U!==null;){if(U.tag===5||U.tag===6)A.appendChild(U.stateNode);else if(U.tag!==4&&U.tag!==27&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===h)break e;for(;U.sibling===null;){if(U.return===null||U.return===h)break e;U=U.return}U.sibling.return=U.return,U=U.sibling}h.stateNode=A;e:switch(so(A,x,C),x){case"button":case"input":case"select":case"textarea":A=!!C.autoFocus;break e;case"img":A=!0;break e;default:A=!1}A&&Jd(h)}}return en(h),h.flags&=-16777217,null;case 6:if(A&&h.stateNode!=null)A.memoizedProps!==C&&Jd(h);else{if(typeof C!="string"&&h.stateNode===null)throw Error(s(166));if(A=ce.current,gi(h)){if(A=h.stateNode,x=h.memoizedProps,C=null,U=xn,U!==null)switch(U.tag){case 27:case 5:C=U.memoizedProps}A[Ht]=h,A=!!(A.nodeValue===x||C!==null&&C.suppressHydrationWarning===!0||XT(A.nodeValue,x)),A||Ld(h)}else A=$v(A).createTextNode(C),A[Ht]=h,h.stateNode=A}return en(h),null;case 13:if(C=h.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(U=gi(h),C!==null&&C.dehydrated!==null){if(A===null){if(!U)throw Error(s(318));if(U=h.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(s(317));U[Ht]=h}else ei(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;en(h),U=!1}else U=vp(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=U),U=!0;if(!U)return h.flags&256?(To(h),h):(To(h),null)}if(To(h),(h.flags&128)!==0)return h.lanes=x,h;if(x=C!==null,A=A!==null&&A.memoizedState!==null,x){C=h.child,U=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(U=C.alternate.memoizedState.cachePool.pool);var G=null;C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(G=C.memoizedState.cachePool.pool),G!==U&&(C.flags|=2048)}return x!==A&&x&&(h.child.flags|=8192),Lp(h,h.updateQueue),en(h),null;case 4:return te(),A===null&&fj(h.stateNode.containerInfo),en(h),null;case 10:return ro(h.type),en(h),null;case 19:if(_(jn),U=h.memoizedState,U===null)return en(h),null;if(C=(h.flags&128)!==0,G=U.rendering,G===null)if(C)a0(U,!1);else{if(dn!==0||A!==null&&(A.flags&128)!==0)for(A=h.child;A!==null;){if(G=iA(A),G!==null){for(h.flags|=128,a0(U,!1),A=G.updateQueue,h.updateQueue=A,Lp(h,A),h.subtreeFlags=0,A=x,x=h.child;x!==null;)Kf(x,A),x=x.sibling;return z(jn,jn.current&1|2),h.child}A=A.sibling}U.tail!==null&&Le()>T&&(h.flags|=128,C=!0,a0(U,!1),h.lanes=4194304)}else{if(!C)if(A=iA(G),A!==null){if(h.flags|=128,C=!0,A=A.updateQueue,h.updateQueue=A,Lp(h,A),a0(U,!0),U.tail===null&&U.tailMode==="hidden"&&!G.alternate&&!Ua)return en(h),null}else 2*Le()-U.renderingStartTime>T&&x!==536870912&&(h.flags|=128,C=!0,a0(U,!1),h.lanes=4194304);U.isBackwards?(G.sibling=h.child,h.child=G):(A=U.last,A!==null?A.sibling=G:h.child=G,U.last=G)}return U.tail!==null?(h=U.tail,U.rendering=h,U.tail=h.sibling,U.renderingStartTime=Le(),h.sibling=null,A=jn.current,z(jn,C?A&1|2:A&1),h):(en(h),null);case 22:case 23:return To(h),Zr(),C=h.memoizedState!==null,A!==null?A.memoizedState!==null!==C&&(h.flags|=8192):C&&(h.flags|=8192),C?(x&536870912)!==0&&(h.flags&128)===0&&(en(h),h.subtreeFlags&6&&(h.flags|=8192)):en(h),x=h.updateQueue,x!==null&&Lp(h,x.retryQueue),x=null,A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(x=A.memoizedState.cachePool.pool),C=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(C=h.memoizedState.cachePool.pool),C!==x&&(h.flags|=2048),A!==null&&_(R),null;case 24:return x=null,A!==null&&(x=A.memoizedState.cache),h.memoizedState.cache!==x&&(h.flags|=2048),ro(vn),en(h),null;case 25:return null;case 30:return null}throw Error(s(156,h.tag))}function tj(A,h){switch(Gc(h),h.tag){case 1:return A=h.flags,A&65536?(h.flags=A&-65537|128,h):null;case 3:return ro(vn),te(),A=h.flags,(A&65536)!==0&&(A&128)===0?(h.flags=A&-65537|128,h):null;case 26:case 27:case 5:return X(h),null;case 13:if(To(h),A=h.memoizedState,A!==null&&A.dehydrated!==null){if(h.alternate===null)throw Error(s(340));ei()}return A=h.flags,A&65536?(h.flags=A&-65537|128,h):null;case 19:return _(jn),null;case 4:return te(),null;case 10:return ro(h.type),null;case 22:case 23:return To(h),Zr(),A!==null&&_(R),A=h.flags,A&65536?(h.flags=A&-65537|128,h):null;case 24:return ro(vn),null;case 25:return null;default:return null}}function Mp(A,h){switch(Gc(h),h.tag){case 3:ro(vn),te();break;case 26:case 27:case 5:X(h);break;case 4:te();break;case 13:To(h);break;case 19:_(jn);break;case 10:ro(h.type);break;case 22:case 23:To(h),Zr(),A!==null&&_(R);break;case 24:ro(vn)}}function uA(A,h){try{var x=h.updateQueue,C=x!==null?x.lastEffect:null;if(C!==null){var U=C.next;x=U;do{if((x.tag&A)===A){C=void 0;var G=x.create,Be=x.inst;C=G(),Be.destroy=C}x=x.next}while(x!==U)}}catch(Re){Ds(h,h.return,Re)}}function Zd(A,h,x){try{var C=h.updateQueue,U=C!==null?C.lastEffect:null;if(U!==null){var G=U.next;C=G;do{if((C.tag&A)===A){var Be=C.inst,Re=Be.destroy;if(Re!==void 0){Be.destroy=void 0,U=h;var lt=x,kt=Re;try{kt()}catch(Xt){Ds(U,lt,Xt)}}}C=C.next}while(C!==G)}}catch(Xt){Ds(h,h.return,Xt)}}function Iv(A){var h=A.updateQueue;if(h!==null){var x=A.stateNode;try{Qa(h,x)}catch(C){Ds(A,A.return,C)}}}function kv(A,h,x){x.props=Ju(A.type,A.memoizedProps),x.state=A.memoizedState;try{x.componentWillUnmount()}catch(C){Ds(A,h,C)}}function Bh(A,h){try{var x=A.ref;if(x!==null){switch(A.tag){case 26:case 27:case 5:var C=A.stateNode;break;case 30:C=A.stateNode;break;default:C=A.stateNode}typeof x=="function"?A.refCleanup=x(C):x.current=C}}catch(U){Ds(A,h,U)}}function Jc(A,h){var x=A.ref,C=A.refCleanup;if(x!==null)if(typeof C=="function")try{C()}catch(U){Ds(A,h,U)}finally{A.refCleanup=null,A=A.alternate,A!=null&&(A.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(U){Ds(A,h,U)}else x.current=null}function _v(A){var h=A.type,x=A.memoizedProps,C=A.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":x.autoFocus&&C.focus();break e;case"img":x.src?C.src=x.src:x.srcSet&&(C.srcset=x.srcSet)}}catch(U){Ds(A,A.return,U)}}function _x(A,h,x){try{var C=A.stateNode;EG(C,A.type,x,h),C[Gt]=h}catch(U){Ds(A,A.return,U)}}function Pv(A){return A.tag===5||A.tag===3||A.tag===26||A.tag===27&&_h(A.type)||A.tag===4}function Px(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||Pv(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.tag===27&&_h(A.type)||A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function s0(A,h,x){var C=A.tag;if(C===5||C===6)A=A.stateNode,h?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(A,h):(h=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,h.appendChild(A),x=x._reactRootContainer,x!=null||h.onclick!==null||(h.onclick=Hv));else if(C!==4&&(C===27&&_h(A.type)&&(x=A.stateNode,h=null),A=A.child,A!==null))for(s0(A,h,x),A=A.sibling;A!==null;)s0(A,h,x),A=A.sibling}function Up(A,h,x){var C=A.tag;if(C===5||C===6)A=A.stateNode,h?x.insertBefore(A,h):x.appendChild(A);else if(C!==4&&(C===27&&_h(A.type)&&(x=A.stateNode),A=A.child,A!==null))for(Up(A,h,x),A=A.sibling;A!==null;)Up(A,h,x),A=A.sibling}function Rp(A){var h=A.stateNode,x=A.memoizedProps;try{for(var C=A.type,U=h.attributes;U.length;)h.removeAttributeNode(U[0]);so(h,C,x),h[Ht]=A,h[Gt]=x}catch(G){Ds(A,A.return,G)}}var eu=!1,Ar=!1,Zu=!1,n0=typeof WeakSet=="function"?WeakSet:Set,as=null;function rj(A,h){if(A=A.containerInfo,mj=qv,A=Jn(A),gn(A)){if("selectionStart"in A)var x={start:A.selectionStart,end:A.selectionEnd};else e:{x=(x=A.ownerDocument)&&x.defaultView||window;var C=x.getSelection&&x.getSelection();if(C&&C.rangeCount!==0){x=C.anchorNode;var U=C.anchorOffset,G=C.focusNode;C=C.focusOffset;try{x.nodeType,G.nodeType}catch{x=null;break e}var Be=0,Re=-1,lt=-1,kt=0,Xt=0,ar=A,Pt=null;t:for(;;){for(var Dt;ar!==x||U!==0&&ar.nodeType!==3||(Re=Be+U),ar!==G||C!==0&&ar.nodeType!==3||(lt=Be+C),ar.nodeType===3&&(Be+=ar.nodeValue.length),(Dt=ar.firstChild)!==null;)Pt=ar,ar=Dt;for(;;){if(ar===A)break t;if(Pt===x&&++kt===U&&(Re=Be),Pt===G&&++Xt===C&&(lt=Be),(Dt=ar.nextSibling)!==null)break;ar=Pt,Pt=ar.parentNode}ar=Dt}x=Re===-1||lt===-1?null:{start:Re,end:lt}}else x=null}x=x||{start:0,end:0}}else x=null;for(pj={focusedElem:A,selectionRange:x},qv=!1,as=h;as!==null;)if(h=as,A=h.child,(h.subtreeFlags&1024)!==0&&A!==null)A.return=h,as=A;else for(;as!==null;){switch(h=as,G=h.alternate,A=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((A&1024)!==0&&G!==null){A=void 0,x=h,U=G.memoizedProps,G=G.memoizedState,C=x.stateNode;try{var sa=Ju(x.type,U,x.elementType===x.type);A=C.getSnapshotBeforeUpdate(sa,G),C.__reactInternalSnapshotBeforeUpdate=A}catch(Xr){Ds(x,x.return,Xr)}}break;case 3:if((A&1024)!==0){if(A=h.stateNode.containerInfo,x=A.nodeType,x===9)yj(A);else if(x===1)switch(A.nodeName){case"HEAD":case"HTML":case"BODY":yj(A);break;default:A.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((A&1024)!==0)throw Error(s(163))}if(A=h.sibling,A!==null){A.return=h.return,as=A;break}as=h.return}}function za(A,h,x){var C=x.flags;switch(x.tag){case 0:case 11:case 15:tu(A,x),C&4&&uA(5,x);break;case 1:if(tu(A,x),C&4)if(A=x.stateNode,h===null)try{A.componentDidMount()}catch(Be){Ds(x,x.return,Be)}else{var U=Ju(x.type,h.memoizedProps);h=h.memoizedState;try{A.componentDidUpdate(U,h,A.__reactInternalSnapshotBeforeUpdate)}catch(Be){Ds(x,x.return,Be)}}C&64&&Iv(x),C&512&&Bh(x,x.return);break;case 3:if(tu(A,x),C&64&&(A=x.updateQueue,A!==null)){if(h=null,x.child!==null)switch(x.child.tag){case 27:case 5:h=x.child.stateNode;break;case 1:h=x.child.stateNode}try{Qa(A,h)}catch(Be){Ds(x,x.return,Be)}}break;case 27:h===null&&C&4&&Rp(x);case 26:case 5:tu(A,x),h===null&&C&4&&_v(x),C&512&&Bh(x,x.return);break;case 12:tu(A,x);break;case 13:tu(A,x),C&4&&i0(A,x),C&64&&(A=x.memoizedState,A!==null&&(A=A.dehydrated,A!==null&&(x=gG.bind(null,x),OG(A,x))));break;case 22:if(C=x.memoizedState!==null||eu,!C){h=h!==null&&h.memoizedState!==null||Ar,U=eu;var G=Ar;eu=C,(Ar=h)&&!G?au(A,x,(x.subtreeFlags&8772)!==0):tu(A,x),eu=U,Ar=G}break;case 30:break;default:tu(A,x)}}function Os(A){var h=A.alternate;h!==null&&(A.alternate=null,Os(h)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(h=A.stateNode,h!==null&&Ke(h)),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}var fs=null,Fo=!1;function _l(A,h,x){for(x=x.child;x!==null;)Ov(A,h,x),x=x.sibling}function Ov(A,h,x){if(Te&&typeof Te.onCommitFiberUnmount=="function")try{Te.onCommitFiberUnmount(rt,x)}catch{}switch(x.tag){case 26:Ar||Jc(x,h),_l(A,h,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:Ar||Jc(x,h);var C=fs,U=Fo;_h(x.type)&&(fs=x.stateNode,Fo=!1),_l(A,h,x),Vx(x.stateNode),fs=C,Fo=U;break;case 5:Ar||Jc(x,h);case 6:if(C=fs,U=Fo,fs=null,_l(A,h,x),fs=C,Fo=U,fs!==null)if(Fo)try{(fs.nodeType===9?fs.body:fs.nodeName==="HTML"?fs.ownerDocument.body:fs).removeChild(x.stateNode)}catch(G){Ds(x,h,G)}else try{fs.removeChild(x.stateNode)}catch(G){Ds(x,h,G)}break;case 18:fs!==null&&(Fo?(A=fs,rF(A.nodeType===9?A.body:A.nodeName==="HTML"?A.ownerDocument.body:A,x.stateNode),Zx(A)):rF(fs,x.stateNode));break;case 4:C=fs,U=Fo,fs=x.stateNode.containerInfo,Fo=!0,_l(A,h,x),fs=C,Fo=U;break;case 0:case 11:case 14:case 15:Ar||Zd(2,x,h),Ar||Zd(4,x,h),_l(A,h,x);break;case 1:Ar||(Jc(x,h),C=x.stateNode,typeof C.componentWillUnmount=="function"&&kv(x,h,C)),_l(A,h,x);break;case 21:_l(A,h,x);break;case 22:Ar=(C=Ar)||x.memoizedState!==null,_l(A,h,x),Ar=C;break;default:_l(A,h,x)}}function i0(A,h){if(h.memoizedState===null&&(A=h.alternate,A!==null&&(A=A.memoizedState,A!==null&&(A=A.dehydrated,A!==null))))try{Zx(A)}catch(x){Ds(h,h.return,x)}}function aj(A){switch(A.tag){case 13:case 19:var h=A.stateNode;return h===null&&(h=A.stateNode=new n0),h;case 22:return A=A.stateNode,h=A._retryCache,h===null&&(h=A._retryCache=new n0),h;default:throw Error(s(435,A.tag))}}function Ox(A,h){var x=aj(A);h.forEach(function(C){var U=xG.bind(null,A,C);x.has(C)||(x.add(C),C.then(U,U))})}function Io(A,h){var x=h.deletions;if(x!==null)for(var C=0;C<x.length;C++){var U=x[C],G=A,Be=h,Re=Be;e:for(;Re!==null;){switch(Re.tag){case 27:if(_h(Re.type)){fs=Re.stateNode,Fo=!1;break e}break;case 5:fs=Re.stateNode,Fo=!1;break e;case 3:case 4:fs=Re.stateNode.containerInfo,Fo=!0;break e}Re=Re.return}if(fs===null)throw Error(s(160));Ov(G,Be,U),fs=null,Fo=!1,G=U.alternate,G!==null&&(G.return=null),U.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)Dx(h,A),h=h.sibling}var fc=null;function Dx(A,h){var x=A.alternate,C=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:Io(h,A),nl(A),C&4&&(Zd(3,A,A.return),uA(3,A),Zd(5,A,A.return));break;case 1:Io(h,A),nl(A),C&512&&(Ar||x===null||Jc(x,x.return)),C&64&&eu&&(A=A.updateQueue,A!==null&&(C=A.callbacks,C!==null&&(x=A.shared.hiddenCallbacks,A.shared.hiddenCallbacks=x===null?C:x.concat(C))));break;case 26:var U=fc;if(Io(h,A),nl(A),C&512&&(Ar||x===null||Jc(x,x.return)),C&4){var G=x!==null?x.memoizedState:null;if(C=A.memoizedState,x===null)if(C===null)if(A.stateNode===null){e:{C=A.type,x=A.memoizedProps,U=U.ownerDocument||U;t:switch(C){case"title":G=U.getElementsByTagName("title")[0],(!G||G[ze]||G[Ht]||G.namespaceURI==="http://www.w3.org/2000/svg"||G.hasAttribute("itemprop"))&&(G=U.createElement(C),U.head.insertBefore(G,U.querySelector("head > title"))),so(G,C,x),G[Ht]=A,We(G),C=G;break e;case"link":var Be=dF("link","href",U).get(C+(x.href||""));if(Be){for(var Re=0;Re<Be.length;Re++)if(G=Be[Re],G.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&G.getAttribute("rel")===(x.rel==null?null:x.rel)&&G.getAttribute("title")===(x.title==null?null:x.title)&&G.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){Be.splice(Re,1);break t}}G=U.createElement(C),so(G,C,x),U.head.appendChild(G);break;case"meta":if(Be=dF("meta","content",U).get(C+(x.content||""))){for(Re=0;Re<Be.length;Re++)if(G=Be[Re],G.getAttribute("content")===(x.content==null?null:""+x.content)&&G.getAttribute("name")===(x.name==null?null:x.name)&&G.getAttribute("property")===(x.property==null?null:x.property)&&G.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&G.getAttribute("charset")===(x.charSet==null?null:x.charSet)){Be.splice(Re,1);break t}}G=U.createElement(C),so(G,C,x),U.head.appendChild(G);break;default:throw Error(s(468,C))}G[Ht]=A,We(G),C=G}A.stateNode=C}else uF(U,A.type,A.stateNode);else A.stateNode=cF(U,C,A.memoizedProps);else G!==C?(G===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):G.count--,C===null?uF(U,A.type,A.stateNode):cF(U,C,A.memoizedProps)):C===null&&A.stateNode!==null&&_x(A,A.memoizedProps,x.memoizedProps)}break;case 27:Io(h,A),nl(A),C&512&&(Ar||x===null||Jc(x,x.return)),x!==null&&C&4&&_x(A,A.memoizedProps,x.memoizedProps);break;case 5:if(Io(h,A),nl(A),C&512&&(Ar||x===null||Jc(x,x.return)),A.flags&32){U=A.stateNode;try{kc(U,"")}catch(Dt){Ds(A,A.return,Dt)}}C&4&&A.stateNode!=null&&(U=A.memoizedProps,_x(A,U,x!==null?x.memoizedProps:U)),C&1024&&(Zu=!0);break;case 6:if(Io(h,A),nl(A),C&4){if(A.stateNode===null)throw Error(s(162));C=A.memoizedProps,x=A.stateNode;try{x.nodeValue=C}catch(Dt){Ds(A,A.return,Dt)}}break;case 3:if(Kv=null,U=fc,fc=zv(h.containerInfo),Io(h,A),fc=U,nl(A),C&4&&x!==null&&x.memoizedState.isDehydrated)try{Zx(h.containerInfo)}catch(Dt){Ds(A,A.return,Dt)}Zu&&(Zu=!1,Lx(A));break;case 4:C=fc,fc=zv(A.stateNode.containerInfo),Io(h,A),nl(A),fc=C;break;case 12:Io(h,A),nl(A);break;case 13:Io(h,A),nl(A),A.child.flags&8192&&A.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(P=Le()),C&4&&(C=A.updateQueue,C!==null&&(A.updateQueue=null,Ox(A,C)));break;case 22:U=A.memoizedState!==null;var lt=x!==null&&x.memoizedState!==null,kt=eu,Xt=Ar;if(eu=kt||U,Ar=Xt||lt,Io(h,A),Ar=Xt,eu=kt,nl(A),C&8192)e:for(h=A.stateNode,h._visibility=U?h._visibility&-2:h._visibility|1,U&&(x===null||lt||eu||Ar||ru(A)),x=null,h=A;;){if(h.tag===5||h.tag===26){if(x===null){lt=x=h;try{if(G=lt.stateNode,U)Be=G.style,typeof Be.setProperty=="function"?Be.setProperty("display","none","important"):Be.display="none";else{Re=lt.stateNode;var ar=lt.memoizedProps.style,Pt=ar!=null&&ar.hasOwnProperty("display")?ar.display:null;Re.style.display=Pt==null||typeof Pt=="boolean"?"":(""+Pt).trim()}}catch(Dt){Ds(lt,lt.return,Dt)}}}else if(h.tag===6){if(x===null){lt=h;try{lt.stateNode.nodeValue=U?"":lt.memoizedProps}catch(Dt){Ds(lt,lt.return,Dt)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===A)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===A)break e;for(;h.sibling===null;){if(h.return===null||h.return===A)break e;x===h&&(x=null),h=h.return}x===h&&(x=null),h.sibling.return=h.return,h=h.sibling}C&4&&(C=A.updateQueue,C!==null&&(x=C.retryQueue,x!==null&&(C.retryQueue=null,Ox(A,x))));break;case 19:Io(h,A),nl(A),C&4&&(C=A.updateQueue,C!==null&&(A.updateQueue=null,Ox(A,C)));break;case 30:break;case 21:break;default:Io(h,A),nl(A)}}function nl(A){var h=A.flags;if(h&2){try{for(var x,C=A.return;C!==null;){if(Pv(C)){x=C;break}C=C.return}if(x==null)throw Error(s(160));switch(x.tag){case 27:var U=x.stateNode,G=Px(A);Up(A,G,U);break;case 5:var Be=x.stateNode;x.flags&32&&(kc(Be,""),x.flags&=-33);var Re=Px(A);Up(A,Re,Be);break;case 3:case 4:var lt=x.stateNode.containerInfo,kt=Px(A);s0(A,kt,lt);break;default:throw Error(s(161))}}catch(Xt){Ds(A,A.return,Xt)}A.flags&=-3}h&4096&&(A.flags&=-4097)}function Lx(A){if(A.subtreeFlags&1024)for(A=A.child;A!==null;){var h=A;Lx(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),A=A.sibling}}function tu(A,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)za(A,h.alternate,h),h=h.sibling}function ru(A){for(A=A.child;A!==null;){var h=A;switch(h.tag){case 0:case 11:case 14:case 15:Zd(4,h,h.return),ru(h);break;case 1:Jc(h,h.return);var x=h.stateNode;typeof x.componentWillUnmount=="function"&&kv(h,h.return,x),ru(h);break;case 27:Vx(h.stateNode);case 26:case 5:Jc(h,h.return),ru(h);break;case 22:h.memoizedState===null&&ru(h);break;case 30:ru(h);break;default:ru(h)}A=A.sibling}}function au(A,h,x){for(x=x&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var C=h.alternate,U=A,G=h,Be=G.flags;switch(G.tag){case 0:case 11:case 15:au(U,G,x),uA(4,G);break;case 1:if(au(U,G,x),C=G,U=C.stateNode,typeof U.componentDidMount=="function")try{U.componentDidMount()}catch(kt){Ds(C,C.return,kt)}if(C=G,U=C.updateQueue,U!==null){var Re=C.stateNode;try{var lt=U.shared.hiddenCallbacks;if(lt!==null)for(U.shared.hiddenCallbacks=null,U=0;U<lt.length;U++)Da(lt[U],Re)}catch(kt){Ds(C,C.return,kt)}}x&&Be&64&&Iv(G),Bh(G,G.return);break;case 27:Rp(G);case 26:case 5:au(U,G,x),x&&C===null&&Be&4&&_v(G),Bh(G,G.return);break;case 12:au(U,G,x);break;case 13:au(U,G,x),x&&Be&4&&i0(U,G);break;case 22:G.memoizedState===null&&au(U,G,x),Bh(G,G.return);break;case 30:break;default:au(U,G,x)}h=h.sibling}}function Mx(A,h){var x=null;A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(x=A.memoizedState.cachePool.pool),A=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(A=h.memoizedState.cachePool.pool),A!==x&&(A!=null&&A.refCount++,x!=null&&qf(x))}function Qp(A,h){A=null,h.alternate!==null&&(A=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==A&&(h.refCount++,A!=null&&qf(A))}function Zc(A,h,x,C){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)Dv(A,h,x,C),h=h.sibling}function Dv(A,h,x,C){var U=h.flags;switch(h.tag){case 0:case 11:case 15:Zc(A,h,x,C),U&2048&&uA(9,h);break;case 1:Zc(A,h,x,C);break;case 3:Zc(A,h,x,C),U&2048&&(A=null,h.alternate!==null&&(A=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==A&&(h.refCount++,A!=null&&qf(A)));break;case 12:if(U&2048){Zc(A,h,x,C),A=h.stateNode;try{var G=h.memoizedProps,Be=G.id,Re=G.onPostCommit;typeof Re=="function"&&Re(Be,h.alternate===null?"mount":"update",A.passiveEffectDuration,-0)}catch(lt){Ds(h,h.return,lt)}}else Zc(A,h,x,C);break;case 13:Zc(A,h,x,C);break;case 23:break;case 22:G=h.stateNode,Be=h.alternate,h.memoizedState!==null?G._visibility&2?Zc(A,h,x,C):ef(A,h):G._visibility&2?Zc(A,h,x,C):(G._visibility|=2,Eh(A,h,x,C,(h.subtreeFlags&10256)!==0)),U&2048&&Mx(Be,h);break;case 24:Zc(A,h,x,C),U&2048&&Qp(h.alternate,h);break;default:Zc(A,h,x,C)}}function Eh(A,h,x,C,U){for(U=U&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var G=A,Be=h,Re=x,lt=C,kt=Be.flags;switch(Be.tag){case 0:case 11:case 15:Eh(G,Be,Re,lt,U),uA(8,Be);break;case 23:break;case 22:var Xt=Be.stateNode;Be.memoizedState!==null?Xt._visibility&2?Eh(G,Be,Re,lt,U):ef(G,Be):(Xt._visibility|=2,Eh(G,Be,Re,lt,U)),U&&kt&2048&&Mx(Be.alternate,Be);break;case 24:Eh(G,Be,Re,lt,U),U&&kt&2048&&Qp(Be.alternate,Be);break;default:Eh(G,Be,Re,lt,U)}h=h.sibling}}function ef(A,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var x=A,C=h,U=C.flags;switch(C.tag){case 22:ef(x,C),U&2048&&Mx(C.alternate,C);break;case 24:ef(x,C),U&2048&&Qp(C.alternate,C);break;default:ef(x,C)}h=h.sibling}}var Qi=8192;function fA(A){if(A.subtreeFlags&Qi)for(A=A.child;A!==null;)o0(A),A=A.sibling}function o0(A){switch(A.tag){case 26:fA(A),A.flags&Qi&&A.memoizedState!==null&&WG(fc,A.memoizedState,A.memoizedProps);break;case 5:fA(A);break;case 3:case 4:var h=fc;fc=zv(A.stateNode.containerInfo),fA(A),fc=h;break;case 22:A.memoizedState===null&&(h=A.alternate,h!==null&&h.memoizedState!==null?(h=Qi,Qi=16777216,fA(A),Qi=h):fA(A));break;default:fA(A)}}function Lv(A){var h=A.alternate;if(h!==null&&(A=h.child,A!==null)){h.child=null;do h=A.sibling,A.sibling=null,A=h;while(A!==null)}}function l0(A){var h=A.deletions;if((A.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var C=h[x];as=C,c0(C,A)}Lv(A)}if(A.subtreeFlags&10256)for(A=A.child;A!==null;)Hp(A),A=A.sibling}function Hp(A){switch(A.tag){case 0:case 11:case 15:l0(A),A.flags&2048&&Zd(9,A,A.return);break;case 3:l0(A);break;case 12:l0(A);break;case 22:var h=A.stateNode;A.memoizedState!==null&&h._visibility&2&&(A.return===null||A.return.tag!==13)?(h._visibility&=-3,su(A)):l0(A);break;default:l0(A)}}function su(A){var h=A.deletions;if((A.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var C=h[x];as=C,c0(C,A)}Lv(A)}for(A=A.child;A!==null;){switch(h=A,h.tag){case 0:case 11:case 15:Zd(8,h,h.return),su(h);break;case 22:x=h.stateNode,x._visibility&2&&(x._visibility&=-3,su(h));break;default:su(h)}A=A.sibling}}function c0(A,h){for(;as!==null;){var x=as;switch(x.tag){case 0:case 11:case 15:Zd(8,x,h);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var C=x.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:qf(x.memoizedState.cache)}if(C=x.child,C!==null)C.return=x,as=C;else e:for(x=A;as!==null;){C=as;var U=C.sibling,G=C.return;if(Os(C),C===x){as=null;break e}if(U!==null){U.return=G,as=U;break e}as=G}}}var sj={getCacheForType:function(A){var h=yn(vn),x=h.data.get(A);return x===void 0&&(x=A(),h.data.set(A,x)),x}},Th=typeof WeakMap=="function"?WeakMap:Map,ss=0,Ns=null,ja=null,La=0,qa=0,il=null,tf=!1,Fh=!1,Ux=!1,nu=0,dn=0,rf=0,AA=0,Rx=0,Pl=0,Ih=0,d0=null,ko=null,Qx=!1,P=0,T=1/0,L=null,D=null,ne=0,we=null,Oe=null,Ge=0,Ye=0,mt=null,bt=null,Bt=0,zt=null;function br(){if((ss&2)!==0&&La!==0)return La&-La;if(ee.T!==null){var A=Md;return A!==0?A:lj()}return Ta()}function hr(){Pl===0&&(Pl=(La&536870912)===0||Ua?Ot():536870912);var A=sl.current;return A!==null&&(A.flags|=32),Pl}function pr(A,h,x){(A===Ns&&(qa===2||qa===9)||A.cancelPendingCommit!==null)&&(Nr(A,0),ya(A,La,Pl,!1)),He(A,x),((ss&2)===0||A!==Ns)&&(A===Ns&&((ss&2)===0&&(AA|=x),dn===4&&ya(A,La,Pl,!1)),of(A))}function la(A,h,x){if((ss&6)!==0)throw Error(s(327));var C=!x&&(h&124)===0&&(h&A.expiredLanes)===0||Se(A,h),U=C?os(A,h):Hi(A,h,!0),G=C;do{if(U===0){Fh&&!C&&ya(A,h,0,!1);break}else{if(x=A.current.alternate,G&&!Ir(x)){U=Hi(A,h,!1),G=!1;continue}if(U===2){if(G=h,A.errorRecoveryDisabledLanes&G)var Be=0;else Be=A.pendingLanes&-536870913,Be=Be!==0?Be:Be&536870912?536870912:0;if(Be!==0){h=Be;e:{var Re=A;U=d0;var lt=Re.current.memoizedState.isDehydrated;if(lt&&(Nr(Re,Be).flags|=256),Be=Hi(Re,Be,!1),Be!==2){if(Ux&&!lt){Re.errorRecoveryDisabledLanes|=G,AA|=G,U=4;break e}G=ko,ko=U,G!==null&&(ko===null?ko=G:ko.push.apply(ko,G))}U=Be}if(G=!1,U!==2)continue}}if(U===1){Nr(A,0),ya(A,h,0,!0);break}e:{switch(C=A,G=U,G){case 0:case 1:throw Error(s(345));case 4:if((h&4194048)!==h)break;case 6:ya(C,h,Pl,!tf);break e;case 2:ko=null;break;case 3:case 5:break;default:throw Error(s(329))}if((h&62914560)===h&&(U=P+300-Le(),10<U)){if(ya(C,h,Pl,!tf),Ve(C,0,!0)!==0)break e;C.timeoutHandle=eF(Pr.bind(null,C,x,ko,L,Qx,h,Pl,AA,Ih,tf,G,2,-0,0),U);break e}Pr(C,x,ko,L,Qx,h,Pl,AA,Ih,tf,G,0,-0,0)}}break}while(!0);of(A)}function Pr(A,h,x,C,U,G,Be,Re,lt,kt,Xt,ar,Pt,Dt){if(A.timeoutHandle=-1,ar=h.subtreeFlags,(ar&8192||(ar&16785408)===16785408)&&(Wx={stylesheets:null,count:0,unsuspend:GG},o0(h),ar=qG(),ar!==null)){A.cancelPendingCommit=ar(ou.bind(null,A,h,G,x,C,U,Be,Re,lt,Xt,1,Pt,Dt)),ya(A,G,Be,!kt);return}ou(A,h,G,x,C,U,Be,Re,lt)}function Ir(A){for(var h=A;;){var x=h.tag;if((x===0||x===11||x===15)&&h.flags&16384&&(x=h.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var C=0;C<x.length;C++){var U=x[C],G=U.getSnapshot;U=U.value;try{if(!us(G(),U))return!1}catch{return!1}}if(x=h.child,h.subtreeFlags&16384&&x!==null)x.return=h,h=x;else{if(h===A)break;for(;h.sibling===null;){if(h.return===null||h.return===A)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function ya(A,h,x,C){h&=~Rx,h&=~AA,A.suspendedLanes|=h,A.pingedLanes&=~h,C&&(A.warmLanes|=h),C=A.expirationTimes;for(var U=h;0<U;){var G=31-xt(U),Be=1<<G;C[G]=-1,U&=~Be}x!==0&&ft(A,x,h)}function oa(){return(ss&6)===0?(Hx(0),!1):!0}function Yr(){if(ja!==null){if(qa===0)var A=ja.return;else A=ja,nc=Fn=null,mh(A),Kd=null,Ym=0,A=ja;for(;A!==null;)Mp(A.alternate,A),A=A.return;ja=null}}function Nr(A,h){var x=A.timeoutHandle;x!==-1&&(A.timeoutHandle=-1,FG(x)),x=A.cancelPendingCommit,x!==null&&(A.cancelPendingCommit=null,x()),Yr(),Ns=A,ja=x=pi(A.current,null),La=h,qa=0,il=null,tf=!1,Fh=Se(A,h),Ux=!1,Ih=Pl=Rx=AA=rf=dn=0,ko=d0=null,Qx=!1,(h&8)!==0&&(h|=h&32);var C=A.entangledLanes;if(C!==0)for(A=A.entanglements,C&=h;0<C;){var U=31-xt(C),G=1<<U;h|=A[U],C&=~G}return nu=h,No(),x}function Ia(A,h){Qr=null,ee.H=Fp,h===Pe||h===Ue?(h=wt(),qa=3):h===De?(h=wt(),qa=4):qa=h===Bx?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,il=h,ja===null&&(dn=1,e0(A,Aa(h,A.current)))}function ka(){var A=ee.H;return ee.H=Fp,A===null?Fp:A}function ra(){var A=ee.A;return ee.A=sj,A}function un(){dn=4,tf||(La&4194048)!==La&&sl.current!==null||(Fh=!0),(rf&134217727)===0&&(AA&134217727)===0||Ns===null||ya(Ns,La,Pl,!1)}function Hi(A,h,x){var C=ss;ss|=2;var U=ka(),G=ra();(Ns!==A||La!==h)&&(L=null,Nr(A,h)),h=!1;var Be=dn;e:do try{if(qa!==0&&ja!==null){var Re=ja,lt=il;switch(qa){case 8:Yr(),Be=6;break e;case 3:case 2:case 9:case 6:sl.current===null&&(h=!0);var kt=qa;if(qa=0,il=null,Qn(A,Re,lt,kt),x&&Fh){Be=0;break e}break;default:kt=qa,qa=0,il=null,Qn(A,Re,lt,kt)}}ol(),Be=dn;break}catch(Xt){Ia(A,Xt)}while(!0);return h&&A.shellSuspendCounter++,nc=Fn=null,ss=C,ee.H=U,ee.A=G,ja===null&&(Ns=null,La=0,No()),Be}function ol(){for(;ja!==null;)iu(ja)}function os(A,h){var x=ss;ss|=2;var C=ka(),U=ra();Ns!==A||La!==h?(L=null,T=Le()+500,Nr(A,h)):Fh=Se(A,h);e:do try{if(qa!==0&&ja!==null){h=ja;var G=il;t:switch(qa){case 1:qa=0,il=null,Qn(A,h,G,1);break;case 2:case 9:if(Xe(G)){qa=0,il=null,ao(h);break}h=function(){qa!==2&&qa!==9||Ns!==A||(qa=7),of(A)},G.then(h,h);break e;case 3:qa=7;break e;case 4:qa=5;break e;case 7:Xe(G)?(qa=0,il=null,ao(h)):(qa=0,il=null,Qn(A,h,G,7));break;case 5:var Be=null;switch(ja.tag){case 26:Be=ja.memoizedState;case 5:case 27:var Re=ja;if(!Be||fF(Be)){qa=0,il=null;var lt=Re.sibling;if(lt!==null)ja=lt;else{var kt=Re.return;kt!==null?(ja=kt,ed(kt)):ja=null}break t}}qa=0,il=null,Qn(A,h,G,5);break;case 6:qa=0,il=null,Qn(A,h,G,6);break;case 8:Yr(),dn=6;break e;default:throw Error(s(462))}}yi();break}catch(Xt){Ia(A,Xt)}while(!0);return nc=Fn=null,ee.H=C,ee.A=U,ss=x,ja!==null?0:(Ns=null,La=0,No(),dn)}function yi(){for(;ja!==null&&!pe();)iu(ja)}function iu(A){var h=Fv(A.alternate,A,nu);A.memoizedProps=A.pendingProps,h===null?ed(A):ja=h}function ao(A){var h=A,x=h.alternate;switch(h.tag){case 15:case 0:h=lA(x,h,h.pendingProps,h.type,void 0,La);break;case 11:h=lA(x,h,h.pendingProps,h.type.render,h.ref,La);break;case 5:mh(h);default:Mp(x,h),h=ja=Kf(h,nu),h=Fv(x,h,nu)}A.memoizedProps=A.pendingProps,h===null?ed(A):ja=h}function Qn(A,h,x,C){nc=Fn=null,mh(h),Kd=null,Ym=0;var U=h.return;try{if(Bv(A,U,h,x,La)){dn=1,e0(A,Aa(x,A.current)),ja=null;return}}catch(G){if(U!==null)throw ja=U,G;dn=1,e0(A,Aa(x,A.current)),ja=null;return}h.flags&32768?(Ua||C===1?A=!0:Fh||(La&536870912)!==0?A=!1:(tf=A=!0,(C===2||C===9||C===3||C===6)&&(C=sl.current,C!==null&&C.tag===13&&(C.flags|=16384))),Ac(h,A)):ed(h)}function ed(A){var h=A;do{if((h.flags&32768)!==0){Ac(h,tf);return}A=h.return;var x=ej(h.alternate,h,nu);if(x!==null){ja=x;return}if(h=h.sibling,h!==null){ja=h;return}ja=h=A}while(h!==null);dn===0&&(dn=5)}function Ac(A,h){do{var x=tj(A.alternate,A);if(x!==null){x.flags&=32767,ja=x;return}if(x=A.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!h&&(A=A.sibling,A!==null)){ja=A;return}ja=A=x}while(A!==null);dn=6,ja=null}function ou(A,h,x,C,U,G,Be,Re,lt){A.cancelPendingCommit=null;do Ol();while(ne!==0);if((ss&6)!==0)throw Error(s(327));if(h!==null){if(h===A.current)throw Error(s(177));if(G=h.lanes|h.childLanes,G|=ws,ct(A,x,G,Be,Re,lt),A===Ns&&(ja=Ns=null,La=0),Oe=h,we=A,Ge=x,Ye=G,mt=U,bt=C,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(A.callbackNode=null,A.callbackPriority=0,yG(ye,function(){return hA(),null})):(A.callbackNode=null,A.callbackPriority=0),C=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||C){C=ee.T,ee.T=null,U=le.p,le.p=2,Be=ss,ss|=4;try{rj(A,h,x)}finally{ss=Be,le.p=U,ee.T=C}}ne=1,af(),sf(),td()}}function af(){if(ne===1){ne=0;var A=we,h=Oe,x=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||x){x=ee.T,ee.T=null;var C=le.p;le.p=2;var U=ss;ss|=4;try{Dx(h,A);var G=pj,Be=Jn(A.containerInfo),Re=G.focusedElem,lt=G.selectionRange;if(Be!==Re&&Re&&Re.ownerDocument&&Xl(Re.ownerDocument.documentElement,Re)){if(lt!==null&&gn(Re)){var kt=lt.start,Xt=lt.end;if(Xt===void 0&&(Xt=kt),"selectionStart"in Re)Re.selectionStart=kt,Re.selectionEnd=Math.min(Xt,Re.value.length);else{var ar=Re.ownerDocument||document,Pt=ar&&ar.defaultView||window;if(Pt.getSelection){var Dt=Pt.getSelection(),sa=Re.textContent.length,Xr=Math.min(lt.start,sa),Cs=lt.end===void 0?Xr:Math.min(lt.end,sa);!Dt.extend&&Xr>Cs&&(Be=Cs,Cs=Xr,Xr=Be);var Nt=Xn(Re,Xr),pt=Xn(Re,Cs);if(Nt&&pt&&(Dt.rangeCount!==1||Dt.anchorNode!==Nt.node||Dt.anchorOffset!==Nt.offset||Dt.focusNode!==pt.node||Dt.focusOffset!==pt.offset)){var Ft=ar.createRange();Ft.setStart(Nt.node,Nt.offset),Dt.removeAllRanges(),Xr>Cs?(Dt.addRange(Ft),Dt.extend(pt.node,pt.offset)):(Ft.setEnd(pt.node,pt.offset),Dt.addRange(Ft))}}}}for(ar=[],Dt=Re;Dt=Dt.parentNode;)Dt.nodeType===1&&ar.push({element:Dt,left:Dt.scrollLeft,top:Dt.scrollTop});for(typeof Re.focus=="function"&&Re.focus(),Re=0;Re<ar.length;Re++){var er=ar[Re];er.element.scrollLeft=er.left,er.element.scrollTop=er.top}}qv=!!mj,pj=mj=null}finally{ss=U,le.p=C,ee.T=x}}A.current=h,ne=2}}function sf(){if(ne===2){ne=0;var A=we,h=Oe,x=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||x){x=ee.T,ee.T=null;var C=le.p;le.p=2;var U=ss;ss|=4;try{za(A,h.alternate,h)}finally{ss=U,le.p=C,ee.T=x}}ne=3}}function td(){if(ne===4||ne===3){ne=0,Y();var A=we,h=Oe,x=Ge,C=bt;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?ne=5:(ne=0,Oe=we=null,nf(A,A.pendingLanes));var U=A.pendingLanes;if(U===0&&(D=null),Fr(x),h=h.stateNode,Te&&typeof Te.onCommitFiberRoot=="function")try{Te.onCommitFiberRoot(rt,h,void 0,(h.current.flags&128)===128)}catch{}if(C!==null){h=ee.T,U=le.p,le.p=2,ee.T=null;try{for(var G=A.onRecoverableError,Be=0;Be<C.length;Be++){var Re=C[Be];G(Re.value,{componentStack:Re.stack})}}finally{ee.T=h,le.p=U}}(Ge&3)!==0&&Ol(),of(A),U=A.pendingLanes,(x&4194090)!==0&&(U&42)!==0?A===zt?Bt++:(Bt=0,zt=A):Bt=0,Hx(0)}}function nf(A,h){(A.pooledCacheLanes&=h)===0&&(h=A.pooledCache,h!=null&&(A.pooledCache=null,qf(h)))}function Ol(A){return af(),sf(),td(),hA()}function hA(){if(ne!==5)return!1;var A=we,h=Ye;Ye=0;var x=Fr(Ge),C=ee.T,U=le.p;try{le.p=32>x?32:x,ee.T=null,x=mt,mt=null;var G=we,Be=Ge;if(ne=0,Oe=we=null,Ge=0,(ss&6)!==0)throw Error(s(331));var Re=ss;if(ss|=4,Hp(G.current),Dv(G,G.current,Be,x),ss=Re,Hx(0,!1),Te&&typeof Te.onPostCommitFiberRoot=="function")try{Te.onPostCommitFiberRoot(rt,G)}catch{}return!0}finally{le.p=U,ee.T=C,nf(A,h)}}function kh(A,h,x){h=Aa(x,h),h=Cx(A.stateNode,h,2),A=Zt(A,h,2),A!==null&&(He(A,2),of(A))}function Ds(A,h,x){if(A.tag===3)kh(A,A,x);else for(;h!==null;){if(h.tag===3){kh(h,A,x);break}else if(h.tag===1){var C=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(D===null||!D.has(C))){A=Aa(x,A),x=t0(2),C=Zt(h,x,2),C!==null&&(r0(x,C,h,A),He(C,2),of(C));break}}h=h.return}}function nj(A,h,x){var C=A.pingCache;if(C===null){C=A.pingCache=new Th;var U=new Set;C.set(h,U)}else U=C.get(h),U===void 0&&(U=new Set,C.set(h,U));U.has(x)||(Ux=!0,U.add(x),A=pG.bind(null,A,h,x),h.then(A,A))}function pG(A,h,x){var C=A.pingCache;C!==null&&C.delete(h),A.pingedLanes|=A.suspendedLanes&x,A.warmLanes&=~x,Ns===A&&(La&x)===x&&(dn===4||dn===3&&(La&62914560)===La&&300>Le()-P?(ss&2)===0&&Nr(A,0):Rx|=x,Ih===La&&(Ih=0)),of(A)}function RT(A,h){h===0&&(h=vt()),A=ec(A,h),A!==null&&(He(A,h),of(A))}function gG(A){var h=A.memoizedState,x=0;h!==null&&(x=h.retryLane),RT(A,x)}function xG(A,h){var x=0;switch(A.tag){case 13:var C=A.stateNode,U=A.memoizedState;U!==null&&(x=U.retryLane);break;case 19:C=A.stateNode;break;case 22:C=A.stateNode._retryCache;break;default:throw Error(s(314))}C!==null&&C.delete(h),RT(A,x)}function yG(A,h){return Ne(A,h)}var Mv=null,$p=null,ij=!1,Uv=!1,oj=!1,u0=0;function of(A){A!==$p&&A.next===null&&($p===null?Mv=$p=A:$p=$p.next=A),Uv=!0,ij||(ij=!0,bG())}function Hx(A,h){if(!oj&&Uv){oj=!0;do for(var x=!1,C=Mv;C!==null;){if(A!==0){var U=C.pendingLanes;if(U===0)var G=0;else{var Be=C.suspendedLanes,Re=C.pingedLanes;G=(1<<31-xt(42|A)+1)-1,G&=U&~(Be&~Re),G=G&201326741?G&201326741|1:G?G|2:0}G!==0&&(x=!0,zT(C,G))}else G=La,G=Ve(C,C===Ns?G:0,C.cancelPendingCommit!==null||C.timeoutHandle!==-1),(G&3)===0||Se(C,G)||(x=!0,zT(C,G));C=C.next}while(x);oj=!1}}function vG(){QT()}function QT(){Uv=ij=!1;var A=0;u0!==0&&(TG()&&(A=u0),u0=0);for(var h=Le(),x=null,C=Mv;C!==null;){var U=C.next,G=HT(C,h);G===0?(C.next=null,x===null?Mv=U:x.next=U,U===null&&($p=x)):(x=C,(A!==0||(G&3)!==0)&&(Uv=!0)),C=U}Hx(A)}function HT(A,h){for(var x=A.suspendedLanes,C=A.pingedLanes,U=A.expirationTimes,G=A.pendingLanes&-62914561;0<G;){var Be=31-xt(G),Re=1<<Be,lt=U[Be];lt===-1?((Re&x)===0||(Re&C)!==0)&&(U[Be]=ot(Re,h)):lt<=h&&(A.expiredLanes|=Re),G&=~Re}if(h=Ns,x=La,x=Ve(A,A===h?x:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),C=A.callbackNode,x===0||A===h&&(qa===2||qa===9)||A.cancelPendingCommit!==null)return C!==null&&C!==null&&ge(C),A.callbackNode=null,A.callbackPriority=0;if((x&3)===0||Se(A,x)){if(h=x&-x,h===A.callbackPriority)return h;switch(C!==null&&ge(C),Fr(x)){case 2:case 8:x=je;break;case 32:x=ye;break;case 268435456:x=be;break;default:x=ye}return C=$T.bind(null,A),x=Ne(x,C),A.callbackPriority=h,A.callbackNode=x,h}return C!==null&&C!==null&&ge(C),A.callbackPriority=2,A.callbackNode=null,2}function $T(A,h){if(ne!==0&&ne!==5)return A.callbackNode=null,A.callbackPriority=0,null;var x=A.callbackNode;if(Ol()&&A.callbackNode!==x)return null;var C=La;return C=Ve(A,A===Ns?C:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),C===0?null:(la(A,C,h),HT(A,Le()),A.callbackNode!=null&&A.callbackNode===x?$T.bind(null,A):null)}function zT(A,h){if(Ol())return null;la(A,h,!0)}function bG(){IG(function(){(ss&6)!==0?Ne(de,vG):QT()})}function lj(){return u0===0&&(u0=Ot()),u0}function VT(A){return A==null||typeof A=="symbol"||typeof A=="boolean"?null:typeof A=="function"?A:qo(""+A)}function KT(A,h){var x=h.ownerDocument.createElement("input");return x.name=h.name,x.value=h.value,A.id&&x.setAttribute("form",A.id),h.parentNode.insertBefore(x,h),A=new FormData(A),x.parentNode.removeChild(x),A}function wG(A,h,x,C,U){if(h==="submit"&&x&&x.stateNode===U){var G=VT((U[Gt]||null).action),Be=C.submitter;Be&&(h=(h=Be[Gt]||null)?VT(h.formAction):Be.getAttribute("formAction"),h!==null&&(G=h,Be=null));var Re=new Yl("action","action",null,C,U);A.push({event:Re,listeners:[{instance:null,listener:function(){if(C.defaultPrevented){if(u0!==0){var lt=Be?KT(U,Be):new FormData(U);kl(x,{pending:!0,data:lt,method:U.method,action:G},null,lt)}}else typeof G=="function"&&(Re.preventDefault(),lt=Be?KT(U,Be):new FormData(U),kl(x,{pending:!0,data:lt,method:U.method,action:G},G,lt))},currentTarget:U}]})}}for(var cj=0;cj<zc.length;cj++){var dj=zc[cj],jG=dj.toLowerCase(),NG=dj[0].toUpperCase()+dj.slice(1);_s(jG,"on"+NG)}_s(Fd,"onAnimationEnd"),_s(Hc,"onAnimationIteration"),_s($c,"onAnimationStart"),_s("dblclick","onDoubleClick"),_s("focusin","onFocus"),_s("focusout","onBlur"),_s(Xo,"onTransitionRun"),_s(Id,"onTransitionStart"),_s(kd,"onTransitionCancel"),_s(Zl,"onTransitionEnd"),tr("onMouseEnter",["mouseout","mouseover"]),tr("onMouseLeave",["mouseout","mouseover"]),tr("onPointerEnter",["pointerout","pointerover"]),tr("onPointerLeave",["pointerout","pointerover"]),Yt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $x="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SG=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($x));function GT(A,h){h=(h&4)!==0;for(var x=0;x<A.length;x++){var C=A[x],U=C.event;C=C.listeners;e:{var G=void 0;if(h)for(var Be=C.length-1;0<=Be;Be--){var Re=C[Be],lt=Re.instance,kt=Re.currentTarget;if(Re=Re.listener,lt!==G&&U.isPropagationStopped())break e;G=Re,U.currentTarget=kt;try{G(U)}catch(Xt){Nh(Xt)}U.currentTarget=null,G=lt}else for(Be=0;Be<C.length;Be++){if(Re=C[Be],lt=Re.instance,kt=Re.currentTarget,Re=Re.listener,lt!==G&&U.isPropagationStopped())break e;G=Re,U.currentTarget=kt;try{G(U)}catch(Xt){Nh(Xt)}U.currentTarget=null,G=lt}}}}function _a(A,h){var x=h[Jt];x===void 0&&(x=h[Jt]=new Set);var C=A+"__bubble";x.has(C)||(WT(h,A,2,!1),x.add(C))}function uj(A,h,x){var C=0;h&&(C|=4),WT(x,A,C,h)}var Rv="_reactListening"+Math.random().toString(36).slice(2);function fj(A){if(!A[Rv]){A[Rv]=!0,st.forEach(function(x){x!=="selectionchange"&&(SG.has(x)||uj(x,!1,A),uj(x,!0,A))});var h=A.nodeType===9?A:A.ownerDocument;h===null||h[Rv]||(h[Rv]=!0,uj("selectionchange",!1,h))}}function WT(A,h,x,C){switch(xF(h)){case 2:var U=JG;break;case 8:U=ZG;break;default:U=Cj}x=U.bind(null,h,x,A),U=void 0,!Fu||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(U=!0),C?U!==void 0?A.addEventListener(h,x,{capture:!0,passive:U}):A.addEventListener(h,x,!0):U!==void 0?A.addEventListener(h,x,{passive:U}):A.addEventListener(h,x,!1)}function Aj(A,h,x,C,U){var G=C;if((h&1)===0&&(h&2)===0&&C!==null)e:for(;;){if(C===null)return;var Be=C.tag;if(Be===3||Be===4){var Re=C.stateNode.containerInfo;if(Re===U)break;if(Be===4)for(Be=C.return;Be!==null;){var lt=Be.tag;if((lt===3||lt===4)&&Be.stateNode.containerInfo===U)return;Be=Be.return}for(;Re!==null;){if(Be=Je(Re),Be===null)return;if(lt=Be.tag,lt===5||lt===6||lt===26||lt===27){C=G=Be;continue e}Re=Re.parentNode}}C=C.return}ih(function(){var kt=G,Xt=Cn(x),ar=[];e:{var Pt=Cl.get(A);if(Pt!==void 0){var Dt=Yl,sa=A;switch(A){case"keypress":if(Oc(x)===0)break e;case"keydown":case"keyup":Dt=Lu;break;case"focusin":sa="focus",Dt=Sl;break;case"focusout":sa="blur",Dt=Sl;break;case"beforeblur":case"afterblur":Dt=Sl;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Dt=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Dt=Dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Dt=Hf;break;case Fd:case Hc:case $c:Dt=_m;break;case Zl:Dt=Ie;break;case"scroll":case"scrollend":Dt=oh;break;case"wheel":Dt=ut;break;case"copy":case"cut":case"paste":Dt=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Dt=Mu;break;case"toggle":case"beforetoggle":Dt=$t}var Xr=(h&4)!==0,Cs=!Xr&&(A==="scroll"||A==="scrollend"),Nt=Xr?Pt!==null?Pt+"Capture":null:Pt;Xr=[];for(var pt=kt,Ft;pt!==null;){var er=pt;if(Ft=er.stateNode,er=er.tag,er!==5&&er!==26&&er!==27||Ft===null||Nt===null||(er=Fi(pt,Nt),er!=null&&Xr.push(zx(pt,er,Ft))),Cs)break;pt=pt.return}0<Xr.length&&(Pt=new Dt(Pt,sa,null,x,Xt),ar.push({event:Pt,listeners:Xr}))}}if((h&7)===0){e:{if(Pt=A==="mouseover"||A==="pointerover",Dt=A==="mouseout"||A==="pointerout",Pt&&x!==bo&&(sa=x.relatedTarget||x.fromElement)&&(Je(sa)||sa[dr]))break e;if((Dt||Pt)&&(Pt=Xt.window===Xt?Xt:(Pt=Xt.ownerDocument)?Pt.defaultView||Pt.parentWindow:window,Dt?(sa=x.relatedTarget||x.toElement,Dt=kt,sa=sa?Je(sa):null,sa!==null&&(Cs=o(sa),Xr=sa.tag,sa!==Cs||Xr!==5&&Xr!==27&&Xr!==6)&&(sa=null)):(Dt=null,sa=kt),Dt!==sa)){if(Xr=Nl,er="onMouseLeave",Nt="onMouseEnter",pt="mouse",(A==="pointerout"||A==="pointerover")&&(Xr=Mu,er="onPointerLeave",Nt="onPointerEnter",pt="pointer"),Cs=Dt==null?Pt:St(Dt),Ft=sa==null?Pt:St(sa),Pt=new Xr(er,pt+"leave",Dt,x,Xt),Pt.target=Cs,Pt.relatedTarget=Ft,er=null,Je(Xt)===kt&&(Xr=new Xr(Nt,pt+"enter",sa,x,Xt),Xr.target=Ft,Xr.relatedTarget=Cs,er=Xr),Cs=er,Dt&&sa)t:{for(Xr=Dt,Nt=sa,pt=0,Ft=Xr;Ft;Ft=zp(Ft))pt++;for(Ft=0,er=Nt;er;er=zp(er))Ft++;for(;0<pt-Ft;)Xr=zp(Xr),pt--;for(;0<Ft-pt;)Nt=zp(Nt),Ft--;for(;pt--;){if(Xr===Nt||Nt!==null&&Xr===Nt.alternate)break t;Xr=zp(Xr),Nt=zp(Nt)}Xr=null}else Xr=null;Dt!==null&&qT(ar,Pt,Dt,Xr,!1),sa!==null&&Cs!==null&&qT(ar,Cs,sa,Xr,!0)}}e:{if(Pt=kt?St(kt):window,Dt=Pt.nodeName&&Pt.nodeName.toLowerCase(),Dt==="select"||Dt==="input"&&Pt.type==="file")var Or=Uc;else if(ln(Pt))if(_i)Or=zf;else{Or=Uu;var Ba=Ai}else Dt=Pt.nodeName,!Dt||Dt.toLowerCase()!=="input"||Pt.type!=="checkbox"&&Pt.type!=="radio"?kt&&Lf(kt.elementType)&&(Or=Uc):Or=Ru;if(Or&&(Or=Or(A,kt))){$f(ar,Or,x,Xt);break e}Ba&&Ba(A,Pt,kt),A==="focusout"&&kt&&Pt.type==="number"&&kt.memoizedProps.value!=null&&Pf(Pt,"number",Pt.value)}switch(Ba=kt?St(kt):window,A){case"focusin":(ln(Ba)||Ba.contentEditable==="true")&&(Pi=Ba,mi=kt,En=null);break;case"focusout":En=mi=Pi=null;break;case"mousedown":Yo=!0;break;case"contextmenu":case"mouseup":case"dragend":Yo=!1,Hs(ar,x,Xt);break;case"selectionchange":if(Jl)break;case"keydown":case"keyup":Hs(ar,x,Xt)}var Rr;if(Sr)e:{switch(A){case"compositionstart":var ea="onCompositionStart";break e;case"compositionend":ea="onCompositionEnd";break e;case"compositionupdate":ea="onCompositionUpdate";break e}ea=void 0}else Ys?Ka(A,x)&&(ea="onCompositionEnd"):A==="keydown"&&x.keyCode===229&&(ea="onCompositionStart");ea&&(Jr&&x.locale!=="ko"&&(Ys||ea!=="onCompositionStart"?ea==="onCompositionEnd"&&Ys&&(Rr=Uf()):(Ws=Xt,Iu="value"in Ws?Ws.value:Ws.textContent,Ys=!0)),Ba=Qv(kt,ea),0<Ba.length&&(ea=new Pu(ea,A,null,x,Xt),ar.push({event:ea,listeners:Ba}),Rr?ea.data=Rr:(Rr=Gr(x),Rr!==null&&(ea.data=Rr)))),(Rr=ta?on(A,x):jo(A,x))&&(ea=Qv(kt,"onBeforeInput"),0<ea.length&&(Ba=new Pu("onBeforeInput","beforeinput",null,x,Xt),ar.push({event:Ba,listeners:ea}),Ba.data=Rr)),wG(ar,A,kt,x,Xt)}GT(ar,h)})}function zx(A,h,x){return{instance:A,listener:h,currentTarget:x}}function Qv(A,h){for(var x=h+"Capture",C=[];A!==null;){var U=A,G=U.stateNode;if(U=U.tag,U!==5&&U!==26&&U!==27||G===null||(U=Fi(A,x),U!=null&&C.unshift(zx(A,U,G)),U=Fi(A,h),U!=null&&C.push(zx(A,U,G))),A.tag===3)return C;A=A.return}return[]}function zp(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5&&A.tag!==27);return A||null}function qT(A,h,x,C,U){for(var G=h._reactName,Be=[];x!==null&&x!==C;){var Re=x,lt=Re.alternate,kt=Re.stateNode;if(Re=Re.tag,lt!==null&&lt===C)break;Re!==5&&Re!==26&&Re!==27||kt===null||(lt=kt,U?(kt=Fi(x,G),kt!=null&&Be.unshift(zx(x,kt,lt))):U||(kt=Fi(x,G),kt!=null&&Be.push(zx(x,kt,lt)))),x=x.return}Be.length!==0&&A.push({event:h,listeners:Be})}var CG=/\r\n?/g,BG=/\u0000|\uFFFD/g;function YT(A){return(typeof A=="string"?A:""+A).replace(CG,`
`).replace(BG,"")}function XT(A,h){return h=YT(h),YT(A)===h}function Hv(){}function Ss(A,h,x,C,U,G){switch(x){case"children":typeof C=="string"?h==="body"||h==="textarea"&&C===""||kc(A,C):(typeof C=="number"||typeof C=="bigint")&&h!=="body"&&kc(A,""+C);break;case"className":Oa(A,"class",C);break;case"tabIndex":Oa(A,"tabindex",C);break;case"dir":case"role":case"viewBox":case"width":case"height":Oa(A,x,C);break;case"style":Df(A,C,G);break;case"data":if(h!=="object"){Oa(A,"data",C);break}case"src":case"href":if(C===""&&(h!=="a"||x!=="href")){A.removeAttribute(x);break}if(C==null||typeof C=="function"||typeof C=="symbol"||typeof C=="boolean"){A.removeAttribute(x);break}C=qo(""+C),A.setAttribute(x,C);break;case"action":case"formAction":if(typeof C=="function"){A.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof G=="function"&&(x==="formAction"?(h!=="input"&&Ss(A,h,"name",U.name,U,null),Ss(A,h,"formEncType",U.formEncType,U,null),Ss(A,h,"formMethod",U.formMethod,U,null),Ss(A,h,"formTarget",U.formTarget,U,null)):(Ss(A,h,"encType",U.encType,U,null),Ss(A,h,"method",U.method,U,null),Ss(A,h,"target",U.target,U,null)));if(C==null||typeof C=="symbol"||typeof C=="boolean"){A.removeAttribute(x);break}C=qo(""+C),A.setAttribute(x,C);break;case"onClick":C!=null&&(A.onclick=Hv);break;case"onScroll":C!=null&&_a("scroll",A);break;case"onScrollEnd":C!=null&&_a("scrollend",A);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(s(61));if(x=C.__html,x!=null){if(U.children!=null)throw Error(s(60));A.innerHTML=x}}break;case"multiple":A.multiple=C&&typeof C!="function"&&typeof C!="symbol";break;case"muted":A.muted=C&&typeof C!="function"&&typeof C!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(C==null||typeof C=="function"||typeof C=="boolean"||typeof C=="symbol"){A.removeAttribute("xlink:href");break}x=qo(""+C),A.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":C!=null&&typeof C!="function"&&typeof C!="symbol"?A.setAttribute(x,""+C):A.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":C&&typeof C!="function"&&typeof C!="symbol"?A.setAttribute(x,""):A.removeAttribute(x);break;case"capture":case"download":C===!0?A.setAttribute(x,""):C!==!1&&C!=null&&typeof C!="function"&&typeof C!="symbol"?A.setAttribute(x,C):A.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":C!=null&&typeof C!="function"&&typeof C!="symbol"&&!isNaN(C)&&1<=C?A.setAttribute(x,C):A.removeAttribute(x);break;case"rowSpan":case"start":C==null||typeof C=="function"||typeof C=="symbol"||isNaN(C)?A.removeAttribute(x):A.setAttribute(x,C);break;case"popover":_a("beforetoggle",A),_a("toggle",A),ga(A,"popover",C);break;case"xlinkActuate":Ma(A,"http://www.w3.org/1999/xlink","xlink:actuate",C);break;case"xlinkArcrole":Ma(A,"http://www.w3.org/1999/xlink","xlink:arcrole",C);break;case"xlinkRole":Ma(A,"http://www.w3.org/1999/xlink","xlink:role",C);break;case"xlinkShow":Ma(A,"http://www.w3.org/1999/xlink","xlink:show",C);break;case"xlinkTitle":Ma(A,"http://www.w3.org/1999/xlink","xlink:title",C);break;case"xlinkType":Ma(A,"http://www.w3.org/1999/xlink","xlink:type",C);break;case"xmlBase":Ma(A,"http://www.w3.org/XML/1998/namespace","xml:base",C);break;case"xmlLang":Ma(A,"http://www.w3.org/XML/1998/namespace","xml:lang",C);break;case"xmlSpace":Ma(A,"http://www.w3.org/XML/1998/namespace","xml:space",C);break;case"is":ga(A,"is",C);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=Gl.get(x)||x,ga(A,x,C))}}function hj(A,h,x,C,U,G){switch(x){case"style":Df(A,C,G);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(s(61));if(x=C.__html,x!=null){if(U.children!=null)throw Error(s(60));A.innerHTML=x}}break;case"children":typeof C=="string"?kc(A,C):(typeof C=="number"||typeof C=="bigint")&&kc(A,""+C);break;case"onScroll":C!=null&&_a("scroll",A);break;case"onScrollEnd":C!=null&&_a("scrollend",A);break;case"onClick":C!=null&&(A.onclick=Hv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jt.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(U=x.endsWith("Capture"),h=x.slice(2,U?x.length-7:void 0),G=A[Gt]||null,G=G!=null?G[x]:null,typeof G=="function"&&A.removeEventListener(h,G,U),typeof C=="function")){typeof G!="function"&&G!==null&&(x in A?A[x]=null:A.hasAttribute(x)&&A.removeAttribute(x)),A.addEventListener(h,C,U);break e}x in A?A[x]=C:C===!0?A.setAttribute(x,""):ga(A,x,C)}}}function so(A,h,x){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_a("error",A),_a("load",A);var C=!1,U=!1,G;for(G in x)if(x.hasOwnProperty(G)){var Be=x[G];if(Be!=null)switch(G){case"src":C=!0;break;case"srcSet":U=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,h));default:Ss(A,h,G,Be,x,null)}}U&&Ss(A,h,"srcSet",x.srcSet,x,null),C&&Ss(A,h,"src",x.src,x,null);return;case"input":_a("invalid",A);var Re=G=Be=U=null,lt=null,kt=null;for(C in x)if(x.hasOwnProperty(C)){var Xt=x[C];if(Xt!=null)switch(C){case"name":U=Xt;break;case"type":Be=Xt;break;case"checked":lt=Xt;break;case"defaultChecked":kt=Xt;break;case"value":G=Xt;break;case"defaultValue":Re=Xt;break;case"children":case"dangerouslySetInnerHTML":if(Xt!=null)throw Error(s(137,h));break;default:Ss(A,h,C,Xt,x,null)}}_f(A,G,Re,lt,kt,Be,U,!1),Wo(A);return;case"select":_a("invalid",A),C=Be=G=null;for(U in x)if(x.hasOwnProperty(U)&&(Re=x[U],Re!=null))switch(U){case"value":G=Re;break;case"defaultValue":Be=Re;break;case"multiple":C=Re;default:Ss(A,h,U,Re,x,null)}h=G,x=Be,A.multiple=!!C,h!=null?Kl(A,!!C,h,!1):x!=null&&Kl(A,!!C,x,!0);return;case"textarea":_a("invalid",A),G=U=C=null;for(Be in x)if(x.hasOwnProperty(Be)&&(Re=x[Be],Re!=null))switch(Be){case"value":C=Re;break;case"defaultValue":U=Re;break;case"children":G=Re;break;case"dangerouslySetInnerHTML":if(Re!=null)throw Error(s(91));break;default:Ss(A,h,Be,Re,x,null)}Of(A,C,U,G),Wo(A);return;case"option":for(lt in x)if(x.hasOwnProperty(lt)&&(C=x[lt],C!=null))switch(lt){case"selected":A.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:Ss(A,h,lt,C,x,null)}return;case"dialog":_a("beforetoggle",A),_a("toggle",A),_a("cancel",A),_a("close",A);break;case"iframe":case"object":_a("load",A);break;case"video":case"audio":for(C=0;C<$x.length;C++)_a($x[C],A);break;case"image":_a("error",A),_a("load",A);break;case"details":_a("toggle",A);break;case"embed":case"source":case"link":_a("error",A),_a("load",A);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(kt in x)if(x.hasOwnProperty(kt)&&(C=x[kt],C!=null))switch(kt){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,h));default:Ss(A,h,kt,C,x,null)}return;default:if(Lf(h)){for(Xt in x)x.hasOwnProperty(Xt)&&(C=x[Xt],C!==void 0&&hj(A,h,Xt,C,x,void 0));return}}for(Re in x)x.hasOwnProperty(Re)&&(C=x[Re],C!=null&&Ss(A,h,Re,C,x,null))}function EG(A,h,x,C){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var U=null,G=null,Be=null,Re=null,lt=null,kt=null,Xt=null;for(Dt in x){var ar=x[Dt];if(x.hasOwnProperty(Dt)&&ar!=null)switch(Dt){case"checked":break;case"value":break;case"defaultValue":lt=ar;default:C.hasOwnProperty(Dt)||Ss(A,h,Dt,null,C,ar)}}for(var Pt in C){var Dt=C[Pt];if(ar=x[Pt],C.hasOwnProperty(Pt)&&(Dt!=null||ar!=null))switch(Pt){case"type":G=Dt;break;case"name":U=Dt;break;case"checked":kt=Dt;break;case"defaultChecked":Xt=Dt;break;case"value":Be=Dt;break;case"defaultValue":Re=Dt;break;case"children":case"dangerouslySetInnerHTML":if(Dt!=null)throw Error(s(137,h));break;default:Dt!==ar&&Ss(A,h,Pt,Dt,C,ar)}}wd(A,Be,Re,lt,kt,Xt,G,U);return;case"select":Dt=Be=Re=Pt=null;for(G in x)if(lt=x[G],x.hasOwnProperty(G)&&lt!=null)switch(G){case"value":break;case"multiple":Dt=lt;default:C.hasOwnProperty(G)||Ss(A,h,G,null,C,lt)}for(U in C)if(G=C[U],lt=x[U],C.hasOwnProperty(U)&&(G!=null||lt!=null))switch(U){case"value":Pt=G;break;case"defaultValue":Re=G;break;case"multiple":Be=G;default:G!==lt&&Ss(A,h,U,G,C,lt)}h=Re,x=Be,C=Dt,Pt!=null?Kl(A,!!x,Pt,!1):!!C!=!!x&&(h!=null?Kl(A,!!x,h,!0):Kl(A,!!x,x?[]:"",!1));return;case"textarea":Dt=Pt=null;for(Re in x)if(U=x[Re],x.hasOwnProperty(Re)&&U!=null&&!C.hasOwnProperty(Re))switch(Re){case"value":break;case"children":break;default:Ss(A,h,Re,null,C,U)}for(Be in C)if(U=C[Be],G=x[Be],C.hasOwnProperty(Be)&&(U!=null||G!=null))switch(Be){case"value":Pt=U;break;case"defaultValue":Dt=U;break;case"children":break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(91));break;default:U!==G&&Ss(A,h,Be,U,C,G)}sh(A,Pt,Dt);return;case"option":for(var sa in x)if(Pt=x[sa],x.hasOwnProperty(sa)&&Pt!=null&&!C.hasOwnProperty(sa))switch(sa){case"selected":A.selected=!1;break;default:Ss(A,h,sa,null,C,Pt)}for(lt in C)if(Pt=C[lt],Dt=x[lt],C.hasOwnProperty(lt)&&Pt!==Dt&&(Pt!=null||Dt!=null))switch(lt){case"selected":A.selected=Pt&&typeof Pt!="function"&&typeof Pt!="symbol";break;default:Ss(A,h,lt,Pt,C,Dt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xr in x)Pt=x[Xr],x.hasOwnProperty(Xr)&&Pt!=null&&!C.hasOwnProperty(Xr)&&Ss(A,h,Xr,null,C,Pt);for(kt in C)if(Pt=C[kt],Dt=x[kt],C.hasOwnProperty(kt)&&Pt!==Dt&&(Pt!=null||Dt!=null))switch(kt){case"children":case"dangerouslySetInnerHTML":if(Pt!=null)throw Error(s(137,h));break;default:Ss(A,h,kt,Pt,C,Dt)}return;default:if(Lf(h)){for(var Cs in x)Pt=x[Cs],x.hasOwnProperty(Cs)&&Pt!==void 0&&!C.hasOwnProperty(Cs)&&hj(A,h,Cs,void 0,C,Pt);for(Xt in C)Pt=C[Xt],Dt=x[Xt],!C.hasOwnProperty(Xt)||Pt===Dt||Pt===void 0&&Dt===void 0||hj(A,h,Xt,Pt,C,Dt);return}}for(var Nt in x)Pt=x[Nt],x.hasOwnProperty(Nt)&&Pt!=null&&!C.hasOwnProperty(Nt)&&Ss(A,h,Nt,null,C,Pt);for(ar in C)Pt=C[ar],Dt=x[ar],!C.hasOwnProperty(ar)||Pt===Dt||Pt==null&&Dt==null||Ss(A,h,ar,Pt,C,Dt)}var mj=null,pj=null;function $v(A){return A.nodeType===9?A:A.ownerDocument}function JT(A){switch(A){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ZT(A,h){if(A===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return A===1&&h==="foreignObject"?0:A}function gj(A,h){return A==="textarea"||A==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var xj=null;function TG(){var A=window.event;return A&&A.type==="popstate"?A===xj?!1:(xj=A,!0):(xj=null,!1)}var eF=typeof setTimeout=="function"?setTimeout:void 0,FG=typeof clearTimeout=="function"?clearTimeout:void 0,tF=typeof Promise=="function"?Promise:void 0,IG=typeof queueMicrotask=="function"?queueMicrotask:typeof tF<"u"?function(A){return tF.resolve(null).then(A).catch(kG)}:eF;function kG(A){setTimeout(function(){throw A})}function _h(A){return A==="head"}function rF(A,h){var x=h,C=0,U=0;do{var G=x.nextSibling;if(A.removeChild(x),G&&G.nodeType===8)if(x=G.data,x==="/$"){if(0<C&&8>C){x=C;var Be=A.ownerDocument;if(x&1&&Vx(Be.documentElement),x&2&&Vx(Be.body),x&4)for(x=Be.head,Vx(x),Be=x.firstChild;Be;){var Re=Be.nextSibling,lt=Be.nodeName;Be[ze]||lt==="SCRIPT"||lt==="STYLE"||lt==="LINK"&&Be.rel.toLowerCase()==="stylesheet"||x.removeChild(Be),Be=Re}}if(U===0){A.removeChild(G),Zx(h);return}U--}else x==="$"||x==="$?"||x==="$!"?U++:C=x.charCodeAt(0)-48;else C=0;x=G}while(x);Zx(h)}function yj(A){var h=A.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var x=h;switch(h=h.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":yj(x),Ke(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}A.removeChild(x)}}function _G(A,h,x,C){for(;A.nodeType===1;){var U=x;if(A.nodeName.toLowerCase()!==h.toLowerCase()){if(!C&&(A.nodeName!=="INPUT"||A.type!=="hidden"))break}else if(C){if(!A[ze])switch(h){case"meta":if(!A.hasAttribute("itemprop"))break;return A;case"link":if(G=A.getAttribute("rel"),G==="stylesheet"&&A.hasAttribute("data-precedence"))break;if(G!==U.rel||A.getAttribute("href")!==(U.href==null||U.href===""?null:U.href)||A.getAttribute("crossorigin")!==(U.crossOrigin==null?null:U.crossOrigin)||A.getAttribute("title")!==(U.title==null?null:U.title))break;return A;case"style":if(A.hasAttribute("data-precedence"))break;return A;case"script":if(G=A.getAttribute("src"),(G!==(U.src==null?null:U.src)||A.getAttribute("type")!==(U.type==null?null:U.type)||A.getAttribute("crossorigin")!==(U.crossOrigin==null?null:U.crossOrigin))&&G&&A.hasAttribute("async")&&!A.hasAttribute("itemprop"))break;return A;default:return A}}else if(h==="input"&&A.type==="hidden"){var G=U.name==null?null:""+U.name;if(U.type==="hidden"&&A.getAttribute("name")===G)return A}else return A;if(A=lu(A.nextSibling),A===null)break}return null}function PG(A,h,x){if(h==="")return null;for(;A.nodeType!==3;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!x||(A=lu(A.nextSibling),A===null))return null;return A}function vj(A){return A.data==="$!"||A.data==="$?"&&A.ownerDocument.readyState==="complete"}function OG(A,h){var x=A.ownerDocument;if(A.data!=="$?"||x.readyState==="complete")h();else{var C=function(){h(),x.removeEventListener("DOMContentLoaded",C)};x.addEventListener("DOMContentLoaded",C),A._reactRetry=C}}function lu(A){for(;A!=null;A=A.nextSibling){var h=A.nodeType;if(h===1||h===3)break;if(h===8){if(h=A.data,h==="$"||h==="$!"||h==="$?"||h==="F!"||h==="F")break;if(h==="/$")return null}}return A}var bj=null;function aF(A){A=A.previousSibling;for(var h=0;A;){if(A.nodeType===8){var x=A.data;if(x==="$"||x==="$!"||x==="$?"){if(h===0)return A;h--}else x==="/$"&&h++}A=A.previousSibling}return null}function sF(A,h,x){switch(h=$v(x),A){case"html":if(A=h.documentElement,!A)throw Error(s(452));return A;case"head":if(A=h.head,!A)throw Error(s(453));return A;case"body":if(A=h.body,!A)throw Error(s(454));return A;default:throw Error(s(451))}}function Vx(A){for(var h=A.attributes;h.length;)A.removeAttributeNode(h[0]);Ke(A)}var rd=new Map,nF=new Set;function zv(A){return typeof A.getRootNode=="function"?A.getRootNode():A.nodeType===9?A:A.ownerDocument}var mA=le.d;le.d={f:DG,r:LG,D:MG,C:UG,L:RG,m:QG,X:$G,S:HG,M:zG};function DG(){var A=mA.f(),h=oa();return A||h}function LG(A){var h=et(A);h!==null&&h.tag===5&&h.type==="form"?aA(h):mA.r(A)}var Vp=typeof document>"u"?null:document;function iF(A,h,x){var C=Vp;if(C&&typeof h=="string"&&h){var U=ds(h);U='link[rel="'+A+'"][href="'+U+'"]',typeof x=="string"&&(U+='[crossorigin="'+x+'"]'),nF.has(U)||(nF.add(U),A={rel:A,crossOrigin:x,href:h},C.querySelector(U)===null&&(h=C.createElement("link"),so(h,"link",A),We(h),C.head.appendChild(h)))}}function MG(A){mA.D(A),iF("dns-prefetch",A,null)}function UG(A,h){mA.C(A,h),iF("preconnect",A,h)}function RG(A,h,x){mA.L(A,h,x);var C=Vp;if(C&&A&&h){var U='link[rel="preload"][as="'+ds(h)+'"]';h==="image"&&x&&x.imageSrcSet?(U+='[imagesrcset="'+ds(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(U+='[imagesizes="'+ds(x.imageSizes)+'"]')):U+='[href="'+ds(A)+'"]';var G=U;switch(h){case"style":G=Kp(A);break;case"script":G=Gp(A)}rd.has(G)||(A=u({rel:"preload",href:h==="image"&&x&&x.imageSrcSet?void 0:A,as:h},x),rd.set(G,A),C.querySelector(U)!==null||h==="style"&&C.querySelector(Kx(G))||h==="script"&&C.querySelector(Gx(G))||(h=C.createElement("link"),so(h,"link",A),We(h),C.head.appendChild(h)))}}function QG(A,h){mA.m(A,h);var x=Vp;if(x&&A){var C=h&&typeof h.as=="string"?h.as:"script",U='link[rel="modulepreload"][as="'+ds(C)+'"][href="'+ds(A)+'"]',G=U;switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":G=Gp(A)}if(!rd.has(G)&&(A=u({rel:"modulepreload",href:A},h),rd.set(G,A),x.querySelector(U)===null)){switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(Gx(G)))return}C=x.createElement("link"),so(C,"link",A),We(C),x.head.appendChild(C)}}}function HG(A,h,x){mA.S(A,h,x);var C=Vp;if(C&&A){var U=Me(C).hoistableStyles,G=Kp(A);h=h||"default";var Be=U.get(G);if(!Be){var Re={loading:0,preload:null};if(Be=C.querySelector(Kx(G)))Re.loading=5;else{A=u({rel:"stylesheet",href:A,"data-precedence":h},x),(x=rd.get(G))&&wj(A,x);var lt=Be=C.createElement("link");We(lt),so(lt,"link",A),lt._p=new Promise(function(kt,Xt){lt.onload=kt,lt.onerror=Xt}),lt.addEventListener("load",function(){Re.loading|=1}),lt.addEventListener("error",function(){Re.loading|=2}),Re.loading|=4,Vv(Be,h,C)}Be={type:"stylesheet",instance:Be,count:1,state:Re},U.set(G,Be)}}}function $G(A,h){mA.X(A,h);var x=Vp;if(x&&A){var C=Me(x).hoistableScripts,U=Gp(A),G=C.get(U);G||(G=x.querySelector(Gx(U)),G||(A=u({src:A,async:!0},h),(h=rd.get(U))&&jj(A,h),G=x.createElement("script"),We(G),so(G,"link",A),x.head.appendChild(G)),G={type:"script",instance:G,count:1,state:null},C.set(U,G))}}function zG(A,h){mA.M(A,h);var x=Vp;if(x&&A){var C=Me(x).hoistableScripts,U=Gp(A),G=C.get(U);G||(G=x.querySelector(Gx(U)),G||(A=u({src:A,async:!0,type:"module"},h),(h=rd.get(U))&&jj(A,h),G=x.createElement("script"),We(G),so(G,"link",A),x.head.appendChild(G)),G={type:"script",instance:G,count:1,state:null},C.set(U,G))}}function oF(A,h,x,C){var U=(U=ce.current)?zv(U):null;if(!U)throw Error(s(446));switch(A){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(h=Kp(x.href),x=Me(U).hoistableStyles,C=x.get(h),C||(C={type:"style",instance:null,count:0,state:null},x.set(h,C)),C):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){A=Kp(x.href);var G=Me(U).hoistableStyles,Be=G.get(A);if(Be||(U=U.ownerDocument||U,Be={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},G.set(A,Be),(G=U.querySelector(Kx(A)))&&!G._p&&(Be.instance=G,Be.state.loading=5),rd.has(A)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},rd.set(A,x),G||VG(U,A,x,Be.state))),h&&C===null)throw Error(s(528,""));return Be}if(h&&C!==null)throw Error(s(529,""));return null;case"script":return h=x.async,x=x.src,typeof x=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=Gp(x),x=Me(U).hoistableScripts,C=x.get(h),C||(C={type:"script",instance:null,count:0,state:null},x.set(h,C)),C):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,A))}}function Kp(A){return'href="'+ds(A)+'"'}function Kx(A){return'link[rel="stylesheet"]['+A+"]"}function lF(A){return u({},A,{"data-precedence":A.precedence,precedence:null})}function VG(A,h,x,C){A.querySelector('link[rel="preload"][as="style"]['+h+"]")?C.loading=1:(h=A.createElement("link"),C.preload=h,h.addEventListener("load",function(){return C.loading|=1}),h.addEventListener("error",function(){return C.loading|=2}),so(h,"link",x),We(h),A.head.appendChild(h))}function Gp(A){return'[src="'+ds(A)+'"]'}function Gx(A){return"script[async]"+A}function cF(A,h,x){if(h.count++,h.instance===null)switch(h.type){case"style":var C=A.querySelector('style[data-href~="'+ds(x.href)+'"]');if(C)return h.instance=C,We(C),C;var U=u({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return C=(A.ownerDocument||A).createElement("style"),We(C),so(C,"style",U),Vv(C,x.precedence,A),h.instance=C;case"stylesheet":U=Kp(x.href);var G=A.querySelector(Kx(U));if(G)return h.state.loading|=4,h.instance=G,We(G),G;C=lF(x),(U=rd.get(U))&&wj(C,U),G=(A.ownerDocument||A).createElement("link"),We(G);var Be=G;return Be._p=new Promise(function(Re,lt){Be.onload=Re,Be.onerror=lt}),so(G,"link",C),h.state.loading|=4,Vv(G,x.precedence,A),h.instance=G;case"script":return G=Gp(x.src),(U=A.querySelector(Gx(G)))?(h.instance=U,We(U),U):(C=x,(U=rd.get(G))&&(C=u({},x),jj(C,U)),A=A.ownerDocument||A,U=A.createElement("script"),We(U),so(U,"link",C),A.head.appendChild(U),h.instance=U);case"void":return null;default:throw Error(s(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(C=h.instance,h.state.loading|=4,Vv(C,x.precedence,A));return h.instance}function Vv(A,h,x){for(var C=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),U=C.length?C[C.length-1]:null,G=U,Be=0;Be<C.length;Be++){var Re=C[Be];if(Re.dataset.precedence===h)G=Re;else if(G!==U)break}G?G.parentNode.insertBefore(A,G.nextSibling):(h=x.nodeType===9?x.head:x,h.insertBefore(A,h.firstChild))}function wj(A,h){A.crossOrigin==null&&(A.crossOrigin=h.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=h.referrerPolicy),A.title==null&&(A.title=h.title)}function jj(A,h){A.crossOrigin==null&&(A.crossOrigin=h.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=h.referrerPolicy),A.integrity==null&&(A.integrity=h.integrity)}var Kv=null;function dF(A,h,x){if(Kv===null){var C=new Map,U=Kv=new Map;U.set(x,C)}else U=Kv,C=U.get(x),C||(C=new Map,U.set(x,C));if(C.has(A))return C;for(C.set(A,null),x=x.getElementsByTagName(A),U=0;U<x.length;U++){var G=x[U];if(!(G[ze]||G[Ht]||A==="link"&&G.getAttribute("rel")==="stylesheet")&&G.namespaceURI!=="http://www.w3.org/2000/svg"){var Be=G.getAttribute(h)||"";Be=A+Be;var Re=C.get(Be);Re?Re.push(G):C.set(Be,[G])}}return C}function uF(A,h,x){A=A.ownerDocument||A,A.head.insertBefore(x,h==="title"?A.querySelector("head > title"):null)}function KG(A,h,x){if(x===1||h.itemProp!=null)return!1;switch(A){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return A=h.disabled,typeof h.precedence=="string"&&A==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function fF(A){return!(A.type==="stylesheet"&&(A.state.loading&3)===0)}var Wx=null;function GG(){}function WG(A,h,x){if(Wx===null)throw Error(s(475));var C=Wx;if(h.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var U=Kp(x.href),G=A.querySelector(Kx(U));if(G){A=G._p,A!==null&&typeof A=="object"&&typeof A.then=="function"&&(C.count++,C=Gv.bind(C),A.then(C,C)),h.state.loading|=4,h.instance=G,We(G);return}G=A.ownerDocument||A,x=lF(x),(U=rd.get(U))&&wj(x,U),G=G.createElement("link"),We(G);var Be=G;Be._p=new Promise(function(Re,lt){Be.onload=Re,Be.onerror=lt}),so(G,"link",x),h.instance=G}C.stylesheets===null&&(C.stylesheets=new Map),C.stylesheets.set(h,A),(A=h.state.preload)&&(h.state.loading&3)===0&&(C.count++,h=Gv.bind(C),A.addEventListener("load",h),A.addEventListener("error",h))}}function qG(){if(Wx===null)throw Error(s(475));var A=Wx;return A.stylesheets&&A.count===0&&Nj(A,A.stylesheets),0<A.count?function(h){var x=setTimeout(function(){if(A.stylesheets&&Nj(A,A.stylesheets),A.unsuspend){var C=A.unsuspend;A.unsuspend=null,C()}},6e4);return A.unsuspend=h,function(){A.unsuspend=null,clearTimeout(x)}}:null}function Gv(){if(this.count--,this.count===0){if(this.stylesheets)Nj(this,this.stylesheets);else if(this.unsuspend){var A=this.unsuspend;this.unsuspend=null,A()}}}var Wv=null;function Nj(A,h){A.stylesheets=null,A.unsuspend!==null&&(A.count++,Wv=new Map,h.forEach(YG,A),Wv=null,Gv.call(A))}function YG(A,h){if(!(h.state.loading&4)){var x=Wv.get(A);if(x)var C=x.get(null);else{x=new Map,Wv.set(A,x);for(var U=A.querySelectorAll("link[data-precedence],style[data-precedence]"),G=0;G<U.length;G++){var Be=U[G];(Be.nodeName==="LINK"||Be.getAttribute("media")!=="not all")&&(x.set(Be.dataset.precedence,Be),C=Be)}C&&x.set(null,C)}U=h.instance,Be=U.getAttribute("data-precedence"),G=x.get(Be)||C,G===C&&x.set(null,U),x.set(Be,U),this.count++,C=Gv.bind(this),U.addEventListener("load",C),U.addEventListener("error",C),G?G.parentNode.insertBefore(U,G.nextSibling):(A=A.nodeType===9?A.head:A,A.insertBefore(U,A.firstChild)),h.state.loading|=4}}var qx={$$typeof:S,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function XG(A,h,x,C,U,G,Be,Re){this.tag=1,this.containerInfo=A,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ze(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ze(0),this.hiddenUpdates=Ze(null),this.identifierPrefix=C,this.onUncaughtError=U,this.onCaughtError=G,this.onRecoverableError=Be,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Re,this.incompleteTransitions=new Map}function AF(A,h,x,C,U,G,Be,Re,lt,kt,Xt,ar){return A=new XG(A,h,x,Be,Re,lt,kt,ar),h=1,G===!0&&(h|=24),G=Zn(3,null,null,h),A.current=G,G.stateNode=A,h=Dm(),h.refCount++,A.pooledCache=h,h.refCount++,G.memoizedState={element:C,isDehydrated:x,cache:h},ht(G),A}function hF(A){return A?(A=Tn,A):Tn}function mF(A,h,x,C,U,G){U=hF(U),C.context===null?C.context=U:C.pendingContext=U,C=Kt(h),C.payload={element:x},G=G===void 0?null:G,G!==null&&(C.callback=G),x=Zt(A,C,h),x!==null&&(pr(x,A,h),qt(x,A,h))}function pF(A,h){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var x=A.retryLane;A.retryLane=x!==0&&x<h?x:h}}function Sj(A,h){pF(A,h),(A=A.alternate)&&pF(A,h)}function gF(A){if(A.tag===13){var h=ec(A,67108864);h!==null&&pr(h,A,67108864),Sj(A,67108864)}}var qv=!0;function JG(A,h,x,C){var U=ee.T;ee.T=null;var G=le.p;try{le.p=2,Cj(A,h,x,C)}finally{le.p=G,ee.T=U}}function ZG(A,h,x,C){var U=ee.T;ee.T=null;var G=le.p;try{le.p=8,Cj(A,h,x,C)}finally{le.p=G,ee.T=U}}function Cj(A,h,x,C){if(qv){var U=Bj(C);if(U===null)Aj(A,h,C,Yv,x),yF(A,C);else if(tW(U,A,h,x,C))C.stopPropagation();else if(yF(A,C),h&4&&-1<eW.indexOf(A)){for(;U!==null;){var G=et(U);if(G!==null)switch(G.tag){case 3:if(G=G.stateNode,G.current.memoizedState.isDehydrated){var Be=_t(G.pendingLanes);if(Be!==0){var Re=G;for(Re.pendingLanes|=2,Re.entangledLanes|=2;Be;){var lt=1<<31-xt(Be);Re.entanglements[1]|=lt,Be&=~lt}of(G),(ss&6)===0&&(T=Le()+500,Hx(0))}}break;case 13:Re=ec(G,2),Re!==null&&pr(Re,G,2),oa(),Sj(G,2)}if(G=Bj(C),G===null&&Aj(A,h,C,Yv,x),G===U)break;U=G}U!==null&&C.stopPropagation()}else Aj(A,h,C,null,x)}}function Bj(A){return A=Cn(A),Ej(A)}var Yv=null;function Ej(A){if(Yv=null,A=Je(A),A!==null){var h=o(A);if(h===null)A=null;else{var x=h.tag;if(x===13){if(A=l(h),A!==null)return A;A=null}else if(x===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;A=null}else h!==A&&(A=null)}}return Yv=A,null}function xF(A){switch(A){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ie()){case de:return 2;case je:return 8;case ye:case Ce:return 32;case be:return 268435456;default:return 32}default:return 32}}var Tj=!1,Ph=null,Oh=null,Dh=null,Yx=new Map,Xx=new Map,Lh=[],eW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yF(A,h){switch(A){case"focusin":case"focusout":Ph=null;break;case"dragenter":case"dragleave":Oh=null;break;case"mouseover":case"mouseout":Dh=null;break;case"pointerover":case"pointerout":Yx.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xx.delete(h.pointerId)}}function Jx(A,h,x,C,U,G){return A===null||A.nativeEvent!==G?(A={blockedOn:h,domEventName:x,eventSystemFlags:C,nativeEvent:G,targetContainers:[U]},h!==null&&(h=et(h),h!==null&&gF(h)),A):(A.eventSystemFlags|=C,h=A.targetContainers,U!==null&&h.indexOf(U)===-1&&h.push(U),A)}function tW(A,h,x,C,U){switch(h){case"focusin":return Ph=Jx(Ph,A,h,x,C,U),!0;case"dragenter":return Oh=Jx(Oh,A,h,x,C,U),!0;case"mouseover":return Dh=Jx(Dh,A,h,x,C,U),!0;case"pointerover":var G=U.pointerId;return Yx.set(G,Jx(Yx.get(G)||null,A,h,x,C,U)),!0;case"gotpointercapture":return G=U.pointerId,Xx.set(G,Jx(Xx.get(G)||null,A,h,x,C,U)),!0}return!1}function vF(A){var h=Je(A.target);if(h!==null){var x=o(h);if(x!==null){if(h=x.tag,h===13){if(h=l(x),h!==null){A.blockedOn=h,pa(A.priority,function(){if(x.tag===13){var C=br();C=gr(C);var U=ec(x,C);U!==null&&pr(U,x,C),Sj(x,C)}});return}}else if(h===3&&x.stateNode.current.memoizedState.isDehydrated){A.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}A.blockedOn=null}function Xv(A){if(A.blockedOn!==null)return!1;for(var h=A.targetContainers;0<h.length;){var x=Bj(A.nativeEvent);if(x===null){x=A.nativeEvent;var C=new x.constructor(x.type,x);bo=C,x.target.dispatchEvent(C),bo=null}else return h=et(x),h!==null&&gF(h),A.blockedOn=x,!1;h.shift()}return!0}function bF(A,h,x){Xv(A)&&x.delete(h)}function rW(){Tj=!1,Ph!==null&&Xv(Ph)&&(Ph=null),Oh!==null&&Xv(Oh)&&(Oh=null),Dh!==null&&Xv(Dh)&&(Dh=null),Yx.forEach(bF),Xx.forEach(bF)}function Jv(A,h){A.blockedOn===h&&(A.blockedOn=null,Tj||(Tj=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,rW)))}var Zv=null;function wF(A){Zv!==A&&(Zv=A,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Zv===A&&(Zv=null);for(var h=0;h<A.length;h+=3){var x=A[h],C=A[h+1],U=A[h+2];if(typeof C!="function"){if(Ej(C||x)===null)continue;break}var G=et(x);G!==null&&(A.splice(h,3),h-=3,kl(G,{pending:!0,data:U,method:x.method,action:C},C,U))}}))}function Zx(A){function h(lt){return Jv(lt,A)}Ph!==null&&Jv(Ph,A),Oh!==null&&Jv(Oh,A),Dh!==null&&Jv(Dh,A),Yx.forEach(h),Xx.forEach(h);for(var x=0;x<Lh.length;x++){var C=Lh[x];C.blockedOn===A&&(C.blockedOn=null)}for(;0<Lh.length&&(x=Lh[0],x.blockedOn===null);)vF(x),x.blockedOn===null&&Lh.shift();if(x=(A.ownerDocument||A).$$reactFormReplay,x!=null)for(C=0;C<x.length;C+=3){var U=x[C],G=x[C+1],Be=U[Gt]||null;if(typeof G=="function")Be||wF(x);else if(Be){var Re=null;if(G&&G.hasAttribute("formAction")){if(U=G,Be=G[Gt]||null)Re=Be.formAction;else if(Ej(U)!==null)continue}else Re=Be.action;typeof Re=="function"?x[C+1]=Re:(x.splice(C,3),C-=3),wF(x)}}}function Fj(A){this._internalRoot=A}eb.prototype.render=Fj.prototype.render=function(A){var h=this._internalRoot;if(h===null)throw Error(s(409));var x=h.current,C=br();mF(x,C,A,h,null,null)},eb.prototype.unmount=Fj.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var h=A.containerInfo;mF(A.current,2,null,A,null,null),oa(),h[dr]=null}};function eb(A){this._internalRoot=A}eb.prototype.unstable_scheduleHydration=function(A){if(A){var h=Ta();A={blockedOn:null,target:A,priority:h};for(var x=0;x<Lh.length&&h!==0&&h<Lh[x].priority;x++);Lh.splice(x,0,A),x===0&&vF(A)}};var jF=r.version;if(jF!=="19.1.0")throw Error(s(527,jF,"19.1.0"));le.findDOMNode=function(A){var h=A._reactInternals;if(h===void 0)throw typeof A.render=="function"?Error(s(188)):(A=Object.keys(A).join(","),Error(s(268,A)));return A=d(h),A=A!==null?f(A):null,A=A===null?null:A.stateNode,A};var aW={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tb.isDisabled&&tb.supportsFiber)try{rt=tb.inject(aW),Te=tb}catch{}}return t1.createRoot=function(A,h){if(!i(A))throw Error(s(299));var x=!1,C="",U=jx,G=Nx,Be=kp,Re=null;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(C=h.identifierPrefix),h.onUncaughtError!==void 0&&(U=h.onUncaughtError),h.onCaughtError!==void 0&&(G=h.onCaughtError),h.onRecoverableError!==void 0&&(Be=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(Re=h.unstable_transitionCallbacks)),h=AF(A,1,!1,null,null,x,C,U,G,Be,Re,null),A[dr]=h.current,fj(A),new Fj(h)},t1.hydrateRoot=function(A,h,x){if(!i(A))throw Error(s(299));var C=!1,U="",G=jx,Be=Nx,Re=kp,lt=null,kt=null;return x!=null&&(x.unstable_strictMode===!0&&(C=!0),x.identifierPrefix!==void 0&&(U=x.identifierPrefix),x.onUncaughtError!==void 0&&(G=x.onUncaughtError),x.onCaughtError!==void 0&&(Be=x.onCaughtError),x.onRecoverableError!==void 0&&(Re=x.onRecoverableError),x.unstable_transitionCallbacks!==void 0&&(lt=x.unstable_transitionCallbacks),x.formState!==void 0&&(kt=x.formState)),h=AF(A,1,!0,h,x??null,C,U,G,Be,Re,lt,kt),h.context=hF(null),x=h.current,C=br(),C=gr(C),U=Kt(C),U.callback=null,Zt(x,U,C),x=C,h.current.lanes=x,He(h,x),of(h),A[dr]=h.current,fj(A),new eb(h)},t1.version="19.1.0",t1}var _F;function AW(){if(_F)return _j.exports;_F=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),_j.exports=fW(),_j.exports}var hW=AW();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PF="popstate";function mW(t={}){function r(s,i){let{pathname:o,search:l,hash:c}=s.location;return z5("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function a(s,i){return typeof i=="string"?i:ty(i)}return gW(r,a,null,t)}function hn(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function wu(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function pW(){return Math.random().toString(36).substring(2,10)}function OF(t,r){return{usr:t.state,key:t.key,idx:r}}function z5(t,r,a=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof r=="string"?Vg(r):r,state:a,key:r&&r.key||s||pW()}}function ty({pathname:t="/",search:r="",hash:a=""}){return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Vg(t){let r={};if(t){let a=t.indexOf("#");a>=0&&(r.hash=t.substring(a),t=t.substring(0,a));let s=t.indexOf("?");s>=0&&(r.search=t.substring(s),t=t.substring(0,s)),t&&(r.pathname=t)}return r}function gW(t,r,a,s={}){let{window:i=document.defaultView,v5Compat:o=!1}=s,l=i.history,c="POP",d=null,f=u();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function u(){return(l.state||{idx:null}).idx}function m(){c="POP";let b=u(),j=b==null?null:b-f;f=b,d&&d({action:c,location:y.location,delta:j})}function p(b,j){c="PUSH";let N=z5(y.location,b,j);f=u()+1;let S=OF(N,f),B=y.createHref(N);try{l.pushState(S,"",B)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(B)}o&&d&&d({action:c,location:y.location,delta:1})}function g(b,j){c="REPLACE";let N=z5(y.location,b,j);f=u();let S=OF(N,f),B=y.createHref(N);l.replaceState(S,"",B),o&&d&&d({action:c,location:y.location,delta:0})}function v(b){return xW(b)}let y={get action(){return c},get location(){return t(i,l)},listen(b){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(PF,m),d=b,()=>{i.removeEventListener(PF,m),d=null}},createHref(b){return r(i,b)},createURL:v,encodeLocation(b){let j=v(b);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:p,replace:g,go(b){return l.go(b)}};return y}function xW(t,r=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),hn(a,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:ty(t);return s=s.replace(/ $/,"%20"),!r&&s.startsWith("//")&&(s=a+s),new URL(s,a)}function s7(t,r,a="/"){return yW(t,r,a,!1)}function yW(t,r,a,s){let i=typeof r=="string"?Vg(r):r,o=LA(i.pathname||"/",a);if(o==null)return null;let l=n7(t);vW(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=IW(o);c=TW(l[d],f,s)}return c}function n7(t,r=[],a=[],s=""){let i=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(hn(d.relativePath.startsWith(s),`Absolute route path "${d.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(s.length));let f=TA([s,d.relativePath]),u=a.concat(d);o.children&&o.children.length>0&&(hn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),n7(o.children,r,u,f)),!(o.path==null&&!o.index)&&r.push({path:f,score:BW(f,o.index),routesMeta:u})};return t.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))i(o,l);else for(let c of i7(o.path))i(o,l,c)}),r}function i7(t){let r=t.split("/");if(r.length===0)return[];let[a,...s]=r,i=a.endsWith("?"),o=a.replace(/\?$/,"");if(s.length===0)return i?[o,""]:[o];let l=i7(s.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function vW(t){t.sort((r,a)=>r.score!==a.score?a.score-r.score:EW(r.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}var bW=/^:[\w-]+$/,wW=3,jW=2,NW=1,SW=10,CW=-2,DF=t=>t==="*";function BW(t,r){let a=t.split("/"),s=a.length;return a.some(DF)&&(s+=CW),r&&(s+=jW),a.filter(i=>!DF(i)).reduce((i,o)=>i+(bW.test(o)?wW:o===""?NW:SW),s)}function EW(t,r){return t.length===r.length&&t.slice(0,-1).every((s,i)=>s===r[i])?t[t.length-1]-r[r.length-1]:0}function TW(t,r,a=!1){let{routesMeta:s}=t,i={},o="/",l=[];for(let c=0;c<s.length;++c){let d=s[c],f=c===s.length-1,u=o==="/"?r:r.slice(o.length)||"/",m=f2({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},u),p=d.route;if(!m&&f&&a&&!s[s.length-1].route.index&&(m=f2({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},u)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:TA([o,m.pathname]),pathnameBase:OW(TA([o,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(o=TA([o,m.pathnameBase]))}return l}function f2(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,s]=FW(t.path,t.caseSensitive,t.end),i=r.match(a);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:s.reduce((f,{paramName:u,isOptional:m},p)=>{if(u==="*"){let v=c[p]||"";l=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const g=c[p];return m&&!g?f[u]=void 0:f[u]=(g||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:t}}function FW(t,r=!1,a=!0){wu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(s.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,r?void 0:"i"),s]}function IW(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return wu(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),t}}function LA(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let a=r.endsWith("/")?r.length-1:r.length,s=t.charAt(a);return s&&s!=="/"?null:t.slice(a)||"/"}function kW(t,r="/"){let{pathname:a,search:s="",hash:i=""}=typeof t=="string"?Vg(t):t;return{pathname:a?a.startsWith("/")?a:_W(a,r):r,search:DW(s),hash:LW(i)}}function _W(t,r){let a=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?a.length>1&&a.pop():i!=="."&&a.push(i)}),a.length>1?a.join("/"):"/"}function Lj(t,r,a,s){return`Cannot include a '${t}' character in a manually specified \`to.${r}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PW(t){return t.filter((r,a)=>a===0||r.route.path&&r.route.path.length>0)}function sB(t){let r=PW(t);return r.map((a,s)=>s===r.length-1?a.pathname:a.pathnameBase)}function nB(t,r,a,s=!1){let i;typeof t=="string"?i=Vg(t):(i={...t},hn(!i.pathname||!i.pathname.includes("?"),Lj("?","pathname","search",i)),hn(!i.pathname||!i.pathname.includes("#"),Lj("#","pathname","hash",i)),hn(!i.search||!i.search.includes("#"),Lj("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=a;else{let m=r.length-1;if(!s&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),m-=1;i.pathname=p.join("/")}c=m>=0?r[m]:"/"}let d=kW(i,c),f=l&&l!=="/"&&l.endsWith("/"),u=(o||l===".")&&a.endsWith("/");return!d.pathname.endsWith("/")&&(f||u)&&(d.pathname+="/"),d}var TA=t=>t.join("/").replace(/\/\/+/g,"/"),OW=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),DW=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,LW=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function MW(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var o7=["POST","PUT","PATCH","DELETE"];new Set(o7);var UW=["GET",...o7];new Set(UW);var Kg=w.createContext(null);Kg.displayName="DataRouter";var Dw=w.createContext(null);Dw.displayName="DataRouterState";w.createContext(!1);var l7=w.createContext({isTransitioning:!1});l7.displayName="ViewTransition";var RW=w.createContext(new Map);RW.displayName="Fetchers";var QW=w.createContext(null);QW.displayName="Await";var Nu=w.createContext(null);Nu.displayName="Navigation";var Ry=w.createContext(null);Ry.displayName="Location";var Tf=w.createContext({outlet:null,matches:[],isDataRoute:!1});Tf.displayName="Route";var iB=w.createContext(null);iB.displayName="RouteError";function HW(t,{relative:r}={}){hn(Gg(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:s}=w.useContext(Nu),{hash:i,pathname:o,search:l}=Qy(t,{relative:r}),c=o;return a!=="/"&&(c=o==="/"?a:TA([a,o])),s.createHref({pathname:c,search:l,hash:i})}function Gg(){return w.useContext(Ry)!=null}function gd(){return hn(Gg(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Ry).location}var c7="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function d7(t){w.useContext(Nu).static||w.useLayoutEffect(t)}function Ff(){let{isDataRoute:t}=w.useContext(Tf);return t?tq():$W()}function $W(){hn(Gg(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(Kg),{basename:r,navigator:a}=w.useContext(Nu),{matches:s}=w.useContext(Tf),{pathname:i}=gd(),o=JSON.stringify(sB(s)),l=w.useRef(!1);return d7(()=>{l.current=!0}),w.useCallback((d,f={})=>{if(wu(l.current,c7),!l.current)return;if(typeof d=="number"){a.go(d);return}let u=nB(d,JSON.parse(o),i,f.relative==="path");t==null&&r!=="/"&&(u.pathname=u.pathname==="/"?r:TA([r,u.pathname])),(f.replace?a.replace:a.push)(u,f.state,f)},[r,a,o,i,t])}w.createContext(null);function Qy(t,{relative:r}={}){let{matches:a}=w.useContext(Tf),{pathname:s}=gd(),i=JSON.stringify(sB(a));return w.useMemo(()=>nB(t,JSON.parse(i),s,r==="path"),[t,i,s,r])}function zW(t,r){return u7(t,r)}function u7(t,r,a,s){hn(Gg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=w.useContext(Nu),{matches:o}=w.useContext(Tf),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",u=l&&l.route;{let j=u&&u.path||"";f7(d,!u||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let m=gd(),p;if(r){let j=typeof r=="string"?Vg(r):r;hn(f==="/"||j.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${j.pathname}" was given in the \`location\` prop.`),p=j}else p=m;let g=p.pathname||"/",v=g;if(f!=="/"){let j=f.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(j.length).join("/")}let y=s7(t,{pathname:v});wu(u||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),wu(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=qW(y&&y.map(j=>Object.assign({},j,{params:Object.assign({},c,j.params),pathname:TA([f,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?f:TA([f,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,a,s);return r&&b?w.createElement(Ry.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},b):b}function VW(){let t=eq(),r=MW(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:o},"ErrorBoundary")," or"," ",w.createElement("code",{style:o},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},r),a?w.createElement("pre",{style:i},a):null,l)}var KW=w.createElement(VW,null),GW=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(Tf.Provider,{value:this.props.routeContext},w.createElement(iB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WW({routeContext:t,match:r,children:a}){let s=w.useContext(Kg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(Tf.Provider,{value:t},a)}function qW(t,r=[],a=null,s=null){if(t==null){if(!a)return null;if(a.errors)t=a.matches;else if(r.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let i=t,o=a?.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);hn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(a)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:u,errors:m}=a,p=f.route.loader&&!u.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,u)=>{let m,p=!1,g=null,v=null;a&&(m=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||KW,l&&(c<0&&u===0?(f7("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):c===u&&(p=!0,v=f.route.hydrateFallbackElement||null)));let y=r.concat(i.slice(0,u+1)),b=()=>{let j;return m?j=g:p?j=v:f.route.Component?j=w.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=d,w.createElement(WW,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:a!=null},children:j})};return a&&(f.route.ErrorBoundary||f.route.errorElement||u===0)?w.createElement(GW,{location:a.location,revalidation:a.revalidation,component:g,error:m,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}function oB(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YW(t){let r=w.useContext(Kg);return hn(r,oB(t)),r}function XW(t){let r=w.useContext(Dw);return hn(r,oB(t)),r}function JW(t){let r=w.useContext(Tf);return hn(r,oB(t)),r}function lB(t){let r=JW(t),a=r.matches[r.matches.length-1];return hn(a.route.id,`${t} can only be used on routes that contain a unique "id"`),a.route.id}function ZW(){return lB("useRouteId")}function eq(){let t=w.useContext(iB),r=XW("useRouteError"),a=lB("useRouteError");return t!==void 0?t:r.errors?.[a]}function tq(){let{router:t}=YW("useNavigate"),r=lB("useNavigate"),a=w.useRef(!1);return d7(()=>{a.current=!0}),w.useCallback(async(i,o={})=>{wu(a.current,c7),a.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:r,...o}))},[t,r])}var LF={};function f7(t,r,a){!r&&!LF[t]&&(LF[t]=!0,wu(!1,a))}w.memo(rq);function rq({routes:t,future:r,state:a}){return u7(t,void 0,a,r)}function ry({to:t,replace:r,state:a,relative:s}){hn(Gg(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(Nu);wu(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=w.useContext(Tf),{pathname:l}=gd(),c=Ff(),d=nB(t,sB(o),l,s==="path"),f=JSON.stringify(d);return w.useEffect(()=>{c(JSON.parse(f),{replace:r,state:a,relative:s})},[c,f,s,r,a]),null}function Tr(t){hn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aq({basename:t="/",children:r=null,location:a,navigationType:s="POP",navigator:i,static:o=!1}){hn(!Gg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof a=="string"&&(a=Vg(a));let{pathname:d="/",search:f="",hash:u="",state:m=null,key:p="default"}=a,g=w.useMemo(()=>{let v=LA(d,l);return v==null?null:{location:{pathname:v,search:f,hash:u,state:m,key:p},navigationType:s}},[l,d,f,u,m,p,s]);return wu(g!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${u}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:w.createElement(Nu.Provider,{value:c},w.createElement(Ry.Provider,{children:r,value:g}))}function rb({children:t,location:r}){return zW(V5(t),r)}function V5(t,r=[]){let a=[];return w.Children.forEach(t,(s,i)=>{if(!w.isValidElement(s))return;let o=[...r,i];if(s.type===w.Fragment){a.push.apply(a,V5(s.props.children,o));return}hn(s.type===Tr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),hn(!s.props.index||!s.props.children,"An index route cannot have child routes.");let l={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=V5(s.props.children,o)),a.push(l)}),a}var Wb="get",qb="application/x-www-form-urlencoded";function Lw(t){return t!=null&&typeof t.tagName=="string"}function sq(t){return Lw(t)&&t.tagName.toLowerCase()==="button"}function nq(t){return Lw(t)&&t.tagName.toLowerCase()==="form"}function iq(t){return Lw(t)&&t.tagName.toLowerCase()==="input"}function oq(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lq(t,r){return t.button===0&&(!r||r==="_self")&&!oq(t)}var ab=null;function cq(){if(ab===null)try{new FormData(document.createElement("form"),0),ab=!1}catch{ab=!0}return ab}var dq=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mj(t){return t!=null&&!dq.has(t)?(wu(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qb}"`),null):t}function uq(t,r){let a,s,i,o,l;if(nq(t)){let c=t.getAttribute("action");s=c?LA(c,r):null,a=t.getAttribute("method")||Wb,i=Mj(t.getAttribute("enctype"))||qb,o=new FormData(t)}else if(sq(t)||iq(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(s=d?LA(d,r):null,a=t.getAttribute("formmethod")||c.getAttribute("method")||Wb,i=Mj(t.getAttribute("formenctype"))||Mj(c.getAttribute("enctype"))||qb,o=new FormData(c,t),!cq()){let{name:f,type:u,value:m}=t;if(u==="image"){let p=f?`${f}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else f&&o.append(f,m)}}else{if(Lw(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Wb,s=null,i=qb,l=t}return o&&i==="text/plain"&&(l=o,o=void 0),{action:s,method:a.toLowerCase(),encType:i,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cB(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function fq(t,r,a){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${a}`:r&&LA(s.pathname,r)==="/"?s.pathname=`${r.replace(/\/$/,"")}/_root.${a}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${a}`,s}async function Aq(t,r){if(t.id in r)return r[t.id];try{let a=await import(t.module);return r[t.id]=a,a}catch(a){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hq(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function mq(t,r,a){let s=await Promise.all(t.map(async i=>{let o=r.routes[i.route.id];if(o){let l=await Aq(o,a);return l.links?l.links():[]}return[]}));return yq(s.flat(1).filter(hq).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function MF(t,r,a,s,i,o){let l=(d,f)=>a[f]?d.route.id!==a[f].route.id:!0,c=(d,f)=>a[f].pathname!==d.pathname||a[f].route.path?.endsWith("*")&&a[f].params["*"]!==d.params["*"];return o==="assets"?r.filter((d,f)=>l(d,f)||c(d,f)):o==="data"?r.filter((d,f)=>{let u=s.routes[d.route.id];if(!u||!u.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function pq(t,r,{includeHydrateFallback:a}={}){return gq(t.map(s=>{let i=r.routes[s.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),a&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function gq(t){return[...new Set(t)]}function xq(t){let r={},a=Object.keys(t).sort();for(let s of a)r[s]=t[s];return r}function yq(t,r){let a=new Set;return new Set(r),t.reduce((s,i)=>{let o=JSON.stringify(xq(i));return a.has(o)||(a.add(o),s.push({key:o,link:i})),s},[])}function A7(){let t=w.useContext(Kg);return cB(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function vq(){let t=w.useContext(Dw);return cB(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var dB=w.createContext(void 0);dB.displayName="FrameworkContext";function h7(){let t=w.useContext(dB);return cB(t,"You must render this element inside a <HydratedRouter> element"),t}function bq(t,r){let a=w.useContext(dB),[s,i]=w.useState(!1),[o,l]=w.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:u,onTouchStart:m}=r,p=w.useRef(null);w.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let y=j=>{j.forEach(N=>{l(N.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[t]),w.useEffect(()=>{if(s){let y=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(y)}}},[s]);let g=()=>{i(!0)},v=()=>{i(!1),l(!1)};return a?t!=="intent"?[o,p,{}]:[o,p,{onFocus:r1(c,g),onBlur:r1(d,v),onMouseEnter:r1(f,g),onMouseLeave:r1(u,v),onTouchStart:r1(m,g)}]:[!1,p,{}]}function r1(t,r){return a=>{t&&t(a),a.defaultPrevented||r(a)}}function wq({page:t,...r}){let{router:a}=A7(),s=w.useMemo(()=>s7(a.routes,t,a.basename),[a.routes,t,a.basename]);return s?w.createElement(Nq,{page:t,matches:s,...r}):null}function jq(t){let{manifest:r,routeModules:a}=h7(),[s,i]=w.useState([]);return w.useEffect(()=>{let o=!1;return mq(t,r,a).then(l=>{o||i(l)}),()=>{o=!0}},[t,r,a]),s}function Nq({page:t,matches:r,...a}){let s=gd(),{manifest:i,routeModules:o}=h7(),{basename:l}=A7(),{loaderData:c,matches:d}=vq(),f=w.useMemo(()=>MF(t,r,d,i,s,"data"),[t,r,d,i,s]),u=w.useMemo(()=>MF(t,r,d,i,s,"assets"),[t,r,d,i,s]),m=w.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let v=new Set,y=!1;if(r.forEach(j=>{let N=i.routes[j.route.id];!N||!N.hasLoader||(!f.some(S=>S.route.id===j.route.id)&&j.route.id in c&&o[j.route.id]?.shouldRevalidate||N.hasClientLoader?y=!0:v.add(j.route.id))}),v.size===0)return[];let b=fq(t,l,"data");return y&&v.size>0&&b.searchParams.set("_routes",r.filter(j=>v.has(j.route.id)).map(j=>j.route.id).join(",")),[b.pathname+b.search]},[l,c,s,i,f,r,t,o]),p=w.useMemo(()=>pq(u,i),[u,i]),g=jq(u);return w.createElement(w.Fragment,null,m.map(v=>w.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...a})),p.map(v=>w.createElement("link",{key:v,rel:"modulepreload",href:v,...a})),g.map(({key:v,link:y})=>w.createElement("link",{key:v,...y})))}function Sq(...t){return r=>{t.forEach(a=>{typeof a=="function"?a(r):a!=null&&(a.current=r)})}}var m7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{m7&&(window.__reactRouterVersion="7.7.1")}catch{}function Cq({basename:t,children:r,window:a}){let s=w.useRef();s.current==null&&(s.current=mW({window:a,v5Compat:!0}));let i=s.current,[o,l]=w.useState({action:i.action,location:i.location}),c=w.useCallback(d=>{w.startTransition(()=>l(d))},[l]);return w.useLayoutEffect(()=>i.listen(c),[i,c]),w.createElement(aq,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i})}var p7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nn=w.forwardRef(function({onClick:r,discover:a="render",prefetch:s="none",relative:i,reloadDocument:o,replace:l,state:c,target:d,to:f,preventScrollReset:u,viewTransition:m,...p},g){let{basename:v}=w.useContext(Nu),y=typeof f=="string"&&p7.test(f),b,j=!1;if(typeof f=="string"&&y&&(b=f,m7))try{let V=new URL(window.location.href),Q=f.startsWith("//")?new URL(V.protocol+f):new URL(f),H=LA(Q.pathname,v);Q.origin===V.origin&&H!=null?f=H+Q.search+Q.hash:j=!0}catch{wu(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=HW(f,{relative:i}),[S,B,I]=bq(s,p),F=Fq(f,{replace:l,state:c,target:d,preventScrollReset:u,relative:i,viewTransition:m});function O(V){r&&r(V),V.defaultPrevented||F(V)}let k=w.createElement("a",{...p,...I,href:b||N,onClick:j||o?r:O,ref:Sq(g,B),target:d,"data-discover":!y&&a==="render"?"true":void 0});return S&&!y?w.createElement(w.Fragment,null,k,w.createElement(wq,{page:N})):k});Nn.displayName="Link";var Bq=w.forwardRef(function({"aria-current":r="page",caseSensitive:a=!1,className:s="",end:i=!1,style:o,to:l,viewTransition:c,children:d,...f},u){let m=Qy(l,{relative:f.relative}),p=gd(),g=w.useContext(Dw),{navigator:v,basename:y}=w.useContext(Nu),b=g!=null&&Oq(m)&&c===!0,j=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,N=p.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(N=N.toLowerCase(),S=S?S.toLowerCase():null,j=j.toLowerCase()),S&&y&&(S=LA(S,y)||S);const B=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let I=N===j||!i&&N.startsWith(j)&&N.charAt(B)==="/",F=S!=null&&(S===j||!i&&S.startsWith(j)&&S.charAt(j.length)==="/"),O={isActive:I,isPending:F,isTransitioning:b},k=I?r:void 0,V;typeof s=="function"?V=s(O):V=[s,I?"active":null,F?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let Q=typeof o=="function"?o(O):o;return w.createElement(Nn,{...f,"aria-current":k,className:V,ref:u,style:Q,to:l,viewTransition:c},typeof d=="function"?d(O):d)});Bq.displayName="NavLink";var Eq=w.forwardRef(({discover:t="render",fetcherKey:r,navigate:a,reloadDocument:s,replace:i,state:o,method:l=Wb,action:c,onSubmit:d,relative:f,preventScrollReset:u,viewTransition:m,...p},g)=>{let v=_q(),y=Pq(c,{relative:f}),b=l.toLowerCase()==="get"?"get":"post",j=typeof c=="string"&&p7.test(c),N=S=>{if(d&&d(S),S.defaultPrevented)return;S.preventDefault();let B=S.nativeEvent.submitter,I=B?.getAttribute("formmethod")||l;v(B||S.currentTarget,{fetcherKey:r,method:I,navigate:a,replace:i,state:o,relative:f,preventScrollReset:u,viewTransition:m})};return w.createElement("form",{ref:g,method:b,action:y,onSubmit:s?d:N,...p,"data-discover":!j&&t==="render"?"true":void 0})});Eq.displayName="Form";function Tq(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g7(t){let r=w.useContext(Kg);return hn(r,Tq(t)),r}function Fq(t,{target:r,replace:a,state:s,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=Ff(),d=gd(),f=Qy(t,{relative:o});return w.useCallback(u=>{if(lq(u,r)){u.preventDefault();let m=a!==void 0?a:ty(d)===ty(f);c(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,f,a,s,r,t,i,o,l])}var Iq=0,kq=()=>`__${String(++Iq)}__`;function _q(){let{router:t}=g7("useSubmit"),{basename:r}=w.useContext(Nu),a=ZW();return w.useCallback(async(s,i={})=>{let{action:o,method:l,encType:c,formData:d,body:f}=uq(s,r);if(i.navigate===!1){let u=i.fetcherKey||kq();await t.fetch(u,a,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:a,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,r,a])}function Pq(t,{relative:r}={}){let{basename:a}=w.useContext(Nu),s=w.useContext(Tf);hn(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),o={...Qy(t||".",{relative:r})},l=gd();if(t==null){o.search=l.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(u=>u==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let u=c.toString();o.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(o.pathname=o.pathname==="/"?a:TA([a,o.pathname])),ty(o)}function Oq(t,{relative:r}={}){let a=w.useContext(l7);hn(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=g7("useViewTransitionState"),i=Qy(t,{relative:r});if(!a.isTransitioning)return!1;let o=LA(a.currentLocation.pathname,s)||a.currentLocation.pathname,l=LA(a.nextLocation.pathname,s)||a.nextLocation.pathname;return f2(i.pathname,l)!=null||f2(i.pathname,o)!=null}var x7=a7(),y7={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},UF=$r.createContext&&$r.createContext(y7),Dq=["attr","size","title"];function Lq(t,r){if(t==null)return{};var a=Mq(t,r),s,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)s=o[i],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(a[s]=t[s])}return a}function Mq(t,r){if(t==null)return{};var a={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;a[s]=t[s]}return a}function A2(){return A2=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},A2.apply(this,arguments)}function RF(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function h2(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?RF(Object(a),!0).forEach(function(s){Uq(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):RF(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Uq(t,r,a){return r=Rq(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Rq(t){var r=Qq(t,"string");return typeof r=="symbol"?r:r+""}function Qq(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function v7(t){return t&&t.map((r,a)=>$r.createElement(r.tag,h2({key:a},r.attr),v7(r.child)))}function fr(t){return r=>$r.createElement(Hq,A2({attr:h2({},t.attr)},r),v7(t.child))}function Hq(t){var r=a=>{var{attr:s,size:i,title:o}=t,l=Lq(t,Dq),c=i||a.size||"1em",d;return a.className&&(d=a.className),t.className&&(d=(d?d+" ":"")+t.className),$r.createElement("svg",A2({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,s,l,{className:d,style:h2(h2({color:t.color||a.color},a.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&$r.createElement("title",null,o),t.children)};return UF!==void 0?$r.createElement(UF.Consumer,null,a=>r(a)):r(y7)}function $q(t){return fr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 0H48C22.4 0 0 22.4 0 48v416c0 25.6 22.4 48 48 48h352c25.6 0 48-22.4 48-48V48c0-25.6-22.4-48-48-48zM128 435.2c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8V268.8c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v166.4zm0-256c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8V76.8C64 70.4 70.4 64 76.8 64h294.4c6.4 0 12.8 6.4 12.8 12.8v102.4z"},child:[]}]})(t)}function QF(t){return fr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function zq(t){return fr({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M208 352c-2.39 0-4.78.35-7.06 1.09C187.98 357.3 174.35 360 160 360c-14.35 0-27.98-2.7-40.95-6.91-2.28-.74-4.66-1.09-7.05-1.09C49.94 352-.33 402.48 0 464.62.14 490.88 21.73 512 48 512h224c26.27 0 47.86-21.12 48-47.38.33-62.14-49.94-112.62-112-112.62zm-48-32c53.02 0 96-42.98 96-96s-42.98-96-96-96-96 42.98-96 96 42.98 96 96 96zM592 0H208c-26.47 0-48 22.25-48 49.59V96c23.42 0 45.1 6.78 64 17.8V64h352v288h-64v-64H384v64h-76.24c19.1 16.69 33.12 38.73 39.69 64H592c26.47 0 48-22.25 48-49.59V49.59C640 22.25 618.47 0 592 0z"},child:[]}]})(t)}function b7(t){return fr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function Vq(t){return fr({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function Kq(t){return fr({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function m2(t){return fr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function Gq(t){return fr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function Wq(t){return fr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function w7(t){return fr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function B1(t){return fr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function j7(t){return fr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function qq(t){return fr({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M288 256H96v64h192v-64zm89-151L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm256 304c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-200v96c0 8.84-7.16 16-16 16H80c-8.84 0-16-7.16-16-16v-96c0-8.84 7.16-16 16-16h224c8.84 0 16 7.16 16 16z"},child:[]}]})(t)}function HF(t){return fr({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(t)}function N7(t){return fr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function Yq(t){return fr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function Xq(t){return fr({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M255.03 261.65c6.25 6.25 16.38 6.25 22.63 0l11.31-11.31c6.25-6.25 6.25-16.38 0-22.63L253.25 192l35.71-35.72c6.25-6.25 6.25-16.38 0-22.63l-11.31-11.31c-6.25-6.25-16.38-6.25-22.63 0l-58.34 58.34c-6.25 6.25-6.25 16.38 0 22.63l58.35 58.34zm96.01-11.3l11.31 11.31c6.25 6.25 16.38 6.25 22.63 0l58.34-58.34c6.25-6.25 6.25-16.38 0-22.63l-58.34-58.34c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63L386.75 192l-35.71 35.72c-6.25 6.25-6.25 16.38 0 22.63zM624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z"},child:[]}]})(t)}function Jq(t){return fr({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(t)}function $F(t){return fr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function Zq(t){return fr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function K5(t){return fr({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M308 96c6.627 0 12-5.373 12-12V44c0-6.627-5.373-12-12-12H12C5.373 32 0 37.373 0 44v44.748c0 6.627 5.373 12 12 12h85.28c27.308 0 48.261 9.958 60.97 27.252H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h158.757c-6.217 36.086-32.961 58.632-74.757 58.632H12c-6.627 0-12 5.373-12 12v53.012c0 3.349 1.4 6.546 3.861 8.818l165.052 152.356a12.001 12.001 0 0 0 8.139 3.182h82.562c10.924 0 16.166-13.408 8.139-20.818L116.871 319.906c76.499-2.34 131.144-53.395 138.318-127.906H308c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-58.69c-3.486-11.541-8.28-22.246-14.252-32H308z"},child:[]}]})(t)}function eY(t){return fr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function tY(t){return fr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function rY(t){return fr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(t)}function Uj(t){return fr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function aY(t){return fr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M396.8 352h22.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-192 0h22.4c6.4 0 12.8-6.4 12.8-12.8V140.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h22.4c6.4 0 12.8-6.4 12.8-12.8V204.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zM496 400H48V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16zm-387.2-48h22.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8z"},child:[]}]})(t)}function S7(t,r){return function(){return t.apply(r,arguments)}}const{toString:sY}=Object.prototype,{getPrototypeOf:uB}=Object,{iterator:Mw,toStringTag:C7}=Symbol,Uw=(t=>r=>{const a=sY.call(r);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Su=t=>(t=t.toLowerCase(),r=>Uw(r)===t),Rw=t=>r=>typeof r===t,{isArray:Wg}=Array,ay=Rw("undefined");function Hy(t){return t!==null&&!ay(t)&&t.constructor!==null&&!ay(t.constructor)&&Ul(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const B7=Su("ArrayBuffer");function nY(t){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&B7(t.buffer),r}const iY=Rw("string"),Ul=Rw("function"),E7=Rw("number"),$y=t=>t!==null&&typeof t=="object",oY=t=>t===!0||t===!1,Yb=t=>{if(Uw(t)!=="object")return!1;const r=uB(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(C7 in t)&&!(Mw in t)},lY=t=>{if(!$y(t)||Hy(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},cY=Su("Date"),dY=Su("File"),uY=Su("Blob"),fY=Su("FileList"),AY=t=>$y(t)&&Ul(t.pipe),hY=t=>{let r;return t&&(typeof FormData=="function"&&t instanceof FormData||Ul(t.append)&&((r=Uw(t))==="formdata"||r==="object"&&Ul(t.toString)&&t.toString()==="[object FormData]"))},mY=Su("URLSearchParams"),[pY,gY,xY,yY]=["ReadableStream","Request","Response","Headers"].map(Su),vY=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zy(t,r,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let s,i;if(typeof t!="object"&&(t=[t]),Wg(t))for(s=0,i=t.length;s<i;s++)r.call(null,t[s],s,t);else{if(Hy(t))return;const o=a?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let c;for(s=0;s<l;s++)c=o[s],r.call(null,t[c],c,t)}}function T7(t,r){if(Hy(t))return null;r=r.toLowerCase();const a=Object.keys(t);let s=a.length,i;for(;s-- >0;)if(i=a[s],r===i.toLowerCase())return i;return null}const v0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,F7=t=>!ay(t)&&t!==v0;function G5(){const{caseless:t}=F7(this)&&this||{},r={},a=(s,i)=>{const o=t&&T7(r,i)||i;Yb(r[o])&&Yb(s)?r[o]=G5(r[o],s):Yb(s)?r[o]=G5({},s):Wg(s)?r[o]=s.slice():r[o]=s};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&zy(arguments[s],a);return r}const bY=(t,r,a,{allOwnKeys:s}={})=>(zy(r,(i,o)=>{a&&Ul(i)?t[o]=S7(i,a):t[o]=i},{allOwnKeys:s}),t),wY=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),jY=(t,r,a,s)=>{t.prototype=Object.create(r.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:r.prototype}),a&&Object.assign(t.prototype,a)},NY=(t,r,a,s)=>{let i,o,l;const c={};if(r=r||{},t==null)return r;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)l=i[o],(!s||s(l,t,r))&&!c[l]&&(r[l]=t[l],c[l]=!0);t=a!==!1&&uB(t)}while(t&&(!a||a(t,r))&&t!==Object.prototype);return r},SY=(t,r,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=r.length;const s=t.indexOf(r,a);return s!==-1&&s===a},CY=t=>{if(!t)return null;if(Wg(t))return t;let r=t.length;if(!E7(r))return null;const a=new Array(r);for(;r-- >0;)a[r]=t[r];return a},BY=(t=>r=>t&&r instanceof t)(typeof Uint8Array<"u"&&uB(Uint8Array)),EY=(t,r)=>{const s=(t&&t[Mw]).call(t);let i;for(;(i=s.next())&&!i.done;){const o=i.value;r.call(t,o[0],o[1])}},TY=(t,r)=>{let a;const s=[];for(;(a=t.exec(r))!==null;)s.push(a);return s},FY=Su("HTMLFormElement"),IY=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,s,i){return s.toUpperCase()+i}),zF=(({hasOwnProperty:t})=>(r,a)=>t.call(r,a))(Object.prototype),kY=Su("RegExp"),I7=(t,r)=>{const a=Object.getOwnPropertyDescriptors(t),s={};zy(a,(i,o)=>{let l;(l=r(i,o,t))!==!1&&(s[o]=l||i)}),Object.defineProperties(t,s)},_Y=t=>{I7(t,(r,a)=>{if(Ul(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const s=t[a];if(Ul(s)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},PY=(t,r)=>{const a={},s=i=>{i.forEach(o=>{a[o]=!0})};return Wg(t)?s(t):s(String(t).split(r)),a},OY=()=>{},DY=(t,r)=>t!=null&&Number.isFinite(t=+t)?t:r;function LY(t){return!!(t&&Ul(t.append)&&t[C7]==="FormData"&&t[Mw])}const MY=t=>{const r=new Array(10),a=(s,i)=>{if($y(s)){if(r.indexOf(s)>=0)return;if(Hy(s))return s;if(!("toJSON"in s)){r[i]=s;const o=Wg(s)?[]:{};return zy(s,(l,c)=>{const d=a(l,i+1);!ay(d)&&(o[c]=d)}),r[i]=void 0,o}}return s};return a(t,0)},UY=Su("AsyncFunction"),RY=t=>t&&($y(t)||Ul(t))&&Ul(t.then)&&Ul(t.catch),k7=((t,r)=>t?setImmediate:r?((a,s)=>(v0.addEventListener("message",({source:i,data:o})=>{i===v0&&o===a&&s.length&&s.shift()()},!1),i=>{s.push(i),v0.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",Ul(v0.postMessage)),QY=typeof queueMicrotask<"u"?queueMicrotask.bind(v0):typeof process<"u"&&process.nextTick||k7,HY=t=>t!=null&&Ul(t[Mw]),Rt={isArray:Wg,isArrayBuffer:B7,isBuffer:Hy,isFormData:hY,isArrayBufferView:nY,isString:iY,isNumber:E7,isBoolean:oY,isObject:$y,isPlainObject:Yb,isEmptyObject:lY,isReadableStream:pY,isRequest:gY,isResponse:xY,isHeaders:yY,isUndefined:ay,isDate:cY,isFile:dY,isBlob:uY,isRegExp:kY,isFunction:Ul,isStream:AY,isURLSearchParams:mY,isTypedArray:BY,isFileList:fY,forEach:zy,merge:G5,extend:bY,trim:vY,stripBOM:wY,inherits:jY,toFlatObject:NY,kindOf:Uw,kindOfTest:Su,endsWith:SY,toArray:CY,forEachEntry:EY,matchAll:TY,isHTMLForm:FY,hasOwnProperty:zF,hasOwnProp:zF,reduceDescriptors:I7,freezeMethods:_Y,toObjectSet:PY,toCamelCase:IY,noop:OY,toFiniteNumber:DY,findKey:T7,global:v0,isContextDefined:F7,isSpecCompliantForm:LY,toJSONObject:MY,isAsyncFn:UY,isThenable:RY,setImmediate:k7,asap:QY,isIterable:HY};function ma(t,r,a,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",r&&(this.code=r),a&&(this.config=a),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}Rt.inherits(ma,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Rt.toJSONObject(this.config),code:this.code,status:this.status}}});const _7=ma.prototype,P7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{P7[t]={value:t}});Object.defineProperties(ma,P7);Object.defineProperty(_7,"isAxiosError",{value:!0});ma.from=(t,r,a,s,i,o)=>{const l=Object.create(_7);return Rt.toFlatObject(t,l,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),ma.call(l,t.message,r,a,s,i),l.cause=t,l.name=t.name,o&&Object.assign(l,o),l};const $Y=null;function W5(t){return Rt.isPlainObject(t)||Rt.isArray(t)}function O7(t){return Rt.endsWith(t,"[]")?t.slice(0,-2):t}function VF(t,r,a){return t?t.concat(r).map(function(i,o){return i=O7(i),!a&&o?"["+i+"]":i}).join(a?".":""):r}function zY(t){return Rt.isArray(t)&&!t.some(W5)}const VY=Rt.toFlatObject(Rt,{},null,function(r){return/^is[A-Z]/.test(r)});function Qw(t,r,a){if(!Rt.isObject(t))throw new TypeError("target must be an object");r=r||new FormData,a=Rt.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!Rt.isUndefined(b[y])});const s=a.metaTokens,i=a.visitor||u,o=a.dots,l=a.indexes,d=(a.Blob||typeof Blob<"u"&&Blob)&&Rt.isSpecCompliantForm(r);if(!Rt.isFunction(i))throw new TypeError("visitor must be a function");function f(v){if(v===null)return"";if(Rt.isDate(v))return v.toISOString();if(Rt.isBoolean(v))return v.toString();if(!d&&Rt.isBlob(v))throw new ma("Blob is not supported. Use a Buffer instead.");return Rt.isArrayBuffer(v)||Rt.isTypedArray(v)?d&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function u(v,y,b){let j=v;if(v&&!b&&typeof v=="object"){if(Rt.endsWith(y,"{}"))y=s?y:y.slice(0,-2),v=JSON.stringify(v);else if(Rt.isArray(v)&&zY(v)||(Rt.isFileList(v)||Rt.endsWith(y,"[]"))&&(j=Rt.toArray(v)))return y=O7(y),j.forEach(function(S,B){!(Rt.isUndefined(S)||S===null)&&r.append(l===!0?VF([y],B,o):l===null?y:y+"[]",f(S))}),!1}return W5(v)?!0:(r.append(VF(b,y,o),f(v)),!1)}const m=[],p=Object.assign(VY,{defaultVisitor:u,convertValue:f,isVisitable:W5});function g(v,y){if(!Rt.isUndefined(v)){if(m.indexOf(v)!==-1)throw Error("Circular reference detected in "+y.join("."));m.push(v),Rt.forEach(v,function(j,N){(!(Rt.isUndefined(j)||j===null)&&i.call(r,j,Rt.isString(N)?N.trim():N,y,p))===!0&&g(j,y?y.concat(N):[N])}),m.pop()}}if(!Rt.isObject(t))throw new TypeError("data must be an object");return g(t),r}function KF(t){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return r[s]})}function fB(t,r){this._pairs=[],t&&Qw(t,this,r)}const D7=fB.prototype;D7.append=function(r,a){this._pairs.push([r,a])};D7.toString=function(r){const a=r?function(s){return r.call(this,s,KF)}:KF;return this._pairs.map(function(i){return a(i[0])+"="+a(i[1])},"").join("&")};function KY(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function L7(t,r,a){if(!r)return t;const s=a&&a.encode||KY;Rt.isFunction(a)&&(a={serialize:a});const i=a&&a.serialize;let o;if(i?o=i(r,a):o=Rt.isURLSearchParams(r)?r.toString():new fB(r,a).toString(s),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class GF{constructor(){this.handlers=[]}use(r,a,s){return this.handlers.push({fulfilled:r,rejected:a,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){Rt.forEach(this.handlers,function(s){s!==null&&r(s)})}}const M7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},GY=typeof URLSearchParams<"u"?URLSearchParams:fB,WY=typeof FormData<"u"?FormData:null,qY=typeof Blob<"u"?Blob:null,YY={isBrowser:!0,classes:{URLSearchParams:GY,FormData:WY,Blob:qY},protocols:["http","https","file","blob","url","data"]},AB=typeof window<"u"&&typeof document<"u",q5=typeof navigator=="object"&&navigator||void 0,XY=AB&&(!q5||["ReactNative","NativeScript","NS"].indexOf(q5.product)<0),JY=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ZY=AB&&window.location.href||"http://localhost",eX=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:AB,hasStandardBrowserEnv:XY,hasStandardBrowserWebWorkerEnv:JY,navigator:q5,origin:ZY},Symbol.toStringTag,{value:"Module"})),Qo={...eX,...YY};function tX(t,r){return Qw(t,new Qo.classes.URLSearchParams,{visitor:function(a,s,i,o){return Qo.isNode&&Rt.isBuffer(a)?(this.append(s,a.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...r})}function rX(t){return Rt.matchAll(/\w+|\[(\w*)]/g,t).map(r=>r[0]==="[]"?"":r[1]||r[0])}function aX(t){const r={},a=Object.keys(t);let s;const i=a.length;let o;for(s=0;s<i;s++)o=a[s],r[o]=t[o];return r}function U7(t){function r(a,s,i,o){let l=a[o++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=o>=a.length;return l=!l&&Rt.isArray(i)?i.length:l,d?(Rt.hasOwnProp(i,l)?i[l]=[i[l],s]:i[l]=s,!c):((!i[l]||!Rt.isObject(i[l]))&&(i[l]=[]),r(a,s,i[l],o)&&Rt.isArray(i[l])&&(i[l]=aX(i[l])),!c)}if(Rt.isFormData(t)&&Rt.isFunction(t.entries)){const a={};return Rt.forEachEntry(t,(s,i)=>{r(rX(s),i,a,0)}),a}return null}function sX(t,r,a){if(Rt.isString(t))try{return(r||JSON.parse)(t),Rt.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(a||JSON.stringify)(t)}const Vy={transitional:M7,adapter:["xhr","http","fetch"],transformRequest:[function(r,a){const s=a.getContentType()||"",i=s.indexOf("application/json")>-1,o=Rt.isObject(r);if(o&&Rt.isHTMLForm(r)&&(r=new FormData(r)),Rt.isFormData(r))return i?JSON.stringify(U7(r)):r;if(Rt.isArrayBuffer(r)||Rt.isBuffer(r)||Rt.isStream(r)||Rt.isFile(r)||Rt.isBlob(r)||Rt.isReadableStream(r))return r;if(Rt.isArrayBufferView(r))return r.buffer;if(Rt.isURLSearchParams(r))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let c;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return tX(r,this.formSerializer).toString();if((c=Rt.isFileList(r))||s.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Qw(c?{"files[]":r}:r,d&&new d,this.formSerializer)}}return o||i?(a.setContentType("application/json",!1),sX(r)):r}],transformResponse:[function(r){const a=this.transitional||Vy.transitional,s=a&&a.forcedJSONParsing,i=this.responseType==="json";if(Rt.isResponse(r)||Rt.isReadableStream(r))return r;if(r&&Rt.isString(r)&&(s&&!this.responseType||i)){const l=!(a&&a.silentJSONParsing)&&i;try{return JSON.parse(r)}catch(c){if(l)throw c.name==="SyntaxError"?ma.from(c,ma.ERR_BAD_RESPONSE,this,null,this.response):c}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qo.classes.FormData,Blob:Qo.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Rt.forEach(["delete","get","head","post","put","patch"],t=>{Vy.headers[t]={}});const nX=Rt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),iX=t=>{const r={};let a,s,i;return t&&t.split(`
`).forEach(function(l){i=l.indexOf(":"),a=l.substring(0,i).trim().toLowerCase(),s=l.substring(i+1).trim(),!(!a||r[a]&&nX[a])&&(a==="set-cookie"?r[a]?r[a].push(s):r[a]=[s]:r[a]=r[a]?r[a]+", "+s:s)}),r},WF=Symbol("internals");function a1(t){return t&&String(t).trim().toLowerCase()}function Xb(t){return t===!1||t==null?t:Rt.isArray(t)?t.map(Xb):String(t)}function oX(t){const r=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=a.exec(t);)r[s[1]]=s[2];return r}const lX=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Rj(t,r,a,s,i){if(Rt.isFunction(s))return s.call(this,r,a);if(i&&(r=a),!!Rt.isString(r)){if(Rt.isString(s))return r.indexOf(s)!==-1;if(Rt.isRegExp(s))return s.test(r)}}function cX(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,a,s)=>a.toUpperCase()+s)}function dX(t,r){const a=Rt.toCamelCase(" "+r);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+a,{value:function(i,o,l){return this[s].call(this,r,i,o,l)},configurable:!0})})}let Rl=class{constructor(r){r&&this.set(r)}set(r,a,s){const i=this;function o(c,d,f){const u=a1(d);if(!u)throw new Error("header name must be a non-empty string");const m=Rt.findKey(i,u);(!m||i[m]===void 0||f===!0||f===void 0&&i[m]!==!1)&&(i[m||d]=Xb(c))}const l=(c,d)=>Rt.forEach(c,(f,u)=>o(f,u,d));if(Rt.isPlainObject(r)||r instanceof this.constructor)l(r,a);else if(Rt.isString(r)&&(r=r.trim())&&!lX(r))l(iX(r),a);else if(Rt.isObject(r)&&Rt.isIterable(r)){let c={},d,f;for(const u of r){if(!Rt.isArray(u))throw TypeError("Object iterator must return a key-value pair");c[f=u[0]]=(d=c[f])?Rt.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}l(c,a)}else r!=null&&o(a,r,s);return this}get(r,a){if(r=a1(r),r){const s=Rt.findKey(this,r);if(s){const i=this[s];if(!a)return i;if(a===!0)return oX(i);if(Rt.isFunction(a))return a.call(this,i,s);if(Rt.isRegExp(a))return a.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,a){if(r=a1(r),r){const s=Rt.findKey(this,r);return!!(s&&this[s]!==void 0&&(!a||Rj(this,this[s],s,a)))}return!1}delete(r,a){const s=this;let i=!1;function o(l){if(l=a1(l),l){const c=Rt.findKey(s,l);c&&(!a||Rj(s,s[c],c,a))&&(delete s[c],i=!0)}}return Rt.isArray(r)?r.forEach(o):o(r),i}clear(r){const a=Object.keys(this);let s=a.length,i=!1;for(;s--;){const o=a[s];(!r||Rj(this,this[o],o,r,!0))&&(delete this[o],i=!0)}return i}normalize(r){const a=this,s={};return Rt.forEach(this,(i,o)=>{const l=Rt.findKey(s,o);if(l){a[l]=Xb(i),delete a[o];return}const c=r?cX(o):String(o).trim();c!==o&&delete a[o],a[c]=Xb(i),s[c]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const a=Object.create(null);return Rt.forEach(this,(s,i)=>{s!=null&&s!==!1&&(a[i]=r&&Rt.isArray(s)?s.join(", "):s)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,a])=>r+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...a){const s=new this(r);return a.forEach(i=>s.set(i)),s}static accessor(r){const s=(this[WF]=this[WF]={accessors:{}}).accessors,i=this.prototype;function o(l){const c=a1(l);s[c]||(dX(i,l),s[c]=!0)}return Rt.isArray(r)?r.forEach(o):o(r),this}};Rl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Rt.reduceDescriptors(Rl.prototype,({value:t},r)=>{let a=r[0].toUpperCase()+r.slice(1);return{get:()=>t,set(s){this[a]=s}}});Rt.freezeMethods(Rl);function Qj(t,r){const a=this||Vy,s=r||a,i=Rl.from(s.headers);let o=s.data;return Rt.forEach(t,function(c){o=c.call(a,o,i.normalize(),r?r.status:void 0)}),i.normalize(),o}function R7(t){return!!(t&&t.__CANCEL__)}function qg(t,r,a){ma.call(this,t??"canceled",ma.ERR_CANCELED,r,a),this.name="CanceledError"}Rt.inherits(qg,ma,{__CANCEL__:!0});function Q7(t,r,a){const s=a.config.validateStatus;!a.status||!s||s(a.status)?t(a):r(new ma("Request failed with status code "+a.status,[ma.ERR_BAD_REQUEST,ma.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function uX(t){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}function fX(t,r){t=t||10;const a=new Array(t),s=new Array(t);let i=0,o=0,l;return r=r!==void 0?r:1e3,function(d){const f=Date.now(),u=s[o];l||(l=f),a[i]=d,s[i]=f;let m=o,p=0;for(;m!==i;)p+=a[m++],m=m%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),f-l<r)return;const g=u&&f-u;return g?Math.round(p*1e3/g):void 0}}function AX(t,r){let a=0,s=1e3/r,i,o;const l=(f,u=Date.now())=>{a=u,i=null,o&&(clearTimeout(o),o=null),t(...f)};return[(...f)=>{const u=Date.now(),m=u-a;m>=s?l(f,u):(i=f,o||(o=setTimeout(()=>{o=null,l(i)},s-m)))},()=>i&&l(i)]}const p2=(t,r,a=3)=>{let s=0;const i=fX(50,250);return AX(o=>{const l=o.loaded,c=o.lengthComputable?o.total:void 0,d=l-s,f=i(d),u=l<=c;s=l;const m={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:f||void 0,estimated:f&&c&&u?(c-l)/f:void 0,event:o,lengthComputable:c!=null,[r?"download":"upload"]:!0};t(m)},a)},qF=(t,r)=>{const a=t!=null;return[s=>r[0]({lengthComputable:a,total:t,loaded:s}),r[1]]},YF=t=>(...r)=>Rt.asap(()=>t(...r)),hX=Qo.hasStandardBrowserEnv?((t,r)=>a=>(a=new URL(a,Qo.origin),t.protocol===a.protocol&&t.host===a.host&&(r||t.port===a.port)))(new URL(Qo.origin),Qo.navigator&&/(msie|trident)/i.test(Qo.navigator.userAgent)):()=>!0,mX=Qo.hasStandardBrowserEnv?{write(t,r,a,s,i,o){const l=[t+"="+encodeURIComponent(r)];Rt.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),Rt.isString(s)&&l.push("path="+s),Rt.isString(i)&&l.push("domain="+i),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function pX(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function gX(t,r){return r?t.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):t}function H7(t,r,a){let s=!pX(r);return t&&(s||a==!1)?gX(t,r):r}const XF=t=>t instanceof Rl?{...t}:t;function z0(t,r){r=r||{};const a={};function s(f,u,m,p){return Rt.isPlainObject(f)&&Rt.isPlainObject(u)?Rt.merge.call({caseless:p},f,u):Rt.isPlainObject(u)?Rt.merge({},u):Rt.isArray(u)?u.slice():u}function i(f,u,m,p){if(Rt.isUndefined(u)){if(!Rt.isUndefined(f))return s(void 0,f,m,p)}else return s(f,u,m,p)}function o(f,u){if(!Rt.isUndefined(u))return s(void 0,u)}function l(f,u){if(Rt.isUndefined(u)){if(!Rt.isUndefined(f))return s(void 0,f)}else return s(void 0,u)}function c(f,u,m){if(m in r)return s(f,u);if(m in t)return s(void 0,f)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(f,u,m)=>i(XF(f),XF(u),m,!0)};return Rt.forEach(Object.keys({...t,...r}),function(u){const m=d[u]||i,p=m(t[u],r[u],u);Rt.isUndefined(p)&&m!==c||(a[u]=p)}),a}const $7=t=>{const r=z0({},t);let{data:a,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:c}=r;r.headers=l=Rl.from(l),r.url=L7(H7(r.baseURL,r.url,r.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(Rt.isFormData(a)){if(Qo.hasStandardBrowserEnv||Qo.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[f,...u]=d?d.split(";").map(m=>m.trim()).filter(Boolean):[];l.setContentType([f||"multipart/form-data",...u].join("; "))}}if(Qo.hasStandardBrowserEnv&&(s&&Rt.isFunction(s)&&(s=s(r)),s||s!==!1&&hX(r.url))){const f=i&&o&&mX.read(o);f&&l.set(i,f)}return r},xX=typeof XMLHttpRequest<"u",yX=xX&&function(t){return new Promise(function(a,s){const i=$7(t);let o=i.data;const l=Rl.from(i.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:f}=i,u,m,p,g,v;function y(){g&&g(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function j(){if(!b)return;const S=Rl.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),I={data:!c||c==="text"||c==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:S,config:t,request:b};Q7(function(O){a(O),y()},function(O){s(O),y()},I),b=null}"onloadend"in b?b.onloadend=j:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(j)},b.onabort=function(){b&&(s(new ma("Request aborted",ma.ECONNABORTED,t,b)),b=null)},b.onerror=function(){s(new ma("Network Error",ma.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let B=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const I=i.transitional||M7;i.timeoutErrorMessage&&(B=i.timeoutErrorMessage),s(new ma(B,I.clarifyTimeoutError?ma.ETIMEDOUT:ma.ECONNABORTED,t,b)),b=null},o===void 0&&l.setContentType(null),"setRequestHeader"in b&&Rt.forEach(l.toJSON(),function(B,I){b.setRequestHeader(I,B)}),Rt.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),c&&c!=="json"&&(b.responseType=i.responseType),f&&([p,v]=p2(f,!0),b.addEventListener("progress",p)),d&&b.upload&&([m,g]=p2(d),b.upload.addEventListener("progress",m),b.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(u=S=>{b&&(s(!S||S.type?new qg(null,t,b):S),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const N=uX(i.url);if(N&&Qo.protocols.indexOf(N)===-1){s(new ma("Unsupported protocol "+N+":",ma.ERR_BAD_REQUEST,t));return}b.send(o||null)})},vX=(t,r)=>{const{length:a}=t=t?t.filter(Boolean):[];if(r||a){let s=new AbortController,i;const o=function(f){if(!i){i=!0,c();const u=f instanceof Error?f:this.reason;s.abort(u instanceof ma?u:new qg(u instanceof Error?u.message:u))}};let l=r&&setTimeout(()=>{l=null,o(new ma(`timeout ${r} of ms exceeded`,ma.ETIMEDOUT))},r);const c=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),t=null)};t.forEach(f=>f.addEventListener("abort",o));const{signal:d}=s;return d.unsubscribe=()=>Rt.asap(c),d}},bX=function*(t,r){let a=t.byteLength;if(a<r){yield t;return}let s=0,i;for(;s<a;)i=s+r,yield t.slice(s,i),s=i},wX=async function*(t,r){for await(const a of jX(t))yield*bX(a,r)},jX=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const r=t.getReader();try{for(;;){const{done:a,value:s}=await r.read();if(a)break;yield s}}finally{await r.cancel()}},JF=(t,r,a,s)=>{const i=wX(t,r);let o=0,l,c=d=>{l||(l=!0,s&&s(d))};return new ReadableStream({async pull(d){try{const{done:f,value:u}=await i.next();if(f){c(),d.close();return}let m=u.byteLength;if(a){let p=o+=m;a(p)}d.enqueue(new Uint8Array(u))}catch(f){throw c(f),f}},cancel(d){return c(d),i.return()}},{highWaterMark:2})},Hw=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",z7=Hw&&typeof ReadableStream=="function",NX=Hw&&(typeof TextEncoder=="function"?(t=>r=>t.encode(r))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),V7=(t,...r)=>{try{return!!t(...r)}catch{return!1}},SX=z7&&V7(()=>{let t=!1;const r=new Request(Qo.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!r}),ZF=64*1024,Y5=z7&&V7(()=>Rt.isReadableStream(new Response("").body)),g2={stream:Y5&&(t=>t.body)};Hw&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!g2[r]&&(g2[r]=Rt.isFunction(t[r])?a=>a[r]():(a,s)=>{throw new ma(`Response type '${r}' is not supported`,ma.ERR_NOT_SUPPORT,s)})})})(new Response);const CX=async t=>{if(t==null)return 0;if(Rt.isBlob(t))return t.size;if(Rt.isSpecCompliantForm(t))return(await new Request(Qo.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Rt.isArrayBufferView(t)||Rt.isArrayBuffer(t))return t.byteLength;if(Rt.isURLSearchParams(t)&&(t=t+""),Rt.isString(t))return(await NX(t)).byteLength},BX=async(t,r)=>{const a=Rt.toFiniteNumber(t.getContentLength());return a??CX(r)},EX=Hw&&(async t=>{let{url:r,method:a,data:s,signal:i,cancelToken:o,timeout:l,onDownloadProgress:c,onUploadProgress:d,responseType:f,headers:u,withCredentials:m="same-origin",fetchOptions:p}=$7(t);f=f?(f+"").toLowerCase():"text";let g=vX([i,o&&o.toAbortSignal()],l),v;const y=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let b;try{if(d&&SX&&a!=="get"&&a!=="head"&&(b=await BX(u,s))!==0){let I=new Request(r,{method:"POST",body:s,duplex:"half"}),F;if(Rt.isFormData(s)&&(F=I.headers.get("content-type"))&&u.setContentType(F),I.body){const[O,k]=qF(b,p2(YF(d)));s=JF(I.body,ZF,O,k)}}Rt.isString(m)||(m=m?"include":"omit");const j="credentials"in Request.prototype;v=new Request(r,{...p,signal:g,method:a.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:j?m:void 0});let N=await fetch(v,p);const S=Y5&&(f==="stream"||f==="response");if(Y5&&(c||S&&y)){const I={};["status","statusText","headers"].forEach(V=>{I[V]=N[V]});const F=Rt.toFiniteNumber(N.headers.get("content-length")),[O,k]=c&&qF(F,p2(YF(c),!0))||[];N=new Response(JF(N.body,ZF,O,()=>{k&&k(),y&&y()}),I)}f=f||"text";let B=await g2[Rt.findKey(g2,f)||"text"](N,t);return!S&&y&&y(),await new Promise((I,F)=>{Q7(I,F,{data:B,headers:Rl.from(N.headers),status:N.status,statusText:N.statusText,config:t,request:v})})}catch(j){throw y&&y(),j&&j.name==="TypeError"&&/Load failed|fetch/i.test(j.message)?Object.assign(new ma("Network Error",ma.ERR_NETWORK,t,v),{cause:j.cause||j}):ma.from(j,j&&j.code,t,v)}}),X5={http:$Y,xhr:yX,fetch:EX};Rt.forEach(X5,(t,r)=>{if(t){try{Object.defineProperty(t,"name",{value:r})}catch{}Object.defineProperty(t,"adapterName",{value:r})}});const eI=t=>`- ${t}`,TX=t=>Rt.isFunction(t)||t===null||t===!1,K7={getAdapter:t=>{t=Rt.isArray(t)?t:[t];const{length:r}=t;let a,s;const i={};for(let o=0;o<r;o++){a=t[o];let l;if(s=a,!TX(a)&&(s=X5[(l=String(a)).toLowerCase()],s===void 0))throw new ma(`Unknown adapter '${l}'`);if(s)break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(eI).join(`
`):" "+eI(o[0]):"as no adapter specified";throw new ma("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:X5};function Hj(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new qg(null,t)}function tI(t){return Hj(t),t.headers=Rl.from(t.headers),t.data=Qj.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),K7.getAdapter(t.adapter||Vy.adapter)(t).then(function(s){return Hj(t),s.data=Qj.call(t,t.transformResponse,s),s.headers=Rl.from(s.headers),s},function(s){return R7(s)||(Hj(t),s&&s.response&&(s.response.data=Qj.call(t,t.transformResponse,s.response),s.response.headers=Rl.from(s.response.headers))),Promise.reject(s)})}const G7="1.11.0",$w={};["object","boolean","number","function","string","symbol"].forEach((t,r)=>{$w[t]=function(s){return typeof s===t||"a"+(r<1?"n ":" ")+t}});const rI={};$w.transitional=function(r,a,s){function i(o,l){return"[Axios v"+G7+"] Transitional option '"+o+"'"+l+(s?". "+s:"")}return(o,l,c)=>{if(r===!1)throw new ma(i(l," has been removed"+(a?" in "+a:"")),ma.ERR_DEPRECATED);return a&&!rI[l]&&(rI[l]=!0,console.warn(i(l," has been deprecated since v"+a+" and will be removed in the near future"))),r?r(o,l,c):!0}};$w.spelling=function(r){return(a,s)=>(console.warn(`${s} is likely a misspelling of ${r}`),!0)};function FX(t,r,a){if(typeof t!="object")throw new ma("options must be an object",ma.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let i=s.length;for(;i-- >0;){const o=s[i],l=r[o];if(l){const c=t[o],d=c===void 0||l(c,o,t);if(d!==!0)throw new ma("option "+o+" must be "+d,ma.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new ma("Unknown option "+o,ma.ERR_BAD_OPTION)}}const Jb={assertOptions:FX,validators:$w},lf=Jb.validators;let I0=class{constructor(r){this.defaults=r||{},this.interceptors={request:new GF,response:new GF}}async request(r,a){try{return await this._request(r,a)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(r,a){typeof r=="string"?(a=a||{},a.url=r):a=r||{},a=z0(this.defaults,a);const{transitional:s,paramsSerializer:i,headers:o}=a;s!==void 0&&Jb.assertOptions(s,{silentJSONParsing:lf.transitional(lf.boolean),forcedJSONParsing:lf.transitional(lf.boolean),clarifyTimeoutError:lf.transitional(lf.boolean)},!1),i!=null&&(Rt.isFunction(i)?a.paramsSerializer={serialize:i}:Jb.assertOptions(i,{encode:lf.function,serialize:lf.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),Jb.assertOptions(a,{baseUrl:lf.spelling("baseURL"),withXsrfToken:lf.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let l=o&&Rt.merge(o.common,o[a.method]);o&&Rt.forEach(["delete","get","head","post","put","patch","common"],v=>{delete o[v]}),a.headers=Rl.concat(l,o);const c=[];let d=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(a)===!1||(d=d&&y.synchronous,c.unshift(y.fulfilled,y.rejected))});const f=[];this.interceptors.response.forEach(function(y){f.push(y.fulfilled,y.rejected)});let u,m=0,p;if(!d){const v=[tI.bind(this),void 0];for(v.unshift(...c),v.push(...f),p=v.length,u=Promise.resolve(a);m<p;)u=u.then(v[m++],v[m++]);return u}p=c.length;let g=a;for(m=0;m<p;){const v=c[m++],y=c[m++];try{g=v(g)}catch(b){y.call(this,b);break}}try{u=tI.call(this,g)}catch(v){return Promise.reject(v)}for(m=0,p=f.length;m<p;)u=u.then(f[m++],f[m++]);return u}getUri(r){r=z0(this.defaults,r);const a=H7(r.baseURL,r.url,r.allowAbsoluteUrls);return L7(a,r.params,r.paramsSerializer)}};Rt.forEach(["delete","get","head","options"],function(r){I0.prototype[r]=function(a,s){return this.request(z0(s||{},{method:r,url:a,data:(s||{}).data}))}});Rt.forEach(["post","put","patch"],function(r){function a(s){return function(o,l,c){return this.request(z0(c||{},{method:r,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}I0.prototype[r]=a(),I0.prototype[r+"Form"]=a(!0)});let IX=class W7{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(o){a=o});const s=this;this.promise.then(i=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](i);s._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(c=>{s.subscribe(c),o=c}).then(i);return l.cancel=function(){s.unsubscribe(o)},l},r(function(o,l,c){s.reason||(s.reason=new qg(o,l,c),a(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const a=this._listeners.indexOf(r);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const r=new AbortController,a=s=>{r.abort(s)};return this.subscribe(a),r.signal.unsubscribe=()=>this.unsubscribe(a),r.signal}static source(){let r;return{token:new W7(function(i){r=i}),cancel:r}}};function kX(t){return function(a){return t.apply(null,a)}}function _X(t){return Rt.isObject(t)&&t.isAxiosError===!0}const J5={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(J5).forEach(([t,r])=>{J5[r]=t});function q7(t){const r=new I0(t),a=S7(I0.prototype.request,r);return Rt.extend(a,I0.prototype,r,{allOwnKeys:!0}),Rt.extend(a,r,null,{allOwnKeys:!0}),a.create=function(i){return q7(z0(t,i))},a}const It=q7(Vy);It.Axios=I0;It.CanceledError=qg;It.CancelToken=IX;It.isCancel=R7;It.VERSION=G7;It.toFormData=Qw;It.AxiosError=ma;It.Cancel=It.CanceledError;It.all=function(r){return Promise.all(r)};It.spread=kX;It.isAxiosError=_X;It.mergeConfig=z0;It.AxiosHeaders=Rl;It.formToJSON=t=>U7(Rt.isHTMLForm(t)?new FormData(t):t);It.getAdapter=K7.getAdapter;It.HttpStatusCode=J5;It.default=It;const{Axios:eke,AxiosError:tke,CanceledError:rke,isCancel:ake,CancelToken:ske,VERSION:nke,all:ike,Cancel:oke,isAxiosError:lke,spread:cke,toFormData:dke,AxiosHeaders:uke,HttpStatusCode:fke,formToJSON:Ake,getAdapter:hke,mergeConfig:mke}=It;function ua(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function aI(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function zw(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function x2(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(t)}function sI(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"},child:[]},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"},child:[]}]})(t)}function sm(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(t)}function FA(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(t)}function Ja(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(t)}function ia(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function hB(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(t)}function ji(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function mB(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"},child:[]},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},child:[]}]})(t)}function Dn(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function np(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function yo(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(t)}function Ni(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function Vw(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function Ea(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function jA(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(t)}function fd(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function Us(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function Ao(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(t)}function Ko(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function ys(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function IA(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(t)}function mo(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(t)}function Z5(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"},child:[]},{tag:"line",attr:{x1:"4",y1:"22",x2:"4",y2:"15"},child:[]}]})(t)}function ff(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 12 20 22 4 22 4 12"},child:[]},{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"7"},child:[]},{tag:"path",attr:{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"},child:[]},{tag:"path",attr:{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"},child:[]}]})(t)}function y2(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(t)}function eC(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(t)}function Kn(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function V0(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(t)}function nI(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function PX(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(t)}function Er(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(t)}function pB(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function sy(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function Af(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function K0(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function OX(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"18"},child:[]},{tag:"line",attr:{x1:"16",y1:"6",x2:"16",y2:"22"},child:[]}]})(t)}function gB(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function $j(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(t)}function DX(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(t)}function LX(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function iI(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"3 11 22 2 13 21 11 13 3 11"},child:[]}]})(t)}function ul(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function MX(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"},child:[]}]})(t)}function sb(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"5",x2:"5",y2:"19"},child:[]},{tag:"circle",attr:{cx:"6.5",cy:"6.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"17.5",r:"2.5"},child:[]}]})(t)}function vu(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(t)}function Fs(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function cm(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(t)}function Go(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(t)}function Sa(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function E1(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function oI(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(t)}function UX(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(t)}function RX(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(t)}function lI(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function hf(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(t)}function cs(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function Zh(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(t)}function dl(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(t)}function QX(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 16 12 12 8 16"},child:[]},{tag:"line",attr:{x1:"12",y1:"12",x2:"12",y2:"21"},child:[]},{tag:"path",attr:{d:"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"},child:[]},{tag:"polyline",attr:{points:"16 16 12 12 8 16"},child:[]}]})(t)}function HX(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function $X(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(t)}function zj(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(t)}function Ts(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function da(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function bg(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(t)}function cr(t){return fr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function zX(t){return fr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M96 0C43 0 0 43 0 96L0 416c0 53 43 96 96 96l288 0 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l0-64c17.7 0 32-14.3 32-32l0-320c0-17.7-14.3-32-32-32L384 0 96 0zm0 384l256 0 0 64L96 448c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16l192 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-192 0c-8.8 0-16-7.2-16-16zm16 48l192 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-192 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"},child:[]}]})(t)}const VX=()=>{const t=Ff(),[r,a]=w.useState(!1),[s,i]=w.useState("School Admin"),[o,l]=w.useState(localStorage.getItem("schoolLogo")||""),c=gd();console.log(o);const d=localStorage.getItem("color")||"#4f46e5",f=localStorage.getItem("schoolId"),u=localStorage.getItem("token");console.log(f),w.useEffect(()=>{(async()=>{try{const y=await It.get(`https://vidyaastra.com/api/schools/${f}`,{headers:{Authorization:`Bearer ${u}`}}),b=y.data;i(y.data.data.name),console.log(y)}catch(y){console.error("Error fetching school data:",y),i("School Admin")}})()},[f,u]),console.log(s,"jsfbkjsfkhfb");const m=[{id:"dashboard",path:"/dashboard",icon:Kn,label:"Dashboard",color:"text-blue-600"},{id:"students",path:"/students",icon:da,label:"Students",color:"text-green-600"},{id:"attendance",path:"/attendance",icon:mB,label:"Attendance",color:"text-emerald-600"},{id:"fees",path:"/fees",icon:K5,label:"Fees",color:"text-yellow-600"},{id:"result",path:"/result",icon:aY,label:"Results",color:"text-yellow-600"},{id:"subject",path:"/subject",icon:zX,label:"subject",color:"text-yellow-600"},{id:"class",path:"/classManagement",icon:zq,label:"Class",color:"text-blue-600"},{id:"timetable",path:"/timetable",icon:ia,label:"Time Table",color:"text-indigo-600"},{id:"exams",path:"/exams",icon:x2,label:"Exams",color:"text-red-600"},{id:"Home work",path:"/assignments",icon:Ko,label:"Home work",color:"text-orange-600"},{id:"teachercreate",path:"/teachercreate",icon:IA,label:"Teacher Create",color:"text-teal-600"},{id:"teachers",path:"/teachers",icon:Ts,label:"Teachers",color:"text-purple-600"},{id:"transport",path:"/transport",icon:dl,label:"Transport",color:"text-cyan-600"},{id:"circular",path:"/circular",icon:sm,label:"Circular",color:"text-rose-600"},{id:"events",path:"/events",icon:hf,label:"Events",color:"text-pink-600"},{id:"birthday",path:"/birthday",icon:ff,label:"Birthday",color:"text-amber-600"},{id:"gallery",path:"/gallery",icon:hB,label:"Gallery",color:"text-blue-500"},{id:"holiday",path:"/holiday",icon:ia,label:"Holiday",color:"text-sky-600"},{id:"uniform",path:"/uniform",icon:RX,label:"Uniform",color:"text-emerald-700"},{id:"books",path:"/books",icon:FA,label:"Books",color:"text-cyan-600"},{id:"orders",path:"/orders",icon:ul,label:"Orders",color:"text-orange-600"}],p=()=>{a(!r)},g=()=>{localStorage.removeItem("token"),localStorage.removeItem("schoolId"),localStorage.removeItem("schoolCode"),localStorage.removeItem("color"),localStorage.removeItem("schoolLogo"),t("/login")};return n.jsxs("div",{className:`shadow-xl transition-all duration-700 ease-in-out ${r?"w-22":"w-76"} h-screen sticky top-0 flex flex-col bg-white`,children:[n.jsx("div",{className:"p-6 border-b border-gray-100 flex-shrink-0",style:{backgroundColor:d},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:`flex items-center space-x-3 transition-all duration-700 ease-in-out ${r?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:[n.jsx("img",{src:`https://vidyaastra.com${o}`,alt:"School Logo",className:"w-12 h-12 rounded-xl object-contain shadow-lg",style:{backgroundColor:"white"}}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-xl font-bold text-white",children:[s," "]}),n.jsx("p",{className:"text-xs text-white font-medium",children:"Admin Panel"})]})]}),n.jsx("button",{onClick:p,className:"p-3 rounded-xl hover:bg-gray-100 active:bg-gray-200 transition-all duration-300 ease-in-out group transform hover:scale-110 active:scale-95 hover:rotate-3",style:{backgroundColor:"rgba(255, 255, 255, 0.2)"},children:n.jsxs("div",{className:"relative w-5 h-5",children:[n.jsx(gB,{className:`absolute w-5 h-5 text-white transition-all duration-500 ease-in-out transform ${r?"opacity-100 rotate-0 scale-100":"opacity-0 rotate-180 scale-75"}`}),n.jsx(cr,{className:`absolute w-5 h-5 text-white transition-all duration-500 ease-in-out transform ${r?"opacity-0 rotate-180 scale-75":"opacity-100 rotate-0 scale-100"}`})]})})]})}),n.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden py-4 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100 hover:scrollbar-thumb-gray-400",children:[n.jsx("nav",{className:"px-4",children:n.jsx("ul",{className:"space-y-2",children:m.map(v=>{const y=v.icon,b=c.pathname===v.path||c.pathname==="/"&&v.path==="/dashboard";return n.jsx("li",{children:n.jsxs(Nn,{to:v.path,className:`w-full flex items-center space-x-3 p-3 rounded-xl transition-all duration-300 ease-in-out group ${b?"text-white shadow-lg transform scale-105":"hover:bg-gray-50 text-gray-700 hover:shadow-md hover:scale-102"}`,style:b?{backgroundColor:d}:{},children:[n.jsx(y,{className:`w-5 h-5 flex-shrink-0 ${b?"text-white":`${v.color} group-hover:scale-110`} transition-all duration-300 ease-in-out`}),n.jsx("span",{className:`font-medium transition-all duration-700 ease-in-out ${b?"text-white":"text-gray-700 group-hover:text-gray-900"} ${r?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:v.label}),b&&!r&&n.jsx("div",{className:"ml-auto w-2 h-2 bg-white rounded-full animate-pulse flex-shrink-0"})]})},v.id)})})}),n.jsx("div",{className:"px-4 pb-4 flex-shrink-0",children:n.jsxs("button",{onClick:g,className:"w-full flex items-center space-x-3 p-3 rounded-xl transition-all duration-300 ease-in-out group hover:bg-red-50 text-red-600 hover:shadow-md hover:scale-102",children:[n.jsx(sy,{className:"w-5 h-5 flex-shrink-0 text-red-600 group-hover:scale-110 transition-all duration-300 ease-in-out"}),n.jsx("span",{className:`font-medium transition-all duration-700 ease-in-out text-red-600 group-hover:text-red-700 ${r?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:"Logout"})]})})]})]})},xB=w.createContext(),KX=({children:t})=>{const[r,a]=w.useState(null),[s,i]=w.useState(!0),[o,l]=w.useState(null);w.useEffect(()=>{(async()=>{const p=localStorage.getItem("superadmin_token"),g=localStorage.getItem("superadmin_user");if(p&&g)try{const v=JSON.parse(g);a(v)}catch{f()}i(!1)})()},[]);const c=async(m,p)=>{try{const g=await It.post("https://vidyaastra.com/api/superadmin/login",{email:m,password:p});if(g.data.success){const v={id:g.data.data.id,email:g.data.data.email,role:"superadmin",token:g.data.token};return a(v),localStorage.setItem("superadmin_token",g.data.token),localStorage.setItem("superadmin_user",JSON.stringify(v)),!0}return!1}catch(g){return l(g.response?.data?.message||"Login failed"),!1}},d=()=>(f(),!0),f=()=>{a(null),l(null),localStorage.removeItem("superadmin_token"),localStorage.removeItem("superadmin_user")},u={user:r,loading:s,error:o,login:c,logout:d};return n.jsx(xB.Provider,{value:u,children:!s&&t})},Y7=()=>{const t=w.useContext(xB);if(t===void 0)throw new Error("useAuth must be used within a SuperAdminAuthProvider");return t},GX=()=>{const t=w.useContext(xB);if(!t)throw new Error("useAuth must be used within a SuperAdminAuthProvider");return t},Yg="/assets/parnets1-8a6NRplW.jpeg",WX=()=>{const[t,r]=w.useState(!1),a=gd(),{user:s,logout:i}=GX(),o=Ff(),l=[{id:"dashboard",path:"/admin/dashboard",icon:Kn,label:"Dashboard",color:"text-[#F37021]"},{id:"school",path:"/admin/school",icon:Kn,label:"School",color:"text-[#F37021]"},{id:"students",path:"/admin/students",icon:da,label:"Students",color:"text-[#F37021]"},{id:"attendance",path:"/admin/attendance",icon:mB,label:"Attendance",color:"text-[#F37021]"},{id:"fees",path:"/admin/fees",icon:fd,label:"Fees",color:"text-[#F37021]"},{id:"timetable",path:"/admin/timetable",icon:ia,label:"Time Table",color:"text-[#F37021]"},{id:"exams",path:"/admin/exams",icon:IA,label:"Exams",color:"text-[#F37021]"},{id:"library",path:"/admin/library",icon:FA,label:"Library",color:"text-[#F37021]"},{id:"teachers",path:"/admin/teachers",icon:Ts,label:"Teachers",color:"text-[#F37021]"},{id:"circular",path:"/admin/circular",icon:sm,label:"Circular",color:"text-[#F37021]"},{id:"transport",path:"/admin/transport",icon:dl,label:"Transport",color:"text-[#F37021]"},{id:"events",path:"/admin/events",icon:hf,label:"Events",color:"text-[#F37021]"},{id:"birthday",path:"/admin/birthday",icon:hf,label:"Birthday",color:"text-[#F37021]"},{id:"gallery",path:"/admin/gallery",icon:IA,label:"Gallery",color:"text-[#F37021]"},{id:"holiday",path:"/admin/holiday",icon:hf,label:"Holiday",color:"text-[#F37021]"},{id:"uniform",path:"/admin/uniform",icon:hf,label:"uniform",color:"text-[#F37021]"},{id:"books",path:"/admin/books",icon:dl,label:"Books",color:"text-[#F37021]"},{id:"Enquiry",path:"/admin/enquires-management",icon:dl,label:"Enquiry Management",color:"text-[#F37021]"},{id:"PriceManagement",path:"/admin/PriceManagement",icon:E1,label:"Price Management",color:"text-[#F37021]"}],c=()=>{r(!t)},d=()=>{i(),o("/superadmin-login")};return n.jsxs("div",{className:`bg-white shadow-xl transition-all duration-500 ease-in-out ${t?"w-20":"w-72"} h-screen sticky top-0 flex flex-col`,style:{margin:0,padding:0,left:0},children:[n.jsx("div",{className:"p-4 border-b border-[#1C1444]/10 flex-shrink-0",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:`flex items-center space-x-3 transition-all duration-500 ease-in-out ${t?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:[n.jsx("div",{className:"w-20 h-14  rounded-xl flex items-center justify-center shadow-md",children:n.jsx("img",{src:Yg,alt:"Logo",className:"h-10 object-contain"})}),n.jsx("div",{children:n.jsx("h1",{className:"text-xl font-bold text-[#1C1444] tracking-tight",children:"Super Admin Panel"})})]}),n.jsx("button",{onClick:c,className:"p-2 rounded-xl hover:bg-[#1C1444]/10 transition-all duration-300 ease-in-out group transform hover:scale-110",title:t?"Expand Sidebar":"Collapse Sidebar",children:n.jsxs("div",{className:"relative w-5 h-5",children:[n.jsx(gB,{className:`absolute w-5 h-5 text-[#1C1444] group-hover:text-[#F37021] transition-all duration-300 ease-in-out transform ${t?"opacity-100 rotate-0 scale-100":"opacity-0 rotate-180 scale-75"}`}),n.jsx(cr,{className:`absolute w-5 h-5 text-[#1C1444] group-hover:text-[#F37021] transition-all duration-300 ease-in-out transform ${t?"opacity-0 rotate-180 scale-75":"opacity-100 rotate-0 scale-100"}`})]})})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden py-4 scrollbar-thin scrollbar-thumb-[#1C1444]/20 scrollbar-track-transparent hover:scrollbar-thumb-[#1C1444]/40",children:n.jsx("nav",{className:"px-3",children:n.jsx("ul",{className:"space-y-1",children:l.map(f=>{const u=f.icon,m=a.pathname===f.path||a.pathname==="/"&&f.path==="/dashboard";return n.jsx("li",{children:n.jsxs(Nn,{to:f.path,className:`w-full flex items-center space-x-3 p-3 rounded-xl transition-all duration-300 ease-in-out group ${m?"bg-[#F37021] text-white shadow-md":"hover:bg-[#1C1444]/10 text-[#1C1444] hover:shadow-sm"}`,title:t?f.label:"",children:[n.jsx(u,{className:`w-5 h-5 flex-shrink-0 ${m?"text-white":`${f.color} group-hover:scale-110`} transition-all duration-300 ease-in-out`}),n.jsx("span",{className:`font-medium text-sm transition-all duration-500 ease-in-out ${m?"text-white":"text-[#1C1444] group-hover:text-[#F37021]"} ${t?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:f.label}),m&&!t&&n.jsx("div",{className:"ml-auto w-2 h-2 bg-white rounded-full animate-pulse flex-shrink-0"})]})},f.id)})})})}),n.jsxs("div",{className:"border-t border-[#1C1444]/10 flex-shrink-0",children:[n.jsx("div",{className:`transition-all duration-500 ease-in-out ${t?"opacity-0 scale-95 pointer-events-none h-0":"opacity-100 scale-100 h-auto p-4"}`,children:n.jsxs("div",{className:"bg-[#1C1444] rounded-xl p-4 text-white shadow-md",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:n.jsx("span",{className:"text-sm font-bold text-[#F37021]",children:s?.name?.split(" ").map(f=>f[0]).join("")||"SA"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-sm text-white",children:s?.name||"Super Admin"}),n.jsx("p",{className:"text-xs text-white/80",children:s?.email||"superadmin@school.com"})]})]}),n.jsxs("button",{onClick:d,className:"w-full flex items-center justify-center space-x-2 p-2 bg-[#F37021] hover:bg-[#d55f1c] rounded-lg transition-all duration-200 ease-in-out",children:[n.jsx(sy,{className:"w-4 h-4 text-white"}),n.jsx("span",{className:"text-sm font-medium text-white",children:"Logout"})]})]})}),n.jsx("div",{className:`transition-all duration-500 ease-in-out p-4 ${t?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none h-0"}`,children:n.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[n.jsx("div",{className:"w-12 h-12 bg-[#1C1444] rounded-xl flex items-center justify-center shadow-md hover:scale-105 transition-transform duration-200",children:n.jsx("span",{className:"text-white font-bold text-sm",children:s?.name?.split(" ").map(f=>f[0]).join("")||"SA"})}),n.jsx("button",{onClick:d,className:"p-3 rounded-xl hover:bg-[#1C1444]/10 transition-all duration-200 ease-in-out text-[#F37021] hover:text-[#d55f1c]",title:"Logout",children:n.jsx(sy,{className:"w-5 h-5"})})]})})]})]})};function X7(t){var r,a,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(r=0;r<i;r++)t[r]&&(a=X7(t[r]))&&(s&&(s+=" "),s+=a)}else for(a in t)t[a]&&(s&&(s+=" "),s+=a);return s}function Mt(){for(var t,r,a=0,s="",i=arguments.length;a<i;a++)(t=arguments[a])&&(r=X7(t))&&(s&&(s+=" "),s+=r);return s}const ad="https://vidyaastra.com/api",qX=()=>localStorage.getItem("schoolId")||"688dfdc93af0f78ebd4b044a",YX=()=>{const[t,r]=w.useState(!1),[a,s]=w.useState(null),[i,o]=w.useState(new Set),[l,c]=w.useState(!1),[d,f]=w.useState(null),[u,m]=w.useState([]),[p,g]=w.useState([]),[v,y]=w.useState([]),[b,j]=w.useState([]),[N,S]=w.useState(null),[B,I]=w.useState(qX()),[F,O]=w.useState({totalStudent:0,currentStudentCount:0,remainingCapacity:0,canAddStudents:!1}),[k,V]=w.useState(1),[Q,H]=w.useState(1),[M,K]=w.useState(10),q=localStorage.getItem("color")||"#2563eb",[re,ee]=w.useState({name:"",className:"",section:""}),[le,Ae]=w.useState({name:"",rollNumber:"",studentId:"",schoolId:B,dob:"",gender:"Male",address:"",phone:"",email:"",password:"",fatherName:"",motherName:"",parentPhone:"",classId:"",profileImage:null});w.useEffect(()=>{(async()=>{if(!B){c(!1);return}try{c(!0),f(null);const de=await fetch(`${ad}/schools/${B}`,{headers:{Accept:"application/json"}});if(!de.ok){const rt=await de.text();throw console.error("School response:",rt),new Error(`Failed to fetch school: ${de.status}`)}const ye=(await de.json()).data;if(ye){y([ye]);const rt=ye.totalStudent||0,Te=ye.currentStudentCount||0;O({totalStudent:rt,currentStudentCount:Te,remainingCapacity:rt-Te,canAddStudents:rt>0})}const Ce=await fetch(`${ad}/class?schoolId=${B}`,{headers:{Accept:"application/json"}});if(!Ce.ok)throw new Error(`Failed to fetch classes: ${Ce.status}`);const be=await Ce.json();j(Array.isArray(be.data)?be.data:[]);const Ee=await fetch(`${ad}/students/school/${B}?page=${k}&limit=${M}`,{headers:{Accept:"application/json"}});if(!Ee.ok)throw new Error(`Failed to fetch students: ${Ee.status}`);const Qe=await Ee.json();g(Qe.data),H(Qe.totalPages),V(Qe.currentPage),O(rt=>({...rt,currentStudentCount:Qe.totalStudents,remainingCapacity:rt.totalStudent-Qe.totalStudents}))}catch(de){console.error("Fetch error:",de)}finally{c(!1)}})()},[B,k,M]),w.useEffect(()=>{ve()},[re,p]);const ue=[...new Set(b.map(ie=>ie.className))],se=()=>re.className?[...new Set(b.filter(ie=>ie.className===re.className).map(ie=>ie.section).filter(ie=>ie))]:[],ve=()=>{let ie=[...p];re.name&&(ie=ie.filter(de=>de.name.toLowerCase().includes(re.name.toLowerCase()))),re.className&&(ie=ie.filter(de=>me(de.classId).className===re.className)),re.section&&(ie=ie.filter(de=>me(de.classId).section===re.section)),m(ie)},_=(ie,de)=>{ee(je=>({...je,[ie]:de}))},z=ie=>{ee(de=>({...de,className:ie,section:""}))},ae=()=>{ee({name:"",className:"",section:""})},oe=ie=>{ie>=1&&ie<=Q&&V(ie)},ce=ie=>{if(!ie)return"Unknown School";const de=typeof ie=="object"&&ie?._id?ie._id:ie,je=v.find(ye=>ye._id===de);return je?je.name:"Unknown School"},me=ie=>{if(!ie)return{className:"Unknown Class",section:"N/A"};const de=typeof ie=="object"&&ie?._id?ie._id:ie,je=b.find(ye=>ye._id===de);return je?{className:je.className,section:je.section||"N/A"}:{className:"Unknown Class",section:"N/A"}},he=ie=>{const de=ie.target.files[0];if(de){Ae({...le,profileImage:de});const je=new FileReader;je.onloadend=()=>S(je.result),je.readAsDataURL(de)}},te=async()=>{if(a&&a.profileImage)try{if(!(await fetch(`${ad}/students/${a._id}/profile-image`,{method:"DELETE",headers:{Accept:"application/json"}})).ok)throw new Error("Failed to delete profile image");m(u.map(de=>de._id===a._id?{...de,profileImage:""}:de))}catch(ie){console.error("Delete profile image error:",ie)}Ae({...le,profileImage:null}),S(null)},J=ie=>/^[A-Za-z\s]+$/.test(ie),X=ie=>/^\d{10}$/.test(ie),xe=ie=>{const{name:de,value:je}=ie.target;if(de==="name"||de==="fatherName"||de==="motherName"){(je===""||/^[A-Za-z\s]*$/.test(je))&&Ae({...le,[de]:je});return}if(de==="phone"||de==="parentPhone"){(je===""||/^\d{0,10}$/.test(je)&&je.length<=10)&&Ae({...le,[de]:je});return}Ae({...le,[de]:je})},Ne=async ie=>{if(ie.preventDefault(),!J(le.name)){f("Name should contain only alphabets and spaces");return}if(le.fatherName&&!J(le.fatherName)){f("Father's name should contain only alphabets and spaces");return}if(le.motherName&&!J(le.motherName)){f("Mother's name should contain only alphabets and spaces");return}if(le.phone&&!X(le.phone)){f("Phone number must be exactly 10 digits");return}if(le.parentPhone&&!X(le.parentPhone)){f("Parent phone number must be exactly 10 digits");return}if(!F.canAddStudents){f("Cannot add students. School capacity is set to 0. Please contact the administrator.");return}if(F.remainingCapacity<=0){f("Cannot add students. School has reached its maximum capacity.");return}try{c(!0),f(null);const de=new FormData;Object.keys(le).forEach(be=>{be==="profileImage"&&le[be]?de.append("profileImage",le[be]):le[be]!==null&&le[be]!==""&&de.append(be,le[be])});let je;if(a)je=await fetch(`${ad}/students/${a._id}`,{method:"PUT",body:de});else{if(!le.password)throw new Error("Password is required for new students");je=await fetch(`${ad}/students`,{method:"POST",body:de})}if(!je.ok){const be=await je.json().catch(()=>({}));throw new Error(be.message||(a?"Failed to update student":"Failed to create student"))}const Ce=await(await fetch(`${ad}/students/school/${B}?page=${k}&limit=${M}`,{headers:{Accept:"application/json"}})).json();g(Ce.data),H(Ce.totalPages),O(be=>({...be,currentStudentCount:Ce.totalStudents,remainingCapacity:be.totalStudent-Ce.totalStudents})),r(!1),s(null),ge(),f(null)}catch(de){f(de.message),console.error("Submission error:",de)}finally{c(!1)}},ge=()=>{Ae({name:"",rollNumber:"",studentId:"",schoolId:B,dob:"",gender:"Male",address:"",phone:"",email:"",password:"",fatherName:"",motherName:"",parentPhone:"",classId:"",profileImage:null}),S(null)},pe=async ie=>{if(window.confirm("Are you sure you want to delete this student?"))try{c(!0);const de=await It.delete(`${ad}/students/student/${ie}`,{data:{schoolId:B}});if(de.status===200){const ye=await(await fetch(`${ad}/students/school/${B}?page=${k}&limit=${M}`,{headers:{Accept:"application/json"}})).json();g(ye.data),H(ye.totalPages),O(Ce=>({...Ce,currentStudentCount:ye.totalStudents,remainingCapacity:Ce.totalStudent-ye.totalStudents}))}else throw new Error(de.data.message||"Failed to delete student")}catch(de){de.response?.data?.message||de.message,console.error("Deletion error:",de)}finally{c(!1)}},Y=ie=>{const de=new Set(i);de.has(ie)?de.delete(ie):de.add(ie),o(de)},Le=ie=>{if(!ie)return"";const de=ie.split(" ");let je=de[0].substring(0,1).toUpperCase();return de.length>1&&(je+=de[de.length-1].substring(0,1).toUpperCase()),je};return w.useEffect(()=>{if(!t)ge();else if(a&&(me(a.classId),Ae({name:a.name,rollNumber:a.rollNumber,studentId:a.studentId,schoolId:B,dob:a.dob,gender:a.gender,address:a.address,phone:a.phone,email:a.email,password:"",fatherName:a.fatherName,motherName:a.motherName,parentPhone:a.parentPhone,classId:typeof a.classId=="object"?a.classId._id:a.classId,profileImage:null}),a.profileImage)){const ie=a.profileImage.startsWith("/")?a.profileImage:`/${a.profileImage}`;S(`${ad}${ie}`)}},[t,a,B]),l&&u.length===0&&v.length===0?n.jsx("div",{className:"flex justify-center items-center h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:q}})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:Mt("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:q},children:n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Student Management"}),n.jsxs("p",{className:"text-gray-200",children:["Manage students for ",ce(B)]}),F.totalStudent===0?n.jsx("p",{className:"text-red-200",children:"Cannot add students. School capacity is set to 0. Please contact the administrator for permission."}):n.jsxs("p",{className:"text-gray-200",children:["Student Capacity: ",F.currentStudentCount," /"," ",F.totalStudent,F.remainingCapacity>0?n.jsxs("span",{children:[" ","(Can add ",F.remainingCapacity," more student",F.remainingCapacity>1?"s":"",")"]}):n.jsx("span",{children:" (No more students can be added)"})]})]}),n.jsxs("button",{onClick:()=>r(!0),className:Mt("text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2",(!F.canAddStudents||F.remainingCapacity<=0)&&"opacity-50 cursor-not-allowed"),style:{backgroundColor:q},disabled:!F.canAddStudents||F.remainingCapacity<=0,title:F.canAddStudents?F.remainingCapacity<=0?"Student limit reached":"Add a new student":"School capacity is 0. Contact administrator.",children:[n.jsx(Fs,{style:{color:"white"}})," ",n.jsx("span",{children:"Add Student"})]})]})}),d&&n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[n.jsx("strong",{className:"font-bold",children:"Error: "}),n.jsx("span",{className:"block sm:inline",children:d}),n.jsx("button",{onClick:()=>f(null),className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:n.jsx(cr,{className:"fill-current h-6 w-6 text-red-500"})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[n.jsx("div",{className:"p-6 border-b flex justify-between items-center",children:n.jsx("h2",{className:"text-lg font-bold",children:"All Students"})}),n.jsx("div",{className:"p-4 border-b bg-gray-50",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),n.jsxs("div",{className:"relative",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search by name",value:re.name,onChange:ie=>_("name",ie.target.value),className:"w-full pl-10 p-2 border rounded-lg"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Class"}),n.jsxs("select",{value:re.className,onChange:ie=>z(ie.target.value),className:"w-full p-2 border rounded-lg",style:{borderColor:q,outlineColor:q},children:[n.jsx("option",{value:"",children:"All Classes"}),ue.map(ie=>n.jsx("option",{value:ie,children:ie},ie))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Section"}),n.jsxs("select",{value:re.section,onChange:ie=>_("section",ie.target.value),className:"w-full p-2 border rounded-lg",style:{borderColor:q,outlineColor:q},disabled:!re.className,children:[n.jsx("option",{value:"",children:"All Sections"}),se().map(ie=>n.jsx("option",{value:ie,children:ie},ie))]})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:ae,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Reset Filters"})})]})}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Expand"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Student"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Class"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Section"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"School"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Roll No"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y",children:u.map(ie=>{const{className:de,section:je}=me(ie.classId);return n.jsxs(n.Fragment,{children:[n.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>Y(ie._id),children:[n.jsx("td",{className:"p-4",children:n.jsx("button",{onClick:ye=>{ye.stopPropagation(),Y(ie._id)},children:i.has(ie._id)?n.jsx(np,{style:{color:q}}):n.jsx(Ni,{style:{color:q}})})}),n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center overflow-hidden",style:{backgroundColor:`${q}20`,color:q},children:ie.profileImage?n.jsx("img",{src:`${ad}${ie.profileImage}`,alt:ie.name,className:"w-full h-full object-cover"}):n.jsx("span",{className:"text-xl",children:Le(ie.name)})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"font-medium",children:ie.name}),n.jsx("div",{className:"text-gray-500",children:ie.email})]})]})}),n.jsx("td",{className:"p-4",children:n.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full",children:de})}),n.jsx("td",{className:"p-4",children:n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full",children:je})}),n.jsx("td",{className:"p-4",children:n.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded-full",children:ce(ie.schoolId)})}),n.jsx("td",{className:"p-4",children:ie.rollNumber}),n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:ye=>{ye.stopPropagation(),s(ie),r(!0)},className:"hover:opacity-75",style:{color:q},children:n.jsx(Ko,{})}),n.jsx("button",{onClick:ye=>{ye.stopPropagation(),pe(ie._id)},className:"hover:opacity-75",style:{color:q},children:n.jsx(cs,{})})]})})]},ie._id),i.has(ie._id)&&n.jsx("tr",{children:n.jsx("td",{colSpan:"7",className:"p-4 bg-gray-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:[n.jsx("h3",{className:"font-semibold mb-4",children:"Student Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium border-b pb-1",children:"Personal"}),n.jsxs("div",{className:"space-y-2 mt-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"DOB:"})," ",ie.dob?new Date(ie.dob).toLocaleDateString():"N/A"]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Gender:"})," ",ie.gender]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Address:"})," ",ie.address||"N/A"]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Phone:"})," ",ie.phone||"N/A"]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium border-b pb-1",children:"Academic"}),n.jsxs("div",{className:"space-y-2 mt-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Class:"})," ",de]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Section:"})," ",je]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Roll No:"})," ",ie.rollNumber]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Student ID:"})," ",ie.studentId]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"School:"})," ",ce(ie.schoolId)]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium border-b pb-1",children:"Parent"}),n.jsxs("div",{className:"space-y-2 mt-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Father:"})," ",ie.fatherName||"N/A"]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Mother:"})," ",ie.motherName||"N/A"]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Phone:"})," ",ie.parentPhone||"N/A"]})]})]})]})]})})})]})})})]}),!u.length&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(da,{className:"w-12 h-12 mx-auto mb-4",style:{color:q}}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"No students found"}),F.canAddStudents&&F.remainingCapacity>0?n.jsx("button",{onClick:()=>r(!0),className:Mt("text-white px-4 py-2 rounded-lg shadow-lg"),style:{backgroundColor:q},children:"Add First Student"}):n.jsx("p",{className:"text-red-500",children:F.totalStudent===0?"Cannot add students. School capacity is set to 0. Please contact the administrator for permission.":"Cannot add students. School has reached its limit of "+F.totalStudent+" students."})]}),u.length>0&&n.jsxs("div",{className:"p-4 flex justify-between items-center",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",k," of ",Q]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>oe(k-1),disabled:k===1,className:Mt("px-3 py-1 rounded-lg",k===1?"opacity-50 cursor-not-allowed":"hover:bg-gray-100"),style:{color:q,borderColor:q},children:n.jsx(yo,{})}),n.jsx("button",{onClick:()=>oe(k+1),disabled:k===Q,className:Mt("px-3 py-1 rounded-lg",k===Q?"opacity-50 cursor-not-allowed":"hover:bg-gray-100"),style:{color:q,borderColor:q},children:n.jsx(Ni,{})})]})]})]})]}),t&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-auto",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:Mt("text-white p-6 rounded-t-lg shadow-lg sticky top-0 z-10"),style:{backgroundColor:q},children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:a?"Edit Student":"Add Student"}),n.jsx("button",{onClick:()=>r(!1),className:"absolute top-4 right-4 flex items-center justify-center w-8 h-8 hover:bg-gray-100 rounded-full",style:{color:q},children:n.jsx(cr,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:Ne,className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex flex-col items-center mb-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 overflow-hidden mb-2",children:N?n.jsx("img",{src:N||"/placeholder.svg",alt:"Preview",className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:a?.profileImage?n.jsx("img",{src:`${ad}${a.profileImage}`,alt:"Current Profile",className:"w-full h-full object-cover",onError:ie=>{ie.target.style.display="none",ie.target.parentElement.innerHTML=`<span className="text-2xl">${Le(le.name)}</span>`}}):n.jsx("span",{className:"text-2xl",children:Le(le.name)})})}),N||a?.profileImage?n.jsx("button",{type:"button",onClick:te,className:"absolute top-0 right-0 bg-red-500 text-white rounded-full p-1",children:n.jsx(cr,{className:"w-4 h-4"})}):null]}),n.jsxs("label",{className:"cursor-pointer mt-2",children:[n.jsx("span",{className:"hover:opacity-75",style:{color:q},children:"Upload Photo"}),n.jsx("input",{type:"file",accept:"image/*",onChange:he,className:"hidden"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{name:"name",label:"Student Name",type:"text",placeholder:"Enter student name"},{name:"classId",label:"Class",type:"select",options:b},{name:"rollNumber",label:"Roll Number",type:"text",placeholder:"Enter Roll NO"},{name:"studentId",label:"Student ID",type:"text",placeholder:"Enter student ID"},{name:"dob",label:"DOB",type:"date",placeholder:"Enter Your DOB"},{name:"gender",label:"Gender",type:"select",options:["Male","Female","Other"]},{name:"phone",label:"Phone",type:"tel",placeholder:"10-digit number only"},{name:"email",label:"Email",type:"email",placeholder:"Enter Email"},{name:"password",label:a?"New Password (Optional)":"Password",type:"password",required:!a,placeholder:"Enter New password"},{name:"fatherName",label:"Father's Name",type:"text",placeholder:"Enter father's name"},{name:"motherName",label:"Mother's Name",type:"text",placeholder:"Enter mother's name"},{name:"parentPhone",label:"Parent Phone",type:"tel",placeholder:"10-digit number only"}].map(ie=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:ie.label}),ie.type==="select"?n.jsxs("select",{name:ie.name,value:le[ie.name]||"",onChange:xe,className:"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:q,outlineColor:q},required:ie.required!==!1,children:[n.jsxs("option",{value:"",children:["Select ",ie.label]}),ie.name==="classId"?b.map(de=>n.jsxs("option",{value:de._id,children:[de.className," - ",de.section||"N/A"]},de._id)):ie.options.map(de=>n.jsx("option",{value:de._id||de,children:de},de._id||de))]}):n.jsx("input",{type:ie.type,name:ie.name,value:le[ie.name]||"",onChange:xe,placeholder:ie.placeholder||"",required:ie.required!==!1,className:"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:q,outlineColor:q}})]},ie.name))}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address"}),n.jsx("textarea",{name:"address",value:le.address||"",onChange:xe,required:!0,rows:"3",placeholder:"Enter address",className:"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:q,outlineColor:q}})]}),n.jsx("div",{className:"sticky bottom-0 bg-white pt-4 pb-2 border-t",children:n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:()=>r(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",className:Mt("text-white px-6 py-2 rounded-lg shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2"),style:{backgroundColor:q,borderColor:q,outlineColor:q},disabled:l||!F.canAddStudents||F.remainingCapacity<=0,children:l?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a?"Updating...":"Creating..."]}):a?"Update Student":"Create Student"})]})})]})]})})]})};var Vj={exports:{}},Kj={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cI;function XX(){if(cI)return Kj;cI=1;var t=zg();function r(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var a=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return Kj.useSyncExternalStoreWithSelector=function(d,f,u,m,p){var g=i(null);if(g.current===null){var v={hasValue:!1,value:null};g.current=v}else v=g.current;g=l(function(){function b(I){if(!j){if(j=!0,N=I,I=m(I),p!==void 0&&v.hasValue){var F=v.value;if(p(F,I))return S=F}return S=I}if(F=S,a(N,I))return F;var O=m(I);return p!==void 0&&p(F,O)?(N=I,F):(N=I,S=O)}var j=!1,N,S,B=u===void 0?null:u;return[function(){return b(f())},B===null?void 0:function(){return b(B())}]},[f,u,m,p]);var y=s(d,g[0],g[1]);return o(function(){v.hasValue=!0,v.value=y},[y]),c(y),y},Kj}var dI;function JX(){return dI||(dI=1,Vj.exports=XX()),Vj.exports}var ZX=JX();function eJ(t){t()}function tJ(){let t=null,r=null;return{clear(){t=null,r=null},notify(){eJ(()=>{let a=t;for(;a;)a.callback(),a=a.next})},get(){const a=[];let s=t;for(;s;)a.push(s),s=s.next;return a},subscribe(a){let s=!0;const i=r={callback:a,next:null,prev:r};return i.prev?i.prev.next=i:t=i,function(){!s||t===null||(s=!1,i.next?i.next.prev=i.prev:r=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var uI={notify(){},get:()=>[]};function rJ(t,r){let a,s=uI,i=0,o=!1;function l(y){u();const b=s.subscribe(y);let j=!1;return()=>{j||(j=!0,b(),m())}}function c(){s.notify()}function d(){v.onStateChange&&v.onStateChange()}function f(){return o}function u(){i++,a||(a=t.subscribe(d),s=tJ())}function m(){i--,a&&i===0&&(a(),a=void 0,s.clear(),s=uI)}function p(){o||(o=!0,u())}function g(){o&&(o=!1,m())}const v={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:p,tryUnsubscribe:g,getListeners:()=>s};return v}var aJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sJ=aJ(),nJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",iJ=nJ(),oJ=()=>sJ||iJ?w.useLayoutEffect:w.useEffect,lJ=oJ(),cJ=Symbol.for("react-redux-context"),dJ=typeof globalThis<"u"?globalThis:{};function uJ(){if(!w.createContext)return{};const t=dJ[cJ]??=new Map;let r=t.get(w.createContext);return r||(r=w.createContext(null),t.set(w.createContext,r)),r}var dm=uJ();function fJ(t){const{children:r,context:a,serverState:s,store:i}=t,o=w.useMemo(()=>{const d=rJ(i);return{store:i,subscription:d,getServerState:s?()=>s:void 0}},[i,s]),l=w.useMemo(()=>i.getState(),[i]);lJ(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,l]);const c=a||dm;return w.createElement(c.Provider,{value:o},r)}var J7=fJ;function yB(t=dm){return function(){return w.useContext(t)}}var Z7=yB();function eM(t=dm){const r=t===dm?Z7:yB(t),a=()=>{const{store:s}=r();return s};return Object.assign(a,{withTypes:()=>a}),a}var AJ=eM();function hJ(t=dm){const r=t===dm?AJ:eM(t),a=()=>r().dispatch;return Object.assign(a,{withTypes:()=>a}),a}var tM=hJ(),mJ=(t,r)=>t===r;function pJ(t=dm){const r=t===dm?Z7:yB(t),a=(s,i={})=>{const{equalityFn:o=mJ}=typeof i=="function"?{equalityFn:i}:i,l=r(),{store:c,subscription:d,getServerState:f}=l;w.useRef(!0);const u=w.useCallback({[s.name](p){return s(p)}}[s.name],[s]),m=ZX.useSyncExternalStoreWithSelector(d.addNestedSub,c.getState,f||c.getState,u,o);return w.useDebugValue(m),m};return Object.assign(a,{withTypes:()=>a}),a}var Za=pJ();const Wp="https://vidyaastra.com/api",gJ=()=>{const t=localStorage.getItem("schoolId"),r=localStorage.getItem("color")||"#2563eb",{classes:a,loading:s,error:i}=Za(ie=>({classes:ie.classes.classes?.data||[],loading:ie.classes.loading,error:ie.classes.error})),o=new Date().toISOString().split("T")[0],[l,c]=w.useState(o),[d,f]=w.useState(""),[u,m]=w.useState(""),[p,g]=w.useState(""),[v,y]=w.useState(!1),[b,j]=w.useState([]),[N,S]=w.useState([]),[B,I]=w.useState(!1),[F,O]=w.useState(""),[k,V]=w.useState(""),[Q,H]=w.useState(null),[M,K]=w.useState(1),[q,re]=w.useState(1),[ee,le]=w.useState(10),Ae={present:{icon:Dn,color:"text-white px-3 py-2 rounded-lg shadow-lg",style:{backgroundColor:r}},absent:{icon:cr,color:"bg-red-500 text-white",style:{backgroundColor:"#ef4444"}},late:{icon:Ea,color:"bg-orange-500 text-white",style:{backgroundColor:"#f59e0b"}},holiday:{icon:da,color:"bg-purple-500 text-white",style:{backgroundColor:"#8b5cf6"}}},ue=ie=>{V(ie),setTimeout(()=>V(""),5e3)},se=ie=>{O(ie),setTimeout(()=>O(""),5e3)};w.useEffect(()=>{if(!t){O("School ID not found. Please login again.");return}console.log("Current School ID:",t)},[t]);const ve=w.useCallback(async()=>{if(t){I(!0);try{console.log("Fetching students for schoolId:",t);const ie=await fetch(`${Wp}/students/school/${t}?page=${M}&limit=${ee}`);if(ie.ok){const de=await ie.json();console.log("Students API response:",de);const je=Array.isArray(de.data)?de.data:[];S(je),re(de.totalPages||1),K(de.currentPage||1),console.log("Students loaded:",je.length)}else console.error("Failed to fetch students:",ie.status),await _()}catch(ie){console.error("Error fetching students:",ie),await _()}finally{I(!1)}}},[t,M,ee]),_=async()=>{try{const ie=await fetch(`${Wp}/students`);if(ie.ok){const de=await ie.json();console.log("All students API response:",de);const ye=(Array.isArray(de)?de:Array.isArray(de.data)?de.data:[]).filter(Ce=>typeof Ce.schoolId=="object"&&Ce.schoolId?._id?Ce.schoolId._id===t:Ce.schoolId===t||Ce.schoolId?.toString()===t);S(ye),console.log("Filtered students loaded:",ye.length)}else console.error("Failed to fetch all students:",ie.status),S([]),se("Failed to fetch students")}catch(ie){console.error("Error fetching all students:",ie),S([]),se("Error connecting to server while fetching students.")}},z=w.useCallback(async()=>{if(!(!t||!l)){I(!0);try{console.log("Fetching attendance for school:",t,"date:",l,"page:",M,"limit:",ee);const ie=await fetch(`${Wp}/attendance?schoolId=${t}&date=${l}&page=${M}&limit=${ee}`);if(ie.ok){const de=await ie.json();if(console.log("Attendance API Response:",de),!de.success)throw new Error(de.message||"Failed to fetch attendance records");j(de.data),re(de.totalPages||1),K(de.currentPage||1),console.log("Attendance records loaded:",de.data.length)}else console.error("Failed to fetch attendance:",ie.status),j([]),se("Failed to fetch attendance records")}catch(ie){console.error("Error fetching attendance:",ie),j([]),se("Error connecting to server while fetching attendance.")}finally{I(!1)}}},[t,l,M,ee]);w.useEffect(()=>{t&&ve()},[t,ve,M,ee]),w.useEffect(()=>{t&&l&&z()},[t,l,M,ee,z]),w.useEffect(()=>{i&&se("Failed to load classes from Redux")},[i]);const oe=N.map(ie=>{const de=b.find(Ce=>Ce.studentId===ie._id||typeof Ce.studentId=="object"&&Ce.studentId?._id===ie._id);let je="N/A",ye="N/A";if(ie.classId){const Ce=a.find(be=>{const Ee=typeof ie.classId=="object"&&ie.classId?._id?ie.classId._id:ie.classId;return be._id===Ee});Ce?(je=Ce.className||"N/A",ye=Ce.section||"N/A"):console.warn(`No class found for student ${ie._id} with classId: ${ie.classId}`)}else console.warn(`Student ${ie._id} has no classId`);return{...ie,attendanceId:de?._id,status:de?.status?.toLowerCase()||"absent",class:je,section:ye,classDisplay:`${je} ${ye}`.trim(),attendanceDate:de?.date}}).filter(ie=>{const de=p.toLowerCase(),je=(ie.name?.toLowerCase()||"").includes(de)||(ie.rollNumber?.toString()||"").includes(de)||(ie.studentId?.toLowerCase()||"").includes(de),ye=!d||ie.class===d,Ce=!u||ie.section===u;return console.log(`Student: ${ie.name}, class: ${ie.class}, section: ${ie.section}, selectedClass: ${d}, selectedSection: ${u}, Matches Class: ${ye}, Matches Section: ${Ce}`),je&&ye&&Ce});w.useEffect(()=>{console.log("Filtered students:",oe.length,oe)},[oe]);const ce=oe.length,me=oe.filter(ie=>ie.status==="present").length,he=oe.filter(ie=>ie.status==="absent").length,te=oe.filter(ie=>ie.status==="late").length,J=[{icon:da,value:ce,label:"Total Students",color:"custom"},{icon:Dn,value:me,label:"Present",color:"green"},{icon:cr,value:he,label:"Absent",color:"red"},{icon:Ea,value:te,label:"Late",color:"orange"}],X=async(ie,de)=>{if(!t){se("School ID not found. Please login again.");return}const je=N.find(ye=>ye._id===ie);if(!je){se("Student not found or does not belong to your school.");return}H(ie);try{I(!0);const ye=b.find(Te=>Te.studentId===ie||typeof Te.studentId=="object"&&Te.studentId?._id===ie),Ce={studentId:ie,date:l,status:de.toLowerCase(),schoolId:t};console.log("Submitting attendance data:",Ce,"Existing record:",!!ye);const be=ye?`${Wp}/attendance/${ye._id}`:`${Wp}/attendance`,Qe=await fetch(be,{method:ye?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ce)}),rt=await Qe.json();console.log("Attendance update response:",rt),Qe.ok?(ue(`Attendance marked as ${de} for ${je.name}`),await z()):se(rt.message||"Failed to update attendance")}catch(ye){console.error("Error updating attendance:",ye),se(`Error: ${ye.message}`)}finally{I(!1),H(null)}},xe=async ie=>{if(!t){se("School ID not found. Please login again.");return}if(oe.length===0){se("No students found to update.");return}try{I(!0);const de=oe.map(je=>X(je._id,ie));await Promise.all(de),ue(`Marked all ${oe.length} students as ${ie}`)}catch(de){console.error("Error with bulk attendance update:",de),se(`Bulk update error: ${de.message}`)}finally{I(!1)}},Ne=ie=>{const de=ie.target.value;console.log("Selected class changed to:",de),f(de),m("")},ge=ie=>{const de=ie.target.value;console.log("Selected section changed to:",de),m(de)},pe=[...new Set(a.map(ie=>ie.className))],Y=()=>d?[...new Set(a.filter(ie=>ie.className===d).map(ie=>ie.section).filter(ie=>ie))]:[],Le=ie=>{ie>=1&&ie<=q&&K(ie)};return t?B&&N.length===0?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Er,{className:"w-12 h-12 mx-auto text-blue-600 animate-spin mb-4"}),n.jsx("p",{className:"text-lg font-medium text-gray-700",children:"Loading attendance data..."}),n.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["School ID: ",t]})]})}):n.jsxs("div",{className:"space-y-6 p-6 bg-gray-50 min-h-screen",children:[k&&n.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[n.jsx(ji,{className:"w-5 h-5"}),n.jsx("span",{className:"block sm:inline",children:k}),n.jsx("button",{onClick:()=>V(""),className:"ml-auto text-green-700 hover:text-green-900",children:n.jsx(cr,{className:"w-4 h-4"})})]}),F&&n.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[n.jsx(ua,{className:"w-5 h-5"}),n.jsx("span",{className:"block sm:inline",children:F}),n.jsx("button",{onClick:()=>O(""),className:"ml-auto text-red-700 hover:text-red-900",children:n.jsx(cr,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"text-black p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:r},children:[n.jsxs("div",{className:"flex justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Attendance Management"}),n.jsx("p",{className:"text-gray-200",children:"Mark and manage student attendance"}),n.jsxs("div",{className:"text-white text-sm opacity-75 mt-1",children:["School ID: ",t," | Showing ",oe.length," students",(d||u)&&" for selected filters"]})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs("button",{onClick:()=>y(!v),className:"text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 hover:bg-opacity-90",style:{backgroundColor:r},disabled:B,children:[n.jsx(Ko,{}),n.jsx("span",{children:v?"View Mode":"Edit Mode"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date"}),n.jsxs("div",{className:"relative",children:[n.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"date",value:l,onChange:ie=>c(ie.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-offset-2 text-gray-900",style:{borderColor:r,outlineColor:r}})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Class (Optional)"}),n.jsxs("select",{value:d,onChange:Ne,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-offset-2 text-gray-900",style:{borderColor:r,outlineColor:r},disabled:s,children:[n.jsx("option",{value:"",children:"All Classes"}),pe.map(ie=>n.jsx("option",{value:ie,children:ie},ie))]}),s&&n.jsxs("div",{className:"text-sm text-white mt-1",children:[n.jsx(Er,{className:"inline mr-1 animate-spin"})," Loading classes..."]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Section (Optional)"}),n.jsxs("select",{value:u,onChange:ge,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-offset-2 text-gray-900",style:{borderColor:r,outlineColor:r},disabled:s||!d,children:[n.jsx("option",{value:"",children:"All Sections"}),Y().map(ie=>n.jsx("option",{value:ie,children:ie},ie))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Search Students"}),n.jsxs("div",{className:"relative",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search by name, roll no...",value:p,onChange:ie=>g(ie.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-offset-2 text-gray-900",style:{borderColor:r,outlineColor:r}})]})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:J.map((ie,de)=>n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4",style:{borderColor:ie.color==="custom"?r:ie.color==="green"?"#10b981":ie.color==="red"?"#ef4444":ie.color==="orange"?"#f59e0b":r,backgroundColor:ie.color==="custom"?r:"white"},children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ie.icon,{className:`w-8 h-8 ${ie.color==="custom"?"text-white":`text-${ie.color}-600`}`}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:`text-2xl font-bold ${ie.color==="custom"?"text-white":"text-gray-800"}`,children:ie.value}),n.jsx("div",{className:`text-sm ${ie.color==="custom"?"text-gray-200":"text-gray-600"}`,children:ie.label})]})]})},de))}),v&&n.jsx("div",{className:"bg-white rounded-xl p-4 shadow-lg",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Bulk Actions for ",oe.length," students:"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>xe("present"),className:"px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 text-sm disabled:opacity-50",disabled:B||oe.length===0,children:"Mark All Present"}),n.jsx("button",{onClick:()=>xe("absent"),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 text-sm disabled:opacity-50",disabled:B||oe.length===0,children:"Mark All Absent"}),n.jsx("button",{onClick:()=>xe("late"),className:"px-4 py-2 bg-orange-100 text-orange-700 rounded-lg hover:bg-orange-200 text-sm disabled:opacity-50",disabled:B||oe.length===0,children:"Mark All Late"})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-500 uppercase",children:"Roll No"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-500 uppercase",children:"Student Name"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-500 uppercase",children:"Student ID"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-500 uppercase",children:"Class"}),n.jsx("th",{className:"px-6 py-4 text-center text-xs text-gray-500 uppercase",children:"Attendance Status"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:oe.length>0?oe.map(ie=>{const de=ie.status||"absent",je=Ae[de]?.icon||cr,ye=Ae[de]?.color||"bg-gray-500 text-white",Ce=Ae[de]?.style||{};return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:ie.rollNumber||"-"}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"text-white h-8 w-8 rounded-full overflow-hidden flex items-center justify-center",style:{backgroundColor:r},children:ie.profileImage?n.jsx("img",{src:`${Wp.replace("/api","")}${ie.profileImage}`,alt:ie.name,className:"h-full w-full object-cover",onError:be=>{be.target.style.display="none",be.target.parentElement.innerHTML=`<div class="h-full w-full flex items-center justify-center font-semibold text-white">${ie.name?.charAt(0)||"?"}</div>`}}):n.jsx("div",{className:"h-full w-full flex items-center justify-center font-semibold text-white",children:ie.name?.charAt(0)||"?"})}),n.jsx("div",{className:"text-sm font-medium text-gray-900 ml-3",children:ie.name||"Unknown Student"})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"text-white px-2 py-1 text-xs font-medium rounded-full",style:{backgroundColor:r},children:ie.studentId||"-"})}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:ie.classDisplay||"N/A"}),n.jsx("td",{className:"px-6 py-4",children:v?n.jsx("div",{className:"flex justify-center gap-2",children:Object.entries(Ae).map(([be,{icon:Ee,style:Qe}])=>n.jsxs("button",{onClick:()=>X(ie._id,be),className:`px-3 py-2 rounded-lg text-sm font-medium flex items-center gap-1 disabled:opacity-50 ${de===be?Ae[be].color:"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:de===be?Qe:{},disabled:B||Q===ie._id,children:[Q===ie._id&&de===be?n.jsx(Er,{className:"w-4 h-4 animate-spin"}):n.jsx(Ee,{className:"w-4 h-4"}),n.jsx("span",{children:be.charAt(0).toUpperCase()+be.slice(1)})]},be))}):n.jsx("div",{className:"flex justify-center",children:n.jsxs("span",{className:`px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-1 ${ye}`,style:Ce,children:[n.jsx(je,{className:"w-4 h-4"}),n.jsx("span",{className:"capitalize",children:de})]})})})]},ie._id)}):n.jsx("tr",{children:n.jsxs("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-500",children:[N.length===0?"No students found for this school":"No students match your search criteria",n.jsxs("div",{className:"text-xs mt-2",children:["School ID: ",t]})]})})})]}),oe.length>0&&n.jsxs("div",{className:"p-4 flex justify-between items-center",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",M," of ",q]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>Le(M-1),disabled:M===1,className:`px-3 py-1 rounded-lg ${M===1?"opacity-50 cursor-not-allowed":"hover:bg-gray-100"}`,style:{color:r,borderColor:r},children:n.jsx(yo,{})}),n.jsx("button",{onClick:()=>Le(M+1),disabled:M===q,className:`px-3 py-1 rounded-lg ${M===q?"opacity-50 cursor-not-allowed":"hover:bg-gray-100"}`,style:{color:r,borderColor:r},children:n.jsx(Ni,{})})]})]})]})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ua,{className:"w-12 h-12 mx-auto text-red-600 mb-4"}),n.jsx("p",{className:"text-lg font-medium text-gray-700",children:"School ID is required to access attendance."}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please ensure you are properly logged in."})]})})},xJ=()=>{const t="https://vidyaastra.com/api/fee",r="https://vidyaastra.com/api/students/school",a="https://vidyaastra.com/api/class",s=localStorage.getItem("schoolId"),i=localStorage.getItem("color")||"#2563eb",o=localStorage.getItem("adminToken")||localStorage.getItem("token"),[l,c]=w.useState([]),[d,f]=w.useState([]),[u,m]=w.useState([]),[p,g]=w.useState(!1),[v,y]=w.useState(!1),[b,j]=w.useState(!1),[N,S]=w.useState(!1),[B,I]=w.useState(null),[F,O]=w.useState(null),[k,V]=w.useState(""),[Q,H]=w.useState(null),[M,K]=w.useState(null),[q,re]=w.useState(!0),[ee,le]=w.useState(null),[Ae,ue]=w.useState(null),[se,ve]=w.useState(null),[_,z]=w.useState(""),[ae,oe]=w.useState(""),[ce,me]=w.useState(""),[he,te]=w.useState(1),[J,X]=w.useState(1),[xe,Ne]=w.useState(10),[ge,pe]=w.useState({studentId:"",totalAmount:"",numberOfInstallments:1,installmentType:"equal",installments:[{amount:"",dueDate:""}],schoolId:s}),[Y,Le]=w.useState({amount:"",paymentMethod:"",schoolId:s}),[ie,de]=w.useState({}),[je,ye]=w.useState(!1),[Ce,be]=w.useState(!1),[Ee,Qe]=w.useState(!1);w.useEffect(()=>{if(!s){le("School ID not found. Please login again.");return}if(!o){le("Authentication token not found. Please login again.");return}},[s,o]),w.useEffect(()=>{(async()=>{if(!(!s||!o))try{re(!0),le(null);const Ht={Authorization:`Bearer ${o}`,"Content-Type":"application/json"},[Gt,dr,Jt]=await Promise.all([It.get(`${t}?schoolId=${s}&page=${he}&limit=${xe}`,{headers:Ht}),It.get(`${r}/${s}`,{headers:Ht}),It.get(`${a}?schoolId=${s}`,{headers:Ht})]),Mr=Gt.data?.success?Gt.data.data:[],ke=dr.data?.success?dr.data.data:dr.data,qe=Jt.data?.success?Jt.data.data:[];c(Array.isArray(Mr)?Mr:[]),f(Array.isArray(ke)?ke:[]),m(Array.isArray(qe)?qe:[]),X(Gt.data?.totalPages||1),te(Gt.data?.currentPage||1),re(!1)}catch(Ht){console.error("Error fetching data:",Ht),le(Ht.response?.data?.message||Ht.message),re(!1)}})()},[s,o,he,xe]);const rt=at=>{console.log("studentId:",at),console.log("students array:",d);let Ht=null;if(at&&typeof at=="object"?Ht=at._id:typeof at=="string"&&(Ht=at),Ht&&d.length>0){const Gt=d.find(dr=>dr._id===Ht);if(console.log("Found full student:",Gt),Gt)return{name:Gt.name||"Unknown Student",rollNumber:Gt.rollNumber||"N/A",phone:Gt.phone||"N/A",email:Gt.email||"N/A",classId:{className:Gt.classId?.className||Gt.class||"N/A",section:Gt.classId?.section||Gt.section||"N/A"},fatherName:Gt.fatherName||Gt.father_name||null,motherName:Gt.motherName||Gt.mother_name||null,parentPhone:Gt.parentPhone||Gt.parent_phone||Gt.guardianPhone||null,address:Gt.address||Gt.full_address||null}}return at&&typeof at=="object"?(console.log("Using studentId object as fallback:",at),{name:at.name||"Unknown Student",rollNumber:at.rollNumber||"N/A",phone:at.phone||"N/A",email:at.email||"N/A",classId:at.classId?{className:at.classId.className||"N/A",section:at.classId.section||"N/A"}:{className:"N/A",section:"N/A"},fatherName:null,motherName:null,parentPhone:null,address:null}):{name:"Unknown Student",rollNumber:"N/A",phone:"N/A",email:"N/A",classId:{className:"N/A",section:"N/A"},fatherName:null,motherName:null,parentPhone:null,address:null}},Te=(at,Ht,Gt="equal")=>{const dr=Number.parseFloat(at)||0,Jt=Number.parseInt(Ht)||1;if(dr<=0||Jt<=0)return[];if(Gt==="equal"){const Mr=Math.floor(dr/Jt*100)/100,ke=dr-Mr*Jt,qe=[];for(let ze=0;ze<Jt;ze++){const Ke=ze===Jt-1?Mr+ke:Mr;qe.push({amount:Ke.toFixed(2),dueDate:""})}return qe}return Array(Jt).fill({amount:"",dueDate:""})},nt=(at,Ht,Gt)=>{const dr=Te(at,Ht,Gt);pe(Jt=>({...Jt,totalAmount:at,numberOfInstallments:Ht,installmentType:Gt,installments:dr}))},xt=at=>{const Ht=d.find(Gt=>Gt._id===at);ve(Ht),pe(Gt=>({...Gt,studentId:at}))},it=l.filter(at=>{const Ht=rt(at.studentId);if(!Ht)return!1;const Gt=Ht.name&&Ht.name.toLowerCase().includes(k.toLowerCase()),dr=!_||Ht.classId?.className&&Ht.classId.className.toString()===_,Jt=!ae||Ht.classId?.section&&Ht.classId.section.toLowerCase()===ae.toLowerCase(),Mr=!ce||at.numberOfInstallments&&at.numberOfInstallments.toString()===ce;return Gt&&dr&&Jt&&Mr}),_e=()=>{const at=l.map(Gt=>Gt.numberOfInstallments).filter(Gt=>Gt!=null).map(Gt=>Gt.toString());return[...new Set(at)].sort((Gt,dr)=>{const Jt=Number.parseInt(Gt),Mr=Number.parseInt(dr);return Jt-Mr})},dt=()=>{const at=d.map(dr=>dr.class).filter(dr=>dr!=null).map(dr=>dr.toString()),Ht=u.map(dr=>dr.className).filter(dr=>dr!=null);return[...new Set([...at,...Ht])].sort((dr,Jt)=>{const Mr=Number.parseInt(dr),ke=Number.parseInt(Jt);return!isNaN(Mr)&&!isNaN(ke)?Mr-ke:dr.localeCompare(Jt)})},yt=()=>{const at=d.map(dr=>dr.section).filter(dr=>dr!=null&&dr!==""),Ht=u.map(dr=>dr.section).filter(dr=>dr!=null&&dr!=="");return[...new Set([...at,...Ht])].sort()},rr=()=>{V(""),z(""),oe(""),me("")},_t=at=>{H(at);const Ht=rt(at.studentId);ve(Ht),pe({studentId:typeof at.studentId=="object"?at.studentId._id:at.studentId,totalAmount:at.totalAmount.toString(),numberOfInstallments:at.numberOfInstallments,installmentType:"custom",installments:at.installments.map(Gt=>({amount:Gt.amount.toString(),dueDate:Gt.dueDate.split("T")[0]})),schoolId:s}),g(!0)},Ve=(at,Ht)=>{K({fee:at,installmentIndex:Ht});const Gt=at.installments[Ht];Le({amount:Gt.pending?.toString()||"",paymentMethod:"",schoolId:s}),y(!0)},Se=async(at,Ht)=>{try{const Gt={Authorization:`Bearer ${o}`,"Content-Type":"application/json"},dr=await It.get(`${t}/receipt/${at._id}/${Ht}?schoolId=${s}`,{headers:Gt});dr.data.success&&(ue(dr.data.data),j(!0))}catch(Gt){console.error("Error fetching receipt data:",Gt),le(Gt.response?.data?.message||Gt.message)}},ot=at=>{I(at),S(!0)},Ot=async at=>{if(!B||!s||!o){le("Authentication required. Please login again.");return}try{const Ht={Authorization:`Bearer ${o}`,"Content-Type":"application/json"};(await It.put(`${t}/update-status/${B._id}`,{status:at,schoolId:s},{headers:Ht})).data.success&&(c(l.map(dr=>dr._id===B._id?{...dr,status:at}:dr)),S(!1),I(null),le(null),await pa())}catch(Ht){console.error("Error updating payment status:",Ht),le(Ht.response?.data?.message||"Failed to update payment status")}},vt=async at=>{if(!s||!o){le("Authentication required. Please login again.");return}if(window.confirm("Are you sure you want to delete this fee record?"))try{const Ht={Authorization:`Bearer ${o}`,"Content-Type":"application/json"};(await It.delete(`${t}/${at}`,{headers:Ht,data:{schoolId:s}})).data.success&&await pa()}catch(Ht){console.error("Error deleting fee:",Ht),le(Ht.response?.data?.message||Ht.message)}},Ze=it.reduce((at,Ht)=>({total:at.total+(Ht.totalAmount||0),paid:at.paid+(Ht.paid||0),pending:at.pending+(Ht.pending||0)}),{total:0,paid:0,pending:0}),He=(at,Ht=null)=>{const{name:Gt,value:dr}=at.target;if(Gt==="totalAmount")nt(dr,ge.numberOfInstallments,ge.installmentType);else if(Gt==="numberOfInstallments"){const Jt=Number.parseInt(dr)||1;nt(ge.totalAmount,Jt,ge.installmentType)}else if(Gt==="installmentType")nt(ge.totalAmount,ge.numberOfInstallments,dr);else if(Gt.startsWith("installment")){const Jt=Gt.split("."),Mr=Jt[1],ke=Number.parseInt(Jt[2]),qe=[...ge.installments];qe[ke]={...qe[ke],[Mr]:dr},pe(ze=>({...ze,installments:qe}))}else pe(Jt=>({...Jt,[Gt]:dr}))},ct=at=>{const{name:Ht,value:Gt}=at.target;Le(dr=>({...dr,[Ht]:Gt}))},ft=()=>{pe({studentId:"",totalAmount:"",numberOfInstallments:1,installmentType:"equal",installments:[{amount:"",dueDate:""}],schoolId:s}),ve(null)},Wt=async at=>{if(at.preventDefault(),!s||!o){le("Authentication required. Please login again.");return}ye(!0),le(null);try{const Ht={Authorization:`Bearer ${o}`,"Content-Type":"application/json"};if(!ge.studentId||!ge.totalAmount||!ge.installments.length){le("Please fill in all required fields."),ye(!1);return}if(!ge.installments.every(ke=>ke.amount&&ke.dueDate)){le("All installments must have due dates."),ye(!1);return}const dr=ge.installments.reduce((ke,qe)=>ke+Number.parseFloat(qe.amount||0),0),Jt=Number.parseFloat(ge.totalAmount);if(Math.abs(dr-Jt)>.01){le("Total amount must match the sum of installment amounts."),ye(!1);return}const Mr={studentId:ge.studentId,totalAmount:Jt,installments:ge.installments.map(ke=>({amount:Number.parseFloat(ke.amount),dueDate:ke.dueDate})),schoolId:s};Q?(await It.put(`${t}/${Q._id}`,Mr,{headers:Ht})).data.success&&(await pa(),g(!1),H(null),ft(),le(null),be(!0),setTimeout(()=>be(!1),3e3)):(await It.post(t,Mr,{headers:Ht})).data.success&&(await pa(),g(!1),ft(),le(null),be(!0),setTimeout(()=>be(!1),3e3))}catch(Ht){console.error("Error submitting form:",Ht),le(Ht.response?.data?.message||Ht.message)}finally{ye(!1)}},gr=async at=>{if(at.preventDefault(),!M||!s||!o){le("Authentication required. Please login again.");return}try{const Ht={Authorization:`Bearer ${o}`,"Content-Type":"application/json"},{fee:Gt,installmentIndex:dr}=M,Jt=Gt.installments[dr],Mr=Number.parseFloat(Y.amount);if(!Mr||Mr<=0){le("Payment amount must be greater than zero.");return}if(Mr>(Jt.pending||0)){le(`Payment amount cannot exceed pending amount of ${Jt.pending?.toLocaleString()}.`);return}const ke={paymentMethod:Y.paymentMethod,schoolId:s};(await It.put(`${t}/pay-installment/${Gt._id}/${dr}`,ke,{headers:Ht})).data.success&&(await pa(),y(!1),K(null),Le({amount:"",paymentMethod:"",schoolId:s}),le(null))}catch(Ht){console.error("Error updating installment payment:",Ht),le(Ht.response?.data?.message||Ht.message)}},Fr=at=>{const Ht={paid:{icon:b7,color:"text-green-700 bg-green-100",text:"Paid"},partial:{icon:m2,color:"text-orange-700 bg-orange-100",text:"Partial"},pending:{icon:B1,color:"text-red-700 bg-red-100",text:"Pending"},overdue:{icon:B1,color:"text-red-700 bg-red-200",text:"Overdue"}},{icon:Gt,color:dr,text:Jt}=Ht[at]||{icon:null,color:"",text:at};return{Icon:Gt,color:dr,text:Jt}},Ta=at=>{at>=1&&at<=J&&te(at)},pa=async()=>{try{re(!0),le(null);const at={Authorization:`Bearer ${o}`,"Content-Type":"application/json"},[Ht,Gt]=await Promise.all([It.get(`${t}?schoolId=${s}&page=${he}&limit=${xe}`,{headers:at}),It.get(`${r}/${s}`,{headers:at})]),dr=Ht.data?.success?Ht.data.data:[],Jt=Gt.data?.success?Gt.data.data:Gt.data;c(Array.isArray(dr)?dr:[]),f(Array.isArray(Jt)?Jt:[]),X(Ht.data?.totalPages||1),te(Ht.data?.currentPage||1),re(!1)}catch(at){console.error("Error fetching data:",at),le(at.response?.data?.message||at.message),re(!1)}};return!s||!o?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-500 text-xl mb-4",children:"Authentication Required"}),n.jsx("div",{className:"text-gray-600",children:"Please login again to access the fee management system."})]})}):q?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center p-8",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-200 border-t-blue-600 mx-auto mb-6"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full animate-pulse"})})]}),n.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Loading Fee Management System"}),n.jsx("p",{className:"text-gray-500",children:"Please wait while we fetch your data..."}),n.jsxs("div",{className:"mt-4 flex justify-center space-x-1",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50 p-4",children:[Ce&&n.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-2 animate-in slide-in-from-top-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsxs("span",{children:["Fees ",Q?"updated":"created"," successfully!"]})]}),n.jsxs("div",{className:"max-w-full mx-auto",children:[ee&&n.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6 rounded-r-lg shadow-sm",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),n.jsx("div",{className:"ml-3 flex-1",children:n.jsx("p",{className:"text-sm text-red-700 font-medium",children:ee})}),n.jsx("div",{className:"ml-auto pl-3",children:n.jsx("button",{onClick:()=>le(null),className:"inline-flex text-red-400 hover:text-red-600 focus:outline-none focus:text-red-600",children:n.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})}),n.jsxs("div",{className:"text-black p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:i},children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Student Fee Management"}),n.jsxs("button",{onClick:()=>{H(null),ft(),g(!0)},className:"text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 hover:opacity-90",style:{backgroundColor:i},children:[n.jsx(Zq,{})," Add Fee Record"]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[n.jsx("div",{className:"flex-1 min-w-[200px]",children:n.jsx("input",{type:"text",placeholder:"Search by student name...",value:k,onChange:at=>V(at.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})}),n.jsx("div",{className:"min-w-[150px]",children:n.jsxs("select",{value:_,onChange:at=>z(at.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"",children:"All Classes"}),dt().map(at=>n.jsxs("option",{value:at,children:["Class ",at]},at))]})}),n.jsx("div",{className:"min-w-[150px]",children:n.jsxs("select",{value:ae,onChange:at=>oe(at.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"",children:"All Sections"}),yt().map(at=>n.jsxs("option",{value:at,children:["Section ",at]},at))]})}),n.jsx("div",{className:"min-w-[150px]",children:n.jsxs("select",{value:ce,onChange:at=>me(at.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"",children:"All Installments"}),_e().map(at=>n.jsxs("option",{value:at,children:[at," Installment",at!=="1"?"s":""]},at))]})}),n.jsx("button",{onClick:rr,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Reset Filters"})]}),(k||_||ae||ce)&&n.jsxs("div",{className:"flex flex-wrap gap-2 items-center text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Active filters:"}),_&&n.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded",children:["Class: ",_]}),ae&&n.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded",children:["Section: ",ae]}),ce&&n.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded",children:["Installments: ",ce]}),n.jsxs("span",{className:"text-gray-500",children:["(",it.length," results)"]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 mt-6",children:[n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[n.jsxs("div",{className:"text-xl font-bold",style:{color:i},children:["",Ze.total.toLocaleString()]}),n.jsx("div",{className:"text-gray-600",children:"Total Fee"})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[n.jsxs("div",{className:"text-xl font-bold text-green-600",children:["",Ze.paid.toLocaleString()]}),n.jsx("div",{className:"text-gray-600",children:"Paid Amount"})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[n.jsxs("div",{className:"text-xl font-bold text-red-600",children:["",Ze.pending.toLocaleString()]}),n.jsx("div",{className:"text-gray-600",children:"Pending Amount"})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsx("tr",{children:["Student Name","Roll No","Total Amount","Paid","Pending","Installments","Status","Actions"].map((at,Ht)=>n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:at},Ht))})}),n.jsxs("tbody",{className:"divide-y divide-gray-200",children:[it.map(at=>{const Ht=rt(at.studentId),{Icon:Gt,color:dr,text:Jt}=Fr(at.status);return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:Ht.name}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:Ht.rollNumber}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:["",at.totalAmount?.toLocaleString()]}),n.jsxs("td",{className:"px-4 py-3 text-sm text-green-600",children:["",at.paid?.toLocaleString()]}),n.jsxs("td",{className:"px-4 py-3 text-sm text-red-600",children:["",at.pending?.toLocaleString()]}),n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[at.numberOfInstallments," installment(s)"]}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${dr}`,children:[Gt&&n.jsx(Gt,{})," ",Jt]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>O(at),className:"hover:opacity-75",style:{color:i},title:"View Details",children:n.jsx(j7,{})}),n.jsx("button",{onClick:()=>_t(at),className:"text-green-600 hover:text-green-800",title:"Edit Fee",children:n.jsx(Wq,{})}),n.jsx("button",{onClick:()=>ot(at),className:"text-blue-600 hover:text-blue-800",title:"Change Payment Status",children:n.jsx(m2,{})}),n.jsx("button",{onClick:()=>vt(at._id),className:"text-red-600 hover:text-red-800",title:"Delete Fee",children:n.jsx(tY,{})})]})})]},at._id)}),it.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:"8",className:"px-4 py-8 text-center text-gray-500",children:"No fee records found"})})]})]})}),it.length>0&&n.jsxs("div",{className:"p-4 flex justify-between items-center",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",he," of ",J]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>Ta(he-1),disabled:he===1,className:`px-3 py-1 rounded-lg ${he===1?"opacity-50 cursor-not-allowed":"hover:bg-gray-100"}`,style:{color:i,borderColor:i},children:n.jsx(Vq,{})}),n.jsx("button",{onClick:()=>Ta(he+1),disabled:he===J,className:`px-3 py-1 rounded-lg ${he===J?"opacity-50 cursor-not-allowed":"hover:bg-gray-100"}`,style:{color:i,borderColor:i},children:n.jsx(Kq,{})})]})]})]})]}),p&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-6xl max-h-[95vh] overflow-y-auto",children:[n.jsxs("div",{className:"p-6 border-b",style:{backgroundColor:`${i}15`},children:[n.jsx("h2",{className:"text-2xl font-bold",style:{color:i},children:Q?"Edit Fee Record":"Add New Fee Record"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Enter total fee amount, select installments, and set due dates"})]}),n.jsxs("form",{onSubmit:Wt,className:"p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Student"}),Q?n.jsx("div",{className:"w-full px-3 py-2 border border-gray-300 rounded bg-gray-50",children:n.jsxs("span",{className:"text-gray-700",children:[se?.name," (",se?.rollNumber,") - Class"," ",se?.classId?.className||"N/A",se?.classId?.section?` Section ${se.classId.section}`:""]})}):n.jsxs("select",{name:"studentId",value:ge.studentId,onChange:at=>xt(at.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2",style:{focusRingColor:i},required:!0,children:[n.jsx("option",{value:"",children:"Select Student"}),d.map(at=>n.jsxs("option",{value:at._id,children:[at.name," (",at.rollNumber,") - Class"," ",at.classId?.className||"N/A",at.classId?.section?` Section ${at.classId.section}`:""]},at._id))]})]}),se&&n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(Uj,{className:"text-blue-600 text-xl mr-3"}),n.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Student Details"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Uj,{className:"text-gray-500 mr-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Full Name"}),n.jsx("p",{className:"font-medium text-gray-800",children:se.name})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(HF,{className:"text-gray-500 mr-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Roll Number"}),n.jsx("p",{className:"font-medium text-gray-800",children:se.rollNumber})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(HF,{className:"text-gray-500 mr-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Class & Section"}),n.jsxs("p",{className:"font-medium text-gray-800",children:["Class"," ",se.classId?.className||"N/A"," - Section"," ",se.classId?.section||"N/A"]})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx($F,{className:"text-green-500 mr-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Student Phone"}),n.jsx("p",{className:"font-medium text-gray-800",children:se.phone})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(w7,{className:"text-blue-500 mr-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),n.jsx("p",{className:"font-medium text-gray-800",children:se.email})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx($F,{className:"text-orange-500 mr-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Parent Phone"}),n.jsx("p",{className:"font-medium text-gray-800",children:se.parentPhone})]})]})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(rY,{className:"text-gray-500 mr-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Father's Name"}),n.jsx("p",{className:"font-medium text-gray-800",children:se.fatherName})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Uj,{className:"text-gray-500 mr-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Mother's Name"}),n.jsx("p",{className:"font-medium text-gray-800",children:se.motherName})]})]})]}),n.jsxs("div",{className:"mt-3 flex items-start",children:[n.jsx(N7,{className:"text-gray-500 mr-2 mt-1"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Address"}),n.jsx("p",{className:"font-medium text-gray-800 text-sm",children:se.address})]})]})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx($q,{className:"text-yellow-600 mr-2"}),n.jsx("label",{className:"text-base font-semibold text-yellow-800",children:"Total Fee Amount *"})]}),n.jsx("input",{type:"number",name:"totalAmount",value:ge.totalAmount,onChange:He,placeholder:"Enter total fee amount (e.g., 15000)",className:"w-full px-4 py-3 border border-yellow-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 text-lg font-medium",required:!0,min:"1",step:"0.01"}),n.jsx("p",{className:"text-sm text-yellow-700 mt-2",children:"Enter the total fee amount. It will be automatically divided into installments."})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(QF,{className:"text-blue-600 mr-2"}),n.jsx("label",{className:"text-base font-semibold text-blue-800",children:"Installment Configuration"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-blue-700 mb-1",children:"Number of Installments"}),n.jsx("select",{name:"numberOfInstallments",value:ge.numberOfInstallments,onChange:He,className:"w-full px-3 py-2 border border-blue-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[1,2,3,4,5,6].map(at=>n.jsxs("option",{value:at,children:[at," Installment",at>1?"s":""]},at))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-blue-700 mb-1",children:"Division Type"}),n.jsxs("select",{name:"installmentType",value:ge.installmentType,onChange:He,className:"w-full px-3 py-2 border border-blue-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"equal",children:"Equal Amounts"}),n.jsx("option",{value:"custom",children:"Custom Amounts"})]})]})]}),ge.totalAmount&&n.jsxs("div",{className:"text-sm text-blue-700 bg-blue-100 p-2 rounded",children:[n.jsx("strong",{children:"Preview:"})," ",Number.parseFloat(ge.totalAmount||0).toLocaleString()," "," ",ge.numberOfInstallments," installments = ",(Number.parseFloat(ge.totalAmount||0)/ge.numberOfInstallments).toLocaleString()," ","per installment"]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3 flex items-center",children:[n.jsx(QF,{className:"mr-2"}),"Installment Due Dates *"]}),n.jsx("div",{className:"space-y-3",children:ge.installments.map((at,Ht)=>n.jsxs("div",{className:"flex gap-3 p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("label",{className:"block text-xs text-gray-500 mb-1",children:["Installment ",Ht+1," Amount"]}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:""}),n.jsx("input",{type:"number",name:`installment.amount.${Ht}`,value:at.amount,onChange:Gt=>He(Gt,Ht),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 bg-white",required:!0,min:"1",step:"0.01",readOnly:ge.installmentType==="equal"})]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Due Date"}),n.jsx("input",{type:"date",name:`installment.dueDate.${Ht}`,value:at.dueDate,onChange:Gt=>He(Gt,Ht),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2",required:!0})]})]},Ht))})]}),ge.totalAmount&&n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"font-semibold text-green-800",children:"Fee Summary:"}),n.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["",Number.parseFloat(ge.totalAmount||0).toLocaleString()]})]}),n.jsxs("div",{className:"text-sm text-green-600",children:[ge.numberOfInstallments," installment(s) configured"]}),n.jsx("div",{className:"text-xs text-green-500 mt-1",children:ge.installmentType==="equal"?"Equal installments":"Custom installments"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-8 pt-6 border-t",children:[n.jsx("button",{type:"button",onClick:()=>{g(!1),H(null),ft(),le(null)},className:"px-6 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",className:"text-white px-6 py-2 rounded-lg shadow-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",style:{backgroundColor:i},disabled:je||!(ge.studentId&&ge.totalAmount&&ge.installments.every(at=>at.amount&&at.dueDate)),children:je?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),Q?"Updating...":"Creating..."]}):Q?"Update Fee Record":"Create Fee Record"})]})]})]})}),v&&M&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Record Installment Payment"}),n.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Paying for Installment ",M.installmentIndex+1," ","(Pending: ",M.fee.installments[M.installmentIndex].pending?.toLocaleString(),")"]}),n.jsxs("form",{onSubmit:gr,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Amount *"}),n.jsx("input",{type:"number",name:"amount",value:Y.amount,onChange:ct,placeholder:"Enter payment amount",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2",required:!0,min:"1",step:"0.01"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method *"}),n.jsxs("select",{name:"paymentMethod",value:Y.paymentMethod,onChange:ct,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2",required:!0,children:[n.jsx("option",{value:"",children:"Select Payment Method"}),n.jsx("option",{value:"Cash",children:"Cash"}),n.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),n.jsx("option",{value:"Cheque",children:"Cheque"}),n.jsx("option",{value:"Online",children:"Online Payment"}),n.jsx("option",{value:"UPI",children:"UPI"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{type:"button",onClick:()=>{y(!1),K(null),Le({amount:"",paymentMethod:"",schoolId:s})},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",className:"text-white px-4 py-2 rounded-lg shadow-lg hover:opacity-90",style:{backgroundColor:i},children:"Record Payment"})]})]})]})}),b&&Ae&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Payment Receipt"}),n.jsx("button",{onClick:()=>j(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"border-b pb-2",children:[n.jsx("h3",{className:"text-lg font-semibold",children:Ae.school.name}),n.jsx("p",{className:"text-sm text-gray-600",children:Ae.school.address})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Receipt Number"}),n.jsx("div",{className:"font-medium",children:Ae.installment.receiptNumber})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Payment Date"}),n.jsx("div",{className:"font-medium",children:Ae.installment.paidDate?new Date(Ae.installment.paidDate).toLocaleDateString():"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Student Name"}),n.jsx("div",{className:"font-medium",children:Ae.student.name})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Roll Number"}),n.jsx("div",{className:"font-medium",children:Ae.student.rollNumber})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Term"}),n.jsx("div",{className:"font-medium",children:Ae.fee.term})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Amount Paid"}),n.jsxs("div",{className:"font-medium",children:["",Ae.installment.paid?.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Payment Method"}),n.jsx("div",{className:"font-medium",children:Ae.installment.paymentMethod})]})]}),n.jsxs("div",{className:"mt-4 text-center text-sm text-gray-600",children:["Issued on: ",new Date().toLocaleDateString()]})]})]})}),F&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Fee Record Details"}),n.jsx("button",{onClick:()=>O(null),className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),n.jsx("div",{className:"space-y-6",children:(()=>{const at=rt(F.studentId),{Icon:Ht,color:Gt,text:dr}=Fr(F.status);return n.jsxs("div",{children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Student Information"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Student Name"}),n.jsx("p",{className:"text-sm text-gray-900",children:at.name})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Roll Number"}),n.jsx("p",{className:"text-sm text-gray-900",children:at.rollNumber})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Class & Section"}),n.jsxs("p",{className:"text-sm text-gray-900",children:[at.classId?.className," -"," ",at.classId?.section]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Student Phone"}),n.jsx("p",{className:"text-sm text-gray-900",children:at.phone})]})]}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Student Email"}),n.jsx("p",{className:"text-sm text-gray-900",children:at.email})]})}),(at.fatherName||at.motherName||at.parentPhone||at.address)&&n.jsxs(n.Fragment,{children:[n.jsx("hr",{className:"my-4"}),n.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Additional Details"}),(at.fatherName||at.motherName)&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[at.fatherName&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Father's Name"}),n.jsx("p",{className:"text-sm text-gray-900",children:at.fatherName})]}),at.motherName&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Mother's Name"}),n.jsx("p",{className:"text-sm text-gray-900",children:at.motherName})]})]}),at.parentPhone&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Parent Phone"}),n.jsx("p",{className:"text-sm text-gray-900",children:at.parentPhone})]}),at.address&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Address"}),n.jsx("p",{className:"text-sm text-gray-900",children:at.address})]})]})]})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Fee Information"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500 block",children:"Term"}),n.jsx("div",{className:"font-medium text-gray-900",children:F.term})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500 block",children:"Total Amount"}),n.jsxs("div",{className:"font-medium text-gray-900",children:["",F.totalAmount?.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500 block",children:"Created Date"}),n.jsx("div",{className:"font-medium text-gray-900",children:F.createdAt?new Date(F.createdAt).toLocaleDateString():"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500 block",children:"Overall Status"}),n.jsx("div",{children:n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${Gt}`,children:[Ht&&n.jsx(Ht,{}),dr]})})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Installment Details"}),n.jsx("div",{className:"space-y-3",children:F.installments?.map((Jt,Mr)=>{const{Icon:ke,color:qe,text:ze}=Fr(Jt.status);return n.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"font-medium text-gray-900",children:["Installment ",Mr+1]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Due:"," ",new Date(Jt.dueDate).toLocaleDateString()]})]}),n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${qe}`,children:[ke&&n.jsx(ke,{}),ze]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Amount:"}),n.jsxs("div",{className:"font-medium",children:["",Jt.amount?.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Paid:"}),n.jsxs("div",{className:"font-medium text-green-600",children:["",Jt.paid?.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Pending:"}),n.jsxs("div",{className:"font-medium text-red-600",children:["",Jt.pending?.toLocaleString()]})]})]}),Jt.paidDate&&n.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Paid on:"," ",new Date(Jt.paidDate).toLocaleDateString()]}),Jt.receiptNumber&&n.jsxs("div",{className:"mt-1 text-sm text-gray-600",children:["Receipt: ",Jt.receiptNumber]}),Jt.paymentMethod&&n.jsxs("div",{className:"mt-1 text-sm text-gray-600",children:["Method: ",Jt.paymentMethod]}),n.jsxs("div",{className:"mt-2 space-x-2",children:[Jt.status!=="paid"&&Jt.pending>0&&n.jsxs("button",{onClick:()=>Ve(F,Mr),className:"text-white px-3 py-1 rounded text-sm hover:opacity-90",style:{backgroundColor:i},children:[n.jsx(Jq,{className:"inline mr-1"}),"Record Payment"]}),Jt.status==="paid"&&n.jsxs("button",{onClick:()=>Se(F,Mr),className:"text-blue-600 px-3 py-1 rounded text-sm hover:text-blue-800",children:[n.jsx(qq,{className:"inline mr-1"}),"View Receipt"]})]})]},Mr)})})]})]})})()})]})}),N&&B&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Change Payment Status"}),n.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Student: ",rt(B.studentId).name,n.jsx("br",{}),"Current Status:"," ",n.jsx("span",{className:"font-medium",children:B.status})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Select New Status:"}),["pending","partial","paid","overdue"].map(at=>n.jsxs("button",{onClick:()=>Ot(at),className:`w-full p-3 text-left rounded-lg border-2 transition-colors ${B.status===at?"border-gray-400 bg-gray-100 cursor-not-allowed":"border-gray-200 hover:border-blue-300 hover:bg-blue-50"}`,disabled:B.status===at,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium capitalize",children:at}),(()=>{const{Icon:Ht,color:Gt}=Fr(at);return Ht&&n.jsx(Ht,{className:Gt.split(" ")[0]})})()]}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[at==="pending"&&"No payment received",at==="partial"&&"Partial payment received",at==="paid"&&"Full payment completed",at==="overdue"&&"Payment is overdue"]})]},at))]}),n.jsx("div",{className:"flex justify-end space-x-3 mt-6",children:n.jsx("button",{type:"button",onClick:()=>{S(!1),I(null)},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",children:"Cancel"})})]})})]})};function io(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var yJ=typeof Symbol=="function"&&Symbol.observable||"@@observable",fI=yJ,Gj=()=>Math.random().toString(36).substring(7).split("").join("."),vJ={INIT:`@@redux/INIT${Gj()}`,REPLACE:`@@redux/REPLACE${Gj()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Gj()}`},v2=vJ;function vB(t){if(typeof t!="object"||t===null)return!1;let r=t;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r||Object.getPrototypeOf(t)===null}function rM(t,r,a){if(typeof t!="function")throw new Error(io(2));if(typeof r=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(io(0));if(typeof r=="function"&&typeof a>"u"&&(a=r,r=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(io(1));return a(rM)(t,r)}let s=t,i=r,o=new Map,l=o,c=0,d=!1;function f(){l===o&&(l=new Map,o.forEach((b,j)=>{l.set(j,b)}))}function u(){if(d)throw new Error(io(3));return i}function m(b){if(typeof b!="function")throw new Error(io(4));if(d)throw new Error(io(5));let j=!0;f();const N=c++;return l.set(N,b),function(){if(j){if(d)throw new Error(io(6));j=!1,f(),l.delete(N),o=null}}}function p(b){if(!vB(b))throw new Error(io(7));if(typeof b.type>"u")throw new Error(io(8));if(typeof b.type!="string")throw new Error(io(17));if(d)throw new Error(io(9));try{d=!0,i=s(i,b)}finally{d=!1}return(o=l).forEach(N=>{N()}),b}function g(b){if(typeof b!="function")throw new Error(io(10));s=b,p({type:v2.REPLACE})}function v(){const b=m;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(io(11));function N(){const B=j;B.next&&B.next(u())}return N(),{unsubscribe:b(N)}},[fI](){return this}}}return p({type:v2.INIT}),{dispatch:p,subscribe:m,getState:u,replaceReducer:g,[fI]:v}}function bJ(t){Object.keys(t).forEach(r=>{const a=t[r];if(typeof a(void 0,{type:v2.INIT})>"u")throw new Error(io(12));if(typeof a(void 0,{type:v2.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(io(13))})}function aM(t){const r=Object.keys(t),a={};for(let o=0;o<r.length;o++){const l=r[o];typeof t[l]=="function"&&(a[l]=t[l])}const s=Object.keys(a);let i;try{bJ(a)}catch(o){i=o}return function(l={},c){if(i)throw i;let d=!1;const f={};for(let u=0;u<s.length;u++){const m=s[u],p=a[m],g=l[m],v=p(g,c);if(typeof v>"u")throw c&&c.type,new Error(io(14));f[m]=v,d=d||v!==g}return d=d||s.length!==Object.keys(l).length,d?f:l}}function b2(...t){return t.length===0?r=>r:t.length===1?t[0]:t.reduce((r,a)=>(...s)=>r(a(...s)))}function wJ(...t){return r=>(a,s)=>{const i=r(a,s);let o=()=>{throw new Error(io(15))};const l={getState:i.getState,dispatch:(d,...f)=>o(d,...f)},c=t.map(d=>d(l));return o=b2(...c)(i.dispatch),{...i,dispatch:o}}}function sM(t){return vB(t)&&"type"in t&&typeof t.type=="string"}var nM=Symbol.for("immer-nothing"),AI=Symbol.for("immer-draftable"),Cc=Symbol.for("immer-state");function mu(t,...r){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var kg=Object.getPrototypeOf;function G0(t){return!!t&&!!t[Cc]}function MA(t){return t?iM(t)||Array.isArray(t)||!!t[AI]||!!t.constructor?.[AI]||Gw(t)||Ww(t):!1}var jJ=Object.prototype.constructor.toString();function iM(t){if(!t||typeof t!="object")return!1;const r=kg(t);if(r===null)return!0;const a=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return a===Object?!0:typeof a=="function"&&Function.toString.call(a)===jJ}function w2(t,r){Kw(t)===0?Reflect.ownKeys(t).forEach(a=>{r(a,t[a],t)}):t.forEach((a,s)=>r(s,a,t))}function Kw(t){const r=t[Cc];return r?r.type_:Array.isArray(t)?1:Gw(t)?2:Ww(t)?3:0}function tC(t,r){return Kw(t)===2?t.has(r):Object.prototype.hasOwnProperty.call(t,r)}function oM(t,r,a){const s=Kw(t);s===2?t.set(r,a):s===3?t.add(a):t[r]=a}function NJ(t,r){return t===r?t!==0||1/t===1/r:t!==t&&r!==r}function Gw(t){return t instanceof Map}function Ww(t){return t instanceof Set}function A0(t){return t.copy_||t.base_}function rC(t,r){if(Gw(t))return new Map(t);if(Ww(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const a=iM(t);if(r===!0||r==="class_only"&&!a){const s=Object.getOwnPropertyDescriptors(t);delete s[Cc];let i=Reflect.ownKeys(s);for(let o=0;o<i.length;o++){const l=i[o],c=s[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(s[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(kg(t),s)}else{const s=kg(t);if(s!==null&&a)return{...t};const i=Object.create(s);return Object.assign(i,t)}}function bB(t,r=!1){return qw(t)||G0(t)||!MA(t)||(Kw(t)>1&&(t.set=t.add=t.clear=t.delete=SJ),Object.freeze(t),r&&Object.entries(t).forEach(([a,s])=>bB(s,!0))),t}function SJ(){mu(2)}function qw(t){return Object.isFrozen(t)}var CJ={};function W0(t){const r=CJ[t];return r||mu(0,t),r}var ny;function lM(){return ny}function BJ(t,r){return{drafts_:[],parent_:t,immer_:r,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hI(t,r){r&&(W0("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=r)}function aC(t){sC(t),t.drafts_.forEach(EJ),t.drafts_=null}function sC(t){t===ny&&(ny=t.parent_)}function mI(t){return ny=BJ(ny,t)}function EJ(t){const r=t[Cc];r.type_===0||r.type_===1?r.revoke_():r.revoked_=!0}function pI(t,r){r.unfinalizedDrafts_=r.drafts_.length;const a=r.drafts_[0];return t!==void 0&&t!==a?(a[Cc].modified_&&(aC(r),mu(4)),MA(t)&&(t=j2(r,t),r.parent_||N2(r,t)),r.patches_&&W0("Patches").generateReplacementPatches_(a[Cc].base_,t,r.patches_,r.inversePatches_)):t=j2(r,a,[]),aC(r),r.patches_&&r.patchListener_(r.patches_,r.inversePatches_),t!==nM?t:void 0}function j2(t,r,a){if(qw(r))return r;const s=r[Cc];if(!s)return w2(r,(i,o)=>gI(t,s,r,i,o,a)),r;if(s.scope_!==t)return r;if(!s.modified_)return N2(t,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const i=s.copy_;let o=i,l=!1;s.type_===3&&(o=new Set(i),i.clear(),l=!0),w2(o,(c,d)=>gI(t,s,i,c,d,a,l)),N2(t,i,!1),a&&t.patches_&&W0("Patches").generatePatches_(s,a,t.patches_,t.inversePatches_)}return s.copy_}function gI(t,r,a,s,i,o,l){if(G0(i)){const c=o&&r&&r.type_!==3&&!tC(r.assigned_,s)?o.concat(s):void 0,d=j2(t,i,c);if(oM(a,s,d),G0(d))t.canAutoFreeze_=!1;else return}else l&&a.add(i);if(MA(i)&&!qw(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;j2(t,i),(!r||!r.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(a,s)&&N2(t,i)}}function N2(t,r,a=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&bB(r,a)}function TJ(t,r){const a=Array.isArray(t),s={type_:a?1:0,scope_:r?r.scope_:lM(),modified_:!1,finalized_:!1,assigned_:{},parent_:r,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=s,o=wB;a&&(i=[s],o=iy);const{revoke:l,proxy:c}=Proxy.revocable(i,o);return s.draft_=c,s.revoke_=l,c}var wB={get(t,r){if(r===Cc)return t;const a=A0(t);if(!tC(a,r))return FJ(t,a,r);const s=a[r];return t.finalized_||!MA(s)?s:s===Wj(t.base_,r)?(qj(t),t.copy_[r]=iC(s,t)):s},has(t,r){return r in A0(t)},ownKeys(t){return Reflect.ownKeys(A0(t))},set(t,r,a){const s=cM(A0(t),r);if(s?.set)return s.set.call(t.draft_,a),!0;if(!t.modified_){const i=Wj(A0(t),r),o=i?.[Cc];if(o&&o.base_===a)return t.copy_[r]=a,t.assigned_[r]=!1,!0;if(NJ(a,i)&&(a!==void 0||tC(t.base_,r)))return!0;qj(t),nC(t)}return t.copy_[r]===a&&(a!==void 0||r in t.copy_)||Number.isNaN(a)&&Number.isNaN(t.copy_[r])||(t.copy_[r]=a,t.assigned_[r]=!0),!0},deleteProperty(t,r){return Wj(t.base_,r)!==void 0||r in t.base_?(t.assigned_[r]=!1,qj(t),nC(t)):delete t.assigned_[r],t.copy_&&delete t.copy_[r],!0},getOwnPropertyDescriptor(t,r){const a=A0(t),s=Reflect.getOwnPropertyDescriptor(a,r);return s&&{writable:!0,configurable:t.type_!==1||r!=="length",enumerable:s.enumerable,value:a[r]}},defineProperty(){mu(11)},getPrototypeOf(t){return kg(t.base_)},setPrototypeOf(){mu(12)}},iy={};w2(wB,(t,r)=>{iy[t]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}});iy.deleteProperty=function(t,r){return iy.set.call(this,t,r,void 0)};iy.set=function(t,r,a){return wB.set.call(this,t[0],r,a,t[0])};function Wj(t,r){const a=t[Cc];return(a?A0(a):t)[r]}function FJ(t,r,a){const s=cM(r,a);return s?"value"in s?s.value:s.get?.call(t.draft_):void 0}function cM(t,r){if(!(r in t))return;let a=kg(t);for(;a;){const s=Object.getOwnPropertyDescriptor(a,r);if(s)return s;a=kg(a)}}function nC(t){t.modified_||(t.modified_=!0,t.parent_&&nC(t.parent_))}function qj(t){t.copy_||(t.copy_=rC(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var IJ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(r,a,s)=>{if(typeof r=="function"&&typeof a!="function"){const o=a;a=r;const l=this;return function(d=o,...f){return l.produce(d,u=>a.call(this,u,...f))}}typeof a!="function"&&mu(6),s!==void 0&&typeof s!="function"&&mu(7);let i;if(MA(r)){const o=mI(this),l=iC(r,void 0);let c=!0;try{i=a(l),c=!1}finally{c?aC(o):sC(o)}return hI(o,s),pI(i,o)}else if(!r||typeof r!="object"){if(i=a(r),i===void 0&&(i=r),i===nM&&(i=void 0),this.autoFreeze_&&bB(i,!0),s){const o=[],l=[];W0("Patches").generateReplacementPatches_(r,i,o,l),s(o,l)}return i}else mu(1,r)},this.produceWithPatches=(r,a)=>{if(typeof r=="function")return(l,...c)=>this.produceWithPatches(l,d=>r(d,...c));let s,i;return[this.produce(r,a,(l,c)=>{s=l,i=c}),s,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){MA(t)||mu(8),G0(t)&&(t=kA(t));const r=mI(this),a=iC(t,void 0);return a[Cc].isManual_=!0,sC(r),a}finishDraft(t,r){const a=t&&t[Cc];(!a||!a.isManual_)&&mu(9);const{scope_:s}=a;return hI(s,r),pI(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,r){let a;for(a=r.length-1;a>=0;a--){const i=r[a];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}a>-1&&(r=r.slice(a+1));const s=W0("Patches").applyPatches_;return G0(t)?s(t,r):this.produce(t,i=>s(i,r))}};function iC(t,r){const a=Gw(t)?W0("MapSet").proxyMap_(t,r):Ww(t)?W0("MapSet").proxySet_(t,r):TJ(t,r);return(r?r.scope_:lM()).drafts_.push(a),a}function kA(t){return G0(t)||mu(10,t),dM(t)}function dM(t){if(!MA(t)||qw(t))return t;const r=t[Cc];let a;if(r){if(!r.modified_)return r.base_;r.finalized_=!0,a=rC(t,r.scope_.immer_.useStrictShallowCopy_)}else a=rC(t,!0);return w2(a,(s,i)=>{oM(a,s,dM(i))}),r&&(r.finalized_=!1),a}var Bc=new IJ,uM=Bc.produce;Bc.produceWithPatches.bind(Bc);Bc.setAutoFreeze.bind(Bc);Bc.setUseStrictShallowCopy.bind(Bc);Bc.applyPatches.bind(Bc);Bc.createDraft.bind(Bc);Bc.finishDraft.bind(Bc);function kJ(t,r=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(r)}function _J(t,r=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(r)}function PJ(t,r="expected all items to be functions, instead received the following types: "){if(!t.every(a=>typeof a=="function")){const a=t.map(s=>typeof s=="function"?`function ${s.name||"unnamed"}()`:typeof s).join(", ");throw new TypeError(`${r}[${a}]`)}}var xI=t=>Array.isArray(t)?t:[t];function OJ(t){const r=Array.isArray(t[0])?t[0]:t;return PJ(r,"createSelector expects all input-selectors to be functions, but received the following types: "),r}function DJ(t,r){const a=[],{length:s}=t;for(let i=0;i<s;i++)a.push(t[i].apply(null,r));return a}var LJ=class{constructor(t){this.value=t}deref(){return this.value}},MJ=typeof WeakRef<"u"?WeakRef:LJ,UJ=0,yI=1;function nb(){return{s:UJ,v:void 0,o:null,p:null}}function fM(t,r={}){let a=nb();const{resultEqualityCheck:s}=r;let i,o=0;function l(){let c=a;const{length:d}=arguments;for(let m=0,p=d;m<p;m++){const g=arguments[m];if(typeof g=="function"||typeof g=="object"&&g!==null){let v=c.o;v===null&&(c.o=v=new WeakMap);const y=v.get(g);y===void 0?(c=nb(),v.set(g,c)):c=y}else{let v=c.p;v===null&&(c.p=v=new Map);const y=v.get(g);y===void 0?(c=nb(),v.set(g,c)):c=y}}const f=c;let u;if(c.s===yI)u=c.v;else if(u=t.apply(null,arguments),o++,s){const m=i?.deref?.()??i;m!=null&&s(m,u)&&(u=m,o!==0&&o--),i=typeof u=="object"&&u!==null||typeof u=="function"?new MJ(u):u}return f.s=yI,f.v=u,u}return l.clearCache=()=>{a=nb(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function RJ(t,...r){const a=typeof t=="function"?{memoize:t,memoizeOptions:r}:t,s=(...i)=>{let o=0,l=0,c,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),kJ(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const u={...a,...d},{memoize:m,memoizeOptions:p=[],argsMemoize:g=fM,argsMemoizeOptions:v=[]}=u,y=xI(p),b=xI(v),j=OJ(i),N=m(function(){return o++,f.apply(null,arguments)},...y),S=g(function(){l++;const I=DJ(j,arguments);return c=N.apply(null,I),c},...b);return Object.assign(S,{resultFunc:f,memoizedResultFunc:N,dependencies:j,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:m,argsMemoize:g})};return Object.assign(s,{withTypes:()=>s}),s}var Ut=RJ(fM),QJ=Object.assign((t,r=Ut)=>{_J(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const a=Object.keys(t),s=a.map(o=>t[o]);return r(s,(...o)=>o.reduce((l,c,d)=>(l[a[d]]=c,l),{}))},{withTypes:()=>QJ});function AM(t){return({dispatch:a,getState:s})=>i=>o=>typeof o=="function"?o(a,s,t):i(o)}var HJ=AM(),$J=AM,zJ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?b2:b2.apply(null,arguments)},VJ=t=>t&&typeof t.match=="function";function ml(t,r){function a(...s){if(r){let i=r(...s);if(!i)throw new Error(Sc(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:s[0]}}return a.toString=()=>`${t}`,a.type=t,a.match=s=>sM(s)&&s.type===t,a}var hM=class w1 extends Array{constructor(...r){super(...r),Object.setPrototypeOf(this,w1.prototype)}static get[Symbol.species](){return w1}concat(...r){return super.concat.apply(this,r)}prepend(...r){return r.length===1&&Array.isArray(r[0])?new w1(...r[0].concat(this)):new w1(...r.concat(this))}};function vI(t){return MA(t)?uM(t,()=>{}):t}function ib(t,r,a){return t.has(r)?t.get(r):t.set(r,a(r)).get(r)}function KJ(t){return typeof t=="boolean"}var GJ=()=>function(r){const{thunk:a=!0,immutableCheck:s=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=r??{};let l=new hM;return a&&(KJ(a)?l.push(HJ):l.push($J(a.extraArgument))),l},WJ="RTK_autoBatch",bI=t=>r=>{setTimeout(r,t)},qJ=(t={type:"raf"})=>r=>(...a)=>{const s=r(...a);let i=!0,o=!1,l=!1;const c=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:bI(10):t.type==="callback"?t.queueNotification:bI(t.timeout),f=()=>{l=!1,o&&(o=!1,c.forEach(u=>u()))};return Object.assign({},s,{subscribe(u){const m=()=>i&&u(),p=s.subscribe(m);return c.add(u),()=>{p(),c.delete(u)}},dispatch(u){try{return i=!u?.meta?.[WJ],o=!i,o&&(l||(l=!0,d(f))),s.dispatch(u)}finally{i=!0}}})},YJ=t=>function(a){const{autoBatch:s=!0}=a??{};let i=new hM(t);return s&&i.push(qJ(typeof s=="object"?s:void 0)),i};function mM(t){const r=GJ(),{reducer:a=void 0,middleware:s,devTools:i=!0,duplicateMiddlewareCheck:o=!0,preloadedState:l=void 0,enhancers:c=void 0}=t||{};let d;if(typeof a=="function")d=a;else if(vB(a))d=aM(a);else throw new Error(Sc(1));let f;typeof s=="function"?f=s(r):f=r();let u=b2;i&&(u=zJ({trace:!1,...typeof i=="object"&&i}));const m=wJ(...f),p=YJ(m);let g=typeof c=="function"?c(p):p();const v=u(...g);return rM(d,l,v)}function pM(t){const r={},a=[];let s;const i={addCase(o,l){const c=typeof o=="string"?o:o.type;if(!c)throw new Error(Sc(28));if(c in r)throw new Error(Sc(29));return r[c]=l,i},addMatcher(o,l){return a.push({matcher:o,reducer:l}),i},addDefaultCase(o){return s=o,i}};return t(i),[r,a,s]}function XJ(t){return typeof t=="function"}function JJ(t,r){let[a,s,i]=pM(r),o;if(XJ(t))o=()=>vI(t());else{const c=vI(t);o=()=>c}function l(c=o(),d){let f=[a[d.type],...s.filter(({matcher:u})=>u(d)).map(({reducer:u})=>u)];return f.filter(u=>!!u).length===0&&(f=[i]),f.reduce((u,m)=>{if(m)if(G0(u)){const g=m(u,d);return g===void 0?u:g}else{if(MA(u))return uM(u,p=>m(p,d));{const p=m(u,d);if(p===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return u},c)}return l.getInitialState=o,l}var ZJ=(t,r)=>VJ(t)?t.match(r):t(r);function eZ(...t){return r=>t.some(a=>ZJ(a,r))}var tZ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",gM=(t=21)=>{let r="",a=t;for(;a--;)r+=tZ[Math.random()*64|0];return r},rZ=["name","message","stack","code"],Yj=class{constructor(t,r){this.payload=t,this.meta=r}_type},wI=class{constructor(t,r){this.payload=t,this.meta=r}_type},aZ=t=>{if(typeof t=="object"&&t!==null){const r={};for(const a of rZ)typeof t[a]=="string"&&(r[a]=t[a]);return r}return{message:String(t)}},jI="External signal was aborted",jB=(()=>{function t(r,a,s){const i=ml(r+"/fulfilled",(d,f,u,m)=>({payload:d,meta:{...m||{},arg:u,requestId:f,requestStatus:"fulfilled"}})),o=ml(r+"/pending",(d,f,u)=>({payload:void 0,meta:{...u||{},arg:f,requestId:d,requestStatus:"pending"}})),l=ml(r+"/rejected",(d,f,u,m,p)=>({payload:m,error:(s&&s.serializeError||aZ)(d||"Rejected"),meta:{...p||{},arg:u,requestId:f,rejectedWithValue:!!m,requestStatus:"rejected",aborted:d?.name==="AbortError",condition:d?.name==="ConditionError"}}));function c(d,{signal:f}={}){return(u,m,p)=>{const g=s?.idGenerator?s.idGenerator(d):gM(),v=new AbortController;let y,b;function j(S){b=S,v.abort()}f&&(f.aborted?j(jI):f.addEventListener("abort",()=>j(jI),{once:!0}));const N=async function(){let S;try{let I=s?.condition?.(d,{getState:m,extra:p});if(nZ(I)&&(I=await I),I===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const F=new Promise((O,k)=>{y=()=>{k({name:"AbortError",message:b||"Aborted"})},v.signal.addEventListener("abort",y)});u(o(g,d,s?.getPendingMeta?.({requestId:g,arg:d},{getState:m,extra:p}))),S=await Promise.race([F,Promise.resolve(a(d,{dispatch:u,getState:m,extra:p,requestId:g,signal:v.signal,abort:j,rejectWithValue:(O,k)=>new Yj(O,k),fulfillWithValue:(O,k)=>new wI(O,k)})).then(O=>{if(O instanceof Yj)throw O;return O instanceof wI?i(O.payload,g,d,O.meta):i(O,g,d)})])}catch(I){S=I instanceof Yj?l(null,g,d,I.payload,I.meta):l(I,g,d)}finally{y&&v.signal.removeEventListener("abort",y)}return s&&!s.dispatchConditionRejection&&l.match(S)&&S.meta.condition||u(S),S}();return Object.assign(N,{abort:j,requestId:g,arg:d,unwrap(){return N.then(sZ)}})}}return Object.assign(c,{pending:o,rejected:l,fulfilled:i,settled:eZ(l,i),typePrefix:r})}return t.withTypes=()=>t,t})();function sZ(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function nZ(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var iZ=Symbol.for("rtk-slice-createasyncthunk");function oZ(t,r){return`${t}/${r}`}function lZ({creators:t}={}){const r=t?.asyncThunk?.[iZ];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(Sc(11));const l=(typeof s.reducers=="function"?s.reducers(dZ()):s.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(S,B){const I=typeof S=="string"?S:S.type;if(!I)throw new Error(Sc(12));if(I in d.sliceCaseReducersByType)throw new Error(Sc(13));return d.sliceCaseReducersByType[I]=B,f},addMatcher(S,B){return d.sliceMatchers.push({matcher:S,reducer:B}),f},exposeAction(S,B){return d.actionCreators[S]=B,f},exposeCaseReducer(S,B){return d.sliceCaseReducersByName[S]=B,f}};c.forEach(S=>{const B=l[S],I={reducerName:S,type:oZ(i,S),createNotation:typeof s.reducers=="function"};fZ(B)?hZ(I,B,f,r):uZ(I,B,f)});function u(){const[S={},B=[],I=void 0]=typeof s.extraReducers=="function"?pM(s.extraReducers):[s.extraReducers],F={...S,...d.sliceCaseReducersByType};return JJ(s.initialState,O=>{for(let k in F)O.addCase(k,F[k]);for(let k of d.sliceMatchers)O.addMatcher(k.matcher,k.reducer);for(let k of B)O.addMatcher(k.matcher,k.reducer);I&&O.addDefaultCase(I)})}const m=S=>S,p=new Map,g=new WeakMap;let v;function y(S,B){return v||(v=u()),v(S,B)}function b(){return v||(v=u()),v.getInitialState()}function j(S,B=!1){function I(O){let k=O[S];return typeof k>"u"&&B&&(k=ib(g,I,b)),k}function F(O=m){const k=ib(p,B,()=>new WeakMap);return ib(k,O,()=>{const V={};for(const[Q,H]of Object.entries(s.selectors??{}))V[Q]=cZ(H,O,()=>ib(g,O,b),B);return V})}return{reducerPath:S,getSelectors:F,get selectors(){return F(I)},selectSlice:I}}const N={name:i,reducer:y,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:b,...j(o),injectInto(S,{reducerPath:B,...I}={}){const F=B??o;return S.inject({reducerPath:F,reducer:y},I),{...N,...j(F,!0)}}};return N}}function cZ(t,r,a,s){function i(o,...l){let c=r(o);return typeof c>"u"&&s&&(c=a()),t(c,...l)}return i.unwrapped=t,i}var xl=lZ();function dZ(){function t(r,a){return{_reducerDefinitionType:"asyncThunk",payloadCreator:r,...a}}return t.withTypes=()=>t,{reducer(r){return Object.assign({[r.name](...a){return r(...a)}}[r.name],{_reducerDefinitionType:"reducer"})},preparedReducer(r,a){return{_reducerDefinitionType:"reducerWithPrepare",prepare:r,reducer:a}},asyncThunk:t}}function uZ({type:t,reducerName:r,createNotation:a},s,i){let o,l;if("reducer"in s){if(a&&!AZ(s))throw new Error(Sc(17));o=s.reducer,l=s.prepare}else o=s;i.addCase(t,o).exposeCaseReducer(r,o).exposeAction(r,l?ml(t,l):ml(t))}function fZ(t){return t._reducerDefinitionType==="asyncThunk"}function AZ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function hZ({type:t,reducerName:r},a,s,i){if(!i)throw new Error(Sc(18));const{payloadCreator:o,fulfilled:l,pending:c,rejected:d,settled:f,options:u}=a,m=i(t,o,u);s.exposeAction(r,m),l&&s.addCase(m.fulfilled,l),c&&s.addCase(m.pending,c),d&&s.addCase(m.rejected,d),f&&s.addMatcher(m.settled,f),s.exposeCaseReducer(r,{fulfilled:l||ob,pending:c||ob,rejected:d||ob,settled:f||ob})}function ob(){}var mZ="task",xM="listener",yM="completed",NB="cancelled",pZ=`task-${NB}`,gZ=`task-${yM}`,oC=`${xM}-${NB}`,xZ=`${xM}-${yM}`,Yw=class{constructor(t){this.code=t,this.message=`${mZ} ${NB} (reason: ${t})`}name="TaskAbortError";message},SB=(t,r)=>{if(typeof t!="function")throw new TypeError(Sc(32))},S2=()=>{},vM=(t,r=S2)=>(t.catch(r),t),bM=(t,r)=>(t.addEventListener("abort",r,{once:!0}),()=>t.removeEventListener("abort",r)),k0=(t,r)=>{const a=t.signal;a.aborted||("reason"in a||Object.defineProperty(a,"reason",{enumerable:!0,value:r,configurable:!0,writable:!0}),t.abort(r))},_0=t=>{if(t.aborted){const{reason:r}=t;throw new Yw(r)}};function wM(t,r){let a=S2;return new Promise((s,i)=>{const o=()=>i(new Yw(t.reason));if(t.aborted){o();return}a=bM(t,o),r.finally(()=>a()).then(s,i)}).finally(()=>{a=S2})}var yZ=async(t,r)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(a){return{status:a instanceof Yw?"cancelled":"rejected",error:a}}finally{r?.()}},C2=t=>r=>vM(wM(t,r).then(a=>(_0(t),a))),jM=t=>{const r=C2(t);return a=>r(new Promise(s=>setTimeout(s,a)))},{assign:wg}=Object,NI={},Xw="listenerMiddleware",vZ=(t,r)=>{const a=s=>bM(t,()=>k0(s,t.reason));return(s,i)=>{SB(s);const o=new AbortController;a(o);const l=yZ(async()=>{_0(t),_0(o.signal);const c=await s({pause:C2(o.signal),delay:jM(o.signal),signal:o.signal});return _0(o.signal),c},()=>k0(o,gZ));return i?.autoJoin&&r.push(l.catch(S2)),{result:C2(t)(l),cancel(){k0(o,pZ)}}}},bZ=(t,r)=>{const a=async(s,i)=>{_0(r);let o=()=>{};const c=[new Promise((d,f)=>{let u=t({predicate:s,effect:(m,p)=>{p.unsubscribe(),d([m,p.getState(),p.getOriginalState()])}});o=()=>{u(),f()}})];i!=null&&c.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await wM(r,Promise.race(c));return _0(r),d}finally{o()}};return(s,i)=>vM(a(s,i))},NM=t=>{let{type:r,actionCreator:a,matcher:s,predicate:i,effect:o}=t;if(r)i=ml(r).match;else if(a)r=a.type,i=a.match;else if(s)i=s;else if(!i)throw new Error(Sc(21));return SB(o),{predicate:i,type:r,effect:o}},SM=wg(t=>{const{type:r,predicate:a,effect:s}=NM(t);return{id:gM(),effect:s,type:r,predicate:a,pending:new Set,unsubscribe:()=>{throw new Error(Sc(22))}}},{withTypes:()=>SM}),SI=(t,r)=>{const{type:a,effect:s,predicate:i}=NM(r);return Array.from(t.values()).find(o=>(typeof a=="string"?o.type===a:o.predicate===i)&&o.effect===s)},lC=t=>{t.pending.forEach(r=>{k0(r,oC)})},wZ=t=>()=>{t.forEach(lC),t.clear()},CI=(t,r,a)=>{try{t(r,a)}catch(s){setTimeout(()=>{throw s},0)}},CM=wg(ml(`${Xw}/add`),{withTypes:()=>CM}),jZ=ml(`${Xw}/removeAll`),BM=wg(ml(`${Xw}/remove`),{withTypes:()=>BM}),NZ=(...t)=>{console.error(`${Xw}/error`,...t)},Ky=(t={})=>{const r=new Map,{extra:a,onError:s=NZ}=t;SB(s);const i=u=>(u.unsubscribe=()=>r.delete(u.id),r.set(u.id,u),m=>{u.unsubscribe(),m?.cancelActive&&lC(u)}),o=u=>{const m=SI(r,u)??SM(u);return i(m)};wg(o,{withTypes:()=>o});const l=u=>{const m=SI(r,u);return m&&(m.unsubscribe(),u.cancelActive&&lC(m)),!!m};wg(l,{withTypes:()=>l});const c=async(u,m,p,g)=>{const v=new AbortController,y=bZ(o,v.signal),b=[];try{u.pending.add(v),await Promise.resolve(u.effect(m,wg({},p,{getOriginalState:g,condition:(j,N)=>y(j,N).then(Boolean),take:y,delay:jM(v.signal),pause:C2(v.signal),extra:a,signal:v.signal,fork:vZ(v.signal,b),unsubscribe:u.unsubscribe,subscribe:()=>{r.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((j,N,S)=>{j!==v&&(k0(j,oC),S.delete(j))})},cancel:()=>{k0(v,oC),u.pending.delete(v)},throwIfCancelled:()=>{_0(v.signal)}})))}catch(j){j instanceof Yw||CI(s,j,{raisedBy:"effect"})}finally{await Promise.all(b),k0(v,xZ),u.pending.delete(v)}},d=wZ(r);return{middleware:u=>m=>p=>{if(!sM(p))return m(p);if(CM.match(p))return o(p.payload);if(jZ.match(p)){d();return}if(BM.match(p))return l(p.payload);let g=u.getState();const v=()=>{if(g===NI)throw new Error(Sc(23));return g};let y;try{if(y=m(p),r.size>0){const b=u.getState(),j=Array.from(r.values());for(const N of j){let S=!1;try{S=N.predicate(p,b,g)}catch(B){S=!1,CI(s,B,{raisedBy:"predicate"})}S&&c(N,p,u,v)}}}finally{g=NI}return y},startListening:o,stopListening:l,clearListeners:d}};function Sc(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const SZ="https://vidyaastra.com/api",T1=jB("teachers/fetchTeachers",async t=>(await It.get(`${SZ}/teacher/${t}`)).data),CZ=xl({name:"teachers",initialState:{teachers:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(T1.pending,r=>{r.loading=!0}).addCase(T1.fulfilled,(r,a)=>{r.loading=!1,r.teachers=a.payload}).addCase(T1.rejected,(r,a)=>{r.loading=!1,r.error=a.error.message})}}),BZ=CZ.reducer,lb="https://vidyaastra.com/api",EZ=()=>localStorage.getItem("schoolId")||"688dfdc93af0f78ebd4b044a",TZ=()=>{const[t,r]=w.useState(!1),[a,s]=w.useState(null),[i,o]=w.useState(!1),[l,c]=w.useState(null),[d,f]=w.useState([]),[u]=w.useState(EZ()),m=localStorage.getItem("color")||"#2563eb",[p,g]=w.useState(1),[v,y]=w.useState(1),[b]=w.useState(10),j=localStorage.getItem("schoolId"),N=Za(K=>K.teachers.teachers.data??[]),[S,B]=w.useState({className:"",section:"",classTeacher:"",schoolId:u}),I=tM(),F=K=>{if(!K)return"N/A";if(typeof K=="object"&&K.name)return K.name;const q=N.find(re=>re._id===K.toString());return q?q.name:"N/A"};w.useEffect(()=>{(async()=>{try{o(!0),c(null);const q=await fetch(`${lb}/class?schoolId=${u}&page=${p}&limit=${b}`);if(!q.ok)throw new Error("Failed to fetch classes");const re=await q.json();if(!re.success)throw new Error(re.message||"Failed to fetch classes");f(re.data||[]),y(re.totalPages||1)}catch(q){c(q.message)}finally{o(!1)}})()},[u,p]);const O=K=>{const{name:q,value:re}=K.target;B(ee=>({...ee,[q]:re}))},k=()=>{B({className:"",section:"",classTeacher:"",schoolId:u}),s(null)},V=async K=>{if(K.preventDefault(),!S.className.trim()){c("Class name is required");return}try{o(!0),c(null);const q={...S,schoolId:u,students:[]},re=a?`${lb}/class/${a._id}`:`${lb}/class`,le=await fetch(re,{method:a?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)});if(!le.ok){const se=await le.json().catch(()=>({}));throw new Error(se.message||"Failed to save class")}const ue=(await le.json()).data;f(se=>a?se.map(ve=>ve._id===ue._id?ue:ve):[ue,...se]),I(T1(j)),r(!1),k()}catch(q){c(q.message)}finally{o(!1)}},Q=async K=>{if(window.confirm("Are you sure you want to delete this class?"))try{o(!0);const q=await fetch(`${lb}/class/${K}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:u})});if(!q.ok){const re=await q.json().catch(()=>({}));throw new Error(re.message||"Failed to delete class")}f(re=>re.filter(ee=>ee._id!==K)),d.length===1&&p>1&&g(re=>re-1)}catch(q){c(q.message)}finally{o(!1)}},H=()=>{p>1&&g(K=>K-1)},M=()=>{p<v&&g(K=>K+1)};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:m},children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Class Management"}),n.jsx("p",{className:"text-gray-200",children:"Manage classes and sections"})]}),n.jsxs("button",{onClick:()=>r(!0),className:"text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2",style:{backgroundColor:m},children:[n.jsx(Fs,{})," ",n.jsx("span",{children:"Add Class"})]})]})}),l&&n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[n.jsx("strong",{className:"font-bold",children:"Error: "}),l,n.jsx("button",{onClick:()=>c(null),className:"absolute top-2 right-2",children:n.jsx(cr,{})})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-x-auto",children:i&&d.length===0?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:m}})}):d.length?n.jsxs(n.Fragment,{children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Class"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Section"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Teacher"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y",children:d.map(K=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"p-4 font-medium",children:K.className}),n.jsx("td",{className:"p-4",children:K.section||"N/A"}),n.jsx("td",{className:"p-4",children:F(K.classTeacher)}),n.jsxs("td",{className:"p-4 flex space-x-2",children:[n.jsx("button",{onClick:()=>{s(K),B({className:K.className,section:K.section||"",classTeacher:K.classTeacher?typeof K.classTeacher=="object"?K.classTeacher._id:K.classTeacher:"",schoolId:u}),r(!0)},className:"p-2 hover:bg-gray-100 rounded",children:n.jsx(Ko,{style:{color:m}})}),n.jsx("button",{onClick:()=>Q(K._id),className:"p-2 hover:bg-gray-100 rounded text-red-500",children:n.jsx(cs,{})})]})]},K._id))})]}),n.jsxs("div",{className:"flex justify-between items-center p-4",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",p," of ",v]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:H,disabled:p===1,className:`p-2 rounded-lg ${p===1?"text-gray-400 cursor-not-allowed":"text-white"}`,style:{backgroundColor:p===1?"#d1d5db":m},children:n.jsx(yo,{})}),n.jsx("button",{onClick:M,disabled:p===v,className:`p-2 rounded-lg ${p===v?"text-gray-400 cursor-not-allowed":"text-white"}`,style:{backgroundColor:p===v?"#d1d5db":m},children:n.jsx(Ni,{})})]})]})]}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ja,{className:"w-12 h-12 mx-auto mb-4",style:{color:m}}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"No classes found"}),n.jsx("button",{onClick:()=>r(!0),className:"text-white px-4 py-2 rounded-lg shadow-lg",style:{backgroundColor:m},children:"Add First Class"})]})}),t&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl overflow-y-auto",children:[n.jsxs("div",{className:"p-6 flex justify-between items-center",style:{backgroundColor:m},children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:a?"Edit Class":"Add Class"}),n.jsx("button",{onClick:()=>{r(!1),k()},className:"text-white",children:n.jsx(cr,{size:24})})]}),n.jsxs("form",{onSubmit:V,className:"p-6 space-y-4",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Class Name *"}),n.jsx("input",{type:"text",name:"className",value:S.className,onChange:O,placeholder:"Enter class name",className:"w-full p-3 border rounded-lg",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Section"}),n.jsx("input",{type:"text",name:"section",value:S.section,onChange:O,className:"w-full p-3 border rounded-lg",placeholder:"Enter section"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{r(!1),k()},className:"px-6 py-2 border rounded-lg",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:i,className:"px-6 py-2 text-white rounded-lg",style:{backgroundColor:m},children:i?"Saving...":a?"Update":"Create"})]})]})]})})]})};function FZ(t){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}FZ(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Gy=t=>typeof t=="number"&&!isNaN(t),q0=t=>typeof t=="string",UA=t=>typeof t=="function",IZ=t=>q0(t)||Gy(t),cC=t=>q0(t)||UA(t)?t:null,kZ=(t,r)=>t===!1||Gy(t)&&t>0?t:r,dC=t=>w.isValidElement(t)||q0(t)||UA(t)||Gy(t);function _Z(t,r,a=300){let{scrollHeight:s,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=s+"px",i.transition=`all ${a}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(r,a)})})}function PZ({enter:t,exit:r,appendPosition:a=!1,collapse:s=!0,collapseDuration:i=300}){return function({children:o,position:l,preventExitTransition:c,done:d,nodeRef:f,isIn:u,playToast:m}){let p=a?`${t}--${l}`:t,g=a?`${r}--${l}`:r,v=w.useRef(0);return w.useLayoutEffect(()=>{let y=f.current,b=p.split(" "),j=N=>{N.target===f.current&&(m(),y.removeEventListener("animationend",j),y.removeEventListener("animationcancel",j),v.current===0&&N.type!=="animationcancel"&&y.classList.remove(...b))};y.classList.add(...b),y.addEventListener("animationend",j),y.addEventListener("animationcancel",j)},[]),w.useEffect(()=>{let y=f.current,b=()=>{y.removeEventListener("animationend",b),s?_Z(y,d,i):d()};u||(c?b():(v.current=1,y.className+=` ${g}`,y.addEventListener("animationend",b)))},[u]),$r.createElement($r.Fragment,null,o)}}function BI(t,r){return{content:EM(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:r}}function EM(t,r,a=!1){return w.isValidElement(t)&&!q0(t.type)?w.cloneElement(t,{closeToast:r.closeToast,toastProps:r,data:r.data,isPaused:a}):UA(t)?t({closeToast:r.closeToast,toastProps:r,data:r.data,isPaused:a}):t}function OZ({closeToast:t,theme:r,ariaLabel:a="close"}){return $r.createElement("button",{className:`Toastify__close-button Toastify__close-button--${r}`,type:"button",onClick:s=>{s.stopPropagation(),t(!0)},"aria-label":a},$r.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},$r.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function DZ({delay:t,isRunning:r,closeToast:a,type:s="default",hide:i,className:o,controlledProgress:l,progress:c,rtl:d,isIn:f,theme:u}){let m=i||l&&c===0,p={animationDuration:`${t}ms`,animationPlayState:r?"running":"paused"};l&&(p.transform=`scaleX(${c})`);let g=Mt("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":d}),v=UA(o)?o({rtl:d,type:s,defaultClassName:g}):Mt(g,o),y={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{f&&a()}};return $r.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},$r.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${s}`}),$r.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:v,style:p,...y}))}var LZ=1,TM=()=>`${LZ++}`;function MZ(t,r,a){let s=1,i=0,o=[],l=[],c=r,d=new Map,f=new Set,u=N=>(f.add(N),()=>f.delete(N)),m=()=>{l=Array.from(d.values()),f.forEach(N=>N())},p=({containerId:N,toastId:S,updateId:B})=>{let I=N?N!==t:t!==1,F=d.has(S)&&B==null;return I||F},g=(N,S)=>{d.forEach(B=>{var I;(S==null||S===B.props.toastId)&&((I=B.toggle)==null||I.call(B,N))})},v=N=>{var S,B;(B=(S=N.props)==null?void 0:S.onClose)==null||B.call(S,N.removalReason),N.isActive=!1},y=N=>{if(N==null)d.forEach(v);else{let S=d.get(N);S&&v(S)}m()},b=()=>{i-=o.length,o=[]},j=N=>{var S,B;let{toastId:I,updateId:F}=N.props,O=F==null;N.staleId&&d.delete(N.staleId),N.isActive=!0,d.set(I,N),m(),a(BI(N,O?"added":"updated")),O&&((B=(S=N.props).onOpen)==null||B.call(S))};return{id:t,props:c,observe:u,toggle:g,removeToast:y,toasts:d,clearQueue:b,buildToast:(N,S)=>{if(p(S))return;let{toastId:B,updateId:I,data:F,staleId:O,delay:k}=S,V=I==null;V&&i++;let Q={...c,style:c.toastStyle,key:s++,...Object.fromEntries(Object.entries(S).filter(([M,K])=>K!=null)),toastId:B,updateId:I,data:F,isIn:!1,className:cC(S.className||c.toastClassName),progressClassName:cC(S.progressClassName||c.progressClassName),autoClose:S.isLoading?!1:kZ(S.autoClose,c.autoClose),closeToast(M){d.get(B).removalReason=M,y(B)},deleteToast(){let M=d.get(B);if(M!=null){if(a(BI(M,"removed")),d.delete(B),i--,i<0&&(i=0),o.length>0){j(o.shift());return}m()}}};Q.closeButton=c.closeButton,S.closeButton===!1||dC(S.closeButton)?Q.closeButton=S.closeButton:S.closeButton===!0&&(Q.closeButton=dC(c.closeButton)?c.closeButton:!0);let H={content:N,props:Q,staleId:O};c.limit&&c.limit>0&&i>c.limit&&V?o.push(H):Gy(k)?setTimeout(()=>{j(H)},k):j(H)},setProps(N){c=N},setToggle:(N,S)=>{let B=d.get(N);B&&(B.toggle=S)},isToastActive:N=>{var S;return(S=d.get(N))==null?void 0:S.isActive},getSnapshot:()=>l}}var fl=new Map,oy=[],uC=new Set,UZ=t=>uC.forEach(r=>r(t)),FM=()=>fl.size>0;function RZ(){oy.forEach(t=>kM(t.content,t.options)),oy=[]}var QZ=(t,{containerId:r})=>{var a;return(a=fl.get(r||1))==null?void 0:a.toasts.get(t)};function IM(t,r){var a;if(r)return!!((a=fl.get(r))!=null&&a.isToastActive(t));let s=!1;return fl.forEach(i=>{i.isToastActive(t)&&(s=!0)}),s}function HZ(t){if(!FM()){oy=oy.filter(r=>t!=null&&r.options.toastId!==t);return}if(t==null||IZ(t))fl.forEach(r=>{r.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let r=fl.get(t.containerId);r?r.removeToast(t.id):fl.forEach(a=>{a.removeToast(t.id)})}}var $Z=(t={})=>{fl.forEach(r=>{r.props.limit&&(!t.containerId||r.id===t.containerId)&&r.clearQueue()})};function kM(t,r){dC(t)&&(FM()||oy.push({content:t,options:r}),fl.forEach(a=>{a.buildToast(t,r)}))}function zZ(t){var r;(r=fl.get(t.containerId||1))==null||r.setToggle(t.id,t.fn)}function _M(t,r){fl.forEach(a=>{(r==null||!(r!=null&&r.containerId)||r?.containerId===a.id)&&a.toggle(t,r?.id)})}function VZ(t){let r=t.containerId||1;return{subscribe(a){let s=MZ(r,t,UZ);fl.set(r,s);let i=s.observe(a);return RZ(),()=>{i(),fl.delete(r)}},setProps(a){var s;(s=fl.get(r))==null||s.setProps(a)},getSnapshot(){var a;return(a=fl.get(r))==null?void 0:a.getSnapshot()}}}function KZ(t){return uC.add(t),()=>{uC.delete(t)}}function GZ(t){return t&&(q0(t.toastId)||Gy(t.toastId))?t.toastId:TM()}function Wy(t,r){return kM(t,r),r.toastId}function Jw(t,r){return{...r,type:r&&r.type||t,toastId:GZ(r)}}function Zw(t){return(r,a)=>Wy(r,Jw(t,a))}function nr(t,r){return Wy(t,Jw("default",r))}nr.loading=(t,r)=>Wy(t,Jw("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...r}));function WZ(t,{pending:r,error:a,success:s},i){let o;r&&(o=q0(r)?nr.loading(r,i):nr.loading(r.render,{...i,...r}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(f,u,m)=>{if(u==null){nr.dismiss(o);return}let p={type:f,...l,...i,data:m},g=q0(u)?{render:u}:u;return o?nr.update(o,{...p,...g}):nr(g.render,{...p,...g}),m},d=UA(t)?t():t;return d.then(f=>c("success",s,f)).catch(f=>c("error",a,f)),d}nr.promise=WZ;nr.success=Zw("success");nr.info=Zw("info");nr.error=Zw("error");nr.warning=Zw("warning");nr.warn=nr.warning;nr.dark=(t,r)=>Wy(t,Jw("default",{theme:"dark",...r}));function qZ(t){HZ(t)}nr.dismiss=qZ;nr.clearWaitingQueue=$Z;nr.isActive=IM;nr.update=(t,r={})=>{let a=QZ(t,r);if(a){let{props:s,content:i}=a,o={delay:100,...s,...r,toastId:r.toastId||t,updateId:TM()};o.toastId!==t&&(o.staleId=t);let l=o.render||i;delete o.render,Wy(l,o)}};nr.done=t=>{nr.update(t,{progress:1})};nr.onChange=KZ;nr.play=t=>_M(!0,t);nr.pause=t=>_M(!1,t);function YZ(t){var r;let{subscribe:a,getSnapshot:s,setProps:i}=w.useRef(VZ(t)).current;i(t);let o=(r=w.useSyncExternalStore(a,s,s))==null?void 0:r.slice();function l(c){if(!o)return[];let d=new Map;return t.newestOnTop&&o.reverse(),o.forEach(f=>{let{position:u}=f.props;d.has(u)||d.set(u,[]),d.get(u).push(f)}),Array.from(d,f=>c(f[0],f[1]))}return{getToastToRender:l,isToastActive:IM,count:o?.length}}function XZ(t){let[r,a]=w.useState(!1),[s,i]=w.useState(!1),o=w.useRef(null),l=w.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:d,closeToast:f,onClick:u,closeOnClick:m}=t;zZ({id:t.toastId,containerId:t.containerId,fn:a}),w.useEffect(()=>{if(t.pauseOnFocusLoss)return p(),()=>{g()}},[t.pauseOnFocusLoss]);function p(){document.hasFocus()||j(),window.addEventListener("focus",b),window.addEventListener("blur",j)}function g(){window.removeEventListener("focus",b),window.removeEventListener("blur",j)}function v(O){if(t.draggable===!0||t.draggable===O.pointerType){N();let k=o.current;l.canCloseOnClick=!0,l.canDrag=!0,k.style.transition="none",t.draggableDirection==="x"?(l.start=O.clientX,l.removalDistance=k.offsetWidth*(t.draggablePercent/100)):(l.start=O.clientY,l.removalDistance=k.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function y(O){let{top:k,bottom:V,left:Q,right:H}=o.current.getBoundingClientRect();O.nativeEvent.type!=="touchend"&&t.pauseOnHover&&O.clientX>=Q&&O.clientX<=H&&O.clientY>=k&&O.clientY<=V?j():b()}function b(){a(!0)}function j(){a(!1)}function N(){l.didMove=!1,document.addEventListener("pointermove",B),document.addEventListener("pointerup",I)}function S(){document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",I)}function B(O){let k=o.current;if(l.canDrag&&k){l.didMove=!0,r&&j(),t.draggableDirection==="x"?l.delta=O.clientX-l.start:l.delta=O.clientY-l.start,l.start!==O.clientX&&(l.canCloseOnClick=!1);let V=t.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;k.style.transform=`translate3d(${V},0)`,k.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function I(){S();let O=o.current;if(l.canDrag&&l.didMove&&O){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}O.style.transition="transform 0.2s, opacity 0.2s",O.style.removeProperty("transform"),O.style.removeProperty("opacity")}}let F={onPointerDown:v,onPointerUp:y};return c&&d&&(F.onMouseEnter=j,t.stacked||(F.onMouseLeave=b)),m&&(F.onClick=O=>{u&&u(O),l.canCloseOnClick&&f(!0)}),{playToast:b,pauseToast:j,isRunning:r,preventExitTransition:s,toastRef:o,eventHandlers:F}}var JZ=typeof window<"u"?w.useLayoutEffect:w.useEffect,e4=({theme:t,type:r,isLoading:a,...s})=>$r.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${r})`,...s});function ZZ(t){return $r.createElement(e4,{...t},$r.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function eee(t){return $r.createElement(e4,{...t},$r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function tee(t){return $r.createElement(e4,{...t},$r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function ree(t){return $r.createElement(e4,{...t},$r.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function aee(){return $r.createElement("div",{className:"Toastify__spinner"})}var fC={info:eee,warning:ZZ,success:tee,error:ree,spinner:aee},see=t=>t in fC;function nee({theme:t,type:r,isLoading:a,icon:s}){let i=null,o={theme:t,type:r};return s===!1||(UA(s)?i=s({...o,isLoading:a}):w.isValidElement(s)?i=w.cloneElement(s,o):a?i=fC.spinner():see(r)&&(i=fC[r](o))),i}var iee=t=>{let{isRunning:r,preventExitTransition:a,toastRef:s,eventHandlers:i,playToast:o}=XZ(t),{closeButton:l,children:c,autoClose:d,onClick:f,type:u,hideProgressBar:m,closeToast:p,transition:g,position:v,className:y,style:b,progressClassName:j,updateId:N,role:S,progress:B,rtl:I,toastId:F,deleteToast:O,isIn:k,isLoading:V,closeOnClick:Q,theme:H,ariaLabel:M}=t,K=Mt("Toastify__toast",`Toastify__toast-theme--${H}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":I},{"Toastify__toast--close-on-click":Q}),q=UA(y)?y({rtl:I,position:v,type:u,defaultClassName:K}):Mt(K,y),re=nee(t),ee=!!B||!d,le={closeToast:p,type:u,theme:H},Ae=null;return l===!1||(UA(l)?Ae=l(le):w.isValidElement(l)?Ae=w.cloneElement(l,le):Ae=OZ(le)),$r.createElement(g,{isIn:k,done:O,position:v,preventExitTransition:a,nodeRef:s,playToast:o},$r.createElement("div",{id:F,tabIndex:0,onClick:f,"data-in":k,className:q,...i,style:b,ref:s,...k&&{role:S,"aria-label":M}},re!=null&&$r.createElement("div",{className:Mt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!V})},re),EM(c,t,!r),Ae,!t.customProgressBar&&$r.createElement(DZ,{...N&&!ee?{key:`p-${N}`}:{},rtl:I,theme:H,delay:d,isRunning:r,isIn:k,closeToast:p,hide:m,type:u,className:j,controlledProgress:ee,progress:B||0})))},oee=(t,r=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:r}),lee=PZ(oee("bounce",!0)),cee={position:"top-right",transition:lee,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function t4(t){let r={...cee,...t},a=t.stacked,[s,i]=w.useState(!0),o=w.useRef(null),{getToastToRender:l,isToastActive:c,count:d}=YZ(r),{className:f,style:u,rtl:m,containerId:p,hotKeys:g}=r;function v(b){let j=Mt("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":m});return UA(f)?f({position:b,rtl:m,defaultClassName:j}):Mt(j,cC(f))}function y(){a&&(i(!0),nr.play())}return JZ(()=>{var b;if(a){let j=o.current.querySelectorAll('[data-in="true"]'),N=12,S=(b=r.position)==null?void 0:b.includes("top"),B=0,I=0;Array.from(j).reverse().forEach((F,O)=>{let k=F;k.classList.add("Toastify__toast--stacked"),O>0&&(k.dataset.collapsed=`${s}`),k.dataset.pos||(k.dataset.pos=S?"top":"bot");let V=B*(s?.2:1)+(s?0:N*O);k.style.setProperty("--y",`${S?V:V*-1}px`),k.style.setProperty("--g",`${N}`),k.style.setProperty("--s",`${1-(s?I:0)}`),B+=k.offsetHeight,I+=.025})}},[s,d,a]),w.useEffect(()=>{function b(j){var N;let S=o.current;g(j)&&((N=S.querySelector('[tabIndex="0"]'))==null||N.focus(),i(!1),nr.pause()),j.key==="Escape"&&(document.activeElement===S||S!=null&&S.contains(document.activeElement))&&(i(!0),nr.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[g]),$r.createElement("section",{ref:o,className:"Toastify",id:p,onMouseEnter:()=>{a&&(i(!1),nr.pause())},onMouseLeave:y,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":r["aria-label"]},l((b,j)=>{let N=j.length?{...u}:{...u,pointerEvents:"none"};return $r.createElement("div",{tabIndex:-1,className:v(b),"data-stacked":a,style:N,key:`c-${b}`},j.map(({content:S,props:B})=>$r.createElement(iee,{...B,stacked:a,collapseAll:y,isIn:c(B.toastId,B.containerId),key:`t-${B.key}`},S)))}))}const dee=()=>{const t=localStorage.getItem("schoolId"),r=localStorage.getItem("color")||"#2563eb",a="https://vidyaastra.com/api",s=`${a}/class`,i=`${a}/subject`,o=`${a}/teacher`,l=`${a}/timetable`,[c,d]=w.useState("Monday"),[f,u]=w.useState(""),[m,p]=w.useState(""),[g,v]=w.useState({}),[y,b]=w.useState([]),[j,N]=w.useState([]),[S,B]=w.useState([]),[I,F]=w.useState(!0),[O,k]=w.useState(null),[V,Q]=w.useState(!1),[H,M]=w.useState("create"),[K,q]=w.useState(null),[re,ee]=w.useState(null),[le,Ae]=w.useState(-1),[ue,se]=w.useState(null),ve=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],[_,z]=w.useState({className:"",section:"",day:"Monday",periods:[],timetableName:""}),[ae,oe]=w.useState({_id:"",subjectName:"",teacherName:"",startTime:"",endTime:""});w.useEffect(()=>{if(!t){k("School ID not found. Please login again.");return}console.log("Current School ID:",t)},[t]),w.useEffect(()=>{t&&(async()=>(await me(),await he(),await te(),await J()))()},[t]);const ce=Ee=>{if(!Ee)return"N/A";const Qe=/^([0-1]?[0-9]|2[0-3]):[0-5][0-9](\s?(AM|PM))?$/i;return Ee.match(Qe)&&!Ee.includes("AM")&&!Ee.includes("PM")?`${Ee} AM`:Ee},me=async()=>{if(t)try{console.log("Fetching classes for school:",t);const Ee=await fetch(`${s}?schoolId=${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});let Qe=[];if(Ee.ok){const rt=await Ee.json();console.log("Classes API Response:",rt),rt.success&&rt.data&&(Qe=rt.data.map(Te=>{const nt=Te.className||`Class ${Te.classNumber||Te.grade||"Unknown"}`,xt=Te.section||"A";return{_id:Te._id,className:nt,section:xt,displayName:`${nt} ${xt}`.trim()}}))}Qe.length===0&&(console.log("Using fallback mock classes"),Qe=[{_id:"mock_6b",className:"Class 6",section:"B",displayName:"Class 6 B"}]),console.log("Final classes data:",Qe),b(Qe)}catch(Ee){console.error("Error fetching classes:",Ee),k("Failed to fetch classes: "+Ee.message),nr.error("Failed to fetch classes: "+Ee.message)}},he=async()=>{if(t)try{console.log("Fetching subjects for school:",t);const Ee=await fetch(`${i}/${t}/subjects`,{method:"GET",headers:{"Content-Type":"application/json"}});let Qe=[];if(Ee.ok){const rt=await Ee.json();console.log("Subjects API Response:",rt),rt.success&&rt.data&&(Qe=rt.data.map(Te=>({_id:Te._id,name:Te.SubjectName||Te.name||"Unknown"})))}Qe.length===0&&(console.log("Using fallback mock subjects"),Qe=[{_id:"sub_math",name:"Maths"}]),console.log("Final subjects data:",Qe),N(Qe)}catch(Ee){console.error("Error fetching subjects:",Ee),k("Failed to fetch subjects: "+Ee.message),nr.error("Failed to fetch subjects: "+Ee.message)}},te=async()=>{if(t)try{console.log("Fetching teachers for school:",t);const Ee=await fetch(`${o}/${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});let Qe=[];if(Ee.ok){const rt=await Ee.json();console.log("Teachers API Response:",rt),rt.success&&rt.data&&(Qe=rt.data.map(Te=>({_id:Te._id,name:Te.name||Te.teacherName||"Unknown"})).filter(Te=>Te.name&&Te.name.trim()!==""))}Qe.length===0&&(console.log("Using fallback mock teachers"),Qe=[{_id:"teacher_1",name:"Mukesh"}]),console.log("Final teachers data:",Qe),B(Qe)}catch(Ee){console.error("Error fetching teachers:",Ee),k("Failed to fetch teachers: "+Ee.message),nr.error("Failed to fetch teachers: "+Ee.message)}},J=async()=>{if(t)try{F(!0),console.log("Fetching timetable for school:",t);const Ee=await fetch(`${l}/${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!Ee.ok)throw new Error(`HTTP error! Status: ${Ee.status}`);const Qe=await Ee.json();if(console.log("Timetable API Response:",Qe),!Qe.success||!Qe.data||!Array.isArray(Qe.data))throw new Error(Qe.message||"Failed to fetch timetable");const rt={};ve.forEach(nt=>{rt[nt]={}}),(Qe.data.length>0&&Qe.data[0].timetable?Qe.data[0].timetable:[]).forEach(nt=>{if(!nt.day||!ve.includes(nt.day))return;const[xt,it]=nt.className.split(" "),_e=y.find(yt=>yt.className===xt&&yt.section===(it||"A"))||{_id:`mock_${nt.className.replace(/\s+/g,"_").toLowerCase()}`,className:xt||"Unknown",section:it||"A",displayName:nt.className},dt=`${xt} ${it||"A"}`.trim();rt[nt.day][dt]||(rt[nt.day][dt]={classId:_e._id,className:xt,section:it||"A",timetables:[]}),rt[nt.day][dt].timetables.push({timetableId:nt._id,classId:_e._id,className:dt,timetableName:nt.timetableName||"Regular",day:nt.day,periods:(nt.periods||[]).map((yt,rr)=>({id:yt._id||`${nt._id}-${rr}`,_id:yt._id,subjectName:yt.subjectName||"Unknown",teacherName:yt.teacherName||"N/A",startTime:ce(yt.startTime),endTime:ce(yt.endTime),time:`${ce(yt.startTime)} - ${ce(yt.endTime)}`}))})}),Object.keys(rt).forEach(nt=>{Object.values(rt[nt]).forEach(xt=>{xt.timetables.forEach(it=>{it.periods.sort((_e,dt)=>{const yt=_e.startTime&&_e.startTime!=="N/A"?new Date(`1970-01-01 ${_e.startTime}`):new Date(0),rr=dt.startTime&&dt.startTime!=="N/A"?new Date(`1970-01-01 ${dt.startTime}`):new Date(0);return yt-rr})})})}),v(rt),k(null)}catch(Ee){console.error("Fetch Error:",Ee),k(Ee.message||"Error fetching timetable"),nr.error(Ee.message||"Error fetching timetable")}finally{F(!1)}},X=async Ee=>{if(!t)return k("School ID not found. Please login again."),nr.error("School ID not found. Please login again."),!1;try{F(!0),console.log("Creating timetable with data:",Ee);const Qe={className:`${Ee.className} ${Ee.section}`.trim(),day:Ee.day,timetableName:Ee.timetableName,periods:Ee.periods},Te=await(await fetch(`${l}/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Qe)})).json();if(!Te.success)throw new Error(Te.message||"Failed to add timetable");return await J(),nr.success("Timetable created successfully!"),!0}catch(Qe){return k(Qe.message||"Error adding timetable"),nr.error(Qe.message||"Error adding timetable"),!1}finally{F(!1)}},xe=async(Ee,Qe)=>{if(!t)return k("School ID not found. Please login again."),nr.error("School ID not found. Please login again."),!1;if(!Ee)return k("Timetable ID is required."),nr.error("Timetable ID is required."),!1;if(!Qe||typeof Qe!="object")return k("Timetable data must be a valid object."),nr.error("Timetable data must be a valid object."),!1;const{className:rt,section:Te,day:nt,timetableName:xt,periods:it}=Qe;if(!rt||!Te)return k("Class name and section are required."),nr.error("Class name and section are required."),!1;if(!nt||!ve.includes(nt))return k("Valid day is required (e.g., Monday, Tuesday)."),nr.error("Valid day is required (e.g., Monday, Tuesday)."),!1;if(!xt)return k("Timetable name is required."),nr.error("Timetable name is required."),!1;if(!Array.isArray(it)||it.length===0)return k("Periods must be a non-empty array."),nr.error("Periods must be a non-empty array."),!1;const _e=/^([0-1]?[0-9]|2[0-3]):[0-5][0-9](\s?(AM|PM))?$/i;for(const dt of it){if(!dt.subjectName)return k("Each period must have a subject name."),nr.error("Each period must have a subject name."),!1;if(!dt.startTime||!dt.startTime.match(_e))return k("Each period must have a valid start time (e.g., 9:00 AM)."),nr.error("Each period must have a valid start time (e.g., 9:00 AM)."),!1;if(!dt.endTime||!dt.endTime.match(_e))return k("Each period must have a valid end time (e.g., 10:00 AM)."),nr.error("Each period must have a valid end time (e.g., 10:00 AM)."),!1}try{F(!0),console.log("Updating timetable with ID:",Ee,"Data:",Qe);const dt={className:`${rt} ${Te}`.trim(),day:nt,timetableName:xt,periods:it.map(_t=>({_id:_t._id||void 0,subjectName:_t.subjectName,teacherName:_t.teacherName||"",startTime:_t.startTime.trim(),endTime:_t.endTime.trim()}))},rr=await(await fetch(`${l}/${t}/${Ee}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(dt)})).json();if(!rr.success)throw new Error(rr.message||"Failed to update timetable");return await J(),nr.success("Timetable updated successfully!"),!0}catch(dt){return k(dt.message||"Error updating timetable"),nr.error(dt.message||"Error updating timetable"),!1}finally{F(!1)}},Ne=async Ee=>{if(!t){k("School ID not found. Please login again."),nr.error("School ID not found. Please login again.");return}if(window.confirm("Are you sure you want to delete this timetable?"))try{se(Ee),F(!0);const rt=await(await fetch(`${l}/${Ee}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).json();if(!rt.success)throw new Error(rt.message||"Failed to delete timetable");await J(),nr.success("Timetable deleted successfully!")}catch(Qe){k(Qe.message||"Error deleting timetable"),nr.error(Qe.message||"Error deleting timetable")}finally{F(!1),se(null)}},ge=()=>{M("create"),q(null),z({className:f||"",section:m||"",day:c,periods:[],timetableName:""}),Q(!0)},pe=Ee=>{M("edit"),q(Ee);const[Qe,rt]=Ee.className.split(" ");z({className:Qe||"",section:rt||"A",day:Ee.day,periods:Ee.periods.map(Te=>({_id:Te._id,subjectName:Te.subjectName,teacherName:Te.teacherName,startTime:Te.startTime,endTime:Te.endTime})),timetableName:Ee.timetableName}),Q(!0)},Y=()=>{oe({_id:"",subjectName:"",teacherName:"",startTime:"",endTime:""}),ee(null),Ae(-1),M("period")},Le=(Ee,Qe)=>{oe({_id:Ee._id||"",subjectName:Ee.subjectName,teacherName:Ee.teacherName,startTime:Ee.startTime,endTime:Ee.endTime}),ee(Ee),Ae(Qe),M("period")},ie=Ee=>{const Qe=_.periods.filter((rt,Te)=>Te!==Ee);z({..._,periods:Qe})},de=()=>{const Ee=/^([0-1]?[0-9]|2[0-3]):[0-5][0-9](\s?(AM|PM))?$/i;if(!ae.startTime.match(Ee)&&ae.startTime!==""){k("Please enter a valid start time (e.g., 9:00 AM)"),nr.error("Please enter a valid start time (e.g., 9:00 AM)");return}if(!ae.endTime.match(Ee)&&ae.endTime!==""){k("Please enter a valid end time (e.g., 10:00 AM)"),nr.error("Please enter a valid end time (e.g., 10:00 AM)");return}if(!ae.subjectName){k("Subject is required"),nr.error("Subject is required");return}const Qe={_id:ae._id||void 0,subjectName:ae.subjectName,teacherName:ae.teacherName||"",startTime:ce(ae.startTime),endTime:ce(ae.endTime)};let rt=[..._.periods];re&&le>=0?rt[le]=Qe:rt.push(Qe),rt.sort((Te,nt)=>{const xt=Te.startTime&&Te.startTime!=="N/A"?new Date(`1970-01-01 ${Te.startTime}`):new Date(0),it=nt.startTime&&nt.startTime!=="N/A"?new Date(`1970-01-01 ${nt.startTime}`):new Date(0);return xt-it}),z({..._,periods:rt}),M(K?"edit":"create"),k(null)},je=async()=>{if(_.periods.length===0){k("Please add at least one period"),nr.error("Please add at least one period");return}if(!_.className||!_.section){k("Please select both class and section"),nr.error("Please select both class and section");return}if(!_.timetableName){k("Please enter a timetable name"),nr.error("Please enter a timetable name");return}const Ee={className:_.className,section:_.section,day:_.day,periods:_.periods,timetableName:_.timetableName};let Qe=!1;K?Qe=await xe(K.timetableId,Ee):Qe=await X(Ee),Qe&&ye()},ye=()=>{z({className:"",section:"",day:"Monday",periods:[],timetableName:""}),oe({_id:"",subjectName:"",teacherName:"",startTime:"",endTime:""}),q(null),ee(null),Ae(-1),Q(!1),M("create"),k(null)},Ce=[...new Set(y.map(Ee=>Ee.className))],be=f?y.filter(Ee=>Ee.className===f).map(Ee=>Ee.section):[];return t?n.jsxs("div",{className:"space-y-6 p-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:Mt("text-black p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:r},children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Class Timetable"}),n.jsx("p",{className:"text-gray-200",children:"View and manage class schedules"}),n.jsxs("div",{className:"text-white text-sm opacity-75 mt-1",children:["School ID: ",t]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("select",{value:f,onChange:Ee=>{u(Ee.target.value),p("")},className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-32",style:{borderColor:r,outlineColor:r},children:[n.jsx("option",{value:"",children:"All Classes"}),Ce.map(Ee=>n.jsx("option",{value:Ee,children:Ee},Ee))]}),n.jsxs("select",{value:m,onChange:Ee=>p(Ee.target.value),className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-24",style:{borderColor:r,outlineColor:r},disabled:!f,children:[n.jsx("option",{value:"",children:"All Sections"}),be.map(Ee=>n.jsx("option",{value:Ee,children:Ee},Ee))]})]}),n.jsxs("div",{className:"text-white text-xs opacity-75",children:[y.length," classes available"]}),n.jsxs("button",{onClick:ge,className:Mt("text-white px-4 py-2 rounded-lg shadow-lg flex items-center hover:opacity-90"),style:{backgroundColor:r},disabled:I||y.length===0,children:[I?n.jsx(Er,{className:"mr-2 animate-spin",style:{color:"white"}}):n.jsx(Fs,{className:"mr-2",style:{color:"white"}}),"Create Timetable"]})]})]}),O&&n.jsxs("div",{className:"p-4 bg-red-100 text-red-700 rounded-xl mb-4 flex items-center justify-between max-w-full",children:[O,n.jsx("button",{onClick:()=>k(null),className:"text-red-500 hover:text-red-700",children:""})]}),I&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ea,{className:"w-12 h-12 mx-auto mb-4 animate-pulse",style:{color:r}}),n.jsx("p",{className:"text-gray-500 text-lg",children:"Loading timetable..."})]}),!I&&n.jsx("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:ve.map(Ee=>n.jsx("button",{onClick:()=>d(Ee),className:Mt("flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors",{"bg-white shadow-sm":c===Ee,"text-gray-600 hover:text-gray-800":c!==Ee}),style:{color:c===Ee?r:void 0},children:Ee},Ee))})]}),!I&&n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-x-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:[c," -"," ",f&&m?`${f} ${m}`:f?`${f} (All Sections)`:"All Classes"]})}),n.jsx("div",{className:"p-6 space-y-6",children:Object.keys(g[c]||{}).length===0?n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(Ea,{className:"w-12 h-12 mx-auto mb-4",style:{color:r}}),n.jsxs("p",{children:["No timetables scheduled for ",c,f?` (${f}${m?` ${m}`:" (All Sections)"})`:""]}),n.jsxs("div",{className:"text-xs mt-2",children:["School ID: ",t]}),n.jsx("button",{onClick:ge,className:Mt("text-white px-4 py-2 rounded-lg shadow-lg mt-4 hover:opacity-90"),style:{backgroundColor:r},disabled:y.length===0,children:"Create Timetable"})]}):Object.entries(g[c]).filter(([Ee,Qe])=>{if(!f)return!0;const[rt,Te]=Ee.split(" ");return rt===f&&(!m||Te===m)}).map(([Ee,Qe])=>n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:Ee}),n.jsxs("table",{className:"min-w-full border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-100",children:[n.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-600 border-b w-1/5",children:"Timetable Name"}),n.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-600 border-b w-1/5",children:"Time"}),n.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-600 border-b w-1/5",children:"Subject"}),n.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-600 border-b w-1/5",children:"Teacher"}),n.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-600 border-b w-1/5",children:"Actions"})]})}),n.jsx("tbody",{children:Qe.timetables.map(rt=>rt.periods.map((Te,nt)=>n.jsxs("tr",{className:"border-b",children:[nt===0&&n.jsx("td",{className:"p-3 text-gray-800",rowSpan:rt.periods.length,children:rt.timetableName}),n.jsx("td",{className:"p-3 text-gray-600",children:Te.time}),n.jsx("td",{className:"p-3 text-gray-800",children:Te.subjectName}),n.jsx("td",{className:"p-3 text-gray-600",children:Te.teacherName}),nt===0&&n.jsx("td",{className:"p-3",rowSpan:rt.periods.length,children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>pe(rt),className:"hover:opacity-75",style:{color:r},disabled:I||ue===rt.timetableId,title:"Edit Timetable",children:n.jsx(Ao,{size:16})}),n.jsx("button",{onClick:()=>Ne(rt.timetableId),className:"hover:opacity-75",style:{color:r},disabled:I||ue===rt.timetableId,title:"Delete Timetable",children:ue===rt.timetableId?n.jsx(Er,{className:"animate-spin",size:16}):n.jsx(cs,{size:16})})]})})]},`${rt.timetableId}-${Te.id}`)))})]})]},Ee))})]}),V&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-5xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:Mt("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center mb-6 sticky top-0 z-10"),style:{backgroundColor:r},children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:H==="period"?re?"Edit Period":"Add Period":K?"Edit Timetable":"Create Timetable"}),n.jsx("button",{onClick:ye,className:"flex items-center justify-center w-8 h-8 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:n.jsx(cr,{size:24,className:"text-white"})})]}),H==="period"?n.jsxs("div",{className:"space-y-4 p-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"startTime",className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),n.jsx("input",{type:"time",id:"startTime",placeholder:"Select start time",value:ae.startTime,onChange:Ee=>oe({...ae,startTime:Ee.target.value}),className:"p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-full",style:{borderColor:r,outlineColor:r},required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"endTime",className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),n.jsx("input",{type:"time",id:"endTime",placeholder:"Select end time",value:ae.endTime,onChange:Ee=>oe({...ae,endTime:Ee.target.value}),className:"p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-full",style:{borderColor:r,outlineColor:r},required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"subjectName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),n.jsxs("select",{id:"subjectName",value:ae.subjectName,onChange:Ee=>{oe({...ae,subjectName:Ee.target.value})},className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:r,outlineColor:r},required:!0,children:[n.jsx("option",{value:"",children:"Select Subject"}),j.map(Ee=>n.jsx("option",{value:Ee.name,children:Ee.name},Ee._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"teacherName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Teacher (Optional)"}),n.jsxs("select",{id:"teacherName",value:ae.teacherName,onChange:Ee=>{oe({...ae,teacherName:Ee.target.value})},className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:r,outlineColor:r},children:[n.jsx("option",{value:"",children:"Select Teacher"}),S.filter(Ee=>Ee.name&&Ee.name.trim()!=="").map(Ee=>n.jsx("option",{value:Ee.name,children:Ee.name},Ee._id))]})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>M(K?"edit":"create"),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Back"}),n.jsx("button",{onClick:de,className:Mt("text-white px-4 py-2 rounded-lg shadow-lg hover:opacity-90"),style:{backgroundColor:r},children:re?"Update Period":"Add Period"})]})]}):n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("select",{value:_.className,onChange:Ee=>z({..._,className:Ee.target.value,section:""}),className:"p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-full",style:{borderColor:r,outlineColor:r},required:!0,children:[n.jsx("option",{value:"",children:"Select Class"}),Ce.map(Ee=>n.jsx("option",{value:Ee,children:Ee},Ee))]}),n.jsxs("select",{value:_.section,onChange:Ee=>z({..._,section:Ee.target.value}),className:"p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-full",style:{borderColor:r,outlineColor:r},required:!0,disabled:!_.className,children:[n.jsx("option",{value:"",children:"Select Section"}),y.filter(Ee=>Ee.className===_.className).map(Ee=>n.jsx("option",{value:Ee.section,children:Ee.section},Ee.section))]}),n.jsx("select",{value:_.day,onChange:Ee=>z({..._,day:Ee.target.value}),className:"p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-full",style:{borderColor:r,outlineColor:r},required:!0,children:ve.map(Ee=>n.jsx("option",{value:Ee,children:Ee},Ee))}),n.jsx("input",{type:"text",placeholder:"Timetable Name (e.g., Regular Timetable)",value:_.timetableName,onChange:Ee=>z({..._,timetableName:Ee.target.value}),className:"p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-full",style:{borderColor:r,outlineColor:r},required:!0})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Periods"}),n.jsxs("button",{onClick:Y,className:Mt("text-white px-3 py-1 rounded-lg text-sm flex items-center hover:opacity-90"),style:{backgroundColor:r},children:[n.jsx(Fs,{className:"mr-1",style:{color:"white"}})," Add Period"]})]}),n.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[_.periods.map((Ee,Qe)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{className:"font-medium",children:[Ee.startTime," - ",Ee.endTime]}),n.jsx("span",{className:"text-gray-600",children:Ee.subjectName})]}),n.jsx("div",{className:"text-sm text-gray-500 mt-1",children:Ee.teacherName||"No teacher assigned"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>Le(Ee,Qe),className:"hover:opacity-75",style:{color:r},children:n.jsx(Ao,{size:16})}),n.jsx("button",{onClick:()=>ie(Qe),className:"hover:opacity-75",style:{color:r},children:n.jsx(cs,{size:16})})]})]},Qe)),_.periods.length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500",children:'No periods added yet. Click "Add Period" to get started.'})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{onClick:ye,className:"px-6 py-2 border rounded-lg hover:bg-gray-50",disabled:I,children:"Cancel"}),n.jsxs("button",{onClick:je,className:Mt("text-white px-6 py-2 rounded-lg shadow-lg flex items-center hover:opacity-90"),style:{backgroundColor:r},disabled:I||_.periods.length===0||!_.timetableName||!_.className||!_.section,children:[I?n.jsx(Er,{className:"mr-2 animate-spin",style:{color:"white"}}):n.jsx(Go,{className:"mr-2",style:{color:"white"}}),K?"Update Timetable":"Create Timetable"]})]})]})]})}),n.jsx(t4,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]}):n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-500 text-xl mb-4",children:"School ID not found"}),n.jsx("div",{className:"text-gray-600",children:"Please login again to access the timetable system."}),n.jsx("button",{onClick:()=>window.location.href="/login",className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go to Login"})]})})},uee="modulepreload",fee=function(t){return"/"+t},EI={},AC=function(r,a,s){let i=Promise.resolve();if(a&&a.length>0){let d=function(f){return Promise.all(f.map(u=>Promise.resolve(u).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=d(a.map(f=>{if(f=fee(f),f in EI)return;EI[f]=!0;const u=f.endsWith(".css"),m=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":uee,u||(p.as="script"),p.crossOrigin="",p.href=f,c&&p.setAttribute("nonce",c),document.head.appendChild(p),u)return new Promise((g,v)=>{p.addEventListener("load",g),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return r().catch(o)})};function gs(t){"@babel/helpers - typeof";return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gs(t)}var Ho=Uint8Array,Nc=Uint16Array,CB=Int32Array,r4=new Ho([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a4=new Ho([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),hC=new Ho([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),PM=function(t,r){for(var a=new Nc(31),s=0;s<31;++s)a[s]=r+=1<<t[s-1];for(var i=new CB(a[30]),s=1;s<30;++s)for(var o=a[s];o<a[s+1];++o)i[o]=o-a[s]<<5|s;return{b:a,r:i}},OM=PM(r4,2),DM=OM.b,mC=OM.r;DM[28]=258,mC[258]=28;var LM=PM(a4,0),Aee=LM.b,TI=LM.r,pC=new Nc(32768);for(var rn=0;rn<32768;++rn){var Uh=(rn&43690)>>1|(rn&21845)<<1;Uh=(Uh&52428)>>2|(Uh&13107)<<2,Uh=(Uh&61680)>>4|(Uh&3855)<<4,pC[rn]=((Uh&65280)>>8|(Uh&255)<<8)>>1}var yf=function(t,r,a){for(var s=t.length,i=0,o=new Nc(r);i<s;++i)t[i]&&++o[t[i]-1];var l=new Nc(r);for(i=1;i<r;++i)l[i]=l[i-1]+o[i-1]<<1;var c;if(a){c=new Nc(1<<r);var d=15-r;for(i=0;i<s;++i)if(t[i])for(var f=i<<4|t[i],u=r-t[i],m=l[t[i]-1]++<<u,p=m|(1<<u)-1;m<=p;++m)c[pC[m]>>d]=f}else for(c=new Nc(s),i=0;i<s;++i)t[i]&&(c[i]=pC[l[t[i]-1]++]>>15-t[i]);return c},um=new Ho(288);for(var rn=0;rn<144;++rn)um[rn]=8;for(var rn=144;rn<256;++rn)um[rn]=9;for(var rn=256;rn<280;++rn)um[rn]=7;for(var rn=280;rn<288;++rn)um[rn]=8;var ly=new Ho(32);for(var rn=0;rn<32;++rn)ly[rn]=5;var hee=yf(um,9,0),mee=yf(um,9,1),pee=yf(ly,5,0),gee=yf(ly,5,1),Xj=function(t){for(var r=t[0],a=1;a<t.length;++a)t[a]>r&&(r=t[a]);return r},cu=function(t,r,a){var s=r/8|0;return(t[s]|t[s+1]<<8)>>(r&7)&a},Jj=function(t,r){var a=r/8|0;return(t[a]|t[a+1]<<8|t[a+2]<<16)>>(r&7)},BB=function(t){return(t+7)/8|0},MM=function(t,r,a){return(a==null||a>t.length)&&(a=t.length),new Ho(t.subarray(r,a))},xee=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],hu=function(t,r,a){var s=new Error(r||xee[t]);if(s.code=t,Error.captureStackTrace&&Error.captureStackTrace(s,hu),!a)throw s;return s},yee=function(t,r,a,s){var i=t.length,o=0;if(!i||r.f&&!r.l)return a||new Ho(0);var l=!a,c=l||r.i!=2,d=r.i;l&&(a=new Ho(i*3));var f=function(X){var xe=a.length;if(X>xe){var Ne=new Ho(Math.max(xe*2,X));Ne.set(a),a=Ne}},u=r.f||0,m=r.p||0,p=r.b||0,g=r.l,v=r.d,y=r.m,b=r.n,j=i*8;do{if(!g){u=cu(t,m,1);var N=cu(t,m+1,3);if(m+=3,N)if(N==1)g=mee,v=gee,y=9,b=5;else if(N==2){var F=cu(t,m,31)+257,O=cu(t,m+10,15)+4,k=F+cu(t,m+5,31)+1;m+=14;for(var V=new Ho(k),Q=new Ho(19),H=0;H<O;++H)Q[hC[H]]=cu(t,m+H*3,7);m+=O*3;for(var M=Xj(Q),K=(1<<M)-1,q=yf(Q,M,1),H=0;H<k;){var re=q[cu(t,m,K)];m+=re&15;var S=re>>4;if(S<16)V[H++]=S;else{var ee=0,le=0;for(S==16?(le=3+cu(t,m,3),m+=2,ee=V[H-1]):S==17?(le=3+cu(t,m,7),m+=3):S==18&&(le=11+cu(t,m,127),m+=7);le--;)V[H++]=ee}}var Ae=V.subarray(0,F),ue=V.subarray(F);y=Xj(Ae),b=Xj(ue),g=yf(Ae,y,1),v=yf(ue,b,1)}else hu(1);else{var S=BB(m)+4,B=t[S-4]|t[S-3]<<8,I=S+B;if(I>i){d&&hu(0);break}c&&f(p+B),a.set(t.subarray(S,I),p),r.b=p+=B,r.p=m=I*8,r.f=u;continue}if(m>j){d&&hu(0);break}}c&&f(p+131072);for(var se=(1<<y)-1,ve=(1<<b)-1,_=m;;_=m){var ee=g[Jj(t,m)&se],z=ee>>4;if(m+=ee&15,m>j){d&&hu(0);break}if(ee||hu(2),z<256)a[p++]=z;else if(z==256){_=m,g=null;break}else{var ae=z-254;if(z>264){var H=z-257,oe=r4[H];ae=cu(t,m,(1<<oe)-1)+DM[H],m+=oe}var ce=v[Jj(t,m)&ve],me=ce>>4;ce||hu(3),m+=ce&15;var ue=Aee[me];if(me>3){var oe=a4[me];ue+=Jj(t,m)&(1<<oe)-1,m+=oe}if(m>j){d&&hu(0);break}c&&f(p+131072);var he=p+ae;if(p<ue){var te=o-ue,J=Math.min(ue,he);for(te+p<0&&hu(3);p<J;++p)a[p]=s[te+p]}for(;p<he;++p)a[p]=a[p-ue]}}r.l=g,r.p=_,r.b=p,r.f=u,g&&(u=1,r.m=y,r.d=v,r.n=b)}while(!u);return p!=a.length&&l?MM(a,0,p):a.subarray(0,p)},pA=function(t,r,a){a<<=r&7;var s=r/8|0;t[s]|=a,t[s+1]|=a>>8},s1=function(t,r,a){a<<=r&7;var s=r/8|0;t[s]|=a,t[s+1]|=a>>8,t[s+2]|=a>>16},Zj=function(t,r){for(var a=[],s=0;s<t.length;++s)t[s]&&a.push({s,f:t[s]});var i=a.length,o=a.slice();if(!i)return{t:RM,l:0};if(i==1){var l=new Ho(a[0].s+1);return l[a[0].s]=1,{t:l,l:1}}a.sort(function(I,F){return I.f-F.f}),a.push({s:-1,f:25001});var c=a[0],d=a[1],f=0,u=1,m=2;for(a[0]={s:-1,f:c.f+d.f,l:c,r:d};u!=i-1;)c=a[a[f].f<a[m].f?f++:m++],d=a[f!=u&&a[f].f<a[m].f?f++:m++],a[u++]={s:-1,f:c.f+d.f,l:c,r:d};for(var p=o[0].s,s=1;s<i;++s)o[s].s>p&&(p=o[s].s);var g=new Nc(p+1),v=gC(a[u-1],g,0);if(v>r){var s=0,y=0,b=v-r,j=1<<b;for(o.sort(function(F,O){return g[O.s]-g[F.s]||F.f-O.f});s<i;++s){var N=o[s].s;if(g[N]>r)y+=j-(1<<v-g[N]),g[N]=r;else break}for(y>>=b;y>0;){var S=o[s].s;g[S]<r?y-=1<<r-g[S]++-1:++s}for(;s>=0&&y;--s){var B=o[s].s;g[B]==r&&(--g[B],++y)}v=r}return{t:new Ho(g),l:v}},gC=function(t,r,a){return t.s==-1?Math.max(gC(t.l,r,a+1),gC(t.r,r,a+1)):r[t.s]=a},FI=function(t){for(var r=t.length;r&&!t[--r];);for(var a=new Nc(++r),s=0,i=t[0],o=1,l=function(d){a[s++]=d},c=1;c<=r;++c)if(t[c]==i&&c!=r)++o;else{if(!i&&o>2){for(;o>138;o-=138)l(32754);o>2&&(l(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(l(i),--o;o>6;o-=6)l(8304);o>2&&(l(o-3<<5|8208),o=0)}for(;o--;)l(i);o=1,i=t[c]}return{c:a.subarray(0,s),n:r}},n1=function(t,r){for(var a=0,s=0;s<r.length;++s)a+=t[s]*r[s];return a},UM=function(t,r,a){var s=a.length,i=BB(r+2);t[i]=s&255,t[i+1]=s>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var o=0;o<s;++o)t[i+o+4]=a[o];return(i+4+s)*8},II=function(t,r,a,s,i,o,l,c,d,f,u){pA(r,u++,a),++i[256];for(var m=Zj(i,15),p=m.t,g=m.l,v=Zj(o,15),y=v.t,b=v.l,j=FI(p),N=j.c,S=j.n,B=FI(y),I=B.c,F=B.n,O=new Nc(19),k=0;k<N.length;++k)++O[N[k]&31];for(var k=0;k<I.length;++k)++O[I[k]&31];for(var V=Zj(O,7),Q=V.t,H=V.l,M=19;M>4&&!Q[hC[M-1]];--M);var K=f+5<<3,q=n1(i,um)+n1(o,ly)+l,re=n1(i,p)+n1(o,y)+l+14+3*M+n1(O,Q)+2*O[16]+3*O[17]+7*O[18];if(d>=0&&K<=q&&K<=re)return UM(r,u,t.subarray(d,d+f));var ee,le,Ae,ue;if(pA(r,u,1+(re<q)),u+=2,re<q){ee=yf(p,g,0),le=p,Ae=yf(y,b,0),ue=y;var se=yf(Q,H,0);pA(r,u,S-257),pA(r,u+5,F-1),pA(r,u+10,M-4),u+=14;for(var k=0;k<M;++k)pA(r,u+3*k,Q[hC[k]]);u+=3*M;for(var ve=[N,I],_=0;_<2;++_)for(var z=ve[_],k=0;k<z.length;++k){var ae=z[k]&31;pA(r,u,se[ae]),u+=Q[ae],ae>15&&(pA(r,u,z[k]>>5&127),u+=z[k]>>12)}}else ee=hee,le=um,Ae=pee,ue=ly;for(var k=0;k<c;++k){var oe=s[k];if(oe>255){var ae=oe>>18&31;s1(r,u,ee[ae+257]),u+=le[ae+257],ae>7&&(pA(r,u,oe>>23&31),u+=r4[ae]);var ce=oe&31;s1(r,u,Ae[ce]),u+=ue[ce],ce>3&&(s1(r,u,oe>>5&8191),u+=a4[ce])}else s1(r,u,ee[oe]),u+=le[oe]}return s1(r,u,ee[256]),u+le[256]},vee=new CB([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),RM=new Ho(0),bee=function(t,r,a,s,i,o){var l=o.z||t.length,c=new Ho(s+l+5*(1+Math.ceil(l/7e3))+i),d=c.subarray(s,c.length-i),f=o.l,u=(o.r||0)&7;if(r){u&&(d[0]=o.r>>3);for(var m=vee[r-1],p=m>>13,g=m&8191,v=(1<<a)-1,y=o.p||new Nc(32768),b=o.h||new Nc(v+1),j=Math.ceil(a/3),N=2*j,S=function(ge){return(t[ge]^t[ge+1]<<j^t[ge+2]<<N)&v},B=new CB(25e3),I=new Nc(288),F=new Nc(32),O=0,k=0,V=o.i||0,Q=0,H=o.w||0,M=0;V+2<l;++V){var K=S(V),q=V&32767,re=b[K];if(y[q]=re,b[K]=q,H<=V){var ee=l-V;if((O>7e3||Q>24576)&&(ee>423||!f)){u=II(t,d,0,B,I,F,k,Q,M,V-M,u),Q=O=k=0,M=V;for(var le=0;le<286;++le)I[le]=0;for(var le=0;le<30;++le)F[le]=0}var Ae=2,ue=0,se=g,ve=q-re&32767;if(ee>2&&K==S(V-ve))for(var _=Math.min(p,ee)-1,z=Math.min(32767,V),ae=Math.min(258,ee);ve<=z&&--se&&q!=re;){if(t[V+Ae]==t[V+Ae-ve]){for(var oe=0;oe<ae&&t[V+oe]==t[V+oe-ve];++oe);if(oe>Ae){if(Ae=oe,ue=ve,oe>_)break;for(var ce=Math.min(ve,oe-2),me=0,le=0;le<ce;++le){var he=V-ve+le&32767,te=y[he],J=he-te&32767;J>me&&(me=J,re=he)}}}q=re,re=y[q],ve+=q-re&32767}if(ue){B[Q++]=268435456|mC[Ae]<<18|TI[ue];var X=mC[Ae]&31,xe=TI[ue]&31;k+=r4[X]+a4[xe],++I[257+X],++F[xe],H=V+Ae,++O}else B[Q++]=t[V],++I[t[V]]}}for(V=Math.max(V,H);V<l;++V)B[Q++]=t[V],++I[t[V]];u=II(t,d,f,B,I,F,k,Q,M,V-M,u),f||(o.r=u&7|d[u/8|0]<<3,u-=7,o.h=b,o.p=y,o.i=V,o.w=H)}else{for(var V=o.w||0;V<l+f;V+=65535){var Ne=V+65535;Ne>=l&&(d[u/8|0]=f,Ne=l),u=UM(d,u+1,t.subarray(V,Ne))}o.i=l}return MM(c,0,s+BB(u)+i)},QM=function(){var t=1,r=0;return{p:function(a){for(var s=t,i=r,o=a.length|0,l=0;l!=o;){for(var c=Math.min(l+2655,o);l<c;++l)i+=s+=a[l];s=(s&65535)+15*(s>>16),i=(i&65535)+15*(i>>16)}t=s,r=i},d:function(){return t%=65521,r%=65521,(t&255)<<24|(t&65280)<<8|(r&255)<<8|r>>8}}},wee=function(t,r,a,s,i){if(!i&&(i={l:1},r.dictionary)){var o=r.dictionary.subarray(-32768),l=new Ho(o.length+t.length);l.set(o),l.set(t,o.length),t=l,i.w=o.length}return bee(t,r.level==null?6:r.level,r.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+r.mem,a,s,i)},HM=function(t,r,a){for(;a;++r)t[r]=a,a>>>=8},jee=function(t,r){var a=r.level,s=a==0?0:a<6?1:a==9?3:2;if(t[0]=120,t[1]=s<<6|(r.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,r.dictionary){var i=QM();i.p(r.dictionary),HM(t,2,i.d())}},Nee=function(t,r){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&hu(6,"invalid zlib data"),(t[1]>>5&1)==1&&hu(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function xC(t,r){r||(r={});var a=QM();a.p(t);var s=wee(t,r,r.dictionary?6:2,4);return jee(s,r),HM(s,s.length-4,a.d()),s}function See(t,r){return yee(t.subarray(Nee(t),-4),{i:2},r,r)}var Cee=typeof TextDecoder<"u"&&new TextDecoder,Bee=0;try{Cee.decode(RM,{stream:!0}),Bee=1}catch{}var aa=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function eN(){aa.console&&typeof aa.console.log=="function"&&aa.console.log.apply(aa.console,arguments)}var Ls={log:eN,warn:function(t){aa.console&&(typeof aa.console.warn=="function"?aa.console.warn.apply(aa.console,arguments):eN.call(null,arguments))},error:function(t){aa.console&&(typeof aa.console.error=="function"?aa.console.error.apply(aa.console,arguments):eN(t))}};function tN(t,r,a){var s=new XMLHttpRequest;s.open("GET",t),s.responseType="blob",s.onload=function(){h0(s.response,r,a)},s.onerror=function(){Ls.error("could not download file")},s.send()}function kI(t){var r=new XMLHttpRequest;r.open("HEAD",t,!1);try{r.send()}catch{}return r.status>=200&&r.status<=299}function cb(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(r)}}var F1,yC,h0=aa.saveAs||((typeof window>"u"?"undefined":gs(window))!=="object"||window!==aa?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,r,a){var s=aa.URL||aa.webkitURL,i=document.createElement("a");r=r||t.name||"download",i.download=r,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?kI(i.href)?tN(t,r,a):cb(i,i.target="_blank"):cb(i)):(i.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(i.href)},4e4),setTimeout(function(){cb(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,r,a){if(r=r||t.name||"download",typeof t=="string")if(kI(t))tN(t,r,a);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout(function(){cb(s)})}else navigator.msSaveOrOpenBlob(function(i,o){return o===void 0?o={autoBom:!1}:gs(o)!=="object"&&(Ls.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,a),r)}:function(t,r,a,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof t=="string")return tN(t,r,a);var i=t.type==="application/octet-stream",o=/constructor/i.test(aa.HTMLElement)||aa.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&o)&&(typeof FileReader>"u"?"undefined":gs(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var u=c.result;u=l?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=u:location=u,s=null},c.readAsDataURL(t)}else{var d=aa.URL||aa.webkitURL,f=d.createObjectURL(t);s?s.location=f:location.href=f,s=null,setTimeout(function(){d.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function $M(t){var r;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var a=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],s=0;s<a.length;s++){var i=a[s].re,o=a[s].process,l=i.exec(t);l&&(r=o(l),this.r=r[0],this.g=r[1],this.b=r[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),d=this.g.toString(16),f=this.b.toString(16);return c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),f.length==1&&(f="0"+f),"#"+c+d+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function rN(t,r){var a=t[0],s=t[1],i=t[2],o=t[3];a=Po(a,s,i,o,r[0],7,-680876936),o=Po(o,a,s,i,r[1],12,-389564586),i=Po(i,o,a,s,r[2],17,606105819),s=Po(s,i,o,a,r[3],22,-1044525330),a=Po(a,s,i,o,r[4],7,-176418897),o=Po(o,a,s,i,r[5],12,1200080426),i=Po(i,o,a,s,r[6],17,-1473231341),s=Po(s,i,o,a,r[7],22,-45705983),a=Po(a,s,i,o,r[8],7,1770035416),o=Po(o,a,s,i,r[9],12,-1958414417),i=Po(i,o,a,s,r[10],17,-42063),s=Po(s,i,o,a,r[11],22,-1990404162),a=Po(a,s,i,o,r[12],7,1804603682),o=Po(o,a,s,i,r[13],12,-40341101),i=Po(i,o,a,s,r[14],17,-1502002290),a=Oo(a,s=Po(s,i,o,a,r[15],22,1236535329),i,o,r[1],5,-165796510),o=Oo(o,a,s,i,r[6],9,-1069501632),i=Oo(i,o,a,s,r[11],14,643717713),s=Oo(s,i,o,a,r[0],20,-373897302),a=Oo(a,s,i,o,r[5],5,-701558691),o=Oo(o,a,s,i,r[10],9,38016083),i=Oo(i,o,a,s,r[15],14,-660478335),s=Oo(s,i,o,a,r[4],20,-405537848),a=Oo(a,s,i,o,r[9],5,568446438),o=Oo(o,a,s,i,r[14],9,-1019803690),i=Oo(i,o,a,s,r[3],14,-187363961),s=Oo(s,i,o,a,r[8],20,1163531501),a=Oo(a,s,i,o,r[13],5,-1444681467),o=Oo(o,a,s,i,r[2],9,-51403784),i=Oo(i,o,a,s,r[7],14,1735328473),a=Do(a,s=Oo(s,i,o,a,r[12],20,-1926607734),i,o,r[5],4,-378558),o=Do(o,a,s,i,r[8],11,-2022574463),i=Do(i,o,a,s,r[11],16,1839030562),s=Do(s,i,o,a,r[14],23,-35309556),a=Do(a,s,i,o,r[1],4,-1530992060),o=Do(o,a,s,i,r[4],11,1272893353),i=Do(i,o,a,s,r[7],16,-155497632),s=Do(s,i,o,a,r[10],23,-1094730640),a=Do(a,s,i,o,r[13],4,681279174),o=Do(o,a,s,i,r[0],11,-358537222),i=Do(i,o,a,s,r[3],16,-722521979),s=Do(s,i,o,a,r[6],23,76029189),a=Do(a,s,i,o,r[9],4,-640364487),o=Do(o,a,s,i,r[12],11,-421815835),i=Do(i,o,a,s,r[15],16,530742520),a=Lo(a,s=Do(s,i,o,a,r[2],23,-995338651),i,o,r[0],6,-198630844),o=Lo(o,a,s,i,r[7],10,1126891415),i=Lo(i,o,a,s,r[14],15,-1416354905),s=Lo(s,i,o,a,r[5],21,-57434055),a=Lo(a,s,i,o,r[12],6,1700485571),o=Lo(o,a,s,i,r[3],10,-1894986606),i=Lo(i,o,a,s,r[10],15,-1051523),s=Lo(s,i,o,a,r[1],21,-2054922799),a=Lo(a,s,i,o,r[8],6,1873313359),o=Lo(o,a,s,i,r[15],10,-30611744),i=Lo(i,o,a,s,r[6],15,-1560198380),s=Lo(s,i,o,a,r[13],21,1309151649),a=Lo(a,s,i,o,r[4],6,-145523070),o=Lo(o,a,s,i,r[11],10,-1120210379),i=Lo(i,o,a,s,r[2],15,718787259),s=Lo(s,i,o,a,r[9],21,-343485551),t[0]=em(a,t[0]),t[1]=em(s,t[1]),t[2]=em(i,t[2]),t[3]=em(o,t[3])}function s4(t,r,a,s,i,o){return r=em(em(r,t),em(s,o)),em(r<<i|r>>>32-i,a)}function Po(t,r,a,s,i,o,l){return s4(r&a|~r&s,t,r,i,o,l)}function Oo(t,r,a,s,i,o,l){return s4(r&s|a&~s,t,r,i,o,l)}function Do(t,r,a,s,i,o,l){return s4(r^a^s,t,r,i,o,l)}function Lo(t,r,a,s,i,o,l){return s4(a^(r|~s),t,r,i,o,l)}function zM(t){var r,a=t.length,s=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=t.length;r+=64)rN(s,Eee(t.substring(r-64,r)));t=t.substring(r-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<t.length;r++)i[r>>2]|=t.charCodeAt(r)<<(r%4<<3);if(i[r>>2]|=128<<(r%4<<3),r>55)for(rN(s,i),r=0;r<16;r++)i[r]=0;return i[14]=8*a,rN(s,i),s}function Eee(t){var r,a=[];for(r=0;r<64;r+=4)a[r>>2]=t.charCodeAt(r)+(t.charCodeAt(r+1)<<8)+(t.charCodeAt(r+2)<<16)+(t.charCodeAt(r+3)<<24);return a}F1=aa.atob.bind(aa),yC=aa.btoa.bind(aa);var _I="0123456789abcdef".split("");function Tee(t){for(var r="",a=0;a<4;a++)r+=_I[t>>8*a+4&15]+_I[t>>8*a&15];return r}function Fee(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function vC(t){return zM(t).map(Fee).join("")}var Iee=function(t){for(var r=0;r<t.length;r++)t[r]=Tee(t[r]);return t.join("")}(zM("hello"))!="5d41402abc4b2a76b9719d911017c592";function em(t,r){if(Iee){var a=(65535&t)+(65535&r);return(t>>16)+(r>>16)+(a>>16)<<16|65535&a}return t+r&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function bC(t,r){var a,s,i,o;if(t!==a){for(var l=(i=t,o=1+(256/t.length>>0),new Array(o+1).join(i)),c=[],d=0;d<256;d++)c[d]=d;var f=0;for(d=0;d<256;d++){var u=c[d];f=(f+u+l.charCodeAt(d))%256,c[d]=c[f],c[f]=u}a=t,s=c}else c=s;var m=r.length,p=0,g=0,v="";for(d=0;d<m;d++)g=(g+(u=c[p=(p+1)%256]))%256,c[p]=c[g],c[g]=u,l=c[(c[p]+c[g])%256],v+=String.fromCharCode(r.charCodeAt(d)^l);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var PI={print:4,modify:8,copy:16,"annot-forms":32};function cg(t,r,a,s){this.v=1,this.r=2;var i=192;t.forEach(function(c){if(PI.perm!==void 0)throw new Error("Invalid permission: "+c);i+=PI[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(r+this.padding).substr(0,32),l=(a+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,l),this.P=-(1+(255^i)),this.encryptionKey=vC(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=bC(this.encryptionKey,this.padding)}function dg(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var r="",a=t.length,s=0;s<a;s++){var i=t.charCodeAt(s);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?r+="#"+("0"+i.toString(16)).slice(-2):r+=t[s]}return r}function OI(t){if(gs(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(a,s,i){if(i=i||!1,typeof a!="string"||typeof s!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(a)||(r[a]={});var o=Math.random().toString(35);return r[a][o]=[s,!!i],o},this.unsubscribe=function(a){for(var s in r)if(r[s][a])return delete r[s][a],Object.keys(r[s]).length===0&&delete r[s],!0;return!1},this.publish=function(a){if(r.hasOwnProperty(a)){var s=Array.prototype.slice.call(arguments,1),i=[];for(var o in r[a]){var l=r[a][o];try{l[0].apply(t,s)}catch(c){aa.console&&Ls.error("jsPDF PubSub Error",c.message,c)}l[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function cy(t){if(!(this instanceof cy))return new cy(t);var r="opacity,stroke-opacity".split(",");for(var a in t)t.hasOwnProperty(a)&&r.indexOf(a)>=0&&(this[a]=t[a]);this.id="",this.objectNumber=-1}function VM(t,r){this.gState=t,this.matrix=r,this.id="",this.objectNumber=-1}function Yh(t,r,a,s,i){if(!(this instanceof Yh))return new Yh(t,r,a,s,i);this.type=t==="axial"?2:3,this.coords=r,this.colors=a,VM.call(this,s,i)}function b0(t,r,a,s,i){if(!(this instanceof b0))return new b0(t,r,a,s,i);this.boundingBox=t,this.xStep=r,this.yStep=a,this.stream="",this.cloneIndex=0,VM.call(this,s,i)}function Kr(t){var r,a=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],i=arguments[2],o=arguments[3],l=[],c=1,d=16,f="S",u=null;gs(t=t||{})==="object"&&(a=t.orientation,s=t.unit||s,i=t.format||i,o=t.compress||t.compressPdf||o,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),c=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(r=t.precision),t.floatPrecision!==void 0&&(d=t.floatPrecision),f=t.defaultPathOperation||"S"),l=t.filters||(o===!0?["FlateEncode"]:l),s=s||"mm",a=(""+(a||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,p={},g={internal:{},__private__:{}};g.__private__.PubSub=OI;var v="1.3",y=g.__private__.getPdfVersion=function(){return v};g.__private__.setPdfVersion=function(W){v=W};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return b};var j=g.__private__.getPageFormat=function(W){return b[W]};i=i||"a4";var N={COMPAT:"compat",ADVANCED:"advanced"},S=N.COMPAT;function B(){this.saveGraphicsState(),Y(new at(_e,0,0,-_e,0,Mc()*_e).toString()+" cm"),this.setFontSize(this.getFontSize()/_e),f="n",S=N.ADVANCED}function I(){this.restoreGraphicsState(),f="S",S=N.COMPAT}var F=g.__private__.combineFontStyleAndFontWeight=function(W,Ie){if(W=="bold"&&Ie=="normal"||W=="bold"&&Ie==400||W=="normal"&&Ie=="italic"||W=="bold"&&Ie=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Ie&&(W=Ie==400||Ie==="normal"?W==="italic"?"italic":"normal":Ie!=700&&Ie!=="bold"||W!=="normal"?(Ie==700?"bold":Ie)+""+W:"bold"),W};g.advancedAPI=function(W){var Ie=S===N.COMPAT;return Ie&&B.call(this),typeof W!="function"||(W(this),Ie&&I.call(this)),this},g.compatAPI=function(W){var Ie=S===N.ADVANCED;return Ie&&I.call(this),typeof W!="function"||(W(this),Ie&&B.call(this)),this},g.isAdvancedAPI=function(){return S===N.ADVANCED};var O,k=function(W){if(S!==N.ADVANCED)throw new Error(W+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=g.roundToPrecision=g.__private__.roundToPrecision=function(W,Ie){var tt=r||Ie;if(isNaN(W)||isNaN(tt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return W.toFixed(tt).replace(/0+$/,"")};O=g.hpf=g.__private__.hpf=typeof d=="number"?function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.hpf");return V(W,d)}:d==="smart"?function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.hpf");return V(W,W>-1&&W<1?16:5)}:function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.hpf");return V(W,16)};var Q=g.f2=g.__private__.f2=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.f2");return V(W,2)},H=g.__private__.f3=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.f3");return V(W,3)},M=g.scale=g.__private__.scale=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.scale");return S===N.COMPAT?W*_e:S===N.ADVANCED?W:void 0},K=function(W){return S===N.COMPAT?Mc()-W:S===N.ADVANCED?W:void 0},q=function(W){return M(K(W))};g.__private__.setPrecision=g.setPrecision=function(W){typeof parseInt(W,10)=="number"&&(r=parseInt(W,10))};var re,ee="00000000000000000000000000000000",le=g.__private__.getFileId=function(){return ee},Ae=g.__private__.setFileId=function(W){return ee=W!==void 0&&/^[a-fA-F0-9]{32}$/.test(W)?W.toUpperCase():ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Cn=new cg(u.userPermissions,u.userPassword,u.ownerPassword,ee)),ee};g.setFileId=function(W){return Ae(W),this},g.getFileId=function(){return le()};var ue=g.__private__.convertDateToPDFDate=function(W){var Ie=W.getTimezoneOffset(),tt=Ie<0?"+":"-",ut=Math.floor(Math.abs(Ie/60)),Ct=Math.abs(Ie%60),$t=[tt,ae(ut),"'",ae(Ct),"'"].join("");return["D:",W.getFullYear(),ae(W.getMonth()+1),ae(W.getDate()),ae(W.getHours()),ae(W.getMinutes()),ae(W.getSeconds()),$t].join("")},se=g.__private__.convertPDFDateToDate=function(W){var Ie=parseInt(W.substr(2,4),10),tt=parseInt(W.substr(6,2),10)-1,ut=parseInt(W.substr(8,2),10),Ct=parseInt(W.substr(10,2),10),$t=parseInt(W.substr(12,2),10),lr=parseInt(W.substr(14,2),10);return new Date(Ie,tt,ut,Ct,$t,lr,0)},ve=g.__private__.setCreationDate=function(W){var Ie;if(W===void 0&&(W=new Date),W instanceof Date)Ie=ue(W);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(W))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Ie=W}return re=Ie},_=g.__private__.getCreationDate=function(W){var Ie=re;return W==="jsDate"&&(Ie=se(re)),Ie};g.setCreationDate=function(W){return ve(W),this},g.getCreationDate=function(W){return _(W)};var z,ae=g.__private__.padd2=function(W){return("0"+parseInt(W)).slice(-2)},oe=g.__private__.padd2Hex=function(W){return("00"+(W=W.toString())).substr(W.length)},ce=0,me=[],he=[],te=0,J=[],X=[],xe=!1,Ne=he,ge=function(){ce=0,te=0,he=[],me=[],J=[],ze=Mr(),Ke=Mr()};g.__private__.setCustomOutputDestination=function(W){xe=!0,Ne=W};var pe=function(W){xe||(Ne=W)};g.__private__.resetCustomOutputDestination=function(){xe=!1,Ne=he};var Y=g.__private__.out=function(W){return W=W.toString(),te+=W.length+1,Ne.push(W),Ne},Le=g.__private__.write=function(W){return Y(arguments.length===1?W.toString():Array.prototype.join.call(arguments," "))},ie=g.__private__.getArrayBuffer=function(W){for(var Ie=W.length,tt=new ArrayBuffer(Ie),ut=new Uint8Array(tt);Ie--;)ut[Ie]=W.charCodeAt(Ie);return tt},de=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return de};var je=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(W){return je=S===N.ADVANCED?W/_e:W,this};var ye,Ce=g.__private__.getFontSize=g.getFontSize=function(){return S===N.COMPAT?je:je*_e},be=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(W){return be=W,this},g.__private__.getR2L=g.getR2L=function(){return be};var Ee,Qe=g.__private__.setZoomMode=function(W){var Ie=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(W))ye=W;else if(isNaN(W)){if(Ie.indexOf(W)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+W+'" is not recognized.');ye=W}else ye=parseInt(W,10)};g.__private__.getZoomMode=function(){return ye};var rt,Te=g.__private__.setPageMode=function(W){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(W)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+W+'" is not recognized.');Ee=W};g.__private__.getPageMode=function(){return Ee};var nt=g.__private__.setLayoutMode=function(W){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(W)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+W+'" is not recognized.');rt=W};g.__private__.getLayoutMode=function(){return rt},g.__private__.setDisplayMode=g.setDisplayMode=function(W,Ie,tt){return Qe(W),nt(Ie),Te(tt),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(W){if(Object.keys(xt).indexOf(W)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[W]},g.__private__.getDocumentProperties=function(){return xt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(W){for(var Ie in xt)xt.hasOwnProperty(Ie)&&W[Ie]&&(xt[Ie]=W[Ie]);return this},g.__private__.setDocumentProperty=function(W,Ie){if(Object.keys(xt).indexOf(W)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[W]=Ie};var it,_e,dt,yt,rr,_t={},Ve={},Se=[],ot={},Ot={},vt={},Ze={},He=null,ct=0,ft=[],Wt=new OI(g),gr=t.hotfixes||[],Fr={},Ta={},pa=[],at=function W(Ie,tt,ut,Ct,$t,lr){if(!(this instanceof W))return new W(Ie,tt,ut,Ct,$t,lr);isNaN(Ie)&&(Ie=1),isNaN(tt)&&(tt=0),isNaN(ut)&&(ut=0),isNaN(Ct)&&(Ct=1),isNaN($t)&&($t=0),isNaN(lr)&&(lr=0),this._matrix=[Ie,tt,ut,Ct,$t,lr]};Object.defineProperty(at.prototype,"sx",{get:function(){return this._matrix[0]},set:function(W){this._matrix[0]=W}}),Object.defineProperty(at.prototype,"shy",{get:function(){return this._matrix[1]},set:function(W){this._matrix[1]=W}}),Object.defineProperty(at.prototype,"shx",{get:function(){return this._matrix[2]},set:function(W){this._matrix[2]=W}}),Object.defineProperty(at.prototype,"sy",{get:function(){return this._matrix[3]},set:function(W){this._matrix[3]=W}}),Object.defineProperty(at.prototype,"tx",{get:function(){return this._matrix[4]},set:function(W){this._matrix[4]=W}}),Object.defineProperty(at.prototype,"ty",{get:function(){return this._matrix[5]},set:function(W){this._matrix[5]=W}}),Object.defineProperty(at.prototype,"a",{get:function(){return this._matrix[0]},set:function(W){this._matrix[0]=W}}),Object.defineProperty(at.prototype,"b",{get:function(){return this._matrix[1]},set:function(W){this._matrix[1]=W}}),Object.defineProperty(at.prototype,"c",{get:function(){return this._matrix[2]},set:function(W){this._matrix[2]=W}}),Object.defineProperty(at.prototype,"d",{get:function(){return this._matrix[3]},set:function(W){this._matrix[3]=W}}),Object.defineProperty(at.prototype,"e",{get:function(){return this._matrix[4]},set:function(W){this._matrix[4]=W}}),Object.defineProperty(at.prototype,"f",{get:function(){return this._matrix[5]},set:function(W){this._matrix[5]=W}}),Object.defineProperty(at.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(at.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(at.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(at.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),at.prototype.join=function(W){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(W)},at.prototype.multiply=function(W){var Ie=W.sx*this.sx+W.shy*this.shx,tt=W.sx*this.shy+W.shy*this.sy,ut=W.shx*this.sx+W.sy*this.shx,Ct=W.shx*this.shy+W.sy*this.sy,$t=W.tx*this.sx+W.ty*this.shx+this.tx,lr=W.tx*this.shy+W.ty*this.sy+this.ty;return new at(Ie,tt,ut,Ct,$t,lr)},at.prototype.decompose=function(){var W=this.sx,Ie=this.shy,tt=this.shx,ut=this.sy,Ct=this.tx,$t=this.ty,lr=Math.sqrt(W*W+Ie*Ie),Sr=(W/=lr)*tt+(Ie/=lr)*ut;tt-=W*Sr,ut-=Ie*Sr;var Dr=Math.sqrt(tt*tt+ut*ut);return Sr/=Dr,W*(ut/=Dr)<Ie*(tt/=Dr)&&(W=-W,Ie=-Ie,Sr=-Sr,lr=-lr),{scale:new at(lr,0,0,Dr,0,0),translate:new at(1,0,0,1,Ct,$t),rotate:new at(W,Ie,-Ie,W,0,0),skew:new at(1,0,Sr,1,0,0)}},at.prototype.toString=function(W){return this.join(" ")},at.prototype.inversed=function(){var W=this.sx,Ie=this.shy,tt=this.shx,ut=this.sy,Ct=this.tx,$t=this.ty,lr=1/(W*ut-Ie*tt),Sr=ut*lr,Dr=-Ie*lr,ta=-tt*lr,Jr=W*lr;return new at(Sr,Dr,ta,Jr,-Sr*Ct-ta*$t,-Dr*Ct-Jr*$t)},at.prototype.applyToPoint=function(W){var Ie=W.x*this.sx+W.y*this.shx+this.tx,tt=W.x*this.shy+W.y*this.sy+this.ty;return new Ou(Ie,tt)},at.prototype.applyToRectangle=function(W){var Ie=this.applyToPoint(W),tt=this.applyToPoint(new Ou(W.x+W.w,W.y+W.h));return new Rf(Ie.x,Ie.y,tt.x-Ie.x,tt.y-Ie.y)},at.prototype.clone=function(){var W=this.sx,Ie=this.shy,tt=this.shx,ut=this.sy,Ct=this.tx,$t=this.ty;return new at(W,Ie,tt,ut,Ct,$t)},g.Matrix=at;var Ht=g.matrixMult=function(W,Ie){return Ie.multiply(W)},Gt=new at(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Gt;var dr=function(W,Ie){if(!Ot[W]){var tt=(Ie instanceof Yh?"Sh":"P")+(Object.keys(ot).length+1).toString(10);Ie.id=tt,Ot[W]=tt,ot[tt]=Ie,Wt.publish("addPattern",Ie)}};g.ShadingPattern=Yh,g.TilingPattern=b0,g.addShadingPattern=function(W,Ie){return k("addShadingPattern()"),dr(W,Ie),this},g.beginTilingPattern=function(W){k("beginTilingPattern()"),Du(W.boundingBox[0],W.boundingBox[1],W.boundingBox[2]-W.boundingBox[0],W.boundingBox[3]-W.boundingBox[1],W.matrix)},g.endTilingPattern=function(W,Ie){k("endTilingPattern()"),Ie.stream=X[z].join(`
`),dr(W,Ie),Wt.publish("endTilingPattern",Ie),pa.pop().restore()};var Jt=g.__private__.newObject=function(){var W=Mr();return ke(W,!0),W},Mr=g.__private__.newObjectDeferred=function(){return ce++,me[ce]=function(){return te},ce},ke=function(W,Ie){return Ie=typeof Ie=="boolean"&&Ie,me[W]=te,Ie&&Y(W+" 0 obj"),W},qe=g.__private__.newAdditionalObject=function(){var W={objId:Mr(),content:""};return J.push(W),W},ze=Mr(),Ke=Mr(),Je=g.__private__.decodeColorString=function(W){var Ie=W.split(" ");if(Ie.length!==2||Ie[1]!=="g"&&Ie[1]!=="G")Ie.length===5&&(Ie[4]==="k"||Ie[4]==="K")&&(Ie=[(1-Ie[0])*(1-Ie[3]),(1-Ie[1])*(1-Ie[3]),(1-Ie[2])*(1-Ie[3]),"r"]);else{var tt=parseFloat(Ie[0]);Ie=[tt,tt,tt,"r"]}for(var ut="#",Ct=0;Ct<3;Ct++)ut+=("0"+Math.floor(255*parseFloat(Ie[Ct])).toString(16)).slice(-2);return ut},et=g.__private__.encodeColorString=function(W){var Ie;typeof W=="string"&&(W={ch1:W});var tt=W.ch1,ut=W.ch2,Ct=W.ch3,$t=W.ch4,lr=W.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof tt=="string"&&tt.charAt(0)!=="#"){var Sr=new $M(tt);if(Sr.ok)tt=Sr.toHex();else if(!/^\d*\.?\d*$/.test(tt))throw new Error('Invalid color "'+tt+'" passed to jsPDF.encodeColorString.')}if(typeof tt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(tt)&&(tt="#"+tt[1]+tt[1]+tt[2]+tt[2]+tt[3]+tt[3]),typeof tt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(tt)){var Dr=parseInt(tt.substr(1),16);tt=Dr>>16&255,ut=Dr>>8&255,Ct=255&Dr}if(ut===void 0||$t===void 0&&tt===ut&&ut===Ct)if(typeof tt=="string")Ie=tt+" "+lr[0];else switch(W.precision){case 2:Ie=Q(tt/255)+" "+lr[0];break;case 3:default:Ie=H(tt/255)+" "+lr[0]}else if($t===void 0||gs($t)==="object"){if($t&&!isNaN($t.a)&&$t.a===0)return Ie=["1.","1.","1.",lr[1]].join(" ");if(typeof tt=="string")Ie=[tt,ut,Ct,lr[1]].join(" ");else switch(W.precision){case 2:Ie=[Q(tt/255),Q(ut/255),Q(Ct/255),lr[1]].join(" ");break;default:case 3:Ie=[H(tt/255),H(ut/255),H(Ct/255),lr[1]].join(" ")}}else if(typeof tt=="string")Ie=[tt,ut,Ct,$t,lr[2]].join(" ");else switch(W.precision){case 2:Ie=[Q(tt),Q(ut),Q(Ct),Q($t),lr[2]].join(" ");break;case 3:default:Ie=[H(tt),H(ut),H(Ct),H($t),lr[2]].join(" ")}return Ie},St=g.__private__.getFilters=function(){return l},Me=g.__private__.putStream=function(W){var Ie=(W=W||{}).data||"",tt=W.filters||St(),ut=W.alreadyAppliedFilters||[],Ct=W.addLength1||!1,$t=Ie.length,lr=W.objectId,Sr=function(Ys){return Ys};if(u!==null&&lr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Sr=Cn.encryptor(lr,0));var Dr={};tt===!0&&(tt=["FlateEncode"]);var ta=W.additionalKeyValues||[],Jr=(Dr=Kr.API.processDataByFilters!==void 0?Kr.API.processDataByFilters(Ie,tt):{data:Ie,reverseChain:[]}).reverseChain+(Array.isArray(ut)?ut.join(" "):ut.toString());if(Dr.data.length!==0&&(ta.push({key:"Length",value:Dr.data.length}),Ct===!0&&ta.push({key:"Length1",value:$t})),Jr.length!=0)if(Jr.split("/").length-1==1)ta.push({key:"Filter",value:Jr});else{ta.push({key:"Filter",value:"["+Jr+"]"});for(var ba=0;ba<ta.length;ba+=1)if(ta[ba].key==="DecodeParms"){for(var Va=[],Ka=0;Ka<Dr.reverseChain.split("/").length-1;Ka+=1)Va.push("null");Va.push(ta[ba].value),ta[ba].value="["+Va.join(" ")+"]"}}Y("<<");for(var Gr=0;Gr<ta.length;Gr++)Y("/"+ta[Gr].key+" "+ta[Gr].value);Y(">>"),Dr.data.length!==0&&(Y("stream"),Y(Sr(Dr.data)),Y("endstream"))},We=g.__private__.putPage=function(W){var Ie=W.number,tt=W.data,ut=W.objId,Ct=W.contentsObjId;ke(ut,!0),Y("<</Type /Page"),Y("/Parent "+W.rootDictionaryObjId+" 0 R"),Y("/Resources "+W.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(O(W.mediaBox.bottomLeftX))+" "+parseFloat(O(W.mediaBox.bottomLeftY))+" "+O(W.mediaBox.topRightX)+" "+O(W.mediaBox.topRightY)+"]"),W.cropBox!==null&&Y("/CropBox ["+O(W.cropBox.bottomLeftX)+" "+O(W.cropBox.bottomLeftY)+" "+O(W.cropBox.topRightX)+" "+O(W.cropBox.topRightY)+"]"),W.bleedBox!==null&&Y("/BleedBox ["+O(W.bleedBox.bottomLeftX)+" "+O(W.bleedBox.bottomLeftY)+" "+O(W.bleedBox.topRightX)+" "+O(W.bleedBox.topRightY)+"]"),W.trimBox!==null&&Y("/TrimBox ["+O(W.trimBox.bottomLeftX)+" "+O(W.trimBox.bottomLeftY)+" "+O(W.trimBox.topRightX)+" "+O(W.trimBox.topRightY)+"]"),W.artBox!==null&&Y("/ArtBox ["+O(W.artBox.bottomLeftX)+" "+O(W.artBox.bottomLeftY)+" "+O(W.artBox.topRightX)+" "+O(W.artBox.topRightY)+"]"),typeof W.userUnit=="number"&&W.userUnit!==1&&Y("/UserUnit "+W.userUnit),Wt.publish("putPage",{objId:ut,pageContext:ft[Ie],pageNumber:Ie,page:tt}),Y("/Contents "+Ct+" 0 R"),Y(">>"),Y("endobj");var $t=tt.join(`
`);return S===N.ADVANCED&&($t+=`
Q`),ke(Ct,!0),Me({data:$t,filters:St(),objectId:Ct}),Y("endobj"),ut},st=g.__private__.putPages=function(){var W,Ie,tt=[];for(W=1;W<=ct;W++)ft[W].objId=Mr(),ft[W].contentsObjId=Mr();for(W=1;W<=ct;W++)tt.push(We({number:W,data:X[W],objId:ft[W].objId,contentsObjId:ft[W].contentsObjId,mediaBox:ft[W].mediaBox,cropBox:ft[W].cropBox,bleedBox:ft[W].bleedBox,trimBox:ft[W].trimBox,artBox:ft[W].artBox,userUnit:ft[W].userUnit,rootDictionaryObjId:ze,resourceDictionaryObjId:Ke}));ke(ze,!0),Y("<</Type /Pages");var ut="/Kids [";for(Ie=0;Ie<ct;Ie++)ut+=tt[Ie]+" 0 R ";Y(ut+"]"),Y("/Count "+ct),Y(">>"),Y("endobj"),Wt.publish("postPutPages")},jt=function(W){Wt.publish("putFont",{font:W,out:Y,newObject:Jt,putStream:Me}),W.isAlreadyPutted!==!0&&(W.objectNumber=Jt(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+dg(W.postScriptName)),Y("/Subtype /Type1"),typeof W.encoding=="string"&&Y("/Encoding /"+W.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},Yt=function(){for(var W in _t)_t.hasOwnProperty(W)&&(m===!1||m===!0&&p.hasOwnProperty(W))&&jt(_t[W])},tr=function(W){W.objectNumber=Jt();var Ie=[];Ie.push({key:"Type",value:"/XObject"}),Ie.push({key:"Subtype",value:"/Form"}),Ie.push({key:"BBox",value:"["+[O(W.x),O(W.y),O(W.x+W.width),O(W.y+W.height)].join(" ")+"]"}),Ie.push({key:"Matrix",value:"["+W.matrix.toString()+"]"});var tt=W.pages[1].join(`
`);Me({data:tt,additionalKeyValues:Ie,objectId:W.objectNumber}),Y("endobj")},or=function(){for(var W in Fr)Fr.hasOwnProperty(W)&&tr(Fr[W])},ur=function(W,Ie){var tt,ut=[],Ct=1/(Ie-1);for(tt=0;tt<1;tt+=Ct)ut.push(tt);if(ut.push(1),W[0].offset!=0){var $t={offset:0,color:W[0].color};W.unshift($t)}if(W[W.length-1].offset!=1){var lr={offset:1,color:W[W.length-1].color};W.push(lr)}for(var Sr="",Dr=0,ta=0;ta<ut.length;ta++){for(tt=ut[ta];tt>W[Dr+1].offset;)Dr++;var Jr=W[Dr].offset,ba=(tt-Jr)/(W[Dr+1].offset-Jr),Va=W[Dr].color,Ka=W[Dr+1].color;Sr+=oe(Math.round((1-ba)*Va[0]+ba*Ka[0]).toString(16))+oe(Math.round((1-ba)*Va[1]+ba*Ka[1]).toString(16))+oe(Math.round((1-ba)*Va[2]+ba*Ka[2]).toString(16))}return Sr.trim()},jr=function(W,Ie){Ie||(Ie=21);var tt=Jt(),ut=ur(W.colors,Ie),Ct=[];Ct.push({key:"FunctionType",value:"0"}),Ct.push({key:"Domain",value:"[0.0 1.0]"}),Ct.push({key:"Size",value:"["+Ie+"]"}),Ct.push({key:"BitsPerSample",value:"8"}),Ct.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ct.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Me({data:ut,additionalKeyValues:Ct,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:tt}),Y("endobj"),W.objectNumber=Jt(),Y("<< /ShadingType "+W.type),Y("/ColorSpace /DeviceRGB");var $t="/Coords ["+O(parseFloat(W.coords[0]))+" "+O(parseFloat(W.coords[1]))+" ";W.type===2?$t+=O(parseFloat(W.coords[2]))+" "+O(parseFloat(W.coords[3])):$t+=O(parseFloat(W.coords[2]))+" "+O(parseFloat(W.coords[3]))+" "+O(parseFloat(W.coords[4]))+" "+O(parseFloat(W.coords[5])),Y($t+="]"),W.matrix&&Y("/Matrix ["+W.matrix.toString()+"]"),Y("/Function "+tt+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},qr=function(W,Ie){var tt=Mr(),ut=Jt();Ie.push({resourcesOid:tt,objectOid:ut}),W.objectNumber=ut;var Ct=[];Ct.push({key:"Type",value:"/Pattern"}),Ct.push({key:"PatternType",value:"1"}),Ct.push({key:"PaintType",value:"1"}),Ct.push({key:"TilingType",value:"1"}),Ct.push({key:"BBox",value:"["+W.boundingBox.map(O).join(" ")+"]"}),Ct.push({key:"XStep",value:O(W.xStep)}),Ct.push({key:"YStep",value:O(W.yStep)}),Ct.push({key:"Resources",value:tt+" 0 R"}),W.matrix&&Ct.push({key:"Matrix",value:"["+W.matrix.toString()+"]"}),Me({data:W.stream,additionalKeyValues:Ct,objectId:W.objectNumber}),Y("endobj")},ga=function(W){var Ie;for(Ie in ot)ot.hasOwnProperty(Ie)&&(ot[Ie]instanceof Yh?jr(ot[Ie]):ot[Ie]instanceof b0&&qr(ot[Ie],W))},Oa=function(W){for(var Ie in W.objectNumber=Jt(),Y("<<"),W)switch(Ie){case"opacity":Y("/ca "+Q(W[Ie]));break;case"stroke-opacity":Y("/CA "+Q(W[Ie]))}Y(">>"),Y("endobj")},Ma=function(){var W;for(W in vt)vt.hasOwnProperty(W)&&Oa(vt[W])},Bi=function(){for(var W in Y("/XObject <<"),Fr)Fr.hasOwnProperty(W)&&Fr[W].objectNumber>=0&&Y("/"+W+" "+Fr[W].objectNumber+" 0 R");Wt.publish("putXobjectDict"),Y(">>")},Ei=function(){Cn.oid=Jt(),Y("<<"),Y("/Filter /Standard"),Y("/V "+Cn.v),Y("/R "+Cn.r),Y("/U <"+Cn.toHexString(Cn.U)+">"),Y("/O <"+Cn.toHexString(Cn.O)+">"),Y("/P "+Cn.P),Y(">>"),Y("endobj")},di=function(){for(var W in Y("/Font <<"),_t)_t.hasOwnProperty(W)&&(m===!1||m===!0&&p.hasOwnProperty(W))&&Y("/"+W+" "+_t[W].objectNumber+" 0 R");Y(">>")},Xi=function(){if(Object.keys(ot).length>0){for(var W in Y("/Shading <<"),ot)ot.hasOwnProperty(W)&&ot[W]instanceof Yh&&ot[W].objectNumber>=0&&Y("/"+W+" "+ot[W].objectNumber+" 0 R");Wt.publish("putShadingPatternDict"),Y(">>")}},ui=function(W){if(Object.keys(ot).length>0){for(var Ie in Y("/Pattern <<"),ot)ot.hasOwnProperty(Ie)&&ot[Ie]instanceof g.TilingPattern&&ot[Ie].objectNumber>=0&&ot[Ie].objectNumber<W&&Y("/"+Ie+" "+ot[Ie].objectNumber+" 0 R");Wt.publish("putTilingPatternDict"),Y(">>")}},Mn=function(){if(Object.keys(vt).length>0){var W;for(W in Y("/ExtGState <<"),vt)vt.hasOwnProperty(W)&&vt[W].objectNumber>=0&&Y("/"+W+" "+vt[W].objectNumber+" 0 R");Wt.publish("putGStateDict"),Y(">>")}},Rs=function(W){ke(W.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),di(),Xi(),ui(W.objectOid),Mn(),Bi(),Y(">>"),Y("endobj")},fi=function(){var W=[];Yt(),Ma(),or(),ga(W),Wt.publish("putResources"),W.forEach(Rs),Rs({resourcesOid:Ke,objectOid:Number.MAX_SAFE_INTEGER}),Wt.publish("postPutResources")},kf=function(){Wt.publish("putAdditionalObjects");for(var W=0;W<J.length;W++){var Ie=J[W];ke(Ie.objId,!0),Y(Ie.content),Y("endobj")}Wt.publish("postPutAdditionalObjects")},bd=function(W){Ve[W.fontName]=Ve[W.fontName]||{},Ve[W.fontName][W.fontStyle]=W.id},Wo=function(W,Ie,tt,ut,Ct){var $t={id:"F"+(Object.keys(_t).length+1).toString(10),postScriptName:W,fontName:Ie,fontStyle:tt,encoding:ut,isStandardFont:Ct||!1,metadata:{}};return Wt.publish("addFont",{font:$t,instance:this}),_t[$t.id]=$t,bd($t),$t.id},Ic=function(W){for(var Ie=0,tt=de.length;Ie<tt;Ie++){var ut=Wo.call(this,W[Ie][0],W[Ie][1],W[Ie][2],de[Ie][3],!0);m===!1&&(p[ut]=!0);var Ct=W[Ie][0].split("-");bd({id:ut,fontName:Ct[0],fontStyle:Ct[1]||""})}Wt.publish("addFonts",{fonts:_t,dictionary:Ve})},Ti=function(W){return W.foo=function(){try{return W.apply(this,arguments)}catch(ut){var Ie=ut.stack||"";~Ie.indexOf(" at ")&&(Ie=Ie.split(" at ")[1]);var tt="Error in function "+Ie.split(`
`)[0].split("<")[0]+": "+ut.message;if(!aa.console)throw new Error(tt);aa.console.error(tt,ut),aa.alert&&alert(tt)}},W.foo.bar=W,W.foo},pn=function(W,Ie){var tt,ut,Ct,$t,lr,Sr,Dr,ta,Jr;if(Ct=(Ie=Ie||{}).sourceEncoding||"Unicode",lr=Ie.outputEncoding,(Ie.autoencode||lr)&&_t[it].metadata&&_t[it].metadata[Ct]&&_t[it].metadata[Ct].encoding&&($t=_t[it].metadata[Ct].encoding,!lr&&_t[it].encoding&&(lr=_t[it].encoding),!lr&&$t.codePages&&(lr=$t.codePages[0]),typeof lr=="string"&&(lr=$t[lr]),lr)){for(Dr=!1,Sr=[],tt=0,ut=W.length;tt<ut;tt++)(ta=lr[W.charCodeAt(tt)])?Sr.push(String.fromCharCode(ta)):Sr.push(W[tt]),Sr[tt].charCodeAt(0)>>8&&(Dr=!0);W=Sr.join("")}for(tt=W.length;Dr===void 0&&tt!==0;)W.charCodeAt(tt-1)>>8&&(Dr=!0),tt--;if(!Dr)return W;for(Sr=Ie.noBOM?[]:[254,255],tt=0,ut=W.length;tt<ut;tt++){if((Jr=(ta=W.charCodeAt(tt))>>8)>>8)throw new Error("Character at position "+tt+" of string '"+W+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Sr.push(Jr),Sr.push(ta-(Jr<<8))}return String.fromCharCode.apply(void 0,Sr)},ds=g.__private__.pdfEscape=g.pdfEscape=function(W,Ie){return pn(W,Ie).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wd=g.__private__.beginPage=function(W){X[++ct]=[],ft[ct]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(W[0]),topRightY:Number(W[1])}},Kl(ct),pe(X[z])},_f=function(W,Ie){var tt,ut,Ct;switch(a=Ie||a,typeof W=="string"&&(tt=j(W.toLowerCase()),Array.isArray(tt)&&(ut=tt[0],Ct=tt[1])),Array.isArray(W)&&(ut=W[0]*_e,Ct=W[1]*_e),isNaN(ut)&&(ut=i[0],Ct=i[1]),(ut>14400||Ct>14400)&&(Ls.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ut=Math.min(14400,ut),Ct=Math.min(14400,Ct)),i=[ut,Ct],a.substr(0,1)){case"l":Ct>ut&&(i=[Ct,ut]);break;case"p":ut>Ct&&(i=[Ct,ut])}wd(i),oh(Yl),Y(ki),Sd!==0&&Y(Sd+" J"),Pu!==0&&Y(Pu+" j"),Wt.publish("addPage",{pageNumber:ct})},Pf=function(W){W>0&&W<=ct&&(X.splice(W,1),ft.splice(W,1),ct--,z>ct&&(z=ct),this.setPage(z))},Kl=function(W){W>0&&W<=ct&&(z=W)},sh=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return X.length-1},Of=function(W,Ie,tt){var ut,Ct=void 0;return tt=tt||{},W=W!==void 0?W:_t[it].fontName,Ie=Ie!==void 0?Ie:_t[it].fontStyle,ut=W.toLowerCase(),Ve[ut]!==void 0&&Ve[ut][Ie]!==void 0?Ct=Ve[ut][Ie]:Ve[W]!==void 0&&Ve[W][Ie]!==void 0?Ct=Ve[W][Ie]:tt.disableWarning===!1&&Ls.warn("Unable to look up font label for font '"+W+"', '"+Ie+"'. Refer to getFontList() for available fonts."),Ct||tt.noFallback||(Ct=Ve.times[Ie])==null&&(Ct=Ve.times.normal),Ct},kc=g.__private__.putInfo=function(){var W=Jt(),Ie=function(ut){return ut};for(var tt in u!==null&&(Ie=Cn.encryptor(W,0)),Y("<<"),Y("/Producer ("+ds(Ie("jsPDF "+Kr.version))+")"),xt)xt.hasOwnProperty(tt)&&xt[tt]&&Y("/"+tt.substr(0,1).toUpperCase()+tt.substr(1)+" ("+ds(Ie(xt[tt]))+")");Y("/CreationDate ("+ds(Ie(re))+")"),Y(">>"),Y("endobj")},_c=g.__private__.putCatalog=function(W){var Ie=(W=W||{}).rootDictionaryObjId||ze;switch(Jt(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+Ie+" 0 R"),ye||(ye="fullwidth"),ye){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var tt=""+ye;tt.substr(tt.length-1)==="%"&&(ye=parseInt(ye)/100),typeof ye=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+Q(ye)+"]")}switch(rt||(rt="continuous"),rt){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}Ee&&Y("/PageMode /"+Ee),Wt.publish("putCatalog"),Y(">>"),Y("endobj")},nh=g.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(ce+1)),Y("/Root "+ce+" 0 R"),Y("/Info "+(ce-1)+" 0 R"),u!==null&&Y("/Encrypt "+Cn.oid+" 0 R"),Y("/ID [ <"+ee+"> <"+ee+"> ]"),Y(">>")},Df=g.__private__.putHeader=function(){Y("%PDF-"+v),Y("%")},Lf=g.__private__.putXRef=function(){var W="0000000000";Y("xref"),Y("0 "+(ce+1)),Y("0000000000 65535 f ");for(var Ie=1;Ie<=ce;Ie++)typeof me[Ie]=="function"?Y((W+me[Ie]()).slice(-10)+" 00000 n "):me[Ie]!==void 0?Y((W+me[Ie]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},Gl=g.__private__.buildDocument=function(){ge(),pe(he),Wt.publish("buildDocument"),Df(),st(),kf(),fi(),u!==null&&Ei(),kc(),_c();var W=te;return Lf(),nh(),Y("startxref"),Y(""+W),Y("%%EOF"),pe(X[z]),he.join(`
`)},jd=g.__private__.getBlob=function(W){return new Blob([ie(W)],{type:"application/pdf"})},qo=g.output=g.__private__.output=Ti(function(W,Ie){switch(typeof(Ie=Ie||{})=="string"?Ie={filename:Ie}:Ie.filename=Ie.filename||"generated.pdf",W){case void 0:return Gl();case"save":g.save(Ie.filename);break;case"arraybuffer":return ie(Gl());case"blob":return jd(Gl());case"bloburi":case"bloburl":if(aa.URL!==void 0&&typeof aa.URL.createObjectURL=="function")return aa.URL&&aa.URL.createObjectURL(jd(Gl()))||void 0;Ls.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var tt="",ut=Gl();try{tt=yC(ut)}catch{tt=yC(unescape(encodeURIComponent(ut)))}return"data:application/pdf;filename="+Ie.filename+";base64,"+tt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(aa)==="[object Window]"){var Ct="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$t=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Ie.pdfObjectUrl&&(Ct=Ie.pdfObjectUrl,$t="");var lr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ct+'"'+$t+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Ie)+");<\/script></body></html>",Sr=aa.open();return Sr!==null&&Sr.document.write(lr),Sr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(aa)==="[object Window]"){var Dr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Ie.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Ie.filename+'" width="500px" height="400px" /></body></html>',ta=aa.open();if(ta!==null){ta.document.write(Dr);var Jr=this;ta.document.documentElement.querySelector("#pdfViewer").onload=function(){ta.document.title=Ie.filename,ta.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Jr.output("bloburl"))}}return ta}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(aa)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ba='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Ie)+'"></iframe></body></html>',Va=aa.open();if(Va!==null&&(Va.document.write(ba),Va.document.title=Ie.filename),Va||typeof safari>"u")return Va;break;case"datauri":case"dataurl":return aa.document.location.href=this.output("datauristring",Ie);default:return null}}),bo=function(W){return Array.isArray(gr)===!0&&gr.indexOf(W)>-1};switch(s){case"pt":_e=1;break;case"mm":_e=72/25.4;break;case"cm":_e=72/2.54;break;case"in":_e=72;break;case"px":_e=bo("px_scaling")==1?.75:96/72;break;case"pc":case"em":_e=12;break;case"ex":_e=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);_e=s}var Cn=null;ve(),Ae();var Pc=function(W){return u!==null?Cn.encryptor(W,0):function(Ie){return Ie}},Wl=g.__private__.getPageInfo=g.getPageInfo=function(W){if(isNaN(W)||W%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ft[W].objId,pageNumber:W,pageContext:ft[W]}},Vr=g.__private__.getPageInfoByObjId=function(W){if(isNaN(W)||W%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Ie in ft)if(ft[Ie].objId===W)break;return Wl(Ie)},Mf=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:ft[z].objId,pageNumber:z,pageContext:ft[z]}};g.addPage=function(){return _f.apply(this,arguments),this},g.setPage=function(){return Kl.apply(this,arguments),pe.call(this,X[z]),this},g.insertPage=function(W){return this.addPage(),this.movePage(z,W),this},g.movePage=function(W,Ie){var tt,ut;if(W>Ie){tt=X[W],ut=ft[W];for(var Ct=W;Ct>Ie;Ct--)X[Ct]=X[Ct-1],ft[Ct]=ft[Ct-1];X[Ie]=tt,ft[Ie]=ut,this.setPage(Ie)}else if(W<Ie){tt=X[W],ut=ft[W];for(var $t=W;$t<Ie;$t++)X[$t]=X[$t+1],ft[$t]=ft[$t+1];X[Ie]=tt,ft[Ie]=ut,this.setPage(Ie)}return this},g.deletePage=function(){return Pf.apply(this,arguments),this},g.__private__.text=g.text=function(W,Ie,tt,ut,Ct){var $t,lr,Sr,Dr,ta,Jr,ba,Va,Ka,Gr=(ut=ut||{}).scope||this;if(typeof W=="number"&&typeof Ie=="number"&&(typeof tt=="string"||Array.isArray(tt))){var Ys=tt;tt=Ie,Ie=W,W=Ys}if(arguments[3]instanceof at?(k("The transform parameter of text() with a Matrix value"),Ka=Ct):(Sr=arguments[4],Dr=arguments[5],gs(ba=arguments[3])==="object"&&ba!==null||(typeof Sr=="string"&&(Dr=Sr,Sr=null),typeof ba=="string"&&(Dr=ba,ba=null),typeof ba=="number"&&(Sr=ba,ba=null),ut={flags:ba,angle:Sr,align:Dr})),isNaN(Ie)||isNaN(tt)||W==null)throw new Error("Invalid arguments passed to jsPDF.text");if(W.length===0)return Gr;var on="",jo=!1,Bn=typeof ut.lineHeightFactor=="number"?ut.lineHeightFactor:Ii,ln=Gr.internal.scaleFactor;function $f(Aa){return Aa=Aa.split("	").join(Array(ut.TabLen||9).join(" ")),ds(Aa,ba)}function Yn(Aa){for(var ha,is=Aa.concat(),ws=[],No=is.length;No--;)typeof(ha=is.shift())=="string"?ws.push(ha):Array.isArray(Aa)&&(ha.length===1||ha[1]===void 0&&ha[2]===void 0)?ws.push(ha[0]):ws.push([ha[0],ha[1],ha[2]]);return ws}function Ga(Aa,ha){var is;if(typeof Aa=="string")is=ha(Aa)[0];else if(Array.isArray(Aa)){for(var ws,No,Vc=Aa.concat(),Bl=[],ec=Vc.length;ec--;)typeof(ws=Vc.shift())=="string"?Bl.push(ha(ws)[0]):Array.isArray(ws)&&typeof ws[0]=="string"&&(No=ha(ws[0],ws[1],ws[2]),Bl.push([No[0],No[1],No[2]]));is=Bl}return is}var Bd=!1,bs=!0;if(typeof W=="string")Bd=!0;else if(Array.isArray(W)){var Uc=W.concat();lr=[];for(var _i,Is=Uc.length;Is--;)(typeof(_i=Uc.shift())!="string"||Array.isArray(_i)&&typeof _i[0]!="string")&&(bs=!1);Bd=bs}if(Bd===!1)throw new Error('Type of text must be string or Array. "'+W+'" is not recognized.');typeof W=="string"&&(W=W.match(/[\r?\n]/)?W.split(/\r\n|\r|\n/g):[W]);var Fa=je/Gr.internal.scaleFactor,Rc=Fa*(Bn-1);switch(ut.baseline){case"bottom":tt-=Rc;break;case"top":tt+=Fa-Rc;break;case"hanging":tt+=Fa-2*Rc;break;case"middle":tt+=Fa/2-Rc}if((Jr=ut.maxWidth||0)>0&&(typeof W=="string"?W=Gr.splitTextToSize(W,Jr):Object.prototype.toString.call(W)==="[object Array]"&&(W=W.reduce(function(Aa,ha){return Aa.concat(Gr.splitTextToSize(ha,Jr))},[]))),$t={text:W,x:Ie,y:tt,options:ut,mutex:{pdfEscape:ds,activeFontKey:it,fonts:_t,activeFontSize:je}},Wt.publish("preProcessText",$t),W=$t.text,Sr=(ut=$t.options).angle,!(Ka instanceof at)&&Sr&&typeof Sr=="number"){Sr*=Math.PI/180,ut.rotationDirection===0&&(Sr=-Sr),S===N.ADVANCED&&(Sr=-Sr);var Qc=Math.cos(Sr),Ed=Math.sin(Sr);Ka=new at(Qc,Ed,-Ed,Qc,0,0)}else Sr&&Sr instanceof at&&(Ka=Sr);S!==N.ADVANCED||Ka||(Ka=Gt),(ta=ut.charSpace||eo)!==void 0&&(on+=O(M(ta))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Va=ut.horizontalScale)!==void 0&&(on+=O(100*Va)+` Tz
`),ut.lang;var Ai=-1,Uu=ut.renderingMode!==void 0?ut.renderingMode:ut.stroke,Ru=Gr.internal.getCurrentPageInfo().pageContext;switch(Uu){case 0:case!1:case"fill":Ai=0;break;case 1:case!0:case"stroke":Ai=1;break;case 2:case"fillThenStroke":Ai=2;break;case 3:case"invisible":Ai=3;break;case 4:case"fillAndAddForClipping":Ai=4;break;case 5:case"strokeAndAddPathForClipping":Ai=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ai=6;break;case 7:case"addToPathForClipping":Ai=7}var zf=Ru.usedRenderingMode!==void 0?Ru.usedRenderingMode:-1;Ai!==-1?on+=Ai+` Tr
`:zf!==-1&&(on+=`0 Tr
`),Ai!==-1&&(Ru.usedRenderingMode=Ai),Dr=ut.align||"left";var ks,us=je*Bn,hi=Gr.internal.pageSize.getWidth(),Qs=_t[it];ta=ut.charSpace||eo,Jr=ut.maxWidth||0,ba=Object.assign({autoencode:!0,noBOM:!0},ut.flags);var Xn=[],Xl=function(Aa){return Gr.getStringUnitWidth(Aa,{font:Qs,charSpace:ta,fontSize:je,doKerning:!1})*je/ln};if(Object.prototype.toString.call(W)==="[object Array]"){var Jn;lr=Yn(W),Dr!=="left"&&(ks=lr.map(Xl));var gn,Jl=0;if(Dr==="right"){Ie-=ks[0],W=[],Is=lr.length;for(var Pi=0;Pi<Is;Pi++)Pi===0?(gn=Zi(Ie),Jn=Nl(tt)):(gn=M(Jl-ks[Pi]),Jn=-us),W.push([lr[Pi],gn,Jn]),Jl=ks[Pi]}else if(Dr==="center"){Ie-=ks[0]/2,W=[],Is=lr.length;for(var mi=0;mi<Is;mi++)mi===0?(gn=Zi(Ie),Jn=Nl(tt)):(gn=M((Jl-ks[mi])/2),Jn=-us),W.push([lr[mi],gn,Jn]),Jl=ks[mi]}else if(Dr==="left"){W=[],Is=lr.length;for(var En=0;En<Is;En++)W.push(lr[En])}else if(Dr==="justify"&&Qs.encoding==="Identity-H"){W=[],Is=lr.length,Jr=Jr!==0?Jr:hi;for(var Yo=0,Hs=0;Hs<Is;Hs++)if(Jn=Hs===0?Nl(tt):-us,gn=Hs===0?Zi(Ie):Yo,Hs<Is-1){var Oi=M((Jr-ks[Hs])/(lr[Hs].split(" ").length-1)),Xs=lr[Hs].split(" ");W.push([Xs[0]+" ",gn,Jn]),Yo=0;for(var Di=1;Di<Xs.length;Di++){var Td=(Xl(Xs[Di-1]+" "+Xs[Di])-Xl(Xs[Di]))*ln+Oi;Di==Xs.length-1?W.push([Xs[Di],Td,0]):W.push([Xs[Di]+" ",Td,0]),Yo-=Td}}else W.push([lr[Hs],gn,Jn]);W.push(["",Yo,0])}else{if(Dr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(W=[],Is=lr.length,Jr=Jr!==0?Jr:hi,Hs=0;Hs<Is;Hs++)Jn=Hs===0?Nl(tt):-us,gn=Hs===0?Zi(Ie):0,Hs<Is-1?Xn.push(O(M((Jr-ks[Hs])/(lr[Hs].split(" ").length-1)))):Xn.push(0),W.push([lr[Hs],gn,Jn])}}var cn=typeof ut.R2L=="boolean"?ut.R2L:be;cn===!0&&(W=Ga(W,function(Aa,ha,is){return[Aa.split("").reverse().join(""),ha,is]})),$t={text:W,x:Ie,y:tt,options:ut,mutex:{pdfEscape:ds,activeFontKey:it,fonts:_t,activeFontSize:je}},Wt.publish("postProcessText",$t),W=$t.text,jo=$t.mutex.isHex||!1;var Fd=_t[it].encoding;Fd!=="WinAnsiEncoding"&&Fd!=="StandardEncoding"||(W=Ga(W,function(Aa,ha,is){return[$f(Aa),ha,is]})),lr=Yn(W),W=[];for(var Hc,$c,Xo,Id=0,kd=1,Zl=Array.isArray(lr[0])?kd:Id,Cl="",zc=function(Aa,ha,is){var ws="";return is instanceof at?(is=typeof ut.angle=="number"?Ht(is,new at(1,0,0,1,Aa,ha)):Ht(new at(1,0,0,1,Aa,ha),is),S===N.ADVANCED&&(is=Ht(new at(1,0,0,-1,0,0),is)),ws=is.join(" ")+` Tm
`):ws=O(Aa)+" "+O(ha)+` Td
`,ws},_s=0;_s<lr.length;_s++){switch(Cl="",Zl){case kd:Xo=(jo?"<":"(")+lr[_s][0]+(jo?">":")"),Hc=parseFloat(lr[_s][1]),$c=parseFloat(lr[_s][2]);break;case Id:Xo=(jo?"<":"(")+lr[_s]+(jo?">":")"),Hc=Zi(Ie),$c=Nl(tt)}Xn!==void 0&&Xn[_s]!==void 0&&(Cl=Xn[_s]+` Tw
`),_s===0?W.push(Cl+zc(Hc,$c,Ka)+Xo):Zl===Id?W.push(Cl+Xo):Zl===kd&&W.push(Cl+zc(Hc,$c,Ka)+Xo)}W=Zl===Id?W.join(` Tj
T* `):W.join(` Tj
`),W+=` Tj
`;var Li=`BT
/`;return Li+=it+" "+je+` Tf
`,Li+=O(je*Bn)+` TL
`,Li+=Lc+`
`,Li+=on,Li+=W,Y(Li+="ET"),p[it]=!0,Gr};var ih=g.__private__.clip=g.clip=function(W){return Y(W==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return ih("evenodd")},g.__private__.discardPath=g.discardPath=function(){return Y("n"),this};var Fi=g.__private__.isValidStyle=function(W){var Ie=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(W)!==-1&&(Ie=!0),Ie};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(W){return Fi(W)&&(f=W),this};var wo=g.__private__.getStyle=g.getStyle=function(W){var Ie=f;switch(W){case"D":case"S":Ie="S";break;case"F":Ie="f";break;case"FD":case"DF":Ie="B";break;case"f":case"f*":case"B":case"B*":Ie=W}return Ie},Fu=g.close=function(){return Y("h"),this};g.stroke=function(){return Y("S"),this},g.fill=function(W){return bl("f",W),this},g.fillEvenOdd=function(W){return bl("f*",W),this},g.fillStroke=function(W){return bl("B",W),this},g.fillStrokeEvenOdd=function(W){return bl("B*",W),this};var bl=function(W,Ie){gs(Ie)==="object"?Nd(Ie,W):Y(W)},Ws=function(W){W===null||S===N.ADVANCED&&W===void 0||(W=wo(W),Y(W))};function Iu(W,Ie,tt,ut,Ct){var $t=new b0(Ie||this.boundingBox,tt||this.xStep,ut||this.yStep,this.gState,Ct||this.matrix);$t.stream=this.stream;var lr=W+"$$"+this.cloneIndex+++"$$";return dr(lr,$t),$t}var Nd=function(W,Ie){var tt=Ot[W.key],ut=ot[tt];if(ut instanceof Yh)Y("q"),Y(Uf(Ie)),ut.gState&&g.setGState(ut.gState),Y(W.matrix.toString()+" cm"),Y("/"+tt+" sh"),Y("Q");else if(ut instanceof b0){var Ct=new at(1,0,0,-1,0,Mc());W.matrix&&(Ct=Ct.multiply(W.matrix||Gt),tt=Iu.call(ut,W.key,W.boundingBox,W.xStep,W.yStep,Ct).id),Y("q"),Y("/Pattern cs"),Y("/"+tt+" scn"),ut.gState&&g.setGState(ut.gState),Y(Ie),Y("Q")}},Uf=function(W){switch(W){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Oc=g.moveTo=function(W,Ie){return Y(O(M(W))+" "+O(q(Ie))+" m"),this},wl=g.lineTo=function(W,Ie){return Y(O(M(W))+" "+O(q(Ie))+" l"),this},ql=g.curveTo=function(W,Ie,tt,ut,Ct,$t){return Y([O(M(W)),O(q(Ie)),O(M(tt)),O(q(ut)),O(M(Ct)),O(q($t)),"c"].join(" ")),this};g.__private__.line=g.line=function(W,Ie,tt,ut,Ct){if(isNaN(W)||isNaN(Ie)||isNaN(tt)||isNaN(ut)||!Fi(Ct))throw new Error("Invalid arguments passed to jsPDF.line");return S===N.COMPAT?this.lines([[tt-W,ut-Ie]],W,Ie,[1,1],Ct||"S"):this.lines([[tt-W,ut-Ie]],W,Ie,[1,1]).stroke()},g.__private__.lines=g.lines=function(W,Ie,tt,ut,Ct,$t){var lr,Sr,Dr,ta,Jr,ba,Va,Ka,Gr,Ys,on,jo;if(typeof W=="number"&&(jo=tt,tt=Ie,Ie=W,W=jo),ut=ut||[1,1],$t=$t||!1,isNaN(Ie)||isNaN(tt)||!Array.isArray(W)||!Array.isArray(ut)||!Fi(Ct)||typeof $t!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Oc(Ie,tt),lr=ut[0],Sr=ut[1],ta=W.length,Ys=Ie,on=tt,Dr=0;Dr<ta;Dr++)(Jr=W[Dr]).length===2?(Ys=Jr[0]*lr+Ys,on=Jr[1]*Sr+on,wl(Ys,on)):(ba=Jr[0]*lr+Ys,Va=Jr[1]*Sr+on,Ka=Jr[2]*lr+Ys,Gr=Jr[3]*Sr+on,Ys=Jr[4]*lr+Ys,on=Jr[5]*Sr+on,ql(ba,Va,Ka,Gr,Ys,on));return $t&&Fu(),Ws(Ct),this},g.path=function(W){for(var Ie=0;Ie<W.length;Ie++){var tt=W[Ie],ut=tt.c;switch(tt.op){case"m":Oc(ut[0],ut[1]);break;case"l":wl(ut[0],ut[1]);break;case"c":ql.apply(this,ut);break;case"h":Fu()}}return this},g.__private__.rect=g.rect=function(W,Ie,tt,ut,Ct){if(isNaN(W)||isNaN(Ie)||isNaN(tt)||isNaN(ut)||!Fi(Ct))throw new Error("Invalid arguments passed to jsPDF.rect");return S===N.COMPAT&&(ut=-ut),Y([O(M(W)),O(q(Ie)),O(M(tt)),O(M(ut)),"re"].join(" ")),Ws(Ct),this},g.__private__.triangle=g.triangle=function(W,Ie,tt,ut,Ct,$t,lr){if(isNaN(W)||isNaN(Ie)||isNaN(tt)||isNaN(ut)||isNaN(Ct)||isNaN($t)||!Fi(lr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[tt-W,ut-Ie],[Ct-tt,$t-ut],[W-Ct,Ie-$t]],W,Ie,[1,1],lr,!0),this},g.__private__.roundedRect=g.roundedRect=function(W,Ie,tt,ut,Ct,$t,lr){if(isNaN(W)||isNaN(Ie)||isNaN(tt)||isNaN(ut)||isNaN(Ct)||isNaN($t)||!Fi(lr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Sr=4/3*(Math.SQRT2-1);return Ct=Math.min(Ct,.5*tt),$t=Math.min($t,.5*ut),this.lines([[tt-2*Ct,0],[Ct*Sr,0,Ct,$t-$t*Sr,Ct,$t],[0,ut-2*$t],[0,$t*Sr,-Ct*Sr,$t,-Ct,$t],[2*Ct-tt,0],[-Ct*Sr,0,-Ct,-$t*Sr,-Ct,-$t],[0,2*$t-ut],[0,-$t*Sr,Ct*Sr,-$t,Ct,-$t]],W+Ct,Ie,[1,1],lr,!0),this},g.__private__.ellipse=g.ellipse=function(W,Ie,tt,ut,Ct){if(isNaN(W)||isNaN(Ie)||isNaN(tt)||isNaN(ut)||!Fi(Ct))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $t=4/3*(Math.SQRT2-1)*tt,lr=4/3*(Math.SQRT2-1)*ut;return Oc(W+tt,Ie),ql(W+tt,Ie-lr,W+$t,Ie-ut,W,Ie-ut),ql(W-$t,Ie-ut,W-tt,Ie-lr,W-tt,Ie),ql(W-tt,Ie+lr,W-$t,Ie+ut,W,Ie+ut),ql(W+$t,Ie+ut,W+tt,Ie+lr,W+tt,Ie),Ws(Ct),this},g.__private__.circle=g.circle=function(W,Ie,tt,ut){if(isNaN(W)||isNaN(Ie)||isNaN(tt)||!Fi(ut))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(W,Ie,tt,tt,ut)},g.setFont=function(W,Ie,tt){return tt&&(Ie=F(Ie,tt)),it=Of(W,Ie,{disableWarning:!1}),this};var Un=g.__private__.getFont=g.getFont=function(){return _t[Of.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var W,Ie,tt={};for(W in Ve)if(Ve.hasOwnProperty(W))for(Ie in tt[W]=[],Ve[W])Ve[W].hasOwnProperty(Ie)&&tt[W].push(Ie);return tt},g.addFont=function(W,Ie,tt,ut,Ct){var $t=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$t.indexOf(arguments[3])!==-1?Ct=arguments[3]:arguments[3]&&$t.indexOf(arguments[3])==-1&&(tt=F(tt,ut)),Ct=Ct||"Identity-H",Wo.call(this,W,Ie,tt,Ct)};var Ii,Yl=t.lineWidth||.200025,jl=g.__private__.getLineWidth=g.getLineWidth=function(){return Yl},oh=g.__private__.setLineWidth=g.setLineWidth=function(W){return Yl=W,Y(O(M(W))+" w"),this};g.__private__.setLineDash=Kr.API.setLineDash=Kr.API.setLineDashPattern=function(W,Ie){if(W=W||[],Ie=Ie||0,isNaN(Ie)||!Array.isArray(W))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return W=W.map(function(tt){return O(M(tt))}).join(" "),Ie=O(M(Ie)),Y("["+W+"] "+Ie+" d"),this};var qs=g.__private__.getLineHeight=g.getLineHeight=function(){return je*Ii};g.__private__.getLineHeight=g.getLineHeight=function(){return je*Ii};var ku=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(W){return typeof(W=W||1.15)=="number"&&(Ii=W),this},Ji=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Ii};ku(t.lineHeight);var Zi=g.__private__.getHorizontalCoordinate=function(W){return M(W)},Nl=g.__private__.getVerticalCoordinate=function(W){return S===N.ADVANCED?W:ft[z].mediaBox.topRightY-ft[z].mediaBox.bottomLeftY-M(W)},km=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(W){return O(Zi(W))},Dc=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(W){return O(Nl(W))},ki=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Je(ki)},g.__private__.setStrokeColor=g.setDrawColor=function(W,Ie,tt,ut){return ki=et({ch1:W,ch2:Ie,ch3:tt,ch4:ut,pdfColorType:"draw",precision:2}),Y(ki),this};var Sl=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Je(Sl)},g.__private__.setFillColor=g.setFillColor=function(W,Ie,tt,ut){return Sl=et({ch1:W,ch2:Ie,ch3:tt,ch4:ut,pdfColorType:"fill",precision:2}),Y(Sl),this};var Lc=t.textColor||"0 g",_m=g.__private__.getTextColor=g.getTextColor=function(){return Je(Lc)};g.__private__.setTextColor=g.setTextColor=function(W,Ie,tt,ut){return Lc=et({ch1:W,ch2:Ie,ch3:tt,ch4:ut,pdfColorType:"text",precision:3}),this};var eo=t.charSpace,_u=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(eo||0)};g.__private__.setCharSpace=g.setCharSpace=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return eo=W,this};var Sd=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(W){var Ie=g.CapJoinStyles[W];if(Ie===void 0)throw new Error("Line cap style of '"+W+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sd=Ie,Y(Ie+" J"),this};var Pu=0;g.__private__.setLineJoin=g.setLineJoin=function(W){var Ie=g.CapJoinStyles[W];if(Ie===void 0)throw new Error("Line join style of '"+W+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pu=Ie,Y(Ie+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(W){if(W=W||0,isNaN(W))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(O(M(W))+" M"),this},g.GState=cy,g.setGState=function(W){(W=typeof W=="string"?vt[Ze[W]]:lh(null,W)).equals(He)||(Y("/"+W.id+" gs"),He=W)};var lh=function(W,Ie){if(!W||!Ze[W]){var tt=!1;for(var ut in vt)if(vt.hasOwnProperty(ut)&&vt[ut].equals(Ie)){tt=!0;break}if(tt)Ie=vt[ut];else{var Ct="GS"+(Object.keys(vt).length+1).toString(10);vt[Ct]=Ie,Ie.id=Ct}return W&&(Ze[W]=Ie.id),Wt.publish("addGState",Ie),Ie}};g.addGState=function(W,Ie){return lh(W,Ie),this},g.saveGraphicsState=function(){return Y("q"),Se.push({key:it,size:je,color:Lc}),this},g.restoreGraphicsState=function(){Y("Q");var W=Se.pop();return it=W.key,je=W.size,Lc=W.color,He=null,this},g.setCurrentTransformationMatrix=function(W){return Y(W.toString()+" cm"),this},g.comment=function(W){return Y("#"+W),this};var Ou=function(W,Ie){var tt=W||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return tt},set:function($t){isNaN($t)||(tt=parseFloat($t))}});var ut=Ie||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ut},set:function($t){isNaN($t)||(ut=parseFloat($t))}});var Ct="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ct},set:function($t){Ct=$t.toString()}}),this},Rf=function(W,Ie,tt,ut){Ou.call(this,W,Ie),this.type="rect";var Ct=tt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ct},set:function(lr){isNaN(lr)||(Ct=parseFloat(lr))}});var $t=ut||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $t},set:function(lr){isNaN(lr)||($t=parseFloat(lr))}}),this},Qf=function(){this.page=ct,this.currentPage=z,this.pages=X.slice(0),this.pagesContext=ft.slice(0),this.x=dt,this.y=yt,this.matrix=rr,this.width=Cd(z),this.height=Mc(z),this.outputDestination=Ne,this.id="",this.objectNumber=-1};Qf.prototype.restore=function(){ct=this.page,z=this.currentPage,ft=this.pagesContext,X=this.pages,dt=this.x,yt=this.y,rr=this.matrix,Mu(z,this.width),Hf(z,this.height),Ne=this.outputDestination};var Du=function(W,Ie,tt,ut,Ct){pa.push(new Qf),ct=z=0,X=[],dt=W,yt=Ie,rr=Ct,wd([tt,ut])},Pm=function(W){if(Ta[W])pa.pop().restore();else{var Ie=new Qf,tt="Xo"+(Object.keys(Fr).length+1).toString(10);Ie.id=tt,Ta[W]=tt,Fr[tt]=Ie,Wt.publish("addFormObject",Ie),pa.pop().restore()}};for(var Lu in g.beginFormObject=function(W,Ie,tt,ut,Ct){return Du(W,Ie,tt,ut,Ct),this},g.endFormObject=function(W){return Pm(W),this},g.doFormObject=function(W,Ie){var tt=Fr[Ta[W]];return Y("q"),Y(Ie.toString()+" cm"),Y("/"+tt.id+" Do"),Y("Q"),this},g.getFormObject=function(W){var Ie=Fr[Ta[W]];return{x:Ie.x,y:Ie.y,width:Ie.width,height:Ie.height,matrix:Ie.matrix}},g.save=function(W,Ie){return W=W||"generated.pdf",(Ie=Ie||{}).returnPromise=Ie.returnPromise||!1,Ie.returnPromise===!1?(h0(jd(Gl()),W),typeof h0.unload=="function"&&aa.setTimeout&&setTimeout(h0.unload,911),this):new Promise(function(tt,ut){try{var Ct=h0(jd(Gl()),W);typeof h0.unload=="function"&&aa.setTimeout&&setTimeout(h0.unload,911),tt(Ct)}catch($t){ut($t.message)}})},Kr.API)Kr.API.hasOwnProperty(Lu)&&(Lu==="events"&&Kr.API.events.length?function(W,Ie){var tt,ut,Ct;for(Ct=Ie.length-1;Ct!==-1;Ct--)tt=Ie[Ct][0],ut=Ie[Ct][1],W.subscribe.apply(W,[tt].concat(typeof ut=="function"?[ut]:ut))}(Wt,Kr.API.events):g[Lu]=Kr.API[Lu]);var Cd=g.getPageWidth=function(W){return(ft[W=W||z].mediaBox.topRightX-ft[W].mediaBox.bottomLeftX)/_e},Mu=g.setPageWidth=function(W,Ie){ft[W].mediaBox.topRightX=Ie*_e+ft[W].mediaBox.bottomLeftX},Mc=g.getPageHeight=function(W){return(ft[W=W||z].mediaBox.topRightY-ft[W].mediaBox.bottomLeftY)/_e},Hf=g.setPageHeight=function(W,Ie){ft[W].mediaBox.topRightY=Ie*_e+ft[W].mediaBox.bottomLeftY};return g.internal={pdfEscape:ds,getStyle:wo,getFont:Un,getFontSize:Ce,getCharSpace:_u,getTextColor:_m,getLineHeight:qs,getLineHeightFactor:Ji,getLineWidth:jl,write:Le,getHorizontalCoordinate:Zi,getVerticalCoordinate:Nl,getCoordinateString:km,getVerticalCoordinateString:Dc,collections:{},newObject:Jt,newAdditionalObject:qe,newObjectDeferred:Mr,newObjectDeferredBegin:ke,getFilters:St,putStream:Me,events:Wt,scaleFactor:_e,pageSize:{getWidth:function(){return Cd(z)},setWidth:function(W){Mu(z,W)},getHeight:function(){return Mc(z)},setHeight:function(W){Hf(z,W)}},encryptionOptions:u,encryption:Cn,getEncryptor:Pc,output:qo,getNumberOfPages:sh,pages:X,out:Y,f2:Q,f3:H,getPageInfo:Wl,getPageInfoByObjId:Vr,getCurrentPageInfo:Mf,getPDFVersion:y,Point:Ou,Rectangle:Rf,Matrix:at,hasHotfix:bo},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Cd(z)},set:function(W){Mu(z,W)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Mc(z)},set:function(W){Hf(z,W)},enumerable:!0,configurable:!0}),Ic.call(g,de),it="F1",_f(i,a),Wt.publish("initialized"),g}cg.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},cg.prototype.toHexString=function(t){return t.split("").map(function(r){return("0"+(255&r.charCodeAt(0)).toString(16)).slice(-2)}).join("")},cg.prototype.hexToBytes=function(t){for(var r=[],a=0;a<t.length;a+=2)r.push(String.fromCharCode(parseInt(t.substr(a,2),16)));return r.join("")},cg.prototype.processOwnerPassword=function(t,r){return bC(vC(r).substr(0,5),t)},cg.prototype.encryptor=function(t,r){var a=vC(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&r,r>>8&255)).substr(0,10);return function(s){return bC(a,s)}},cy.prototype.equals=function(t){var r,a="id,objectNumber,equals";if(!t||gs(t)!==gs(this))return!1;var s=0;for(r in this)if(!(a.indexOf(r)>=0)){if(this.hasOwnProperty(r)&&!t.hasOwnProperty(r)||this[r]!==t[r])return!1;s++}for(r in t)t.hasOwnProperty(r)&&a.indexOf(r)<0&&s--;return s===0},Kr.API={events:[]},Kr.version="3.0.1";var kn=Kr.API,EB=1,ip=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},qp=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ca=function(t){return t.toFixed(2)},Rh=function(t){return t.toFixed(5)};kn.__acroform__={};var Vl=function(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t},DI=function(t){return t*EB},cf=function(t){var r=new GM,a=_r.internal.getHeight(t)||0,s=_r.internal.getWidth(t)||0;return r.BBox=[0,0,Number(ca(s)),Number(ca(a))],r},kee=kn.__acroform__.setBit=function(t,r){if(t=t||0,r=r||0,isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<r},_ee=kn.__acroform__.clearBit=function(t,r){if(t=t||0,r=r||0,isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<r)},Pee=kn.__acroform__.getBit=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<r)==0?0:1},$n=kn.__acroform__.getBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Pee(t,r-1)},zn=kn.__acroform__.setBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return kee(t,r-1)},Vn=kn.__acroform__.clearBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return _ee(t,r-1)},Oee=kn.__acroform__.calculateCoordinates=function(t,r){var a=r.internal.getHorizontalCoordinate,s=r.internal.getVerticalCoordinate,i=t[0],o=t[1],l=t[2],c=t[3],d={};return d.lowerLeft_X=a(i)||0,d.lowerLeft_Y=s(o+c)||0,d.upperRight_X=a(i+l)||0,d.upperRight_Y=s(o)||0,[Number(ca(d.lowerLeft_X)),Number(ca(d.lowerLeft_Y)),Number(ca(d.upperRight_X)),Number(ca(d.upperRight_Y))]},Dee=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var r=[],a=t._V||t.DV,s=wC(t,a),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;r.push("/Tx BMC"),r.push("q"),r.push("BT"),r.push(t.scope.__private__.encodeColorString(t.color)),r.push("/"+i+" "+ca(s.fontSize)+" Tf"),r.push("1 0 0 1 0 0 Tm"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC");var o=cf(t);return o.scope=t.scope,o.stream=r.join(`
`),o}},wC=function(t,r){var a=t.fontSize===0?t.maxFontSize:t.fontSize,s={text:"",fontSize:""},i=(r=(r=r.substr(0,1)=="("?r.substr(1):r).substr(r.length-1)==")"?r.substr(0,r.length-1):r).split(" ");i=t.multiline?i.map(function(H){return H.split(`
`)}):i.map(function(H){return[H]});var o=a,l=_r.internal.getHeight(t)||0;l=l<0?-l:l;var c=_r.internal.getWidth(t)||0;c=c<0?-c:c;var d=function(H,M,K){if(H+1<i.length){var q=M+" "+i[H+1][0];return db(q,t,K).width<=c-4}return!1};o++;e:for(;o>0;){r="",o--;var f,u,m=db("3",t,o).height,p=t.multiline?l-o:(l-m)/2,g=p+=2,v=0,y=0,b=0;if(o<=0){r=`(...) Tj
`,r+="% Width of Text: "+db(r,t,o=12).width+", FieldWidth:"+c+`
`;break}for(var j="",N=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var B=!1;if(i[S].length!==1&&b!==i[S].length-1){if((m+2)*(N+2)+2>l)continue e;j+=i[S][b],B=!0,y=S,S--}else{j=(j+=i[S][b]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var I=parseInt(S),F=d(I,j,o),O=S>=i.length-1;if(F&&!O){j+=" ",b=0;continue}if(F||O){if(O)y=I;else if(t.multiline&&(m+2)*(N+2)+2>l)continue e}else{if(!t.multiline||(m+2)*(N+2)+2>l)continue e;y=I}}for(var k="",V=v;V<=y;V++){var Q=i[V];if(t.multiline){if(V===y){k+=Q[b]+" ",b=(b+1)%Q.length;continue}if(V===v){k+=Q[Q.length-1]+" ";continue}}k+=Q[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,u=db(k,t,o).width,t.textAlign){case"right":f=c-u-2;break;case"center":f=(c-u)/2;break;case"left":default:f=2}r+=ca(f)+" "+ca(g)+` Td
`,r+="("+ip(k)+`) Tj
`,r+=-ca(f)+` 0 Td
`,g=-(o+2),u=0,v=B?y:y+1,N++,j=""}break}return s.text=r,s.fontSize=o,s},db=function(t,r,a){var s=r.scope.internal.getFont(r.fontName,r.fontStyle),i=r.scope.getStringUnitWidth(t,{font:s,fontSize:parseFloat(a),charSpace:0})*parseFloat(a);return{height:r.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(a),charSpace:0})*parseFloat(a)*1.5,width:i}},Lee={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Mee=function(t,r){var a={type:"reference",object:t};r.internal.getPageInfo(t.page).pageContext.annotations.find(function(s){return s.type===a.type&&s.object===a.object})===void 0&&r.internal.getPageInfo(t.page).pageContext.annotations.push(a)},Uee=function(t,r){for(var a in t)if(t.hasOwnProperty(a)){var s=a,i=t[a];r.internal.newObjectDeferredBegin(i.objId,!0),gs(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[s]}},Ree=function(t,r){if(r.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Cu.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Lee)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");EB=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new WM,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(a){a.internal.events.unsubscribe(a.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete a.internal.acroformPlugin.acroFormDictionaryRoot._eventID,a.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(a){a.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=a.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in s)if(s.hasOwnProperty(i)){var o=s[i];o.objId=void 0,o.hasAnnotation&&Mee(o,a)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(a){if(a.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");a.internal.write("/AcroForm "+a.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(a){(function(s,i){var o=!s;for(var l in s||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(l)){var c=s[l],d=[],f=c.Rect;if(c.Rect&&(c.Rect=Oee(c.Rect,i)),i.internal.newObjectDeferredBegin(c.objId,!0),c.DA=_r.createDefaultAppearanceStream(c),gs(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(d=c.getKeyValueListForStream()),c.Rect=f,c.hasAppearanceStream&&!c.appearanceStreamContent){var u=Dee(c);d.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(c.appearanceStreamContent){var m="";for(var p in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(p)){var g=c.appearanceStreamContent[p];if(m+="/"+p+" ",m+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var l in g)if(g.hasOwnProperty(l)){var v=g[l];typeof v=="function"&&(v=v.call(i,c)),m+="/"+l+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=g)=="function"&&(v=v.call(i,c)),m+="/"+l+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);m+=">>"}d.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:d,objectId:c.objId}),i.internal.out("endobj")}o&&Uee(i.internal.acroformPlugin.xForms,i)})(a,t)}),t.internal.acroformPlugin.isInitialized=!0}},KM=kn.__acroform__.arrayToPdfArray=function(t,r,a){var s=function(l){return l};if(Array.isArray(t)){for(var i="[",o=0;o<t.length;o++)switch(o!==0&&(i+=" "),gs(t[o])){case"boolean":case"number":case"object":i+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(r!==void 0&&a&&(s=a.internal.getEncryptor(r)),i+="("+ip(s(t[o].toString()))+")"):i+=t[o].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},aN=function(t,r,a){var s=function(i){return i};return r!==void 0&&a&&(s=a.internal.getEncryptor(r)),(t=t||"").toString(),t="("+ip(s(t))+")"},mf=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};mf.prototype.toString=function(){return this.objId+" 0 R"},mf.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},mf.prototype.getKeyValueListForStream=function(){var t=[],r=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var a in r)if(Object.getOwnPropertyDescriptor(this,r[a]).configurable===!1){var s=r[a],i=this[s];i&&(Array.isArray(i)?t.push({key:s,value:KM(i,this.objId,this.scope)}):i instanceof mf?(i.scope=this.scope,t.push({key:s,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:s,value:i}))}return t};var GM=function(){mf.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,r=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(a){t=a.trim()},get:function(){return t||null}})};Vl(GM,mf);var WM=function(){mf.call(this);var t,r=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return r.length>0?r:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return r}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var a=function(s){return s};return this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),"("+ip(a(t))+")"}},set:function(a){t=a}})};Vl(WM,mf);var Cu=function t(){mf.call(this);var r=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return r},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');r=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!$n(r,3)},set:function(j){j?this.F=zn(r,3):this.F=Vn(r,3)}});var a=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return a},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');a=j}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(j){s=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(j){s[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(j){s[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(j){s[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(j){s[3]=j}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof B2)return;o="FieldObject"+t.FieldNum++}var j=function(N){return N};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+ip(j(o))+")"},set:function(j){o=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(j){o=j}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(j){l=j}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(j){c=j}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(j){d=j}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/EB:f},set:function(j){f=j}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(j){u=j}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof B2||this instanceof nm))return aN(m,this.objId,this.scope)},set:function(j){j=j.toString(),m=j}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof wi?p:aN(p,this.objId,this.scope)},set:function(j){j=j.toString(),p=this instanceof wi?j:j.substr(0,1)==="("?qp(j.substr(1,j.length-2)):qp(j)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof wi?qp(p.substr(1,p.length-1)):p},set:function(j){j=j.toString(),p=this instanceof wi?"/"+j:j}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof wi?g:aN(g,this.objId,this.scope)},set:function(j){j=j.toString(),g=this instanceof wi?j:j.substr(0,1)==="("?qp(j.substr(1,j.length-2)):qp(j)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof wi?qp(g.substr(1,g.length-1)):g},set:function(j){j=j.toString(),g=this instanceof wi?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(j){j=!!j,y=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(j){v=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,1)},set:function(j){j?this.Ff=zn(this.Ff,1):this.Ff=Vn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,2)},set:function(j){j?this.Ff=zn(this.Ff,2):this.Ff=Vn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,3)},set:function(j){j?this.Ff=zn(this.Ff,3):this.Ff=Vn(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');b=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(b){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:b=2;break;case"center":case 1:b=1;break;case"left":case 0:default:b=0}}})};Vl(Cu,mf);var P0=function(){Cu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(a){t=a}});var r=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return KM(r,this.objId,this.scope)},set:function(a){var s,i;i=[],typeof(s=a)=="string"&&(i=function(o,l,c){c||(c=1);for(var d,f=[];d=l.exec(o);)f.push(d[c]);return f}(s,/\((.*?)\)/g)),r=i}}),this.getOptions=function(){return r},this.setOptions=function(a){r=a,this.sort&&r.sort()},this.addOption=function(a){a=(a=a||"").toString(),r.push(a),this.sort&&r.sort()},this.removeOption=function(a,s){for(s=s||!1,a=(a=a||"").toString();r.indexOf(a)!==-1&&(r.splice(r.indexOf(a),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,18)},set:function(a){a?this.Ff=zn(this.Ff,18):this.Ff=Vn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,19)},set:function(a){this.combo===!0&&(a?this.Ff=zn(this.Ff,19):this.Ff=Vn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,20)},set:function(a){a?(this.Ff=zn(this.Ff,20),r.sort()):this.Ff=Vn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,22)},set:function(a){a?this.Ff=zn(this.Ff,22):this.Ff=Vn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,23)},set:function(a){a?this.Ff=zn(this.Ff,23):this.Ff=Vn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,27)},set:function(a){a?this.Ff=zn(this.Ff,27):this.Ff=Vn(this.Ff,27)}}),this.hasAppearanceStream=!1};Vl(P0,Cu);var O0=function(){P0.call(this),this.fontName="helvetica",this.combo=!1};Vl(O0,P0);var D0=function(){O0.call(this),this.combo=!0};Vl(D0,O0);var I1=function(){D0.call(this),this.edit=!0};Vl(I1,D0);var wi=function(){Cu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,15)},set:function(a){a?this.Ff=zn(this.Ff,15):this.Ff=Vn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,16)},set:function(a){a?this.Ff=zn(this.Ff,16):this.Ff=Vn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,17)},set:function(a){a?this.Ff=zn(this.Ff,17):this.Ff=Vn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,26)},set:function(a){a?this.Ff=zn(this.Ff,26):this.Ff=Vn(this.Ff,26)}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};if(this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),Object.keys(r).length!==0){var s,i=[];for(s in i.push("<<"),r)i.push("/"+s+" ("+ip(a(r[s]))+")");return i.push(">>"),i.join(`
`)}},set:function(a){gs(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}})};Vl(wi,Cu);var k1=function(){wi.call(this),this.pushButton=!0};Vl(k1,wi);var L0=function(){wi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r!==void 0?r:[]}})};Vl(L0,wi);var B2=function(){var t,r;Cu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return r},set:function(i){r=i}});var a,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(c){return c};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,l=[];for(o in l.push("<<"),s)l.push("/"+o+" ("+ip(i(s[o]))+")");return l.push(">>"),l.join(`
`)},set:function(i){gs(i)==="object"&&(s=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(i){typeof i=="string"&&(s.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return a},set:function(i){a=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return a.substr(1,a.length-1)},set:function(i){a="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_r.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Vl(B2,Cu),L0.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var r in this.Kids)if(this.Kids.hasOwnProperty(r)){var a=this.Kids[r];a.appearanceStreamContent=t.createAppearanceStream(a.optionName),a.caption=t.getCA()}},L0.prototype.createOption=function(t){var r=new B2;return r.Parent=this,r.optionName=t,this.Kids.push(r),Qee.call(this.scope,r),r};var _1=function(){wi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_r.CheckBox.createAppearanceStream()};Vl(_1,wi);var nm=function(){Cu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,13)},set:function(r){r?this.Ff=zn(this.Ff,13):this.Ff=Vn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,21)},set:function(r){r?this.Ff=zn(this.Ff,21):this.Ff=Vn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,23)},set:function(r){r?this.Ff=zn(this.Ff,23):this.Ff=Vn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,24)},set:function(r){r?this.Ff=zn(this.Ff,24):this.Ff=Vn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,25)},set:function(r){r?this.Ff=zn(this.Ff,25):this.Ff=Vn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,26)},set:function(r){r?this.Ff=zn(this.Ff,26):this.Ff=Vn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){Number.isInteger(r)&&(t=r)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Vl(nm,Cu);var P1=function(){nm.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,14)},set:function(t){t?this.Ff=zn(this.Ff,14):this.Ff=Vn(this.Ff,14)}}),this.password=!0};Vl(P1,nm);var _r={CheckBox:{createAppearanceStream:function(){return{N:{On:_r.CheckBox.YesNormal},D:{On:_r.CheckBox.YesPushDown,Off:_r.CheckBox.OffPushDown}}},YesPushDown:function(t){var r=cf(t);r.scope=t.scope;var a=[],s=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=wC(t,t.caption);return a.push("0.749023 g"),a.push("0 0 "+ca(_r.internal.getWidth(t))+" "+ca(_r.internal.getHeight(t))+" re"),a.push("f"),a.push("BMC"),a.push("q"),a.push("0 0 1 rg"),a.push("/"+s+" "+ca(o.fontSize)+" Tf "+i),a.push("BT"),a.push(o.text),a.push("ET"),a.push("Q"),a.push("EMC"),r.stream=a.join(`
`),r},YesNormal:function(t){var r=cf(t);r.scope=t.scope;var a=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=[],o=_r.internal.getHeight(t),l=_r.internal.getWidth(t),c=wC(t,t.caption);return i.push("1 g"),i.push("0 0 "+ca(l)+" "+ca(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ca(l-1)+" "+ca(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+a+" "+ca(c.fontSize)+" Tf "+s),i.push(c.text),i.push("ET"),i.push("Q"),r.stream=i.join(`
`),r},OffPushDown:function(t){var r=cf(t);r.scope=t.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+ca(_r.internal.getWidth(t))+" "+ca(_r.internal.getHeight(t))+" re"),a.push("f"),r.stream=a.join(`
`),r}},RadioButton:{Circle:{createAppearanceStream:function(t){var r={D:{Off:_r.RadioButton.Circle.OffPushDown},N:{}};return r.N[t]=_r.RadioButton.Circle.YesNormal,r.D[t]=_r.RadioButton.Circle.YesPushDown,r},getCA:function(){return"l"},YesNormal:function(t){var r=cf(t);r.scope=t.scope;var a=[],s=_r.internal.getWidth(t)<=_r.internal.getHeight(t)?_r.internal.getWidth(t)/4:_r.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var i=_r.internal.Bezier_C,o=Number((s*i).toFixed(5));return a.push("q"),a.push("1 0 0 1 "+Rh(_r.internal.getWidth(t)/2)+" "+Rh(_r.internal.getHeight(t)/2)+" cm"),a.push(s+" 0 m"),a.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),a.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),a.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),a.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),a.push("f"),a.push("Q"),r.stream=a.join(`
`),r},YesPushDown:function(t){var r=cf(t);r.scope=t.scope;var a=[],s=_r.internal.getWidth(t)<=_r.internal.getHeight(t)?_r.internal.getWidth(t)/4:_r.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var i=Number((2*s).toFixed(5)),o=Number((i*_r.internal.Bezier_C).toFixed(5)),l=Number((s*_r.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+Rh(_r.internal.getWidth(t)/2)+" "+Rh(_r.internal.getHeight(t)/2)+" cm"),a.push(i+" 0 m"),a.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),a.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),a.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),a.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),a.push("f"),a.push("Q"),a.push("0 g"),a.push("q"),a.push("1 0 0 1 "+Rh(_r.internal.getWidth(t)/2)+" "+Rh(_r.internal.getHeight(t)/2)+" cm"),a.push(s+" 0 m"),a.push(s+" "+l+" "+l+" "+s+" 0 "+s+" c"),a.push("-"+l+" "+s+" -"+s+" "+l+" -"+s+" 0 c"),a.push("-"+s+" -"+l+" -"+l+" -"+s+" 0 -"+s+" c"),a.push(l+" -"+s+" "+s+" -"+l+" "+s+" 0 c"),a.push("f"),a.push("Q"),r.stream=a.join(`
`),r},OffPushDown:function(t){var r=cf(t);r.scope=t.scope;var a=[],s=_r.internal.getWidth(t)<=_r.internal.getHeight(t)?_r.internal.getWidth(t)/4:_r.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var i=Number((2*s).toFixed(5)),o=Number((i*_r.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+Rh(_r.internal.getWidth(t)/2)+" "+Rh(_r.internal.getHeight(t)/2)+" cm"),a.push(i+" 0 m"),a.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),a.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),a.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),a.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),a.push("f"),a.push("Q"),r.stream=a.join(`
`),r}},Cross:{createAppearanceStream:function(t){var r={D:{Off:_r.RadioButton.Cross.OffPushDown},N:{}};return r.N[t]=_r.RadioButton.Cross.YesNormal,r.D[t]=_r.RadioButton.Cross.YesPushDown,r},getCA:function(){return"8"},YesNormal:function(t){var r=cf(t);r.scope=t.scope;var a=[],s=_r.internal.calculateCross(t);return a.push("q"),a.push("1 1 "+ca(_r.internal.getWidth(t)-2)+" "+ca(_r.internal.getHeight(t)-2)+" re"),a.push("W"),a.push("n"),a.push(ca(s.x1.x)+" "+ca(s.x1.y)+" m"),a.push(ca(s.x2.x)+" "+ca(s.x2.y)+" l"),a.push(ca(s.x4.x)+" "+ca(s.x4.y)+" m"),a.push(ca(s.x3.x)+" "+ca(s.x3.y)+" l"),a.push("s"),a.push("Q"),r.stream=a.join(`
`),r},YesPushDown:function(t){var r=cf(t);r.scope=t.scope;var a=_r.internal.calculateCross(t),s=[];return s.push("0.749023 g"),s.push("0 0 "+ca(_r.internal.getWidth(t))+" "+ca(_r.internal.getHeight(t))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+ca(_r.internal.getWidth(t)-2)+" "+ca(_r.internal.getHeight(t)-2)+" re"),s.push("W"),s.push("n"),s.push(ca(a.x1.x)+" "+ca(a.x1.y)+" m"),s.push(ca(a.x2.x)+" "+ca(a.x2.y)+" l"),s.push(ca(a.x4.x)+" "+ca(a.x4.y)+" m"),s.push(ca(a.x3.x)+" "+ca(a.x3.y)+" l"),s.push("s"),s.push("Q"),r.stream=s.join(`
`),r},OffPushDown:function(t){var r=cf(t);r.scope=t.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+ca(_r.internal.getWidth(t))+" "+ca(_r.internal.getHeight(t))+" re"),a.push("f"),r.stream=a.join(`
`),r}}},createDefaultAppearanceStream:function(t){var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color);return"/"+r+" "+t.fontSize+" Tf "+a}};_r.internal={Bezier_C:.551915024494,calculateCross:function(t){var r=_r.internal.getWidth(t),a=_r.internal.getHeight(t),s=Math.min(r,a);return{x1:{x:(r-s)/2,y:(a-s)/2+s},x2:{x:(r-s)/2+s,y:(a-s)/2},x3:{x:(r-s)/2,y:(a-s)/2},x4:{x:(r-s)/2+s,y:(a-s)/2+s}}}},_r.internal.getWidth=function(t){var r=0;return gs(t)==="object"&&(r=DI(t.Rect[2])),r},_r.internal.getHeight=function(t){var r=0;return gs(t)==="object"&&(r=DI(t.Rect[3])),r};var Qee=kn.addField=function(t){if(Ree(this,t),!(t instanceof Cu))throw new Error("Invalid argument passed to jsPDF.addField.");var r;return(r=t).scope.internal.acroformPlugin.printedOut&&(r.scope.internal.acroformPlugin.printedOut=!1,r.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),r.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(r),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};kn.AcroFormChoiceField=P0,kn.AcroFormListBox=O0,kn.AcroFormComboBox=D0,kn.AcroFormEditBox=I1,kn.AcroFormButton=wi,kn.AcroFormPushButton=k1,kn.AcroFormRadioButton=L0,kn.AcroFormCheckBox=_1,kn.AcroFormTextField=nm,kn.AcroFormPasswordField=P1,kn.AcroFormAppearance=_r,kn.AcroForm={ChoiceField:P0,ListBox:O0,ComboBox:D0,EditBox:I1,Button:wi,PushButton:k1,RadioButton:L0,CheckBox:_1,TextField:nm,PasswordField:P1,Appearance:_r},Kr.AcroForm={ChoiceField:P0,ListBox:O0,ComboBox:D0,EditBox:I1,Button:wi,PushButton:k1,RadioButton:L0,CheckBox:_1,TextField:nm,PasswordField:P1,Appearance:_r};var Hee=Kr.AcroForm;function qM(t){return t.reduce(function(r,a,s){return r[a]=s,r},{})}(function(t){t.__addimage__={};var r="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=t.__addimage__.getImageFileTypeByImageData=function(H,M){var K,q,re,ee,le,Ae=r;if((M=M||r)==="RGBA"||H.data!==void 0&&H.data instanceof Uint8ClampedArray&&"height"in H&&"width"in H)return"RGBA";if(F(H))for(le in a)for(re=a[le],K=0;K<re.length;K+=1){for(ee=!0,q=0;q<re[K].length;q+=1)if(re[K][q]!==void 0&&re[K][q]!==H[q]){ee=!1;break}if(ee===!0){Ae=le;break}}else for(le in a)for(re=a[le],K=0;K<re.length;K+=1){for(ee=!0,q=0;q<re[K].length;q+=1)if(re[K][q]!==void 0&&re[K][q]!==H.charCodeAt(q)){ee=!1;break}if(ee===!0){Ae=le;break}}return Ae===r&&M!==r&&(Ae=M),Ae},i=function H(M){for(var K=this.internal.write,q=this.internal.putStream,re=(0,this.internal.getFilters)();re.indexOf("FlateEncode")!==-1;)re.splice(re.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var ee=[];if(ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Image"}),ee.push({key:"Width",value:M.width}),ee.push({key:"Height",value:M.height}),M.colorSpace===b.INDEXED?ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(ee.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===b.DEVICE_CMYK&&ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ee.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&ee.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)){for(var le="",Ae=0,ue=M.transparency.length;Ae<ue;Ae++)le+=M.transparency[Ae]+" "+M.transparency[Ae]+" ";ee.push({key:"Mask",value:"["+le+"]"})}M.sMask!==void 0&&ee.push({key:"SMask",value:M.objectId+1+" 0 R"});var se=M.filter!==void 0?["/"+M.filter]:void 0;if(q({data:M.data,additionalKeyValues:ee,alreadyAppliedFilters:se,objectId:M.objectId}),K("endobj"),"sMask"in M&&M.sMask!==void 0){var ve="/Predictor "+M.predictor+" /Colors 1 /BitsPerComponent "+M.bitsPerComponent+" /Columns "+M.width,_={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:M.bitsPerComponent,decodeParameters:ve,data:M.sMask};"filter"in M&&(_.filter=M.filter),H.call(this,_)}if(M.colorSpace===b.INDEXED){var z=this.internal.newObject();q({data:k(new Uint8Array(M.palette)),objectId:z}),K("endobj")}},o=function(){var H=this.internal.collections.addImage_images;for(var M in H)i.call(this,H[M])},l=function(){var H,M=this.internal.collections.addImage_images,K=this.internal.write;for(var q in M)K("/I"+(H=M[q]).index,H.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var H=this.internal.collections.addImage_images;return c.call(this),H},f=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(H){return typeof t["process"+H.toUpperCase()]=="function"},m=function(H){return gs(H)==="object"&&H.nodeType===1},p=function(H,M){if(H.nodeName==="IMG"&&H.hasAttribute("src")){var K=""+H.getAttribute("src");if(K.indexOf("data:image/")===0)return F1(unescape(K).split("base64,").pop());var q=t.loadFile(K,!0);if(q!==void 0)return q}if(H.nodeName==="CANVAS"){if(H.width===0||H.height===0)throw new Error("Given canvas must have data. Canvas width: "+H.width+", height: "+H.height);var re;switch(M){case"PNG":re="image/png";break;case"WEBP":re="image/webp";break;case"JPEG":case"JPG":default:re="image/jpeg"}return F1(H.toDataURL(re,1).split("base64,").pop())}},g=function(H){var M=this.internal.collections.addImage_images;if(M){for(var K in M)if(H===M[K].alias)return M[K]}},v=function(H,M,K){return H||M||(H=-96,M=-96),H<0&&(H=-1*K.width*72/H/this.internal.scaleFactor),M<0&&(M=-1*K.height*72/M/this.internal.scaleFactor),H===0&&(H=M*K.width/K.height),M===0&&(M=H*K.height/K.width),[H,M]},y=function(H,M,K,q,re,ee){var le=v.call(this,K,q,re),Ae=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,se=d.call(this);if(K=le[0],q=le[1],se[re.index]=re,ee){ee*=Math.PI/180;var ve=Math.cos(ee),_=Math.sin(ee),z=function(oe){return oe.toFixed(4)},ae=[z(ve),z(_),z(-1*_),z(ve),0,0,"cm"]}this.internal.write("q"),ee?(this.internal.write([1,"0","0",1,Ae(H),ue(M+q),"cm"].join(" ")),this.internal.write(ae.join(" ")),this.internal.write([Ae(K),"0","0",Ae(q),"0","0","cm"].join(" "))):this.internal.write([Ae(K),"0","0",Ae(q),Ae(H),ue(M+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+re.index+" Do"),this.internal.write("Q")},b=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=t.__addimage__.sHashCode=function(H){var M,K,q=0;if(typeof H=="string")for(K=H.length,M=0;M<K;M++)q=(q<<5)-q+H.charCodeAt(M),q|=0;else if(F(H))for(K=H.byteLength/2,M=0;M<K;M++)q=(q<<5)-q+H[M],q|=0;return q},S=t.__addimage__.validateStringAsBase64=function(H){(H=H||"").toString().trim();var M=!0;return H.length===0&&(M=!1),H.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(H.substr(0,H.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(H.substr(-2))===!1&&(M=!1),M},B=t.__addimage__.extractImageFromDataUrl=function(H){if(H==null||!(H=H.trim()).startsWith("data:"))return null;var M=H.indexOf(",");return M<0?null:H.substring(0,M).trim().endsWith("base64")?H.substring(M+1):null},I=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(H){return I()&&H instanceof ArrayBuffer};var F=t.__addimage__.isArrayBufferView=function(H){return I()&&typeof Uint32Array<"u"&&(H instanceof Int8Array||H instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&H instanceof Uint8ClampedArray||H instanceof Int16Array||H instanceof Uint16Array||H instanceof Int32Array||H instanceof Uint32Array||H instanceof Float32Array||H instanceof Float64Array)},O=t.__addimage__.binaryStringToUint8Array=function(H){for(var M=H.length,K=new Uint8Array(M),q=0;q<M;q++)K[q]=H.charCodeAt(q);return K},k=t.__addimage__.arrayBufferToBinaryString=function(H){for(var M="",K=F(H)?H:new Uint8Array(H),q=0;q<K.length;q+=8192)M+=String.fromCharCode.apply(null,K.subarray(q,q+8192));return M};t.addImage=function(){var H,M,K,q,re,ee,le,Ae,ue;if(typeof arguments[1]=="number"?(M=r,K=arguments[1],q=arguments[2],re=arguments[3],ee=arguments[4],le=arguments[5],Ae=arguments[6],ue=arguments[7]):(M=arguments[1],K=arguments[2],q=arguments[3],re=arguments[4],ee=arguments[5],le=arguments[6],Ae=arguments[7],ue=arguments[8]),gs(H=arguments[0])==="object"&&!m(H)&&"imageData"in H){var se=H;H=se.imageData,M=se.format||M||r,K=se.x||K||0,q=se.y||q||0,re=se.w||se.width||re,ee=se.h||se.height||ee,le=se.alias||le,Ae=se.compression||Ae,ue=se.rotation||se.angle||ue}var ve=this.internal.getFilters();if(Ae===void 0&&ve.indexOf("FlateEncode")!==-1&&(Ae="SLOW"),isNaN(K)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var _=V.call(this,H,M,le,Ae);return y.call(this,K,q,re,ee,_,ue),this};var V=function(H,M,K,q){var re,ee,le;if(typeof H=="string"&&s(H)===r){H=unescape(H);var Ae=Q(H,!1);(Ae!==""||(Ae=t.loadFile(H,!0))!==void 0)&&(H=Ae)}if(m(H)&&(H=p(H,M)),M=s(H,M),!u(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((le=K)==null||le.length===0)&&(K=function(ue){return typeof ue=="string"||F(ue)?N(ue):F(ue.data)?N(ue.data):null}(H)),(re=g.call(this,K))||(I()&&(H instanceof Uint8Array||M==="RGBA"||(ee=H,H=O(H))),re=this["process"+M.toUpperCase()](H,f.call(this),K,function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in t.image_compression?ue:j.NONE}(q),ee)),!re)throw new Error("An unknown error occurred whilst processing the image.");return re},Q=t.__addimage__.convertBase64ToBinaryString=function(H,M){M=typeof M!="boolean"||M;var K,q="";if(typeof H=="string"){var re;K=(re=B(H))!==null&&re!==void 0?re:H;try{q=F1(K)}catch(ee){if(M)throw S(K)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};t.getImageProperties=function(H){var M,K,q="";if(m(H)&&(H=p(H)),typeof H=="string"&&s(H)===r&&((q=Q(H,!1))===""&&(q=t.loadFile(H)||""),H=q),K=s(H),!u(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(!I()||H instanceof Uint8Array||(H=O(H)),!(M=this["process"+K.toUpperCase()](H)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=K,M}})(Kr.API),function(t){var r=function(a){if(a!==void 0&&a!="")return!0};Kr.API.events.push(["addPage",function(a){this.internal.getPageInfo(a.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(a){for(var s,i,o,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(a.objId),f=a.pageContext.annotations,u=!1,m=0;m<f.length&&!u;m++)switch((s=f[m]).type){case"link":(r(s.options.url)||r(s.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<f.length;p++){s=f[p];var g=this.internal.pdfEscape,v=this.internal.getEncryptor(a.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(y.objId),N=s.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+l(s.bounds.x)+" "+c(s.bounds.y+s.bounds.h)+" "+l(s.bounds.x+s.bounds.w)+" "+c(s.bounds.y)+"] ")+"/Contents ("+g(j(s.contents))+")",o+=" /Popup "+b.objId+" 0 R",o+=" /P "+d.objId+" 0 R",o+=" /T ("+g(j(N))+") >>",y.content=o;var S=y.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+l(s.bounds.x+30)+" "+c(s.bounds.y+s.bounds.h)+" "+l(s.bounds.x+s.bounds.w+30)+" "+c(s.bounds.y)+"] ")+" /Parent "+S,s.open&&(o+=" /Open true"),o+=" >>",b.content=o,this.internal.write(y.objId,"0 R",b.objId,"0 R");break;case"freetext":i="/Rect ["+l(s.bounds.x)+" "+c(s.bounds.y)+" "+l(s.bounds.x+s.bounds.w)+" "+c(s.bounds.y+s.bounds.h)+"] ";var B=s.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(v(s.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(s.options.name){var I=this.annotations._nameMap[s.options.name];s.options.pageNumber=I.page,s.options.top=I.y}else s.options.top||(s.options.top=0);if(i="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",o="",s.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(v(s.options.url))+") >>";else if(s.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,o+=" /FitV "+s.options.left+"]";break;case"XYZ":default:var F=c(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),o+=" /XYZ "+s.options.left+" "+F+" "+s.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(a){var s=this.internal.getCurrentPageInfo();switch(a.type){case"link":this.link(a.bounds.x,a.bounds.y,a.bounds.w,a.bounds.h,a);break;case"text":case"freetext":s.pageContext.annotations.push(a)}},t.link=function(a,s,i,o,l){var c=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:d(a),y:f(s),w:d(a+i),h:f(s+o)},options:l,type:"link"})},t.textWithLink=function(a,s,i,o){var l,c,d=this.getTextWidth(a),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var u=this.splitTextToSize(a,c).length;l=Math.ceil(f*u)}else c=d,l=f;return this.text(a,s,i,o),i+=.2*f,o.align==="center"&&(s-=d/2),o.align==="right"&&(s-=d),this.link(s,i-f,c,l,o),d},t.getTextWidth=function(a){var s=this.internal.getFontSize();return this.getStringUnitWidth(a)*s/this.internal.scaleFactor}}(Kr.API),function(t){var r={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},a={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(y){return r[y.charCodeAt(0)]!==void 0},l=t.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},c=t.__arabicParser__.isArabicEndLetter=function(y){return l(y)&&o(y)&&r[y.charCodeAt(0)].length<=2},d=t.__arabicParser__.isArabicAlfLetter=function(y){return l(y)&&i.indexOf(y.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return l(y)&&o(y)&&r[y.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(y){return l(y)&&o(y)&&r[y.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(y){return l(y)&&o(y)&&r[y.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(y){return l(y)&&o(y)&&r[y.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(y){var b=0,j=a,N="",S=0;for(b=0;b<y.length;b+=1)j[y.charCodeAt(b)]!==void 0?(S++,typeof(j=j[y.charCodeAt(b)])=="number"&&(N+=String.fromCharCode(j),j=a,S=0),b===y.length-1&&(j=a,N+=y.charAt(b-(S-1)),b-=S-1,S=0)):(j=a,N+=y.charAt(b-S),b-=S,S=0);return N};t.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&s[y.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(y,b,j){return l(y)?o(y)===!1?-1:!f(y)||!l(b)&&!l(j)||!l(j)&&c(b)||c(y)&&!l(b)||c(y)&&d(b)||c(y)&&c(b)?0:u(y)&&l(b)&&!c(b)&&l(j)&&f(j)?3:c(y)||!l(j)?1:2:-1},g=function(y){var b=0,j=0,N=0,S="",B="",I="",F=(y=y||"").split("\\s+"),O=[];for(b=0;b<F.length;b+=1){for(O.push(""),j=0;j<F[b].length;j+=1)S=F[b][j],B=F[b][j-1],I=F[b][j+1],l(S)?(N=p(S,B,I),O[b]+=N!==-1?String.fromCharCode(r[S.charCodeAt(0)][N]):S):O[b]+=S;O[b]=m(O[b])}return O.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var y,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(b)){var N=0;for(j=[],N=0;N<b.length;N+=1)Array.isArray(b[N])?j.push([g(b[N][0]),b[N][1],b[N][2]]):j.push([g(b[N])]);y=j}else y=g(b);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};t.events.push(["preProcessText",v])}(Kr.API),Kr.API.autoPrint=function(t){var r;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+r+" 0 R")})}return this},function(t){var r=function(){var a=void 0;Object.defineProperty(this,"pdf",{get:function(){return a},set:function(c){a=c}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};r.prototype.getContext=function(a,s){var i;if((a=a||"2d")!=="2d")return null;for(i in s)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=s[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},r.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new r,this.canvas.pdf=this}])}(Kr.API),function(t){var r={left:0,top:0,bottom:0,right:0},a=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},r),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(y){m=y}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(y){v=y}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(d){return s.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},t.getTextDimensions=function(d,f){s.call(this);var u=(f=f||{}).fontSize||this.getFontSize(),m=f.font||this.getFont(),p=f.scaleFactor||this.internal.scaleFactor,g=0,v=0,y=0,b=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var j=f.maxWidth;j>0?typeof d=="string"?d=this.splitTextToSize(d,j):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(S,B){return S.concat(b.splitTextToSize(B,j))},[])):d=Array.isArray(d)?d:[d];for(var N=0;N<d.length;N++)g<(y=this.getStringUnitWidth(d[N],{font:m})*u)&&(g=y);return g!==0&&(v=d.length),{w:g/=p,h:Math.max((v*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){s.call(this),this.addPage();var d=this.internal.__cell__.margins||r;return this.internal.__cell__.lastCell=new o(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=t.cell=function(){var d;d=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var f=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,m=this.internal.__cell__.margins||r,p=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===d.lineNumber?(d.x=(f.x||0)+(f.width||0),d.y=f.y||0):f.y+f.height+d.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=m.top,g&&p&&(this.printHeaderRow(d.lineNumber,!0),d.y+=p[0].height)):d.y=f.y+f.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,a===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-u,d.y+u,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+u,{align:"center",baseline:"top",maxWidth:d.width-u-u}):this.text(d.text,d.x+u,d.y+u,{align:"left",baseline:"top",maxWidth:d.width-u-u})),this.internal.__cell__.lastCell=d,this};t.table=function(d,f,u,m,p){if(s.call(this),!u)throw new Error("No data for PDF table.");var g,v,y,b,j=[],N=[],S=[],B={},I={},F=[],O=[],k=(p=p||{}).autoSize||!1,V=p.printHeaders!==!1,Q=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,H=p.margins||Object.assign({width:this.getPageWidth()},r),M=typeof p.padding=="number"?p.padding:3,K=p.headerBackgroundColor||"#c8c8c8",q=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=V,this.internal.__cell__.margins=H,this.internal.__cell__.table_font_size=Q,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=q,this.setFontSize(Q),m==null)N=j=Object.keys(u[0]),S=j.map(function(){return"left"});else if(Array.isArray(m)&&gs(m[0])==="object")for(j=m.map(function(se){return se.name}),N=m.map(function(se){return se.prompt||se.name||""}),S=m.map(function(se){return se.align||"left"}),g=0;g<m.length;g+=1)I[m[g].name]=m[g].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(N=j=m,S=j.map(function(){return"left"}));if(k||Array.isArray(m)&&typeof m[0]=="string")for(g=0;g<j.length;g+=1){for(B[b=j[g]]=u.map(function(se){return se[b]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(N[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=B[b],this.setFont(void 0,"normal"),y=0;y<v.length;y+=1)F.push(this.getTextDimensions(v[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);I[b]=Math.max.apply(null,F)+M+M,F=[]}if(V){var re={};for(g=0;g<j.length;g+=1)re[j[g]]={},re[j[g]].text=N[g],re[j[g]].align=S[g];var ee=c.call(this,re,I);O=j.map(function(se){return new o(d,f,I[se],ee,re[se].text,void 0,re[se].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var le=m.reduce(function(se,ve){return se[ve.name]=ve.align,se},{});for(g=0;g<u.length;g+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:g,data:u[g]},this);var Ae=c.call(this,u[g],I);for(y=0;y<j.length;y+=1){var ue=u[g][j[y]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:g,col:y,data:ue},this),l.call(this,new o(d,f,I[j[y]],Ae,ue,g+2,le[j[y]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=f,this};var c=function(d,f){var u=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(d).map(function(g){var v=d[g];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,f[g]-u-u)},this).map(function(g){return this.getLineHeightFactor()*g.length*m/p+u+u},this).reduce(function(g,v){return Math.max(g,v)},0)};t.setTableHeaderRow=function(d){s.call(this),this.internal.__cell__.tableHeaderRow=d},t.printHeaderRow=function(d,f){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(a=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){u=this.internal.__cell__.tableHeaderRow[g].clone(),f&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=d;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,u),this.setTextColor(v)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),a=!1}}(Kr.API);var YM={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},XM=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],jC=qM(XM),JM=[100,200,300,400,500,600,700,800,900],$ee=qM(JM);function NC(t){var r=t.family.replace(/"|'/g,"").toLowerCase(),a=function(o){return YM[o=o||"normal"]?o:"normal"}(t.style),s=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(o){return typeof jC[o=o||"normal"]=="number"?o:"normal"}(t.stretch);return{family:r,style:a,weight:s,stretch:i,src:t.src||[],ref:t.ref||{name:r,style:[i,a,s].join(" ")}}}function LI(t,r,a,s){var i;for(i=a;i>=0&&i<r.length;i+=s)if(t[r[i]])return t[r[i]];for(i=a;i>=0&&i<r.length;i-=s)if(t[r[i]])return t[r[i]]}var zee={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},MI={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function UI(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Vee(t,r,a){for(var s=(a=a||{}).defaultFontFamily||"times",i=Object.assign({},zee,a.genericFontFamilies||{}),o=null,l=null,c=0;c<r.length;++c)if(i[(o=NC(r[c])).family]&&(o.family=i[o.family]),t.hasOwnProperty(o.family)){l=t[o.family];break}if(!(l=l||t[s]))throw new Error("Could not find a font-family for the rule '"+UI(o)+"' and default family '"+s+"'.");if(l=function(d,f){if(f[d])return f[d];var u=jC[d],m=u<=jC.normal?-1:1,p=LI(f,XM,u,m);if(!p)throw new Error("Could not find a matching font-stretch value for "+d);return p}(o.stretch,l),l=function(d,f){if(f[d])return f[d];for(var u=YM[d],m=0;m<u.length;++m)if(f[u[m]])return f[u[m]];throw new Error("Could not find a matching font-style for "+d)}(o.style,l),!(l=function(d,f){if(f[d])return f[d];if(d===400&&f[500])return f[500];if(d===500&&f[400])return f[400];var u=$ee[d],m=LI(f,JM,u,d<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+d);return m}(o.weight,l)))throw new Error("Failed to resolve a font for the rule '"+UI(o)+"'.");return l}function RI(t){return t.trimLeft()}function Kee(t,r){for(var a=0;a<t.length;){if(t.charAt(a)===r)return[t.substring(0,a),t.substring(a+1)];a+=1}return null}function Gee(t){var r=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return r===null?null:[r[0],t.substring(r[0].length)]}var ub,QI,HI,sN=["times"];(function(t){var r,a,s,i,o,l,c,d,f,u=function(_){return _=_||{},this.isStrokeTransparent=_.isStrokeTransparent||!1,this.strokeOpacity=_.strokeOpacity||1,this.strokeStyle=_.strokeStyle||"#000000",this.fillStyle=_.fillStyle||"#000000",this.isFillTransparent=_.isFillTransparent||!1,this.fillOpacity=_.fillOpacity||1,this.font=_.font||"10px sans-serif",this.textBaseline=_.textBaseline||"alphabetic",this.textAlign=_.textAlign||"left",this.lineWidth=_.lineWidth||1,this.lineJoin=_.lineJoin||"miter",this.lineCap=_.lineCap||"butt",this.path=_.path||[],this.transform=_.transform!==void 0?_.transform.clone():new d,this.globalCompositeOperation=_.globalCompositeOperation||"normal",this.globalAlpha=_.globalAlpha||1,this.clip_path=_.clip_path||[],this.currentPoint=_.currentPoint||new l,this.miterLimit=_.miterLimit||10,this.lastPoint=_.lastPoint||new l,this.lineDashOffset=_.lineDashOffset||0,this.lineDash=_.lineDash||[],this.margin=_.margin||[0,0,0,0],this.prevPageLastElemOffset=_.prevPageLastElemOffset||0,this.ignoreClearRect=typeof _.ignoreClearRect!="boolean"||_.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),r=this.internal.f2,a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,d=this.internal.Matrix,f=new u}]);var m=function(_){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=_;Object.defineProperty(this,"pdf",{get:function(){return z}});var ae=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ae},set:function(pe){ae=!!pe}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(pe){oe=!!pe}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(pe){isNaN(pe)||(ce=pe)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(pe){isNaN(pe)||(me=pe)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(pe){var Y;typeof pe=="number"?Y=[pe,pe,pe,pe]:((Y=new Array(4))[0]=pe[0],Y[1]=pe.length>=2?pe[1]:Y[0],Y[2]=pe.length>=3?pe[2]:Y[0],Y[3]=pe.length>=4?pe[3]:Y[1]),f.margin=Y}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(pe){he=pe}});var te=0;Object.defineProperty(this,"lastBreak",{get:function(){return te},set:function(pe){te=pe}});var J=[];Object.defineProperty(this,"pageBreaks",{get:function(){return J},set:function(pe){J=pe}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(pe){pe instanceof u&&(f=pe)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(pe){f.path=pe}});var X=[];Object.defineProperty(this,"ctxStack",{get:function(){return X},set:function(pe){X=pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(pe){var Y;Y=p(pe),this.ctx.fillStyle=Y.style,this.ctx.isFillTransparent=Y.a===0,this.ctx.fillOpacity=Y.a,this.pdf.setFillColor(Y.r,Y.g,Y.b,{a:Y.a}),this.pdf.setTextColor(Y.r,Y.g,Y.b,{a:Y.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(pe){var Y=p(pe);this.ctx.strokeStyle=Y.style,this.ctx.isStrokeTransparent=Y.a===0,this.ctx.strokeOpacity=Y.a,Y.a===0?this.pdf.setDrawColor(255,255,255):(Y.a,this.pdf.setDrawColor(Y.r,Y.g,Y.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(pe){["butt","round","square"].indexOf(pe)!==-1&&(this.ctx.lineCap=pe,this.pdf.setLineCap(pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(pe){isNaN(pe)||(this.ctx.lineWidth=pe,this.pdf.setLineWidth(pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(pe){["bevel","round","miter"].indexOf(pe)!==-1&&(this.ctx.lineJoin=pe,this.pdf.setLineJoin(pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(pe){isNaN(pe)||(this.ctx.miterLimit=pe,this.pdf.setMiterLimit(pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(pe){this.ctx.textBaseline=pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(pe){["right","end","center","left","start"].indexOf(pe)!==-1&&(this.ctx.textAlign=pe)}});var xe=null;function Ne(pe,Y){if(xe===null){var Le=function(ie){var de=[];return Object.keys(ie).forEach(function(je){ie[je].forEach(function(ye){var Ce=null;switch(ye){case"bold":Ce={family:je,weight:"bold"};break;case"italic":Ce={family:je,style:"italic"};break;case"bolditalic":Ce={family:je,weight:"bold",style:"italic"};break;case"":case"normal":Ce={family:je}}Ce!==null&&(Ce.ref={name:je,style:ye},de.push(Ce))})}),de}(pe.getFontList());xe=function(ie){for(var de={},je=0;je<ie.length;++je){var ye=NC(ie[je]),Ce=ye.family,be=ye.stretch,Ee=ye.style,Qe=ye.weight;de[Ce]=de[Ce]||{},de[Ce][be]=de[Ce][be]||{},de[Ce][be][Ee]=de[Ce][be][Ee]||{},de[Ce][be][Ee][Qe]=ye}return de}(Le.concat(Y))}return xe}var ge=null;Object.defineProperty(this,"fontFaces",{get:function(){return ge},set:function(pe){xe=null,ge=pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(pe){var Y;if(this.ctx.font=pe,(Y=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(pe))!==null){var Le=Y[1];Y[2];var ie=Y[3],de=Y[4];Y[5];var je=Y[6],ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(de)[2];de=Math.floor(ye==="px"?parseFloat(de)*this.pdf.internal.scaleFactor:ye==="em"?parseFloat(de)*this.pdf.getFontSize():parseFloat(de)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(de);var Ce=function(xt){var it,_e,dt=[],yt=xt.trim();if(yt==="")return sN;if(yt in MI)return[MI[yt]];for(;yt!=="";){switch(_e=null,it=(yt=RI(yt)).charAt(0)){case'"':case"'":_e=Kee(yt.substring(1),it);break;default:_e=Gee(yt)}if(_e===null||(dt.push(_e[0]),(yt=RI(_e[1]))!==""&&yt.charAt(0)!==","))return sN;yt=yt.replace(/^,/,"")}return dt}(je);if(this.fontFaces){var be=Vee(Ne(this.pdf,this.fontFaces),Ce.map(function(xt){return{family:xt,stretch:"normal",weight:ie,style:Le}}));this.pdf.setFont(be.ref.name,be.ref.style)}else{var Ee="";(ie==="bold"||parseInt(ie,10)>=700||Le==="bold")&&(Ee="bold"),Le==="italic"&&(Ee+="italic"),Ee.length===0&&(Ee="normal");for(var Qe="",rt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Te=0;Te<Ce.length;Te++){if(this.pdf.internal.getFont(Ce[Te],Ee,{noFallback:!0,disableWarning:!0})!==void 0){Qe=Ce[Te];break}if(Ee==="bolditalic"&&this.pdf.internal.getFont(Ce[Te],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Qe=Ce[Te],Ee="bold";else if(this.pdf.internal.getFont(Ce[Te],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Qe=Ce[Te],Ee="normal";break}}if(Qe===""){for(var nt=0;nt<Ce.length;nt++)if(rt[Ce[nt]]){Qe=rt[Ce[nt]];break}}Qe=Qe===""?"Times":Qe,this.pdf.setFont(Qe,Ee)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(pe){this.ctx.globalCompositeOperation=pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(pe){this.ctx.globalAlpha=pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(pe){this.ctx.lineDashOffset=pe,ve.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(pe){this.ctx.lineDash=pe,ve.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(pe){this.ctx.ignoreClearRect=!!pe}})};m.prototype.setLineDash=function(_){this.lineDash=_},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){B.call(this,"fill",!1)},m.prototype.stroke=function(){B.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(_,z){if(isNaN(_)||isNaN(z))throw Ls.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ae=this.ctx.transform.applyToPoint(new l(_,z));this.path.push({type:"mt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new l(_,z)},m.prototype.closePath=function(){var _=new l(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&gs(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){_=new l(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(_.x,_.y)},m.prototype.lineTo=function(_,z){if(isNaN(_)||isNaN(z))throw Ls.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ae=this.ctx.transform.applyToPoint(new l(_,z));this.path.push({type:"lt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new l(ae.x,ae.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},m.prototype.quadraticCurveTo=function(_,z,ae,oe){if(isNaN(ae)||isNaN(oe)||isNaN(_)||isNaN(z))throw Ls.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new l(ae,oe)),me=this.ctx.transform.applyToPoint(new l(_,z));this.path.push({type:"qct",x1:me.x,y1:me.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new l(ce.x,ce.y)},m.prototype.bezierCurveTo=function(_,z,ae,oe,ce,me){if(isNaN(ce)||isNaN(me)||isNaN(_)||isNaN(z)||isNaN(ae)||isNaN(oe))throw Ls.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new l(ce,me)),te=this.ctx.transform.applyToPoint(new l(_,z)),J=this.ctx.transform.applyToPoint(new l(ae,oe));this.path.push({type:"bct",x1:te.x,y1:te.y,x2:J.x,y2:J.y,x:he.x,y:he.y}),this.ctx.lastPoint=new l(he.x,he.y)},m.prototype.arc=function(_,z,ae,oe,ce,me){if(isNaN(_)||isNaN(z)||isNaN(ae)||isNaN(oe)||isNaN(ce))throw Ls.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new l(_,z));_=he.x,z=he.y;var te=this.ctx.transform.applyToPoint(new l(0,ae)),J=this.ctx.transform.applyToPoint(new l(0,0));ae=Math.sqrt(Math.pow(te.x-J.x,2)+Math.pow(te.y-J.y,2))}Math.abs(ce-oe)>=2*Math.PI&&(oe=0,ce=2*Math.PI),this.path.push({type:"arc",x:_,y:z,radius:ae,startAngle:oe,endAngle:ce,counterclockwise:me})},m.prototype.arcTo=function(_,z,ae,oe,ce){throw new Error("arcTo not implemented.")},m.prototype.rect=function(_,z,ae,oe){if(isNaN(_)||isNaN(z)||isNaN(ae)||isNaN(oe))throw Ls.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(_,z),this.lineTo(_+ae,z),this.lineTo(_+ae,z+oe),this.lineTo(_,z+oe),this.lineTo(_,z),this.lineTo(_+ae,z),this.lineTo(_,z)},m.prototype.fillRect=function(_,z,ae,oe){if(isNaN(_)||isNaN(z)||isNaN(ae)||isNaN(oe))throw Ls.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(_,z,ae,oe),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},m.prototype.strokeRect=function(_,z,ae,oe){if(isNaN(_)||isNaN(z)||isNaN(ae)||isNaN(oe))throw Ls.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(_,z,ae,oe),this.stroke())},m.prototype.clearRect=function(_,z,ae,oe){if(isNaN(_)||isNaN(z)||isNaN(ae)||isNaN(oe))throw Ls.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(_,z,ae,oe))},m.prototype.save=function(_){_=typeof _!="boolean"||_;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),_){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},m.prototype.restore=function(_){_=typeof _!="boolean"||_;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("Q");this.pdf.setPage(z),_&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(_){var z,ae,oe,ce;if(_.isCanvasGradient===!0&&(_=_.getColor()),!_)return{r:0,g:0,b:0,a:0,style:_};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(_))z=0,ae=0,oe=0,ce=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(_);if(me!==null)z=parseInt(me[1]),ae=parseInt(me[2]),oe=parseInt(me[3]),ce=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(_))!==null)z=parseInt(me[1]),ae=parseInt(me[2]),oe=parseInt(me[3]),ce=parseFloat(me[4]);else{if(ce=1,typeof _=="string"&&_.charAt(0)!=="#"){var he=new $M(_);_=he.ok?he.toHex():"#000000"}_.length===4?(z=_.substring(1,2),z+=z,ae=_.substring(2,3),ae+=ae,oe=_.substring(3,4),oe+=oe):(z=_.substring(1,3),ae=_.substring(3,5),oe=_.substring(5,7)),z=parseInt(z,16),ae=parseInt(ae,16),oe=parseInt(oe,16)}}return{r:z,g:ae,b:oe,a:ce,style:_}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(_,z,ae,oe){if(isNaN(z)||isNaN(ae)||typeof _!="string")throw Ls.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!g.call(this)){var ce=Ae(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;M.call(this,{text:_,x:z,y:ae,scale:me,angle:ce,align:this.textAlign,maxWidth:oe})}},m.prototype.strokeText=function(_,z,ae,oe){if(isNaN(z)||isNaN(ae)||typeof _!="string")throw Ls.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){oe=isNaN(oe)?void 0:oe;var ce=Ae(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;M.call(this,{text:_,x:z,y:ae,scale:me,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:oe})}},m.prototype.measureText=function(_){if(typeof _!="string")throw Ls.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,ae=this.pdf.internal.scaleFactor,oe=z.internal.getFontSize(),ce=z.getStringUnitWidth(_)*oe/z.internal.scaleFactor,me=function(he){var te=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return te}}),this};return new me({width:ce*=Math.round(96*ae/72*1e4)/1e4})},m.prototype.scale=function(_,z){if(isNaN(_)||isNaN(z))throw Ls.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ae=new d(_,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(ae)},m.prototype.rotate=function(_){if(isNaN(_))throw Ls.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new d(Math.cos(_),Math.sin(_),-Math.sin(_),Math.cos(_),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},m.prototype.translate=function(_,z){if(isNaN(_)||isNaN(z))throw Ls.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ae=new d(1,0,0,1,_,z);this.ctx.transform=this.ctx.transform.multiply(ae)},m.prototype.transform=function(_,z,ae,oe,ce,me){if(isNaN(_)||isNaN(z)||isNaN(ae)||isNaN(oe)||isNaN(ce)||isNaN(me))throw Ls.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new d(_,z,ae,oe,ce,me);this.ctx.transform=this.ctx.transform.multiply(he)},m.prototype.setTransform=function(_,z,ae,oe,ce,me){_=isNaN(_)?1:_,z=isNaN(z)?0:z,ae=isNaN(ae)?0:ae,oe=isNaN(oe)?1:oe,ce=isNaN(ce)?0:ce,me=isNaN(me)?0:me,this.ctx.transform=new d(_,z,ae,oe,ce,me)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(_,z,ae,oe,ce,me,he,te,J){var X=this.pdf.getImageProperties(_),xe=1,Ne=1,ge=1,pe=1;oe!==void 0&&te!==void 0&&(ge=te/oe,pe=J/ce,xe=X.width/oe*te/oe,Ne=X.height/ce*J/ce),me===void 0&&(me=z,he=ae,z=0,ae=0),oe!==void 0&&te===void 0&&(te=oe,J=ce),oe===void 0&&te===void 0&&(te=X.width,J=X.height);for(var Y,Le=this.ctx.transform.decompose(),ie=Ae(Le.rotate.shx),de=new d,je=(de=(de=(de=de.multiply(Le.translate)).multiply(Le.skew)).multiply(Le.scale)).applyToRectangle(new c(me-z*ge,he-ae*pe,oe*xe,ce*Ne)),ye=b.call(this,je),Ce=[],be=0;be<ye.length;be+=1)Ce.indexOf(ye[be])===-1&&Ce.push(ye[be]);if(S(Ce),this.autoPaging)for(var Ee=Ce[0],Qe=Ce[Ce.length-1],rt=Ee;rt<Qe+1;rt++){this.pdf.setPage(rt);var Te=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],nt=rt===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_e=rt===1?0:xt+(rt-2)*it;if(this.ctx.clip_path.length!==0){var dt=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(Y,this.posX+this.margin[3],-_e+nt+this.ctx.prevPageLastElemOffset),I.call(this,"fill",!0),this.path=dt}var yt=JSON.parse(JSON.stringify(je));yt=N([yt],this.posX+this.margin[3],-_e+nt+this.ctx.prevPageLastElemOffset)[0];var rr=(rt>Ee||rt<Qe)&&y.call(this);rr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Te,it,null).clip().discardPath()),this.pdf.addImage(_,"JPEG",yt.x,yt.y,yt.w,yt.h,null,null,ie),rr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(_,"JPEG",je.x,je.y,je.w,je.h,null,null,ie)};var b=function(_,z,ae){var oe=[];z=z||this.pdf.internal.pageSize.width,ae=ae||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(_.type){default:case"mt":case"lt":oe.push(Math.floor((_.y+ce)/ae)+1);break;case"arc":oe.push(Math.floor((_.y+ce-_.radius)/ae)+1),oe.push(Math.floor((_.y+ce+_.radius)/ae)+1);break;case"qct":var me=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x,_.y);oe.push(Math.floor((me.y+ce)/ae)+1),oe.push(Math.floor((me.y+me.h+ce)/ae)+1);break;case"bct":var he=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x2,_.y2,_.x,_.y);oe.push(Math.floor((he.y+ce)/ae)+1),oe.push(Math.floor((he.y+he.h+ce)/ae)+1);break;case"rect":oe.push(Math.floor((_.y+ce)/ae)+1),oe.push(Math.floor((_.y+_.h+ce)/ae)+1)}for(var te=0;te<oe.length;te+=1)for(;this.pdf.internal.getNumberOfPages()<oe[te];)j.call(this);return oe},j=function(){var _=this.fillStyle,z=this.strokeStyle,ae=this.font,oe=this.lineCap,ce=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=_,this.strokeStyle=z,this.font=ae,this.lineCap=oe,this.lineWidth=ce,this.lineJoin=me},N=function(_,z,ae){for(var oe=0;oe<_.length;oe++)switch(_[oe].type){case"bct":_[oe].x2+=z,_[oe].y2+=ae;case"qct":_[oe].x1+=z,_[oe].y1+=ae;case"mt":case"lt":case"arc":default:_[oe].x+=z,_[oe].y+=ae}return _},S=function(_){return _.sort(function(z,ae){return z-ae})},B=function(_,z){for(var ae,oe,ce=this.fillStyle,me=this.strokeStyle,he=this.lineCap,te=this.lineWidth,J=Math.abs(te*this.ctx.transform.scaleX),X=this.lineJoin,xe=JSON.parse(JSON.stringify(this.path)),Ne=JSON.parse(JSON.stringify(this.path)),ge=[],pe=0;pe<Ne.length;pe++)if(Ne[pe].x!==void 0)for(var Y=b.call(this,Ne[pe]),Le=0;Le<Y.length;Le+=1)ge.indexOf(Y[Le])===-1&&ge.push(Y[Le]);for(var ie=0;ie<ge.length;ie++)for(;this.pdf.internal.getNumberOfPages()<ge[ie];)j.call(this);if(S(ge),this.autoPaging)for(var de=ge[0],je=ge[ge.length-1],ye=de;ye<je+1;ye++){this.pdf.setPage(ye),this.fillStyle=ce,this.strokeStyle=me,this.lineCap=he,this.lineWidth=J,this.lineJoin=X;var Ce=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],be=ye===1?this.posY+this.margin[0]:this.margin[0],Ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=ye===1?0:Ee+(ye-2)*Qe;if(this.ctx.clip_path.length!==0){var Te=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(ae,this.posX+this.margin[3],-rt+be+this.ctx.prevPageLastElemOffset),I.call(this,_,!0),this.path=Te}if(oe=JSON.parse(JSON.stringify(xe)),this.path=N(oe,this.posX+this.margin[3],-rt+be+this.ctx.prevPageLastElemOffset),z===!1||ye===0){var nt=(ye>de||ye<je)&&y.call(this);nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ce,Qe,null).clip().discardPath()),I.call(this,_,z),nt&&this.pdf.restoreGraphicsState()}this.lineWidth=te}else this.lineWidth=J,I.call(this,_,z),this.lineWidth=te;this.path=xe},I=function(_,z){if((_!=="stroke"||z||!v.call(this))&&(_==="stroke"||z||!g.call(this))){for(var ae,oe,ce=[],me=this.path,he=0;he<me.length;he++){var te=me[he];switch(te.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:te,deltas:[],abs:[]});break;case"lt":var J=ce.length;if(me[he-1]&&!isNaN(me[he-1].x)&&(ae=[te.x-me[he-1].x,te.y-me[he-1].y],J>0)){for(;J>=0;J--)if(ce[J-1].close!==!0&&ce[J-1].begin!==!0){ce[J-1].deltas.push(ae),ce[J-1].abs.push(te);break}}break;case"bct":ae=[te.x1-me[he-1].x,te.y1-me[he-1].y,te.x2-me[he-1].x,te.y2-me[he-1].y,te.x-me[he-1].x,te.y-me[he-1].y],ce[ce.length-1].deltas.push(ae);break;case"qct":var X=me[he-1].x+2/3*(te.x1-me[he-1].x),xe=me[he-1].y+2/3*(te.y1-me[he-1].y),Ne=te.x+2/3*(te.x1-te.x),ge=te.y+2/3*(te.y1-te.y),pe=te.x,Y=te.y;ae=[X-me[he-1].x,xe-me[he-1].y,Ne-me[he-1].x,ge-me[he-1].y,pe-me[he-1].x,Y-me[he-1].y],ce[ce.length-1].deltas.push(ae);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(te)}}oe=z?null:_==="stroke"?"stroke":"fill";for(var Le=!1,ie=0;ie<ce.length;ie++)if(ce[ie].arc)for(var de=ce[ie].abs,je=0;je<de.length;je++){var ye=de[je];ye.type==="arc"?k.call(this,ye.x,ye.y,ye.radius,ye.startAngle,ye.endAngle,ye.counterclockwise,void 0,z,!Le):K.call(this,ye.x,ye.y),Le=!0}else if(ce[ie].close===!0)this.pdf.internal.out("h"),Le=!1;else if(ce[ie].begin!==!0){var Ce=ce[ie].start.x,be=ce[ie].start.y;q.call(this,ce[ie].deltas,Ce,be),Le=!0}oe&&V.call(this,oe),z&&Q.call(this)}},F=function(_){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ae=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return _-ae;case"top":return _+z-ae;case"hanging":return _+z-2*ae;case"middle":return _+z/2-ae;case"ideographic":return _;case"alphabetic":default:return _}},O=function(_){return _+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var _=function(){};return _.colorStops=[],_.addColorStop=function(z,ae){this.colorStops.push([z,ae])},_.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},_.isCanvasGradient=!0,_},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(_,z,ae,oe,ce,me,he,te,J){for(var X=ee.call(this,ae,oe,ce,me),xe=0;xe<X.length;xe++){var Ne=X[xe];xe===0&&(J?H.call(this,Ne.x1+_,Ne.y1+z):K.call(this,Ne.x1+_,Ne.y1+z)),re.call(this,_,z,Ne.x2,Ne.y2,Ne.x3,Ne.y3,Ne.x4,Ne.y4)}te?Q.call(this):V.call(this,he)},V=function(_){switch(_){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Q=function(){this.pdf.clip(),this.pdf.discardPath()},H=function(_,z){this.pdf.internal.out(a(_)+" "+s(z)+" m")},M=function(_){var z;switch(_.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var ae=this.pdf.getTextDimensions(_.text),oe=F.call(this,_.y),ce=O.call(this,oe)-ae.h,me=this.ctx.transform.applyToPoint(new l(_.x,oe)),he=this.ctx.transform.decompose(),te=new d;te=(te=(te=te.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var J,X,xe,Ne=this.ctx.transform.applyToRectangle(new c(_.x,oe,ae.w,ae.h)),ge=te.applyToRectangle(new c(_.x,ce,ae.w,ae.h)),pe=b.call(this,ge),Y=[],Le=0;Le<pe.length;Le+=1)Y.indexOf(pe[Le])===-1&&Y.push(pe[Le]);if(S(Y),this.autoPaging)for(var ie=Y[0],de=Y[Y.length-1],je=ie;je<de+1;je++){this.pdf.setPage(je);var ye=je===1?this.posY+this.margin[0]:this.margin[0],Ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],be=this.pdf.internal.pageSize.height-this.margin[2],Ee=be-this.margin[0],Qe=this.pdf.internal.pageSize.width-this.margin[1],rt=Qe-this.margin[3],Te=je===1?0:Ce+(je-2)*Ee;if(this.ctx.clip_path.length!==0){var nt=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(J,this.posX+this.margin[3],-1*Te+ye),I.call(this,"fill",!0),this.path=nt}var xt=N([JSON.parse(JSON.stringify(ge))],this.posX+this.margin[3],-Te+ye+this.ctx.prevPageLastElemOffset)[0];_.scale>=.01&&(X=this.pdf.internal.getFontSize(),this.pdf.setFontSize(X*_.scale),xe=this.lineWidth,this.lineWidth=xe*_.scale);var it=this.autoPaging!=="text";if(it||xt.y+xt.h<=be){if(it||xt.y>=ye&&xt.x<=Qe){var _e=it?_.text:this.pdf.splitTextToSize(_.text,_.maxWidth||Qe-xt.x)[0],dt=N([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-Te+ye+this.ctx.prevPageLastElemOffset)[0],yt=it&&(je>ie||je<de)&&y.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,Ee,null).clip().discardPath()),this.pdf.text(_e,dt.x,dt.y,{angle:_.angle,align:z,renderingMode:_.renderingMode}),yt&&this.pdf.restoreGraphicsState()}}else xt.y<be&&(this.ctx.prevPageLastElemOffset+=be-xt.y);_.scale>=.01&&(this.pdf.setFontSize(X),this.lineWidth=xe)}else _.scale>=.01&&(X=this.pdf.internal.getFontSize(),this.pdf.setFontSize(X*_.scale),xe=this.lineWidth,this.lineWidth=xe*_.scale),this.pdf.text(_.text,me.x+this.posX,me.y+this.posY,{angle:_.angle,align:z,renderingMode:_.renderingMode,maxWidth:_.maxWidth}),_.scale>=.01&&(this.pdf.setFontSize(X),this.lineWidth=xe)},K=function(_,z,ae,oe){ae=ae||0,oe=oe||0,this.pdf.internal.out(a(_+ae)+" "+s(z+oe)+" l")},q=function(_,z,ae){return this.pdf.lines(_,z,ae,null,null)},re=function(_,z,ae,oe,ce,me,he,te){this.pdf.internal.out([r(i(ae+_)),r(o(oe+z)),r(i(ce+_)),r(o(me+z)),r(i(he+_)),r(o(te+z)),"c"].join(" "))},ee=function(_,z,ae,oe){for(var ce=2*Math.PI,me=Math.PI/2;z>ae;)z-=ce;var he=Math.abs(ae-z);he<ce&&oe&&(he=ce-he);for(var te=[],J=oe?-1:1,X=z;he>1e-5;){var xe=X+J*Math.min(he,me);te.push(le.call(this,_,X,xe)),he-=Math.abs(xe-X),X=xe}return te},le=function(_,z,ae){var oe=(ae-z)/2,ce=_*Math.cos(oe),me=_*Math.sin(oe),he=ce,te=-me,J=he*he+te*te,X=J+he*ce+te*me,xe=4/3*(Math.sqrt(2*J*X)-X)/(he*me-te*ce),Ne=he-xe*te,ge=te+xe*he,pe=Ne,Y=-ge,Le=oe+z,ie=Math.cos(Le),de=Math.sin(Le);return{x1:_*Math.cos(z),y1:_*Math.sin(z),x2:Ne*ie-ge*de,y2:Ne*de+ge*ie,x3:pe*ie-Y*de,y3:pe*de+Y*ie,x4:_*Math.cos(ae),y4:_*Math.sin(ae)}},Ae=function(_){return 180*_/Math.PI},ue=function(_,z,ae,oe,ce,me){var he=_+.5*(ae-_),te=z+.5*(oe-z),J=ce+.5*(ae-ce),X=me+.5*(oe-me),xe=Math.min(_,ce,he,J),Ne=Math.max(_,ce,he,J),ge=Math.min(z,me,te,X),pe=Math.max(z,me,te,X);return new c(xe,ge,Ne-xe,pe-ge)},se=function(_,z,ae,oe,ce,me,he,te){var J,X,xe,Ne,ge,pe,Y,Le,ie,de,je,ye,Ce,be,Ee=ae-_,Qe=oe-z,rt=ce-ae,Te=me-oe,nt=he-ce,xt=te-me;for(X=0;X<41;X++)ie=(Y=(xe=_+(J=X/40)*Ee)+J*((ge=ae+J*rt)-xe))+J*(ge+J*(ce+J*nt-ge)-Y),de=(Le=(Ne=z+J*Qe)+J*((pe=oe+J*Te)-Ne))+J*(pe+J*(me+J*xt-pe)-Le),X==0?(je=ie,ye=de,Ce=ie,be=de):(je=Math.min(je,ie),ye=Math.min(ye,de),Ce=Math.max(Ce,ie),be=Math.max(be,de));return new c(Math.round(je),Math.round(ye),Math.round(Ce-je),Math.round(be-ye))},ve=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var _,z,ae=(_=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:_,lineDashOffset:z}));this.prevLineDash!==ae&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ae)}}})(Kr.API),function(t){var r=function(o){var l,c,d,f,u,m,p,g,v,y;for(c=[],d=0,f=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;f>d;d+=4)(u=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(m=(u=((u=((u=((u=(u-(y=u%85))/85)-(v=u%85))/85)-(g=u%85))/85)-(p=u%85))/85)%85,c.push(m+33,p+33,g+33,v+33,y+33)):c.push(122);return function(b,j){for(var N=j;N>0;N--)b.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},a=function(o){var l,c,d,f,u,m=String,p="length",g=255,v="charCodeAt",y="slice",b="replace";for(o[y](-2),o=o[y](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),d=[],f=0,u=(o+=l="uuuuu"[y](o[p]%5||5))[p];u>f;f+=5)c=52200625*(o[v](f)-33)+614125*(o[v](f+1)-33)+7225*(o[v](f+2)-33)+85*(o[v](f+3)-33)+(o[v](f+4)-33),d.push(g&c>>24,g&c>>16,g&c>>8,g&c);return function(j,N){for(var S=N;S>0;S--)j.pop()}(d,l[p]),m.fromCharCode.apply(m,d)},s=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",d=0;d<o.length;d+=2)c+=String.fromCharCode("0x"+(o[d]+o[d+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return o=(l=xC(l)).reduce(function(d,f){return d+String.fromCharCode(f)},"")};t.processDataByFilters=function(o,l){var c=0,d=o||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=a(d),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=r(d),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=d.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:f.reverse().join(" ")}}}(Kr.API),function(t){t.loadFile=function(r,a,s){return function(i,o,l){o=o!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=function(d,f,u){var m=new XMLHttpRequest,p=0,g=function(v){var y=v.length,b=[],j=String.fromCharCode;for(p=0;p<y;p+=1)b.push(j(255&v.charCodeAt(p)));return b.join("")};if(m.open("GET",d,!f),m.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(m.onload=function(){m.status===200?u(g(this.responseText)):u(void 0)}),m.send(null),f&&m.status===200)return g(m.responseText)}(i,o,l)}catch{}return c}(r,a,s)},t.loadImageFile=t.loadFile}(Kr.API),function(t){function r(){return(aa.html2canvas?Promise.resolve(aa.html2canvas):AC(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function a(){return(aa.DOMPurify?Promise.resolve(aa.DOMPurify):AC(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var s=function(l){var c=gs(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var d=document.createElement(l);for(var f in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[f]=c.style[f];return d},o=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),d);return f=(f=f.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(d){switch(s(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l)){case"string":return this.then(a).then(function(d){return this.set({src:i("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function d(f,u){for(var m=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),p=f.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||m.appendChild(d(p,u));return f.nodeType===1&&(f.nodeName==="CANVAS"?(m.width=f.width,m.height=f.height,m.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(m.value=f.value),m.addEventListener("load",function(){m.scrollTop=f.scrollTop,m.scrollLeft=f.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(r).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(r).then(function(c){var d=this.opt.jsPDF,f=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=f,f)for(var p=0;p<f.length;++p){var g=f[p],v=g.src.find(function(y){return y.format==="truetype"});v&&d.addFont(v.url,g.ref.name,g.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,d.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(s(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(s(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(d,f){return Math.floor(d*f/72*96)}return this.then(function(){(l=l||Kr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,d,f){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,d,f){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(f,u){return d.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(m){return d.updateProgress(null,f),m}).then(f,u).then(function(m){return d.updateProgress(1),m})})},o.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then,l&&(l=l.bind(this)),c&&(c=c.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),u=d.call(f,l,c);return o.convert(u,this.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Kr.getPageSize=function(l,c,d){if(gs(l)==="object"){var f=l;l=f.orientation,c=f.unit||c,d=f.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var u,m=(""+d).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+c}var g,v=0,y=0;if(p.hasOwnProperty(m))v=p[m][1]/u,y=p[m][0]/u;else try{v=d[1],y=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",y>v&&(g=y,y=v,v=g);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",v>y&&(g=y,y=v,v=g)}return{width:y,height:v,unit:c,k:u,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(NC):null;var d=new o(c);return c.worker?d:d.from(l).doCallback()}}(Kr.API),Kr.API.addJS=function(t){return HI=t,this.internal.events.subscribe("postPutResources",function(){ub=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ub+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),QI=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+HI+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ub!==void 0&&QI!==void 0&&this.internal.out("/Names <</JavaScript "+ub+" 0 R>>")}),this},function(t){var r;t.events.push(["postPutResources",function(){var a=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=a.outline.render().split(/\r\n/),o=0;o<i.length;o++){var l=i[o],c=s.exec(l);if(c!=null){var d=c[1];a.internal.newObjectDeferredBegin(d,!1)}a.internal.write(l)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,u=[];for(o=0;o<f;o++){var m=a.internal.newObject();u.push(m);var p=a.internal.getPageInfo(o+1);a.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var g=a.internal.newObject();for(a.internal.write("<< /Names [ "),o=0;o<u.length;o++)a.internal.write("(page_"+(o+1)+")"+u[o]+" 0 R");a.internal.write(" ] >>","endobj"),r=a.internal.newObject(),a.internal.write("<< /Dests "+g+" 0 R"),a.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+r+" 0 R"))}]),t.events.push(["initialized",function(){var a=this;a.outline={createNamedDestinations:!1,root:{children:[]}},a.outline.add=function(s,i,o){var l={title:i,options:o,children:[]};return s==null&&(s=this.root),s.children.push(l),l},a.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=a,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},a.outline.genIds_r=function(s){s.id=a.internal.newObjectDeferred();for(var i=0;i<s.children.length;i++)this.genIds_r(s.children[i])},a.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},a.outline.renderItems=function(s){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<s.children.length;o++){var l=s.children[o];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(s)),o>0&&this.line("/Prev "+this.makeRef(s.children[o-1])),o<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[o+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var d=a.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<s.children.length;f++)this.renderItems(s.children[f])},a.outline.line=function(s){this.ctx.val+=s+`\r
`},a.outline.makeRef=function(s){return s.id+" 0 R"},a.outline.makeString=function(s){return"("+a.internal.pdfEscape(s)+")"},a.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},a.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},a.outline.count_r=function(s,i){for(var o=0;o<i.children.length;o++)s.count++,this.count_r(s,i.children[o]);return s.count}}])}(Kr.API),function(t){var r=[192,193,194,195,196,197,198,199];t.processJPEG=function(a,s,i,o,l,c){var d,f=this.decode.DCT_DECODE,u=null;if(typeof a=="string"||this.__addimage__.isArrayBuffer(a)||this.__addimage__.isArrayBufferView(a)){switch(a=l||a,a=this.__addimage__.isArrayBuffer(a)?new Uint8Array(a):a,(d=function(m){for(var p,g=256*m.charCodeAt(4)+m.charCodeAt(5),v=m.length,y={width:0,height:0,numcomponents:1},b=4;b<v;b+=2){if(b+=g,r.indexOf(m.charCodeAt(b+1))!==-1){p=256*m.charCodeAt(b+5)+m.charCodeAt(b+6),y={width:256*m.charCodeAt(b+7)+m.charCodeAt(b+8),height:p,numcomponents:m.charCodeAt(b+9)};break}g=256*m.charCodeAt(b+2)+m.charCodeAt(b+3)}return y}(a=this.__addimage__.isArrayBufferView(a)?this.__addimage__.arrayBufferToBinaryString(a):a)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}u={data:a,width:d.width,height:d.height,colorSpace:c,bitsPerComponent:8,filter:f,index:s,alias:i}}return u}}(Kr.API);var Yp,fb,$I,zI,VI,Wee=function(){var t,r,a;function s(o){var l,c,d,f,u,m,p,g,v,y,b,j,N,S;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(l=this.readUInt32(),v=(function(){var B,I;for(I=[],B=0;B<4;++B)I.push(String.fromCharCode(this.data[this.pos++]));return I}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),f=this.readUInt16()||100,m.delay=1e3*u/f,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,l-=4),o=m?.data||this.imgData,j=0;0<=l?j<l:j>l;0<=l?++j:--j)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(d=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>d)throw new Error("More transparent colors than palette size");if((y=d-this.transparency.indexed.length)>0)for(N=0;0<=y?N<y:N>y;0<=y?++N:--N)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":p=(b=this.read(l)).indexOf(0),g=String.fromCharCode.apply(String,b.slice(0,p)),this.text[g]=String.fromCharCode.apply(String,b.slice(p+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}s.prototype.read=function(o){var l,c;for(c=[],l=0;0<=o?l<o:l>o;0<=o?++l:--l)c.push(this.data[this.pos++]);return c},s.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.decodePixels=function(o){var l=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*l),d=0,f=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function u(m,p,g,v){var y,b,j,N,S,B,I,F,O,k,V,Q,H,M,K,q,re,ee,le,Ae,ue,se=Math.ceil((f.width-m)/g),ve=Math.ceil((f.height-p)/v),_=f.width==se&&f.height==ve;for(M=l*se,Q=_?c:new Uint8Array(M*ve),B=o.length,H=0,b=0;H<ve&&d<B;){switch(o[d++]){case 0:for(N=re=0;re<M;N=re+=1)Q[b++]=o[d++];break;case 1:for(N=ee=0;ee<M;N=ee+=1)y=o[d++],S=N<l?0:Q[b-l],Q[b++]=(y+S)%256;break;case 2:for(N=le=0;le<M;N=le+=1)y=o[d++],j=(N-N%l)/l,K=H&&Q[(H-1)*M+j*l+N%l],Q[b++]=(K+y)%256;break;case 3:for(N=Ae=0;Ae<M;N=Ae+=1)y=o[d++],j=(N-N%l)/l,S=N<l?0:Q[b-l],K=H&&Q[(H-1)*M+j*l+N%l],Q[b++]=(y+Math.floor((S+K)/2))%256;break;case 4:for(N=ue=0;ue<M;N=ue+=1)y=o[d++],j=(N-N%l)/l,S=N<l?0:Q[b-l],H===0?K=q=0:(K=Q[(H-1)*M+j*l+N%l],q=j&&Q[(H-1)*M+(j-1)*l+N%l]),I=S+K-q,F=Math.abs(I-S),k=Math.abs(I-K),V=Math.abs(I-q),O=F<=k&&F<=V?S:k<=V?K:q,Q[b++]=(y+O)%256;break;default:throw new Error("Invalid filter algorithm: "+o[d-1])}if(!_){var z=((p+H*v)*f.width+m)*l,ae=H*M;for(N=0;N<se;N+=1){for(var oe=0;oe<l;oe+=1)c[z++]=Q[ae++];z+=(g-1)*l}}H++}}return o=See(o),f.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),c},s.prototype.decodePalette=function(){var o,l,c,d,f,u,m,p,g;for(c=this.palette,u=this.transparency.indexed||[],f=new Uint8Array((u.length||0)+c.length),d=0,o=0,l=m=0,p=c.length;m<p;l=m+=3)f[d++]=c[l],f[d++]=c[l+1],f[d++]=c[l+2],f[d++]=(g=u[o++])!=null?g:255;return f},s.prototype.copyToImageData=function(o,l){var c,d,f,u,m,p,g,v,y,b,j;if(d=this.colors,y=null,c=this.hasAlphaChannel,this.palette.length&&(y=(j=this._decodedPalette)!=null?j:this._decodedPalette=this.decodePalette(),d=4,c=!0),v=(f=o.data||o).length,m=y||l,u=p=0,d===1)for(;u<v;)g=y?4*l[u/4]:p,b=m[g++],f[u++]=b,f[u++]=b,f[u++]=b,f[u++]=c?m[g++]:255,p=g;else for(;u<v;)g=y?4*l[u/4]:p,f[u++]=m[g++],f[u++]=m[g++],f[u++]=m[g++],f[u++]=c?m[g++]:255,p=g},s.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var i=function(){if(Object.prototype.toString.call(aa)==="[object Window]"){try{r=aa.document.createElement("canvas"),a=r.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(o){var l;if(i()===!0)return a.width=o.width,a.height=o.height,a.clearRect(0,0,o.width,o.height),a.putImageData(o,0,0),(l=new Image).src=r.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},s.prototype.decodeFrames=function(o){var l,c,d,f,u,m,p,g;if(this.animation){for(g=[],c=u=0,m=(p=this.animation.frames).length;u<m;c=++u)l=p[c],d=o.createImageData(l.width,l.height),f=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(d,f),l.imageData=d,g.push(l.image=t(d));return g}},s.prototype.renderFrame=function(o,l){var c,d,f;return c=(d=this.animation.frames)[l],f=d[l-1],l===0&&o.clearRect(0,0,this.width,this.height),f?.disposeOp===1?o.clearRect(f.xOffset,f.yOffset,f.width,f.height):f?.disposeOp===2&&o.putImageData(f.imageData,f.xOffset,f.yOffset),c.blendOp===0&&o.clearRect(c.xOffset,c.yOffset,c.width,c.height),o.drawImage(c.image,c.xOffset,c.yOffset)},s.prototype.animate=function(o){var l,c,d,f,u,m,p=this;return c=0,m=this.animation,f=m.numFrames,d=m.frames,u=m.numPlays,(l=function(){var g,v;if(g=c++%f,v=d[g],p.renderFrame(o,g),f>1&&c/f<u)return p.animation._timeout=setTimeout(l,v.delay)})()},s.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},s.prototype.render=function(o){var l,c;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,l=o.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(c=l.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),l.putImageData(c,0,0))},s}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function qee(t){var r=0;if(t[r++]!==71||t[r++]!==73||t[r++]!==70||t[r++]!==56||(t[r++]+1&253)!=56||t[r++]!==97)throw new Error("Invalid GIF 87a/89a header.");var a=t[r++]|t[r++]<<8,s=t[r++]|t[r++]<<8,i=t[r++],o=i>>7,l=1<<(7&i)+1;t[r++],t[r++];var c=null,d=null;o&&(c=r,d=l,r+=3*l);var f=!0,u=[],m=0,p=null,g=0,v=null;for(this.width=a,this.height=s;f&&r<t.length;)switch(t[r++]){case 33:switch(t[r++]){case 255:if(t[r]!==11||t[r+1]==78&&t[r+2]==69&&t[r+3]==84&&t[r+4]==83&&t[r+5]==67&&t[r+6]==65&&t[r+7]==80&&t[r+8]==69&&t[r+9]==50&&t[r+10]==46&&t[r+11]==48&&t[r+12]==3&&t[r+13]==1&&t[r+16]==0)r+=14,v=t[r++]|t[r++]<<8,r++;else for(r+=12;;){if(!((H=t[r++])>=0))throw Error("Invalid block size");if(H===0)break;r+=H}break;case 249:if(t[r++]!==4||t[r+4]!==0)throw new Error("Invalid graphics extension block.");var y=t[r++];m=t[r++]|t[r++]<<8,p=t[r++],(1&y)==0&&(p=null),g=y>>2&7,r++;break;case 254:for(;;){if(!((H=t[r++])>=0))throw Error("Invalid block size");if(H===0)break;r+=H}break;default:throw new Error("Unknown graphic control label: 0x"+t[r-1].toString(16))}break;case 44:var b=t[r++]|t[r++]<<8,j=t[r++]|t[r++]<<8,N=t[r++]|t[r++]<<8,S=t[r++]|t[r++]<<8,B=t[r++],I=B>>6&1,F=1<<(7&B)+1,O=c,k=d,V=!1;B>>7&&(V=!0,O=r,k=F,r+=3*F);var Q=r;for(r++;;){var H;if(!((H=t[r++])>=0))throw Error("Invalid block size");if(H===0)break;r+=H}u.push({x:b,y:j,width:N,height:S,has_local_palette:V,palette_offset:O,palette_size:k,data_offset:Q,data_length:r-Q,transparent_index:p,interlaced:!!I,delay:m,disposal:g});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[r-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return v},this.frameInfo=function(M){if(M<0||M>=u.length)throw new Error("Frame index out of range.");return u[M]},this.decodeAndBlitFrameBGRA=function(M,K){var q=this.frameInfo(M),re=q.width*q.height,ee=new Uint8Array(re);KI(t,q.data_offset,ee,re);var le=q.palette_offset,Ae=q.transparent_index;Ae===null&&(Ae=256);var ue=q.width,se=a-ue,ve=ue,_=4*(q.y*a+q.x),z=4*((q.y+q.height)*a+q.x),ae=_,oe=4*se;q.interlaced===!0&&(oe+=4*a*7);for(var ce=8,me=0,he=ee.length;me<he;++me){var te=ee[me];if(ve===0&&(ve=ue,(ae+=oe)>=z&&(oe=4*se+4*a*(ce-1),ae=_+(ue+se)*(ce<<1),ce>>=1)),te===Ae)ae+=4;else{var J=t[le+3*te],X=t[le+3*te+1],xe=t[le+3*te+2];K[ae++]=xe,K[ae++]=X,K[ae++]=J,K[ae++]=255}--ve}},this.decodeAndBlitFrameRGBA=function(M,K){var q=this.frameInfo(M),re=q.width*q.height,ee=new Uint8Array(re);KI(t,q.data_offset,ee,re);var le=q.palette_offset,Ae=q.transparent_index;Ae===null&&(Ae=256);var ue=q.width,se=a-ue,ve=ue,_=4*(q.y*a+q.x),z=4*((q.y+q.height)*a+q.x),ae=_,oe=4*se;q.interlaced===!0&&(oe+=4*a*7);for(var ce=8,me=0,he=ee.length;me<he;++me){var te=ee[me];if(ve===0&&(ve=ue,(ae+=oe)>=z&&(oe=4*se+4*a*(ce-1),ae=_+(ue+se)*(ce<<1),ce>>=1)),te===Ae)ae+=4;else{var J=t[le+3*te],X=t[le+3*te+1],xe=t[le+3*te+2];K[ae++]=J,K[ae++]=X,K[ae++]=xe,K[ae++]=255}--ve}}}function KI(t,r,a,s){for(var i=t[r++],o=1<<i,l=o+1,c=l+1,d=i+1,f=(1<<d)-1,u=0,m=0,p=0,g=t[r++],v=new Int32Array(4096),y=null;;){for(;u<16&&g!==0;)m|=t[r++]<<u,u+=8,g===1?g=t[r++]:--g;if(u<d)break;var b=m&f;if(m>>=d,u-=d,b!==o){if(b===l)break;for(var j=b<c?b:y,N=0,S=j;S>o;)S=v[S]>>8,++N;var B=S;if(p+N+(j!==b?1:0)>s)return void Ls.log("Warning, gif stream longer than expected.");a[p++]=B;var I=p+=N;for(j!==b&&(a[p++]=B),S=j;N--;)S=v[S],a[--I]=255&S,S>>=8;y!==null&&c<4096&&(v[c++]=y<<8|B,c>=f+1&&d<12&&(++d,f=f<<1|1)),y=b}else c=l+1,f=(1<<(d=i+1))-1,y=null}return p!==s&&Ls.log("Warning, gif stream shorter than expected."),a}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function nN(t){var r,a,s,i,o,l=Math.floor,c=new Array(64),d=new Array(64),f=new Array(64),u=new Array(64),m=new Array(65535),p=new Array(65535),g=new Array(64),v=new Array(64),y=[],b=0,j=7,N=new Array(64),S=new Array(64),B=new Array(64),I=new Array(256),F=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],H=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],re=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ee(_,z){for(var ae=0,oe=0,ce=new Array,me=1;me<=16;me++){for(var he=1;he<=_[me];he++)ce[z[oe]]=[],ce[z[oe]][0]=ae,ce[z[oe]][1]=me,oe++,ae++;ae*=2}return ce}function le(_){for(var z=_[0],ae=_[1]-1;ae>=0;)z&1<<ae&&(b|=1<<j),ae--,--j<0&&(b==255?(Ae(255),Ae(0)):Ae(b),j=7,b=0)}function Ae(_){y.push(_)}function ue(_){Ae(_>>8&255),Ae(255&_)}function se(_,z,ae,oe,ce){for(var me,he=ce[0],te=ce[240],J=function(de,je){var ye,Ce,be,Ee,Qe,rt,Te,nt,xt,it,_e=0;for(xt=0;xt<8;++xt){ye=de[_e],Ce=de[_e+1],be=de[_e+2],Ee=de[_e+3],Qe=de[_e+4],rt=de[_e+5],Te=de[_e+6];var dt=ye+(nt=de[_e+7]),yt=ye-nt,rr=Ce+Te,_t=Ce-Te,Ve=be+rt,Se=be-rt,ot=Ee+Qe,Ot=Ee-Qe,vt=dt+ot,Ze=dt-ot,He=rr+Ve,ct=rr-Ve;de[_e]=vt+He,de[_e+4]=vt-He;var ft=.707106781*(ct+Ze);de[_e+2]=Ze+ft,de[_e+6]=Ze-ft;var Wt=.382683433*((vt=Ot+Se)-(ct=_t+yt)),gr=.5411961*vt+Wt,Fr=1.306562965*ct+Wt,Ta=.707106781*(He=Se+_t),pa=yt+Ta,at=yt-Ta;de[_e+5]=at+gr,de[_e+3]=at-gr,de[_e+1]=pa+Fr,de[_e+7]=pa-Fr,_e+=8}for(_e=0,xt=0;xt<8;++xt){ye=de[_e],Ce=de[_e+8],be=de[_e+16],Ee=de[_e+24],Qe=de[_e+32],rt=de[_e+40],Te=de[_e+48];var Ht=ye+(nt=de[_e+56]),Gt=ye-nt,dr=Ce+Te,Jt=Ce-Te,Mr=be+rt,ke=be-rt,qe=Ee+Qe,ze=Ee-Qe,Ke=Ht+qe,Je=Ht-qe,et=dr+Mr,St=dr-Mr;de[_e]=Ke+et,de[_e+32]=Ke-et;var Me=.707106781*(St+Je);de[_e+16]=Je+Me,de[_e+48]=Je-Me;var We=.382683433*((Ke=ze+ke)-(St=Jt+Gt)),st=.5411961*Ke+We,jt=1.306562965*St+We,Yt=.707106781*(et=ke+Jt),tr=Gt+Yt,or=Gt-Yt;de[_e+40]=or+st,de[_e+24]=or-st,de[_e+8]=tr+jt,de[_e+56]=tr-jt,_e++}for(xt=0;xt<64;++xt)it=de[xt]*je[xt],g[xt]=it>0?it+.5|0:it-.5|0;return g}(_,z),X=0;X<64;++X)v[O[X]]=J[X];var xe=v[0]-ae;ae=v[0],xe==0?le(oe[0]):(le(oe[p[me=32767+xe]]),le(m[me]));for(var Ne=63;Ne>0&&v[Ne]==0;)Ne--;if(Ne==0)return le(he),ae;for(var ge,pe=1;pe<=Ne;){for(var Y=pe;v[pe]==0&&pe<=Ne;)++pe;var Le=pe-Y;if(Le>=16){ge=Le>>4;for(var ie=1;ie<=ge;++ie)le(te);Le&=15}me=32767+v[pe],le(ce[(Le<<4)+p[me]]),le(m[me]),pe++}return Ne!=63&&le(he),ae}function ve(_){_=Math.min(Math.max(_,1),100),o!=_&&(function(z){for(var ae=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var ce=l((ae[oe]*z+50)/100);ce=Math.min(Math.max(ce,1),255),c[O[oe]]=ce}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var te=l((me[he]*z+50)/100);te=Math.min(Math.max(te,1),255),d[O[he]]=te}for(var J=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],X=0,xe=0;xe<8;xe++)for(var Ne=0;Ne<8;Ne++)f[X]=1/(c[O[X]]*J[xe]*J[Ne]*8),u[X]=1/(d[O[X]]*J[xe]*J[Ne]*8),X++}(_<50?Math.floor(5e3/_):Math.floor(200-2*_)),o=_)}this.encode=function(_,z){z&&ve(z),y=new Array,b=0,j=7,ue(65496),ue(65504),ue(16),Ae(74),Ae(70),Ae(73),Ae(70),Ae(0),Ae(1),Ae(1),Ae(0),ue(1),ue(1),Ae(0),Ae(0),function(){ue(65499),ue(132),Ae(0);for(var Ce=0;Ce<64;Ce++)Ae(c[Ce]);Ae(1);for(var be=0;be<64;be++)Ae(d[be])}(),function(Ce,be){ue(65472),ue(17),Ae(8),ue(be),ue(Ce),Ae(3),Ae(1),Ae(17),Ae(0),Ae(2),Ae(17),Ae(1),Ae(3),Ae(17),Ae(1)}(_.width,_.height),function(){ue(65476),ue(418),Ae(0);for(var Ce=0;Ce<16;Ce++)Ae(k[Ce+1]);for(var be=0;be<=11;be++)Ae(V[be]);Ae(16);for(var Ee=0;Ee<16;Ee++)Ae(Q[Ee+1]);for(var Qe=0;Qe<=161;Qe++)Ae(H[Qe]);Ae(1);for(var rt=0;rt<16;rt++)Ae(M[rt+1]);for(var Te=0;Te<=11;Te++)Ae(K[Te]);Ae(17);for(var nt=0;nt<16;nt++)Ae(q[nt+1]);for(var xt=0;xt<=161;xt++)Ae(re[xt])}(),ue(65498),ue(12),Ae(3),Ae(1),Ae(0),Ae(2),Ae(17),Ae(3),Ae(17),Ae(0),Ae(63),Ae(0);var ae=0,oe=0,ce=0;b=0,j=7,this.encode.displayName="_encode_";for(var me,he,te,J,X,xe,Ne,ge,pe,Y=_.data,Le=_.width,ie=_.height,de=4*Le,je=0;je<ie;){for(me=0;me<de;){for(X=de*je+me,Ne=-1,ge=0,pe=0;pe<64;pe++)xe=X+(ge=pe>>3)*de+(Ne=4*(7&pe)),je+ge>=ie&&(xe-=de*(je+1+ge-ie)),me+Ne>=de&&(xe-=me+Ne-de+4),he=Y[xe++],te=Y[xe++],J=Y[xe++],N[pe]=(F[he]+F[te+256>>0]+F[J+512>>0]>>16)-128,S[pe]=(F[he+768>>0]+F[te+1024>>0]+F[J+1280>>0]>>16)-128,B[pe]=(F[he+1280>>0]+F[te+1536>>0]+F[J+1792>>0]>>16)-128;ae=se(N,f,ae,r,s),oe=se(S,u,oe,a,i),ce=se(B,u,ce,a,i),me+=32}je+=8}if(j>=0){var ye=[];ye[1]=j+1,ye[0]=(1<<j+1)-1,le(ye)}return ue(65497),new Uint8Array(y)},t=t||50,function(){for(var _=String.fromCharCode,z=0;z<256;z++)I[z]=_(z)}(),r=ee(k,V),a=ee(M,K),s=ee(Q,H),i=ee(q,re),function(){for(var _=1,z=2,ae=1;ae<=15;ae++){for(var oe=_;oe<z;oe++)p[32767+oe]=ae,m[32767+oe]=[],m[32767+oe][1]=ae,m[32767+oe][0]=oe;for(var ce=-(z-1);ce<=-_;ce++)p[32767+ce]=ae,m[32767+ce]=[],m[32767+ce][1]=ae,m[32767+ce][0]=z-1+ce;_<<=1,z<<=1}}(),function(){for(var _=0;_<256;_++)F[_]=19595*_,F[_+256>>0]=38470*_,F[_+512>>0]=7471*_+32768,F[_+768>>0]=-11059*_,F[_+1024>>0]=-21709*_,F[_+1280>>0]=32768*_+8421375,F[_+1536>>0]=-27439*_,F[_+1792>>0]=-5329*_}(),ve(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function du(t,r){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!r,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function GI(t){function r(k){if(!k)throw Error("assert :P")}function a(k,V,Q){for(var H=0;4>H;H++)if(k[V+H]!=Q.charCodeAt(H))return!0;return!1}function s(k,V,Q,H,M){for(var K=0;K<M;K++)k[V+K]=Q[H+K]}function i(k,V,Q,H){for(var M=0;M<H;M++)k[V+M]=Q}function o(k){return new Int32Array(k)}function l(k,V){for(var Q=[],H=0;H<k;H++)Q.push(new V);return Q}function c(k,V){var Q=[];return function H(M,K,q){for(var re=q[K],ee=0;ee<re&&(M.push(q.length>K+1?[]:new V),!(q.length<K+1));ee++)H(M[ee],K+1,q)}(Q,0,k),Q}var d=function(){var k=this;function V(E,R){for(var Z=1<<R-1>>>0;E&Z;)Z>>>=1;return Z?(E&Z-1)+Z:E}function Q(E,R,Z,fe,Fe){r(!(fe%Z));do E[R+(fe-=Z)]=Fe;while(0<fe)}function H(E,R,Z,fe,Fe){if(r(2328>=Fe),512>=Fe)var Pe=o(512);else if((Pe=o(Fe))==null)return 0;return function(De,Ue,$e,Xe,At,Tt){var Et,wt,Qt=Ue,Lt=1<<$e,ht=o(16),gt=o(16);for(r(At!=0),r(Xe!=null),r(De!=null),r(0<$e),wt=0;wt<At;++wt){if(15<Xe[wt])return 0;++ht[Xe[wt]]}if(ht[0]==At)return 0;for(gt[1]=0,Et=1;15>Et;++Et){if(ht[Et]>1<<Et)return 0;gt[Et+1]=gt[Et]+ht[Et]}for(wt=0;wt<At;++wt)Et=Xe[wt],0<Xe[wt]&&(Tt[gt[Et]++]=wt);if(gt[15]==1)return(Xe=new M).g=0,Xe.value=Tt[0],Q(De,Qt,1,Lt,Xe),Lt;var Kt,Zt=-1,qt=Lt-1,Cr=0,xr=1,Ur=1,vr=1<<$e;for(wt=0,Et=1,At=2;Et<=$e;++Et,At<<=1){if(xr+=Ur<<=1,0>(Ur-=ht[Et]))return 0;for(;0<ht[Et];--ht[Et])(Xe=new M).g=Et,Xe.value=Tt[wt++],Q(De,Qt+Cr,At,vr,Xe),Cr=V(Cr,Et)}for(Et=$e+1,At=2;15>=Et;++Et,At<<=1){if(xr+=Ur<<=1,0>(Ur-=ht[Et]))return 0;for(;0<ht[Et];--ht[Et]){if(Xe=new M,(Cr&qt)!=Zt){for(Qt+=vr,Kt=1<<(Zt=Et)-$e;15>Zt&&!(0>=(Kt-=ht[Zt]));)++Zt,Kt<<=1;Lt+=vr=1<<(Kt=Zt-$e),De[Ue+(Zt=Cr&qt)].g=Kt+$e,De[Ue+Zt].value=Qt-Ue-Zt}Xe.g=Et-$e,Xe.value=Tt[wt++],Q(De,Qt+(Cr>>$e),At,vr,Xe),Cr=V(Cr,Et)}}return xr!=2*gt[15]-1?0:Lt}(E,R,Z,fe,Fe,Pe)}function M(){this.value=this.g=0}function K(){this.value=this.g=0}function q(){this.G=l(5,M),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Is,K)}function re(E,R,Z,fe){r(E!=null),r(R!=null),r(2147483648>fe),E.Ca=254,E.I=0,E.b=-8,E.Ka=0,E.oa=R,E.pa=Z,E.Jd=R,E.Yc=Z+fe,E.Zc=4<=fe?Z+fe-4+1:Z,me(E)}function ee(E,R){for(var Z=0;0<R--;)Z|=te(E,128)<<R;return Z}function le(E,R){var Z=ee(E,R);return he(E)?-Z:Z}function Ae(E,R,Z,fe){var Fe,Pe=0;for(r(E!=null),r(R!=null),r(4294967288>fe),E.Sb=fe,E.Ra=0,E.u=0,E.h=0,4<fe&&(fe=4),Fe=0;Fe<fe;++Fe)Pe+=R[Z+Fe]<<8*Fe;E.Ra=Pe,E.bb=fe,E.oa=R,E.pa=Z}function ue(E){for(;8<=E.u&&E.bb<E.Sb;)E.Ra>>>=8,E.Ra+=E.oa[E.pa+E.bb]<<Qc-8>>>0,++E.bb,E.u-=8;ae(E)&&(E.h=1,E.u=0)}function se(E,R){if(r(0<=R),!E.h&&R<=Rc){var Z=z(E)&Fa[R];return E.u+=R,ue(E),Z}return E.h=1,E.u=0}function ve(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function _(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(E){return E.Ra>>>(E.u&Qc-1)>>>0}function ae(E){return r(E.bb<=E.Sb),E.h||E.bb==E.Sb&&E.u>Qc}function oe(E,R){E.u=R,E.h=ae(E)}function ce(E){E.u>=Ed&&(r(E.u>=Ed),ue(E))}function me(E){r(E!=null&&E.oa!=null),E.pa<E.Zc?(E.I=(E.oa[E.pa++]|E.I<<8)>>>0,E.b+=8):(r(E!=null&&E.oa!=null),E.pa<E.Yc?(E.b+=8,E.I=E.oa[E.pa++]|E.I<<8):E.Ka?E.b=0:(E.I<<=8,E.b+=8,E.Ka=1))}function he(E){return ee(E,1)}function te(E,R){var Z=E.Ca;0>E.b&&me(E);var fe=E.b,Fe=Z*R>>>8,Pe=(E.I>>>fe>Fe)+0;for(Pe?(Z-=Fe,E.I-=Fe+1<<fe>>>0):Z=Fe+1,fe=Z,Fe=0;256<=fe;)Fe+=8,fe>>=8;return fe=7^Fe+Ai[fe],E.b-=fe,E.Ca=(Z<<fe)-1,Pe}function J(E,R,Z){E[R+0]=Z>>24&255,E[R+1]=Z>>16&255,E[R+2]=Z>>8&255,E[R+3]=Z>>0&255}function X(E,R){return E[R+0]<<0|E[R+1]<<8}function xe(E,R){return X(E,R)|E[R+2]<<16}function Ne(E,R){return X(E,R)|X(E,R+2)<<16}function ge(E,R){var Z=1<<R;return r(E!=null),r(0<R),E.X=o(Z),E.X==null?0:(E.Mb=32-R,E.Xa=R,1)}function pe(E,R){r(E!=null),r(R!=null),r(E.Xa==R.Xa),s(R.X,0,E.X,0,1<<R.Xa)}function Y(){this.X=[],this.Xa=this.Mb=0}function Le(E,R,Z,fe){r(Z!=null),r(fe!=null);var Fe=Z[0],Pe=fe[0];return Fe==0&&(Fe=(E*Pe+R/2)/R),Pe==0&&(Pe=(R*Fe+E/2)/E),0>=Fe||0>=Pe?0:(Z[0]=Fe,fe[0]=Pe,1)}function ie(E,R){return E+(1<<R)-1>>>R}function de(E,R){return((4278255360&E)+(4278255360&R)>>>0&4278255360)+((16711935&E)+(16711935&R)>>>0&16711935)>>>0}function je(E,R){k[R]=function(Z,fe,Fe,Pe,De,Ue,$e){var Xe;for(Xe=0;Xe<De;++Xe){var At=k[E](Ue[$e+Xe-1],Fe,Pe+Xe);Ue[$e+Xe]=de(Z[fe+Xe],At)}}}function ye(){this.ud=this.hd=this.jd=0}function Ce(E,R){return((4278124286&(E^R))>>>1)+(E&R)>>>0}function be(E){return 0<=E&&256>E?E:0>E?0:255<E?255:void 0}function Ee(E,R){return be(E+(E-R+.5>>1))}function Qe(E,R,Z){return Math.abs(R-Z)-Math.abs(E-Z)}function rt(E,R,Z,fe,Fe,Pe,De){for(fe=Pe[De-1],Z=0;Z<Fe;++Z)Pe[De+Z]=fe=de(E[R+Z],fe)}function Te(E,R,Z,fe,Fe){var Pe;for(Pe=0;Pe<Z;++Pe){var De=E[R+Pe],Ue=De>>8&255,$e=16711935&($e=($e=16711935&De)+((Ue<<16)+Ue));fe[Fe+Pe]=(4278255360&De)+$e>>>0}}function nt(E,R){R.jd=E>>0&255,R.hd=E>>8&255,R.ud=E>>16&255}function xt(E,R,Z,fe,Fe,Pe){var De;for(De=0;De<fe;++De){var Ue=R[Z+De],$e=Ue>>>8,Xe=Ue,At=255&(At=(At=Ue>>>16)+((E.jd<<24>>24)*($e<<24>>24)>>>5));Xe=255&(Xe=(Xe=Xe+((E.hd<<24>>24)*($e<<24>>24)>>>5))+((E.ud<<24>>24)*(At<<24>>24)>>>5)),Fe[Pe+De]=(4278255360&Ue)+(At<<16)+Xe}}function it(E,R,Z,fe,Fe){k[R]=function(Pe,De,Ue,$e,Xe,At,Tt,Et,wt){for($e=Tt;$e<Et;++$e)for(Tt=0;Tt<wt;++Tt)Xe[At++]=Fe(Ue[fe(Pe[De++])])},k[E]=function(Pe,De,Ue,$e,Xe,At,Tt){var Et=8>>Pe.b,wt=Pe.Ea,Qt=Pe.K[0],Lt=Pe.w;if(8>Et)for(Pe=(1<<Pe.b)-1,Lt=(1<<Et)-1;De<Ue;++De){var ht,gt=0;for(ht=0;ht<wt;++ht)ht&Pe||(gt=fe($e[Xe++])),At[Tt++]=Fe(Qt[gt&Lt]),gt>>=Et}else k["VP8LMapColor"+Z]($e,Xe,Qt,Lt,At,Tt,De,Ue,wt)}}function _e(E,R,Z,fe,Fe){for(Z=R+Z;R<Z;){var Pe=E[R++];fe[Fe++]=Pe>>16&255,fe[Fe++]=Pe>>8&255,fe[Fe++]=Pe>>0&255}}function dt(E,R,Z,fe,Fe){for(Z=R+Z;R<Z;){var Pe=E[R++];fe[Fe++]=Pe>>16&255,fe[Fe++]=Pe>>8&255,fe[Fe++]=Pe>>0&255,fe[Fe++]=Pe>>24&255}}function yt(E,R,Z,fe,Fe){for(Z=R+Z;R<Z;){var Pe=(De=E[R++])>>16&240|De>>12&15,De=De>>0&240|De>>28&15;fe[Fe++]=Pe,fe[Fe++]=De}}function rr(E,R,Z,fe,Fe){for(Z=R+Z;R<Z;){var Pe=(De=E[R++])>>16&248|De>>13&7,De=De>>5&224|De>>3&31;fe[Fe++]=Pe,fe[Fe++]=De}}function _t(E,R,Z,fe,Fe){for(Z=R+Z;R<Z;){var Pe=E[R++];fe[Fe++]=Pe>>0&255,fe[Fe++]=Pe>>8&255,fe[Fe++]=Pe>>16&255}}function Ve(E,R,Z,fe,Fe,Pe){if(Pe==0)for(Z=R+Z;R<Z;)J(fe,((Pe=E[R++])[0]>>24|Pe[1]>>8&65280|Pe[2]<<8&16711680|Pe[3]<<24)>>>0),Fe+=32;else s(fe,Fe,E,R,Z)}function Se(E,R){k[R][0]=k[E+"0"],k[R][1]=k[E+"1"],k[R][2]=k[E+"2"],k[R][3]=k[E+"3"],k[R][4]=k[E+"4"],k[R][5]=k[E+"5"],k[R][6]=k[E+"6"],k[R][7]=k[E+"7"],k[R][8]=k[E+"8"],k[R][9]=k[E+"9"],k[R][10]=k[E+"10"],k[R][11]=k[E+"11"],k[R][12]=k[E+"12"],k[R][13]=k[E+"13"],k[R][14]=k[E+"0"],k[R][15]=k[E+"0"]}function ot(E){return E==Gf||E==Kc||E==tc||E==rc}function Ot(){this.eb=[],this.size=this.A=this.fb=0}function vt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ze(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ot,this.f.kb=new vt,this.sd=null}function He(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ct(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ft(E){return alert("todo:WebPSamplerProcessPlane"),E.T}function Wt(E,R){var Z=E.T,fe=R.ba.f.RGBA,Fe=fe.eb,Pe=fe.fb+E.ka*fe.A,De=Fn[R.ba.S],Ue=E.y,$e=E.O,Xe=E.f,At=E.N,Tt=E.ea,Et=E.W,wt=R.cc,Qt=R.dc,Lt=R.Mc,ht=R.Nc,gt=E.ka,Kt=E.ka+E.T,Zt=E.U,qt=Zt+1>>1;for(gt==0?De(Ue,$e,null,null,Xe,At,Tt,Et,Xe,At,Tt,Et,Fe,Pe,null,null,Zt):(De(R.ec,R.fc,Ue,$e,wt,Qt,Lt,ht,Xe,At,Tt,Et,Fe,Pe-fe.A,Fe,Pe,Zt),++Z);gt+2<Kt;gt+=2)wt=Xe,Qt=At,Lt=Tt,ht=Et,At+=E.Rc,Et+=E.Rc,Pe+=2*fe.A,De(Ue,($e+=2*E.fa)-E.fa,Ue,$e,wt,Qt,Lt,ht,Xe,At,Tt,Et,Fe,Pe-fe.A,Fe,Pe,Zt);return $e+=E.fa,E.j+Kt<E.o?(s(R.ec,R.fc,Ue,$e,Zt),s(R.cc,R.dc,Xe,At,qt),s(R.Mc,R.Nc,Tt,Et,qt),Z--):1&Kt||De(Ue,$e,null,null,Xe,At,Tt,Et,Xe,At,Tt,Et,Fe,Pe+fe.A,null,null,Zt),Z}function gr(E,R,Z){var fe=E.F,Fe=[E.J];if(fe!=null){var Pe=E.U,De=R.ba.S,Ue=De==Pd||De==tc;R=R.ba.f.RGBA;var $e=[0],Xe=E.ka;$e[0]=E.T,E.Kb&&(Xe==0?--$e[0]:(--Xe,Fe[0]-=E.width),E.j+E.ka+E.T==E.o&&($e[0]=E.o-E.j-Xe));var At=R.eb;Xe=R.fb+Xe*R.A,E=ha(fe,Fe[0],E.width,Pe,$e,At,Xe+(Ue?0:3),R.A),r(Z==$e),E&&ot(De)&&Li(At,Xe,Ue,Pe,$e,R.A)}return 0}function Fr(E){var R=E.ma,Z=R.ba.S,fe=11>Z,Fe=Z==Qu||Z==Kf||Z==Pd||Z==Co||Z==12||ot(Z);if(R.memory=null,R.Ib=null,R.Jb=null,R.Nd=null,!bs(R.Oa,E,Fe?11:12))return 0;if(Fe&&ot(Z)&&lr(),E.da)alert("todo:use_scaling");else{if(fe){if(R.Ib=ft,E.Kb){if(Z=E.U+1>>1,R.memory=o(E.U+2*Z),R.memory==null)return 0;R.ec=R.memory,R.fc=0,R.cc=R.ec,R.dc=R.fc+E.U,R.Mc=R.cc,R.Nc=R.dc+Z,R.Ib=Wt,lr()}}else alert("todo:EmitYUV");Fe&&(R.Jb=gr,fe&&Ct())}if(fe&&!bp){for(E=0;256>E;++E)px[E]=89858*(E-128)+yn>>Fl,qf[E]=-22014*(E-128)+yn,Dm[E]=-45773*(E-128),vn[E]=113618*(E-128)+yn>>Fl;for(E=Zo;E<hh;++E)R=76283*(E-16)+yn>>Fl,Yf[E-Zo]=Bn(R,255),Lm[E-Zo]=Bn(R+8>>4,15);bp=1}return 1}function Ta(E){var R=E.ma,Z=E.U,fe=E.T;return r(!(1&E.ka)),0>=Z||0>=fe?0:(Z=R.Ib(E,R),R.Jb!=null&&R.Jb(E,R,Z),R.Dc+=Z,1)}function pa(E){E.ma.memory=null}function at(E,R,Z,fe){return se(E,8)!=47?0:(R[0]=se(E,14)+1,Z[0]=se(E,14)+1,fe[0]=se(E,1),se(E,3)!=0?0:!E.h)}function Ht(E,R){if(4>E)return E+1;var Z=E-2>>1;return(2+(1&E)<<Z)+se(R,Z)+1}function Gt(E,R){return 120<R?R-120:1<=(Z=((Z=ac[R-1])>>4)*E+(8-(15&Z)))?Z:1;var Z}function dr(E,R,Z){var fe=z(Z),Fe=E[R+=255&fe].g-8;return 0<Fe&&(oe(Z,Z.u+8),fe=z(Z),R+=E[R].value,R+=fe&(1<<Fe)-1),oe(Z,Z.u+E[R].g),E[R].value}function Jt(E,R,Z){return Z.g+=E.g,Z.value+=E.value<<R>>>0,r(8>=Z.g),E.g}function Mr(E,R,Z){var fe=E.xc;return r((R=fe==0?0:E.vc[E.md*(Z>>fe)+(R>>fe)])<E.Wb),E.Ya[R]}function ke(E,R,Z,fe){var Fe=E.ab,Pe=E.c*R,De=E.C;R=De+R;var Ue=Z,$e=fe;for(fe=E.Ta,Z=E.Ua;0<Fe--;){var Xe=E.gc[Fe],At=De,Tt=R,Et=Ue,wt=$e,Qt=($e=fe,Ue=Z,Xe.Ea);switch(r(At<Tt),r(Tt<=Xe.nc),Xe.hc){case 2:zf(Et,wt,(Tt-At)*Qt,$e,Ue);break;case 0:var Lt=At,ht=Tt,gt=$e,Kt=Ue,Zt=(vr=Xe).Ea;Lt==0&&(Uu(Et,wt,null,null,1,gt,Kt),rt(Et,wt+1,0,0,Zt-1,gt,Kt+1),wt+=Zt,Kt+=Zt,++Lt);for(var qt=1<<vr.b,Cr=qt-1,xr=ie(Zt,vr.b),Ur=vr.K,vr=vr.w+(Lt>>vr.b)*xr;Lt<ht;){var Da=Ur,Qa=vr,fa=1;for(Ru(Et,wt,gt,Kt-Zt,1,gt,Kt);fa<Zt;){var sr=(fa&~Cr)+qt;sr>Zt&&(sr=Zt),(0,Xn[Da[Qa++]>>8&15])(Et,wt+ +fa,gt,Kt+fa-Zt,sr-fa,gt,Kt+fa),fa=sr}wt+=Zt,Kt+=Zt,++Lt&Cr||(vr+=xr)}Tt!=Xe.nc&&s($e,Ue-Qt,$e,Ue+(Tt-At-1)*Qt,Qt);break;case 1:for(Qt=Et,ht=wt,Zt=(Et=Xe.Ea)-(Kt=Et&~(gt=(wt=1<<Xe.b)-1)),Lt=ie(Et,Xe.b),qt=Xe.K,Xe=Xe.w+(At>>Xe.b)*Lt;At<Tt;){for(Cr=qt,xr=Xe,Ur=new ye,vr=ht+Kt,Da=ht+Et;ht<vr;)nt(Cr[xr++],Ur),Xl(Ur,Qt,ht,wt,$e,Ue),ht+=wt,Ue+=wt;ht<Da&&(nt(Cr[xr++],Ur),Xl(Ur,Qt,ht,Zt,$e,Ue),ht+=Zt,Ue+=Zt),++At&gt||(Xe+=Lt)}break;case 3:if(Et==$e&&wt==Ue&&0<Xe.b){for(ht=$e,Et=Qt=Ue+(Tt-At)*Qt-(Kt=(Tt-At)*ie(Xe.Ea,Xe.b)),wt=$e,gt=Ue,Lt=[],Kt=(Zt=Kt)-1;0<=Kt;--Kt)Lt[Kt]=wt[gt+Kt];for(Kt=Zt-1;0<=Kt;--Kt)ht[Et+Kt]=Lt[Kt];ks(Xe,At,Tt,$e,Qt,$e,Ue)}else ks(Xe,At,Tt,Et,wt,$e,Ue)}Ue=fe,$e=Z}$e!=Z&&s(fe,Z,Ue,$e,Pe)}function qe(E,R){var Z=E.V,fe=E.Ba+E.c*E.C,Fe=R-E.C;if(r(R<=E.l.o),r(16>=Fe),0<Fe){var Pe=E.l,De=E.Ta,Ue=E.Ua,$e=Pe.width;if(ke(E,Fe,Z,fe),Fe=Ue=[Ue],r((Z=E.C)<(fe=R)),r(Pe.v<Pe.va),fe>Pe.o&&(fe=Pe.o),Z<Pe.j){var Xe=Pe.j-Z;Z=Pe.j,Fe[0]+=Xe*$e}if(Z>=fe?Z=0:(Fe[0]+=4*Pe.v,Pe.ka=Z-Pe.j,Pe.U=Pe.va-Pe.v,Pe.T=fe-Z,Z=1),Z){if(Ue=Ue[0],11>(Z=E.ca).S){var At=Z.f.RGBA,Tt=(fe=Z.S,Fe=Pe.U,Pe=Pe.T,Xe=At.eb,At.A),Et=Pe;for(At=At.fb+E.Ma*At.A;0<Et--;){var wt=De,Qt=Ue,Lt=Fe,ht=Xe,gt=At;switch(fe){case Zn:Jn(wt,Qt,Lt,ht,gt);break;case Qu:gn(wt,Qt,Lt,ht,gt);break;case Gf:gn(wt,Qt,Lt,ht,gt),Li(ht,gt,0,Lt,1,0);break;case pi:mi(wt,Qt,Lt,ht,gt);break;case Kf:Ve(wt,Qt,Lt,ht,gt,1);break;case Kc:Ve(wt,Qt,Lt,ht,gt,1),Li(ht,gt,0,Lt,1,0);break;case Pd:Ve(wt,Qt,Lt,ht,gt,0);break;case tc:Ve(wt,Qt,Lt,ht,gt,0),Li(ht,gt,1,Lt,1,0);break;case Co:Jl(wt,Qt,Lt,ht,gt);break;case rc:Jl(wt,Qt,Lt,ht,gt),Aa(ht,gt,Lt,1,0);break;case ch:Pi(wt,Qt,Lt,ht,gt);break;default:r(0)}Ue+=$e,At+=Tt}E.Ma+=Pe}else alert("todo:EmitRescaledRowsYUVA");r(E.Ma<=Z.height)}}E.C=R,r(E.C<=E.i)}function ze(E){var R;if(0<E.ua)return 0;for(R=0;R<E.Wb;++R){var Z=E.Ya[R].G,fe=E.Ya[R].H;if(0<Z[1][fe[1]+0].g||0<Z[2][fe[2]+0].g||0<Z[3][fe[3]+0].g)return 0}return 1}function Ke(E,R,Z,fe,Fe,Pe){if(E.Z!=0){var De=E.qd,Ue=E.rd;for(r(Jo[E.Z]!=null);R<Z;++R)Jo[E.Z](De,Ue,fe,Fe,fe,Fe,Pe),De=fe,Ue=Fe,Fe+=Pe;E.qd=De,E.rd=Ue}}function Je(E,R){var Z=E.l.ma,fe=Z.Z==0||Z.Z==1?E.l.j:E.C;if(fe=E.C<fe?fe:E.C,r(R<=E.l.o),R>fe){var Fe=E.l.width,Pe=Z.ca,De=Z.tb+Fe*fe,Ue=E.V,$e=E.Ba+E.c*fe,Xe=E.gc;r(E.ab==1),r(Xe[0].hc==3),hi(Xe[0],fe,R,Ue,$e,Pe,De),Ke(Z,fe,R,Pe,De,Fe)}E.C=E.Ma=R}function et(E,R,Z,fe,Fe,Pe,De){var Ue=E.$/fe,$e=E.$%fe,Xe=E.m,At=E.s,Tt=Z+E.$,Et=Tt;Fe=Z+fe*Fe;var wt=Z+fe*Pe,Qt=280+At.ua,Lt=E.Pb?Ue:16777216,ht=0<At.ua?At.Wa:null,gt=At.wc,Kt=Tt<wt?Mr(At,$e,Ue):null;r(E.C<Pe),r(wt<=Fe);var Zt=!1;e:for(;;){for(;Zt||Tt<wt;){var qt=0;if(Ue>=Lt){var Cr=Tt-Z;r((Lt=E).Pb),Lt.wd=Lt.m,Lt.xd=Cr,0<Lt.s.ua&&pe(Lt.s.Wa,Lt.s.vb),Lt=Ue+xp}if($e&gt||(Kt=Mr(At,$e,Ue)),r(Kt!=null),Kt.Qb&&(R[Tt]=Kt.qb,Zt=!0),!Zt)if(ce(Xe),Kt.jc){qt=Xe,Cr=R;var xr=Tt,Ur=Kt.pd[z(qt)&Is-1];r(Kt.jc),256>Ur.g?(oe(qt,qt.u+Ur.g),Cr[xr]=Ur.value,qt=0):(oe(qt,qt.u+Ur.g-256),r(256<=Ur.value),qt=Ur.value),qt==0&&(Zt=!0)}else qt=dr(Kt.G[0],Kt.H[0],Xe);if(Xe.h)break;if(Zt||256>qt){if(!Zt)if(Kt.nd)R[Tt]=(Kt.qb|qt<<8)>>>0;else{if(ce(Xe),Zt=dr(Kt.G[1],Kt.H[1],Xe),ce(Xe),Cr=dr(Kt.G[2],Kt.H[2],Xe),xr=dr(Kt.G[3],Kt.H[3],Xe),Xe.h)break;R[Tt]=(xr<<24|Zt<<16|qt<<8|Cr)>>>0}if(Zt=!1,++Tt,++$e>=fe&&($e=0,++Ue,De!=null&&Ue<=Pe&&!(Ue%16)&&De(E,Ue),ht!=null))for(;Et<Tt;)qt=R[Et++],ht.X[(506832829*qt&4294967295)>>>ht.Mb]=qt}else if(280>qt){if(qt=Ht(qt-256,Xe),Cr=dr(Kt.G[4],Kt.H[4],Xe),ce(Xe),Cr=Gt(fe,Cr=Ht(Cr,Xe)),Xe.h)break;if(Tt-Z<Cr||Fe-Tt<qt)break e;for(xr=0;xr<qt;++xr)R[Tt+xr]=R[Tt+xr-Cr];for(Tt+=qt,$e+=qt;$e>=fe;)$e-=fe,++Ue,De!=null&&Ue<=Pe&&!(Ue%16)&&De(E,Ue);if(r(Tt<=Fe),$e&gt&&(Kt=Mr(At,$e,Ue)),ht!=null)for(;Et<Tt;)qt=R[Et++],ht.X[(506832829*qt&4294967295)>>>ht.Mb]=qt}else{if(!(qt<Qt))break e;for(Zt=qt-280,r(ht!=null);Et<Tt;)qt=R[Et++],ht.X[(506832829*qt&4294967295)>>>ht.Mb]=qt;qt=Tt,r(!(Zt>>>(Cr=ht).Xa)),R[qt]=Cr.X[Zt],Zt=!0}Zt||r(Xe.h==ae(Xe))}if(E.Pb&&Xe.h&&Tt<Fe)r(E.m.h),E.a=5,E.m=E.wd,E.$=E.xd,0<E.s.ua&&pe(E.s.vb,E.s.Wa);else{if(Xe.h)break e;De?.(E,Ue>Pe?Pe:Ue),E.a=0,E.$=Tt-Z}return 1}return E.a=3,0}function St(E){r(E!=null),E.vc=null,E.yc=null,E.Ya=null;var R=E.Wa;R!=null&&(R.X=null),E.vb=null,r(E!=null)}function Me(){var E=new Pm;return E==null?null:(E.a=0,E.xb=Hu,Se("Predictor","VP8LPredictors"),Se("Predictor","VP8LPredictors_C"),Se("PredictorAdd","VP8LPredictorsAdd"),Se("PredictorAdd","VP8LPredictorsAdd_C"),zf=Te,Xl=xt,Jn=_e,gn=dt,Jl=yt,Pi=rr,mi=_t,k.VP8LMapColor32b=us,k.VP8LMapColor8b=Qs,E)}function We(E,R,Z,fe,Fe){var Pe=1,De=[E],Ue=[R],$e=fe.m,Xe=fe.s,At=null,Tt=0;e:for(;;){if(Z)for(;Pe&&se($e,1);){var Et=De,wt=Ue,Qt=fe,Lt=1,ht=Qt.m,gt=Qt.gc[Qt.ab],Kt=se(ht,2);if(Qt.Oc&1<<Kt)Pe=0;else{switch(Qt.Oc|=1<<Kt,gt.hc=Kt,gt.Ea=Et[0],gt.nc=wt[0],gt.K=[null],++Qt.ab,r(4>=Qt.ab),Kt){case 0:case 1:gt.b=se(ht,3)+2,Lt=We(ie(gt.Ea,gt.b),ie(gt.nc,gt.b),0,Qt,gt.K),gt.K=gt.K[0];break;case 3:var Zt,qt=se(ht,8)+1,Cr=16<qt?0:4<qt?1:2<qt?2:3;if(Et[0]=ie(gt.Ea,Cr),gt.b=Cr,Zt=Lt=We(qt,1,0,Qt,gt.K)){var xr,Ur=qt,vr=gt,Da=1<<(8>>vr.b),Qa=o(Da);if(Qa==null)Zt=0;else{var fa=vr.K[0],sr=vr.w;for(Qa[0]=vr.K[0][0],xr=1;xr<1*Ur;++xr)Qa[xr]=de(fa[sr+xr],Qa[xr-1]);for(;xr<4*Da;++xr)Qa[xr]=0;vr.K[0]=null,vr.K[0]=Qa,Zt=1}}Lt=Zt;break;case 2:break;default:r(0)}Pe=Lt}}if(De=De[0],Ue=Ue[0],Pe&&se($e,1)&&!(Pe=1<=(Tt=se($e,4))&&11>=Tt)){fe.a=3;break e}var Wa;if(Wa=Pe)t:{var Ha,Zr,wa,Qr=fe,Wr=De,xa=Ue,Ca=Tt,In=Z,bn=Qr.m,Js=Qr.s,rs=[null],zs=1,Mi=0,$a=Dd[Ca];r:for(;;){if(In&&se(bn,1)){var Zs=se(bn,3)+2,el=ie(Wr,Zs),Il=ie(xa,Zs),Ud=el*Il;if(!We(el,Il,0,Qr,rs))break r;for(rs=rs[0],Js.xc=Zs,Ha=0;Ha<Ud;++Ha){var qc=rs[Ha]>>8&65535;rs[Ha]=qc,qc>=zs&&(zs=qc+1)}}if(bn.h)break r;for(Zr=0;5>Zr;++Zr){var js=to[Zr];!Zr&&0<Ca&&(js+=1<<Ca),Mi<js&&(Mi=js)}var Xf=l(zs*$a,M),mh=zs,xi=l(mh,q);if(xi==null)var Ps=null;else r(65536>=mh),Ps=xi;var Rd=o(Mi);if(Ps==null||Rd==null||Xf==null){Qr.a=1;break r}var oc=Xf;for(Ha=wa=0;Ha<zs;++Ha){var Ui=Ps[Ha],Yc=Ui.G,Ri=Ui.H,zu=0,Vu=1,Qd=0;for(Zr=0;5>Zr;++Zr){js=to[Zr],Yc[Zr]=oc,Ri[Zr]=wa,!Zr&&0<Ca&&(js+=1<<Ca);s:{var Jf,Ku=js,Hd=Qr,$d=Rd,Um=oc,jp=wa,Gu=0,tl=Hd.m,Rm=se(tl,1);if(i($d,0,0,Ku),Rm){var Qm=se(tl,1)+1,Hm=se(tl,1),ph=se(tl,Hm==0?1:8);$d[ph]=1,Qm==2&&($d[ph=se(tl,8)]=1);var zd=1}else{var Zf=o(19),$m=se(tl,4)+4;if(19<$m){Hd.a=3;var eA=0;break s}for(Jf=0;Jf<$m;++Jf)Zf[Eo[Jf]]=se(tl,3);var gh=void 0,Rn=void 0,xh=Hd,Np=Zf,lc=Ku,tA=$d,yh=0,rl=xh.m,Wu=8,zm=l(128,M);a:for(;H(zm,0,7,Np,19);){if(se(rl,1)){var Sp=2+2*se(rl,3);if((gh=2+se(rl,Sp))>lc)break a}else gh=lc;for(Rn=0;Rn<lc&&gh--;){ce(rl);var Vm=zm[0+(127&z(rl))];oe(rl,rl.u+Vm.g);var Xc=Vm.value;if(16>Xc)tA[Rn++]=Xc,Xc!=0&&(Wu=Xc);else{var Cp=Xc==16,rA=Xc-16,vh=Bo[rA],wn=se(rl,dh[rA])+vh;if(Rn+wn>lc)break a;for(var qu=Cp?Wu:0;0<wn--;)tA[Rn++]=qu}}yh=1;break a}yh||(xh.a=3),zd=yh}(zd=zd&&!tl.h)&&(Gu=H(Um,jp,8,$d,Ku)),zd&&Gu!=0?eA=Gu:(Hd.a=3,eA=0)}if(eA==0)break r;if(Vu&&Od[Zr]==1&&(Vu=oc[wa].g==0),zu+=oc[wa].g,wa+=eA,3>=Zr){var Vd,bh=Rd[0];for(Vd=1;Vd<js;++Vd)Rd[Vd]>bh&&(bh=Rd[Vd]);Qd+=bh}}if(Ui.nd=Vu,Ui.Qb=0,Vu&&(Ui.qb=(Yc[3][Ri[3]+0].value<<24|Yc[1][Ri[1]+0].value<<16|Yc[2][Ri[2]+0].value)>>>0,zu==0&&256>Yc[0][Ri[0]+0].value&&(Ui.Qb=1,Ui.qb+=Yc[0][Ri[0]+0].value<<8)),Ui.jc=!Ui.Qb&&6>Qd,Ui.jc){var Yu,al=Ui;for(Yu=0;Yu<Is;++Yu){var kl=Yu,cc=al.pd[kl],aA=al.G[0][al.H[0]+kl];256<=aA.value?(cc.g=aA.g+256,cc.value=aA.value):(cc.g=0,cc.value=0,kl>>=Jt(aA,8,cc),kl>>=Jt(al.G[1][al.H[1]+kl],16,cc),kl>>=Jt(al.G[2][al.H[2]+kl],0,cc),Jt(al.G[3][al.H[3]+kl],24,cc))}}}Js.vc=rs,Js.Wb=zs,Js.Ya=Ps,Js.yc=Xf,Wa=1;break t}Wa=0}if(!(Pe=Wa)){fe.a=3;break e}if(0<Tt){if(Xe.ua=1<<Tt,!ge(Xe.Wa,Tt)){fe.a=1,Pe=0;break e}}else Xe.ua=0;var sA=fe,Km=De,Bp=Ue,Gm=sA.s,Wm=Gm.xc;if(sA.c=Km,sA.i=Bp,Gm.md=ie(Km,Wm),Gm.wc=Wm==0?-1:(1<<Wm)-1,Z){fe.xb=vp;break e}if((At=o(De*Ue))==null){fe.a=1,Pe=0;break e}Pe=(Pe=et(fe,At,0,De,Ue,Ue,null))&&!$e.h;break e}return Pe?(Fe!=null?Fe[0]=At:(r(At==null),r(Z)),fe.$=0,Z||St(Xe)):St(Xe),Pe}function st(E,R){var Z=E.c*E.i,fe=Z+R+16*R;return r(E.c<=R),E.V=o(fe),E.V==null?(E.Ta=null,E.Ua=0,E.a=1,0):(E.Ta=E.V,E.Ua=E.Ba+Z+R,1)}function jt(E,R){var Z=E.C,fe=R-Z,Fe=E.V,Pe=E.Ba+E.c*Z;for(r(R<=E.l.o);0<fe;){var De=16<fe?16:fe,Ue=E.l.ma,$e=E.l.width,Xe=$e*De,At=Ue.ca,Tt=Ue.tb+$e*Z,Et=E.Ta,wt=E.Ua;ke(E,De,Fe,Pe),is(Et,wt,At,Tt,Xe),Ke(Ue,Z,Z+De,At,Tt,$e),fe-=De,Fe+=De*E.c,Z+=De}r(Z==R),E.C=E.Ma=R}function Yt(){this.ub=this.yd=this.td=this.Rb=0}function tr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function or(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function ur(){this.Yb=function(){var E=[];return function R(Z,fe,Fe){for(var Pe=Fe[fe],De=0;De<Pe&&(Z.push(Fe.length>fe+1?[]:0),!(Fe.length<fe+1));De++)R(Z[De],fe+1,Fe)}(E,0,[3,11]),E}()}function jr(){this.jb=o(3),this.Wc=c([4,8],ur),this.Xc=c([4,17],ur)}function qr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function ga(){this.ld=this.La=this.dd=this.tc=0}function Oa(){this.Na=this.la=0}function Ma(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Bi(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ei(){this.uc=this.M=this.Nb=0,this.wa=Array(new ga),this.Y=0,this.ya=Array(new Bi),this.aa=0,this.l=new ui}function di(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Xi(){this.cb=this.a=0,this.sc="",this.m=new ve,this.Od=new Yt,this.Kc=new tr,this.ed=new qr,this.Qa=new or,this.Ic=this.$c=this.Aa=0,this.D=new Ei,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,ve),this.ia=0,this.pb=l(4,Ma),this.Pa=new jr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new di),this.Hd=0,this.rb=Array(new Oa),this.sb=0,this.wa=Array(new ga),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Bi),this.L=this.aa=0,this.gd=c([4,2],ga),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ui(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Mn(){var E=new Xi;return E!=null&&(E.a=0,E.sc="OK",E.cb=0,E.Xb=0,xn||(xn=bd)),E}function Rs(E,R,Z){return E.a==0&&(E.a=R,E.sc=Z,E.cb=0),0}function fi(E,R,Z){return 3<=Z&&E[R+0]==157&&E[R+1]==1&&E[R+2]==42}function kf(E,R){if(E==null)return 0;if(E.a=0,E.sc="OK",R==null)return Rs(E,2,"null VP8Io passed to VP8GetHeaders()");var Z=R.data,fe=R.w,Fe=R.ha;if(4>Fe)return Rs(E,7,"Truncated header.");var Pe=Z[fe+0]|Z[fe+1]<<8|Z[fe+2]<<16,De=E.Od;if(De.Rb=!(1&Pe),De.td=Pe>>1&7,De.yd=Pe>>4&1,De.ub=Pe>>5,3<De.td)return Rs(E,3,"Incorrect keyframe parameters.");if(!De.yd)return Rs(E,4,"Frame not displayable.");fe+=3,Fe-=3;var Ue=E.Kc;if(De.Rb){if(7>Fe)return Rs(E,7,"cannot parse picture header");if(!fi(Z,fe,Fe))return Rs(E,3,"Bad code word");Ue.c=16383&(Z[fe+4]<<8|Z[fe+3]),Ue.Td=Z[fe+4]>>6,Ue.i=16383&(Z[fe+6]<<8|Z[fe+5]),Ue.Ud=Z[fe+6]>>6,fe+=7,Fe-=7,E.za=Ue.c+15>>4,E.Ub=Ue.i+15>>4,R.width=Ue.c,R.height=Ue.i,R.Da=0,R.j=0,R.v=0,R.va=R.width,R.o=R.height,R.da=0,R.ib=R.width,R.hb=R.height,R.U=R.width,R.T=R.height,i((Pe=E.Pa).jb,0,255,Pe.jb.length),r((Pe=E.Qa)!=null),Pe.Cb=0,Pe.Bb=0,Pe.Fb=1,i(Pe.Zb,0,0,Pe.Zb.length),i(Pe.Lb,0,0,Pe.Lb)}if(De.ub>Fe)return Rs(E,7,"bad partition length");re(Pe=E.m,Z,fe,De.ub),fe+=De.ub,Fe-=De.ub,De.Rb&&(Ue.Ld=he(Pe),Ue.Kd=he(Pe)),Ue=E.Qa;var $e,Xe=E.Pa;if(r(Pe!=null),r(Ue!=null),Ue.Cb=he(Pe),Ue.Cb){if(Ue.Bb=he(Pe),he(Pe)){for(Ue.Fb=he(Pe),$e=0;4>$e;++$e)Ue.Zb[$e]=he(Pe)?le(Pe,7):0;for($e=0;4>$e;++$e)Ue.Lb[$e]=he(Pe)?le(Pe,6):0}if(Ue.Bb)for($e=0;3>$e;++$e)Xe.jb[$e]=he(Pe)?ee(Pe,8):255}else Ue.Bb=0;if(Pe.Ka)return Rs(E,3,"cannot parse segment header");if((Ue=E.ed).zd=he(Pe),Ue.Tb=ee(Pe,6),Ue.wb=ee(Pe,3),Ue.Pc=he(Pe),Ue.Pc&&he(Pe)){for(Xe=0;4>Xe;++Xe)he(Pe)&&(Ue.vd[Xe]=le(Pe,6));for(Xe=0;4>Xe;++Xe)he(Pe)&&(Ue.od[Xe]=le(Pe,6))}if(E.L=Ue.Tb==0?0:Ue.zd?1:2,Pe.Ka)return Rs(E,3,"cannot parse filter header");var At=Fe;if(Fe=$e=fe,fe=$e+At,Ue=At,E.Xb=(1<<ee(E.m,2))-1,At<3*(Xe=E.Xb))Z=7;else{for($e+=3*Xe,Ue-=3*Xe,At=0;At<Xe;++At){var Tt=Z[Fe+0]|Z[Fe+1]<<8|Z[Fe+2]<<16;Tt>Ue&&(Tt=Ue),re(E.Jc[+At],Z,$e,Tt),$e+=Tt,Ue-=Tt,Fe+=3}re(E.Jc[+Xe],Z,$e,Ue),Z=$e<fe?0:5}if(Z!=0)return Rs(E,Z,"cannot parse partitions");for(Z=ee($e=E.m,7),Fe=he($e)?le($e,4):0,fe=he($e)?le($e,4):0,Ue=he($e)?le($e,4):0,Xe=he($e)?le($e,4):0,$e=he($e)?le($e,4):0,At=E.Qa,Tt=0;4>Tt;++Tt){if(At.Cb){var Et=At.Zb[Tt];At.Fb||(Et+=Z)}else{if(0<Tt){E.pb[Tt]=E.pb[0];continue}Et=Z}var wt=E.pb[Tt];wt.Sc[0]=Wf[Bn(Et+Fe,127)],wt.Sc[1]=Gc[Bn(Et+0,127)],wt.Eb[0]=2*Wf[Bn(Et+fe,127)],wt.Eb[1]=101581*Gc[Bn(Et+Ue,127)]>>16,8>wt.Eb[1]&&(wt.Eb[1]=8),wt.Qc[0]=Wf[Bn(Et+Xe,117)],wt.Qc[1]=Gc[Bn(Et+$e,127)],wt.lc=Et+$e}if(!De.Rb)return Rs(E,4,"Not a key frame.");for(he(Pe),De=E.Pa,Z=0;4>Z;++Z){for(Fe=0;8>Fe;++Fe)for(fe=0;3>fe;++fe)for(Ue=0;11>Ue;++Ue)Xe=te(Pe,Ld[Z][Fe][fe][Ue])?ee(Pe,8):El[Z][Fe][fe][Ue],De.Wc[Z][Fe].Yb[fe][Ue]=Xe;for(Fe=0;17>Fe;++Fe)De.Xc[Z][Fe]=De.Wc[Z][yp[Fe]]}return E.kc=he(Pe),E.kc&&(E.Bd=ee(Pe,8)),E.cb=1}function bd(E,R,Z,fe,Fe,Pe,De){var Ue=R[Fe].Yb[Z];for(Z=0;16>Fe;++Fe){if(!te(E,Ue[Z+0]))return Fe;for(;!te(E,Ue[Z+1]);)if(Ue=R[++Fe].Yb[0],Z=0,Fe==16)return 16;var $e=R[Fe+1].Yb;if(te(E,Ue[Z+2])){var Xe=E,At=0;if(te(Xe,(Et=Ue)[(Tt=Z)+3]))if(te(Xe,Et[Tt+6])){for(Ue=0,Tt=2*(At=te(Xe,Et[Tt+8]))+(Et=te(Xe,Et[Tt+9+At])),At=0,Et=$s[Tt];Et[Ue];++Ue)At+=At+te(Xe,Et[Ue]);At+=3+(8<<Tt)}else te(Xe,Et[Tt+7])?(At=7+2*te(Xe,165),At+=te(Xe,145)):At=5+te(Xe,159);else At=te(Xe,Et[Tt+4])?3+te(Xe,Et[Tt+5]):2;Ue=$e[2]}else At=1,Ue=$e[1];$e=De+Ua[Fe],0>(Xe=E).b&&me(Xe);var Tt,Et=Xe.b,wt=(Tt=Xe.Ca>>1)-(Xe.I>>Et)>>31;--Xe.b,Xe.Ca+=wt,Xe.Ca|=1,Xe.I-=(Tt+1&wt)<<Et,Pe[$e]=((At^wt)-wt)*fe[(0<Fe)+0]}return 16}function Wo(E){var R=E.rb[E.sb-1];R.la=0,R.Na=0,i(E.zc,0,0,E.zc.length),E.ja=0}function Ic(E,R){if(E==null)return 0;if(R==null)return Rs(E,2,"NULL VP8Io parameter in VP8Decode().");if(!E.cb&&!kf(E,R))return 0;if(r(E.cb),R.ac==null||R.ac(R)){R.ob&&(E.L=0);var Z=ic[E.L];if(E.L==2?(E.yb=0,E.zb=0):(E.yb=R.v-Z>>4,E.zb=R.j-Z>>4,0>E.yb&&(E.yb=0),0>E.zb&&(E.zb=0)),E.Va=R.o+15+Z>>4,E.Hb=R.va+15+Z>>4,E.Hb>E.za&&(E.Hb=E.za),E.Va>E.Ub&&(E.Va=E.Ub),0<E.L){var fe=E.ed;for(Z=0;4>Z;++Z){var Fe;if(E.Qa.Cb){var Pe=E.Qa.Lb[Z];E.Qa.Fb||(Pe+=fe.Tb)}else Pe=fe.Tb;for(Fe=0;1>=Fe;++Fe){var De=E.gd[Z][Fe],Ue=Pe;if(fe.Pc&&(Ue+=fe.vd[0],Fe&&(Ue+=fe.od[0])),0<(Ue=0>Ue?0:63<Ue?63:Ue)){var $e=Ue;0<fe.wb&&($e=4<fe.wb?$e>>2:$e>>1)>9-fe.wb&&($e=9-fe.wb),1>$e&&($e=1),De.dd=$e,De.tc=2*Ue+$e,De.ld=40<=Ue?2:15<=Ue?1:0}else De.tc=0;De.La=Fe}}}Z=0}else Rs(E,6,"Frame setup failed"),Z=E.a;if(Z=Z==0){if(Z){E.$c=0,0<E.Aa||(E.Ic=Mm);e:{Z=E.Ic,fe=4*($e=E.za);var Xe=32*$e,At=$e+1,Tt=0<E.L?$e*(0<E.Aa?2:1):0,Et=(E.Aa==2?2:1)*$e;if((De=fe+832+(Fe=3*(16*Z+ic[E.L])/2*Xe)+(Pe=E.Fa!=null&&0<E.Fa.length?E.Kc.c*E.Kc.i:0))!=De)Z=0;else{if(De>E.Vb){if(E.Vb=0,E.Ec=o(De),E.Fc=0,E.Ec==null){Z=Rs(E,1,"no memory during frame initialization.");break e}E.Vb=De}De=E.Ec,Ue=E.Fc,E.Ac=De,E.Bc=Ue,Ue+=fe,E.Gd=l(Xe,di),E.Hd=0,E.rb=l(At+1,Oa),E.sb=1,E.wa=Tt?l(Tt,ga):null,E.Y=0,E.D.Nb=0,E.D.wa=E.wa,E.D.Y=E.Y,0<E.Aa&&(E.D.Y+=$e),r(!0),E.oc=De,E.pc=Ue,Ue+=832,E.ya=l(Et,Bi),E.aa=0,E.D.ya=E.ya,E.D.aa=E.aa,E.Aa==2&&(E.D.aa+=$e),E.R=16*$e,E.B=8*$e,$e=(Xe=ic[E.L])*E.R,Xe=Xe/2*E.B,E.sa=De,E.ta=Ue+$e,E.qa=E.sa,E.ra=E.ta+16*Z*E.R+Xe,E.Ha=E.qa,E.Ia=E.ra+8*Z*E.B+Xe,E.$c=0,Ue+=Fe,E.mb=Pe?De:null,E.nb=Pe?Ue:null,r(Ue+Pe<=E.Fc+E.Vb),Wo(E),i(E.Ac,E.Bc,0,fe),Z=1}}if(Z){if(R.ka=0,R.y=E.sa,R.O=E.ta,R.f=E.qa,R.N=E.ra,R.ea=E.Ha,R.Vd=E.Ia,R.fa=E.R,R.Rc=E.B,R.F=null,R.J=0,!ec){for(Z=-255;255>=Z;++Z)ws[255+Z]=0>Z?-Z:Z;for(Z=-1020;1020>=Z;++Z)No[1020+Z]=-128>Z?-128:127<Z?127:Z;for(Z=-112;112>=Z;++Z)Vc[112+Z]=-16>Z?-16:15<Z?15:Z;for(Z=-255;510>=Z;++Z)Bl[255+Z]=0>Z?0:255<Z?255:Z;ec=1}En=kc,Yo=Pf,Oi=Kl,Xs=sh,Di=Of,Hs=_f,Td=Sl,cn=Lc,Fd=_u,Hc=Sd,$c=_m,Xo=eo,Id=Pu,kd=lh,Zl=Ji,Cl=Zi,zc=Nl,_s=km,gi[0]=Fi,gi[1]=nh,gi[2]=Mf,gi[3]=ih,gi[4]=wo,gi[5]=bl,gi[6]=Fu,gi[7]=Ws,gi[8]=Nd,gi[9]=Iu,sc[0]=bo,sc[1]=Lf,sc[2]=Gl,sc[3]=jd,sc[4]=Cn,sc[5]=Pc,sc[6]=Wl,ei[0]=ql,ei[1]=Df,ei[2]=Uf,ei[3]=Oc,ei[4]=Ii,ei[5]=Un,ei[6]=Yl,Z=1}else Z=0}Z&&(Z=function(wt,Qt){for(wt.M=0;wt.M<wt.Va;++wt.M){var Lt,ht=wt.Jc[wt.M&wt.Xb],gt=wt.m,Kt=wt;for(Lt=0;Lt<Kt.za;++Lt){var Zt=gt,qt=Kt,Cr=qt.Ac,xr=qt.Bc+4*Lt,Ur=qt.zc,vr=qt.ya[qt.aa+Lt];if(qt.Qa.Bb?vr.$b=te(Zt,qt.Pa.jb[0])?2+te(Zt,qt.Pa.jb[2]):te(Zt,qt.Pa.jb[1]):vr.$b=0,qt.kc&&(vr.Ad=te(Zt,qt.Bd)),vr.Za=!te(Zt,145)+0,vr.Za){var Da=vr.Ob,Qa=0;for(qt=0;4>qt;++qt){var fa,sr=Ur[0+qt];for(fa=0;4>fa;++fa){sr=Om[Cr[xr+fa]][sr];for(var Wa=Wc[te(Zt,sr[0])];0<Wa;)Wa=Wc[2*Wa+te(Zt,sr[Wa])];sr=-Wa,Cr[xr+fa]=sr}s(Da,Qa,Cr,xr,4),Qa+=4,Ur[0+qt]=sr}}else sr=te(Zt,156)?te(Zt,128)?1:3:te(Zt,163)?2:0,vr.Ob[0]=sr,i(Cr,xr,sr,4),i(Ur,0,sr,4);vr.Dd=te(Zt,142)?te(Zt,114)?te(Zt,183)?1:3:2:0}if(Kt.m.Ka)return Rs(wt,7,"Premature end-of-partition0 encountered.");for(;wt.ja<wt.za;++wt.ja){if(Kt=ht,Zt=(gt=wt).rb[gt.sb-1],Cr=gt.rb[gt.sb+gt.ja],Lt=gt.ya[gt.aa+gt.ja],xr=gt.kc?Lt.Ad:0)Zt.la=Cr.la=0,Lt.Za||(Zt.Na=Cr.Na=0),Lt.Hc=0,Lt.Gc=0,Lt.ia=0;else{var Ha,Zr;if(Zt=Cr,Cr=Kt,xr=gt.Pa.Xc,Ur=gt.ya[gt.aa+gt.ja],vr=gt.pb[Ur.$b],qt=Ur.ad,Da=0,Qa=gt.rb[gt.sb-1],sr=fa=0,i(qt,Da,0,384),Ur.Za)var wa=0,Qr=xr[3];else{Wa=o(16);var Wr=Zt.Na+Qa.Na;if(Wr=xn(Cr,xr[1],Wr,vr.Eb,0,Wa,0),Zt.Na=Qa.Na=(0<Wr)+0,1<Wr)En(Wa,0,qt,Da);else{var xa=Wa[0]+3>>3;for(Wa=0;256>Wa;Wa+=16)qt[Da+Wa]=xa}wa=1,Qr=xr[0]}var Ca=15&Zt.la,In=15&Qa.la;for(Wa=0;4>Wa;++Wa){var bn=1&In;for(xa=Zr=0;4>xa;++xa)Ca=Ca>>1|(bn=(Wr=xn(Cr,Qr,Wr=bn+(1&Ca),vr.Sc,wa,qt,Da))>wa)<<7,Zr=Zr<<2|(3<Wr?3:1<Wr?2:qt[Da+0]!=0),Da+=16;Ca>>=4,In=In>>1|bn<<7,fa=(fa<<8|Zr)>>>0}for(Qr=Ca,wa=In>>4,Ha=0;4>Ha;Ha+=2){for(Zr=0,Ca=Zt.la>>4+Ha,In=Qa.la>>4+Ha,Wa=0;2>Wa;++Wa){for(bn=1&In,xa=0;2>xa;++xa)Wr=bn+(1&Ca),Ca=Ca>>1|(bn=0<(Wr=xn(Cr,xr[2],Wr,vr.Qc,0,qt,Da)))<<3,Zr=Zr<<2|(3<Wr?3:1<Wr?2:qt[Da+0]!=0),Da+=16;Ca>>=2,In=In>>1|bn<<5}sr|=Zr<<4*Ha,Qr|=Ca<<4<<Ha,wa|=(240&In)<<Ha}Zt.la=Qr,Qa.la=wa,Ur.Hc=fa,Ur.Gc=sr,Ur.ia=43690&sr?0:vr.ia,xr=!(fa|sr)}if(0<gt.L&&(gt.wa[gt.Y+gt.ja]=gt.gd[Lt.$b][Lt.Za],gt.wa[gt.Y+gt.ja].La|=!xr),Kt.Ka)return Rs(wt,7,"Premature end-of-file encountered.")}if(Wo(wt),gt=Qt,Kt=1,Lt=(ht=wt).D,Zt=0<ht.L&&ht.M>=ht.zb&&ht.M<=ht.Va,ht.Aa==0)e:{if(Lt.M=ht.M,Lt.uc=Zt,Ga(ht,Lt),Kt=1,Lt=(Zr=ht.D).Nb,Zt=(sr=ic[ht.L])*ht.R,Cr=sr/2*ht.B,Wa=16*Lt*ht.R,xa=8*Lt*ht.B,xr=ht.sa,Ur=ht.ta-Zt+Wa,vr=ht.qa,qt=ht.ra-Cr+xa,Da=ht.Ha,Qa=ht.Ia-Cr+xa,In=(Ca=Zr.M)==0,fa=Ca>=ht.Va-1,ht.Aa==2&&Ga(ht,Zr),Zr.uc)for(bn=(Wr=ht).D.M,r(Wr.D.uc),Zr=Wr.yb;Zr<Wr.Hb;++Zr){wa=Zr,Qr=bn;var Js=(rs=(js=Wr).D).Nb;Ha=js.R;var rs=rs.wa[rs.Y+wa],zs=js.sa,Mi=js.ta+16*Js*Ha+16*wa,$a=rs.dd,Zs=rs.tc;if(Zs!=0)if(r(3<=Zs),js.L==1)0<wa&&Cl(zs,Mi,Ha,Zs+4),rs.La&&_s(zs,Mi,Ha,Zs),0<Qr&&Zl(zs,Mi,Ha,Zs+4),rs.La&&zc(zs,Mi,Ha,Zs);else{var el=js.B,Il=js.qa,Ud=js.ra+8*Js*el+8*wa,qc=js.Ha,js=js.Ia+8*Js*el+8*wa;Js=rs.ld,0<wa&&(cn(zs,Mi,Ha,Zs+4,$a,Js),Hc(Il,Ud,qc,js,el,Zs+4,$a,Js)),rs.La&&(Xo(zs,Mi,Ha,Zs,$a,Js),kd(Il,Ud,qc,js,el,Zs,$a,Js)),0<Qr&&(Td(zs,Mi,Ha,Zs+4,$a,Js),Fd(Il,Ud,qc,js,el,Zs+4,$a,Js)),rs.La&&($c(zs,Mi,Ha,Zs,$a,Js),Id(Il,Ud,qc,js,el,Zs,$a,Js))}}if(ht.ia&&alert("todo:DitherRow"),gt.put!=null){if(Zr=16*Ca,Ca=16*(Ca+1),In?(gt.y=ht.sa,gt.O=ht.ta+Wa,gt.f=ht.qa,gt.N=ht.ra+xa,gt.ea=ht.Ha,gt.W=ht.Ia+xa):(Zr-=sr,gt.y=xr,gt.O=Ur,gt.f=vr,gt.N=qt,gt.ea=Da,gt.W=Qa),fa||(Ca-=sr),Ca>gt.o&&(Ca=gt.o),gt.F=null,gt.J=null,ht.Fa!=null&&0<ht.Fa.length&&Zr<Ca&&(gt.J=Hf(ht,gt,Zr,Ca-Zr),gt.F=ht.mb,gt.F==null&&gt.F.length==0)){Kt=Rs(ht,3,"Could not decode alpha data.");break e}Zr<gt.j&&(sr=gt.j-Zr,Zr=gt.j,r(!(1&sr)),gt.O+=ht.R*sr,gt.N+=ht.B*(sr>>1),gt.W+=ht.B*(sr>>1),gt.F!=null&&(gt.J+=gt.width*sr)),Zr<Ca&&(gt.O+=gt.v,gt.N+=gt.v>>1,gt.W+=gt.v>>1,gt.F!=null&&(gt.J+=gt.v),gt.ka=Zr-gt.j,gt.U=gt.va-gt.v,gt.T=Ca-Zr,Kt=gt.put(gt))}Lt+1!=ht.Ic||fa||(s(ht.sa,ht.ta-Zt,xr,Ur+16*ht.R,Zt),s(ht.qa,ht.ra-Cr,vr,qt+8*ht.B,Cr),s(ht.Ha,ht.Ia-Cr,Da,Qa+8*ht.B,Cr))}if(!Kt)return Rs(wt,6,"Output aborted.")}return 1}(E,R)),R.bc!=null&&R.bc(R),Z&=1}return Z?(E.cb=0,Z):0}function Ti(E,R,Z,fe,Fe){Fe=E[R+Z+32*fe]+(Fe>>3),E[R+Z+32*fe]=-256&Fe?0>Fe?0:255:Fe}function pn(E,R,Z,fe,Fe,Pe){Ti(E,R,0,Z,fe+Fe),Ti(E,R,1,Z,fe+Pe),Ti(E,R,2,Z,fe-Pe),Ti(E,R,3,Z,fe-Fe)}function ds(E){return(20091*E>>16)+E}function wd(E,R,Z,fe){var Fe,Pe=0,De=o(16);for(Fe=0;4>Fe;++Fe){var Ue=E[R+0]+E[R+8],$e=E[R+0]-E[R+8],Xe=(35468*E[R+4]>>16)-ds(E[R+12]),At=ds(E[R+4])+(35468*E[R+12]>>16);De[Pe+0]=Ue+At,De[Pe+1]=$e+Xe,De[Pe+2]=$e-Xe,De[Pe+3]=Ue-At,Pe+=4,R++}for(Fe=Pe=0;4>Fe;++Fe)Ue=(E=De[Pe+0]+4)+De[Pe+8],$e=E-De[Pe+8],Xe=(35468*De[Pe+4]>>16)-ds(De[Pe+12]),Ti(Z,fe,0,0,Ue+(At=ds(De[Pe+4])+(35468*De[Pe+12]>>16))),Ti(Z,fe,1,0,$e+Xe),Ti(Z,fe,2,0,$e-Xe),Ti(Z,fe,3,0,Ue-At),Pe++,fe+=32}function _f(E,R,Z,fe){var Fe=E[R+0]+4,Pe=35468*E[R+4]>>16,De=ds(E[R+4]),Ue=35468*E[R+1]>>16;pn(Z,fe,0,Fe+De,E=ds(E[R+1]),Ue),pn(Z,fe,1,Fe+Pe,E,Ue),pn(Z,fe,2,Fe-Pe,E,Ue),pn(Z,fe,3,Fe-De,E,Ue)}function Pf(E,R,Z,fe,Fe){wd(E,R,Z,fe),Fe&&wd(E,R+16,Z,fe+4)}function Kl(E,R,Z,fe){Yo(E,R+0,Z,fe,1),Yo(E,R+32,Z,fe+128,1)}function sh(E,R,Z,fe){var Fe;for(E=E[R+0]+4,Fe=0;4>Fe;++Fe)for(R=0;4>R;++R)Ti(Z,fe,R,Fe,E)}function Of(E,R,Z,fe){E[R+0]&&Xs(E,R+0,Z,fe),E[R+16]&&Xs(E,R+16,Z,fe+4),E[R+32]&&Xs(E,R+32,Z,fe+128),E[R+48]&&Xs(E,R+48,Z,fe+128+4)}function kc(E,R,Z,fe){var Fe,Pe=o(16);for(Fe=0;4>Fe;++Fe){var De=E[R+0+Fe]+E[R+12+Fe],Ue=E[R+4+Fe]+E[R+8+Fe],$e=E[R+4+Fe]-E[R+8+Fe],Xe=E[R+0+Fe]-E[R+12+Fe];Pe[0+Fe]=De+Ue,Pe[8+Fe]=De-Ue,Pe[4+Fe]=Xe+$e,Pe[12+Fe]=Xe-$e}for(Fe=0;4>Fe;++Fe)De=(E=Pe[0+4*Fe]+3)+Pe[3+4*Fe],Ue=Pe[1+4*Fe]+Pe[2+4*Fe],$e=Pe[1+4*Fe]-Pe[2+4*Fe],Xe=E-Pe[3+4*Fe],Z[fe+0]=De+Ue>>3,Z[fe+16]=Xe+$e>>3,Z[fe+32]=De-Ue>>3,Z[fe+48]=Xe-$e>>3,fe+=64}function _c(E,R,Z){var fe,Fe=R-32,Pe=Tn,De=255-E[Fe-1];for(fe=0;fe<Z;++fe){var Ue,$e=Pe,Xe=De+E[R-1];for(Ue=0;Ue<Z;++Ue)E[R+Ue]=$e[Xe+E[Fe+Ue]];R+=32}}function nh(E,R){_c(E,R,4)}function Df(E,R){_c(E,R,8)}function Lf(E,R){_c(E,R,16)}function Gl(E,R){var Z;for(Z=0;16>Z;++Z)s(E,R+32*Z,E,R-32,16)}function jd(E,R){var Z;for(Z=16;0<Z;--Z)i(E,R,E[R-1],16),R+=32}function qo(E,R,Z){var fe;for(fe=0;16>fe;++fe)i(R,Z+32*fe,E,16)}function bo(E,R){var Z,fe=16;for(Z=0;16>Z;++Z)fe+=E[R-1+32*Z]+E[R+Z-32];qo(fe>>5,E,R)}function Cn(E,R){var Z,fe=8;for(Z=0;16>Z;++Z)fe+=E[R-1+32*Z];qo(fe>>4,E,R)}function Pc(E,R){var Z,fe=8;for(Z=0;16>Z;++Z)fe+=E[R+Z-32];qo(fe>>4,E,R)}function Wl(E,R){qo(128,E,R)}function Vr(E,R,Z){return E+2*R+Z+2>>2}function Mf(E,R){var Z,fe=R-32;for(fe=new Uint8Array([Vr(E[fe-1],E[fe+0],E[fe+1]),Vr(E[fe+0],E[fe+1],E[fe+2]),Vr(E[fe+1],E[fe+2],E[fe+3]),Vr(E[fe+2],E[fe+3],E[fe+4])]),Z=0;4>Z;++Z)s(E,R+32*Z,fe,0,fe.length)}function ih(E,R){var Z=E[R-1],fe=E[R-1+32],Fe=E[R-1+64],Pe=E[R-1+96];J(E,R+0,16843009*Vr(E[R-1-32],Z,fe)),J(E,R+32,16843009*Vr(Z,fe,Fe)),J(E,R+64,16843009*Vr(fe,Fe,Pe)),J(E,R+96,16843009*Vr(Fe,Pe,Pe))}function Fi(E,R){var Z,fe=4;for(Z=0;4>Z;++Z)fe+=E[R+Z-32]+E[R-1+32*Z];for(fe>>=3,Z=0;4>Z;++Z)i(E,R+32*Z,fe,4)}function wo(E,R){var Z=E[R-1+0],fe=E[R-1+32],Fe=E[R-1+64],Pe=E[R-1-32],De=E[R+0-32],Ue=E[R+1-32],$e=E[R+2-32],Xe=E[R+3-32];E[R+0+96]=Vr(fe,Fe,E[R-1+96]),E[R+1+96]=E[R+0+64]=Vr(Z,fe,Fe),E[R+2+96]=E[R+1+64]=E[R+0+32]=Vr(Pe,Z,fe),E[R+3+96]=E[R+2+64]=E[R+1+32]=E[R+0+0]=Vr(De,Pe,Z),E[R+3+64]=E[R+2+32]=E[R+1+0]=Vr(Ue,De,Pe),E[R+3+32]=E[R+2+0]=Vr($e,Ue,De),E[R+3+0]=Vr(Xe,$e,Ue)}function Fu(E,R){var Z=E[R+1-32],fe=E[R+2-32],Fe=E[R+3-32],Pe=E[R+4-32],De=E[R+5-32],Ue=E[R+6-32],$e=E[R+7-32];E[R+0+0]=Vr(E[R+0-32],Z,fe),E[R+1+0]=E[R+0+32]=Vr(Z,fe,Fe),E[R+2+0]=E[R+1+32]=E[R+0+64]=Vr(fe,Fe,Pe),E[R+3+0]=E[R+2+32]=E[R+1+64]=E[R+0+96]=Vr(Fe,Pe,De),E[R+3+32]=E[R+2+64]=E[R+1+96]=Vr(Pe,De,Ue),E[R+3+64]=E[R+2+96]=Vr(De,Ue,$e),E[R+3+96]=Vr(Ue,$e,$e)}function bl(E,R){var Z=E[R-1+0],fe=E[R-1+32],Fe=E[R-1+64],Pe=E[R-1-32],De=E[R+0-32],Ue=E[R+1-32],$e=E[R+2-32],Xe=E[R+3-32];E[R+0+0]=E[R+1+64]=Pe+De+1>>1,E[R+1+0]=E[R+2+64]=De+Ue+1>>1,E[R+2+0]=E[R+3+64]=Ue+$e+1>>1,E[R+3+0]=$e+Xe+1>>1,E[R+0+96]=Vr(Fe,fe,Z),E[R+0+64]=Vr(fe,Z,Pe),E[R+0+32]=E[R+1+96]=Vr(Z,Pe,De),E[R+1+32]=E[R+2+96]=Vr(Pe,De,Ue),E[R+2+32]=E[R+3+96]=Vr(De,Ue,$e),E[R+3+32]=Vr(Ue,$e,Xe)}function Ws(E,R){var Z=E[R+0-32],fe=E[R+1-32],Fe=E[R+2-32],Pe=E[R+3-32],De=E[R+4-32],Ue=E[R+5-32],$e=E[R+6-32],Xe=E[R+7-32];E[R+0+0]=Z+fe+1>>1,E[R+1+0]=E[R+0+64]=fe+Fe+1>>1,E[R+2+0]=E[R+1+64]=Fe+Pe+1>>1,E[R+3+0]=E[R+2+64]=Pe+De+1>>1,E[R+0+32]=Vr(Z,fe,Fe),E[R+1+32]=E[R+0+96]=Vr(fe,Fe,Pe),E[R+2+32]=E[R+1+96]=Vr(Fe,Pe,De),E[R+3+32]=E[R+2+96]=Vr(Pe,De,Ue),E[R+3+64]=Vr(De,Ue,$e),E[R+3+96]=Vr(Ue,$e,Xe)}function Iu(E,R){var Z=E[R-1+0],fe=E[R-1+32],Fe=E[R-1+64],Pe=E[R-1+96];E[R+0+0]=Z+fe+1>>1,E[R+2+0]=E[R+0+32]=fe+Fe+1>>1,E[R+2+32]=E[R+0+64]=Fe+Pe+1>>1,E[R+1+0]=Vr(Z,fe,Fe),E[R+3+0]=E[R+1+32]=Vr(fe,Fe,Pe),E[R+3+32]=E[R+1+64]=Vr(Fe,Pe,Pe),E[R+3+64]=E[R+2+64]=E[R+0+96]=E[R+1+96]=E[R+2+96]=E[R+3+96]=Pe}function Nd(E,R){var Z=E[R-1+0],fe=E[R-1+32],Fe=E[R-1+64],Pe=E[R-1+96],De=E[R-1-32],Ue=E[R+0-32],$e=E[R+1-32],Xe=E[R+2-32];E[R+0+0]=E[R+2+32]=Z+De+1>>1,E[R+0+32]=E[R+2+64]=fe+Z+1>>1,E[R+0+64]=E[R+2+96]=Fe+fe+1>>1,E[R+0+96]=Pe+Fe+1>>1,E[R+3+0]=Vr(Ue,$e,Xe),E[R+2+0]=Vr(De,Ue,$e),E[R+1+0]=E[R+3+32]=Vr(Z,De,Ue),E[R+1+32]=E[R+3+64]=Vr(fe,Z,De),E[R+1+64]=E[R+3+96]=Vr(Fe,fe,Z),E[R+1+96]=Vr(Pe,Fe,fe)}function Uf(E,R){var Z;for(Z=0;8>Z;++Z)s(E,R+32*Z,E,R-32,8)}function Oc(E,R){var Z;for(Z=0;8>Z;++Z)i(E,R,E[R-1],8),R+=32}function wl(E,R,Z){var fe;for(fe=0;8>fe;++fe)i(R,Z+32*fe,E,8)}function ql(E,R){var Z,fe=8;for(Z=0;8>Z;++Z)fe+=E[R+Z-32]+E[R-1+32*Z];wl(fe>>4,E,R)}function Un(E,R){var Z,fe=4;for(Z=0;8>Z;++Z)fe+=E[R+Z-32];wl(fe>>3,E,R)}function Ii(E,R){var Z,fe=4;for(Z=0;8>Z;++Z)fe+=E[R-1+32*Z];wl(fe>>3,E,R)}function Yl(E,R){wl(128,E,R)}function jl(E,R,Z){var fe=E[R-Z],Fe=E[R+0],Pe=3*(Fe-fe)+Vf[1020+E[R-2*Z]-E[R+Z]],De=_d[112+(Pe+4>>3)];E[R-Z]=Tn[255+fe+_d[112+(Pe+3>>3)]],E[R+0]=Tn[255+Fe-De]}function oh(E,R,Z,fe){var Fe=E[R+0],Pe=E[R+Z];return So[255+E[R-2*Z]-E[R-Z]]>fe||So[255+Pe-Fe]>fe}function qs(E,R,Z,fe){return 4*So[255+E[R-Z]-E[R+0]]+So[255+E[R-2*Z]-E[R+Z]]<=fe}function ku(E,R,Z,fe,Fe){var Pe=E[R-3*Z],De=E[R-2*Z],Ue=E[R-Z],$e=E[R+0],Xe=E[R+Z],At=E[R+2*Z],Tt=E[R+3*Z];return 4*So[255+Ue-$e]+So[255+De-Xe]>fe?0:So[255+E[R-4*Z]-Pe]<=Fe&&So[255+Pe-De]<=Fe&&So[255+De-Ue]<=Fe&&So[255+Tt-At]<=Fe&&So[255+At-Xe]<=Fe&&So[255+Xe-$e]<=Fe}function Ji(E,R,Z,fe){var Fe=2*fe+1;for(fe=0;16>fe;++fe)qs(E,R+fe,Z,Fe)&&jl(E,R+fe,Z)}function Zi(E,R,Z,fe){var Fe=2*fe+1;for(fe=0;16>fe;++fe)qs(E,R+fe*Z,1,Fe)&&jl(E,R+fe*Z,1)}function Nl(E,R,Z,fe){var Fe;for(Fe=3;0<Fe;--Fe)Ji(E,R+=4*Z,Z,fe)}function km(E,R,Z,fe){var Fe;for(Fe=3;0<Fe;--Fe)Zi(E,R+=4,Z,fe)}function Dc(E,R,Z,fe,Fe,Pe,De,Ue){for(Pe=2*Pe+1;0<Fe--;){if(ku(E,R,Z,Pe,De))if(oh(E,R,Z,Ue))jl(E,R,Z);else{var $e=E,Xe=R,At=Z,Tt=$e[Xe-2*At],Et=$e[Xe-At],wt=$e[Xe+0],Qt=$e[Xe+At],Lt=$e[Xe+2*At],ht=27*(Kt=Vf[1020+3*(wt-Et)+Vf[1020+Tt-Qt]])+63>>7,gt=18*Kt+63>>7,Kt=9*Kt+63>>7;$e[Xe-3*At]=Tn[255+$e[Xe-3*At]+Kt],$e[Xe-2*At]=Tn[255+Tt+gt],$e[Xe-At]=Tn[255+Et+ht],$e[Xe+0]=Tn[255+wt-ht],$e[Xe+At]=Tn[255+Qt-gt],$e[Xe+2*At]=Tn[255+Lt-Kt]}R+=fe}}function ki(E,R,Z,fe,Fe,Pe,De,Ue){for(Pe=2*Pe+1;0<Fe--;){if(ku(E,R,Z,Pe,De))if(oh(E,R,Z,Ue))jl(E,R,Z);else{var $e=E,Xe=R,At=Z,Tt=$e[Xe-At],Et=$e[Xe+0],wt=$e[Xe+At],Qt=_d[112+((Lt=3*(Et-Tt))+4>>3)],Lt=_d[112+(Lt+3>>3)],ht=Qt+1>>1;$e[Xe-2*At]=Tn[255+$e[Xe-2*At]+ht],$e[Xe-At]=Tn[255+Tt+Lt],$e[Xe+0]=Tn[255+Et-Qt],$e[Xe+At]=Tn[255+wt-ht]}R+=fe}}function Sl(E,R,Z,fe,Fe,Pe){Dc(E,R,Z,1,16,fe,Fe,Pe)}function Lc(E,R,Z,fe,Fe,Pe){Dc(E,R,1,Z,16,fe,Fe,Pe)}function _m(E,R,Z,fe,Fe,Pe){var De;for(De=3;0<De;--De)ki(E,R+=4*Z,Z,1,16,fe,Fe,Pe)}function eo(E,R,Z,fe,Fe,Pe){var De;for(De=3;0<De;--De)ki(E,R+=4,1,Z,16,fe,Fe,Pe)}function _u(E,R,Z,fe,Fe,Pe,De,Ue){Dc(E,R,Fe,1,8,Pe,De,Ue),Dc(Z,fe,Fe,1,8,Pe,De,Ue)}function Sd(E,R,Z,fe,Fe,Pe,De,Ue){Dc(E,R,1,Fe,8,Pe,De,Ue),Dc(Z,fe,1,Fe,8,Pe,De,Ue)}function Pu(E,R,Z,fe,Fe,Pe,De,Ue){ki(E,R+4*Fe,Fe,1,8,Pe,De,Ue),ki(Z,fe+4*Fe,Fe,1,8,Pe,De,Ue)}function lh(E,R,Z,fe,Fe,Pe,De,Ue){ki(E,R+4,1,Fe,8,Pe,De,Ue),ki(Z,fe+4,1,Fe,8,Pe,De,Ue)}function Ou(){this.ba=new Ze,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ct,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Rf(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Qf(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Du(){this.ua=0,this.Wa=new Y,this.vb=new Y,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new q,this.yc=new M}function Pm(){this.xb=this.a=0,this.l=new ui,this.ca=new Ze,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new _,this.Pb=0,this.wd=new _,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Du,this.ab=0,this.gc=l(4,Qf),this.Oc=0}function Lu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ui,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Cd(E,R,Z,fe,Fe,Pe,De){for(E=E==null?0:E[R+0],R=0;R<De;++R)Fe[Pe+R]=E+Z[fe+R]&255,E=Fe[Pe+R]}function Mu(E,R,Z,fe,Fe,Pe,De){var Ue;if(E==null)Cd(null,null,Z,fe,Fe,Pe,De);else for(Ue=0;Ue<De;++Ue)Fe[Pe+Ue]=E[R+Ue]+Z[fe+Ue]&255}function Mc(E,R,Z,fe,Fe,Pe,De){if(E==null)Cd(null,null,Z,fe,Fe,Pe,De);else{var Ue,$e=E[R+0],Xe=$e,At=$e;for(Ue=0;Ue<De;++Ue)Xe=At+($e=E[R+Ue])-Xe,At=Z[fe+Ue]+(-256&Xe?0>Xe?0:255:Xe)&255,Xe=$e,Fe[Pe+Ue]=At}}function Hf(E,R,Z,fe){var Fe=R.width,Pe=R.o;if(r(E!=null&&R!=null),0>Z||0>=fe||Z+fe>Pe)return null;if(!E.Cc){if(E.ga==null){var De;if(E.ga=new Lu,(De=E.ga==null)||(De=R.width*R.o,r(E.Gb.length==0),E.Gb=o(De),E.Uc=0,E.Gb==null?De=0:(E.mb=E.Gb,E.nb=E.Uc,E.rc=null,De=1),De=!De),!De){De=E.ga;var Ue=E.Fa,$e=E.P,Xe=E.qc,At=E.mb,Tt=E.nb,Et=$e+1,wt=Xe-1,Qt=De.l;if(r(Ue!=null&&At!=null&&R!=null),Jo[0]=null,Jo[1]=Cd,Jo[2]=Mu,Jo[3]=Mc,De.ca=At,De.tb=Tt,De.c=R.width,De.i=R.height,r(0<De.c&&0<De.i),1>=Xe)R=0;else if(De.$a=Ue[$e+0]>>0&3,De.Z=Ue[$e+0]>>2&3,De.Lc=Ue[$e+0]>>4&3,$e=Ue[$e+0]>>6&3,0>De.$a||1<De.$a||4<=De.Z||1<De.Lc||$e)R=0;else if(Qt.put=Ta,Qt.ac=Fr,Qt.bc=pa,Qt.ma=De,Qt.width=R.width,Qt.height=R.height,Qt.Da=R.Da,Qt.v=R.v,Qt.va=R.va,Qt.j=R.j,Qt.o=R.o,De.$a)e:{r(De.$a==1),R=Me();t:for(;;){if(R==null){R=0;break e}if(r(De!=null),De.mc=R,R.c=De.c,R.i=De.i,R.l=De.l,R.l.ma=De,R.l.width=De.c,R.l.height=De.i,R.a=0,Ae(R.m,Ue,Et,wt),!We(De.c,De.i,1,R,null)||(R.ab==1&&R.gc[0].hc==3&&ze(R.s)?(De.ic=1,Ue=R.c*R.i,R.Ta=null,R.Ua=0,R.V=o(Ue),R.Ba=0,R.V==null?(R.a=1,R=0):R=1):(De.ic=0,R=st(R,De.c)),!R))break t;R=1;break e}De.mc=null,R=0}else R=wt>=De.c*De.i;De=!R}if(De)return null;E.ga.Lc!=1?E.Ga=0:fe=Pe-Z}r(E.ga!=null),r(Z+fe<=Pe);e:{if(R=(Ue=E.ga).c,Pe=Ue.l.o,Ue.$a==0){if(Et=E.rc,wt=E.Vc,Qt=E.Fa,$e=E.P+1+Z*R,Xe=E.mb,At=E.nb+Z*R,r($e<=E.P+E.qc),Ue.Z!=0)for(r(Jo[Ue.Z]!=null),De=0;De<fe;++De)Jo[Ue.Z](Et,wt,Qt,$e,Xe,At,R),Et=Xe,wt=At,At+=R,$e+=R;else for(De=0;De<fe;++De)s(Xe,At,Qt,$e,R),Et=Xe,wt=At,At+=R,$e+=R;E.rc=Et,E.Vc=wt}else{if(r(Ue.mc!=null),R=Z+fe,r((De=Ue.mc)!=null),r(R<=De.i),De.C>=R)R=1;else if(Ue.ic||Ct(),Ue.ic){Ue=De.V,Et=De.Ba,wt=De.c;var Lt=De.i,ht=(Qt=1,$e=De.$/wt,Xe=De.$%wt,At=De.m,Tt=De.s,De.$),gt=wt*Lt,Kt=wt*R,Zt=Tt.wc,qt=ht<Kt?Mr(Tt,Xe,$e):null;r(ht<=gt),r(R<=Lt),r(ze(Tt));t:for(;;){for(;!At.h&&ht<Kt;){if(Xe&Zt||(qt=Mr(Tt,Xe,$e)),r(qt!=null),ce(At),256>(Lt=dr(qt.G[0],qt.H[0],At)))Ue[Et+ht]=Lt,++ht,++Xe>=wt&&(Xe=0,++$e<=R&&!($e%16)&&Je(De,$e));else{if(!(280>Lt)){Qt=0;break t}Lt=Ht(Lt-256,At);var Cr,xr=dr(qt.G[4],qt.H[4],At);if(ce(At),!(ht>=(xr=Gt(wt,xr=Ht(xr,At)))&&gt-ht>=Lt)){Qt=0;break t}for(Cr=0;Cr<Lt;++Cr)Ue[Et+ht+Cr]=Ue[Et+ht+Cr-xr];for(ht+=Lt,Xe+=Lt;Xe>=wt;)Xe-=wt,++$e<=R&&!($e%16)&&Je(De,$e);ht<Kt&&Xe&Zt&&(qt=Mr(Tt,Xe,$e))}r(At.h==ae(At))}Je(De,$e>R?R:$e);break t}!Qt||At.h&&ht<gt?(Qt=0,De.a=At.h?5:3):De.$=ht,R=Qt}else R=et(De,De.V,De.Ba,De.c,De.i,R,jt);if(!R){fe=0;break e}}Z+fe>=Pe&&(E.Cc=1),fe=1}if(!fe)return null;if(E.Cc&&((fe=E.ga)!=null&&(fe.mc=null),E.ga=null,0<E.Ga))return alert("todo:WebPDequantizeLevels"),null}return E.nb+Z*Fe}function W(E,R,Z,fe,Fe,Pe){for(;0<Fe--;){var De,Ue=E,$e=R+(Z?1:0),Xe=E,At=R+(Z?0:3);for(De=0;De<fe;++De){var Tt=Xe[At+4*De];Tt!=255&&(Tt*=32897,Ue[$e+4*De+0]=Ue[$e+4*De+0]*Tt>>23,Ue[$e+4*De+1]=Ue[$e+4*De+1]*Tt>>23,Ue[$e+4*De+2]=Ue[$e+4*De+2]*Tt>>23)}R+=Pe}}function Ie(E,R,Z,fe,Fe){for(;0<fe--;){var Pe;for(Pe=0;Pe<Z;++Pe){var De=E[R+2*Pe+0],Ue=15&(Xe=E[R+2*Pe+1]),$e=4369*Ue,Xe=(240&Xe|Xe>>4)*$e>>16;E[R+2*Pe+0]=(240&De|De>>4)*$e>>16&240|(15&De|De<<4)*$e>>16>>4&15,E[R+2*Pe+1]=240&Xe|Ue}R+=Fe}}function tt(E,R,Z,fe,Fe,Pe,De,Ue){var $e,Xe,At=255;for(Xe=0;Xe<Fe;++Xe){for($e=0;$e<fe;++$e){var Tt=E[R+$e];Pe[De+4*$e]=Tt,At&=Tt}R+=Z,De+=Ue}return At!=255}function ut(E,R,Z,fe,Fe){var Pe;for(Pe=0;Pe<Fe;++Pe)Z[fe+Pe]=E[R+Pe]>>8}function Ct(){Li=W,Aa=Ie,ha=tt,is=ut}function $t(E,R,Z){k[E]=function(fe,Fe,Pe,De,Ue,$e,Xe,At,Tt,Et,wt,Qt,Lt,ht,gt,Kt,Zt){var qt,Cr=Zt-1>>1,xr=Ue[$e+0]|Xe[At+0]<<16,Ur=Tt[Et+0]|wt[Qt+0]<<16;r(fe!=null);var vr=3*xr+Ur+131074>>2;for(R(fe[Fe+0],255&vr,vr>>16,Lt,ht),Pe!=null&&(vr=3*Ur+xr+131074>>2,R(Pe[De+0],255&vr,vr>>16,gt,Kt)),qt=1;qt<=Cr;++qt){var Da=Ue[$e+qt]|Xe[At+qt]<<16,Qa=Tt[Et+qt]|wt[Qt+qt]<<16,fa=xr+Da+Ur+Qa+524296,sr=fa+2*(Da+Ur)>>3;vr=sr+xr>>1,xr=(fa=fa+2*(xr+Qa)>>3)+Da>>1,R(fe[Fe+2*qt-1],255&vr,vr>>16,Lt,ht+(2*qt-1)*Z),R(fe[Fe+2*qt-0],255&xr,xr>>16,Lt,ht+(2*qt-0)*Z),Pe!=null&&(vr=fa+Ur>>1,xr=sr+Qa>>1,R(Pe[De+2*qt-1],255&vr,vr>>16,gt,Kt+(2*qt-1)*Z),R(Pe[De+2*qt+0],255&xr,xr>>16,gt,Kt+(2*qt+0)*Z)),xr=Da,Ur=Qa}1&Zt||(vr=3*xr+Ur+131074>>2,R(fe[Fe+Zt-1],255&vr,vr>>16,Lt,ht+(Zt-1)*Z),Pe!=null&&(vr=3*Ur+xr+131074>>2,R(Pe[De+Zt-1],255&vr,vr>>16,gt,Kt+(Zt-1)*Z)))}}function lr(){Fn[Zn]=nc,Fn[Qu]=ro,Fn[pi]=Tl,Fn[Kf]=uh,Fn[Pd]=fh,Fn[Co]=$u,Fn[ch]=Ah,Fn[Gf]=ro,Fn[Kc]=uh,Fn[tc]=fh,Fn[rc]=$u}function Sr(E){return E&-16384?0>E?0:255:E>>mx}function Dr(E,R){return Sr((19077*E>>8)+(26149*R>>8)-14234)}function ta(E,R,Z){return Sr((19077*E>>8)-(6419*R>>8)-(13320*Z>>8)+8708)}function Jr(E,R){return Sr((19077*E>>8)+(33050*R>>8)-17685)}function ba(E,R,Z,fe,Fe){fe[Fe+0]=Dr(E,Z),fe[Fe+1]=ta(E,R,Z),fe[Fe+2]=Jr(E,R)}function Va(E,R,Z,fe,Fe){fe[Fe+0]=Jr(E,R),fe[Fe+1]=ta(E,R,Z),fe[Fe+2]=Dr(E,Z)}function Ka(E,R,Z,fe,Fe){var Pe=ta(E,R,Z);R=Pe<<3&224|Jr(E,R)>>3,fe[Fe+0]=248&Dr(E,Z)|Pe>>5,fe[Fe+1]=R}function Gr(E,R,Z,fe,Fe){var Pe=240&Jr(E,R)|15;fe[Fe+0]=240&Dr(E,Z)|ta(E,R,Z)>>4,fe[Fe+1]=Pe}function Ys(E,R,Z,fe,Fe){fe[Fe+0]=255,ba(E,R,Z,fe,Fe+1)}function on(E,R,Z,fe,Fe){Va(E,R,Z,fe,Fe),fe[Fe+3]=255}function jo(E,R,Z,fe,Fe){ba(E,R,Z,fe,Fe),fe[Fe+3]=255}function Bn(E,R){return 0>E?0:E>R?R:E}function ln(E,R,Z){k[E]=function(fe,Fe,Pe,De,Ue,$e,Xe,At,Tt){for(var Et=At+(-2&Tt)*Z;At!=Et;)R(fe[Fe+0],Pe[De+0],Ue[$e+0],Xe,At),R(fe[Fe+1],Pe[De+0],Ue[$e+0],Xe,At+Z),Fe+=2,++De,++$e,At+=2*Z;1&Tt&&R(fe[Fe+0],Pe[De+0],Ue[$e+0],Xe,At)}}function $f(E,R,Z){return Z==0?E==0?R==0?6:5:R==0?4:0:Z}function Yn(E,R,Z,fe,Fe){switch(E>>>30){case 3:Yo(R,Z,fe,Fe,0);break;case 2:Hs(R,Z,fe,Fe);break;case 1:Xs(R,Z,fe,Fe)}}function Ga(E,R){var Z,fe,Fe=R.M,Pe=R.Nb,De=E.oc,Ue=E.pc+40,$e=E.oc,Xe=E.pc+584,At=E.oc,Tt=E.pc+600;for(Z=0;16>Z;++Z)De[Ue+32*Z-1]=129;for(Z=0;8>Z;++Z)$e[Xe+32*Z-1]=129,At[Tt+32*Z-1]=129;for(0<Fe?De[Ue-1-32]=$e[Xe-1-32]=At[Tt-1-32]=129:(i(De,Ue-32-1,127,21),i($e,Xe-32-1,127,9),i(At,Tt-32-1,127,9)),fe=0;fe<E.za;++fe){var Et=R.ya[R.aa+fe];if(0<fe){for(Z=-1;16>Z;++Z)s(De,Ue+32*Z-4,De,Ue+32*Z+12,4);for(Z=-1;8>Z;++Z)s($e,Xe+32*Z-4,$e,Xe+32*Z+4,4),s(At,Tt+32*Z-4,At,Tt+32*Z+4,4)}var wt=E.Gd,Qt=E.Hd+fe,Lt=Et.ad,ht=Et.Hc;if(0<Fe&&(s(De,Ue-32,wt[Qt].y,0,16),s($e,Xe-32,wt[Qt].f,0,8),s(At,Tt-32,wt[Qt].ea,0,8)),Et.Za){var gt=De,Kt=Ue-32+16;for(0<Fe&&(fe>=E.za-1?i(gt,Kt,wt[Qt].y[15],4):s(gt,Kt,wt[Qt+1].y,0,4)),Z=0;4>Z;Z++)gt[Kt+128+Z]=gt[Kt+256+Z]=gt[Kt+384+Z]=gt[Kt+0+Z];for(Z=0;16>Z;++Z,ht<<=2)gt=De,Kt=Ue+Md[Z],gi[Et.Ob[Z]](gt,Kt),Yn(ht,Lt,16*+Z,gt,Kt)}else if(gt=$f(fe,Fe,Et.Ob[0]),sc[gt](De,Ue),ht!=0)for(Z=0;16>Z;++Z,ht<<=2)Yn(ht,Lt,16*+Z,De,Ue+Md[Z]);for(Z=Et.Gc,gt=$f(fe,Fe,Et.Dd),ei[gt]($e,Xe),ei[gt](At,Tt),ht=Lt,gt=$e,Kt=Xe,255&(Et=Z>>0)&&(170&Et?Oi(ht,256,gt,Kt):Di(ht,256,gt,Kt)),Et=At,ht=Tt,255&(Z>>=8)&&(170&Z?Oi(Lt,320,Et,ht):Di(Lt,320,Et,ht)),Fe<E.Ub-1&&(s(wt[Qt].y,0,De,Ue+480,16),s(wt[Qt].f,0,$e,Xe+224,8),s(wt[Qt].ea,0,At,Tt+224,8)),Z=8*Pe*E.B,wt=E.sa,Qt=E.ta+16*fe+16*Pe*E.R,Lt=E.qa,Et=E.ra+8*fe+Z,ht=E.Ha,gt=E.Ia+8*fe+Z,Z=0;16>Z;++Z)s(wt,Qt+Z*E.R,De,Ue+32*Z,16);for(Z=0;8>Z;++Z)s(Lt,Et+Z*E.B,$e,Xe+32*Z,8),s(ht,gt+Z*E.B,At,Tt+32*Z,8)}}function Bd(E,R,Z,fe,Fe,Pe,De,Ue,$e){var Xe=[0],At=[0],Tt=0,Et=$e!=null?$e.kd:0,wt=$e??new Rf;if(E==null||12>Z)return 7;wt.data=E,wt.w=R,wt.ha=Z,R=[R],Z=[Z],wt.gb=[wt.gb];e:{var Qt=R,Lt=Z,ht=wt.gb;if(r(E!=null),r(Lt!=null),r(ht!=null),ht[0]=0,12<=Lt[0]&&!a(E,Qt[0],"RIFF")){if(a(E,Qt[0]+8,"WEBP")){ht=3;break e}var gt=Ne(E,Qt[0]+4);if(12>gt||4294967286<gt){ht=3;break e}if(Et&&gt>Lt[0]-8){ht=7;break e}ht[0]=gt,Qt[0]+=12,Lt[0]-=12}ht=0}if(ht!=0)return ht;for(gt=0<wt.gb[0],Z=Z[0];;){e:{var Kt=E;Lt=R,ht=Z;var Zt=Xe,qt=At,Cr=Qt=[0];if((vr=Tt=[Tt])[0]=0,8>ht[0])ht=7;else{if(!a(Kt,Lt[0],"VP8X")){if(Ne(Kt,Lt[0]+4)!=10){ht=3;break e}if(18>ht[0]){ht=7;break e}var xr=Ne(Kt,Lt[0]+8),Ur=1+xe(Kt,Lt[0]+12);if(2147483648<=Ur*(Kt=1+xe(Kt,Lt[0]+15))){ht=3;break e}Cr!=null&&(Cr[0]=xr),Zt!=null&&(Zt[0]=Ur),qt!=null&&(qt[0]=Kt),Lt[0]+=18,ht[0]-=18,vr[0]=1}ht=0}}if(Tt=Tt[0],Qt=Qt[0],ht!=0)return ht;if(Lt=!!(2&Qt),!gt&&Tt)return 3;if(Pe!=null&&(Pe[0]=!!(16&Qt)),De!=null&&(De[0]=Lt),Ue!=null&&(Ue[0]=0),De=Xe[0],Qt=At[0],Tt&&Lt&&$e==null){ht=0;break}if(4>Z){ht=7;break}if(gt&&Tt||!gt&&!Tt&&!a(E,R[0],"ALPH")){Z=[Z],wt.na=[wt.na],wt.P=[wt.P],wt.Sa=[wt.Sa];e:{xr=E,ht=R,gt=Z;var vr=wt.gb;Zt=wt.na,qt=wt.P,Cr=wt.Sa,Ur=22,r(xr!=null),r(gt!=null),Kt=ht[0];var Da=gt[0];for(r(Zt!=null),r(Cr!=null),Zt[0]=null,qt[0]=null,Cr[0]=0;;){if(ht[0]=Kt,gt[0]=Da,8>Da){ht=7;break e}var Qa=Ne(xr,Kt+4);if(4294967286<Qa){ht=3;break e}var fa=8+Qa+1&-2;if(Ur+=fa,0<vr&&Ur>vr){ht=3;break e}if(!a(xr,Kt,"VP8 ")||!a(xr,Kt,"VP8L")){ht=0;break e}if(Da[0]<fa){ht=7;break e}a(xr,Kt,"ALPH")||(Zt[0]=xr,qt[0]=Kt+8,Cr[0]=Qa),Kt+=fa,Da-=fa}}if(Z=Z[0],wt.na=wt.na[0],wt.P=wt.P[0],wt.Sa=wt.Sa[0],ht!=0)break}Z=[Z],wt.Ja=[wt.Ja],wt.xa=[wt.xa];e:if(vr=E,ht=R,gt=Z,Zt=wt.gb[0],qt=wt.Ja,Cr=wt.xa,xr=ht[0],Kt=!a(vr,xr,"VP8 "),Ur=!a(vr,xr,"VP8L"),r(vr!=null),r(gt!=null),r(qt!=null),r(Cr!=null),8>gt[0])ht=7;else{if(Kt||Ur){if(vr=Ne(vr,xr+4),12<=Zt&&vr>Zt-12){ht=3;break e}if(Et&&vr>gt[0]-8){ht=7;break e}qt[0]=vr,ht[0]+=8,gt[0]-=8,Cr[0]=Ur}else Cr[0]=5<=gt[0]&&vr[xr+0]==47&&!(vr[xr+4]>>5),qt[0]=gt[0];ht=0}if(Z=Z[0],wt.Ja=wt.Ja[0],wt.xa=wt.xa[0],R=R[0],ht!=0)break;if(4294967286<wt.Ja)return 3;if(Ue==null||Lt||(Ue[0]=wt.xa?2:1),De=[De],Qt=[Qt],wt.xa){if(5>Z){ht=7;break}Ue=De,Et=Qt,Lt=Pe,E==null||5>Z?E=0:5<=Z&&E[R+0]==47&&!(E[R+4]>>5)?(gt=[0],vr=[0],Zt=[0],Ae(qt=new _,E,R,Z),at(qt,gt,vr,Zt)?(Ue!=null&&(Ue[0]=gt[0]),Et!=null&&(Et[0]=vr[0]),Lt!=null&&(Lt[0]=Zt[0]),E=1):E=0):E=0}else{if(10>Z){ht=7;break}Ue=Qt,E==null||10>Z||!fi(E,R+3,Z-3)?E=0:(Et=E[R+0]|E[R+1]<<8|E[R+2]<<16,Lt=16383&(E[R+7]<<8|E[R+6]),E=16383&(E[R+9]<<8|E[R+8]),1&Et||3<(Et>>1&7)||!(Et>>4&1)||Et>>5>=wt.Ja||!Lt||!E?E=0:(De&&(De[0]=Lt),Ue&&(Ue[0]=E),E=1))}if(!E||(De=De[0],Qt=Qt[0],Tt&&(Xe[0]!=De||At[0]!=Qt)))return 3;$e!=null&&($e[0]=wt,$e.offset=R-$e.w,r(4294967286>R-$e.w),r($e.offset==$e.ha-Z));break}return ht==0||ht==7&&Tt&&$e==null?(Pe!=null&&(Pe[0]|=wt.na!=null&&0<wt.na.length),fe!=null&&(fe[0]=De),Fe!=null&&(Fe[0]=Qt),0):ht}function bs(E,R,Z){var fe=R.width,Fe=R.height,Pe=0,De=0,Ue=fe,$e=Fe;if(R.Da=E!=null&&0<E.Da,R.Da&&(Ue=E.cd,$e=E.bd,Pe=E.v,De=E.j,11>Z||(Pe&=-2,De&=-2),0>Pe||0>De||0>=Ue||0>=$e||Pe+Ue>fe||De+$e>Fe))return 0;if(R.v=Pe,R.j=De,R.va=Pe+Ue,R.o=De+$e,R.U=Ue,R.T=$e,R.da=E!=null&&0<E.da,R.da){if(!Le(Ue,$e,Z=[E.ib],Pe=[E.hb]))return 0;R.ib=Z[0],R.hb=Pe[0]}return R.ob=E!=null&&E.ob,R.Kb=E==null||!E.Sd,R.da&&(R.ob=R.ib<3*fe/4&&R.hb<3*Fe/4,R.Kb=0),1}function Uc(E){if(E==null)return 2;if(11>E.S){var R=E.f.RGBA;R.fb+=(E.height-1)*R.A,R.A=-R.A}else R=E.f.kb,E=E.height,R.O+=(E-1)*R.fa,R.fa=-R.fa,R.N+=(E-1>>1)*R.Ab,R.Ab=-R.Ab,R.W+=(E-1>>1)*R.Db,R.Db=-R.Db,R.F!=null&&(R.J+=(E-1)*R.lb,R.lb=-R.lb);return 0}function _i(E,R,Z,fe){if(fe==null||0>=E||0>=R)return 2;if(Z!=null){if(Z.Da){var Fe=Z.cd,Pe=Z.bd,De=-2&Z.v,Ue=-2&Z.j;if(0>De||0>Ue||0>=Fe||0>=Pe||De+Fe>E||Ue+Pe>R)return 2;E=Fe,R=Pe}if(Z.da){if(!Le(E,R,Fe=[Z.ib],Pe=[Z.hb]))return 2;E=Fe[0],R=Pe[0]}}fe.width=E,fe.height=R;e:{var $e=fe.width,Xe=fe.height;if(E=fe.S,0>=$e||0>=Xe||!(E>=Zn&&13>E))E=2;else{if(0>=fe.Rd&&fe.sd==null){De=Pe=Fe=R=0;var At=(Ue=$e*wp[E])*Xe;if(11>E||(Pe=(Xe+1)/2*(R=($e+1)/2),E==12&&(De=(Fe=$e)*Xe)),(Xe=o(At+2*Pe+De))==null){E=1;break e}fe.sd=Xe,11>E?(($e=fe.f.RGBA).eb=Xe,$e.fb=0,$e.A=Ue,$e.size=At):(($e=fe.f.kb).y=Xe,$e.O=0,$e.fa=Ue,$e.Fd=At,$e.f=Xe,$e.N=0+At,$e.Ab=R,$e.Cd=Pe,$e.ea=Xe,$e.W=0+At+Pe,$e.Db=R,$e.Ed=Pe,E==12&&($e.F=Xe,$e.J=0+At+2*Pe),$e.Tc=De,$e.lb=Fe)}if(R=1,Fe=fe.S,Pe=fe.width,De=fe.height,Fe>=Zn&&13>Fe)if(11>Fe)E=fe.f.RGBA,R&=(Ue=Math.abs(E.A))*(De-1)+Pe<=E.size,R&=Ue>=Pe*wp[Fe],R&=E.eb!=null;else{E=fe.f.kb,Ue=(Pe+1)/2,At=(De+1)/2,$e=Math.abs(E.fa),Xe=Math.abs(E.Ab);var Tt=Math.abs(E.Db),Et=Math.abs(E.lb),wt=Et*(De-1)+Pe;R&=$e*(De-1)+Pe<=E.Fd,R&=Xe*(At-1)+Ue<=E.Cd,R=(R&=Tt*(At-1)+Ue<=E.Ed)&$e>=Pe&Xe>=Ue&Tt>=Ue,R&=E.y!=null,R&=E.f!=null,R&=E.ea!=null,Fe==12&&(R&=Et>=Pe,R&=wt<=E.Tc,R&=E.F!=null)}else R=0;E=R?0:2}}return E!=0||Z!=null&&Z.fd&&(E=Uc(fe)),E}var Is=64,Fa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Rc=24,Qc=32,Ed=8,Ai=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];je("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(E){return E},k.Predictor2=function(E,R,Z){return R[Z+0]},k.Predictor3=function(E,R,Z){return R[Z+1]},k.Predictor4=function(E,R,Z){return R[Z-1]},k.Predictor5=function(E,R,Z){return Ce(Ce(E,R[Z+1]),R[Z+0])},k.Predictor6=function(E,R,Z){return Ce(E,R[Z-1])},k.Predictor7=function(E,R,Z){return Ce(E,R[Z+0])},k.Predictor8=function(E,R,Z){return Ce(R[Z-1],R[Z+0])},k.Predictor9=function(E,R,Z){return Ce(R[Z+0],R[Z+1])},k.Predictor10=function(E,R,Z){return Ce(Ce(E,R[Z-1]),Ce(R[Z+0],R[Z+1]))},k.Predictor11=function(E,R,Z){var fe=R[Z+0];return 0>=Qe(fe>>24&255,E>>24&255,(R=R[Z-1])>>24&255)+Qe(fe>>16&255,E>>16&255,R>>16&255)+Qe(fe>>8&255,E>>8&255,R>>8&255)+Qe(255&fe,255&E,255&R)?fe:E},k.Predictor12=function(E,R,Z){var fe=R[Z+0];return(be((E>>24&255)+(fe>>24&255)-((R=R[Z-1])>>24&255))<<24|be((E>>16&255)+(fe>>16&255)-(R>>16&255))<<16|be((E>>8&255)+(fe>>8&255)-(R>>8&255))<<8|be((255&E)+(255&fe)-(255&R)))>>>0},k.Predictor13=function(E,R,Z){var fe=R[Z-1];return(Ee((E=Ce(E,R[Z+0]))>>24&255,fe>>24&255)<<24|Ee(E>>16&255,fe>>16&255)<<16|Ee(E>>8&255,fe>>8&255)<<8|Ee(E>>0&255,fe>>0&255))>>>0};var Uu=k.PredictorAdd0;k.PredictorAdd1=rt,je("Predictor2","PredictorAdd2"),je("Predictor3","PredictorAdd3"),je("Predictor4","PredictorAdd4"),je("Predictor5","PredictorAdd5"),je("Predictor6","PredictorAdd6"),je("Predictor7","PredictorAdd7"),je("Predictor8","PredictorAdd8"),je("Predictor9","PredictorAdd9"),je("Predictor10","PredictorAdd10"),je("Predictor11","PredictorAdd11"),je("Predictor12","PredictorAdd12"),je("Predictor13","PredictorAdd13");var Ru=k.PredictorAdd2;it("ColorIndexInverseTransform","MapARGB","32b",function(E){return E>>8&255},function(E){return E}),it("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(E){return E},function(E){return E>>8&255});var zf,ks=k.ColorIndexInverseTransform,us=k.MapARGB,hi=k.VP8LColorIndexInverseTransformAlpha,Qs=k.MapAlpha,Xn=k.VP8LPredictorsAdd=[];Xn.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var Xl,Jn,gn,Jl,Pi,mi,En,Yo,Hs,Oi,Xs,Di,Td,cn,Fd,Hc,$c,Xo,Id,kd,Zl,Cl,zc,_s,Li,Aa,ha,is,ws=o(511),No=o(2041),Vc=o(225),Bl=o(767),ec=0,Vf=No,_d=Vc,Tn=Bl,So=ws,Zn=0,Qu=1,pi=2,Kf=3,Pd=4,Co=5,ch=6,Gf=7,Kc=8,tc=9,rc=10,dh=[2,3,7],Bo=[3,3,11],to=[280,256,256,256,40],Od=[0,1,1,1,0],Eo=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ac=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Dd=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],xp=8,Wf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Gc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],xn=null,$s=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ua=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Wc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],El=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Om=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ld=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],yp=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],sc=[],gi=[],ei=[],vp=1,Hu=2,Jo=[],Fn=[];$t("UpsampleRgbLinePair",ba,3),$t("UpsampleBgrLinePair",Va,3),$t("UpsampleRgbaLinePair",jo,4),$t("UpsampleBgraLinePair",on,4),$t("UpsampleArgbLinePair",Ys,4),$t("UpsampleRgba4444LinePair",Gr,2),$t("UpsampleRgb565LinePair",Ka,2);var nc=k.UpsampleRgbLinePair,Tl=k.UpsampleBgrLinePair,ro=k.UpsampleRgbaLinePair,uh=k.UpsampleBgraLinePair,fh=k.UpsampleArgbLinePair,$u=k.UpsampleRgba4444LinePair,Ah=k.UpsampleRgb565LinePair,Fl=16,yn=1<<Fl-1,Zo=-227,hh=482,mx=6,bp=0,px=o(256),vn=o(256),Dm=o(256),qf=o(256),Yf=o(hh-Zo),Lm=o(hh-Zo);ln("YuvToRgbRow",ba,3),ln("YuvToBgrRow",Va,3),ln("YuvToRgbaRow",jo,4),ln("YuvToBgraRow",on,4),ln("YuvToArgbRow",Ys,4),ln("YuvToRgba4444Row",Gr,2),ln("YuvToRgb565Row",Ka,2);var Md=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ic=[0,2,8],gx=[8,7,6,4,4,2,2,2,1,1,1,1],Mm=1;this.WebPDecodeRGBA=function(E,R,Z,fe,Fe){var Pe=Qu,De=new Ou,Ue=new Ze;De.ba=Ue,Ue.S=Pe,Ue.width=[Ue.width],Ue.height=[Ue.height];var $e=Ue.width,Xe=Ue.height,At=new He;if(At==null||E==null)var Tt=2;else r(At!=null),Tt=Bd(E,R,Z,At.width,At.height,At.Pd,At.Qd,At.format,null);if(Tt!=0?$e=0:($e!=null&&($e[0]=At.width[0]),Xe!=null&&(Xe[0]=At.height[0]),$e=1),$e){Ue.width=Ue.width[0],Ue.height=Ue.height[0],fe!=null&&(fe[0]=Ue.width),Fe!=null&&(Fe[0]=Ue.height);e:{if(fe=new ui,(Fe=new Rf).data=E,Fe.w=R,Fe.ha=Z,Fe.kd=1,R=[0],r(Fe!=null),((E=Bd(Fe.data,Fe.w,Fe.ha,null,null,null,R,null,Fe))==0||E==7)&&R[0]&&(E=4),(R=E)==0){if(r(De!=null),fe.data=Fe.data,fe.w=Fe.w+Fe.offset,fe.ha=Fe.ha-Fe.offset,fe.put=Ta,fe.ac=Fr,fe.bc=pa,fe.ma=De,Fe.xa){if((E=Me())==null){De=1;break e}if(function(Et,wt){var Qt=[0],Lt=[0],ht=[0];t:for(;;){if(Et==null)return 0;if(wt==null)return Et.a=2,0;if(Et.l=wt,Et.a=0,Ae(Et.m,wt.data,wt.w,wt.ha),!at(Et.m,Qt,Lt,ht)){Et.a=3;break t}if(Et.xb=Hu,wt.width=Qt[0],wt.height=Lt[0],!We(Qt[0],Lt[0],1,Et,null))break t;return 1}return r(Et.a!=0),0}(E,fe)){if(fe=(R=_i(fe.width,fe.height,De.Oa,De.ba))==0){t:{fe=E;r:for(;;){if(fe==null){fe=0;break t}if(r(fe.s.yc!=null),r(fe.s.Ya!=null),r(0<fe.s.Wb),r((Z=fe.l)!=null),r((Fe=Z.ma)!=null),fe.xb!=0){if(fe.ca=Fe.ba,fe.tb=Fe.tb,r(fe.ca!=null),!bs(Fe.Oa,Z,Kf)){fe.a=2;break r}if(!st(fe,Z.width)||Z.da)break r;if((Z.da||ot(fe.ca.S))&&Ct(),11>fe.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),fe.ca.f.kb.F!=null&&Ct()),fe.Pb&&0<fe.s.ua&&fe.s.vb.X==null&&!ge(fe.s.vb,fe.s.Wa.Xa)){fe.a=1;break r}fe.xb=0}if(!et(fe,fe.V,fe.Ba,fe.c,fe.i,Z.o,qe))break r;Fe.Dc=fe.Ma,fe=1;break t}r(fe.a!=0),fe=0}fe=!fe}fe&&(R=E.a)}else R=E.a}else{if((E=new Mn)==null){De=1;break e}if(E.Fa=Fe.na,E.P=Fe.P,E.qc=Fe.Sa,kf(E,fe)){if((R=_i(fe.width,fe.height,De.Oa,De.ba))==0){if(E.Aa=0,Z=De.Oa,r((Fe=E)!=null),Z!=null){if(0<($e=0>($e=Z.Md)?0:100<$e?255:255*$e/100)){for(Xe=At=0;4>Xe;++Xe)12>(Tt=Fe.pb[Xe]).lc&&(Tt.ia=$e*gx[0>Tt.lc?0:Tt.lc]>>3),At|=Tt.ia;At&&(alert("todo:VP8InitRandom"),Fe.ia=1)}Fe.Ga=Z.Id,100<Fe.Ga?Fe.Ga=100:0>Fe.Ga&&(Fe.Ga=0)}Ic(E,fe)||(R=E.a)}}else R=E.a}R==0&&De.Oa!=null&&De.Oa.fd&&(R=Uc(De.ba))}De=R}Pe=De!=0?null:11>Pe?Ue.f.RGBA.eb:Ue.f.kb.y}else Pe=null;return Pe};var wp=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(k,V){for(var Q="",H=0;H<4;H++)Q+=String.fromCharCode(k[V++]);return Q}function u(k,V){return(k[V+0]<<0|k[V+1]<<8|k[V+2]<<16)>>>0}function m(k,V){return(k[V+0]<<0|k[V+1]<<8|k[V+2]<<16|k[V+3]<<24)>>>0}new d;var p=[0],g=[0],v=[],y=new d,b=t,j=function(k,V){var Q={},H=0,M=!1,K=0,q=0;if(Q.frames=[],!function(z,ae,oe,ce){for(var me=0;me<ce;me++)if(z[ae+me]!=oe.charCodeAt(me))return!0;return!1}(k,V,"RIFF",4)){for(m(k,V+=4),V+=8;V<k.length;){var re=f(k,V),ee=m(k,V+=4);V+=4;var le=ee+(1&ee);switch(re){case"VP8 ":case"VP8L":Q.frames[H]===void 0&&(Q.frames[H]={}),(se=Q.frames[H]).src_off=M?q:V-8,se.src_size=K+ee+8,H++,M&&(M=!1,K=0,q=0);break;case"VP8X":(se=Q.header={}).feature_flags=k[V];var Ae=V+4;se.canvas_width=1+u(k,Ae),Ae+=3,se.canvas_height=1+u(k,Ae),Ae+=3;break;case"ALPH":M=!0,K=le+8,q=V-8;break;case"ANIM":(se=Q.header).bgcolor=m(k,V),Ae=V+4,se.loop_count=(ve=k)[(_=Ae)+0]<<0|ve[_+1]<<8,Ae+=2;break;case"ANMF":var ue,se;(se=Q.frames[H]={}).offset_x=2*u(k,V),V+=3,se.offset_y=2*u(k,V),V+=3,se.width=1+u(k,V),V+=3,se.height=1+u(k,V),V+=3,se.duration=u(k,V),V+=3,ue=k[V++],se.dispose=1&ue,se.blend=ue>>1&1}re!="ANMF"&&(V+=le)}var ve,_;return Q}}(b,0);j.response=b,j.rgbaoutput=!0,j.dataurl=!1;var N=j.header?j.header:null,S=j.frames?j.frames:null;if(N){N.loop_counter=N.loop_count,p=[N.canvas_height],g=[N.canvas_width];for(var B=0;B<S.length&&S[B].blend!=0;B++);}var I=S[0],F=y.WebPDecodeRGBA(b,I.src_off,I.src_size,g,p);I.rgba=F,I.imgwidth=g[0],I.imgheight=p[0];for(var O=0;O<g[0]*p[0]*4;O++)v[O]=F[O];return this.width=g,this.height=p,this.data=v,this}(function(t){var r=function(){return typeof xC=="function"},a=function(p,g,v,y){var b=4,j=l;switch(y){case t.image_compression.FAST:b=1,j=o;break;case t.image_compression.MEDIUM:b=6,j=c;break;case t.image_compression.SLOW:b=9,j=d}p=s(p,g,v,j);var N=xC(p,{level:b});return t.__addimage__.arrayBufferToBinaryString(N)},s=function(p,g,v,y){for(var b,j,N,S=p.length/g,B=new Uint8Array(p.length+S),I=u(),F=0;F<S;F+=1){if(N=F*g,b=p.subarray(N,N+g),y)B.set(y(b,v,j),N+F);else{for(var O,k=I.length,V=[];O<k;O+=1)V[O]=I[O](b,v,j);var Q=m(V.concat());B.set(V[Q],N+F)}j=b}return B},i=function(p){var g=Array.apply([],p);return g.unshift(0),g},o=function(p,g){var v,y=[],b=p.length;y[0]=1;for(var j=0;j<b;j+=1)v=p[j-g]||0,y[j+1]=p[j]-v+256&255;return y},l=function(p,g,v){var y,b=[],j=p.length;b[0]=2;for(var N=0;N<j;N+=1)y=v&&v[N]||0,b[N+1]=p[N]-y+256&255;return b},c=function(p,g,v){var y,b,j=[],N=p.length;j[0]=3;for(var S=0;S<N;S+=1)y=p[S-g]||0,b=v&&v[S]||0,j[S+1]=p[S]+256-(y+b>>>1)&255;return j},d=function(p,g,v){var y,b,j,N,S=[],B=p.length;S[0]=4;for(var I=0;I<B;I+=1)y=p[I-g]||0,b=v&&v[I]||0,j=v&&v[I-g]||0,N=f(y,b,j),S[I+1]=p[I]-N+256&255;return S},f=function(p,g,v){if(p===g&&g===v)return p;var y=Math.abs(g-v),b=Math.abs(p-v),j=Math.abs(p+g-v-v);return y<=b&&y<=j?p:b<=j?g:v},u=function(){return[i,o,l,c,d]},m=function(p){var g=p.map(function(v){return v.reduce(function(y,b){return y+Math.abs(b)},0)});return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(p,g,v,y){var b,j,N,S,B,I,F,O,k,V,Q,H,M,K,q,re=this.decode.FLATE_DECODE,ee="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(N=new Wee(p)).imgData,j=N.bits,b=N.colorSpace,B=N.colors,[4,6].indexOf(N.colorType)!==-1){if(N.bits===8){k=(O=N.pixelBitlength==32?new Uint32Array(N.decodePixels().buffer):N.pixelBitlength==16?new Uint16Array(N.decodePixels().buffer):new Uint8Array(N.decodePixels().buffer)).length,Q=new Uint8Array(k*N.colors),V=new Uint8Array(k);var le,Ae=N.pixelBitlength-N.bits;for(K=0,q=0;K<k;K++){for(M=O[K],le=0;le<Ae;)Q[q++]=M>>>le&255,le+=N.bits;V[K]=M>>>le&255}}if(N.bits===16){k=(O=new Uint32Array(N.decodePixels().buffer)).length,Q=new Uint8Array(k*(32/N.pixelBitlength)*N.colors),V=new Uint8Array(k*(32/N.pixelBitlength)),H=N.colors>1,K=0,q=0;for(var ue=0;K<k;)M=O[K++],Q[q++]=M>>>0&255,H&&(Q[q++]=M>>>16&255,M=O[K++],Q[q++]=M>>>0&255),V[ue++]=M>>>16&255;j=8}y!==t.image_compression.NONE&&r()?(p=a(Q,N.width*N.colors,N.colors,y),F=a(V,N.width,1,y)):(p=Q,F=V,re=void 0)}if(N.colorType===3&&(b=this.color_spaces.INDEXED,I=N.palette,N.transparency.indexed)){var se=N.transparency.indexed,ve=0;for(K=0,k=se.length;K<k;++K)ve+=se[K];if((ve/=255)===k-1&&se.indexOf(0)!==-1)S=[se.indexOf(0)];else if(ve!==k){for(O=N.decodePixels(),V=new Uint8Array(O.length),K=0,k=O.length;K<k;K++)V[K]=se[O[K]];F=a(V,N.width,1)}}var _=function(z){var ae;switch(z){case t.image_compression.FAST:ae=11;break;case t.image_compression.MEDIUM:ae=13;break;case t.image_compression.SLOW:ae=14;break;default:ae=12}return ae}(y);return re===this.decode.FLATE_DECODE&&(ee="/Predictor "+_+" "),ee+="/Colors "+B+" /BitsPerComponent "+j+" /Columns "+N.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(F&&this.__addimage__.isArrayBuffer(F)||this.__addimage__.isArrayBufferView(F))&&(F=this.__addimage__.arrayBufferToBinaryString(F)),{alias:v,data:p,index:g,filter:re,decodeParameters:ee,transparency:S,palette:I,sMask:F,predictor:_,width:N.width,height:N.height,bitsPerComponent:j,colorSpace:b}}}})(Kr.API),function(t){t.processGIF89A=function(r,a,s,i){var o=new qee(r),l=o.width,c=o.height,d=[];o.decodeAndBlitFrameRGBA(0,d);var f={data:d,width:l,height:c},u=new nN(100).encode(f,100);return t.processJPEG.call(this,u,a,s,i)},t.processGIF87A=t.processGIF89A}(Kr.API),du.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var r=0;r<t;r++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[r]={red:i,green:s,blue:a,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},du.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,r=this.width*this.height*4;this.data=new Uint8Array(r),this[t]()}catch(a){Ls.log("bit decode error:"+a)}},du.prototype.bit1=function(){var t,r=Math.ceil(this.width/8),a=r%4;for(t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,i=0;i<r;i++)for(var o=this.datav.getUint8(this.pos++,!0),l=s*this.width*4+8*i*4,c=0;c<8&&8*i+c<this.width;c++){var d=this.palette[o>>7-c&1];this.data[l+4*c]=d.blue,this.data[l+4*c+1]=d.green,this.data[l+4*c+2]=d.red,this.data[l+4*c+3]=255}a!==0&&(this.pos+=4-a)}},du.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),r=t%4,a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),l=s*this.width*4+2*i*4,c=o>>4,d=15&o,f=this.palette[c];if(this.data[l]=f.blue,this.data[l+1]=f.green,this.data[l+2]=f.red,this.data[l+3]=255,2*i+1>=this.width)break;f=this.palette[d],this.data[l+4]=f.blue,this.data[l+4+1]=f.green,this.data[l+4+2]=f.red,this.data[l+4+3]=255}r!==0&&(this.pos+=4-r)}},du.prototype.bit8=function(){for(var t=this.width%4,r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+4*s;if(i<this.palette.length){var l=this.palette[i];this.data[o]=l.red,this.data[o+1]=l.green,this.data[o+2]=l.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},du.prototype.bit15=function(){for(var t=this.width%3,r=parseInt("11111",2),a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&r)/r*255|0,c=(o>>5&r)/r*255|0,d=(o>>10&r)/r*255|0,f=o>>15?255:0,u=s*this.width*4+4*i;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=f}this.pos+=t}},du.prototype.bit16=function(){for(var t=this.width%3,r=parseInt("11111",2),a=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var i=this.bottom_up?s:this.height-1-s,o=0;o<this.width;o++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&r)/r*255|0,d=(l>>5&a)/a*255|0,f=(l>>11)/r*255|0,u=i*this.width*4+4*o;this.data[u]=f,this.data[u+1]=d,this.data[u+2]=c,this.data[u+3]=255}this.pos+=t}},du.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+4*a;this.data[l]=o,this.data[l+1]=i,this.data[l+2]=s,this.data[l+3]=255}this.pos+=this.width%4}},du.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+4*a;this.data[c]=o,this.data[c+1]=i,this.data[c+2]=s,this.data[c+3]=l}},du.prototype.getData=function(){return this.data},function(t){t.processBMP=function(r,a,s,i){var o=new du(r,!1),l=o.width,c=o.height,d={data:o.getData(),width:l,height:c},f=new nN(100).encode(d,100);return t.processJPEG.call(this,f,a,s,i)}}(Kr.API),GI.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(r,a,s,i){var o=new GI(r),l=o.width,c=o.height,d={data:o.getData(),width:l,height:c},f=new nN(100).encode(d,100);return t.processJPEG.call(this,f,a,s,i)}}(Kr.API),Kr.API.processRGBA=function(t,r,a){for(var s=t.data,i=s.length,o=new Uint8Array(i/4*3),l=new Uint8Array(i/4),c=0,d=0,f=0;f<i;f+=4){var u=s[f],m=s[f+1],p=s[f+2],g=s[f+3];o[c++]=u,o[c++]=m,o[c++]=p,l[d++]=g}var v=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:v,index:r,alias:a,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Kr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Yp=Kr.API,fb=Yp.getCharWidthsArray=function(t,r){var a,s,i=(r=r||{}).font||this.internal.getFont(),o=r.fontSize||this.internal.getFontSize(),l=r.charSpace||this.internal.getCharSpace(),c=r.widths?r.widths:i.metadata.Unicode.widths,d=c.fof?c.fof:1,f=r.kerning?r.kerning:i.metadata.Unicode.kerning,u=f.fof?f.fof:1,m=r.doKerning!==!1,p=0,g=t.length,v=0,y=c[0]||d,b=[];for(a=0;a<g;a++)s=t.charCodeAt(a),typeof i.metadata.widthOfString=="function"?b.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(s))+l*(1e3/o)||0)/1e3):(p=m&&gs(f[s])==="object"&&!isNaN(parseInt(f[s][v],10))?f[s][v]/u:0,b.push((c[s]||y)/d+p)),v=s;return b},$I=Yp.getStringUnitWidth=function(t,r){var a=(r=r||{}).fontSize||this.internal.getFontSize(),s=r.font||this.internal.getFont(),i=r.charSpace||this.internal.getCharSpace();return Yp.processArabic&&(t=Yp.processArabic(t)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(t,a,i)/a:fb.apply(this,arguments).reduce(function(o,l){return o+l},0)},zI=function(t,r,a,s){for(var i=[],o=0,l=t.length,c=0;o!==l&&c+r[o]<a;)c+=r[o],o++;i.push(t.slice(0,o));var d=o;for(c=0;o!==l;)c+r[o]>s&&(i.push(t.slice(d,o)),c=0,d=o),c+=r[o],o++;return d!==o&&i.push(t.slice(d,o)),i},VI=function(t,r,a){a||(a={});var s,i,o,l,c,d,f,u=[],m=[u],p=a.textIndent||0,g=0,v=0,y=t.split(" "),b=fb.apply(this,[" ",a])[0];if(d=a.lineIndent===-1?y[0].length+2:a.lineIndent||0){var j=Array(d).join(" "),N=[];y.map(function(B){(B=B.split(/\s*\n/)).length>1?N=N.concat(B.map(function(I,F){return(F&&I.length?`
`:"")+I})):N.push(B[0])}),y=N,d=$I.apply(this,[j,a])}for(o=0,l=y.length;o<l;o++){var S=0;if(s=y[o],d&&s[0]==`
`&&(s=s.substr(1),S=1),p+g+(v=(i=fb.apply(this,[s,a])).reduce(function(B,I){return B+I},0))>r||S){if(v>r){for(c=zI.apply(this,[s,i,r-(p+g),r]),u.push(c.shift()),u=[c.pop()];c.length;)m.push([c.shift()]);v=i.slice(s.length-(u[0]?u[0].length:0)).reduce(function(B,I){return B+I},0)}else u=[s];m.push(u),p=v+d,g=b}else u.push(s),p+=g+v,g=b}return f=d?function(B,I){return(I?j:"")+B.join(" ")}:function(B){return B.join(" ")},m.map(f)},Yp.splitTextToSize=function(t,r,a){var s,i=(a=a||{}).fontSize||this.internal.getFontSize(),o=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var m=this.internal.getFont(u.fontName,u.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,a);s=Array.isArray(t)?t:String(t).split(/\r?\n/);var l=1*this.internal.scaleFactor*r/i;o.textIndent=a.textIndent?1*a.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=a.lineIndent;var c,d,f=[];for(c=0,d=s.length;c<d;c++)f=f.concat(VI.apply(this,[s[c],l,o]));return f},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var r="klmnopqrstuvwxyz",a={},s={},i=0;i<r.length;i++)a[r[i]]="0123456789abcdef"[i],s["0123456789abcdef"[i]]=r[i];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=t.__fontmetrics__.compress=function(m){var p,g,v,y,b=["{"];for(var j in m){if(p=m[j],isNaN(parseInt(j,10))?g="'"+j+"'":(j=parseInt(j,10),g=(g=o(j).slice(2)).slice(0,-1)+s[g.slice(-1)]),typeof p=="number")p<0?(v=o(p).slice(3),y="-"):(v=o(p).slice(2),y=""),v=y+v.slice(0,-1)+s[v.slice(-1)];else{if(gs(p)!=="object")throw new Error("Don't know what to do with value type "+gs(p)+".");v=l(p)}b.push(g+v)}return b.push("}"),b.join("")},c=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,g,v,y,b={},j=1,N=b,S=[],B="",I="",F=m.length-1,O=1;O<F;O+=1)(y=m[O])=="'"?p?(v=p.join(""),p=void 0):p=[]:p?p.push(y):y=="{"?(S.push([N,v]),N={},v=void 0):y=="}"?((g=S.pop())[0][g[1]]=N,v=void 0,N=g[0]):y=="-"?j=-1:v===void 0?a.hasOwnProperty(y)?(B+=a[y],v=parseInt(B,16)*j,j=1,B=""):B+=y:a.hasOwnProperty(y)?(I+=a[y],N[v]=parseInt(I,16)*j,j=1,v=void 0,I=""):I+=y;return b},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},u={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var p=m.font,g=u.Unicode[p.postScriptName];g&&(p.metadata.Unicode={},p.metadata.Unicode.widths=g.widths,p.metadata.Unicode.kerning=g.kerning);var v=f.Unicode[p.postScriptName];v&&(p.metadata.Unicode.encoding=v,p.encoding=v.codePages[0])}])}(Kr.API),function(t){var r=function(a){for(var s=a.length,i=new Uint8Array(s),o=0;o<s;o++)i[o]=a.charCodeAt(o);return i};t.API.events.push(["addFont",function(a){var s=void 0,i=a.font,o=a.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(s=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?r(c):r(F1(c)),l.metadata=t.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(i,s)}}])}(Kr),function(t){function r(){return(aa.canvg?Promise.resolve(aa.canvg):AC(()=>import("./index.es-DUiL9fvq.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load canvg: "+a))}).then(function(a){return a.default?a.default:a})}Kr.API.addSvgAsImage=function(a,s,i,o,l,c,d,f){if(isNaN(s)||isNaN(i))throw Ls.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(l))throw Ls.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=o,u.height=l;var m=u.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,u.width,u.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return r().then(function(v){return v.fromString(m,a,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(p)}).then(function(){g.addImage(u.toDataURL("image/jpeg",1),s,i,o,l,d,f)})}}(),Kr.API.putTotalPages=function(t){var r,a=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(r=new RegExp(t,"g"),a=this.internal.getNumberOfPages()):(r=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),a=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var i=0;i<this.internal.pages[s].length;i++)this.internal.pages[s][i]=this.internal.pages[s][i].replace(r,a);return this},Kr.API.viewerPreferences=function(t,r){var a;t=t||{},r=r||!1;var s,i,o,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),d=[],f=0,u=0,m=0;function p(v,y){var b,j=!1;for(b=0;b<v.length;b+=1)v[b]===y&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),a=this.internal.viewerpreferences.configuration,t==="reset"||r===!0){var g=c.length;for(m=0;m<g;m+=1)a[c[m]].value=a[c[m]].defaultValue,a[c[m]].explicitSet=!1}if(gs(t)==="object"){for(i in t)if(o=t[i],p(c,i)&&o!==void 0){if(a[i].type==="boolean"&&typeof o=="boolean")a[i].value=o;else if(a[i].type==="name"&&p(a[i].valueSet,o))a[i].value=o;else if(a[i].type==="integer"&&Number.isInteger(o))a[i].value=o;else if(a[i].type==="array"){for(f=0;f<o.length;f+=1)if(s=!0,o[f].length===1&&typeof o[f][0]=="number")d.push(String(o[f]-1));else if(o[f].length>1){for(u=0;u<o[f].length;u+=1)typeof o[f][u]!="number"&&(s=!1);s===!0&&d.push([o[f][0]-1,o[f][1]-1].join(" "))}a[i].value="["+d.join(" ")+"]"}else a[i].value=a[i].defaultValue;a[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,y=[];for(v in a)a[v].explicitSet===!0&&(a[v].type==="name"?y.push("/"+v+" /"+a[v].value):y.push("/"+v+" "+a[v].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=a,this},function(t){var r=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(s)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),f=o.length+l.length+c.length+i.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+o+l+c+d),this.internal.write("endstream"),this.internal.write("endobj")},a=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(s,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",a),this.internal.events.subscribe("postPutResources",r)),this}}(Kr.API),function(t){var r=t.API,a=r.pdfEscape16=function(o,l){for(var c,d=l.metadata.Unicode.widths,f=["","0","00","000","0000"],u=[""],m=0,p=o.length;m<p;++m){if(c=l.metadata.characterToGlyph(o.charCodeAt(m)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=o.charCodeAt(m),d.indexOf(c)==-1&&(d.push(c),d.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return u.join("");c=c.toString(16),u.push(f[4-c.length],c)}return u.join("")},s=function(o){var l,c,d,f,u,m,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],m=0,p=(c=Object.keys(o).sort(function(g,v){return g-v})).length;m<p;m++)l=c[m],d.length>=100&&(u+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),o[l]!==void 0&&o[l]!==null&&typeof o[l].toString=="function"&&(f=("0000"+o[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),d.push("<"+l+"><"+f+">"));return d.length&&(u+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};r.events.push(["putFont",function(o){(function(l){var c=l.font,d=l.out,f=l.newObject,u=l.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="Identity-H"){for(var m=c.metadata.Unicode.widths,p=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),g="",v=0;v<p.length;v++)g+=String.fromCharCode(p[v]);var y=f();u({data:g,addLength1:!0,objectId:y}),d("endobj");var b=f();u({data:s(c.metadata.toUnicode),addLength1:!0,objectId:b}),d("endobj");var j=f();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+dg(c.fontName)),d("/FontFile2 "+y+" 0 R"),d("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),d("/Flags "+c.metadata.flags),d("/StemV "+c.metadata.stemV),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d(">>"),d("endobj");var N=f();d("<<"),d("/Type /Font"),d("/BaseFont /"+dg(c.fontName)),d("/FontDescriptor "+j+" 0 R"),d("/W "+t.API.PDFObject.convert(m)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+c.encoding+")"),d(">>"),d(">>"),d("endobj"),c.objectNumber=f(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+b+" 0 R"),d("/BaseFont /"+dg(c.fontName)),d("/Encoding /"+c.encoding),d("/DescendantFonts ["+N+" 0 R]"),d(">>"),d("endobj"),c.isAlreadyPutted=!0}})(o)}]),r.events.push(["putFont",function(o){(function(l){var c=l.font,d=l.out,f=l.newObject,u=l.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var m=c.metadata.rawData,p="",g=0;g<m.length;g++)p+=String.fromCharCode(m[g]);var v=f();u({data:p,addLength1:!0,objectId:v}),d("endobj");var y=f();u({data:s(c.metadata.toUnicode),addLength1:!0,objectId:y}),d("endobj");var b=f();d("<<"),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d("/StemV "+c.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+v+" 0 R"),d("/Flags 96"),d("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),d("/FontName /"+dg(c.fontName)),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d(">>"),d("endobj"),c.objectNumber=f();for(var j=0;j<c.metadata.hmtx.widths.length;j++)c.metadata.hmtx.widths[j]=parseInt(c.metadata.hmtx.widths[j]*(1e3/c.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+dg(c.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),d("endobj"),c.isAlreadyPutted=!0}})(o)}]);var i=function(o){var l,c=o.text||"",d=o.x,f=o.y,u=o.options||{},m=o.mutex||{},p=m.pdfEscape,g=m.activeFontKey,v=m.fonts,y=g,b="",j=0,N="",S=v[y].encoding;if(v[y].encoding!=="Identity-H")return{text:c,x:d,y:f,options:u,mutex:m};for(N=c,y=g,Array.isArray(c)&&(N=c[0]),j=0;j<N.length;j+=1)v[y].metadata.hasOwnProperty("cmap")&&(l=v[y].metadata.cmap.unicode.codeMap[N[j].charCodeAt(0)]),l||N[j].charCodeAt(0)<256&&v[y].metadata.hasOwnProperty("Unicode")?b+=N[j]:b+="";var B="";return parseInt(y.slice(1))<14||S==="WinAnsiEncoding"?B=p(b,y).split("").map(function(I){return I.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(B=a(b,v[y])),m.isHex=!0,{text:B,x:d,y:f,options:u,mutex:m}};r.events.push(["postProcessText",function(o){var l=o.text||"",c=[],d={text:l,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(l)){var f=0;for(f=0;f<l.length;f+=1)Array.isArray(l[f])&&l[f].length===3?c.push([i(Object.assign({},d,{text:l[f][0]})).text,l[f][1],l[f][2]]):c.push(i(Object.assign({},d,{text:l[f]})).text);o.text=c}else o.text=i(Object.assign({},d,{text:l})).text}])}(Kr),function(t){var r=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(a){return r.call(this),this.internal.vFS[a]!==void 0},t.addFileToVFS=function(a,s){return r.call(this),this.internal.vFS[a]=s,this},t.getFileFromVFS=function(a){return r.call(this),this.internal.vFS[a]!==void 0?this.internal.vFS[a]:null}}(Kr.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(s){var i,o,l,c,d,f,u,m=r,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,S=0;this.__bidiEngine__={};var B=function(H){var M=H.charCodeAt(),K=M>>8,q=y[K];return q!==void 0?m[256*q+(255&M)]:K===252||K===253?"AL":j.test(K)?"L":K===8?"R":"N"},I=function(H){for(var M,K=0;K<H.length;K++){if((M=B(H.charAt(K)))==="L")return!1;if(M==="R")return!0}return!1},F=function(H,M,K,q){var re,ee,le,Ae,ue=M[q];switch(ue){case"L":case"R":N=!1;break;case"N":case"AN":break;case"EN":N&&(ue="AN");break;case"AL":N=!0,ue="R";break;case"WS":ue="N";break;case"CS":q<1||q+1>=M.length||(re=K[q-1])!=="EN"&&re!=="AN"||(ee=M[q+1])!=="EN"&&ee!=="AN"?ue="N":N&&(ee="AN"),ue=ee===re?ee:"N";break;case"ES":ue=(re=q>0?K[q-1]:"B")==="EN"&&q+1<M.length&&M[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&K[q-1]==="EN"){ue="EN";break}if(N){ue="N";break}for(le=q+1,Ae=M.length;le<Ae&&M[le]==="ET";)le++;ue=le<Ae&&M[le]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(Ae=M.length,le=q+1;le<Ae&&M[le]==="NSM";)le++;if(le<Ae){var se=H[q],ve=se>=1425&&se<=2303||se===64286;if(re=M[le],ve&&(re==="R"||re==="AL")){ue="R";break}}}ue=q<1||(re=M[q-1])==="B"?"N":K[q-1];break;case"B":N=!1,i=!0,ue=S;break;case"S":o=!0,ue="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"BN":ue="N"}return ue},O=function(H,M,K){var q=H.split("");return K&&k(q,K,{hiLevel:S}),q.reverse(),M&&M.reverse(),q.join("")},k=function(H,M,K){var q,re,ee,le,Ae,ue=-1,se=H.length,ve=0,_=[],z=S?g:p,ae=[];for(N=!1,i=!1,o=!1,re=0;re<se;re++)ae[re]=B(H[re]);for(ee=0;ee<se;ee++){if(Ae=ve,_[ee]=F(H,ae,_,ee),q=240&(ve=z[Ae][v[_[ee]]]),ve&=15,M[ee]=le=z[ve][5],q>0)if(q===16){for(re=ue;re<ee;re++)M[re]=1;ue=-1}else ue=-1;if(z[ve][6])ue===-1&&(ue=ee);else if(ue>-1){for(re=ue;re<ee;re++)M[re]=le;ue=-1}ae[ee]==="B"&&(M[ee]=0),K.hiLevel|=le}o&&function(oe,ce,me){for(var he=0;he<me;he++)if(oe[he]==="S"){ce[he]=S;for(var te=he-1;te>=0&&oe[te]==="WS";te--)ce[te]=S}}(ae,M,se)},V=function(H,M,K,q,re){if(!(re.hiLevel<H)){if(H===1&&S===1&&!i)return M.reverse(),void(K&&K.reverse());for(var ee,le,Ae,ue,se=M.length,ve=0;ve<se;){if(q[ve]>=H){for(Ae=ve+1;Ae<se&&q[Ae]>=H;)Ae++;for(ue=ve,le=Ae-1;ue<le;ue++,le--)ee=M[ue],M[ue]=M[le],M[le]=ee,K&&(ee=K[ue],K[ue]=K[le],K[le]=ee);ve=Ae}ve++}}},Q=function(H,M,K){var q=H.split(""),re={hiLevel:S};return K||(K=[]),k(q,K,re),function(ee,le,Ae){if(Ae.hiLevel!==0&&u)for(var ue,se=0;se<ee.length;se++)le[se]===1&&(ue=b.indexOf(ee[se]))>=0&&(ee[se]=b[ue+1])}(q,K,re),V(2,q,M,K,re),V(1,q,M,K,re),q.join("")};return this.__bidiEngine__.doBidiReorder=function(H,M,K){if(function(re,ee){if(ee)for(var le=0;le<re.length;le++)ee[le]=le;c===void 0&&(c=I(re)),f===void 0&&(f=I(re))}(H,M),l||!d||f)if(l&&d&&c^f)S=c?1:0,H=O(H,M,K);else if(!l&&d&&f)S=c?1:0,H=Q(H,M,K),H=O(H,M);else if(!l||c||d||f){if(l&&!d&&c^f)H=O(H,M),c?(S=0,H=Q(H,M,K)):(S=1,H=Q(H,M,K),H=O(H,M));else if(l&&c&&!d&&f)S=1,H=Q(H,M,K),H=O(H,M);else if(!l&&!d&&c^f){var q=u;c?(S=1,H=Q(H,M,K),S=0,u=!1,H=Q(H,M,K),u=q):(S=0,H=Q(H,M,K),H=O(H,M),S=1,u=!1,H=Q(H,M,K),u=q,H=O(H,M))}}else S=0,H=Q(H,M,K);else S=c?1:0,H=Q(H,M,K);return H},this.__bidiEngine__.setOptions=function(H){H&&(l=H.isInputVisual,d=H.isOutputVisual,c=H.isInputRtl,f=H.isOutputRtl,u=H.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var r=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],a=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(s){var i=s.text;s.x,s.y;var o=s.options||{};s.mutex,o.lang;var l=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,a.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var c=0;for(l=[],c=0;c<i.length;c+=1)Object.prototype.toString.call(i[c])==="[object Array]"?l.push([a.doBidiReorder(i[c][0]),i[c][1],i[c][2]]):l.push([a.doBidiReorder(i[c])]);s.text=l}else s.text=a.doBidiReorder(i);a.setOptions({isInputVisual:!0})}])}(Kr),Kr.API.TTFFont=function(){function t(r){var a;if(this.rawData=r,a=this.contents=new fm(r),this.contents.pos=4,a.readString(4)==="ttcf")throw new Error("TTCF not supported.");a.pos=0,this.parse(),this.subset=new dte(this),this.registerTTF()}return t.open=function(r){return new t(r)},t.prototype.parse=function(){return this.directory=new Yee(this.contents),this.head=new Jee(this),this.name=new ate(this),this.cmap=new ZM(this),this.toUnicode={},this.hhea=new Zee(this),this.maxp=new ste(this),this.hmtx=new nte(this),this.post=new tte(this),this.os2=new ete(this),this.loca=new cte(this),this.glyf=new ite(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var r,a,s,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,d,f;for(f=[],l=0,c=(d=this.bbox).length;l<c;l++)r=d[l],f.push(Math.round(r*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(s=255&(i=this.post.italic_angle),(32768&(a=i>>16))!=0&&(a=-(1+(65535^a))),this.italicAngle=+(a+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(r){var a;return((a=this.cmap.unicode)!=null?a.codeMap[r]:void 0)||0},t.prototype.widthOfGlyph=function(r){var a;return a=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(r).advance*a},t.prototype.widthOfString=function(r,a,s){var i,o,l,c;for(l=0,o=0,c=(r=""+r).length;0<=c?o<c:o>c;o=0<=c?++o:--o)i=r.charCodeAt(o),l+=this.widthOfGlyph(this.characterToGlyph(i))+s*(1e3/a)||0;return l*(a/1e3)},t.prototype.lineHeight=function(r,a){var s;return a==null&&(a=!1),s=a?this.lineGap:0,(this.ascender+s-this.decender)/1e3*r},t}();var Bu,fm=function(){function t(r){this.data=r??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(r){return this.data[this.pos++]=r},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(r){return this.writeByte(r>>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt32=function(){var r;return(r=this.readUInt32())>=2147483648?r-4294967296:r},t.prototype.writeInt32=function(r){return r<0&&(r+=4294967296),this.writeUInt32(r)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(r){return this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt16=function(){var r;return(r=this.readUInt16())>=32768?r-65536:r},t.prototype.writeInt16=function(r){return r<0&&(r+=65536),this.writeUInt16(r)},t.prototype.readString=function(r){var a,s;for(s=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)s[a]=String.fromCharCode(this.readByte());return s.join("")},t.prototype.writeString=function(r){var a,s,i;for(i=[],a=0,s=r.length;0<=s?a<s:a>s;a=0<=s?++a:--a)i.push(this.writeByte(r.charCodeAt(a)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(r){return this.writeInt16(r)},t.prototype.readLongLong=function(){var r,a,s,i,o,l,c,d;return r=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),d=this.readByte(),128&r?-1*(72057594037927940*(255^r)+281474976710656*(255^a)+1099511627776*(255^s)+4294967296*(255^i)+16777216*(255^o)+65536*(255^l)+256*(255^c)+(255^d)+1):72057594037927940*r+281474976710656*a+1099511627776*s+4294967296*i+16777216*o+65536*l+256*c+d},t.prototype.writeLongLong=function(r){var a,s;return a=Math.floor(r/4294967296),s=4294967295&r,this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(r){return this.writeInt32(r)},t.prototype.read=function(r){var a,s;for(a=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)a.push(this.readByte());return a},t.prototype.write=function(r){var a,s,i,o;for(o=[],s=0,i=r.length;s<i;s++)a=r[s],o.push(this.writeByte(a));return o},t}(),Yee=function(){var t;function r(a){var s,i,o;for(this.scalarType=a.readInt(),this.tableCount=a.readShort(),this.searchRange=a.readShort(),this.entrySelector=a.readShort(),this.rangeShift=a.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)s={tag:a.readString(4),checksum:a.readInt(),offset:a.readInt(),length:a.readInt()},this.tables[s.tag]=s}return r.prototype.encode=function(a){var s,i,o,l,c,d,f,u,m,p,g,v,y;for(y in g=Object.keys(a).length,d=Math.log(2),m=16*Math.floor(Math.log(g)/d),l=Math.floor(m/d),u=16*g-m,(i=new fm).writeInt(this.scalarType),i.writeShort(g),i.writeShort(m),i.writeShort(l),i.writeShort(u),o=16*g,f=i.pos+o,c=null,v=[],a)for(p=a[y],i.writeString(y),i.writeInt(t(p)),i.writeInt(f),i.writeInt(p.length),v=v.concat(p),y==="head"&&(c=f),f+=p.length;f%4;)v.push(0),f++;return i.write(v),s=2981146554-t(i.data),i.pos=c+8,i.writeUInt32(s),i.data},t=function(a){var s,i,o,l;for(a=eU.call(a);a.length%4;)a.push(0);for(o=new fm(a),i=0,s=0,l=a.length;s<l;s=s+=4)i+=o.readUInt32();return 4294967295&i},r}(),Xee={}.hasOwnProperty,If=function(t,r){for(var a in r)Xee.call(r,a)&&(t[a]=r[a]);function s(){this.constructor=t}return s.prototype=r.prototype,t.prototype=new s,t.__super__=r.prototype,t};Bu=function(){function t(r){var a;this.file=r,a=this.file.directory.tables[this.tag],this.exists=!!a,a&&(this.offset=a.offset,this.length=a.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Jee=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return If(r,Bu),r.prototype.tag="head",r.prototype.parse=function(a){return a.pos=this.offset,this.version=a.readInt(),this.revision=a.readInt(),this.checkSumAdjustment=a.readInt(),this.magicNumber=a.readInt(),this.flags=a.readShort(),this.unitsPerEm=a.readShort(),this.created=a.readLongLong(),this.modified=a.readLongLong(),this.xMin=a.readShort(),this.yMin=a.readShort(),this.xMax=a.readShort(),this.yMax=a.readShort(),this.macStyle=a.readShort(),this.lowestRecPPEM=a.readShort(),this.fontDirectionHint=a.readShort(),this.indexToLocFormat=a.readShort(),this.glyphDataFormat=a.readShort()},r.prototype.encode=function(a){var s;return(s=new fm).writeInt(this.version),s.writeInt(this.revision),s.writeInt(this.checkSumAdjustment),s.writeInt(this.magicNumber),s.writeShort(this.flags),s.writeShort(this.unitsPerEm),s.writeLongLong(this.created),s.writeLongLong(this.modified),s.writeShort(this.xMin),s.writeShort(this.yMin),s.writeShort(this.xMax),s.writeShort(this.yMax),s.writeShort(this.macStyle),s.writeShort(this.lowestRecPPEM),s.writeShort(this.fontDirectionHint),s.writeShort(a),s.writeShort(this.glyphDataFormat),s.data},r}(),WI=function(){function t(r,a){var s,i,o,l,c,d,f,u,m,p,g,v,y,b,j,N,S;switch(this.platformID=r.readUInt16(),this.encodingID=r.readShort(),this.offset=a+r.readInt(),m=r.pos,r.pos=this.offset,this.format=r.readUInt16(),this.length=r.readUInt16(),this.language=r.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=r.readByte();break;case 4:for(g=r.readUInt16(),p=g/2,r.pos+=6,o=function(){var B,I;for(I=[],d=B=0;0<=p?B<p:B>p;d=0<=p?++B:--B)I.push(r.readUInt16());return I}(),r.pos+=2,y=function(){var B,I;for(I=[],d=B=0;0<=p?B<p:B>p;d=0<=p?++B:--B)I.push(r.readUInt16());return I}(),f=function(){var B,I;for(I=[],d=B=0;0<=p?B<p:B>p;d=0<=p?++B:--B)I.push(r.readUInt16());return I}(),u=function(){var B,I;for(I=[],d=B=0;0<=p?B<p:B>p;d=0<=p?++B:--B)I.push(r.readUInt16());return I}(),i=(this.length-r.pos+this.offset)/2,c=function(){var B,I;for(I=[],d=B=0;0<=i?B<i:B>i;d=0<=i?++B:--B)I.push(r.readUInt16());return I}(),d=j=0,S=o.length;j<S;d=++j)for(b=o[d],s=N=v=y[d];v<=b?N<=b:N>=b;s=v<=b?++N:--N)u[d]===0?l=s+f[d]:(l=c[u[d]/2+(s-v)-(p-d)]||0)!==0&&(l+=f[d]),this.codeMap[s]=65535&l}r.pos=m}return t.encode=function(r,a){var s,i,o,l,c,d,f,u,m,p,g,v,y,b,j,N,S,B,I,F,O,k,V,Q,H,M,K,q,re,ee,le,Ae,ue,se,ve,_,z,ae,oe,ce,me,he,te,J,X,xe;switch(q=new fm,l=Object.keys(r).sort(function(Ne,ge){return Ne-ge}),a){case"macroman":for(y=0,b=function(){var Ne=[];for(v=0;v<256;++v)Ne.push(0);return Ne}(),N={0:0},o={},re=0,ue=l.length;re<ue;re++)N[te=r[i=l[re]]]==null&&(N[te]=++y),o[i]={old:r[i],new:N[r[i]]},b[i]=N[r[i]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(b),{charMap:o,subtable:q.data,maxGlyphID:y+1};case"unicode":for(M=[],m=[],S=0,N={},s={},j=f=null,ee=0,se=l.length;ee<se;ee++)N[I=r[i=l[ee]]]==null&&(N[I]=++S),s[i]={old:I,new:N[I]},c=N[I]-i,j!=null&&c===f||(j&&m.push(j),M.push(i),f=c),j=i;for(j&&m.push(j),m.push(65535),M.push(65535),Q=2*(V=M.length),k=2*Math.pow(Math.log(V)/Math.LN2,2),p=Math.log(k/2)/Math.LN2,O=2*V-k,d=[],F=[],g=[],v=le=0,ve=M.length;le<ve;v=++le){if(H=M[v],u=m[v],H===65535){d.push(0),F.push(0);break}if(H-(K=s[H].new)>=32768)for(d.push(0),F.push(2*(g.length+V-v)),i=Ae=H;H<=u?Ae<=u:Ae>=u;i=H<=u?++Ae:--Ae)g.push(s[i].new);else d.push(K-H),F.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*V+2*g.length),q.writeUInt16(0),q.writeUInt16(Q),q.writeUInt16(k),q.writeUInt16(p),q.writeUInt16(O),me=0,_=m.length;me<_;me++)i=m[me],q.writeUInt16(i);for(q.writeUInt16(0),he=0,z=M.length;he<z;he++)i=M[he],q.writeUInt16(i);for(J=0,ae=d.length;J<ae;J++)c=d[J],q.writeUInt16(c);for(X=0,oe=F.length;X<oe;X++)B=F[X],q.writeUInt16(B);for(xe=0,ce=g.length;xe<ce;xe++)y=g[xe],q.writeUInt16(y);return{charMap:s,subtable:q.data,maxGlyphID:S+1}}},t}(),ZM=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return If(r,Bu),r.prototype.tag="cmap",r.prototype.parse=function(a){var s,i,o;for(a.pos=this.offset,this.version=a.readUInt16(),o=a.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=o?i<o:i>o;i=0<=o?++i:--i)s=new WI(a,this.offset),this.tables.push(s),s.isUnicode&&this.unicode==null&&(this.unicode=s);return!0},r.encode=function(a,s){var i,o;return s==null&&(s="macroman"),i=WI.encode(a,s),(o=new fm).writeUInt16(0),o.writeUInt16(1),i.table=o.data.concat(i.subtable),i},r}(),Zee=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return If(r,Bu),r.prototype.tag="hhea",r.prototype.parse=function(a){return a.pos=this.offset,this.version=a.readInt(),this.ascender=a.readShort(),this.decender=a.readShort(),this.lineGap=a.readShort(),this.advanceWidthMax=a.readShort(),this.minLeftSideBearing=a.readShort(),this.minRightSideBearing=a.readShort(),this.xMaxExtent=a.readShort(),this.caretSlopeRise=a.readShort(),this.caretSlopeRun=a.readShort(),this.caretOffset=a.readShort(),a.pos+=8,this.metricDataFormat=a.readShort(),this.numberOfMetrics=a.readUInt16()},r}(),ete=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return If(r,Bu),r.prototype.tag="OS/2",r.prototype.parse=function(a){if(a.pos=this.offset,this.version=a.readUInt16(),this.averageCharWidth=a.readShort(),this.weightClass=a.readUInt16(),this.widthClass=a.readUInt16(),this.type=a.readShort(),this.ySubscriptXSize=a.readShort(),this.ySubscriptYSize=a.readShort(),this.ySubscriptXOffset=a.readShort(),this.ySubscriptYOffset=a.readShort(),this.ySuperscriptXSize=a.readShort(),this.ySuperscriptYSize=a.readShort(),this.ySuperscriptXOffset=a.readShort(),this.ySuperscriptYOffset=a.readShort(),this.yStrikeoutSize=a.readShort(),this.yStrikeoutPosition=a.readShort(),this.familyClass=a.readShort(),this.panose=function(){var s,i;for(i=[],s=0;s<10;++s)i.push(a.readByte());return i}(),this.charRange=function(){var s,i;for(i=[],s=0;s<4;++s)i.push(a.readInt());return i}(),this.vendorID=a.readString(4),this.selection=a.readShort(),this.firstCharIndex=a.readShort(),this.lastCharIndex=a.readShort(),this.version>0&&(this.ascent=a.readShort(),this.descent=a.readShort(),this.lineGap=a.readShort(),this.winAscent=a.readShort(),this.winDescent=a.readShort(),this.codePageRange=function(){var s,i;for(i=[],s=0;s<2;s=++s)i.push(a.readInt());return i}(),this.version>1))return this.xHeight=a.readShort(),this.capHeight=a.readShort(),this.defaultChar=a.readShort(),this.breakChar=a.readShort(),this.maxContext=a.readShort()},r}(),tte=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return If(r,Bu),r.prototype.tag="post",r.prototype.parse=function(a){var s,i,o;switch(a.pos=this.offset,this.format=a.readInt(),this.italicAngle=a.readInt(),this.underlinePosition=a.readShort(),this.underlineThickness=a.readShort(),this.isFixedPitch=a.readInt(),this.minMemType42=a.readInt(),this.maxMemType42=a.readInt(),this.minMemType1=a.readInt(),this.maxMemType1=a.readInt(),this.format){case 65536:break;case 131072:var l;for(i=a.readUInt16(),this.glyphNameIndex=[],l=0;0<=i?l<i:l>i;l=0<=i?++l:--l)this.glyphNameIndex.push(a.readUInt16());for(this.names=[],o=[];a.pos<this.offset+this.length;)s=a.readByte(),o.push(this.names.push(a.readString(s)));return o;case 151552:return i=a.readUInt16(),this.offsets=a.read(i);case 196608:break;case 262144:return this.map=(function(){var c,d,f;for(f=[],l=c=0,d=this.file.maxp.numGlyphs;0<=d?c<d:c>d;l=0<=d?++c:--c)f.push(a.readUInt32());return f}).call(this)}},r}(),rte=function(t,r){this.raw=t,this.length=t.length,this.platformID=r.platformID,this.encodingID=r.encodingID,this.languageID=r.languageID},ate=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return If(r,Bu),r.prototype.tag="name",r.prototype.parse=function(a){var s,i,o,l,c,d,f,u,m,p,g;for(a.pos=this.offset,a.readShort(),s=a.readShort(),d=a.readShort(),i=[],l=0;0<=s?l<s:l>s;l=0<=s?++l:--l)i.push({platformID:a.readShort(),encodingID:a.readShort(),languageID:a.readShort(),nameID:a.readShort(),length:a.readShort(),offset:this.offset+d+a.readShort()});for(f={},l=m=0,p=i.length;m<p;l=++m)o=i[l],a.pos=o.offset,u=a.readString(o.length),c=new rte(u,o),f[g=o.nameID]==null&&(f[g]=[]),f[o.nameID].push(c);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},r}(),ste=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return If(r,Bu),r.prototype.tag="maxp",r.prototype.parse=function(a){return a.pos=this.offset,this.version=a.readInt(),this.numGlyphs=a.readUInt16(),this.maxPoints=a.readUInt16(),this.maxContours=a.readUInt16(),this.maxCompositePoints=a.readUInt16(),this.maxComponentContours=a.readUInt16(),this.maxZones=a.readUInt16(),this.maxTwilightPoints=a.readUInt16(),this.maxStorage=a.readUInt16(),this.maxFunctionDefs=a.readUInt16(),this.maxInstructionDefs=a.readUInt16(),this.maxStackElements=a.readUInt16(),this.maxSizeOfInstructions=a.readUInt16(),this.maxComponentElements=a.readUInt16(),this.maxComponentDepth=a.readUInt16()},r}(),nte=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return If(r,Bu),r.prototype.tag="hmtx",r.prototype.parse=function(a){var s,i,o,l,c,d,f;for(a.pos=this.offset,this.metrics=[],s=0,d=this.file.hhea.numberOfMetrics;0<=d?s<d:s>d;s=0<=d?++s:--s)this.metrics.push({advance:a.readUInt16(),lsb:a.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,m;for(m=[],s=u=0;0<=o?u<o:u>o;s=0<=o?++u:--u)m.push(a.readInt16());return m}(),this.widths=(function(){var u,m,p,g;for(g=[],u=0,m=(p=this.metrics).length;u<m;u++)l=p[u],g.push(l.advance);return g}).call(this),i=this.widths[this.widths.length-1],f=[],s=c=0;0<=o?c<o:c>o;s=0<=o?++c:--c)f.push(this.widths.push(i));return f},r.prototype.forGlyph=function(a){return a in this.metrics?this.metrics[a]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[a-this.metrics.length]}},r}(),eU=[].slice,ite=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return If(r,Bu),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(a){var s,i,o,l,c,d,f,u,m,p;return a in this.cache?this.cache[a]:(l=this.file.loca,s=this.file.contents,i=l.indexOf(a),(o=l.lengthOf(a))===0?this.cache[a]=null:(s.pos=this.offset+i,c=(d=new fm(s.read(o))).readShort(),u=d.readShort(),p=d.readShort(),f=d.readShort(),m=d.readShort(),this.cache[a]=c===-1?new lte(d,u,p,f,m):new ote(d,c,u,p,f,m),this.cache[a]))},r.prototype.encode=function(a,s,i){var o,l,c,d,f;for(c=[],l=[],d=0,f=s.length;d<f;d++)o=a[s[d]],l.push(c.length),o&&(c=c.concat(o.encode(i)));return l.push(c.length),{table:c,offsets:l}},r}(),ote=function(){function t(r,a,s,i,o,l){this.raw=r,this.numberOfContours=a,this.xMin=s,this.yMin=i,this.xMax=o,this.yMax=l,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),lte=function(){function t(r,a,s,i,o){var l,c;for(this.raw=r,this.xMin=a,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return t.prototype.encode=function(){var r,a,s;for(a=new fm(eU.call(this.raw.data)),r=0,s=this.glyphIDs.length;r<s;++r)a.pos=this.glyphOffsets[r];return a.data},t}(),cte=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return If(r,Bu),r.prototype.tag="loca",r.prototype.parse=function(a){var s,i;return a.pos=this.offset,s=this.file.head.indexToLocFormat,this.offsets=s===0?(function(){var o,l;for(l=[],i=0,o=this.length;i<o;i+=2)l.push(2*a.readUInt16());return l}).call(this):(function(){var o,l;for(l=[],i=0,o=this.length;i<o;i+=4)l.push(a.readUInt32());return l}).call(this)},r.prototype.indexOf=function(a){return this.offsets[a]},r.prototype.lengthOf=function(a){return this.offsets[a+1]-this.offsets[a]},r.prototype.encode=function(a,s){for(var i=new Uint32Array(this.offsets.length),o=0,l=0,c=0;c<i.length;++c)if(i[c]=o,l<s.length&&s[l]==c){++l,i[c]=o;var d=this.offsets[c],f=this.offsets[c+1]-d;f>0&&(o+=f)}for(var u=new Array(4*i.length),m=0;m<i.length;++m)u[4*m+3]=255&i[m],u[4*m+2]=(65280&i[m])>>8,u[4*m+1]=(16711680&i[m])>>16,u[4*m]=(4278190080&i[m])>>24;return u},r}(),dte=function(){function t(r){this.font=r,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var r,a,s,i,o;for(a in i=this.font.cmap.tables[0].codeMap,r={},o=this.subset)s=o[a],r[a]=i[s];return r},t.prototype.glyphsFor=function(r){var a,s,i,o,l,c,d;for(i={},l=0,c=r.length;l<c;l++)i[o=r[l]]=this.font.glyf.glyphFor(o);for(o in a=[],i)(s=i[o])!=null&&s.compound&&a.push.apply(a,s.glyphIDs);if(a.length>0)for(o in d=this.glyphsFor(a))s=d[o],i[o]=s;return i},t.prototype.encode=function(r,a){var s,i,o,l,c,d,f,u,m,p,g,v,y,b,j;for(i in s=ZM.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(r),g={0:0},j=s.charMap)g[(d=j[i]).old]=d.new;for(v in p=s.maxGlyphID,l)v in g||(g[v]=p++);return u=function(N){var S,B;for(S in B={},N)B[N[S]]=S;return B}(g),m=Object.keys(u).sort(function(N,S){return N-S}),y=function(){var N,S,B;for(B=[],N=0,S=m.length;N<S;N++)c=m[N],B.push(u[c]);return B}(),o=this.font.glyf.encode(l,y,g),f=this.font.loca.encode(o.offsets,y),b={cmap:this.font.cmap.raw(),glyf:o.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(a)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t}();Kr.API.PDFObject=function(){var t;function r(){}return t=function(a,s){return(Array(s+1).join("0")+a).slice(-s)},r.convert=function(a){var s,i,o,l;if(Array.isArray(a))return"["+function(){var c,d,f;for(f=[],c=0,d=a.length;c<d;c++)s=a[c],f.push(r.convert(s));return f}().join(" ")+"]";if(typeof a=="string")return"/"+a;if(a?.isString)return"("+a+")";if(a instanceof Date)return"(D:"+t(a.getUTCFullYear(),4)+t(a.getUTCMonth(),2)+t(a.getUTCDate(),2)+t(a.getUTCHours(),2)+t(a.getUTCMinutes(),2)+t(a.getUTCSeconds(),2)+"Z)";if({}.toString.call(a)==="[object Object]"){for(i in o=["<<"],a)l=a[i],o.push("/"+i+" "+r.convert(l));return o.push(">>"),o.join(`
`)}return""+a},r}();const ute=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:Hee,AcroFormAppearance:_r,AcroFormButton:wi,AcroFormCheckBox:_1,AcroFormChoiceField:P0,AcroFormComboBox:D0,AcroFormEditBox:I1,AcroFormListBox:O0,AcroFormPasswordField:P1,AcroFormPushButton:k1,AcroFormRadioButton:L0,AcroFormTextField:nm,GState:cy,ShadingPattern:Yh,TilingPattern:b0,default:Kr,jsPDF:Kr},Symbol.toStringTag,{value:"Module"}));function tU(t,r,a,s,i){s=s||{};var o=1.15,l=i.internal.scaleFactor,c=i.internal.getFontSize()/l,d=i.getLineHeightFactor?i.getLineHeightFactor():o,f=c*d,u=/\r\n|\r|\n/g,m="",p=1;if((s.valign==="middle"||s.valign==="bottom"||s.halign==="center"||s.halign==="right")&&(m=typeof t=="string"?t.split(u):t,p=m.length||1),a+=c*(2-o),s.valign==="middle"?a-=p/2*f:s.valign==="bottom"&&(a-=p*f),s.halign==="center"||s.halign==="right"){var g=c;if(s.halign==="center"&&(g*=.5),m&&p>=1){for(var v=0;v<m.length;v++)i.text(m[v],r-i.getStringUnitWidth(m[v])*g,a),a+=f;return i}r-=i.getStringUnitWidth(t)*g}return s.halign==="justify"?i.text(t,r,a,{maxWidth:s.maxWidth||100,align:"justify"}):i.text(t,r,a),i}var qI={},jg=function(){function t(r){this.jsPDFDocument=r,this.userStyles={textColor:r.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:r.internal.getFontSize(),fontStyle:r.internal.getFont().fontStyle,font:r.internal.getFont().fontName,lineWidth:r.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:r.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(r,a){a===void 0&&(a=null),a?a.__autoTableDocumentDefaults=r:qI=r},t.unifyColor=function(r){return Array.isArray(r)?r:typeof r=="number"?[r,r,r]:typeof r=="string"?[r]:null},t.prototype.applyStyles=function(r,a){var s,i,o;a===void 0&&(a=!1),r.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(r.fontStyle);var l=this.jsPDFDocument.internal.getFont(),c=l.fontStyle,d=l.fontName;if(r.font&&(d=r.font),r.fontStyle){c=r.fontStyle;var f=this.getFontList()[d];f&&f.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),c=f[0])}if(this.jsPDFDocument.setFont(d,c),r.fontSize&&this.jsPDFDocument.setFontSize(r.fontSize),!a){var u=t.unifyColor(r.fillColor);u&&(s=this.jsPDFDocument).setFillColor.apply(s,u),u=t.unifyColor(r.textColor),u&&(i=this.jsPDFDocument).setTextColor.apply(i,u),u=t.unifyColor(r.lineColor),u&&(o=this.jsPDFDocument).setDrawColor.apply(o,u),typeof r.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(r.lineWidth)}},t.prototype.splitTextToSize=function(r,a,s){return this.jsPDFDocument.splitTextToSize(r,a,s)},t.prototype.rect=function(r,a,s,i,o){return this.jsPDFDocument.rect(r,a,s,i,o)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(r){return this.jsPDFDocument.getTextWidth(r)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(r){this.jsPDFDocument.setPage(r)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return qI||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var r=this.jsPDFDocument.internal.pageSize;return r.width==null&&(r={width:r.getWidth(),height:r.getHeight()}),r},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var r=this.jsPDFDocument;return r.getLineHeightFactor?r.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(r){return r/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var r=this.jsPDFDocument.internal.getCurrentPageInfo();return r?r.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),SC=function(t,r){return SC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])},SC(t,r)};function rU(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");SC(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}var aU=function(t){rU(r,t);function r(a){var s=t.call(this)||this;return s._element=a,s}return r}(Array);function fte(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Ate(t){var r={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return r[t]}function E2(t,r,a){a.applyStyles(r,!0);var s=Array.isArray(t)?t:[t],i=s.map(function(o){return a.getTextWidth(o)}).reduce(function(o,l){return Math.max(o,l)},0);return i}function sU(t,r,a,s){var i=r.settings.tableLineWidth,o=r.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:o});var l=nU(i,!1);l&&t.rect(a.x,a.y,r.getWidth(t.pageSize().width),s.y-a.y,l)}function nU(t,r){var a=t>0,s=r||r===0;return a&&s?"DF":a?"S":s?"F":null}function n4(t,r){var a,s,i,o;if(t=t||r,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=r}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(a=t.left)!==null&&a!==void 0?a:r,top:(s=t.top)!==null&&s!==void 0?s:r,right:(i=t.right)!==null&&i!==void 0?i:r,bottom:(o=t.bottom)!==null&&o!==void 0?o:r}):(typeof t!="number"&&(t=r),{top:t,right:t,bottom:t,left:t})}function iU(t,r){var a=n4(r.settings.margin,0);return t.pageSize().width-(a.left+a.right)}function hte(t,r,a,s,i){var o={},l=1.3333333333333333,c=iN(r,function(S){return i.getComputedStyle(S).backgroundColor});c!=null&&(o.fillColor=c);var d=iN(r,function(S){return i.getComputedStyle(S).color});d!=null&&(o.textColor=d);var f=pte(s,a);f&&(o.cellPadding=f);var u="borderTopColor",m=l*a,p=s.borderTopWidth;if(s.borderBottomWidth===p&&s.borderRightWidth===p&&s.borderLeftWidth===p){var g=(parseFloat(p)||0)/m;g&&(o.lineWidth=g)}else o.lineWidth={top:(parseFloat(s.borderTopWidth)||0)/m,right:(parseFloat(s.borderRightWidth)||0)/m,bottom:(parseFloat(s.borderBottomWidth)||0)/m,left:(parseFloat(s.borderLeftWidth)||0)/m},o.lineWidth.top||(o.lineWidth.right?u="borderRightColor":o.lineWidth.bottom?u="borderBottomColor":o.lineWidth.left&&(u="borderLeftColor"));var v=iN(r,function(S){return i.getComputedStyle(S)[u]});v!=null&&(o.lineColor=v);var y=["left","right","center","justify"];y.indexOf(s.textAlign)!==-1&&(o.halign=s.textAlign),y=["middle","bottom","top"],y.indexOf(s.verticalAlign)!==-1&&(o.valign=s.verticalAlign);var b=parseInt(s.fontSize||"");isNaN(b)||(o.fontSize=b/l);var j=mte(s);j&&(o.fontStyle=j);var N=(s.fontFamily||"").toLowerCase();return t.indexOf(N)!==-1&&(o.font=N),o}function mte(t){var r="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(r="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(r+="italic"),r}function iN(t,r){var a=oU(t,r);if(!a)return null;var s=a.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!s||!Array.isArray(s))return null;var i=[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])],o=parseInt(s[4]);return o===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function oU(t,r){var a=r(t);return a==="rgba(0, 0, 0, 0)"||a==="transparent"||a==="initial"||a==="inherit"?t.parentElement==null?null:oU(t.parentElement,r):a}function pte(t,r){var a=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],s=96/(72/r),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/r/2,o=a.map(function(c){return parseInt(c||"0")/s}),l=n4(o,0);return i>l.top&&(l.top=i),i>l.bottom&&(l.bottom=i),l}function lU(t,r,a,s,i){var o,l;s===void 0&&(s=!1),i===void 0&&(i=!1);var c;typeof r=="string"?c=a.document.querySelector(r):c=r;var d=Object.keys(t.getFontList()),f=t.scaleFactor(),u=[],m=[],p=[];if(!c)return console.error("Html table could not be found with input: ",r),{head:u,body:m,foot:p};for(var g=0;g<c.rows.length;g++){var v=c.rows[g],y=(l=(o=v?.parentElement)===null||o===void 0?void 0:o.tagName)===null||l===void 0?void 0:l.toLowerCase(),b=gte(d,f,a,v,s,i);b&&(y==="thead"?u.push(b):y==="tfoot"?p.push(b):m.push(b))}return{head:u,body:m,foot:p}}function gte(t,r,a,s,i,o){for(var l=new aU(s),c=0;c<s.cells.length;c++){var d=s.cells[c],f=a.getComputedStyle(d);if(i||f.display!=="none"){var u=void 0;o&&(u=hte(t,d,r,f,a)),l.push({rowSpan:d.rowSpan,colSpan:d.colSpan,styles:u,_element:d,content:xte(d)})}}var m=a.getComputedStyle(s);if(l.length>0&&(i||m.display!=="none"))return l}function xte(t){var r=t.cloneNode(!0);return r.innerHTML=r.innerHTML.replace(/\n/g,"").replace(/ +/g," "),r.innerHTML=r.innerHTML.split(/<br.*?>/).map(function(a){return a.trim()}).join(`
`),r.innerText||r.textContent||""}function yte(t,r,a){for(var s=0,i=[t,r,a];s<i.length;s++){var o=i[s];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function CA(t,r,a,s,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),l=1;l<arguments.length;l++){var c=arguments[l];if(c!=null)for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(o[d]=c[d])}return o}function vte(t,r){var a=new jg(t),s=a.getDocumentOptions(),i=a.getGlobalOptions();yte(i,s,r);var o=CA({},i,s,r),l;typeof window<"u"&&(l=window);var c=bte(i,s,r),d=wte(i,s,r),f=jte(a,o),u=Ste(a,o,l);return{id:r.tableId,content:u,hooks:d,styles:c,settings:f}}function bte(t,r,a){for(var s={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(d){if(d==="columnStyles"){var f=t[d],u=r[d],m=a[d];s.columnStyles=CA({},f,u,m)}else{var p=[t,r,a],g=p.map(function(v){return v[d]||{}});s[d]=CA({},g[0],g[1],g[2])}},o=0,l=Object.keys(s);o<l.length;o++){var c=l[o];i(c)}return s}function wte(t,r,a){for(var s=[t,r,a],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,l=s;o<l.length;o++){var c=l[o];c.didParseCell&&i.didParseCell.push(c.didParseCell),c.willDrawCell&&i.willDrawCell.push(c.willDrawCell),c.didDrawCell&&i.didDrawCell.push(c.didDrawCell),c.willDrawPage&&i.willDrawPage.push(c.willDrawPage),c.didDrawPage&&i.didDrawPage.push(c.didDrawPage)}return i}function jte(t,r){var a,s,i,o,l,c,d,f,u,m,p,g,v=n4(r.margin,40/t.scaleFactor()),y=(a=Nte(t,r.startY))!==null&&a!==void 0?a:v.top,b;r.showFoot===!0?b="everyPage":r.showFoot===!1?b="never":b=(s=r.showFoot)!==null&&s!==void 0?s:"everyPage";var j;r.showHead===!0?j="everyPage":r.showHead===!1?j="never":j=(i=r.showHead)!==null&&i!==void 0?i:"everyPage";var N=(o=r.useCss)!==null&&o!==void 0?o:!1,S=r.theme||(N?"plain":"striped"),B=!!r.horizontalPageBreak,I=(l=r.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(c=r.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:N,theme:S,startY:y,margin:v,pageBreak:(d=r.pageBreak)!==null&&d!==void 0?d:"auto",rowPageBreak:(f=r.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(u=r.tableWidth)!==null&&u!==void 0?u:"auto",showHead:j,showFoot:b,tableLineWidth:(m=r.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(p=r.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:B,horizontalPageBreakRepeat:I,horizontalPageBreakBehaviour:(g=r.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function Nte(t,r){var a=t.getLastAutoTable(),s=t.scaleFactor(),i=t.pageNumber(),o=!1;if(a&&a.startPageNumber){var l=a.startPageNumber+a.pageNumber-1;o=l===i}return typeof r=="number"?r:(r==null||r===!1)&&o&&a?.finalY!=null?a.finalY+20/s:null}function Ste(t,r,a){var s=r.head||[],i=r.body||[],o=r.foot||[];if(r.html){var l=r.includeHiddenHtml;if(a){var c=lU(t,r.html,a,l,r.useCss)||{};s=c.head||s,i=c.body||s,o=c.foot||s}else console.error("Cannot parse html in non browser environment")}var d=r.columns||Cte(s,i,o);return{columns:d,head:s,body:i,foot:o}}function Cte(t,r,a){var s=t[0]||r[0]||a[0]||[],i=[];return Object.keys(s).filter(function(o){return o!=="_element"}).forEach(function(o){var l=1,c;Array.isArray(s)?c=s[parseInt(o)]:c=s[o],typeof c=="object"&&!Array.isArray(c)&&(l=c?.colSpan||1);for(var d=0;d<l;d++){var f=void 0;Array.isArray(s)?f=i.length:f=o+(d>0?"_".concat(d):"");var u={dataKey:f};i.push(u)}}),i}var CC=function(){function t(r,a,s){this.table=a,this.pageNumber=a.pageNumber,this.settings=a.settings,this.cursor=s,this.doc=r.getDocument()}return t}(),Bte=function(t){rU(r,t);function r(a,s,i,o,l,c){var d=t.call(this,a,s,c)||this;return d.cell=i,d.row=o,d.column=l,d.section=o.section,d}return r}(CC),Ete=function(){function t(r,a){this.pageNumber=1,this.id=r.id,this.settings=r.settings,this.styles=r.styles,this.hooks=r.hooks,this.columns=a.columns,this.head=a.head,this.body=a.body,this.foot=a.foot}return t.prototype.getHeadHeight=function(r){return this.head.reduce(function(a,s){return a+s.getMaxCellHeight(r)},0)},t.prototype.getFootHeight=function(r){return this.foot.reduce(function(a,s){return a+s.getMaxCellHeight(r)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(r,a,s,i,o,l){for(var c=0,d=a;c<d.length;c++){var f=d[c],u=new Bte(r,this,s,i,o,l),m=f(u)===!1;if(s.text=Array.isArray(s.text)?s.text:[s.text],m)return!1}return!0},t.prototype.callEndPageHooks=function(r,a){r.applyStyles(r.userStyles);for(var s=0,i=this.hooks.didDrawPage;s<i.length;s++){var o=i[s];o(new CC(r,this,a))}},t.prototype.callWillDrawPageHooks=function(r,a){for(var s=0,i=this.hooks.willDrawPage;s<i.length;s++){var o=i[s];o(new CC(r,this,a))}},t.prototype.getWidth=function(r){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var a=this.columns.reduce(function(i,o){return i+o.wrappedWidth},0);return a}else{var s=this.settings.margin;return r-s.left-s.right}},t}(),cU=function(){function t(r,a,s,i,o){o===void 0&&(o=!1),this.height=0,this.raw=r,r instanceof aU&&(this.raw=r._element,this.element=r._element),this.index=a,this.section=s,this.cells=i,this.spansMultiplePages=o}return t.prototype.getMaxCellHeight=function(r){var a=this;return r.reduce(function(s,i){var o;return Math.max(s,((o=a.cells[i.index])===null||o===void 0?void 0:o.height)||0)},0)},t.prototype.hasRowSpan=function(r){var a=this;return r.filter(function(s){var i=a.cells[s.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(r,a){return this.getMaxCellHeight(a)<=r},t.prototype.getMinimumRowHeight=function(r,a){var s=this;return r.reduce(function(i,o){var l=s.cells[o.index];if(!l)return 0;var c=a.getLineHeight(l.styles.fontSize),d=l.padding("vertical"),f=d+c;return f>i?f:i},0)},t}(),dU=function(){function t(r,a,s){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=a,this.section=s,this.raw=r;var o=r;r!=null&&typeof r=="object"&&!Array.isArray(r)?(this.rowSpan=r.rowSpan||1,this.colSpan=r.colSpan||1,o=(i=r.content)!==null&&i!==void 0?i:r,r._element&&(this.raw=r._element)):(this.rowSpan=1,this.colSpan=1);var l=o!=null?""+o:"",c=/\r\n|\r|\n/g;this.text=l.split(c)}return t.prototype.getTextPos=function(){var r;if(this.styles.valign==="top")r=this.y+this.padding("top");else if(this.styles.valign==="bottom")r=this.y+this.height-this.padding("bottom");else{var a=this.height-this.padding("vertical");r=this.y+a/2+this.padding("top")}var s;if(this.styles.halign==="right")s=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");s=this.x+i/2+this.padding("left")}else s=this.x+this.padding("left");return{x:s,y:r}},t.prototype.getContentHeight=function(r,a){a===void 0&&(a=1.15);var s=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/r*a,o=s*i+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},t.prototype.padding=function(r){var a=n4(this.styles.cellPadding,0);return r==="vertical"?a.top+a.bottom:r==="horizontal"?a.left+a.right:a[r]},t}(),Tte=function(){function t(r,a,s){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=r,this.raw=a,this.index=s}return t.prototype.getMaxCustomCellWidth=function(r){for(var a=0,s=0,i=r.allRows();s<i.length;s++){var o=i[s],l=o.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(a=Math.max(a,l.styles.cellWidth))}return a},t}();function Fte(t,r){Ite(t,r);var a=[],s=0;r.columns.forEach(function(o){var l=o.getMaxCustomCellWidth(r);l?o.width=l:(o.width=o.wrappedWidth,a.push(o)),s+=o.width});var i=r.getWidth(t.pageSize().width)-s;i&&(i=BC(a,i,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),i&&(i=BC(a,i,function(o){return o.minWidth})),i=Math.abs(i),!r.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),_te(r),Pte(r,t),kte(r)}function Ite(t,r){var a=t.scaleFactor(),s=r.settings.horizontalPageBreak,i=iU(t,r);r.allRows().forEach(function(o){for(var l=0,c=r.columns;l<c.length;l++){var d=c[l],f=o.cells[d.index];if(f){var u=r.hooks.didParseCell;r.callCellHooks(t,u,f,o,d,null);var m=f.padding("horizontal");f.contentWidth=E2(f.text,f.styles,t)+m;var p=E2(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,t);if(f.minReadableWidth=p+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||s===!0)f.contentWidth>i?(f.minWidth=i,f.wrappedWidth=i):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var g=10/a;f.minWidth=f.styles.minCellWidth||g,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),r.allRows().forEach(function(o){for(var l=0,c=r.columns;l<c.length;l++){var d=c[l],f=o.cells[d.index];if(f&&f.colSpan===1)d.wrappedWidth=Math.max(d.wrappedWidth,f.wrappedWidth),d.minWidth=Math.max(d.minWidth,f.minWidth),d.minReadableWidth=Math.max(d.minReadableWidth,f.minReadableWidth);else{var u=r.styles.columnStyles[d.dataKey]||r.styles.columnStyles[d.index]||{},m=u.cellWidth||u.minCellWidth;m&&typeof m=="number"&&(d.minWidth=m,d.wrappedWidth=m)}f&&(f.colSpan>1&&!d.minWidth&&(d.minWidth=f.minWidth),f.colSpan>1&&!d.wrappedWidth&&(d.wrappedWidth=f.minWidth))}})}function BC(t,r,a){for(var s=r,i=t.reduce(function(g,v){return g+v.wrappedWidth},0),o=0;o<t.length;o++){var l=t[o],c=l.wrappedWidth/i,d=s*c,f=l.width+d,u=a(l),m=f<u?u:f;r-=m-l.width,l.width=m}if(r=Math.round(r*1e10)/1e10,r){var p=t.filter(function(g){return r<0?g.width>a(g):!0});p.length&&(r=BC(p,r,a))}return r}function kte(t){for(var r={},a=1,s=t.allRows(),i=0;i<s.length;i++)for(var o=s[i],l=0,c=t.columns;l<c.length;l++){var d=c[l],f=r[d.index];if(a>1)a--,delete o.cells[d.index];else if(f)f.cell.height+=o.height,a=f.cell.colSpan,delete o.cells[d.index],f.left--,f.left<=1&&delete r[d.index];else{var u=o.cells[d.index];if(!u)continue;if(u.height=o.height,u.rowSpan>1){var m=s.length-i,p=u.rowSpan>m?m:u.rowSpan;r[d.index]={cell:u,left:p,row:o}}}}}function _te(t){for(var r=t.allRows(),a=0;a<r.length;a++)for(var s=r[a],i=null,o=0,l=0,c=0;c<t.columns.length;c++){var d=t.columns[c];if(l-=1,l>1&&t.columns[c+1])o+=d.width,delete s.cells[d.index];else if(i){var f=i;delete s.cells[d.index],i=null,f.width=d.width+o}else{var f=s.cells[d.index];if(!f)continue;if(l=f.colSpan,o=0,f.colSpan>1){i=f,o+=d.width;continue}f.width=d.width+o}}}function Pte(t,r){for(var a={count:0,height:0},s=0,i=t.allRows();s<i.length;s++){for(var o=i[s],l=0,c=t.columns;l<c.length;l++){var d=c[l],f=o.cells[d.index];if(f){r.applyStyles(f.styles,!0);var u=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=r.splitTextToSize(f.text,u+1/r.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=YI(f.text,u,f.styles,r,"...");else if(f.styles.overflow==="hidden")f.text=YI(f.text,u,f.styles,r,"");else if(typeof f.styles.overflow=="function"){var m=f.styles.overflow(f.text,u);typeof m=="string"?f.text=[m]:f.text=m}f.contentHeight=f.getContentHeight(r.scaleFactor(),r.getLineHeightFactor());var p=f.contentHeight/f.rowSpan;f.rowSpan>1&&a.count*a.height<p*f.rowSpan?a={height:p,count:f.rowSpan}:a&&a.count>0&&a.height>p&&(p=a.height),p>o.height&&(o.height=p)}}a.count--}}function YI(t,r,a,s,i){return t.map(function(o){return Ote(o,r,a,s,i)})}function Ote(t,r,a,s,i){var o=1e4*s.scaleFactor();if(r=Math.ceil(r*o)/o,r>=E2(t,a,s))return t;for(;r<E2(t+i,a,s)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function Dte(t,r){var a=new jg(t),s=Lte(r,a.scaleFactor()),i=new Ete(r,s);return Fte(a,i),a.applyStyles(a.userStyles),i}function Lte(t,r){var a=t.content,s=Ute(a.columns);if(a.head.length===0){var i=XI(s,"head");i&&a.head.push(i)}if(a.foot.length===0){var i=XI(s,"foot");i&&a.foot.push(i)}var o=t.settings.theme,l=t.styles;return{columns:s,head:oN("head",a.head,s,l,o,r),body:oN("body",a.body,s,l,o,r),foot:oN("foot",a.foot,s,l,o,r)}}function oN(t,r,a,s,i,o){var l={},c=r.map(function(d,f){for(var u=0,m={},p=0,g=0,v=0,y=a;v<y.length;v++){var b=y[v];if(l[b.index]==null||l[b.index].left===0)if(g===0){var j=void 0;Array.isArray(d)?j=d[b.index-p-u]:j=d[b.dataKey];var N={};typeof j=="object"&&!Array.isArray(j)&&(N=j?.styles||{});var S=Rte(t,b,f,i,s,o,N),B=new dU(j,S,t);m[b.dataKey]=B,m[b.index]=B,g=B.colSpan-1,l[b.index]={left:B.rowSpan-1,times:g}}else g--,p++;else l[b.index].left--,g=l[b.index].times,u++}return new cU(d,f,t,m)});return c}function XI(t,r){var a={};return t.forEach(function(s){if(s.raw!=null){var i=Mte(r,s.raw);i!=null&&(a[s.dataKey]=i)}}),Object.keys(a).length>0?a:null}function Mte(t,r){if(t==="head"){if(typeof r=="object")return r.header||null;if(typeof r=="string"||typeof r=="number")return r}else if(t==="foot"&&typeof r=="object")return r.footer;return null}function Ute(t){return t.map(function(r,a){var s,i;return typeof r=="object"?i=(s=r.dataKey)!==null&&s!==void 0?s:a:i=a,new Tte(i,r,a)})}function Rte(t,r,a,s,i,o,l){var c=Ate(s),d;t==="head"?d=i.headStyles:t==="body"?d=i.bodyStyles:t==="foot"&&(d=i.footStyles);var f=CA({},c.table,c[t],i.styles,d),u=i.columnStyles[r.dataKey]||i.columnStyles[r.index]||{},m=t==="body"?u:{},p=t==="body"&&a%2===0?CA({},c.alternateRow,i.alternateRowStyles):{},g=fte(o),v=CA({},g,f,p,m);return CA(v,l)}function Qte(t,r,a){var s;a===void 0&&(a={});var i=iU(t,r),o=new Map,l=[],c=[],d=[];Array.isArray(r.settings.horizontalPageBreakRepeat)?d=r.settings.horizontalPageBreakRepeat:(typeof r.settings.horizontalPageBreakRepeat=="string"||typeof r.settings.horizontalPageBreakRepeat=="number")&&(d=[r.settings.horizontalPageBreakRepeat]),d.forEach(function(p){var g=r.columns.find(function(v){return v.dataKey===p||v.index===p});g&&!o.has(g.index)&&(o.set(g.index,!0),l.push(g.index),c.push(r.columns[g.index]),i-=g.wrappedWidth)});for(var f=!0,u=(s=a?.start)!==null&&s!==void 0?s:0;u<r.columns.length;){if(o.has(u)){u++;continue}var m=r.columns[u].wrappedWidth;if(f||i>=m)f=!1,l.push(u),c.push(r.columns[u]),i-=m;else break;u++}return{colIndexes:l,columns:c,lastIndex:u-1}}function Hte(t,r){for(var a=[],s=0;s<r.columns.length;s++){var i=Qte(t,r,{start:s});i.columns.length&&(a.push(i),s=i.lastIndex)}return a}function $te(t,r){var a=r.settings,s=a.startY,i=a.margin,o={x:i.left,y:s},l=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns),c=s+i.bottom+l;if(a.pageBreak==="avoid"){var d=r.body,f=d.reduce(function(p,g){return p+g.height},0);c+=f}var u=new jg(t);(a.pageBreak==="always"||a.startY!=null&&c>u.pageSize().height)&&(fU(u),o.y=i.top),r.callWillDrawPageHooks(u,o);var m=CA({},o);r.startPageNumber=u.pageNumber(),a.horizontalPageBreak?zte(u,r,m,o):(u.applyStyles(u.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&r.head.forEach(function(p){return RA(u,r,p,o,r.columns)}),u.applyStyles(u.userStyles),r.body.forEach(function(p,g){var v=g===r.body.length-1;T2(u,r,p,v,m,o,r.columns)}),u.applyStyles(u.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&r.foot.forEach(function(p){return RA(u,r,p,o,r.columns)})),sU(u,r,m,o),r.callEndPageHooks(u,o),r.finalY=o.y,t.lastAutoTable=r,u.applyStyles(u.userStyles)}function zte(t,r,a,s){var i=Hte(t,r),o=r.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(f,u){t.applyStyles(t.userStyles),u>0?O1(t,r,a,s,f.columns,!0):JI(t,r,s,f.columns),Vte(t,r,a,s,f.columns),lN(t,r,s,f.columns)});else for(var l=-1,c=i[0],d=function(){var f=l;if(c){t.applyStyles(t.userStyles);var u=c.columns;l>=0?O1(t,r,a,s,u,!0):JI(t,r,s,u),f=ZI(t,r,l+1,s,u),lN(t,r,s,u)}var m=f-l;i.slice(1).forEach(function(p){t.applyStyles(t.userStyles),O1(t,r,a,s,p.columns,!0),ZI(t,r,l+1,s,p.columns,m),lN(t,r,s,p.columns)}),l=f};l<r.body.length-1;)d()}function JI(t,r,a,s){var i=r.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&r.head.forEach(function(o){return RA(t,r,o,a,s)})}function Vte(t,r,a,s,i){t.applyStyles(t.userStyles),r.body.forEach(function(o,l){var c=l===r.body.length-1;T2(t,r,o,c,a,s,i)})}function ZI(t,r,a,s,i,o){t.applyStyles(t.userStyles),o=o??r.body.length;var l=Math.min(a+o,r.body.length),c=-1;return r.body.slice(a,l).forEach(function(d,f){var u=a+f===r.body.length-1,m=uU(t,r,u,s);d.canEntireRowFit(m,i)&&(RA(t,r,d,s,i),c=a+f)}),c}function lN(t,r,a,s){var i=r.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&r.foot.forEach(function(o){return RA(t,r,o,a,s)})}function Kte(t,r,a){var s=a.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),o=Math.floor((r-i)/s);return Math.max(0,o)}function Gte(t,r,a,s){var i={};t.spansMultiplePages=!0,t.height=0;for(var o=0,l=0,c=a.columns;l<c.length;l++){var d=c[l],f=t.cells[d.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var u=new dU(f.raw,f.styles,f.section);u=CA(u,f),u.text=[];var m=Kte(f,r,s);f.text.length>m&&(u.text=f.text.splice(m,f.text.length));var p=s.scaleFactor(),g=s.getLineHeightFactor();f.contentHeight=f.getContentHeight(p,g),f.contentHeight>=r&&(f.contentHeight=r,u.styles.minCellHeight-=r),f.contentHeight>t.height&&(t.height=f.contentHeight),u.contentHeight=u.getContentHeight(p,g),u.contentHeight>o&&(o=u.contentHeight),i[d.index]=u}}var v=new cU(t.raw,-1,t.section,i,!0);v.height=o;for(var y=0,b=a.columns;y<b.length;y++){var d=b[y],u=v.cells[d.index];u&&(u.height=v.height);var f=t.cells[d.index];f&&(f.height=t.height)}return v}function Wte(t,r,a,s){var i=t.pageSize().height,o=s.settings.margin,l=o.top+o.bottom,c=i-l;r.section==="body"&&(c-=s.getHeadHeight(s.columns)+s.getFootHeight(s.columns));var d=r.getMinimumRowHeight(s.columns,t),f=d<a;if(d>c)return console.error("Will not be able to print row ".concat(r.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var u=r.hasRowSpan(s.columns),m=r.getMaxCellHeight(s.columns)>c;return m?(u&&console.error("The content of row ".concat(r.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||s.settings.rowPageBreak==="avoid")}function T2(t,r,a,s,i,o,l){var c=uU(t,r,s,o);if(a.canEntireRowFit(c,l))RA(t,r,a,o,l);else if(Wte(t,a,c,r)){var d=Gte(a,c,r,t);RA(t,r,a,o,l),O1(t,r,i,o,l),T2(t,r,d,s,i,o,l)}else O1(t,r,i,o,l),T2(t,r,a,s,i,o,l)}function RA(t,r,a,s,i){s.x=r.settings.margin.left;for(var o=0,l=i;o<l.length;o++){var c=l[o],d=a.cells[c.index];if(!d){s.x+=c.width;continue}t.applyStyles(d.styles),d.x=s.x,d.y=s.y;var f=r.callCellHooks(t,r.hooks.willDrawCell,d,a,c,s);if(f===!1){s.x+=c.width;continue}qte(t,d,s);var u=d.getTextPos();tU(d.text,u.x,u.y,{halign:d.styles.halign,valign:d.styles.valign,maxWidth:Math.ceil(d.width-d.padding("left")-d.padding("right"))},t.getDocument()),r.callCellHooks(t,r.hooks.didDrawCell,d,a,c,s),s.x+=c.width}s.y+=a.height}function qte(t,r,a){var s=r.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof s.lineWidth=="number"){var i=nU(s.lineWidth,s.fillColor);i&&t.rect(r.x,a.y,r.width,r.height,i)}else typeof s.lineWidth=="object"&&(s.fillColor&&t.rect(r.x,a.y,r.width,r.height,"F"),Yte(t,r,a,s.lineWidth))}function Yte(t,r,a,s){var i,o,l,c;s.top&&(i=a.x,o=a.y,l=a.x+r.width,c=a.y,s.right&&(l+=.5*s.right),s.left&&(i-=.5*s.left),d(s.top,i,o,l,c)),s.bottom&&(i=a.x,o=a.y+r.height,l=a.x+r.width,c=a.y+r.height,s.right&&(l+=.5*s.right),s.left&&(i-=.5*s.left),d(s.bottom,i,o,l,c)),s.left&&(i=a.x,o=a.y,l=a.x,c=a.y+r.height,s.top&&(o-=.5*s.top),s.bottom&&(c+=.5*s.bottom),d(s.left,i,o,l,c)),s.right&&(i=a.x+r.width,o=a.y,l=a.x+r.width,c=a.y+r.height,s.top&&(o-=.5*s.top),s.bottom&&(c+=.5*s.bottom),d(s.right,i,o,l,c));function d(f,u,m,p,g){t.getDocument().setLineWidth(f),t.getDocument().line(u,m,p,g,"S")}}function uU(t,r,a,s){var i=r.settings.margin.bottom,o=r.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&a)&&(i+=r.getFootHeight(r.columns)),t.pageSize().height-s.y-i}function O1(t,r,a,s,i,o){i===void 0&&(i=[]),o===void 0&&(o=!1),t.applyStyles(t.userStyles),r.settings.showFoot==="everyPage"&&!o&&r.foot.forEach(function(c){return RA(t,r,c,s,i)}),r.callEndPageHooks(t,s);var l=r.settings.margin;sU(t,r,a,s),fU(t),r.pageNumber++,s.x=l.left,s.y=l.top,a.y=l.top,r.callWillDrawPageHooks(t,s),r.settings.showHead==="everyPage"&&(r.head.forEach(function(c){return RA(t,r,c,s,i)}),t.applyStyles(t.userStyles))}function fU(t){var r=t.pageNumber();t.setPage(r+1);var a=t.pageNumber();return a===r?(t.addPage(),!0):!1}function AU(t){t.API.autoTable=function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var s=r[0],i=vte(this,s),o=Dte(this,i);return $te(this,o),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(r,a,s,i){tU(r,a,s,i,this)},t.API.autoTableSetDefaults=function(r){return jg.setDefaults(r,this),this},t.autoTableSetDefaults=function(r,a){jg.setDefaults(r,a)},t.API.autoTableHtmlToJson=function(r,a){var s;if(a===void 0&&(a=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new jg(this),o=lU(i,r,window,a,!1),l=o.head,c=o.body,d=((s=l[0])===null||s===void 0?void 0:s.map(function(f){return f.content}))||[];return{columns:d,rows:c,data:c}}}var cN;try{if(typeof window<"u"&&window){var ek=window,tk=ek.jsPDF||((cN=ek.jspdf)===null||cN===void 0?void 0:cN.jsPDF);tk&&AU(tk)}}catch(t){console.error("Could not apply autoTable plugin",t)}var dN,rk;function hU(){if(rk)return dN;rk=1;function t(r){var a=typeof r;return r!=null&&(a=="object"||a=="function")}return dN=t,dN}var uN,ak;function Xte(){if(ak)return uN;ak=1;var t=typeof Jh=="object"&&Jh&&Jh.Object===Object&&Jh;return uN=t,uN}var fN,sk;function mU(){if(sk)return fN;sk=1;var t=Xte(),r=typeof self=="object"&&self&&self.Object===Object&&self,a=t||r||Function("return this")();return fN=a,fN}var AN,nk;function Jte(){if(nk)return AN;nk=1;var t=mU(),r=function(){return t.Date.now()};return AN=r,AN}var hN,ik;function Zte(){if(ik)return hN;ik=1;var t=/\s/;function r(a){for(var s=a.length;s--&&t.test(a.charAt(s)););return s}return hN=r,hN}var mN,ok;function ere(){if(ok)return mN;ok=1;var t=Zte(),r=/^\s+/;function a(s){return s&&s.slice(0,t(s)+1).replace(r,"")}return mN=a,mN}var pN,lk;function pU(){if(lk)return pN;lk=1;var t=mU(),r=t.Symbol;return pN=r,pN}var gN,ck;function tre(){if(ck)return gN;ck=1;var t=pU(),r=Object.prototype,a=r.hasOwnProperty,s=r.toString,i=t?t.toStringTag:void 0;function o(l){var c=a.call(l,i),d=l[i];try{l[i]=void 0;var f=!0}catch{}var u=s.call(l);return f&&(c?l[i]=d:delete l[i]),u}return gN=o,gN}var xN,dk;function rre(){if(dk)return xN;dk=1;var t=Object.prototype,r=t.toString;function a(s){return r.call(s)}return xN=a,xN}var yN,uk;function are(){if(uk)return yN;uk=1;var t=pU(),r=tre(),a=rre(),s="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function l(c){return c==null?c===void 0?i:s:o&&o in Object(c)?r(c):a(c)}return yN=l,yN}var vN,fk;function sre(){if(fk)return vN;fk=1;function t(r){return r!=null&&typeof r=="object"}return vN=t,vN}var bN,Ak;function nre(){if(Ak)return bN;Ak=1;var t=are(),r=sre(),a="[object Symbol]";function s(i){return typeof i=="symbol"||r(i)&&t(i)==a}return bN=s,bN}var wN,hk;function ire(){if(hk)return wN;hk=1;var t=ere(),r=hU(),a=nre(),s=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function d(f){if(typeof f=="number")return f;if(a(f))return s;if(r(f)){var u=typeof f.valueOf=="function"?f.valueOf():f;f=r(u)?u+"":u}if(typeof f!="string")return f===0?f:+f;f=t(f);var m=o.test(f);return m||l.test(f)?c(f.slice(2),m?2:8):i.test(f)?s:+f}return wN=d,wN}var jN,mk;function ore(){if(mk)return jN;mk=1;var t=hU(),r=Jte(),a=ire(),s="Expected a function",i=Math.max,o=Math.min;function l(c,d,f){var u,m,p,g,v,y,b=0,j=!1,N=!1,S=!0;if(typeof c!="function")throw new TypeError(s);d=a(d)||0,t(f)&&(j=!!f.leading,N="maxWait"in f,p=N?i(a(f.maxWait)||0,d):p,S="trailing"in f?!!f.trailing:S);function B(K){var q=u,re=m;return u=m=void 0,b=K,g=c.apply(re,q),g}function I(K){return b=K,v=setTimeout(k,d),j?B(K):g}function F(K){var q=K-y,re=K-b,ee=d-q;return N?o(ee,p-re):ee}function O(K){var q=K-y,re=K-b;return y===void 0||q>=d||q<0||N&&re>=p}function k(){var K=r();if(O(K))return V(K);v=setTimeout(k,F(K))}function V(K){return v=void 0,S&&u?B(K):(u=m=void 0,g)}function Q(){v!==void 0&&clearTimeout(v),b=0,u=y=m=v=void 0}function H(){return v===void 0?g:V(r())}function M(){var K=r(),q=O(K);if(u=arguments,m=this,y=K,q){if(v===void 0)return I(y);if(N)return clearTimeout(v),v=setTimeout(k,d),B(y)}return v===void 0&&(v=setTimeout(k,d)),g}return M.cancel=Q,M.flush=H,M}return jN=l,jN}var lre=ore();const gU=Tc(lre),cre=()=>{const[t,r]=w.useState(""),[a,s]=w.useState("Unknown School"),[i,o]=w.useState([]),[l,c]=w.useState(!0),[d,f]=w.useState([]),[u,m]=w.useState(!0),[p,g]=w.useState(""),[v,y]=w.useState([]),[b,j]=w.useState(!0),[N,S]=w.useState(""),[B,I]=w.useState(!1),[F,O]=w.useState(!1),[k,V]=w.useState(null),[Q,H]=w.useState(null),[M,K]=w.useState(""),[q,re]=w.useState("all"),[ee,le]=w.useState(""),[Ae,ue]=w.useState(""),[se,ve]=w.useState(!1),[_,z]=w.useState(""),[ae,oe]=w.useState([]),[ce,me]=w.useState(1),[he]=w.useState(10),[te,J]=w.useState(1),[X,xe]=w.useState("#2563eb"),Ne="https://vidyaastra.com/api",ge=(He,ct)=>{if(!He||!ct)return"";try{const[ft,Wt]=He.split(":").map(Number),[gr,Fr]=ct.split(":").map(Number),Ta=new Date(0,0,0,ft,Wt);let at=(new Date(0,0,0,gr,Fr)-Ta)/6e4;at<0&&(at+=1440);const Ht=Math.floor(at/60),Gt=at%60;return`${Ht}h ${Gt}m`}catch(ft){return console.error("Error calculating duration:",ft),""}};w.useEffect(()=>{try{const He=localStorage.getItem("schoolId")||"688dfdc93af0f78ebd4b044a",ct=localStorage.getItem("color");He&&(r(He),xe(ct||"#2563eb"))}catch(He){console.error("Error accessing localStorage:",He),z("Failed to initialize: "+He.message)}},[]),w.useEffect(()=>{t&&(pe(),Y(),Le(),Ce())},[t,ce,ee,Ae,q]);const pe=async()=>{try{c(!0);const He=await It.get(`${Ne}/schools`);if(He.data.success&&Array.isArray(He.data.data)){o(He.data.data);const ct=He.data.data.find(ft=>ft._id===t);s(ct?.name||"Unknown School")}else o([]),s("Unknown School")}catch(He){console.error("Error fetching schools:",He.message),s("Unknown School"),z("Failed to load schools: "+He.message)}finally{c(!1)}},Y=async()=>{if(t)try{m(!0);const He=await It.get(`${Ne}/class?schoolId=${t}`);He.data.success&&Array.isArray(He.data.data)?(f(He.data.data),g("")):(f([]),g("No classes found"))}catch(He){console.error("Error fetching classes:",He.message),f([]),g("Failed to load classes: "+He.message)}finally{m(!1)}},Le=async()=>{if(t)try{j(!0);const He=await It.get(`${Ne}/subject/${t}/subjects`);He.data.success&&Array.isArray(He.data.data)?(y(He.data.data),S("")):(y([]),S("No subjects found"))}catch(He){console.error("Error fetching subjects:",He.message),y([]),S("Failed to load subjects: "+He.message)}finally{j(!1)}},ie=w.useMemo(()=>d.map(He=>({_id:He._id,className:He.className||`Class ${He.classNumber||He._id}`,section:He.section||"",displayName:`${He.className||`Class ${He.classNumber||He._id}`}${He.section?` ${He.section}`:""}`.trim()})),[d]),de=w.useMemo(()=>[...new Set(ie.map(He=>He.className))].sort(),[ie]),je=w.useMemo(()=>[...new Set(ie.filter(He=>He.className===ee).map(He=>He.section).filter(Boolean))].sort(),[ie,ee]),ye=w.useMemo(()=>v.map(He=>({_id:He._id,name:He.SubjectName||He.name||He.subjectName||"Unnamed Subject"})),[v]),Ce=w.useCallback(gU(async()=>{if(t)try{ve(!0);const He=new URLSearchParams({schoolId:t,page:ce,limit:he});if(ee){const ft=ie.filter(Wt=>Wt.className===ee&&(!Ae||Wt.section===Ae)).map(Wt=>Wt._id);ft.length>0&&He.append("classIds",ft.join(","))}q!=="all"&&He.append("examType",q);const ct=await It.get(`${Ne}/exams?${He.toString()}`);ct.data.success?(oe(ct.data.data||[]),J(ct.data.totalPages||1),z("")):(oe([]),J(1),z(ct.data.message||"Failed to fetch exams"))}catch(He){console.error("Error fetching exams:",He.message),oe([]),J(1),z("Error fetching exams: "+He.message)}finally{ve(!1)}},300),[t,ce,he,ee,Ae,q,ie]),[be,Ee]=w.useState({examType:"",status:"Scheduled",classId:"",subjects:[]}),Qe=He=>{He.preventDefault();const{name:ct,value:ft}=He.target;Ee(Wt=>({...Wt,[ct]:ft}))},rt=(He,ct,ft)=>{Ee(Wt=>{const gr=[...Wt.subjects];if(gr[He]={...gr[He],[ct]:ft},ct==="startTime"||ct==="endTime"){const Fr=ct==="startTime"?ft:gr[He].startTime,Ta=ct==="endTime"?ft:gr[He].endTime;gr[He].duration=ge(Fr,Ta)}return{...Wt,subjects:gr}})},Te=()=>{Ee(He=>({...He,subjects:[...He.subjects,{subjectName:"",date:"",startTime:"",endTime:"",duration:"",syllabus:""}]}))},nt=He=>{Ee(ct=>({...ct,subjects:ct.subjects.filter((ft,Wt)=>Wt!==He)}))},xt=async()=>{if(!t){nr.error("Error: School ID not found. Please login again.");return}z("");try{if(!be.examType||!be.classId||be.subjects.length===0||be.subjects.some(ft=>!ft.subjectName||!ft.date||!ft.startTime||!ft.endTime||!ft.syllabus)){nr.error("Please fill all required fields: exam type, class, and at least one subject with subject name, date, start time, end time, and syllabus.");return}const He={schoolId:t,classId:be.classId,examType:be.examType,status:be.status,subjects:be.subjects.map(ft=>({subjectName:ft.subjectName,date:ft.date,startTime:ft.startTime,endTime:ft.endTime,duration:ft.duration,syllabus:ft.syllabus}))};(Q?await _e(Q._id,He):await it(He))&&_t()}catch(He){console.error("Submit error:",He),z("Failed to submit: "+He.message),nr.error("Failed to submit: "+He.message)}},it=async He=>{try{ve(!0);const ct=await It.post(`${Ne}/exams`,He);return ct.data.success?(nr.success("Exam created successfully."),await Ce(),!0):(z(ct.data.message||"Failed to create exam"),nr.error(ct.data.message||"Failed to create exam"),!1)}catch(ct){return z("Error creating exam: "+ct.message),nr.error("Error creating exam: "+ct.message),!1}finally{ve(!1)}},_e=async(He,ct)=>{try{ve(!0);const ft=await It.put(`${Ne}/exams/${He}`,ct);return ft.data.success?(nr.success("Exam updated successfully."),await Ce(),!0):(z(ft.data.message||"Failed to update exam"),nr.error(ft.data.message||"Failed to update exam"),!1)}catch(ft){return z("Error updating exam: "+ft.message),nr.error("Error updating exam: "+ft.message),!1}finally{ve(!1)}},dt=He=>{H(He),Ee({examType:He.examType||"",status:He.status||"Scheduled",classId:He.classId?._id||He.classId||"",subjects:He.subjects?He.subjects.map(ct=>({subjectName:ct.subjectName||"",date:ct.date||"",startTime:ct.startTime||"",endTime:ct.endTime||"",duration:ct.duration||ge(ct.startTime,ct.endTime),syllabus:ct.syllabus||""})):[]}),I(!0)},yt=He=>{V(He),O(!0)},rr=async He=>{if(confirm("Are you sure you want to delete this exam?"))try{ve(!0);const ct=await It.delete(`${Ne}/exams/${He._id}`,{data:{schoolId:t}});ct.data.success?(nr.success("Exam deleted successfully."),await Ce()):(z(ct.data.message||"Failed to delete exam"),nr.error(ct.data.message||"Failed to delete exam"))}catch(ct){z("Error deleting exam: "+ct.message),nr.error("Error deleting exam: "+ct.message)}finally{ve(!1)}},_t=()=>{Ee({examType:"",status:"Scheduled",classId:"",subjects:[]}),H(null),I(!1),z("")},Ve=He=>{const ct=new Kr,ft=Se(He.classId);ct.text(`${a} - ${He.examType} Timetable for ${ft}`,14,20),ct.autoTable({startY:30,head:[["Subject","Date","Start Time","End Time","Duration","Syllabus"]],body:He.subjects.map(Wt=>[Wt.subjectName||"N/A",Wt.date||"N/A",Wt.startTime||"N/A",Wt.endTime||"N/A",Wt.duration||"N/A",Wt.syllabus||"N/A"]),theme:"striped",headStyles:{fillColor:[37,99,235]},styles:{cellPadding:5,fontSize:10,overflow:"linebreak"},columnStyles:{5:{cellWidth:50}}}),ct.save(`${a}_${He.examType}_Timetable.pdf`)},Se=w.useCallback(He=>{if(!He)return"N/A";const ct=typeof He=="object"?He._id:He,ft=ie.find(Wt=>Wt._id===ct);return ft?ft.displayName:"N/A"},[ie]),ot=w.useMemo(()=>ae.map(He=>({...He,className:Se(He.classId)})).filter(He=>[He.examType||"",He.className].some(ft=>ft.toLowerCase().includes(M.toLowerCase()))),[ae,M,Se]),Ot=()=>{ce>1&&me(He=>He-1)},vt=()=>{ce<te&&me(He=>He+1)},Ze=He=>{me(He)};return t?n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"text-white p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:X},children:n.jsxs("div",{className:"max-w-5xl mx-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Exam Timetable Management"}),a!=="Unknown School"&&n.jsxs("span",{className:"text-white font-semibold",children:["(",a,")"]})]}),n.jsxs("button",{onClick:()=>{_t(),I(!0)},className:"text-white px-6 py-2 rounded-lg flex items-center hover:opacity-90 transition-opacity",style:{backgroundColor:X},disabled:se||u||b||ie.length===0||ye.length===0,title:se||u||b?"Loading...":ie.length===0?"No classes available":ye.length===0?"No subjects available":"Add Exam Timetable",children:[n.jsx(Fs,{className:"mr-2"}),"Add Exam Timetable"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Class"}),n.jsxs("select",{value:ee,onChange:He=>{He.preventDefault(),le(He.target.value),ue(""),me(1)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:u||se,children:[n.jsx("option",{value:"",children:"All Classes"}),de.map(He=>n.jsx("option",{value:He,children:He},He))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Section"}),n.jsxs("select",{value:Ae,onChange:He=>{He.preventDefault(),ue(He.target.value),me(1)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",disabled:u||se||ee===""||je.length===0,children:[n.jsx("option",{value:"",children:"All Sections"}),je.map(He=>n.jsx("option",{value:He,children:He},He))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Exam Type"}),n.jsxs("select",{value:q,onChange:He=>{He.preventDefault(),re(He.target.value),me(1)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Types"}),["Midterm","Final","Unit Test","Quiz","Practical","Other"].map(He=>n.jsx("option",{value:He,children:He},He))]})]})]})]})}),n.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[(se||u||b||l)&&n.jsxs("div",{className:"p-8 text-center bg-white rounded-lg shadow-md",children:[n.jsx(Er,{className:"animate-spin mx-auto mb-4",size:32,style:{color:X}}),n.jsx("p",{className:"text-gray-600",children:l?"Loading schools...":u?"Loading classes...":b?"Loading subjects...":"Loading exams..."})]}),_&&!se&&!u&&!b&&!l&&n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6 flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(ua,{className:"mr-2"}),n.jsx("span",{children:_})]}),n.jsx("button",{onClick:()=>z(""),className:"text-red-500 hover:text-red-700 font-bold",children:""})]}),!se&&!u&&!b&&!l&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"relative mb-6",children:[n.jsx(Sa,{className:"absolute left-3 top-3 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search by exam type or class...",value:M,onChange:He=>K(He.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-full text-black focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Exam Type"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subjects Count"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ot.map(He=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:He.examType||"N/A"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:He.className})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${He.status==="Scheduled"?"bg-yellow-100 text-yellow-800":He.status==="Completed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:He.status||"Scheduled"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:He.subjects?.length||0}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[n.jsx("button",{onClick:()=>dt(He),className:"text-indigo-600 hover:text-indigo-900 mr-4",disabled:se,title:"Edit",children:n.jsx(Ao,{})}),n.jsx("button",{onClick:()=>yt(He),className:"text-blue-600 hover:text-blue-900 mr-4",disabled:se,title:"View",children:n.jsx(ys,{})}),n.jsx("button",{onClick:()=>rr(He),className:"text-red-600 hover:text-red-900",disabled:se,title:"Delete",children:n.jsx(cs,{})})]})]},He._id||He.id))})]}),ot.length===0&&n.jsxs("div",{className:"p-8 text-center text-gray-500",children:[n.jsx("div",{className:"text-lg mb-2",children:"No exams found"}),n.jsx("div",{className:"text-sm",children:M?"Try adjusting your search terms":"Click 'Add Exam Timetable' to create your first entry"})]}),ot.length>0&&n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center px-6 py-4 border-t border-gray-200",children:[n.jsxs("div",{className:"text-sm text-gray-600 mb-2 sm:mb-0",children:["Page ",ce," of ",te]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:Ot,disabled:ce===1,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100",children:n.jsx(yo,{})}),[...Array(te)].map((He,ct)=>{const ft=ct+1;return n.jsx("button",{onClick:()=>Ze(ft),className:`px-3 py-1 rounded-lg border border-gray-300 ${ce===ft?"bg-blue-500 text-white":"hover:bg-gray-100"}`,style:ce===ft?{backgroundColor:X}:{},children:ft},ft)}),n.jsx("button",{onClick:vt,disabled:ce===te,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100",children:n.jsx(Ni,{})})]})]})]})]})]}),B&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"text-white p-4 rounded-t-lg flex justify-between items-center",style:{backgroundColor:X},children:[n.jsxs("h2",{className:"text-xl font-bold",children:[Q?"Edit":"Add"," Exam Timetable"]}),n.jsx("button",{onClick:_t,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:n.jsx(cr,{size:24})})]}),n.jsxs("div",{className:"p-6",children:[(u||b)&&n.jsxs("div",{className:"text-center py-4",children:[n.jsx(Er,{className:"w-6 h-6 mx-auto animate-spin mb-2",style:{color:X}}),n.jsx("p",{className:"text-sm text-gray-600",children:"Loading classes and subjects..."})]}),!u&&!b&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("select",{name:"examType",value:be.examType,onChange:Qe,className:"w-full p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[n.jsx("option",{value:"",children:"Select Exam Type"}),["Midterm","Final","Unit Test","Quiz","Practical","Other"].map(He=>n.jsx("option",{value:He,children:He},He))]}),Q&&n.jsx("select",{name:"status",value:be.status,onChange:Qe,className:"w-full p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:["Scheduled","Completed","Cancelled"].map(He=>n.jsx("option",{value:He,children:He},He))}),n.jsxs("select",{name:"classId",value:be.classId,onChange:Qe,className:"w-full p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:u,required:!0,children:[n.jsx("option",{value:"",children:"Select Class"}),ie.length===0?n.jsx("option",{value:"",disabled:!0,children:"No classes available"}):ie.map(He=>n.jsx("option",{value:He._id,children:He.displayName},He._id))]}),n.jsx("h3",{className:"text-lg font-bold mt-6",children:"Subjects"}),be.subjects.map((He,ct)=>n.jsxs("div",{className:"border border-gray-300 p-4 rounded-lg mb-4 space-y-4",children:[n.jsxs("select",{value:He.subjectName,onChange:ft=>rt(ct,"subjectName",ft.target.value),className:"w-full p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:b,required:!0,children:[n.jsx("option",{value:"",children:"Select Subject"}),ye.length===0?n.jsx("option",{value:"",disabled:!0,children:"No subjects available"}):ye.map(ft=>n.jsx("option",{value:ft.name,children:ft.name},ft._id))]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx("input",{type:"date",value:He.date,onChange:ft=>rt(ct,"date",ft.target.value),className:"p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:`startTime-${ct}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),n.jsx("input",{type:"time",id:`startTime-${ct}`,value:He.startTime,onChange:ft=>rt(ct,"startTime",ft.target.value),className:"p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500 w-full",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:`endTime-${ct}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),n.jsx("input",{type:"time",id:`endTime-${ct}`,value:He.endTime,onChange:ft=>rt(ct,"endTime",ft.target.value),className:"p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500 w-full",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:`duration-${ct}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration"}),n.jsx("input",{type:"text",id:`duration-${ct}`,value:He.duration,readOnly:!0,className:"p-3 border border-gray-300 rounded-lg text-black bg-gray-100 w-full"})]}),n.jsx("textarea",{placeholder:"Syllabus",value:He.syllabus,onChange:ft=>rt(ct,"syllabus",ft.target.value),className:"w-full p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3",required:!0}),n.jsx("button",{onClick:()=>nt(ct),className:"text-red-600 hover:text-red-900 font-medium",children:"Remove Subject"})]},ct)),n.jsx("button",{onClick:Te,className:"text-white px-4 py-2 rounded-lg hover:opacity-90 transition-opacity",style:{backgroundColor:X},disabled:b||ye.length===0,children:"Add Subject"})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:_t,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",disabled:se,children:"Cancel"}),n.jsxs("button",{onClick:xt,className:"text-white px-6 py-2 rounded-lg flex items-center hover:opacity-90",style:{backgroundColor:X},disabled:se||u||b||!be.examType||!be.classId||be.subjects.length===0,children:[se?n.jsx(Er,{className:"mr-2 animate-spin"}):n.jsx(Go,{className:"mr-2"}),Q?"Update":"Save"]})]})]})]})}),F&&k&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"text-white p-4 rounded-t-lg flex justify-between items-center",style:{backgroundColor:X},children:[n.jsxs("h2",{className:"text-xl font-bold",children:["View ",k.examType," Timetable for"," ",Se(k.classId)]}),n.jsx("button",{onClick:()=>O(!1),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:n.jsx(cr,{size:24})})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"mb-4",children:n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Status:"})," ",k.status]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full bg-white border border-gray-200 rounded-lg",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Time"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"End Time"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Syllabus"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:k.subjects.map((He,ct)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:He.subjectName||"N/A"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:He.date||"N/A"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:He.startTime||"N/A"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:He.endTime||"N/A"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:He.duration||"N/A"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:He.syllabus||"N/A"})]},ct))})]})}),n.jsx("div",{className:"flex justify-end mt-6",children:n.jsx("button",{onClick:()=>Ve(k),className:"text-white px-6 py-2 rounded-lg hover:opacity-90",style:{backgroundColor:X},children:"Download PDF"})})]})]})}),n.jsx(t4,{})]}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-md max-w-md",children:[n.jsx(ua,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),n.jsx("div",{className:"text-red-500 text-xl mb-4",children:"School ID not found"}),n.jsx("div",{className:"text-gray-600 mb-4",children:"Please login again to access the exam system."}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",style:{backgroundColor:X},children:"Refresh Page"})]})})},dre=()=>{const[t,r]=w.useState(""),[a,s]=w.useState("All"),[i,o]=w.useState("All"),[l,c]=w.useState(""),[d,f]=w.useState(""),[u,m]=w.useState([]),[p,g]=w.useState([]),[v,y]=w.useState(!1),[b,j]=w.useState(""),[N,S]=w.useState(""),[B,I]=w.useState(""),[F,O]=w.useState(1),[k,V]=w.useState(1),[Q,H]=w.useState(0),[M]=w.useState(10),K="https://vidyaastra.com/api",q=Za(Ce=>Ce.classes.classes?.data||[]),re=Za(Ce=>Ce.subjects.subjects?.data||[]),ee=Za(Ce=>Ce.classes.loading),le=Za(Ce=>Ce.subjects.loading),Ae=Za(Ce=>Ce.classes.error),ue=Za(Ce=>Ce.subjects.error),se=Ce=>{S(Ce),setTimeout(()=>S(""),5e3)},ve=Ce=>{j(Ce),setTimeout(()=>j(""),5e3)};w.useEffect(()=>{const Ce=localStorage.getItem("schoolId");console.log("SchoolId from localStorage:",Ce),Ce?I(Ce):ve("School ID not found in localStorage. Please login again.")},[]),w.useEffect(()=>{Ae&&ve("Failed to load classes: "+Ae),ue&&ve("Failed to load subjects: "+ue)},[Ae,ue]);const _=w.useCallback(async()=>{if(!B){console.log("No schoolId available for fetching students");return}try{console.log("Fetching students for schoolId:",B);const Ce=await fetch(`${K}/students/school/${B}`);if(Ce.ok){const be=await Ce.json(),Ee=be.data||be||[];g(Ee),console.log("Students loaded:",Ee.length)}else console.error("Failed to fetch students:",Ce.status,Ce.statusText),await z()}catch(Ce){console.error("Error fetching students:",Ce),await z()}},[B]),z=async()=>{try{const Ce=await fetch(`${K}/students`);if(Ce.ok){const be=await Ce.json(),Qe=(be.data||be||[]).filter(rt=>rt.schoolId===B||rt.schoolId?._id===B||rt.schoolId?.toString()===B);g(Qe),console.log("Students loaded (filtered):",Qe.length)}}catch(Ce){console.error("Error fetching all students:",Ce),g([]),ve("Error connecting to server while fetching students.")}},ae=w.useCallback(async()=>{if(!B){console.log("No schoolId available for fetching assignments");return}try{y(!0),console.log("Fetching assignments for schoolId:",B,`Page: ${F}, Limit: ${M}`);const Ce=await fetch(`${K}/assignments/submitted?schoolId=${B}&page=${F}&limit=${M}`);if(!Ce.ok){const Ee=await Ce.json().catch(()=>({}));throw new Error(Ee.message||"Failed to fetch assignments")}const be=await Ce.json();if(!be.success)throw new Error(be.message||"Failed to fetch assignments");m(be.data||[]),V(be.totalPages||1),H(be.total||0),F>be.totalPages&&be.totalPages>0&&O(1),console.log("Assignments loaded:",be.data.length,"Total:",be.total)}catch(Ce){console.error("Error fetching assignments:",Ce),ve(Ce.message||"Failed to fetch assignments"),m([]),V(1),H(0)}finally{y(!1)}},[B,F,M]),oe=w.useCallback(async()=>{if(!B){console.log("No schoolId available for initial data fetch");return}y(!0);try{await _()}catch(Ce){ve("Failed to load initial data"),console.error("Error fetching initial data:",Ce)}finally{y(!1)}},[B,_]);w.useEffect(()=>{B&&ae()},[B,F,ae]),w.useEffect(()=>{B&&oe()},[B,oe]);const ce=[...new Set(q.map(Ce=>Ce.className))],me=()=>l?[...new Set(q.filter(Ce=>Ce.className===l).map(Ce=>Ce.section).filter(Ce=>Ce))]:[],he=Ce=>{if(!Ce)return{className:"",section:""};const be=/^(\w+)(?:\s|-)?([A-Za-z]?)$/,Ee=Ce.match(be);return Ee?{className:Ee[1],section:Ee[2]||""}:{className:Ce,section:""}},te=u.filter(Ce=>{const be=Ce.title?.toLowerCase().includes(t.toLowerCase())||Ce.subject?.toLowerCase().includes(t.toLowerCase())||Ce.studentName?.toLowerCase().includes(t.toLowerCase())||Ce.rollNo?.toLowerCase().includes(t.toLowerCase())||Ce.description?.toLowerCase().includes(t.toLowerCase()),Ee=a==="All"||Ce.subject===a,Qe=i==="All"||Ce.status===i,{className:rt,section:Te}=he(Ce.class);return be&&Ee&&Qe&&(l===""||rt===l)&&(d===""||Te===d)}),J=Ce=>{switch(Ce?.toUpperCase()){case"HIGH":return"bg-red-100 text-red-800";case"MEDIUM":return"bg-orange-100 text-orange-800";case"LOW":return"bg-green-100 text-green-800";case"A":return"bg-green-100 text-green-800";case"B+":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},X=Ce=>Ce==="submitted"||Ce==="graded"?n.jsx(ji,{className:"w-4 h-4 text-green-600"}):n.jsx(Ea,{className:"w-4 h-4 text-orange-600"}),xe=Ce=>Ce?new Date(Ce).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",Ne=u.filter(Ce=>Ce.status==="pending").length,ge=u.filter(Ce=>Ce.status==="submitted"||Ce.status==="graded").length,pe=Ce=>{const{className:be,section:Ee}=he(Ce.class);alert(`
      Student: ${Ce.studentName}
      Roll No: ${Ce.rollNo}
      Class: ${be}${Ee?` ${Ee}`:""}
      Subject: ${Ce.subject}
      Title: ${Ce.title}
      Description: ${Ce.description}
      Due Date: ${xe(Ce.dueDate)}
      Priority: ${Ce.priority}
      Status: ${Ce.status}
      ${Ce.submittedDate?`Submitted: ${xe(Ce.submittedDate)}`:""}
    `)},Y=Ce=>{alert(`Edit functionality for assignment ${Ce.id} not implemented yet.`)},Le=async Ce=>{if(window.confirm(`Are you sure you want to delete assignment ${Ce.title}?`))try{y(!0);const be=await fetch(`${K}/assignments/${Ce.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:B})});if(!be.ok){const Ee=await be.json().catch(()=>({}));throw new Error(Ee.message||"Failed to delete assignment")}await ae(),se("Assignment deleted successfully")}catch(be){ve(be.message||"Failed to delete assignment")}finally{y(!1)}},ie=()=>{F>1&&O(Ce=>Ce-1)},de=()=>{F<k&&O(Ce=>Ce+1)},je=Ce=>{c(Ce),f("")},ye=localStorage.getItem("color")||"#3B82F6";return B?v||ee||le?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Er,{className:"w-12 h-12 mx-auto text-blue-600 animate-spin mb-4"}),n.jsxs("p",{className:"text-lg font-medium text-gray-700",children:["Loading assignments",ee?", classes":"",le?", subjects":"","..."]})]})}):n.jsxs("div",{className:"space-y-6 p-6 bg-gray-50 min-h-screen",children:[N&&n.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[n.jsx(ji,{className:"w-5 h-5"}),n.jsx("span",{className:"block sm:inline",children:N}),n.jsx("button",{onClick:()=>S(""),className:"ml-auto text-green-700 hover:text-green-900",children:n.jsx(cr,{className:"w-4 h-4"})})]}),b&&n.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[n.jsx(ua,{className:"w-5 h-5"}),n.jsx("span",{className:"block sm:inline",children:b}),n.jsx("button",{onClick:()=>j(""),className:"ml-auto text-red-700 hover:text-red-900",children:n.jsx(cr,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"text-black p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:ye},children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Student Assignment Management"}),n.jsx("p",{className:"text-gray-600",children:"Manage assignments with student details"})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search assignments, students...",value:t,onChange:Ce=>r(Ce.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("select",{value:l,onChange:Ce=>je(Ce.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:ee,children:[n.jsx("option",{value:"",children:"All Classes"}),ce.map(Ce=>n.jsx("option",{value:Ce,children:Ce},Ce))]}),n.jsxs("select",{value:d,onChange:Ce=>f(Ce.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:ee||!l,children:[n.jsx("option",{value:"",children:"All Sections"}),me().map(Ce=>n.jsx("option",{value:Ce,children:Ce},Ce))]}),n.jsxs("select",{value:a,onChange:Ce=>s(Ce.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:le,children:[n.jsx("option",{value:"All",children:"All Subjects"}),re.map(Ce=>n.jsx("option",{value:Ce.SubjectName||Ce.name||Ce.subjectName||"Unnamed Subject",children:Ce.SubjectName||Ce.name||Ce.subjectName||"Unnamed Subject"},Ce._id))]}),n.jsxs("select",{value:i,onChange:Ce=>o(Ce.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"All",children:"All Status"}),n.jsx("option",{value:"submitted",children:"Submitted"}),n.jsx("option",{value:"graded",children:"Graded"}),n.jsx("option",{value:"late",children:"Late"})]})]}),n.jsxs("div",{className:"mt-4 flex space-x-2",children:[n.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Pending (",Ne,")"]}),n.jsxs("div",{className:"bg-green-100 text-green-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Submitted (",ge,")"]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-max",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Student Info"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Roll No"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Class"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Section"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Subject"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Due Date"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority/Grade"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"px-4 py-4 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:te.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"10",className:"text-center py-8 text-gray-500",children:t||l||d||a!=="All"||i!=="All"?"No assignments found matching your filters.":"No assignments found."})}):te.map(Ce=>{const{className:be,section:Ee}=he(Ce.class);return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ts,{className:"w-5 h-5 text-gray-400 mr-2"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ce.studentName}),n.jsx("div",{className:"text-xs text-gray-500",children:"Student"})]})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:"text-sm font-mono text-gray-900 bg-gray-100 px-2 py-1 rounded",children:Ce.rollNo})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:be})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:Ee||"N/A"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ja,{className:"w-4 h-4 text-blue-600 mr-2"}),n.jsx("span",{className:"text-sm font-medium text-blue-600",children:Ce.subject})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"max-w-xs",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:Ce.title}),n.jsx("div",{className:"text-xs text-gray-500 mt-1 truncate",children:Ce.description})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ia,{className:"w-4 h-4 text-gray-400 mr-2"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-900",children:xe(Ce.dueDate)}),Ce.submittedDate&&n.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Submitted:"," ",xe(Ce.submittedDate)]})]})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${J(Ce.priority)}`,children:Ce.status==="graded"&&Ce.grade?Ce.grade:Ce.priority})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[X(Ce.status),n.jsx("span",{className:`ml-2 text-sm font-medium capitalize ${Ce.status==="submitted"||Ce.status==="graded"?"text-green-600":"text-orange-600"}`,children:Ce.status})]})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsxs("div",{className:"flex space-x-2 justify-end",children:[n.jsx("button",{onClick:()=>pe(Ce),disabled:v,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg disabled:opacity-50",children:n.jsx(ys,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Y(Ce),disabled:v,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg disabled:opacity-50",children:n.jsx(Ko,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Le(Ce),disabled:v,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg disabled:opacity-50",children:n.jsx(cs,{className:"w-4 h-4"})})]})})]},Ce.id)})})]})}),Q>0&&n.jsxs("div",{className:"flex justify-between items-center p-4",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",te.length," of ",Q," ","assignments (Page ",F," of ",k,")"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:ie,disabled:F===1,className:`p-2 rounded-lg ${F===1?"text-gray-400 cursor-not-allowed":"text-white"}`,style:{backgroundColor:F===1?"#d1d5db":ye},children:n.jsx(yo,{})}),n.jsx("button",{onClick:de,disabled:F===k||k===0,className:`p-2 rounded-lg ${F===k||k===0?"text-gray-400 cursor-not-allowed":"text-white"}`,style:{backgroundColor:F===k||k===0?"#d1d5db":ye},children:n.jsx(Ni,{})})]})]})]})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ua,{className:"w-12 h-12 mx-auto text-red-600 mb-4"}),n.jsx("p",{className:"text-lg font-medium text-gray-700",children:"School ID is required to access assignments."}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please ensure you are properly logged in."})]})})},gA="https://vidyaastra.com/api";function ure(){const[t,r]=w.useState("available"),[a,s]=w.useState(""),[i,o]=w.useState(!1),[l,c]=w.useState(!1),[d,f]=w.useState(null),[u,m]=w.useState(null),[p,g]=w.useState(!0),[v,y]=w.useState(""),[b,j]=w.useState(""),[N,S]=w.useState([]),[B,I]=w.useState([]),[F,O]=w.useState([]),[k,V]=w.useState(""),[Q,H]=w.useState({title:"",author:"",isbn:"",category:"Fiction",publicationYear:"",totalCopies:"",description:""}),[M,K]=w.useState({studentId:"",bookId:""}),q=["Fiction","Non-Fiction","Science","History","Technology"],re=Ne=>{j(Ne),setTimeout(()=>j(""),5e3)},ee=Ne=>{y(Ne),setTimeout(()=>y(""),5e3)};w.useEffect(()=>{const Ne=localStorage.getItem("schoolId");console.log("SchoolId from localStorage:",Ne),Ne?V(Ne):ee("School ID not found in localStorage. Please login again.")},[]);const le=w.useCallback(async()=>{if(!k){console.log("No schoolId available for fetching students");return}try{console.log("Fetching all students and filtering by schoolId:",k);const Ne=await fetch(`${gA}/students`);if(Ne.ok){const ge=await Ne.json();console.log("Students API response:",ge);const Y=(ge.data||ge||[]).filter(Le=>Le.schoolId===k||Le.schoolId?._id===k||Le.schoolId?.toString()===k);S(Y),console.log("Students loaded for school:",Y.length)}else{console.error("Failed to fetch students:",Ne.status,Ne.statusText);const ge=await Ne.text();console.error("Error response:",ge),S([]),ee("Failed to fetch students.")}}catch(Ne){console.error("Error fetching students:",Ne),S([]),ee("Error connecting to server while fetching students.")}},[k]),Ae=w.useCallback(async()=>{if(k)try{const Ne=await fetch(`${gA}/library?schoolId=${k}`);if(Ne.ok){const ge=await Ne.json();I(ge.data||[]),console.log("Available books fetched:",ge.data?.length||0)}else console.error("Failed to fetch books:",Ne.status),I([])}catch(Ne){console.error("Error fetching available books:",Ne),I([])}},[k]),ue=w.useCallback(async()=>{if(!(!k||N.length===0))try{console.log("Fetching issued books for school:",k);const Ne=[];for(const ge of N)try{const pe=await fetch(`${gA}/library/issued?studentId=${ge._id}&schoolId=${k}`);if(pe.ok){const ie=((await pe.json()).data||[]).map(de=>({...de,studentId:ge}));Ne.push(...ie)}}catch(pe){console.error(`Error fetching issued books for student ${ge._id}:`,pe)}O(Ne),console.log("Total issued books fetched:",Ne.length)}catch(Ne){console.error("Error fetching issued books:",Ne),O([])}},[k,N]),se=w.useCallback(async()=>{if(!k){console.log("No schoolId available for initial data fetch");return}console.log("Starting initial data fetch for schoolId:",k),g(!0);try{await le(),await Ae(),console.log("Initial data fetch completed")}catch(Ne){console.error("Error fetching initial data:",Ne),ee("Failed to load library data.")}finally{g(!1)}},[k,le,Ae]);w.useEffect(()=>{N.length>0&&ue()},[N,ue]),w.useEffect(()=>{k&&(console.log("SchoolId changed, fetching initial data:",k),se())},[k,se]);const ve=w.useCallback(Ne=>{switch(Ne){case"overdue":return"bg-red-100 text-red-800";case"active":return"bg-yellow-100 text-yellow-800";case"returned":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},[]),_=w.useCallback(Ne=>{switch(Ne){case"overdue":return n.jsx(ua,{className:"w-4 h-4"});case"active":return n.jsx(Ea,{className:"w-4 h-4"});case"returned":return n.jsx(ji,{className:"w-4 h-4"});default:return n.jsx(Ja,{className:"w-4 h-4"})}},[]),z=w.useCallback(Ne=>{m(Ne),K({studentId:"",bookId:Ne._id}),c(!0)},[]),ae=w.useCallback(async Ne=>{if(Ne.preventDefault(),!k){ee("School ID is required.");return}g(!0);try{if(!M.studentId||!M.bookId){ee("Please select a student."),g(!1);return}const ge=await fetch(`${gA}/library/issue`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookId:M.bookId,studentId:M.studentId,schoolId:k})}),pe=await ge.json();ge.ok&&pe.success?(await Ae(),await ue(),c(!1),m(null),K({studentId:"",bookId:""}),re("Book issued successfully!")):ee(pe.message||"Failed to issue book.")}catch(ge){console.error("Error issuing book:",ge),ee("Failed to issue book. Please check your connection and try again.")}finally{g(!1)}},[M,k,Ae,ue]),oe=w.useCallback(async Ne=>{if(!k){ee("School ID is required.");return}if(window.confirm("Are you sure you want to return this book?")){g(!0);try{const ge=await fetch(`${gA}/library/return`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({issuedBookId:Ne,schoolId:k})}),pe=await ge.json();ge.ok&&pe.success?(await Ae(),await ue(),re("Book returned successfully!")):ee(pe.message||"Failed to return book.")}catch(ge){console.error("Error returning book:",ge),ee("Failed to return book.")}finally{g(!1)}}},[k,Ae,ue]),ce=w.useCallback(async Ne=>{if(!k){ee("School ID is required.");return}if(window.confirm("Are you sure you want to renew this book?")){g(!0);try{const ge=await fetch(`${gA}/library/renew`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({issuedBookId:Ne,schoolId:k})}),pe=await ge.json();ge.ok&&pe.success?(await ue(),re("Book renewed successfully!")):ee(pe.message||"Failed to renew book.")}catch(ge){console.error("Error renewing book:",ge),ee("Failed to renew book.")}finally{g(!1)}}},[k,ue]),me=w.useCallback(async Ne=>{if(Ne.preventDefault(),!k){ee("School ID is required.");return}g(!0);try{if(!Q.title||!Q.author||!Q.isbn||!Q.totalCopies){ee("Please fill in all required fields."),g(!1);return}const ge=parseInt(Q.totalCopies);if(isNaN(ge)||ge<1){ee("Total copies must be a valid number greater than 0."),g(!1);return}const pe={title:Q.title.trim(),author:Q.author.trim(),isbn:Q.isbn.trim(),category:Q.category,totalCopies:ge,availableCopies:ge,publicationYear:Q.publicationYear?parseInt(Q.publicationYear):new Date().getFullYear(),description:Q.description.trim(),schoolId:k},Y=d?`${gA}/library/${d._id}`:`${gA}/library`,ie=await fetch(Y,{method:d?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(pe)}),de=await ie.json();ie.ok&&de.success?(await Ae(),J(),re(d?"Book updated successfully!":"Book added successfully!")):ee(de.message||"Failed to save book.")}catch(ge){console.error("Error saving book:",ge),ee("Failed to save book. Please check all fields and try again.")}finally{g(!1)}},[Q,d,k,Ae]),he=w.useCallback(Ne=>{f(Ne),H({title:Ne.title,author:Ne.author,isbn:Ne.isbn,category:Ne.category||"Fiction",publicationYear:Ne.publicationYear?String(Ne.publicationYear):"",totalCopies:String(Ne.totalCopies),description:Ne.description||""}),o(!0)},[]),te=w.useCallback(async Ne=>{if(!k){ee("School ID is required.");return}if(window.confirm("Are you sure you want to delete this book?")){g(!0);try{const ge=await fetch(`${gA}/library/${Ne}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:k})}),pe=await ge.json();ge.ok&&pe.success?(await Ae(),re("Book deleted successfully!")):ee(pe.message||"Failed to delete book.")}catch(ge){console.error("Error deleting book:",ge),ee("Failed to delete book.")}finally{g(!1)}}},[k,Ae]),J=w.useCallback(()=>{H({title:"",author:"",isbn:"",category:"Fiction",publicationYear:"",totalCopies:"",description:""}),f(null),o(!1)},[]),X=B.filter(Ne=>Ne.title?.toLowerCase().includes(a.toLowerCase())||Ne.author?.toLowerCase().includes(a.toLowerCase())||Ne.category?.toLowerCase().includes(a.toLowerCase())||Ne.isbn?.includes(a)),xe=F.filter(Ne=>Ne.book?.title?.toLowerCase().includes(a.toLowerCase())||Ne.book?.author?.toLowerCase().includes(a.toLowerCase())||Ne.studentId?.name?.toLowerCase().includes(a.toLowerCase())||Ne.book?.isbn?.includes(a));return k?p&&B.length===0?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Er,{className:"w-12 h-12 mx-auto text-blue-600 animate-spin mb-4"}),n.jsx("p",{className:"text-lg font-medium text-gray-700",children:"Loading library data..."})]})}):n.jsxs("div",{className:"space-y-6 p-6 bg-gray-50 min-h-screen",children:[b&&n.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[n.jsx(ji,{className:"w-5 h-5"}),n.jsx("span",{className:"block sm:inline",children:b}),n.jsx("button",{onClick:()=>j(""),className:"ml-auto text-green-700 hover:text-green-900",children:n.jsx(cr,{className:"w-4 h-4"})})]}),v&&n.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[n.jsx(ua,{className:"w-5 h-5"}),n.jsx("span",{className:"block sm:inline",children:v}),n.jsx("button",{onClick:()=>y(""),className:"ml-auto text-red-700 hover:text-red-900",children:n.jsx(cr,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[n.jsx(FA,{className:"mr-3 text-blue-600"}),"Library Management"]}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage books, issues, and returns"})]}),n.jsxs("button",{onClick:()=>o(!0),disabled:p,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[p?n.jsx(Er,{className:"w-4 h-4 animate-spin"}):n.jsx(Fs,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Book"})]})]}),n.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg mb-6",children:[n.jsxs("button",{onClick:()=>r("available"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center space-x-2 ${t==="available"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[n.jsx(Ja,{className:"w-4 h-4"}),n.jsxs("span",{children:["Available Books (",B.length,")"]})]}),n.jsxs("button",{onClick:()=>r("issued"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center space-x-2 ${t==="issued"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[n.jsx(Ts,{className:"w-4 h-4"}),n.jsxs("span",{children:["Issued Books (",F.length,")"]})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:`Search ${t==="available"?"books":"issued books"}...`,value:a,onChange:Ne=>s(Ne.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:t==="available"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Available Books"})}),n.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50",children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Book Details"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"ISBN"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Availability"}),n.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:X.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"5",className:"text-center py-8 text-gray-500",children:a?"No books found matching your search.":"No available books found."})}):X.map(Ne=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"font-medium",children:Ne.title}),n.jsxs("div",{className:"text-sm text-gray-500",children:["by ",Ne.author]}),Ne.publicationYear&&n.jsx("div",{className:"text-xs text-gray-400",children:Ne.publicationYear})]}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(y2,{className:"w-4 h-4 mr-1"}),Ne.isbn]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"px-2 py-1 text-xs font-semibold bg-purple-100 text-purple-800 rounded-full",children:Ne.category||"General"})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{className:"font-medium text-gray-900",children:[Ne.availableCopies,"/",Ne.totalCopies," ","available"]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:n.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${Ne.availableCopies/Ne.totalCopies*100}%`}})})]})}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsxs("div",{className:"flex space-x-2 justify-end",children:[n.jsx("button",{onClick:()=>z(Ne),disabled:Ne.availableCopies===0||p,className:`px-3 py-1 text-xs font-semibold rounded-lg transition-colors ${Ne.availableCopies>0&&!p?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:p?"Loading...":"Issue Book"}),n.jsx("button",{onClick:()=>he(Ne),disabled:p,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg disabled:opacity-50",children:n.jsx(Ao,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>te(Ne._id),disabled:p,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg disabled:opacity-50",children:n.jsx(cs,{className:"w-4 h-4"})})]})})]},Ne._id))})]})})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Issued Books"})}),n.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50",children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Book Details"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Issued To"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Issue Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Due Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:xe.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"text-center py-8 text-gray-500",children:a?"No issued books found matching your search.":"No issued books found."})}):xe.map(Ne=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"font-medium",children:Ne.book?.title||"N/A"}),n.jsxs("div",{className:"text-sm text-gray-500",children:["by ",Ne.book?.author||"N/A"]}),n.jsxs("div",{className:"text-xs text-gray-400 flex items-center",children:[n.jsx(y2,{className:"w-3 h-3 mr-1"}),Ne.book?.isbn||"N/A"]})]}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:"font-medium",children:Ne.studentId?.name||"N/A"}),n.jsx("div",{className:"text-gray-500",children:Ne.studentId?.rollNumber||Ne.studentId?.studentId||"N/A"})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(ia,{className:"w-4 h-4 mr-1"}),new Date(Ne.issueDate).toLocaleDateString()]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(ia,{className:"w-4 h-4 mr-1"}),new Date(Ne.dueDate).toLocaleDateString()]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("span",{className:`px-2 py-1 text-xs font-semibold rounded-full flex items-center space-x-1 w-fit ${ve(Ne.status)}`,children:[_(Ne.status),n.jsx("span",{children:Ne.status.toUpperCase()})]})}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsxs("div",{className:"flex space-x-2 justify-end",children:[n.jsxs("button",{onClick:()=>oe(Ne._id),disabled:p||Ne.status!=="active",className:`px-3 py-1 text-xs font-semibold rounded-lg flex items-center space-x-1 transition-colors ${Ne.status==="active"?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[n.jsx(ji,{className:"w-3 h-3"}),n.jsx("span",{children:"Return"})]}),n.jsxs("button",{onClick:()=>ce(Ne._id),disabled:p||Ne.status!=="active",className:`px-3 py-1 text-xs font-semibold rounded-lg flex items-center space-x-1 transition-colors ${Ne.status==="active"?"bg-orange-600 text-white hover:bg-orange-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[n.jsx(cm,{className:"w-3 h-3"}),n.jsx("span",{children:"Renew"})]})]})})]},Ne._id))})]})})]})}),i&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:d?"Edit Book":"Add New Book"}),n.jsx("button",{onClick:J,className:"text-gray-500 hover:text-gray-700",children:n.jsx(cr,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:me,className:"p-6 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Book Title *"}),n.jsx("input",{type:"text",id:"title",placeholder:"Book Title",value:Q.title,onChange:Ne=>H({...Q,title:Ne.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:p})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"author",className:"block text-sm font-medium text-gray-700 mb-1",children:"Author Name *"}),n.jsx("input",{type:"text",id:"author",placeholder:"Author Name",value:Q.author,onChange:Ne=>H({...Q,author:Ne.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:p})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"isbn",className:"block text-sm font-medium text-gray-700 mb-1",children:"ISBN *"}),n.jsx("input",{type:"text",id:"isbn",placeholder:"ISBN",value:Q.isbn,onChange:Ne=>H({...Q,isbn:Ne.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:p})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),n.jsx("select",{id:"category",value:Q.category,onChange:Ne=>H({...Q,category:Ne.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:p,children:q.map(Ne=>n.jsx("option",{value:Ne,children:Ne},Ne))})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"publicationYear",className:"block text-sm font-medium text-gray-700 mb-1",children:"Publication Year"}),n.jsx("input",{type:"number",id:"publicationYear",placeholder:"Publication Year",value:Q.publicationYear,onChange:Ne=>H({...Q,publicationYear:Ne.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:p,min:"1900",max:new Date().getFullYear()})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"totalCopies",className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Copies *"}),n.jsx("input",{type:"number",id:"totalCopies",placeholder:"Total Copies",value:Q.totalCopies,onChange:Ne=>H({...Q,totalCopies:Ne.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,min:"1",disabled:p})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{id:"description",placeholder:"Description (optional)",value:Q.description,onChange:Ne=>H({...Q,description:Ne.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,disabled:p})]})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:J,disabled:p,className:"flex-1 bg-transparent px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:p,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:bg-blue-400 flex items-center justify-center space-x-2",children:p?n.jsx(Er,{className:"w-4 h-4 animate-spin"}):n.jsx("span",{children:d?"Update Book":"Add Book"})})]})]})]})}),l&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Issue Book"}),n.jsx("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-gray-700",children:n.jsx(cr,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:ae,className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Book"}),n.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"font-medium",children:u?.title}),n.jsxs("div",{className:"text-sm text-gray-600",children:["by ",u?.author]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Available: ",u?.availableCopies]})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"studentId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Student *"}),n.jsxs("select",{id:"studentId",value:M.studentId,onChange:Ne=>{K({...M,studentId:Ne.target.value})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:p,children:[n.jsx("option",{value:"",children:"Select Student"}),N.map(Ne=>n.jsxs("option",{value:Ne._id,children:[Ne.name," -"," ",Ne.rollNumber||Ne.studentId||"No Roll Number"]},Ne._id))]}),N.length===0&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:"No students found. Please add students first."})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{c(!1),y("")},disabled:p,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:p||!M.studentId,className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:bg-green-400 flex items-center justify-center space-x-2",children:[p?n.jsx(Er,{className:"w-4 h-4 animate-spin"}):n.jsx(Ja,{className:"w-4 h-4"}),n.jsx("span",{children:p?"Issuing...":"Issue Book"})]})]})]})]})})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ua,{className:"w-12 h-12 mx-auto text-red-600 mb-4"}),n.jsx("p",{className:"text-lg font-medium text-gray-700",children:"School ID is required to access the library."}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please ensure you are properly logged in."})]})})}const NN="https://vidyaastra.com/api",fre=()=>{const[t,r]=w.useState(""),[a,s]=w.useState(!1),[i,o]=w.useState("view"),[l,c]=w.useState(null),[d,f]=w.useState([]),[u,m]=w.useState(!1),[p,g]=w.useState(""),[v,y]=w.useState({}),[b,j]=w.useState("#2563eb"),[N,S]=w.useState(null),[B,I]=w.useState(1),[F,O]=w.useState(1),[k]=w.useState(10),[V,Q]=w.useState(null),[H,M]=w.useState(!1),[K,q]=w.useState(""),[re,ee]=w.useState([]),[le,Ae]=w.useState(!1),[ue,se]=w.useState({name:"",email:"",phone:"",classSubjects:[],classTeacherOf:""}),ve=Za(Te=>Te.classes.classes?.data||[]),_=Za(Te=>Te.subjects.subjects?.data||[]),z=Za(Te=>Te.classes.loading),ae=Za(Te=>Te.subjects.loading),oe=Za(Te=>Te.classes.error),ce=Za(Te=>Te.subjects.error),me=ve.map(Te=>({_id:Te._id,className:Te.className||`Class ${Te.classNumber||Te._id}`,section:Te.section||"",displayName:`${Te.className||`Class ${Te.classNumber||Te._id}`}${Te.section?` ${Te.section}`:""}`.trim()})),he=Te=>_.filter(nt=>(nt.classId?._id||nt.classId||"")===Te).map(nt=>({_id:nt._id,subjectName:nt.SubjectName||nt.name||nt.subjectName||"Unnamed Subject"}));w.useEffect(()=>{const Te=localStorage.getItem("color");Te&&j(Te);const nt=localStorage.getItem("schoolId");nt?S(nt):g("School ID not found in local storage. Please log in to access teacher data.")},[]),w.useEffect(()=>{oe&&g("Failed to load classes: "+oe),ce&&g("Failed to load subjects: "+ce)},[oe,ce]);const te=Te=>typeof Te=="string"&&/^[0-9a-fA-F]{24}$/.test(Te),J=Te=>{if(!Te)return{classSubjects:[]};if(Array.isArray(Te.classSubjects)&&Te.classSubjects.length>0)return{...Te,classSubjects:Te.classSubjects};if(Array.isArray(Te.classes)&&Array.isArray(Te.subjects)){const nt=Te.classes.map(xt=>({classDisplayName:xt||"Unknown Class",subjects:Te.subjects||[]}));return{...Te,classSubjects:nt}}return{...Te,classSubjects:[]}},X=w.useCallback(async()=>{if(!N){m(!1);return}m(!0),g("");try{const Te=await It.get(`${NN}/teacher/${N}`,{params:{page:B,limit:k}});if(Te.data.success){const nt=Te.data.data.filter(xt=>{const it=xt&&typeof xt._id=="string"&&te(xt._id)&&typeof xt.name=="string"&&xt.name.trim()!==""&&typeof xt.email=="string"&&/\S+@\S+\.\S+/.test(xt.email)&&typeof xt.phone=="string"&&/^\d{10,15}$/.test(xt.phone);return it||console.warn("Invalid teacher data:",{id:xt?._id,reasons:[!xt&&"Teacher object is null",typeof xt._id!="string"&&"Invalid or missing ID",!te(xt._id)&&"ID is not a valid ObjectId",typeof xt.name!="string"&&"Name is not a string",xt.name?.trim()===""&&"Name is empty",typeof xt.email!="string"&&"Email is not a string",!/\S+@\S+\.\S+/.test(xt.email)&&"Invalid email format",typeof xt.phone!="string"&&"Phone is not a string",!/^\d{10,15}$/.test(xt.phone)&&"Invalid phone format"].filter(Boolean)}),it}).map(J);f(nt),O(Te.data.totalPages||1),I(Te.data.currentPage||1)}else g("Failed to fetch teachers")}catch(Te){g(Te.response?.data?.message||"Failed to fetch teachers. Please try again.")}finally{m(!1)}},[N,B,k]);w.useEffect(()=>{X()},[X]);const xe=d.filter(Te=>{const nt=t.toLowerCase();return Te.name&&Te.name.toLowerCase().includes(nt)||Array.isArray(Te.classSubjects)&&Te.classSubjects.some(xt=>xt.classDisplayName&&xt.classDisplayName.toLowerCase().includes(nt)||Array.isArray(xt.subjects)&&xt.subjects.some(it=>it.toLowerCase().includes(nt)))||Te.email&&Te.email.toLowerCase().includes(nt)||Te.phone&&Te.phone.includes(nt)}),Ne=(Te,nt=null)=>{o(Te),c(nt),y({}),Te==="edit"&&nt&&(se({name:nt.name||"",email:nt.email||"",phone:nt.phone||"",classSubjects:Array.isArray(nt.classSubjects)?nt.classSubjects.map(xt=>({classDisplayName:xt.classDisplayName,subjects:[...xt.subjects||[]]})):[],classTeacherOf:nt.classTeacherOf||""}),Q(null)),s(!0),g(""),M(!1),q(""),ee([]),Ae(!1)},ge=()=>{s(!1),c(null),o("view"),g(""),y({}),Q(null),M(!1),q(""),ee([]),Ae(!1),se({name:"",email:"",phone:"",classSubjects:[],classTeacherOf:""})},pe=Te=>{const{name:nt,value:xt,files:it}=Te.target;nt==="profilePic"?(Q(it[0]||null),y(_e=>({..._e,profilePic:""}))):(se({...ue,[nt]:xt}),y(_e=>({..._e,[nt]:""})))},Y=Te=>{q(Te.target.value),ee([]),Ae(!1)},Le=Te=>{ee(nt=>nt.includes(Te)?nt.filter(xt=>xt!==Te):[...nt,Te])},ie=()=>{if(!K||re.length===0){g("Please select a class and at least one subject.");return}const Te=me.find(nt=>nt._id===K)?.displayName;if(!Te){g("Invalid class selected.");return}if(ue.classSubjects.some(nt=>nt.classDisplayName===Te)){g(`Class "${Te}" is already assigned.`);return}se({...ue,classSubjects:[...ue.classSubjects,{classDisplayName:Te,subjects:[...re]}]}),q(""),ee([]),Ae(!1),g("")},de=Te=>{se({...ue,classSubjects:ue.classSubjects.filter(nt=>nt.classDisplayName!==Te)})},je=()=>{const Te={};return ue.name.trim()||(Te.name="Name is required."),ue.email.trim()?/\S+@\S+\.\S+/.test(ue.email)||(Te.email="Email is invalid."):Te.email="Email is required.",ue.phone.trim()?/^\d{10,15}$/.test(ue.phone)||(Te.phone="Phone number is invalid (10-15 digits)."):Te.phone="Phone number is required.",ue.classSubjects.length||(Te.classSubjects="At least one class with subjects is required."),ue.classTeacherOf&&!te(ue.classTeacherOf)&&(Te.classTeacherOf="Invalid class selected."),V&&!["image/jpeg","image/png"].includes(V.type)&&(Te.profilePic="Only JPEG or PNG images are allowed."),V&&V.size>2*1024*1024&&(Te.profilePic="Image size must be less than 2MB."),y(Te),Object.keys(Te).length===0},ye=async Te=>{if(Te.preventDefault(),m(!0),g(""),!je()){m(!1);return}if(!N||!l?._id){g("School ID or Teacher ID is missing."),m(!1);return}try{const nt=new FormData;nt.append("name",ue.name.trim()),nt.append("email",ue.email.trim()),nt.append("phone",ue.phone.trim()),nt.append("classSubjects",JSON.stringify(ue.classSubjects));const xt=ue.classSubjects.flatMap(dt=>dt.subjects),it=ue.classSubjects.map(dt=>dt.classDisplayName);xt.forEach(dt=>nt.append("subjects[]",dt)),it.forEach(dt=>nt.append("classes[]",dt)),ue.classTeacherOf&&nt.append("classTeacherOf",ue.classTeacherOf),nt.append("schoolId",N),V&&nt.append("profilePic",V),(await It.put(`${NN}/teacher/${N}/teachers/${l._id}`,nt,{headers:{"Content-Type":"multipart/form-data"}})).data.success&&(await X(),ge())}catch(nt){g(nt.response?.data?.message||"Failed to update teacher. Please try again.")}finally{m(!1)}},Ce=w.useCallback(async Te=>{if(!te(Te)){g("Invalid teacher ID.");return}if(window.confirm("Are you sure you want to delete this teacher?")){m(!0),g("");try{(await It.delete(`${NN}/teacher/${N}/teacher/${Te}`)).data.success?await X():g("Failed to delete teacher.")}catch(nt){g(nt.response?.data?.message||"Failed to delete teacher. Please try again.")}finally{m(!1)}}},[X,N]),be=Te=>Te?new Date(Te).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",Ee=Te=>Te?Te.split(" ").map(nt=>nt[0]).filter(nt=>nt).join("").toUpperCase():"",Qe=Te=>{Te>=1&&Te<=F&&I(Te)},rt=Te=>{if(!Te)return{className:"N/A",section:"N/A"};const nt=Te.split(" "),xt=nt.length>1&&/^[A-Z]$/.test(nt[nt.length-1])?nt.pop():"";return{className:nt.join(" ")||"N/A",section:xt}};return z||ae?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Er,{className:"animate-spin w-8 h-8 mx-auto mb-4",style:{color:b}}),n.jsxs("p",{className:"text-gray-600",children:["Loading ",z?"classes":"",z&&ae?" and ":"",ae?"subjects":"","..."]})]})}):n.jsxs("div",{className:"space-y-6 p-6 bg-gray-50 min-h-screen",children:[p&&n.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[n.jsx(ua,{className:"w-5 h-5"}),n.jsx("span",{children:p}),n.jsx("button",{onClick:()=>g(""),className:"ml-auto text-red-700 hover:text-red-900",children:n.jsx(cr,{className:"w-4 h-4"})})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:n.jsxs("div",{className:"flex flex-col space-y-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[n.jsx(da,{style:{color:b},className:"mr-3"}),"Teachers Management"]}),n.jsx("p",{className:"text-gray-600 mt-1",children:"View and manage teacher profiles"})]}),n.jsxs("div",{className:"mt-6 relative",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search teachers by name, subject, email, or phone...",value:t,onChange:Te=>r(Te.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["All Teachers (",xe.length,")"]})}),n.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Teacher"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subjects"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class Teacher"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u?n.jsx("tr",{children:n.jsxs("td",{colSpan:"7",className:"text-center py-12",children:[n.jsx(Er,{style:{color:b},className:"w-8 h-8 mx-auto animate-spin mb-4"}),n.jsx("p",{className:"text-gray-500",children:"Loading teachers..."})]})}):xe.length===0?n.jsx("tr",{children:n.jsxs("td",{colSpan:"7",className:"text-center py-12 text-gray-500",children:[n.jsx(Ts,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),n.jsx("p",{className:"text-lg font-medium",children:"No teachers found matching your search."})]})}):xe.map(Te=>Array.isArray(Te.classSubjects)&&Te.classSubjects.length>0?Te.classSubjects.map((nt,xt)=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[xt===0?n.jsxs(n.Fragment,{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",rowSpan:Te.classSubjects.length,children:n.jsxs("div",{className:"flex items-center",children:[Te.profilePic?n.jsx("img",{src:`https://vidyaastra.com${Te.profilePic}`,alt:Te.name,className:"w-12 h-12 rounded-full object-cover"}):n.jsx("div",{style:{backgroundColor:b},className:"w-12 h-12 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white font-semibold text-lg",children:Ee(Te.name)})}),n.jsx("div",{className:"ml-4",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:Te.name||"N/A"})})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",rowSpan:Te.classSubjects.length,children:n.jsxs("div",{className:"text-sm text-gray-900",children:[n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx(Af,{className:"w-4 h-4 mr-2 text-gray-400"}),Te.email||"N/A"]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(vu,{className:"w-4 h-4 mr-2 text-gray-400"}),Te.phone||"N/A"]})]})})]}):null,n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm text-gray-600",children:rt(nt.classDisplayName).className})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm text-gray-600",children:rt(nt.classDisplayName).section||"N/A"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:nt.subjects?.length>0?nt.subjects.map((it,_e)=>n.jsx("span",{style:{backgroundColor:`${b}20`,color:b},className:"px-2 py-1 text-xs font-semibold rounded-full mr-1 mb-1",children:it},_e)):n.jsx("span",{className:"text-gray-500",children:"No subjects"})}),xt===0?n.jsxs(n.Fragment,{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",rowSpan:Te.classSubjects.length,children:Te.classTeacherOf?n.jsx("span",{style:{backgroundColor:`${b}20`,color:b},className:"px-3 py-1 text-xs font-semibold rounded-full",children:me.find(it=>it._id===Te.classTeacherOf)?.displayName||"N/A"}):n.jsx("span",{className:"text-gray-500",children:"None"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",rowSpan:Te.classSubjects.length,children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>Ne("view",Te),style:{color:b},className:"p-1 rounded hover:opacity-80",title:"View Details",children:n.jsx(ys,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Ne("edit",Te),disabled:u,className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50 disabled:opacity-50",title:"Edit Teacher",children:n.jsx(Ao,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Ce(Te._id),disabled:u,className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50 disabled:opacity-50",title:"Delete Teacher",children:n.jsx(cs,{className:"w-4 h-4"})})]})})]}):null]},`${Te._id}-${xt}`)):n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[Te.profilePic?n.jsx("img",{src:`https://vidyaastra.com${Te.profilePic}`,alt:Te.name,className:"w-12 h-12 rounded-full object-cover"}):n.jsx("div",{style:{backgroundColor:b},className:"w-12 h-12 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white font-semibold text-lg",children:Ee(Te.name)})}),n.jsx("div",{className:"ml-4",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:Te.name||"N/A"})})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900",children:[n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx(Af,{className:"w-4 h-4 mr-2 text-gray-400"}),Te.email||"N/A"]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(vu,{className:"w-4 h-4 mr-2 text-gray-400"}),Te.phone||"N/A"]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-gray-500",children:"N/A"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-gray-500",children:"N/A"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-gray-500",children:"No subjects"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Te.classTeacherOf?n.jsx("span",{style:{backgroundColor:`${b}20`,color:b},className:"px-3 py-1 text-xs font-semibold rounded-full",children:me.find(nt=>nt._id===Te.classTeacherOf)?.displayName||"N/A"}):n.jsx("span",{className:"text-gray-500",children:"None"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>Ne("view",Te),style:{color:b},className:"p-1 rounded hover:opacity-80",title:"View Details",children:n.jsx(ys,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Ne("edit",Te),disabled:u,className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50 disabled:opacity-50",title:"Edit Teacher",children:n.jsx(Ao,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Ce(Te._id),disabled:u,className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50 disabled:opacity-50",title:"Delete Teacher",children:n.jsx(cs,{className:"w-4 h-4"})})]})})]},Te._id))})]})}),n.jsxs("div",{className:"p-6 border-t border-gray-200 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",B," of ",F]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>Qe(B-1),disabled:B===1||u,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 flex items-center",children:[n.jsx(yo,{className:"w-4 h-4 mr-1"}),"Previous"]}),n.jsxs("button",{onClick:()=>Qe(B+1),disabled:B===F||u,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 flex items-center",children:["Next",n.jsx(Ni,{className:"w-4 h-4 ml-1"})]})]})]})]}),a&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[n.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[n.jsx("div",{style:{backgroundColor:`${b}20`},className:"w-8 h-8 rounded-lg flex items-center justify-center mr-3",children:i==="view"?n.jsx(ys,{style:{color:b}}):n.jsx(Ao,{style:{color:b}})}),i==="view"?"Teacher Profile":"Edit Teacher"]}),n.jsx("button",{onClick:ge,className:"text-gray-500 hover:text-gray-700",children:n.jsx(cr,{className:"w-6 h-6"})})]}),i==="view"&&l?n.jsxs("div",{className:"p-6 space-y-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start gap-6",children:[l.profilePic?n.jsx("img",{src:`https://vidyaastra.com${l.profilePic}`,alt:l.name,className:"w-24 h-24 rounded-full object-cover border-4 border-gray-100 shadow-sm"}):n.jsx("div",{style:{backgroundColor:b},className:"w-24 h-24 rounded-full flex items-center justify-center border-4 border-gray-100 shadow-sm",children:n.jsx("span",{className:"text-white font-bold text-3xl",children:Ee(l.name)})}),n.jsx("div",{className:"text-center sm:text-left",children:n.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:l.name||"N/A"})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-700 flex items-center",children:[n.jsx(Af,{className:"w-5 h-5 mr-2 text-gray-400"}),"Contact Information"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Email:"})," ",l.email||"N/A"]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Phone:"})," ",l.phone||"N/A"]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-700 flex items-center",children:[n.jsx(ia,{className:"w-5 h-5 mr-2 text-gray-400"}),"Account Details"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Joined:"})," ",be(l.createdAt)]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Last Updated:"})," ",be(l.updatedAt)]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-700 flex items-center",children:[n.jsx(Ja,{className:"w-5 h-5 mr-2 text-gray-400"}),"Teaching Assignments"]}),Array.isArray(l.classSubjects)&&l.classSubjects.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subjects"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.classSubjects.map((Te,nt)=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-600",children:rt(Te.classDisplayName).className}),n.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-600",children:rt(Te.classDisplayName).section||"N/A"}),n.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Te.subjects?.length>0?Te.subjects.map((xt,it)=>n.jsx("span",{style:{backgroundColor:`${b}20`,color:b},className:"px-2 py-1 text-xs font-semibold rounded-full mr-1 mb-1",children:xt},it)):n.jsx("span",{className:"text-gray-500",children:"No subjects"})})]},nt))})]})}):n.jsx("p",{className:"text-sm text-gray-500",children:"No teaching assignments"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Class Teacher Of:"}),n.jsx("p",{className:"text-sm text-gray-600",children:l.classTeacherOf?me.find(Te=>Te._id===l.classTeacherOf)?.displayName||"N/A":"None"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:ge,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Close"})})]}):n.jsxs("form",{onSubmit:ye,className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[n.jsx(Ts,{className:"mr-1 w-4 h-4"}),"Full Name *"]}),n.jsx("input",{type:"text",name:"name",placeholder:"Enter full name",value:ue.name,onChange:pe,className:`w-full px-4 py-2 border ${v.name?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 shadow-sm`,required:!0}),v.name&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:v.name})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[n.jsx(Af,{className:"mr-1 w-4 h-4"}),"Email Address *"]}),n.jsx("input",{type:"email",name:"email",placeholder:"Enter email address",value:ue.email,onChange:pe,className:`w-full px-4 py-2 border ${v.email?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 shadow-sm`,required:!0}),v.email&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:v.email})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[n.jsx(vu,{className:"mr-1 w-4 h-4"}),"Phone Number *"]}),n.jsx("input",{type:"tel",name:"phone",placeholder:"Enter phone number",value:ue.phone,onChange:pe,className:`w-full px-4 py-2 border ${v.phone?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 shadow-sm`,required:!0}),v.phone&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:v.phone})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[n.jsx(V0,{className:"mr-1 w-4 h-4"}),"Profile Picture"]}),n.jsx("input",{type:"file",name:"profilePic",accept:"image/jpeg,image/png",onChange:pe,className:`w-full px-4 py-2 border ${v.profilePic?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 shadow-sm`}),v.profilePic&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:v.profilePic}),V&&n.jsxs("p",{className:"text-sm text-gray-600 mt-1 truncate",children:["Selected: ",V.name]})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[n.jsx(Ja,{className:"mr-1 w-4 h-4"}),"Classes and Subjects *"]}),n.jsxs("button",{type:"button",onClick:()=>M(!0),disabled:ve.length===0||_.length===0,className:"flex items-center px-4 py-2 rounded-lg text-white font-medium disabled:opacity-50",style:{backgroundColor:b},children:[n.jsx(Fs,{className:"mr-2"}),"Add Class and Subjects"]}),ue.classSubjects.length>0&&n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:ue.classSubjects.map((Te,nt)=>n.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:[Te.classDisplayName,": ",Te.subjects.join(", "),n.jsx("button",{type:"button",onClick:()=>de(Te.classDisplayName),className:"ml-2 rounded-full hover:bg-blue-200",children:n.jsx(cr,{className:"w-4 h-4"})})]},nt))}),v.classSubjects&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:v.classSubjects}),H&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-bold",children:"Add Classes and Subjects"}),n.jsx("button",{type:"button",onClick:()=>{M(!1),q(""),ee([]),Ae(!1)},className:"text-gray-500 hover:text-gray-700",children:n.jsx(cr,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class *"}),n.jsxs("select",{value:K,onChange:Y,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:me.length===0,children:[n.jsx("option",{value:"",children:"Select a class"}),me.filter(Te=>!ue.classSubjects.some(nt=>nt.classDisplayName===Te.displayName)).map(Te=>n.jsx("option",{value:Te._id,children:Te.displayName},Te._id))]}),me.length===0&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:"No classes available"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subjects *"}),n.jsxs("div",{className:`border border-gray-300 rounded-lg p-3 flex justify-between items-center ${K?"cursor-pointer":"cursor-not-allowed"}`,onClick:()=>K&&Ae(Te=>!Te),children:[n.jsx("span",{children:re.length>0?`${re.length} subject(s) selected`:K?"Select subjects":"Select a class first"}),K&&(le?n.jsx(Vw,{}):n.jsx(np,{}))]}),K&&le&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:he(K).length===0?n.jsx("div",{className:"p-3 text-gray-500 text-center",children:"No subjects available for this class"}):he(K).map(Te=>n.jsxs("div",{className:"p-3 hover:bg-gray-100 cursor-pointer flex items-center",onClick:()=>Le(Te.subjectName),children:[n.jsx("input",{type:"checkbox",checked:re.includes(Te.subjectName),onChange:()=>Le(Te.subjectName),className:"mr-2 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),n.jsx("span",{children:Te.subjectName})]},Te._id))}),re.length>0&&n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:re.map(Te=>n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[Te,n.jsx("button",{type:"button",onClick:()=>Le(Te),className:"ml-1 rounded-full hover:bg-blue-200",children:n.jsx(cr,{className:"w-3 h-3"})})]},Te))})]})]}),n.jsxs("div",{className:"mt-6 flex space-x-3",children:[n.jsx("button",{type:"button",onClick:()=>{M(!1),q(""),ee([]),Ae(!1)},className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"button",onClick:ie,disabled:!K||re.length===0,className:"flex-1 py-2 px-4 rounded-lg text-white font-medium disabled:opacity-50",style:{backgroundColor:b},children:"Add"}),n.jsx("button",{type:"button",onClick:()=>{M(!1),q(""),ee([]),Ae(!1)},className:"flex-1 py-2 px-4 rounded-lg text-white font-medium",style:{backgroundColor:b},children:"Done"})]})]})})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[n.jsx(da,{className:"mr-1 w-4 h-4"}),"Class Teacher Of"]}),n.jsxs("select",{name:"classTeacherOf",value:ue.classTeacherOf,onChange:pe,className:`w-full px-4 py-2 border ${v.classTeacherOf?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 shadow-sm`,disabled:z,children:[n.jsx("option",{value:"",children:"None"}),me.map(Te=>n.jsx("option",{value:Te._id,children:Te.displayName},Te._id))]}),v.classTeacherOf&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:v.classTeacherOf})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:ge,disabled:u,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:u||z||ae,style:{backgroundColor:b},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 disabled:opacity-50 flex items-center justify-center space-x-2",children:[u?n.jsx(Er,{className:"w-4 h-4 animate-spin"}):n.jsx(Go,{className:"w-4 h-4"}),n.jsx("span",{children:u?"Saving...":"Update Teacher"})]})]})]})]})})]})},xA="https://vidyaastra.com/api",Are=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],hre=["Bus","Van","Auto"],mre=()=>{const[t,r]=w.useState(""),[a,s]=w.useState(!1),[i,o]=w.useState("add"),[l,c]=w.useState(null),[d,f]=w.useState([]),[u,m]=w.useState([]),[p,g]=w.useState([]),[v,y]=w.useState([]),[b,j]=w.useState([]),[N,S]=w.useState(!1),[B,I]=w.useState(""),[F,O]=w.useState(""),[k,V]=w.useState({}),[Q,H]=w.useState("#2563eb"),[M,K]=w.useState(null),[q,re]=w.useState([]),[ee,le]=w.useState([]),[Ae,ue]=w.useState("all"),[se,ve]=w.useState("all"),[_,z]=w.useState("all"),[ae,oe]=w.useState("all"),[ce,me]=w.useState(null),[he,te]=w.useState({totalTransports:0,totalStudents:0,totalRevenue:0,pendingPayments:0,occupancyRate:0,completedPayments:0,partialPayments:0,overduePayments:0}),[J,X]=w.useState({route:"",routeName:"",busNumber:"",driverName:"",driverPhone:"",conductorName:"",conductorPhone:"",startTime:"",endTime:"",transportType:"Bus",totalCapacity:"",yearlyFee:"",operatingDays:[],notes:"",schoolId:""});w.useEffect(()=>{const Ve=localStorage.getItem("color");Ve&&H(Ve);const Se=localStorage.getItem("schoolId");Se?(K(Se),console.log("School ID loaded:",Se)):(I("School ID not found. Please log in to access transport data."),nr.error("School ID not found. Please log in to access transport data."))},[]);const xe=w.useCallback(async()=>{if(M)try{console.log("Fetching classes for school:",M);const Ve=await It.get(`${xA}/class/all-unfiltered`);console.log("Classes response:",Ve.data),Array.isArray(Ve.data)?(g(Ve.data),console.log(`Loaded ${Ve.data.length} classes`)):Ve.data.success&&Array.isArray(Ve.data.data)&&(g(Ve.data.data),console.log(`Loaded ${Ve.data.data.length} classes`))}catch(Ve){console.error("Error fetching classes:",Ve)}},[M]),Ne=w.useCallback((Ve,Se=null)=>{if(!Ve)return Se||"Not Assigned";if(typeof Ve=="object"&&Ve.className)return`${Ve.className}${Ve.section?` ${Ve.section}`:""}`;if(typeof Ve=="string"){const ot=p.find(Ot=>Ot._id===Ve);return ot?`${ot.className}${ot.section?` ${ot.section}`:""}`:`Class ID: ${Ve}`}return Se||"Not Assigned"},[p]),ge=w.useCallback(async()=>{if(M)try{console.log("Fetching students for school:",M);const Ve=await It.get(`${xA}/students/school/${SchoolId}?page=${currentPage}&limit=${limit}`,{params:{schoolId:M}});if(Array.isArray(Ve.data)){const Se=Ve.data.filter(ot=>ot.schoolId===M||ot.schoolId?._id===M);console.log("Filtered students for current school:",Se),m(Se),console.log(`Loaded ${Se.length} students for school`)}else if(Ve.data.success&&Array.isArray(Ve.data.data)){const Se=Ve.data.data.filter(ot=>ot.schoolId===M||ot.schoolId?._id===M);console.log("Filtered students for current school:",Se),m(Se),console.log(`Loaded ${Se.length} students for school`)}}catch(Ve){console.error("Error fetching students:",Ve),nr.error("Failed to fetch students")}},[M]),pe=w.useCallback(async()=>{if(!M){S(!1);return}S(!0),I("");try{console.log("Fetching transports for school:",M);const Ve=await It.get(`${xA}/transports`,{params:{schoolId:M}});if(console.log("Raw transports response:",Ve.data),Ve.data.success){const Se=Ve.data.data||[];console.log("Raw transports array:",Se),f(Se),console.log(`Loaded ${Se.length} transports`),Le(Se),nr.success(`Loaded ${Se.length} transport records`)}else I(Ve.data.message||"Failed to fetch transport data"),nr.error(Ve.data.message||"Failed to fetch transport data")}catch(Ve){console.error("Error fetching transports:",Ve);const Se=Ve.response?.data?.message||"Failed to fetch transport data";I(Se),nr.error(Se)}finally{S(!1)}},[M]),Y=w.useCallback(async()=>{if(M)try{const Ve=[];for(const Se of d)for(const ot of Se.assignedStudents||[])try{const Ot=ot.studentId?._id||ot.studentId;if(!Ot)continue;const vt=await It.get(`${xA}/transports/payment/history/${Ot}`,{params:{schoolId:M}});vt.data.success&&vt.data.data&&Ve.push({...vt.data.data,transportInfo:Se,studentInfo:ot.studentId})}catch{const vt=ot.studentId?._id||ot.studentId||"unknown";console.log(`No payment record for student ${vt}`)}j(Ve),console.log(`Loaded ${Ve.length} payment records`)}catch(Ve){console.error("Error fetching payment records:",Ve)}},[M,d]),Le=Ve=>{const Se=Ve.length,ot=Ve.reduce((gr,Fr)=>gr+(Fr.assignedStudents?.length||0),0),Ot=Ve.reduce((gr,Fr)=>gr+Fr.totalCapacity,0),vt=Ot>0?ot/Ot*100:0,Ze=Ve.reduce((gr,Fr)=>{const Ta=Fr.assignedStudents?.length||0;return gr+Ta*(Fr.yearlyFee||0)},0),He=b.filter(gr=>gr.paymentStatus==="completed").length,ct=b.filter(gr=>gr.paymentStatus==="partial").length,ft=b.filter(gr=>gr.paymentStatus==="pending").length,Wt=b.filter(gr=>gr.paymentStatus==="overdue").length;te({totalTransports:Se,totalStudents:ot,totalRevenue:Ze,pendingPayments:ft,occupancyRate:vt,completedPayments:He,partialPayments:ct,overduePayments:Wt})},ie=w.useCallback(async()=>{if(!(!M||u.length===0))try{const Ve=new Set;d.forEach(ot=>{ot.assignedStudents?.forEach(Ot=>{const vt=Ot.studentId?._id||Ot.studentId;vt&&Ve.add(vt)})});const Se=u.filter(ot=>!Ve.has(ot._id));y(Se),console.log(`Found ${Se.length} available students`)}catch(Ve){console.error("Error filtering available students:",Ve)}},[u,d,M]);w.useEffect(()=>{pe(),ge(),xe()},[pe,ge,xe]),w.useEffect(()=>{d.length>0&&Y()},[d,Y]),w.useEffect(()=>{ie()},[ie]),w.useEffect(()=>{b.length>0&&Le(d)},[b,d]);const de=d.filter(Ve=>{const Se=Ve.busNumber?.toLowerCase().includes(t.toLowerCase())||Ve.route?.toLowerCase().includes(t.toLowerCase())||Ve.routeName?.toLowerCase().includes(t.toLowerCase())||Ve.driverName?.toLowerCase().includes(t.toLowerCase())||Ve.driverPhone?.includes(t)||Ve.assignedStudents?.some(He=>He.studentId?.name?.toLowerCase().includes(t.toLowerCase())),ot=Ae==="all"||Ve.status===Ae,Ot=_==="all"||Ve.routeName?.toLowerCase()===_.toLowerCase()||Ve.route?.toLowerCase()===_.toLowerCase(),vt=b.filter(He=>He.transportId===Ve._id||He.transportInfo?._id===Ve._id),Ze=ae==="all"||Ve.assignedStudents?.some(He=>{if(!He.studentId)return!1;const ct=vt.find(ft=>(ft.studentId?._id||ft.studentId)===(He.studentId._id||He.studentId));return ae==="paid"?ct?.paymentStatus==="completed":ae==="unpaid"?!ct||ct?.paymentStatus==="pending":ae==="partial"?ct?.paymentStatus==="partial":!0});return Se&&ot&&Ot&&Ze}),je=[...new Set(d.map(Ve=>Ve.routeName||Ve.route).filter(Boolean).sort())],ye=(Ve,Se=null)=>{o(Ve),c(Se),V({}),I(""),O(""),re([]),le([]),Ve==="add"?(X({route:"",routeName:"",busNumber:"",driverName:"",driverPhone:"",conductorName:"",conductorPhone:"",startTime:"",endTime:"",transportType:"Bus",totalCapacity:"",yearlyFee:"",operatingDays:[],notes:"",schoolId:M||""}),le([{stopName:"",stopTime:"",stopOrder:1,landmark:""}])):Se&&(X({route:Se.route||"",routeName:Se.routeName||"",busNumber:Se.busNumber||"",driverName:Se.driverName||"",driverPhone:Se.driverPhone||"",conductorName:Se.conductorName||"",conductorPhone:Se.conductorPhone||"",startTime:Se.startTime||"",endTime:Se.endTime||"",transportType:Se.transportType||"Bus",totalCapacity:Se.totalCapacity?.toString()||"50",yearlyFee:Se.yearlyFee?.toString()||"12000",operatingDays:Se.operatingDays||[],notes:Se.notes||"",schoolId:M||""}),le(Se.routeStops||[{stopName:"",stopTime:"",stopOrder:1,landmark:""}])),s(!0)},Ce=()=>{s(!1),c(null),o("add"),I(""),O(""),V({}),re([]),le([]),me(null)},be=Ve=>{const{name:Se,value:ot}=Ve.target;X({...J,[Se]:ot}),k[Se]&&V(Ot=>({...Ot,[Se]:""}))},Ee=Ve=>{const Se=J.operatingDays.includes(Ve)?J.operatingDays.filter(ot=>ot!==Ve):[...J.operatingDays,Ve];X({...J,operatingDays:Se})},Qe=(Ve,Se,ot)=>{const Ot=[...ee];Ot[Ve]={...Ot[Ve],[Se]:ot},le(Ot)},rt=()=>{const Ve={stopName:"",stopTime:"",stopOrder:ee.length+1,landmark:""};le([...ee,Ve])},Te=Ve=>{if(ee.length>1){const Se=ee.filter((ot,Ot)=>Ot!==Ve);Se.forEach((ot,Ot)=>{ot.stopOrder=Ot+1}),le(Se)}},nt=()=>{const Ve={};return J.busNumber.trim()||(Ve.busNumber="Bus Number is required"),J.route.trim()||(Ve.route="Route is required"),J.routeName.trim()||(Ve.routeName="Route Name is required"),J.driverName.trim()||(Ve.driverName="Driver Name is required"),J.driverPhone.trim()?/^[+]?[0-9\s-]{10,16}$/.test(J.driverPhone)||(Ve.driverPhone="Phone number is invalid (10-16 digits)"):Ve.driverPhone="Driver Phone is required",J.conductorPhone&&!/^[+]?[0-9\s-]{10,16}$/.test(J.conductorPhone)&&(Ve.conductorPhone="Conductor phone number is invalid"),J.startTime||(Ve.startTime="Start Time is required"),J.endTime||(Ve.endTime="End Time is required"),(!J.totalCapacity||Number.parseInt(J.totalCapacity)<1)&&(Ve.totalCapacity="Capacity must be at least 1"),(!J.yearlyFee||Number.parseFloat(J.yearlyFee)<0)&&(Ve.yearlyFee="Yearly fee must be a valid amount"),J.operatingDays.length===0&&(Ve.operatingDays="At least one operating day is required"),ee.forEach((Se,ot)=>{Se.stopName.trim()||(Ve[`stop_${ot}_name`]=`Stop ${ot+1} name is required`),Se.stopTime.trim()||(Ve[`stop_${ot}_time`]=`Stop ${ot+1} time is required`)}),V(Ve),Object.keys(Ve).length===0},xt=async Ve=>{if(Ve.preventDefault(),S(!0),I(""),O(""),!nt()){S(!1);return}if(!M){I("School ID is missing. Cannot perform this operation."),nr.error("School ID is missing. Cannot perform this operation."),S(!1);return}try{console.log("Submitting transport data...");const Se=Number.parseFloat(J.yearlyFee),ot=[{numberOfInstallments:1,installmentAmount:Se,description:"Full Payment"},{numberOfInstallments:2,installmentAmount:Math.ceil(Se/2),description:"2 Installments"},{numberOfInstallments:3,installmentAmount:Math.ceil(Se/3),description:"3 Installments"},{numberOfInstallments:4,installmentAmount:Math.ceil(Se/4),description:"4 Installments"}],Ot={route:J.route.trim(),routeName:J.routeName.trim(),busNumber:J.busNumber.trim(),driverName:J.driverName.trim(),driverPhone:J.driverPhone.trim(),conductorName:J.conductorName.trim(),conductorPhone:J.conductorPhone.trim(),startTime:J.startTime,endTime:J.endTime,transportType:J.transportType,totalCapacity:Number.parseInt(J.totalCapacity),yearlyFee:Se,installmentOptions:ot,operatingDays:J.operatingDays,notes:J.notes.trim(),routeStops:ee.filter(Ze=>Ze.stopName.trim()),schoolId:M};let vt;if(i==="add"?vt=await It.post(`${xA}/transports`,Ot):i==="edit"&&(vt=await It.put(`${xA}/transports/${l?._id}`,Ot)),console.log("Transport submission response:",vt?.data),vt?.data.success){const Ze=vt.data.message||"Transport saved successfully!";O(Ze),nr.success(Ze),await pe(),Ce()}else{const Ze=vt?.data.message||"Failed to save transport";I(Ze),nr.error(Ze)}}catch(Se){console.error("Error saving transport:",Se);const ot=Se.response?.data?.message||"Failed to save transport. Please try again.";I(ot),nr.error(ot)}finally{S(!1)}},it=w.useCallback(async Ve=>{if(window.confirm("Are you sure you want to delete this transport entry?")){if(S(!0),I(""),O(""),!M){I("School ID is missing. Cannot perform this operation."),nr.error("School ID is missing. Cannot perform this operation."),S(!1);return}try{console.log("Deleting transport:",Ve);const Se=await It.delete(`${xA}/transports/${Ve}`,{data:{schoolId:M}});if(console.log("Delete response:",Se.data),Se.data.success){const ot=Se.data.message||"Transport deleted successfully!";O(ot),nr.success(ot),await pe()}else{const ot=Se.data.message||"Failed to delete transport";I(ot),nr.error(ot)}}catch(Se){console.error("Error deleting transport:",Se);const ot=Se.response?.data?.message||"Failed to delete transport entry";I(ot),nr.error(ot)}finally{S(!1)}}},[pe,M]),_e=async(Ve,Se,ot)=>{if(!(!l||!M)){if(l.availableSeats<=0){nr.error("No seats available. Transport is at full capacity.");return}S(!0),I("");try{const Ot={studentId:Ve,pickupStopId:Se,dropoffStopId:ot,schoolId:M,numberOfInstallments:3,paymentMethod:"cash",academicYear:new Date().getFullYear()+"-"+(new Date().getFullYear()+1)},vt=await It.post(`${xA}/transports/${l._id}/book`,Ot);vt.data.success?(O("Student booked successfully! Payment record created."),nr.success("Student booked successfully! Payment record created."),await pe(),await Y(),re([]),Ce()):vt.data.noSeatsAvailable?nr.error("No seats available. Transport is at full capacity."):nr.error(vt.data.message||"Failed to book transport")}catch(Ot){console.error("Error booking transport:",Ot);const vt=Ot.response?.data?.message||"Failed to book transport";vt.includes("No seats available")||vt.includes("full capacity")?nr.error("No seats available. Transport is at full capacity."):nr.error(vt),I(vt)}finally{S(!1)}}},dt=async Ve=>{if(l&&window.confirm("Are you sure you want to remove this student from the transport?")){S(!0),I("");try{const Se=await It.delete(`${xA}/transports/${l._id}/remove-student/${Ve}`,{data:{schoolId:M}});Se.data.success&&(O("Student removed successfully!"),nr.success("Student removed successfully!"),await pe(),await Y(),c(Se.data.data))}catch(Se){console.error("Error removing student:",Se);const ot=Se.response?.data?.message||"Failed to remove student";I(ot),nr.error(ot)}finally{S(!1)}}};w.useEffect(()=>{if(B){const Ve=setTimeout(()=>I(""),5e3);return()=>clearTimeout(Ve)}},[B]),w.useEffect(()=>{if(F){const Ve=setTimeout(()=>O(""),3e3);return()=>clearTimeout(Ve)}},[F]);const yt=()=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-8 gap-4 mb-6",children:[n.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Transports"}),n.jsx("p",{className:"text-2xl font-bold",style:{color:Q},children:he.totalTransports})]}),n.jsx(dl,{className:"w-8 h-8 text-gray-400"})]})}),n.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Students"}),n.jsx("p",{className:"text-2xl font-bold",style:{color:Q},children:he.totalStudents})]}),n.jsx(da,{className:"w-8 h-8 text-gray-400"})]})}),n.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Yearly Revenue"}),n.jsxs("p",{className:"text-2xl font-bold",style:{color:Q},children:["",he.totalRevenue.toLocaleString()]})]}),n.jsx(fd,{className:"w-8 h-8 text-gray-400"})]})}),n.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Occupancy Rate"}),n.jsxs("p",{className:"text-2xl font-bold",style:{color:Q},children:[he.occupancyRate.toFixed(1),"%"]})]}),n.jsx(sI,{className:"w-8 h-8 text-gray-400"})]})}),n.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Completed Payments"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:he.completedPayments})]}),n.jsx(ji,{className:"w-8 h-8 text-green-400"})]})}),n.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Partial Payments"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:he.partialPayments})]}),n.jsx(Ea,{className:"w-8 h-8 text-yellow-400"})]})}),n.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Pending Payments"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:he.pendingPayments})]}),n.jsx(bg,{className:"w-8 h-8 text-red-400"})]})}),n.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Available Students"}),n.jsx("p",{className:"text-2xl font-bold",style:{color:Q},children:v.length})]}),n.jsx(zj,{className:"w-8 h-8 text-gray-400"})]})})]}),rr=()=>n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transport Details"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Route & Driver"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Students & Payments"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Financial Summary"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:de.map(Ve=>{const Se=b.filter(Ze=>Ze.transportId===Ve._id||Ze.transportInfo?._id===Ve._id),ot=Se.reduce((Ze,He)=>Ze+(He.paidAmount||0),0),Ot=(Ve.assignedStudents?.length||0)*(Ve.yearlyFee||0),vt=Ot>0?ot/Ot*100:0;return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:`${Q}20`},children:n.jsx(dl,{className:"w-6 h-6",style:{color:Q}})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ve.busNumber}),n.jsx("div",{className:"text-sm text-gray-500",children:Ve.transportType||"Bus"}),Ve.availableSeats<=0&&n.jsx("div",{className:"text-xs text-red-600 font-semibold",children:"No Seats Available"})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900",children:[n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx(K0,{className:"w-4 h-4 mr-2",style:{color:Q}}),n.jsx("span",{className:"font-medium",children:Ve.routeName||Ve.route})]}),n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx(Ts,{className:"w-4 h-4 mr-2",style:{color:Q}}),Ve.driverName]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(vu,{className:"w-4 h-4 mr-2",style:{color:Q}}),Ve.driverPhone]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900",children:[n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx(da,{className:"w-4 h-4 mr-2",style:{color:Q}}),n.jsxs("span",{className:"font-medium",children:[Ve.assignedStudents?.length||0,"/",Ve.totalCapacity," Students"]})]}),n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx(jA,{className:"w-4 h-4 mr-2",style:{color:Q}}),n.jsxs("span",{className:"text-green-600 font-medium",children:[Se.filter(Ze=>Ze.paymentStatus==="completed").length," ","Paid"]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ea,{className:"w-4 h-4 mr-2",style:{color:Q}}),n.jsxs("span",{className:"text-yellow-600 font-medium",children:[Se.filter(Ze=>Ze.paymentStatus==="partial").length," ","Partial"]}),n.jsxs("span",{className:"text-red-600 font-medium ml-2",children:[Se.filter(Ze=>Ze.paymentStatus==="pending").length," ","Pending"]})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900",children:[n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx(fd,{className:"w-4 h-4 mr-2",style:{color:Q}}),n.jsxs("span",{className:"font-medium",children:["",Ve.yearlyFee||0,"/year"]})]}),n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx(Zh,{className:"w-4 h-4 mr-2",style:{color:Q}}),n.jsxs("span",{className:"text-green-600 font-medium",children:["",ot.toLocaleString()," Collected"]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(sI,{className:"w-4 h-4 mr-2",style:{color:Q}}),n.jsxs("span",{className:"text-blue-600 font-medium",children:[vt.toFixed(1),"% Collection Rate"]})]}),n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full mt-1 ${Ve.status==="Active"?"bg-green-100 text-green-800":Ve.status==="Inactive"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:Ve.status||"Active"})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>ye("view",Ve),className:"hover:opacity-75 p-1 rounded",style:{color:Q},title:"View Details",children:n.jsx(ys,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>ye("payments",Ve),disabled:N,className:"hover:opacity-75 p-1 rounded disabled:opacity-50",style:{color:Q},title:"View Payment Details",children:n.jsx(jA,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>ye("assign",Ve),disabled:N,className:"hover:opacity-75 p-1 rounded disabled:opacity-50",style:{color:Q},title:"Assign Students",children:n.jsx(zj,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>ye("edit",Ve),disabled:N,className:"hover:opacity-75 p-1 rounded disabled:opacity-50",style:{color:Q},title:"Edit Transport",children:n.jsx(Ao,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>it(Ve._id),disabled:N,className:"hover:opacity-75 p-1 rounded disabled:opacity-50",style:{color:Q},title:"Delete Transport",children:n.jsx(cs,{className:"w-4 h-4"})})]})})]},Ve._id)})})]}),_t=()=>{if(i==="payments"){const Ve=b.filter(vt=>vt.transportId===l?._id||vt.transportInfo?._id===l?._id),Se=Ve.reduce((vt,Ze)=>vt+(Ze.paidAmount||0),0),ot=(l?.assignedStudents?.length||0)*(l?.yearlyFee||0),Ot=ot>0?Se/ot*100:0;return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:["Payment Details - ",l?.busNumber]}),n.jsxs("p",{className:"text-gray-600",children:["Route: ",l?.routeName," | Yearly Fee: ",l?.yearlyFee]}),n.jsx("p",{className:"text-sm text-orange-600 font-medium mt-1",children:" Admin View Only - Payment processing is handled by students/parents"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Collection Rate"}),n.jsxs("p",{className:"text-2xl font-bold",style:{color:Q},children:[Ot.toFixed(1),"%"]}),n.jsxs("p",{className:"text-sm text-gray-500",children:["",Se.toLocaleString()," / ",ot.toLocaleString()]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ji,{className:"w-6 h-6 text-green-600 mr-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-green-600",children:"Completed"}),n.jsx("p",{className:"text-xl font-bold text-green-800",children:Ve.filter(vt=>vt.paymentStatus==="completed").length})]})]})}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ea,{className:"w-6 h-6 text-yellow-600 mr-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-yellow-600",children:"Partial"}),n.jsx("p",{className:"text-xl font-bold text-yellow-800",children:Ve.filter(vt=>vt.paymentStatus==="partial").length})]})]})}),n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(bg,{className:"w-6 h-6 text-red-600 mr-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-red-600",children:"Pending"}),n.jsx("p",{className:"text-xl font-bold text-red-800",children:Ve.filter(vt=>vt.paymentStatus==="pending").length})]})]})}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-blue-600",children:"Total Students"}),n.jsx("p",{className:"text-xl font-bold text-blue-800",children:l?.assignedStudents?.length||0})]})})})]}),Ve.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(jA,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No payment records found for this transport"}),n.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Students need to book this transport to generate payment records"})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Student Payment Details (View Only)"}),n.jsx("button",{onClick:()=>{const vt=Ve.map(Ze=>({StudentName:Ze.studentId?.name||Ze.studentInfo?.name,RollNumber:Ze.studentId?.rollNumber||Ze.studentInfo?.rollNumber,TotalAmount:Ze.totalAmount,PaidAmount:Ze.paidAmount,RemainingAmount:Ze.remainingAmount,InstallmentsPaid:`${Ze.installmentsPaid}/${Ze.numberOfInstallments}`,PaymentStatus:Ze.paymentStatus,LastPaymentDate:Ze.paymentHistory?.[Ze.paymentHistory.length-1]?.paymentDate||"N/A"}));console.log("Payment data for export:",vt),nr.success("Payment data ready for export")},className:"flex items-center space-x-2 px-3 py-1 text-sm border rounded-lg hover:bg-gray-50"})]}),Ve.map(vt=>n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:n.jsx(Ts,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-800",children:vt.studentId?.name||vt.studentInfo?.name||"Unknown Student"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Roll:"," ",vt.studentId?.rollNumber||vt.studentInfo?.rollNumber||"N/A"," ","| Class:"," ",Ne(vt.studentId?.classId||vt.studentInfo?.classId,vt.studentId?.class||vt.studentInfo?.class)]}),(vt.studentId?.phone||vt.studentInfo?.phone)&&n.jsxs("p",{className:"text-sm text-gray-500",children:["Phone:"," ",vt.studentId?.phone||vt.studentInfo?.phone]})]})]})}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${vt.paymentStatus==="completed"?"bg-green-100 text-green-800":vt.paymentStatus==="partial"?"bg-yellow-100 text-yellow-800":vt.paymentStatus==="overdue"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:vt.paymentStatus?.toUpperCase()||"PENDING"}),n.jsx("button",{onClick:()=>me(ce===vt._id?null:vt._id),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:ce===vt._id?"Hide Details":"View Details"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-4",children:[n.jsxs("div",{className:"bg-white p-3 rounded border",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Total Amount"}),n.jsxs("p",{className:"font-semibold text-lg",children:["",vt.totalAmount||0]})]}),n.jsxs("div",{className:"bg-white p-3 rounded border",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Paid Amount"}),n.jsxs("p",{className:"font-semibold text-lg text-green-600",children:["",vt.paidAmount||0]})]}),n.jsxs("div",{className:"bg-white p-3 rounded border",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Remaining"}),n.jsxs("p",{className:"font-semibold text-lg text-orange-600",children:["",vt.remainingAmount||0]})]}),n.jsxs("div",{className:"bg-white p-3 rounded border",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Installments"}),n.jsxs("p",{className:"font-semibold text-lg",children:[vt.installmentsPaid||0,"/",vt.numberOfInstallments||0]})]}),n.jsxs("div",{className:"bg-white p-3 rounded border",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Progress"}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:n.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${vt.totalAmount>0?vt.paidAmount/vt.totalAmount*100:0}%`}})}),n.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[vt.totalAmount>0?Math.round(vt.paidAmount/vt.totalAmount*100):0,"%"]})]})]}),ce===vt._id&&n.jsxs("div",{className:"bg-white rounded-lg p-4 border mt-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("h5",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[n.jsx(nI,{className:"w-4 h-4 mr-2",style:{color:Q}}),"Payment Plan Details"]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Academic Year:"}),n.jsx("span",{className:"font-medium",children:vt.academicYear||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Start Date:"}),n.jsx("span",{className:"font-medium",children:vt.startDate?new Date(vt.startDate).toLocaleDateString():"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"End Date:"}),n.jsx("span",{className:"font-medium",children:vt.endDate?new Date(vt.endDate).toLocaleDateString():"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Next Due Date:"}),n.jsx("span",{className:"font-medium",children:vt.nextDueDate?new Date(vt.nextDueDate).toLocaleDateString():"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Installment Amount:"}),n.jsxs("span",{className:"font-medium",children:["",vt.installmentAmount||0]})]})]})]}),n.jsxs("div",{children:[n.jsxs("h5",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[n.jsx(jA,{className:"w-4 h-4 mr-2",style:{color:Q}}),"Payment History (",vt.paymentHistory?.length||0,")"]}),vt.paymentHistory&&vt.paymentHistory.length>0?n.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:vt.paymentHistory.map((Ze,He)=>n.jsxs("div",{className:"bg-gray-50 p-3 rounded border",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-green-600",children:["",Ze.amount]}),n.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(Ze.paymentDate).toLocaleDateString()," ","at"," ",new Date(Ze.paymentDate).toLocaleTimeString()]}),n.jsxs("p",{className:"text-xs text-gray-600",children:["Method:"," ",Ze.paymentMethod?.toUpperCase()]}),Ze.transactionId&&n.jsxs("p",{className:"text-xs text-gray-600",children:["TXN: ",Ze.transactionId]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${Ze.status==="completed"?"bg-green-100 text-green-800":Ze.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:Ze.status?.toUpperCase()}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Installment ",Ze.installmentNumber]})]})]}),Ze.notes&&n.jsx("p",{className:"text-xs text-gray-600 mt-2 italic",children:Ze.notes})]},He))}):n.jsx("p",{className:"text-gray-500 text-sm",children:"No payment history available"})]})]}),vt.remainingAmount>0&&n.jsx("div",{className:"mt-4 pt-4 border-t bg-orange-50 p-3 rounded",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-orange-800 font-medium",children:"Next Payment Due"}),n.jsxs("p",{className:"font-semibold text-orange-900",children:["",vt.installmentAmount," (Installment"," ",(vt.installmentsPaid||0)+1,")"]}),n.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:["Due:"," ",vt.nextDueDate?new Date(vt.nextDueDate).toLocaleDateString():"Immediate"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-orange-600",children:"Payment to be made by"}),n.jsx("p",{className:"text-sm font-medium text-orange-800",children:"Student/Parent"})]})]})})]})]},vt._id))]}),l?.assignedStudents&&(()=>{const vt=l.assignedStudents.filter(Ze=>Ze.studentId?!Ve.some(He=>(He.studentId?._id||He.studentId)===(Ze.studentId._id||Ze.studentId)):!1);return vt.length>0&&n.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[n.jsxs("h5",{className:"font-semibold text-yellow-800 mb-3 flex items-center",children:[n.jsx(ua,{className:"w-4 h-4 mr-2"}),"Students Without Payment Records (",vt.length,")"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:vt.map((Ze,He)=>n.jsxs("div",{className:"bg-white p-3 rounded border",children:[n.jsx("p",{className:"font-medium",children:Ze.studentId?.name||"Unknown Student"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Roll: ",Ze.studentId?.rollNumber||"N/A"]}),n.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Payment record needs to be created"})]},Ze.studentId?._id||He))})]})})()]})}if(i==="view"){const Ve=b.filter(Se=>Se.transportId===l?._id||Se.transportInfo?._id===l?._id);return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[n.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center",style:{backgroundColor:Q},children:n.jsx(dl,{className:"w-10 h-10 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:l?.busNumber}),n.jsxs("p",{className:"text-gray-600",children:["Route: ",l?.routeName||l?.route]}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Status:"," ",n.jsx("span",{className:"font-medium text-green-600",children:l?.status||"Active"})]}),l?.availableSeats<=0&&n.jsx("p",{className:"text-sm text-red-600 font-semibold",children:" No Seats Available"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ts,{className:"w-5 h-5",style:{color:Q}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Driver Name"}),n.jsx("p",{className:"font-medium",children:l?.driverName})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(vu,{className:"w-5 h-5",style:{color:Q}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Driver Phone"}),n.jsx("p",{className:"font-medium",children:l?.driverPhone})]})]}),l?.conductorName&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ts,{className:"w-5 h-5",style:{color:Q}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Conductor"}),n.jsx("p",{className:"font-medium",children:l.conductorName}),l.conductorPhone&&n.jsx("p",{className:"text-sm text-gray-400",children:l.conductorPhone})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ea,{className:"w-5 h-5",style:{color:Q}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Schedule"}),n.jsxs("p",{className:"font-medium",children:[l?.startTime," - ",l?.endTime]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(dl,{className:"w-5 h-5",style:{color:Q}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Transport Type"}),n.jsx("p",{className:"font-medium",children:l?.transportType||"Bus"})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(da,{className:"w-5 h-5",style:{color:Q}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Capacity"}),n.jsxs("p",{className:"font-medium",children:[l?.totalCapacity," students"]}),n.jsxs("p",{className:"text-sm text-gray-400",children:["Available: ",l?.availableSeats||0," seats"]})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(fd,{className:"w-5 h-5",style:{color:Q}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Yearly Fee"}),n.jsxs("p",{className:"font-medium",children:["",l?.yearlyFee||0]})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ia,{className:"w-5 h-5",style:{color:Q}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Operating Days"}),n.jsx("p",{className:"font-medium",children:l?.operatingDays?.join(", ")||"Not specified"})]})]}),l?.notes&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(nI,{className:"w-5 h-5",style:{color:Q}}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Notes"}),n.jsx("p",{className:"font-medium",children:l.notes})]})]})]})]}),Ve.length>0&&n.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsxs("h4",{className:"text-lg font-semibold text-blue-800 mb-3 flex items-center",children:[n.jsx(jA,{className:"w-5 h-5 mr-2"}),"Payment Summary (View Only)"]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600",children:Ve.filter(Se=>Se.paymentStatus==="completed").length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Completed"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:Ve.filter(Se=>Se.paymentStatus==="partial").length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Partial"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-red-600",children:Ve.filter(Se=>Se.paymentStatus==="pending").length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Pending"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("p",{className:"text-2xl font-bold",style:{color:Q},children:["",Ve.reduce((Se,ot)=>Se+(ot.paidAmount||0),0).toLocaleString()]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Collected"})]})]})]}),l?.routeStops&&l.routeStops.length>0&&n.jsxs("div",{className:"mt-6",children:[n.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[n.jsx(K0,{className:"w-5 h-5 mr-2",style:{color:Q}}),"Route Stops (",l.routeStops.length,")"]}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4 max-h-60 overflow-y-auto",children:n.jsx("div",{className:"space-y-2",children:l.routeStops.sort((Se,ot)=>Se.stopOrder-ot.stopOrder).map((Se,ot)=>n.jsxs("div",{className:"bg-white p-3 rounded border text-sm flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:Se.stopName}),n.jsxs("p",{className:"text-gray-500",children:["Time: ",Se.stopTime]}),Se.landmark&&n.jsxs("p",{className:"text-gray-400",children:["Near: ",Se.landmark]})]}),n.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs",children:["Stop ",Se.stopOrder]})]},Se._id||ot))})})]}),l?.assignedStudents&&l.assignedStudents.length>0&&n.jsxs("div",{className:"mt-6",children:[n.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[n.jsx(da,{className:"w-5 h-5 mr-2",style:{color:Q}}),"Assigned Students (",l.assignedStudents.length,"/",l.totalCapacity,")"]}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4 max-h-60 overflow-y-auto",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:l.assignedStudents.map((Se,ot)=>{if(!Se.studentId)return n.jsx("div",{className:"bg-white p-3 rounded border text-sm flex justify-between items-center",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-red-500",children:"Invalid Student Record"}),n.jsx("p",{className:"text-gray-500",children:"Student data missing"})]})},ot);const Ot=Ve.find(vt=>(vt.studentId?._id||vt.studentId)===(Se.studentId._id||Se.studentId));return n.jsxs("div",{className:"bg-white p-3 rounded border text-sm flex justify-between items-center",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:Se.studentId.name||"Unknown Student"}),n.jsxs("p",{className:"text-gray-500",children:["Roll: ",Se.studentId.rollNumber||"N/A"]}),n.jsxs("p",{className:"text-gray-500",children:["Class:"," ",Ne(Se.studentId?.classId,Se.studentId?.class)]}),n.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Ot?.paymentStatus==="completed"?"bg-green-100 text-green-800":Ot?.paymentStatus==="partial"?"bg-yellow-100 text-yellow-800":Ot?.paymentStatus==="pending"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:Ot?.paymentStatus?.toUpperCase()||"NO RECORD"}),Ot&&n.jsxs("span",{className:"text-xs text-gray-600",children:["",Ot.paidAmount||0,"/",Ot.totalAmount||0]})]}),n.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:[n.jsxs("p",{children:["Pickup:"," ",l.routeStops?.find(vt=>vt._id===Se.pickupStop)?.stopName||"N/A"]}),n.jsxs("p",{children:["Dropoff:"," ",l.routeStops?.find(vt=>vt._id===Se.dropoffStop)?.stopName||"N/A"]})]})]}),n.jsx("button",{onClick:()=>dt(Se.studentId._id),className:"text-red-500 hover:text-red-700 p-1 ml-2",title:"Remove Student",children:n.jsx($X,{className:"w-4 h-4"})})]},Se.studentId._id||ot)})})})]})]})}return i==="assign"?n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:["Assign Students to ",l?.busNumber]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Current: ",l?.assignedStudents?.length||0,"/",l?.totalCapacity," students"]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Yearly Fee: ",l?.yearlyFee||0," per student"]}),n.jsx("p",{className:"text-sm text-orange-600 font-medium mt-1",children:"Note: This creates payment records for students. Actual payments are handled by students/parents."}),l?.availableSeats<=0&&n.jsx("p",{className:"text-sm text-red-600 font-semibold mt-2",children:" No seats available for new assignments"})]}),v.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(da,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No available students to assign"})]}):l?.availableSeats<=0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(ua,{className:"w-12 h-12 mx-auto text-red-300 mb-4"}),n.jsx("p",{className:"text-red-600 font-semibold",children:"Transport is at full capacity"}),n.jsx("p",{className:"text-gray-500",children:"No seats available for new students"})]}):n.jsx(n.Fragment,{children:n.jsxs("div",{className:"mb-4",children:[n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Select students to assign (",v.length," ","available):"]}),n.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-lg",children:v.map(Ve=>n.jsx("div",{className:"p-3 hover:bg-gray-50 border-b last:border-b-0",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:Ve.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Roll: ",Ve.rollNumber," | Class:"," ",Ne(Ve.classId,Ve.class)]}),Ve.phone&&n.jsxs("p",{className:"text-sm text-gray-500",children:["Phone: ",Ve.phone]})]}),n.jsxs("div",{className:"ml-4 space-y-2",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("select",{className:"px-2 py-1 border rounded text-xs",id:`pickup-${Ve._id}`,children:[n.jsx("option",{value:"",children:"Select Pickup"}),l?.routeStops?.map(Se=>n.jsxs("option",{value:Se._id,children:[Se.stopName," (",Se.stopTime,")"]},Se._id))]}),n.jsxs("select",{className:"px-2 py-1 border rounded text-xs",id:`dropoff-${Ve._id}`,children:[n.jsx("option",{value:"",children:"Select Dropoff"}),l?.routeStops?.map(Se=>n.jsxs("option",{value:Se._id,children:[Se.stopName," (",Se.stopTime,")"]},Se._id))]})]}),n.jsx("button",{onClick:()=>{const Se=document.getElementById(`pickup-${Ve._id}`),ot=document.getElementById(`dropoff-${Ve._id}`);if(!Se?.value||!ot?.value){nr.error("Please select both pickup and dropoff stops");return}_e(Ve._id,Se.value,ot.value)},disabled:N||l?.availableSeats<=0,className:"w-full px-3 py-1 text-white rounded text-xs disabled:opacity-50",style:{backgroundColor:l?.availableSeats>0?Q:"#ccc"},children:N?n.jsx(Er,{className:"w-3 h-3 animate-spin"}):l?.availableSeats>0?"Assign & Create Payment Record":"No Seats"})]})]})},Ve._id))})]})})]}):n.jsxs("form",{onSubmit:xt,className:"p-6 space-y-4",children:[B&&n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4 flex items-center space-x-2",children:[n.jsx(ua,{className:"w-5 h-5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"Error:"}),n.jsx("div",{className:"text-sm",children:B})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("input",{type:"text",name:"busNumber",placeholder:"Bus Number *",value:J.busNumber,onChange:be,className:`w-full px-3 py-2 border ${k.busNumber?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:k.busNumber?"red":Q,outlineColor:Q},required:!0}),k.busNumber&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.busNumber})]}),n.jsxs("div",{children:[n.jsx("input",{type:"text",name:"route",placeholder:"Route Code *",value:J.route,onChange:be,className:`w-full px-3 py-2 border ${k.route?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:k.route?"red":Q,outlineColor:Q},required:!0}),k.route&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.route})]}),n.jsxs("div",{children:[n.jsx("input",{type:"text",name:"routeName",placeholder:"Route Name *",value:J.routeName,onChange:be,className:`w-full px-3 py-2 border ${k.routeName?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:k.routeName?"red":Q,outlineColor:Q},required:!0}),k.routeName&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.routeName})]}),n.jsx("div",{children:n.jsx("select",{name:"transportType",value:J.transportType,onChange:be,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:Q,outlineColor:Q},children:hre.map(Ve=>n.jsx("option",{value:Ve,children:Ve},Ve))})}),n.jsxs("div",{children:[n.jsx("input",{type:"text",name:"driverName",placeholder:"Driver Name *",value:J.driverName,onChange:be,className:`w-full px-3 py-2 border ${k.driverName?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:k.driverName?"red":Q,outlineColor:Q},required:!0}),k.driverName&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.driverName})]}),n.jsxs("div",{children:[n.jsx("input",{type:"tel",name:"driverPhone",placeholder:"Driver Phone *",value:J.driverPhone,onChange:be,className:`w-full px-3 py-2 border ${k.driverPhone?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:k.driverPhone?"red":Q,outlineColor:Q},required:!0}),k.driverPhone&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.driverPhone})]}),n.jsx("div",{children:n.jsx("input",{type:"text",name:"conductorName",placeholder:"Conductor Name (optional)",value:J.conductorName,onChange:be,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:Q,outlineColor:Q}})}),n.jsxs("div",{children:[n.jsx("input",{type:"tel",name:"conductorPhone",placeholder:"Conductor Phone (optional)",value:J.conductorPhone,onChange:be,className:`w-full px-3 py-2 border ${k.conductorPhone?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:k.conductorPhone?"red":Q,outlineColor:Q}}),k.conductorPhone&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.conductorPhone})]}),n.jsxs("div",{children:[n.jsx("input",{type:"time",name:"startTime",placeholder:"Start Time *",value:J.startTime,onChange:be,className:`w-full px-3 py-2 border ${k.startTime?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:k.startTime?"red":Q,outlineColor:Q},required:!0}),k.startTime&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.startTime})]}),n.jsxs("div",{children:[n.jsx("input",{type:"time",name:"endTime",placeholder:"End Time *",value:J.endTime,onChange:be,className:`w-full px-3 py-2 border ${k.endTime?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:k.endTime?"red":Q,outlineColor:Q},required:!0}),k.endTime&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.endTime})]}),n.jsxs("div",{children:[n.jsx("input",{type:"number",name:"totalCapacity",placeholder:"Total Capacity *",value:J.totalCapacity,onChange:be,min:"1",max:"100",className:`w-full px-3 py-2 border ${k.totalCapacity?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:k.totalCapacity?"red":Q,outlineColor:Q},required:!0}),k.totalCapacity&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.totalCapacity})]}),n.jsxs("div",{children:[n.jsx("input",{type:"number",name:"yearlyFee",placeholder:"Yearly Fee () *",value:J.yearlyFee,onChange:be,min:"0",step:"0.01",className:`w-full px-3 py-2 border ${k.yearlyFee?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:k.yearlyFee?"red":Q,outlineColor:Q},required:!0}),k.yearlyFee&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.yearlyFee})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operating Days *"}),n.jsx("div",{className:"grid grid-cols-4 md:grid-cols-7 gap-2",children:Are.map(Ve=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:J.operatingDays.includes(Ve),onChange:()=>Ee(Ve),className:"rounded"}),n.jsx("span",{className:"text-sm",children:Ve.slice(0,3)})]},Ve))}),k.operatingDays&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.operatingDays})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Route Stops"}),n.jsxs("button",{type:"button",onClick:rt,className:"text-sm px-3 py-1 rounded-lg flex items-center space-x-1",style:{backgroundColor:`${Q}20`,color:Q},children:[n.jsx(Fs,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Stop"})]})]}),n.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:ee.map((Ve,Se)=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 p-3 border rounded-lg",children:[n.jsx("input",{type:"text",placeholder:"Stop Name *",value:Ve.stopName,onChange:ot=>Qe(Se,"stopName",ot.target.value),className:`px-3 py-2 border ${k[`stop_${Se}_name`]?"border-red-500":"border-gray-300"} rounded focus:outline-none focus:ring-1`,style:{borderColor:k[`stop_${Se}_name`]?"red":Q}}),n.jsx("input",{type:"time",placeholder:"Stop Time *",value:Ve.stopTime,onChange:ot=>Qe(Se,"stopTime",ot.target.value),className:`px-3 py-2 border ${k[`stop_${Se}_time`]?"border-red-500":"border-gray-300"} rounded focus:outline-none focus:ring-1`,style:{borderColor:k[`stop_${Se}_time`]?"red":Q}}),n.jsx("input",{type:"text",placeholder:"Landmark",value:Ve.landmark,onChange:ot=>Qe(Se,"landmark",ot.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1",style:{borderColor:Q}}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:"text-sm text-gray-500",children:["#",Ve.stopOrder]}),ee.length>1&&n.jsx("button",{type:"button",onClick:()=>Te(Se),className:"text-red-500 hover:text-red-700 p-1",children:n.jsx(cr,{className:"w-4 h-4"})})]}),k[`stop_${Se}_name`]&&n.jsx("p",{className:"text-red-500 text-xs col-span-full",children:k[`stop_${Se}_name`]}),k[`stop_${Se}_time`]&&n.jsx("p",{className:"text-red-500 text-xs col-span-full",children:k[`stop_${Se}_time`]})]},Se))})]}),n.jsx("div",{children:n.jsx("textarea",{name:"notes",placeholder:"Additional Notes (optional)",value:J.notes,onChange:be,rows:3,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:Q,outlineColor:Q}})}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:Ce,disabled:N,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:N,className:"flex-1 px-4 py-2 text-white rounded-lg disabled:opacity-50 flex items-center justify-center space-x-2",style:{backgroundColor:Q},children:[N?n.jsx(Er,{className:"w-4 h-4 animate-spin"}):n.jsx(Go,{className:"w-4 h-4"}),n.jsxs("span",{children:[i==="edit"?"Update":"Add"," Transport"]})]})]})]})};return n.jsxs("div",{className:"space-y-6 p-6 bg-gray-50 min-h-screen",children:[F&&n.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-md",children:[n.jsx(Dn,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"block sm:inline",children:F}),n.jsx("button",{onClick:()=>O(""),className:"ml-auto text-green-700 hover:text-green-900 flex-shrink-0",children:n.jsx(cr,{className:"w-4 h-4"})})]}),B&&n.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-md",children:[n.jsx(ua,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"block sm:inline",children:B}),n.jsx("button",{onClick:()=>I(""),className:"ml-auto text-red-700 hover:text-red-900 flex-shrink-0",children:n.jsx(cr,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"text-white p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:Q},children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center",children:[n.jsx(dl,{className:"mr-3"}),"Professional Transport Management System"]}),n.jsxs("p",{className:"text-white mt-1",children:["Complete transport & payment tracking system (Admin View Only - No Payment Processing)",M&&n.jsxs("span",{className:"text-white text-sm opacity-75 ml-2",children:[" School ID: ",M]})]}),n.jsxs("p",{className:"text-white text-sm opacity-75 mt-1",children:["Total Students: ",u.length," | Available:"," ",v.length," | Active Routes:"," ",d.filter(Ve=>Ve.status==="Active").length," | Revenue: ",he.totalRevenue.toLocaleString()]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>{const Ve={totalTransports:he.totalTransports,totalStudents:he.totalStudents,totalRevenue:he.totalRevenue,paymentBreakdown:{completed:he.completedPayments,partial:he.partialPayments,pending:he.pendingPayments},occupancyRate:he.occupancyRate};console.log("Transport Management Report:",Ve),nr.success("Report generated successfully!")},disabled:N||!M,className:"text-white px-4 py-2 rounded-lg flex items-center space-x-2 disabled:opacity-50 hover:bg-white hover:bg-opacity-20 transition-colors",style:{backgroundColor:`${Q}60`}}),n.jsxs("button",{onClick:()=>ye("add"),disabled:N||!M,className:"text-white px-4 py-2 rounded-lg flex items-center space-x-2 disabled:opacity-50 hover:bg-white hover:bg-opacity-20 transition-colors",style:{backgroundColor:`${Q}80`},children:[N?n.jsx(Er,{className:"w-4 h-4 animate-spin"}):n.jsx(Fs,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Transport"})]})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative md:col-span-2",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search by bus number, route, driver, or student name...",value:t,onChange:Ve=>r(Ve.target.value),className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 text-gray-900",style:{borderColor:Q,outlineColor:Q}})]}),n.jsx("div",{children:n.jsxs("select",{value:_,onChange:Ve=>z(Ve.target.value),className:"w-full px-3 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 text-gray-900",style:{borderColor:Q,outlineColor:Q},children:[n.jsx("option",{value:"all",children:"All Route Names"}),je.map((Ve,Se)=>n.jsx("option",{value:Ve,children:Ve},Se))]})}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("select",{value:Ae,onChange:Ve=>ue(Ve.target.value),className:"flex-1 px-3 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 text-gray-900",style:{borderColor:Q,outlineColor:Q},children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"Inactive",children:"Inactive"}),n.jsx("option",{value:"Maintenance",children:"Maintenance"})]}),n.jsx("button",{onClick:()=>{pe(),Y()},disabled:N,className:"px-4 py-3 text-white rounded-lg disabled:opacity-50 hover:bg-white hover:bg-opacity-20 transition-colors",style:{backgroundColor:`${Q}80`},children:n.jsx(cm,{className:`w-4 h-4 ${N?"animate-spin":""}`})})]})]}),n.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter Students by Payment:"}),n.jsxs("select",{value:ae,onChange:Ve=>oe(Ve.target.value),className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 text-gray-900",style:{borderColor:Q,outlineColor:Q},children:[n.jsx("option",{value:"all",children:"All Students"}),n.jsx("option",{value:"paid",children:"Paid Students Only"}),n.jsx("option",{value:"unpaid",children:"Unpaid Students Only"}),n.jsx("option",{value:"partial",children:"Partial Payment"})]})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",de.length," of ",d.length," ","transports"]})]})]}),yt(),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Transport Fleet & Payment Overview (",de.length,")"]}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[n.jsxs("span",{children:["Total Revenue: ",he.totalRevenue.toLocaleString()]}),n.jsxs("span",{children:["Collection Rate:"," ",he.totalRevenue>0?(b.reduce((Ve,Se)=>Ve+(Se.paidAmount||0),0)/he.totalRevenue*100).toFixed(1):0,"%"]}),n.jsxs("span",{children:["Occupancy: ",he.occupancyRate.toFixed(1),"%"]})]})]})}),n.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:N?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Er,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:Q}}),n.jsx("p",{className:"text-gray-500",children:"Loading transport data..."})]}):de.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(dl,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),n.jsx("p",{className:"text-gray-500",children:M?"No transport entries found matching your search.":"Please set your school ID to view transports."})]}):rr()})]}),a&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-7xl max-h-[95vh] overflow-y-auto",children:[n.jsxs("div",{className:"text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10",style:{backgroundColor:Q},children:[n.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mr-3",style:{backgroundColor:`${Q}20`},children:i==="view"?n.jsx(ys,{style:{color:"white"}}):i==="edit"?n.jsx(Ao,{style:{color:"white"}}):i==="assign"?n.jsx(zj,{style:{color:"white"}}):i==="payments"?n.jsx(jA,{style:{color:"white"}}):n.jsx(Fs,{style:{color:"white"}})}),i==="view"?"Transport Details & Payment Status":i==="edit"?"Edit Transport":i==="assign"?"Assign Students (No Payment Processing)":i==="payments"?"Payment Details (View Only)":"Add New Transport"]}),n.jsx("button",{onClick:Ce,className:"absolute top-4 right-4 flex items-center justify-center w-8 h-8 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:n.jsx(cr,{size:24,style:{color:"white"}})})]}),_t()]})})]})},pre=()=>{const[t,r]=w.useState(""),[a,s]=w.useState(!1),[i,o]=w.useState(null),[l,c]=w.useState([]),[d,f]=w.useState(!1),[u,m]=w.useState(""),[p,g]=w.useState({}),[v,y]=w.useState("#2563eb"),[b,j]=w.useState(null),[N,S]=w.useState({page:1,limit:10,total:0,totalPages:1}),[B,I]=w.useState({title:"",content:""}),F="https://vidyaastra.com/api",O=()=>{const _=localStorage.getItem("token");return _?{Authorization:`Bearer ${_}`}:{}},k=_=>{_.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("userRole"),localStorage.removeItem("schoolId"),window.location.href="/login"),m(_.response?.data?.message||"An unexpected error occurred"),console.error("API Error:",_)};w.useEffect(()=>{const _=localStorage.getItem("color");_&&y(_);const z=localStorage.getItem("schoolId");z?j(z):m("School ID not found. Please log in.")},[]);const V=w.useCallback(async()=>{if(!b){f(!1);return}f(!0),m("");try{const _=await It.get(`${F}/circulars`,{headers:O(),params:{schoolId:b,page:N.page,limit:N.limit}});_.data.success?(c(_.data.data.map(z=>({id:z._id,title:z.title,date:new Date(z.date).toISOString().split("T")[0],status:z.read?"read":"unread",description:z.content}))),S({page:_.data.page,limit:_.data.limit,total:_.data.total,totalPages:_.data.totalPages})):m("Failed to fetch circulars.")}catch(_){k(_)}finally{f(!1)}},[b,N.page,N.limit]);w.useEffect(()=>{V()},[V]);const Q=_=>{_>=1&&_<=N.totalPages&&S(z=>({...z,page:_}))},H=_=>_==="unread"?Mt("px-3 py-1 rounded-full text-xs font-medium",{backgroundColor:`${v}20`,color:v}):"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-xs font-medium",M=(_=null)=>{o(_),g({}),I(_?{title:_.title,content:_.description}:{title:"",content:""}),s(!0),m("")},K=()=>{s(!1),o(null),m(""),g({})},q=_=>{I({...B,[_.target.name]:_.target.value}),p[_.target.name]&&g(z=>({...z,[_.target.name]:""}))},re=()=>{const _={};return B.title.trim()||(_.title="Title is required."),B.content.trim()||(_.content="Description is required."),g(_),Object.keys(_).length===0},ee=async _=>{if(_.preventDefault(),f(!0),m(""),!re()){f(!1);return}if(!b){m("School ID is missing."),f(!1);return}try{const z={title:B.title.trim(),content:B.content.trim(),date:new Date().toISOString(),read:i?i.status==="read":!1,schoolId:b};let ae;i?ae=await It.put(`${F}/circulars/${i.id}`,z,{headers:O()}):ae=await It.post(`${F}/circulars`,z,{headers:O()}),ae.data.success&&(await V(),K())}catch(z){k(z)}finally{f(!1)}},le=w.useCallback(async _=>{if(window.confirm("Are you sure you want to delete this circular?")){if(f(!0),m(""),!b){m("School ID is missing."),f(!1);return}try{(await It.delete(`${F}/circulars/${_}`,{headers:O(),data:{schoolId:b}})).data.success&&await V()}catch(z){k(z)}finally{f(!1)}}},[V,b]),Ae=w.useCallback(async _=>{if(f(!0),m(""),!b){m("School ID is missing."),f(!1);return}try{l.find(ae=>ae.id===_)&&((await It.put(`${F}/circulars/${_}`,{read:!0,schoolId:b},{headers:O()})).data.success?await V():m("Failed to mark circular as read."))}catch(z){k(z)}finally{f(!1)}},[l,V,b]),ue=w.useCallback(async()=>{if(window.confirm("Are you sure you want to mark all circulars as read?")){if(f(!0),m(""),!b){m("School ID is missing."),f(!1);return}try{(await It.put(`${F}/circulars/mark-all/read`,{schoolId:b},{headers:O()})).data.success?await V():m("Failed to mark all circulars as read.")}catch(_){k(_)}finally{f(!1)}}},[V,b]),se=l.filter(_=>_.title.toLowerCase().includes(t.toLowerCase())||_.description.toLowerCase().includes(t.toLowerCase())),ve=l.filter(_=>_.status==="unread").length;return n.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6 max-w-7xl",children:[u&&n.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-red-50 border-l-4 border-red-500 text-red-700 px-6 py-4 rounded-lg shadow-lg flex items-center space-x-3 max-w-lg w-full",children:[n.jsx(ua,{className:"w-6 h-6"}),n.jsx("span",{className:"text-sm",children:u}),n.jsx("button",{onClick:()=>m(""),className:"ml-auto text-red-700 hover:text-red-900",children:n.jsx(cr,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:Mt("text-white p-8 rounded-2xl shadow-xl bg-gradient-to-r from-[color] to-[color]80"),style:{backgroundColor:v},children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(sm,{className:"w-8 h-8 text-white"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"School Circulars"}),n.jsx("p",{className:"text-white/90 mt-1 text-sm",children:"Stay updated with important announcements"})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full sm:w-auto",children:[n.jsxs("button",{onClick:ue,disabled:d||ve===0||!b,className:"bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white px-4 py-2 rounded-lg flex items-center space-x-2 text-sm transition-all disabled:opacity-50",children:[d?n.jsx(Er,{className:"w-4 h-4 animate-spin"}):n.jsx(ys,{className:"w-4 h-4"}),n.jsx("span",{children:"Mark All as Read"})]}),n.jsxs("button",{onClick:()=>M(),disabled:d||!b,className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white px-4 py-2 rounded-lg flex items-center space-x-2 text-sm transition-all disabled:opacity-50",children:[d?n.jsx(Er,{className:"w-4 h-4 animate-spin"}):n.jsx(Fs,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Circular"})]})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-6 text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-white/90",children:"Total:"}),n.jsx("span",{className:"font-semibold text-white",children:N.total})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-white/90",children:"Unread:"}),n.jsx("span",{className:"font-semibold text-red-400",children:ve})]})]}),n.jsxs("div",{className:"mt-6 relative",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/70"}),n.jsx("input",{type:"text",placeholder:"Search circulars...",value:t,onChange:_=>r(_.target.value),className:"w-full pl-10 pr-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-white/30 text-white placeholder-white/50 transition-all"})]})]}),n.jsx("div",{className:"space-y-4",children:d&&l.length===0?n.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl shadow-lg",children:[n.jsx(Er,{className:"w-10 h-10 mx-auto animate-spin mb-4",style:{color:v}}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Loading circulars..."})]}):se.length===0?n.jsxs("div",{className:"bg-white rounded-2xl p-16 shadow-lg border border-gray-100 text-center",children:[n.jsx(sm,{className:"w-16 h-16 mx-auto text-gray-200 mb-4"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"No circulars found"})]}):se.map(_=>n.jsx("div",{className:Mt("bg-white rounded-2xl p-6 shadow-lg border hover:shadow-xl transition-all duration-300",{"border-l-4":_.status==="unread"}),style:{borderColor:_.status==="unread"?v:"transparent"},children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:_.title}),_.status==="unread"&&n.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:v}})]}),n.jsx("span",{className:H(_.status),children:_.status==="unread"?"Unread":"Read"}),n.jsx("p",{className:"text-gray-600 mt-2 text-sm line-clamp-3",children:_.description}),n.jsx("div",{className:"flex items-center space-x-4 text-xs text-gray-500 mt-3",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(ia,{className:"w-4 h-4",style:{color:v}}),n.jsx("span",{children:_.date})]})})]}),n.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[_.status==="unread"&&n.jsx("button",{onClick:()=>Ae(_.id),disabled:d||!b,className:"p-2 hover:bg-gray-50 rounded-lg transition-colors disabled:opacity-50",style:{color:v},title:"Mark as Read",children:n.jsx(ys,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>M(_),disabled:d||!b,className:"p-2 hover:bg-gray-50 rounded-lg transition-colors disabled:opacity-50",style:{color:v},title:"Edit",children:n.jsx(Ao,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>le(_.id),disabled:d||!b,className:"p-2 hover:bg-gray-50 rounded-lg transition-colors disabled:opacity-50",style:{color:v},title:"Delete",children:n.jsx(cs,{className:"w-4 h-4"})})]})]})},_.id))}),N.totalPages>1&&n.jsxs("div",{className:"flex items-center justify-between bg-white rounded-2xl p-4 shadow-lg",children:[n.jsx("button",{onClick:()=>Q(N.page-1),disabled:N.page===1||d,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50",children:n.jsx(yo,{className:"w-5 h-5"})}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",N.page," of ",N.totalPages," |"," ",N.total," circulars"]}),n.jsx("button",{onClick:()=>Q(N.page+1),disabled:N.page===N.totalPages||d,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50",children:n.jsx(Ni,{className:"w-5 h-5"})})]}),a&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl",children:[n.jsxs("div",{className:Mt("text-white p-6 rounded-t-2xl bg-gradient-to-r from-[color] to-[color]80 flex justify-between items-center"),style:{backgroundColor:v},children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:i?"Edit Circular":"Add New Circular"}),n.jsx("button",{onClick:K,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:n.jsx(cr,{size:24,className:"text-white"})})]}),n.jsxs("form",{onSubmit:ee,className:"p-6 space-y-5",children:[u&&n.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg",children:[n.jsx("div",{className:"font-medium text-sm",children:"Error:"}),n.jsx("div",{className:"text-xs",children:u})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),n.jsx("input",{type:"text",id:"title",name:"title",value:B.title,onChange:q,placeholder:"Enter circular title...",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 text-gray-900 placeholder-gray-400 transition-all ${p.title?"border-red-500":"border-gray-200"}`,style:{focusRingColor:v},required:!0}),p.title&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:p.title})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),n.jsx("textarea",{id:"content",name:"content",value:B.content,onChange:q,placeholder:"Enter circular description...",rows:"6",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 text-gray-900 placeholder-gray-400 transition-all ${p.content?"border-red-500":"border-gray-200"}`,style:{focusRingColor:v},required:!0}),p.content&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:p.content})]}),n.jsxs("div",{className:"flex space-x-3 pt-3",children:[n.jsx("button",{type:"button",onClick:K,disabled:d,className:"flex-1 px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 transition-all",children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:d||!b,className:"flex-1 px-4 py-2 text-white rounded-lg disabled:opacity-50 flex items-center justify-center space-x-2 transition-all bg-gradient-to-r from-[color] to-[color]80",style:{backgroundColor:v},children:[d?n.jsx(Er,{className:"w-4 h-4 animate-spin"}):n.jsx(Go,{className:"w-4 h-4"}),n.jsxs("span",{children:[d?"Saving...":i?"Update":"Save"," ","Circular"]})]})]})]})]})})]})},gre=()=>{const[t,r]=w.useState(!1),[a,s]=w.useState(null),[i,o]=w.useState([]),[l,c]=w.useState(!1),[d,f]=w.useState(""),[u,m]=w.useState(null),p=localStorage.getItem("color")||"#2563eb",g="https://vidyaastra.com/api";w.useEffect(()=>{if(typeof window<"u"){const F=localStorage.getItem("schoolId");m(F),F||f("School ID is missing. Please set your school ID.")}},[]);const v=()=>{const F=localStorage.getItem("token");return F?{Authorization:`Bearer ${F}`}:{}},y=F=>{F.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("userRole"),window.location.href="/login"),f(F.response?.data?.message||"An unexpected error occurred"),console.error("API Error:",F)},b=async()=>{if(!u){f("School ID is required to fetch diary entries."),c(!1);return}c(!0),f("");try{const F=localStorage.getItem("userId"),O=await It.get(`${g}/diary`,{headers:v(),params:{schoolId:u,studentId:F}});O.data.success?o(O.data.data.map(k=>({id:k._id,title:k.title,date:k.date,content:k.content,category:k.category==="Academics"?"Academic":k.category==="Personal"?"Personal":k.category==="Other"&&(k.originalCategory==="Sports"||k.originalCategory==="Projects")?k.originalCategory:"Other"}))):f("Failed to fetch diary entries.")}catch(F){y(F)}finally{c(!1)}};w.useEffect(()=>{u&&b()},[u]);const j=F=>{switch(F){case"Academic":return Mt("px-3 py-1 rounded-full text-xs font-medium",{backgroundColor:`${p}20`,color:p});case"Personal":return"bg-orange-100 text-orange-700 px-3 py-1 rounded-full text-xs font-medium";case"Sports":return"bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-medium";case"Projects":return"bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-xs font-medium";default:return"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-xs font-medium"}},N=(F=null)=>{s(F),r(!0),f("")},S=()=>{r(!1),s(null),f("")},B=async F=>{if(!u){f("School ID is required to delete a diary entry."),c(!1);return}if(window.confirm("Delete this diary entry?")){c(!0),f("");try{(await It.delete(`${g}/diary/${F}`,{headers:v(),data:{schoolId:u}})).data.success&&await b()}catch(O){y(O)}finally{c(!1)}}},I=F=>new Date(F).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"});return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:Mt("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:p},children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(IA,{className:"w-6 h-6",style:{color:"white"}}),n.jsx("h1",{className:"text-2xl font-bold text-white",children:"My Diary"})]})}),n.jsx("p",{className:"text-white mt-2",children:"Personal notes and thoughts"})]}),d&&n.jsx("div",{className:"fixed top-4 left-4 z-50 p-4 rounded-lg shadow-lg bg-red-500 text-white transition-all duration-300",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(cr,{className:"w-4 h-4"}),n.jsx("span",{children:d}),n.jsx("button",{onClick:()=>f(""),className:"text-white hover:text-gray-200 ml-2",children:n.jsx(cr,{className:"w-4 h-4"})})]})}),n.jsx("div",{className:"p-6 overflow-x-auto",children:l&&i.length===0?n.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[n.jsx(Er,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:p}}),n.jsx("p",{className:"text-gray-500",children:"Loading diary entries..."})]}):i.length===0?n.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[n.jsx(IA,{className:"w-16 h-16 mx-auto mb-4",style:{color:p}}),n.jsx("p",{className:"text-gray-500 text-lg",children:"No diary entries yet"}),n.jsx("p",{className:"text-gray-400",children:u?"No entries available":"Please set your school ID to view entries"})]}):n.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Title"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Date"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Content"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Category"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:i.map(F=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"py-4 px-4 font-medium text-gray-900",children:F.title}),n.jsx("td",{className:"py-4 px-4 text-gray-600",children:I(F.date)}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("div",{className:"line-clamp-2 max-w-prose text-gray-600",children:F.content})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:j(F.category),children:F.category})}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>N(F),disabled:l||!u,className:Mt("p-2 rounded-lg transition-colors disabled:opacity-50",{"hover:bg-gray-100":!l&&u}),style:{color:p},title:"View",children:n.jsx(IA,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>B(F.id),disabled:l||!u,className:Mt("p-2 rounded-lg transition-colors disabled:opacity-50",{"hover:bg-gray-100":!l&&u}),style:{color:p},title:"Delete",children:n.jsx(cs,{className:"w-4 h-4"})})]})})]},F.id))})]})})}),t&&a&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:Mt("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:p},children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:"View Diary Entry"}),n.jsx("button",{onClick:S,className:"absolute top-4 right-4 flex items-center justify-center w-8 h-8 hover:bg-gray-100 rounded-full",style:{color:p},children:n.jsx(cr,{size:24})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[d&&n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[n.jsx("div",{className:"font-medium",children:"Error:"}),n.jsx("div",{className:"text-sm",children:d})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),n.jsx("div",{className:"w-full px-4 py-3 border rounded-lg bg-gray-50 text-gray-700",children:a.title})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),n.jsx("div",{className:"w-full px-4 py-3 border rounded-lg bg-gray-50 text-gray-700",children:a.category})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),n.jsx("div",{className:"w-full px-4 py-3 border rounded-lg bg-gray-50 text-gray-700 min-h-[150px]",children:a.content})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),n.jsx("div",{className:"w-full px-4 py-3 border rounded-lg bg-gray-50 text-gray-700",children:I(a.date)})]}),n.jsx("div",{className:"pt-4",children:n.jsx("button",{type:"button",onClick:S,disabled:l,className:"w-full px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium disabled:opacity-50",children:"Close"})})]})]})})]})},xre=()=>{const[t,r]=w.useState(null),[a,s]=w.useState("#2563eb");w.useEffect(()=>{try{const de=localStorage.getItem("schoolId"),je=localStorage.getItem("color");r(de),s(je||"#2563eb"),console.log("Initialized with schoolId:",de)}catch(de){console.error("Error accessing localStorage:",de)}},[]);const i="https://vidyaastra.com/api/events",[o,l]=w.useState(!1),[c,d]=w.useState(!1),[f,u]=w.useState(null),[m,p]=w.useState(null),[g,v]=w.useState([]),[y,b]=w.useState(!1),[j,N]=w.useState(""),[S,B]=w.useState(""),[I,F]=w.useState("all"),[O,k]=w.useState({}),[V,Q]=w.useState(1),[H]=w.useState(10),[M,K]=w.useState({title:"",date:"",startTime:"",endTime:"",location:"",category:"Academic",description:""}),q=["Academic","Sports","Cultural","Meeting","Other"],re={Academic:"Academics",Sports:"Sports",Cultural:"Cultural",Meeting:"Meeting",Other:"Other"};w.useEffect(()=>{t?(console.log("School ID found, fetching events..."),ee()):console.log("No school ID found")},[t]);const ee=async()=>{if(t)try{b(!0),N(""),console.log("Fetching events for school:",t);const de=await fetch(`${i}?schoolId=${t}&page=1&limit=1000`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});console.log("Response status:",de.status);const je=await de.json();if(console.log("Response data:",je),de.ok){let ye=[];if(Array.isArray(je))ye=je;else if(je.success&&Array.isArray(je.data))ye=je.data;else if(je.data&&Array.isArray(je.data))ye=je.data;else{console.error("Unexpected data format:",je),N("Unexpected response format from server");return}const Ce=ye.map(be=>{let Ee="",Qe="";if(be.time&&be.time.includes(" - ")){const rt=be.time.split(" - ");Ee=rt[0]||"",Qe=rt[1]||""}else Ee=be.time||"",Qe="";return{id:be._id,title:be.title,date:be.date,startTime:Ee,endTime:Qe,location:be.location,category:be.category==="Academics"?"Academic":be.category,description:be.description||"",icon:J(be.category==="Academics"?"Academic":be.category)}});v(Ce),console.log(`Loaded ${Ce.length} events`)}else N(je.message||"Failed to fetch events")}catch(de){console.error("Error fetching events:",de),N("Failed to fetch events: "+de.message)}finally{b(!1)}},le=de=>/^[A-Za-z\s]*$/.test(de),Ae=()=>{const de={};if(M.title.trim()?le(M.title)?M.title.trim().length<3?de.title="Title must be at least 3 characters long":M.title.trim().length>200&&(de.title="Title must be less than 200 characters"):de.title="Title should contain only alphabets and spaces":de.title="Event title is required",!M.date)de.date="Date is required";else{const je=new Date(M.date),ye=new Date;ye.setHours(0,0,0,0),je<ye&&(de.date="Event date cannot be in the past")}return M.startTime||(de.startTime="Start time is required"),M.endTime||(de.endTime="End time is required"),M.startTime&&M.endTime&&M.startTime>=M.endTime&&(de.endTime="End time must be after start time"),M.location.trim()?M.location.trim().length<2?de.location="Location must be at least 2 characters long":M.location.trim().length>200&&(de.location="Location must be less than 200 characters"):de.location="Location is required",M.description&&M.description.length>1e3&&(de.description="Description must be less than 1000 characters"),k(de),Object.keys(de).length===0},ue=de=>{const{name:je,value:ye}=de.target;je==="title"?(ye===""||le(ye))&&K(Ce=>({...Ce,[je]:ye})):K(Ce=>({...Ce,[je]:ye})),O[je]&&k(Ce=>({...Ce,[je]:""}))},se=async de=>{if(e.preventDefault(),!t){nr.error("Error: School ID not found. Please login again.");return}if(!Ae()){nr.error("Please fix the form errors before submitting.");return}N("");try{b(!0);const je={title:M.title.trim(),date:M.date,time:`${M.startTime} - ${M.endTime}`,location:M.location.trim(),description:M.description.trim(),category:re[M.category],schoolId:t};console.log("Submitting event data:",je);const ye=m?`${i}/${m.id}`:i,be=await fetch(ye,{method:m?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(je)});console.log("Submit response status:",be.status);const Ee=await be.json();console.log("Submit response data:",Ee),be.ok&&(Ee.success||Ee._id)?(nr.success(m?"Event updated successfully!":"Event created successfully!"),await ee(),oe()):nr.error(Ee.message||Ee.error||"Failed to save event")}catch(je){console.error("Submit error:",je),nr.error("Failed to save event: "+je.message)}finally{b(!1)}},ve=async de=>{if(window.confirm("Are you sure you want to delete this event?"))try{b(!0),N(""),console.log("Deleting event:",de);const je=await fetch(`${i}/${de}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:t})});console.log("Delete response status:",je.status);const ye=await je.json();console.log("Delete response data:",ye),je.ok&&(ye.success||ye.message)?(nr.success("Event deleted successfully!"),await ee()):nr.error(ye.message||ye.error||"Failed to delete event")}catch(je){console.error("Delete error:",je),nr.error("Failed to delete event: "+je.message)}finally{b(!1)}},_=de=>{console.log("Opening view modal for event:",de),u(de),d(!0)},z=()=>{d(!1),u(null)},ae=(de=null)=>{p(de),k({}),K(de?{title:de.title,date:de.date,startTime:de.startTime,endTime:de.endTime,location:de.location,category:de.category,description:de.description}:{title:"",date:"",startTime:"",endTime:"",location:"",category:"Academic",description:""}),l(!0),N("")},oe=()=>{l(!1),p(null),k({}),N("")},ce=de=>{switch(de){case"Sports":return"bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs font-medium";case"Academic":return"px-3 py-1 rounded-full text-xs font-medium text-white";case"Cultural":return"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-xs font-medium";case"Meeting":return"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs font-medium";case"Other":return"bg-gray-100 text-gray-800 px-3 py-1 rounded-full text-xs font-medium";default:return"bg-gray-100 text-gray-800 px-3 py-1 rounded-full text-xs font-medium"}},me=de=>{switch(de){case"Sports":return"bg-green-100";case"Academic":return"bg-blue-100";case"Cultural":return"bg-purple-100";case"Meeting":return"bg-blue-100";case"Other":return"bg-gray-100";default:return"bg-gray-100"}},he=de=>new Date(de).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),te=de=>{if(!de)return"";const[je,ye]=de.split(":"),Ce=parseInt(je),be=Ce>=12?"PM":"AM";return`${Ce%12||12}:${ye} ${be}`},J=de=>{switch(de){case"Sports":return"";case"Academic":return"";case"Cultural":return"";case"Meeting":return"";case"Other":return"";default:return""}},X=g.filter(de=>{const je=de.title.toLowerCase().includes(S.toLowerCase())||de.location.toLowerCase().includes(S.toLowerCase())||de.description.toLowerCase().includes(S.toLowerCase()),ye=I==="all"||de.category===I;return je&&ye}),xe=V*H,Ne=xe-H,ge=X.slice(Ne,xe),pe=Math.ceil(X.length/H),Y=()=>{V>1&&Q(de=>de-1)},Le=()=>{V<pe&&Q(de=>de+1)},ie=de=>{Q(de)};return t?n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"text-white p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:a},children:n.jsx("div",{className:"max-w-6xl mx-auto",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4",children:[n.jsxs("div",{className:"mb-4 md:mb-0",children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"School Events"}),n.jsxs("div",{className:"text-white text-sm opacity-75 mt-1",children:["School ID: ",t," | ",g.length," events scheduled"]})]}),n.jsxs("button",{onClick:()=>ae(),disabled:y,className:"text-white px-6 py-2 rounded-lg flex items-center hover:opacity-90 transition-opacity disabled:opacity-50",style:{backgroundColor:`${a}80`},children:[y?n.jsx(Er,{className:"mr-2 animate-spin"}):n.jsx(Fs,{className:"mr-2"}),"Add Event"]})]})})}),n.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[j&&n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6 flex justify-between items-center",children:[n.jsx("span",{children:j}),n.jsx("button",{onClick:()=>N(""),className:"text-red-500 hover:text-red-700 font-bold",children:""})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Sa,{className:"absolute left-3 top-3 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search events...",value:S,onChange:de=>B(de.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(mo,{className:"absolute left-3 top-3 text-gray-400"}),n.jsxs("select",{value:I,onChange:de=>F(de.target.value),className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none bg-white",children:[n.jsx("option",{value:"all",children:"All Categories"}),q.map(de=>n.jsx("option",{value:de,children:de},de))]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[y&&g.length===0&&n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(Er,{className:"animate-spin mx-auto mb-4",size:32,style:{color:a}}),n.jsx("p",{className:"text-gray-600",children:"Loading events..."})]}),!y&&X.length===0&&n.jsxs("div",{className:"p-8 text-center text-gray-500",children:[n.jsx(ia,{className:"mx-auto mb-4",size:48,style:{color:a}}),n.jsx("div",{className:"text-lg mb-2",children:S||I!=="all"?"No events match your filters":"No events scheduled"}),n.jsx("div",{className:"text-sm",children:S||I!=="all"?"Try adjusting your search terms or filters":"Click 'Add Event' to create your first event"})]}),!y&&X.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Event"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ge.map(de=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${me(de.category)}`,children:n.jsx("span",{className:"text-xl",children:de.icon})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:de.title}),n.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:de.description})]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[n.jsx(ia,{className:"mr-2",style:{color:a}}),he(de.date)]}),n.jsx("div",{className:"text-sm text-gray-500",children:de.startTime&&de.endTime?`${te(de.startTime)} - ${te(de.endTime)}`:de.startTime||"Time not specified"})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[n.jsx(K0,{className:"w-4 h-4",style:{color:a}}),n.jsx("span",{className:"max-w-xs truncate",children:de.location})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:ce(de.category),style:de.category==="Academic"?{backgroundColor:a}:{},children:de.category})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[n.jsx("button",{onClick:()=>_(de),className:"text-blue-600 hover:text-blue-900 mr-4",disabled:y,children:n.jsx(ys,{})}),n.jsx("button",{onClick:()=>ae(de),className:"text-indigo-600 hover:text-indigo-900 mr-4",disabled:y,children:n.jsx(Ao,{})}),n.jsx("button",{onClick:()=>ve(de.id),className:"text-red-600 hover:text-red-900",disabled:y,children:n.jsx(cs,{})})]})]},de.id))})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center px-6 py-4 border-t border-gray-200",children:[n.jsxs("div",{className:"text-sm text-gray-600 mb-2 sm:mb-0",children:["Page ",V," of ",pe]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:Y,disabled:V===1,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100",children:n.jsx(yo,{})}),[...Array(pe)].map((de,je)=>{const ye=je+1;return n.jsx("button",{onClick:()=>ie(ye),className:`px-3 py-1 rounded-lg border border-gray-300 ${V===ye?"bg-blue-500 text-white":"hover:bg-gray-100"}`,children:ye},ye)}),n.jsx("button",{onClick:Le,disabled:V===pe,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100",children:n.jsx(Ni,{})})]})]})]})]})]}),o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"text-white p-4 rounded-t-lg flex justify-between items-center",style:{backgroundColor:a},children:[n.jsx("h2",{className:"text-xl font-bold",children:m?"Edit Event":"Add Event"}),n.jsx("button",{onClick:oe,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:n.jsx(cr,{size:24})})]}),n.jsxs("form",{onSubmit:se,className:"p-6",children:[j&&n.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-3 py-2 rounded mb-4 text-sm",children:j}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Title *"}),n.jsx("input",{type:"text",name:"title",value:M.title,onChange:ue,className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${O.title?"border-red-500":"border-gray-300"}`,placeholder:"Enter event title (letters only)...",maxLength:200}),O.title&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:O.title})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date *"}),n.jsx("input",{type:"date",name:"date",value:M.date,onChange:ue,className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${O.date?"border-red-500":"border-gray-300"}`}),O.date&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:O.date})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),n.jsx("select",{name:"category",value:M.category,onChange:ue,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:q.map(de=>n.jsx("option",{value:de,children:de},de))})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time *"}),n.jsx("input",{type:"time",name:"startTime",value:M.startTime,onChange:ue,className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${O.startTime?"border-red-500":"border-gray-300"}`}),O.startTime&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:O.startTime})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time *"}),n.jsx("input",{type:"time",name:"endTime",value:M.endTime,onChange:ue,className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${O.endTime?"border-red-500":"border-gray-300"}`}),O.endTime&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:O.endTime})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location *"}),n.jsx("input",{type:"text",name:"location",value:M.location,onChange:ue,className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${O.location?"border-red-500":"border-gray-300"}`,placeholder:"Enter location...",maxLength:200}),O.location&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:O.location})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block macro text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{name:"description",value:M.description,onChange:ue,rows:"3",className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none ${O.description?"border-red-500":"border-gray-300"}`,placeholder:"Event description...",maxLength:1e3}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[M.description.length,"/1000 characters"]}),O.description&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:O.description})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{type:"button",onClick:oe,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",disabled:y,children:"Cancel"}),n.jsxs("button",{type:"submit",className:"text-white px-6 py-2 rounded-lg flex items-center hover:opacity-90",style:{backgroundColor:a},disabled:y,children:[y?n.jsx(Er,{className:"mr-2 animate-spin"}):n.jsx(Go,{className:"mr-2"}),m?"Update":"Save"]})]})]})]})}),c&&f&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"text-white p-4 rounded-t-lg flex justify-between items-center",style:{backgroundColor:a},children:[n.jsx("h2",{className:"text-xl font-bold",children:"Event Details"}),n.jsx("button",{onClick:z,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:n.jsx(cr,{size:24})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${me(f.category)}`,children:n.jsx("span",{className:"text-xl",children:f.icon})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:f.title}),n.jsx("span",{className:ce(f.category),style:f.category==="Academic"?{backgroundColor:a}:{},children:f.category})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center text-gray-700",children:[n.jsx(ia,{className:"mr-2",style:{color:a}}),n.jsx("span",{children:he(f.date)})]}),n.jsxs("div",{className:"flex items-center text-gray-700",children:[n.jsx(Ea,{className:"mr-2",style:{color:a}}),n.jsx("span",{children:f.startTime&&f.endTime?`${te(f.startTime)} - ${te(f.endTime)}`:f.startTime||"Time not specified"})]}),n.jsxs("div",{className:"flex items-center text-gray-700",children:[n.jsx(K0,{className:"mr-2",style:{color:a}}),n.jsx("span",{children:f.location})]}),n.jsxs("div",{className:"text-gray-700",children:[n.jsx("p",{className:"font-medium mb-1",children:"Description:"}),n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:f.description||"No description provided"})]})]}),n.jsx("div",{className:"flex justify-end mt-6",children:n.jsx("button",{onClick:z,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Close"})})]})]})}),n.jsx(t4,{})]}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-md",children:[n.jsx("div",{className:"text-red-500 text-xl mb-4",children:"School ID not found"}),n.jsx("div",{className:"text-gray-600 mb-4",children:"Please login again to access the events system."}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Refresh Page"})]})})},Xp="https://vidyaastra.com/api",yre=()=>{const[t,r]=w.useState(""),[a,s]=w.useState("all"),[i,o]=w.useState("all"),[l,c]=w.useState(""),[d,f]=w.useState(""),[u,m]=w.useState(!1),[p,g]=w.useState(!1),[v,y]=w.useState(null),[b,j]=w.useState(null),[N,S]=w.useState({upcoming:{data:[],total:0,page:1,totalPages:0},past:{data:[],total:0,page:1,totalPages:1}}),[B,I]=w.useState([]),[F,O]=w.useState(!1),[k,V]=w.useState(""),[Q,H]=w.useState(!1),[M,K]=w.useState(""),[q,re]=w.useState("#2563eb"),[ee,le]=w.useState(null),[Ae,ue]=w.useState({upcomingPage:1,pastPage:1,limit:10}),[se,ve]=w.useState({name:"",date:"",color:"#667eea",type:"upcoming",classId:""}),[_,z]=w.useState({}),ae=w.useMemo(()=>B.map(_e=>({_id:_e._id,className:_e.className||`Class ${_e._id}`,section:_e.section||"",displayName:`${_e.className||`Class ${_e._id}`}${_e.section?` ${_e.section}`:""}`.trim()})),[B]),oe=w.useMemo(()=>[...new Set(ae.map(_e=>_e.className))].sort(),[ae]),ce=w.useMemo(()=>[...new Set(ae.filter(_e=>_e.className===l).map(_e=>_e.section).filter(Boolean))].sort(),[ae,l]),me=w.useCallback(async()=>{if(ee)try{O(!0),V("");const _e=await It.get(`${Xp}/class?schoolId=${ee}`,{headers:he()});_e.data.success&&Array.isArray(_e.data.data)?I(_e.data.data):(I([]),V("No classes found"))}catch(_e){I([]),V("Failed to load classes: "+_e.message),te(_e)}finally{O(!1)}},[ee]),he=()=>{const _e=localStorage.getItem("token");return _e?{Authorization:`Bearer ${_e}`}:{}},te=_e=>{_e.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("schoolId"),window.location.href="/login"),K(_e.response?.data?.message||_e.message||"An unexpected error occurred"),console.error("API Error:",_e)},J=w.useCallback(async(_e={})=>{if(!ee){K("School ID is required to fetch birthdays."),H(!1);return}H(!0),K("");try{const dt={schoolId:ee,upcomingPage:_e.upcomingPage||Ae.upcomingPage,pastPage:_e.pastPage||Ae.pastPage,limit:Ae.limit};l&&(dt.className=l),d&&(dt.section=d);const yt=await It.get(`${Xp}/birthdays`,{headers:he(),params:dt});yt.data&&yt.data.upcoming&&yt.data.past?S({upcoming:{data:yt.data.upcoming.data.map(X),total:yt.data.upcoming.total,page:yt.data.upcoming.page,totalPages:yt.data.upcoming.totalPages},past:{data:yt.data.past.data.map(X),total:yt.data.past.total,page:yt.data.past.page,totalPages:yt.data.past.totalPages}}):K("Received unexpected data format from server for birthdays.")}catch(dt){te(dt)}finally{H(!1)}},[ee,Ae.upcomingPage,Ae.pastPage,Ae.limit,l,d]),X=_e=>({id:_e._id,name:_e.name,date:_e.date,color:_e.color,type:_e.type,role:_e.role,classId:_e.classId?._id||_e.classId,className:_e.classId?.className||"",section:_e.classId?.section||""});w.useEffect(()=>{const _e=localStorage.getItem("color");_e&&re(_e);const dt=localStorage.getItem("schoolId");dt?le(dt):K("School ID not found in local storage. Please log in to access birthday data.")},[]),w.useEffect(()=>{ee&&(me(),J())},[me,J,ee]),w.useEffect(()=>{k&&K(k)},[k]);const xe=w.useCallback(_e=>{if(!_e)return"Unknown Class";const dt=ae.find(yt=>yt._id===(_e._id||_e));return dt?dt.displayName:"Unknown Class"},[ae]),Ne=(_e,dt=new Date().getFullYear())=>{try{const yt=new Date(`${_e}, ${dt}`);if(isNaN(yt.getTime()))throw new Error("Invalid date format");return yt}catch{return null}},ge=_e=>{const dt=new Date,yt=Ne(_e,dt.getFullYear());if(!yt)return"Unknown";let rr=dt.getFullYear()-yt.getFullYear();const _t=dt.getMonth()-yt.getMonth();return(_t<0||_t===0&&dt.getDate()<yt.getDate())&&rr--,rr>=0?rr:"Unknown"},pe=_e=>{const dt=new Date;dt.setHours(0,0,0,0);const yt=Ne(_e);if(!yt)return"Unknown";const rr=dt.getFullYear(),_t=new Date(rr,yt.getMonth(),yt.getDate());_t<dt&&_t.setFullYear(rr+1);const Ve=_t.getTime()-dt.getTime(),Se=Math.ceil(Ve/(1e3*60*60*24));return Se>=0?Se:"Unknown"},Y=_e=>{try{const[dt,yt]=_e.split(" "),rr=String(Number.parseInt(yt,10)).padStart(2,"0");return`${dt} ${rr}`}catch{return _e}},Le=_e=>_e==="Unknown"?n.jsx("span",{className:"text-sm text-gray-600",children:"Invalid date"}):_e===0?n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[n.jsx(ff,{className:"w-3 h-3 mr-1",style:{color:q}}),"Today!"]}):_e<=7?n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[n.jsx(Ea,{className:"w-3 h-3 mr-1",style:{color:q}}),_e," days"]}):_e<=30?n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[n.jsx(ia,{className:"w-3 h-3 mr-1",style:{color:q}}),_e," days"]}):n.jsxs("span",{className:"text-sm text-gray-600",children:[_e," days"]}),ie=w.useMemo(()=>N.upcoming.data.map(_e=>({..._e,className:xe(_e.classId)})).filter(_e=>{const dt=_e.name.toLowerCase().includes(t.toLowerCase()),yt=Ne(_e.date),rr=yt?yt.getMonth()+1:null,_t=a==="all"||rr&&rr.toString()===a,Ve=pe(_e.date);let Se=!0;i==="today"?Se=Ve===0:i==="week"?Se=Ve<=7&&Ve>0:i==="month"&&(Se=Ve<=30&&Ve>0);const ot=l===""||_e.className===l,Ot=d===""||_e.section===d;return dt&&_t&&Se&&ot&&Ot}),[t,a,i,l,d,N.upcoming.data,xe]),de=w.useMemo(()=>N.past.data.map(_e=>({..._e,className:xe(_e.classId)})).filter(_e=>{const dt=_e.name.toLowerCase().includes(t.toLowerCase()),yt=Ne(_e.date),rr=yt?yt.getMonth()+1:null,_t=a==="all"||rr&&rr.toString()===a,Ve=l===""||_e.className===l,Se=d===""||_e.section===d;return dt&&_t&&Ve&&Se}),[t,a,l,d,N.past.data,xe]),je=w.useMemo(()=>{const _e=N.upcoming.total+N.past.total,dt=[...N.upcoming.data,...N.past.data].filter(_t=>pe(_t.date)===0).length,yt=[...N.upcoming.data,...N.past.data].filter(_t=>{const Ve=pe(_t.date);return Ve<=7&&Ve>0&&Ve!=="Unknown"}).length,rr=[...N.upcoming.data,...N.past.data].filter(_t=>{const Ve=pe(_t.date);return Ve<=30&&Ve>0&&Ve!=="Unknown"}).length;return{total:_e,todayBirthdays:dt,thisWeekBirthdays:yt,thisMonthBirthdays:rr}},[N]),ye=async()=>{H(!0);try{const _e={schoolId:ee,upcomingPage:1,pastPage:1,limit:1e3};l&&(_e.className=l),d&&(_e.section=d);const dt=await It.get(`${Xp}/birthdays`,{headers:he(),params:_e}),rr=`data:text/csv;charset=utf-8,Name,Date,Class,Section,Color,Type,Days Until,Role
`+[...dt.data.upcoming.data.map(X),...dt.data.past.data.map(X)].map(Se=>({...Se,className:xe(Se.classId)})).map(Se=>`${Se.name},${Se.date},${Se.className},${Se.section},${Se.color},${Se.type},${pe(Se.date)},${Se.role}`).join(`
`),_t=encodeURI(rr),Ve=document.createElement("a");Ve.setAttribute("href",_t),Ve.setAttribute("download","birthdays.csv"),document.body.appendChild(Ve),Ve.click(),document.body.removeChild(Ve)}catch(_e){te(_e)}finally{H(!1)}},Ce=_e=>{y(_e),g(!0)},be=_e=>{j(_e),ve({name:_e.name,date:_e.date,color:_e.color,type:_e.type,classId:_e.classId?._id||_e.classId||""}),z({}),m(!0)},Ee=w.useCallback(async _e=>{if(window.confirm("Are you sure you want to delete this record?")){if(H(!0),K(""),!ee){K("School ID is missing. Cannot perform this operation."),H(!1);return}try{await It.delete(`${Xp}/birthdays/${_e}`,{headers:he(),data:{schoolId:ee}}),await J()}catch(dt){te(dt)}finally{H(!1)}}},[J,ee]),Qe=()=>{j(null),ve({name:"",date:"",color:q,type:"upcoming",classId:""}),z({}),m(!0)},rt=()=>{const _e={};return se.name.trim()||(_e.name="Name is required"),(!se.date.trim()||!/^[A-Za-z]+\s\d{1,2}(,\s\d{4})?$/.test(se.date.trim()))&&(_e.date="Date must be in 'Month Day' or 'Month Day, Year' format (e.g., 'March 15' or 'March 15, 2025')"),se.color||(_e.color="Color is required"),se.type||(_e.type="Type is required"),se.classId||(_e.classId="Class is required"),z(_e),Object.keys(_e).length===0},Te=async()=>{if(rt()){if(H(!0),K(""),!ee){K("School ID is missing. Cannot perform this operation."),H(!1);return}try{const _e={name:se.name.trim(),role:"student",date:se.date.trim(),color:se.color,type:se.type,schoolId:ee,classId:se.classId};let dt;b?dt=await It.put(`${Xp}/birthdays/${b.id}`,_e,{headers:he()}):dt=await It.post(`${Xp}/birthdays`,_e,{headers:he()}),dt.data&&(await J(),m(!1),j(null))}catch(_e){te(_e),_e.response?.data?.message?K(_e.response.data.message):K("Failed to save birthday record. Please try again.")}finally{H(!1)}}},nt=(_e,dt)=>{dt<1||dt>N[_e].totalPages||(ue(yt=>({...yt,[`${_e}Page`]:dt})),J({[`${_e}Page`]:dt}))},xt=[{value:"1",label:"January"},{value:"2",label:"February"},{value:"3",label:"March"},{value:"4",label:"April"},{value:"5",label:"May"},{value:"6",label:"June"},{value:"7",label:"July"},{value:"8",label:"August"},{value:"9",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],it=({type:_e,data:dt})=>dt.total===0||dt.totalPages<=1?null:n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-gray-50 border-t border-gray-200",children:[n.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(dt.page-1)*Ae.limit+1," to"," ",Math.min(dt.page*Ae.limit,dt.total)," of ",dt.total," ","entries"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>nt(_e,dt.page-1),disabled:dt.page===1,className:"p-2 rounded-md border border-gray-300 bg-white text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(yo,{className:"w-4 h-4"})}),[...Array(dt.totalPages)].map((yt,rr)=>{const _t=rr+1;return n.jsx("button",{onClick:()=>nt(_e,_t),className:Mt("px-3 py-1 rounded-md border border-gray-300",dt.page===_t?"bg-blue-500 text-white":"bg-white text-gray-500 hover:bg-gray-50"),style:dt.page===_t?{backgroundColor:q}:{},children:_t},_t)}),n.jsx("button",{onClick:()=>nt(_e,dt.page+1),disabled:dt.page===dt.totalPages,className:"p-2 rounded-md border border-gray-300 bg-white text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Ni,{className:"w-4 h-4"})})]})]});return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[M&&n.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[n.jsx(ua,{className:"w-5 h-5"}),n.jsx("span",{className:"block sm:inline",children:M}),n.jsx("button",{onClick:()=>K(""),className:"ml-auto text-red-700 hover:text-red-900",children:n.jsx(cr,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"max-w-5xl mx-auto",children:[n.jsxs("div",{className:Mt("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:q},children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ff,{className:"w-6 h-6",style:{color:"white"}}),n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Birthday Management"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{onClick:Qe,disabled:Q||!ee||F||ae.length===0,className:Mt("text-white px-4 py-2 rounded-xl flex items-center space-x-2 disabled:opacity-50"),style:{backgroundColor:`${q}80`},children:[Q||F?n.jsx(Er,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):n.jsx(Fs,{className:"w-4 h-4",style:{color:"white"}}),n.jsx("span",{children:"Add New"})]}),n.jsxs("button",{onClick:ye,disabled:Q||!ee,className:Mt("text-white px-4 py-2 rounded-xl flex items-center space-x-2 disabled:opacity-50"),style:{backgroundColor:`${q}80`},children:[n.jsx(Us,{className:"w-4 h-4",style:{color:"white"}}),n.jsx("span",{children:"Export"})]})]})]}),n.jsx("p",{className:"text-white mt-2",children:"Track and manage birthdays"})]}),n.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Total Records",value:je.total,color:"blue",icon:da},{label:"Today's Birthdays",value:je.todayBirthdays,color:"red",icon:ff},{label:"This Week",value:je.thisWeekBirthdays,color:"orange",icon:Ea},{label:"This Month",value:je.thisMonthBirthdays,color:"yellow",icon:ia}].map((_e,dt)=>n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:_e.label}),n.jsx("p",{className:`text-2xl font-bold text-${_e.color}-600`,children:_e.value})]}),n.jsx("div",{className:`p-3 bg-${_e.color}-100 rounded-xl`,children:n.jsx(_e.icon,{className:`w-6 h-6 text-${_e.color}-600`})})]})},dt))}),n.jsx("div",{className:"px-6 mb-6",children:n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4",style:{color:q}}),n.jsx("input",{type:"text",placeholder:"Search name...",value:t,onChange:_e=>r(_e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:q,outlineColor:q}})]}),n.jsxs("select",{value:a,onChange:_e=>s(_e.target.value),className:"px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:q,outlineColor:q},children:[n.jsx("option",{value:"all",children:"All Months"}),xt.map(_e=>n.jsx("option",{value:_e.value,children:_e.label},_e.value))]}),n.jsxs("select",{value:i,onChange:_e=>o(_e.target.value),className:"px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:q,outlineColor:q},children:[n.jsx("option",{value:"all",children:"All Upcoming"}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"week",children:"This Week"}),n.jsx("option",{value:"month",children:"This Month"})]}),n.jsxs("select",{value:l,onChange:_e=>{c(_e.target.value),f("")},className:"px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:q,outlineColor:q},disabled:F,children:[n.jsx("option",{value:"",children:"All Classes"}),oe.map(_e=>n.jsx("option",{value:_e,children:_e},_e))]}),n.jsxs("select",{value:d,onChange:_e=>f(_e.target.value),className:"px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:q,outlineColor:q},disabled:F||l===""||ce.length===0,children:[n.jsx("option",{value:"",children:"All Sections"}),ce.map(_e=>n.jsx("option",{value:_e,children:_e},_e))]})]})})}),n.jsxs("div",{className:"px-6 pb-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden mb-6",children:[n.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:n.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[n.jsx(ff,{className:"w-5 h-5 mr-2",style:{color:q}}),"Upcoming Birthdays (",ie.length,")"]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full table-auto",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Person"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ie.map(_e=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:_e.name}),n.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",_e.id]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:_e.className})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:_e.section||"N/A"})}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"text-sm text-gray-900",children:Y(_e.date)}),n.jsx("div",{className:"text-xs text-gray-500",children:Le(pe(_e.date))})]}),n.jsx("td",{className:"px-6 py-4 text-sm font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>Ce(_e),className:"p-1 hover:bg-gray-100 rounded transition-colors",style:{color:q},title:"View Details",children:n.jsx(ys,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>be(_e),disabled:Q||!ee,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:q},title:"Edit",children:n.jsx(Ko,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Ee(_e.id),disabled:Q||!ee,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:q},title:"Delete",children:n.jsx(cs,{className:"w-4 h-4"})})]})})]},_e.id))})]})}),ie.length===0&&!Q&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ff,{className:"w-12 h-12 mx-auto mb-4",style:{color:q}}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No upcoming birthdays"}),n.jsx("p",{className:"text-gray-500",children:"No upcoming birthdays found"})]}),Q&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Er,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:q}}),n.jsx("p",{className:"text-gray-500",children:"Loading birthdays..."})]}),n.jsx(it,{type:"upcoming",data:N.upcoming})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:n.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[n.jsx(ia,{className:"w-5 h-5 mr-2",style:{color:q}}),"Past Birthdays (",de.length,")"]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full table-auto",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Person"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:de.map(_e=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:_e.name}),n.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",_e.id]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:_e.className})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:_e.section||"N/A"})}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"text-sm text-gray-900",children:Y(_e.date)}),n.jsx("div",{className:"text-xs text-gray-500",children:"Past birthday"})]}),n.jsx("td",{className:"px-6 py-4 text-sm font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>Ce(_e),className:"p-1 hover:bg-gray-100 rounded transition-colors",style:{color:q},title:"View Details",children:n.jsx(ys,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>be(_e),disabled:Q||!ee,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:q},title:"Edit",children:n.jsx(Ko,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Ee(_e.id),disabled:Q||!ee,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:q},title:"Delete",children:n.jsx(cs,{className:"w-4 h-4"})})]})})]},_e.id))})]})}),de.length===0&&!Q&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ia,{className:"w-12 h-12 mx-auto mb-4",style:{color:q}}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No past birthdays"}),n.jsx("p",{className:"text-gray-500",children:"No past birthdays found"})]}),Q&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Er,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:q}}),n.jsx("p",{className:"text-gray-500",children:"Loading birthdays..."})]}),n.jsx(it,{type:"past",data:N.past})]})]})]}),u&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md mx-4",children:[n.jsxs("div",{className:Mt("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:q},children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:b?"Edit Birthday":"Add New Birthday"}),n.jsx("button",{onClick:()=>m(!1),className:"flex items-center justify-center w-8 h-8 hover:bg-gray-100 rounded-full",style:{color:"white"},children:n.jsx(cr,{size:24})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[F&&n.jsxs("div",{className:"text-center py-4",children:[n.jsx(Er,{className:"w-6 h-6 mx-auto animate-spin mb-2",style:{color:q}}),n.jsx("p",{className:"text-sm text-gray-600",children:"Loading classes..."})]}),!F&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Full Name *"}),n.jsx("input",{type:"text",placeholder:"Full Name",value:se.name,onChange:_e=>{ve({...se,name:_e.target.value}),z(dt=>({...dt,name:""}))},className:Mt("w-full px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",{"border-red-500":_.name}),style:{borderColor:_.name?"#ef4444":q,outlineColor:q},required:!0}),_.name&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:_.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Date *"}),n.jsx("input",{type:"text",placeholder:"Date (e.g., March 15 or March 15, 2025)",value:se.date,onChange:_e=>{ve({...se,date:_e.target.value}),z(dt=>({...dt,date:""}))},className:Mt("w-full px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",{"border-red-500":_.date}),style:{borderColor:_.date?"#ef4444":q,outlineColor:q},required:!0}),_.date&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:_.date})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Class *"}),n.jsxs("select",{value:se.classId,onChange:_e=>{ve({...se,classId:_e.target.value}),z(dt=>({...dt,classId:""}))},disabled:F,className:Mt("w-full px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50",{"border-red-500":_.classId}),style:{borderColor:_.classId?"#ef4444":q,outlineColor:q},required:!0,children:[n.jsx("option",{value:"",children:"Select Class"}),ae.map(_e=>n.jsx("option",{value:_e._id,children:_e.displayName},_e._id))]}),_.classId&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:_.classId})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Color *"}),n.jsx("input",{type:"color",value:se.color,onChange:_e=>{ve({...se,color:_e.target.value}),z(dt=>({...dt,color:""}))},className:Mt("w-full h-10 px-2 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",{"border-red-500":_.color}),style:{borderColor:_.color?"#ef4444":q,outlineColor:q},required:!0}),_.color&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:_.color})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Type *"}),n.jsxs("select",{value:se.type,onChange:_e=>{ve({...se,type:_e.target.value}),z(dt=>({...dt,type:""}))},className:Mt("w-full px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",{"border-red-500":_.type}),style:{borderColor:_.type?"#ef4444":q,outlineColor:q},required:!0,children:[n.jsx("option",{value:"",children:"Select Type"}),n.jsx("option",{value:"upcoming",children:"Upcoming"}),n.jsx("option",{value:"past",children:"Past"})]}),_.type&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:_.type})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{onClick:()=>m(!1),disabled:Q,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsxs("button",{onClick:Te,disabled:Q||!ee||F||ae.length===0,className:Mt("flex-1 px-4 py-2 text-white rounded-xl flex items-center justify-center space-x-2 disabled:opacity-50"),style:{backgroundColor:q},children:[Q?n.jsx(Er,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):n.jsx(Go,{className:"w-4 h-4",style:{color:"white"}}),n.jsx("span",{children:"Save"})]})]})]})]})]})}),p&&v&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md mx-4",children:[n.jsxs("div",{className:Mt("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:q},children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:"Birthday Details"}),n.jsx("button",{onClick:()=>g(!1),className:"flex items-center justify-center w-8 h-8 hover:bg-gray-100 rounded-full",style:{color:"white"},children:n.jsx(cr,{size:24})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Name"}),n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:v.name})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Role"}),n.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:v.role})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Class"}),n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:v.className})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Section"}),n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:v.section||"N/A"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Date"}),n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:Y(v.date)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Age"}),n.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[ge(v.date)," years"]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Next Birthday"}),n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:pe(v.date)==="Unknown"?"Invalid date":`${pe(v.date)} days`})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Type"}),n.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:v.type})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Color"}),n.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-300",style:{backgroundColor:v.color}})]}),n.jsx("div",{className:"pt-4",children:n.jsx("button",{onClick:()=>g(!1),className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors",children:"Close"})})]})]})})]})},xU=6048e5,vre=864e5,pk=Symbol.for("constructDateFrom");function Am(t,r){return typeof t=="function"?t(r):t&&typeof t=="object"&&pk in t?t[pk](r):t instanceof Date?new t.constructor(r):new Date(r)}function Eu(t,r){return Am(r||t,t)}let bre={};function i4(){return bre}function dy(t,r){const a=i4(),s=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,i=Eu(t,r?.in),o=i.getDay(),l=(o<s?7:0)+o-s;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function F2(t,r){return dy(t,{...r,weekStartsOn:1})}function yU(t,r){const a=Eu(t,r?.in),s=a.getFullYear(),i=Am(a,0);i.setFullYear(s+1,0,4),i.setHours(0,0,0,0);const o=F2(i),l=Am(a,0);l.setFullYear(s,0,4),l.setHours(0,0,0,0);const c=F2(l);return a.getTime()>=o.getTime()?s+1:a.getTime()>=c.getTime()?s:s-1}function gk(t){const r=Eu(t),a=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return a.setUTCFullYear(r.getFullYear()),+t-+a}function wre(t,...r){const a=Am.bind(null,r.find(s=>typeof s=="object"));return r.map(a)}function xk(t,r){const a=Eu(t,r?.in);return a.setHours(0,0,0,0),a}function jre(t,r,a){const[s,i]=wre(a?.in,t,r),o=xk(s),l=xk(i),c=+o-gk(o),d=+l-gk(l);return Math.round((c-d)/vre)}function Nre(t,r){const a=yU(t,r),s=Am(t,0);return s.setFullYear(a,0,4),s.setHours(0,0,0,0),F2(s)}function Sre(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Cre(t){return!(!Sre(t)&&typeof t!="number"||isNaN(+Eu(t)))}function Bre(t,r){const a=Eu(t,r?.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}const Ere={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Tre=(t,r,a)=>{let s;const i=Ere[t];return typeof i=="string"?s=i:r===1?s=i.one:s=i.other.replace("{{count}}",r.toString()),a?.addSuffix?a.comparison&&a.comparison>0?"in "+s:s+" ago":s};function SN(t){return(r={})=>{const a=r.width?String(r.width):t.defaultWidth;return t.formats[a]||t.formats[t.defaultWidth]}}const Fre={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ire={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kre={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_re={date:SN({formats:Fre,defaultWidth:"full"}),time:SN({formats:Ire,defaultWidth:"full"}),dateTime:SN({formats:kre,defaultWidth:"full"})},Pre={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ore=(t,r,a,s)=>Pre[t];function i1(t){return(r,a)=>{const s=a?.context?String(a.context):"standalone";let i;if(s==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,c=a?.width?String(a.width):l;i=t.formattingValues[c]||t.formattingValues[l]}else{const l=t.defaultWidth,c=a?.width?String(a.width):t.defaultWidth;i=t.values[c]||t.values[l]}const o=t.argumentCallback?t.argumentCallback(r):r;return i[o]}}const Dre={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Lre={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Mre={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ure={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Rre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Qre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Hre=(t,r)=>{const a=Number(t),s=a%100;if(s>20||s<10)switch(s%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},$re={ordinalNumber:Hre,era:i1({values:Dre,defaultWidth:"wide"}),quarter:i1({values:Lre,defaultWidth:"wide",argumentCallback:t=>t-1}),month:i1({values:Mre,defaultWidth:"wide"}),day:i1({values:Ure,defaultWidth:"wide"}),dayPeriod:i1({values:Rre,defaultWidth:"wide",formattingValues:Qre,defaultFormattingWidth:"wide"})};function o1(t){return(r,a={})=>{const s=a.width,i=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],o=r.match(i);if(!o)return null;const l=o[0],c=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(c)?Vre(c,m=>m.test(l)):zre(c,m=>m.test(l));let f;f=t.valueCallback?t.valueCallback(d):d,f=a.valueCallback?a.valueCallback(f):f;const u=r.slice(l.length);return{value:f,rest:u}}}function zre(t,r){for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&r(t[a]))return a}function Vre(t,r){for(let a=0;a<t.length;a++)if(r(t[a]))return a}function Kre(t){return(r,a={})=>{const s=r.match(t.matchPattern);if(!s)return null;const i=s[0],o=r.match(t.parsePattern);if(!o)return null;let l=t.valueCallback?t.valueCallback(o[0]):o[0];l=a.valueCallback?a.valueCallback(l):l;const c=r.slice(i.length);return{value:l,rest:c}}}const Gre=/^(\d+)(th|st|nd|rd)?/i,Wre=/\d+/i,qre={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Yre={any:[/^b/i,/^(a|c)/i]},Xre={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Jre={any:[/1/i,/2/i,/3/i,/4/i]},Zre={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},eae={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tae={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rae={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},aae={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sae={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nae={ordinalNumber:Kre({matchPattern:Gre,parsePattern:Wre,valueCallback:t=>parseInt(t,10)}),era:o1({matchPatterns:qre,defaultMatchWidth:"wide",parsePatterns:Yre,defaultParseWidth:"any"}),quarter:o1({matchPatterns:Xre,defaultMatchWidth:"wide",parsePatterns:Jre,defaultParseWidth:"any",valueCallback:t=>t+1}),month:o1({matchPatterns:Zre,defaultMatchWidth:"wide",parsePatterns:eae,defaultParseWidth:"any"}),day:o1({matchPatterns:tae,defaultMatchWidth:"wide",parsePatterns:rae,defaultParseWidth:"any"}),dayPeriod:o1({matchPatterns:aae,defaultMatchWidth:"any",parsePatterns:sae,defaultParseWidth:"any"})},iae={code:"en-US",formatDistance:Tre,formatLong:_re,formatRelative:Ore,localize:$re,match:nae,options:{weekStartsOn:0,firstWeekContainsDate:1}};function oae(t,r){const a=Eu(t,r?.in);return jre(a,Bre(a))+1}function lae(t,r){const a=Eu(t,r?.in),s=+F2(a)-+Nre(a);return Math.round(s/xU)+1}function vU(t,r){const a=Eu(t,r?.in),s=a.getFullYear(),i=i4(),o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=Am(r?.in||t,0);l.setFullYear(s+1,0,o),l.setHours(0,0,0,0);const c=dy(l,r),d=Am(r?.in||t,0);d.setFullYear(s,0,o),d.setHours(0,0,0,0);const f=dy(d,r);return+a>=+c?s+1:+a>=+f?s:s-1}function cae(t,r){const a=i4(),s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,i=vU(t,r),o=Am(r?.in||t,0);return o.setFullYear(i,0,s),o.setHours(0,0,0,0),dy(o,r)}function dae(t,r){const a=Eu(t,r?.in),s=+dy(a,r)-+cae(a,r);return Math.round(s/xU)+1}function hs(t,r){const a=t<0?"-":"",s=Math.abs(t).toString().padStart(r,"0");return a+s}const Qh={y(t,r){const a=t.getFullYear(),s=a>0?a:1-a;return hs(r==="yy"?s%100:s,r.length)},M(t,r){const a=t.getMonth();return r==="M"?String(a+1):hs(a+1,2)},d(t,r){return hs(t.getDate(),r.length)},a(t,r){const a=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(t,r){return hs(t.getHours()%12||12,r.length)},H(t,r){return hs(t.getHours(),r.length)},m(t,r){return hs(t.getMinutes(),r.length)},s(t,r){return hs(t.getSeconds(),r.length)},S(t,r){const a=r.length,s=t.getMilliseconds(),i=Math.trunc(s*Math.pow(10,a-3));return hs(i,r.length)}},Jp={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},yk={G:function(t,r,a){const s=t.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return a.era(s,{width:"abbreviated"});case"GGGGG":return a.era(s,{width:"narrow"});case"GGGG":default:return a.era(s,{width:"wide"})}},y:function(t,r,a){if(r==="yo"){const s=t.getFullYear(),i=s>0?s:1-s;return a.ordinalNumber(i,{unit:"year"})}return Qh.y(t,r)},Y:function(t,r,a,s){const i=vU(t,s),o=i>0?i:1-i;if(r==="YY"){const l=o%100;return hs(l,2)}return r==="Yo"?a.ordinalNumber(o,{unit:"year"}):hs(o,r.length)},R:function(t,r){const a=yU(t);return hs(a,r.length)},u:function(t,r){const a=t.getFullYear();return hs(a,r.length)},Q:function(t,r,a){const s=Math.ceil((t.getMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return hs(s,2);case"Qo":return a.ordinalNumber(s,{unit:"quarter"});case"QQQ":return a.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,r,a){const s=Math.ceil((t.getMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return hs(s,2);case"qo":return a.ordinalNumber(s,{unit:"quarter"});case"qqq":return a.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,r,a){const s=t.getMonth();switch(r){case"M":case"MM":return Qh.M(t,r);case"Mo":return a.ordinalNumber(s+1,{unit:"month"});case"MMM":return a.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(s,{width:"wide",context:"formatting"})}},L:function(t,r,a){const s=t.getMonth();switch(r){case"L":return String(s+1);case"LL":return hs(s+1,2);case"Lo":return a.ordinalNumber(s+1,{unit:"month"});case"LLL":return a.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(s,{width:"wide",context:"standalone"})}},w:function(t,r,a,s){const i=dae(t,s);return r==="wo"?a.ordinalNumber(i,{unit:"week"}):hs(i,r.length)},I:function(t,r,a){const s=lae(t);return r==="Io"?a.ordinalNumber(s,{unit:"week"}):hs(s,r.length)},d:function(t,r,a){return r==="do"?a.ordinalNumber(t.getDate(),{unit:"date"}):Qh.d(t,r)},D:function(t,r,a){const s=oae(t);return r==="Do"?a.ordinalNumber(s,{unit:"dayOfYear"}):hs(s,r.length)},E:function(t,r,a){const s=t.getDay();switch(r){case"E":case"EE":case"EEE":return a.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(s,{width:"short",context:"formatting"});case"EEEE":default:return a.day(s,{width:"wide",context:"formatting"})}},e:function(t,r,a,s){const i=t.getDay(),o=(i-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return hs(o,2);case"eo":return a.ordinalNumber(o,{unit:"day"});case"eee":return a.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(i,{width:"short",context:"formatting"});case"eeee":default:return a.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,a,s){const i=t.getDay(),o=(i-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return hs(o,r.length);case"co":return a.ordinalNumber(o,{unit:"day"});case"ccc":return a.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(i,{width:"narrow",context:"standalone"});case"cccccc":return a.day(i,{width:"short",context:"standalone"});case"cccc":default:return a.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,a){const s=t.getDay(),i=s===0?7:s;switch(r){case"i":return String(i);case"ii":return hs(i,r.length);case"io":return a.ordinalNumber(i,{unit:"day"});case"iii":return a.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(s,{width:"short",context:"formatting"});case"iiii":default:return a.day(s,{width:"wide",context:"formatting"})}},a:function(t,r,a){const i=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,a){const s=t.getHours();let i;switch(s===12?i=Jp.noon:s===0?i=Jp.midnight:i=s/12>=1?"pm":"am",r){case"b":case"bb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,a){const s=t.getHours();let i;switch(s>=17?i=Jp.evening:s>=12?i=Jp.afternoon:s>=4?i=Jp.morning:i=Jp.night,r){case"B":case"BB":case"BBB":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,a){if(r==="ho"){let s=t.getHours()%12;return s===0&&(s=12),a.ordinalNumber(s,{unit:"hour"})}return Qh.h(t,r)},H:function(t,r,a){return r==="Ho"?a.ordinalNumber(t.getHours(),{unit:"hour"}):Qh.H(t,r)},K:function(t,r,a){const s=t.getHours()%12;return r==="Ko"?a.ordinalNumber(s,{unit:"hour"}):hs(s,r.length)},k:function(t,r,a){let s=t.getHours();return s===0&&(s=24),r==="ko"?a.ordinalNumber(s,{unit:"hour"}):hs(s,r.length)},m:function(t,r,a){return r==="mo"?a.ordinalNumber(t.getMinutes(),{unit:"minute"}):Qh.m(t,r)},s:function(t,r,a){return r==="so"?a.ordinalNumber(t.getSeconds(),{unit:"second"}):Qh.s(t,r)},S:function(t,r){return Qh.S(t,r)},X:function(t,r,a){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return bk(s);case"XXXX":case"XX":return m0(s);case"XXXXX":case"XXX":default:return m0(s,":")}},x:function(t,r,a){const s=t.getTimezoneOffset();switch(r){case"x":return bk(s);case"xxxx":case"xx":return m0(s);case"xxxxx":case"xxx":default:return m0(s,":")}},O:function(t,r,a){const s=t.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+vk(s,":");case"OOOO":default:return"GMT"+m0(s,":")}},z:function(t,r,a){const s=t.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+vk(s,":");case"zzzz":default:return"GMT"+m0(s,":")}},t:function(t,r,a){const s=Math.trunc(+t/1e3);return hs(s,r.length)},T:function(t,r,a){return hs(+t,r.length)}};function vk(t,r=""){const a=t>0?"-":"+",s=Math.abs(t),i=Math.trunc(s/60),o=s%60;return o===0?a+String(i):a+String(i)+r+hs(o,2)}function bk(t,r){return t%60===0?(t>0?"-":"+")+hs(Math.abs(t)/60,2):m0(t,r)}function m0(t,r=""){const a=t>0?"-":"+",s=Math.abs(t),i=hs(Math.trunc(s/60),2),o=hs(s%60,2);return a+i+r+o}const wk=(t,r)=>{switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},bU=(t,r)=>{switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},uae=(t,r)=>{const a=t.match(/(P+)(p+)?/)||[],s=a[1],i=a[2];if(!i)return wk(t,r);let o;switch(s){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",wk(s,r)).replace("{{time}}",bU(i,r))},fae={p:bU,P:uae},Aae=/^D+$/,hae=/^Y+$/,mae=["D","DD","YY","YYYY"];function pae(t){return Aae.test(t)}function gae(t){return hae.test(t)}function xae(t,r,a){const s=yae(t,r,a);if(console.warn(s),mae.includes(t))throw new RangeError(s)}function yae(t,r,a){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${r}\`) for formatting ${s} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const vae=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wae=/^'([^]*?)'?$/,jae=/''/g,Nae=/[a-zA-Z]/;function jk(t,r,a){const s=i4(),i=s.locale??iae,o=s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,c=Eu(t,a?.in);if(!Cre(c))throw new RangeError("Invalid time value");let d=r.match(bae).map(u=>{const m=u[0];if(m==="p"||m==="P"){const p=fae[m];return p(u,i.formatLong)}return u}).join("").match(vae).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const m=u[0];if(m==="'")return{isToken:!1,value:Sae(u)};if(yk[m])return{isToken:!0,value:u};if(m.match(Nae))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:u}});i.localize.preprocessor&&(d=i.localize.preprocessor(c,d));const f={firstWeekContainsDate:o,weekStartsOn:l,locale:i};return d.map(u=>{if(!u.isToken)return u.value;const m=u.value;(gae(m)||pae(m))&&xae(m,r,String(t));const p=yk[m[0]];return p(c,m,i.localize,f)}).join("")}function Sae(t){const r=t.match(wae);return r?r[1].replace(jae,"'"):t}const Hh="https://vidyaastra.com/api",Cae=()=>{const[t,r]=w.useState([]),[a,s]=w.useState([]),[i,o]=w.useState(!1),[l,c]=w.useState(""),[d,f]=w.useState(""),[u,m]=w.useState(!1),[p,g]=w.useState(""),[v,y]=w.useState(""),[b,j]=w.useState({subject:"",date:"",topic:"",description:"",classId:""}),[N,S]=w.useState({}),[B,I]=w.useState(null),[F,O]=w.useState([]),[k,V]=w.useState(!1),[Q,H]=w.useState(""),[M,K]=w.useState("all"),[q,re]=w.useState("#2563eb"),ee=X=>{f(X),setTimeout(()=>f(""),5e3)},le=X=>{c(X),setTimeout(()=>c(""),5e3)};w.useEffect(()=>{const X=localStorage.getItem("color");X&&re(X);const xe=localStorage.getItem("schoolId");xe?g(xe):le("School ID not found in localStorage. Please login again.")},[]);const Ae=w.useCallback(async()=>{if(p)try{const X=await fetch(`${Hh}/class?schoolId=${p}`);if(X.ok){const xe=await X.json();xe.success&&(s(xe.data||[]),xe.data&&xe.data.length>0&&!v&&y(xe.data[0]._id))}else console.error("Failed to fetch classes:",X.status),le("Failed to fetch classes")}catch(X){console.error("Error fetching classes:",X),le("Error connecting to server while fetching classes")}},[p,v]),ue=w.useCallback(async()=>{if(!p||!v){r([]);return}o(!0);try{const X=await fetch(`${Hh}/classwork?schoolId=${p}&classId=${v}`);if(X.ok){const xe=await X.json();r(Array.isArray(xe)?xe:[]),console.log("Classworks loaded:",xe.length||0)}else console.error("Failed to fetch classworks:",X.status),le("Failed to fetch classworks"),r([])}catch(X){console.error("Error fetching classworks:",X),le("Error connecting to server while fetching classworks"),r([])}finally{o(!1)}},[p,v]);w.useEffect(()=>{p&&Ae()},[p,Ae]),w.useEffect(()=>{p&&v&&ue()},[p,v,ue]);const se=()=>{const X={};return b.subject.trim()||(X.subject="Subject is required"),b.date||(X.date="Date is required"),b.topic.trim()||(X.topic="Topic is required"),b.description.trim()||(X.description="Description is required"),b.classId||(X.classId="Class is required"),S(X),Object.keys(X).length===0},ve=X=>{const{name:xe,value:Ne}=X.target;j(ge=>({...ge,[xe]:Ne})),N[xe]&&S(ge=>({...ge,[xe]:""}))},_=X=>{const xe=Array.from(X.target.files);if(xe.length>5){le("Maximum 5 files allowed");return}O(xe)},z=async X=>{if(X.preventDefault(),!se())return;if(!p){le("School ID is missing. Cannot perform this operation.");return}o(!0),V(!0);const xe=new FormData;xe.append("subject",b.subject),xe.append("date",b.date),xe.append("topic",b.topic),xe.append("description",b.description),xe.append("schoolId",p),xe.append("classId",b.classId),F.forEach(Ne=>{xe.append("attachments",Ne)});try{let Ne;if(B?Ne=await fetch(`${Hh}/classwork/${B._id}`,{method:"PUT",body:xe}):Ne=await fetch(`${Hh}/classwork`,{method:"POST",body:xe}),Ne.ok)ee(B?"Classwork updated successfully!":"Classwork added successfully!"),m(!1),me(),ue();else{const ge=await Ne.json();le(ge.message||"Failed to save classwork")}}catch(Ne){console.error("Error saving classwork:",Ne),le("Failed to save classwork. Please check your connection and try again.")}finally{o(!1),V(!1)}},ae=X=>{I(X),j({subject:X.subject,date:jk(new Date(X.date),"yyyy-MM-dd"),topic:X.topic,description:X.description,classId:X.classId}),O([]),m(!0)},oe=w.useCallback(async X=>{if(window.confirm("Are you sure you want to delete this classwork?")){if(!p||!v){le("School ID and Class ID are missing. Cannot perform this operation.");return}o(!0);try{const xe=await fetch(`${Hh}/classwork/${X}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:p,classId:v})});if(xe.ok)ee("Classwork deleted successfully!"),ue();else{const Ne=await xe.json();le(Ne.message||"Failed to delete classwork")}}catch(xe){console.error("Error deleting classwork:",xe),le("Failed to delete classwork")}finally{o(!1)}}},[p,v,ue]),ce=w.useCallback(async(X,xe)=>{if(window.confirm("Are you sure you want to delete this attachment?")){if(!p||!v){le("School ID and Class ID are missing. Cannot perform this operation.");return}o(!0);try{const Ne=await fetch(`${Hh}/classwork/${X}/attachments/${xe}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:p,classId:v})});if(Ne.ok)ee("Attachment deleted successfully!"),ue();else{const ge=await Ne.json();le(ge.message||"Failed to delete attachment")}}catch(Ne){console.error("Error deleting attachment:",Ne),le("Failed to delete attachment")}finally{o(!1)}}},[p,v,ue]),me=()=>{j({subject:"",date:"",topic:"",description:"",classId:v||""}),S({}),I(null),O([])},he=w.useMemo(()=>{let X=t;return M!=="all"&&(X=X.filter(xe=>xe.subject===M)),Q&&(X=X.filter(xe=>xe.topic.toLowerCase().includes(Q.toLowerCase())||xe.description.toLowerCase().includes(Q.toLowerCase())||xe.subject.toLowerCase().includes(Q.toLowerCase()))),X.sort((xe,Ne)=>new Date(Ne.date)-new Date(xe.date))},[t,M,Q]),te=w.useMemo(()=>{const X=new Set(t.map(xe=>xe.subject));return["all",...Array.from(X).sort()]},[t]),J=X=>({Mathematics:"text-blue-600 bg-blue-50",Physics:"text-purple-600 bg-purple-50",English:"text-green-600 bg-green-50",Chemistry:"text-orange-600 bg-orange-50",History:"text-red-600 bg-red-50",Biology:"text-teal-600 bg-teal-50"})[X]||"text-gray-600 bg-gray-50";return p?n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[d&&n.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[n.jsx(ji,{className:"w-5 h-5"}),n.jsx("span",{className:"block sm:inline",children:d}),n.jsx("button",{onClick:()=>f(""),className:"ml-auto text-green-700 hover:text-green-900",children:n.jsx(cr,{className:"w-4 h-4"})})]}),l&&n.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[n.jsx(ua,{className:"w-5 h-5"}),n.jsx("span",{className:"block sm:inline",children:l}),n.jsx("button",{onClick:()=>c(""),className:"ml-auto text-red-700 hover:text-red-900",children:n.jsx(cr,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"text-white p-6 rounded-b-3xl shadow-lg mb-6",style:{backgroundColor:q},children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx(MX,{className:"w-6 h-6"}),n.jsx("h1",{className:"text-2xl font-bold",children:"Classwork Management"})]}),n.jsx("p",{className:"text-white mb-4",children:"Manage daily classwork, topics, and attachments."}),n.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-4",children:[n.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:"Select Class:"}),n.jsxs("select",{value:v,onChange:X=>y(X.target.value),className:"w-full md:w-auto px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-white text-gray-800",children:[n.jsx("option",{value:"",children:"Select a class"}),a.map(X=>n.jsxs("option",{value:X._id,children:[X.className," ",X.section]},X._id))]})]})]}),v?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 mb-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Search topic, subject, or description...",value:Q,onChange:X=>H(X.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:q,outlineColor:q}})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(mo,{className:"text-gray-500 w-4 h-4"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:te.map(X=>n.jsx("button",{onClick:()=>K(X),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${M===X?"text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,style:M===X?{backgroundColor:q}:{},children:X.charAt(0).toUpperCase()+X.slice(1)},X))})]}),n.jsxs("button",{onClick:()=>{me(),j(X=>({...X,classId:v})),m(!0)},disabled:i,className:"text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2 disabled:opacity-50",style:{backgroundColor:q},children:[n.jsx(Fs,{className:"w-5 h-5"}),n.jsx("span",{children:"Add Classwork"})]})]})}),i&&t.length===0?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx(Er,{className:"w-12 h-12 animate-spin",style:{color:q}})}):he.length===0?n.jsxs("div",{className:"text-center py-10 text-gray-500",children:[n.jsx(ua,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),n.jsx("p",{className:"text-xl font-medium",children:"No classwork found"}),n.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria."})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:he.map(X=>n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 flex flex-col",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:X.topic}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${J(X.subject)}`,children:X.subject})]}),n.jsx("p",{className:"text-gray-600 text-sm mb-3 flex-grow",children:X.description}),n.jsxs("div",{className:"flex items-center text-gray-500 text-sm mb-4",children:[n.jsx(ia,{className:"w-4 h-4 mr-2"}),n.jsxs("span",{children:["Date: ",jk(new Date(X.date),"PPP")]})]}),X.attachments&&X.attachments.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Attachments:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:X.attachments.map(xe=>n.jsxs("a",{href:`${Hh.replace("/api","")}${xe.url}`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-gray-100 text-xs font-medium rounded-full flex items-center hover:underline",style:{color:q},children:[n.jsx(Us,{className:"w-3 h-3 mr-1"}),xe.name]},xe._id))})]}),n.jsxs("div",{className:"flex space-x-3 mt-auto pt-4 border-t border-gray-100",children:[n.jsxs("button",{onClick:()=>ae(X),disabled:i,className:"flex items-center text-sm transition-colors disabled:opacity-50",style:{color:q},children:[n.jsx(Ko,{className:"w-4 h-4 mr-1"}),"Edit"]}),n.jsxs("button",{onClick:()=>oe(X._id),disabled:i,className:"flex items-center text-sm text-red-600 hover:text-red-800 transition-colors disabled:opacity-50",children:[n.jsx(cs,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]},X._id))})]}):n.jsxs("div",{className:"text-center py-10 text-gray-500",children:[n.jsx(ua,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),n.jsx("p",{className:"text-xl font-medium",children:"Please select a class"}),n.jsx("p",{className:"text-sm",children:"Choose a class from the dropdown above to view classwork."})]}),u&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:B?"Edit Classwork":"Add New Classwork"}),n.jsx("button",{onClick:()=>m(!1),className:"text-gray-500 hover:text-gray-700",children:n.jsx(cr,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:z,className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"classId",className:"block text-sm font-medium text-gray-700",children:"Class"}),n.jsxs("select",{id:"classId",name:"classId",value:b.classId,onChange:ve,className:`mt-1 block w-full px-3 py-2 border ${N.classId?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:N.classId?void 0:q,outlineColor:q},required:!0,children:[n.jsx("option",{value:"",children:"Select Class"}),a.map(X=>n.jsxs("option",{value:X._id,children:[X.className," ",X.section]},X._id))]}),N.classId&&n.jsx("p",{className:"mt-1 text-sm text-red-500",children:N.classId})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700",children:"Subject"}),n.jsx("input",{type:"text",id:"subject",name:"subject",value:b.subject,onChange:ve,className:`mt-1 block w-full px-3 py-2 border ${N.subject?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:N.subject?void 0:q,outlineColor:q},required:!0}),N.subject&&n.jsx("p",{className:"mt-1 text-sm text-red-500",children:N.subject})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700",children:"Date"}),n.jsx("input",{type:"date",id:"date",name:"date",value:b.date,onChange:ve,className:`mt-1 block w-full px-3 py-2 border ${N.date?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:N.date?void 0:q,outlineColor:q},required:!0}),N.date&&n.jsx("p",{className:"mt-1 text-sm text-red-500",children:N.date})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"topic",className:"block text-sm font-medium text-gray-700",children:"Topic"}),n.jsx("input",{type:"text",id:"topic",name:"topic",value:b.topic,onChange:ve,className:`mt-1 block w-full px-3 py-2 border ${N.topic?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:N.topic?void 0:q,outlineColor:q},required:!0}),N.topic&&n.jsx("p",{className:"mt-1 text-sm text-red-500",children:N.topic})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),n.jsx("textarea",{id:"description",name:"description",value:b.description,onChange:ve,rows:"3",className:`mt-1 block w-full px-3 py-2 border ${N.description?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:N.description?void 0:q,outlineColor:q},required:!0}),N.description&&n.jsx("p",{className:"mt-1 text-sm text-red-500",children:N.description})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"attachments",className:"block text-sm font-medium text-gray-700",children:"Attachments (Max 5 files)"}),n.jsx("input",{type:"file",id:"attachments",name:"attachments",multiple:!0,onChange:_,className:"mt-1 block w-full text-sm text-white file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold hover:file:bg-opacity-80",style:{backgroundColor:q}}),F.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Selected files:"}),n.jsx("ul",{className:"list-disc list-inside ml-4",children:F.map((X,xe)=>n.jsx("li",{className:"text-sm text-gray-600",children:X.name},xe))})]}),B?.attachments&&B.attachments.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Existing Attachments:"}),n.jsx("ul",{className:"list-disc list-inside ml-4",children:B.attachments.map(X=>n.jsxs("li",{className:"text-sm text-gray-600 flex items-center justify-between",children:[n.jsx("a",{href:`${Hh.replace("/api","")}${X.url}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 hover:underline",style:{color:q},children:X.name}),n.jsx("button",{type:"button",onClick:()=>ce(B._id,X._id),className:"ml-2 text-red-500 hover:text-red-700",title:"Delete attachment",disabled:i,children:n.jsx(cr,{className:"w-4 h-4"})})]},X._id))})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:()=>m(!1),disabled:i||k,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:i||k,className:"text-white px-4 py-2 rounded-lg shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 flex items-center space-x-2",style:{backgroundColor:q,outlineColor:q},children:[i||k?n.jsx(Er,{className:"w-4 h-4 animate-spin"}):n.jsx(Go,{className:"w-4 h-4"}),n.jsx("span",{children:i||k?"Saving...":"Save Classwork"})]})]})]})]})})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ua,{className:"w-12 h-12 mx-auto text-red-600 mb-4"}),n.jsx("p",{className:"text-lg font-medium text-gray-700",children:"School ID is required to access classwork."}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please ensure you are properly logged in."})]})})},Ab="https://vidyaastra.com/api",Bae="https://vidyaastra.com",Eae=()=>{const[t,r]=w.useState([]),[a,s]=w.useState(!0),[i,o]=w.useState(!1),[l,c]=w.useState(!1),[d,f]=w.useState(""),[u,m]=w.useState(""),[p,g]=w.useState(null),[v,y]=w.useState("#2563eb"),[b,j]=w.useState(null),[N,S]=w.useState(!1),[B,I]=w.useState(""),[F,O]=w.useState(1),[k]=w.useState(10),[V,Q]=w.useState(1),[H,M]=w.useState(0),[K,q]=w.useState({title:"",date:"",newImages:[],existingImages:[]});w.useEffect(()=>{const te=localStorage.getItem("color");te&&y(te);const J=localStorage.getItem("schoolId");J?(j(J),console.log("School ID loaded from localStorage:",J)):(console.log("No school ID found in localStorage, showing setup"),S(!0))},[]);const re=te=>{te.preventDefault(),B.trim()&&(localStorage.setItem("schoolId",B.trim()),j(B.trim()),S(!1),I(""),console.log("School ID set:",B.trim()))},ee=()=>{localStorage.removeItem("schoolId"),j(null),S(!0),r([]),O(1)},le=w.useCallback(async()=>{if(!b){console.log("No schoolId available, skipping fetch"),s(!1);return}console.log("Fetching albums for school:",b,"Page:",F,"Limit:",k),s(!0),f("");try{const te=await It.get(`${Ab}/albums`,{params:{schoolId:b,page:F,limit:k},timeout:1e4});if(console.log("Fetch albums response:",te.data),te.data.success){const J=te.data.albums||[];r(J),Q(te.data.pages||1),M(te.data.total||0),console.log(`Successfully loaded ${J.length} albums, Total: ${te.data.total}, Pages: ${te.data.pages}`),J.length>0&&console.log("First album sample:",{id:J[0]._id,title:J[0].title,imageCount:J[0].images?.length||0,firstImagePath:J[0].images?.[0]?.path})}else console.error("API returned success: false",te.data),f(te.data.message||"Failed to fetch albums")}catch(te){console.error("Error fetching albums:",te),te.code==="ECONNABORTED"?f("Request timeout. Please check your internet connection."):te.response?f(te.response.data?.message||`Server error: ${te.response.status}`):te.request?f("Network error. Please check your internet connection."):f("An unexpected error occurred.")}finally{s(!1)}},[b,F,k]);w.useEffect(()=>{le()},[le]);const Ae=()=>{console.log("Opening add modal"),g(null),q({title:"",date:"",newImages:[],existingImages:[]}),o(!0),f(""),m("")},ue=w.useCallback(te=>{console.log("Opening edit modal for album:",te._id),g(te),q({title:te.title,date:te.date?new Date(te.date).toISOString().split("T")[0]:"",newImages:[],existingImages:te.images||[]}),o(!0),f(""),m("")},[]),se=()=>{console.log("Closing modal"),o(!1),g(null),q({title:"",date:"",newImages:[],existingImages:[]}),f(""),m("");const te=document.getElementById("images");te&&(te.value="")},ve=te=>{const{name:J,value:X}=te.target;console.log(`Form input changed: ${J} = ${X}`),q(xe=>({...xe,[J]:X}))},_=te=>{const J=Array.from(te.target.files);console.log("Files selected:",J.length,J.map(X=>X.name)),q(X=>({...X,newImages:J}))},z=te=>{console.log("Removing existing image:",te),q(J=>({...J,existingImages:J.existingImages.filter(X=>X.path!==te)}))},ae=async te=>{if(te.preventDefault(),console.log("=== FORM SUBMISSION ==="),console.log("Form data:",K),console.log("School ID:",b),console.log("Editing album:",p?._id),c(!0),f(""),m(""),!b){f("School ID is missing. Cannot perform this operation."),c(!1);return}if(!K.title.trim()){f("Album title is required and cannot be empty."),c(!1);return}if(K.title.trim().length<3){f("Album title must be at least 3 characters long."),c(!1);return}if(!K.date){f("Event date is required. Please select a date."),c(!1);return}const J=new Date(K.date),X=new Date;if(X.setHours(23,59,59,999),J>X){f("Event date cannot be in the future."),c(!1);return}if(!p&&K.newImages.length===0){f("At least one image is required for new albums. Please select images to upload."),c(!1);return}const xe=10*1024*1024,Ne=["image/jpeg","image/jpg","image/png","image/gif","image/webp"];for(let pe=0;pe<K.newImages.length;pe++){const Y=K.newImages[pe];if(Y.size>xe){f(`Image "${Y.name}" is too large. Maximum file size is 10MB.`),c(!1);return}if(!Ne.includes(Y.type)){f(`Image "${Y.name}" has an unsupported format. Please use JPEG, PNG, GIF, or WEBP.`),c(!1);return}}if(K.newImages.length>20){f("Maximum 20 images can be uploaded at once."),c(!1);return}const ge=new FormData;ge.append("title",K.title.trim()),ge.append("date",K.date),ge.append("schoolId",b),K.newImages.forEach((pe,Y)=>{console.log(`Adding image ${Y+1}:`,pe.name,pe.size,"bytes"),ge.append("images",pe)}),p&&(ge.append("existingImagePaths",JSON.stringify(K.existingImages)),console.log("Existing images to keep:",K.existingImages.length)),console.log("FormData contents:");for(const[pe,Y]of ge.entries())Y instanceof File?console.log(`${pe}: File(${Y.name}, ${Y.size} bytes)`):console.log(`${pe}: ${Y}`);try{let pe;const Y={headers:{"Content-Type":"multipart/form-data"},timeout:3e4};p?(console.log("Updating album:",p._id),pe=await It.put(`${Ab}/albums/${p._id}`,ge,Y)):(console.log("Creating new album"),pe=await It.post(`${Ab}/albums`,ge,Y)),console.log("Album submission response:",pe.data),pe.data.success||pe.data.message&&pe.data.message.includes("successfully")?(m(p?"Album updated successfully!":"Album uploaded successfully!"),console.log("Album saved successfully, refreshing list..."),O(1),await le(),setTimeout(()=>{se()},1500)):(console.error("API returned success: false",pe.data),f(pe.data.message||"Failed to save album. Please try again."))}catch(pe){console.error("Error saving album:",pe),pe.code==="ECONNABORTED"?f("Upload timeout. Please try with smaller images or check your internet connection."):pe.response?(console.error("Server error response:",pe.response.data),f(pe.response.data?.message||`Server error: ${pe.response.status}. Please try again.`)):pe.request?f("Network error. Please check your internet connection and try again."):f("An unexpected error occurred while saving the album. Please try again.")}finally{c(!1)}},oe=w.useCallback(async te=>{if(window.confirm("Are you sure you want to delete this album and all its images? This action cannot be undone.")){if(console.log("Deleting album:",te),c(!0),f(""),m(""),!b){f("School ID is missing. Cannot perform this operation."),c(!1);return}try{const J=await It.delete(`${Ab}/albums/${te}`,{data:{schoolId:b},timeout:1e4});console.log("Delete response:",J.data),J.data.success?(m(J.data.message||"Album deleted successfully!"),O(1),await le()):f(J.data.message||"Failed to delete album")}catch(J){console.error("Error deleting album:",J),J.response?f(J.response.data?.message||`Server error: ${J.response.status}`):f("Failed to delete album. Please try again.")}finally{c(!1)}}},[le,b]),ce=te=>{if(!te)return console.log("No image path provided, using placeholder"),"/placeholder.svg?height=192&width=192";if(te.startsWith("http"))return console.log("Image path is already full URL:",te),te;const J=`${Bae}${te}`;return console.log("Constructed image URL:",J),J},me=te=>{console.error("Image failed to load:",te.target.src)},he=te=>{console.log("Image loaded successfully:",te)};return w.useEffect(()=>{if(d){const te=setTimeout(()=>f(""),8e3);return()=>clearTimeout(te)}},[d]),w.useEffect(()=>{if(u){const te=setTimeout(()=>m(""),3e3);return()=>clearTimeout(te)}},[u]),n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[N&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"text-white p-6 rounded-t-2xl shadow-lg",style:{backgroundColor:v},children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:"Setup School Gallery"}),n.jsx("p",{className:"text-white text-sm mt-1 opacity-90",children:"Enter your school ID to get started"})]}),n.jsxs("form",{onSubmit:re,className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"setupSchoolId",className:"block text-sm font-medium text-gray-700 mb-2",children:"School ID *"}),n.jsx("input",{type:"text",id:"setupSchoolId",value:B,onChange:te=>I(te.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent",style:{focusRingColor:v},placeholder:"e.g., 688dfdc93af0f78ebd4b044a",required:!0}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["For demo purposes, you can use:"," ",n.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"demo-school-123"})]})]}),n.jsx("button",{type:"submit",disabled:!B.trim(),className:"w-full py-3 px-6 text-white rounded-xl font-semibold hover:opacity-90 transition-all duration-200 flex items-center justify-center space-x-2 disabled:opacity-50",style:{backgroundColor:v},children:n.jsx("span",{children:"Continue to Gallery"})})]})]})}),n.jsxs("div",{className:Mt("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:v},children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(hB,{className:"w-6 h-6",style:{color:"white"}}),n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Student Gallery"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{onClick:Ae,disabled:l||!b,className:Mt("text-white px-4 py-2 rounded-lg flex items-center space-x-2 font-semibold disabled:opacity-50 hover:bg-white hover:bg-opacity-20 transition-colors"),style:{backgroundColor:`${v}80`},children:[l?n.jsx(Er,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):n.jsx(Fs,{className:"w-4 h-4",style:{color:"white"}}),n.jsx("span",{children:"Add Album"})]}),b&&n.jsx("button",{onClick:ee,className:"text-white px-3 py-2 rounded-lg hover:bg-white hover:bg-opacity-20 transition-colors text-sm",title:"Change School ID",children:"Change School"})]})]}),n.jsx("p",{className:"text-white mt-2",children:"School moments and memories"})]}),d&&n.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-lg",children:[n.jsx(ua,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"block sm:inline text-sm",children:d}),n.jsx("button",{onClick:()=>f(""),className:"ml-auto text-red-700 hover:text-red-900 flex-shrink-0",children:n.jsx(cr,{className:"w-4 h-4"})})]}),u&&n.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-lg",children:[n.jsx(Dn,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"block sm:inline text-sm font-medium",children:u})]}),n.jsx("div",{className:"p-6",children:a?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Er,{className:"w-12 h-12 mx-auto animate-spin mb-4",style:{color:v}}),n.jsx("p",{className:"text-lg font-medium text-gray-700",children:"Loading albums..."}),n.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["School ID: ",b||"Not found"]})]}):t.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(V0,{className:"w-16 h-16 mx-auto mb-4",style:{color:v}}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No albums found"}),n.jsx("p",{className:"text-gray-500 mb-4",children:b?'Click "Add Album" to create your first gallery.':"Please set your school ID to view albums."}),b&&n.jsxs("p",{className:"text-xs text-gray-400",children:["School ID: ",b]})]}):n.jsxs("div",{className:"space-y-8",children:[n.jsx("div",{className:"text-center mb-6",children:n.jsxs("p",{className:"text-sm text-gray-600",children:["Found ",H," album",H!==1?"s":""," for your school (Page ",F," of ",V,")"]})}),t.map(te=>n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:te.title}),n.jsxs("p",{className:"text-sm text-gray-500 flex items-center mt-1",children:[n.jsx(ia,{className:"w-4 h-4 mr-1",style:{color:v}}),new Date(te.date).toLocaleDateString(),n.jsxs("span",{className:"ml-3 text-xs",children:[te.images?.length||0," image",(te.images?.length||0)!==1?"s":""]})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>ue(te),disabled:l||!b,className:"p-2 hover:bg-gray-100 rounded-full disabled:opacity-50 transition-colors",style:{color:v},title:"Edit Album",children:n.jsx(Ao,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>oe(te._id),disabled:l||!b,className:"p-2 hover:bg-gray-100 rounded-full disabled:opacity-50 transition-colors text-red-500 hover:text-red-700",title:"Delete Album",children:n.jsx(cs,{className:"w-5 h-5"})})]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:!te.images||te.images.length===0?n.jsxs("div",{className:"col-span-full text-center py-8 text-gray-500 bg-gray-50 rounded-xl",children:[n.jsx(V0,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No images in this album"})]}):te.images.map((J,X)=>{const xe=ce(J.path);return n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:xe||"/placeholder.svg",alt:`${te.title} image ${X+1}`,className:"w-full h-48 object-cover rounded-xl shadow-sm group-hover:shadow-md transition-shadow",onError:me,onLoad:()=>he(xe)}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 flex items-center justify-center rounded-xl transition-all duration-200",children:n.jsxs("div",{className:"text-white text-center opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx("p",{className:"text-sm font-medium",children:J.filename}),J.size&&n.jsxs("p",{className:"text-xs opacity-75",children:[(J.size/1024/1024).toFixed(1)," MB"]})]})})]},J.path||X)})})]},te._id)),n.jsxs("div",{className:"flex justify-center items-center space-x-4 mt-8",children:[n.jsx("button",{onClick:()=>O(te=>Math.max(te-1,1)),disabled:F===1||l,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 transition-colors",children:"Previous"}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",F," of ",V]}),n.jsx("button",{onClick:()=>O(te=>Math.min(te+1,V)),disabled:F===V||l,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 transition-colors",children:"Next"})]})]})}),i&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsxs("div",{className:Mt("text-white p-6 rounded-t-2xl shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:v},children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:p?"Edit Album":"Add New Album"}),n.jsx("button",{onClick:se,className:"flex items-center justify-center w-8 h-8 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:n.jsx(cr,{size:20,style:{color:"white"}})})]}),n.jsxs("form",{onSubmit:ae,className:"p-6 space-y-6",children:[d&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[n.jsx(ua,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"text-sm",children:d}),n.jsx("button",{type:"button",onClick:()=>f(""),className:"ml-auto text-red-700 hover:text-red-900",children:n.jsx(cr,{className:"w-4 h-4"})})]}),u&&n.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[n.jsx(Dn,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"text-sm font-medium",children:u})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Album Title *"}),n.jsx("input",{type:"text",id:"title",name:"title",value:K.title,onChange:ve,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent",style:{focusRingColor:v},placeholder:"e.g., Annual Sports Day 2023",required:!0,minLength:3,maxLength:100}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[K.title.length,"/100 characters (minimum 3)"]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Date *"}),n.jsx("input",{type:"date",id:"date",name:"date",value:K.date,onChange:ve,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent",style:{focusRingColor:v},required:!0})]})]}),p&&K.existingImages.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:["Current Images (",K.existingImages.length,")"]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:K.existingImages.map((te,J)=>{const X=ce(te.path);return n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:X||"/placeholder.svg",alt:`Existing image ${J+1}`,className:"w-full h-32 object-cover rounded-lg",onError:me}),n.jsx("button",{type:"button",onClick:()=>z(te.path),className:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove image",children:n.jsx(cr,{className:"w-3 h-3"})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-xs p-1 rounded-b-lg opacity-0 group-hover:opacity-100 transition-opacity",children:te.filename})]},te.path||J)})})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"images",className:"block text-sm font-medium text-gray-700 mb-2",children:[p?"Add More Images":"Upload Images *",!p&&n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n.jsx("div",{className:"flex items-center justify-center w-full",children:n.jsxs("label",{htmlFor:"images",className:"flex flex-col items-center justify-center w-full h-40 border-2 border-dashed border-gray-300 rounded-xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",style:{borderColor:K.newImages.length>0?v:void 0},children:[n.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[n.jsx(QX,{className:"w-10 h-10 mb-3",style:{color:v}}),n.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[n.jsx("span",{className:"font-semibold",children:"Click to upload"})," ","or drag and drop"]}),n.jsx("p",{className:"text-xs text-gray-500",children:"JPEG, PNG, GIF, WEBP (Max 10MB per image, 20 images max)"}),!p&&n.jsx("p",{className:"text-xs text-red-500 mt-1",children:"At least one image is required"})]}),n.jsx("input",{id:"images",type:"file",name:"images",multiple:!0,accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:_,className:"hidden"})]})}),K.newImages.length>0&&n.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[n.jsxs("h5",{className:"text-sm font-medium text-blue-800 mb-2",children:["Selected Files (",K.newImages.length,"/20):"]}),n.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:K.newImages.map((te,J)=>n.jsxs("div",{className:"flex justify-between items-center text-xs text-blue-700",children:[n.jsx("span",{className:"truncate",children:te.name}),n.jsxs("span",{className:"ml-2 flex-shrink-0",children:[(te.size/1024/1024).toFixed(1)," MB"]})]},J))})]})]}),n.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:se,disabled:l,className:"flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:l||!b,className:Mt("flex-1 py-3 px-6 text-white rounded-xl font-semibold hover:opacity-90 transition-all duration-200 flex items-center justify-center space-x-2 disabled:opacity-50"),style:{backgroundColor:v},children:l?n.jsxs(n.Fragment,{children:[n.jsx(Er,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{children:p?"Updating...":"Creating..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(Go,{className:"w-4 h-4"}),n.jsx("span",{children:p?"Update Album":"Create Album"})]})})]})]})]})})]})},hb="https://vidyaastra.com/api",Tae=()=>{const[t,r]=w.useState("All"),[a,s]=w.useState(""),[i,o]=w.useState({key:null,direction:"asc"}),[l,c]=w.useState("table"),[d,f]=w.useState(!1),[u,m]=w.useState(null),[p,g]=w.useState([]),[v,y]=w.useState(!1),[b,j]=w.useState(""),[N,S]=w.useState(null),[B,I]=w.useState("#2563eb"),[F,O]=w.useState(null),[k,V]=w.useState({name:"",date:"",category:"National Holiday",description:"",color:"#667eea"}),[Q,H]=w.useState({});w.useEffect(()=>{const pe=localStorage.getItem("color");pe&&I(pe);const Y=localStorage.getItem("schoolId");Y?O(Y):j("School ID not found in local storage. Please log in to access holiday data.")},[]);const M=(pe,Y="success")=>{m({message:pe,type:Y}),setTimeout(()=>m(null),3e3)},K=()=>{V({name:"",date:"",category:"National Holiday",description:"",color:"#667eea"}),H({}),S(null)},q=pe=>{if(!pe)return"";const Y=new Date(pe),Le={year:"numeric",month:"long",day:"numeric"};return Y.toLocaleDateString("en-US",Le)},re=pe=>pe?new Date(pe).toISOString().split("T")[0]:"",ee=()=>{const pe={};if(k.name.trim()||(pe.name="Holiday name is required"),!k.date)pe.date="Date is required";else{const Y=new Date(k.date),Le=new Date().getFullYear();!N&&Y.getFullYear()<Le&&(pe.date="Please select a date from current year onwards for new holidays.")}return k.description.trim()||(pe.description="Description is required"),k.name.trim()&&p.some(Y=>Y.name.toLowerCase()===k.name.trim().toLowerCase()&&Y.year===new Date(k.date).getFullYear()&&(!N||Y.id!==N.id))&&(pe.name="A holiday with this name already exists for the selected year."),pe},le=pe=>{const{name:Y,value:Le}=pe.target;V(ie=>({...ie,[Y]:Le})),Q[Y]&&H(ie=>({...ie,[Y]:""}))},Ae=pe=>{const Y=pe.type==="National Holiday"?Z5:pe.type==="Festival"?hf:eC;return{id:pe._id,name:pe.name,date:pe.date,category:pe.type,description:pe.description,color:pe.color,icon:Y,year:pe.year}},ue=w.useCallback(async()=>{if(!F){y(!1);return}y(!0),j("");try{const pe=await It.get(`${hb}/holidays`,{params:{schoolId:F}});pe.data&&Array.isArray(pe.data.data)?g(pe.data.data.map(Ae)):j("Received unexpected data format from server for holidays.")}catch(pe){console.error("Failed to fetch holidays:",pe.response?.data||pe.message),j(pe.response?.data?.error||"Failed to load holidays."),M("Failed to load holidays.","error")}finally{y(!1)}},[F]);w.useEffect(()=>{ue()},[ue]);const se=async pe=>{pe.preventDefault();const Y=ee();if(Object.keys(Y).length>0){H(Y);return}if(y(!0),j(""),!F){j("School ID is missing. Cannot perform this operation."),y(!1);return}try{const Le={name:k.name.trim(),date:q(k.date),type:k.category,description:k.description.trim(),color:k.color,schoolId:F};let ie;N?(ie=await It.put(`${hb}/holidays/${N.id}`,Le),M(`${ie.data.data.name} updated successfully!`)):(ie=await It.post(`${hb}/holidays`,Le),M(`${ie.data.data.name} added successfully!`)),await ue(),f(!1),K()}catch(Le){console.error("Failed to save holiday:",Le.response?.data||Le.message),j(Le.response?.data?.error||"Failed to save holiday. Please try again."),M("Failed to save holiday.","error")}finally{y(!1)}},ve=pe=>{S(pe),V({name:pe.name,date:re(pe.date),category:pe.category,description:pe.description,color:pe.color}),f(!0)},_=w.useCallback(async(pe,Y)=>{if(window.confirm(`Are you sure you want to delete "${Y}"?`)){if(y(!0),j(""),!F){j("School ID is missing. Cannot perform this operation."),y(!1);return}try{await It.delete(`${hb}/holidays/${pe}`,{data:{schoolId:F}}),M(`${Y} deleted successfully!`),await ue()}catch(Le){console.error("Failed to delete holiday:",Le.response?.data||Le.message),j(Le.response?.data?.error||"Failed to delete holiday. Please try again."),M("Failed to delete holiday.","error")}finally{y(!1)}}},[ue,F]),z=[{value:"National Holiday",label:"National Holiday",icon:Z5},{value:"Festival",label:"Festival",icon:hf},{value:"Religious Holiday",label:"Religious Holiday",icon:eC}],ae=[{value:"#ef4444",label:"Red",class:"bg-red-500"},{value:"#14b8a6",label:"Teal",class:"bg-teal-500"},{value:"#22c55e",label:"Green",class:"bg-green-500"},{value:"#eab308",label:"Yellow",class:"bg-yellow-500"},{value:"#a855f7",label:"Purple",class:"bg-purple-500"},{value:"#f97316",label:"Orange",class:"bg-orange-500"},{value:"#ec4899",label:"Pink",class:"bg-pink-500"}],oe=pe=>new Date(pe).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),ce=pe=>{const Y=new Date;Y.setHours(0,0,0,0);const Le=new Date(pe);Le.setHours(0,0,0,0);const ie=new Date(Le);ie.getFullYear()<Y.getFullYear()&&ie.setFullYear(Y.getFullYear()),ie<Y&&ie.setFullYear(ie.getFullYear()+1);const de=ie.getTime()-Y.getTime(),je=Math.ceil(de/(1e3*60*60*24));return je<0?"Passed":je===0?"Today":je===1?"Tomorrow":`${je} days`},me=(pe,Y)=>Mt("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border",{backgroundColor:`${Y}1A`,color:Y,borderColor:Y}),he=pe=>{const Y=ce(pe);return Y==="Passed"?"bg-gray-100 text-gray-600 border-gray-200":Y==="Today"?"bg-green-100 text-green-800 border-green-200":Y==="Tomorrow"?Mt("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border",{backgroundColor:`${B}20`,color:B,borderColor:B}):Mt("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border",{backgroundColor:`${B}20`,color:B,borderColor:B})},te=w.useMemo(()=>{let pe=p;return t!=="All"&&(pe=pe.filter(Y=>Y.category===t)),a&&(pe=pe.filter(Y=>Y.name.toLowerCase().includes(a.toLowerCase())||Y.category.toLowerCase().includes(a.toLowerCase())||Y.description.toLowerCase().includes(a.toLowerCase()))),pe},[t,a,p]),J=w.useMemo(()=>i.key?[...te].sort((pe,Y)=>{let Le,ie;switch(i.key){case"name":Le=pe.name,ie=Y.name;break;case"date":Le=new Date(pe.date),ie=new Date(Y.date);break;case"category":Le=pe.category,ie=Y.category;break;case"daysUntil":const de=ce(pe.date),je=ce(Y.date);de==="Passed"?Le=-1e3:de==="Today"?Le=0:de==="Tomorrow"?Le=1:Le=Number.parseInt(de),je==="Passed"?ie=-1e3:je==="Today"?ie=0:je==="Tomorrow"?ie=1:ie=Number.parseInt(je);break;default:return 0}return Le<ie?i.direction==="asc"?-1:1:Le>ie?i.direction==="asc"?1:-1:0}):te,[te,i]),X=pe=>{o(Y=>({key:pe,direction:Y.key===pe&&Y.direction==="asc"?"desc":"asc"}))},xe=pe=>i.key!==pe?null:i.direction==="asc"?n.jsx(Vw,{className:"w-4 h-4 inline ml-1",style:{color:B}}):n.jsx(np,{className:"w-4 h-4 inline ml-1",style:{color:B}}),Ne=["All","National Holiday","Festival","Religious Holiday"],ge=()=>{const Y=[["Holiday Name","Date","Category","Days Until","Description"].join(","),...J.map(je=>[`"${je.name}"`,je.date,`"${je.category}"`,`"${ce(je.date)}"`,`"${je.description}"`].join(","))].join(`
`),Le=new Blob([Y],{type:"text/csv"}),ie=window.URL.createObjectURL(Le),de=document.createElement("a");de.href=ie,de.download="school-holidays.csv",de.click(),window.URL.revokeObjectURL(ie)};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u&&n.jsx("div",{className:Mt("fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300",{"bg-red-500 text-white":u.type==="error","bg-green-500 text-white":u.type==="success"}),children:n.jsxs("div",{className:"flex items-center space-x-2",children:[u.type==="error"?n.jsx(ua,{className:"w-4 h-4"}):n.jsx(Dn,{className:"w-4 h-4"}),n.jsx("span",{children:u.message})]})}),b&&n.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[n.jsx(ua,{className:"w-5 h-5"}),n.jsx("span",{className:"block sm:inline",children:b}),n.jsx("button",{onClick:()=>j(""),className:"ml-auto text-red-700 hover:text-red-900",children:n.jsx(cr,{className:"w-4 h-4"})})]}),d&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsxs("div",{className:Mt("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:B},children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:N?"Edit Holiday":"Add New Holiday"}),n.jsx("button",{onClick:()=>{f(!1),K()},className:"absolute top-4 right-4 flex items-center justify-center w-8 h-8 hover:bg-gray-100 rounded-full",style:{color:B},children:n.jsx(cr,{size:20})})]}),n.jsxs("form",{onSubmit:se,className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Holiday Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"name",value:k.name,onChange:le,className:Mt("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",{"border-red-500":Q.name}),style:{borderColor:Q.name?"#ef4444":B,outlineColor:B},placeholder:"Enter holiday name",required:!0}),Q.name&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:Q.name})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",name:"date",value:k.date,onChange:le,min:new Date().getFullYear()+"-01-01",className:Mt("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",{"border-red-500":Q.date}),style:{borderColor:Q.date?"#ef4444":B,outlineColor:B},required:!0}),Q.date&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:Q.date})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("select",{name:"category",value:k.category,onChange:le,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:B,outlineColor:B},required:!0,children:z.map(pe=>n.jsx("option",{value:pe.value,children:pe.label},pe.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color Theme"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:ae.map(pe=>n.jsx("button",{type:"button",onClick:()=>V(Y=>({...Y,color:pe.value})),className:Mt("w-8 h-8 rounded-full border-2 transition-all",pe.class,{"border-gray-800 scale-110":k.color===pe.value,"border-gray-300 hover:scale-105":k.color!==pe.value}),title:pe.label},pe.value))})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{name:"description",value:k.description,onChange:le,rows:3,className:Mt("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 resize-none",{"border-red-500":Q.description}),style:{borderColor:Q.description?"#ef4444":B,outlineColor:B},placeholder:"Enter holiday description",required:!0}),Q.description&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:Q.description})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{f(!1),K()},disabled:v,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:v||!F,className:Mt("flex-1 text-white py-2 px-4 rounded-lg font-medium flex items-center justify-center space-x-2 disabled:opacity-50"),style:{backgroundColor:B},children:[v?n.jsx(Er,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):n.jsx(Dn,{className:"w-4 h-4",style:{color:"white"}}),n.jsx("span",{children:N?"Save Changes":"Add Holiday"})]})]})]})]})}),n.jsxs("div",{className:Mt("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:B},children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ia,{className:"w-6 h-6",style:{color:"white"}}),n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Holiday Calendar"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{onClick:()=>f(!0),disabled:v||!F,className:"flex items-center space-x-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-all font-medium disabled:opacity-50",children:[n.jsx(Fs,{className:"w-4 h-4",style:{color:"white"}}),n.jsx("span",{children:"Add Holiday"})]}),n.jsxs("button",{onClick:ge,className:Mt("flex items-center space-x-2 text-white px-4 py-2 rounded-lg transition-all"),style:{backgroundColor:`${B}80`},children:[n.jsx(Us,{className:"w-4 h-4",style:{color:"white"}}),n.jsx("span",{children:"Export CSV"})]}),n.jsxs("button",{onClick:()=>c(l==="table"?"card":"table"),className:Mt("flex items-center space-x-2 text-white px-4 py-2 rounded-lg transition-all"),style:{backgroundColor:`${B}80`},children:[n.jsx(ys,{className:"w-4 h-4",style:{color:"white"}}),n.jsx("span",{children:l==="table"?"Card View":"Table View"})]})]})]}),n.jsx("p",{className:"text-white mt-2",children:"Professional holiday management system"})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[n.jsx("div",{className:"text-2xl font-bold",style:{color:B},children:p.length}),n.jsx("div",{className:"text-sm text-gray-600",children:"Total Holidays"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:p.filter(pe=>pe.category==="National Holiday").length}),n.jsx("div",{className:"text-sm text-gray-600",children:"National Holidays"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:p.filter(pe=>pe.category==="Festival").length}),n.jsx("div",{className:"text-sm text-gray-600",children:"Festivals"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[n.jsx("div",{className:"text-2xl font-bold",style:{color:B},children:p.filter(pe=>ce(pe.date)!=="Passed").length}),n.jsx("div",{className:"text-sm text-gray-600",children:"Upcoming"})]})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4",style:{color:B}}),n.jsx("input",{type:"text",placeholder:"Search holidays...",value:a,onChange:pe=>s(pe.target.value),className:"pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:B,outlineColor:B}})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(mo,{className:"w-4 h-4",style:{color:B}}),n.jsx("div",{className:"flex flex-wrap gap-2",children:Ne.map(pe=>n.jsx("button",{onClick:()=>r(pe),className:Mt("px-3 py-1.5 rounded-lg text-sm font-medium transition-all",{"text-white shadow-md":t===pe,"bg-gray-100 text-gray-600 hover:bg-gray-200":t!==pe}),style:{backgroundColor:t===pe?B:void 0},children:pe},pe))})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>X("name"),children:["Holiday Name ",xe("name")]}),n.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>X("date"),children:["Date ",xe("date")]}),n.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>X("category"),children:["Category ",xe("category")]}),n.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>X("daysUntil"),children:["Status ",xe("daysUntil")]}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Description"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v?n.jsx("tr",{children:n.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:[n.jsx(Er,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:B}}),n.jsx("p",{className:"text-lg font-medium",children:"Loading holidays..."})]})}):J.length===0?n.jsx("tr",{children:n.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:[n.jsx(ia,{className:"w-12 h-12 mx-auto mb-4",style:{color:B}}),n.jsx("p",{className:"text-lg font-medium",children:"No holidays found"}),n.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria"})]})}):J.map(pe=>{const Y=pe.icon;return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Y,{className:"w-5 h-5",style:{color:pe.color}}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:pe.name})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm text-gray-900",children:oe(pe.date)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:me(pe.category,pe.color),children:pe.category})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:he(pe.date),children:ce(pe.date)})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"text-sm text-gray-600",children:pe.description})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>ve(pe),disabled:v||!F,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:B},title:"Edit Holiday",children:n.jsx(Ko,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>_(pe.id,pe.name),disabled:v||!F,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:B},title:"Delete Holiday",children:n.jsx(cs,{className:"w-4 h-4"})})]})})]},pe.id)})})]})}),J.length>0&&n.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t border-gray-200",children:n.jsxs("div",{className:"text-sm text-gray-700",children:["Showing"," ",n.jsx("span",{className:"font-medium",children:J.length})," of"," ",n.jsx("span",{className:"font-medium",children:p.length})," holidays"]})})]})]})]})},l1="https://vidyaastra.com/api",Nk="https://vidyaastra.com",mb=(t,r)=>{t=t.replace("#","");const a=parseInt(t,16),s=a>>16&255,i=a>>8&255,o=a&255,l=1-r;return`#${((1<<24)+(Math.round(s*l)<<16)+(Math.round(i*l)<<8)+Math.round(o*l)).toString(16).slice(1).padStart(6,"0")}`},Fae=()=>{const[t,r]=w.useState({}),[a,s]=w.useState(!1),[i,o]=w.useState(!1),[l,c]=w.useState(!1),[d,f]=w.useState(null),[u,m]=w.useState([]),[p,g]=w.useState(!0),[v,y]=w.useState(""),[b,j]=w.useState(null),[N,S]=w.useState("Cash on Delivery"),[B,I]=w.useState(!1),[F,O]=w.useState(null),[k,V]=w.useState(null),[Q,H]=w.useState(""),[M,K]=w.useState(!1),[q,re]=w.useState(""),[ee,le]=w.useState("name"),[Ae,ue]=w.useState(""),[se,ve]=w.useState(""),[_,z]=w.useState(1),[ae,oe]=w.useState(1),[ce,me]=w.useState(0),[he]=w.useState(10),[te,J]=w.useState({name:"",description:"",price:"",selectedClassName:"",selectedSection:"",stock:0}),X=localStorage.getItem("color")||"#2563eb",xe=localStorage.getItem("schoolId")||null,Ne=Za(Ze=>Ze.classes.classes?.data||[]),ge=Za(Ze=>Ze.classes.loading),pe=Za(Ze=>Ze.classes.error),Y=w.useMemo(()=>Ne.map(Ze=>({_id:Ze._id,className:Ze.className||`Class ${Ze.classNumber||Ze._id}`,section:Ze.section||"",displayName:`${Ze.className||`Class ${Ze.classNumber||Ze._id}`}${Ze.section?` ${Ze.section}`:""}`.trim()})),[Ne]),Le=w.useMemo(()=>[...new Set(Y.map(Ze=>Ze.className))].sort(),[Y]),ie=w.useMemo(()=>[...new Set(Y.filter(Ze=>Ze.className===Ae).map(Ze=>Ze.section).filter(Boolean))].sort(),[Y,Ae]),de=Ze=>`${Ze.toLocaleString()}`,je=w.useCallback((Ze,He="success")=>{O({message:Ze,type:He}),setTimeout(()=>O(null),3e3)},[]);w.useEffect(()=>{pe&&(y("Failed to load classes: "+pe),je("Failed to load classes: "+pe,"error"))},[pe,je]);const ye=w.useCallback(async()=>{try{if(!xe){y("School ID is missing. Please log in again."),g(!1);return}g(!0),y("");const Ze={schoolId:xe,page:_,limit:he};q&&(Ze.search=q),ee&&(Ze.sort=ee),Ae&&(Ze.className=Ae),se&&(Ze.section=se);const He=await It.get(`${l1}/uniform/items`,{params:Ze});He.data&&He.data.success?(m(He.data.data||[]),me(He.data.total||0),oe(He.data.totalPages||1),z(He.data.page||1),y("")):(y("Received unexpected data format from server."),m([]),me(0),oe(1))}catch(Ze){console.error("Failed to fetch uniform items:",Ze.response?.data||Ze.message);const He=Ze.response?.data?.error||"Failed to load uniform items.";y(He),je(He,"error"),m([])}finally{g(!1)}},[xe,_,he,q,ee,Ae,se,je]);w.useEffect(()=>{xe?ye():(y("School ID is missing. Please log in again."),g(!1))},[ye,xe]);const Ce=w.useCallback(Ze=>{r(He=>({...He,[Ze]:(He[Ze]||0)+1}))},[]),be=w.useCallback(Ze=>{r(He=>{const ct={...He};return ct[Ze]>1?ct[Ze]--:delete ct[Ze],ct})},[]),Ee=w.useCallback(()=>Object.values(t).reduce((Ze,He)=>Ze+He,0),[t]),Qe=w.useCallback(()=>Object.entries(t).reduce((Ze,[He,ct])=>{const ft=u.find(Wt=>Wt._id===He);return Ze+(ft?ft.price*ct:0)},0),[t,u]),rt=w.useCallback(Ze=>Ze>30?{text:"In Stock",color:"bg-green-100 text-green-800"}:Ze>10?{text:"Low Stock",color:"bg-yellow-100 text-yellow-800"}:{text:"Out of Stock",color:"bg-red-100 text-red-800"},[]),Te=w.useCallback(Ze=>{const{name:He,value:ct}=Ze.target;J(ft=>({...ft,[He]:ct})),He==="selectedClassName"&&J(ft=>({...ft,selectedSection:""}))},[]),nt=w.useCallback(Ze=>{const He=Ze.target.files?.[0];if(He){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(He.type)){y("Please select a valid image file (JPEG, PNG, GIF, WebP)");return}if(He.size>5*1024*1024){y("Image file size must be less than 5MB");return}V(He);const ft=new FileReader;ft.onloadend=()=>{H(ft.result)},ft.readAsDataURL(He),y("")}},[]),xt=w.useCallback(()=>{J({name:"",description:"",price:"",selectedClassName:"",selectedSection:"",stock:0}),V(null),H(""),j(null),s(!1),y("")},[]),it=w.useCallback(async Ze=>{if(Ze.preventDefault(),K(!0),y(""),!te){y("Form data is not initialized. Please refresh the page."),K(!1);return}if(!xe){y("School ID is missing. Please log in again."),K(!1);return}if(!te.name||!te.description||!te.price||!te.selectedClassName){y("Please fill in all required fields (including class)."),K(!1);return}if(!b&&!k){y("Please select an image file."),K(!1);return}const He=Number.parseFloat(te.price);if(isNaN(He)||He<0){y("Price must be a valid non-negative number."),K(!1);return}const ct=Number.parseInt(te.stock)||0;if(ct<0){y("Stock must be a non-negative number."),K(!1);return}const ft=Y.find(gr=>gr.className===te.selectedClassName&&(!te.selectedSection||gr.section===te.selectedSection));if(!ft){y("Invalid class or section selection."),K(!1);return}const Wt=new FormData;Wt.append("name",te.name.trim()),Wt.append("description",te.description.trim()),Wt.append("price",He.toString()),Wt.append("classId",ft._id),Wt.append("stock",ct.toString()),Wt.append("schoolId",xe),k&&Wt.append("image",k);try{b?(await It.put(`${l1}/uniform/items/${b._id}`,Wt,{headers:{"Content-Type":"multipart/form-data"}}),je("Uniform item updated successfully!")):(await It.post(`${l1}/uniform/items`,Wt,{headers:{"Content-Type":"multipart/form-data"}}),je("Uniform item added successfully!")),await ye(),xt()}catch(gr){console.error("Error saving uniform item:",gr.response?.data||gr.message);const Fr=gr.response?.data?.error||"Failed to save uniform item. Please try again.";y(Fr),je(Fr,"error")}finally{K(!1)}},[te,b,k,je,ye,xt,xe,Y]),_e=w.useCallback(Ze=>{j(Ze),J({name:Ze.name,description:Ze.description,price:Ze.price.toString(),selectedClassName:Ze.classId?.className||"",selectedSection:Ze.classId?.section||"",stock:Ze.stock||0}),Ze.imageUrl?H(`${Nk}${Ze.imageUrl}`):H("/placeholder.svg?height=100&width=100"),V(null),s(!0)},[]),dt=w.useCallback(async(Ze,He)=>{if(!xe){y("School ID is missing. Please log in again.");return}if(window.confirm(`Are you sure you want to delete "${He}"?`)){K(!0);try{await It.delete(`${l1}/uniform/items/${Ze}`,{data:{schoolId:xe}}),je("Uniform item deleted successfully!"),await ye()}catch(ct){console.error("Error deleting uniform item:",ct.response?.data||ct.message);const ft=ct.response?.data?.error||"Failed to delete uniform item.";y(ft),je(ft,"error")}finally{K(!1)}}},[je,ye,xe]),yt=w.useCallback(Ze=>{f(Ze),c(!0)},[]),rr=w.useCallback(async()=>{if(I(!0),y(""),!xe){y("School ID is missing. Please log in again."),I(!1);return}const Ze=Object.entries(t).map(([ct,ft])=>({uniformItemId:ct,quantity:ft}));if(Ze.length===0){y("Your cart is empty. Please add items before placing an order."),I(!1);return}const He="60d5ec49f8e9a20015f8e9a2";try{const ct={user:He,items:Ze,paymentMethod:N,schoolId:xe};await It.post(`${l1}/uniform/orders`,ct),je("Order placed successfully!","success"),r({}),o(!1)}catch(ct){console.error("Error placing order:",ct.response?.data||ct.message);const ft=ct.response?.data?.error||"Failed to place order. Please try again.";y(ft),je(ft,"error")}finally{I(!1)}},[t,N,je,xe]),_t=w.useCallback(Ze=>Ze?Ze.startsWith("http")?Ze:`${Nk}${Ze}`:"/placeholder.svg?height=100&width=100",[]),Ve=w.useCallback(Ze=>{if(!Ze)return"Unknown Class";const He=Y.find(ct=>ct._id===(Ze._id||Ze));return He?He.className:"Unknown Class"},[Y]),Se=w.useCallback(Ze=>{if(!Ze)return"N/A";const He=Y.find(ct=>ct._id===(Ze._id||Ze));return He&&He.section?He.section:"N/A"},[Y]),ot=()=>{_>1&&z(Ze=>Ze-1)},Ot=()=>{_<ae&&z(Ze=>Ze+1)},vt=Ze=>{z(Ze)};return xe?n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[F&&n.jsx("div",{className:Mt("fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300",{"bg-red-500 text-white":F.type==="error","bg-green-500 text-white":F.type==="success"}),children:n.jsxs("div",{className:"flex items-center space-x-2",children:[F.type==="error"?n.jsx(ua,{className:"w-5 h-5"}):n.jsx(Dn,{className:"w-5 h-5"}),n.jsx("span",{children:F.message})]})}),n.jsx("div",{className:Mt("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:X},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(ul,{className:"w-8 h-8",style:{color:"white"}}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"School Uniforms"}),n.jsx("p",{className:"text-sm text-white opacity-90",children:"Manage school uniform inventory and orders"}),n.jsxs("div",{className:"text-xs text-white opacity-75 mt-1",children:["School ID: ",xe," | ",ce," items available"]})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[Ee()>0&&n.jsxs("div",{className:"bg-white bg-opacity-20 px-4 py-2 rounded-full text-sm flex items-center space-x-2",children:[n.jsx(lI,{className:"w-5 h-5",style:{color:"white"}}),n.jsxs("span",{children:[Ee()," item(s)"]})]}),n.jsxs("button",{onClick:()=>s(!0),disabled:M||!xe||ge||Y.length===0,className:Mt("text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",{"opacity-50":M||!xe||ge||Y.length===0}),style:{backgroundColor:X,":hover":{backgroundColor:mb(X,.1)}},children:[M||ge?n.jsx(Er,{className:"w-5 h-5 animate-spin",style:{color:"white"}}):n.jsx(Fs,{className:"w-5 h-5",style:{color:"white"}}),n.jsx("span",{children:"Add Item"})]})]})]})}),n.jsx("div",{className:"p-6 bg-white rounded-2xl shadow-sm mt-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search uniform items...",value:q,onChange:Ze=>re(Ze.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:bg-white transition-all",style:{outlineColor:X}})]}),n.jsxs("select",{value:ee,onChange:Ze=>le(Ze.target.value),className:"px-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:X},children:[n.jsx("option",{value:"name",children:"Sort by Name"}),n.jsx("option",{value:"price-low",children:"Price: Low to High"}),n.jsx("option",{value:"price-high",children:"Price: High to Low"}),n.jsx("option",{value:"newest",children:"Newest First"})]}),n.jsxs("select",{value:Ae,onChange:Ze=>{ue(Ze.target.value),ve("")},className:"px-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:X},disabled:ge,children:[n.jsx("option",{value:"",children:"All Classes"}),Le.map(Ze=>n.jsx("option",{value:Ze,children:Ze},Ze))]}),n.jsxs("select",{value:se,onChange:Ze=>ve(Ze.target.value),className:"px-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:X},disabled:ge||Ae===""||ie.length===0,children:[n.jsx("option",{value:"",children:"All Sections"}),ie.map(Ze=>n.jsx("option",{value:Ze,children:Ze},Ze))]})]})}),v&&n.jsx("div",{className:"mx-4 mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ua,{className:"w-5 h-5"}),n.jsx("span",{children:v}),n.jsx("button",{onClick:()=>y(""),className:"ml-auto text-red-500 hover:text-red-700",children:n.jsx(cr,{className:"w-5 h-5"})})]})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto min-h-[300px] flex flex-col",children:p?n.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center py-12 text-center text-gray-500",children:[n.jsx(Er,{className:"w-12 h-12 mx-auto animate-spin mb-4",style:{color:X}}),n.jsx("p",{className:"text-lg font-medium",children:"Loading uniform items..."})]}):u.length===0?n.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center py-12 text-center text-gray-500",children:[n.jsx(ul,{className:"w-12 h-12 mx-auto mb-4",style:{color:X}}),n.jsx("p",{className:"text-lg font-medium",children:"No uniform items found"}),n.jsx("p",{className:"text-sm",children:"Try adjusting your search or class filter, or add new items"}),n.jsxs("div",{className:"text-xs mt-2",children:["School ID: ",xe]})]}):n.jsxs("table",{className:"w-full table-auto",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(Ze=>{const He=rt(Ze.stock||0),ct=t[Ze._id]||0;return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("img",{src:_t(Ze.imageUrl),alt:Ze.name,className:"w-12 h-12 rounded-lg object-cover border border-gray-200"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ze.name}),n.jsx("div",{className:"text-sm text-gray-500 line-clamp-2",children:Ze.description})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:Ve(Ze.classId)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:Se(Ze.classId)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-bold text-gray-900",children:de(Ze.price)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx("span",{className:Mt("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",He.color),children:He.text}),n.jsxs("div",{className:"text-xs text-gray-500",children:[Ze.stock||0," units"]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>be(Ze._id),disabled:M||ct===0,className:"p-1 hover:bg-gray-100 rounded disabled:opacity-50 transition-colors",style:{color:X},children:n.jsx(LX,{className:"w-4 h-4"})}),n.jsx("span",{className:"text-sm font-medium",children:ct}),n.jsx("button",{onClick:()=>Ce(Ze._id),disabled:M||Ze.stock<=ct,className:"p-1 hover:bg-gray-100 rounded disabled:opacity-50 transition-colors",style:{color:X},children:n.jsx(Fs,{className:"w-4 h-4"})})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>yt(Ze),className:"p-1 hover:bg-gray-100 rounded transition-colors",style:{color:X},title:"View Details",children:n.jsx(ys,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>_e(Ze),disabled:M,className:"p-1 hover:bg-gray-100 rounded disabled:opacity-50 transition-colors",style:{color:X},title:"Edit",children:n.jsx(Ko,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>dt(Ze._id,Ze.name),disabled:M,className:"text-red-600 hover:text-red-900 p-1 hover:bg-red-50 rounded disabled:opacity-50 transition-colors",title:"Delete",children:n.jsx(cs,{className:"w-4 h-4"})})]})})]},Ze._id)})})]})}),!p&&u.length>0&&n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center px-6 py-4 border-t border-gray-200",children:[n.jsxs("div",{className:"text-sm text-gray-600 mb-2 sm:mb-0",children:["Page ",_," of ",ae," (Total Items: ",ce,")"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:ot,disabled:_===1,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100 transition-colors",children:n.jsx(yo,{className:"w-5 h-5"})}),[...Array(ae)].map((Ze,He)=>{const ct=He+1;return n.jsx("button",{onClick:()=>vt(ct),className:Mt("px-3 py-1 rounded-lg border border-gray-300",{"bg-blue-500 text-white":_===ct,"hover:bg-gray-100":_!==ct}),children:ct},ct)}),n.jsx("button",{onClick:Ot,disabled:_===ae,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100 transition-colors",children:n.jsx(Ni,{className:"w-5 h-5"})})]})]}),Ee()>0&&n.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:[Ee()," item(s) in cart | Total:"," ",de(Qe())]}),n.jsxs("button",{onClick:()=>o(!0),disabled:M,className:Mt("text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",{"opacity-50":M}),style:{backgroundColor:X,":hover":{backgroundColor:mb(X,.1)}},children:[n.jsx(lI,{className:"w-5 h-5",style:{color:"white"}}),n.jsx("span",{children:"Checkout"})]})]})]})}),l&&d&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:Mt("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:X},children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:d.name}),n.jsx("button",{onClick:()=>c(!1),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:n.jsx(cr,{size:20})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx("img",{src:_t(d.imageUrl),alt:d.name,className:"w-full h-64 object-cover rounded-lg border border-gray-200"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Description"}),n.jsx("p",{className:"text-sm text-gray-600",children:d.description})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Class"}),n.jsx("p",{className:"text-sm text-gray-600",children:Ve(d.classId)})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Section"}),n.jsx("p",{className:"text-sm text-gray-600",children:Se(d.classId)})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Price"}),n.jsx("p",{className:"text-sm text-gray-600",children:de(d.price)})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Stock"}),n.jsxs("p",{className:"text-sm text-gray-600",children:[d.stock," units"]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Status"}),n.jsx("span",{className:Mt("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",rt(d.stock).color),children:rt(d.stock).text})]})]}),n.jsx("button",{onClick:()=>c(!1),className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})]})]})}),i&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:Mt("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:X},children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:"Confirm Order"}),n.jsx("button",{onClick:()=>o(!1),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:n.jsx(cr,{size:20})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[v&&n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:[n.jsx("div",{className:"font-medium",children:"Error:"}),n.jsx("div",{className:"text-sm",children:v})]}),n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Order Summary"}),n.jsx("ul",{className:"space-y-2",children:Object.entries(t).map(([Ze,He])=>{const ct=u.find(ft=>ft._id===Ze);return ct&&n.jsxs("li",{className:"flex justify-between text-sm text-gray-600",children:[n.jsxs("span",{className:"line-clamp-1",children:[ct.name," x ",He]}),n.jsx("span",{children:de(ct.price*He)})]},Ze)})}),n.jsxs("div",{className:"flex justify-between font-bold text-lg text-gray-900 border-t pt-4",children:[n.jsx("span",{children:"Total:"}),n.jsx("span",{children:de(Qe())})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),n.jsxs("select",{value:N,onChange:Ze=>S(Ze.target.value),className:"w-full px-3 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:X},children:[n.jsx("option",{value:"Cash on Delivery",children:"Cash on Delivery"}),n.jsx("option",{value:"Credit Card",children:"Credit Card"}),n.jsx("option",{value:"Debit Card",children:"Debit Card"}),n.jsx("option",{value:"UPI",children:"UPI"}),n.jsx("option",{value:"Net Banking",children:"Net Banking"})]})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>o(!1),disabled:B,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsxs("button",{type:"button",onClick:rr,disabled:B||Ee()===0,className:Mt("flex-1 px-4 py-2 text-white rounded-lg flex items-center justify-center space-x-2",{"opacity-50":B||Ee()===0}),style:{backgroundColor:X,":hover":{backgroundColor:mb(X,.1)}},children:[B?n.jsx(Er,{className:"w-5 h-5 animate-spin",style:{color:"white"}}):n.jsx(Dn,{className:"w-5 h-5",style:{color:"white"}}),n.jsx("span",{children:"Place Order"})]})]})]})]})}),a&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:Mt("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:X},children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:b?"Edit Item":"Add New Item"}),n.jsx("button",{onClick:xt,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:n.jsx(cr,{size:20})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[v&&n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:[n.jsx("div",{className:"font-medium",children:"Error:"}),n.jsx("div",{className:"text-sm",children:v})]}),ge&&n.jsxs("div",{className:"text-center py-4",children:[n.jsx(Er,{className:"w-6 h-6 mx-auto animate-spin mb-2",style:{color:X}}),n.jsx("p",{className:"text-sm text-gray-600",children:"Loading classes..."})]}),!ge&&n.jsxs("form",{onSubmit:it,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Name *"}),n.jsx("input",{type:"text",name:"name",value:te.name,onChange:Te,required:!0,className:"w-full px-4 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:X},placeholder:"e.g., School Shirt"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class *"}),n.jsxs("select",{name:"selectedClassName",value:te.selectedClassName,onChange:Te,required:!0,disabled:ge,className:"w-full px-4 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all disabled:opacity-50",style:{outlineColor:X},children:[n.jsx("option",{value:"",children:"Select Class"}),Le.map(Ze=>n.jsx("option",{value:Ze,children:Ze},Ze))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section"}),n.jsxs("select",{name:"selectedSection",value:te.selectedSection,onChange:Te,disabled:ge||te.selectedClassName===""||ie.length===0,className:"w-full px-4 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all disabled:opacity-50",style:{outlineColor:X},children:[n.jsx("option",{value:"",children:"Select Section (Optional)"}),ie.filter(Ze=>Ze).map(Ze=>n.jsx("option",{value:Ze,children:Ze},Ze))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),n.jsx("textarea",{name:"description",value:te.description,onChange:Te,required:!0,rows:4,className:"w-full px-4 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:X},placeholder:"Brief description of the item"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price () *"}),n.jsx("input",{type:"number",name:"price",value:te.price,onChange:Te,required:!0,min:"0",step:"0.01",className:"w-full px-4 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:X},placeholder:"450"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Quantity"}),n.jsx("input",{type:"number",name:"stock",value:te.stock,onChange:Te,min:"0",className:"w-full px-4 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:X},placeholder:"50"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Image *"," ",b&&"(Leave empty to keep current image)"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:nt,className:"w-full px-4 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:X}}),Q&&n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("img",{src:Q,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border border-gray-200"})}),n.jsx("p",{className:"text-xs text-gray-500",children:"Upload an image file for the uniform item (Max: 5MB, Formats: JPEG, PNG, GIF, WebP)"})]})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:xt,disabled:M,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:M||!xe||ge||Y.length===0,className:Mt("flex-1 px-4 py-2 text-white rounded-lg flex items-center justify-center space-x-2",{"opacity-50":M||!xe||ge||Y.length===0}),style:{backgroundColor:X,":hover":{backgroundColor:mb(X,.1)}},children:[M?n.jsx(Er,{className:"w-5 h-5 animate-spin",style:{color:"white"}}):n.jsx(Go,{className:"w-5 h-5",style:{color:"white"}}),n.jsx("span",{children:b?"Update Item":"Add Item"})]})]})]})]})]})})]})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ua,{className:"w-12 h-12 mx-auto text-red-500 mb-4"}),n.jsx("div",{className:"text-xl font-semibold text-gray-800 mb-2",children:"School ID Not Found"}),n.jsx("div",{className:"text-gray-600 mb-4",children:"Please log in again to access the uniform system."}),n.jsx("button",{onClick:()=>window.location.href="/login",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go to Login"})]})})},pb="https://vidyaastra.com/api",CN="https://vidyaastra.com",Sk=(t,r)=>{t=t.replace("#","");const a=Number.parseInt(t,16),s=a>>16&255,i=a>>8&255,o=a&255,l=1-r;return`#${((1<<24)+(Math.round(s*l)<<16)+(Math.round(i*l)<<8)+Math.round(o*l)).toString(16).slice(1).padStart(6,"0")}`},Iae=()=>{const[t,r]=w.useState(""),[a,s]=w.useState(""),[i,o]=w.useState(""),[l,c]=w.useState("title"),[d,f]=w.useState(!1),[u,m]=w.useState(!1),[p,g]=w.useState(null),[v,y]=w.useState([]),[b,j]=w.useState(!1),[N,S]=w.useState(""),[B,I]=w.useState(null),[F,O]=w.useState(null),[k,V]=w.useState(null),[Q,H]=w.useState(""),[M,K]=w.useState(null),[q,re]=w.useState(1),[ee,le]=w.useState(1),[Ae,ue]=w.useState(0),[se]=w.useState(10),[ve,_]=w.useState({title:"",author:"",description:"",price:"",stock:"",classId:""}),z=localStorage.getItem("color")||"#2563eb",ae=Za(be=>be.classes.classes?.data||[]),oe=Za(be=>be.classes.loading),ce=Za(be=>be.classes.error),me=w.useMemo(()=>ae.map(be=>({_id:be._id,className:be.className||`Class ${be.classNumber||be._id}`,section:be.section||"",displayName:`${be.className||`Class ${be.classNumber||be._id}`}${be.section?` ${be.section}`:""}`.trim()})),[ae]),he=w.useMemo(()=>[...new Set(me.map(be=>be.className))].sort(),[me]),te=w.useMemo(()=>[...new Set(me.filter(be=>be.className===t).map(be=>be.section).filter(Boolean))].sort(),[me,t]);w.useEffect(()=>{if(typeof window<"u"){const be=localStorage.getItem("schoolId");console.log("Retrieved schoolId from localStorage:",be),K(be),be||S("School ID is missing. Please set your school ID.")}},[]),w.useEffect(()=>{ce&&(S("Failed to load classes: "+ce),J("Failed to load classes: "+ce,"error"))},[ce]);const J=(be,Ee="success")=>{O({message:be,type:Ee}),setTimeout(()=>O(null),3e3)},X=be=>`${be.toLocaleString()}`,xe=async()=>{if(!M){S("School ID is required to fetch books."),j(!1);return}j(!0),S("");try{console.log("Fetching books for school:",M);const be={schoolId:M,page:q,limit:se};i&&(be.search=i),t&&(be.className=t),a&&(be.section=a),l&&(be.sort=l);const Ee=await It.get(`${pb}/books`,{params:be});console.log("Books API response:",Ee.data),Ee.data.success?(y(Ee.data.data||[]),ue(Ee.data.totalBooks||0),le(Ee.data.totalPages||1),re(Ee.data.currentPage||1),console.log(`Loaded ${Ee.data.data.length} books`)):(y([]),ue(0),le(1),S("Received unexpected data format from server."),J("Received unexpected data format from server.","error"))}catch(be){console.error("Failed to fetch books:",be.response?.data||be.message);const Ee=be.response?.data?.message||"Failed to load books.";S(Ee),J(Ee,"error")}finally{j(!1)}};w.useEffect(()=>{M&&xe()},[M,t,a,i,l,q]);const Ne=be=>{const{name:Ee,value:Qe}=be.target;if(_(rt=>({...rt,[Ee]:Qe})),Ee==="classId"){const rt=me.find(Te=>Te._id===Qe);_(Te=>({...Te,classId:Qe,className:rt?rt.className:"",section:rt?rt.section:""}))}},ge=be=>{const Ee=be.target.files?.[0];if(Ee){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(Ee.type)){S("Please select a valid image file (JPEG, PNG, or GIF)");return}if(Ee.size>5*1024*1024){S("Image file size must be less than 5MB");return}V(Ee);const rt=new FileReader;rt.onloadend=()=>{H(rt.result)},rt.readAsDataURL(Ee),S("")}},pe=()=>{_({title:"",author:"",description:"",price:"",stock:"",classId:""}),V(null),H(""),I(null),f(!1),S("")},Y=async be=>{if(be.preventDefault(),j(!0),S(""),console.log("Form submission started"),console.log("Form data:",ve),console.log("School ID:",M),console.log("Image file:",k),!ve.title||!ve.author||!ve.description||!ve.price||!ve.stock||!ve.classId||!M){S("All fields including Class selection and School ID are required."),j(!1);return}const Ee=Number.parseFloat(ve.price);if(isNaN(Ee)||Ee<0){S("Price must be a valid non-negative number."),j(!1);return}const Qe=Number.parseInt(ve.stock);if(isNaN(Qe)||Qe<0){S("Stock must be a valid non-negative integer."),j(!1);return}if(!B&&!k){S("Please select an image file."),j(!1);return}const rt=new FormData;rt.append("title",ve.title.trim()),rt.append("author",ve.author.trim()),rt.append("description",ve.description.trim()),rt.append("price",Ee.toString()),rt.append("stock",Qe.toString()),rt.append("classId",ve.classId),rt.append("schoolId",M),k&&rt.append("image",k);try{console.log("Sending request...");let Te;B?(console.log("Updating book:",B._id),Te=await It.put(`${pb}/books/${B._id}`,rt,{headers:{"Content-Type":"multipart/form-data"}}),J("Book updated successfully!")):(console.log("Creating new book"),Te=await It.post(`${pb}/books`,rt,{headers:{"Content-Type":"multipart/form-data"}}),J("Book added successfully!")),console.log("API response:",Te.data),await xe(),pe()}catch(Te){console.error("Error saving book:",Te.response?.data||Te.message);const nt=Te.response?.data?.message||"Failed to save book. Please try again.";S(nt),J(nt,"error")}finally{j(!1)}},Le=be=>{console.log("Editing book:",be),I(be),_({title:be.title,author:be.author,description:be.description,price:be.price.toString(),stock:be.stock.toString(),classId:be.classId?._id||""}),be.image&&H(`${CN}${be.image}`),f(!0)},ie=async(be,Ee)=>{if(!M){S("School ID is required to delete a book."),J("School ID is required to delete a book.","error");return}if(window.confirm(`Are you sure you want to delete "${Ee}"?`)){j(!0),S("");try{console.log("Deleting book:",be);const Qe=await It.delete(`${pb}/books/${be}`,{data:{schoolId:M}});console.log("Delete response:",Qe.data),J("Book deleted successfully!"),await xe()}catch(Qe){console.error("Error deleting book:",Qe.response?.data||Qe.message);const rt=Qe.response?.data?.message||"Failed to delete book.";S(rt),J(rt,"error")}finally{j(!1)}}},de=be=>{g(be),m(!0)},je=()=>{q>1&&re(be=>be-1)},ye=()=>{q<ee&&re(be=>be+1)},Ce=be=>{re(be)};return n.jsx("div",{className:"min-h-screen bg-gray-100",children:n.jsxs("div",{className:"max-w-5xl mx-auto",children:[F&&n.jsx("div",{className:Mt("fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300",{"bg-red-500 text-white":F.type==="error","bg-green-500 text-white":F.type==="success"}),children:n.jsxs("div",{className:"flex items-center space-x-2",children:[F.type==="error"?n.jsx(ua,{className:"w-4 h-4"}):n.jsx(Dn,{className:"w-4 h-4"}),n.jsx("span",{children:F.message})]})}),n.jsx("div",{className:Mt("text-white p-4 sticky top-0 z-10"),style:{backgroundColor:z},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(zw,{className:"w-6 h-6 cursor-pointer",style:{color:"white"}}),n.jsx("h1",{className:"text-xl font-semibold text-white",children:"School Books"})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("button",{onClick:()=>f(!0),disabled:b||!M||oe,className:Mt("text-white p-3 rounded-xl transition-colors flex items-center space-x-2",{"opacity-50":b||!M||oe}),style:{backgroundColor:z,":hover":{backgroundColor:Sk(z,.1)}},children:[b||oe?n.jsx(Er,{className:"w-5 h-5 animate-spin",style:{color:"white"}}):n.jsx(Fs,{className:"w-5 h-5",style:{color:"white"}}),n.jsx("span",{children:"Add Book"})]})})]})}),n.jsx("div",{className:"p-4 bg-white",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search books, authors...",value:i,onChange:be=>o(be.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:bg-white transition-all",style:{outlineColor:z}})]}),n.jsxs("select",{value:l,onChange:be=>c(be.target.value),className:"px-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:z},children:[n.jsx("option",{value:"title",children:"Sort by Title"}),n.jsx("option",{value:"price-low",children:"Price: Low to High"}),n.jsx("option",{value:"price-high",children:"Price: High to Low"}),n.jsx("option",{value:"newest",children:"Newest First"})]}),n.jsxs("select",{value:t,onChange:be=>{r(be.target.value),s("")},className:"px-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:z},disabled:oe,children:[n.jsx("option",{value:"",children:"All Classes"}),he.map(be=>n.jsx("option",{value:be,children:be},be))]}),n.jsxs("select",{value:a,onChange:be=>s(be.target.value),className:"px-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:z},disabled:oe||t===""||te.length===0,children:[n.jsx("option",{value:"",children:"All Sections"}),te.map(be=>n.jsx("option",{value:be,children:be},be))]})]})}),N&&n.jsx("div",{className:"mx-4 mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ua,{className:"w-4 h-4 mr-2"}),n.jsx("span",{children:N}),n.jsx("button",{onClick:()=>S(""),className:"ml-auto text-red-500 hover:text-red-700",children:n.jsx(cr,{className:"w-4 h-4"})})]})}),n.jsx("div",{className:"px-4 pb-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full table-auto",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Image"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Author"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(be=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("img",{src:`${CN}${be.image}`,alt:be.title,className:"w-12 h-12 object-cover rounded"})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:be.title})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm text-gray-500",children:be.author})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:be.classId?`${be.classId.className} ${be.classId.section||""}`:"N/A"})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm text-gray-900",children:X(be.price)})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm text-gray-500",children:be.stock})}),n.jsx("td",{className:"px-6 py-4 text-sm font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>de(be),className:"p-1 hover:bg-gray-100 rounded transition-colors",style:{color:z},title:"View Details",children:n.jsx(ys,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Le(be),disabled:b||!M,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:z},title:"Edit",children:n.jsx(Ko,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>ie(be._id,be.title),disabled:b||!M,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:z},title:"Delete",children:n.jsx(cs,{className:"w-4 h-4"})})]})})]},be._id))})]})}),b&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Er,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:z}}),n.jsx("p",{className:"text-lg font-medium",children:"Loading books..."})]}),!b&&v.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No books found"}),n.jsx("p",{className:"text-gray-500",children:M?"Try adjusting your search or class filter, or add your first book":"Please set your school ID to view books"})]}),!b&&v.length>0&&n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center px-6 py-4 border-t border-gray-200",children:[n.jsxs("div",{className:"text-sm text-gray-600 mb-2 sm:mb-0",children:["Page ",q," of ",ee," (Total Books: ",Ae,")"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:je,disabled:q===1,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100",children:n.jsx(yo,{})}),[...Array(ee)].map((be,Ee)=>{const Qe=Ee+1;return n.jsx("button",{onClick:()=>Ce(Qe),className:`px-3 py-1 rounded-lg border border-gray-300 ${q===Qe?"bg-blue-500 text-white":"hover:bg-gray-100"}`,children:Qe},Qe)}),n.jsx("button",{onClick:ye,disabled:q===ee,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100",children:n.jsx(Ni,{})})]})]})]})}),d&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:Mt("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:z},children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:B?"Edit Book":"Add New Book"}),n.jsx("button",{onClick:pe,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:n.jsx(cr,{size:20})})]}),n.jsxs("div",{className:"p-6",children:[N&&n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[n.jsx("div",{className:"font-medium",children:"Error:"}),n.jsx("div",{className:"text-sm",children:N})]}),n.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Book Title *"}),n.jsx("input",{type:"text",name:"title",value:ve.title,onChange:Ne,required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:z,outlineColor:z},placeholder:"e.g., Mathematics Class 10"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Author *"}),n.jsx("input",{type:"text",name:"author",value:ve.author,onChange:Ne,required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:z,outlineColor:z},placeholder:"e.g., NCERT"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),n.jsx("textarea",{name:"description",value:ve.description,onChange:Ne,required:!0,rows:2,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:z,outlineColor:z},placeholder:"Brief description of the book"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class *"}),n.jsxs("select",{name:"classId",value:ve.classId,onChange:Ne,required:!0,disabled:oe,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50",style:{borderColor:z,outlineColor:z},children:[n.jsx("option",{value:"",children:"Select a class"}),me.map(be=>n.jsx("option",{value:be._id,children:be.displayName},be._id))]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price () *"}),n.jsx("input",{type:"number",name:"price",value:ve.price,onChange:Ne,required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:z,outlineColor:z},placeholder:"250"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Quantity *"}),n.jsx("input",{type:"number",name:"stock",value:ve.stock,onChange:Ne,required:!0,min:"0",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:z,outlineColor:z},placeholder:"10"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Book Image *"," ",B&&"(Leave empty to keep current image)"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:ge,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:z,outlineColor:z}}),Q&&n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("img",{src:Q||"/placeholder.svg",alt:"Preview",className:"w-20 h-20 object-cover rounded-lg border"})}),n.jsx("p",{className:"text-xs text-gray-500",children:"Upload an image file for the book cover (Max: 5MB, Formats: JPEG, PNG, GIF)"})]})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:pe,disabled:b,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:b||!M||oe,className:Mt("flex-1 px-4 py-2 text-white rounded-lg flex items-center justify-center space-x-2",{"opacity-50":b||!M||oe}),style:{backgroundColor:z,":hover":{backgroundColor:Sk(z,.1)}},children:[b?n.jsx(Er,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):n.jsx(Dn,{className:"w-4 h-4",style:{color:"white"}}),n.jsx("span",{children:B?"Update Book":"Add Book"})]})]})]})]})]})}),u&&p&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:Mt("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:z},children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:"Book Details"}),n.jsx("button",{onClick:()=>m(!1),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:n.jsx(cr,{size:20})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("img",{src:`${CN}${p.image}`,alt:p.title,className:"w-32 h-32 object-cover rounded-lg border",onError:be=>{be.target.src="/placeholder.svg"}})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Title"}),n.jsx("p",{className:"text-base font-semibold text-gray-900",children:p.title})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Author"}),n.jsx("p",{className:"text-base text-gray-600",children:p.author})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Class"}),n.jsx("p",{className:"text-base text-gray-600",children:p.classId?`${p.classId.className} ${p.classId.section||""}`:"N/A"})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Description"}),n.jsx("p",{className:"text-base text-gray-600",children:p.description})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Price"}),n.jsx("p",{className:"text-base font-semibold text-gray-900",children:X(p.price)})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Stock"}),n.jsx("p",{className:"text-base text-gray-600",children:p.stock})]})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})})]})]})})]})})};var BN={exports:{}};const kae=nW(ute);var Zb={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var _ae=Zb.exports,Ck;function Pae(){return Ck||(Ck=1,function(t,r){(function(a,s){t.exports=s()})(_ae,function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var a=function(P,T){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,D){L.__proto__=D}||function(L,D){for(var ne in D)Object.prototype.hasOwnProperty.call(D,ne)&&(L[ne]=D[ne])},a(P,T)};function s(P,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");a(P,T);function L(){this.constructor=P}P.prototype=T===null?Object.create(T):(L.prototype=T.prototype,new L)}var i=function(){return i=Object.assign||function(T){for(var L,D=1,ne=arguments.length;D<ne;D++){L=arguments[D];for(var we in L)Object.prototype.hasOwnProperty.call(L,we)&&(T[we]=L[we])}return T},i.apply(this,arguments)};function o(P,T,L,D){function ne(we){return we instanceof L?we:new L(function(Oe){Oe(we)})}return new(L||(L=Promise))(function(we,Oe){function Ge(bt){try{mt(D.next(bt))}catch(Bt){Oe(Bt)}}function Ye(bt){try{mt(D.throw(bt))}catch(Bt){Oe(Bt)}}function mt(bt){bt.done?we(bt.value):ne(bt.value).then(Ge,Ye)}mt((D=D.apply(P,[])).next())})}function l(P,T){var L={label:0,sent:function(){if(we[0]&1)throw we[1];return we[1]},trys:[],ops:[]},D,ne,we,Oe;return Oe={next:Ge(0),throw:Ge(1),return:Ge(2)},typeof Symbol=="function"&&(Oe[Symbol.iterator]=function(){return this}),Oe;function Ge(mt){return function(bt){return Ye([mt,bt])}}function Ye(mt){if(D)throw new TypeError("Generator is already executing.");for(;L;)try{if(D=1,ne&&(we=mt[0]&2?ne.return:mt[0]?ne.throw||((we=ne.return)&&we.call(ne),0):ne.next)&&!(we=we.call(ne,mt[1])).done)return we;switch(ne=0,we&&(mt=[mt[0]&2,we.value]),mt[0]){case 0:case 1:we=mt;break;case 4:return L.label++,{value:mt[1],done:!1};case 5:L.label++,ne=mt[1],mt=[0];continue;case 7:mt=L.ops.pop(),L.trys.pop();continue;default:if(we=L.trys,!(we=we.length>0&&we[we.length-1])&&(mt[0]===6||mt[0]===2)){L=0;continue}if(mt[0]===3&&(!we||mt[1]>we[0]&&mt[1]<we[3])){L.label=mt[1];break}if(mt[0]===6&&L.label<we[1]){L.label=we[1],we=mt;break}if(we&&L.label<we[2]){L.label=we[2],L.ops.push(mt);break}we[2]&&L.ops.pop(),L.trys.pop();continue}mt=T.call(P,L)}catch(bt){mt=[6,bt],ne=0}finally{D=we=0}if(mt[0]&5)throw mt[1];return{value:mt[0]?mt[1]:void 0,done:!0}}}function c(P,T,L){if(arguments.length===2)for(var D=0,ne=T.length,we;D<ne;D++)(we||!(D in T))&&(we||(we=Array.prototype.slice.call(T,0,D)),we[D]=T[D]);return P.concat(we||T)}for(var d=function(){function P(T,L,D,ne){this.left=T,this.top=L,this.width=D,this.height=ne}return P.prototype.add=function(T,L,D,ne){return new P(this.left+T,this.top+L,this.width+D,this.height+ne)},P.fromClientRect=function(T,L){return new P(L.left+T.windowBounds.left,L.top+T.windowBounds.top,L.width,L.height)},P.fromDOMRectList=function(T,L){var D=Array.from(L).find(function(ne){return ne.width!==0});return D?new P(D.left+T.windowBounds.left,D.top+T.windowBounds.top,D.width,D.height):P.EMPTY},P.EMPTY=new P(0,0,0,0),P}(),f=function(P,T){return d.fromClientRect(P,T.getBoundingClientRect())},u=function(P){var T=P.body,L=P.documentElement;if(!T||!L)throw new Error("Unable to get document size");var D=Math.max(Math.max(T.scrollWidth,L.scrollWidth),Math.max(T.offsetWidth,L.offsetWidth),Math.max(T.clientWidth,L.clientWidth)),ne=Math.max(Math.max(T.scrollHeight,L.scrollHeight),Math.max(T.offsetHeight,L.offsetHeight),Math.max(T.clientHeight,L.clientHeight));return new d(0,0,D,ne)},m=function(P){for(var T=[],L=0,D=P.length;L<D;){var ne=P.charCodeAt(L++);if(ne>=55296&&ne<=56319&&L<D){var we=P.charCodeAt(L++);(we&64512)===56320?T.push(((ne&1023)<<10)+(we&1023)+65536):(T.push(ne),L--)}else T.push(ne)}return T},p=function(){for(var P=[],T=0;T<arguments.length;T++)P[T]=arguments[T];if(String.fromCodePoint)return String.fromCodePoint.apply(String,P);var L=P.length;if(!L)return"";for(var D=[],ne=-1,we="";++ne<L;){var Oe=P[ne];Oe<=65535?D.push(Oe):(Oe-=65536,D.push((Oe>>10)+55296,Oe%1024+56320)),(ne+1===L||D.length>16384)&&(we+=String.fromCharCode.apply(String,D),D.length=0)}return we},g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v=typeof Uint8Array>"u"?[]:new Uint8Array(256),y=0;y<g.length;y++)v[g.charCodeAt(y)]=y;for(var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=typeof Uint8Array>"u"?[]:new Uint8Array(256),N=0;N<b.length;N++)j[b.charCodeAt(N)]=N;for(var S=function(P){var T=P.length*.75,L=P.length,D,ne=0,we,Oe,Ge,Ye;P[P.length-1]==="="&&(T--,P[P.length-2]==="="&&T--);var mt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(T):new Array(T),bt=Array.isArray(mt)?mt:new Uint8Array(mt);for(D=0;D<L;D+=4)we=j[P.charCodeAt(D)],Oe=j[P.charCodeAt(D+1)],Ge=j[P.charCodeAt(D+2)],Ye=j[P.charCodeAt(D+3)],bt[ne++]=we<<2|Oe>>4,bt[ne++]=(Oe&15)<<4|Ge>>2,bt[ne++]=(Ge&3)<<6|Ye&63;return mt},B=function(P){for(var T=P.length,L=[],D=0;D<T;D+=2)L.push(P[D+1]<<8|P[D]);return L},I=function(P){for(var T=P.length,L=[],D=0;D<T;D+=4)L.push(P[D+3]<<24|P[D+2]<<16|P[D+1]<<8|P[D]);return L},F=5,O=11,k=2,V=O-F,Q=65536>>F,H=1<<F,M=H-1,K=1024>>F,q=Q+K,re=q,ee=32,le=re+ee,Ae=65536>>O,ue=1<<V,se=ue-1,ve=function(P,T,L){return P.slice?P.slice(T,L):new Uint16Array(Array.prototype.slice.call(P,T,L))},_=function(P,T,L){return P.slice?P.slice(T,L):new Uint32Array(Array.prototype.slice.call(P,T,L))},z=function(P,T){var L=S(P),D=Array.isArray(L)?I(L):new Uint32Array(L),ne=Array.isArray(L)?B(L):new Uint16Array(L),we=24,Oe=ve(ne,we/2,D[4]/2),Ge=D[5]===2?ve(ne,(we+D[4])/2):_(D,Math.ceil((we+D[4])/4));return new ae(D[0],D[1],D[2],D[3],Oe,Ge)},ae=function(){function P(T,L,D,ne,we,Oe){this.initialValue=T,this.errorValue=L,this.highStart=D,this.highValueIndex=ne,this.index=we,this.data=Oe}return P.prototype.get=function(T){var L;if(T>=0){if(T<55296||T>56319&&T<=65535)return L=this.index[T>>F],L=(L<<k)+(T&M),this.data[L];if(T<=65535)return L=this.index[Q+(T-55296>>F)],L=(L<<k)+(T&M),this.data[L];if(T<this.highStart)return L=le-Ae+(T>>O),L=this.index[L],L+=T>>F&se,L=this.index[L],L=(L<<k)+(T&M),this.data[L];if(T<=1114111)return this.data[this.highValueIndex]}return this.errorValue},P}(),oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ce=typeof Uint8Array>"u"?[]:new Uint8Array(256),me=0;me<oe.length;me++)ce[oe.charCodeAt(me)]=me;var he="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",te=50,J=1,X=2,xe=3,Ne=4,ge=5,pe=7,Y=8,Le=9,ie=10,de=11,je=12,ye=13,Ce=14,be=15,Ee=16,Qe=17,rt=18,Te=19,nt=20,xt=21,it=22,_e=23,dt=24,yt=25,rr=26,_t=27,Ve=28,Se=29,ot=30,Ot=31,vt=32,Ze=33,He=34,ct=35,ft=36,Wt=37,gr=38,Fr=39,Ta=40,pa=41,at=42,Ht=43,Gt=[9001,65288],dr="!",Jt="",Mr="",ke=z(he),qe=[ot,ft],ze=[J,X,xe,ge],Ke=[ie,Y],Je=[_t,rr],et=ze.concat(Ke),St=[gr,Fr,Ta,He,ct],Me=[be,ye],We=function(P,T){T===void 0&&(T="strict");var L=[],D=[],ne=[];return P.forEach(function(we,Oe){var Ge=ke.get(we);if(Ge>te?(ne.push(!0),Ge-=te):ne.push(!1),["normal","auto","loose"].indexOf(T)!==-1&&[8208,8211,12316,12448].indexOf(we)!==-1)return D.push(Oe),L.push(Ee);if(Ge===Ne||Ge===de){if(Oe===0)return D.push(Oe),L.push(ot);var Ye=L[Oe-1];return et.indexOf(Ye)===-1?(D.push(D[Oe-1]),L.push(Ye)):(D.push(Oe),L.push(ot))}if(D.push(Oe),Ge===Ot)return L.push(T==="strict"?xt:Wt);if(Ge===at||Ge===Se)return L.push(ot);if(Ge===Ht)return we>=131072&&we<=196605||we>=196608&&we<=262141?L.push(Wt):L.push(ot);L.push(Ge)}),[D,L,ne]},st=function(P,T,L,D){var ne=D[L];if(Array.isArray(P)?P.indexOf(ne)!==-1:P===ne)for(var we=L;we<=D.length;){we++;var Oe=D[we];if(Oe===T)return!0;if(Oe!==ie)break}if(ne===ie)for(var we=L;we>0;){we--;var Ge=D[we];if(Array.isArray(P)?P.indexOf(Ge)!==-1:P===Ge)for(var Ye=L;Ye<=D.length;){Ye++;var Oe=D[Ye];if(Oe===T)return!0;if(Oe!==ie)break}if(Ge!==ie)break}return!1},jt=function(P,T){for(var L=P;L>=0;){var D=T[L];if(D===ie)L--;else return D}return 0},Yt=function(P,T,L,D,ne){if(L[D]===0)return Jt;var we=D-1;if(Array.isArray(ne)&&ne[we]===!0)return Jt;var Oe=we-1,Ge=we+1,Ye=T[we],mt=Oe>=0?T[Oe]:0,bt=T[Ge];if(Ye===X&&bt===xe)return Jt;if(ze.indexOf(Ye)!==-1)return dr;if(ze.indexOf(bt)!==-1||Ke.indexOf(bt)!==-1)return Jt;if(jt(we,T)===Y)return Mr;if(ke.get(P[we])===de||(Ye===vt||Ye===Ze)&&ke.get(P[Ge])===de||Ye===pe||bt===pe||Ye===Le||[ie,ye,be].indexOf(Ye)===-1&&bt===Le||[Qe,rt,Te,dt,Ve].indexOf(bt)!==-1||jt(we,T)===it||st(_e,it,we,T)||st([Qe,rt],xt,we,T)||st(je,je,we,T))return Jt;if(Ye===ie)return Mr;if(Ye===_e||bt===_e)return Jt;if(bt===Ee||Ye===Ee)return Mr;if([ye,be,xt].indexOf(bt)!==-1||Ye===Ce||mt===ft&&Me.indexOf(Ye)!==-1||Ye===Ve&&bt===ft||bt===nt||qe.indexOf(bt)!==-1&&Ye===yt||qe.indexOf(Ye)!==-1&&bt===yt||Ye===_t&&[Wt,vt,Ze].indexOf(bt)!==-1||[Wt,vt,Ze].indexOf(Ye)!==-1&&bt===rr||qe.indexOf(Ye)!==-1&&Je.indexOf(bt)!==-1||Je.indexOf(Ye)!==-1&&qe.indexOf(bt)!==-1||[_t,rr].indexOf(Ye)!==-1&&(bt===yt||[it,be].indexOf(bt)!==-1&&T[Ge+1]===yt)||[it,be].indexOf(Ye)!==-1&&bt===yt||Ye===yt&&[yt,Ve,dt].indexOf(bt)!==-1)return Jt;if([yt,Ve,dt,Qe,rt].indexOf(bt)!==-1)for(var Bt=we;Bt>=0;){var zt=T[Bt];if(zt===yt)return Jt;if([Ve,dt].indexOf(zt)!==-1)Bt--;else break}if([_t,rr].indexOf(bt)!==-1)for(var Bt=[Qe,rt].indexOf(Ye)!==-1?Oe:we;Bt>=0;){var zt=T[Bt];if(zt===yt)return Jt;if([Ve,dt].indexOf(zt)!==-1)Bt--;else break}if(gr===Ye&&[gr,Fr,He,ct].indexOf(bt)!==-1||[Fr,He].indexOf(Ye)!==-1&&[Fr,Ta].indexOf(bt)!==-1||[Ta,ct].indexOf(Ye)!==-1&&bt===Ta||St.indexOf(Ye)!==-1&&[nt,rr].indexOf(bt)!==-1||St.indexOf(bt)!==-1&&Ye===_t||qe.indexOf(Ye)!==-1&&qe.indexOf(bt)!==-1||Ye===dt&&qe.indexOf(bt)!==-1||qe.concat(yt).indexOf(Ye)!==-1&&bt===it&&Gt.indexOf(P[Ge])===-1||qe.concat(yt).indexOf(bt)!==-1&&Ye===rt)return Jt;if(Ye===pa&&bt===pa){for(var br=L[we],hr=1;br>0&&(br--,T[br]===pa);)hr++;if(hr%2!==0)return Jt}return Ye===vt&&bt===Ze?Jt:Mr},tr=function(P,T){T||(T={lineBreak:"normal",wordBreak:"normal"});var L=We(P,T.lineBreak),D=L[0],ne=L[1],we=L[2];(T.wordBreak==="break-all"||T.wordBreak==="break-word")&&(ne=ne.map(function(Ge){return[yt,ot,at].indexOf(Ge)!==-1?Wt:Ge}));var Oe=T.wordBreak==="keep-all"?we.map(function(Ge,Ye){return Ge&&P[Ye]>=19968&&P[Ye]<=40959}):void 0;return[D,ne,Oe]},or=function(){function P(T,L,D,ne){this.codePoints=T,this.required=L===dr,this.start=D,this.end=ne}return P.prototype.slice=function(){return p.apply(void 0,this.codePoints.slice(this.start,this.end))},P}(),ur=function(P,T){var L=m(P),D=tr(L,T),ne=D[0],we=D[1],Oe=D[2],Ge=L.length,Ye=0,mt=0;return{next:function(){if(mt>=Ge)return{done:!0,value:null};for(var bt=Jt;mt<Ge&&(bt=Yt(L,we,ne,++mt,Oe))===Jt;);if(bt!==Jt||mt===Ge){var Bt=new or(L,bt,Ye,mt);return Ye=mt,{value:Bt,done:!1}}return{done:!0,value:null}}}},jr=1,qr=2,ga=4,Oa=8,Ma=10,Bi=47,Ei=92,di=9,Xi=32,ui=34,Mn=61,Rs=35,fi=36,kf=37,bd=39,Wo=40,Ic=41,Ti=95,pn=45,ds=33,wd=60,_f=62,Pf=64,Kl=91,sh=93,Of=61,kc=123,_c=63,nh=125,Df=124,Lf=126,Gl=128,jd=65533,qo=42,bo=43,Cn=44,Pc=58,Wl=59,Vr=46,Mf=0,ih=8,Fi=11,wo=14,Fu=31,bl=127,Ws=-1,Iu=48,Nd=97,Uf=101,Oc=102,wl=117,ql=122,Un=65,Ii=69,Yl=70,jl=85,oh=90,qs=function(P){return P>=Iu&&P<=57},ku=function(P){return P>=55296&&P<=57343},Ji=function(P){return qs(P)||P>=Un&&P<=Yl||P>=Nd&&P<=Oc},Zi=function(P){return P>=Nd&&P<=ql},Nl=function(P){return P>=Un&&P<=oh},km=function(P){return Zi(P)||Nl(P)},Dc=function(P){return P>=Gl},ki=function(P){return P===Ma||P===di||P===Xi},Sl=function(P){return km(P)||Dc(P)||P===Ti},Lc=function(P){return Sl(P)||qs(P)||P===pn},_m=function(P){return P>=Mf&&P<=ih||P===Fi||P>=wo&&P<=Fu||P===bl},eo=function(P,T){return P!==Ei?!1:T!==Ma},_u=function(P,T,L){return P===pn?Sl(T)||eo(T,L):Sl(P)?!0:!!(P===Ei&&eo(P,T))},Sd=function(P,T,L){return P===bo||P===pn?qs(T)?!0:T===Vr&&qs(L):qs(P===Vr?T:P)},Pu=function(P){var T=0,L=1;(P[T]===bo||P[T]===pn)&&(P[T]===pn&&(L=-1),T++);for(var D=[];qs(P[T]);)D.push(P[T++]);var ne=D.length?parseInt(p.apply(void 0,D),10):0;P[T]===Vr&&T++;for(var we=[];qs(P[T]);)we.push(P[T++]);var Oe=we.length,Ge=Oe?parseInt(p.apply(void 0,we),10):0;(P[T]===Ii||P[T]===Uf)&&T++;var Ye=1;(P[T]===bo||P[T]===pn)&&(P[T]===pn&&(Ye=-1),T++);for(var mt=[];qs(P[T]);)mt.push(P[T++]);var bt=mt.length?parseInt(p.apply(void 0,mt),10):0;return L*(ne+Ge*Math.pow(10,-Oe))*Math.pow(10,Ye*bt)},lh={type:2},Ou={type:3},Rf={type:4},Qf={type:13},Du={type:8},Pm={type:21},Lu={type:9},Cd={type:10},Mu={type:11},Mc={type:12},Hf={type:14},W={type:23},Ie={type:1},tt={type:25},ut={type:24},Ct={type:26},$t={type:27},lr={type:28},Sr={type:29},Dr={type:31},ta={type:32},Jr=function(){function P(){this._value=[]}return P.prototype.write=function(T){this._value=this._value.concat(m(T))},P.prototype.read=function(){for(var T=[],L=this.consumeToken();L!==ta;)T.push(L),L=this.consumeToken();return T},P.prototype.consumeToken=function(){var T=this.consumeCodePoint();switch(T){case ui:return this.consumeStringToken(ui);case Rs:var L=this.peekCodePoint(0),D=this.peekCodePoint(1),ne=this.peekCodePoint(2);if(Lc(L)||eo(D,ne)){var we=_u(L,D,ne)?qr:jr,Oe=this.consumeName();return{type:5,value:Oe,flags:we}}break;case fi:if(this.peekCodePoint(0)===Mn)return this.consumeCodePoint(),Qf;break;case bd:return this.consumeStringToken(bd);case Wo:return lh;case Ic:return Ou;case qo:if(this.peekCodePoint(0)===Mn)return this.consumeCodePoint(),Hf;break;case bo:if(Sd(T,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(T),this.consumeNumericToken();break;case Cn:return Rf;case pn:var Ge=T,Ye=this.peekCodePoint(0),mt=this.peekCodePoint(1);if(Sd(Ge,Ye,mt))return this.reconsumeCodePoint(T),this.consumeNumericToken();if(_u(Ge,Ye,mt))return this.reconsumeCodePoint(T),this.consumeIdentLikeToken();if(Ye===pn&&mt===_f)return this.consumeCodePoint(),this.consumeCodePoint(),ut;break;case Vr:if(Sd(T,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(T),this.consumeNumericToken();break;case Bi:if(this.peekCodePoint(0)===qo)for(this.consumeCodePoint();;){var bt=this.consumeCodePoint();if(bt===qo&&(bt=this.consumeCodePoint(),bt===Bi))return this.consumeToken();if(bt===Ws)return this.consumeToken()}break;case Pc:return Ct;case Wl:return $t;case wd:if(this.peekCodePoint(0)===ds&&this.peekCodePoint(1)===pn&&this.peekCodePoint(2)===pn)return this.consumeCodePoint(),this.consumeCodePoint(),tt;break;case Pf:var Bt=this.peekCodePoint(0),zt=this.peekCodePoint(1),br=this.peekCodePoint(2);if(_u(Bt,zt,br)){var Oe=this.consumeName();return{type:7,value:Oe}}break;case Kl:return lr;case Ei:if(eo(T,this.peekCodePoint(0)))return this.reconsumeCodePoint(T),this.consumeIdentLikeToken();break;case sh:return Sr;case Of:if(this.peekCodePoint(0)===Mn)return this.consumeCodePoint(),Du;break;case kc:return Mu;case nh:return Mc;case wl:case jl:var hr=this.peekCodePoint(0),pr=this.peekCodePoint(1);return hr===bo&&(Ji(pr)||pr===_c)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(T),this.consumeIdentLikeToken();case Df:if(this.peekCodePoint(0)===Mn)return this.consumeCodePoint(),Lu;if(this.peekCodePoint(0)===Df)return this.consumeCodePoint(),Pm;break;case Lf:if(this.peekCodePoint(0)===Mn)return this.consumeCodePoint(),Cd;break;case Ws:return ta}return ki(T)?(this.consumeWhiteSpace(),Dr):qs(T)?(this.reconsumeCodePoint(T),this.consumeNumericToken()):Sl(T)?(this.reconsumeCodePoint(T),this.consumeIdentLikeToken()):{type:6,value:p(T)}},P.prototype.consumeCodePoint=function(){var T=this._value.shift();return typeof T>"u"?-1:T},P.prototype.reconsumeCodePoint=function(T){this._value.unshift(T)},P.prototype.peekCodePoint=function(T){return T>=this._value.length?-1:this._value[T]},P.prototype.consumeUnicodeRangeToken=function(){for(var T=[],L=this.consumeCodePoint();Ji(L)&&T.length<6;)T.push(L),L=this.consumeCodePoint();for(var D=!1;L===_c&&T.length<6;)T.push(L),L=this.consumeCodePoint(),D=!0;if(D){var ne=parseInt(p.apply(void 0,T.map(function(Ye){return Ye===_c?Iu:Ye})),16),we=parseInt(p.apply(void 0,T.map(function(Ye){return Ye===_c?Yl:Ye})),16);return{type:30,start:ne,end:we}}var Oe=parseInt(p.apply(void 0,T),16);if(this.peekCodePoint(0)===pn&&Ji(this.peekCodePoint(1))){this.consumeCodePoint(),L=this.consumeCodePoint();for(var Ge=[];Ji(L)&&Ge.length<6;)Ge.push(L),L=this.consumeCodePoint();var we=parseInt(p.apply(void 0,Ge),16);return{type:30,start:Oe,end:we}}else return{type:30,start:Oe,end:Oe}},P.prototype.consumeIdentLikeToken=function(){var T=this.consumeName();return T.toLowerCase()==="url"&&this.peekCodePoint(0)===Wo?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Wo?(this.consumeCodePoint(),{type:19,value:T}):{type:20,value:T}},P.prototype.consumeUrlToken=function(){var T=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ws)return{type:22,value:""};var L=this.peekCodePoint(0);if(L===bd||L===ui){var D=this.consumeStringToken(this.consumeCodePoint());return D.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ws||this.peekCodePoint(0)===Ic)?(this.consumeCodePoint(),{type:22,value:D.value}):(this.consumeBadUrlRemnants(),W)}for(;;){var ne=this.consumeCodePoint();if(ne===Ws||ne===Ic)return{type:22,value:p.apply(void 0,T)};if(ki(ne))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ws||this.peekCodePoint(0)===Ic?(this.consumeCodePoint(),{type:22,value:p.apply(void 0,T)}):(this.consumeBadUrlRemnants(),W);if(ne===ui||ne===bd||ne===Wo||_m(ne))return this.consumeBadUrlRemnants(),W;if(ne===Ei)if(eo(ne,this.peekCodePoint(0)))T.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),W;else T.push(ne)}},P.prototype.consumeWhiteSpace=function(){for(;ki(this.peekCodePoint(0));)this.consumeCodePoint()},P.prototype.consumeBadUrlRemnants=function(){for(;;){var T=this.consumeCodePoint();if(T===Ic||T===Ws)return;eo(T,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},P.prototype.consumeStringSlice=function(T){for(var L=5e4,D="";T>0;){var ne=Math.min(L,T);D+=p.apply(void 0,this._value.splice(0,ne)),T-=ne}return this._value.shift(),D},P.prototype.consumeStringToken=function(T){var L="",D=0;do{var ne=this._value[D];if(ne===Ws||ne===void 0||ne===T)return L+=this.consumeStringSlice(D),{type:0,value:L};if(ne===Ma)return this._value.splice(0,D),Ie;if(ne===Ei){var we=this._value[D+1];we!==Ws&&we!==void 0&&(we===Ma?(L+=this.consumeStringSlice(D),D=-1,this._value.shift()):eo(ne,we)&&(L+=this.consumeStringSlice(D),L+=p(this.consumeEscapedCodePoint()),D=-1))}D++}while(!0)},P.prototype.consumeNumber=function(){var T=[],L=ga,D=this.peekCodePoint(0);for((D===bo||D===pn)&&T.push(this.consumeCodePoint());qs(this.peekCodePoint(0));)T.push(this.consumeCodePoint());D=this.peekCodePoint(0);var ne=this.peekCodePoint(1);if(D===Vr&&qs(ne))for(T.push(this.consumeCodePoint(),this.consumeCodePoint()),L=Oa;qs(this.peekCodePoint(0));)T.push(this.consumeCodePoint());D=this.peekCodePoint(0),ne=this.peekCodePoint(1);var we=this.peekCodePoint(2);if((D===Ii||D===Uf)&&((ne===bo||ne===pn)&&qs(we)||qs(ne)))for(T.push(this.consumeCodePoint(),this.consumeCodePoint()),L=Oa;qs(this.peekCodePoint(0));)T.push(this.consumeCodePoint());return[Pu(T),L]},P.prototype.consumeNumericToken=function(){var T=this.consumeNumber(),L=T[0],D=T[1],ne=this.peekCodePoint(0),we=this.peekCodePoint(1),Oe=this.peekCodePoint(2);if(_u(ne,we,Oe)){var Ge=this.consumeName();return{type:15,number:L,flags:D,unit:Ge}}return ne===kf?(this.consumeCodePoint(),{type:16,number:L,flags:D}):{type:17,number:L,flags:D}},P.prototype.consumeEscapedCodePoint=function(){var T=this.consumeCodePoint();if(Ji(T)){for(var L=p(T);Ji(this.peekCodePoint(0))&&L.length<6;)L+=p(this.consumeCodePoint());ki(this.peekCodePoint(0))&&this.consumeCodePoint();var D=parseInt(L,16);return D===0||ku(D)||D>1114111?jd:D}return T===Ws?jd:T},P.prototype.consumeName=function(){for(var T="";;){var L=this.consumeCodePoint();if(Lc(L))T+=p(L);else if(eo(L,this.peekCodePoint(0)))T+=p(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(L),T}},P}(),ba=function(){function P(T){this._tokens=T}return P.create=function(T){var L=new Jr;return L.write(T),new P(L.read())},P.parseValue=function(T){return P.create(T).parseComponentValue()},P.parseValues=function(T){return P.create(T).parseComponentValues()},P.prototype.parseComponentValue=function(){for(var T=this.consumeToken();T.type===31;)T=this.consumeToken();if(T.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(T);var L=this.consumeComponentValue();do T=this.consumeToken();while(T.type===31);if(T.type===32)return L;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},P.prototype.parseComponentValues=function(){for(var T=[];;){var L=this.consumeComponentValue();if(L.type===32)return T;T.push(L),T.push()}},P.prototype.consumeComponentValue=function(){var T=this.consumeToken();switch(T.type){case 11:case 28:case 2:return this.consumeSimpleBlock(T.type);case 19:return this.consumeFunction(T)}return T},P.prototype.consumeSimpleBlock=function(T){for(var L={type:T,values:[]},D=this.consumeToken();;){if(D.type===32||$f(D,T))return L;this.reconsumeToken(D),L.values.push(this.consumeComponentValue()),D=this.consumeToken()}},P.prototype.consumeFunction=function(T){for(var L={name:T.value,values:[],type:18};;){var D=this.consumeToken();if(D.type===32||D.type===3)return L;this.reconsumeToken(D),L.values.push(this.consumeComponentValue())}},P.prototype.consumeToken=function(){var T=this._tokens.shift();return typeof T>"u"?ta:T},P.prototype.reconsumeToken=function(T){this._tokens.unshift(T)},P}(),Va=function(P){return P.type===15},Ka=function(P){return P.type===17},Gr=function(P){return P.type===20},Ys=function(P){return P.type===0},on=function(P,T){return Gr(P)&&P.value===T},jo=function(P){return P.type!==31},Bn=function(P){return P.type!==31&&P.type!==4},ln=function(P){var T=[],L=[];return P.forEach(function(D){if(D.type===4){if(L.length===0)throw new Error("Error parsing function args, zero tokens for arg");T.push(L),L=[];return}D.type!==31&&L.push(D)}),L.length&&T.push(L),T},$f=function(P,T){return T===11&&P.type===12||T===28&&P.type===29?!0:T===2&&P.type===3},Yn=function(P){return P.type===17||P.type===15},Ga=function(P){return P.type===16||Yn(P)},Bd=function(P){return P.length>1?[P[0],P[1]]:[P[0]]},bs={type:17,number:0,flags:ga},Uc={type:16,number:50,flags:ga},_i={type:16,number:100,flags:ga},Is=function(P,T,L){var D=P[0],ne=P[1];return[Fa(D,T),Fa(typeof ne<"u"?ne:D,L)]},Fa=function(P,T){if(P.type===16)return P.number/100*T;if(Va(P))switch(P.unit){case"rem":case"em":return 16*P.number;case"px":default:return P.number}return P.number},Rc="deg",Qc="grad",Ed="rad",Ai="turn",Uu={name:"angle",parse:function(P,T){if(T.type===15)switch(T.unit){case Rc:return Math.PI*T.number/180;case Qc:return Math.PI/200*T.number;case Ed:return T.number;case Ai:return Math.PI*2*T.number}throw new Error("Unsupported angle type")}},Ru=function(P){return P.type===15&&(P.unit===Rc||P.unit===Qc||P.unit===Ed||P.unit===Ai)},zf=function(P){var T=P.filter(Gr).map(function(L){return L.value}).join(" ");switch(T){case"to bottom right":case"to right bottom":case"left top":case"top left":return[bs,bs];case"to top":case"bottom":return ks(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[bs,_i];case"to right":case"left":return ks(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[_i,_i];case"to bottom":case"top":return ks(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[_i,bs];case"to left":case"right":return ks(270)}return 0},ks=function(P){return Math.PI*P/180},us={name:"color",parse:function(P,T){if(T.type===18){var L=Pi[T.name];if(typeof L>"u")throw new Error('Attempting to parse an unsupported color function "'+T.name+'"');return L(P,T.values)}if(T.type===5){if(T.value.length===3){var D=T.value.substring(0,1),ne=T.value.substring(1,2),we=T.value.substring(2,3);return Xn(parseInt(D+D,16),parseInt(ne+ne,16),parseInt(we+we,16),1)}if(T.value.length===4){var D=T.value.substring(0,1),ne=T.value.substring(1,2),we=T.value.substring(2,3),Oe=T.value.substring(3,4);return Xn(parseInt(D+D,16),parseInt(ne+ne,16),parseInt(we+we,16),parseInt(Oe+Oe,16)/255)}if(T.value.length===6){var D=T.value.substring(0,2),ne=T.value.substring(2,4),we=T.value.substring(4,6);return Xn(parseInt(D,16),parseInt(ne,16),parseInt(we,16),1)}if(T.value.length===8){var D=T.value.substring(0,2),ne=T.value.substring(2,4),we=T.value.substring(4,6),Oe=T.value.substring(6,8);return Xn(parseInt(D,16),parseInt(ne,16),parseInt(we,16),parseInt(Oe,16)/255)}}if(T.type===20){var Ge=En[T.value.toUpperCase()];if(typeof Ge<"u")return Ge}return En.TRANSPARENT}},hi=function(P){return(255&P)===0},Qs=function(P){var T=255&P,L=255&P>>8,D=255&P>>16,ne=255&P>>24;return T<255?"rgba("+ne+","+D+","+L+","+T/255+")":"rgb("+ne+","+D+","+L+")"},Xn=function(P,T,L,D){return(P<<24|T<<16|L<<8|Math.round(D*255)<<0)>>>0},Xl=function(P,T){if(P.type===17)return P.number;if(P.type===16){var L=T===3?1:255;return T===3?P.number/100*L:Math.round(P.number/100*L)}return 0},Jn=function(P,T){var L=T.filter(Bn);if(L.length===3){var D=L.map(Xl),ne=D[0],we=D[1],Oe=D[2];return Xn(ne,we,Oe,1)}if(L.length===4){var Ge=L.map(Xl),ne=Ge[0],we=Ge[1],Oe=Ge[2],Ye=Ge[3];return Xn(ne,we,Oe,Ye)}return 0};function gn(P,T,L){return L<0&&(L+=1),L>=1&&(L-=1),L<1/6?(T-P)*L*6+P:L<1/2?T:L<2/3?(T-P)*6*(2/3-L)+P:P}var Jl=function(P,T){var L=T.filter(Bn),D=L[0],ne=L[1],we=L[2],Oe=L[3],Ge=(D.type===17?ks(D.number):Uu.parse(P,D))/(Math.PI*2),Ye=Ga(ne)?ne.number/100:0,mt=Ga(we)?we.number/100:0,bt=typeof Oe<"u"&&Ga(Oe)?Fa(Oe,1):1;if(Ye===0)return Xn(mt*255,mt*255,mt*255,1);var Bt=mt<=.5?mt*(Ye+1):mt+Ye-mt*Ye,zt=mt*2-Bt,br=gn(zt,Bt,Ge+1/3),hr=gn(zt,Bt,Ge),pr=gn(zt,Bt,Ge-1/3);return Xn(br*255,hr*255,pr*255,bt)},Pi={hsl:Jl,hsla:Jl,rgb:Jn,rgba:Jn},mi=function(P,T){return us.parse(P,ba.create(T).parseComponentValue())},En={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Yo={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(P,T){return T.map(function(L){if(Gr(L))switch(L.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Hs={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Oi=function(P,T){var L=us.parse(P,T[0]),D=T[1];return D&&Ga(D)?{color:L,stop:D}:{color:L,stop:null}},Xs=function(P,T){var L=P[0],D=P[P.length-1];L.stop===null&&(L.stop=bs),D.stop===null&&(D.stop=_i);for(var ne=[],we=0,Oe=0;Oe<P.length;Oe++){var Ge=P[Oe].stop;if(Ge!==null){var Ye=Fa(Ge,T);Ye>we?ne.push(Ye):ne.push(we),we=Ye}else ne.push(null)}for(var mt=null,Oe=0;Oe<ne.length;Oe++){var bt=ne[Oe];if(bt===null)mt===null&&(mt=Oe);else if(mt!==null){for(var Bt=Oe-mt,zt=ne[mt-1],br=(bt-zt)/(Bt+1),hr=1;hr<=Bt;hr++)ne[mt+hr-1]=br*hr;mt=null}}return P.map(function(pr,la){var Pr=pr.color;return{color:Pr,stop:Math.max(Math.min(1,ne[la]/T),0)}})},Di=function(P,T,L){var D=T/2,ne=L/2,we=Fa(P[0],T)-D,Oe=ne-Fa(P[1],L);return(Math.atan2(Oe,we)+Math.PI*2)%(Math.PI*2)},Td=function(P,T,L){var D=typeof P=="number"?P:Di(P,T,L),ne=Math.abs(T*Math.sin(D))+Math.abs(L*Math.cos(D)),we=T/2,Oe=L/2,Ge=ne/2,Ye=Math.sin(D-Math.PI/2)*Ge,mt=Math.cos(D-Math.PI/2)*Ge;return[ne,we-mt,we+mt,Oe-Ye,Oe+Ye]},cn=function(P,T){return Math.sqrt(P*P+T*T)},Fd=function(P,T,L,D,ne){var we=[[0,0],[0,T],[P,0],[P,T]];return we.reduce(function(Oe,Ge){var Ye=Ge[0],mt=Ge[1],bt=cn(L-Ye,D-mt);return(ne?bt<Oe.optimumDistance:bt>Oe.optimumDistance)?{optimumCorner:Ge,optimumDistance:bt}:Oe},{optimumDistance:ne?1/0:-1/0,optimumCorner:null}).optimumCorner},Hc=function(P,T,L,D,ne){var we=0,Oe=0;switch(P.size){case 0:P.shape===0?we=Oe=Math.min(Math.abs(T),Math.abs(T-D),Math.abs(L),Math.abs(L-ne)):P.shape===1&&(we=Math.min(Math.abs(T),Math.abs(T-D)),Oe=Math.min(Math.abs(L),Math.abs(L-ne)));break;case 2:if(P.shape===0)we=Oe=Math.min(cn(T,L),cn(T,L-ne),cn(T-D,L),cn(T-D,L-ne));else if(P.shape===1){var Ge=Math.min(Math.abs(L),Math.abs(L-ne))/Math.min(Math.abs(T),Math.abs(T-D)),Ye=Fd(D,ne,T,L,!0),mt=Ye[0],bt=Ye[1];we=cn(mt-T,(bt-L)/Ge),Oe=Ge*we}break;case 1:P.shape===0?we=Oe=Math.max(Math.abs(T),Math.abs(T-D),Math.abs(L),Math.abs(L-ne)):P.shape===1&&(we=Math.max(Math.abs(T),Math.abs(T-D)),Oe=Math.max(Math.abs(L),Math.abs(L-ne)));break;case 3:if(P.shape===0)we=Oe=Math.max(cn(T,L),cn(T,L-ne),cn(T-D,L),cn(T-D,L-ne));else if(P.shape===1){var Ge=Math.max(Math.abs(L),Math.abs(L-ne))/Math.max(Math.abs(T),Math.abs(T-D)),Bt=Fd(D,ne,T,L,!1),mt=Bt[0],bt=Bt[1];we=cn(mt-T,(bt-L)/Ge),Oe=Ge*we}break}return Array.isArray(P.size)&&(we=Fa(P.size[0],D),Oe=P.size.length===2?Fa(P.size[1],ne):we),[we,Oe]},$c=function(P,T){var L=ks(180),D=[];return ln(T).forEach(function(ne,we){if(we===0){var Oe=ne[0];if(Oe.type===20&&Oe.value==="to"){L=zf(ne);return}else if(Ru(Oe)){L=Uu.parse(P,Oe);return}}var Ge=Oi(P,ne);D.push(Ge)}),{angle:L,stops:D,type:1}},Xo=function(P,T){var L=ks(180),D=[];return ln(T).forEach(function(ne,we){if(we===0){var Oe=ne[0];if(Oe.type===20&&["top","left","right","bottom"].indexOf(Oe.value)!==-1){L=zf(ne);return}else if(Ru(Oe)){L=(Uu.parse(P,Oe)+ks(270))%ks(360);return}}var Ge=Oi(P,ne);D.push(Ge)}),{angle:L,stops:D,type:1}},Id=function(P,T){var L=ks(180),D=[],ne=1,we=0,Oe=3,Ge=[];return ln(T).forEach(function(Ye,mt){var bt=Ye[0];if(mt===0){if(Gr(bt)&&bt.value==="linear"){ne=1;return}else if(Gr(bt)&&bt.value==="radial"){ne=2;return}}if(bt.type===18){if(bt.name==="from"){var Bt=us.parse(P,bt.values[0]);D.push({stop:bs,color:Bt})}else if(bt.name==="to"){var Bt=us.parse(P,bt.values[0]);D.push({stop:_i,color:Bt})}else if(bt.name==="color-stop"){var zt=bt.values.filter(Bn);if(zt.length===2){var Bt=us.parse(P,zt[1]),br=zt[0];Ka(br)&&D.push({stop:{type:16,number:br.number*100,flags:br.flags},color:Bt})}}}}),ne===1?{angle:(L+ks(180))%ks(360),stops:D,type:ne}:{size:Oe,shape:we,stops:D,position:Ge,type:ne}},kd="closest-side",Zl="farthest-side",Cl="closest-corner",zc="farthest-corner",_s="circle",Li="ellipse",Aa="cover",ha="contain",is=function(P,T){var L=0,D=3,ne=[],we=[];return ln(T).forEach(function(Oe,Ge){var Ye=!0;if(Ge===0){var mt=!1;Ye=Oe.reduce(function(Bt,zt){if(mt)if(Gr(zt))switch(zt.value){case"center":return we.push(Uc),Bt;case"top":case"left":return we.push(bs),Bt;case"right":case"bottom":return we.push(_i),Bt}else(Ga(zt)||Yn(zt))&&we.push(zt);else if(Gr(zt))switch(zt.value){case _s:return L=0,!1;case Li:return L=1,!1;case"at":return mt=!0,!1;case kd:return D=0,!1;case Aa:case Zl:return D=1,!1;case ha:case Cl:return D=2,!1;case zc:return D=3,!1}else if(Yn(zt)||Ga(zt))return Array.isArray(D)||(D=[]),D.push(zt),!1;return Bt},Ye)}if(Ye){var bt=Oi(P,Oe);ne.push(bt)}}),{size:D,shape:L,stops:ne,position:we,type:2}},ws=function(P,T){var L=0,D=3,ne=[],we=[];return ln(T).forEach(function(Oe,Ge){var Ye=!0;if(Ge===0?Ye=Oe.reduce(function(bt,Bt){if(Gr(Bt))switch(Bt.value){case"center":return we.push(Uc),!1;case"top":case"left":return we.push(bs),!1;case"right":case"bottom":return we.push(_i),!1}else if(Ga(Bt)||Yn(Bt))return we.push(Bt),!1;return bt},Ye):Ge===1&&(Ye=Oe.reduce(function(bt,Bt){if(Gr(Bt))switch(Bt.value){case _s:return L=0,!1;case Li:return L=1,!1;case ha:case kd:return D=0,!1;case Zl:return D=1,!1;case Cl:return D=2,!1;case Aa:case zc:return D=3,!1}else if(Yn(Bt)||Ga(Bt))return Array.isArray(D)||(D=[]),D.push(Bt),!1;return bt},Ye)),Ye){var mt=Oi(P,Oe);ne.push(mt)}}),{size:D,shape:L,stops:ne,position:we,type:2}},No=function(P){return P.type===1},Vc=function(P){return P.type===2},Bl={name:"image",parse:function(P,T){if(T.type===22){var L={url:T.value,type:0};return P.cache.addImage(T.value),L}if(T.type===18){var D=Vf[T.name];if(typeof D>"u")throw new Error('Attempting to parse an unsupported image function "'+T.name+'"');return D(P,T.values)}throw new Error("Unsupported image type "+T.type)}};function ec(P){return!(P.type===20&&P.value==="none")&&(P.type!==18||!!Vf[P.name])}var Vf={"linear-gradient":$c,"-moz-linear-gradient":Xo,"-ms-linear-gradient":Xo,"-o-linear-gradient":Xo,"-webkit-linear-gradient":Xo,"radial-gradient":is,"-moz-radial-gradient":ws,"-ms-radial-gradient":ws,"-o-radial-gradient":ws,"-webkit-radial-gradient":ws,"-webkit-gradient":Id},_d={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(P,T){if(T.length===0)return[];var L=T[0];return L.type===20&&L.value==="none"?[]:T.filter(function(D){return Bn(D)&&ec(D)}).map(function(D){return Bl.parse(P,D)})}},Tn={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(P,T){return T.map(function(L){if(Gr(L))switch(L.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},So={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(P,T){return ln(T).map(function(L){return L.filter(Ga)}).map(Bd)}},Zn={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(P,T){return ln(T).map(function(L){return L.filter(Gr).map(function(D){return D.value}).join(" ")}).map(Qu)}},Qu=function(P){switch(P){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},pi;(function(P){P.AUTO="auto",P.CONTAIN="contain",P.COVER="cover"})(pi||(pi={}));var Kf={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(P,T){return ln(T).map(function(L){return L.filter(Pd)})}},Pd=function(P){return Gr(P)||Ga(P)},Co=function(P){return{name:"border-"+P+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},ch=Co("top"),Gf=Co("right"),Kc=Co("bottom"),tc=Co("left"),rc=function(P){return{name:"border-radius-"+P,initialValue:"0 0",prefix:!1,type:1,parse:function(T,L){return Bd(L.filter(Ga))}}},dh=rc("top-left"),Bo=rc("top-right"),to=rc("bottom-right"),Od=rc("bottom-left"),Eo=function(P){return{name:"border-"+P+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(T,L){switch(L){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ac=Eo("top"),Dd=Eo("right"),xp=Eo("bottom"),Wf=Eo("left"),Gc=function(P){return{name:"border-"+P+"-width",initialValue:"0",type:0,prefix:!1,parse:function(T,L){return Va(L)?L.number:0}}},xn=Gc("top"),$s=Gc("right"),Ua=Gc("bottom"),Wc=Gc("left"),El={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Om={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(P,T){switch(T){case"rtl":return 1;case"ltr":default:return 0}}},Ld={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(P,T){return T.filter(Gr).reduce(function(L,D){return L|yp(D.value)},0)}},yp=function(P){switch(P){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},sc={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(P,T){switch(T){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},gi={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(P,T){return T.type===20&&T.value==="normal"?0:T.type===17||T.type===15?T.number:0}},ei;(function(P){P.NORMAL="normal",P.STRICT="strict"})(ei||(ei={}));var vp={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(P,T){switch(T){case"strict":return ei.STRICT;case"normal":default:return ei.NORMAL}}},Hu={name:"line-height",initialValue:"normal",prefix:!1,type:4},Jo=function(P,T){return Gr(P)&&P.value==="normal"?1.2*T:P.type===17?T*P.number:Ga(P)?Fa(P,T):T},Fn={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(P,T){return T.type===20&&T.value==="none"?null:Bl.parse(P,T)}},nc={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(P,T){switch(T){case"inside":return 0;case"outside":default:return 1}}},Tl={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(P,T){switch(T){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},ro=function(P){return{name:"margin-"+P,initialValue:"0",prefix:!1,type:4}},uh=ro("top"),fh=ro("right"),$u=ro("bottom"),Ah=ro("left"),Fl={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(P,T){return T.filter(Gr).map(function(L){switch(L.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},yn={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(P,T){switch(T){case"break-word":return"break-word";case"normal":default:return"normal"}}},Zo=function(P){return{name:"padding-"+P,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},hh=Zo("top"),mx=Zo("right"),bp=Zo("bottom"),px=Zo("left"),vn={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(P,T){switch(T){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Dm={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(P,T){switch(T){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},qf={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(P,T){return T.length===1&&on(T[0],"none")?[]:ln(T).map(function(L){for(var D={color:En.TRANSPARENT,offsetX:bs,offsetY:bs,blur:bs},ne=0,we=0;we<L.length;we++){var Oe=L[we];Yn(Oe)?(ne===0?D.offsetX=Oe:ne===1?D.offsetY=Oe:D.blur=Oe,ne++):D.color=us.parse(P,Oe)}return D})}},Yf={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(P,T){switch(T){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Lm={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(P,T){if(T.type===20&&T.value==="none")return null;if(T.type===18){var L=gx[T.name];if(typeof L>"u")throw new Error('Attempting to parse an unsupported transform function "'+T.name+'"');return L(T.values)}return null}},Md=function(P){var T=P.filter(function(L){return L.type===17}).map(function(L){return L.number});return T.length===6?T:null},ic=function(P){var T=P.filter(function(Ye){return Ye.type===17}).map(function(Ye){return Ye.number}),L=T[0],D=T[1];T[2],T[3];var ne=T[4],we=T[5];T[6],T[7],T[8],T[9],T[10],T[11];var Oe=T[12],Ge=T[13];return T[14],T[15],T.length===16?[L,D,ne,we,Oe,Ge]:null},gx={matrix:Md,matrix3d:ic},Mm={type:16,number:50,flags:ga},wp=[Mm,Mm],E={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(P,T){var L=T.filter(Ga);return L.length!==2?wp:[L[0],L[1]]}},R={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(P,T){switch(T){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Z;(function(P){P.NORMAL="normal",P.BREAK_ALL="break-all",P.KEEP_ALL="keep-all"})(Z||(Z={}));for(var fe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(P,T){switch(T){case"break-all":return Z.BREAK_ALL;case"keep-all":return Z.KEEP_ALL;case"normal":default:return Z.NORMAL}}},Fe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(P,T){if(T.type===20)return{auto:!0,order:0};if(Ka(T))return{auto:!1,order:T.number};throw new Error("Invalid z-index number parsed")}},Pe={name:"time",parse:function(P,T){if(T.type===15)switch(T.unit.toLowerCase()){case"s":return 1e3*T.number;case"ms":return T.number}throw new Error("Unsupported time type")}},De={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(P,T){return Ka(T)?T.number:1}},Ue={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},$e={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(P,T){return T.filter(Gr).map(function(L){switch(L.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(L){return L!==0})}},Xe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(P,T){var L=[],D=[];return T.forEach(function(ne){switch(ne.type){case 20:case 0:L.push(ne.value);break;case 17:L.push(ne.number.toString());break;case 4:D.push(L.join(" ")),L.length=0;break}}),L.length&&D.push(L.join(" ")),D.map(function(ne){return ne.indexOf(" ")===-1?ne:"'"+ne+"'"})}},At={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Tt={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(P,T){if(Ka(T))return T.number;if(Gr(T))switch(T.value){case"bold":return 700;case"normal":default:return 400}return 400}},Et={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(P,T){return T.filter(Gr).map(function(L){return L.value})}},wt={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(P,T){switch(T){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Qt=function(P,T){return(P&T)!==0},Lt={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(P,T){if(T.length===0)return[];var L=T[0];return L.type===20&&L.value==="none"?[]:T}},ht={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(P,T){if(T.length===0)return null;var L=T[0];if(L.type===20&&L.value==="none")return null;for(var D=[],ne=T.filter(jo),we=0;we<ne.length;we++){var Oe=ne[we],Ge=ne[we+1];if(Oe.type===20){var Ye=Ge&&Ka(Ge)?Ge.number:1;D.push({counter:Oe.value,increment:Ye})}}return D}},gt={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(P,T){if(T.length===0)return[];for(var L=[],D=T.filter(jo),ne=0;ne<D.length;ne++){var we=D[ne],Oe=D[ne+1];if(Gr(we)&&we.value!=="none"){var Ge=Oe&&Ka(Oe)?Oe.number:0;L.push({counter:we.value,reset:Ge})}}return L}},Kt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(P,T){return T.filter(Va).map(function(L){return Pe.parse(P,L)})}},Zt={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(P,T){if(T.length===0)return null;var L=T[0];if(L.type===20&&L.value==="none")return null;var D=[],ne=T.filter(Ys);if(ne.length%2!==0)return null;for(var we=0;we<ne.length;we+=2){var Oe=ne[we].value,Ge=ne[we+1].value;D.push({open:Oe,close:Ge})}return D}},qt=function(P,T,L){if(!P)return"";var D=P[Math.min(T,P.length-1)];return D?L?D.open:D.close:""},Cr={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(P,T){return T.length===1&&on(T[0],"none")?[]:ln(T).map(function(L){for(var D={color:255,offsetX:bs,offsetY:bs,blur:bs,spread:bs,inset:!1},ne=0,we=0;we<L.length;we++){var Oe=L[we];on(Oe,"inset")?D.inset=!0:Yn(Oe)?(ne===0?D.offsetX=Oe:ne===1?D.offsetY=Oe:ne===2?D.blur=Oe:D.spread=Oe,ne++):D.color=us.parse(P,Oe)}return D})}},xr={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(P,T){var L=[0,1,2],D=[];return T.filter(Gr).forEach(function(ne){switch(ne.value){case"stroke":D.push(1);break;case"fill":D.push(0);break;case"markers":D.push(2);break}}),L.forEach(function(ne){D.indexOf(ne)===-1&&D.push(ne)}),D}},Ur={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},vr={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(P,T){return Va(T)?T.number:0}},Da=function(){function P(T,L){var D,ne;this.animationDuration=sr(T,Kt,L.animationDuration),this.backgroundClip=sr(T,Yo,L.backgroundClip),this.backgroundColor=sr(T,Hs,L.backgroundColor),this.backgroundImage=sr(T,_d,L.backgroundImage),this.backgroundOrigin=sr(T,Tn,L.backgroundOrigin),this.backgroundPosition=sr(T,So,L.backgroundPosition),this.backgroundRepeat=sr(T,Zn,L.backgroundRepeat),this.backgroundSize=sr(T,Kf,L.backgroundSize),this.borderTopColor=sr(T,ch,L.borderTopColor),this.borderRightColor=sr(T,Gf,L.borderRightColor),this.borderBottomColor=sr(T,Kc,L.borderBottomColor),this.borderLeftColor=sr(T,tc,L.borderLeftColor),this.borderTopLeftRadius=sr(T,dh,L.borderTopLeftRadius),this.borderTopRightRadius=sr(T,Bo,L.borderTopRightRadius),this.borderBottomRightRadius=sr(T,to,L.borderBottomRightRadius),this.borderBottomLeftRadius=sr(T,Od,L.borderBottomLeftRadius),this.borderTopStyle=sr(T,ac,L.borderTopStyle),this.borderRightStyle=sr(T,Dd,L.borderRightStyle),this.borderBottomStyle=sr(T,xp,L.borderBottomStyle),this.borderLeftStyle=sr(T,Wf,L.borderLeftStyle),this.borderTopWidth=sr(T,xn,L.borderTopWidth),this.borderRightWidth=sr(T,$s,L.borderRightWidth),this.borderBottomWidth=sr(T,Ua,L.borderBottomWidth),this.borderLeftWidth=sr(T,Wc,L.borderLeftWidth),this.boxShadow=sr(T,Cr,L.boxShadow),this.color=sr(T,El,L.color),this.direction=sr(T,Om,L.direction),this.display=sr(T,Ld,L.display),this.float=sr(T,sc,L.cssFloat),this.fontFamily=sr(T,Xe,L.fontFamily),this.fontSize=sr(T,At,L.fontSize),this.fontStyle=sr(T,wt,L.fontStyle),this.fontVariant=sr(T,Et,L.fontVariant),this.fontWeight=sr(T,Tt,L.fontWeight),this.letterSpacing=sr(T,gi,L.letterSpacing),this.lineBreak=sr(T,vp,L.lineBreak),this.lineHeight=sr(T,Hu,L.lineHeight),this.listStyleImage=sr(T,Fn,L.listStyleImage),this.listStylePosition=sr(T,nc,L.listStylePosition),this.listStyleType=sr(T,Tl,L.listStyleType),this.marginTop=sr(T,uh,L.marginTop),this.marginRight=sr(T,fh,L.marginRight),this.marginBottom=sr(T,$u,L.marginBottom),this.marginLeft=sr(T,Ah,L.marginLeft),this.opacity=sr(T,De,L.opacity);var we=sr(T,Fl,L.overflow);this.overflowX=we[0],this.overflowY=we[we.length>1?1:0],this.overflowWrap=sr(T,yn,L.overflowWrap),this.paddingTop=sr(T,hh,L.paddingTop),this.paddingRight=sr(T,mx,L.paddingRight),this.paddingBottom=sr(T,bp,L.paddingBottom),this.paddingLeft=sr(T,px,L.paddingLeft),this.paintOrder=sr(T,xr,L.paintOrder),this.position=sr(T,Dm,L.position),this.textAlign=sr(T,vn,L.textAlign),this.textDecorationColor=sr(T,Ue,(D=L.textDecorationColor)!==null&&D!==void 0?D:L.color),this.textDecorationLine=sr(T,$e,(ne=L.textDecorationLine)!==null&&ne!==void 0?ne:L.textDecoration),this.textShadow=sr(T,qf,L.textShadow),this.textTransform=sr(T,Yf,L.textTransform),this.transform=sr(T,Lm,L.transform),this.transformOrigin=sr(T,E,L.transformOrigin),this.visibility=sr(T,R,L.visibility),this.webkitTextStrokeColor=sr(T,Ur,L.webkitTextStrokeColor),this.webkitTextStrokeWidth=sr(T,vr,L.webkitTextStrokeWidth),this.wordBreak=sr(T,fe,L.wordBreak),this.zIndex=sr(T,Fe,L.zIndex)}return P.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},P.prototype.isTransparent=function(){return hi(this.backgroundColor)},P.prototype.isTransformed=function(){return this.transform!==null},P.prototype.isPositioned=function(){return this.position!==0},P.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},P.prototype.isFloating=function(){return this.float!==0},P.prototype.isInlineLevel=function(){return Qt(this.display,4)||Qt(this.display,33554432)||Qt(this.display,268435456)||Qt(this.display,536870912)||Qt(this.display,67108864)||Qt(this.display,134217728)},P}(),Qa=function(){function P(T,L){this.content=sr(T,Lt,L.content),this.quotes=sr(T,Zt,L.quotes)}return P}(),fa=function(){function P(T,L){this.counterIncrement=sr(T,ht,L.counterIncrement),this.counterReset=sr(T,gt,L.counterReset)}return P}(),sr=function(P,T,L){var D=new Jr,ne=L!==null&&typeof L<"u"?L.toString():T.initialValue;D.write(ne);var we=new ba(D.read());switch(T.type){case 2:var Oe=we.parseComponentValue();return T.parse(P,Gr(Oe)?Oe.value:T.initialValue);case 0:return T.parse(P,we.parseComponentValue());case 1:return T.parse(P,we.parseComponentValues());case 4:return we.parseComponentValue();case 3:switch(T.format){case"angle":return Uu.parse(P,we.parseComponentValue());case"color":return us.parse(P,we.parseComponentValue());case"image":return Bl.parse(P,we.parseComponentValue());case"length":var Ge=we.parseComponentValue();return Yn(Ge)?Ge:bs;case"length-percentage":var Ye=we.parseComponentValue();return Ga(Ye)?Ye:bs;case"time":return Pe.parse(P,we.parseComponentValue())}break}},Wa="data-html2canvas-debug",Ha=function(P){var T=P.getAttribute(Wa);switch(T){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Zr=function(P,T){var L=Ha(P);return L===1||T===L},wa=function(){function P(T,L){if(this.context=T,this.textNodes=[],this.elements=[],this.flags=0,Zr(L,3))debugger;this.styles=new Da(T,window.getComputedStyle(L,null)),jn(L)&&(this.styles.animationDuration.some(function(D){return D>0})&&(L.style.animationDuration="0s"),this.styles.transform!==null&&(L.style.transform="none")),this.bounds=f(this.context,L),Zr(L,4)&&(this.flags|=16)}return P}(),Qr="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Wr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xa=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ca=0;Ca<Wr.length;Ca++)xa[Wr.charCodeAt(Ca)]=Ca;for(var In=function(P){var T=P.length*.75,L=P.length,D,ne=0,we,Oe,Ge,Ye;P[P.length-1]==="="&&(T--,P[P.length-2]==="="&&T--);var mt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(T):new Array(T),bt=Array.isArray(mt)?mt:new Uint8Array(mt);for(D=0;D<L;D+=4)we=xa[P.charCodeAt(D)],Oe=xa[P.charCodeAt(D+1)],Ge=xa[P.charCodeAt(D+2)],Ye=xa[P.charCodeAt(D+3)],bt[ne++]=we<<2|Oe>>4,bt[ne++]=(Oe&15)<<4|Ge>>2,bt[ne++]=(Ge&3)<<6|Ye&63;return mt},bn=function(P){for(var T=P.length,L=[],D=0;D<T;D+=2)L.push(P[D+1]<<8|P[D]);return L},Js=function(P){for(var T=P.length,L=[],D=0;D<T;D+=4)L.push(P[D+3]<<24|P[D+2]<<16|P[D+1]<<8|P[D]);return L},rs=5,zs=11,Mi=2,$a=zs-rs,Zs=65536>>rs,el=1<<rs,Il=el-1,Ud=1024>>rs,qc=Zs+Ud,js=qc,Xf=32,mh=js+Xf,xi=65536>>zs,Ps=1<<$a,Rd=Ps-1,oc=function(P,T,L){return P.slice?P.slice(T,L):new Uint16Array(Array.prototype.slice.call(P,T,L))},Ui=function(P,T,L){return P.slice?P.slice(T,L):new Uint32Array(Array.prototype.slice.call(P,T,L))},Yc=function(P,T){var L=In(P),D=Array.isArray(L)?Js(L):new Uint32Array(L),ne=Array.isArray(L)?bn(L):new Uint16Array(L),we=24,Oe=oc(ne,we/2,D[4]/2),Ge=D[5]===2?oc(ne,(we+D[4])/2):Ui(D,Math.ceil((we+D[4])/4));return new Ri(D[0],D[1],D[2],D[3],Oe,Ge)},Ri=function(){function P(T,L,D,ne,we,Oe){this.initialValue=T,this.errorValue=L,this.highStart=D,this.highValueIndex=ne,this.index=we,this.data=Oe}return P.prototype.get=function(T){var L;if(T>=0){if(T<55296||T>56319&&T<=65535)return L=this.index[T>>rs],L=(L<<Mi)+(T&Il),this.data[L];if(T<=65535)return L=this.index[Zs+(T-55296>>rs)],L=(L<<Mi)+(T&Il),this.data[L];if(T<this.highStart)return L=mh-xi+(T>>zs),L=this.index[L],L+=T>>rs&Rd,L=this.index[L],L=(L<<Mi)+(T&Il),this.data[L];if(T<=1114111)return this.data[this.highValueIndex]}return this.errorValue},P}(),zu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vu=typeof Uint8Array>"u"?[]:new Uint8Array(256),Qd=0;Qd<zu.length;Qd++)Vu[zu.charCodeAt(Qd)]=Qd;var Jf=1,Ku=2,Hd=3,$d=4,Um=5,jp=7,Gu=8,tl=9,Rm=10,Qm=11,Hm=12,ph=13,zd=14,Zf=15,$m=function(P){for(var T=[],L=0,D=P.length;L<D;){var ne=P.charCodeAt(L++);if(ne>=55296&&ne<=56319&&L<D){var we=P.charCodeAt(L++);(we&64512)===56320?T.push(((ne&1023)<<10)+(we&1023)+65536):(T.push(ne),L--)}else T.push(ne)}return T},eA=function(){for(var P=[],T=0;T<arguments.length;T++)P[T]=arguments[T];if(String.fromCodePoint)return String.fromCodePoint.apply(String,P);var L=P.length;if(!L)return"";for(var D=[],ne=-1,we="";++ne<L;){var Oe=P[ne];Oe<=65535?D.push(Oe):(Oe-=65536,D.push((Oe>>10)+55296,Oe%1024+56320)),(ne+1===L||D.length>16384)&&(we+=String.fromCharCode.apply(String,D),D.length=0)}return we},gh=Yc(Qr),Rn="",xh="",Np=function(P){return gh.get(P)},lc=function(P,T,L){var D=L-2,ne=T[D],we=T[L-1],Oe=T[L];if(we===Ku&&Oe===Hd)return Rn;if(we===Ku||we===Hd||we===$d||Oe===Ku||Oe===Hd||Oe===$d)return xh;if(we===Gu&&[Gu,tl,Qm,Hm].indexOf(Oe)!==-1||(we===Qm||we===tl)&&(Oe===tl||Oe===Rm)||(we===Hm||we===Rm)&&Oe===Rm||Oe===ph||Oe===Um||Oe===jp||we===Jf)return Rn;if(we===ph&&Oe===zd){for(;ne===Um;)ne=T[--D];if(ne===zd)return Rn}if(we===Zf&&Oe===Zf){for(var Ge=0;ne===Zf;)Ge++,ne=T[--D];if(Ge%2===0)return Rn}return xh},tA=function(P){var T=$m(P),L=T.length,D=0,ne=0,we=T.map(Np);return{next:function(){if(D>=L)return{done:!0,value:null};for(var Oe=Rn;D<L&&(Oe=lc(T,we,++D))===Rn;);if(Oe!==Rn||D===L){var Ge=eA.apply(null,T.slice(ne,D));return ne=D,{value:Ge,done:!1}}return{done:!0,value:null}}}},yh=function(P){for(var T=tA(P),L=[],D;!(D=T.next()).done;)D.value&&L.push(D.value.slice());return L},rl=function(P){var T=123;if(P.createRange){var L=P.createRange();if(L.getBoundingClientRect){var D=P.createElement("boundtest");D.style.height=T+"px",D.style.display="block",P.body.appendChild(D),L.selectNode(D);var ne=L.getBoundingClientRect(),we=Math.round(ne.height);if(P.body.removeChild(D),we===T)return!0}}return!1},Wu=function(P){var T=P.createElement("boundtest");T.style.width="50px",T.style.display="block",T.style.fontSize="12px",T.style.letterSpacing="0px",T.style.wordSpacing="0px",P.body.appendChild(T);var L=P.createRange();T.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var D=T.firstChild,ne=m(D.data).map(function(Ye){return p(Ye)}),we=0,Oe={},Ge=ne.every(function(Ye,mt){L.setStart(D,we),L.setEnd(D,we+Ye.length);var bt=L.getBoundingClientRect();we+=Ye.length;var Bt=bt.x>Oe.x||bt.y>Oe.y;return Oe=bt,mt===0?!0:Bt});return P.body.removeChild(T),Ge},zm=function(){return typeof new Image().crossOrigin<"u"},Sp=function(){return typeof new XMLHttpRequest().responseType=="string"},Vm=function(P){var T=new Image,L=P.createElement("canvas"),D=L.getContext("2d");if(!D)return!1;T.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{D.drawImage(T,0,0),L.toDataURL()}catch{return!1}return!0},Xc=function(P){return P[0]===0&&P[1]===255&&P[2]===0&&P[3]===255},Cp=function(P){var T=P.createElement("canvas"),L=100;T.width=L,T.height=L;var D=T.getContext("2d");if(!D)return Promise.reject(!1);D.fillStyle="rgb(0, 255, 0)",D.fillRect(0,0,L,L);var ne=new Image,we=T.toDataURL();ne.src=we;var Oe=rA(L,L,0,0,ne);return D.fillStyle="red",D.fillRect(0,0,L,L),vh(Oe).then(function(Ge){D.drawImage(Ge,0,0);var Ye=D.getImageData(0,0,L,L).data;D.fillStyle="red",D.fillRect(0,0,L,L);var mt=P.createElement("div");return mt.style.backgroundImage="url("+we+")",mt.style.height=L+"px",Xc(Ye)?vh(rA(L,L,0,0,mt)):Promise.reject(!1)}).then(function(Ge){return D.drawImage(Ge,0,0),Xc(D.getImageData(0,0,L,L).data)}).catch(function(){return!1})},rA=function(P,T,L,D,ne){var we="http://www.w3.org/2000/svg",Oe=document.createElementNS(we,"svg"),Ge=document.createElementNS(we,"foreignObject");return Oe.setAttributeNS(null,"width",P.toString()),Oe.setAttributeNS(null,"height",T.toString()),Ge.setAttributeNS(null,"width","100%"),Ge.setAttributeNS(null,"height","100%"),Ge.setAttributeNS(null,"x",L.toString()),Ge.setAttributeNS(null,"y",D.toString()),Ge.setAttributeNS(null,"externalResourcesRequired","true"),Oe.appendChild(Ge),Ge.appendChild(ne),Oe},vh=function(P){return new Promise(function(T,L){var D=new Image;D.onload=function(){return T(D)},D.onerror=L,D.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(P))})},wn={get SUPPORT_RANGE_BOUNDS(){var P=rl(document);return Object.defineProperty(wn,"SUPPORT_RANGE_BOUNDS",{value:P}),P},get SUPPORT_WORD_BREAKING(){var P=wn.SUPPORT_RANGE_BOUNDS&&Wu(document);return Object.defineProperty(wn,"SUPPORT_WORD_BREAKING",{value:P}),P},get SUPPORT_SVG_DRAWING(){var P=Vm(document);return Object.defineProperty(wn,"SUPPORT_SVG_DRAWING",{value:P}),P},get SUPPORT_FOREIGNOBJECT_DRAWING(){var P=typeof Array.from=="function"&&typeof window.fetch=="function"?Cp(document):Promise.resolve(!1);return Object.defineProperty(wn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:P}),P},get SUPPORT_CORS_IMAGES(){var P=zm();return Object.defineProperty(wn,"SUPPORT_CORS_IMAGES",{value:P}),P},get SUPPORT_RESPONSE_TYPE(){var P=Sp();return Object.defineProperty(wn,"SUPPORT_RESPONSE_TYPE",{value:P}),P},get SUPPORT_CORS_XHR(){var P="withCredentials"in new XMLHttpRequest;return Object.defineProperty(wn,"SUPPORT_CORS_XHR",{value:P}),P},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var P=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(wn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:P}),P}},qu=function(){function P(T,L){this.text=T,this.bounds=L}return P}(),Vd=function(P,T,L,D){var ne=cc(T,L),we=[],Oe=0;return ne.forEach(function(Ge){if(L.textDecorationLine.length||Ge.trim().length>0)if(wn.SUPPORT_RANGE_BOUNDS){var Ye=Yu(D,Oe,Ge.length).getClientRects();if(Ye.length>1){var mt=al(Ge),bt=0;mt.forEach(function(zt){we.push(new qu(zt,d.fromDOMRectList(P,Yu(D,bt+Oe,zt.length).getClientRects()))),bt+=zt.length})}else we.push(new qu(Ge,d.fromDOMRectList(P,Ye)))}else{var Bt=D.splitText(Ge.length);we.push(new qu(Ge,bh(P,D))),D=Bt}else wn.SUPPORT_RANGE_BOUNDS||(D=D.splitText(Ge.length));Oe+=Ge.length}),we},bh=function(P,T){var L=T.ownerDocument;if(L){var D=L.createElement("html2canvaswrapper");D.appendChild(T.cloneNode(!0));var ne=T.parentNode;if(ne){ne.replaceChild(D,T);var we=f(P,D);return D.firstChild&&ne.replaceChild(D.firstChild,D),we}}return d.EMPTY},Yu=function(P,T,L){var D=P.ownerDocument;if(!D)throw new Error("Node has no owner document");var ne=D.createRange();return ne.setStart(P,T),ne.setEnd(P,T+L),ne},al=function(P){if(wn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var T=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(T.segment(P)).map(function(L){return L.segment})}return yh(P)},kl=function(P,T){if(wn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var L=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(L.segment(P)).map(function(D){return D.segment})}return sA(P,T)},cc=function(P,T){return T.letterSpacing!==0?al(P):kl(P,T)},aA=[32,160,4961,65792,65793,4153,4241],sA=function(P,T){for(var L=ur(P,{lineBreak:T.lineBreak,wordBreak:T.overflowWrap==="break-word"?"break-word":T.wordBreak}),D=[],ne,we=function(){if(ne.value){var Oe=ne.value.slice(),Ge=m(Oe),Ye="";Ge.forEach(function(mt){aA.indexOf(mt)===-1?Ye+=p(mt):(Ye.length&&D.push(Ye),D.push(p(mt)),Ye="")}),Ye.length&&D.push(Ye)}};!(ne=L.next()).done;)we();return D},Km=function(){function P(T,L,D){this.text=Bp(L.data,D.textTransform),this.textBounds=Vd(T,this.text,D,L)}return P}(),Bp=function(P,T){switch(T){case 1:return P.toLowerCase();case 3:return P.replace(Gm,Wm);case 2:return P.toUpperCase();default:return P}},Gm=/(^|\s|:|-|\(|\))([a-z])/g,Wm=function(P,T,L){return P.length>0?T+L.toUpperCase():P},xx=function(P){s(T,P);function T(L,D){var ne=P.call(this,L,D)||this;return ne.src=D.currentSrc||D.src,ne.intrinsicWidth=D.naturalWidth,ne.intrinsicHeight=D.naturalHeight,ne.context.cache.addImage(ne.src),ne}return T}(wa),wh=function(P){s(T,P);function T(L,D){var ne=P.call(this,L,D)||this;return ne.canvas=D,ne.intrinsicWidth=D.width,ne.intrinsicHeight=D.height,ne}return T}(wa),Ep=function(P){s(T,P);function T(L,D){var ne=P.call(this,L,D)||this,we=new XMLSerializer,Oe=f(L,D);return D.setAttribute("width",Oe.width+"px"),D.setAttribute("height",Oe.height+"px"),ne.svg="data:image/svg+xml,"+encodeURIComponent(we.serializeToString(D)),ne.intrinsicWidth=D.width.baseVal.value,ne.intrinsicHeight=D.height.baseVal.value,ne.context.cache.addImage(ne.svg),ne}return T}(wa),qm=function(P){s(T,P);function T(L,D){var ne=P.call(this,L,D)||this;return ne.value=D.value,ne}return T}(wa),Tp=function(P){s(T,P);function T(L,D){var ne=P.call(this,L,D)||this;return ne.start=D.start,ne.reversed=typeof D.reversed=="boolean"&&D.reversed===!0,ne}return T}(wa),bv=[{type:15,flags:0,unit:"px",number:3}],Fp=[{type:16,flags:0,number:50}],wv=function(P){return P.width>P.height?new d(P.left+(P.width-P.height)/2,P.top,P.height,P.height):P.width<P.height?new d(P.left,P.top+(P.height-P.width)/2,P.width,P.width):P},jv=function(P){var T=P.type===Ym?new Array(P.value.length+1).join(""):P.value;return T.length===0?P.placeholder||"":T},Ip="checkbox",Kd="radio",Ym="password",Xm=707406591,nA=function(P){s(T,P);function T(L,D){var ne=P.call(this,L,D)||this;switch(ne.type=D.type.toLowerCase(),ne.checked=D.checked,ne.value=jv(D),(ne.type===Ip||ne.type===Kd)&&(ne.styles.backgroundColor=3739148031,ne.styles.borderTopColor=ne.styles.borderRightColor=ne.styles.borderBottomColor=ne.styles.borderLeftColor=2779096575,ne.styles.borderTopWidth=ne.styles.borderRightWidth=ne.styles.borderBottomWidth=ne.styles.borderLeftWidth=1,ne.styles.borderTopStyle=ne.styles.borderRightStyle=ne.styles.borderBottomStyle=ne.styles.borderLeftStyle=1,ne.styles.backgroundClip=[0],ne.styles.backgroundOrigin=[0],ne.bounds=wv(ne.bounds)),ne.type){case Ip:ne.styles.borderTopRightRadius=ne.styles.borderTopLeftRadius=ne.styles.borderBottomRightRadius=ne.styles.borderBottomLeftRadius=bv;break;case Kd:ne.styles.borderTopRightRadius=ne.styles.borderTopLeftRadius=ne.styles.borderBottomRightRadius=ne.styles.borderBottomLeftRadius=Fp;break}return ne}return T}(wa),Jm=function(P){s(T,P);function T(L,D){var ne=P.call(this,L,D)||this,we=D.options[D.selectedIndex||0];return ne.value=we&&we.text||"",ne}return T}(wa),yx=function(P){s(T,P);function T(L,D){var ne=P.call(this,L,D)||this;return ne.value=D.value,ne}return T}(wa),vx=function(P){s(T,P);function T(L,D){var ne=P.call(this,L,D)||this;ne.src=D.src,ne.width=parseInt(D.width,10)||0,ne.height=parseInt(D.height,10)||0,ne.backgroundColor=ne.styles.backgroundColor;try{if(D.contentWindow&&D.contentWindow.document&&D.contentWindow.document.documentElement){ne.tree=dc(L,D.contentWindow.document.documentElement);var we=D.contentWindow.document.documentElement?mi(L,getComputedStyle(D.contentWindow.document.documentElement).backgroundColor):En.TRANSPARENT,Oe=D.contentWindow.document.body?mi(L,getComputedStyle(D.contentWindow.document.body).backgroundColor):En.TRANSPARENT;ne.backgroundColor=hi(we)?hi(Oe)?ne.styles.backgroundColor:Oe:we}}catch{}return ne}return T}(wa),jh=["OL","UL","MENU"],Zm=function(P,T,L,D){for(var ne=T.firstChild,we=void 0;ne;ne=we)if(we=ne.nextSibling,Gd(ne)&&ne.data.trim().length>0)L.textNodes.push(new Km(P,ne,L.styles));else if(To(ne))if(Bv(ne)&&ne.assignedNodes)ne.assignedNodes().forEach(function(Ge){return Zm(P,Ge,L,D)});else{var Oe=sl(P,ne);Oe.styles.isVisible()&&(Xu(ne,Oe,D)?Oe.flags|=4:Nv(Oe.styles)&&(Oe.flags|=2),jh.indexOf(ne.tagName)!==-1&&(Oe.flags|=8),L.elements.push(Oe),ne.slot,ne.shadowRoot?Zm(P,ne.shadowRoot,Oe,D):!t0(ne)&&!Ju(ne)&&!r0(ne)&&Zm(P,ne,Oe,D))}},sl=function(P,T){return kp(T)?new xx(P,T):jx(T)?new wh(P,T):Ju(T)?new Ep(P,T):bx(T)?new qm(P,T):wx(T)?new Tp(P,T):Sv(T)?new nA(P,T):r0(T)?new Jm(P,T):t0(T)?new yx(P,T):e0(T)?new vx(P,T):new wa(P,T)},dc=function(P,T){var L=sl(P,T);return L.flags|=4,Zm(P,T,L,L),L},Xu=function(P,T,L){return T.styles.isPositionedWithZIndex()||T.styles.opacity<1||T.styles.isTransformed()||Nh(P)&&L.styles.isTransparent()},Nv=function(P){return P.isPositioned()||P.isFloating()},Gd=function(P){return P.nodeType===Node.TEXT_NODE},To=function(P){return P.nodeType===Node.ELEMENT_NODE},jn=function(P){return To(P)&&typeof P.style<"u"&&!iA(P)},iA=function(P){return typeof P.className=="object"},bx=function(P){return P.tagName==="LI"},wx=function(P){return P.tagName==="OL"},Sv=function(P){return P.tagName==="INPUT"},Cv=function(P){return P.tagName==="HTML"},Ju=function(P){return P.tagName==="svg"},Nh=function(P){return P.tagName==="BODY"},jx=function(P){return P.tagName==="CANVAS"},Nx=function(P){return P.tagName==="VIDEO"},kp=function(P){return P.tagName==="IMG"},e0=function(P){return P.tagName==="IFRAME"},Sx=function(P){return P.tagName==="STYLE"},Cx=function(P){return P.tagName==="SCRIPT"},t0=function(P){return P.tagName==="TEXTAREA"},r0=function(P){return P.tagName==="SELECT"},Bv=function(P){return P.tagName==="SLOT"},Bx=function(P){return P.tagName.indexOf("-")>0},ti=function(){function P(){this.counters={}}return P.prototype.getCounterValue=function(T){var L=this.counters[T];return L&&L.length?L[L.length-1]:1},P.prototype.getCounterValues=function(T){var L=this.counters[T];return L||[]},P.prototype.pop=function(T){var L=this;T.forEach(function(D){return L.counters[D].pop()})},P.prototype.parse=function(T){var L=this,D=T.counterIncrement,ne=T.counterReset,we=!0;D!==null&&D.forEach(function(Ge){var Ye=L.counters[Ge.counter];Ye&&Ge.increment!==0&&(we=!1,Ye.length||Ye.push(1),Ye[Math.max(0,Ye.length-1)]+=Ge.increment)});var Oe=[];return we&&ne.forEach(function(Ge){var Ye=L.counters[Ge.counter];Oe.push(Ge.counter),Ye||(Ye=L.counters[Ge.counter]=[]),Ye.push(Ge.reset)}),Oe},P}(),ri={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Ex={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ev={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Tv={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},oA=function(P,T,L,D,ne,we){return P<T||P>L?dA(P,ne,we.length>0):D.integers.reduce(function(Oe,Ge,Ye){for(;P>=Ge;)P-=Ge,Oe+=D.values[Ye];return Oe},"")+we},Tx=function(P,T,L,D){var ne="";do L||P--,ne=D(P)+ne,P/=T;while(P*T>=T);return ne},Vs=function(P,T,L,D,ne){var we=L-T+1;return(P<0?"-":"")+(Tx(Math.abs(P),we,D,function(Oe){return p(Math.floor(Oe%we)+T)})+ne)},Wd=function(P,T,L){L===void 0&&(L=". ");var D=T.length;return Tx(Math.abs(P),D,!1,function(ne){return T[Math.floor(ne%D)]})+L},lA=1,qd=2,Yd=4,cA=8,uc=function(P,T,L,D,ne,we){if(P<-9999||P>9999)return dA(P,4,ne.length>0);var Oe=Math.abs(P),Ge=ne;if(Oe===0)return T[0]+Ge;for(var Ye=0;Oe>0&&Ye<=4;Ye++){var mt=Oe%10;mt===0&&Qt(we,lA)&&Ge!==""?Ge=T[mt]+Ge:mt>1||mt===1&&Ye===0||mt===1&&Ye===1&&Qt(we,qd)||mt===1&&Ye===1&&Qt(we,Yd)&&P>100||mt===1&&Ye>1&&Qt(we,cA)?Ge=T[mt]+(Ye>0?L[Ye-1]:"")+Ge:mt===1&&Ye>0&&(Ge=L[Ye-1]+Ge),Oe=Math.floor(Oe/10)}return(P<0?D:"")+Ge},_p="",Fx="",Pp="",Sh="",dA=function(P,T,L){var D=L?". ":"",ne=L?"":"",we=L?", ":"",Oe=L?" ":"";switch(T){case 0:return""+Oe;case 1:return""+Oe;case 2:return""+Oe;case 5:var Ge=Vs(P,48,57,!0,D);return Ge.length<4?"0"+Ge:Ge;case 4:return Wd(P,"",ne);case 6:return oA(P,1,3999,ri,3,D).toLowerCase();case 7:return oA(P,1,3999,ri,3,D);case 8:return Vs(P,945,969,!1,D);case 9:return Vs(P,97,122,!1,D);case 10:return Vs(P,65,90,!1,D);case 11:return Vs(P,1632,1641,!0,D);case 12:case 49:return oA(P,1,9999,Ex,3,D);case 35:return oA(P,1,9999,Ex,3,D).toLowerCase();case 13:return Vs(P,2534,2543,!0,D);case 14:case 30:return Vs(P,6112,6121,!0,D);case 15:return Wd(P,"",ne);case 16:return Wd(P,"",ne);case 17:case 48:return uc(P,"",_p,"",ne,qd|Yd|cA);case 47:return uc(P,"",Fx,"",ne,lA|qd|Yd|cA);case 42:return uc(P,"",_p,"",ne,qd|Yd|cA);case 41:return uc(P,"",Fx,"",ne,lA|qd|Yd|cA);case 26:return uc(P,"","",Pp,ne,0);case 25:return uc(P,"","",Pp,ne,lA|qd|Yd);case 31:return uc(P,"","",Sh,we,lA|qd|Yd);case 33:return uc(P,"","",Sh,we,0);case 32:return uc(P,"","",Sh,we,lA|qd|Yd);case 18:return Vs(P,2406,2415,!0,D);case 20:return oA(P,1,19999,Tv,3,D);case 21:return Vs(P,2790,2799,!0,D);case 22:return Vs(P,2662,2671,!0,D);case 22:return oA(P,1,10999,Ev,3,D);case 23:return Wd(P,"");case 24:return Wd(P,"");case 27:return Vs(P,3302,3311,!0,D);case 28:return Wd(P,"",ne);case 29:return Wd(P,"",ne);case 34:return Vs(P,3792,3801,!0,D);case 37:return Vs(P,6160,6169,!0,D);case 38:return Vs(P,4160,4169,!0,D);case 39:return Vs(P,2918,2927,!0,D);case 40:return Vs(P,1776,1785,!0,D);case 43:return Vs(P,3046,3055,!0,D);case 44:return Vs(P,3174,3183,!0,D);case 45:return Vs(P,3664,3673,!0,D);case 46:return Vs(P,3872,3881,!0,D);case 3:default:return Vs(P,48,57,!0,D)}},Ix="data-html2canvas-ignore",Op=function(){function P(T,L,D){if(this.context=T,this.options=D,this.scrolledElements=[],this.referenceElement=L,this.counters=new ti,this.quoteDepth=0,!L.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(L.ownerDocument.documentElement,!1)}return P.prototype.toIFrame=function(T,L){var D=this,ne=Xd(T,L);if(!ne.contentWindow)return Promise.reject("Unable to find iframe window");var we=T.defaultView.pageXOffset,Oe=T.defaultView.pageYOffset,Ge=ne.contentWindow,Ye=Ge.document,mt=Fv(ne).then(function(){return o(D,void 0,void 0,function(){var bt,Bt;return l(this,function(zt){switch(zt.label){case 0:return this.scrolledElements.forEach(en),Ge&&(Ge.scrollTo(L.left,L.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(Ge.scrollY!==L.top||Ge.scrollX!==L.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(Ge.scrollX-L.left,Ge.scrollY-L.top,0,0))),bt=this.options.onclone,Bt=this.clonedReferenceElement,typeof Bt>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:Ye.fonts&&Ye.fonts.ready?[4,Ye.fonts.ready]:[3,2];case 1:zt.sent(),zt.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Z4(Ye)]:[3,4];case 3:zt.sent(),zt.label=4;case 4:return typeof bt=="function"?[2,Promise.resolve().then(function(){return bt(Ye,Bt)}).then(function(){return ne})]:[2,ne]}})})});return Ye.open(),Ye.write(Lp(document.doctype)+"<html></html>"),a0(this.referenceElement.ownerDocument,we,Oe),Ye.replaceChild(Ye.adoptNode(this.documentElement),Ye.documentElement),Ye.close(),mt},P.prototype.createElementClone=function(T){if(Zr(T,2))debugger;if(jx(T))return this.createCanvasClone(T);if(Nx(T))return this.createVideoClone(T);if(Sx(T))return this.createStyleClone(T);var L=T.cloneNode(!1);return kp(L)&&(kp(T)&&T.currentSrc&&T.currentSrc!==T.src&&(L.src=T.currentSrc,L.srcset=""),L.loading==="lazy"&&(L.loading="eager")),Bx(L)?this.createCustomElementClone(L):L},P.prototype.createCustomElementClone=function(T){var L=document.createElement("html2canvascustomelement");return Dp(T.style,L),L},P.prototype.createStyleClone=function(T){try{var L=T.sheet;if(L&&L.cssRules){var D=[].slice.call(L.cssRules,0).reduce(function(we,Oe){return Oe&&typeof Oe.cssText=="string"?we+Oe.cssText:we},""),ne=T.cloneNode(!1);return ne.textContent=D,ne}}catch(we){if(this.context.logger.error("Unable to access cssRules property",we),we.name!=="SecurityError")throw we}return T.cloneNode(!1)},P.prototype.createCanvasClone=function(T){var L;if(this.options.inlineImages&&T.ownerDocument){var D=T.ownerDocument.createElement("img");try{return D.src=T.toDataURL(),D}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",T)}}var ne=T.cloneNode(!1);try{ne.width=T.width,ne.height=T.height;var we=T.getContext("2d"),Oe=ne.getContext("2d");if(Oe)if(!this.options.allowTaint&&we)Oe.putImageData(we.getImageData(0,0,T.width,T.height),0,0);else{var Ge=(L=T.getContext("webgl2"))!==null&&L!==void 0?L:T.getContext("webgl");if(Ge){var Ye=Ge.getContextAttributes();Ye?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",T)}Oe.drawImage(T,0,0)}return ne}catch{this.context.logger.info("Unable to clone canvas as it is tainted",T)}return ne},P.prototype.createVideoClone=function(T){var L=T.ownerDocument.createElement("canvas");L.width=T.offsetWidth,L.height=T.offsetHeight;var D=L.getContext("2d");try{return D&&(D.drawImage(T,0,0,L.width,L.height),this.options.allowTaint||D.getImageData(0,0,L.width,L.height)),L}catch{this.context.logger.info("Unable to clone video as it is tainted",T)}var ne=T.ownerDocument.createElement("canvas");return ne.width=T.offsetWidth,ne.height=T.offsetHeight,ne},P.prototype.appendChildNode=function(T,L,D){(!To(L)||!Cx(L)&&!L.hasAttribute(Ix)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(L)))&&(!this.options.copyStyles||!To(L)||!Sx(L))&&T.appendChild(this.cloneNode(L,D))},P.prototype.cloneChildNodes=function(T,L,D){for(var ne=this,we=T.shadowRoot?T.shadowRoot.firstChild:T.firstChild;we;we=we.nextSibling)if(To(we)&&Bv(we)&&typeof we.assignedNodes=="function"){var Oe=we.assignedNodes();Oe.length&&Oe.forEach(function(Ge){return ne.appendChildNode(L,Ge,D)})}else this.appendChildNode(L,we,D)},P.prototype.cloneNode=function(T,L){if(Gd(T))return document.createTextNode(T.data);if(!T.ownerDocument)return T.cloneNode(!1);var D=T.ownerDocument.defaultView;if(D&&To(T)&&(jn(T)||iA(T))){var ne=this.createElementClone(T);ne.style.transitionProperty="none";var we=D.getComputedStyle(T),Oe=D.getComputedStyle(T,":before"),Ge=D.getComputedStyle(T,":after");this.referenceElement===T&&jn(ne)&&(this.clonedReferenceElement=ne),Nh(ne)&&Iv(ne);var Ye=this.counters.parse(new fa(this.context,we)),mt=this.resolvePseudoContent(T,ne,Oe,Ch.BEFORE);Bx(T)&&(L=!0),Nx(T)||this.cloneChildNodes(T,ne,L),mt&&ne.insertBefore(mt,ne.firstChild);var bt=this.resolvePseudoContent(T,ne,Ge,Ch.AFTER);return bt&&ne.appendChild(bt),this.counters.pop(Ye),(we&&(this.options.copyStyles||iA(T))&&!e0(T)||L)&&Dp(we,ne),(T.scrollTop!==0||T.scrollLeft!==0)&&this.scrolledElements.push([ne,T.scrollLeft,T.scrollTop]),(t0(T)||r0(T))&&(t0(ne)||r0(ne))&&(ne.value=T.value),ne}return T.cloneNode(!1)},P.prototype.resolvePseudoContent=function(T,L,D,ne){var we=this;if(D){var Oe=D.content,Ge=L.ownerDocument;if(!(!Ge||!Oe||Oe==="none"||Oe==="-moz-alt-content"||D.display==="none")){this.counters.parse(new fa(this.context,D));var Ye=new Qa(this.context,D),mt=Ge.createElement("html2canvaspseudoelement");Dp(D,mt),Ye.content.forEach(function(Bt){if(Bt.type===0)mt.appendChild(Ge.createTextNode(Bt.value));else if(Bt.type===22){var zt=Ge.createElement("img");zt.src=Bt.value,zt.style.opacity="1",mt.appendChild(zt)}else if(Bt.type===18){if(Bt.name==="attr"){var br=Bt.values.filter(Gr);br.length&&mt.appendChild(Ge.createTextNode(T.getAttribute(br[0].value)||""))}else if(Bt.name==="counter"){var hr=Bt.values.filter(Bn),pr=hr[0],la=hr[1];if(pr&&Gr(pr)){var Pr=we.counters.getCounterValue(pr.value),Ir=la&&Gr(la)?Tl.parse(we.context,la.value):3;mt.appendChild(Ge.createTextNode(dA(Pr,Ir,!1)))}}else if(Bt.name==="counters"){var ya=Bt.values.filter(Bn),pr=ya[0],oa=ya[1],la=ya[2];if(pr&&Gr(pr)){var Yr=we.counters.getCounterValues(pr.value),Nr=la&&Gr(la)?Tl.parse(we.context,la.value):3,Ia=oa&&oa.type===0?oa.value:"",ka=Yr.map(function(Hi){return dA(Hi,Nr,!1)}).join(Ia);mt.appendChild(Ge.createTextNode(ka))}}}else if(Bt.type===20)switch(Bt.value){case"open-quote":mt.appendChild(Ge.createTextNode(qt(Ye.quotes,we.quoteDepth++,!0)));break;case"close-quote":mt.appendChild(Ge.createTextNode(qt(Ye.quotes,--we.quoteDepth,!1)));break;default:mt.appendChild(Ge.createTextNode(Bt.value))}}),mt.className=Mp+" "+uA;var bt=ne===Ch.BEFORE?" "+Mp:" "+uA;return iA(L)?L.className.baseValue+=bt:L.className+=bt,mt}}},P.destroy=function(T){return T.parentNode?(T.parentNode.removeChild(T),!0):!1},P}(),Ch;(function(P){P[P.BEFORE=0]="BEFORE",P[P.AFTER=1]="AFTER"})(Ch||(Ch={}));var Xd=function(P,T){var L=P.createElement("iframe");return L.className="html2canvas-container",L.style.visibility="hidden",L.style.position="fixed",L.style.left="-10000px",L.style.top="0px",L.style.border="0",L.width=T.width.toString(),L.height=T.height.toString(),L.scrolling="no",L.setAttribute(Ix,"true"),P.body.appendChild(L),L},kx=function(P){return new Promise(function(T){if(P.complete){T();return}if(!P.src){T();return}P.onload=T,P.onerror=T})},Z4=function(P){return Promise.all([].slice.call(P.images,0).map(kx))},Fv=function(P){return new Promise(function(T,L){var D=P.contentWindow;if(!D)return L("No window assigned for iframe");var ne=D.document;D.onload=P.onload=function(){D.onload=P.onload=null;var we=setInterval(function(){ne.body.childNodes.length>0&&ne.readyState==="complete"&&(clearInterval(we),T(P))},50)}})},Jd=["all","d","content"],Dp=function(P,T){for(var L=P.length-1;L>=0;L--){var D=P.item(L);Jd.indexOf(D)===-1&&T.style.setProperty(D,P.getPropertyValue(D))}return T},Lp=function(P){var T="";return P&&(T+="<!DOCTYPE ",P.name&&(T+=P.name),P.internalSubset&&(T+=P.internalSubset),P.publicId&&(T+='"'+P.publicId+'"'),P.systemId&&(T+='"'+P.systemId+'"'),T+=">"),T},a0=function(P,T,L){P&&P.defaultView&&(T!==P.defaultView.pageXOffset||L!==P.defaultView.pageYOffset)&&P.defaultView.scrollTo(T,L)},en=function(P){var T=P[0],L=P[1],D=P[2];T.scrollLeft=L,T.scrollTop=D},ej=":before",tj=":after",Mp="___html2canvas___pseudoelement_before",uA="___html2canvas___pseudoelement_after",Zd=`{
    content: "" !important;
    display: none !important;
}`,Iv=function(P){kv(P,"."+Mp+ej+Zd+`
         .`+uA+tj+Zd)},kv=function(P,T){var L=P.ownerDocument;if(L){var D=L.createElement("style");D.textContent=T,P.appendChild(D)}},Bh=function(){function P(){}return P.getOrigin=function(T){var L=P._link;return L?(L.href=T,L.href=L.href,L.protocol+L.hostname+L.port):"about:blank"},P.isSameOrigin=function(T){return P.getOrigin(T)===P._origin},P.setContext=function(T){P._link=T.document.createElement("a"),P._origin=P.getOrigin(T.location.href)},P._origin="about:blank",P}(),Jc=function(){function P(T,L){this.context=T,this._options=L,this._cache={}}return P.prototype.addImage=function(T){var L=Promise.resolve();return this.has(T)||(Rp(T)||Px(T))&&(this._cache[T]=this.loadImage(T)).catch(function(){}),L},P.prototype.match=function(T){return this._cache[T]},P.prototype.loadImage=function(T){return o(this,void 0,void 0,function(){var L,D,ne,we,Oe=this;return l(this,function(Ge){switch(Ge.label){case 0:return L=Bh.isSameOrigin(T),D=!s0(T)&&this._options.useCORS===!0&&wn.SUPPORT_CORS_IMAGES&&!L,ne=!s0(T)&&!L&&!Rp(T)&&typeof this._options.proxy=="string"&&wn.SUPPORT_CORS_XHR&&!D,!L&&this._options.allowTaint===!1&&!s0(T)&&!Rp(T)&&!ne&&!D?[2]:(we=T,ne?[4,this.proxy(we)]:[3,2]);case 1:we=Ge.sent(),Ge.label=2;case 2:return this.context.logger.debug("Added image "+T.substring(0,256)),[4,new Promise(function(Ye,mt){var bt=new Image;bt.onload=function(){return Ye(bt)},bt.onerror=mt,(Up(we)||D)&&(bt.crossOrigin="anonymous"),bt.src=we,bt.complete===!0&&setTimeout(function(){return Ye(bt)},500),Oe._options.imageTimeout>0&&setTimeout(function(){return mt("Timed out ("+Oe._options.imageTimeout+"ms) loading image")},Oe._options.imageTimeout)})];case 3:return[2,Ge.sent()]}})})},P.prototype.has=function(T){return typeof this._cache[T]<"u"},P.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},P.prototype.proxy=function(T){var L=this,D=this._options.proxy;if(!D)throw new Error("No proxy defined");var ne=T.substring(0,256);return new Promise(function(we,Oe){var Ge=wn.SUPPORT_RESPONSE_TYPE?"blob":"text",Ye=new XMLHttpRequest;Ye.onload=function(){if(Ye.status===200)if(Ge==="text")we(Ye.response);else{var Bt=new FileReader;Bt.addEventListener("load",function(){return we(Bt.result)},!1),Bt.addEventListener("error",function(zt){return Oe(zt)},!1),Bt.readAsDataURL(Ye.response)}else Oe("Failed to proxy resource "+ne+" with status code "+Ye.status)},Ye.onerror=Oe;var mt=D.indexOf("?")>-1?"&":"?";if(Ye.open("GET",""+D+mt+"url="+encodeURIComponent(T)+"&responseType="+Ge),Ge!=="text"&&Ye instanceof XMLHttpRequest&&(Ye.responseType=Ge),L._options.imageTimeout){var bt=L._options.imageTimeout;Ye.timeout=bt,Ye.ontimeout=function(){return Oe("Timed out ("+bt+"ms) proxying "+ne)}}Ye.send()})},P}(),_v=/^data:image\/svg\+xml/i,_x=/^data:image\/.*;base64,/i,Pv=/^data:image\/.*/i,Px=function(P){return wn.SUPPORT_SVG_DRAWING||!eu(P)},s0=function(P){return Pv.test(P)},Up=function(P){return _x.test(P)},Rp=function(P){return P.substr(0,4)==="blob"},eu=function(P){return P.substr(-3).toLowerCase()==="svg"||_v.test(P)},Ar=function(){function P(T,L){this.type=0,this.x=T,this.y=L}return P.prototype.add=function(T,L){return new P(this.x+T,this.y+L)},P}(),Zu=function(P,T,L){return new Ar(P.x+(T.x-P.x)*L,P.y+(T.y-P.y)*L)},n0=function(){function P(T,L,D,ne){this.type=1,this.start=T,this.startControl=L,this.endControl=D,this.end=ne}return P.prototype.subdivide=function(T,L){var D=Zu(this.start,this.startControl,T),ne=Zu(this.startControl,this.endControl,T),we=Zu(this.endControl,this.end,T),Oe=Zu(D,ne,T),Ge=Zu(ne,we,T),Ye=Zu(Oe,Ge,T);return L?new P(this.start,D,Oe,Ye):new P(Ye,Ge,we,this.end)},P.prototype.add=function(T,L){return new P(this.start.add(T,L),this.startControl.add(T,L),this.endControl.add(T,L),this.end.add(T,L))},P.prototype.reverse=function(){return new P(this.end,this.endControl,this.startControl,this.start)},P}(),as=function(P){return P.type===1},rj=function(){function P(T){var L=T.styles,D=T.bounds,ne=Is(L.borderTopLeftRadius,D.width,D.height),we=ne[0],Oe=ne[1],Ge=Is(L.borderTopRightRadius,D.width,D.height),Ye=Ge[0],mt=Ge[1],bt=Is(L.borderBottomRightRadius,D.width,D.height),Bt=bt[0],zt=bt[1],br=Is(L.borderBottomLeftRadius,D.width,D.height),hr=br[0],pr=br[1],la=[];la.push((we+Ye)/D.width),la.push((hr+Bt)/D.width),la.push((Oe+pr)/D.height),la.push((mt+zt)/D.height);var Pr=Math.max.apply(Math,la);Pr>1&&(we/=Pr,Oe/=Pr,Ye/=Pr,mt/=Pr,Bt/=Pr,zt/=Pr,hr/=Pr,pr/=Pr);var Ir=D.width-Ye,ya=D.height-zt,oa=D.width-Bt,Yr=D.height-pr,Nr=L.borderTopWidth,Ia=L.borderRightWidth,ka=L.borderBottomWidth,ra=L.borderLeftWidth,un=Fa(L.paddingTop,T.bounds.width),Hi=Fa(L.paddingRight,T.bounds.width),ol=Fa(L.paddingBottom,T.bounds.width),os=Fa(L.paddingLeft,T.bounds.width);this.topLeftBorderDoubleOuterBox=we>0||Oe>0?Os(D.left+ra/3,D.top+Nr/3,we-ra/3,Oe-Nr/3,za.TOP_LEFT):new Ar(D.left+ra/3,D.top+Nr/3),this.topRightBorderDoubleOuterBox=we>0||Oe>0?Os(D.left+Ir,D.top+Nr/3,Ye-Ia/3,mt-Nr/3,za.TOP_RIGHT):new Ar(D.left+D.width-Ia/3,D.top+Nr/3),this.bottomRightBorderDoubleOuterBox=Bt>0||zt>0?Os(D.left+oa,D.top+ya,Bt-Ia/3,zt-ka/3,za.BOTTOM_RIGHT):new Ar(D.left+D.width-Ia/3,D.top+D.height-ka/3),this.bottomLeftBorderDoubleOuterBox=hr>0||pr>0?Os(D.left+ra/3,D.top+Yr,hr-ra/3,pr-ka/3,za.BOTTOM_LEFT):new Ar(D.left+ra/3,D.top+D.height-ka/3),this.topLeftBorderDoubleInnerBox=we>0||Oe>0?Os(D.left+ra*2/3,D.top+Nr*2/3,we-ra*2/3,Oe-Nr*2/3,za.TOP_LEFT):new Ar(D.left+ra*2/3,D.top+Nr*2/3),this.topRightBorderDoubleInnerBox=we>0||Oe>0?Os(D.left+Ir,D.top+Nr*2/3,Ye-Ia*2/3,mt-Nr*2/3,za.TOP_RIGHT):new Ar(D.left+D.width-Ia*2/3,D.top+Nr*2/3),this.bottomRightBorderDoubleInnerBox=Bt>0||zt>0?Os(D.left+oa,D.top+ya,Bt-Ia*2/3,zt-ka*2/3,za.BOTTOM_RIGHT):new Ar(D.left+D.width-Ia*2/3,D.top+D.height-ka*2/3),this.bottomLeftBorderDoubleInnerBox=hr>0||pr>0?Os(D.left+ra*2/3,D.top+Yr,hr-ra*2/3,pr-ka*2/3,za.BOTTOM_LEFT):new Ar(D.left+ra*2/3,D.top+D.height-ka*2/3),this.topLeftBorderStroke=we>0||Oe>0?Os(D.left+ra/2,D.top+Nr/2,we-ra/2,Oe-Nr/2,za.TOP_LEFT):new Ar(D.left+ra/2,D.top+Nr/2),this.topRightBorderStroke=we>0||Oe>0?Os(D.left+Ir,D.top+Nr/2,Ye-Ia/2,mt-Nr/2,za.TOP_RIGHT):new Ar(D.left+D.width-Ia/2,D.top+Nr/2),this.bottomRightBorderStroke=Bt>0||zt>0?Os(D.left+oa,D.top+ya,Bt-Ia/2,zt-ka/2,za.BOTTOM_RIGHT):new Ar(D.left+D.width-Ia/2,D.top+D.height-ka/2),this.bottomLeftBorderStroke=hr>0||pr>0?Os(D.left+ra/2,D.top+Yr,hr-ra/2,pr-ka/2,za.BOTTOM_LEFT):new Ar(D.left+ra/2,D.top+D.height-ka/2),this.topLeftBorderBox=we>0||Oe>0?Os(D.left,D.top,we,Oe,za.TOP_LEFT):new Ar(D.left,D.top),this.topRightBorderBox=Ye>0||mt>0?Os(D.left+Ir,D.top,Ye,mt,za.TOP_RIGHT):new Ar(D.left+D.width,D.top),this.bottomRightBorderBox=Bt>0||zt>0?Os(D.left+oa,D.top+ya,Bt,zt,za.BOTTOM_RIGHT):new Ar(D.left+D.width,D.top+D.height),this.bottomLeftBorderBox=hr>0||pr>0?Os(D.left,D.top+Yr,hr,pr,za.BOTTOM_LEFT):new Ar(D.left,D.top+D.height),this.topLeftPaddingBox=we>0||Oe>0?Os(D.left+ra,D.top+Nr,Math.max(0,we-ra),Math.max(0,Oe-Nr),za.TOP_LEFT):new Ar(D.left+ra,D.top+Nr),this.topRightPaddingBox=Ye>0||mt>0?Os(D.left+Math.min(Ir,D.width-Ia),D.top+Nr,Ir>D.width+Ia?0:Math.max(0,Ye-Ia),Math.max(0,mt-Nr),za.TOP_RIGHT):new Ar(D.left+D.width-Ia,D.top+Nr),this.bottomRightPaddingBox=Bt>0||zt>0?Os(D.left+Math.min(oa,D.width-ra),D.top+Math.min(ya,D.height-ka),Math.max(0,Bt-Ia),Math.max(0,zt-ka),za.BOTTOM_RIGHT):new Ar(D.left+D.width-Ia,D.top+D.height-ka),this.bottomLeftPaddingBox=hr>0||pr>0?Os(D.left+ra,D.top+Math.min(Yr,D.height-ka),Math.max(0,hr-ra),Math.max(0,pr-ka),za.BOTTOM_LEFT):new Ar(D.left+ra,D.top+D.height-ka),this.topLeftContentBox=we>0||Oe>0?Os(D.left+ra+os,D.top+Nr+un,Math.max(0,we-(ra+os)),Math.max(0,Oe-(Nr+un)),za.TOP_LEFT):new Ar(D.left+ra+os,D.top+Nr+un),this.topRightContentBox=Ye>0||mt>0?Os(D.left+Math.min(Ir,D.width+ra+os),D.top+Nr+un,Ir>D.width+ra+os?0:Ye-ra+os,mt-(Nr+un),za.TOP_RIGHT):new Ar(D.left+D.width-(Ia+Hi),D.top+Nr+un),this.bottomRightContentBox=Bt>0||zt>0?Os(D.left+Math.min(oa,D.width-(ra+os)),D.top+Math.min(ya,D.height+Nr+un),Math.max(0,Bt-(Ia+Hi)),zt-(ka+ol),za.BOTTOM_RIGHT):new Ar(D.left+D.width-(Ia+Hi),D.top+D.height-(ka+ol)),this.bottomLeftContentBox=hr>0||pr>0?Os(D.left+ra+os,D.top+Yr,Math.max(0,hr-(ra+os)),pr-(ka+ol),za.BOTTOM_LEFT):new Ar(D.left+ra+os,D.top+D.height-(ka+ol))}return P}(),za;(function(P){P[P.TOP_LEFT=0]="TOP_LEFT",P[P.TOP_RIGHT=1]="TOP_RIGHT",P[P.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",P[P.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(za||(za={}));var Os=function(P,T,L,D,ne){var we=4*((Math.sqrt(2)-1)/3),Oe=L*we,Ge=D*we,Ye=P+L,mt=T+D;switch(ne){case za.TOP_LEFT:return new n0(new Ar(P,mt),new Ar(P,mt-Ge),new Ar(Ye-Oe,T),new Ar(Ye,T));case za.TOP_RIGHT:return new n0(new Ar(P,T),new Ar(P+Oe,T),new Ar(Ye,mt-Ge),new Ar(Ye,mt));case za.BOTTOM_RIGHT:return new n0(new Ar(Ye,T),new Ar(Ye,T+Ge),new Ar(P+Oe,mt),new Ar(P,mt));case za.BOTTOM_LEFT:default:return new n0(new Ar(Ye,mt),new Ar(Ye-Oe,mt),new Ar(P,T+Ge),new Ar(P,T))}},fs=function(P){return[P.topLeftBorderBox,P.topRightBorderBox,P.bottomRightBorderBox,P.bottomLeftBorderBox]},Fo=function(P){return[P.topLeftContentBox,P.topRightContentBox,P.bottomRightContentBox,P.bottomLeftContentBox]},_l=function(P){return[P.topLeftPaddingBox,P.topRightPaddingBox,P.bottomRightPaddingBox,P.bottomLeftPaddingBox]},Ov=function(){function P(T,L,D){this.offsetX=T,this.offsetY=L,this.matrix=D,this.type=0,this.target=6}return P}(),i0=function(){function P(T,L){this.path=T,this.target=L,this.type=1}return P}(),aj=function(){function P(T){this.opacity=T,this.type=2,this.target=6}return P}(),Ox=function(P){return P.type===0},Io=function(P){return P.type===1},fc=function(P){return P.type===2},Dx=function(P,T){return P.length===T.length?P.some(function(L,D){return L===T[D]}):!1},nl=function(P,T,L,D,ne){return P.map(function(we,Oe){switch(Oe){case 0:return we.add(T,L);case 1:return we.add(T+D,L);case 2:return we.add(T+D,L+ne);case 3:return we.add(T,L+ne)}return we})},Lx=function(){function P(T){this.element=T,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return P}(),tu=function(){function P(T,L){if(this.container=T,this.parent=L,this.effects=[],this.curves=new rj(this.container),this.container.styles.opacity<1&&this.effects.push(new aj(this.container.styles.opacity)),this.container.styles.transform!==null){var D=this.container.bounds.left+this.container.styles.transformOrigin[0].number,ne=this.container.bounds.top+this.container.styles.transformOrigin[1].number,we=this.container.styles.transform;this.effects.push(new Ov(D,ne,we))}if(this.container.styles.overflowX!==0){var Oe=fs(this.curves),Ge=_l(this.curves);Dx(Oe,Ge)?this.effects.push(new i0(Oe,6)):(this.effects.push(new i0(Oe,2)),this.effects.push(new i0(Ge,4)))}}return P.prototype.getEffects=function(T){for(var L=[2,3].indexOf(this.container.styles.position)===-1,D=this.parent,ne=this.effects.slice(0);D;){var we=D.effects.filter(function(Ye){return!Io(Ye)});if(L||D.container.styles.position!==0||!D.parent){if(ne.unshift.apply(ne,we),L=[2,3].indexOf(D.container.styles.position)===-1,D.container.styles.overflowX!==0){var Oe=fs(D.curves),Ge=_l(D.curves);Dx(Oe,Ge)||ne.unshift(new i0(Ge,6))}}else ne.unshift.apply(ne,we);D=D.parent}return ne.filter(function(Ye){return Qt(Ye.target,T)})},P}(),ru=function(P,T,L,D){P.container.elements.forEach(function(ne){var we=Qt(ne.flags,4),Oe=Qt(ne.flags,2),Ge=new tu(ne,P);Qt(ne.styles.display,2048)&&D.push(Ge);var Ye=Qt(ne.flags,8)?[]:D;if(we||Oe){var mt=we||ne.styles.isPositioned()?L:T,bt=new Lx(Ge);if(ne.styles.isPositioned()||ne.styles.opacity<1||ne.styles.isTransformed()){var Bt=ne.styles.zIndex.order;if(Bt<0){var zt=0;mt.negativeZIndex.some(function(hr,pr){return Bt>hr.element.container.styles.zIndex.order?(zt=pr,!1):zt>0}),mt.negativeZIndex.splice(zt,0,bt)}else if(Bt>0){var br=0;mt.positiveZIndex.some(function(hr,pr){return Bt>=hr.element.container.styles.zIndex.order?(br=pr+1,!1):br>0}),mt.positiveZIndex.splice(br,0,bt)}else mt.zeroOrAutoZIndexOrTransformedOrOpacity.push(bt)}else ne.styles.isFloating()?mt.nonPositionedFloats.push(bt):mt.nonPositionedInlineLevel.push(bt);ru(Ge,bt,we?bt:L,Ye)}else ne.styles.isInlineLevel()?T.inlineLevel.push(Ge):T.nonInlineLevel.push(Ge),ru(Ge,T,L,Ye);Qt(ne.flags,8)&&au(ne,Ye)})},au=function(P,T){for(var L=P instanceof Tp?P.start:1,D=P instanceof Tp?P.reversed:!1,ne=0;ne<T.length;ne++){var we=T[ne];we.container instanceof qm&&typeof we.container.value=="number"&&we.container.value!==0&&(L=we.container.value),we.listValue=dA(L,we.container.styles.listStyleType,!0),L+=D?-1:1}},Mx=function(P){var T=new tu(P,null),L=new Lx(T),D=[];return ru(T,L,L,D),au(T.container,D),L},Qp=function(P,T){switch(T){case 0:return Qi(P.topLeftBorderBox,P.topLeftPaddingBox,P.topRightBorderBox,P.topRightPaddingBox);case 1:return Qi(P.topRightBorderBox,P.topRightPaddingBox,P.bottomRightBorderBox,P.bottomRightPaddingBox);case 2:return Qi(P.bottomRightBorderBox,P.bottomRightPaddingBox,P.bottomLeftBorderBox,P.bottomLeftPaddingBox);case 3:default:return Qi(P.bottomLeftBorderBox,P.bottomLeftPaddingBox,P.topLeftBorderBox,P.topLeftPaddingBox)}},Zc=function(P,T){switch(T){case 0:return Qi(P.topLeftBorderBox,P.topLeftBorderDoubleOuterBox,P.topRightBorderBox,P.topRightBorderDoubleOuterBox);case 1:return Qi(P.topRightBorderBox,P.topRightBorderDoubleOuterBox,P.bottomRightBorderBox,P.bottomRightBorderDoubleOuterBox);case 2:return Qi(P.bottomRightBorderBox,P.bottomRightBorderDoubleOuterBox,P.bottomLeftBorderBox,P.bottomLeftBorderDoubleOuterBox);case 3:default:return Qi(P.bottomLeftBorderBox,P.bottomLeftBorderDoubleOuterBox,P.topLeftBorderBox,P.topLeftBorderDoubleOuterBox)}},Dv=function(P,T){switch(T){case 0:return Qi(P.topLeftBorderDoubleInnerBox,P.topLeftPaddingBox,P.topRightBorderDoubleInnerBox,P.topRightPaddingBox);case 1:return Qi(P.topRightBorderDoubleInnerBox,P.topRightPaddingBox,P.bottomRightBorderDoubleInnerBox,P.bottomRightPaddingBox);case 2:return Qi(P.bottomRightBorderDoubleInnerBox,P.bottomRightPaddingBox,P.bottomLeftBorderDoubleInnerBox,P.bottomLeftPaddingBox);case 3:default:return Qi(P.bottomLeftBorderDoubleInnerBox,P.bottomLeftPaddingBox,P.topLeftBorderDoubleInnerBox,P.topLeftPaddingBox)}},Eh=function(P,T){switch(T){case 0:return ef(P.topLeftBorderStroke,P.topRightBorderStroke);case 1:return ef(P.topRightBorderStroke,P.bottomRightBorderStroke);case 2:return ef(P.bottomRightBorderStroke,P.bottomLeftBorderStroke);case 3:default:return ef(P.bottomLeftBorderStroke,P.topLeftBorderStroke)}},ef=function(P,T){var L=[];return as(P)?L.push(P.subdivide(.5,!1)):L.push(P),as(T)?L.push(T.subdivide(.5,!0)):L.push(T),L},Qi=function(P,T,L,D){var ne=[];return as(P)?ne.push(P.subdivide(.5,!1)):ne.push(P),as(L)?ne.push(L.subdivide(.5,!0)):ne.push(L),as(D)?ne.push(D.subdivide(.5,!0).reverse()):ne.push(D),as(T)?ne.push(T.subdivide(.5,!1).reverse()):ne.push(T),ne},fA=function(P){var T=P.bounds,L=P.styles;return T.add(L.borderLeftWidth,L.borderTopWidth,-(L.borderRightWidth+L.borderLeftWidth),-(L.borderTopWidth+L.borderBottomWidth))},o0=function(P){var T=P.styles,L=P.bounds,D=Fa(T.paddingLeft,L.width),ne=Fa(T.paddingRight,L.width),we=Fa(T.paddingTop,L.width),Oe=Fa(T.paddingBottom,L.width);return L.add(D+T.borderLeftWidth,we+T.borderTopWidth,-(T.borderRightWidth+T.borderLeftWidth+D+ne),-(T.borderTopWidth+T.borderBottomWidth+we+Oe))},Lv=function(P,T){return P===0?T.bounds:P===2?o0(T):fA(T)},l0=function(P,T){return P===0?T.bounds:P===2?o0(T):fA(T)},Hp=function(P,T,L){var D=Lv(Th(P.styles.backgroundOrigin,T),P),ne=l0(Th(P.styles.backgroundClip,T),P),we=sj(Th(P.styles.backgroundSize,T),L,D),Oe=we[0],Ge=we[1],Ye=Is(Th(P.styles.backgroundPosition,T),D.width-Oe,D.height-Ge),mt=ss(Th(P.styles.backgroundRepeat,T),Ye,we,D,ne),bt=Math.round(D.left+Ye[0]),Bt=Math.round(D.top+Ye[1]);return[mt,bt,Bt,Oe,Ge]},su=function(P){return Gr(P)&&P.value===pi.AUTO},c0=function(P){return typeof P=="number"},sj=function(P,T,L){var D=T[0],ne=T[1],we=T[2],Oe=P[0],Ge=P[1];if(!Oe)return[0,0];if(Ga(Oe)&&Ge&&Ga(Ge))return[Fa(Oe,L.width),Fa(Ge,L.height)];var Ye=c0(we);if(Gr(Oe)&&(Oe.value===pi.CONTAIN||Oe.value===pi.COVER)){if(c0(we)){var mt=L.width/L.height;return mt<we!=(Oe.value===pi.COVER)?[L.width,L.width/we]:[L.height*we,L.height]}return[L.width,L.height]}var bt=c0(D),Bt=c0(ne),zt=bt||Bt;if(su(Oe)&&(!Ge||su(Ge))){if(bt&&Bt)return[D,ne];if(!Ye&&!zt)return[L.width,L.height];if(zt&&Ye){var br=bt?D:ne*we,hr=Bt?ne:D/we;return[br,hr]}var pr=bt?D:L.width,la=Bt?ne:L.height;return[pr,la]}if(Ye){var Pr=0,Ir=0;return Ga(Oe)?Pr=Fa(Oe,L.width):Ga(Ge)&&(Ir=Fa(Ge,L.height)),su(Oe)?Pr=Ir*we:(!Ge||su(Ge))&&(Ir=Pr/we),[Pr,Ir]}var ya=null,oa=null;if(Ga(Oe)?ya=Fa(Oe,L.width):Ge&&Ga(Ge)&&(oa=Fa(Ge,L.height)),ya!==null&&(!Ge||su(Ge))&&(oa=bt&&Bt?ya/D*ne:L.height),oa!==null&&su(Oe)&&(ya=bt&&Bt?oa/ne*D:L.width),ya!==null&&oa!==null)return[ya,oa];throw new Error("Unable to calculate background-size for element")},Th=function(P,T){var L=P[T];return typeof L>"u"?P[0]:L},ss=function(P,T,L,D,ne){var we=T[0],Oe=T[1],Ge=L[0],Ye=L[1];switch(P){case 2:return[new Ar(Math.round(D.left),Math.round(D.top+Oe)),new Ar(Math.round(D.left+D.width),Math.round(D.top+Oe)),new Ar(Math.round(D.left+D.width),Math.round(Ye+D.top+Oe)),new Ar(Math.round(D.left),Math.round(Ye+D.top+Oe))];case 3:return[new Ar(Math.round(D.left+we),Math.round(D.top)),new Ar(Math.round(D.left+we+Ge),Math.round(D.top)),new Ar(Math.round(D.left+we+Ge),Math.round(D.height+D.top)),new Ar(Math.round(D.left+we),Math.round(D.height+D.top))];case 1:return[new Ar(Math.round(D.left+we),Math.round(D.top+Oe)),new Ar(Math.round(D.left+we+Ge),Math.round(D.top+Oe)),new Ar(Math.round(D.left+we+Ge),Math.round(D.top+Oe+Ye)),new Ar(Math.round(D.left+we),Math.round(D.top+Oe+Ye))];default:return[new Ar(Math.round(ne.left),Math.round(ne.top)),new Ar(Math.round(ne.left+ne.width),Math.round(ne.top)),new Ar(Math.round(ne.left+ne.width),Math.round(ne.height+ne.top)),new Ar(Math.round(ne.left),Math.round(ne.height+ne.top))]}},Ns="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ja="Hidden Text",La=function(){function P(T){this._data={},this._document=T}return P.prototype.parseMetrics=function(T,L){var D=this._document.createElement("div"),ne=this._document.createElement("img"),we=this._document.createElement("span"),Oe=this._document.body;D.style.visibility="hidden",D.style.fontFamily=T,D.style.fontSize=L,D.style.margin="0",D.style.padding="0",D.style.whiteSpace="nowrap",Oe.appendChild(D),ne.src=Ns,ne.width=1,ne.height=1,ne.style.margin="0",ne.style.padding="0",ne.style.verticalAlign="baseline",we.style.fontFamily=T,we.style.fontSize=L,we.style.margin="0",we.style.padding="0",we.appendChild(this._document.createTextNode(ja)),D.appendChild(we),D.appendChild(ne);var Ge=ne.offsetTop-we.offsetTop+2;D.removeChild(we),D.appendChild(this._document.createTextNode(ja)),D.style.lineHeight="normal",ne.style.verticalAlign="super";var Ye=ne.offsetTop-D.offsetTop+2;return Oe.removeChild(D),{baseline:Ge,middle:Ye}},P.prototype.getMetrics=function(T,L){var D=T+" "+L;return typeof this._data[D]>"u"&&(this._data[D]=this.parseMetrics(T,L)),this._data[D]},P}(),qa=function(){function P(T,L){this.context=T,this.options=L}return P}(),il=1e4,tf=function(P){s(T,P);function T(L,D){var ne=P.call(this,L,D)||this;return ne._activeEffects=[],ne.canvas=D.canvas?D.canvas:document.createElement("canvas"),ne.ctx=ne.canvas.getContext("2d"),D.canvas||(ne.canvas.width=Math.floor(D.width*D.scale),ne.canvas.height=Math.floor(D.height*D.scale),ne.canvas.style.width=D.width+"px",ne.canvas.style.height=D.height+"px"),ne.fontMetrics=new La(document),ne.ctx.scale(ne.options.scale,ne.options.scale),ne.ctx.translate(-D.x,-D.y),ne.ctx.textBaseline="bottom",ne._activeEffects=[],ne.context.logger.debug("Canvas renderer initialized ("+D.width+"x"+D.height+") with scale "+D.scale),ne}return T.prototype.applyEffects=function(L){for(var D=this;this._activeEffects.length;)this.popEffect();L.forEach(function(ne){return D.applyEffect(ne)})},T.prototype.applyEffect=function(L){this.ctx.save(),fc(L)&&(this.ctx.globalAlpha=L.opacity),Ox(L)&&(this.ctx.translate(L.offsetX,L.offsetY),this.ctx.transform(L.matrix[0],L.matrix[1],L.matrix[2],L.matrix[3],L.matrix[4],L.matrix[5]),this.ctx.translate(-L.offsetX,-L.offsetY)),Io(L)&&(this.path(L.path),this.ctx.clip()),this._activeEffects.push(L)},T.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},T.prototype.renderStack=function(L){return o(this,void 0,void 0,function(){var D;return l(this,function(ne){switch(ne.label){case 0:return D=L.element.container.styles,D.isVisible()?[4,this.renderStackContent(L)]:[3,2];case 1:ne.sent(),ne.label=2;case 2:return[2]}})})},T.prototype.renderNode=function(L){return o(this,void 0,void 0,function(){return l(this,function(D){switch(D.label){case 0:if(Qt(L.container.flags,16))debugger;return L.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(L)]:[3,3];case 1:return D.sent(),[4,this.renderNodeContent(L)];case 2:D.sent(),D.label=3;case 3:return[2]}})})},T.prototype.renderTextWithLetterSpacing=function(L,D,ne){var we=this;if(D===0)this.ctx.fillText(L.text,L.bounds.left,L.bounds.top+ne);else{var Oe=al(L.text);Oe.reduce(function(Ge,Ye){return we.ctx.fillText(Ye,Ge,L.bounds.top+ne),Ge+we.ctx.measureText(Ye).width},L.bounds.left)}},T.prototype.createFontStyle=function(L){var D=L.fontVariant.filter(function(Oe){return Oe==="normal"||Oe==="small-caps"}).join(""),ne=rf(L.fontFamily).join(", "),we=Va(L.fontSize)?""+L.fontSize.number+L.fontSize.unit:L.fontSize.number+"px";return[[L.fontStyle,D,L.fontWeight,we,ne].join(" "),ne,we]},T.prototype.renderTextNode=function(L,D){return o(this,void 0,void 0,function(){var ne,we,Oe,Ge,Ye,mt,bt,Bt,zt=this;return l(this,function(br){return ne=this.createFontStyle(D),we=ne[0],Oe=ne[1],Ge=ne[2],this.ctx.font=we,this.ctx.direction=D.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",Ye=this.fontMetrics.getMetrics(Oe,Ge),mt=Ye.baseline,bt=Ye.middle,Bt=D.paintOrder,L.textBounds.forEach(function(hr){Bt.forEach(function(pr){switch(pr){case 0:zt.ctx.fillStyle=Qs(D.color),zt.renderTextWithLetterSpacing(hr,D.letterSpacing,mt);var la=D.textShadow;la.length&&hr.text.trim().length&&(la.slice(0).reverse().forEach(function(Pr){zt.ctx.shadowColor=Qs(Pr.color),zt.ctx.shadowOffsetX=Pr.offsetX.number*zt.options.scale,zt.ctx.shadowOffsetY=Pr.offsetY.number*zt.options.scale,zt.ctx.shadowBlur=Pr.blur.number,zt.renderTextWithLetterSpacing(hr,D.letterSpacing,mt)}),zt.ctx.shadowColor="",zt.ctx.shadowOffsetX=0,zt.ctx.shadowOffsetY=0,zt.ctx.shadowBlur=0),D.textDecorationLine.length&&(zt.ctx.fillStyle=Qs(D.textDecorationColor||D.color),D.textDecorationLine.forEach(function(Pr){switch(Pr){case 1:zt.ctx.fillRect(hr.bounds.left,Math.round(hr.bounds.top+mt),hr.bounds.width,1);break;case 2:zt.ctx.fillRect(hr.bounds.left,Math.round(hr.bounds.top),hr.bounds.width,1);break;case 3:zt.ctx.fillRect(hr.bounds.left,Math.ceil(hr.bounds.top+bt),hr.bounds.width,1);break}}));break;case 1:D.webkitTextStrokeWidth&&hr.text.trim().length&&(zt.ctx.strokeStyle=Qs(D.webkitTextStrokeColor),zt.ctx.lineWidth=D.webkitTextStrokeWidth,zt.ctx.lineJoin=window.chrome?"miter":"round",zt.ctx.strokeText(hr.text,hr.bounds.left,hr.bounds.top+mt)),zt.ctx.strokeStyle="",zt.ctx.lineWidth=0,zt.ctx.lineJoin="miter";break}})}),[2]})})},T.prototype.renderReplacedElement=function(L,D,ne){if(ne&&L.intrinsicWidth>0&&L.intrinsicHeight>0){var we=o0(L),Oe=_l(D);this.path(Oe),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(ne,0,0,L.intrinsicWidth,L.intrinsicHeight,we.left,we.top,we.width,we.height),this.ctx.restore()}},T.prototype.renderNodeContent=function(L){return o(this,void 0,void 0,function(){var D,ne,we,Oe,Ge,Ye,Ir,Ir,mt,bt,Bt,zt,oa,br,hr,Yr,pr,la,Pr,Ir,ya,oa,Yr;return l(this,function(Nr){switch(Nr.label){case 0:this.applyEffects(L.getEffects(4)),D=L.container,ne=L.curves,we=D.styles,Oe=0,Ge=D.textNodes,Nr.label=1;case 1:return Oe<Ge.length?(Ye=Ge[Oe],[4,this.renderTextNode(Ye,we)]):[3,4];case 2:Nr.sent(),Nr.label=3;case 3:return Oe++,[3,1];case 4:if(!(D instanceof xx))return[3,8];Nr.label=5;case 5:return Nr.trys.push([5,7,,8]),[4,this.context.cache.match(D.src)];case 6:return Ir=Nr.sent(),this.renderReplacedElement(D,ne,Ir),[3,8];case 7:return Nr.sent(),this.context.logger.error("Error loading image "+D.src),[3,8];case 8:if(D instanceof wh&&this.renderReplacedElement(D,ne,D.canvas),!(D instanceof Ep))return[3,12];Nr.label=9;case 9:return Nr.trys.push([9,11,,12]),[4,this.context.cache.match(D.svg)];case 10:return Ir=Nr.sent(),this.renderReplacedElement(D,ne,Ir),[3,12];case 11:return Nr.sent(),this.context.logger.error("Error loading svg "+D.svg.substring(0,255)),[3,12];case 12:return D instanceof vx&&D.tree?(mt=new T(this.context,{scale:this.options.scale,backgroundColor:D.backgroundColor,x:0,y:0,width:D.width,height:D.height}),[4,mt.render(D.tree)]):[3,14];case 13:bt=Nr.sent(),D.width&&D.height&&this.ctx.drawImage(bt,0,0,D.width,D.height,D.bounds.left,D.bounds.top,D.bounds.width,D.bounds.height),Nr.label=14;case 14:if(D instanceof nA&&(Bt=Math.min(D.bounds.width,D.bounds.height),D.type===Ip?D.checked&&(this.ctx.save(),this.path([new Ar(D.bounds.left+Bt*.39363,D.bounds.top+Bt*.79),new Ar(D.bounds.left+Bt*.16,D.bounds.top+Bt*.5549),new Ar(D.bounds.left+Bt*.27347,D.bounds.top+Bt*.44071),new Ar(D.bounds.left+Bt*.39694,D.bounds.top+Bt*.5649),new Ar(D.bounds.left+Bt*.72983,D.bounds.top+Bt*.23),new Ar(D.bounds.left+Bt*.84,D.bounds.top+Bt*.34085),new Ar(D.bounds.left+Bt*.39363,D.bounds.top+Bt*.79)]),this.ctx.fillStyle=Qs(Xm),this.ctx.fill(),this.ctx.restore()):D.type===Kd&&D.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(D.bounds.left+Bt/2,D.bounds.top+Bt/2,Bt/4,0,Math.PI*2,!0),this.ctx.fillStyle=Qs(Xm),this.ctx.fill(),this.ctx.restore())),Fh(D)&&D.value.length){switch(zt=this.createFontStyle(we),oa=zt[0],br=zt[1],hr=this.fontMetrics.getMetrics(oa,br).baseline,this.ctx.font=oa,this.ctx.fillStyle=Qs(we.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=nu(D.styles.textAlign),Yr=o0(D),pr=0,D.styles.textAlign){case 1:pr+=Yr.width/2;break;case 2:pr+=Yr.width;break}la=Yr.add(pr,0,0,-Yr.height/2+1),this.ctx.save(),this.path([new Ar(Yr.left,Yr.top),new Ar(Yr.left+Yr.width,Yr.top),new Ar(Yr.left+Yr.width,Yr.top+Yr.height),new Ar(Yr.left,Yr.top+Yr.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new qu(D.value,la),we.letterSpacing,hr),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Qt(D.styles.display,2048))return[3,20];if(D.styles.listStyleImage===null)return[3,19];if(Pr=D.styles.listStyleImage,Pr.type!==0)return[3,18];Ir=void 0,ya=Pr.url,Nr.label=15;case 15:return Nr.trys.push([15,17,,18]),[4,this.context.cache.match(ya)];case 16:return Ir=Nr.sent(),this.ctx.drawImage(Ir,D.bounds.left-(Ir.width+10),D.bounds.top),[3,18];case 17:return Nr.sent(),this.context.logger.error("Error loading list-style-image "+ya),[3,18];case 18:return[3,20];case 19:L.listValue&&D.styles.listStyleType!==-1&&(oa=this.createFontStyle(we)[0],this.ctx.font=oa,this.ctx.fillStyle=Qs(we.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Yr=new d(D.bounds.left,D.bounds.top+Fa(D.styles.paddingTop,D.bounds.width),D.bounds.width,Jo(we.lineHeight,we.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new qu(L.listValue,Yr),we.letterSpacing,Jo(we.lineHeight,we.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Nr.label=20;case 20:return[2]}})})},T.prototype.renderStackContent=function(L){return o(this,void 0,void 0,function(){var D,ne,Pr,we,Oe,Pr,Ge,Ye,Pr,mt,bt,Pr,Bt,zt,Pr,br,hr,Pr,pr,la,Pr;return l(this,function(Ir){switch(Ir.label){case 0:if(Qt(L.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(L.element)];case 1:Ir.sent(),D=0,ne=L.negativeZIndex,Ir.label=2;case 2:return D<ne.length?(Pr=ne[D],[4,this.renderStack(Pr)]):[3,5];case 3:Ir.sent(),Ir.label=4;case 4:return D++,[3,2];case 5:return[4,this.renderNodeContent(L.element)];case 6:Ir.sent(),we=0,Oe=L.nonInlineLevel,Ir.label=7;case 7:return we<Oe.length?(Pr=Oe[we],[4,this.renderNode(Pr)]):[3,10];case 8:Ir.sent(),Ir.label=9;case 9:return we++,[3,7];case 10:Ge=0,Ye=L.nonPositionedFloats,Ir.label=11;case 11:return Ge<Ye.length?(Pr=Ye[Ge],[4,this.renderStack(Pr)]):[3,14];case 12:Ir.sent(),Ir.label=13;case 13:return Ge++,[3,11];case 14:mt=0,bt=L.nonPositionedInlineLevel,Ir.label=15;case 15:return mt<bt.length?(Pr=bt[mt],[4,this.renderStack(Pr)]):[3,18];case 16:Ir.sent(),Ir.label=17;case 17:return mt++,[3,15];case 18:Bt=0,zt=L.inlineLevel,Ir.label=19;case 19:return Bt<zt.length?(Pr=zt[Bt],[4,this.renderNode(Pr)]):[3,22];case 20:Ir.sent(),Ir.label=21;case 21:return Bt++,[3,19];case 22:br=0,hr=L.zeroOrAutoZIndexOrTransformedOrOpacity,Ir.label=23;case 23:return br<hr.length?(Pr=hr[br],[4,this.renderStack(Pr)]):[3,26];case 24:Ir.sent(),Ir.label=25;case 25:return br++,[3,23];case 26:pr=0,la=L.positiveZIndex,Ir.label=27;case 27:return pr<la.length?(Pr=la[pr],[4,this.renderStack(Pr)]):[3,30];case 28:Ir.sent(),Ir.label=29;case 29:return pr++,[3,27];case 30:return[2]}})})},T.prototype.mask=function(L){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(L.slice(0).reverse()),this.ctx.closePath()},T.prototype.path=function(L){this.ctx.beginPath(),this.formatPath(L),this.ctx.closePath()},T.prototype.formatPath=function(L){var D=this;L.forEach(function(ne,we){var Oe=as(ne)?ne.start:ne;we===0?D.ctx.moveTo(Oe.x,Oe.y):D.ctx.lineTo(Oe.x,Oe.y),as(ne)&&D.ctx.bezierCurveTo(ne.startControl.x,ne.startControl.y,ne.endControl.x,ne.endControl.y,ne.end.x,ne.end.y)})},T.prototype.renderRepeat=function(L,D,ne,we){this.path(L),this.ctx.fillStyle=D,this.ctx.translate(ne,we),this.ctx.fill(),this.ctx.translate(-ne,-we)},T.prototype.resizeImage=function(L,D,ne){var we;if(L.width===D&&L.height===ne)return L;var Oe=(we=this.canvas.ownerDocument)!==null&&we!==void 0?we:document,Ge=Oe.createElement("canvas");Ge.width=Math.max(1,D),Ge.height=Math.max(1,ne);var Ye=Ge.getContext("2d");return Ye.drawImage(L,0,0,L.width,L.height,0,0,D,ne),Ge},T.prototype.renderBackgroundImage=function(L){return o(this,void 0,void 0,function(){var D,ne,we,Oe,Ge,Ye;return l(this,function(mt){switch(mt.label){case 0:D=L.styles.backgroundImage.length-1,ne=function(bt){var Bt,zt,br,un,ao,Qn,os,yi,ka,hr,un,ao,Qn,os,yi,pr,la,Pr,Ir,ya,oa,Yr,Nr,Ia,ka,ra,un,Hi,ol,os,yi,iu,ao,Qn,ed,Ac,ou,af,sf,td,nf,Ol;return l(this,function(hA){switch(hA.label){case 0:if(bt.type!==0)return[3,5];Bt=void 0,zt=bt.url,hA.label=1;case 1:return hA.trys.push([1,3,,4]),[4,we.context.cache.match(zt)];case 2:return Bt=hA.sent(),[3,4];case 3:return hA.sent(),we.context.logger.error("Error loading background-image "+zt),[3,4];case 4:return Bt&&(br=Hp(L,D,[Bt.width,Bt.height,Bt.width/Bt.height]),un=br[0],ao=br[1],Qn=br[2],os=br[3],yi=br[4],ka=we.ctx.createPattern(we.resizeImage(Bt,os,yi),"repeat"),we.renderRepeat(un,ka,ao,Qn)),[3,6];case 5:No(bt)?(hr=Hp(L,D,[null,null,null]),un=hr[0],ao=hr[1],Qn=hr[2],os=hr[3],yi=hr[4],pr=Td(bt.angle,os,yi),la=pr[0],Pr=pr[1],Ir=pr[2],ya=pr[3],oa=pr[4],Yr=document.createElement("canvas"),Yr.width=os,Yr.height=yi,Nr=Yr.getContext("2d"),Ia=Nr.createLinearGradient(Pr,ya,Ir,oa),Xs(bt.stops,la).forEach(function(kh){return Ia.addColorStop(kh.stop,Qs(kh.color))}),Nr.fillStyle=Ia,Nr.fillRect(0,0,os,yi),os>0&&yi>0&&(ka=we.ctx.createPattern(Yr,"repeat"),we.renderRepeat(un,ka,ao,Qn))):Vc(bt)&&(ra=Hp(L,D,[null,null,null]),un=ra[0],Hi=ra[1],ol=ra[2],os=ra[3],yi=ra[4],iu=bt.position.length===0?[Uc]:bt.position,ao=Fa(iu[0],os),Qn=Fa(iu[iu.length-1],yi),ed=Hc(bt,ao,Qn,os,yi),Ac=ed[0],ou=ed[1],Ac>0&&ou>0&&(af=we.ctx.createRadialGradient(Hi+ao,ol+Qn,0,Hi+ao,ol+Qn,Ac),Xs(bt.stops,Ac*2).forEach(function(kh){return af.addColorStop(kh.stop,Qs(kh.color))}),we.path(un),we.ctx.fillStyle=af,Ac!==ou?(sf=L.bounds.left+.5*L.bounds.width,td=L.bounds.top+.5*L.bounds.height,nf=ou/Ac,Ol=1/nf,we.ctx.save(),we.ctx.translate(sf,td),we.ctx.transform(1,0,0,nf,0,0),we.ctx.translate(-sf,-td),we.ctx.fillRect(Hi,Ol*(ol-td)+td,os,yi*Ol),we.ctx.restore()):we.ctx.fill())),hA.label=6;case 6:return D--,[2]}})},we=this,Oe=0,Ge=L.styles.backgroundImage.slice(0).reverse(),mt.label=1;case 1:return Oe<Ge.length?(Ye=Ge[Oe],[5,ne(Ye)]):[3,4];case 2:mt.sent(),mt.label=3;case 3:return Oe++,[3,1];case 4:return[2]}})})},T.prototype.renderSolidBorder=function(L,D,ne){return o(this,void 0,void 0,function(){return l(this,function(we){return this.path(Qp(ne,D)),this.ctx.fillStyle=Qs(L),this.ctx.fill(),[2]})})},T.prototype.renderDoubleBorder=function(L,D,ne,we){return o(this,void 0,void 0,function(){var Oe,Ge;return l(this,function(Ye){switch(Ye.label){case 0:return D<3?[4,this.renderSolidBorder(L,ne,we)]:[3,2];case 1:return Ye.sent(),[2];case 2:return Oe=Zc(we,ne),this.path(Oe),this.ctx.fillStyle=Qs(L),this.ctx.fill(),Ge=Dv(we,ne),this.path(Ge),this.ctx.fill(),[2]}})})},T.prototype.renderNodeBackgroundAndBorders=function(L){return o(this,void 0,void 0,function(){var D,ne,we,Oe,Ge,Ye,mt,bt,Bt=this;return l(this,function(zt){switch(zt.label){case 0:return this.applyEffects(L.getEffects(2)),D=L.container.styles,ne=!hi(D.backgroundColor)||D.backgroundImage.length,we=[{style:D.borderTopStyle,color:D.borderTopColor,width:D.borderTopWidth},{style:D.borderRightStyle,color:D.borderRightColor,width:D.borderRightWidth},{style:D.borderBottomStyle,color:D.borderBottomColor,width:D.borderBottomWidth},{style:D.borderLeftStyle,color:D.borderLeftColor,width:D.borderLeftWidth}],Oe=Ux(Th(D.backgroundClip,0),L.curves),ne||D.boxShadow.length?(this.ctx.save(),this.path(Oe),this.ctx.clip(),hi(D.backgroundColor)||(this.ctx.fillStyle=Qs(D.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(L.container)]):[3,2];case 1:zt.sent(),this.ctx.restore(),D.boxShadow.slice(0).reverse().forEach(function(br){Bt.ctx.save();var hr=fs(L.curves),pr=br.inset?0:il,la=nl(hr,-pr+(br.inset?1:-1)*br.spread.number,(br.inset?1:-1)*br.spread.number,br.spread.number*(br.inset?-2:2),br.spread.number*(br.inset?-2:2));br.inset?(Bt.path(hr),Bt.ctx.clip(),Bt.mask(la)):(Bt.mask(hr),Bt.ctx.clip(),Bt.path(la)),Bt.ctx.shadowOffsetX=br.offsetX.number+pr,Bt.ctx.shadowOffsetY=br.offsetY.number,Bt.ctx.shadowColor=Qs(br.color),Bt.ctx.shadowBlur=br.blur.number,Bt.ctx.fillStyle=br.inset?Qs(br.color):"rgba(0,0,0,1)",Bt.ctx.fill(),Bt.ctx.restore()}),zt.label=2;case 2:Ge=0,Ye=0,mt=we,zt.label=3;case 3:return Ye<mt.length?(bt=mt[Ye],bt.style!==0&&!hi(bt.color)&&bt.width>0?bt.style!==2?[3,5]:[4,this.renderDashedDottedBorder(bt.color,bt.width,Ge,L.curves,2)]:[3,11]):[3,13];case 4:return zt.sent(),[3,11];case 5:return bt.style!==3?[3,7]:[4,this.renderDashedDottedBorder(bt.color,bt.width,Ge,L.curves,3)];case 6:return zt.sent(),[3,11];case 7:return bt.style!==4?[3,9]:[4,this.renderDoubleBorder(bt.color,bt.width,Ge,L.curves)];case 8:return zt.sent(),[3,11];case 9:return[4,this.renderSolidBorder(bt.color,Ge,L.curves)];case 10:zt.sent(),zt.label=11;case 11:Ge++,zt.label=12;case 12:return Ye++,[3,3];case 13:return[2]}})})},T.prototype.renderDashedDottedBorder=function(L,D,ne,we,Oe){return o(this,void 0,void 0,function(){var Ge,Ye,mt,bt,Bt,zt,br,hr,pr,la,Pr,Ir,ya,oa,Yr,Nr,Yr,Nr;return l(this,function(Ia){return this.ctx.save(),Ge=Eh(we,ne),Ye=Qp(we,ne),Oe===2&&(this.path(Ye),this.ctx.clip()),as(Ye[0])?(mt=Ye[0].start.x,bt=Ye[0].start.y):(mt=Ye[0].x,bt=Ye[0].y),as(Ye[1])?(Bt=Ye[1].end.x,zt=Ye[1].end.y):(Bt=Ye[1].x,zt=Ye[1].y),ne===0||ne===2?br=Math.abs(mt-Bt):br=Math.abs(bt-zt),this.ctx.beginPath(),Oe===3?this.formatPath(Ge):this.formatPath(Ye.slice(0,2)),hr=D<3?D*3:D*2,pr=D<3?D*2:D,Oe===3&&(hr=D,pr=D),la=!0,br<=hr*2?la=!1:br<=hr*2+pr?(Pr=br/(2*hr+pr),hr*=Pr,pr*=Pr):(Ir=Math.floor((br+pr)/(hr+pr)),ya=(br-Ir*hr)/(Ir-1),oa=(br-(Ir+1)*hr)/Ir,pr=oa<=0||Math.abs(pr-ya)<Math.abs(pr-oa)?ya:oa),la&&(Oe===3?this.ctx.setLineDash([0,hr+pr]):this.ctx.setLineDash([hr,pr])),Oe===3?(this.ctx.lineCap="round",this.ctx.lineWidth=D):this.ctx.lineWidth=D*2+1.1,this.ctx.strokeStyle=Qs(L),this.ctx.stroke(),this.ctx.setLineDash([]),Oe===2&&(as(Ye[0])&&(Yr=Ye[3],Nr=Ye[0],this.ctx.beginPath(),this.formatPath([new Ar(Yr.end.x,Yr.end.y),new Ar(Nr.start.x,Nr.start.y)]),this.ctx.stroke()),as(Ye[1])&&(Yr=Ye[1],Nr=Ye[2],this.ctx.beginPath(),this.formatPath([new Ar(Yr.end.x,Yr.end.y),new Ar(Nr.start.x,Nr.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},T.prototype.render=function(L){return o(this,void 0,void 0,function(){var D;return l(this,function(ne){switch(ne.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Qs(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),D=Mx(L),[4,this.renderStack(D)];case 1:return ne.sent(),this.applyEffects([]),[2,this.canvas]}})})},T}(qa),Fh=function(P){return P instanceof yx||P instanceof Jm?!0:P instanceof nA&&P.type!==Kd&&P.type!==Ip},Ux=function(P,T){switch(P){case 0:return fs(T);case 2:return Fo(T);case 1:default:return _l(T)}},nu=function(P){switch(P){case 1:return"center";case 2:return"right";case 0:default:return"left"}},dn=["-apple-system","system-ui"],rf=function(P){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?P.filter(function(T){return dn.indexOf(T)===-1}):P},AA=function(P){s(T,P);function T(L,D){var ne=P.call(this,L,D)||this;return ne.canvas=D.canvas?D.canvas:document.createElement("canvas"),ne.ctx=ne.canvas.getContext("2d"),ne.options=D,ne.canvas.width=Math.floor(D.width*D.scale),ne.canvas.height=Math.floor(D.height*D.scale),ne.canvas.style.width=D.width+"px",ne.canvas.style.height=D.height+"px",ne.ctx.scale(ne.options.scale,ne.options.scale),ne.ctx.translate(-D.x,-D.y),ne.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+D.width+"x"+D.height+" at "+D.x+","+D.y+") with scale "+D.scale),ne}return T.prototype.render=function(L){return o(this,void 0,void 0,function(){var D,ne;return l(this,function(we){switch(we.label){case 0:return D=rA(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,L),[4,Rx(D)];case 1:return ne=we.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Qs(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(ne,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},T}(qa),Rx=function(P){return new Promise(function(T,L){var D=new Image;D.onload=function(){T(D)},D.onerror=L,D.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(P))})},Pl=function(){function P(T){var L=T.id,D=T.enabled;this.id=L,this.enabled=D,this.start=Date.now()}return P.prototype.debug=function(){for(var T=[],L=0;L<arguments.length;L++)T[L]=arguments[L];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,c([this.id,this.getTime()+"ms"],T)):this.info.apply(this,T))},P.prototype.getTime=function(){return Date.now()-this.start},P.prototype.info=function(){for(var T=[],L=0;L<arguments.length;L++)T[L]=arguments[L];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,c([this.id,this.getTime()+"ms"],T))},P.prototype.warn=function(){for(var T=[],L=0;L<arguments.length;L++)T[L]=arguments[L];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,c([this.id,this.getTime()+"ms"],T)):this.info.apply(this,T))},P.prototype.error=function(){for(var T=[],L=0;L<arguments.length;L++)T[L]=arguments[L];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,c([this.id,this.getTime()+"ms"],T)):this.info.apply(this,T))},P.instances={},P}(),Ih=function(){function P(T,L){var D;this.windowBounds=L,this.instanceName="#"+P.instanceCount++,this.logger=new Pl({id:this.instanceName,enabled:T.logging}),this.cache=(D=T.cache)!==null&&D!==void 0?D:new Jc(this,T)}return P.instanceCount=1,P}(),d0=function(P,T){return T===void 0&&(T={}),ko(P,T)};typeof window<"u"&&Bh.setContext(window);var ko=function(P,T){return o(void 0,void 0,void 0,function(){var L,D,ne,we,Oe,Ge,Ye,mt,bt,Bt,zt,br,hr,pr,la,Pr,Ir,ya,oa,Yr,Ia,Nr,Ia,ka,ra,un,Hi,ol,os,yi,iu,ao,Qn,ed,Ac,ou,af,sf,td,nf;return l(this,function(Ol){switch(Ol.label){case 0:if(!P||typeof P!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(L=P.ownerDocument,!L)throw new Error("Element is not attached to a Document");if(D=L.defaultView,!D)throw new Error("Document is not attached to a Window");return ne={allowTaint:(ka=T.allowTaint)!==null&&ka!==void 0?ka:!1,imageTimeout:(ra=T.imageTimeout)!==null&&ra!==void 0?ra:15e3,proxy:T.proxy,useCORS:(un=T.useCORS)!==null&&un!==void 0?un:!1},we=i({logging:(Hi=T.logging)!==null&&Hi!==void 0?Hi:!0,cache:T.cache},ne),Oe={windowWidth:(ol=T.windowWidth)!==null&&ol!==void 0?ol:D.innerWidth,windowHeight:(os=T.windowHeight)!==null&&os!==void 0?os:D.innerHeight,scrollX:(yi=T.scrollX)!==null&&yi!==void 0?yi:D.pageXOffset,scrollY:(iu=T.scrollY)!==null&&iu!==void 0?iu:D.pageYOffset},Ge=new d(Oe.scrollX,Oe.scrollY,Oe.windowWidth,Oe.windowHeight),Ye=new Ih(we,Ge),mt=(ao=T.foreignObjectRendering)!==null&&ao!==void 0?ao:!1,bt={allowTaint:(Qn=T.allowTaint)!==null&&Qn!==void 0?Qn:!1,onclone:T.onclone,ignoreElements:T.ignoreElements,inlineImages:mt,copyStyles:mt},Ye.logger.debug("Starting document clone with size "+Ge.width+"x"+Ge.height+" scrolled to "+-Ge.left+","+-Ge.top),Bt=new Op(Ye,P,bt),zt=Bt.clonedReferenceElement,zt?[4,Bt.toIFrame(L,Ge)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return br=Ol.sent(),hr=Nh(zt)||Cv(zt)?u(zt.ownerDocument):f(Ye,zt),pr=hr.width,la=hr.height,Pr=hr.left,Ir=hr.top,ya=Qx(Ye,zt,T.backgroundColor),oa={canvas:T.canvas,backgroundColor:ya,scale:(Ac=(ed=T.scale)!==null&&ed!==void 0?ed:D.devicePixelRatio)!==null&&Ac!==void 0?Ac:1,x:((ou=T.x)!==null&&ou!==void 0?ou:0)+Pr,y:((af=T.y)!==null&&af!==void 0?af:0)+Ir,width:(sf=T.width)!==null&&sf!==void 0?sf:Math.ceil(pr),height:(td=T.height)!==null&&td!==void 0?td:Math.ceil(la)},mt?(Ye.logger.debug("Document cloned, using foreign object rendering"),Ia=new AA(Ye,oa),[4,Ia.render(zt)]):[3,3];case 2:return Yr=Ol.sent(),[3,5];case 3:return Ye.logger.debug("Document cloned, element located at "+Pr+","+Ir+" with size "+pr+"x"+la+" using computed rendering"),Ye.logger.debug("Starting DOM parsing"),Nr=dc(Ye,zt),ya===Nr.styles.backgroundColor&&(Nr.styles.backgroundColor=En.TRANSPARENT),Ye.logger.debug("Starting renderer for element at "+oa.x+","+oa.y+" with size "+oa.width+"x"+oa.height),Ia=new tf(Ye,oa),[4,Ia.render(Nr)];case 4:Yr=Ol.sent(),Ol.label=5;case 5:return(!((nf=T.removeContainer)!==null&&nf!==void 0)||nf)&&(Op.destroy(br)||Ye.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),Ye.logger.debug("Finished rendering"),[2,Yr]}})})},Qx=function(P,T,L){var D=T.ownerDocument,ne=D.documentElement?mi(P,getComputedStyle(D.documentElement).backgroundColor):En.TRANSPARENT,we=D.body?mi(P,getComputedStyle(D.body).backgroundColor):En.TRANSPARENT,Oe=typeof L=="string"?mi(P,L):L===null?En.TRANSPARENT:4294967295;return T===D.documentElement?hi(ne)?hi(we)?Oe:we:ne:Oe};return d0})}(Zb)),Zb.exports}/*!
 * html2pdf.js v0.10.3
 * Copyright (c) 2025 Erik Koopmans
 * Released under the MIT License.
 */var Bk;function Oae(){return Bk||(Bk=1,function(t,r){(function(s,i){t.exports=i(kae,Pae())})(self,function(a,s){return function(){var i={"./src/plugin/hyperlinks.js":function(d,f,u){u.r(f),u("./node_modules/core-js/modules/web.dom-collections.for-each.js"),u("./node_modules/core-js/modules/es.string.link.js");var m=u("./src/worker.js"),p=u("./src/utils.js"),g=[],v={toContainer:m.default.prototype.toContainer,toPdf:m.default.prototype.toPdf};m.default.prototype.toContainer=function(){return v.toContainer.call(this).then(function(){if(this.opt.enableLinks){var j=this.prop.container,N=j.querySelectorAll("a"),S=(0,p.unitConvert)(j.getBoundingClientRect(),this.prop.pageSize.k);g=[],Array.prototype.forEach.call(N,function(B){for(var I=B.getClientRects(),F=0;F<I.length;F++){var O=(0,p.unitConvert)(I[F],this.prop.pageSize.k);O.left-=S.left,O.top-=S.top;var k=Math.floor(O.top/this.prop.pageSize.inner.height)+1,V=this.opt.margin[0]+O.top%this.prop.pageSize.inner.height,Q=this.opt.margin[1]+O.left;g.push({page:k,top:V,left:Q,clientRect:O,link:B})}},this)}})},m.default.prototype.toPdf=function(){return v.toPdf.call(this).then(function(){if(this.opt.enableLinks){g.forEach(function(N){this.prop.pdf.setPage(N.page),this.prop.pdf.link(N.left,N.top,N.clientRect.width,N.clientRect.height,{url:N.link.href})},this);var j=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(j)}})}},"./src/plugin/jspdf-plugin.js":function(d,f,u){u.r(f),u("./node_modules/core-js/modules/es.symbol.js"),u("./node_modules/core-js/modules/es.symbol.description.js"),u("./node_modules/core-js/modules/es.object.to-string.js"),u("./node_modules/core-js/modules/es.symbol.iterator.js"),u("./node_modules/core-js/modules/es.array.iterator.js"),u("./node_modules/core-js/modules/es.string.iterator.js"),u("./node_modules/core-js/modules/web.dom-collections.iterator.js");var m=u("jspdf");function p(g){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(y){return typeof y}:p=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},p(g)}m.jsPDF.getPageSize=function(g,v,y){if(p(g)==="object"){var b=g;g=b.orientation,v=b.unit||v,y=b.format||y}v=v||"mm",y=y||"a4",g=(""+(g||"P")).toLowerCase();var j=(""+y).toLowerCase(),N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(v){case"pt":var S=1;break;case"mm":var S=72/25.4;break;case"cm":var S=72/2.54;break;case"in":var S=72;break;case"px":var S=72/96;break;case"pc":var S=12;break;case"em":var S=12;break;case"ex":var S=6;break;default:throw"Invalid unit: "+v}if(N.hasOwnProperty(j))var B=N[j][1]/S,I=N[j][0]/S;else try{var B=y[1],I=y[0]}catch{throw new Error("Invalid format: "+y)}if(g==="p"||g==="portrait"){if(g="p",I>B){var F=I;I=B,B=F}}else if(g==="l"||g==="landscape"){if(g="l",B>I){var F=I;I=B,B=F}}else throw"Invalid orientation: "+g;var O={width:I,height:B,unit:v,k:S};return O},f.default=m.jsPDF},"./src/plugin/pagebreaks.js":function(d,f,u){u.r(f),u("./node_modules/core-js/modules/es.array.concat.js"),u("./node_modules/core-js/modules/es.array.slice.js"),u("./node_modules/core-js/modules/es.array.join.js"),u("./node_modules/core-js/modules/web.dom-collections.for-each.js"),u("./node_modules/core-js/modules/es.object.keys.js");var m=u("./src/worker.js"),p=u("./src/utils.js"),g={toContainer:m.default.prototype.toContainer};m.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},m.default.prototype.toContainer=function(){return g.toContainer.call(this).then(function(){var b=this.prop.container,j=this.prop.pageSize.inner.px.height,N=[].concat(this.opt.pagebreak.mode),S={avoidAll:N.indexOf("avoid-all")!==-1,css:N.indexOf("css")!==-1,legacy:N.indexOf("legacy")!==-1},B={},I=this;["before","after","avoid"].forEach(function(k){var V=S.avoidAll&&k==="avoid";B[k]=V?[]:[].concat(I.opt.pagebreak[k]||[]),B[k].length>0&&(B[k]=Array.prototype.slice.call(b.querySelectorAll(B[k].join(", "))))});var F=b.querySelectorAll(".html2pdf__page-break");F=Array.prototype.slice.call(F);var O=b.querySelectorAll("*");Array.prototype.forEach.call(O,function(V){var Q={before:!1,after:S.legacy&&F.indexOf(V)!==-1,avoid:S.avoidAll};if(S.css){var H=window.getComputedStyle(V),M=["always","page","left","right"],K=["avoid","avoid-page"];Q={before:Q.before||M.indexOf(H.breakBefore||H.pageBreakBefore)!==-1,after:Q.after||M.indexOf(H.breakAfter||H.pageBreakAfter)!==-1,avoid:Q.avoid||K.indexOf(H.breakInside||H.pageBreakInside)!==-1}}Object.keys(Q).forEach(function(ue){Q[ue]=Q[ue]||B[ue].indexOf(V)!==-1});var q=V.getBoundingClientRect();if(Q.avoid&&!Q.before){var re=Math.floor(q.top/j),ee=Math.floor(q.bottom/j),le=Math.abs(q.bottom-q.top)/j;ee!==re&&le<=1&&(Q.before=!0)}if(Q.before){var Ae=(0,p.createElement)("div",{style:{display:"block",height:j-q.top%j+"px"}});V.parentNode.insertBefore(Ae,V)}if(Q.after){var Ae=(0,p.createElement)("div",{style:{display:"block",height:j-q.bottom%j+"px"}});V.parentNode.insertBefore(Ae,V.nextSibling)}})})}},"./src/utils.js":function(d,f,u){u.r(f),u.d(f,{objType:function(){return p},createElement:function(){return g},cloneNode:function(){return v},unitConvert:function(){return y},toPx:function(){return b}}),u("./node_modules/core-js/modules/es.number.constructor.js"),u("./node_modules/core-js/modules/es.symbol.js"),u("./node_modules/core-js/modules/es.symbol.description.js"),u("./node_modules/core-js/modules/es.object.to-string.js"),u("./node_modules/core-js/modules/es.symbol.iterator.js"),u("./node_modules/core-js/modules/es.array.iterator.js"),u("./node_modules/core-js/modules/es.string.iterator.js"),u("./node_modules/core-js/modules/web.dom-collections.iterator.js");function m(j){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m=function(S){return typeof S}:m=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},m(j)}var p=function(N){var S=m(N);return S==="undefined"?"undefined":S==="string"||N instanceof String?"string":S==="number"||N instanceof Number?"number":S==="function"||N instanceof Function?"function":N&&N.constructor===Array?"array":N&&N.nodeType===1?"element":S==="object"?"object":"unknown"},g=function(N,S){var B=document.createElement(N);if(S.className&&(B.className=S.className),S.innerHTML){B.innerHTML=S.innerHTML;for(var I=B.getElementsByTagName("script"),F=I.length;F-- >0;null)I[F].parentNode.removeChild(I[F])}for(var O in S.style)B.style[O]=S.style[O];return B},v=function j(N,S){for(var B=N.nodeType===3?document.createTextNode(N.nodeValue):N.cloneNode(!1),I=N.firstChild;I;I=I.nextSibling)(S===!0||I.nodeType!==1||I.nodeName!=="SCRIPT")&&B.appendChild(j(I,S));return N.nodeType===1&&(N.nodeName==="CANVAS"?(B.width=N.width,B.height=N.height,B.getContext("2d").drawImage(N,0,0)):(N.nodeName==="TEXTAREA"||N.nodeName==="SELECT")&&(B.value=N.value),B.addEventListener("load",function(){B.scrollTop=N.scrollTop,B.scrollLeft=N.scrollLeft},!0)),B},y=function(N,S){if(p(N)==="number")return N*72/96/S;var B={};for(var I in N)B[I]=N[I]*72/96/S;return B},b=function(N,S){return Math.floor(N*S/72*96)}},"./src/worker.js":function(d,f,u){u.r(f),u("./node_modules/core-js/modules/es.object.assign.js"),u("./node_modules/core-js/modules/es.array.map.js"),u("./node_modules/core-js/modules/es.object.keys.js"),u("./node_modules/core-js/modules/es.array.concat.js"),u("./node_modules/core-js/modules/es.object.to-string.js"),u("./node_modules/core-js/modules/es.regexp.to-string.js"),u("./node_modules/core-js/modules/es.function.name.js"),u("./node_modules/core-js/modules/web.dom-collections.for-each.js");var m=u("jspdf"),p=u("html2canvas"),g=u("./src/utils.js"),v=u("./node_modules/es6-promise/dist/es6-promise.js"),y=u.n(v),b=y().Promise,j=function N(S){var B=Object.assign(N.convert(b.resolve()),JSON.parse(JSON.stringify(N.template))),I=N.convert(b.resolve(),B);return I=I.setProgress(1,N,1,[N]),I=I.set(S),I};j.prototype=Object.create(b.prototype),j.prototype.constructor=j,j.convert=function(S,B){return S.__proto__=B||j.prototype,S},j.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},j.prototype.from=function(S,B){function I(F){switch((0,g.objType)(F)){case"string":return"string";case"element":return F.nodeName.toLowerCase&&F.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(B=B||I(S),B){case"string":return this.set({src:(0,g.createElement)("div",{innerHTML:S})});case"element":return this.set({src:S});case"canvas":return this.set({canvas:S});case"img":return this.set({img:S});default:return this.error("Unknown source type.")}})},j.prototype.to=function(S){switch(S){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},j.prototype.toContainer=function(){var S=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(S).then(function(){var I={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},F={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};I.opacity=0;var O=(0,g.cloneNode)(this.prop.src,this.opt.html2canvas.javascriptEnabled);this.prop.overlay=(0,g.createElement)("div",{className:"html2pdf__overlay",style:I}),this.prop.container=(0,g.createElement)("div",{className:"html2pdf__container",style:F}),this.prop.container.appendChild(O),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay)})},j.prototype.toCanvas=function(){var S=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(S).then(function(){var I=Object.assign({},this.opt.html2canvas);return delete I.onrendered,p(this.prop.container,I)}).then(function(I){var F=this.opt.html2canvas.onrendered||function(){};F(I),this.prop.canvas=I,document.body.removeChild(this.prop.overlay)})},j.prototype.toImg=function(){var S=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(S).then(function(){var I=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=I})},j.prototype.toPdf=function(){var S=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(S).then(function(){var I=this.prop.canvas,F=this.opt,O=I.height,k=Math.floor(I.width*this.prop.pageSize.inner.ratio),V=Math.ceil(O/k),Q=this.prop.pageSize.inner.height,H=document.createElement("canvas"),M=H.getContext("2d");H.width=I.width,H.height=k,this.prop.pdf=this.prop.pdf||new m.jsPDF(F.jsPDF);for(var K=0;K<V;K++){K===V-1&&O%k!==0&&(H.height=O%k,Q=H.height*this.prop.pageSize.inner.width/H.width);var q=H.width,re=H.height;M.fillStyle="white",M.fillRect(0,0,q,re),M.drawImage(I,0,K*k,q,re,0,0,q,re),K&&this.prop.pdf.addPage();var ee=H.toDataURL("image/"+F.image.type,F.image.quality);this.prop.pdf.addImage(ee,F.image.type,F.margin[1],F.margin[0],this.prop.pageSize.inner.width,Q)}})},j.prototype.output=function(S,B,I){return I=I||"pdf",I.toLowerCase()==="img"||I.toLowerCase()==="image"?this.outputImg(S,B):this.outputPdf(S,B)},j.prototype.outputPdf=function(S,B){var I=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(I).then(function(){return this.prop.pdf.output(S,B)})},j.prototype.outputImg=function(S,B){var I=[function(){return this.prop.img||this.toImg()}];return this.thenList(I).then(function(){switch(S){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+S+'" is not supported.'}})},j.prototype.save=function(S){var B=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(B).set(S?{filename:S}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},j.prototype.set=function(S){if((0,g.objType)(S)!=="object")return this;var B=Object.keys(S||{}).map(function(I){switch(I){case"margin":return this.setMargin.bind(this,S.margin);case"jsPDF":return function(){return this.opt.jsPDF=S.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,S.pageSize);default:return I in j.template.prop?function(){this.prop[I]=S[I]}:function(){this.opt[I]=S[I]}}},this);return this.then(function(){return this.thenList(B)})},j.prototype.get=function(S,B){return this.then(function(){var F=S in j.template.prop?this.prop[S]:this.opt[S];return B?B(F):F})},j.prototype.setMargin=function(S){return this.then(function(){switch((0,g.objType)(S)){case"number":S=[S,S,S,S];case"array":if(S.length===2&&(S=[S[0],S[1],S[0],S[1]]),S.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=S}).then(this.setPageSize)},j.prototype.setPageSize=function(S){return this.then(function(){S=S||m.jsPDF.getPageSize(this.opt.jsPDF),S.hasOwnProperty("inner")||(S.inner={width:S.width-this.opt.margin[1]-this.opt.margin[3],height:S.height-this.opt.margin[0]-this.opt.margin[2]},S.inner.px={width:(0,g.toPx)(S.inner.width,S.k),height:(0,g.toPx)(S.inner.height,S.k)},S.inner.ratio=S.inner.height/S.inner.width),this.prop.pageSize=S})},j.prototype.setProgress=function(S,B,I,F){return S!=null&&(this.progress.val=S),B!=null&&(this.progress.state=B),I!=null&&(this.progress.n=I),F!=null&&(this.progress.stack=F),this.progress.ratio=this.progress.val/this.progress.state,this},j.prototype.updateProgress=function(S,B,I,F){return this.setProgress(S?this.progress.val+S:null,B||null,I?this.progress.n+I:null,F?this.progress.stack.concat(F):null)},j.prototype.then=function(S,B){var I=this;return this.thenCore(S,B,function(O,k){return I.updateProgress(null,null,1,[O]),b.prototype.then.call(this,function(Q){return I.updateProgress(null,O),Q}).then(O,k).then(function(Q){return I.updateProgress(1),Q})})},j.prototype.thenCore=function(S,B,I){I=I||b.prototype.then;var F=this;S&&(S=S.bind(F)),B&&(B=B.bind(F));var O=b.toString().indexOf("[native code]")!==-1&&b.name==="Promise",k=O?F:j.convert(Object.assign({},F),b.prototype),V=I.call(k,S,B);return j.convert(V,F.__proto__)},j.prototype.thenExternal=function(S,B){return b.prototype.then.call(this,S,B)},j.prototype.thenList=function(S){var B=this;return S.forEach(function(F){B=B.thenCore(F)}),B},j.prototype.catch=function(N){N&&(N=N.bind(this));var S=b.prototype.catch.call(this,N);return j.convert(S,this)},j.prototype.catchExternal=function(S){return b.prototype.catch.call(this,S)},j.prototype.error=function(S){return this.then(function(){throw new Error(S)})},j.prototype.using=j.prototype.set,j.prototype.saveAs=j.prototype.save,j.prototype.export=j.prototype.output,j.prototype.run=j.prototype.then,f.default=j},"./node_modules/core-js/internals/a-function.js":function(d){d.exports=function(f){if(typeof f!="function")throw TypeError(String(f)+" is not a function");return f}},"./node_modules/core-js/internals/a-possible-prototype.js":function(d,f,u){var m=u("./node_modules/core-js/internals/is-object.js");d.exports=function(p){if(!m(p)&&p!==null)throw TypeError("Can't set "+String(p)+" as a prototype");return p}},"./node_modules/core-js/internals/add-to-unscopables.js":function(d,f,u){var m=u("./node_modules/core-js/internals/well-known-symbol.js"),p=u("./node_modules/core-js/internals/object-create.js"),g=u("./node_modules/core-js/internals/object-define-property.js"),v=m("unscopables"),y=Array.prototype;y[v]==null&&g.f(y,v,{configurable:!0,value:p(null)}),d.exports=function(b){y[v][b]=!0}},"./node_modules/core-js/internals/an-object.js":function(d,f,u){var m=u("./node_modules/core-js/internals/is-object.js");d.exports=function(p){if(!m(p))throw TypeError(String(p)+" is not an object");return p}},"./node_modules/core-js/internals/array-for-each.js":function(d,f,u){var m=u("./node_modules/core-js/internals/array-iteration.js").forEach,p=u("./node_modules/core-js/internals/array-method-is-strict.js"),g=p("forEach");d.exports=g?[].forEach:function(y){return m(this,y,arguments.length>1?arguments[1]:void 0)}},"./node_modules/core-js/internals/array-includes.js":function(d,f,u){var m=u("./node_modules/core-js/internals/to-indexed-object.js"),p=u("./node_modules/core-js/internals/to-length.js"),g=u("./node_modules/core-js/internals/to-absolute-index.js"),v=function(y){return function(b,j,N){var S=m(b),B=p(S.length),I=g(N,B),F;if(y&&j!=j){for(;B>I;)if(F=S[I++],F!=F)return!0}else for(;B>I;I++)if((y||I in S)&&S[I]===j)return y||I||0;return!y&&-1}};d.exports={includes:v(!0),indexOf:v(!1)}},"./node_modules/core-js/internals/array-iteration.js":function(d,f,u){var m=u("./node_modules/core-js/internals/function-bind-context.js"),p=u("./node_modules/core-js/internals/indexed-object.js"),g=u("./node_modules/core-js/internals/to-object.js"),v=u("./node_modules/core-js/internals/to-length.js"),y=u("./node_modules/core-js/internals/array-species-create.js"),b=[].push,j=function(N){var S=N==1,B=N==2,I=N==3,F=N==4,O=N==6,k=N==7,V=N==5||O;return function(Q,H,M,K){for(var q=g(Q),re=p(q),ee=m(H,M,3),le=v(re.length),Ae=0,ue=K||y,se=S?ue(Q,le):B||k?ue(Q,0):void 0,ve,_;le>Ae;Ae++)if((V||Ae in re)&&(ve=re[Ae],_=ee(ve,Ae,q),N))if(S)se[Ae]=_;else if(_)switch(N){case 3:return!0;case 5:return ve;case 6:return Ae;case 2:b.call(se,ve)}else switch(N){case 4:return!1;case 7:b.call(se,ve)}return O?-1:I||F?F:se}};d.exports={forEach:j(0),map:j(1),filter:j(2),some:j(3),every:j(4),find:j(5),findIndex:j(6),filterReject:j(7)}},"./node_modules/core-js/internals/array-method-has-species-support.js":function(d,f,u){var m=u("./node_modules/core-js/internals/fails.js"),p=u("./node_modules/core-js/internals/well-known-symbol.js"),g=u("./node_modules/core-js/internals/engine-v8-version.js"),v=p("species");d.exports=function(y){return g>=51||!m(function(){var b=[],j=b.constructor={};return j[v]=function(){return{foo:1}},b[y](Boolean).foo!==1})}},"./node_modules/core-js/internals/array-method-is-strict.js":function(d,f,u){var m=u("./node_modules/core-js/internals/fails.js");d.exports=function(p,g){var v=[][p];return!!v&&m(function(){v.call(null,g||function(){throw 1},1)})}},"./node_modules/core-js/internals/array-species-constructor.js":function(d,f,u){var m=u("./node_modules/core-js/internals/is-object.js"),p=u("./node_modules/core-js/internals/is-array.js"),g=u("./node_modules/core-js/internals/well-known-symbol.js"),v=g("species");d.exports=function(y){var b;return p(y)&&(b=y.constructor,typeof b=="function"&&(b===Array||p(b.prototype))?b=void 0:m(b)&&(b=b[v],b===null&&(b=void 0))),b===void 0?Array:b}},"./node_modules/core-js/internals/array-species-create.js":function(d,f,u){var m=u("./node_modules/core-js/internals/array-species-constructor.js");d.exports=function(p,g){return new(m(p))(g===0?0:g)}},"./node_modules/core-js/internals/classof-raw.js":function(d){var f={}.toString;d.exports=function(u){return f.call(u).slice(8,-1)}},"./node_modules/core-js/internals/classof.js":function(d,f,u){var m=u("./node_modules/core-js/internals/to-string-tag-support.js"),p=u("./node_modules/core-js/internals/classof-raw.js"),g=u("./node_modules/core-js/internals/well-known-symbol.js"),v=g("toStringTag"),y=p(function(){return arguments}())=="Arguments",b=function(j,N){try{return j[N]}catch{}};d.exports=m?p:function(j){var N,S,B;return j===void 0?"Undefined":j===null?"Null":typeof(S=b(N=Object(j),v))=="string"?S:y?p(N):(B=p(N))=="Object"&&typeof N.callee=="function"?"Arguments":B}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(d,f,u){var m=u("./node_modules/core-js/internals/has.js"),p=u("./node_modules/core-js/internals/own-keys.js"),g=u("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),v=u("./node_modules/core-js/internals/object-define-property.js");d.exports=function(y,b){for(var j=p(b),N=v.f,S=g.f,B=0;B<j.length;B++){var I=j[B];m(y,I)||N(y,I,S(b,I))}}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(d,f,u){var m=u("./node_modules/core-js/internals/fails.js");d.exports=!m(function(){function p(){}return p.prototype.constructor=null,Object.getPrototypeOf(new p)!==p.prototype})},"./node_modules/core-js/internals/create-html.js":function(d,f,u){var m=u("./node_modules/core-js/internals/require-object-coercible.js"),p=u("./node_modules/core-js/internals/to-string.js"),g=/"/g;d.exports=function(v,y,b,j){var N=p(m(v)),S="<"+y;return b!==""&&(S+=" "+b+'="'+p(j).replace(g,"&quot;")+'"'),S+">"+N+"</"+y+">"}},"./node_modules/core-js/internals/create-iterator-constructor.js":function(d,f,u){var m=u("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,p=u("./node_modules/core-js/internals/object-create.js"),g=u("./node_modules/core-js/internals/create-property-descriptor.js"),v=u("./node_modules/core-js/internals/set-to-string-tag.js"),y=u("./node_modules/core-js/internals/iterators.js"),b=function(){return this};d.exports=function(j,N,S){var B=N+" Iterator";return j.prototype=p(m,{next:g(1,S)}),v(j,B,!1,!0),y[B]=b,j}},"./node_modules/core-js/internals/create-non-enumerable-property.js":function(d,f,u){var m=u("./node_modules/core-js/internals/descriptors.js"),p=u("./node_modules/core-js/internals/object-define-property.js"),g=u("./node_modules/core-js/internals/create-property-descriptor.js");d.exports=m?function(v,y,b){return p.f(v,y,g(1,b))}:function(v,y,b){return v[y]=b,v}},"./node_modules/core-js/internals/create-property-descriptor.js":function(d){d.exports=function(f,u){return{enumerable:!(f&1),configurable:!(f&2),writable:!(f&4),value:u}}},"./node_modules/core-js/internals/create-property.js":function(d,f,u){var m=u("./node_modules/core-js/internals/to-property-key.js"),p=u("./node_modules/core-js/internals/object-define-property.js"),g=u("./node_modules/core-js/internals/create-property-descriptor.js");d.exports=function(v,y,b){var j=m(y);j in v?p.f(v,j,g(0,b)):v[j]=b}},"./node_modules/core-js/internals/define-iterator.js":function(d,f,u){var m=u("./node_modules/core-js/internals/export.js"),p=u("./node_modules/core-js/internals/create-iterator-constructor.js"),g=u("./node_modules/core-js/internals/object-get-prototype-of.js"),v=u("./node_modules/core-js/internals/object-set-prototype-of.js"),y=u("./node_modules/core-js/internals/set-to-string-tag.js"),b=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),j=u("./node_modules/core-js/internals/redefine.js"),N=u("./node_modules/core-js/internals/well-known-symbol.js"),S=u("./node_modules/core-js/internals/is-pure.js"),B=u("./node_modules/core-js/internals/iterators.js"),I=u("./node_modules/core-js/internals/iterators-core.js"),F=I.IteratorPrototype,O=I.BUGGY_SAFARI_ITERATORS,k=N("iterator"),V="keys",Q="values",H="entries",M=function(){return this};d.exports=function(K,q,re,ee,le,Ae,ue){p(re,q,ee);var se=function(J){if(J===le&&oe)return oe;if(!O&&J in z)return z[J];switch(J){case V:return function(){return new re(this,J)};case Q:return function(){return new re(this,J)};case H:return function(){return new re(this,J)}}return function(){return new re(this)}},ve=q+" Iterator",_=!1,z=K.prototype,ae=z[k]||z["@@iterator"]||le&&z[le],oe=!O&&ae||se(le),ce=q=="Array"&&z.entries||ae,me,he,te;if(ce&&(me=g(ce.call(new K)),F!==Object.prototype&&me.next&&(!S&&g(me)!==F&&(v?v(me,F):typeof me[k]!="function"&&b(me,k,M)),y(me,ve,!0,!0),S&&(B[ve]=M))),le==Q&&ae&&ae.name!==Q&&(_=!0,oe=function(){return ae.call(this)}),(!S||ue)&&z[k]!==oe&&b(z,k,oe),B[q]=oe,le)if(he={values:se(Q),keys:Ae?oe:se(V),entries:se(H)},ue)for(te in he)(O||_||!(te in z))&&j(z,te,he[te]);else m({target:q,proto:!0,forced:O||_},he);return he}},"./node_modules/core-js/internals/define-well-known-symbol.js":function(d,f,u){var m=u("./node_modules/core-js/internals/path.js"),p=u("./node_modules/core-js/internals/has.js"),g=u("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),v=u("./node_modules/core-js/internals/object-define-property.js").f;d.exports=function(y){var b=m.Symbol||(m.Symbol={});p(b,y)||v(b,y,{value:g.f(y)})}},"./node_modules/core-js/internals/descriptors.js":function(d,f,u){var m=u("./node_modules/core-js/internals/fails.js");d.exports=!m(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},"./node_modules/core-js/internals/document-create-element.js":function(d,f,u){var m=u("./node_modules/core-js/internals/global.js"),p=u("./node_modules/core-js/internals/is-object.js"),g=m.document,v=p(g)&&p(g.createElement);d.exports=function(y){return v?g.createElement(y):{}}},"./node_modules/core-js/internals/dom-iterables.js":function(d){d.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"./node_modules/core-js/internals/engine-user-agent.js":function(d,f,u){var m=u("./node_modules/core-js/internals/get-built-in.js");d.exports=m("navigator","userAgent")||""},"./node_modules/core-js/internals/engine-v8-version.js":function(d,f,u){var m=u("./node_modules/core-js/internals/global.js"),p=u("./node_modules/core-js/internals/engine-user-agent.js"),g=m.process,v=m.Deno,y=g&&g.versions||v&&v.version,b=y&&y.v8,j,N;b?(j=b.split("."),N=j[0]<4?1:j[0]+j[1]):p&&(j=p.match(/Edge\/(\d+)/),(!j||j[1]>=74)&&(j=p.match(/Chrome\/(\d+)/),j&&(N=j[1]))),d.exports=N&&+N},"./node_modules/core-js/internals/enum-bug-keys.js":function(d){d.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/export.js":function(d,f,u){var m=u("./node_modules/core-js/internals/global.js"),p=u("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,g=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),v=u("./node_modules/core-js/internals/redefine.js"),y=u("./node_modules/core-js/internals/set-global.js"),b=u("./node_modules/core-js/internals/copy-constructor-properties.js"),j=u("./node_modules/core-js/internals/is-forced.js");d.exports=function(N,S){var B=N.target,I=N.global,F=N.stat,O,k,V,Q,H,M;if(I?k=m:F?k=m[B]||y(B,{}):k=(m[B]||{}).prototype,k)for(V in S){if(H=S[V],N.noTargetGet?(M=p(k,V),Q=M&&M.value):Q=k[V],O=j(I?V:B+(F?".":"#")+V,N.forced),!O&&Q!==void 0){if(typeof H==typeof Q)continue;b(H,Q)}(N.sham||Q&&Q.sham)&&g(H,"sham",!0),v(k,V,H,N)}}},"./node_modules/core-js/internals/fails.js":function(d){d.exports=function(f){try{return!!f()}catch{return!0}}},"./node_modules/core-js/internals/function-bind-context.js":function(d,f,u){var m=u("./node_modules/core-js/internals/a-function.js");d.exports=function(p,g,v){if(m(p),g===void 0)return p;switch(v){case 0:return function(){return p.call(g)};case 1:return function(y){return p.call(g,y)};case 2:return function(y,b){return p.call(g,y,b)};case 3:return function(y,b,j){return p.call(g,y,b,j)}}return function(){return p.apply(g,arguments)}}},"./node_modules/core-js/internals/get-built-in.js":function(d,f,u){var m=u("./node_modules/core-js/internals/global.js"),p=function(g){return typeof g=="function"?g:void 0};d.exports=function(g,v){return arguments.length<2?p(m[g]):m[g]&&m[g][v]}},"./node_modules/core-js/internals/global.js":function(d){var f=function(u){return u&&u.Math==Math&&u};d.exports=f(typeof globalThis=="object"&&globalThis)||f(typeof window=="object"&&window)||f(typeof self=="object"&&self)||f(typeof Jh=="object"&&Jh)||function(){return this}()||Function("return this")()},"./node_modules/core-js/internals/has.js":function(d,f,u){var m=u("./node_modules/core-js/internals/to-object.js"),p={}.hasOwnProperty;d.exports=Object.hasOwn||function(v,y){return p.call(m(v),y)}},"./node_modules/core-js/internals/hidden-keys.js":function(d){d.exports={}},"./node_modules/core-js/internals/html.js":function(d,f,u){var m=u("./node_modules/core-js/internals/get-built-in.js");d.exports=m("document","documentElement")},"./node_modules/core-js/internals/ie8-dom-define.js":function(d,f,u){var m=u("./node_modules/core-js/internals/descriptors.js"),p=u("./node_modules/core-js/internals/fails.js"),g=u("./node_modules/core-js/internals/document-create-element.js");d.exports=!m&&!p(function(){return Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/indexed-object.js":function(d,f,u){var m=u("./node_modules/core-js/internals/fails.js"),p=u("./node_modules/core-js/internals/classof-raw.js"),g="".split;d.exports=m(function(){return!Object("z").propertyIsEnumerable(0)})?function(v){return p(v)=="String"?g.call(v,""):Object(v)}:Object},"./node_modules/core-js/internals/inherit-if-required.js":function(d,f,u){var m=u("./node_modules/core-js/internals/is-object.js"),p=u("./node_modules/core-js/internals/object-set-prototype-of.js");d.exports=function(g,v,y){var b,j;return p&&typeof(b=v.constructor)=="function"&&b!==y&&m(j=b.prototype)&&j!==y.prototype&&p(g,j),g}},"./node_modules/core-js/internals/inspect-source.js":function(d,f,u){var m=u("./node_modules/core-js/internals/shared-store.js"),p=Function.toString;typeof m.inspectSource!="function"&&(m.inspectSource=function(g){return p.call(g)}),d.exports=m.inspectSource},"./node_modules/core-js/internals/internal-state.js":function(d,f,u){var m=u("./node_modules/core-js/internals/native-weak-map.js"),p=u("./node_modules/core-js/internals/global.js"),g=u("./node_modules/core-js/internals/is-object.js"),v=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),y=u("./node_modules/core-js/internals/has.js"),b=u("./node_modules/core-js/internals/shared-store.js"),j=u("./node_modules/core-js/internals/shared-key.js"),N=u("./node_modules/core-js/internals/hidden-keys.js"),S="Object already initialized",B=p.WeakMap,I,F,O,k=function(re){return O(re)?F(re):I(re,{})},V=function(re){return function(ee){var le;if(!g(ee)||(le=F(ee)).type!==re)throw TypeError("Incompatible receiver, "+re+" required");return le}};if(m||b.state){var Q=b.state||(b.state=new B),H=Q.get,M=Q.has,K=Q.set;I=function(re,ee){if(M.call(Q,re))throw new TypeError(S);return ee.facade=re,K.call(Q,re,ee),ee},F=function(re){return H.call(Q,re)||{}},O=function(re){return M.call(Q,re)}}else{var q=j("state");N[q]=!0,I=function(re,ee){if(y(re,q))throw new TypeError(S);return ee.facade=re,v(re,q,ee),ee},F=function(re){return y(re,q)?re[q]:{}},O=function(re){return y(re,q)}}d.exports={set:I,get:F,has:O,enforce:k,getterFor:V}},"./node_modules/core-js/internals/is-array.js":function(d,f,u){var m=u("./node_modules/core-js/internals/classof-raw.js");d.exports=Array.isArray||function(g){return m(g)=="Array"}},"./node_modules/core-js/internals/is-forced.js":function(d,f,u){var m=u("./node_modules/core-js/internals/fails.js"),p=/#|\.prototype\./,g=function(N,S){var B=y[v(N)];return B==j?!0:B==b?!1:typeof S=="function"?m(S):!!S},v=g.normalize=function(N){return String(N).replace(p,".").toLowerCase()},y=g.data={},b=g.NATIVE="N",j=g.POLYFILL="P";d.exports=g},"./node_modules/core-js/internals/is-object.js":function(d){d.exports=function(f){return typeof f=="object"?f!==null:typeof f=="function"}},"./node_modules/core-js/internals/is-pure.js":function(d){d.exports=!1},"./node_modules/core-js/internals/is-symbol.js":function(d,f,u){var m=u("./node_modules/core-js/internals/get-built-in.js"),p=u("./node_modules/core-js/internals/use-symbol-as-uid.js");d.exports=p?function(g){return typeof g=="symbol"}:function(g){var v=m("Symbol");return typeof v=="function"&&Object(g)instanceof v}},"./node_modules/core-js/internals/iterators-core.js":function(d,f,u){var m=u("./node_modules/core-js/internals/fails.js"),p=u("./node_modules/core-js/internals/object-get-prototype-of.js"),g=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),v=u("./node_modules/core-js/internals/has.js"),y=u("./node_modules/core-js/internals/well-known-symbol.js"),b=u("./node_modules/core-js/internals/is-pure.js"),j=y("iterator"),N=!1,S=function(){return this},B,I,F;[].keys&&(F=[].keys(),"next"in F?(I=p(p(F)),I!==Object.prototype&&(B=I)):N=!0);var O=B==null||m(function(){var k={};return B[j].call(k)!==k});O&&(B={}),(!b||O)&&!v(B,j)&&g(B,j,S),d.exports={IteratorPrototype:B,BUGGY_SAFARI_ITERATORS:N}},"./node_modules/core-js/internals/iterators.js":function(d){d.exports={}},"./node_modules/core-js/internals/native-symbol.js":function(d,f,u){var m=u("./node_modules/core-js/internals/engine-v8-version.js"),p=u("./node_modules/core-js/internals/fails.js");d.exports=!!Object.getOwnPropertySymbols&&!p(function(){var g=Symbol();return!String(g)||!(Object(g)instanceof Symbol)||!Symbol.sham&&m&&m<41})},"./node_modules/core-js/internals/native-weak-map.js":function(d,f,u){var m=u("./node_modules/core-js/internals/global.js"),p=u("./node_modules/core-js/internals/inspect-source.js"),g=m.WeakMap;d.exports=typeof g=="function"&&/native code/.test(p(g))},"./node_modules/core-js/internals/object-assign.js":function(d,f,u){var m=u("./node_modules/core-js/internals/descriptors.js"),p=u("./node_modules/core-js/internals/fails.js"),g=u("./node_modules/core-js/internals/object-keys.js"),v=u("./node_modules/core-js/internals/object-get-own-property-symbols.js"),y=u("./node_modules/core-js/internals/object-property-is-enumerable.js"),b=u("./node_modules/core-js/internals/to-object.js"),j=u("./node_modules/core-js/internals/indexed-object.js"),N=Object.assign,S=Object.defineProperty;d.exports=!N||p(function(){if(m&&N({b:1},N(S({},"a",{enumerable:!0,get:function(){S(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var B={},I={},F=Symbol(),O="abcdefghijklmnopqrst";return B[F]=7,O.split("").forEach(function(k){I[k]=k}),N({},B)[F]!=7||g(N({},I)).join("")!=O})?function(I,F){for(var O=b(I),k=arguments.length,V=1,Q=v.f,H=y.f;k>V;)for(var M=j(arguments[V++]),K=Q?g(M).concat(Q(M)):g(M),q=K.length,re=0,ee;q>re;)ee=K[re++],(!m||H.call(M,ee))&&(O[ee]=M[ee]);return O}:N},"./node_modules/core-js/internals/object-create.js":function(d,f,u){var m=u("./node_modules/core-js/internals/an-object.js"),p=u("./node_modules/core-js/internals/object-define-properties.js"),g=u("./node_modules/core-js/internals/enum-bug-keys.js"),v=u("./node_modules/core-js/internals/hidden-keys.js"),y=u("./node_modules/core-js/internals/html.js"),b=u("./node_modules/core-js/internals/document-create-element.js"),j=u("./node_modules/core-js/internals/shared-key.js"),N=">",S="<",B="prototype",I="script",F=j("IE_PROTO"),O=function(){},k=function(K){return S+I+N+K+S+"/"+I+N},V=function(K){K.write(k("")),K.close();var q=K.parentWindow.Object;return K=null,q},Q=function(){var K=b("iframe"),q="java"+I+":",re;if(K.style)return K.style.display="none",y.appendChild(K),K.src=String(q),re=K.contentWindow.document,re.open(),re.write(k("document.F=Object")),re.close(),re.F},H,M=function(){try{H=new ActiveXObject("htmlfile")}catch{}M=document.domain&&H?V(H):Q()||V(H);for(var K=g.length;K--;)delete M[B][g[K]];return M()};v[F]=!0,d.exports=Object.create||function(q,re){var ee;return q!==null?(O[B]=m(q),ee=new O,O[B]=null,ee[F]=q):ee=M(),re===void 0?ee:p(ee,re)}},"./node_modules/core-js/internals/object-define-properties.js":function(d,f,u){var m=u("./node_modules/core-js/internals/descriptors.js"),p=u("./node_modules/core-js/internals/object-define-property.js"),g=u("./node_modules/core-js/internals/an-object.js"),v=u("./node_modules/core-js/internals/object-keys.js");d.exports=m?Object.defineProperties:function(b,j){g(b);for(var N=v(j),S=N.length,B=0,I;S>B;)p.f(b,I=N[B++],j[I]);return b}},"./node_modules/core-js/internals/object-define-property.js":function(d,f,u){var m=u("./node_modules/core-js/internals/descriptors.js"),p=u("./node_modules/core-js/internals/ie8-dom-define.js"),g=u("./node_modules/core-js/internals/an-object.js"),v=u("./node_modules/core-js/internals/to-property-key.js"),y=Object.defineProperty;f.f=m?y:function(j,N,S){if(g(j),N=v(N),g(S),p)try{return y(j,N,S)}catch{}if("get"in S||"set"in S)throw TypeError("Accessors not supported");return"value"in S&&(j[N]=S.value),j}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(d,f,u){var m=u("./node_modules/core-js/internals/descriptors.js"),p=u("./node_modules/core-js/internals/object-property-is-enumerable.js"),g=u("./node_modules/core-js/internals/create-property-descriptor.js"),v=u("./node_modules/core-js/internals/to-indexed-object.js"),y=u("./node_modules/core-js/internals/to-property-key.js"),b=u("./node_modules/core-js/internals/has.js"),j=u("./node_modules/core-js/internals/ie8-dom-define.js"),N=Object.getOwnPropertyDescriptor;f.f=m?N:function(B,I){if(B=v(B),I=y(I),j)try{return N(B,I)}catch{}if(b(B,I))return g(!p.f.call(B,I),B[I])}},"./node_modules/core-js/internals/object-get-own-property-names-external.js":function(d,f,u){var m=u("./node_modules/core-js/internals/to-indexed-object.js"),p=u("./node_modules/core-js/internals/object-get-own-property-names.js").f,g={}.toString,v=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],y=function(b){try{return p(b)}catch{return v.slice()}};d.exports.f=function(j){return v&&g.call(j)=="[object Window]"?y(j):p(m(j))}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(d,f,u){var m=u("./node_modules/core-js/internals/object-keys-internal.js"),p=u("./node_modules/core-js/internals/enum-bug-keys.js"),g=p.concat("length","prototype");f.f=Object.getOwnPropertyNames||function(y){return m(y,g)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(d,f){f.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(d,f,u){var m=u("./node_modules/core-js/internals/has.js"),p=u("./node_modules/core-js/internals/to-object.js"),g=u("./node_modules/core-js/internals/shared-key.js"),v=u("./node_modules/core-js/internals/correct-prototype-getter.js"),y=g("IE_PROTO"),b=Object.prototype;d.exports=v?Object.getPrototypeOf:function(j){return j=p(j),m(j,y)?j[y]:typeof j.constructor=="function"&&j instanceof j.constructor?j.constructor.prototype:j instanceof Object?b:null}},"./node_modules/core-js/internals/object-keys-internal.js":function(d,f,u){var m=u("./node_modules/core-js/internals/has.js"),p=u("./node_modules/core-js/internals/to-indexed-object.js"),g=u("./node_modules/core-js/internals/array-includes.js").indexOf,v=u("./node_modules/core-js/internals/hidden-keys.js");d.exports=function(y,b){var j=p(y),N=0,S=[],B;for(B in j)!m(v,B)&&m(j,B)&&S.push(B);for(;b.length>N;)m(j,B=b[N++])&&(~g(S,B)||S.push(B));return S}},"./node_modules/core-js/internals/object-keys.js":function(d,f,u){var m=u("./node_modules/core-js/internals/object-keys-internal.js"),p=u("./node_modules/core-js/internals/enum-bug-keys.js");d.exports=Object.keys||function(v){return m(v,p)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(d,f){var u={}.propertyIsEnumerable,m=Object.getOwnPropertyDescriptor,p=m&&!u.call({1:2},1);f.f=p?function(v){var y=m(this,v);return!!y&&y.enumerable}:u},"./node_modules/core-js/internals/object-set-prototype-of.js":function(d,f,u){var m=u("./node_modules/core-js/internals/an-object.js"),p=u("./node_modules/core-js/internals/a-possible-prototype.js");d.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var g=!1,v={},y;try{y=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,y.call(v,[]),g=v instanceof Array}catch{}return function(j,N){return m(j),p(N),g?y.call(j,N):j.__proto__=N,j}}():void 0)},"./node_modules/core-js/internals/object-to-string.js":function(d,f,u){var m=u("./node_modules/core-js/internals/to-string-tag-support.js"),p=u("./node_modules/core-js/internals/classof.js");d.exports=m?{}.toString:function(){return"[object "+p(this)+"]"}},"./node_modules/core-js/internals/ordinary-to-primitive.js":function(d,f,u){var m=u("./node_modules/core-js/internals/is-object.js");d.exports=function(p,g){var v,y;if(g==="string"&&typeof(v=p.toString)=="function"&&!m(y=v.call(p))||typeof(v=p.valueOf)=="function"&&!m(y=v.call(p))||g!=="string"&&typeof(v=p.toString)=="function"&&!m(y=v.call(p)))return y;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/internals/own-keys.js":function(d,f,u){var m=u("./node_modules/core-js/internals/get-built-in.js"),p=u("./node_modules/core-js/internals/object-get-own-property-names.js"),g=u("./node_modules/core-js/internals/object-get-own-property-symbols.js"),v=u("./node_modules/core-js/internals/an-object.js");d.exports=m("Reflect","ownKeys")||function(b){var j=p.f(v(b)),N=g.f;return N?j.concat(N(b)):j}},"./node_modules/core-js/internals/path.js":function(d,f,u){var m=u("./node_modules/core-js/internals/global.js");d.exports=m},"./node_modules/core-js/internals/redefine.js":function(d,f,u){var m=u("./node_modules/core-js/internals/global.js"),p=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),g=u("./node_modules/core-js/internals/has.js"),v=u("./node_modules/core-js/internals/set-global.js"),y=u("./node_modules/core-js/internals/inspect-source.js"),b=u("./node_modules/core-js/internals/internal-state.js"),j=b.get,N=b.enforce,S=String(String).split("String");(d.exports=function(B,I,F,O){var k=O?!!O.unsafe:!1,V=O?!!O.enumerable:!1,Q=O?!!O.noTargetGet:!1,H;if(typeof F=="function"&&(typeof I=="string"&&!g(F,"name")&&p(F,"name",I),H=N(F),H.source||(H.source=S.join(typeof I=="string"?I:""))),B===m){V?B[I]=F:v(I,F);return}else k?!Q&&B[I]&&(V=!0):delete B[I];V?B[I]=F:p(B,I,F)})(Function.prototype,"toString",function(){return typeof this=="function"&&j(this).source||y(this)})},"./node_modules/core-js/internals/regexp-flags.js":function(d,f,u){var m=u("./node_modules/core-js/internals/an-object.js");d.exports=function(){var p=m(this),g="";return p.global&&(g+="g"),p.ignoreCase&&(g+="i"),p.multiline&&(g+="m"),p.dotAll&&(g+="s"),p.unicode&&(g+="u"),p.sticky&&(g+="y"),g}},"./node_modules/core-js/internals/require-object-coercible.js":function(d){d.exports=function(f){if(f==null)throw TypeError("Can't call method on "+f);return f}},"./node_modules/core-js/internals/set-global.js":function(d,f,u){var m=u("./node_modules/core-js/internals/global.js");d.exports=function(p,g){try{Object.defineProperty(m,p,{value:g,configurable:!0,writable:!0})}catch{m[p]=g}return g}},"./node_modules/core-js/internals/set-to-string-tag.js":function(d,f,u){var m=u("./node_modules/core-js/internals/object-define-property.js").f,p=u("./node_modules/core-js/internals/has.js"),g=u("./node_modules/core-js/internals/well-known-symbol.js"),v=g("toStringTag");d.exports=function(y,b,j){y&&!p(y=j?y:y.prototype,v)&&m(y,v,{configurable:!0,value:b})}},"./node_modules/core-js/internals/shared-key.js":function(d,f,u){var m=u("./node_modules/core-js/internals/shared.js"),p=u("./node_modules/core-js/internals/uid.js"),g=m("keys");d.exports=function(v){return g[v]||(g[v]=p(v))}},"./node_modules/core-js/internals/shared-store.js":function(d,f,u){var m=u("./node_modules/core-js/internals/global.js"),p=u("./node_modules/core-js/internals/set-global.js"),g="__core-js_shared__",v=m[g]||p(g,{});d.exports=v},"./node_modules/core-js/internals/shared.js":function(d,f,u){var m=u("./node_modules/core-js/internals/is-pure.js"),p=u("./node_modules/core-js/internals/shared-store.js");(d.exports=function(g,v){return p[g]||(p[g]=v!==void 0?v:{})})("versions",[]).push({version:"3.16.0",mode:m?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/internals/string-html-forced.js":function(d,f,u){var m=u("./node_modules/core-js/internals/fails.js");d.exports=function(p){return m(function(){var g=""[p]('"');return g!==g.toLowerCase()||g.split('"').length>3})}},"./node_modules/core-js/internals/string-multibyte.js":function(d,f,u){var m=u("./node_modules/core-js/internals/to-integer.js"),p=u("./node_modules/core-js/internals/to-string.js"),g=u("./node_modules/core-js/internals/require-object-coercible.js"),v=function(y){return function(b,j){var N=p(g(b)),S=m(j),B=N.length,I,F;return S<0||S>=B?y?"":void 0:(I=N.charCodeAt(S),I<55296||I>56319||S+1===B||(F=N.charCodeAt(S+1))<56320||F>57343?y?N.charAt(S):I:y?N.slice(S,S+2):(I-55296<<10)+(F-56320)+65536)}};d.exports={codeAt:v(!1),charAt:v(!0)}},"./node_modules/core-js/internals/string-trim.js":function(d,f,u){var m=u("./node_modules/core-js/internals/require-object-coercible.js"),p=u("./node_modules/core-js/internals/to-string.js"),g=u("./node_modules/core-js/internals/whitespaces.js"),v="["+g+"]",y=RegExp("^"+v+v+"*"),b=RegExp(v+v+"*$"),j=function(N){return function(S){var B=p(m(S));return N&1&&(B=B.replace(y,"")),N&2&&(B=B.replace(b,"")),B}};d.exports={start:j(1),end:j(2),trim:j(3)}},"./node_modules/core-js/internals/to-absolute-index.js":function(d,f,u){var m=u("./node_modules/core-js/internals/to-integer.js"),p=Math.max,g=Math.min;d.exports=function(v,y){var b=m(v);return b<0?p(b+y,0):g(b,y)}},"./node_modules/core-js/internals/to-indexed-object.js":function(d,f,u){var m=u("./node_modules/core-js/internals/indexed-object.js"),p=u("./node_modules/core-js/internals/require-object-coercible.js");d.exports=function(g){return m(p(g))}},"./node_modules/core-js/internals/to-integer.js":function(d){var f=Math.ceil,u=Math.floor;d.exports=function(m){return isNaN(m=+m)?0:(m>0?u:f)(m)}},"./node_modules/core-js/internals/to-length.js":function(d,f,u){var m=u("./node_modules/core-js/internals/to-integer.js"),p=Math.min;d.exports=function(g){return g>0?p(m(g),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(d,f,u){var m=u("./node_modules/core-js/internals/require-object-coercible.js");d.exports=function(p){return Object(m(p))}},"./node_modules/core-js/internals/to-primitive.js":function(d,f,u){var m=u("./node_modules/core-js/internals/is-object.js"),p=u("./node_modules/core-js/internals/is-symbol.js"),g=u("./node_modules/core-js/internals/ordinary-to-primitive.js"),v=u("./node_modules/core-js/internals/well-known-symbol.js"),y=v("toPrimitive");d.exports=function(b,j){if(!m(b)||p(b))return b;var N=b[y],S;if(N!==void 0){if(j===void 0&&(j="default"),S=N.call(b,j),!m(S)||p(S))return S;throw TypeError("Can't convert object to primitive value")}return j===void 0&&(j="number"),g(b,j)}},"./node_modules/core-js/internals/to-property-key.js":function(d,f,u){var m=u("./node_modules/core-js/internals/to-primitive.js"),p=u("./node_modules/core-js/internals/is-symbol.js");d.exports=function(g){var v=m(g,"string");return p(v)?v:String(v)}},"./node_modules/core-js/internals/to-string-tag-support.js":function(d,f,u){var m=u("./node_modules/core-js/internals/well-known-symbol.js"),p=m("toStringTag"),g={};g[p]="z",d.exports=String(g)==="[object z]"},"./node_modules/core-js/internals/to-string.js":function(d,f,u){var m=u("./node_modules/core-js/internals/is-symbol.js");d.exports=function(p){if(m(p))throw TypeError("Cannot convert a Symbol value to a string");return String(p)}},"./node_modules/core-js/internals/uid.js":function(d){var f=0,u=Math.random();d.exports=function(m){return"Symbol("+String(m===void 0?"":m)+")_"+(++f+u).toString(36)}},"./node_modules/core-js/internals/use-symbol-as-uid.js":function(d,f,u){var m=u("./node_modules/core-js/internals/native-symbol.js");d.exports=m&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},"./node_modules/core-js/internals/well-known-symbol-wrapped.js":function(d,f,u){var m=u("./node_modules/core-js/internals/well-known-symbol.js");f.f=m},"./node_modules/core-js/internals/well-known-symbol.js":function(d,f,u){var m=u("./node_modules/core-js/internals/global.js"),p=u("./node_modules/core-js/internals/shared.js"),g=u("./node_modules/core-js/internals/has.js"),v=u("./node_modules/core-js/internals/uid.js"),y=u("./node_modules/core-js/internals/native-symbol.js"),b=u("./node_modules/core-js/internals/use-symbol-as-uid.js"),j=p("wks"),N=m.Symbol,S=b?N:N&&N.withoutSetter||v;d.exports=function(B){return(!g(j,B)||!(y||typeof j[B]=="string"))&&(y&&g(N,B)?j[B]=N[B]:j[B]=S("Symbol."+B)),j[B]}},"./node_modules/core-js/internals/whitespaces.js":function(d){d.exports=`	
\v\f\r \u2028\u2029\uFEFF`},"./node_modules/core-js/modules/es.array.concat.js":function(d,f,u){var m=u("./node_modules/core-js/internals/export.js"),p=u("./node_modules/core-js/internals/fails.js"),g=u("./node_modules/core-js/internals/is-array.js"),v=u("./node_modules/core-js/internals/is-object.js"),y=u("./node_modules/core-js/internals/to-object.js"),b=u("./node_modules/core-js/internals/to-length.js"),j=u("./node_modules/core-js/internals/create-property.js"),N=u("./node_modules/core-js/internals/array-species-create.js"),S=u("./node_modules/core-js/internals/array-method-has-species-support.js"),B=u("./node_modules/core-js/internals/well-known-symbol.js"),I=u("./node_modules/core-js/internals/engine-v8-version.js"),F=B("isConcatSpreadable"),O=9007199254740991,k="Maximum allowed index exceeded",V=I>=51||!p(function(){var K=[];return K[F]=!1,K.concat()[0]!==K}),Q=S("concat"),H=function(K){if(!v(K))return!1;var q=K[F];return q!==void 0?!!q:g(K)},M=!V||!Q;m({target:"Array",proto:!0,forced:M},{concat:function(q){var re=y(this),ee=N(re,0),le=0,Ae,ue,se,ve,_;for(Ae=-1,se=arguments.length;Ae<se;Ae++)if(_=Ae===-1?re:arguments[Ae],H(_)){if(ve=b(_.length),le+ve>O)throw TypeError(k);for(ue=0;ue<ve;ue++,le++)ue in _&&j(ee,le,_[ue])}else{if(le>=O)throw TypeError(k);j(ee,le++,_)}return ee.length=le,ee}})},"./node_modules/core-js/modules/es.array.iterator.js":function(d,f,u){var m=u("./node_modules/core-js/internals/to-indexed-object.js"),p=u("./node_modules/core-js/internals/add-to-unscopables.js"),g=u("./node_modules/core-js/internals/iterators.js"),v=u("./node_modules/core-js/internals/internal-state.js"),y=u("./node_modules/core-js/internals/define-iterator.js"),b="Array Iterator",j=v.set,N=v.getterFor(b);d.exports=y(Array,"Array",function(S,B){j(this,{type:b,target:m(S),index:0,kind:B})},function(){var S=N(this),B=S.target,I=S.kind,F=S.index++;return!B||F>=B.length?(S.target=void 0,{value:void 0,done:!0}):I=="keys"?{value:F,done:!1}:I=="values"?{value:B[F],done:!1}:{value:[F,B[F]],done:!1}},"values"),g.Arguments=g.Array,p("keys"),p("values"),p("entries")},"./node_modules/core-js/modules/es.array.join.js":function(d,f,u){var m=u("./node_modules/core-js/internals/export.js"),p=u("./node_modules/core-js/internals/indexed-object.js"),g=u("./node_modules/core-js/internals/to-indexed-object.js"),v=u("./node_modules/core-js/internals/array-method-is-strict.js"),y=[].join,b=p!=Object,j=v("join",",");m({target:"Array",proto:!0,forced:b||!j},{join:function(S){return y.call(g(this),S===void 0?",":S)}})},"./node_modules/core-js/modules/es.array.map.js":function(d,f,u){var m=u("./node_modules/core-js/internals/export.js"),p=u("./node_modules/core-js/internals/array-iteration.js").map,g=u("./node_modules/core-js/internals/array-method-has-species-support.js"),v=g("map");m({target:"Array",proto:!0,forced:!v},{map:function(b){return p(this,b,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.array.slice.js":function(d,f,u){var m=u("./node_modules/core-js/internals/export.js"),p=u("./node_modules/core-js/internals/is-object.js"),g=u("./node_modules/core-js/internals/is-array.js"),v=u("./node_modules/core-js/internals/to-absolute-index.js"),y=u("./node_modules/core-js/internals/to-length.js"),b=u("./node_modules/core-js/internals/to-indexed-object.js"),j=u("./node_modules/core-js/internals/create-property.js"),N=u("./node_modules/core-js/internals/well-known-symbol.js"),S=u("./node_modules/core-js/internals/array-method-has-species-support.js"),B=S("slice"),I=N("species"),F=[].slice,O=Math.max;m({target:"Array",proto:!0,forced:!B},{slice:function(V,Q){var H=b(this),M=y(H.length),K=v(V,M),q=v(Q===void 0?M:Q,M),re,ee,le;if(g(H)&&(re=H.constructor,typeof re=="function"&&(re===Array||g(re.prototype))?re=void 0:p(re)&&(re=re[I],re===null&&(re=void 0)),re===Array||re===void 0))return F.call(H,K,q);for(ee=new(re===void 0?Array:re)(O(q-K,0)),le=0;K<q;K++,le++)K in H&&j(ee,le,H[K]);return ee.length=le,ee}})},"./node_modules/core-js/modules/es.function.name.js":function(d,f,u){var m=u("./node_modules/core-js/internals/descriptors.js"),p=u("./node_modules/core-js/internals/object-define-property.js").f,g=Function.prototype,v=g.toString,y=/^\s*function ([^ (]*)/,b="name";m&&!(b in g)&&p(g,b,{configurable:!0,get:function(){try{return v.call(this).match(y)[1]}catch{return""}}})},"./node_modules/core-js/modules/es.number.constructor.js":function(d,f,u){var m=u("./node_modules/core-js/internals/descriptors.js"),p=u("./node_modules/core-js/internals/global.js"),g=u("./node_modules/core-js/internals/is-forced.js"),v=u("./node_modules/core-js/internals/redefine.js"),y=u("./node_modules/core-js/internals/has.js"),b=u("./node_modules/core-js/internals/classof-raw.js"),j=u("./node_modules/core-js/internals/inherit-if-required.js"),N=u("./node_modules/core-js/internals/is-symbol.js"),S=u("./node_modules/core-js/internals/to-primitive.js"),B=u("./node_modules/core-js/internals/fails.js"),I=u("./node_modules/core-js/internals/object-create.js"),F=u("./node_modules/core-js/internals/object-get-own-property-names.js").f,O=u("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,k=u("./node_modules/core-js/internals/object-define-property.js").f,V=u("./node_modules/core-js/internals/string-trim.js").trim,Q="Number",H=p[Q],M=H.prototype,K=b(I(M))==Q,q=function(ue){if(N(ue))throw TypeError("Cannot convert a Symbol value to a number");var se=S(ue,"number"),ve,_,z,ae,oe,ce,me,he;if(typeof se=="string"&&se.length>2){if(se=V(se),ve=se.charCodeAt(0),ve===43||ve===45){if(_=se.charCodeAt(2),_===88||_===120)return NaN}else if(ve===48){switch(se.charCodeAt(1)){case 66:case 98:z=2,ae=49;break;case 79:case 111:z=8,ae=55;break;default:return+se}for(oe=se.slice(2),ce=oe.length,me=0;me<ce;me++)if(he=oe.charCodeAt(me),he<48||he>ae)return NaN;return parseInt(oe,z)}}return+se};if(g(Q,!H(" 0o1")||!H("0b1")||H("+0x1"))){for(var re=function(se){var ve=arguments.length<1?0:se,_=this;return _ instanceof re&&(K?B(function(){M.valueOf.call(_)}):b(_)!=Q)?j(new H(q(ve)),_,re):q(ve)},ee=m?F(H):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),le=0,Ae;ee.length>le;le++)y(H,Ae=ee[le])&&!y(re,Ae)&&k(re,Ae,O(H,Ae));re.prototype=M,M.constructor=re,v(p,Q,re)}},"./node_modules/core-js/modules/es.object.assign.js":function(d,f,u){var m=u("./node_modules/core-js/internals/export.js"),p=u("./node_modules/core-js/internals/object-assign.js");m({target:"Object",stat:!0,forced:Object.assign!==p},{assign:p})},"./node_modules/core-js/modules/es.object.keys.js":function(d,f,u){var m=u("./node_modules/core-js/internals/export.js"),p=u("./node_modules/core-js/internals/to-object.js"),g=u("./node_modules/core-js/internals/object-keys.js"),v=u("./node_modules/core-js/internals/fails.js"),y=v(function(){g(1)});m({target:"Object",stat:!0,forced:y},{keys:function(j){return g(p(j))}})},"./node_modules/core-js/modules/es.object.to-string.js":function(d,f,u){var m=u("./node_modules/core-js/internals/to-string-tag-support.js"),p=u("./node_modules/core-js/internals/redefine.js"),g=u("./node_modules/core-js/internals/object-to-string.js");m||p(Object.prototype,"toString",g,{unsafe:!0})},"./node_modules/core-js/modules/es.regexp.to-string.js":function(d,f,u){var m=u("./node_modules/core-js/internals/redefine.js"),p=u("./node_modules/core-js/internals/an-object.js"),g=u("./node_modules/core-js/internals/to-string.js"),v=u("./node_modules/core-js/internals/fails.js"),y=u("./node_modules/core-js/internals/regexp-flags.js"),b="toString",j=RegExp.prototype,N=j[b],S=v(function(){return N.call({source:"a",flags:"b"})!="/a/b"}),B=N.name!=b;(S||B)&&m(RegExp.prototype,b,function(){var F=p(this),O=g(F.source),k=F.flags,V=g(k===void 0&&F instanceof RegExp&&!("flags"in j)?y.call(F):k);return"/"+O+"/"+V},{unsafe:!0})},"./node_modules/core-js/modules/es.string.iterator.js":function(d,f,u){var m=u("./node_modules/core-js/internals/string-multibyte.js").charAt,p=u("./node_modules/core-js/internals/to-string.js"),g=u("./node_modules/core-js/internals/internal-state.js"),v=u("./node_modules/core-js/internals/define-iterator.js"),y="String Iterator",b=g.set,j=g.getterFor(y);v(String,"String",function(N){b(this,{type:y,string:p(N),index:0})},function(){var S=j(this),B=S.string,I=S.index,F;return I>=B.length?{value:void 0,done:!0}:(F=m(B,I),S.index+=F.length,{value:F,done:!1})})},"./node_modules/core-js/modules/es.string.link.js":function(d,f,u){var m=u("./node_modules/core-js/internals/export.js"),p=u("./node_modules/core-js/internals/create-html.js"),g=u("./node_modules/core-js/internals/string-html-forced.js");m({target:"String",proto:!0,forced:g("link")},{link:function(y){return p(this,"a","href",y)}})},"./node_modules/core-js/modules/es.symbol.description.js":function(d,f,u){var m=u("./node_modules/core-js/internals/export.js"),p=u("./node_modules/core-js/internals/descriptors.js"),g=u("./node_modules/core-js/internals/global.js"),v=u("./node_modules/core-js/internals/has.js"),y=u("./node_modules/core-js/internals/is-object.js"),b=u("./node_modules/core-js/internals/object-define-property.js").f,j=u("./node_modules/core-js/internals/copy-constructor-properties.js"),N=g.Symbol;if(p&&typeof N=="function"&&(!("description"in N.prototype)||N().description!==void 0)){var S={},B=function(){var Q=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),H=this instanceof B?new N(Q):Q===void 0?N():N(Q);return Q===""&&(S[H]=!0),H};j(B,N);var I=B.prototype=N.prototype;I.constructor=B;var F=I.toString,O=String(N("test"))=="Symbol(test)",k=/^Symbol\((.*)\)[^)]+$/;b(I,"description",{configurable:!0,get:function(){var Q=y(this)?this.valueOf():this,H=F.call(Q);if(v(S,Q))return"";var M=O?H.slice(7,-1):H.replace(k,"$1");return M===""?void 0:M}}),m({global:!0,forced:!0},{Symbol:B})}},"./node_modules/core-js/modules/es.symbol.iterator.js":function(d,f,u){var m=u("./node_modules/core-js/internals/define-well-known-symbol.js");m("iterator")},"./node_modules/core-js/modules/es.symbol.js":function(d,f,u){var m=u("./node_modules/core-js/internals/export.js"),p=u("./node_modules/core-js/internals/global.js"),g=u("./node_modules/core-js/internals/get-built-in.js"),v=u("./node_modules/core-js/internals/is-pure.js"),y=u("./node_modules/core-js/internals/descriptors.js"),b=u("./node_modules/core-js/internals/native-symbol.js"),j=u("./node_modules/core-js/internals/fails.js"),N=u("./node_modules/core-js/internals/has.js"),S=u("./node_modules/core-js/internals/is-array.js"),B=u("./node_modules/core-js/internals/is-object.js"),I=u("./node_modules/core-js/internals/is-symbol.js"),F=u("./node_modules/core-js/internals/an-object.js"),O=u("./node_modules/core-js/internals/to-object.js"),k=u("./node_modules/core-js/internals/to-indexed-object.js"),V=u("./node_modules/core-js/internals/to-property-key.js"),Q=u("./node_modules/core-js/internals/to-string.js"),H=u("./node_modules/core-js/internals/create-property-descriptor.js"),M=u("./node_modules/core-js/internals/object-create.js"),K=u("./node_modules/core-js/internals/object-keys.js"),q=u("./node_modules/core-js/internals/object-get-own-property-names.js"),re=u("./node_modules/core-js/internals/object-get-own-property-names-external.js"),ee=u("./node_modules/core-js/internals/object-get-own-property-symbols.js"),le=u("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),Ae=u("./node_modules/core-js/internals/object-define-property.js"),ue=u("./node_modules/core-js/internals/object-property-is-enumerable.js"),se=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),ve=u("./node_modules/core-js/internals/redefine.js"),_=u("./node_modules/core-js/internals/shared.js"),z=u("./node_modules/core-js/internals/shared-key.js"),ae=u("./node_modules/core-js/internals/hidden-keys.js"),oe=u("./node_modules/core-js/internals/uid.js"),ce=u("./node_modules/core-js/internals/well-known-symbol.js"),me=u("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),he=u("./node_modules/core-js/internals/define-well-known-symbol.js"),te=u("./node_modules/core-js/internals/set-to-string-tag.js"),J=u("./node_modules/core-js/internals/internal-state.js"),X=u("./node_modules/core-js/internals/array-iteration.js").forEach,xe=z("hidden"),Ne="Symbol",ge="prototype",pe=ce("toPrimitive"),Y=J.set,Le=J.getterFor(Ne),ie=Object[ge],de=p.Symbol,je=g("JSON","stringify"),ye=le.f,Ce=Ae.f,be=re.f,Ee=ue.f,Qe=_("symbols"),rt=_("op-symbols"),Te=_("string-to-symbol-registry"),nt=_("symbol-to-string-registry"),xt=_("wks"),it=p.QObject,_e=!it||!it[ge]||!it[ge].findChild,dt=y&&j(function(){return M(Ce({},"a",{get:function(){return Ce(this,"a",{value:7}).a}})).a!=7})?function(He,ct,ft){var Wt=ye(ie,ct);Wt&&delete ie[ct],Ce(He,ct,ft),Wt&&He!==ie&&Ce(ie,ct,Wt)}:Ce,yt=function(He,ct){var ft=Qe[He]=M(de[ge]);return Y(ft,{type:Ne,tag:He,description:ct}),y||(ft.description=ct),ft},rr=function(ct,ft,Wt){ct===ie&&rr(rt,ft,Wt),F(ct);var gr=V(ft);return F(Wt),N(Qe,gr)?(Wt.enumerable?(N(ct,xe)&&ct[xe][gr]&&(ct[xe][gr]=!1),Wt=M(Wt,{enumerable:H(0,!1)})):(N(ct,xe)||Ce(ct,xe,H(1,{})),ct[xe][gr]=!0),dt(ct,gr,Wt)):Ce(ct,gr,Wt)},_t=function(ct,ft){F(ct);var Wt=k(ft),gr=K(Wt).concat(vt(Wt));return X(gr,function(Fr){(!y||Se.call(Wt,Fr))&&rr(ct,Fr,Wt[Fr])}),ct},Ve=function(ct,ft){return ft===void 0?M(ct):_t(M(ct),ft)},Se=function(ct){var ft=V(ct),Wt=Ee.call(this,ft);return this===ie&&N(Qe,ft)&&!N(rt,ft)?!1:Wt||!N(this,ft)||!N(Qe,ft)||N(this,xe)&&this[xe][ft]?Wt:!0},ot=function(ct,ft){var Wt=k(ct),gr=V(ft);if(!(Wt===ie&&N(Qe,gr)&&!N(rt,gr))){var Fr=ye(Wt,gr);return Fr&&N(Qe,gr)&&!(N(Wt,xe)&&Wt[xe][gr])&&(Fr.enumerable=!0),Fr}},Ot=function(ct){var ft=be(k(ct)),Wt=[];return X(ft,function(gr){!N(Qe,gr)&&!N(ae,gr)&&Wt.push(gr)}),Wt},vt=function(ct){var ft=ct===ie,Wt=be(ft?rt:k(ct)),gr=[];return X(Wt,function(Fr){N(Qe,Fr)&&(!ft||N(ie,Fr))&&gr.push(Qe[Fr])}),gr};if(b||(de=function(){if(this instanceof de)throw TypeError("Symbol is not a constructor");var ct=!arguments.length||arguments[0]===void 0?void 0:Q(arguments[0]),ft=oe(ct),Wt=function(gr){this===ie&&Wt.call(rt,gr),N(this,xe)&&N(this[xe],ft)&&(this[xe][ft]=!1),dt(this,ft,H(1,gr))};return y&&_e&&dt(ie,ft,{configurable:!0,set:Wt}),yt(ft,ct)},ve(de[ge],"toString",function(){return Le(this).tag}),ve(de,"withoutSetter",function(He){return yt(oe(He),He)}),ue.f=Se,Ae.f=rr,le.f=ot,q.f=re.f=Ot,ee.f=vt,me.f=function(He){return yt(ce(He),He)},y&&(Ce(de[ge],"description",{configurable:!0,get:function(){return Le(this).description}}),v||ve(ie,"propertyIsEnumerable",Se,{unsafe:!0}))),m({global:!0,wrap:!0,forced:!b,sham:!b},{Symbol:de}),X(K(xt),function(He){he(He)}),m({target:Ne,stat:!0,forced:!b},{for:function(He){var ct=Q(He);if(N(Te,ct))return Te[ct];var ft=de(ct);return Te[ct]=ft,nt[ft]=ct,ft},keyFor:function(ct){if(!I(ct))throw TypeError(ct+" is not a symbol");if(N(nt,ct))return nt[ct]},useSetter:function(){_e=!0},useSimple:function(){_e=!1}}),m({target:"Object",stat:!0,forced:!b,sham:!y},{create:Ve,defineProperty:rr,defineProperties:_t,getOwnPropertyDescriptor:ot}),m({target:"Object",stat:!0,forced:!b},{getOwnPropertyNames:Ot,getOwnPropertySymbols:vt}),m({target:"Object",stat:!0,forced:j(function(){ee.f(1)})},{getOwnPropertySymbols:function(ct){return ee.f(O(ct))}}),je){var Ze=!b||j(function(){var He=de();return je([He])!="[null]"||je({a:He})!="{}"||je(Object(He))!="{}"});m({target:"JSON",stat:!0,forced:Ze},{stringify:function(ct,ft,Wt){for(var gr=[ct],Fr=1,Ta;arguments.length>Fr;)gr.push(arguments[Fr++]);if(Ta=ft,!(!B(ft)&&ct===void 0||I(ct)))return S(ft)||(ft=function(pa,at){if(typeof Ta=="function"&&(at=Ta.call(this,pa,at)),!I(at))return at}),gr[1]=ft,je.apply(null,gr)}})}de[ge][pe]||se(de[ge],pe,de[ge].valueOf),te(de,Ne),ae[xe]=!0},"./node_modules/core-js/modules/web.dom-collections.for-each.js":function(d,f,u){var m=u("./node_modules/core-js/internals/global.js"),p=u("./node_modules/core-js/internals/dom-iterables.js"),g=u("./node_modules/core-js/internals/array-for-each.js"),v=u("./node_modules/core-js/internals/create-non-enumerable-property.js");for(var y in p){var b=m[y],j=b&&b.prototype;if(j&&j.forEach!==g)try{v(j,"forEach",g)}catch{j.forEach=g}}},"./node_modules/core-js/modules/web.dom-collections.iterator.js":function(d,f,u){var m=u("./node_modules/core-js/internals/global.js"),p=u("./node_modules/core-js/internals/dom-iterables.js"),g=u("./node_modules/core-js/modules/es.array.iterator.js"),v=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),y=u("./node_modules/core-js/internals/well-known-symbol.js"),b=y("iterator"),j=y("toStringTag"),N=g.values;for(var S in p){var B=m[S],I=B&&B.prototype;if(I){if(I[b]!==N)try{v(I,b,N)}catch{I[b]=N}if(I[j]||v(I,j,S),p[S]){for(var F in g)if(I[F]!==g[F])try{v(I,F,g[F])}catch{I[F]=g[F]}}}}},"./node_modules/es6-promise/dist/es6-promise.js":function(d){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(f,u){d.exports=u()})(this,function(){function f(it){var _e=typeof it;return it!==null&&(_e==="object"||_e==="function")}function u(it){return typeof it=="function"}var m=void 0;Array.isArray?m=Array.isArray:m=function(it){return Object.prototype.toString.call(it)==="[object Array]"};var p=m,g=0,v=void 0,y=void 0,b=function(_e,dt){K[g]=_e,K[g+1]=dt,g+=2,g===2&&(y?y(q):ee())};function j(it){y=it}function N(it){b=it}var S=typeof window<"u"?window:void 0,B=S||{},I=B.MutationObserver||B.WebKitMutationObserver,F=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",O=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function k(){return function(){return process.nextTick(q)}}function V(){return typeof v<"u"?function(){v(q)}:M()}function Q(){var it=0,_e=new I(q),dt=document.createTextNode("");return _e.observe(dt,{characterData:!0}),function(){dt.data=it=++it%2}}function H(){var it=new MessageChannel;return it.port1.onmessage=q,function(){return it.port2.postMessage(0)}}function M(){var it=setTimeout;return function(){return it(q,1)}}var K=new Array(1e3);function q(){for(var it=0;it<g;it+=2){var _e=K[it],dt=K[it+1];_e(dt),K[it]=void 0,K[it+1]=void 0}g=0}function re(){try{var it=Function("return this")().require("vertx");return v=it.runOnLoop||it.runOnContext,V()}catch{return M()}}var ee=void 0;F?ee=k():I?ee=Q():O?ee=H():S===void 0?ee=re():ee=M();function le(it,_e){var dt=this,yt=new this.constructor(se);yt[ue]===void 0&&je(yt);var rr=dt._state;if(rr){var _t=arguments[rr-1];b(function(){return Y(rr,yt,_t,dt._result)})}else ge(dt,yt,it,_e);return yt}function Ae(it){var _e=this;if(it&&typeof it=="object"&&it.constructor===_e)return it;var dt=new _e(se);return J(dt,it),dt}var ue=Math.random().toString(36).substring(2);function se(){}var ve=void 0,_=1,z=2;function ae(){return new TypeError("You cannot resolve a promise with itself")}function oe(){return new TypeError("A promises callback cannot return that same promise.")}function ce(it,_e,dt,yt){try{it.call(_e,dt,yt)}catch(rr){return rr}}function me(it,_e,dt){b(function(yt){var rr=!1,_t=ce(dt,_e,function(Ve){rr||(rr=!0,_e!==Ve?J(yt,Ve):xe(yt,Ve))},function(Ve){rr||(rr=!0,Ne(yt,Ve))},"Settle: "+(yt._label||" unknown promise"));!rr&&_t&&(rr=!0,Ne(yt,_t))},it)}function he(it,_e){_e._state===_?xe(it,_e._result):_e._state===z?Ne(it,_e._result):ge(_e,void 0,function(dt){return J(it,dt)},function(dt){return Ne(it,dt)})}function te(it,_e,dt){_e.constructor===it.constructor&&dt===le&&_e.constructor.resolve===Ae?he(it,_e):dt===void 0?xe(it,_e):u(dt)?me(it,_e,dt):xe(it,_e)}function J(it,_e){if(it===_e)Ne(it,ae());else if(f(_e)){var dt=void 0;try{dt=_e.then}catch(yt){Ne(it,yt);return}te(it,_e,dt)}else xe(it,_e)}function X(it){it._onerror&&it._onerror(it._result),pe(it)}function xe(it,_e){it._state===ve&&(it._result=_e,it._state=_,it._subscribers.length!==0&&b(pe,it))}function Ne(it,_e){it._state===ve&&(it._state=z,it._result=_e,b(X,it))}function ge(it,_e,dt,yt){var rr=it._subscribers,_t=rr.length;it._onerror=null,rr[_t]=_e,rr[_t+_]=dt,rr[_t+z]=yt,_t===0&&it._state&&b(pe,it)}function pe(it){var _e=it._subscribers,dt=it._state;if(_e.length!==0){for(var yt=void 0,rr=void 0,_t=it._result,Ve=0;Ve<_e.length;Ve+=3)yt=_e[Ve],rr=_e[Ve+dt],yt?Y(dt,yt,rr,_t):rr(_t);it._subscribers.length=0}}function Y(it,_e,dt,yt){var rr=u(dt),_t=void 0,Ve=void 0,Se=!0;if(rr){try{_t=dt(yt)}catch(ot){Se=!1,Ve=ot}if(_e===_t){Ne(_e,oe());return}}else _t=yt;_e._state!==ve||(rr&&Se?J(_e,_t):Se===!1?Ne(_e,Ve):it===_?xe(_e,_t):it===z&&Ne(_e,_t))}function Le(it,_e){try{_e(function(yt){J(it,yt)},function(yt){Ne(it,yt)})}catch(dt){Ne(it,dt)}}var ie=0;function de(){return ie++}function je(it){it[ue]=ie++,it._state=void 0,it._result=void 0,it._subscribers=[]}function ye(){return new Error("Array Methods must be provided an Array")}var Ce=function(){function it(_e,dt){this._instanceConstructor=_e,this.promise=new _e(se),this.promise[ue]||je(this.promise),p(dt)?(this.length=dt.length,this._remaining=dt.length,this._result=new Array(this.length),this.length===0?xe(this.promise,this._result):(this.length=this.length||0,this._enumerate(dt),this._remaining===0&&xe(this.promise,this._result))):Ne(this.promise,ye())}return it.prototype._enumerate=function(dt){for(var yt=0;this._state===ve&&yt<dt.length;yt++)this._eachEntry(dt[yt],yt)},it.prototype._eachEntry=function(dt,yt){var rr=this._instanceConstructor,_t=rr.resolve;if(_t===Ae){var Ve=void 0,Se=void 0,ot=!1;try{Ve=dt.then}catch(vt){ot=!0,Se=vt}if(Ve===le&&dt._state!==ve)this._settledAt(dt._state,yt,dt._result);else if(typeof Ve!="function")this._remaining--,this._result[yt]=dt;else if(rr===nt){var Ot=new rr(se);ot?Ne(Ot,Se):te(Ot,dt,Ve),this._willSettleAt(Ot,yt)}else this._willSettleAt(new rr(function(vt){return vt(dt)}),yt)}else this._willSettleAt(_t(dt),yt)},it.prototype._settledAt=function(dt,yt,rr){var _t=this.promise;_t._state===ve&&(this._remaining--,dt===z?Ne(_t,rr):this._result[yt]=rr),this._remaining===0&&xe(_t,this._result)},it.prototype._willSettleAt=function(dt,yt){var rr=this;ge(dt,void 0,function(_t){return rr._settledAt(_,yt,_t)},function(_t){return rr._settledAt(z,yt,_t)})},it}();function be(it){return new Ce(this,it).promise}function Ee(it){var _e=this;return p(it)?new _e(function(dt,yt){for(var rr=it.length,_t=0;_t<rr;_t++)_e.resolve(it[_t]).then(dt,yt)}):new _e(function(dt,yt){return yt(new TypeError("You must pass an array to race."))})}function Qe(it){var _e=this,dt=new _e(se);return Ne(dt,it),dt}function rt(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Te(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var nt=function(){function it(_e){this[ue]=de(),this._result=this._state=void 0,this._subscribers=[],se!==_e&&(typeof _e!="function"&&rt(),this instanceof it?Le(this,_e):Te())}return it.prototype.catch=function(dt){return this.then(null,dt)},it.prototype.finally=function(dt){var yt=this,rr=yt.constructor;return u(dt)?yt.then(function(_t){return rr.resolve(dt()).then(function(){return _t})},function(_t){return rr.resolve(dt()).then(function(){throw _t})}):yt.then(dt,dt)},it}();nt.prototype.then=le,nt.all=be,nt.race=Ee,nt.resolve=Ae,nt.reject=Qe,nt._setScheduler=j,nt._setAsap=N,nt._asap=b;function xt(){var it=void 0;if(typeof Jh<"u")it=Jh;else if(typeof self<"u")it=self;else try{it=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var _e=it.Promise;if(_e){var dt=null;try{dt=Object.prototype.toString.call(_e.resolve())}catch{}if(dt==="[object Promise]"&&!_e.cast)return}it.Promise=nt}return nt.polyfill=xt,nt.Promise=nt,nt})},html2canvas:function(d){d.exports=s},jspdf:function(d){d.exports=a}},o={};function l(d){var f=o[d];if(f!==void 0)return f.exports;var u=o[d]={exports:{}};return i[d].call(u.exports,u,u.exports,l),u.exports}(function(){l.n=function(d){var f=d&&d.__esModule?function(){return d.default}:function(){return d};return l.d(f,{a:f}),f}})(),function(){l.d=function(d,f){for(var u in f)l.o(f,u)&&!l.o(d,u)&&Object.defineProperty(d,u,{enumerable:!0,get:f[u]})}}(),function(){l.o=function(d,f){return Object.prototype.hasOwnProperty.call(d,f)}}(),function(){l.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})}}();var c={};return function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/l.r(c);var d=l("./src/worker.js");l("./src/plugin/jspdf-plugin.js"),l("./src/plugin/pagebreaks.js"),l("./src/plugin/hyperlinks.js");var f=function u(m,p){var g=new u.Worker(p);return m?g.from(m).save():g};f.Worker=d.default,c.default=f}(),c=c.default,c}()})}(BN)),BN.exports}var Dae=Oae();const Lae=Tc(Dae),Zp="https://vidyaastra.com/api",Mae=()=>{const[t,r]=w.useState(!1),[a,s]=w.useState(""),[i,o]=w.useState(!1),[l,c]=w.useState(!1),[d,f]=w.useState(null),[u,m]=w.useState([]),[p,g]=w.useState(""),[v,y]=w.useState("All"),[b,j]=w.useState(""),[N,S]=w.useState(null),[B,I]=w.useState(null),[F,O]=w.useState("#6B46C1"),[k,V]=w.useState(!1),[Q,H]=w.useState(null),[M,K]=w.useState(!1),q=w.useRef(null);w.useEffect(()=>{if(typeof window<"u"){O(localStorage.getItem("color")||"#6B46C1");const X=localStorage.getItem("schoolId");S(X),X||(s("School ID is missing. Please set your school ID."),j(" School ID not found in localStorage"))}},[]);const re=async X=>{if(!X)return null;try{console.log("Fetching school details for ID:",X);const xe=[`${Zp}/school/${X}`,`${Zp}/schools/${X}`,`${Zp}/school?id=${X}`];let Ne=null,ge=null;for(const Y of xe)try{if(console.log("Trying endpoint:",Y),Ne=await se(Y),Ne.ok){ge=await Ne.json(),console.log("School API Response:",ge);break}}catch(Le){console.log(`Endpoint ${Y} failed:`,Le.message);continue}if(ge){let Y=null;if(ge.success&&ge.data||ge.data?Y=ge.data:(ge._id||ge.name)&&(Y=ge),Y){const Le={name:Y.name||"School Name Not Available",address:Y.address||"Address Not Available",phone:Y.phone||"Phone Not Available",email:Y.email||"Email Not Available",logo:Y.logoUrl?`https://vidyaastra.com${Y.logoUrl}`:"/placeholder.svg?height=100&width=100&text=School+Logo",schoolCode:Y.schoolCode||"N/A",adminName:Y.adminName||"N/A",adminEmail:Y.adminEmail||"N/A",adminContact:Y.adminContact||"N/A"};return console.log("Processed school details:",Le),I(Le),Le}}console.warn("Could not fetch school details, using fallback");const pe={name:"School Name Not Available",address:"Address Not Available",phone:"Phone Not Available",email:"Email Not Available",logo:"/placeholder.svg?height=100&width=100&text=School+Logo",schoolCode:X,adminName:"N/A",adminEmail:"N/A",adminContact:"N/A"};return I(pe),pe}catch(xe){console.error("Error fetching school details:",xe);const Ne={name:"School Name Not Available",address:"Address Not Available",phone:"Phone Not Available",email:"Email Not Available",logo:"/placeholder.svg?height=100&width=100&text=School+Logo",schoolCode:X,adminName:"N/A",adminEmail:"N/A",adminContact:"N/A"};return I(Ne),Ne}};w.useEffect(()=>{N&&!B&&re(N)},[N,B]);const ee=X=>`${Number(X||0).toLocaleString()}`,le=X=>{if(!X)return"N/A";try{return new Date(X).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Date"}},Ae=X=>({Delivered:"bg-green-100 text-green-800",Processing:"bg-yellow-100 text-yellow-800",Shipped:"bg-blue-100 text-blue-800",Cancelled:"bg-red-100 text-red-800",Pending:"bg-gray-100 text-gray-800",Paid:"bg-green-100 text-green-800"})[X]||"bg-gray-100 text-gray-800",ue=X=>X==="UNIFORM"||X==="uniform"?n.jsx(ul,{className:"w-4 h-4"}):n.jsx(Ja,{className:"w-4 h-4"}),se=async(X,xe=1e4)=>{const Ne=new AbortController,ge=setTimeout(()=>Ne.abort(),xe);try{const pe=await fetch(X,{signal:Ne.signal,headers:{"Content-Type":"application/json",Accept:"application/json"}});return clearTimeout(ge),pe}catch(pe){throw clearTimeout(ge),pe}},ve=async()=>{if(!N){s("School ID is required to fetch orders."),j(X=>X+`
 Cannot fetch orders: School ID is missing`);return}r(!0),s(""),j(""),B||await re(N);try{const X=[];let xe=[],Ne=[],ge=[];X.push(" Testing API connectivity..."),X.push(` Using School ID: ${N}`),X.push(" Fetching uniform orders...");try{const Y=await se(`${Zp}/uniform/orders?schoolId=${N}`);if(X.push(` Uniform API Response: ${Y.status} ${Y.statusText}`),Y.ok){const Le=await Y.json(),ie=Le.data||Le||[];Array.isArray(ie)&&(xe=ie.map((de,je)=>{try{return{id:de._id||de.id||`uniform-${je}`,type:"UNIFORM",orderType:"uniform",date:de.createdAt||de.date||new Date().toISOString(),status:de.status||"Pending",items:de.items?.map(ye=>`${ye.uniformItem?.name||ye.name||"Unknown"} ${ye.size?`(${ye.size})`:""} x ${ye.quantity||1}`)||[`Order #${je+1}`],total:Number(de.totalAmount||de.total||0),customer:de.user?.name||de.customerName||"N/A",class:de.user?.class||de.class||"N/A",rawOrder:de}}catch(ye){return X.push(` Error processing uniform order ${je}: ${ye.message}`),null}}).filter(Boolean)),X.push(` Processed Uniform Orders: ${xe.length}`)}}catch(Y){X.push(` Uniform Fetch Error: ${Y.message}`)}X.push(" Fetching book orders...");try{const Y=await se(`${Zp}/orders?schoolId=${N}`);if(X.push(` Book API Response: ${Y.status} ${Y.statusText}`),Y.ok){const Le=await Y.json(),ie=Array.isArray(Le)?Le:Le.data||Le.orders||[];Array.isArray(ie)&&(Ne=ie.map((de,je)=>{try{return{id:de._id||de.id||`book-${je}`,type:"BOOKS",orderType:"book",date:de.createdAt||de.date||new Date().toISOString(),status:de.status||"Pending",items:de.items?.map(ye=>`${ye.book?.title||ye.title||ye.name||"Unknown"} x ${ye.quantity||1}`)||[`Order #${je+1}`],total:Number(de.totalAmount||de.total||0),customer:de.studentDetails?.name||de.student?.name||de.customerName||"N/A",class:de.studentDetails?.class||de.student?.class||de.class||"N/A",rawOrder:de}}catch(ye){return X.push(` Error processing book order ${je}: ${ye.message}`),null}}).filter(Boolean)),X.push(` Processed Book Orders: ${Ne.length}`)}}catch(Y){X.push(` Book Fetch Error: ${Y.message}`)}X.push(" Fetching fee orders...");try{const Y=await se(`${Zp}/fees?schoolId=${N}`);if(X.push(` Fee API Response: ${Y.status} ${Y.statusText}`),Y.ok){const Le=await Y.json(),ie=Array.isArray(Le)?Le:Le.data||Le.fees||[];Array.isArray(ie)&&(ge=ie.map((de,je)=>{try{return{id:de._id||`fee-${je}`,type:"FEE",orderType:"fee",date:de.createdAt,status:de.status,items:[`${de.term||"Fee"} Fee`],total:de.totalAmount,customer:de.student?.name||"N/A",class:de.student?.class||"N/A",rawOrder:de,feeId:de._id,installments:de.installments}}catch(ye){return X.push(` Error processing fee order ${je}: ${ye.message}`),null}}).filter(Boolean)),X.push(` Processed Fee Orders: ${ge.length}`)}}catch(Y){X.push(` Fee Fetch Error: ${Y.message}`)}const pe=[...xe,...Ne,...ge].sort((Y,Le)=>new Date(Le.date)-new Date(Y.date));X.push(` Total Combined Orders: ${pe.length}`),m(pe),j(X.join(`
`)),pe.length===0&&s("No orders found. Check the debug info below for details.")}catch(X){const xe=`Failed to fetch orders: ${X.message}`;s(xe),j(Ne=>Ne+`
 General Error: ${xe}`)}finally{r(!1)}};w.useEffect(()=>{N&&ve()},[N]);const _=["All","Uniform","Books","Delivered","Processing","Shipped","Cancelled","Pending","Paid"],z=w.useMemo(()=>{let X=u;return v==="Uniform"?X=X.filter(xe=>xe.type==="UNIFORM"):v==="Books"?X=X.filter(xe=>xe.type==="BOOKS"):v==="Fee"?X=X.filter(xe=>xe.type==="FEE"):v!=="All"&&(X=X.filter(xe=>xe.status===v)),X},[v,u]),ae=w.useMemo(()=>{const X=p.toLowerCase();return z.filter(xe=>xe.customer.toLowerCase().includes(X)||xe.id.toLowerCase().includes(X)||xe.items.some(Ne=>Ne.toLowerCase().includes(X)))},[p,z]),oe=w.useMemo(()=>{const X=u.length,xe=u.filter(pe=>pe.status==="Delivered"||pe.status==="Paid").length,Ne=u.filter(pe=>pe.status==="Processing").length,ge=u.filter(pe=>pe.status==="Delivered"||pe.status==="Paid").reduce((pe,Y)=>pe+Y.total,0);return{total:X,delivered:xe,processing:Ne,totalRevenue:ge}},[u]),ce=X=>{f(X),o(!0)},me=async X=>{K(!0),f(X);try{let xe,Ne=null,ge=B;!ge&&N&&(console.log("School data not available, fetching..."),ge=await re(N)),X.orderType==="uniform"?Ne=X.rawOrder.user:X.orderType==="book"?Ne=X.rawOrder.studentDetails||X.rawOrder.student:X.orderType==="fee"&&(Ne=X.rawOrder.student),Ne||(Ne={name:X.customer,studentId:"N/A",phone:"N/A",email:"N/A",class:X.class}),X.orderType==="fee"?xe={fee:X.rawOrder,installment:X.installments?.[0]||{},student:Ne,school:ge}:xe={order:X.rawOrder,student:Ne,school:ge},console.log("Invoice data prepared:",xe),H(xe),c(!0)}catch(xe){console.error("Error loading invoice data:",xe),alert("Failed to load invoice data. Please check console for details.")}finally{K(!1)}},he=(X,xe)=>{if(!X||!xe)return"";const Ne=new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"});let ge,pe,Y,Le,ie,de,je,ye=xe.student,Ce=xe.school;if(console.log("Generating invoice HTML with school data:",Ce),X.orderType==="fee"){const be=xe.fee,Ee=xe.installment;je="Fee Receipt",ge=Ee.receiptNumber||"N/A",pe=le(Ee.paidDate||be.createdAt),ie=Ee.paymentMethod||"N/A",de=Ee.status||"Pending",Le=Ee.paid,Y=`
        <div class="fee-details-section">
          <h3 class="section-title">Fee Installment Details</h3>
          <div class="detail-row">
            <span class="detail-label">Installment Title:</span>
            <span class="detail-value">Installment 1 (Term: ${be.term||"N/A"})</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Installment Value:</span>
            <span class="detail-value">${Ee.amount?.toFixed(2)||"0.00"}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Amount Paid:</span>
            <span class="detail-value">${Ee.paid?.toFixed(2)||"0.00"}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Paid Date:</span>
            <span class="detail-value">${le(Ee.paidDate)}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Receipt Number:</span>
            <span class="detail-value">${Ee.receiptNumber||"N/A"}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Payment Method:</span>
            <span class="detail-value">${Ee.paymentMethod||"N/A"}</span>
          </div>
        </div>
      `}else{const be=xe.order;je="Invoice",ge=X.id?.slice(-8)||"N/A",pe=le(X.date),ie=be.paymentMethod||"N/A",de=X.status||"Pending",Le=X.total,Y=`
        <div class="items-section">
          <h3 class="section-title">Order Items</h3>
          <table class="items-table">
            <thead>
              <tr>
                <th>Description</th>
                <th>Quantity</th>
                <th>Unit Price</th>
                <th>Amount</th>
              </tr>
            </thead>
            <tbody>
              ${be.items.map((Ee,Qe)=>{const rt=X.orderType==="book"?Ee.book?.title:Ee.uniformItem?.name,Te=X.orderType==="book"?Ee.price:Ee.priceAtOrder,nt=Ee.quantity,xt=X.orderType==="uniform"?` (Size: ${Ee.size})`:"",it=(nt*Te).toFixed(2);return`
                  <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 12px 8px; text-align: left; border-right: 1px solid #eee;">
                      <div style="font-weight: 500; color: #333; margin-bottom: 2px;">${rt}</div>
                      ${xt?`<div style="font-size: 11px; color: #666;">${xt}</div>`:""}
                    </td>
                    <td style="padding: 12px 8px; text-align: center; border-right: 1px solid #eee; font-weight: 500;">${nt}</td>
                    <td style="padding: 12px 8px; text-align: right; border-right: 1px solid #eee;">${Te?.toFixed(2)||"0.00"}</td>
                    <td style="padding: 12px 8px; text-align: right; font-weight: 600; color: #333;">${it}</td>
                  </tr>
                `}).join("")}
            </tbody>
          </table>
        </div>
      `}return`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>${je} #${ge}</title>
      <style>
        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }

        body {
          font-family: 'Helvetica Neue', Arial, sans-serif;
          line-height: 1.6;
          color: #333;
          background: #f8f9fa;
          padding: 20px;
        }

        .invoice-container {
          max-width: 800px;
          margin: 0 auto;
          background: white;
          border-radius: 10px;
          overflow: hidden;
          box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .invoice-header {
          color: #333;
          padding: 40px;
          text-align: center;
        }

        .invoice-title {
          font-size: 32px;
          font-weight: bold;
          margin-bottom: 10px;
          text-transform: uppercase;
          letter-spacing: 2px;
        }

        .invoice-body {
          padding: 40px;
        }

        .school-info {
          display: flex;
          align-items: center;
          margin-bottom: 40px;
          padding-bottom: 30px;
          border-bottom: 3px solid #f0f0f0;
        }

        .school-logo {
          width: 80px;
          height: 80px;
          border-radius: 10px;
          margin-right: 30px;
          object-fit: contain;
          border: 2px solid #eee;
        }

        .school-details h2 {
          font-size: 24px;
          color: #333;
          margin-bottom: 8px;
          font-weight: bold;
        }

        .school-details p {
          color: #666;
          margin-bottom: 4px;
          font-size: 14px;
        }

        .invoice-meta {
          display: flex;
          justify-content: space-between;
          margin-bottom: 40px;
          gap: 40px;
        }

        .invoice-details, .billing-details {
          flex: 1;
          background: #f8f9fa;
          padding: 25px;
          border-radius: 8px;
          border-left: 4px solid ${F};
        }

        .invoice-details h3, .billing-details h3 {
          font-size: 18px;
          color: #333;
          margin-bottom: 15px;
          font-weight: bold;
        }

        .detail-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 8px;
          padding: 5px 0;
        }

        .detail-label {
          font-weight: 600;
          color: #555;
        }

        .detail-value {
          color: #333;
          font-weight: 500;
        }

        .items-section {
          margin: 40px 0;
        }

        .section-title {
          font-size: 20px;
          color: #333;
          margin-bottom: 20px;
          font-weight: bold;
          text-transform: uppercase;
          letter-spacing: 1px;
        }

        .items-table {
          width: 100%;
          border-collapse: collapse;
          border: 1px solid #ddd;
          border-radius: 8px;
          overflow: hidden;
          box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .items-table thead {
          background: linear-gradient(135deg, ${F} 0%, ${F} 100%);
          color: white;
        }

        .items-table th {
          padding: 15px 10px;
          text-align: left;
          font-weight: bold;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          font-size: 12px;
        }

        .items-table th:nth-child(2) {
          text-align: center;
        }

        .items-table th:nth-child(3),
        .items-table th:nth-child(4) {
          text-align: right;
        }

        .items-table tbody tr:nth-child(even) {
          background: #f9f9f9;
        }

        .items-table tbody tr:hover {
          background: #f0f0f0;
        }

        .fee-details-section {
          margin: 40px 0;
          background: #f8f9fa;
          padding: 25px;
          border-radius: 8px;
          border: 1px solid #eee;
          box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        .fee-details-section .section-title {
          font-size: 20px;
          color: #333;
          margin-bottom: 20px;
          font-weight: bold;
          text-transform: uppercase;
          letter-spacing: 1px;
          border-bottom: 2px solid ${F};
          padding-bottom: 10px;
        }

        .fee-details-section .detail-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 10px;
          padding: 8px 0;
          border-bottom: 1px dashed #e0e0e0;
        }

        .fee-details-section .detail-row:last-child {
          border-bottom: none;
          margin-bottom: 0;
        }

        .fee-details-section .detail-label {
          font-weight: 600;
          color: #555;
          flex: 1;
        }

        .fee-details-section .detail-value {
          color: #333;
          font-weight: 500;
          text-align: right;
          flex: 1;
        }

        .summary-section {
          margin-top: 40px;
          border-top: 3px solid #f0f0f0;
          padding-top: 30px;
        }

        .summary-rows {
          max-width: 400px;
          margin-left: auto;
        }

        .summary-row {
          display: flex;
          justify-content: space-between;
          padding: 10px 0;
          border-bottom: 1px solid #eee;
        }

        .summary-row:last-child {
          border-bottom: none;
        }

        .summary-label {
          font-weight: 600;
          color: #555;
        }

        .summary-value {
          font-weight: 600;
          color: #333;
        }

        .total-row {
          background: linear-gradient(135deg, ${F} 0%, ${F} 100%);
          color: white;
          padding: 15px 20px;
          border-radius: 8px;
          margin-top: 15px;
        }

        .total-row .summary-label,
        .total-row .summary-value {
          color: white;
          font-size: 18px;
          font-weight: bold;
        }

        .payment-status {
          display: inline-block;
          padding: 6px 12px;
          border-radius: 20px;
          font-size: 12px;
          font-weight: bold;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .status-paid {
          background: #d4edda;
          color: #155724;
          border: 1px solid #c3e6cb;
        }

        .status-pending {
          background: #fff3cd;
          color: #856404;
          border: 1px solid #ffeaa7;
        }

        .status-delivered {
          background: #d4edda;
          color: #155724;
          border: 1px solid #c3e6cb;
        }

        .status-processing {
          background: #fff3cd;
          color: #856404;
          border: 1px solid #ffeaa7;
        }

        .status-shipped {
          background: #d1ecf1;
          color: #0c5460;
          border: 1px solid #bee5eb;
        }

        .status-cancelled {
          background: #f8d7da;
          color: #721c24;
          border: 1px solid #f5c6cb;
        }

        .footer {
          margin-top: 50px;
          text-align: center;
          padding: 30px;
          background: #f8f9fa;
          border-radius: 8px;
        }

        .thank-you {
          font-size: 18px;
          color: #333;
          font-weight: 600;
          margin-bottom: 10px;
        }

        .footer-note {
          font-size: 14px;
          color: #666;
          font-style: italic;
        }

        .watermark {
          position: fixed;
          bottom: 20px;
          right: 20px;
          font-size: 10px;
          color: #ccc;
          opacity: 0.7;
        }

        @media print {
          body {
            background: white;
            padding: 0;
          }

          .invoice-container {
            box-shadow: none;
            border-radius: 0;
          }
        }
      </style>
    </head>
    <body>
      <div class="invoice-container">
        <div class="invoice-header">
          <div class="invoice-title">${je}</div>
        </div>

        <div class="invoice-body">
          <div class="school-info">
            <img src="${Ce?.logo||"/placeholder.svg?height=100&width=100&text=School+Logo"}" alt="School Logo" class="school-logo" />
            <div class="school-details">
              <h2>${Ce?.name||"School Name Not Available"}</h2>
              <p><strong>Address:</strong> ${Ce?.address||"Address Not Available"}</p>
              <p><strong>Phone:</strong> ${Ce?.phone||"Phone Not Available"}</p>
              <p><strong>Email:</strong> ${Ce?.email||"Email Not Available"}</p>
              ${Ce?.schoolCode?`<p><strong>School Code:</strong> ${Ce.schoolCode}</p>`:""}
            </div>
          </div>

          <div class="invoice-meta">
            <div class="invoice-details">
              <h3>${je} Details</h3>
              <div class="detail-row">
                <span class="detail-label">${je} Number:</span>
                <span class="detail-value">#${ge}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Date:</span>
                <span class="detail-value">${pe}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Generated Date:</span>
                <span class="detail-value">${Ne}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Type:</span>
                <span class="detail-value">${X.type}</span>
              </div>
            </div>

            <div class="billing-details">
              <h3>Billed To</h3>
              <div class="detail-row">
                <span class="detail-label">Student Name:</span>
                <span class="detail-value">${ye?.name||"N/A"}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Student ID:</span>
                <span class="detail-value">${ye?.studentId||ye?.rollNumber||ye?._id||"N/A"}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Phone:</span>
                <span class="detail-value">${ye?.phone||"N/A"}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Email:</span>
                <span class="detail-value">${ye?.email||"N/A"}</span>
              </div>
            </div>
          </div>

          ${Y}

          <div class="summary-section">
            <div class="summary-rows">
              <div class="summary-row">
                <span class="summary-label">Payment Method:</span>
                <span class="summary-value">${ie}</span>
              </div>
              <div class="summary-row">
                <span class="summary-label">Status:</span>
                <span class="summary-value">
                  <span class="payment-status status-${de?.toLowerCase()}">
                    ${de||"Pending"}
                  </span>
                </span>
              </div>
              <div class="summary-row total-row">
                <span class="summary-label">${X.orderType==="fee"?"Total Amount Paid:":"Total Amount:"}</span>
                <span class="summary-value">${Le?.toFixed(2)||"0.00"}</span>
              </div>
            </div>
          </div>

          <div class="footer">
            <div class="thank-you">Thank you for your ${X.orderType==="fee"?"payment":"purchase"}!</div>
            <div class="footer-note">
              This is a computer-generated ${X.orderType==="fee"?"receipt":"invoice"} and does not require a signature.
              <br>
              For any queries, please contact the school administration.
            </div>
          </div>
        </div>
      </div>

      <div class="watermark">
        Generated on ${Ne} | ${Ce?.name||"School Name"}
      </div>
    </body>
    </html>
    `},te=async(X,xe=null)=>{if(!X||!xe){alert("Error: Order data not available for PDF generation.");return}V(!0);try{const Ne=he(X,xe),ge={filename:`${X.orderType==="fee"?"fee_receipt":"invoice"}_${X.id.slice(-8)}_${Date.now()}.pdf`,margin:20,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"pt",format:"a4",orientation:"portrait"}};await Lae().from(Ne).set(ge).save(),alert(`${X.orderType==="fee"?"Fee Receipt":"Invoice"} PDF downloaded successfully!`)}catch(Ne){console.error("PDF generation error:",Ne),alert("Failed to generate PDF. Please try again.")}finally{V(!1)}},J=X=>{const xe=B?.name||"School Name";let Ne;X.orderType==="fee"?Ne=`FEE RECEIPT #${X.id.slice(-8)}
${xe}
Date: ${le(X.date)}

Billed to: ${X.customer}
Fee Details:
${X.items.join(`
`)}

TOTAL: ${ee(X.total)}
Status: ${X.status}`:Ne=`INVOICE #${X.id.slice(-8)}
${xe}
Date: ${le(X.date)}

Billed to: ${X.customer}
Class: ${X.class}

ITEMS:
${X.items.join(`
`)}

TOTAL: ${ee(X.total)}
Payment: ${X.rawOrder?.paymentMethod||"N/A"}
Status: ${X.status}`,navigator.share?navigator.share({title:X.orderType==="fee"?"Fee Receipt Details":"Invoice Details",text:Ne}):(navigator.clipboard.writeText(Ne),alert("Invoice details copied to clipboard!"))};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a&&n.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-red-100 border border-red-400 text-red-800 px-4 py-3 rounded-lg shadow-lg flex items-center gap-2 z-50",children:[n.jsx(ua,{className:"w-5 h-5"}),n.jsx("span",{children:a}),n.jsx("button",{onClick:()=>s(""),className:"ml-2 hover:text-red-900",children:n.jsx(cr,{className:"w-4 h-4"})})]}),b&&u.length===0&&n.jsxs("div",{className:"m-4 bg-white rounded-lg shadow-sm border",children:[n.jsx("div",{className:"p-4 border-b",children:n.jsx("h3",{className:"text-sm font-medium",children:"Debug Information"})}),n.jsx("div",{className:"p-4",children:n.jsx("pre",{className:"text-xs bg-gray-100 p-3 rounded overflow-x-auto whitespace-pre-wrap",children:b})})]}),n.jsx("div",{className:"text-white p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:F},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ia,{className:"w-6 h-6"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Order History"}),n.jsx("p",{className:"text-white/80 mt-1",children:"Track and manage all orders efficiently"}),B&&n.jsxs("p",{className:"text-white/60 text-sm mt-1",children:[B.name," | School ID: ",N]})]})]}),n.jsxs("button",{onClick:ve,disabled:t||!N,className:"bg-white/20 hover:bg-white/30 text-white border border-white/30 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50",children:[t?n.jsx(Er,{className:"w-4 h-4 animate-spin"}):n.jsx(cm,{className:"w-4 h-4"}),"Refresh"]})]})}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex flex-col lg:flex-row justify-between gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Sa,{className:"absolute left-3 top-5 -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Search orders...",value:p,onChange:X=>g(X.target.value),className:"pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 w-full lg:w-64"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mo,{className:"text-gray-500 w-4 h-4"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:_.map(X=>n.jsx("button",{onClick:()=>y(X),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${v===X?"text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,style:v===X?{backgroundColor:F}:{},children:X},X))})]})]})})}),n.jsxs("div",{className:"p-6 grid grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:oe.total}),n.jsx("div",{className:"text-sm text-gray-600",children:"Total Orders"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:oe.delivered}),n.jsx("div",{className:"text-sm text-gray-600",children:"Delivered/Paid"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border",children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:oe.processing}),n.jsx("div",{className:"text-sm text-gray-600",children:"Processing"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border",children:[n.jsx("div",{className:"text-2xl font-bold",style:{color:F},children:ee(oe.totalRevenue)}),n.jsx("div",{className:"text-sm text-gray-600",children:"Revenue"})]})]}),n.jsx("div",{className:"px-6 pb-6",children:n.jsx("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:t?n.jsx("tr",{children:n.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:[n.jsx(Er,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:F}}),n.jsx("p",{className:"text-lg font-medium",children:"Loading orders..."}),n.jsx("p",{className:"text-sm",children:"This may take a few moments"})]})}):ae.length===0?n.jsx("tr",{children:n.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:[n.jsx(ia,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-lg font-medium",children:"No orders found"}),n.jsx("p",{className:"text-sm",children:u.length===0?"Check if your backend is running and accessible or verify your school ID":"Try adjusting your search or filter"}),u.length===0&&n.jsxs("button",{onClick:ve,disabled:!N,className:"mt-4 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 mx-auto disabled:opacity-50",children:[n.jsx(cm,{className:"w-4 h-4"}),"Retry"]})]})}):ae.map(X=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${X.type==="UNIFORM"?"bg-purple-100 text-purple-600":X.type==="FEE"?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}`,children:X.type==="FEE"?"":ue(X.type)}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["#",X.id.slice(-8)]}),n.jsx("div",{className:"text-sm text-gray-500",children:le(X.date)}),n.jsx("div",{className:`text-xs font-medium ${X.type==="UNIFORM"?"text-purple-600":X.type==="FEE"?"text-green-600":"text-blue-600"}`,children:X.type})]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:X.customer}),X.class!=="N/A"&&n.jsx("div",{className:"text-sm text-gray-500",children:X.class})]}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"max-w-xs",children:[X.items.slice(0,2).map((xe,Ne)=>n.jsx("div",{className:"text-sm text-gray-900 truncate",children:xe},Ne)),X.items.length>2&&n.jsxs("div",{className:"text-xs text-gray-500",children:["+",X.items.length-2," more"]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-bold text-gray-900",children:ee(X.total)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2.5 py-0.5 rounded-full text-xs font-medium ${Ae(X.status)}`,children:X.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>ce(X),className:"p-2 rounded-full hover:bg-opacity-80 transition text-white",style:{backgroundColor:F},title:"View Details",children:n.jsx(ys,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>me(X),disabled:M,className:"p-2 rounded-full hover:bg-opacity-80 transition text-white",style:{backgroundColor:F},title:"View Invoice",children:M?n.jsx(Er,{className:"w-4 h-4 animate-spin"}):n.jsx(Us,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>J(X),className:"p-2 rounded-full hover:bg-opacity-80 transition text-white",style:{backgroundColor:F},title:"Share as Text",children:n.jsx(oI,{className:"w-4 h-4"})})]})})]},X.id))})]})})})}),i&&d&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[n.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:["Order Details #",d.id.slice(-8)]}),n.jsx("button",{onClick:()=>o(!1),className:"text-gray-500 hover:text-gray-700",children:n.jsx(cr,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Order Type:"}),n.jsx("p",{className:"text-gray-900",children:d.type})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Date:"}),n.jsx("p",{className:"text-gray-900",children:le(d.date)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Status:"}),n.jsx("span",{className:`inline-flex px-2.5 py-0.5 rounded-full text-xs font-medium ${Ae(d.status)}`,children:d.status})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Total Amount:"}),n.jsx("p",{className:"text-gray-900 font-bold",children:ee(d.total)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Customer:"}),n.jsx("p",{className:"text-gray-900",children:d.customer})]}),d.class!=="N/A"&&n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Class:"}),n.jsx("p",{className:"text-gray-900",children:d.class})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Items Ordered"}),n.jsx("div",{className:"space-y-3 border-t pt-4",children:d.rawOrder.items?.map((X,xe)=>{const Ne=d.type==="UNIFORM"?X.uniformItem:X.book;return Ne?n.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[n.jsx("img",{src:Ne.image||"/placeholder.svg?height=48&width=48",alt:d.type==="UNIFORM"?Ne.name:Ne.title,className:"w-12 h-12 object-cover rounded-md"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:d.type==="UNIFORM"?Ne.name:Ne.title}),n.jsxs("p",{className:"text-xs text-gray-600",children:["Quantity: ",X.quantity,d.type==="UNIFORM"&&X.size&&`, Size: ${X.size}`]})]}),n.jsx("span",{className:"text-sm font-bold text-gray-900",children:ee((X.priceAtOrder||X.price||0)*X.quantity)})]},xe):n.jsxs("div",{className:"flex items-center space-x-3 text-red-600 p-3 bg-red-50 rounded-lg",children:[n.jsx(ua,{className:"w-5 h-5"}),n.jsx("span",{children:"Item not found"})]},xe)})})]})]})]})}),l&&d&&Q&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",style:{backgroundColor:F},children:[n.jsxs("div",{className:"flex items-center gap-3 text-white",children:[n.jsx("button",{onClick:()=>c(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:n.jsx(zw,{className:"w-5 h-5"})}),n.jsx("h2",{className:"text-xl font-bold",children:d.orderType==="fee"?"Fee Receipt":"Invoice"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>te(d,Q),disabled:k,className:"bg-white/20 hover:bg-white/30 text-white border border-white/30 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50",children:[k?n.jsx(Er,{className:"w-4 h-4 animate-spin"}):n.jsx(Us,{className:"w-4 h-4"}),"PDF"]}),n.jsxs("button",{onClick:()=>J(d),className:"bg-white/20 hover:bg-white/30 text-white border border-white/30 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[n.jsx(oI,{className:"w-4 h-4"}),"Share"]})]})]}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border max-w-2xl mx-auto",children:[n.jsxs("div",{className:"flex items-center p-6 border-b",children:[n.jsx("img",{src:Q.school?.logo||"/placeholder.svg?height=80&width=80&text=School+Logo",alt:"School Logo",className:"w-16 h-16 object-contain rounded-lg border mr-4"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:Q.school?.name||"School Name Not Available"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Address:"," ",Q.school?.address||"Address Not Available"]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Phone:"," ",Q.school?.phone||"Phone Not Available"]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Email:"," ",Q.school?.email||"Email Not Available"]}),Q.school?.schoolCode&&n.jsxs("p",{className:"text-sm text-gray-600",children:["School Code: ",Q.school.schoolCode]})]})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:d.orderType==="fee"?"Receipt Details":"Invoice Details"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:d.orderType==="fee"?"Receipt #:":"Invoice #:"}),n.jsxs("span",{className:"font-medium",children:["#",d.orderType==="fee"?Q.installment?.receiptNumber||"N/A":d.id.slice(-8)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Date:"}),n.jsx("span",{className:"font-medium",children:le(d.orderType==="fee"&&Q.installment?.paidDate||d.date)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Type:"}),n.jsx("span",{className:"font-medium",children:d.type})]})]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Billed To"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Student Name:"}),n.jsx("span",{className:"font-medium",children:Q.student?.name||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Student ID:"}),n.jsx("span",{className:"font-medium",children:Q.student?.studentId||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Phone:"}),n.jsx("span",{className:"font-medium",children:Q.student?.phone||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Email:"}),n.jsx("span",{className:"font-medium",children:Q.student?.email||"N/A"})]})]})]})]}),d.orderType==="fee"?n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Fee Installment Details"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[n.jsx("span",{className:"text-gray-600",children:"Installment Title:"}),n.jsxs("span",{className:"font-medium",children:["Installment 1 (Term:"," ",Q.fee?.term||"N/A",")"]})]}),n.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[n.jsx("span",{className:"text-gray-600",children:"Installment Value:"}),n.jsxs("span",{className:"font-medium",children:["",Q.installment?.amount?.toFixed(2)||"0.00"]})]}),n.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[n.jsx("span",{className:"text-gray-600",children:"Amount Paid:"}),n.jsxs("span",{className:"font-medium",children:["",Q.installment?.paid?.toFixed(2)||"0.00"]})]}),n.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[n.jsx("span",{className:"text-gray-600",children:"Paid Date:"}),n.jsx("span",{className:"font-medium",children:le(Q.installment?.paidDate)})]}),n.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[n.jsx("span",{className:"text-gray-600",children:"Receipt Number:"}),n.jsx("span",{className:"font-medium",children:Q.installment?.receiptNumber||"N/A"})]}),n.jsxs("div",{className:"flex justify-between py-2",children:[n.jsx("span",{className:"text-gray-600",children:"Payment Method:"}),n.jsx("span",{className:"font-medium",children:Q.installment?.paymentMethod||"N/A"})]})]})]}):n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Order Items"}),n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Qty"}),n.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Unit Price"}),n.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Amount"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:d.rawOrder.items?.map((X,xe)=>{const Ne=d.orderType==="book"?X.book?.title:X.uniformItem?.name,ge=d.orderType==="book"?X.price:X.priceAtOrder,pe=X.quantity,Y=d.orderType==="uniform"?` (Size: ${X.size})`:"",Le=(pe*ge).toFixed(2);return n.jsxs("tr",{children:[n.jsxs("td",{className:"px-4 py-3",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ne}),Y&&n.jsx("div",{className:"text-xs text-gray-500",children:Y})]}),n.jsx("td",{className:"px-4 py-3 text-center text-sm text-gray-900",children:pe}),n.jsxs("td",{className:"px-4 py-3 text-right text-sm text-gray-900",children:["",ge?.toFixed(2)||"0.00"]}),n.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-gray-900",children:["",Le]})]},xe)})})]})})]}),n.jsx("div",{className:"border-t pt-4",children:n.jsxs("div",{className:"space-y-2 max-w-sm ml-auto",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Payment Method:"}),n.jsx("span",{className:"font-medium",children:d.orderType==="fee"?Q.installment?.paymentMethod||"N/A":d.rawOrder?.paymentMethod||"N/A"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Status:"}),n.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${Ae(d.status)}`,children:d.status})]}),n.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",style:{color:F},children:[n.jsx("span",{children:d.orderType==="fee"?"Total Amount Paid:":"Total Amount:"}),n.jsxs("span",{children:["",d.total?.toFixed(2)||"0.00"]})]})]})}),n.jsxs("div",{className:"text-center pt-6 border-t",children:[n.jsxs("p",{className:"text-lg font-medium text-gray-700 mb-2",children:["Thank you for your"," ",d.orderType==="fee"?"payment":"purchase","!"]}),n.jsxs("p",{className:"text-sm text-gray-500",children:["This is a computer-generated"," ",d.orderType==="fee"?"receipt":"invoice"," ","and does not require a signature.",n.jsx("br",{}),"For any queries, please contact the school administration."]})]})]})]})})]})}),d&&Q&&n.jsx("div",{style:{display:"none"},ref:q,children:n.jsx("div",{dangerouslySetInnerHTML:{__html:he(d,Q)}})})]})};var EN={},TN={},Ek;function Uae(){return Ek||(Ek=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return a==="__proto__"}t.isUnsafeProperty=r}(TN)),TN}var FN={},Tk;function wU(){return Tk||(Tk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){switch(typeof a){case"number":case"symbol":return!1;case"string":return a.includes(".")||a.includes("[")||a.includes("]")}}t.isDeepKey=r}(FN)),FN}var IN={},Fk;function jU(){return Fk||(Fk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return typeof a=="string"||typeof a=="symbol"?a:Object.is(a?.valueOf?.(),-0)?"-0":String(a)}t.toKey=r}(IN)),IN}var kN={},Ik;function TB(){return Ik||(Ik=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){const s=[],i=a.length;if(i===0)return s;let o=0,l="",c="",d=!1;for(a.charCodeAt(0)===46&&(s.push(""),o++);o<i;){const f=a[o];c?f==="\\"&&o+1<i?(o++,l+=a[o]):f===c?c="":l+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,s.push(l),l=""):l+=f:f==="["?(d=!0,l&&(s.push(l),l="")):f==="."?l&&(s.push(l),l=""):l+=f,o++}return l&&s.push(l),s}t.toPath=r}(kN)),kN}var kk;function FB(){return kk||(kk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=Uae(),a=wU(),s=jU(),i=TB();function o(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(r.isUnsafeProperty(d))return f;const u=c[d];return u===void 0?a.isDeepKey(d)?o(c,i.toPath(d),f):f:u}case"number":case"symbol":{typeof d=="number"&&(d=s.toKey(d));const u=c[d];return u===void 0?f:u}default:{if(Array.isArray(d))return l(c,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),r.isUnsafeProperty(d))return f;const u=c[d];return u===void 0?f:u}}}function l(c,d,f){if(d.length===0)return f;let u=c;for(let m=0;m<d.length;m++){if(u==null||r.isUnsafeProperty(d[m]))return f;u=u[d[m]]}return u===void 0?f:u}t.get=o}(EN)),EN}var _N,_k;function Rae(){return _k||(_k=1,_N=FB().get),_N}var Qae=Rae();const hm=Tc(Qae);var PN={exports:{}},Bs={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pk;function Hae(){if(Pk)return Bs;Pk=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function v(y){if(typeof y=="object"&&y!==null){var b=y.$$typeof;switch(b){case t:switch(y=y.type,y){case a:case i:case s:case d:case f:case p:return y;default:switch(y=y&&y.$$typeof,y){case l:case c:case m:case u:return y;case o:return y;default:return b}}case r:return b}}}return Bs.ContextConsumer=o,Bs.ContextProvider=l,Bs.Element=t,Bs.ForwardRef=c,Bs.Fragment=a,Bs.Lazy=m,Bs.Memo=u,Bs.Portal=r,Bs.Profiler=i,Bs.StrictMode=s,Bs.Suspense=d,Bs.SuspenseList=f,Bs.isContextConsumer=function(y){return v(y)===o},Bs.isContextProvider=function(y){return v(y)===l},Bs.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},Bs.isForwardRef=function(y){return v(y)===c},Bs.isFragment=function(y){return v(y)===a},Bs.isLazy=function(y){return v(y)===m},Bs.isMemo=function(y){return v(y)===u},Bs.isPortal=function(y){return v(y)===r},Bs.isProfiler=function(y){return v(y)===i},Bs.isStrictMode=function(y){return v(y)===s},Bs.isSuspense=function(y){return v(y)===d},Bs.isSuspenseList=function(y){return v(y)===f},Bs.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===a||y===i||y===s||y===d||y===f||typeof y=="object"&&y!==null&&(y.$$typeof===m||y.$$typeof===u||y.$$typeof===l||y.$$typeof===o||y.$$typeof===c||y.$$typeof===g||y.getModuleId!==void 0)},Bs.typeOf=v,Bs}var Ok;function $ae(){return Ok||(Ok=1,PN.exports=Hae()),PN.exports}var zae=$ae(),Ki=t=>t===0?0:t>0?1:-1,Hl=t=>typeof t=="number"&&t!=+t,w0=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Br=t=>(typeof t=="number"||t instanceof Number)&&!Hl(t),Sf=t=>Br(t)||typeof t=="string",Vae=0,Y0=t=>{var r=++Vae;return"".concat(t||"").concat(r)},pl=function(r,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Br(r)&&typeof r!="string")return s;var o;if(w0(r)){if(a==null)return s;var l=r.indexOf("%");o=a*parseFloat(r.slice(0,l))/100}else o=+r;return Hl(o)&&(o=s),i&&a!=null&&o>a&&(o=a),o},NU=t=>{if(!Array.isArray(t))return!1;for(var r=t.length,a={},s=0;s<r;s++)if(!a[t[s]])a[t[s]]=!0;else return!0;return!1},Gh=(t,r)=>Br(t)&&Br(r)?a=>t+a*(r-t):()=>r;function eg(t,r,a){return Br(t)&&Br(r)?t+a*(r-t):r}function SU(t,r,a){if(!(!t||!t.length))return t.find(s=>s&&(typeof r=="function"?r(s):hm(s,r))===a)}var Gs=t=>t===null||typeof t>"u",qy=t=>Gs(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),Kae=["viewBox","children"],Gae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Dk=["points","pathLength"],ON={svg:Kae,polygon:Dk,polyline:Dk},IB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],kB=(t,r)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(w.isValidElement(t)&&(a=t.props),typeof a!="object"&&typeof a!="function")return null;var s={};return Object.keys(a).forEach(i=>{IB.includes(i)&&(s[i]=o=>a[i](a,o))}),s},Wae=(t,r,a)=>s=>(t(r,a,s),null),Yy=(t,r,a)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var s=null;return Object.keys(t).forEach(i=>{var o=t[i];IB.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=Wae(o,r,a))}),s},Lk=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",Mk=null,DN=null,CU=t=>{if(t===Mk&&Array.isArray(DN))return DN;var r=[];return w.Children.forEach(t,a=>{Gs(a)||(zae.isFragment(a)?r=r.concat(CU(a.props.children)):r.push(a))}),DN=r,Mk=t,r};function Xy(t,r){var a=[],s=[];return Array.isArray(r)?s=r.map(i=>Lk(i)):s=[Lk(r)],CU(t).forEach(i=>{var o=hm(i,"type.displayName")||hm(i,"type.name");s.indexOf(o)!==-1&&a.push(i)}),a}var BU=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,qae=(t,r,a,s)=>{var i,o=(i=s&&ON?.[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||typeof t!="function"&&(s&&o.includes(r)||Gae.includes(r))||a&&IB.includes(r)},Pa=(t,r,a)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(w.isValidElement(t)&&(s=t.props),typeof s!="object"&&typeof s!="function")return null;var i={};return Object.keys(s).forEach(o=>{var l;qae((l=s)===null||l===void 0?void 0:l[o],o,r,a)&&(i[o]=s[o])}),i},Yae=["children","width","height","viewBox","className","style","title","desc"];function EC(){return EC=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},EC.apply(null,arguments)}function Xae(t,r){if(t==null)return{};var a,s,i=Jae(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function Jae(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var _B=w.forwardRef((t,r)=>{var{children:a,width:s,height:i,viewBox:o,className:l,style:c,title:d,desc:f}=t,u=Xae(t,Yae),m=o||{width:s,height:i,x:0,y:0},p=Mt("recharts-surface",l);return w.createElement("svg",EC({},Pa(u,!0,"svg"),{className:p,width:s,height:i,style:c,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:r}),w.createElement("title",null,d),w.createElement("desc",null,f),a)}),Zae=["children","className"];function TC(){return TC=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},TC.apply(null,arguments)}function ese(t,r){if(t==null)return{};var a,s,i=tse(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function tse(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var Gn=w.forwardRef((t,r)=>{var{children:a,className:s}=t,i=ese(t,Zae),o=Mt("recharts-layer",s);return w.createElement("g",TC({className:o},Pa(i,!0),{ref:r}),a)}),EU=w.createContext(null),rse=()=>w.useContext(EU);function Ks(t){return function(){return t}}const TU=Math.cos,I2=Math.sin,Tu=Math.sqrt,k2=Math.PI,o4=2*k2,FC=Math.PI,IC=2*FC,p0=1e-6,ase=IC-p0;function FU(t){this._+=t[0];for(let r=1,a=t.length;r<a;++r)this._+=arguments[r]+t[r]}function sse(t){let r=Math.floor(t);if(!(r>=0))throw new Error(`invalid digits: ${t}`);if(r>15)return FU;const a=10**r;return function(s){this._+=s[0];for(let i=1,o=s.length;i<o;++i)this._+=Math.round(arguments[i]*a)/a+s[i]}}class nse{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?FU:sse(r)}moveTo(r,a){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,a){this._append`L${this._x1=+r},${this._y1=+a}`}quadraticCurveTo(r,a,s,i){this._append`Q${+r},${+a},${this._x1=+s},${this._y1=+i}`}bezierCurveTo(r,a,s,i,o,l){this._append`C${+r},${+a},${+s},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(r,a,s,i,o){if(r=+r,a=+a,s=+s,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,c=this._y1,d=s-r,f=i-a,u=l-r,m=c-a,p=u*u+m*m;if(this._x1===null)this._append`M${this._x1=r},${this._y1=a}`;else if(p>p0)if(!(Math.abs(m*d-f*u)>p0)||!o)this._append`L${this._x1=r},${this._y1=a}`;else{let g=s-l,v=i-c,y=d*d+f*f,b=g*g+v*v,j=Math.sqrt(y),N=Math.sqrt(p),S=o*Math.tan((FC-Math.acos((y+p-b)/(2*j*N)))/2),B=S/N,I=S/j;Math.abs(B-1)>p0&&this._append`L${r+B*u},${a+B*m}`,this._append`A${o},${o},0,0,${+(m*g>u*v)},${this._x1=r+I*d},${this._y1=a+I*f}`}}arc(r,a,s,i,o,l){if(r=+r,a=+a,s=+s,l=!!l,s<0)throw new Error(`negative radius: ${s}`);let c=s*Math.cos(i),d=s*Math.sin(i),f=r+c,u=a+d,m=1^l,p=l?i-o:o-i;this._x1===null?this._append`M${f},${u}`:(Math.abs(this._x1-f)>p0||Math.abs(this._y1-u)>p0)&&this._append`L${f},${u}`,s&&(p<0&&(p=p%IC+IC),p>ase?this._append`A${s},${s},0,1,${m},${r-c},${a-d}A${s},${s},0,1,${m},${this._x1=f},${this._y1=u}`:p>p0&&this._append`A${s},${s},0,${+(p>=FC)},${m},${this._x1=r+s*Math.cos(o)},${this._y1=a+s*Math.sin(o)}`)}rect(r,a,s,i){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+a}h${s=+s}v${+i}h${-s}Z`}toString(){return this._}}function PB(t){let r=3;return t.digits=function(a){if(!arguments.length)return r;if(a==null)r=null;else{const s=Math.floor(a);if(!(s>=0))throw new RangeError(`invalid digits: ${a}`);r=s}return t},()=>new nse(r)}function OB(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function IU(t){this._context=t}IU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:this._context.lineTo(t,r);break}}};function l4(t){return new IU(t)}function kU(t){return t[0]}function _U(t){return t[1]}function PU(t,r){var a=Ks(!0),s=null,i=l4,o=null,l=PB(c);t=typeof t=="function"?t:t===void 0?kU:Ks(t),r=typeof r=="function"?r:r===void 0?_U:Ks(r);function c(d){var f,u=(d=OB(d)).length,m,p=!1,g;for(s==null&&(o=i(g=l())),f=0;f<=u;++f)!(f<u&&a(m=d[f],f,d))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+t(m,f,d),+r(m,f,d));if(g)return o=null,g+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Ks(+d),c):t},c.y=function(d){return arguments.length?(r=typeof d=="function"?d:Ks(+d),c):r},c.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Ks(!!d),c):a},c.curve=function(d){return arguments.length?(i=d,s!=null&&(o=i(s)),c):i},c.context=function(d){return arguments.length?(d==null?s=o=null:o=i(s=d),c):s},c}function gb(t,r,a){var s=null,i=Ks(!0),o=null,l=l4,c=null,d=PB(f);t=typeof t=="function"?t:t===void 0?kU:Ks(+t),r=typeof r=="function"?r:Ks(r===void 0?0:+r),a=typeof a=="function"?a:a===void 0?_U:Ks(+a);function f(m){var p,g,v,y=(m=OB(m)).length,b,j=!1,N,S=new Array(y),B=new Array(y);for(o==null&&(c=l(N=d())),p=0;p<=y;++p){if(!(p<y&&i(b=m[p],p,m))===j)if(j=!j)g=p,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),v=p-1;v>=g;--v)c.point(S[v],B[v]);c.lineEnd(),c.areaEnd()}j&&(S[p]=+t(b,p,m),B[p]=+r(b,p,m),c.point(s?+s(b,p,m):S[p],a?+a(b,p,m):B[p]))}if(N)return c=null,N+""||null}function u(){return PU().defined(i).curve(l).context(o)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:Ks(+m),s=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Ks(+m),f):t},f.x1=function(m){return arguments.length?(s=m==null?null:typeof m=="function"?m:Ks(+m),f):s},f.y=function(m){return arguments.length?(r=typeof m=="function"?m:Ks(+m),a=null,f):r},f.y0=function(m){return arguments.length?(r=typeof m=="function"?m:Ks(+m),f):r},f.y1=function(m){return arguments.length?(a=m==null?null:typeof m=="function"?m:Ks(+m),f):a},f.lineX0=f.lineY0=function(){return u().x(t).y(r)},f.lineY1=function(){return u().x(t).y(a)},f.lineX1=function(){return u().x(s).y(r)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Ks(!!m),f):i},f.curve=function(m){return arguments.length?(l=m,o!=null&&(c=l(o)),f):l},f.context=function(m){return arguments.length?(m==null?o=c=null:c=l(o=m),f):o},f}class OU{constructor(r,a){this._context=r,this._x=a}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,a){switch(r=+r,a=+a,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,a,r,a):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+a)/2,r,this._y0,r,a);break}}this._x0=r,this._y0=a}}function ise(t){return new OU(t,!0)}function ose(t){return new OU(t,!1)}const DB={draw(t,r){const a=Tu(r/k2);t.moveTo(a,0),t.arc(0,0,a,0,o4)}},lse={draw(t,r){const a=Tu(r/5)/2;t.moveTo(-3*a,-a),t.lineTo(-a,-a),t.lineTo(-a,-3*a),t.lineTo(a,-3*a),t.lineTo(a,-a),t.lineTo(3*a,-a),t.lineTo(3*a,a),t.lineTo(a,a),t.lineTo(a,3*a),t.lineTo(-a,3*a),t.lineTo(-a,a),t.lineTo(-3*a,a),t.closePath()}},DU=Tu(1/3),cse=DU*2,dse={draw(t,r){const a=Tu(r/cse),s=a*DU;t.moveTo(0,-a),t.lineTo(s,0),t.lineTo(0,a),t.lineTo(-s,0),t.closePath()}},use={draw(t,r){const a=Tu(r),s=-a/2;t.rect(s,s,a,a)}},fse=.8908130915292852,LU=I2(k2/10)/I2(7*k2/10),Ase=I2(o4/10)*LU,hse=-TU(o4/10)*LU,mse={draw(t,r){const a=Tu(r*fse),s=Ase*a,i=hse*a;t.moveTo(0,-a),t.lineTo(s,i);for(let o=1;o<5;++o){const l=o4*o/5,c=TU(l),d=I2(l);t.lineTo(d*a,-c*a),t.lineTo(c*s-d*i,d*s+c*i)}t.closePath()}},LN=Tu(3),pse={draw(t,r){const a=-Tu(r/(LN*3));t.moveTo(0,a*2),t.lineTo(-LN*a,-a),t.lineTo(LN*a,-a),t.closePath()}},sd=-.5,nd=Tu(3)/2,kC=1/Tu(12),gse=(kC/2+1)*3,xse={draw(t,r){const a=Tu(r/gse),s=a/2,i=a*kC,o=s,l=a*kC+a,c=-o,d=l;t.moveTo(s,i),t.lineTo(o,l),t.lineTo(c,d),t.lineTo(sd*s-nd*i,nd*s+sd*i),t.lineTo(sd*o-nd*l,nd*o+sd*l),t.lineTo(sd*c-nd*d,nd*c+sd*d),t.lineTo(sd*s+nd*i,sd*i-nd*s),t.lineTo(sd*o+nd*l,sd*l-nd*o),t.lineTo(sd*c+nd*d,sd*d-nd*c),t.closePath()}};function yse(t,r){let a=null,s=PB(i);t=typeof t=="function"?t:Ks(t||DB),r=typeof r=="function"?r:Ks(r===void 0?64:+r);function i(){let o;if(a||(a=o=s()),t.apply(this,arguments).draw(a,+r.apply(this,arguments)),o)return a=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ks(o),i):t},i.size=function(o){return arguments.length?(r=typeof o=="function"?o:Ks(+o),i):r},i.context=function(o){return arguments.length?(a=o??null,i):a},i}function _2(){}function P2(t,r,a){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+r)/6,(t._y0+4*t._y1+a)/6)}function MU(t){this._context=t}MU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:P2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:P2(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function vse(t){return new MU(t)}function UU(t){this._context=t}UU.prototype={areaStart:_2,areaEnd:_2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._x2=t,this._y2=r;break;case 1:this._point=2,this._x3=t,this._y3=r;break;case 2:this._point=3,this._x4=t,this._y4=r,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+r)/6);break;default:P2(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function bse(t){return new UU(t)}function RU(t){this._context=t}RU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+t)/6,s=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(a,s):this._context.moveTo(a,s);break;case 3:this._point=4;default:P2(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function wse(t){return new RU(t)}function QU(t){this._context=t}QU.prototype={areaStart:_2,areaEnd:_2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,r){t=+t,r=+r,this._point?this._context.lineTo(t,r):(this._point=1,this._context.moveTo(t,r))}};function jse(t){return new QU(t)}function Uk(t){return t<0?-1:1}function Rk(t,r,a){var s=t._x1-t._x0,i=r-t._x1,o=(t._y1-t._y0)/(s||i<0&&-0),l=(a-t._y1)/(i||s<0&&-0),c=(o*i+l*s)/(s+i);return(Uk(o)+Uk(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(c))||0}function Qk(t,r){var a=t._x1-t._x0;return a?(3*(t._y1-t._y0)/a-r)/2:r}function MN(t,r,a){var s=t._x0,i=t._y0,o=t._x1,l=t._y1,c=(o-s)/3;t._context.bezierCurveTo(s+c,i+c*r,o-c,l-c*a,o,l)}function O2(t){this._context=t}O2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:MN(this,this._t0,Qk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){var a=NaN;if(t=+t,r=+r,!(t===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;break;case 2:this._point=3,MN(this,Qk(this,a=Rk(this,t,r)),a);break;default:MN(this,this._t0,a=Rk(this,t,r));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r,this._t0=a}}};function HU(t){this._context=new $U(t)}(HU.prototype=Object.create(O2.prototype)).point=function(t,r){O2.prototype.point.call(this,r,t)};function $U(t){this._context=t}$U.prototype={moveTo:function(t,r){this._context.moveTo(r,t)},closePath:function(){this._context.closePath()},lineTo:function(t,r){this._context.lineTo(r,t)},bezierCurveTo:function(t,r,a,s,i,o){this._context.bezierCurveTo(r,t,s,a,o,i)}};function Nse(t){return new O2(t)}function Sse(t){return new HU(t)}function zU(t){this._context=t}zU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,r=this._y,a=t.length;if(a)if(this._line?this._context.lineTo(t[0],r[0]):this._context.moveTo(t[0],r[0]),a===2)this._context.lineTo(t[1],r[1]);else for(var s=Hk(t),i=Hk(r),o=0,l=1;l<a;++o,++l)this._context.bezierCurveTo(s[0][o],i[0][o],s[1][o],i[1][o],t[l],r[l]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,r){this._x.push(+t),this._y.push(+r)}};function Hk(t){var r,a=t.length-1,s,i=new Array(a),o=new Array(a),l=new Array(a);for(i[0]=0,o[0]=2,l[0]=t[0]+2*t[1],r=1;r<a-1;++r)i[r]=1,o[r]=4,l[r]=4*t[r]+2*t[r+1];for(i[a-1]=2,o[a-1]=7,l[a-1]=8*t[a-1]+t[a],r=1;r<a;++r)s=i[r]/o[r-1],o[r]-=s,l[r]-=s*l[r-1];for(i[a-1]=l[a-1]/o[a-1],r=a-2;r>=0;--r)i[r]=(l[r]-i[r+1])/o[r];for(o[a-1]=(t[a]+i[a-1])/2,r=0;r<a-1;++r)o[r]=2*t[r+1]-i[r+1];return[i,o]}function Cse(t){return new zU(t)}function c4(t,r){this._context=t,this._t=r}c4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(t,r);else{var a=this._x*(1-this._t)+t*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,r)}break}}this._x=t,this._y=r}};function Bse(t){return new c4(t,.5)}function Ese(t){return new c4(t,0)}function Tse(t){return new c4(t,1)}function _g(t,r){if((l=t.length)>1)for(var a=1,s,i,o=t[r[0]],l,c=o.length;a<l;++a)for(i=o,o=t[r[a]],s=0;s<c;++s)o[s][1]+=o[s][0]=isNaN(i[s][1])?i[s][0]:i[s][1]}function _C(t){for(var r=t.length,a=new Array(r);--r>=0;)a[r]=r;return a}function Fse(t,r){return t[r]}function Ise(t){const r=[];return r.key=t,r}function kse(){var t=Ks([]),r=_C,a=_g,s=Fse;function i(o){var l=Array.from(t.apply(this,arguments),Ise),c,d=l.length,f=-1,u;for(const m of o)for(c=0,++f;c<d;++c)(l[c][f]=[0,+s(m,l[c].key,f,o)]).data=m;for(c=0,u=OB(r(l));c<d;++c)l[u[c]].index=c;return a(l,u),l}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ks(Array.from(o)),i):t},i.value=function(o){return arguments.length?(s=typeof o=="function"?o:Ks(+o),i):s},i.order=function(o){return arguments.length?(r=o==null?_C:typeof o=="function"?o:Ks(Array.from(o)),i):r},i.offset=function(o){return arguments.length?(a=o??_g,i):a},i}function _se(t,r){if((s=t.length)>0){for(var a,s,i=0,o=t[0].length,l;i<o;++i){for(l=a=0;a<s;++a)l+=t[a][i][1]||0;if(l)for(a=0;a<s;++a)t[a][i][1]/=l}_g(t,r)}}function Pse(t,r){if((i=t.length)>0){for(var a=0,s=t[r[0]],i,o=s.length;a<o;++a){for(var l=0,c=0;l<i;++l)c+=t[l][a][1]||0;s[a][1]+=s[a][0]=-c/2}_g(t,r)}}function Ose(t,r){if(!(!((l=t.length)>0)||!((o=(i=t[r[0]]).length)>0))){for(var a=0,s=1,i,o,l;s<o;++s){for(var c=0,d=0,f=0;c<l;++c){for(var u=t[r[c]],m=u[s][1]||0,p=u[s-1][1]||0,g=(m-p)/2,v=0;v<c;++v){var y=t[r[v]],b=y[s][1]||0,j=y[s-1][1]||0;g+=b-j}d+=m,f+=g*m}i[s-1][1]+=i[s-1][0]=a,d&&(a-=f/d)}i[s-1][1]+=i[s-1][0]=a,_g(t,r)}}var Dse=["type","size","sizeType"];function PC(){return PC=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},PC.apply(null,arguments)}function $k(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function zk(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?$k(Object(a),!0).forEach(function(s){Lse(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):$k(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Lse(t,r,a){return(r=Mse(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Mse(t){var r=Use(t,"string");return typeof r=="symbol"?r:r+""}function Use(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Rse(t,r){if(t==null)return{};var a,s,i=Qse(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function Qse(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var VU={symbolCircle:DB,symbolCross:lse,symbolDiamond:dse,symbolSquare:use,symbolStar:mse,symbolTriangle:pse,symbolWye:xse},Hse=Math.PI/180,$se=t=>{var r="symbol".concat(qy(t));return VU[r]||DB},zse=(t,r,a)=>{if(r==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*Hse;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.tan(s)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Vse=(t,r)=>{VU["symbol".concat(qy(t))]=r},LB=t=>{var{type:r="circle",size:a=64,sizeType:s="area"}=t,i=Rse(t,Dse),o=zk(zk({},i),{},{type:r,size:a,sizeType:s}),l=()=>{var m=$se(r),p=yse().type(m).size(zse(a,s,r));return p()},{className:c,cx:d,cy:f}=o,u=Pa(o,!0);return d===+d&&f===+f&&a===+a?w.createElement("path",PC({},u,{className:Mt("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(f,")"),d:l()})):null};LB.registerSymbol=Vse;function OC(){return OC=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},OC.apply(null,arguments)}function Vk(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function Kse(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?Vk(Object(a),!0).forEach(function(s){MB(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Vk(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function MB(t,r,a){return(r=Gse(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Gse(t){var r=Wse(t,"string");return typeof r=="symbol"?r:r+""}function Wse(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var id=32;class UB extends w.PureComponent{renderIcon(r,a){var{inactiveColor:s}=this.props,i=id/2,o=id/6,l=id/3,c=r.inactive?s:r.color,d=a??r.type;if(d==="none")return null;if(d==="plainline")return w.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:id,y2:i,className:"recharts-legend-icon"});if(d==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(id,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return w.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(id/8,"h").concat(id,"v").concat(id*3/4,"h").concat(-id,"z"),className:"recharts-legend-icon"});if(w.isValidElement(r.legendIcon)){var f=Kse({},r);return delete f.legendIcon,w.cloneElement(r.legendIcon,f)}return w.createElement(LB,{fill:c,cx:i,cy:i,size:id,sizeType:"diameter",type:d})}renderItems(){var{payload:r,iconSize:a,layout:s,formatter:i,inactiveColor:o,iconType:l}=this.props,c={x:0,y:0,width:id,height:id},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map((u,m)=>{var p=u.formatter||i,g=Mt({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:u.inactive});if(u.type==="none")return null;var v=u.inactive?o:u.color,y=p?p(u.value,u,m):u.value;return w.createElement("li",OC({className:g,style:d,key:"legend-item-".concat(m)},Yy(this.props,u,m)),w.createElement(_B,{width:a,height:a,viewBox:c,style:f,"aria-label":"".concat(y," legend icon")},this.renderIcon(u,l)),w.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},y))})}render(){var{payload:r,layout:a,align:s}=this.props;if(!r||!r.length)return null;var i={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}MB(UB,"displayName","Legend");MB(UB,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var UN={},RN={},Kk;function qse(){return Kk||(Kk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a,s){const i=new Map;for(let o=0;o<a.length;o++){const l=a[o],c=s(l);i.has(c)||i.set(c,l)}return Array.from(i.values())}t.uniqBy=r}(RN)),RN}var QN={},Gk;function KU(){return Gk||(Gk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return a}t.identity=r}(QN)),QN}var HN={},$N={},zN={},Wk;function Yse(){return Wk||(Wk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return Number.isSafeInteger(a)&&a>=0}t.isLength=r}(zN)),zN}var qk;function RB(){return qk||(qk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=Yse();function a(s){return s!=null&&typeof s!="function"&&r.isLength(s.length)}t.isArrayLike=a}($N)),$N}var VN={},Yk;function Xse(){return Yk||(Yk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return typeof a=="object"&&a!==null}t.isObjectLike=r}(VN)),VN}var Xk;function Jse(){return Xk||(Xk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=RB(),a=Xse();function s(i){return a.isObjectLike(i)&&r.isArrayLike(i)}t.isArrayLikeObject=s}(HN)),HN}var KN={},GN={},Jk;function Zse(){return Jk||(Jk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=FB();function a(s){return function(i){return r.get(i,s)}}t.property=a}(GN)),GN}var WN={},qN={},YN={},XN={},Zk;function GU(){return Zk||(Zk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return a!==null&&(typeof a=="object"||typeof a=="function")}t.isObject=r}(XN)),XN}var JN={},e_;function WU(){return e_||(e_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return a==null||typeof a!="object"&&typeof a!="function"}t.isPrimitive=r}(JN)),JN}var ZN={},t_;function QB(){return t_||(t_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a,s){return a===s||Number.isNaN(a)&&Number.isNaN(s)}t.eq=r}(ZN)),ZN}var r_;function ene(){return r_||(r_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=HB(),a=GU(),s=WU(),i=QB();function o(m,p,g){return typeof g!="function"?r.isMatch(m,p):l(m,p,function v(y,b,j,N,S,B){const I=g(y,b,j,N,S,B);return I!==void 0?!!I:l(y,b,v,B)},new Map)}function l(m,p,g,v){if(p===m)return!0;switch(typeof p){case"object":return c(m,p,g,v);case"function":return Object.keys(p).length>0?l(m,{...p},g,v):i.eq(m,p);default:return a.isObject(m)?typeof p=="string"?p==="":!0:i.eq(m,p)}}function c(m,p,g,v){if(p==null)return!0;if(Array.isArray(p))return f(m,p,g,v);if(p instanceof Map)return d(m,p,g,v);if(p instanceof Set)return u(m,p,g,v);const y=Object.keys(p);if(m==null)return y.length===0;if(y.length===0)return!0;if(v&&v.has(p))return v.get(p)===m;v&&v.set(p,m);try{for(let b=0;b<y.length;b++){const j=y[b];if(!s.isPrimitive(m)&&!(j in m)||p[j]===void 0&&m[j]!==void 0||p[j]===null&&m[j]!==null||!g(m[j],p[j],j,m,p,v))return!1}return!0}finally{v&&v.delete(p)}}function d(m,p,g,v){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[y,b]of p.entries()){const j=m.get(y);if(g(j,b,y,m,p,v)===!1)return!1}return!0}function f(m,p,g,v){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const y=new Set;for(let b=0;b<p.length;b++){const j=p[b];let N=!1;for(let S=0;S<m.length;S++){if(y.has(S))continue;const B=m[S];let I=!1;if(g(B,j,b,m,p,v)&&(I=!0),I){y.add(S),N=!0;break}}if(!N)return!1}return!0}function u(m,p,g,v){return p.size===0?!0:m instanceof Set?f([...m],[...p],g,v):!1}t.isMatchWith=o,t.isSetMatch=u}(YN)),YN}var a_;function HB(){return a_||(a_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=ene();function a(s,i){return r.isMatchWith(s,i,()=>{})}t.isMatch=a}(qN)),qN}var eS={},tS={},rS={},s_;function qU(){return s_||(s_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return Object.getOwnPropertySymbols(a).filter(s=>Object.prototype.propertyIsEnumerable.call(a,s))}t.getSymbols=r}(rS)),rS}var aS={},n_;function $B(){return n_||(n_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(a)}t.getTag=r}(aS)),aS}var sS={},i_;function zB(){return i_||(i_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r="[object RegExp]",a="[object String]",s="[object Number]",i="[object Boolean]",o="[object Arguments]",l="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",u="[object Array]",m="[object Function]",p="[object ArrayBuffer]",g="[object Object]",v="[object Error]",y="[object DataView]",b="[object Uint8Array]",j="[object Uint8ClampedArray]",N="[object Uint16Array]",S="[object Uint32Array]",B="[object BigUint64Array]",I="[object Int8Array]",F="[object Int16Array]",O="[object Int32Array]",k="[object BigInt64Array]",V="[object Float32Array]",Q="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=p,t.arrayTag=u,t.bigInt64ArrayTag=k,t.bigUint64ArrayTag=B,t.booleanTag=i,t.dataViewTag=y,t.dateTag=c,t.errorTag=v,t.float32ArrayTag=V,t.float64ArrayTag=Q,t.functionTag=m,t.int16ArrayTag=F,t.int32ArrayTag=O,t.int8ArrayTag=I,t.mapTag=d,t.numberTag=s,t.objectTag=g,t.regexpTag=r,t.setTag=f,t.stringTag=a,t.symbolTag=l,t.uint16ArrayTag=N,t.uint32ArrayTag=S,t.uint8ArrayTag=b,t.uint8ClampedArrayTag=j}(sS)),sS}var nS={},o_;function tne(){return o_||(o_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}t.isTypedArray=r}(nS)),nS}var l_;function YU(){return l_||(l_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=qU(),a=$B(),s=zB(),i=WU(),o=tne();function l(u,m){return c(u,void 0,u,new Map,m)}function c(u,m,p,g=new Map,v=void 0){const y=v?.(u,m,p,g);if(y!=null)return y;if(i.isPrimitive(u))return u;if(g.has(u))return g.get(u);if(Array.isArray(u)){const b=new Array(u.length);g.set(u,b);for(let j=0;j<u.length;j++)b[j]=c(u[j],j,p,g,v);return Object.hasOwn(u,"index")&&(b.index=u.index),Object.hasOwn(u,"input")&&(b.input=u.input),b}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const b=new RegExp(u.source,u.flags);return b.lastIndex=u.lastIndex,b}if(u instanceof Map){const b=new Map;g.set(u,b);for(const[j,N]of u)b.set(j,c(N,j,p,g,v));return b}if(u instanceof Set){const b=new Set;g.set(u,b);for(const j of u)b.add(c(j,void 0,p,g,v));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(o.isTypedArray(u)){const b=new(Object.getPrototypeOf(u)).constructor(u.length);g.set(u,b);for(let j=0;j<u.length;j++)b[j]=c(u[j],j,p,g,v);return b}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const b=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return g.set(u,b),d(b,u,p,g,v),b}if(typeof File<"u"&&u instanceof File){const b=new File([u],u.name,{type:u.type});return g.set(u,b),d(b,u,p,g,v),b}if(u instanceof Blob){const b=new Blob([u],{type:u.type});return g.set(u,b),d(b,u,p,g,v),b}if(u instanceof Error){const b=new u.constructor;return g.set(u,b),b.message=u.message,b.name=u.name,b.stack=u.stack,b.cause=u.cause,d(b,u,p,g,v),b}if(typeof u=="object"&&f(u)){const b=Object.create(Object.getPrototypeOf(u));return g.set(u,b),d(b,u,p,g,v),b}return u}function d(u,m,p=u,g,v){const y=[...Object.keys(m),...r.getSymbols(m)];for(let b=0;b<y.length;b++){const j=y[b],N=Object.getOwnPropertyDescriptor(u,j);(N==null||N.writable)&&(u[j]=c(m[j],j,p,g,v))}}function f(u){switch(a.getTag(u)){case s.argumentsTag:case s.arrayTag:case s.arrayBufferTag:case s.dataViewTag:case s.booleanTag:case s.dateTag:case s.float32ArrayTag:case s.float64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.mapTag:case s.numberTag:case s.objectTag:case s.regexpTag:case s.setTag:case s.stringTag:case s.symbolTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=d}(tS)),tS}var c_;function rne(){return c_||(c_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=YU();function a(s){return r.cloneDeepWithImpl(s,void 0,s,new Map,void 0)}t.cloneDeep=a}(eS)),eS}var d_;function ane(){return d_||(d_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=HB(),a=rne();function s(i){return i=a.cloneDeep(i),o=>r.isMatch(o,i)}t.matches=s}(WN)),WN}var iS={},oS={},lS={},u_;function sne(){return u_||(u_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=YU(),a=zB();function s(i,o){return r.cloneDeepWith(i,(l,c,d,f)=>{const u=o?.(l,c,d,f);if(u!=null)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case a.numberTag:case a.stringTag:case a.booleanTag:{const m=new i.constructor(i?.valueOf());return r.copyProperties(m,i),m}case a.argumentsTag:{const m={};return r.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}t.cloneDeepWith=s}(lS)),lS}var f_;function nne(){return f_||(f_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=sne();function a(s){return r.cloneDeepWith(s)}t.cloneDeep=a}(oS)),oS}var cS={},dS={},A_;function XU(){return A_||(A_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=/^(?:0|[1-9]\d*)$/;function a(s,i=Number.MAX_SAFE_INTEGER){switch(typeof s){case"number":return Number.isInteger(s)&&s>=0&&s<i;case"symbol":return!1;case"string":return r.test(s)}}t.isIndex=a}(dS)),dS}var uS={},h_;function ine(){return h_||(h_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=$B();function a(s){return s!==null&&typeof s=="object"&&r.getTag(s)==="[object Arguments]"}t.isArguments=a}(uS)),uS}var m_;function one(){return m_||(m_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=wU(),a=XU(),s=ine(),i=TB();function o(l,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&r.isDeepKey(c)&&l?.[c]==null?d=i.toPath(c):d=[c],d.length===0)return!1;let f=l;for(let u=0;u<d.length;u++){const m=d[u];if((f==null||!Object.hasOwn(f,m))&&!((Array.isArray(f)||s.isArguments(f))&&a.isIndex(m)&&m<f.length))return!1;f=f[m]}return!0}t.has=o}(cS)),cS}var p_;function lne(){return p_||(p_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=HB(),a=jU(),s=nne(),i=FB(),o=one();function l(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=a.toKey(c);break}}return d=s.cloneDeep(d),function(f){const u=i.get(f,c);return u===void 0?o.has(f,c):d===void 0?u===void 0:r.isMatch(u,d)}}t.matchesProperty=l}(iS)),iS}var g_;function cne(){return g_||(g_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=KU(),a=Zse(),s=ane(),i=lne();function o(l){if(l==null)return r.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):s.matches(l);case"string":case"symbol":case"number":return a.property(l)}}t.iteratee=o}(KN)),KN}var x_;function dne(){return x_||(x_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=qse(),a=KU(),s=Jse(),i=cne();function o(l,c=a.identity){return s.isArrayLikeObject(l)?r.uniqBy(Array.from(l),i.iteratee(c)):[]}t.uniqBy=o}(UN)),UN}var fS,y_;function une(){return y_||(y_=1,fS=dne().uniqBy),fS}var fne=une();const v_=Tc(fne);function JU(t,r,a){return r===!0?v_(t,a):typeof r=="function"?v_(t,r):t}var AS={exports:{}},hS={},mS={exports:{}},pS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function Ane(){if(b_)return pS;b_=1;var t=zg();function r(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var a=typeof Object.is=="function"?Object.is:r,s=t.useState,i=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function c(m,p){var g=p(),v=s({inst:{value:g,getSnapshot:p}}),y=v[0].inst,b=v[1];return o(function(){y.value=g,y.getSnapshot=p,d(y)&&b({inst:y})},[m,g,p]),i(function(){return d(y)&&b({inst:y}),m(function(){d(y)&&b({inst:y})})},[m]),l(g),g}function d(m){var p=m.getSnapshot;m=m.value;try{var g=p();return!a(m,g)}catch{return!0}}function f(m,p){return p()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return pS.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,pS}var w_;function hne(){return w_||(w_=1,mS.exports=Ane()),mS.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function mne(){if(j_)return hS;j_=1;var t=zg(),r=hne();function a(f,u){return f===u&&(f!==0||1/f===1/u)||f!==f&&u!==u}var s=typeof Object.is=="function"?Object.is:a,i=r.useSyncExternalStore,o=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return hS.useSyncExternalStoreWithSelector=function(f,u,m,p,g){var v=o(null);if(v.current===null){var y={hasValue:!1,value:null};v.current=y}else y=v.current;v=c(function(){function j(F){if(!N){if(N=!0,S=F,F=p(F),g!==void 0&&y.hasValue){var O=y.value;if(g(O,F))return B=O}return B=F}if(O=B,s(S,F))return O;var k=p(F);return g!==void 0&&g(O,k)?(S=F,O):(S=F,B=k)}var N=!1,S,B,I=m===void 0?null:m;return[function(){return j(u())},I===null?void 0:function(){return j(I())}]},[u,m,p,g]);var b=i(f,v[0],v[1]);return l(function(){y.hasValue=!0,y.value=b},[b]),d(b),b},hS}var N_;function pne(){return N_||(N_=1,AS.exports=mne()),AS.exports}var gne=pne(),VB=w.createContext(null),xne=t=>t,mn=()=>{var t=w.useContext(VB);return t?t.store.dispatch:xne},e2=()=>{},yne=()=>e2,vne=(t,r)=>t===r;function Lr(t){var r=w.useContext(VB);return gne.useSyncExternalStoreWithSelector(r?r.subscription.addNestedSub:yne,r?r.store.getState:e2,r?r.store.getState:e2,r?t:e2,vne)}var gS={},xS={},yS={},S_;function bne(){return S_||(S_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(s){return typeof s=="symbol"?1:s===null?2:s===void 0?3:s!==s?4:0}const a=(s,i,o)=>{if(s!==i){const l=r(s),c=r(i);if(l===c&&l===0){if(s<i)return o==="desc"?1:-1;if(s>i)return o==="desc"?-1:1}return o==="desc"?c-l:l-c}return 0};t.compareValues=a}(yS)),yS}var vS={},bS={},C_;function ZU(){return C_||(C_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return typeof a=="symbol"||a instanceof Symbol}t.isSymbol=r}(bS)),bS}var B_;function wne(){return B_||(B_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=ZU(),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function i(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||r.isSymbol(o)?!0:typeof o=="string"&&(s.test(o)||!a.test(o))||l!=null&&Object.hasOwn(l,o)}t.isKey=i}(vS)),vS}var E_;function jne(){return E_||(E_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=bne(),a=wne(),s=TB();function i(o,l,c,d){if(o==null)return[];c=d?void 0:c,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(g=>String(g));const f=(g,v)=>{let y=g;for(let b=0;b<v.length&&y!=null;++b)y=y[v[b]];return y},u=(g,v)=>v==null||g==null?v:typeof g=="object"&&"key"in g?Object.hasOwn(v,g.key)?v[g.key]:f(v,g.path):typeof g=="function"?g(v):Array.isArray(g)?f(v,g):typeof v=="object"?v[g]:v,m=l.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||a.isKey(g)?g:{key:g,path:s.toPath(g)}));return o.map(g=>({original:g,criteria:m.map(v=>u(v,g))})).slice().sort((g,v)=>{for(let y=0;y<m.length;y++){const b=r.compareValues(g.criteria[y],v.criteria[y],c[y]);if(b!==0)return b}return 0}).map(g=>g.original)}t.orderBy=i}(xS)),xS}var wS={},T_;function Nne(){return T_||(T_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a,s=1){const i=[],o=Math.floor(s),l=(c,d)=>{for(let f=0;f<c.length;f++){const u=c[f];Array.isArray(u)&&d<o?l(u,d+1):i.push(u)}};return l(a,0),i}t.flatten=r}(wS)),wS}var jS={},F_;function eR(){return F_||(F_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=XU(),a=RB(),s=GU(),i=QB();function o(l,c,d){return s.isObject(d)&&(typeof c=="number"&&a.isArrayLike(d)&&r.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?i.eq(d[c],l):!1}t.isIterateeCall=o}(jS)),jS}var I_;function Sne(){return I_||(I_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=jne(),a=Nne(),s=eR();function i(o,...l){const c=l.length;return c>1&&s.isIterateeCall(o,l[0],l[1])?l=[]:c>2&&s.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),r.orderBy(o,a.flatten(l),["asc"])}t.sortBy=i}(gS)),gS}var NS,k_;function Cne(){return k_||(k_=1,NS=Sne().sortBy),NS}var Bne=Cne();const d4=Tc(Bne);var tR=t=>t.legend.settings,Ene=t=>t.legend.size,Tne=t=>t.legend.payload,Fne=Ut([Tne,tR],(t,r)=>{var{itemSorter:a}=r,s=t.flat(1);return a?d4(s,a):s});function Ine(){return Lr(Fne)}var xb=1;function rR(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[r,a]=w.useState({height:0,left:0,top:0,width:0}),s=w.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-r.height)>xb||Math.abs(l.left-r.left)>xb||Math.abs(l.top-r.top)>xb||Math.abs(l.width-r.width)>xb)&&a({height:l.height,left:l.left,top:l.top,width:l.width})}},[r.width,r.height,r.top,r.left,...t]);return[r,s]}var kne={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},aR=xl({name:"chartLayout",initialState:kne,reducers:{setLayout(t,r){t.layoutType=r.payload},setChartSize(t,r){t.width=r.payload.width,t.height=r.payload.height},setMargin(t,r){t.margin.top=r.payload.top,t.margin.right=r.payload.right,t.margin.bottom=r.payload.bottom,t.margin.left=r.payload.left},setScale(t,r){t.scale=r.payload}}}),{setMargin:_ne,setLayout:Pne,setChartSize:One,setScale:Dne}=aR.actions,Lne=aR.reducer;function __(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function P_(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?__(Object(a),!0).forEach(function(s){Mne(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):__(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Mne(t,r,a){return(r=Une(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Une(t){var r=Rne(t,"string");return typeof r=="symbol"?r:r+""}function Rne(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var D2=Math.PI/180,Qne=t=>t*180/Math.PI,ii=(t,r,a,s)=>({x:t+Math.cos(-D2*s)*a,y:r+Math.sin(-D2*s)*a}),sR=function(r,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(r-(s.left||0)-(s.right||0)),Math.abs(a-(s.top||0)-(s.bottom||0)))/2},Hne=(t,r)=>{var{x:a,y:s}=t,{x:i,y:o}=r;return Math.sqrt((a-i)**2+(s-o)**2)},$ne=(t,r)=>{var{x:a,y:s}=t,{cx:i,cy:o}=r,l=Hne({x:a,y:s},{x:i,y:o});if(l<=0)return{radius:l,angle:0};var c=(a-i)/l,d=Math.acos(c);return s>o&&(d=2*Math.PI-d),{radius:l,angle:Qne(d),angleInRadian:d}},zne=t=>{var{startAngle:r,endAngle:a}=t,s=Math.floor(r/360),i=Math.floor(a/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:a-o*360}},Vne=(t,r)=>{var{startAngle:a,endAngle:s}=r,i=Math.floor(a/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},Kne=(t,r)=>{var{x:a,y:s}=t,{radius:i,angle:o}=$ne({x:a,y:s},r),{innerRadius:l,outerRadius:c}=r;if(i<l||i>c||i===0)return null;var{startAngle:d,endAngle:f}=zne(r),u=o,m;if(d<=f){for(;u>f;)u-=360;for(;u<d;)u+=360;m=u>=d&&u<=f}else{for(;u>d;)u-=360;for(;u<f;)u+=360;m=u>=f&&u<=d}return m?P_(P_({},r),{},{radius:i,angle:Vne(u,r)}):null};function O_(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function Ad(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?O_(Object(a),!0).forEach(function(s){Gne(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):O_(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Gne(t,r,a){return(r=Wne(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Wne(t){var r=qne(t,"string");return typeof r=="symbol"?r:r+""}function qne(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function an(t,r,a){return Gs(t)||Gs(r)?a:Sf(r)?hm(t,r,a):typeof r=="function"?r(t):a}var Yne=(t,r,a,s,i)=>{var o,l=-1,c=(o=r?.length)!==null&&o!==void 0?o:0;if(c<=1||t==null)return 0;if(s==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<c;d++){var f=d>0?a[d-1].coordinate:a[c-1].coordinate,u=a[d].coordinate,m=d>=c-1?a[0].coordinate:a[d+1].coordinate,p=void 0;if(Ki(u-f)!==Ki(m-u)){var g=[];if(Ki(m-u)===Ki(i[1]-i[0])){p=m;var v=u+i[1]-i[0];g[0]=Math.min(v,(v+f)/2),g[1]=Math.max(v,(v+f)/2)}else{p=f;var y=m+i[1]-i[0];g[0]=Math.min(u,(y+u)/2),g[1]=Math.max(u,(y+u)/2)}var b=[Math.min(u,(p+u)/2),Math.max(u,(p+u)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){({index:l}=a[d]);break}}else{var j=Math.min(f,m),N=Math.max(f,m);if(t>(j+u)/2&&t<=(N+u)/2){({index:l}=a[d]);break}}}else if(r){for(var S=0;S<c;S++)if(S===0&&t<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<c-1&&t>(r[S].coordinate+r[S-1].coordinate)/2&&t<=(r[S].coordinate+r[S+1].coordinate)/2||S===c-1&&t>(r[S].coordinate+r[S-1].coordinate)/2){({index:l}=r[S]);break}}return l},Xne=(t,r,a)=>{if(r&&a){var{width:s,height:i}=a,{align:o,verticalAlign:l,layout:c}=r;if((c==="vertical"||c==="horizontal"&&l==="middle")&&o!=="center"&&Br(t[o]))return Ad(Ad({},t),{},{[o]:t[o]+(s||0)});if((c==="horizontal"||c==="vertical"&&o==="center")&&l!=="middle"&&Br(t[l]))return Ad(Ad({},t),{},{[l]:t[l]+(i||0)})}return t},YA=(t,r)=>t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis",nR=(t,r,a,s)=>{if(s)return t.map(c=>c.coordinate);var i,o,l=t.map(c=>(c.coordinate===r&&(i=!0),c.coordinate===a&&(o=!0),c.coordinate));return i||l.push(r),o||l.push(a),l},iR=(t,r,a)=>{if(!t)return null;var{duplicateDomain:s,type:i,range:o,scale:l,realScaleType:c,isCategorical:d,categoricalDomain:f,tickCount:u,ticks:m,niceTicks:p,axisType:g}=t;if(!l)return null;var v=c==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,y=i==="category"&&l.bandwidth?l.bandwidth()/v:0;if(y=g==="angleAxis"&&o&&o.length>=2?Ki(o[0]-o[1])*2*y:y,m||p){var b=(m||p||[]).map((j,N)=>{var S=s?s.indexOf(j):j;return{coordinate:l(S)+y,value:j,offset:y,index:N}});return b.filter(j=>!Hl(j.coordinate))}return d&&f?f.map((j,N)=>({coordinate:l(j)+y,value:j,index:N,offset:y})):l.ticks&&u!=null?l.ticks(u).map((j,N)=>({coordinate:l(j)+y,value:j,offset:y,index:N})):l.domain().map((j,N)=>({coordinate:l(j)+y,value:s?s[j]:j,index:N,offset:y}))},D_=1e-4,Jne=t=>{var r=t.domain();if(!(!r||r.length<=2)){var a=r.length,s=t.range(),i=Math.min(s[0],s[1])-D_,o=Math.max(s[0],s[1])+D_,l=t(r[0]),c=t(r[a-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[a-1]])}},Zne=(t,r)=>{if(!r||r.length!==2||!Br(r[0])||!Br(r[1]))return t;var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Br(t[0])||t[0]<a)&&(i[0]=a),(!Br(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<a&&(i[1]=a),i},eie=t=>{var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,o=0,l=0;l<r;++l){var c=Hl(t[l][a][1])?t[l][a][0]:t[l][a][1];c>=0?(t[l][a][0]=i,t[l][a][1]=i+c,i=t[l][a][1]):(t[l][a][0]=o,t[l][a][1]=o+c,o=t[l][a][1])}},tie=t=>{var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,o=0;o<r;++o){var l=Hl(t[o][a][1])?t[o][a][0]:t[o][a][1];l>=0?(t[o][a][0]=i,t[o][a][1]=i+l,i=t[o][a][1]):(t[o][a][0]=0,t[o][a][1]=0)}},rie={sign:eie,expand:_se,none:_g,silhouette:Pse,wiggle:Ose,positive:tie},aie=(t,r,a)=>{var s=rie[a],i=kse().keys(r).value((o,l)=>+an(o,l,0)).order(_C).offset(s);return i(t)};function KB(t){return t==null?void 0:String(t)}function L_(t){var{axis:r,ticks:a,bandSize:s,entry:i,index:o,dataKey:l}=t;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!Gs(i[r.dataKey])){var c=SU(a,"value",i[r.dataKey]);if(c)return c.coordinate+s/2}return a[o]?a[o].coordinate+s/2:null}var d=an(i,Gs(l)?r.dataKey:l);return Gs(d)?null:r.scale(d)}var M_=t=>{var{axis:r,ticks:a,offset:s,bandSize:i,entry:o,index:l}=t;if(r.type==="category")return a[l]?a[l].coordinate+s:null;var c=an(o,r.dataKey,r.scale.domain()[l]);return Gs(c)?null:r.scale(c)-i/2+s},sie=t=>{var{numericAxis:r}=t,a=r.scale.domain();if(r.type==="number"){var s=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return s<=0&&i>=0?0:i<0?i:s}return a[0]},nie=t=>{var r=t.flat(2).filter(Br);return[Math.min(...r),Math.max(...r)]},iie=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],oie=(t,r,a)=>{if(t!=null)return iie(Object.keys(t).reduce((s,i)=>{var o=t[i],{stackedData:l}=o,c=l.reduce((d,f)=>{var u=nie(f.slice(r,a+1));return[Math.min(d[0],u[0]),Math.max(d[1],u[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]))},U_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,R_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uy=(t,r,a)=>{if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!a||s>0)return s}if(t&&r&&r.length>=2){for(var i=d4(r,u=>u.coordinate),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],f=i[l-1];o=Math.min((d.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return a?void 0:0};function Q_(t){var{tooltipEntrySettings:r,dataKey:a,payload:s,value:i,name:o}=t;return Ad(Ad({},r),{},{dataKey:a,payload:s,value:i,name:o})}function Xg(t,r){if(t)return String(t);if(typeof r=="string")return r}function lie(t,r,a,s,i){if(a==="horizontal"||a==="vertical"){var o=t>=i.left&&t<=i.left+i.width&&r>=i.top&&r<=i.top+i.height;return o?{x:t,y:r}:null}return s?Kne({x:t,y:r},s):null}var cie=(t,r,a,s)=>{var i=r.find(f=>f&&f.index===a);if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,{radius:l}=s;return Ad(Ad(Ad({},s),ii(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,{angle:d}=s;return Ad(Ad(Ad({},s),ii(s.cx,s.cy,c,d)),{},{angle:d,radius:c})}return{x:0,y:0}},die=(t,r)=>r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius,XA=t=>t.layout.width,JA=t=>t.layout.height,uie=t=>t.layout.scale,oR=t=>t.layout.margin,GB=Ut(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),WB=Ut(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),lR="data-recharts-item-index",cR="data-recharts-item-data-key",u4=60;function H_(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function $h(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?H_(Object(a),!0).forEach(function(s){fie(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):H_(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function fie(t,r,a){return(r=Aie(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Aie(t){var r=hie(t,"string");return typeof r=="symbol"?r:r+""}function hie(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var mie=t=>t.brush.height,Si=Ut([XA,JA,oR,mie,GB,WB,tR,Ene],(t,r,a,s,i,o,l,c)=>{var d=o.reduce((v,y)=>{var{orientation:b}=y;if(!y.mirror&&!y.hide){var j=typeof y.width=="number"?y.width:u4;return $h($h({},v),{},{[b]:v[b]+j})}return v},{left:a.left||0,right:a.right||0}),f=i.reduce((v,y)=>{var{orientation:b}=y;return!y.mirror&&!y.hide?$h($h({},v),{},{[b]:hm(v,"".concat(b))+y.height}):v},{top:a.top||0,bottom:a.bottom||0}),u=$h($h({},f),d),m=u.bottom;u.bottom+=s,u=Xne(u,l,c);var p=t-u.left-u.right,g=r-u.top-u.bottom;return $h($h({brushBottom:m},u),{},{width:Math.max(p,0),height:Math.max(g,0)})}),pie=Ut(Si,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),dR=Ut(XA,JA,(t,r)=>({x:0,y:0,width:t,height:r})),gie=w.createContext(null),yl=()=>w.useContext(gie)!=null,f4=t=>t.brush,A4=Ut([f4,Si,oR],(t,r,a)=>({height:t.height,x:Br(t.x)?t.x:r.left,y:Br(t.y)?t.y:r.top+r.height+r.brushBottom-(a?.bottom||0),width:Br(t.width)?t.width:r.width})),qB=()=>{var t,r=yl(),a=Lr(pie),s=Lr(A4),i=(t=Lr(f4))===null||t===void 0?void 0:t.padding;return!r||!s||!i?a:{width:s.width-i.left-i.right,height:s.height-i.top-i.bottom,x:i.left,y:i.top}},xie={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},uR=()=>{var t;return(t=Lr(Si))!==null&&t!==void 0?t:xie},YB=()=>Lr(XA),XB=()=>Lr(JA),yie={top:0,right:0,bottom:0,left:0},vie=()=>{var t;return(t=Lr(r=>r.layout.margin))!==null&&t!==void 0?t:yie},ts=t=>t.layout.layoutType,h4=()=>Lr(ts),bie={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},fR=xl({name:"legend",initialState:bie,reducers:{setLegendSize(t,r){t.size.width=r.payload.width,t.size.height=r.payload.height},setLegendSettings(t,r){t.settings.align=r.payload.align,t.settings.layout=r.payload.layout,t.settings.verticalAlign=r.payload.verticalAlign,t.settings.itemSorter=r.payload.itemSorter},addLegendPayload(t,r){t.payload.push(r.payload)},removeLegendPayload(t,r){var a=kA(t).payload.indexOf(r.payload);a>-1&&t.payload.splice(a,1)}}}),{setLegendSize:$_,setLegendSettings:wie,addLegendPayload:AR,removeLegendPayload:hR}=fR.actions,jie=fR.reducer,Nie=["contextPayload"];function DC(){return DC=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},DC.apply(null,arguments)}function z_(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function Pg(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?z_(Object(a),!0).forEach(function(s){JB(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):z_(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function JB(t,r,a){return(r=Sie(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Sie(t){var r=Cie(t,"string");return typeof r=="symbol"?r:r+""}function Cie(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Bie(t,r){if(t==null)return{};var a,s,i=Eie(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function Eie(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function Tie(t){return t.value}function Fie(t){var{contextPayload:r}=t,a=Bie(t,Nie),s=JU(r,t.payloadUniqBy,Tie),i=Pg(Pg({},a),{},{payload:s});return w.isValidElement(t.content)?w.cloneElement(t.content,i):typeof t.content=="function"?w.createElement(t.content,i):w.createElement(UB,i)}function Iie(t,r,a,s,i,o){var{layout:l,align:c,verticalAlign:d}=r,f,u;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(c==="center"&&l==="vertical"?f={left:((s||0)-o.width)/2}:f=c==="right"?{right:a&&a.right||0}:{left:a&&a.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(d==="middle"?u={top:((i||0)-o.height)/2}:u=d==="bottom"?{bottom:a&&a.bottom||0}:{top:a&&a.top||0}),Pg(Pg({},f),u)}function kie(t){var r=mn();return w.useEffect(()=>{r(wie(t))},[r,t]),null}function _ie(t){var r=mn();return w.useEffect(()=>(r($_(t)),()=>{r($_({width:0,height:0}))}),[r,t]),null}function Pie(t){var r=Ine(),a=rse(),s=vie(),{width:i,height:o,wrapperStyle:l,portal:c}=t,[d,f]=rR([r]),u=YB(),m=XB(),p=u-(s.left||0)-(s.right||0),g=M0.getWidthOrHeight(t.layout,o,i,p),v=c?l:Pg(Pg({position:"absolute",width:g?.width||i||"auto",height:g?.height||o||"auto"},Iie(l,t,s,u,m,d)),l),y=c??a;if(y==null)return null;var b=w.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:f},w.createElement(kie,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),w.createElement(_ie,{width:d.width,height:d.height}),w.createElement(Fie,DC({},t,g,{margin:s,chartWidth:u,chartHeight:m,contextPayload:r})));return x7.createPortal(b,y)}class M0 extends w.PureComponent{static getWidthOrHeight(r,a,s,i){return r==="vertical"&&Br(a)?{height:a}:r==="horizontal"?{width:s||i}:null}render(){return w.createElement(Pie,this.props)}}JB(M0,"displayName","Legend");JB(M0,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function LC(){return LC=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},LC.apply(null,arguments)}function V_(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function SS(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?V_(Object(a),!0).forEach(function(s){Oie(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):V_(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Oie(t,r,a){return(r=Die(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Die(t){var r=Lie(t,"string");return typeof r=="symbol"?r:r+""}function Lie(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Mie(t){return Array.isArray(t)&&Sf(t[0])&&Sf(t[1])?t.join(" ~ "):t}var Uie=t=>{var{separator:r=" : ",contentStyle:a={},itemStyle:s={},labelStyle:i={},payload:o,formatter:l,itemSorter:c,wrapperClassName:d,labelClassName:f,label:u,labelFormatter:m,accessibilityLayer:p=!1}=t,g=()=>{if(o&&o.length){var I={padding:0,margin:0},F=(c?d4(o,c):o).map((O,k)=>{if(O.type==="none")return null;var V=O.formatter||l||Mie,{value:Q,name:H}=O,M=Q,K=H;if(V){var q=V(Q,H,O,k,o);if(Array.isArray(q))[M,K]=q;else if(q!=null)M=q;else return null}var re=SS({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},s);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:re},Sf(K)?w.createElement("span",{className:"recharts-tooltip-item-name"},K):null,Sf(K)?w.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,w.createElement("span",{className:"recharts-tooltip-item-value"},M),w.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:I},F)}return null},v=SS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),y=SS({margin:0},i),b=!Gs(u),j=b?u:"",N=Mt("recharts-default-tooltip",d),S=Mt("recharts-tooltip-label",f);b&&m&&o!==void 0&&o!==null&&(j=m(u,o));var B=p?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",LC({className:N,style:v},B),w.createElement("p",{className:S,style:y},w.isValidElement(j)?j:"".concat(j)),g())},c1="recharts-tooltip-wrapper",Rie={visibility:"hidden"};function Qie(t){var{coordinate:r,translateX:a,translateY:s}=t;return Mt(c1,{["".concat(c1,"-right")]:Br(a)&&r&&Br(r.x)&&a>=r.x,["".concat(c1,"-left")]:Br(a)&&r&&Br(r.x)&&a<r.x,["".concat(c1,"-bottom")]:Br(s)&&r&&Br(r.y)&&s>=r.y,["".concat(c1,"-top")]:Br(s)&&r&&Br(r.y)&&s<r.y})}function K_(t){var{allowEscapeViewBox:r,coordinate:a,key:s,offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=t;if(o&&Br(o[s]))return o[s];var u=a[s]-c-(i>0?i:0),m=a[s]+i;if(r[s])return l[s]?u:m;var p=d[s];if(p==null)return 0;if(l[s]){var g=u,v=p;return g<v?Math.max(m,p):Math.max(u,p)}if(f==null)return 0;var y=m+c,b=p+f;return y>b?Math.max(u,p):Math.max(m,p)}function Hie(t){var{translateX:r,translateY:a,useTranslate3d:s}=t;return{transform:s?"translate3d(".concat(r,"px, ").concat(a,"px, 0)"):"translate(".concat(r,"px, ").concat(a,"px)")}}function $ie(t){var{allowEscapeViewBox:r,coordinate:a,offsetTopLeft:s,position:i,reverseDirection:o,tooltipBox:l,useTranslate3d:c,viewBox:d}=t,f,u,m;return l.height>0&&l.width>0&&a?(u=K_({allowEscapeViewBox:r,coordinate:a,key:"x",offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=K_({allowEscapeViewBox:r,coordinate:a,key:"y",offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=Hie({translateX:u,translateY:m,useTranslate3d:c})):f=Rie,{cssProperties:f,cssClasses:Qie({translateX:u,translateY:m,coordinate:a})}}function G_(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function yb(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?G_(Object(a),!0).forEach(function(s){MC(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):G_(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function MC(t,r,a){return(r=zie(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function zie(t){var r=Vie(t,"string");return typeof r=="symbol"?r:r+""}function Vie(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}class Kie extends w.PureComponent{constructor(){super(...arguments),MC(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),MC(this,"handleKeyDown",r=>{if(r.key==="Escape"){var a,s,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==null&&a!==void 0?a:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var r,a;this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:r,allowEscapeViewBox:a,animationDuration:s,animationEasing:i,children:o,coordinate:l,hasPayload:c,isAnimationActive:d,offset:f,position:u,reverseDirection:m,useTranslate3d:p,viewBox:g,wrapperStyle:v,lastBoundingBox:y,innerRef:b,hasPortalFromProps:j}=this.props,{cssClasses:N,cssProperties:S}=$ie({allowEscapeViewBox:a,coordinate:l,offsetTopLeft:f,position:u,reverseDirection:m,tooltipBox:{height:y.height,width:y.width},useTranslate3d:p,viewBox:g}),B=j?{}:yb(yb({transition:d&&r?"transform ".concat(s,"ms ").concat(i):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&c?"visible":"hidden",position:"absolute",top:0,left:0}),I=yb(yb({},B),{},{visibility:!this.state.dismissed&&r&&c?"visible":"hidden"},v);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:I,ref:b},o)}}var Gie=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),op={isSsr:Gie()},mR=()=>Lr(t=>t.rootProps.accessibilityLayer);function po(t){return Number.isFinite(t)}function Og(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function UC(){return UC=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},UC.apply(null,arguments)}function W_(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function q_(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?W_(Object(a),!0).forEach(function(s){Wie(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):W_(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Wie(t,r,a){return(r=qie(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function qie(t){var r=Yie(t,"string");return typeof r=="symbol"?r:r+""}function Yie(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Y_={curveBasisClosed:bse,curveBasisOpen:wse,curveBasis:vse,curveBumpX:ise,curveBumpY:ose,curveLinearClosed:jse,curveLinear:l4,curveMonotoneX:Nse,curveMonotoneY:Sse,curveNatural:Cse,curveStep:Bse,curveStepAfter:Tse,curveStepBefore:Ese},vb=t=>po(t.x)&&po(t.y),d1=t=>t.x,u1=t=>t.y,Xie=(t,r)=>{if(typeof t=="function")return t;var a="curve".concat(qy(t));return(a==="curveMonotone"||a==="curveBump")&&r?Y_["".concat(a).concat(r==="vertical"?"Y":"X")]:Y_[a]||l4},Jie=t=>{var{type:r="linear",points:a=[],baseLine:s,layout:i,connectNulls:o=!1}=t,l=Xie(r,i),c=o?a.filter(vb):a,d;if(Array.isArray(s)){var f=o?s.filter(m=>vb(m)):s,u=c.map((m,p)=>q_(q_({},m),{},{base:f[p]}));return i==="vertical"?d=gb().y(u1).x1(d1).x0(m=>m.base.x):d=gb().x(d1).y1(u1).y0(m=>m.base.y),d.defined(vb).curve(l),d(u)}return i==="vertical"&&Br(s)?d=gb().y(u1).x1(d1).x0(s):Br(s)?d=gb().x(d1).y1(u1).y0(s):d=PU().x(d1).y(u1),d.defined(vb).curve(l),d(c)},D1=t=>{var{className:r,points:a,path:s,pathRef:i}=t;if((!a||!a.length)&&!s)return null;var o=a&&a.length?Jie(t):s;return w.createElement("path",UC({},Pa(t,!1),kB(t),{className:Mt("recharts-curve",r),d:o===null?void 0:o,ref:i}))},Zie=["x","y","top","left","width","height","className"];function RC(){return RC=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},RC.apply(null,arguments)}function X_(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function eoe(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?X_(Object(a),!0).forEach(function(s){toe(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):X_(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function toe(t,r,a){return(r=roe(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function roe(t){var r=aoe(t,"string");return typeof r=="symbol"?r:r+""}function aoe(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function soe(t,r){if(t==null)return{};var a,s,i=noe(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function noe(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var ioe=(t,r,a,s,i,o)=>"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(a),ooe=t=>{var{x:r=0,y:a=0,top:s=0,left:i=0,width:o=0,height:l=0,className:c}=t,d=soe(t,Zie),f=eoe({x:r,y:a,top:s,left:i,width:o,height:l},d);return!Br(r)||!Br(a)||!Br(o)||!Br(l)||!Br(s)||!Br(i)?null:w.createElement("path",RC({},Pa(f,!0),{className:Mt("recharts-cross",c),d:ioe(r,a,o,l,s,i)}))};function loe(t,r,a,s){var i=s/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?r.x-i:a.left+.5,y:t==="horizontal"?a.top+.5:r.y-i,width:t==="horizontal"?s:a.width-1,height:t==="horizontal"?a.height-1:s}}function J_(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function coe(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?J_(Object(a),!0).forEach(function(s){doe(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):J_(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function doe(t,r,a){return(r=uoe(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function uoe(t){var r=foe(t,"string");return typeof r=="symbol"?r:r+""}function foe(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function xd(t,r){var a=coe({},t),s=r,i=Object.keys(r),o=i.reduce((l,c)=>(l[c]===void 0&&s[c]!==void 0&&(l[c]=s[c]),l),a);return o}var CS={},BS={},ES={},Z_;function Aoe(){return Z_||(Z_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){if(!a||typeof a!="object")return!1;const s=Object.getPrototypeOf(a);return s===null||s===Object.prototype||Object.getPrototypeOf(s)===null?Object.prototype.toString.call(a)==="[object Object]":!1}t.isPlainObject=r}(ES)),ES}var eP;function hoe(){return eP||(eP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=Aoe(),a=qU(),s=$B(),i=zB(),o=QB();function l(f,u,m){return c(f,u,void 0,void 0,void 0,void 0,m)}function c(f,u,m,p,g,v,y){const b=y(f,u,m,p,g,v);if(b!==void 0)return b;if(typeof f==typeof u)switch(typeof f){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return f===u;case"number":return f===u||Object.is(f,u);case"function":return f===u;case"object":return d(f,u,v,y)}return d(f,u,v,y)}function d(f,u,m,p){if(Object.is(f,u))return!0;let g=s.getTag(f),v=s.getTag(u);if(g===i.argumentsTag&&(g=i.objectTag),v===i.argumentsTag&&(v=i.objectTag),g!==v)return!1;switch(g){case i.stringTag:return f.toString()===u.toString();case i.numberTag:{const j=f.valueOf(),N=u.valueOf();return o.eq(j,N)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(f.valueOf(),u.valueOf());case i.regexpTag:return f.source===u.source&&f.flags===u.flags;case i.functionTag:return f===u}m=m??new Map;const y=m.get(f),b=m.get(u);if(y!=null&&b!=null)return y===u;m.set(f,u),m.set(u,f);try{switch(g){case i.mapTag:{if(f.size!==u.size)return!1;for(const[j,N]of f.entries())if(!u.has(j)||!c(N,u.get(j),j,f,u,m,p))return!1;return!0}case i.setTag:{if(f.size!==u.size)return!1;const j=Array.from(f.values()),N=Array.from(u.values());for(let S=0;S<j.length;S++){const B=j[S],I=N.findIndex(F=>c(B,F,void 0,f,u,m,p));if(I===-1)return!1;N.splice(I,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(f)!==Buffer.isBuffer(u)||f.length!==u.length)return!1;for(let j=0;j<f.length;j++)if(!c(f[j],u[j],j,f,u,m,p))return!1;return!0}case i.arrayBufferTag:return f.byteLength!==u.byteLength?!1:d(new Uint8Array(f),new Uint8Array(u),m,p);case i.dataViewTag:return f.byteLength!==u.byteLength||f.byteOffset!==u.byteOffset?!1:d(new Uint8Array(f),new Uint8Array(u),m,p);case i.errorTag:return f.name===u.name&&f.message===u.message;case i.objectTag:{if(!(d(f.constructor,u.constructor,m,p)||r.isPlainObject(f)&&r.isPlainObject(u)))return!1;const N=[...Object.keys(f),...a.getSymbols(f)],S=[...Object.keys(u),...a.getSymbols(u)];if(N.length!==S.length)return!1;for(let B=0;B<N.length;B++){const I=N[B],F=f[I];if(!Object.hasOwn(u,I))return!1;const O=u[I];if(!c(F,O,I,f,u,m,p))return!1}return!0}default:return!1}}finally{m.delete(f),m.delete(u)}}t.isEqualWith=l}(BS)),BS}var TS={},tP;function moe(){return tP||(tP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(){}t.noop=r}(TS)),TS}var rP;function poe(){return rP||(rP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=hoe(),a=moe();function s(i,o){return r.isEqualWith(i,o,a.noop)}t.isEqual=s}(CS)),CS}var FS,aP;function goe(){return aP||(aP=1,FS=poe().isEqual),FS}var xoe=goe();const yoe=Tc(xoe);function voe(t){var r={},a=()=>null,s=!1,i=null,o=l=>{if(!s){if(Array.isArray(l)){if(!l.length)return;var c=l,[d,...f]=c;if(typeof d=="number"){i=t.setTimeout(o.bind(null,f),d);return}o(d),i=t.setTimeout(o.bind(null,f));return}typeof l=="object"&&(r=l,a(r)),typeof l=="function"&&l()}};return{stop:()=>{s=!0},start:l=>{s=!1,i&&(i(),i=null),o(l)},subscribe:l=>(a=l,()=>{a=()=>null}),getTimeoutController:()=>t}}var L2=1e-4,pR=(t,r)=>[0,3*t,3*r-6*t,3*t-3*r+1],gR=(t,r)=>t.map((a,s)=>a*r**s).reduce((a,s)=>a+s),sP=(t,r)=>a=>{var s=pR(t,r);return gR(s,a)},boe=(t,r)=>a=>{var s=pR(t,r),i=[...s.map((o,l)=>o*l).slice(1),0];return gR(i,a)},nP=function(){for(var r,a,s,i,o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];if(l.length===1)switch(l[0]){case"linear":[r,s,a,i]=[0,0,1,1];break;case"ease":[r,s,a,i]=[.25,.1,.25,1];break;case"ease-in":[r,s,a,i]=[.42,0,1,1];break;case"ease-out":[r,s,a,i]=[.42,0,.58,1];break;case"ease-in-out":[r,s,a,i]=[0,0,.58,1];break;default:{var d=l[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([r,s,a,i]=d[1].split(")")[0].split(",").map(v=>parseFloat(v)))}}else l.length===4&&([r,s,a,i]=l);var f=sP(r,a),u=sP(s,i),m=boe(r,a),p=v=>v>1?1:v<0?0:v,g=v=>{for(var y=v>1?1:v,b=y,j=0;j<8;++j){var N=f(b)-y,S=m(b);if(Math.abs(N-y)<L2||S<L2)return u(b);b=p(b-N/S)}return u(b)};return g.isStepper=!1,g},woe=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:a=100,damping:s=8,dt:i=17}=r,o=(l,c,d)=>{var f=-(l-c)*a,u=d*s,m=d+(f-u)*i/1e3,p=d*i/1e3+l;return Math.abs(p-c)<L2&&Math.abs(m)<L2?[c,0]:[p,m]};return o.isStepper=!0,o.dt=i,o},joe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return nP(t);case"spring":return woe();default:if(t.split("(")[0]==="cubic-bezier")return nP(t)}return typeof t=="function"?t:null};function iP(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function oP(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?iP(Object(a),!0).forEach(function(s){Noe(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):iP(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Noe(t,r,a){return(r=Soe(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Soe(t){var r=Coe(t,"string");return typeof r=="symbol"?r:r+""}function Coe(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Boe=t=>t.replace(/([A-Z])/g,r=>"-".concat(r.toLowerCase())),Eoe=(t,r,a)=>t.map(s=>"".concat(Boe(s)," ").concat(r,"ms ").concat(a)).join(","),Toe=(t,r)=>[Object.keys(t),Object.keys(r)].reduce((a,s)=>a.filter(i=>s.includes(i))),fy=(t,r)=>Object.keys(r).reduce((a,s)=>oP(oP({},a),{},{[s]:t(s,r[s])}),{});function lP(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function co(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?lP(Object(a),!0).forEach(function(s){Foe(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):lP(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Foe(t,r,a){return(r=Ioe(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Ioe(t){var r=koe(t,"string");return typeof r=="symbol"?r:r+""}function koe(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var M2=(t,r,a)=>t+(r-t)*a,QC=t=>{var{from:r,to:a}=t;return r!==a},xR=(t,r,a)=>{var s=fy((i,o)=>{if(QC(o)){var[l,c]=t(o.from,o.to,o.velocity);return co(co({},o),{},{from:l,velocity:c})}return o},r);return a<1?fy((i,o)=>QC(o)?co(co({},o),{},{velocity:M2(o.velocity,s[i].velocity,a),from:M2(o.from,s[i].from,a)}):o,r):xR(t,s,a-1)};function _oe(t,r,a,s,i,o){var l,c=s.reduce((p,g)=>co(co({},p),{},{[g]:{from:t[g],velocity:0,to:r[g]}}),{}),d=()=>fy((p,g)=>g.from,c),f=()=>!Object.values(c).filter(QC).length,u=null,m=p=>{l||(l=p);var g=p-l,v=g/a.dt;c=xR(a,c,v),i(co(co(co({},t),r),d())),l=p,f()||(u=o.setTimeout(m))};return()=>(u=o.setTimeout(m),()=>{u()})}function Poe(t,r,a,s,i,o,l){var c=null,d=i.reduce((m,p)=>co(co({},m),{},{[p]:[t[p],r[p]]}),{}),f,u=m=>{f||(f=m);var p=(m-f)/s,g=fy((y,b)=>M2(...b,a(p)),d);if(o(co(co(co({},t),r),g)),p<1)c=l.setTimeout(u);else{var v=fy((y,b)=>M2(...b,a(1)),d);o(co(co(co({},t),r),v))}};return()=>(c=l.setTimeout(u),()=>{c()})}const Ooe=(t,r,a,s,i,o)=>{var l=Toe(t,r);return a.isStepper===!0?_oe(t,r,a,l,i,o):Poe(t,r,a,s,l,i,o)};class Doe{setTimeout(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=performance.now(),i=null,o=l=>{l-s>=a?r(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}var Loe=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function HC(){return HC=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},HC.apply(null,arguments)}function Moe(t,r){if(t==null)return{};var a,s,i=Uoe(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function Uoe(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function cP(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function zh(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?cP(Object(a),!0).forEach(function(s){j0(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):cP(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function j0(t,r,a){return(r=Roe(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Roe(t){var r=Qoe(t,"string");return typeof r=="symbol"?r:r+""}function Qoe(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Hoe(){return voe(new Doe)}class ZB extends w.PureComponent{constructor(r,a){super(r,a),j0(this,"mounted",!1),j0(this,"manager",null),j0(this,"stopJSAnimation",null),j0(this,"unSubscribe",null);var{isActive:s,attributeName:i,from:o,to:l,children:c,duration:d,animationManager:f}=this.props;if(this.manager=f,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!s||d<=0){this.state={style:{}},typeof c=="function"&&(this.state={style:l});return}if(o){if(typeof c=="function"){this.state={style:o};return}this.state={style:i?{[i]:o}:o}}else this.state={style:{}}}componentDidMount(){var{isActive:r,canBegin:a}=this.props;this.mounted=!0,!(!r||!a)&&this.runAnimation(this.props)}componentDidUpdate(r){var{isActive:a,canBegin:s,attributeName:i,shouldReAnimate:o,to:l,from:c}=this.props,{style:d}=this.state;if(s){if(!a){var f={style:i?{[i]:l}:l};this.state&&d&&(i&&d[i]!==l||!i&&d!==l)&&this.setState(f);return}if(!(yoe(r.to,l)&&r.canBegin&&r.isActive)){var u=!r.canBegin||!r.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=u||o?c:r.to;if(this.state&&d){var p={style:i?{[i]:m}:m};(i&&d[i]!==m||!i&&d!==m)&&this.setState(p)}this.runAnimation(zh(zh({},this.props),{},{from:m,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:r}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),r&&r()}handleStyleChange(r){this.changeStyle(r)}changeStyle(r){this.mounted&&this.setState({style:r})}runJSAnimation(r){var{from:a,to:s,duration:i,easing:o,begin:l,onAnimationEnd:c,onAnimationStart:d}=r,f=Ooe(a,s,joe(o),i,this.changeStyle,this.manager.getTimeoutController()),u=()=>{this.stopJSAnimation=f()};this.manager.start([d,l,u,i,c])}runAnimation(r){var{begin:a,duration:s,attributeName:i,to:o,easing:l,onAnimationStart:c,onAnimationEnd:d,children:f}=r;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof l=="function"||typeof f=="function"||l==="spring"){this.runJSAnimation(r);return}var u=i?{[i]:o}:o,m=Eoe(Object.keys(u),s,l);this.manager.start([c,a,zh(zh({},u),{},{transition:m}),s,d])}render(){var r=this.props,{children:a,begin:s,duration:i,attributeName:o,easing:l,isActive:c,from:d,to:f,canBegin:u,onAnimationEnd:m,shouldReAnimate:p,onAnimationReStart:g,animationManager:v}=r,y=Moe(r,Loe),b=w.Children.count(a),j=this.state.style;if(typeof a=="function")return a(j);if(!c||b===0||i<=0)return a;var N=S=>{var{style:B={},className:I}=S.props,F=w.cloneElement(S,zh(zh({},y),{},{style:zh(zh({},B),j),className:I}));return F};return b===1?N(w.Children.only(a)):w.createElement("div",null,w.Children.map(a,S=>N(S)))}}j0(ZB,"displayName","Animate");j0(ZB,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var $oe=w.createContext(null);function mm(t){var r,a,s=w.useContext($oe);return w.createElement(ZB,HC({},t,{animationManager:(r=(a=t.animationManager)!==null&&a!==void 0?a:s)!==null&&r!==void 0?r:Hoe()}))}function U2(){return U2=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},U2.apply(null,arguments)}var dP=(t,r,a,s,i)=>{var o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,c=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&i instanceof Array){for(var u=[0,0,0,0],m=0,p=4;m<p;m++)u[m]=i[m]>o?o:i[m];f="M".concat(t,",").concat(r+l*u[0]),u[0]>0&&(f+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(d,",").concat(t+c*u[0],",").concat(r)),f+="L ".concat(t+a-c*u[1],",").concat(r),u[1]>0&&(f+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(d,`,
        `).concat(t+a,",").concat(r+l*u[1])),f+="L ".concat(t+a,",").concat(r+s-l*u[2]),u[2]>0&&(f+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(d,`,
        `).concat(t+a-c*u[2],",").concat(r+s)),f+="L ".concat(t+c*u[3],",").concat(r+s),u[3]>0&&(f+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+s-l*u[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);f="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+a-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t+a,",").concat(r+l*g,`
            L `).concat(t+a,",").concat(r+s-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t+a-c*g,",").concat(r+s,`
            L `).concat(t+c*g,",").concat(r+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t,",").concat(r+s-l*g," Z")}else f="M ".concat(t,",").concat(r," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return f},zoe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yR=t=>{var r=xd(t,zoe),a=w.useRef(null),[s,i]=w.useState(-1);w.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var j=a.current.getTotalLength();j&&i(j)}catch{}},[]);var{x:o,y:l,width:c,height:d,radius:f,className:u}=r,{animationEasing:m,animationDuration:p,animationBegin:g,isAnimationActive:v,isUpdateAnimationActive:y}=r;if(o!==+o||l!==+l||c!==+c||d!==+d||c===0||d===0)return null;var b=Mt("recharts-rectangle",u);return y?w.createElement(mm,{canBegin:s>0,from:{width:c,height:d,x:o,y:l},to:{width:c,height:d,x:o,y:l},duration:p,animationEasing:m,isActive:y},j=>{var{width:N,height:S,x:B,y:I}=j;return w.createElement(mm,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,isActive:v,easing:m},w.createElement("path",U2({},Pa(r,!0),{className:b,d:dP(B,I,N,S,f),ref:a})))}):w.createElement("path",U2({},Pa(r,!0),{className:b,d:dP(o,l,c,d,f)}))};function vR(t){var{cx:r,cy:a,radius:s,startAngle:i,endAngle:o}=t,l=ii(r,a,s,i),c=ii(r,a,s,o);return{points:[l,c],cx:r,cy:a,radius:s,startAngle:i,endAngle:o}}function $C(){return $C=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},$C.apply(null,arguments)}var Voe=(t,r)=>{var a=Ki(r-t),s=Math.min(Math.abs(r-t),359.999);return a*s},bb=t=>{var{cx:r,cy:a,radius:s,angle:i,sign:o,isExternal:l,cornerRadius:c,cornerIsExternal:d}=t,f=c*(l?1:-1)+s,u=Math.asin(c/f)/D2,m=d?i:i+o*u,p=ii(r,a,f,m),g=ii(r,a,s,m),v=d?i-o*u:i,y=ii(r,a,f*Math.cos(u*D2),v);return{center:p,circleTangency:g,lineTangency:y,theta:u}},bR=t=>{var{cx:r,cy:a,innerRadius:s,outerRadius:i,startAngle:o,endAngle:l}=t,c=Voe(o,l),d=o+c,f=ii(r,a,i,o),u=ii(r,a,i,d),m="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(s>0){var p=ii(r,a,s,o),g=ii(r,a,s,d);m+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(r,",").concat(a," Z");return m},Koe=t=>{var{cx:r,cy:a,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}=t,u=Ki(f-d),{circleTangency:m,lineTangency:p,theta:g}=bb({cx:r,cy:a,radius:i,angle:d,sign:u,cornerRadius:o,cornerIsExternal:c}),{circleTangency:v,lineTangency:y,theta:b}=bb({cx:r,cy:a,radius:i,angle:f,sign:-u,cornerRadius:o,cornerIsExternal:c}),j=c?Math.abs(d-f):Math.abs(d-f)-g-b;if(j<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):bR({cx:r,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:f});var N="M ".concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(u<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,`
  `);if(s>0){var{circleTangency:S,lineTangency:B,theta:I}=bb({cx:r,cy:a,radius:s,angle:d,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),{circleTangency:F,lineTangency:O,theta:k}=bb({cx:r,cy:a,radius:s,angle:f,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),V=c?Math.abs(d-f):Math.abs(d-f)-I-k;if(V<0&&o===0)return"".concat(N,"L").concat(r,",").concat(a,"Z");N+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(V>180),",").concat(+(u>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(B.x,",").concat(B.y,"Z")}else N+="L".concat(r,",").concat(a,"Z");return N},Goe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wR=t=>{var r=xd(t,Goe),{cx:a,cy:s,innerRadius:i,outerRadius:o,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:u,className:m}=r;if(o<i||f===u)return null;var p=Mt("recharts-sector",m),g=o-i,v=pl(l,g,0,!0),y;return v>0&&Math.abs(f-u)<360?y=Koe({cx:a,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(v,g/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:u}):y=bR({cx:a,cy:s,innerRadius:i,outerRadius:o,startAngle:f,endAngle:u}),w.createElement("path",$C({},Pa(r,!0),{className:p,d:y}))};function Woe(t,r,a){var s,i,o,l;if(t==="horizontal")s=r.x,o=s,i=a.top,l=a.top+a.height;else if(t==="vertical")i=r.y,l=i,s=a.left,o=a.left+a.width;else if(r.cx!=null&&r.cy!=null)if(t==="centric"){var{cx:c,cy:d,innerRadius:f,outerRadius:u,angle:m}=r,p=ii(c,d,f,m),g=ii(c,d,u,m);s=p.x,i=p.y,o=g.x,l=g.y}else return vR(r);return[{x:s,y:i},{x:o,y:l}]}var IS={},kS={},_S={},uP;function qoe(){return uP||(uP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=ZU();function a(s){return r.isSymbol(s)?NaN:Number(s)}t.toNumber=a}(_S)),_S}var fP;function Yoe(){return fP||(fP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=qoe();function a(s){return s?(s=r.toNumber(s),s===1/0||s===-1/0?(s<0?-1:1)*Number.MAX_VALUE:s===s?s:0):s===0?s:0}t.toFinite=a}(kS)),kS}var AP;function Xoe(){return AP||(AP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=eR(),a=Yoe();function s(i,o,l){l&&typeof l!="number"&&r.isIterateeCall(i,o,l)&&(o=l=void 0),i=a.toFinite(i),o===void 0?(o=i,i=0):o=a.toFinite(o),l=l===void 0?i<o?1:-1:a.toFinite(l);const c=Math.max(Math.ceil((o-i)/(l||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=i,i+=l;return d}t.range=s}(IS)),IS}var PS,hP;function Joe(){return hP||(hP=1,PS=Xoe().range),PS}var Zoe=Joe();const jR=Tc(Zoe);function im(t,r){return t==null||r==null?NaN:t<r?-1:t>r?1:t>=r?0:NaN}function ele(t,r){return t==null||r==null?NaN:r<t?-1:r>t?1:r>=t?0:NaN}function eE(t){let r,a,s;t.length!==2?(r=im,a=(c,d)=>im(t(c),d),s=(c,d)=>t(c)-d):(r=t===im||t===ele?t:tle,a=t,s=t);function i(c,d,f=0,u=c.length){if(f<u){if(r(d,d)!==0)return u;do{const m=f+u>>>1;a(c[m],d)<0?f=m+1:u=m}while(f<u)}return f}function o(c,d,f=0,u=c.length){if(f<u){if(r(d,d)!==0)return u;do{const m=f+u>>>1;a(c[m],d)<=0?f=m+1:u=m}while(f<u)}return f}function l(c,d,f=0,u=c.length){const m=i(c,d,f,u-1);return m>f&&s(c[m-1],d)>-s(c[m],d)?m-1:m}return{left:i,center:l,right:o}}function tle(){return 0}function NR(t){return t===null?NaN:+t}function*rle(t,r){for(let a of t)a!=null&&(a=+a)>=a&&(yield a)}const ale=eE(im),Jy=ale.right;eE(NR).center;class mP extends Map{constructor(r,a=ile){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),r!=null)for(const[s,i]of r)this.set(s,i)}get(r){return super.get(pP(this,r))}has(r){return super.has(pP(this,r))}set(r,a){return super.set(sle(this,r),a)}delete(r){return super.delete(nle(this,r))}}function pP({_intern:t,_key:r},a){const s=r(a);return t.has(s)?t.get(s):a}function sle({_intern:t,_key:r},a){const s=r(a);return t.has(s)?t.get(s):(t.set(s,a),a)}function nle({_intern:t,_key:r},a){const s=r(a);return t.has(s)&&(a=t.get(s),t.delete(s)),a}function ile(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ole(t=im){if(t===im)return SR;if(typeof t!="function")throw new TypeError("compare is not a function");return(r,a)=>{const s=t(r,a);return s||s===0?s:(t(a,a)===0)-(t(r,r)===0)}}function SR(t,r){return(t==null||!(t>=t))-(r==null||!(r>=r))||(t<r?-1:t>r?1:0)}const lle=Math.sqrt(50),cle=Math.sqrt(10),dle=Math.sqrt(2);function R2(t,r,a){const s=(r-t)/Math.max(0,a),i=Math.floor(Math.log10(s)),o=s/Math.pow(10,i),l=o>=lle?10:o>=cle?5:o>=dle?2:1;let c,d,f;return i<0?(f=Math.pow(10,-i)/l,c=Math.round(t*f),d=Math.round(r*f),c/f<t&&++c,d/f>r&&--d,f=-f):(f=Math.pow(10,i)*l,c=Math.round(t/f),d=Math.round(r/f),c*f<t&&++c,d*f>r&&--d),d<c&&.5<=a&&a<2?R2(t,r,a*2):[c,d,f]}function zC(t,r,a){if(r=+r,t=+t,a=+a,!(a>0))return[];if(t===r)return[t];const s=r<t,[i,o,l]=s?R2(r,t,a):R2(t,r,a);if(!(o>=i))return[];const c=o-i+1,d=new Array(c);if(s)if(l<0)for(let f=0;f<c;++f)d[f]=(o-f)/-l;else for(let f=0;f<c;++f)d[f]=(o-f)*l;else if(l<0)for(let f=0;f<c;++f)d[f]=(i+f)/-l;else for(let f=0;f<c;++f)d[f]=(i+f)*l;return d}function VC(t,r,a){return r=+r,t=+t,a=+a,R2(t,r,a)[2]}function KC(t,r,a){r=+r,t=+t,a=+a;const s=r<t,i=s?VC(r,t,a):VC(t,r,a);return(s?-1:1)*(i<0?1/-i:i)}function gP(t,r){let a;for(const s of t)s!=null&&(a<s||a===void 0&&s>=s)&&(a=s);return a}function xP(t,r){let a;for(const s of t)s!=null&&(a>s||a===void 0&&s>=s)&&(a=s);return a}function CR(t,r,a=0,s=1/0,i){if(r=Math.floor(r),a=Math.floor(Math.max(0,a)),s=Math.floor(Math.min(t.length-1,s)),!(a<=r&&r<=s))return t;for(i=i===void 0?SR:ole(i);s>a;){if(s-a>600){const d=s-a+1,f=r-a+1,u=Math.log(d),m=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*m*(d-m)/d)*(f-d/2<0?-1:1),g=Math.max(a,Math.floor(r-f*m/d+p)),v=Math.min(s,Math.floor(r+(d-f)*m/d+p));CR(t,r,g,v,i)}const o=t[r];let l=a,c=s;for(f1(t,a,r),i(t[s],o)>0&&f1(t,a,s);l<c;){for(f1(t,l,c),++l,--c;i(t[l],o)<0;)++l;for(;i(t[c],o)>0;)--c}i(t[a],o)===0?f1(t,a,c):(++c,f1(t,c,s)),c<=r&&(a=c+1),r<=c&&(s=c-1)}return t}function f1(t,r,a){const s=t[r];t[r]=t[a],t[a]=s}function ule(t,r,a){if(t=Float64Array.from(rle(t)),!(!(s=t.length)||isNaN(r=+r))){if(r<=0||s<2)return xP(t);if(r>=1)return gP(t);var s,i=(s-1)*r,o=Math.floor(i),l=gP(CR(t,o).subarray(0,o+1)),c=xP(t.subarray(o+1));return l+(c-l)*(i-o)}}function fle(t,r,a=NR){if(!(!(s=t.length)||isNaN(r=+r))){if(r<=0||s<2)return+a(t[0],0,t);if(r>=1)return+a(t[s-1],s-1,t);var s,i=(s-1)*r,o=Math.floor(i),l=+a(t[o],o,t),c=+a(t[o+1],o+1,t);return l+(c-l)*(i-o)}}function Ale(t,r,a){t=+t,r=+r,a=(i=arguments.length)<2?(r=t,t=0,1):i<3?1:+a;for(var s=-1,i=Math.max(0,Math.ceil((r-t)/a))|0,o=new Array(i);++s<i;)o[s]=t+s*a;return o}function yd(t,r){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(r).domain(t);break}return this}function ZA(t,r){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const GC=Symbol("implicit");function tE(){var t=new mP,r=[],a=[],s=GC;function i(o){let l=t.get(o);if(l===void 0){if(s!==GC)return s;t.set(o,l=r.push(o)-1)}return a[l%a.length]}return i.domain=function(o){if(!arguments.length)return r.slice();r=[],t=new mP;for(const l of o)t.has(l)||t.set(l,r.push(l)-1);return i},i.range=function(o){return arguments.length?(a=Array.from(o),i):a.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.copy=function(){return tE(r,a).unknown(s)},yd.apply(i,arguments),i}function rE(){var t=tE().unknown(void 0),r=t.domain,a=t.range,s=0,i=1,o,l,c=!1,d=0,f=0,u=.5;delete t.unknown;function m(){var p=r().length,g=i<s,v=g?i:s,y=g?s:i;o=(y-v)/Math.max(1,p-d+f*2),c&&(o=Math.floor(o)),v+=(y-v-o*(p-d))*u,l=o*(1-d),c&&(v=Math.round(v),l=Math.round(l));var b=Ale(p).map(function(j){return v+o*j});return a(g?b.reverse():b)}return t.domain=function(p){return arguments.length?(r(p),m()):r()},t.range=function(p){return arguments.length?([s,i]=p,s=+s,i=+i,m()):[s,i]},t.rangeRound=function(p){return[s,i]=p,s=+s,i=+i,c=!0,m()},t.bandwidth=function(){return l},t.step=function(){return o},t.round=function(p){return arguments.length?(c=!!p,m()):c},t.padding=function(p){return arguments.length?(d=Math.min(1,f=+p),m()):d},t.paddingInner=function(p){return arguments.length?(d=Math.min(1,p),m()):d},t.paddingOuter=function(p){return arguments.length?(f=+p,m()):f},t.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),m()):u},t.copy=function(){return rE(r(),[s,i]).round(c).paddingInner(d).paddingOuter(f).align(u)},yd.apply(m(),arguments)}function BR(t){var r=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return BR(r())},t}function hle(){return BR(rE.apply(null,arguments).paddingInner(1))}function aE(t,r,a){t.prototype=r.prototype=a,a.constructor=t}function ER(t,r){var a=Object.create(t.prototype);for(var s in r)a[s]=r[s];return a}function Zy(){}var Ay=.7,Q2=1/Ay,Ng="\\s*([+-]?\\d+)\\s*",hy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mle=/^#([0-9a-f]{3,8})$/,ple=new RegExp(`^rgb\\(${Ng},${Ng},${Ng}\\)$`),gle=new RegExp(`^rgb\\(${vf},${vf},${vf}\\)$`),xle=new RegExp(`^rgba\\(${Ng},${Ng},${Ng},${hy}\\)$`),yle=new RegExp(`^rgba\\(${vf},${vf},${vf},${hy}\\)$`),vle=new RegExp(`^hsl\\(${hy},${vf},${vf}\\)$`),ble=new RegExp(`^hsla\\(${hy},${vf},${vf},${hy}\\)$`),yP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};aE(Zy,my,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vP,formatHex:vP,formatHex8:wle,formatHsl:jle,formatRgb:bP,toString:bP});function vP(){return this.rgb().formatHex()}function wle(){return this.rgb().formatHex8()}function jle(){return TR(this).formatHsl()}function bP(){return this.rgb().formatRgb()}function my(t){var r,a;return t=(t+"").trim().toLowerCase(),(r=mle.exec(t))?(a=r[1].length,r=parseInt(r[1],16),a===6?wP(r):a===3?new Ll(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):a===8?wb(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):a===4?wb(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=ple.exec(t))?new Ll(r[1],r[2],r[3],1):(r=gle.exec(t))?new Ll(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=xle.exec(t))?wb(r[1],r[2],r[3],r[4]):(r=yle.exec(t))?wb(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=vle.exec(t))?SP(r[1],r[2]/100,r[3]/100,1):(r=ble.exec(t))?SP(r[1],r[2]/100,r[3]/100,r[4]):yP.hasOwnProperty(t)?wP(yP[t]):t==="transparent"?new Ll(NaN,NaN,NaN,0):null}function wP(t){return new Ll(t>>16&255,t>>8&255,t&255,1)}function wb(t,r,a,s){return s<=0&&(t=r=a=NaN),new Ll(t,r,a,s)}function Nle(t){return t instanceof Zy||(t=my(t)),t?(t=t.rgb(),new Ll(t.r,t.g,t.b,t.opacity)):new Ll}function WC(t,r,a,s){return arguments.length===1?Nle(t):new Ll(t,r,a,s??1)}function Ll(t,r,a,s){this.r=+t,this.g=+r,this.b=+a,this.opacity=+s}aE(Ll,WC,ER(Zy,{brighter(t){return t=t==null?Q2:Math.pow(Q2,t),new Ll(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ay:Math.pow(Ay,t),new Ll(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ll(U0(this.r),U0(this.g),U0(this.b),H2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jP,formatHex:jP,formatHex8:Sle,formatRgb:NP,toString:NP}));function jP(){return`#${N0(this.r)}${N0(this.g)}${N0(this.b)}`}function Sle(){return`#${N0(this.r)}${N0(this.g)}${N0(this.b)}${N0((isNaN(this.opacity)?1:this.opacity)*255)}`}function NP(){const t=H2(this.opacity);return`${t===1?"rgb(":"rgba("}${U0(this.r)}, ${U0(this.g)}, ${U0(this.b)}${t===1?")":`, ${t})`}`}function H2(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function U0(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function N0(t){return t=U0(t),(t<16?"0":"")+t.toString(16)}function SP(t,r,a,s){return s<=0?t=r=a=NaN:a<=0||a>=1?t=r=NaN:r<=0&&(t=NaN),new pu(t,r,a,s)}function TR(t){if(t instanceof pu)return new pu(t.h,t.s,t.l,t.opacity);if(t instanceof Zy||(t=my(t)),!t)return new pu;if(t instanceof pu)return t;t=t.rgb();var r=t.r/255,a=t.g/255,s=t.b/255,i=Math.min(r,a,s),o=Math.max(r,a,s),l=NaN,c=o-i,d=(o+i)/2;return c?(r===o?l=(a-s)/c+(a<s)*6:a===o?l=(s-r)/c+2:l=(r-a)/c+4,c/=d<.5?o+i:2-o-i,l*=60):c=d>0&&d<1?0:l,new pu(l,c,d,t.opacity)}function Cle(t,r,a,s){return arguments.length===1?TR(t):new pu(t,r,a,s??1)}function pu(t,r,a,s){this.h=+t,this.s=+r,this.l=+a,this.opacity=+s}aE(pu,Cle,ER(Zy,{brighter(t){return t=t==null?Q2:Math.pow(Q2,t),new pu(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ay:Math.pow(Ay,t),new pu(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,r=isNaN(t)||isNaN(this.s)?0:this.s,a=this.l,s=a+(a<.5?a:1-a)*r,i=2*a-s;return new Ll(OS(t>=240?t-240:t+120,i,s),OS(t,i,s),OS(t<120?t+240:t-120,i,s),this.opacity)},clamp(){return new pu(CP(this.h),jb(this.s),jb(this.l),H2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=H2(this.opacity);return`${t===1?"hsl(":"hsla("}${CP(this.h)}, ${jb(this.s)*100}%, ${jb(this.l)*100}%${t===1?")":`, ${t})`}`}}));function CP(t){return t=(t||0)%360,t<0?t+360:t}function jb(t){return Math.max(0,Math.min(1,t||0))}function OS(t,r,a){return(t<60?r+(a-r)*t/60:t<180?a:t<240?r+(a-r)*(240-t)/60:r)*255}const sE=t=>()=>t;function Ble(t,r){return function(a){return t+a*r}}function Ele(t,r,a){return t=Math.pow(t,a),r=Math.pow(r,a)-t,a=1/a,function(s){return Math.pow(t+s*r,a)}}function Tle(t){return(t=+t)==1?FR:function(r,a){return a-r?Ele(r,a,t):sE(isNaN(r)?a:r)}}function FR(t,r){var a=r-t;return a?Ble(t,a):sE(isNaN(t)?r:t)}const BP=function t(r){var a=Tle(r);function s(i,o){var l=a((i=WC(i)).r,(o=WC(o)).r),c=a(i.g,o.g),d=a(i.b,o.b),f=FR(i.opacity,o.opacity);return function(u){return i.r=l(u),i.g=c(u),i.b=d(u),i.opacity=f(u),i+""}}return s.gamma=t,s}(1);function Fle(t,r){r||(r=[]);var a=t?Math.min(r.length,t.length):0,s=r.slice(),i;return function(o){for(i=0;i<a;++i)s[i]=t[i]*(1-o)+r[i]*o;return s}}function Ile(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function kle(t,r){var a=r?r.length:0,s=t?Math.min(a,t.length):0,i=new Array(s),o=new Array(a),l;for(l=0;l<s;++l)i[l]=Jg(t[l],r[l]);for(;l<a;++l)o[l]=r[l];return function(c){for(l=0;l<s;++l)o[l]=i[l](c);return o}}function _le(t,r){var a=new Date;return t=+t,r=+r,function(s){return a.setTime(t*(1-s)+r*s),a}}function $2(t,r){return t=+t,r=+r,function(a){return t*(1-a)+r*a}}function Ple(t,r){var a={},s={},i;(t===null||typeof t!="object")&&(t={}),(r===null||typeof r!="object")&&(r={});for(i in r)i in t?a[i]=Jg(t[i],r[i]):s[i]=r[i];return function(o){for(i in a)s[i]=a[i](o);return s}}var qC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,DS=new RegExp(qC.source,"g");function Ole(t){return function(){return t}}function Dle(t){return function(r){return t(r)+""}}function Lle(t,r){var a=qC.lastIndex=DS.lastIndex=0,s,i,o,l=-1,c=[],d=[];for(t=t+"",r=r+"";(s=qC.exec(t))&&(i=DS.exec(r));)(o=i.index)>a&&(o=r.slice(a,o),c[l]?c[l]+=o:c[++l]=o),(s=s[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,d.push({i:l,x:$2(s,i)})),a=DS.lastIndex;return a<r.length&&(o=r.slice(a),c[l]?c[l]+=o:c[++l]=o),c.length<2?d[0]?Dle(d[0].x):Ole(r):(r=d.length,function(f){for(var u=0,m;u<r;++u)c[(m=d[u]).i]=m.x(f);return c.join("")})}function Jg(t,r){var a=typeof r,s;return r==null||a==="boolean"?sE(r):(a==="number"?$2:a==="string"?(s=my(r))?(r=s,BP):Lle:r instanceof my?BP:r instanceof Date?_le:Ile(r)?Fle:Array.isArray(r)?kle:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?Ple:$2)(t,r)}function nE(t,r){return t=+t,r=+r,function(a){return Math.round(t*(1-a)+r*a)}}function Mle(t,r){r===void 0&&(r=t,t=Jg);for(var a=0,s=r.length-1,i=r[0],o=new Array(s<0?0:s);a<s;)o[a]=t(i,i=r[++a]);return function(l){var c=Math.max(0,Math.min(s-1,Math.floor(l*=s)));return o[c](l-c)}}function Ule(t){return function(){return t}}function z2(t){return+t}var EP=[0,1];function Al(t){return t}function YC(t,r){return(r-=t=+t)?function(a){return(a-t)/r}:Ule(isNaN(r)?NaN:.5)}function Rle(t,r){var a;return t>r&&(a=t,t=r,r=a),function(s){return Math.max(t,Math.min(r,s))}}function Qle(t,r,a){var s=t[0],i=t[1],o=r[0],l=r[1];return i<s?(s=YC(i,s),o=a(l,o)):(s=YC(s,i),o=a(o,l)),function(c){return o(s(c))}}function Hle(t,r,a){var s=Math.min(t.length,r.length)-1,i=new Array(s),o=new Array(s),l=-1;for(t[s]<t[0]&&(t=t.slice().reverse(),r=r.slice().reverse());++l<s;)i[l]=YC(t[l],t[l+1]),o[l]=a(r[l],r[l+1]);return function(c){var d=Jy(t,c,1,s)-1;return o[d](i[d](c))}}function ev(t,r){return r.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function m4(){var t=EP,r=EP,a=Jg,s,i,o,l=Al,c,d,f;function u(){var p=Math.min(t.length,r.length);return l!==Al&&(l=Rle(t[0],t[p-1])),c=p>2?Hle:Qle,d=f=null,m}function m(p){return p==null||isNaN(p=+p)?o:(d||(d=c(t.map(s),r,a)))(s(l(p)))}return m.invert=function(p){return l(i((f||(f=c(r,t.map(s),$2)))(p)))},m.domain=function(p){return arguments.length?(t=Array.from(p,z2),u()):t.slice()},m.range=function(p){return arguments.length?(r=Array.from(p),u()):r.slice()},m.rangeRound=function(p){return r=Array.from(p),a=nE,u()},m.clamp=function(p){return arguments.length?(l=p?!0:Al,u()):l!==Al},m.interpolate=function(p){return arguments.length?(a=p,u()):a},m.unknown=function(p){return arguments.length?(o=p,m):o},function(p,g){return s=p,i=g,u()}}function iE(){return m4()(Al,Al)}function $le(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function V2(t,r){if((a=(t=r?t.toExponential(r-1):t.toExponential()).indexOf("e"))<0)return null;var a,s=t.slice(0,a);return[s.length>1?s[0]+s.slice(2):s,+t.slice(a+1)]}function Dg(t){return t=V2(Math.abs(t)),t?t[1]:NaN}function zle(t,r){return function(a,s){for(var i=a.length,o=[],l=0,c=t[0],d=0;i>0&&c>0&&(d+c+1>s&&(c=Math.max(1,s-d)),o.push(a.substring(i-=c,i+c)),!((d+=c+1)>s));)c=t[l=(l+1)%t.length];return o.reverse().join(r)}}function Vle(t){return function(r){return r.replace(/[0-9]/g,function(a){return t[+a]})}}var Kle=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function py(t){if(!(r=Kle.exec(t)))throw new Error("invalid format: "+t);var r;return new oE({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}py.prototype=oE.prototype;function oE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}oE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Gle(t){e:for(var r=t.length,a=1,s=-1,i;a<r;++a)switch(t[a]){case".":s=i=a;break;case"0":s===0&&(s=a),i=a;break;default:if(!+t[a])break e;s>0&&(s=0);break}return s>0?t.slice(0,s)+t.slice(i+1):t}var IR;function Wle(t,r){var a=V2(t,r);if(!a)return t+"";var s=a[0],i=a[1],o=i-(IR=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=s.length;return o===l?s:o>l?s+new Array(o-l+1).join("0"):o>0?s.slice(0,o)+"."+s.slice(o):"0."+new Array(1-o).join("0")+V2(t,Math.max(0,r+o-1))[0]}function TP(t,r){var a=V2(t,r);if(!a)return t+"";var s=a[0],i=a[1];return i<0?"0."+new Array(-i).join("0")+s:s.length>i+1?s.slice(0,i+1)+"."+s.slice(i+1):s+new Array(i-s.length+2).join("0")}const FP={"%":(t,r)=>(t*100).toFixed(r),b:t=>Math.round(t).toString(2),c:t=>t+"",d:$le,e:(t,r)=>t.toExponential(r),f:(t,r)=>t.toFixed(r),g:(t,r)=>t.toPrecision(r),o:t=>Math.round(t).toString(8),p:(t,r)=>TP(t*100,r),r:TP,s:Wle,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function IP(t){return t}var kP=Array.prototype.map,_P=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qle(t){var r=t.grouping===void 0||t.thousands===void 0?IP:zle(kP.call(t.grouping,Number),t.thousands+""),a=t.currency===void 0?"":t.currency[0]+"",s=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?IP:Vle(kP.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(m){m=py(m);var p=m.fill,g=m.align,v=m.sign,y=m.symbol,b=m.zero,j=m.width,N=m.comma,S=m.precision,B=m.trim,I=m.type;I==="n"?(N=!0,I="g"):FP[I]||(S===void 0&&(S=12),B=!0,I="g"),(b||p==="0"&&g==="=")&&(b=!0,p="0",g="=");var F=y==="$"?a:y==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",O=y==="$"?s:/[%p]/.test(I)?l:"",k=FP[I],V=/[defgprs%]/.test(I);S=S===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function Q(H){var M=F,K=O,q,re,ee;if(I==="c")K=k(H)+K,H="";else{H=+H;var le=H<0||1/H<0;if(H=isNaN(H)?d:k(Math.abs(H),S),B&&(H=Gle(H)),le&&+H==0&&v!=="+"&&(le=!1),M=(le?v==="("?v:c:v==="-"||v==="("?"":v)+M,K=(I==="s"?_P[8+IR/3]:"")+K+(le&&v==="("?")":""),V){for(q=-1,re=H.length;++q<re;)if(ee=H.charCodeAt(q),48>ee||ee>57){K=(ee===46?i+H.slice(q+1):H.slice(q))+K,H=H.slice(0,q);break}}}N&&!b&&(H=r(H,1/0));var Ae=M.length+H.length+K.length,ue=Ae<j?new Array(j-Ae+1).join(p):"";switch(N&&b&&(H=r(ue+H,ue.length?j-K.length:1/0),ue=""),g){case"<":H=M+H+K+ue;break;case"=":H=M+ue+H+K;break;case"^":H=ue.slice(0,Ae=ue.length>>1)+M+H+K+ue.slice(Ae);break;default:H=ue+M+H+K;break}return o(H)}return Q.toString=function(){return m+""},Q}function u(m,p){var g=f((m=py(m),m.type="f",m)),v=Math.max(-8,Math.min(8,Math.floor(Dg(p)/3)))*3,y=Math.pow(10,-v),b=_P[8+v/3];return function(j){return g(y*j)+b}}return{format:f,formatPrefix:u}}var Nb,lE,kR;Yle({thousands:",",grouping:[3],currency:["$",""]});function Yle(t){return Nb=qle(t),lE=Nb.format,kR=Nb.formatPrefix,Nb}function Xle(t){return Math.max(0,-Dg(Math.abs(t)))}function Jle(t,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Dg(r)/3)))*3-Dg(Math.abs(t)))}function Zle(t,r){return t=Math.abs(t),r=Math.abs(r)-t,Math.max(0,Dg(r)-Dg(t))+1}function _R(t,r,a,s){var i=KC(t,r,a),o;switch(s=py(s??",f"),s.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(r));return s.precision==null&&!isNaN(o=Jle(i,l))&&(s.precision=o),kR(s,l)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(o=Zle(i,Math.max(Math.abs(t),Math.abs(r))))&&(s.precision=o-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(o=Xle(i))&&(s.precision=o-(s.type==="%")*2);break}}return lE(s)}function Cm(t){var r=t.domain;return t.ticks=function(a){var s=r();return zC(s[0],s[s.length-1],a??10)},t.tickFormat=function(a,s){var i=r();return _R(i[0],i[i.length-1],a??10,s)},t.nice=function(a){a==null&&(a=10);var s=r(),i=0,o=s.length-1,l=s[i],c=s[o],d,f,u=10;for(c<l&&(f=l,l=c,c=f,f=i,i=o,o=f);u-- >0;){if(f=VC(l,c,a),f===d)return s[i]=l,s[o]=c,r(s);if(f>0)l=Math.floor(l/f)*f,c=Math.ceil(c/f)*f;else if(f<0)l=Math.ceil(l*f)/f,c=Math.floor(c*f)/f;else break;d=f}return t},t}function PR(){var t=iE();return t.copy=function(){return ev(t,PR())},yd.apply(t,arguments),Cm(t)}function OR(t){var r;function a(s){return s==null||isNaN(s=+s)?r:s}return a.invert=a,a.domain=a.range=function(s){return arguments.length?(t=Array.from(s,z2),a):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return OR(t).unknown(r)},t=arguments.length?Array.from(t,z2):[0,1],Cm(a)}function DR(t,r){t=t.slice();var a=0,s=t.length-1,i=t[a],o=t[s],l;return o<i&&(l=a,a=s,s=l,l=i,i=o,o=l),t[a]=r.floor(i),t[s]=r.ceil(o),t}function PP(t){return Math.log(t)}function OP(t){return Math.exp(t)}function ece(t){return-Math.log(-t)}function tce(t){return-Math.exp(-t)}function rce(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ace(t){return t===10?rce:t===Math.E?Math.exp:r=>Math.pow(t,r)}function sce(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),r=>Math.log(r)/t)}function DP(t){return(r,a)=>-t(-r,a)}function cE(t){const r=t(PP,OP),a=r.domain;let s=10,i,o;function l(){return i=sce(s),o=ace(s),a()[0]<0?(i=DP(i),o=DP(o),t(ece,tce)):t(PP,OP),r}return r.base=function(c){return arguments.length?(s=+c,l()):s},r.domain=function(c){return arguments.length?(a(c),l()):a()},r.ticks=c=>{const d=a();let f=d[0],u=d[d.length-1];const m=u<f;m&&([f,u]=[u,f]);let p=i(f),g=i(u),v,y;const b=c==null?10:+c;let j=[];if(!(s%1)&&g-p<b){if(p=Math.floor(p),g=Math.ceil(g),f>0){for(;p<=g;++p)for(v=1;v<s;++v)if(y=p<0?v/o(-p):v*o(p),!(y<f)){if(y>u)break;j.push(y)}}else for(;p<=g;++p)for(v=s-1;v>=1;--v)if(y=p>0?v/o(-p):v*o(p),!(y<f)){if(y>u)break;j.push(y)}j.length*2<b&&(j=zC(f,u,b))}else j=zC(p,g,Math.min(g-p,b)).map(o);return m?j.reverse():j},r.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=s===10?"s":","),typeof d!="function"&&(!(s%1)&&(d=py(d)).precision==null&&(d.trim=!0),d=lE(d)),c===1/0)return d;const f=Math.max(1,s*c/r.ticks().length);return u=>{let m=u/o(Math.round(i(u)));return m*s<s-.5&&(m*=s),m<=f?d(u):""}},r.nice=()=>a(DR(a(),{floor:c=>o(Math.floor(i(c))),ceil:c=>o(Math.ceil(i(c)))})),r}function LR(){const t=cE(m4()).domain([1,10]);return t.copy=()=>ev(t,LR()).base(t.base()),yd.apply(t,arguments),t}function LP(t){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/t))}}function MP(t){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*t}}function dE(t){var r=1,a=t(LP(r),MP(r));return a.constant=function(s){return arguments.length?t(LP(r=+s),MP(r)):r},Cm(a)}function MR(){var t=dE(m4());return t.copy=function(){return ev(t,MR()).constant(t.constant())},yd.apply(t,arguments)}function UP(t){return function(r){return r<0?-Math.pow(-r,t):Math.pow(r,t)}}function nce(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ice(t){return t<0?-t*t:t*t}function uE(t){var r=t(Al,Al),a=1;function s(){return a===1?t(Al,Al):a===.5?t(nce,ice):t(UP(a),UP(1/a))}return r.exponent=function(i){return arguments.length?(a=+i,s()):a},Cm(r)}function fE(){var t=uE(m4());return t.copy=function(){return ev(t,fE()).exponent(t.exponent())},yd.apply(t,arguments),t}function oce(){return fE.apply(null,arguments).exponent(.5)}function RP(t){return Math.sign(t)*t*t}function lce(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function UR(){var t=iE(),r=[0,1],a=!1,s;function i(o){var l=lce(t(o));return isNaN(l)?s:a?Math.round(l):l}return i.invert=function(o){return t.invert(RP(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((r=Array.from(o,z2)).map(RP)),i):r.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(a=!!o,i):a},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.copy=function(){return UR(t.domain(),r).round(a).clamp(t.clamp()).unknown(s)},yd.apply(i,arguments),Cm(i)}function RR(){var t=[],r=[],a=[],s;function i(){var l=0,c=Math.max(1,r.length);for(a=new Array(c-1);++l<c;)a[l-1]=fle(t,l/c);return o}function o(l){return l==null||isNaN(l=+l)?s:r[Jy(a,l)]}return o.invertExtent=function(l){var c=r.indexOf(l);return c<0?[NaN,NaN]:[c>0?a[c-1]:t[0],c<a.length?a[c]:t[t.length-1]]},o.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(im),i()},o.range=function(l){return arguments.length?(r=Array.from(l),i()):r.slice()},o.unknown=function(l){return arguments.length?(s=l,o):s},o.quantiles=function(){return a.slice()},o.copy=function(){return RR().domain(t).range(r).unknown(s)},yd.apply(o,arguments)}function QR(){var t=0,r=1,a=1,s=[.5],i=[0,1],o;function l(d){return d!=null&&d<=d?i[Jy(s,d,0,a)]:o}function c(){var d=-1;for(s=new Array(a);++d<a;)s[d]=((d+1)*r-(d-a)*t)/(a+1);return l}return l.domain=function(d){return arguments.length?([t,r]=d,t=+t,r=+r,c()):[t,r]},l.range=function(d){return arguments.length?(a=(i=Array.from(d)).length-1,c()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,s[0]]:f>=a?[s[a-1],r]:[s[f-1],s[f]]},l.unknown=function(d){return arguments.length&&(o=d),l},l.thresholds=function(){return s.slice()},l.copy=function(){return QR().domain([t,r]).range(i).unknown(o)},yd.apply(Cm(l),arguments)}function HR(){var t=[.5],r=[0,1],a,s=1;function i(o){return o!=null&&o<=o?r[Jy(t,o,0,s)]:a}return i.domain=function(o){return arguments.length?(t=Array.from(o),s=Math.min(t.length,r.length-1),i):t.slice()},i.range=function(o){return arguments.length?(r=Array.from(o),s=Math.min(t.length,r.length-1),i):r.slice()},i.invertExtent=function(o){var l=r.indexOf(o);return[t[l-1],t[l]]},i.unknown=function(o){return arguments.length?(a=o,i):a},i.copy=function(){return HR().domain(t).range(r).unknown(a)},yd.apply(i,arguments)}const LS=new Date,MS=new Date;function Ci(t,r,a,s){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),r(o,1),t(o),o),i.round=o=>{const l=i(o),c=i.ceil(o);return o-l<c-o?l:c},i.offset=(o,l)=>(r(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,c)=>{const d=[];if(o=i.ceil(o),c=c==null?1:Math.floor(c),!(o<l)||!(c>0))return d;let f;do d.push(f=new Date(+o)),r(o,c),t(o);while(f<o&&o<l);return d},i.filter=o=>Ci(l=>{if(l>=l)for(;t(l),!o(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;r(l,-1),!o(l););else for(;--c>=0;)for(;r(l,1),!o(l););}),a&&(i.count=(o,l)=>(LS.setTime(+o),MS.setTime(+l),t(LS),t(MS),Math.floor(a(LS,MS))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(s?l=>s(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const K2=Ci(()=>{},(t,r)=>{t.setTime(+t+r)},(t,r)=>r-t);K2.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ci(r=>{r.setTime(Math.floor(r/t)*t)},(r,a)=>{r.setTime(+r+a*t)},(r,a)=>(a-r)/t):K2);K2.range;const BA=1e3,hd=BA*60,EA=hd*60,QA=EA*24,AE=QA*7,QP=QA*30,US=QA*365,S0=Ci(t=>{t.setTime(t-t.getMilliseconds())},(t,r)=>{t.setTime(+t+r*BA)},(t,r)=>(r-t)/BA,t=>t.getUTCSeconds());S0.range;const hE=Ci(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*BA)},(t,r)=>{t.setTime(+t+r*hd)},(t,r)=>(r-t)/hd,t=>t.getMinutes());hE.range;const mE=Ci(t=>{t.setUTCSeconds(0,0)},(t,r)=>{t.setTime(+t+r*hd)},(t,r)=>(r-t)/hd,t=>t.getUTCMinutes());mE.range;const pE=Ci(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*BA-t.getMinutes()*hd)},(t,r)=>{t.setTime(+t+r*EA)},(t,r)=>(r-t)/EA,t=>t.getHours());pE.range;const gE=Ci(t=>{t.setUTCMinutes(0,0,0)},(t,r)=>{t.setTime(+t+r*EA)},(t,r)=>(r-t)/EA,t=>t.getUTCHours());gE.range;const tv=Ci(t=>t.setHours(0,0,0,0),(t,r)=>t.setDate(t.getDate()+r),(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*hd)/QA,t=>t.getDate()-1);tv.range;const p4=Ci(t=>{t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r)},(t,r)=>(r-t)/QA,t=>t.getUTCDate()-1);p4.range;const $R=Ci(t=>{t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r)},(t,r)=>(r-t)/QA,t=>Math.floor(t/QA));$R.range;function lp(t){return Ci(r=>{r.setDate(r.getDate()-(r.getDay()+7-t)%7),r.setHours(0,0,0,0)},(r,a)=>{r.setDate(r.getDate()+a*7)},(r,a)=>(a-r-(a.getTimezoneOffset()-r.getTimezoneOffset())*hd)/AE)}const g4=lp(0),G2=lp(1),cce=lp(2),dce=lp(3),Lg=lp(4),uce=lp(5),fce=lp(6);g4.range;G2.range;cce.range;dce.range;Lg.range;uce.range;fce.range;function cp(t){return Ci(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-t)%7),r.setUTCHours(0,0,0,0)},(r,a)=>{r.setUTCDate(r.getUTCDate()+a*7)},(r,a)=>(a-r)/AE)}const x4=cp(0),W2=cp(1),Ace=cp(2),hce=cp(3),Mg=cp(4),mce=cp(5),pce=cp(6);x4.range;W2.range;Ace.range;hce.range;Mg.range;mce.range;pce.range;const xE=Ci(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,r)=>{t.setMonth(t.getMonth()+r)},(t,r)=>r.getMonth()-t.getMonth()+(r.getFullYear()-t.getFullYear())*12,t=>t.getMonth());xE.range;const yE=Ci(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCMonth(t.getUTCMonth()+r)},(t,r)=>r.getUTCMonth()-t.getUTCMonth()+(r.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());yE.range;const HA=Ci(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r)},(t,r)=>r.getFullYear()-t.getFullYear(),t=>t.getFullYear());HA.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ci(r=>{r.setFullYear(Math.floor(r.getFullYear()/t)*t),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,a)=>{r.setFullYear(r.getFullYear()+a*t)});HA.range;const $A=Ci(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r)},(t,r)=>r.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());$A.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ci(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/t)*t),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,a)=>{r.setUTCFullYear(r.getUTCFullYear()+a*t)});$A.range;function zR(t,r,a,s,i,o){const l=[[S0,1,BA],[S0,5,5*BA],[S0,15,15*BA],[S0,30,30*BA],[o,1,hd],[o,5,5*hd],[o,15,15*hd],[o,30,30*hd],[i,1,EA],[i,3,3*EA],[i,6,6*EA],[i,12,12*EA],[s,1,QA],[s,2,2*QA],[a,1,AE],[r,1,QP],[r,3,3*QP],[t,1,US]];function c(f,u,m){const p=u<f;p&&([f,u]=[u,f]);const g=m&&typeof m.range=="function"?m:d(f,u,m),v=g?g.range(f,+u+1):[];return p?v.reverse():v}function d(f,u,m){const p=Math.abs(u-f)/m,g=eE(([,,b])=>b).right(l,p);if(g===l.length)return t.every(KC(f/US,u/US,m));if(g===0)return K2.every(Math.max(KC(f,u,m),1));const[v,y]=l[p/l[g-1][2]<l[g][2]/p?g-1:g];return v.every(y)}return[c,d]}const[gce,xce]=zR($A,yE,x4,$R,gE,mE),[yce,vce]=zR(HA,xE,g4,tv,pE,hE);function RS(t){if(0<=t.y&&t.y<100){var r=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return r.setFullYear(t.y),r}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function QS(t){if(0<=t.y&&t.y<100){var r=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return r.setUTCFullYear(t.y),r}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function A1(t,r,a){return{y:t,m:r,d:a,H:0,M:0,S:0,L:0}}function bce(t){var r=t.dateTime,a=t.date,s=t.time,i=t.periods,o=t.days,l=t.shortDays,c=t.months,d=t.shortMonths,f=h1(i),u=m1(i),m=h1(o),p=m1(o),g=h1(l),v=m1(l),y=h1(c),b=m1(c),j=h1(d),N=m1(d),S={a:le,A:Ae,b:ue,B:se,c:null,d:GP,e:GP,f:zce,g:ede,G:rde,H:Qce,I:Hce,j:$ce,L:VR,m:Vce,M:Kce,p:ve,q:_,Q:YP,s:XP,S:Gce,u:Wce,U:qce,V:Yce,w:Xce,W:Jce,x:null,X:null,y:Zce,Y:tde,Z:ade,"%":qP},B={a:z,A:ae,b:oe,B:ce,c:null,d:WP,e:WP,f:ode,g:gde,G:yde,H:sde,I:nde,j:ide,L:GR,m:lde,M:cde,p:me,q:he,Q:YP,s:XP,S:dde,u:ude,U:fde,V:Ade,w:hde,W:mde,x:null,X:null,y:pde,Y:xde,Z:vde,"%":qP},I={a:Q,A:H,b:M,B:K,c:q,d:VP,e:VP,f:Lce,g:zP,G:$P,H:KP,I:KP,j:_ce,L:Dce,m:kce,M:Pce,p:V,q:Ice,Q:Uce,s:Rce,S:Oce,u:Cce,U:Bce,V:Ece,w:Sce,W:Tce,x:re,X:ee,y:zP,Y:$P,Z:Fce,"%":Mce};S.x=F(a,S),S.X=F(s,S),S.c=F(r,S),B.x=F(a,B),B.X=F(s,B),B.c=F(r,B);function F(te,J){return function(X){var xe=[],Ne=-1,ge=0,pe=te.length,Y,Le,ie;for(X instanceof Date||(X=new Date(+X));++Ne<pe;)te.charCodeAt(Ne)===37&&(xe.push(te.slice(ge,Ne)),(Le=HP[Y=te.charAt(++Ne)])!=null?Y=te.charAt(++Ne):Le=Y==="e"?" ":"0",(ie=J[Y])&&(Y=ie(X,Le)),xe.push(Y),ge=Ne+1);return xe.push(te.slice(ge,Ne)),xe.join("")}}function O(te,J){return function(X){var xe=A1(1900,void 0,1),Ne=k(xe,te,X+="",0),ge,pe;if(Ne!=X.length)return null;if("Q"in xe)return new Date(xe.Q);if("s"in xe)return new Date(xe.s*1e3+("L"in xe?xe.L:0));if(J&&!("Z"in xe)&&(xe.Z=0),"p"in xe&&(xe.H=xe.H%12+xe.p*12),xe.m===void 0&&(xe.m="q"in xe?xe.q:0),"V"in xe){if(xe.V<1||xe.V>53)return null;"w"in xe||(xe.w=1),"Z"in xe?(ge=QS(A1(xe.y,0,1)),pe=ge.getUTCDay(),ge=pe>4||pe===0?W2.ceil(ge):W2(ge),ge=p4.offset(ge,(xe.V-1)*7),xe.y=ge.getUTCFullYear(),xe.m=ge.getUTCMonth(),xe.d=ge.getUTCDate()+(xe.w+6)%7):(ge=RS(A1(xe.y,0,1)),pe=ge.getDay(),ge=pe>4||pe===0?G2.ceil(ge):G2(ge),ge=tv.offset(ge,(xe.V-1)*7),xe.y=ge.getFullYear(),xe.m=ge.getMonth(),xe.d=ge.getDate()+(xe.w+6)%7)}else("W"in xe||"U"in xe)&&("w"in xe||(xe.w="u"in xe?xe.u%7:"W"in xe?1:0),pe="Z"in xe?QS(A1(xe.y,0,1)).getUTCDay():RS(A1(xe.y,0,1)).getDay(),xe.m=0,xe.d="W"in xe?(xe.w+6)%7+xe.W*7-(pe+5)%7:xe.w+xe.U*7-(pe+6)%7);return"Z"in xe?(xe.H+=xe.Z/100|0,xe.M+=xe.Z%100,QS(xe)):RS(xe)}}function k(te,J,X,xe){for(var Ne=0,ge=J.length,pe=X.length,Y,Le;Ne<ge;){if(xe>=pe)return-1;if(Y=J.charCodeAt(Ne++),Y===37){if(Y=J.charAt(Ne++),Le=I[Y in HP?J.charAt(Ne++):Y],!Le||(xe=Le(te,X,xe))<0)return-1}else if(Y!=X.charCodeAt(xe++))return-1}return xe}function V(te,J,X){var xe=f.exec(J.slice(X));return xe?(te.p=u.get(xe[0].toLowerCase()),X+xe[0].length):-1}function Q(te,J,X){var xe=g.exec(J.slice(X));return xe?(te.w=v.get(xe[0].toLowerCase()),X+xe[0].length):-1}function H(te,J,X){var xe=m.exec(J.slice(X));return xe?(te.w=p.get(xe[0].toLowerCase()),X+xe[0].length):-1}function M(te,J,X){var xe=j.exec(J.slice(X));return xe?(te.m=N.get(xe[0].toLowerCase()),X+xe[0].length):-1}function K(te,J,X){var xe=y.exec(J.slice(X));return xe?(te.m=b.get(xe[0].toLowerCase()),X+xe[0].length):-1}function q(te,J,X){return k(te,r,J,X)}function re(te,J,X){return k(te,a,J,X)}function ee(te,J,X){return k(te,s,J,X)}function le(te){return l[te.getDay()]}function Ae(te){return o[te.getDay()]}function ue(te){return d[te.getMonth()]}function se(te){return c[te.getMonth()]}function ve(te){return i[+(te.getHours()>=12)]}function _(te){return 1+~~(te.getMonth()/3)}function z(te){return l[te.getUTCDay()]}function ae(te){return o[te.getUTCDay()]}function oe(te){return d[te.getUTCMonth()]}function ce(te){return c[te.getUTCMonth()]}function me(te){return i[+(te.getUTCHours()>=12)]}function he(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var J=F(te+="",S);return J.toString=function(){return te},J},parse:function(te){var J=O(te+="",!1);return J.toString=function(){return te},J},utcFormat:function(te){var J=F(te+="",B);return J.toString=function(){return te},J},utcParse:function(te){var J=O(te+="",!0);return J.toString=function(){return te},J}}}var HP={"-":"",_:" ",0:"0"},qi=/^\s*\d+/,wce=/^%/,jce=/[\\^$*+?|[\]().{}]/g;function es(t,r,a){var s=t<0?"-":"",i=(s?-t:t)+"",o=i.length;return s+(o<a?new Array(a-o+1).join(r)+i:i)}function Nce(t){return t.replace(jce,"\\$&")}function h1(t){return new RegExp("^(?:"+t.map(Nce).join("|")+")","i")}function m1(t){return new Map(t.map((r,a)=>[r.toLowerCase(),a]))}function Sce(t,r,a){var s=qi.exec(r.slice(a,a+1));return s?(t.w=+s[0],a+s[0].length):-1}function Cce(t,r,a){var s=qi.exec(r.slice(a,a+1));return s?(t.u=+s[0],a+s[0].length):-1}function Bce(t,r,a){var s=qi.exec(r.slice(a,a+2));return s?(t.U=+s[0],a+s[0].length):-1}function Ece(t,r,a){var s=qi.exec(r.slice(a,a+2));return s?(t.V=+s[0],a+s[0].length):-1}function Tce(t,r,a){var s=qi.exec(r.slice(a,a+2));return s?(t.W=+s[0],a+s[0].length):-1}function $P(t,r,a){var s=qi.exec(r.slice(a,a+4));return s?(t.y=+s[0],a+s[0].length):-1}function zP(t,r,a){var s=qi.exec(r.slice(a,a+2));return s?(t.y=+s[0]+(+s[0]>68?1900:2e3),a+s[0].length):-1}function Fce(t,r,a){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(a,a+6));return s?(t.Z=s[1]?0:-(s[2]+(s[3]||"00")),a+s[0].length):-1}function Ice(t,r,a){var s=qi.exec(r.slice(a,a+1));return s?(t.q=s[0]*3-3,a+s[0].length):-1}function kce(t,r,a){var s=qi.exec(r.slice(a,a+2));return s?(t.m=s[0]-1,a+s[0].length):-1}function VP(t,r,a){var s=qi.exec(r.slice(a,a+2));return s?(t.d=+s[0],a+s[0].length):-1}function _ce(t,r,a){var s=qi.exec(r.slice(a,a+3));return s?(t.m=0,t.d=+s[0],a+s[0].length):-1}function KP(t,r,a){var s=qi.exec(r.slice(a,a+2));return s?(t.H=+s[0],a+s[0].length):-1}function Pce(t,r,a){var s=qi.exec(r.slice(a,a+2));return s?(t.M=+s[0],a+s[0].length):-1}function Oce(t,r,a){var s=qi.exec(r.slice(a,a+2));return s?(t.S=+s[0],a+s[0].length):-1}function Dce(t,r,a){var s=qi.exec(r.slice(a,a+3));return s?(t.L=+s[0],a+s[0].length):-1}function Lce(t,r,a){var s=qi.exec(r.slice(a,a+6));return s?(t.L=Math.floor(s[0]/1e3),a+s[0].length):-1}function Mce(t,r,a){var s=wce.exec(r.slice(a,a+1));return s?a+s[0].length:-1}function Uce(t,r,a){var s=qi.exec(r.slice(a));return s?(t.Q=+s[0],a+s[0].length):-1}function Rce(t,r,a){var s=qi.exec(r.slice(a));return s?(t.s=+s[0],a+s[0].length):-1}function GP(t,r){return es(t.getDate(),r,2)}function Qce(t,r){return es(t.getHours(),r,2)}function Hce(t,r){return es(t.getHours()%12||12,r,2)}function $ce(t,r){return es(1+tv.count(HA(t),t),r,3)}function VR(t,r){return es(t.getMilliseconds(),r,3)}function zce(t,r){return VR(t,r)+"000"}function Vce(t,r){return es(t.getMonth()+1,r,2)}function Kce(t,r){return es(t.getMinutes(),r,2)}function Gce(t,r){return es(t.getSeconds(),r,2)}function Wce(t){var r=t.getDay();return r===0?7:r}function qce(t,r){return es(g4.count(HA(t)-1,t),r,2)}function KR(t){var r=t.getDay();return r>=4||r===0?Lg(t):Lg.ceil(t)}function Yce(t,r){return t=KR(t),es(Lg.count(HA(t),t)+(HA(t).getDay()===4),r,2)}function Xce(t){return t.getDay()}function Jce(t,r){return es(G2.count(HA(t)-1,t),r,2)}function Zce(t,r){return es(t.getFullYear()%100,r,2)}function ede(t,r){return t=KR(t),es(t.getFullYear()%100,r,2)}function tde(t,r){return es(t.getFullYear()%1e4,r,4)}function rde(t,r){var a=t.getDay();return t=a>=4||a===0?Lg(t):Lg.ceil(t),es(t.getFullYear()%1e4,r,4)}function ade(t){var r=t.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+es(r/60|0,"0",2)+es(r%60,"0",2)}function WP(t,r){return es(t.getUTCDate(),r,2)}function sde(t,r){return es(t.getUTCHours(),r,2)}function nde(t,r){return es(t.getUTCHours()%12||12,r,2)}function ide(t,r){return es(1+p4.count($A(t),t),r,3)}function GR(t,r){return es(t.getUTCMilliseconds(),r,3)}function ode(t,r){return GR(t,r)+"000"}function lde(t,r){return es(t.getUTCMonth()+1,r,2)}function cde(t,r){return es(t.getUTCMinutes(),r,2)}function dde(t,r){return es(t.getUTCSeconds(),r,2)}function ude(t){var r=t.getUTCDay();return r===0?7:r}function fde(t,r){return es(x4.count($A(t)-1,t),r,2)}function WR(t){var r=t.getUTCDay();return r>=4||r===0?Mg(t):Mg.ceil(t)}function Ade(t,r){return t=WR(t),es(Mg.count($A(t),t)+($A(t).getUTCDay()===4),r,2)}function hde(t){return t.getUTCDay()}function mde(t,r){return es(W2.count($A(t)-1,t),r,2)}function pde(t,r){return es(t.getUTCFullYear()%100,r,2)}function gde(t,r){return t=WR(t),es(t.getUTCFullYear()%100,r,2)}function xde(t,r){return es(t.getUTCFullYear()%1e4,r,4)}function yde(t,r){var a=t.getUTCDay();return t=a>=4||a===0?Mg(t):Mg.ceil(t),es(t.getUTCFullYear()%1e4,r,4)}function vde(){return"+0000"}function qP(){return"%"}function YP(t){return+t}function XP(t){return Math.floor(+t/1e3)}var tg,qR,YR;bde({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bde(t){return tg=bce(t),qR=tg.format,tg.parse,YR=tg.utcFormat,tg.utcParse,tg}function wde(t){return new Date(t)}function jde(t){return t instanceof Date?+t:+new Date(+t)}function vE(t,r,a,s,i,o,l,c,d,f){var u=iE(),m=u.invert,p=u.domain,g=f(".%L"),v=f(":%S"),y=f("%I:%M"),b=f("%I %p"),j=f("%a %d"),N=f("%b %d"),S=f("%B"),B=f("%Y");function I(F){return(d(F)<F?g:c(F)<F?v:l(F)<F?y:o(F)<F?b:s(F)<F?i(F)<F?j:N:a(F)<F?S:B)(F)}return u.invert=function(F){return new Date(m(F))},u.domain=function(F){return arguments.length?p(Array.from(F,jde)):p().map(wde)},u.ticks=function(F){var O=p();return t(O[0],O[O.length-1],F??10)},u.tickFormat=function(F,O){return O==null?I:f(O)},u.nice=function(F){var O=p();return(!F||typeof F.range!="function")&&(F=r(O[0],O[O.length-1],F??10)),F?p(DR(O,F)):u},u.copy=function(){return ev(u,vE(t,r,a,s,i,o,l,c,d,f))},u}function Nde(){return yd.apply(vE(yce,vce,HA,xE,g4,tv,pE,hE,S0,qR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Sde(){return yd.apply(vE(gce,xce,$A,yE,x4,p4,gE,mE,S0,YR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function y4(){var t=0,r=1,a,s,i,o,l=Al,c=!1,d;function f(m){return m==null||isNaN(m=+m)?d:l(i===0?.5:(m=(o(m)-a)*i,c?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,r]=m,a=o(t=+t),s=o(r=+r),i=a===s?0:1/(s-a),f):[t,r]},f.clamp=function(m){return arguments.length?(c=!!m,f):c},f.interpolator=function(m){return arguments.length?(l=m,f):l};function u(m){return function(p){var g,v;return arguments.length?([g,v]=p,l=m(g,v),f):[l(0),l(1)]}}return f.range=u(Jg),f.rangeRound=u(nE),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return o=m,a=m(t),s=m(r),i=a===s?0:1/(s-a),f}}function Bm(t,r){return r.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function XR(){var t=Cm(y4()(Al));return t.copy=function(){return Bm(t,XR())},ZA.apply(t,arguments)}function JR(){var t=cE(y4()).domain([1,10]);return t.copy=function(){return Bm(t,JR()).base(t.base())},ZA.apply(t,arguments)}function ZR(){var t=dE(y4());return t.copy=function(){return Bm(t,ZR()).constant(t.constant())},ZA.apply(t,arguments)}function bE(){var t=uE(y4());return t.copy=function(){return Bm(t,bE()).exponent(t.exponent())},ZA.apply(t,arguments)}function Cde(){return bE.apply(null,arguments).exponent(.5)}function e9(){var t=[],r=Al;function a(s){if(s!=null&&!isNaN(s=+s))return r((Jy(t,s,1)-1)/(t.length-1))}return a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let i of s)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(im),a},a.interpolator=function(s){return arguments.length?(r=s,a):r},a.range=function(){return t.map((s,i)=>r(i/(t.length-1)))},a.quantiles=function(s){return Array.from({length:s+1},(i,o)=>ule(t,o/s))},a.copy=function(){return e9(r).domain(t)},ZA.apply(a,arguments)}function v4(){var t=0,r=.5,a=1,s=1,i,o,l,c,d,f=Al,u,m=!1,p;function g(y){return isNaN(y=+y)?p:(y=.5+((y=+u(y))-o)*(s*y<s*o?c:d),f(m?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([t,r,a]=y,i=u(t=+t),o=u(r=+r),l=u(a=+a),c=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),s=o<i?-1:1,g):[t,r,a]},g.clamp=function(y){return arguments.length?(m=!!y,g):m},g.interpolator=function(y){return arguments.length?(f=y,g):f};function v(y){return function(b){var j,N,S;return arguments.length?([j,N,S]=b,f=Mle(y,[j,N,S]),g):[f(0),f(.5),f(1)]}}return g.range=v(Jg),g.rangeRound=v(nE),g.unknown=function(y){return arguments.length?(p=y,g):p},function(y){return u=y,i=y(t),o=y(r),l=y(a),c=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),s=o<i?-1:1,g}}function t9(){var t=Cm(v4()(Al));return t.copy=function(){return Bm(t,t9())},ZA.apply(t,arguments)}function r9(){var t=cE(v4()).domain([.1,1,10]);return t.copy=function(){return Bm(t,r9()).base(t.base())},ZA.apply(t,arguments)}function a9(){var t=dE(v4());return t.copy=function(){return Bm(t,a9()).constant(t.constant())},ZA.apply(t,arguments)}function wE(){var t=uE(v4());return t.copy=function(){return Bm(t,wE()).exponent(t.exponent())},ZA.apply(t,arguments)}function Bde(){return wE.apply(null,arguments).exponent(.5)}const j1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rE,scaleDiverging:t9,scaleDivergingLog:r9,scaleDivergingPow:wE,scaleDivergingSqrt:Bde,scaleDivergingSymlog:a9,scaleIdentity:OR,scaleImplicit:GC,scaleLinear:PR,scaleLog:LR,scaleOrdinal:tE,scalePoint:hle,scalePow:fE,scaleQuantile:RR,scaleQuantize:QR,scaleRadial:UR,scaleSequential:XR,scaleSequentialLog:JR,scaleSequentialPow:bE,scaleSequentialQuantile:e9,scaleSequentialSqrt:Cde,scaleSequentialSymlog:ZR,scaleSqrt:oce,scaleSymlog:MR,scaleThreshold:HR,scaleTime:Nde,scaleUtc:Sde,tickFormat:_R},Symbol.toStringTag,{value:"Module"}));var dp=t=>t.chartData,jE=Ut([dp],t=>{var r=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:r,dataStartIndex:0}}),NE=(t,r,a,s)=>s?jE(t):dp(t);function Ug(t){if(Array.isArray(t)&&t.length===2){var[r,a]=t;if(po(r)&&po(a))return!0}return!1}function JP(t,r,a){return a?t:[Math.min(t[0],r[0]),Math.max(t[1],r[1])]}function Ede(t,r){if(r&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[a,s]=t,i,o;if(po(a))i=a;else if(typeof a=="function")return;if(po(s))o=s;else if(typeof s=="function")return;var l=[i,o];if(Ug(l))return l}}function Tde(t,r,a){if(!(!a&&r==null)){if(typeof t=="function"&&r!=null)try{var s=t(r,a);if(Ug(s))return JP(s,r,a)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,l,c;if(i==="auto")r!=null&&(l=Math.min(...r));else if(Br(i))l=i;else if(typeof i=="function")try{r!=null&&(l=i(r?.[0]))}catch{}else if(typeof i=="string"&&U_.test(i)){var d=U_.exec(i);if(d==null||r==null)l=void 0;else{var f=+d[1];l=r[0]-f}}else l=r?.[0];if(o==="auto")r!=null&&(c=Math.max(...r));else if(Br(o))c=o;else if(typeof o=="function")try{r!=null&&(c=o(r?.[1]))}catch{}else if(typeof o=="string"&&R_.test(o)){var u=R_.exec(o);if(u==null||r==null)c=void 0;else{var m=+u[1];c=r[1]+m}}else c=r?.[1];var p=[l,c];if(Ug(p))return r==null?p:JP(p,r,a)}}}var Zg=1e9,Fde={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},CE,fn=!0,pd="[DecimalError] ",R0=pd+"Invalid argument: ",SE=pd+"Exponent out of range: ",ex=Math.floor,g0=Math.pow,Ide=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,jc,zi=1e7,tn=7,s9=9007199254740991,q2=ex(s9/tn),kr={};kr.absoluteValue=kr.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};kr.comparedTo=kr.cmp=function(t){var r,a,s,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(s=o.d.length,i=t.d.length,r=0,a=s<i?s:i;r<a;++r)if(o.d[r]!==t.d[r])return o.d[r]>t.d[r]^o.s<0?1:-1;return s===i?0:s>i^o.s<0?1:-1};kr.decimalPlaces=kr.dp=function(){var t=this,r=t.d.length-1,a=(r-t.e)*tn;if(r=t.d[r],r)for(;r%10==0;r/=10)a--;return a<0?0:a};kr.dividedBy=kr.div=function(t){return _A(this,new this.constructor(t))};kr.dividedToIntegerBy=kr.idiv=function(t){var r=this,a=r.constructor;return Ms(_A(r,new a(t),0,1),a.precision)};kr.equals=kr.eq=function(t){return!this.cmp(t)};kr.exponent=function(){return oi(this)};kr.greaterThan=kr.gt=function(t){return this.cmp(t)>0};kr.greaterThanOrEqualTo=kr.gte=function(t){return this.cmp(t)>=0};kr.isInteger=kr.isint=function(){return this.e>this.d.length-2};kr.isNegative=kr.isneg=function(){return this.s<0};kr.isPositive=kr.ispos=function(){return this.s>0};kr.isZero=function(){return this.s===0};kr.lessThan=kr.lt=function(t){return this.cmp(t)<0};kr.lessThanOrEqualTo=kr.lte=function(t){return this.cmp(t)<1};kr.logarithm=kr.log=function(t){var r,a=this,s=a.constructor,i=s.precision,o=i+5;if(t===void 0)t=new s(10);else if(t=new s(t),t.s<1||t.eq(jc))throw Error(pd+"NaN");if(a.s<1)throw Error(pd+(a.s?"NaN":"-Infinity"));return a.eq(jc)?new s(0):(fn=!1,r=_A(gy(a,o),gy(t,o),o),fn=!0,Ms(r,i))};kr.minus=kr.sub=function(t){var r=this;return t=new r.constructor(t),r.s==t.s?o9(r,t):n9(r,(t.s=-t.s,t))};kr.modulo=kr.mod=function(t){var r,a=this,s=a.constructor,i=s.precision;if(t=new s(t),!t.s)throw Error(pd+"NaN");return a.s?(fn=!1,r=_A(a,t,0,1).times(t),fn=!0,a.minus(r)):Ms(new s(a),i)};kr.naturalExponential=kr.exp=function(){return i9(this)};kr.naturalLogarithm=kr.ln=function(){return gy(this)};kr.negated=kr.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};kr.plus=kr.add=function(t){var r=this;return t=new r.constructor(t),r.s==t.s?n9(r,t):o9(r,(t.s=-t.s,t))};kr.precision=kr.sd=function(t){var r,a,s,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(R0+t);if(r=oi(i)+1,s=i.d.length-1,a=s*tn+1,s=i.d[s],s){for(;s%10==0;s/=10)a--;for(s=i.d[0];s>=10;s/=10)a++}return t&&r>a?r:a};kr.squareRoot=kr.sqrt=function(){var t,r,a,s,i,o,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(pd+"NaN")}for(t=oi(c),fn=!1,i=Math.sqrt(+c),i==0||i==1/0?(r=pf(c.d),(r.length+t)%2==0&&(r+="0"),i=Math.sqrt(r),t=ex((t+1)/2)-(t<0||t%2),i==1/0?r="5e"+t:(r=i.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),s=new d(r)):s=new d(i.toString()),a=d.precision,i=l=a+3;;)if(o=s,s=o.plus(_A(c,o,l+2)).times(.5),pf(o.d).slice(0,l)===(r=pf(s.d)).slice(0,l)){if(r=r.slice(l-3,l+1),i==l&&r=="4999"){if(Ms(o,a+1,0),o.times(o).eq(c)){s=o;break}}else if(r!="9999")break;l+=4}return fn=!0,Ms(s,a)};kr.times=kr.mul=function(t){var r,a,s,i,o,l,c,d,f,u=this,m=u.constructor,p=u.d,g=(t=new m(t)).d;if(!u.s||!t.s)return new m(0);for(t.s*=u.s,a=u.e+t.e,d=p.length,f=g.length,d<f&&(o=p,p=g,g=o,l=d,d=f,f=l),o=[],l=d+f,s=l;s--;)o.push(0);for(s=f;--s>=0;){for(r=0,i=d+s;i>s;)c=o[i]+g[s]*p[i-s-1]+r,o[i--]=c%zi|0,r=c/zi|0;o[i]=(o[i]+r)%zi|0}for(;!o[--l];)o.pop();return r?++a:o.shift(),t.d=o,t.e=a,fn?Ms(t,m.precision):t};kr.toDecimalPlaces=kr.todp=function(t,r){var a=this,s=a.constructor;return a=new s(a),t===void 0?a:(Cf(t,0,Zg),r===void 0?r=s.rounding:Cf(r,0,8),Ms(a,t+oi(a)+1,r))};kr.toExponential=function(t,r){var a,s=this,i=s.constructor;return t===void 0?a=X0(s,!0):(Cf(t,0,Zg),r===void 0?r=i.rounding:Cf(r,0,8),s=Ms(new i(s),t+1,r),a=X0(s,!0,t+1)),a};kr.toFixed=function(t,r){var a,s,i=this,o=i.constructor;return t===void 0?X0(i):(Cf(t,0,Zg),r===void 0?r=o.rounding:Cf(r,0,8),s=Ms(new o(i),t+oi(i)+1,r),a=X0(s.abs(),!1,t+oi(s)+1),i.isneg()&&!i.isZero()?"-"+a:a)};kr.toInteger=kr.toint=function(){var t=this,r=t.constructor;return Ms(new r(t),oi(t)+1,r.rounding)};kr.toNumber=function(){return+this};kr.toPower=kr.pow=function(t){var r,a,s,i,o,l,c=this,d=c.constructor,f=12,u=+(t=new d(t));if(!t.s)return new d(jc);if(c=new d(c),!c.s){if(t.s<1)throw Error(pd+"Infinity");return c}if(c.eq(jc))return c;if(s=d.precision,t.eq(jc))return Ms(c,s);if(r=t.e,a=t.d.length-1,l=r>=a,o=c.s,l){if((a=u<0?-u:u)<=s9){for(i=new d(jc),r=Math.ceil(s/tn+4),fn=!1;a%2&&(i=i.times(c),e8(i.d,r)),a=ex(a/2),a!==0;)c=c.times(c),e8(c.d,r);return fn=!0,t.s<0?new d(jc).div(i):Ms(i,s)}}else if(o<0)throw Error(pd+"NaN");return o=o<0&&t.d[Math.max(r,a)]&1?-1:1,c.s=1,fn=!1,i=t.times(gy(c,s+f)),fn=!0,i=i9(i),i.s=o,i};kr.toPrecision=function(t,r){var a,s,i=this,o=i.constructor;return t===void 0?(a=oi(i),s=X0(i,a<=o.toExpNeg||a>=o.toExpPos)):(Cf(t,1,Zg),r===void 0?r=o.rounding:Cf(r,0,8),i=Ms(new o(i),t,r),a=oi(i),s=X0(i,t<=a||a<=o.toExpNeg,t)),s};kr.toSignificantDigits=kr.tosd=function(t,r){var a=this,s=a.constructor;return t===void 0?(t=s.precision,r=s.rounding):(Cf(t,1,Zg),r===void 0?r=s.rounding:Cf(r,0,8)),Ms(new s(a),t,r)};kr.toString=kr.valueOf=kr.val=kr.toJSON=kr[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,r=oi(t),a=t.constructor;return X0(t,r<=a.toExpNeg||r>=a.toExpPos)};function n9(t,r){var a,s,i,o,l,c,d,f,u=t.constructor,m=u.precision;if(!t.s||!r.s)return r.s||(r=new u(t)),fn?Ms(r,m):r;if(d=t.d,f=r.d,l=t.e,i=r.e,d=d.slice(),o=l-i,o){for(o<0?(s=d,o=-o,c=f.length):(s=f,i=l,c=d.length),l=Math.ceil(m/tn),c=l>c?l+1:c+1,o>c&&(o=c,s.length=1),s.reverse();o--;)s.push(0);s.reverse()}for(c=d.length,o=f.length,c-o<0&&(o=c,s=f,f=d,d=s),a=0;o;)a=(d[--o]=d[o]+f[o]+a)/zi|0,d[o]%=zi;for(a&&(d.unshift(a),++i),c=d.length;d[--c]==0;)d.pop();return r.d=d,r.e=i,fn?Ms(r,m):r}function Cf(t,r,a){if(t!==~~t||t<r||t>a)throw Error(R0+t)}function pf(t){var r,a,s,i=t.length-1,o="",l=t[0];if(i>0){for(o+=l,r=1;r<i;r++)s=t[r]+"",a=tn-s.length,a&&(o+=Wh(a)),o+=s;l=t[r],s=l+"",a=tn-s.length,a&&(o+=Wh(a))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var _A=function(){function t(s,i){var o,l=0,c=s.length;for(s=s.slice();c--;)o=s[c]*i+l,s[c]=o%zi|0,l=o/zi|0;return l&&s.unshift(l),s}function r(s,i,o,l){var c,d;if(o!=l)d=o>l?1:-1;else for(c=d=0;c<o;c++)if(s[c]!=i[c]){d=s[c]>i[c]?1:-1;break}return d}function a(s,i,o){for(var l=0;o--;)s[o]-=l,l=s[o]<i[o]?1:0,s[o]=l*zi+s[o]-i[o];for(;!s[0]&&s.length>1;)s.shift()}return function(s,i,o,l){var c,d,f,u,m,p,g,v,y,b,j,N,S,B,I,F,O,k,V=s.constructor,Q=s.s==i.s?1:-1,H=s.d,M=i.d;if(!s.s)return new V(s);if(!i.s)throw Error(pd+"Division by zero");for(d=s.e-i.e,O=M.length,I=H.length,g=new V(Q),v=g.d=[],f=0;M[f]==(H[f]||0);)++f;if(M[f]>(H[f]||0)&&--d,o==null?N=o=V.precision:l?N=o+(oi(s)-oi(i))+1:N=o,N<0)return new V(0);if(N=N/tn+2|0,f=0,O==1)for(u=0,M=M[0],N++;(f<I||u)&&N--;f++)S=u*zi+(H[f]||0),v[f]=S/M|0,u=S%M|0;else{for(u=zi/(M[0]+1)|0,u>1&&(M=t(M,u),H=t(H,u),O=M.length,I=H.length),B=O,y=H.slice(0,O),b=y.length;b<O;)y[b++]=0;k=M.slice(),k.unshift(0),F=M[0],M[1]>=zi/2&&++F;do u=0,c=r(M,y,O,b),c<0?(j=y[0],O!=b&&(j=j*zi+(y[1]||0)),u=j/F|0,u>1?(u>=zi&&(u=zi-1),m=t(M,u),p=m.length,b=y.length,c=r(m,y,p,b),c==1&&(u--,a(m,O<p?k:M,p))):(u==0&&(c=u=1),m=M.slice()),p=m.length,p<b&&m.unshift(0),a(y,m,b),c==-1&&(b=y.length,c=r(M,y,O,b),c<1&&(u++,a(y,O<b?k:M,b))),b=y.length):c===0&&(u++,y=[0]),v[f++]=u,c&&y[0]?y[b++]=H[B]||0:(y=[H[B]],b=1);while((B++<I||y[0]!==void 0)&&N--)}return v[0]||v.shift(),g.e=d,Ms(g,l?o+oi(g)+1:o)}}();function i9(t,r){var a,s,i,o,l,c,d=0,f=0,u=t.constructor,m=u.precision;if(oi(t)>16)throw Error(SE+oi(t));if(!t.s)return new u(jc);for(fn=!1,c=m,l=new u(.03125);t.abs().gte(.1);)t=t.times(l),f+=5;for(s=Math.log(g0(2,f))/Math.LN10*2+5|0,c+=s,a=i=o=new u(jc),u.precision=c;;){if(i=Ms(i.times(t),c),a=a.times(++d),l=o.plus(_A(i,a,c)),pf(l.d).slice(0,c)===pf(o.d).slice(0,c)){for(;f--;)o=Ms(o.times(o),c);return u.precision=m,r==null?(fn=!0,Ms(o,m)):o}o=l}}function oi(t){for(var r=t.e*tn,a=t.d[0];a>=10;a/=10)r++;return r}function HS(t,r,a){if(r>t.LN10.sd())throw fn=!0,a&&(t.precision=a),Error(pd+"LN10 precision limit exceeded");return Ms(new t(t.LN10),r)}function Wh(t){for(var r="";t--;)r+="0";return r}function gy(t,r){var a,s,i,o,l,c,d,f,u,m=1,p=10,g=t,v=g.d,y=g.constructor,b=y.precision;if(g.s<1)throw Error(pd+(g.s?"NaN":"-Infinity"));if(g.eq(jc))return new y(0);if(r==null?(fn=!1,f=b):f=r,g.eq(10))return r==null&&(fn=!0),HS(y,f);if(f+=p,y.precision=f,a=pf(v),s=a.charAt(0),o=oi(g),Math.abs(o)<15e14){for(;s<7&&s!=1||s==1&&a.charAt(1)>3;)g=g.times(t),a=pf(g.d),s=a.charAt(0),m++;o=oi(g),s>1?(g=new y("0."+a),o++):g=new y(s+"."+a.slice(1))}else return d=HS(y,f+2,b).times(o+""),g=gy(new y(s+"."+a.slice(1)),f-p).plus(d),y.precision=b,r==null?(fn=!0,Ms(g,b)):g;for(c=l=g=_A(g.minus(jc),g.plus(jc),f),u=Ms(g.times(g),f),i=3;;){if(l=Ms(l.times(u),f),d=c.plus(_A(l,new y(i),f)),pf(d.d).slice(0,f)===pf(c.d).slice(0,f))return c=c.times(2),o!==0&&(c=c.plus(HS(y,f+2,b).times(o+""))),c=_A(c,new y(m),f),y.precision=b,r==null?(fn=!0,Ms(c,b)):c;c=d,i+=2}}function ZP(t,r){var a,s,i;for((a=r.indexOf("."))>-1&&(r=r.replace(".","")),(s=r.search(/e/i))>0?(a<0&&(a=s),a+=+r.slice(s+1),r=r.substring(0,s)):a<0&&(a=r.length),s=0;r.charCodeAt(s)===48;)++s;for(i=r.length;r.charCodeAt(i-1)===48;)--i;if(r=r.slice(s,i),r){if(i-=s,a=a-s-1,t.e=ex(a/tn),t.d=[],s=(a+1)%tn,a<0&&(s+=tn),s<i){for(s&&t.d.push(+r.slice(0,s)),i-=tn;s<i;)t.d.push(+r.slice(s,s+=tn));r=r.slice(s),s=tn-r.length}else s-=i;for(;s--;)r+="0";if(t.d.push(+r),fn&&(t.e>q2||t.e<-q2))throw Error(SE+a)}else t.s=0,t.e=0,t.d=[0];return t}function Ms(t,r,a){var s,i,o,l,c,d,f,u,m=t.d;for(l=1,o=m[0];o>=10;o/=10)l++;if(s=r-l,s<0)s+=tn,i=r,f=m[u=0];else{if(u=Math.ceil((s+1)/tn),o=m.length,u>=o)return t;for(f=o=m[u],l=1;o>=10;o/=10)l++;s%=tn,i=s-tn+l}if(a!==void 0&&(o=g0(10,l-i-1),c=f/o%10|0,d=r<0||m[u+1]!==void 0||f%o,d=a<4?(c||d)&&(a==0||a==(t.s<0?3:2)):c>5||c==5&&(a==4||d||a==6&&(s>0?i>0?f/g0(10,l-i):0:m[u-1])%10&1||a==(t.s<0?8:7))),r<1||!m[0])return d?(o=oi(t),m.length=1,r=r-o-1,m[0]=g0(10,(tn-r%tn)%tn),t.e=ex(-r/tn)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(s==0?(m.length=u,o=1,u--):(m.length=u+1,o=g0(10,tn-s),m[u]=i>0?(f/g0(10,l-i)%g0(10,i)|0)*o:0),d)for(;;)if(u==0){(m[0]+=o)==zi&&(m[0]=1,++t.e);break}else{if(m[u]+=o,m[u]!=zi)break;m[u--]=0,o=1}for(s=m.length;m[--s]===0;)m.pop();if(fn&&(t.e>q2||t.e<-q2))throw Error(SE+oi(t));return t}function o9(t,r){var a,s,i,o,l,c,d,f,u,m,p=t.constructor,g=p.precision;if(!t.s||!r.s)return r.s?r.s=-r.s:r=new p(t),fn?Ms(r,g):r;if(d=t.d,m=r.d,s=r.e,f=t.e,d=d.slice(),l=f-s,l){for(u=l<0,u?(a=d,l=-l,c=m.length):(a=m,s=f,c=d.length),i=Math.max(Math.ceil(g/tn),c)+2,l>i&&(l=i,a.length=1),a.reverse(),i=l;i--;)a.push(0);a.reverse()}else{for(i=d.length,c=m.length,u=i<c,u&&(c=i),i=0;i<c;i++)if(d[i]!=m[i]){u=d[i]<m[i];break}l=0}for(u&&(a=d,d=m,m=a,r.s=-r.s),c=d.length,i=m.length-c;i>0;--i)d[c++]=0;for(i=m.length;i>l;){if(d[--i]<m[i]){for(o=i;o&&d[--o]===0;)d[o]=zi-1;--d[o],d[i]+=zi}d[i]-=m[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--s;return d[0]?(r.d=d,r.e=s,fn?Ms(r,g):r):new p(0)}function X0(t,r,a){var s,i=oi(t),o=pf(t.d),l=o.length;return r?(a&&(s=a-l)>0?o=o.charAt(0)+"."+o.slice(1)+Wh(s):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Wh(-i-1)+o,a&&(s=a-l)>0&&(o+=Wh(s))):i>=l?(o+=Wh(i+1-l),a&&(s=a-i-1)>0&&(o=o+"."+Wh(s))):((s=i+1)<l&&(o=o.slice(0,s)+"."+o.slice(s)),a&&(s=a-l)>0&&(i+1===l&&(o+="."),o+=Wh(s))),t.s<0?"-"+o:o}function e8(t,r){if(t.length>r)return t.length=r,!0}function l9(t){var r,a,s;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(R0+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return ZP(l,o.toString())}else if(typeof o!="string")throw Error(R0+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,Ide.test(o))ZP(l,o);else throw Error(R0+o)}if(i.prototype=kr,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=l9,i.config=i.set=kde,t===void 0&&(t={}),t)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<s.length;)t.hasOwnProperty(a=s[r++])||(t[a]=this[a]);return i.config(t),i}function kde(t){if(!t||typeof t!="object")throw Error(pd+"Object expected");var r,a,s,i=["precision",1,Zg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<i.length;r+=3)if((s=t[a=i[r]])!==void 0)if(ex(s)===s&&s>=i[r+1]&&s<=i[r+2])this[a]=s;else throw Error(R0+a+": "+s);if((s=t[a="LN10"])!==void 0)if(s==Math.LN10)this[a]=new this(s);else throw Error(R0+a+": "+s);return this}var CE=l9(Fde);jc=new CE(1);const ps=CE;var _de=t=>t,c9={},d9=t=>t===c9,t8=t=>function r(){return arguments.length===0||arguments.length===1&&d9(arguments.length<=0?void 0:arguments[0])?r:t(...arguments)},u9=(t,r)=>t===1?r:t8(function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];var o=s.filter(l=>l!==c9).length;return o>=t?r(...s):u9(t-o,t8(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=s.map(u=>d9(u)?c.shift():u);return r(...f,...c)}))}),b4=t=>u9(t.length,t),XC=(t,r)=>{for(var a=[],s=t;s<r;++s)a[s-t]=s;return a},Pde=b4((t,r)=>Array.isArray(r)?r.map(t):Object.keys(r).map(a=>r[a]).map(t)),Ode=function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];if(!a.length)return _de;var i=a.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce((c,d)=>d(c),o(...arguments))}},JC=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),f9=t=>{var r=null,a=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every((l,c)=>{var d;return l===((d=r)===null||d===void 0?void 0:d[c])})||(r=i,a=t(...i)),a}};function A9(t){var r;return t===0?r=1:r=Math.floor(new ps(t).abs().log(10).toNumber())+1,r}function h9(t,r,a){for(var s=new ps(t),i=0,o=[];s.lt(r)&&i<1e5;)o.push(s.toNumber()),s=s.add(a),i++;return o}b4((t,r,a)=>{var s=+t,i=+r;return s+a*(i-s)});b4((t,r,a)=>{var s=r-+t;return s=s||1/0,(a-t)/s});b4((t,r,a)=>{var s=r-+t;return s=s||1/0,Math.max(0,Math.min(1,(a-t)/s))});var m9=t=>{var[r,a]=t,[s,i]=[r,a];return r>a&&([s,i]=[a,r]),[s,i]},p9=(t,r,a)=>{if(t.lte(0))return new ps(0);var s=A9(t.toNumber()),i=new ps(10).pow(s),o=t.div(i),l=s!==1?.05:.1,c=new ps(Math.ceil(o.div(l).toNumber())).add(a).mul(l),d=c.mul(i);return r?new ps(d.toNumber()):new ps(Math.ceil(d.toNumber()))},Dde=(t,r,a)=>{var s=new ps(1),i=new ps(t);if(!i.isint()&&a){var o=Math.abs(t);o<1?(s=new ps(10).pow(A9(t)-1),i=new ps(Math.floor(i.div(s).toNumber())).mul(s)):o>1&&(i=new ps(Math.floor(t)))}else t===0?i=new ps(Math.floor((r-1)/2)):a||(i=new ps(Math.floor(t)));var l=Math.floor((r-1)/2),c=Ode(Pde(d=>i.add(new ps(d-l).mul(s)).toNumber()),XC);return c(0,r)},g9=function(r,a,s,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((a-r)/(s-1)))return{step:new ps(0),tickMin:new ps(0),tickMax:new ps(0)};var l=p9(new ps(a).sub(r).div(s-1),i,o),c;r<=0&&a>=0?c=new ps(0):(c=new ps(r).add(a).div(2),c=c.sub(new ps(c).mod(l)));var d=Math.ceil(c.sub(r).div(l).toNumber()),f=Math.ceil(new ps(a).sub(c).div(l).toNumber()),u=d+f+1;return u>s?g9(r,a,s,i,o+1):(u<s&&(f=a>0?f+(s-u):f,d=a>0?d:d+(s-u)),{step:l,tickMin:c.sub(new ps(d).mul(l)),tickMax:c.add(new ps(f).mul(l))})};function Lde(t){var[r,a]=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),[l,c]=m9([r,a]);if(l===-1/0||c===1/0){var d=c===1/0?[l,...XC(0,s-1).map(()=>1/0)]:[...XC(0,s-1).map(()=>-1/0),c];return r>a?JC(d):d}if(l===c)return Dde(l,s,i);var{step:f,tickMin:u,tickMax:m}=g9(l,c,o,i,0),p=h9(u,m.add(new ps(.1).mul(f)),f);return r>a?JC(p):p}function Mde(t,r){var[a,s]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=m9([a,s]);if(o===-1/0||l===1/0)return[a,s];if(o===l)return[o];var c=Math.max(r,2),d=p9(new ps(l).sub(o).div(c-1),i,0),f=[...h9(new ps(o),new ps(l),d),l];return i===!1&&(f=f.map(u=>Math.round(u))),a>s?JC(f):f}var Ude=f9(Lde),Rde=f9(Mde),x9=t=>t.rootProps.maxBarSize,Qde=t=>t.rootProps.barGap,y9=t=>t.rootProps.barCategoryGap,Hde=t=>t.rootProps.barSize,rv=t=>t.rootProps.stackOffset,BE=t=>t.options.chartName,EE=t=>t.rootProps.syncId,v9=t=>t.rootProps.syncMethod,TE=t=>t.options.eventEmitter,NA={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},gc={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},w4=(t,r)=>{if(!(!t||!r))return t!=null&&t.reversed?[r[1],r[0]]:r},$de={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:NA.angleAxisId,includeHidden:!1,name:void 0,reversed:NA.reversed,scale:NA.scale,tick:NA.tick,tickCount:void 0,ticks:void 0,type:NA.type,unit:void 0},zde={allowDataOverflow:gc.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:gc.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gc.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gc.scale,tick:gc.tick,tickCount:gc.tickCount,ticks:void 0,type:gc.type,unit:void 0},Vde={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:NA.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:NA.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:NA.scale,tick:NA.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Kde={allowDataOverflow:gc.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:gc.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gc.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gc.scale,tick:gc.tick,tickCount:gc.tickCount,ticks:void 0,type:"category",unit:void 0},FE=(t,r)=>t.polarAxis.angleAxis[r]!=null?t.polarAxis.angleAxis[r]:t.layout.layoutType==="radial"?Vde:$de,IE=(t,r)=>t.polarAxis.radiusAxis[r]!=null?t.polarAxis.radiusAxis[r]:t.layout.layoutType==="radial"?Kde:zde,j4=t=>t.polarOptions,kE=Ut([XA,JA,Si],sR),b9=Ut([j4,kE],(t,r)=>{if(t!=null)return pl(t.innerRadius,r,0)}),w9=Ut([j4,kE],(t,r)=>{if(t!=null)return pl(t.outerRadius,r,r*.8)}),Gde=t=>{if(t==null)return[0,0];var{startAngle:r,endAngle:a}=t;return[r,a]},j9=Ut([j4],Gde);Ut([FE,j9],w4);var N9=Ut([kE,b9,w9],(t,r,a)=>{if(!(t==null||r==null||a==null))return[r,a]});Ut([IE,N9],w4);var Wde=Ut([ts,j4,b9,w9,XA,JA],(t,r,a,s,i,o)=>{if(!(t!=="centric"&&t!=="radial"||r==null||a==null||s==null)){var{cx:l,cy:c,startAngle:d,endAngle:f}=r;return{cx:pl(l,i,i/2),cy:pl(c,o,o/2),innerRadius:a,outerRadius:s,startAngle:d,endAngle:f,clockWise:!1}}}),Wn=(t,r)=>r,av=(t,r,a)=>a;function r8(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function Y2(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?r8(Object(a),!0).forEach(function(s){qde(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r8(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function qde(t,r,a){return(r=Yde(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Yde(t){var r=Xde(t,"string");return typeof r=="symbol"?r:r+""}function Xde(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var ZC=[0,"auto"],hc={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},eh=(t,r)=>{var a=t.cartesianAxis.xAxis[r];return a??hc},mc={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ZC,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:u4},Em=(t,r)=>{var a=t.cartesianAxis.yAxis[r];return a??mc},Jde={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},_E=(t,r)=>{var a=t.cartesianAxis.zAxis[r];return a??Jde},qn=(t,r,a)=>{switch(r){case"xAxis":return eh(t,a);case"yAxis":return Em(t,a);case"zAxis":return _E(t,a);case"angleAxis":return FE(t,a);case"radiusAxis":return IE(t,a);default:throw new Error("Unexpected axis type: ".concat(r))}},Zde=(t,r,a)=>{switch(r){case"xAxis":return eh(t,a);case"yAxis":return Em(t,a);default:throw new Error("Unexpected axis type: ".concat(r))}},sv=(t,r,a)=>{switch(r){case"xAxis":return eh(t,a);case"yAxis":return Em(t,a);case"angleAxis":return FE(t,a);case"radiusAxis":return IE(t,a);default:throw new Error("Unexpected axis type: ".concat(r))}},S9=t=>t.graphicalItems.countOfBars>0;function PE(t,r){return a=>{switch(t){case"xAxis":return"xAxisId"in a&&a.xAxisId===r;case"yAxis":return"yAxisId"in a&&a.yAxisId===r;case"zAxis":return"zAxisId"in a&&a.zAxisId===r;case"angleAxis":return"angleAxisId"in a&&a.angleAxisId===r;case"radiusAxis":return"radiusAxisId"in a&&a.radiusAxisId===r;default:return!1}}}var N4=t=>t.graphicalItems.cartesianItems,eue=Ut([Wn,av],PE),OE=(t,r,a)=>t.filter(a).filter(s=>r?.includeHidden===!0?!0:!s.hide),nv=Ut([N4,qn,eue],OE),C9=t=>t.filter(r=>r.stackId===void 0),tue=Ut([nv],C9),DE=t=>t.map(r=>r.data).filter(Boolean).flat(1),rue=Ut([nv],DE),LE=(t,r)=>{var{chartData:a=[],dataStartIndex:s,dataEndIndex:i}=r;return t.length>0?t:a.slice(s,i+1)},S4=Ut([rue,NE],LE),ME=(t,r,a)=>r?.dataKey!=null?t.map(s=>({value:an(s,r.dataKey)})):a.length>0?a.map(s=>s.dataKey).flatMap(s=>t.map(i=>({value:an(i,s)}))):t.map(s=>({value:s})),C4=Ut([S4,qn,nv],ME);function B9(t,r){switch(t){case"xAxis":return r.direction==="x";case"yAxis":return r.direction==="y";default:return!1}}function up(t){return t.filter(r=>Sf(r)||r instanceof Date).map(Number).filter(r=>Hl(r)===!1)}function aue(t,r,a){return!a||typeof r!="number"||Hl(r)?[]:a.length?up(a.flatMap(s=>{var i=an(t,s.dataKey),o,l;if(Array.isArray(i)?[o,l]=i:o=l=i,!(!po(o)||!po(l)))return[r-o,r+l]})):[]}var E9=(t,r,a)=>{var s={},i=r.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),s);return Object.fromEntries(Object.entries(i).map(o=>{var[l,c]=o,d=c.map(f=>f.dataKey);return[l,{stackedData:aie(t,d,a),graphicalItems:c}]}))},xy=Ut([S4,nv,rv],E9),T9=(t,r,a)=>{var{dataStartIndex:s,dataEndIndex:i}=r;if(a!=="zAxis"){var o=oie(t,s,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},sue=Ut([xy,dp,Wn],T9),F9=(t,r,a,s)=>a.length>0?t.flatMap(i=>a.flatMap(o=>{var l,c,d=(l=o.errorBars)===null||l===void 0?void 0:l.filter(u=>B9(s,u)),f=an(i,(c=r.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:f,errorDomain:aue(i,f,d)}})).filter(Boolean):r?.dataKey!=null?t.map(i=>({value:an(i,r.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]})),nue=Ut(S4,qn,tue,Wn,F9);function iue(t){var{value:r}=t;if(Sf(r)||r instanceof Date)return r}var oue=t=>{var r=t.flatMap(s=>[s.value,s.errorDomain]).flat(1),a=up(r);if(a.length!==0)return[Math.min(...a),Math.max(...a)]},lue=(t,r,a)=>{var s=t.map(iue).filter(i=>i!=null);return a&&(r.dataKey==null||r.allowDuplicatedCategory&&NU(s))?jR(0,t.length):r.allowDuplicatedCategory?s:Array.from(new Set(s))},UE=t=>{var r;if(t==null||!("domain"in t))return ZC;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var a=up(t.ticks);return[Math.min(...a),Math.max(...a)]}if(t.type==="category")return t.ticks.map(String)}return(r=t?.domain)!==null&&r!==void 0?r:ZC},RE=function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];var i=a.filter(Boolean);if(i.length!==0){var o=i.flat(),l=Math.min(...o),c=Math.max(...o);return[l,c]}},I9=t=>t.referenceElements.dots,tx=(t,r,a)=>t.filter(s=>s.ifOverflow==="extendDomain").filter(s=>r==="xAxis"?s.xAxisId===a:s.yAxisId===a),cue=Ut([I9,Wn,av],tx),k9=t=>t.referenceElements.areas,due=Ut([k9,Wn,av],tx),_9=t=>t.referenceElements.lines,uue=Ut([_9,Wn,av],tx),P9=(t,r)=>{var a=up(t.map(s=>r==="xAxis"?s.x:s.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},fue=Ut(cue,Wn,P9),O9=(t,r)=>{var a=up(t.flatMap(s=>[r==="xAxis"?s.x1:s.y1,r==="xAxis"?s.x2:s.y2]));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},Aue=Ut([due,Wn],O9),D9=(t,r)=>{var a=up(t.map(s=>r==="xAxis"?s.x:s.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},hue=Ut(uue,Wn,D9),mue=Ut(fue,hue,Aue,(t,r,a)=>RE(t,a,r)),L9=Ut([qn],UE),QE=(t,r,a,s,i)=>{var o=Ede(r,t.allowDataOverflow);return o??Tde(r,RE(a,i,oue(s)),t.allowDataOverflow)},pue=Ut([qn,L9,sue,nue,mue],QE),gue=[0,1],HE=(t,r,a,s,i,o,l)=>{if(!(t==null||a==null||a.length===0)){var{dataKey:c,type:d}=t,f=YA(r,o);return f&&c==null?jR(0,a.length):d==="category"?lue(s,t,f):i==="expand"?gue:l}},$E=Ut([qn,ts,S4,C4,rv,Wn,pue],HE),M9=(t,r,a,s,i)=>{if(t!=null){var{scale:o,type:l}=t;if(o==="auto")return r==="radial"&&i==="radiusAxis"?"band":r==="radial"&&i==="angleAxis"?"linear":l==="category"&&s&&(s.indexOf("LineChart")>=0||s.indexOf("AreaChart")>=0||s.indexOf("ComposedChart")>=0&&!a)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var c="scale".concat(qy(o));return c in j1?c:"point"}}},rx=Ut([qn,ts,S9,BE,Wn],M9);function xue(t){if(t!=null){if(t in j1)return j1[t]();var r="scale".concat(qy(t));if(r in j1)return j1[r]()}}function zE(t,r,a,s){if(!(a==null||s==null)){if(typeof t.scale=="function")return t.scale.copy().domain(a).range(s);var i=xue(r);if(i!=null){var o=i.domain(a).range(s);return Jne(o),o}}}var VE=(t,r,a)=>{var s=UE(r);if(!(a!=="auto"&&a!=="linear")){if(r!=null&&r.tickCount&&Array.isArray(s)&&(s[0]==="auto"||s[1]==="auto")&&Ug(t))return Ude(t,r.tickCount,r.allowDecimals);if(r!=null&&r.tickCount&&r.type==="number"&&Ug(t))return Rde(t,r.tickCount,r.allowDecimals)}},KE=Ut([$E,sv,rx],VE),GE=(t,r,a,s)=>{if(s!=="angleAxis"&&t?.type==="number"&&Ug(r)&&Array.isArray(a)&&a.length>0){var i=r[0],o=a[0],l=r[1],c=a[a.length-1];return[Math.min(i,o),Math.max(l,c)]}return r},yue=Ut([qn,$E,KE,Wn],GE),vue=Ut(C4,qn,(t,r)=>{if(!(!r||r.type!=="number")){var a=1/0,s=Array.from(up(t.map(c=>c.value))).sort((c,d)=>c-d);if(s.length<2)return 1/0;var i=s[s.length-1]-s[0];if(i===0)return 1/0;for(var o=0;o<s.length-1;o++){var l=s[o+1]-s[o];a=Math.min(a,l)}return a/i}}),U9=Ut(vue,ts,y9,Si,(t,r,a,s)=>s,(t,r,a,s,i)=>{if(!po(t))return 0;var o=r==="vertical"?s.height:s.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var l=pl(a,t*o),c=t*o/2;return c-l-(c-l)/o*l}return 0}),bue=(t,r)=>{var a=eh(t,r);return a==null||typeof a.padding!="string"?0:U9(t,"xAxis",r,a.padding)},wue=(t,r)=>{var a=Em(t,r);return a==null||typeof a.padding!="string"?0:U9(t,"yAxis",r,a.padding)},jue=Ut(eh,bue,(t,r)=>{var a,s;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:r,right:r}:{left:((a=i.left)!==null&&a!==void 0?a:0)+r,right:((s=i.right)!==null&&s!==void 0?s:0)+r}}),Nue=Ut(Em,wue,(t,r)=>{var a,s;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:r,bottom:r}:{top:((a=i.top)!==null&&a!==void 0?a:0)+r,bottom:((s=i.bottom)!==null&&s!==void 0?s:0)+r}}),Sue=Ut([Si,jue,A4,f4,(t,r,a)=>a],(t,r,a,s,i)=>{var{padding:o}=s;return i?[o.left,a.width-o.right]:[t.left+r.left,t.left+t.width-r.right]}),Cue=Ut([Si,ts,Nue,A4,f4,(t,r,a)=>a],(t,r,a,s,i,o)=>{var{padding:l}=i;return o?[s.height-l.bottom,l.top]:r==="horizontal"?[t.top+t.height-a.bottom,t.top+a.top]:[t.top+a.top,t.top+t.height-a.bottom]}),iv=(t,r,a,s)=>{var i;switch(r){case"xAxis":return Sue(t,a,s);case"yAxis":return Cue(t,a,s);case"zAxis":return(i=_E(t,a))===null||i===void 0?void 0:i.range;case"angleAxis":return j9(t);case"radiusAxis":return N9(t,a);default:return}},R9=Ut([qn,iv],w4),ax=Ut([qn,rx,yue,R9],zE);Ut(nv,Wn,(t,r)=>t.flatMap(a=>{var s;return(s=a.errorBars)!==null&&s!==void 0?s:[]}).filter(a=>B9(r,a)));function Q9(t,r){return t.id<r.id?-1:t.id>r.id?1:0}var B4=(t,r)=>r,E4=(t,r,a)=>a,Bue=Ut(GB,B4,E4,(t,r,a)=>t.filter(s=>s.orientation===r).filter(s=>s.mirror===a).sort(Q9)),Eue=Ut(WB,B4,E4,(t,r,a)=>t.filter(s=>s.orientation===r).filter(s=>s.mirror===a).sort(Q9)),H9=(t,r)=>({width:t.width,height:r.height}),Tue=(t,r)=>{var a=typeof r.width=="number"?r.width:u4;return{width:a,height:t.height}},$9=Ut(Si,eh,H9),Fue=(t,r,a)=>{switch(r){case"top":return t.top;case"bottom":return a-t.bottom;default:return 0}},Iue=(t,r,a)=>{switch(r){case"left":return t.left;case"right":return a-t.right;default:return 0}},kue=Ut(JA,Si,Bue,B4,E4,(t,r,a,s,i)=>{var o={},l;return a.forEach(c=>{var d=H9(r,c);l==null&&(l=Fue(r,s,t));var f=s==="top"&&!i||s==="bottom"&&i;o[c.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),o}),_ue=Ut(XA,Si,Eue,B4,E4,(t,r,a,s,i)=>{var o={},l;return a.forEach(c=>{var d=Tue(r,c);l==null&&(l=Iue(r,s,t));var f=s==="left"&&!i||s==="right"&&i;o[c.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),o}),Pue=(t,r)=>{var a=Si(t),s=eh(t,r);if(s!=null){var i=kue(t,s.orientation,s.mirror),o=i[r];return o==null?{x:a.left,y:0}:{x:a.left,y:o}}},Oue=(t,r)=>{var a=Si(t),s=Em(t,r);if(s!=null){var i=_ue(t,s.orientation,s.mirror),o=i[r];return o==null?{x:0,y:a.top}:{x:o,y:a.top}}},z9=Ut(Si,Em,(t,r)=>{var a=typeof r.width=="number"?r.width:u4;return{width:a,height:t.height}}),a8=(t,r,a)=>{switch(r){case"xAxis":return $9(t,a).width;case"yAxis":return z9(t,a).height;default:return}},V9=(t,r,a,s)=>{if(a!=null){var{allowDuplicatedCategory:i,type:o,dataKey:l}=a,c=YA(t,s),d=r.map(f=>f.value);if(l&&c&&o==="category"&&i&&NU(d))return d}},WE=Ut([ts,C4,qn,Wn],V9),K9=(t,r,a,s)=>{if(!(a==null||a.dataKey==null)){var{type:i,scale:o}=a,l=YA(t,s);if(l&&(i==="number"||o!=="auto"))return r.map(c=>c.value)}},qE=Ut([ts,C4,sv,Wn],K9),s8=Ut([ts,Zde,rx,ax,WE,qE,iv,KE,Wn],(t,r,a,s,i,o,l,c,d)=>{if(r==null)return null;var f=YA(t,d);return{angle:r.angle,interval:r.interval,minTickGap:r.minTickGap,orientation:r.orientation,tick:r.tick,tickCount:r.tickCount,tickFormatter:r.tickFormatter,ticks:r.ticks,type:r.type,unit:r.unit,axisType:d,categoricalDomain:o,duplicateDomain:i,isCategorical:f,niceTicks:c,range:l,realScaleType:a,scale:s}}),Due=(t,r,a,s,i,o,l,c,d)=>{if(!(r==null||s==null)){var f=YA(t,d),{type:u,ticks:m,tickCount:p}=r,g=a==="scaleBand"&&typeof s.bandwidth=="function"?s.bandwidth()/2:2,v=u==="category"&&s.bandwidth?s.bandwidth()/g:0;v=d==="angleAxis"&&o!=null&&o.length>=2?Ki(o[0]-o[1])*2*v:v;var y=m||i;if(y){var b=y.map((j,N)=>{var S=l?l.indexOf(j):j;return{index:N,coordinate:s(S)+v,value:j,offset:v}});return b.filter(j=>!Hl(j.coordinate))}return f&&c?c.map((j,N)=>({coordinate:s(j)+v,value:j,index:N,offset:v})):s.ticks?s.ticks(p).map(j=>({coordinate:s(j)+v,value:j,offset:v})):s.domain().map((j,N)=>({coordinate:s(j)+v,value:l?l[j]:j,index:N,offset:v}))}},G9=Ut([ts,sv,rx,ax,KE,iv,WE,qE,Wn],Due),Lue=(t,r,a,s,i,o,l)=>{if(!(r==null||a==null||s==null||s[0]===s[1])){var c=YA(t,l),{tickCount:d}=r,f=0;return f=l==="angleAxis"&&s?.length>=2?Ki(s[0]-s[1])*2*f:f,c&&o?o.map((u,m)=>({coordinate:a(u)+f,value:u,index:m,offset:f})):a.ticks?a.ticks(d).map(u=>({coordinate:a(u)+f,value:u,offset:f})):a.domain().map((u,m)=>({coordinate:a(u)+f,value:i?i[u]:u,index:m,offset:f}))}},pm=Ut([ts,sv,ax,iv,WE,qE,Wn],Lue),Bf=Ut(qn,ax,(t,r)=>{if(!(t==null||r==null))return Y2(Y2({},t),{},{scale:r})}),Mue=Ut([qn,rx,$E,R9],zE);Ut((t,r,a)=>_E(t,a),Mue,(t,r)=>{if(!(t==null||r==null))return Y2(Y2({},t),{},{scale:r})});var Uue=Ut([ts,GB,WB],(t,r,a)=>{switch(t){case"horizontal":return r.some(s=>s.reversed)?"right-to-left":"left-to-right";case"vertical":return a.some(s=>s.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),W9=t=>t.options.defaultTooltipEventType,q9=t=>t.options.validateTooltipEventTypes;function Y9(t,r,a){if(t==null)return r;var s=t?"axis":"item";return a==null?r:a.includes(s)?s:r}function YE(t,r){var a=W9(t),s=q9(t);return Y9(r,a,s)}function Rue(t){return Lr(r=>YE(r,t))}var X9=(t,r)=>{var a,s=Number(r);if(!(Hl(s)||r==null))return s>=0?t==null||(a=t[s])===null||a===void 0?void 0:a.value:void 0},Que=t=>t.tooltip.settings,Xh={active:!1,index:null,dataKey:void 0,coordinate:void 0},Hue={itemInteraction:{click:Xh,hover:Xh},axisInteraction:{click:Xh,hover:Xh},keyboardInteraction:Xh,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},J9=xl({name:"tooltip",initialState:Hue,reducers:{addTooltipEntrySettings(t,r){t.tooltipItemPayloads.push(r.payload)},removeTooltipEntrySettings(t,r){var a=kA(t).tooltipItemPayloads.indexOf(r.payload);a>-1&&t.tooltipItemPayloads.splice(a,1)},setTooltipSettingsState(t,r){t.settings=r.payload},setActiveMouseOverItemIndex(t,r){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=r.payload.activeIndex,t.itemInteraction.hover.dataKey=r.payload.activeDataKey,t.itemInteraction.hover.coordinate=r.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,r){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=r.payload.activeIndex,t.itemInteraction.click.dataKey=r.payload.activeDataKey,t.itemInteraction.click.coordinate=r.payload.activeCoordinate},setMouseOverAxisIndex(t,r){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=r.payload.activeIndex,t.axisInteraction.hover.dataKey=r.payload.activeDataKey,t.axisInteraction.hover.coordinate=r.payload.activeCoordinate},setMouseClickAxisIndex(t,r){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=r.payload.activeIndex,t.axisInteraction.click.dataKey=r.payload.activeDataKey,t.axisInteraction.click.coordinate=r.payload.activeCoordinate},setSyncInteraction(t,r){t.syncInteraction=r.payload},setKeyboardInteraction(t,r){t.keyboardInteraction.active=r.payload.active,t.keyboardInteraction.index=r.payload.activeIndex,t.keyboardInteraction.coordinate=r.payload.activeCoordinate,t.keyboardInteraction.dataKey=r.payload.activeDataKey}}}),{addTooltipEntrySettings:$ue,removeTooltipEntrySettings:zue,setTooltipSettingsState:Vue,setActiveMouseOverItemIndex:Z9,mouseLeaveItem:Kue,mouseLeaveChart:eQ,setActiveClickItemIndex:Gue,setMouseOverAxisIndex:tQ,setMouseClickAxisIndex:Wue,setSyncInteraction:e3,setKeyboardInteraction:t3}=J9.actions,que=J9.reducer;function n8(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function Sb(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?n8(Object(a),!0).forEach(function(s){Yue(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n8(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Yue(t,r,a){return(r=Xue(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Xue(t){var r=Jue(t,"string");return typeof r=="symbol"?r:r+""}function Jue(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Zue(t,r,a){return r==="axis"?a==="click"?t.axisInteraction.click:t.axisInteraction.hover:a==="click"?t.itemInteraction.click:t.itemInteraction.hover}function efe(t){return t.index!=null}var rQ=(t,r,a,s)=>{if(r==null)return Xh;var i=Zue(t,r,a);if(i==null)return Xh;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(efe(i)){if(o)return Sb(Sb({},i),{},{active:!0})}else if(s!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:s};return Sb(Sb({},Xh),{},{coordinate:i.coordinate})},XE=(t,r)=>{var a=t?.index;if(a==null)return null;var s=Number(a);if(!po(s))return a;var i=0,o=1/0;return r.length>0&&(o=r.length-1),String(Math.max(i,Math.min(s,o)))},aQ=(t,r,a,s,i,o,l,c)=>{if(!(o==null||c==null)){var d=l[0],f=d==null?void 0:c(d.positions,o);if(f!=null)return f;var u=i?.[Number(o)];if(u)switch(a){case"horizontal":return{x:u.coordinate,y:(s.top+r)/2};default:return{x:(s.left+t)/2,y:u.coordinate}}}},sQ=(t,r,a,s)=>{if(r==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return a==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&s!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.dataKey)===i})},ov=t=>t.options.tooltipPayloadSearcher,sx=t=>t.tooltip;function i8(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function o8(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?i8(Object(a),!0).forEach(function(s){tfe(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i8(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function tfe(t,r,a){return(r=rfe(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function rfe(t){var r=afe(t,"string");return typeof r=="symbol"?r:r+""}function afe(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function sfe(t,r,a){return Array.isArray(t)&&t&&r+a!==0?t.slice(r,a+1):t}function nfe(t,r){return t??r}var nQ=(t,r,a,s,i,o,l)=>{if(!(r==null||o==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:u}=a,m=[];return t.reduce((p,g)=>{var v,{dataDefinedOnItem:y,settings:b}=g,j=nfe(y,c),N=sfe(j,f,u),S=(v=b?.dataKey)!==null&&v!==void 0?v:s?.dataKey,B=b?.nameKey,I;if(s!=null&&s.dataKey&&Array.isArray(N)&&!Array.isArray(N[0])&&l==="axis"?I=SU(N,s.dataKey,i):I=o(N,r,d,B),Array.isArray(I))I.forEach(O=>{var k=o8(o8({},b),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});p.push(Q_({tooltipEntrySettings:k,dataKey:O.dataKey,payload:O.payload,value:an(O.payload,O.dataKey),name:O.name}))});else{var F;p.push(Q_({tooltipEntrySettings:b,dataKey:S,payload:I,value:an(I,S),name:(F=an(I,B))!==null&&F!==void 0?F:b?.name}))}return p},m)}},Yi=t=>{var r=ts(t);return r==="horizontal"?"xAxis":r==="vertical"?"yAxis":r==="centric"?"angleAxis":"radiusAxis"},nx=t=>t.tooltip.settings.axisId,vo=t=>{var r=Yi(t),a=nx(t);return sv(t,r,a)},JE=Ut([vo,ts,S9,BE,Yi],M9),ife=Ut([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,r)=>[...t,...r]),ofe=Ut([Yi,nx],PE),T4=Ut([ife,vo,ofe],OE),lfe=Ut([T4],DE),fp=Ut([lfe,dp],LE),ZE=Ut([fp,vo,T4],ME),cfe=Ut([vo],UE),dfe=Ut([fp,T4,rv],E9),ufe=Ut([dfe,dp,Yi],T9),ffe=Ut([T4],C9),Afe=Ut([fp,vo,ffe,Yi],F9),hfe=Ut([I9,Yi,nx],tx),mfe=Ut([hfe,Yi],P9),pfe=Ut([k9,Yi,nx],tx),gfe=Ut([pfe,Yi],O9),xfe=Ut([_9,Yi,nx],tx),yfe=Ut([xfe,Yi],D9),vfe=Ut([mfe,yfe,gfe],RE),bfe=Ut([vo,cfe,ufe,Afe,vfe],QE),iQ=Ut([vo,ts,fp,ZE,rv,Yi,bfe],HE),wfe=Ut([iQ,vo,JE],VE),jfe=Ut([vo,iQ,wfe,Yi],GE),oQ=t=>{var r=Yi(t),a=nx(t),s=!1;return iv(t,r,a,s)},lQ=Ut([vo,oQ],w4),cQ=Ut([vo,JE,jfe,lQ],zE),Nfe=Ut([ts,ZE,vo,Yi],V9),Sfe=Ut([ts,ZE,vo,Yi],K9),Cfe=(t,r,a,s,i,o,l,c)=>{if(r){var{type:d}=r,f=YA(t,c);if(s){var u=a==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,m=d==="category"&&s.bandwidth?s.bandwidth()/u:0;return m=c==="angleAxis"&&i!=null&&i?.length>=2?Ki(i[0]-i[1])*2*m:m,f&&l?l.map((p,g)=>({coordinate:s(p)+m,value:p,index:g,offset:m})):s.domain().map((p,g)=>({coordinate:s(p)+m,value:o?o[p]:p,index:g,offset:m}))}}},th=Ut([ts,vo,JE,cQ,oQ,Nfe,Sfe,Yi],Cfe),e6=Ut([W9,q9,Que],(t,r,a)=>Y9(a.shared,t,r)),dQ=t=>t.tooltip.settings.trigger,t6=t=>t.tooltip.settings.defaultIndex,F4=Ut([sx,e6,dQ,t6],rQ),gm=Ut([F4,fp],XE),uQ=Ut([th,gm],X9),fQ=Ut([F4],t=>{if(t)return t.dataKey}),AQ=Ut([sx,e6,dQ,t6],sQ),Bfe=Ut([XA,JA,ts,Si,th,t6,AQ,ov],aQ),Efe=Ut([F4,Bfe],(t,r)=>t!=null&&t.coordinate?t.coordinate:r),Tfe=Ut([F4],t=>t.active),Ffe=Ut([AQ,gm,dp,vo,uQ,ov,e6],nQ),Ife=Ut([Ffe],t=>{if(t!=null){var r=t.map(a=>a.payload).filter(a=>a!=null);return Array.from(new Set(r))}});function l8(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function c8(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?l8(Object(a),!0).forEach(function(s){kfe(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l8(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function kfe(t,r,a){return(r=_fe(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function _fe(t){var r=Pfe(t,"string");return typeof r=="symbol"?r:r+""}function Pfe(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Ofe=()=>Lr(vo),Dfe=()=>{var t=Ofe(),r=Lr(th),a=Lr(cQ);return uy(c8(c8({},t),{},{scale:a}),r)},hQ=()=>Lr(BE),r6=(t,r)=>r,mQ=(t,r,a)=>a,a6=(t,r,a,s)=>s,Lfe=Ut(th,t=>d4(t,r=>r.coordinate)),s6=Ut([sx,r6,mQ,a6],rQ),pQ=Ut([s6,fp],XE),Mfe=(t,r,a)=>{if(r!=null){var s=sx(t);return r==="axis"?a==="hover"?s.axisInteraction.hover.dataKey:s.axisInteraction.click.dataKey:a==="hover"?s.itemInteraction.hover.dataKey:s.itemInteraction.click.dataKey}},gQ=Ut([sx,r6,mQ,a6],sQ),X2=Ut([XA,JA,ts,Si,th,a6,gQ,ov],aQ),Ufe=Ut([s6,X2],(t,r)=>{var a;return(a=t.coordinate)!==null&&a!==void 0?a:r}),xQ=Ut(th,pQ,X9),Rfe=Ut([gQ,pQ,dp,vo,xQ,ov,r6],nQ),Qfe=Ut([s6],t=>({isActive:t.active,activeIndex:t.index})),Hfe=(t,r,a,s,i,o,l,c)=>{if(!(!t||!r||!s||!i||!o)){var d=lie(t.chartX,t.chartY,r,a,c);if(d){var f=die(d,r),u=Yne(f,l,o,s,i),m=cie(r,o,u,d);return{activeIndex:String(u),activeCoordinate:m}}}};function r3(){return r3=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},r3.apply(null,arguments)}function d8(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function Cb(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?d8(Object(a),!0).forEach(function(s){$fe(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d8(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function $fe(t,r,a){return(r=zfe(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function zfe(t){var r=Vfe(t,"string");return typeof r=="symbol"?r:r+""}function Vfe(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Kfe(t){var{coordinate:r,payload:a,index:s,offset:i,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:d,chartName:f}=t,u=r,m=a,p=s;if(!c||!u||f!=="ScatterChart"&&d!=="axis")return null;var g,v;if(f==="ScatterChart")g=u,v=ooe;else if(f==="BarChart")g=loe(l,u,i,o),v=yR;else if(l==="radial"){var{cx:y,cy:b,radius:j,startAngle:N,endAngle:S}=vR(u);g={cx:y,cy:b,startAngle:N,endAngle:S,innerRadius:j,outerRadius:j},v=wR}else g={points:Woe(l,u,i)},v=D1;var B=typeof c=="object"&&"className"in c?c.className:void 0,I=Cb(Cb(Cb(Cb({stroke:"#ccc",pointerEvents:"none"},i),g),Pa(c,!1)),{},{payload:m,payloadIndex:p,className:Mt("recharts-tooltip-cursor",B)});return w.isValidElement(c)?w.cloneElement(c,I):w.createElement(v,I)}function Gfe(t){var r=Dfe(),a=uR(),s=h4(),i=hQ();return w.createElement(Kfe,r3({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:a,layout:s,tooltipAxisBandSize:r,chartName:i}))}var yQ=w.createContext(null),Wfe=()=>w.useContext(yQ),$S={exports:{}},u8;function qfe(){return u8||(u8=1,function(t){var r=Object.prototype.hasOwnProperty,a="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(a=!1));function i(d,f,u){this.fn=d,this.context=f,this.once=u||!1}function o(d,f,u,m,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var g=new i(u,m||d,p),v=a?a+f:f;return d._events[v]?d._events[v].fn?d._events[v]=[d._events[v],g]:d._events[v].push(g):(d._events[v]=g,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new s:delete d._events[f]}function c(){this._events=new s,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],u,m;if(this._eventsCount===0)return f;for(m in u=this._events)r.call(u,m)&&f.push(a?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(u)):f},c.prototype.listeners=function(f){var u=a?a+f:f,m=this._events[u];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,g=m.length,v=new Array(g);p<g;p++)v[p]=m[p].fn;return v},c.prototype.listenerCount=function(f){var u=a?a+f:f,m=this._events[u];return m?m.fn?1:m.length:0},c.prototype.emit=function(f,u,m,p,g,v){var y=a?a+f:f;if(!this._events[y])return!1;var b=this._events[y],j=arguments.length,N,S;if(b.fn){switch(b.once&&this.removeListener(f,b.fn,void 0,!0),j){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,m),!0;case 4:return b.fn.call(b.context,u,m,p),!0;case 5:return b.fn.call(b.context,u,m,p,g),!0;case 6:return b.fn.call(b.context,u,m,p,g,v),!0}for(S=1,N=new Array(j-1);S<j;S++)N[S-1]=arguments[S];b.fn.apply(b.context,N)}else{var B=b.length,I;for(S=0;S<B;S++)switch(b[S].once&&this.removeListener(f,b[S].fn,void 0,!0),j){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,u);break;case 3:b[S].fn.call(b[S].context,u,m);break;case 4:b[S].fn.call(b[S].context,u,m,p);break;default:if(!N)for(I=1,N=new Array(j-1);I<j;I++)N[I-1]=arguments[I];b[S].fn.apply(b[S].context,N)}}return!0},c.prototype.on=function(f,u,m){return o(this,f,u,m,!1)},c.prototype.once=function(f,u,m){return o(this,f,u,m,!0)},c.prototype.removeListener=function(f,u,m,p){var g=a?a+f:f;if(!this._events[g])return this;if(!u)return l(this,g),this;var v=this._events[g];if(v.fn)v.fn===u&&(!p||v.once)&&(!m||v.context===m)&&l(this,g);else{for(var y=0,b=[],j=v.length;y<j;y++)(v[y].fn!==u||p&&!v[y].once||m&&v[y].context!==m)&&b.push(v[y]);b.length?this._events[g]=b.length===1?b[0]:b:l(this,g)}return this},c.prototype.removeAllListeners=function(f){var u;return f?(u=a?a+f:f,this._events[u]&&l(this,u)):(this._events=new s,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=a,c.EventEmitter=c,t.exports=c}($S)),$S.exports}var Yfe=qfe();const Xfe=Tc(Yfe);var yy=new Xfe,a3="recharts.syncEvent.tooltip",f8="recharts.syncEvent.brush";function n6(t,r){if(r){var a=Number.parseInt(r,10);if(!Hl(a))return t?.[a]}}var Jfe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},vQ=xl({name:"options",initialState:Jfe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Zfe=vQ.reducer,{createEventEmitter:eAe}=vQ.actions;function tAe(t){return t.tooltip.syncInteraction}var rAe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},bQ=xl({name:"chartData",initialState:rAe,reducers:{setChartData(t,r){if(t.chartData=r.payload,r.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}r.payload.length>0&&t.dataEndIndex!==r.payload.length-1&&(t.dataEndIndex=r.payload.length-1)},setComputedData(t,r){t.computedData=r.payload},setDataStartEndIndexes(t,r){var{startIndex:a,endIndex:s}=r.payload;a!=null&&(t.dataStartIndex=a),s!=null&&(t.dataEndIndex=s)}}}),{setChartData:A8,setDataStartEndIndexes:aAe,setComputedData:pke}=bQ.actions,sAe=bQ.reducer,wQ=()=>{};function nAe(){var t=Lr(EE),r=Lr(TE),a=mn(),s=Lr(v9),i=Lr(th),o=h4(),l=qB(),c=Lr(d=>d.rootProps.className);w.useEffect(()=>{if(t==null)return wQ;var d=(f,u,m)=>{if(r!==m&&t===f){if(s==="index"){a(u);return}if(i!=null){var p;if(typeof s=="function"){var g={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},v=s(i,g);p=i[v]}else s==="value"&&(p=i.find(F=>String(F.value)===u.payload.label));var{coordinate:y}=u.payload;if(p==null||u.payload.active===!1||y==null||l==null){a(e3({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:b,y:j}=y,N=Math.min(b,l.x+l.width),S=Math.min(j,l.y+l.height),B={x:o==="horizontal"?p.coordinate:N,y:o==="horizontal"?S:p.coordinate},I=e3({active:u.payload.active,coordinate:B,dataKey:u.payload.dataKey,index:String(p.index),label:u.payload.label});a(I)}}};return yy.on(a3,d),()=>{yy.off(a3,d)}},[c,a,r,t,s,i,o,l])}function iAe(){var t=Lr(EE),r=Lr(TE),a=mn();w.useEffect(()=>{if(t==null)return wQ;var s=(i,o,l)=>{r!==l&&t===i&&a(aAe(o))};return yy.on(f8,s),()=>{yy.off(f8,s)}},[a,r,t])}function oAe(){var t=mn();w.useEffect(()=>{t(eAe())},[t]),nAe(),iAe()}function lAe(t,r,a,s,i,o){var l=Lr(p=>Mfe(p,t,r)),c=Lr(TE),d=Lr(EE),f=Lr(v9),u=Lr(tAe),m=u?.active;w.useEffect(()=>{if(!m&&d!=null&&c!=null){var p=e3({active:o,coordinate:a,dataKey:l,index:i,label:typeof s=="number"?String(s):s});yy.emit(a3,d,p,c)}},[m,a,l,i,s,c,d,f,o])}function h8(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function m8(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?h8(Object(a),!0).forEach(function(s){cAe(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h8(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function cAe(t,r,a){return(r=dAe(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function dAe(t){var r=uAe(t,"string");return typeof r=="symbol"?r:r+""}function uAe(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function fAe(t){return t.dataKey}function AAe(t,r){return w.isValidElement(t)?w.cloneElement(t,r):typeof t=="function"?w.createElement(t,r):w.createElement(Uie,r)}var p8=[],hAe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!op.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function L1(t){var r=xd(t,hAe),{active:a,allowEscapeViewBox:s,animationDuration:i,animationEasing:o,content:l,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:u,position:m,reverseDirection:p,useTranslate3d:g,wrapperStyle:v,cursor:y,shared:b,trigger:j,defaultIndex:N,portal:S,axisId:B}=r,I=mn(),F=typeof N=="number"?String(N):N;w.useEffect(()=>{I(Vue({shared:b,trigger:j,axisId:B,active:a,defaultIndex:F}))},[I,b,j,B,a,F]);var O=qB(),k=mR(),V=Rue(b),{activeIndex:Q,isActive:H}=Lr(oe=>Qfe(oe,V,j,F)),M=Lr(oe=>Rfe(oe,V,j,F)),K=Lr(oe=>xQ(oe,V,j,F)),q=Lr(oe=>Ufe(oe,V,j,F)),re=M,ee=Wfe(),le=a??H,[Ae,ue]=rR([re,le]),se=V==="axis"?K:void 0;lAe(V,j,q,se,Q,le);var ve=S??ee;if(ve==null)return null;var _=re??p8;le||(_=p8),c&&_.length&&(_=JU(re.filter(oe=>oe.value!=null&&(oe.hide!==!0||r.includeHidden)),u,fAe));var z=_.length>0,ae=w.createElement(Kie,{allowEscapeViewBox:s,animationDuration:i,animationEasing:o,isAnimationActive:d,active:le,coordinate:q,hasPayload:z,offset:f,position:m,reverseDirection:p,useTranslate3d:g,viewBox:O,wrapperStyle:v,lastBoundingBox:Ae,innerRef:ue,hasPortalFromProps:!!S},AAe(l,m8(m8({},r),{},{payload:_,label:se,active:le,coordinate:q,accessibilityLayer:k})));return w.createElement(w.Fragment,null,x7.createPortal(ae,ve),le&&w.createElement(Gfe,{cursor:y,tooltipEventType:V,coordinate:q,payload:re,index:Q}))}var zS={},VS={},KS={},g8;function mAe(){return g8||(g8=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a,s,{signal:i,edges:o}={}){let l,c=null;const d=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),u=()=>{c!==null&&(a.apply(l,c),l=void 0,c=null)},m=()=>{f&&u(),y()};let p=null;const g=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,m()},s)},v=()=>{p!==null&&(clearTimeout(p),p=null)},y=()=>{v(),l=void 0,c=null},b=()=>{u()},j=function(...N){if(i?.aborted)return;l=this,c=N;const S=p==null;g(),d&&S&&u()};return j.schedule=g,j.cancel=y,j.flush=b,i?.addEventListener("abort",y,{once:!0}),j}t.debounce=r}(KS)),KS}var x8;function pAe(){return x8||(x8=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=mAe();function a(s,i=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:c=!0,maxWait:d}=o,f=Array(2);l&&(f[0]="leading"),c&&(f[1]="trailing");let u,m=null;const p=r.debounce(function(...y){u=s.apply(this,y),m=null},i,{edges:f}),g=function(...y){return d!=null&&(m===null&&(m=Date.now()),Date.now()-m>=d)?(u=s.apply(this,y),m=Date.now(),p.cancel(),p.schedule(),u):(p.apply(this,y),u)},v=()=>(p.flush(),u);return g.cancel=p.cancel,g.flush=v,g}t.debounce=a}(VS)),VS}var y8;function gAe(){return y8||(y8=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=pAe();function a(s,i=0,o={}){const{leading:l=!0,trailing:c=!0}=o;return r.debounce(s,i,{leading:l,maxWait:i,trailing:c})}t.throttle=a}(zS)),zS}var GS,v8;function xAe(){return v8||(v8=1,GS=gAe().throttle),GS}var yAe=xAe();const vAe=Tc(yAe);var M1=function(r,a){for(var s=arguments.length,i=new Array(s>2?s-2:0),o=2;o<s;o++)i[o-2]=arguments[o]};function b8(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function WS(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?b8(Object(a),!0).forEach(function(s){bAe(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):b8(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function bAe(t,r,a){return(r=wAe(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function wAe(t){var r=jAe(t,"string");return typeof r=="symbol"?r:r+""}function jAe(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var U1=w.forwardRef((t,r)=>{var{aspect:a,initialDimension:s={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:l=0,minHeight:c,maxHeight:d,children:f,debounce:u=0,id:m,className:p,onResize:g,style:v={}}=t,y=w.useRef(null),b=w.useRef();b.current=g,w.useImperativeHandle(r,()=>y.current);var[j,N]=w.useState({containerWidth:s.width,containerHeight:s.height}),S=w.useCallback((I,F)=>{N(O=>{var k=Math.round(I),V=Math.round(F);return O.containerWidth===k&&O.containerHeight===V?O:{containerWidth:k,containerHeight:V}})},[]);w.useEffect(()=>{var I=V=>{var Q,{width:H,height:M}=V[0].contentRect;S(H,M),(Q=b.current)===null||Q===void 0||Q.call(b,H,M)};u>0&&(I=vAe(I,u,{trailing:!0,leading:!1}));var F=new ResizeObserver(I),{width:O,height:k}=y.current.getBoundingClientRect();return S(O,k),F.observe(y.current),()=>{F.disconnect()}},[S,u]);var B=w.useMemo(()=>{var{containerWidth:I,containerHeight:F}=j;if(I<0||F<0)return null;M1(w0(i)||w0(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),M1(!a||a>0,"The aspect(%s) must be greater than zero.",a);var O=w0(i)?I:i,k=w0(o)?F:o;return a&&a>0&&(O?k=O/a:k&&(O=k*a),d&&k>d&&(k=d)),M1(O>0||k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,k,i,o,l,c,a),w.Children.map(f,V=>w.cloneElement(V,{width:O,height:k,style:WS({width:O,height:k},V.props.style)}))},[a,f,o,d,c,l,j,i]);return w.createElement("div",{id:m?"".concat(m):void 0,className:Mt("recharts-responsive-container",p),style:WS(WS({},v),{},{width:i,height:o,minWidth:l,minHeight:c,maxHeight:d}),ref:y},w.createElement("div",{style:{width:0,height:0,overflow:"visible"}},B))}),ix=t=>null;ix.displayName="Cell";function w8(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function s3(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?w8(Object(a),!0).forEach(function(s){NAe(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):w8(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function NAe(t,r,a){return(r=SAe(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function SAe(t){var r=CAe(t,"string");return typeof r=="symbol"?r:r+""}function CAe(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var rg={widthCache:{},cacheCount:0},BAe=2e3,EAe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},j8="recharts_measurement_span";function TAe(t){var r=s3({},t);return Object.keys(r).forEach(a=>{r[a]||delete r[a]}),r}var R1=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||op.isSsr)return{width:0,height:0};var s=TAe(a),i=JSON.stringify({text:r,copyStyle:s});if(rg.widthCache[i])return rg.widthCache[i];try{var o=document.getElementById(j8);o||(o=document.createElement("span"),o.setAttribute("id",j8),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var l=s3(s3({},EAe),s);Object.assign(o.style,l),o.textContent="".concat(r);var c=o.getBoundingClientRect(),d={width:c.width,height:c.height};return rg.widthCache[i]=d,++rg.cacheCount>BAe&&(rg.cacheCount=0,rg.widthCache={}),d}catch{return{width:0,height:0}}},N8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,S8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FAe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,IAe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,jQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},kAe=Object.keys(jQ),fg="NaN";function _Ae(t,r){return t*jQ[r]}class Dl{static parse(r){var a,[,s,i]=(a=IAe.exec(r))!==null&&a!==void 0?a:[];return new Dl(parseFloat(s),i??"")}constructor(r,a){this.num=r,this.unit=a,this.num=r,this.unit=a,Hl(r)&&(this.unit=""),a!==""&&!FAe.test(a)&&(this.num=NaN,this.unit=""),kAe.includes(a)&&(this.num=_Ae(r,a),this.unit="px")}add(r){return this.unit!==r.unit?new Dl(NaN,""):new Dl(this.num+r.num,this.unit)}subtract(r){return this.unit!==r.unit?new Dl(NaN,""):new Dl(this.num-r.num,this.unit)}multiply(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new Dl(NaN,""):new Dl(this.num*r.num,this.unit||r.unit)}divide(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new Dl(NaN,""):new Dl(this.num/r.num,this.unit||r.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Hl(this.num)}}function NQ(t){if(t.includes(fg))return fg;for(var r=t;r.includes("*")||r.includes("/");){var a,[,s,i,o]=(a=N8.exec(r))!==null&&a!==void 0?a:[],l=Dl.parse(s??""),c=Dl.parse(o??""),d=i==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return fg;r=r.replace(N8,d.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var f,[,u,m,p]=(f=S8.exec(r))!==null&&f!==void 0?f:[],g=Dl.parse(u??""),v=Dl.parse(p??""),y=m==="+"?g.add(v):g.subtract(v);if(y.isNaN())return fg;r=r.replace(S8,y.toString())}return r}var C8=/\(([^()]*)\)/;function PAe(t){for(var r=t,a;(a=C8.exec(r))!=null;){var[,s]=a;r=r.replace(C8,NQ(s))}return r}function OAe(t){var r=t.replace(/\s+/g,"");return r=PAe(r),r=NQ(r),r}function DAe(t){try{return OAe(t)}catch{return fg}}function qS(t){var r=DAe(t.slice(5,-1));return r===fg?"":r}var LAe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],MAe=["dx","dy","angle","className","breakAll"];function n3(){return n3=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},n3.apply(null,arguments)}function B8(t,r){if(t==null)return{};var a,s,i=UAe(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function UAe(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var SQ=/[ \f\n\r\t\v\u2028\u2029]+/,CQ=t=>{var{children:r,breakAll:a,style:s}=t;try{var i=[];Gs(r)||(a?i=r.toString().split(""):i=r.toString().split(SQ));var o=i.map(c=>({word:c,width:R1(c,s).width})),l=a?0:R1("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},RAe=(t,r,a,s,i)=>{var{maxLines:o,children:l,style:c,breakAll:d}=t,f=Br(o),u=l,m=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce((M,K)=>{var{word:q,width:re}=K,ee=M[M.length-1];if(ee&&(s==null||i||ee.width+re+a<Number(s)))ee.words.push(q),ee.width+=re+a;else{var le={words:[q],width:re};M.push(le)}return M},[])},p=m(r),g=Q=>Q.reduce((H,M)=>H.width>M.width?H:M);if(!f||i)return p;var v=p.length>o||g(p).width>Number(s);if(!v)return p;for(var y="",b=Q=>{var H=u.slice(0,Q),M=CQ({breakAll:d,style:c,children:H+y}).wordsWithComputedWidth,K=m(M),q=K.length>o||g(K).width>Number(s);return[q,K]},j=0,N=u.length-1,S=0,B;j<=N&&S<=u.length-1;){var I=Math.floor((j+N)/2),F=I-1,[O,k]=b(F),[V]=b(I);if(!O&&!V&&(j=I+1),O&&V&&(N=I-1),!O&&V){B=k;break}S++}return B||p},E8=t=>{var r=Gs(t)?[]:t.toString().split(SQ);return[{words:r}]},QAe=t=>{var{width:r,scaleToFit:a,children:s,style:i,breakAll:o,maxLines:l}=t;if((r||a)&&!op.isSsr){var c,d,f=CQ({breakAll:o,children:s,style:i});if(f){var{wordsWithComputedWidth:u,spaceWidth:m}=f;c=u,d=m}else return E8(s);return RAe({breakAll:o,children:s,maxLines:l,style:i},c,d,r,a)}return E8(s)},T8="#808080",I4=w.forwardRef((t,r)=>{var{x:a=0,y:s=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:l=!1,textAnchor:c="start",verticalAnchor:d="end",fill:f=T8}=t,u=B8(t,LAe),m=w.useMemo(()=>QAe({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:l,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,l,u.style,u.width]),{dx:p,dy:g,angle:v,className:y,breakAll:b}=u,j=B8(u,MAe);if(!Sf(a)||!Sf(s))return null;var N=a+(Br(p)?p:0),S=s+(Br(g)?g:0),B;switch(d){case"start":B=qS("calc(".concat(o,")"));break;case"middle":B=qS("calc(".concat((m.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:B=qS("calc(".concat(m.length-1," * -").concat(i,")"));break}var I=[];if(l){var F=m[0].width,{width:O}=u;I.push("scale(".concat(Br(O)?O/F:1,")"))}return v&&I.push("rotate(".concat(v,", ").concat(N,", ").concat(S,")")),I.length&&(j.transform=I.join(" ")),w.createElement("text",n3({},Pa(j,!0),{ref:r,x:N,y:S,className:Mt("recharts-text",y),textAnchor:c,fill:f.includes("url")?T8:f}),m.map((k,V)=>{var Q=k.words.join(b?"":" ");return w.createElement("tspan",{x:N,dy:V===0?B:i,key:"".concat(Q,"-").concat(V)},Q)}))});I4.displayName="Text";var HAe=["offset"],$Ae=["labelRef"];function F8(t,r){if(t==null)return{};var a,s,i=zAe(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function zAe(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function I8(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function si(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?I8(Object(a),!0).forEach(function(s){VAe(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):I8(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function VAe(t,r,a){return(r=KAe(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function KAe(t){var r=GAe(t,"string");return typeof r=="symbol"?r:r+""}function GAe(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function SA(){return SA=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},SA.apply(null,arguments)}var WAe=t=>{var{value:r,formatter:a}=t,s=Gs(t.children)?r:t.children;return typeof a=="function"?a(s):s},i6=t=>t!=null&&typeof t=="function",qAe=(t,r)=>{var a=Ki(r-t),s=Math.min(Math.abs(r-t),360);return a*s},YAe=(t,r,a)=>{var{position:s,viewBox:i,offset:o,className:l}=t,{cx:c,cy:d,innerRadius:f,outerRadius:u,startAngle:m,endAngle:p,clockWise:g}=i,v=(f+u)/2,y=qAe(m,p),b=y>=0?1:-1,j,N;s==="insideStart"?(j=m+b*o,N=g):s==="insideEnd"?(j=p-b*o,N=!g):s==="end"&&(j=p+b*o,N=g),N=y<=0?N:!N;var S=ii(c,d,v,j),B=ii(c,d,v,j+(N?1:-1)*359),I="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(N?0:1,`,
    `).concat(B.x,",").concat(B.y),F=Gs(t.id)?Y0("recharts-radial-line-"):t.id;return w.createElement("text",SA({},a,{dominantBaseline:"central",className:Mt("recharts-radial-bar-label",l)}),w.createElement("defs",null,w.createElement("path",{id:F,d:I})),w.createElement("textPath",{xlinkHref:"#".concat(F)},r))},XAe=t=>{var{viewBox:r,offset:a,position:s}=t,{cx:i,cy:o,innerRadius:l,outerRadius:c,startAngle:d,endAngle:f}=r,u=(d+f)/2;if(s==="outside"){var{x:m,y:p}=ii(i,o,c+a,u);return{x:m,y:p,textAnchor:m>=i?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var g=(l+c)/2,{x:v,y}=ii(i,o,g,u);return{x:v,y,textAnchor:"middle",verticalAnchor:"middle"}},JAe=(t,r)=>{var{parentViewBox:a,offset:s,position:i}=t,{x:o,y:l,width:c,height:d}=r,f=d>=0?1:-1,u=f*s,m=f>0?"end":"start",p=f>0?"start":"end",g=c>=0?1:-1,v=g*s,y=g>0?"end":"start",b=g>0?"start":"end";if(i==="top"){var j={x:o+c/2,y:l-f*s,textAnchor:"middle",verticalAnchor:m};return si(si({},j),a?{height:Math.max(l-a.y,0),width:c}:{})}if(i==="bottom"){var N={x:o+c/2,y:l+d+u,textAnchor:"middle",verticalAnchor:p};return si(si({},N),a?{height:Math.max(a.y+a.height-(l+d),0),width:c}:{})}if(i==="left"){var S={x:o-v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return si(si({},S),a?{width:Math.max(S.x-a.x,0),height:d}:{})}if(i==="right"){var B={x:o+c+v,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return si(si({},B),a?{width:Math.max(a.x+a.width-B.x,0),height:d}:{})}var I=a?{width:c,height:d}:{};return i==="insideLeft"?si({x:o+v,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},I):i==="insideRight"?si({x:o+c-v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},I):i==="insideTop"?si({x:o+c/2,y:l+u,textAnchor:"middle",verticalAnchor:p},I):i==="insideBottom"?si({x:o+c/2,y:l+d-u,textAnchor:"middle",verticalAnchor:m},I):i==="insideTopLeft"?si({x:o+v,y:l+u,textAnchor:b,verticalAnchor:p},I):i==="insideTopRight"?si({x:o+c-v,y:l+u,textAnchor:y,verticalAnchor:p},I):i==="insideBottomLeft"?si({x:o+v,y:l+d-u,textAnchor:b,verticalAnchor:m},I):i==="insideBottomRight"?si({x:o+c-v,y:l+d-u,textAnchor:y,verticalAnchor:m},I):i&&typeof i=="object"&&(Br(i.x)||w0(i.x))&&(Br(i.y)||w0(i.y))?si({x:o+pl(i.x,c),y:l+pl(i.y,d),textAnchor:"end",verticalAnchor:"end"},I):si({x:o+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},I)},ZAe=t=>"cx"in t&&Br(t.cx);function vc(t){var{offset:r=5}=t,a=F8(t,HAe),s=si({offset:r},a),{viewBox:i,position:o,value:l,children:c,content:d,className:f="",textBreakAll:u,labelRef:m}=s,p=qB(),g=i||p;if(!g||Gs(l)&&Gs(c)&&!w.isValidElement(d)&&typeof d!="function")return null;if(w.isValidElement(d)){var{labelRef:v}=s,y=F8(s,$Ae);return w.cloneElement(d,y)}var b;if(typeof d=="function"){if(b=w.createElement(d,s),w.isValidElement(b))return b}else b=WAe(s);var j=ZAe(g),N=Pa(s,!0);if(j&&(o==="insideStart"||o==="insideEnd"||o==="end"))return YAe(s,b,N);var S=j?XAe(s):JAe(s,g);return w.createElement(I4,SA({ref:m,className:Mt("recharts-label",f)},N,S,{breakAll:u}),b)}vc.displayName="Label";var BQ=t=>{var{cx:r,cy:a,angle:s,startAngle:i,endAngle:o,r:l,radius:c,innerRadius:d,outerRadius:f,x:u,y:m,top:p,left:g,width:v,height:y,clockWise:b,labelViewBox:j}=t;if(j)return j;if(Br(v)&&Br(y)){if(Br(u)&&Br(m))return{x:u,y:m,width:v,height:y};if(Br(p)&&Br(g))return{x:p,y:g,width:v,height:y}}if(Br(u)&&Br(m))return{x:u,y:m,width:0,height:0};if(Br(r)&&Br(a))return{cx:r,cy:a,startAngle:i||s||0,endAngle:o||s||0,innerRadius:d||0,outerRadius:f||c||l||0,clockWise:b};if(t.viewBox)return t.viewBox},ehe=(t,r,a)=>{if(!t)return null;var s={viewBox:r,labelRef:a};return t===!0?w.createElement(vc,SA({key:"label-implicit"},s)):Sf(t)?w.createElement(vc,SA({key:"label-implicit",value:t},s)):w.isValidElement(t)?t.type===vc?w.cloneElement(t,si({key:"label-implicit"},s)):w.createElement(vc,SA({key:"label-implicit",content:t},s)):i6(t)?w.createElement(vc,SA({key:"label-implicit",content:t},s)):t&&typeof t=="object"?w.createElement(vc,SA({},t,{key:"label-implicit"},s)):null},the=function(r,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&s&&!r.label)return null;var{children:i,labelRef:o}=r,l=BQ(r),c=Xy(i,vc).map((f,u)=>w.cloneElement(f,{viewBox:a||l,key:"label-".concat(u)}));if(!s)return c;var d=ehe(r.label,a||l,o);return[d,...c]};vc.parseViewBox=BQ;vc.renderCallByParent=the;var YS={},XS={},k8;function rhe(){return k8||(k8=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return a[a.length-1]}t.last=r}(XS)),XS}var JS={},_8;function ahe(){return _8||(_8=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return Array.isArray(a)?a:Array.from(a)}t.toArray=r}(JS)),JS}var P8;function she(){return P8||(P8=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=rhe(),a=ahe(),s=RB();function i(o){if(s.isArrayLike(o))return r.last(a.toArray(o))}t.last=i}(YS)),YS}var ZS,O8;function nhe(){return O8||(O8=1,ZS=she().last),ZS}var ihe=nhe();const ohe=Tc(ihe);var lhe=["valueAccessor"],che=["data","dataKey","clockWise","id","textBreakAll"];function J2(){return J2=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},J2.apply(null,arguments)}function D8(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function L8(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?D8(Object(a),!0).forEach(function(s){dhe(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):D8(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function dhe(t,r,a){return(r=uhe(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function uhe(t){var r=fhe(t,"string");return typeof r=="symbol"?r:r+""}function fhe(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function M8(t,r){if(t==null)return{};var a,s,i=Ahe(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function Ahe(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var hhe=t=>Array.isArray(t.value)?ohe(t.value):t.value;function om(t){var{valueAccessor:r=hhe}=t,a=M8(t,lhe),{data:s,dataKey:i,clockWise:o,id:l,textBreakAll:c}=a,d=M8(a,che);return!s||!s.length?null:w.createElement(Gn,{className:"recharts-label-list"},s.map((f,u)=>{var m=Gs(i)?r(f,u):an(f&&f.payload,i),p=Gs(l)?{}:{id:"".concat(l,"-").concat(u)};return w.createElement(vc,J2({},Pa(f,!0),d,p,{parentViewBox:f.parentViewBox,value:m,textBreakAll:c,viewBox:vc.parseViewBox(Gs(o)?f:L8(L8({},f),{},{clockWise:o})),key:"label-".concat(u),index:u}))}))}om.displayName="LabelList";function mhe(t,r){return t?t===!0?w.createElement(om,{key:"labelList-implicit",data:r}):w.isValidElement(t)||i6(t)?w.createElement(om,{key:"labelList-implicit",data:r,content:t}):typeof t=="object"?w.createElement(om,J2({data:r},t,{key:"labelList-implicit"})):null:null}function phe(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var{children:s}=t,i=Xy(s,om).map((l,c)=>w.cloneElement(l,{data:r,key:"labelList-".concat(c)}));if(!a)return i;var o=mhe(t.label,r);return[o,...i]}om.renderCallByParent=phe;function i3(){return i3=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},i3.apply(null,arguments)}var EQ=t=>{var{cx:r,cy:a,r:s,className:i}=t,o=Mt("recharts-dot",i);return r===+r&&a===+a&&s===+s?w.createElement("circle",i3({},Pa(t,!1),kB(t),{className:o,cx:r,cy:a,r:s})):null},TQ=t=>t.graphicalItems.polarItems,ghe=Ut([Wn,av],PE),o6=Ut([TQ,qn,ghe],OE),xhe=Ut([o6],DE),l6=Ut([xhe,jE],LE),yhe=Ut([l6,qn,o6],ME),vhe=Ut([l6,qn,o6],(t,r,a)=>a.length>0?t.flatMap(s=>a.flatMap(i=>{var o,l=an(s,(o=r.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):r?.dataKey!=null?t.map(s=>({value:an(s,r.dataKey),errorDomain:[]})):t.map(s=>({value:s,errorDomain:[]}))),U8=()=>{},bhe=Ut([qn,L9,U8,vhe,U8],QE),FQ=Ut([qn,ts,l6,yhe,rv,Wn,bhe],HE),whe=Ut([FQ,qn,rx],VE);Ut([qn,FQ,whe,Wn],GE);var jhe={radiusAxis:{},angleAxis:{}},IQ=xl({name:"polarAxis",initialState:jhe,reducers:{addRadiusAxis(t,r){t.radiusAxis[r.payload.id]=r.payload},removeRadiusAxis(t,r){delete t.radiusAxis[r.payload.id]},addAngleAxis(t,r){t.angleAxis[r.payload.id]=r.payload},removeAngleAxis(t,r){delete t.angleAxis[r.payload.id]}}}),{addRadiusAxis:gke,removeRadiusAxis:xke,addAngleAxis:yke,removeAngleAxis:vke}=IQ.actions,Nhe=IQ.reducer;function R8(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function Q8(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?R8(Object(a),!0).forEach(function(s){She(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):R8(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function She(t,r,a){return(r=Che(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Che(t){var r=Bhe(t,"string");return typeof r=="symbol"?r:r+""}function Bhe(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var c6=(t,r)=>r,Ehe=[],d6=(t,r,a)=>a?.length===0?Ehe:a,kQ=Ut([jE,c6,d6],(t,r,a)=>{var{chartData:s}=t,i;if(r?.data!=null&&r.data.length>0?i=r.data:i=s,(!i||!i.length)&&a!=null&&(i=a.map(o=>Q8(Q8({},r.presentationProps),o.props))),i!=null)return i}),The=Ut([kQ,c6,d6],(t,r,a)=>{if(t!=null)return t.map((s,i)=>{var o,l=an(s,r.nameKey,r.name),c;return a!=null&&(o=a[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?c=a[i].props.fill:typeof s=="object"&&s!=null&&"fill"in s?c=s.fill:c=r.fill,{value:Xg(l,r.dataKey),color:c,payload:s,type:r.legendType}})}),Fhe=Ut([TQ,c6],(t,r)=>{if(t.some(a=>a.type==="pie"&&r.dataKey===a.dataKey&&r.data===a.data))return r}),Ihe=Ut([kQ,Fhe,d6,Si],(t,r,a,s)=>{if(!(r==null||t==null))return wme({offset:s,pieSettings:r,displayedData:t,cells:a})}),khe={countOfBars:0,cartesianItems:[],polarItems:[]},_Q=xl({name:"graphicalItems",initialState:khe,reducers:{addBar(t){t.countOfBars+=1},removeBar(t){t.countOfBars-=1},addCartesianGraphicalItem(t,r){t.cartesianItems.push(r.payload)},replaceCartesianGraphicalItem(t,r){var{prev:a,next:s}=r.payload,i=kA(t).cartesianItems.indexOf(a);i>-1&&(t.cartesianItems[i]=s)},removeCartesianGraphicalItem(t,r){var a=kA(t).cartesianItems.indexOf(r.payload);a>-1&&t.cartesianItems.splice(a,1)},addPolarGraphicalItem(t,r){t.polarItems.push(r.payload)},removePolarGraphicalItem(t,r){var a=kA(t).polarItems.indexOf(r.payload);a>-1&&t.polarItems.splice(a,1)}}}),{addBar:_he,removeBar:Phe,addCartesianGraphicalItem:Ohe,replaceCartesianGraphicalItem:Dhe,removeCartesianGraphicalItem:Lhe,addPolarGraphicalItem:Mhe,removePolarGraphicalItem:Uhe}=_Q.actions,Rhe=_Q.reducer;function H8(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function $8(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?H8(Object(a),!0).forEach(function(s){Qhe(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):H8(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Qhe(t,r,a){return(r=Hhe(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Hhe(t){var r=$he(t,"string");return typeof r=="symbol"?r:r+""}function $he(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function zhe(t){var r=mn(),a=w.useRef(null);return w.useEffect(()=>{var s=$8($8({},t),{},{stackId:KB(t.stackId)});a.current===null?r(Ohe(s)):a.current!==s&&r(Dhe({prev:a.current,next:s})),a.current=s},[r,t]),w.useEffect(()=>()=>{a.current&&(r(Lhe(a.current)),a.current=null)},[r]),null}function Vhe(t){var r=mn();return w.useEffect(()=>(r(Mhe(t)),()=>{r(Uhe(t))}),[r,t]),null}var e5={},z8;function Khe(){return z8||(z8=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){if(typeof a!="object"||a==null)return!1;if(Object.getPrototypeOf(a)===null)return!0;if(Object.prototype.toString.call(a)!=="[object Object]"){const i=a[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(a,Symbol.toStringTag)?.writable?!1:a.toString()===`[object ${i}]`}let s=a;for(;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(a)===s}t.isPlainObject=r}(e5)),e5}var t5,V8;function Ghe(){return V8||(V8=1,t5=Khe().isPlainObject),t5}var Whe=Ghe();const qhe=Tc(Whe);function Z2(){return Z2=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},Z2.apply(null,arguments)}var K8=(t,r,a,s,i)=>{var o=a-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+a,",").concat(r),l+="L ".concat(t+a-o/2,",").concat(r+i),l+="L ".concat(t+a-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},Yhe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Xhe=t=>{var r=xd(t,Yhe),a=w.useRef(),[s,i]=w.useState(-1);w.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var b=a.current.getTotalLength();b&&i(b)}catch{}},[]);var{x:o,y:l,upperWidth:c,lowerWidth:d,height:f,className:u}=r,{animationEasing:m,animationDuration:p,animationBegin:g,isUpdateAnimationActive:v}=r;if(o!==+o||l!==+l||c!==+c||d!==+d||f!==+f||c===0&&d===0||f===0)return null;var y=Mt("recharts-trapezoid",u);return v?w.createElement(mm,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:f,x:o,y:l},to:{upperWidth:c,lowerWidth:d,height:f,x:o,y:l},duration:p,animationEasing:m,isActive:v},b=>{var{upperWidth:j,lowerWidth:N,height:S,x:B,y:I}=b;return w.createElement(mm,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,easing:m},w.createElement("path",Z2({},Pa(r,!0),{className:y,d:K8(B,I,j,N,S),ref:a})))}):w.createElement("g",null,w.createElement("path",Z2({},Pa(r,!0),{className:y,d:K8(o,l,c,d,f)})))},Jhe=["option","shapeType","propTransformer","activeClassName","isActive"];function Zhe(t,r){if(t==null)return{};var a,s,i=eme(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function eme(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function G8(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function ew(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?G8(Object(a),!0).forEach(function(s){tme(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):G8(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function tme(t,r,a){return(r=rme(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function rme(t){var r=ame(t,"string");return typeof r=="symbol"?r:r+""}function ame(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function sme(t,r){return ew(ew({},r),t)}function nme(t,r){return t==="symbols"}function W8(t){var{shapeType:r,elementProps:a}=t;switch(r){case"rectangle":return w.createElement(yR,a);case"trapezoid":return w.createElement(Xhe,a);case"sector":return w.createElement(wR,a);case"symbols":if(nme(r))return w.createElement(LB,a);break;default:return null}}function ime(t){return w.isValidElement(t)?t.props:t}function PQ(t){var{option:r,shapeType:a,propTransformer:s=sme,activeClassName:i="recharts-active-shape",isActive:o}=t,l=Zhe(t,Jhe),c;if(w.isValidElement(r))c=w.cloneElement(r,ew(ew({},l),ime(r)));else if(typeof r=="function")c=r(l);else if(qhe(r)&&typeof r!="boolean"){var d=s(r,l);c=w.createElement(W8,{shapeType:a,elementProps:d})}else{var f=l;c=w.createElement(W8,{shapeType:a,elementProps:f})}return o?w.createElement(Gn,{className:i},c):c}var u6=(t,r)=>{var a=mn();return(s,i)=>o=>{t?.(s,i,o),a(Z9({activeIndex:String(i),activeDataKey:r,activeCoordinate:s.tooltipPosition}))}},f6=t=>{var r=mn();return(a,s)=>i=>{t?.(a,s,i),r(Kue())}},A6=(t,r)=>{var a=mn();return(s,i)=>o=>{t?.(s,i,o),a(Gue({activeIndex:String(i),activeDataKey:r,activeCoordinate:s.tooltipPosition}))}};function h6(t){var{fn:r,args:a}=t,s=mn(),i=yl();return w.useEffect(()=>{if(!i){var o=r(a);return s($ue(o)),()=>{s(zue(o))}}},[r,a,s,i]),null}var OQ=()=>{};function DQ(t){var{legendPayload:r}=t,a=mn(),s=yl();return w.useEffect(()=>s?OQ:(a(AR(r)),()=>{a(hR(r))}),[a,s,r]),null}function ome(t){var{legendPayload:r}=t,a=mn(),s=Lr(ts);return w.useEffect(()=>s!=="centric"&&s!=="radial"?OQ:(a(AR(r)),()=>{a(hR(r))}),[a,s,r]),null}function m6(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",a=w.useRef(Y0(r)),s=w.useRef(t);return s.current!==t&&(a.current=Y0(r),s.current=t),a.current}var lme=["onMouseEnter","onClick","onMouseLeave"];function cme(t,r){if(t==null)return{};var a,s,i=dme(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function dme(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function q8(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function Pn(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?q8(Object(a),!0).forEach(function(s){k4(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):q8(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function k4(t,r,a){return(r=ume(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function ume(t){var r=fme(t,"string");return typeof r=="symbol"?r:r+""}function fme(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function J0(){return J0=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},J0.apply(null,arguments)}function Ame(t){var r=w.useMemo(()=>Pa(t,!1),[t]),a=w.useMemo(()=>Xy(t.children,ix),[t.children]),s=w.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:r}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,r]),i=Lr(o=>The(o,s,a));return w.createElement(ome,{legendPayload:i})}function hme(t){var{dataKey:r,nameKey:a,sectors:s,stroke:i,strokeWidth:o,fill:l,name:c,hide:d,tooltipType:f}=t;return{dataDefinedOnItem:s?.map(u=>u.tooltipPayload),positions:s?.map(u=>u.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:l,dataKey:r,nameKey:a,name:Xg(c,r),hide:d,type:f,color:l,unit:""}}}var mme=(t,r)=>t>r?"start":t<r?"end":"middle",pme=(t,r,a)=>typeof r=="function"?r(t):pl(r,a,a*.8),gme=(t,r,a)=>{var{top:s,left:i,width:o,height:l}=r,c=sR(o,l),d=i+pl(t.cx,o,o/2),f=s+pl(t.cy,l,l/2),u=pl(t.innerRadius,c,0),m=pme(a,t.outerRadius,c),p=t.maxRadius||Math.sqrt(o*o+l*l)/2;return{cx:d,cy:f,innerRadius:u,outerRadius:m,maxRadius:p}},xme=(t,r)=>{var a=Ki(r-t),s=Math.min(Math.abs(r-t),360);return a*s},yme=(t,r)=>{if(w.isValidElement(t))return w.cloneElement(t,r);if(typeof t=="function")return t(r);var a=Mt("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return w.createElement(D1,J0({},r,{type:"linear",className:a}))},vme=(t,r,a)=>{if(w.isValidElement(t))return w.cloneElement(t,r);var s=a;if(typeof t=="function"&&(s=t(r),w.isValidElement(s)))return s;var i=Mt("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return w.createElement(I4,J0({},r,{alignmentBaseline:"middle",className:i}),s)};function bme(t){var{sectors:r,props:a,showLabels:s}=t,{label:i,labelLine:o,dataKey:l}=a;if(!s||!i||!r)return null;var c=Pa(a,!1),d=Pa(i,!1),f=Pa(o,!1),u=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,m=r.map((p,g)=>{var v=(p.startAngle+p.endAngle)/2,y=ii(p.cx,p.cy,p.outerRadius+u,v),b=Pn(Pn(Pn(Pn({},c),p),{},{stroke:"none"},d),{},{index:g,textAnchor:mme(y.x,p.cx)},y),j=Pn(Pn(Pn(Pn({},c),p),{},{fill:"none",stroke:p.fill},f),{},{index:g,points:[ii(p.cx,p.cy,p.outerRadius,v),y],key:"line"});return w.createElement(Gn,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(g)},o&&yme(o,j),vme(i,b,an(p,l)))});return w.createElement(Gn,{className:"recharts-pie-labels"},m)}function LQ(t){var{sectors:r,activeShape:a,inactiveShape:s,allOtherPieProps:i,showLabels:o}=t,l=Lr(gm),{onMouseEnter:c,onClick:d,onMouseLeave:f}=i,u=cme(i,lme),m=u6(c,i.dataKey),p=f6(f),g=A6(d,i.dataKey);return r==null?null:w.createElement(w.Fragment,null,r.map((v,y)=>{if(v?.startAngle===0&&v?.endAngle===0&&r.length!==1)return null;var b=a&&String(y)===l,j=l?s:null,N=b?a:j,S=Pn(Pn({},v),{},{stroke:v.stroke,tabIndex:-1,[lR]:y,[cR]:i.dataKey});return w.createElement(Gn,J0({tabIndex:-1,className:"recharts-pie-sector"},Yy(u,v,y),{onMouseEnter:m(v,y),onMouseLeave:p(v,y),onClick:g(v,y),key:"sector-".concat(v?.startAngle,"-").concat(v?.endAngle,"-").concat(v.midAngle,"-").concat(y)}),w.createElement(PQ,J0({option:N,isActive:b,shapeType:"sector"},S)))}),w.createElement(bme,{sectors:r,props:i,showLabels:o}))}function wme(t){var r,{pieSettings:a,displayedData:s,cells:i,offset:o}=t,{cornerRadius:l,startAngle:c,endAngle:d,dataKey:f,nameKey:u,tooltipType:m}=a,p=Math.abs(a.minAngle),g=xme(c,d),v=Math.abs(g),y=s.length<=1?0:(r=a.paddingAngle)!==null&&r!==void 0?r:0,b=s.filter(F=>an(F,f,0)!==0).length,j=(v>=360?b:b-1)*y,N=v-b*p-j,S=s.reduce((F,O)=>{var k=an(O,f,0);return F+(Br(k)?k:0)},0),B;if(S>0){var I;B=s.map((F,O)=>{var k=an(F,f,0),V=an(F,u,O),Q=gme(a,o,F),H=(Br(k)?k:0)/S,M,K=Pn(Pn({},F),i&&i[O]&&i[O].props);O?M=I.endAngle+Ki(g)*y*(k!==0?1:0):M=c;var q=M+Ki(g)*((k!==0?p:0)+H*N),re=(M+q)/2,ee=(Q.innerRadius+Q.outerRadius)/2,le=[{name:V,value:k,payload:K,dataKey:f,type:m}],Ae=ii(Q.cx,Q.cy,ee,re);return I=Pn(Pn(Pn(Pn({},a.presentationProps),{},{percent:H,cornerRadius:l,name:V,tooltipPayload:le,midAngle:re,middleRadius:ee,tooltipPosition:Ae},K),Q),{},{value:an(F,f),startAngle:M,endAngle:q,payload:K,paddingAngle:Ki(g)*y}),I})}return B}function jme(t){var{props:r,previousSectorsRef:a}=t,{sectors:s,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,activeShape:d,inactiveShape:f,onAnimationStart:u,onAnimationEnd:m}=r,p=m6(r,"recharts-pie-"),g=a.current,[v,y]=w.useState(!0),b=w.useCallback(()=>{typeof m=="function"&&m(),y(!1)},[m]),j=w.useCallback(()=>{typeof u=="function"&&u(),y(!0)},[u]);return w.createElement(mm,{begin:o,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},onAnimationStart:j,onAnimationEnd:b,key:p},N=>{var{t:S}=N,B=[],I=s&&s[0],F=I.startAngle;return s.forEach((O,k)=>{var V=g&&g[k],Q=k>0?hm(O,"paddingAngle",0):0;if(V){var H=Gh(V.endAngle-V.startAngle,O.endAngle-O.startAngle),M=Pn(Pn({},O),{},{startAngle:F+Q,endAngle:F+H(S)+Q});B.push(M),F=M.endAngle}else{var{endAngle:K,startAngle:q}=O,re=Gh(0,K-q),ee=re(S),le=Pn(Pn({},O),{},{startAngle:F+Q,endAngle:F+ee+Q});B.push(le),F=le.endAngle}}),a.current=B,w.createElement(Gn,null,w.createElement(LQ,{sectors:B,activeShape:d,inactiveShape:f,allOtherPieProps:r,showLabels:!v}))})}function Nme(t){var{sectors:r,isAnimationActive:a,activeShape:s,inactiveShape:i}=t,o=w.useRef(null),l=o.current;return a&&r&&r.length&&(!l||l!==r)?w.createElement(jme,{props:t,previousSectorsRef:o}):w.createElement(LQ,{sectors:r,activeShape:s,inactiveShape:i,allOtherPieProps:t,showLabels:!0})}function Sme(t){var{hide:r,className:a,rootTabIndex:s}=t,i=Mt("recharts-pie",a);return r?null:w.createElement(Gn,{tabIndex:s,className:i},w.createElement(Nme,t))}var MQ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!op.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Cme(t){var r=xd(t,MQ),a=w.useMemo(()=>Xy(t.children,ix),[t.children]),s=Pa(r,!1),i=w.useMemo(()=>({name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,data:r.data,dataKey:r.dataKey,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,minAngle:r.minAngle,paddingAngle:r.paddingAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,legendType:r.legendType,fill:r.fill,presentationProps:s}),[r.cornerRadius,r.cx,r.cy,r.data,r.dataKey,r.endAngle,r.innerRadius,r.minAngle,r.name,r.nameKey,r.outerRadius,r.paddingAngle,r.startAngle,r.tooltipType,r.legendType,r.fill,s]),o=Lr(l=>Ihe(l,i,a));return w.createElement(w.Fragment,null,w.createElement(h6,{fn:hme,args:Pn(Pn({},r),{},{sectors:o})}),w.createElement(Sme,J0({},r,{sectors:o})))}class _4 extends w.PureComponent{constructor(){super(...arguments),k4(this,"id",Y0("recharts-pie-"))}render(){return w.createElement(w.Fragment,null,w.createElement(Vhe,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),w.createElement(Ame,this.props),w.createElement(Cme,this.props),this.props.children)}}k4(_4,"displayName","Pie");k4(_4,"defaultProps",MQ);var Bme=Ut([Si],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Eme=Ut([Bme,XA,JA],(t,r,a)=>{if(!(!t||r==null||a==null))return{x:t.left,y:t.top,width:Math.max(0,r-t.left-t.right),height:Math.max(0,a-t.top-t.bottom)}}),Tme=t=>{var r=yl();return Lr(a=>Bf(a,"xAxis",t,r))},Fme=t=>{var r=yl();return Lr(a=>Bf(a,"yAxis",t,r))},p6=()=>Lr(Eme),Ime=()=>Lr(Ife);function Y8(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function X8(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?Y8(Object(a),!0).forEach(function(s){kme(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Y8(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function kme(t,r,a){return(r=_me(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function _me(t){var r=Pme(t,"string");return typeof r=="symbol"?r:r+""}function Pme(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Ome=t=>{var{point:r,childIndex:a,mainColor:s,activeDot:i,dataKey:o}=t;if(i===!1||r.x==null||r.y==null)return null;var l=X8(X8({index:a,dataKey:o,cx:r.x,cy:r.y,r:4,fill:s??"none",strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},Pa(i,!1)),kB(i)),c;return w.isValidElement(i)?c=w.cloneElement(i,l):typeof i=="function"?c=i(l):c=w.createElement(EQ,l),w.createElement(Gn,{className:"recharts-active-dot"},c)};function J8(t){var{points:r,mainColor:a,activeDot:s,itemDataKey:i}=t,o=Lr(gm),l=Ime();if(r==null||l==null)return null;var c=r.find(d=>l.includes(d.payload));return Gs(c)?null:Ome({point:c,childIndex:Number(o),mainColor:a,dataKey:i,activeDot:s})}var Dme=()=>{var t=mn();return w.useEffect(()=>(t(_he()),()=>{t(Phe())})),null},Lme=["children"];function Mme(t,r){if(t==null)return{};var a,s,i=Ume(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function Ume(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var Z8=()=>{},UQ=w.createContext({addErrorBar:Z8,removeErrorBar:Z8}),Rme={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},RQ=w.createContext(Rme);function Qme(t){var{children:r}=t,a=Mme(t,Lme);return w.createElement(RQ.Provider,{value:a},r)}var Hme=()=>w.useContext(RQ),QQ=t=>{var{children:r,xAxisId:a,yAxisId:s,zAxisId:i,dataKey:o,data:l,stackId:c,hide:d,type:f,barSize:u}=t,[m,p]=w.useState([]),g=w.useCallback(b=>{p(j=>[...j,b])},[p]),v=w.useCallback(b=>{p(j=>j.filter(N=>N!==b))},[p]),y=yl();return w.createElement(UQ.Provider,{value:{addErrorBar:g,removeErrorBar:v}},w.createElement(zhe,{type:f,data:l,xAxisId:a,yAxisId:s,zAxisId:i,dataKey:o,errorBars:m,stackId:c,hide:d,barSize:u,isPanorama:y}),r)};function $me(t){var{addErrorBar:r,removeErrorBar:a}=w.useContext(UQ);return w.useEffect(()=>(r(t),()=>{a(t)}),[r,a,t]),null}var zme=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function HQ(t,r,a){return(r=Vme(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Vme(t){var r=Kme(t,"string");return typeof r=="symbol"?r:r+""}function Kme(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function vy(){return vy=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},vy.apply(null,arguments)}function Gme(t,r){if(t==null)return{};var a,s,i=Wme(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function Wme(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function qme(t){var{direction:r,width:a,dataKey:s,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c}=t,d=Gme(t,zme),f=Pa(d,!1),{data:u,dataPointFormatter:m,xAxisId:p,yAxisId:g,errorBarOffset:v}=Hme(),y=Tme(p),b=Fme(g);if(y?.scale==null||b?.scale==null||u==null||r==="x"&&y.type!=="number")return null;var j=u.map(N=>{var{x:S,y:B,value:I,errorVal:F}=m(N,s,r);if(!F)return null;var O=[],k,V;if(Array.isArray(F)?[k,V]=F:k=V=F,r==="x"){var{scale:Q}=y,H=B+v,M=H+a,K=H-a,q=Q(I-k),re=Q(I+V);O.push({x1:re,y1:M,x2:re,y2:K}),O.push({x1:q,y1:H,x2:re,y2:H}),O.push({x1:q,y1:M,x2:q,y2:K})}else if(r==="y"){var{scale:ee}=b,le=S+v,Ae=le-a,ue=le+a,se=ee(I-k),ve=ee(I+V);O.push({x1:Ae,y1:ve,x2:ue,y2:ve}),O.push({x1:le,y1:se,x2:le,y2:ve}),O.push({x1:Ae,y1:se,x2:ue,y2:se})}var _="".concat(S+v,"px ").concat(B+v,"px");return w.createElement(Gn,vy({className:"recharts-errorBar",key:"bar-".concat(O.map(z=>"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)))},f),O.map(z=>{var ae=i?{transformOrigin:"".concat(z.x1-5,"px")}:void 0;return w.createElement(mm,{from:{transform:"scaleY(0)",transformOrigin:_},to:{transform:"scaleY(1)",transformOrigin:_},begin:o,easing:c,isActive:i,duration:l,key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2),style:{transformOrigin:_}},w.createElement("line",vy({},z,{style:ae})))}))});return w.createElement(Gn,{className:"recharts-errorBars"},j)}var $Q=w.createContext(void 0);function Yme(t){var r=w.useContext($Q);return t??r??"x"}function Xme(t){var{direction:r,children:a}=t;return w.createElement($Q.Provider,{value:r},a)}var zQ={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function Jme(t){var r=Yme(t.direction),{width:a,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:l}=xd(t,zQ);return w.createElement(w.Fragment,null,w.createElement($me,{dataKey:t.dataKey,direction:r}),w.createElement(qme,vy({},t,{direction:r,width:a,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:l})))}class VQ extends w.Component{render(){return w.createElement(Jme,this.props)}}HQ(VQ,"defaultProps",zQ);HQ(VQ,"displayName","ErrorBar");var Zme="Invariant failed";function e0e(t,r){throw new Error(Zme)}var t0e=["x","y"];function o3(){return o3=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},o3.apply(null,arguments)}function eO(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function p1(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?eO(Object(a),!0).forEach(function(s){r0e(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):eO(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function r0e(t,r,a){return(r=a0e(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function a0e(t){var r=s0e(t,"string");return typeof r=="symbol"?r:r+""}function s0e(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function n0e(t,r){if(t==null)return{};var a,s,i=i0e(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function i0e(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function o0e(t,r){var{x:a,y:s}=t,i=n0e(t,t0e),o="".concat(a),l=parseInt(o,10),c="".concat(s),d=parseInt(c,10),f="".concat(r.height||i.height),u=parseInt(f,10),m="".concat(r.width||i.width),p=parseInt(m,10);return p1(p1(p1(p1(p1({},r),i),l?{x:l}:{}),d?{y:d}:{}),{},{height:u,width:p,name:r.name,radius:r.radius})}function KQ(t){return w.createElement(PQ,o3({shapeType:"rectangle",propTransformer:o0e,activeClassName:"recharts-active-bar"},t))}var l0e=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(s,i)=>{if(Br(r))return r;var o=Br(s)||Gs(s);return o?r(s,i):(o||e0e(),a)}};function g6(t,r){var a,s,i=Lr(f=>eh(f,t)),o=Lr(f=>Em(f,r)),l=(a=i?.allowDataOverflow)!==null&&a!==void 0?a:hc.allowDataOverflow,c=(s=o?.allowDataOverflow)!==null&&s!==void 0?s:mc.allowDataOverflow,d=l||c;return{needClip:d,needClipX:l,needClipY:c}}function GQ(t){var{xAxisId:r,yAxisId:a,clipPathId:s}=t,i=p6(),{needClipX:o,needClipY:l,needClip:c}=g6(r,a);if(!c)return null;var{x:d,y:f,width:u,height:m}=i;return w.createElement("clipPath",{id:"clipPath-".concat(s)},w.createElement("rect",{x:o?d:d-u/2,y:l?f:f-m/2,width:o?u:u*2,height:l?m:m*2}))}var c0e=["onMouseEnter","onMouseLeave","onClick"],d0e=["value","background","tooltipPosition"],u0e=["onMouseEnter","onClick","onMouseLeave"];function by(){return by=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},by.apply(null,arguments)}function tO(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function Uo(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?tO(Object(a),!0).forEach(function(s){P4(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):tO(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function P4(t,r,a){return(r=f0e(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function f0e(t){var r=A0e(t,"string");return typeof r=="symbol"?r:r+""}function A0e(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function l3(t,r){if(t==null)return{};var a,s,i=h0e(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function h0e(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var m0e=t=>{var{dataKey:r,name:a,fill:s,legendType:i,hide:o}=t;return[{inactive:o,dataKey:r,type:i,color:s,value:Xg(a,r),payload:t}]};function p0e(t){var{dataKey:r,stroke:a,strokeWidth:s,fill:i,name:o,hide:l,unit:c}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:i,dataKey:r,nameKey:void 0,name:Xg(o,r),hide:l,type:t.tooltipType,color:t.fill,unit:c}}}function g0e(t){var r=Lr(gm),{data:a,dataKey:s,background:i,allOtherBarProps:o}=t,{onMouseEnter:l,onMouseLeave:c,onClick:d}=o,f=l3(o,c0e),u=u6(l,s),m=f6(c),p=A6(d,s);if(!i||a==null)return null;var g=Pa(i,!1);return w.createElement(w.Fragment,null,a.map((v,y)=>{var{value:b,background:j,tooltipPosition:N}=v,S=l3(v,d0e);if(!j)return null;var B=u(v,y),I=m(v,y),F=p(v,y),O=Uo(Uo(Uo(Uo(Uo({option:i,isActive:String(y)===r},S),{},{fill:"#eee"},j),g),Yy(f,v,y)),{},{onMouseEnter:B,onMouseLeave:I,onClick:F,dataKey:s,index:y,className:"recharts-bar-background-rectangle"});return w.createElement(KQ,by({key:"background-bar-".concat(y)},O))}))}function WQ(t){var{data:r,props:a,showLabels:s}=t,i=Pa(a,!1),{shape:o,dataKey:l,activeBar:c}=a,d=Lr(gm),f=Lr(fQ),{onMouseEnter:u,onClick:m,onMouseLeave:p}=a,g=l3(a,u0e),v=u6(u,l),y=f6(p),b=A6(m,l);return r?w.createElement(w.Fragment,null,r.map((j,N)=>{var S=c&&String(N)===d&&(f==null||l===f),B=S?c:o,I=Uo(Uo(Uo({},i),j),{},{isActive:S,option:B,index:N,dataKey:l});return w.createElement(Gn,by({className:"recharts-bar-rectangle"},Yy(g,j,N),{onMouseEnter:v(j,N),onMouseLeave:y(j,N),onClick:b(j,N),key:"rectangle-".concat(j?.x,"-").concat(j?.y,"-").concat(j?.value,"-").concat(N)}),w.createElement(KQ,I))}),s&&om.renderCallByParent(a,r)):null}function x0e(t){var{props:r,previousRectanglesRef:a}=t,{data:s,layout:i,isAnimationActive:o,animationBegin:l,animationDuration:c,animationEasing:d,onAnimationEnd:f,onAnimationStart:u}=r,m=a.current,p=m6(r,"recharts-bar-"),[g,v]=w.useState(!1),y=w.useCallback(()=>{typeof f=="function"&&f(),v(!1)},[f]),b=w.useCallback(()=>{typeof u=="function"&&u(),v(!0)},[u]);return w.createElement(mm,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},onAnimationEnd:y,onAnimationStart:b,key:p},j=>{var{t:N}=j,S=N===1?s:s.map((B,I)=>{var F=m&&m[I];if(F){var O=Gh(F.x,B.x),k=Gh(F.y,B.y),V=Gh(F.width,B.width),Q=Gh(F.height,B.height);return Uo(Uo({},B),{},{x:O(N),y:k(N),width:V(N),height:Q(N)})}if(i==="horizontal"){var H=Gh(0,B.height),M=H(N);return Uo(Uo({},B),{},{y:B.y+B.height-M,height:M})}var K=Gh(0,B.width),q=K(N);return Uo(Uo({},B),{},{width:q})});return N>0&&(a.current=S),w.createElement(Gn,null,w.createElement(WQ,{props:r,data:S,showLabels:!g}))})}function y0e(t){var{data:r,isAnimationActive:a}=t,s=w.useRef(null);return a&&r&&r.length&&(s.current==null||s.current!==r)?w.createElement(x0e,{previousRectanglesRef:s,props:t}):w.createElement(WQ,{props:t,data:r,showLabels:!0})}var qQ=0,v0e=(t,r)=>{var a=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:a,errorVal:an(t,r)}};class b0e extends w.PureComponent{constructor(){super(...arguments),P4(this,"id",Y0("recharts-bar-"))}render(){var{hide:r,data:a,dataKey:s,className:i,xAxisId:o,yAxisId:l,needClip:c,background:d,id:f,layout:u}=this.props;if(r)return null;var m=Mt("recharts-bar",i),p=Gs(f)?this.id:f;return w.createElement(Gn,{className:m},c&&w.createElement("defs",null,w.createElement(GQ,{clipPathId:p,xAxisId:o,yAxisId:l})),w.createElement(Gn,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(p,")"):null},w.createElement(g0e,{data:a,dataKey:s,background:d,allOtherBarProps:this.props}),w.createElement(y0e,this.props)),w.createElement(Xme,{direction:u==="horizontal"?"y":"x"},this.props.children))}}var YQ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!op.isSsr,legendType:"rect",minPointSize:qQ,xAxisId:0,yAxisId:0};function w0e(t){var{xAxisId:r,yAxisId:a,hide:s,legendType:i,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:u}=xd(t,YQ),{needClip:m}=g6(r,a),p=h4(),g=yl(),v=w.useMemo(()=>({barSize:t.barSize,data:void 0,dataKey:t.dataKey,maxBarSize:t.maxBarSize,minPointSize:o,stackId:KB(t.stackId)}),[t.barSize,t.dataKey,t.maxBarSize,o,t.stackId]),y=Xy(t.children,ix),b=Lr(S=>Y0e(S,r,a,g,v,y));if(p!=="vertical"&&p!=="horizontal")return null;var j,N=b?.[0];return N==null||N.height==null||N.width==null?j=0:j=p==="vertical"?N.height/2:N.width/2,w.createElement(Qme,{xAxisId:r,yAxisId:a,data:b,dataPointFormatter:v0e,errorBarOffset:j},w.createElement(b0e,by({},t,{layout:p,needClip:m,data:b,xAxisId:r,yAxisId:a,hide:s,legendType:i,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:u})))}function j0e(t){var{layout:r,barSettings:{dataKey:a,minPointSize:s},pos:i,bandSize:o,xAxis:l,yAxis:c,xAxisTicks:d,yAxisTicks:f,stackedData:u,displayedData:m,offset:p,cells:g}=t,v=r==="horizontal"?c:l,y=u?v.scale.domain():null,b=sie({numericAxis:v});return m.map((j,N)=>{var S,B,I,F,O,k;u?S=Zne(u[N],y):(S=an(j,a),Array.isArray(S)||(S=[b,S]));var V=l0e(s,qQ)(S[1],N);if(r==="horizontal"){var Q,[H,M]=[c.scale(S[0]),c.scale(S[1])];B=M_({axis:l,ticks:d,bandSize:o,offset:i.offset,entry:j,index:N}),I=(Q=M??H)!==null&&Q!==void 0?Q:void 0,F=i.size;var K=H-M;if(O=Hl(K)?0:K,k={x:B,y:p.top,width:F,height:p.height},Math.abs(V)>0&&Math.abs(O)<Math.abs(V)){var q=Ki(O||V)*(Math.abs(V)-Math.abs(O));I-=q,O+=q}}else{var[re,ee]=[l.scale(S[0]),l.scale(S[1])];if(B=re,I=M_({axis:c,ticks:f,bandSize:o,offset:i.offset,entry:j,index:N}),F=ee-re,O=i.size,k={x:p.left,y:I,width:p.width,height:O},Math.abs(V)>0&&Math.abs(F)<Math.abs(V)){var le=Ki(F||V)*(Math.abs(V)-Math.abs(F));F+=le}}var Ae=Uo(Uo({},j),{},{x:B,y:I,width:F,height:O,value:u?S:S[1],payload:j,background:k,tooltipPosition:{x:B+F/2,y:I+O/2}},g&&g[N]&&g[N].props);return Ae})}class tw extends w.PureComponent{render(){return w.createElement(QQ,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},w.createElement(Dme,null),w.createElement(DQ,{legendPayload:m0e(this.props)}),w.createElement(h6,{fn:p0e,args:this.props}),w.createElement(w0e,this.props))}}P4(tw,"displayName","Bar");P4(tw,"defaultProps",YQ);function rO(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function Bb(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?rO(Object(a),!0).forEach(function(s){N0e(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):rO(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function N0e(t,r,a){return(r=S0e(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function S0e(t){var r=C0e(t,"string");return typeof r=="symbol"?r:r+""}function C0e(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var B0e=(t,r)=>r,E0e=(t,r,a)=>a,T0e=(t,r,a,s)=>s,x6=(t,r,a,s,i)=>i,F0e=(t,r,a,s,i)=>i.maxBarSize,I0e=(t,r,a,s,i,o)=>o,aO=(t,r,a)=>{var s=a??t;if(!Gs(s))return pl(s,r,0)},k0e=Ut([ts,N4,B0e,E0e,T0e],(t,r,a,s,i)=>r.filter(o=>t==="horizontal"?o.xAxisId===a:o.yAxisId===s).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),_0e=(t,r,a,s)=>{var i=ts(t);return i==="horizontal"?xy(t,"yAxis",a,s):xy(t,"xAxis",r,s)},P0e=(t,r,a)=>{var s=ts(t);return s==="horizontal"?a8(t,"xAxis",r):a8(t,"yAxis",a)};function O0e(t){return t.stackId!=null&&t.dataKey!=null}var D0e=(t,r,a)=>{var s={},i=t.filter(O0e),o=t.filter(f=>f.stackId==null),l=i.reduce((f,u)=>(f[u.stackId]||(f[u.stackId]=[]),f[u.stackId].push(u),f),s),c=Object.entries(l).map(f=>{var[u,m]=f,p=m.map(v=>v.dataKey),g=aO(r,a,m[0].barSize);return{stackId:u,dataKeys:p,barSize:g}}),d=o.map(f=>{var u=[f.dataKey].filter(p=>p!=null),m=aO(r,a,f.barSize);return{stackId:void 0,dataKeys:u,barSize:m}});return[...c,...d]},L0e=Ut([k0e,Hde,P0e],D0e),M0e=(t,r,a,s,i)=>{var o,l,c=ts(t),d=x9(t),{maxBarSize:f}=i,u=Gs(f)?d:f,m,p;return c==="horizontal"?(m=Bf(t,"xAxis",r,s),p=pm(t,"xAxis",r,s)):(m=Bf(t,"yAxis",a,s),p=pm(t,"yAxis",a,s)),(o=(l=uy(m,p,!0))!==null&&l!==void 0?l:u)!==null&&o!==void 0?o:0},XQ=(t,r,a,s)=>{var i=ts(t),o,l;return i==="horizontal"?(o=Bf(t,"xAxis",r,s),l=pm(t,"xAxis",r,s)):(o=Bf(t,"yAxis",a,s),l=pm(t,"yAxis",a,s)),uy(o,l)};function U0e(t,r,a,s,i){var o=s.length;if(!(o<1)){var l=pl(t,a,0,!0),c,d=[];if(po(s[0].barSize)){var f=!1,u=a/o,m=s.reduce((j,N)=>j+(N.barSize||0),0);m+=(o-1)*l,m>=a&&(m-=(o-1)*l,l=0),m>=a&&u>0&&(f=!0,u*=.9,m=o*u);var p=(a-m)/2>>0,g={offset:p-l,size:0};c=s.reduce((j,N)=>{var S,B={stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:g.offset+g.size+l,size:f?u:(S=N.barSize)!==null&&S!==void 0?S:0}},I=[...j,B];return g=I[I.length-1].position,I},d)}else{var v=pl(r,a,0,!0);a-2*v-(o-1)*l<=0&&(l=0);var y=(a-2*v-(o-1)*l)/o;y>1&&(y>>=0);var b=po(i)?Math.min(y,i):y;c=s.reduce((j,N,S)=>[...j,{stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:v+(y+l)*S+(y-b)/2,size:b}}],d)}return c}}var R0e=(t,r,a,s,i,o,l)=>{var c=Gs(l)?r:l,d=U0e(a,s,i!==o?i:o,t,c);return i!==o&&d!=null&&(d=d.map(f=>Bb(Bb({},f),{},{position:Bb(Bb({},f.position),{},{offset:f.position.offset-i/2})}))),d},Q0e=Ut([L0e,x9,Qde,y9,M0e,XQ,F0e],R0e),H0e=(t,r,a,s)=>Bf(t,"xAxis",r,s),$0e=(t,r,a,s)=>Bf(t,"yAxis",a,s),z0e=(t,r,a,s)=>pm(t,"xAxis",r,s),V0e=(t,r,a,s)=>pm(t,"yAxis",a,s),K0e=Ut([Q0e,x6],(t,r)=>{if(t!=null){var a=t.find(s=>s.stackId===r.stackId&&s.dataKeys.includes(r.dataKey));if(a!=null)return a.position}}),G0e=(t,r)=>{if(!(!t||r?.dataKey==null)){var{stackId:a}=r;if(a!=null){var s=t[a];if(s){var{stackedData:i}=s;if(i){var o=i.find(l=>l.key===r.dataKey);return o}}}}},W0e=Ut([N4,x6],(t,r)=>{if(t.some(a=>a.type==="bar"&&r.dataKey===a.dataKey&&r.stackId===a.stackId&&r.stackId===a.stackId))return r}),q0e=Ut([_0e,x6],G0e),Y0e=Ut([Si,H0e,$0e,z0e,V0e,K0e,ts,NE,XQ,q0e,W0e,I0e],(t,r,a,s,i,o,l,c,d,f,u,m)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:v}=c;if(!(u==null||o==null||l!=="horizontal"&&l!=="vertical"||r==null||a==null||s==null||i==null||d==null)){var{data:y}=u,b;if(y!=null&&y.length>0?b=y:b=p?.slice(g,v+1),b!=null)return j0e({layout:l,barSettings:u,pos:o,bandSize:d,xAxis:r,yAxis:a,xAxisTicks:s,yAxisTicks:i,stackedData:f,displayedData:b,offset:t,cells:m})}}),JQ=t=>{var{chartData:r}=t,a=mn(),s=yl();return w.useEffect(()=>s?()=>{}:(a(A8(r)),()=>{a(A8(void 0))}),[r,a,s]),null},sO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},ZQ=xl({name:"brush",initialState:sO,reducers:{setBrushSettings(t,r){return r.payload==null?sO:r.payload}}}),{setBrushSettings:bke}=ZQ.actions,X0e=ZQ.reducer;function J0e(t,r,a){return(r=Z0e(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Z0e(t){var r=epe(t,"string");return typeof r=="symbol"?r:r+""}function epe(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}class y6{static create(r){return new y6(r)}constructor(r){this.scale=r}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(r){var{bandAware:a,position:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}isInRange(r){var a=this.range(),s=a[0],i=a[a.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}J0e(y6,"EPS",1e-4);function tpe(t){return(t%180+180)%180}var rpe=function(r){var{width:a,height:s}=r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=tpe(i),l=o*Math.PI/180,c=Math.atan(s/a),d=l>c&&l<Math.PI-c?s/Math.sin(l):a/Math.cos(l);return Math.abs(d)},ape={dots:[],areas:[],lines:[]},eH=xl({name:"referenceElements",initialState:ape,reducers:{addDot:(t,r)=>{t.dots.push(r.payload)},removeDot:(t,r)=>{var a=kA(t).dots.findIndex(s=>s===r.payload);a!==-1&&t.dots.splice(a,1)},addArea:(t,r)=>{t.areas.push(r.payload)},removeArea:(t,r)=>{var a=kA(t).areas.findIndex(s=>s===r.payload);a!==-1&&t.areas.splice(a,1)},addLine:(t,r)=>{t.lines.push(r.payload)},removeLine:(t,r)=>{var a=kA(t).lines.findIndex(s=>s===r.payload);a!==-1&&t.lines.splice(a,1)}}}),{addDot:wke,removeDot:jke,addArea:Nke,removeArea:Ske,addLine:Cke,removeLine:Bke}=eH.actions,spe=eH.reducer,npe=w.createContext(void 0),ipe=t=>{var{children:r}=t,[a]=w.useState("".concat(Y0("recharts"),"-clip")),s=p6();if(s==null)return null;var{x:i,y:o,width:l,height:c}=s;return w.createElement(npe.Provider,{value:a},w.createElement("defs",null,w.createElement("clipPath",{id:a},w.createElement("rect",{x:i,y:o,height:c,width:l}))),r)};function r5(t,r){for(var a in t)if({}.hasOwnProperty.call(t,a)&&(!{}.hasOwnProperty.call(r,a)||t[a]!==r[a]))return!1;for(var s in r)if({}.hasOwnProperty.call(r,s)&&!{}.hasOwnProperty.call(t,s))return!1;return!0}function tH(t,r,a){if(r<1)return[];if(r===1&&a===void 0)return t;for(var s=[],i=0;i<t.length;i+=r)s.push(t[i]);return s}function ope(t,r,a){var s={width:t.width+r.width,height:t.height+r.height};return rpe(s,a)}function lpe(t,r,a){var s=a==="width",{x:i,y:o,width:l,height:c}=t;return r===1?{start:s?i:o,end:s?i+l:o+c}:{start:s?i+l:o+c,end:s?i:o}}function rw(t,r,a,s,i){if(t*r<t*s||t*r>t*i)return!1;var o=a();return t*(r-t*o/2-s)>=0&&t*(r+t*o/2-i)<=0}function cpe(t,r){return tH(t,r+1)}function dpe(t,r,a,s,i){for(var o=(s||[]).slice(),{start:l,end:c}=r,d=0,f=1,u=l,m=function(){var v=s?.[d];if(v===void 0)return{v:tH(s,f)};var y=d,b,j=()=>(b===void 0&&(b=a(v,y)),b),N=v.coordinate,S=d===0||rw(t,N,j,u,c);S||(d=0,u=l,f+=1),S&&(u=N+t*(j()/2+i),d+=f)},p;f<=o.length;)if(p=m(),p)return p.v;return[]}function nO(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function Mo(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?nO(Object(a),!0).forEach(function(s){upe(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):nO(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function upe(t,r,a){return(r=fpe(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function fpe(t){var r=Ape(t,"string");return typeof r=="symbol"?r:r+""}function Ape(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function hpe(t,r,a,s,i){for(var o=(s||[]).slice(),l=o.length,{start:c}=r,{end:d}=r,f=function(p){var g=o[p],v,y=()=>(v===void 0&&(v=a(g,p)),v);if(p===l-1){var b=t*(g.coordinate+t*y()/2-d);o[p]=g=Mo(Mo({},g),{},{tickCoord:b>0?g.coordinate-b*t:g.coordinate})}else o[p]=g=Mo(Mo({},g),{},{tickCoord:g.coordinate});var j=rw(t,g.tickCoord,y,c,d);j&&(d=g.tickCoord-t*(y()/2+i),o[p]=Mo(Mo({},g),{},{isShow:!0}))},u=l-1;u>=0;u--)f(u);return o}function mpe(t,r,a,s,i,o){var l=(s||[]).slice(),c=l.length,{start:d,end:f}=r;if(o){var u=s[c-1],m=a(u,c-1),p=t*(u.coordinate+t*m/2-f);l[c-1]=u=Mo(Mo({},u),{},{tickCoord:p>0?u.coordinate-p*t:u.coordinate});var g=rw(t,u.tickCoord,()=>m,d,f);g&&(f=u.tickCoord-t*(m/2+i),l[c-1]=Mo(Mo({},u),{},{isShow:!0}))}for(var v=o?c-1:c,y=function(N){var S=l[N],B,I=()=>(B===void 0&&(B=a(S,N)),B);if(N===0){var F=t*(S.coordinate-t*I()/2-d);l[N]=S=Mo(Mo({},S),{},{tickCoord:F<0?S.coordinate-F*t:S.coordinate})}else l[N]=S=Mo(Mo({},S),{},{tickCoord:S.coordinate});var O=rw(t,S.tickCoord,I,d,f);O&&(d=S.tickCoord+t*(I()/2+i),l[N]=Mo(Mo({},S),{},{isShow:!0}))},b=0;b<v;b++)y(b);return l}function v6(t,r,a){var{tick:s,ticks:i,viewBox:o,minTickGap:l,orientation:c,interval:d,tickFormatter:f,unit:u,angle:m}=t;if(!i||!i.length||!s)return[];if(Br(d)||op.isSsr){var p;return(p=cpe(i,Br(d)?d:0))!==null&&p!==void 0?p:[]}var g=[],v=c==="top"||c==="bottom"?"width":"height",y=u&&v==="width"?R1(u,{fontSize:r,letterSpacing:a}):{width:0,height:0},b=(S,B)=>{var I=typeof f=="function"?f(S.value,B):S.value;return v==="width"?ope(R1(I,{fontSize:r,letterSpacing:a}),y,m):R1(I,{fontSize:r,letterSpacing:a})[v]},j=i.length>=2?Ki(i[1].coordinate-i[0].coordinate):1,N=lpe(o,j,v);return d==="equidistantPreserveStart"?dpe(j,N,b,i,l):(d==="preserveStart"||d==="preserveStartEnd"?g=mpe(j,N,b,i,l,d==="preserveStartEnd"):g=hpe(j,N,b,i,l),g.filter(S=>S.isShow))}var ppe=["viewBox"],gpe=["viewBox"];function Ag(){return Ag=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},Ag.apply(null,arguments)}function iO(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function vi(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?iO(Object(a),!0).forEach(function(s){b6(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):iO(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function oO(t,r){if(t==null)return{};var a,s,i=xpe(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function xpe(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function b6(t,r,a){return(r=ype(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function ype(t){var r=vpe(t,"string");return typeof r=="symbol"?r:r+""}function vpe(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}class Tm extends w.Component{constructor(r){super(r),this.tickRefs=w.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(r,a){var{viewBox:s}=r,i=oO(r,ppe),o=this.props,{viewBox:l}=o,c=oO(o,gpe);return!r5(s,l)||!r5(i,c)||!r5(a,this.state)}getTickLineCoord(r){var{x:a,y:s,width:i,height:o,orientation:l,tickSize:c,mirror:d,tickMargin:f}=this.props,u,m,p,g,v,y,b=d?-1:1,j=r.tickSize||c,N=Br(r.tickCoord)?r.tickCoord:r.coordinate;switch(l){case"top":u=m=r.coordinate,g=s+ +!d*o,p=g-b*j,y=p-b*f,v=N;break;case"left":p=g=r.coordinate,m=a+ +!d*i,u=m-b*j,v=u-b*f,y=N;break;case"right":p=g=r.coordinate,m=a+ +d*i,u=m+b*j,v=u+b*f,y=N;break;default:u=m=r.coordinate,g=s+ +d*o,p=g+b*j,y=p+b*f,v=N;break}return{line:{x1:u,y1:p,x2:m,y2:g},tick:{x:v,y}}}getTickTextAnchor(){var{orientation:r,mirror:a}=this.props,s;switch(r){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}getTickVerticalAnchor(){var{orientation:r,mirror:a}=this.props;switch(r){case"left":case"right":return"middle";case"top":return a?"start":"end";default:return a?"end":"start"}}renderAxisLine(){var{x:r,y:a,width:s,height:i,orientation:o,mirror:l,axisLine:c}=this.props,d=vi(vi(vi({},Pa(this.props,!1)),Pa(c,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var f=+(o==="top"&&!l||o==="bottom"&&l);d=vi(vi({},d),{},{x1:r,y1:a+f*i,x2:r+s,y2:a+f*i})}else{var u=+(o==="left"&&!l||o==="right"&&l);d=vi(vi({},d),{},{x1:r+u*s,y1:a,x2:r+u*s,y2:a+i})}return w.createElement("line",Ag({},d,{className:Mt("recharts-cartesian-axis-line",hm(c,"className"))}))}static renderTickItem(r,a,s){var i,o=Mt(a.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(r))i=w.cloneElement(r,vi(vi({},a),{},{className:o}));else if(typeof r=="function")i=r(vi(vi({},a),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof r!="boolean"&&(l=Mt(l,r.className)),i=w.createElement(I4,Ag({},a,{className:l}),s)}return i}renderTicks(r,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:o,tick:l,tickFormatter:c,unit:d}=this.props,f=v6(vi(vi({},this.props),{},{ticks:s}),r,a),u=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),p=Pa(this.props,!1),g=Pa(l,!1),v=vi(vi({},p),{},{fill:"none"},Pa(i,!1)),y=f.map((b,j)=>{var{line:N,tick:S}=this.getTickLineCoord(b),B=vi(vi(vi(vi({textAnchor:u,verticalAnchor:m},p),{},{stroke:"none",fill:o},g),S),{},{index:j,payload:b,visibleTicksCount:f.length,tickFormatter:c});return w.createElement(Gn,Ag({className:"recharts-cartesian-axis-tick",key:"tick-".concat(b.value,"-").concat(b.coordinate,"-").concat(b.tickCoord)},Yy(this.props,b,j)),i&&w.createElement("line",Ag({},v,N,{className:Mt("recharts-cartesian-axis-tick-line",hm(i,"className"))})),l&&Tm.renderTickItem(l,B,"".concat(typeof c=="function"?c(b.value,j):b.value).concat(d||"")))});return y.length>0?w.createElement("g",{className:"recharts-cartesian-axis-ticks"},y):null}render(){var{axisLine:r,width:a,height:s,className:i,hide:o}=this.props;if(o)return null;var{ticks:l}=this.props;return a!=null&&a<=0||s!=null&&s<=0?null:w.createElement(Gn,{className:Mt("recharts-cartesian-axis",i),ref:c=>{if(c){var d=c.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(d);var f=d[0];if(f){var u=window.getComputedStyle(f).fontSize,m=window.getComputedStyle(f).letterSpacing;(u!==this.state.fontSize||m!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(f).fontSize,letterSpacing:window.getComputedStyle(f).letterSpacing})}}}},r&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,l),vc.renderCallByParent(this.props))}}b6(Tm,"displayName","CartesianAxis");b6(Tm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var bpe=["x1","y1","x2","y2","key"],wpe=["offset"],jpe=["xAxisId","yAxisId"],Npe=["xAxisId","yAxisId"];function lO(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function Ro(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?lO(Object(a),!0).forEach(function(s){Spe(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):lO(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Spe(t,r,a){return(r=Cpe(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Cpe(t){var r=Bpe(t,"string");return typeof r=="symbol"?r:r+""}function Bpe(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},C0.apply(null,arguments)}function aw(t,r){if(t==null)return{};var a,s,i=Epe(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function Epe(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var Tpe=t=>{var{fill:r}=t;if(!r||r==="none")return null;var{fillOpacity:a,x:s,y:i,width:o,height:l,ry:c}=t;return w.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function rH(t,r){var a;if(w.isValidElement(t))a=w.cloneElement(t,r);else if(typeof t=="function")a=t(r);else{var{x1:s,y1:i,x2:o,y2:l,key:c}=r,d=aw(r,bpe),f=Pa(d,!1),{offset:u}=f,m=aw(f,wpe);a=w.createElement("line",C0({},m,{x1:s,y1:i,x2:o,y2:l,fill:"none",key:c}))}return a}function Fpe(t){var{x:r,width:a,horizontal:s=!0,horizontalPoints:i}=t;if(!s||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=t,c=aw(t,jpe),d=i.map((f,u)=>{var m=Ro(Ro({},c),{},{x1:r,y1:f,x2:r+a,y2:f,key:"line-".concat(u),index:u});return rH(s,m)});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function Ipe(t){var{y:r,height:a,vertical:s=!0,verticalPoints:i}=t;if(!s||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=t,c=aw(t,Npe),d=i.map((f,u)=>{var m=Ro(Ro({},c),{},{x1:f,y1:r,x2:f,y2:r+a,key:"line-".concat(u),index:u});return rH(s,m)});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function kpe(t){var{horizontalFill:r,fillOpacity:a,x:s,y:i,width:o,height:l,horizontalPoints:c,horizontal:d=!0}=t;if(!d||!r||!r.length)return null;var f=c.map(m=>Math.round(m+i-i)).sort((m,p)=>m-p);i!==f[0]&&f.unshift(0);var u=f.map((m,p)=>{var g=!f[p+1],v=g?i+l-m:f[p+1]-m;if(v<=0)return null;var y=p%r.length;return w.createElement("rect",{key:"react-".concat(p),y:m,x:s,height:v,width:o,stroke:"none",fill:r[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function _pe(t){var{vertical:r=!0,verticalFill:a,fillOpacity:s,x:i,y:o,width:l,height:c,verticalPoints:d}=t;if(!r||!a||!a.length)return null;var f=d.map(m=>Math.round(m+i-i)).sort((m,p)=>m-p);i!==f[0]&&f.unshift(0);var u=f.map((m,p)=>{var g=!f[p+1],v=g?i+l-m:f[p+1]-m;if(v<=0)return null;var y=p%a.length;return w.createElement("rect",{key:"react-".concat(p),x:m,y:o,width:v,height:c,stroke:"none",fill:a[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var Ppe=(t,r)=>{var{xAxis:a,width:s,height:i,offset:o}=t;return nR(v6(Ro(Ro(Ro({},Tm.defaultProps),a),{},{ticks:iR(a),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},Ope=(t,r)=>{var{yAxis:a,width:s,height:i,offset:o}=t;return nR(v6(Ro(Ro(Ro({},Tm.defaultProps),a),{},{ticks:iR(a),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},Dpe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function sw(t){var r=YB(),a=XB(),s=uR(),i=Ro(Ro({},xd(t,Dpe)),{},{x:Br(t.x)?t.x:s.left,y:Br(t.y)?t.y:s.top,width:Br(t.width)?t.width:s.width,height:Br(t.height)?t.height:s.height}),{xAxisId:o,yAxisId:l,x:c,y:d,width:f,height:u,syncWithTicks:m,horizontalValues:p,verticalValues:g}=i,v=yl(),y=Lr(V=>s8(V,"xAxis",o,v)),b=Lr(V=>s8(V,"yAxis",l,v));if(!Br(f)||f<=0||!Br(u)||u<=0||!Br(c)||c!==+c||!Br(d)||d!==+d)return null;var j=i.verticalCoordinatesGenerator||Ppe,N=i.horizontalCoordinatesGenerator||Ope,{horizontalPoints:S,verticalPoints:B}=i;if((!S||!S.length)&&typeof N=="function"){var I=p&&p.length,F=N({yAxis:b?Ro(Ro({},b),{},{ticks:I?p:b.ticks}):void 0,width:r,height:a,offset:s},I?!0:m);M1(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(S=F)}if((!B||!B.length)&&typeof j=="function"){var O=g&&g.length,k=j({xAxis:y?Ro(Ro({},y),{},{ticks:O?g:y.ticks}):void 0,width:r,height:a,offset:s},O?!0:m);M1(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(B=k)}return w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(Tpe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(kpe,C0({},i,{horizontalPoints:S})),w.createElement(_pe,C0({},i,{verticalPoints:B})),w.createElement(Fpe,C0({},i,{offset:s,horizontalPoints:S,xAxis:y,yAxis:b})),w.createElement(Ipe,C0({},i,{offset:s,verticalPoints:B,xAxis:y,yAxis:b})))}sw.displayName="CartesianGrid";var aH=(t,r,a,s)=>Bf(t,"xAxis",r,s),sH=(t,r,a,s)=>pm(t,"xAxis",r,s),nH=(t,r,a,s)=>Bf(t,"yAxis",a,s),iH=(t,r,a,s)=>pm(t,"yAxis",a,s),Lpe=Ut([ts,aH,nH,sH,iH],(t,r,a,s,i)=>YA(t,"xAxis")?uy(r,s,!1):uy(a,i,!1)),Mpe=(t,r,a,s,i)=>{var o,l=ts(t),c=YA(l,"xAxis"),d;if(c?d=xy(t,"yAxis",a,s):d=xy(t,"xAxis",r,s),d!=null){var{dataKey:f,stackId:u}=i;if(u!=null){var m=(o=d[u])===null||o===void 0?void 0:o.stackedData;return m?.find(p=>p.key===f)}}},Upe=(t,r,a,s,i)=>i,Rpe=Ut([N4,Upe],(t,r)=>{if(t.some(a=>a.type==="area"&&r.dataKey===a.dataKey&&KB(r.stackId)===a.stackId&&r.data===a.data))return r}),Qpe=Ut([ts,aH,nH,sH,iH,Mpe,NE,Lpe,Rpe],(t,r,a,s,i,o,l,c,d)=>{var{chartData:f,dataStartIndex:u,dataEndIndex:m}=l;if(!(d==null||t!=="horizontal"&&t!=="vertical"||r==null||a==null||s==null||i==null||s.length===0||i.length===0||c==null)){var{data:p}=d,g;if(p&&p.length>0?g=p:g=f?.slice(u,m+1),g!=null){var v=void 0;return ige({layout:t,xAxis:r,yAxis:a,xAxisTicks:s,yAxisTicks:i,dataStartIndex:u,areaSettings:d,stackedData:o,displayedData:g,chartBaseValue:v,bandSize:c})}}}),Hpe=["layout","type","stroke","connectNulls","isRange"],$pe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function oH(t,r){if(t==null)return{};var a,s,i=zpe(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function zpe(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function cO(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function B0(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?cO(Object(a),!0).forEach(function(s){O4(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):cO(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function O4(t,r,a){return(r=Vpe(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Vpe(t){var r=Kpe(t,"string");return typeof r=="symbol"?r:r+""}function Kpe(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function lm(){return lm=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},lm.apply(null,arguments)}function nw(t,r){return t&&t!=="none"?t:r}var Gpe=t=>{var{dataKey:r,name:a,stroke:s,fill:i,legendType:o,hide:l}=t;return[{inactive:l,dataKey:r,type:o,color:nw(s,i),value:Xg(a,r),payload:t}]};function Wpe(t){var{dataKey:r,data:a,stroke:s,strokeWidth:i,fill:o,name:l,hide:c,unit:d}=t;return{dataDefinedOnItem:a,positions:void 0,settings:{stroke:s,strokeWidth:i,fill:o,dataKey:r,nameKey:void 0,name:Xg(l,r),hide:c,type:t.tooltipType,color:nw(s,o),unit:d}}}var qpe=(t,r)=>{var a;if(w.isValidElement(t))a=w.cloneElement(t,r);else if(typeof t=="function")a=t(r);else{var s=Mt("recharts-area-dot",typeof t!="boolean"?t.className:"");a=w.createElement(EQ,lm({},r,{className:s}))}return a};function Ype(t,r){return t==null?!1:r?!0:t.length===1}function Xpe(t){var{clipPathId:r,points:a,props:s}=t,{needClip:i,dot:o,dataKey:l}=s;if(!Ype(a,o))return null;var c=BU(o),d=Pa(s,!1),f=Pa(o,!0),u=a.map((p,g)=>{var v=B0(B0(B0({key:"dot-".concat(g),r:3},d),f),{},{index:g,cx:p.x,cy:p.y,dataKey:l,value:p.value,payload:p.payload,points:a});return qpe(o,v)}),m={clipPath:i?"url(#clipPath-".concat(c?"":"dots-").concat(r,")"):void 0};return w.createElement(Gn,lm({className:"recharts-area-dots"},m),u)}function c3(t){var{points:r,baseLine:a,needClip:s,clipPathId:i,props:o,showLabels:l}=t,{layout:c,type:d,stroke:f,connectNulls:u,isRange:m}=o,p=oH(o,Hpe);return w.createElement(w.Fragment,null,r?.length>1&&w.createElement(Gn,{clipPath:s?"url(#clipPath-".concat(i,")"):void 0},w.createElement(D1,lm({},Pa(p,!0),{points:r,connectNulls:u,type:d,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&w.createElement(D1,lm({},Pa(o,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:u,fill:"none",points:r})),f!=="none"&&m&&w.createElement(D1,lm({},Pa(o,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:u,fill:"none",points:a}))),w.createElement(Xpe,{points:r,props:o,clipPathId:i}),l&&om.renderCallByParent(o,r))}function Jpe(t){var{alpha:r,baseLine:a,points:s,strokeWidth:i}=t,o=s[0].y,l=s[s.length-1].y;if(!po(o)||!po(l))return null;var c=r*Math.abs(o-l),d=Math.max(...s.map(f=>f.x||0));return Br(a)?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(...a.map(f=>f.x||0),d)),Br(d)?w.createElement("rect",{x:0,y:o<l?o:o-c,width:d+(i?parseInt("".concat(i),10):1),height:Math.floor(c)}):null}function Zpe(t){var{alpha:r,baseLine:a,points:s,strokeWidth:i}=t,o=s[0].x,l=s[s.length-1].x;if(!po(o)||!po(l))return null;var c=r*Math.abs(o-l),d=Math.max(...s.map(f=>f.y||0));return Br(a)?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(...a.map(f=>f.y||0),d)),Br(d)?w.createElement("rect",{x:o<l?o:o-c,y:0,width:c,height:Math.floor(d+(i?parseInt("".concat(i),10):1))}):null}function ege(t){var{alpha:r,layout:a,points:s,baseLine:i,strokeWidth:o}=t;return a==="vertical"?w.createElement(Jpe,{alpha:r,points:s,baseLine:i,strokeWidth:o}):w.createElement(Zpe,{alpha:r,points:s,baseLine:i,strokeWidth:o})}function tge(t){var{needClip:r,clipPathId:a,props:s,previousPointsRef:i,previousBaselineRef:o}=t,{points:l,baseLine:c,isAnimationActive:d,animationBegin:f,animationDuration:u,animationEasing:m,onAnimationStart:p,onAnimationEnd:g}=s,v=m6(s,"recharts-area-"),[y,b]=w.useState(!0),j=w.useCallback(()=>{typeof g=="function"&&g(),b(!1)},[g]),N=w.useCallback(()=>{typeof p=="function"&&p(),b(!0)},[p]),S=i.current,B=o.current;return w.createElement(mm,{begin:f,duration:u,isActive:d,easing:m,from:{t:0},to:{t:1},onAnimationEnd:j,onAnimationStart:N,key:v},I=>{var{t:F}=I;if(S){var O=S.length/l.length,k=F===1?l:l.map((Q,H)=>{var M=Math.floor(H*O);if(S[M]){var K=S[M];return B0(B0({},Q),{},{x:eg(K.x,Q.x,F),y:eg(K.y,Q.y,F)})}return Q}),V;return Br(c)?V=eg(B,c,F):Gs(c)||Hl(c)?V=eg(B,0,F):V=c.map((Q,H)=>{var M=Math.floor(H*O);if(Array.isArray(B)&&B[M]){var K=B[M];return B0(B0({},Q),{},{x:eg(K.x,Q.x,F),y:eg(K.y,Q.y,F)})}return Q}),F>0&&(i.current=k,o.current=V),w.createElement(c3,{points:k,baseLine:V,needClip:r,clipPathId:a,props:s,showLabels:!y})}return F>0&&(i.current=l,o.current=c),w.createElement(Gn,null,w.createElement("defs",null,w.createElement("clipPath",{id:"animationClipPath-".concat(a)},w.createElement(ege,{alpha:F,points:l,baseLine:c,layout:s.layout,strokeWidth:s.strokeWidth}))),w.createElement(Gn,{clipPath:"url(#animationClipPath-".concat(a,")")},w.createElement(c3,{points:l,baseLine:c,needClip:r,clipPathId:a,props:s,showLabels:!0})))})}function rge(t){var{needClip:r,clipPathId:a,props:s}=t,{points:i,baseLine:o,isAnimationActive:l}=s,c=w.useRef(null),d=w.useRef(),f=c.current,u=d.current;return l&&i&&i.length&&(f!==i||u!==o)?w.createElement(tge,{needClip:r,clipPathId:a,props:s,previousPointsRef:c,previousBaselineRef:d}):w.createElement(c3,{points:i,baseLine:o,needClip:r,clipPathId:a,props:s,showLabels:!0})}class age extends w.PureComponent{constructor(){super(...arguments),O4(this,"id",Y0("recharts-area-"))}render(){var r,{hide:a,dot:s,points:i,className:o,top:l,left:c,needClip:d,xAxisId:f,yAxisId:u,width:m,height:p,id:g,baseLine:v}=this.props;if(a)return null;var y=Mt("recharts-area",o),b=Gs(g)?this.id:g,{r:j=3,strokeWidth:N=2}=(r=Pa(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},S=BU(s),B=j*2+N;return w.createElement(w.Fragment,null,w.createElement(Gn,{className:y},d&&w.createElement("defs",null,w.createElement(GQ,{clipPathId:b,xAxisId:f,yAxisId:u}),!S&&w.createElement("clipPath",{id:"clipPath-dots-".concat(b)},w.createElement("rect",{x:c-B/2,y:l-B/2,width:m+B,height:p+B}))),w.createElement(rge,{needClip:d,clipPathId:b,props:this.props})),w.createElement(J8,{points:i,mainColor:nw(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(v)&&w.createElement(J8,{points:v,mainColor:nw(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var lH={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!op.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function sge(t){var r,a=xd(t,lH),{activeDot:s,animationBegin:i,animationDuration:o,animationEasing:l,connectNulls:c,dot:d,fill:f,fillOpacity:u,hide:m,isAnimationActive:p,legendType:g,stroke:v,xAxisId:y,yAxisId:b}=a,j=oH(a,$pe),N=h4(),S=hQ(),{needClip:B}=g6(y,b),I=yl(),F=w.useMemo(()=>({baseValue:t.baseValue,stackId:t.stackId,connectNulls:c,data:t.data,dataKey:t.dataKey}),[t.baseValue,t.stackId,c,t.data,t.dataKey]),{points:O,isRange:k,baseLine:V}=(r=Lr(q=>Qpe(q,y,b,I,F)))!==null&&r!==void 0?r:{},{height:Q,width:H,x:M,y:K}=p6();return N!=="horizontal"&&N!=="vertical"||S!=="AreaChart"&&S!=="ComposedChart"?null:w.createElement(age,lm({},j,{activeDot:s,animationBegin:i,animationDuration:o,animationEasing:l,baseLine:V,connectNulls:c,dot:d,fill:f,fillOpacity:u,height:Q,hide:m,layout:N,isAnimationActive:p,isRange:k,legendType:g,needClip:B,points:O,stroke:v,width:H,left:M,top:K,xAxisId:y,yAxisId:b}))}var nge=(t,r,a,s,i)=>{var o=a??r;if(Br(o))return o;var l=t==="horizontal"?i:s,c=l.scale.domain();if(l.type==="number"){var d=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return o==="dataMin"?f:o==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]};function ige(t){var{areaSettings:{connectNulls:r,baseValue:a,dataKey:s},stackedData:i,layout:o,chartBaseValue:l,xAxis:c,yAxis:d,displayedData:f,dataStartIndex:u,xAxisTicks:m,yAxisTicks:p,bandSize:g}=t,v=i&&i.length,y=nge(o,l,a,c,d),b=o==="horizontal",j=!1,N=f.map((B,I)=>{var F;v?F=i[u+I]:(F=an(B,s),Array.isArray(F)?j=!0:F=[y,F]);var O=F[1]==null||v&&!r&&an(B,s)==null;return b?{x:L_({axis:c,ticks:m,bandSize:g,entry:B,index:I}),y:O?null:d.scale(F[1]),value:F,payload:B}:{x:O?null:c.scale(F[1]),y:L_({axis:d,ticks:p,bandSize:g,entry:B,index:I}),value:F,payload:B}}),S;return v||j?S=N.map(B=>{var I=Array.isArray(B.value)?B.value[0]:null;return b?{x:B.x,y:I!=null&&B.y!=null?d.scale(I):null}:{x:I!=null?c.scale(I):null,y:B.y}}):S=b?d.scale(y):c.scale(y),{points:N,baseLine:S,isRange:j}}class wy extends w.PureComponent{render(){return w.createElement(QQ,{type:"area",data:this.props.data,dataKey:this.props.dataKey,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,stackId:this.props.stackId,hide:this.props.hide,barSize:void 0},w.createElement(DQ,{legendPayload:Gpe(this.props)}),w.createElement(h6,{fn:Wpe,args:this.props}),w.createElement(sge,this.props))}}O4(wy,"displayName","Area");O4(wy,"defaultProps",lH);function dO(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function uO(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?dO(Object(a),!0).forEach(function(s){oge(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):dO(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function oge(t,r,a){return(r=lge(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function lge(t){var r=cge(t,"string");return typeof r=="symbol"?r:r+""}function cge(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var dge={xAxis:{},yAxis:{},zAxis:{}},cH=xl({name:"cartesianAxis",initialState:dge,reducers:{addXAxis(t,r){t.xAxis[r.payload.id]=r.payload},removeXAxis(t,r){delete t.xAxis[r.payload.id]},addYAxis(t,r){t.yAxis[r.payload.id]=r.payload},removeYAxis(t,r){delete t.yAxis[r.payload.id]},addZAxis(t,r){t.zAxis[r.payload.id]=r.payload},removeZAxis(t,r){delete t.zAxis[r.payload.id]},updateYAxisWidth(t,r){var{id:a,width:s}=r.payload;t.yAxis[a]&&(t.yAxis[a]=uO(uO({},t.yAxis[a]),{},{width:s}))}}}),{addXAxis:uge,removeXAxis:fge,addYAxis:Age,removeYAxis:hge,addZAxis:Eke,removeZAxis:Tke,updateYAxisWidth:mge}=cH.actions,pge=cH.reducer,gge=["children"],xge=["dangerouslySetInnerHTML","ticks"];function dH(t,r,a){return(r=yge(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function yge(t){var r=vge(t,"string");return typeof r=="symbol"?r:r+""}function vge(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function d3(){return d3=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},d3.apply(null,arguments)}function uH(t,r){if(t==null)return{};var a,s,i=bge(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function bge(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function wge(t){var r=mn(),a=w.useMemo(()=>{var{children:o}=t,l=uH(t,gge);return l},[t]),s=Lr(o=>eh(o,a.id)),i=a===s;return w.useEffect(()=>(r(uge(a)),()=>{r(fge(a))}),[a,r]),i?t.children:null}var jge=t=>{var{xAxisId:r,className:a}=t,s=Lr(dR),i=yl(),o="xAxis",l=Lr(g=>ax(g,o,r,i)),c=Lr(g=>G9(g,o,r,i)),d=Lr(g=>$9(g,r)),f=Lr(g=>Pue(g,r));if(d==null||f==null)return null;var{dangerouslySetInnerHTML:u,ticks:m}=t,p=uH(t,xge);return w.createElement(Tm,d3({},p,{scale:l,x:f.x,y:f.y,width:d.width,height:d.height,className:Mt("recharts-".concat(o," ").concat(o),a),viewBox:s,ticks:c}))},Nge=t=>{var r,a,s,i,o;return w.createElement(wge,{interval:(r=t.interval)!==null&&r!==void 0?r:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(a=t.includeHidden)!==null&&a!==void 0?a:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(s=t.angle)!==null&&s!==void 0?s:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter},w.createElement(jge,t))};class jy extends w.Component{render(){return w.createElement(Nge,this.props)}}dH(jy,"displayName","XAxis");dH(jy,"defaultProps",{allowDataOverflow:hc.allowDataOverflow,allowDecimals:hc.allowDecimals,allowDuplicatedCategory:hc.allowDuplicatedCategory,height:hc.height,hide:!1,mirror:hc.mirror,orientation:hc.orientation,padding:hc.padding,reversed:hc.reversed,scale:hc.scale,tickCount:hc.tickCount,type:hc.type,xAxisId:0});var Sge=t=>{var{ticks:r,label:a,labelGapWithTick:s=5,tickSize:i=0,tickMargin:o=0}=t,l=0;if(r){r.forEach(u=>{if(u){var m=u.getBoundingClientRect();m.width>l&&(l=m.width)}});var c=a?a.getBoundingClientRect().width:0,d=i+o,f=l+d+c+(a?s:0);return Math.round(f)}return 0},Cge=["dangerouslySetInnerHTML","ticks"];function fH(t,r,a){return(r=Bge(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Bge(t){var r=Ege(t,"string");return typeof r=="symbol"?r:r+""}function Ege(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function u3(){return u3=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},u3.apply(null,arguments)}function Tge(t,r){if(t==null)return{};var a,s,i=Fge(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function Fge(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function Ige(t){var r=mn();return w.useEffect(()=>(r(Age(t)),()=>{r(hge(t))}),[t,r]),null}var kge=t=>{var r,{yAxisId:a,className:s,width:i,label:o}=t,l=w.useRef(null),c=w.useRef(null),d=Lr(dR),f=yl(),u=mn(),m="yAxis",p=Lr(S=>ax(S,m,a,f)),g=Lr(S=>z9(S,a)),v=Lr(S=>Oue(S,a)),y=Lr(S=>G9(S,m,a,f));if(w.useLayoutEffect(()=>{var S;if(!(i!=="auto"||!g||i6(o)||w.isValidElement(o))){var B=l.current,I=B==null||(S=B.tickRefs)===null||S===void 0?void 0:S.current,{tickSize:F,tickMargin:O}=B.props,k=Sge({ticks:I,label:c.current,labelGapWithTick:5,tickSize:F,tickMargin:O});Math.round(g.width)!==Math.round(k)&&u(mge({id:a,width:k}))}},[l,l==null||(r=l.current)===null||r===void 0||(r=r.tickRefs)===null||r===void 0?void 0:r.current,g?.width,g,u,o,a,i]),g==null||v==null)return null;var{dangerouslySetInnerHTML:b,ticks:j}=t,N=Tge(t,Cge);return w.createElement(Tm,u3({},N,{ref:l,labelRef:c,scale:p,x:v.x,y:v.y,width:g.width,height:g.height,className:Mt("recharts-".concat(m," ").concat(m),s),viewBox:d,ticks:y}))},_ge=t=>{var r,a,s,i,o;return w.createElement(w.Fragment,null,w.createElement(Ige,{interval:(r=t.interval)!==null&&r!==void 0?r:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(a=t.includeHidden)!==null&&a!==void 0?a:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(s=t.angle)!==null&&s!==void 0?s:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter}),w.createElement(kge,t))},Pge={allowDataOverflow:mc.allowDataOverflow,allowDecimals:mc.allowDecimals,allowDuplicatedCategory:mc.allowDuplicatedCategory,hide:!1,mirror:mc.mirror,orientation:mc.orientation,padding:mc.padding,reversed:mc.reversed,scale:mc.scale,tickCount:mc.tickCount,type:mc.type,width:mc.width,yAxisId:0};class Ny extends w.Component{render(){return w.createElement(_ge,this.props)}}fH(Ny,"displayName","YAxis");fH(Ny,"defaultProps",Pge);var Oge=(t,r)=>r,w6=Ut([Oge,ts,Wde,Yi,lQ,th,Lfe,Si],Hfe),j6=t=>{var r=t.currentTarget.getBoundingClientRect(),a=r.width/t.currentTarget.offsetWidth,s=r.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-r.left)/a),chartY:Math.round((t.clientY-r.top)/s)}},AH=ml("mouseClick"),hH=Ky();hH.startListening({actionCreator:AH,effect:(t,r)=>{var a=t.payload,s=w6(r.getState(),j6(a));s?.activeIndex!=null&&r.dispatch(Wue({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}});var f3=ml("mouseMove"),mH=Ky();mH.startListening({actionCreator:f3,effect:(t,r)=>{var a=t.payload,s=r.getState(),i=YE(s,s.tooltip.settings.shared),o=w6(s,j6(a));i==="axis"&&(o?.activeIndex!=null?r.dispatch(tQ({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):r.dispatch(eQ()))}});function Dge(t,r){return r instanceof HTMLElement?"HTMLElement <".concat(r.tagName,' class="').concat(r.className,'">'):r===window?"global.window":r}var fO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},pH=xl({name:"rootProps",initialState:fO,reducers:{updateOptions:(t,r)=>{var a;t.accessibilityLayer=r.payload.accessibilityLayer,t.barCategoryGap=r.payload.barCategoryGap,t.barGap=(a=r.payload.barGap)!==null&&a!==void 0?a:fO.barGap,t.barSize=r.payload.barSize,t.maxBarSize=r.payload.maxBarSize,t.stackOffset=r.payload.stackOffset,t.syncId=r.payload.syncId,t.syncMethod=r.payload.syncMethod,t.className=r.payload.className}}}),Lge=pH.reducer,{updateOptions:Mge}=pH.actions,gH=xl({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,r)=>r.payload}}),{updatePolarOptions:Uge}=gH.actions,Rge=gH.reducer,xH=ml("keyDown"),yH=ml("focus"),N6=Ky();N6.startListening({actionCreator:xH,effect:(t,r)=>{var a=r.getState(),s=a.rootProps.accessibilityLayer!==!1;if(s){var{keyboardInteraction:i}=a.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=Number(XE(i,fp(a))),c=th(a);if(o==="Enter"){var d=X2(a,"axis","hover",String(i.index));r.dispatch(t3({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var f=Uue(a),u=f==="left-to-right"?1:-1,m=o==="ArrowRight"?1:-1,p=l+m*u;if(!(c==null||p>=c.length||p<0)){var g=X2(a,"axis","hover",String(p));r.dispatch(t3({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}});N6.startListening({actionCreator:yH,effect:(t,r)=>{var a=r.getState(),s=a.rootProps.accessibilityLayer!==!1;if(s){var{keyboardInteraction:i}=a.tooltip;if(!i.active&&i.index==null){var o="0",l=X2(a,"axis","hover",String(o));r.dispatch(t3({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:l}))}}}});var ld=ml("externalEvent"),vH=Ky();vH.startListening({actionCreator:ld,effect:(t,r)=>{if(t.payload.handler!=null){var a=r.getState(),s={activeCoordinate:Efe(a),activeDataKey:fQ(a),activeIndex:gm(a),activeLabel:uQ(a),activeTooltipIndex:gm(a),isTooltipActive:Tfe(a)};t.payload.handler(s,t.payload.reactEvent)}}});var Qge=Ut([sx],t=>t.tooltipItemPayloads),Hge=Ut([Qge,ov,(t,r,a)=>r,(t,r,a)=>a],(t,r,a,s)=>{var i=t.find(c=>c.settings.dataKey===s);if(i!=null){var{positions:o}=i;if(o!=null){var l=r(o,a);return l}}}),bH=ml("touchMove"),wH=Ky();wH.startListening({actionCreator:bH,effect:(t,r)=>{var a=t.payload,s=r.getState(),i=YE(s,s.tooltip.settings.shared);if(i==="axis"){var o=w6(s,j6({clientX:a.touches[0].clientX,clientY:a.touches[0].clientY,currentTarget:a.currentTarget}));o?.activeIndex!=null&&r.dispatch(tQ({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var l,c=a.touches[0],d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(lR),u=(l=d.getAttribute(cR))!==null&&l!==void 0?l:void 0,m=Hge(r.getState(),f,u);r.dispatch(Z9({activeDataKey:u,activeIndex:f,activeCoordinate:m}))}}});var $ge=aM({brush:X0e,cartesianAxis:pge,chartData:sAe,graphicalItems:Rhe,layout:Lne,legend:jie,options:Zfe,polarAxis:Nhe,polarOptions:Rge,referenceElements:spe,rootProps:Lge,tooltip:que}),zge=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return mM({reducer:$ge,preloadedState:r,middleware:s=>s({serializableCheck:!1}).concat([hH.middleware,mH.middleware,N6.middleware,vH.middleware,wH.middleware]),devTools:{serialize:{replacer:Dge},name:"recharts-".concat(a)}})};function jH(t){var{preloadedState:r,children:a,reduxStoreName:s}=t,i=yl(),o=w.useRef(null);if(i)return a;o.current==null&&(o.current=zge(r,s));var l=VB;return w.createElement(J7,{context:l,store:o.current},a)}function NH(t){var{layout:r,width:a,height:s,margin:i}=t,o=mn(),l=yl();return w.useEffect(()=>{l||(o(Pne(r)),o(One({width:a,height:s})),o(_ne(i)))},[o,l,r,a,s,i]),null}function SH(t){var r=mn();return w.useEffect(()=>{r(Mge(t))},[r,t]),null}var Vge=["children"];function Kge(t,r){if(t==null)return{};var a,s,i=Gge(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function Gge(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},iw.apply(null,arguments)}var Wge={width:"100%",height:"100%"},qge=w.forwardRef((t,r)=>{var a=YB(),s=XB(),i=mR();if(!Og(a)||!Og(s))return null;var{children:o,otherAttributes:l,title:c,desc:d}=t,f,u;return typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?u=l.role:u=i?"application":void 0,w.createElement(_B,iw({},l,{title:c,desc:d,role:u,tabIndex:f,width:a,height:s,style:Wge,ref:r}),o)}),Yge=t=>{var{children:r}=t,a=Lr(A4);if(!a)return null;var{width:s,height:i,y:o,x:l}=a;return w.createElement(_B,{width:s,height:i,x:l,y:o},r)},AO=w.forwardRef((t,r)=>{var{children:a}=t,s=Kge(t,Vge),i=yl();return i?w.createElement(Yge,null,a):w.createElement(qge,iw({ref:r},s),a)});function Xge(){var t=mn(),[r,a]=w.useState(null),s=Lr(uie);return w.useEffect(()=>{if(r!=null){var i=r.getBoundingClientRect(),o=i.width/r.offsetWidth;po(o)&&o!==s&&t(Dne(o))}},[r,t,s]),a}function hO(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function Jge(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?hO(Object(a),!0).forEach(function(s){Zge(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):hO(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Zge(t,r,a){return(r=exe(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function exe(t){var r=txe(t,"string");return typeof r=="symbol"?r:r+""}function txe(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var rxe=w.forwardRef((t,r)=>{var{children:a,className:s,height:i,onClick:o,onContextMenu:l,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:u,onMouseMove:m,onMouseUp:p,onTouchEnd:g,onTouchMove:v,onTouchStart:y,style:b,width:j}=t,N=mn(),[S,B]=w.useState(null),[I,F]=w.useState(null);oAe();var O=Xge(),k=w.useCallback(_=>{O(_),typeof r=="function"&&r(_),B(_),F(_)},[O,r,B,F]),V=w.useCallback(_=>{N(AH(_)),N(ld({handler:o,reactEvent:_}))},[N,o]),Q=w.useCallback(_=>{N(f3(_)),N(ld({handler:f,reactEvent:_}))},[N,f]),H=w.useCallback(_=>{N(eQ()),N(ld({handler:u,reactEvent:_}))},[N,u]),M=w.useCallback(_=>{N(f3(_)),N(ld({handler:m,reactEvent:_}))},[N,m]),K=w.useCallback(()=>{N(yH())},[N]),q=w.useCallback(_=>{N(xH(_.key))},[N]),re=w.useCallback(_=>{N(ld({handler:l,reactEvent:_}))},[N,l]),ee=w.useCallback(_=>{N(ld({handler:c,reactEvent:_}))},[N,c]),le=w.useCallback(_=>{N(ld({handler:d,reactEvent:_}))},[N,d]),Ae=w.useCallback(_=>{N(ld({handler:p,reactEvent:_}))},[N,p]),ue=w.useCallback(_=>{N(ld({handler:y,reactEvent:_}))},[N,y]),se=w.useCallback(_=>{N(bH(_)),N(ld({handler:v,reactEvent:_}))},[N,v]),ve=w.useCallback(_=>{N(ld({handler:g,reactEvent:_}))},[N,g]);return w.createElement(yQ.Provider,{value:S},w.createElement(EU.Provider,{value:I},w.createElement("div",{className:Mt("recharts-wrapper",s),style:Jge({position:"relative",cursor:"default",width:j,height:i},b),onClick:V,onContextMenu:re,onDoubleClick:ee,onFocus:K,onKeyDown:q,onMouseDown:le,onMouseEnter:Q,onMouseLeave:H,onMouseMove:M,onMouseUp:Ae,onTouchEnd:ve,onTouchMove:se,onTouchStart:ue,ref:k},a)))}),axe=["children","className","width","height","style","compact","title","desc"];function sxe(t,r){if(t==null)return{};var a,s,i=nxe(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function nxe(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var CH=w.forwardRef((t,r)=>{var{children:a,className:s,width:i,height:o,style:l,compact:c,title:d,desc:f}=t,u=sxe(t,axe),m=Pa(u,!1);return c?w.createElement(AO,{otherAttributes:m,title:d,desc:f},a):w.createElement(rxe,{className:s,style:l,width:i,height:o,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},w.createElement(AO,{otherAttributes:m,title:d,desc:f,ref:r},w.createElement(ipe,null,a)))}),ixe=["width","height"];function A3(){return A3=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},A3.apply(null,arguments)}function oxe(t,r){if(t==null)return{};var a,s,i=lxe(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function lxe(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var cxe={top:5,right:5,bottom:5,left:5},dxe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:cxe,reverseStackOrder:!1,syncMethod:"index"},BH=w.forwardRef(function(r,a){var s,i=xd(r.categoricalChartProps,dxe),{width:o,height:l}=i,c=oxe(i,ixe);if(!Og(o)||!Og(l))return null;var{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:u,tooltipPayloadSearcher:m,categoricalChartProps:p}=r,g={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:u,tooltipPayloadSearcher:m,eventEmitter:void 0};return w.createElement(jH,{preloadedState:{options:g},reduxStoreName:(s=p.id)!==null&&s!==void 0?s:d},w.createElement(JQ,{chartData:p.data}),w.createElement(NH,{width:o,height:l,layout:i.layout,margin:i.margin}),w.createElement(SH,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),w.createElement(CH,A3({},c,{width:o,height:l,ref:a})))}),uxe=["axis","item"],fxe=w.forwardRef((t,r)=>w.createElement(BH,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:uxe,tooltipPayloadSearcher:n6,categoricalChartProps:t,ref:r}));function Axe(t){var r=mn();return w.useEffect(()=>{r(Uge(t))},[r,t]),null}var hxe=["width","height","layout"];function h3(){return h3=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},h3.apply(null,arguments)}function mxe(t,r){if(t==null)return{};var a,s,i=pxe(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function pxe(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var gxe={top:5,right:5,bottom:5,left:5},xxe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:gxe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},yxe=w.forwardRef(function(r,a){var s,i=xd(r.categoricalChartProps,xxe),{width:o,height:l,layout:c}=i,d=mxe(i,hxe);if(!Og(o)||!Og(l))return null;var{chartName:f,defaultTooltipEventType:u,validateTooltipEventTypes:m,tooltipPayloadSearcher:p}=r,g={chartName:f,defaultTooltipEventType:u,validateTooltipEventTypes:m,tooltipPayloadSearcher:p,eventEmitter:void 0};return w.createElement(jH,{preloadedState:{options:g},reduxStoreName:(s=i.id)!==null&&s!==void 0?s:f},w.createElement(JQ,{chartData:i.data}),w.createElement(NH,{width:o,height:l,layout:c,margin:i.margin}),w.createElement(SH,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),w.createElement(Axe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),w.createElement(CH,h3({width:o,height:l},d,{ref:a})))}),vxe=["item"],bxe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},EH=w.forwardRef((t,r)=>{var a=xd(t,bxe);return w.createElement(yxe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:vxe,tooltipPayloadSearcher:n6,categoricalChartProps:a,ref:r})}),wxe=["axis"],TH=w.forwardRef((t,r)=>w.createElement(BH,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:wxe,tooltipPayloadSearcher:n6,categoricalChartProps:t,ref:r}));const g1="https://vidyaastra.com/api",jxe=()=>{const[t,r]=w.useState(!0),[a,s]=w.useState(null),[i,o]=w.useState(!1),[l,c]=w.useState({stats:{totalStudents:0,totalAssignments:0,totalTeachers:0},monthlyData:[],classDistribution:[],subjectPerformance:[],recentActivities:[]}),d=S=>{switch(S){case"student":return n.jsx(da,{className:"w-4 h-4 text-blue-600"});case"assignment":return n.jsx(FA,{className:"w-4 h-4 text-green-600"});case"teacher":return n.jsx(Ts,{className:"w-4 h-4 text-red-600"});default:return n.jsx(ia,{className:"w-4 h-4 text-gray-600"})}},f=async(S=!1)=>{S?o(!0):r(!0),s(null);const B=localStorage.getItem("adminToken")||localStorage.getItem("token"),I=localStorage.getItem("schoolId");console.log("Dashboard fetch - Token:",!!B,"SchoolId:",I);const F=B?{Authorization:`Bearer ${B}`}:{};try{const O=I?`${g1}/students/school/${I}`:`${g1}/students/${I}`,k=I?`https://vidyaastra.com/api/teacher/${I}`:`${g1}/teachers`;console.log("Fetching from URLs:",{studentsUrl:O,teachersUrl:k});const[V,Q]=await Promise.all([It.get(O,{headers:F}),It.get(k,{headers:F})]);console.log("API Responses:",{students:V.data,teachers:Q.data});const H=V.data,M=Q.data,K=H?.data||H||[],q=M?.data||M||[];console.log(`Loaded ${K.length} students and ${q.length} teachers`);const re=[];for(const me of K)try{const he=I?`${g1}/assignments?studentId=${me._id}&schoolId=${I}`:`${g1}/assignments?studentId=${me._id}`,te=await It.get(he,{headers:F});if(te.data?.success&&te.data?.data){const J=te.data.data.map(X=>({...X,id:X._id,studentName:me.name,rollNo:me.rollNumber||me.rollNo,class:me.classId?.name||me.class||"Unknown",priority:(X.priority||"MEDIUM").toUpperCase(),dueDate:X.dueDate?X.dueDate.split("T")[0]:new Date().toISOString().split("T")[0],createdAt:X.createdAt||new Date().toISOString()}));re.push(...J)}}catch(he){console.warn(`Could not fetch assignments for student ${me._id}:`,he.message)}console.log(`Loaded ${re.length} assignments`);const ee=K.length,le=q.length,Ae=re.length,ue=new Map;for(let me=5;me>=0;me--){const he=new Date;he.setMonth(he.getMonth()-me);const te=he.toLocaleString("en-US",{month:"short",year:"numeric"});ue.set(te,{month:he.toLocaleString("en-US",{month:"short"}),students:0,assignments:0})}K.forEach(me=>{if(me.createdAt){const he=new Date(me.createdAt).toLocaleString("en-US",{month:"short",year:"numeric"});ue.has(he)&&(ue.get(he).students+=1)}}),re.forEach(me=>{if(me.createdAt){const he=new Date(me.createdAt).toLocaleString("en-US",{month:"short",year:"numeric"});ue.has(he)&&(ue.get(he).assignments+=1)}});const se=Array.from(ue.values()).sort((me,he)=>{const te=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return te.indexOf(me.month)-te.indexOf(he.month)}),ve=new Map;K.forEach(me=>{const he=me.classId?.name||me.class||"Unknown Class";ve.set(he,(ve.get(he)||0)+1)});const _=Array.from(ve.entries()).map(([me,he],te)=>({name:me,value:he,color:["#3B82F6","#10B981","#F59E0B","#EF4444","#6B7280","#8B5CF6"][te%6]})),z=new Map;re.forEach(me=>{const he=me.subject||"Unknown Subject";z.has(he)||z.set(he,{subject:he,assignments:0,completed:0,pending:0});const te=z.get(he);te.assignments+=1,me.status==="submitted"||me.status==="graded"?te.completed+=1:te.pending+=1});const ae=Array.from(z.values()),oe=[];K.forEach(me=>oe.push({id:me._id,type:"student",message:`New student ${me.name} enrolled in Class ${me.classId?.name||me.class||"Unknown"}`,time:me.createdAt||new Date().toISOString()})),q.forEach(me=>oe.push({id:me._id,type:"teacher",message:`New teacher ${me.name} joined ${me.subject||"Unknown"} department`,time:me.createdAt||new Date().toISOString()})),re.forEach(me=>oe.push({id:me._id,type:"assignment",message:`${me.subject||"Unknown"} assignment "${me.title||"Untitled"}" ${me.status||"created"} by ${me.studentName}`,time:me.createdAt||new Date().toISOString()}));const ce=oe.sort((me,he)=>new Date(he.time).getTime()-new Date(me.time).getTime()).slice(0,5);c({stats:{totalStudents:ee,totalAssignments:Ae,totalTeachers:le},monthlyData:se,classDistribution:_,subjectPerformance:ae,recentActivities:ce}),console.log("Dashboard data updated successfully")}catch(O){console.error("Failed to fetch dashboard data:",O);let k="Failed to load dashboard data.";if(It.isAxiosError(O))if(O.response){const V=O.response.status,Q=O.response.data?.message;V===401?(k="Session expired. Please login again.",localStorage.removeItem("adminToken"),localStorage.removeItem("token"),localStorage.removeItem("schoolId"),setTimeout(()=>{window.location.href="/login"},2e3)):V===403?k="Access denied. Please check your permissions.":V===404?k="Data not found. Please contact support.":V>=500?k="Server error. Please try again later.":k=Q||`Error: ${V}`}else O.request?k="Network error. Please check your internet connection and try again.":k=`Request error: ${O.message}`;else k=`Unexpected error: ${O.message}`;s(k)}finally{r(!1),o(!1)}},u=()=>{f(!0)},m=()=>{s(null),f()};w.useEffect(()=>{f()},[]);const{stats:p,monthlyData:g,classDistribution:v,subjectPerformance:y,recentActivities:b}=l;if(t)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Er,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-lg text-gray-700",children:"Loading dashboard data..."}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please wait while we fetch your school's information"})]})});if(a)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:n.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ua,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Oops! Something went wrong"}),n.jsx("p",{className:"text-gray-600 mb-6",children:a}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("button",{onClick:m,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Try Again"}),n.jsx("button",{onClick:()=>s(null),className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Dismiss"})]})]})})});const j=localStorage.getItem("color")||"#3B82F6",N=localStorage.getItem("schoolName")||"School";return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:Mt("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:j},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold",children:[N," Dashboard"]}),n.jsx("p",{className:"text-blue-100 mt-2",children:"Welcome back! Here's what's happening at your school today."})]}),n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:u,disabled:i,className:"bg-white/20 hover:bg-white/30 text-white p-2 rounded-lg transition-colors disabled:opacity-50",title:"Refresh Data",children:n.jsx(cm,{className:`w-5 h-5 ${i?"animate-spin":""}`})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-100",children:"Today"}),n.jsx("p",{className:"text-xl font-semibold",children:new Date().toLocaleDateString("en-IN")})]})]})})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.totalStudents.toLocaleString()}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(Zh,{className:"w-4 h-4 text-green-500 mr-1"}),n.jsx("span",{className:"text-sm text-green-600",children:"Active students"})]})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:n.jsx(da,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Assignments"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.totalAssignments}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(Zh,{className:"w-4 h-4 text-green-500 mr-1"}),n.jsx("span",{className:"text-sm text-green-600",children:"All assignments"})]})]}),n.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:n.jsx(FA,{className:"w-6 h-6 text-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Teachers"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.totalTeachers}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(Zh,{className:"w-4 h-4 text-green-500 mr-1"}),n.jsx("span",{className:"text-sm text-green-600",children:"Active teachers"})]})]}),n.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:n.jsx(Ts,{className:"w-6 h-6 text-purple-600"})})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-6",children:"Monthly Overview"}),g.length>0?n.jsx(U1,{width:"100%",height:300,children:n.jsxs(TH,{data:g,margin:{top:10,right:30,left:0,bottom:0},children:[n.jsx(sw,{strokeDasharray:"3 3"}),n.jsx(jy,{dataKey:"month"}),n.jsx(Ny,{}),n.jsx(L1,{}),n.jsx(M0,{}),n.jsx(wy,{type:"monotone",dataKey:"students",stroke:"#8884d8",fill:"#8884d8",name:"Students"}),n.jsx(wy,{type:"monotone",dataKey:"assignments",stroke:"#82ca9d",fill:"#82ca9d",name:"Assignments"})]})}):n.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ia,{className:"w-12 h-12 mx-auto mb-3"}),n.jsx("p",{children:"No monthly data available"})]})})]}),n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-6",children:"Recent Activities"}),n.jsx("div",{className:"space-y-4",children:b.length>0?b.map(S=>n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"p-2 bg-gray-100 rounded-full flex-shrink-0",children:d(S.type)}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-gray-800",children:S.message}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(S.time).toLocaleString()})]})]},S.id)):n.jsxs("div",{className:"text-center py-10 text-gray-500",children:[n.jsx(ia,{className:"w-10 h-10 mx-auto mb-3"}),n.jsx("p",{children:"No recent activities to display."})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-6",children:"Class Distribution"}),v.length>0?n.jsx(U1,{width:"100%",height:300,children:n.jsxs(EH,{children:[n.jsx(_4,{data:v,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",nameKey:"name",children:v.map((S,B)=>n.jsx(ix,{fill:S.color},`cell-${B}`))}),n.jsx(L1,{}),n.jsx(M0,{})]})}):n.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:n.jsxs("div",{className:"text-center",children:[n.jsx(da,{className:"w-12 h-12 mx-auto mb-3"}),n.jsx("p",{children:"No class data available"})]})})]}),n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-6",children:"Assignment Progress by Subject"}),y.length>0?n.jsx(U1,{width:"100%",height:300,children:n.jsxs(fxe,{data:y,children:[n.jsx(sw,{strokeDasharray:"3 3"}),n.jsx(jy,{dataKey:"subject"}),n.jsx(Ny,{}),n.jsx(L1,{}),n.jsx(M0,{}),n.jsx(tw,{dataKey:"completed",stackId:"a",fill:"#10B981",name:"Completed"}),n.jsx(tw,{dataKey:"pending",stackId:"a",fill:"#F59E0B",name:"Pending"})]})}):n.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:n.jsxs("div",{className:"text-center",children:[n.jsx(FA,{className:"w-12 h-12 mx-auto mb-3"}),n.jsx("p",{children:"No assignment data available"})]})})]})]}),n.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsx("div",{children:n.jsxs("span",{children:["School ID: ",localStorage.getItem("schoolId")||"Not set"]})}),n.jsx("div",{children:n.jsxs("span",{children:["Last updated: ",new Date().toLocaleString("en-IN")]})})]})})]})]})},Nxe="https://vidyaastra.com/api",Sxe=()=>{const[t,r]=w.useState(!1),[a,s]=w.useState(null),[i,o]=w.useState(!1),[l,c]=w.useState(""),[d,f]=w.useState(""),[u,m]=w.useState({name:"",email:"",phone:"",paymentMethod:"card",cardNumber:"",expiryDate:"",cvv:"",nameOnCard:"",upiId:""}),p=localStorage.getItem("color")||"#4f46e5",g=[{id:"65d2e8e7a1b2c3d4e5f6a7b8",name:"Basic Plan",students:50,price:15e3,duration:"Monthly",features:["Basic Learning","Online Classes","Study Materials"],color:"blue"},{id:"65d2e8e7a1b2c3d4e5f6a7b9",name:"Premium Plan",students:100,price:25e3,duration:"Monthly",features:["Advanced Learning","Live Sessions","Personal Tutor","Assignments"],color:"purple"},{id:"65d2e8e7a1b2c3d4e5f6a7c0",name:"Enterprise Plan",students:200,price:45e3,duration:"Monthly",features:["All Features","Priority Support","Custom Content","Analytics"],color:"green"}],v=N=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(N),y=N=>{s(N),r(!0),c(""),f("")},b=()=>{r(!1),s(null),m({name:"",email:"",phone:"",paymentMethod:"card",cardNumber:"",expiryDate:"",cvv:"",nameOnCard:"",upiId:""}),c(""),f("")},j=async N=>{N.preventDefault(),o(!0),c(""),f("");const S=localStorage.getItem("schoolId")||"65d2e8e7a1b2c3d4e5f6a7b7";if(!a){c("No package selected."),o(!1);return}const B={schoolId:S,packageId:a.id,name:u.name,email:u.email,phone:u.phone,paymentMethod:u.paymentMethod,amount:a.price};u.paymentMethod==="card"?B.cardDetails={cardNumber:u.cardNumber.replace(/\s/g,""),nameOnCard:u.nameOnCard,expiryDate:u.expiryDate,cvv:u.cvv}:u.paymentMethod==="upi"&&(B.upiId=u.upiId);try{const I=await It.post(`${Nxe}/payments`,B,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});console.log("Payment submitted successfully:",I.data),f("Payment submitted successfully!"),setTimeout(()=>{b()},2e3)}catch(I){console.error("Payment submission error:",I.response?.data||I.message),c(I.response?.data?.message||"Failed to process payment. Please try again.")}finally{o(!1)}};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"text-white p-6 rounded-b-3xl shadow-lg",style:{background:p},children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ul,{className:"w-6 h-6"}),n.jsx("h1",{className:"text-2xl font-bold",children:"School Packages"})]})}),n.jsx("p",{className:"opacity-80 mt-2",children:"Choose the perfect package for your needs"})]}),n.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(N=>n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border hover:shadow-lg transition-all",style:{borderColor:p},children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:N.name})}),n.jsx("div",{className:"text-white rounded-xl p-4 mb-4",style:{background:p},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(da,{className:"w-5 h-5"}),n.jsxs("span",{className:"font-semibold",children:[N.students," Students"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl font-bold",children:v(N.price)}),n.jsxs("div",{className:"text-sm opacity-90",children:["/",N.duration]})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Features:"}),N.features.map((S,B)=>n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),n.jsx("span",{children:S})]},B))]}),n.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100",children:n.jsxs("button",{onClick:()=>y(N),className:"w-full py-3 px-6 text-white rounded-xl font-semibold hover:shadow-lg transform hover:scale-105 transition-all duration-200 flex items-center justify-center space-x-2",style:{background:p},children:[n.jsx("span",{children:"Buy Now"}),n.jsx("span",{children:""})]})})]},N.id))}),t&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(jA,{className:"w-6 h-6",style:{color:p}}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Complete Payment"})]}),n.jsx("button",{onClick:b,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:n.jsx(cr,{className:"w-5 h-5 text-gray-500"})})]}),a&&n.jsxs("div",{className:"p-6 bg-gray-50 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Package Summary"}),n.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-semibold text-gray-800",children:a.name}),n.jsx("span",{className:"text-2xl font-bold",style:{color:p},children:v(a.price)})]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[n.jsx(da,{className:"w-4 h-4 mr-1"}),n.jsxs("span",{children:[a.students," Students "," ",a.duration]})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:a.features.map((N,S)=>n.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:[n.jsx(Dn,{className:"w-3 h-3 mr-1"}),N]},S))})]})]}),n.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[l&&n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded flex items-center space-x-2",children:[n.jsx(ua,{className:"w-5 h-5"}),n.jsx("span",{children:l})]}),d&&n.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded flex items-center space-x-2",children:[n.jsx(Dn,{className:"w-5 h-5"}),n.jsx("span",{children:d})]}),n.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:b,disabled:i,className:"flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:i,className:"flex-1 py-3 px-6 text-white rounded-xl font-semibold hover:shadow-lg transform hover:scale-105 transition-all duration-200 flex items-center justify-center space-x-2",style:{background:p},children:[i?n.jsx(Er,{className:"w-4 h-4 animate-spin"}):n.jsx(Dn,{className:"w-4 h-4"}),n.jsx("span",{children:i?"Processing...":`Pay ${a&&v(a.price)}`})]})]})]})]})})]})},Cxe=({setSchoolId:t})=>{const[r,a]=w.useState("admin"),s=Ff(),[i,o]=w.useState(""),[l,c]=w.useState(""),[d,f]=w.useState(""),[u,m]=w.useState(""),[p,g]=w.useState(""),[v,y]=w.useState(""),[b,j]=w.useState(!1),[N,S]=w.useState(null),[B,I]=w.useState(null),F=async V=>{V.preventDefault(),j(!0),S(null),I(null);try{const Q=await It.post("https://vidyaastra.com/api/schools/login",{email:i,password:l,schoolCode:d});console.log("Admin Login Success:",Q.data),localStorage.setItem("schoolId",Q.data.data.id),t(Q.data.data.id),localStorage.setItem("adminToken",Q.data.token),localStorage.setItem("userType","admin"),localStorage.setItem("color",Q.data.data.color),localStorage.setItem("schoolLogo",Q.data.data.logoUrl||"/default-logo.png"),localStorage.removeItem("superadmin_token"),localStorage.removeItem("superadmin_user"),localStorage.removeItem("teacherId"),localStorage.removeItem("teacherToken"),I("Admin login successful! Redirecting..."),setTimeout(()=>{s("/dashboard",{replace:!0})},1500)}catch(Q){console.error("Admin Login Error:",Q),S(Q.response?.data?.message||"Admin login failed. Please check your credentials and school code.")}finally{j(!1)}},O=async V=>{V.preventDefault(),j(!0),S(null),I(null);try{const Q=await It.post("https://vidyaastra.com/api/teacher/login",{email:u,password:p,schoolCode:v});console.log("Teacher Login Success:",Q.data),localStorage.setItem("teacherId",Q.data.teacher._id),localStorage.setItem("teacherToken",Q.data.token),localStorage.setItem("userType","teacher"),localStorage.setItem("schoolId",Q.data.teacher.schoolId),t(Q.data.teacher.schoolId),localStorage.setItem("schoolLogo",Q.data.teacher.schoolId.logoUrl||"/default-logo.png"),localStorage.removeItem("adminToken"),localStorage.removeItem("superadmin_token"),I("Teacher login successful! Redirecting..."),setTimeout(()=>{s("/teacher/attendance",{replace:!0})},1500)}catch(Q){console.error("Teacher Login Error:",Q),S(Q.response?.data?.message||"Teacher login failed. Please check your credentials and school code.")}finally{j(!1)}},k=V=>{a(V),S(null),I(null),V==="admin"?(m(""),g(""),y("")):(o(""),c(""),f(""))};return n.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-blue-400 to-orange-400 p-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"flex space-x-2 mb-6 bg-white rounded-lg p-1 shadow-sm",children:[n.jsx("button",{onClick:()=>k("admin"),className:`flex-1 px-6 py-3 rounded-md font-medium transition-all duration-200 ${r==="admin"?"bg-indigo-700 text-white shadow-md":"text-indigo-700 hover:bg-indigo-50"}`,children:"Admin Login"}),n.jsx("button",{onClick:()=>k("teacher"),className:`flex-1 px-6 py-3 rounded-md font-medium transition-all duration-200 ${r==="teacher"?"bg-orange-600 text-white shadow-md":"text-orange-600 hover:bg-orange-50"}`,children:"Teacher Login"})]}),B&&n.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded-md text-center",children:B}),N&&n.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-md text-center",children:N}),r==="admin"&&n.jsxs("form",{onSubmit:F,className:"bg-white p-6 rounded-xl shadow-lg space-y-6",children:[n.jsx("div",{children:n.jsx("img",{src:Yg,alt:"ParNets Logo",className:"h-24 text-center"})}),n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-3xl font-bold text-indigo-700 ",children:"Admin Portal"}),n.jsx("p",{className:"text-gray-600",children:"Sign in to manage your school"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),n.jsx("input",{type:"email",placeholder:"Enter your email",value:i,onChange:V=>o(V.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",disabled:b,required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),n.jsx("input",{type:"password",placeholder:"Enter your password",value:l,onChange:V=>c(V.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",disabled:b,required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"School Code"}),n.jsx("input",{type:"text",placeholder:"Enter school code",value:d,onChange:V=>f(V.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",disabled:b,required:!0})]})]}),n.jsx("button",{type:"submit",className:"w-full bg-indigo-700 text-white py-3 rounded-lg hover:bg-indigo-800 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",disabled:b||!i||!l||!d,children:b?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in as Admin"})]}),r==="teacher"&&n.jsxs("form",{onSubmit:O,className:"bg-white p-8 rounded-xl shadow-lg space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-3xl font-bold text-orange-700 mb-2",children:"Teacher Portal"}),n.jsx("p",{className:"text-gray-600",children:"Access your teaching dashboard"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),n.jsx("input",{type:"email",placeholder:"Enter your email",value:u,onChange:V=>m(V.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",disabled:b,required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),n.jsx("input",{type:"password",placeholder:"Enter your password",value:p,onChange:V=>g(V.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",disabled:b,required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"School Code"}),n.jsx("input",{type:"text",placeholder:"Enter school code",value:v,onChange:V=>y(V.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",disabled:b,required:!0})]})]}),n.jsx("button",{type:"submit",className:"w-full bg-orange-600 text-white py-3 rounded-lg hover:bg-orange-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",disabled:b||!u||!p||!v,children:b?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in as Teacher"})]})]})})},mO={present:{icon:Dn,color:"bg-green-500 text-white"},absent:{icon:cr,color:"bg-red-500 text-white"},late:{icon:Ea,color:"bg-[#F37021] text-white"},holiday:{icon:Ea,color:"bg-yellow-500 text-white"}},Bxe=()=>{const[t,r]=w.useState(""),[a,s]=w.useState(""),[i,o]=w.useState(""),[l,c]=w.useState(""),[d,f]=w.useState([]),[u,m]=w.useState(null),[p,g]=w.useState(!0),[v,y]=w.useState([]),[b,j]=w.useState(""),[N,S]=w.useState(""),[B,I]=w.useState(!1),[F,O]=w.useState({start:"",end:""}),[k,V]=w.useState(1),[Q]=w.useState(10),[H,M]=w.useState(1),[K,q]=w.useState(0),[re,ee]=w.useState(!1),le=async(J,X=3)=>{console.log(`[API] Fetching school name for ID: ${J}`);try{const Ne=await(await fetch(`https://vidyaastra.com/api/schools/${J}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();return console.log(`[API] School response for ${J}:`,Ne),Ne.success&&Ne.data&&Ne.data.name?{_id:J,name:Ne.data.name}:(console.warn(`[API] Failed to fetch school name for ID ${J}: ${Ne.message||"No data"}`),{_id:J,name:"Unknown School"})}catch(xe){return console.error(`[API] Error fetching school name for ID ${J}: ${xe.message}`),X>0?(console.log(`[API] Retrying fetch for school ID ${J}. Retries left: ${X-1}`),le(J,X-1)):{_id:J,name:"Unknown School"}}},Ae=async J=>{try{const X=[...new Set(J.map(pe=>pe.schoolId).filter(Boolean))];if(console.log("[API] Unique school IDs to fetch:",X),X.length===0){console.warn("[API] No school IDs found in attendance data"),y([]),ee(!0);return}const xe=X.map(pe=>le(pe)),Ne=await Promise.all(xe),ge=Ne.filter(pe=>pe.name!=="Unknown School");console.log("[API] Fetched schools:",Ne),y(ge),ee(Ne.every(pe=>pe.name==="Unknown School"))}catch(X){console.error("[API] Error fetching schools:",X.message),m("Failed to load school data"),y([]),ee(!0)}},ue=async()=>{try{g(!0),console.log(`[API] Fetching attendance for page ${k}, schoolId: ${b||"all"}`);const X=await(await fetch(`https://vidyaastra.com/api/attendance/all-unfiltered?page=${k}&limit=${Q}${b?`&schoolId=${b}`:""}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();if(console.log("[API] Attendance API response:",X),X.success&&Array.isArray(X.data)){const xe=X.data.map(Ne=>{const ge=Ne.studentId?.class||"Unknown Class",pe=ge.match(/^(\d+)([A-Z])?$/),Y=pe?pe[1]:ge,Le=pe&&pe[2]?pe[2]:"N/A",ie=Ne.studentId?.schoolId||"";return{id:Ne._id,name:Ne.studentId?.name||"Unknown Student",rollNo:Ne.studentId?.rollNumber||"",studentId:Ne.studentId?.studentId||"",classGrade:Y,section:Le,status:Ne.status||"unknown",date:se(Ne.date),schoolId:ie}});f(xe),M(X.pagination.totalPages||1),q(X.pagination.totalRecords||0),await Ae(xe),m(null)}else m(X.message||"Failed to fetch attendance"),f([]),y([]),ee(!0)}catch(J){console.error("[API] Error fetching attendance:",J.message),m("Error fetching attendance: "+J.message),f([]),y([]),ee(!0)}finally{g(!1)}};w.useEffect(()=>{ue()},[k,b]);const se=J=>{if(!J)return"N/A";if(/^\d{4}-\d{2}-\d{2}$/.test(J))return J;try{const X=new Date(J);return isNaN(X)?"N/A":X.toISOString().slice(0,10)}catch{return"N/A"}},ve=w.useMemo(()=>d.some(J=>J.schoolId)||v.length>0,[d,v]),_=w.useMemo(()=>{if(!b)return"All Schools";const J=v.find(X=>X._id===b);return J?J.name:"Unknown School"},[b,v]),z=w.useMemo(()=>[...new Set(d.map(J=>J.classGrade))].filter(J=>J&&J!=="Unknown Class").sort((J,X)=>J.localeCompare(X,void 0,{numeric:!0})),[d]),ae=w.useMemo(()=>{const J=d.filter(X=>X.section&&X.section!=="N/A").map(X=>X.section);return[...new Set(J)].sort()},[d]),oe=w.useMemo(()=>d.filter(J=>{const X=!b||J.schoolId===b;let xe=!0;F.start&&F.end?xe=J.date!=="N/A"&&J.date>=F.start&&J.date<=F.end:t&&(xe=J.date===t);const Ne=!a||J.classGrade===a,ge=!i||J.section===i,pe=!l||J.name.toLowerCase().includes(l.toLowerCase())||J.rollNo.includes(l)||J.studentId.toLowerCase().includes(l.toLowerCase()),Y=!N||J.status===N;return X&&xe&&Ne&&ge&&pe&&Y}),[d,b,t,a,i,l,N,F]),ce=()=>{c(""),S(""),O({start:"",end:""}),r(""),j(""),s(""),o(""),V(1)},me=()=>{if(oe.length===0){alert("No data to export");return}const J=oe.map(Le=>({Date:Le.date,"Roll Number":Le.rollNo,"Student Name":Le.name,"Student ID":Le.studentId,Class:Le.classGrade,Section:Le.section,"School Name":v.find(ie=>ie._id===Le.schoolId)?.name||"Unknown School","Attendance Status":Le.status.charAt(0).toUpperCase()+Le.status.slice(1)})),X=Object.keys(J[0]),xe=[X.join(","),...J.map(Le=>X.map(ie=>`"${Le[ie]??""}"`).join(","))].join(`
`),Ne=new Blob([xe],{type:"text/csv;charset=utf-8;"}),ge=document.createElement("a"),pe=URL.createObjectURL(Ne);ge.setAttribute("href",pe);let Y="attendance_";b&&(Y+=`${_}_`),a&&(Y+=`${a}_`),i&&(Y+=`${i}_`),t?Y+=`${t}_`:F.start&&F.end&&(Y+=`${F.start}_to_${F.end}_`),Y+=`${new Date().toISOString().split("T")[0]}.csv`,ge.setAttribute("download",Y),ge.style.visibility="hidden",document.body.appendChild(ge),ge.click(),document.body.removeChild(ge)},he=w.useMemo(()=>[{icon:da,value:oe.length,label:"Total Students",color:"orange"},{icon:Dn,value:oe.filter(J=>J.status==="present").length,label:"Present",color:"green"},{icon:cr,value:oe.filter(J=>J.status==="absent").length,label:"Absent",color:"red"},{icon:Ea,value:oe.filter(J=>J.status==="late").length,label:"Late",color:"orange"}],[oe]),te=J=>{J>=1&&J<=H&&V(J)};return n.jsxs("div",{className:"space-y-8 p-8 bg-gradient-to-b from-[#1C1444]/5 to-white min-h-screen",children:[n.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-[#1C1444]/10 transition-all duration-300 hover:shadow-2xl",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-extrabold text-[#1C1444] tracking-tight",children:"Attendance Management"}),n.jsxs("p",{className:"text-[#1C1444]/80 text-lg mt-1",children:["View student attendance records",n.jsxs("span",{className:"ml-2 text-[#F37021] font-semibold",children:["(",_,")"]})]})]}),n.jsxs("button",{onClick:me,className:"bg-gradient-to-r from-[#F37021] to-[#d55f1c] hover:from-[#d55f1c] hover:to-[#b54e17] text-white px-6 py-3 rounded-lg shadow-md flex items-center space-x-2 transform transition-all duration-200 hover:scale-105 disabled:opacity-50",title:"Export to CSV",disabled:p,children:[n.jsx(Us,{className:"w-5 h-5"})," ",n.jsx("span",{children:"Export CSV"})]})]}),re&&n.jsx("div",{className:"mb-6 p-4 bg-red-100 text-red-700 rounded-lg text-center",children:"Warning: Unable to fetch school names. Please check the API or school data."}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-6",children:[ve&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"School"}),n.jsxs("select",{value:b,onChange:J=>{j(J.target.value),s(""),o(""),V(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:p||v.length===0,children:[n.jsx("option",{value:"",children:"All Schools"}),v.sort((J,X)=>J.name.localeCompare(X.name)).map(J=>n.jsx("option",{value:J._id,children:J.name},J._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Class"}),n.jsxs("select",{value:a,onChange:J=>{s(J.target.value),o(""),V(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:p||z.length===0,children:[n.jsx("option",{value:"",children:"All Classes"}),z.length===0?n.jsx("option",{value:"",disabled:!0,children:"No classes available"}):z.map(J=>n.jsx("option",{value:J,children:J},J))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Section"}),n.jsxs("select",{value:i,onChange:J=>{o(J.target.value),V(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:p||ae.length===0,children:[n.jsx("option",{value:"",children:"All Sections"}),ae.length===0?n.jsx("option",{value:"",disabled:!0,children:"No sections available"}):ae.map(J=>n.jsx("option",{value:J,children:J},J))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Date"}),n.jsxs("div",{className:"relative",children:[n.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#1C1444]/60 w-5 h-5"}),n.jsx("input",{type:"date",value:t,onChange:J=>{r(J.target.value),O({start:"",end:""}),V(1)},className:"w-full pl-10 pr-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:p})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Search Students"}),n.jsxs("div",{className:"relative",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#1C1444]/60 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search by name, roll no...",value:l,onChange:J=>c(J.target.value),className:"w-full pl-10 pr-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:p})]})]})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{className:"text-sm text-[#1C1444]/80",children:["Showing ",oe.length," of ",K," records"]}),n.jsxs("button",{onClick:()=>I(!B),className:"flex items-center space-x-2 px-4 py-2 border border-[#1C1444]/20 rounded-lg bg-white hover:bg-[#1C1444] hover:text-white transition-all duration-200 disabled:opacity-50",disabled:p,children:[n.jsx(mo,{className:"w-5 h-5"}),n.jsx("span",{children:"Advanced Filters"})]})]})}),B&&n.jsx("div",{className:"border-t pt-6 mt-6 border-[#1C1444]/10 transition-all duration-300",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Date Range Start"}),n.jsx("input",{type:"date",value:F.start,onChange:J=>{O({...F,start:J.target.value}),r(""),V(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:p})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Date Range End"}),n.jsx("input",{type:"date",value:F.end,onChange:J=>{O({...F,end:J.target.value}),r(""),V(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:p})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Attendance Status"}),n.jsxs("select",{value:N,onChange:J=>S(J.target.value),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:p,children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"present",children:"Present"}),n.jsx("option",{value:"absent",children:"Absent"}),n.jsx("option",{value:"late",children:"Late"}),n.jsx("option",{value:"holiday",children:"Holiday"})]})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:ce,className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg bg-white hover:bg-[#1C1444] hover:text-white text-[#1C1444] transition-all duration-200 disabled:opacity-50",disabled:p,children:"Clear Filters"})})]})})]}),p&&n.jsx("div",{className:"p-6 bg-[#F37021]/10 text-[#F37021] rounded-2xl shadow-md text-center transition-all duration-300",children:"Loading attendance records..."}),u&&n.jsx("div",{className:"p-6 bg-red-100 text-red-700 rounded-2xl shadow-md text-center transition-all duration-300",children:u}),!p&&!u&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:he.map((J,X)=>n.jsx("div",{className:`bg-white rounded-2xl p-6 shadow-md border-l-4 border-${J.color==="orange"?"[#F37021]":J.color+"-500"} transition-all duration-300 hover:shadow-lg hover:-translate-y-1`,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(J.icon,{className:`w-10 h-10 text-${J.color==="orange"?"[#F37021]":J.color+"-600"} transition-transform duration-200 group-hover:scale-110`}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-3xl font-extrabold text-[#1C1444]",children:J.value}),n.jsx("div",{className:"text-sm text-[#1C1444]/80",children:J.label})]})]})},X))}),!p&&!u&&n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden transition-all duration-300",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gradient-to-r from-[#1C1444]/10 to-[#F37021]/10",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Roll No"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Student Name"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Student ID"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Class"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Section"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"School"}),n.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Attendance Status"})]})}),n.jsx("tbody",{className:"divide-y divide-[#1C1444]/10",children:oe.map(J=>{const X=J.status,xe=mO[X]?.icon||cr,Ne=mO[X]?.color||"bg-[#1C1444] text-white",ge=v.find(pe=>pe._id===J.schoolId)?.name||"Unknown School";return n.jsxs("tr",{className:"hover:bg-[#F37021]/5 transition-all duration-200",children:[n.jsx("td",{className:"px-6 py-4 text-sm font-medium text-[#1C1444]",children:J.date}),n.jsx("td",{className:"px-6 py-4 text-sm font-medium text-[#1C1444]",children:J.rollNo}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-[#F37021]/10 text-[#F37021] text-sm font-semibold rounded-full w-8 h-8 flex items-center justify-center mr-3 transition-transform duration-200 hover:scale-110",children:J.name.split(" ").map(pe=>pe[0]).join("")}),n.jsx("span",{className:"text-[#1C1444]",children:J.name})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-[#F37021]/10 text-[#F37021] rounded-full",children:J.studentId})}),n.jsx("td",{className:"px-6 py-4 text-sm text-[#1C1444]",children:J.classGrade}),n.jsx("td",{className:"px-6 py-4 text-sm text-[#1C1444]",children:J.section}),n.jsx("td",{className:"px-6 py-4 text-sm text-[#1C1444]",children:n.jsx("span",{title:J.schoolId,children:ge})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"flex justify-center",children:n.jsxs("span",{className:`px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 ${Ne} transition-all duration-200 hover:shadow-md`,children:[n.jsx(xe,{className:"w-4 h-4"}),n.jsx("span",{className:"capitalize",children:X})]})})})]},J.id)})})]}),oe.length===0&&d.length>0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(da,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),n.jsx("h3",{className:"text-lg font-semibold text-[#1C1444] mb-2",children:"No records match your filters"}),n.jsx("p",{className:"text-[#1C1444]/80 mb-4",children:"Try adjusting your date, class, section, status, or search criteria"}),n.jsx("button",{onClick:ce,className:"text-[#F37021] hover:text-[#d55f1c] underline font-medium transition-colors duration-200",children:"Clear all filters"})]}),oe.length===0&&d.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(da,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),n.jsx("h3",{className:"text-lg font-semibold text-[#1C1444] mb-2",children:"No attendance records found"}),n.jsx("p",{className:"text-[#1C1444]/80",children:"No attendance data is available"})]})]}),!p&&!u&&K>0&&n.jsxs("div",{className:"mt-8 flex justify-between items-center",children:[n.jsxs("div",{className:"text-sm text-[#1C1444]/80",children:["Showing ",(k-1)*Q+1," to"," ",Math.min(k*Q,K)," of ",K," ","records"]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:()=>te(k-1),disabled:k===1,className:"px-5 py-2 bg-[#1C1444]/10 text-[#1C1444] rounded-lg disabled:opacity-50 hover:bg-[#1C1444] hover:text-white transition-all duration-200",children:"Previous"}),n.jsx("button",{onClick:()=>te(k+1),disabled:k===H,className:"px-5 py-2 bg-[#1C1444]/10 text-[#1C1444] rounded-lg disabled:opacity-50 hover:bg-[#1C1444] hover:text-white transition-all duration-200",children:"Next"})]})]})]})},Exe=()=>{const[t,r]=w.useState("all"),[a,s]=w.useState([]),[i,o]=w.useState([]),[l,c]=w.useState([]),[d,f]=w.useState(""),[u,m]=w.useState(""),[p,g]=w.useState(""),[v,y]=w.useState([]),[b,j]=w.useState(1),[N]=w.useState(10),[S,B]=w.useState(1),[I,F]=w.useState(!1),[O,k]=w.useState(null),[V,Q]=w.useState(!1),H=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];w.useEffect(()=>{It.get("https://vidyaastra.com/api/schools").then(ee=>{ee.data.success&&s(ee.data.data)}).catch(()=>k("Failed to load schools"))},[]),w.useEffect(()=>{if(v.length===0){o([]),c([]),f(""),m("");return}const ee=new Set,le=new Set;v.forEach(se=>{se.timetable.forEach(ve=>{const[_,z]=ve.className.split(" ");ee.add(_),z&&le.add(z)})});const Ae=Array.from(ee).map(se=>({className:se})),ue=Array.from(le).map(se=>({section:se}));o(Ae.sort((se,ve)=>se.className.localeCompare(ve.className))),c(ue.sort((se,ve)=>se.section.localeCompare(ve.section))),f(Ae[0]?.className||""),m(ue[0]?.section||"")},[v]),w.useEffect(()=>{F(!0);const ee={page:b,limit:N};t!=="all"&&(ee.schoolId=t),d&&(ee.className=d),u&&(ee.section=u),It.get("https://vidyaastra.com/api/timetable",{params:ee}).then(le=>{le.data.success?(y(le.data.data),B(le.data.totalPages),k(null)):(y([]),B(1),k("No timetables found"))}).catch(()=>k("Failed to load timetable")).finally(()=>F(!1))},[t,d,u,b,N]);const M=()=>{r("all"),f(""),m(""),g(""),j(1)},K=w.useMemo(()=>{const ee={};return v.forEach(le=>{const Ae=a.find(ue=>ue._id===le.schoolId)?.name||"Unknown School";ee[Ae]||(ee[Ae]={}),le.timetable.filter(ue=>p?ue.day===p:!0).filter(ue=>{if(!u)return!0;const[,se]=ue.className.split(" ");return se===u}).forEach(ue=>{const se=ue.className.split(" ")[0];ee[Ae][se]||(ee[Ae][se]=[]),ee[Ae][se].push(...ue.periods.map(ve=>({id:ve._id||"unknown-id",className:ue.className,day:ue.day,subject:ve.subjectName||"Unknown Subject",teacher:ve.teacherName||"Unknown Teacher",startTime:q(ve.startTime),endTime:q(ve.endTime),type:ve.type||"subject"})))})}),Object.keys(ee).forEach(le=>{Object.keys(ee[le]).forEach(Ae=>{ee[le][Ae].sort((ue,se)=>ue.startTime.localeCompare(se.startTime))})}),ee},[v,p,u,a]);function q(ee){if(!ee||typeof ee!="string")return"00:00";let le=ee.replace(/(AM|PM|am|pm)/gi,"").trim();const[Ae,ue="00"]=le.split(":").map(se=>se.trim());return`${Ae.padStart(2,"0")}:${ue.padStart(2,"0")}`}const re=ee=>{switch(ee){case"break":return"bg-orange-50 text-orange-700";case"lunch":return"bg-green-50 text-green-700";default:return"bg-white text-[#1C1444]"}};return n.jsx("div",{className:"min-h-screen bg-white p-4 md:p-6",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsx("header",{className:"bg-white border-b border-[#1C1444]/10 p-4 md:p-6 shadow-md sticky top-0 z-20",children:n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ea,{className:"w-6 h-6 text-[#F37021] animate-pulse"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-[#1C1444]",children:"Timetable Dashboard"}),n.jsx("p",{className:"text-sm text-[#1C1444]/70",children:"Manage your class schedules with ease"})]})]}),n.jsxs("button",{className:"md:hidden flex items-center px-3 py-1.5 bg-[#F37021] text-white rounded-md text-sm hover:bg-[#d55f1d] transition duration-200",onClick:()=>Q(!V),children:[n.jsx(mo,{className:"w-4 h-4 mr-1"}),"Filters",n.jsx(np,{className:`w-4 h-4 ml-1 transform transition-transform duration-200 ${V?"rotate-180":""}`})]})]}),n.jsxs("div",{className:`flex flex-wrap items-center gap-2 md:gap-3 ${V?"block":"hidden md:flex"} transition-all duration-300`,children:[n.jsxs("div",{className:"flex items-center gap-2 bg-[#1C1444]/5 p-2 rounded-md",children:[n.jsx(mo,{className:"w-4 h-4 text-[#1C1444]"}),n.jsxs("select",{value:t,onChange:ee=>{r(ee.target.value),j(1)},className:"px-3 py-1.5 bg-white border border-[#1C1444]/20 rounded-md text-[#1C1444] text-sm focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition duration-200 hover:bg-[#F37021]/5",children:[n.jsx("option",{value:"all",children:"All Schools"}),a.map(ee=>n.jsx("option",{value:ee._id,children:ee.name},ee._id))]})]}),n.jsxs("select",{value:d,onChange:ee=>{f(ee.target.value),j(1)},className:"px-3 py-1.5 bg-white border border-[#1C1444]/20 rounded-md text-[#1C1444] text-sm focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition duration-200 hover:bg-[#F37021]/5 disabled:opacity-50",disabled:!i.length,children:[n.jsx("option",{value:"",children:"All Classes"}),i.map(ee=>n.jsx("option",{value:ee.className,children:ee.className},ee.className))]}),n.jsxs("select",{value:u,onChange:ee=>{m(ee.target.value),j(1)},className:"px-3 py-1.5 bg-white border border-[#1C1444]/20 rounded-md text-[#1C1444] text-sm focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition duration-200 hover:bg-[#F37021]/5 disabled:opacity-50",disabled:!l.length,children:[n.jsx("option",{value:"",children:"All Sections"}),l.map(ee=>n.jsx("option",{value:ee.section,children:ee.section},ee.section))]}),n.jsxs("select",{value:p,onChange:ee=>g(ee.target.value),className:"px-3 py-1.5 bg-white border border-[#1C1444]/20 rounded-md text-[#1C1444] text-sm focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition duration-200 hover:bg-[#F37021]/5",children:[n.jsx("option",{value:"",children:"All Days"}),H.map(ee=>n.jsx("option",{value:ee,children:ee},ee))]}),n.jsxs("button",{onClick:M,className:"flex items-center px-3 py-1.5 bg-[#F37021] text-white rounded-md text-sm hover:bg-[#d55f1d] transition duration-200",children:[n.jsx(cr,{className:"w-4 h-4 mr-1"}),"Reset"]})]})]})}),n.jsxs("div",{className:"p-4 md:p-6 space-y-8",children:[I&&n.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-md",children:[n.jsx("div",{className:"inline-block w-10 h-10 border-4 border-[#F37021] border-t-transparent rounded-full animate-spin"}),n.jsx("p",{className:"text-[#1C1444] text-base font-medium mt-3",children:"Loading schedules..."})]}),O&&n.jsxs("div",{className:"p-4 bg-white border border-red-200 text-red-600 rounded-xl shadow-md",children:[n.jsx("p",{className:"font-medium",children:O}),n.jsx("p",{className:"text-sm mt-1",children:"Please ensure the backend server is running."})]}),!I&&!O&&n.jsxs("div",{className:"space-y-8",children:[Object.keys(K).length===0?n.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-md",children:[n.jsx(Ea,{className:"w-10 h-10 text-[#1C1444]/30 mx-auto mb-3"}),n.jsx("p",{className:"text-[#1C1444] text-base font-medium",children:"No schedules available"})]}):Object.entries(K).map(([ee,le])=>n.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[n.jsxs("div",{className:"p-4 bg-white border-b border-[#1C1444]/10 flex items-center gap-2",children:[n.jsx(Kn,{className:"w-5 h-5 text-[#F37021]"}),n.jsx("h2",{className:"text-lg font-semibold text-[#1C1444]",children:ee})]}),Object.entries(le).map(([Ae,ue])=>n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-base font-semibold text-[#1C1444] mb-3",children:Ae}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full border border-[#1C1444]/10 rounded-md",children:[n.jsx("thead",{className:"bg-[#1C1444]/5",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Day"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Time"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Subject"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Teacher"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Type"})]})}),n.jsx("tbody",{className:"divide-y divide-[#1C1444]/10",children:ue.length===0?n.jsx("tr",{children:n.jsxs("td",{colSpan:"5",className:"px-4 py-3 text-center text-[#1C1444]/60",children:["No periods scheduled for"," ",p||"this day"]})}):ue.map((se,ve)=>n.jsxs("tr",{className:`${re(se.type)} ${ve%2===0?"bg-white":"bg-[#1C1444]/5"} hover:bg-[#F37021]/10 transition duration-200`,children:[n.jsx("td",{className:"px-4 py-2.5 text-sm text-[#1C1444] font-medium",children:se.day}),n.jsxs("td",{className:"px-4 py-2.5 text-sm text-[#1C1444]",children:[se.startTime," - ",se.endTime]}),n.jsx("td",{className:"px-4 py-2.5 text-sm font-semibold text-[#1C1444]",children:se.subject}),n.jsx("td",{className:"px-4 py-2.5 text-sm text-[#1C1444]",children:se.teacher}),n.jsx("td",{className:"px-4 py-2.5 text-sm capitalize text-[#1C1444]",children:se.type})]},se.id))})]})})]},Ae))]},ee)),S>1&&n.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl shadow-md",children:[n.jsx("button",{onClick:()=>j(ee=>Math.max(1,ee-1)),disabled:b===1,className:"px-4 py-1.5 bg-[#F37021] text-white rounded-md text-sm hover:bg-[#d55f1d] disabled:opacity-50 transition duration-200 transform hover:scale-105",children:"Previous"}),n.jsxs("span",{className:"text-[#1C1444] text-sm font-medium",children:["Page ",b," of ",S]}),n.jsx("button",{onClick:()=>j(ee=>Math.min(S,ee+1)),disabled:b===S,className:"px-4 py-1.5 bg-[#F37021] text-white rounded-md text-sm hover:bg-[#d55f1d] disabled:opacity-50 transition duration-200 transform hover:scale-105",children:"Next"})]})]})]})]})})},Txe="https://vidyaastra.com/api/schools/",Fxe="https://vidyaastra.com/api/teacher/",Ixe="https://vidyaastra.com/api/class/",kxe=()=>{const[t,r]=w.useState("upcoming"),[a,s]=w.useState(""),[i,o]=w.useState("all"),[l,c]=w.useState([]),[d,f]=w.useState(!0),[u,m]=w.useState(null),[p,g]=w.useState(""),[v,y]=w.useState(""),[b,j]=w.useState([]),[N,S]=w.useState({}),[B,I]=w.useState({}),[F,O]=w.useState("all"),[k,V]=w.useState(1),[Q]=w.useState(10),[H,M]=w.useState(1),[K,q]=w.useState(0),[re,ee]=w.useState("date"),[le,Ae]=w.useState("asc"),[ue]=w.useState([{id:1,subject:"English",score:85,totalMarks:100,percentage:85,grade:"A",examDate:"2023-11-15",class:"10-A",teacher:"Ms. Davis",studentsAppeared:43,passRate:89.5},{id:2,subject:"History",score:78,totalMarks:100,percentage:78,grade:"B+",examDate:"2023-11-10",class:"11-A",teacher:"Mr. Brown",studentsAppeared:36,passRate:83.3},{id:3,subject:"Biology",score:92,totalMarks:100,percentage:92,grade:"A+",examDate:"2023-11-05",class:"12-A",teacher:"Dr. Taylor",studentsAppeared:40,passRate:95}]);w.useEffect(()=>{se()},[k]);const se=async()=>{f(!0),m(null);try{const ge=await fetch(`https://vidyaastra.com/api/exams/all-unfiltered?page=${k}&limit=${Q}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!ge.ok)throw new Error(`HTTP error! Status: ${ge.status}`);const pe=await ge.json();if(!pe.success)throw new Error(pe.message||"Failed to fetch exams");const Y=pe.data.flatMap(Qe=>{let rt=Qe.classId?.schoolId||Qe.schoolId||null;return typeof rt=="object"&&rt!==null&&rt._id&&(rt=rt._id),Qe.subjects&&Qe.subjects.length>0?Qe.subjects.map(Te=>({...Qe,subject:Te.subjectName,date:Te.date,time:Te.time,duration:Te.duration,syllabus:Te.syllabus,schoolId:rt||"",id:`${Qe._id}-${Te._id}`})):[{...Qe,subject:Qe.subject||"Unknown",date:Qe.date||"",time:Qe.time||"",duration:Qe.duration||"",syllabus:Qe.syllabus||"",schoolId:rt||"",id:Qe._id}]}),ie=[...new Set(Y.map(Qe=>Qe.classId?._id).filter(Boolean))].map(async Qe=>{try{const Te=await(await fetch(`${Ixe}${Qe}`)).json();return Te.success&&Te.data?{_id:Te.data._id,className:Te.data.className||"Unknown",section:Te.data.section||""}:{_id:Qe,className:"Unknown",section:""}}catch{return{_id:Qe,className:"Unknown",section:""}}}),de=await Promise.all(ie);j(de.filter(Qe=>Qe._id&&Qe.className));const je=[...new Set(Y.map(Qe=>Qe.schoolId).filter(Boolean))],ye={};await Promise.all(je.map(async Qe=>{try{const Te=await(await fetch(`${Txe}${Qe}`)).json();Te.success&&Te.data&&Te.data.name?ye[Qe]=Te.data.name:ye[Qe]="Unknown"}catch{ye[Qe]="Unknown"}})),S(ye);const Ce=[...new Set(Y.map(Qe=>Qe.classId?.classTeacher).filter(Qe=>Qe&&typeof Qe=="string"))],be={};await Promise.all(Ce.map(async Qe=>{try{const Te=await(await fetch(`${Fxe}${Qe}`)).json();Te.success&&Te.data&&Te.data.name?be[Qe]=Te.data.name:be[Qe]="Unknown"}catch{be[Qe]="Unknown"}})),I(be);const Ee=Y.map(Qe=>{const rt=de.find(nt=>nt._id===Qe.classId?._id),Te=rt?`${rt.className}${rt.section?`-${rt.section}`:""}`:"Unknown";return{id:Qe.id,subject:Qe.subject,date:Qe.date,time:Qe.time,duration:Qe.duration,chapters:Qe.syllabus,type:Qe.examType||"Final Exam",class:Te,teacher:be[Qe.classId?.classTeacher]||"Unknown",totalStudents:40,status:Qe.status||"Scheduled",schoolId:Qe.schoolId,schoolName:ye[Qe.schoolId]||"Unknown"}});c(Ee),M(pe.totalPages||1),q(pe.total||0)}catch(ge){m("Error fetching exams: "+ge.message)}finally{f(!1)}};w.useEffect(()=>{y("")},[p]);const ve=[...new Set(b.map(ge=>ge.className).filter(Boolean))].sort(),_=[...new Set(b.filter(ge=>ge.className===p).map(ge=>ge.section).filter(Boolean))].sort(),z=t==="upcoming"?l:ue,oe=[...new Set(l.map(ge=>ge.schoolId).filter(Boolean))].map(ge=>({_id:ge,name:N[ge]||"Unknown"})),ce=F==="all"?z:z.filter(ge=>ge.schoolId===F),me=ce.filter(ge=>{const pe=i==="all"||(t==="upcoming"?ge.type.includes(i):ge.grade===i),Y=[ge.subject||"",ge.class||"",ge.teacher||""].some(ie=>ie.toLowerCase().includes(a.toLowerCase()));let Le=!0;if(p)if(t==="upcoming"){const ie=b.find(de=>`${de.className}${de.section?`-${de.section}`:""}`===ge.class);Le=ie&&ie.className===p&&(!v||ie.section===v)}else{const[ie,de]=ge.class.split("-");Le=ie===p&&(!v||de===v)}return pe&&Y&&Le}),he=me.reduce((ge,pe)=>{const Y=pe.schoolName||"Unknown",Le=pe.class||"Unknown";return ge[Y]||(ge[Y]={}),ge[Y][Le]||(ge[Y][Le]=[]),ge[Y][Le].push(pe),ge},{}),te={};Object.keys(he).sort().forEach(ge=>{te[ge]={},Object.keys(he[ge]).sort().forEach(pe=>{te[ge][pe]=[...he[ge][pe]].sort((Y,Le)=>{let ie=Y[re],de=Le[re];return re==="date"?(ie=new Date(Y.date),de=new Date(Le.date)):typeof ie=="string"&&(ie=ie.toLowerCase(),de=de.toLowerCase()),ie<de?le==="asc"?-1:1:ie>de?le==="asc"?1:-1:0})})});const J=ge=>{re===ge?Ae(le==="asc"?"desc":"asc"):(ee(ge),Ae("asc"))},X=()=>{s(""),o("all"),g(""),y(""),O("all"),V(1)},xe=()=>{if(me.length===0){alert("No data to export");return}let ge=[],pe="";t==="upcoming"?(ge=me.map(ye=>({"School Name":ye.schoolName,Subject:ye.subject,Date:ye.date,Time:ye.time,Duration:ye.duration,Class:ye.class,Type:ye.type,Chapters:ye.chapters,"Total Students":ye.totalStudents,Status:ye.status})),pe=`upcoming_exams_${new Date().toISOString().split("T")[0]}.csv`):(ge=me.map(ye=>({Subject:ye.subject,Score:ye.score,"Total Marks":ye.totalMarks,Percentage:ye.percentage,Grade:ye.grade,"Exam Date":ye.examDate,Class:ye.class,"Students Appeared":ye.studentsAppeared,"Pass Rate":ye.passRate})),pe=`exam_results_${new Date().toISOString().split("T")[0]}.csv`);const Y=Object.keys(ge[0]),Le=[Y.join(","),...ge.map(ye=>Y.map(Ce=>`"${ye[Ce]??""}"`).join(","))].join(`
`),ie=new Blob([Le],{type:"text/csv;charset=utf-8;"}),de=document.createElement("a"),je=URL.createObjectURL(ie);de.setAttribute("href",je),de.setAttribute("download",pe),de.style.visibility="hidden",document.body.appendChild(de),de.click(),document.body.removeChild(de)},Ne=ge=>{ge>=1&&ge<=H&&V(ge)};return n.jsxs("div",{className:"min-h-screen bg-gray-100",children:[n.jsx("div",{className:"bg-white border-b p-4 shadow-sm",children:n.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-black",children:"School Admin Panel"}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{onClick:()=>r("upcoming"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="upcoming"?"bg-[#F37021] text-white":"bg-gray-200 text-black hover:bg-gray-300"}`,children:"Upcoming Exams"}),n.jsx("button",{onClick:()=>r("results"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="results"?"bg-[#F37021] text-white":"bg-gray-200 text-black hover:bg-gray-300"}`,children:"Exam Results"})]})]})}),n.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[d&&t==="upcoming"&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ia,{className:"w-12 h-12 text-[#F37021] mx-auto mb-4 animate-pulse"}),n.jsx("p",{className:"text-black text-lg",children:"Loading exams..."})]}),u&&t==="upcoming"&&n.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-xl",children:[u,n.jsx("p",{className:"text-sm mt-2",children:"Please check if the backend server is running and accessible."})]}),!d&&!u&&n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-black",children:t==="upcoming"?"Upcoming Exams":"Exam Results"}),n.jsxs("button",{onClick:xe,className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg shadow flex items-center space-x-2 transition-colors",title:"Export to CSV",disabled:d,children:[n.jsx(Us,{})," ",n.jsx("span",{children:"Export CSV"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-black mb-2 flex items-center",children:[n.jsx(Kn,{className:"mr-2 text-[#F37021]"}),"Filter by School Name"]}),n.jsxs("select",{value:F,onChange:ge=>O(ge.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-black focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition-colors",disabled:d,children:[n.jsx("option",{value:"all",children:"All Schools"}),oe.map(ge=>n.jsx("option",{value:ge._id,children:ge.name},ge._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Exam Type / Grade"}),n.jsxs("select",{value:i,onChange:ge=>o(ge.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-black focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition-colors",disabled:d,children:[n.jsx("option",{value:"all",children:t==="upcoming"?"All Exam Types":"All Grades"}),t==="upcoming"?["Midterm","Final Exam","Unit Test","Quiz","Practical"].map(ge=>n.jsx("option",{value:ge,children:ge},ge)):["A+","A","B+","B","C+","C","F"].map(ge=>n.jsxs("option",{value:ge,children:["Grade ",ge]},ge))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Class"}),n.jsxs("select",{value:p,onChange:ge=>g(ge.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-black focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition-colors",disabled:d,children:[n.jsx("option",{value:"",children:"All Classes"}),ve.map(ge=>n.jsx("option",{value:ge,children:ge},ge))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Section"}),n.jsxs("select",{value:v,onChange:ge=>y(ge.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-black focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition-colors disabled:opacity-50",disabled:d||p===""||_.length===0,children:[n.jsx("option",{value:"",children:"All Sections"}),_.map(ge=>n.jsx("option",{value:ge,children:ge},ge))]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Search"}),n.jsx(Sa,{className:"absolute left-3 top-10 text-[#F37021]"}),n.jsx("input",{type:"text",placeholder:"Search by subject, class, or teacher...",value:a,onChange:ge=>s(ge.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg w-full text-black focus:outline-none focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition-colors",disabled:d})]})]}),n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{className:"text-sm text-black",children:["Showing ",me.length," of ",K," records"]}),n.jsx("button",{onClick:X,className:"px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-100 text-black transition-colors",disabled:d,children:"Clear All Filters"})]})})]}),!d&&!u&&n.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:n.jsxs("table",{className:"w-full table-auto min-w-max",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{className:"text-left text-sm font-semibold text-black",children:[n.jsxs("th",{onClick:()=>J("subject"),className:"p-4 cursor-pointer hover:bg-gray-100 transition-colors",children:["Subject"," ",re==="subject"&&n.jsx("span",{className:"ml-1",children:le==="asc"?"":""})]}),n.jsxs("th",{onClick:()=>J("date"),className:"p-4 cursor-pointer hover:bg-gray-100 transition-colors",children:[t==="upcoming"?"Date/Time":"Score"," ",re==="date"&&n.jsx("span",{className:"ml-1",children:le==="asc"?"":""})]}),n.jsxs("th",{onClick:()=>J("type"),className:"p-4 cursor-pointer hover:bg-gray-100 transition-colors",children:[t==="upcoming"?"Type":"Grade"," ",re==="type"&&n.jsx("span",{className:"ml-1",children:le==="asc"?"":""})]}),n.jsx("th",{className:"p-4",children:"Details"})]})}),n.jsxs("tbody",{className:"divide-y divide-gray-200",children:[Object.keys(te).length===0&&ce.length>0&&n.jsx("tr",{children:n.jsxs("td",{colSpan:"4",className:"p-8 text-center text-black",children:["No ",t==="upcoming"?"exams":"results"," ","match your current filters",n.jsx("div",{className:"mt-4",children:n.jsx("button",{onClick:X,className:"text-[#F37021] hover:text-[#d65f1c] underline font-medium",children:"Clear all filters"})})]})}),Object.keys(te).length===0&&ce.length===0&&n.jsx("tr",{children:n.jsxs("td",{colSpan:"4",className:"p-8 text-center text-black",children:["No ",t==="upcoming"?"exams":"results"," ","found"]})}),Object.keys(te).map(ge=>n.jsxs($r.Fragment,{children:[n.jsx("tr",{children:n.jsx("td",{colSpan:"4",className:"bg-[#F37021]/10 p-4 font-semibold text-black text-lg",children:ge})}),Object.keys(te[ge]).map(pe=>n.jsxs($r.Fragment,{children:[n.jsx("tr",{children:n.jsx("td",{colSpan:"4",className:"bg-gray-50 p-4 font-medium text-black",children:pe})}),te[ge][pe].map(Y=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"p-4 font-medium text-black",children:Y.subject}),n.jsx("td",{className:"p-4 text-black",children:t==="upcoming"?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ia,{className:"text-[#F37021]"}),n.jsx("span",{children:Y.date}),n.jsx(Ea,{className:"text-[#F37021]"}),n.jsx("span",{children:Y.time})]}):n.jsxs("span",{children:[Y.score,"/",Y.totalMarks," (",Y.percentage.toFixed(1),"%)"]})}),n.jsx("td",{className:"p-4",children:t==="upcoming"?n.jsx("span",{className:"inline-block bg-[#F37021]/10 text-[#F37021] px-3 py-1 rounded-full text-sm font-medium",children:Y.type}):n.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium text-white ${Y.grade==="A+"?"bg-green-600":Y.grade==="A"?"bg-green-500":Y.grade==="B+"?"bg-[#F37021]":"bg-yellow-500"}`,children:Y.grade})}),n.jsx("td",{className:"p-4",children:t==="upcoming"?n.jsxs("div",{className:"text-sm text-black space-y-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ja,{className:"mr-2 text-[#F37021]"}),Y.chapters]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ea,{className:"mr-2 text-[#F37021]"}),"Duration: ",Y.duration]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(x2,{className:"mr-2 text-[#F37021]"}),"Students: ",Y.totalStudents]})]}):n.jsxs("div",{className:"text-sm text-black space-y-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(ia,{className:"mr-2 text-[#F37021]"}),"Exam Date: ",Y.examDate]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(x2,{className:"mr-2 text-[#F37021]"}),"Pass Rate: ",Y.passRate.toFixed(1),"%"]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Us,{className:"mr-2 text-[#F37021]"}),"Appeared: ",Y.studentsAppeared]})]})})]},Y.id))]},`${ge}-${pe}`))]},ge))]})]})}),!d&&!u&&t==="upcoming"&&K>0&&n.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[n.jsxs("div",{className:"text-sm text-black",children:["Showing ",(k-1)*Q+1," to"," ",Math.min(k*Q,K)," of ",K," ","records"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>Ne(k-1),disabled:k===1,className:"px-4 py-2 bg-gray-200 text-black rounded-lg disabled:opacity-50 hover:bg-gray-300 transition-colors",children:"Previous"}),n.jsx("button",{onClick:()=>Ne(k+1),disabled:k===H,className:"px-4 py-2 bg-gray-200 text-black rounded-lg disabled:opacity-50 hover:bg-gray-300 transition-colors",children:"Next"})]})]})]})]})},_xe="https://vidyaastra.com/api/assignments/all-unfiltered",Pxe=()=>{const[t,r]=w.useState(""),[a,s]=w.useState("All"),[i,o]=w.useState("All"),[l,c]=w.useState("All"),[d,f]=w.useState([]),[u,m]=w.useState(!0),[p,g]=w.useState(""),[v,y]=w.useState(1),[b]=w.useState(10),[j,N]=w.useState(1),[S,B]=w.useState(0),I=["Mathematics","Physics","Chemistry","English","History","Biology","Computer Science"],F=["10A","10B","9A","9B","8A","8B"];w.useEffect(()=>{(async()=>{m(!0);try{const ee=localStorage.getItem("token"),le=await fetch(`${_xe}?page=${v}&limit=${b}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ee}`}});if(!le.ok)throw new Error(`HTTP error! Status: ${le.status}`);const Ae=await le.json();if(!Ae.success)throw new Error(Ae.message||"Failed to fetch assignments");f(Ae.data||[]),N(Ae.pagination.totalPages||1),B(Ae.pagination.totalRecords||0)}catch(ee){g("Error fetching assignments: "+ee.message),console.error("Fetch Error:",ee)}finally{m(!1)}})()},[v]);const O=d.filter(re=>{const ee=re.title.toLowerCase().includes(t.toLowerCase())||re.subject.toLowerCase().includes(t.toLowerCase())||re.studentName.toLowerCase().includes(t.toLowerCase())||re.rollNo.toLowerCase().includes(t.toLowerCase())||re.description.toLowerCase().includes(t.toLowerCase()),le=a==="All"||re.subject===a,Ae=i==="All"||re.status===i,ue=l==="All"||re.class===l;return ee&&le&&Ae&&ue}),k=re=>{window.confirm("Are you sure you want to delete this assignment?")&&f(d.filter(ee=>ee.id!==re))},V=re=>{switch(re.toUpperCase()){case"HIGH":return"bg-red-100 text-red-800";case"MEDIUM":return"bg-orange-100 text-orange-800";case"LOW":return"bg-green-100 text-green-800";case"A":return"bg-green-100 text-green-800";case"B+":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},Q=re=>re==="submitted"?n.jsx(ji,{className:"w-4 h-4 text-green-600"}):n.jsx(Ea,{className:"w-4 h-4 text-orange-600"}),H=re=>new Date(re).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),M=d.filter(re=>re.status==="pending").length,K=d.filter(re=>re.status==="submitted").length,q=re=>{re>=1&&re<=j&&y(re)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Student Assignment Management"}),n.jsx("p",{className:"text-gray-600",children:"Manage assignments with student details"})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search assignments, students...",value:t,onChange:re=>r(re.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:u})]}),n.jsxs("select",{value:l,onChange:re=>c(re.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:u,children:[n.jsx("option",{value:"All",children:"All Classes"}),F.map(re=>n.jsx("option",{value:re,children:re},re))]}),n.jsxs("select",{value:a,onChange:re=>s(re.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:u,children:[n.jsx("option",{value:"All",children:"All Subjects"}),I.map(re=>n.jsx("option",{value:re,children:re},re))]}),n.jsxs("select",{value:i,onChange:re=>o(re.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:u,children:[n.jsx("option",{value:"All",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"submitted",children:"Submitted"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Pending (",M,")"]}),n.jsxs("div",{className:"bg-green-100 text-green-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Submitted (",K,")"]})]})]})]}),u&&n.jsxs("div",{className:"p-6 text-center",children:[n.jsx(Ea,{className:"w-12 h-12 text-gray-400 mx-auto mb-4 animate-pulse"}),n.jsx("p",{className:"text-gray-500 text-lg",children:"Loading assignments..."})]}),p&&n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"bg-red-100 text-red-700 rounded-lg p-4 flex items-center",children:[n.jsx(cs,{className:"w-5 h-5 mr-2"}),p]})}),!u&&!p&&n.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-max",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Student Info"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Roll No"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Class"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Subject"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Due Date"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority/Grade"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),n.jsxs("tbody",{className:"divide-y divide-gray-200",children:[O.map(re=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ts,{className:"w-5 h-5 text-gray-400 mr-2"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:re.studentName}),n.jsx("div",{className:"text-xs text-gray-500",children:"Student"})]})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:"text-sm font-mono text-gray-900 bg-gray-100 px-2 py-1 rounded",children:re.rollNo})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:re.class})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ja,{className:"w-4 h-4 text-blue-600 mr-2"}),n.jsx("span",{className:"text-sm font-medium text-blue-600",children:re.subject})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"max-w-xs",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:re.title}),n.jsx("div",{className:"text-xs text-gray-500 mt-1 truncate",children:re.description})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ia,{className:"w-4 h-4 text-gray-400 mr-2"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-900",children:H(re.dueDate)}),re.submittedDate&&n.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Submitted: ",H(re.submittedDate)]})]})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${V(re.priority)}`,children:re.status==="submitted"&&re.grade?re.grade:re.priority})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[Q(re.status),n.jsx("span",{className:`ml-2 text-sm font-medium capitalize ${re.status==="submitted"?"text-green-600":"text-orange-600"}`,children:re.status})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:n.jsx(Ko,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>k(re.id),className:"text-red-600 hover:text-red-800",children:n.jsx(cs,{className:"w-5 h-5"})})]})})]},re.id)),O.length===0&&d.length>0&&n.jsx("tr",{children:n.jsx("td",{colSpan:"9",className:"px-4 py-8 text-center text-gray-500",children:"No assignments match your current filters"})}),O.length===0&&d.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:"9",className:"px-4 py-8 text-center text-gray-500",children:"No assignments found"})})]})]})})}),!u&&!p&&S>0&&n.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(v-1)*b+1," to"," ",Math.min(v*b,S)," of ",S," ","records"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>q(v-1),disabled:v===1,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg disabled:opacity-50 hover:bg-gray-300",children:"Previous"}),n.jsx("button",{onClick:()=>q(v+1),disabled:v===j,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg disabled:opacity-50 hover:bg-gray-300",children:"Next"})]})]})]})},Oxe=()=>{const[t,r]=w.useState(!1),[a,s]=w.useState(null),[i,o]=w.useState(!1),[l,c]=w.useState(null),[d,f]=w.useState([]),[u,m]=w.useState(null),[p,g]=w.useState({name:"",students:"",price:"",duration:"Monthly",features:"",color:"blue"}),v=[{value:"blue",label:"Blue"},{value:"purple",label:"Purple"},{value:"green",label:"Green"},{value:"orange",label:"Orange"},{value:"red",label:"Red"}],y=["Monthly","Quarterly","Yearly"];w.useEffect(()=>{b()},[]);const b=async()=>{try{const H=await(await fetch("https://vidyaastra.com/api/packages",{method:"GET",headers:{"Content-Type":"application/json"}})).json();H.success?(f(H.data),m(null)):m("Failed to fetch packages")}catch(Q){m("Error fetching packages"),console.error(Q)}},j=Q=>{const H={blue:"from-blue-500 to-blue-600 border-blue-200",purple:"from-purple-500 to-purple-600 border-purple-200",green:"from-green-500 to-green-600 border-green-200",orange:"from-orange-500 to-orange-600 border-orange-200",red:"from-red-500 to-red-600 border-red-200"};return H[Q]||H.blue},N=Q=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(Q),S=(Q=null)=>{s(Q),g(Q?{name:Q.name,students:Q.students,price:Q.price,duration:Q.duration,features:Q.features.join(", "),color:Q.color}:{name:"",students:"",price:"",duration:"Monthly",features:"",color:"blue"}),r(!0)},B=()=>{r(!1),s(null),m(null)},I=Q=>{c(Q),o(!0)},F=()=>{o(!1),c(null),m(null)},O=Q=>{const{name:H,value:M}=Q.target;g(K=>({...K,[H]:M}))},k=async Q=>{Q.preventDefault(),m(null);const H=p.features.split(",").map(K=>K.trim()).filter(K=>K),M={name:p.name,students:Number(p.students),price:Number(p.price),duration:p.duration,features:H,color:p.color};try{let K;a?K=await fetch(`https://vidyaastra.com/api/packages/${a._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)}):K=await fetch("https://vidyaastra.com/api/packages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)});const q=await K.json();q.success?(await b(),B()):m(q.message||"Failed to save package")}catch(K){m("Error saving package"),console.error(K)}},V=async()=>{if(l)try{const H=await(await fetch(`https://vidyaastra.com/api/packages/${l._id}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).json();H.success?(await b(),F()):m(H.message||"Failed to delete package")}catch(Q){m("Error deleting package"),console.error(Q)}};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-b-3xl shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ul,{className:"w-6 h-6"}),n.jsx("h1",{className:"text-2xl font-bold",children:"School Packages"})]}),n.jsxs("button",{onClick:()=>S(),className:"flex items-center space-x-2 bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-xl transition-all",children:[n.jsx(Fs,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Package"})]})]}),n.jsx("p",{className:"text-indigo-100 mt-2",children:"Manage school subscription packages"})]}),u&&n.jsx("div",{className:"p-4 mx-6 mt-4 bg-red-100 text-red-700 rounded-xl",children:u}),n.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(Q=>n.jsxs("div",{className:`bg-white rounded-2xl p-6 shadow-sm border-2 ${j(Q.color).split(" ")[2]} hover:shadow-lg transition-all`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:Q.name}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>S(Q),className:"p-1 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Edit package",children:n.jsx(Ao,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>I(Q),className:"p-1 text-red-600 hover:bg-red-50 rounded-lg",title:"Delete package",children:n.jsx(cs,{className:"w-4 h-4"})})]})]}),n.jsx("div",{className:`bg-gradient-to-r ${j(Q.color).split(" ").slice(0,2).join(" ")} text-white rounded-xl p-4 mb-4`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(da,{className:"w-5 h-5"}),n.jsxs("span",{className:"font-semibold",children:[Q.students," Students"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl font-bold",children:N(Q.price)}),n.jsxs("div",{className:"text-sm opacity-90",children:["/",Q.duration]})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Features:"}),Q.features.map((H,M)=>n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),n.jsx("span",{children:H})]},M))]})]},Q._id))}),t&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ul,{className:"w-6 h-6 text-indigo-600"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:a?"Edit Package":"Add New Package"})]}),n.jsx("button",{onClick:B,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:n.jsx(cr,{className:"w-5 h-5 text-gray-500"})})]}),n.jsxs("form",{onSubmit:k,className:"p-6 space-y-6",children:[u&&n.jsx("div",{className:"p-4 bg-red-100 text-red-700 rounded-xl",children:u}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Package Name"}),n.jsx("input",{type:"text",name:"name",value:p.name,onChange:O,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Enter package name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),n.jsx("select",{name:"color",value:p.color,onChange:O,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",children:v.map(Q=>n.jsx("option",{value:Q.value,children:Q.label},Q.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Students"}),n.jsx("input",{type:"number",name:"students",value:p.students,onChange:O,required:!0,min:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Enter max students"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price"}),n.jsx("input",{type:"number",name:"price",value:p.price,onChange:O,required:!0,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Enter price"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration"}),n.jsx("select",{name:"duration",value:p.duration,onChange:O,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",children:y.map(Q=>n.jsx("option",{value:Q,children:Q},Q))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Features (comma separated)"}),n.jsx("textarea",{name:"features",value:p.features,onChange:O,required:!0,rows:"3",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Feature 1, Feature 2, Feature 3"})]}),n.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:B,className:"flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"flex-1 py-3 px-6 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all",children:a?"Update Package":"Add Package"})]})]})]})}),i&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Confirm Deletion"}),n.jsx("button",{onClick:F,className:"p-1 hover:bg-gray-100 rounded-full",children:n.jsx(cr,{className:"w-5 h-5 text-gray-500"})})]}),n.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete the "',l?.name,'" package? This action cannot be undone.']}),u&&n.jsx("div",{className:"p-4 bg-red-100 text-red-700 rounded-xl mb-4",children:u}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{onClick:F,className:"flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:V,className:"flex-1 py-3 px-6 bg-red-600 text-white rounded-xl font-semibold hover:bg-red-700 transition-colors",children:"Delete"})]})]})})]})};/*!
 * Color Thief v2.0
 * by Lokesh Dhakar - http://www.lokeshdhakar.com
 *
 * Thanks
 * ------
 * Nick Rabinowitz - For creating quantize.js.
 * John Schulz - For clean up and optimization. @JFSIII
 * Nathan Spady - For adding drag and drop support to the demo page.
 *
 * License
 * -------
 * Copyright 2011, 2015 Lokesh Dhakar
 * Released under the MIT license
 * https://raw.githubusercontent.com/lokesh/color-thief/master/LICENSE
 *
 */var a5,pO;function Dxe(){if(pO)return a5;pO=1;var t=function(i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.width=this.canvas.width=i.width,this.height=this.canvas.height=i.height,this.context.drawImage(i,0,0,this.width,this.height)};t.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},t.prototype.update=function(i){this.context.putImageData(i,0,0)},t.prototype.getPixelCount=function(){return this.width*this.height},t.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},t.prototype.removeCanvas=function(){this.canvas.parentNode.removeChild(this.canvas)};var r=function(){};/*!
* quantize.js Copyright 2008 Nick Rabinowitz.
* Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php
*//*!
 * Block below copied from Protovis: http://mbostock.github.com/protovis/
 * Copyright 2010 Stanford Visualization Group
 * Licensed under the BSD License: http://www.opensource.org/licenses/bsd-license.php
 */if(r.prototype.getColor=function(i,o){var l=this.getPalette(i,5,o),c=l[0];return c},r.prototype.getPalette=function(i,o,l){typeof o>"u"&&(o=10),(typeof l>"u"||1>l)&&(l=10);for(var c,d,f,u,m,p=new t(i),g=p.getImageData(),v=g.data,y=p.getPixelCount(),b=[],j=0;y>j;j+=l)c=4*j,d=v[c+0],f=v[c+1],u=v[c+2],m=v[c+3],m>=125&&(d>250&&f>250&&u>250||b.push([d,f,u]));var N=s.quantize(b,o),S=N?N.palette():null;return p.removeCanvas(),S},!a)var a={map:function(i,o){var l={};return o?i.map(function(c,d){return l.index=d,o.call(l,c)}):i.slice()},naturalOrder:function(i,o){return o>i?-1:i>o?1:0},sum:function(i,o){var l={};return i.reduce(o?function(c,d,f){return l.index=f,c+o.call(l,d)}:function(c,d){return c+d},0)},max:function(i,o){return Math.max.apply(null,o?a.map(i,o):i)}};var s=function(){function i(b,j,N){return(b<<2*p)+(j<<p)+N}function o(b){function j(){N.sort(b),S=!0}var N=[],S=!1;return{push:function(B){N.push(B),S=!1},peek:function(B){return S||j(),B===void 0&&(B=N.length-1),N[B]},pop:function(){return S||j(),N.pop()},size:function(){return N.length},map:function(B){return N.map(B)},debug:function(){return S||j(),N}}}function l(b,j,N,S,B,I,F){var O=this;O.r1=b,O.r2=j,O.g1=N,O.g2=S,O.b1=B,O.b2=I,O.histo=F}function c(){this.vboxes=new o(function(b,j){return a.naturalOrder(b.vbox.count()*b.vbox.volume(),j.vbox.count()*j.vbox.volume())})}function d(b){var j,N,S,B,I=1<<3*p,F=new Array(I);return b.forEach(function(O){N=O[0]>>g,S=O[1]>>g,B=O[2]>>g,j=i(N,S,B),F[j]=(F[j]||0)+1}),F}function f(b,j){var N,S,B,I=1e6,F=0,O=1e6,k=0,V=1e6,Q=0;return b.forEach(function(H){N=H[0]>>g,S=H[1]>>g,B=H[2]>>g,I>N?I=N:N>F&&(F=N),O>S?O=S:S>k&&(k=S),V>B?V=B:B>Q&&(Q=B)}),new l(I,F,O,k,V,Q,j)}function u(b,j){function N(re){var ee,le,Ae,ue,se,ve=re+"1",_=re+"2",z=0;for(O=j[ve];O<=j[_];O++)if(K[O]>M/2){for(Ae=j.copy(),ue=j.copy(),ee=O-j[ve],le=j[_]-O,se=le>=ee?Math.min(j[_]-1,~~(O+le/2)):Math.max(j[ve],~~(O-1-ee/2));!K[se];)se++;for(z=q[se];!z&&K[se-1];)z=q[--se];return Ae[_]=se,ue[ve]=Ae[_]+1,[Ae,ue]}}if(j.count()){var S=j.r2-j.r1+1,B=j.g2-j.g1+1,I=j.b2-j.b1+1,F=a.max([S,B,I]);if(j.count()==1)return[j.copy()];var O,k,V,Q,H,M=0,K=[],q=[];if(F==S)for(O=j.r1;O<=j.r2;O++){for(Q=0,k=j.g1;k<=j.g2;k++)for(V=j.b1;V<=j.b2;V++)H=i(O,k,V),Q+=b[H]||0;M+=Q,K[O]=M}else if(F==B)for(O=j.g1;O<=j.g2;O++){for(Q=0,k=j.r1;k<=j.r2;k++)for(V=j.b1;V<=j.b2;V++)H=i(k,O,V),Q+=b[H]||0;M+=Q,K[O]=M}else for(O=j.b1;O<=j.b2;O++){for(Q=0,k=j.r1;k<=j.r2;k++)for(V=j.g1;V<=j.g2;V++)H=i(k,V,O),Q+=b[H]||0;M+=Q,K[O]=M}return K.forEach(function(re,ee){q[ee]=M-re}),N(F==S?"r":F==B?"g":"b")}}function m(b,j){function N(k,V){for(var Q,H=1,M=0;v>M;)if(Q=k.pop(),Q.count()){var K=u(S,Q),q=K[0],re=K[1];if(!q||(k.push(q),re&&(k.push(re),H++),H>=V)||M++>v)return}else k.push(Q),M++}if(!b.length||2>j||j>256)return!1;var S=d(b);S.forEach(function(){});var B=f(b,S),I=new o(function(k,V){return a.naturalOrder(k.count(),V.count())});I.push(B),N(I,y*j);for(var F=new o(function(k,V){return a.naturalOrder(k.count()*k.volume(),V.count()*V.volume())});I.size();)F.push(I.pop());N(F,j-F.size());for(var O=new c;F.size();)O.push(F.pop());return O}var p=5,g=8-p,v=1e3,y=.75;return l.prototype={volume:function(b){var j=this;return(!j._volume||b)&&(j._volume=(j.r2-j.r1+1)*(j.g2-j.g1+1)*(j.b2-j.b1+1)),j._volume},count:function(b){var j=this,N=j.histo;if(!j._count_set||b){var S,B,I,F=0;for(S=j.r1;S<=j.r2;S++)for(B=j.g1;B<=j.g2;B++)for(I=j.b1;I<=j.b2;I++)index=i(S,B,I),F+=N[index]||0;j._count=F,j._count_set=!0}return j._count},copy:function(){var b=this;return new l(b.r1,b.r2,b.g1,b.g2,b.b1,b.b2,b.histo)},avg:function(b){var j=this,N=j.histo;if(!j._avg||b){var S,B,I,F,O,k=0,V=1<<8-p,Q=0,H=0,M=0;for(B=j.r1;B<=j.r2;B++)for(I=j.g1;I<=j.g2;I++)for(F=j.b1;F<=j.b2;F++)O=i(B,I,F),S=N[O]||0,k+=S,Q+=S*(B+.5)*V,H+=S*(I+.5)*V,M+=S*(F+.5)*V;k?j._avg=[~~(Q/k),~~(H/k),~~(M/k)]:j._avg=[~~(V*(j.r1+j.r2+1)/2),~~(V*(j.g1+j.g2+1)/2),~~(V*(j.b1+j.b2+1)/2)]}return j._avg},contains:function(b){var j=this,N=b[0]>>g;return gval=b[1]>>g,bval=b[2]>>g,N>=j.r1&&N<=j.r2&&gval>=j.g1&&gval<=j.g2&&bval>=j.b1&&bval<=j.b2}},c.prototype={push:function(b){this.vboxes.push({vbox:b,color:b.avg()})},palette:function(){return this.vboxes.map(function(b){return b.color})},size:function(){return this.vboxes.size()},map:function(b){for(var j=this.vboxes,N=0;N<j.size();N++)if(j.peek(N).vbox.contains(b))return j.peek(N).color;return this.nearest(b)},nearest:function(b){for(var j,N,S,B=this.vboxes,I=0;I<B.size();I++)N=Math.sqrt(Math.pow(b[0]-B.peek(I).color[0],2)+Math.pow(b[1]-B.peek(I).color[1],2)+Math.pow(b[2]-B.peek(I).color[2],2)),(j>N||j===void 0)&&(j=N,S=B.peek(I).color);return S},forcebw:function(){var b=this.vboxes;b.sort(function(B,I){return a.naturalOrder(a.sum(B.color),a.sum(I.color))});var j=b[0].color;j[0]<5&&j[1]<5&&j[2]<5&&(b[0].color=[0,0,0]);var N=b.length-1,S=b[N].color;S[0]>251&&S[1]>251&&S[2]>251&&(b[N].color=[255,255,255])}},{quantize:m}}();return a5=r,a5}var Lxe=Dxe();const Mxe=Tc(Lxe);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var ow={};ow.version="0.18.5";var FH=1252,Uxe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],IH=function(t){Uxe.indexOf(t)!=-1&&(FH=t)};function Rxe(){IH(1252)}var Sy=function(t){IH(t)};function Qxe(){Sy(1200),Rxe()}var Eb=function(r){return String.fromCharCode(r)},gO=function(r){return String.fromCharCode(r)},lw,tm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Cy(t){for(var r="",a=0,s=0,i=0,o=0,l=0,c=0,d=0,f=0;f<t.length;)a=t.charCodeAt(f++),o=a>>2,s=t.charCodeAt(f++),l=(a&3)<<4|s>>4,i=t.charCodeAt(f++),c=(s&15)<<2|i>>6,d=i&63,isNaN(s)?c=d=64:isNaN(i)&&(d=64),r+=tm.charAt(o)+tm.charAt(l)+tm.charAt(c)+tm.charAt(d);return r}function zA(t){var r="",a=0,s=0,i=0,o=0,l=0,c=0,d=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<t.length;)o=tm.indexOf(t.charAt(f++)),l=tm.indexOf(t.charAt(f++)),a=o<<2|l>>4,r+=String.fromCharCode(a),c=tm.indexOf(t.charAt(f++)),s=(l&15)<<4|c>>2,c!==64&&(r+=String.fromCharCode(s)),d=tm.indexOf(t.charAt(f++)),i=(c&3)<<6|d,d!==64&&(r+=String.fromCharCode(i));return r}var ns=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),rh=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(r,a){return a?new Buffer(r,a):new Buffer(r)}:Buffer.from.bind(Buffer)}return function(){}}();function Z0(t){return ns?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function xO(t){return ns?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var gu=function(r){return ns?rh(r,"binary"):r.split("").map(function(a){return a.charCodeAt(0)&255})};function D4(t){if(typeof ArrayBuffer>"u")return gu(t);for(var r=new ArrayBuffer(t.length),a=new Uint8Array(r),s=0;s!=t.length;++s)a[s]=t.charCodeAt(s)&255;return r}function lv(t){if(Array.isArray(t))return t.map(function(s){return String.fromCharCode(s)}).join("");for(var r=[],a=0;a<t.length;++a)r[a]=String.fromCharCode(t[a]);return r.join("")}function Hxe(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var uo=ns?function(t){return Buffer.concat(t.map(function(r){return Buffer.isBuffer(r)?r:rh(r)}))}:function(t){if(typeof Uint8Array<"u"){var r=0,a=0;for(r=0;r<t.length;++r)a+=t[r].length;var s=new Uint8Array(a),i=0;for(r=0,a=0;r<t.length;a+=i,++r)if(i=t[r].length,t[r]instanceof Uint8Array)s.set(t[r],a);else{if(typeof t[r]=="string")throw"wtf";s.set(new Uint8Array(t[r]),a)}return s}return[].concat.apply([],t.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))};function $xe(t){for(var r=[],a=0,s=t.length+250,i=Z0(t.length+255),o=0;o<t.length;++o){var l=t.charCodeAt(o);if(l<128)i[a++]=l;else if(l<2048)i[a++]=192|l>>6&31,i[a++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var c=t.charCodeAt(++o)&1023;i[a++]=240|l>>8&7,i[a++]=128|l>>2&63,i[a++]=128|c>>6&15|(l&3)<<4,i[a++]=128|c&63}else i[a++]=224|l>>12&15,i[a++]=128|l>>6&63,i[a++]=128|l&63;a>s&&(r.push(i.slice(0,a)),a=0,i=Z0(65535),s=65530)}return r.push(i.slice(0,a)),uo(r)}var Q1=/\u0000/g,Tb=/[\u0001-\u0006]/g;function Sg(t){for(var r="",a=t.length-1;a>=0;)r+=t.charAt(a--);return r}function xu(t,r){var a=""+t;return a.length>=r?a:On("0",r-a.length)+a}function S6(t,r){var a=""+t;return a.length>=r?a:On(" ",r-a.length)+a}function cw(t,r){var a=""+t;return a.length>=r?a:a+On(" ",r-a.length)}function zxe(t,r){var a=""+Math.round(t);return a.length>=r?a:On("0",r-a.length)+a}function Vxe(t,r){var a=""+t;return a.length>=r?a:On("0",r-a.length)+a}var yO=Math.pow(2,32);function ag(t,r){if(t>yO||t<-yO)return zxe(t,r);var a=Math.round(t);return Vxe(a,r)}function dw(t,r){return r=r||0,t.length>=7+r&&(t.charCodeAt(r)|32)===103&&(t.charCodeAt(r+1)|32)===101&&(t.charCodeAt(r+2)|32)===110&&(t.charCodeAt(r+3)|32)===101&&(t.charCodeAt(r+4)|32)===114&&(t.charCodeAt(r+5)|32)===97&&(t.charCodeAt(r+6)|32)===108}var vO=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],s5=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Kxe(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Ln={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},bO={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Gxe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function uw(t,r,a){for(var s=t<0?-1:1,i=t*s,o=0,l=1,c=0,d=1,f=0,u=0,m=Math.floor(i);f<r&&(m=Math.floor(i),c=m*l+o,u=m*f+d,!(i-m<5e-8));)i=1/(i-m),o=l,l=c,d=f,f=u;if(u>r&&(f>r?(u=d,c=o):(u=f,c=l)),!a)return[0,s*c,u];var p=Math.floor(s*c/u);return[p,s*c-p*u,u]}function Fb(t,r,a){if(t>2958465||t<0)return null;var s=t|0,i=Math.floor(86400*(t-s)),o=0,l=[],c={D:s,T:i,u:86400*(t-s)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),r&&r.date1904&&(s+=1462),c.u>.9999&&(c.u=0,++i==86400&&(c.T=i=0,++s,++c.D)),s===60)l=a?[1317,10,29]:[1900,2,29],o=3;else if(s===0)l=a?[1317,8,29]:[1900,1,0],o=6;else{s>60&&--s;var d=new Date(1900,0,1);d.setDate(d.getDate()+s-1),l=[d.getFullYear(),d.getMonth()+1,d.getDate()],o=d.getDay(),s<60&&(o=(o+6)%7),a&&(o=e1e(d,l))}return c.y=l[0],c.m=l[1],c.d=l[2],c.S=i%60,i=Math.floor(i/60),c.M=i%60,i=Math.floor(i/60),c.H=i,c.q=o,c}var kH=new Date(1899,11,31,0,0,0),Wxe=kH.getTime(),qxe=new Date(1900,2,1,0,0,0);function _H(t,r){var a=t.getTime();return r?a-=1461*24*60*60*1e3:t>=qxe&&(a+=1440*60*1e3),(a-(Wxe+(t.getTimezoneOffset()-kH.getTimezoneOffset())*6e4))/(1440*60*1e3)}function C6(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Yxe(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Xxe(t){var r=t<0?12:11,a=C6(t.toFixed(12));return a.length<=r||(a=t.toPrecision(10),a.length<=r)?a:t.toExponential(5)}function Jxe(t){var r=C6(t.toFixed(11));return r.length>(t<0?12:11)||r==="0"||r==="-0"?t.toPrecision(6):r}function Zxe(t){var r=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),a;return r>=-4&&r<=-1?a=t.toPrecision(10+r):Math.abs(r)<=9?a=Xxe(t):r===10?a=t.toFixed(10).substr(0,12):a=Jxe(t),C6(Yxe(a.toUpperCase()))}function m3(t,r){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Zxe(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return xm(14,_H(t,r&&r.date1904),r)}throw new Error("unsupported value in General format: "+t)}function e1e(t,r){r[0]-=581;var a=t.getDay();return t<60&&(a=(a+6)%7),a}function t1e(t,r,a,s){var i="",o=0,l=0,c=a.y,d,f=0;switch(t){case 98:c=a.y+543;case 121:switch(r.length){case 1:case 2:d=c%100,f=2;break;default:d=c%1e4,f=4;break}break;case 109:switch(r.length){case 1:case 2:d=a.m,f=r.length;break;case 3:return s5[a.m-1][1];case 5:return s5[a.m-1][0];default:return s5[a.m-1][2]}break;case 100:switch(r.length){case 1:case 2:d=a.d,f=r.length;break;case 3:return vO[a.q][0];default:return vO[a.q][1]}break;case 104:switch(r.length){case 1:case 2:d=1+(a.H+11)%12,f=r.length;break;default:throw"bad hour format: "+r}break;case 72:switch(r.length){case 1:case 2:d=a.H,f=r.length;break;default:throw"bad hour format: "+r}break;case 77:switch(r.length){case 1:case 2:d=a.M,f=r.length;break;default:throw"bad minute format: "+r}break;case 115:if(r!="s"&&r!="ss"&&r!=".0"&&r!=".00"&&r!=".000")throw"bad second format: "+r;return a.u===0&&(r=="s"||r=="ss")?xu(a.S,r.length):(s>=2?l=s===3?1e3:100:l=s===1?10:1,o=Math.round(l*(a.S+a.u)),o>=60*l&&(o=0),r==="s"?o===0?"0":""+o/l:(i=xu(o,2+s),r==="ss"?i.substr(0,2):"."+i.substr(2,r.length-1)));case 90:switch(r){case"[h]":case"[hh]":d=a.D*24+a.H;break;case"[m]":case"[mm]":d=(a.D*24+a.H)*60+a.M;break;case"[s]":case"[ss]":d=((a.D*24+a.H)*60+a.M)*60+Math.round(a.S+a.u);break;default:throw"bad abstime format: "+r}f=r.length===3?1:2;break;case 101:d=c,f=1;break}var u=f>0?xu(d,f):"";return u}function rm(t){var r=3;if(t.length<=r)return t;for(var a=t.length%r,s=t.substr(0,a);a!=t.length;a+=r)s+=(s.length>0?",":"")+t.substr(a,r);return s}var PH=/%/g;function r1e(t,r,a){var s=r.replace(PH,""),i=r.length-s.length;return PA(t,s,a*Math.pow(10,2*i))+On("%",i)}function a1e(t,r,a){for(var s=r.length-1;r.charCodeAt(s-1)===44;)--s;return PA(t,r.substr(0,s),a/Math.pow(10,3*(r.length-s)))}function OH(t,r){var a,s=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+OH(t,-r);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var o=Math.floor(Math.log(r)*Math.LOG10E)%i;if(o<0&&(o+=i),a=(r/Math.pow(10,o)).toPrecision(s+1+(i+o)%i),a.indexOf("e")===-1){var l=Math.floor(Math.log(r)*Math.LOG10E);for(a.indexOf(".")===-1?a=a.charAt(0)+"."+a.substr(1)+"E+"+(l-a.length+o):a+="E+"+(l-o);a.substr(0,2)==="0.";)a=a.charAt(0)+a.substr(2,i)+"."+a.substr(2+i),a=a.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");a=a.replace(/\+-/,"-")}a=a.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,f,u){return d+f+u.substr(0,(i+o)%i)+"."+u.substr(o)+"E"})}else a=r.toExponential(s);return t.match(/E\+00$/)&&a.match(/e[+-]\d$/)&&(a=a.substr(0,a.length-1)+"0"+a.charAt(a.length-1)),t.match(/E\-/)&&a.match(/e\+/)&&(a=a.replace(/e\+/,"e")),a.replace("e","E")}var DH=/# (\?+)( ?)\/( ?)(\d+)/;function s1e(t,r,a){var s=parseInt(t[4],10),i=Math.round(r*s),o=Math.floor(i/s),l=i-o*s,c=s;return a+(o===0?"":""+o)+" "+(l===0?On(" ",t[1].length+1+t[4].length):S6(l,t[1].length)+t[2]+"/"+t[3]+xu(c,t[4].length))}function n1e(t,r,a){return a+(r===0?"":""+r)+On(" ",t[1].length+2+t[4].length)}var LH=/^#*0*\.([0#]+)/,MH=/\).*[0#]/,UH=/\(###\) ###\\?-####/;function ll(t){for(var r="",a,s=0;s!=t.length;++s)switch(a=t.charCodeAt(s)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(a)}return r}function wO(t,r){var a=Math.pow(10,r);return""+Math.round(t*a)/a}function jO(t,r){var a=t-Math.floor(t),s=Math.pow(10,r);return r<(""+Math.round(a*s)).length?0:Math.round(a*s)}function i1e(t,r){return r<(""+Math.round((t-Math.floor(t))*Math.pow(10,r))).length?1:0}function o1e(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function cd(t,r,a){if(t.charCodeAt(0)===40&&!r.match(MH)){var s=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return a>=0?cd("n",s,a):"("+cd("n",s,-a)+")"}if(r.charCodeAt(r.length-1)===44)return a1e(t,r,a);if(r.indexOf("%")!==-1)return r1e(t,r,a);if(r.indexOf("E")!==-1)return OH(r,a);if(r.charCodeAt(0)===36)return"$"+cd(t,r.substr(r.charAt(1)==" "?2:1),a);var i,o,l,c,d=Math.abs(a),f=a<0?"-":"";if(r.match(/^00+$/))return f+ag(d,r.length);if(r.match(/^[#?]+$/))return i=ag(a,0),i==="0"&&(i=""),i.length>r.length?i:ll(r.substr(0,r.length-i.length))+i;if(o=r.match(DH))return s1e(o,d,f);if(r.match(/^#+0+$/))return f+ag(d,r.length-r.indexOf("0"));if(o=r.match(LH))return i=wO(a,o[1].length).replace(/^([^\.]+)$/,"$1."+ll(o[1])).replace(/\.$/,"."+ll(o[1])).replace(/\.(\d*)$/,function(v,y){return"."+y+On("0",ll(o[1]).length-y.length)}),r.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),o=r.match(/^(0*)\.(#*)$/))return f+wO(d,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=r.match(/^#{1,3},##0(\.?)$/))return f+rm(ag(d,0));if(o=r.match(/^#,##0\.([#0]*0)$/))return a<0?"-"+cd(t,r,-a):rm(""+(Math.floor(a)+i1e(a,o[1].length)))+"."+xu(jO(a,o[1].length),o[1].length);if(o=r.match(/^#,#*,#0/))return cd(t,r.replace(/^#,#*,/,""),a);if(o=r.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Sg(cd(t,r.replace(/[\\-]/g,""),a)),l=0,Sg(Sg(r.replace(/\\/g,"")).replace(/[0#]/g,function(v){return l<i.length?i.charAt(l++):v==="0"?"0":""}));if(r.match(UH))return i=cd(t,"##########",a),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(o=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(o[4].length,7),c=uw(d,Math.pow(10,l)-1,!1),i=""+f,u=PA("n",o[1],c[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+o[2]+"/"+o[3],u=cw(c[2],l),u.length<o[4].length&&(u=ll(o[4].substr(o[4].length-u.length))+u),i+=u,i;if(o=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(o[1].length,o[4].length),7),c=uw(d,Math.pow(10,l)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?S6(c[1],l)+o[2]+"/"+o[3]+cw(c[2],l):On(" ",2*l+1+o[2].length+o[3].length));if(o=r.match(/^[#0?]+$/))return i=ag(a,0),r.length<=i.length?i:ll(r.substr(0,r.length-i.length))+i;if(o=r.match(/^([#0?]+)\.([#0]+)$/)){i=""+a.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var m=r.indexOf(".")-l,p=r.length-i.length-m;return ll(r.substr(0,m)+i+r.substr(r.length-p))}if(o=r.match(/^00,000\.([#0]*0)$/))return l=jO(a,o[1].length),a<0?"-"+cd(t,r,-a):rm(o1e(a)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?xu(0,3-v.length):"")+v})+"."+xu(l,o[1].length);switch(r){case"###,##0.00":return cd(t,"#,##0.00",a);case"###,###":case"##,###":case"#,###":var g=rm(ag(d,0));return g!=="0"?f+g:"";case"###,###.00":return cd(t,"###,##0.00",a).replace(/^0\./,".");case"#,###.00":return cd(t,"#,##0.00",a).replace(/^0\./,".")}throw new Error("unsupported format |"+r+"|")}function l1e(t,r,a){for(var s=r.length-1;r.charCodeAt(s-1)===44;)--s;return PA(t,r.substr(0,s),a/Math.pow(10,3*(r.length-s)))}function c1e(t,r,a){var s=r.replace(PH,""),i=r.length-s.length;return PA(t,s,a*Math.pow(10,2*i))+On("%",i)}function RH(t,r){var a,s=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+RH(t,-r);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var o=Math.floor(Math.log(r)*Math.LOG10E)%i;if(o<0&&(o+=i),a=(r/Math.pow(10,o)).toPrecision(s+1+(i+o)%i),!a.match(/[Ee]/)){var l=Math.floor(Math.log(r)*Math.LOG10E);a.indexOf(".")===-1?a=a.charAt(0)+"."+a.substr(1)+"E+"+(l-a.length+o):a+="E+"+(l-o),a=a.replace(/\+-/,"-")}a=a.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,f,u){return d+f+u.substr(0,(i+o)%i)+"."+u.substr(o)+"E"})}else a=r.toExponential(s);return t.match(/E\+00$/)&&a.match(/e[+-]\d$/)&&(a=a.substr(0,a.length-1)+"0"+a.charAt(a.length-1)),t.match(/E\-/)&&a.match(/e\+/)&&(a=a.replace(/e\+/,"e")),a.replace("e","E")}function df(t,r,a){if(t.charCodeAt(0)===40&&!r.match(MH)){var s=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return a>=0?df("n",s,a):"("+df("n",s,-a)+")"}if(r.charCodeAt(r.length-1)===44)return l1e(t,r,a);if(r.indexOf("%")!==-1)return c1e(t,r,a);if(r.indexOf("E")!==-1)return RH(r,a);if(r.charCodeAt(0)===36)return"$"+df(t,r.substr(r.charAt(1)==" "?2:1),a);var i,o,l,c,d=Math.abs(a),f=a<0?"-":"";if(r.match(/^00+$/))return f+xu(d,r.length);if(r.match(/^[#?]+$/))return i=""+a,a===0&&(i=""),i.length>r.length?i:ll(r.substr(0,r.length-i.length))+i;if(o=r.match(DH))return n1e(o,d,f);if(r.match(/^#+0+$/))return f+xu(d,r.length-r.indexOf("0"));if(o=r.match(LH))return i=(""+a).replace(/^([^\.]+)$/,"$1."+ll(o[1])).replace(/\.$/,"."+ll(o[1])),i=i.replace(/\.(\d*)$/,function(v,y){return"."+y+On("0",ll(o[1]).length-y.length)}),r.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),o=r.match(/^(0*)\.(#*)$/))return f+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=r.match(/^#{1,3},##0(\.?)$/))return f+rm(""+d);if(o=r.match(/^#,##0\.([#0]*0)$/))return a<0?"-"+df(t,r,-a):rm(""+a)+"."+On("0",o[1].length);if(o=r.match(/^#,#*,#0/))return df(t,r.replace(/^#,#*,/,""),a);if(o=r.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Sg(df(t,r.replace(/[\\-]/g,""),a)),l=0,Sg(Sg(r.replace(/\\/g,"")).replace(/[0#]/g,function(v){return l<i.length?i.charAt(l++):v==="0"?"0":""}));if(r.match(UH))return i=df(t,"##########",a),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(o=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(o[4].length,7),c=uw(d,Math.pow(10,l)-1,!1),i=""+f,u=PA("n",o[1],c[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+o[2]+"/"+o[3],u=cw(c[2],l),u.length<o[4].length&&(u=ll(o[4].substr(o[4].length-u.length))+u),i+=u,i;if(o=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(o[1].length,o[4].length),7),c=uw(d,Math.pow(10,l)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?S6(c[1],l)+o[2]+"/"+o[3]+cw(c[2],l):On(" ",2*l+1+o[2].length+o[3].length));if(o=r.match(/^[#0?]+$/))return i=""+a,r.length<=i.length?i:ll(r.substr(0,r.length-i.length))+i;if(o=r.match(/^([#0]+)\.([#0]+)$/)){i=""+a.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var m=r.indexOf(".")-l,p=r.length-i.length-m;return ll(r.substr(0,m)+i+r.substr(r.length-p))}if(o=r.match(/^00,000\.([#0]*0)$/))return a<0?"-"+df(t,r,-a):rm(""+a).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?xu(0,3-v.length):"")+v})+"."+xu(0,o[1].length);switch(r){case"###,###":case"##,###":case"#,###":var g=rm(""+d);return g!=="0"?f+g:"";default:if(r.match(/\.[0#?]*$/))return df(t,r.slice(0,r.lastIndexOf(".")),a)+ll(r.slice(r.lastIndexOf(".")))}throw new Error("unsupported format |"+r+"|")}function PA(t,r,a){return(a|0)===a?df(t,r,a):cd(t,r,a)}function d1e(t){for(var r=[],a=!1,s=0,i=0;s<t.length;++s)switch(t.charCodeAt(s)){case 34:a=!a;break;case 95:case 42:case 92:++s;break;case 59:r[r.length]=t.substr(i,s-i),i=s+1}if(r[r.length]=t.substr(i),a===!0)throw new Error("Format |"+t+"| unterminated string ");return r}var QH=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function HH(t){for(var r=0,a="",s="";r<t.length;)switch(a=t.charAt(r)){case"G":dw(t,r)&&(r+=6),r++;break;case'"':for(;t.charCodeAt(++r)!==34&&r<t.length;);++r;break;case"\\":r+=2;break;case"_":r+=2;break;case"@":++r;break;case"B":case"b":if(t.charAt(r+1)==="1"||t.charAt(r+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(r,3).toUpperCase()==="A/P"||t.substr(r,5).toUpperCase()==="AM/PM"||t.substr(r,5).toUpperCase()==="/")return!0;++r;break;case"[":for(s=a;t.charAt(r++)!=="]"&&r<t.length;)s+=t.charAt(r);if(s.match(QH))return!0;break;case".":case"0":case"#":for(;r<t.length&&("0#?.,E+-%".indexOf(a=t.charAt(++r))>-1||a=="\\"&&t.charAt(r+1)=="-"&&"0#".indexOf(t.charAt(r+2))>-1););break;case"?":for(;t.charAt(++r)===a;);break;case"*":++r,(t.charAt(r)==" "||t.charAt(r)=="*")&&++r;break;case"(":case")":++r;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;r<t.length&&"0123456789".indexOf(t.charAt(++r))>-1;);break;case" ":++r;break;default:++r;break}return!1}function u1e(t,r,a,s){for(var i=[],o="",l=0,c="",d="t",f,u,m,p="H";l<t.length;)switch(c=t.charAt(l)){case"G":if(!dw(t,l))throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"G",v:"General"},l+=7;break;case'"':for(o="";(m=t.charCodeAt(++l))!==34&&l<t.length;)o+=String.fromCharCode(m);i[i.length]={t:"t",v:o},++l;break;case"\\":var g=t.charAt(++l),v=g==="("||g===")"?g:"t";i[i.length]={t:v,v:g},++l;break;case"_":i[i.length]={t:"t",v:" "},l+=2;break;case"@":i[i.length]={t:"T",v:r},++l;break;case"B":case"b":if(t.charAt(l+1)==="1"||t.charAt(l+1)==="2"){if(f==null&&(f=Fb(r,a,t.charAt(l+1)==="2"),f==null))return"";i[i.length]={t:"X",v:t.substr(l,2)},d=c,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(r<0||f==null&&(f=Fb(r,a),f==null))return"";for(o=c;++l<t.length&&t.charAt(l).toLowerCase()===c;)o+=c;c==="m"&&d.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=p),i[i.length]={t:c,v:o},d=c;break;case"A":case"a":case"":var y={t:c,v:c};if(f==null&&(f=Fb(r,a)),t.substr(l,3).toUpperCase()==="A/P"?(f!=null&&(y.v=f.H>=12?"P":"A"),y.t="T",p="h",l+=3):t.substr(l,5).toUpperCase()==="AM/PM"?(f!=null&&(y.v=f.H>=12?"PM":"AM"),y.t="T",l+=5,p="h"):t.substr(l,5).toUpperCase()==="/"?(f!=null&&(y.v=f.H>=12?"":""),y.t="T",l+=5,p="h"):(y.t="t",++l),f==null&&y.t==="T")return"";i[i.length]=y,d=c;break;case"[":for(o=c;t.charAt(l++)!=="]"&&l<t.length;)o+=t.charAt(l);if(o.slice(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match(QH)){if(f==null&&(f=Fb(r,a),f==null))return"";i[i.length]={t:"Z",v:o.toLowerCase()},d=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",HH(t)||(i[i.length]={t:"t",v:o}));break;case".":if(f!=null){for(o=c;++l<t.length&&(c=t.charAt(l))==="0";)o+=c;i[i.length]={t:"s",v:o};break}case"0":case"#":for(o=c;++l<t.length&&"0#?.,E+-%".indexOf(c=t.charAt(l))>-1;)o+=c;i[i.length]={t:"n",v:o};break;case"?":for(o=c;t.charAt(++l)===c;)o+=c;i[i.length]={t:c,v:o},d=c;break;case"*":++l,(t.charAt(l)==" "||t.charAt(l)=="*")&&++l;break;case"(":case")":i[i.length]={t:s===1?"t":c,v:c},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=c;l<t.length&&"0123456789".indexOf(t.charAt(++l))>-1;)o+=t.charAt(l);i[i.length]={t:"D",v:o};break;case" ":i[i.length]={t:c,v:c},++l;break;case"$":i[i.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"t",v:c},++l;break}var b=0,j=0,N;for(l=i.length-1,d="t";l>=0;--l)switch(i[l].t){case"h":case"H":i[l].t=p,d="h",b<1&&(b=1);break;case"s":(N=i[l].v.match(/\.0+$/))&&(j=Math.max(j,N[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":d=i[l].t;break;case"m":d==="s"&&(i[l].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&i[l].v.match(/[Hh]/)&&(b=1),b<2&&i[l].v.match(/[Mm]/)&&(b=2),b<3&&i[l].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var S="",B;for(l=0;l<i.length;++l)switch(i[l].t){case"t":case"T":case" ":case"D":break;case"X":i[l].v="",i[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[l].v=t1e(i[l].t.charCodeAt(0),i[l].v,f,j),i[l].t="t";break;case"n":case"?":for(B=l+1;i[B]!=null&&((c=i[B].t)==="?"||c==="D"||(c===" "||c==="t")&&i[B+1]!=null&&(i[B+1].t==="?"||i[B+1].t==="t"&&i[B+1].v==="/")||i[l].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(i[B].v==="/"||i[B].v===" "&&i[B+1]!=null&&i[B+1].t=="?"));)i[l].v+=i[B].v,i[B]={v:"",t:";"},++B;S+=i[l].v,l=B-1;break;case"G":i[l].t="t",i[l].v=m3(r,a);break}var I="",F,O;if(S.length>0){S.charCodeAt(0)==40?(F=r<0&&S.charCodeAt(0)===45?-r:r,O=PA("n",S,F)):(F=r<0&&s>1?-r:r,O=PA("n",S,F),F<0&&i[0]&&i[0].t=="t"&&(O=O.substr(1),i[0].v="-"+i[0].v)),B=O.length-1;var k=i.length;for(l=0;l<i.length;++l)if(i[l]!=null&&i[l].t!="t"&&i[l].v.indexOf(".")>-1){k=l;break}var V=i.length;if(k===i.length&&O.indexOf("E")===-1){for(l=i.length-1;l>=0;--l)i[l]==null||"n?".indexOf(i[l].t)===-1||(B>=i[l].v.length-1?(B-=i[l].v.length,i[l].v=O.substr(B+1,i[l].v.length)):B<0?i[l].v="":(i[l].v=O.substr(0,B+1),B=-1),i[l].t="t",V=l);B>=0&&V<i.length&&(i[V].v=O.substr(0,B+1)+i[V].v)}else if(k!==i.length&&O.indexOf("E")===-1){for(B=O.indexOf(".")-1,l=k;l>=0;--l)if(!(i[l]==null||"n?".indexOf(i[l].t)===-1)){for(u=i[l].v.indexOf(".")>-1&&l===k?i[l].v.indexOf(".")-1:i[l].v.length-1,I=i[l].v.substr(u+1);u>=0;--u)B>=0&&(i[l].v.charAt(u)==="0"||i[l].v.charAt(u)==="#")&&(I=O.charAt(B--)+I);i[l].v=I,i[l].t="t",V=l}for(B>=0&&V<i.length&&(i[V].v=O.substr(0,B+1)+i[V].v),B=O.indexOf(".")+1,l=k;l<i.length;++l)if(!(i[l]==null||"n?(".indexOf(i[l].t)===-1&&l!==k)){for(u=i[l].v.indexOf(".")>-1&&l===k?i[l].v.indexOf(".")+1:0,I=i[l].v.substr(0,u);u<i[l].v.length;++u)B<O.length&&(I+=O.charAt(B++));i[l].v=I,i[l].t="t",V=l}}}for(l=0;l<i.length;++l)i[l]!=null&&"n?".indexOf(i[l].t)>-1&&(F=s>1&&r<0&&l>0&&i[l-1].v==="-"?-r:r,i[l].v=PA(i[l].t,i[l].v,F),i[l].t="t");var Q="";for(l=0;l!==i.length;++l)i[l]!=null&&(Q+=i[l].v);return Q}var NO=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function SO(t,r){if(r==null)return!1;var a=parseFloat(r[2]);switch(r[1]){case"=":if(t==a)return!0;break;case">":if(t>a)return!0;break;case"<":if(t<a)return!0;break;case"<>":if(t!=a)return!0;break;case">=":if(t>=a)return!0;break;case"<=":if(t<=a)return!0;break}return!1}function f1e(t,r){var a=d1e(t),s=a.length,i=a[s-1].indexOf("@");if(s<4&&i>-1&&--s,a.length>4)throw new Error("cannot find right format for |"+a.join("|")+"|");if(typeof r!="number")return[4,a.length===4||i>-1?a[a.length-1]:"@"];switch(a.length){case 1:a=i>-1?["General","General","General",a[0]]:[a[0],a[0],a[0],"@"];break;case 2:a=i>-1?[a[0],a[0],a[0],a[1]]:[a[0],a[1],a[0],"@"];break;case 3:a=i>-1?[a[0],a[1],a[0],a[2]]:[a[0],a[1],a[2],"@"];break}var o=r>0?a[0]:r<0?a[1]:a[2];if(a[0].indexOf("[")===-1&&a[1].indexOf("[")===-1)return[s,o];if(a[0].match(/\[[=<>]/)!=null||a[1].match(/\[[=<>]/)!=null){var l=a[0].match(NO),c=a[1].match(NO);return SO(r,l)?[s,a[0]]:SO(r,c)?[s,a[1]]:[s,a[l!=null&&c!=null?2:1]]}return[s,o]}function xm(t,r,a){a==null&&(a={});var s="";switch(typeof t){case"string":t=="m/d/yy"&&a.dateNF?s=a.dateNF:s=t;break;case"number":t==14&&a.dateNF?s=a.dateNF:s=(a.table!=null?a.table:Ln)[t],s==null&&(s=a.table&&a.table[bO[t]]||Ln[bO[t]]),s==null&&(s=Gxe[t]||"General");break}if(dw(s,0))return m3(r,a);r instanceof Date&&(r=_H(r,a.date1904));var i=f1e(s,r);if(dw(i[1]))return m3(r,a);if(r===!0)r="TRUE";else if(r===!1)r="FALSE";else if(r===""||r==null)return"";return u1e(i[1],r,a,i[0])}function $H(t,r){if(typeof r!="number"){r=+r||-1;for(var a=0;a<392;++a){if(Ln[a]==null){r<0&&(r=a);continue}if(Ln[a]==t){r=a;break}}r<0&&(r=391)}return Ln[r]=t,r}function L4(t){for(var r=0;r!=392;++r)t[r]!==void 0&&$H(t[r],r)}function M4(){Ln=Kxe()}var zH=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function A1e(t){var r=typeof t=="number"?Ln[t]:t;return r=r.replace(zH,"(\\d+)"),new RegExp("^"+r+"$")}function h1e(t,r,a){var s=-1,i=-1,o=-1,l=-1,c=-1,d=-1;(r.match(zH)||[]).forEach(function(m,p){var g=parseInt(a[p+1],10);switch(m.toLowerCase().charAt(0)){case"y":s=g;break;case"d":o=g;break;case"h":l=g;break;case"s":d=g;break;case"m":l>=0?c=g:i=g;break}}),d>=0&&c==-1&&i>=0&&(c=i,i=-1);var f=(""+(s>=0?s:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var u=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return l==-1&&c==-1&&d==-1?f:s==-1&&i==-1&&o==-1?u:f+"T"+u}var m1e=function(){var t={};t.version="1.2.0";function r(){for(var O=0,k=new Array(256),V=0;V!=256;++V)O=V,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,k[V]=O;return typeof Int32Array<"u"?new Int32Array(k):k}var a=r();function s(O){var k=0,V=0,Q=0,H=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Q=0;Q!=256;++Q)H[Q]=O[Q];for(Q=0;Q!=256;++Q)for(V=O[Q],k=256+Q;k<4096;k+=256)V=H[k]=V>>>8^O[V&255];var M=[];for(Q=1;Q!=16;++Q)M[Q-1]=typeof Int32Array<"u"?H.subarray(Q*256,Q*256+256):H.slice(Q*256,Q*256+256);return M}var i=s(a),o=i[0],l=i[1],c=i[2],d=i[3],f=i[4],u=i[5],m=i[6],p=i[7],g=i[8],v=i[9],y=i[10],b=i[11],j=i[12],N=i[13],S=i[14];function B(O,k){for(var V=k^-1,Q=0,H=O.length;Q<H;)V=V>>>8^a[(V^O.charCodeAt(Q++))&255];return~V}function I(O,k){for(var V=k^-1,Q=O.length-15,H=0;H<Q;)V=S[O[H++]^V&255]^N[O[H++]^V>>8&255]^j[O[H++]^V>>16&255]^b[O[H++]^V>>>24]^y[O[H++]]^v[O[H++]]^g[O[H++]]^p[O[H++]]^m[O[H++]]^u[O[H++]]^f[O[H++]]^d[O[H++]]^c[O[H++]]^l[O[H++]]^o[O[H++]]^a[O[H++]];for(Q+=15;H<Q;)V=V>>>8^a[(V^O[H++])&255];return~V}function F(O,k){for(var V=k^-1,Q=0,H=O.length,M=0,K=0;Q<H;)M=O.charCodeAt(Q++),M<128?V=V>>>8^a[(V^M)&255]:M<2048?(V=V>>>8^a[(V^(192|M>>6&31))&255],V=V>>>8^a[(V^(128|M&63))&255]):M>=55296&&M<57344?(M=(M&1023)+64,K=O.charCodeAt(Q++)&1023,V=V>>>8^a[(V^(240|M>>8&7))&255],V=V>>>8^a[(V^(128|M>>2&63))&255],V=V>>>8^a[(V^(128|K>>6&15|(M&3)<<4))&255],V=V>>>8^a[(V^(128|K&63))&255]):(V=V>>>8^a[(V^(224|M>>12&15))&255],V=V>>>8^a[(V^(128|M>>6&63))&255],V=V>>>8^a[(V^(128|M&63))&255]);return~V}return t.table=a,t.bstr=B,t.buf=I,t.str=F,t}(),Es=function(){var r={};r.version="1.2.1";function a(ke,qe){for(var ze=ke.split("/"),Ke=qe.split("/"),Je=0,et=0,St=Math.min(ze.length,Ke.length);Je<St;++Je){if(et=ze[Je].length-Ke[Je].length)return et;if(ze[Je]!=Ke[Je])return ze[Je]<Ke[Je]?-1:1}return ze.length-Ke.length}function s(ke){if(ke.charAt(ke.length-1)=="/")return ke.slice(0,-1).indexOf("/")===-1?ke:s(ke.slice(0,-1));var qe=ke.lastIndexOf("/");return qe===-1?ke:ke.slice(0,qe+1)}function i(ke){if(ke.charAt(ke.length-1)=="/")return i(ke.slice(0,-1));var qe=ke.lastIndexOf("/");return qe===-1?ke:ke.slice(qe+1)}function o(ke,qe){typeof qe=="string"&&(qe=new Date(qe));var ze=qe.getHours();ze=ze<<6|qe.getMinutes(),ze=ze<<5|qe.getSeconds()>>>1,ke.write_shift(2,ze);var Ke=qe.getFullYear()-1980;Ke=Ke<<4|qe.getMonth()+1,Ke=Ke<<5|qe.getDate(),ke.write_shift(2,Ke)}function l(ke){var qe=ke.read_shift(2)&65535,ze=ke.read_shift(2)&65535,Ke=new Date,Je=ze&31;ze>>>=5;var et=ze&15;ze>>>=4,Ke.setMilliseconds(0),Ke.setFullYear(ze+1980),Ke.setMonth(et-1),Ke.setDate(Je);var St=qe&31;qe>>>=5;var Me=qe&63;return qe>>>=6,Ke.setHours(qe),Ke.setMinutes(Me),Ke.setSeconds(St<<1),Ke}function c(ke){xc(ke,0);for(var qe={},ze=0;ke.l<=ke.length-4;){var Ke=ke.read_shift(2),Je=ke.read_shift(2),et=ke.l+Je,St={};switch(Ke){case 21589:ze=ke.read_shift(1),ze&1&&(St.mtime=ke.read_shift(4)),Je>5&&(ze&2&&(St.atime=ke.read_shift(4)),ze&4&&(St.ctime=ke.read_shift(4))),St.mtime&&(St.mt=new Date(St.mtime*1e3));break}ke.l=et,qe[Ke]=St}return qe}var d;function f(){return d||(d={})}function u(ke,qe){if(ke[0]==80&&ke[1]==75)return vt(ke,qe);if((ke[0]|32)==109&&(ke[1]|32)==105)return pa(ke,qe);if(ke.length<512)throw new Error("CFB file size "+ke.length+" < 512");var ze=3,Ke=512,Je=0,et=0,St=0,Me=0,We=0,st=[],jt=ke.slice(0,512);xc(jt,0);var Yt=m(jt);switch(ze=Yt[0],ze){case 3:Ke=512;break;case 4:Ke=4096;break;case 0:if(Yt[1]==0)return vt(ke,qe);default:throw new Error("Major Version: Expected 3 or 4 saw "+ze)}Ke!==512&&(jt=ke.slice(0,Ke),xc(jt,28));var tr=ke.slice(0,Ke);p(jt,ze);var or=jt.read_shift(4,"i");if(ze===3&&or!==0)throw new Error("# Directory Sectors: Expected 0 saw "+or);jt.l+=4,St=jt.read_shift(4,"i"),jt.l+=4,jt.chk("00100000","Mini Stream Cutoff Size: "),Me=jt.read_shift(4,"i"),Je=jt.read_shift(4,"i"),We=jt.read_shift(4,"i"),et=jt.read_shift(4,"i");for(var ur=-1,jr=0;jr<109&&(ur=jt.read_shift(4,"i"),!(ur<0));++jr)st[jr]=ur;var qr=g(ke,Ke);b(We,et,qr,Ke,st);var ga=N(qr,St,st,Ke);ga[St].name="!Directory",Je>0&&Me!==K&&(ga[Me].name="!MiniFAT"),ga[st[0]].name="!FAT",ga.fat_addrs=st,ga.ssz=Ke;var Oa={},Ma=[],Bi=[],Ei=[];S(St,ga,qr,Ma,Je,Oa,Bi,Me),v(Bi,Ei,Ma),Ma.shift();var di={FileIndex:Bi,FullPaths:Ei};return qe&&qe.raw&&(di.raw={header:tr,sectors:qr}),di}function m(ke){if(ke[ke.l]==80&&ke[ke.l+1]==75)return[0,0];ke.chk(q,"Header Signature: "),ke.l+=16;var qe=ke.read_shift(2,"u");return[ke.read_shift(2,"u"),qe]}function p(ke,qe){var ze=9;switch(ke.l+=2,ze=ke.read_shift(2)){case 9:if(qe!=3)throw new Error("Sector Shift: Expected 9 saw "+ze);break;case 12:if(qe!=4)throw new Error("Sector Shift: Expected 12 saw "+ze);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ze)}ke.chk("0600","Mini Sector Shift: "),ke.chk("000000000000","Reserved: ")}function g(ke,qe){for(var ze=Math.ceil(ke.length/qe)-1,Ke=[],Je=1;Je<ze;++Je)Ke[Je-1]=ke.slice(Je*qe,(Je+1)*qe);return Ke[ze-1]=ke.slice(ze*qe),Ke}function v(ke,qe,ze){for(var Ke=0,Je=0,et=0,St=0,Me=0,We=ze.length,st=[],jt=[];Ke<We;++Ke)st[Ke]=jt[Ke]=Ke,qe[Ke]=ze[Ke];for(;Me<jt.length;++Me)Ke=jt[Me],Je=ke[Ke].L,et=ke[Ke].R,St=ke[Ke].C,st[Ke]===Ke&&(Je!==-1&&st[Je]!==Je&&(st[Ke]=st[Je]),et!==-1&&st[et]!==et&&(st[Ke]=st[et])),St!==-1&&(st[St]=Ke),Je!==-1&&Ke!=st[Ke]&&(st[Je]=st[Ke],jt.lastIndexOf(Je)<Me&&jt.push(Je)),et!==-1&&Ke!=st[Ke]&&(st[et]=st[Ke],jt.lastIndexOf(et)<Me&&jt.push(et));for(Ke=1;Ke<We;++Ke)st[Ke]===Ke&&(et!==-1&&st[et]!==et?st[Ke]=st[et]:Je!==-1&&st[Je]!==Je&&(st[Ke]=st[Je]));for(Ke=1;Ke<We;++Ke)if(ke[Ke].type!==0){if(Me=Ke,Me!=st[Me])do Me=st[Me],qe[Ke]=qe[Me]+"/"+qe[Ke];while(Me!==0&&st[Me]!==-1&&Me!=st[Me]);st[Ke]=-1}for(qe[0]+="/",Ke=1;Ke<We;++Ke)ke[Ke].type!==2&&(qe[Ke]+="/")}function y(ke,qe,ze){for(var Ke=ke.start,Je=ke.size,et=[],St=Ke;ze&&Je>0&&St>=0;)et.push(qe.slice(St*M,St*M+M)),Je-=M,St=y0(ze,St*4);return et.length===0?Vt(0):uo(et).slice(0,ke.size)}function b(ke,qe,ze,Ke,Je){var et=K;if(ke===K){if(qe!==0)throw new Error("DIFAT chain shorter than expected")}else if(ke!==-1){var St=ze[ke],Me=(Ke>>>2)-1;if(!St)return;for(var We=0;We<Me&&(et=y0(St,We*4))!==K;++We)Je.push(et);b(y0(St,Ke-4),qe-1,ze,Ke,Je)}}function j(ke,qe,ze,Ke,Je){var et=[],St=[];Je||(Je=[]);var Me=Ke-1,We=0,st=0;for(We=qe;We>=0;){Je[We]=!0,et[et.length]=We,St.push(ke[We]);var jt=ze[Math.floor(We*4/Ke)];if(st=We*4&Me,Ke<4+st)throw new Error("FAT boundary crossed: "+We+" 4 "+Ke);if(!ke[jt])break;We=y0(ke[jt],st)}return{nodes:et,data:_O([St])}}function N(ke,qe,ze,Ke){var Je=ke.length,et=[],St=[],Me=[],We=[],st=Ke-1,jt=0,Yt=0,tr=0,or=0;for(jt=0;jt<Je;++jt)if(Me=[],tr=jt+qe,tr>=Je&&(tr-=Je),!St[tr]){We=[];var ur=[];for(Yt=tr;Yt>=0;){ur[Yt]=!0,St[Yt]=!0,Me[Me.length]=Yt,We.push(ke[Yt]);var jr=ze[Math.floor(Yt*4/Ke)];if(or=Yt*4&st,Ke<4+or)throw new Error("FAT boundary crossed: "+Yt+" 4 "+Ke);if(!ke[jr]||(Yt=y0(ke[jr],or),ur[Yt]))break}et[tr]={nodes:Me,data:_O([We])}}return et}function S(ke,qe,ze,Ke,Je,et,St,Me){for(var We=0,st=Ke.length?2:0,jt=qe[ke].data,Yt=0,tr=0,or;Yt<jt.length;Yt+=128){var ur=jt.slice(Yt,Yt+128);xc(ur,64),tr=ur.read_shift(2),or=I6(ur,0,tr-st),Ke.push(or);var jr={name:or,type:ur.read_shift(1),color:ur.read_shift(1),L:ur.read_shift(4,"i"),R:ur.read_shift(4,"i"),C:ur.read_shift(4,"i"),clsid:ur.read_shift(16),state:ur.read_shift(4,"i"),start:0,size:0},qr=ur.read_shift(2)+ur.read_shift(2)+ur.read_shift(2)+ur.read_shift(2);qr!==0&&(jr.ct=B(ur,ur.l-8));var ga=ur.read_shift(2)+ur.read_shift(2)+ur.read_shift(2)+ur.read_shift(2);ga!==0&&(jr.mt=B(ur,ur.l-8)),jr.start=ur.read_shift(4,"i"),jr.size=ur.read_shift(4,"i"),jr.size<0&&jr.start<0&&(jr.size=jr.type=0,jr.start=K,jr.name=""),jr.type===5?(We=jr.start,Je>0&&We!==K&&(qe[We].name="!StreamData")):jr.size>=4096?(jr.storage="fat",qe[jr.start]===void 0&&(qe[jr.start]=j(ze,jr.start,qe.fat_addrs,qe.ssz)),qe[jr.start].name=jr.name,jr.content=qe[jr.start].data.slice(0,jr.size)):(jr.storage="minifat",jr.size<0?jr.size=0:We!==K&&jr.start!==K&&qe[We]&&(jr.content=y(jr,qe[We].data,(qe[Me]||{}).data))),jr.content&&xc(jr.content,0),et[or]=jr,St.push(jr)}}function B(ke,qe){return new Date((wc(ke,qe+4)/1e7*Math.pow(2,32)+wc(ke,qe)/1e7-11644473600)*1e3)}function I(ke,qe){return f(),u(d.readFileSync(ke),qe)}function F(ke,qe){var ze=qe&&qe.type;switch(ze||ns&&Buffer.isBuffer(ke)&&(ze="buffer"),ze||"base64"){case"file":return I(ke,qe);case"base64":return u(gu(zA(ke)),qe);case"binary":return u(gu(ke),qe)}return u(ke,qe)}function O(ke,qe){var ze=qe||{},Ke=ze.root||"Root Entry";if(ke.FullPaths||(ke.FullPaths=[]),ke.FileIndex||(ke.FileIndex=[]),ke.FullPaths.length!==ke.FileIndex.length)throw new Error("inconsistent CFB structure");ke.FullPaths.length===0&&(ke.FullPaths[0]=Ke+"/",ke.FileIndex[0]={name:Ke,type:5}),ze.CLSID&&(ke.FileIndex[0].clsid=ze.CLSID),k(ke)}function k(ke){var qe="Sh33tJ5";if(!Es.find(ke,"/"+qe)){var ze=Vt(4);ze[0]=55,ze[1]=ze[3]=50,ze[2]=54,ke.FileIndex.push({name:qe,type:2,content:ze,size:4,L:69,R:69,C:69}),ke.FullPaths.push(ke.FullPaths[0]+qe),V(ke)}}function V(ke,qe){O(ke);for(var ze=!1,Ke=!1,Je=ke.FullPaths.length-1;Je>=0;--Je){var et=ke.FileIndex[Je];switch(et.type){case 0:Ke?ze=!0:(ke.FileIndex.pop(),ke.FullPaths.pop());break;case 1:case 2:case 5:Ke=!0,isNaN(et.R*et.L*et.C)&&(ze=!0),et.R>-1&&et.L>-1&&et.R==et.L&&(ze=!0);break;default:ze=!0;break}}if(!(!ze&&!qe)){var St=new Date(1987,1,19),Me=0,We=Object.create?Object.create(null):{},st=[];for(Je=0;Je<ke.FullPaths.length;++Je)We[ke.FullPaths[Je]]=!0,ke.FileIndex[Je].type!==0&&st.push([ke.FullPaths[Je],ke.FileIndex[Je]]);for(Je=0;Je<st.length;++Je){var jt=s(st[Je][0]);Ke=We[jt],Ke||(st.push([jt,{name:i(jt).replace("/",""),type:1,clsid:ee,ct:St,mt:St,content:null}]),We[jt]=!0)}for(st.sort(function(or,ur){return a(or[0],ur[0])}),ke.FullPaths=[],ke.FileIndex=[],Je=0;Je<st.length;++Je)ke.FullPaths[Je]=st[Je][0],ke.FileIndex[Je]=st[Je][1];for(Je=0;Je<st.length;++Je){var Yt=ke.FileIndex[Je],tr=ke.FullPaths[Je];if(Yt.name=i(tr).replace("/",""),Yt.L=Yt.R=Yt.C=-(Yt.color=1),Yt.size=Yt.content?Yt.content.length:0,Yt.start=0,Yt.clsid=Yt.clsid||ee,Je===0)Yt.C=st.length>1?1:-1,Yt.size=0,Yt.type=5;else if(tr.slice(-1)=="/"){for(Me=Je+1;Me<st.length&&s(ke.FullPaths[Me])!=tr;++Me);for(Yt.C=Me>=st.length?-1:Me,Me=Je+1;Me<st.length&&s(ke.FullPaths[Me])!=s(tr);++Me);Yt.R=Me>=st.length?-1:Me,Yt.type=1}else s(ke.FullPaths[Je+1]||"")==s(tr)&&(Yt.R=Je+1),Yt.type=2}}}function Q(ke,qe){var ze=qe||{};if(ze.fileType=="mad")return at(ke,ze);switch(V(ke),ze.fileType){case"zip":return He(ke,ze)}var Ke=function(or){for(var ur=0,jr=0,qr=0;qr<or.FileIndex.length;++qr){var ga=or.FileIndex[qr];if(ga.content){var Oa=ga.content.length;Oa>0&&(Oa<4096?ur+=Oa+63>>6:jr+=Oa+511>>9)}}for(var Ma=or.FullPaths.length+3>>2,Bi=ur+7>>3,Ei=ur+127>>7,di=Bi+jr+Ma+Ei,Xi=di+127>>7,ui=Xi<=109?0:Math.ceil((Xi-109)/127);di+Xi+ui+127>>7>Xi;)ui=++Xi<=109?0:Math.ceil((Xi-109)/127);var Mn=[1,ui,Xi,Ei,Ma,jr,ur,0];return or.FileIndex[0].size=ur<<6,Mn[7]=(or.FileIndex[0].start=Mn[0]+Mn[1]+Mn[2]+Mn[3]+Mn[4]+Mn[5])+(Mn[6]+7>>3),Mn}(ke),Je=Vt(Ke[7]<<9),et=0,St=0;{for(et=0;et<8;++et)Je.write_shift(1,re[et]);for(et=0;et<8;++et)Je.write_shift(2,0);for(Je.write_shift(2,62),Je.write_shift(2,3),Je.write_shift(2,65534),Je.write_shift(2,9),Je.write_shift(2,6),et=0;et<3;++et)Je.write_shift(2,0);for(Je.write_shift(4,0),Je.write_shift(4,Ke[2]),Je.write_shift(4,Ke[0]+Ke[1]+Ke[2]+Ke[3]-1),Je.write_shift(4,0),Je.write_shift(4,4096),Je.write_shift(4,Ke[3]?Ke[0]+Ke[1]+Ke[2]-1:K),Je.write_shift(4,Ke[3]),Je.write_shift(-4,Ke[1]?Ke[0]-1:K),Je.write_shift(4,Ke[1]),et=0;et<109;++et)Je.write_shift(-4,et<Ke[2]?Ke[1]+et:-1)}if(Ke[1])for(St=0;St<Ke[1];++St){for(;et<236+St*127;++et)Je.write_shift(-4,et<Ke[2]?Ke[1]+et:-1);Je.write_shift(-4,St===Ke[1]-1?K:St+1)}var Me=function(or){for(St+=or;et<St-1;++et)Je.write_shift(-4,et+1);or&&(++et,Je.write_shift(-4,K))};for(St=et=0,St+=Ke[1];et<St;++et)Je.write_shift(-4,le.DIFSECT);for(St+=Ke[2];et<St;++et)Je.write_shift(-4,le.FATSECT);Me(Ke[3]),Me(Ke[4]);for(var We=0,st=0,jt=ke.FileIndex[0];We<ke.FileIndex.length;++We)jt=ke.FileIndex[We],jt.content&&(st=jt.content.length,!(st<4096)&&(jt.start=St,Me(st+511>>9)));for(Me(Ke[6]+7>>3);Je.l&511;)Je.write_shift(-4,le.ENDOFCHAIN);for(St=et=0,We=0;We<ke.FileIndex.length;++We)jt=ke.FileIndex[We],jt.content&&(st=jt.content.length,!(!st||st>=4096)&&(jt.start=St,Me(st+63>>6)));for(;Je.l&511;)Je.write_shift(-4,le.ENDOFCHAIN);for(et=0;et<Ke[4]<<2;++et){var Yt=ke.FullPaths[et];if(!Yt||Yt.length===0){for(We=0;We<17;++We)Je.write_shift(4,0);for(We=0;We<3;++We)Je.write_shift(4,-1);for(We=0;We<12;++We)Je.write_shift(4,0);continue}jt=ke.FileIndex[et],et===0&&(jt.start=jt.size?jt.start-1:K);var tr=et===0&&ze.root||jt.name;if(st=2*(tr.length+1),Je.write_shift(64,tr,"utf16le"),Je.write_shift(2,st),Je.write_shift(1,jt.type),Je.write_shift(1,jt.color),Je.write_shift(-4,jt.L),Je.write_shift(-4,jt.R),Je.write_shift(-4,jt.C),jt.clsid)Je.write_shift(16,jt.clsid,"hex");else for(We=0;We<4;++We)Je.write_shift(4,0);Je.write_shift(4,jt.state||0),Je.write_shift(4,0),Je.write_shift(4,0),Je.write_shift(4,0),Je.write_shift(4,0),Je.write_shift(4,jt.start),Je.write_shift(4,jt.size),Je.write_shift(4,0)}for(et=1;et<ke.FileIndex.length;++et)if(jt=ke.FileIndex[et],jt.size>=4096)if(Je.l=jt.start+1<<9,ns&&Buffer.isBuffer(jt.content))jt.content.copy(Je,Je.l,0,jt.size),Je.l+=jt.size+511&-512;else{for(We=0;We<jt.size;++We)Je.write_shift(1,jt.content[We]);for(;We&511;++We)Je.write_shift(1,0)}for(et=1;et<ke.FileIndex.length;++et)if(jt=ke.FileIndex[et],jt.size>0&&jt.size<4096)if(ns&&Buffer.isBuffer(jt.content))jt.content.copy(Je,Je.l,0,jt.size),Je.l+=jt.size+63&-64;else{for(We=0;We<jt.size;++We)Je.write_shift(1,jt.content[We]);for(;We&63;++We)Je.write_shift(1,0)}if(ns)Je.l=Je.length;else for(;Je.l<Je.length;)Je.write_shift(1,0);return Je}function H(ke,qe){var ze=ke.FullPaths.map(function(We){return We.toUpperCase()}),Ke=ze.map(function(We){var st=We.split("/");return st[st.length-(We.slice(-1)=="/"?2:1)]}),Je=!1;qe.charCodeAt(0)===47?(Je=!0,qe=ze[0].slice(0,-1)+qe):Je=qe.indexOf("/")!==-1;var et=qe.toUpperCase(),St=Je===!0?ze.indexOf(et):Ke.indexOf(et);if(St!==-1)return ke.FileIndex[St];var Me=!et.match(Tb);for(et=et.replace(Q1,""),Me&&(et=et.replace(Tb,"!")),St=0;St<ze.length;++St)if((Me?ze[St].replace(Tb,"!"):ze[St]).replace(Q1,"")==et||(Me?Ke[St].replace(Tb,"!"):Ke[St]).replace(Q1,"")==et)return ke.FileIndex[St];return null}var M=64,K=-2,q="d0cf11e0a1b11ae1",re=[208,207,17,224,161,177,26,225],ee="00000000000000000000000000000000",le={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:K,FREESECT:-1,HEADER_SIGNATURE:q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ee,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Ae(ke,qe,ze){f();var Ke=Q(ke,ze);d.writeFileSync(qe,Ke)}function ue(ke){for(var qe=new Array(ke.length),ze=0;ze<ke.length;++ze)qe[ze]=String.fromCharCode(ke[ze]);return qe.join("")}function se(ke,qe){var ze=Q(ke,qe);switch(qe&&qe.type||"buffer"){case"file":return f(),d.writeFileSync(qe.filename,ze),ze;case"binary":return typeof ze=="string"?ze:ue(ze);case"base64":return Cy(typeof ze=="string"?ze:ue(ze));case"buffer":if(ns)return Buffer.isBuffer(ze)?ze:rh(ze);case"array":return typeof ze=="string"?gu(ze):ze}return ze}var ve;function _(ke){try{var qe=ke.InflateRaw,ze=new qe;if(ze._processChunk(new Uint8Array([3,0]),ze._finishFlushFlag),ze.bytesRead)ve=ke;else throw new Error("zlib does not expose bytesRead")}catch(Ke){console.error("cannot use native zlib: "+(Ke.message||Ke))}}function z(ke,qe){if(!ve)return ot(ke,qe);var ze=ve.InflateRaw,Ke=new ze,Je=Ke._processChunk(ke.slice(ke.l),Ke._finishFlushFlag);return ke.l+=Ke.bytesRead,Je}function ae(ke){return ve?ve.deflateRawSync(ke):it(ke)}var oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],me=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function he(ke){var qe=(ke<<1|ke<<11)&139536|(ke<<5|ke<<15)&558144;return(qe>>16|qe>>8|qe)&255}for(var te=typeof Uint8Array<"u",J=te?new Uint8Array(256):[],X=0;X<256;++X)J[X]=he(X);function xe(ke,qe){var ze=J[ke&255];return qe<=8?ze>>>8-qe:(ze=ze<<8|J[ke>>8&255],qe<=16?ze>>>16-qe:(ze=ze<<8|J[ke>>16&255],ze>>>24-qe))}function Ne(ke,qe){var ze=qe&7,Ke=qe>>>3;return(ke[Ke]|(ze<=6?0:ke[Ke+1]<<8))>>>ze&3}function ge(ke,qe){var ze=qe&7,Ke=qe>>>3;return(ke[Ke]|(ze<=5?0:ke[Ke+1]<<8))>>>ze&7}function pe(ke,qe){var ze=qe&7,Ke=qe>>>3;return(ke[Ke]|(ze<=4?0:ke[Ke+1]<<8))>>>ze&15}function Y(ke,qe){var ze=qe&7,Ke=qe>>>3;return(ke[Ke]|(ze<=3?0:ke[Ke+1]<<8))>>>ze&31}function Le(ke,qe){var ze=qe&7,Ke=qe>>>3;return(ke[Ke]|(ze<=1?0:ke[Ke+1]<<8))>>>ze&127}function ie(ke,qe,ze){var Ke=qe&7,Je=qe>>>3,et=(1<<ze)-1,St=ke[Je]>>>Ke;return ze<8-Ke||(St|=ke[Je+1]<<8-Ke,ze<16-Ke)||(St|=ke[Je+2]<<16-Ke,ze<24-Ke)||(St|=ke[Je+3]<<24-Ke),St&et}function de(ke,qe,ze){var Ke=qe&7,Je=qe>>>3;return Ke<=5?ke[Je]|=(ze&7)<<Ke:(ke[Je]|=ze<<Ke&255,ke[Je+1]=(ze&7)>>8-Ke),qe+3}function je(ke,qe,ze){var Ke=qe&7,Je=qe>>>3;return ze=(ze&1)<<Ke,ke[Je]|=ze,qe+1}function ye(ke,qe,ze){var Ke=qe&7,Je=qe>>>3;return ze<<=Ke,ke[Je]|=ze&255,ze>>>=8,ke[Je+1]=ze,qe+8}function Ce(ke,qe,ze){var Ke=qe&7,Je=qe>>>3;return ze<<=Ke,ke[Je]|=ze&255,ze>>>=8,ke[Je+1]=ze&255,ke[Je+2]=ze>>>8,qe+16}function be(ke,qe){var ze=ke.length,Ke=2*ze>qe?2*ze:qe+5,Je=0;if(ze>=qe)return ke;if(ns){var et=xO(Ke);if(ke.copy)ke.copy(et);else for(;Je<ke.length;++Je)et[Je]=ke[Je];return et}else if(te){var St=new Uint8Array(Ke);if(St.set)St.set(ke);else for(;Je<ze;++Je)St[Je]=ke[Je];return St}return ke.length=Ke,ke}function Ee(ke){for(var qe=new Array(ke),ze=0;ze<ke;++ze)qe[ze]=0;return qe}function Qe(ke,qe,ze){var Ke=1,Je=0,et=0,St=0,Me=0,We=ke.length,st=te?new Uint16Array(32):Ee(32);for(et=0;et<32;++et)st[et]=0;for(et=We;et<ze;++et)ke[et]=0;We=ke.length;var jt=te?new Uint16Array(We):Ee(We);for(et=0;et<We;++et)st[Je=ke[et]]++,Ke<Je&&(Ke=Je),jt[et]=0;for(st[0]=0,et=1;et<=Ke;++et)st[et+16]=Me=Me+st[et-1]<<1;for(et=0;et<We;++et)Me=ke[et],Me!=0&&(jt[et]=st[Me+16]++);var Yt=0;for(et=0;et<We;++et)if(Yt=ke[et],Yt!=0)for(Me=xe(jt[et],Ke)>>Ke-Yt,St=(1<<Ke+4-Yt)-1;St>=0;--St)qe[Me|St<<Yt]=Yt&15|et<<4;return Ke}var rt=te?new Uint16Array(512):Ee(512),Te=te?new Uint16Array(32):Ee(32);if(!te){for(var nt=0;nt<512;++nt)rt[nt]=0;for(nt=0;nt<32;++nt)Te[nt]=0}(function(){for(var ke=[],qe=0;qe<32;qe++)ke.push(5);Qe(ke,Te,32);var ze=[];for(qe=0;qe<=143;qe++)ze.push(8);for(;qe<=255;qe++)ze.push(9);for(;qe<=279;qe++)ze.push(7);for(;qe<=287;qe++)ze.push(8);Qe(ze,rt,288)})();var xt=function(){for(var qe=te?new Uint8Array(32768):[],ze=0,Ke=0;ze<me.length-1;++ze)for(;Ke<me[ze+1];++Ke)qe[Ke]=ze;for(;Ke<32768;++Ke)qe[Ke]=29;var Je=te?new Uint8Array(259):[];for(ze=0,Ke=0;ze<ce.length-1;++ze)for(;Ke<ce[ze+1];++Ke)Je[Ke]=ze;function et(Me,We){for(var st=0;st<Me.length;){var jt=Math.min(65535,Me.length-st),Yt=st+jt==Me.length;for(We.write_shift(1,+Yt),We.write_shift(2,jt),We.write_shift(2,~jt&65535);jt-- >0;)We[We.l++]=Me[st++]}return We.l}function St(Me,We){for(var st=0,jt=0,Yt=te?new Uint16Array(32768):[];jt<Me.length;){var tr=Math.min(65535,Me.length-jt);if(tr<10){for(st=de(We,st,+(jt+tr==Me.length)),st&7&&(st+=8-(st&7)),We.l=st/8|0,We.write_shift(2,tr),We.write_shift(2,~tr&65535);tr-- >0;)We[We.l++]=Me[jt++];st=We.l*8;continue}st=de(We,st,+(jt+tr==Me.length)+2);for(var or=0;tr-- >0;){var ur=Me[jt];or=(or<<5^ur)&32767;var jr=-1,qr=0;if((jr=Yt[or])&&(jr|=jt&-32768,jr>jt&&(jr-=32768),jr<jt))for(;Me[jr+qr]==Me[jt+qr]&&qr<250;)++qr;if(qr>2){ur=Je[qr],ur<=22?st=ye(We,st,J[ur+1]>>1)-1:(ye(We,st,3),st+=5,ye(We,st,J[ur-23]>>5),st+=3);var ga=ur<8?0:ur-4>>2;ga>0&&(Ce(We,st,qr-ce[ur]),st+=ga),ur=qe[jt-jr],st=ye(We,st,J[ur]>>3),st-=3;var Oa=ur<4?0:ur-2>>1;Oa>0&&(Ce(We,st,jt-jr-me[ur]),st+=Oa);for(var Ma=0;Ma<qr;++Ma)Yt[or]=jt&32767,or=(or<<5^Me[jt])&32767,++jt;tr-=qr-1}else ur<=143?ur=ur+48:st=je(We,st,1),st=ye(We,st,J[ur]),Yt[or]=jt&32767,++jt}st=ye(We,st,0)-1}return We.l=(st+7)/8|0,We.l}return function(We,st){return We.length<8?et(We,st):St(We,st)}}();function it(ke){var qe=Vt(50+Math.floor(ke.length*1.1)),ze=xt(ke,qe);return qe.slice(0,ze)}var _e=te?new Uint16Array(32768):Ee(32768),dt=te?new Uint16Array(32768):Ee(32768),yt=te?new Uint16Array(128):Ee(128),rr=1,_t=1;function Ve(ke,qe){var ze=Y(ke,qe)+257;qe+=5;var Ke=Y(ke,qe)+1;qe+=5;var Je=pe(ke,qe)+4;qe+=4;for(var et=0,St=te?new Uint8Array(19):Ee(19),Me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],We=1,st=te?new Uint8Array(8):Ee(8),jt=te?new Uint8Array(8):Ee(8),Yt=St.length,tr=0;tr<Je;++tr)St[oe[tr]]=et=ge(ke,qe),We<et&&(We=et),st[et]++,qe+=3;var or=0;for(st[0]=0,tr=1;tr<=We;++tr)jt[tr]=or=or+st[tr-1]<<1;for(tr=0;tr<Yt;++tr)(or=St[tr])!=0&&(Me[tr]=jt[or]++);var ur=0;for(tr=0;tr<Yt;++tr)if(ur=St[tr],ur!=0){or=J[Me[tr]]>>8-ur;for(var jr=(1<<7-ur)-1;jr>=0;--jr)yt[or|jr<<ur]=ur&7|tr<<3}var qr=[];for(We=1;qr.length<ze+Ke;)switch(or=yt[Le(ke,qe)],qe+=or&7,or>>>=3){case 16:for(et=3+Ne(ke,qe),qe+=2,or=qr[qr.length-1];et-- >0;)qr.push(or);break;case 17:for(et=3+ge(ke,qe),qe+=3;et-- >0;)qr.push(0);break;case 18:for(et=11+Le(ke,qe),qe+=7;et-- >0;)qr.push(0);break;default:qr.push(or),We<or&&(We=or);break}var ga=qr.slice(0,ze),Oa=qr.slice(ze);for(tr=ze;tr<286;++tr)ga[tr]=0;for(tr=Ke;tr<30;++tr)Oa[tr]=0;return rr=Qe(ga,_e,286),_t=Qe(Oa,dt,30),qe}function Se(ke,qe){if(ke[0]==3&&!(ke[1]&3))return[Z0(qe),2];for(var ze=0,Ke=0,Je=xO(qe||1<<18),et=0,St=Je.length>>>0,Me=0,We=0;(Ke&1)==0;){if(Ke=ge(ke,ze),ze+=3,Ke>>>1)Ke>>1==1?(Me=9,We=5):(ze=Ve(ke,ze),Me=rr,We=_t);else{ze&7&&(ze+=8-(ze&7));var st=ke[ze>>>3]|ke[(ze>>>3)+1]<<8;if(ze+=32,st>0)for(!qe&&St<et+st&&(Je=be(Je,et+st),St=Je.length);st-- >0;)Je[et++]=ke[ze>>>3],ze+=8;continue}for(;;){!qe&&St<et+32767&&(Je=be(Je,et+32767),St=Je.length);var jt=ie(ke,ze,Me),Yt=Ke>>>1==1?rt[jt]:_e[jt];if(ze+=Yt&15,Yt>>>=4,(Yt>>>8&255)===0)Je[et++]=Yt;else{if(Yt==256)break;Yt-=257;var tr=Yt<8?0:Yt-4>>2;tr>5&&(tr=0);var or=et+ce[Yt];tr>0&&(or+=ie(ke,ze,tr),ze+=tr),jt=ie(ke,ze,We),Yt=Ke>>>1==1?Te[jt]:dt[jt],ze+=Yt&15,Yt>>>=4;var ur=Yt<4?0:Yt-2>>1,jr=me[Yt];for(ur>0&&(jr+=ie(ke,ze,ur),ze+=ur),!qe&&St<or&&(Je=be(Je,or+100),St=Je.length);et<or;)Je[et]=Je[et-jr],++et}}}return qe?[Je,ze+7>>>3]:[Je.slice(0,et),ze+7>>>3]}function ot(ke,qe){var ze=ke.slice(ke.l||0),Ke=Se(ze,qe);return ke.l+=Ke[1],Ke[0]}function Ot(ke,qe){if(ke)typeof console<"u"&&console.error(qe);else throw new Error(qe)}function vt(ke,qe){var ze=ke;xc(ze,0);var Ke=[],Je=[],et={FileIndex:Ke,FullPaths:Je};O(et,{root:qe.root});for(var St=ze.length-4;(ze[St]!=80||ze[St+1]!=75||ze[St+2]!=5||ze[St+3]!=6)&&St>=0;)--St;ze.l=St+4,ze.l+=4;var Me=ze.read_shift(2);ze.l+=6;var We=ze.read_shift(4);for(ze.l=We,St=0;St<Me;++St){ze.l+=20;var st=ze.read_shift(4),jt=ze.read_shift(4),Yt=ze.read_shift(2),tr=ze.read_shift(2),or=ze.read_shift(2);ze.l+=8;var ur=ze.read_shift(4),jr=c(ze.slice(ze.l+Yt,ze.l+Yt+tr));ze.l+=Yt+tr+or;var qr=ze.l;ze.l=ur+4,Ze(ze,st,jt,et,jr),ze.l=qr}return et}function Ze(ke,qe,ze,Ke,Je){ke.l+=2;var et=ke.read_shift(2),St=ke.read_shift(2),Me=l(ke);if(et&8257)throw new Error("Unsupported ZIP encryption");for(var We=ke.read_shift(4),st=ke.read_shift(4),jt=ke.read_shift(4),Yt=ke.read_shift(2),tr=ke.read_shift(2),or="",ur=0;ur<Yt;++ur)or+=String.fromCharCode(ke[ke.l++]);if(tr){var jr=c(ke.slice(ke.l,ke.l+tr));(jr[21589]||{}).mt&&(Me=jr[21589].mt),((Je||{})[21589]||{}).mt&&(Me=Je[21589].mt)}ke.l+=tr;var qr=ke.slice(ke.l,ke.l+st);switch(St){case 8:qr=z(ke,jt);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+St)}var ga=!1;et&8&&(We=ke.read_shift(4),We==134695760&&(We=ke.read_shift(4),ga=!0),st=ke.read_shift(4),jt=ke.read_shift(4)),st!=qe&&Ot(ga,"Bad compressed size: "+qe+" != "+st),jt!=ze&&Ot(ga,"Bad uncompressed size: "+ze+" != "+jt),Gt(Ke,or,qr,{unsafe:!0,mt:Me})}function He(ke,qe){var ze=qe||{},Ke=[],Je=[],et=Vt(1),St=ze.compression?8:0,Me=0,We=0,st=0,jt=0,Yt=0,tr=ke.FullPaths[0],or=tr,ur=ke.FileIndex[0],jr=[],qr=0;for(We=1;We<ke.FullPaths.length;++We)if(or=ke.FullPaths[We].slice(tr.length),ur=ke.FileIndex[We],!(!ur.size||!ur.content||or=="Sh33tJ5")){var ga=jt,Oa=Vt(or.length);for(st=0;st<or.length;++st)Oa.write_shift(1,or.charCodeAt(st)&127);Oa=Oa.slice(0,Oa.l),jr[Yt]=m1e.buf(ur.content,0);var Ma=ur.content;St==8&&(Ma=ae(Ma)),et=Vt(30),et.write_shift(4,67324752),et.write_shift(2,20),et.write_shift(2,Me),et.write_shift(2,St),ur.mt?o(et,ur.mt):et.write_shift(4,0),et.write_shift(-4,jr[Yt]),et.write_shift(4,Ma.length),et.write_shift(4,ur.content.length),et.write_shift(2,Oa.length),et.write_shift(2,0),jt+=et.length,Ke.push(et),jt+=Oa.length,Ke.push(Oa),jt+=Ma.length,Ke.push(Ma),et=Vt(46),et.write_shift(4,33639248),et.write_shift(2,0),et.write_shift(2,20),et.write_shift(2,Me),et.write_shift(2,St),et.write_shift(4,0),et.write_shift(-4,jr[Yt]),et.write_shift(4,Ma.length),et.write_shift(4,ur.content.length),et.write_shift(2,Oa.length),et.write_shift(2,0),et.write_shift(2,0),et.write_shift(2,0),et.write_shift(2,0),et.write_shift(4,0),et.write_shift(4,ga),qr+=et.l,Je.push(et),qr+=Oa.length,Je.push(Oa),++Yt}return et=Vt(22),et.write_shift(4,101010256),et.write_shift(2,0),et.write_shift(2,0),et.write_shift(2,Yt),et.write_shift(2,Yt),et.write_shift(4,qr),et.write_shift(4,jt),et.write_shift(2,0),uo([uo(Ke),uo(Je),et])}var ct={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ft(ke,qe){if(ke.ctype)return ke.ctype;var ze=ke.name||"",Ke=ze.match(/\.([^\.]+)$/);return Ke&&ct[Ke[1]]||qe&&(Ke=(ze=qe).match(/[\.\\]([^\.\\])+$/),Ke&&ct[Ke[1]])?ct[Ke[1]]:"application/octet-stream"}function Wt(ke){for(var qe=Cy(ke),ze=[],Ke=0;Ke<qe.length;Ke+=76)ze.push(qe.slice(Ke,Ke+76));return ze.join(`\r
`)+`\r
`}function gr(ke){var qe=ke.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(st){var jt=st.charCodeAt(0).toString(16).toUpperCase();return"="+(jt.length==1?"0"+jt:jt)});qe=qe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),qe.charAt(0)==`
`&&(qe="=0D"+qe.slice(1)),qe=qe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ze=[],Ke=qe.split(`\r
`),Je=0;Je<Ke.length;++Je){var et=Ke[Je];if(et.length==0){ze.push("");continue}for(var St=0;St<et.length;){var Me=76,We=et.slice(St,St+Me);We.charAt(Me-1)=="="?Me--:We.charAt(Me-2)=="="?Me-=2:We.charAt(Me-3)=="="&&(Me-=3),We=et.slice(St,St+Me),St+=Me,St<et.length&&(We+="="),ze.push(We)}}return ze.join(`\r
`)}function Fr(ke){for(var qe=[],ze=0;ze<ke.length;++ze){for(var Ke=ke[ze];ze<=ke.length&&Ke.charAt(Ke.length-1)=="=";)Ke=Ke.slice(0,Ke.length-1)+ke[++ze];qe.push(Ke)}for(var Je=0;Je<qe.length;++Je)qe[Je]=qe[Je].replace(/[=][0-9A-Fa-f]{2}/g,function(et){return String.fromCharCode(parseInt(et.slice(1),16))});return gu(qe.join(`\r
`))}function Ta(ke,qe,ze){for(var Ke="",Je="",et="",St,Me=0;Me<10;++Me){var We=qe[Me];if(!We||We.match(/^\s*$/))break;var st=We.match(/^(.*?):\s*([^\s].*)$/);if(st)switch(st[1].toLowerCase()){case"content-location":Ke=st[2].trim();break;case"content-type":et=st[2].trim();break;case"content-transfer-encoding":Je=st[2].trim();break}}switch(++Me,Je.toLowerCase()){case"base64":St=gu(zA(qe.slice(Me).join("")));break;case"quoted-printable":St=Fr(qe.slice(Me));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Je)}var jt=Gt(ke,Ke.slice(ze.length),St,{unsafe:!0});et&&(jt.ctype=et)}function pa(ke,qe){if(ue(ke.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ze=qe&&qe.root||"",Ke=(ns&&Buffer.isBuffer(ke)?ke.toString("binary"):ue(ke)).split(`\r
`),Je=0,et="";for(Je=0;Je<Ke.length;++Je)if(et=Ke[Je],!!/^Content-Location:/i.test(et)&&(et=et.slice(et.indexOf("file")),ze||(ze=et.slice(0,et.lastIndexOf("/")+1)),et.slice(0,ze.length)!=ze))for(;ze.length>0&&(ze=ze.slice(0,ze.length-1),ze=ze.slice(0,ze.lastIndexOf("/")+1),et.slice(0,ze.length)!=ze););var St=(Ke[1]||"").match(/boundary="(.*?)"/);if(!St)throw new Error("MAD cannot find boundary");var Me="--"+(St[1]||""),We=[],st=[],jt={FileIndex:We,FullPaths:st};O(jt);var Yt,tr=0;for(Je=0;Je<Ke.length;++Je){var or=Ke[Je];or!==Me&&or!==Me+"--"||(tr++&&Ta(jt,Ke.slice(Yt,Je),ze),Yt=Je)}return jt}function at(ke,qe){var ze=qe||{},Ke=ze.boundary||"SheetJS";Ke="------="+Ke;for(var Je=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Ke.slice(2)+'"',"","",""],et=ke.FullPaths[0],St=et,Me=ke.FileIndex[0],We=1;We<ke.FullPaths.length;++We)if(St=ke.FullPaths[We].slice(et.length),Me=ke.FileIndex[We],!(!Me.size||!Me.content||St=="Sh33tJ5")){St=St.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(qr){return"_x"+qr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(qr){return"_u"+qr.charCodeAt(0).toString(16)+"_"});for(var st=Me.content,jt=ns&&Buffer.isBuffer(st)?st.toString("binary"):ue(st),Yt=0,tr=Math.min(1024,jt.length),or=0,ur=0;ur<=tr;++ur)(or=jt.charCodeAt(ur))>=32&&or<128&&++Yt;var jr=Yt>=tr*4/5;Je.push(Ke),Je.push("Content-Location: "+(ze.root||"file:///C:/SheetJS/")+St),Je.push("Content-Transfer-Encoding: "+(jr?"quoted-printable":"base64")),Je.push("Content-Type: "+ft(Me,St)),Je.push(""),Je.push(jr?gr(jt):Wt(jt))}return Je.push(Ke+`--\r
`),Je.join(`\r
`)}function Ht(ke){var qe={};return O(qe,ke),qe}function Gt(ke,qe,ze,Ke){var Je=Ke&&Ke.unsafe;Je||O(ke);var et=!Je&&Es.find(ke,qe);if(!et){var St=ke.FullPaths[0];qe.slice(0,St.length)==St?St=qe:(St.slice(-1)!="/"&&(St+="/"),St=(St+qe).replace("//","/")),et={name:i(qe),type:2},ke.FileIndex.push(et),ke.FullPaths.push(St),Je||Es.utils.cfb_gc(ke)}return et.content=ze,et.size=ze?ze.length:0,Ke&&(Ke.CLSID&&(et.clsid=Ke.CLSID),Ke.mt&&(et.mt=Ke.mt),Ke.ct&&(et.ct=Ke.ct)),et}function dr(ke,qe){O(ke);var ze=Es.find(ke,qe);if(ze){for(var Ke=0;Ke<ke.FileIndex.length;++Ke)if(ke.FileIndex[Ke]==ze)return ke.FileIndex.splice(Ke,1),ke.FullPaths.splice(Ke,1),!0}return!1}function Jt(ke,qe,ze){O(ke);var Ke=Es.find(ke,qe);if(Ke){for(var Je=0;Je<ke.FileIndex.length;++Je)if(ke.FileIndex[Je]==Ke)return ke.FileIndex[Je].name=i(ze),ke.FullPaths[Je]=ze,!0}return!1}function Mr(ke){V(ke,!0)}return r.find=H,r.read=F,r.parse=u,r.write=se,r.writeFile=Ae,r.utils={cfb_new:Ht,cfb_add:Gt,cfb_del:dr,cfb_mov:Jt,cfb_gc:Mr,ReadShift:$1,CheckField:l$,prep_blob:xc,bconcat:uo,use_zlib:_,_deflateRaw:it,_inflateRaw:ot,consts:le},r}();function p1e(t){return typeof t=="string"?D4(t):Array.isArray(t)?Hxe(t):t}function cv(t,r,a){if(typeof Deno<"u"){if(a&&typeof r=="string")switch(a){case"utf8":r=new TextEncoder(a).encode(r);break;case"binary":r=D4(r);break;default:throw new Error("Unsupported encoding "+a)}return Deno.writeFileSync(t,r)}var s=a=="utf8"?Ey(r):r;if(typeof IE_SaveFile<"u")return IE_SaveFile(s,t);if(typeof Blob<"u"){var i=new Blob([p1e(s)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:t,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=t,l.href=o,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(t);return c.open("w"),c.encoding="binary",Array.isArray(r)&&(r=lv(r)),c.write(r),c.close(),r}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+t)}function go(t){for(var r=Object.keys(t),a=[],s=0;s<r.length;++s)Object.prototype.hasOwnProperty.call(t,r[s])&&a.push(r[s]);return a}function CO(t,r){for(var a=[],s=go(t),i=0;i!==s.length;++i)a[t[s[i]][r]]==null&&(a[t[s[i]][r]]=s[i]);return a}function B6(t){for(var r=[],a=go(t),s=0;s!==a.length;++s)r[t[a[s]]]=a[s];return r}function U4(t){for(var r=[],a=go(t),s=0;s!==a.length;++s)r[t[a[s]]]=parseInt(a[s],10);return r}function g1e(t){for(var r=[],a=go(t),s=0;s!==a.length;++s)r[t[a[s]]]==null&&(r[t[a[s]]]=[]),r[t[a[s]]].push(a[s]);return r}var fw=new Date(1899,11,30,0,0,0);function $l(t,r){var a=t.getTime(),s=fw.getTime()+(t.getTimezoneOffset()-fw.getTimezoneOffset())*6e4;return(a-s)/(1440*60*1e3)}var VH=new Date,x1e=fw.getTime()+(VH.getTimezoneOffset()-fw.getTimezoneOffset())*6e4,BO=VH.getTimezoneOffset();function KH(t){var r=new Date;return r.setTime(t*24*60*60*1e3+x1e),r.getTimezoneOffset()!==BO&&r.setTime(r.getTime()+(r.getTimezoneOffset()-BO)*6e4),r}var EO=new Date("2017-02-19T19:06:09.000Z"),GH=isNaN(EO.getFullYear())?new Date("2/19/17"):EO,y1e=GH.getFullYear()==2017;function gl(t,r){var a=new Date(t);if(y1e)return r>0?a.setTime(a.getTime()+a.getTimezoneOffset()*60*1e3):r<0&&a.setTime(a.getTime()-a.getTimezoneOffset()*60*1e3),a;if(t instanceof Date)return t;if(GH.getFullYear()==1917&&!isNaN(a.getFullYear())){var s=a.getFullYear();return t.indexOf(""+s)>-1||a.setFullYear(a.getFullYear()+100),a}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(o=new Date(o.getTime()-o.getTimezoneOffset()*60*1e3)),o}function R4(t,r){if(ns&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var a={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(o){return a[o]||o})}catch{}for(var s=[],i=0;i!=t.length;++i)s.push(String.fromCharCode(t[i]));return s.join("")}function zl(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var r={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=zl(t[a]));return r}function On(t,r){for(var a="";a.length<r;)a+=t;return a}function OA(t){var r=Number(t);if(!isNaN(r))return isFinite(r)?r:NaN;if(!/\d/.test(t))return r;var a=1,s=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return a*=100,""});return!isNaN(r=Number(s))||(s=s.replace(/[(](.*)[)]/,function(i,o){return a=-a,o}),!isNaN(r=Number(s)))?r/a:r}var v1e=["january","february","march","april","may","june","july","august","september","october","november","december"];function By(t){var r=new Date(t),a=new Date(NaN),s=r.getYear(),i=r.getMonth(),o=r.getDate();if(isNaN(o))return a;var l=t.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&v1e.indexOf(l)==-1)return a}else if(l.match(/[a-z]/))return a;return s<0||s>8099?a:(i>0||o>1)&&s!=101?r:t.match(/[^-0-9:,\/\\]/)?a:r}function Na(t,r,a){if(t.FullPaths){if(typeof a=="string"){var s;return ns?s=rh(a):s=$xe(a),Es.utils.cfb_add(t,r,s)}Es.utils.cfb_add(t,r,a)}else t.file(r,a)}function E6(){return Es.utils.cfb_new()}var ci=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,b1e={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},T6=B6(b1e),F6=/[&<>'"]/g,w1e=/[\u0000-\u0008\u000b-\u001f]/g;function xs(t){var r=t+"";return r.replace(F6,function(a){return T6[a]}).replace(w1e,function(a){return"_x"+("000"+a.charCodeAt(0).toString(16)).slice(-4)+"_"})}function TO(t){return xs(t).replace(/ /g,"_x0020_")}var WH=/[\u0000-\u001f]/g;function j1e(t){var r=t+"";return r.replace(F6,function(a){return T6[a]}).replace(/\n/g,"<br/>").replace(WH,function(a){return"&#x"+("000"+a.charCodeAt(0).toString(16)).slice(-4)+";"})}function N1e(t){var r=t+"";return r.replace(F6,function(a){return T6[a]}).replace(WH,function(a){return"&#x"+a.charCodeAt(0).toString(16).toUpperCase()+";"})}function S1e(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function C1e(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function n5(t){for(var r="",a=0,s=0,i=0,o=0,l=0,c=0;a<t.length;){if(s=t.charCodeAt(a++),s<128){r+=String.fromCharCode(s);continue}if(i=t.charCodeAt(a++),s>191&&s<224){l=(s&31)<<6,l|=i&63,r+=String.fromCharCode(l);continue}if(o=t.charCodeAt(a++),s<240){r+=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63);continue}l=t.charCodeAt(a++),c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536,r+=String.fromCharCode(55296+(c>>>10&1023)),r+=String.fromCharCode(56320+(c&1023))}return r}function FO(t){var r=Z0(2*t.length),a,s,i=1,o=0,l=0,c;for(s=0;s<t.length;s+=i)i=1,(c=t.charCodeAt(s))<128?a=c:c<224?(a=(c&31)*64+(t.charCodeAt(s+1)&63),i=2):c<240?(a=(c&15)*4096+(t.charCodeAt(s+1)&63)*64+(t.charCodeAt(s+2)&63),i=3):(i=4,a=(c&7)*262144+(t.charCodeAt(s+1)&63)*4096+(t.charCodeAt(s+2)&63)*64+(t.charCodeAt(s+3)&63),a-=65536,l=55296+(a>>>10&1023),a=56320+(a&1023)),l!==0&&(r[o++]=l&255,r[o++]=l>>>8,l=0),r[o++]=a%256,r[o++]=a>>>8;return r.slice(0,o).toString("ucs2")}function IO(t){return rh(t,"binary").toString("utf8")}var Ib="foo bar baz",H1=ns&&(IO(Ib)==n5(Ib)&&IO||FO(Ib)==n5(Ib)&&FO)||n5,Ey=ns?function(t){return rh(t,"utf8").toString("binary")}:function(t){for(var r=[],a=0,s=0,i=0;a<t.length;)switch(s=t.charCodeAt(a++),!0){case s<128:r.push(String.fromCharCode(s));break;case s<2048:r.push(String.fromCharCode(192+(s>>6))),r.push(String.fromCharCode(128+(s&63)));break;case(s>=55296&&s<57344):s-=55296,i=t.charCodeAt(a++)-56320+(s<<10),r.push(String.fromCharCode(240+(i>>18&7))),r.push(String.fromCharCode(144+(i>>12&63))),r.push(String.fromCharCode(128+(i>>6&63))),r.push(String.fromCharCode(128+(i&63)));break;default:r.push(String.fromCharCode(224+(s>>12))),r.push(String.fromCharCode(128+(s>>6&63))),r.push(String.fromCharCode(128+(s&63)))}return r.join("")},B1e=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(r){return[new RegExp("&"+r[0]+";","ig"),r[1]]});return function(a){for(var s=a.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)s=s.replace(t[i][0],t[i][1]);return s}}(),qH=/(^\s|\s$|\n)/;function fo(t,r){return"<"+t+(r.match(qH)?' xml:space="preserve"':"")+">"+r+"</"+t+">"}function Ty(t){return go(t).map(function(r){return" "+r+'="'+t[r]+'"'}).join("")}function yr(t,r,a){return"<"+t+(a!=null?Ty(a):"")+(r!=null?(r.match(qH)?' xml:space="preserve"':"")+">"+r+"</"+t:"/")+">"}function p3(t,r){try{return t.toISOString().replace(/\.\d*/,"")}catch(a){if(r)throw a}return""}function E1e(t,r){switch(typeof t){case"string":var a=yr("vt:lpwstr",xs(t));return a=a.replace(/&quot;/g,"_x0022_"),a;case"number":return yr((t|0)==t?"vt:i4":"vt:r8",xs(String(t)));case"boolean":return yr("vt:bool",t?"true":"false")}if(t instanceof Date)return yr("vt:filetime",p3(t));throw new Error("Unable to serialize "+t)}var Vi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},ox=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],bc={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function T1e(t,r){for(var a=1-2*(t[r+7]>>>7),s=((t[r+7]&127)<<4)+(t[r+6]>>>4&15),i=t[r+6]&15,o=5;o>=0;--o)i=i*256+t[r+o];return s==2047?i==0?a*(1/0):NaN:(s==0?s=-1022:(s-=1023,i+=Math.pow(2,52)),a*Math.pow(2,s-52)*i)}function F1e(t,r,a){var s=(r<0||1/r==-1/0?1:0)<<7,i=0,o=0,l=s?-r:r;isFinite(l)?l==0?i=o=0:(i=Math.floor(Math.log(l)/Math.LN2),o=l*Math.pow(2,52-i),i<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?i=-1022:(o-=Math.pow(2,52),i+=1023)):(i=2047,o=isNaN(r)?26985:0);for(var c=0;c<=5;++c,o/=256)t[a+c]=o&255;t[a+6]=(i&15)<<4|o&15,t[a+7]=i>>4|s}var kO=function(t){for(var r=[],a=10240,s=0;s<t[0].length;++s)if(t[0][s])for(var i=0,o=t[0][s].length;i<o;i+=a)r.push.apply(r,t[0][s].slice(i,i+a));return r},_O=ns?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(r){return Buffer.isBuffer(r)?r:rh(r)})):kO(t)}:kO,PO=function(t,r,a){for(var s=[],i=r;i<a;i+=2)s.push(String.fromCharCode(N1(t,i)));return s.join("").replace(Q1,"")},I6=ns?function(t,r,a){return Buffer.isBuffer(t)?t.toString("utf16le",r,a).replace(Q1,""):PO(t,r,a)}:PO,OO=function(t,r,a){for(var s=[],i=r;i<r+a;++i)s.push(("0"+t[i].toString(16)).slice(-2));return s.join("")},YH=ns?function(t,r,a){return Buffer.isBuffer(t)?t.toString("hex",r,r+a):OO(t,r,a)}:OO,DO=function(t,r,a){for(var s=[],i=r;i<a;i++)s.push(String.fromCharCode(ug(t,i)));return s.join("")},dv=ns?function(r,a,s){return Buffer.isBuffer(r)?r.toString("utf8",a,s):DO(r,a,s)}:DO,XH=function(t,r){var a=wc(t,r);return a>0?dv(t,r+4,r+4+a-1):""},JH=XH,ZH=function(t,r){var a=wc(t,r);return a>0?dv(t,r+4,r+4+a-1):""},e$=ZH,t$=function(t,r){var a=2*wc(t,r);return a>0?dv(t,r+4,r+4+a-1):""},r$=t$,a$=function(r,a){var s=wc(r,a);return s>0?I6(r,a+4,a+4+s):""},s$=a$,n$=function(t,r){var a=wc(t,r);return a>0?dv(t,r+4,r+4+a):""},i$=n$,o$=function(t,r){return T1e(t,r)},Aw=o$,k6=function(r){return Array.isArray(r)||typeof Uint8Array<"u"&&r instanceof Uint8Array};ns&&(JH=function(r,a){if(!Buffer.isBuffer(r))return XH(r,a);var s=r.readUInt32LE(a);return s>0?r.toString("utf8",a+4,a+4+s-1):""},e$=function(r,a){if(!Buffer.isBuffer(r))return ZH(r,a);var s=r.readUInt32LE(a);return s>0?r.toString("utf8",a+4,a+4+s-1):""},r$=function(r,a){if(!Buffer.isBuffer(r))return t$(r,a);var s=2*r.readUInt32LE(a);return r.toString("utf16le",a+4,a+4+s-1)},s$=function(r,a){if(!Buffer.isBuffer(r))return a$(r,a);var s=r.readUInt32LE(a);return r.toString("utf16le",a+4,a+4+s)},i$=function(r,a){if(!Buffer.isBuffer(r))return n$(r,a);var s=r.readUInt32LE(a);return r.toString("utf8",a+4,a+4+s)},Aw=function(r,a){return Buffer.isBuffer(r)?r.readDoubleLE(a):o$(r,a)},k6=function(r){return Buffer.isBuffer(r)||Array.isArray(r)||typeof Uint8Array<"u"&&r instanceof Uint8Array});var ug=function(t,r){return t[r]},N1=function(t,r){return t[r+1]*256+t[r]},I1e=function(t,r){var a=t[r+1]*256+t[r];return a<32768?a:(65535-a+1)*-1},wc=function(t,r){return t[r+3]*(1<<24)+(t[r+2]<<16)+(t[r+1]<<8)+t[r]},y0=function(t,r){return t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]},k1e=function(t,r){return t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3]};function $1(t,r){var a="",s,i,o=[],l,c,d,f;switch(r){case"dbcs":if(f=this.l,ns&&Buffer.isBuffer(this))a=this.slice(this.l,this.l+2*t).toString("utf16le");else for(d=0;d<t;++d)a+=String.fromCharCode(N1(this,f)),f+=2;t*=2;break;case"utf8":a=dv(this,this.l,this.l+t);break;case"utf16le":t*=2,a=I6(this,this.l,this.l+t);break;case"wstr":return $1.call(this,t,"dbcs");case"lpstr-ansi":a=JH(this,this.l),t=4+wc(this,this.l);break;case"lpstr-cp":a=e$(this,this.l),t=4+wc(this,this.l);break;case"lpwstr":a=r$(this,this.l),t=4+2*wc(this,this.l);break;case"lpp4":t=4+wc(this,this.l),a=s$(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+wc(this,this.l),a=i$(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,a="";(l=ug(this,this.l+t++))!==0;)o.push(Eb(l));a=o.join("");break;case"_wstr":for(t=0,a="";(l=N1(this,this.l+t))!==0;)o.push(Eb(l)),t+=2;t+=2,a=o.join("");break;case"dbcs-cont":for(a="",f=this.l,d=0;d<t;++d){if(this.lens&&this.lens.indexOf(f)!==-1)return l=ug(this,f),this.l=f+1,c=$1.call(this,t-d,l?"dbcs-cont":"sbcs-cont"),o.join("")+c;o.push(Eb(N1(this,f))),f+=2}a=o.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(a="",f=this.l,d=0;d!=t;++d){if(this.lens&&this.lens.indexOf(f)!==-1)return l=ug(this,f),this.l=f+1,c=$1.call(this,t-d,l?"dbcs-cont":"sbcs-cont"),o.join("")+c;o.push(Eb(ug(this,f))),f+=1}a=o.join("");break;default:switch(t){case 1:return s=ug(this,this.l),this.l++,s;case 2:return s=(r==="i"?I1e:N1)(this,this.l),this.l+=2,s;case 4:case-4:return r==="i"||(this[this.l+3]&128)===0?(s=(t>0?y0:k1e)(this,this.l),this.l+=4,s):(i=wc(this,this.l),this.l+=4,i);case 8:case-8:if(r==="f")return t==8?i=Aw(this,this.l):i=Aw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:a=YH(this,this.l,t);break}}return this.l+=t,a}var _1e=function(t,r,a){t[a]=r&255,t[a+1]=r>>>8&255,t[a+2]=r>>>16&255,t[a+3]=r>>>24&255},P1e=function(t,r,a){t[a]=r&255,t[a+1]=r>>8&255,t[a+2]=r>>16&255,t[a+3]=r>>24&255},O1e=function(t,r,a){t[a]=r&255,t[a+1]=r>>>8&255};function D1e(t,r,a){var s=0,i=0;if(a==="dbcs"){for(i=0;i!=r.length;++i)O1e(this,r.charCodeAt(i),this.l+2*i);s=2*r.length}else if(a==="sbcs"){for(r=r.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=r.length;++i)this[this.l+i]=r.charCodeAt(i)&255;s=r.length}else if(a==="hex"){for(;i<t;++i)this[this.l++]=parseInt(r.slice(2*i,2*i+2),16)||0;return this}else if(a==="utf16le"){var o=Math.min(this.l+t,this.length);for(i=0;i<Math.min(r.length,t);++i){var l=r.charCodeAt(i);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(t){case 1:s=1,this[this.l]=r&255;break;case 2:s=2,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255;break;case 3:s=3,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255,r>>>=8,this[this.l+2]=r&255;break;case 4:s=4,_1e(this,r,this.l);break;case 8:if(s=8,a==="f"){F1e(this,r,this.l);break}case 16:break;case-4:s=4,P1e(this,r,this.l);break}return this.l+=s,this}function l$(t,r){var a=YH(this,this.l,t.length>>1);if(a!==t)throw new Error(r+"Expected "+t+" saw "+a);this.l+=t.length>>1}function xc(t,r){t.l=r,t.read_shift=$1,t.chk=l$,t.write_shift=D1e}function Ef(t,r){t.l+=r}function Vt(t){var r=Z0(t);return xc(r,0),r}function Ql(){var t=[],r=ns?256:2048,a=function(f){var u=Vt(f);return xc(u,0),u},s=a(r),i=function(){s&&(s.length>s.l&&(s=s.slice(0,s.l),s.l=s.length),s.length>0&&t.push(s),s=null)},o=function(f){return s&&f<s.length-s.l?s:(i(),s=a(Math.max(f+1,r)))},l=function(){return i(),uo(t)},c=function(f){i(),s=f,s.l==null&&(s.l=s.length),o(r)};return{next:o,push:c,end:l,_bufs:t}}function ir(t,r,a,s){var i=+r,o;if(!isNaN(i)){s||(s=T4e[i].p||(a||[]).length||0),o=1+(i>=128?1:0)+1,s>=128&&++o,s>=16384&&++o,s>=2097152&&++o;var l=t.next(o);i<=127?l.write_shift(1,i):(l.write_shift(1,(i&127)+128),l.write_shift(1,i>>7));for(var c=0;c!=4;++c)if(s>=128)l.write_shift(1,(s&127)+128),s>>=7;else{l.write_shift(1,s);break}s>0&&k6(a)&&t.push(a)}}function z1(t,r,a){var s=zl(t);if(r.s?(s.cRel&&(s.c+=r.s.c),s.rRel&&(s.r+=r.s.r)):(s.cRel&&(s.c+=r.c),s.rRel&&(s.r+=r.r)),!a||a.biff<12){for(;s.c>=256;)s.c-=256;for(;s.r>=65536;)s.r-=65536}return s}function LO(t,r,a){var s=zl(t);return s.s=z1(s.s,r.s,a),s.e=z1(s.e,r.s,a),s}function V1(t,r){if(t.cRel&&t.c<0)for(t=zl(t);t.c<0;)t.c+=r>8?16384:256;if(t.rRel&&t.r<0)for(t=zl(t);t.r<0;)t.r+=r>8?1048576:r>5?65536:16384;var a=vs(t);return!t.cRel&&t.cRel!=null&&(a=U1e(a)),!t.rRel&&t.rRel!=null&&(a=L1e(a)),a}function i5(t,r){return t.s.r==0&&!t.s.rRel&&t.e.r==(r.biff>=12?1048575:r.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+zo(t.s.c)+":"+(t.e.cRel?"":"$")+zo(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(r.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+ho(t.s.r)+":"+(t.e.rRel?"":"$")+ho(t.e.r):V1(t.s,r.biff)+":"+V1(t.e,r.biff)}function _6(t){return parseInt(M1e(t),10)-1}function ho(t){return""+(t+1)}function L1e(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function M1e(t){return t.replace(/\$(\d+)$/,"$1")}function P6(t){for(var r=R1e(t),a=0,s=0;s!==r.length;++s)a=26*a+r.charCodeAt(s)-64;return a-1}function zo(t){if(t<0)throw new Error("invalid column "+t);var r="";for(++t;t;t=Math.floor((t-1)/26))r=String.fromCharCode((t-1)%26+65)+r;return r}function U1e(t){return t.replace(/^([A-Z])/,"$$$1")}function R1e(t){return t.replace(/^\$([A-Z])/,"$1")}function Q1e(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Gi(t){for(var r=0,a=0,s=0;s<t.length;++s){var i=t.charCodeAt(s);i>=48&&i<=57?r=10*r+(i-48):i>=65&&i<=90&&(a=26*a+(i-64))}return{c:a-1,r:r-1}}function vs(t){for(var r=t.c+1,a="";r;r=(r-1)/26|0)a=String.fromCharCode((r-1)%26+65)+a;return a+(t.r+1)}function Ec(t){var r=t.indexOf(":");return r==-1?{s:Gi(t),e:Gi(t)}:{s:Gi(t.slice(0,r)),e:Gi(t.slice(r+1))}}function li(t,r){return typeof r>"u"||typeof r=="number"?li(t.s,t.e):(typeof t!="string"&&(t=vs(t)),typeof r!="string"&&(r=vs(r)),t==r?t:t+":"+r)}function nn(t){var r={s:{c:0,r:0},e:{c:0,r:0}},a=0,s=0,i=0,o=t.length;for(a=0;s<o&&!((i=t.charCodeAt(s)-64)<1||i>26);++s)a=26*a+i;for(r.s.c=--a,a=0;s<o&&!((i=t.charCodeAt(s)-48)<0||i>9);++s)a=10*a+i;if(r.s.r=--a,s===o||i!=10)return r.e.c=r.s.c,r.e.r=r.s.r,r;for(++s,a=0;s!=o&&!((i=t.charCodeAt(s)-64)<1||i>26);++s)a=26*a+i;for(r.e.c=--a,a=0;s!=o&&!((i=t.charCodeAt(s)-48)<0||i>9);++s)a=10*a+i;return r.e.r=--a,r}function MO(t,r){var a=t.t=="d"&&r instanceof Date;if(t.z!=null)try{return t.w=xm(t.z,a?$l(r):r)}catch{}try{return t.w=xm((t.XF||{}).numFmtId||(a?14:0),a?$l(r):r)}catch{return""+r}}function VA(t,r,a){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&a&&a.dateNF&&(t.z=a.dateNF),t.t=="e"?uv[t.v]||t.v:r==null?MO(t,t.v):MO(t,r))}function Ap(t,r){var a=r&&r.sheet?r.sheet:"Sheet1",s={};return s[a]=t,{SheetNames:[a],Sheets:s}}function c$(t,r,a){var s=a||{},i=t?Array.isArray(t):s.dense,o=t||(i?[]:{}),l=0,c=0;if(o&&s.origin!=null){if(typeof s.origin=="number")l=s.origin;else{var d=typeof s.origin=="string"?Gi(s.origin):s.origin;l=d.r,c=d.c}o["!ref"]||(o["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var u=nn(o["!ref"]);f.s.c=u.s.c,f.s.r=u.s.r,f.e.c=Math.max(f.e.c,u.e.c),f.e.r=Math.max(f.e.r,u.e.r),l==-1&&(f.e.r=l=u.e.r+1)}for(var m=0;m!=r.length;++m)if(r[m]){if(!Array.isArray(r[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=r[m].length;++p)if(!(typeof r[m][p]>"u")){var g={v:r[m][p]},v=l+m,y=c+p;if(f.s.r>v&&(f.s.r=v),f.s.c>y&&(f.s.c=y),f.e.r<v&&(f.e.r=v),f.e.c<y&&(f.e.c=y),r[m][p]&&typeof r[m][p]=="object"&&!Array.isArray(r[m][p])&&!(r[m][p]instanceof Date))g=r[m][p];else if(Array.isArray(g.v)&&(g.f=r[m][p][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(s.nullError)g.t="e",g.v=0;else if(s.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=s.dateNF||Ln[14],s.cellDates?(g.t="d",g.w=xm(g.z,$l(g.v))):(g.t="n",g.v=$l(g.v),g.w=xm(g.z,g.v))):g.t="s";if(i)o[v]||(o[v]=[]),o[v][y]&&o[v][y].z&&(g.z=o[v][y].z),o[v][y]=g;else{var b=vs({c:y,r:v});o[b]&&o[b].z&&(g.z=o[b].z),o[b]=g}}}return f.s.c<1e7&&(o["!ref"]=li(f)),o}function lx(t,r){return c$(null,t,r)}function H1e(t){return t.read_shift(4,"i")}function bu(t,r){return r||(r=Vt(4)),r.write_shift(4,t),r}function Vo(t){var r=t.read_shift(4);return r===0?"":t.read_shift(r,"dbcs")}function Wi(t,r){var a=!1;return r==null&&(a=!0,r=Vt(4+2*t.length)),r.write_shift(4,t.length),t.length>0&&r.write_shift(0,t,"dbcs"),a?r.slice(0,r.l):r}function $1e(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function z1e(t,r){return r||(r=Vt(4)),r.write_shift(2,0),r.write_shift(2,0),r}function O6(t,r){var a=t.l,s=t.read_shift(1),i=Vo(t),o=[],l={t:i,h:i};if((s&1)!==0){for(var c=t.read_shift(4),d=0;d!=c;++d)o.push($1e(t));l.r=o}else l.r=[{ich:0,ifnt:0}];return t.l=a+r,l}function V1e(t,r){var a=!1;return r==null&&(a=!0,r=Vt(15+4*t.t.length)),r.write_shift(1,0),Wi(t.t,r),a?r.slice(0,r.l):r}var K1e=O6;function G1e(t,r){var a=!1;return r==null&&(a=!0,r=Vt(23+4*t.t.length)),r.write_shift(1,1),Wi(t.t,r),r.write_shift(4,1),z1e({},r),a?r.slice(0,r.l):r}function vd(t){var r=t.read_shift(4),a=t.read_shift(2);return a+=t.read_shift(1)<<16,t.l++,{c:r,iStyleRef:a}}function hp(t,r){return r==null&&(r=Vt(8)),r.write_shift(-4,t.c),r.write_shift(3,t.iStyleRef||t.s),r.write_shift(1,0),r}function mp(t){var r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:r}}function pp(t,r){return r==null&&(r=Vt(4)),r.write_shift(3,t.iStyleRef||t.s),r.write_shift(1,0),r}var W1e=Vo,d$=Wi;function D6(t){var r=t.read_shift(4);return r===0||r===4294967295?"":t.read_shift(r,"dbcs")}function hw(t,r){var a=!1;return r==null&&(a=!0,r=Vt(127)),r.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&r.write_shift(0,t,"dbcs"),a?r.slice(0,r.l):r}var q1e=Vo,g3=D6,L6=hw;function u$(t){var r=t.slice(t.l,t.l+4),a=r[0]&1,s=r[0]&2;t.l+=4;var i=s===0?Aw([0,0,0,0,r[0]&252,r[1],r[2],r[3]],0):y0(r,0)>>2;return a?i/100:i}function f$(t,r){r==null&&(r=Vt(4));var a=0,s=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?s=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(s=1,a=1),s)r.write_shift(-4,((a?i:t)<<2)+(a+2));else throw new Error("unsupported RkNumber "+t)}function A$(t){var r={s:{},e:{}};return r.s.r=t.read_shift(4),r.e.r=t.read_shift(4),r.s.c=t.read_shift(4),r.e.c=t.read_shift(4),r}function Y1e(t,r){return r||(r=Vt(16)),r.write_shift(4,t.s.r),r.write_shift(4,t.e.r),r.write_shift(4,t.s.c),r.write_shift(4,t.e.c),r}var gp=A$,cx=Y1e;function dx(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function ep(t,r){return(r||Vt(8)).write_shift(8,t,"f")}function X1e(t){var r={},a=t.read_shift(1),s=a>>>1,i=t.read_shift(1),o=t.read_shift(2,"i"),l=t.read_shift(1),c=t.read_shift(1),d=t.read_shift(1);switch(t.l++,s){case 0:r.auto=1;break;case 1:r.index=i;var f=iye[i];f&&(r.rgb=qO(f));break;case 2:r.rgb=qO([l,c,d]);break;case 3:r.theme=i;break}return o!=0&&(r.tint=o>0?o/32767:o/32768),r}function mw(t,r){if(r||(r=Vt(8)),!t||t.auto)return r.write_shift(4,0),r.write_shift(4,0),r;t.index!=null?(r.write_shift(1,2),r.write_shift(1,t.index)):t.theme!=null?(r.write_shift(1,6),r.write_shift(1,t.theme)):(r.write_shift(1,5),r.write_shift(1,0));var a=t.tint||0;if(a>0?a*=32767:a<0&&(a*=32768),r.write_shift(2,a),!t.rgb||t.theme!=null)r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);else{var s=t.rgb||"FFFFFF";typeof s=="number"&&(s=("000000"+s.toString(16)).slice(-6)),r.write_shift(1,parseInt(s.slice(0,2),16)),r.write_shift(1,parseInt(s.slice(2,4),16)),r.write_shift(1,parseInt(s.slice(4,6),16)),r.write_shift(1,255)}return r}function J1e(t){var r=t.read_shift(1);t.l++;var a={fBold:r&1,fItalic:r&2,fUnderline:r&4,fStrikeout:r&8,fOutline:r&16,fShadow:r&32,fCondense:r&64,fExtend:r&128};return a}function Z1e(t,r){r||(r=Vt(2));var a=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return r.write_shift(1,a),r.write_shift(1,0),r}var h$=2,pc=3,kb=11,pw=19,_b=64,eye=65,tye=71,rye=4108,aye=4126,lo=80,UO={1:{n:"CodePage",t:h$},2:{n:"Category",t:lo},3:{n:"PresentationFormat",t:lo},4:{n:"ByteCount",t:pc},5:{n:"LineCount",t:pc},6:{n:"ParagraphCount",t:pc},7:{n:"SlideCount",t:pc},8:{n:"NoteCount",t:pc},9:{n:"HiddenCount",t:pc},10:{n:"MultimediaClipCount",t:pc},11:{n:"ScaleCrop",t:kb},12:{n:"HeadingPairs",t:rye},13:{n:"TitlesOfParts",t:aye},14:{n:"Manager",t:lo},15:{n:"Company",t:lo},16:{n:"LinksUpToDate",t:kb},17:{n:"CharacterCount",t:pc},19:{n:"SharedDoc",t:kb},22:{n:"HyperlinksChanged",t:kb},23:{n:"AppVersion",t:pc,p:"version"},24:{n:"DigSig",t:eye},26:{n:"ContentType",t:lo},27:{n:"ContentStatus",t:lo},28:{n:"Language",t:lo},29:{n:"Version",t:lo},255:{},2147483648:{n:"Locale",t:pw},2147483651:{n:"Behavior",t:pw},1919054434:{}},RO={1:{n:"CodePage",t:h$},2:{n:"Title",t:lo},3:{n:"Subject",t:lo},4:{n:"Author",t:lo},5:{n:"Keywords",t:lo},6:{n:"Comments",t:lo},7:{n:"Template",t:lo},8:{n:"LastAuthor",t:lo},9:{n:"RevNumber",t:lo},10:{n:"EditTime",t:_b},11:{n:"LastPrinted",t:_b},12:{n:"CreatedDate",t:_b},13:{n:"ModifiedDate",t:_b},14:{n:"PageCount",t:pc},15:{n:"WordCount",t:pc},16:{n:"CharCount",t:pc},17:{n:"Thumbnail",t:tye},18:{n:"Application",t:lo},19:{n:"DocSecurity",t:pc},255:{},2147483648:{n:"Locale",t:pw},2147483651:{n:"Behavior",t:pw},1919054434:{}};function sye(t){return t.map(function(r){return[r>>16&255,r>>8&255,r&255]})}var nye=sye([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),iye=zl(nye),uv={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},oye={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Pb={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function m$(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function p$(t,r){var a=g1e(oye),s=[],i;s[s.length]=ci,s[s.length]=yr("Types",null,{xmlns:Vi.CT,"xmlns:xsd":Vi.xsd,"xmlns:xsi":Vi.xsi}),s=s.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return yr("Default",null,{Extension:d[0],ContentType:d[1]})}));var o=function(d){t[d]&&t[d].length>0&&(i=t[d][0],s[s.length]=yr("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Pb[d][r.bookType]||Pb[d].xlsx}))},l=function(d){(t[d]||[]).forEach(function(f){s[s.length]=yr("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:Pb[d][r.bookType]||Pb[d].xlsx})})},c=function(d){(t[d]||[]).forEach(function(f){s[s.length]=yr("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:a[d][0]})})};return o("workbooks"),l("sheets"),l("charts"),c("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),l("metadata"),c("people"),s.length>2&&(s[s.length]="</Types>",s[1]=s[1].replace("/>",">")),s.join("")}var Xa={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function g$(t){var r=t.lastIndexOf("/");return t.slice(0,r+1)+"_rels/"+t.slice(r+1)+".rels"}function Cg(t){var r=[ci,yr("Relationships",null,{xmlns:Vi.RELS})];return go(t["!id"]).forEach(function(a){r[r.length]=yr("Relationship",null,t["!id"][a])}),r.length>2&&(r[r.length]="</Relationships>",r[1]=r[1].replace("/>",">")),r.join("")}function ms(t,r,a,s,i,o){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),r<0)for(r=t["!idx"];t["!id"]["rId"+r];++r);if(t["!idx"]=r+1,i.Id="rId"+r,i.Type=s,i.Target=a,[Xa.HLINK,Xa.XPATH,Xa.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+r);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,r}function lye(t){var r=[ci];r.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),r.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var a=0;a<t.length;++a)r.push('  <manifest:file-entry manifest:full-path="'+t[a][0]+'" manifest:media-type="'+t[a][1]+`"/>
`);return r.push("</manifest:manifest>"),r.join("")}function QO(t,r,a){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(a||"odf")+"#"+r+`"/>
`,`  </rdf:Description>
`].join("")}function cye(t,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+r+`"/>
`,`  </rdf:Description>
`].join("")}function dye(t){var r=[ci];r.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var a=0;a!=t.length;++a)r.push(QO(t[a][0],t[a][1])),r.push(cye("",t[a][0]));return r.push(QO("","Document","pkg")),r.push("</rdf:RDF>"),r.join("")}function x$(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+ow.version+"</meta:generator></office:meta></office:document-meta>"}var Q0=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function o5(t,r,a,s,i){i[t]!=null||r==null||r===""||(i[t]=r,r=xs(r),s[s.length]=a?yr(t,r,a):fo(t,r))}function y$(t,r){var a=r||{},s=[ci,yr("cp:coreProperties",null,{"xmlns:cp":Vi.CORE_PROPS,"xmlns:dc":Vi.dc,"xmlns:dcterms":Vi.dcterms,"xmlns:dcmitype":Vi.dcmitype,"xmlns:xsi":Vi.xsi})],i={};if(!t&&!a.Props)return s.join("");t&&(t.CreatedDate!=null&&o5("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:p3(t.CreatedDate,a.WTF),{"xsi:type":"dcterms:W3CDTF"},s,i),t.ModifiedDate!=null&&o5("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:p3(t.ModifiedDate,a.WTF),{"xsi:type":"dcterms:W3CDTF"},s,i));for(var o=0;o!=Q0.length;++o){var l=Q0[o],c=a.Props&&a.Props[l[1]]!=null?a.Props[l[1]]:t?t[l[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&o5(l[0],c,null,s,i)}return s.length>2&&(s[s.length]="</cp:coreProperties>",s[1]=s[1].replace("/>",">")),s.join("")}var Bg=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],v$=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function b$(t){var r=[],a=yr;return t||(t={}),t.Application="SheetJS",r[r.length]=ci,r[r.length]=yr("Properties",null,{xmlns:Vi.EXT_PROPS,"xmlns:vt":Vi.vt}),Bg.forEach(function(s){if(t[s[1]]!==void 0){var i;switch(s[2]){case"string":i=xs(String(t[s[1]]));break;case"bool":i=t[s[1]]?"true":"false";break}i!==void 0&&(r[r.length]=a(s[0],i))}}),r[r.length]=a("HeadingPairs",a("vt:vector",a("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+a("vt:variant",a("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),r[r.length]=a("TitlesOfParts",a("vt:vector",t.SheetNames.map(function(s){return"<vt:lpstr>"+xs(s)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),r.length>2&&(r[r.length]="</Properties>",r[1]=r[1].replace("/>",">")),r.join("")}function w$(t){var r=[ci,yr("Properties",null,{xmlns:Vi.CUST_PROPS,"xmlns:vt":Vi.vt})];if(!t)return r.join("");var a=1;return go(t).forEach(function(i){++a,r[r.length]=yr("property",E1e(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:a,name:xs(i)})}),r.length>2&&(r[r.length]="</Properties>",r[1]=r[1].replace("/>",">")),r.join("")}var HO={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function uye(t,r){var a=[];return go(HO).map(function(s){for(var i=0;i<Q0.length;++i)if(Q0[i][1]==s)return Q0[i];for(i=0;i<Bg.length;++i)if(Bg[i][1]==s)return Bg[i];throw s}).forEach(function(s){if(t[s[1]]!=null){var i=r&&r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:t[s[1]];switch(s[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),a.push(fo(HO[s[1]]||s[1],i))}}),yr("DocumentProperties",a.join(""),{xmlns:bc.o})}function fye(t,r){var a=["Worksheets","SheetNames"],s="CustomDocumentProperties",i=[];return t&&go(t).forEach(function(o){if(Object.prototype.hasOwnProperty.call(t,o)){for(var l=0;l<Q0.length;++l)if(o==Q0[l][1])return;for(l=0;l<Bg.length;++l)if(o==Bg[l][1])return;for(l=0;l<a.length;++l)if(o==a[l])return;var c=t[o],d="string";typeof c=="number"?(d="float",c=String(c)):c===!0||c===!1?(d="boolean",c=c?"1":"0"):c=String(c),i.push(yr(TO(o),c,{"dt:dt":d}))}}),r&&go(r).forEach(function(o){if(Object.prototype.hasOwnProperty.call(r,o)&&!(t&&Object.prototype.hasOwnProperty.call(t,o))){var l=r[o],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l instanceof Date?(c="dateTime.tz",l=l.toISOString()):l=String(l),i.push(yr(TO(o),l,{"dt:dt":c}))}}),"<"+s+' xmlns="'+bc.o+'">'+i.join("")+"</"+s+">"}function Aye(t){var r=typeof t=="string"?new Date(Date.parse(t)):t,a=r.getTime()/1e3+11644473600,s=a%Math.pow(2,32),i=(a-s)/Math.pow(2,32);s*=1e7,i*=1e7;var o=s/Math.pow(2,32)|0;o>0&&(s=s%Math.pow(2,32),i+=o);var l=Vt(8);return l.write_shift(4,s),l.write_shift(4,i),l}function $O(t,r){var a=Vt(4),s=Vt(4);switch(a.write_shift(4,t==80?31:t),t){case 3:s.write_shift(-4,r);break;case 5:s=Vt(8),s.write_shift(8,r,"f");break;case 11:s.write_shift(4,r?1:0);break;case 64:s=Aye(r);break;case 31:case 80:for(s=Vt(4+2*(r.length+1)+(r.length%2?0:2)),s.write_shift(4,r.length+1),s.write_shift(0,r,"dbcs");s.l!=s.length;)s.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+r)}return uo([a,s])}var j$=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function hye(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function zO(t,r,a){var s=Vt(8),i=[],o=[],l=8,c=0,d=Vt(8),f=Vt(8);if(d.write_shift(4,2),d.write_shift(4,1200),f.write_shift(4,1),o.push(d),i.push(f),l+=8+d.length,!r){f=Vt(8),f.write_shift(4,0),i.unshift(f);var u=[Vt(4)];for(u[0].write_shift(4,t.length),c=0;c<t.length;++c){var m=t[c][0];for(d=Vt(8+2*(m.length+1)+(m.length%2?0:2)),d.write_shift(4,c+2),d.write_shift(4,m.length+1),d.write_shift(0,m,"dbcs");d.l!=d.length;)d.write_shift(1,0);u.push(d)}d=uo(u),o.unshift(d),l+=8+d.length}for(c=0;c<t.length;++c)if(!(r&&!r[t[c][0]])&&!(j$.indexOf(t[c][0])>-1||v$.indexOf(t[c][0])>-1)&&t[c][1]!=null){var p=t[c][1],g=0;if(r){g=+r[t[c][0]];var v=a[g];if(v.p=="version"&&typeof p=="string"){var y=p.split(".");p=(+y[0]<<16)+(+y[1]||0)}d=$O(v.t,p)}else{var b=hye(p);b==-1&&(b=31,p=String(p)),d=$O(b,p)}o.push(d),f=Vt(8),f.write_shift(4,r?g:2+c),i.push(f),l+=8+d.length}var j=8*(o.length+1);for(c=0;c<o.length;++c)i[c].write_shift(4,j),j+=o[c].length;return s.write_shift(4,l),s.write_shift(4,o.length),uo([s].concat(i).concat(o))}function VO(t,r,a,s,i,o){var l=Vt(i?68:48),c=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,Es.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,i?2:1),l.write_shift(16,r,"hex"),l.write_shift(4,i?68:48);var d=zO(t,a,s);if(c.push(d),i){var f=zO(i,null,null);l.write_shift(16,o,"hex"),l.write_shift(4,68+d.length),c.push(f)}return uo(c)}function mye(t,r){r||(r=Vt(t));for(var a=0;a<t;++a)r.write_shift(1,0);return r}function pye(t,r){return t.read_shift(r)===1}function cl(t,r){return r||(r=Vt(2)),r.write_shift(2,+!!t),r}function N$(t){return t.read_shift(2,"u")}function ud(t,r){return r||(r=Vt(2)),r.write_shift(2,t),r}function S$(t,r,a){return a||(a=Vt(2)),a.write_shift(1,r=="e"?+t:+!!t),a.write_shift(1,r=="e"?1:0),a}function C$(t,r,a){var s=t.read_shift(a&&a.biff>=12?2:1),i="sbcs-cont";if(a&&a.biff>=8,!a||a.biff==8){var o=t.read_shift(1);o&&(i="dbcs-cont")}else a.biff==12&&(i="wstr");a.biff>=2&&a.biff<=5&&(i="cpstr");var l=s?t.read_shift(s,i):"";return l}function gye(t){var r=t.t||"",a=Vt(3);a.write_shift(2,r.length),a.write_shift(1,1);var s=Vt(2*r.length);s.write_shift(2*r.length,r,"utf16le");var i=[a,s];return uo(i)}function xye(t,r,a){var s;if(a){if(a.biff>=2&&a.biff<=5)return t.read_shift(r,"cpstr");if(a.biff>=12)return t.read_shift(r,"dbcs-cont")}var i=t.read_shift(1);return i===0?s=t.read_shift(r,"sbcs-cont"):s=t.read_shift(r,"dbcs-cont"),s}function yye(t,r,a){var s=t.read_shift(a&&a.biff==2?1:2);return s===0?(t.l++,""):xye(t,s,a)}function vye(t,r,a){if(a.biff>5)return yye(t,r,a);var s=t.read_shift(1);return s===0?(t.l++,""):t.read_shift(s,a.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function B$(t,r,a){return a||(a=Vt(3+2*t.length)),a.write_shift(2,t.length),a.write_shift(1,1),a.write_shift(31,t,"utf16le"),a}function KO(t,r){r||(r=Vt(6+t.length*2)),r.write_shift(4,1+t.length);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function bye(t){var r=Vt(512),a=0,s=t.Target;s.slice(0,7)=="file://"&&(s=s.slice(7));var i=s.indexOf("#"),o=i>-1?31:23;switch(s.charAt(0)){case"#":o=28;break;case".":o&=-3;break}r.write_shift(4,2),r.write_shift(4,o);var l=[8,6815827,6619237,4849780,83];for(a=0;a<l.length;++a)r.write_shift(4,l[a]);if(o==28)s=s.slice(1),KO(s,r);else if(o&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<l.length;++a)r.write_shift(1,parseInt(l[a],16));var c=i>-1?s.slice(0,i):s;for(r.write_shift(4,2*(c.length+1)),a=0;a<c.length;++a)r.write_shift(2,c.charCodeAt(a));r.write_shift(2,0),o&8&&KO(i>-1?s.slice(i+1):"",r)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),a=0;a<l.length;++a)r.write_shift(1,parseInt(l[a],16));for(var d=0;s.slice(d*3,d*3+3)=="../"||s.slice(d*3,d*3+3)=="..\\";)++d;for(r.write_shift(2,d),r.write_shift(4,s.length-3*d+1),a=0;a<s.length-3*d;++a)r.write_shift(1,s.charCodeAt(a+3*d)&255);for(r.write_shift(1,0),r.write_shift(2,65535),r.write_shift(2,57005),a=0;a<6;++a)r.write_shift(4,0)}return r.slice(0,r.l)}function tp(t,r,a,s){return s||(s=Vt(6)),s.write_shift(2,t),s.write_shift(2,r),s.write_shift(2,a||0),s}function wye(t,r,a){var s=a.biff>8?4:2,i=t.read_shift(s),o=t.read_shift(s,"i"),l=t.read_shift(s,"i");return[i,o,l]}function jye(t){var r=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(2),i=t.read_shift(2);return{s:{c:s,r},e:{c:i,r:a}}}function E$(t,r){return r||(r=Vt(8)),r.write_shift(2,t.s.r),r.write_shift(2,t.e.r),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c),r}function M6(t,r,a){var s=1536,i=16;switch(a.bookType){case"biff8":break;case"biff5":s=1280,i=8;break;case"biff4":s=4,i=6;break;case"biff3":s=3,i=6;break;case"biff2":s=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var o=Vt(i);return o.write_shift(2,s),o.write_shift(2,r),i>4&&o.write_shift(2,29282),i>6&&o.write_shift(2,1997),i>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function Nye(t,r){var a=!r||r.biff==8,s=Vt(a?112:54);for(s.write_shift(r.biff==8?2:1,7),a&&s.write_shift(1,0),s.write_shift(4,859007059),s.write_shift(4,5458548|(a?0:536870912));s.l<s.length;)s.write_shift(1,a?0:32);return s}function Sye(t,r){var a=!r||r.biff>=8?2:1,s=Vt(8+a*t.name.length);s.write_shift(4,t.pos),s.write_shift(1,t.hs||0),s.write_shift(1,t.dt),s.write_shift(1,t.name.length),r.biff>=8&&s.write_shift(1,1),s.write_shift(a*t.name.length,t.name,r.biff<8?"sbcs":"utf16le");var i=s.slice(0,s.l);return i.l=s.l,i}function Cye(t,r){var a=Vt(8);a.write_shift(4,t.Count),a.write_shift(4,t.Unique);for(var s=[],i=0;i<t.length;++i)s[i]=gye(t[i]);var o=uo([a].concat(s));return o.parts=[a.length].concat(s.map(function(l){return l.length})),o}function Bye(){var t=Vt(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function Eye(t){var r=Vt(18),a=1718;return t&&t.RTL&&(a|=64),r.write_shift(2,a),r.write_shift(4,0),r.write_shift(4,64),r.write_shift(4,0),r.write_shift(4,0),r}function Tye(t,r){var a=t.name||"Arial",s=r&&r.biff==5,i=s?15+a.length:16+2*a.length,o=Vt(i);return o.write_shift(2,t.sz*20),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,a.length),s||o.write_shift(1,1),o.write_shift((s?1:2)*a.length,a,s?"sbcs":"utf16le"),o}function Fye(t,r,a,s){var i=Vt(10);return tp(t,r,s,i),i.write_shift(4,a),i}function Iye(t,r,a,s,i){var o=!i||i.biff==8,l=Vt(8+ +o+(1+o)*a.length);return tp(t,r,s,l),l.write_shift(2,a.length),o&&l.write_shift(1,1),l.write_shift((1+o)*a.length,a,o?"utf16le":"sbcs"),l}function kye(t,r,a,s){var i=a&&a.biff==5;s||(s=Vt(i?3+r.length:5+2*r.length)),s.write_shift(2,t),s.write_shift(i?1:2,r.length),i||s.write_shift(1,1),s.write_shift((i?1:2)*r.length,r,i?"sbcs":"utf16le");var o=s.length>s.l?s.slice(0,s.l):s;return o.l==null&&(o.l=o.length),o}function _ye(t,r){var a=r.biff==8||!r.biff?4:2,s=Vt(2*a+6);return s.write_shift(a,t.s.r),s.write_shift(a,t.e.r+1),s.write_shift(2,t.s.c),s.write_shift(2,t.e.c+1),s.write_shift(2,0),s}function GO(t,r,a,s){var i=a&&a.biff==5;s||(s=Vt(i?16:20)),s.write_shift(2,0),t.style?(s.write_shift(2,t.numFmtId||0),s.write_shift(2,65524)):(s.write_shift(2,t.numFmtId||0),s.write_shift(2,r<<4));var o=0;return t.numFmtId>0&&i&&(o|=1024),s.write_shift(4,o),s.write_shift(4,0),i||s.write_shift(4,0),s.write_shift(2,0),s}function Pye(t){var r=Vt(8);return r.write_shift(4,0),r.write_shift(2,0),r.write_shift(2,0),r}function Oye(t,r,a,s,i,o){var l=Vt(8);return tp(t,r,s,l),S$(a,o,l),l}function Dye(t,r,a,s){var i=Vt(14);return tp(t,r,s,i),ep(a,i),i}function Lye(t,r,a){if(a.biff<8)return Mye(t,r,a);for(var s=[],i=t.l+r,o=t.read_shift(a.biff>8?4:2);o--!==0;)s.push(wye(t,a.biff>8?12:6,a));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return s}function Mye(t,r,a){t[t.l+1]==3&&t[t.l]++;var s=C$(t,r,a);return s.charCodeAt(0)==3?s.slice(1):s}function Uye(t){var r=Vt(2+t.length*8);r.write_shift(2,t.length);for(var a=0;a<t.length;++a)E$(t[a],r);return r}function Rye(t){var r=Vt(24),a=Gi(t[0]);r.write_shift(2,a.r),r.write_shift(2,a.r),r.write_shift(2,a.c),r.write_shift(2,a.c);for(var s="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)r.write_shift(1,parseInt(s[i],16));return uo([r,bye(t[1])])}function Qye(t){var r=t[1].Tooltip,a=Vt(10+2*(r.length+1));a.write_shift(2,2048);var s=Gi(t[0]);a.write_shift(2,s.r),a.write_shift(2,s.r),a.write_shift(2,s.c),a.write_shift(2,s.c);for(var i=0;i<r.length;++i)a.write_shift(2,r.charCodeAt(i));return a.write_shift(2,0),a}function Hye(t){return t||(t=Vt(4)),t.write_shift(2,1),t.write_shift(2,1),t}function $ye(t,r,a){if(!a.cellStyles)return Ef(t,r);var s=a&&a.biff>=12?4:2,i=t.read_shift(s),o=t.read_shift(s),l=t.read_shift(s),c=t.read_shift(s),d=t.read_shift(2);s==2&&(t.l+=2);var f={s:i,e:o,w:l,ixfe:c,flags:d};return(a.biff>=5||!a.biff)&&(f.level=d>>8&7),f}function zye(t,r){var a=Vt(12);a.write_shift(2,r),a.write_shift(2,r),a.write_shift(2,t.width*256),a.write_shift(2,0);var s=0;return t.hidden&&(s|=1),a.write_shift(1,s),s=t.level||0,a.write_shift(1,s),a.write_shift(2,0),a}function Vye(t){for(var r=Vt(2*t),a=0;a<t;++a)r.write_shift(2,a+1);return r}function Kye(t,r,a){var s=Vt(15);return Av(s,t,r),s.write_shift(8,a,"f"),s}function Gye(t,r,a){var s=Vt(9);return Av(s,t,r),s.write_shift(2,a),s}var Wye=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},r=B6({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function a(c,d){var f=[],u=Z0(1);switch(d.type){case"base64":u=gu(zA(c));break;case"binary":u=gu(c);break;case"buffer":case"array":u=c;break}xc(u,0);var m=u.read_shift(1),p=!!(m&136),g=!1,v=!1;switch(m){case 2:break;case 3:break;case 48:g=!0,p=!0;break;case 49:g=!0,p=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var y=0,b=521;m==2&&(y=u.read_shift(2)),u.l+=3,m!=2&&(y=u.read_shift(4)),y>1048576&&(y=1e6),m!=2&&(b=u.read_shift(2));var j=u.read_shift(2),N=d.codepage||1252;m!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(N=t[u[u.l]]),u.l+=1,u.l+=2),v&&(u.l+=36);for(var S=[],B={},I=Math.min(u.length,m==2?521:b-10-(g?264:0)),F=v?32:11;u.l<I&&u[u.l]!=13;)switch(B={},B.name=lw.utils.decode(N,u.slice(u.l,u.l+F)).replace(/[\u0000\r\n].*$/g,""),u.l+=F,B.type=String.fromCharCode(u.read_shift(1)),m!=2&&!v&&(B.offset=u.read_shift(4)),B.len=u.read_shift(1),m==2&&(B.offset=u.read_shift(2)),B.dec=u.read_shift(1),B.name.length&&S.push(B),m!=2&&(u.l+=v?13:14),B.type){case"B":(!g||B.len!=8)&&d.WTF&&console.log("Skipping "+B.name+":"+B.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+B.name+":"+B.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+B.type)}if(u[u.l]!==13&&(u.l=b-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=b;var O=0,k=0;for(f[0]=[],k=0;k!=S.length;++k)f[0][k]=S[k].name;for(;y-- >0;){if(u[u.l]===42){u.l+=j;continue}for(++u.l,f[++O]=[],k=0,k=0;k!=S.length;++k){var V=u.slice(u.l,u.l+S[k].len);u.l+=S[k].len,xc(V,0);var Q=lw.utils.decode(N,V);switch(S[k].type){case"C":Q.trim().length&&(f[O][k]=Q.replace(/\s+$/,""));break;case"D":Q.length===8?f[O][k]=new Date(+Q.slice(0,4),+Q.slice(4,6)-1,+Q.slice(6,8)):f[O][k]=Q;break;case"F":f[O][k]=parseFloat(Q.trim());break;case"+":case"I":f[O][k]=v?V.read_shift(-4,"i")^2147483648:V.read_shift(4,"i");break;case"L":switch(Q.trim().toUpperCase()){case"Y":case"T":f[O][k]=!0;break;case"N":case"F":f[O][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Q+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));f[O][k]="##MEMO##"+(v?parseInt(Q.trim(),10):V.read_shift(4));break;case"N":Q=Q.replace(/\u0000/g,"").trim(),Q&&Q!="."&&(f[O][k]=+Q||0);break;case"@":f[O][k]=new Date(V.read_shift(-8,"f")-621356832e5);break;case"T":f[O][k]=new Date((V.read_shift(4)-2440588)*864e5+V.read_shift(4));break;case"Y":f[O][k]=V.read_shift(4,"i")/1e4+V.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[O][k]=-V.read_shift(-8,"f");break;case"B":if(g&&S[k].len==8){f[O][k]=V.read_shift(8,"f");break}case"G":case"P":V.l+=S[k].len;break;case"0":if(S[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+S[k].type)}}}if(m!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return d&&d.sheetRows&&(f=f.slice(0,d.sheetRows)),d.DBF=S,f}function s(c,d){var f=d||{};f.dateNF||(f.dateNF="yyyymmdd");var u=lx(a(c,f),f);return u["!cols"]=f.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete f.DBF,u}function i(c,d){try{return Ap(s(c,d),d)}catch(f){if(d&&d.WTF)throw f}return{SheetNames:[],Sheets:{}}}var o={B:8,C:250,L:1,D:8,"?":0,"":0};function l(c,d){var f=d||{};if(+f.codepage>=0&&Sy(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var u=Ql(),m=bw(c,{header:1,raw:!0,cellDates:!0}),p=m[0],g=m.slice(1),v=c["!cols"]||[],y=0,b=0,j=0,N=1;for(y=0;y<p.length;++y){if(((v[y]||{}).DBF||{}).name){p[y]=v[y].DBF.name,++j;continue}if(p[y]!=null){if(++j,typeof p[y]=="number"&&(p[y]=p[y].toString(10)),typeof p[y]!="string")throw new Error("DBF Invalid column name "+p[y]+" |"+typeof p[y]+"|");if(p.indexOf(p[y])!==y){for(b=0;b<1024;++b)if(p.indexOf(p[y]+"_"+b)==-1){p[y]+="_"+b;break}}}}var S=nn(c["!ref"]),B=[],I=[],F=[];for(y=0;y<=S.e.c-S.s.c;++y){var O="",k="",V=0,Q=[];for(b=0;b<g.length;++b)g[b][y]!=null&&Q.push(g[b][y]);if(Q.length==0||p[y]==null){B[y]="?";continue}for(b=0;b<Q.length;++b){switch(typeof Q[b]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=Q[b]instanceof Date?"D":"C";break;default:k="C"}V=Math.max(V,String(Q[b]).length),O=O&&O!=k?"C":k}V>250&&(V=250),k=((v[y]||{}).DBF||{}).type,k=="C"&&v[y].DBF.len>V&&(V=v[y].DBF.len),O=="B"&&k=="N"&&(O="N",F[y]=v[y].DBF.dec,V=v[y].DBF.len),I[y]=O=="C"||k=="N"?V:o[O]||0,N+=I[y],B[y]=O}var H=u.next(32);for(H.write_shift(4,318902576),H.write_shift(4,g.length),H.write_shift(2,296+32*j),H.write_shift(2,N),y=0;y<4;++y)H.write_shift(4,0);for(H.write_shift(4,0|(+r[FH]||3)<<8),y=0,b=0;y<p.length;++y)if(p[y]!=null){var M=u.next(32),K=(p[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);M.write_shift(1,K,"sbcs"),M.write_shift(1,B[y]=="?"?"C":B[y],"sbcs"),M.write_shift(4,b),M.write_shift(1,I[y]||o[B[y]]||0),M.write_shift(1,F[y]||0),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(1,0),M.write_shift(4,0),M.write_shift(4,0),b+=I[y]||o[B[y]]||0}var q=u.next(264);for(q.write_shift(4,13),y=0;y<65;++y)q.write_shift(4,0);for(y=0;y<g.length;++y){var re=u.next(N);for(re.write_shift(1,0),b=0;b<p.length;++b)if(p[b]!=null)switch(B[b]){case"L":re.write_shift(1,g[y][b]==null?63:g[y][b]?84:70);break;case"B":re.write_shift(8,g[y][b]||0,"f");break;case"N":var ee="0";for(typeof g[y][b]=="number"&&(ee=g[y][b].toFixed(F[b]||0)),j=0;j<I[b]-ee.length;++j)re.write_shift(1,32);re.write_shift(1,ee,"sbcs");break;case"D":g[y][b]?(re.write_shift(4,("0000"+g[y][b].getFullYear()).slice(-4),"sbcs"),re.write_shift(2,("00"+(g[y][b].getMonth()+1)).slice(-2),"sbcs"),re.write_shift(2,("00"+g[y][b].getDate()).slice(-2),"sbcs")):re.write_shift(8,"00000000","sbcs");break;case"C":var le=String(g[y][b]!=null?g[y][b]:"").slice(0,I[b]);for(re.write_shift(1,le,"sbcs"),j=0;j<I[b]-le.length;++j)re.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:s,from_sheet:l}}(),qye=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},r=new RegExp("\x1BN("+go(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),a=function(p,g){var v=t[g];return typeof v=="number"?gO(v):v},s=function(p,g,v){var y=g.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return y==59?p:gO(y)};t["|"]=254;function i(p,g){switch(g.type){case"base64":return o(zA(p),g);case"binary":return o(p,g);case"buffer":return o(ns&&Buffer.isBuffer(p)?p.toString("binary"):lv(p),g);case"array":return o(R4(p),g)}throw new Error("Unrecognized type "+g.type)}function o(p,g){var v=p.split(/[\n\r]+/),y=-1,b=-1,j=0,N=0,S=[],B=[],I=null,F={},O=[],k=[],V=[],Q=0,H;for(+g.codepage>=0&&Sy(+g.codepage);j!==v.length;++j){Q=0;var M=v[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,s).replace(r,a),K=M.replace(/;;/g,"\0").split(";").map(function(oe){return oe.replace(/\u0000/g,";")}),q=K[0],re;if(M.length>0)switch(q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":K[1].charAt(0)=="P"&&B.push(M.slice(3).replace(/;;/g,";"));break;case"C":var ee=!1,le=!1,Ae=!1,ue=!1,se=-1,ve=-1;for(N=1;N<K.length;++N)switch(K[N].charAt(0)){case"A":break;case"X":b=parseInt(K[N].slice(1))-1,le=!0;break;case"Y":for(y=parseInt(K[N].slice(1))-1,le||(b=0),H=S.length;H<=y;++H)S[H]=[];break;case"K":re=K[N].slice(1),re.charAt(0)==='"'?re=re.slice(1,re.length-1):re==="TRUE"?re=!0:re==="FALSE"?re=!1:isNaN(OA(re))?isNaN(By(re).getDate())||(re=gl(re)):(re=OA(re),I!==null&&HH(I)&&(re=KH(re))),ee=!0;break;case"E":ue=!0;var _=Gve(K[N].slice(1),{r:y,c:b});S[y][b]=[S[y][b],_];break;case"S":Ae=!0,S[y][b]=[S[y][b],"S5S"];break;case"G":break;case"R":se=parseInt(K[N].slice(1))-1;break;case"C":ve=parseInt(K[N].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+M)}if(ee&&(S[y][b]&&S[y][b].length==2?S[y][b][0]=re:S[y][b]=re,I=null),Ae){if(ue)throw new Error("SYLK shared formula cannot have own formula");var z=se>-1&&S[se][ve];if(!z||!z[1])throw new Error("SYLK shared formula cannot find base");S[y][b][1]=Wve(z[1],{r:y-se,c:b-ve})}break;case"F":var ae=0;for(N=1;N<K.length;++N)switch(K[N].charAt(0)){case"X":b=parseInt(K[N].slice(1))-1,++ae;break;case"Y":for(y=parseInt(K[N].slice(1))-1,H=S.length;H<=y;++H)S[H]=[];break;case"M":Q=parseInt(K[N].slice(1))/20;break;case"F":break;case"G":break;case"P":I=B[parseInt(K[N].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(V=K[N].slice(1).split(" "),H=parseInt(V[0],10);H<=parseInt(V[1],10);++H)Q=parseInt(V[2],10),k[H-1]=Q===0?{hidden:!0}:{wch:Q},U6(k[H-1]);break;case"C":b=parseInt(K[N].slice(1))-1,k[b]||(k[b]={});break;case"R":y=parseInt(K[N].slice(1))-1,O[y]||(O[y]={}),Q>0?(O[y].hpt=Q,O[y].hpx=_$(Q)):Q===0&&(O[y].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+M)}ae<1&&(I=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+M)}}return O.length>0&&(F["!rows"]=O),k.length>0&&(F["!cols"]=k),g&&g.sheetRows&&(S=S.slice(0,g.sheetRows)),[S,F]}function l(p,g){var v=i(p,g),y=v[0],b=v[1],j=lx(y,g);return go(b).forEach(function(N){j[N]=b[N]}),j}function c(p,g){return Ap(l(p,g),g)}function d(p,g,v,y){var b="C;Y"+(v+1)+";X"+(y+1)+";K";switch(p.t){case"n":b+=p.v||0,p.f&&!p.F&&(b+=";E"+Q6(p.f,{r:v,c:y}));break;case"b":b+=p.v?"TRUE":"FALSE";break;case"e":b+=p.w||p.v;break;case"d":b+='"'+(p.w||p.v)+'"';break;case"s":b+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function f(p,g){g.forEach(function(v,y){var b="F;W"+(y+1)+" "+(y+1)+" ";v.hidden?b+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=gw(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=xw(v.wpx)),typeof v.wch=="number"&&(b+=Math.round(v.wch))),b.charAt(b.length-1)!=" "&&p.push(b)})}function u(p,g){g.forEach(function(v,y){var b="F;";v.hidden?b+="M0;":v.hpt?b+="M"+20*v.hpt+";":v.hpx&&(b+="M"+20*yw(v.hpx)+";"),b.length>2&&p.push(b+"R"+(y+1))})}function m(p,g){var v=["ID;PWXL;N;E"],y=[],b=nn(p["!ref"]),j,N=Array.isArray(p),S=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),p["!cols"]&&f(v,p["!cols"]),p["!rows"]&&u(v,p["!rows"]),v.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var B=b.s.r;B<=b.e.r;++B)for(var I=b.s.c;I<=b.e.c;++I){var F=vs({r:B,c:I});j=N?(p[B]||[])[I]:p[F],!(!j||j.v==null&&(!j.f||j.F))&&y.push(d(j,p,B,I))}return v.join(S)+S+y.join(S)+S+"E"+S}return{to_workbook:c,to_sheet:l,from_sheet:m}}(),Yye=function(){function t(o,l){switch(l.type){case"base64":return r(zA(o),l);case"binary":return r(o,l);case"buffer":return r(ns&&Buffer.isBuffer(o)?o.toString("binary"):lv(o),l);case"array":return r(R4(o),l)}throw new Error("Unrecognized type "+l.type)}function r(o,l){for(var c=o.split(`
`),d=-1,f=-1,u=0,m=[];u!==c.length;++u){if(c[u].trim()==="BOT"){m[++d]=[],f=0;continue}if(!(d<0)){var p=c[u].trim().split(","),g=p[0],v=p[1];++u;for(var y=c[u]||"";(y.match(/["]/g)||[]).length&1&&u<c.length-1;)y+=`
`+c[++u];switch(y=y.trim(),+g){case-1:if(y==="BOT"){m[++d]=[],f=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?m[d][f]=!0:y==="FALSE"?m[d][f]=!1:isNaN(OA(v))?isNaN(By(v).getDate())?m[d][f]=v:m[d][f]=gl(v):m[d][f]=OA(v),++f;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),m[d][f++]=y!==""?y:null;break}if(y==="EOD")break}}return l&&l.sheetRows&&(m=m.slice(0,l.sheetRows)),m}function a(o,l){return lx(t(o,l),l)}function s(o,l){return Ap(a(o,l),l)}var i=function(){var o=function(d,f,u,m,p){d.push(f),d.push(u+","+m),d.push('"'+p.replace(/"/g,'""')+'"')},l=function(d,f,u,m){d.push(f+","+u),d.push(f==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(d){var f=[],u=nn(d["!ref"]),m,p=Array.isArray(d);o(f,"TABLE",0,1,"sheetjs"),o(f,"VECTORS",0,u.e.r-u.s.r+1,""),o(f,"TUPLES",0,u.e.c-u.s.c+1,""),o(f,"DATA",0,0,"");for(var g=u.s.r;g<=u.e.r;++g){l(f,-1,0,"BOT");for(var v=u.s.c;v<=u.e.c;++v){var y=vs({r:g,c:v});if(m=p?(d[g]||[])[v]:d[y],!m){l(f,1,0,"");continue}switch(m.t){case"n":var b=m.w;!b&&m.v!=null&&(b=m.v),b==null?m.f&&!m.F?l(f,1,0,"="+m.f):l(f,1,0,""):l(f,0,b,"V");break;case"b":l(f,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":l(f,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=xm(m.z||Ln[14],$l(gl(m.v)))),l(f,0,m.w,"V");break;default:l(f,1,0,"")}}}l(f,-1,0,"EOD");var j=`\r
`,N=f.join(j);return N}}();return{to_workbook:s,to_sheet:a,from_sheet:i}}(),T$=function(){function t(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function r(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function a(m,p){for(var g=m.split(`
`),v=-1,y=-1,b=0,j=[];b!==g.length;++b){var N=g[b].trim().split(":");if(N[0]==="cell"){var S=Gi(N[1]);if(j.length<=S.r)for(v=j.length;v<=S.r;++v)j[v]||(j[v]=[]);switch(v=S.r,y=S.c,N[2]){case"t":j[v][y]=t(N[3]);break;case"v":j[v][y]=+N[3];break;case"vtf":var B=N[N.length-1];case"vtc":switch(N[3]){case"nl":j[v][y]=!!+N[4];break;default:j[v][y]=+N[4];break}N[2]=="vtf"&&(j[v][y]=[j[v][y],B])}}}return p&&p.sheetRows&&(j=j.slice(0,p.sheetRows)),j}function s(m,p){return lx(a(m,p),p)}function i(m,p){return Ap(s(m,p),p)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function f(m){if(!m||!m["!ref"])return"";for(var p=[],g=[],v,y="",b=Ec(m["!ref"]),j=Array.isArray(m),N=b.s.r;N<=b.e.r;++N)for(var S=b.s.c;S<=b.e.c;++S)if(y=vs({r:N,c:S}),v=j?(m[N]||[])[S]:m[y],!(!v||v.v==null||v.t==="z")){switch(g=["cell",y,"t"],v.t){case"s":case"str":g.push(r(v.v));break;case"n":v.f?(g[2]="vtf",g[3]="n",g[4]=v.v,g[5]=r(v.f)):(g[2]="v",g[3]=v.v);break;case"b":g[2]="vt"+(v.f?"f":"c"),g[3]="nl",g[4]=v.v?"1":"0",g[5]=r(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var B=$l(gl(v.v));g[2]="vtc",g[3]="nd",g[4]=""+B,g[5]=v.w||xm(v.z||Ln[14],B);break;case"e":continue}p.push(g.join(":"))}return p.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function u(m){return[o,l,c,l,f(m),d].join(`
`)}return{to_workbook:i,to_sheet:s,from_sheet:u}}(),Xye=function(){function t(u,m,p,g,v){v.raw?m[p][g]=u:u===""||(u==="TRUE"?m[p][g]=!0:u==="FALSE"?m[p][g]=!1:isNaN(OA(u))?isNaN(By(u).getDate())?m[p][g]=u:m[p][g]=gl(u):m[p][g]=OA(u))}function r(u,m){var p=m||{},g=[];if(!u||u.length===0)return g;for(var v=u.split(/[\r\n]/),y=v.length-1;y>=0&&v[y].length===0;)--y;for(var b=10,j=0,N=0;N<=y;++N)j=v[N].indexOf(" "),j==-1?j=v[N].length:j++,b=Math.max(b,j);for(N=0;N<=y;++N){g[N]=[];var S=0;for(t(v[N].slice(0,b).trim(),g,N,S,p),S=1;S<=(v[N].length-b)/10+1;++S)t(v[N].slice(b+(S-1)*10,b+S*10).trim(),g,N,S,p)}return p.sheetRows&&(g=g.slice(0,p.sheetRows)),g}var a={44:",",9:"	",59:";",124:"|"},s={44:3,9:2,59:1,124:0};function i(u){for(var m={},p=!1,g=0,v=0;g<u.length;++g)(v=u.charCodeAt(g))==34?p=!p:!p&&v in a&&(m[v]=(m[v]||0)+1);v=[];for(g in m)Object.prototype.hasOwnProperty.call(m,g)&&v.push([m[g],g]);if(!v.length){m=s;for(g in m)Object.prototype.hasOwnProperty.call(m,g)&&v.push([m[g],g])}return v.sort(function(y,b){return y[0]-b[0]||s[y[1]]-s[b[1]]}),a[v.pop()[1]]||44}function o(u,m){var p=m||{},g="",v=p.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(g=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(g=u.charAt(4),u=u.slice(6)):g=i(u.slice(0,1024)):p&&p.FS?g=p.FS:g=i(u.slice(0,1024));var b=0,j=0,N=0,S=0,B=0,I=g.charCodeAt(0),F=!1,O=0,k=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var V=p.dateNF!=null?A1e(p.dateNF):null;function Q(){var H=u.slice(S,B),M={};if(H.charAt(0)=='"'&&H.charAt(H.length-1)=='"'&&(H=H.slice(1,-1).replace(/""/g,'"')),H.length===0)M.t="z";else if(p.raw)M.t="s",M.v=H;else if(H.trim().length===0)M.t="s",M.v=H;else if(H.charCodeAt(0)==61)H.charCodeAt(1)==34&&H.charCodeAt(H.length-1)==34?(M.t="s",M.v=H.slice(2,-1).replace(/""/g,'"')):qve(H)?(M.t="n",M.f=H.slice(1)):(M.t="s",M.v=H);else if(H=="TRUE")M.t="b",M.v=!0;else if(H=="FALSE")M.t="b",M.v=!1;else if(!isNaN(N=OA(H)))M.t="n",p.cellText!==!1&&(M.w=H),M.v=N;else if(!isNaN(By(H).getDate())||V&&H.match(V)){M.z=p.dateNF||Ln[14];var K=0;V&&H.match(V)&&(H=h1e(H,p.dateNF,H.match(V)||[]),K=1),p.cellDates?(M.t="d",M.v=gl(H,K)):(M.t="n",M.v=$l(gl(H,K))),p.cellText!==!1&&(M.w=xm(M.z,M.v instanceof Date?$l(M.v):M.v)),p.cellNF||delete M.z}else M.t="s",M.v=H;if(M.t=="z"||(p.dense?(v[b]||(v[b]=[]),v[b][j]=M):v[vs({c:j,r:b})]=M),S=B+1,k=u.charCodeAt(S),y.e.c<j&&(y.e.c=j),y.e.r<b&&(y.e.r=b),O==I)++j;else if(j=0,++b,p.sheetRows&&p.sheetRows<=b)return!0}e:for(;B<u.length;++B)switch(O=u.charCodeAt(B)){case 34:k===34&&(F=!F);break;case I:case 10:case 13:if(!F&&Q())break e;break}return B-S>0&&Q(),v["!ref"]=li(y),v}function l(u,m){return!(m&&m.PRN)||m.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?o(u,m):lx(r(u,m),m)}function c(u,m){var p="",g=m.type=="string"?[0,0,0,0]:cje(u,m);switch(m.type){case"base64":p=zA(u);break;case"binary":p=u;break;case"buffer":m.codepage==65001?p=u.toString("utf8"):m.codepage&&typeof lw<"u"||(p=ns&&Buffer.isBuffer(u)?u.toString("binary"):lv(u));break;case"array":p=R4(u);break;case"string":p=u;break;default:throw new Error("Unrecognized type "+m.type)}return g[0]==239&&g[1]==187&&g[2]==191?p=H1(p.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?p=H1(p):m.type=="binary"&&typeof lw<"u",p.slice(0,19)=="socialcalc:version:"?T$.to_sheet(m.type=="string"?p:H1(p),m):l(p,m)}function d(u,m){return Ap(c(u,m),m)}function f(u){for(var m=[],p=nn(u["!ref"]),g,v=Array.isArray(u),y=p.s.r;y<=p.e.r;++y){for(var b=[],j=p.s.c;j<=p.e.c;++j){var N=vs({r:y,c:j});if(g=v?(u[y]||[])[j]:u[N],!g||g.v==null){b.push("          ");continue}for(var S=(g.w||(VA(g),g.w)||"").slice(0,10);S.length<10;)S+=" ";b.push(S+(j===0?" ":""))}m.push(b.join(""))}return m.join(`
`)}return{to_workbook:d,to_sheet:c,from_sheet:f}}(),WO=function(){function t(_,z,ae){if(_){xc(_,_.l||0);for(var oe=ae.Enum||se;_.l<_.length;){var ce=_.read_shift(2),me=oe[ce]||oe[65535],he=_.read_shift(2),te=_.l+he,J=me.f&&me.f(_,he,ae);if(_.l=te,z(J,me,ce))return}}}function r(_,z){switch(z.type){case"base64":return a(gu(zA(_)),z);case"binary":return a(gu(_),z);case"buffer":case"array":return a(_,z)}throw"Unsupported type "+z.type}function a(_,z){if(!_)return _;var ae=z||{},oe=ae.dense?[]:{},ce="Sheet1",me="",he=0,te={},J=[],X=[],xe={s:{r:0,c:0},e:{r:0,c:0}},Ne=ae.sheetRows||0;if(_[2]==0&&(_[3]==8||_[3]==9)&&_.length>=16&&_[14]==5&&_[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(_[2]==2)ae.Enum=se,t(_,function(Le,ie,de){switch(de){case 0:ae.vers=Le,Le>=4096&&(ae.qpro=!0);break;case 6:xe=Le;break;case 204:Le&&(me=Le);break;case 222:me=Le;break;case 15:case 51:ae.qpro||(Le[1].v=Le[1].v.slice(1));case 13:case 14:case 16:de==14&&(Le[2]&112)==112&&(Le[2]&15)>1&&(Le[2]&15)<15&&(Le[1].z=ae.dateNF||Ln[14],ae.cellDates&&(Le[1].t="d",Le[1].v=KH(Le[1].v))),ae.qpro&&Le[3]>he&&(oe["!ref"]=li(xe),te[ce]=oe,J.push(ce),oe=ae.dense?[]:{},xe={s:{r:0,c:0},e:{r:0,c:0}},he=Le[3],ce=me||"Sheet"+(he+1),me="");var je=ae.dense?(oe[Le[0].r]||[])[Le[0].c]:oe[vs(Le[0])];if(je){je.t=Le[1].t,je.v=Le[1].v,Le[1].z!=null&&(je.z=Le[1].z),Le[1].f!=null&&(je.f=Le[1].f);break}ae.dense?(oe[Le[0].r]||(oe[Le[0].r]=[]),oe[Le[0].r][Le[0].c]=Le[1]):oe[vs(Le[0])]=Le[1];break}},ae);else if(_[2]==26||_[2]==14)ae.Enum=ve,_[2]==14&&(ae.qpro=!0,_.l=0),t(_,function(Le,ie,de){switch(de){case 204:ce=Le;break;case 22:Le[1].v=Le[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Le[3]>he&&(oe["!ref"]=li(xe),te[ce]=oe,J.push(ce),oe=ae.dense?[]:{},xe={s:{r:0,c:0},e:{r:0,c:0}},he=Le[3],ce="Sheet"+(he+1)),Ne>0&&Le[0].r>=Ne)break;ae.dense?(oe[Le[0].r]||(oe[Le[0].r]=[]),oe[Le[0].r][Le[0].c]=Le[1]):oe[vs(Le[0])]=Le[1],xe.e.c<Le[0].c&&(xe.e.c=Le[0].c),xe.e.r<Le[0].r&&(xe.e.r=Le[0].r);break;case 27:Le[14e3]&&(X[Le[14e3][0]]=Le[14e3][1]);break;case 1537:X[Le[0]]=Le[1],Le[0]==he&&(ce=Le[1]);break}},ae);else throw new Error("Unrecognized LOTUS BOF "+_[2]);if(oe["!ref"]=li(xe),te[me||ce]=oe,J.push(me||ce),!X.length)return{SheetNames:J,Sheets:te};for(var ge={},pe=[],Y=0;Y<X.length;++Y)te[J[Y]]?(pe.push(X[Y]||J[Y]),ge[X[Y]]=te[X[Y]]||te[J[Y]]):(pe.push(X[Y]),ge[X[Y]]={"!ref":"A1"});return{SheetNames:pe,Sheets:ge}}function s(_,z){var ae=z||{};if(+ae.codepage>=0&&Sy(+ae.codepage),ae.type=="string")throw new Error("Cannot write WK1 to JS string");var oe=Ql(),ce=nn(_["!ref"]),me=Array.isArray(_),he=[];wr(oe,0,o(1030)),wr(oe,6,d(ce));for(var te=Math.min(ce.e.r,8191),J=ce.s.r;J<=te;++J)for(var X=ho(J),xe=ce.s.c;xe<=ce.e.c;++xe){J===ce.s.r&&(he[xe]=zo(xe));var Ne=he[xe]+X,ge=me?(_[J]||[])[xe]:_[Ne];if(!(!ge||ge.t=="z"))if(ge.t=="n")(ge.v|0)==ge.v&&ge.v>=-32768&&ge.v<=32767?wr(oe,13,g(J,xe,ge.v)):wr(oe,14,y(J,xe,ge.v));else{var pe=VA(ge);wr(oe,15,m(J,xe,pe.slice(0,239)))}}return wr(oe,1),oe.end()}function i(_,z){var ae=z||{};if(+ae.codepage>=0&&Sy(+ae.codepage),ae.type=="string")throw new Error("Cannot write WK3 to JS string");var oe=Ql();wr(oe,0,l(_));for(var ce=0,me=0;ce<_.SheetNames.length;++ce)(_.Sheets[_.SheetNames[ce]]||{})["!ref"]&&wr(oe,27,ue(_.SheetNames[ce],me++));var he=0;for(ce=0;ce<_.SheetNames.length;++ce){var te=_.Sheets[_.SheetNames[ce]];if(!(!te||!te["!ref"])){for(var J=nn(te["!ref"]),X=Array.isArray(te),xe=[],Ne=Math.min(J.e.r,8191),ge=J.s.r;ge<=Ne;++ge)for(var pe=ho(ge),Y=J.s.c;Y<=J.e.c;++Y){ge===J.s.r&&(xe[Y]=zo(Y));var Le=xe[Y]+pe,ie=X?(te[ge]||[])[Y]:te[Le];if(!(!ie||ie.t=="z"))if(ie.t=="n")wr(oe,23,Q(ge,Y,he,ie.v));else{var de=VA(ie);wr(oe,22,O(ge,Y,he,de.slice(0,239)))}}++he}}return wr(oe,1),oe.end()}function o(_){var z=Vt(2);return z.write_shift(2,_),z}function l(_){var z=Vt(26);z.write_shift(2,4096),z.write_shift(2,4),z.write_shift(4,0);for(var ae=0,oe=0,ce=0,me=0;me<_.SheetNames.length;++me){var he=_.SheetNames[me],te=_.Sheets[he];if(!(!te||!te["!ref"])){++ce;var J=Ec(te["!ref"]);ae<J.e.r&&(ae=J.e.r),oe<J.e.c&&(oe=J.e.c)}}return ae>8191&&(ae=8191),z.write_shift(2,ae),z.write_shift(1,ce),z.write_shift(1,oe),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(1,1),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(4,0),z}function c(_,z,ae){var oe={s:{c:0,r:0},e:{c:0,r:0}};return z==8&&ae.qpro?(oe.s.c=_.read_shift(1),_.l++,oe.s.r=_.read_shift(2),oe.e.c=_.read_shift(1),_.l++,oe.e.r=_.read_shift(2),oe):(oe.s.c=_.read_shift(2),oe.s.r=_.read_shift(2),z==12&&ae.qpro&&(_.l+=2),oe.e.c=_.read_shift(2),oe.e.r=_.read_shift(2),z==12&&ae.qpro&&(_.l+=2),oe.s.c==65535&&(oe.s.c=oe.e.c=oe.s.r=oe.e.r=0),oe)}function d(_){var z=Vt(8);return z.write_shift(2,_.s.c),z.write_shift(2,_.s.r),z.write_shift(2,_.e.c),z.write_shift(2,_.e.r),z}function f(_,z,ae){var oe=[{c:0,r:0},{t:"n",v:0},0,0];return ae.qpro&&ae.vers!=20768?(oe[0].c=_.read_shift(1),oe[3]=_.read_shift(1),oe[0].r=_.read_shift(2),_.l+=2):(oe[2]=_.read_shift(1),oe[0].c=_.read_shift(2),oe[0].r=_.read_shift(2)),oe}function u(_,z,ae){var oe=_.l+z,ce=f(_,z,ae);if(ce[1].t="s",ae.vers==20768){_.l++;var me=_.read_shift(1);return ce[1].v=_.read_shift(me,"utf8"),ce}return ae.qpro&&_.l++,ce[1].v=_.read_shift(oe-_.l,"cstr"),ce}function m(_,z,ae){var oe=Vt(7+ae.length);oe.write_shift(1,255),oe.write_shift(2,z),oe.write_shift(2,_),oe.write_shift(1,39);for(var ce=0;ce<oe.length;++ce){var me=ae.charCodeAt(ce);oe.write_shift(1,me>=128?95:me)}return oe.write_shift(1,0),oe}function p(_,z,ae){var oe=f(_,z,ae);return oe[1].v=_.read_shift(2,"i"),oe}function g(_,z,ae){var oe=Vt(7);return oe.write_shift(1,255),oe.write_shift(2,z),oe.write_shift(2,_),oe.write_shift(2,ae,"i"),oe}function v(_,z,ae){var oe=f(_,z,ae);return oe[1].v=_.read_shift(8,"f"),oe}function y(_,z,ae){var oe=Vt(13);return oe.write_shift(1,255),oe.write_shift(2,z),oe.write_shift(2,_),oe.write_shift(8,ae,"f"),oe}function b(_,z,ae){var oe=_.l+z,ce=f(_,z,ae);if(ce[1].v=_.read_shift(8,"f"),ae.qpro)_.l=oe;else{var me=_.read_shift(2);B(_.slice(_.l,_.l+me),ce),_.l+=me}return ce}function j(_,z,ae){var oe=z&32768;return z&=-32769,z=(oe?_:0)+(z>=8192?z-16384:z),(oe?"":"$")+(ae?zo(z):ho(z))}var N={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},S=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function B(_,z){xc(_,0);for(var ae=[],oe=0,ce="",me="",he="",te="";_.l<_.length;){var J=_[_.l++];switch(J){case 0:ae.push(_.read_shift(8,"f"));break;case 1:me=j(z[0].c,_.read_shift(2),!0),ce=j(z[0].r,_.read_shift(2),!1),ae.push(me+ce);break;case 2:{var X=j(z[0].c,_.read_shift(2),!0),xe=j(z[0].r,_.read_shift(2),!1);me=j(z[0].c,_.read_shift(2),!0),ce=j(z[0].r,_.read_shift(2),!1),ae.push(X+xe+":"+me+ce)}break;case 3:if(_.l<_.length){console.error("WK1 premature formula end");return}break;case 4:ae.push("("+ae.pop()+")");break;case 5:ae.push(_.read_shift(2));break;case 6:{for(var Ne="";J=_[_.l++];)Ne+=String.fromCharCode(J);ae.push('"'+Ne.replace(/"/g,'""')+'"')}break;case 8:ae.push("-"+ae.pop());break;case 23:ae.push("+"+ae.pop());break;case 22:ae.push("NOT("+ae.pop()+")");break;case 20:case 21:te=ae.pop(),he=ae.pop(),ae.push(["AND","OR"][J-20]+"("+he+","+te+")");break;default:if(J<32&&S[J])te=ae.pop(),he=ae.pop(),ae.push(he+S[J]+te);else if(N[J]){if(oe=N[J][1],oe==69&&(oe=_[_.l++]),oe>ae.length){console.error("WK1 bad formula parse 0x"+J.toString(16)+":|"+ae.join("|")+"|");return}var ge=ae.slice(-oe);ae.length-=oe,ae.push(N[J][0]+"("+ge.join(",")+")")}else return J<=7?console.error("WK1 invalid opcode "+J.toString(16)):J<=24?console.error("WK1 unsupported op "+J.toString(16)):J<=30?console.error("WK1 invalid opcode "+J.toString(16)):J<=115?console.error("WK1 unsupported function opcode "+J.toString(16)):console.error("WK1 unrecognized opcode "+J.toString(16))}}ae.length==1?z[1].f=""+ae[0]:console.error("WK1 bad formula parse |"+ae.join("|")+"|")}function I(_){var z=[{c:0,r:0},{t:"n",v:0},0];return z[0].r=_.read_shift(2),z[3]=_[_.l++],z[0].c=_[_.l++],z}function F(_,z){var ae=I(_);return ae[1].t="s",ae[1].v=_.read_shift(z-4,"cstr"),ae}function O(_,z,ae,oe){var ce=Vt(6+oe.length);ce.write_shift(2,_),ce.write_shift(1,ae),ce.write_shift(1,z),ce.write_shift(1,39);for(var me=0;me<oe.length;++me){var he=oe.charCodeAt(me);ce.write_shift(1,he>=128?95:he)}return ce.write_shift(1,0),ce}function k(_,z){var ae=I(_);ae[1].v=_.read_shift(2);var oe=ae[1].v>>1;if(ae[1].v&1)switch(oe&7){case 0:oe=(oe>>3)*5e3;break;case 1:oe=(oe>>3)*500;break;case 2:oe=(oe>>3)/20;break;case 3:oe=(oe>>3)/200;break;case 4:oe=(oe>>3)/2e3;break;case 5:oe=(oe>>3)/2e4;break;case 6:oe=(oe>>3)/16;break;case 7:oe=(oe>>3)/64;break}return ae[1].v=oe,ae}function V(_,z){var ae=I(_),oe=_.read_shift(4),ce=_.read_shift(4),me=_.read_shift(2);if(me==65535)return oe===0&&ce===3221225472?(ae[1].t="e",ae[1].v=15):oe===0&&ce===3489660928?(ae[1].t="e",ae[1].v=42):ae[1].v=0,ae;var he=me&32768;return me=(me&32767)-16446,ae[1].v=(1-he*2)*(ce*Math.pow(2,me+32)+oe*Math.pow(2,me)),ae}function Q(_,z,ae,oe){var ce=Vt(14);if(ce.write_shift(2,_),ce.write_shift(1,ae),ce.write_shift(1,z),oe==0)return ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(2,65535),ce;var me=0,he=0,te=0,J=0;return oe<0&&(me=1,oe=-oe),he=Math.log2(oe)|0,oe/=Math.pow(2,he-31),J=oe>>>0,(J&2147483648)==0&&(oe/=2,++he,J=oe>>>0),oe-=J,J|=2147483648,J>>>=0,oe*=Math.pow(2,32),te=oe>>>0,ce.write_shift(4,te),ce.write_shift(4,J),he+=16383+(me?32768:0),ce.write_shift(2,he),ce}function H(_,z){var ae=V(_);return _.l+=z-14,ae}function M(_,z){var ae=I(_),oe=_.read_shift(4);return ae[1].v=oe>>6,ae}function K(_,z){var ae=I(_),oe=_.read_shift(8,"f");return ae[1].v=oe,ae}function q(_,z){var ae=K(_);return _.l+=z-10,ae}function re(_,z){return _[_.l+z-1]==0?_.read_shift(z,"cstr"):""}function ee(_,z){var ae=_[_.l++];ae>z-1&&(ae=z-1);for(var oe="";oe.length<ae;)oe+=String.fromCharCode(_[_.l++]);return oe}function le(_,z,ae){if(!(!ae.qpro||z<21)){var oe=_.read_shift(1);_.l+=17,_.l+=1,_.l+=2;var ce=_.read_shift(z-21,"cstr");return[oe,ce]}}function Ae(_,z){for(var ae={},oe=_.l+z;_.l<oe;){var ce=_.read_shift(2);if(ce==14e3){for(ae[ce]=[0,""],ae[ce][0]=_.read_shift(2);_[_.l];)ae[ce][1]+=String.fromCharCode(_[_.l]),_.l++;_.l++}}return ae}function ue(_,z){var ae=Vt(5+_.length);ae.write_shift(2,14e3),ae.write_shift(2,z);for(var oe=0;oe<_.length;++oe){var ce=_.charCodeAt(oe);ae[ae.l++]=ce>127?95:ce}return ae[ae.l++]=0,ae}var se={0:{n:"BOF",f:N$},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:re},222:{n:"SHEETNAMELP",f:ee},65535:{n:""}},ve={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:F},23:{n:"NUMBER17",f:V},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:H},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Ae},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:K},40:{n:"FORMULA28",f:q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:re},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:le},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:s,book_to_wk3:i,to_workbook:r}}(),Jye=/^\s|\s$|[\t\n\r]/;function F$(t,r){if(!r.bookSST)return"";var a=[ci];a[a.length]=yr("sst",null,{xmlns:ox[0],count:t.Count,uniqueCount:t.Unique});for(var s=0;s!=t.length;++s)if(t[s]!=null){var i=t[s],o="<si>";i.r?o+=i.r:(o+="<t",i.t||(i.t=""),i.t.match(Jye)&&(o+=' xml:space="preserve"'),o+=">"+xs(i.t)+"</t>"),o+="</si>",a[a.length]=o}return a.length>2&&(a[a.length]="</sst>",a[1]=a[1].replace("/>",">")),a.join("")}function Zye(t){return[t.read_shift(4),t.read_shift(4)]}function eve(t,r){return r||(r=Vt(8)),r.write_shift(4,t.Count),r.write_shift(4,t.Unique),r}var tve=V1e;function rve(t){var r=Ql();ir(r,159,eve(t));for(var a=0;a<t.length;++a)ir(r,19,tve(t[a]));return ir(r,160),r.end()}function ave(t){for(var r=[],a=t.split(""),s=0;s<a.length;++s)r[s]=a[s].charCodeAt(0);return r}function I$(t){var r=0,a,s=ave(t),i=s.length+1,o,l,c,d,f;for(a=Z0(i),a[0]=s.length,o=1;o!=i;++o)a[o]=s[o-1];for(o=i-1;o>=0;--o)l=a[o],c=(r&16384)===0?0:1,d=r<<1&32767,f=c|d,r=f^l;return r^52811}var sve=function(){function t(i,o){switch(o.type){case"base64":return r(zA(i),o);case"binary":return r(i,o);case"buffer":return r(ns&&Buffer.isBuffer(i)?i.toString("binary"):lv(i),o);case"array":return r(R4(i),o)}throw new Error("Unrecognized type "+o.type)}function r(i,o){var l=o||{},c=l.dense?[]:{},d=i.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(u,m){Array.isArray(c)&&(c[m]=[]);for(var p=/\\\w+\b/g,g=0,v,y=-1;v=p.exec(u);){switch(v[0]){case"\\cell":var b=u.slice(g,p.lastIndex-v[0].length);if(b[0]==" "&&(b=b.slice(1)),++y,b.length){var j={v:b,t:"s"};Array.isArray(c)?c[m][y]=j:c[vs({r:m,c:y})]=j}break}g=p.lastIndex}y>f.e.c&&(f.e.c=y)}),c["!ref"]=li(f),c}function a(i,o){return Ap(t(i,o),o)}function s(i){for(var o=["{\\rtf1\\ansi"],l=nn(i["!ref"]),c,d=Array.isArray(i),f=l.s.r;f<=l.e.r;++f){o.push("\\trowd\\trautofit1");for(var u=l.s.c;u<=l.e.c;++u)o.push("\\cellx"+(u+1));for(o.push("\\pard\\intbl"),u=l.s.c;u<=l.e.c;++u){var m=vs({r:f,c:u});c=d?(i[f]||[])[u]:i[m],!(!c||c.v==null&&(!c.f||c.F))&&(o.push(" "+(c.w||(VA(c),c.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}return{to_workbook:a,to_sheet:t,from_sheet:s}}();function qO(t){for(var r=0,a=1;r!=3;++r)a=a*256+(t[r]>255?255:t[r]<0?0:t[r]);return a.toString(16).toUpperCase().slice(1)}var nve=6,DA=nve;function gw(t){return Math.floor((t+Math.round(128/DA)/256)*DA)}function xw(t){return Math.floor((t-5)/DA*100+.5)/100}function x3(t){return Math.round((t*DA+5)/DA*256)/256}function U6(t){t.width?(t.wpx=gw(t.width),t.wch=xw(t.wpx),t.MDW=DA):t.wpx?(t.wch=xw(t.wpx),t.width=x3(t.wch),t.MDW=DA):typeof t.wch=="number"&&(t.width=x3(t.wch),t.wpx=gw(t.width),t.MDW=DA),t.customWidth&&delete t.customWidth}var ive=96,k$=ive;function yw(t){return t*96/k$}function _$(t){return t*k$/96}function ove(t){var r=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)t[s]!=null&&(r[r.length]=yr("numFmt",null,{numFmtId:s,formatCode:xs(t[s])}))}),r.length===1?"":(r[r.length]="</numFmts>",r[0]=yr("numFmts",null,{count:r.length-2}).replace("/>",">"),r.join(""))}function lve(t){var r=[];return r[r.length]=yr("cellXfs",null),t.forEach(function(a){r[r.length]=yr("xf",null,a)}),r[r.length]="</cellXfs>",r.length===2?"":(r[0]=yr("cellXfs",null,{count:r.length-2}).replace("/>",">"),r.join(""))}function P$(t,r){var a=[ci,yr("styleSheet",null,{xmlns:ox[0],"xmlns:vt":Vi.vt})],s;return t.SSF&&(s=ove(t.SSF))!=null&&(a[a.length]=s),a[a.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',a[a.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',a[a.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',a[a.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(s=lve(r.cellXfs))&&(a[a.length]=s),a[a.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',a[a.length]='<dxfs count="0"/>',a[a.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',a.length>2&&(a[a.length]="</styleSheet>",a[1]=a[1].replace("/>",">")),a.join("")}function cve(t,r){var a=t.read_shift(2),s=Vo(t);return[a,s]}function dve(t,r,a){a||(a=Vt(6+4*r.length)),a.write_shift(2,t),Wi(r,a);var s=a.length>a.l?a.slice(0,a.l):a;return a.l==null&&(a.l=a.length),s}function uve(t,r,a){var s={};s.sz=t.read_shift(2)/20;var i=J1e(t);i.fItalic&&(s.italic=1),i.fCondense&&(s.condense=1),i.fExtend&&(s.extend=1),i.fShadow&&(s.shadow=1),i.fOutline&&(s.outline=1),i.fStrikeout&&(s.strike=1);var o=t.read_shift(2);switch(o===700&&(s.bold=1),t.read_shift(2)){case 1:s.vertAlign="superscript";break;case 2:s.vertAlign="subscript";break}var l=t.read_shift(1);l!=0&&(s.underline=l);var c=t.read_shift(1);c>0&&(s.family=c);var d=t.read_shift(1);switch(d>0&&(s.charset=d),t.l++,s.color=X1e(t),t.read_shift(1)){case 1:s.scheme="major";break;case 2:s.scheme="minor";break}return s.name=Vo(t),s}function fve(t,r){r||(r=Vt(153)),r.write_shift(2,t.sz*20),Z1e(t,r),r.write_shift(2,t.bold?700:400);var a=0;t.vertAlign=="superscript"?a=1:t.vertAlign=="subscript"&&(a=2),r.write_shift(2,a),r.write_shift(1,t.underline||0),r.write_shift(1,t.family||0),r.write_shift(1,t.charset||0),r.write_shift(1,0),mw(t.color,r);var s=0;return s=2,r.write_shift(1,s),Wi(t.name,r),r.length>r.l?r.slice(0,r.l):r}var Ave=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],l5,hve=Ef;function YO(t,r){r||(r=Vt(84)),l5||(l5=B6(Ave));var a=l5[t.patternType];a==null&&(a=40),r.write_shift(4,a);var s=0;if(a!=40)for(mw({auto:1},r),mw({auto:1},r);s<12;++s)r.write_shift(4,0);else{for(;s<4;++s)r.write_shift(4,0);for(;s<12;++s)r.write_shift(4,0)}return r.length>r.l?r.slice(0,r.l):r}function mve(t,r){var a=t.l+r,s=t.read_shift(2),i=t.read_shift(2);return t.l=a,{ixfe:s,numFmtId:i}}function O$(t,r,a){a||(a=Vt(16)),a.write_shift(2,r||0),a.write_shift(2,t.numFmtId||0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(1,0),a.write_shift(1,0);var s=0;return a.write_shift(1,s),a.write_shift(1,0),a.write_shift(1,0),a.write_shift(1,0),a}function x1(t,r){return r||(r=Vt(10)),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(4,0),r}var pve=Ef;function gve(t,r){return r||(r=Vt(51)),r.write_shift(1,0),x1(null,r),x1(null,r),x1(null,r),x1(null,r),x1(null,r),r.length>r.l?r.slice(0,r.l):r}function xve(t,r){return r||(r=Vt(52)),r.write_shift(4,t.xfId),r.write_shift(2,1),r.write_shift(1,0),r.write_shift(1,0),hw(t.name||"",r),r.length>r.l?r.slice(0,r.l):r}function yve(t,r,a){var s=Vt(2052);return s.write_shift(4,t),hw(r,s),hw(a,s),s.length>s.l?s.slice(0,s.l):s}function vve(t,r){if(r){var a=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var i=s[0];i<=s[1];++i)r[i]!=null&&++a}),a!=0&&(ir(t,615,bu(a)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var i=s[0];i<=s[1];++i)r[i]!=null&&ir(t,44,dve(i,r[i]))}),ir(t,616))}}function bve(t){var r=1;ir(t,611,bu(r)),ir(t,43,fve({sz:12,color:{theme:1},name:"Calibri",family:2})),ir(t,612)}function wve(t){var r=2;ir(t,603,bu(r)),ir(t,45,YO({patternType:"none"})),ir(t,45,YO({patternType:"gray125"})),ir(t,604)}function jve(t){var r=1;ir(t,613,bu(r)),ir(t,46,gve()),ir(t,614)}function Nve(t){var r=1;ir(t,626,bu(r)),ir(t,47,O$({numFmtId:0},65535)),ir(t,627)}function Sve(t,r){ir(t,617,bu(r.length)),r.forEach(function(a){ir(t,47,O$(a,0))}),ir(t,618)}function Cve(t){var r=1;ir(t,619,bu(r)),ir(t,48,xve({xfId:0,name:"Normal"})),ir(t,620)}function Bve(t){var r=0;ir(t,505,bu(r)),ir(t,506)}function Eve(t){var r=0;ir(t,508,yve(r,"TableStyleMedium9","PivotStyleMedium4")),ir(t,509)}function Tve(t,r){var a=Ql();return ir(a,278),vve(a,t.SSF),bve(a),wve(a),jve(a),Nve(a),Sve(a,r.cellXfs),Cve(a),Bve(a),Eve(a),ir(a,279),a.end()}function D$(t,r){if(r&&r.themeXLSX)return r.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var a=[ci];return a[a.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',a[a.length]="<a:themeElements>",a[a.length]='<a:clrScheme name="Office">',a[a.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',a[a.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',a[a.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',a[a.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',a[a.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',a[a.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',a[a.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',a[a.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',a[a.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',a[a.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',a[a.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',a[a.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',a[a.length]="</a:clrScheme>",a[a.length]='<a:fontScheme name="Office">',a[a.length]="<a:majorFont>",a[a.length]='<a:latin typeface="Cambria"/>',a[a.length]='<a:ea typeface=""/>',a[a.length]='<a:cs typeface=""/>',a[a.length]='<a:font script="Jpan" typeface=" "/>',a[a.length]='<a:font script="Hang" typeface=" "/>',a[a.length]='<a:font script="Hans" typeface=""/>',a[a.length]='<a:font script="Hant" typeface=""/>',a[a.length]='<a:font script="Arab" typeface="Times New Roman"/>',a[a.length]='<a:font script="Hebr" typeface="Times New Roman"/>',a[a.length]='<a:font script="Thai" typeface="Tahoma"/>',a[a.length]='<a:font script="Ethi" typeface="Nyala"/>',a[a.length]='<a:font script="Beng" typeface="Vrinda"/>',a[a.length]='<a:font script="Gujr" typeface="Shruti"/>',a[a.length]='<a:font script="Khmr" typeface="MoolBoran"/>',a[a.length]='<a:font script="Knda" typeface="Tunga"/>',a[a.length]='<a:font script="Guru" typeface="Raavi"/>',a[a.length]='<a:font script="Cans" typeface="Euphemia"/>',a[a.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',a[a.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',a[a.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',a[a.length]='<a:font script="Thaa" typeface="MV Boli"/>',a[a.length]='<a:font script="Deva" typeface="Mangal"/>',a[a.length]='<a:font script="Telu" typeface="Gautami"/>',a[a.length]='<a:font script="Taml" typeface="Latha"/>',a[a.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',a[a.length]='<a:font script="Orya" typeface="Kalinga"/>',a[a.length]='<a:font script="Mlym" typeface="Kartika"/>',a[a.length]='<a:font script="Laoo" typeface="DokChampa"/>',a[a.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',a[a.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',a[a.length]='<a:font script="Viet" typeface="Times New Roman"/>',a[a.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',a[a.length]='<a:font script="Geor" typeface="Sylfaen"/>',a[a.length]="</a:majorFont>",a[a.length]="<a:minorFont>",a[a.length]='<a:latin typeface="Calibri"/>',a[a.length]='<a:ea typeface=""/>',a[a.length]='<a:cs typeface=""/>',a[a.length]='<a:font script="Jpan" typeface=" "/>',a[a.length]='<a:font script="Hang" typeface=" "/>',a[a.length]='<a:font script="Hans" typeface=""/>',a[a.length]='<a:font script="Hant" typeface=""/>',a[a.length]='<a:font script="Arab" typeface="Arial"/>',a[a.length]='<a:font script="Hebr" typeface="Arial"/>',a[a.length]='<a:font script="Thai" typeface="Tahoma"/>',a[a.length]='<a:font script="Ethi" typeface="Nyala"/>',a[a.length]='<a:font script="Beng" typeface="Vrinda"/>',a[a.length]='<a:font script="Gujr" typeface="Shruti"/>',a[a.length]='<a:font script="Khmr" typeface="DaunPenh"/>',a[a.length]='<a:font script="Knda" typeface="Tunga"/>',a[a.length]='<a:font script="Guru" typeface="Raavi"/>',a[a.length]='<a:font script="Cans" typeface="Euphemia"/>',a[a.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',a[a.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',a[a.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',a[a.length]='<a:font script="Thaa" typeface="MV Boli"/>',a[a.length]='<a:font script="Deva" typeface="Mangal"/>',a[a.length]='<a:font script="Telu" typeface="Gautami"/>',a[a.length]='<a:font script="Taml" typeface="Latha"/>',a[a.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',a[a.length]='<a:font script="Orya" typeface="Kalinga"/>',a[a.length]='<a:font script="Mlym" typeface="Kartika"/>',a[a.length]='<a:font script="Laoo" typeface="DokChampa"/>',a[a.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',a[a.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',a[a.length]='<a:font script="Viet" typeface="Arial"/>',a[a.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',a[a.length]='<a:font script="Geor" typeface="Sylfaen"/>',a[a.length]="</a:minorFont>",a[a.length]="</a:fontScheme>",a[a.length]='<a:fmtScheme name="Office">',a[a.length]="<a:fillStyleLst>",a[a.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:lin ang="16200000" scaled="1"/>',a[a.length]="</a:gradFill>",a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:lin ang="16200000" scaled="0"/>',a[a.length]="</a:gradFill>",a[a.length]="</a:fillStyleLst>",a[a.length]="<a:lnStyleLst>",a[a.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]="</a:lnStyleLst>",a[a.length]="<a:effectStyleLst>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]="</a:effectStyle>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]="</a:effectStyle>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',a[a.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',a[a.length]="</a:effectStyle>",a[a.length]="</a:effectStyleLst>",a[a.length]="<a:bgFillStyleLst>",a[a.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',a[a.length]="</a:gradFill>",a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',a[a.length]="</a:gradFill>",a[a.length]="</a:bgFillStyleLst>",a[a.length]="</a:fmtScheme>",a[a.length]="</a:themeElements>",a[a.length]="<a:objectDefaults>",a[a.length]="<a:spDef>",a[a.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',a[a.length]="</a:spDef>",a[a.length]="<a:lnDef>",a[a.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',a[a.length]="</a:lnDef>",a[a.length]="</a:objectDefaults>",a[a.length]="<a:extraClrSchemeLst/>",a[a.length]="</a:theme>",a.join("")}function Fve(t,r){return{flags:t.read_shift(4),version:t.read_shift(4),name:Vo(t)}}function Ive(t){var r=Vt(12+2*t.name.length);return r.write_shift(4,t.flags),r.write_shift(4,t.version),Wi(t.name,r),r.slice(0,r.l)}function kve(t){for(var r=[],a=t.read_shift(4);a-- >0;)r.push([t.read_shift(4),t.read_shift(4)]);return r}function _ve(t){var r=Vt(4+8*t.length);r.write_shift(4,t.length);for(var a=0;a<t.length;++a)r.write_shift(4,t[a][0]),r.write_shift(4,t[a][1]);return r}function Pve(t,r){var a=Vt(8+2*r.length);return a.write_shift(4,t),Wi(r,a),a.slice(0,a.l)}function Ove(t){return t.l+=4,t.read_shift(4)!=0}function Dve(t,r){var a=Vt(8);return a.write_shift(4,t),a.write_shift(4,1),a}function Lve(){var t=Ql();return ir(t,332),ir(t,334,bu(1)),ir(t,335,Ive({name:"XLDAPR",version:12e4,flags:3496657072})),ir(t,336),ir(t,339,Pve(1,"XLDAPR")),ir(t,52),ir(t,35,bu(514)),ir(t,4096,bu(0)),ir(t,4097,ud(1)),ir(t,36),ir(t,53),ir(t,340),ir(t,337,Dve(1)),ir(t,51,_ve([[1,0]])),ir(t,338),ir(t,333),t.end()}function L$(){var t=[ci];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function Mve(t){var r={};r.i=t.read_shift(4);var a={};a.r=t.read_shift(4),a.c=t.read_shift(4),r.r=vs(a);var s=t.read_shift(1);return s&2&&(r.l="1"),s&8&&(r.a="1"),r}var hg=1024;function M$(t,r){for(var a=[21600,21600],s=["m0,0l0",a[1],a[0],a[1],a[0],"0xe"].join(","),i=[yr("xml",null,{"xmlns:v":bc.v,"xmlns:o":bc.o,"xmlns:x":bc.x,"xmlns:mv":bc.mv}).replace(/\/>/,">"),yr("o:shapelayout",yr("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),yr("v:shapetype",[yr("v:stroke",null,{joinstyle:"miter"}),yr("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:a.join(","),path:s})];hg<t*1e3;)hg+=1e3;return r.forEach(function(o){var l=Gi(o[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var d=c.type=="gradient"?yr("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=yr("v:fill",d,c),u={on:"t",obscured:"t"};++hg,i=i.concat(["<v:shape"+Ty({id:"_x0000_s"+hg,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(o[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,yr("v:shadow",null,u),yr("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",fo("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),fo("x:AutoFill","False"),fo("x:Row",String(l.r)),fo("x:Column",String(l.c)),o[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function U$(t){var r=[ci,yr("comments",null,{xmlns:ox[0]})],a=[];return r.push("<authors>"),t.forEach(function(s){s[1].forEach(function(i){var o=xs(i.a);a.indexOf(o)==-1&&(a.push(o),r.push("<author>"+o+"</author>")),i.T&&i.ID&&a.indexOf("tc="+i.ID)==-1&&(a.push("tc="+i.ID),r.push("<author>tc="+i.ID+"</author>"))})}),a.length==0&&(a.push("SheetJ5"),r.push("<author>SheetJ5</author>")),r.push("</authors>"),r.push("<commentList>"),t.forEach(function(s){var i=0,o=[];if(s[1][0]&&s[1][0].T&&s[1][0].ID?i=a.indexOf("tc="+s[1][0].ID):s[1].forEach(function(d){d.a&&(i=a.indexOf(xs(d.a))),o.push(d.t||"")}),r.push('<comment ref="'+s[0]+'" authorId="'+i+'"><text>'),o.length<=1)r.push(fo("t",xs(o[0]||"")));else{for(var l=`Comment:
    `+o[0]+`
`,c=1;c<o.length;++c)l+=`Reply:
    `+o[c]+`
`;r.push(fo("t",xs(l)))}r.push("</text></comment>")}),r.push("</commentList>"),r.length>2&&(r[r.length]="</comments>",r[1]=r[1].replace("/>",">")),r.join("")}function Uve(t,r,a){var s=[ci,yr("ThreadedComments",null,{xmlns:Vi.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var o="";(i[1]||[]).forEach(function(l,c){if(!l.T){delete l.ID;return}l.a&&r.indexOf(l.a)==-1&&r.push(l.a);var d={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+a.tcid++).slice(-12)+"}"};c==0?o=d.id:d.parentId=o,l.ID=d.id,l.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+r.indexOf(l.a)).slice(-12)+"}"),s.push(yr("threadedComment",fo("text",l.t||""),d))})}),s.push("</ThreadedComments>"),s.join("")}function Rve(t){var r=[ci,yr("personList",null,{xmlns:Vi.TCMNT,"xmlns:x":ox[0]}).replace(/[\/]>/,">")];return t.forEach(function(a,s){r.push(yr("person",null,{displayName:a,id:"{54EE7950-7262-4200-6969-"+("000000000000"+s).slice(-12)+"}",userId:a,providerId:"None"}))}),r.push("</personList>"),r.join("")}function Qve(t){var r={};r.iauthor=t.read_shift(4);var a=gp(t);return r.rfx=a.s,r.ref=vs(a.s),t.l+=16,r}function Hve(t,r){return r==null&&(r=Vt(36)),r.write_shift(4,t[1].iauthor),cx(t[0],r),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r}var $ve=Vo;function zve(t){return Wi(t.slice(0,54))}function Vve(t){var r=Ql(),a=[];return ir(r,628),ir(r,630),t.forEach(function(s){s[1].forEach(function(i){a.indexOf(i.a)>-1||(a.push(i.a.slice(0,54)),ir(r,632,zve(i.a)))})}),ir(r,631),ir(r,633),t.forEach(function(s){s[1].forEach(function(i){i.iauthor=a.indexOf(i.a);var o={s:Gi(s[0]),e:Gi(s[0])};ir(r,635,Hve([o,i])),i.t&&i.t.length>0&&ir(r,637,G1e(i)),ir(r,636),delete i.iauthor})}),ir(r,634),ir(r,629),r.end()}function Kve(t,r){r.FullPaths.forEach(function(a,s){if(s!=0){var i=a.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Es.utils.cfb_add(t,i,r.FileIndex[s].content)}})}var R$=["xlsb","xlsm","xlam","biff8","xla"],Gve=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,r={r:0,c:0};function a(s,i,o,l){var c=!1,d=!1;o.length==0?d=!0:o.charAt(0)=="["&&(d=!0,o=o.slice(1,-1)),l.length==0?c=!0:l.charAt(0)=="["&&(c=!0,l=l.slice(1,-1));var f=o.length>0?parseInt(o,10)|0:0,u=l.length>0?parseInt(l,10)|0:0;return c?u+=r.c:--u,d?f+=r.r:--f,i+(c?"":"$")+zo(u)+(d?"":"$")+ho(f)}return function(i,o){return r=o,i.replace(t,a)}}(),R6=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Q6=function(){return function(r,a){return r.replace(R6,function(s,i,o,l,c,d){var f=P6(l)-(o?0:a.c),u=_6(d)-(c?0:a.r),m=u==0?"":c?u+1:"["+u+"]",p=f==0?"":o?f+1:"["+f+"]";return i+"R"+m+"C"+p})}}();function Wve(t,r){return t.replace(R6,function(a,s,i,o,l,c){return s+(i=="$"?i+o:zo(P6(o)+r.c))+(l=="$"?l+c:ho(_6(c)+r.r))})}function qve(t){return t.length!=1}function ai(t){t.l+=1}function ym(t,r){var a=t.read_shift(2);return[a&16383,a>>14&1,a>>15&1]}function Q$(t,r,a){var s=2;if(a){if(a.biff>=2&&a.biff<=5)return H$(t);a.biff==12&&(s=4)}var i=t.read_shift(s),o=t.read_shift(s),l=ym(t),c=ym(t);return{s:{r:i,c:l[0],cRel:l[1],rRel:l[2]},e:{r:o,c:c[0],cRel:c[1],rRel:c[2]}}}function H$(t){var r=ym(t),a=ym(t),s=t.read_shift(1),i=t.read_shift(1);return{s:{r:r[0],c:s,cRel:r[1],rRel:r[2]},e:{r:a[0],c:i,cRel:a[1],rRel:a[2]}}}function Yve(t,r,a){if(a.biff<8)return H$(t);var s=t.read_shift(a.biff==12?4:2),i=t.read_shift(a.biff==12?4:2),o=ym(t),l=ym(t);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function $$(t,r,a){if(a&&a.biff>=2&&a.biff<=5)return Xve(t);var s=t.read_shift(a&&a.biff==12?4:2),i=ym(t);return{r:s,c:i[0],cRel:i[1],rRel:i[2]}}function Xve(t){var r=ym(t),a=t.read_shift(1);return{r:r[0],c:a,cRel:r[1],rRel:r[2]}}function Jve(t){var r=t.read_shift(2),a=t.read_shift(2);return{r,c:a&255,fQuoted:!!(a&16384),cRel:a>>15,rRel:a>>15}}function Zve(t,r,a){var s=a&&a.biff?a.biff:8;if(s>=2&&s<=5)return ebe(t);var i=t.read_shift(s>=12?4:2),o=t.read_shift(2),l=(o&16384)>>14,c=(o&32768)>>15;if(o&=16383,c==1)for(;i>524287;)i-=1048576;if(l==1)for(;o>8191;)o=o-16384;return{r:i,c:o,cRel:l,rRel:c}}function ebe(t){var r=t.read_shift(2),a=t.read_shift(1),s=(r&32768)>>15,i=(r&16384)>>14;return r&=16383,s==1&&r>=8192&&(r=r-16384),i==1&&a>=128&&(a=a-256),{r,c:a,cRel:i,rRel:s}}function tbe(t,r,a){var s=(t[t.l++]&96)>>5,i=Q$(t,a.biff>=2&&a.biff<=5?6:8,a);return[s,i]}function rbe(t,r,a){var s=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),o=8;if(a)switch(a.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}var l=Q$(t,o,a);return[s,i,l]}function abe(t,r,a){var s=(t[t.l++]&96)>>5;return t.l+=a&&a.biff>8?12:a.biff<8?6:8,[s]}function sbe(t,r,a){var s=(t[t.l++]&96)>>5,i=t.read_shift(2),o=8;if(a)switch(a.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}return t.l+=o,[s,i]}function nbe(t,r,a){var s=(t[t.l++]&96)>>5,i=Yve(t,r-1,a);return[s,i]}function ibe(t,r,a){var s=(t[t.l++]&96)>>5;return t.l+=a.biff==2?6:a.biff==12?14:7,[s]}function XO(t){var r=t[t.l+1]&1,a=1;return t.l+=4,[r,a]}function obe(t,r,a){t.l+=2;for(var s=t.read_shift(a&&a.biff==2?1:2),i=[],o=0;o<=s;++o)i.push(t.read_shift(a&&a.biff==2?1:2));return i}function lbe(t,r,a){var s=t[t.l+1]&255?1:0;return t.l+=2,[s,t.read_shift(a&&a.biff==2?1:2)]}function cbe(t,r,a){var s=t[t.l+1]&255?1:0;return t.l+=2,[s,t.read_shift(a&&a.biff==2?1:2)]}function dbe(t){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(2)]}function ube(t,r,a){var s=t[t.l+1]&255?1:0;return t.l+=a&&a.biff==2?3:4,[s]}function z$(t){var r=t.read_shift(1),a=t.read_shift(1);return[r,a]}function fbe(t){return t.read_shift(2),z$(t)}function Abe(t){return t.read_shift(2),z$(t)}function hbe(t,r,a){var s=(t[t.l]&96)>>5;t.l+=1;var i=$$(t,0,a);return[s,i]}function mbe(t,r,a){var s=(t[t.l]&96)>>5;t.l+=1;var i=Zve(t,0,a);return[s,i]}function pbe(t,r,a){var s=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);a&&a.biff==5&&(t.l+=12);var o=$$(t,0,a);return[s,i,o]}function gbe(t,r,a){var s=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(a&&a.biff<=3?1:2);return[g2e[i],G$[i],s]}function xbe(t,r,a){var s=t[t.l++],i=t.read_shift(1),o=a&&a.biff<=3?[s==88?-1:0,t.read_shift(1)]:ybe(t);return[i,(o[0]===0?G$:p2e)[o[1]]]}function ybe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function vbe(t,r,a){t.l+=a&&a.biff==2?3:4}function bbe(t,r,a){if(t.l++,a&&a.biff==12)return[t.read_shift(4,"i"),0];var s=t.read_shift(2),i=t.read_shift(a&&a.biff==2?1:2);return[s,i]}function wbe(t){return t.l++,uv[t.read_shift(1)]}function jbe(t){return t.l++,t.read_shift(2)}function Nbe(t){return t.l++,t.read_shift(1)!==0}function Sbe(t){return t.l++,dx(t)}function Cbe(t,r,a){return t.l++,C$(t,r-1,a)}function Bbe(t,r){var a=[t.read_shift(1)];if(r==12)switch(a[0]){case 2:a[0]=4;break;case 4:a[0]=16;break;case 0:a[0]=1;break;case 1:a[0]=2;break}switch(a[0]){case 4:a[1]=pye(t,1)?"TRUE":"FALSE",r!=12&&(t.l+=7);break;case 37:case 16:a[1]=uv[t[t.l]],t.l+=r==12?4:8;break;case 0:t.l+=8;break;case 1:a[1]=dx(t);break;case 2:a[1]=vye(t,0,{biff:r>0&&r<8?2:r});break;default:throw new Error("Bad SerAr: "+a[0])}return a}function Ebe(t,r,a){for(var s=t.read_shift(a.biff==12?4:2),i=[],o=0;o!=s;++o)i.push((a.biff==12?gp:jye)(t));return i}function Tbe(t,r,a){var s=0,i=0;a.biff==12?(s=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),s=1+t.read_shift(2)),a.biff>=2&&a.biff<8&&(--s,--i==0&&(i=256));for(var o=0,l=[];o!=s&&(l[o]=[]);++o)for(var c=0;c!=i;++c)l[o][c]=Bbe(t,a.biff);return l}function Fbe(t,r,a){var s=t.read_shift(1)>>>5&3,i=!a||a.biff>=8?4:2,o=t.read_shift(i);switch(a.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[s,0,o]}function Ibe(t,r,a){if(a.biff==5)return kbe(t);var s=t.read_shift(1)>>>5&3,i=t.read_shift(2),o=t.read_shift(4);return[s,i,o]}function kbe(t){var r=t.read_shift(1)>>>5&3,a=t.read_shift(2,"i");t.l+=8;var s=t.read_shift(2);return t.l+=12,[r,a,s]}function _be(t,r,a){var s=t.read_shift(1)>>>5&3;t.l+=a&&a.biff==2?3:4;var i=t.read_shift(a&&a.biff==2?1:2);return[s,i]}function Pbe(t,r,a){var s=t.read_shift(1)>>>5&3,i=t.read_shift(a&&a.biff==2?1:2);return[s,i]}function Obe(t,r,a){var s=t.read_shift(1)>>>5&3;return t.l+=4,a.biff<8&&t.l--,a.biff==12&&(t.l+=2),[s]}function Dbe(t,r,a){var s=(t[t.l++]&96)>>5,i=t.read_shift(2),o=4;if(a)switch(a.biff){case 5:o=15;break;case 12:o=6;break}return t.l+=o,[s,i]}var Lbe=Ef,Mbe=Ef,Ube=Ef;function fv(t,r,a){return t.l+=2,[Jve(t)]}function H6(t){return t.l+=6,[]}var Rbe=fv,Qbe=H6,Hbe=H6,$be=fv;function V$(t){return t.l+=2,[N$(t),t.read_shift(2)&1]}var zbe=fv,Vbe=V$,Kbe=H6,Gbe=fv,Wbe=fv,qbe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Ybe(t){t.l+=2;var r=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(4),i=t.read_shift(2),o=t.read_shift(2),l=qbe[a>>2&31];return{ixti:r,coltype:a&3,rt:l,idx:s,c:i,C:o}}function Xbe(t){return t.l+=2,[t.read_shift(4)]}function Jbe(t,r,a){return t.l+=5,t.l+=2,t.l+=a.biff==2?1:4,["PTGSHEET"]}function Zbe(t,r,a){return t.l+=a.biff==2?4:5,["PTGENDSHEET"]}function e2e(t){var r=t.read_shift(1)>>>5&3,a=t.read_shift(2);return[r,a]}function t2e(t){var r=t.read_shift(1)>>>5&3,a=t.read_shift(2);return[r,a]}function r2e(t){return t.l+=4,[0,0]}var JO={1:{n:"PtgExp",f:bbe},2:{n:"PtgTbl",f:Ube},3:{n:"PtgAdd",f:ai},4:{n:"PtgSub",f:ai},5:{n:"PtgMul",f:ai},6:{n:"PtgDiv",f:ai},7:{n:"PtgPower",f:ai},8:{n:"PtgConcat",f:ai},9:{n:"PtgLt",f:ai},10:{n:"PtgLe",f:ai},11:{n:"PtgEq",f:ai},12:{n:"PtgGe",f:ai},13:{n:"PtgGt",f:ai},14:{n:"PtgNe",f:ai},15:{n:"PtgIsect",f:ai},16:{n:"PtgUnion",f:ai},17:{n:"PtgRange",f:ai},18:{n:"PtgUplus",f:ai},19:{n:"PtgUminus",f:ai},20:{n:"PtgPercent",f:ai},21:{n:"PtgParen",f:ai},22:{n:"PtgMissArg",f:ai},23:{n:"PtgStr",f:Cbe},26:{n:"PtgSheet",f:Jbe},27:{n:"PtgEndSheet",f:Zbe},28:{n:"PtgErr",f:wbe},29:{n:"PtgBool",f:Nbe},30:{n:"PtgInt",f:jbe},31:{n:"PtgNum",f:Sbe},32:{n:"PtgArray",f:ibe},33:{n:"PtgFunc",f:gbe},34:{n:"PtgFuncVar",f:xbe},35:{n:"PtgName",f:Fbe},36:{n:"PtgRef",f:hbe},37:{n:"PtgArea",f:tbe},38:{n:"PtgMemArea",f:_be},39:{n:"PtgMemErr",f:Lbe},40:{n:"PtgMemNoMem",f:Mbe},41:{n:"PtgMemFunc",f:Pbe},42:{n:"PtgRefErr",f:Obe},43:{n:"PtgAreaErr",f:abe},44:{n:"PtgRefN",f:mbe},45:{n:"PtgAreaN",f:nbe},46:{n:"PtgMemAreaN",f:e2e},47:{n:"PtgMemNoMemN",f:t2e},57:{n:"PtgNameX",f:Ibe},58:{n:"PtgRef3d",f:pbe},59:{n:"PtgArea3d",f:rbe},60:{n:"PtgRefErr3d",f:Dbe},61:{n:"PtgAreaErr3d",f:sbe},255:{}},a2e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},s2e={1:{n:"PtgElfLel",f:V$},2:{n:"PtgElfRw",f:Gbe},3:{n:"PtgElfCol",f:Rbe},6:{n:"PtgElfRwV",f:Wbe},7:{n:"PtgElfColV",f:$be},10:{n:"PtgElfRadical",f:zbe},11:{n:"PtgElfRadicalS",f:Kbe},13:{n:"PtgElfColS",f:Qbe},15:{n:"PtgElfColSV",f:Hbe},16:{n:"PtgElfRadicalLel",f:Vbe},25:{n:"PtgList",f:Ybe},29:{n:"PtgSxName",f:Xbe},255:{}},n2e={0:{n:"PtgAttrNoop",f:r2e},1:{n:"PtgAttrSemi",f:ube},2:{n:"PtgAttrIf",f:cbe},4:{n:"PtgAttrChoose",f:obe},8:{n:"PtgAttrGoto",f:lbe},16:{n:"PtgAttrSum",f:vbe},32:{n:"PtgAttrBaxcel",f:XO},33:{n:"PtgAttrBaxcel",f:XO},64:{n:"PtgAttrSpace",f:fbe},65:{n:"PtgAttrSpaceSemi",f:Abe},128:{n:"PtgAttrIfError",f:dbe},255:{}};function i2e(t,r,a,s){if(s.biff<8)return Ef(t,r);for(var i=t.l+r,o=[],l=0;l!==a.length;++l)switch(a[l][0]){case"PtgArray":a[l][1]=Tbe(t,0,s),o.push(a[l][1]);break;case"PtgMemArea":a[l][2]=Ebe(t,a[l][1],s),o.push(a[l][2]);break;case"PtgExp":s&&s.biff==12&&(a[l][1][1]=t.read_shift(4),o.push(a[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+a[l][0]}return r=i-t.l,r!==0&&o.push(Ef(t,r)),o}function o2e(t,r,a){for(var s=t.l+r,i,o,l=[];s!=t.l;)r=s-t.l,o=t[t.l],i=JO[o]||JO[a2e[o]],(o===24||o===25)&&(i=(o===24?s2e:n2e)[t[t.l+1]]),!i||!i.f?Ef(t,r):l.push([i.n,i.f(t,r,a)]);return l}function l2e(t){for(var r=[],a=0;a<t.length;++a){for(var s=t[a],i=[],o=0;o<s.length;++o){var l=s[o];if(l)switch(l[0]){case 2:i.push('"'+l[1].replace(/"/g,'""')+'"');break;default:i.push(l[1])}else i.push("")}r.push(i.join(","))}return r.join(";")}var c2e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function d2e(t,r){if(!t&&!(r&&r.biff<=5&&r.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function K$(t,r,a){if(!t)return"SH33TJSERR0";if(a.biff>8&&(!t.XTI||!t.XTI[r]))return t.SheetNames[r];if(!t.XTI)return"SH33TJSERR6";var s=t.XTI[r];if(a.biff<8)return r>1e4&&(r-=65536),r<0&&(r=-r),r==0?"":t.XTI[r-1];if(!s)return"SH33TJSERR1";var i="";if(a.biff>8)switch(t[s[0]][0]){case 357:return i=s[1]==-1?"#REF":t.SheetNames[s[1]],s[1]==s[2]?i:i+":"+t.SheetNames[s[2]];case 358:return a.SID!=null?t.SheetNames[a.SID]:"SH33TJSSAME"+t[s[0]][0];case 355:default:return"SH33TJSSRC"+t[s[0]][0]}switch(t[s[0]][0][0]){case 1025:return i=s[1]==-1?"#REF":t.SheetNames[s[1]]||"SH33TJSERR3",s[1]==s[2]?i:i+":"+t.SheetNames[s[2]];case 14849:return t[s[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return t[s[0]][0][3]?(i=s[1]==-1?"#REF":t[s[0]][0][3][s[1]]||"SH33TJSERR4",s[1]==s[2]?i:i+":"+t[s[0]][0][3][s[2]]):"SH33TJSERR2"}}function ZO(t,r,a){var s=K$(t,r,a);return s=="#REF"?s:d2e(s,a)}function Rg(t,r,a,s,i){var o=i&&i.biff||8,l={s:{c:0,r:0}},c=[],d,f,u,m=0,p=0,g,v="";if(!t[0]||!t[0][0])return"";for(var y=-1,b="",j=0,N=t[0].length;j<N;++j){var S=t[0][j];switch(S[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=c.pop(),f=c.pop(),y>=0){switch(t[0][y][1][0]){case 0:b=On(" ",t[0][y][1][1]);break;case 1:b=On("\r",t[0][y][1][1]);break;default:if(b="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][y][1][0])}f=f+b,y=-1}c.push(f+c2e[S[0]]+d);break;case"PtgIsect":d=c.pop(),f=c.pop(),c.push(f+" "+d);break;case"PtgUnion":d=c.pop(),f=c.pop(),c.push(f+","+d);break;case"PtgRange":d=c.pop(),f=c.pop(),c.push(f+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=z1(S[1][1],l,i),c.push(V1(u,o));break;case"PtgRefN":u=a?z1(S[1][1],a,i):S[1][1],c.push(V1(u,o));break;case"PtgRef3d":m=S[1][1],u=z1(S[1][2],l,i),v=ZO(s,m,i),c.push(v+"!"+V1(u,o));break;case"PtgFunc":case"PtgFuncVar":var B=S[1][0],I=S[1][1];B||(B=0),B&=127;var F=B==0?[]:c.slice(-B);c.length-=B,I==="User"&&(I=F.shift()),c.push(I+"("+F.join(",")+")");break;case"PtgBool":c.push(S[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(S[1]);break;case"PtgNum":c.push(String(S[1]));break;case"PtgStr":c.push('"'+S[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(S[1]);break;case"PtgAreaN":g=LO(S[1][1],a?{s:a}:l,i),c.push(i5(g,i));break;case"PtgArea":g=LO(S[1][1],l,i),c.push(i5(g,i));break;case"PtgArea3d":m=S[1][1],g=S[1][2],v=ZO(s,m,i),c.push(v+"!"+i5(g,i));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=S[1][2];var O=(s.names||[])[p-1]||(s[0]||[])[p],k=O?O.Name:"SH33TJSNAME"+String(p);k&&k.slice(0,6)=="_xlfn."&&!i.xlfn&&(k=k.slice(6)),c.push(k);break;case"PtgNameX":var V=S[1][1];p=S[1][2];var Q;if(i.biff<=5)V<0&&(V=-V),s[V]&&(Q=s[V][p]);else{var H="";if(((s[V]||[])[0]||[])[0]==14849||(((s[V]||[])[0]||[])[0]==1025?s[V][p]&&s[V][p].itab>0&&(H=s.SheetNames[s[V][p].itab-1]+"!"):H=s.SheetNames[p-1]+"!"),s[V]&&s[V][p])H+=s[V][p].Name;else if(s[0]&&s[0][p])H+=s[0][p].Name;else{var M=(K$(s,V,i)||"").split(";;");M[p-1]?H=M[p-1]:H+="SH33TJSERRX"}c.push(H);break}Q||(Q={Name:"SH33TJSERRY"}),c.push(Q.Name);break;case"PtgParen":var K="(",q=")";if(y>=0){switch(b="",t[0][y][1][0]){case 2:K=On(" ",t[0][y][1][1])+K;break;case 3:K=On("\r",t[0][y][1][1])+K;break;case 4:q=On(" ",t[0][y][1][1])+q;break;case 5:q=On("\r",t[0][y][1][1])+q;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][y][1][0])}y=-1}c.push(K+c.pop()+q);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":u={c:S[1][1],r:S[1][0]};var re={c:a.c,r:a.r};if(s.sharedf[vs(u)]){var ee=s.sharedf[vs(u)];c.push(Rg(ee,l,re,s,i))}else{var le=!1;for(d=0;d!=s.arrayf.length;++d)if(f=s.arrayf[d],!(u.c<f[0].s.c||u.c>f[0].e.c)&&!(u.r<f[0].s.r||u.r>f[0].e.r)){c.push(Rg(f[1],l,re,s,i)),le=!0;break}le||c.push(S[1])}break;case"PtgArray":c.push("{"+l2e(S[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+S[1].idx+"[#"+S[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(S));default:throw new Error("Unrecognized Formula Token: "+String(S))}var Ae=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&y>=0&&Ae.indexOf(t[0][j][0])==-1){S=t[0][y];var ue=!0;switch(S[1][0]){case 4:ue=!1;case 0:b=On(" ",S[1][1]);break;case 5:ue=!1;case 1:b=On("\r",S[1][1]);break;default:if(b="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+S[1][0])}c.push((ue?b:"")+c.pop()+(ue?"":b)),y=-1}}if(c.length>1&&i.WTF)throw new Error("bad formula stack");return c[0]}function u2e(t){if(t==null){var r=Vt(8);return r.write_shift(1,3),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,65535),r}else if(typeof t=="number")return ep(t);return ep(0)}function f2e(t,r,a,s,i){var o=tp(r,a,i),l=u2e(t.v),c=Vt(6),d=33;c.write_shift(2,d),c.write_shift(4,0);for(var f=Vt(t.bf.length),u=0;u<t.bf.length;++u)f[u]=t.bf[u];var m=uo([o,l,c,f]);return m}function Q4(t,r,a){var s=t.read_shift(4),i=o2e(t,s,a),o=t.read_shift(4),l=o>0?i2e(t,o,i,a):null;return[i,l]}var A2e=Q4,H4=Q4,h2e=Q4,m2e=Q4,p2e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},G$={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},g2e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function x2e(t){var r="of:="+t.replace(R6,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return r.replace(/;/g,"|").replace(/,/g,";")}function y2e(t){return t.replace(/\./,"!")}var K1=typeof Map<"u";function $6(t,r,a){var s=0,i=t.length;if(a){if(K1?a.has(r):Object.prototype.hasOwnProperty.call(a,r)){for(var o=K1?a.get(r):a[r];s<o.length;++s)if(t[o[s]].t===r)return t.Count++,o[s]}}else for(;s<i;++s)if(t[s].t===r)return t.Count++,s;return t[i]={t:r},t.Count++,t.Unique++,a&&(K1?(a.has(r)||a.set(r,[]),a.get(r).push(i)):(Object.prototype.hasOwnProperty.call(a,r)||(a[r]=[]),a[r].push(i))),i}function $4(t,r){var a={min:t+1,max:t+1},s=-1;return r.MDW&&(DA=r.MDW),r.width!=null?a.customWidth=1:r.wpx!=null?s=xw(r.wpx):r.wch!=null&&(s=r.wch),s>-1?(a.width=x3(s),a.customWidth=1):r.width!=null&&(a.width=r.width),r.hidden&&(a.hidden=!0),r.level!=null&&(a.outlineLevel=a.level=r.level),a}function W$(t,r){if(t){var a=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=a[0]),t.right==null&&(t.right=a[1]),t.top==null&&(t.top=a[2]),t.bottom==null&&(t.bottom=a[3]),t.header==null&&(t.header=a[4]),t.footer==null&&(t.footer=a[5])}}function Fm(t,r,a){var s=a.revssf[r.z!=null?r.z:"General"],i=60,o=t.length;if(s==null&&a.ssf){for(;i<392;++i)if(a.ssf[i]==null){$H(r.z,i),a.ssf[i]=r.z,a.revssf[r.z]=s=i;break}}for(i=0;i!=o;++i)if(t[i].numFmtId===s)return i;return t[o]={numFmtId:s,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function v2e(t,r,a){if(t&&t["!ref"]){var s=nn(t["!ref"]);if(s.e.c<s.s.c||s.e.r<s.s.r)throw new Error("Bad range ("+a+"): "+t["!ref"])}}function b2e(t){if(t.length===0)return"";for(var r='<mergeCells count="'+t.length+'">',a=0;a!=t.length;++a)r+='<mergeCell ref="'+li(t[a])+'"/>';return r+"</mergeCells>"}function w2e(t,r,a,s,i){var o=!1,l={},c=null;if(s.bookType!=="xlsx"&&r.vbaraw){var d=r.SheetNames[a];try{r.Workbook&&(d=r.Workbook.Sheets[a].CodeName||d)}catch{}o=!0,l.codeName=Ey(xs(d))}if(t&&t["!outline"]){var f={summaryBelow:1,summaryRight:1};t["!outline"].above&&(f.summaryBelow=0),t["!outline"].left&&(f.summaryRight=0),c=(c||"")+yr("outlinePr",null,f)}!o&&!c||(i[i.length]=yr("sheetPr",c,l))}var j2e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],N2e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function S2e(t){var r={sheet:1};return j2e.forEach(function(a){t[a]!=null&&t[a]&&(r[a]="1")}),N2e.forEach(function(a){t[a]!=null&&!t[a]&&(r[a]="0")}),t.password&&(r.password=I$(t.password).toString(16).toUpperCase()),yr("sheetProtection",null,r)}function C2e(t){return W$(t),yr("pageMargins",null,t)}function B2e(t,r){for(var a=["<cols>"],s,i=0;i!=r.length;++i)(s=r[i])&&(a[a.length]=yr("col",null,$4(i,s)));return a[a.length]="</cols>",a.join("")}function E2e(t,r,a,s){var i=typeof t.ref=="string"?t.ref:li(t.ref);a.Workbook||(a.Workbook={Sheets:[]}),a.Workbook.Names||(a.Workbook.Names=[]);var o=a.Workbook.Names,l=Ec(i);l.s.r==l.e.r&&(l.e.r=Ec(r["!ref"]).e.r,i=li(l));for(var c=0;c<o.length;++c){var d=o[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==s){d.Ref="'"+a.SheetNames[s]+"'!"+i;break}}return c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+a.SheetNames[s]+"'!"+i}),yr("autoFilter",null,{ref:i})}function T2e(t,r,a,s){var i={workbookViewId:"0"};return(((s||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=s.Workbook.Views[0].RTL?"1":"0"),yr("sheetViews",yr("sheetView",null,i),{})}function F2e(t,r,a,s){if(t.c&&a["!comments"].push([r,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",o=t.t,l=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=uv[t.v];break;case"d":s&&s.cellDates?i=gl(t.v,-1).toISOString():(t=zl(t),t.t="n",i=""+(t.v=$l(gl(t.v)))),typeof t.z>"u"&&(t.z=Ln[14]);break;default:i=t.v;break}var c=fo("v",xs(i)),d={r},f=Fm(s.cellXfs,t,s);switch(f!==0&&(d.s=f),t.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(s&&s.bookSST){c=fo("v",""+$6(s.Strings,t.v,s.revStrings)),d.t="s";break}d.t="str";break}if(t.t!=o&&(t.t=o,t.v=l),typeof t.f=="string"&&t.f){var u=t.F&&t.F.slice(0,r.length)==r?{t:"array",ref:t.F}:null;c=yr("f",xs(t.f),u)+(t.v!=null?c:"")}return t.l&&a["!links"].push([r,t.l]),t.D&&(d.cm=1),yr("c",c,d)}function I2e(t,r,a,s){var i=[],o=[],l=nn(t["!ref"]),c="",d,f="",u=[],m=0,p=0,g=t["!rows"],v=Array.isArray(t),y={r:f},b,j=-1;for(p=l.s.c;p<=l.e.c;++p)u[p]=zo(p);for(m=l.s.r;m<=l.e.r;++m){for(o=[],f=ho(m),p=l.s.c;p<=l.e.c;++p){d=u[p]+f;var N=v?(t[m]||[])[p]:t[d];N!==void 0&&(c=F2e(N,d,t,r))!=null&&o.push(c)}(o.length>0||g&&g[m])&&(y={r:f},g&&g[m]&&(b=g[m],b.hidden&&(y.hidden=1),j=-1,b.hpx?j=yw(b.hpx):b.hpt&&(j=b.hpt),j>-1&&(y.ht=j,y.customHeight=1),b.level&&(y.outlineLevel=b.level)),i[i.length]=yr("row",o.join(""),y))}if(g)for(;m<g.length;++m)g&&g[m]&&(y={r:m+1},b=g[m],b.hidden&&(y.hidden=1),j=-1,b.hpx?j=yw(b.hpx):b.hpt&&(j=b.hpt),j>-1&&(y.ht=j,y.customHeight=1),b.level&&(y.outlineLevel=b.level),i[i.length]=yr("row","",y));return i.join("")}function q$(t,r,a,s){var i=[ci,yr("worksheet",null,{xmlns:ox[0],"xmlns:r":Vi.r})],o=a.SheetNames[t],l=0,c="",d=a.Sheets[o];d==null&&(d={});var f=d["!ref"]||"A1",u=nn(f);if(u.e.c>16383||u.e.r>1048575){if(r.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),f=li(u)}s||(s={}),d["!comments"]=[];var m=[];w2e(d,a,t,r,i),i[i.length]=yr("dimension",null,{ref:f}),i[i.length]=T2e(d,r,t,a),r.sheetFormat&&(i[i.length]=yr("sheetFormatPr",null,{defaultRowHeight:r.sheetFormat.defaultRowHeight||"16",baseColWidth:r.sheetFormat.baseColWidth||"10",outlineLevelRow:r.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(i[i.length]=B2e(d,d["!cols"])),i[l=i.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(c=I2e(d,r),c.length>0&&(i[i.length]=c)),i.length>l+1&&(i[i.length]="</sheetData>",i[l]=i[l].replace("/>",">")),d["!protect"]&&(i[i.length]=S2e(d["!protect"])),d["!autofilter"]!=null&&(i[i.length]=E2e(d["!autofilter"],d,a,t)),d["!merges"]!=null&&d["!merges"].length>0&&(i[i.length]=b2e(d["!merges"]));var p=-1,g,v=-1;return d["!links"].length>0&&(i[i.length]="<hyperlinks>",d["!links"].forEach(function(y){y[1].Target&&(g={ref:y[0]},y[1].Target.charAt(0)!="#"&&(v=ms(s,-1,xs(y[1].Target).replace(/#.*$/,""),Xa.HLINK),g["r:id"]="rId"+v),(p=y[1].Target.indexOf("#"))>-1&&(g.location=xs(y[1].Target.slice(p+1))),y[1].Tooltip&&(g.tooltip=xs(y[1].Tooltip)),i[i.length]=yr("hyperlink",null,g))}),i[i.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(i[i.length]=C2e(d["!margins"])),(!r||r.ignoreEC||r.ignoreEC==null)&&(i[i.length]=fo("ignoredErrors",yr("ignoredError",null,{numberStoredAsText:1,sqref:f}))),m.length>0&&(v=ms(s,-1,"../drawings/drawing"+(t+1)+".xml",Xa.DRAW),i[i.length]=yr("drawing",null,{"r:id":"rId"+v}),d["!drawing"]=m),d["!comments"].length>0&&(v=ms(s,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Xa.VML),i[i.length]=yr("legacyDrawing",null,{"r:id":"rId"+v}),d["!legacy"]=v),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function k2e(t,r){var a={},s=t.l+r;a.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var o=t.read_shift(1);return t.l=s,o&7&&(a.level=o&7),o&16&&(a.hidden=!0),o&32&&(a.hpt=i/20),a}function _2e(t,r,a){var s=Vt(145),i=(a["!rows"]||[])[t]||{};s.write_shift(4,t),s.write_shift(4,0);var o=320;i.hpx?o=yw(i.hpx)*20:i.hpt&&(o=i.hpt*20),s.write_shift(2,o),s.write_shift(1,0);var l=0;i.level&&(l|=i.level),i.hidden&&(l|=16),(i.hpx||i.hpt)&&(l|=32),s.write_shift(1,l),s.write_shift(1,0);var c=0,d=s.l;s.l+=4;for(var f={r:t,c:0},u=0;u<16;++u)if(!(r.s.c>u+1<<10||r.e.c<u<<10)){for(var m=-1,p=-1,g=u<<10;g<u+1<<10;++g){f.c=g;var v=Array.isArray(a)?(a[f.r]||[])[f.c]:a[vs(f)];v&&(m<0&&(m=g),p=g)}m<0||(++c,s.write_shift(4,m),s.write_shift(4,p))}var y=s.l;return s.l=d,s.write_shift(4,c),s.l=y,s.length>s.l?s.slice(0,s.l):s}function P2e(t,r,a,s){var i=_2e(s,a,r);(i.length>17||(r["!rows"]||[])[s])&&ir(t,0,i)}var O2e=gp,D2e=cx;function L2e(){}function M2e(t,r){var a={},s=t[t.l];return++t.l,a.above=!(s&64),a.left=!(s&128),t.l+=18,a.name=W1e(t),a}function U2e(t,r,a){a==null&&(a=Vt(84+4*t.length));var s=192;r&&(r.above&&(s&=-65),r.left&&(s&=-129)),a.write_shift(1,s);for(var i=1;i<3;++i)a.write_shift(1,0);return mw({auto:1},a),a.write_shift(-4,-1),a.write_shift(-4,-1),d$(t,a),a.slice(0,a.l)}function R2e(t){var r=vd(t);return[r]}function Q2e(t,r,a){return a==null&&(a=Vt(8)),hp(r,a)}function H2e(t){var r=mp(t);return[r]}function $2e(t,r,a){return a==null&&(a=Vt(4)),pp(r,a)}function z2e(t){var r=vd(t),a=t.read_shift(1);return[r,a,"b"]}function V2e(t,r,a){return a==null&&(a=Vt(9)),hp(r,a),a.write_shift(1,t.v?1:0),a}function K2e(t){var r=mp(t),a=t.read_shift(1);return[r,a,"b"]}function G2e(t,r,a){return a==null&&(a=Vt(5)),pp(r,a),a.write_shift(1,t.v?1:0),a}function W2e(t){var r=vd(t),a=t.read_shift(1);return[r,a,"e"]}function q2e(t,r,a){return a==null&&(a=Vt(9)),hp(r,a),a.write_shift(1,t.v),a}function Y2e(t){var r=mp(t),a=t.read_shift(1);return[r,a,"e"]}function X2e(t,r,a){return a==null&&(a=Vt(8)),pp(r,a),a.write_shift(1,t.v),a.write_shift(2,0),a.write_shift(1,0),a}function J2e(t){var r=vd(t),a=t.read_shift(4);return[r,a,"s"]}function Z2e(t,r,a){return a==null&&(a=Vt(12)),hp(r,a),a.write_shift(4,r.v),a}function ewe(t){var r=mp(t),a=t.read_shift(4);return[r,a,"s"]}function twe(t,r,a){return a==null&&(a=Vt(8)),pp(r,a),a.write_shift(4,r.v),a}function rwe(t){var r=vd(t),a=dx(t);return[r,a,"n"]}function awe(t,r,a){return a==null&&(a=Vt(16)),hp(r,a),ep(t.v,a),a}function swe(t){var r=mp(t),a=dx(t);return[r,a,"n"]}function nwe(t,r,a){return a==null&&(a=Vt(12)),pp(r,a),ep(t.v,a),a}function iwe(t){var r=vd(t),a=u$(t);return[r,a,"n"]}function owe(t,r,a){return a==null&&(a=Vt(12)),hp(r,a),f$(t.v,a),a}function lwe(t){var r=mp(t),a=u$(t);return[r,a,"n"]}function cwe(t,r,a){return a==null&&(a=Vt(8)),pp(r,a),f$(t.v,a),a}function dwe(t){var r=vd(t),a=O6(t);return[r,a,"is"]}function uwe(t){var r=vd(t),a=Vo(t);return[r,a,"str"]}function fwe(t,r,a){return a==null&&(a=Vt(12+4*t.v.length)),hp(r,a),Wi(t.v,a),a.length>a.l?a.slice(0,a.l):a}function Awe(t){var r=mp(t),a=Vo(t);return[r,a,"str"]}function hwe(t,r,a){return a==null&&(a=Vt(8+4*t.v.length)),pp(r,a),Wi(t.v,a),a.length>a.l?a.slice(0,a.l):a}function mwe(t,r,a){var s=t.l+r,i=vd(t);i.r=a["!row"];var o=t.read_shift(1),l=[i,o,"b"];if(a.cellFormula){t.l+=2;var c=H4(t,s-t.l,a);l[3]=Rg(c,null,i,a.supbooks,a)}else t.l=s;return l}function pwe(t,r,a){var s=t.l+r,i=vd(t);i.r=a["!row"];var o=t.read_shift(1),l=[i,o,"e"];if(a.cellFormula){t.l+=2;var c=H4(t,s-t.l,a);l[3]=Rg(c,null,i,a.supbooks,a)}else t.l=s;return l}function gwe(t,r,a){var s=t.l+r,i=vd(t);i.r=a["!row"];var o=dx(t),l=[i,o,"n"];if(a.cellFormula){t.l+=2;var c=H4(t,s-t.l,a);l[3]=Rg(c,null,i,a.supbooks,a)}else t.l=s;return l}function xwe(t,r,a){var s=t.l+r,i=vd(t);i.r=a["!row"];var o=Vo(t),l=[i,o,"str"];if(a.cellFormula){t.l+=2;var c=H4(t,s-t.l,a);l[3]=Rg(c,null,i,a.supbooks,a)}else t.l=s;return l}var ywe=gp,vwe=cx;function bwe(t,r){return r==null&&(r=Vt(4)),r.write_shift(4,t),r}function wwe(t,r){var a=t.l+r,s=gp(t),i=D6(t),o=Vo(t),l=Vo(t),c=Vo(t);t.l=a;var d={rfx:s,relId:i,loc:o,display:c};return l&&(d.Tooltip=l),d}function jwe(t,r){var a=Vt(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));cx({s:Gi(t[0]),e:Gi(t[0])},a),L6("rId"+r,a);var s=t[1].Target.indexOf("#"),i=s==-1?"":t[1].Target.slice(s+1);return Wi(i||"",a),Wi(t[1].Tooltip||"",a),Wi("",a),a.slice(0,a.l)}function Nwe(){}function Swe(t,r,a){var s=t.l+r,i=A$(t),o=t.read_shift(1),l=[i];if(l[2]=o,a.cellFormula){var c=A2e(t,s-t.l,a);l[1]=c}else t.l=s;return l}function Cwe(t,r,a){var s=t.l+r,i=gp(t),o=[i];if(a.cellFormula){var l=m2e(t,s-t.l,a);o[1]=l,t.l=s}else t.l=s;return o}function Bwe(t,r,a){a==null&&(a=Vt(18));var s=$4(t,r);a.write_shift(-4,t),a.write_shift(-4,t),a.write_shift(4,(s.width||10)*256),a.write_shift(4,0);var i=0;return r.hidden&&(i|=1),typeof s.width=="number"&&(i|=2),r.level&&(i|=r.level<<8),a.write_shift(2,i),a}var Y$=["left","right","top","bottom","header","footer"];function Ewe(t){var r={};return Y$.forEach(function(a){r[a]=dx(t)}),r}function Twe(t,r){return r==null&&(r=Vt(48)),W$(t),Y$.forEach(function(a){ep(t[a],r)}),r}function Fwe(t){var r=t.read_shift(2);return t.l+=28,{RTL:r&32}}function Iwe(t,r,a){a==null&&(a=Vt(30));var s=924;return(((r||{}).Views||[])[0]||{}).RTL&&(s|=32),a.write_shift(2,s),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(1,0),a.write_shift(1,0),a.write_shift(2,0),a.write_shift(2,100),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(4,0),a}function kwe(t){var r=Vt(24);return r.write_shift(4,4),r.write_shift(4,1),cx(t,r),r}function _we(t,r){return r==null&&(r=Vt(66)),r.write_shift(2,t.password?I$(t.password):0),r.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(a){a[1]?r.write_shift(4,t[a[0]]!=null&&!t[a[0]]?1:0):r.write_shift(4,t[a[0]]!=null&&t[a[0]]?0:1)}),r}function Pwe(){}function Owe(){}function Dwe(t,r,a,s,i,o,l){if(r.v===void 0)return!1;var c="";switch(r.t){case"b":c=r.v?"1":"0";break;case"d":r=zl(r),r.z=r.z||Ln[14],r.v=$l(gl(r.v)),r.t="n";break;case"n":case"e":c=""+r.v;break;default:c=r.v;break}var d={r:a,c:s};switch(d.s=Fm(i.cellXfs,r,i),r.l&&o["!links"].push([vs(d),r.l]),r.c&&o["!comments"].push([vs(d),r.c]),r.t){case"s":case"str":return i.bookSST?(c=$6(i.Strings,r.v,i.revStrings),d.t="s",d.v=c,l?ir(t,18,twe(r,d)):ir(t,7,Z2e(r,d))):(d.t="str",l?ir(t,17,hwe(r,d)):ir(t,6,fwe(r,d))),!0;case"n":return r.v==(r.v|0)&&r.v>-1e3&&r.v<1e3?l?ir(t,13,cwe(r,d)):ir(t,2,owe(r,d)):l?ir(t,16,nwe(r,d)):ir(t,5,awe(r,d)),!0;case"b":return d.t="b",l?ir(t,15,G2e(r,d)):ir(t,4,V2e(r,d)),!0;case"e":return d.t="e",l?ir(t,14,X2e(r,d)):ir(t,3,q2e(r,d)),!0}return l?ir(t,12,$2e(r,d)):ir(t,1,Q2e(r,d)),!0}function Lwe(t,r,a,s){var i=nn(r["!ref"]||"A1"),o,l="",c=[];ir(t,145);var d=Array.isArray(r),f=i.e.r;r["!rows"]&&(f=Math.max(i.e.r,r["!rows"].length-1));for(var u=i.s.r;u<=f;++u){l=ho(u),P2e(t,r,i,u);var m=!1;if(u<=i.e.r)for(var p=i.s.c;p<=i.e.c;++p){u===i.s.r&&(c[p]=zo(p)),o=c[p]+l;var g=d?(r[u]||[])[p]:r[o];if(!g){m=!1;continue}m=Dwe(t,g,u,p,s,r,m)}}ir(t,146)}function Mwe(t,r){!r||!r["!merges"]||(ir(t,177,bwe(r["!merges"].length)),r["!merges"].forEach(function(a){ir(t,176,vwe(a))}),ir(t,178))}function Uwe(t,r){!r||!r["!cols"]||(ir(t,390),r["!cols"].forEach(function(a,s){a&&ir(t,60,Bwe(s,a))}),ir(t,391))}function Rwe(t,r){!r||!r["!ref"]||(ir(t,648),ir(t,649,kwe(nn(r["!ref"]))),ir(t,650))}function Qwe(t,r,a){r["!links"].forEach(function(s){if(s[1].Target){var i=ms(a,-1,s[1].Target.replace(/#.*$/,""),Xa.HLINK);ir(t,494,jwe(s,i))}}),delete r["!links"]}function Hwe(t,r,a,s){if(r["!comments"].length>0){var i=ms(s,-1,"../drawings/vmlDrawing"+(a+1)+".vml",Xa.VML);ir(t,551,L6("rId"+i)),r["!legacy"]=i}}function $we(t,r,a,s){if(r["!autofilter"]){var i=r["!autofilter"],o=typeof i.ref=="string"?i.ref:li(i.ref);a.Workbook||(a.Workbook={Sheets:[]}),a.Workbook.Names||(a.Workbook.Names=[]);var l=a.Workbook.Names,c=Ec(o);c.s.r==c.e.r&&(c.e.r=Ec(r["!ref"]).e.r,o=li(c));for(var d=0;d<l.length;++d){var f=l[d];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==s){f.Ref="'"+a.SheetNames[s]+"'!"+o;break}}d==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+a.SheetNames[s]+"'!"+o}),ir(t,161,cx(nn(o))),ir(t,162)}}function zwe(t,r,a){ir(t,133),ir(t,137,Iwe(r,a)),ir(t,138),ir(t,134)}function Vwe(t,r){r["!protect"]&&ir(t,535,_we(r["!protect"]))}function Kwe(t,r,a,s){var i=Ql(),o=a.SheetNames[t],l=a.Sheets[o]||{},c=o;try{a&&a.Workbook&&(c=a.Workbook.Sheets[t].CodeName||c)}catch{}var d=nn(l["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(r.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],ir(i,129),(a.vbaraw||l["!outline"])&&ir(i,147,U2e(c,l["!outline"])),ir(i,148,D2e(d)),zwe(i,l,a.Workbook),Uwe(i,l),Lwe(i,l,t,r),Vwe(i,l),$we(i,l,a,t),Mwe(i,l),Qwe(i,l,s),l["!margins"]&&ir(i,476,Twe(l["!margins"])),(!r||r.ignoreEC||r.ignoreEC==null)&&Rwe(i,l),Hwe(i,l,t,s),ir(i,130),i.end()}function Gwe(t,r){t.l+=10;var a=Vo(t);return{name:a}}var Wwe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function qwe(t){return!t.Workbook||!t.Workbook.WBProps?"false":C1e(t.Workbook.WBProps.date1904)?"true":"false"}var Ywe="][*?/\\".split("");function X$(t,r){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var a=!0;return Ywe.forEach(function(s){if(t.indexOf(s)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),a}function Xwe(t,r,a){t.forEach(function(s,i){X$(s);for(var o=0;o<i;++o)if(s==t[o])throw new Error("Duplicate Sheet Name: "+s);if(a){var l=r&&r[i]&&r[i].CodeName||s;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function Jwe(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var r=t.Workbook&&t.Workbook.Sheets||[];Xwe(t.SheetNames,r,!!t.vbaraw);for(var a=0;a<t.SheetNames.length;++a)v2e(t.Sheets[t.SheetNames[a]],t.SheetNames[a],a)}function J$(t){var r=[ci];r[r.length]=yr("workbook",null,{xmlns:ox[0],"xmlns:r":Vi.r});var a=t.Workbook&&(t.Workbook.Names||[]).length>0,s={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(Wwe.forEach(function(c){t.Workbook.WBProps[c[0]]!=null&&t.Workbook.WBProps[c[0]]!=c[1]&&(s[c[0]]=t.Workbook.WBProps[c[0]])}),t.Workbook.WBProps.CodeName&&(s.codeName=t.Workbook.WBProps.CodeName,delete s.CodeName)),r[r.length]=yr("workbookPr",null,s);var i=t.Workbook&&t.Workbook.Sheets||[],o=0;if(i&&i[0]&&i[0].Hidden){for(r[r.length]="<bookViews>",o=0;o!=t.SheetNames.length&&!(!i[o]||!i[o].Hidden);++o);o==t.SheetNames.length&&(o=0),r[r.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',r[r.length]="</bookViews>"}for(r[r.length]="<sheets>",o=0;o!=t.SheetNames.length;++o){var l={name:xs(t.SheetNames[o].slice(0,31))};if(l.sheetId=""+(o+1),l["r:id"]="rId"+(o+1),i[o])switch(i[o].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}r[r.length]=yr("sheet",null,l)}return r[r.length]="</sheets>",a&&(r[r.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(c){var d={name:c.Name};c.Comment&&(d.comment=c.Comment),c.Sheet!=null&&(d.localSheetId=""+c.Sheet),c.Hidden&&(d.hidden="1"),c.Ref&&(r[r.length]=yr("definedName",xs(c.Ref),d))}),r[r.length]="</definedNames>"),r.length>2&&(r[r.length]="</workbook>",r[1]=r[1].replace("/>",">")),r.join("")}function Zwe(t,r){var a={};return a.Hidden=t.read_shift(4),a.iTabID=t.read_shift(4),a.strRelID=g3(t),a.name=Vo(t),a}function e4e(t,r){return r||(r=Vt(127)),r.write_shift(4,t.Hidden),r.write_shift(4,t.iTabID),L6(t.strRelID,r),Wi(t.name.slice(0,31),r),r.length>r.l?r.slice(0,r.l):r}function t4e(t,r){var a={},s=t.read_shift(4);a.defaultThemeVersion=t.read_shift(4);var i=r>8?Vo(t):"";return i.length>0&&(a.CodeName=i),a.autoCompressPictures=!!(s&65536),a.backupFile=!!(s&64),a.checkCompatibility=!!(s&4096),a.date1904=!!(s&1),a.filterPrivacy=!!(s&8),a.hidePivotFieldList=!!(s&1024),a.promptedSolutions=!!(s&16),a.publishItems=!!(s&2048),a.refreshAllConnections=!!(s&262144),a.saveExternalLinkValues=!!(s&128),a.showBorderUnselectedTables=!!(s&4),a.showInkAnnotation=!!(s&32),a.showObjects=["all","placeholders","none"][s>>13&3],a.showPivotChartFilter=!!(s&32768),a.updateLinks=["userSet","never","always"][s>>8&3],a}function r4e(t,r){r||(r=Vt(72));var a=0;return t&&t.filterPrivacy&&(a|=8),r.write_shift(4,a),r.write_shift(4,0),d$(t&&t.CodeName||"ThisWorkbook",r),r.slice(0,r.l)}function a4e(t,r,a){var s=t.l+r;t.l+=4,t.l+=1;var i=t.read_shift(4),o=q1e(t),l=h2e(t,0,a),c=D6(t);t.l=s;var d={Name:o,Ptg:l};return i<268435455&&(d.Sheet=i),c&&(d.Comment=c),d}function s4e(t,r){ir(t,143);for(var a=0;a!=r.SheetNames.length;++a){var s=r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[a]&&r.Workbook.Sheets[a].Hidden||0,i={Hidden:s,iTabID:a+1,strRelID:"rId"+(a+1),name:r.SheetNames[a]};ir(t,156,e4e(i))}ir(t,144)}function n4e(t,r){r||(r=Vt(127));for(var a=0;a!=4;++a)r.write_shift(4,0);return Wi("SheetJS",r),Wi(ow.version,r),Wi(ow.version,r),Wi("7262",r),r.length>r.l?r.slice(0,r.l):r}function i4e(t,r){r||(r=Vt(29)),r.write_shift(-4,0),r.write_shift(-4,460),r.write_shift(4,28800),r.write_shift(4,17600),r.write_shift(4,500),r.write_shift(4,t),r.write_shift(4,t);var a=120;return r.write_shift(1,a),r.length>r.l?r.slice(0,r.l):r}function o4e(t,r){if(!(!r.Workbook||!r.Workbook.Sheets)){for(var a=r.Workbook.Sheets,s=0,i=-1,o=-1;s<a.length;++s)!a[s]||!a[s].Hidden&&i==-1?i=s:a[s].Hidden==1&&o==-1&&(o=s);o>i||(ir(t,135),ir(t,158,i4e(i)),ir(t,136))}}function l4e(t,r){var a=Ql();return ir(a,131),ir(a,128,n4e()),ir(a,153,r4e(t.Workbook&&t.Workbook.WBProps||null)),o4e(a,t),s4e(a,t),ir(a,132),a.end()}function c4e(t,r,a){return(r.slice(-4)===".bin"?l4e:J$)(t)}function d4e(t,r,a,s,i){return(r.slice(-4)===".bin"?Kwe:q$)(t,a,s,i)}function u4e(t,r,a){return(r.slice(-4)===".bin"?Tve:P$)(t,a)}function f4e(t,r,a){return(r.slice(-4)===".bin"?rve:F$)(t,a)}function A4e(t,r,a){return(r.slice(-4)===".bin"?Vve:U$)(t)}function h4e(t){return(t.slice(-4)===".bin"?Lve:L$)()}function m4e(t,r){var a=[];return t.Props&&a.push(uye(t.Props,r)),t.Custprops&&a.push(fye(t.Props,t.Custprops)),a.join("")}function p4e(){return""}function g4e(t,r){var a=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return r.cellXfs.forEach(function(s,i){var o=[];o.push(yr("NumberFormat",null,{"ss:Format":xs(Ln[s.numFmtId])}));var l={"ss:ID":"s"+(21+i)};a.push(yr("Style",o.join(""),l))}),yr("Styles",a.join(""))}function Z$(t){return yr("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+Q6(t.Ref,{r:0,c:0})})}function x4e(t){if(!((t||{}).Workbook||{}).Names)return"";for(var r=t.Workbook.Names,a=[],s=0;s<r.length;++s){var i=r[s];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||a.push(Z$(i)))}return yr("Names",a.join(""))}function y4e(t,r,a,s){if(!t||!((s||{}).Workbook||{}).Names)return"";for(var i=s.Workbook.Names,o=[],l=0;l<i.length;++l){var c=i[l];c.Sheet==a&&(c.Name.match(/^_xlfn\./)||o.push(Z$(c)))}return o.join("")}function v4e(t,r,a,s){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(yr("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(yr("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(yr("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),s&&s.Workbook&&s.Workbook.Sheets&&s.Workbook.Sheets[a])if(s.Workbook.Sheets[a].Hidden)i.push(yr("Visible",s.Workbook.Sheets[a].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<a&&!(s.Workbook.Sheets[o]&&!s.Workbook.Sheets[o].Hidden);++o);o==a&&i.push("<Selected/>")}return((((s||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(fo("ProtectContents","True")),t["!protect"].objects&&i.push(fo("ProtectObjects","True")),t["!protect"].scenarios&&i.push(fo("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(fo("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(fo("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){t["!protect"][l[0]]&&i.push("<"+l[1]+"/>")})),i.length==0?"":yr("WorksheetOptions",i.join(""),{xmlns:bc.x})}function b4e(t){return t.map(function(r){var a=S1e(r.t||""),s=yr("ss:Data",a,{xmlns:"http://www.w3.org/TR/REC-html40"});return yr("Comment",s,{"ss:Author":r.a})}).join("")}function w4e(t,r,a,s,i,o,l){if(!t||t.v==null&&t.f==null)return"";var c={};if(t.f&&(c["ss:Formula"]="="+xs(Q6(t.f,l))),t.F&&t.F.slice(0,r.length)==r){var d=Gi(t.F.slice(r.length+1));c["ss:ArrayRange"]="RC:R"+(d.r==l.r?"":"["+(d.r-l.r)+"]")+"C"+(d.c==l.c?"":"["+(d.c-l.c)+"]")}if(t.l&&t.l.Target&&(c["ss:HRef"]=xs(t.l.Target),t.l.Tooltip&&(c["x:HRefScreenTip"]=xs(t.l.Tooltip))),a["!merges"])for(var f=a["!merges"],u=0;u!=f.length;++u)f[u].s.c!=l.c||f[u].s.r!=l.r||(f[u].e.c>f[u].s.c&&(c["ss:MergeAcross"]=f[u].e.c-f[u].s.c),f[u].e.r>f[u].s.r&&(c["ss:MergeDown"]=f[u].e.r-f[u].s.r));var m="",p="";switch(t.t){case"z":if(!s.sheetStubs)return"";break;case"n":m="Number",p=String(t.v);break;case"b":m="Boolean",p=t.v?"1":"0";break;case"e":m="Error",p=uv[t.v];break;case"d":m="DateTime",p=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Ln[14]);break;case"s":m="String",p=N1e(t.v||"");break}var g=Fm(s.cellXfs,t,s);c["ss:StyleID"]="s"+(21+g),c["ss:Index"]=l.c+1;var v=t.v!=null?p:"",y=t.t=="z"?"":'<Data ss:Type="'+m+'">'+v+"</Data>";return(t.c||[]).length>0&&(y+=b4e(t.c)),yr("Cell",y,c)}function j4e(t,r){var a='<Row ss:Index="'+(t+1)+'"';return r&&(r.hpt&&!r.hpx&&(r.hpx=_$(r.hpt)),r.hpx&&(a+=' ss:AutoFitHeight="0" ss:Height="'+r.hpx+'"'),r.hidden&&(a+=' ss:Hidden="1"')),a+">"}function N4e(t,r,a,s){if(!t["!ref"])return"";var i=nn(t["!ref"]),o=t["!merges"]||[],l=0,c=[];t["!cols"]&&t["!cols"].forEach(function(b,j){U6(b);var N=!!b.width,S=$4(j,b),B={"ss:Index":j+1};N&&(B["ss:Width"]=gw(S.width)),b.hidden&&(B["ss:Hidden"]="1"),c.push(yr("Column",null,B))});for(var d=Array.isArray(t),f=i.s.r;f<=i.e.r;++f){for(var u=[j4e(f,(t["!rows"]||[])[f])],m=i.s.c;m<=i.e.c;++m){var p=!1;for(l=0;l!=o.length;++l)if(!(o[l].s.c>m)&&!(o[l].s.r>f)&&!(o[l].e.c<m)&&!(o[l].e.r<f)){(o[l].s.c!=m||o[l].s.r!=f)&&(p=!0);break}if(!p){var g={r:f,c:m},v=vs(g),y=d?(t[f]||[])[m]:t[v];u.push(w4e(y,v,t,r,a,s,g))}}u.push("</Row>"),u.length>2&&c.push(u.join(""))}return c.join("")}function S4e(t,r,a){var s=[],i=a.SheetNames[t],o=a.Sheets[i],l=o?y4e(o,r,t,a):"";return l.length>0&&s.push("<Names>"+l+"</Names>"),l=o?N4e(o,r,t,a):"",l.length>0&&s.push("<Table>"+l+"</Table>"),s.push(v4e(o,r,t,a)),s.join("")}function C4e(t,r){r||(r={}),t.SSF||(t.SSF=zl(Ln)),t.SSF&&(M4(),L4(t.SSF),r.revssf=U4(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF,r.cellXfs=[],Fm(r.cellXfs,{},{revssf:{General:0}}));var a=[];a.push(m4e(t,r)),a.push(p4e()),a.push(""),a.push("");for(var s=0;s<t.SheetNames.length;++s)a.push(yr("Worksheet",S4e(s,r,t),{"ss:Name":xs(t.SheetNames[s])}));return a[2]=g4e(t,r),a[3]=x4e(t),ci+yr("Workbook",a.join(""),{xmlns:bc.ss,"xmlns:o":bc.o,"xmlns:x":bc.x,"xmlns:ss":bc.ss,"xmlns:dt":bc.dt,"xmlns:html":bc.html})}var c5={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function B4e(t,r){var a=[],s=[],i=[],o=0,l,c=CO(UO,"n"),d=CO(RO,"n");if(t.Props)for(l=go(t.Props),o=0;o<l.length;++o)(Object.prototype.hasOwnProperty.call(c,l[o])?a:Object.prototype.hasOwnProperty.call(d,l[o])?s:i).push([l[o],t.Props[l[o]]]);if(t.Custprops)for(l=go(t.Custprops),o=0;o<l.length;++o)Object.prototype.hasOwnProperty.call(t.Props||{},l[o])||(Object.prototype.hasOwnProperty.call(c,l[o])?a:Object.prototype.hasOwnProperty.call(d,l[o])?s:i).push([l[o],t.Custprops[l[o]]]);var f=[];for(o=0;o<i.length;++o)j$.indexOf(i[o][0])>-1||v$.indexOf(i[o][0])>-1||i[o][1]!=null&&f.push(i[o]);s.length&&Es.utils.cfb_add(r,"/SummaryInformation",VO(s,c5.SI,d,RO)),(a.length||f.length)&&Es.utils.cfb_add(r,"/DocumentSummaryInformation",VO(a,c5.DSI,c,UO,f.length?f:null,c5.UDI))}function E4e(t,r){var a=r||{},s=Es.utils.cfb_new({root:"R"}),i="/Workbook";switch(a.bookType||"xls"){case"xls":a.bookType="biff8";case"xla":a.bookType||(a.bookType="xla");case"biff8":i="/Workbook",a.biff=8;break;case"biff5":i="/Book",a.biff=5;break;default:throw new Error("invalid type "+a.bookType+" for XLS CFB")}return Es.utils.cfb_add(s,i,ez(t,a)),a.biff==8&&(t.Props||t.Custprops)&&B4e(t,s),a.biff==8&&t.vbaraw&&Kve(s,Es.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),s}var T4e={0:{f:k2e},1:{f:R2e},2:{f:iwe},3:{f:W2e},4:{f:z2e},5:{f:rwe},6:{f:uwe},7:{f:J2e},8:{f:xwe},9:{f:gwe},10:{f:mwe},11:{f:pwe},12:{f:H2e},13:{f:lwe},14:{f:Y2e},15:{f:K2e},16:{f:swe},17:{f:Awe},18:{f:ewe},19:{f:O6},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:a4e},40:{},42:{},43:{f:uve},44:{f:cve},45:{f:hve},46:{f:pve},47:{f:mve},48:{},49:{f:H1e},50:{},51:{f:kve},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:$ye},62:{f:dwe},63:{f:Mve},64:{f:Pwe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ef,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Fwe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:M2e},148:{f:O2e,p:16},151:{f:Nwe},152:{},153:{f:t4e},154:{},155:{},156:{f:Zwe},157:{},158:{},159:{T:1,f:Zye},160:{T:-1},161:{T:1,f:gp},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:ywe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Fve},336:{T:-1},337:{f:Ove,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:g3},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Lye},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Swe},427:{f:Cwe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Ewe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:L2e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:wwe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:g3},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:$ve},633:{T:1},634:{T:-1},635:{T:1,f:Qve},636:{T:-1},637:{f:K1e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Gwe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Owe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function wr(t,r,a,s){var i=r;if(!isNaN(i)){var o=s||(a||[]).length||0,l=t.next(4);l.write_shift(2,i),l.write_shift(2,o),o>0&&k6(a)&&t.push(a)}}function F4e(t,r,a,s){var i=(a||[]).length||0;if(i<=8224)return wr(t,r,a,i);var o=r;if(!isNaN(o)){for(var l=a.parts||[],c=0,d=0,f=0;f+(l[c]||8224)<=8224;)f+=l[c]||8224,c++;var u=t.next(4);for(u.write_shift(2,o),u.write_shift(2,f),t.push(a.slice(d,d+f)),d+=f;d<i;){for(u=t.next(4),u.write_shift(2,60),f=0;f+(l[c]||8224)<=8224;)f+=l[c]||8224,c++;u.write_shift(2,f),t.push(a.slice(d,d+f)),d+=f}}}function Av(t,r,a){return t||(t=Vt(7)),t.write_shift(2,r),t.write_shift(2,a),t.write_shift(2,0),t.write_shift(1,0),t}function I4e(t,r,a,s){var i=Vt(9);return Av(i,t,r),S$(a,s||"b",i),i}function k4e(t,r,a){var s=Vt(8+2*a.length);return Av(s,t,r),s.write_shift(1,a.length),s.write_shift(a.length,a,"sbcs"),s.l<s.length?s.slice(0,s.l):s}function _4e(t,r,a,s){if(r.v!=null)switch(r.t){case"d":case"n":var i=r.t=="d"?$l(gl(r.v)):r.v;i==(i|0)&&i>=0&&i<65536?wr(t,2,Gye(a,s,i)):wr(t,3,Kye(a,s,i));return;case"b":case"e":wr(t,5,I4e(a,s,r.v,r.t));return;case"s":case"str":wr(t,4,k4e(a,s,(r.v||"").slice(0,255)));return}wr(t,1,Av(null,a,s))}function P4e(t,r,a,s){var i=Array.isArray(r),o=nn(r["!ref"]||"A1"),l,c="",d=[];if(o.e.c>255||o.e.r>16383){if(s.WTF)throw new Error("Range "+(r["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),l=li(o)}for(var f=o.s.r;f<=o.e.r;++f){c=ho(f);for(var u=o.s.c;u<=o.e.c;++u){f===o.s.r&&(d[u]=zo(u)),l=d[u]+c;var m=i?(r[f]||[])[u]:r[l];m&&_4e(t,m,f,u)}}}function O4e(t,r){for(var a=r||{},s=Ql(),i=0,o=0;o<t.SheetNames.length;++o)t.SheetNames[o]==a.sheet&&(i=o);if(i==0&&a.sheet&&t.SheetNames[0]!=a.sheet)throw new Error("Sheet not found: "+a.sheet);return wr(s,a.biff==4?1033:a.biff==3?521:9,M6(t,16,a)),P4e(s,t.Sheets[t.SheetNames[i]],i,a),wr(s,10),s.end()}function D4e(t,r,a){wr(t,49,Tye({sz:12,name:"Arial"},a))}function L4e(t,r,a){r&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var i=s[0];i<=s[1];++i)r[i]!=null&&wr(t,1054,kye(i,r[i],a))})}function M4e(t,r){var a=Vt(19);a.write_shift(4,2151),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,3),a.write_shift(1,1),a.write_shift(4,0),wr(t,2151,a),a=Vt(39),a.write_shift(4,2152),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,3),a.write_shift(1,0),a.write_shift(4,0),a.write_shift(2,1),a.write_shift(4,4),a.write_shift(2,0),E$(nn(r["!ref"]||"A1"),a),a.write_shift(4,4),wr(t,2152,a)}function U4e(t,r){for(var a=0;a<16;++a)wr(t,224,GO({numFmtId:0,style:!0},0,r));r.cellXfs.forEach(function(s){wr(t,224,GO(s,0,r))})}function R4e(t,r){for(var a=0;a<r["!links"].length;++a){var s=r["!links"][a];wr(t,440,Rye(s)),s[1].Tooltip&&wr(t,2048,Qye(s))}delete r["!links"]}function Q4e(t,r){if(r){var a=0;r.forEach(function(s,i){++a<=256&&s&&wr(t,125,zye($4(i,s),i))})}}function H4e(t,r,a,s,i){var o=16+Fm(i.cellXfs,r,i);if(r.v==null&&!r.bf){wr(t,513,tp(a,s,o));return}if(r.bf)wr(t,6,f2e(r,a,s,i,o));else switch(r.t){case"d":case"n":var l=r.t=="d"?$l(gl(r.v)):r.v;wr(t,515,Dye(a,s,l,o));break;case"b":case"e":wr(t,517,Oye(a,s,r.v,o,i,r.t));break;case"s":case"str":if(i.bookSST){var c=$6(i.Strings,r.v,i.revStrings);wr(t,253,Fye(a,s,c,o))}else wr(t,516,Iye(a,s,(r.v||"").slice(0,255),o,i));break;default:wr(t,513,tp(a,s,o))}}function $4e(t,r,a){var s=Ql(),i=a.SheetNames[t],o=a.Sheets[i]||{},l=(a||{}).Workbook||{},c=(l.Sheets||[])[t]||{},d=Array.isArray(o),f=r.biff==8,u,m="",p=[],g=nn(o["!ref"]||"A1"),v=f?65536:16384;if(g.e.c>255||g.e.r>=v){if(r.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");g.e.c=Math.min(g.e.c,255),g.e.r=Math.min(g.e.c,v-1)}wr(s,2057,M6(a,16,r)),wr(s,13,ud(1)),wr(s,12,ud(100)),wr(s,15,cl(!0)),wr(s,17,cl(!1)),wr(s,16,ep(.001)),wr(s,95,cl(!0)),wr(s,42,cl(!1)),wr(s,43,cl(!1)),wr(s,130,ud(1)),wr(s,128,Pye()),wr(s,131,cl(!1)),wr(s,132,cl(!1)),f&&Q4e(s,o["!cols"]),wr(s,512,_ye(g,r)),f&&(o["!links"]=[]);for(var y=g.s.r;y<=g.e.r;++y){m=ho(y);for(var b=g.s.c;b<=g.e.c;++b){y===g.s.r&&(p[b]=zo(b)),u=p[b]+m;var j=d?(o[y]||[])[b]:o[u];j&&(H4e(s,j,y,b,r),f&&j.l&&o["!links"].push([u,j.l]))}}var N=c.CodeName||c.name||i;return f&&wr(s,574,Eye((l.Views||[])[0])),f&&(o["!merges"]||[]).length&&wr(s,229,Uye(o["!merges"])),f&&R4e(s,o),wr(s,442,B$(N)),f&&M4e(s,o),wr(s,10),s.end()}function z4e(t,r,a){var s=Ql(),i=(t||{}).Workbook||{},o=i.Sheets||[],l=i.WBProps||{},c=a.biff==8,d=a.biff==5;if(wr(s,2057,M6(t,5,a)),a.bookType=="xla"&&wr(s,135),wr(s,225,c?ud(1200):null),wr(s,193,mye(2)),d&&wr(s,191),d&&wr(s,192),wr(s,226),wr(s,92,Nye("SheetJS",a)),wr(s,66,ud(c?1200:1252)),c&&wr(s,353,ud(0)),c&&wr(s,448),wr(s,317,Vye(t.SheetNames.length)),c&&t.vbaraw&&wr(s,211),c&&t.vbaraw){var f=l.CodeName||"ThisWorkbook";wr(s,442,B$(f))}wr(s,156,ud(17)),wr(s,25,cl(!1)),wr(s,18,cl(!1)),wr(s,19,ud(0)),c&&wr(s,431,cl(!1)),c&&wr(s,444,ud(0)),wr(s,61,Bye()),wr(s,64,cl(!1)),wr(s,141,ud(0)),wr(s,34,cl(qwe(t)=="true")),wr(s,14,cl(!0)),c&&wr(s,439,cl(!1)),wr(s,218,ud(0)),D4e(s,t,a),L4e(s,t.SSF,a),U4e(s,a),c&&wr(s,352,cl(!1));var u=s.end(),m=Ql();c&&wr(m,140,Hye()),c&&a.Strings&&F4e(m,252,Cye(a.Strings)),wr(m,10);var p=m.end(),g=Ql(),v=0,y=0;for(y=0;y<t.SheetNames.length;++y)v+=(c?12:11)+(c?2:1)*t.SheetNames[y].length;var b=u.length+v+p.length;for(y=0;y<t.SheetNames.length;++y){var j=o[y]||{};wr(g,133,Sye({pos:b,hs:j.Hidden||0,dt:0,name:t.SheetNames[y]},a)),b+=r[y].length}var N=g.end();if(v!=N.length)throw new Error("BS8 "+v+" != "+N.length);var S=[];return u.length&&S.push(u),N.length&&S.push(N),p.length&&S.push(p),uo(S)}function V4e(t,r){var a=r||{},s=[];t&&!t.SSF&&(t.SSF=zl(Ln)),t&&t.SSF&&(M4(),L4(t.SSF),a.revssf=U4(t.SSF),a.revssf[t.SSF[65535]]=0,a.ssf=t.SSF),a.Strings=[],a.Strings.Count=0,a.Strings.Unique=0,z6(a),a.cellXfs=[],Fm(a.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)s[s.length]=$4e(i,a,t);return s.unshift(z4e(t,s,a)),uo(s)}function ez(t,r){for(var a=0;a<=t.SheetNames.length;++a){var s=t.Sheets[t.SheetNames[a]];if(!(!s||!s["!ref"])){var i=Ec(s["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[a]+"' extends beyond column IV (255).  Data may be lost.")}}var o=r||{};switch(o.biff||2){case 8:case 5:return V4e(t,r);case 4:case 3:case 2:return O4e(t,r)}throw new Error("invalid type "+o.bookType+" for BIFF")}function K4e(t,r,a,s){for(var i=t["!merges"]||[],o=[],l=r.s.c;l<=r.e.c;++l){for(var c=0,d=0,f=0;f<i.length;++f)if(!(i[f].s.r>a||i[f].s.c>l)&&!(i[f].e.r<a||i[f].e.c<l)){if(i[f].s.r<a||i[f].s.c<l){c=-1;break}c=i[f].e.r-i[f].s.r+1,d=i[f].e.c-i[f].s.c+1;break}if(!(c<0)){var u=vs({r:a,c:l}),m=s.dense?(t[a]||[])[l]:t[u],p=m&&m.v!=null&&(m.h||j1e(m.w||(VA(m),m.w)||""))||"",g={};c>1&&(g.rowspan=c),d>1&&(g.colspan=d),s.editable?p='<span contenteditable="true">'+p+"</span>":m&&(g["data-t"]=m&&m.t||"z",m.v!=null&&(g["data-v"]=m.v),m.z!=null&&(g["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+m.l.Target+'">'+p+"</a>")),g.id=(s.id||"sjs")+"-"+u,o.push(yr("td",p,g))}}var v="<tr>";return v+o.join("")+"</tr>"}var G4e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',W4e="</body></html>";function q4e(t,r,a){var s=[];return s.join("")+"<table"+(a&&a.id?' id="'+a.id+'"':"")+">"}function tz(t,r){var a=r||{},s=a.header!=null?a.header:G4e,i=a.footer!=null?a.footer:W4e,o=[s],l=Ec(t["!ref"]);a.dense=Array.isArray(t),o.push(q4e(t,l,a));for(var c=l.s.r;c<=l.e.r;++c)o.push(K4e(t,l,c,a));return o.push("</table>"+i),o.join("")}function rz(t,r,a){var s=a||{},i=0,o=0;if(s.origin!=null)if(typeof s.origin=="number")i=s.origin;else{var l=typeof s.origin=="string"?Gi(s.origin):s.origin;i=l.r,o=l.c}var c=r.getElementsByTagName("tr"),d=Math.min(s.sheetRows||1e7,c.length),f={s:{r:0,c:0},e:{r:i,c:o}};if(t["!ref"]){var u=Ec(t["!ref"]);f.s.r=Math.min(f.s.r,u.s.r),f.s.c=Math.min(f.s.c,u.s.c),f.e.r=Math.max(f.e.r,u.e.r),f.e.c=Math.max(f.e.c,u.e.c),i==-1&&(f.e.r=i=u.e.r+1)}var m=[],p=0,g=t["!rows"]||(t["!rows"]=[]),v=0,y=0,b=0,j=0,N=0,S=0;for(t["!cols"]||(t["!cols"]=[]);v<c.length&&y<d;++v){var B=c[v];if(eD(B)){if(s.display)continue;g[y]={hidden:!0}}var I=B.children;for(b=j=0;b<I.length;++b){var F=I[b];if(!(s.display&&eD(F))){var O=F.hasAttribute("data-v")?F.getAttribute("data-v"):F.hasAttribute("v")?F.getAttribute("v"):B1e(F.innerHTML),k=F.getAttribute("data-z")||F.getAttribute("z");for(p=0;p<m.length;++p){var V=m[p];V.s.c==j+o&&V.s.r<y+i&&y+i<=V.e.r&&(j=V.e.c+1-o,p=-1)}S=+F.getAttribute("colspan")||1,((N=+F.getAttribute("rowspan")||1)>1||S>1)&&m.push({s:{r:y+i,c:j+o},e:{r:y+i+(N||1)-1,c:j+o+(S||1)-1}});var Q={t:"s",v:O},H=F.getAttribute("data-t")||F.getAttribute("t")||"";O!=null&&(O.length==0?Q.t=H||"z":s.raw||O.trim().length==0||H=="s"||(O==="TRUE"?Q={t:"b",v:!0}:O==="FALSE"?Q={t:"b",v:!1}:isNaN(OA(O))?isNaN(By(O).getDate())||(Q={t:"d",v:gl(O)},s.cellDates||(Q={t:"n",v:$l(Q.v)}),Q.z=s.dateNF||Ln[14]):Q={t:"n",v:OA(O)})),Q.z===void 0&&k!=null&&(Q.z=k);var M="",K=F.getElementsByTagName("A");if(K&&K.length)for(var q=0;q<K.length&&!(K[q].hasAttribute("href")&&(M=K[q].getAttribute("href"),M.charAt(0)!="#"));++q);M&&M.charAt(0)!="#"&&(Q.l={Target:M}),s.dense?(t[y+i]||(t[y+i]=[]),t[y+i][j+o]=Q):t[vs({c:j+o,r:y+i})]=Q,f.e.c<j+o&&(f.e.c=j+o),j+=S}}++y}return m.length&&(t["!merges"]=(t["!merges"]||[]).concat(m)),f.e.r=Math.max(f.e.r,y-1+i),t["!ref"]=li(f),y>=d&&(t["!fullref"]=li((f.e.r=c.length-v+y-1+i,f))),t}function az(t,r){var a=r||{},s=a.dense?[]:{};return rz(s,t,r)}function Y4e(t,r){return Ap(az(t,r),r)}function eD(t){var r="",a=X4e(t);return a&&(r=a(t).getPropertyValue("display")),r||(r=t.style&&t.style.display),r==="none"}function X4e(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var J4e=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),r="<office:document-styles "+Ty({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return ci+r}}(),tD=function(){var t=function(o){return xs(o).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},r=`          <table:table-cell />
`,a=`          <table:covered-table-cell/>
`,s=function(o,l,c){var d=[];d.push('      <table:table table:name="'+xs(l.SheetNames[c])+`" table:style-name="ta1">
`);var f=0,u=0,m=Ec(o["!ref"]||"A1"),p=o["!merges"]||[],g=0,v=Array.isArray(o);if(o["!cols"])for(u=0;u<=m.e.c;++u)d.push("        <table:table-column"+(o["!cols"][u]?' table:style-name="co'+o["!cols"][u].ods+'"':"")+`></table:table-column>
`);var y="",b=o["!rows"]||[];for(f=0;f<m.s.r;++f)y=b[f]?' table:style-name="ro'+b[f].ods+'"':"",d.push("        <table:table-row"+y+`></table:table-row>
`);for(;f<=m.e.r;++f){for(y=b[f]?' table:style-name="ro'+b[f].ods+'"':"",d.push("        <table:table-row"+y+`>
`),u=0;u<m.s.c;++u)d.push(r);for(;u<=m.e.c;++u){var j=!1,N={},S="";for(g=0;g!=p.length;++g)if(!(p[g].s.c>u)&&!(p[g].s.r>f)&&!(p[g].e.c<u)&&!(p[g].e.r<f)){(p[g].s.c!=u||p[g].s.r!=f)&&(j=!0),N["table:number-columns-spanned"]=p[g].e.c-p[g].s.c+1,N["table:number-rows-spanned"]=p[g].e.r-p[g].s.r+1;break}if(j){d.push(a);continue}var B=vs({r:f,c:u}),I=v?(o[f]||[])[u]:o[B];if(I&&I.f&&(N["table:formula"]=xs(x2e(I.f)),I.F&&I.F.slice(0,B.length)==B)){var F=Ec(I.F);N["table:number-matrix-columns-spanned"]=F.e.c-F.s.c+1,N["table:number-matrix-rows-spanned"]=F.e.r-F.s.r+1}if(!I){d.push(r);continue}switch(I.t){case"b":S=I.v?"TRUE":"FALSE",N["office:value-type"]="boolean",N["office:boolean-value"]=I.v?"true":"false";break;case"n":S=I.w||String(I.v||0),N["office:value-type"]="float",N["office:value"]=I.v||0;break;case"s":case"str":S=I.v==null?"":I.v,N["office:value-type"]="string";break;case"d":S=I.w||gl(I.v).toISOString(),N["office:value-type"]="date",N["office:date-value"]=gl(I.v).toISOString(),N["table:style-name"]="ce1";break;default:d.push(r);continue}var O=t(S);if(I.l&&I.l.Target){var k=I.l.Target;k=k.charAt(0)=="#"?"#"+y2e(k.slice(1)):k,k.charAt(0)!="#"&&!k.match(/^\w+:/)&&(k="../"+k),O=yr("text:a",O,{"xlink:href":k.replace(/&/g,"&amp;")})}d.push("          "+yr("table:table-cell",yr("text:p",O,{}),N)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},i=function(o,l){o.push(` <office:automatic-styles>
`),o.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),o.push(`   <number:month number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:day number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:year/>
`),o.push(`  </number:date-style>
`);var c=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var u=0;u<f["!cols"].length;++u)if(f["!cols"][u]){var m=f["!cols"][u];if(m.width==null&&m.wpx==null&&m.wch==null)continue;U6(m),m.ods=c;var p=f["!cols"][u].wpx+"px";o.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),o.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),o.push(`  </style:style>
`),++c}}});var d=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var u=0;u<f["!rows"].length;++u)if(f["!rows"][u]){f["!rows"][u].ods=d;var m=f["!rows"][u].hpx+"px";o.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),o.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+`"/>
`),o.push(`  </style:style>
`),++d}}}),o.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),o.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),o.push(`  </style:style>
`),o.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),o.push(` </office:automatic-styles>
`)};return function(l,c){var d=[ci],f=Ty({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=Ty({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(d.push("<office:document"+f+u+`>
`),d.push(x$().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+f+`>
`),i(d,l),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var m=0;m!=l.SheetNames.length;++m)d.push(s(l.Sheets[l.SheetNames[m]],l,m));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),c.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}}();function sz(t,r){if(r.bookType=="fods")return tD(t,r);var a=E6(),s="",i=[],o=[];return s="mimetype",Na(a,s,"application/vnd.oasis.opendocument.spreadsheet"),s="content.xml",Na(a,s,tD(t,r)),i.push([s,"text/xml"]),o.push([s,"ContentFile"]),s="styles.xml",Na(a,s,J4e(t,r)),i.push([s,"text/xml"]),o.push([s,"StylesFile"]),s="meta.xml",Na(a,s,ci+x$()),i.push([s,"text/xml"]),o.push([s,"MetadataFile"]),s="manifest.rdf",Na(a,s,dye(o)),i.push([s,"application/rdf+xml"]),s="META-INF/manifest.xml",Na(a,s,lye(i)),a}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function vw(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Z4e(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):gu(Ey(t))}function eje(t,r){e:for(var a=0;a<=t.length-r.length;++a){for(var s=0;s<r.length;++s)if(t[a+s]!=r[s])continue e;return!0}return!1}function vm(t){var r=t.reduce(function(i,o){return i+o.length},0),a=new Uint8Array(r),s=0;return t.forEach(function(i){a.set(i,s),s+=i.length}),a}function tje(t,r,a){var s=Math.floor(a==0?0:Math.LOG10E*Math.log(Math.abs(a)))+6176-20,i=a/Math.pow(10,s-6176);t[r+15]|=s>>7,t[r+14]|=(s&127)<<1;for(var o=0;i>=1;++o,i/=256)t[r+o]=i&255;t[r+15]|=a>=0?0:128}function Fy(t,r){var a=r?r[0]:0,s=t[a]&127;e:if(t[a++]>=128&&(s|=(t[a]&127)<<7,t[a++]<128||(s|=(t[a]&127)<<14,t[a++]<128)||(s|=(t[a]&127)<<21,t[a++]<128)||(s+=(t[a]&127)*Math.pow(2,28),++a,t[a++]<128)||(s+=(t[a]&127)*Math.pow(2,35),++a,t[a++]<128)||(s+=(t[a]&127)*Math.pow(2,42),++a,t[a++]<128)))break e;return r&&(r[0]=a),s}function As(t){var r=new Uint8Array(7);r[0]=t&127;var a=1;e:if(t>127){if(r[a-1]|=128,r[a]=t>>7&127,++a,t<=16383||(r[a-1]|=128,r[a]=t>>14&127,++a,t<=2097151)||(r[a-1]|=128,r[a]=t>>21&127,++a,t<=268435455)||(r[a-1]|=128,r[a]=t/256>>>21&127,++a,t<=34359738367)||(r[a-1]|=128,r[a]=t/65536>>>21&127,++a,t<=4398046511103))break e;r[a-1]|=128,r[a]=t/16777216>>>21&127,++a}return r.slice(0,a)}function Eg(t){var r=0,a=t[r]&127;e:if(t[r++]>=128){if(a|=(t[r]&127)<<7,t[r++]<128||(a|=(t[r]&127)<<14,t[r++]<128)||(a|=(t[r]&127)<<21,t[r++]<128))break e;a|=(t[r]&127)<<28}return a}function bi(t){for(var r=[],a=[0];a[0]<t.length;){var s=a[0],i=Fy(t,a),o=i&7;i=Math.floor(i/8);var l=0,c;if(i==0)break;switch(o){case 0:{for(var d=a[0];t[a[0]++]>=128;);c=t.slice(d,a[0])}break;case 5:l=4,c=t.slice(a[0],a[0]+l),a[0]+=l;break;case 1:l=8,c=t.slice(a[0],a[0]+l),a[0]+=l;break;case 2:l=Fy(t,a),c=t.slice(a[0],a[0]+l),a[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(o," for Field ").concat(i," at offset ").concat(s))}var f={data:c,type:o};r[i]==null?r[i]=[f]:r[i].push(f)}return r}function no(t){var r=[];return t.forEach(function(a,s){a.forEach(function(i){i.data&&(r.push(As(s*8+i.type)),i.type==2&&r.push(As(i.data.length)),r.push(i.data))})}),vm(r)}function uu(t){for(var r,a=[],s=[0];s[0]<t.length;){var i=Fy(t,s),o=bi(t.slice(s[0],s[0]+i));s[0]+=i;var l={id:Eg(o[1][0].data),messages:[]};o[2].forEach(function(c){var d=bi(c.data),f=Eg(d[3][0].data);l.messages.push({meta:d,data:t.slice(s[0],s[0]+f)}),s[0]+=f}),(r=o[3])!=null&&r[0]&&(l.merge=Eg(o[3][0].data)>>>0>0),a.push(l)}return a}function sg(t){var r=[];return t.forEach(function(a){var s=[];s[1]=[{data:As(a.id),type:0}],s[2]=[],a.merge!=null&&(s[3]=[{data:As(+!!a.merge),type:0}]);var i=[];a.messages.forEach(function(l){i.push(l.data),l.meta[3]=[{type:0,data:As(l.data.length)}],s[2].push({data:no(l.meta),type:2})});var o=no(s);r.push(As(o.length)),r.push(o),i.forEach(function(l){return r.push(l)})}),vm(r)}function rje(t,r){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var a=[0],s=Fy(r,a),i=[];a[0]<r.length;){var o=r[a[0]]&3;if(o==0){var l=r[a[0]++]>>2;if(l<60)++l;else{var c=l-59;l=r[a[0]],c>1&&(l|=r[a[0]+1]<<8),c>2&&(l|=r[a[0]+2]<<16),c>3&&(l|=r[a[0]+3]<<24),l>>>=0,l++,a[0]+=c}i.push(r.slice(a[0],a[0]+l)),a[0]+=l;continue}else{var d=0,f=0;if(o==1?(f=(r[a[0]]>>2&7)+4,d=(r[a[0]++]&224)<<3,d|=r[a[0]++]):(f=(r[a[0]++]>>2)+1,o==2?(d=r[a[0]]|r[a[0]+1]<<8,a[0]+=2):(d=(r[a[0]]|r[a[0]+1]<<8|r[a[0]+2]<<16|r[a[0]+3]<<24)>>>0,a[0]+=4)),i=[vm(i)],d==0)throw new Error("Invalid offset 0");if(d>i[0].length)throw new Error("Invalid offset beyond length");if(f>=d)for(i.push(i[0].slice(-d)),f-=d;f>=i[i.length-1].length;)i.push(i[i.length-1]),f-=i[i.length-1].length;i.push(i[0].slice(-d,-d+f))}}var u=vm(i);if(u.length!=s)throw new Error("Unexpected length: ".concat(u.length," != ").concat(s));return u}function fu(t){for(var r=[],a=0;a<t.length;){var s=t[a++],i=t[a]|t[a+1]<<8|t[a+2]<<16;a+=3,r.push(rje(s,t.slice(a,a+i))),a+=i}if(a!==t.length)throw new Error("data is not a valid framed stream!");return vm(r)}function ng(t){for(var r=[],a=0;a<t.length;){var s=Math.min(t.length-a,268435455),i=new Uint8Array(4);r.push(i);var o=As(s),l=o.length;r.push(o),s<=60?(l++,r.push(new Uint8Array([s-1<<2]))):s<=256?(l+=2,r.push(new Uint8Array([240,s-1&255]))):s<=65536?(l+=3,r.push(new Uint8Array([244,s-1&255,s-1>>8&255]))):s<=16777216?(l+=4,r.push(new Uint8Array([248,s-1&255,s-1>>8&255,s-1>>16&255]))):s<=4294967296&&(l+=5,r.push(new Uint8Array([252,s-1&255,s-1>>8&255,s-1>>16&255,s-1>>>24&255]))),r.push(t.slice(a,a+s)),l+=s,i[0]=0,i[1]=l&255,i[2]=l>>8&255,i[3]=l>>16&255,a+=s}return vm(r)}function d5(t,r){var a=new Uint8Array(32),s=vw(a),i=12,o=0;switch(a[0]=5,t.t){case"n":a[1]=2,tje(a,i,t.v),o|=1,i+=16;break;case"b":a[1]=6,s.setFloat64(i,t.v?1:0,!0),o|=2,i+=8;break;case"s":if(r.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));a[1]=3,s.setUint32(i,r.indexOf(t.v),!0),o|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return s.setUint32(8,o,!0),a.slice(0,i)}function u5(t,r){var a=new Uint8Array(32),s=vw(a),i=12,o=0;switch(a[0]=3,t.t){case"n":a[2]=2,s.setFloat64(i,t.v,!0),o|=32,i+=8;break;case"b":a[2]=6,s.setFloat64(i,t.v?1:0,!0),o|=32,i+=8;break;case"s":if(r.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));a[2]=3,s.setUint32(i,r.indexOf(t.v),!0),o|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return s.setUint32(4,o,!0),a.slice(0,i)}function Vh(t){var r=bi(t);return Fy(r[1][0].data)}function aje(t,r,a){var s,i,o,l;if(!((s=t[6])!=null&&s[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var c=((l=(o=t[8])==null?void 0:o[0])==null?void 0:l.data)&&Eg(t[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var d=0,f=vw(t[7][0].data),u=0,m=[],p=vw(t[4][0].data),g=0,v=[],y=0;y<r.length;++y){if(r[y]==null){f.setUint16(y*2,65535,!0),p.setUint16(y*2,65535);continue}f.setUint16(y*2,u,!0),p.setUint16(y*2,g,!0);var b,j;switch(typeof r[y]){case"string":b=d5({t:"s",v:r[y]},a),j=u5({t:"s",v:r[y]},a);break;case"number":b=d5({t:"n",v:r[y]},a),j=u5({t:"n",v:r[y]},a);break;case"boolean":b=d5({t:"b",v:r[y]},a),j=u5({t:"b",v:r[y]},a);break;default:throw new Error("Unsupported value "+r[y])}m.push(b),u+=b.length,v.push(j),g+=j.length,++d}for(t[2][0].data=As(d);y<t[7][0].data.length/2;++y)f.setUint16(y*2,65535,!0),p.setUint16(y*2,65535,!0);return t[6][0].data=vm(m),t[3][0].data=vm(v),d}function sje(t,r){if(!r||!r.numbers)throw new Error("Must pass a `numbers` option -- check the README");var a=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var s=Ec(a["!ref"]);s.s.r=s.s.c=0;var i=!1;s.e.c>9&&(i=!0,s.e.c=9),s.e.r>49&&(i=!0,s.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(li(s)));var o=bw(a,{range:s,header:1}),l=["~Sh33tJ5~"];o.forEach(function(z){return z.forEach(function(ae){typeof ae=="string"&&l.push(ae)})});var c={},d=[],f=Es.read(r.numbers,{type:"base64"});f.FileIndex.map(function(z,ae){return[z,f.FullPaths[ae]]}).forEach(function(z){var ae=z[0],oe=z[1];if(ae.type==2&&ae.name.match(/\.iwa/)){var ce=ae.content,me=fu(ce),he=uu(me);he.forEach(function(te){d.push(te.id),c[te.id]={deps:[],location:oe,type:Eg(te.messages[0].meta[1][0].data)}})}}),d.sort(function(z,ae){return z-ae});var u=d.filter(function(z){return z>1}).map(function(z){return[z,As(z)]});f.FileIndex.map(function(z,ae){return[z,f.FullPaths[ae]]}).forEach(function(z){var ae=z[0];if(z[1],!!ae.name.match(/\.iwa/)){var oe=uu(fu(ae.content));oe.forEach(function(ce){ce.messages.forEach(function(me){u.forEach(function(he){ce.messages.some(function(te){return Eg(te.meta[1][0].data)!=11006&&eje(te.data,he[1])})&&c[he[0]].deps.push(ce.id)})})})}});for(var m=Es.find(f,c[1].location),p=uu(fu(m.content)),g,v=0;v<p.length;++v){var y=p[v];y.id==1&&(g=y)}var b=Vh(bi(g.messages[0].data)[1][0].data);for(m=Es.find(f,c[b].location),p=uu(fu(m.content)),v=0;v<p.length;++v)y=p[v],y.id==b&&(g=y);for(b=Vh(bi(g.messages[0].data)[2][0].data),m=Es.find(f,c[b].location),p=uu(fu(m.content)),v=0;v<p.length;++v)y=p[v],y.id==b&&(g=y);for(b=Vh(bi(g.messages[0].data)[2][0].data),m=Es.find(f,c[b].location),p=uu(fu(m.content)),v=0;v<p.length;++v)y=p[v],y.id==b&&(g=y);var j=bi(g.messages[0].data);{j[6][0].data=As(s.e.r+1),j[7][0].data=As(s.e.c+1);var N=Vh(j[46][0].data),S=Es.find(f,c[N].location),B=uu(fu(S.content));{for(var I=0;I<B.length&&B[I].id!=N;++I);if(B[I].id!=N)throw"Bad ColumnRowUIDMapArchive";var F=bi(B[I].messages[0].data);F[1]=[],F[2]=[],F[3]=[];for(var O=0;O<=s.e.c;++O){var k=[];k[1]=k[2]=[{type:0,data:As(O+420690)}],F[1].push({type:2,data:no(k)}),F[2].push({type:0,data:As(O)}),F[3].push({type:0,data:As(O)})}F[4]=[],F[5]=[],F[6]=[];for(var V=0;V<=s.e.r;++V)k=[],k[1]=k[2]=[{type:0,data:As(V+726270)}],F[4].push({type:2,data:no(k)}),F[5].push({type:0,data:As(V)}),F[6].push({type:0,data:As(V)});B[I].messages[0].data=no(F)}S.content=ng(sg(B)),S.size=S.content.length,delete j[46];var Q=bi(j[4][0].data);{Q[7][0].data=As(s.e.r+1);var H=bi(Q[1][0].data),M=Vh(H[2][0].data);S=Es.find(f,c[M].location),B=uu(fu(S.content));{if(B[0].id!=M)throw"Bad HeaderStorageBucket";var K=bi(B[0].messages[0].data);for(V=0;V<o.length;++V){var q=bi(K[2][0].data);q[1][0].data=As(V),q[4][0].data=As(o[V].length),K[2][V]={type:K[2][0].type,data:no(q)}}B[0].messages[0].data=no(K)}S.content=ng(sg(B)),S.size=S.content.length;var re=Vh(Q[2][0].data);S=Es.find(f,c[re].location),B=uu(fu(S.content));{if(B[0].id!=re)throw"Bad HeaderStorageBucket";for(K=bi(B[0].messages[0].data),O=0;O<=s.e.c;++O)q=bi(K[2][0].data),q[1][0].data=As(O),q[4][0].data=As(s.e.r+1),K[2][O]={type:K[2][0].type,data:no(q)};B[0].messages[0].data=no(K)}S.content=ng(sg(B)),S.size=S.content.length;var ee=Vh(Q[4][0].data);(function(){for(var z=Es.find(f,c[ee].location),ae=uu(fu(z.content)),oe,ce=0;ce<ae.length;++ce){var me=ae[ce];me.id==ee&&(oe=me)}var he=bi(oe.messages[0].data);{he[3]=[];var te=[];l.forEach(function(xe,Ne){te[1]=[{type:0,data:As(Ne)}],te[2]=[{type:0,data:As(1)}],te[3]=[{type:2,data:Z4e(xe)}],he[3].push({type:2,data:no(te)})})}oe.messages[0].data=no(he);var J=sg(ae),X=ng(J);z.content=X,z.size=z.content.length})();var le=bi(Q[3][0].data);{var Ae=le[1][0];delete le[2];var ue=bi(Ae.data);{var se=Vh(ue[2][0].data);(function(){for(var z=Es.find(f,c[se].location),ae=uu(fu(z.content)),oe,ce=0;ce<ae.length;++ce){var me=ae[ce];me.id==se&&(oe=me)}var he=bi(oe.messages[0].data);{delete he[6],delete le[7];var te=new Uint8Array(he[5][0].data);he[5]=[];for(var J=0,X=0;X<=s.e.r;++X){var xe=bi(te);J+=aje(xe,o[X],l),xe[1][0].data=As(X),he[5].push({data:no(xe),type:2})}he[1]=[{type:0,data:As(s.e.c+1)}],he[2]=[{type:0,data:As(s.e.r+1)}],he[3]=[{type:0,data:As(J)}],he[4]=[{type:0,data:As(s.e.r+1)}]}oe.messages[0].data=no(he);var Ne=sg(ae),ge=ng(Ne);z.content=ge,z.size=z.content.length})()}Ae.data=no(ue)}Q[3][0].data=no(le)}j[4][0].data=no(Q)}g.messages[0].data=no(j);var ve=sg(p),_=ng(ve);return m.content=_,m.size=m.content.length,f}function nje(t){return function(a){for(var s=0;s!=t.length;++s){var i=t[s];a[i[0]]===void 0&&(a[i[0]]=i[1]),i[2]==="n"&&(a[i[0]]=Number(a[i[0]]))}}}function z6(t){nje([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function ije(t,r){return r.bookType=="ods"?sz(t,r):r.bookType=="numbers"?sje(t,r):r.bookType=="xlsb"?oje(t,r):lje(t,r)}function oje(t,r){hg=1024,t&&!t.SSF&&(t.SSF=zl(Ln)),t&&t.SSF&&(M4(),L4(t.SSF),r.revssf=U4(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.rels={},r.wbrels={},r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,K1?r.revStrings=new Map:(r.revStrings={},r.revStrings.foo=[],delete r.revStrings.foo);var a=r.bookType=="xlsb"?"bin":"xml",s=R$.indexOf(r.bookType)>-1,i=m$();z6(r=r||{});var o=E6(),l="",c=0;if(r.cellXfs=[],Fm(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",Na(o,l,y$(t.Props,r)),i.coreprops.push(l),ms(r.rels,2,l,Xa.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&d.push(t.SheetNames[f]);t.Props.SheetNames=d}for(t.Props.Worksheets=t.Props.SheetNames.length,Na(o,l,b$(t.Props)),i.extprops.push(l),ms(r.rels,3,l,Xa.EXT_PROPS),t.Custprops!==t.Props&&go(t.Custprops||{}).length>0&&(l="docProps/custom.xml",Na(o,l,w$(t.Custprops)),i.custprops.push(l),ms(r.rels,4,l,Xa.CUST_PROPS)),c=1;c<=t.SheetNames.length;++c){var u={"!id":{}},m=t.Sheets[t.SheetNames[c-1]],p=(m||{})["!type"]||"sheet";switch(p){case"chart":default:l="xl/worksheets/sheet"+c+"."+a,Na(o,l,d4e(c-1,l,r,t,u)),i.sheets.push(l),ms(r.wbrels,-1,"worksheets/sheet"+c+"."+a,Xa.WS[0])}if(m){var g=m["!comments"],v=!1,y="";g&&g.length>0&&(y="xl/comments"+c+"."+a,Na(o,y,A4e(g,y)),i.comments.push(y),ms(u,-1,"../comments"+c+"."+a,Xa.CMNT),v=!0),m["!legacy"]&&v&&Na(o,"xl/drawings/vmlDrawing"+c+".vml",M$(c,m["!comments"])),delete m["!comments"],delete m["!legacy"]}u["!id"].rId1&&Na(o,g$(l),Cg(u))}return r.Strings!=null&&r.Strings.length>0&&(l="xl/sharedStrings."+a,Na(o,l,f4e(r.Strings,l,r)),i.strs.push(l),ms(r.wbrels,-1,"sharedStrings."+a,Xa.SST)),l="xl/workbook."+a,Na(o,l,c4e(t,l)),i.workbooks.push(l),ms(r.rels,1,l,Xa.WB),l="xl/theme/theme1.xml",Na(o,l,D$(t.Themes,r)),i.themes.push(l),ms(r.wbrels,-1,"theme/theme1.xml",Xa.THEME),l="xl/styles."+a,Na(o,l,u4e(t,l,r)),i.styles.push(l),ms(r.wbrels,-1,"styles."+a,Xa.STY),t.vbaraw&&s&&(l="xl/vbaProject.bin",Na(o,l,t.vbaraw),i.vba.push(l),ms(r.wbrels,-1,"vbaProject.bin",Xa.VBA)),l="xl/metadata."+a,Na(o,l,h4e(l)),i.metadata.push(l),ms(r.wbrels,-1,"metadata."+a,Xa.XLMETA),Na(o,"[Content_Types].xml",p$(i,r)),Na(o,"_rels/.rels",Cg(r.rels)),Na(o,"xl/_rels/workbook."+a+".rels",Cg(r.wbrels)),delete r.revssf,delete r.ssf,o}function lje(t,r){hg=1024,t&&!t.SSF&&(t.SSF=zl(Ln)),t&&t.SSF&&(M4(),L4(t.SSF),r.revssf=U4(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.rels={},r.wbrels={},r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,K1?r.revStrings=new Map:(r.revStrings={},r.revStrings.foo=[],delete r.revStrings.foo);var a="xml",s=R$.indexOf(r.bookType)>-1,i=m$();z6(r=r||{});var o=E6(),l="",c=0;if(r.cellXfs=[],Fm(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",Na(o,l,y$(t.Props,r)),i.coreprops.push(l),ms(r.rels,2,l,Xa.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&d.push(t.SheetNames[f]);t.Props.SheetNames=d}t.Props.Worksheets=t.Props.SheetNames.length,Na(o,l,b$(t.Props)),i.extprops.push(l),ms(r.rels,3,l,Xa.EXT_PROPS),t.Custprops!==t.Props&&go(t.Custprops||{}).length>0&&(l="docProps/custom.xml",Na(o,l,w$(t.Custprops)),i.custprops.push(l),ms(r.rels,4,l,Xa.CUST_PROPS));var u=["SheetJ5"];for(r.tcid=0,c=1;c<=t.SheetNames.length;++c){var m={"!id":{}},p=t.Sheets[t.SheetNames[c-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:l="xl/worksheets/sheet"+c+"."+a,Na(o,l,q$(c-1,r,t,m)),i.sheets.push(l),ms(r.wbrels,-1,"worksheets/sheet"+c+"."+a,Xa.WS[0])}if(p){var v=p["!comments"],y=!1,b="";if(v&&v.length>0){var j=!1;v.forEach(function(N){N[1].forEach(function(S){S.T==!0&&(j=!0)})}),j&&(b="xl/threadedComments/threadedComment"+c+"."+a,Na(o,b,Uve(v,u,r)),i.threadedcomments.push(b),ms(m,-1,"../threadedComments/threadedComment"+c+"."+a,Xa.TCMNT)),b="xl/comments"+c+"."+a,Na(o,b,U$(v)),i.comments.push(b),ms(m,-1,"../comments"+c+"."+a,Xa.CMNT),y=!0}p["!legacy"]&&y&&Na(o,"xl/drawings/vmlDrawing"+c+".vml",M$(c,p["!comments"])),delete p["!comments"],delete p["!legacy"]}m["!id"].rId1&&Na(o,g$(l),Cg(m))}return r.Strings!=null&&r.Strings.length>0&&(l="xl/sharedStrings."+a,Na(o,l,F$(r.Strings,r)),i.strs.push(l),ms(r.wbrels,-1,"sharedStrings."+a,Xa.SST)),l="xl/workbook."+a,Na(o,l,J$(t)),i.workbooks.push(l),ms(r.rels,1,l,Xa.WB),l="xl/theme/theme1.xml",Na(o,l,D$(t.Themes,r)),i.themes.push(l),ms(r.wbrels,-1,"theme/theme1.xml",Xa.THEME),l="xl/styles."+a,Na(o,l,P$(t,r)),i.styles.push(l),ms(r.wbrels,-1,"styles."+a,Xa.STY),t.vbaraw&&s&&(l="xl/vbaProject.bin",Na(o,l,t.vbaraw),i.vba.push(l),ms(r.wbrels,-1,"vbaProject.bin",Xa.VBA)),l="xl/metadata."+a,Na(o,l,L$()),i.metadata.push(l),ms(r.wbrels,-1,"metadata."+a,Xa.XLMETA),u.length>1&&(l="xl/persons/person.xml",Na(o,l,Rve(u)),i.people.push(l),ms(r.wbrels,-1,"persons/person.xml",Xa.PEOPLE)),Na(o,"[Content_Types].xml",p$(i,r)),Na(o,"_rels/.rels",Cg(r.rels)),Na(o,"xl/_rels/workbook."+a+".rels",Cg(r.wbrels)),delete r.revssf,delete r.ssf,o}function cje(t,r){var a="";switch((r||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":a=zA(t.slice(0,12));break;case"binary":a=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(r&&r.type||"undefined"))}return[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3),a.charCodeAt(4),a.charCodeAt(5),a.charCodeAt(6),a.charCodeAt(7)]}function nz(t,r){switch(r.type){case"base64":case"binary":break;case"buffer":case"array":r.type="";break;case"file":return cv(r.file,Es.write(t,{type:ns?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+r.bookType+"' files");default:throw new Error("Unrecognized type "+r.type)}return Es.write(t,r)}function dje(t,r){var a=zl(r||{}),s=ije(t,a);return uje(s,a)}function uje(t,r){var a={},s=ns?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(r.compression&&(a.compression="DEFLATE"),r.password)a.type=s;else switch(r.type){case"base64":a.type="base64";break;case"binary":a.type="string";break;case"string":throw new Error("'string' output type invalid for '"+r.bookType+"' files");case"buffer":case"file":a.type=s;break;default:throw new Error("Unrecognized type "+r.type)}var i=t.FullPaths?Es.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[a.type]||a.type,compression:!!r.compression}):t.generate(a);if(typeof Deno<"u"&&typeof i=="string"){if(r.type=="binary"||r.type=="base64")return i;i=new Uint8Array(D4(i))}return r.password&&typeof encrypt_agile<"u"?nz(encrypt_agile(i,r.password),r):r.type==="file"?cv(r.file,i):r.type=="string"?H1(i):i}function fje(t,r){var a=r||{},s=E4e(t,a);return nz(s,a)}function uf(t,r,a){a||(a="");var s=a+t;switch(r.type){case"base64":return Cy(Ey(s));case"binary":return Ey(s);case"string":return t;case"file":return cv(r.file,s,"utf8");case"buffer":return ns?rh(s,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(s):uf(s,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+r.type)}function Aje(t,r){switch(r.type){case"base64":return Cy(t);case"binary":return t;case"string":return t;case"file":return cv(r.file,t,"binary");case"buffer":return ns?rh(t,"binary"):t.split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+r.type)}function Ob(t,r){switch(r.type){case"string":case"base64":case"binary":for(var a="",s=0;s<t.length;++s)a+=String.fromCharCode(t[s]);return r.type=="base64"?Cy(a):r.type=="string"?H1(a):a;case"file":return cv(r.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+r.type)}}function iz(t,r){Qxe(),Jwe(t);var a=zl(r||{});if(a.cellStyles&&(a.cellNF=!0,a.sheetStubs=!0),a.type=="array"){a.type="binary";var s=iz(t,a);return a.type="array",D4(s)}var i=0;if(a.sheet&&(typeof a.sheet=="number"?i=a.sheet:i=t.SheetNames.indexOf(a.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+a.sheet+" : "+typeof a.sheet);switch(a.bookType||"xlsb"){case"xml":case"xlml":return uf(C4e(t,a),a);case"slk":case"sylk":return uf(qye.from_sheet(t.Sheets[t.SheetNames[i]],a),a);case"htm":case"html":return uf(tz(t.Sheets[t.SheetNames[i]],a),a);case"txt":return Aje(oz(t.Sheets[t.SheetNames[i]],a),a);case"csv":return uf(V6(t.Sheets[t.SheetNames[i]],a),a,"\uFEFF");case"dif":return uf(Yye.from_sheet(t.Sheets[t.SheetNames[i]],a),a);case"dbf":return Ob(Wye.from_sheet(t.Sheets[t.SheetNames[i]],a),a);case"prn":return uf(Xye.from_sheet(t.Sheets[t.SheetNames[i]],a),a);case"rtf":return uf(sve.from_sheet(t.Sheets[t.SheetNames[i]],a),a);case"eth":return uf(T$.from_sheet(t.Sheets[t.SheetNames[i]],a),a);case"fods":return uf(sz(t,a),a);case"wk1":return Ob(WO.sheet_to_wk1(t.Sheets[t.SheetNames[i]],a),a);case"wk3":return Ob(WO.book_to_wk3(t,a),a);case"biff2":a.biff||(a.biff=2);case"biff3":a.biff||(a.biff=3);case"biff4":return a.biff||(a.biff=4),Ob(ez(t,a),a);case"biff5":a.biff||(a.biff=5);case"biff8":case"xla":case"xls":return a.biff||(a.biff=8),fje(t,a);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return dje(t,a);default:throw new Error("Unrecognized bookType |"+a.bookType+"|")}}function hje(t){if(!t.bookType){var r={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},a=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();a.match(/^\.[a-z]+$/)&&(t.bookType=a.slice(1)),t.bookType=r[t.bookType]||t.bookType}}function mje(t,r,a){var s={};return s.type="file",s.file=r,hje(s),iz(t,s)}function pje(t,r,a,s,i,o,l,c){var d=ho(a),f=c.defval,u=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),m=!0,p=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:a,enumerable:!1})}catch{p.__rowNum__=a}else p.__rowNum__=a;if(!l||t[a])for(var g=r.s.c;g<=r.e.c;++g){var v=l?t[a][g]:t[s[g]+d];if(v===void 0||v.t===void 0){if(f===void 0)continue;o[g]!=null&&(p[o[g]]=f);continue}var y=v.v;switch(v.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(o[g]!=null){if(y==null)if(v.t=="e"&&y===null)p[o[g]]=null;else if(f!==void 0)p[o[g]]=f;else if(u&&y===null)p[o[g]]=null;else continue;else p[o[g]]=u&&(v.t!=="n"||v.t==="n"&&c.rawNumbers!==!1)?y:VA(v,y,c);y!=null&&(m=!1)}}return{row:p,isempty:m}}function bw(t,r){if(t==null||t["!ref"]==null)return[];var a={t:"n",v:0},s=0,i=1,o=[],l=0,c="",d={s:{r:0,c:0},e:{r:0,c:0}},f=r||{},u=f.range!=null?f.range:t["!ref"];switch(f.header===1?s=1:f.header==="A"?s=2:Array.isArray(f.header)?s=3:f.header==null&&(s=0),typeof u){case"string":d=nn(u);break;case"number":d=nn(t["!ref"]),d.s.r=u;break;default:d=u}s>0&&(i=0);var m=ho(d.s.r),p=[],g=[],v=0,y=0,b=Array.isArray(t),j=d.s.r,N=0,S={};b&&!t[j]&&(t[j]=[]);var B=f.skipHidden&&t["!cols"]||[],I=f.skipHidden&&t["!rows"]||[];for(N=d.s.c;N<=d.e.c;++N)if(!(B[N]||{}).hidden)switch(p[N]=zo(N),a=b?t[j][N]:t[p[N]+m],s){case 1:o[N]=N-d.s.c;break;case 2:o[N]=p[N];break;case 3:o[N]=f.header[N-d.s.c];break;default:if(a==null&&(a={w:"__EMPTY",t:"s"}),c=l=VA(a,null,f),y=S[l]||0,!y)S[l]=1;else{do c=l+"_"+y++;while(S[c]);S[l]=y,S[c]=1}o[N]=c}for(j=d.s.r+i;j<=d.e.r;++j)if(!(I[j]||{}).hidden){var F=pje(t,d,j,p,s,o,b,f);(F.isempty===!1||(s===1?f.blankrows!==!1:f.blankrows))&&(g[v++]=F.row)}return g.length=v,g}var rD=/"/g;function gje(t,r,a,s,i,o,l,c){for(var d=!0,f=[],u="",m=ho(a),p=r.s.c;p<=r.e.c;++p)if(s[p]){var g=c.dense?(t[a]||[])[p]:t[s[p]+m];if(g==null)u="";else if(g.v!=null){d=!1,u=""+(c.rawNumbers&&g.t=="n"?g.v:VA(g,null,c));for(var v=0,y=0;v!==u.length;++v)if((y=u.charCodeAt(v))===i||y===o||y===34||c.forceQuotes){u='"'+u.replace(rD,'""')+'"';break}u=="ID"&&(u='"ID"')}else g.f!=null&&!g.F?(d=!1,u="="+g.f,u.indexOf(",")>=0&&(u='"'+u.replace(rD,'""')+'"')):u="";f.push(u)}return c.blankrows===!1&&d?null:f.join(l)}function V6(t,r){var a=[],s=r??{};if(t==null||t["!ref"]==null)return"";var i=nn(t["!ref"]),o=s.FS!==void 0?s.FS:",",l=o.charCodeAt(0),c=s.RS!==void 0?s.RS:`
`,d=c.charCodeAt(0),f=new RegExp((o=="|"?"\\|":o)+"+$"),u="",m=[];s.dense=Array.isArray(t);for(var p=s.skipHidden&&t["!cols"]||[],g=s.skipHidden&&t["!rows"]||[],v=i.s.c;v<=i.e.c;++v)(p[v]||{}).hidden||(m[v]=zo(v));for(var y=0,b=i.s.r;b<=i.e.r;++b)(g[b]||{}).hidden||(u=gje(t,i,b,m,l,d,o,s),u!=null&&(s.strip&&(u=u.replace(f,"")),(u||s.blankrows!==!1)&&a.push((y++?c:"")+u)));return delete s.dense,a.join("")}function oz(t,r){r||(r={}),r.FS="	",r.RS=`
`;var a=V6(t,r);return a}function xje(t){var r="",a,s="";if(t==null||t["!ref"]==null)return[];var i=nn(t["!ref"]),o="",l=[],c,d=[],f=Array.isArray(t);for(c=i.s.c;c<=i.e.c;++c)l[c]=zo(c);for(var u=i.s.r;u<=i.e.r;++u)for(o=ho(u),c=i.s.c;c<=i.e.c;++c)if(r=l[c]+o,a=f?(t[u]||[])[c]:t[r],s="",a!==void 0){if(a.F!=null){if(r=a.F,!a.f)continue;s=a.f,r.indexOf(":")==-1&&(r=r+":"+r)}if(a.f!=null)s=a.f;else{if(a.t=="z")continue;if(a.t=="n"&&a.v!=null)s=""+a.v;else if(a.t=="b")s=a.v?"TRUE":"FALSE";else if(a.w!==void 0)s="'"+a.w;else{if(a.v===void 0)continue;a.t=="s"?s="'"+a.v:s=""+a.v}}d[d.length]=r+"="+s}return d}function lz(t,r,a){var s=a||{},i=+!s.skipHeader,o=t||{},l=0,c=0;if(o&&s.origin!=null)if(typeof s.origin=="number")l=s.origin;else{var d=typeof s.origin=="string"?Gi(s.origin):s.origin;l=d.r,c=d.c}var f,u={s:{c:0,r:0},e:{c,r:l+r.length-1+i}};if(o["!ref"]){var m=nn(o["!ref"]);u.e.c=Math.max(u.e.c,m.e.c),u.e.r=Math.max(u.e.r,m.e.r),l==-1&&(l=m.e.r+1,u.e.r=l+r.length-1+i)}else l==-1&&(l=0,u.e.r=r.length-1+i);var p=s.header||[],g=0;r.forEach(function(y,b){go(y).forEach(function(j){(g=p.indexOf(j))==-1&&(p[g=p.length]=j);var N=y[j],S="z",B="",I=vs({c:c+g,r:l+b+i});f=Iy(o,I),N&&typeof N=="object"&&!(N instanceof Date)?o[I]=N:(typeof N=="number"?S="n":typeof N=="boolean"?S="b":typeof N=="string"?S="s":N instanceof Date?(S="d",s.cellDates||(S="n",N=$l(N)),B=s.dateNF||Ln[14]):N===null&&s.nullError&&(S="e",N=0),f?(f.t=S,f.v=N,delete f.w,delete f.R,B&&(f.z=B)):o[I]=f={t:S,v:N},B&&(f.z=B))})}),u.e.c=Math.max(u.e.c,c+p.length-1);var v=ho(l);if(i)for(g=0;g<p.length;++g)o[zo(g+c)+v]={t:"s",v:p[g]};return o["!ref"]=li(u),o}function yje(t,r){return lz(null,t,r)}function Iy(t,r,a){if(typeof r=="string"){if(Array.isArray(t)){var s=Gi(r);return t[s.r]||(t[s.r]=[]),t[s.r][s.c]||(t[s.r][s.c]={t:"z"})}return t[r]||(t[r]={t:"z"})}return typeof r!="number"?Iy(t,vs(r)):Iy(t,vs({r,c:a||0}))}function vje(t,r){if(typeof r=="number"){if(r>=0&&t.SheetNames.length>r)return r;throw new Error("Cannot find sheet # "+r)}else if(typeof r=="string"){var a=t.SheetNames.indexOf(r);if(a>-1)return a;throw new Error("Cannot find sheet name |"+r+"|")}else throw new Error("Cannot find sheet |"+r+"|")}function bje(){return{SheetNames:[],Sheets:{}}}function wje(t,r,a,s){var i=1;if(!a)for(;i<=65535&&t.SheetNames.indexOf(a="Sheet"+i)!=-1;++i,a=void 0);if(!a||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(s&&t.SheetNames.indexOf(a)>=0){var o=a.match(/(^.*?)(\d+)$/);i=o&&+o[2]||0;var l=o&&o[1]||a;for(++i;i<=65535&&t.SheetNames.indexOf(a=l+i)!=-1;++i);}if(X$(a),t.SheetNames.indexOf(a)>=0)throw new Error("Worksheet with name |"+a+"| already exists!");return t.SheetNames.push(a),t.Sheets[a]=r,a}function jje(t,r,a){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var s=vje(t,r);switch(t.Workbook.Sheets[s]||(t.Workbook.Sheets[s]={}),a){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+a)}t.Workbook.Sheets[s].Hidden=a}function Nje(t,r){return t.z=r,t}function cz(t,r,a){return r?(t.l={Target:r},a&&(t.l.Tooltip=a)):delete t.l,t}function Sje(t,r,a){return cz(t,"#"+r,a)}function Cje(t,r,a){t.c||(t.c=[]),t.c.push({t:r,a:a||"SheetJS"})}function Bje(t,r,a,s){for(var i=typeof r!="string"?r:nn(r),o=typeof r=="string"?r:li(r),l=i.s.r;l<=i.e.r;++l)for(var c=i.s.c;c<=i.e.c;++c){var d=Iy(t,l,c);d.t="n",d.F=o,delete d.v,l==i.s.r&&c==i.s.c&&(d.f=a,s&&(d.D=!0))}return t}var f5={encode_col:zo,encode_row:ho,encode_cell:vs,encode_range:li,decode_col:P6,decode_row:_6,split_cell:Q1e,decode_cell:Gi,decode_range:Ec,format_cell:VA,sheet_add_aoa:c$,sheet_add_json:lz,sheet_add_dom:rz,aoa_to_sheet:lx,json_to_sheet:yje,table_to_sheet:az,table_to_book:Y4e,sheet_to_csv:V6,sheet_to_txt:oz,sheet_to_json:bw,sheet_to_html:tz,sheet_to_formulae:xje,sheet_to_row_object_array:bw,sheet_get_cell:Iy,book_new:bje,book_append_sheet:wje,book_set_sheet_visibility:jje,cell_set_number_format:Nje,cell_set_hyperlink:cz,cell_set_internal_link:Sje,cell_add_comment:Cje,sheet_set_array_formula:Bje,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Eje="https://vidyaastra.com/api/schools/pricing",Tje="https://vidyaastra.com/api/schools/pricing/save",A5="defaultPricingSettings",dz=()=>{const[t,r]=w.useState(0),[a,s]=w.useState(0),[i,o]=w.useState(0),[l,c]=w.useState(null),[d,f]=w.useState(""),[u,m]=w.useState(""),[p,g]=w.useState(!1);w.useEffect(()=>{(async()=>{try{g(!0);const N=await It.get(Eje),{perStudentPrice:S,serviceCharge:B,gstServiceCharge:I}=N.data.data||{},F={perStudentPrice:S||1e3,serviceCharge:B||5,gstServiceCharge:I||18};c(F),r(F.perStudentPrice),s(F.serviceCharge),o(F.gstServiceCharge)}catch{const S=localStorage.getItem(A5);if(S){const B=JSON.parse(S);c(B),r(B.perStudentPrice||1e3),s(B.serviceCharge||5),o(B.gstServiceCharge||18)}else c({perStudentPrice:1e3,serviceCharge:5,gstServiceCharge:18}),r(1e3),s(5),o(18);f("Failed to fetch pricing data. Using local defaults.")}finally{g(!1)}})()},[]);const v=()=>isNaN(t)||t<0?"Per Student Price must be a non-negative number.":isNaN(a)||a<0||a>100?"Service Charge must be a number between 0 and 100.":isNaN(i)||i<0||i>100?"GST Charge must be a number between 0 and 100.":"",y=async()=>{f(""),m(""),g(!0);const j=v();if(j){f(j),g(!1);return}const N={perStudentPrice:t,serviceCharge:a,gstServiceCharge:i};localStorage.setItem(A5,JSON.stringify(N));try{(await It.post(Tje,N)).data.success&&(c(N),m("Pricing settings saved successfully!"),setTimeout(()=>m(""),3e3))}catch(S){f(S?.response?.data?.message||"Failed to save to backend. Saved locally.")}finally{g(!1)}},b=()=>{const j={perStudentPrice:1e3,serviceCharge:5,gstServiceCharge:18};r(1e3),s(5),o(18),c(j),f(""),m("Settings reset to defaults."),setTimeout(()=>m(""),3e3),localStorage.setItem(A5,JSON.stringify(j))};return n.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans",children:[n.jsxs("div",{className:"bg-[#1C1444] text-white p-6 shadow-lg",children:[n.jsx("div",{className:"container mx-auto flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(E1,{className:"w-6 h-6 text-[#F37021]"}),n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Default Pricing Settings"})]})}),n.jsx("p",{className:"container mx-auto text-[#F37021] mt-2",children:"Configure and view default pricing for new schools"})]}),d&&n.jsx("div",{className:"container mx-auto mt-6 p-4 bg-red-50 text-red-700 rounded-lg shadow-sm",children:d}),u&&n.jsx("div",{className:"container mx-auto mt-6 p-4 bg-green-50 text-green-700 rounded-lg shadow-sm",children:u}),n.jsxs("div",{className:"container mx-auto p-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 mb-6",children:[n.jsxs("h2",{className:"text-lg font-semibold text-[#1C1444] mb-4 flex items-center",children:[n.jsx(E1,{className:"w-5 h-5 mr-2 text-[#F37021]"}),"Current Pricing Data"]}),p?n.jsx("p",{className:"text-[#1C1444]",children:"Loading pricing data..."}):l?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm text-[#1C1444]",children:[n.jsx(K5,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"Per Student Price: ",l.perStudentPrice]}),n.jsxs("p",{className:"text-sm text-[#1C1444]",children:[n.jsx(sb,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"Service Charge: ",l.serviceCharge,"%"]}),n.jsxs("p",{className:"text-sm text-[#1C1444]",children:[n.jsx(sb,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"GST Charge: ",l.gstServiceCharge,"%"]})]}):n.jsx("p",{className:"text-sm text-[#1C1444]",children:"No pricing data available."})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("h2",{className:"text-lg font-semibold text-[#1C1444] mb-4 flex items-center",children:[n.jsx(E1,{className:"w-5 h-5 mr-2 text-[#F37021]"}),"Update Pricing Settings"]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"text-sm font-medium text-[#1C1444] flex items-center mb-2",children:[n.jsx(K5,{className:"w-5 h-5 mr-2 text-[#F37021]"}),"Per Student Price ()"]}),n.jsx("input",{type:"number",value:t,onChange:j=>r(Number(j.target.value)),placeholder:"Enter price per student (e.g., 1000)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F37021] text-[#1C1444] transition-colors",required:!0,min:"0",step:"1"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"text-sm font-medium text-[#1C1444] flex items-center mb-2",children:[n.jsx(sb,{className:"w-5 h-5 mr-2 text-[#F37021]"}),"Service Charge (%)"]}),n.jsx("input",{type:"number",value:a,onChange:j=>s(Number(j.target.value)),placeholder:"Enter service charge percentage (e.g., 5)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F37021] text-[#1C1444] transition-colors",required:!0,min:"0",max:"100",step:"0.1"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"text-sm font-medium text-[#1C1444] flex items-center mb-2",children:[n.jsx(sb,{className:"w-5 h-5 mr-2 text-[#F37021]"}),"GST Charge (%)"]}),n.jsx("input",{type:"number",value:i,onChange:j=>o(Number(j.target.value)),placeholder:"Enter GST percentage (e.g., 18)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F37021] text-[#1C1444] transition-colors",required:!0,min:"0",max:"100",step:"0.1"})]}),n.jsxs("div",{className:"flex space-x-4 pt-4",children:[n.jsxs("button",{type:"button",onClick:b,className:"flex-1 py-2 px-4 bg-gray-100 text-[#1C1444] rounded-lg hover:bg-gray-200 flex items-center justify-center space-x-2 transition-colors disabled:opacity-50",disabled:p,children:[n.jsx(cm,{className:"w-4 h-4 text-[#F37021]"}),n.jsx("span",{children:"Reset Defaults"})]}),n.jsxs("button",{type:"button",onClick:y,className:"flex-1 py-2 px-4 bg-[#F37021] text-white rounded-lg hover:bg-[#d65f1c] flex items-center justify-center space-x-2 transition-colors disabled:opacity-50",disabled:p,children:[n.jsx(Go,{className:"w-4 h-4 text-white"}),n.jsx("span",{children:p?"Saving...":"Save Defaults"})]})]})]})]})]})]})},qh="https://vidyaastra.com/api/schools",Fje="https://vidyaastra.com/api/schools/pricing",h5=qh.substring(0,qh.lastIndexOf("/")),Ije=["Online","Cash","Cheque","Bank Transfer"],kje=()=>{const[t,r]=w.useState([]),[a,s]=w.useState(""),[i,o]=w.useState(!1),[l,c]=w.useState(!1),[d,f]=w.useState(!1),[u,m]=w.useState(!1),[p,g]=w.useState(null),[v,y]=w.useState(null),[b,j]=w.useState(""),[N,S]=w.useState(!0),[B,I]=w.useState({perStudentPrice:0,serviceCharge:0,gstServiceCharge:0}),[F,O]=w.useState({name:"",address:"",email:"",phone:"",password:"",color:"#000000",adminNumber:"",headDepartmentNumber:"",adminName:"",adminEmail:"",adminContact:"",perStudentPrice:"",totalStudent:1,serviceCharge:"",gstServiceCharge:"",totalPayAmount:"",managementApproved:!1,numberOfInstallments:1,installments:[]}),[k,V]=w.useState(null),[Q,H]=w.useState(null),[M,K]=w.useState([]),[q,re]=w.useState("");w.useEffect(()=>{ee(),le()},[]),w.useEffect(()=>{const Y=parseInt(F.numberOfInstallments)||1,Le=parseFloat(F.totalPayAmount)||0;if(Y!==F.installments.length){const ie=(Le/Y).toFixed(2),de=Array.from({length:Y},()=>({amount:ie,paid:"0.00",dueDate:new Date,paidDate:null,paymentMethod:null,receiptUrl:null,remarks:""}));O(je=>({...je,installments:de})),K(new Array(Y).fill(null))}else if(F.installments.length>0){const ie=F.installments.reduce((de,je)=>de+parseFloat(je.amount||0),0);if(ie>0&&Math.abs(ie-Le)>.01){const de=Le/ie,je=F.installments.map(ye=>({...ye,amount:(parseFloat(ye.amount||0)*de).toFixed(2)}));O(ye=>({...ye,installments:je}))}}},[F.totalPayAmount,F.numberOfInstallments]);const ee=async()=>{try{const Y=await It.get(qh);r(Y.data.data),re("")}catch(Y){re(Y?.response?.data?.message||"Failed to fetch schools")}},le=async()=>{try{const Y=await It.get(Fje),Le={perStudentPrice:Y.data.data.perStudentPrice||0,serviceCharge:Y.data.data.serviceCharge||0,gstServiceCharge:Y.data.data.gstServiceCharge||0};I(Le),O(ie=>{const de=Ae(Le.perStudentPrice,Le.serviceCharge,Le.gstServiceCharge,ie.totalStudent);return{...ie,perStudentPrice:Le.perStudentPrice.toString(),serviceCharge:Le.serviceCharge.toString(),gstServiceCharge:Le.gstServiceCharge.toString(),totalPayAmount:de,numberOfInstallments:1,installments:[{amount:de,paid:"0.00",dueDate:new Date,paidDate:null,paymentMethod:null,receiptUrl:null,remarks:""}]}})}catch(Y){re(Y?.response?.data?.message||"Failed to fetch default pricing")}},Ae=(Y,Le,ie,de)=>{const je=parseFloat(Y)||0,ye=parseFloat(Le)||0,Ce=parseFloat(ie)||0,be=parseInt(de)||1,Ee=je*be+ye,Qe=Ee*Ce/100;return((Ee+Qe)*12).toFixed(2)},ue=Y=>{const Le=Y.target.files[0];if(V(Le),Le){const ie=URL.createObjectURL(Le);H(ie);const de=new Image;de.crossOrigin="anonymous",de.src=ie,de.onload=()=>{const je=new Mxe;try{const[ye,Ce,be]=je.getColor(de),Ee=`rgb(${ye}, ${Ce}, ${be})`;O(Qe=>({...Qe,color:Ee}))}catch(ye){console.error("Color extraction failed:",ye)}}}else H(null)},se=(Y=null)=>{if(g(Y),K([]),Y){const Le=Y?.installments||[],ie=Le.reduce((de,je)=>de+(parseFloat(je.amount)||0),0).toFixed(2);O({name:Y?.name||"",address:Y?.address||"",email:Y?.email||"",phone:Y?.phone||"",password:"",color:Y?.color||"#000000",adminNumber:Y?.adminNumber||"",headDepartmentNumber:Y?.headDepartmentNumber||"",adminName:Y?.adminName||"",adminEmail:Y?.adminEmail||"",adminContact:Y?.adminContact||"",perStudentPrice:Y?.perStudentPrice?.toString()||"",totalStudent:Y?.totalStudent||1,serviceCharge:Y?.serviceCharge?.toString()||"",gstServiceCharge:Y?.gstServiceCharge?.toString()||"",totalPayAmount:ie,managementApproved:Y?.managementApproved||!1,numberOfInstallments:Le.length||1,installments:Le.length?Le.map(de=>({amount:parseFloat(de.amount||0).toFixed(2),paid:parseFloat(de.paid||0).toFixed(2),dueDate:new Date(de.dueDate),paidDate:de.paidDate?new Date(de.paidDate):null,paymentMethod:de.paymentMethod||null,receiptUrl:de.receiptUrl||null,remarks:de.remarks||""})):[{amount:ie,paid:"0.00",dueDate:new Date,paidDate:null,paymentMethod:null,receiptUrl:null,remarks:""}]}),K(new Array(Le.length).fill(null)),H(Y?.logoUrl?`${h5}${Y.logoUrl}`:null)}else{const Le=B.perStudentPrice,ie=B.serviceCharge,de=B.gstServiceCharge,je=1,ye=Ae(Le,ie,de,je);O({name:"",address:"",email:"",phone:"",password:"",color:"#000000",adminNumber:"",headDepartmentNumber:"",adminName:"",adminEmail:"",adminContact:"",perStudentPrice:Le.toString(),totalStudent:je,serviceCharge:ie.toString(),gstServiceCharge:de.toString(),totalPayAmount:ye,managementApproved:!1,numberOfInstallments:1,installments:[{amount:ye,paid:"0.00",dueDate:new Date,paidDate:null,paymentMethod:null,receiptUrl:null,remarks:""}]}),K([null]),H(null)}V(null),re(""),o(!0)},ve=()=>{o(!1),g(null),V(null),H(null),K([]),re("")},_=Y=>{y(Y),V(null),H(Y?.logoUrl?`${h5}${Y.logoUrl}`:null),re(""),c(!0)},z=()=>{c(!1),y(null),V(null),H(null),re("")},ae=async Y=>{try{const Le=JSON.parse(localStorage.getItem("schoolsExcelData")||"[]"),ie={...Y,dateAdded:new Date().toISOString(),id:Y._id||Date.now().toString()},de=[...Le,ie];localStorage.setItem("schoolsExcelData",JSON.stringify(de))}catch(Le){console.error("Failed to save to local storage:",Le)}},oe=(Y,Le,ie)=>{O(de=>{const je=[...de.installments];return je[Y]={...je[Y],[Le]:ie},{...de,installments:je}})},ce=Y=>Le=>{const ie=Le.target.files[0],de=[...M];de[Y]=ie,K(de)},me=Y=>{const{amount:Le,paid:ie,dueDate:de}=Y,je=parseFloat(Le),ye=parseFloat(ie);return ye>=je?"paid":ye>0&&ye<je?"partial":new Date>new Date(de)&&ye<je?"overdue":"pending"},he=async Y=>{Y.preventDefault(),re("");const Le=parseFloat(F.perStudentPrice)||0,ie=parseFloat(F.serviceCharge)||0,de=parseFloat(F.gstServiceCharge)||0,je=parseInt(F.totalStudent,10)||1,ye=parseInt(F.numberOfInstallments)||1;if(!F.name||!F.name.match(/^[a-zA-Z\s]+$/)){re("School name is required and must contain only letters and spaces");return}if(!F.email||!F.email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)){re("Valid school email is required");return}if(F.phone&&!F.phone.match(/^\d{10}$/)){re("Phone number must be exactly 10 digits");return}if(!F.adminName||!F.adminName.match(/^[a-zA-Z\s]+$/)){re("Administrator name is required and must contain only letters and spaces");return}if(!F.adminEmail||!F.adminEmail.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)){re("Valid administrator email is required");return}if(!F.adminNumber||!F.adminNumber.match(/^\d+$/)){re("Administrator unique number is required and must be numeric");return}if(!F.headDepartmentNumber||!F.headDepartmentNumber.match(/^\d+$/)){re("Head department number is required and must be numeric");return}if(!F.adminContact||!F.adminContact.match(/^\d{10}$/)){re("Administrator contact number must be exactly 10 digits");return}if(!p&&(!F.password||F.password.length<6)){re("Password is required and must be at least 6 characters");return}if(isNaN(Le)||Le<0){re("Per student price is required and must be non-negative");return}if(isNaN(ie)||ie<0){re("Service charge is required and must be non-negative");return}if(isNaN(de)||de<0||de>100){re("GST service charge is required and must be between 0 and 100");return}if(isNaN(je)||je<1){re("Total students must be at least 1");return}if(!p&&!k){re("Logo is required for new schools");return}if(F.installments.length!==ye){re("Number of installments does not match installment entries");return}const Ce=F.installments.reduce((Qe,rt)=>Qe+parseFloat(rt.amount||0),0),be=parseFloat(F.totalPayAmount);if(Math.abs(Ce-be)>.01){re("Sum of installment amounts must equal total pay amount");return}for(let Qe=0;Qe<F.installments.length;Qe++){const rt=F.installments[Qe];if(!rt.amount||parseFloat(rt.amount)<=0){re(`Installment ${Qe+1} amount must be greater than 0`);return}if(!rt.dueDate){re(`Installment ${Qe+1} due date is required`);return}if(rt.paid&&parseFloat(rt.paid)>parseFloat(rt.amount)){re(`Installment ${Qe+1} paid amount cannot exceed the installment amount`);return}if(parseFloat(rt.paid)>0&&!rt.paymentMethod){re(`Installment ${Qe+1} payment method is required if paid amount is greater than 0`);return}if(rt.paymentMethod&&(rt.paymentMethod==="Cheque"||rt.paymentMethod==="Bank Transfer")&&parseFloat(rt.paid)>0&&!rt.receiptUrl&&!M[Qe]){re(`Installment ${Qe+1} requires a receipt for Cheque or Bank Transfer payments`);return}}const Ee=new FormData;Ee.append("name",F.name),Ee.append("address",F.address),Ee.append("email",F.email),Ee.append("phone",F.phone),Ee.append("password",F.password||""),Ee.append("color",F.color),Ee.append("adminNumber",F.adminNumber),Ee.append("headDepartmentNumber",F.headDepartmentNumber),Ee.append("adminName",F.adminName),Ee.append("adminEmail",F.adminEmail),Ee.append("adminContact",F.adminContact),Ee.append("perStudentPrice",Le.toFixed(2)),Ee.append("totalStudent",je.toString()),Ee.append("serviceCharge",ie.toFixed(2)),Ee.append("gstServiceCharge",de.toFixed(2)),Ee.append("managementApproved",F.managementApproved.toString()),Ee.append("numberOfInstallments",ye.toString()),Ee.append("installments",JSON.stringify(F.installments.map(Qe=>({amount:Number(parseFloat(Qe.amount).toFixed(2)),paid:Number(parseFloat(Qe.paid||0).toFixed(2)),dueDate:Qe.dueDate.toISOString(),paidDate:Qe.paidDate?Qe.paidDate.toISOString():null,paymentMethod:Qe.paymentMethod,receiptUrl:Qe.receiptUrl,remarks:Qe.remarks})))),k&&Ee.append("logo",k),M.forEach((Qe,rt)=>{Qe&&Ee.append(`receipts[${rt}]`,Qe)});try{let Qe;p?Qe=await It.put(`${qh}/logo/${p._id}`,Ee,{headers:{"Content-Type":"multipart/form-data"}}):Qe=await It.post(`${qh}/logo`,Ee,{headers:{"Content-Type":"multipart/form-data"}}),await ae(Qe.data.data),ve(),ee()}catch(Qe){re(Qe?.response?.data?.message||"Failed to save school")}},te=async Y=>{if(Y.preventDefault(),re(""),!k){re("Please select a logo file");return}const Le=new FormData;Le.append("logo",k);try{await It.put(`${qh}/logos/${v._id}`,Le,{headers:{"Content-Type":"multipart/form-data"}}),z(),ee()}catch(ie){re(ie?.response?.data?.message||"Failed to upload logo")}},J=async()=>{if(window.confirm("Are you sure you want to delete this logo?"))try{await It.delete(`${qh}/logos/${v._id}`),z(),ee()}catch(Y){re(Y?.response?.data?.message||"Failed to delete logo")}},X=async Y=>{if(window.confirm("Are you sure you want to delete this school?"))try{await It.delete(`${qh}/${Y}`),ee()}catch(Le){re(Le?.response?.data?.message||"Failed to delete school")}},xe=()=>{if(!b){re("Password is required for export");return}if(b!=="admin123"){re("Invalid password");return}try{const Y=ge.map(Ce=>({"School Name":Ce.name,"School Code":Ce.schoolCode||"N/A",Address:Ce.address||"N/A",Email:Ce.email,Phone:Ce.phone||"N/A","Admin Number":Ce.adminNumber||"N/A","Head Dept Number":Ce.headDepartmentNumber||"N/A","Admin Name":Ce.adminName||"N/A","Admin Email":Ce.adminEmail||"N/A","Admin Contact":Ce.adminContact||"N/A","Total Students":Ce.totalStudent||"N/A","Per Student Price":`${Ce.perStudentPrice}`,"Service Charge":`${Ce.serviceCharge}`,"GST Service Charge":`${Ce.gstServiceCharge}%`,"Total Pay Amount":`${Ce.totalPayAmount||"N/A"}`,"Number of Installments":Ce.numberOfInstallments||"N/A","Payment Status":Ce.paymentStatus||"N/A","Total Paid":`${Ce.paid||"0.00"}`,"Total Pending":`${Ce.pending||"0.00"}`,Installments:Ce.installments?Ce.installments.map((be,Ee)=>`Installment ${Ee+1}: ${be.amount} (Paid: ${be.paid}, Due: ${new Date(be.dueDate).toLocaleDateString()}${be.paymentMethod?`, Method: ${be.paymentMethod}`:""}${be.remarks?`, Remarks: ${be.remarks}`:""})`).join("; "):"N/A","Management Approved":Ce.managementApproved?"Yes":"No","Subscription Duration":Ce.duration?new Date(Ce.duration).toLocaleDateString():"N/A",Color:Ce.color,"Date Added":new Date(Ce.createdAt||Date.now()).toLocaleDateString()})),Le=`schools_${new Date().toISOString().split("T")[0]}.xlsx`,ie=f5.json_to_sheet(Y),de=f5.book_new();f5.book_append_sheet(de,ie,"Schools");const je=[];Object.keys(Y[0]||{}).forEach((Ce,be)=>{const Ee=Math.max(Ce.length,...Y.map(Qe=>String(Qe[Ce]||"").length));je[be]={width:Math.min(Ee+2,50)}}),ie["!cols"]=je,mje(de,Le),f(!1),j(""),re("")}catch{re("Failed to export data")}},Ne=(Y,Le)=>{O(ie=>{const de={...ie,[Y]:Le},je=Ae(de.perStudentPrice,de.serviceCharge,de.gstServiceCharge,de.totalStudent);return{...de,totalPayAmount:je}})},ge=t.filter(Y=>Y.name.toLowerCase().includes(a.toLowerCase())),pe=Y=>Y?Y.startsWith("/")?`${h5}${Y}`:Y:null;return n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#1C1444]/5 to-white",children:[n.jsxs("div",{className:"bg-[#1C1444] text-white p-6 sm:p-8 rounded-b-3xl shadow-2xl",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between max-w-5xl mx-auto",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-4 sm:mb-0",children:[n.jsx(Kn,{className:"w-8 h-8"}),n.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold tracking-tight",children:"School Management System"}),N&&n.jsxs("span",{className:"bg-[#F37021]/20 text-[#F37021] px-3 py-1 rounded-full text-sm font-semibold flex items-center",children:[n.jsx(x2,{className:"w-4 h-4 inline mr-1"}),"Super Admin"]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>m(!0),className:"p-3 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200",title:"Manage Default Pricing",children:n.jsx(E1,{className:"w-6 h-6"})}),n.jsx("button",{onClick:()=>f(!0),className:"p-3 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200",title:"Export Data",children:n.jsx(Us,{className:"w-6 h-6"})}),n.jsx("button",{onClick:()=>se(),className:"p-3 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200",title:"Add New School",children:n.jsx(Fs,{className:"w-6 h-6"})})]})]}),n.jsx("p",{className:"text-white/80 mt-3 max-w-5xl mx-auto text-center sm:text-left",children:"Streamline school administration and payment processes"})]}),n.jsxs("div",{className:"p-4 sm:p-8 max-w-5xl mx-auto",children:[n.jsxs("div",{className:"mb-8 relative",children:[n.jsx(Sa,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-[#1C1444]/60 w-6 h-6"}),n.jsx("input",{type:"text",placeholder:"Search schools by name...",value:a,onChange:Y=>s(Y.target.value),className:"w-full sm:max-w-lg pl-12 pr-4 py-4 border border-[#1C1444]/20 rounded-xl focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200"})]}),q&&n.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-xl mb-6 flex items-center shadow-sm transition-all duration-200",children:[n.jsx(cr,{className:"w-5 h-5 mr-2"}),q]}),n.jsx("div",{className:"grid grid-cols-1 gap-6",children:ge.length===0?n.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-sm",children:[n.jsx(Kn,{className:"w-20 h-20 mx-auto text-[#1C1444]/60 mb-4 transition-transform duration-200 hover:scale-110"}),n.jsx("p",{className:"text-[#1C1444] text-lg font-medium",children:a?"No schools match your search":"No schools registered"}),!a&&n.jsx("p",{className:"text-[#1C1444]/80 mt-2",children:"Add your first school to get started!"})]}):ge.map(Y=>n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-300 border border-[#1C1444]/10 w-full",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-4 sm:mb-0",children:[Y.logoUrl?n.jsx("img",{src:pe(Y.logoUrl),alt:`${Y.name} logo`,className:"w-16 h-16 object-contain rounded-full border border-[#1C1444]/20 transition-transform duration-200 hover:scale-105"}):n.jsx("div",{className:"w-16 h-16 bg-[#1C1444]/10 rounded-full flex items-center justify-center",children:n.jsx(V0,{className:"w-8 h-8 text-[#1C1444]/60"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-[#1C1444]",children:Y.name}),n.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[n.jsx("div",{className:"w-5 h-5 rounded-full border",style:{backgroundColor:Y.color}}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y.managementApproved?"bg-green-100 text-green-800":"bg-[#F37021]/10 text-[#F37021]"}`,children:Y.managementApproved?"Approved":"Pending"}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y.paymentStatus==="paid"?"bg-green-100 text-green-800":Y.paymentStatus==="partial"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:Y.paymentStatus.toUpperCase()})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>_(Y),className:"p-2 text-[#F37021] hover:bg-[#F37021]/10 rounded-lg transition-all duration-200",title:"Update Logo",children:n.jsx(HX,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>se(Y),className:"p-2 text-[#F37021] hover:bg-[#F37021]/10 rounded-lg transition-all duration-200",title:"Edit School",children:n.jsx(Ao,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>X(Y._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200",title:"Delete School",children:n.jsx(cs,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center text-[#1C1444]/80",children:[n.jsx(PX,{className:"w-5 h-5 mr-3 text-[#F37021]"}),n.jsx("span",{className:"text-sm font-semibold",children:"Code:"}),n.jsx("span",{className:"ml-2 text-sm",children:Y.schoolCode||"N/A"})]}),n.jsxs("div",{className:"flex items-center text-[#1C1444]/80",children:[n.jsx(K0,{className:"w-5 h-5 mr-3 text-[#F37021]"}),n.jsx("span",{className:"text-sm",children:Y.address||"N/A"})]}),n.jsxs("div",{className:"flex items-center text-[#1C1444]/80",children:[n.jsx(Af,{className:"w-5 h-5 mr-3 text-[#F37021]"}),n.jsx("span",{className:"text-sm",children:Y.email})]}),n.jsxs("div",{className:"flex items-center text-[#1C1444]/80",children:[n.jsx(vu,{className:"w-5 h-5 mr-3 text-[#F37021]"}),n.jsx("span",{className:"text-sm",children:Y.phone||"N/A"})]})]}),n.jsxs("div",{className:"mt-4 p-4 bg-[#1C1444]/5 rounded-lg",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[n.jsx(da,{className:"w-5 h-5 mr-2 text-[#F37021]"}),n.jsx("span",{className:"text-sm font-medium",children:"Students:"}),n.jsx("span",{className:"ml-2 text-sm",children:Y.totalStudent||"N/A"})]}),n.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[n.jsx(fd,{className:"w-5 h-5 mr-2 text-[#F37021]"}),n.jsx("span",{className:"text-sm font-medium",children:"Per Student:"}),n.jsxs("span",{className:"ml-2 text-sm",children:["",parseFloat(Y.perStudentPrice).toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[n.jsx(fd,{className:"w-5 h-5 mr-2 text-[#F37021]"}),n.jsx("span",{className:"text-sm font-medium",children:"Service:"}),n.jsxs("span",{className:"ml-2 text-sm",children:["",parseFloat(Y.serviceCharge).toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[n.jsx(UX,{className:"w-5 h-5 mr-2 text-[#F37021]"}),n.jsx("span",{className:"text-sm font-medium",children:"GST:"}),n.jsxs("span",{className:"ml-2 text-sm",children:[parseFloat(Y.gstServiceCharge).toFixed(2),"%"]})]}),n.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[n.jsx(fd,{className:"w-5 h-5 mr-2 text-[#F37021]"}),n.jsx("span",{className:"text-sm font-medium",children:"Total:"}),n.jsxs("span",{className:"ml-2 text-sm",children:["",parseFloat(Y.totalPayAmount).toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[n.jsx(fd,{className:"w-5 h-5 mr-2 text-[#F37021]"}),n.jsx("span",{className:"text-sm font-medium",children:"Paid:"}),n.jsxs("span",{className:"ml-2 text-sm",children:["",parseFloat(Y.paid).toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[n.jsx(fd,{className:"w-5 h-5 mr-2 text-[#F37021]"}),n.jsx("span",{className:"text-sm font-medium",children:"Pending:"}),n.jsxs("span",{className:"ml-2 text-sm",children:["",parseFloat(Y.pending).toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[n.jsx(jA,{className:"w-5 h-5 mr-2 text-[#F37021]"}),n.jsx("span",{className:"text-sm font-medium",children:"Installments:"}),n.jsx("span",{className:"ml-2 text-sm",children:Y.numberOfInstallments})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-[#1C1444] mb-2",children:"Installments:"}),Y.installments.map((Le,ie)=>n.jsxs("div",{className:"flex items-center text-[#1C1444]/80 text-sm mb-1",children:[n.jsxs("span",{children:["Installment ",ie+1,": ",parseFloat(Le.amount).toFixed(2)," (Paid: ",parseFloat(Le.paid).toFixed(2),", Due:"," ",new Date(Le.dueDate).toLocaleDateString(),Le.paymentMethod?`, ${Le.paymentMethod}`:"",Le.remarks?`, ${Le.remarks}`:"",")"]}),Le.receiptUrl&&n.jsx("a",{href:pe(Le.receiptUrl),target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-[#F37021] hover:underline",children:"[Receipt]"})]},Le._id))]})]})]},Y._id))})]}),i&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-all duration-300",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl transform transition-all duration-300 scale-100",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 sm:p-8 border-b border-[#1C1444]/10",children:[n.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-[#1C1444] flex items-center",children:[n.jsx(Kn,{className:"w-7 h-7 mr-3 text-[#F37021]"}),p?"Edit School":"Add New School"]}),n.jsx("button",{onClick:ve,className:"text-[#1C1444]/60 hover:text-[#1C1444] p-2 rounded-full hover:bg-[#1C1444]/10 transition-all duration-200",children:n.jsx(cr,{className:"w-6 h-6 sm:w-7 h-7"})})]}),n.jsxs("form",{onSubmit:he,className:"p-6 sm:p-8 space-y-8",encType:"multipart/form-data",children:[q&&n.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-xl text-sm flex items-center shadow-sm transition-all duration-200",children:[n.jsx(cr,{className:"w-5 h-5 mr-2"}),q]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-[#1C1444] flex items-center mb-4",children:[n.jsx(Kn,{className:"w-6 h-6 mr-2 text-[#F37021]"}),"School Details"]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"School Name"}),n.jsx("input",{type:"text",placeholder:"Enter school name (letters only)",value:F.name,onChange:Y=>O({...F,name:Y.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"School Email Address"}),n.jsx("input",{type:"email",placeholder:"Enter school email (login)",value:F.email,onChange:Y=>O({...F,email:Y.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"School Address"}),n.jsx("textarea",{placeholder:"Enter school address",value:F.address,onChange:Y=>O({...F,address:Y.target.value}),rows:"3",className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"School Primary Contact Number"}),n.jsx("input",{type:"tel",placeholder:"Enter 10-digit contact number",value:F.phone,onChange:Y=>O({...F,phone:Y.target.value}),maxLength:10,className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Password"}),n.jsx("input",{type:"password",placeholder:"Enter password (min 6 characters)",value:F.password,onChange:Y=>O({...F,password:Y.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!p})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-[#1C1444] flex items-center mb-4",children:[n.jsx(da,{className:"w-6 h-6 mr-2 text-[#F37021]"}),"Administrator Details"]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Administrator Name"}),n.jsx("input",{type:"text",placeholder:"Enter admin name (letters only)",value:F.adminName,onChange:Y=>O({...F,adminName:Y.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Administrator Email"}),n.jsx("input",{type:"email",placeholder:"Enter admin email",value:F.adminEmail,onChange:Y=>O({...F,adminEmail:Y.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Administrator Unique Number"}),n.jsx("input",{type:"tel",placeholder:"Enter numeric admin number",value:F.adminNumber,onChange:Y=>O({...F,adminNumber:Y.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Head Department Number"}),n.jsx("input",{type:"tel",placeholder:"Enter numeric head dept number",value:F.headDepartmentNumber,onChange:Y=>O({...F,headDepartmentNumber:Y.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Administrator Contact Number"}),n.jsx("input",{type:"tel",placeholder:"Enter 10-digit admin contact",value:F.adminContact,onChange:Y=>O({...F,adminContact:Y.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-[#1C1444] flex items-center mb-4",children:[n.jsx(fd,{className:"w-6 h-6 mr-2 text-[#F37021]"}),"Pricing & Payment"]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Total Students"}),n.jsx("input",{type:"number",placeholder:"Enter number of students",value:F.totalStudent,onChange:Y=>Ne("totalStudent",Y.target.value),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0,min:"1"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Per Student Price ()"}),n.jsx("input",{type:"number",step:"0.01",placeholder:"Enter per student price",value:F.perStudentPrice,onChange:Y=>Ne("perStudentPrice",Y.target.value),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0,min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Service Charge ()"}),n.jsx("input",{type:"number",step:"0.01",placeholder:"Enter service charge",value:F.serviceCharge,onChange:Y=>Ne("serviceCharge",Y.target.value),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0,min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"GST Service Charge (%)"}),n.jsx("input",{type:"number",step:"0.01",placeholder:"Enter GST percentage",value:F.gstServiceCharge,onChange:Y=>Ne("gstServiceCharge",Y.target.value),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0,min:"0",max:"100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Total Pay Amount ()"}),n.jsx("input",{type:"number",step:"0.01",value:F.totalPayAmount,readOnly:!0,className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg bg-[#1C1444]/5 cursor-not-allowed"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Number of Installments"}),n.jsx("input",{type:"number",min:"1",placeholder:"Enter number of installments",value:F.numberOfInstallments,onChange:Y=>O({...F,numberOfInstallments:parseInt(Y.target.value)||1}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",id:"managementApproved",checked:F.managementApproved,onChange:Y=>O({...F,managementApproved:Y.target.checked}),className:"w-4 h-4 text-[#F37021] border-[#1C1444]/20 rounded focus:ring-[#F37021]"}),n.jsx("label",{htmlFor:"managementApproved",className:"text-sm font-medium text-[#1C1444]",children:"Management Approved"})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-[#1C1444] flex items-center mb-4",children:[n.jsx(jA,{className:"w-6 h-6 mr-2 text-[#F37021]"}),"Installments"]}),F.installments.map((Y,Le)=>n.jsxs("div",{className:"mb-6 p-4 border border-[#1C1444]/20 rounded-lg shadow-sm",children:[n.jsxs("h4",{className:"text-md font-medium text-[#1C1444] mb-2",children:["Installment ",Le+1]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-1 block",children:"Amount ()"}),n.jsx("input",{type:"number",step:"0.01",value:Y.amount,readOnly:!0,className:"w-full px-3 py-2 border border-[#1C1444]/20 rounded-lg bg-[#1C1444]/5 cursor-not-allowed"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-1 block",children:"Due Date"}),n.jsx("input",{type:"date",value:Y.dueDate.toISOString().split("T")[0],onChange:ie=>oe(Le,"dueDate",new Date(ie.target.value)),className:"w-full px-3 py-2 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-1 block",children:"Paid ()"}),n.jsx("input",{type:"number",step:"0.01",placeholder:"Enter paid amount",value:Y.paid,onChange:ie=>oe(Le,"paid",ie.target.value),className:"w-full px-3 py-2 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent",min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-1 block",children:"Paid Date"}),n.jsx("input",{type:"date",value:Y.paidDate?Y.paidDate.toISOString().split("T")[0]:"",onChange:ie=>oe(Le,"paidDate",ie.target.value?new Date(ie.target.value):null),className:"w-full px-3 py-2 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-1 block",children:"Payment Method"}),n.jsxs("select",{value:Y.paymentMethod||"",onChange:ie=>oe(Le,"paymentMethod",ie.target.value||null),className:"w-full px-3 py-2 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select Method"}),Ije.map(ie=>n.jsx("option",{value:ie,children:ie},ie))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-1 block",children:"Remarks"}),n.jsx("input",{type:"text",placeholder:"Enter remarks",value:Y.remarks,onChange:ie=>oe(Le,"remarks",ie.target.value),className:"w-full px-3 py-2 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent"})]}),(Y.paymentMethod==="Cheque"||Y.paymentMethod==="Bank Transfer")&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-1 block",children:"Upload Receipt"}),n.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:ce(Le),className:"w-full px-3 py-2 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent"}),Y.receiptUrl&&n.jsx("a",{href:pe(Y.receiptUrl),target:"_blank",rel:"noopener noreferrer",className:"text-sm text-[#F37021] mt-1 block",children:"View Current Receipt"})]})]}),n.jsxs("div",{className:"mt-2 text-sm text-[#1C1444]",children:["Pending: ",(parseFloat(Y.amount)-parseFloat(Y.paid)).toFixed(2),n.jsx("span",{className:`ml-4 px-2 py-1 rounded-full text-xs ${me(Y)==="paid"?"bg-green-100 text-green-800":me(Y)==="partial"?"bg-yellow-100 text-yellow-800":me(Y)==="overdue"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:me(Y).toUpperCase()})]})]},Le))]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-[#1C1444] flex items-center mb-4",children:[n.jsx(V0,{className:"w-6 h-6 mr-2 text-[#F37021]"}),"School Logo & Color"]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"logo",className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"School Logo"}),n.jsx("input",{type:"file",id:"logo",accept:"image/jpeg,image/jpg,image/png",onChange:ue,className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!p}),Q&&n.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[n.jsx("img",{src:Q,alt:"Logo preview",className:"w-20 h-20 object-contain rounded-lg border border-[#1C1444]/20 transition-transform duration-200 hover:scale-105"}),n.jsx("p",{className:"text-sm text-[#1C1444]/80",children:k?`Selected: ${k.name}`:"Current logo"})]}),p&&!Q&&!k&&n.jsx("p",{className:"text-sm text-[#1C1444]/80 mt-2",children:"No new logo selected. Current logo will be retained."})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("label",{htmlFor:"color",className:"text-sm font-medium text-[#1C1444]",children:"School Color"}),n.jsx("input",{type:"color",id:"color",value:F.color,onChange:Y=>O({...F,color:Y.target.value}),className:"w-16 h-16 p-1 border border-[#1C1444]/20 rounded-lg cursor-pointer",required:!0})]})]})]}),n.jsxs("div",{className:"flex space-x-4 pt-6",children:[n.jsx("button",{type:"button",onClick:ve,className:"flex-1 px-6 py-3 border border-[#1C1444]/20 text-[#1C1444] rounded-lg hover:bg-[#1C1444]/10 transition-all duration-200",children:"Cancel"}),n.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-[#F37021] to-[#d55f1c] text-white rounded-lg hover:shadow-lg transition-all duration-200 flex items-center justify-center space-x-2",children:[n.jsx(Go,{className:"w-5 h-5"}),n.jsx("span",{children:p?"Update":"Save"})]})]})]})]})}),d&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-all duration-300",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl transform transition-all duration-300 scale-100",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-[#1C1444]/10",children:[n.jsx("h2",{className:"text-xl font-bold text-[#1C1444]",children:"Export Data"}),n.jsx("button",{onClick:()=>f(!1),className:"text-[#1C1444]/60 hover:text-[#1C1444] p-2 rounded-full hover:bg-[#1C1444]/10 transition-all duration-200",children:n.jsx(cr,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[q&&n.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-xl text-sm flex items-center shadow-sm transition-all duration-200",children:[n.jsx(cr,{className:"w-5 h-5 mr-2"}),q]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Export Type:"}),n.jsx("select",{value:"schools",disabled:!0,className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",children:n.jsx("option",{value:"schools",children:"Schools Data"})})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:[n.jsx(pB,{className:"w-4 h-4 inline mr-1"}),"Export Password:"]}),n.jsx("input",{type:"password",placeholder:"Enter password to export",value:b,onChange:Y=>j(Y.target.value),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0}),n.jsx("p",{className:"text-xs text-[#1C1444]/80 mt-1",children:"Contact admin for export password"})]}),n.jsxs("div",{className:"flex space-x-4 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 px-6 py-3 border border-[#1C1444]/20 text-[#1C1444] rounded-lg hover:bg-[#1C1444]/10 transition-all duration-200",children:"Cancel"}),n.jsxs("button",{onClick:xe,className:"flex-1 px-6 py-3 bg-gradient-to-r from-[#F37021] to-[#d55f1c] text-white rounded-lg hover:shadow-lg transition-all duration-200 flex items-center justify-center space-x-2",children:[n.jsx(Us,{className:"w-5 h-5"}),n.jsx("span",{children:"Export Excel"})]})]})]})]})}),l&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-all duration-300",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl transform transition-all duration-300 scale-100",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-[#1C1444]/10",children:[n.jsx("h2",{className:"text-xl font-bold text-[#1C1444]",children:"Update Logo"}),n.jsx("button",{onClick:z,className:"text-[#1C1444]/60 hover:text-[#1C1444] p-2 rounded-full hover:bg-[#1C1444]/10 transition-all duration-200",children:n.jsx(cr,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:te,className:"p-6 space-y-6",children:[q&&n.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-xl text-sm flex items-center shadow-sm transition-all duration-200",children:[n.jsx(cr,{className:"w-5 h-5 mr-2"}),q]}),Q&&n.jsxs("div",{className:"text-center",children:[n.jsx("img",{src:Q,alt:"Logo preview",className:"w-24 h-24 object-contain mx-auto rounded-lg border border-[#1C1444]/20 transition-transform duration-200 hover:scale-105"}),n.jsx("p",{className:"text-sm text-[#1C1444]/80 mt-2",children:k?`Selected: ${k.name}`:"Current Logo"})]}),n.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:Y=>{const Le=Y.target.files[0];V(Le),H(Le?URL.createObjectURL(Le):null)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0}),n.jsxs("div",{className:"flex space-x-4 pt-4",children:[n.jsx("button",{type:"button",onClick:z,className:"flex-1 px-6 py-3 border border-[#1C1444]/20 text-[#1C1444] rounded-lg hover:bg-[#1C1444]/10 transition-all duration-200",children:"Cancel"}),v?.logoUrl&&n.jsx("button",{type:"button",onClick:J,className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-200",children:"Delete Logo"}),n.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-[#F37021] to-[#d55f1c] text-white rounded-lg hover:shadow-lg transition-all duration-200",children:"Update Logo"})]})]})]})}),u&&n.jsx(dz,{onClose:()=>m(!1)})]})},_je=()=>{const[t,r]=w.useState(""),[a,s]=w.useState("all"),[i,o]=w.useState("all"),[l,c]=w.useState("all"),[d,f]=w.useState([]),[u,m]=w.useState(!0),[p,g]=w.useState("");w.useEffect(()=>{v()},[]);const v=async()=>{try{m(!0),g("");const F=localStorage.getItem("token");console.log("Fetching payments from https://vidyaastra.com/api/payments");const O=await fetch("https://vidyaastra.com/api/payments",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`}});if(!O.ok)throw new Error(`HTTP error! Status: ${O.status}`);const k=await O.json();if(console.log("API Response:",k),!k.success)throw new Error(k.message||"Failed to fetch payments");const V=k.data.map(Q=>{const H=new Date(Q.createdAt);let M;switch(Q?.packageId?.duration||"Monthly"){case"Monthly":M=new Date(H.setMonth(H.getMonth()+1));break;case"Quarterly":M=new Date(H.setMonth(H.getMonth()+3));break;case"Yearly":M=new Date(H.setFullYear(H.getFullYear()+1));break;default:M=new Date(H.setMonth(H.getMonth()+1))}const K=Q?.packageId?.name.toLowerCase(),re={"basic plan":"basic","premium plan":"premium","enterprise plan":"enterprise"}[K]||"basic",ee={"Basic Plan":{students:50,features:["Basic Learning","Online Classes","Study Materials"]},"Premium Plan":{students:100,features:["Advanced Learning","Live Sessions","Personal Tutor","Assignments"]},"Enterprise Plan":{students:200,features:["All Features","Priority Support","Custom Content","Analytics"]}};return{id:Q._id,customerName:Q.name,email:Q.email,phone:Q.phone,packageName:Q?.packageId?.name,packageType:re,students:ee[Q?.packageId?.name]?.students||50,price:Q.amount,duration:Q?.packageId?.duration||"Monthly",paymentMethod:Q.paymentMethod,transactionId:`TXN_${Q._id}`,purchaseDate:Q.createdAt,status:Q.status,expiryDate:M.toISOString(),features:ee[Q?.packageId?.name]?.features||[]}});console.log("Mapped Purchase History:",V),f(V),g("")}catch(F){g("Error fetching payments: "+F.message),console.error("Fetch Error:",F)}finally{m(!1)}},y=F=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(F),b=F=>new Date(F).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),j=F=>{const O={active:{color:"bg-green-100 text-green-800",icon:ji,text:"Active"},pending:{color:"bg-yellow-100 text-yellow-800",icon:Ea,text:"Pending"},expired:{color:"bg-red-100 text-red-800",icon:bg,text:"Expired"},cancelled:{color:"bg-gray-100 text-gray-800",icon:bg,text:"Cancelled"}},k=O[F]||O.pending,V=k.icon;return n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k.color}`,children:[n.jsx(V,{className:"w-3 h-3 mr-1"}),k.text]})},N=F=>{const O={basic:"text-blue-600 bg-blue-50",premium:"text-purple-600 bg-purple-50",enterprise:"text-green-600 bg-green-50"};return O[F]||O.basic},S=w.useMemo(()=>d.filter(F=>{const O=F.customerName.toLowerCase().includes(t.toLowerCase())||F.email.toLowerCase().includes(t.toLowerCase())||F.transactionId.toLowerCase().includes(t.toLowerCase()),k=a==="all"||F.status===a,V=i==="all"||F.packageType===i,Q=new Date(F.purchaseDate),H=new Date;let M=!0;if(l!=="all")if(l==="today")M=Q.toDateString()===H.toDateString();else if(l==="week"){const K=new Date(H.setDate(H.getDate()-7));M=Q>=K}else l==="month"?M=Q.getMonth()===H.getMonth()&&Q.getFullYear()===H.getFullYear():l==="year"&&(M=Q.getFullYear()===H.getFullYear());return O&&k&&V&&M}),[t,a,i,l,d]),B=()=>{console.log("Exporting data...",S),alert("Export functionality would be implemented here")},I=w.useMemo(()=>{const F=d.length,O=d.filter(Q=>Q.status==="active").length,k=d.filter(Q=>Q.status==="active").reduce((Q,H)=>Q+H.price,0),V=d.filter(Q=>Q.status==="active").reduce((Q,H)=>Q+H.students,0);return{total:F,active:O,totalRevenue:k,totalStudents:V}},[d]);return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-b-3xl shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ul,{className:"w-6 h-6"}),n.jsx("h1",{className:"text-2xl font-bold",children:"Package Purchase History"})]}),n.jsxs("button",{onClick:B,className:"flex items-center space-x-2 bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-xl transition-all",disabled:u,children:[n.jsx(Us,{className:"w-4 h-4"}),n.jsx("span",{children:"Export"})]})]}),n.jsx("p",{className:"text-indigo-100 mt-2",children:"Manage and track all package purchases"})]}),u&&n.jsxs("div",{className:"p-6 text-center",children:[n.jsx(ul,{className:"w-12 h-12 text-gray-400 mx-auto mb-4 animate-pulse"}),n.jsx("p",{className:"text-gray-500 text-lg",children:"Loading payment history..."})]}),p&&n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"bg-red-100 text-red-700 rounded-lg p-4 flex items-center",children:[n.jsx(bg,{className:"w-5 h-5 mr-2"}),p]})}),!u&&!p&&n.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Purchases"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:I.total})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:n.jsx(ul,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Subscriptions"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:I.active})]}),n.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:n.jsx(ji,{className:"w-6 h-6 text-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:y(I.totalRevenue)})]}),n.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:n.jsx(fd,{className:"w-6 h-6 text-purple-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),n.jsx("p",{className:"text-2xl font-bold text-orange-600",children:I.totalStudents})]}),n.jsx("div",{className:"p-3 bg-orange-100 rounded-xl",children:n.jsx(da,{className:"w-6 h-6 text-orange-600"})})]})})]}),!u&&!p&&n.jsx("div",{className:"px-6 mb-6",children:n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Search customers, email, or transaction ID...",value:t,onChange:F=>r(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),n.jsxs("select",{value:a,onChange:F=>s(F.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"expired",children:"Expired"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),n.jsxs("select",{value:i,onChange:F=>o(F.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Packages"}),n.jsx("option",{value:"basic",children:"Basic Plan"}),n.jsx("option",{value:"premium",children:"Premium Plan"}),n.jsx("option",{value:"enterprise",children:"Enterprise Plan"})]}),n.jsxs("select",{value:l,onChange:F=>c(F.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Time"}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"week",children:"This Week"}),n.jsx("option",{value:"month",children:"This Month"}),n.jsx("option",{value:"year",children:"This Year"})]})]})})}),!u&&!p&&n.jsx("div",{className:"px-6 pb-6",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Package"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Purchase Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(F=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.customerName}),n.jsx("div",{className:"text-sm text-gray-500",children:F.email}),n.jsx("div",{className:"text-sm text-gray-500",children:F.phone})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N(F.packageType)}`,children:F.packageName}),n.jsxs("div",{className:"text-sm text-gray-500 mt-1 flex items-center",children:[n.jsx(da,{className:"w-3 h-3 mr-1"}),F.students," Students"]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:y(F.price)}),n.jsx("div",{className:"text-sm text-gray-500",children:F.duration})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:F.paymentMethod}),n.jsx("div",{className:"text-sm text-gray-500",children:F.transactionId})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:b(F.purchaseDate)}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Expires: ",b(F.expiryDate)]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j(F.status)})]},F.id))})]})}),S.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ul,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No records found"}),n.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]})]})})]})},uz=w.createContext(null),Pje=({children:t})=>{const[r,a]=w.useState(null),[s,i]=w.useState(null),[o,l]=w.useState(null);w.useEffect(()=>{const f=localStorage.getItem("token"),u=localStorage.getItem("schoolId"),m=localStorage.getItem("schoolCode");f&&u&&m&&(a(f),i(u),l(m))},[]);const c=(f,u,m)=>{localStorage.setItem("token",f),localStorage.setItem("schoolId",u),localStorage.setItem("schoolCode",m),a(f),i(u),l(m)};console.log(s,"this is school");const d=()=>{localStorage.removeItem("token"),localStorage.removeItem("schoolId"),localStorage.removeItem("schoolCode"),a(null),i(null),l(null),console.log("Logout successful - Authentication token cleared")};return n.jsx(uz.Provider,{value:{token:r,schoolId:s,schoolCode:o,login:c,logout:d},children:t})},Oje=()=>{const t=w.useContext(uz);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Dje=({children:t})=>localStorage.getItem("teacherToken")?t:n.jsx(ry,{to:"/login",replace:!0}),Lje=({children:t})=>{const{isAuthenticated:r,loading:a}=Oje(),s=localStorage.getItem("adminToken");return a?n.jsx("div",{children:"Loading authentication..."}):s?t:n.jsx(ry,{to:"/login",replace:!0})},Mje=()=>{const{login:t,error:r}=Y7(),[a,s]=w.useState(""),[i,o]=w.useState(""),[l,c]=w.useState(""),[d,f]=w.useState(!1),u=Ff(),m=async p=>{p.preventDefault(),c(""),f(!0);try{await t(a,i)?u("/admin/dashboard"):c("Invalid credentials")}catch(g){c(g.message||"Login failed")}finally{f(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:n.jsx("div",{className:"container mx-auto flex justify-center",children:n.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md ",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:Yg,alt:"Logo",className:"h-20   object-cover shadow-md"}),n.jsx("div",{className:"absolute inset-0 "})]})}),n.jsx("h2",{className:"text-2xl font-bold text-[#1C1444] mb-6 text-center",children:"Super Admin Login"}),(l||r)&&n.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-600 rounded-lg flex items-center space-x-2",children:[n.jsx(ua,{className:"w-5 h-5 text-red-600"}),n.jsx("span",{children:l||r})]}),n.jsxs("form",{onSubmit:m,children:[n.jsxs("div",{className:"mb-5",children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-2",htmlFor:"email",children:"Email"}),n.jsxs("div",{className:"relative",children:[n.jsx(Af,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-5 h-5"}),n.jsx("input",{id:"email",type:"email",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent text-[#1C1444] transition-all",value:a,onChange:p=>s(p.target.value),required:!0,placeholder:"Enter your email"})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-2",htmlFor:"password",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(pB,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-5 h-5"}),n.jsx("input",{id:"password",type:"password",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent text-[#1C1444] transition-all",value:i,onChange:p=>o(p.target.value),required:!0,placeholder:"Enter your password"})]})]}),n.jsx("button",{type:"submit",disabled:d,className:`w-full bg-[#F37021] text-white py-3 px-4 rounded-lg hover:bg-[#d65f1c] transition-all flex items-center justify-center ${d?"opacity-50 cursor-not-allowed":""}`,children:d?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Logging in..."]}):"Login"})]})]})})})},Uje=({children:t})=>{const{user:r,loading:a}=Y7();return a?n.jsx("div",{children:"Loading..."}):r?t:n.jsx(ry,{to:"/superadmin-login",replace:!0})},Rje=()=>{const[t,r]=w.useState("available"),[a,s]=w.useState(""),[i,o]=w.useState([]),[l,c]=w.useState(!0),[d,f]=w.useState(""),[u,m]=w.useState([]),[p,g]=w.useState(""),[v,y]=w.useState(1),[b]=w.useState(10),[j,N]=w.useState(1),[S,B]=w.useState([{id:1,title:"Advanced Mathematics",author:"R.D. Sharma",isbn:"978-8193332456",student:"John Smith",studentId:"STU001",issueDate:"2023-11-01",dueDate:"2023-12-01",status:"overdue",renewCount:0},{id:2,title:"Physics Fundamentals",author:"H.C. Verma",isbn:"978-8177091878",student:"Emma Wilson",studentId:"STU002",issueDate:"2023-11-15",dueDate:"2023-12-15",status:"active",renewCount:1},{id:3,title:"Organic Chemistry",author:"Morrison & Boyd",isbn:"978-8131704815",student:"Michael Brown",studentId:"STU003",issueDate:"2023-11-20",dueDate:"2023-12-20",status:"active",renewCount:0}]);w.useEffect(()=>{I()},[]),w.useEffect(()=>{F(v)},[v]),w.useEffect(()=>{y(1)},[a,p]);const I=async()=>{try{const K=await(await fetch("https://vidyaastra.com/api/schools")).json();K.success&&m(K.data)}catch{}},F=async M=>{try{c(!0),f("");const K=localStorage.getItem("token"),q=await fetch(`https://vidyaastra.com/api/library/all-unfiltered?page=${M}&limit=${b}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${K}`}});if(!q.ok)throw new Error(`HTTP error! Status: ${q.status}`);const re=await q.json();if(!re.success)throw new Error(re.message||"Failed to fetch books");const ee=re.data.map(le=>({id:le._id,title:le.title,author:le.author,isbn:le.isbn,subject:le.category,copiesAvailable:le.availableCopies,totalCopies:le.totalCopies,publisher:"Unknown",year:2023,schoolId:le.schoolId||""}));o(ee),N(re.totalPages||1),f("")}catch(K){f("Error fetching books: "+K.message)}finally{c(!1)}},k=i.map(M=>{const K=M.schoolId&&u.length?u.find(q=>q._id===M.schoolId):null;return{...M,schoolName:K?K.name:M.schoolId?"Unknown School":"No School"}}).filter(M=>(p===""||M.schoolId===p)&&(M.title.toLowerCase().includes(a.toLowerCase())||M.author.toLowerCase().includes(a.toLowerCase())||M.subject.toLowerCase().includes(a.toLowerCase())||M.isbn.includes(a))),V=S.filter(M=>M.title.toLowerCase().includes(a.toLowerCase())||M.author.toLowerCase().includes(a.toLowerCase())||M.student.toLowerCase().includes(a.toLowerCase())||M.studentId.toLowerCase().includes(a.toLowerCase())),Q=M=>{switch(M){case"overdue":return"bg-red-100 text-red-800";case"active":return"bg-green-100 text-green-800";case"due-soon":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},H=M=>{switch(M){case"overdue":return n.jsx(ua,{className:"w-4 h-4"});case"active":return n.jsx(ji,{className:"w-4 h-4"});case"due-soon":return n.jsx(Ea,{className:"w-4 h-4"});default:return n.jsx(Ja,{className:"w-4 h-4"})}};return n.jsxs("div",{className:"space-y-6 p-4 bg-gray-50 min-h-screen",children:[n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-[#1C1444] flex items-center",children:[n.jsx(FA,{className:"mr-3 text-[#F37021] h-8 w-8"}),"Library Management"]}),n.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:"Manage books, issues, and returns with ease"})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:()=>r("available"),className:`px-5 py-2.5 rounded-lg font-medium transition-all duration-200 ${t==="available"?"bg-[#F37021] hover:bg-[#d65f1c] text-white shadow-md":"bg-gray-100 text-[#1C1444] hover:bg-gray-200"}`,children:"Available Books"}),n.jsx("button",{onClick:()=>r("issued"),className:`px-5 py-2.5 rounded-lg font-medium transition-all duration-200 ${t==="issued"?"bg-[#F37021] hover:bg-[#d65f1c] text-white shadow-md":"bg-gray-100 text-[#1C1444] hover:bg-gray-200"}`,children:"Issued Books"})]})]}),d&&n.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-lg flex items-center border border-red-200",children:[n.jsx(ua,{className:"w-5 h-5 mr-2 text-red-600"}),d]}),n.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[n.jsx("label",{className:"text-sm font-medium text-[#1C1444]",children:"Filter by School:"}),n.jsxs("select",{value:p,onChange:M=>g(M.target.value),className:"px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white transition-all duration-200",children:[n.jsx("option",{value:"",children:"All Schools"}),u.map(M=>n.jsx("option",{value:M._id,children:M.name},M._id))]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-5 h-5"}),n.jsx("input",{type:"text",placeholder:`Search ${t==="available"?"books":"issued books"}...`,value:a,onChange:M=>s(M.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] placeholder-gray-400 transition-all duration-200",disabled:l})]})]}),l&&t==="available"&&n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md text-center border border-gray-100",children:[n.jsx(Ja,{className:"w-12 h-12 text-[#F37021] mx-auto mb-4 animate-pulse"}),n.jsx("p",{className:"text-[#1C1444] text-lg font-medium",children:"Loading books..."})]}),!l&&n.jsx("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden border border-gray-100",children:t==="available"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsx("h2",{className:"text-xl font-semibold text-[#1C1444]",children:"Available Books"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Book Details"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Boock Code"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Subject"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"School"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Availability"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:k.map(M=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-all duration-150",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-[#1C1444]/10 rounded-lg flex items-center justify-center",children:n.jsx(Ja,{className:"w-5 h-5 text-[#1C1444]"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-[#1C1444]",children:M.title}),n.jsxs("div",{className:"text-sm text-gray-500",children:["by ",M.author]}),n.jsxs("div",{className:"text-xs text-gray-400",children:[M.publisher,"  ",M.year]})]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center text-sm text-[#1C1444]",children:[n.jsx(y2,{className:"w-4 h-4 mr-1 text-[#F37021]"}),M.isbn]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"px-3 py-1 text-xs font-semibold bg-[#F37021]/10 text-[#F37021] rounded-full",children:M.subject})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-[#1C1444]/10 text-[#1C1444] rounded-full",children:M.schoolName})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{className:"font-medium text-[#1C1444]",children:[M.copiesAvailable,"/",M.totalCopies," ","available"]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mt-2",children:n.jsx("div",{className:"bg-[#F37021] h-2.5 rounded-full transition-all duration-300",style:{width:`${M.copiesAvailable/M.totalCopies*100}%`}})})]})})]},M.id))})]})}),k.length===0&&n.jsx("div",{className:"p-6 text-center text-gray-500",children:"No books found"}),n.jsxs("div",{className:"flex justify-between items-center p-6 border-t border-gray-100",children:[n.jsx("button",{disabled:v<=1||l,onClick:()=>y(M=>M-1),className:"px-5 py-2.5 bg-gray-100 text-[#1C1444] rounded-lg font-medium hover:bg-gray-200 disabled:opacity-50 transition-all duration-200",children:"Previous"}),n.jsxs("span",{className:"text-sm text-[#1C1444] font-medium",children:["Page ",v," of ",j]}),n.jsx("button",{disabled:v>=j||l,onClick:()=>y(M=>M+1),className:"px-5 py-2.5 bg-gray-100 text-[#1C1444] rounded-lg font-medium hover:bg-gray-200 disabled:opacity-50 transition-all duration-200",children:"Next"})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsx("h2",{className:"text-xl font-semibold text-[#1C1444]",children:"Issued Books"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Book Details"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Student"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Issue Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Due Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Status"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:V.map(M=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-all duration-150",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-[#F37021]/10 rounded-lg flex items-center justify-center",children:n.jsx(FA,{className:"w-5 h-5 text-[#F37021]"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-[#1C1444]",children:M.title}),n.jsxs("div",{className:"text-sm text-gray-500",children:["by ",M.author]}),n.jsxs("div",{className:"text-xs text-gray-400 flex items-center",children:[n.jsx(y2,{className:"w-3 h-3 mr-1 text-[#F37021]"}),M.isbn]})]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:"font-medium text-[#1C1444]",children:M.student}),n.jsx("div",{className:"text-gray-500",children:M.studentId})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center text-sm text-[#1C1444]",children:[n.jsx(ia,{className:"w-4 h-4 mr-1 text-[#F37021]"}),M.issueDate]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center text-sm text-[#1C1444]",children:[n.jsx(ia,{className:"w-4 h-4 mr-1 text-[#F37021]"}),M.dueDate]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("span",{className:`px-3 py-1 text-xs font-semibold rounded-full flex items-center space-x-1 w-fit ${Q(M.status)}`,children:[H(M.status),n.jsx("span",{children:M.status.toUpperCase()})]})})]},M.id))})]})}),V.length===0&&n.jsx("div",{className:"p-6 text-center text-gray-500",children:"No issued books found"})]})})]})},Qje=()=>{const[t,r]=w.useState(""),[a,s]=w.useState([]),[i,o]=w.useState(!0),[l,c]=w.useState(null),[d,f]=w.useState(1),[u]=w.useState(10),[m,p]=w.useState(1),[g,v]=w.useState(0),[y,b]=w.useState(""),[j,N]=w.useState([]);w.useEffect(()=>{(async()=>{try{o(!0);const q=await It.get("https://vidyaastra.com/api/circulars/all-unfiltered",{params:{page:d,limit:u,schoolId:y||void 0}});if(q.data.success){const re=q.data.data.map(ue=>({id:ue._id,title:ue.title||"Untitled",date:ue.date?new Date(ue.date).toISOString().split("T")[0]:"Not specified",author:ue.author||"Administration",category:ue.category||"General",priority:ue.priority||"Medium",status:ue.read?"read":"unread",description:ue.content||"No description",schoolId:ue.schoolId||""}));s(re),p(q.data.totalPages||Math.ceil(q.data.count/u)),v(q.data.count||q.data.data.length);const le=[...new Set(re.map(ue=>ue.schoolId).filter(Boolean))].map(async ue=>{try{const se=await It.get(`https://vidyaastra.com/api/schools/${ue}`);return se.data.success?se.data.data:{_id:ue,name:"Unknown School"}}catch(se){return console.error(`Error fetching school ${ue}:`,se),{_id:ue,name:"Unknown School"}}}),Ae=await Promise.all(le);N(Ae.filter(Boolean))}else c(q.data.message||"No circulars found")}catch(q){console.error("Error fetching circulars:",q),c("Failed to load circulars. Please try again later.")}finally{o(!1)}})()},[d,u,y]);const S=()=>{d>1&&f(d-1)},B=()=>{d<m&&f(d+1)},I=K=>{K>=1&&K<=m&&f(K)},F=j;console.log("Schools:",j),console.log("Circular School IDs:",[...new Set(a.map(K=>K.schoolId).filter(Boolean))]),console.log("Filtered Schools:",F);const O=a.filter(K=>K.title.toLowerCase().includes(t.toLowerCase())||K.category.toLowerCase().includes(t.toLowerCase())||K.description.toLowerCase().includes(t.toLowerCase())||K.author.toLowerCase().includes(t.toLowerCase())),k=()=>{r(""),b(""),f(1)},V=()=>{if(O.length===0){alert("No data to export");return}const K=O.map(ue=>({Title:ue.title,Date:ue.date,Author:ue.author,Category:ue.category,Priority:ue.priority,Status:ue.status.charAt(0).toUpperCase()+ue.status.slice(1),Description:ue.description,"School Name":j.find(se=>se._id===ue.schoolId)?.name||"Unknown School"})),q=Object.keys(K[0]),re=[q.join(","),...K.map(ue=>q.map(se=>`"${ue[se]||""}"`).join(","))].join(`
`),ee=new Blob([re],{type:"text/csv;charset=utf-8;"}),le=document.createElement("a"),Ae=URL.createObjectURL(ee);le.setAttribute("href",Ae),le.setAttribute("download",`circulars_${new Date().toISOString().split("T")[0]}.csv`),le.style.visibility="hidden",document.body.appendChild(le),le.click(),document.body.removeChild(le)},Q=K=>{switch(K){case"High":return"bg-red-100 text-red-700";case"Medium":return"bg-yellow-100 text-yellow-700";case"Low":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-[#1C1444]"}},H=K=>{switch(K){case"Academic":return"bg-[#F37021]/10 text-[#F37021]";case"Events":return"bg-purple-100 text-purple-700";case"Finance":return"bg-green-100 text-green-700";case"Sports":return"bg-[#F37021]/10 text-[#F37021]";default:return"bg-gray-100 text-[#1C1444]"}},M=async K=>{try{s(a.map(q=>q.id===K?{...q,status:"read"}:q)),await It.patch(`https://vidyaastra.com/api/circulars/${K}`,{read:!0})}catch{s(a.map(re=>re.id===K?{...re,status:"unread"}:re))}};return i?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#F37021]"})}):l?n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-gray-100 text-center",children:[n.jsx("div",{className:"text-red-700 mb-4",children:l}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-[#F37021] text-white rounded-lg hover:bg-[#d65f1c] transition-all duration-200",children:"Retry"})]}):n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 p-4 bg-gray-50 min-h-screen",children:[n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-gray-100",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(sm,{className:"w-6 h-6 text-[#F37021]"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-[#1C1444]",children:"School Circulars"}),n.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:"Important announcements and notices"})]})]}),n.jsxs("button",{onClick:V,className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg shadow-md flex items-center space-x-2 transition-all duration-200",title:"Export to CSV",disabled:i,children:[n.jsx(Us,{className:"text-white"})," ",n.jsx("span",{children:"Export CSV"})]})]}),n.jsxs("div",{className:"flex space-x-6 text-sm mt-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-[#1C1444]",children:"Total:"}),n.jsx("span",{className:"font-semibold text-[#1C1444]",children:g})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-[#1C1444]",children:"Unread:"}),n.jsx("span",{className:"font-semibold text-[#1C1444]",children:a.filter(K=>K.status==="unread").length})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-[#1C1444]",children:"Filtered:"}),n.jsx("span",{className:"font-semibold text-[#1C1444]",children:O.length})]})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-gray-100",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-w-5xl",children:[n.jsxs("div",{className:"max-w-xs",children:[n.jsxs("label",{className:"block text-sm font-medium text-[#1C1444] mb-1 flex items-center",children:[n.jsx(Kn,{className:"mr-2 text-[#F37021]"}),"School"]}),n.jsxs("select",{value:y,onChange:K=>b(K.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white transition-all duration-200 text-sm",children:[n.jsx("option",{value:"",children:"All Schools"}),F.length>0?F.map(K=>n.jsx("option",{value:K._id,children:K.name.charAt(0).toUpperCase()+K.name.slice(1)||"Unnamed School"},K._id)):n.jsx("option",{disabled:!0,children:"No schools available"})]})]}),n.jsxs("div",{className:"max-w-xs",children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Search by title, category, description...",value:t,onChange:K=>r(K.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] placeholder-gray-400 transition-all duration-200 text-sm"})]})]})]}),n.jsx("div",{className:"flex items-center justify-between mt-4",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{className:"text-sm text-[#1C1444] font-medium",children:["Showing ",O.length," of ",g," circulars"]}),n.jsx("button",{onClick:k,className:"px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50 text-[#1C1444] font-medium transition-all duration-200 text-sm",children:"Clear Filters"})]})})]}),n.jsx("div",{className:"space-y-4",children:O.map(K=>n.jsx("div",{className:`bg-white rounded-2xl p-6 shadow-md border border-gray-100 hover:shadow-lg transition-shadow duration-200 ${K.status==="unread"?"border-l-4 border-l-[#F37021]":""}`,children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-[#1C1444]",children:K.title}),K.status==="unread"&&n.jsx("span",{className:"w-2 h-2 bg-[#F37021] rounded-full"})]}),n.jsxs("div",{className:"flex items-center space-x-4 mb-3 text-sm",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Q(K.priority)}`,children:K.priority}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${H(K.category)}`,children:K.category}),K.schoolId&&n.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#F37021]/10 text-[#F37021] flex items-center",children:[n.jsx(Kn,{className:"w-3 h-3 mr-1 text-[#F37021]"}),j.find(q=>q._id===K.schoolId)?.name||"Unknown School"]})]}),n.jsx("p",{className:"text-[#1C1444] mb-3",children:K.description}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-[#1C1444]",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(ia,{className:"w-4 h-4 text-[#F37021]"}),n.jsx("span",{children:K.date})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ts,{className:"w-4 h-4 text-[#F37021]"}),n.jsx("span",{children:K.author})]})]})]}),K.status==="unread"&&n.jsxs("button",{onClick:()=>M(K.id),className:"flex items-center space-x-1 text-sm text-[#F37021] hover:text-[#d65f1c] transition-all duration-200",children:[n.jsx(ys,{className:"w-4 h-4"}),n.jsx("span",{children:"Mark as read"})]})]})},K.id))}),g>0&&n.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-md border border-gray-100 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-[#1C1444] font-medium",children:["Page ",d," of ",m]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:S,disabled:d===1,className:`px-3 py-2 rounded-lg font-medium ${d===1?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"} transition-all duration-200`,children:n.jsx(yo,{})}),Array.from({length:m},(K,q)=>q+1).filter(K=>K===1||K===m||K>=d-2&&K<=d+2).map(K=>n.jsx("button",{onClick:()=>I(K),className:`px-3 py-1 rounded-lg font-medium ${d===K?"bg-[#F37021] text-white":"bg-gray-100 text-[#1C1444] hover:bg-gray-200"} transition-all duration-200`,children:K},K)),n.jsx("button",{onClick:B,disabled:d===m,className:`px-3 py-2 rounded-lg font-medium ${d===m?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"} transition-all duration-200`,children:n.jsx(Ni,{})})]})]}),O.length===0&&a.length>0&&!i&&n.jsxs("div",{className:"bg-white rounded-2xl p-12 shadow-md border border-gray-100 text-center",children:[n.jsx(sm,{className:"w-12 h-12 mx-auto text-[#F37021] mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:"No circulars match your filters"}),n.jsx("button",{onClick:k,className:"text-[#F37021] hover:text-[#d65f1c] underline font-medium transition-all duration-200",children:"Clear filters to see all circulars"})]}),O.length===0&&a.length===0&&!i&&n.jsxs("div",{className:"bg-white rounded-2xl p-12 shadow-md border border-gray-100 text-center",children:[n.jsx(sm,{className:"w-12 h-12 mx-auto text-[#F37021] mb-4"}),n.jsx("p",{className:"text-[#1C1444]",children:"No circulars found"})]})]})},Hje=()=>{const[t,r]=w.useState(""),[a,s]=w.useState(!1),[i,o]=w.useState(null),[l,c]=w.useState([]),[d,f]=w.useState(!0),[u,m]=w.useState(null),[p,g]=w.useState(1),[v]=w.useState(10),[y,b]=w.useState(1),[j,N]=w.useState(0),[S,B]=w.useState(""),[I,F]=w.useState(""),[O,k]=w.useState(""),[V,Q]=w.useState(""),[H,M]=w.useState([]),[K,q]=w.useState([]);w.useEffect(()=>{(async()=>{try{const J=await It.get("https://vidyaastra.com/api/schools");J.data.success&&M(J.data.data)}catch{}})()},[]),w.useEffect(()=>{const te=async()=>{try{const J=new Set;l.forEach(Ne=>{Ne.classTeacherOf&&J.add(Ne.classTeacherOf),Array.isArray(Ne.classes)&&Ne.classes.forEach(ge=>{ge.includes("-")||J.add(ge)})});const X=Array.from(J).map(async Ne=>{try{const pe=(await It.get(`https://vidyaastra.com/api/class/${Ne}`)).data?.data||{_id:Ne,className:"Unknown Class",section:""};return{_id:pe._id,className:pe.className,section:pe.section||""}}catch(ge){return console.error(`Failed to fetch class ${Ne}:`,ge.message),{_id:Ne,className:"Unknown Class",section:""}}}),xe=await Promise.all(X);q(xe.filter(Ne=>Ne._id&&Ne.className))}catch(J){console.error("Failed to fetch classes:",J.message)}};l.length>0&&te()},[l]),w.useEffect(()=>{(async()=>{try{f(!0);const J=await It.get("https://vidyaastra.com/api/teacher",{params:{page:p,limit:v}});if(J.data.success){const X=J.data.data.map(xe=>({id:xe._id,name:xe.name||"Unknown",email:xe.email||"N/A",phone:xe.phone||"N/A",subject:Array.isArray(xe.subjects)?xe.subjects.join(", "):xe.subjects||"N/A",classes:Array.isArray(xe.classes)?xe.classes:xe.classes?[xe.classes]:[],joiningDate:xe.createdAt?new Date(xe.createdAt).toLocaleDateString():"Not specified",address:"Not specified",salary:"Not specified",status:xe.classTeacherOf?"Active":"Inactive",profilePic:xe.profilePic||null,schoolId:xe.schoolId||"",classTeacherOf:xe.classTeacherOf||""}));c(X),b(J.data.totalPages),N(J.data.total)}else m(J.data.message||"No teachers found")}catch{m("Failed to load teachers. Please try again later.")}finally{f(!1)}})()},[p,v]);const re=()=>{p>1&&g(p-1)},ee=()=>{p<y&&g(p+1)},le=te=>{te>=1&&te<=y&&g(te)},Ae=[...new Set(l.flatMap(te=>te.subject.split(", ").filter(Boolean)).filter(Boolean))],ue=[...new Set(K.map(te=>te.className).filter(Boolean))].sort(),se=[...new Set(K.filter(te=>te.className===I).map(te=>te.section).filter(Boolean))].sort();w.useEffect(()=>{k("")},[I]);const ve=[...new Set(l.map(te=>te.schoolId).filter(Boolean))],_=H.filter(te=>ve.includes(te._id)),z=l.filter(te=>{const J=te.name.toLowerCase().includes(t.toLowerCase())||te.subject.toLowerCase().includes(t.toLowerCase())||te.email.toLowerCase().includes(t.toLowerCase())||te.phone.includes(t),X=!S||te.subject.split(", ").includes(S),xe=!I||te.classes.some(ge=>{const pe=K.find(Y=>Y._id===ge||`${Y.className}-${Y.section}`===ge);return pe&&pe.className===I&&(!O||pe.section===O)})||te.classTeacherOf&&K.find(ge=>ge._id===te.classTeacherOf)?.className===I&&(!O||K.find(ge=>ge._id===te.classTeacherOf)?.section===O),Ne=!V||te.schoolId===V;return J&&X&&xe&&Ne}),ae=()=>{r(""),B(""),F(""),k(""),Q(""),g(1)},oe=()=>{if(z.length===0){alert("No data to export");return}const te=z.map(pe=>({"Teacher Name":pe.name,Email:pe.email,Phone:pe.phone,Subjects:pe.subject,Classes:pe.classes.map(Y=>{const Le=K.find(ie=>ie._id===Y||`${ie.className}-${ie.section}`===Y);return Le?`${Le.className}${Le.section?`-${Le.section}`:""}`:Y}).join(", "),Status:pe.status,"Joining Date":pe.joiningDate,Address:pe.address,Salary:pe.salary,"School Name":H.find(Y=>Y._id===pe.schoolId)?.name||"N/A"})),J=Object.keys(te[0]),X=[J.join(","),...te.map(pe=>J.map(Y=>`"${pe[Y]||""}"`).join(","))].join(`
`),xe=new Blob([X],{type:"text/csv;charset=utf-8;"}),Ne=document.createElement("a"),ge=URL.createObjectURL(xe);Ne.setAttribute("href",ge),Ne.setAttribute("download",`teachers_${new Date().toISOString().split("T")[0]}.csv`),Ne.style.visibility="hidden",document.body.appendChild(Ne),Ne.click(),document.body.removeChild(Ne)},ce=te=>{o(te),s(!0)},me=()=>{s(!1),o(null)},he=te=>te==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800";return d?n.jsx("div",{className:"flex justify-center items-center h-64 bg-gray-50 max-w-7xl mx-auto",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#F37021]"})}):u?n.jsxs("div",{className:"max-w-7xl mx-auto bg-white rounded-2xl p-6 shadow-md border border-gray-100 text-center",children:[n.jsx("div",{className:"text-red-500 mb-4",children:u}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-5 py-2.5 bg-[#F37021] text-white rounded-lg font-medium hover:bg-[#d65f1c] transition-all duration-200",children:"Retry"})]}):n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 p-4 bg-gray-50 min-h-screen",children:[n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-gray-100",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-[#1C1444] flex items-center",children:[n.jsx(da,{className:"mr-3 text-[#F37021] h-8 w-8"}),"Teachers Management"]}),n.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:"Manage teacher profiles and information"})]}),n.jsxs("button",{onClick:oe,className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-5 py-2.5 rounded-lg shadow-md flex items-center space-x-2 transition-all duration-200",title:"Export to CSV",disabled:d,children:[n.jsx(Us,{})," ",n.jsx("span",{children:"Export CSV"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-5 gap-3 mt-6",children:[n.jsxs("div",{className:"max-w-[180px]",children:[n.jsxs("label",{className:"block text-sm font-medium text-[#1C1444] mb-1 flex items-center",children:[n.jsx(Kn,{className:"mr-2 text-[#F37021]"}),"School"]}),n.jsxs("select",{value:V,onChange:te=>Q(te.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white transition-all duration-200 text-sm",children:[n.jsx("option",{value:"",children:"All Schools"}),_.map(te=>n.jsx("option",{value:te._id,children:te.name},te._id))]})]}),n.jsxs("div",{className:"max-w-[180px]",children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Subject"}),n.jsxs("select",{value:S,onChange:te=>B(te.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white transition-all duration-200 text-sm",children:[n.jsx("option",{value:"",children:"All Subjects"}),Ae.map(te=>n.jsx("option",{value:te,children:te},te))]})]}),n.jsxs("div",{className:"max-w-[180px]",children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Class"}),n.jsxs("select",{value:I,onChange:te=>F(te.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white transition-all duration-200 text-sm",children:[n.jsx("option",{value:"",children:"All Classes"}),ue.map(te=>n.jsx("option",{value:te,children:te},te))]})]}),n.jsxs("div",{className:"max-w-[180px]",children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Section"}),n.jsxs("select",{value:O,onChange:te=>k(te.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white transition-all duration-200 text-sm",disabled:I===""||se.length===0,children:[n.jsx("option",{value:"",children:"All Sections"}),se.map(te=>n.jsx("option",{value:te,children:te},te))]})]}),n.jsxs("div",{className:"max-w-[180px]",children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Search...",value:t,onChange:te=>r(te.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] placeholder-gray-400 transition-all duration-200 text-sm"})]})]})]}),n.jsx("div",{className:"flex items-center justify-between mt-4",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{className:"text-sm text-[#1C1444] font-medium",children:["Showing ",z.length," of ",j," teachers"]}),n.jsx("button",{onClick:ae,className:"px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50 text-[#1C1444] font-medium transition-all duration-200 text-sm",children:"Clear Filters"})]})})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden border border-gray-100",children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsxs("h2",{className:"text-xl font-semibold text-[#1C1444]",children:["All Teachers (",z.length,")"]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Teacher"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Contact"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Subjects"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Classes"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"School"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:z.map(te=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-all duration-150",children:[n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[te.profilePic?n.jsx("img",{src:te.profilePic||"/placeholder.svg",alt:te.name,className:"w-10 h-10 rounded-full object-cover"}):n.jsx("div",{className:"w-10 h-10 bg-[#1C1444]/10 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-[#1C1444] font-semibold text-base",children:te.name.split(" ").map(J=>J[0]).join("")})}),n.jsx("div",{className:"ml-3",children:n.jsx("div",{className:"text-sm font-medium text-[#1C1444]",children:te.name})})]})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-[#1C1444]",children:[n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx(Af,{className:"w-4 h-4 mr-2 text-[#F37021]"}),te.email]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(vu,{className:"w-4 h-4 mr-2 text-[#F37021]"}),te.phone]})]})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsxs("span",{className:"px-3 py-1 inline-flex text-xs font-semibold rounded-full bg-[#F37021]/10 text-[#F37021]",children:[n.jsx(Ja,{className:"w-3 h-3 mr-1"}),te.subject]})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsxs("span",{className:"px-3 py-1 inline-flex text-xs font-semibold rounded-full bg-[#F37021]/10 text-[#F37021]",children:[n.jsx(Ja,{className:"w-3 h-3 mr-1"}),te.classes.map(J=>{const X=K.find(xe=>xe._id===J||`${xe.className}-${xe.section}`===J);return X?`${X.className}${X.section?`-${X.section}`:""}`:J}).join(", ")]})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsxs("span",{className:"px-3 py-1 inline-flex text-xs font-semibold rounded-full bg-[#1C1444]/10 text-[#1C1444]",children:[n.jsx(Kn,{className:"w-3 h-3 mr-1"}),H.find(J=>J._id===te.schoolId)?.name||"N/A"]})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-3 py-1 inline-flex text-xs font-semibold rounded-full ${he(te.status)}`,children:te.status})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:n.jsx("div",{className:"flex space-x-2",children:n.jsx("button",{onClick:()=>ce(te),className:"text-[#F37021] hover:text-[#d65f1c] p-1 rounded hover:bg-[#F37021]/10 transition-all duration-200",title:"View Details",children:n.jsx(ys,{className:"w-4 h-4"})})})})]},te.id))})]})}),z.length===0&&l.length>0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ts,{className:"w-12 h-12 mx-auto text-[#1C1444]/20 mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:"No teachers match your filters"}),n.jsx("button",{onClick:ae,className:"text-[#F37021] hover:text-[#d65f1c] underline font-medium transition-all duration-200",children:"Clear filters to see all teachers"})]}),z.length===0&&l.length===0&&!d&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ts,{className:"w-12 h-12 mx-auto text-[#1C1444]/20 mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No teachers found matching your search."})]}),j>0&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100",children:[n.jsxs("div",{className:"text-sm text-[#1C1444] font-medium",children:["Page ",p," of ",y]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:re,disabled:p===1,className:`px-3 py-2 rounded-lg font-medium ${p===1?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"} transition-all duration-200`,children:n.jsx(yo,{})}),Array.from({length:y},(te,J)=>J+1).filter(te=>te===1||te===y||te>=p-2&&te<=p+2).map(te=>n.jsx("button",{onClick:()=>le(te),className:`px-3 py-1 rounded-lg font-medium ${p===te?"bg-[#F37021] text-white":"bg-gray-100 text-[#1C1444] hover:bg-gray-200"} transition-all duration-200`,children:te},te)),n.jsx("button",{onClick:ee,disabled:p===y,className:`px-3 py-2 rounded-lg font-medium ${p===y?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"} transition-all duration-200`,children:n.jsx(Ni,{})})]})]})]}),a&&i&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto border border-gray-100",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[n.jsxs("h2",{className:"text-xl font-bold text-[#1C1444] flex items-center",children:[n.jsx("div",{className:"w-8 h-8 bg-[#F37021]/10 rounded-lg flex items-center justify-center mr-3",children:n.jsx(ys,{className:"text-[#F37021]"})}),"Teacher Details"]}),n.jsx("button",{onClick:me,className:"text-[#1C1444] hover:text-[#F37021] transition-all duration-200",children:n.jsx(cr,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[i.profilePic?n.jsx("img",{src:i.profilePic||"/placeholder.svg",alt:i.name,className:"w-16 h-16 rounded-full object-cover"}):n.jsx("div",{className:"w-16 h-16 bg-[#1C1444]/10 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-[#1C1444] font-bold text-xl",children:i.name.split(" ").map(te=>te[0]).join("")})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-[#1C1444]",children:i.name}),n.jsxs("p",{className:"text-gray-500 text-sm",children:["Subjects: ",i.subject]}),n.jsxs("p",{className:"text-gray-500 text-sm",children:["School:"," ",H.find(te=>te._id===i.schoolId)?.name||"N/A"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Af,{className:"w-5 h-5 text-[#F37021]"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),n.jsx("p",{className:"font-medium text-[#1C1444]",children:i.email})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(vu,{className:"w-5 h-5 text-[#F37021]"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),n.jsx("p",{className:"font-medium text-[#1C1444]",children:i.phone})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ja,{className:"w-5 h-5 text-[#F37021]"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Subjects"}),n.jsx("p",{className:"font-medium text-[#1C1444]",children:i.subject})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Classes"}),n.jsx("p",{className:"font-medium text-[#1C1444]",children:i.classes.map(te=>{const J=K.find(X=>X._id===te||`${X.className}-${X.section}`===te);return J?`${J.className}${J.section?`-${J.section}`:""}`:te}).join(", ")})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),n.jsx("p",{className:"font-medium text-[#1C1444]",children:i.status})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"School"}),n.jsx("p",{className:"font-medium text-[#1C1444]",children:H.find(te=>te._id===i.schoolId)?.name||"N/A"})]})]})]})]})]})})]})},$je=()=>{const[t,r]=w.useState(""),[a,s]=w.useState(!1),[i,o]=w.useState("view"),[l,c]=w.useState(null),[d,f]=w.useState("buses"),[u,m]=w.useState([]),[p,g]=w.useState(!0),[v,y]=w.useState(null),[b,j]=w.useState([]),[N,S]=w.useState("all"),[B,I]=w.useState([]),[F,O]=w.useState("all"),[k,V]=w.useState("all"),[Q,H]=w.useState(""),[M,K]=w.useState(""),[q,re]=w.useState(""),[ee,le]=w.useState(!1),[Ae,ue]=w.useState({min:"",max:""}),[se,ve]=w.useState(1),_=10,[z,ae]=w.useState(1),[oe,ce]=w.useState(0);localStorage.getItem("schoolId"),w.useEffect(()=>{(async()=>{try{g(!0);const Ce=await It.get(`https://vidyaastra.com/api/transports/all-unfiltered?page=${se}&limit=${_}`);if(Ce.data.success){const be=Ce.data.data;m(be),ae(Ce.data.totalPages||1),ce(Ce.data.total||0);const Ee=new Map;be.forEach(xt=>{xt.schoolId&&typeof xt.schoolId=="object"&&xt.schoolId._id&&xt.schoolId.name&&Ee.set(xt.schoolId._id,xt.schoolId)});const Qe=Array.from(Ee.values());j(Qe);const rt=new Set;be.forEach(xt=>{Array.isArray(xt.assignedStudents)&&xt.assignedStudents.forEach(it=>{it.studentId?.classId&&rt.add(it.studentId.classId)})});const Te=Array.from(rt).map(async xt=>{try{const _e=(await It.get(`https://vidyaastra.com/api/class/${xt}`)).data?.data||{_id:xt,className:"Unknown Class",section:""};return{_id:_e._id,className:_e.className,section:_e.section||""}}catch(it){return console.error(`Failed to fetch class ${xt}:`,it.message),{_id:xt,className:"Unknown Class",section:""}}}),nt=await Promise.all(Te);I(nt.filter(xt=>xt._id&&xt.className))}else y("Failed to fetch transport data: Invalid response")}catch(Ce){y("Failed to fetch transport data: "+Ce.message)}finally{g(!1)}})()},[se]);const me=w.useMemo(()=>[...new Set(u.map(ye=>ye.schoolId&&typeof ye.schoolId=="object"?ye.schoolId._id:ye.schoolId))].filter(Boolean),[u]),he=w.useMemo(()=>b.filter(ye=>me.includes(ye._id)).map(ye=>({...ye,name:ye.name||"Unknown School"})),[b,me]),te=w.useMemo(()=>[...new Set(B.map(ye=>ye.className))].sort(),[B]),J=w.useMemo(()=>F==="all"?[]:[...new Set(B.filter(ye=>ye.className===F).map(ye=>ye.section).filter(ye=>ye))].sort(),[F,B]);w.useEffect(()=>{V("all")},[F]);const X=w.useMemo(()=>u.filter(ye=>{if(N!=="all"&&(ye.schoolId&&typeof ye.schoolId=="object"?ye.schoolId._id:ye.schoolId)!==N||F!=="all"&&!(Array.isArray(ye.assignedStudents)&&ye.assignedStudents.some(Ee=>{const Qe=B.find(rt=>rt._id===Ee.studentId?.classId);return Qe&&Qe.className===F&&(k==="all"||Qe.section===k)}))||Q&&ye.route!==Q||M&&ye.status!==M||q&&ye.driverName!==q)return!1;if(Ae.min||Ae.max){const be=ye.totalCapacity||ye.capacity||0;if(Ae.min&&be<Number(Ae.min)||Ae.max&&be>Number(Ae.max))return!1}const Ce=t.toLowerCase();return!(t&&!((ye.busNumber||"").toLowerCase().includes(Ce)||(ye.route||"").toLowerCase().includes(Ce)||(ye.driverName||"").toLowerCase().includes(Ce)||(ye.routeName||"").toLowerCase().includes(Ce)))}),[u,N,F,k,Q,M,q,Ae,t,B]),xe=[...new Set(u.map(ye=>ye.route).filter(Boolean))],Ne=[...new Set(u.map(ye=>ye.driverName).filter(Boolean))],ge=["Active","Maintenance","Inactive"],pe=()=>{r(""),H(""),K(""),re(""),ue({min:"",max:""}),S("all"),O("all"),V("all")},Y=()=>{if(X.length===0){alert("No data to export");return}const ye=X.map(Te=>({"Bus Number":Te.busNumber,Route:Te.route,"Route Name":Te.routeName,Driver:Te.driverName,"Driver Phone":Te.driverPhone,Capacity:Te.totalCapacity||Te.capacity,"Current Occupancy":Te.currentOccupancy,"Available Seats":Te.availableSeats,"Pickup Time":Te.pickupTime||Te.startTime,"Dropoff Time":Te.dropoffTime||Te.endTime,Status:Te.status,School:Te.schoolId&&typeof Te.schoolId=="object"?Te.schoolId.name||"Unknown School":b.find(nt=>nt._id===Te.schoolId)?.name||"Unknown School",Classes:Array.isArray(Te.assignedStudents)?Te.assignedStudents.map(nt=>{const xt=B.find(it=>it._id===nt.studentId?.classId);return xt?`${xt.className}${xt.section?`-${xt.section}`:""}`:"Unknown Class"}).filter(Boolean).join(", "):""})),Ce=Object.keys(ye[0]),be=[Ce.join(","),...ye.map(Te=>Ce.map(nt=>`"${Te[nt]??""}"`).join(","))].join(`
`),Ee=new Blob([be],{type:"text/csv;charset=utf-8;"}),Qe=document.createElement("a"),rt=URL.createObjectURL(Ee);Qe.setAttribute("href",rt),Qe.setAttribute("download",`buses_${new Date().toISOString().split("T")[0]}.csv`),Qe.style.visibility="hidden",document.body.appendChild(Qe),Qe.click(),document.body.removeChild(Qe)},Le=ye=>{o("view"),c(ye),s(!0)},ie=()=>{s(!1),c(null)},de=ye=>{switch(ye){case"Active":return"bg-green-100 text-green-800 border-green-200";case"Maintenance":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Inactive":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-[#1C1444] border-gray-200"}},je=ye=>{ye>=1&&ye<=z&&ve(ye)};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-[#1C1444] text-white p-6 shadow-lg",children:n.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(dl,{className:"w-6 h-6 text-[#F37021]"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Transport Management"}),n.jsx("p",{className:"text-[#F37021] mt-1",children:"Manage buses, routes, and drivers"})]})]}),n.jsxs("button",{onClick:Y,className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2",title:"Export to CSV",disabled:p,children:[n.jsx(Us,{className:"w-4 h-4 text-white"}),n.jsx("span",{children:"Export CSV"})]})]})}),n.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[n.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Search bus, route, driver...",value:t,onChange:ye=>r(ye.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"})]}),n.jsxs("select",{value:N,onChange:ye=>S(ye.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444] min-w-[150px]",children:[n.jsx("option",{value:"all",children:"All Schools"}),he.length>0?he.map(ye=>n.jsx("option",{value:ye._id,children:ye.name},ye._id)):n.jsx("option",{disabled:!0,children:"No schools available"})]}),n.jsxs("select",{value:F,onChange:ye=>O(ye.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444] min-w-[150px]",children:[n.jsx("option",{value:"all",children:"All Classes"}),te.length>0?te.map(ye=>n.jsx("option",{value:ye,children:ye},ye)):n.jsx("option",{disabled:!0,children:"No classes available"})]}),n.jsxs("select",{value:k,onChange:ye=>V(ye.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444] min-w-[150px]",disabled:F==="all"||J.length===0,children:[n.jsx("option",{value:"all",children:"All Sections"}),J.length>0?J.map(ye=>n.jsx("option",{value:ye,children:ye},ye)):n.jsx("option",{disabled:!0,children:"No sections available"})]}),n.jsxs("button",{onClick:()=>le(!ee),className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-[#1C1444]",children:[n.jsx(mo,{className:"w-4 h-4 text-[#F37021]"}),n.jsx("span",{children:"Advanced Filters"})]})]}),ee&&n.jsx("div",{className:"border-t pt-4 mt-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Route"}),n.jsxs("select",{value:Q,onChange:ye=>H(ye.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[n.jsx("option",{value:"",children:"All Routes"}),xe.map(ye=>n.jsx("option",{value:ye,children:ye},ye))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Status"}),n.jsxs("select",{value:M,onChange:ye=>K(ye.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[n.jsx("option",{value:"",children:"All Status"}),ge.map(ye=>n.jsx("option",{value:ye,children:ye},ye))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Driver"}),n.jsxs("select",{value:q,onChange:ye=>re(ye.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[n.jsx("option",{value:"",children:"All Drivers"}),Ne.map(ye=>n.jsx("option",{value:ye,children:ye},ye))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Min Capacity"}),n.jsx("input",{type:"number",placeholder:"Min",value:Ae.min,onChange:ye=>ue({...Ae,min:ye.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"}),n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1 mt-2",children:"Max Capacity"}),n.jsx("input",{type:"number",placeholder:"Max",value:Ae.max,onChange:ye=>ue({...Ae,max:ye.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:pe,className:"w-full px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-[#1C1444]",children:"Clear Filters"})})]})})]}),p?n.jsxs("div",{className:"text-center py-12 text-[#1C1444]",children:[n.jsx(dl,{className:"w-12 h-12 mx-auto text-[#F37021] mb-4 animate-pulse"}),"Loading..."]}):v?n.jsx("div",{className:"text-center py-12 text-red-700 bg-red-50 rounded-lg p-4",children:v}):n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("h2",{className:"text-lg font-semibold text-[#1C1444]",children:["Buses (",X.length,")"]})}),n.jsx("div",{className:"relative overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-[800px]",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider min-w-[180px]",children:"Bus Details"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider min-w-[200px]",children:"Route & Driver"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider min-w-[180px]",children:"Schedule"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider min-w-[120px]",children:"Capacity"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider whitespace-nowrap",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider min-w-[120px]",children:"School"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider whitespace-nowrap",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:X.map(ye=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-12 h-12 bg-[#F37021]/10 rounded-lg flex items-center justify-center",children:n.jsx(dl,{className:"w-6 h-6 text-[#F37021]"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-[#1C1444]",children:ye.busNumber}),n.jsx("div",{className:"text-sm text-[#1C1444]",children:ye.transportType||"Bus"})]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-sm text-[#1C1444]",children:[n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx(iI,{className:"w-4 h-4 mr-2 text-[#F37021]"}),ye.routeName||ye.route]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ts,{className:"w-4 h-4 mr-2 text-[#F37021]"}),ye.driverName]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-sm text-[#1C1444]",children:[n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx(Ea,{className:"w-4 h-4 mr-2 text-[#F37021]"}),ye.startTime||ye.pickupTime," -"," ",ye.endTime||ye.dropoffTime]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(OX,{className:"w-4 h-4 mr-2 text-[#F37021]"}),Array.isArray(ye.operatingDays)?ye.operatingDays.join(", "):""]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{className:"font-medium text-[#1C1444]",children:[ye.currentOccupancy??0,"/",ye.totalCapacity??ye.capacity??0]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:n.jsx("div",{className:"bg-[#F37021] h-2 rounded-full",style:{width:`${(ye.currentOccupancy??0)/(ye.totalCapacity??ye.capacity??1)*100}%`}})})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full border ${de(ye.status)}`,children:ye.status})}),n.jsx("td",{className:"px-6 py-4",children:ye.schoolId&&typeof ye.schoolId=="object"?n.jsxs("span",{className:"flex items-center text-[#1C1444]",children:[n.jsx(Kn,{className:"w-4 h-4 mr-1 text-[#F37021]"}),ye.schoolId.name||"Unknown School"]}):n.jsxs("span",{className:"flex items-center text-[#1C1444]",children:[n.jsx(Kn,{className:"w-4 h-4 mr-1 text-[#F37021]"}),b.find(Ce=>Ce._id===ye.schoolId)?.name||"Unknown School"]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsx("div",{className:"flex space-x-2",children:n.jsx("button",{onClick:()=>Le(ye),className:"text-[#F37021] hover:text-[#d65f1c] p-1 rounded hover:bg-[#F37021]/10",title:"View Details",children:n.jsx(ys,{className:"w-4 h-4"})})})})]},ye._id))})]})}),X.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(dl,{className:"w-12 h-12 mx-auto text-[#F37021] mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:"No buses match your filters"}),n.jsx("button",{onClick:pe,className:"text-[#F37021] hover:text-[#d65f1c] underline",children:"Clear filters to see all buses"})]}),!p&&oe>0&&n.jsxs("div",{className:"mt-6 flex justify-between items-center p-6 border-t border-gray-200",children:[n.jsxs("div",{className:"text-sm text-[#1C1444]",children:["Showing ",(se-1)*_+1," to"," ",Math.min(se*_,oe)," of"," ",oe," records"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>je(se-1),disabled:se===1,className:"px-4 py-2 bg-[#F37021] text-white rounded-lg disabled:opacity-50 hover:bg-[#d65f1c] transition-colors",children:"Previous"}),n.jsx("button",{onClick:()=>je(se+1),disabled:se===z,className:"px-4 py-2 bg-[#F37021] text-white rounded-lg disabled:opacity-50 hover:bg-[#d65f1c] transition-colors",children:"Next"})]})]})]}),a&&l&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[n.jsxs("h2",{className:"text-xl font-bold text-[#1C1444] flex items-center",children:[n.jsx("div",{className:"w-8 h-8 bg-[#F37021]/10 rounded-lg flex items-center justify-center mr-3",children:n.jsx(ys,{className:"text-[#F37021]"})}),"Bus Details"]}),n.jsx("button",{onClick:ie,className:"text-[#1C1444] hover:text-[#F37021]",children:n.jsx(cr,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[n.jsx("div",{className:"w-20 h-20 bg-[#F37021]/10 rounded-full flex items-center justify-center",children:n.jsx(dl,{className:"w-10 h-10 text-[#F37021]"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-2xl font-bold text-[#1C1444]",children:l.busNumber}),n.jsx("p",{className:"text-[#1C1444]",children:l.routeName||l.route}),n.jsx("p",{className:"text-[#1C1444]",children:l.schoolId&&typeof l.schoolId=="object"?l.schoolId.name||"Unknown School":b.find(ye=>ye._id===l.schoolId)?.name||"Unknown School"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(iI,{className:"w-5 h-5 text-[#F37021]"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-[#1C1444]",children:"Route"}),n.jsx("p",{className:"font-medium text-[#1C1444]",children:l.routeName||l.route})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ts,{className:"w-5 h-5 text-[#F37021]"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-[#1C1444]",children:"Driver"}),n.jsx("p",{className:"font-medium text-[#1C1444]",children:l.driverName})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(vu,{className:"w-5 h-5 text-[#F37021]"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-[#1C1444]",children:"Driver Phone"}),n.jsx("p",{className:"font-medium text-[#1C1444]",children:l.driverPhone})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ea,{className:"w-5 h-5 text-[#F37021]"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-[#1C1444]",children:"Start Time"}),n.jsx("p",{className:"font-medium text-[#1C1444]",children:l.startTime||l.pickupTime})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ea,{className:"w-5 h-5 text-[#F37021]"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-[#1C1444]",children:"End Time"}),n.jsx("p",{className:"font-medium text-[#1C1444]",children:l.endTime||l.dropoffTime})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(da,{className:"w-5 h-5 text-[#F37021]"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-[#1C1444]",children:"Capacity"}),n.jsxs("p",{className:"font-medium text-[#1C1444]",children:[l.currentOccupancy??0,"/",l.totalCapacity??l.capacity??0]})]})]})]})]}),Array.isArray(l.routeStops)&&l.routeStops.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-[#1C1444] mt-6 mb-2",children:"Route Stops"}),n.jsx("ul",{className:"space-y-2",children:l.routeStops.map((ye,Ce)=>n.jsxs("li",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center font-bold text-[#F37021]",children:ye.stopOrder}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-[#1C1444]",children:ye.stopName}),n.jsxs("div",{className:"text-xs text-[#1C1444]",children:[ye.stopTime," ",ye.landmark&&` ${ye.landmark}`]})]})]},ye._id||Ce))})]}),Array.isArray(l.assignedStudents)&&l.assignedStudents.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-[#1C1444] mt-6 mb-2",children:"Assigned Students"}),n.jsx("ul",{className:"space-y-2",children:l.assignedStudents.map((ye,Ce)=>n.jsxs("li",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center font-bold text-[#F37021]",children:Ce+1}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-[#1C1444]",children:ye.studentId?.name||"Unknown Student"}),n.jsxs("div",{className:"text-xs text-[#1C1444]",children:["Roll: ",ye.studentId?.rollNumber||"N/A"," | Class:"," ",(()=>{const be=B.find(Ee=>Ee._id===ye.studentId?.classId);return be?`${be.className}${be.section?`-${be.section}`:""}`:"Unknown Class"})(),"| Payment: ",ye.paymentStatus||"N/A"]})]})]},ye._id||Ce))})]})]})]})})]})]})},zje=()=>{const[t,r]=w.useState([]),[a,s]=w.useState(!0),[i,o]=w.useState(null),[l,c]=w.useState(""),[d,f]=w.useState(""),[u,m]=w.useState(!1),[p,g]=w.useState({start:"",end:""});w.useEffect(()=>{(async()=>{try{const O=(await It.get("https://vidyaastra.com/api/diary/all-unfiltered")).data.data.map(k=>({id:k._id,title:k.title,date:k.date,content:k.content,category:k.category}));r(O)}catch(I){console.error("Failed to fetch diary entries:",I),o("Failed to load diary entries.")}finally{s(!1)}})()},[]);const v=[...new Set(t.map(B=>B.category))].filter(Boolean),y=t.filter(B=>{const I=B.title.toLowerCase().includes(l.toLowerCase())||B.content.toLowerCase().includes(l.toLowerCase())||B.category.toLowerCase().includes(l.toLowerCase()),F=!d||B.category===d;let O=!0;if(p.start&&p.end){const k=new Date(B.date).toISOString().split("T")[0];O=k>=p.start&&k<=p.end}return I&&F&&O}),b=()=>{c(""),f(""),g({start:"",end:""})},j=()=>{if(y.length===0){alert("No data to export");return}const B=y.map(Q=>({Title:Q.title,Date:S(Q.date),Category:Q.category,Content:Q.content})),I=Object.keys(B[0]),F=[I.join(","),...B.map(Q=>I.map(H=>`"${Q[H]}"`).join(","))].join(`
`),O=new Blob([F],{type:"text/csv;charset=utf-8;"}),k=document.createElement("a"),V=URL.createObjectURL(O);k.setAttribute("href",V),k.setAttribute("download",`diary_entries_${new Date().toISOString().split("T")[0]}.csv`),k.style.visibility="hidden",document.body.appendChild(k),k.click(),document.body.removeChild(k)},N=B=>{switch(B){case"Academic":return"bg-blue-100 text-blue-700";case"Personal":return"bg-orange-100 text-orange-700";case"Sports":return"bg-green-100 text-green-700";case"Projects":return"bg-purple-100 text-purple-700";default:return"bg-gray-100 text-gray-700"}},S=B=>new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"});return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-6 rounded-b-3xl shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(IA,{className:"w-6 h-6"}),n.jsx("h1",{className:"text-2xl font-bold",children:"My Diary"})]}),n.jsxs("button",{onClick:j,className:"bg-white bg-opacity-20 text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2 hover:bg-opacity-30 transition-all",title:"Export to CSV",disabled:a,children:[n.jsx(Us,{})," ",n.jsx("span",{children:"Export CSV"})]})]}),n.jsx("p",{className:"text-purple-100 mt-2",children:"Personal notes and thoughts"})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:[n.jsxs("div",{className:"relative mb-4",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search diary entries by title, content, or category...",value:l,onChange:B=>c(B.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",y.length," of ",t.length," entries"]}),n.jsxs("button",{onClick:()=>m(!u),className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[n.jsx(mo,{}),n.jsx("span",{children:"Advanced Filters"})]})]})}),u&&n.jsx("div",{className:"border-t pt-4 mt-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),n.jsxs("select",{value:d,onChange:B=>f(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[n.jsx("option",{value:"",children:"All Categories"}),v.map(B=>n.jsx("option",{value:B,children:B},B))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date From"}),n.jsx("input",{type:"date",value:p.start,onChange:B=>g({...p,start:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date To"}),n.jsx("input",{type:"date",value:p.end,onChange:B=>g({...p,end:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-gray-700",children:"Clear Filters"})})]})})]}),n.jsx("div",{className:"overflow-x-auto",children:a?n.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading..."}):i?n.jsx("div",{className:"text-center py-12 text-red-500",children:i}):y.length===0&&t.length>0?n.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[n.jsx(IA,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"No diary entries match your filters"}),n.jsx("button",{onClick:b,className:"text-purple-600 hover:text-purple-800 underline",children:"Clear filters to see all entries"})]}):t.length===0?n.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[n.jsx(IA,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),n.jsx("p",{className:"text-gray-500 text-lg",children:"No diary entries yet"}),n.jsx("p",{className:"text-gray-400",children:"Start writing your thoughts!"})]}):n.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Title"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Date"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Content"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Category"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:y.map(B=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"py-4 px-4 font-medium text-gray-900",children:B.title}),n.jsx("td",{className:"py-4 px-4 text-gray-600",children:S(B.date)}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("div",{className:"line-clamp-2 max-w-prose text-gray-600",children:B.content})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${N(B.category)}`,children:B.category})})]},B.id))})]})})})]})]})},Vje=()=>{const[t,r]=w.useState([]),[a,s]=w.useState(!0),[i,o]=w.useState(null),[l,c]=w.useState({key:"date",direction:"asc"}),[d,f]=w.useState("All"),[u,m]=w.useState(!1),[p,g]=w.useState(""),[v,y]=w.useState(!1),[b,j]=w.useState({start:"",end:""}),[N,S]=w.useState("All"),[B,I]=w.useState("All"),[F,O]=w.useState("All"),[k,V]=w.useState(1),[Q]=w.useState(10),[H,M]=w.useState(1),[K,q]=w.useState(0),re=["All","Sports","Academics","Cultural","Meeting","Other"],ee=["All","Morning","Afternoon","Evening"],le=J=>({Sports:"",Academics:"",Cultural:"",Meeting:"",Other:""})[J]||"",Ae=J=>{switch(J){case"Sports":return"bg-[#F37021]/10 text-[#F37021]";case"Academics":return"bg-green-100 text-green-700";case"Cultural":return"bg-purple-100 text-purple-700";case"Meeting":return"bg-yellow-100 text-yellow-700";case"Other":return"bg-gray-100 text-[#1C1444]";default:return"bg-gray-100 text-[#1C1444]"}},ue=["All",...Array.from(new Map(t.filter(J=>J.schoolId&&J.schoolId._id&&J.schoolId.name).map(J=>[J.schoolId._id,J.schoolId.name])).values())],se=["All",...new Set(t.map(J=>J.location).filter(Boolean))],_=(()=>{let J=[...t];if(p){const X=p.toLowerCase();J=J.filter(xe=>xe.title.toLowerCase().includes(X)||xe.description.toLowerCase().includes(X)||xe.location.toLowerCase().includes(X))}return d!=="All"&&(J=J.filter(X=>X.category===d)),N!=="All"&&(J=J.filter(X=>X.location===N)),F!=="All"&&(J=J.filter(X=>X.schoolId&&(typeof X.schoolId=="object"&&X.schoolId.name===F||X.schoolId===F))),b.start&&(J=J.filter(X=>new Date(X.date)>=new Date(b.start))),b.end&&(J=J.filter(X=>new Date(X.date)<=new Date(b.end))),B!=="All"&&(J=J.filter(X=>{const xe=Number.parseInt((X.startTime||X.time&&X.time.split(" - ")[0]||"09:00").split(":")[0]);return B==="Morning"?xe>=6&&xe<12:B==="Afternoon"?xe>=12&&xe<17:B==="Evening"?xe>=17||xe<6:!0})),J})(),z=[..._].sort((J,X)=>J[l.key]<X[l.key]?l.direction==="asc"?-1:1:J[l.key]>X[l.key]?l.direction==="asc"?1:-1:0),ae=J=>{let X="asc";l.key===J&&l.direction==="asc"&&(X="desc"),c({key:J,direction:X})},oe=()=>{const J=["Event Title","Date","Start Time","End Time","Location","Category","School","Description"],X=z.map(Y=>[`"${Y.title}"`,`"${new Date(Y.date).toLocaleDateString()}"`,`"${Y.startTime}"`,`"${Y.endTime}"`,`"${Y.location}"`,`"${Y.category}"`,`"${Y.schoolId&&Y.schoolId.name?Y.schoolId.name:""}"`,`"${(Y.description||"").replace(/"/g,'""')}"`]),xe=[J.join(","),...X.map(Y=>Y.join(","))].join(`
`),Ne=new Blob([xe],{type:"text/csv;charset=utf-8;"}),ge=document.createElement("a"),pe=URL.createObjectURL(Ne);ge.setAttribute("href",pe),ge.setAttribute("download",`events_${new Date().toISOString().split("T")[0]}.csv`),ge.style.visibility="hidden",document.body.appendChild(ge),ge.click(),document.body.removeChild(ge)},ce=()=>{g(""),f("All"),S("All"),I("All"),j({start:"",end:""}),O("All"),V(1)};w.useEffect(()=>{(async()=>{try{s(!0);const X=await It.get("https://vidyaastra.com/api/events/global",{params:{page:k,limit:Q}});if(X.data.success){const Ne=X.data.data.map(ge=>{let pe="09:00",Y="17:00";if(ge.time&&typeof ge.time=="string"){const Le=ge.time.split(" - ");pe=Le[0]||"09:00",Y=Le[1]||"17:00"}else ge.startTime&&ge.endTime&&(pe=ge.startTime,Y=ge.endTime);return{id:ge._id||"unknown-id",title:ge.title||"Untitled Event",date:ge.date||new Date().toISOString().split("T")[0],startTime:pe,endTime:Y,location:ge.location||"Unknown Location",category:ge.category||"Other",description:ge.description||"",icon:le(ge.category||"Other"),schoolId:ge.schoolId||null}});r(Ne),M(X.data.totalPages),q(X.data.total),o(null)}else throw new Error(X.data.message||"No events found")}catch{o("Failed to load events. Please check the API and try again.")}finally{s(!1)}})()},[k,Q]);const me=()=>{k>1&&V(k-1)},he=()=>{k<H&&V(k+1)},te=J=>{J>=1&&J<=H&&V(J)};return a?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#F37021]"})}):i?n.jsx("div",{className:"container mx-auto px-4 py-6",children:n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[n.jsx("strong",{className:"font-bold",children:"Error!"}),n.jsxs("span",{className:"block sm:inline",children:[" ",i]})]})}):n.jsxs("div",{className:"container mx-auto px-4 py-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-[#1C1444]",children:"All Events"}),n.jsx("div",{className:"flex space-x-4",children:n.jsxs("button",{onClick:oe,className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[n.jsx(Us,{className:"w-4 h-4 text-white"}),n.jsx("span",{children:"Export CSV"})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 mb-6",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search events by title, description, or location...",value:p,onChange:J=>g(J.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"})]}),n.jsx("select",{value:d,onChange:J=>f(J.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:re.map(J=>n.jsx("option",{value:J,children:J},J))}),n.jsx("select",{value:F,onChange:J=>O(J.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:ue.map((J,X)=>J==="All"?n.jsx("option",{value:"All",children:"All Schools"},"all-schools"):n.jsx("option",{value:J,children:J},J))}),n.jsxs("button",{onClick:()=>y(!v),className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[n.jsx(mo,{className:"w-4 h-4 text-white"}),n.jsx("span",{children:"Filters"})]})]}),v&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:[n.jsx(K0,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"Location"]}),n.jsx("select",{value:N,onChange:J=>S(J.target.value),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:se.map(J=>n.jsx("option",{value:J,children:J},J))})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:[n.jsx(Ea,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"Time"]}),n.jsx("select",{value:B,onChange:J=>I(J.target.value),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:ee.map(J=>n.jsx("option",{value:J,children:J},J))})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:[n.jsx(ia,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"Start Date"]}),n.jsx("input",{type:"date",value:b.start,onChange:J=>j(X=>({...X,start:J.target.value})),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:[n.jsx(ia,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"End Date"]}),n.jsx("input",{type:"date",value:b.end,onChange:J=>j(X=>({...X,end:J.target.value})),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"})]})]}),n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsxs("button",{onClick:ce,className:"text-[#1C1444] hover:text-[#F37021] px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[n.jsx(cr,{className:"w-4 h-4 text-[#F37021]"}),n.jsx("span",{children:"Clear Filters"})]})})]}),n.jsxs("div",{className:"mt-4 text-sm text-[#1C1444]",children:["Showing ",z.length," of ",K," events",(p||d!=="All"||N!=="All"||F!=="All"||B!=="All"||b.start||b.end)&&n.jsx("span",{className:"ml-2 text-[#F37021]",children:"(filtered)"})]})]}),n.jsx("div",{className:"relative overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-[640px] bg-white rounded-lg shadow-sm border",children:[n.jsx("thead",{className:"bg-gray-100",children:n.jsxs("tr",{children:[n.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider cursor-pointer",onClick:()=>ae("title"),children:["Event"," ",l.key==="title"&&(l.direction==="asc"?"":"")]}),n.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider cursor-pointer",onClick:()=>ae("date"),children:["Date"," ",l.key==="date"&&(l.direction==="asc"?"":"")]}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Time"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Location"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"School"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:z.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-[#1C1444]",children:_.length===0&&t.length>0?n.jsxs("div",{children:[n.jsx("p",{children:"No events found matching your search criteria."}),n.jsx("button",{onClick:ce,className:"mt-2 text-[#F37021] hover:text-[#d65f1c] underline",children:"Clear filters to see all events"})]}):"No events found"})}):z.map(J=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 min-w-[200px]",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:`text-xl mr-3 ${Ae(J.category)} rounded-full p-2`,children:J.icon}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-[#1C1444]",children:J.title}),n.jsx("div",{className:"text-[#1C1444] text-sm mt-1 line-clamp-2",children:J.description})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:new Date(J.date).toLocaleDateString()}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:[J.startTime," - ",J.endTime]}),n.jsx("td",{className:"px-6 py-4 text-sm text-[#1C1444] min-w-[120px]",children:J.location}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${Ae(J.category)}`,children:J.category})}),n.jsx("td",{className:"px-6 py-4 text-sm text-[#1C1444] min-w-[120px]",children:J.schoolId&&J.schoolId.name?n.jsxs("span",{className:"flex items-center",children:[n.jsx(Kn,{className:"w-4 h-4 mr-1 text-[#F37021]"}),J.schoolId.name]}):"N/A"})]},J.id))})]})}),K>0&&n.jsxs("div",{className:"mt-6 flex items-center justify-between bg-white rounded-lg shadow-sm border p-4",children:[n.jsxs("div",{className:"text-sm text-[#1C1444]",children:["Page ",k," of ",H]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:me,disabled:k===1,className:`px-3 py-2 rounded-lg ${k===1?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:n.jsx(yo,{})}),Array.from({length:H},(J,X)=>X+1).filter(J=>J===1||J===H||J>=k-2&&J<=k+2).map(J=>n.jsx("button",{onClick:()=>te(J),className:`px-3 py-1 rounded-lg ${k===J?"bg-[#F37021] text-white":"bg-gray-100 text-[#1C1444] hover:bg-gray-200"}`,children:J},J)),n.jsx("button",{onClick:he,disabled:k===H,className:`px-3 py-2 rounded-lg ${k===H?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:n.jsx(Ni,{})})]})]})]})},Kje=()=>{const[t,r]=w.useState({upcoming:[],past:[]}),[a,s]=w.useState(""),[i,o]=w.useState("all"),[l,c]=w.useState("all"),[d,f]=w.useState(""),[u,m]=w.useState(""),[p,g]=w.useState([]),[v,y]=w.useState(!1),[b,j]=w.useState(!0),[N,S]=w.useState(null),[B,I]=w.useState({}),[F,O]=w.useState({}),[k,V]=w.useState(1),[Q]=w.useState(10),[H,M]=w.useState(0),[K,q]=w.useState(1),re="https://vidyaastra.com/api/birthdays/all",ee="https://vidyaastra.com/api/schools/",le="https://vidyaastra.com/api/teachers/",Ae="https://vidyaastra.com/api/class";w.useEffect(()=>{(async()=>{try{j(!0);const de=await It.get(`${re}?page=${k}&limit=${Q}`);if(!de.data.success)throw new Error(de.data.message||"Failed to fetch birthdays");if(!Array.isArray(de.data.data))throw new Error("Invalid data format received from server");M(de.data.total||0),q(de.data.totalPages||1);const je=[...new Set(de.data.data.filter(Te=>Te.role?.toLowerCase()==="teacher").map(Te=>Te._id).filter(Boolean))],ye={};await Promise.all(je.map(async Te=>{try{const nt=await It.get(`${le}${Te}`);nt.data.success&&nt.data.data?.name?ye[Te]=nt.data.data.name:ye[Te]="Unknown"}catch{ye[Te]="Unknown"}})),O(ye);const Ce=[...new Set(de.data.data.map(Te=>typeof Te.schoolId=="object"?Te.schoolId?._id:Te.schoolId).filter(Boolean))],be={};await Promise.all(Ce.map(async Te=>{try{const nt=await It.get(`${ee}${Te}`);nt.data.success&&nt.data.data?.name?be[Te]=nt.data.data.name:be[Te]="Unknown School"}catch{be[Te]="Unknown School"}})),I(be);let Ee=[];if(l==="all")await Promise.all(Ce.map(async Te=>{try{const nt=await It.get(`${Ae}?schoolId=${Te}`);if(nt.data.success&&Array.isArray(nt.data.data)){const xt=nt.data.data.map(it=>({_id:it._id,className:it.className||"Unknown",section:it.section||"",schoolId:it.schoolId||Te}));Ee=[...Ee,...xt]}}catch(nt){console.error(`Failed to fetch classes for school ${Te}:`,nt.message)}}));else{const Te=await It.get(`${Ae}?schoolId=${l}`);Te.data.success&&Array.isArray(Te.data.data)&&(Ee=Te.data.data.map(nt=>({_id:nt._id,className:nt.className||"Unknown",section:nt.section||"",schoolId:nt.schoolId||l})))}g(Ee);let Qe={upcoming:[],past:[]};const rt=new Date;Qe.upcoming=de.data.data.filter(Te=>{const nt=new Date(Te.date);return nt.setFullYear(rt.getFullYear()),nt<rt&&nt.setFullYear(rt.getFullYear()+1),nt>=rt}),Qe.past=de.data.data.filter(Te=>{const nt=new Date(Te.date);return nt.setFullYear(rt.getFullYear()),nt<rt}),Qe.upcoming=Qe.upcoming.map(Te=>({...Te,_id:Te._id||"unknown-id",name:Te.role?.toLowerCase()==="teacher"?ye[Te._id]||Te.name||"Unknown":Te.name||"Unknown",role:Te.role||"Unknown",date:Te.date||new Date().toISOString().split("T")[0],type:Te.type||"upcoming",classId:Te.classId||null})),Qe.past=Qe.past.map(Te=>({...Te,_id:Te._id||"unknown-id",name:Te.role?.toLowerCase()==="teacher"?ye[Te._id]||Te.name||"Unknown":Te.name||"Unknown",role:Te.role||"Unknown",date:Te.date||new Date().toISOString().split("T")[0],type:Te.type||"past",classId:Te.classId||null})),r(Qe),S(null)}catch(de){S("Failed to load data: "+de.message)}finally{j(!1)}})()},[k,Q,l]),w.useEffect(()=>{m("")},[d]);const ue=[...Array.isArray(t.upcoming)?t.upcoming:[],...Array.isArray(t.past)?t.past:[]],ve=[...new Set(ue.map(ie=>typeof ie.schoolId=="object"?ie.schoolId?._id:ie.schoolId).filter(Boolean))].map(ie=>({_id:ie,name:B[ie]||"Unknown School"})),_=w.useMemo(()=>[...new Set(p.filter(ie=>!l||ie.schoolId===l).map(ie=>ie.className).filter(Boolean))].sort(),[p,l]),z=w.useMemo(()=>d?[...new Set(p.filter(ie=>ie.className===d&&(!l||ie.schoolId===l)).map(ie=>ie.section).filter(Boolean))].sort():[],[p,d,l]),ae=ie=>{if(!/\d{4}/.test(ie))return null;const de=new Date,je=new Date(ie);let ye=de.getFullYear()-je.getFullYear();const Ce=de.getMonth()-je.getMonth();return(Ce<0||Ce===0&&de.getDate()<je.getDate())&&ye--,ye},oe=ie=>{const de=new Date,je=new Date(ie),ye=de.getFullYear(),Ce=new Date(ye,je.getMonth(),je.getDate());return Ce<de&&Ce.setFullYear(ye+1),Math.ceil((Ce-de)/(1e3*60*60*24))},ce=ie=>new Date(ie).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),me=ie=>{const je={student:{color:"bg-[#F37021]/10 text-[#F37021]",icon:da,text:"Student"},teacher:{color:"bg-green-100 text-green-800",icon:da,text:"Teacher"},staff:{color:"bg-yellow-100 text-yellow-800",icon:da,text:"Staff"}}[ie?.toLowerCase()]||{color:"bg-gray-100 text-[#1C1444]",icon:da,text:ie||"Unknown"},ye=je.icon;return n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${je.color}`,children:[n.jsx(ye,{className:"w-3 h-3 mr-1"}),je.text]})},he=ie=>ie===0?n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[n.jsx(ff,{className:"w-3 h-3 mr-1"}),"Today!"]}):ie<=7?n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[n.jsx(Ea,{className:"w-3 h-3 mr-1"}),ie," days"]}):ie<=30?n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[n.jsx(ia,{className:"w-3 h-3 mr-1"}),ie," days"]}):n.jsxs("span",{className:"text-sm text-[#1C1444]",children:[ie," days"]}),te=w.useMemo(()=>ue.filter(ie=>{const de=ie.name?.toLowerCase().includes(a.toLowerCase())||!1,je=new Date(ie.date).getMonth()+1,ye=i==="all"||je.toString()===i,Ce=l==="all"||(typeof ie.schoolId=="object"?ie.schoolId?._id===l:ie.schoolId===l),be=!d||ie.classId&&p.find(Ee=>Ee._id===ie.classId)?.className===d&&(!u||p.find(Ee=>Ee._id===ie.classId)?.section===u);return de&&ye&&Ce&&be}),[ue,a,i,l,d,u,p]),J=[{value:"1",label:"January"},{value:"2",label:"February"},{value:"3",label:"March"},{value:"4",label:"April"},{value:"5",label:"May"},{value:"6",label:"June"},{value:"7",label:"July"},{value:"8",label:"August"},{value:"9",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],X=w.useMemo(()=>{const ie=ue.length,de=ue.filter(Ce=>oe(Ce.date)===0).length,je=ue.filter(Ce=>oe(Ce.date)<=7).length,ye=ue.filter(Ce=>oe(Ce.date)<=30).length;return{total:ie,todayBirthdays:de,thisWeekBirthdays:je,thisMonthBirthdays:ye}},[ue]),xe=()=>{const ie=te.map(be=>{const Ee=typeof be.schoolId=="object"?be.schoolId?._id:be.schoolId,Qe=be.classId?p.find(rt=>rt._id===be.classId):null;return{Name:be.name,Role:be.role||"Unknown","Birth Date":ce(be.date),Age:ae(be.date)!==null?`${ae(be.date)} years`:"N/A","Days Until Birthday":oe(be.date),Type:be.type,"Birth Month":new Date(be.date).toLocaleDateString("en-US",{month:"long"}),"Birth Day":new Date(be.date).getDate(),Class:Qe?`${Qe.className}${Qe.section?`-${Qe.section}`:""}`:"N/A",Section:Qe&&Qe.section||"N/A","School Name":Ee?B[Ee]||"Unknown School":"N/A"}}),de=[Object.keys(ie[0]).map(be=>`"${be}"`).join(","),...ie.map(be=>Object.values(be).map(Ee=>`"${Ee}"`).join(","))].join(`
`),je=new Blob([de],{type:"text/csv;charset=utf-8;"}),ye=document.createElement("a"),Ce=URL.createObjectURL(je);ye.setAttribute("href",Ce),ye.setAttribute("download",`birthdays_${new Date().toISOString().split("T")[0]}.csv`),ye.style.visibility="hidden",document.body.appendChild(ye),ye.click(),document.body.removeChild(ye)},Ne=()=>{s(""),o("all"),c("all"),f(""),m(""),V(1)},ge=a||i!=="all"||l!=="all"||d||u,pe=()=>{k>1&&V(k-1)},Y=()=>{k<K&&V(k+1)},Le=ie=>{V(ie)};return b?n.jsx("div",{className:"flex justify-center items-center h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#F37021]"})}):N?n.jsx("div",{className:"container mx-auto px-4 py-6",children:n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[n.jsx("strong",{className:"font-bold",children:"Error!"}),n.jsxs("span",{className:"block sm:inline",children:[" ",N]})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"bg-gradient-to-r from-[#1C1444] to-[#1C1444] text-white p-6 rounded-b-3xl shadow-lg",children:[n.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ff,{className:"w-6 h-6 text-[#F37021]"}),n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Birthday Management"})]}),n.jsx("div",{className:"flex items-center space-x-3",children:n.jsxs("button",{onClick:xe,className:"flex items-center space-x-2 bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-xl transition-all",children:[n.jsx(Us,{className:"w-4 h-4 text-white"}),n.jsx("span",{children:"Export CSV"})]})})]}),n.jsx("p",{className:"container mx-auto text-[#F37021] mt-2",children:"Track and manage birthdays for students, teachers, and staff"})]}),n.jsx("div",{className:"container mx-auto p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Total Records",value:X.total,color:"blue",icon:da},{label:"Today's Birthdays",value:X.todayBirthdays,color:"red",icon:ff},{label:"This Week",value:X.thisWeekBirthdays,color:"orange",icon:Ea},{label:"This Month",value:X.thisMonthBirthdays,color:"yellow",icon:ia}].map((ie,de)=>n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-[#1C1444]",children:ie.label}),n.jsx("p",{className:"text-2xl font-bold text-[#1C1444]",children:ie.value})]}),n.jsx("div",{className:"p-3 bg-[#F37021]/10 rounded-xl",children:n.jsx(ie.icon,{className:"w-6 h-6 text-[#F37021]"})})]})},de))}),n.jsx("div",{className:"container mx-auto px-6 mb-6",children:n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Search name...",value:a,onChange:ie=>s(ie.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"})]}),n.jsxs("select",{value:l,onChange:ie=>{c(ie.target.value),f(""),m(""),V(1)},className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[n.jsx("option",{value:"all",children:"All Schools"}),ve.map(ie=>n.jsx("option",{value:ie._id,children:ie.name},ie._id))]}),n.jsxs("select",{value:d,onChange:ie=>f(ie.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",disabled:b||_.length===0,children:[n.jsx("option",{value:"",children:"All Classes"}),_.length===0?n.jsx("option",{value:"",disabled:!0,children:"No classes available"}):_.map(ie=>n.jsx("option",{value:ie,children:ie},ie))]}),n.jsxs("select",{value:u,onChange:ie=>m(ie.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",disabled:b||d===""||z.length===0,children:[n.jsx("option",{value:"",children:"All Sections"}),z.length===0?n.jsx("option",{value:"",disabled:!0,children:"No sections available"}):z.map(ie=>n.jsx("option",{value:ie,children:ie},ie))]}),n.jsxs("select",{value:i,onChange:ie=>o(ie.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[n.jsx("option",{value:"all",children:"All Months"}),J.map(ie=>n.jsx("option",{value:ie.value,children:ie.label},ie.value))]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("button",{onClick:()=>y(!v),className:"flex items-center space-x-2 text-[#F37021] hover:text-[#d65f1c] font-medium",children:[n.jsx(mo,{className:"w-4 h-4 text-[#F37021]"}),n.jsx("span",{children:"Advanced Filters"}),v?n.jsx(cr,{className:"w-4 h-4 text-[#F37021]"}):n.jsx(ys,{className:"w-4 h-4 text-[#F37021]"})]}),ge&&n.jsxs("button",{onClick:Ne,className:"flex items-center space-x-2 text-[#1C1444] hover:text-[#F37021] font-medium",children:[n.jsx(cr,{className:"w-4 h-4 text-[#F37021]"}),n.jsx("span",{children:"Clear Filters"})]})]})]})}),n.jsx("div",{className:"container mx-auto px-6 mb-4",children:n.jsxs("div",{className:"flex items-center justify-between text-sm text-[#1C1444]",children:[n.jsxs("span",{children:["Showing ",te.length," of ",H," birthdays",ge&&n.jsx("span",{className:"text-[#F37021]",children:" (filtered)"})]}),n.jsxs("span",{children:["Page ",k," of ",K]})]})}),n.jsxs("div",{className:"container mx-auto px-6 pb-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-[900px]",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Person"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Role"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Birth Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Age"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Next Birthday"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Section"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"School"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Type"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:te.map(ie=>{const de=typeof ie.schoolId=="object"?ie.schoolId?._id:ie.schoolId,je=ie.classId?p.find(ye=>ye._id===ie.classId):null;return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-[#1C1444]",children:ie.name})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:me(ie.role)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-[#1C1444]",children:ce(ie.date)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-[#1C1444]",children:ae(ie.date)!==null?`${ae(ie.date)} years`:"N/A"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:he(oe(ie.date))}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-[#1C1444]",children:je?`${je.className}${je.section?`-${je.section}`:""}`:"N/A"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-[#1C1444]",children:je&&je.section||"N/A"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:de?n.jsxs("span",{className:"flex items-center",children:[n.jsx(Kn,{className:"w-4 h-4 mr-1 text-[#F37021]"}),B[de]||"Unknown School"]}):"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${ie.type==="upcoming"?"bg-green-100 text-green-800":"bg-gray-100 text-[#1C1444]"}`,children:ie.type})})]},ie._id)})})]})}),te.length===0&&!b&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ff,{className:"w-12 h-12 text-[#F37021] mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:"No birthdays found"}),n.jsx("p",{className:"text-[#1C1444]",children:ge?"Try adjusting your search or filter criteria":"No birthday data available"}),ge&&n.jsx("button",{onClick:Ne,className:"mt-2 text-[#F37021] hover:text-[#d65f1c] font-medium",children:"Clear all filters"})]})]}),K>1&&n.jsxs("div",{className:"mt-6 flex justify-center items-center space-x-2",children:[n.jsxs("button",{onClick:pe,disabled:k===1,className:`px-4 py-2 rounded-xl flex items-center space-x-2 ${k===1?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:[n.jsx(yo,{className:"w-4 h-4"}),n.jsx("span",{children:"Previous"})]}),n.jsx("div",{className:"flex space-x-1",children:Array.from({length:K},(ie,de)=>de+1).map(ie=>n.jsx("button",{onClick:()=>Le(ie),className:`px-4 py-2 rounded-xl ${ie===k?"bg-[#F37021] text-white":"bg-white text-[#1C1444] hover:bg-gray-100"}`,children:ie},ie))}),n.jsxs("button",{onClick:Y,disabled:k===K,className:`px-4 py-2 rounded-xl flex items-center space-x-2 ${k===K?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:[n.jsx("span",{children:"Next"}),n.jsx(Ni,{className:"w-4 h-4"})]})]})]})]})},Gje=()=>{const[t,r]=w.useState([]),[a,s]=w.useState([]),[i,o]=w.useState(""),[l,c]=w.useState(!0),[d,f]=w.useState(!0),[u,m]=w.useState(null);w.useEffect(()=>{p()},[]);const p=async()=>{try{c(!0);const b=await It.get("https://vidyaastra.com/api/schools");b.data.success&&Array.isArray(b.data.data)?s(b.data.data):s([])}catch(b){console.error("Error fetching schools:",b.message),m("Failed to load schools")}finally{c(!1)}},g=w.useCallback(gU(async b=>{try{f(!0);const j=b?`https://vidyaastra.com/api/albums/all?schoolId=${b}`:"https://vidyaastra.com/api/albums/all",N=await It.get(j);if(N.data.success&&Array.isArray(N.data.albums)){const S=N.data.albums.map(B=>({...B,schoolName:a.find(I=>I._id===B.schoolId)?.name||"Unknown School",date:v(B.date)}));r(S),m(null)}else r([]),m("No albums found")}catch(j){console.error("Error fetching albums:",j.message),m("Failed to load albums"),r([])}finally{f(!1)}},300),[a]);w.useEffect(()=>{g(i)},[i,g]);const v=b=>{if(!b)return"No Date";if(/^\d{4}-\d{2}-\d{2}$/.test(b))return b;try{const j=new Date(b);return isNaN(j)?"Invalid Date":j.toISOString().slice(0,10)}catch{return"Invalid Date"}},y=t.filter(b=>!i||b.schoolId===i);return n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#1C1444]/5 to-white",children:[n.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-[#1C1444]/10 transition-all duration-300 hover:shadow-2xl mx-6 mt-6",children:[n.jsx("div",{className:"flex justify-between items-center mb-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(hB,{className:"w-6 h-6 text-[#F37021]"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-extrabold text-[#1C1444] tracking-tight",children:"Student Gallery"}),n.jsxs("p",{className:"text-[#1C1444]/80 text-lg mt-1",children:["School moments and memories",i&&y.length>0&&n.jsxs("span",{className:"ml-2 text-[#F37021] font-semibold",children:["(",a.find(b=>b._id===i)?.name||"Unknown School",")"]})]})]})]})}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"School"}),n.jsxs("div",{className:"relative w-full md:w-1/4",children:[n.jsxs("select",{value:i,onChange:b=>{b.preventDefault(),o(b.target.value)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:l||d||a.length===0,children:[n.jsx("option",{value:"",children:"All Schools"}),a.map(b=>n.jsx("option",{value:b._id,children:b.name||"Unknown School"},b._id))]}),n.jsx(mo,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#1C1444]/60 w-5 h-5"})]})]})]}),(l||d)&&n.jsx("div",{className:"p-6 bg-[#F37021]/10 text-[#F37021] rounded-2xl shadow-md text-center transition-all duration-300 mx-6",children:l?"Loading schools...":"Loading albums..."}),u&&!l&&!d&&n.jsx("div",{className:"p-6 bg-red-100 text-red-700 rounded-2xl shadow-md text-center transition-all duration-300 mx-6",children:u}),!l&&!d&&!u&&n.jsx("div",{className:"container mx-auto p-6",children:y.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(V0,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),n.jsx("h3",{className:"text-lg font-semibold text-[#1C1444] mb-2",children:"No albums found"}),n.jsx("p",{className:"text-[#1C1444]/80",children:i?"No albums found for this school. Try selecting a different school.":"Check back later for gallery updates."})]}):n.jsx("div",{className:"space-y-8",children:y.map(b=>n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-[#1C1444]/10 transition-all duration-300 hover:shadow-lg",children:[n.jsx("h2",{className:"text-xl font-bold text-[#1C1444] mb-2",children:b.title}),n.jsxs("p",{className:"text-sm text-[#1C1444]/80 mb-4",children:["School: ",b.schoolName," | Date: ",b.date]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:b.images.map((j,N)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:`https://vidyaastra.com${j.path}`,alt:b.title,className:"w-full h-48 object-cover rounded-xl shadow-sm transition-transform duration-200 hover:scale-105"}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-[#1C1444] bg-opacity-50 text-white p-2 rounded-b-xl",children:n.jsx("p",{className:"text-sm",children:new Date(b.createdAt).toLocaleDateString()})})]},N))})]},b._id))})})]})},Wje="https://vidyaastra.com/api/schools/",qje="https://vidyaastra.com/api/uniform/items/all-unfiltered",Yje=()=>{const[t,r]=w.useState({}),[a,s]=w.useState([]),[i,o]=w.useState({}),[l,c]=w.useState(!0),[d,f]=w.useState(null),[u,m]=w.useState("#2563eb"),[p,g]=w.useState(""),[v,y]=w.useState("all"),[b,j]=w.useState("all"),[N,S]=w.useState("all"),[B,I]=w.useState("all"),[F,O]=w.useState("all"),[k,V]=w.useState("all"),[Q,H]=w.useState("all");w.useEffect(()=>{const z=localStorage.getItem("color");m(z||"#2563eb"),(async()=>{c(!0);try{const ce=(await It.get(qje,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data.data,me=Array.isArray(ce)?ce:[ce],he=[...new Set(me.map(X=>(X.schoolId||"").trim()).filter(Boolean))],te={};await Promise.all(he.map(async X=>{try{const Ne=(await It.get(Wje+X,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;Ne.success&&Ne.data&&Ne.data.name?te[X]=`${Ne.data.name} (${Ne.data.schoolCode})`:te[X]="Unknown"}catch{te[X]="Unknown"}})),o(te);const J=me.map(X=>({...X,sizes:X.sizes||[],inStock:X.stock||0,image:X.imageUrl||"/placeholder.svg",schoolId:(X.schoolId||"").trim()||null,className:X.classId?`${X.classId.className} ${X.classId.section||""}`.trim():"N/A"}));s(J)}catch{f("Failed to load uniform items or schools.")}finally{c(!1)}})()},[]);const M=z=>`${z?.toLocaleString()}`,K=z=>z>30?{text:"In Stock",color:"bg-green-100 text-green-800"}:z>10?{text:"Low Stock",color:"bg-yellow-100 text-yellow-800"}:{text:"Out of Stock",color:"bg-red-100 text-red-800"},q=z=>z?i[z]||"Unknown":"N/A",ee=[...new Set(a.map(z=>z.schoolId).filter(Boolean))].map(z=>({id:z,displayName:q(z)}));[...new Set(a.map(z=>z.category).filter(Boolean))],[...new Set(a.flatMap(z=>z.sizes||[]).filter(Boolean))];const le=[...new Set(a.filter(z=>z.classId&&z.classId.className).map(z=>z.classId.className))].sort(),Ae=k==="all"?[]:[...new Set(a.filter(z=>z.classId&&z.classId.className===k&&z.classId.section).map(z=>z.classId.section).filter(Boolean))].sort(),ue=a.filter(z=>{const ae=z.name?.toLowerCase().includes(p.toLowerCase())||z.description?.toLowerCase().includes(p.toLowerCase())||z.category?.toLowerCase().includes(p.toLowerCase())||z.className?.toLowerCase().includes(p.toLowerCase())||q(z.schoolId).toLowerCase().includes(p.toLowerCase()),oe=v==="all"||z.category===v,ce=b==="all"||b==="under-500"&&z.price<500||b==="500-1000"&&z.price>=500&&z.price<=1e3||b==="1000-2000"&&z.price>1e3&&z.price<=2e3||b==="above-2000"&&z.price>2e3,me=N==="all"||N==="in-stock"&&z.inStock>30||N==="low-stock"&&z.inStock>0&&z.inStock<=30||N==="out-of-stock"&&z.inStock===0,he=B==="all"||z.sizes&&z.sizes.includes(B),te=F==="all"||F==="N/A"&&!z.schoolId||z.schoolId===F,J=k==="all"||z.classId&&z.classId.className===k,X=Q==="all"||z.classId&&z.classId.section===Q;return ae&&oe&&ce&&me&&he&&te&&J&&X}),se=()=>{g(""),y("all"),j("all"),S("all"),I("all"),O("all"),V("all"),H("all")},ve=p||v!=="all"||b!=="all"||N!=="all"||B!=="all"||F!=="all"||k!=="all"||Q!=="all",_=()=>{const z=["School Name","Item Name","Description","Category","Price ()","Class","Section","Sizes Available","Stock Quantity","Stock Status"],ae=ue.map(te=>[q(te.schoolId),te.name||"",te.description||"",te.category||"",te.price||0,te.classId?te.classId.className:"N/A",te.classId&&te.classId.section||"N/A",(te.sizes||[]).join("; ")||"N/A",te.inStock||0,K(te.inStock).text]),oe=[z,...ae].map(te=>te.map(J=>`"${J}"`).join(",")).join(`
`),ce=new Blob([oe],{type:"text/csv;charset=utf-8;"}),me=document.createElement("a"),he=URL.createObjectURL(ce);me.setAttribute("href",he),me.setAttribute("download",`uniforms_${new Date().toISOString().split("T")[0]}.csv`),me.style.visibility="hidden",document.body.appendChild(me),me.click(),document.body.removeChild(me)};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"bg-[#1C1444]  text-white p-6 rounded-b-3xl shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ul,{className:"w-6 h-6"}),n.jsx("h1",{className:"text-2xl font-bold",children:"School Uniform"})]}),n.jsx("div",{className:"flex items-center space-x-3",children:n.jsxs("button",{onClick:_,className:"flex items-center space-x-2 bg-[#F37021] hover:bg-[#D95F1C] px-4 py-2 rounded-xl transition-all text-white",children:[n.jsx(Us,{className:"w-4 h-4"}),n.jsx("span",{children:"Export CSV"})]})})]}),n.jsx("p",{className:"text-gray-200 mt-2",children:"School uniform inventory and orders"})]}),n.jsx("div",{className:"p-6 pb-0",children:n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Search & Filters"}),ve&&n.jsxs("button",{onClick:se,className:"flex items-center space-x-1 text-sm text-gray-600 hover:text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-100",children:[n.jsx(cr,{className:"w-4 h-4"}),n.jsx("span",{children:"Clear Filters"})]})]}),n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-black w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Search uniforms by school, name, description, class, or category...",value:p,onChange:z=>g(z.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#F37021] focus:border-transparent placeholder:text-black"})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-7 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"School"}),n.jsxs("select",{value:F,onChange:z=>{z.preventDefault(),O(z.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Schools"}),ee.map(z=>n.jsx("option",{value:z.id,children:z.displayName},z.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Class"}),n.jsxs("select",{value:k,onChange:z=>{z.preventDefault(),V(z.target.value),H("all")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Classes"}),le.map(z=>n.jsx("option",{value:z,children:z},z))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section"}),n.jsxs("select",{value:Q,onChange:z=>{z.preventDefault(),H(z.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent",disabled:!k||k==="all",children:[n.jsx("option",{value:"all",children:"All Sections"}),Ae.map(z=>n.jsx("option",{value:z,children:z},z))]})]})]})]})}),n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"flex justify-between items-center mb-6",children:n.jsx("div",{children:n.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:["Uniform Items",n.jsxs("span",{className:"text-sm font-normal text-gray-600 ml-2",children:["(Showing ",ue.length," of ",a.length," items",ve?" - filtered":"",")"]})]})})}),l?n.jsx("div",{className:"text-center text-gray-500 py-10",children:"Loading..."}):d?n.jsx("div",{className:"text-center text-red-500 py-10",children:d}):n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"School Name"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Item"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Price"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Class"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Section"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Sizes"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Stock"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ue.map(z=>{const ae=K(z.inStock);return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:q(z.schoolId)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("img",{src:`https://vidyaastra.com${z.image}`,alt:z.name,className:"w-12 h-12 rounded-lg object-cover border border-gray-200"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:z.name}),n.jsx("div",{className:"text-sm text-gray-500",children:z.description})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:z.category||"N/A"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-bold text-gray-900",children:M(z.price)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:z.classId?z.classId.className:"N/A"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:z.classId&&z.classId.section||"N/A"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[(z.sizes||[]).slice(0,3).map(oe=>n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:oe},oe)),(z.sizes||[]).length>3?n.jsxs("span",{className:"text-xs text-gray-500",children:["+",(z.sizes||[]).length-3]}):(z.sizes||[]).length===0?n.jsx("span",{className:"text-xs text-gray-500",children:"N/A"}):null]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ae.color}`,children:ae.text}),n.jsxs("div",{className:"text-xs text-gray-500",children:[z.inStock," units"]})]})})]},z._id)})})]})}),ue.length===0&&!l&&!d&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ul,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No uniforms found"}),n.jsx("p",{className:"text-gray-500 mb-4",children:ve?"Try adjusting your search or filter criteria":"No uniform items available"}),ve&&n.jsx("button",{onClick:se,className:"text-[#F37021] hover:text-[#D95F1C] font-medium",children:"Clear all filters"})]})]})]})]})},Xje=t=>{switch(t){case"National Holiday":return Z5;case"Festival":return hf;case"Religious Holiday":return eC;default:return ia}},Jje=()=>{const[t,r]=w.useState([]),[a,s]=w.useState("All"),[i,o]=w.useState(""),[l,c]=w.useState({key:null,direction:"asc"}),[d,f]=w.useState("table"),[u,m]=w.useState(!0),[p,g]=w.useState(null),[v,y]=w.useState([]),[b,j]=w.useState("all"),[N,S]=w.useState(1),B=10,[I,F]=w.useState(1),[O,k]=w.useState(0);w.useEffect(()=>{(async()=>{try{m(!0);const _=await It.get(`https://vidyaastra.com/api/holidays/all-unfiltered?page=${N}&limit=${B}`);if(_.data.success){r(_.data.data),F(_.data.totalPages||1),k(_.data.total||0);const ae=[...new Set(_.data.data.map(me=>typeof me.schoolId=="object"?me.schoolId._id:me.schoolId).filter(Boolean))].map(async me=>{try{const he=await It.get(`https://vidyaastra.com/api/schools/${me}`);return he.data.success&&he.data.data?{_id:me,name:he.data.data.name||"Unknown School"}:{_id:me,name:"Unknown School"}}catch(he){return console.error(`Failed to fetch school ${me}:`,he.message),{_id:me,name:"Unknown School"}}});try{const me=await It.get("https://vidyaastra.com/api/schools");me.data.success&&ae.push(...me.data.data.map(he=>({_id:he._id,name:he.name||"Unknown School"})))}catch(me){console.error("Failed to fetch all schools:",me.message)}const oe=await Promise.all(ae),ce=new Map;oe.forEach(me=>{me._id&&me.name&&ce.set(me._id,me)}),y(Array.from(ce.values()))}else g("Failed to load holidays")}catch(_){g("Failed to load holidays: "+_.message)}finally{m(!1)}})()},[N]);const V=w.useMemo(()=>[...new Set(t.map(ve=>typeof ve.schoolId=="object"?ve.schoolId._id:ve.schoolId))].filter(Boolean),[t]),Q=w.useMemo(()=>v.filter(ve=>V.includes(ve._id)).map(ve=>({...ve,name:ve.name||"Unknown School"})),[v,V]),H=ve=>new Date(ve).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),M=ve=>{const _=new Date,ae=new Date(ve)-_,oe=Math.ceil(ae/(1e3*60*60*24));return oe<0?"Passed":oe===0?"Today":oe===1?"Tomorrow":`${oe} days`},K=(ve,_)=>({"#FF9933":"bg-[#F37021]/10 text-[#F37021] border-[#F37021]/20","#008000":"bg-green-100 text-green-800 border-green-200","#FF0000":"bg-red-100 text-red-800 border-red-200","#0000FF":"bg-blue-100 text-blue-800 border-blue-200","#800080":"bg-purple-100 text-purple-800 border-purple-200","#FFC0CB":"bg-pink-100 text-pink-800 border-pink-200","#008080":"bg-teal-100 text-teal-800 border-teal-200"})[_]||"bg-gray-100 text-[#1C1444] border-gray-200",q=ve=>{const _=M(ve);return _==="Passed"?"bg-gray-100 text-[#1C1444] border-gray-200":_==="Today"?"bg-green-100 text-green-800 border-green-200":_==="Tomorrow"?"bg-blue-100 text-blue-800 border-blue-200":"bg-[#F37021]/10 text-[#F37021] border-[#F37021]/20"},re=w.useMemo(()=>{let ve=t;return a!=="All"&&(ve=ve.filter(_=>_.type===a)),b!=="all"&&(ve=ve.filter(_=>(typeof _.schoolId=="object"?_.schoolId._id:_.schoolId)===b)),i&&(ve=ve.filter(_=>_.name.toLowerCase().includes(i.toLowerCase())||_.type.toLowerCase().includes(i.toLowerCase())||_.description.toLowerCase().includes(i.toLowerCase()))),ve},[a,i,t,b]),ee=w.useMemo(()=>l.key?[...re].sort((ve,_)=>{let z,ae;switch(l.key){case"name":z=ve.name,ae=_.name;break;case"date":z=new Date(ve.date),ae=new Date(_.date);break;case"type":z=ve.type,ae=_.type;break;case"daysUntil":const oe=ce=>{const me=M(ce);return me==="Passed"?-1e3:me==="Today"?0:me==="Tomorrow"?1:parseInt(me)};z=oe(ve.date),ae=oe(_.date);break;default:return 0}return z<ae?l.direction==="asc"?-1:1:z>ae?l.direction==="asc"?1:-1:0}):re,[re,l]),le=ve=>{c(_=>({key:ve,direction:_.key===ve&&_.direction==="asc"?"desc":"asc"}))},Ae=ve=>l.key!==ve?null:l.direction==="asc"?n.jsx(Vw,{className:"inline w-4 h-4 text-[#F37021]"}):n.jsx(np,{className:"inline w-4 h-4 text-[#F37021]"}),ue=()=>{const _=[["Holiday Name","Date","Category","Days Until","Description","School Name"].join(","),...ee.map(ce=>[`"${ce.name}"`,ce.date,`"${ce.type}"`,`"${M(ce.date)}"`,`"${ce.description}"`,`"${(typeof ce.schoolId=="object"?ce.schoolId.name:v.find(me=>me._id===ce.schoolId)?.name)||"Unknown School"}"`].join(","))].join(`
`),z=new Blob([_],{type:"text/csv"}),ae=window.URL.createObjectURL(z),oe=document.createElement("a");oe.href=ae,oe.download="holidays-2025.csv",oe.click(),window.URL.revokeObjectURL(ae)},se=["All","National Holiday","Festival","Religious Holiday"];return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"bg-[#1C1444] text-white p-6 shadow-lg",children:[n.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(ia,{className:"w-6 h-6 text-[#F37021]"}),n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Holiday Calendar 2025"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{onClick:ue,className:"flex items-center space-x-2 bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg transition-all",children:[n.jsx(Us,{className:"w-4 h-4 text-white"}),n.jsx("span",{children:"Export CSV"})]}),n.jsxs("button",{onClick:()=>f(d==="table"?"card":"table"),className:"flex items-center space-x-2 bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg transition-all",children:[n.jsx(ys,{className:"w-4 h-4 text-white"}),n.jsx("span",{children:d==="table"?"Card View":"Table View"})]})]})]}),n.jsx("p",{className:"container mx-auto text-[#F37021] mt-2",children:"Professional holiday management system"})]}),n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[u&&n.jsx("p",{className:"text-center text-[#1C1444] py-10",children:"Loading holidays..."}),p&&n.jsx("p",{className:"text-center text-red-500 py-10",children:p}),!u&&!p&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-[#1C1444]",children:O}),n.jsx("div",{className:"text-sm text-[#1C1444]",children:"Total Holidays"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-[#1C1444]",children:t.filter(ve=>ve.type==="National Holiday").length}),n.jsx("div",{className:"text-sm text-[#1C1444]",children:"National Holidays"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-[#1C1444]",children:t.filter(ve=>ve.type==="Festival").length}),n.jsx("div",{className:"text-sm text-[#1C1444]",children:"Festivals"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-[#1C1444]",children:t.filter(ve=>M(ve.date)!=="Passed").length}),n.jsx("div",{className:"text-sm text-[#1C1444]",children:"Upcoming"})]})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Search holidays...",value:i,onChange:ve=>o(ve.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F37021] text-[#1C1444] w-full lg:w-64"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(mo,{className:"text-[#F37021] w-4 h-4"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:se.map(ve=>n.jsx("button",{onClick:()=>s(ve),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${a===ve?"bg-[#F37021] text-white shadow-md":"bg-gray-100 text-[#1C1444] hover:bg-gray-200"}`,children:ve},ve))}),n.jsxs("select",{value:b,onChange:ve=>j(ve.target.value),className:"ml-4 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[n.jsx("option",{value:"all",children:"All Schools"}),Q.length>0?Q.map(ve=>n.jsx("option",{value:ve._id,children:ve.name},ve._id)):n.jsx("option",{disabled:!0,children:"No schools available"})]})]})]})}),!u&&!p&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-[900px]",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>le("name"),children:["Holiday Name ",Ae("name")]}),n.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>le("date"),children:["Date ",Ae("date")]}),n.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>le("type"),children:["Category ",Ae("type")]}),n.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>le("daysUntil"),children:["Status ",Ae("daysUntil")]}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"School"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Description"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ee.length===0?n.jsx("tr",{children:n.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-[#1C1444]",children:[n.jsx(ia,{className:"w-12 h-12 text-[#F37021] mx-auto mb-4"}),n.jsx("p",{className:"text-lg font-medium text-[#1C1444]",children:"No holidays found"}),n.jsx("p",{className:"text-sm text-[#1C1444]",children:"Try adjusting your search or filters"})]})}):ee.map(ve=>{const _=Xje(ve.type);return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(_,{className:"w-5 h-5 text-[#F37021]"}),n.jsx("span",{className:"text-sm font-medium text-[#1C1444]",children:ve.name})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm text-[#1C1444]",children:H(ve.date)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${K(ve.type,ve.color)}`,children:ve.type})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${q(ve.date)}`,children:M(ve.date)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ve.schoolId?n.jsxs("span",{className:"flex items-center text-[#1C1444]",children:[n.jsx(Kn,{className:"w-4 h-4 mr-1 text-[#F37021]"}),(typeof ve.schoolId=="object"?ve.schoolId.name:v.find(z=>z._id===ve.schoolId)?.name)||"Unknown School"]}):"-"}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"text-sm text-[#1C1444]",children:ve.description})})]},ve._id)})})]})}),ee.length>0&&n.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t border-gray-200",children:n.jsxs("div",{className:"text-sm text-[#1C1444]",children:["Showing"," ",n.jsx("span",{className:"font-medium",children:ee.length})," ","of ",n.jsx("span",{className:"font-medium",children:t.length})," ","holidays"]})})]}),!u&&!p&&O>0&&n.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[n.jsxs("div",{className:"text-sm text-[#1C1444]",children:["Showing ",(N-1)*B+1," to"," ",Math.min(N*B,O)," of ",O," ","records"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>S(ve=>Math.max(ve-1,1)),disabled:N===1,className:`px-4 py-2 rounded-lg transition-colors ${N===1?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:"Previous"}),n.jsx("button",{onClick:()=>S(ve=>Math.min(ve+1,I)),disabled:N===I,className:`px-4 py-2 rounded-lg transition-colors ${N===I?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:"Next"})]})]})]})]})},Zje=()=>{const[t,r]=w.useState(""),[a,s]=w.useState("all"),[i,o]=w.useState("all"),[l,c]=w.useState("all"),[d,f]=w.useState([]),[u,m]=w.useState(!0),[p,g]=w.useState(null);w.useEffect(()=>{(async()=>{try{const F=await It.get("https://vidyaastra.com/api/classwork");f(F.data)}catch(F){console.error("Error fetching classwork:",F),g("Failed to load classwork data")}finally{m(!1)}})()},[]);const v=I=>new Date(I).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}),y=I=>{const F={completed:{color:"bg-green-100 text-green-800",icon:ji,text:"Completed"},"in-progress":{color:"bg-yellow-100 text-yellow-800",icon:Ea,text:"In Progress"},pending:{color:"bg-red-100 text-red-800",icon:ua,text:"Pending"}},O=F[I]||F.pending,k=O.icon;return n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${O.color}`,children:[n.jsx(k,{className:"w-3 h-3 mr-1"}),O.text]})},b=I=>({pdf:"",docx:"",pptx:"",jpg:"",zip:""})[I]||"",j=w.useMemo(()=>d.filter(I=>{const F=I.topic?.toLowerCase().includes(t.toLowerCase())||I.subject?.toLowerCase().includes(t.toLowerCase())||I.description?.toLowerCase().includes(t.toLowerCase()),O=a==="all"||I.subject===a,k=i==="all"||I.class===i,V=l==="all"||I.status===l;return F&&O&&k&&V}),[t,a,i,l,d]),N=w.useMemo(()=>{const I=d.length,F=d.filter(V=>V.status==="completed").length,O=d.filter(V=>V.status==="in-progress").length,k=d.reduce((V,Q)=>V+(Q.studentsCount||0),0);return{total:I,completed:F,inProgress:O,totalStudents:k}},[d]),S=[...new Set(d.map(I=>I.subject))].filter(Boolean),B=[...new Set(d.map(I=>I.class))].filter(Boolean);return u?n.jsx("div",{className:"p-6 text-center text-lg text-gray-600",children:"Loading classwork data..."}):p?n.jsx("div",{className:"p-6 text-center text-red-500",children:p}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-b-3xl shadow-lg",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ja,{className:"w-6 h-6"}),n.jsx("h1",{className:"text-2xl font-bold",children:"Classwork Management"})]})}),n.jsx("p",{className:"text-indigo-100 mt-2",children:"Track and manage daily classwork activities"})]}),n.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Classwork"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.total})]}),n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:N.completed})]}),n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:N.inProgress})]}),n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:N.totalStudents})]})]}),n.jsx("div",{className:"px-6 mb-6",children:n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Search topic or subject...",value:t,onChange:I=>r(I.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("select",{value:a,onChange:I=>s(I.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl",children:[n.jsx("option",{value:"all",children:"All Subjects"}),S.map(I=>n.jsx("option",{children:I},I))]}),n.jsxs("select",{value:i,onChange:I=>o(I.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl",children:[n.jsx("option",{value:"all",children:"All Classes"}),B.map(I=>n.jsx("option",{children:I},I))]}),n.jsxs("select",{value:l,onChange:I=>c(I.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"in-progress",children:"In Progress"}),n.jsx("option",{value:"pending",children:"Pending"})]})]})}),n.jsx("div",{className:"px-6 pb-6",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-x-auto",children:[n.jsxs("table",{className:"w-full min-w-[800px]",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Topic"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Subject"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Attachments"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(I=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:I.topic}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:I.subject}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:v(I.date)}),n.jsx("td",{className:"px-6 py-4",children:y(I.status||"pending")}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:(I.attachments||[]).map((F,O)=>n.jsxs("div",{className:"flex items-center space-x-1 text-xs",children:[n.jsx("span",{children:b(F.name?.split(".").pop())}),n.jsx("span",{children:F.name})]},O))})]},I._id))})]}),j.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ja,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No classwork found"}),n.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]})]})})]})},eNe="https://vidyaastra.com/api/schools/",tNe=()=>{const[t,r]=w.useState("All"),[a,s]=w.useState(""),[i,o]=w.useState([]),[l,c]=w.useState(!0),[d,f]=w.useState(null),[u,m]=w.useState(1),[p]=w.useState(10),[g,v]=w.useState(1),[y,b]=w.useState(0),[j,N]=w.useState(!1),[S,B]=w.useState("all"),[I,F]=w.useState("all"),[O,k]=w.useState("all"),[V,Q]=w.useState("all"),[H,M]=w.useState({}),[K,q]=w.useState(null);w.useEffect(()=>{re()},[u,V,I,O,S]);const re=async()=>{try{c(!0),f(null);const me=new URLSearchParams({page:u,limit:p});V!=="all"&&me.append("schoolId",V),I!=="all"&&me.append("className",I),O!=="all"&&me.append("section",O),S!=="all"&&me.append("subject",S);const he=await fetch(`https://vidyaastra.com/api/books/all-unfiltered?${me.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!he.ok)throw new Error(`HTTP error! Status: ${he.status}`);const te=await he.json();if(!te.success||!Array.isArray(te.data))throw new Error("Invalid API response format");b(te.total),v(te.totalPages);const J=te.data,X=[...new Set(J.map(ge=>ge.schoolId).filter(Boolean))],xe={};await Promise.all(X.map(async ge=>{try{const Y=await(await fetch(eNe+ge)).json();xe[ge]=Y.success&&Y.data?.name?Y.data.name:"Unknown"}catch{xe[ge]="Unknown"}})),M(xe);const Ne=J.map(ge=>{const pe=ge.title?.toLowerCase().includes("grade"),Y=pe?ge.title.replace(/Grade \d+/,"").trim().split(" ")[0]:"Literature";return{id:ge._id,title:ge.title||"Unknown Title",author:ge.author||"Unknown Author",description:ge.description||"No description available",price:ge.price||0,category:pe?"Textbooks":"Novels",subject:Y,className:ge.classId?.className||"General",section:ge.classId?.section||"N/A",image:ge.image?ge.image.startsWith("http")?ge.image:`https://vidyaastra.com${ge.image}`:"https://images.unsplash.com/photo-1509228468518-180dd4864904?w=200&h=250&fit=crop",schoolId:ge.schoolId||"",stock:ge.stock||0}});o(Ne)}catch(me){f(`Error fetching books: ${me.message}`),o([])}finally{c(!1)}},ee=me=>{me>=1&&me<=g&&m(me)},le=me=>[...new Set(i.map(te=>te[me]).filter(Boolean))].sort(),ue=[...new Set(i.map(me=>me.schoolId).filter(Boolean))].map(me=>({id:me,displayName:H[me]||"Unknown"})),se=i.filter(me=>{const he=t==="All"||me.category===t,te=me.title.toLowerCase().includes(a.toLowerCase())||me.author.toLowerCase().includes(a.toLowerCase())||me.subject.toLowerCase().includes(a.toLowerCase())||me.description.toLowerCase().includes(a.toLowerCase())||(H[me.schoolId]||"").toLowerCase().includes(a.toLowerCase()),J=S==="all"||me.subject===S,X=I==="all"||me.className===I,xe=O==="all"||me.section===O,Ne=V==="all"||me.schoolId===V;return he&&te&&J&&X&&xe&&Ne}),ve=()=>{r("All"),s(""),B("all"),F("all"),k("all"),Q("all"),N(!1),m(1)},_=()=>t!=="All"||a!==""||S!=="all"||I!=="all"||O!=="all"||V!=="all",z=()=>{const me=["Title","Author","Category","Subject","Class","Section","Price ()","Description","School Name","Stock"],he=se.map(Ne=>[`"${Ne.title.replace(/"/g,'""')}"`,`"${Ne.author.replace(/"/g,'""')}"`,`"${Ne.category}"`,`"${Ne.subject}"`,`"${Ne.className}"`,`"${Ne.section}"`,`"${Ne.price}"`,`"${Ne.description.replace(/"/g,'""')}"`,`"${H[Ne.schoolId]||""}"`,`"${Ne.stock}"`]),te=[me.join(","),...he.map(Ne=>Ne.join(","))].join(`
`),J=new Blob([te],{type:"text/csv;charset=utf-8;"}),X=document.createElement("a"),xe=URL.createObjectURL(J);X.setAttribute("href",xe),X.setAttribute("download",`books_${new Date().toISOString().split("T")[0]}.csv`),X.style.visibility="hidden",document.body.appendChild(X),X.click(),document.body.removeChild(X)},ae=me=>`${me}`,oe=me=>{q(me)},ce=()=>{q(null)};return n.jsxs("div",{className:"min-h-screen bg-gray-100",children:[n.jsx("div",{className:"bg-[#1C1444] text-white p-4 sticky top-0 z-10",children:n.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(zw,{className:"w-6 h-6 text-[#F37021] cursor-pointer"}),n.jsx("h1",{className:"text-xl font-semibold text-white",children:"School Books"})]}),!l&&!d&&n.jsxs("button",{onClick:z,className:"flex items-center space-x-2 bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-xl transition-all",disabled:se.length===0,children:[n.jsx(Us,{className:"w-4 h-4 text-white"}),n.jsx("span",{children:"Export CSV"})]})]})}),l&&n.jsxs("div",{className:"container mx-auto p-4 text-center",children:[n.jsx("div",{className:"text-6xl mb-4 animate-pulse",children:""}),n.jsx("p",{className:"text-[#1C1444] text-lg",children:"Loading books..."})]}),d&&n.jsxs("div",{className:"container mx-auto p-4 bg-red-100 text-red-700 rounded-xl m-4",children:[d,n.jsx("p",{className:"text-sm mt-2 text-red-600",children:"Please check if the backend server is running and accessible."})]}),!l&&!d&&n.jsx("div",{className:"container mx-auto p-4 bg-white",children:n.jsxs("div",{className:"relative",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-[#F37021]"}),n.jsx("input",{type:"text",placeholder:"Search books, authors, subjects, school...",value:a,onChange:me=>s(me.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-100 rounded-xl border-0 focus:ring-2 focus:ring-[#F37021] focus:bg-white text-[#1C1444] transition-all"})]})}),!l&&!d&&n.jsxs("div",{className:"container mx-auto px-4 pb-4 bg-white border-b",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"flex items-center space-x-4",children:_()&&n.jsxs("button",{onClick:ve,className:"flex items-center space-x-2 text-[#1C1444] hover:text-[#F37021]",children:[n.jsx(cr,{className:"w-4 h-4 text-[#F37021]"}),n.jsx("span",{children:"Clear Filters"})]})}),n.jsxs("div",{className:"text-sm text-[#1C1444]",children:["Showing ",se.length," of ",y," books",_()&&n.jsx("span",{className:"text-[#F37021] ml-1",children:"(filtered)"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 bg-gray-50 rounded-xl",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-2",children:"School"}),n.jsxs("select",{value:V,onChange:me=>{Q(me.target.value),F("all"),k("all")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[n.jsx("option",{value:"all",children:"All Schools"}),ue.length===0?n.jsx("option",{value:"",disabled:!0,children:l?"Loading schools...":"No schools available"}):ue.map(me=>n.jsx("option",{value:me.id,children:me.displayName},me.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-2",children:"Class"}),n.jsxs("select",{value:I,onChange:me=>{F(me.target.value),k("all")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[n.jsx("option",{value:"all",children:"All Classes"}),le("className").length===0?n.jsx("option",{value:"",disabled:!0,children:l?"Loading classes...":V!=="all"?"No classes for selected school":"No classes available"}):le("className").map(me=>n.jsx("option",{value:me,children:me},me))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-2",children:"Section"}),n.jsxs("select",{value:O,onChange:me=>k(me.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[n.jsx("option",{value:"all",children:"All Sections"}),le("section").length===0?n.jsx("option",{value:"",disabled:!0,children:l?"Loading sections...":I!=="all"?"No sections for selected class":"No sections available"}):le("section").map(me=>n.jsx("option",{value:me,children:me},me))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-2",children:"Subject"}),n.jsxs("select",{value:S,onChange:me=>B(me.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[n.jsx("option",{value:"all",children:"All Subjects"}),le("subject").map(me=>n.jsx("option",{value:me,children:me},me))]})]})]})]}),!l&&!d&&n.jsxs("div",{className:"container mx-auto p-4",children:[n.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Title"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Author"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Section"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"School"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:se.map(me=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-[#1C1444]",children:me.title}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:me.author}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:me.className}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:me.section}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:ae(me.price)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:me.stock}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:H[me.schoolId]||"Unknown"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsx("button",{onClick:()=>oe(me),className:"text-[#F37021] hover:text-[#d65f1c]",children:"View"})})]},me.id))})]})}),g>1&&n.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[n.jsx("button",{onClick:()=>ee(u-1),disabled:u===1,className:`px-4 py-2 rounded-lg transition-colors ${u===1?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:"Previous"}),n.jsxs("span",{className:"text-sm text-[#1C1444]",children:["Page ",u," of ",g]}),n.jsx("button",{onClick:()=>ee(u+1),disabled:u===g,className:`px-4 py-2 rounded-lg transition-colors ${u===g?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:"Next"})]}),se.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-6xl mb-4 text-[#F37021]",children:""}),n.jsx("h3",{className:"text-lg font-semibold text-[#1C1444] mb-2",children:"No books found"}),n.jsx("p",{className:"text-[#1C1444]",children:"Try adjusting your search or filter criteria"}),_()&&n.jsx("button",{onClick:ve,className:"mt-4 px-4 py-2 bg-[#F37021] text-white rounded-lg hover:bg-[#d65f1c] transition-colors",children:"Clear All Filters"})]})]}),K&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full mx-4 p-6 relative max-h-[90vh] overflow-y-auto",children:[n.jsx("button",{onClick:ce,className:"absolute top-4 right-4 text-[#1C1444] hover:text-[#F37021]",children:n.jsx(cr,{className:"w-6 h-6 text-[#F37021]"})}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("img",{src:K.image,alt:K.title,className:"w-32 h-48 object-cover rounded-lg shadow-md mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-[#1C1444] mb-2",children:K.title}),n.jsxs("p",{className:"text-[#1C1444] mb-4",children:["by ",K.author]}),n.jsxs("div",{className:"w-full space-y-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium text-[#1C1444]",children:"Category:"}),n.jsx("span",{className:"text-[#1C1444]",children:K.category})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium text-[#1C1444]",children:"Subject:"}),n.jsx("span",{className:"text-[#1C1444]",children:K.subject})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium text-[#1C1444]",children:"Class:"}),n.jsx("span",{className:"text-[#1C1444]",children:K.className})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium text-[#1C1444]",children:"Section:"}),n.jsx("span",{className:"text-[#1C1444]",children:K.section})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium text-[#1C1444]",children:"Price:"}),n.jsx("span",{className:"text-[#1C1444]",children:ae(K.price)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium text-[#1C1444]",children:"Stock:"}),n.jsx("span",{className:"text-[#1C1444]",children:K.stock})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium text-[#1C1444]",children:"School:"}),n.jsx("span",{className:"text-[#1C1444]",children:H[K.schoolId]||"Unknown"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-[#1C1444] block mb-2",children:"Description:"}),n.jsx("p",{className:"text-[#1C1444]",children:K.description})]})]})]})]})})]})},rNe=()=>{const[t,r]=w.useState("month"),[a,s]=w.useState(!1),[i,o]=w.useState([]),[l,c]=w.useState([]),[d,f]=w.useState([]),[u,m]=w.useState(!0),[p,g]=w.useState(null);w.useEffect(()=>{v()},[]);const v=async()=>{s(!0),m(!0);try{const k=await(await fetch("https://vidyaastra.com/api/schools")).json();k.success&&o(k.data);const Q=await(await fetch("https://vidyaastra.com/api/packages")).json();Q.success&&c(Q.data);const H=localStorage.getItem("token"),K=await(await fetch("https://vidyaastra.com/api/payments",{headers:{Authorization:`Bearer ${H}`}})).json();K.success&&f(K.data),g(null)}catch(O){g("Failed to fetch data: "+O.message),console.error(O)}finally{m(!1),s(!1)}},y=w.useMemo(()=>{const O=i.length,k=l.length,V=d.length,Q=d.reduce((M,K)=>M+K.amount,0),H=d.filter(M=>M.status==="active").length;return{totalSchools:O,totalPackages:k,activePurchases:H,totalPurchases:V,totalRevenue:Q}},[i,l,d]),b=O=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(O),j=O=>{const k={active:{color:"bg-green-100 text-green-800 border-green-200",icon:ji},pending:{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:Ea},failed:{color:"bg-red-100 text-red-800 border-red-200",icon:bg}},V=k[O]||k.pending,Q=V.icon;return n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${V.color}`,children:[n.jsx(Q,{className:"w-3 h-3 mr-1"}),O.charAt(0).toUpperCase()+O.slice(1)]})},N=()=>{v()},S=w.useMemo(()=>{const O=Array.from({length:12},(V,Q)=>{const H=new Date;return H.setMonth(H.getMonth()-(11-Q)),H.toLocaleString("default",{month:"short"})}),k=O.map(V=>({month:V,revenue:0,purchases:0}));return d.reduce((V,Q)=>{const M=new Date(Q.createdAt).toLocaleString("default",{month:"short"}),K=O.indexOf(M);return K!==-1&&(V[K].revenue+=Q.amount,V[K].purchases+=1),V},[...k])},[d,t]),B=w.useMemo(()=>{const O=l.map(k=>{const V=d.filter(Q=>Q.packageId===k._id).length;return{name:k.name,sales:V,revenue:V*k.price,color:(k.color==="blue"||k.color==="purple"||k.color==="green"||k.color==="orange","#F37021")}}).filter(k=>k.sales>0);return O.length===0?[{name:"No Data Available",sales:1,revenue:0,color:"#9CA3AF"}]:O},[l,d]),I=w.useMemo(()=>d.sort((O,k)=>new Date(k.createdAt)-new Date(O.createdAt)).slice(0,3).map(O=>({id:O._id,school:i.find(k=>k._id===O.schoolId)?.name||"Unknown School",package:l.find(k=>k._id===O.packageId)?.name||"Unknown Package",amount:O.amount,status:O.status,date:O.createdAt})),[d,i,l]),F=w.useMemo(()=>i.map(O=>{const k=d.filter(Q=>Q.schoolId===O._id),V=k.reduce((Q,H)=>Q+H.amount,0);return{...O,revenue:V,purchases:k.length}}).sort((O,k)=>k.revenue-O.revenue).slice(0,3),[i,d]);return u?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(cm,{className:"w-10 h-10 text-[#F37021] animate-spin mx-auto"}),n.jsx("p",{className:"mt-4 text-[#1C1444]",children:"Loading dashboard data..."})]})}):p?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:[n.jsx("p",{children:p}),n.jsx("button",{onClick:v,className:"mt-2 bg-[#F37021] text-white px-4 py-2 rounded-lg hover:bg-[#d65f1c] transition-colors",children:"Retry"})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-[#1C1444] text-white p-6 shadow-lg",children:n.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Kn,{className:"w-6 h-6 text-[#F37021]"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Super Admin Dashboard"}),n.jsx("p",{className:"text-[#F37021] mt-1",children:"Comprehensive school management overview"})]})]}),n.jsxs("button",{onClick:N,disabled:a,className:"flex items-center space-x-2 bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg transition-all",children:[n.jsx(cm,{className:`w-4 h-4 text-white ${a?"animate-spin":""}`}),n.jsx("span",{children:"Refresh"})]})]})}),n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-[#1C1444]",children:"Total Schools"}),n.jsx("p",{className:"text-2xl font-bold text-[#1C1444]",children:y.totalSchools}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(Zh,{className:"w-4 h-4 text-green-500 mr-1"}),n.jsxs("span",{className:"text-sm text-green-600",children:["+",Math.floor(y.totalSchools/10),"% from last month"]})]})]}),n.jsx("div",{className:"p-3 bg-[#F37021]/10 rounded-lg",children:n.jsx(Kn,{className:"w-6 h-6 text-[#F37021]"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-[#1C1444]",children:"Total Packages"}),n.jsx("p",{className:"text-2xl font-bold text-[#1C1444]",children:y.totalPackages}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(Zh,{className:"w-4 h-4 text-green-500 mr-1"}),n.jsxs("span",{className:"text-sm text-green-600",children:["+",Math.floor(y.totalPackages/5),"% from last month"]})]})]}),n.jsx("div",{className:"p-3 bg-[#F37021]/10 rounded-lg",children:n.jsx(ul,{className:"w-6 h-6 text-[#F37021]"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-[#1C1444]",children:"Total Purchases"}),n.jsx("p",{className:"text-2xl font-bold text-[#1C1444]",children:y.totalPurchases}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(Zh,{className:"w-4 h-4 text-green-500 mr-1"}),n.jsxs("span",{className:"text-sm text-green-600",children:["+",Math.floor(y.totalPurchases/10),"% from last month"]})]})]}),n.jsx("div",{className:"p-3 bg-[#F37021]/10 rounded-lg",children:n.jsx(da,{className:"w-6 h-6 text-[#F37021]"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-[#1C1444]",children:"Total Revenue"}),n.jsx("p",{className:"text-2xl font-bold text-[#1C1444]",children:b(y.totalRevenue)}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(Zh,{className:"w-4 h-4 text-green-500 mr-1"}),n.jsxs("span",{className:"text-sm text-green-600",children:["+",Math.floor(y.totalRevenue/1e5),"% from last month"]})]})]}),n.jsx("div",{className:"p-3 bg-[#F37021]/10 rounded-lg",children:n.jsx(fd,{className:"w-6 h-6 text-[#F37021]"})})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-bold text-[#1C1444]",children:"Revenue Trend"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-[#F37021] rounded-full"}),n.jsx("span",{className:"text-sm text-[#1C1444]",children:"Monthly Revenue"})]})]}),n.jsx(U1,{width:"100%",height:300,children:n.jsxs(TH,{data:S,children:[n.jsx(sw,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),n.jsx(jy,{dataKey:"month",stroke:"#1C1444"}),n.jsx(Ny,{tickFormatter:O=>O===0?"0":`${(O/1e5).toFixed(0)}L`,domain:[0,"auto"],stroke:"#1C1444"}),n.jsx(L1,{formatter:O=>[O===0?"0":b(O),"Revenue"]}),n.jsx(wy,{type:"monotone",dataKey:"revenue",stroke:"#F37021",fill:"#F37021",fillOpacity:.1})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-[#1C1444] mb-6",children:"Package Sales Distribution"}),n.jsx(U1,{width:"100%",height:300,children:n.jsxs(EH,{children:[n.jsx(_4,{data:B,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:B.length>1?5:0,dataKey:"sales",label:({name:O,percent:k})=>`${O} ${(k*100).toFixed(0)}%`,labelLine:!1,children:B.map((O,k)=>n.jsx(ix,{fill:O.color,stroke:"#fff",strokeWidth:2},`cell-${k}`))}),n.jsx(L1,{formatter:(O,k,V)=>[O,V.payload.name,V.payload.revenue>0?`Revenue: ${b(V.payload.revenue)}`:""]}),n.jsx(M0,{})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-bold text-[#1C1444]",children:"Top Performing Schools"}),n.jsx(Nn,{to:"/admin/school",children:n.jsx("button",{className:"text-[#F37021] hover:text-[#d65f1c] text-sm font-medium",children:"View All"})})]}),n.jsx("div",{className:"space-y-4",children:F.map((O,k)=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-10 h-10 bg-[#F37021]/10 rounded-full flex items-center justify-center",children:n.jsxs("span",{className:"text-[#F37021] font-bold text-sm",children:["#",k+1]})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-[#1C1444]",children:O.name}),n.jsxs("p",{className:"text-sm text-[#1C1444] flex items-center",children:[n.jsx(K0,{className:"w-3 h-3 mr-1 text-[#F37021]"}),O.address.split(",")[0]]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-bold text-[#1C1444]",children:O.phone}),n.jsxs("p",{className:"text-sm text-[#1C1444]",children:[O.purchases," purchases"]})]})]},O._id))})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-bold text-[#1C1444]",children:"Recent Transactions"}),n.jsx(Nn,{to:"/admin/packagehistory",children:n.jsx("button",{className:"text-[#F37021] hover:text-[#d65f1c] text-sm font-medium",children:"View All"})})]}),n.jsx("div",{className:"space-y-4",children:I.map(O=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-10 h-10 bg-[#F37021]/10 rounded-full flex items-center justify-center",children:n.jsx(ul,{className:"w-5 h-5 text-[#F37021]"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-[#1C1444]",children:O.school}),n.jsx("p",{className:"text-sm text-[#1C1444]",children:O.package})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-bold text-[#1C1444]",children:b(O.amount)}),n.jsx("div",{className:"flex items-center space-x-2",children:j(O.status)})]})]},O.id))})]})]})]})]})},aNe="https://vidyaastra.com/api";function sNe(){const[t,r]=w.useState(""),[a,s]=w.useState({name:"",email:"",password:"",phone:"",profilePic:null,classSubjects:[]}),[i,o]=w.useState(""),[l,c]=w.useState([]),[d,f]=w.useState(!1),[u,m]=w.useState(!1),[p,g]=w.useState(""),[v,y]=w.useState(!1),[b,j]=w.useState(!1),N=Ff(),S=localStorage.getItem("color")||"#2563eb",B=Za(ue=>ue.classes.classes?.data||[]),I=Za(ue=>ue.subjects.subjects?.data||[]),F=Za(ue=>ue.classes.loading),O=Za(ue=>ue.subjects.loading),k=Za(ue=>ue.classes.error),V=Za(ue=>ue.subjects.error);w.useEffect(()=>{const ue=localStorage.getItem("schoolId");ue?r(ue):(g("School ID not found. Please log in as a school admin first."),y(!1))},[]),w.useEffect(()=>{k&&(g("Failed to load classes: "+k),y(!1)),V&&(g("Failed to load subjects: "+V),y(!1))},[k,V]);const Q=B.map(ue=>({_id:ue._id,className:ue.className||`Class ${ue.classNumber||ue._id}`,section:ue.section||"",displayName:`${ue.className||`Class ${ue.classNumber||ue._id}`}${ue.section?` ${ue.section}`:""}`.trim()})),H=ue=>I.filter(se=>(se.classId?._id||se.classId)===ue).map(se=>({_id:se._id,subjectName:se.SubjectName||se.name||se.subjectName||"Unnamed Subject"})),M=ue=>{const{name:se,value:ve}=ue.target;s({...a,[se]:ve})},K=ue=>{const se=ue.target.files[0];if(se&&!["image/jpeg","image/png"].includes(se.type)){g("Please select a valid image file (e.g., .jpg, .png)."),y(!1);return}s({...a,profilePic:se||null})},q=ue=>{o(ue.target.value),c([]),m(!1)},re=ue=>{c(se=>se.includes(ue)?se.filter(ve=>ve!==ue):[...se,ue])},ee=()=>{if(!i||l.length===0){g("Please select a class and at least one subject."),y(!1);return}const ue=Q.find(se=>se._id===i);if(!ue){g("Invalid class selected."),y(!1);return}if(a.classSubjects.some(se=>se.classId===i)){g(`Class "${ue.displayName}" has already been added.`),y(!1);return}s({...a,classSubjects:[...a.classSubjects,{classId:i,subjects:[...l]}]}),o(""),c([]),f(!1),m(!1),g("")},le=ue=>{s({...a,classSubjects:a.classSubjects.filter(se=>se.classId!==ue)})},Ae=async ue=>{if(ue.preventDefault(),j(!0),g(""),!a.name||!a.email||!a.password||!a.phone){g("Name, email, password, and phone are required fields."),y(!1),j(!1);return}if(a.classSubjects.length===0){g("Please add at least one class with subjects."),y(!1),j(!1);return}if(!t){g("School ID is missing. Please log in as a school admin."),y(!1),j(!1);return}try{const se=new FormData;se.append("name",a.name.trim()),se.append("email",a.email.trim()),se.append("password",a.password),se.append("phone",a.phone.trim()),se.append("classSubjects",JSON.stringify(a.classSubjects)),a.profilePic&&se.append("profilePic",a.profilePic);const ve=await It.post(`${aNe}/teacher/${t}/register`,se,{headers:{"Content-Type":"multipart/form-data"}});ve.data.success&&(g(ve.data.message||"Teacher registered successfully!"),y(!0),s({name:"",email:"",password:"",phone:"",profilePic:null,classSubjects:[]}),setTimeout(()=>{N("/teachers")},2e3))}catch(se){console.error("Error registering teacher:",se),g(se.response?.data?.message||"Failed to register teacher. Please try again."),y(!1)}finally{j(!1)}};return F||O?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Er,{className:"animate-spin w-8 h-8 mx-auto mb-4",style:{color:S}}),n.jsxs("p",{className:"text-gray-600",children:["Loading ",F?"classes":"",F&&O?" and ":"",O?"subjects":"","..."]})]})}):n.jsx("div",{className:"bg-gray-50 p-6",children:n.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-md overflow-scroll",children:[n.jsxs("div",{className:"p-6 text-white",style:{backgroundColor:S},children:[n.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[n.jsx(Ts,{className:"mr-2"}),"Register New Teacher"]}),n.jsx("p",{className:"mt-1 opacity-90",children:"Add a new teacher to your school"})]}),n.jsxs("form",{onSubmit:Ae,className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[n.jsx(Ts,{className:"mr-1 w-4 h-4"}),"Full Name *"]}),n.jsx("input",{type:"text",name:"name",value:a.name,onChange:M,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[n.jsx(Af,{className:"mr-1 w-4 h-4"}),"Email Address *"]}),n.jsx("input",{type:"email",name:"email",value:a.email,onChange:M,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[n.jsx(pB,{className:"mr-1 w-4 h-4"}),"Password *"]}),n.jsx("input",{type:"password",name:"password",value:a.password,onChange:M,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[n.jsx(vu,{className:"mr-1 w-4 h-4"}),"Phone Number *"]}),n.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:M,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[n.jsx(V0,{className:"mr-1 w-4 h-4"}),"Profile Picture (Optional)"]}),n.jsx("input",{type:"file",accept:"image/jpeg,image/png",onChange:K,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),a.profilePic&&n.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Selected: ",a.profilePic.name]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[n.jsx(Ja,{className:"mr-1 w-4 h-4"}),"Classes and Subjects *"]}),n.jsxs("button",{type:"button",onClick:()=>f(!0),disabled:B.length===0||I.length===0,className:"flex items-center px-4 py-2 rounded-lg text-white font-medium disabled:opacity-50",style:{backgroundColor:S},children:[n.jsx(Fs,{className:"mr-2"}),"Add Class and Subjects"]}),a.classSubjects.length>0&&n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:a.classSubjects.map((ue,se)=>{const ve=Q.find(z=>z._id===ue.classId),_=ue.subjects.map(z=>H(ue.classId).find(ae=>ae._id===z)?.subjectName||"Unknown Subject");return n.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:[ve?.displayName||"Unknown Class",":"," ",_.join(", "),n.jsx("button",{type:"button",onClick:()=>le(ue.classId),className:"ml-2 rounded-full hover:bg-blue-200",children:n.jsx(cr,{className:"w-4 h-4"})})]},se)})}),d&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-bold",children:"Add Class and Subjects"}),n.jsx("button",{type:"button",onClick:()=>{f(!1),o(""),c([]),m(!1)},className:"text-gray-500 hover:text-gray-700",children:n.jsx(cr,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class *"}),n.jsx("select",{value:i,onChange:q,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:Q.length===0,children:Q.length===0?n.jsx("option",{value:"",children:"No classes available"}):n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"",children:"Select a class"}),Q.filter(ue=>!a.classSubjects.some(se=>se.classId===ue._id)).map(ue=>n.jsx("option",{value:ue._id,children:ue.displayName},ue._id))]})})]}),n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subjects *"}),n.jsxs("div",{className:`border border-gray-300 rounded-lg p-3 flex justify-between items-center ${i?"cursor-pointer":"cursor-not-allowed"}`,onClick:()=>i&&m(ue=>!ue),children:[n.jsx("span",{children:l.length>0?`${l.length} subject(s) selected`:i?"Select subjects":"Select a class first"}),i&&(u?n.jsx(Vw,{}):n.jsx(np,{}))]}),i&&u&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:H(i).length===0?n.jsx("div",{className:"p-3 text-gray-500 text-center",children:"No subjects available for this class"}):H(i).map(ue=>n.jsxs("div",{className:"p-3 hover:bg-gray-100 cursor-pointer flex items-center",onClick:()=>re(ue._id),children:[n.jsx("input",{type:"checkbox",checked:l.includes(ue._id),onChange:()=>re(ue._id),className:"mr-2 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),n.jsx("span",{className:"truncate",children:ue.subjectName})]},ue._id))}),l.length>0&&n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:l.map(ue=>{const se=H(i).find(ve=>ve._id===ue);return n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[se?.subjectName||"Unknown Subject",n.jsx("button",{type:"button",onClick:()=>re(ue),className:"ml-1 rounded-full hover:bg-blue-200",children:n.jsx(cr,{className:"w-3 h-3"})})]},ue)})})]})]}),n.jsxs("div",{className:"mt-6 flex space-x-3",children:[n.jsx("button",{type:"button",onClick:()=>{f(!1),o(""),c([]),m(!1)},className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"button",onClick:ee,disabled:!i||l.length===0,className:"flex-1 py-2 px-4 rounded-lg text-white font-medium disabled:opacity-50",style:{backgroundColor:S},children:"Add"})]})]})})]}),n.jsx("div",{className:"pt-4",children:n.jsx("button",{type:"submit",disabled:b||F||O,className:"w-full py-3 px-4 rounded-lg text-white font-medium flex items-center justify-center disabled:opacity-50",style:{backgroundColor:S},children:b?n.jsxs(n.Fragment,{children:[n.jsx(Er,{className:"animate-spin mr-2"}),"Registering..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ts,{className:"mr-2"}),"Register Teacher"]})})}),p&&n.jsxs("div",{className:`p-3 rounded-lg flex items-center ${v?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[v?n.jsx(Dn,{className:"mr-2"}):n.jsx(ua,{className:"mr-2"}),p]})]})]})})}const Db=t=>{if(!t)return"";if(t.includes("-")){const[i,o,l]=t.split("-");return`${o}/${l}/${i}`}const[r,a,s]=t.split("/");return`${a}/${r}/${s}`},nNe=t=>{if(!t)return"";const[r,a,s]=t.split("/");return`${s}-${r.padStart(2,"0")}-${a.padStart(2,"0")}`},Lb=t=>t?new Date(t).toISOString().split("T")[0]:"",iNe=()=>{const t=new Date().toISOString().split("T")[0],[r,a]=w.useState(""),[s,i]=w.useState(""),[o,l]=w.useState(!1),[c,d]=w.useState(!1),[f,u]=w.useState([]),[m,p]=w.useState({}),[g,v]=w.useState([]),[y,b]=w.useState(""),[j,N]=w.useState(!1),[S,B]=w.useState(t),[I,F]=w.useState({}),[O,k]=w.useState([]),[V,Q]=w.useState([]),[H,M]=w.useState(new Map),[K,q]=w.useState(!1),[re,ee]=w.useState(null),[le,Ae]=w.useState(!1),[ue,se]=w.useState(null),[ve,_]=w.useState([]),[z,ae]=w.useState(!1),[oe,ce]=w.useState(""),[me,he]=w.useState(1),[te,J]=w.useState(1),[X,xe]=w.useState(0),[Ne,ge]=w.useState(10),[pe,Y]=w.useState(""),[Le,ie]=w.useState(""),[de,je]=w.useState(""),[ye,Ce]=w.useState({classes:!1,students:!1,attendance:!1,saving:!1,deleting:{},dailySaving:!1,teacher:!1}),[be,Ee]=w.useState(!1),[Qe,rt]=w.useState(""),[Te,nt]=w.useState([]),[xt,it]=w.useState(""),[_e,dt]=w.useState(null),[yt,rr]=w.useState(null),_t=localStorage.getItem("schoolId"),[Ve,Se]=w.useState({_id:null,name:"",rollNumber:"",studentId:"",class:"",attendance:"absent",date:t,attendanceRecordId:null});w.useEffect(()=>{const Me=localStorage.getItem("schoolId"),We=localStorage.getItem("teacherId");Ee(!Me),We&&dt(We)},[]),w.useEffect(()=>{_t&&_e&&(async()=>{if(!(!_t||!_e)){Ce(We=>({...We,teacher:!0}));try{const st=await(await fetch(`https://vidyaastra.com/api/teacher/${_t}/${_e}`)).json();rr(st.data)}catch(We){console.error("Error fetching teacher:",We)}finally{Ce(We=>({...We,teacher:!1}))}}})()},[_t,_e]),w.useEffect(()=>{yt&&(async()=>{if(!(!yt||!yt.classTeacherOf)){Ce(We=>({...We,classes:!0}));try{let We=[];if(Array.isArray(yt.classTeacherOf)?We=yt.classTeacherOf.map(or=>typeof or=="string"?or:or.class):typeof yt.classTeacherOf=="string"&&(We=[yt.classTeacherOf]),We.length===0)return;const st=We.map(or=>It.get(`https://vidyaastra.com/api/class/${or}/${_t}`)),tr=(await Promise.all(st)).map(or=>or.data.data).map(or=>({displayName:or.section?`${or.className}${or.section}`:or.className,className:or.className,section:or.section||"",originalData:or}));if(Q(tr),tr.length>0&&!r){const or=tr[0];a(or.className),i(or.section),Ot(or.className,tr)}}catch(We){console.error("Failed to fetch teacher's classes:",We)}finally{Ce(We=>({...We,classes:!1}))}}})()},[yt,_t]);const ot=()=>{Qe.trim()&&(localStorage.setItem("schoolId",Qe.trim()),window.location.reload())},Ot=(Me,We=V)=>{const st=We.filter(jt=>jt.className===Me).map(jt=>jt.section).filter((jt,Yt,tr)=>tr.indexOf(jt)===Yt);nt(st),!st.includes(s)&&st.length>0&&i(st[0])},vt=Me=>{a(Me),Ot(Me)},Ze=async()=>{if(!_t||!r||s===void 0){u([]),k([]);return}Ce(Me=>({...Me,students:!0}));try{const Me=await It.get(`https://vidyaastra.com/api/students/class/${r}`,{params:{schoolId:_t,section:s}}),We=Me.data.data||Me.data;u(We),k(We);const st={};We.forEach(jt=>{st[jt._id]="absent"}),p(st)}catch(Me){console.error("Failed to fetch students:",Me),alert("Failed to fetch students. Please check the server or schoolId."),u([]),k([])}finally{Ce(Me=>({...Me,students:!1}))}};w.useEffect(()=>{_t&&r&&s!==void 0&&Ze()},[_t,r,s]);const He=async()=>{if(!_t){Ee(!0);return}Ce(Me=>({...Me,attendance:!0}));try{const Me={schoolId:_t,page:me,limit:Ne};y&&(Me.studentId=y),pe&&(Me.className=pe),Le&&(Me.section=Le),de&&(Me.date=Db(de));const We=await It.get("https://vidyaastra.com/api/attendance",{params:Me}),{data:st,total:jt,totalPages:Yt}=We.data;v(st||[]),xe(jt||0),J(Yt||1),ct(st||[])}catch(Me){console.error("Failed to fetch attendance:",Me),alert("Failed to fetch attendance records. Please check if schoolId or studentId is correct.")}finally{Ce(Me=>({...Me,attendance:!1}))}},ct=Me=>{const We=new Map;Me.forEach(st=>{const jt=st.studentId?._id||st.studentId,Yt=Lb(st.date),tr=`${jt}-${Yt}`;We.set(tr,{...st,studentName:st.studentId?.name||"Unknown",rollNumber:st.studentId?.rollNumber||"N/A"})}),M(We)};w.useEffect(()=>{_t&&He()},[_t,y,me,Ne,pe,Le,de]);const ft=(Me,We)=>{const st=Lb(We),jt=`${Me}-${st}`;return H.get(jt)||null},Wt=()=>{const Me=[];return O.forEach(We=>{const st=ft(We._id,S);st&&Me.push({student:We,existing:st,newStatus:I[We._id]||"absent"})}),Me},gr=Me=>{const We=Me.studentId,st=Mr(We.classId);Se({_id:We._id,name:We.name,rollNumber:We.rollNumber,studentId:We.studentId,class:st,attendance:Me.status,date:nNe(Me.date),attendanceRecordId:Me._id}),d(!0),l(!0)},Fr=async Me=>{if(!_t){Ee(!0);return}if(window.confirm("Are you sure you want to delete this attendance record?")){Ce(We=>({...We,deleting:{...We.deleting,[Me]:!0}}));try{await It.delete(`https://vidyaastra.com/api/attendance/${Me}`,{data:{schoolId:_t}}),v(We=>We.filter(st=>st._id!==Me)),alert("Attendance record deleted successfully!"),He()}catch(We){console.error("Failed to delete attendance record:",We),alert("Failed to delete attendance record. Please try again.")}finally{Ce(We=>({...We,deleting:{...We.deleting,[Me]:!1}}))}}},Ta=async Me=>{if(Me.preventDefault(),!_t){Ee(!0),alert("School ID is required. Please set it first.");return}const We=f.find(st=>st.studentId===Ve.studentId);if(!We){alert("Student not found!");return}if(!c){const st=ft(We._id,Ve.date);if(st){const jt=We.name,Yt=new Date(Ve.date).toLocaleDateString(),tr=st.status.toUpperCase(),or=Ve.attendance.toUpperCase();alert(` DUPLICATE ATTENDANCE DETECTED!

Student: ${jt}
Roll Number: ${We.rollNumber}
Date: ${Yt}

Current Status: ${tr}
Attempted Status: ${or}

This student already has attendance marked for this date.
Use the EDIT button to modify existing records.`);return}}Ce(st=>({...st,saving:!0}));try{if(c){const st={studentId:We._id,status:Ve.attendance,date:Db(Ve.date),schoolId:_t};await It.put(`https://vidyaastra.com/api/attendance/${Ve.attendanceRecordId}`,st),alert("Attendance updated successfully!")}else{const st={studentId:We._id,status:Ve.attendance,date:Db(Ve.date),schoolId:_t};await It.post("https://vidyaastra.com/api/attendance",st),alert("New attendance record added successfully!")}l(!1),He(),Se({_id:null,name:"",rollNumber:"",studentId:"",class:"",attendance:"absent",date:t,attendanceRecordId:null})}catch(st){console.error("Failed to save attendance:",st),alert(`Failed to ${c?"update":"add"} attendance. Please try again.`)}finally{Ce(st=>({...st,saving:!1}))}},pa=Me=>{b(Me.target.value),he(1)},at=(Me,We)=>{F(st=>({...st,[Me]:We}))},Ht=Me=>{const We={};O.forEach(st=>{We[st._id]=Me}),F(We)},Gt=async()=>{if(!_t){Ee(!0);return}const Me=Wt();if(Me.length>0){ee({duplicates:Me,totalStudents:O.length,date:S}),q(!0);return}await Jt(!0)},dr=async Me=>{q(!1),ee(null),Me==="update"?await Jt(!0):Me==="skip"&&await Jt(!1,!0)},Jt=async(Me=!0,We=!1)=>{Ce(st=>({...st,dailySaving:!0}));try{const st=We?O.filter(tr=>!ft(tr._id,S)):O,jt=st.map(tr=>{const or={studentId:tr._id,status:I[tr._id]||"absent",date:Db(S),schoolId:_t},ur=ft(tr._id,S);return ur&&Me?It.put(`https://vidyaastra.com/api/attendance/${ur._id}`,or):ur?Promise.resolve():It.post("https://vidyaastra.com/api/attendance",or)});await Promise.all(jt.filter(tr=>tr)),alert(`Attendance ${Me?"saved/updated":We?"saved (skipped duplicates)":"saved"} successfully for ${st.length} students!`),N(!1),Y(r),ie(s),He()}catch(st){console.error("Failed to save daily attendance:",st),alert("Failed to save attendance. Please try again.")}finally{Ce(st=>({...st,dailySaving:!1}))}},Mr=Me=>{if(!Me)return"N/A";if(typeof Me=="object"&&Me.className)return Me.className;if(typeof Me=="string"){const We=V.find(st=>st.originalData._id===Me);if(We)return We.displayName}return Me.toString()},ke=Me=>{if(!Me)return{className:"N/A",section:"N/A"};if(typeof Me=="object"&&Me.className)return{className:Me.className,section:Me.section||"N/A"};if(typeof Me=="string"){const We=V.find(st=>st.originalData._id===Me);if(We)return{className:We.className,section:We.section||"N/A"}}return{className:"N/A",section:"N/A"}},qe=async Me=>{if(!(!_t||!Me)){ae(!0);try{const We=await It.get(`https://vidyaastra.com/api/attendance/student/${Me}`,{params:{schoolId:_t}});_(We.data.data||[])}catch(We){console.error("Failed to fetch student attendance history:",We),alert("Failed to fetch student attendance history.")}finally{ae(!1)}}},ze=async Me=>{se(Me),Ae(!0),await qe(Me._id)},Ke=()=>{Ae(!1),se(null),_([])},Je=Me=>{Me>=1&&Me<=te&&he(Me)},et=Me=>{Y(Me),he(1),Ot(Me)},St=g.filter(Me=>{if(!pe&&!Le&&!de&&!xt)return!0;const{className:We,section:st}=ke(Me?.studentId?.classId),jt=!pe||We===pe,Yt=!Le||st===Le,tr=!de||Lb(Me.date)===Lb(de),or=!xt||Me?.studentId?.name?.toLowerCase().includes(xt.toLowerCase())||Me?.studentId?.rollNumber?.toString().includes(xt)||Me?.studentId?.studentId?.toLowerCase().includes(xt.toLowerCase());return jt&&Yt&&tr&&or});return be?n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsxs("div",{className:"text-center p-8 bg-red-50 rounded-lg border border-red-200 max-w-md",children:[n.jsx(cr,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-bold text-red-700 mb-2",children:"School ID Missing"}),n.jsx("p",{className:"text-red-600 mb-4",children:"School ID is missing from localStorage. Please enter it manually to continue."}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("input",{type:"text",value:Qe,onChange:Me=>rt(Me.target.value),placeholder:"Enter School ID",className:"w-full px-3 py-2 border border-red-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:ot,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",disabled:!Qe.trim(),children:"Set School ID"}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Refresh"})]})]})]})}):n.jsxs("div",{className:"space-y-6 h-screen overflow-y-auto p-4 bg-gray-50",children:[K&&re&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(aI,{className:"w-8 h-8 text-orange-500"}),n.jsx("h2",{className:"text-xl font-bold text-orange-700",children:"Duplicate Attendance Detected"})]}),n.jsxs("div",{className:"mb-4 p-4 bg-orange-50 rounded-lg border border-orange-200",children:[n.jsxs("p",{className:"text-orange-800 mb-2",children:[n.jsx("strong",{children:re.duplicates.length})," out of"," ",n.jsx("strong",{children:re.totalStudents})," students already have attendance marked for"," ",n.jsx("strong",{children:new Date(re.date).toLocaleDateString()}),"."]}),n.jsxs("p",{className:"text-orange-700 text-sm",children:[" ",n.jsx("strong",{children:"Warning:"})," These students already have attendance records for this date. To modify existing attendance, please use the ",n.jsx("strong",{children:"Edit button"})," in the main attendance table instead."]})]}),n.jsxs("div",{className:"mb-4 max-h-60 overflow-y-auto",children:[n.jsx("h3",{className:"font-medium mb-2",children:"Students with existing attendance:"}),n.jsx("div",{className:"space-y-2",children:re.duplicates.map(({student:Me,existing:We,newStatus:st})=>n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded border-l-4 border-orange-400",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:Me.name}),n.jsxs("span",{className:"text-gray-500 ml-2",children:["(",Me.rollNumber,")"]})]}),n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Already marked: "}),n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${We.status==="present"?"bg-green-100 text-green-800":We.status==="absent"?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"}`,children:We.status.toUpperCase()}),We.status!==st&&n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"text-gray-600 ml-2",children:[" Trying to change to:"," "]}),n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${st==="present"?"bg-green-100 text-green-800":st==="absent"?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"}`,children:st.toUpperCase()})]}),We.status===st&&n.jsx("span",{className:"text-blue-600 ml-2 text-xs",children:"(Same status - no change needed)"})]})]},Me._id))})]}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx("button",{onClick:()=>dr("cancel"),className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-700 rounded-lg transition-colors",children:"Cancel & Go Back"}),n.jsxs("button",{onClick:()=>{q(!1),ee(null),N(!1),Y(r),ie(s),setTimeout(()=>{const Me=document.querySelector(".attendance-table");Me&&Me.scrollIntoView({behavior:"smooth"})},100)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[n.jsx(Ko,{className:"w-4 h-4"}),"Go to Edit Records"]}),n.jsx("button",{onClick:()=>dr("update"),className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg transition-colors",children:"Override Anyway"})]})]})}),o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md space-y-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:c?"Edit Attendance":"Add Attendance"}),n.jsxs("form",{onSubmit:Ta,className:"space-y-3",children:[n.jsx("input",{type:"text",value:Ve.rollNumber,readOnly:!0,placeholder:"Roll No",className:"w-full border px-3 py-2 rounded-lg bg-gray-100",required:!0}),n.jsxs("select",{value:Ve._id||"",onChange:Me=>{const We=f.find(st=>st._id===Me.target.value);We&&Se({...Ve,_id:We._id,name:We.name,rollNumber:We.rollNumber,studentId:We.studentId,class:Mr(We.classId)})},className:"w-full border px-3 py-2 rounded-lg",required:!0,disabled:ye.students,children:[n.jsx("option",{value:"",children:ye.students?"Loading students...":"Select Student"}),f.map(Me=>n.jsxs("option",{value:Me._id,children:[Me.name," - ",Me.rollNumber]},Me._id))]}),n.jsx("input",{type:"text",value:Ve.studentId,readOnly:!0,placeholder:"Student ID",className:"w-full border px-3 py-2 rounded-lg bg-gray-100",required:!0}),n.jsx("select",{value:Ve.class,onChange:Me=>Se({...Ve,class:Me.target.value}),className:"w-full border px-3 py-2 rounded-lg",disabled:ye.classes,children:ye.classes?n.jsx("option",{children:"Loading classes..."}):V.map(Me=>n.jsx("option",{value:Me.displayName,children:Me.displayName},Me.displayName))}),n.jsxs("select",{value:Ve.attendance,onChange:Me=>Se({...Ve,attendance:Me.target.value}),className:"w-full border px-3 py-2 rounded-lg",children:[n.jsx("option",{value:"present",children:"Present"}),n.jsx("option",{value:"absent",children:"Absent"}),n.jsx("option",{value:"late",children:"Late"})]}),n.jsx("input",{type:"date",value:Ve.date,onChange:Me=>Se({...Ve,date:Me.target.value}),className:"w-full border px-3 py-2 rounded-lg"}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 rounded-lg transition-colors",disabled:ye.saving,children:"Cancel"}),n.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2",disabled:ye.saving,children:[ye.saving&&n.jsx(Er,{className:"w-4 h-4 animate-spin"}),ye.saving?"Saving...":c?"Update":"Add"]})]})]})]})}),j&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[n.jsx(da,{})," Daily Attendance Marking"]}),n.jsx("button",{onClick:()=>{N(!1),ee(null),q(!1),Y(r),ie(s)},className:"text-gray-500 hover:text-gray-700",children:n.jsx(cr,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Date:"}),n.jsx("input",{type:"date",value:S,onChange:Me=>B(Me.target.value),className:"border px-3 py-2 rounded-lg w-full"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Class:"}),n.jsxs("select",{value:r,onChange:Me=>vt(Me.target.value),className:"border px-3 py-2 rounded-lg w-full",disabled:ye.classes,children:[n.jsx("option",{value:"",children:ye.classes?"Loading classes...":"Select Class"}),[...new Set(V.map(Me=>Me.className))].map(Me=>n.jsx("option",{value:Me,children:Me},Me))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Section:"}),n.jsxs("select",{value:s,onChange:Me=>i(Me.target.value),className:"border px-3 py-2 rounded-lg w-full",disabled:ye.classes||!r,children:[n.jsx("option",{value:"",children:"Select Section"}),Te.map(Me=>n.jsx("option",{value:Me,children:Me||"No Section"},Me))]})]})]}),O.length>0?n.jsx("div",{className:"mb-4",children:(()=>{const Me=Wt();return Me.length>0?n.jsxs("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg flex items-center gap-2",children:[n.jsx(aI,{className:"w-5 h-5 text-orange-500"}),n.jsxs("span",{className:"text-orange-800",children:[n.jsx("strong",{children:Me.length})," students already have attendance for this date. Use"," ",n.jsx("strong",{children:"Edit button"})," to modify existing records."]})]}):n.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg flex items-center gap-2",children:[n.jsx(Dn,{className:"w-5 h-5 text-green-500"}),n.jsxs("span",{className:"text-green-800",children:["Ready to mark attendance for ",O.length," ","students"]})]})})()}):n.jsx("div",{className:"mb-4 p-3 bg-gray-100 border border-gray-200 rounded-lg flex items-center gap-2",children:n.jsx("span",{className:"text-gray-600",children:ye.students?"Loading students...":"No students found for the selected class and section"})}),n.jsxs("div",{className:"flex gap-3 mb-4",children:[n.jsxs("button",{onClick:()=>Ht("present"),className:"px-4 py-2 rounded-full text-xs font-medium transition-colors bg-green-600 hover:bg-green-700 text-white flex items-center gap-2",disabled:ye.students||O.length===0,children:[n.jsx(Dn,{})," Mark All Present"]}),n.jsxs("button",{onClick:()=>Ht("absent"),className:"px-4 py-2 rounded-full text-xs font-medium transition-colors bg-red-600 hover:bg-red-700 text-white flex items-center gap-2",disabled:ye.students||O.length===0,children:[n.jsx(cr,{})," Mark All Absent"]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[n.jsx("h3",{className:"font-medium mb-3",children:ye.students?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Er,{className:"w-4 h-4 animate-spin mx-auto mb-2 text-gray-400"}),"Loading students..."]}):O.length===0?`No students found for Class ${r} ${s?`(${s})`:""}`:`Students in Class ${r} ${s?`(${s})`:""} (${O.length} students)`}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-60 overflow-y-auto",children:ye.students?n.jsxs("div",{className:"col-span-2 text-center py-8",children:[n.jsx(Er,{className:"w-8 h-8 animate-spin mx-auto mb-2 text-gray-400"}),n.jsx("p",{className:"text-gray-500",children:"Loading students..."})]}):O.length===0?n.jsx("div",{className:"col-span-2 text-center py-8",children:n.jsx("p",{className:"text-gray-500",children:"No students found for the selected class and section."})}):O.map(Me=>{const We=ft(Me._id,S);return n.jsxs("div",{className:`bg-white p-3 rounded-lg border flex items-center justify-between ${We?"border-orange-300 bg-orange-50":"border-gray-200"}`,children:[n.jsxs("div",{children:[n.jsxs("div",{className:"font-medium flex items-center gap-2",children:[Me.name,We&&n.jsxs("span",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded",children:["Already marked:"," ",We.status.toUpperCase()]})]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Roll: ",Me.rollNumber]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>at(Me._id,"present"),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${I[Me._id]==="present"?"bg-green-500 text-white":"bg-gray-200 text-gray-700 hover:bg-green-100"}`,children:"Present"}),n.jsx("button",{onClick:()=>at(Me._id,"absent"),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${I[Me._id]==="absent"?"bg-red-500 text-white":"bg-gray-200 text-gray-700 hover:bg-red-100"}`,children:"Absent"}),n.jsx("button",{onClick:()=>at(Me._id,"late"),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${I[Me._id]==="late"?"bg-orange-500 text-white":"bg-gray-200 text-gray-700 hover:bg-orange-100"}`,children:"Late"})]})]},Me._id)})})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>{N(!1),ee(null),q(!1),Y(r),ie(s)},className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 rounded-lg transition-colors",disabled:ye.dailySaving,children:"Cancel"}),n.jsxs("button",{onClick:Gt,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2",disabled:ye.dailySaving||O.length===0,children:[ye.dailySaving&&n.jsx(Er,{className:"w-4 h-4 animate-spin"}),ye.dailySaving?"Saving...":`Save Attendance (${O.length} students)`]})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Attendance Management"}),n.jsx("p",{className:"text-gray-600",children:"Track and manage student attendance records"}),yt&&n.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["Teacher: ",yt.name," | Class Teacher of:"," ",V.map(Me=>Me.displayName).join(", ")]})]}),n.jsxs("button",{onClick:()=>N(!0),className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg flex items-center gap-2 transition-colors shadow-md",disabled:ye.students||ye.classes,children:[(ye.students||ye.classes)&&n.jsx(Er,{className:"w-4 h-4 animate-spin"}),n.jsx(ia,{})," Daily Marking"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Sa,{className:"text-gray-400"})}),n.jsx("input",{type:"text",value:xt,onChange:Me=>it(Me.target.value),placeholder:"Search students...",className:"pl-10 w-full border px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("select",{value:pe,onChange:Me=>et(Me.target.value),className:"w-full border px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:ye.classes,children:[n.jsx("option",{value:"",children:ye.classes?"Loading classes...":"Filter by Class"}),[...new Set(V.map(Me=>Me.className))].map(Me=>n.jsx("option",{value:Me,children:Me},Me))]}),n.jsxs("select",{value:Le,onChange:Me=>{ie(Me.target.value),he(1)},className:"w-full border px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:ye.classes||!pe,children:[n.jsx("option",{value:"",children:"Filter by Section"}),Te.map(Me=>n.jsx("option",{value:Me,children:Me||"No Section"},Me))]}),n.jsx("input",{type:"date",value:de,onChange:Me=>{je(Me.target.value),he(1)},className:"w-full border px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[n.jsxs("select",{value:y,onChange:pa,className:"w-64 border px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:ye.students,children:[n.jsx("option",{value:"",children:ye.students?"Loading students...":"View Individual Student"}),f.map(Me=>n.jsxs("option",{value:Me._id,children:[Me.name," - ",Me.rollNumber]},Me._id))]}),n.jsxs("button",{onClick:()=>{b(""),Y(""),ie(""),je(""),it(""),he(1)},className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 rounded-lg transition-colors flex items-center gap-2",disabled:ye.attendance,children:[n.jsx(cr,{})," Clear Filters"]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden attendance-table",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border-b",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-700 flex items-center gap-2",children:[n.jsx(mo,{className:"text-blue-500"}),"Attendance Records"]}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",St.length," of ",X," records"]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Roll No"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student Name"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student ID"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ye.attendance?n.jsx("tr",{children:n.jsx("td",{colSpan:"8",className:"px-6 py-8 text-center text-gray-500",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(Er,{className:"w-5 h-5 animate-spin"}),"Loading attendance records..."]})})}):St.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"8",className:"px-6 py-8 text-center text-gray-500",children:"No attendance records found matching your criteria"})}):St.map(Me=>{const{className:We,section:st}=ke(Me?.studentId?.classId);return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:Me?.studentId?.rollNumber||"N/A"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:n.jsx("button",{onClick:()=>ze(Me.studentId),className:"text-blue-600 hover:text-blue-800 hover:underline font-medium transition-colors",disabled:!Me.studentId,children:Me?.studentId?.name||"N/A"})}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:Me?.studentId?.studentId||"N/A"}),n.jsx("td",{className:"px-6 py-4 text-sm",children:n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:We})}),n.jsx("td",{className:"px-6 py-4 text-sm",children:n.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs font-medium",children:st})}),n.jsx("td",{className:"px-6 py-4 text-sm",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Me?.status==="present"?"bg-green-100 text-green-800":Me?.status==="absent"?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"}`,children:Me?.status?Me.status.charAt(0).toUpperCase()+Me.status.slice(1):"N/A"})}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:Me?.date?new Date(Me.date).toLocaleDateString():"N/A"}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{onClick:()=>ze(Me.studentId),className:"text-gray-600 hover:text-blue-600 p-2 rounded-lg hover:bg-blue-50 transition-colors",title:"View student attendance history",disabled:!Me.studentId,children:n.jsx(ys,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>gr(Me),className:"text-blue-600 hover:text-blue-800 p-2 rounded-lg hover:bg-blue-50 transition-colors",title:"Edit attendance",disabled:ye.saving,children:n.jsx(Ko,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Fr(Me._id),className:"text-red-600 hover:text-red-800 p-2 rounded-lg hover:bg-red-50 transition-colors",title:"Delete attendance",disabled:ye.deleting[Me._id],children:ye.deleting[Me._id]?n.jsx(Er,{className:"w-4 h-4 animate-spin"}):n.jsx(cs,{className:"w-4 h-4"})})]})})]},Me._id)})})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center p-4 bg-gray-50 border-t",children:[n.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",St.length," of ",X," records"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>Je(me-1),disabled:me===1,className:"p-2 rounded-lg bg-gray-200 hover:bg-gray-300 disabled:opacity-50 transition-colors",children:n.jsx(yo,{className:"w-4 h-4"})}),n.jsxs("span",{className:"text-sm",children:["Page ",me," of ",te]}),n.jsx("button",{onClick:()=>Je(me+1),disabled:me===te,className:"p-2 rounded-lg bg-gray-200 hover:bg-gray-300 disabled:opacity-50 transition-colors",children:n.jsx(Ni,{className:"w-4 h-4"})}),n.jsxs("select",{value:Ne,onChange:Me=>{ge(parseInt(Me.target.value)),he(1)},className:"border px-2 py-1 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:10,children:"10 per page"}),n.jsx("option",{value:20,children:"20 per page"}),n.jsx("option",{value:50,children:"50 per page"})]})]})]})]}),le&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[ue?.name,"'s Attendance History"]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Roll Number: ",ue?.rollNumber," | Student ID: ",ue?.studentId,ue?.classId&&n.jsxs("span",{className:"ml-2 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:["Class:"," ",Mr(ue.classId)]})]})]}),n.jsx("button",{onClick:Ke,className:"text-gray-400 hover:text-gray-600 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:n.jsx(cr,{className:"w-6 h-6"})})]}),n.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:z?n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),n.jsx("span",{className:"ml-3 text-gray-600",children:"Loading attendance history..."})]}):ve.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Attendance Records"}),n.jsx("p",{className:"text-gray-600",children:"No attendance records found for this student."})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Total Records:"," ",(oe?ve.filter(We=>{const st=new Date(We.date);return st.getFullYear()+"-"+String(st.getMonth()+1).padStart(2,"0")===oe}):ve).length]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter by Month:"}),n.jsx("input",{type:"month",value:oe,onChange:Me=>ce(Me.target.value),className:"border border-gray-300 rounded-lg px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),oe&&n.jsx("button",{onClick:()=>ce(""),className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"Clear"})]})]}),n.jsx("div",{className:"flex gap-4 text-sm",children:(()=>{const Me=oe?ve.filter(We=>{const st=new Date(We.date);return st.getFullYear()+"-"+String(st.getMonth()+1).padStart(2,"0")===oe}):ve;return n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),"Present:"," ",Me.filter(We=>We.status==="present").length]}),n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),"Absent:"," ",Me.filter(We=>We.status==="absent").length]}),n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),"Late:"," ",Me.filter(We=>We.status==="late").length]})]})})()})]}),n.jsx("div",{className:"bg-gray-50 rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recorded By"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ve.filter(Me=>{if(!oe)return!0;const We=new Date(Me.date);return We.getFullYear()+"-"+String(We.getMonth()+1).padStart(2,"0")===oe}).sort((Me,We)=>new Date(We.date)-new Date(Me.date)).map(Me=>{const{className:We,section:st}=ke(Me?.studentId?.classId);return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:Me.date?new Date(Me.date).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}):"N/A"}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Me.status==="present"?"bg-green-100 text-green-800":Me.status==="absent"?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"}`,children:Me.status?Me.status.charAt(0).toUpperCase()+Me.status.slice(1):"N/A"})}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:We})}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs font-medium",children:st})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:Me.recordedBy||"System"})]},Me._id)})})]})})]})})]})})]})},ig="https://vidyaastra.com/api",fz=({show:t,onClose:r,children:a})=>t?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 relative max-h-[90vh] overflow-y-auto",children:[n.jsx("button",{onClick:r,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600",children:n.jsx(cr,{className:"w-5 h-5"})}),a]})}):null,oNe=({show:t,onClose:r,data:a})=>t?n.jsxs(fz,{show:t,onClose:r,children:[n.jsx("h2",{className:"text-lg font-bold mb-4",children:"View Classwork Details"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"font-semibold text-gray-700",children:"Topic:"}),n.jsx("p",{className:"text-gray-600",children:a?.topic||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"font-semibold text-gray-700",children:"Subject:"}),n.jsx("p",{className:"text-gray-600",children:a?.subject||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"font-semibold text-gray-700",children:"Class:"}),n.jsx("p",{className:"text-gray-600",children:a?.className||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"font-semibold text-gray-700",children:"Section:"}),n.jsx("p",{className:"text-gray-600",children:a?.section||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"font-semibold text-gray-700",children:"Date:"}),n.jsx("p",{className:"text-gray-600",children:a?.date?new Date(a.date).toLocaleDateString():"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"font-semibold text-gray-700",children:"Description:"}),n.jsx("p",{className:"text-gray-600",children:a?.description||"N/A"})]}),a?.attachments&&a.attachments.length>0&&n.jsxs("div",{children:[n.jsx("label",{className:"font-semibold text-gray-700",children:"Attachments:"}),n.jsx("div",{className:"mt-2 space-y-1",children:a.attachments.map((s,i)=>n.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[n.jsx("span",{className:"text-sm text-gray-600",children:s.name||s.filename}),s.url&&n.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:n.jsx(Us,{className:"w-4 h-4"})})]},i))})]})]})]}):null,lNe=()=>{const[t,r]=w.useState(""),[a,s]=w.useState(!1),[i,o]=w.useState(!1),[l,c]=w.useState({}),[d,f]=w.useState({}),[u,m]=w.useState("add"),[p,g]=w.useState([]),[v,y]=w.useState(!1),[b,j]=w.useState(""),[N,S]=w.useState(null),[B,I]=w.useState(null),[F,O]=w.useState([]),[k,V]=w.useState([]),[Q,H]=w.useState(""),[M,K]=w.useState(""),[q,re]=w.useState([]),[ee,le]=w.useState(1),[Ae,ue]=w.useState(1),[se,ve]=w.useState("All"),[_,z]=w.useState("All"),ae=10;w.useEffect(()=>{const be=localStorage.getItem("schoolId"),Ee=localStorage.getItem("teacherId");be&&Ee?(S(be),I(Ee)):j("School ID or Teacher ID not found in local storage")},[]),w.useEffect(()=>{N&&B&&oe()},[N,B,ee,_]);const oe=async()=>{y(!0),j("");try{const Ee=(await It.get(`${ig}/teacher/${N}/${B}`)).data.data,Qe=Ee.classes||[],rt=Ee.subjects||[];V(rt);const xt=((await It.get(`${ig}/class?schoolId=${N}`)).data.data||[]).filter(ot=>Qe.includes(`${ot.className} ${ot.section||""}`.trim())).map(ot=>({...ot,className:ot.className,section:ot.section||""}));O(xt);const it=[...new Set(xt.map(ot=>ot.className))],_e=_==="All"?it:[_];if(_e.length===0){j("No classes assigned to this teacher."),g([]),ue(1),y(!1);return}const dt=await It.get(`${ig}/classwork/by-class-names`,{params:{schoolId:N,classNames:_e.join(","),page:ee,limit:ae}}),{classwork:yt,pagination:rr}=dt.data,_t=yt.map(ot=>({...ot,className:ot.classId?.className||"Unknown",section:ot.classId?.section||"N/A"})),Ve=new Set(xt.map(ot=>`${ot.className} ${ot.section||""}`.trim())),Se=_t.filter(ot=>Ve.has(`${ot.className} ${ot.section}`.trim()));g(Se),ue(rr.totalPages)}catch(be){console.error("Failed to fetch initial data:",be),j(be.response?.data?.message||"Failed to load classwork data. Please try again.")}finally{y(!1)}},ce=be=>new Date(be).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}),me=be=>({className:be?.className||"Unknown",section:be?.section||"N/A"}),he=w.useMemo(()=>p.filter(be=>{const Ee=be.topic?.toLowerCase().includes(t.toLowerCase())||be.subject?.toLowerCase().includes(t.toLowerCase())||be.description?.toLowerCase().includes(t.toLowerCase()),Qe=se==="All"||be.subject===se;return Ee&&Qe}),[t,se,p]);w.useEffect(()=>{le(1)},[t,se,_]);const te=ee*ae,J=te-ae,X=he.slice(J,te),xe=be=>{be>=1&&be<=Ae&&le(be)},Ne=()=>[...new Set(F.map(Ee=>Ee.className))].sort(),ge=be=>F.filter(Ee=>Ee.className===be).map(Ee=>Ee.section||"N/A").filter((Ee,Qe,rt)=>rt.indexOf(Ee)===Qe).sort(),pe=be=>{H(be);const Ee=ge(be);re(Ee);const Qe=Ee.length>0?Ee[0]:"";K(Qe);const rt=F.find(Te=>Te.className===be&&(Te.section||"N/A")===Qe);c({...l,classId:rt?._id||"",section:Qe})},Y=be=>{K(be);const Ee=F.find(Qe=>Qe.className===Q&&(Qe.section||"N/A")===be);c({...l,classId:Ee?._id||"",section:be})},Le=()=>{m("add"),c({topic:"",subject:k.length>0?k[0]:"",description:"",date:new Date().toISOString().split("T")[0],attachments:[],classId:""}),H(""),K(""),re([]),s(!0)},ie=be=>{m("edit");const Ee=me(be.classId);c({...be,date:be.date?be.date.split("T")[0]:new Date().toISOString().split("T")[0],attachments:be.attachments||[],classId:be.classId?._id||""}),H(Ee.className);const Qe=ge(Ee.className);re(Qe),K(Ee.section),s(!0)},de=be=>{f({...be,className:be.className,section:be.section}),o(!0)},je=async be=>{if(window.confirm("Are you sure you want to delete this classwork?"))try{await It.delete(`${ig}/classwork/${be}`,{data:{schoolId:N}}),alert("Classwork deleted successfully!"),oe()}catch(Ee){console.error("Failed to delete classwork:",Ee),alert("Failed to delete classwork. Please try again.")}},ye=async be=>{if(be.preventDefault(),!l.topic||!l.subject||!l.date||!l.classId){alert("Please fill in all required fields including selecting a class");return}const Ee=new FormData;Ee.append("topic",l.topic),Ee.append("subject",l.subject),Ee.append("description",l.description||""),Ee.append("date",l.date),Ee.append("schoolId",N),Ee.append("classId",l.classId),Ee.append("createdBy",B),l.newAttachments?.length&&l.newAttachments.forEach(Qe=>{Ee.append("attachments",Qe)});try{let Qe;u==="add"?(Qe=await It.post(`${ig}/classwork`,Ee,{headers:{"Content-Type":"multipart/form-data"}}),alert("Classwork added successfully!")):(Qe=await It.put(`${ig}/classwork/${l._id}`,Ee,{headers:{"Content-Type":"multipart/form-data"}}),alert("Classwork updated successfully!")),s(!1),c({}),oe()}catch(Qe){console.error("Submission failed:",Qe),alert(`Failed to ${u==="add"?"add":"update"} classwork. Please try again.`)}},Ce=be=>{const Ee=Array.from(be.target.files);c({...l,newAttachments:Ee})};return N?n.jsxs("div",{className:"min-h-screen bg-gray-50 h-screen overflow-y-scroll overflow-x-scroll",children:[n.jsxs("div",{className:"bg-indigo-600 text-white p-6 rounded-b-3xl shadow-lg flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ja,{className:"w-6 h-6"}),n.jsx("h1",{className:"text-2xl font-bold",children:"Classwork Management"})]}),n.jsxs("button",{onClick:Le,className:"bg-white bg-opacity-20 px-4 py-2 rounded-xl hover:bg-opacity-30 flex items-center space-x-2 transition-colors",children:[n.jsx(Fs,{className:"w-4 h-4"})," ",n.jsx("span",{children:"Add Classwork"})]})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx("input",{type:"text",value:t,onChange:be=>r(be.target.value),placeholder:"Search by topic, subject, or description...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),n.jsxs("select",{value:_,onChange:be=>z(be.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[n.jsx("option",{value:"All",children:"All Classes"}),Ne().map(be=>n.jsx("option",{value:be,children:be},be))]}),n.jsxs("select",{value:se,onChange:be=>ve(be.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[n.jsx("option",{value:"All",children:"All Subjects"}),k.map((be,Ee)=>n.jsx("option",{value:be,children:be},Ee))]})]}),b&&n.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:b}),v?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),n.jsx("p",{className:"mt-2 text-gray-600",children:"Loading classwork..."})]}):n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Topic"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Attachments"}),n.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:X.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"8",className:"px-6 py-8 text-center text-gray-500",children:t||_!=="All"||se!=="All"?"No classwork found matching your filters":"No classwork available"})}):X.map(be=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:be.topic})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:be.subject})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:be.className})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:be.section})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:ce(be.date)})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",title:be.description,children:be.description||"No description"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:be.attachments&&be.attachments.length>0?n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[be.attachments.length," file",be.attachments.length!==1?"s":""]}):n.jsx("span",{className:"text-gray-400",children:"No files"})})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{onClick:()=>de(be),className:"text-blue-600 hover:text-blue-900 p-1 rounded transition-colors",title:"View details",children:n.jsx(ys,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>ie(be),className:"text-indigo-600 hover:text-indigo-900 p-1 rounded transition-colors",title:"Edit classwork",children:n.jsx(Ko,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>je(be._id),className:"text-red-600 hover:text-red-900 p-1 rounded transition-colors",title:"Delete classwork",children:n.jsx(cs,{className:"w-4 h-4"})})]})})]},be._id))})]})}),Ae>1&&n.jsxs("div",{className:"flex justify-center items-center py-4 space-x-2",children:[n.jsx("button",{onClick:()=>xe(ee-1),disabled:ee===1,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg disabled:opacity-50 hover:bg-gray-300 transition-colors",children:"Previous"}),Array.from({length:Ae},(be,Ee)=>Ee+1).map(be=>n.jsx("button",{onClick:()=>xe(be),className:`px-4 py-2 rounded-lg transition-colors ${ee===be?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:be},be)),n.jsx("button",{onClick:()=>xe(ee+1),disabled:ee===Ae,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg disabled:opacity-50 hover:bg-gray-300 transition-colors",children:"Next"})]})]})]}),n.jsxs(fz,{show:a,onClose:()=>s(!1),children:[n.jsxs("h2",{className:"text-lg font-bold mb-4",children:[u==="add"?"Add New":"Edit"," Classwork"]}),n.jsxs("form",{onSubmit:ye,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Topic *"}),n.jsx("input",{type:"text",placeholder:"Enter topic",value:l?.topic||"",onChange:be=>c({...l,topic:be.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject *"}),n.jsxs("select",{value:l?.subject||"",onChange:be=>c({...l,subject:be.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"",children:"Select a subject"}),k.map((be,Ee)=>n.jsx("option",{value:be,children:be},Ee))]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the subject for this classwork"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class *"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Class Name"}),n.jsxs("select",{value:Q,onChange:be=>pe(be.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm",required:!0,children:[n.jsx("option",{value:"",children:"Select Class"}),Ne().map(be=>n.jsx("option",{value:be,children:be},be))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Section"}),n.jsxs("select",{value:M,onChange:be=>Y(be.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm",disabled:!Q,required:!0,children:[n.jsx("option",{value:"",children:"Select Section"}),q.map(be=>n.jsx("option",{value:be,children:be},be))]})]})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the class and section for this classwork"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date *"}),n.jsx("input",{type:"date",value:l?.date||"",onChange:be=>c({...l,date:be.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{placeholder:"Enter description",value:l?.description||"",onChange:be=>c({...l,description:be.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",rows:3})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload Documents"}),n.jsx("input",{type:"file",multiple:!0,onChange:Ce,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.txt,.xlsx,.xls,.ppt,.pptx"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supported formats: PDF, DOC, DOCX, JPG, JPEG, PNG, TXT, Excel, PowerPoint"}),l?.newAttachments&&l.newAttachments.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Selected files:"}),n.jsx("div",{className:"mt-1 space-y-1",children:Array.from(l.newAttachments).map((be,Ee)=>n.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded text-sm",children:[n.jsx("span",{className:"text-gray-600",children:be.name}),n.jsxs("span",{className:"text-gray-400",children:[(be.size/1024/1024).toFixed(2)," MB"]})]},Ee))})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>s(!1),className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:u==="add"?"Add Classwork":"Update Classwork"})]})]})]}),n.jsx(oNe,{show:i,onClose:()=>o(!1),data:d})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center",children:[n.jsx(ua,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Missing Required Information"}),n.jsx("p",{className:"text-gray-600",children:"School ID is required to manage classwork."}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please ensure you are logged in and try refreshing the page."})]})})},cNe=()=>{const[t,r]=w.useState(""),[a,s]=w.useState(!1),[i,o]=w.useState(!1),[l,c]=w.useState(!1),[d,f]=w.useState(null),[u,m]=w.useState("All"),[p,g]=w.useState("All"),[v,y]=w.useState("All"),[b,j]=w.useState([]),[N,S]=w.useState([]),[B,I]=w.useState([]),[F,O]=w.useState([]),[k,V]=w.useState(!1),[Q,H]=w.useState(""),[M,K]=w.useState(null),[q,re]=w.useState({selectedClassId:"",selectedStudentIds:[],selectedStudents:[],subject:"",title:"",description:"",dueDate:"",priority:"low",status:"pending",schoolId:""}),[ee,le]=w.useState([]),Ae="https://vidyaastra.com/api",ue=["low","medium","high"];w.useEffect(()=>{const je=localStorage.getItem("schoolId");je?(K(je),re(ye=>({...ye,schoolId:je}))):H("School ID not found in local storage")},[]),w.useEffect(()=>{M&&se()},[M]);const se=async()=>{V(!0);try{await Promise.all([_(),z(),ve(),ae()])}catch(je){H("Failed to load initial data"),console.error("Error fetching initial data:",je)}finally{V(!1)}},ve=async()=>{try{const je=await It.get(`${Ae}/subject/${M}/subjects`);if(je.data.success){const ye=je.data.data.map(Ce=>Ce.SubjectName);O(ye)}else H("Failed to fetch subjects: Invalid response"),O([])}catch(je){console.error("Error fetching subjects:",je),H("Failed to fetch subjects"),O([])}},_=async()=>{try{const je=await It.get(`${Ae}/students?schoolId=${M}`);S(je.data)}catch(je){console.error("Error fetching students:",je),H("Failed to fetch students")}},z=async()=>{try{const je=await It.get(`${Ae}/class?schoolId=${M}`);if(je.data.success){const ye=je.data.data.map(Ce=>({_id:Ce._id,className:Ce.className,section:Ce.section||""}));I(ye)}else H("Failed to fetch classes: Invalid response")}catch(je){console.error("Error fetching classes:",je),H("Failed to fetch classes")}},ae=async()=>{try{const ye=(await It.get(`${Ae}/students?schoolId=${M}`)).data;let Ce=[];for(const be of ye)try{const Ee=await It.get(`${Ae}/assignments?studentId=${be._id}&schoolId=${M}`);if(Ee.data.success){const Qe=Ee.data.data.map(rt=>({...rt,id:rt._id,studentId:be._id,studentName:be.name,rollNo:be.rollNumber,class:be.classId?.className?`${be.classId.className}${be.classId.section?` ${be.classId.section}`:""}`:be.class||"Unknown",priority:rt.priority.toUpperCase(),dueDate:rt.dueDate.split("T")[0]}));Ce=[...Ce,...Qe]}}catch(Ee){console.error(`Error fetching homeworks for student ${be._id}:`,Ee)}j(Ce)}catch(je){console.error("Error fetching homeworks:",je),H("Failed to fetch homeworks")}},oe=b.filter(je=>{const ye=je.title?.toLowerCase().includes(t.toLowerCase())||je.subject?.toLowerCase().includes(t.toLowerCase())||je.studentName?.toLowerCase().includes(t.toLowerCase())||je.rollNo?.toLowerCase().includes(t.toLowerCase())||je.description?.toLowerCase().includes(t.toLowerCase()),Ce=u==="All"||je.subject===u,be=p==="All"||je.status===p,Ee=v==="All"||je.class.includes(v);return ye&&Ce&&be&&Ee});w.useEffect(()=>{if(q.selectedClassId&&N.length>0){const je=N.filter(ye=>ye.classId?._id===q.selectedClassId||ye.classId===q.selectedClassId);le(je)}else le([])},[q.selectedClassId,N]);const ce=()=>{re({selectedClassId:"",selectedStudentIds:[],selectedStudents:[],subject:"",title:"",description:"",dueDate:"",priority:"low",status:"pending",schoolId:M||""}),le([]),o(!1),c(!1),s(!0)},me=je=>{re({selectedClassId:"",selectedStudentIds:[je.studentId],selectedStudents:[{_id:je.studentId,name:je.studentName,rollNumber:je.rollNo}],subject:je.subject,title:je.title,description:je.description,dueDate:je.dueDate,priority:je.priority.toLowerCase(),status:je.status,schoolId:M||""}),f(je),o(!0),c(!1),s(!0)},he=je=>{re({selectedClassId:"",selectedStudentIds:[je.studentId],selectedStudents:[{_id:je.studentId,name:je.studentName,rollNumber:je.rollNo}],subject:je.subject,title:je.title,description:je.description,dueDate:je.dueDate,priority:je.priority.toLowerCase(),status:je.status,schoolId:M||""}),f(je),o(!1),c(!0),s(!0)},te=()=>{s(!1),f(null),o(!1),c(!1),H("")},J=je=>{const{name:ye,value:Ce}=je.target;re(ye==="selectedClassId"?{...q,selectedClassId:Ce,selectedStudentIds:[],selectedStudents:[],schoolId:M||""}:{...q,[ye]:Ce})},X=(je,ye)=>{re(ye?{...q,selectedStudentIds:[...q.selectedStudentIds,je._id],selectedStudents:[...q.selectedStudents,je]}:{...q,selectedStudentIds:q.selectedStudentIds.filter(Ce=>Ce!==je._id),selectedStudents:q.selectedStudents.filter(Ce=>Ce._id!==je._id)})},xe=je=>{re(je?{...q,selectedStudentIds:ee.map(ye=>ye._id),selectedStudents:ee}:{...q,selectedStudentIds:[],selectedStudents:[]})},Ne=async()=>{if(!M){H("School ID is required");return}if(!i&&q.selectedStudentIds.length===0){H("Please select at least one student");return}V(!0),H("");try{const je={subject:q.subject,title:q.title,description:q.description,dueDate:q.dueDate,priority:q.priority,studentIds:q.selectedStudentIds,schoolId:q.schoolId};i?(await It.put(`${Ae}/assignments/${d._id}`,je)).data.success&&(await ae(),te()):(await It.post(`${Ae}/assignments`,je)).data.success&&(await ae(),te())}catch(je){console.error("Error saving assignment:",je),H(je.response?.data?.message||"Failed to save assignment")}finally{V(!1)}},ge=async je=>{if(!M){H("School ID is required");return}if(window.confirm("Are you sure you want to delete this homework?")){V(!0);try{const ye=await It.delete(`${Ae}/assignments/${je._id}`,{data:{schoolId:M}});ye.data.success?await ae():H("Failed to delete assignment: "+ye.data.message)}catch(ye){console.error("Error deleting assignment:",ye),H(ye.response?.data?.message||"Failed to delete assignment")}finally{V(!1)}}},pe=je=>{switch(je?.toUpperCase()){case"HIGH":return"bg-red-100 text-red-800";case"MEDIUM":return"bg-orange-100 text-orange-800";case"LOW":return"bg-green-100 text-green-800";case"A":return"bg-green-100 text-green-800";case"B+":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},Y=je=>je==="submitted"?n.jsx(ji,{className:"w-4 h-4 text-green-600"}):n.jsx(Ea,{className:"w-4 h-4 text-orange-600"}),Le=je=>new Date(je).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),ie=b.filter(je=>je.status==="pending").length,de=b.filter(je=>je.status==="submitted").length;return k&&b.length===0?n.jsx("div",{className:"flex items-center justify-center h-screen",children:n.jsx("div",{className:"text-lg",children:"Loading homeworks..."})}):n.jsxs("div",{className:"space-y-6 h-screen overflow-y-scroll",children:[Q&&n.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:Q}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Student HomeWork Management"}),n.jsx("p",{className:"text-gray-600",children:"Manage homeworks with student details"})]}),n.jsxs("button",{onClick:ce,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",disabled:!M,children:[n.jsx(Fs,{className:"w-5 h-5 mr-2"}),"Add Homework"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search Homework, students...",value:t,onChange:je=>r(je.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("select",{value:v,onChange:je=>y(je.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"All",children:"All Classes"}),B.map(je=>n.jsxs("option",{value:je.className,children:[je.className,je.section?` ${je.section}`:""]},je._id))]}),n.jsxs("select",{value:u,onChange:je=>m(je.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"All",children:"All Subjects"}),F.map(je=>n.jsx("option",{value:je,children:je},je))]}),n.jsxs("select",{value:p,onChange:je=>g(je.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"All",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"submitted",children:"Submitted"}),n.jsx("option",{value:"graded",children:"Graded"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Pending (",ie,")"]}),n.jsxs("div",{className:"bg-green-100 text-green-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Submitted (",de,")"]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-max table-auto",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Student Info"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Roll No"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Class"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Subject"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Due Date"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority/Grade"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase w-32",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:oe.map(je=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ts,{className:"w-5 h-5 text-gray-400 mr-2"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:je.studentName}),n.jsx("div",{className:"text-xs text-gray-500",children:"Student"})]})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:"text-sm font-mono text-gray-900 bg-gray-100 px-2 py-1 rounded",children:je.rollNo})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:je.class})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ja,{className:"w-4 h-4 text-blue-600 mr-2"}),n.jsx("span",{className:"text-sm font-medium text-blue-600",children:je.subject})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"max-w-xs",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:je.title}),n.jsx("div",{className:"text-xs text-gray-500 mt-1 truncate",children:je.description})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ia,{className:"w-4 h-4 text-gray-400 mr-2"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-900",children:Le(je.dueDate)}),je.submittedDate&&n.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Submitted: ",Le(je.submittedDate)]})]})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${pe(je.priority)}`,children:je.status==="graded"&&je.grade?je.grade:je.priority})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[Y(je.status),n.jsx("span",{className:`ml-2 text-sm font-medium capitalize ${je.status==="submitted"||je.status==="graded"?"text-green-600":"text-orange-600"}`,children:je.status})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>he(je),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full transition-colors duration-200",title:"View","aria-label":"View assignment",children:n.jsx(ys,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>me(je),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full transition-colors duration-200",title:"Edit","aria-label":"Edit assignment",children:n.jsx(Ko,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>ge(je),className:"p-2 text-red-600 hover:bg-red-100 rounded-full transition-colors duration-200",title:"Delete","aria-label":"Delete assignment",children:n.jsx(cs,{className:"w-5 h-5"})})]})})]},je.id))})]})}),oe.length===0&&!k&&n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(da,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"No assignments found"})]})]}),a&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:l?"View Assignment":i?"Edit Assignment":"Create New Assignment"}),n.jsx("button",{onClick:te,className:"text-gray-500 hover:text-gray-700",children:n.jsx(cr,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[Q&&n.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:Q}),!i&&!l&&n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-4 flex items-center",children:[n.jsx(da,{className:"w-5 h-5 mr-2"}),"Select Class & Students"]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Class First"}),n.jsxs("select",{name:"selectedClassId",value:q.selectedClassId,onChange:J,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[n.jsx("option",{value:"",children:"Choose a class..."}),B.map(je=>n.jsxs("option",{value:je._id,children:[je.className,je.section?` ${je.section}`:""]},je._id))]})]}),q.selectedClassId&&ee.length>0&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Select Students (",q.selectedStudentIds.length," ","selected)"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{type:"button",onClick:()=>xe(!0),className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:"Select All"}),n.jsx("button",{type:"button",onClick:()=>xe(!1),className:"text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"Clear All"})]})]}),n.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-lg",children:ee.map(je=>n.jsxs("div",{className:"flex items-center p-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:[n.jsx("input",{type:"checkbox",id:`student-${je._id}`,checked:q.selectedStudentIds.includes(je._id),onChange:ye=>X(je,ye.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("label",{htmlFor:`student-${je._id}`,className:"ml-3 flex-1 cursor-pointer",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:je.name}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Roll No: ",je.rollNumber]})]}),n.jsx(Ts,{className:"w-4 h-4 text-gray-400"})]})})]},je._id))})]}),q.selectedClassId&&ee.length===0&&n.jsx("div",{className:"text-center py-4 text-gray-500",children:"No students found in this class"})]}),(i||l)&&n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"Student Information"}),q.selectedStudents.map(je=>n.jsxs("div",{className:"flex items-center p-2 bg-white rounded border",children:[n.jsx(Ts,{className:"w-4 h-4 text-gray-400 mr-2"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:je.name}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Roll No: ",je.rollNumber]})]})]},je._id))]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"Homework Details"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),n.jsxs("select",{name:"subject",value:q.subject,onChange:J,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,disabled:l,children:[n.jsx("option",{value:"",children:"Select Subject"}),F.map(je=>n.jsx("option",{value:je,children:je},je))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignment Title"}),n.jsx("input",{type:"text",name:"title",value:q.title,onChange:J,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,disabled:l})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{name:"description",value:q.description,onChange:J,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,disabled:l})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),n.jsx("input",{type:"date",name:"dueDate",value:q.dueDate,onChange:J,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,disabled:l})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),n.jsx("select",{name:"priority",value:q.priority,onChange:J,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,disabled:l,children:ue.map(je=>n.jsx("option",{value:je,children:je.toUpperCase()},je))})]})]})]})]}),!l&&n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:te,disabled:k,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),n.jsxs("button",{type:"button",onClick:Ne,disabled:k||!M||!i&&q.selectedStudentIds.length===0,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400 flex items-center justify-center space-x-2",children:[n.jsx(Go,{className:"w-4 h-4"}),n.jsxs("span",{children:[k?"Saving...":i?"Update":"Create"," ","Assignment",!i&&q.selectedStudentIds.length>0&&` (${q.selectedStudentIds.length} students)`]})]})]}),l&&n.jsx("div",{className:"flex justify-end pt-4",children:n.jsx("button",{type:"button",onClick:te,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Close"})})]})]})})]})};function aD(t){return fr({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9 4h2v5l-1-.75L9 9V4zm9 16H6V4h1v9l3-2.25L13 13V4h5v16z"},child:[]}]})(t)}const dNe=()=>{const[t,r]=w.useState(!1),a=gd(),s=Ff(),i=localStorage.getItem("schoolLogo")||"";console.log(i);const o=localStorage.getItem("schoolId"),l=localStorage.getItem("teacherId"),[c,d]=w.useState(),[f,u]=w.useState(null),m=[{id:"attendance",path:"/teacher/attendance",icon:mB,label:"Attendance",color:"text-emerald-600"},{id:"assignments",path:"/teacher/assignments",icon:Ja,label:"Home work",color:"text-orange-600"},{id:"classwork",path:"/teacher/classworks",icon:aD,label:"Classwork",color:"text-emerald-600"},{id:"submittedAssignments",path:"/teacher/submittedAssignments",icon:aD,label:"Submitted Assignments",color:"text-emerald-600"}],p=()=>{r(!t)},g=y=>y?y.split(" ").map(b=>b[0]).join("").toUpperCase():"TU";w.useEffect(()=>{(async()=>{try{const j=await(await fetch(`https://vidyaastra.com/api/schools/${o}`)).json();d(j.data.logoUrl)}catch(b){console.error("Error fetching albums:",b)}})()},[o]),w.useEffect(()=>{o&&l&&(async()=>{try{const j=await(await fetch(`https://vidyaastra.com/api/teacher/${o}/${l}`)).json();u(j.data)}catch(b){console.error("Error fetching teacher:",b)}})()},[o,l]);const v=()=>{localStorage.removeItem("teacherToken"),s("/login")};return console.log(f,"teacher"),n.jsxs("div",{className:`bg-white h-screen shadow-xl transition-all duration-700 ease-in-out ${t?"w-20":"w-72"} min-h-screen relative`,style:{margin:0,padding:0,marginLeft:0,paddingLeft:0,left:0,position:"relative"},children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:`flex items-center space-x-3 transition-all duration-700 ease-in-out ${t?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:n.jsx("img",{src:`https://vidyaastra.com${c}`,alt:"School Logo",className:"w-12 h-12 rounded-xl object-contain shadow-lg",style:{backgroundColor:"white"}})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"SchoolTeacher"}),n.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Management Panel"})]})]}),n.jsx("button",{onClick:p,className:"p-3 rounded-xl hover:bg-gray-100 active:bg-gray-200 transition-all duration-300 ease-in-out group transform hover:scale-110 active:scale-95 hover:rotate-3",children:n.jsxs("div",{className:"relative w-5 h-5",children:[n.jsx(gB,{className:`absolute w-5 h-5 text-gray-600 group-hover:text-gray-800 transition-all duration-500 ease-in-out transform ${t?"opacity-100 rotate-0 scale-100":"opacity-0 rotate-180 scale-75"}`}),n.jsx(cr,{className:`absolute w-5 h-5 text-gray-600 group-hover:text-gray-800 transition-all duration-500 ease-in-out transform ${t?"opacity-0 rotate-180 scale-75":"opacity-100 rotate-0 scale-100"}`})]})})]})}),n.jsx("nav",{className:"p-4",children:n.jsx("ul",{className:"space-y-2",children:m.map(y=>{const b=y.icon,j=a.pathname===y.path||a.pathname==="/"&&y.path==="/dashboard";return n.jsx("li",{children:n.jsxs(Nn,{to:y.path,className:`w-full flex items-center space-x-3 p-3 rounded-xl transition-all duration-300 ease-in-out group ${j?"bg-gradient-to-r from-purple-500 to-blue-500 text-white shadow-lg transform scale-105":"hover:bg-gray-50 text-gray-700 hover:shadow-md hover:scale-102"}`,children:[n.jsx(b,{className:`w-5 h-5 flex-shrink-0 ${j?"text-white":`${y.color} group-hover:scale-110`} transition-all duration-300 ease-in-out`}),n.jsx("span",{className:`font-medium transition-all duration-700 ease-in-out ${j?"text-white":"text-gray-700 group-hover:text-gray-900"} ${t?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:y.label}),j&&!t&&n.jsx("div",{className:"ml-auto w-2 h-2 bg-white rounded-full animate-pulse flex-shrink-0"})]})},y.id)})})}),n.jsx("div",{className:`absolute bottom-6 left-4 right-4 transition-all duration-700 ease-in-out ${t?"opacity-0 scale-95 pointer-events-none":"opacity-100 scale-100"}`,children:n.jsx("div",{className:"bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-600 rounded-xl p-4 text-white shadow-lg",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[f?.profilePic?n.jsx("img",{src:`https://vidyaastra.com${f.profilePic}`,alt:f.name,className:"w-12 h-12 rounded-xl object-cover shadow-lg"}):n.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:n.jsx("span",{className:"text-sm font-bold",children:g(f?.name||"Teacher User")})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-sm",children:f?.name||"Teacher User"}),n.jsx("p",{className:"text-xs opacity-80",children:f?.email||"teacher@school.com"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-all duration-200 ease-in-out",children:n.jsx(sm,{className:"w-4 h-4"})}),n.jsx("button",{onClick:v,className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-all duration-200 ease-in-out",title:"Logout",children:n.jsx(sy,{className:"w-4 h-4"})})]})]})})}),n.jsx("div",{className:`absolute bottom-6 left-1/2 transform -translate-x-1/2 transition-all duration-700 ease-in-out ${t?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,children:n.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[f?.profilePicture?n.jsx("img",{src:`https://vidyaastra.com${f.profilePicture}`,alt:f.name,className:"w-12 h-12 rounded-xl object-cover shadow-lg hover:scale-105 transition-transform duration-200"}):n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-blue-500 rounded-xl flex items-center justify-center shadow-lg hover:scale-105 transition-transform duration-200",children:n.jsx("span",{className:"text-white font-bold text-sm",children:g(f?.name||"TU")})}),n.jsx("button",{onClick:v,className:"w-12 h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center shadow-lg hover:scale-105 transition-transform duration-200",title:"Logout",children:n.jsx(sy,{className:"w-5 h-5 text-white"})})]})})]})},K6=w.createContext({});function G6(t){const r=w.useRef(null);return r.current===null&&(r.current=t()),r.current}const W6=typeof window<"u",Az=W6?w.useLayoutEffect:w.useEffect,z4=w.createContext(null);function q6(t,r){t.indexOf(r)===-1&&t.push(r)}function Y6(t,r){const a=t.indexOf(r);a>-1&&t.splice(a,1)}const KA=(t,r,a)=>a>r?r:a<t?t:a;let X6=()=>{};const GA={},hz=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function mz(t){return typeof t=="object"&&t!==null}const pz=t=>/^0[^.\s]+$/u.test(t);function J6(t){let r;return()=>(r===void 0&&(r=t()),r)}const md=t=>t,uNe=(t,r)=>a=>r(t(a)),hv=(...t)=>t.reduce(uNe),ky=(t,r,a)=>{const s=r-t;return s===0?1:(a-t)/s};class Z6{constructor(){this.subscriptions=[]}add(r){return q6(this.subscriptions,r),()=>Y6(this.subscriptions,r)}notify(r,a,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](r,a,s);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(r,a,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const bf=t=>t*1e3,wf=t=>t/1e3;function gz(t,r){return r?t*(1e3/r):0}const xz=(t,r,a)=>(((1-3*a+3*r)*t+(3*a-6*r))*t+3*r)*t,fNe=1e-7,ANe=12;function hNe(t,r,a,s,i){let o,l,c=0;do l=r+(a-r)/2,o=xz(l,s,i)-t,o>0?a=l:r=l;while(Math.abs(o)>fNe&&++c<ANe);return l}function mv(t,r,a,s){if(t===r&&a===s)return md;const i=o=>hNe(o,0,1,t,a);return o=>o===0||o===1?o:xz(i(o),r,s)}const yz=t=>r=>r<=.5?t(2*r)/2:(2-t(2*(1-r)))/2,vz=t=>r=>1-t(1-r),bz=mv(.33,1.53,.69,.99),eT=vz(bz),wz=yz(eT),jz=t=>(t*=2)<1?.5*eT(t):.5*(2-Math.pow(2,-10*(t-1))),tT=t=>1-Math.sin(Math.acos(t)),Nz=vz(tT),Sz=yz(tT),mNe=mv(.42,0,1,1),pNe=mv(0,0,.58,1),Cz=mv(.42,0,.58,1),gNe=t=>Array.isArray(t)&&typeof t[0]!="number",Bz=t=>Array.isArray(t)&&typeof t[0]=="number",xNe={linear:md,easeIn:mNe,easeInOut:Cz,easeOut:pNe,circIn:tT,circInOut:Sz,circOut:Nz,backIn:eT,backInOut:wz,backOut:bz,anticipate:jz},yNe=t=>typeof t=="string",sD=t=>{if(Bz(t)){X6(t.length===4);const[r,a,s,i]=t;return mv(r,a,s,i)}else if(yNe(t))return xNe[t];return t},Mb=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function vNe(t,r){let a=new Set,s=new Set,i=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(u){l.has(u)&&(f.schedule(u),t()),u(c)}const f={schedule:(u,m=!1,p=!1)=>{const v=p&&i?a:s;return m&&l.add(u),v.has(u)||v.add(u),u},cancel:u=>{s.delete(u),l.delete(u)},process:u=>{if(c=u,i){o=!0;return}i=!0,[a,s]=[s,a],a.forEach(d),a.clear(),i=!1,o&&(o=!1,f.process(u))}};return f}const bNe=40;function Ez(t,r){let a=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>a=!0,l=Mb.reduce((S,B)=>(S[B]=vNe(o),S),{}),{setup:c,read:d,resolveKeyframes:f,preUpdate:u,update:m,preRender:p,render:g,postRender:v}=l,y=()=>{const S=GA.useManualTiming?i.timestamp:performance.now();a=!1,GA.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(S-i.timestamp,bNe),1)),i.timestamp=S,i.isProcessing=!0,c.process(i),d.process(i),f.process(i),u.process(i),m.process(i),p.process(i),g.process(i),v.process(i),i.isProcessing=!1,a&&r&&(s=!1,t(y))},b=()=>{a=!0,s=!0,i.isProcessing||t(y)};return{schedule:Mb.reduce((S,B)=>{const I=l[B];return S[B]=(F,O=!1,k=!1)=>(a||b(),I.schedule(F,O,k)),S},{}),cancel:S=>{for(let B=0;B<Mb.length;B++)l[Mb[B]].cancel(S)},state:i,steps:l}}const{schedule:An,cancel:bm,state:oo,steps:m5}=Ez(typeof requestAnimationFrame<"u"?requestAnimationFrame:md,!0);let t2;function wNe(){t2=void 0}const Ml={now:()=>(t2===void 0&&Ml.set(oo.isProcessing||GA.useManualTiming?oo.timestamp:performance.now()),t2),set:t=>{t2=t,queueMicrotask(wNe)}},Tz=t=>r=>typeof r=="string"&&r.startsWith(t),rT=Tz("--"),jNe=Tz("var(--"),aT=t=>jNe(t)?NNe.test(t.split("/*")[0].trim()):!1,NNe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ux={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},_y={...ux,transform:t=>KA(0,1,t)},Ub={...ux,default:1},G1=t=>Math.round(t*1e5)/1e5,sT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SNe(t){return t==null}const CNe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,nT=(t,r)=>a=>!!(typeof a=="string"&&CNe.test(a)&&a.startsWith(t)||r&&!SNe(a)&&Object.prototype.hasOwnProperty.call(a,r)),Fz=(t,r,a)=>s=>{if(typeof s!="string")return s;const[i,o,l,c]=s.match(sT);return{[t]:parseFloat(i),[r]:parseFloat(o),[a]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},BNe=t=>KA(0,255,t),p5={...ux,transform:t=>Math.round(BNe(t))},E0={test:nT("rgb","red"),parse:Fz("red","green","blue"),transform:({red:t,green:r,blue:a,alpha:s=1})=>"rgba("+p5.transform(t)+", "+p5.transform(r)+", "+p5.transform(a)+", "+G1(_y.transform(s))+")"};function ENe(t){let r="",a="",s="",i="";return t.length>5?(r=t.substring(1,3),a=t.substring(3,5),s=t.substring(5,7),i=t.substring(7,9)):(r=t.substring(1,2),a=t.substring(2,3),s=t.substring(3,4),i=t.substring(4,5),r+=r,a+=a,s+=s,i+=i),{red:parseInt(r,16),green:parseInt(a,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const y3={test:nT("#"),parse:ENe,transform:E0.transform},pv=t=>({test:r=>typeof r=="string"&&r.endsWith(t)&&r.split(" ").length===1,parse:parseFloat,transform:r=>`${r}${t}`}),Kh=pv("deg"),jf=pv("%"),na=pv("px"),TNe=pv("vh"),FNe=pv("vw"),nD={...jf,parse:t=>jf.parse(t)/100,transform:t=>jf.transform(t*100)},mg={test:nT("hsl","hue"),parse:Fz("hue","saturation","lightness"),transform:({hue:t,saturation:r,lightness:a,alpha:s=1})=>"hsla("+Math.round(t)+", "+jf.transform(G1(r))+", "+jf.transform(G1(a))+", "+G1(_y.transform(s))+")"},ni={test:t=>E0.test(t)||y3.test(t)||mg.test(t),parse:t=>E0.test(t)?E0.parse(t):mg.test(t)?mg.parse(t):y3.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?E0.transform(t):mg.transform(t),getAnimatableNone:t=>{const r=ni.parse(t);return r.alpha=0,ni.transform(r)}},INe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function kNe(t){return isNaN(t)&&typeof t=="string"&&(t.match(sT)?.length||0)+(t.match(INe)?.length||0)>0}const Iz="number",kz="color",_Ne="var",PNe="var(",iD="${}",ONe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Py(t){const r=t.toString(),a=[],s={color:[],number:[],var:[]},i=[];let o=0;const c=r.replace(ONe,d=>(ni.test(d)?(s.color.push(o),i.push(kz),a.push(ni.parse(d))):d.startsWith(PNe)?(s.var.push(o),i.push(_Ne),a.push(d)):(s.number.push(o),i.push(Iz),a.push(parseFloat(d))),++o,iD)).split(iD);return{values:a,split:c,indexes:s,types:i}}function _z(t){return Py(t).values}function Pz(t){const{split:r,types:a}=Py(t),s=r.length;return i=>{let o="";for(let l=0;l<s;l++)if(o+=r[l],i[l]!==void 0){const c=a[l];c===Iz?o+=G1(i[l]):c===kz?o+=ni.transform(i[l]):o+=i[l]}return o}}const DNe=t=>typeof t=="number"?0:ni.test(t)?ni.getAnimatableNone(t):t;function LNe(t){const r=_z(t);return Pz(t)(r.map(DNe))}const wm={test:kNe,parse:_z,createTransformer:Pz,getAnimatableNone:LNe};function g5(t,r,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?t+(r-t)*6*a:a<1/2?r:a<2/3?t+(r-t)*(2/3-a)*6:t}function MNe({hue:t,saturation:r,lightness:a,alpha:s}){t/=360,r/=100,a/=100;let i=0,o=0,l=0;if(!r)i=o=l=a;else{const c=a<.5?a*(1+r):a+r-a*r,d=2*a-c;i=g5(d,c,t+1/3),o=g5(d,c,t),l=g5(d,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:s}}function ww(t,r){return a=>a>0?r:t}const Sn=(t,r,a)=>t+(r-t)*a,x5=(t,r,a)=>{const s=t*t,i=a*(r*r-s)+s;return i<0?0:Math.sqrt(i)},UNe=[y3,E0,mg],RNe=t=>UNe.find(r=>r.test(t));function oD(t){const r=RNe(t);if(!r)return!1;let a=r.parse(t);return r===mg&&(a=MNe(a)),a}const lD=(t,r)=>{const a=oD(t),s=oD(r);if(!a||!s)return ww(t,r);const i={...a};return o=>(i.red=x5(a.red,s.red,o),i.green=x5(a.green,s.green,o),i.blue=x5(a.blue,s.blue,o),i.alpha=Sn(a.alpha,s.alpha,o),E0.transform(i))},v3=new Set(["none","hidden"]);function QNe(t,r){return v3.has(t)?a=>a<=0?t:r:a=>a>=1?r:t}function HNe(t,r){return a=>Sn(t,r,a)}function iT(t){return typeof t=="number"?HNe:typeof t=="string"?aT(t)?ww:ni.test(t)?lD:VNe:Array.isArray(t)?Oz:typeof t=="object"?ni.test(t)?lD:$Ne:ww}function Oz(t,r){const a=[...t],s=a.length,i=t.map((o,l)=>iT(o)(o,r[l]));return o=>{for(let l=0;l<s;l++)a[l]=i[l](o);return a}}function $Ne(t,r){const a={...t,...r},s={};for(const i in a)t[i]!==void 0&&r[i]!==void 0&&(s[i]=iT(t[i])(t[i],r[i]));return i=>{for(const o in s)a[o]=s[o](i);return a}}function zNe(t,r){const a=[],s={color:0,var:0,number:0};for(let i=0;i<r.values.length;i++){const o=r.types[i],l=t.indexes[o][s[o]],c=t.values[l]??0;a[i]=c,s[o]++}return a}const VNe=(t,r)=>{const a=wm.createTransformer(r),s=Py(t),i=Py(r);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?v3.has(t)&&!i.values.length||v3.has(r)&&!s.values.length?QNe(t,r):hv(Oz(zNe(s,i),i.values),a):ww(t,r)};function Dz(t,r,a){return typeof t=="number"&&typeof r=="number"&&typeof a=="number"?Sn(t,r,a):iT(t)(t,r)}const KNe=t=>{const r=({timestamp:a})=>t(a);return{start:(a=!0)=>An.update(r,a),stop:()=>bm(r),now:()=>oo.isProcessing?oo.timestamp:Ml.now()}},Lz=(t,r,a=10)=>{let s="";const i=Math.max(Math.round(r/a),2);for(let o=0;o<i;o++)s+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},jw=2e4;function oT(t){let r=0;const a=50;let s=t.next(r);for(;!s.done&&r<jw;)r+=a,s=t.next(r);return r>=jw?1/0:r}function GNe(t,r=100,a){const s=a({...t,keyframes:[0,r]}),i=Math.min(oT(s),jw);return{type:"keyframes",ease:o=>s.next(i*o).value/r,duration:wf(i)}}const WNe=5;function Mz(t,r,a){const s=Math.max(r-WNe,0);return gz(a-t(s),r-s)}const _n={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},y5=.001;function qNe({duration:t=_n.duration,bounce:r=_n.bounce,velocity:a=_n.velocity,mass:s=_n.mass}){let i,o,l=1-r;l=KA(_n.minDamping,_n.maxDamping,l),t=KA(_n.minDuration,_n.maxDuration,wf(t)),l<1?(i=f=>{const u=f*l,m=u*t,p=u-a,g=b3(f,l),v=Math.exp(-m);return y5-p/g*v},o=f=>{const m=f*l*t,p=m*a+a,g=Math.pow(l,2)*Math.pow(f,2)*t,v=Math.exp(-m),y=b3(Math.pow(f,2),l);return(-i(f)+y5>0?-1:1)*((p-g)*v)/y}):(i=f=>{const u=Math.exp(-f*t),m=(f-a)*t+1;return-y5+u*m},o=f=>{const u=Math.exp(-f*t),m=(a-f)*(t*t);return u*m});const c=5/t,d=XNe(i,o,c);if(t=bf(t),isNaN(d))return{stiffness:_n.stiffness,damping:_n.damping,duration:t};{const f=Math.pow(d,2)*s;return{stiffness:f,damping:l*2*Math.sqrt(s*f),duration:t}}}const YNe=12;function XNe(t,r,a){let s=a;for(let i=1;i<YNe;i++)s=s-t(s)/r(s);return s}function b3(t,r){return t*Math.sqrt(1-r*r)}const JNe=["duration","bounce"],ZNe=["stiffness","damping","mass"];function cD(t,r){return r.some(a=>t[a]!==void 0)}function eSe(t){let r={velocity:_n.velocity,stiffness:_n.stiffness,damping:_n.damping,mass:_n.mass,isResolvedFromDuration:!1,...t};if(!cD(t,ZNe)&&cD(t,JNe))if(t.visualDuration){const a=t.visualDuration,s=2*Math.PI/(a*1.2),i=s*s,o=2*KA(.05,1,1-(t.bounce||0))*Math.sqrt(i);r={...r,mass:_n.mass,stiffness:i,damping:o}}else{const a=qNe(t);r={...r,...a,mass:_n.mass},r.isResolvedFromDuration=!0}return r}function Nw(t=_n.visualDuration,r=_n.bounce){const a=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:r}:t;let{restSpeed:s,restDelta:i}=a;const o=a.keyframes[0],l=a.keyframes[a.keyframes.length-1],c={done:!1,value:o},{stiffness:d,damping:f,mass:u,duration:m,velocity:p,isResolvedFromDuration:g}=eSe({...a,velocity:-wf(a.velocity||0)}),v=p||0,y=f/(2*Math.sqrt(d*u)),b=l-o,j=wf(Math.sqrt(d/u)),N=Math.abs(b)<5;s||(s=N?_n.restSpeed.granular:_n.restSpeed.default),i||(i=N?_n.restDelta.granular:_n.restDelta.default);let S;if(y<1){const I=b3(j,y);S=F=>{const O=Math.exp(-y*j*F);return l-O*((v+y*j*b)/I*Math.sin(I*F)+b*Math.cos(I*F))}}else if(y===1)S=I=>l-Math.exp(-j*I)*(b+(v+j*b)*I);else{const I=j*Math.sqrt(y*y-1);S=F=>{const O=Math.exp(-y*j*F),k=Math.min(I*F,300);return l-O*((v+y*j*b)*Math.sinh(k)+I*b*Math.cosh(k))/I}}const B={calculatedDuration:g&&m||null,next:I=>{const F=S(I);if(g)c.done=I>=m;else{let O=I===0?v:0;y<1&&(O=I===0?bf(v):Mz(S,I,F));const k=Math.abs(O)<=s,V=Math.abs(l-F)<=i;c.done=k&&V}return c.value=c.done?l:F,c},toString:()=>{const I=Math.min(oT(B),jw),F=Lz(O=>B.next(I*O).value,I,30);return I+"ms "+F},toTransition:()=>{}};return B}Nw.applyToOptions=t=>{const r=GNe(t,100,Nw);return t.ease=r.ease,t.duration=bf(r.duration),t.type="keyframes",t};function w3({keyframes:t,velocity:r=0,power:a=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:d,restDelta:f=.5,restSpeed:u}){const m=t[0],p={done:!1,value:m},g=k=>c!==void 0&&k<c||d!==void 0&&k>d,v=k=>c===void 0?d:d===void 0||Math.abs(c-k)<Math.abs(d-k)?c:d;let y=a*r;const b=m+y,j=l===void 0?b:l(b);j!==b&&(y=j-m);const N=k=>-y*Math.exp(-k/s),S=k=>j+N(k),B=k=>{const V=N(k),Q=S(k);p.done=Math.abs(V)<=f,p.value=p.done?j:Q};let I,F;const O=k=>{g(p.value)&&(I=k,F=Nw({keyframes:[p.value,v(p.value)],velocity:Mz(S,k,p.value),damping:i,stiffness:o,restDelta:f,restSpeed:u}))};return O(0),{calculatedDuration:null,next:k=>{let V=!1;return!F&&I===void 0&&(V=!0,B(k),O(k)),I!==void 0&&k>=I?F.next(k-I):(!V&&B(k),p)}}}function tSe(t,r,a){const s=[],i=a||GA.mix||Dz,o=t.length-1;for(let l=0;l<o;l++){let c=i(t[l],t[l+1]);if(r){const d=Array.isArray(r)?r[l]||md:r;c=hv(d,c)}s.push(c)}return s}function rSe(t,r,{clamp:a=!0,ease:s,mixer:i}={}){const o=t.length;if(X6(o===r.length),o===1)return()=>r[0];if(o===2&&r[0]===r[1])return()=>r[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),r=[...r].reverse());const c=tSe(r,s,i),d=c.length,f=u=>{if(l&&u<t[0])return r[0];let m=0;if(d>1)for(;m<t.length-2&&!(u<t[m+1]);m++);const p=ky(t[m],t[m+1],u);return c[m](p)};return a?u=>f(KA(t[0],t[o-1],u)):f}function aSe(t,r){const a=t[t.length-1];for(let s=1;s<=r;s++){const i=ky(0,r,s);t.push(Sn(a,1,i))}}function sSe(t){const r=[0];return aSe(r,t.length-1),r}function nSe(t,r){return t.map(a=>a*r)}function iSe(t,r){return t.map(()=>r||Cz).splice(0,t.length-1)}function W1({duration:t=300,keyframes:r,times:a,ease:s="easeInOut"}){const i=gNe(s)?s.map(sD):sD(s),o={done:!1,value:r[0]},l=nSe(a&&a.length===r.length?a:sSe(r),t),c=rSe(l,r,{ease:Array.isArray(i)?i:iSe(r,i)});return{calculatedDuration:t,next:d=>(o.value=c(d),o.done=d>=t,o)}}const oSe=t=>t!==null;function lT(t,{repeat:r,repeatType:a="loop"},s,i=1){const o=t.filter(oSe),c=i<0||r&&a!=="loop"&&r%2===1?0:o.length-1;return!c||s===void 0?o[c]:s}const lSe={decay:w3,inertia:w3,tween:W1,keyframes:W1,spring:Nw};function Uz(t){typeof t.type=="string"&&(t.type=lSe[t.type])}class cT{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(r=>{this.resolve=r})}notifyFinished(){this.resolve()}then(r,a){return this.finished.then(r,a)}}const cSe=t=>t/100;class dT extends cT{constructor(r){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:a}=this.options;a&&a.updatedAt!==Ml.now()&&this.tick(Ml.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=r,this.initAnimation(),this.play(),r.autoplay===!1&&this.pause()}initAnimation(){const{options:r}=this;Uz(r);const{type:a=W1,repeat:s=0,repeatDelay:i=0,repeatType:o,velocity:l=0}=r;let{keyframes:c}=r;const d=a||W1;d!==W1&&typeof c[0]!="number"&&(this.mixKeyframes=hv(cSe,Dz(c[0],c[1])),c=[0,100]);const f=d({...r,keyframes:c});o==="mirror"&&(this.mirroredGenerator=d({...r,keyframes:[...c].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=oT(f));const{calculatedDuration:u}=f;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=f}updateTime(r){const a=Math.round(r-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(r,a=!1){const{generator:s,totalDuration:i,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return s.next(0);const{delay:f=0,keyframes:u,repeat:m,repeatType:p,repeatDelay:g,type:v,onUpdate:y,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,r):this.speed<0&&(this.startTime=Math.min(r-i/this.speed,this.startTime)),a?this.currentTime=r:this.updateTime(r);const j=this.currentTime-f*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?j<0:j>i;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let S=this.currentTime,B=s;if(m){const k=Math.min(this.currentTime,i)/c;let V=Math.floor(k),Q=k%1;!Q&&k>=1&&(Q=1),Q===1&&V--,V=Math.min(V,m+1),!!(V%2)&&(p==="reverse"?(Q=1-Q,g&&(Q-=g/c)):p==="mirror"&&(B=l)),S=KA(0,1,Q)*c}const I=N?{done:!1,value:u[0]}:B.next(S);o&&(I.value=o(I.value));let{done:F}=I;!N&&d!==null&&(F=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return O&&v!==w3&&(I.value=lT(u,this.options,b,this.speed)),y&&y(I.value),O&&this.finish(),I}then(r,a){return this.finished.then(r,a)}get duration(){return wf(this.calculatedDuration)}get time(){return wf(this.currentTime)}set time(r){r=bf(r),this.currentTime=r,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=r:this.driver&&(this.startTime=this.driver.now()-r/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(r){this.updateTime(Ml.now());const a=this.playbackSpeed!==r;this.playbackSpeed=r,a&&(this.time=wf(this.currentTime))}play(){if(this.isStopped)return;const{driver:r=KNe,startTime:a}=this.options;this.driver||(this.driver=r(i=>this.tick(i))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=a??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ml.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(r){return this.startTime=0,this.tick(r,!0)}attachTimeline(r){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),r.observe(this)}}function dSe(t){for(let r=1;r<t.length;r++)t[r]??(t[r]=t[r-1])}const T0=t=>t*180/Math.PI,j3=t=>{const r=T0(Math.atan2(t[1],t[0]));return N3(r)},uSe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:j3,rotateZ:j3,skewX:t=>T0(Math.atan(t[1])),skewY:t=>T0(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},N3=t=>(t=t%360,t<0&&(t+=360),t),dD=j3,uD=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),fD=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),fSe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uD,scaleY:fD,scale:t=>(uD(t)+fD(t))/2,rotateX:t=>N3(T0(Math.atan2(t[6],t[5]))),rotateY:t=>N3(T0(Math.atan2(-t[2],t[0]))),rotateZ:dD,rotate:dD,skewX:t=>T0(Math.atan(t[4])),skewY:t=>T0(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function S3(t){return t.includes("scale")?1:0}function C3(t,r){if(!t||t==="none")return S3(r);const a=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(a)s=fSe,i=a;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=uSe,i=c}if(!i)return S3(r);const o=s[r],l=i[1].split(",").map(hSe);return typeof o=="function"?o(l):l[o]}const ASe=(t,r)=>{const{transform:a="none"}=getComputedStyle(t);return C3(a,r)};function hSe(t){return parseFloat(t.trim())}const fx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ax=new Set(fx),AD=t=>t===ux||t===na,mSe=new Set(["x","y","z"]),pSe=fx.filter(t=>!mSe.has(t));function gSe(t){const r=[];return pSe.forEach(a=>{const s=t.getValue(a);s!==void 0&&(r.push([a,s.get()]),s.set(a.startsWith("scale")?1:0))}),r}const H0={width:({x:t},{paddingLeft:r="0",paddingRight:a="0"})=>t.max-t.min-parseFloat(r)-parseFloat(a),height:({y:t},{paddingTop:r="0",paddingBottom:a="0"})=>t.max-t.min-parseFloat(r)-parseFloat(a),top:(t,{top:r})=>parseFloat(r),left:(t,{left:r})=>parseFloat(r),bottom:({y:t},{top:r})=>parseFloat(r)+(t.max-t.min),right:({x:t},{left:r})=>parseFloat(r)+(t.max-t.min),x:(t,{transform:r})=>C3(r,"x"),y:(t,{transform:r})=>C3(r,"y")};H0.translateX=H0.x;H0.translateY=H0.y;const $0=new Set;let B3=!1,E3=!1,T3=!1;function Rz(){if(E3){const t=Array.from($0).filter(s=>s.needsMeasurement),r=new Set(t.map(s=>s.element)),a=new Map;r.forEach(s=>{const i=gSe(s);i.length&&(a.set(s,i),s.render())}),t.forEach(s=>s.measureInitialState()),r.forEach(s=>{s.render();const i=a.get(s);i&&i.forEach(([o,l])=>{s.getValue(o)?.set(l)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}E3=!1,B3=!1,$0.forEach(t=>t.complete(T3)),$0.clear()}function Qz(){$0.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(E3=!0)})}function xSe(){T3=!0,Qz(),Rz(),T3=!1}class uT{constructor(r,a,s,i,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...r],this.onComplete=a,this.name=s,this.motionValue=i,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?($0.add(this),B3||(B3=!0,An.read(Qz),An.resolveKeyframes(Rz))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:r,name:a,element:s,motionValue:i}=this;if(r[0]===null){const o=i?.get(),l=r[r.length-1];if(o!==void 0)r[0]=o;else if(s&&a){const c=s.readValue(a,l);c!=null&&(r[0]=c)}r[0]===void 0&&(r[0]=l),i&&o===void 0&&i.set(r[0])}dSe(r)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(r=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,r),$0.delete(this)}cancel(){this.state==="scheduled"&&($0.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ySe=t=>t.startsWith("--");function vSe(t,r,a){ySe(r)?t.style.setProperty(r,a):t.style[r]=a}const bSe=J6(()=>window.ScrollTimeline!==void 0),wSe={};function jSe(t,r){const a=J6(t);return()=>wSe[r]??a()}const Hz=jSe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),S1=([t,r,a,s])=>`cubic-bezier(${t}, ${r}, ${a}, ${s})`,hD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:S1([0,.65,.55,1]),circOut:S1([.55,0,1,.45]),backIn:S1([.31,.01,.66,-.59]),backOut:S1([.33,1.53,.69,.99])};function $z(t,r){if(t)return typeof t=="function"?Hz()?Lz(t,r):"ease-out":Bz(t)?S1(t):Array.isArray(t)?t.map(a=>$z(a,r)||hD.easeOut):hD[t]}function NSe(t,r,a,{delay:s=0,duration:i=300,repeat:o=0,repeatType:l="loop",ease:c="easeOut",times:d}={},f=void 0){const u={[r]:a};d&&(u.offset=d);const m=$z(c,i);Array.isArray(m)&&(u.easing=m);const p={delay:s,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return f&&(p.pseudoElement=f),t.animate(u,p)}function zz(t){return typeof t=="function"&&"applyToOptions"in t}function SSe({type:t,...r}){return zz(t)&&Hz()?t.applyToOptions(r):(r.duration??(r.duration=300),r.ease??(r.ease="easeOut"),r)}class CSe extends cT{constructor(r){if(super(),this.finishedTime=null,this.isStopped=!1,!r)return;const{element:a,name:s,keyframes:i,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:c,onComplete:d}=r;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=r,X6(typeof r.type!="string");const f=SSe(r);this.animation=NSe(a,s,i,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const u=lT(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(u):vSe(a,s,u),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:r}=this;r==="idle"||r==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const r=this.animation.effect?.getComputedTiming?.().duration||0;return wf(Number(r))}get time(){return wf(Number(this.animation.currentTime)||0)}set time(r){this.finishedTime=null,this.animation.currentTime=bf(r)}get speed(){return this.animation.playbackRate}set speed(r){r<0&&(this.finishedTime=null),this.animation.playbackRate=r}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(r){this.animation.startTime=r}attachTimeline({timeline:r,observe:a}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,r&&bSe()?(this.animation.timeline=r,md):a(this)}}const Vz={anticipate:jz,backInOut:wz,circInOut:Sz};function BSe(t){return t in Vz}function ESe(t){typeof t.ease=="string"&&BSe(t.ease)&&(t.ease=Vz[t.ease])}const mD=10;class TSe extends CSe{constructor(r){ESe(r),Uz(r),super(r),r.startTime&&(this.startTime=r.startTime),this.options=r}updateMotionValue(r){const{motionValue:a,onUpdate:s,onComplete:i,element:o,...l}=this.options;if(!a)return;if(r!==void 0){a.set(r);return}const c=new dT({...l,autoplay:!1}),d=bf(this.finishedTime??this.time);a.setWithVelocity(c.sample(d-mD).value,c.sample(d).value,mD),c.stop()}}const pD=(t,r)=>r==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(wm.test(t)||t==="0")&&!t.startsWith("url("));function FSe(t){const r=t[0];if(t.length===1)return!0;for(let a=0;a<t.length;a++)if(t[a]!==r)return!0}function ISe(t,r,a,s){const i=t[0];if(i===null)return!1;if(r==="display"||r==="visibility")return!0;const o=t[t.length-1],l=pD(i,r),c=pD(o,r);return!l||!c?!1:FSe(t)||(a==="spring"||zz(a))&&s}function F3(t){t.duration=0,t.type}const kSe=new Set(["opacity","clipPath","filter","transform"]),_Se=J6(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function PSe(t){const{motionValue:r,name:a,repeatDelay:s,repeatType:i,damping:o,type:l}=t;if(!(r?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=r.owner.getProps();return _Se()&&a&&kSe.has(a)&&(a!=="transform"||!f)&&!d&&!s&&i!=="mirror"&&o!==0&&l!=="inertia"}const OSe=40;class DSe extends cT{constructor({autoplay:r=!0,delay:a=0,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",keyframes:c,name:d,motionValue:f,element:u,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ml.now();const p={autoplay:r,delay:a,type:s,repeat:i,repeatDelay:o,repeatType:l,name:d,motionValue:f,element:u,...m},g=u?.KeyframeResolver||uT;this.keyframeResolver=new g(c,(v,y,b)=>this.onKeyframesResolved(v,y,p,!b),d,f,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(r,a,s,i){this.keyframeResolver=void 0;const{name:o,type:l,velocity:c,delay:d,isHandoff:f,onUpdate:u}=s;this.resolvedAt=Ml.now(),ISe(r,o,l,c)||((GA.instantAnimations||!d)&&u?.(lT(r,s,a)),r[0]=r[r.length-1],F3(s),s.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>OSe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...s,keyframes:r},g=!f&&PSe(p)?new TSe({...p,element:p.motionValue.owner.current}):new dT(p);g.finished.then(()=>this.notifyFinished()).catch(md),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(r,a){return this.finished.finally(r).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),xSe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(r){this.animation.time=r}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(r){this.animation.speed=r}get startTime(){return this.animation.startTime}attachTimeline(r){return this._animation?this.stopTimeline=this.animation.attachTimeline(r):this.pendingTimeline=r,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const LSe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function MSe(t){const r=LSe.exec(t);if(!r)return[,];const[,a,s,i]=r;return[`--${a??s}`,i]}function Kz(t,r,a=1){const[s,i]=MSe(t);if(!s)return;const o=window.getComputedStyle(r).getPropertyValue(s);if(o){const l=o.trim();return hz(l)?parseFloat(l):l}return aT(i)?Kz(i,r,a+1):i}function fT(t,r){return t?.[r]??t?.default??t}const Gz=new Set(["width","height","top","left","right","bottom",...fx]),USe={test:t=>t==="auto",parse:t=>t},Wz=t=>r=>r.test(t),qz=[ux,na,jf,Kh,FNe,TNe,USe],gD=t=>qz.find(Wz(t));function RSe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||pz(t):!0}const QSe=new Set(["brightness","contrast","saturate","opacity"]);function HSe(t){const[r,a]=t.slice(0,-1).split("(");if(r==="drop-shadow")return t;const[s]=a.match(sT)||[];if(!s)return t;const i=a.replace(s,"");let o=QSe.has(r)?1:0;return s!==a&&(o*=100),r+"("+o+i+")"}const $Se=/\b([a-z-]*)\(.*?\)/gu,I3={...wm,getAnimatableNone:t=>{const r=t.match($Se);return r?r.map(HSe).join(" "):t}},xD={...ux,transform:Math.round},zSe={rotate:Kh,rotateX:Kh,rotateY:Kh,rotateZ:Kh,scale:Ub,scaleX:Ub,scaleY:Ub,scaleZ:Ub,skew:Kh,skewX:Kh,skewY:Kh,distance:na,translateX:na,translateY:na,translateZ:na,x:na,y:na,z:na,perspective:na,transformPerspective:na,opacity:_y,originX:nD,originY:nD,originZ:na},AT={borderWidth:na,borderTopWidth:na,borderRightWidth:na,borderBottomWidth:na,borderLeftWidth:na,borderRadius:na,radius:na,borderTopLeftRadius:na,borderTopRightRadius:na,borderBottomRightRadius:na,borderBottomLeftRadius:na,width:na,maxWidth:na,height:na,maxHeight:na,top:na,right:na,bottom:na,left:na,padding:na,paddingTop:na,paddingRight:na,paddingBottom:na,paddingLeft:na,margin:na,marginTop:na,marginRight:na,marginBottom:na,marginLeft:na,backgroundPositionX:na,backgroundPositionY:na,...zSe,zIndex:xD,fillOpacity:_y,strokeOpacity:_y,numOctaves:xD},VSe={...AT,color:ni,backgroundColor:ni,outlineColor:ni,fill:ni,stroke:ni,borderColor:ni,borderTopColor:ni,borderRightColor:ni,borderBottomColor:ni,borderLeftColor:ni,filter:I3,WebkitFilter:I3},Yz=t=>VSe[t];function Xz(t,r){let a=Yz(t);return a!==I3&&(a=wm),a.getAnimatableNone?a.getAnimatableNone(r):void 0}const KSe=new Set(["auto","none","0"]);function GSe(t,r,a){let s=0,i;for(;s<t.length&&!i;){const o=t[s];typeof o=="string"&&!KSe.has(o)&&Py(o).values.length&&(i=t[s]),s++}if(i&&a)for(const o of r)t[o]=Xz(a,i)}class WSe extends uT{constructor(r,a,s,i,o){super(r,a,s,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:r,element:a,name:s}=this;if(!a||!a.current)return;super.readKeyframes();for(let d=0;d<r.length;d++){let f=r[d];if(typeof f=="string"&&(f=f.trim(),aT(f))){const u=Kz(f,a.current);u!==void 0&&(r[d]=u),d===r.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!Gz.has(s)||r.length!==2)return;const[i,o]=r,l=gD(i),c=gD(o);if(l!==c)if(AD(l)&&AD(c))for(let d=0;d<r.length;d++){const f=r[d];typeof f=="string"&&(r[d]=parseFloat(f))}else H0[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:r,name:a}=this,s=[];for(let i=0;i<r.length;i++)(r[i]===null||RSe(r[i]))&&s.push(i);s.length&&GSe(r,s,a)}measureInitialState(){const{element:r,unresolvedKeyframes:a,name:s}=this;if(!r||!r.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=H0[s](r.measureViewportBox(),window.getComputedStyle(r.current)),a[0]=this.measuredOrigin;const i=a[a.length-1];i!==void 0&&r.getValue(s,i).jump(i,!1)}measureEndState(){const{element:r,name:a,unresolvedKeyframes:s}=this;if(!r||!r.current)return;const i=r.getValue(a);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=H0[a](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{r.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function qSe(t,r,a){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const i=a?.[t]??s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const Jz=(t,r)=>r&&typeof t=="number"?r.transform(t):t;function Zz(t){return mz(t)&&"offsetHeight"in t}const yD=30,YSe=t=>!isNaN(parseFloat(t));class XSe{constructor(r,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const i=Ml.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(r),this.owner=a.owner}setCurrent(r){this.current=r,this.updatedAt=Ml.now(),this.canTrackVelocity===null&&r!==void 0&&(this.canTrackVelocity=YSe(this.current))}setPrevFrameValue(r=this.current){this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt}onChange(r){return this.on("change",r)}on(r,a){this.events[r]||(this.events[r]=new Z6);const s=this.events[r].add(a);return r==="change"?()=>{s(),An.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const r in this.events)this.events[r].clear()}attach(r,a){this.passiveEffect=r,this.stopPassiveEffect=a}set(r){this.passiveEffect?this.passiveEffect(r,this.updateAndNotify):this.updateAndNotify(r)}setWithVelocity(r,a,s){this.set(a),this.prev=void 0,this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt-s}jump(r,a=!0){this.updateAndNotify(r),this.prev=r,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(r){this.dependents||(this.dependents=new Set),this.dependents.add(r)}removeDependent(r){this.dependents&&this.dependents.delete(r)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const r=Ml.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||r-this.updatedAt>yD)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,yD);return gz(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(r){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=r(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qg(t,r){return new XSe(t,r)}const{schedule:hT}=Ez(queueMicrotask,!1),Au={x:!1,y:!1};function eV(){return Au.x||Au.y}function JSe(t){return t==="x"||t==="y"?Au[t]?null:(Au[t]=!0,()=>{Au[t]=!1}):Au.x||Au.y?null:(Au.x=Au.y=!0,()=>{Au.x=Au.y=!1})}function tV(t,r){const a=qSe(t),s=new AbortController,i={passive:!0,...r,signal:s.signal};return[a,i,()=>s.abort()]}function vD(t){return!(t.pointerType==="touch"||eV())}function ZSe(t,r,a={}){const[s,i,o]=tV(t,a),l=c=>{if(!vD(c))return;const{target:d}=c,f=r(d,c);if(typeof f!="function"||!d)return;const u=m=>{vD(m)&&(f(m),d.removeEventListener("pointerleave",u))};d.addEventListener("pointerleave",u,i)};return s.forEach(c=>{c.addEventListener("pointerenter",l,i)}),o}const rV=(t,r)=>r?t===r?!0:rV(t,r.parentElement):!1,mT=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,e5e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function t5e(t){return e5e.has(t.tagName)||t.tabIndex!==-1}const r2=new WeakSet;function bD(t){return r=>{r.key==="Enter"&&t(r)}}function v5(t,r){t.dispatchEvent(new PointerEvent("pointer"+r,{isPrimary:!0,bubbles:!0}))}const r5e=(t,r)=>{const a=t.currentTarget;if(!a)return;const s=bD(()=>{if(r2.has(a))return;v5(a,"down");const i=bD(()=>{v5(a,"up")}),o=()=>v5(a,"cancel");a.addEventListener("keyup",i,r),a.addEventListener("blur",o,r)});a.addEventListener("keydown",s,r),a.addEventListener("blur",()=>a.removeEventListener("keydown",s),r)};function wD(t){return mT(t)&&!eV()}function a5e(t,r,a={}){const[s,i,o]=tV(t,a),l=c=>{const d=c.currentTarget;if(!wD(c))return;r2.add(d);const f=r(d,c),u=(g,v)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",p),r2.has(d)&&r2.delete(d),wD(g)&&typeof f=="function"&&f(g,{success:v})},m=g=>{u(g,d===window||d===document||a.useGlobalTarget||rV(d,g.target))},p=g=>{u(g,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",p,i)};return s.forEach(c=>{(a.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),Zz(c)&&(c.addEventListener("focus",f=>r5e(f,i)),!t5e(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function aV(t){return mz(t)&&"ownerSVGElement"in t}function s5e(t){return aV(t)&&t.tagName==="svg"}const $o=t=>!!(t&&t.getVelocity),n5e=[...qz,ni,wm],i5e=t=>n5e.find(Wz(t)),pT=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class o5e extends w.Component{getSnapshotBeforeUpdate(r){const a=this.props.childRef.current;if(a&&r.isPresent&&!this.props.isPresent){const s=a.offsetParent,i=Zz(s)&&s.offsetWidth||0,o=this.props.sizeRef.current;o.height=a.offsetHeight||0,o.width=a.offsetWidth||0,o.top=a.offsetTop,o.left=a.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function l5e({children:t,isPresent:r,anchorX:a,root:s}){const i=w.useId(),o=w.useRef(null),l=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=w.useContext(pT);return w.useInsertionEffect(()=>{const{width:d,height:f,top:u,left:m,right:p}=l.current;if(r||!o.current||!d||!f)return;const g=a==="left"?`left: ${m}`:`right: ${p}`;o.current.dataset.motionPopId=i;const v=document.createElement("style");c&&(v.nonce=c);const y=s??document.head;return y.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${g}px !important;
            top: ${u}px !important;
          }
        `),()=>{y.contains(v)&&y.removeChild(v)}},[r]),n.jsx(o5e,{isPresent:r,childRef:o,sizeRef:l,children:w.cloneElement(t,{ref:o})})}const c5e=({children:t,initial:r,isPresent:a,onExitComplete:s,custom:i,presenceAffectsLayout:o,mode:l,anchorX:c,root:d})=>{const f=G6(d5e),u=w.useId();let m=!0,p=w.useMemo(()=>(m=!1,{id:u,initial:r,isPresent:a,custom:i,onExitComplete:g=>{f.set(g,!0);for(const v of f.values())if(!v)return;s&&s()},register:g=>(f.set(g,!1),()=>f.delete(g))}),[a,f,s]);return o&&m&&(p={...p}),w.useMemo(()=>{f.forEach((g,v)=>f.set(v,!1))},[a]),w.useEffect(()=>{!a&&!f.size&&s&&s()},[a]),l==="popLayout"&&(t=n.jsx(l5e,{isPresent:a,anchorX:c,root:d,children:t})),n.jsx(z4.Provider,{value:p,children:t})};function d5e(){return new Map}function sV(t=!0){const r=w.useContext(z4);if(r===null)return[!0,null];const{isPresent:a,onExitComplete:s,register:i}=r,o=w.useId();w.useEffect(()=>{if(t)return i(o)},[t]);const l=w.useCallback(()=>t&&s&&s(o),[o,s,t]);return!a&&s?[!1,l]:[!0]}const Rb=t=>t.key||"";function jD(t){const r=[];return w.Children.forEach(t,a=>{w.isValidElement(a)&&r.push(a)}),r}const Oy=({children:t,custom:r,initial:a=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync",propagate:l=!1,anchorX:c="left",root:d})=>{const[f,u]=sV(l),m=w.useMemo(()=>jD(t),[t]),p=l&&!f?[]:m.map(Rb),g=w.useRef(!0),v=w.useRef(m),y=G6(()=>new Map),[b,j]=w.useState(m),[N,S]=w.useState(m);Az(()=>{g.current=!1,v.current=m;for(let F=0;F<N.length;F++){const O=Rb(N[F]);p.includes(O)?y.delete(O):y.get(O)!==!0&&y.set(O,!1)}},[N,p.length,p.join("-")]);const B=[];if(m!==b){let F=[...m];for(let O=0;O<N.length;O++){const k=N[O],V=Rb(k);p.includes(V)||(F.splice(O,0,k),B.push(k))}return o==="wait"&&B.length&&(F=B),S(jD(F)),j(m),null}const{forceRender:I}=w.useContext(K6);return n.jsx(n.Fragment,{children:N.map(F=>{const O=Rb(F),k=l&&!f?!1:m===N||p.includes(O),V=()=>{if(y.has(O))y.set(O,!0);else return;let Q=!0;y.forEach(H=>{H||(Q=!1)}),Q&&(I?.(),S(v.current),l&&u?.(),s&&s())};return n.jsx(c5e,{isPresent:k,initial:!g.current||a?void 0:!1,custom:r,presenceAffectsLayout:i,mode:o,root:d,onExitComplete:k?void 0:V,anchorX:c,children:F},O)})})},nV=w.createContext({strict:!1}),ND={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hg={};for(const t in ND)Hg[t]={isEnabled:r=>ND[t].some(a=>!!r[a])};function u5e(t){for(const r in t)Hg[r]={...Hg[r],...t[r]}}const f5e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sw(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||f5e.has(t)}let iV=t=>!Sw(t);function A5e(t){typeof t=="function"&&(iV=r=>r.startsWith("on")?!Sw(r):t(r))}try{A5e(require("@emotion/is-prop-valid").default)}catch{}function h5e(t,r,a){const s={};for(const i in t)i==="values"&&typeof t.values=="object"||(iV(i)||a===!0&&Sw(i)||!r&&!Sw(i)||t.draggable&&i.startsWith("onDrag"))&&(s[i]=t[i]);return s}const V4=w.createContext({});function K4(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Dy(t){return typeof t=="string"||Array.isArray(t)}const gT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xT=["initial",...gT];function G4(t){return K4(t.animate)||xT.some(r=>Dy(t[r]))}function oV(t){return!!(G4(t)||t.variants)}function m5e(t,r){if(G4(t)){const{initial:a,animate:s}=t;return{initial:a===!1||Dy(a)?a:void 0,animate:Dy(s)?s:void 0}}return t.inherit!==!1?r:{}}function p5e(t){const{initial:r,animate:a}=m5e(t,w.useContext(V4));return w.useMemo(()=>({initial:r,animate:a}),[SD(r),SD(a)])}function SD(t){return Array.isArray(t)?t.join(" "):t}const Ly={};function g5e(t){for(const r in t)Ly[r]=t[r],rT(r)&&(Ly[r].isCSSVariable=!0)}function lV(t,{layout:r,layoutId:a}){return Ax.has(t)||t.startsWith("origin")||(r||a!==void 0)&&(!!Ly[t]||t==="opacity")}const x5e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},y5e=fx.length;function v5e(t,r,a){let s="",i=!0;for(let o=0;o<y5e;o++){const l=fx[o],c=t[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||a){const f=Jz(c,AT[l]);if(!d){i=!1;const u=x5e[l]||l;s+=`${u}(${f}) `}a&&(r[l]=f)}}return s=s.trim(),a?s=a(r,i?"":s):i&&(s="none"),s}function yT(t,r,a){const{style:s,vars:i,transformOrigin:o}=t;let l=!1,c=!1;for(const d in r){const f=r[d];if(Ax.has(d)){l=!0;continue}else if(rT(d)){i[d]=f;continue}else{const u=Jz(f,AT[d]);d.startsWith("origin")?(c=!0,o[d]=u):s[d]=u}}if(r.transform||(l||a?s.transform=v5e(r,t.transform,a):s.transform&&(s.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:u=0}=o;s.transformOrigin=`${d} ${f} ${u}`}}const vT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cV(t,r,a){for(const s in r)!$o(r[s])&&!lV(s,a)&&(t[s]=r[s])}function b5e({transformTemplate:t},r){return w.useMemo(()=>{const a=vT();return yT(a,r,t),Object.assign({},a.vars,a.style)},[r])}function w5e(t,r){const a=t.style||{},s={};return cV(s,a,t),Object.assign(s,b5e(t,r)),s}function j5e(t,r){const a={},s=w5e(t,r);return t.drag&&t.dragListener!==!1&&(a.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(a.tabIndex=0),a.style=s,a}const N5e={offset:"stroke-dashoffset",array:"stroke-dasharray"},S5e={offset:"strokeDashoffset",array:"strokeDasharray"};function C5e(t,r,a=1,s=0,i=!0){t.pathLength=1;const o=i?N5e:S5e;t[o.offset]=na.transform(-s);const l=na.transform(r),c=na.transform(a);t[o.array]=`${l} ${c}`}function dV(t,{attrX:r,attrY:a,attrScale:s,pathLength:i,pathSpacing:o=1,pathOffset:l=0,...c},d,f,u){if(yT(t,c,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p}=t;m.transform&&(p.transform=m.transform,delete m.transform),(p.transform||m.transformOrigin)&&(p.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),p.transform&&(p.transformBox=u?.transformBox??"fill-box",delete m.transformBox),r!==void 0&&(m.x=r),a!==void 0&&(m.y=a),s!==void 0&&(m.scale=s),i!==void 0&&C5e(m,i,o,l,!1)}const uV=()=>({...vT(),attrs:{}}),fV=t=>typeof t=="string"&&t.toLowerCase()==="svg";function B5e(t,r,a,s){const i=w.useMemo(()=>{const o=uV();return dV(o,r,fV(s),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[r]);if(t.style){const o={};cV(o,t.style,t),i.style={...o,...i.style}}return i}const E5e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bT(t){return typeof t!="string"||t.includes("-")?!1:!!(E5e.indexOf(t)>-1||/[A-Z]/u.test(t))}function T5e(t,r,a,{latestValues:s},i,o=!1){const c=(bT(t)?B5e:j5e)(r,s,i,t),d=h5e(r,typeof t=="string",o),f=t!==w.Fragment?{...d,...c,ref:a}:{},{children:u}=r,m=w.useMemo(()=>$o(u)?u.get():u,[u]);return w.createElement(t,{...f,children:m})}function CD(t){const r=[{},{}];return t?.values.forEach((a,s)=>{r[0][s]=a.get(),r[1][s]=a.getVelocity()}),r}function wT(t,r,a,s){if(typeof r=="function"){const[i,o]=CD(s);r=r(a!==void 0?a:t.custom,i,o)}if(typeof r=="string"&&(r=t.variants&&t.variants[r]),typeof r=="function"){const[i,o]=CD(s);r=r(a!==void 0?a:t.custom,i,o)}return r}function a2(t){return $o(t)?t.get():t}function F5e({scrapeMotionValuesFromProps:t,createRenderState:r},a,s,i){return{latestValues:I5e(a,s,i,t),renderState:r()}}function I5e(t,r,a,s){const i={},o=s(t,{});for(const p in o)i[p]=a2(o[p]);let{initial:l,animate:c}=t;const d=G4(t),f=oV(t);r&&f&&!d&&t.inherit!==!1&&(l===void 0&&(l=r.initial),c===void 0&&(c=r.animate));let u=a?a.initial===!1:!1;u=u||l===!1;const m=u?c:l;if(m&&typeof m!="boolean"&&!K4(m)){const p=Array.isArray(m)?m:[m];for(let g=0;g<p.length;g++){const v=wT(t,p[g]);if(v){const{transitionEnd:y,transition:b,...j}=v;for(const N in j){let S=j[N];if(Array.isArray(S)){const B=u?S.length-1:0;S=S[B]}S!==null&&(i[N]=S)}for(const N in y)i[N]=y[N]}}}return i}const AV=t=>(r,a)=>{const s=w.useContext(V4),i=w.useContext(z4),o=()=>F5e(t,r,s,i);return a?o():G6(o)};function jT(t,r,a){const{style:s}=t,i={};for(const o in s)($o(s[o])||r.style&&$o(r.style[o])||lV(o,t)||a?.getValue(o)?.liveStyle!==void 0)&&(i[o]=s[o]);return i}const k5e=AV({scrapeMotionValuesFromProps:jT,createRenderState:vT});function hV(t,r,a){const s=jT(t,r,a);for(const i in t)if($o(t[i])||$o(r[i])){const o=fx.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[o]=t[i]}return s}const _5e=AV({scrapeMotionValuesFromProps:hV,createRenderState:uV}),P5e=Symbol.for("motionComponentSymbol");function pg(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function O5e(t,r,a){return w.useCallback(s=>{s&&t.onMount&&t.onMount(s),r&&(s?r.mount(s):r.unmount()),a&&(typeof a=="function"?a(s):pg(a)&&(a.current=s))},[r])}const NT=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),D5e="framerAppearId",mV="data-"+NT(D5e),pV=w.createContext({});function L5e(t,r,a,s,i){const{visualElement:o}=w.useContext(V4),l=w.useContext(nV),c=w.useContext(z4),d=w.useContext(pT).reducedMotion,f=w.useRef(null);s=s||l.renderer,!f.current&&s&&(f.current=s(t,{visualState:r,parent:o,props:a,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const u=f.current,m=w.useContext(pV);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&M5e(f.current,a,i,m);const p=w.useRef(!1);w.useInsertionEffect(()=>{u&&p.current&&u.update(a,c)});const g=a[mV],v=w.useRef(!!g&&!window.MotionHandoffIsComplete?.(g)&&window.MotionHasOptimisedAnimation?.(g));return Az(()=>{u&&(p.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),v.current&&u.animationState&&u.animationState.animateChanges())}),w.useEffect(()=>{u&&(!v.current&&u.animationState&&u.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(g)}),v.current=!1),u.enteringChildren=void 0)}),u}function M5e(t,r,a,s){const{layoutId:i,layout:o,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:f,layoutCrossfade:u}=r;t.projection=new a(t.latestValues,r["data-framer-portal-id"]?void 0:gV(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!l||c&&pg(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:d,layoutRoot:f})}function gV(t){if(t)return t.options.allowProjection!==!1?t.projection:gV(t.parent)}function b5(t,{forwardMotionProps:r=!1}={},a,s){a&&u5e(a);const i=bT(t)?_5e:k5e;function o(c,d){let f;const u={...w.useContext(pT),...c,layoutId:U5e(c)},{isStatic:m}=u,p=p5e(c),g=i(c,m);if(!m&&W6){R5e();const v=Q5e(u);f=v.MeasureLayout,p.visualElement=L5e(t,g,u,s,v.ProjectionNode)}return n.jsxs(V4.Provider,{value:p,children:[f&&p.visualElement?n.jsx(f,{visualElement:p.visualElement,...u}):null,T5e(t,c,O5e(g,p.visualElement,d),g,m,r)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=w.forwardRef(o);return l[P5e]=t,l}function U5e({layoutId:t}){const r=w.useContext(K6).id;return r&&t!==void 0?r+"-"+t:t}function R5e(t,r){w.useContext(nV).strict}function Q5e(t){const{drag:r,layout:a}=Hg;if(!r&&!a)return{};const s={...r,...a};return{MeasureLayout:r?.isEnabled(t)||a?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function H5e(t,r){if(typeof Proxy>"u")return b5;const a=new Map,s=(o,l)=>b5(o,l,t,r),i=(o,l)=>s(o,l);return new Proxy(i,{get:(o,l)=>l==="create"?s:(a.has(l)||a.set(l,b5(l,void 0,t,r)),a.get(l))})}function xV({top:t,left:r,right:a,bottom:s}){return{x:{min:r,max:a},y:{min:t,max:s}}}function $5e({x:t,y:r}){return{top:r.min,right:t.max,bottom:r.max,left:t.min}}function z5e(t,r){if(!r)return t;const a=r({x:t.left,y:t.top}),s=r({x:t.right,y:t.bottom});return{top:a.y,left:a.x,bottom:s.y,right:s.x}}function w5(t){return t===void 0||t===1}function k3({scale:t,scaleX:r,scaleY:a}){return!w5(t)||!w5(r)||!w5(a)}function x0(t){return k3(t)||yV(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function yV(t){return BD(t.x)||BD(t.y)}function BD(t){return t&&t!=="0%"}function Cw(t,r,a){const s=t-a,i=r*s;return a+i}function ED(t,r,a,s,i){return i!==void 0&&(t=Cw(t,i,s)),Cw(t,a,s)+r}function _3(t,r=0,a=1,s,i){t.min=ED(t.min,r,a,s,i),t.max=ED(t.max,r,a,s,i)}function vV(t,{x:r,y:a}){_3(t.x,r.translate,r.scale,r.originPoint),_3(t.y,a.translate,a.scale,a.originPoint)}const TD=.999999999999,FD=1.0000000000001;function V5e(t,r,a,s=!1){const i=a.length;if(!i)return;r.x=r.y=1;let o,l;for(let c=0;c<i;c++){o=a[c],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&xg(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(r.x*=l.x.scale,r.y*=l.y.scale,vV(t,l)),s&&x0(o.latestValues)&&xg(t,o.latestValues))}r.x<FD&&r.x>TD&&(r.x=1),r.y<FD&&r.y>TD&&(r.y=1)}function gg(t,r){t.min=t.min+r,t.max=t.max+r}function ID(t,r,a,s,i=.5){const o=Sn(t.min,t.max,i);_3(t,r,a,o,s)}function xg(t,r){ID(t.x,r.x,r.scaleX,r.scale,r.originX),ID(t.y,r.y,r.scaleY,r.scale,r.originY)}function bV(t,r){return xV(z5e(t.getBoundingClientRect(),r))}function K5e(t,r,a){const s=bV(t,a),{scroll:i}=r;return i&&(gg(s.x,i.offset.x),gg(s.y,i.offset.y)),s}const kD=()=>({translate:0,scale:1,origin:0,originPoint:0}),yg=()=>({x:kD(),y:kD()}),_D=()=>({min:0,max:0}),Hn=()=>({x:_D(),y:_D()}),P3={current:null},wV={current:!1};function G5e(){if(wV.current=!0,!!W6)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),r=()=>P3.current=t.matches;t.addEventListener("change",r),r()}else P3.current=!1}const W5e=new WeakMap;function q5e(t,r,a){for(const s in r){const i=r[s],o=a[s];if($o(i))t.addValue(s,i);else if($o(o))t.addValue(s,Qg(i,{owner:t}));else if(o!==i)if(t.hasValue(s)){const l=t.getValue(s);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(s);t.addValue(s,Qg(l!==void 0?l:i,{owner:t}))}}for(const s in a)r[s]===void 0&&t.removeValue(s);return r}const PD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Y5e{scrapeMotionValuesFromProps(r,a,s){return{}}constructor({parent:r,props:a,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=uT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Ml.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,An.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=a.initial?{...d}:{},this.renderState=f,this.parent=r,this.props=a,this.presenceContext=s,this.depth=r?r.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=G4(a),this.isVariantNode=oV(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(r&&r.current);const{willChange:u,...m}=this.scrapeMotionValuesFromProps(a,{},this);for(const p in m){const g=m[p];d[p]!==void 0&&$o(g)&&g.set(d[p])}}mount(r){this.current=r,W5e.set(r,this),this.projection&&!this.projection.instance&&this.projection.mount(r),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,s)=>this.bindToMotionValue(s,a)),wV.current||G5e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:P3.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),bm(this.notifyUpdate),bm(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const a=this.features[r];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(r){this.children.add(r),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(r)}removeChild(r){this.children.delete(r),this.enteringChildren&&this.enteringChildren.delete(r)}bindToMotionValue(r,a){this.valueSubscriptions.has(r)&&this.valueSubscriptions.get(r)();const s=Ax.has(r);s&&this.onBindTransform&&this.onBindTransform();const i=a.on("change",l=>{this.latestValues[r]=l,this.props.onUpdate&&An.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,r,a)),this.valueSubscriptions.set(r,()=>{i(),o&&o(),a.owner&&a.stop()})}sortNodePosition(r){return!this.current||!this.sortInstanceNodePosition||this.type!==r.type?0:this.sortInstanceNodePosition(this.current,r.current)}updateFeatures(){let r="animation";for(r in Hg){const a=Hg[r];if(!a)continue;const{isEnabled:s,Feature:i}=a;if(!this.features[r]&&i&&s(this.props)&&(this.features[r]=new i(this)),this.features[r]){const o=this.features[r];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Hn()}getStaticValue(r){return this.latestValues[r]}setStaticValue(r,a){this.latestValues[r]=a}update(r,a){(r.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=r,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let s=0;s<PD.length;s++){const i=PD[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,l=r[o];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=q5e(this,this.scrapeMotionValuesFromProps(r,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(r){return this.props.variants?this.props.variants[r]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(r){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(r),()=>a.variantChildren.delete(r)}addValue(r,a){const s=this.values.get(r);a!==s&&(s&&this.removeValue(r),this.bindToMotionValue(r,a),this.values.set(r,a),this.latestValues[r]=a.get())}removeValue(r){this.values.delete(r);const a=this.valueSubscriptions.get(r);a&&(a(),this.valueSubscriptions.delete(r)),delete this.latestValues[r],this.removeValueFromRenderState(r,this.renderState)}hasValue(r){return this.values.has(r)}getValue(r,a){if(this.props.values&&this.props.values[r])return this.props.values[r];let s=this.values.get(r);return s===void 0&&a!==void 0&&(s=Qg(a===null?void 0:a,{owner:this}),this.addValue(r,s)),s}readValue(r,a){let s=this.latestValues[r]!==void 0||!this.current?this.latestValues[r]:this.getBaseTargetFromProps(this.props,r)??this.readValueFromInstance(this.current,r,this.options);return s!=null&&(typeof s=="string"&&(hz(s)||pz(s))?s=parseFloat(s):!i5e(s)&&wm.test(a)&&(s=Xz(r,a)),this.setBaseTarget(r,$o(s)?s.get():s)),$o(s)?s.get():s}setBaseTarget(r,a){this.baseTarget[r]=a}getBaseTarget(r){const{initial:a}=this.props;let s;if(typeof a=="string"||typeof a=="object"){const o=wT(this.props,a,this.presenceContext?.custom);o&&(s=o[r])}if(a&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,r);return i!==void 0&&!$o(i)?i:this.initialValues[r]!==void 0&&s===void 0?void 0:this.baseTarget[r]}on(r,a){return this.events[r]||(this.events[r]=new Z6),this.events[r].add(a)}notify(r,...a){this.events[r]&&this.events[r].notify(...a)}scheduleRenderMicrotask(){hT.render(this.render)}}class jV extends Y5e{constructor(){super(...arguments),this.KeyframeResolver=WSe}sortInstanceNodePosition(r,a){return r.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(r,a){return r.style?r.style[a]:void 0}removeValueFromRenderState(r,{vars:a,style:s}){delete a[r],delete s[r]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:r}=this.props;$o(r)&&(this.childSubscription=r.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function NV(t,{style:r,vars:a},s,i){const o=t.style;let l;for(l in r)o[l]=r[l];i?.applyProjectionStyles(o,s);for(l in a)o.setProperty(l,a[l])}function X5e(t){return window.getComputedStyle(t)}class J5e extends jV{constructor(){super(...arguments),this.type="html",this.renderInstance=NV}readValueFromInstance(r,a){if(Ax.has(a))return this.projection?.isProjecting?S3(a):ASe(r,a);{const s=X5e(r),i=(rT(a)?s.getPropertyValue(a):s[a])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(r,{transformPagePoint:a}){return bV(r,a)}build(r,a,s){yT(r,a,s.transformTemplate)}scrapeMotionValuesFromProps(r,a,s){return jT(r,a,s)}}const SV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Z5e(t,r,a,s){NV(t,r,void 0,s);for(const i in r.attrs)t.setAttribute(SV.has(i)?i:NT(i),r.attrs[i])}class eCe extends jV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Hn}getBaseTargetFromProps(r,a){return r[a]}readValueFromInstance(r,a){if(Ax.has(a)){const s=Yz(a);return s&&s.default||0}return a=SV.has(a)?a:NT(a),r.getAttribute(a)}scrapeMotionValuesFromProps(r,a,s){return hV(r,a,s)}build(r,a,s){dV(r,a,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(r,a,s,i){Z5e(r,a,s,i)}mount(r){this.isSVGTag=fV(r.tagName),super.mount(r)}}const tCe=(t,r)=>bT(t)?new eCe(r):new J5e(r,{allowProjection:t!==w.Fragment});function Tg(t,r,a){const s=t.getProps();return wT(s,r,a!==void 0?a:s.custom,t)}const O3=t=>Array.isArray(t);function rCe(t,r,a){t.hasValue(r)?t.getValue(r).set(a):t.addValue(r,Qg(a))}function aCe(t){return O3(t)?t[t.length-1]||0:t}function sCe(t,r){const a=Tg(t,r);let{transitionEnd:s={},transition:i={},...o}=a||{};o={...o,...s};for(const l in o){const c=aCe(o[l]);rCe(t,l,c)}}function nCe(t){return!!($o(t)&&t.add)}function D3(t,r){const a=t.getValue("willChange");if(nCe(a))return a.add(r);if(!a&&GA.WillChange){const s=new GA.WillChange("auto");t.addValue("willChange",s),s.add(r)}}function CV(t){return t.props[mV]}const iCe=t=>t!==null;function oCe(t,{repeat:r,repeatType:a="loop"},s){const i=t.filter(iCe),o=r&&a!=="loop"&&r%2===1?0:i.length-1;return i[o]}const lCe={type:"spring",stiffness:500,damping:25,restSpeed:10},cCe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),dCe={type:"keyframes",duration:.8},uCe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fCe=(t,{keyframes:r})=>r.length>2?dCe:Ax.has(t)?t.startsWith("scale")?cCe(r[1]):lCe:uCe;function ACe({when:t,delay:r,delayChildren:a,staggerChildren:s,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:c,from:d,elapsed:f,...u}){return!!Object.keys(u).length}const ST=(t,r,a,s={},i,o)=>l=>{const c=fT(s,t)||{},d=c.delay||s.delay||0;let{elapsed:f=0}=s;f=f-bf(d);const u={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:r.getVelocity(),...c,delay:-f,onUpdate:p=>{r.set(p),c.onUpdate&&c.onUpdate(p)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:r,element:o?void 0:i};ACe(c)||Object.assign(u,fCe(t,u)),u.duration&&(u.duration=bf(u.duration)),u.repeatDelay&&(u.repeatDelay=bf(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let m=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(F3(u),u.delay===0&&(m=!0)),(GA.instantAnimations||GA.skipAnimations)&&(m=!0,F3(u),u.delay=0),u.allowFlatten=!c.type&&!c.ease,m&&!o&&r.get()!==void 0){const p=oCe(u.keyframes,c);if(p!==void 0){An.update(()=>{u.onUpdate(p),u.onComplete()});return}}return c.isSync?new dT(u):new DSe(u)};function hCe({protectedKeys:t,needsAnimating:r},a){const s=t.hasOwnProperty(a)&&r[a]!==!0;return r[a]=!1,s}function BV(t,r,{delay:a=0,transitionOverride:s,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=r;s&&(o=s);const d=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const u in c){const m=t.getValue(u,t.latestValues[u]??null),p=c[u];if(p===void 0||f&&hCe(f,u))continue;const g={delay:a,...fT(o||{},u)},v=m.get();if(v!==void 0&&!m.isAnimating&&!Array.isArray(p)&&p===v&&!g.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const j=CV(t);if(j){const N=window.MotionHandoffAnimation(j,u,An);N!==null&&(g.startTime=N,y=!0)}}D3(t,u),m.start(ST(u,m,p,t.shouldReduceMotion&&Gz.has(u)?{type:!1}:g,t,y));const b=m.animation;b&&d.push(b)}return l&&Promise.all(d).then(()=>{An.update(()=>{l&&sCe(t,l)})}),d}function EV(t,r,a,s=0,i=1){const o=Array.from(t).sort((f,u)=>f.sortNodePosition(u)).indexOf(r),l=t.size,c=(l-1)*s;return typeof a=="function"?a(o,l):i===1?o*s:c-o*s}function L3(t,r,a={}){const s=Tg(t,r,a.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};a.transitionOverride&&(i=a.transitionOverride);const o=s?()=>Promise.all(BV(t,s,a)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:u,staggerDirection:m}=i;return mCe(t,r,d,f,u,m,a)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,f]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>f())}else return Promise.all([o(),l(a.delay)])}function mCe(t,r,a=0,s=0,i=0,o=1,l){const c=[];for(const d of t.variantChildren)d.notify("AnimationStart",r),c.push(L3(d,r,{...l,delay:a+(typeof s=="function"?0:s)+EV(t.variantChildren,d,s,i,o)}).then(()=>d.notify("AnimationComplete",r)));return Promise.all(c)}function pCe(t,r,a={}){t.notify("AnimationStart",r);let s;if(Array.isArray(r)){const i=r.map(o=>L3(t,o,a));s=Promise.all(i)}else if(typeof r=="string")s=L3(t,r,a);else{const i=typeof r=="function"?Tg(t,r,a.custom):r;s=Promise.all(BV(t,i,a))}return s.then(()=>{t.notify("AnimationComplete",r)})}function TV(t,r){if(!Array.isArray(r))return!1;const a=r.length;if(a!==t.length)return!1;for(let s=0;s<a;s++)if(r[s]!==t[s])return!1;return!0}const gCe=xT.length;function FV(t){if(!t)return;if(!t.isControllingVariants){const a=t.parent?FV(t.parent)||{}:{};return t.props.initial!==void 0&&(a.initial=t.props.initial),a}const r={};for(let a=0;a<gCe;a++){const s=xT[a],i=t.props[s];(Dy(i)||i===!1)&&(r[s]=i)}return r}const xCe=[...gT].reverse(),yCe=gT.length;function vCe(t){return r=>Promise.all(r.map(({animation:a,options:s})=>pCe(t,a,s)))}function bCe(t){let r=vCe(t),a=OD(),s=!0;const i=d=>(f,u)=>{const m=Tg(t,u,d==="exit"?t.presenceContext?.custom:void 0);if(m){const{transition:p,transitionEnd:g,...v}=m;f={...f,...v,...g}}return f};function o(d){r=d(t)}function l(d){const{props:f}=t,u=FV(t.parent)||{},m=[],p=new Set;let g={},v=1/0;for(let b=0;b<yCe;b++){const j=xCe[b],N=a[j],S=f[j]!==void 0?f[j]:u[j],B=Dy(S),I=j===d?N.isActive:null;I===!1&&(v=b);let F=S===u[j]&&S!==f[j]&&B;if(F&&s&&t.manuallyAnimateOnMount&&(F=!1),N.protectedKeys={...g},!N.isActive&&I===null||!S&&!N.prevProp||K4(S)||typeof S=="boolean")continue;const O=wCe(N.prevProp,S);let k=O||j===d&&N.isActive&&!F&&B||b>v&&B,V=!1;const Q=Array.isArray(S)?S:[S];let H=Q.reduce(i(j),{});I===!1&&(H={});const{prevResolvedValues:M={}}=N,K={...M,...H},q=le=>{k=!0,p.has(le)&&(V=!0,p.delete(le)),N.needsAnimating[le]=!0;const Ae=t.getValue(le);Ae&&(Ae.liveStyle=!1)};for(const le in K){const Ae=H[le],ue=M[le];if(g.hasOwnProperty(le))continue;let se=!1;O3(Ae)&&O3(ue)?se=!TV(Ae,ue):se=Ae!==ue,se?Ae!=null?q(le):p.add(le):Ae!==void 0&&p.has(le)?q(le):N.protectedKeys[le]=!0}N.prevProp=S,N.prevResolvedValues=H,N.isActive&&(g={...g,...H}),s&&t.blockInitialAnimation&&(k=!1);const re=F&&O;k&&(!re||V)&&m.push(...Q.map(le=>{const Ae={type:j};if(typeof le=="string"&&s&&!re&&t.manuallyAnimateOnMount&&t.parent){const{parent:ue}=t,se=Tg(ue,le);if(ue.enteringChildren&&se){const{delayChildren:ve}=se.transition||{};Ae.delay=EV(ue.enteringChildren,t,ve)}}return{animation:le,options:Ae}}))}if(p.size){const b={};if(typeof f.initial!="boolean"){const j=Tg(t,Array.isArray(f.initial)?f.initial[0]:f.initial);j&&j.transition&&(b.transition=j.transition)}p.forEach(j=>{const N=t.getBaseTarget(j),S=t.getValue(j);S&&(S.liveStyle=!0),b[j]=N??null}),m.push({animation:b})}let y=!!m.length;return s&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(y=!1),s=!1,y?r(m):Promise.resolve()}function c(d,f){if(a[d].isActive===f)return Promise.resolve();t.variantChildren?.forEach(m=>m.animationState?.setActive(d,f)),a[d].isActive=f;const u=l(d);for(const m in a)a[m].protectedKeys={};return u}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>a,reset:()=>{a=OD(),s=!0}}}function wCe(t,r){return typeof r=="string"?r!==t:Array.isArray(r)?!TV(r,t):!1}function f0(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function OD(){return{animate:f0(!0),whileInView:f0(),whileHover:f0(),whileTap:f0(),whileDrag:f0(),whileFocus:f0(),exit:f0()}}class Im{constructor(r){this.isMounted=!1,this.node=r}update(){}}class jCe extends Im{constructor(r){super(r),r.animationState||(r.animationState=bCe(r))}updateAnimationControlsSubscription(){const{animate:r}=this.node.getProps();K4(r)&&(this.unmountControls=r.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:r}=this.node.getProps(),{animate:a}=this.node.prevProps||{};r!==a&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let NCe=0;class SCe extends Im{constructor(){super(...arguments),this.id=NCe++}update(){if(!this.node.presenceContext)return;const{isPresent:r,onExitComplete:a}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||r===s)return;const i=this.node.animationState.setActive("exit",!r);a&&!r&&i.then(()=>{a(this.id)})}mount(){const{register:r,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),r&&(this.unmount=r(this.id))}unmount(){}}const CCe={animation:{Feature:jCe},exit:{Feature:SCe}};function My(t,r,a,s={passive:!0}){return t.addEventListener(r,a,s),()=>t.removeEventListener(r,a)}function gv(t){return{point:{x:t.pageX,y:t.pageY}}}const BCe=t=>r=>mT(r)&&t(r,gv(r));function q1(t,r,a,s){return My(t,r,BCe(a),s)}const IV=1e-4,ECe=1-IV,TCe=1+IV,kV=.01,FCe=0-kV,ICe=0+kV;function hl(t){return t.max-t.min}function kCe(t,r,a){return Math.abs(t-r)<=a}function DD(t,r,a,s=.5){t.origin=s,t.originPoint=Sn(r.min,r.max,t.origin),t.scale=hl(a)/hl(r),t.translate=Sn(a.min,a.max,t.origin)-t.originPoint,(t.scale>=ECe&&t.scale<=TCe||isNaN(t.scale))&&(t.scale=1),(t.translate>=FCe&&t.translate<=ICe||isNaN(t.translate))&&(t.translate=0)}function Y1(t,r,a,s){DD(t.x,r.x,a.x,s?s.originX:void 0),DD(t.y,r.y,a.y,s?s.originY:void 0)}function LD(t,r,a){t.min=a.min+r.min,t.max=t.min+hl(r)}function _Ce(t,r,a){LD(t.x,r.x,a.x),LD(t.y,r.y,a.y)}function MD(t,r,a){t.min=r.min-a.min,t.max=t.min+hl(r)}function X1(t,r,a){MD(t.x,r.x,a.x),MD(t.y,r.y,a.y)}function dd(t){return[t("x"),t("y")]}const _V=({current:t})=>t?t.ownerDocument.defaultView:null,UD=(t,r)=>Math.abs(t-r);function PCe(t,r){const a=UD(t.x,r.x),s=UD(t.y,r.y);return Math.sqrt(a**2+s**2)}class PV{constructor(r,a,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=N5(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=PCe(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!v)return;const{point:y}=p,{timestamp:b}=oo;this.history.push({...y,timestamp:b});const{onStart:j,onMove:N}=this.handlers;g||(j&&j(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=j5(g,this.transformPagePoint),An.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:v,onSessionEnd:y,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=N5(p.type==="pointercancel"?this.lastMoveEventInfo:j5(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,j),y&&y(p,j)},!mT(r))return;this.dragSnapToOrigin=o,this.handlers=a,this.transformPagePoint=s,this.distanceThreshold=l,this.contextWindow=i||window;const c=gv(r),d=j5(c,this.transformPagePoint),{point:f}=d,{timestamp:u}=oo;this.history=[{...f,timestamp:u}];const{onSessionStart:m}=a;m&&m(r,N5(d,this.history)),this.removeListeners=hv(q1(this.contextWindow,"pointermove",this.handlePointerMove),q1(this.contextWindow,"pointerup",this.handlePointerUp),q1(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(r){this.handlers=r}end(){this.removeListeners&&this.removeListeners(),bm(this.updatePoint)}}function j5(t,r){return r?{point:r(t.point)}:t}function RD(t,r){return{x:t.x-r.x,y:t.y-r.y}}function N5({point:t},r){return{point:t,delta:RD(t,OV(r)),offset:RD(t,OCe(r)),velocity:DCe(r,.1)}}function OCe(t){return t[0]}function OV(t){return t[t.length-1]}function DCe(t,r){if(t.length<2)return{x:0,y:0};let a=t.length-1,s=null;const i=OV(t);for(;a>=0&&(s=t[a],!(i.timestamp-s.timestamp>bf(r)));)a--;if(!s)return{x:0,y:0};const o=wf(i.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-s.x)/o,y:(i.y-s.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function LCe(t,{min:r,max:a},s){return r!==void 0&&t<r?t=s?Sn(r,t,s.min):Math.max(t,r):a!==void 0&&t>a&&(t=s?Sn(a,t,s.max):Math.min(t,a)),t}function QD(t,r,a){return{min:r!==void 0?t.min+r:void 0,max:a!==void 0?t.max+a-(t.max-t.min):void 0}}function MCe(t,{top:r,left:a,bottom:s,right:i}){return{x:QD(t.x,a,i),y:QD(t.y,r,s)}}function HD(t,r){let a=r.min-t.min,s=r.max-t.max;return r.max-r.min<t.max-t.min&&([a,s]=[s,a]),{min:a,max:s}}function UCe(t,r){return{x:HD(t.x,r.x),y:HD(t.y,r.y)}}function RCe(t,r){let a=.5;const s=hl(t),i=hl(r);return i>s?a=ky(r.min,r.max-s,t.min):s>i&&(a=ky(t.min,t.max-i,r.min)),KA(0,1,a)}function QCe(t,r){const a={};return r.min!==void 0&&(a.min=r.min-t.min),r.max!==void 0&&(a.max=r.max-t.min),a}const M3=.35;function HCe(t=M3){return t===!1?t=0:t===!0&&(t=M3),{x:$D(t,"left","right"),y:$D(t,"top","bottom")}}function $D(t,r,a){return{min:zD(t,r),max:zD(t,a)}}function zD(t,r){return typeof t=="number"?t:t[r]||0}const $Ce=new WeakMap;class zCe{constructor(r){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Hn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=r}start(r,{snapToCursor:a=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(gv(m).point)},l=(m,p)=>{const{drag:g,dragPropagation:v,onDragStart:y}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=JSe(g),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dd(j=>{let N=this.getAxisMotionValue(j).get()||0;if(jf.test(N)){const{projection:S}=this.visualElement;if(S&&S.layout){const B=S.layout.layoutBox[j];B&&(N=hl(B)*(parseFloat(N)/100))}}this.originPoint[j]=N}),y&&An.postRender(()=>y(m,p)),D3(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},c=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p;const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:y,onDrag:b}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:j}=p;if(v&&this.currentDirection===null){this.currentDirection=VCe(j),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",p.point,j),this.updateAxis("y",p.point,j),this.visualElement.render(),b&&b(m,p)},d=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p,this.stop(m,p),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>dd(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new PV(r,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:s,contextWindow:_V(this.visualElement)})}stop(r,a){const s=r||this.latestPointerEvent,i=a||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!s)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&An.postRender(()=>c(s,i))}cancel(){this.isDragging=!1;const{projection:r,animationState:a}=this.visualElement;r&&(r.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(r,a,s){const{drag:i}=this.getProps();if(!s||!Qb(r,i,this.currentDirection))return;const o=this.getAxisMotionValue(r);let l=this.originPoint[r]+s[r];this.constraints&&this.constraints[r]&&(l=LCe(l,this.constraints[r],this.elastic[r])),o.set(l)}resolveConstraints(){const{dragConstraints:r,dragElastic:a}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;r&&pg(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=MCe(s.layoutBox,r):this.constraints=!1,this.elastic=HCe(a),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&dd(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=QCe(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:r,onMeasureDragConstraints:a}=this.getProps();if(!r||!pg(r))return!1;const s=r.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=K5e(s,i.root,this.visualElement.getTransformPagePoint());let l=UCe(i.layout.layoutBox,o);if(a){const c=a($5e(l));this.hasMutatedConstraints=!!c,c&&(l=xV(c))}return l}startAnimation(r){const{drag:a,dragMomentum:s,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=dd(u=>{if(!Qb(u,a,this.currentDirection))return;let m=d&&d[u]||{};l&&(m={min:0,max:0});const p=i?200:1e6,g=i?40:1e7,v={type:"inertia",velocity:s?r[u]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(u,v)});return Promise.all(f).then(c)}startAxisValueAnimation(r,a){const s=this.getAxisMotionValue(r);return D3(this.visualElement,r),s.start(ST(r,s,0,a,this.visualElement,!1))}stopAnimation(){dd(r=>this.getAxisMotionValue(r).stop())}pauseAnimation(){dd(r=>this.getAxisMotionValue(r).animation?.pause())}getAnimationState(r){return this.getAxisMotionValue(r).animation?.state}getAxisMotionValue(r){const a=`_drag${r.toUpperCase()}`,s=this.visualElement.getProps(),i=s[a];return i||this.visualElement.getValue(r,(s.initial?s.initial[r]:void 0)||0)}snapToCursor(r){dd(a=>{const{drag:s}=this.getProps();if(!Qb(a,s,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(a);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[a];o.set(r[a]-Sn(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:r,dragConstraints:a}=this.getProps(),{projection:s}=this.visualElement;if(!pg(a)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};dd(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();i[l]=RCe({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),dd(l=>{if(!Qb(l,r,null))return;const c=this.getAxisMotionValue(l),{min:d,max:f}=this.constraints[l];c.set(Sn(d,f,i[l]))})}addListeners(){if(!this.visualElement.current)return;$Ce.set(this.visualElement,this);const r=this.visualElement.current,a=q1(r,"pointerdown",d=>{const{drag:f,dragListener:u=!0}=this.getProps();f&&u&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();pg(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),An.read(s);const l=My(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(dd(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=d[u].translate,m.set(m.get()+d[u].translate))}),this.visualElement.render())});return()=>{l(),a(),o(),c&&c()}}getProps(){const r=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=M3,dragMomentum:c=!0}=r;return{...r,drag:a,dragDirectionLock:s,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function Qb(t,r,a){return(r===!0||r===t)&&(a===null||a===t)}function VCe(t,r=10){let a=null;return Math.abs(t.y)>r?a="y":Math.abs(t.x)>r&&(a="x"),a}class KCe extends Im{constructor(r){super(r),this.removeGroupControls=md,this.removeListeners=md,this.controls=new zCe(r)}mount(){const{dragControls:r}=this.node.getProps();r&&(this.removeGroupControls=r.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||md}unmount(){this.removeGroupControls(),this.removeListeners()}}const VD=t=>(r,a)=>{t&&An.postRender(()=>t(r,a))};class GCe extends Im{constructor(){super(...arguments),this.removePointerDownListener=md}onPointerDown(r){this.session=new PV(r,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_V(this.node)})}createPanHandlers(){const{onPanSessionStart:r,onPanStart:a,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:VD(r),onStart:VD(a),onMove:s,onEnd:(o,l)=>{delete this.session,i&&An.postRender(()=>i(o,l))}}}mount(){this.removePointerDownListener=q1(this.node.current,"pointerdown",r=>this.onPointerDown(r))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const s2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function KD(t,r){return r.max===r.min?0:t/(r.max-r.min)*100}const y1={correct:(t,r)=>{if(!r.target)return t;if(typeof t=="string")if(na.test(t))t=parseFloat(t);else return t;const a=KD(t,r.target.x),s=KD(t,r.target.y);return`${a}% ${s}%`}},WCe={correct:(t,{treeScale:r,projectionDelta:a})=>{const s=t,i=wm.parse(t);if(i.length>5)return s;const o=wm.createTransformer(t),l=typeof i[0]!="number"?1:0,c=a.x.scale*r.x,d=a.y.scale*r.y;i[0+l]/=c,i[1+l]/=d;const f=Sn(c,d,.5);return typeof i[2+l]=="number"&&(i[2+l]/=f),typeof i[3+l]=="number"&&(i[3+l]/=f),o(i)}};let S5=!1;class qCe extends w.Component{componentDidMount(){const{visualElement:r,layoutGroup:a,switchLayoutGroup:s,layoutId:i}=this.props,{projection:o}=r;g5e(YCe),o&&(a.group&&a.group.add(o),s&&s.register&&i&&s.register(o),S5&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),s2.hasEverUpdated=!0}getSnapshotBeforeUpdate(r){const{layoutDependency:a,visualElement:s,drag:i,isPresent:o}=this.props,{projection:l}=s;return l&&(l.isPresent=o,S5=!0,i||r.layoutDependency!==a||a===void 0||r.isPresent!==o?l.willUpdate():this.safeToRemove(),r.isPresent!==o&&(o?l.promote():l.relegate()||An.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:r}=this.props.visualElement;r&&(r.root.didUpdate(),hT.postRender(()=>{!r.currentAnimation&&r.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:r,layoutGroup:a,switchLayoutGroup:s}=this.props,{projection:i}=r;S5=!0,i&&(i.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:r}=this.props;r&&r()}render(){return null}}function DV(t){const[r,a]=sV(),s=w.useContext(K6);return n.jsx(qCe,{...t,layoutGroup:s,switchLayoutGroup:w.useContext(pV),isPresent:r,safeToRemove:a})}const YCe={borderRadius:{...y1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:y1,borderTopRightRadius:y1,borderBottomLeftRadius:y1,borderBottomRightRadius:y1,boxShadow:WCe};function XCe(t,r,a){const s=$o(t)?t:Qg(t);return s.start(ST("",s,r,a)),s.animation}const JCe=(t,r)=>t.depth-r.depth;class ZCe{constructor(){this.children=[],this.isDirty=!1}add(r){q6(this.children,r),this.isDirty=!0}remove(r){Y6(this.children,r),this.isDirty=!0}forEach(r){this.isDirty&&this.children.sort(JCe),this.isDirty=!1,this.children.forEach(r)}}function e3e(t,r){const a=Ml.now(),s=({timestamp:i})=>{const o=i-a;o>=r&&(bm(s),t(o-r))};return An.setup(s,!0),()=>bm(s)}const LV=["TopLeft","TopRight","BottomLeft","BottomRight"],t3e=LV.length,GD=t=>typeof t=="string"?parseFloat(t):t,WD=t=>typeof t=="number"||na.test(t);function r3e(t,r,a,s,i,o){i?(t.opacity=Sn(0,a.opacity??1,a3e(s)),t.opacityExit=Sn(r.opacity??1,0,s3e(s))):o&&(t.opacity=Sn(r.opacity??1,a.opacity??1,s));for(let l=0;l<t3e;l++){const c=`border${LV[l]}Radius`;let d=qD(r,c),f=qD(a,c);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||WD(d)===WD(f)?(t[c]=Math.max(Sn(GD(d),GD(f),s),0),(jf.test(f)||jf.test(d))&&(t[c]+="%")):t[c]=f}(r.rotate||a.rotate)&&(t.rotate=Sn(r.rotate||0,a.rotate||0,s))}function qD(t,r){return t[r]!==void 0?t[r]:t.borderRadius}const a3e=MV(0,.5,Nz),s3e=MV(.5,.95,md);function MV(t,r,a){return s=>s<t?0:s>r?1:a(ky(t,r,s))}function YD(t,r){t.min=r.min,t.max=r.max}function od(t,r){YD(t.x,r.x),YD(t.y,r.y)}function XD(t,r){t.translate=r.translate,t.scale=r.scale,t.originPoint=r.originPoint,t.origin=r.origin}function JD(t,r,a,s,i){return t-=r,t=Cw(t,1/a,s),i!==void 0&&(t=Cw(t,1/i,s)),t}function n3e(t,r=0,a=1,s=.5,i,o=t,l=t){if(jf.test(r)&&(r=parseFloat(r),r=Sn(l.min,l.max,r/100)-l.min),typeof r!="number")return;let c=Sn(o.min,o.max,s);t===o&&(c-=r),t.min=JD(t.min,r,a,c,i),t.max=JD(t.max,r,a,c,i)}function ZD(t,r,[a,s,i],o,l){n3e(t,r[a],r[s],r[i],r.scale,o,l)}const i3e=["x","scaleX","originX"],o3e=["y","scaleY","originY"];function eL(t,r,a,s){ZD(t.x,r,i3e,a?a.x:void 0,s?s.x:void 0),ZD(t.y,r,o3e,a?a.y:void 0,s?s.y:void 0)}function tL(t){return t.translate===0&&t.scale===1}function UV(t){return tL(t.x)&&tL(t.y)}function rL(t,r){return t.min===r.min&&t.max===r.max}function l3e(t,r){return rL(t.x,r.x)&&rL(t.y,r.y)}function aL(t,r){return Math.round(t.min)===Math.round(r.min)&&Math.round(t.max)===Math.round(r.max)}function RV(t,r){return aL(t.x,r.x)&&aL(t.y,r.y)}function sL(t){return hl(t.x)/hl(t.y)}function nL(t,r){return t.translate===r.translate&&t.scale===r.scale&&t.originPoint===r.originPoint}class c3e{constructor(){this.members=[]}add(r){q6(this.members,r),r.scheduleRender()}remove(r){if(Y6(this.members,r),r===this.prevLead&&(this.prevLead=void 0),r===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(r){const a=this.members.findIndex(i=>r===i);if(a===0)return!1;let s;for(let i=a;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(r,a){const s=this.lead;if(r!==s&&(this.prevLead=s,this.lead=r,r.show(),s)){s.instance&&s.scheduleRender(),r.scheduleRender(),r.resumeFrom=s,a&&(r.resumeFrom.preserveOpacity=!0),s.snapshot&&(r.snapshot=s.snapshot,r.snapshot.latestValues=s.animationValues||s.latestValues),r.root&&r.root.isUpdating&&(r.isLayoutDirty=!0);const{crossfade:i}=r.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(r=>{const{options:a,resumingFrom:s}=r;a.onExitComplete&&a.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(r=>{r.instance&&r.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function d3e(t,r,a){let s="";const i=t.x.translate/r.x,o=t.y.translate/r.y,l=a?.z||0;if((i||o||l)&&(s=`translate3d(${i}px, ${o}px, ${l}px) `),(r.x!==1||r.y!==1)&&(s+=`scale(${1/r.x}, ${1/r.y}) `),a){const{transformPerspective:f,rotate:u,rotateX:m,rotateY:p,skewX:g,skewY:v}=a;f&&(s=`perspective(${f}px) ${s}`),u&&(s+=`rotate(${u}deg) `),m&&(s+=`rotateX(${m}deg) `),p&&(s+=`rotateY(${p}deg) `),g&&(s+=`skewX(${g}deg) `),v&&(s+=`skewY(${v}deg) `)}const c=t.x.scale*r.x,d=t.y.scale*r.y;return(c!==1||d!==1)&&(s+=`scale(${c}, ${d})`),s||"none"}const C5=["","X","Y","Z"],u3e=1e3;let f3e=0;function B5(t,r,a,s){const{latestValues:i}=r;i[t]&&(a[t]=i[t],r.setStaticValue(t,0),s&&(s[t]=0))}function QV(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:r}=t.options;if(!r)return;const a=CV(r);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(a,"transform",An,!(i||o))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&QV(s)}function HV({attachResizeListener:t,defaultParent:r,measureScroll:a,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(l={},c=r?.()){this.id=f3e++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(m3e),this.nodes.forEach(y3e),this.nodes.forEach(v3e),this.nodes.forEach(p3e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new ZCe)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Z6),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=aV(l)&&!s5e(l),this.instance=l;const{layoutId:c,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let u,m=0;const p=()=>this.root.updateBlockedByResize=!1;An.read(()=>{m=window.innerWidth}),t(l,()=>{const g=window.innerWidth;g!==m&&(m=g,this.root.updateBlockedByResize=!0,u&&u(),u=e3e(p,250),s2.hasAnimatedSinceResize&&(s2.hasAnimatedSinceResize=!1,this.nodes.forEach(lL)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||d)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||f.getDefaultTransition()||S3e,{onLayoutAnimationStart:y,onLayoutAnimationComplete:b}=f.getProps(),j=!this.targetLayout||!RV(this.targetLayout,g),N=!m&&p;if(this.options.layoutRoot||this.resumeFrom||N||m&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...fT(v,"layout"),onPlay:y,onComplete:b};(f.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(u,N)}else m||lL(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),bm(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(b3e),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&QV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iL);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(oL);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(x3e),this.nodes.forEach(A3e),this.nodes.forEach(h3e)):this.nodes.forEach(oL),this.clearAllSnapshots();const c=Ml.now();oo.delta=KA(0,1e3/60,c-oo.timestamp),oo.timestamp=c,oo.isProcessing=!0,m5.update.process(oo),m5.preRender.process(oo),m5.render.process(oo),oo.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(g3e),this.sharedNodes.forEach(w3e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,An.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){An.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hl(this.snapshot.measuredBox.x)&&!hl(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!UV(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,u=f!==this.prevTransformTemplateValue;l&&this.instance&&(c||x0(this.latestValues)||u)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),C3e(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Hn();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(B3e))){const{scroll:f}=this.root;f&&(gg(c.x,f.offset.x),gg(c.y,f.offset.y))}return c}removeElementScroll(l){const c=Hn();if(od(c,l),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:u,options:m}=f;f!==this.root&&u&&m.layoutScroll&&(u.wasRoot&&od(c,l),gg(c.x,u.offset.x),gg(c.y,u.offset.y))}return c}applyTransform(l,c=!1){const d=Hn();od(d,l);for(let f=0;f<this.path.length;f++){const u=this.path[f];!c&&u.options.layoutScroll&&u.scroll&&u!==u.root&&xg(d,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),x0(u.latestValues)&&xg(d,u.latestValues)}return x0(this.latestValues)&&xg(d,this.latestValues),d}removeTransform(l){const c=Hn();od(c,l);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!x0(f.latestValues))continue;k3(f.latestValues)&&f.updateSnapshot();const u=Hn(),m=f.measurePageBox();od(u,m),eL(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,u)}return x0(this.latestValues)&&eL(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==oo.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:m}=this.options;if(!(!this.layout||!(u||m))){if(this.resolvedRelativeTargetAt=oo.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hn(),this.relativeTargetOrigin=Hn(),X1(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),od(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Hn(),this.targetWithTransforms=Hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_Ce(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):od(this.target,this.layout.layoutBox),vV(this.target,this.targetDelta)):od(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hn(),this.relativeTargetOrigin=Hn(),X1(this.relativeTargetOrigin,this.target,p.target),od(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||k3(this.parent.latestValues)||yV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===oo.timestamp&&(d=!1),d)return;const{layout:f,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||u))return;od(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;V5e(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Hn());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(XD(this.prevProjectionDelta.x,this.projectionDelta.x),XD(this.prevProjectionDelta.y,this.projectionDelta.y)),Y1(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!nL(this.projectionDelta.x,this.prevProjectionDelta.x)||!nL(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yg(),this.projectionDelta=yg(),this.projectionDeltaWithTransform=yg()}setAnimationOrigin(l,c=!1){const d=this.snapshot,f=d?d.latestValues:{},u={...this.latestValues},m=yg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const p=Hn(),g=d?d.source:void 0,v=this.layout?this.layout.source:void 0,y=g!==v,b=this.getStack(),j=!b||b.members.length<=1,N=!!(y&&!j&&this.options.crossfade===!0&&!this.path.some(N3e));this.animationProgress=0;let S;this.mixTargetDelta=B=>{const I=B/1e3;cL(m.x,l.x,I),cL(m.y,l.y,I),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(X1(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),j3e(this.relativeTarget,this.relativeTargetOrigin,p,I),S&&l3e(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Hn()),od(S,this.relativeTarget)),y&&(this.animationValues=u,r3e(u,f,this.latestValues,I,N,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(bm(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=An.update(()=>{s2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Qg(0)),this.currentAnimation=XCe(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(u3e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:u}=l;if(!(!c||!d||!f)){if(this!==l&&this.layout&&f&&$V(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Hn();const m=hl(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+m;const p=hl(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+p}od(c,d),xg(c,u),Y1(this.projectionDeltaWithTransform,this.layoutCorrected,c,u)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new c3e),this.sharedNodes.get(l).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const f={};d.z&&B5("z",l,f,this.animationValues);for(let u=0;u<C5.length;u++)B5(`rotate${C5[u]}`,l,f,this.animationValues),B5(`skew${C5[u]}`,l,f,this.animationValues);l.render();for(const u in f)l.setStaticValue(u,f[u]),this.animationValues&&(this.animationValues[u]=f[u]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=a2(c?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=a2(c?.pointerEvents)||""),this.hasProjected&&!x0(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const u=f.animationValues||f.latestValues;this.applyTransformsToTarget();let m=d3e(this.projectionDeltaWithTransform,this.treeScale,u);d&&(m=d(u,m)),l.transform=m;const{x:p,y:g}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,f.animationValues?l.opacity=f===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:l.opacity=f===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const v in Ly){if(u[v]===void 0)continue;const{correct:y,applyTo:b,isCSSVariable:j}=Ly[v],N=m==="none"?u[v]:y(u[v],f);if(b){const S=b.length;for(let B=0;B<S;B++)l[b[B]]=N}else j?this.options.visualElement.renderState.vars[v]=N:l[v]=N}this.options.layoutId&&(l.pointerEvents=f===this?a2(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(iL),this.root.sharedNodes.clear()}}}function A3e(t){t.updateLayout()}function h3e(t){const r=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:s}=t.layout,{animationType:i}=t.options,o=r.source!==t.layout.source;i==="size"?dd(u=>{const m=o?r.measuredBox[u]:r.layoutBox[u],p=hl(m);m.min=a[u].min,m.max=m.min+p}):$V(i,r.layoutBox,a)&&dd(u=>{const m=o?r.measuredBox[u]:r.layoutBox[u],p=hl(a[u]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[u].max=t.relativeTarget[u].min+p)});const l=yg();Y1(l,a,r.layoutBox);const c=yg();o?Y1(c,t.applyTransform(s,!0),r.measuredBox):Y1(c,a,r.layoutBox);const d=!UV(l);let f=!1;if(!t.resumeFrom){const u=t.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:m,layout:p}=u;if(m&&p){const g=Hn();X1(g,r.layoutBox,m.layoutBox);const v=Hn();X1(v,a,p.layoutBox),RV(g,v)||(f=!0),u.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=g,t.relativeParent=u)}}}t.notifyListeners("didUpdate",{layout:a,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:a}=t.options;a&&a()}t.options.transition=void 0}function m3e(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function p3e(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function g3e(t){t.clearSnapshot()}function iL(t){t.clearMeasurements()}function oL(t){t.isLayoutDirty=!1}function x3e(t){const{visualElement:r}=t.options;r&&r.getProps().onBeforeLayoutMeasure&&r.notify("BeforeLayoutMeasure"),t.resetTransform()}function lL(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function y3e(t){t.resolveTargetDelta()}function v3e(t){t.calcProjection()}function b3e(t){t.resetSkewAndRotation()}function w3e(t){t.removeLeadSnapshot()}function cL(t,r,a){t.translate=Sn(r.translate,0,a),t.scale=Sn(r.scale,1,a),t.origin=r.origin,t.originPoint=r.originPoint}function dL(t,r,a,s){t.min=Sn(r.min,a.min,s),t.max=Sn(r.max,a.max,s)}function j3e(t,r,a,s){dL(t.x,r.x,a.x,s),dL(t.y,r.y,a.y,s)}function N3e(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const S3e={duration:.45,ease:[.4,0,.1,1]},uL=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),fL=uL("applewebkit/")&&!uL("chrome/")?Math.round:md;function AL(t){t.min=fL(t.min),t.max=fL(t.max)}function C3e(t){AL(t.x),AL(t.y)}function $V(t,r,a){return t==="position"||t==="preserve-aspect"&&!kCe(sL(r),sL(a),.2)}function B3e(t){return t!==t.root&&t.scroll?.wasRoot}const E3e=HV({attachResizeListener:(t,r)=>My(t,"resize",r),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),E5={current:void 0},zV=HV({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!E5.current){const t=new E3e({});t.mount(window),t.setOptions({layoutScroll:!0}),E5.current=t}return E5.current},resetTransform:(t,r)=>{t.style.transform=r!==void 0?r:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),T3e={pan:{Feature:GCe},drag:{Feature:KCe,ProjectionNode:zV,MeasureLayout:DV}};function hL(t,r,a){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",a==="Start");const i="onHover"+a,o=s[i];o&&An.postRender(()=>o(r,gv(r)))}class F3e extends Im{mount(){const{current:r}=this.node;r&&(this.unmount=ZSe(r,(a,s)=>(hL(this.node,s,"Start"),i=>hL(this.node,i,"End"))))}unmount(){}}class I3e extends Im{constructor(){super(...arguments),this.isActive=!1}onFocus(){let r=!1;try{r=this.node.current.matches(":focus-visible")}catch{r=!0}!r||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hv(My(this.node.current,"focus",()=>this.onFocus()),My(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mL(t,r,a){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",a==="Start");const i="onTap"+(a==="End"?"":a),o=s[i];o&&An.postRender(()=>o(r,gv(r)))}class k3e extends Im{mount(){const{current:r}=this.node;r&&(this.unmount=a5e(r,(a,s)=>(mL(this.node,s,"Start"),(i,{success:o})=>mL(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const U3=new WeakMap,T5=new WeakMap,_3e=t=>{const r=U3.get(t.target);r&&r(t)},P3e=t=>{t.forEach(_3e)};function O3e({root:t,...r}){const a=t||document;T5.has(a)||T5.set(a,{});const s=T5.get(a),i=JSON.stringify(r);return s[i]||(s[i]=new IntersectionObserver(P3e,{root:t,...r})),s[i]}function D3e(t,r,a){const s=O3e(r);return U3.set(t,a),s.observe(t),()=>{U3.delete(t),s.unobserve(t)}}const L3e={some:0,all:1};class M3e extends Im{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:r={}}=this.node.getProps(),{root:a,margin:s,amount:i="some",once:o}=r,l={root:a?a.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:L3e[i]},c=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),p=f?u:m;p&&p(d)};return D3e(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:r,prevProps:a}=this.node;["amount","margin","root"].some(U3e(r,a))&&this.startObserver()}unmount(){}}function U3e({viewport:t={}},{viewport:r={}}={}){return a=>t[a]!==r[a]}const R3e={inView:{Feature:M3e},tap:{Feature:k3e},focus:{Feature:I3e},hover:{Feature:F3e}},Q3e={layout:{ProjectionNode:zV,MeasureLayout:DV}},H3e={...CCe,...R3e,...T3e,...Q3e},Hr=H5e(H3e,tCe);/*!
 * Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */function R3(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,s=Array(r);a<r;a++)s[a]=t[a];return s}function $3e(t){if(Array.isArray(t))return t}function z3e(t){if(Array.isArray(t))return R3(t)}function V3e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function K3e(t,r){for(var a=0;a<r.length;a++){var s=r[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,VV(s.key),s)}}function G3e(t,r,a){return r&&K3e(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function n2(t,r){var a=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=CT(t))||r){a&&(t=a);var s=0,i=function(){};return{s:i,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,l=!0,c=!1;return{s:function(){a=a.call(t)},n:function(){var d=a.next();return l=d.done,d},e:function(d){c=!0,o=d},f:function(){try{l||a.return==null||a.return()}finally{if(c)throw o}}}}function Ra(t,r,a){return(r=VV(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function W3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function q3e(t,r){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var s,i,o,l,c=[],d=!0,f=!1;try{if(o=(a=a.call(t)).next,r===0){if(Object(a)!==a)return;d=!1}else for(;!(d=(s=o.call(a)).done)&&(c.push(s.value),c.length!==r);d=!0);}catch(u){f=!0,i=u}finally{try{if(!d&&a.return!=null&&(l=a.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function Y3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pL(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function mr(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?pL(Object(a),!0).forEach(function(s){Ra(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):pL(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function W4(t,r){return $3e(t)||q3e(t,r)||CT(t,r)||Y3e()}function ju(t){return z3e(t)||W3e(t)||CT(t)||X3e()}function J3e(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function VV(t){var r=J3e(t,"string");return typeof r=="symbol"?r:r+""}function Bw(t){"@babel/helpers - typeof";return Bw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Bw(t)}function CT(t,r){if(t){if(typeof t=="string")return R3(t,r);var a={}.toString.call(t).slice(8,-1);return a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set"?Array.from(t):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?R3(t,r):void 0}}var gL=function(){},BT={},KV={},GV=null,WV={mark:gL,measure:gL};try{typeof window<"u"&&(BT=window),typeof document<"u"&&(KV=document),typeof MutationObserver<"u"&&(GV=MutationObserver),typeof performance<"u"&&(WV=performance)}catch{}var Z3e=BT.navigator||{},xL=Z3e.userAgent,yL=xL===void 0?"":xL,jm=BT,sn=KV,vL=GV,Hb=WV;jm.document;var ah=!!sn.documentElement&&!!sn.head&&typeof sn.addEventListener=="function"&&typeof sn.createElement=="function",qV=~yL.indexOf("MSIE")||~yL.indexOf("Trident/"),F5,eBe=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,tBe=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Slab Press|Slab|Whiteboard)?.*/i,YV={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"}},rBe={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},XV=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press"],xo="classic",xv="duotone",JV="sharp",ZV="sharp-duotone",eK="chisel",tK="etch",rK="jelly",aK="jelly-duo",sK="jelly-fill",nK="notdog",iK="notdog-duo",oK="slab",lK="slab-press",cK="thumbprint",dK="whiteboard",aBe="Classic",sBe="Duotone",nBe="Sharp",iBe="Sharp Duotone",oBe="Chisel",lBe="Etch",cBe="Jelly",dBe="Jelly Duo",uBe="Jelly Fill",fBe="Notdog",ABe="Notdog Duo",hBe="Slab",mBe="Slab Press",pBe="Thumbprint",gBe="Whiteboard",uK=[xo,xv,JV,ZV,eK,tK,rK,aK,sK,nK,iK,oK,lK,cK,dK];F5={},Ra(Ra(Ra(Ra(Ra(Ra(Ra(Ra(Ra(Ra(F5,xo,aBe),xv,sBe),JV,nBe),ZV,iBe),eK,oBe),tK,lBe),rK,cBe),aK,dBe),sK,uBe),nK,fBe),Ra(Ra(Ra(Ra(Ra(F5,iK,ABe),oK,hBe),lK,mBe),cK,pBe),dK,gBe);var xBe={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"}},yBe={"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"}},vBe=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]]),bBe={chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},whiteboard:{semibold:"fawsb"}},fK=["fak","fa-kit","fakd","fa-kit-duotone"],bL={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},wBe=["kit"],jBe="kit",NBe="kit-duotone",SBe="Kit",CBe="Kit Duotone";Ra(Ra({},jBe,SBe),NBe,CBe);var BBe={kit:{"fa-kit":"fak"}},EBe={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},TBe={kit:{fak:"fa-kit"}},wL={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},I5,$b={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},FBe=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press"],IBe="classic",kBe="duotone",_Be="sharp",PBe="sharp-duotone",OBe="chisel",DBe="etch",LBe="jelly",MBe="jelly-duo",UBe="jelly-fill",RBe="notdog",QBe="notdog-duo",HBe="slab",$Be="slab-press",zBe="thumbprint",VBe="whiteboard",KBe="Classic",GBe="Duotone",WBe="Sharp",qBe="Sharp Duotone",YBe="Chisel",XBe="Etch",JBe="Jelly",ZBe="Jelly Duo",eEe="Jelly Fill",tEe="Notdog",rEe="Notdog Duo",aEe="Slab",sEe="Slab Press",nEe="Thumbprint",iEe="Whiteboard";I5={},Ra(Ra(Ra(Ra(Ra(Ra(Ra(Ra(Ra(Ra(I5,IBe,KBe),kBe,GBe),_Be,WBe),PBe,qBe),OBe,YBe),DBe,XBe),LBe,JBe),MBe,ZBe),UBe,eEe),RBe,tEe),Ra(Ra(Ra(Ra(Ra(I5,QBe,rEe),HBe,aEe),$Be,sEe),zBe,nEe),VBe,iEe);var oEe="kit",lEe="kit-duotone",cEe="Kit",dEe="Kit Duotone";Ra(Ra({},oEe,cEe),lEe,dEe);var uEe={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"}},fEe={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"]},Q3={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"}},AEe=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"],AK=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr"].concat(FBe,AEe),hEe=["solid","regular","light","thin","duotone","brands","semibold"],hK=[1,2,3,4,5,6,7,8,9,10],mEe=hK.concat([11,12,13,14,15,16,17,18,19,20]),pEe=["aw","fw","pull-left","pull-right"],gEe=[].concat(ju(Object.keys(fEe)),hEe,pEe,["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",$b.GROUP,$b.SWAP_OPACITY,$b.PRIMARY,$b.SECONDARY]).concat(hK.map(function(t){return"".concat(t,"x")})).concat(mEe.map(function(t){return"w-".concat(t)})),xEe={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},WA="___FONT_AWESOME___",H3=16,mK="fa",pK="svg-inline--fa",rp="data-fa-i2svg",$3="data-fa-pseudo-element",yEe="data-fa-pseudo-element-pending",ET="data-prefix",TT="data-icon",jL="fontawesome-i2svg",vEe="async",bEe=["HTML","HEAD","STYLE","SCRIPT"],gK=["::before","::after",":before",":after"],xK=function(){try{return!0}catch{return!1}}();function yv(t){return new Proxy(t,{get:function(a,s){return s in a?a[s]:a[xo]}})}var yK=mr({},YV);yK[xo]=mr(mr(mr(mr({},{"fa-duotone":"duotone"}),YV[xo]),bL.kit),bL["kit-duotone"]);var wEe=yv(yK),z3=mr({},bBe);z3[xo]=mr(mr(mr(mr({},{duotone:"fad"}),z3[xo]),wL.kit),wL["kit-duotone"]);var NL=yv(z3),V3=mr({},Q3);V3[xo]=mr(mr({},V3[xo]),TBe.kit);var FT=yv(V3),K3=mr({},uEe);K3[xo]=mr(mr({},K3[xo]),BBe.kit);yv(K3);var jEe=eBe,vK="fa-layers-text",NEe=tBe,SEe=mr({},xBe);yv(SEe);var CEe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],k5=rBe,BEe=[].concat(ju(wBe),ju(gEe)),J1=jm.FontAwesomeConfig||{};function EEe(t){var r=sn.querySelector("script["+t+"]");if(r)return r.getAttribute(t)}function TEe(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(sn&&typeof sn.querySelector=="function"){var FEe=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];FEe.forEach(function(t){var r=W4(t,2),a=r[0],s=r[1],i=TEe(EEe(a));i!=null&&(J1[s]=i)})}var bK={styleDefault:"solid",familyDefault:xo,cssPrefix:mK,replacementClass:pK,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};J1.familyPrefix&&(J1.cssPrefix=J1.familyPrefix);var $g=mr(mr({},bK),J1);$g.autoReplaceSvg||($g.observeMutations=!1);var zr={};Object.keys(bK).forEach(function(t){Object.defineProperty(zr,t,{enumerable:!0,set:function(a){$g[t]=a,Z1.forEach(function(s){return s(zr)})},get:function(){return $g[t]}})});Object.defineProperty(zr,"familyPrefix",{enumerable:!0,set:function(r){$g.cssPrefix=r,Z1.forEach(function(a){return a(zr)})},get:function(){return $g.cssPrefix}});jm.FontAwesomeConfig=zr;var Z1=[];function IEe(t){return Z1.push(t),function(){Z1.splice(Z1.indexOf(t),1)}}var og=H3,gf={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function kEe(t){if(!(!t||!ah)){var r=sn.createElement("style");r.setAttribute("type","text/css"),r.innerHTML=t;for(var a=sn.head.childNodes,s=null,i=a.length-1;i>-1;i--){var o=a[i],l=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(l)>-1&&(s=o)}return sn.head.insertBefore(r,s),t}}var _Ee="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function SL(){for(var t=12,r="";t-- >0;)r+=_Ee[Math.random()*62|0];return r}function hx(t){for(var r=[],a=(t||[]).length>>>0;a--;)r[a]=t[a];return r}function IT(t){return t.classList?hx(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(r){return r})}function wK(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function PEe(t){return Object.keys(t||{}).reduce(function(r,a){return r+"".concat(a,'="').concat(wK(t[a]),'" ')},"").trim()}function q4(t){return Object.keys(t||{}).reduce(function(r,a){return r+"".concat(a,": ").concat(t[a].trim(),";")},"")}function kT(t){return t.size!==gf.size||t.x!==gf.x||t.y!==gf.y||t.rotate!==gf.rotate||t.flipX||t.flipY}function OEe(t){var r=t.transform,a=t.containerWidth,s=t.iconWidth,i={transform:"translate(".concat(a/2," 256)")},o="translate(".concat(r.x*32,", ").concat(r.y*32,") "),l="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),c="rotate(".concat(r.rotate," 0 0)"),d={transform:"".concat(o," ").concat(l," ").concat(c)},f={transform:"translate(".concat(s/2*-1," -256)")};return{outer:i,inner:d,path:f}}function DEe(t){var r=t.transform,a=t.width,s=a===void 0?H3:a,i=t.height,o=i===void 0?H3:i,l="";return qV?l+="translate(".concat(r.x/og-s/2,"em, ").concat(r.y/og-o/2,"em) "):l+="translate(calc(-50% + ".concat(r.x/og,"em), calc(-50% + ").concat(r.y/og,"em)) "),l+="scale(".concat(r.size/og*(r.flipX?-1:1),", ").concat(r.size/og*(r.flipY?-1:1),") "),l+="rotate(".concat(r.rotate,"deg) "),l}var LEe=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";
  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";
  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";
  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";
  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";
  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";
  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";
  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";
  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";
  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";
  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";
}

.svg-inline--fa {
  box-sizing: content-box;
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285714em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left,
.svg-inline--fa .fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-pull-right,
.svg-inline--fa .fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.fa-layers .svg-inline--fa {
  inset: 0;
  margin: auto;
  position: absolute;
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xs {
  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-sm {
  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-lg {
  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xl {
  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-2xl {
  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-width-auto {
  --fa-width: auto;
}

.fa-fw,
.fa-width-fixed {
  --fa-width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-inline-start: var(--fa-li-margin, 2.5em);
  padding-inline-start: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

/* Heads Up: Bordered Icons will not be supported in the future!
  - This feature will be deprecated in the next major release of Font Awesome (v8)!
  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.
*/
/* Notes:
* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)
* --@{v.$css-prefix}-border-padding =
  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it's vertical alignment)
  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)
*/
.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.0625em);
  box-sizing: var(--fa-border-box-sizing, content-box);
  padding: var(--fa-border-padding, 0.1875em 0.25em);
}

.fa-pull-left,
.fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right,
.fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
  .fa-bounce,
  .fa-fade,
  .fa-beat-fade,
  .fa-flip,
  .fa-pulse,
  .fa-shake,
  .fa-spin,
  .fa-spin-pulse {
    animation: none !important;
    transition: none !important;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.svg-inline--fa.fa-inverse {
  fill: var(--fa-inverse, #fff);
}

.fa-stack {
  display: inline-block;
  height: 2em;
  line-height: 2em;
  position: relative;
  vertical-align: middle;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.svg-inline--fa.fa-stack-1x {
  --fa-width: 1.25em;
  height: 1em;
  width: var(--fa-width);
}
.svg-inline--fa.fa-stack-2x {
  --fa-width: 2.5em;
  height: 2em;
  width: var(--fa-width);
}

.fa-stack-1x,
.fa-stack-2x {
  inset: 0;
  margin: auto;
  position: absolute;
  z-index: var(--fa-stack-z-index, auto);
}`;function jK(){var t=mK,r=pK,a=zr.cssPrefix,s=zr.replacementClass,i=LEe;if(a!==t||s!==r){var o=new RegExp("\\.".concat(t,"\\-"),"g"),l=new RegExp("\\--".concat(t,"\\-"),"g"),c=new RegExp("\\.".concat(r),"g");i=i.replace(o,".".concat(a,"-")).replace(l,"--".concat(a,"-")).replace(c,".".concat(s))}return i}var CL=!1;function _5(){zr.autoAddCss&&!CL&&(kEe(jK()),CL=!0)}var MEe={mixout:function(){return{dom:{css:jK,insertCss:_5}}},hooks:function(){return{beforeDOMElementCreation:function(){_5()},beforeI2svg:function(){_5()}}}},qA=jm||{};qA[WA]||(qA[WA]={});qA[WA].styles||(qA[WA].styles={});qA[WA].hooks||(qA[WA].hooks={});qA[WA].shims||(qA[WA].shims=[]);var yu=qA[WA],NK=[],SK=function(){sn.removeEventListener("DOMContentLoaded",SK),Ew=1,NK.map(function(r){return r()})},Ew=!1;ah&&(Ew=(sn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(sn.readyState),Ew||sn.addEventListener("DOMContentLoaded",SK));function UEe(t){ah&&(Ew?setTimeout(t,0):NK.push(t))}function vv(t){var r=t.tag,a=t.attributes,s=a===void 0?{}:a,i=t.children,o=i===void 0?[]:i;return typeof t=="string"?wK(t):"<".concat(r," ").concat(PEe(s),">").concat(o.map(vv).join(""),"</").concat(r,">")}function BL(t,r,a){if(t&&t[r]&&t[r][a])return{prefix:r,iconName:a,icon:t[r][a]}}var P5=function(r,a,s,i){var o=Object.keys(r),l=o.length,c=a,d,f,u;for(s===void 0?(d=1,u=r[o[0]]):(d=0,u=s);d<l;d++)f=o[d],u=c(u,r[f],f,r);return u};function CK(t){return ju(t).length!==1?null:t.codePointAt(0).toString(16)}function EL(t){return Object.keys(t).reduce(function(r,a){var s=t[a],i=!!s.icon;return i?r[s.iconName]=s.icon:r[a]=s,r},{})}function G3(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=a.skipHooks,i=s===void 0?!1:s,o=EL(r);typeof yu.hooks.addPack=="function"&&!i?yu.hooks.addPack(t,EL(r)):yu.styles[t]=mr(mr({},yu.styles[t]||{}),o),t==="fas"&&G3("fa",r)}var Uy=yu.styles,REe=yu.shims,BK=Object.keys(FT),QEe=BK.reduce(function(t,r){return t[r]=Object.keys(FT[r]),t},{}),_T=null,EK={},TK={},FK={},IK={},kK={};function HEe(t){return~BEe.indexOf(t)}function $Ee(t,r){var a=r.split("-"),s=a[0],i=a.slice(1).join("-");return s===t&&i!==""&&!HEe(i)?i:null}var _K=function(){var r=function(o){return P5(Uy,function(l,c,d){return l[d]=P5(c,o,{}),l},{})};EK=r(function(i,o,l){if(o[3]&&(i[o[3]]=l),o[2]){var c=o[2].filter(function(d){return typeof d=="number"});c.forEach(function(d){i[d.toString(16)]=l})}return i}),TK=r(function(i,o,l){if(i[l]=l,o[2]){var c=o[2].filter(function(d){return typeof d=="string"});c.forEach(function(d){i[d]=l})}return i}),kK=r(function(i,o,l){var c=o[2];return i[l]=l,c.forEach(function(d){i[d]=l}),i});var a="far"in Uy||zr.autoFetchSvg,s=P5(REe,function(i,o){var l=o[0],c=o[1],d=o[2];return c==="far"&&!a&&(c="fas"),typeof l=="string"&&(i.names[l]={prefix:c,iconName:d}),typeof l=="number"&&(i.unicodes[l.toString(16)]={prefix:c,iconName:d}),i},{names:{},unicodes:{}});FK=s.names,IK=s.unicodes,_T=Y4(zr.styleDefault,{family:zr.familyDefault})};IEe(function(t){_T=Y4(t.styleDefault,{family:zr.familyDefault})});_K();function PT(t,r){return(EK[t]||{})[r]}function zEe(t,r){return(TK[t]||{})[r]}function F0(t,r){return(kK[t]||{})[r]}function PK(t){return FK[t]||{prefix:null,iconName:null}}function VEe(t){var r=IK[t],a=PT("fas",t);return r||(a?{prefix:"fas",iconName:a}:null)||{prefix:null,iconName:null}}function Nm(){return _T}var OK=function(){return{prefix:null,iconName:null,rest:[]}};function KEe(t){var r=xo,a=BK.reduce(function(s,i){return s[i]="".concat(zr.cssPrefix,"-").concat(i),s},{});return uK.forEach(function(s){(t.includes(a[s])||t.some(function(i){return QEe[s].includes(i)}))&&(r=s)}),r}function Y4(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.family,s=a===void 0?xo:a,i=wEe[s][t];if(s===xv&&!t)return"fad";var o=NL[s][t]||NL[s][i],l=t in yu.styles?t:null,c=o||l||null;return c}function GEe(t){var r=[],a=null;return t.forEach(function(s){var i=$Ee(zr.cssPrefix,s);i?a=i:s&&r.push(s)}),{iconName:a,rest:r}}function TL(t){return t.sort().filter(function(r,a,s){return s.indexOf(r)===a})}var FL=AK.concat(fK);function X4(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.skipLookups,s=a===void 0?!1:a,i=null,o=TL(t.filter(function(g){return FL.includes(g)})),l=TL(t.filter(function(g){return!FL.includes(g)})),c=o.filter(function(g){return i=g,!XV.includes(g)}),d=W4(c,1),f=d[0],u=f===void 0?null:f,m=KEe(o),p=mr(mr({},GEe(l)),{},{prefix:Y4(u,{family:m})});return mr(mr(mr({},p),XEe({values:t,family:m,styles:Uy,config:zr,canonical:p,givenPrefix:i})),WEe(s,i,p))}function WEe(t,r,a){var s=a.prefix,i=a.iconName;if(t||!s||!i)return{prefix:s,iconName:i};var o=r==="fa"?PK(i):{},l=F0(s,i);return i=o.iconName||l||i,s=o.prefix||s,s==="far"&&!Uy.far&&Uy.fas&&!zr.autoFetchSvg&&(s="fas"),{prefix:s,iconName:i}}var qEe=uK.filter(function(t){return t!==xo||t!==xv}),YEe=Object.keys(Q3).filter(function(t){return t!==xo}).map(function(t){return Object.keys(Q3[t])}).flat();function XEe(t){var r=t.values,a=t.family,s=t.canonical,i=t.givenPrefix,o=i===void 0?"":i,l=t.styles,c=l===void 0?{}:l,d=t.config,f=d===void 0?{}:d,u=a===xv,m=r.includes("fa-duotone")||r.includes("fad"),p=f.familyDefault==="duotone",g=s.prefix==="fad"||s.prefix==="fa-duotone";if(!u&&(m||p||g)&&(s.prefix="fad"),(r.includes("fa-brands")||r.includes("fab"))&&(s.prefix="fab"),!s.prefix&&qEe.includes(a)){var v=Object.keys(c).find(function(b){return YEe.includes(b)});if(v||f.autoFetchSvg){var y=vBe.get(a).defaultShortPrefixId;s.prefix=y,s.iconName=F0(s.prefix,s.iconName)||s.iconName}}return(s.prefix==="fa"||o==="fa")&&(s.prefix=Nm()||"fas"),s}var JEe=function(){function t(){V3e(this,t),this.definitions={}}return G3e(t,[{key:"add",value:function(){for(var a=this,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];var l=i.reduce(this._pullDefinitions,{});Object.keys(l).forEach(function(c){a.definitions[c]=mr(mr({},a.definitions[c]||{}),l[c]),G3(c,l[c]);var d=FT[xo][c];d&&G3(d,l[c]),_K()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(a,s){var i=s.prefix&&s.iconName&&s.icon?{0:s}:s;return Object.keys(i).map(function(o){var l=i[o],c=l.prefix,d=l.iconName,f=l.icon,u=f[2];a[c]||(a[c]={}),u.length>0&&u.forEach(function(m){typeof m=="string"&&(a[c][m]=f)}),a[c][d]=f}),a}}])}(),IL=[],vg={},Fg={},ZEe=Object.keys(Fg);function e6e(t,r){var a=r.mixoutsTo;return IL=t,vg={},Object.keys(Fg).forEach(function(s){ZEe.indexOf(s)===-1&&delete Fg[s]}),IL.forEach(function(s){var i=s.mixout?s.mixout():{};if(Object.keys(i).forEach(function(l){typeof i[l]=="function"&&(a[l]=i[l]),Bw(i[l])==="object"&&Object.keys(i[l]).forEach(function(c){a[l]||(a[l]={}),a[l][c]=i[l][c]})}),s.hooks){var o=s.hooks();Object.keys(o).forEach(function(l){vg[l]||(vg[l]=[]),vg[l].push(o[l])})}s.provides&&s.provides(Fg)}),a}function W3(t,r){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i];var o=vg[t]||[];return o.forEach(function(l){r=l.apply(null,[r].concat(s))}),r}function ap(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];var i=vg[t]||[];i.forEach(function(o){o.apply(null,a)})}function Sm(){var t=arguments[0],r=Array.prototype.slice.call(arguments,1);return Fg[t]?Fg[t].apply(null,r):void 0}function q3(t){t.prefix==="fa"&&(t.prefix="fas");var r=t.iconName,a=t.prefix||Nm();if(r)return r=F0(a,r)||r,BL(DK.definitions,a,r)||BL(yu.styles,a,r)}var DK=new JEe,t6e=function(){zr.autoReplaceSvg=!1,zr.observeMutations=!1,ap("noAuto")},r6e={i2svg:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ah?(ap("beforeI2svg",r),Sm("pseudoElements2svg",r),Sm("i2svg",r)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.autoReplaceSvgRoot;zr.autoReplaceSvg===!1&&(zr.autoReplaceSvg=!0),zr.observeMutations=!0,UEe(function(){s6e({autoReplaceSvgRoot:a}),ap("watch",r)})}},a6e={icon:function(r){if(r===null)return null;if(Bw(r)==="object"&&r.prefix&&r.iconName)return{prefix:r.prefix,iconName:F0(r.prefix,r.iconName)||r.iconName};if(Array.isArray(r)&&r.length===2){var a=r[1].indexOf("fa-")===0?r[1].slice(3):r[1],s=Y4(r[0]);return{prefix:s,iconName:F0(s,a)||a}}if(typeof r=="string"&&(r.indexOf("".concat(zr.cssPrefix,"-"))>-1||r.match(jEe))){var i=X4(r.split(" "),{skipLookups:!0});return{prefix:i.prefix||Nm(),iconName:F0(i.prefix,i.iconName)||i.iconName}}if(typeof r=="string"){var o=Nm();return{prefix:o,iconName:F0(o,r)||r}}}},Fc={noAuto:t6e,config:zr,dom:r6e,parse:a6e,library:DK,findIconDefinition:q3,toHtml:vv},s6e=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.autoReplaceSvgRoot,s=a===void 0?sn:a;(Object.keys(yu.styles).length>0||zr.autoFetchSvg)&&ah&&zr.autoReplaceSvg&&Fc.dom.i2svg({node:s})};function J4(t,r){return Object.defineProperty(t,"abstract",{get:r}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(s){return vv(s)})}}),Object.defineProperty(t,"node",{get:function(){if(ah){var s=sn.createElement("div");return s.innerHTML=t.html,s.children}}}),t}function n6e(t){var r=t.children,a=t.main,s=t.mask,i=t.attributes,o=t.styles,l=t.transform;if(kT(l)&&a.found&&!s.found){var c=a.width,d=a.height,f={x:c/d/2,y:.5};i.style=q4(mr(mr({},o),{},{"transform-origin":"".concat(f.x+l.x/16,"em ").concat(f.y+l.y/16,"em")}))}return[{tag:"svg",attributes:i,children:r}]}function i6e(t){var r=t.prefix,a=t.iconName,s=t.children,i=t.attributes,o=t.symbol,l=o===!0?"".concat(r,"-").concat(zr.cssPrefix,"-").concat(a):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:mr(mr({},i),{},{id:l}),children:s}]}]}function o6e(t){var r=["aria-label","aria-labelledby","title","role"];return r.some(function(a){return a in t})}function OT(t){var r=t.icons,a=r.main,s=r.mask,i=t.prefix,o=t.iconName,l=t.transform,c=t.symbol,d=t.maskId,f=t.extra,u=t.watchable,m=u===void 0?!1:u,p=s.found?s:a,g=p.width,v=p.height,y=[zr.replacementClass,o?"".concat(zr.cssPrefix,"-").concat(o):""].filter(function(I){return f.classes.indexOf(I)===-1}).filter(function(I){return I!==""||!!I}).concat(f.classes).join(" "),b={children:[],attributes:mr(mr({},f.attributes),{},{"data-prefix":i,"data-icon":o,class:y,role:f.attributes.role||"img",viewBox:"0 0 ".concat(g," ").concat(v)})};!o6e(f.attributes)&&!f.attributes["aria-hidden"]&&(b.attributes["aria-hidden"]="true"),m&&(b.attributes[rp]="");var j=mr(mr({},b),{},{prefix:i,iconName:o,main:a,mask:s,maskId:d,transform:l,symbol:c,styles:mr({},f.styles)}),N=s.found&&a.found?Sm("generateAbstractMask",j)||{children:[],attributes:{}}:Sm("generateAbstractIcon",j)||{children:[],attributes:{}},S=N.children,B=N.attributes;return j.children=S,j.attributes=B,c?i6e(j):n6e(j)}function kL(t){var r=t.content,a=t.width,s=t.height,i=t.transform,o=t.extra,l=t.watchable,c=l===void 0?!1:l,d=mr(mr({},o.attributes),{},{class:o.classes.join(" ")});c&&(d[rp]="");var f=mr({},o.styles);kT(i)&&(f.transform=DEe({transform:i,width:a,height:s}),f["-webkit-transform"]=f.transform);var u=q4(f);u.length>0&&(d.style=u);var m=[];return m.push({tag:"span",attributes:d,children:[r]}),m}function l6e(t){var r=t.content,a=t.extra,s=mr(mr({},a.attributes),{},{class:a.classes.join(" ")}),i=q4(a.styles);i.length>0&&(s.style=i);var o=[];return o.push({tag:"span",attributes:s,children:[r]}),o}var O5=yu.styles;function Y3(t){var r=t[0],a=t[1],s=t.slice(4),i=W4(s,1),o=i[0],l=null;return Array.isArray(o)?l={tag:"g",attributes:{class:"".concat(zr.cssPrefix,"-").concat(k5.GROUP)},children:[{tag:"path",attributes:{class:"".concat(zr.cssPrefix,"-").concat(k5.SECONDARY),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(zr.cssPrefix,"-").concat(k5.PRIMARY),fill:"currentColor",d:o[1]}}]}:l={tag:"path",attributes:{fill:"currentColor",d:o}},{found:!0,width:r,height:a,icon:l}}var c6e={found:!1,width:512,height:512};function d6e(t,r){!xK&&!zr.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(r,'" is missing.'))}function X3(t,r){var a=r;return r==="fa"&&zr.styleDefault!==null&&(r=Nm()),new Promise(function(s,i){if(a==="fa"){var o=PK(t)||{};t=o.iconName||t,r=o.prefix||r}if(t&&r&&O5[r]&&O5[r][t]){var l=O5[r][t];return s(Y3(l))}d6e(t,r),s(mr(mr({},c6e),{},{icon:zr.showMissingIcons&&t?Sm("missingIconAbstract")||{}:{}}))})}var _L=function(){},J3=zr.measurePerformance&&Hb&&Hb.mark&&Hb.measure?Hb:{mark:_L,measure:_L},C1='FA "7.0.1"',u6e=function(r){return J3.mark("".concat(C1," ").concat(r," begins")),function(){return LK(r)}},LK=function(r){J3.mark("".concat(C1," ").concat(r," ends")),J3.measure("".concat(C1," ").concat(r),"".concat(C1," ").concat(r," begins"),"".concat(C1," ").concat(r," ends"))},DT={begin:u6e,end:LK},i2=function(){};function PL(t){var r=t.getAttribute?t.getAttribute(rp):null;return typeof r=="string"}function f6e(t){var r=t.getAttribute?t.getAttribute(ET):null,a=t.getAttribute?t.getAttribute(TT):null;return r&&a}function A6e(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(zr.replacementClass)}function h6e(){if(zr.autoReplaceSvg===!0)return o2.replace;var t=o2[zr.autoReplaceSvg];return t||o2.replace}function m6e(t){return sn.createElementNS("http://www.w3.org/2000/svg",t)}function p6e(t){return sn.createElement(t)}function MK(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.ceFn,s=a===void 0?t.tag==="svg"?m6e:p6e:a;if(typeof t=="string")return sn.createTextNode(t);var i=s(t.tag);Object.keys(t.attributes||[]).forEach(function(l){i.setAttribute(l,t.attributes[l])});var o=t.children||[];return o.forEach(function(l){i.appendChild(MK(l,{ceFn:s}))}),i}function g6e(t){var r=" ".concat(t.outerHTML," ");return r="".concat(r,"Font Awesome fontawesome.com "),r}var o2={replace:function(r){var a=r[0];if(a.parentNode)if(r[1].forEach(function(i){a.parentNode.insertBefore(MK(i),a)}),a.getAttribute(rp)===null&&zr.keepOriginalSource){var s=sn.createComment(g6e(a));a.parentNode.replaceChild(s,a)}else a.remove()},nest:function(r){var a=r[0],s=r[1];if(~IT(a).indexOf(zr.replacementClass))return o2.replace(r);var i=new RegExp("".concat(zr.cssPrefix,"-.*"));if(delete s[0].attributes.id,s[0].attributes.class){var o=s[0].attributes.class.split(" ").reduce(function(c,d){return d===zr.replacementClass||d.match(i)?c.toSvg.push(d):c.toNode.push(d),c},{toNode:[],toSvg:[]});s[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?a.removeAttribute("class"):a.setAttribute("class",o.toNode.join(" "))}var l=s.map(function(c){return vv(c)}).join(`
`);a.setAttribute(rp,""),a.innerHTML=l}};function OL(t){t()}function UK(t,r){var a=typeof r=="function"?r:i2;if(t.length===0)a();else{var s=OL;zr.mutateApproach===vEe&&(s=jm.requestAnimationFrame||OL),s(function(){var i=h6e(),o=DT.begin("mutate");t.map(i),o(),a()})}}var LT=!1;function RK(){LT=!0}function Z3(){LT=!1}var Tw=null;function DL(t){if(vL&&zr.observeMutations){var r=t.treeCallback,a=r===void 0?i2:r,s=t.nodeCallback,i=s===void 0?i2:s,o=t.pseudoElementsCallback,l=o===void 0?i2:o,c=t.observeMutationsRoot,d=c===void 0?sn:c;Tw=new vL(function(f){if(!LT){var u=Nm();hx(f).forEach(function(m){if(m.type==="childList"&&m.addedNodes.length>0&&!PL(m.addedNodes[0])&&(zr.searchPseudoElements&&l(m.target),a(m.target)),m.type==="attributes"&&m.target.parentNode&&zr.searchPseudoElements&&l([m.target],!0),m.type==="attributes"&&PL(m.target)&&~CEe.indexOf(m.attributeName))if(m.attributeName==="class"&&f6e(m.target)){var p=X4(IT(m.target)),g=p.prefix,v=p.iconName;m.target.setAttribute(ET,g||u),v&&m.target.setAttribute(TT,v)}else A6e(m.target)&&i(m.target)})}}),ah&&Tw.observe(d,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function x6e(){Tw&&Tw.disconnect()}function y6e(t){var r=t.getAttribute("style"),a=[];return r&&(a=r.split(";").reduce(function(s,i){var o=i.split(":"),l=o[0],c=o.slice(1);return l&&c.length>0&&(s[l]=c.join(":").trim()),s},{})),a}function v6e(t){var r=t.getAttribute("data-prefix"),a=t.getAttribute("data-icon"),s=t.innerText!==void 0?t.innerText.trim():"",i=X4(IT(t));return i.prefix||(i.prefix=Nm()),r&&a&&(i.prefix=r,i.iconName=a),i.iconName&&i.prefix||(i.prefix&&s.length>0&&(i.iconName=zEe(i.prefix,t.innerText)||PT(i.prefix,CK(t.innerText))),!i.iconName&&zr.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function b6e(t){var r=hx(t.attributes).reduce(function(a,s){return a.name!=="class"&&a.name!=="style"&&(a[s.name]=s.value),a},{});return r}function w6e(){return{iconName:null,prefix:null,transform:gf,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function LL(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},a=v6e(t),s=a.iconName,i=a.prefix,o=a.rest,l=b6e(t),c=W3("parseNodeAttributes",{},t),d=r.styleParser?y6e(t):[];return mr({iconName:s,prefix:i,transform:gf,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:d,attributes:l}},c)}var j6e=yu.styles;function QK(t){var r=zr.autoReplaceSvg==="nest"?LL(t,{styleParser:!1}):LL(t);return~r.extra.classes.indexOf(vK)?Sm("generateLayersText",t,r):Sm("generateSvgReplacementMutation",t,r)}function N6e(){return[].concat(ju(fK),ju(AK))}function ML(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ah)return Promise.resolve();var a=sn.documentElement.classList,s=function(m){return a.add("".concat(jL,"-").concat(m))},i=function(m){return a.remove("".concat(jL,"-").concat(m))},o=zr.autoFetchSvg?N6e():XV.concat(Object.keys(j6e));o.includes("fa")||o.push("fa");var l=[".".concat(vK,":not([").concat(rp,"])")].concat(o.map(function(u){return".".concat(u,":not([").concat(rp,"])")})).join(", ");if(l.length===0)return Promise.resolve();var c=[];try{c=hx(t.querySelectorAll(l))}catch{}if(c.length>0)s("pending"),i("complete");else return Promise.resolve();var d=DT.begin("onTree"),f=c.reduce(function(u,m){try{var p=QK(m);p&&u.push(p)}catch(g){xK||g.name==="MissingIcon"&&console.error(g)}return u},[]);return new Promise(function(u,m){Promise.all(f).then(function(p){UK(p,function(){s("active"),s("complete"),i("pending"),typeof r=="function"&&r(),d(),u()})}).catch(function(p){d(),m(p)})})}function S6e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;QK(t).then(function(a){a&&UK([a],r)})}function C6e(t){return function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=(r||{}).icon?r:q3(r||{}),i=a.mask;return i&&(i=(i||{}).icon?i:q3(i||{})),t(s,mr(mr({},a),{},{mask:i}))}}var B6e=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.transform,i=s===void 0?gf:s,o=a.symbol,l=o===void 0?!1:o,c=a.mask,d=c===void 0?null:c,f=a.maskId,u=f===void 0?null:f,m=a.classes,p=m===void 0?[]:m,g=a.attributes,v=g===void 0?{}:g,y=a.styles,b=y===void 0?{}:y;if(r){var j=r.prefix,N=r.iconName,S=r.icon;return J4(mr({type:"icon"},r),function(){return ap("beforeDOMElementCreation",{iconDefinition:r,params:a}),OT({icons:{main:Y3(S),mask:d?Y3(d.icon):{found:!1,width:null,height:null,icon:{}}},prefix:j,iconName:N,transform:mr(mr({},gf),i),symbol:l,maskId:u,extra:{attributes:v,styles:b,classes:p}})})}},E6e={mixout:function(){return{icon:C6e(B6e)}},hooks:function(){return{mutationObserverCallbacks:function(a){return a.treeCallback=ML,a.nodeCallback=S6e,a}}},provides:function(r){r.i2svg=function(a){var s=a.node,i=s===void 0?sn:s,o=a.callback,l=o===void 0?function(){}:o;return ML(i,l)},r.generateSvgReplacementMutation=function(a,s){var i=s.iconName,o=s.prefix,l=s.transform,c=s.symbol,d=s.mask,f=s.maskId,u=s.extra;return new Promise(function(m,p){Promise.all([X3(i,o),d.iconName?X3(d.iconName,d.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var v=W4(g,2),y=v[0],b=v[1];m([a,OT({icons:{main:y,mask:b},prefix:o,iconName:i,transform:l,symbol:c,maskId:f,extra:u,watchable:!0})])}).catch(p)})},r.generateAbstractIcon=function(a){var s=a.children,i=a.attributes,o=a.main,l=a.transform,c=a.styles,d=q4(c);d.length>0&&(i.style=d);var f;return kT(l)&&(f=Sm("generateAbstractTransformGrouping",{main:o,transform:l,containerWidth:o.width,iconWidth:o.width})),s.push(f||o.icon),{children:s,attributes:i}}}},T6e={mixout:function(){return{layer:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.classes,o=i===void 0?[]:i;return J4({type:"layer"},function(){ap("beforeDOMElementCreation",{assembler:a,params:s});var l=[];return a(function(c){Array.isArray(c)?c.map(function(d){l=l.concat(d.abstract)}):l=l.concat(c.abstract)}),[{tag:"span",attributes:{class:["".concat(zr.cssPrefix,"-layers")].concat(ju(o)).join(" ")},children:l}]})}}}},F6e={mixout:function(){return{counter:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s.title;var i=s.classes,o=i===void 0?[]:i,l=s.attributes,c=l===void 0?{}:l,d=s.styles,f=d===void 0?{}:d;return J4({type:"counter",content:a},function(){return ap("beforeDOMElementCreation",{content:a,params:s}),l6e({content:a.toString(),extra:{attributes:c,styles:f,classes:["".concat(zr.cssPrefix,"-layers-counter")].concat(ju(o))}})})}}}},I6e={mixout:function(){return{text:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.transform,o=i===void 0?gf:i,l=s.classes,c=l===void 0?[]:l,d=s.attributes,f=d===void 0?{}:d,u=s.styles,m=u===void 0?{}:u;return J4({type:"text",content:a},function(){return ap("beforeDOMElementCreation",{content:a,params:s}),kL({content:a,transform:mr(mr({},gf),o),extra:{attributes:f,styles:m,classes:["".concat(zr.cssPrefix,"-layers-text")].concat(ju(c))}})})}}},provides:function(r){r.generateLayersText=function(a,s){var i=s.transform,o=s.extra,l=null,c=null;if(qV){var d=parseInt(getComputedStyle(a).fontSize,10),f=a.getBoundingClientRect();l=f.width/d,c=f.height/d}return Promise.resolve([a,kL({content:a.innerHTML,width:l,height:c,transform:i,extra:o,watchable:!0})])}}},HK=new RegExp('"',"ug"),UL=[1105920,1112319],RL=mr(mr(mr(mr({},{FontAwesome:{normal:"fas",400:"fas"}}),yBe),xEe),EBe),eB=Object.keys(RL).reduce(function(t,r){return t[r.toLowerCase()]=RL[r],t},{}),k6e=Object.keys(eB).reduce(function(t,r){var a=eB[r];return t[r]=a[900]||ju(Object.entries(a))[0][1],t},{});function _6e(t){var r=t.replace(HK,"");return CK(ju(r)[0]||"")}function P6e(t){var r=t.getPropertyValue("font-feature-settings").includes("ss01"),a=t.getPropertyValue("content"),s=a.replace(HK,""),i=s.codePointAt(0),o=i>=UL[0]&&i<=UL[1],l=s.length===2?s[0]===s[1]:!1;return o||l||r}function O6e(t,r){var a=t.replace(/^['"]|['"]$/g,"").toLowerCase(),s=parseInt(r),i=isNaN(s)?"normal":s;return(eB[a]||{})[i]||k6e[a]}function QL(t,r){var a="".concat(yEe).concat(r.replace(":","-"));return new Promise(function(s,i){if(t.getAttribute(a)!==null)return s();var o=hx(t.children),l=o.filter(function(F){return F.getAttribute($3)===r})[0],c=jm.getComputedStyle(t,r),d=c.getPropertyValue("font-family"),f=d.match(NEe),u=c.getPropertyValue("font-weight"),m=c.getPropertyValue("content");if(l&&!f)return t.removeChild(l),s();if(f&&m!=="none"&&m!==""){var p=c.getPropertyValue("content"),g=O6e(d,u),v=_6e(p),y=f[0].startsWith("FontAwesome"),b=P6e(c),j=PT(g,v),N=j;if(y){var S=VEe(v);S.iconName&&S.prefix&&(j=S.iconName,g=S.prefix)}if(j&&!b&&(!l||l.getAttribute(ET)!==g||l.getAttribute(TT)!==N)){t.setAttribute(a,N),l&&t.removeChild(l);var B=w6e(),I=B.extra;I.attributes[$3]=r,X3(j,g).then(function(F){var O=OT(mr(mr({},B),{},{icons:{main:F,mask:OK()},prefix:g,iconName:N,extra:I,watchable:!0})),k=sn.createElementNS("http://www.w3.org/2000/svg","svg");r==="::before"?t.insertBefore(k,t.firstChild):t.appendChild(k),k.outerHTML=O.map(function(V){return vv(V)}).join(`
`),t.removeAttribute(a),s()}).catch(i)}else s()}else s()})}function D6e(t){return Promise.all([QL(t,"::before"),QL(t,"::after")])}function L6e(t){return t.parentNode!==document.head&&!~bEe.indexOf(t.tagName.toUpperCase())&&!t.getAttribute($3)&&(!t.parentNode||t.parentNode.tagName!=="svg")}var M6e=function(r){return!!r&&gK.some(function(a){return r.includes(a)})},U6e=function(r){if(!r)return[];var a=new Set,s=r.split(/,(?![^()]*\))/).map(function(d){return d.trim()});s=s.flatMap(function(d){return d.includes("(")?d:d.split(",").map(function(f){return f.trim()})});var i=n2(s),o;try{for(i.s();!(o=i.n()).done;){var l=o.value;if(M6e(l)){var c=gK.reduce(function(d,f){return d.replace(f,"")},l);c!==""&&c!=="*"&&a.add(c)}}}catch(d){i.e(d)}finally{i.f()}return a};function HL(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(ah){var a;if(r)a=t;else if(zr.searchPseudoElementsFullScan)a=t.querySelectorAll("*");else{var s=new Set,i=n2(document.styleSheets),o;try{for(i.s();!(o=i.n()).done;){var l=o.value;try{var c=n2(l.cssRules),d;try{for(c.s();!(d=c.n()).done;){var f=d.value,u=U6e(f.selectorText),m=n2(u),p;try{for(m.s();!(p=m.n()).done;){var g=p.value;s.add(g)}}catch(y){m.e(y)}finally{m.f()}}}catch(y){c.e(y)}finally{c.f()}}catch(y){zr.searchPseudoElementsWarnings&&console.warn("Font Awesome: cannot parse stylesheet: ".concat(l.href," (").concat(y.message,`)
If it declares any Font Awesome CSS pseudo-elements, they will not be rendered as SVG icons. Add crossorigin="anonymous" to the <link>, enable searchPseudoElementsFullScan for slower but more thorough DOM parsing, or suppress this warning by setting searchPseudoElementsWarnings to false.`))}}}catch(y){i.e(y)}finally{i.f()}if(!s.size)return;var v=Array.from(s).join(", ");try{a=t.querySelectorAll(v)}catch{}}return new Promise(function(y,b){var j=hx(a).filter(L6e).map(D6e),N=DT.begin("searchPseudoElements");RK(),Promise.all(j).then(function(){N(),Z3(),y()}).catch(function(){N(),Z3(),b()})})}}var R6e={hooks:function(){return{mutationObserverCallbacks:function(a){return a.pseudoElementsCallback=HL,a}}},provides:function(r){r.pseudoElements2svg=function(a){var s=a.node,i=s===void 0?sn:s;zr.searchPseudoElements&&HL(i)}}},$L=!1,Q6e={mixout:function(){return{dom:{unwatch:function(){RK(),$L=!0}}}},hooks:function(){return{bootstrap:function(){DL(W3("mutationObserverCallbacks",{}))},noAuto:function(){x6e()},watch:function(a){var s=a.observeMutationsRoot;$L?Z3():DL(W3("mutationObserverCallbacks",{observeMutationsRoot:s}))}}}},zL=function(r){var a={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return r.toLowerCase().split(" ").reduce(function(s,i){var o=i.toLowerCase().split("-"),l=o[0],c=o.slice(1).join("-");if(l&&c==="h")return s.flipX=!0,s;if(l&&c==="v")return s.flipY=!0,s;if(c=parseFloat(c),isNaN(c))return s;switch(l){case"grow":s.size=s.size+c;break;case"shrink":s.size=s.size-c;break;case"left":s.x=s.x-c;break;case"right":s.x=s.x+c;break;case"up":s.y=s.y-c;break;case"down":s.y=s.y+c;break;case"rotate":s.rotate=s.rotate+c;break}return s},a)},H6e={mixout:function(){return{parse:{transform:function(a){return zL(a)}}}},hooks:function(){return{parseNodeAttributes:function(a,s){var i=s.getAttribute("data-fa-transform");return i&&(a.transform=zL(i)),a}}},provides:function(r){r.generateAbstractTransformGrouping=function(a){var s=a.main,i=a.transform,o=a.containerWidth,l=a.iconWidth,c={transform:"translate(".concat(o/2," 256)")},d="translate(".concat(i.x*32,", ").concat(i.y*32,") "),f="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),m={transform:"".concat(d," ").concat(f," ").concat(u)},p={transform:"translate(".concat(l/2*-1," -256)")},g={outer:c,inner:m,path:p};return{tag:"g",attributes:mr({},g.outer),children:[{tag:"g",attributes:mr({},g.inner),children:[{tag:s.icon.tag,children:s.icon.children,attributes:mr(mr({},s.icon.attributes),g.path)}]}]}}}},D5={x:0,y:0,width:"100%",height:"100%"};function VL(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||r)&&(t.attributes.fill="black"),t}function $6e(t){return t.tag==="g"?t.children:[t]}var z6e={hooks:function(){return{parseNodeAttributes:function(a,s){var i=s.getAttribute("data-fa-mask"),o=i?X4(i.split(" ").map(function(l){return l.trim()})):OK();return o.prefix||(o.prefix=Nm()),a.mask=o,a.maskId=s.getAttribute("data-fa-mask-id"),a}}},provides:function(r){r.generateAbstractMask=function(a){var s=a.children,i=a.attributes,o=a.main,l=a.mask,c=a.maskId,d=a.transform,f=o.width,u=o.icon,m=l.width,p=l.icon,g=OEe({transform:d,containerWidth:m,iconWidth:f}),v={tag:"rect",attributes:mr(mr({},D5),{},{fill:"white"})},y=u.children?{children:u.children.map(VL)}:{},b={tag:"g",attributes:mr({},g.inner),children:[VL(mr({tag:u.tag,attributes:mr(mr({},u.attributes),g.path)},y))]},j={tag:"g",attributes:mr({},g.outer),children:[b]},N="mask-".concat(c||SL()),S="clip-".concat(c||SL()),B={tag:"mask",attributes:mr(mr({},D5),{},{id:N,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[v,j]},I={tag:"defs",children:[{tag:"clipPath",attributes:{id:S},children:$6e(p)},B]};return s.push(I,{tag:"rect",attributes:mr({fill:"currentColor","clip-path":"url(#".concat(S,")"),mask:"url(#".concat(N,")")},D5)}),{children:s,attributes:i}}}},V6e={provides:function(r){var a=!1;jm.matchMedia&&(a=jm.matchMedia("(prefers-reduced-motion: reduce)").matches),r.missingIconAbstract=function(){var s=[],i={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};s.push({tag:"path",attributes:mr(mr({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var l=mr(mr({},o),{},{attributeName:"opacity"}),c={tag:"circle",attributes:mr(mr({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return a||c.children.push({tag:"animate",attributes:mr(mr({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:mr(mr({},l),{},{values:"1;0;1;1;0;1;"})}),s.push(c),s.push({tag:"path",attributes:mr(mr({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:a?[]:[{tag:"animate",attributes:mr(mr({},l),{},{values:"1;0;0;0;0;1;"})}]}),a||s.push({tag:"path",attributes:mr(mr({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:mr(mr({},l),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:s}}}},K6e={hooks:function(){return{parseNodeAttributes:function(a,s){var i=s.getAttribute("data-fa-symbol"),o=i===null?!1:i===""?!0:i;return a.symbol=o,a}}}},G6e=[MEe,E6e,T6e,F6e,I6e,R6e,Q6e,H6e,z6e,V6e,K6e];e6e(G6e,{mixoutsTo:Fc});Fc.noAuto;var W6e=Fc.config;Fc.library;Fc.dom;var $K=Fc.parse;Fc.findIconDefinition;Fc.toHtml;var q6e=Fc.icon;Fc.layer;Fc.text;Fc.counter;function Y6e(t){return t=t-0,t===t}function zK(t){return Y6e(t)?t:(t=t.replaceAll(/[_-]+(.)?/g,(r,a)=>a?a.toUpperCase():""),t.charAt(0).toLowerCase()+t.slice(1))}function X6e(t){return t.charAt(0).toUpperCase()+t.slice(1)}var lg=new Map,J6e=1e3;function Z6e(t){if(lg.has(t))return lg.get(t);const r={};let a=0;const s=t.length;for(;a<s;){const i=t.indexOf(";",a),o=i===-1?s:i,l=t.slice(a,o).trim();if(l){const c=l.indexOf(":");if(c>0){const d=l.slice(0,c).trim(),f=l.slice(c+1).trim();if(d&&f){const u=zK(d);r[u.startsWith("webkit")?X6e(u):u]=f}}}a=o+1}if(lg.size===J6e){const i=lg.keys().next().value;i&&lg.delete(i)}return lg.set(t,r),r}function VK(t,r,a={}){if(typeof r=="string")return r;const s=(r.children||[]).map(f=>VK(t,f)),i=r.attributes||{},o={};for(const[f,u]of Object.entries(i))switch(!0){case f==="class":{o.className=u,delete i.class;break}case f==="style":{o.style=Z6e(String(u));break}case f.startsWith("aria-"):case f.startsWith("data-"):{o[f.toLowerCase()]=u;break}default:o[zK(f)]=u}const{style:l,"aria-label":c,...d}=a;return l&&(o.style=o.style?{...o.style,...l}:l),c&&(o["aria-label"]=c,o["aria-hidden"]="false"),t(r.tag,{...d,...o},...s)}var KL=(t,r)=>{const a=w.useId();return t||(r?a:void 0)},eTe=class{constructor(t="react-fontawesome"){this.enabled=!1;let r=!1;try{r=typeof process<"u"&&!1}catch{}this.scope=t,this.enabled=r}log(...t){this.enabled&&console.log(`[${this.scope}]`,...t)}warn(...t){this.enabled&&console.warn(`[${this.scope}]`,...t)}error(...t){this.enabled&&console.error(`[${this.scope}]`,...t)}},tTe="searchPseudoElementsFullScan"in W6e?"7.0.0":"6.0.0",rTe=Number.parseInt(tTe)>=7,yA={beat:"fa-beat",fade:"fa-fade",beatFade:"fa-beat-fade",bounce:"fa-bounce",shake:"fa-shake",spin:"fa-spin",spinPulse:"fa-spin-pulse",spinReverse:"fa-spin-reverse",pulse:"fa-pulse"},aTe={left:"fa-pull-left",right:"fa-pull-right"},sTe={90:"fa-rotate-90",180:"fa-rotate-180",270:"fa-rotate-270"},nTe={"2xs":"fa-2xs",xs:"fa-xs",sm:"fa-sm",lg:"fa-lg",xl:"fa-xl","2xl":"fa-2xl","1x":"fa-1x","2x":"fa-2x","3x":"fa-3x","4x":"fa-4x","5x":"fa-5x","6x":"fa-6x","7x":"fa-7x","8x":"fa-8x","9x":"fa-9x","10x":"fa-10x"},vA={border:"fa-border",fixedWidth:"fa-fw",flip:"fa-flip",flipHorizontal:"fa-flip-horizontal",flipVertical:"fa-flip-vertical",inverse:"fa-inverse",rotateBy:"fa-rotate-by",swapOpacity:"fa-swap-opacity",widthAuto:"fa-width-auto"};function iTe(t){const{beat:r,fade:a,beatFade:s,bounce:i,shake:o,spin:l,spinPulse:c,spinReverse:d,pulse:f,fixedWidth:u,inverse:m,border:p,flip:g,size:v,rotation:y,pull:b,swapOpacity:j,rotateBy:N,widthAuto:S,className:B}=t,I=[];return B&&I.push(...B.split(" ")),r&&I.push(yA.beat),a&&I.push(yA.fade),s&&I.push(yA.beatFade),i&&I.push(yA.bounce),o&&I.push(yA.shake),l&&I.push(yA.spin),d&&I.push(yA.spinReverse),c&&I.push(yA.spinPulse),f&&I.push(yA.pulse),u&&I.push(vA.fixedWidth),m&&I.push(vA.inverse),p&&I.push(vA.border),g===!0&&I.push(vA.flip),(g==="horizontal"||g==="both")&&I.push(vA.flipHorizontal),(g==="vertical"||g==="both")&&I.push(vA.flipVertical),v!=null&&I.push(nTe[v]),y!=null&&y!==0&&I.push(sTe[y]),b!=null&&I.push(aTe[b]),j&&I.push(vA.swapOpacity),rTe&&(N&&I.push(vA.rotateBy),S&&I.push(vA.widthAuto)),I}var oTe=t=>typeof t=="object"&&"icon"in t&&!!t.icon;function GL(t){if(t)return oTe(t)?t:$K.icon(t)}function lTe(t){return Object.keys(t)}var WL=new eTe("FontAwesomeIcon"),KK={border:!1,className:"",mask:void 0,maskId:void 0,fixedWidth:!1,inverse:!1,flip:!1,icon:void 0,listItem:!1,pull:void 0,pulse:!1,rotation:void 0,rotateBy:!1,size:void 0,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:void 0,transform:void 0,swapOpacity:!1,widthAuto:!1},cTe=new Set(Object.keys(KK)),ls=$r.forwardRef((t,r)=>{const a={...KK,...t},{icon:s,mask:i,symbol:o,title:l,titleId:c,maskId:d,transform:f}=a,u=KL(d,!!i),m=KL(c,!!l),p=GL(s);if(!p)return WL.error("Icon lookup is undefined",s),null;const g=iTe(a),v=typeof f=="string"?$K.transform(f):f,y=GL(i),b=q6e(p,{...g.length>0&&{classes:g},...v&&{transform:v},...y&&{mask:y},symbol:o,title:l,titleId:m,maskId:u});if(!b)return WL.error("Could not find icon",p),null;const{abstract:j}=b,N={ref:r};for(const S of lTe(a))cTe.has(S)||(N[S]=a[S]);return dTe(j[0],N)});ls.displayName="FontAwesomeIcon";var dTe=VK.bind(null,$r.createElement);/*!
 * Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var uTe={prefix:"fab",iconName:"linkedin",icon:[448,512,[],"f08c","M416 32L31.9 32C14.3 32 0 46.5 0 64.3L0 447.7C0 465.5 14.3 480 31.9 480L416 480c17.6 0 32-14.5 32-32.3l0-383.4C448 46.5 433.6 32 416 32zM135.4 416l-66.4 0 0-213.8 66.5 0 0 213.8-.1 0zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77zM384.3 416l-66.4 0 0-104c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9l0 105.8-66.4 0 0-213.8 63.7 0 0 29.2 .9 0c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9l0 117.2z"]},fTe={prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5l0-170.3-52.8 0 0-78.2 52.8 0 0-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4l0 70.8c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2l0 27.8 83.6 0-14.4 78.2-69.3 0 0 175.9C413.8 494.8 512 386.9 512 256z"]},ATe={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.3 141a115 115 0 1 0 -.6 230 115 115 0 1 0 .6-230zm-.6 40.4a74.6 74.6 0 1 1 .6 149.2 74.6 74.6 0 1 1 -.6-149.2zm93.4-45.1a26.8 26.8 0 1 1 53.6 0 26.8 26.8 0 1 1 -53.6 0zm129.7 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM399 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]},hTe={prefix:"fab",iconName:"whatsapp",icon:[448,512,[],"f232","M380.9 97.1c-41.9-42-97.7-65.1-157-65.1-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480 117.7 449.1c32.4 17.7 68.9 27 106.1 27l.1 0c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3 18.6-68.1-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1s56.2 81.2 56.1 130.5c0 101.8-84.9 184.6-186.6 184.6zM325.1 300.5c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8s-14.3 18-17.6 21.8c-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7 .9-6.9-.5-9.7s-12.5-30.1-17.1-41.2c-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2s-9.7 1.4-14.8 6.9c-5.1 5.6-19.4 19-19.4 46.3s19.9 53.7 22.6 57.4c2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4s4.6-24.1 3.2-26.4c-1.3-2.5-5-3.9-10.5-6.6z"]},mTe={prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.4 151.7c.3 4.5 .3 9.1 .3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103l0-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53 51.7 63.7 129.3 105.3 216.4 109.8-1.6-7.8-2.6-15.9-2.6-24 0-57.8 46.8-104.9 104.9-104.9 30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3z"]};const pTe="/assets/Capture-CUW6gBsa.PNG",gTe="/assets/Capture2-CwHGBG9c.png",xTe="/assets/school1-CD8wMhyW.jpg",yTe="/assets/school2-CophQY_4.jpg",vTe="/assets/school3-CNkxgSjB.jpg";/*!
 * Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var bTe={prefix:"fas",iconName:"calendar-check",icon:[448,512,[],"f274","M320 0c17.7 0 32 14.3 32 32l0 32 32 0c35.3 0 64 28.7 64 64l0 288c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 128C0 92.7 28.7 64 64 64l32 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32zm22 161.7c-10.7-7.8-25.7-5.4-33.5 5.3L189.1 331.2 137 279.1c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l72 72c5 5 11.9 7.5 18.8 7s13.4-4.1 17.5-9.8L347.3 195.2c7.8-10.7 5.4-25.7-5.3-33.5z"]},GK={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64c-26.5 0-48 21.5-48 48 0 15.1 7.1 29.3 19.2 38.4l208 156c17.1 12.8 40.5 12.8 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48L48 64zM0 196L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-188-198.4 148.8c-34.1 25.6-81.1 25.6-115.2 0L0 196z"]},WK={prefix:"fas",iconName:"bell",icon:[448,512,[128276,61602],"f0f3","M224 0c-17.7 0-32 14.3-32 32l0 3.2C119 50 64 114.6 64 192l0 21.7c0 48.1-16.4 94.8-46.4 132.4L7.8 358.3C2.7 364.6 0 372.4 0 380.5 0 400.1 15.9 416 35.5 416l376.9 0c19.6 0 35.5-15.9 35.5-35.5 0-8.1-2.7-15.9-7.8-22.2l-9.8-12.2C400.4 308.5 384 261.8 384 213.7l0-21.7c0-77.4-55-142-128-156.8l0-3.2c0-17.7-14.3-32-32-32zM162 464c7.1 27.6 32.2 48 62 48s54.9-20.4 62-48l-124 0z"]},wTe={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512 256 256 0 1 1 0-512zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},jTe={prefix:"fas",iconName:"rocket",icon:[512,512,[],"f135","M128 320L24.5 320c-24.9 0-40.2-27.1-27.4-48.5L50 183.3C58.7 168.8 74.3 160 91.2 160l95 0c76.1-128.9 189.6-135.4 265.5-124.3 12.8 1.9 22.8 11.9 24.6 24.6 11.1 75.9 4.6 189.4-124.3 265.5l0 95c0 16.9-8.8 32.5-23.3 41.2l-88.2 52.9c-21.3 12.8-48.5-2.6-48.5-27.4L192 384c0-35.3-28.7-64-64-64l-.1 0zM400 160a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z"]},NTe={prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M320 16a104 104 0 1 1 0 208 104 104 0 1 1 0-208zM96 88a72 72 0 1 1 0 144 72 72 0 1 1 0-144zM0 416c0-70.7 57.3-128 128-128 12.8 0 25.2 1.9 36.9 5.4-32.9 36.8-52.9 85.4-52.9 138.6l0 16c0 11.4 2.4 22.2 6.7 32L32 480c-17.7 0-32-14.3-32-32l0-32zm521.3 64c4.3-9.8 6.7-20.6 6.7-32l0-16c0-53.2-20-101.8-52.9-138.6 11.7-3.5 24.1-5.4 36.9-5.4 70.7 0 128 57.3 128 128l0 32c0 17.7-14.3 32-32 32l-86.7 0zM472 160a72 72 0 1 1 144 0 72 72 0 1 1 -144 0zM160 432c0-88.4 71.6-160 160-160s160 71.6 160 160l0 16c0 17.7-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32l0-16z"]},STe={prefix:"fas",iconName:"lightbulb",icon:[384,512,[128161],"f0eb","M292.9 384c7.3-22.3 21.9-42.5 38.4-59.9 32.7-34.4 52.7-80.9 52.7-132.1 0-106-86-192-192-192S0 86 0 192c0 51.2 20 97.7 52.7 132.1 16.5 17.4 31.2 37.6 38.4 59.9l201.7 0zM288 432l-192 0 0 16c0 44.2 35.8 80 80 80l32 0c44.2 0 80-35.8 80-80l0-16zM184 112c-39.8 0-72 32.2-72 72 0 13.3-10.7 24-24 24s-24-10.7-24-24c0-66.3 53.7-120 120-120 13.3 0 24 10.7 24 24s-10.7 24-24 24z"]},CTe={prefix:"fas",iconName:"chart-line",icon:[512,512,["line-chart"],"f201","M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7 262.6 153.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l73.4-73.4 57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"]},BTe={prefix:"fas",iconName:"mobile-screen-button",icon:[384,512,["mobile-alt"],"f3cd","M16 64C16 28.7 44.7 0 80 0L304 0c35.3 0 64 28.7 64 64l0 384c0 35.3-28.7 64-64 64L80 512c-35.3 0-64-28.7-64-64L16 64zm64 0l0 304 224 0 0-304-224 0zM192 472c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32z"]},ETe=BTe,TTe={prefix:"fas",iconName:"chart-bar",icon:[512,512,["bar-chart"],"f080","M32 32c17.7 0 32 14.3 32 32l0 336c0 8.8 7.2 16 16 16l400 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L80 480c-44.2 0-80-35.8-80-80L0 64C0 46.3 14.3 32 32 32zm96 64c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-192 0c-17.7 0-32-14.3-32-32zm32 80l128 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 112l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},FTe={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M55.1 73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L147.2 256 9.9 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192.5 301.3 329.9 438.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.8 256 375.1 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192.5 210.7 55.1 73.4z"]},ITe=FTe,kTe={prefix:"fas",iconName:"file-lines",icon:[384,512,[128441,128462,61686,"file-alt","file-text"],"f15c","M0 64C0 28.7 28.7 0 64 0L213.5 0c17 0 33.3 6.7 45.3 18.7L365.3 125.3c12 12 18.7 28.3 18.7 45.3L384 448c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm208-5.5l0 93.5c0 13.3 10.7 24 24 24L325.5 176 208 58.5zM120 256c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-144 0zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-144 0z"]},qL=kTe,_Te={prefix:"fas",iconName:"comments",icon:[576,512,[128490,61670],"f086","M384 144c0 97.2-86 176-192 176-26.7 0-52.1-5-75.2-14L35.2 349.2c-9.3 4.9-20.7 3.2-28.2-4.2s-9.2-18.9-4.2-28.2l35.6-67.2C14.3 220.2 0 183.6 0 144 0 46.8 86-32 192-32S384 46.8 384 144zm0 368c-94.1 0-172.4-62.1-188.8-144 120-1.5 224.3-86.9 235.8-202.7 83.3 19.2 145 88.3 145 170.7 0 39.6-14.3 76.2-38.4 105.6l35.6 67.2c4.9 9.3 3.2 20.7-4.2 28.2s-18.9 9.2-28.2 4.2L459.2 498c-23.1 9-48.5 14-75.2 14z"]},PTe={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512a256 256 0 1 1 0-512 256 256 0 1 1 0 512zM374 145.7c-10.7-7.8-25.7-5.4-33.5 5.3L221.1 315.2 169 263.1c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l72 72c5 5 11.8 7.5 18.8 7s13.4-4.1 17.5-9.8L379.3 179.2c7.8-10.7 5.4-25.7-5.3-33.5z"]},l2=PTe,qK={prefix:"fas",iconName:"phone",icon:[512,512,[128222,128379],"f095","M160.2 25C152.3 6.1 131.7-3.9 112.1 1.4l-5.5 1.5c-64.6 17.6-119.8 80.2-103.7 156.4 37.1 175 174.8 312.7 349.8 349.8 76.3 16.2 138.8-39.1 156.4-103.7l1.5-5.5c5.4-19.7-4.7-40.3-23.5-48.1l-97.3-40.5c-16.5-6.9-35.6-2.1-47 11.8l-38.6 47.2C233.9 335.4 177.3 277 144.8 205.3L189 169.3c13.9-11.3 18.6-30.4 11.8-47L160.2 25z"]},OTe={prefix:"fas",iconName:"leaf",icon:[512,512,[],"f06c","M471.3 6.7C477.7 .6 487-1.6 495.6 1.2 505.4 4.5 512 13.7 512 24l0 186.9c0 131.2-108.1 237.1-238.8 237.1-77 0-143.4-49.5-167.5-118.7-35.4 30.8-57.7 76.1-57.7 126.7 0 13.3-10.7 24-24 24S0 469.3 0 456C0 381.1 38.2 315.1 96.1 276.3 131.4 252.7 173.5 240 216 240l80 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-80 0c-39.7 0-77.3 8.8-111 24.5 23.3-70 89.2-120.5 167-120.5 66.4 0 115.8-22.1 148.7-44 19.2-12.8 35.5-28.1 50.7-45.3z"]},DTe={prefix:"fas",iconName:"bus",icon:[448,512,[128653],"f207","M96 0C43 0 0 43 0 96L0 384c0 29.8 20.4 54.9 48 62l0 34c0 17.7 14.3 32 32 32l16 0c17.7 0 32-14.3 32-32l0-32 192 0 0 32c0 17.7 14.3 32 32 32l16 0c17.7 0 32-14.3 32-32l0-34c27.6-7.1 48-32.2 48-62l0-288c0-53-43-96-96-96L96 0zM64 176c0-17.7 14.3-32 32-32l104 0 0 112-104 0c-17.7 0-32-14.3-32-32l0-48zm184 80l0-112 104 0c17.7 0 32 14.3 32 32l0 48c0 17.7-14.3 32-32 32l-104 0zM96 320a32 32 0 1 1 0 64 32 32 0 1 1 0-64zm256 0a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM152 72c0-13.3 10.7-24 24-24l96 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-96 0c-13.3 0-24-10.7-24-24z"]},LTe={prefix:"fas",iconName:"quote-left",icon:[448,512,[8220,"quote-left-alt"],"f10d","M0 216C0 149.7 53.7 96 120 96l8 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-8 0c-30.9 0-56 25.1-56 56l0 8 64 0c35.3 0 64 28.7 64 64l0 64c0 35.3-28.7 64-64 64l-64 0c-35.3 0-64-28.7-64-64L0 216zm256 0c0-66.3 53.7-120 120-120l8 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-8 0c-30.9 0-56 25.1-56 56l0 8 64 0c35.3 0 64 28.7 64 64l0 64c0 35.3-28.7 64-64 64l-64 0c-35.3 0-64-28.7-64-64l0-136z"]},MTe={prefix:"fas",iconName:"credit-card",icon:[512,512,[128179,62083,"credit-card-alt"],"f09d","M0 128l0 32 512 0 0-32c0-35.3-28.7-64-64-64L64 64C28.7 64 0 92.7 0 128zm0 80L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-176-512 0zM64 360c0-13.3 10.7-24 24-24l48 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-48 0c-13.3 0-24-10.7-24-24zm144 0c0-13.3 10.7-24 24-24l64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0c-13.3 0-24-10.7-24-24z"]},UTe={prefix:"fas",iconName:"file-invoice-dollar",icon:[384,512,[],"f571","M0 64C0 28.7 28.7 0 64 0L213.5 0c17 0 33.3 6.7 45.3 18.7L365.3 125.3c12 12 18.7 28.3 18.7 45.3L384 448c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm208-5.5l0 93.5c0 13.3 10.7 24 24 24L325.5 176 208 58.5zM64 88c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L88 64C74.7 64 64 74.7 64 88zm0 96c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0c-13.3 0-24 10.7-24 24zm112 76l0 4c-28.8 .3-52 23.7-52 52.5 0 25.7 18.5 47.6 43.9 51.8l41.7 7c6 1 10.4 6.2 10.4 12.3 0 6.9-5.6 12.5-12.5 12.5L152 400c-11 0-20 9-20 20s9 20 20 20l24 0 0 4c0 11 9 20 20 20s20-9 20-20l0-4.7c25-4.1 44-25.7 44-51.8 0-25.7-18.5-47.6-43.9-51.8l-41.7-7c-6-1-10.4-6.2-10.4-12.3 0-6.9 5.6-12.5 12.5-12.5l47.5 0c11 0 20-9 20-20s-9-20-20-20l-8 0 0-4c0-11-9-20-20-20s-20 9-20 20z"]},RTe={prefix:"fas",iconName:"lock",icon:[384,512,[128274],"f023","M128 96l0 64 128 0 0-64c0-35.3-28.7-64-64-64s-64 28.7-64 64zM64 160l0-64C64 25.3 121.3-32 192-32S320 25.3 320 96l0 64c35.3 0 64 28.7 64 64l0 224c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 224c0-35.3 28.7-64 64-64z"]},QTe={prefix:"fas",iconName:"globe",icon:[512,512,[127760],"f0ac","M351.9 280l-190.9 0c2.9 64.5 17.2 123.9 37.5 167.4 11.4 24.5 23.7 41.8 35.1 52.4 11.2 10.5 18.9 12.2 22.9 12.2s11.7-1.7 22.9-12.2c11.4-10.6 23.7-28 35.1-52.4 20.3-43.5 34.6-102.9 37.5-167.4zM160.9 232l190.9 0C349 167.5 334.7 108.1 314.4 64.6 303 40.2 290.7 22.8 279.3 12.2 268.1 1.7 260.4 0 256.4 0s-11.7 1.7-22.9 12.2c-11.4 10.6-23.7 28-35.1 52.4-20.3 43.5-34.6 102.9-37.5 167.4zm-48 0C116.4 146.4 138.5 66.9 170.8 14.7 78.7 47.3 10.9 131.2 1.5 232l111.4 0zM1.5 280c9.4 100.8 77.2 184.7 169.3 217.3-32.3-52.2-54.4-131.7-57.9-217.3L1.5 280zm398.4 0c-3.5 85.6-25.6 165.1-57.9 217.3 92.1-32.7 159.9-116.5 169.3-217.3l-111.4 0zm111.4-48C501.9 131.2 434.1 47.3 342 14.7 374.3 66.9 396.4 146.4 399.9 232l111.4 0z"]},HTe={prefix:"fas",iconName:"upload",icon:[448,512,[],"f093","M256 109.3L256 320c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-210.7-41.4 41.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l96-96c12.5-12.5 32.8-12.5 45.3 0l96 96c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 109.3zM224 400c44.2 0 80-35.8 80-80l80 0c35.3 0 64 28.7 64 64l0 32c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64l0-32c0-35.3 28.7-64 64-64l80 0c0 44.2 35.8 80 80 80zm144 24a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"]},$Te={prefix:"fas",iconName:"bolt",icon:[448,512,[9889,"zap"],"f0e7","M338.8-9.9c11.9 8.6 16.3 24.2 10.9 37.8L271.3 224 416 224c13.5 0 25.5 8.4 30.1 21.1s.7 26.9-9.6 35.5l-288 240c-11.3 9.4-27.4 9.9-39.3 1.3s-16.3-24.2-10.9-37.8L176.7 288 32 288c-13.5 0-25.5-8.4-30.1-21.1s-.7-26.9 9.6-35.5l288-240c11.3-9.4 27.4-9.9 39.3-1.3z"]},zTe={prefix:"fas",iconName:"location-dot",icon:[384,512,["map-marker-alt"],"f3c5","M0 188.6C0 84.4 86 0 192 0S384 84.4 384 188.6c0 119.3-120.2 262.3-170.4 316.8-11.8 12.8-31.5 12.8-43.3 0-50.2-54.5-170.4-197.5-170.4-316.8zM192 256a64 64 0 1 0 0-128 64 64 0 1 0 0 128z"]},YK=zTe,VTe={prefix:"fas",iconName:"book-open",icon:[512,512,[128214,128366],"f518","M256 141.3l0 309.3 .5-.2C311.1 427.7 369.7 416 428.8 416l19.2 0 0-320-19.2 0c-42.2 0-84.1 8.4-123.1 24.6-16.8 7-33.4 13.9-49.7 20.7zM230.9 61.5L256 72 281.1 61.5C327.9 42 378.1 32 428.8 32L464 32c26.5 0 48 21.5 48 48l0 352c0 26.5-21.5 48-48 48l-35.2 0c-50.7 0-100.9 10-147.7 29.5l-12.8 5.3c-7.9 3.3-16.7 3.3-24.6 0l-12.8-5.3C184.1 490 133.9 480 83.2 480L48 480c-26.5 0-48-21.5-48-48L0 80C0 53.5 21.5 32 48 32l35.2 0c50.7 0 100.9 10 147.7 29.5z"]},KTe={prefix:"fas",iconName:"money-bill",icon:[512,512,[],"f0d6","M64 64C28.7 64 0 92.7 0 128L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-256c0-35.3-28.7-64-64-64L64 64zm192 96a96 96 0 1 1 0 192 96 96 0 1 1 0-192zm192 24c0 4.4-3.6 8.1-8 7.5-29-3.6-51.9-26.6-55.5-55.5-.5-4.4 3.1-8 7.5-8l48 0c4.4 0 8 3.6 8 8l0 48zM64 328c0-4.4 3.6-8.1 8-7.5 29 3.6 51.9 26.6 55.5 55.5 .5 4.4-3.1 8-7.5 8l-48 0c-4.4 0-8-3.6-8-8l0-48zm8-136.5c-4.4 .5-8-3.1-8-7.5l0-48c0-4.4 3.6-8 8-8l48 0c4.4 0 8.1 3.6 7.5 8-3.6 29-26.6 51.9-55.5 55.5zm368 129c4.4-.5 8 3.1 8 7.5l0 48c0 4.4-3.6 8-8 8l-48 0c-4.4 0-8.1-3.6-7.5-8 3.6-29 26.6-51.9 55.5-55.5z"]};const GTe=()=>{const t=[{icon:wTe,title:"Save Time with Automation",description:"Automate attendance, fee collection, and assignments to let educators focus on teaching."},{icon:WK,title:"Transparent Communication",description:"Real-time updates on homework, schedules, and events keep everyone connected."},{icon:NTe,title:"Stronger Parent Engagement",description:"Empower parents with instant access to their child's academic progress."},{icon:MTe,title:"Smart Fee Management",description:"Streamline payments with online options and automated reminders."},{icon:OTe,title:"Eco-Friendly",description:"Go paperless with secure cloud-based records to reduce environmental impact."},{icon:jTe,title:"Smarter Decision-Making",description:"Leverage analytics to drive growth and boost admissions."},{icon:ETe,title:"One App for All",description:"Unify parents, teachers, students, and management on one platform."}];return n.jsx("div",{className:"min-h-screen bg-white py-16 px-4 sm:px-8 lg:px-12 font-sans",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsxs("h2",{className:"text-4xl md:text-4xl font-bold mb-6 text-gray-800",children:["How ",n.jsx("span",{className:"text-orange-500",children:"Vidyaastra"})," Transforms Education"]}),n.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Discover innovative tools designed to enhance efficiency and engagement across your educational community."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((r,a)=>n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-shadow duration-300 border border-gray-100",children:[n.jsx("div",{className:"w-14 h-14 bg-orange-100 rounded-lg flex items-center justify-center mb-4",children:n.jsx(ls,{icon:r.icon,className:"text-orange-500 text-2xl"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:r.title}),n.jsx("p",{className:"text-gray-600",children:r.description})]},a))})]})})},WTe=()=>{const t=Ff(),r=()=>{t("/contact")};return n.jsxs("section",{className:"bg-gradient-to-b from-gray-50 to-gray-100 py-16 px-4",children:[n.jsx("style",{children:`
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeInUp { animation: fadeInUp 0.8s ease-out forwards; }
        .banner {
          position: relative;
          background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), 
                      url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
          background-size: cover;
          background-position: center;
          border-radius: 1rem;
          padding: 3rem 2rem;
          display: flex;
          flex-direction: row;
          justify-content: space-between;
          align-items: center;
          min-height: 220px;
          color: white;
          width: 100%;
          box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
          overflow: hidden;
          margin-bottom: 2rem;
        }
        .banner-content h4 {
          font-size: 1.75rem;
          font-weight: 700;
          margin-bottom: 1rem;
          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
        }
        .banner-content p {
          font-size: 1.125rem;
          opacity: 0.9;
        }
        @media (max-width: 768px) {
          .banner {
            flex-direction: column;
            text-align: center;
            padding: 2rem;
          }
          .banner-content {
            max-width: 100%;
            margin-bottom: 1.5rem;
          }
        }
      `}),n.jsxs("div",{className:"text-center mb-12",children:[n.jsxs(Hr.h1,{className:"text-4xl sm:text-4xl font-bold text-gray-900 mb-4 animate-fadeInUp",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[n.jsx("span",{className:"text-orange-600",children:"Flexible & Affordable"})," Plans"]}),n.jsx(Hr.p,{className:"text-lg sm:text-xl text-gray-500 max-w-3xl mx-auto leading-relaxed",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:"Choose a plan tailored to your school's needs, from small setups to large institutions. Contact us for custom pricing and demos."})]}),n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs(Hr.div,{className:"banner",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[n.jsxs(Hr.div,{className:"banner-content",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},children:[n.jsx("h4",{children:"Not sure what Plan is best for you?"}),n.jsx("p",{children:"Our team is here to help you find the perfect plan."})]}),n.jsxs(Hr.button,{whileHover:{scale:1.1,boxShadow:"0px 8px 20px rgba(249, 115, 22, 0.6)"},whileTap:{scale:.95},animate:{y:[0,-5,0]},transition:{repeat:1/0,repeatType:"mirror",duration:2,ease:"easeInOut"},onClick:r,className:"relative bg-gradient-to-r from-orange-500 to-orange-600 text-white px-8 py-3 rounded-xl font-bold text-lg shadow-md transition-all duration-300",children:[n.jsx("span",{className:"relative z-10",children:" Get in Touch"}),n.jsx("span",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700 ease-in-out"})]})]})})]})},XK=({isOpen:t,setIsOpen:r})=>{const[a,s]=w.useState(!1),[i,o]=w.useState({name:"",school:"",email:"",phone:"",message:""}),l=d=>{o({...i,[d.target.name]:d.target.value})},c=async d=>{d.preventDefault();try{(await It.post("https://vidyaastra.com/api/enquiries",i)).status===201&&(o({name:"",school:"",email:"",phone:"",message:""}),r(!1),s(!0),setTimeout(()=>{s(!1)},3e3))}catch(f){f.response&&alert(f.response.data.errors||f.response.data.message),console.log(f)}};return n.jsxs(n.Fragment,{children:[n.jsx(Oy,{children:t&&n.jsx(Hr.div,{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50",onClick:()=>r(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:n.jsxs(Hr.div,{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-4 sm:p-6 relative mx-auto",onClick:d=>d.stopPropagation(),initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},transition:{duration:.4,ease:"easeOut"},children:[n.jsx("style",{children:`
                .input-field {
                  transition: all 0.3s ease;
                }
                .input-field:focus {
                  border-color: #f97316; /* orange-600 */
                  box-shadow: 0 0 0 3px rgba(234, 88, 12, 0.2);
                }
                .submit-button:hover {
                  transform: translateY(-2px);
                }
                .toast {
                  position: fixed;
                  top: 20px;
                  right: 20px;
                  background: #f97316; /* orange-600 */
                  color: white;
                  padding: 12px 24px;
                  border-radius: 8px;
                  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
                  z-index: 1000;
                }
              `}),n.jsx("button",{onClick:()=>r(!1),className:"absolute top-2 sm:top-4 right-2 sm:right-4 text-gray-500 hover:text-orange-600 text-xl",children:n.jsx(ls,{icon:ITe})}),n.jsx("div",{className:"flex justify-center mb-4 sm:mb-6",children:n.jsx("img",{src:Yg,alt:"Vidyaastra Logo",className:"h-10 sm:h-12 w-auto"})}),n.jsxs("h2",{className:"text-xl sm:text-2xl font-extrabold text-center text-gray-900 mb-4 sm:mb-6",children:[n.jsx("span",{className:"text-orange-600",children:"Enquiry"})," Form"]}),n.jsxs("form",{onSubmit:c,className:"space-y-4 sm:space-y-5",children:[n.jsx("div",{children:n.jsx("input",{type:"text",name:"name",value:i.name,onChange:l,required:!0,placeholder:"Enter your name",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-2 sm:p-3 text-gray-900 text-sm sm:text-base"})}),n.jsx("div",{children:n.jsx("input",{type:"text",name:"school",value:i.school,onChange:l,required:!0,placeholder:"Enter your school/institution name",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-2 sm:p-3 text-gray-900 text-sm sm:text-base"})}),n.jsx("div",{children:n.jsx("input",{type:"email",name:"email",value:i.email,onChange:l,required:!0,placeholder:"Enter your email",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-2 sm:p-3 text-gray-900 text-sm sm:text-base"})}),n.jsx("div",{children:n.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:l,required:!0,placeholder:"Enter your phone number",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-2 sm:p-3 text-gray-900 text-sm sm:text-base"})}),n.jsx("div",{children:n.jsx("textarea",{name:"message",value:i.message,onChange:l,rows:"3",required:!0,placeholder:"Enter your message",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-2 sm:p-3 text-gray-900 text-sm sm:text-base"})}),n.jsx("button",{type:"submit",className:"submit-button w-full bg-orange-600 hover:bg-orange-500 text-white font-bold py-2 sm:py-3 px-4 rounded-lg shadow-md transition duration-300 text-sm sm:text-base",children:"Submit Enquiry"})]})]})})}),n.jsx(Oy,{children:a&&n.jsx(Hr.div,{className:"toast",initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{duration:.3},children:"Enquiry submitted successfully!"})})]})};function YL(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function MT(t,r){t===void 0&&(t={}),r===void 0&&(r={});const a=["__proto__","constructor","prototype"];Object.keys(r).filter(s=>a.indexOf(s)<0).forEach(s=>{typeof t[s]>"u"?t[s]=r[s]:YL(r[s])&&YL(t[s])&&Object.keys(r[s]).length>0&&MT(t[s],r[s])})}const JK={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Nf(){const t=typeof document<"u"?document:{};return MT(t,JK),t}const qTe={document:JK,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function vl(){const t=typeof window<"u"?window:{};return MT(t,qTe),t}function YTe(t){return t===void 0&&(t=""),t.trim().split(" ").filter(r=>!!r.trim())}function XTe(t){const r=t;Object.keys(r).forEach(a=>{try{r[a]=null}catch{}try{delete r[a]}catch{}})}function ZK(t,r){return r===void 0&&(r=0),setTimeout(t,r)}function Fw(){return Date.now()}function JTe(t){const r=vl();let a;return r.getComputedStyle&&(a=r.getComputedStyle(t,null)),!a&&t.currentStyle&&(a=t.currentStyle),a||(a=t.style),a}function ZTe(t,r){r===void 0&&(r="x");const a=vl();let s,i,o;const l=JTe(t);return a.WebKitCSSMatrix?(i=l.transform||l.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(c=>c.replace(",",".")).join(", ")),o=new a.WebKitCSSMatrix(i==="none"?"":i)):(o=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=o.toString().split(",")),r==="x"&&(a.WebKitCSSMatrix?i=o.m41:s.length===16?i=parseFloat(s[12]):i=parseFloat(s[4])),r==="y"&&(a.WebKitCSSMatrix?i=o.m42:s.length===16?i=parseFloat(s[13]):i=parseFloat(s[5])),i||0}function zb(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function eFe(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function yc(){const t=Object(arguments.length<=0?void 0:arguments[0]),r=["__proto__","constructor","prototype"];for(let a=1;a<arguments.length;a+=1){const s=a<0||arguments.length<=a?void 0:arguments[a];if(s!=null&&!eFe(s)){const i=Object.keys(Object(s)).filter(o=>r.indexOf(o)<0);for(let o=0,l=i.length;o<l;o+=1){const c=i[o],d=Object.getOwnPropertyDescriptor(s,c);d!==void 0&&d.enumerable&&(zb(t[c])&&zb(s[c])?s[c].__swiper__?t[c]=s[c]:yc(t[c],s[c]):!zb(t[c])&&zb(s[c])?(t[c]={},s[c].__swiper__?t[c]=s[c]:yc(t[c],s[c])):t[c]=s[c])}}}return t}function Vb(t,r,a){t.style.setProperty(r,a)}function eG(t){let{swiper:r,targetPosition:a,side:s}=t;const i=vl(),o=-r.translate;let l=null,c;const d=r.params.speed;r.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(r.cssModeFrameID);const f=a>o?"next":"prev",u=(p,g)=>f==="next"&&p>=g||f==="prev"&&p<=g,m=()=>{c=new Date().getTime(),l===null&&(l=c);const p=Math.max(Math.min((c-l)/d,1),0),g=.5-Math.cos(p*Math.PI)/2;let v=o+g*(a-o);if(u(v,a)&&(v=a),r.wrapperEl.scrollTo({[s]:v}),u(v,a)){r.wrapperEl.style.overflow="hidden",r.wrapperEl.style.scrollSnapType="",setTimeout(()=>{r.wrapperEl.style.overflow="",r.wrapperEl.scrollTo({[s]:v})}),i.cancelAnimationFrame(r.cssModeFrameID);return}r.cssModeFrameID=i.requestAnimationFrame(m)};m()}function xf(t,r){r===void 0&&(r="");const a=vl(),s=[...t.children];return a.HTMLSlotElement&&t instanceof HTMLSlotElement&&s.push(...t.assignedElements()),r?s.filter(i=>i.matches(r)):s}function tFe(t,r){const a=[r];for(;a.length>0;){const s=a.shift();if(t===s)return!0;a.push(...s.children,...s.shadowRoot?s.shadowRoot.children:[],...s.assignedElements?s.assignedElements():[])}}function rFe(t,r){const a=vl();let s=r.contains(t);return!s&&a.HTMLSlotElement&&r instanceof HTMLSlotElement&&(s=[...r.assignedElements()].includes(t),s||(s=tFe(t,r))),s}function Iw(t){try{console.warn(t);return}catch{}}function kw(t,r){r===void 0&&(r=[]);const a=document.createElement(t);return a.classList.add(...Array.isArray(r)?r:YTe(r)),a}function aFe(t,r){const a=[];for(;t.previousElementSibling;){const s=t.previousElementSibling;r?s.matches(r)&&a.push(s):a.push(s),t=s}return a}function sFe(t,r){const a=[];for(;t.nextElementSibling;){const s=t.nextElementSibling;r?s.matches(r)&&a.push(s):a.push(s),t=s}return a}function am(t,r){return vl().getComputedStyle(t,null).getPropertyValue(r)}function _w(t){let r=t,a;if(r){for(a=0;(r=r.previousSibling)!==null;)r.nodeType===1&&(a+=1);return a}}function tG(t,r){const a=[];let s=t.parentElement;for(;s;)r?s.matches(r)&&a.push(s):a.push(s),s=s.parentElement;return a}function tB(t,r,a){const s=vl();return t[r==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(t,null).getPropertyValue(r==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(t,null).getPropertyValue(r==="width"?"margin-left":"margin-bottom"))}function bA(t){return(Array.isArray(t)?t:[t]).filter(r=>!!r)}function Pw(t,r){r===void 0&&(r=""),typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:a=>a}).createHTML(r):t.innerHTML=r}let L5;function nFe(){const t=vl(),r=Nf();return{smoothScroll:r.documentElement&&r.documentElement.style&&"scrollBehavior"in r.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&r instanceof t.DocumentTouch)}}function rG(){return L5||(L5=nFe()),L5}let M5;function iFe(t){let{userAgent:r}=t===void 0?{}:t;const a=rG(),s=vl(),i=s.navigator.platform,o=r||s.navigator.userAgent,l={ios:!1,android:!1},c=s.screen.width,d=s.screen.height,f=o.match(/(Android);?[\s\/]+([\d.]+)?/);let u=o.match(/(iPad).*OS\s([\d_]+)/);const m=o.match(/(iPod)(.*OS\s([\d_]+))?/),p=!u&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g=i==="Win32";let v=i==="MacIntel";const y=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&v&&a.touch&&y.indexOf(`${c}x${d}`)>=0&&(u=o.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),v=!1),f&&!g&&(l.os="android",l.android=!0),(u||p||m)&&(l.os="ios",l.ios=!0),l}function aG(t){return t===void 0&&(t={}),M5||(M5=iFe(t)),M5}let U5;function oFe(){const t=vl(),r=aG();let a=!1;function s(){const c=t.navigator.userAgent.toLowerCase();return c.indexOf("safari")>=0&&c.indexOf("chrome")<0&&c.indexOf("android")<0}if(s()){const c=String(t.navigator.userAgent);if(c.includes("Version/")){const[d,f]=c.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));a=d<16||d===16&&f<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),o=s(),l=o||i&&r.ios;return{isSafari:a||o,needPerspectiveFix:a,need3dFix:l,isWebView:i}}function sG(){return U5||(U5=oFe()),U5}function lFe(t){let{swiper:r,on:a,emit:s}=t;const i=vl();let o=null,l=null;const c=()=>{!r||r.destroyed||!r.initialized||(s("beforeResize"),s("resize"))},d=()=>{!r||r.destroyed||!r.initialized||(o=new ResizeObserver(m=>{l=i.requestAnimationFrame(()=>{const{width:p,height:g}=r;let v=p,y=g;m.forEach(b=>{let{contentBoxSize:j,contentRect:N,target:S}=b;S&&S!==r.el||(v=N?N.width:(j[0]||j).inlineSize,y=N?N.height:(j[0]||j).blockSize)}),(v!==p||y!==g)&&c()})}),o.observe(r.el))},f=()=>{l&&i.cancelAnimationFrame(l),o&&o.unobserve&&r.el&&(o.unobserve(r.el),o=null)},u=()=>{!r||r.destroyed||!r.initialized||s("orientationchange")};a("init",()=>{if(r.params.resizeObserver&&typeof i.ResizeObserver<"u"){d();return}i.addEventListener("resize",c),i.addEventListener("orientationchange",u)}),a("destroy",()=>{f(),i.removeEventListener("resize",c),i.removeEventListener("orientationchange",u)})}function cFe(t){let{swiper:r,extendParams:a,on:s,emit:i}=t;const o=[],l=vl(),c=function(u,m){m===void 0&&(m={});const p=l.MutationObserver||l.WebkitMutationObserver,g=new p(v=>{if(r.__preventObserver__)return;if(v.length===1){i("observerUpdate",v[0]);return}const y=function(){i("observerUpdate",v[0])};l.requestAnimationFrame?l.requestAnimationFrame(y):l.setTimeout(y,0)});g.observe(u,{attributes:typeof m.attributes>"u"?!0:m.attributes,childList:r.isElement||(typeof m.childList>"u"?!0:m).childList,characterData:typeof m.characterData>"u"?!0:m.characterData}),o.push(g)},d=()=>{if(r.params.observer){if(r.params.observeParents){const u=tG(r.hostEl);for(let m=0;m<u.length;m+=1)c(u[m])}c(r.hostEl,{childList:r.params.observeSlideChildren}),c(r.wrapperEl,{attributes:!1})}},f=()=>{o.forEach(u=>{u.disconnect()}),o.splice(0,o.length)};a({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",d),s("destroy",f)}var dFe={on(t,r,a){const s=this;if(!s.eventsListeners||s.destroyed||typeof r!="function")return s;const i=a?"unshift":"push";return t.split(" ").forEach(o=>{s.eventsListeners[o]||(s.eventsListeners[o]=[]),s.eventsListeners[o][i](r)}),s},once(t,r,a){const s=this;if(!s.eventsListeners||s.destroyed||typeof r!="function")return s;function i(){s.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];r.apply(s,l)}return i.__emitterProxy=r,s.on(t,i,a)},onAny(t,r){const a=this;if(!a.eventsListeners||a.destroyed||typeof t!="function")return a;const s=r?"unshift":"push";return a.eventsAnyListeners.indexOf(t)<0&&a.eventsAnyListeners[s](t),a},offAny(t){const r=this;if(!r.eventsListeners||r.destroyed||!r.eventsAnyListeners)return r;const a=r.eventsAnyListeners.indexOf(t);return a>=0&&r.eventsAnyListeners.splice(a,1),r},off(t,r){const a=this;return!a.eventsListeners||a.destroyed||!a.eventsListeners||t.split(" ").forEach(s=>{typeof r>"u"?a.eventsListeners[s]=[]:a.eventsListeners[s]&&a.eventsListeners[s].forEach((i,o)=>{(i===r||i.__emitterProxy&&i.__emitterProxy===r)&&a.eventsListeners[s].splice(o,1)})}),a},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let r,a,s;for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return typeof o[0]=="string"||Array.isArray(o[0])?(r=o[0],a=o.slice(1,o.length),s=t):(r=o[0].events,a=o[0].data,s=o[0].context||t),a.unshift(s),(Array.isArray(r)?r:r.split(" ")).forEach(d=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(f=>{f.apply(s,[d,...a])}),t.eventsListeners&&t.eventsListeners[d]&&t.eventsListeners[d].forEach(f=>{f.apply(s,a)})}),t}};function uFe(){const t=this;let r,a;const s=t.el;typeof t.params.width<"u"&&t.params.width!==null?r=t.params.width:r=s.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?a=t.params.height:a=s.clientHeight,!(r===0&&t.isHorizontal()||a===0&&t.isVertical())&&(r=r-parseInt(am(s,"padding-left")||0,10)-parseInt(am(s,"padding-right")||0,10),a=a-parseInt(am(s,"padding-top")||0,10)-parseInt(am(s,"padding-bottom")||0,10),Number.isNaN(r)&&(r=0),Number.isNaN(a)&&(a=0),Object.assign(t,{width:r,height:a,size:t.isHorizontal()?r:a}))}function fFe(){const t=this;function r(Q,H){return parseFloat(Q.getPropertyValue(t.getDirectionLabel(H))||0)}const a=t.params,{wrapperEl:s,slidesEl:i,size:o,rtlTranslate:l,wrongRTL:c}=t,d=t.virtual&&a.virtual.enabled,f=d?t.virtual.slides.length:t.slides.length,u=xf(i,`.${t.params.slideClass}, swiper-slide`),m=d?t.virtual.slides.length:u.length;let p=[];const g=[],v=[];let y=a.slidesOffsetBefore;typeof y=="function"&&(y=a.slidesOffsetBefore.call(t));let b=a.slidesOffsetAfter;typeof b=="function"&&(b=a.slidesOffsetAfter.call(t));const j=t.snapGrid.length,N=t.slidesGrid.length;let S=a.spaceBetween,B=-y,I=0,F=0;if(typeof o>"u")return;typeof S=="string"&&S.indexOf("%")>=0?S=parseFloat(S.replace("%",""))/100*o:typeof S=="string"&&(S=parseFloat(S)),t.virtualSize=-S,u.forEach(Q=>{l?Q.style.marginLeft="":Q.style.marginRight="",Q.style.marginBottom="",Q.style.marginTop=""}),a.centeredSlides&&a.cssMode&&(Vb(s,"--swiper-centered-offset-before",""),Vb(s,"--swiper-centered-offset-after",""));const O=a.grid&&a.grid.rows>1&&t.grid;O?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let k;const V=a.slidesPerView==="auto"&&a.breakpoints&&Object.keys(a.breakpoints).filter(Q=>typeof a.breakpoints[Q].slidesPerView<"u").length>0;for(let Q=0;Q<m;Q+=1){k=0;let H;if(u[Q]&&(H=u[Q]),O&&t.grid.updateSlide(Q,H,u),!(u[Q]&&am(H,"display")==="none")){if(a.slidesPerView==="auto"){V&&(u[Q].style[t.getDirectionLabel("width")]="");const M=getComputedStyle(H),K=H.style.transform,q=H.style.webkitTransform;if(K&&(H.style.transform="none"),q&&(H.style.webkitTransform="none"),a.roundLengths)k=t.isHorizontal()?tB(H,"width"):tB(H,"height");else{const re=r(M,"width"),ee=r(M,"padding-left"),le=r(M,"padding-right"),Ae=r(M,"margin-left"),ue=r(M,"margin-right"),se=M.getPropertyValue("box-sizing");if(se&&se==="border-box")k=re+Ae+ue;else{const{clientWidth:ve,offsetWidth:_}=H;k=re+ee+le+Ae+ue+(_-ve)}}K&&(H.style.transform=K),q&&(H.style.webkitTransform=q),a.roundLengths&&(k=Math.floor(k))}else k=(o-(a.slidesPerView-1)*S)/a.slidesPerView,a.roundLengths&&(k=Math.floor(k)),u[Q]&&(u[Q].style[t.getDirectionLabel("width")]=`${k}px`);u[Q]&&(u[Q].swiperSlideSize=k),v.push(k),a.centeredSlides?(B=B+k/2+I/2+S,I===0&&Q!==0&&(B=B-o/2-S),Q===0&&(B=B-o/2-S),Math.abs(B)<1/1e3&&(B=0),a.roundLengths&&(B=Math.floor(B)),F%a.slidesPerGroup===0&&p.push(B),g.push(B)):(a.roundLengths&&(B=Math.floor(B)),(F-Math.min(t.params.slidesPerGroupSkip,F))%t.params.slidesPerGroup===0&&p.push(B),g.push(B),B=B+k+S),t.virtualSize+=k+S,I=k,F+=1}}if(t.virtualSize=Math.max(t.virtualSize,o)+b,l&&c&&(a.effect==="slide"||a.effect==="coverflow")&&(s.style.width=`${t.virtualSize+S}px`),a.setWrapperSize&&(s.style[t.getDirectionLabel("width")]=`${t.virtualSize+S}px`),O&&t.grid.updateWrapperSize(k,p),!a.centeredSlides){const Q=[];for(let H=0;H<p.length;H+=1){let M=p[H];a.roundLengths&&(M=Math.floor(M)),p[H]<=t.virtualSize-o&&Q.push(M)}p=Q,Math.floor(t.virtualSize-o)-Math.floor(p[p.length-1])>1&&p.push(t.virtualSize-o)}if(d&&a.loop){const Q=v[0]+S;if(a.slidesPerGroup>1){const H=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/a.slidesPerGroup),M=Q*a.slidesPerGroup;for(let K=0;K<H;K+=1)p.push(p[p.length-1]+M)}for(let H=0;H<t.virtual.slidesBefore+t.virtual.slidesAfter;H+=1)a.slidesPerGroup===1&&p.push(p[p.length-1]+Q),g.push(g[g.length-1]+Q),t.virtualSize+=Q}if(p.length===0&&(p=[0]),S!==0){const Q=t.isHorizontal()&&l?"marginLeft":t.getDirectionLabel("marginRight");u.filter((H,M)=>!a.cssMode||a.loop?!0:M!==u.length-1).forEach(H=>{H.style[Q]=`${S}px`})}if(a.centeredSlides&&a.centeredSlidesBounds){let Q=0;v.forEach(M=>{Q+=M+(S||0)}),Q-=S;const H=Q>o?Q-o:0;p=p.map(M=>M<=0?-y:M>H?H+b:M)}if(a.centerInsufficientSlides){let Q=0;v.forEach(M=>{Q+=M+(S||0)}),Q-=S;const H=(a.slidesOffsetBefore||0)+(a.slidesOffsetAfter||0);if(Q+H<o){const M=(o-Q-H)/2;p.forEach((K,q)=>{p[q]=K-M}),g.forEach((K,q)=>{g[q]=K+M})}}if(Object.assign(t,{slides:u,snapGrid:p,slidesGrid:g,slidesSizesGrid:v}),a.centeredSlides&&a.cssMode&&!a.centeredSlidesBounds){Vb(s,"--swiper-centered-offset-before",`${-p[0]}px`),Vb(s,"--swiper-centered-offset-after",`${t.size/2-v[v.length-1]/2}px`);const Q=-t.snapGrid[0],H=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(M=>M+Q),t.slidesGrid=t.slidesGrid.map(M=>M+H)}if(m!==f&&t.emit("slidesLengthChange"),p.length!==j&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),g.length!==N&&t.emit("slidesGridLengthChange"),a.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!d&&!a.cssMode&&(a.effect==="slide"||a.effect==="fade")){const Q=`${a.containerModifierClass}backface-hidden`,H=t.el.classList.contains(Q);m<=a.maxBackfaceHiddenSlides?H||t.el.classList.add(Q):H&&t.el.classList.remove(Q)}}function AFe(t){const r=this,a=[],s=r.virtual&&r.params.virtual.enabled;let i=0,o;typeof t=="number"?r.setTransition(t):t===!0&&r.setTransition(r.params.speed);const l=c=>s?r.slides[r.getSlideIndexByData(c)]:r.slides[c];if(r.params.slidesPerView!=="auto"&&r.params.slidesPerView>1)if(r.params.centeredSlides)(r.visibleSlides||[]).forEach(c=>{a.push(c)});else for(o=0;o<Math.ceil(r.params.slidesPerView);o+=1){const c=r.activeIndex+o;if(c>r.slides.length&&!s)break;a.push(l(c))}else a.push(l(r.activeIndex));for(o=0;o<a.length;o+=1)if(typeof a[o]<"u"){const c=a[o].offsetHeight;i=c>i?c:i}(i||i===0)&&(r.wrapperEl.style.height=`${i}px`)}function hFe(){const t=this,r=t.slides,a=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let s=0;s<r.length;s+=1)r[s].swiperSlideOffset=(t.isHorizontal()?r[s].offsetLeft:r[s].offsetTop)-a-t.cssOverflowAdjustment()}const XL=(t,r,a)=>{r&&!t.classList.contains(a)?t.classList.add(a):!r&&t.classList.contains(a)&&t.classList.remove(a)};function mFe(t){t===void 0&&(t=this&&this.translate||0);const r=this,a=r.params,{slides:s,rtlTranslate:i,snapGrid:o}=r;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&r.updateSlidesOffset();let l=-t;i&&(l=t),r.visibleSlidesIndexes=[],r.visibleSlides=[];let c=a.spaceBetween;typeof c=="string"&&c.indexOf("%")>=0?c=parseFloat(c.replace("%",""))/100*r.size:typeof c=="string"&&(c=parseFloat(c));for(let d=0;d<s.length;d+=1){const f=s[d];let u=f.swiperSlideOffset;a.cssMode&&a.centeredSlides&&(u-=s[0].swiperSlideOffset);const m=(l+(a.centeredSlides?r.minTranslate():0)-u)/(f.swiperSlideSize+c),p=(l-o[0]+(a.centeredSlides?r.minTranslate():0)-u)/(f.swiperSlideSize+c),g=-(l-u),v=g+r.slidesSizesGrid[d],y=g>=0&&g<=r.size-r.slidesSizesGrid[d],b=g>=0&&g<r.size-1||v>1&&v<=r.size||g<=0&&v>=r.size;b&&(r.visibleSlides.push(f),r.visibleSlidesIndexes.push(d)),XL(f,b,a.slideVisibleClass),XL(f,y,a.slideFullyVisibleClass),f.progress=i?-m:m,f.originalProgress=i?-p:p}}function pFe(t){const r=this;if(typeof t>"u"){const u=r.rtlTranslate?-1:1;t=r&&r.translate&&r.translate*u||0}const a=r.params,s=r.maxTranslate()-r.minTranslate();let{progress:i,isBeginning:o,isEnd:l,progressLoop:c}=r;const d=o,f=l;if(s===0)i=0,o=!0,l=!0;else{i=(t-r.minTranslate())/s;const u=Math.abs(t-r.minTranslate())<1,m=Math.abs(t-r.maxTranslate())<1;o=u||i<=0,l=m||i>=1,u&&(i=0),m&&(i=1)}if(a.loop){const u=r.getSlideIndexByData(0),m=r.getSlideIndexByData(r.slides.length-1),p=r.slidesGrid[u],g=r.slidesGrid[m],v=r.slidesGrid[r.slidesGrid.length-1],y=Math.abs(t);y>=p?c=(y-p)/v:c=(y+v-g)/v,c>1&&(c-=1)}Object.assign(r,{progress:i,progressLoop:c,isBeginning:o,isEnd:l}),(a.watchSlidesProgress||a.centeredSlides&&a.autoHeight)&&r.updateSlidesProgress(t),o&&!d&&r.emit("reachBeginning toEdge"),l&&!f&&r.emit("reachEnd toEdge"),(d&&!o||f&&!l)&&r.emit("fromEdge"),r.emit("progress",i)}const R5=(t,r,a)=>{r&&!t.classList.contains(a)?t.classList.add(a):!r&&t.classList.contains(a)&&t.classList.remove(a)};function gFe(){const t=this,{slides:r,params:a,slidesEl:s,activeIndex:i}=t,o=t.virtual&&a.virtual.enabled,l=t.grid&&a.grid&&a.grid.rows>1,c=m=>xf(s,`.${a.slideClass}${m}, swiper-slide${m}`)[0];let d,f,u;if(o)if(a.loop){let m=i-t.virtual.slidesBefore;m<0&&(m=t.virtual.slides.length+m),m>=t.virtual.slides.length&&(m-=t.virtual.slides.length),d=c(`[data-swiper-slide-index="${m}"]`)}else d=c(`[data-swiper-slide-index="${i}"]`);else l?(d=r.find(m=>m.column===i),u=r.find(m=>m.column===i+1),f=r.find(m=>m.column===i-1)):d=r[i];d&&(l||(u=sFe(d,`.${a.slideClass}, swiper-slide`)[0],a.loop&&!u&&(u=r[0]),f=aFe(d,`.${a.slideClass}, swiper-slide`)[0],a.loop&&!f===0&&(f=r[r.length-1]))),r.forEach(m=>{R5(m,m===d,a.slideActiveClass),R5(m,m===u,a.slideNextClass),R5(m,m===f,a.slidePrevClass)}),t.emitSlidesClasses()}const c2=(t,r)=>{if(!t||t.destroyed||!t.params)return;const a=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,s=r.closest(a());if(s){let i=s.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(s.shadowRoot?i=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(i=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},Q5=(t,r)=>{if(!t.slides[r])return;const a=t.slides[r].querySelector('[loading="lazy"]');a&&a.removeAttribute("loading")},rB=t=>{if(!t||t.destroyed||!t.params)return;let r=t.params.lazyPreloadPrevNext;const a=t.slides.length;if(!a||!r||r<0)return;r=Math.min(r,a);const s=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const l=i,c=[l-r];c.push(...Array.from({length:r}).map((d,f)=>l+s+f)),t.slides.forEach((d,f)=>{c.includes(d.column)&&Q5(t,f)});return}const o=i+s-1;if(t.params.rewind||t.params.loop)for(let l=i-r;l<=o+r;l+=1){const c=(l%a+a)%a;(c<i||c>o)&&Q5(t,c)}else for(let l=Math.max(i-r,0);l<=Math.min(o+r,a-1);l+=1)l!==i&&(l>o||l<i)&&Q5(t,l)};function xFe(t){const{slidesGrid:r,params:a}=t,s=t.rtlTranslate?t.translate:-t.translate;let i;for(let o=0;o<r.length;o+=1)typeof r[o+1]<"u"?s>=r[o]&&s<r[o+1]-(r[o+1]-r[o])/2?i=o:s>=r[o]&&s<r[o+1]&&(i=o+1):s>=r[o]&&(i=o);return a.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function yFe(t){const r=this,a=r.rtlTranslate?r.translate:-r.translate,{snapGrid:s,params:i,activeIndex:o,realIndex:l,snapIndex:c}=r;let d=t,f;const u=g=>{let v=g-r.virtual.slidesBefore;return v<0&&(v=r.virtual.slides.length+v),v>=r.virtual.slides.length&&(v-=r.virtual.slides.length),v};if(typeof d>"u"&&(d=xFe(r)),s.indexOf(a)>=0)f=s.indexOf(a);else{const g=Math.min(i.slidesPerGroupSkip,d);f=g+Math.floor((d-g)/i.slidesPerGroup)}if(f>=s.length&&(f=s.length-1),d===o&&!r.params.loop){f!==c&&(r.snapIndex=f,r.emit("snapIndexChange"));return}if(d===o&&r.params.loop&&r.virtual&&r.params.virtual.enabled){r.realIndex=u(d);return}const m=r.grid&&i.grid&&i.grid.rows>1;let p;if(r.virtual&&i.virtual.enabled&&i.loop)p=u(d);else if(m){const g=r.slides.find(y=>y.column===d);let v=parseInt(g.getAttribute("data-swiper-slide-index"),10);Number.isNaN(v)&&(v=Math.max(r.slides.indexOf(g),0)),p=Math.floor(v/i.grid.rows)}else if(r.slides[d]){const g=r.slides[d].getAttribute("data-swiper-slide-index");g?p=parseInt(g,10):p=d}else p=d;Object.assign(r,{previousSnapIndex:c,snapIndex:f,previousRealIndex:l,realIndex:p,previousIndex:o,activeIndex:d}),r.initialized&&rB(r),r.emit("activeIndexChange"),r.emit("snapIndexChange"),(r.initialized||r.params.runCallbacksOnInit)&&(l!==p&&r.emit("realIndexChange"),r.emit("slideChange"))}function vFe(t,r){const a=this,s=a.params;let i=t.closest(`.${s.slideClass}, swiper-slide`);!i&&a.isElement&&r&&r.length>1&&r.includes(t)&&[...r.slice(r.indexOf(t)+1,r.length)].forEach(c=>{!i&&c.matches&&c.matches(`.${s.slideClass}, swiper-slide`)&&(i=c)});let o=!1,l;if(i){for(let c=0;c<a.slides.length;c+=1)if(a.slides[c]===i){o=!0,l=c;break}}if(i&&o)a.clickedSlide=i,a.virtual&&a.params.virtual.enabled?a.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):a.clickedIndex=l;else{a.clickedSlide=void 0,a.clickedIndex=void 0;return}s.slideToClickedSlide&&a.clickedIndex!==void 0&&a.clickedIndex!==a.activeIndex&&a.slideToClickedSlide()}var bFe={updateSize:uFe,updateSlides:fFe,updateAutoHeight:AFe,updateSlidesOffset:hFe,updateSlidesProgress:mFe,updateProgress:pFe,updateSlidesClasses:gFe,updateActiveIndex:yFe,updateClickedSlide:vFe};function wFe(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const r=this,{params:a,rtlTranslate:s,translate:i,wrapperEl:o}=r;if(a.virtualTranslate)return s?-i:i;if(a.cssMode)return i;let l=ZTe(o,t);return l+=r.cssOverflowAdjustment(),s&&(l=-l),l||0}function jFe(t,r){const a=this,{rtlTranslate:s,params:i,wrapperEl:o,progress:l}=a;let c=0,d=0;const f=0;a.isHorizontal()?c=s?-t:t:d=t,i.roundLengths&&(c=Math.floor(c),d=Math.floor(d)),a.previousTranslate=a.translate,a.translate=a.isHorizontal()?c:d,i.cssMode?o[a.isHorizontal()?"scrollLeft":"scrollTop"]=a.isHorizontal()?-c:-d:i.virtualTranslate||(a.isHorizontal()?c-=a.cssOverflowAdjustment():d-=a.cssOverflowAdjustment(),o.style.transform=`translate3d(${c}px, ${d}px, ${f}px)`);let u;const m=a.maxTranslate()-a.minTranslate();m===0?u=0:u=(t-a.minTranslate())/m,u!==l&&a.updateProgress(t),a.emit("setTranslate",a.translate,r)}function NFe(){return-this.snapGrid[0]}function SFe(){return-this.snapGrid[this.snapGrid.length-1]}function CFe(t,r,a,s,i){t===void 0&&(t=0),r===void 0&&(r=this.params.speed),a===void 0&&(a=!0),s===void 0&&(s=!0);const o=this,{params:l,wrapperEl:c}=o;if(o.animating&&l.preventInteractionOnTransition)return!1;const d=o.minTranslate(),f=o.maxTranslate();let u;if(s&&t>d?u=d:s&&t<f?u=f:u=t,o.updateProgress(u),l.cssMode){const m=o.isHorizontal();if(r===0)c[m?"scrollLeft":"scrollTop"]=-u;else{if(!o.support.smoothScroll)return eG({swiper:o,targetPosition:-u,side:m?"left":"top"}),!0;c.scrollTo({[m?"left":"top"]:-u,behavior:"smooth"})}return!0}return r===0?(o.setTransition(0),o.setTranslate(u),a&&(o.emit("beforeTransitionStart",r,i),o.emit("transitionEnd"))):(o.setTransition(r),o.setTranslate(u),a&&(o.emit("beforeTransitionStart",r,i),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(p){!o||o.destroyed||p.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,a&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var BFe={getTranslate:wFe,setTranslate:jFe,minTranslate:NFe,maxTranslate:SFe,translateTo:CFe};function EFe(t,r){const a=this;a.params.cssMode||(a.wrapperEl.style.transitionDuration=`${t}ms`,a.wrapperEl.style.transitionDelay=t===0?"0ms":""),a.emit("setTransition",t,r)}function nG(t){let{swiper:r,runCallbacks:a,direction:s,step:i}=t;const{activeIndex:o,previousIndex:l}=r;let c=s;c||(o>l?c="next":o<l?c="prev":c="reset"),r.emit(`transition${i}`),a&&c==="reset"?r.emit(`slideResetTransition${i}`):a&&o!==l&&(r.emit(`slideChangeTransition${i}`),c==="next"?r.emit(`slideNextTransition${i}`):r.emit(`slidePrevTransition${i}`))}function TFe(t,r){t===void 0&&(t=!0);const a=this,{params:s}=a;s.cssMode||(s.autoHeight&&a.updateAutoHeight(),nG({swiper:a,runCallbacks:t,direction:r,step:"Start"}))}function FFe(t,r){t===void 0&&(t=!0);const a=this,{params:s}=a;a.animating=!1,!s.cssMode&&(a.setTransition(0),nG({swiper:a,runCallbacks:t,direction:r,step:"End"}))}var IFe={setTransition:EFe,transitionStart:TFe,transitionEnd:FFe};function kFe(t,r,a,s,i){t===void 0&&(t=0),a===void 0&&(a=!0),typeof t=="string"&&(t=parseInt(t,10));const o=this;let l=t;l<0&&(l=0);const{params:c,snapGrid:d,slidesGrid:f,previousIndex:u,activeIndex:m,rtlTranslate:p,wrapperEl:g,enabled:v}=o;if(!v&&!s&&!i||o.destroyed||o.animating&&c.preventInteractionOnTransition)return!1;typeof r>"u"&&(r=o.params.speed);const y=Math.min(o.params.slidesPerGroupSkip,l);let b=y+Math.floor((l-y)/o.params.slidesPerGroup);b>=d.length&&(b=d.length-1);const j=-d[b];if(c.normalizeSlideIndex)for(let O=0;O<f.length;O+=1){const k=-Math.floor(j*100),V=Math.floor(f[O]*100),Q=Math.floor(f[O+1]*100);typeof f[O+1]<"u"?k>=V&&k<Q-(Q-V)/2?l=O:k>=V&&k<Q&&(l=O+1):k>=V&&(l=O)}if(o.initialized&&l!==m&&(!o.allowSlideNext&&(p?j>o.translate&&j>o.minTranslate():j<o.translate&&j<o.minTranslate())||!o.allowSlidePrev&&j>o.translate&&j>o.maxTranslate()&&(m||0)!==l))return!1;l!==(u||0)&&a&&o.emit("beforeSlideChangeStart"),o.updateProgress(j);let N;l>m?N="next":l<m?N="prev":N="reset";const S=o.virtual&&o.params.virtual.enabled;if(!(S&&i)&&(p&&-j===o.translate||!p&&j===o.translate))return o.updateActiveIndex(l),c.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),c.effect!=="slide"&&o.setTranslate(j),N!=="reset"&&(o.transitionStart(a,N),o.transitionEnd(a,N)),!1;if(c.cssMode){const O=o.isHorizontal(),k=p?j:-j;if(r===0)S&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),S&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{g[O?"scrollLeft":"scrollTop"]=k})):g[O?"scrollLeft":"scrollTop"]=k,S&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return eG({swiper:o,targetPosition:k,side:O?"left":"top"}),!0;g.scrollTo({[O?"left":"top"]:k,behavior:"smooth"})}return!0}const F=sG().isSafari;return S&&!i&&F&&o.isElement&&o.virtual.update(!1,!1,l),o.setTransition(r),o.setTranslate(j),o.updateActiveIndex(l),o.updateSlidesClasses(),o.emit("beforeTransitionStart",r,s),o.transitionStart(a,N),r===0?o.transitionEnd(a,N):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(k){!o||o.destroyed||k.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(a,N))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function _Fe(t,r,a,s){t===void 0&&(t=0),a===void 0&&(a=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof r>"u"&&(r=i.params.speed);const o=i.grid&&i.params.grid&&i.params.grid.rows>1;let l=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)l=l+i.virtual.slidesBefore;else{let c;if(o){const p=l*i.params.grid.rows;c=i.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===p).column}else c=i.getSlideIndexByData(l);const d=o?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:f}=i.params;let u=i.params.slidesPerView;u==="auto"?u=i.slidesPerViewDynamic():(u=Math.ceil(parseFloat(i.params.slidesPerView,10)),f&&u%2===0&&(u=u+1));let m=d-c<u;if(f&&(m=m||c<Math.ceil(u/2)),s&&f&&i.params.slidesPerView!=="auto"&&!o&&(m=!1),m){const p=f?c<i.activeIndex?"prev":"next":c-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:p,slideTo:!0,activeSlideIndex:p==="next"?c+1:c-d+1,slideRealIndex:p==="next"?i.realIndex:void 0})}if(o){const p=l*i.params.grid.rows;l=i.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===p).column}else l=i.getSlideIndexByData(l)}return requestAnimationFrame(()=>{i.slideTo(l,r,a,s)}),i}function PFe(t,r,a){r===void 0&&(r=!0);const s=this,{enabled:i,params:o,animating:l}=s;if(!i||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);let c=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(c=Math.max(s.slidesPerViewDynamic("current",!0),1));const d=s.activeIndex<o.slidesPerGroupSkip?1:c,f=s.virtual&&o.virtual.enabled;if(o.loop){if(l&&!f&&o.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+d,t,r,a)}),!0}return o.rewind&&s.isEnd?s.slideTo(0,t,r,a):s.slideTo(s.activeIndex+d,t,r,a)}function OFe(t,r,a){r===void 0&&(r=!0);const s=this,{params:i,snapGrid:o,slidesGrid:l,rtlTranslate:c,enabled:d,animating:f}=s;if(!d||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);const u=s.virtual&&i.virtual.enabled;if(i.loop){if(f&&!u&&i.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const m=c?s.translate:-s.translate;function p(N){return N<0?-Math.floor(Math.abs(N)):Math.floor(N)}const g=p(m),v=o.map(N=>p(N)),y=i.freeMode&&i.freeMode.enabled;let b=o[v.indexOf(g)-1];if(typeof b>"u"&&(i.cssMode||y)){let N;o.forEach((S,B)=>{g>=S&&(N=B)}),typeof N<"u"&&(b=y?o[N]:o[N>0?N-1:N])}let j=0;if(typeof b<"u"&&(j=l.indexOf(b),j<0&&(j=s.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(j=j-s.slidesPerViewDynamic("previous",!0)+1,j=Math.max(j,0))),i.rewind&&s.isBeginning){const N=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(N,t,r,a)}else if(i.loop&&s.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{s.slideTo(j,t,r,a)}),!0;return s.slideTo(j,t,r,a)}function DFe(t,r,a){r===void 0&&(r=!0);const s=this;if(!s.destroyed)return typeof t>"u"&&(t=s.params.speed),s.slideTo(s.activeIndex,t,r,a)}function LFe(t,r,a,s){r===void 0&&(r=!0),s===void 0&&(s=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let o=i.activeIndex;const l=Math.min(i.params.slidesPerGroupSkip,o),c=l+Math.floor((o-l)/i.params.slidesPerGroup),d=i.rtlTranslate?i.translate:-i.translate;if(d>=i.snapGrid[c]){const f=i.snapGrid[c],u=i.snapGrid[c+1];d-f>(u-f)*s&&(o+=i.params.slidesPerGroup)}else{const f=i.snapGrid[c-1],u=i.snapGrid[c];d-f<=(u-f)*s&&(o-=i.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,i.slidesGrid.length-1),i.slideTo(o,t,r,a)}function MFe(){const t=this;if(t.destroyed)return;const{params:r,slidesEl:a}=t,s=r.slidesPerView==="auto"?t.slidesPerViewDynamic():r.slidesPerView;let i=t.getSlideIndexWhenGrid(t.clickedIndex),o;const l=t.isElement?"swiper-slide":`.${r.slideClass}`,c=t.grid&&t.params.grid&&t.params.grid.rows>1;if(r.loop){if(t.animating)return;o=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),r.centeredSlides?t.slideToLoop(o):i>(c?(t.slides.length-s)/2-(t.params.grid.rows-1):t.slides.length-s)?(t.loopFix(),i=t.getSlideIndex(xf(a,`${l}[data-swiper-slide-index="${o}"]`)[0]),ZK(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var UFe={slideTo:kFe,slideToLoop:_Fe,slideNext:PFe,slidePrev:OFe,slideReset:DFe,slideToClosest:LFe,slideToClickedSlide:MFe};function RFe(t,r){const a=this,{params:s,slidesEl:i}=a;if(!s.loop||a.virtual&&a.params.virtual.enabled)return;const o=()=>{xf(i,`.${s.slideClass}, swiper-slide`).forEach((g,v)=>{g.setAttribute("data-swiper-slide-index",v)})},l=()=>{const p=xf(i,`.${s.slideBlankClass}`);p.forEach(g=>{g.remove()}),p.length>0&&(a.recalcSlides(),a.updateSlides())},c=a.grid&&s.grid&&s.grid.rows>1;s.loopAddBlankSlides&&(s.slidesPerGroup>1||c)&&l();const d=s.slidesPerGroup*(c?s.grid.rows:1),f=a.slides.length%d!==0,u=c&&a.slides.length%s.grid.rows!==0,m=p=>{for(let g=0;g<p;g+=1){const v=a.isElement?kw("swiper-slide",[s.slideBlankClass]):kw("div",[s.slideClass,s.slideBlankClass]);a.slidesEl.append(v)}};if(f){if(s.loopAddBlankSlides){const p=d-a.slides.length%d;m(p),a.recalcSlides(),a.updateSlides()}else Iw("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(u){if(s.loopAddBlankSlides){const p=s.grid.rows-a.slides.length%s.grid.rows;m(p),a.recalcSlides(),a.updateSlides()}else Iw("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();a.loopFix({slideRealIndex:t,direction:s.centeredSlides?void 0:"next",initial:r})}function QFe(t){let{slideRealIndex:r,slideTo:a=!0,direction:s,setTranslate:i,activeSlideIndex:o,initial:l,byController:c,byMousewheel:d}=t===void 0?{}:t;const f=this;if(!f.params.loop)return;f.emit("beforeLoopFix");const{slides:u,allowSlidePrev:m,allowSlideNext:p,slidesEl:g,params:v}=f,{centeredSlides:y,initialSlide:b}=v;if(f.allowSlidePrev=!0,f.allowSlideNext=!0,f.virtual&&v.virtual.enabled){a&&(!v.centeredSlides&&f.snapIndex===0?f.slideTo(f.virtual.slides.length,0,!1,!0):v.centeredSlides&&f.snapIndex<v.slidesPerView?f.slideTo(f.virtual.slides.length+f.snapIndex,0,!1,!0):f.snapIndex===f.snapGrid.length-1&&f.slideTo(f.virtual.slidesBefore,0,!1,!0)),f.allowSlidePrev=m,f.allowSlideNext=p,f.emit("loopFix");return}let j=v.slidesPerView;j==="auto"?j=f.slidesPerViewDynamic():(j=Math.ceil(parseFloat(v.slidesPerView,10)),y&&j%2===0&&(j=j+1));const N=v.slidesPerGroupAuto?j:v.slidesPerGroup;let S=y?Math.max(N,Math.ceil(j/2)):N;S%N!==0&&(S+=N-S%N),S+=v.loopAdditionalSlides,f.loopedSlides=S;const B=f.grid&&v.grid&&v.grid.rows>1;u.length<j+S||f.params.effect==="cards"&&u.length<j+S*2?Iw("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):B&&v.grid.fill==="row"&&Iw("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const I=[],F=[],O=B?Math.ceil(u.length/v.grid.rows):u.length,k=l&&O-b<j&&!y;let V=k?b:f.activeIndex;typeof o>"u"?o=f.getSlideIndex(u.find(ee=>ee.classList.contains(v.slideActiveClass))):V=o;const Q=s==="next"||!s,H=s==="prev"||!s;let M=0,K=0;const re=(B?u[o].column:o)+(y&&typeof i>"u"?-j/2+.5:0);if(re<S){M=Math.max(S-re,N);for(let ee=0;ee<S-re;ee+=1){const le=ee-Math.floor(ee/O)*O;if(B){const Ae=O-le-1;for(let ue=u.length-1;ue>=0;ue-=1)u[ue].column===Ae&&I.push(ue)}else I.push(O-le-1)}}else if(re+j>O-S){K=Math.max(re-(O-S*2),N),k&&(K=Math.max(K,j-O+b+1));for(let ee=0;ee<K;ee+=1){const le=ee-Math.floor(ee/O)*O;B?u.forEach((Ae,ue)=>{Ae.column===le&&F.push(ue)}):F.push(le)}}if(f.__preventObserver__=!0,requestAnimationFrame(()=>{f.__preventObserver__=!1}),f.params.effect==="cards"&&u.length<j+S*2&&(F.includes(o)&&F.splice(F.indexOf(o),1),I.includes(o)&&I.splice(I.indexOf(o),1)),H&&I.forEach(ee=>{u[ee].swiperLoopMoveDOM=!0,g.prepend(u[ee]),u[ee].swiperLoopMoveDOM=!1}),Q&&F.forEach(ee=>{u[ee].swiperLoopMoveDOM=!0,g.append(u[ee]),u[ee].swiperLoopMoveDOM=!1}),f.recalcSlides(),v.slidesPerView==="auto"?f.updateSlides():B&&(I.length>0&&H||F.length>0&&Q)&&f.slides.forEach((ee,le)=>{f.grid.updateSlide(le,ee,f.slides)}),v.watchSlidesProgress&&f.updateSlidesOffset(),a){if(I.length>0&&H){if(typeof r>"u"){const ee=f.slidesGrid[V],Ae=f.slidesGrid[V+M]-ee;d?f.setTranslate(f.translate-Ae):(f.slideTo(V+Math.ceil(M),0,!1,!0),i&&(f.touchEventsData.startTranslate=f.touchEventsData.startTranslate-Ae,f.touchEventsData.currentTranslate=f.touchEventsData.currentTranslate-Ae))}else if(i){const ee=B?I.length/v.grid.rows:I.length;f.slideTo(f.activeIndex+ee,0,!1,!0),f.touchEventsData.currentTranslate=f.translate}}else if(F.length>0&&Q)if(typeof r>"u"){const ee=f.slidesGrid[V],Ae=f.slidesGrid[V-K]-ee;d?f.setTranslate(f.translate-Ae):(f.slideTo(V-K,0,!1,!0),i&&(f.touchEventsData.startTranslate=f.touchEventsData.startTranslate-Ae,f.touchEventsData.currentTranslate=f.touchEventsData.currentTranslate-Ae))}else{const ee=B?F.length/v.grid.rows:F.length;f.slideTo(f.activeIndex-ee,0,!1,!0)}}if(f.allowSlidePrev=m,f.allowSlideNext=p,f.controller&&f.controller.control&&!c){const ee={slideRealIndex:r,direction:s,setTranslate:i,activeSlideIndex:o,byController:!0};Array.isArray(f.controller.control)?f.controller.control.forEach(le=>{!le.destroyed&&le.params.loop&&le.loopFix({...ee,slideTo:le.params.slidesPerView===v.slidesPerView?a:!1})}):f.controller.control instanceof f.constructor&&f.controller.control.params.loop&&f.controller.control.loopFix({...ee,slideTo:f.controller.control.params.slidesPerView===v.slidesPerView?a:!1})}f.emit("loopFix")}function HFe(){const t=this,{params:r,slidesEl:a}=t;if(!r.loop||!a||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const s=[];t.slides.forEach(i=>{const o=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;s[o]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),s.forEach(i=>{a.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var $Fe={loopCreate:RFe,loopFix:QFe,loopDestroy:HFe};function zFe(t){const r=this;if(!r.params.simulateTouch||r.params.watchOverflow&&r.isLocked||r.params.cssMode)return;const a=r.params.touchEventsTarget==="container"?r.el:r.wrapperEl;r.isElement&&(r.__preventObserver__=!0),a.style.cursor="move",a.style.cursor=t?"grabbing":"grab",r.isElement&&requestAnimationFrame(()=>{r.__preventObserver__=!1})}function VFe(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var KFe={setGrabCursor:zFe,unsetGrabCursor:VFe};function GFe(t,r){r===void 0&&(r=this);function a(s){if(!s||s===Nf()||s===vl())return null;s.assignedSlot&&(s=s.assignedSlot);const i=s.closest(t);return!i&&!s.getRootNode?null:i||a(s.getRootNode().host)}return a(r)}function JL(t,r,a){const s=vl(),{params:i}=t,o=i.edgeSwipeDetection,l=i.edgeSwipeThreshold;return o&&(a<=l||a>=s.innerWidth-l)?o==="prevent"?(r.preventDefault(),!0):!1:!0}function WFe(t){const r=this,a=Nf();let s=t;s.originalEvent&&(s=s.originalEvent);const i=r.touchEventsData;if(s.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==s.pointerId)return;i.pointerId=s.pointerId}else s.type==="touchstart"&&s.targetTouches.length===1&&(i.touchId=s.targetTouches[0].identifier);if(s.type==="touchstart"){JL(r,s,s.targetTouches[0].pageX);return}const{params:o,touches:l,enabled:c}=r;if(!c||!o.simulateTouch&&s.pointerType==="mouse"||r.animating&&o.preventInteractionOnTransition)return;!r.animating&&o.cssMode&&o.loop&&r.loopFix();let d=s.target;if(o.touchEventsTarget==="wrapper"&&!rFe(d,r.wrapperEl)||"which"in s&&s.which===3||"button"in s&&s.button>0||i.isTouched&&i.isMoved)return;const f=!!o.noSwipingClass&&o.noSwipingClass!=="",u=s.composedPath?s.composedPath():s.path;f&&s.target&&s.target.shadowRoot&&u&&(d=u[0]);const m=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,p=!!(s.target&&s.target.shadowRoot);if(o.noSwiping&&(p?GFe(m,d):d.closest(m))){r.allowClick=!0;return}if(o.swipeHandler&&!d.closest(o.swipeHandler))return;l.currentX=s.pageX,l.currentY=s.pageY;const g=l.currentX,v=l.currentY;if(!JL(r,s,g))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=g,l.startY=v,i.touchStartTime=Fw(),r.allowClick=!0,r.updateSize(),r.swipeDirection=void 0,o.threshold>0&&(i.allowThresholdMove=!1);let y=!0;d.matches(i.focusableElements)&&(y=!1,d.nodeName==="SELECT"&&(i.isTouched=!1)),a.activeElement&&a.activeElement.matches(i.focusableElements)&&a.activeElement!==d&&(s.pointerType==="mouse"||s.pointerType!=="mouse"&&!d.matches(i.focusableElements))&&a.activeElement.blur();const b=y&&r.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||b)&&!d.isContentEditable&&s.preventDefault(),o.freeMode&&o.freeMode.enabled&&r.freeMode&&r.animating&&!o.cssMode&&r.freeMode.onTouchStart(),r.emit("touchStart",s)}function qFe(t){const r=Nf(),a=this,s=a.touchEventsData,{params:i,touches:o,rtlTranslate:l,enabled:c}=a;if(!c||!i.simulateTouch&&t.pointerType==="mouse")return;let d=t;if(d.originalEvent&&(d=d.originalEvent),d.type==="pointermove"&&(s.touchId!==null||d.pointerId!==s.pointerId))return;let f;if(d.type==="touchmove"){if(f=[...d.changedTouches].find(I=>I.identifier===s.touchId),!f||f.identifier!==s.touchId)return}else f=d;if(!s.isTouched){s.startMoving&&s.isScrolling&&a.emit("touchMoveOpposite",d);return}const u=f.pageX,m=f.pageY;if(d.preventedByNestedSwiper){o.startX=u,o.startY=m;return}if(!a.allowTouchMove){d.target.matches(s.focusableElements)||(a.allowClick=!1),s.isTouched&&(Object.assign(o,{startX:u,startY:m,currentX:u,currentY:m}),s.touchStartTime=Fw());return}if(i.touchReleaseOnEdges&&!i.loop)if(a.isVertical()){if(m<o.startY&&a.translate<=a.maxTranslate()||m>o.startY&&a.translate>=a.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else{if(l&&(u>o.startX&&-a.translate<=a.maxTranslate()||u<o.startX&&-a.translate>=a.minTranslate()))return;if(!l&&(u<o.startX&&a.translate<=a.maxTranslate()||u>o.startX&&a.translate>=a.minTranslate()))return}if(r.activeElement&&r.activeElement.matches(s.focusableElements)&&r.activeElement!==d.target&&d.pointerType!=="mouse"&&r.activeElement.blur(),r.activeElement&&d.target===r.activeElement&&d.target.matches(s.focusableElements)){s.isMoved=!0,a.allowClick=!1;return}s.allowTouchCallbacks&&a.emit("touchMove",d),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=u,o.currentY=m;const p=o.currentX-o.startX,g=o.currentY-o.startY;if(a.params.threshold&&Math.sqrt(p**2+g**2)<a.params.threshold)return;if(typeof s.isScrolling>"u"){let I;a.isHorizontal()&&o.currentY===o.startY||a.isVertical()&&o.currentX===o.startX?s.isScrolling=!1:p*p+g*g>=25&&(I=Math.atan2(Math.abs(g),Math.abs(p))*180/Math.PI,s.isScrolling=a.isHorizontal()?I>i.touchAngle:90-I>i.touchAngle)}if(s.isScrolling&&a.emit("touchMoveOpposite",d),typeof s.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(s.startMoving=!0),s.isScrolling||d.type==="touchmove"&&s.preventTouchMoveFromPointerMove){s.isTouched=!1;return}if(!s.startMoving)return;a.allowClick=!1,!i.cssMode&&d.cancelable&&d.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&d.stopPropagation();let v=a.isHorizontal()?p:g,y=a.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;i.oneWayMovement&&(v=Math.abs(v)*(l?1:-1),y=Math.abs(y)*(l?1:-1)),o.diff=v,v*=i.touchRatio,l&&(v=-v,y=-y);const b=a.touchesDirection;a.swipeDirection=v>0?"prev":"next",a.touchesDirection=y>0?"prev":"next";const j=a.params.loop&&!i.cssMode,N=a.touchesDirection==="next"&&a.allowSlideNext||a.touchesDirection==="prev"&&a.allowSlidePrev;if(!s.isMoved){if(j&&N&&a.loopFix({direction:a.swipeDirection}),s.startTranslate=a.getTranslate(),a.setTransition(0),a.animating){const I=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});a.wrapperEl.dispatchEvent(I)}s.allowMomentumBounce=!1,i.grabCursor&&(a.allowSlideNext===!0||a.allowSlidePrev===!0)&&a.setGrabCursor(!0),a.emit("sliderFirstMove",d)}if(new Date().getTime(),i._loopSwapReset!==!1&&s.isMoved&&s.allowThresholdMove&&b!==a.touchesDirection&&j&&N&&Math.abs(v)>=1){Object.assign(o,{startX:u,startY:m,currentX:u,currentY:m,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate;return}a.emit("sliderMove",d),s.isMoved=!0,s.currentTranslate=v+s.startTranslate;let S=!0,B=i.resistanceRatio;if(i.touchReleaseOnEdges&&(B=0),v>0?(j&&N&&s.allowThresholdMove&&s.currentTranslate>(i.centeredSlides?a.minTranslate()-a.slidesSizesGrid[a.activeIndex+1]-(i.slidesPerView!=="auto"&&a.slides.length-i.slidesPerView>=2?a.slidesSizesGrid[a.activeIndex+1]+a.params.spaceBetween:0)-a.params.spaceBetween:a.minTranslate())&&a.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>a.minTranslate()&&(S=!1,i.resistance&&(s.currentTranslate=a.minTranslate()-1+(-a.minTranslate()+s.startTranslate+v)**B))):v<0&&(j&&N&&s.allowThresholdMove&&s.currentTranslate<(i.centeredSlides?a.maxTranslate()+a.slidesSizesGrid[a.slidesSizesGrid.length-1]+a.params.spaceBetween+(i.slidesPerView!=="auto"&&a.slides.length-i.slidesPerView>=2?a.slidesSizesGrid[a.slidesSizesGrid.length-1]+a.params.spaceBetween:0):a.maxTranslate())&&a.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:a.slides.length-(i.slidesPerView==="auto"?a.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),s.currentTranslate<a.maxTranslate()&&(S=!1,i.resistance&&(s.currentTranslate=a.maxTranslate()+1-(a.maxTranslate()-s.startTranslate-v)**B))),S&&(d.preventedByNestedSwiper=!0),!a.allowSlideNext&&a.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!a.allowSlidePrev&&a.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!a.allowSlidePrev&&!a.allowSlideNext&&(s.currentTranslate=s.startTranslate),i.threshold>0)if(Math.abs(v)>i.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,s.currentTranslate=s.startTranslate,o.diff=a.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{s.currentTranslate=s.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&a.freeMode||i.watchSlidesProgress)&&(a.updateActiveIndex(),a.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&a.freeMode&&a.freeMode.onTouchMove(),a.updateProgress(s.currentTranslate),a.setTranslate(s.currentTranslate))}function YFe(t){const r=this,a=r.touchEventsData;let s=t;s.originalEvent&&(s=s.originalEvent);let i;if(s.type==="touchend"||s.type==="touchcancel"){if(i=[...s.changedTouches].find(I=>I.identifier===a.touchId),!i||i.identifier!==a.touchId)return}else{if(a.touchId!==null||s.pointerId!==a.pointerId)return;i=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(r.browser.isSafari||r.browser.isWebView)))return;a.pointerId=null,a.touchId=null;const{params:l,touches:c,rtlTranslate:d,slidesGrid:f,enabled:u}=r;if(!u||!l.simulateTouch&&s.pointerType==="mouse")return;if(a.allowTouchCallbacks&&r.emit("touchEnd",s),a.allowTouchCallbacks=!1,!a.isTouched){a.isMoved&&l.grabCursor&&r.setGrabCursor(!1),a.isMoved=!1,a.startMoving=!1;return}l.grabCursor&&a.isMoved&&a.isTouched&&(r.allowSlideNext===!0||r.allowSlidePrev===!0)&&r.setGrabCursor(!1);const m=Fw(),p=m-a.touchStartTime;if(r.allowClick){const I=s.path||s.composedPath&&s.composedPath();r.updateClickedSlide(I&&I[0]||s.target,I),r.emit("tap click",s),p<300&&m-a.lastClickTime<300&&r.emit("doubleTap doubleClick",s)}if(a.lastClickTime=Fw(),ZK(()=>{r.destroyed||(r.allowClick=!0)}),!a.isTouched||!a.isMoved||!r.swipeDirection||c.diff===0&&!a.loopSwapReset||a.currentTranslate===a.startTranslate&&!a.loopSwapReset){a.isTouched=!1,a.isMoved=!1,a.startMoving=!1;return}a.isTouched=!1,a.isMoved=!1,a.startMoving=!1;let g;if(l.followFinger?g=d?r.translate:-r.translate:g=-a.currentTranslate,l.cssMode)return;if(l.freeMode&&l.freeMode.enabled){r.freeMode.onTouchEnd({currentPos:g});return}const v=g>=-r.maxTranslate()&&!r.params.loop;let y=0,b=r.slidesSizesGrid[0];for(let I=0;I<f.length;I+=I<l.slidesPerGroupSkip?1:l.slidesPerGroup){const F=I<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;typeof f[I+F]<"u"?(v||g>=f[I]&&g<f[I+F])&&(y=I,b=f[I+F]-f[I]):(v||g>=f[I])&&(y=I,b=f[f.length-1]-f[f.length-2])}let j=null,N=null;l.rewind&&(r.isBeginning?N=l.virtual&&l.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1:r.isEnd&&(j=0));const S=(g-f[y])/b,B=y<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;if(p>l.longSwipesMs){if(!l.longSwipes){r.slideTo(r.activeIndex);return}r.swipeDirection==="next"&&(S>=l.longSwipesRatio?r.slideTo(l.rewind&&r.isEnd?j:y+B):r.slideTo(y)),r.swipeDirection==="prev"&&(S>1-l.longSwipesRatio?r.slideTo(y+B):N!==null&&S<0&&Math.abs(S)>l.longSwipesRatio?r.slideTo(N):r.slideTo(y))}else{if(!l.shortSwipes){r.slideTo(r.activeIndex);return}r.navigation&&(s.target===r.navigation.nextEl||s.target===r.navigation.prevEl)?s.target===r.navigation.nextEl?r.slideTo(y+B):r.slideTo(y):(r.swipeDirection==="next"&&r.slideTo(j!==null?j:y+B),r.swipeDirection==="prev"&&r.slideTo(N!==null?N:y))}}function ZL(){const t=this,{params:r,el:a}=t;if(a&&a.offsetWidth===0)return;r.breakpoints&&t.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:i,snapGrid:o}=t,l=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const c=l&&r.loop;(r.slidesPerView==="auto"||r.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!c?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!l?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=s,t.params.watchOverflow&&o!==t.snapGrid&&t.checkOverflow()}function XFe(t){const r=this;r.enabled&&(r.allowClick||(r.params.preventClicks&&t.preventDefault(),r.params.preventClicksPropagation&&r.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function JFe(){const t=this,{wrapperEl:r,rtlTranslate:a,enabled:s}=t;if(!s)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-r.scrollLeft:t.translate=-r.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const o=t.maxTranslate()-t.minTranslate();o===0?i=0:i=(t.translate-t.minTranslate())/o,i!==t.progress&&t.updateProgress(a?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function ZFe(t){const r=this;c2(r,t.target),!(r.params.cssMode||r.params.slidesPerView!=="auto"&&!r.params.autoHeight)&&r.update()}function eIe(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const iG=(t,r)=>{const a=Nf(),{params:s,el:i,wrapperEl:o,device:l}=t,c=!!s.nested,d=r==="on"?"addEventListener":"removeEventListener",f=r;!i||typeof i=="string"||(a[d]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:c}),i[d]("touchstart",t.onTouchStart,{passive:!1}),i[d]("pointerdown",t.onTouchStart,{passive:!1}),a[d]("touchmove",t.onTouchMove,{passive:!1,capture:c}),a[d]("pointermove",t.onTouchMove,{passive:!1,capture:c}),a[d]("touchend",t.onTouchEnd,{passive:!0}),a[d]("pointerup",t.onTouchEnd,{passive:!0}),a[d]("pointercancel",t.onTouchEnd,{passive:!0}),a[d]("touchcancel",t.onTouchEnd,{passive:!0}),a[d]("pointerout",t.onTouchEnd,{passive:!0}),a[d]("pointerleave",t.onTouchEnd,{passive:!0}),a[d]("contextmenu",t.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&i[d]("click",t.onClick,!0),s.cssMode&&o[d]("scroll",t.onScroll),s.updateOnWindowResize?t[f](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",ZL,!0):t[f]("observerUpdate",ZL,!0),i[d]("load",t.onLoad,{capture:!0}))};function tIe(){const t=this,{params:r}=t;t.onTouchStart=WFe.bind(t),t.onTouchMove=qFe.bind(t),t.onTouchEnd=YFe.bind(t),t.onDocumentTouchStart=eIe.bind(t),r.cssMode&&(t.onScroll=JFe.bind(t)),t.onClick=XFe.bind(t),t.onLoad=ZFe.bind(t),iG(t,"on")}function rIe(){iG(this,"off")}var aIe={attachEvents:tIe,detachEvents:rIe};const e7=(t,r)=>t.grid&&r.grid&&r.grid.rows>1;function sIe(){const t=this,{realIndex:r,initialized:a,params:s,el:i}=t,o=s.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const l=Nf(),c=s.breakpointsBase==="window"||!s.breakpointsBase?s.breakpointsBase:"container",d=["window","container"].includes(s.breakpointsBase)||!s.breakpointsBase?t.el:l.querySelector(s.breakpointsBase),f=t.getBreakpoint(o,c,d);if(!f||t.currentBreakpoint===f)return;const m=(f in o?o[f]:void 0)||t.originalParams,p=e7(t,s),g=e7(t,m),v=t.params.grabCursor,y=m.grabCursor,b=s.enabled;p&&!g?(i.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),t.emitContainerClasses()):!p&&g&&(i.classList.add(`${s.containerModifierClass}grid`),(m.grid.fill&&m.grid.fill==="column"||!m.grid.fill&&s.grid.fill==="column")&&i.classList.add(`${s.containerModifierClass}grid-column`),t.emitContainerClasses()),v&&!y?t.unsetGrabCursor():!v&&y&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(F=>{if(typeof m[F]>"u")return;const O=s[F]&&s[F].enabled,k=m[F]&&m[F].enabled;O&&!k&&t[F].disable(),!O&&k&&t[F].enable()});const j=m.direction&&m.direction!==s.direction,N=s.loop&&(m.slidesPerView!==s.slidesPerView||j),S=s.loop;j&&a&&t.changeDirection(),yc(t.params,m);const B=t.params.enabled,I=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),b&&!B?t.disable():!b&&B&&t.enable(),t.currentBreakpoint=f,t.emit("_beforeBreakpoint",m),a&&(N?(t.loopDestroy(),t.loopCreate(r),t.updateSlides()):!S&&I?(t.loopCreate(r),t.updateSlides()):S&&!I&&t.loopDestroy()),t.emit("breakpoint",m)}function nIe(t,r,a){if(r===void 0&&(r="window"),!t||r==="container"&&!a)return;let s=!1;const i=vl(),o=r==="window"?i.innerHeight:a.clientHeight,l=Object.keys(t).map(c=>{if(typeof c=="string"&&c.indexOf("@")===0){const d=parseFloat(c.substr(1));return{value:o*d,point:c}}return{value:c,point:c}});l.sort((c,d)=>parseInt(c.value,10)-parseInt(d.value,10));for(let c=0;c<l.length;c+=1){const{point:d,value:f}=l[c];r==="window"?i.matchMedia(`(min-width: ${f}px)`).matches&&(s=d):f<=a.clientWidth&&(s=d)}return s||"max"}var iIe={setBreakpoint:sIe,getBreakpoint:nIe};function oIe(t,r){const a=[];return t.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(i=>{s[i]&&a.push(r+i)}):typeof s=="string"&&a.push(r+s)}),a}function lIe(){const t=this,{classNames:r,params:a,rtl:s,el:i,device:o}=t,l=oIe(["initialized",a.direction,{"free-mode":t.params.freeMode&&a.freeMode.enabled},{autoheight:a.autoHeight},{rtl:s},{grid:a.grid&&a.grid.rows>1},{"grid-column":a.grid&&a.grid.rows>1&&a.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":a.cssMode},{centered:a.cssMode&&a.centeredSlides},{"watch-progress":a.watchSlidesProgress}],a.containerModifierClass);r.push(...l),i.classList.add(...r),t.emitContainerClasses()}function cIe(){const t=this,{el:r,classNames:a}=t;!r||typeof r=="string"||(r.classList.remove(...a),t.emitContainerClasses())}var dIe={addClasses:lIe,removeClasses:cIe};function uIe(){const t=this,{isLocked:r,params:a}=t,{slidesOffsetBefore:s}=a;if(s){const i=t.slides.length-1,o=t.slidesGrid[i]+t.slidesSizesGrid[i]+s*2;t.isLocked=t.size>o}else t.isLocked=t.snapGrid.length===1;a.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),a.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),r&&r!==t.isLocked&&(t.isEnd=!1),r!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var fIe={checkOverflow:uIe},aB={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function AIe(t,r){return function(s){s===void 0&&(s={});const i=Object.keys(s)[0],o=s[i];if(typeof o!="object"||o===null){yc(r,s);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in o)){yc(r,s);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),yc(r,s)}}const H5={eventsEmitter:dFe,update:bFe,translate:BFe,transition:IFe,slide:UFe,loop:$Fe,grabCursor:KFe,events:aIe,breakpoints:iIe,checkOverflow:fIe,classes:dIe},$5={};let UT=class wA{constructor(){let r,a;for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?a=i[0]:[r,a]=i,a||(a={}),a=yc({},a),r&&!a.el&&(a.el=r);const l=Nf();if(a.el&&typeof a.el=="string"&&l.querySelectorAll(a.el).length>1){const u=[];return l.querySelectorAll(a.el).forEach(m=>{const p=yc({},a,{el:m});u.push(new wA(p))}),u}const c=this;c.__swiper__=!0,c.support=rG(),c.device=aG({userAgent:a.userAgent}),c.browser=sG(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=[...c.__modules__],a.modules&&Array.isArray(a.modules)&&c.modules.push(...a.modules);const d={};c.modules.forEach(u=>{u({params:a,swiper:c,extendParams:AIe(a,d),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})});const f=yc({},aB,d);return c.params=yc({},f,$5,a),c.originalParams=yc({},c.params),c.passedParams=yc({},a),c.params&&c.params.on&&Object.keys(c.params.on).forEach(u=>{c.on(u,c.params.on[u])}),c.params&&c.params.onAny&&c.onAny(c.params.onAny),Object.assign(c,{enabled:c.params.enabled,el:r,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return c.params.direction==="horizontal"},isVertical(){return c.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}getDirectionLabel(r){return this.isHorizontal()?r:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[r]}getSlideIndex(r){const{slidesEl:a,params:s}=this,i=xf(a,`.${s.slideClass}, swiper-slide`),o=_w(i[0]);return _w(r)-o}getSlideIndexByData(r){return this.getSlideIndex(this.slides.find(a=>a.getAttribute("data-swiper-slide-index")*1===r))}getSlideIndexWhenGrid(r){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?r=Math.floor(r/this.params.grid.rows):this.params.grid.fill==="row"&&(r=r%Math.ceil(this.slides.length/this.params.grid.rows))),r}recalcSlides(){const r=this,{slidesEl:a,params:s}=r;r.slides=xf(a,`.${s.slideClass}, swiper-slide`)}enable(){const r=this;r.enabled||(r.enabled=!0,r.params.grabCursor&&r.setGrabCursor(),r.emit("enable"))}disable(){const r=this;r.enabled&&(r.enabled=!1,r.params.grabCursor&&r.unsetGrabCursor(),r.emit("disable"))}setProgress(r,a){const s=this;r=Math.min(Math.max(r,0),1);const i=s.minTranslate(),l=(s.maxTranslate()-i)*r+i;s.translateTo(l,typeof a>"u"?0:a),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const r=this;if(!r.params._emitClasses||!r.el)return;const a=r.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(r.params.containerModifierClass)===0);r.emit("_containerClasses",a.join(" "))}getSlideClasses(r){const a=this;return a.destroyed?"":r.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(a.params.slideClass)===0).join(" ")}emitSlidesClasses(){const r=this;if(!r.params._emitClasses||!r.el)return;const a=[];r.slides.forEach(s=>{const i=r.getSlideClasses(s);a.push({slideEl:s,classNames:i}),r.emit("_slideClass",s,i)}),r.emit("_slideClasses",a)}slidesPerViewDynamic(r,a){r===void 0&&(r="current"),a===void 0&&(a=!1);const s=this,{params:i,slides:o,slidesGrid:l,slidesSizesGrid:c,size:d,activeIndex:f}=s;let u=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let m=o[f]?Math.ceil(o[f].swiperSlideSize):0,p;for(let g=f+1;g<o.length;g+=1)o[g]&&!p&&(m+=Math.ceil(o[g].swiperSlideSize),u+=1,m>d&&(p=!0));for(let g=f-1;g>=0;g-=1)o[g]&&!p&&(m+=o[g].swiperSlideSize,u+=1,m>d&&(p=!0))}else if(r==="current")for(let m=f+1;m<o.length;m+=1)(a?l[m]+c[m]-l[f]<d:l[m]-l[f]<d)&&(u+=1);else for(let m=f-1;m>=0;m-=1)l[f]-l[m]<d&&(u+=1);return u}update(){const r=this;if(!r||r.destroyed)return;const{snapGrid:a,params:s}=r;s.breakpoints&&r.setBreakpoint(),[...r.el.querySelectorAll('[loading="lazy"]')].forEach(l=>{l.complete&&c2(r,l)}),r.updateSize(),r.updateSlides(),r.updateProgress(),r.updateSlidesClasses();function i(){const l=r.rtlTranslate?r.translate*-1:r.translate,c=Math.min(Math.max(l,r.maxTranslate()),r.minTranslate());r.setTranslate(c),r.updateActiveIndex(),r.updateSlidesClasses()}let o;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)i(),s.autoHeight&&r.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&r.isEnd&&!s.centeredSlides){const l=r.virtual&&s.virtual.enabled?r.virtual.slides:r.slides;o=r.slideTo(l.length-1,0,!1,!0)}else o=r.slideTo(r.activeIndex,0,!1,!0);o||i()}s.watchOverflow&&a!==r.snapGrid&&r.checkOverflow(),r.emit("update")}changeDirection(r,a){a===void 0&&(a=!0);const s=this,i=s.params.direction;return r||(r=i==="horizontal"?"vertical":"horizontal"),r===i||r!=="horizontal"&&r!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${i}`),s.el.classList.add(`${s.params.containerModifierClass}${r}`),s.emitContainerClasses(),s.params.direction=r,s.slides.forEach(o=>{r==="vertical"?o.style.width="":o.style.height=""}),s.emit("changeDirection"),a&&s.update()),s}changeLanguageDirection(r){const a=this;a.rtl&&r==="rtl"||!a.rtl&&r==="ltr"||(a.rtl=r==="rtl",a.rtlTranslate=a.params.direction==="horizontal"&&a.rtl,a.rtl?(a.el.classList.add(`${a.params.containerModifierClass}rtl`),a.el.dir="rtl"):(a.el.classList.remove(`${a.params.containerModifierClass}rtl`),a.el.dir="ltr"),a.update())}mount(r){const a=this;if(a.mounted)return!0;let s=r||a.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=a,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===a.params.swiperElementNodeName.toUpperCase()&&(a.isElement=!0);const i=()=>`.${(a.params.wrapperClass||"").trim().split(" ").join(".")}`;let l=s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(i()):xf(s,i())[0];return!l&&a.params.createElements&&(l=kw("div",a.params.wrapperClass),s.append(l),xf(s,`.${a.params.slideClass}`).forEach(c=>{l.append(c)})),Object.assign(a,{el:s,wrapperEl:l,slidesEl:a.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:l,hostEl:a.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||am(s,"direction")==="rtl",rtlTranslate:a.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||am(s,"direction")==="rtl"),wrongRTL:am(l,"display")==="-webkit-box"}),!0}init(r){const a=this;if(a.initialized||a.mount(r)===!1)return a;a.emit("beforeInit"),a.params.breakpoints&&a.setBreakpoint(),a.addClasses(),a.updateSize(),a.updateSlides(),a.params.watchOverflow&&a.checkOverflow(),a.params.grabCursor&&a.enabled&&a.setGrabCursor(),a.params.loop&&a.virtual&&a.params.virtual.enabled?a.slideTo(a.params.initialSlide+a.virtual.slidesBefore,0,a.params.runCallbacksOnInit,!1,!0):a.slideTo(a.params.initialSlide,0,a.params.runCallbacksOnInit,!1,!0),a.params.loop&&a.loopCreate(void 0,!0),a.attachEvents();const i=[...a.el.querySelectorAll('[loading="lazy"]')];return a.isElement&&i.push(...a.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(o=>{o.complete?c2(a,o):o.addEventListener("load",l=>{c2(a,l.target)})}),rB(a),a.initialized=!0,rB(a),a.emit("init"),a.emit("afterInit"),a}destroy(r,a){r===void 0&&(r=!0),a===void 0&&(a=!0);const s=this,{params:i,el:o,wrapperEl:l,slides:c}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),i.loop&&s.loopDestroy(),a&&(s.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),l&&l.removeAttribute("style"),c&&c.length&&c.forEach(d=>{d.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),d.removeAttribute("style"),d.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(d=>{s.off(d)}),r!==!1&&(s.el&&typeof s.el!="string"&&(s.el.swiper=null),XTe(s)),s.destroyed=!0),null}static extendDefaults(r){yc($5,r)}static get extendedDefaults(){return $5}static get defaults(){return aB}static installModule(r){wA.prototype.__modules__||(wA.prototype.__modules__=[]);const a=wA.prototype.__modules__;typeof r=="function"&&a.indexOf(r)<0&&a.push(r)}static use(r){return Array.isArray(r)?(r.forEach(a=>wA.installModule(a)),wA):(wA.installModule(r),wA)}};Object.keys(H5).forEach(t=>{Object.keys(H5[t]).forEach(r=>{UT.prototype[r]=H5[t][r]})});UT.use([lFe,cFe]);const oG=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function sp(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Ig(t,r){const a=["__proto__","constructor","prototype"];Object.keys(r).filter(s=>a.indexOf(s)<0).forEach(s=>{typeof t[s]>"u"?t[s]=r[s]:sp(r[s])&&sp(t[s])&&Object.keys(r[s]).length>0?r[s].__swiper__?t[s]=r[s]:Ig(t[s],r[s]):t[s]=r[s]})}function lG(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function cG(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function dG(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function uG(t){t===void 0&&(t="");const r=t.split(" ").map(s=>s.trim()).filter(s=>!!s),a=[];return r.forEach(s=>{a.indexOf(s)<0&&a.push(s)}),a.join(" ")}function hIe(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function mIe(t){let{swiper:r,slides:a,passedParams:s,changedParams:i,nextEl:o,prevEl:l,scrollbarEl:c,paginationEl:d}=t;const f=i.filter(V=>V!=="children"&&V!=="direction"&&V!=="wrapperClass"),{params:u,pagination:m,navigation:p,scrollbar:g,virtual:v,thumbs:y}=r;let b,j,N,S,B,I,F,O;i.includes("thumbs")&&s.thumbs&&s.thumbs.swiper&&!s.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(b=!0),i.includes("controller")&&s.controller&&s.controller.control&&u.controller&&!u.controller.control&&(j=!0),i.includes("pagination")&&s.pagination&&(s.pagination.el||d)&&(u.pagination||u.pagination===!1)&&m&&!m.el&&(N=!0),i.includes("scrollbar")&&s.scrollbar&&(s.scrollbar.el||c)&&(u.scrollbar||u.scrollbar===!1)&&g&&!g.el&&(S=!0),i.includes("navigation")&&s.navigation&&(s.navigation.prevEl||l)&&(s.navigation.nextEl||o)&&(u.navigation||u.navigation===!1)&&p&&!p.prevEl&&!p.nextEl&&(B=!0);const k=V=>{r[V]&&(r[V].destroy(),V==="navigation"?(r.isElement&&(r[V].prevEl.remove(),r[V].nextEl.remove()),u[V].prevEl=void 0,u[V].nextEl=void 0,r[V].prevEl=void 0,r[V].nextEl=void 0):(r.isElement&&r[V].el.remove(),u[V].el=void 0,r[V].el=void 0))};i.includes("loop")&&r.isElement&&(u.loop&&!s.loop?I=!0:!u.loop&&s.loop?F=!0:O=!0),f.forEach(V=>{if(sp(u[V])&&sp(s[V]))Object.assign(u[V],s[V]),(V==="navigation"||V==="pagination"||V==="scrollbar")&&"enabled"in s[V]&&!s[V].enabled&&k(V);else{const Q=s[V];(Q===!0||Q===!1)&&(V==="navigation"||V==="pagination"||V==="scrollbar")?Q===!1&&k(V):u[V]=s[V]}}),f.includes("controller")&&!j&&r.controller&&r.controller.control&&u.controller&&u.controller.control&&(r.controller.control=u.controller.control),i.includes("children")&&a&&v&&u.virtual.enabled?(v.slides=a,v.update(!0)):i.includes("virtual")&&v&&u.virtual.enabled&&(a&&(v.slides=a),v.update(!0)),i.includes("children")&&a&&u.loop&&(O=!0),b&&y.init()&&y.update(!0),j&&(r.controller.control=u.controller.control),N&&(r.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-pagination"),d.part.add("pagination"),r.el.appendChild(d)),d&&(u.pagination.el=d),m.init(),m.render(),m.update()),S&&(r.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-scrollbar"),c.part.add("scrollbar"),r.el.appendChild(c)),c&&(u.scrollbar.el=c),g.init(),g.updateSize(),g.setTranslate()),B&&(r.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),Pw(o,r.hostEl.constructor.nextButtonSvg),o.part.add("button-next"),r.el.appendChild(o)),(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-button-prev"),Pw(l,r.hostEl.constructor.prevButtonSvg),l.part.add("button-prev"),r.el.appendChild(l))),o&&(u.navigation.nextEl=o),l&&(u.navigation.prevEl=l),p.init(),p.update()),i.includes("allowSlideNext")&&(r.allowSlideNext=s.allowSlideNext),i.includes("allowSlidePrev")&&(r.allowSlidePrev=s.allowSlidePrev),i.includes("direction")&&r.changeDirection(s.direction,!1),(I||O)&&r.loopDestroy(),(F||O)&&r.loopCreate(),r.update()}function pIe(t,r){t===void 0&&(t={}),r===void 0&&(r=!0);const a={on:{}},s={},i={};Ig(a,aB),a._emitClasses=!0,a.init=!1;const o={},l=oG.map(d=>d.replace(/_/,"")),c=Object.assign({},t);return Object.keys(c).forEach(d=>{typeof t[d]>"u"||(l.indexOf(d)>=0?sp(t[d])?(a[d]={},i[d]={},Ig(a[d],t[d]),Ig(i[d],t[d])):(a[d]=t[d],i[d]=t[d]):d.search(/on[A-Z]/)===0&&typeof t[d]=="function"?r?s[`${d[2].toLowerCase()}${d.substr(3)}`]=t[d]:a.on[`${d[2].toLowerCase()}${d.substr(3)}`]=t[d]:o[d]=t[d])}),["navigation","pagination","scrollbar"].forEach(d=>{a[d]===!0&&(a[d]={}),a[d]===!1&&delete a[d]}),{params:a,passedParams:i,rest:o,events:s}}function gIe(t,r){let{el:a,nextEl:s,prevEl:i,paginationEl:o,scrollbarEl:l,swiper:c}=t;lG(r)&&s&&i&&(c.params.navigation.nextEl=s,c.originalParams.navigation.nextEl=s,c.params.navigation.prevEl=i,c.originalParams.navigation.prevEl=i),cG(r)&&o&&(c.params.pagination.el=o,c.originalParams.pagination.el=o),dG(r)&&l&&(c.params.scrollbar.el=l,c.originalParams.scrollbar.el=l),c.init(a)}function xIe(t,r,a,s,i){const o=[];if(!r)return o;const l=d=>{o.indexOf(d)<0&&o.push(d)};if(a&&s){const d=s.map(i),f=a.map(i);d.join("")!==f.join("")&&l("children"),s.length!==a.length&&l("children")}return oG.filter(d=>d[0]==="_").map(d=>d.replace(/_/,"")).forEach(d=>{if(d in t&&d in r)if(sp(t[d])&&sp(r[d])){const f=Object.keys(t[d]),u=Object.keys(r[d]);f.length!==u.length?l(d):(f.forEach(m=>{t[d][m]!==r[d][m]&&l(d)}),u.forEach(m=>{t[d][m]!==r[d][m]&&l(d)}))}else t[d]!==r[d]&&l(d)}),o}const yIe=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Ow(){return Ow=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},Ow.apply(this,arguments)}function fG(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function AG(t){const r=[];return $r.Children.toArray(t).forEach(a=>{fG(a)?r.push(a):a.props&&a.props.children&&AG(a.props.children).forEach(s=>r.push(s))}),r}function vIe(t){const r=[],a={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return $r.Children.toArray(t).forEach(s=>{if(fG(s))r.push(s);else if(s.props&&s.props.slot&&a[s.props.slot])a[s.props.slot].push(s);else if(s.props&&s.props.children){const i=AG(s.props.children);i.length>0?i.forEach(o=>r.push(o)):a["container-end"].push(s)}else a["container-end"].push(s)}),{slides:r,slots:a}}function bIe(t,r,a){if(!a)return null;const s=u=>{let m=u;return u<0?m=r.length+u:m>=r.length&&(m=m-r.length),m},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${a.offset}px`}:{top:`${a.offset}px`},{from:o,to:l}=a,c=t.params.loop?-r.length:0,d=t.params.loop?r.length*2:r.length,f=[];for(let u=c;u<d;u+=1)u>=o&&u<=l&&f.push(r[s(u)]);return f.map((u,m)=>$r.cloneElement(u,{swiper:t,style:i,key:u.props.virtualIndex||u.key||`slide-${m}`}))}function ey(t,r){return typeof window>"u"?w.useEffect(t,r):w.useLayoutEffect(t,r)}const t7=w.createContext(null),wIe=w.createContext(null),hG=w.forwardRef(function(t,r){let{className:a,tag:s="div",wrapperTag:i="div",children:o,onSwiper:l,...c}=t===void 0?{}:t,d=!1;const[f,u]=w.useState("swiper"),[m,p]=w.useState(null),[g,v]=w.useState(!1),y=w.useRef(!1),b=w.useRef(null),j=w.useRef(null),N=w.useRef(null),S=w.useRef(null),B=w.useRef(null),I=w.useRef(null),F=w.useRef(null),O=w.useRef(null),{params:k,passedParams:V,rest:Q,events:H}=pIe(c),{slides:M,slots:K}=vIe(o),q=()=>{v(!g)};Object.assign(k.on,{_containerClasses(ue,se){u(se)}});const re=()=>{Object.assign(k.on,H),d=!0;const ue={...k};if(delete ue.wrapperClass,j.current=new UT(ue),j.current.virtual&&j.current.params.virtual.enabled){j.current.virtual.slides=M;const se={cache:!1,slides:M,renderExternal:p,renderExternalUpdate:!1};Ig(j.current.params.virtual,se),Ig(j.current.originalParams.virtual,se)}};b.current||re(),j.current&&j.current.on("_beforeBreakpoint",q);const ee=()=>{d||!H||!j.current||Object.keys(H).forEach(ue=>{j.current.on(ue,H[ue])})},le=()=>{!H||!j.current||Object.keys(H).forEach(ue=>{j.current.off(ue,H[ue])})};w.useEffect(()=>()=>{j.current&&j.current.off("_beforeBreakpoint",q)}),w.useEffect(()=>{!y.current&&j.current&&(j.current.emitSlidesClasses(),y.current=!0)}),ey(()=>{if(r&&(r.current=b.current),!!b.current)return j.current.destroyed&&re(),gIe({el:b.current,nextEl:B.current,prevEl:I.current,paginationEl:F.current,scrollbarEl:O.current,swiper:j.current},k),l&&!j.current.destroyed&&l(j.current),()=>{j.current&&!j.current.destroyed&&j.current.destroy(!0,!1)}},[]),ey(()=>{ee();const ue=xIe(V,N.current,M,S.current,se=>se.key);return N.current=V,S.current=M,ue.length&&j.current&&!j.current.destroyed&&mIe({swiper:j.current,slides:M,passedParams:V,changedParams:ue,nextEl:B.current,prevEl:I.current,scrollbarEl:O.current,paginationEl:F.current}),()=>{le()}}),ey(()=>{yIe(j.current)},[m]);function Ae(){return k.virtual?bIe(j.current,M,m):M.map((ue,se)=>$r.cloneElement(ue,{swiper:j.current,swiperSlideIndex:se}))}return $r.createElement(s,Ow({ref:b,className:uG(`${f}${a?` ${a}`:""}`)},Q),$r.createElement(wIe.Provider,{value:j.current},K["container-start"],$r.createElement(i,{className:hIe(k.wrapperClass)},K["wrapper-start"],Ae(),K["wrapper-end"]),lG(k)&&$r.createElement($r.Fragment,null,$r.createElement("div",{ref:I,className:"swiper-button-prev"}),$r.createElement("div",{ref:B,className:"swiper-button-next"})),dG(k)&&$r.createElement("div",{ref:O,className:"swiper-scrollbar"}),cG(k)&&$r.createElement("div",{ref:F,className:"swiper-pagination"}),K["container-end"]))});hG.displayName="Swiper";const mG=w.forwardRef(function(t,r){let{tag:a="div",children:s,className:i="",swiper:o,zoom:l,lazy:c,virtualIndex:d,swiperSlideIndex:f,...u}=t===void 0?{}:t;const m=w.useRef(null),[p,g]=w.useState("swiper-slide"),[v,y]=w.useState(!1);function b(B,I,F){I===m.current&&g(F)}ey(()=>{if(typeof f<"u"&&(m.current.swiperSlideIndex=f),r&&(r.current=m.current),!(!m.current||!o)){if(o.destroyed){p!=="swiper-slide"&&g("swiper-slide");return}return o.on("_slideClass",b),()=>{o&&o.off("_slideClass",b)}}}),ey(()=>{o&&m.current&&!o.destroyed&&g(o.getSlideClasses(m.current))},[o]);const j={isActive:p.indexOf("swiper-slide-active")>=0,isVisible:p.indexOf("swiper-slide-visible")>=0,isPrev:p.indexOf("swiper-slide-prev")>=0,isNext:p.indexOf("swiper-slide-next")>=0},N=()=>typeof s=="function"?s(j):s,S=()=>{y(!0)};return $r.createElement(a,Ow({ref:m,className:uG(`${p}${i?` ${i}`:""}`),"data-swiper-slide-index":d,onLoad:S},u),l&&$r.createElement(t7.Provider,{value:j},$r.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof l=="number"?l:void 0},N(),c&&!v&&$r.createElement("div",{className:"swiper-lazy-preloader"}))),!l&&$r.createElement(t7.Provider,{value:j},N(),c&&!v&&$r.createElement("div",{className:"swiper-lazy-preloader"})))});mG.displayName="SwiperSlide";function jIe(t,r,a,s){return t.params.createElements&&Object.keys(s).forEach(i=>{if(!a[i]&&a.auto===!0){let o=xf(t.el,`.${s[i]}`)[0];o||(o=kw("div",s[i]),o.className=s[i],t.el.append(o)),a[i]=o,r[i]=o}}),a}function v1(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function NIe(t){let{swiper:r,extendParams:a,on:s,emit:i}=t;const o="swiper-pagination";a({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:N=>N,formatFractionTotal:N=>N,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),r.pagination={el:null,bullets:[]};let l,c=0;function d(){return!r.params.pagination.el||!r.pagination.el||Array.isArray(r.pagination.el)&&r.pagination.el.length===0}function f(N,S){const{bulletActiveClass:B}=r.params.pagination;N&&(N=N[`${S==="prev"?"previous":"next"}ElementSibling`],N&&(N.classList.add(`${B}-${S}`),N=N[`${S==="prev"?"previous":"next"}ElementSibling`],N&&N.classList.add(`${B}-${S}-${S}`)))}function u(N,S,B){if(N=N%B,S=S%B,S===N+1)return"next";if(S===N-1)return"previous"}function m(N){const S=N.target.closest(v1(r.params.pagination.bulletClass));if(!S)return;N.preventDefault();const B=_w(S)*r.params.slidesPerGroup;if(r.params.loop){if(r.realIndex===B)return;const I=u(r.realIndex,B,r.slides.length);I==="next"?r.slideNext():I==="previous"?r.slidePrev():r.slideToLoop(B)}else r.slideTo(B)}function p(){const N=r.rtl,S=r.params.pagination;if(d())return;let B=r.pagination.el;B=bA(B);let I,F;const O=r.virtual&&r.params.virtual.enabled?r.virtual.slides.length:r.slides.length,k=r.params.loop?Math.ceil(O/r.params.slidesPerGroup):r.snapGrid.length;if(r.params.loop?(F=r.previousRealIndex||0,I=r.params.slidesPerGroup>1?Math.floor(r.realIndex/r.params.slidesPerGroup):r.realIndex):typeof r.snapIndex<"u"?(I=r.snapIndex,F=r.previousSnapIndex):(F=r.previousIndex||0,I=r.activeIndex||0),S.type==="bullets"&&r.pagination.bullets&&r.pagination.bullets.length>0){const V=r.pagination.bullets;let Q,H,M;if(S.dynamicBullets&&(l=tB(V[0],r.isHorizontal()?"width":"height"),B.forEach(K=>{K.style[r.isHorizontal()?"width":"height"]=`${l*(S.dynamicMainBullets+4)}px`}),S.dynamicMainBullets>1&&F!==void 0&&(c+=I-(F||0),c>S.dynamicMainBullets-1?c=S.dynamicMainBullets-1:c<0&&(c=0)),Q=Math.max(I-c,0),H=Q+(Math.min(V.length,S.dynamicMainBullets)-1),M=(H+Q)/2),V.forEach(K=>{const q=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(re=>`${S.bulletActiveClass}${re}`)].map(re=>typeof re=="string"&&re.includes(" ")?re.split(" "):re).flat();K.classList.remove(...q)}),B.length>1)V.forEach(K=>{const q=_w(K);q===I?K.classList.add(...S.bulletActiveClass.split(" ")):r.isElement&&K.setAttribute("part","bullet"),S.dynamicBullets&&(q>=Q&&q<=H&&K.classList.add(...`${S.bulletActiveClass}-main`.split(" ")),q===Q&&f(K,"prev"),q===H&&f(K,"next"))});else{const K=V[I];if(K&&K.classList.add(...S.bulletActiveClass.split(" ")),r.isElement&&V.forEach((q,re)=>{q.setAttribute("part",re===I?"bullet-active":"bullet")}),S.dynamicBullets){const q=V[Q],re=V[H];for(let ee=Q;ee<=H;ee+=1)V[ee]&&V[ee].classList.add(...`${S.bulletActiveClass}-main`.split(" "));f(q,"prev"),f(re,"next")}}if(S.dynamicBullets){const K=Math.min(V.length,S.dynamicMainBullets+4),q=(l*K-l)/2-M*l,re=N?"right":"left";V.forEach(ee=>{ee.style[r.isHorizontal()?re:"top"]=`${q}px`})}}B.forEach((V,Q)=>{if(S.type==="fraction"&&(V.querySelectorAll(v1(S.currentClass)).forEach(H=>{H.textContent=S.formatFractionCurrent(I+1)}),V.querySelectorAll(v1(S.totalClass)).forEach(H=>{H.textContent=S.formatFractionTotal(k)})),S.type==="progressbar"){let H;S.progressbarOpposite?H=r.isHorizontal()?"vertical":"horizontal":H=r.isHorizontal()?"horizontal":"vertical";const M=(I+1)/k;let K=1,q=1;H==="horizontal"?K=M:q=M,V.querySelectorAll(v1(S.progressbarFillClass)).forEach(re=>{re.style.transform=`translate3d(0,0,0) scaleX(${K}) scaleY(${q})`,re.style.transitionDuration=`${r.params.speed}ms`})}S.type==="custom"&&S.renderCustom?(Pw(V,S.renderCustom(r,I+1,k)),Q===0&&i("paginationRender",V)):(Q===0&&i("paginationRender",V),i("paginationUpdate",V)),r.params.watchOverflow&&r.enabled&&V.classList[r.isLocked?"add":"remove"](S.lockClass)})}function g(){const N=r.params.pagination;if(d())return;const S=r.virtual&&r.params.virtual.enabled?r.virtual.slides.length:r.grid&&r.params.grid.rows>1?r.slides.length/Math.ceil(r.params.grid.rows):r.slides.length;let B=r.pagination.el;B=bA(B);let I="";if(N.type==="bullets"){let F=r.params.loop?Math.ceil(S/r.params.slidesPerGroup):r.snapGrid.length;r.params.freeMode&&r.params.freeMode.enabled&&F>S&&(F=S);for(let O=0;O<F;O+=1)N.renderBullet?I+=N.renderBullet.call(r,O,N.bulletClass):I+=`<${N.bulletElement} ${r.isElement?'part="bullet"':""} class="${N.bulletClass}"></${N.bulletElement}>`}N.type==="fraction"&&(N.renderFraction?I=N.renderFraction.call(r,N.currentClass,N.totalClass):I=`<span class="${N.currentClass}"></span> / <span class="${N.totalClass}"></span>`),N.type==="progressbar"&&(N.renderProgressbar?I=N.renderProgressbar.call(r,N.progressbarFillClass):I=`<span class="${N.progressbarFillClass}"></span>`),r.pagination.bullets=[],B.forEach(F=>{N.type!=="custom"&&Pw(F,I||""),N.type==="bullets"&&r.pagination.bullets.push(...F.querySelectorAll(v1(N.bulletClass)))}),N.type!=="custom"&&i("paginationRender",B[0])}function v(){r.params.pagination=jIe(r,r.originalParams.pagination,r.params.pagination,{el:"swiper-pagination"});const N=r.params.pagination;if(!N.el)return;let S;typeof N.el=="string"&&r.isElement&&(S=r.el.querySelector(N.el)),!S&&typeof N.el=="string"&&(S=[...document.querySelectorAll(N.el)]),S||(S=N.el),!(!S||S.length===0)&&(r.params.uniqueNavElements&&typeof N.el=="string"&&Array.isArray(S)&&S.length>1&&(S=[...r.el.querySelectorAll(N.el)],S.length>1&&(S=S.find(B=>tG(B,".swiper")[0]===r.el))),Array.isArray(S)&&S.length===1&&(S=S[0]),Object.assign(r.pagination,{el:S}),S=bA(S),S.forEach(B=>{N.type==="bullets"&&N.clickable&&B.classList.add(...(N.clickableClass||"").split(" ")),B.classList.add(N.modifierClass+N.type),B.classList.add(r.isHorizontal()?N.horizontalClass:N.verticalClass),N.type==="bullets"&&N.dynamicBullets&&(B.classList.add(`${N.modifierClass}${N.type}-dynamic`),c=0,N.dynamicMainBullets<1&&(N.dynamicMainBullets=1)),N.type==="progressbar"&&N.progressbarOpposite&&B.classList.add(N.progressbarOppositeClass),N.clickable&&B.addEventListener("click",m),r.enabled||B.classList.add(N.lockClass)}))}function y(){const N=r.params.pagination;if(d())return;let S=r.pagination.el;S&&(S=bA(S),S.forEach(B=>{B.classList.remove(N.hiddenClass),B.classList.remove(N.modifierClass+N.type),B.classList.remove(r.isHorizontal()?N.horizontalClass:N.verticalClass),N.clickable&&(B.classList.remove(...(N.clickableClass||"").split(" ")),B.removeEventListener("click",m))})),r.pagination.bullets&&r.pagination.bullets.forEach(B=>B.classList.remove(...N.bulletActiveClass.split(" ")))}s("changeDirection",()=>{if(!r.pagination||!r.pagination.el)return;const N=r.params.pagination;let{el:S}=r.pagination;S=bA(S),S.forEach(B=>{B.classList.remove(N.horizontalClass,N.verticalClass),B.classList.add(r.isHorizontal()?N.horizontalClass:N.verticalClass)})}),s("init",()=>{r.params.pagination.enabled===!1?j():(v(),g(),p())}),s("activeIndexChange",()=>{typeof r.snapIndex>"u"&&p()}),s("snapIndexChange",()=>{p()}),s("snapGridLengthChange",()=>{g(),p()}),s("destroy",()=>{y()}),s("enable disable",()=>{let{el:N}=r.pagination;N&&(N=bA(N),N.forEach(S=>S.classList[r.enabled?"remove":"add"](r.params.pagination.lockClass)))}),s("lock unlock",()=>{p()}),s("click",(N,S)=>{const B=S.target,I=bA(r.pagination.el);if(r.params.pagination.el&&r.params.pagination.hideOnClick&&I&&I.length>0&&!B.classList.contains(r.params.pagination.bulletClass)){if(r.navigation&&(r.navigation.nextEl&&B===r.navigation.nextEl||r.navigation.prevEl&&B===r.navigation.prevEl))return;const F=I[0].classList.contains(r.params.pagination.hiddenClass);i(F===!0?"paginationShow":"paginationHide"),I.forEach(O=>O.classList.toggle(r.params.pagination.hiddenClass))}});const b=()=>{r.el.classList.remove(r.params.pagination.paginationDisabledClass);let{el:N}=r.pagination;N&&(N=bA(N),N.forEach(S=>S.classList.remove(r.params.pagination.paginationDisabledClass))),v(),g(),p()},j=()=>{r.el.classList.add(r.params.pagination.paginationDisabledClass);let{el:N}=r.pagination;N&&(N=bA(N),N.forEach(S=>S.classList.add(r.params.pagination.paginationDisabledClass))),y()};Object.assign(r.pagination,{enable:b,disable:j,render:g,update:p,init:v,destroy:y})}function SIe(t){let{swiper:r,extendParams:a,on:s,emit:i,params:o}=t;r.autoplay={running:!1,paused:!1,timeLeft:0},a({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let l,c,d=o&&o.autoplay?o.autoplay.delay:3e3,f=o&&o.autoplay?o.autoplay.delay:3e3,u,m=new Date().getTime(),p,g,v,y,b,j,N;function S(Ae){!r||r.destroyed||!r.wrapperEl||Ae.target===r.wrapperEl&&(r.wrapperEl.removeEventListener("transitionend",S),!(N||Ae.detail&&Ae.detail.bySwiperTouchMove)&&Q())}const B=()=>{if(r.destroyed||!r.autoplay.running)return;r.autoplay.paused?p=!0:p&&(f=u,p=!1);const Ae=r.autoplay.paused?u:m+f-new Date().getTime();r.autoplay.timeLeft=Ae,i("autoplayTimeLeft",Ae,Ae/d),c=requestAnimationFrame(()=>{B()})},I=()=>{let Ae;return r.virtual&&r.params.virtual.enabled?Ae=r.slides.find(se=>se.classList.contains("swiper-slide-active")):Ae=r.slides[r.activeIndex],Ae?parseInt(Ae.getAttribute("data-swiper-autoplay"),10):void 0},F=Ae=>{if(r.destroyed||!r.autoplay.running)return;cancelAnimationFrame(c),B();let ue=typeof Ae>"u"?r.params.autoplay.delay:Ae;d=r.params.autoplay.delay,f=r.params.autoplay.delay;const se=I();!Number.isNaN(se)&&se>0&&typeof Ae>"u"&&(ue=se,d=se,f=se),u=ue;const ve=r.params.speed,_=()=>{!r||r.destroyed||(r.params.autoplay.reverseDirection?!r.isBeginning||r.params.loop||r.params.rewind?(r.slidePrev(ve,!0,!0),i("autoplay")):r.params.autoplay.stopOnLastSlide||(r.slideTo(r.slides.length-1,ve,!0,!0),i("autoplay")):!r.isEnd||r.params.loop||r.params.rewind?(r.slideNext(ve,!0,!0),i("autoplay")):r.params.autoplay.stopOnLastSlide||(r.slideTo(0,ve,!0,!0),i("autoplay")),r.params.cssMode&&(m=new Date().getTime(),requestAnimationFrame(()=>{F()})))};return ue>0?(clearTimeout(l),l=setTimeout(()=>{_()},ue)):requestAnimationFrame(()=>{_()}),ue},O=()=>{m=new Date().getTime(),r.autoplay.running=!0,F(),i("autoplayStart")},k=()=>{r.autoplay.running=!1,clearTimeout(l),cancelAnimationFrame(c),i("autoplayStop")},V=(Ae,ue)=>{if(r.destroyed||!r.autoplay.running)return;clearTimeout(l),Ae||(j=!0);const se=()=>{i("autoplayPause"),r.params.autoplay.waitForTransition?r.wrapperEl.addEventListener("transitionend",S):Q()};if(r.autoplay.paused=!0,ue){b&&(u=r.params.autoplay.delay),b=!1,se();return}u=(u||r.params.autoplay.delay)-(new Date().getTime()-m),!(r.isEnd&&u<0&&!r.params.loop)&&(u<0&&(u=0),se())},Q=()=>{r.isEnd&&u<0&&!r.params.loop||r.destroyed||!r.autoplay.running||(m=new Date().getTime(),j?(j=!1,F(u)):F(),r.autoplay.paused=!1,i("autoplayResume"))},H=()=>{if(r.destroyed||!r.autoplay.running)return;const Ae=Nf();Ae.visibilityState==="hidden"&&(j=!0,V(!0)),Ae.visibilityState==="visible"&&Q()},M=Ae=>{Ae.pointerType==="mouse"&&(j=!0,N=!0,!(r.animating||r.autoplay.paused)&&V(!0))},K=Ae=>{Ae.pointerType==="mouse"&&(N=!1,r.autoplay.paused&&Q())},q=()=>{r.params.autoplay.pauseOnMouseEnter&&(r.el.addEventListener("pointerenter",M),r.el.addEventListener("pointerleave",K))},re=()=>{r.el&&typeof r.el!="string"&&(r.el.removeEventListener("pointerenter",M),r.el.removeEventListener("pointerleave",K))},ee=()=>{Nf().addEventListener("visibilitychange",H)},le=()=>{Nf().removeEventListener("visibilitychange",H)};s("init",()=>{r.params.autoplay.enabled&&(q(),ee(),O())}),s("destroy",()=>{re(),le(),r.autoplay.running&&k()}),s("_freeModeStaticRelease",()=>{(v||j)&&Q()}),s("_freeModeNoMomentumRelease",()=>{r.params.autoplay.disableOnInteraction?k():V(!0,!0)}),s("beforeTransitionStart",(Ae,ue,se)=>{r.destroyed||!r.autoplay.running||(se||!r.params.autoplay.disableOnInteraction?V(!0,!0):k())}),s("sliderFirstMove",()=>{if(!(r.destroyed||!r.autoplay.running)){if(r.params.autoplay.disableOnInteraction){k();return}g=!0,v=!1,j=!1,y=setTimeout(()=>{j=!0,v=!0,V(!0)},200)}}),s("touchEnd",()=>{if(!(r.destroyed||!r.autoplay.running||!g)){if(clearTimeout(y),clearTimeout(l),r.params.autoplay.disableOnInteraction){v=!1,g=!1;return}v&&r.params.cssMode&&Q(),v=!1,g=!1}}),s("slideChange",()=>{r.destroyed||!r.autoplay.running||(b=!0)}),Object.assign(r.autoplay,{start:O,stop:k,pause:V,resume:Q})}const CIe=()=>{const t=[{quote:"Vidyaastra has transformed the way our school operates. Its simple, efficient, and keeps parents, teachers, and management connected seamlessly.",author:"E Krishnappa - Chairman",school:"SM English Medium High School - Bangalore"},{quote:"A user-friendly solution that saves time, improves communication, and ensures smooth school management.",author:"Principal",school:"Sanskruthi School - Bangalore"},{quote:"Simple, reliable, and effective  Vidyaastra has become an integral part of our schools success.",author:"Principal",school:"MES Kishore Kendra- Bangalore"},{quote:"With Vidyaastra, we have better control, happier parents, and efficient teachers  truly a complete school app.",author:"Principal",school:"Sujana Convent Bangalore."}];return n.jsxs("section",{className:"bg-gray-100 py-14 px-4 font-sans overflow-hidden",children:[n.jsxs("div",{className:"text-center mb-10",children:[n.jsxs(Hr.h1,{className:"text-3xl sm:text-4xl lg:text-4xl font-bold text-gray-900 mb-3 tracking-tight",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-orange-500 to-orange-700",children:"What Schools Say"})," ","About Us"]}),n.jsx(Hr.p,{className:"text-base sm:text-lg text-gray-500 max-w-2xl mx-auto leading-relaxed",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:"Hear from educators who have transformed their operations with Vidyaastras intuitive platform."})]}),n.jsx("div",{className:"max-w-7xl mx-auto px-2",children:n.jsx(hG,{modules:[NIe,SIe],spaceBetween:20,slidesPerView:1,breakpoints:{640:{slidesPerView:2,spaceBetween:20},1024:{slidesPerView:4,spaceBetween:25}},pagination:{clickable:!0},autoplay:{delay:3500,disableOnInteraction:!1},loop:!0,className:"pb-8",children:t.map((r,a)=>n.jsx(mG,{children:n.jsxs(Hr.div,{className:"relative bg-white mb-3 rounded-2xl shadow-md p-4 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-lg cursor-pointer group flex flex-col h-56",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:a*.1},children:[n.jsx("div",{className:"text-orange-500 mb-2",children:n.jsx(ls,{icon:LTe,className:"w-5 h-5 opacity-70 group-hover:opacity-100 transition-opacity","aria-hidden":"true"})}),n.jsxs("blockquote",{className:"text-gray-600 text-sm sm:text-base leading-relaxed mb-3 flex-grow",children:["",r.quote,""]}),n.jsxs("div",{className:"mt-auto",children:[n.jsx("div",{className:"text-gray-900 font-semibold text-sm",children:r.author}),n.jsx("div",{className:"text-gray-500 text-xs",children:r.school})]})]})},a))})}),n.jsx("style",{children:`
          .swiper-pagination-bullet {
            background-color: #cbd5e1;
            opacity: 1;
            width: 8px;
            height: 8px;
            transition: all 0.3s ease;
          }
          .swiper-pagination-bullet-active {
            background-color: #f97316;
            width: 12px;
            height: 12px;
          }
        `})]})},BIe=()=>{Ff();const[t,r]=w.useState(!1),a=[pTe,gTe],[s,i]=w.useState(0);w.useEffect(()=>{const l=setTimeout(()=>{r(!0)},2e3);return()=>clearTimeout(l)},[]),w.useEffect(()=>{const l=setInterval(()=>{i(c=>(c+1)%a.length)},3e3);return()=>clearInterval(l)},[a.length]);const o=()=>{window.open("https://wa.me/8123486068","_blank")};return n.jsxs("div",{className:"min-h-screen font-sans overflow-x-hidden relative",children:[n.jsxs("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-50 via-purple-50 to-orange-50 opacity-90"}),n.jsx("div",{className:"absolute top-0 left-0 w-full h-full",children:[...Array(15)].map((l,c)=>n.jsx(Hr.div,{className:"absolute rounded-full opacity-20",style:{background:"linear-gradient(135deg, #4f46e5, #ea580c)",width:Math.floor(Math.random()*200)+50+"px",height:Math.floor(Math.random()*200)+50+"px",top:Math.floor(Math.random()*100)+"%",left:Math.floor(Math.random()*100)+"%"},animate:{y:[0,Math.floor(Math.random()*40)-20,0],x:[0,Math.floor(Math.random()*40)-20,0],scale:[1,1.1,1]},transition:{duration:Math.floor(Math.random()*10)+10,repeat:1/0,ease:"easeInOut"}},c))})]}),n.jsx("style",{children:`
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slideInLeft {
          from { opacity: 0; transform: translateX(-30px); }
          to { opacity: 1; transform: translateX(0); }
        }
        @keyframes slideInRight {
          from { opacity: 0; transform: translateX(30px); }
          to { opacity: 1; transform: translateX(0); }
        }
        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-8px); }
        }
        @keyframes pulse-glow {
          0% { box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); }
          50% { box-shadow: 0 8px 24px rgba(234, 88, 12, 0.3); }
          100% { box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); }
        }
        .animate-fadeInUp { animation: fadeInUp 0.8s ease-out forwards; }
        .animate-slideInLeft { animation: slideInLeft 0.8s ease-out forwards; }
        .animate-slideInRight { animation: slideInRight 0.8s ease-out forwards; }
        .animate-float { animation: float 4s ease-in-out infinite; }
        .hover-glow:hover { animation: pulse-glow 2s infinite; }
        .card-hover {
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .card-hover:hover {
          transform: translateY(-4px);
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
        }
        .mobile-device {
          max-width: 300px;
          height: 400px;
          background: linear-gradient(145deg, #15024B, #0b0125);
          border-radius: 24px;
          padding: 6px;
          box-shadow: 0 12px 32px rgba(0, 0, 0, 0.25);
          position: relative;
        }
        @media (min-width: 768px) {
          .mobile-device {
            max-width: 140px;
            width: 35vw;
            min-width: 100px;
            height: 280px;
          }
        }
        .mobile-device::before {
          content: '';
          position: absolute;
          top: 12px;
          left: 50%;
          transform: translateX(-50%);
          width: 40px;
          height: 3px;
          background: #4a5568;
          border-radius: 2px;
        }
        .device-screen {
          width: 100%;
          height: 100%;
          border-radius: 20px;
          overflow: hidden;
          background: white;
        }
        .screen-image {
          width: 100%;
          height: 100%;
          object-fit: cover;
          border-radius: 20px;
        }
        .whatsapp-icon {
          position: fixed;
          bottom: 20px;
          right: 20px;
          width: 60px;
          height: 60px;
          background: linear-gradient(135deg, #25D366, #128C7E);
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
          cursor: pointer;
          z-index: 1000;
          animation: floatAndPulse 3s ease-in-out infinite;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .whatsapp-icon::before {
          content: '';
          position: absolute;
          width: 100%;
          height: 100%;
          border-radius: 50%;
          background: rgba(37, 211, 102, 0.3);
          animation: ripple 2s infinite;
          z-index: -1;
        }

        .whatsapp-icon:hover {
          transform: scale(1.15);
          box-shadow: 0 8px 30px rgba(37, 211, 102, 0.6);
        }

        @keyframes floatAndPulse {
          0%, 100% {
            transform: translateY(0px);
            box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
          }
          25% {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(37, 211, 102, 0.5);
          }
          50% {
            transform: translateY(-8px);
            box-shadow: 0 12px 30px rgba(37, 211, 102, 0.6);
          }
          75% {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(37, 211, 102, 0.5);
          }
        }

        @keyframes ripple {
          0% {
            transform: scale(1);
            opacity: 0.8;
          }
          100% {
            transform: scale(1.8);
            opacity: 0;
          }
        }
        
        /* Smaller Realistic Laptop Frame */
        .laptop-container {
          width: 80%;
          max-width: 400px; /* Reduced max-width for smaller laptop */
          margin: 2rem auto;
          perspective: 800px;
        }
        
        .laptop-wrapper {
          width: 80%;
          aspect-ratio: 16/11; /* Adjusted for slightly taller appearance */
          position: relative;
          transform-style: preserve-3d;
          transform: rotateX(6deg);
        }
        
        .laptop-top {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 80%; /* Screen takes 80% of laptop height */
          background: linear-gradient(145deg, #2d2d2d, #1a1a1a);
          border-radius: 16px 16px 0 0;
          padding: 12px 12px 8px;
          box-shadow: 0 15px 30px rgba(0,0,0,0.25);
          z-index: 2;
        }
        
        .laptop-screen {
          width: 100%;
          height: calc(100% - 20px); /* Adjusted for padding */
          background: #111;
          border-radius: 8px;
          padding: 10px;
          position: relative;
          overflow: hidden;
          box-shadow: inset 0 2px 8px rgba(0,0,0,0.4);
        }
        
        .laptop-screen::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 3px;
          background: linear-gradient(to right, #333, #555, #333);
          border-radius: 2px 2px 0 0;
          z-index: 3;
        }
        
        .laptop-bottom {
          position: absolute;
          bottom: 0;
          left: 0;
          right: 0;
          height: 20%; /* Base takes 20% of laptop height */
          background: linear-gradient(to top, #2d2d2d, #1a1a1a);
          border-radius: 0 0 16px 16px;
          box-shadow: 0 8px 20px rgba(0,0,0,0.25);
          z-index: 1;
        }
        
        .laptop-bottom::before {
          content: '';
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          width: 80px;
          height: 4px;
          background: linear-gradient(to right, #333, #555, #333);
          border-radius: 2px;
        }
        
        .dashboard-slider {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          border-radius: 6px;
          overflow: hidden;
          background: #000;
        }
        
        .dashboard-image {
          width: 100%;
          height: 100%;
          object-fit: contain;
          object-position: center;
          border-radius: 6px;
        }
        
        /* Keyboard area */
        .laptop-keyboard {
          position: absolute;
          top: 15%;
          left: 10%;
          right: 10%;
          height: 50%;
          background: linear-gradient(145deg, #1a1a1a, #111);
          border-radius: 6px;
          box-shadow: inset 0 2px 6px rgba(0,0,0,0.4);
        }
        
        .laptop-keyboard::before {
          content: '';
          position: absolute;
          top: 10%;
          left: 5%;
          right: 5%;
          height: 3px;
          background: linear-gradient(to right, #444, #666, #444);
          border-radius: 1.5px;
          box-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }
        
        .laptop-keyboard::after {
          content: '';
          position: absolute;
          bottom: 15%;
          left: 10%;
          right: 10%;
          height: 2px;
          background: #333;
          border-radius: 1px;
        }
        
        /* Shine effect on laptop */
        .laptop-top::after {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 30%;
          background: linear-gradient(to bottom, rgba(255,255,255,0.12), transparent);
          pointer-events: none;
          border-radius: 16px 16px 0 0;
        }
        
        /* Screen reflection effect */
        .screen-reflection {
          position: absolute;
          top: 0;
          right: 0;
          width: 30%;
          height: 100%;
          background: linear-gradient(135deg, rgba(255,255,255,0.06), transparent);
          pointer-events: none;
          z-index: 4;
          border-radius: 6px;
        }
        
        /* Camera notch */
        .camera-notch {
          position: absolute;
          top: 8px;
          left: 50%;
          transform: translateX(-50%);
          width: 40px;
          height: 6px;
          background: linear-gradient(to right, #333, #555, #333);
          border-radius: 3px;
          z-index: 5;
          box-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }
        
        .camera-notch::before {
          content: '';
          position: absolute;
          top: 50%;
          left: 10px;
          transform: translateY(-50%);
          width: 3px;
          height: 3px;
          background: #666;
          border-radius: 50%;
          box-shadow: 0 0 2px rgba(255,255,255,0.3);
        }
        
        .camera-notch::after {
          content: '';
          position: absolute;
          top: 50%;
          right: 10px;
          transform: translateY(-50%);
          width: 3px;
          height: 3px;
          background: #666;
          border-radius: 50%;
          box-shadow: 0 0 2px rgba(255,255,255,0.3);
        }
        
        /* Responsive adjustments */
        @media (max-width: 640px) {
          .laptop-container {
            max-width: 400px; /* Even smaller on mobile */
          }
          
          .laptop-wrapper {
            aspect-ratio: 4/3; /* Slightly wider on mobile */
          }
          
          .laptop-top {
            height: 75%;
            padding: 8px 8px 6px;
            border-radius: 12px 12px 0 0;
          }
          
          .laptop-bottom {
            height: 25%;
          }
          
          .laptop-screen {
            border-radius: 6px;
            padding: 6px;
          }
          
          .camera-notch {
            width: 30px;
            height: 5px;
          }
          
          .camera-notch::before,
          .camera-notch::after {
            width: 2.5px;
            height: 2.5px;
          }
        }
      `}),n.jsx("section",{className:"pt-10 pb-12 px-4 relative z-10",children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 items-center",children:[n.jsxs("div",{className:"space-y-4 order-1",children:[n.jsxs(Hr.h1,{className:"text-3xl sm:text-4xl font-bold text-gray-900",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[' "Smart, Simple'," ",n.jsx("span",{className:"text-orange-600",children:' & Complete"'})]}),n.jsx(Hr.h2,{className:"text-4xl lg:text-4xl font-bold text-gray-900",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:n.jsx("span",{className:"text-orange-600",children:"School Management System"})}),n.jsx(Hr.div,{className:"space-y-3 pt-7 text-gray-600 text-base lg:text-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:n.jsx("p",{children:"Digitize your school operations with Vidyaastra  A powerful, easy-to-use platform that connects schools, teachers, parents, and students in one app."})})]}),n.jsxs("div",{className:"flex flex-col items-center gap-6 lg:flex-row lg:justify-end order-2",children:[n.jsx(Hr.div,{className:"mobile-device",style:{zIndex:3},initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},whileHover:{y:-10},children:n.jsx("div",{className:"device-screen",children:n.jsx("img",{src:xTe,alt:"App Screenshot 1",className:"screen-image"})})}),n.jsx(Hr.div,{className:"mobile-device",style:{zIndex:2},initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},whileHover:{y:-10},children:n.jsx("div",{className:"device-screen",children:n.jsx("img",{src:yTe,alt:"App Screenshot 2",className:"screen-image"})})}),n.jsx(Hr.div,{className:"mobile-device",style:{zIndex:1},initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},whileHover:{y:-10},children:n.jsx("div",{className:"device-screen",children:n.jsx("img",{src:vTe,alt:"App Screenshot 3",className:"screen-image"})})})]})]})})}),n.jsx(GTe,{}),n.jsxs("section",{className:"py-16 px-4 bg-gradient-to-b from-white to-gray-100",children:[n.jsxs(Hr.h2,{className:"text-3xl sm:text-4xl font-bold text-gray-900 text-center mb-12",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[n.jsx("span",{className:"text-orange-600",children:"Discover"})," the Vidyaastra Dashboard"]}),n.jsx("div",{className:"flex justify-center",children:n.jsxs(Hr.div,{className:"laptop-wrapper",initial:{opacity:0,y:50,rotateY:-8},whileInView:{opacity:1,y:0,rotateY:0},viewport:{once:!0},transition:{duration:.8,delay:.2},whileHover:{rotateY:2,scale:1.03},children:[n.jsxs("div",{className:"laptop-top",children:[n.jsx("div",{className:"camera-notch"}),n.jsx("div",{className:"laptop-screen",children:n.jsxs("div",{className:"dashboard-slider",children:[n.jsx(Oy,{mode:"wait",children:n.jsx(Hr.img,{src:a[s],alt:"Vidyaastra Dashboard",className:"dashboard-image",initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.6,ease:"easeInOut"}},s)}),n.jsx("div",{className:"screen-reflection"})]})})]}),n.jsx("div",{className:"laptop-bottom"}),n.jsx("div",{className:"laptop-keyboard"})]})}),n.jsxs(Hr.div,{className:"mt-12 text-center max-w-3xl mx-auto",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.6},children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Intuitive & Powerful Dashboard"}),n.jsx("p",{className:"text-gray-600 font-medium text-base leading-relaxed",children:"The Vidyaastra Dashboard provides a comprehensive overview of your school's operations. Monitor key metrics, track student progress, manage schedules, and access real-time reportsall from a single, user-friendly interface designed to simplify your workflow."})]})]}),n.jsx(XK,{isOpen:t,setIsOpen:r}),n.jsx(WTe,{}),n.jsx(CIe,{}),n.jsx(Hr.div,{className:"whatsapp-icon",onClick:o,title:"Chat with us on WhatsApp",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1,duration:.5},whileHover:{scale:1.1},children:n.jsx(ls,{icon:hTe,className:"text-white w-8 h-8"})})]})},EIe=()=>n.jsxs("section",{className:"max-w-7xl mx-auto px-4 py-12 bg-gray-50 min-h-screen",children:[n.jsx("style",{children:`
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeInUp { animation: fadeInUp 0.8s ease-out forwards; }
        .why-card {
          transition: all 0.3s ease;
        }
        .why-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }
      `}),n.jsxs("div",{className:"text-center mb-12",children:[n.jsxs("h1",{className:"text-3xl sm:text-5xl font-extrabold text-gray-900 mb-6 animate-fadeInUp",children:[n.jsx("span",{className:"text-orange-600",children:"About"})," Us"]}),n.jsx(Hr.p,{className:"text-base sm:text-lg text-gray-500 max-w-3xl mx-auto leading-relaxed",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:"Vidyaastra is an advanced School Management App designed to simplify school administration, enhance teaching efficiency, and keep parents connected. Our goal is to make every school digital-first, time-efficient, and transparent."})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[n.jsxs("h2",{className:"text-2xl sm:text-3xl font-semibold text-center text-gray-900 mb-6 sm:mb-8 animate-fadeInUp",children:[n.jsx("span",{className:"text-orange-600",children:"Why Choose"})," Vidyaastra?"]}),n.jsxs("div",{className:"grid sm:grid-cols-3 gap-6",children:[n.jsxs(Hr.div,{className:"flex items-start space-x-3 bg-gray-50 p-4 rounded-lg why-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[n.jsx(ls,{icon:l2,className:"text-orange-600 w-6 h-6 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Save Time & Reduce Paperwork"}),n.jsx("p",{className:"text-gray-500 text-base",children:"Streamline administrative tasks and go paperless with our efficient tools."})]})]}),n.jsxs(Hr.div,{className:"flex items-start space-x-3 bg-gray-50 p-4 rounded-lg why-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[n.jsx(ls,{icon:l2,className:"text-orange-600 w-6 h-6 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Increase Parent Satisfaction"}),n.jsx("p",{className:"text-gray-500 text-base",children:"Keep parents engaged with real-time updates and seamless communication."})]})]}),n.jsxs(Hr.div,{className:"flex items-start space-x-3 bg-gray-50 p-4 rounded-lg why-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[n.jsx(ls,{icon:l2,className:"text-orange-600 w-6 h-6 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Affordable for All Schools"}),n.jsx("p",{className:"text-gray-500 text-base",children:"Cost-effective solutions tailored for schools of all sizes."})]})]})]})]})]}),Kb=()=>{const[t,r]=w.useState(!1),[a,s]=w.useState(!1),[i,o]=w.useState(!1),l=gd();w.useEffect(()=>{const d=()=>{r(window.scrollY>20)};return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]);const c={rest:{scale:1,color:"#4B5563"},hover:{scale:1.05,color:"#17024F",originX:0,transition:{duration:.2,ease:"easeInOut"}}};return n.jsxs(n.Fragment,{children:[n.jsxs(Hr.aside,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,ease:"easeOut",delay:.5},className:"fixed right-0 top-[40%] -translate-y-1/2 h-auto py-4 z-50 hidden md:flex flex-col items-end space-y-3 rounded-l-lg w-[60px] px-2",children:[n.jsx(Hr.div,{whileHover:{scale:1.1},transition:{type:"spring",stiffness:300},children:n.jsxs(Nn,{to:"/",className:`group flex bg-[#17024F] p-3 items-center rounded transition-all duration-200 ${l.pathname==="/"?"text-white":"text-gray-400 hover:text-white"}`,children:[n.jsx("span",{className:"whitespace-nowrap overflow-hidden opacity-0 max-w-0 transition-all duration-300 group-hover:opacity-100 group-hover:max-w-[150px]",children:"Home"}),n.jsx(N7,{className:"text-2xl transition-all duration-300 ml-2"})]})}),n.jsx(Hr.div,{whileHover:{scale:1.1},transition:{type:"spring",stiffness:300},children:n.jsxs(Nn,{to:"/features",className:`group flex bg-[#17024F] p-3 items-center rounded transition-all duration-200 ${l.pathname==="/features"?"text-white":"text-gray-400 hover:text-white"}`,children:[n.jsx("span",{className:"whitespace-nowrap overflow-hidden opacity-0 max-w-0 transition-all duration-300 group-hover:opacity-100 group-hover:max-w-[150px]",children:"Features"}),n.jsx(Xq,{className:"text-2xl transition-all duration-300 ml-2"})]})}),n.jsx(Hr.div,{whileHover:{scale:1.1},transition:{type:"spring",stiffness:300},children:n.jsxs(Nn,{to:"/about",className:`group flex bg-[#17024F] p-3 items-center rounded transition-all duration-200 ${l.pathname==="/about"?"text-white":"text-gray-400 hover:text-white"}`,children:[n.jsx("span",{className:"whitespace-nowrap overflow-hidden opacity-0 max-w-0 transition-all duration-300 group-hover:opacity-100 group-hover:max-w-[150px]",children:"About Us"}),n.jsx(Yq,{className:"text-2xl transition-all duration-300 ml-2"})]})}),n.jsx(Hr.div,{whileHover:{scale:1.1},transition:{type:"spring",stiffness:300},children:n.jsxs(Nn,{to:"/contact",className:`group flex bg-[#17024F] p-3 items-center rounded transition-all duration-200 ${l.pathname==="/contact"?"text-white":"text-gray-400 hover:text-white"}`,children:[n.jsx("span",{className:"whitespace-nowrap overflow-hidden opacity-0 max-w-0 transition-all duration-300 group-hover:opacity-100 group-hover:max-w-[150px]",children:"Contact"}),n.jsx(w7,{className:"text-2xl transition-all duration-300 ml-2"})]})})]}),n.jsxs(Hr.nav,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeOut"},className:`sticky top-0 w-full z-40 transition-all duration-500 ${t?"bg-white/95 backdrop-blur-md shadow-lg":"bg-white/90 shadow-sm"}`,children:[n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[n.jsx(Hr.div,{className:"flex items-center h-full cursor-pointer",whileHover:{scale:1.05},whileTap:{scale:.95},children:n.jsx(Nn,{to:"/",children:n.jsx("img",{src:Yg,alt:"Vidyaastra Logo",className:"h-16 w-auto"})})}),n.jsxs("div",{className:"hidden sm:flex items-center space-x-4",children:[n.jsx(Hr.div,{whileHover:{x:5,scale:1.05},transition:{type:"spring",stiffness:300},children:n.jsx(Nn,{to:"/login",className:`bg-orange-600 text-white px-6 py-3 rounded-full font-semibold shadow-md transition-all duration-300 hover:bg-orange-700 transform-gpu ${l.pathname==="/login"?"bg-orange-700":""}`,children:"School Admin Login"})}),n.jsx(Hr.div,{whileHover:{x:5,scale:1.05},transition:{type:"spring",stiffness:300},onClick:()=>o(!0),children:n.jsx(Nn,{className:"bg-[#19034C] text-white px-6 py-3 rounded-full font-semibold shadow-md transition-all duration-300 hover:bg-[#32264d] transform-gpu",children:"Enquiry"})})]}),n.jsx("div",{className:"sm:hidden",children:n.jsx("button",{onClick:()=>s(!a),className:"p-2 text-gray-800 focus:outline-none",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a?n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}):n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})})})]})}),n.jsx(Oy,{children:a&&n.jsx(Hr.div,{className:"sm:hidden bg-white/95 backdrop-blur-md shadow-md",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:n.jsxs("div",{className:"px-4 pt-2 pb-4 space-y-2",children:[n.jsx(Hr.div,{variants:c,initial:"rest",whileHover:"hover",children:n.jsx(Nn,{to:"/",className:`block py-2 text-gray-700 font-medium transition-colors duration-200 border-b border-gray-100 ${l.pathname==="/"?"text-[#17024F] font-bold":""}`,onClick:()=>s(!1),children:"Home"})}),n.jsx(Hr.div,{variants:c,initial:"rest",whileHover:"hover",children:n.jsx(Nn,{to:"/features",className:`block py-2 text-gray-700 font-medium transition-colors duration-200 border-b border-gray-100 ${l.pathname==="/features"?"text-[#17024F] font-bold":""}`,onClick:()=>s(!1),children:"Features"})}),n.jsx(Hr.div,{variants:c,initial:"rest",whileHover:"hover",children:n.jsx(Nn,{to:"/about",className:`block py-2 text-gray-700 font-medium transition-colors duration-200 border-b border-gray-100 ${l.pathname==="/about"?"text-[#17024F] font-bold":""}`,onClick:()=>s(!1),children:"About Us"})}),n.jsx(Hr.div,{variants:c,initial:"rest",whileHover:"hover",children:n.jsx(Nn,{to:"/contact",className:`block py-2 text-gray-700 font-medium transition-colors duration-200 ${l.pathname==="/contact"?"text-[#17024F] font-bold":""}`,onClick:()=>s(!1),children:"Contact"})}),n.jsxs("div",{className:"pt-4 flex justify-around",children:[n.jsx(Hr.div,{whileHover:{x:5,scale:1.05},transition:{type:"spring",stiffness:300},children:n.jsx(Nn,{to:"/login",className:`block text-center bg-orange-600 text-white px-6 py-3 rounded-full font-semibold shadow-md transition-all duration-300 hover:bg-orange-700 transform-gpu ${l.pathname==="/login"?"bg-orange-700":""}`,onClick:()=>s(!1),children:"School Admin Login"})}),n.jsx(Hr.div,{whileHover:{x:5,scale:1.05},transition:{type:"spring",stiffness:300},onClick:()=>o(!0),children:n.jsx(Nn,{className:"block text-center bg-[#19034C] text-white px-6 py-3 rounded-full font-semibold shadow-md transition-all duration-300 hover:bg-[#32264d] transform-gpu ",style:{width:"100%"},children:"Enquiry"})})]})]})})})]}),n.jsx(XK,{isOpen:i,setIsOpen:o})]})},TIe=()=>{const[t,r]=w.useState("list"),[a,s]=w.useState(null),[i,o]=w.useState(new Set),[l,c]=w.useState([]),[d,f]=w.useState([]),[u,m]=w.useState([]),[p,g]=w.useState(!0),[v,y]=w.useState(null),[b,j]=w.useState(""),[N,S]=w.useState("");w.useEffect(()=>{B()},[]);const B=async()=>{try{g(!0);const M=await fetch("https://vidyaastra.com/api/students/get",{method:"GET",headers:{"Content-Type":"application/json"}});if(!M.ok)throw new Error(`HTTP error! Status: ${M.status}`);const q=(await M.json()).map(le=>({id:le._id,name:le.name||"Unknown",class:I(le.class),rollNo:le.rollNumber||"N/A",studentId:le.studentId||"N/A",dateOfBirth:le.dob||null,gender:le.gender||"N/A",address:le.address||"N/A",phone:le.phone||"N/A",email:le.email||"N/A",fatherName:le.fatherName||"N/A",motherName:le.motherName||"N/A",parentPhone:le.parentPhone||"N/A",schoolId:le.schoolId?._id||"N/A",schoolName:le.schoolId?.name||"N/A",schoolCode:le.schoolCode||"N/A"})),re=[...new Set(q.map(le=>le.class))].map((le,Ae)=>({id:Ae+1,name:le,grade:le.split(/[AB]/)[0],section:le.match(/[AB]/)?.[0]||"A",classTeacher:`Teacher ${le}`,subject:"General",room:`Room ${le}`,capacity:40,academicYear:"2024-25"})),ee=[...new Map(q.filter(le=>le.schoolName&&le.schoolName!=="N/A").map(le=>[le.schoolId,{id:le.schoolId,name:le.schoolName}])).values()];c(q),f(re),m(ee),y(null)}catch(M){y(`Error fetching students: ${M.message}. Please check if the backend server is running.`)}finally{g(!1)}},I=M=>{if(!M)return"Unknown";const K=M.replace(/\s|-/g,"");return K.match(/[AB]$/)?K:`${K}A`},F=M=>{if(!N)return[];let K=l.filter(q=>q.schoolId===N);return M&&(K=K.filter(q=>q.class===M)),K},O=M=>{let K=F(M);return b&&(K=K.filter(q=>q.name.toLowerCase().includes(b.toLowerCase())||q.email.toLowerCase().includes(b.toLowerCase())||q.rollNo.toLowerCase().includes(b.toLowerCase())||q.studentId.toLowerCase().includes(b.toLowerCase())||q.fatherName.toLowerCase().includes(b.toLowerCase())||q.motherName.toLowerCase().includes(b.toLowerCase()))),K},k=()=>{j(""),S("")},V=(M=null)=>{if(!N){alert("Please select a school to export student data");return}let K=[],q="";if(M?(K=O(M),q=`class_${M}_students_${new Date().toISOString().split("T")[0]}.csv`):(K=l.filter(ve=>{const _=!b||ve.name.toLowerCase().includes(b.toLowerCase())||ve.email.toLowerCase().includes(b.toLowerCase())||ve.rollNo.toLowerCase().includes(b.toLowerCase())||ve.studentId.toLowerCase().includes(b.toLowerCase()),z=ve.schoolId===N;return _&&z}),q=`all_students_${new Date().toISOString().split("T")[0]}.csv`),K.length===0){alert("No data to export");return}const re=K.map(ve=>({"Student Name":ve.name,Class:ve.class,"Roll Number":ve.rollNo,"Student ID":ve.studentId,Gender:ve.gender,"Date of Birth":ve.dateOfBirth?new Date(ve.dateOfBirth).toLocaleDateString():"N/A",Email:ve.email||"N/A",Phone:ve.phone||"N/A",Address:ve.address||"N/A","Father's Name":ve.fatherName||"N/A","Mother's Name":ve.motherName||"N/A","Parent Phone":ve.parentPhone||"N/A","School Name":ve.schoolName||"N/A","School Code":ve.schoolCode||"N/A"})),ee=Object.keys(re[0]),le=[ee.join(","),...re.map(ve=>ee.map(_=>`"${ve[_]}"`).join(","))].join(`
`),Ae=new Blob([le],{type:"text/csv;charset=utf-8;"}),ue=document.createElement("a"),se=URL.createObjectURL(Ae);ue.setAttribute("href",se),ue.setAttribute("download",q),ue.style.visibility="hidden",document.body.appendChild(ue),ue.click(),document.body.removeChild(ue)},Q=M=>{const K=F(M),q=d.find(re=>re.name===M);return{total:K.length,capacity:q?.capacity||0,male:K.filter(re=>re.gender==="Male").length,female:K.filter(re=>re.gender==="Female").length}},H=M=>{const K=new Set(i);K.has(M)?K.delete(M):K.add(M),o(K)};if(v)return n.jsxs("div",{className:"p-6 bg-red-50 text-red-700 rounded-xl flex items-center shadow-sm",children:[n.jsx(cr,{className:"w-5 h-5 mr-2"}),v]});if(p)return n.jsx("div",{className:"p-6 text-center text-[#1C1444] font-medium",children:"Loading data..."});if(t==="list")return n.jsx("div",{className:"min-h-screen bg-white p-6 sm:p-8",children:n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[n.jsxs("div",{className:"mb-4 sm:mb-0",children:[n.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-[#1C1444] flex items-center",children:[n.jsx(Ja,{className:"w-7 h-7 mr-3 text-[#F37021]"}),"Student Management"]}),n.jsx("p",{className:"text-[#1C1444]/80 text-sm mt-2",children:"View classes and students"})]}),n.jsxs("button",{onClick:()=>V(),className:"bg-[#F37021] hover:bg-[#d55f1c] text-white px-4 py-2 rounded-lg shadow-md flex items-center space-x-2 transition-all duration-200",title:"Export All Students",children:[n.jsx(Us,{className:"w-5 h-5"}),n.jsx("span",{children:"Export All CSV"})]})]}),n.jsx("div",{className:"bg-[#1C1444]/5 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(Sa,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-[#1C1444]/60 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search all students...",value:b,onChange:M=>j(M.target.value),className:"w-full pl-12 pr-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("select",{value:N,onChange:M=>S(M.target.value),className:"w-48 px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",children:[n.jsx("option",{value:"",children:"Select a School"}),u.map(M=>n.jsx("option",{value:M.id,children:M.name},M.id))]}),n.jsxs("span",{className:"text-sm text-[#1C1444]/80",children:["Total Students: ",F().length]}),n.jsxs("button",{onClick:k,className:"flex items-center space-x-2 px-3 py-2 border border-[#1C1444]/20 rounded-lg hover:bg-[#1C1444]/10 text-[#1C1444] transition-all duration-200",children:[n.jsx(mo,{className:"w-5 h-5"}),n.jsx("span",{children:"Clear Filters"})]})]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[{icon:Ja,label:"Total Classes",value:N?d.length:0},{icon:da,label:"Total Students",value:F().length},{icon:Kn,label:"Schools",value:u.length},{icon:ia,label:"Academic Year",value:"2024-25"}].map((M,K)=>n.jsx("div",{className:"bg-[#1C1444]/5 rounded-lg p-4 shadow-sm",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-[#F37021]/10 rounded-lg",children:n.jsx(M.icon,{className:"w-5 h-5 text-[#F37021]"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-[#1C1444]/80",children:M.label}),n.jsx("p",{className:"text-xl font-bold text-[#1C1444]",children:M.value})]})]})},K))}),N?d.length===0?n.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[n.jsx(Ja,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),n.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:"No classes found"}),n.jsx("p",{className:"text-[#1C1444]/80",children:"No students are enrolled in this school."})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(M=>{const K=Q(M.name);return n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border border-[#1C1444]/10 hover:shadow-lg transition-all duration-300",children:[n.jsx("div",{className:"flex justify-between items-center mb-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-[#F37021]/10 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-[#F37021] font-bold text-lg",children:M.name})}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-bold text-[#1C1444]",children:["Class ",M.name]}),n.jsxs("p",{className:"text-sm text-[#1C1444]/80",children:["Grade ",M.grade," - Section ",M.section]})]})]})}),n.jsxs("div",{className:"space-y-3 mb-4",children:[n.jsxs("div",{className:"flex justify-between text-sm text-[#1C1444]",children:[n.jsx("span",{children:"Class Teacher:"}),n.jsx("span",{className:"font-medium",children:M.classTeacher})]}),n.jsxs("div",{className:"flex justify-between text-sm text-[#1C1444]",children:[n.jsx("span",{children:"Room:"}),n.jsx("span",{className:"font-medium",children:M.room})]}),n.jsxs("div",{className:"flex justify-between text-sm text-[#1C1444]",children:[n.jsx("span",{children:"Students:"}),n.jsxs("span",{className:"font-medium",children:[K.total,"/",M.capacity]})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>{s(M),r("detail")},className:"flex-1 bg-[#F37021] hover:bg-[#d55f1c] text-white py-2 rounded-lg flex items-center justify-center space-x-2 transition-all duration-200",children:[n.jsx(da,{className:"w-5 h-5"}),n.jsx("span",{children:"View Details"})]}),n.jsx("button",{onClick:()=>V(M.name),className:"bg-[#F37021] hover:bg-[#d55f1c] text-white px-3 py-2 rounded-lg transition-all duration-200",title:"Export Class CSV",children:n.jsx(Us,{className:"w-5 h-5"})})]})]},M.id)})}):n.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[n.jsx(Ja,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),n.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:"No school selected"}),n.jsx("p",{className:"text-[#1C1444]/80",children:"Please select a school from the filter to view classes and students."})]})]})});if(t==="detail"){if(!a)return n.jsxs("div",{className:`p-6 bg-red-50 text-red-7\r
00 rounded-xl flex items-center shadow-sm`,children:[n.jsx(cr,{className:"w-5 h-5 mr-2"}),"Error: No class selected. Please go back and select a class."]});const M=O(a.name),K=Q(a.name);return n.jsxs("div",{className:"min-h-screen bg-white p-6 sm:p-8",children:[n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-4 sm:mb-0",children:[n.jsx("button",{onClick:()=>r("list"),className:"p-2 hover:bg-[#1C1444]/10 rounded-lg text-[#1C1444] transition-all duration-200",children:n.jsx(zw,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-[#1C1444] flex items-center",children:[n.jsx(Ja,{className:"w-7 h-7 mr-3 text-[#F37021]"}),"Class ",a.name]}),n.jsxs("p",{className:"text-[#1C1444]/80 text-sm mt-2",children:["Section ",a.section]})]})]}),n.jsxs("button",{onClick:()=>V(a.name),className:"bg-[#F37021] hover:bg-[#d55f1c] text-white px-4 py-2 rounded-lg shadow-md flex items-center space-x-2 transition-all duration-200",title:"Export Class CSV",children:[n.jsx(Us,{className:"w-5 h-5"}),n.jsx("span",{children:"Export CSV"})]})]}),n.jsx("div",{className:"bg-[#1C1444]/5 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(Sa,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-[#1C1444]/60 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search students in this class...",value:b,onChange:q=>j(q.target.value),className:"w-full pl-12 pr-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("select",{value:N,onChange:q=>S(q.target.value),className:"w-48 px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",children:[n.jsx("option",{value:"",children:"Select a School"}),u.map(q=>n.jsx("option",{value:q.id,children:q.name},q.id))]}),n.jsxs("span",{className:"text-sm text-[#1C1444]/80",children:["Showing ",M.length," of"," ",F(a.name).length," students"]}),n.jsxs("button",{onClick:k,className:"flex items-center space-x-2 px-3 py-2 border border-[#1C1444]/20 rounded-lg hover:bg-[#1C1444]/10 text-[#1C1444] transition-all duration-200",children:[n.jsx(mo,{className:"w-5 h-5"}),n.jsx("span",{children:"Clear Filters"})]})]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[{icon:da,label:"Total Students",value:K.total},{icon:Ts,label:"Male Students",value:K.male},{icon:Ts,label:"Female Students",value:K.female},{icon:Ja,label:"Capacity",value:a.capacity}].map((q,re)=>n.jsx("div",{className:"bg-[#1C1444]/5 rounded-lg p-4 shadow-sm",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-[#F37021]/10 rounded-lg",children:n.jsx(q.icon,{className:"w-5 h-5 text-[#F37021]"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-[#1C1444]/80",children:q.label}),n.jsx("p",{className:"text-xl font-bold text-[#1C1444]",children:q.value})]})]})},re))}),n.jsx("div",{className:"bg-[#1C1444]/5 rounded-lg p-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-[#1C1444]",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Class Teacher:"})," ",a.classTeacher]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Room:"})," ",a.room||"N/A"]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Academic Year:"})," ",a.academicYear||"2024-25"]})]})})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg",children:[n.jsx("div",{className:"p-6 border-b border-[#1C1444]/10",children:n.jsxs("h2",{className:"text-lg font-bold text-[#1C1444]",children:["Students in Class ",a.name]})}),N?n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-[#1C1444]/5",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"Expand"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"Student"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"Roll No"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"ID"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"School"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"Contact"}),n.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"Parent"})]})}),n.jsx("tbody",{className:"divide-y divide-[#1C1444]/10",children:M.map(q=>n.jsxs(n.Fragment,{children:[n.jsxs("tr",{className:"hover:bg-[#1C1444]/5 cursor-pointer transition-all duration-200",onClick:()=>H(q.id),children:[n.jsx("td",{className:"p-4",children:n.jsx("button",{onClick:re=>{re.stopPropagation(),H(q.id)},className:"text-[#F37021] hover:text-[#d55f1c] transition-all duration-200",children:i.has(q.id)?n.jsx(np,{className:"w-5 h-5"}):n.jsx(Ni,{className:"w-5 h-5"})})}),n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-[#F37021]/10 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-[#F37021] font-semibold",children:q.name.split(" ").map(re=>re[0]).join("")})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"font-medium text-[#1C1444]",children:q.name}),n.jsx("div",{className:"text-[#1C1444]/80 text-sm",children:q.email})]})]})}),n.jsx("td",{className:"p-4 text-[#1C1444]",children:q.rollNo}),n.jsx("td",{className:"p-4",children:q.studentId&&q.studentId!=="N/A"&&n.jsx("span",{className:"px-2 py-1 bg-[#F37021]/10 text-[#F37021] rounded-full text-sm",children:q.studentId})}),n.jsx("td",{className:"p-4 text-[#1C1444]",children:q.schoolName}),n.jsx("td",{className:"p-4 text-[#1C1444]/80",children:q.phone}),n.jsxs("td",{className:"p-4",children:[n.jsx("div",{className:"text-[#1C1444]",children:q.fatherName}),n.jsx("div",{className:"text-[#1C1444]/80 text-sm",children:q.parentPhone})]})]},q.id),i.has(q.id)&&n.jsx("tr",{children:n.jsx("td",{colSpan:"7",className:"p-4 bg-[#1C1444]/5",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-[#1C1444]/10",children:[n.jsx("h3",{className:"font-semibold text-[#1C1444] mb-4",children:"Student Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-[#1C1444]",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium border-b border-[#1C1444]/20 pb-1",children:"Personal"}),n.jsxs("div",{className:"space-y-2 mt-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"DOB:"})," ",q.dateOfBirth?new Date(q.dateOfBirth).toLocaleDateString():"N/A"]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Gender:"})," ",q.gender]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Address:"})," ",q.address]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium border-b border-[#1C1444]/20 pb-1",children:"Academic"}),n.jsxs("div",{className:"space-y-2 mt-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Class:"})," ",q.class]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Roll No:"})," ",q.rollNo]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Student ID:"})," ",q.studentId]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"School:"})," ",q.schoolName]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium border-b border-[#1C1444]/20 pb-1",children:"Parent"}),n.jsxs("div",{className:"space-y-2 mt-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Father:"})," ",q.fatherName]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Mother:"})," ",q.motherName]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Phone:"})," ",q.parentPhone]})]})]})]})]})})})]}))})]}),!M.length&&F(a.name).length>0&&n.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[n.jsx(da,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),n.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:"No students match your filters"}),n.jsx("button",{onClick:k,className:"text-[#F37021] hover:text-[#d55f1c] underline transition-all duration-200",children:"Clear filters to see all students"})]}),!M.length&&F(a.name).length===0&&n.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[n.jsx(da,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),n.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:"No students found"}),n.jsx("p",{className:"text-[#1C1444]/80",children:"No students are enrolled in this class for the selected school."})]})]}):n.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[n.jsx(da,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),n.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:"No school selected"}),n.jsx("p",{className:"text-[#1C1444]/80",children:"Please select a school from the filter to view students."})]})]})]})}return n.jsxs("div",{className:"p-6 bg-red-50 text-red-700 rounded-xl flex items-center shadow-sm",children:[n.jsx(cr,{className:"w-5 h-5 mr-2"}),"Error: Invalid view state"]})},b1="https://vidyaastra.com/api",FIe=()=>{const[t,r]=w.useState(""),[a,s]=w.useState(!1),[i,o]=w.useState("add"),[l,c]=w.useState(null),[d,f]=w.useState([]),[u,m]=w.useState([]),[p,g]=w.useState(!1),[v,y]=w.useState(""),[b,j]=w.useState({}),[N,S]=w.useState("#2563eb"),[B,I]=w.useState(null),[F,O]=w.useState({subjectName:"",className:"",section:""});w.useEffect(()=>{const _=localStorage.getItem("schoolId");_?I(_):y("School ID not found. Please log in to access subject data.");const z=localStorage.getItem("color");z&&S(z)},[]);const k=w.useCallback(async()=>{if(B){g(!0),y("");try{const _=await It.get(`${b1}/class?schoolId=${B}`);_.data.success?m(_.data.data||[]):y(_.data.message||"Failed to fetch classes")}catch(_){y(_.response?.data?.message||"Failed to fetch classes. Please try again.")}finally{g(!1)}}},[B]),V=w.useCallback(async()=>{if(!B){g(!1);return}g(!0),y("");try{const _=await It.get(`${b1}/subject/${B}/subjects`);_.data.success?f(_.data.data||[]):y(_.data.message||"Failed to fetch subjects")}catch(_){y(_.response?.data?.message||"Failed to fetch subjects. Please try again.")}finally{g(!1)}},[B]);w.useEffect(()=>{B&&(k(),V())},[B,k,V]);const Q=[...new Set(u.map(_=>_.className))],H=_=>u.filter(z=>z.className===_).map(z=>z.section).filter(z=>z),M=(_,z)=>u.find(oe=>oe.className===_&&oe.section===z)?._id||"",K=d.filter(_=>(_.subjectName||"").toLowerCase().includes(t.toLowerCase())),q=(_,z=null)=>{if(o(_),c(z),j({}),_==="add")O({subjectName:"",className:Q.length>0?Q[0]:"",section:""});else if(z){const ae=u.find(oe=>oe._id===(z.classId?._id||z.classId));O({subjectName:z.subjectName||"",className:ae?.className||"",section:ae?.section||""})}s(!0),y("")},re=()=>{s(!1),c(null),o("add"),y(""),j({})},ee=_=>{const{name:z,value:ae}=_.target;O(oe=>{const ce={...oe,[z]:ae};return z==="className"&&(ce.section=""),ce}),b[z]&&j(oe=>({...oe,[z]:""}))},le=()=>{const _={};return F.subjectName.trim()||(_.subjectName="Subject name is required."),F.className||(_.className="Class is required."),!F.section&&H(F.className).length>0&&(_.section="Section is required."),j(_),Object.keys(_).length===0},Ae=async _=>{if(_.preventDefault(),g(!0),y(""),!le()){g(!1);return}if(!B){y("School ID is missing. Cannot perform this operation."),g(!1);return}const z=M(F.className,F.section);if(!z){y("Invalid class or section selected."),g(!1);return}try{let ae;i==="add"?ae=await It.post(`${b1}/subject/${B}/subjects`,{subjectName:F.subjectName.trim(),classId:z}):i==="edit"&&(ae=await It.put(`${b1}/subject/${B}/subjects/${l._id}`,{subjectName:F.subjectName.trim(),classId:z})),ae.data.success&&(await V(),re())}catch(ae){y(ae.response?.data?.message||"Failed to save subject. Please try again.")}finally{g(!1)}},ue=w.useCallback(async _=>{if(window.confirm("Are you sure you want to delete this subject? This action cannot be undone.")){if(g(!0),y(""),!B){y("School ID is missing. Cannot perform this operation."),g(!1);return}try{(await It.delete(`${b1}/subject/${B}/subjects/${_}`)).data.success&&await V()}catch(z){y(z.response?.data?.message||"Failed to delete subject.")}finally{g(!1)}}},[V,B]),se=_=>u.find(ae=>ae._id===(typeof _=="object"?_._id:_))?.className||"N/A",ve=_=>u.find(ae=>ae._id===(typeof _=="object"?_._id:_))?.section||"N/A";return n.jsxs("div",{className:"space-y-6 p-6 bg-gray-50 min-h-screen",children:[v&&n.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-lg",children:[n.jsx(ua,{className:"w-5 h-5",style:{color:N}}),n.jsx("span",{className:"block sm:inline text-sm",children:v}),n.jsx("button",{onClick:()=>y(""),className:"ml-auto text-red-700 hover:text-red-900",children:n.jsx(cr,{className:"w-4 h-4"})})]}),n.jsx("div",{className:Mt("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:N},children:n.jsxs("div",{className:"max-w-5xl mx-auto",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center",children:[n.jsx(FA,{className:"mr-3",style:{color:"white"}}),"Subject Management"]}),n.jsx("p",{className:"text-white text-sm opacity-75 mt-1",children:"Manage academic subjects for your school"})]}),n.jsxs("button",{onClick:()=>q("add"),disabled:p||!B||u.length===0,className:Mt("text-white px-4 py-2 rounded-xl flex items-center space-x-2 font-semibold","hover:opacity-90 transition-all duration-200","disabled:opacity-50"),style:{backgroundColor:N},children:[p?n.jsx(Er,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):n.jsx(Fs,{className:"w-4 h-4",style:{color:"white"}}),n.jsx("span",{children:"Add Subject"})]})]}),n.jsxs("div",{className:"mt-6 relative max-w-5xl mx-auto",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5",style:{color:N}}),n.jsx("input",{type:"text",placeholder:"Search subjects by name...",value:t,onChange:_=>r(_.target.value),className:Mt("w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:N}})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden max-w-5xl mx-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["All Subjects (",K.length,")"]})}),n.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject Name"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p?n.jsx("tr",{children:n.jsxs("td",{colSpan:"4",className:"text-center py-12",children:[n.jsx(Er,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:N}}),n.jsx("p",{className:"text-gray-500",children:"Loading subjects..."})]})}):K.length===0?n.jsx("tr",{children:n.jsxs("td",{colSpan:"4",className:"text-center py-12 text-gray-500",children:[n.jsx(Ja,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),n.jsx("p",{className:"text-lg font-medium",children:d.length===0?"No subjects found. Add your first subject!":"No subjects found matching your search."})]})}):K.map(_=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:N},children:n.jsx(Ja,{className:"text-white w-5 h-5"})}),n.jsx("div",{className:"ml-4",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.subjectName||"Unnamed Subject"})})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:se(_.classId)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ve(_.classId)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>q("edit",_),disabled:p,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Edit Subject",style:{color:N},children:n.jsx(Ao,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>ue(_._id),disabled:p,className:"p-2 hover:bg-red-50 rounded-full transition-colors text-red-500 hover:text-red-700",title:"Delete Subject",children:n.jsx(cs,{className:"w-4 h-4"})})]})})]},_._id))})]})})]}),a&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsxs("div",{className:Mt("text-white p-6 rounded-t-xl flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:N},children:[n.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mr-3",style:{backgroundColor:`${N}20`},children:i==="edit"?n.jsx(Ao,{className:"w-5 h-5",style:{color:"white"}}):n.jsx(Fs,{className:"w-5 h-5",style:{color:"white"}})}),i==="edit"?"Edit Subject":"Add New Subject"]}),n.jsx("button",{onClick:re,className:"flex items-center justify-center w-8 h-8 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:n.jsx(cr,{className:"w-6 h-6",style:{color:"white"}})})]}),n.jsxs("form",{onSubmit:Ae,className:"p-6 space-y-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class *"}),n.jsx("select",{name:"className",value:F.className,onChange:ee,className:Mt("w-full px-3 py-2 border rounded-xl",b.className?"border-red-500":"border-gray-300","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:N},required:!0,disabled:u.length===0,children:u.length===0?n.jsx("option",{value:"",children:"No classes available"}):n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"",children:"Select a class"}),Q.map(_=>n.jsx("option",{value:_,children:_},_))]})}),b.className&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:b.className}),u.length===0&&n.jsx("p",{className:"text-yellow-600 text-xs mt-1",children:"No classes found. Please add a class first."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section *"}),n.jsx("select",{name:"section",value:F.section,onChange:ee,className:Mt("w-full px-3 py-2 border rounded-xl",b.section?"border-red-500":"border-gray-300","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:N},required:H(F.className).length>0,disabled:u.length===0||!F.className||H(F.className).length===0,children:H(F.className).length===0?n.jsx("option",{value:"",children:"No sections available"}):n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"",children:"Select a section"}),H(F.className).map(_=>n.jsx("option",{value:_,children:_},_))]})}),b.section&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:b.section})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject Name *"}),n.jsx("input",{type:"text",name:"subjectName",placeholder:"Enter subject name",value:F.subjectName,onChange:ee,className:Mt("w-full px-3 py-2 border rounded-xl",b.subjectName?"border-red-500":"border-gray-300","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:N},required:!0}),b.subjectName&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:b.subjectName})]})]}),n.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:re,disabled:p,className:Mt("flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-xl font-semibold","hover:bg-gray-50 transition-colors disabled:opacity-50"),children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:p||u.length===0,className:Mt("flex-1 px-4 py-2 text-white rounded-xl font-semibold","hover:opacity-90 transition-all duration-200 flex items-center justify-center space-x-2","disabled:opacity-50"),style:{backgroundColor:N},children:[p?n.jsx(Er,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):n.jsx(Go,{className:"w-4 h-4",style:{color:"white"}}),n.jsx("span",{children:p?"Saving...":i==="edit"?"Update Subject":"Add Subject"})]})]})]})]})})]})},IIe=()=>{const[t,r]=w.useState(""),[a,s]=w.useState(!1),[i,o]=w.useState(null),[l,c]=w.useState("All"),[d,f]=w.useState("All"),[u,m]=w.useState("All"),[p,g]=w.useState([]),[v,y]=w.useState([]),[b,j]=w.useState([]),[N,S]=w.useState(!1),[B,I]=w.useState(""),[F,O]=w.useState(null),[k,V]=w.useState(null),[Q,H]=w.useState(1),M=10,K="https://vidyaastra.com/api";w.useEffect(()=>{const ce=localStorage.getItem("schoolId"),me=localStorage.getItem("teacherId");ce&&me?(O(ce),V(me)):I("School ID or Teacher ID not found in local storage")},[]),w.useEffect(()=>{F&&k&&q()},[F,k]),w.useEffect(()=>{H(1)},[t,l,d,u]);const q=async()=>{S(!0);try{const me=(await It.get(`${K}/teacher/${F}/${k}`)).data.data,he=me.classes||[],te=me.subjects||[];if(y(he.map(xe=>{const Ne=xe.split(" ");return{_id:xe,className:Ne[0],section:Ne[1]||""}})),j(te),he.length===0){g([]);return}const J=he.join(","),X=await It.get(`${K}/assignments/submitted-by-classes?schoolId=${F}&classNames=${J}&page=1&limit=500`);X.data.success?g(X.data.data):I("Failed to fetch submitted assignments: "+X.data.message)}catch(ce){I("Failed to load initial data"),console.error("Error fetching initial data:",ce)}finally{S(!1)}},re=ce=>!ce||!ce.url?null:ce.url.startsWith("http")?ce.url:`${K.replace("/api","")}${ce.url}`,ee=p.filter(ce=>{const me=ce.title?.toLowerCase().includes(t.toLowerCase())||ce.subject?.toLowerCase().includes(t.toLowerCase())||ce.studentName?.toLowerCase().includes(t.toLowerCase())||ce.rollNo?.toLowerCase().includes(t.toLowerCase())||ce.description?.toLowerCase().includes(t.toLowerCase()),he=l==="All"||ce.subject===l,te=d==="All"||ce.status===d,J=`${ce.class} ${ce.section||""}`.trim();return me&&he&&te&&(u==="All"||J===u)}),le=ee.slice((Q-1)*M,Q*M),Ae=Math.ceil(ee.length/M),ue=ce=>{o(ce),s(!0)},se=()=>{s(!1),o(null),I("")},ve=ce=>{switch(ce?.toUpperCase()){case"HIGH":return"bg-red-100 text-red-800";case"MEDIUM":return"bg-orange-100 text-orange-800";case"LOW":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},_=ce=>{switch(ce){case"submitted":return n.jsx(ji,{className:"w-4 h-4 text-green-600"});case"graded":return n.jsx(hf,{className:"w-4 h-4 text-blue-600"});case"late":return n.jsx(Ea,{className:"w-4 h-4 text-red-600"});default:return n.jsx(Ea,{className:"w-4 h-4 text-orange-600"})}},z=ce=>ce?new Date(ce).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",ae=p.filter(ce=>ce.status==="submitted").length;p.filter(ce=>ce.status==="graded").length;const oe=p.filter(ce=>ce.status==="late").length;return N&&p.length===0?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"text-lg",children:"Loading submitted assignments..."})}):n.jsxs("div",{className:"space-y-6 h-screen overflow-y-scroll overflow-x-scroll",children:[B&&n.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:B}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Submitted Assignments"}),n.jsx("p",{className:"text-gray-600",children:"View and manage student assignment submissions"})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("div",{className:"bg-green-100 text-green-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Total Submissions: ",p.length]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search assignments, students...",value:t,onChange:ce=>r(ce.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("select",{value:u,onChange:ce=>m(ce.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"All",children:"All Classes"}),v.map(ce=>{const me=`${ce.className} ${ce.section}`.trim();return n.jsx("option",{value:me,children:me},ce._id)})]}),n.jsxs("select",{value:l,onChange:ce=>c(ce.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"All",children:"All Subjects"}),b.map(ce=>n.jsx("option",{value:ce,children:ce},ce))]}),n.jsxs("select",{value:d,onChange:ce=>f(ce.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"All",children:"All Status"}),n.jsx("option",{value:"submitted",children:"Submitted"}),n.jsx("option",{value:"graded",children:"Graded"}),n.jsx("option",{value:"late",children:"Late"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("div",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs font-medium",children:["Submitted (",ae,")"]}),n.jsxs("div",{className:"bg-red-100 text-red-800 px-2 py-1 rounded text-xs font-medium",children:["Late (",oe,")"]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-max",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Student Info"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Roll No"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Class"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Section"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Subject"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Due Date"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Submitted Date"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority/Grade"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:le.map(ce=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ts,{className:"w-5 h-5 text-gray-400 mr-2"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:ce.studentName}),n.jsx("div",{className:"text-xs text-gray-500",children:"Student"})]})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:"text-sm font-mono text-gray-900 bg-gray-100 px-2 py-1 rounded",children:ce.rollNo})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:ce.class})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-purple-100 text-purple-800 rounded-full",children:ce.section||"N/A"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ja,{className:"w-4 h-4 text-blue-600 mr-2"}),n.jsx("span",{className:"text-sm font-medium text-blue-600",children:ce.subject})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"max-w-xs",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:ce.title}),n.jsx("div",{className:"text-xs text-gray-500 mt-1 truncate",children:ce.description})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ia,{className:"w-4 h-4 text-gray-400 mr-2"}),n.jsx("div",{className:"text-sm text-gray-900",children:z(ce.dueDate)})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ji,{className:"w-4 h-4 text-green-600 mr-2"}),n.jsx("div",{className:"text-sm text-green-600 font-medium",children:z(ce.submittedDate)})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ve(ce.priority)}`,children:ce.status==="graded"&&ce.grade?ce.grade:ce.priority})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center",children:[_(ce.status),n.jsx("span",{className:`ml-2 text-sm font-medium capitalize ${ce.status==="submitted"||ce.status==="graded"?"text-green-600":ce.status==="late"?"text-red-600":"text-orange-600"}`,children:ce.status})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"flex space-x-2",children:n.jsx("button",{onClick:()=>ue(ce),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",title:"View Details",children:n.jsx(ys,{className:"w-4 h-4"})})})})]},ce.id))})]})}),ee.length===0&&n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(da,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"No submitted assignments found"})]}),ee.length>0&&n.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-t bg-gray-50",children:[n.jsx("button",{onClick:()=>H(ce=>Math.max(1,ce-1)),disabled:Q===1,className:"px-4 py-2 bg-blue-500 text-white rounded disabled:bg-gray-300",children:"Previous"}),n.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",Q," of ",Ae]}),n.jsx("button",{onClick:()=>H(ce=>Math.min(Ae,ce+1)),disabled:Q===Ae,className:"px-4 py-2 bg-blue-500 text-white rounded disabled:bg-gray-300",children:"Next"})]})]}),a&&i&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Assignment Submission Details"}),n.jsx("button",{onClick:se,className:"text-gray-500 hover:text-gray-700",children:n.jsx(cr,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[n.jsx(Ts,{className:"w-5 h-5 mr-2"}),"Student Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),n.jsx("p",{className:"text-sm text-gray-900",children:i.studentName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Roll Number"}),n.jsx("p",{className:"text-sm text-gray-900",children:i.rollNo})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Class"}),n.jsx("p",{className:"text-sm text-gray-900",children:i.class})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Section"}),n.jsx("p",{className:"text-sm text-gray-900",children:i.section||"N/A"})]})]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[n.jsx(Ja,{className:"w-5 h-5 mr-2"}),"Assignment Details"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subject"}),n.jsx("p",{className:"text-sm text-gray-900",children:i.subject})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Priority"}),n.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${ve(i.priority)}`,children:i.priority})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),n.jsx("p",{className:"text-sm text-gray-900",children:i.title})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),n.jsx("p",{className:"text-sm text-gray-900",children:i.description})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Class"}),n.jsx("p",{className:"text-sm text-gray-900",children:i.class})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Section"}),n.jsx("p",{className:"text-sm text-gray-900",children:i.section||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Due Date"}),n.jsx("p",{className:"text-sm text-gray-900",children:z(i.dueDate)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Submitted Date"}),n.jsx("p",{className:"text-sm text-green-600 font-medium",children:z(i.submittedDate)})]})]})]}),(i.attachments?.length>0||i.studentComments)&&n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[n.jsx(ji,{className:"w-5 h-5 mr-2"}),"Submission Details"]}),i.studentComments&&n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student Comments"}),n.jsx("p",{className:"text-sm text-gray-900 bg-white p-3 rounded border",children:i.studentComments})]}),i.attachments?.length>0&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attachments"}),n.jsx("div",{className:"space-y-2",children:i.attachments.map((ce,me)=>{const he=re(ce);return n.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Us,{className:"w-4 h-4 text-gray-400 mr-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:ce.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:[ce.type," "," ",(ce.size/1024).toFixed(1)," KB"]})]})]}),he&&n.jsx("a",{href:he,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",title:"View/Download file",children:n.jsx(Us,{className:"w-4 h-4"})})]},me)})})]})]}),i.status==="graded"&&n.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[n.jsx(hf,{className:"w-5 h-5 mr-2"}),"Grading Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Grade"}),n.jsx("p",{className:"text-lg font-bold text-blue-600",children:i.grade})]}),i.teacherComments&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Teacher Comments"}),n.jsx("p",{className:"text-sm text-gray-900",children:i.teacherComments})]})]})]}),n.jsx("div",{className:"flex justify-end pt-4",children:n.jsx("button",{type:"button",onClick:se,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Close"})})]})]})})]})},kIe="https://vidyaastra.com/api",d2=jB("classes/fetchClasses",async t=>(await It.get(`${kIe}/class?schoolId=${t}`)).data),_Ie=xl({name:"classes",initialState:{classes:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(d2.pending,r=>{r.loading=!0}).addCase(d2.fulfilled,(r,a)=>{r.loading=!1,r.classes=a.payload}).addCase(d2.rejected,(r,a)=>{r.loading=!1,r.error=a.error.message})}}),PIe=_Ie.reducer,OIe="https://vidyaastra.com/api",u2=jB("subjects/fetchSubjects",async t=>(await It.get(`${OIe}/subject/${t}/subjects`)).data),DIe=xl({name:"subjects",initialState:{subjects:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(u2.pending,r=>{r.loading=!0}).addCase(u2.fulfilled,(r,a)=>{r.loading=!1,r.subjects=a.payload}).addCase(u2.rejected,(r,a)=>{r.loading=!1,r.error=a.error.message})}}),LIe=DIe.reducer;AU(Kr);const MIe=()=>{const t=localStorage.getItem("schoolId"),[r,a]=w.useState("Unknown School"),[s,i]=w.useState("#2563eb"),[o,l]=w.useState(!1),[c,d]=w.useState(!1),[f,u]=w.useState(null),[m,p]=w.useState(null),[g,v]=w.useState(""),[y,b]=w.useState(""),[j,N]=w.useState(""),[S,B]=w.useState(!1),[I,F]=w.useState(""),[O,k]=w.useState([]),[V,Q]=w.useState([]),[H,M]=w.useState(1),[K]=w.useState(10),q=localStorage.getItem("schoolLogo"),re="https://vidyaastra.com/api/results",ee="https://vidyaastra.com/api/students",le=`https://vidyaastra.com/api/schools/${t}`,Ae=Za(Se=>Se.classes.classes?.data||[]),ue=Za(Se=>Se.classes.loading),se=Za(Se=>Se.classes.error),ve=Za(Se=>Se.subjects.subjects?.data||[]),_=Za(Se=>Se.subjects.loading),z=Za(Se=>Se.subjects.error);w.useEffect(()=>{const Se=localStorage.getItem("color");Se&&i(Se)},[]);const ae=w.useMemo(()=>Ae.map(Se=>({_id:Se._id,className:Se.className||`Class ${Se.classNumber||Se._id}`,section:Se.section||"",displayName:`${Se.className||`Class ${Se.classNumber||Se._id}`}${Se.section?` ${Se.section}`:""}`.trim()})),[Ae]),oe=w.useMemo(()=>Array.from(new Set(ae.map(Se=>Se.className))).sort(),[ae]),ce=w.useMemo(()=>y?Array.from(new Set(ae.filter(Se=>Se.className===y&&Se.section).map(Se=>Se.section))).sort():Array.from(new Set(ae.map(Se=>Se.section).filter(Boolean))).sort(),[ae,y]),me=w.useMemo(()=>ve.map(Se=>({_id:Se._id,name:Se.SubjectName||Se.name||Se.subjectName||"Unnamed Subject"})),[ve]),[he,te]=w.useState({examType:"",classId:"",studentId:"",examDate:"",subjects:[{subjectName:"",maxMarks:"",scoredMarks:"",grade:""}]});w.useEffect(()=>{t&&(J(),X(),xe())},[t]),w.useEffect(()=>{se&&F("Failed to load classes: "+se),z&&F("Failed to load subjects: "+z)},[se,z]),w.useEffect(()=>{M(1)},[g,y,j]);const J=async()=>{try{const Se=await fetch(le,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(Se.ok){const ot=await Se.json();ot.success&&ot.data?a(ot.data.name||"Unknown School"):a("Unknown School")}else a("Unknown School")}catch(Se){console.error("Error fetching school name:",Se),a("Unknown School")}},X=async()=>{if(t)try{const Se=await fetch(`${ee}/school/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!Se.ok)throw new Error(`HTTP error! Status: ${Se.status}`);const ot=await Se.json();let Ot=Array.isArray(ot)?ot:ot.success&&Array.isArray(ot.data)?ot.data:[];if(!Ot.length)throw new Error("Invalid students data structure");const vt=Ot.filter(Ze=>Ze.schoolId===t||Ze.schoolId?._id===t).map(Ze=>({_id:Ze._id||Ze.id,name:Ze.name||Ze.fullName||"Unknown",rollNumber:Ze.rollNumber||Ze.roll||"N/A",schoolId:Ze.schoolId}));k(vt)}catch(Se){console.error("Error fetching students:",Se),F("Failed to fetch students: "+Se.message)}},xe=async()=>{if(t)try{const Se=await fetch(`${re}/results/${t}?limit=10000`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(Se.ok){const ot=await Se.json();ot.success?Q(ot.data||[]):(Q([]),F(ot.message||"Failed to fetch results"))}else Q([]),F("Failed to fetch results")}catch(Se){console.error("Error fetching results:",Se),Q([]),F("Error fetching results: "+Se.message)}},Ne=(Se,ot)=>{if(!Se||!ot||ot<=0)return"N/A";const Ot=Se/ot*100;return Ot>=95?"A+":Ot>=85?"A":Ot>=75?"B+":Ot>=65?"B":Ot>=55?"C+":Ot>=45?"C":"F"},ge=(Se,ot)=>{const{name:Ot,value:vt}=Se.target;te(ot!==void 0?Ze=>{const He=[...Ze.subjects];if(He[ot]={...He[ot],[Ot]:vt},Ot==="scoredMarks"||Ot==="maxMarks"){const ct=parseFloat(He[ot].scoredMarks)||0,ft=parseFloat(He[ot].maxMarks)||1;He[ot].grade=Ne(ct,ft)}return{...Ze,subjects:He}}:Ze=>({...Ze,[Ot]:vt}))},pe=()=>{te(Se=>({...Se,subjects:[...Se.subjects,{subjectName:"",maxMarks:"",scoredMarks:"",grade:""}]}))},Y=Se=>{te(ot=>({...ot,subjects:ot.subjects.filter((Ot,vt)=>vt!==Se)}))},Le=async()=>{if(!t){nr.error("Error: School ID not found. Please login again.");return}F("");try{if(!he.examType||!he.classId||!he.studentId||!he.examDate||he.subjects.length===0||he.subjects.some(Ot=>!Ot.subjectName||!Ot.maxMarks||!Ot.scoredMarks||parseFloat(Ot.scoredMarks)>parseFloat(Ot.maxMarks))){nr.error("Please fill all required fields for each subject and ensure scored marks are not greater than max marks.");return}const Se={classId:he.classId,examType:he.examType,date:he.examDate,subjects:he.subjects.map(Ot=>({subjectName:Ot.subjectName,maxMarks:parseFloat(Ot.maxMarks),scoredMarks:parseFloat(Ot.scoredMarks),grade:Ot.grade}))};(m?await de(m._id,Se,he.studentId):await ie(Se,he.studentId))&&Qe()}catch(Se){console.error("Submit error:",Se),F("Failed to submit: "+Se.message)}},ie=async(Se,ot)=>{try{B(!0);const vt=await(await fetch(`${re}/${t}/${ot}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({results:[Se]})})).json();return vt.success?(nr.success("Result created successfully."),await xe(),!0):(F(vt.message||"Failed to create result"),nr.error("Error: "+(vt.message||"Failed to create result")),!1)}catch(Ot){return F("Error creating result: "+Ot.message),nr.error("Error creating result: "+Ot.message),!1}finally{B(!1)}},de=async(Se,ot,Ot)=>{try{B(!0);const Ze=await(await fetch(`${re}/${t}/${Ot}/${Se}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({updateFields:ot})})).json();return Ze.success?(nr.success("Result updated successfully."),await xe(),!0):(F(Ze.message||"Failed to update result"),nr.error("Error: "+(Ze.message||"Failed to update result")),!1)}catch(vt){return F("Error updating result: "+vt.message),nr.error("Error updating result: "+vt.message),!1}finally{B(!1)}},je=Se=>{p(Se),te({examType:Se.examType||"",classId:Se.classId?._id||Se.classId||"",studentId:Se.studentId?._id||Se.studentId||"",examDate:Se.date?new Date(Se.date).toISOString().split("T")[0]:"",subjects:Se.subjects?.length?Se.subjects.map(ot=>({subjectName:ot.subjectName||"",maxMarks:ot.maxMarks?.toString()||"",scoredMarks:ot.scoredMarks?.toString()||"",grade:ot.grade||""})):[{subjectName:"",maxMarks:"",scoredMarks:"",grade:""}]}),l(!0)},ye=async Se=>{if(confirm("Are you sure you want to delete this item?"))try{B(!0);const Ot=await(await fetch(`${re}/${t}/${Se.studentId._id}/${Se._id}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).json();Ot.success?(nr.success("Item deleted successfully."),await xe()):(F(Ot.message||"Failed to delete item"),nr.error("Error: "+(Ot.message||"Failed to delete item")))}catch(ot){F("Error deleting item: "+ot.message),nr.error("Error deleting item: "+ot.message)}finally{B(!1)}},Ce=Se=>{u(Se),d(!0)},be=()=>{d(!1),u(null)},Ee=()=>{if(!f||!f.subjects){nr.error("Error: No valid result data available to download.");return}const Se=new Kr,ot=Se.internal.pageSize.getWidth(),Ot=Se.internal.pageSize.getHeight(),vt=15;let Ze=15;const He=()=>{Se.setFont("helvetica","bold"),Se.setFontSize(24),Se.setTextColor(0,51,102),Se.text(r.toUpperCase(),ot/2,Ze,{align:"center"}),Ze+=10,Se.setFontSize(16),Se.setTextColor(0,0,0),Se.text("Examination Result Sheet",ot/2,Ze,{align:"center"}),Ze+=10,Se.setDrawColor(0,51,102),Se.setLineWidth(.5),Se.line(vt,Ze,ot-vt,Ze),Ze+=10,Se.setFont("helvetica","normal"),Se.setFontSize(12),Se.text(`Student: ${rt(f.studentId)}`,vt,Ze),Ze+=7,Se.text(`Roll Number: ${Te(f.studentId)}`,vt,Ze),Ze+=7,Se.text(`Class: ${nt(f.classId)}`,vt,Ze),Ze+=7,Se.text(`Exam Type: ${f.examType||"N/A"}`,vt,Ze),Ze+=10;const ft=f.subjects.map(pa=>[pa.subjectName||"N/A",pa.maxMarks?.toString()||"0",pa.scoredMarks?.toString()||"0",pa.maxMarks>0?`${(pa.scoredMarks/pa.maxMarks*100).toFixed(1)}%`:"0%",pa.grade||"N/A"]),Wt=f.subjects.reduce((pa,at)=>pa+(at.scoredMarks||0),0),gr=f.subjects.reduce((pa,at)=>pa+(at.maxMarks||0),0),Fr=gr>0?(Wt/gr*100).toFixed(1):0,Ta=Ne(Wt,gr);Se.autoTable({startY:Ze,head:[["Subject","Max Marks","Scored Marks","Percentage","Grade"]],body:ft,theme:"grid",headStyles:{fillColor:[0,51,102],textColor:[255,255,255],fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]},margin:{left:vt,right:vt},styles:{fontSize:10,cellPadding:3}}),Ze=Se.lastAutoTable.finalY+10,Se.setFont("helvetica","bold"),Se.setFontSize(12),Se.text(`Total Marks: ${Wt}/${gr}`,vt,Ze),Ze+=7,Se.text(`Overall Percentage: ${Fr}%`,vt,Ze),Ze+=7,Se.text(`Overall Grade: ${Ta}`,vt,Ze),Ze+=10,Se.setFont("helvetica","italic"),Se.setFontSize(10),Se.setTextColor(100),Se.text(`Generated on: ${new Date().toLocaleDateString()}`,vt,Ot-30),Se.text("Authorized by: ____________________",ot-vt-60,Ot-30),Se.setDrawColor(0,51,102),Se.setLineWidth(.2),Se.line(vt,Ot-35,ot-vt,Ot-35)},ct=()=>{const ft=rt(f.studentId).replace(/\s+/g,"_"),Wt=f.examType||"N_A";Se.save(`result_${ft}_${Wt}.pdf`)};if(q)try{const ft=new Image;ft.src=q,ft.onload=()=>{Se.addImage(ft,"PNG",vt,Ze,30,30),Ze+=35,He(),ct()},ft.onerror=()=>{console.warn("Failed to load logo, proceeding without it."),He(),ct()}}catch(ft){console.warn("Error adding logo to PDF, proceeding without it:",ft),He(),ct()}else He(),ct()},Qe=()=>{te({examType:"",classId:"",studentId:"",examDate:"",subjects:[{subjectName:"",maxMarks:"",scoredMarks:"",grade:""}]}),p(null),l(!1),F("")},rt=Se=>Se?.name||"Unknown Student",Te=Se=>Se?.rollNumber||"N/A",nt=w.useCallback(Se=>Se?`${Se.className||`Class ${Se._id}`}${Se.section?` ${Se.section}`:""}`.trim():"N/A",[]),xt=Se=>{const ot=Se.subjects.reduce((He,ct)=>He+(ct.scoredMarks||0),0),Ot=Se.subjects.reduce((He,ct)=>He+(ct.maxMarks||0),0),vt=Ot>0?(ot/Ot*100).toFixed(1):0,Ze=Ne(ot,Ot);return{totalScored:ot,totalMax:Ot,percentage:vt,grade:Ze}},it=V.map(Se=>({...Se,className:nt(ae.find(ot=>ot._id===(Se.classId?._id||Se.classId))),summary:xt(Se)})).filter(Se=>[Se.examType||"",Se.className,rt(Se.studentId),...Se.subjects.map(Ot=>Ot.subjectName||"")].some(Ot=>Ot.toLowerCase().includes(g.toLowerCase()))).filter(Se=>{if(!y)return!0;const ot=ae.find(Ze=>Ze._id===(Se.classId?._id||Se.classId));if(!ot)return!1;const[Ot,vt]=ot.displayName.split(" ");return Ot===y&&(!j||vt===j)}),_e=Math.ceil(it.length/K),dt=it.slice((H-1)*K,H*K),yt=()=>{H>1&&M(Se=>Se-1)},rr=()=>{H<_e&&M(Se=>Se+1)},_t=Se=>{M(Se)},Ve=()=>{b(""),N(""),v(""),M(1)};return t?n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:Mt("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:s},children:n.jsx("div",{className:"max-w-5xl mx-auto",children:n.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4",children:n.jsxs("div",{className:"mb-4 md:mb-0",children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Exam Results Management"}),n.jsxs("div",{className:"text-white text-sm opacity-75 mt-1",children:["School: ",r," | ID: ",t," |"," ",ae.length," classes | ",O.length," students |"," ",me.length," subjects"]})]})})})}),n.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[I&&n.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-lg",children:[n.jsx(ua,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"block sm:inline text-sm",children:I}),n.jsx("button",{onClick:()=>F(""),className:"ml-auto text-red-700 hover:text-red-900 flex-shrink-0",children:n.jsx(cr,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Sa,{className:"absolute left-3 top-3",style:{color:s}}),n.jsx("input",{type:"text",placeholder:"Search by exam type, student, or subject...",value:g,onChange:Se=>v(Se.target.value),className:Mt("pl-10 pr-4 py-2 border border-gray-300 rounded-xl w-full","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s}})]}),n.jsxs("select",{value:y,onChange:Se=>{b(Se.target.value),N(""),M(1)},className:Mt("border border-gray-300 rounded-xl px-4 py-2","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s},children:[n.jsx("option",{value:"",children:"All Classes"}),oe.map(Se=>n.jsx("option",{value:Se,children:Se},Se))]}),n.jsxs("select",{value:j,onChange:Se=>{N(Se.target.value),M(1)},className:Mt("border border-gray-300 rounded-xl px-4 py-2",!y&&"opacity-50 cursor-not-allowed"),style:{focusRingColor:s},disabled:!y,children:[n.jsx("option",{value:"",children:y&&ce.length===0?"No sections available":"All Sections"}),ce.map(Se=>n.jsx("option",{value:Se,children:Se},Se))]}),n.jsx("button",{onClick:Ve,className:Mt("px-4 py-2 border border-gray-300 rounded-xl text-gray-700","hover:bg-gray-50 transition-all duration-200"),style:{borderColor:s},children:"Reset Filters"}),n.jsxs("button",{onClick:()=>l(!0),className:Mt("text-white px-6 py-2 rounded-xl flex items-center font-semibold","hover:opacity-90 transition-all duration-200","disabled:opacity-50"),style:{backgroundColor:s},disabled:S||ue||_||ae.length===0||me.length===0||O.length===0,title:S||ue||_?"Loading...":ae.length===0?"No classes available":me.length===0?"No subjects available":O.length===0?"No students available":"Add Result",children:[S||ue||_?n.jsx(Er,{className:"mr-2 animate-spin",style:{color:"white"}}):n.jsx(Fs,{className:"mr-2",style:{color:"white"}}),"Add Result"]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden",children:[S&&n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(Er,{className:"animate-spin mx-auto mb-4",size:32,style:{color:s}}),n.jsx("p",{className:"text-gray-600",children:"Loading..."})]}),!S&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Exam Type"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Marks"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Percentage"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Overall Grade"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:dt.map(Se=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:Se.examType||"N/A"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:Se.className})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[rt(Se.studentId)," (",Te(Se.studentId),")"]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[Se.summary.totalScored,"/",Se.summary.totalMax]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[Se.summary.percentage,"%"]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full text-white",style:{backgroundColor:Se.summary.grade==="A+"?"#16a34a":Se.summary.grade==="A"?"#22c55e":Se.summary.grade==="B+"?s:Se.summary.grade==="B"?"#eab308":Se.summary.grade==="C+"?"#f97316":Se.summary.grade==="C"?"#ef4444":"#dc2626"},children:Se.summary.grade})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[n.jsx("button",{onClick:()=>Ce(Se),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",disabled:S,title:"View Result",style:{color:s},children:n.jsx(ys,{})}),n.jsx("button",{onClick:()=>je(Se),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",disabled:S,title:"Edit",style:{color:s},children:n.jsx(Ao,{})}),n.jsx("button",{onClick:()=>ye(Se),className:"p-2 hover:bg-gray-100 rounded-full transition-colors text-red-500 hover:text-red-700",disabled:S,title:"Delete",children:n.jsx(cs,{})})]})]},Se._id||Se.id))})]})}),!S&&it.length>0&&n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center px-6 py-4 border-t border-gray-200",children:[n.jsxs("div",{className:"text-sm text-gray-600 mb-2 sm:mb-0",children:["Page ",H," of ",_e]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:yt,disabled:H===1,className:Mt("px-4 py-2 bg-gray-100 text-gray-700 rounded-lg","hover:bg-gray-200 disabled:opacity-50 transition-colors"),children:n.jsx(yo,{})}),[...Array(_e)].map((Se,ot)=>{const Ot=ot+1;return n.jsx("button",{onClick:()=>_t(Ot),className:Mt("px-3 py-1 rounded-lg border border-gray-300",H===Ot?"text-white":"hover:bg-gray-100"),style:{backgroundColor:H===Ot?s:"transparent"},children:Ot},Ot)}),n.jsx("button",{onClick:rr,disabled:H===_e,className:Mt("px-4 py-2 bg-gray-100 text-gray-700 rounded-lg","hover:bg-gray-200 disabled:opacity-50 transition-colors"),children:n.jsx(Ni,{})})]})]}),!S&&it.length===0&&n.jsxs("div",{className:"p-8 text-center text-gray-500",children:[n.jsx("div",{className:"text-lg mb-2",children:"No results found"}),n.jsx("div",{className:"text-sm",children:g||y||j?"Try adjusting your search terms or filters":"Click 'Add Result' to create your first entry"})]})]})]})]}),o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsxs("div",{className:Mt("text-white p-6 rounded-t-2xl flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:s},children:[n.jsx("h2",{className:"text-xl font-bold",children:m?"Edit Result":"Add Result"}),n.jsx("button",{onClick:Qe,className:"flex items-center justify-center w-8 h-8 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:n.jsx(cr,{size:24,style:{color:"white"}})})]}),n.jsxs("div",{className:"p-6",children:[(ue||_)&&n.jsxs("div",{className:"text-center py-4",children:[n.jsx(Er,{className:"w-6 h-6 mx-auto animate-spin mb-2",style:{color:s}}),n.jsx("p",{className:"text-sm text-gray-600",children:"Loading classes and subjects..."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("select",{name:"examType",value:he.examType,onChange:ge,className:Mt("w-full px-4 py-3 border border-gray-300 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s},required:!0,children:[n.jsx("option",{value:"",children:"Select Exam Type"}),["Midterm","Final","Unit Test","Quiz","Practical","Other"].map(Se=>n.jsx("option",{value:Se,children:Se},Se))]}),n.jsxs("select",{name:"studentId",value:he.studentId,onChange:ge,className:Mt("w-full px-4 py-3 border border-gray-300 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s},required:!0,children:[n.jsx("option",{value:"",children:"Select Student"}),O.length===0?n.jsx("option",{value:"",disabled:!0,children:"No students available"}):O.map(Se=>n.jsxs("option",{value:Se._id,children:[Se.name," (",Se.rollNumber,")"]},Se._id))]}),n.jsxs("select",{name:"classId",value:he.classId,onChange:ge,className:Mt("w-full px-4 py-3 border border-gray-300 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s},disabled:ue,required:!0,children:[n.jsx("option",{value:"",children:"Select Class"}),ae.length===0?n.jsx("option",{value:"",disabled:!0,children:"No classes available"}):ae.map(Se=>n.jsx("option",{value:Se._id,children:Se.displayName},Se._id))]}),n.jsx("input",{type:"date",name:"examDate",value:he.examDate,onChange:ge,className:Mt("w-full px-4 py-3 border border-gray-300 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s},required:!0}),n.jsxs("div",{className:"space-y-4",children:[he.subjects.map((Se,ot)=>n.jsxs("div",{className:"border p-4 rounded-xl relative",children:[n.jsx("button",{type:"button",onClick:()=>Y(ot),className:"absolute top-2 right-2 text-red-500 hover:text-red-700",disabled:he.subjects.length===1,children:n.jsx(DX,{})}),n.jsxs("select",{name:"subjectName",value:Se.subjectName,onChange:Ot=>ge(Ot,ot),className:Mt("w-full px-4 py-3 border border-gray-300 rounded-xl mb-2","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s},required:!0,children:[n.jsx("option",{value:"",children:"Select Subject"}),me.length===0?n.jsx("option",{value:"",disabled:!0,children:"No subjects available"}):me.map(Ot=>n.jsx("option",{value:Ot.name,children:Ot.name},Ot._id))]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx("input",{type:"number",name:"scoredMarks",placeholder:"Scored Marks",value:Se.scoredMarks,onChange:Ot=>ge(Ot,ot),className:Mt("px-4 py-3 border border-gray-300 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s},required:!0,min:"0",step:"0.1"}),n.jsx("input",{type:"number",name:"maxMarks",placeholder:"Max Marks",value:Se.maxMarks,onChange:Ot=>ge(Ot,ot),className:Mt("px-4 py-3 border border-gray-300 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s},required:!0,min:"1",step:"0.1"})]}),n.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Grade: ",Se.grade||"N/A"]})]},ot)),n.jsxs("button",{type:"button",onClick:pe,className:"flex items-center text-white px-4 py-2 rounded-xl font-semibold hover:opacity-90 transition-all duration-200",style:{backgroundColor:s},children:[n.jsx(Fs,{className:"mr-2",style:{color:"white"}}),"Add Subject"]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200",children:[n.jsx("button",{onClick:Qe,className:Mt("flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-xl font-semibold","hover:bg-gray-50 transition-colors disabled:opacity-50"),disabled:S,children:"Cancel"}),n.jsx("button",{onClick:Le,className:Mt("flex-1 py-3 px-6 text-white rounded-xl font-semibold","hover:opacity-90 transition-all duration-200 flex items-center justify-center space-x-2","disabled:opacity-50"),style:{backgroundColor:s},disabled:S||ue||_||!he.examType||!he.classId||!he.studentId||he.subjects.length===0||he.subjects.some(Se=>!Se.subjectName||!Se.maxMarks||!Se.scoredMarks),children:S?n.jsxs(n.Fragment,{children:[n.jsx(Er,{className:"w-4 h-4 animate-spin",style:{color:"white"}}),n.jsx("span",{children:m?"Updating...":"Saving..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(Go,{className:"w-4 h-4",style:{color:"white"}}),n.jsx("span",{children:m?"Update":"Save"})]})})]})]})]})}),c&&f&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsxs("div",{className:Mt("text-white p-6 rounded-t-2xl flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:s},children:[n.jsx("h2",{className:"text-xl font-bold",children:"Result Sheet"}),n.jsx("button",{onClick:be,className:"flex items-center justify-center w-8 h-8 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:n.jsx(cr,{size:24,style:{color:"white"}})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"text-center mb-6",children:[q&&n.jsx("img",{src:q,alt:"School Logo",className:"h-16 mx-auto mb-4"}),n.jsx("h3",{className:"text-3xl font-bold text-gray-800 uppercase",children:r}),n.jsx("p",{className:"text-lg font-semibold text-gray-600",children:"Examination Result Sheet"})]}),n.jsxs("div",{className:"border-t border-b border-gray-300 py-4 mb-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-semibold text-gray-700",children:"Student:"}),n.jsx("span",{className:"text-gray-900",children:rt(f.studentId)})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-semibold text-gray-700",children:"Roll Number:"}),n.jsx("span",{className:"text-gray-900",children:Te(f.studentId)})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-semibold text-gray-700",children:"Class:"}),n.jsx("span",{className:"text-gray-900",children:nt(f.classId)})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-semibold text-gray-700",children:"Exam Type:"}),n.jsx("span",{className:"text-gray-900",children:f.examType||"N/A"})]})]}),n.jsxs("table",{className:"w-full border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-100",children:[n.jsx("th",{className:"border p-2 text-left text-sm font-semibold text-gray-700",children:"Subject"}),n.jsx("th",{className:"border p-2 text-left text-sm font-semibold text-gray-700",children:"Max Marks"}),n.jsx("th",{className:"border p-2 text-left text-sm font-semibold text-gray-700",children:"Scored Marks"}),n.jsx("th",{className:"border p-2 text-left text-sm font-semibold text-gray-700",children:"Percentage"}),n.jsx("th",{className:"border p-2 text-left text-sm font-semibold text-gray-700",children:"Grade"})]})}),n.jsx("tbody",{children:f.subjects.map((Se,ot)=>n.jsxs("tr",{className:ot%2===0?"bg-gray-50":"bg-white",children:[n.jsx("td",{className:"border p-2 text-sm text-gray-900",children:Se.subjectName}),n.jsx("td",{className:"border p-2 text-sm text-gray-900",children:Se.maxMarks}),n.jsx("td",{className:"border p-2 text-sm text-gray-900",children:Se.scoredMarks}),n.jsxs("td",{className:"border p-2 text-sm text-gray-900",children:[(Se.scoredMarks/Se.maxMarks*100).toFixed(1),"%"]}),n.jsx("td",{className:"border p-2 text-sm",children:n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full text-white",style:{backgroundColor:Se.grade==="A+"?"#16a34a":Se.grade==="A"?"#22c55e":Se.grade==="B+"?s:Se.grade==="B"?"#eab308":Se.grade==="C+"?"#f97316":Se.grade==="C"?"#ef4444":"#dc2626"},children:Se.grade})})]},ot))}),n.jsx("tfoot",{children:n.jsxs("tr",{className:"bg-gray-100 font-semibold",children:[n.jsx("td",{className:"border p-2 text-sm text-gray-900",children:"Total"}),n.jsx("td",{className:"border p-2 text-sm text-gray-900",children:f.subjects.reduce((Se,ot)=>Se+ot.maxMarks,0)}),n.jsx("td",{className:"border p-2 text-sm text-gray-900",children:f.subjects.reduce((Se,ot)=>Se+ot.scoredMarks,0)}),n.jsxs("td",{className:"border p-2 text-sm text-gray-900",children:[xt(f).percentage,"%"]}),n.jsx("td",{className:"border p-2 text-sm",children:n.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full text-white",style:{backgroundColor:xt(f).grade==="A+"?"#16a34a":xt(f).grade==="A"?"#22c55e":xt(f).grade==="B+"?s:xt(f).grade==="B"?"#eab308":xt(f).grade==="C+"?"#f97316":xt(f).grade==="C"?"#ef4444":"#dc2626"},children:xt(f).grade})})]})})]})]}),n.jsxs("div",{className:"text-sm text-gray-500 italic mb-4",children:[n.jsxs("p",{children:["Generated on: ",new Date().toLocaleDateString()]}),n.jsx("p",{children:"Authorized by: ____________________"})]}),n.jsx("div",{className:"flex justify-end mt-6",children:n.jsxs("button",{onClick:Ee,className:Mt("text-white px-6 py-2 rounded-xl flex items-center font-semibold","hover:opacity-90 transition-all duration-200"),style:{backgroundColor:s},children:[n.jsx(Go,{className:"mr-2",style:{color:"white"}}),"Download PDF"]})})]})]})}),n.jsx(t4,{})]}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-md max-w-md",children:[n.jsx(ua,{className:"w-16 h-16 mx-auto mb-4",style:{color:s}}),n.jsx("div",{className:"text-red-500 text-xl mb-4",children:"School ID not found"}),n.jsx("div",{className:"text-gray-600 mb-4",children:"Please login again to access the exam system."}),n.jsx("button",{onClick:()=>window.location.reload(),className:Mt("px-4 py-2 text-white rounded-xl font-semibold hover:opacity-90 transition-all duration-200","disabled:opacity-50"),style:{backgroundColor:s},children:"Refresh Page"})]})})},UIe="https://vidyaastra.com/api/schools",RIe="https://vidyaastra.com/api/fee/all-unfiltered",QIe="https://vidyaastra.com/api/students",HIe="https://vidyaastra.com/api/classes",$Ie=()=>{const[t,r]=w.useState(""),[a,s]=w.useState([]),[i,o]=w.useState(!0),[l,c]=w.useState(""),[d,f]=w.useState(""),[u,m]=w.useState(""),[p,g]=w.useState(""),[v,y]=w.useState(""),[b,j]=w.useState({start:"",end:""}),[N,S]=w.useState([]),[B,I]=w.useState({}),[F,O]=w.useState({}),[k,V]=w.useState(1),[Q]=w.useState(10),[H,M]=w.useState(1),[K,q]=w.useState(0),[re,ee]=w.useState(null);w.useEffect(()=>{(async()=>{o(!0);try{await le()}catch(te){c("Error fetching data: "+te.message)}finally{o(!1)}})()},[k]),w.useEffect(()=>{const he=async()=>{const te=localStorage.getItem("token"),J=[...new Set(N.map(X=>X.studentId?._id).filter(X=>X&&!B[X]))];if(J.length!==0)try{const X=J.map(async ge=>{try{const pe=await fetch(`${QIe}/${ge}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${te}`}});if(!pe.ok)throw new Error(`HTTP error! Status: ${pe.status}`);const Y=await pe.json();if(!Y.success)throw new Error(Y.message||`Failed to fetch student ${ge}`);let Le="N/A";const ie=Y.data?.classId;if(ie){if(typeof ie=="object"){const de=ie.className||"N/A",je=ie.section||"";Le=je?`${de} ${je}`:de}else if(typeof ie=="string")try{const de=await fetch(`${HIe}/${ie}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${te}`}});if(!de.ok)throw new Error(`HTTP error! Status: ${de.status}`);const je=await de.json();if(!je.success)throw new Error(je.message||`Failed to fetch class ${ie}`);const ye=je.data?.className||"N/A",Ce=je.data?.section||"";Le=Ce?`${ye} ${Ce}`:ye}catch(de){console.error(`Error fetching class for student ${ge}:`,de.message),Le="N/A"}}return{id:ge,classWithSection:Le}}catch(pe){return console.error(`Error fetching student ${ge}:`,pe.message),{id:ge,classWithSection:"N/A"}}}),Ne=(await Promise.all(X)).reduce((ge,{id:pe,classWithSection:Y})=>(ge[pe]=Y,ge),{});I(ge=>({...ge,...Ne}))}catch(X){c("Error fetching student classes: "+X.message)}};N.length>0&&he()},[N,B]),w.useEffect(()=>{const he=async()=>{const te=localStorage.getItem("token"),J=[...new Set(N.map(X=>X.schoolId).filter(X=>X&&!F[X]))];if(J.length!==0)try{const X=J.map(async ge=>{try{const pe=await fetch(`${UIe}/${ge}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${te}`}});if(!pe.ok)throw new Error(`HTTP error! Status: ${pe.status}`);const Y=await pe.json();if(!Y.success)throw new Error(Y.message||`Failed to fetch school ${ge}`);return{id:ge,name:Y.data?.name||"Unknown"}}catch(pe){return console.error(`Error fetching school ${ge}:`,pe.message),{id:ge,name:"Unknown"}}}),Ne=(await Promise.all(X)).reduce((ge,{id:pe,name:Y})=>(ge[pe]={name:Y},ge),{});O(ge=>({...ge,...Ne}))}catch(X){c("Error fetching school details: "+X.message)}};N.length>0&&he()},[N,F]),w.useEffect(()=>{if(N.length>0){const he=N.map(te=>{let J=te.status?te.status.charAt(0).toUpperCase()+te.status.slice(1):"Unknown";te.paid>0&&te.pending>0&&(J="Partial");const X=ye=>{const Ce=new Date(ye);return Ce instanceof Date&&!isNaN(Ce)},xe=(()=>{const Ce=te.installments.find(be=>be.status==="pending")||te.installments[0];return Ce?.dueDate&&X(Ce.dueDate)?new Date(Ce.dueDate).toISOString().split("T")[0]:"Unknown"})(),Ne=te.installments.find(Ce=>Ce.status==="paid")?.paymentMethod||"N/A",ge=typeof te.totalAmount=="number"?te.totalAmount:0,pe=typeof te.paid=="number"?te.paid:0,Y=typeof te.pending=="number"?te.pending:0,Le={name:te.studentId?.name||"Unknown Student",rollNumber:te.studentId?.rollNumber||"Unknown",class:B[te.studentId?._id]||"N/A",schoolId:te.schoolId||"Unknown"},ie=te.schoolId,je=(F[ie]||{name:"Unknown"}).name;return{id:te._id||"Unknown",studentName:Le.name,rollNumber:Le.rollNumber,class:Le.class,schoolId:Le.schoolId,schoolName:je,paymentMethod:Ne,amount:ge,paidAmount:pe,pendingAmount:Y,dueDate:xe,status:J,installments:te.installments||[]}});s(he)}},[N,B,F]);const le=async()=>{try{const he=localStorage.getItem("token"),te=await fetch(`${RIe}?page=${k}&limit=${Q}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`}});if(!te.ok)throw new Error(`HTTP error! Status: ${te.status}`);const J=await te.json();if(!J.success)throw new Error(J.message||"Failed to fetch fees");S(J.data||[]),M(J.totalPages||1),q(J.total||0)}catch(he){c("Error fetching fees: "+he.message)}},Ae=a.filter(he=>{const te=!t||he.studentName.toLowerCase().includes(t.toLowerCase())||he.rollNumber.includes(t)||he.class.toLowerCase().includes(t.toLowerCase())||he.paymentMethod.toLowerCase().includes(t.toLowerCase())||he.schoolName.toLowerCase().includes(t.toLowerCase()),J=!d||he.status===d,X=!u||he.class===u,xe=!p||he.paymentMethod===p,Ne=!v||he.schoolName===v;let ge=!0;return b.start&&b.end&&(ge=he.dueDate!=="Unknown"&&he.dueDate>=b.start&&he.dueDate<=b.end),te&&J&&X&&xe&&Ne&&ge}),ue=[...new Set(a.map(he=>he.class))].filter(he=>he&&he!=="N/A").sort(),se=[...new Set(a.map(he=>he.paymentMethod))].filter(he=>he&&he!=="N/A").sort(),ve=["Paid","Partial","Pending"],_=[...new Set(a.map(he=>he.schoolName))].filter(he=>he&&he!=="Unknown").sort(),z=()=>{r(""),f(""),m(""),g(""),y(""),j({start:"",end:""}),V(1)},ae=he=>{he>=1&&he<=H&&V(he)},oe=()=>{if(Ae.length===0){alert("No data to export");return}const he=Ae.map(ge=>({"School Name":ge.schoolName,"Student Name":ge.studentName,"Roll Number":ge.rollNumber,Class:ge.class,"Payment Method":ge.paymentMethod,"Total Amount":ge.amount,"Paid Amount":ge.paidAmount,"Pending Amount":ge.pendingAmount,"Due Date":ge.dueDate,Status:ge.status})),te=Object.keys(he[0]),J=[te.join(","),...he.map(ge=>te.map(pe=>`"${ge[pe]||"N/A"}"`).join(","))].join(`
`),X=new Blob([J],{type:"text/csv;charset=utf-8;"}),xe=document.createElement("a"),Ne=URL.createObjectURL(X);xe.setAttribute("href",Ne),xe.setAttribute("download",`fees_${new Date().toISOString().split("T")[0]}.csv`),xe.style.visibility="hidden",document.body.appendChild(xe),xe.click(),document.body.removeChild(xe)},ce=he=>({Paid:{icon:b7,color:"text-green-700 bg-green-100"},Partial:{icon:m2,color:"text-orange-700 bg-orange-100"},Pending:{icon:B1,color:"text-red-700 bg-red-100"}})[he]||{icon:B1,color:"text-red-700 bg-red-100"},me=Ae.reduce((he,te)=>({total:he.total+(te.amount||0),paid:he.paid+(te.paidAmount||0),pending:he.pending+(te.pendingAmount||0)}),{total:0,paid:0,pending:0});return n.jsx("div",{className:"min-h-screen bg-gray-100 p-4",children:n.jsxs("div",{className:"max-w-full mx-auto",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h1",{className:"text-2xl font-bold text-[#1C1444]",children:"Student Fee Management"}),n.jsxs("button",{onClick:oe,className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2",title:"Export to CSV",disabled:i,children:[n.jsx(Gq,{})," ",n.jsx("span",{children:"Export CSV"})]})]}),n.jsxs("div",{className:"relative mb-4",children:[n.jsx(eY,{className:"absolute left-3 top-3 text-[#F37021]"}),n.jsx("input",{type:"text",placeholder:"Search by school, student name, roll number, class, or payment method...",value:t,onChange:he=>r(he.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] placeholder-gray-400",disabled:i})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("span",{className:"text-sm text-[#1C1444]",children:["Showing ",Ae.length," of ",K," records"]})})}),n.jsxs("div",{className:"border-t pt-4 mt-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"School"}),n.jsxs("select",{value:v,onChange:he=>y(he.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white",children:[n.jsx("option",{value:"",children:"All Schools"}),_.map(he=>n.jsx("option",{value:he,children:he},he))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Class"}),n.jsxs("select",{value:u,onChange:he=>m(he.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white",children:[n.jsx("option",{value:"",children:"All Classes"}),ue.map(he=>n.jsx("option",{value:he,children:he},he))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Payment Method"}),n.jsxs("select",{value:p,onChange:he=>g(he.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white",children:[n.jsx("option",{value:"",children:"All Payment Methods"}),se.map(he=>n.jsx("option",{value:he,children:he},he))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Status"}),n.jsxs("select",{value:d,onChange:he=>f(he.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white",children:[n.jsx("option",{value:"",children:"All Statuses"}),ve.map(he=>n.jsx("option",{value:he,children:he},he))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Due Date From"}),n.jsx("input",{type:"date",value:b.start,onChange:he=>j({...b,start:he.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Due Date To"}),n.jsx("input",{type:"date",value:b.end,onChange:he=>j({...b,end:he.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white"})]})]}),n.jsx("div",{className:"mt-4",children:n.jsx("button",{onClick:z,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-[#1C1444]",children:"Clear All Filters"})})]})]}),i&&n.jsxs("div",{className:"p-6 text-center",children:[n.jsx(m2,{className:"w-12 h-12 text-[#F37021] mx-auto mb-4 animate-pulse"}),n.jsx("p",{className:"text-[#1C1444] text-lg",children:"Loading fee records..."})]}),l&&n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"bg-red-100 text-red-700 rounded-lg p-4 flex items-center",children:[n.jsx(B1,{className:"w-5 h-5 mr-2"}),l]})}),!i&&!l&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[{value:`${me.total.toLocaleString()}`,label:"Total Fee",color:"text-[#1C1444]"},{value:`${me.paid.toLocaleString()}`,label:"Paid Amount",color:"text-green-600"},{value:`${me.pending.toLocaleString()}`,label:"Pending Amount",color:"text-red-600"}].map((he,te)=>n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[n.jsx("div",{className:`${he.color} text-xl font-bold`,children:he.value}),n.jsx("div",{className:"text-[#1C1444]",children:he.label})]},te))}),!i&&!l&&n.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsx("tr",{children:["School Name","Student Name","Roll No","Class","Payment Method","Amount","Paid","Pending","Due Date","Status","Actions"].map((he,te)=>n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-[#1C1444]",children:he},te))})}),n.jsxs("tbody",{className:"divide-y divide-gray-200",children:[Ae.map(he=>{const{icon:te,color:J}=ce(he.status);return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:he.schoolName}),n.jsx("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:he.studentName}),n.jsx("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:he.rollNumber}),n.jsx("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:he.class}),n.jsx("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:he.paymentMethod}),n.jsxs("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:["",he.amount.toLocaleString()]}),n.jsxs("td",{className:"px-4 py-3 text-sm text-green-600",children:["",he.paidAmount.toLocaleString()]}),n.jsxs("td",{className:"px-4 py-3 text-sm text-red-600",children:["",he.pendingAmount.toLocaleString()]}),n.jsx("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:he.dueDate}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${J}`,children:[te&&n.jsx(te,{className:"text-[#F37021]"})," ",he.status]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("div",{className:"flex space-x-2",children:n.jsx("button",{onClick:()=>{console.log("Setting viewingFee:",he),ee(he)},className:"text-[#F37021] hover:text-[#d65f1c]",children:n.jsx(j7,{})})})})]},he.id)}),Ae.length===0&&a.length>0&&n.jsx("tr",{children:n.jsx("td",{colSpan:"11",className:"px-4 py-8 text-center",children:n.jsxs("div",{className:"text-[#1C1444]",children:[n.jsx("p",{className:"mb-2",children:"No fee records match your current filters"}),n.jsx("button",{onClick:z,className:"text-[#F37021] hover:text-[#d65f1c] underline",children:"Clear all filters"})]})})}),Ae.length===0&&a.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:"11",className:"px-4 py-8 text-center text-[#1C1444]",children:"No fee records found"})})]})]})})}),!i&&!l&&K>0&&n.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[n.jsxs("div",{className:"text-sm text-[#1C1444]",children:["Page ",k," of ",H]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>ae(k-1),disabled:k===1,className:"px-4 py-2 bg-gray-200 text-[#1C1444] rounded-lg disabled:opacity-50 hover:bg-gray-300",children:"Previous"}),n.jsx("button",{onClick:()=>ae(k+1),disabled:k===H,className:"px-4 py-2 bg-gray-200 text-[#1C1444] rounded-lg disabled:opacity-50 hover:bg-gray-300",children:"Next"})]})]}),re&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto relative",children:[n.jsx("button",{onClick:()=>{console.log("Clearing viewingFee"),ee(null)},className:"absolute top-4 right-4 text-[#1C1444] hover:text-[#F37021] text-2xl font-bold transition-colors",children:""}),n.jsx("h2",{className:"text-2xl font-bold text-[#1C1444] mb-6",children:"Fee Record Details"}),re?n.jsx("div",{className:"space-y-4",children:(()=>{const he=ce(re.status||"Unknown"),te=[{label:"School Name",value:re.schoolName||"N/A"},{label:"Student Name",value:re.studentName||"N/A"},{label:"Roll Number",value:re.rollNumber||"N/A"},{label:"Class",value:re.class||"N/A"},{label:"Payment Method",value:re.paymentMethod||"N/A"},{label:"Total Amount",value:re.amount?`${re.amount.toLocaleString()}`:"N/A"},{label:"Paid Amount",value:re.paidAmount?`${re.paidAmount.toLocaleString()}`:"N/A",className:"text-green-600"},{label:"Pending Amount",value:re.pendingAmount?`${re.pendingAmount.toLocaleString()}`:"N/A",className:"text-red-600"},{label:"Due Date",value:re.dueDate||"N/A"},{label:"Status",value:n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${he.color}`,children:[he.icon&&n.jsx(he.icon,{className:"text-[#F37021]"}),re.status||"Unknown"]})}];return re.installments?.length>0&&te.push({label:"Installments",value:n.jsx("div",{className:"mt-2",children:re.installments.map((J,X)=>n.jsxs("div",{className:"border-t pt-2 mt-2",children:[n.jsxs("p",{children:[n.jsxs("strong",{children:["Installment ",X+1,":"]})," ",J.amount?`${J.amount.toLocaleString()}`:"N/A"]}),n.jsxs("p",{children:["Paid:"," ",J.paid?`${J.paid.toLocaleString()}`:"N/A"]}),n.jsxs("p",{children:["Pending:"," ",J.pending?`${J.pending.toLocaleString()}`:"N/A"]}),n.jsxs("p",{children:["Due Date:"," ",J.dueDate?new Date(J.dueDate).toISOString().split("T")[0]:"N/A"]}),n.jsxs("p",{children:["Status: ",J.status||"N/A"]}),J.paidDate&&n.jsxs("p",{children:["Paid Date:"," ",new Date(J.paidDate).toISOString().split("T")[0]]}),J.receiptNumber&&n.jsxs("p",{children:["Receipt: ",J.receiptNumber]}),J.paymentMethod&&n.jsxs("p",{children:["Method: ",J.paymentMethod]})]},X))})}),te.map((J,X)=>n.jsxs("div",{className:"border-b border-gray-200 pb-3",children:[n.jsx("span",{className:"text-sm font-medium text-gray-500 block",children:J.label}),n.jsx("div",{className:`text-base font-semibold ${J.className||"text-[#1C1444]"}`,children:J.value})]},X))})()}):n.jsx("div",{className:"text-center text-red-600",children:"Error: Fee record details not available"}),n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsx("button",{onClick:()=>{console.log("Clearing viewingFee via Close button"),ee(null)},className:"px-4 py-2 bg-[#F37021] text-white rounded-lg hover:bg-[#d65f1c] transition-colors",children:"Close"})})]})})]})})},zIe=()=>n.jsx("div",{className:"max-w-4xl mx-auto px-6 py-8 bg-white",children:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-8",children:"PRIVACY POLICY"}),n.jsx("p",{className:"text-gray-600 mb-8",children:"Effective date: 2025-09-07"}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"1. Introduction"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsxs("p",{children:["Welcome to ",n.jsx("strong",{children:"vidyaastra"}),"."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"vidyaastra"}),' ("us", "we", or "our") operates'," ",n.jsx("strong",{children:"https://vidyaastra.com"})," (hereinafter referred to as ",n.jsx("strong",{children:'"Service"'}),")."]}),n.jsxs("p",{children:["Our Privacy Policy governs your visit to"," ",n.jsx("strong",{children:"https://vidyaastra.com"}),", and explains how we collect, safeguard and disclose information that results from your use of our Service."]}),n.jsx("p",{children:"We use your data to provide and improve Service. By using Service, you agree to the collection and use of information in accordance with this policy. Unless otherwise defined in this Privacy Policy, the terms used in this Privacy Policy have the same meanings as in our Terms and Conditions."}),n.jsxs("p",{children:["Our Terms and Conditions (",n.jsx("strong",{children:'"Terms"'}),") govern all use of our Service and together with the Privacy Policy constitutes your agreement with us (",n.jsx("strong",{children:'"agreement"'}),")."]})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"2. Definitions"}),n.jsxs("div",{className:"space-y-3 text-gray-700",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"SERVICE"})," means the https://vidyaastra.com website operated by vidyaastra."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"PERSONAL DATA"})," means data about a living individual who can be identified from those data (or from those and other information either in our possession or likely to come into our possession)."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"USAGE DATA"})," is data collected automatically either generated by the use of Service or from Service infrastructure itself (for example, the duration of a page visit)."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"COOKIES"})," are small files stored on your device (computer or mobile device)."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"DATA CONTROLLER"})," means a natural or legal person who (either alone or jointly or in common with other persons) determines the purposes for which and the manner in which any personal data are, or are to be, processed. For the purpose of this Privacy Policy, we are a Data Controller of your data."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"DATA PROCESSORS (OR SERVICE PROVIDERS)"})," means any natural or legal person who processes the data on behalf of the Data Controller. We may use the services of various Service Providers in order to process your data more effectively."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"DATA SUBJECT"})," is any living individual who is the subject of Personal Data."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"THE USER"})," is the individual using our Service. The User corresponds to the Data Subject, who is the subject of Personal Data."]})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"3. Information Collection and Use"}),n.jsx("p",{className:"text-gray-700",children:"We collect several different types of information for various purposes to provide and improve our Service to you."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"4. Types of Data Collected"}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Personal Data"}),n.jsxs("p",{className:"text-gray-700 mb-3",children:["While using our Service, we may ask you to provide us with certain personally identifiable information that can be used to contact or identify you (",n.jsx("strong",{children:'"Personal Data"'}),"). Personally identifiable information may include, but is not limited to:"]}),n.jsxs("ul",{className:"list-decimal list-inside space-y-2 text-gray-700 ml-4",children:[n.jsx("li",{children:"Email address"}),n.jsx("li",{children:"First name and last name"}),n.jsx("li",{children:"Phone number"}),n.jsx("li",{children:"Address, Country, State, Province, ZIP/Postal code, City"}),n.jsx("li",{children:"Cookies and Usage Data"})]}),n.jsx("p",{className:"text-gray-700 mt-4",children:"We may use your Personal Data to contact you with newsletters, marketing or promotional materials and other information that may be of interest to you. You may opt out of receiving any, or all, of these communications from us by following the unsubscribe link."})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Usage Data"}),n.jsxs("p",{className:"text-gray-700 mb-3",children:["We may also collect information that your browser sends whenever you visit our Service or when you access Service by or through any device (",n.jsx("strong",{children:'"Usage Data"'}),")."]}),n.jsx("p",{className:"text-gray-700 mb-3",children:"This Usage Data may include information such as your computer's Internet Protocol address (e.g. IP address), browser type, browser version, the pages of our Service that you visit, the time and date of your visit, the time spent on those pages, unique device identifiers and other diagnostic data."}),n.jsx("p",{className:"text-gray-700",children:"When you access Service with a device, this Usage Data may include information such as the type of device you use, your device unique ID, the IP address of your device, your device operating system, the type of Internet browser you use, unique device identifiers and other diagnostic data."})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Tracking Cookies Data"}),n.jsx("p",{className:"text-gray-700 mb-3",children:"We use cookies and similar tracking technologies to track the activity on our Service and we hold certain information."}),n.jsx("p",{className:"text-gray-700 mb-3",children:"Cookies are files with a small amount of data which may include an anonymous unique identifier. Cookies are sent to your browser from a website and stored on your device. Other tracking technologies are also used such as beacons, tags and scripts to collect and track information and to improve and analyze our Service."}),n.jsx("p",{className:"text-gray-700 mb-4",children:"You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent. However, if you do not accept cookies, you may not be able to use some portions of our Service."}),n.jsx("p",{className:"text-gray-700 mb-2",children:"Examples of Cookies we use:"}),n.jsxs("ul",{className:"list-decimal list-inside space-y-2 text-gray-700 ml-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Session Cookies:"})," We use Session Cookies to operate our Service."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Preference Cookies:"})," We use Preference Cookies to remember your preferences and various settings."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Security Cookies:"})," We use Security Cookies for security purposes."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Advertising Cookies:"})," Advertising Cookies are used to serve you with advertisements that may be relevant to you and your interests."]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Other Data"}),n.jsxs("p",{className:"text-gray-700",children:["While using our Service, we may also collect the following information: sex, age, date of birth, place of birth, passport details, citizenship, registration at place of residence and actual address, telephone number (work, mobile), details of documents on education, qualification, professional training, employment agreements,"," ",", information on bonuses and compensation, information on marital status, family members, social security (or other taxpayer identification) number, office location and other data."]})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"5. Use of Data"}),n.jsx("p",{className:"text-gray-700 mb-3",children:"vidyaastra uses the collected data for various purposes:"}),n.jsxs("ul",{className:"list-decimal list-inside space-y-2 text-gray-700 ml-4",children:[n.jsx("li",{children:"to provide and maintain our Service;"}),n.jsx("li",{children:"to notify you about changes to our Service;"}),n.jsx("li",{children:"to allow you to participate in interactive features of our Service when you choose to do so;"}),n.jsx("li",{children:"to provide customer support;"}),n.jsx("li",{children:"to gather analysis or valuable information so that we can improve our Service;"}),n.jsx("li",{children:"to monitor the usage of our Service;"}),n.jsx("li",{children:"to detect, prevent and address technical issues;"}),n.jsx("li",{children:"to fulfil any other purpose for which you provide it;"}),n.jsx("li",{children:"to carry out our obligations and enforce our rights arising from any contracts entered into between you and us, including for billing and collection;"}),n.jsx("li",{children:"to provide you with notices about your account and/or subscription, including expiration and renewal notices, email-instructions, etc.;"}),n.jsx("li",{children:"to provide you with news, special offers and general information about other goods, services and events which we offer that are similar to those that you have already purchased or enquired about unless you have opted not to receive such information;"}),n.jsx("li",{children:"in any other way we may describe when you provide the information;"}),n.jsx("li",{children:"for any other purpose with your consent."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"6. Retention of Data"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"We will retain your Personal Data only for as long as is necessary for the purposes set out in this Privacy Policy. We will retain and use your Personal Data to the extent necessary to comply with our legal obligations (for example, if we are required to retain your data to comply with applicable laws), resolve disputes, and enforce our legal agreements and policies."}),n.jsx("p",{children:"We will also retain Usage Data for internal analysis purposes. Usage Data is generally retained for a shorter period, except when this data is used to strengthen the security or to improve the functionality of our Service, or we are legally obligated to retain this data for longer time periods."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"7. Transfer of Data"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"Your information, including Personal Data, may be transferred to  and maintained on  computers located outside of your state, province, country or other governmental jurisdiction where the data protection laws may differ from those of your jurisdiction."}),n.jsx("p",{children:"If you are located outside India and choose to provide information to us, please note that we transfer the data, including Personal Data, to India and process it there."}),n.jsx("p",{children:"Your consent to this Privacy Policy followed by your submission of such information represents your agreement to that transfer."}),n.jsx("p",{children:"vidyaastra will take all the steps reasonably necessary to ensure that your data is treated securely and in accordance with this Privacy Policy and no transfer of your Personal Data will take place to an organisation or a country unless there are adequate controls in place including the security of your data and other personal information."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"8. Disclosure of Data"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"We may disclose personal information that we collect, or you provide:"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"8.1. Disclosure for Law Enforcement"}),n.jsx("p",{className:"text-gray-700",children:"Under certain circumstances, we may be required to disclose your Personal Data if required to do so by law or in response to valid requests by public authorities."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"8.2. Business Transaction"}),n.jsx("p",{className:"text-gray-700",children:"If we or our subsidiaries are involved in a merger, acquisition or asset sale, your Personal Data may be transferred."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"8.3. Other cases. We may disclose your information also:"}),n.jsxs("ul",{className:"list-decimal list-inside space-y-2 text-gray-700 ml-4",children:[n.jsx("li",{children:"to our subsidiaries and affiliates;"}),n.jsx("li",{children:"to contractors, service providers, and other third parties we use to support our business;"}),n.jsx("li",{children:"to fulfill the purpose for which you provide it;"}),n.jsx("li",{children:"for the purpose of including your company's logo on our website;"}),n.jsx("li",{children:"for any other purpose disclosed by us when you provide the information;"}),n.jsx("li",{children:"with your consent in any other cases;"}),n.jsx("li",{children:"if we believe disclosure is necessary or appropriate to protect the rights, property, or safety of the Company, our customers, or others."})]})]})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"9. Security of Data"}),n.jsx("p",{className:"text-gray-700",children:"The security of your data is important to us but remember that no method of transmission over the Internet or method of electronic storage is 100% secure. While we strive to use commercially acceptable means to protect your Personal Data, we cannot guarantee its absolute security."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"10. Your Data Protection Rights Under General Data Protection Regulation (GDPR)"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"If you are a resident of the European Union (EU) and European Economic Area (EEA), you have certain data protection rights, covered by GDPR."}),n.jsx("p",{children:"We aim to take reasonable steps to allow you to correct, amend, delete, or limit the use of your Personal Data."}),n.jsxs("p",{children:["If you wish to be informed what Personal Data we hold about you and if you want it to be removed from our systems, please email us at ",n.jsx("strong",{children:"support@vidyaastra.com"}),"."]}),n.jsx("p",{children:"In certain circumstances, you have the following data protection rights:"}),n.jsxs("ul",{className:"list-decimal list-inside space-y-2 ml-4",children:[n.jsx("li",{children:"the right to access, update or to delete the information we have on you;"}),n.jsx("li",{children:"the right of rectification. You have the right to have your information rectified if that information is inaccurate or incomplete;"}),n.jsx("li",{children:"the right to object. You have the right to object to our processing of your Personal Data;"}),n.jsx("li",{children:"the right of restriction. You have the right to request that we restrict the processing of your personal information;"}),n.jsx("li",{children:"the right to data portability. You have the right to be provided with a copy of your Personal Data in a structured, machine-readable and commonly used format;"}),n.jsx("li",{children:"the right to withdraw consent. You also have the right to withdraw your consent at any time where we rely on your consent to process your personal information;"})]}),n.jsx("p",{children:"Please note that we may ask you to verify your identity before responding to such requests. Please note, we may not able to provide Service without some necessary data."}),n.jsx("p",{children:"You have the right to complain to a Data Protection Authority about our collection and use of your Personal Data. For more information, please contact your local data protection authority in the European Economic Area (EEA)."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"11. Your Data Protection Rights under the California Privacy Protection Act (CalOPPA)"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"CalOPPA is the first state law in the nation to require commercial websites and online services to post a privacy policy. The law's reach stretches well beyond California to require a person or company in the United States (and conceivable the world) that operates websites collecting personally identifiable information from California consumers to post a conspicuous privacy policy on its website stating exactly the information being collected and those individuals with whom it is being shared, and to comply with this policy."}),n.jsx("p",{children:"According to CalOPPA we agree to the following:"}),n.jsxs("ul",{className:"list-decimal list-inside space-y-2 ml-4",children:[n.jsx("li",{children:"users can visit our site anonymously;"}),n.jsx("li",{children:'our Privacy Policy link includes the word "Privacy", and can easily be found on the home page of our website;'}),n.jsx("li",{children:"users will be notified of any privacy policy changes on our Privacy Policy Page;"}),n.jsxs("li",{children:["users are able to change their personal information by emailing us at ",n.jsx("strong",{children:"support@vidyaastra.com"}),"."]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("p",{className:"font-semibold",children:'Our Policy on "Do Not Track" Signals:'}),n.jsx("p",{children:"We honor Do Not Track signals and do not track, plant cookies, or use advertising when a Do Not Track browser mechanism is in place. Do Not Track is a preference you can set in your web browser to inform websites that you do not want to be tracked."}),n.jsx("p",{children:"You can enable or disable Do Not Track by visiting the Preferences or Settings page of your web browser."})]})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"12. Your Data Protection Rights under the California Consumer Privacy Act (CCPA)"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"If you are a California resident, you are entitled to learn what data we collect about you, ask to delete your data and not to sell (share) it. To exercise your data protection rights, you can make certain requests and ask us:"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:"12.1. What personal information we have about you. If you make this request, we will return to you:"}),n.jsxs("ul",{className:"list-decimal list-inside space-y-1 ml-8",children:[n.jsx("li",{children:"The categories of personal information we have collected about you."}),n.jsx("li",{children:"The categories of sources from which we collect your personal information."}),n.jsx("li",{children:"The business or commercial purpose for collecting or selling your personal information."}),n.jsx("li",{children:"The categories of third parties with whom we share personal information."}),n.jsx("li",{children:"The specific pieces of personal information we have collected about you."}),n.jsx("li",{children:"A list of categories of personal information that we have sold, along with the category of any other company we sold it to. If we have not sold your personal information, we will inform you of that fact."}),n.jsx("li",{children:"A list of categories of personal information that we have disclosed for a business purpose, along with the category of any other company we shared it with."})]}),n.jsx("p",{className:"mt-2",children:"Please note, you are entitled to ask us to provide you with this information up to two times in a rolling twelve-month period. When you make this request, the information provided may be limited to the personal information we collected about you in the previous 12 months."})]}),n.jsxs("p",{children:[n.jsx("strong",{children:"12.2. To delete your personal information."})," If you make this request, we will delete the personal information we hold about you as of the date of your request from our records and direct any service providers to do the same. In some cases, deletion may be accomplished through de-identification of the information. If you choose to delete your personal information, you may not be able to use certain functions that require your personal information to operate."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"12.3. To stop selling your personal information."})," ",`We don't sell or rent your personal information to any third parties for any purpose. We do not sell your personal information for monetary consideration. However, under some circumstances, a transfer of personal information to a third party, or within our family of companies, without monetary consideration may be considered a "sale" under California law. You are the only owner of your Personal Data and can request disclosure or deletion at any time.`]}),n.jsx("p",{children:"If you submit a request to stop selling your personal information, we will stop making such transfers."}),n.jsx("p",{children:"Please note, if you ask us to delete or stop selling your data, it may impact your experience with us, and you may not be able to participate in certain programs or membership services which require the usage of your personal information to function. But in no circumstances, we will discriminate against you for exercising your rights."}),n.jsxs("p",{children:["To exercise your California data protection rights described above, please send your request(s) by email:"," ",n.jsx("strong",{children:"support@vidyaastra.com"}),"."]}),n.jsx("p",{children:"Your data protection rights, described above, are covered by the CCPA, short for the California Consumer Privacy Act. To find out more, visit the official California Legislative Information website. The CCPA took effect on 01/01/2020."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"13. Service Providers"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsxs("p",{children:["We may employ third party companies and individuals to facilitate our Service (",n.jsx("strong",{children:'"Service Providers"'}),"), provide Service on our behalf, perform Service-related services or assist us in analysing how our Service is used."]}),n.jsx("p",{children:"These third parties have access to your Personal Data only to perform these tasks on our behalf and are obligated not to disclose or use it for any other purpose."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"14. Analytics"}),n.jsx("p",{className:"text-gray-700",children:"We may use third-party Service Providers to monitor and analyze the use of our Service."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"15. CI/CD tools"}),n.jsx("p",{className:"text-gray-700",children:"We may use third-party Service Providers to automate the development process of our Service."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"16. Behavioral Remarketing"}),n.jsx("p",{className:"text-gray-700",children:"We may use remarketing services to advertise on third party websites to you after you visited our Service. We and our third-party vendors use cookies to inform, optimise and serve ads based on your past visits to our Service."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"17. Links to Other Sites"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"Our Service may contain links to other sites that are not operated by us. If you click a third party link, you will be directed to that third party's site. We strongly advise you to review the Privacy Policy of every site you visit."}),n.jsx("p",{children:"We have no control over and assume no responsibility for the content, privacy policies or practices of any third party sites or services."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"18. Children's Privacy"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsxs("p",{children:["Our Services are not intended for use by children under the age of 18 (",n.jsx("strong",{children:'"Child"'})," or ",n.jsx("strong",{children:'"Children"'}),")."]}),n.jsx("p",{children:"We do not knowingly collect personally identifiable information from Children under 18. If you become aware that a Child has provided us with Personal Data, please contact us. If we become aware that we have collected Personal Data from Children without verification of parental consent, we take steps to remove that information from our servers."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"19. Changes to This Privacy Policy"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page."}),n.jsx("p",{children:'We will let you know via email and/or a prominent notice on our Service, prior to the change becoming effective and update "effective date" at the top of this Privacy Policy.'}),n.jsx("p",{children:"You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"20. Contact Us"}),n.jsxs("p",{className:"text-gray-700",children:["If you have any questions about this Privacy Policy, please contact us by email: ",n.jsx("strong",{children:"support@vidyaastra.com"}),"."]})]})]})}),VIe=()=>n.jsx("div",{className:"max-w-4xl mx-auto px-6 py-8 bg-white",children:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-8",children:"TERMS AND CONDITIONS"}),n.jsx("p",{className:"text-gray-600 mb-8",children:"Last updated: 2025-09-07"}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"1. Introduction"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsxs("p",{children:["Welcome to ",n.jsx("strong",{children:"vidyaastra"}),' ("Company", "we", "our", "us")!']}),n.jsxs("p",{children:['These Terms of Service ("Terms", "Terms of Service") govern your use of our website located at'," ",n.jsx("strong",{children:"https://vidyaastra.com"}),' (together or individually "Service") operated by ',n.jsx("strong",{children:"vidyaastra"}),"."]}),n.jsx("p",{children:"Our Privacy Policy also governs your use of our Service and explains how we collect, safeguard and disclose information that results from your use of our web pages."}),n.jsx("p",{children:'Your agreement with us includes these Terms and our Privacy Policy ("Agreements"). You acknowledge that you have read and understood Agreements, and agree to be bound of them.'}),n.jsxs("p",{children:["If you do not agree with (or cannot comply with) Agreements, then you may not use the Service, but please let us know by emailing at"," ",n.jsx("strong",{children:"support@vidyaastra.com"})," so we can try to find a solution. These Terms apply to all visitors, users and others who wish to access or use Service."]})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"2. Communications"}),n.jsx("p",{className:"text-gray-700",children:"By using our Service, you agree to subscribe to newsletters, marketing or promotional materials and other information we may send. However, you may opt out of receiving any, or all, of these communications from us by following the unsubscribe link or by emailing at support@vidyaastra.com."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"3. Contests, Sweepstakes and Promotions"}),n.jsx("p",{className:"text-gray-700",children:'Any contests, sweepstakes or other promotions (collectively, "Promotions") made available through Service may be governed by rules that are separate from these Terms of Service. If you participate in any Promotions, please review the applicable rules as well as our Privacy Policy. If the rules for a Promotion conflict with these Terms of Service, Promotion rules will apply.'})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"4. Content"}),n.jsx("p",{className:"text-gray-700",children:"Content found on or through this Service are the property of vidyaastra or used with permission. You may not distribute, modify, transmit, reuse, download, repost, copy, or use said Content, whether in whole or in part, for commercial purposes or for personal gain, without express advance written permission from us."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"5. Prohibited Uses"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"You may use Service only for lawful purposes and in accordance with Terms. You agree not to use Service:"}),n.jsxs("ul",{className:"list-decimal list-inside space-y-2 ml-4",children:[n.jsx("li",{children:"In any way that violates any applicable national or international law or regulation."}),n.jsx("li",{children:"For the purpose of exploiting, harming, or attempting to exploit or harm minors in any way by exposing them to inappropriate content or otherwise."}),n.jsx("li",{children:'To transmit, or procure the sending of, any advertising or promotional material, including any "junk mail", "chain letter," "spam," or any other similar solicitation.'}),n.jsx("li",{children:"To impersonate or attempt to impersonate Company, a Company employee, another user, or any other person or entity."}),n.jsx("li",{children:"In any way that infringes upon the rights of others, or in any way is illegal, threatening, fraudulent, or harmful, or in connection with any unlawful, illegal, fraudulent, or harmful purpose or activity."}),n.jsx("li",{children:"To engage in any other conduct that restricts or inhibits anyone's use or enjoyment of Service, or which, as determined by us, may harm or offend Company or users of Service or expose them to liability."})]}),n.jsx("p",{className:"mt-6",children:"Additionally, you agree not to:"}),n.jsxs("ul",{className:"list-decimal list-inside space-y-2 ml-4",children:[n.jsx("li",{children:"Use Service in any manner that could disable, overburden, damage, or impair Service or interfere with any other party's use of Service, including their ability to engage in real time activities through Service."}),n.jsx("li",{children:"Use any robot, spider, or other automatic device, process, or means to access Service for any purpose, including monitoring or copying any of the material on Service."}),n.jsx("li",{children:"Use any manual process to monitor or copy any of the material on Service or for any other unauthorized purpose without our prior written consent."}),n.jsx("li",{children:"Use any device, software, or routine that interferes with the proper working of Service."}),n.jsx("li",{children:"Introduce any viruses, trojan horses, worms, logic bombs, or other material which is malicious or technologically harmful."}),n.jsx("li",{children:"Attempt to gain unauthorized access to, interfere with, damage, or disrupt any parts of Service, the server on which Service is stored, or any server, computer, or database connected to Service."}),n.jsx("li",{children:"Attack Service via a denial-of-service attack or a distributed denial-of-service attack."}),n.jsx("li",{children:"Take any action that may damage or falsify Company rating."}),n.jsx("li",{children:"Otherwise attempt to interfere with the proper working of Service."})]})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"6. Analytics"}),n.jsx("p",{className:"text-gray-700",children:"We may use third-party Service Providers to monitor and analyze the use of our Service."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"7. No Use By Minors"}),n.jsx("p",{className:"text-gray-700",children:"Service is intended only for access and use by individuals at least eighteen (18) years old. By accessing or using Service, you warrant and represent that you are at least eighteen (18) years of age and with the full authority, right, and capacity to enter into this agreement and abide by all of the terms and conditions of Terms. If you are not at least eighteen (18) years old, you are prohibited from both the access and usage of Service."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"8. Intellectual Property"}),n.jsx("p",{className:"text-gray-700",children:"Service and its original content (excluding Content provided by users), features and functionality are and will remain the exclusive property of vidyaastra and its licensors. Service is protected by copyright, trademark, and other laws of and foreign countries. Our trademarks may not be used in connection with any product or service without the prior written consent of vidyaastra."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"9. Copyright Policy"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:'We respect the intellectual property rights of others. It is our policy to respond to any claim that Content posted on Service infringes on the copyright or other intellectual property rights ("Infringement") of any person or entity.'}),n.jsx("p",{children:'If you are a copyright owner, or authorized on behalf of one, and you believe that the copyrighted work has been copied in a way that constitutes copyright infringement, please submit your claim via email to support@vidyaastra.com, with the subject line: "Copyright Infringement" and include in your claim a detailed description of the alleged Infringement as detailed below, under "DMCA Notice and Procedure for Copyright Infringement Claims"'}),n.jsx("p",{children:"You may be held accountable for damages (including costs and attorneys' fees) for misrepresentation or bad-faith claims on the infringement of any Content found on and/or through Service on your copyright."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"10. DMCA Notice and Procedure for Copyright Infringement Claims"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"You may submit a notification pursuant to the Digital Millennium Copyright Act (DMCA) by providing our Copyright Agent with the following information in writing (see 17 U.S.C 512(c)(3) for further detail):"}),n.jsxs("ul",{className:"list-decimal list-inside space-y-2 ml-4",children:[n.jsx("li",{children:"an electronic or physical signature of the person authorized to act on behalf of the owner of the copyright's interest;"}),n.jsx("li",{children:"a description of the copyrighted work that you claim has been infringed, including the URL (i.e., web page address) of the location where the copyrighted work exists or a copy of the copyrighted work;"}),n.jsx("li",{children:"identification of the URL or other specific location on Service where the material that you claim is infringing is located;"}),n.jsx("li",{children:"your address, telephone number, and email address;"}),n.jsx("li",{children:"a statement by you that you have a good faith belief that the disputed use is not authorized by the copyright owner, its agent, or the law;"}),n.jsx("li",{children:"a statement by you, made under penalty of perjury, that the above information in your notice is accurate and that you are the copyright owner or authorized to act on the copyright owner's behalf."})]}),n.jsx("p",{children:"You can contact our Copyright Agent via email at support@vidyaastra.com."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"11. Error Reporting and Feedback"}),n.jsx("p",{className:"text-gray-700",children:'You may provide us either directly at support@vidyaastra.com or via third party sites and tools with information and feedback concerning errors, suggestions for improvements, ideas, problems, complaints, and other matters related to our Service ("Feedback"). You acknowledge and agree that: (i) you shall not retain, acquire or assert any intellectual property right or other right, title or interest in or to the Feedback; (ii) Company may have development ideas similar to the Feedback; (iii) Feedback does not contain confidential information or proprietary information from you or any third party; and (iv) Company is not under any obligation of confidentiality with respect to the Feedback. In the event the transfer of the ownership to the Feedback is not possible due to applicable mandatory laws, you grant Company and its affiliates an exclusive, transferable, irrevocable, free-of-charge, sub-licensable, unlimited and perpetual right to use (including copy, modify, create derivative works, publish, distribute and commercialize) Feedback in any manner and for any purpose.'})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"12. Links To Other Web Sites"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"Our Service may contain links to third party web sites or services that are not owned or controlled by vidyaastra."}),n.jsx("p",{children:"vidyaastra has no control over, and assumes no responsibility for the content, privacy policies, or practices of any third party web sites or services. We do not warrant the offerings of any of these entities/individuals or their websites."}),n.jsx("p",{className:"font-semibold uppercase",children:"YOU ACKNOWLEDGE AND AGREE THAT COMPANY SHALL NOT BE RESPONSIBLE OR LIABLE, DIRECTLY OR INDIRECTLY, FOR ANY DAMAGE OR LOSS CAUSED OR ALLEGED TO BE CAUSED BY OR IN CONNECTION WITH USE OF OR RELIANCE ON ANY SUCH CONTENT, GOODS OR SERVICES AVAILABLE ON OR THROUGH ANY SUCH THIRD PARTY WEB SITES OR SERVICES."}),n.jsx("p",{className:"font-semibold uppercase",children:"WE STRONGLY ADVISE YOU TO READ THE TERMS OF SERVICE AND PRIVACY POLICIES OF ANY THIRD PARTY WEB SITES OR SERVICES THAT YOU VISIT."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"13. Disclaimer Of Warranty"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{className:"font-semibold uppercase",children:'THESE SERVICES ARE PROVIDED BY COMPANY ON AN "AS IS" AND "AS AVAILABLE" BASIS. COMPANY MAKES NO REPRESENTATIONS OR WARRANTIES OF ANY KIND, EXPRESS OR IMPLIED, AS TO THE OPERATION OF THEIR SERVICES, OR THE INFORMATION, CONTENT OR MATERIALS INCLUDED THEREIN. YOU EXPRESSLY AGREE THAT YOUR USE OF THESE SERVICES, THEIR CONTENT, AND ANY SERVICES OR ITEMS OBTAINED FROM US IS AT YOUR SOLE RISK.'}),n.jsx("p",{className:"font-semibold uppercase",children:"NEITHER COMPANY NOR ANY PERSON ASSOCIATED WITH COMPANY MAKES ANY WARRANTY OR REPRESENTATION WITH RESPECT TO THE COMPLETENESS, SECURITY, RELIABILITY, QUALITY, ACCURACY, OR AVAILABILITY OF THE SERVICES. WITHOUT LIMITING THE FOREGOING, NEITHER COMPANY NOR ANYONE ASSOCIATED WITH COMPANY REPRESENTS OR WARRANTS THAT THE SERVICES, THEIR CONTENT, OR ANY SERVICES OR ITEMS OBTAINED THROUGH THE SERVICES WILL BE ACCURATE, RELIABLE, ERROR-FREE, OR UNINTERRUPTED, THAT DEFECTS WILL BE CORRECTED, THAT THE SERVICES OR THE SERVER THAT MAKES IT AVAILABLE ARE FREE OF VIRUSES OR OTHER HARMFUL COMPONENTS OR THAT THE SERVICES OR ANY SERVICES OR ITEMS OBTAINED THROUGH THE SERVICES WILL OTHERWISE MEET YOUR NEEDS OR EXPECTATIONS."}),n.jsx("p",{className:"font-semibold uppercase",children:"COMPANY HEREBY DISCLAIMS ALL WARRANTIES OF ANY KIND, WHETHER EXPRESS OR IMPLIED, STATUTORY, OR OTHERWISE, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF MERCHANTABILITY, NON-INFRINGEMENT, AND FITNESS FOR PARTICULAR PURPOSE."}),n.jsx("p",{className:"font-semibold uppercase",children:"THE FOREGOING DOES NOT AFFECT ANY WARRANTIES WHICH CANNOT BE EXCLUDED OR LIMITED UNDER APPLICABLE LAW."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"14. Limitation Of Liability"}),n.jsx("p",{className:"text-gray-700 font-semibold uppercase",children:"EXCEPT AS PROHIBITED BY LAW, YOU WILL HOLD US AND OUR OFFICERS, DIRECTORS, EMPLOYEES, AND AGENTS HARMLESS FOR ANY INDIRECT, PUNITIVE, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGE, HOWEVER IT ARISES (INCLUDING ATTORNEYS' FEES AND ALL RELATED COSTS AND EXPENSES OF LITIGATION AND ARBITRATION, OR AT TRIAL OR ON APPEAL, IF ANY, WHETHER OR NOT LITIGATION OR ARBITRATION IS INSTITUTED), WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE, OR OTHER TORTIOUS ACTION, OR ARISING OUT OF OR IN CONNECTION WITH THIS AGREEMENT, INCLUDING WITHOUT LIMITATION ANY CLAIM FOR PERSONAL INJURY OR PROPERTY DAMAGE, ARISING FROM THIS AGREEMENT AND ANY VIOLATION BY YOU OF ANY FEDERAL, STATE, OR LOCAL LAWS, STATUTES, RULES, OR REGULATIONS, EVEN IF COMPANY HAS BEEN PREVIOUSLY ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. EXCEPT AS PROHIBITED BY LAW, IF THERE IS LIABILITY FOUND ON THE PART OF COMPANY, IT WILL BE LIMITED TO THE AMOUNT PAID FOR THE PRODUCTS AND/OR SERVICES, AND UNDER NO CIRCUMSTANCES WILL THERE BE CONSEQUENTIAL OR PUNITIVE DAMAGES. SOME STATES DO NOT ALLOW THE EXCLUSION OR LIMITATION OF PUNITIVE, INCIDENTAL OR CONSEQUENTIAL DAMAGES, SO THE PRIOR LIMITATION OR EXCLUSION MAY NOT APPLY TO YOU."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"15. Termination"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"We may terminate or suspend your account and bar access to Service immediately, without prior notice or liability, under our sole discretion, for any reason whatsoever and without limitation, including but not limited to a breach of Terms."}),n.jsx("p",{children:"If you wish to terminate your account, you may simply discontinue using Service."}),n.jsx("p",{children:"All provisions of Terms which by their nature should survive termination shall survive termination, including, without limitation, ownership provisions, warranty disclaimers, indemnity and limitations of liability."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"16. Governing Law"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"These Terms shall be governed and construed in accordance with the laws of India, which governing law applies to agreement without regard to its conflict of law provisions."}),n.jsx("p",{children:"Our failure to enforce any right or provision of these Terms will not be considered a waiver of those rights. If any provision of these Terms is held to be invalid or unenforceable by a court, the remaining provisions of these Terms will remain in effect. These Terms constitute the entire agreement between us regarding our Service and supersede and replace any prior agreements we might have had between us regarding Service."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"17. Changes To Service"}),n.jsx("p",{className:"text-gray-700",children:"We reserve the right to withdraw or amend our Service, and any service or material we provide via Service, in our sole discretion without notice. We will not be liable if for any reason all or any part of Service is unavailable at any time or for any period. From time to time, we may restrict access to some parts of Service, or the entire Service, to users, including registered users."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"18. Amendments To Terms"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"We may amend Terms at any time by posting the amended terms on this site. It is your responsibility to review these Terms periodically."}),n.jsx("p",{children:"Your continued use of the Platform following the posting of revised Terms means that you accept and agree to the changes. You are expected to check this page frequently so you are aware of any changes, as they are binding on you."}),n.jsx("p",{children:"By continuing to access or use our Service after any revisions become effective, you agree to be bound by the revised terms. If you do not agree to the new terms, you are no longer authorized to use Service."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"19. Waiver And Severability"}),n.jsxs("div",{className:"space-y-4 text-gray-700",children:[n.jsx("p",{children:"No waiver by Company of any term or condition set forth in Terms shall be deemed a further or continuing waiver of such term or condition or a waiver of any other term or condition, and any failure of Company to assert a right or provision under Terms shall not constitute a waiver of such right or provision."}),n.jsx("p",{children:"If any provision of Terms is held by a court or other tribunal of competent jurisdiction to be invalid, illegal or unenforceable for any reason, such provision shall be eliminated or limited to the minimum extent such that the remaining provisions of Terms will continue in full force and effect."})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"20. Acknowledgement"}),n.jsx("p",{className:"text-gray-700 font-semibold uppercase",children:"BY USING SERVICE OR OTHER SERVICES PROVIDED BY US, YOU ACKNOWLEDGE THAT YOU HAVE READ THESE TERMS OF SERVICE AND AGREE TO BE BOUND BY THEM."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"21. Contact Us"}),n.jsxs("p",{className:"text-gray-700",children:["Please send your feedback, comments, requests for technical support by email: ",n.jsx("strong",{children:"support@vidyaastra.com"}),"."]})]})]})}),Gb=()=>n.jsxs("footer",{className:"bg-white text-[#17024F] relative",children:[n.jsx("style",{children:`
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes pulse {
          0% { transform: scale(1); }
          50% { transform: scale(1.1); }
          100% { transform: scale(1); }
        }
        .animate-fadeInUp { animation: fadeInUp 0.8s ease-out forwards; }
        .animate-pulse { animation: pulse 1.5s infinite ease-in-out; }
        .footer-link:hover, .social-icon:hover {
          transform: translateY(-2px);
          color: #FF6200;
        }
        .contact-item:hover .contact-icon {
          transform: scale(1.2);
        }
      `}),n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12 sm:py-16",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[n.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[n.jsx("img",{src:Yg,alt:"Vidyaastra Logo",className:"h-20 w-auto mb-4 animate-fadeInUp",style:{animationDelay:"0.1s"}}),n.jsx("p",{className:"text-gray-600 text-sm text-center md:text-left max-w-xs animate-fadeInUp",style:{animationDelay:"0.2s"},children:"Vidyaastra: Empowering schools with seamless management and enhanced engagement."}),n.jsx("div",{className:"flex space-x-4 mt-4",children:[{icon:mTe,href:"https://twitter.com",label:"Twitter"},{icon:uTe,href:"https://linkedin.com",label:"LinkedIn"},{icon:fTe,href:"https://facebook.com",label:"Facebook"},{icon:ATe,href:"https://instagram.com",label:"Instagram"}].map((t,r)=>n.jsx("a",{href:t.href,target:"_blank",rel:"noopener noreferrer",className:"text-[#17024F] hover:text-orange-500 transition-all duration-300 social-icon animate-fadeInUp","aria-label":t.label,style:{animationDelay:`${.3+r*.1}s`},children:n.jsx(ls,{icon:t.icon,className:"w-6 h-6 hover:animate-pulse"})},r))})]}),n.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[n.jsx("h3",{className:"text-lg font-semibold text-[#17024F] mb-4 animate-fadeInUp",style:{animationDelay:"0.4s"},children:"Quick Links"}),n.jsx("ul",{className:"space-y-2 text-gray-600 text-sm",children:[{to:"/",label:"Home"},{to:"/about",label:"About"},{to:"/features",label:"Features"},{to:"/contact",label:"Contact"}].map((t,r)=>n.jsx("li",{children:n.jsx(Nn,{to:t.to,className:"footer-link hover:text-orange-500 transition-all duration-200 animate-fadeInUp",style:{animationDelay:`${.5+r*.1}s`},children:t.label})},r))})]}),n.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[n.jsx("h3",{className:"text-lg font-semibold text-[#17024F] mb-4 animate-fadeInUp",style:{animationDelay:"0.7s"},children:"Download App"}),n.jsxs("div",{className:"flex flex-col space-y-4",children:[n.jsx("a",{href:"https://play.google.com/store/apps/details?id=com.schoolmanagment",target:"_blank",rel:"noopener noreferrer",className:"animate-fadeInUp",style:{animationDelay:"0.8s"},children:n.jsx("img",{src:"/badge-google-play.webp ",alt:"Get it on Google Play",className:"h-12 w-auto"})}),n.jsx("a",{target:"_blank",rel:"noopener noreferrer",className:"animate-fadeInUp",style:{animationDelay:"0.9s"},onClick:()=>alert("Comming soon..."),children:n.jsx("img",{src:"/badge-google-play-apple.webp",alt:"Download on the App Store",className:"h-12 w-auto"})})]})]}),n.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[n.jsx("h3",{className:"text-lg font-semibold text-[#17024F] mb-4 animate-fadeInUp",style:{animationDelay:"1s"},children:"Contact Us"}),n.jsx("div",{className:"space-y-3 text-gray-600 text-sm",children:[{icon:YK,content:"104/1 Singapura Main Road near Reliance Smart , Bengaluru , Karnataka , 560097"},{icon:qK,content:"+91-8123486068",href:"tel:+91-8123486068"},{icon:GK,content:"support@vidyaastra.com",href:"mailto:info@vidyaastra.com"}].map((t,r)=>n.jsxs("div",{className:"flex items-start space-x-3 contact-item animate-fadeInUp",style:{animationDelay:`${1.1+r*.1}s`},children:[n.jsx(ls,{icon:t.icon,className:"text-orange-500 w-5 h-5 mt-1 transition-transform contact-icon","aria-hidden":"true"}),t.href?n.jsx("a",{href:t.href,className:"hover:text-orange-500 transition-colors",children:t.content}):n.jsx("p",{children:t.content})]},r))})]})]})}),n.jsx("div",{className:"border-t border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0 text-gray-600 text-sm",children:[n.jsxs("div",{className:"flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-6",children:[n.jsxs("p",{className:"animate-fadeInUp",style:{animationDelay:"1.5s"},children:[" ",new Date().getFullYear()," Vidyaastra. All rights reserved."]}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx(Nn,{to:"/PrivacyPolicy",className:"footer-link hover:text-orange-500 transition-all duration-200 animate-fadeInUp",style:{animationDelay:"1.6s"},children:"Privacy Policy"}),n.jsx("span",{className:"text-gray-400",children:""}),n.jsx(Nn,{to:"/Terms&Conditions",className:"footer-link hover:text-orange-500 transition-all duration-200 animate-fadeInUp",style:{animationDelay:"1.7s"},children:"Terms & Conditions"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 animate-fadeInUp",style:{animationDelay:"1.8s"},children:[n.jsx("span",{children:"A Product of"}),n.jsxs("a",{href:"https://parnetsgroup.com/",className:"font-medium text-orange-500 hover:text-orange-400 transition-colors",children:[n.jsx("span",{className:"text-orange-500",children:"Par"}),n.jsx("span",{className:"text-black",children:"Nets"})]}),n.jsx("span",{children:"Software India Pvt Ltd"})]})]})})})]}),KIe=()=>n.jsxs("section",{className:"max-w-7xl mx-auto px-4 py-12 bg-gray-50",children:[n.jsx("style",{children:`
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeInUp { animation: fadeInUp 0.8s ease-out forwards; }
        .feature-card {
          transition: all 0.3s ease;
        }
        .feature-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
        }
        .usp-card {
          transition: all 0.3s ease;
        }
        .usp-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }
      `}),n.jsxs("div",{className:"mb-12",children:[n.jsxs("h2",{className:"text-3xl sm:text-4xl font-extrabold text-center text-gray-900 mb-8 animate-fadeInUp",children:[n.jsx("span",{className:"text-orange-600",children:"Features"})," for Everyone"]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[n.jsxs(Hr.div,{className:"bg-white rounded-xl shadow-lg p-6 feature-card",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"For School Admins"}),n.jsxs("ul",{className:"space-y-3 text-gray-500 text-base",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx(ls,{icon:KTe,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Fee Collection & Online Payments"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(ls,{icon:bTe,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Attendance & Timetable Management"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(ls,{icon:qL,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Report Cards & Exam Management"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(ls,{icon:DTe,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Transport & Bus Tracking"]})]})]}),n.jsxs(Hr.div,{className:"bg-white rounded-xl shadow-lg p-6 feature-card",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"For Teachers"}),n.jsxs("ul",{className:"space-y-3 text-gray-500 text-base",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx(ls,{icon:l2,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Quick Attendance Marking"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(ls,{icon:HTe,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Homework & Assignment Uploads"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(ls,{icon:qL,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Exam & Marks Entry"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(ls,{icon:_Te,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Direct Parent Communication"]})]})]}),n.jsxs(Hr.div,{className:"bg-white rounded-xl shadow-lg p-6 feature-card",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"For Parents & Students"}),n.jsxs("ul",{className:"space-y-3 text-gray-500 text-base",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx(ls,{icon:WK,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Real-time Notifications"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(ls,{icon:UTe,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Online Fee Payment"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(ls,{icon:VTe,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Homework & Class Updates"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(ls,{icon:CTe,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Progress Reports & Digital Report Cards"]})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[n.jsxs("h2",{className:"text-3xl sm:text-4xl font-extrabold text-center text-gray-900 mb-6 sm:mb-8 animate-fadeInUp",children:[n.jsx("span",{className:"text-orange-600",children:"What Makes"})," Vidyaastra Different?"]}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[n.jsxs(Hr.div,{className:"flex items-start space-x-3 bg-gray-50 p-4 rounded-lg usp-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[n.jsx(ls,{icon:$Te,className:"text-orange-600 w-6 h-6 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Time-Saving Automation"}),n.jsx("p",{className:"text-gray-500 text-base",children:"Focus more on education, less on admin tasks with our streamlined automation tools."})]})]}),n.jsxs(Hr.div,{className:"flex items-start space-x-3 bg-gray-50 p-4 rounded-lg usp-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[n.jsx(ls,{icon:QTe,className:"text-orange-600 w-6 h-6 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Anytime, Anywhere Access"}),n.jsx("p",{className:"text-gray-500 text-base",children:"Web & mobile ready platform for seamless access from any device."})]})]}),n.jsxs(Hr.div,{className:"flex items-start space-x-3 bg-gray-50 p-4 rounded-lg usp-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[n.jsx(ls,{icon:STe,className:"text-orange-600 w-6 h-6 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Simple & User-Friendly"}),n.jsx("p",{className:"text-gray-500 text-base",children:"No technical skills needed to navigate our intuitive interface."})]})]}),n.jsxs(Hr.div,{className:"flex items-start space-x-3 bg-gray-50 p-4 rounded-lg usp-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},children:[n.jsx(ls,{icon:RTe,className:"text-orange-600 w-6 h-6 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Data Security First"}),n.jsx("p",{className:"text-gray-500 text-base",children:"Safe & encrypted platform to protect your school's data."})]})]}),n.jsxs(Hr.div,{className:"flex items-start space-x-3 bg-gray-50 p-4 rounded-lg usp-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:[n.jsx(ls,{icon:TTe,className:"text-orange-600 w-6 h-6 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Smart Insights"}),n.jsx("p",{className:"text-gray-500 text-base",children:"Track school growth & student progress with actionable analytics."})]})]})]})]})]}),GIe=()=>{const[t,r]=w.useState({name:"",school:"",email:"",phone:"",message:""}),[a,s]=w.useState(!1),i=l=>{r({...t,[l.target.name]:l.target.value})},o=async l=>{l.preventDefault();try{(await It.post("https://vidyaastra.com/api/enquiries",t)).status===201&&(r({name:"",school:"",email:"",phone:"",message:""}),setIsOpen(!1),s(!0),setTimeout(()=>{s(!1)},3e3))}catch(c){c.response&&alert(c.response.data.errors||c.response.data.message),console.log(c)}};return n.jsxs("section",{className:"max-w-7xl mx-auto px-4 py-12 bg-gray-50 min-h-screen",children:[n.jsx("style",{children:`
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeInUp { animation: fadeInUp 0.8s ease-out forwards; }
        .input-field {
          transition: all 0.3s ease;
        }
        .input-field:focus {
          border-color: #f97316; /* orange-600 */
          box-shadow: 0 0 0 3px rgba(234, 88, 12, 0.2);
        }
        .submit-button:hover {
          transform: translateY(-2px);
        }
        .contact-card {
          transition: all 0.3s ease;
        }
        .contact-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }
        .toast {
          position: fixed;
          top: 20px;
          right: 20px;
          background: #f97316; /* orange-600 */
          color: white;
          padding: 12px 24px;
          border-radius: 8px;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
          z-index: 1000;
        }
      `}),n.jsxs("div",{className:"text-center mb-12",children:[n.jsxs("h1",{className:"text-3xl sm:text-5xl font-extrabold text-gray-900 mb-6 animate-fadeInUp",children:[n.jsx("span",{className:"text-orange-600",children:"Get in Touch"})," with Us"]}),n.jsx(Hr.p,{className:"text-base sm:text-lg text-gray-500 max-w-3xl mx-auto leading-relaxed",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:"We're here to help you transform your school with Vidyaastra. Reach out to us for any queries or to schedule a demo."})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[n.jsxs(Hr.div,{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8 contact-card",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Contact Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(ls,{icon:YK,className:"text-orange-600 w-6 h-6 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Address"}),n.jsxs("p",{className:"text-gray-500 text-base",children:["104/1 Singapura Main Road near Reliance Smart,",n.jsx("br",{})," Bengaluru , Karnataka , 560097"]})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(ls,{icon:qK,className:"text-orange-600 w-6 h-6 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Phone"}),n.jsx("a",{className:"text-gray-500 text-base hover:text-orange-500",href:"tel:+91-8123486068",children:"+91-8123486068"})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(ls,{icon:GK,className:"text-orange-600 w-6 h-6 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Email"}),n.jsx("a",{className:"text-gray-500 text-base hover:text-orange-500",href:"mailto:info@vidyaastra.com",children:"support@vidyaastra.com"})]})]})]})]}),n.jsxs(Hr.div,{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Send Us a Message"}),n.jsxs("form",{onSubmit:o,className:"space-y-5",children:[n.jsx("div",{children:n.jsx("input",{type:"text",name:"name",value:t.name,onChange:i,required:!0,placeholder:"Enter your name",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-3 text-gray-900 text-base"})}),n.jsx("div",{children:n.jsx("input",{type:"text",name:"school",value:t.school,onChange:i,required:!0,placeholder:"Enter your school/institution name",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-3 text-gray-900 text-base"})}),n.jsx("div",{children:n.jsx("input",{type:"email",name:"email",value:t.email,onChange:i,required:!0,placeholder:"Enter your email",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-3 text-gray-900 text-base"})}),n.jsx("div",{children:n.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:i,required:!0,placeholder:"Enter your phone number",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-3 text-gray-900 text-base"})}),n.jsx("div",{children:n.jsx("textarea",{name:"message",value:t.message,onChange:i,rows:"4",required:!0,placeholder:"Enter your message",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-3 text-gray-900 text-base"})}),n.jsx("button",{type:"submit",className:"submit-button w-full bg-orange-600 hover:bg-orange-500 text-white font-bold py-3 px-4 rounded-lg shadow-md transition duration-300 text-base",children:"Submit Enquiry"})]})]})]}),n.jsx(Oy,{children:a&&n.jsx(Hr.div,{className:"toast",initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{duration:.3},children:"Enquiry submitted successfully!"})})]})},r7={pending:{icon:Ea,color:"bg-yellow-500 text-white"},"in-progress":{icon:ua,color:"bg-blue-500 text-white"},resolved:{icon:Dn,color:"bg-green-500 text-white"},closed:{icon:cr,color:"bg-gray-500 text-white"}},WIe={low:{color:"bg-green-100 text-green-800"},medium:{color:"bg-yellow-100 text-yellow-800"},high:{color:"bg-red-100 text-red-800"}},qIe=()=>{const[t,r]=w.useState(""),[a,s]=w.useState(""),[i,o]=w.useState([]),[l,c]=w.useState(null),[d,f]=w.useState(!0),[u,m]=w.useState(""),[p,g]=w.useState(""),[v,y]=w.useState(!1),[b,j]=w.useState({start:"",end:""}),[N,S]=w.useState(1),[B]=w.useState(10),[I,F]=w.useState(1),[O,k]=w.useState(0),[V,Q]=w.useState(null),[H,M]=w.useState(!1),K=async()=>{try{f(!0),console.log(`[API] Fetching enquiries for page ${N}`);const _=new URLSearchParams({page:N,limit:B});u&&_.append("status",u),p&&_.append("priority",p),a&&_.append("search",a);const ae=await(await fetch(`https://vidyaastra.com/api/enquiries?${_}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();if(console.log("[API] Enquiries API response:",ae),ae.success&&Array.isArray(ae.data)){const oe=ae.data.map(ce=>({id:ce._id,name:ce.name||"Unknown",school:ce.school||"Unknown School",email:ce.email||"",phone:ce.phone||"",message:ce.message||"",status:ce.status||"pending",priority:ce.priority||"medium",date:q(ce.createdAt),updatedAt:q(ce.updatedAt)}));o(oe),F(ae.pagination?.pages||1),k(ae.pagination?.total||0),c(null)}else c(ae.message||"Failed to fetch enquiries"),o([])}catch(_){console.error("[API] Error fetching enquiries:",_.message),c("Error fetching enquiries: "+_.message),o([])}finally{f(!1)}};w.useEffect(()=>{K()},[N,u,p,a]);const q=_=>{if(!_)return"N/A";try{const z=new Date(_);return isNaN(z)?"N/A":z.toISOString().slice(0,10)}catch{return"N/A"}},re=w.useMemo(()=>i.filter(_=>{let z=!0;b.start&&b.end?z=_.date!=="N/A"&&_.date>=b.start&&_.date<=b.end:t&&(z=_.date===t);const ae=!a||_.name.toLowerCase().includes(a.toLowerCase())||_.school.toLowerCase().includes(a.toLowerCase())||_.email.toLowerCase().includes(a.toLowerCase())||_.phone.includes(a),oe=!u||_.status===u,ce=!p||_.priority===p;return z&&ae&&oe&&ce}),[i,t,a,u,p,b]),ee=()=>{s(""),m(""),g(""),j({start:"",end:""}),r(""),S(1)},le=()=>{if(re.length===0){alert("No data to export");return}const _=re.map(te=>({Date:te.date,Name:te.name,School:te.school,Email:te.email,Phone:te.phone,Message:te.message.replace(/,/g,";"),Status:te.status.charAt(0).toUpperCase()+te.status.slice(1),Priority:te.priority.charAt(0).toUpperCase()+te.priority.slice(1),"Last Updated":te.updatedAt})),z=Object.keys(_[0]),ae=[z.join(","),..._.map(te=>z.map(J=>`"${te[J]??""}"`).join(","))].join(`
`),oe=new Blob([ae],{type:"text/csv;charset=utf-8;"}),ce=document.createElement("a"),me=URL.createObjectURL(oe);ce.setAttribute("href",me);let he="enquiries_";u&&(he+=`${u}_`),p&&(he+=`${p}_`),t?he+=`${t}_`:b.start&&b.end&&(he+=`${b.start}_to_${b.end}_`),he+=`${new Date().toISOString().split("T")[0]}.csv`,ce.setAttribute("download",he),ce.style.visibility="hidden",document.body.appendChild(ce),ce.click(),document.body.removeChild(ce)},Ae=async(_,z,ae)=>{try{const ce=await(await fetch(`https://vidyaastra.com/api/enquiries/${_}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:z,priority:ae})})).json();ce.success?(K(),M(!1)):c(ce.message||"Failed to update enquiry")}catch(oe){c("Error updating enquiry: "+oe.message)}},ue=async _=>{if(confirm("Are you sure you want to delete this enquiry?"))try{const ae=await(await fetch(`https://vidyaastra.com/api/enquiries/${_}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();ae.success?K():c(ae.message||"Failed to delete enquiry")}catch(z){c("Error deleting enquiry: "+z.message)}},se=w.useMemo(()=>[{icon:$j,value:re.length,label:"Total Enquiries",color:"orange"},{icon:Ea,value:re.filter(_=>_.status==="pending").length,label:"Pending",color:"yellow"},{icon:ua,value:re.filter(_=>_.status==="in-progress").length,label:"In Progress",color:"blue"},{icon:Dn,value:re.filter(_=>_.status==="resolved").length,label:"Resolved",color:"green"}],[re]),ve=_=>{_>=1&&_<=I&&S(_)};return n.jsxs("div",{className:"space-y-8 p-8 bg-gradient-to-b from-[#1C1444]/5 to-white min-h-screen",children:[n.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-[#1C1444]/10 transition-all duration-300 hover:shadow-2xl",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-extrabold text-[#1C1444] tracking-tight",children:"Enquiry Management"}),n.jsx("p",{className:"text-[#1C1444]/80 text-lg mt-1",children:"Manage and track enquiry submissions"})]}),n.jsxs("button",{onClick:le,className:"bg-gradient-to-r from-[#F37021] to-[#d55f1c] hover:from-[#d55f1c] hover:to-[#b54e17] text-white px-6 py-3 rounded-lg shadow-md flex items-center space-x-2 transform transition-all duration-200 hover:scale-105 disabled:opacity-50",title:"Export to CSV",disabled:d,children:[n.jsx(Us,{className:"w-5 h-5"})," ",n.jsx("span",{children:"Export CSV"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Status"}),n.jsxs("select",{value:u,onChange:_=>{m(_.target.value),S(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:d,children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"in-progress",children:"In Progress"}),n.jsx("option",{value:"resolved",children:"Resolved"}),n.jsx("option",{value:"closed",children:"Closed"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Priority"}),n.jsxs("select",{value:p,onChange:_=>{g(_.target.value),S(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:d,children:[n.jsx("option",{value:"",children:"All Priority"}),n.jsx("option",{value:"low",children:"Low"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"high",children:"High"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Date"}),n.jsxs("div",{className:"relative",children:[n.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#1C1444]/60 w-5 h-5"}),n.jsx("input",{type:"date",value:t,onChange:_=>{r(_.target.value),j({start:"",end:""}),S(1)},className:"w-full pl-10 pr-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:d})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(Sa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#1C1444]/60 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search by name, school, email...",value:a,onChange:_=>s(_.target.value),className:"w-full pl-10 pr-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:d})]})]})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{className:"text-sm text-[#1C1444]/80",children:["Showing ",re.length," of ",O," records"]}),n.jsxs("button",{onClick:()=>y(!v),className:"flex items-center space-x-2 px-4 py-2 border border-[#1C1444]/20 rounded-lg bg-white hover:bg-[#1C1444] hover:text-white transition-all duration-200 disabled:opacity-50",disabled:d,children:[n.jsx(mo,{className:"w-5 h-5"}),n.jsx("span",{children:"Advanced Filters"})]})]})}),v&&n.jsx("div",{className:"border-t pt-6 mt-6 border-[#1C1444]/10 transition-all duration-300",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Date Range Start"}),n.jsx("input",{type:"date",value:b.start,onChange:_=>{j({...b,start:_.target.value}),r(""),S(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:d})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Date Range End"}),n.jsx("input",{type:"date",value:b.end,onChange:_=>{j({...b,end:_.target.value}),r(""),S(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:d})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:ee,className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg bg-white hover:bg-[#1C1444] hover:text-white text-[#1C1444] transition-all duration-200 disabled:opacity-50",disabled:d,children:"Clear Filters"})})]})})]}),d&&n.jsx("div",{className:"p-6 bg-[#F37021]/10 text-[#F37021] rounded-2xl shadow-md text-center transition-all duration-300",children:"Loading enquiry records..."}),l&&n.jsx("div",{className:"p-6 bg-red-100 text-red-700 rounded-2xl shadow-md text-center transition-all duration-300",children:l}),!d&&!l&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:se.map((_,z)=>n.jsx("div",{className:`bg-white rounded-2xl p-6 shadow-md border-l-4 border-${_.color==="orange"?"[#F37021]":_.color==="yellow"?"yellow-500":_.color==="blue"?"blue-500":_.color+"-500"} transition-all duration-300 hover:shadow-lg hover:-translate-y-1`,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(_.icon,{className:`w-10 h-10 text-${_.color==="orange"?"[#F37021]":_.color==="yellow"?"yellow-600":_.color==="blue"?"blue-600":_.color+"-600"} transition-transform duration-200 group-hover:scale-110`}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-3xl font-extrabold text-[#1C1444]",children:_.value}),n.jsx("div",{className:"text-sm text-[#1C1444]/80",children:_.label})]})]})},z))}),!d&&!l&&n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden transition-all duration-300",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gradient-to-r from-[#1C1444]/10 to-[#F37021]/10",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"School"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Contact"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Message"}),n.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Priority"}),n.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-[#1C1444]/10",children:re.map(_=>{const z=_.status,ae=r7[z]?.icon||Ea,oe=r7[z]?.color||"bg-yellow-500 text-white",ce=WIe[_.priority]?.color||"bg-gray-100 text-gray-800";return n.jsxs("tr",{className:"hover:bg-[#F37021]/5 transition-all duration-200",children:[n.jsx("td",{className:"px-6 py-4 text-sm font-medium text-[#1C1444]",children:_.date}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-[#F37021]/10 text-[#F37021] text-sm font-semibold rounded-full w-8 h-8 flex items-center justify-center mr-3 transition-transform duration-200 hover:scale-110",children:_.name.split(" ").map(me=>me[0]).join("")}),n.jsx("span",{className:"text-[#1C1444]",children:_.name})]})}),n.jsx("td",{className:"px-6 py-4 text-sm text-[#1C1444]",children:_.school}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center text-sm text-[#1C1444]",children:[n.jsx(Af,{className:"w-4 h-4 mr-2 text-[#F37021]"}),n.jsx("a",{href:`mailto:${_.email}`,className:"hover:underline",children:_.email})]}),n.jsxs("div",{className:"flex items-center text-sm text-[#1C1444]",children:[n.jsx(vu,{className:"w-4 h-4 mr-2 text-[#F37021]"}),n.jsx("a",{href:`tel:${_.phone}`,className:"hover:underline",children:_.phone})]})]})}),n.jsx("td",{className:"px-6 py-4 text-sm text-[#1C1444] max-w-xs",children:n.jsx("div",{className:"truncate",title:_.message,children:_.message.length>50?`${_.message.substring(0,50)}...`:_.message})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"flex justify-center",children:n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${ce}`,children:_.priority.charAt(0).toUpperCase()+_.priority.slice(1)})})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"flex justify-center",children:n.jsxs("span",{className:`px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 ${oe} transition-all duration-200 hover:shadow-md`,children:[n.jsx(ae,{className:"w-4 h-4"}),n.jsx("span",{className:"capitalize",children:z.replace("-"," ")})]})})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex justify-center space-x-2",children:[n.jsx("button",{onClick:()=>{Q(_),M(!0)},className:"text-[#F37021] hover:text-[#d55f1c] p-2 rounded-lg hover:bg-[#F37021]/10 transition-all duration-200",title:"View Details",children:n.jsx(ys,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>ue(_.id),className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-all duration-200",title:"Delete Enquiry",children:n.jsx(cs,{className:"w-4 h-4"})})]})})]},_.id)})})]}),re.length===0&&i.length>0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx($j,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),n.jsx("h3",{className:"text-lg font-semibold text-[#1C1444] mb-2",children:"No records match your filters"}),n.jsx("p",{className:"text-[#1C1444]/80 mb-4",children:"Try adjusting your date, status, priority, or search criteria"}),n.jsx("button",{onClick:ee,className:"text-[#F37021] hover:text-[#d55f1c] underline font-medium transition-colors duration-200",children:"Clear all filters"})]}),re.length===0&&i.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx($j,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),n.jsx("h3",{className:"text-lg font-semibold text-[#1C1444] mb-2",children:"No enquiry records found"}),n.jsx("p",{className:"text-[#1C1444]/80",children:"No enquiry data is available"})]})]}),!d&&!l&&O>0&&n.jsxs("div",{className:"mt-8 flex justify-between items-center",children:[n.jsxs("div",{className:"text-sm text-[#1C1444]/80",children:["Showing ",(N-1)*B+1," to"," ",Math.min(N*B,O)," of ",O," ","records"]}),n.jsx("button",{onClick:()=>ve(N+1),disabled:N===I,className:"px-5 py-2 bg-[#1C1444]/10 text-[#1C1444] rounded-lg disabled:opacity-50 hover:bg-[#1C1444] hover:text-white transition-all duration-200",children:"Next"})]}),H&&V&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"p-6 border-b border-[#1C1444]/10 flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-[#1C1444]",children:"Enquiry Details"}),n.jsx("button",{onClick:()=>M(!1),className:"text-[#1C1444]/60 hover:text-[#1C1444] transition-colors duration-200",children:n.jsx(cr,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Name"}),n.jsx("p",{className:"text-lg font-medium text-[#1C1444]",children:V.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"School"}),n.jsx("p",{className:"text-lg text-[#1C1444]",children:V.school})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Email"}),n.jsx("p",{className:"text-lg text-[#1C1444] break-all",children:V.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Phone"}),n.jsx("p",{className:"text-lg text-[#1C1444]",children:V.phone})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Date"}),n.jsx("p",{className:"text-lg text-[#1C1444]",children:V.date})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Message"}),n.jsx("p",{className:"text-[#1C1444] whitespace-pre-wrap",children:V.message})]})]}),n.jsxs("div",{className:"border-t pt-6 border-[#1C1444]/10",children:[n.jsx("h3",{className:"text-lg font-semibold text-[#1C1444] mb-4",children:"Update Status & Priority"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Status"}),n.jsxs("select",{value:V.status,onChange:_=>Q({...V,status:_.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"in-progress",children:"In Progress"}),n.jsx("option",{value:"resolved",children:"Resolved"}),n.jsx("option",{value:"closed",children:"Closed"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Priority"}),n.jsxs("select",{value:V.priority,onChange:_=>Q({...V,priority:_.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",children:[n.jsx("option",{value:"low",children:"Low"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"high",children:"High"})]})]})]})]})]}),n.jsxs("div",{className:"p-6 border-t border-[#1C1444]/10 flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>M(!1),className:"px-6 py-3 border border-[#1C1444]/20 text-[#1C1444] rounded-lg hover:bg-[#1C1444]/10 transition-all duration-200",children:"Cancel"}),n.jsxs("button",{onClick:()=>Ae(V.id,V.status,V.priority),className:"bg-gradient-to-r from-[#F37021] to-[#d55f1c] hover:from-[#d55f1c] hover:to-[#b54e17] text-white px-6 py-3 rounded-lg shadow-md flex items-center space-x-2 transform transition-all duration-200 hover:scale-105",children:[n.jsx(Dn,{className:"w-5 h-5"}),n.jsx("span",{children:"Update"})]})]})]})})]})},YIe=()=>{const[t,r]=w.useState(localStorage.getItem("schoolId")||""),a=tM();return w.useEffect(()=>{t&&(a(d2(t)),a(u2(t)),a(T1(t)))},[a,t]),n.jsx(Pje,{children:n.jsx(KX,{children:n.jsx(Cq,{children:n.jsxs(rb,{children:[n.jsx(Tr,{path:"/*",element:n.jsx(Lje,{children:n.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[n.jsx(VX,{}),n.jsx("div",{className:"flex-1",children:n.jsx("main",{className:"p-2",children:n.jsxs(rb,{children:[" ",n.jsx(Tr,{path:"/dashboard",element:n.jsx(jxe,{})}),n.jsx(Tr,{path:"/students",element:n.jsx(YX,{})}),n.jsx(Tr,{path:"/attendance",element:n.jsx(gJ,{})}),n.jsx(Tr,{path:"/fees",element:n.jsx(xJ,{})}),n.jsx(Tr,{path:"/subject",element:n.jsx(FIe,{})}),n.jsx(Tr,{path:"/classManagement",element:n.jsx(TZ,{})}),n.jsx(Tr,{path:"/timetable",element:n.jsx(dee,{})}),n.jsx(Tr,{path:"/exams",element:n.jsx(cre,{})}),n.jsx(Tr,{path:"/result",element:n.jsx(MIe,{})}),n.jsx(Tr,{path:"/assignments",element:n.jsx(dre,{})}),n.jsx(Tr,{path:"/library",element:n.jsx(ure,{})}),n.jsx(Tr,{path:"/teachers",element:n.jsx(fre,{})}),n.jsx(Tr,{path:"/transport",element:n.jsx(mre,{})}),n.jsx(Tr,{path:"/circular",element:n.jsx(pre,{})}),n.jsx(Tr,{path:"/diary",element:n.jsx(gre,{})}),n.jsx(Tr,{path:"/events",element:n.jsx(xre,{})}),n.jsx(Tr,{path:"/birthday",element:n.jsx(yre,{})}),n.jsx(Tr,{path:"/classwork",element:n.jsx(Cae,{})}),n.jsx(Tr,{path:"/gallery",element:n.jsx(Eae,{})}),n.jsx(Tr,{path:"/holiday",element:n.jsx(Tae,{})}),n.jsx(Tr,{path:"/uniform",element:n.jsx(Fae,{})}),n.jsx(Tr,{path:"/books",element:n.jsx(Iae,{})}),n.jsx(Tr,{path:"/orders",element:n.jsx(Mae,{})}),n.jsx(Tr,{path:"/buy",element:n.jsx(Sxe,{})}),n.jsx(Tr,{path:"/teachercreate",element:n.jsx(sNe,{})})]})})})]})})}),n.jsx(Tr,{path:"/login",element:n.jsx(Cxe,{setSchoolId:r})}),n.jsx(Tr,{path:"/admin/*",element:n.jsx(Uje,{children:n.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[n.jsx(WX,{}),n.jsx("div",{className:"flex-1",children:n.jsx("main",{className:"p-2",children:n.jsxs(rb,{children:[n.jsx(Tr,{path:"dashboard",element:n.jsx(rNe,{})}),n.jsx(Tr,{path:"students",element:n.jsx(TIe,{})}),n.jsx(Tr,{path:"attendance",element:n.jsx(Bxe,{})}),n.jsx(Tr,{path:"fees",element:n.jsx($Ie,{})}),n.jsx(Tr,{path:"timetable",element:n.jsx(Exe,{})}),n.jsx(Tr,{path:"exams",element:n.jsx(kxe,{})}),n.jsx(Tr,{path:"assignments",element:n.jsx(Pxe,{})}),n.jsx(Tr,{path:"package",element:n.jsx(Oxe,{})}),n.jsx(Tr,{path:"packagehistory",element:n.jsx(_je,{})}),n.jsx(Tr,{path:"school",element:n.jsx(kje,{})}),n.jsx(Tr,{path:"library",element:n.jsx(Rje,{})}),n.jsx(Tr,{path:"circular",element:n.jsx(Qje,{})}),n.jsx(Tr,{path:"teachers",element:n.jsx(Hje,{})}),n.jsx(Tr,{path:"transport",element:n.jsx($je,{})}),n.jsx(Tr,{path:"diary",element:n.jsx(zje,{})}),n.jsx(Tr,{path:"events",element:n.jsx(Vje,{})}),n.jsx(Tr,{path:"birthday",element:n.jsx(Kje,{})}),n.jsx(Tr,{path:"gallery",element:n.jsx(Gje,{})}),n.jsx(Tr,{path:"uniform",element:n.jsx(Yje,{})}),n.jsx(Tr,{path:"holiday",element:n.jsx(Jje,{})}),n.jsx(Tr,{path:"classwork",element:n.jsx(Zje,{})}),n.jsx(Tr,{path:"books",element:n.jsx(tNe,{})}),n.jsx(Tr,{path:"/PriceManagement",element:n.jsx(dz,{})}),n.jsx(Tr,{path:"/enquires-management",element:n.jsx(qIe,{})})]})})})]})})}),n.jsx(Tr,{path:"/superadmin-login",element:n.jsx(Mje,{})}),n.jsx(Tr,{path:"/",element:n.jsxs(n.Fragment,{children:[" ",n.jsx(Kb,{})," ",n.jsx(BIe,{})," ",n.jsx(Gb,{})]})}),n.jsx(Tr,{path:"/PrivacyPolicy",element:n.jsx(n.Fragment,{children:n.jsx(zIe,{})})}),n.jsx(Tr,{path:"/contact",element:n.jsxs(n.Fragment,{children:[n.jsx(Kb,{}),n.jsx(GIe,{}),n.jsx(Gb,{})]})}),n.jsx(Tr,{path:"/Terms&Conditions",element:n.jsx(n.Fragment,{children:n.jsx(VIe,{})})}),n.jsx(Tr,{path:"/features",element:n.jsxs(n.Fragment,{children:[n.jsx(Kb,{})," ",n.jsx(KIe,{}),n.jsx(Gb,{})]})}),n.jsx(Tr,{path:"/about",element:n.jsxs(n.Fragment,{children:[n.jsx(Kb,{}),n.jsx(EIe,{}),n.jsx(Gb,{})]})}),n.jsx(Tr,{path:"/teacher/*",element:n.jsx(Dje,{children:n.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[n.jsx(dNe,{}),n.jsx("div",{className:"flex-1",children:n.jsx("main",{className:"p-2",children:n.jsxs(rb,{children:[n.jsx(Tr,{index:!0,path:"attendance",element:n.jsx(iNe,{})}),n.jsx(Tr,{path:"assignments",element:n.jsx(cNe,{})}),n.jsx(Tr,{path:"classworks",element:n.jsx(lNe,{})}),n.jsx(Tr,{path:"submittedAssignments",element:n.jsx(IIe,{})}),n.jsx(Tr,{index:!0,element:n.jsx(ry,{to:"attendance",replace:!0})}),n.jsx(Tr,{path:"*",element:n.jsx(ry,{to:"attendance",replace:!0})})]})})})]})})})]})})})})},XIe=mM({reducer:{classes:PIe,subjects:LIe,teachers:BZ}});hW.createRoot(document.getElementById("root")).render(n.jsx(w.StrictMode,{children:n.jsx(J7,{store:XIe,children:n.jsx(YIe,{})})}));export{gs as _,Jh as c,Tc as g};
