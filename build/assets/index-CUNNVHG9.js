(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function W$(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var r=t.default;if(typeof r=="function"){var n=function a(){var i=!1;try{i=this instanceof a}catch{}return i?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var i=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(n,a,i.get?i:{enumerable:!0,get:function(){return t[a]}})}),n}var pj={exports:{}},px={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT;function q$(){if(vT)return px;vT=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function n(a,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var c in i)c!=="key"&&(o[c]=i[c])}else o=i;return i=o.ref,{$$typeof:t,type:a,key:l,ref:i!==void 0?i:null,props:o}}return px.Fragment=r,px.jsx=n,px.jsxs=n,px}var bT;function Y$(){return bT||(bT=1,pj.exports=q$()),pj.exports}var s=Y$(),gj={exports:{}},An={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT;function X$(){if(wT)return An;wT=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),m=Symbol.iterator;function p(ue){return ue===null||typeof ue!="object"?null:(ue=m&&ue[m]||ue["@@iterator"],typeof ue=="function"?ue:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,v={};function y(ue,xe,R){this.props=ue,this.context=xe,this.refs=v,this.updater=R||g}y.prototype.isReactComponent={},y.prototype.setState=function(ue,xe){if(typeof ue!="object"&&typeof ue!="function"&&ue!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ue,xe,"setState")},y.prototype.forceUpdate=function(ue){this.updater.enqueueForceUpdate(this,ue,"forceUpdate")};function j(){}j.prototype=y.prototype;function C(ue,xe,R){this.props=ue,this.context=xe,this.refs=v,this.updater=R||g}var S=C.prototype=new j;S.constructor=C,b(S,y.prototype),S.isPureReactComponent=!0;var E=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function L(ue,xe,R,G,ne,ae){return R=ae.ref,{$$typeof:t,type:ue,key:xe,ref:R!==void 0?R:null,props:ae}}function I(ue,xe){return L(ue.type,xe,void 0,void 0,void 0,ue.props)}function Y(ue){return typeof ue=="object"&&ue!==null&&ue.$$typeof===t}function Q(ue){var xe={"=":"=0",":":"=2"};return"$"+ue.replace(/[=:]/g,function(R){return xe[R]})}var H=/\/+/g;function U(ue,xe){return typeof ue=="object"&&ue!==null&&ue.key!=null?Q(""+ue.key):xe.toString(36)}function K(){}function X(ue){switch(ue.status){case"fulfilled":return ue.value;case"rejected":throw ue.reason;default:switch(typeof ue.status=="string"?ue.then(K,K):(ue.status="pending",ue.then(function(xe){ue.status==="pending"&&(ue.status="fulfilled",ue.value=xe)},function(xe){ue.status==="pending"&&(ue.status="rejected",ue.reason=xe)})),ue.status){case"fulfilled":return ue.value;case"rejected":throw ue.reason}}throw ue}function Z(ue,xe,R,G,ne){var ae=typeof ue;(ae==="undefined"||ae==="boolean")&&(ue=null);var oe=!1;if(ue===null)oe=!0;else switch(ae){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(ue.$$typeof){case t:case r:oe=!0;break;case A:return oe=ue._init,Z(oe(ue._payload),xe,R,G,ne)}}if(oe)return ne=ne(ue),oe=G===""?"."+U(ue,0):G,E(ne)?(R="",oe!=null&&(R=oe.replace(H,"$&/")+"/"),Z(ne,xe,R,"",function(te){return te})):ne!=null&&(Y(ne)&&(ne=I(ne,R+(ne.key==null||ue&&ue.key===ne.key?"":(""+ne.key).replace(H,"$&/")+"/")+oe)),xe.push(ne)),1;oe=0;var he=G===""?".":G+":";if(E(ue))for(var me=0;me<ue.length;me++)G=ue[me],ae=he+U(G,me),oe+=Z(G,xe,R,ae,ne);else if(me=p(ue),typeof me=="function")for(ue=me.call(ue),me=0;!(G=ue.next()).done;)G=G.value,ae=he+U(G,me++),oe+=Z(G,xe,R,ae,ne);else if(ae==="object"){if(typeof ue.then=="function")return Z(X(ue),xe,R,G,ne);throw xe=String(ue),Error("Objects are not valid as a React child (found: "+(xe==="[object Object]"?"object with keys {"+Object.keys(ue).join(", ")+"}":xe)+"). If you meant to render a collection of children, use an array instead.")}return oe}function ee(ue,xe,R){if(ue==null)return ue;var G=[],ne=0;return Z(ue,G,"","",function(ae){return xe.call(R,ae,ne++)}),G}function de(ue){if(ue._status===-1){var xe=ue._result;xe=xe(),xe.then(function(R){(ue._status===0||ue._status===-1)&&(ue._status=1,ue._result=R)},function(R){(ue._status===0||ue._status===-1)&&(ue._status=2,ue._result=R)}),ue._status===-1&&(ue._status=0,ue._result=xe)}if(ue._status===1)return ue._result.default;throw ue._result}var Ne=typeof reportError=="function"?reportError:function(ue){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var xe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ue=="object"&&ue!==null&&typeof ue.message=="string"?String(ue.message):String(ue),error:ue});if(!window.dispatchEvent(xe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ue);return}console.error(ue)};function Se(){}return An.Children={map:ee,forEach:function(ue,xe,R){ee(ue,function(){xe.apply(this,arguments)},R)},count:function(ue){var xe=0;return ee(ue,function(){xe++}),xe},toArray:function(ue){return ee(ue,function(xe){return xe})||[]},only:function(ue){if(!Y(ue))throw Error("React.Children.only expected to receive a single React element child.");return ue}},An.Component=y,An.Fragment=n,An.Profiler=i,An.PureComponent=C,An.StrictMode=a,An.Suspense=u,An.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,An.__COMPILER_RUNTIME={__proto__:null,c:function(ue){return D.H.useMemoCache(ue)}},An.cache=function(ue){return function(){return ue.apply(null,arguments)}},An.cloneElement=function(ue,xe,R){if(ue==null)throw Error("The argument must be a React element, but you passed "+ue+".");var G=b({},ue.props),ne=ue.key,ae=void 0;if(xe!=null)for(oe in xe.ref!==void 0&&(ae=void 0),xe.key!==void 0&&(ne=""+xe.key),xe)!k.call(xe,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&xe.ref===void 0||(G[oe]=xe[oe]);var oe=arguments.length-2;if(oe===1)G.children=R;else if(1<oe){for(var he=Array(oe),me=0;me<oe;me++)he[me]=arguments[me+2];G.children=he}return L(ue.type,ne,void 0,void 0,ae,G)},An.createContext=function(ue){return ue={$$typeof:l,_currentValue:ue,_currentValue2:ue,_threadCount:0,Provider:null,Consumer:null},ue.Provider=ue,ue.Consumer={$$typeof:o,_context:ue},ue},An.createElement=function(ue,xe,R){var G,ne={},ae=null;if(xe!=null)for(G in xe.key!==void 0&&(ae=""+xe.key),xe)k.call(xe,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(ne[G]=xe[G]);var oe=arguments.length-2;if(oe===1)ne.children=R;else if(1<oe){for(var he=Array(oe),me=0;me<oe;me++)he[me]=arguments[me+2];ne.children=he}if(ue&&ue.defaultProps)for(G in oe=ue.defaultProps,oe)ne[G]===void 0&&(ne[G]=oe[G]);return L(ue,ae,void 0,void 0,null,ne)},An.createRef=function(){return{current:null}},An.forwardRef=function(ue){return{$$typeof:c,render:ue}},An.isValidElement=Y,An.lazy=function(ue){return{$$typeof:A,_payload:{_status:-1,_result:ue},_init:de}},An.memo=function(ue,xe){return{$$typeof:f,type:ue,compare:xe===void 0?null:xe}},An.startTransition=function(ue){var xe=D.T,R={};D.T=R;try{var G=ue(),ne=D.S;ne!==null&&ne(R,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(Se,Ne)}catch(ae){Ne(ae)}finally{D.T=xe}},An.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},An.use=function(ue){return D.H.use(ue)},An.useActionState=function(ue,xe,R){return D.H.useActionState(ue,xe,R)},An.useCallback=function(ue,xe){return D.H.useCallback(ue,xe)},An.useContext=function(ue){return D.H.useContext(ue)},An.useDebugValue=function(){},An.useDeferredValue=function(ue,xe){return D.H.useDeferredValue(ue,xe)},An.useEffect=function(ue,xe,R){var G=D.H;if(typeof R=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(ue,xe)},An.useId=function(){return D.H.useId()},An.useImperativeHandle=function(ue,xe,R){return D.H.useImperativeHandle(ue,xe,R)},An.useInsertionEffect=function(ue,xe){return D.H.useInsertionEffect(ue,xe)},An.useLayoutEffect=function(ue,xe){return D.H.useLayoutEffect(ue,xe)},An.useMemo=function(ue,xe){return D.H.useMemo(ue,xe)},An.useOptimistic=function(ue,xe){return D.H.useOptimistic(ue,xe)},An.useReducer=function(ue,xe,R){return D.H.useReducer(ue,xe,R)},An.useRef=function(ue){return D.H.useRef(ue)},An.useState=function(ue){return D.H.useState(ue)},An.useSyncExternalStore=function(ue,xe,R){return D.H.useSyncExternalStore(ue,xe,R)},An.useTransition=function(){return D.H.useTransition()},An.version="19.1.0",An}var jT;function lg(){return jT||(jT=1,gj.exports=X$()),gj.exports}var w=lg();const Un=vc(w);var xj={exports:{}},gx={},yj={exports:{}},vj={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NT;function J$(){return NT||(NT=1,function(t){function r(ee,de){var Ne=ee.length;ee.push(de);e:for(;0<Ne;){var Se=Ne-1>>>1,ue=ee[Se];if(0<i(ue,de))ee[Se]=de,ee[Ne]=ue,Ne=Se;else break e}}function n(ee){return ee.length===0?null:ee[0]}function a(ee){if(ee.length===0)return null;var de=ee[0],Ne=ee.pop();if(Ne!==de){ee[0]=Ne;e:for(var Se=0,ue=ee.length,xe=ue>>>1;Se<xe;){var R=2*(Se+1)-1,G=ee[R],ne=R+1,ae=ee[ne];if(0>i(G,Ne))ne<ue&&0>i(ae,G)?(ee[Se]=ae,ee[ne]=Ne,Se=ne):(ee[Se]=G,ee[R]=Ne,Se=R);else if(ne<ue&&0>i(ae,Ne))ee[Se]=ae,ee[ne]=Ne,Se=ne;else break e}}return de}function i(ee,de){var Ne=ee.sortIndex-de.sortIndex;return Ne!==0?Ne:ee.id-de.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var u=[],f=[],A=1,m=null,p=3,g=!1,b=!1,v=!1,y=!1,j=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function E(ee){for(var de=n(f);de!==null;){if(de.callback===null)a(f);else if(de.startTime<=ee)a(f),de.sortIndex=de.expirationTime,r(u,de);else break;de=n(f)}}function D(ee){if(v=!1,E(ee),!b)if(n(u)!==null)b=!0,k||(k=!0,U());else{var de=n(f);de!==null&&Z(D,de.startTime-ee)}}var k=!1,L=-1,I=5,Y=-1;function Q(){return y?!0:!(t.unstable_now()-Y<I)}function H(){if(y=!1,k){var ee=t.unstable_now();Y=ee;var de=!0;try{e:{b=!1,v&&(v=!1,C(L),L=-1),g=!0;var Ne=p;try{t:{for(E(ee),m=n(u);m!==null&&!(m.expirationTime>ee&&Q());){var Se=m.callback;if(typeof Se=="function"){m.callback=null,p=m.priorityLevel;var ue=Se(m.expirationTime<=ee);if(ee=t.unstable_now(),typeof ue=="function"){m.callback=ue,E(ee),de=!0;break t}m===n(u)&&a(u),E(ee)}else a(u);m=n(u)}if(m!==null)de=!0;else{var xe=n(f);xe!==null&&Z(D,xe.startTime-ee),de=!1}}break e}finally{m=null,p=Ne,g=!1}de=void 0}}finally{de?U():k=!1}}}var U;if(typeof S=="function")U=function(){S(H)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,X=K.port2;K.port1.onmessage=H,U=function(){X.postMessage(null)}}else U=function(){j(H,0)};function Z(ee,de){L=j(function(){ee(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(ee){switch(p){case 1:case 2:case 3:var de=3;break;default:de=p}var Ne=p;p=de;try{return ee()}finally{p=Ne}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(ee,de){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var Ne=p;p=ee;try{return de()}finally{p=Ne}},t.unstable_scheduleCallback=function(ee,de,Ne){var Se=t.unstable_now();switch(typeof Ne=="object"&&Ne!==null?(Ne=Ne.delay,Ne=typeof Ne=="number"&&0<Ne?Se+Ne:Se):Ne=Se,ee){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=Ne+ue,ee={id:A++,callback:de,priorityLevel:ee,startTime:Ne,expirationTime:ue,sortIndex:-1},Ne>Se?(ee.sortIndex=Ne,r(f,ee),n(u)===null&&ee===n(f)&&(v?(C(L),L=-1):v=!0,Z(D,Ne-Se))):(ee.sortIndex=ue,r(u,ee),b||g||(b=!0,k||(k=!0,U()))),ee},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(ee){var de=p;return function(){var Ne=p;p=de;try{return ee.apply(this,arguments)}finally{p=Ne}}}}(vj)),vj}var CT;function Z$(){return CT||(CT=1,yj.exports=J$()),yj.exports}var bj={exports:{}},No={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ST;function eK(){if(ST)return No;ST=1;var t=lg();function r(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)f+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(r(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(u,f,A){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:u,containerInfo:f,implementation:A}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return No.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,No.createPortal=function(u,f){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(r(299));return o(u,f,null,A)},No.flushSync=function(u){var f=l.T,A=a.p;try{if(l.T=null,a.p=2,u)return u()}finally{l.T=f,a.p=A,a.d.f()}},No.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,a.d.C(u,f))},No.prefetchDNS=function(u){typeof u=="string"&&a.d.D(u)},No.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var A=f.as,m=c(A,f.crossOrigin),p=typeof f.integrity=="string"?f.integrity:void 0,g=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;A==="style"?a.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:p,fetchPriority:g}):A==="script"&&a.d.X(u,{crossOrigin:m,integrity:p,fetchPriority:g,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},No.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var A=c(f.as,f.crossOrigin);a.d.M(u,{crossOrigin:A,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&a.d.M(u)},No.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var A=f.as,m=c(A,f.crossOrigin);a.d.L(u,A,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},No.preloadModule=function(u,f){if(typeof u=="string")if(f){var A=c(f.as,f.crossOrigin);a.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:A,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else a.d.m(u)},No.requestFormReset=function(u){a.d.r(u)},No.unstable_batchedUpdates=function(u,f){return u(f)},No.useFormState=function(u,f,A){return l.H.useFormState(u,f,A)},No.useFormStatus=function(){return l.H.useHostTransitionStatus()},No.version="19.1.0",No}var BT;function mO(){if(BT)return bj.exports;BT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),bj.exports=eK(),bj.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET;function tK(){if(ET)return gx;ET=1;var t=Z$(),r=lg(),n=mO();function a(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function o(d){var h=d,x=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,(h.flags&4098)!==0&&(x=h.return),d=h.return;while(d)}return h.tag===3?x:null}function l(d){if(d.tag===13){var h=d.memoizedState;if(h===null&&(d=d.alternate,d!==null&&(h=d.memoizedState)),h!==null)return h.dehydrated}return null}function c(d){if(o(d)!==d)throw Error(a(188))}function u(d){var h=d.alternate;if(!h){if(h=o(d),h===null)throw Error(a(188));return h!==d?null:d}for(var x=d,N=h;;){var O=x.return;if(O===null)break;var z=O.alternate;if(z===null){if(N=O.return,N!==null){x=N;continue}break}if(O.child===z.child){for(z=O.child;z;){if(z===x)return c(O),d;if(z===N)return c(O),h;z=z.sibling}throw Error(a(188))}if(x.return!==N.return)x=O,N=z;else{for(var Be=!1,Me=O.child;Me;){if(Me===x){Be=!0,x=O,N=z;break}if(Me===N){Be=!0,N=O,x=z;break}Me=Me.sibling}if(!Be){for(Me=z.child;Me;){if(Me===x){Be=!0,x=z,N=O;break}if(Me===N){Be=!0,N=z,x=O;break}Me=Me.sibling}if(!Be)throw Error(a(189))}}if(x.alternate!==N)throw Error(a(190))}if(x.tag!==3)throw Error(a(188));return x.stateNode.current===x?d:h}function f(d){var h=d.tag;if(h===5||h===26||h===27||h===6)return d;for(d=d.child;d!==null;){if(h=f(d),h!==null)return h;d=d.sibling}return null}var A=Object.assign,m=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),S=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function U(d){return d===null||typeof d!="object"?null:(d=H&&d[H]||d["@@iterator"],typeof d=="function"?d:null)}var K=Symbol.for("react.client.reference");function X(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===K?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case b:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case D:return"Suspense";case k:return"SuspenseList";case Y:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case g:return"Portal";case S:return(d.displayName||"Context")+".Provider";case C:return(d._context.displayName||"Context")+".Consumer";case E:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case L:return h=d.displayName||null,h!==null?h:X(d.type)||"Memo";case I:h=d._payload,d=d._init;try{return X(d(h))}catch{}}return null}var Z=Array.isArray,ee=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne={pending:!1,data:null,method:null,action:null},Se=[],ue=-1;function xe(d){return{current:d}}function R(d){0>ue||(d.current=Se[ue],Se[ue]=null,ue--)}function G(d,h){ue++,Se[ue]=d.current,d.current=h}var ne=xe(null),ae=xe(null),oe=xe(null),he=xe(null);function me(d,h){switch(G(oe,h),G(ae,d),G(ne,null),h.nodeType){case 9:case 11:d=(d=h.documentElement)&&(d=d.namespaceURI)?WE(d):0;break;default:if(d=h.tagName,h=h.namespaceURI)h=WE(h),d=qE(h,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}R(ne),G(ne,d)}function te(){R(ne),R(ae),R(oe)}function Ae(d){d.memoizedState!==null&&G(he,d);var h=ne.current,x=qE(h,d.type);h!==x&&(G(ae,d),G(ne,x))}function V(d){ae.current===d&&(R(ne),R(ae)),he.current===d&&(R(he),dx._currentValue=Ne)}var ie=Object.prototype.hasOwnProperty,pe=t.unstable_scheduleCallback,ye=t.unstable_cancelCallback,ge=t.unstable_shouldYield,le=t.unstable_requestPaint,Qe=t.unstable_now,ce=t.unstable_getCurrentPriorityLevel,se=t.unstable_ImmediatePriority,je=t.unstable_UserBlockingPriority,we=t.unstable_NormalPriority,q=t.unstable_LowPriority,be=t.unstable_IdlePriority,Ee=t.log,Re=t.unstable_setDisableYieldValue,it=null,et=null;function Ct(d){if(typeof Ee=="function"&&Re(d),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(it,d)}catch{}}var _t=Math.clz32?Math.clz32:qe,ot=Math.log,Ie=Math.LN2;function qe(d){return d>>>=0,d===0?32:31-(ot(d)/Ie|0)|0}var at=256,Ut=4194304;function Ue(d){var h=d&42;if(h!==0)return h;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function At(d,h,x){var N=d.pendingLanes;if(N===0)return 0;var O=0,z=d.suspendedLanes,Be=d.pingedLanes;d=d.warmLanes;var Me=N&134217727;return Me!==0?(N=Me&~z,N!==0?O=Ue(N):(Be&=Me,Be!==0?O=Ue(Be):x||(x=Me&~d,x!==0&&(O=Ue(x))))):(Me=N&~z,Me!==0?O=Ue(Me):Be!==0?O=Ue(Be):x||(x=N&~d,x!==0&&(O=Ue(x)))),O===0?0:h!==0&&h!==O&&(h&z)===0&&(z=O&-O,x=h&-h,z>=x||z===32&&(x&4194048)!==0)?h:O}function Ce(d,h){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&h)===0}function tt(d,h){switch(d){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gt(){var d=at;return at<<=1,(at&4194048)===0&&(at=256),d}function Kt(){var d=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),d}function Ke(d){for(var h=[],x=0;31>x;x++)h.push(d);return h}function Tt(d,h){d.pendingLanes|=h,h!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function wt(d,h,x,N,O,z){var Be=d.pendingLanes;d.pendingLanes=x,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=x,d.entangledLanes&=x,d.errorRecoveryDisabledLanes&=x,d.shellSuspendCounter=0;var Me=d.entanglements,st=d.expirationTimes,Et=d.hiddenUpdates;for(x=Be&~x;0<x;){var Wt=31-_t(x),Jt=1<<Wt;Me[Wt]=0,st[Wt]=-1;var It=Et[Wt];if(It!==null)for(Et[Wt]=null,Wt=0;Wt<It.length;Wt++){var kt=It[Wt];kt!==null&&(kt.lane&=-536870913)}x&=~Jt}N!==0&&Dt(d,N,0),z!==0&&O===0&&d.tag!==0&&(d.suspendedLanes|=z&~(Be&~h))}function Dt(d,h,x){d.pendingLanes|=h,d.suspendedLanes&=~h;var N=31-_t(h);d.entangledLanes|=h,d.entanglements[N]=d.entanglements[N]|1073741824|x&4194090}function ir(d,h){var x=d.entangledLanes|=h;for(d=d.entanglements;x;){var N=31-_t(x),O=1<<N;O&h|d[N]&h&&(d[N]|=h),x&=~O}}function Dr(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function Xr(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function hs(){var d=de.p;return d!==0?d:(d=window.event,d===void 0?32:hT(d.type))}function kn(d,h){var x=de.p;try{return de.p=d,h()}finally{de.p=x}}var xr=Math.random().toString(36).slice(2),En="__reactFiber$"+xr,Mn="__reactProps$"+xr,ns="__reactContainer$"+xr,jr="__reactEvents$"+xr,Rn="__reactListeners$"+xr,ke="__reactHandles$"+xr,Xe="__reactResources$"+xr,$e="__reactMarker$"+xr;function Ve(d){delete d[En],delete d[Mn],delete d[jr],delete d[Rn],delete d[ke]}function Je(d){var h=d[En];if(h)return h;for(var x=d.parentNode;x;){if(h=x[ns]||x[En]){if(x=h.alternate,h.child!==null||x!==null&&x.child!==null)for(d=ZE(d);d!==null;){if(x=d[En])return x;d=ZE(d)}return h}d=x,x=d.parentNode}return null}function Ze(d){if(d=d[En]||d[ns]){var h=d.tag;if(h===5||h===6||h===13||h===26||h===27||h===3)return d}return null}function vt(d){var h=d.tag;if(h===5||h===26||h===27||h===6)return d.stateNode;throw Error(a(33))}function Oe(d){var h=d[Xe];return h||(h=d[Xe]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function Ge(d){d[$e]=!0}var nt=new Set,xt={};function Gt(d,h){Xt(d,h),Xt(d+"Capture",h)}function Xt(d,h){for(xt[d]=h,d=0;d<h.length;d++)nt.add(h[d])}var tr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nr={},pr={};function Rr(d){return ie.call(pr,d)?!0:ie.call(nr,d)?!1:tr.test(d)?pr[d]=!0:(nr[d]=!0,!1)}function cn(d,h,x){if(Rr(h))if(x===null)d.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":d.removeAttribute(h);return;case"boolean":var N=h.toLowerCase().slice(0,5);if(N!=="data-"&&N!=="aria-"){d.removeAttribute(h);return}}d.setAttribute(h,""+x)}}function Cn(d,h,x){if(x===null)d.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(h);return}d.setAttribute(h,""+x)}}function Tn(d,h,x,N){if(N===null)d.removeAttribute(x);else{switch(typeof N){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(x);return}d.setAttributeNS(h,x,""+N)}}var bi,wi;function ni(d){if(bi===void 0)try{throw Error()}catch(x){var h=x.stack.trim().match(/\n( *(at )?)/);bi=h&&h[1]||"",wi=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bi+d+wi}var Vi=!1;function si(d,h){if(!d||Vi)return"";Vi=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var N={DetermineComponentFrameRoot:function(){try{if(h){var Jt=function(){throw Error()};if(Object.defineProperty(Jt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Jt,[])}catch(kt){var It=kt}Reflect.construct(d,[],Jt)}else{try{Jt.call()}catch(kt){It=kt}d.call(Jt.prototype)}}else{try{throw Error()}catch(kt){It=kt}(Jt=d())&&typeof Jt.catch=="function"&&Jt.catch(function(){})}}catch(kt){if(kt&&It&&typeof kt.stack=="string")return[kt.stack,It.stack]}return[null,null]}};N.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(N.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(N.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var z=N.DetermineComponentFrameRoot(),Be=z[0],Me=z[1];if(Be&&Me){var st=Be.split(`
`),Et=Me.split(`
`);for(O=N=0;N<st.length&&!st[N].includes("DetermineComponentFrameRoot");)N++;for(;O<Et.length&&!Et[O].includes("DetermineComponentFrameRoot");)O++;if(N===st.length||O===Et.length)for(N=st.length-1,O=Et.length-1;1<=N&&0<=O&&st[N]!==Et[O];)O--;for(;1<=N&&0<=O;N--,O--)if(st[N]!==Et[O]){if(N!==1||O!==1)do if(N--,O--,0>O||st[N]!==Et[O]){var Wt=`
`+st[N].replace(" at new "," at ");return d.displayName&&Wt.includes("<anonymous>")&&(Wt=Wt.replace("<anonymous>",d.displayName)),Wt}while(1<=N&&0<=O);break}}}finally{Vi=!1,Error.prepareStackTrace=x}return(x=d?d.displayName||d.name:"")?ni(x):""}function Ia(d){switch(d.tag){case 26:case 27:case 5:return ni(d.type);case 16:return ni("Lazy");case 13:return ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return si(d.type,!1);case 11:return si(d.type.render,!1);case 1:return si(d.type,!0);case 31:return ni("Activity");default:return""}}function Os(d){try{var h="";do h+=Ia(d),d=d.return;while(d);return h}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function ai(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function hA(d){var h=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function cu(d){var h=hA(d)?"checked":"value",x=Object.getOwnPropertyDescriptor(d.constructor.prototype,h),N=""+d[h];if(!d.hasOwnProperty(h)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var O=x.get,z=x.set;return Object.defineProperty(d,h,{configurable:!0,get:function(){return O.call(this)},set:function(Be){N=""+Be,z.call(this,Be)}}),Object.defineProperty(d,h,{enumerable:x.enumerable}),{getValue:function(){return N},setValue:function(Be){N=""+Be},stopTracking:function(){d._valueTracker=null,delete d[h]}}}}function Qo(d){d._valueTracker||(d._valueTracker=cu(d))}function bc(d){if(!d)return!1;var h=d._valueTracker;if(!h)return!0;var x=h.getValue(),N="";return d&&(N=hA(d)?d.checked?"true":"false":d.value),d=N,d!==x?(h.setValue(d),!0):!1}function ji(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var da=/[\n"\\]/g;function ss(d){return d.replace(da,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function uu(d,h,x,N,O,z,Be,Me){d.name="",Be!=null&&typeof Be!="function"&&typeof Be!="symbol"&&typeof Be!="boolean"?d.type=Be:d.removeAttribute("type"),h!=null?Be==="number"?(h===0&&d.value===""||d.value!=h)&&(d.value=""+ai(h)):d.value!==""+ai(h)&&(d.value=""+ai(h)):Be!=="submit"&&Be!=="reset"||d.removeAttribute("value"),h!=null?pA(d,Be,ai(h)):x!=null?pA(d,Be,ai(x)):N!=null&&d.removeAttribute("value"),O==null&&z!=null&&(d.defaultChecked=!!z),O!=null&&(d.checked=O&&typeof O!="function"&&typeof O!="symbol"),Me!=null&&typeof Me!="function"&&typeof Me!="symbol"&&typeof Me!="boolean"?d.name=""+ai(Me):d.removeAttribute("name")}function mA(d,h,x,N,O,z,Be,Me){if(z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(d.type=z),h!=null||x!=null){if(!(z!=="submit"&&z!=="reset"||h!=null))return;x=x!=null?""+ai(x):"",h=h!=null?""+ai(h):x,Me||h===d.value||(d.value=h),d.defaultValue=h}N=N??O,N=typeof N!="function"&&typeof N!="symbol"&&!!N,d.checked=Me?d.checked:!!N,d.defaultChecked=!!N,Be!=null&&typeof Be!="function"&&typeof Be!="symbol"&&typeof Be!="boolean"&&(d.name=Be)}function pA(d,h,x){h==="number"&&ji(d.ownerDocument)===d||d.defaultValue===""+x||(d.defaultValue=""+x)}function Ul(d,h,x,N){if(d=d.options,h){h={};for(var O=0;O<x.length;O++)h["$"+x[O]]=!0;for(x=0;x<d.length;x++)O=h.hasOwnProperty("$"+d[x].value),d[x].selected!==O&&(d[x].selected=O),O&&N&&(d[x].defaultSelected=!0)}else{for(x=""+ai(x),h=null,O=0;O<d.length;O++){if(d[O].value===x){d[O].selected=!0,N&&(d[O].defaultSelected=!0);return}h!==null||d[O].disabled||(h=d[O])}h!==null&&(h.selected=!0)}}function Of(d,h,x){if(h!=null&&(h=""+ai(h),h!==d.value&&(d.value=h),x==null)){d.defaultValue!==h&&(d.defaultValue=h);return}d.defaultValue=x!=null?""+ai(x):""}function gA(d,h,x,N){if(h==null){if(N!=null){if(x!=null)throw Error(a(92));if(Z(N)){if(1<N.length)throw Error(a(93));N=N[0]}x=N}x==null&&(x=""),h=x}x=ai(h),d.defaultValue=x,N=d.textContent,N===x&&N!==""&&N!==null&&(d.value=N)}function wc(d,h){if(h){var x=d.firstChild;if(x&&x===d.lastChild&&x.nodeType===3){x.nodeValue=h;return}}d.textContent=h}var jc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lf(d,h,x){var N=h.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?N?d.setProperty(h,""):h==="float"?d.cssFloat="":d[h]="":N?d.setProperty(h,x):typeof x!="number"||x===0||jc.has(h)?h==="float"?d.cssFloat=x:d[h]=(""+x).trim():d[h]=x+"px"}function xA(d,h,x){if(h!=null&&typeof h!="object")throw Error(a(62));if(d=d.style,x!=null){for(var N in x)!x.hasOwnProperty(N)||h!=null&&h.hasOwnProperty(N)||(N.indexOf("--")===0?d.setProperty(N,""):N==="float"?d.cssFloat="":d[N]="");for(var O in h)N=h[O],h.hasOwnProperty(O)&&x[O]!==N&&Lf(d,O,N)}else for(var z in h)h.hasOwnProperty(z)&&Lf(d,z,h[z])}function yA(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ml=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),du=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ho(d){return du.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}var Ao=null;function va(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Nc=null,Rl=null;function Or(d){var h=Ze(d);if(h&&(d=h.stateNode)){var x=d[Mn]||null;e:switch(d=h.stateNode,h.type){case"input":if(uu(d,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),h=x.name,x.type==="radio"&&h!=null){for(x=d;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+ss(""+h)+'"][type="radio"]'),h=0;h<x.length;h++){var N=x[h];if(N!==d&&N.form===d.form){var O=N[Mn]||null;if(!O)throw Error(a(90));uu(N,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(h=0;h<x.length;h++)N=x[h],N.form===d.form&&bc(N)}break e;case"textarea":Of(d,x.value,x.defaultValue);break e;case"select":h=x.value,h!=null&&Ul(d,!!x.multiple,h,!1)}}}var vA=!1;function Uf(d,h,x){if(vA)return d(h,x);vA=!0;try{var N=d(h);return N}finally{if(vA=!1,(Nc!==null||Rl!==null)&&(Zr(),Nc&&(h=Nc,d=Rl,Rl=Nc=null,Or(h),d)))for(h=0;h<d.length;h++)Or(d[h])}}function Ni(d,h){var x=d.stateNode;if(x===null)return null;var N=x[Mn]||null;if(N===null)return null;x=N[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(d=d.type,N=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!N;break e;default:d=!1}if(d)return null;if(x&&typeof x!="function")throw Error(a(231,h,typeof x));return x}var fo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gd=!1;if(fo)try{var Al={};Object.defineProperty(Al,"passive",{get:function(){gd=!0}}),window.addEventListener("test",Al,Al),window.removeEventListener("test",Al,Al)}catch{gd=!1}var Vs=null,xd=null,Au=null;function bA(){if(Au)return Au;var d,h=xd,x=h.length,N,O="value"in Vs?Vs.value:Vs.textContent,z=O.length;for(d=0;d<x&&h[d]===O[d];d++);var Be=x-d;for(N=1;N<=Be&&h[x-N]===O[z-N];N++);return Au=O.slice(d,1<N?1-N:void 0)}function Cc(d){var h=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&h===13&&(d=13)):d=h,d===10&&(d=13),32<=d||d===13?d:0}function fl(){return!0}function Ql(){return!1}function _a(d){function h(x,N,O,z,Be){this._reactName=x,this._targetInst=O,this.type=N,this.nativeEvent=z,this.target=Be,this.currentTarget=null;for(var Me in d)d.hasOwnProperty(Me)&&(x=d[Me],this[Me]=x?x(z):z[Me]);return this.isDefaultPrevented=(z.defaultPrevented!=null?z.defaultPrevented:z.returnValue===!1)?fl:Ql,this.isPropagationStopped=Ql,this}return A(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=fl)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=fl)},persist:function(){},isPersistent:fl}),h}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hl=_a(Ci),hl=A({},Ci,{view:0,detail:0}),Mf=_a(hl),zs,yd,zi,Gi=A({},hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jd,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==zi&&(zi&&d.type==="mousemove"?(zs=d.screenX-zi.screenX,yd=d.screenY-zi.screenY):yd=zs=0,zi=d),zs)},movementY:function(d){return"movementY"in d?d.movementY:yd}}),ml=_a(Gi),om=A({},Gi,{dataTransfer:0}),Sc=_a(om),Si=A({},hl,{relatedTarget:0}),pl=_a(Si),Bc=A({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),lm=_a(Bc),Wi=A({},Ci,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),vd=_a(Wi),fu=A({},Ci,{data:0}),bd=_a(fu),Rf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jA(d){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(d):(d=wA[d])?!!h[d]:!1}function jd(){return jA}var cm=A({},hl,{key:function(d){if(d.key){var h=Rf[d.key]||d.key;if(h!=="Unidentified")return h}return d.type==="keypress"?(d=Cc(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?wd[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jd,charCode:function(d){return d.type==="keypress"?Cc(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Cc(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),Nd=_a(cm),hu=A({},Gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cd=_a(hu),Ec=A({},hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jd}),NA=_a(Ec),W=A({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fe=_a(W),rt=A({},Gi,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),lt=_a(rt),bt=A({},Ci,{newState:0,oldState:0}),Qt=_a(bt),rr=[9,13,27,32],yr=fo&&"CompositionEvent"in window,Fr=null;fo&&"documentMode"in document&&(Fr=document.documentMode);var zr=fo&&"TextEvent"in window&&!Fr,$r=fo&&(!yr||Fr&&8<Fr&&11>=Fr),fn=" ",Hn=!1;function $n(d,h){switch(d){case"keyup":return rr.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ur(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Gs=!1;function ra(d,h){switch(d){case"compositionend":return Ur(h);case"keypress":return h.which!==32?null:(Hn=!0,fn);case"textInput":return d=h.data,d===fn&&Hn?null:d;default:return null}}function ho(d,h){if(Gs)return d==="compositionend"||!yr&&$n(d,h)?(d=bA(),Au=xd=Vs=null,Gs=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return $r&&h.locale!=="ko"?null:h.data;default:return null}}var ba={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function na(d){var h=d&&d.nodeName&&d.nodeName.toLowerCase();return h==="input"?!!ba[d.type]:h==="textarea"}function CA(d,h,x,N){Nc?Rl?Rl.push(N):Rl=[N]:Nc=N,h=qv(h,"onChange"),0<h.length&&(x=new Hl("onChange","change",null,x,N),d.push({event:x,listeners:h}))}var $a=null,Kn=null;function mu(d){$E(d,0)}function ms(d){var h=vt(d);if(bc(h))return d}function Tc(d,h){if(d==="change")return h}var Bi=!1;if(fo){var Bs;if(fo){var vn="oninput"in document;if(!vn){var Fc=document.createElement("div");Fc.setAttribute("oninput","return;"),vn=typeof Fc.oninput=="function"}Bs=vn}else Bs=!1;Bi=Bs&&(!document.documentMode||9<document.documentMode)}function Ic(){$a&&($a.detachEvent("onpropertychange",pu),Kn=$a=null)}function pu(d){if(d.propertyName==="value"&&ms(Kn)){var h=[];CA(h,Kn,d,va(d)),Uf(mu,h)}}function ii(d,h,x){d==="focusin"?(Ic(),$a=h,Kn=x,$a.attachEvent("onpropertychange",pu)):d==="focusout"&&Ic()}function Sd(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return ms(Kn)}function Bd(d,h){if(d==="click")return ms(h)}function SA(d,h){if(d==="input"||d==="change")return ms(h)}function Es(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var as=typeof Object.is=="function"?Object.is:Es;function oi(d,h){if(as(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var x=Object.keys(d),N=Object.keys(h);if(x.length!==N.length)return!1;for(N=0;N<x.length;N++){var O=x[N];if(!ie.call(h,O)||!as(d[O],h[O]))return!1}return!0}function Ls(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function Ka(d,h){var x=Ls(d);d=0;for(var N;x;){if(x.nodeType===3){if(N=d+x.textContent.length,d<=h&&N>=h)return{node:x,offset:h-d};d=N}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=Ls(x)}}function $l(d,h){return d&&h?d===h?!0:d&&d.nodeType===3?!1:h&&h.nodeType===3?$l(d,h.parentNode):"contains"in d?d.contains(h):d.compareDocumentPosition?!!(d.compareDocumentPosition(h)&16):!1:!1}function Va(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var h=ji(d.document);h instanceof d.HTMLIFrameElement;){try{var x=typeof h.contentWindow.location.href=="string"}catch{x=!1}if(x)d=h.contentWindow;else break;h=ji(d.document)}return h}function Aa(d){var h=d&&d.nodeName&&d.nodeName.toLowerCase();return h&&(h==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||h==="textarea"||d.contentEditable==="true")}var Kl=fo&&"documentMode"in document&&11>=document.documentMode,Ei=null,li=null,wa=null,$o=!1;function Us(d,h,x){var N=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;$o||Ei==null||Ei!==ji(N)||(N=Ei,"selectionStart"in N&&Aa(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),wa&&oi(wa,N)||(wa=N,N=qv(li,"onSelect"),0<N.length&&(h=new Hl("onSelect","select",null,h,x),d.push({event:h,listeners:N}),h.target=Ei)))}function Ti(d,h){var x={};return x[d.toLowerCase()]=h.toLowerCase(),x["Webkit"+d]="webkit"+h,x["Moz"+d]="moz"+h,x}var Ws={animationend:Ti("Animation","AnimationEnd"),animationiteration:Ti("Animation","AnimationIteration"),animationstart:Ti("Animation","AnimationStart"),transitionrun:Ti("Transition","TransitionRun"),transitionstart:Ti("Transition","TransitionStart"),transitioncancel:Ti("Transition","TransitionCancel"),transitionend:Ti("Transition","TransitionEnd")},Fi={},gu={};fo&&(gu=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function sa(d){if(Fi[d])return Fi[d];if(!Ws[d])return d;var h=Ws[d],x;for(x in h)if(h.hasOwnProperty(x)&&x in gu)return Fi[d]=h[x];return d}var xu=sa("animationend"),_c=sa("animationiteration"),kc=sa("animationstart"),Ko=sa("transitionrun"),yu=sa("transitionstart"),vu=sa("transitioncancel"),Vl=sa("transitionend"),gl=new Map,Pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pc.push("scrollEnd");function Ts(d,h){gl.set(d,h),Gt(h,[d])}var Ii=new WeakMap;function sn(d,h){if(typeof d=="object"&&d!==null){var x=Ii.get(d);return x!==void 0?x:(h={value:d,source:h,stack:Os(h)},Ii.set(d,h),h)}return{value:d,source:h,stack:Os(h)}}var an=[],ts=0,ps=0;function mo(){for(var d=ts,h=ps=ts=0;h<d;){var x=an[h];an[h++]=null;var N=an[h];an[h++]=null;var O=an[h];an[h++]=null;var z=an[h];if(an[h++]=null,N!==null&&O!==null){var Be=N.pending;Be===null?O.next=O:(O.next=Be.next,Be.next=O),N.pending=O}z!==0&&BA(x,O,z)}}function Dc(d,h,x,N){an[ts++]=d,an[ts++]=h,an[ts++]=x,an[ts++]=N,ps|=N,d.lanes|=N,d=d.alternate,d!==null&&(d.lanes|=N)}function xl(d,h,x,N){return Dc(d,h,x,N),bu(d)}function zl(d,h){return Dc(d,null,null,h),bu(d)}function BA(d,h,x){d.lanes|=x;var N=d.alternate;N!==null&&(N.lanes|=x);for(var O=!1,z=d.return;z!==null;)z.childLanes|=x,N=z.alternate,N!==null&&(N.childLanes|=x),z.tag===22&&(d=z.stateNode,d===null||d._visibility&1||(O=!0)),d=z,z=z.return;return d.tag===3?(z=d.stateNode,O&&h!==null&&(O=31-_t(x),d=z.hiddenUpdates,N=d[O],N===null?d[O]=[h]:N.push(h),h.lane=x|536870912),z):null}function bu(d){if(50<jt)throw jt=0,Ht=null,Error(a(185));for(var h=d.return;h!==null;)d=h,h=d.return;return d.tag===3?d.stateNode:null}var ja={};function po(d,h,x,N){this.tag=d,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function za(d,h,x,N){return new po(d,h,x,N)}function Ed(d){return d=d.prototype,!(!d||!d.isReactComponent)}function ci(d,h){var x=d.alternate;return x===null?(x=za(d.tag,h,d.key,d.mode),x.elementType=d.elementType,x.type=d.type,x.stateNode=d.stateNode,x.alternate=d,d.alternate=x):(x.pendingProps=h,x.type=d.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=d.flags&65011712,x.childLanes=d.childLanes,x.lanes=d.lanes,x.child=d.child,x.memoizedProps=d.memoizedProps,x.memoizedState=d.memoizedState,x.updateQueue=d.updateQueue,h=d.dependencies,x.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},x.sibling=d.sibling,x.index=d.index,x.ref=d.ref,x.refCleanup=d.refCleanup,x}function EA(d,h){d.flags&=65011714;var x=d.alternate;return x===null?(d.childLanes=0,d.lanes=h,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=x.childLanes,d.lanes=x.lanes,d.child=x.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=x.memoizedProps,d.memoizedState=x.memoizedState,d.updateQueue=x.updateQueue,d.type=x.type,h=x.dependencies,d.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),d}function wu(d,h,x,N,O,z){var Be=0;if(N=d,typeof d=="function")Ed(d)&&(Be=1);else if(typeof d=="string")Be=D$(d,x,ne.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case Y:return d=za(31,x,h,O),d.elementType=Y,d.lanes=z,d;case b:return go(x.children,O,z,h);case v:Be=8,O|=24;break;case y:return d=za(12,x,h,O|2),d.elementType=y,d.lanes=z,d;case D:return d=za(13,x,h,O),d.elementType=D,d.lanes=z,d;case k:return d=za(19,x,h,O),d.elementType=k,d.lanes=z,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case j:case S:Be=10;break e;case C:Be=9;break e;case E:Be=11;break e;case L:Be=14;break e;case I:Be=16,N=null;break e}Be=29,x=Error(a(130,d===null?"null":typeof d,"")),N=null}return h=za(Be,x,h,O),h.elementType=d,h.type=N,h.lanes=z,h}function go(d,h,x,N){return d=za(7,d,N,h),d.lanes=x,d}function Qf(d,h,x){return d=za(6,d,null,h),d.lanes=x,d}function TA(d,h,x){return h=za(4,d.children!==null?d.children:[],d.key,h),h.lanes=x,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}var Oc=[],Gl=0,Wl=null,Hf=0,xo=[],qi=0,ju=null,yo=1,ql="";function Nu(d,h){Oc[Gl++]=Hf,Oc[Gl++]=Wl,Wl=d,Hf=h}function H0(d,h,x){xo[qi++]=yo,xo[qi++]=ql,xo[qi++]=ju,ju=d;var N=yo;d=ql;var O=32-_t(N)-1;N&=~(1<<O),x+=1;var z=32-_t(h)+O;if(30<z){var Be=O-O%5;z=(N&(1<<Be)-1).toString(32),N>>=Be,O-=Be,yo=1<<32-_t(h)+O|x<<O|N,ql=z+d}else yo=1<<z|x<<O|N,ql=d}function FA(d){d.return!==null&&(Nu(d,1),H0(d,1,0))}function Lc(d){for(;d===Wl;)Wl=Oc[--Gl],Oc[Gl]=null,Hf=Oc[--Gl],Oc[Gl]=null;for(;d===ju;)ju=xo[--qi],xo[qi]=null,ql=xo[--qi],xo[qi]=null,yo=xo[--qi],xo[qi]=null}var fa=null,Ms=null,Fn=!1,Uc=null,yl=!1,um=Error(a(519));function Cu(d){var h=Error(a(418,""));throw Td(sn(h,d)),um}function $0(d){var h=d.stateNode,x=d.type,N=d.memoizedProps;switch(h[En]=d,h[Mn]=N,x){case"dialog":jn("cancel",h),jn("close",h);break;case"iframe":case"object":case"embed":jn("load",h);break;case"video":case"audio":for(x=0;x<ax.length;x++)jn(ax[x],h);break;case"source":jn("error",h);break;case"img":case"image":case"link":jn("error",h),jn("load",h);break;case"details":jn("toggle",h);break;case"input":jn("invalid",h),mA(h,N.value,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name,!0),Qo(h);break;case"select":jn("invalid",h);break;case"textarea":jn("invalid",h),gA(h,N.value,N.defaultValue,N.children),Qo(h)}x=N.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||h.textContent===""+x||N.suppressHydrationWarning===!0||GE(h.textContent,x)?(N.popover!=null&&(jn("beforetoggle",h),jn("toggle",h)),N.onScroll!=null&&jn("scroll",h),N.onScrollEnd!=null&&jn("scrollend",h),N.onClick!=null&&(h.onclick=Yv),h=!0):h=!1,h||Cu(d)}function Yl(d){for(fa=d.return;fa;)switch(fa.tag){case 5:case 13:yl=!1;return;case 27:case 3:yl=!0;return;default:fa=fa.return}}function ui(d){if(d!==fa)return!1;if(!Fn)return Yl(d),Fn=!0,!1;var h=d.tag,x;if((x=h!==3&&h!==27)&&((x=h===5)&&(x=d.type,x=!(x!=="form"&&x!=="button")||rj(d.type,d.memoizedProps)),x=!x),x&&Ms&&Cu(d),Yl(d),h===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));e:{for(d=d.nextSibling,h=0;d;){if(d.nodeType===8)if(x=d.data,x==="/$"){if(h===0){Ms=Yu(d.nextSibling);break e}h--}else x!=="$"&&x!=="$!"&&x!=="$?"||h++;d=d.nextSibling}Ms=null}}else h===27?(h=Ms,dh(d.type)?(d=ij,ij=null,Ms=d):Ms=h):Ms=fa?Yu(d.stateNode.nextSibling):null;return!0}function Ga(){Ms=fa=null,Fn=!1}function K0(){var d=Uc;return d!==null&&(jo===null?jo=d:jo.push.apply(jo,d),Uc=null),d}function Td(d){Uc===null?Uc=[d]:Uc.push(d)}var Vo=xe(null),Na=null,Xl=null;function vl(d,h,x){G(Vo,h._currentValue),h._currentValue=x}function Yi(d){d._currentValue=Vo.current,R(Vo)}function $f(d,h,x){for(;d!==null;){var N=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,N!==null&&(N.childLanes|=h)):N!==null&&(N.childLanes&h)!==h&&(N.childLanes|=h),d===x)break;d=d.return}}function Kf(d,h,x,N){var O=d.child;for(O!==null&&(O.return=d);O!==null;){var z=O.dependencies;if(z!==null){var Be=O.child;z=z.firstContext;e:for(;z!==null;){var Me=z;z=O;for(var st=0;st<h.length;st++)if(Me.context===h[st]){z.lanes|=x,Me=z.alternate,Me!==null&&(Me.lanes|=x),$f(z.return,x,d),N||(Be=null);break e}z=Me.next}}else if(O.tag===18){if(Be=O.return,Be===null)throw Error(a(341));Be.lanes|=x,z=Be.alternate,z!==null&&(z.lanes|=x),$f(Be,x,d),Be=null}else Be=O.child;if(Be!==null)Be.return=O;else for(Be=O;Be!==null;){if(Be===d){Be=null;break}if(O=Be.sibling,O!==null){O.return=Be.return,Be=O;break}Be=Be.return}O=Be}}function Fd(d,h,x,N){d=null;for(var O=h,z=!1;O!==null;){if(!z){if((O.flags&524288)!==0)z=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var Be=O.alternate;if(Be===null)throw Error(a(387));if(Be=Be.memoizedProps,Be!==null){var Me=O.type;as(O.pendingProps.value,Be.value)||(d!==null?d.push(Me):d=[Me])}}else if(O===he.current){if(Be=O.alternate,Be===null)throw Error(a(387));Be.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(d!==null?d.push(dx):d=[dx])}O=O.return}d!==null&&Kf(h,d,x,N),h.flags|=262144}function Vf(d){for(d=d.firstContext;d!==null;){if(!as(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function bl(d){Na=d,Xl=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function ha(d){return zf(Na,d)}function zo(d,h){return Na===null&&bl(d),zf(d,h)}function zf(d,h){var x=h._currentValue;if(h={context:h,memoizedValue:x,next:null},Xl===null){if(d===null)throw Error(a(308));Xl=h,d.dependencies={lanes:0,firstContext:h},d.flags|=524288}else Xl=Xl.next=h;return x}var Ig=typeof AbortController<"u"?AbortController:function(){var d=[],h=this.signal={aborted:!1,addEventListener:function(x,N){d.push(N)}};this.abort=function(){h.aborted=!0,d.forEach(function(x){return x()})}},V0=t.unstable_scheduleCallback,_g=t.unstable_NormalPriority,ma={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dm(){return{controller:new Ig,data:new Map,refCount:0}}function IA(d){d.refCount--,d.refCount===0&&V0(_g,function(){d.controller.abort()})}var _A=null,Am=0,Su=0,Jl=null;function kg(d,h){if(_A===null){var x=_A=[];Am=0,Su=Gw(),Jl={status:"pending",value:void 0,then:function(N){x.push(N)}}}return Am++,h.then(fm,fm),h}function fm(){if(--Am===0&&_A!==null){Jl!==null&&(Jl.status="fulfilled");var d=_A;_A=null,Su=0,Jl=null;for(var h=0;h<d.length;h++)(0,d[h])()}}function z0(d,h){var x=[],N={status:"pending",value:null,reason:null,then:function(O){x.push(O)}};return d.then(function(){N.status="fulfilled",N.value=h;for(var O=0;O<x.length;O++)(0,x[O])(h)},function(O){for(N.status="rejected",N.reason=O,O=0;O<x.length;O++)(0,x[O])(void 0)}),N}var B=ee.S;ee.S=function(d,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&kg(d,h),B!==null&&B(d,h)};var M=xe(null);function J(){var d=M.current;return d!==null?d:xs.pooledCache}function fe(d,h){h===null?G(M,M.current):G(M,h.pool)}function Te(){var d=J();return d===null?null:{parent:ma._currentValue,pool:d}}var _e=Error(a(460)),De=Error(a(474)),Le=Error(a(542)),He={then:function(){}};function Ye(d){return d=d.status,d==="fulfilled"||d==="rejected"}function ct(){}function St(d,h,x){switch(x=d[x],x===void 0?d.push(h):x!==h&&(h.then(ct,ct),h=x),h.status){case"fulfilled":return h.value;case"rejected":throw d=h.reason,Rt(d),d;default:if(typeof h.status=="string")h.then(ct,ct);else{if(d=xs,d!==null&&100<d.shellSuspendCounter)throw Error(a(482));d=h,d.status="pending",d.then(function(N){if(h.status==="pending"){var O=h;O.status="fulfilled",O.value=N}},function(N){if(h.status==="pending"){var O=h;O.status="rejected",O.reason=N}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw d=h.reason,Rt(d),d}throw Nt=h,_e}}var Nt=null;function pt(){if(Nt===null)throw Error(a(459));var d=Nt;return Nt=null,d}function Rt(d){if(d===_e||d===Le)throw Error(a(483))}var Pt=!1;function ut(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ht(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function Vt(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function qt(d,h,x){var N=d.updateQueue;if(N===null)return null;if(N=N.shared,(Zn&2)!==0){var O=N.pending;return O===null?h.next=h:(h.next=O.next,O.next=h),N.pending=h,h=bu(d),BA(d,null,x),h}return Dc(d,N,h,x),bu(d)}function zt(d,h,x){if(h=h.updateQueue,h!==null&&(h=h.shared,(x&4194048)!==0)){var N=h.lanes;N&=d.pendingLanes,x|=N,h.lanes=x,ir(d,x)}}function vr(d,h){var x=d.updateQueue,N=d.alternate;if(N!==null&&(N=N.updateQueue,x===N)){var O=null,z=null;if(x=x.firstBaseUpdate,x!==null){do{var Be={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};z===null?O=z=Be:z=z.next=Be,x=x.next}while(x!==null);z===null?O=z=h:z=z.next=h}else O=z=h;x={baseState:N.baseState,firstBaseUpdate:O,lastBaseUpdate:z,shared:N.shared,callbacks:N.callbacks},d.updateQueue=x;return}d=x.lastBaseUpdate,d===null?x.firstBaseUpdate=h:d.next=h,x.lastBaseUpdate=h}var ur=!1;function _r(){if(ur){var d=Jl;if(d!==null)throw d}}function Ar(d,h,x,N){ur=!1;var O=d.updateQueue;Pt=!1;var z=O.firstBaseUpdate,Be=O.lastBaseUpdate,Me=O.shared.pending;if(Me!==null){O.shared.pending=null;var st=Me,Et=st.next;st.next=null,Be===null?z=Et:Be.next=Et,Be=st;var Wt=d.alternate;Wt!==null&&(Wt=Wt.updateQueue,Me=Wt.lastBaseUpdate,Me!==Be&&(Me===null?Wt.firstBaseUpdate=Et:Me.next=Et,Wt.lastBaseUpdate=st))}if(z!==null){var Jt=O.baseState;Be=0,Wt=Et=st=null,Me=z;do{var It=Me.lane&-536870913,kt=It!==Me.lane;if(kt?(Bn&It)===It:(N&It)===It){It!==0&&It===Su&&(ur=!0),Wt!==null&&(Wt=Wt.next={lane:0,tag:Me.tag,payload:Me.payload,callback:null,next:null});e:{var qr=d,Hr=Me;It=h;var vs=x;switch(Hr.tag){case 1:if(qr=Hr.payload,typeof qr=="function"){Jt=qr.call(vs,Jt,It);break e}Jt=qr;break e;case 3:qr.flags=qr.flags&-65537|128;case 0:if(qr=Hr.payload,It=typeof qr=="function"?qr.call(vs,Jt,It):qr,It==null)break e;Jt=A({},Jt,It);break e;case 2:Pt=!0}}It=Me.callback,It!==null&&(d.flags|=64,kt&&(d.flags|=8192),kt=O.callbacks,kt===null?O.callbacks=[It]:kt.push(It))}else kt={lane:It,tag:Me.tag,payload:Me.payload,callback:Me.callback,next:null},Wt===null?(Et=Wt=kt,st=Jt):Wt=Wt.next=kt,Be|=It;if(Me=Me.next,Me===null){if(Me=O.shared.pending,Me===null)break;kt=Me,Me=kt.next,kt.next=null,O.lastBaseUpdate=kt,O.shared.pending=null}}while(!0);Wt===null&&(st=Jt),O.baseState=st,O.firstBaseUpdate=Et,O.lastBaseUpdate=Wt,z===null&&(O.shared.lanes=0),$d|=Be,d.lanes=Be,d.memoizedState=Jt}}function Sn(d,h){if(typeof d!="function")throw Error(a(191,d));d.call(h)}function Pn(d,h){var x=d.callbacks;if(x!==null)for(d.callbacks=null,d=0;d<x.length;d++)Sn(x[d],h)}var nn=xe(null),Zt=xe(0);function Vn(d,h){d=Gu,G(Zt,d),G(nn,h),Gu=d|h.baseLanes}function Dn(){G(Zt,Gu),G(nn,nn.current)}function Kr(){Gu=Zt.current,R(nn),R(Zt)}var hn=0,Pr=null,Mr=null,un=null,gn=!1,Ca=!1,pa=!1,qs=0,Xn=0,Rs=null,_i=0;function On(){throw Error(a(321))}function Ys(d,h){if(h===null)return!1;for(var x=0;x<h.length&&x<d.length;x++)if(!as(d[x],h[x]))return!1;return!0}function Go(d,h,x,N,O,z){return hn=z,Pr=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,ee.H=d===null||d.memoizedState===null?Fv:Iv,pa=!1,z=x(N,O),pa=!1,Ca&&(z=Bu(h,x,N,O)),wl(d),z}function wl(d){ee.H=ep;var h=Mr!==null&&Mr.next!==null;if(hn=0,un=Mr=Pr=null,gn=!1,Xn=0,Rs=null,h)throw Error(a(300));d===null||Wa||(d=d.dependencies,d!==null&&Vf(d)&&(Wa=!0))}function Bu(d,h,x,N){Pr=d;var O=0;do{if(Ca&&(Rs=null),Xn=0,Ca=!1,25<=O)throw Error(a(301));if(O+=1,un=Mr=null,d.updateQueue!=null){var z=d.updateQueue;z.lastEffect=null,z.events=null,z.stores=null,z.memoCache!=null&&(z.memoCache.index=0)}ee.H=tp,z=h(x,N)}while(Ca);return z}function Mc(){var d=ee.H,h=d.useState()[0];return h=typeof h.then=="function"?Zl(h):h,d=d.useState()[0],(Mr!==null?Mr.memoizedState:null)!==d&&(Pr.flags|=1024),h}function gs(){var d=qs!==0;return qs=0,d}function kA(d,h,x){h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~x}function Gf(d){if(gn){for(d=d.memoizedState;d!==null;){var h=d.queue;h!==null&&(h.pending=null),d=d.next}gn=!1}hn=0,un=Mr=Pr=null,Ca=!1,Xn=qs=0,Rs=null}function di(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?Pr.memoizedState=un=d:un=un.next=d,un}function Fs(){if(Mr===null){var d=Pr.alternate;d=d!==null?d.memoizedState:null}else d=Mr.next;var h=un===null?Pr.memoizedState:un.next;if(h!==null)un=h,Mr=d;else{if(d===null)throw Pr.alternate===null?Error(a(467)):Error(a(310));Mr=d,d={memoizedState:Mr.memoizedState,baseState:Mr.baseState,baseQueue:Mr.baseQueue,queue:Mr.queue,next:null},un===null?Pr.memoizedState=un=d:un=un.next=d}return un}function Eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(d){var h=Xn;return Xn+=1,Rs===null&&(Rs=[]),d=St(Rs,d,h),h=Pr,(un===null?h.memoizedState:un.next)===null&&(h=h.alternate,ee.H=h===null||h.memoizedState===null?Fv:Iv),d}function ki(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return Zl(d);if(d.$$typeof===S)return ha(d)}throw Error(a(438,String(d)))}function Rc(d){var h=null,x=Pr.updateQueue;if(x!==null&&(h=x.memoCache),h==null){var N=Pr.alternate;N!==null&&(N=N.updateQueue,N!==null&&(N=N.memoCache,N!=null&&(h={data:N.data.map(function(O){return O.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),x===null&&(x=Eu(),Pr.updateQueue=x),x.memoCache=h,x=h.data[h.index],x===void 0)for(x=h.data[h.index]=Array(d),N=0;N<d;N++)x[N]=Q;return h.index++,x}function Pi(d,h){return typeof h=="function"?h(d):h}function Id(d){var h=Fs();return _d(h,Mr,d)}function _d(d,h,x){var N=d.queue;if(N===null)throw Error(a(311));N.lastRenderedReducer=x;var O=d.baseQueue,z=N.pending;if(z!==null){if(O!==null){var Be=O.next;O.next=z.next,z.next=Be}h.baseQueue=O=z,N.pending=null}if(z=d.baseState,O===null)d.memoizedState=z;else{h=O.next;var Me=Be=null,st=null,Et=h,Wt=!1;do{var Jt=Et.lane&-536870913;if(Jt!==Et.lane?(Bn&Jt)===Jt:(hn&Jt)===Jt){var It=Et.revertLane;if(It===0)st!==null&&(st=st.next={lane:0,revertLane:0,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null}),Jt===Su&&(Wt=!0);else if((hn&It)===It){Et=Et.next,It===Su&&(Wt=!0);continue}else Jt={lane:0,revertLane:Et.revertLane,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null},st===null?(Me=st=Jt,Be=z):st=st.next=Jt,Pr.lanes|=It,$d|=It;Jt=Et.action,pa&&x(z,Jt),z=Et.hasEagerState?Et.eagerState:x(z,Jt)}else It={lane:Jt,revertLane:Et.revertLane,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null},st===null?(Me=st=It,Be=z):st=st.next=It,Pr.lanes|=Jt,$d|=Jt;Et=Et.next}while(Et!==null&&Et!==h);if(st===null?Be=z:st.next=Me,!as(z,d.memoizedState)&&(Wa=!0,Wt&&(x=Jl,x!==null)))throw x;d.memoizedState=z,d.baseState=Be,d.baseQueue=st,N.lastRenderedState=z}return O===null&&(N.lanes=0),[d.memoizedState,N.dispatch]}function Tu(d){var h=Fs(),x=h.queue;if(x===null)throw Error(a(311));x.lastRenderedReducer=d;var N=x.dispatch,O=x.pending,z=h.memoizedState;if(O!==null){x.pending=null;var Be=O=O.next;do z=d(z,Be.action),Be=Be.next;while(Be!==O);as(z,h.memoizedState)||(Wa=!0),h.memoizedState=z,h.baseQueue===null&&(h.baseState=z),x.lastRenderedState=z}return[z,N]}function PA(d,h,x){var N=Pr,O=Fs(),z=Fn;if(z){if(x===void 0)throw Error(a(407));x=x()}else x=h();var Be=!as((Mr||O).memoizedState,x);Be&&(O.memoizedState=x,Wa=!0),O=O.queue;var Me=Iu.bind(null,N,O,d);if(Dd(2048,8,Me,[d]),O.getSnapshot!==h||Be||un!==null&&un.memoizedState.tag&1){if(N.flags|=2048,ec(9,LA(),Fu.bind(null,N,O,x,h),null),xs===null)throw Error(a(349));z||(hn&124)!==0||kd(N,h,x)}return x}function kd(d,h,x){d.flags|=16384,d={getSnapshot:h,value:x},h=Pr.updateQueue,h===null?(h=Eu(),Pr.updateQueue=h,h.stores=[d]):(x=h.stores,x===null?h.stores=[d]:x.push(d))}function Fu(d,h,x,N){h.value=x,h.getSnapshot=N,hm(h)&&G0(d)}function Iu(d,h,x){return x(function(){hm(h)&&G0(d)})}function hm(d){var h=d.getSnapshot;d=d.value;try{var x=h();return!as(d,x)}catch{return!0}}function G0(d){var h=zl(d,2);h!==null&&cr(h,d,2)}function Pd(d){var h=di();if(typeof d=="function"){var x=d;if(d=x(),pa){Ct(!0);try{x()}finally{Ct(!1)}}}return h.memoizedState=h.baseState=d,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:d},h}function Wo(d,h,x,N){return d.baseState=x,_d(d,Mr,typeof N=="function"?N:Pi)}function mm(d,h,x,N,O){if(Nm(d))throw Error(a(485));if(d=h.action,d!==null){var z={payload:O,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Be){z.listeners.push(Be)}};ee.T!==null?x(!0):z.isTransition=!1,N(z),x=h.pending,x===null?(z.next=h.pending=z,pm(h,z)):(z.next=x.next,h.pending=x.next=z)}}function pm(d,h){var x=h.action,N=h.payload,O=d.state;if(h.isTransition){var z=ee.T,Be={};ee.T=Be;try{var Me=x(O,N),st=ee.S;st!==null&&st(Be,Me),gm(d,h,Me)}catch(Et){_u(d,h,Et)}finally{ee.T=z}}else try{z=x(O,N),gm(d,h,z)}catch(Et){_u(d,h,Et)}}function gm(d,h,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(N){Wf(d,h,N)},function(N){return _u(d,h,N)}):Wf(d,h,x)}function Wf(d,h,x){h.status="fulfilled",h.value=x,DA(h),d.state=x,h=d.pending,h!==null&&(x=h.next,x===h?d.pending=null:(x=x.next,h.next=x,pm(d,x)))}function _u(d,h,x){var N=d.pending;if(d.pending=null,N!==null){N=N.next;do h.status="rejected",h.reason=x,DA(h),h=h.next;while(h!==N)}d.action=null}function DA(d){d=d.listeners;for(var h=0;h<d.length;h++)(0,d[h])()}function xm(d,h){return h}function OA(d,h){if(Fn){var x=xs.formState;if(x!==null){e:{var N=Pr;if(Fn){if(Ms){t:{for(var O=Ms,z=yl;O.nodeType!==8;){if(!z){O=null;break t}if(O=Yu(O.nextSibling),O===null){O=null;break t}}z=O.data,O=z==="F!"||z==="F"?O:null}if(O){Ms=Yu(O.nextSibling),N=O.data==="F!";break e}}Cu(N)}N=!1}N&&(h=x[0])}}return x=di(),x.memoizedState=x.baseState=h,N={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xm,lastRenderedState:h},x.queue=N,x=Pg.bind(null,Pr,N),N.dispatch=x,N=Pd(!1),z=J0.bind(null,Pr,!1,N.queue),N=di(),O={state:h,dispatch:null,action:d,pending:null},N.queue=O,x=mm.bind(null,Pr,O,z,x),O.dispatch=x,N.memoizedState=d,[h,x,!1]}function qf(d){var h=Fs();return ka(h,Mr,d)}function ka(d,h,x){if(h=_d(d,h,xm)[0],d=Id(Pi)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var N=Zl(h)}catch(Be){throw Be===_e?Le:Be}else N=h;h=Fs();var O=h.queue,z=O.dispatch;return x!==h.memoizedState&&(Pr.flags|=2048,ec(9,LA(),Yf.bind(null,O,x),null)),[N,z,d]}function Yf(d,h){d.action=h}function W0(d){var h=Fs(),x=Mr;if(x!==null)return ka(h,x,d);Fs(),h=h.memoizedState,x=Fs();var N=x.queue.dispatch;return x.memoizedState=d,[h,N,!1]}function ec(d,h,x,N){return d={tag:d,create:x,deps:N,inst:h,next:null},h=Pr.updateQueue,h===null&&(h=Eu(),Pr.updateQueue=h),x=h.lastEffect,x===null?h.lastEffect=d.next=d:(N=x.next,x.next=d,d.next=N,h.lastEffect=d),d}function LA(){return{destroy:void 0,resource:void 0}}function Xf(){return Fs().memoizedState}function qo(d,h,x,N){var O=di();N=N===void 0?null:N,Pr.flags|=d,O.memoizedState=ec(1|h,LA(),x,N)}function Dd(d,h,x,N){var O=Fs();N=N===void 0?null:N;var z=O.memoizedState.inst;Mr!==null&&N!==null&&Ys(N,Mr.memoizedState.deps)?O.memoizedState=ec(h,z,x,N):(Pr.flags|=d,O.memoizedState=ec(1|h,z,x,N))}function ym(d,h){qo(8390656,8,d,h)}function q0(d,h){Dd(2048,8,d,h)}function vm(d,h){return Dd(4,2,d,h)}function Qc(d,h){return Dd(4,4,d,h)}function Y0(d,h){if(typeof h=="function"){d=d();var x=h(d);return function(){typeof x=="function"?x():h(null)}}if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function UA(d,h,x){x=x!=null?x.concat([d]):null,Dd(4,4,Y0.bind(null,h,d),x)}function Jf(){}function ga(d,h){var x=Fs();h=h===void 0?null:h;var N=x.memoizedState;return h!==null&&Ys(h,N[1])?N[0]:(x.memoizedState=[d,h],d)}function Od(d,h){var x=Fs();h=h===void 0?null:h;var N=x.memoizedState;if(h!==null&&Ys(h,N[1]))return N[0];if(N=d(),pa){Ct(!0);try{d()}finally{Ct(!1)}}return x.memoizedState=[N,h],N}function ku(d,h,x){return x===void 0||(hn&1073741824)!==0?d.memoizedState=h:(d.memoizedState=x,d=lr(),Pr.lanes|=d,$d|=d,x)}function Zf(d,h,x,N){return as(x,h)?x:nn.current!==null?(d=ku(d,x,N),as(d,h)||(Wa=!0),d):(hn&42)===0?(Wa=!0,d.memoizedState=x):(d=lr(),Pr.lanes|=d,$d|=d,h)}function Ld(d,h,x,N,O){var z=de.p;de.p=z!==0&&8>z?z:8;var Be=ee.T,Me={};ee.T=Me,J0(d,!1,h,x);try{var st=O(),Et=ee.S;if(Et!==null&&Et(Me,st),st!==null&&typeof st=="object"&&typeof st.then=="function"){var Wt=z0(st,N);eh(d,h,Wt,fr(d))}else eh(d,h,N,fr(d))}catch(Jt){eh(d,h,{then:function(){},status:"rejected",reason:Jt},fr())}finally{de.p=z,ee.T=Be}}function Yo(){}function jl(d,h,x,N){if(d.tag!==5)throw Error(a(476));var O=tc(d).queue;Ld(d,O,h,Ne,x===null?Yo:function(){return MA(d),x(N)})}function tc(d){var h=d.memoizedState;if(h!==null)return h;h={memoizedState:Ne,baseState:Ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:Ne},next:null};var x={};return h.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:x},next:null},d.memoizedState=h,d=d.alternate,d!==null&&(d.memoizedState=h),h}function MA(d){var h=tc(d).next.queue;eh(d,h,{},fr())}function RA(){return ha(dx)}function bm(){return Fs().memoizedState}function X0(){return Fs().memoizedState}function wm(d){for(var h=d.return;h!==null;){switch(h.tag){case 24:case 3:var x=fr();d=Vt(x);var N=qt(h,d,x);N!==null&&(cr(N,h,x),zt(N,h,x)),h={cache:dm()},d.payload=h;return}h=h.return}}function jm(d,h,x){var N=fr();x={lane:N,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},Nm(d)?Z0(h,x):(x=xl(d,h,x,N),x!==null&&(cr(x,d,N),Tv(x,h,N)))}function Pg(d,h,x){var N=fr();eh(d,h,x,N)}function eh(d,h,x,N){var O={lane:N,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(Nm(d))Z0(h,O);else{var z=d.alternate;if(d.lanes===0&&(z===null||z.lanes===0)&&(z=h.lastRenderedReducer,z!==null))try{var Be=h.lastRenderedState,Me=z(Be,x);if(O.hasEagerState=!0,O.eagerState=Me,as(Me,Be))return Dc(d,h,O,0),xs===null&&mo(),!1}catch{}finally{}if(x=xl(d,h,O,N),x!==null)return cr(x,d,N),Tv(x,h,N),!0}return!1}function J0(d,h,x,N){if(N={lane:2,revertLane:Gw(),action:N,hasEagerState:!1,eagerState:null,next:null},Nm(d)){if(h)throw Error(a(479))}else h=xl(d,x,N,2),h!==null&&cr(h,d,2)}function Nm(d){var h=d.alternate;return d===Pr||h!==null&&h===Pr}function Z0(d,h){Ca=gn=!0;var x=d.pending;x===null?h.next=h:(h.next=x.next,x.next=h),d.pending=h}function Tv(d,h,x){if((x&4194048)!==0){var N=h.lanes;N&=d.pendingLanes,x|=N,h.lanes=x,ir(d,x)}}var ep={readContext:ha,use:ki,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useLayoutEffect:On,useInsertionEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useSyncExternalStore:On,useId:On,useHostTransitionStatus:On,useFormState:On,useActionState:On,useOptimistic:On,useMemoCache:On,useCacheRefresh:On},Fv={readContext:ha,use:ki,useCallback:function(d,h){return di().memoizedState=[d,h===void 0?null:h],d},useContext:ha,useEffect:ym,useImperativeHandle:function(d,h,x){x=x!=null?x.concat([d]):null,qo(4194308,4,Y0.bind(null,h,d),x)},useLayoutEffect:function(d,h){return qo(4194308,4,d,h)},useInsertionEffect:function(d,h){qo(4,2,d,h)},useMemo:function(d,h){var x=di();h=h===void 0?null:h;var N=d();if(pa){Ct(!0);try{d()}finally{Ct(!1)}}return x.memoizedState=[N,h],N},useReducer:function(d,h,x){var N=di();if(x!==void 0){var O=x(h);if(pa){Ct(!0);try{x(h)}finally{Ct(!1)}}}else O=h;return N.memoizedState=N.baseState=O,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:O},N.queue=d,d=d.dispatch=jm.bind(null,Pr,d),[N.memoizedState,d]},useRef:function(d){var h=di();return d={current:d},h.memoizedState=d},useState:function(d){d=Pd(d);var h=d.queue,x=Pg.bind(null,Pr,h);return h.dispatch=x,[d.memoizedState,x]},useDebugValue:Jf,useDeferredValue:function(d,h){var x=di();return ku(x,d,h)},useTransition:function(){var d=Pd(!1);return d=Ld.bind(null,Pr,d.queue,!0,!1),di().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,h,x){var N=Pr,O=di();if(Fn){if(x===void 0)throw Error(a(407));x=x()}else{if(x=h(),xs===null)throw Error(a(349));(Bn&124)!==0||kd(N,h,x)}O.memoizedState=x;var z={value:x,getSnapshot:h};return O.queue=z,ym(Iu.bind(null,N,z,d),[d]),N.flags|=2048,ec(9,LA(),Fu.bind(null,N,z,x,h),null),x},useId:function(){var d=di(),h=xs.identifierPrefix;if(Fn){var x=ql,N=yo;x=(N&~(1<<32-_t(N)-1)).toString(32)+x,h="«"+h+"R"+x,x=qs++,0<x&&(h+="H"+x.toString(32)),h+="»"}else x=_i++,h="«"+h+"r"+x.toString(32)+"»";return d.memoizedState=h},useHostTransitionStatus:RA,useFormState:OA,useActionState:OA,useOptimistic:function(d){var h=di();h.memoizedState=h.baseState=d;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=x,h=J0.bind(null,Pr,!0,x),x.dispatch=h,[d,h]},useMemoCache:Rc,useCacheRefresh:function(){return di().memoizedState=wm.bind(null,Pr)}},Iv={readContext:ha,use:ki,useCallback:ga,useContext:ha,useEffect:q0,useImperativeHandle:UA,useInsertionEffect:vm,useLayoutEffect:Qc,useMemo:Od,useReducer:Id,useRef:Xf,useState:function(){return Id(Pi)},useDebugValue:Jf,useDeferredValue:function(d,h){var x=Fs();return Zf(x,Mr.memoizedState,d,h)},useTransition:function(){var d=Id(Pi)[0],h=Fs().memoizedState;return[typeof d=="boolean"?d:Zl(d),h]},useSyncExternalStore:PA,useId:bm,useHostTransitionStatus:RA,useFormState:qf,useActionState:qf,useOptimistic:function(d,h){var x=Fs();return Wo(x,Mr,d,h)},useMemoCache:Rc,useCacheRefresh:X0},tp={readContext:ha,use:ki,useCallback:ga,useContext:ha,useEffect:q0,useImperativeHandle:UA,useInsertionEffect:vm,useLayoutEffect:Qc,useMemo:Od,useReducer:Tu,useRef:Xf,useState:function(){return Tu(Pi)},useDebugValue:Jf,useDeferredValue:function(d,h){var x=Fs();return Mr===null?ku(x,d,h):Zf(x,Mr.memoizedState,d,h)},useTransition:function(){var d=Tu(Pi)[0],h=Fs().memoizedState;return[typeof d=="boolean"?d:Zl(d),h]},useSyncExternalStore:PA,useId:bm,useHostTransitionStatus:RA,useFormState:W0,useActionState:W0,useOptimistic:function(d,h){var x=Fs();return Mr!==null?Wo(x,Mr,d,h):(x.baseState=d,[d,x.queue.dispatch])},useMemoCache:Rc,useCacheRefresh:X0},Pu=null,Cm=0;function Sm(d){var h=Cm;return Cm+=1,Pu===null&&(Pu=[]),St(Pu,d,h)}function QA(d,h){h=h.props.ref,d.ref=h!==void 0?h:null}function Bm(d,h){throw h.$$typeof===m?Error(a(525)):(d=Object.prototype.toString.call(h),Error(a(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d)))}function Dg(d){var h=d._init;return h(d._payload)}function Og(d){function h(yt,ft){if(d){var Bt=yt.deletions;Bt===null?(yt.deletions=[ft],yt.flags|=16):Bt.push(ft)}}function x(yt,ft){if(!d)return null;for(;ft!==null;)h(yt,ft),ft=ft.sibling;return null}function N(yt){for(var ft=new Map;yt!==null;)yt.key!==null?ft.set(yt.key,yt):ft.set(yt.index,yt),yt=yt.sibling;return ft}function O(yt,ft){return yt=ci(yt,ft),yt.index=0,yt.sibling=null,yt}function z(yt,ft,Bt){return yt.index=Bt,d?(Bt=yt.alternate,Bt!==null?(Bt=Bt.index,Bt<ft?(yt.flags|=67108866,ft):Bt):(yt.flags|=67108866,ft)):(yt.flags|=1048576,ft)}function Be(yt){return d&&yt.alternate===null&&(yt.flags|=67108866),yt}function Me(yt,ft,Bt,Yt){return ft===null||ft.tag!==6?(ft=Qf(Bt,yt.mode,Yt),ft.return=yt,ft):(ft=O(ft,Bt),ft.return=yt,ft)}function st(yt,ft,Bt,Yt){var Er=Bt.type;return Er===b?Wt(yt,ft,Bt.props.children,Yt,Bt.key):ft!==null&&(ft.elementType===Er||typeof Er=="object"&&Er!==null&&Er.$$typeof===I&&Dg(Er)===ft.type)?(ft=O(ft,Bt.props),QA(ft,Bt),ft.return=yt,ft):(ft=wu(Bt.type,Bt.key,Bt.props,null,yt.mode,Yt),QA(ft,Bt),ft.return=yt,ft)}function Et(yt,ft,Bt,Yt){return ft===null||ft.tag!==4||ft.stateNode.containerInfo!==Bt.containerInfo||ft.stateNode.implementation!==Bt.implementation?(ft=TA(Bt,yt.mode,Yt),ft.return=yt,ft):(ft=O(ft,Bt.children||[]),ft.return=yt,ft)}function Wt(yt,ft,Bt,Yt,Er){return ft===null||ft.tag!==7?(ft=go(Bt,yt.mode,Yt,Er),ft.return=yt,ft):(ft=O(ft,Bt),ft.return=yt,ft)}function Jt(yt,ft,Bt){if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return ft=Qf(""+ft,yt.mode,Bt),ft.return=yt,ft;if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case p:return Bt=wu(ft.type,ft.key,ft.props,null,yt.mode,Bt),QA(Bt,ft),Bt.return=yt,Bt;case g:return ft=TA(ft,yt.mode,Bt),ft.return=yt,ft;case I:var Yt=ft._init;return ft=Yt(ft._payload),Jt(yt,ft,Bt)}if(Z(ft)||U(ft))return ft=go(ft,yt.mode,Bt,null),ft.return=yt,ft;if(typeof ft.then=="function")return Jt(yt,Sm(ft),Bt);if(ft.$$typeof===S)return Jt(yt,zo(yt,ft),Bt);Bm(yt,ft)}return null}function It(yt,ft,Bt,Yt){var Er=ft!==null?ft.key:null;if(typeof Bt=="string"&&Bt!==""||typeof Bt=="number"||typeof Bt=="bigint")return Er!==null?null:Me(yt,ft,""+Bt,Yt);if(typeof Bt=="object"&&Bt!==null){switch(Bt.$$typeof){case p:return Bt.key===Er?st(yt,ft,Bt,Yt):null;case g:return Bt.key===Er?Et(yt,ft,Bt,Yt):null;case I:return Er=Bt._init,Bt=Er(Bt._payload),It(yt,ft,Bt,Yt)}if(Z(Bt)||U(Bt))return Er!==null?null:Wt(yt,ft,Bt,Yt,null);if(typeof Bt.then=="function")return It(yt,ft,Sm(Bt),Yt);if(Bt.$$typeof===S)return It(yt,ft,zo(yt,Bt),Yt);Bm(yt,Bt)}return null}function kt(yt,ft,Bt,Yt,Er){if(typeof Yt=="string"&&Yt!==""||typeof Yt=="number"||typeof Yt=="bigint")return yt=yt.get(Bt)||null,Me(ft,yt,""+Yt,Er);if(typeof Yt=="object"&&Yt!==null){switch(Yt.$$typeof){case p:return yt=yt.get(Yt.key===null?Bt:Yt.key)||null,st(ft,yt,Yt,Er);case g:return yt=yt.get(Yt.key===null?Bt:Yt.key)||null,Et(ft,yt,Yt,Er);case I:var yn=Yt._init;return Yt=yn(Yt._payload),kt(yt,ft,Bt,Yt,Er)}if(Z(Yt)||U(Yt))return yt=yt.get(Bt)||null,Wt(ft,yt,Yt,Er,null);if(typeof Yt.then=="function")return kt(yt,ft,Bt,Sm(Yt),Er);if(Yt.$$typeof===S)return kt(yt,ft,Bt,zo(ft,Yt),Er);Bm(ft,Yt)}return null}function qr(yt,ft,Bt,Yt){for(var Er=null,yn=null,kr=ft,Vr=ft=0,Li=null;kr!==null&&Vr<Bt.length;Vr++){kr.index>Vr?(Li=kr,kr=null):Li=kr.sibling;var Gn=It(yt,kr,Bt[Vr],Yt);if(Gn===null){kr===null&&(kr=Li);break}d&&kr&&Gn.alternate===null&&h(yt,kr),ft=z(Gn,ft,Vr),yn===null?Er=Gn:yn.sibling=Gn,yn=Gn,kr=Li}if(Vr===Bt.length)return x(yt,kr),Fn&&Nu(yt,Vr),Er;if(kr===null){for(;Vr<Bt.length;Vr++)kr=Jt(yt,Bt[Vr],Yt),kr!==null&&(ft=z(kr,ft,Vr),yn===null?Er=kr:yn.sibling=kr,yn=kr);return Fn&&Nu(yt,Vr),Er}for(kr=N(kr);Vr<Bt.length;Vr++)Li=kt(kr,yt,Vr,Bt[Vr],Yt),Li!==null&&(d&&Li.alternate!==null&&kr.delete(Li.key===null?Vr:Li.key),ft=z(Li,ft,Vr),yn===null?Er=Li:yn.sibling=Li,yn=Li);return d&&kr.forEach(function(ph){return h(yt,ph)}),Fn&&Nu(yt,Vr),Er}function Hr(yt,ft,Bt,Yt){if(Bt==null)throw Error(a(151));for(var Er=null,yn=null,kr=ft,Vr=ft=0,Li=null,Gn=Bt.next();kr!==null&&!Gn.done;Vr++,Gn=Bt.next()){kr.index>Vr?(Li=kr,kr=null):Li=kr.sibling;var ph=It(yt,kr,Gn.value,Yt);if(ph===null){kr===null&&(kr=Li);break}d&&kr&&ph.alternate===null&&h(yt,kr),ft=z(ph,ft,Vr),yn===null?Er=ph:yn.sibling=ph,yn=ph,kr=Li}if(Gn.done)return x(yt,kr),Fn&&Nu(yt,Vr),Er;if(kr===null){for(;!Gn.done;Vr++,Gn=Bt.next())Gn=Jt(yt,Gn.value,Yt),Gn!==null&&(ft=z(Gn,ft,Vr),yn===null?Er=Gn:yn.sibling=Gn,yn=Gn);return Fn&&Nu(yt,Vr),Er}for(kr=N(kr);!Gn.done;Vr++,Gn=Bt.next())Gn=kt(kr,yt,Vr,Gn.value,Yt),Gn!==null&&(d&&Gn.alternate!==null&&kr.delete(Gn.key===null?Vr:Gn.key),ft=z(Gn,ft,Vr),yn===null?Er=Gn:yn.sibling=Gn,yn=Gn);return d&&kr.forEach(function(G$){return h(yt,G$)}),Fn&&Nu(yt,Vr),Er}function vs(yt,ft,Bt,Yt){if(typeof Bt=="object"&&Bt!==null&&Bt.type===b&&Bt.key===null&&(Bt=Bt.props.children),typeof Bt=="object"&&Bt!==null){switch(Bt.$$typeof){case p:e:{for(var Er=Bt.key;ft!==null;){if(ft.key===Er){if(Er=Bt.type,Er===b){if(ft.tag===7){x(yt,ft.sibling),Yt=O(ft,Bt.props.children),Yt.return=yt,yt=Yt;break e}}else if(ft.elementType===Er||typeof Er=="object"&&Er!==null&&Er.$$typeof===I&&Dg(Er)===ft.type){x(yt,ft.sibling),Yt=O(ft,Bt.props),QA(Yt,Bt),Yt.return=yt,yt=Yt;break e}x(yt,ft);break}else h(yt,ft);ft=ft.sibling}Bt.type===b?(Yt=go(Bt.props.children,yt.mode,Yt,Bt.key),Yt.return=yt,yt=Yt):(Yt=wu(Bt.type,Bt.key,Bt.props,null,yt.mode,Yt),QA(Yt,Bt),Yt.return=yt,yt=Yt)}return Be(yt);case g:e:{for(Er=Bt.key;ft!==null;){if(ft.key===Er)if(ft.tag===4&&ft.stateNode.containerInfo===Bt.containerInfo&&ft.stateNode.implementation===Bt.implementation){x(yt,ft.sibling),Yt=O(ft,Bt.children||[]),Yt.return=yt,yt=Yt;break e}else{x(yt,ft);break}else h(yt,ft);ft=ft.sibling}Yt=TA(Bt,yt.mode,Yt),Yt.return=yt,yt=Yt}return Be(yt);case I:return Er=Bt._init,Bt=Er(Bt._payload),vs(yt,ft,Bt,Yt)}if(Z(Bt))return qr(yt,ft,Bt,Yt);if(U(Bt)){if(Er=U(Bt),typeof Er!="function")throw Error(a(150));return Bt=Er.call(Bt),Hr(yt,ft,Bt,Yt)}if(typeof Bt.then=="function")return vs(yt,ft,Sm(Bt),Yt);if(Bt.$$typeof===S)return vs(yt,ft,zo(yt,Bt),Yt);Bm(yt,Bt)}return typeof Bt=="string"&&Bt!==""||typeof Bt=="number"||typeof Bt=="bigint"?(Bt=""+Bt,ft!==null&&ft.tag===6?(x(yt,ft.sibling),Yt=O(ft,Bt),Yt.return=yt,yt=Yt):(x(yt,ft),Yt=Qf(Bt,yt.mode,Yt),Yt.return=yt,yt=Yt),Be(yt)):x(yt,ft)}return function(yt,ft,Bt,Yt){try{Cm=0;var Er=vs(yt,ft,Bt,Yt);return Pu=null,Er}catch(kr){if(kr===_e||kr===Le)throw kr;var yn=za(29,kr,null,yt.mode);return yn.lanes=Yt,yn.return=yt,yn}finally{}}}var th=Og(!0),Em=Og(!1),Xo=xe(null),rc=null;function Ud(d){var h=d.alternate;G(xa,xa.current&1),G(Xo,d),rc===null&&(h===null||nn.current!==null||h.memoizedState!==null)&&(rc=d)}function _v(d){if(d.tag===22){if(G(xa,xa.current),G(Xo,d),rc===null){var h=d.alternate;h!==null&&h.memoizedState!==null&&(rc=d)}}else Du()}function Du(){G(xa,xa.current),G(Xo,Xo.current)}function vo(d){R(Xo),rc===d&&(rc=null),R(xa)}var xa=xe(0);function HA(d){for(var h=d;h!==null;){if(h.tag===13){var x=h.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||aj(x)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function Lg(d,h,x,N){h=d.memoizedState,x=x(N,h),x=x==null?h:A({},h,x),d.memoizedState=x,d.lanes===0&&(d.updateQueue.baseState=x)}var Ug={enqueueSetState:function(d,h,x){d=d._reactInternals;var N=fr(),O=Vt(N);O.payload=h,x!=null&&(O.callback=x),h=qt(d,O,N),h!==null&&(cr(h,d,N),zt(h,d,N))},enqueueReplaceState:function(d,h,x){d=d._reactInternals;var N=fr(),O=Vt(N);O.tag=1,O.payload=h,x!=null&&(O.callback=x),h=qt(d,O,N),h!==null&&(cr(h,d,N),zt(h,d,N))},enqueueForceUpdate:function(d,h){d=d._reactInternals;var x=fr(),N=Vt(x);N.tag=2,h!=null&&(N.callback=h),h=qt(d,N,x),h!==null&&(cr(h,d,x),zt(h,d,x))}};function kv(d,h,x,N,O,z,Be){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(N,z,Be):h.prototype&&h.prototype.isPureReactComponent?!oi(x,N)||!oi(O,z):!0}function Pv(d,h,x,N){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(x,N),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(x,N),h.state!==d&&Ug.enqueueReplaceState(h,h.state,null)}function Md(d,h){var x=h;if("ref"in h){x={};for(var N in h)N!=="ref"&&(x[N]=h[N])}if(d=d.defaultProps){x===h&&(x=A({},x));for(var O in d)x[O]===void 0&&(x[O]=d[O])}return x}var rh=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)};function Mg(d){rh(d)}function Rg(d){console.error(d)}function rp(d){rh(d)}function Tm(d,h){try{var x=d.onUncaughtError;x(h.value,{componentStack:h.stack})}catch(N){setTimeout(function(){throw N})}}function Qg(d,h,x){try{var N=d.onCaughtError;N(x.value,{componentStack:x.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function Hg(d,h,x){return x=Vt(x),x.tag=3,x.payload={element:null},x.callback=function(){Tm(d,h)},x}function Fm(d){return d=Vt(d),d.tag=3,d}function Im(d,h,x,N){var O=x.type.getDerivedStateFromError;if(typeof O=="function"){var z=N.value;d.payload=function(){return O(z)},d.callback=function(){Qg(h,x,N)}}var Be=x.stateNode;Be!==null&&typeof Be.componentDidCatch=="function"&&(d.callback=function(){Qg(h,x,N),typeof O!="function"&&(_===null?_=new Set([this]):_.add(this));var Me=N.stack;this.componentDidCatch(N.value,{componentStack:Me!==null?Me:""})})}function Dv(d,h,x,N,O){if(x.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){if(h=x.alternate,h!==null&&Fd(h,x,O,!0),x=Xo.current,x!==null){switch(x.tag){case 13:return rc===null?ia():x.alternate===null&&aa===0&&(aa=3),x.flags&=-257,x.flags|=65536,x.lanes=O,N===He?x.flags|=16384:(h=x.updateQueue,h===null?x.updateQueue=new Set([N]):h.add(N),Kw(d,N,O)),!1;case 22:return x.flags|=65536,N===He?x.flags|=16384:(h=x.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([N])},x.updateQueue=h):(x=h.retryQueue,x===null?h.retryQueue=new Set([N]):x.add(N)),Kw(d,N,O)),!1}throw Error(a(435,x.tag))}return Kw(d,N,O),ia(),!1}if(Fn)return h=Xo.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=O,N!==um&&(d=Error(a(422),{cause:N}),Td(sn(d,x)))):(N!==um&&(h=Error(a(423),{cause:N}),Td(sn(h,x))),d=d.current.alternate,d.flags|=65536,O&=-O,d.lanes|=O,N=sn(N,x),O=Hg(d.stateNode,N,O),vr(d,O),aa!==4&&(aa=2)),!1;var z=Error(a(520),{cause:N});if(z=sn(z,x),Mm===null?Mm=[z]:Mm.push(z),aa!==4&&(aa=2),h===null)return!0;N=sn(N,x),x=h;do{switch(x.tag){case 3:return x.flags|=65536,d=O&-O,x.lanes|=d,d=Hg(x.stateNode,N,d),vr(x,d),!1;case 1:if(h=x.type,z=x.stateNode,(x.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(_===null||!_.has(z))))return x.flags|=65536,O&=-O,x.lanes|=O,O=Fm(O),Im(O,d,x,N),vr(x,O),!1}x=x.return}while(x!==null);return!1}var $g=Error(a(461)),Wa=!1;function qa(d,h,x,N){h.child=d===null?Em(h,null,x,N):th(h,d.child,x,N)}function Kg(d,h,x,N,O){x=x.render;var z=h.ref;if("ref"in N){var Be={};for(var Me in N)Me!=="ref"&&(Be[Me]=N[Me])}else Be=N;return bl(h),N=Go(d,h,x,Be,z,O),Me=gs(),d!==null&&!Wa?(kA(d,h,O),Mu(d,h,O)):(Fn&&Me&&FA(h),h.flags|=1,qa(d,h,N,O),h.child)}function Ov(d,h,x,N,O){if(d===null){var z=x.type;return typeof z=="function"&&!Ed(z)&&z.defaultProps===void 0&&x.compare===null?(h.tag=15,h.type=z,Lv(d,h,z,N,O)):(d=wu(x.type,null,N,h,h.mode,O),d.ref=h.ref,d.return=h,h.child=d)}if(z=d.child,!Wg(d,O)){var Be=z.memoizedProps;if(x=x.compare,x=x!==null?x:oi,x(Be,N)&&d.ref===h.ref)return Mu(d,h,O)}return h.flags|=1,d=ci(z,N),d.ref=h.ref,d.return=h,h.child=d}function Lv(d,h,x,N,O){if(d!==null){var z=d.memoizedProps;if(oi(z,N)&&d.ref===h.ref)if(Wa=!1,h.pendingProps=N=z,Wg(d,O))(d.flags&131072)!==0&&(Wa=!0);else return h.lanes=d.lanes,Mu(d,h,O)}return Ou(d,h,x,N,O)}function $A(d,h,x){var N=h.pendingProps,O=N.children,z=d!==null?d.memoizedState:null;if(N.mode==="hidden"){if((h.flags&128)!==0){if(N=z!==null?z.baseLanes|x:x,d!==null){for(O=h.child=d.child,z=0;O!==null;)z=z|O.lanes|O.childLanes,O=O.sibling;h.childLanes=z&~N}else h.childLanes=0,h.child=null;return Vg(d,h,N,x)}if((x&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},d!==null&&fe(h,z!==null?z.cachePool:null),z!==null?Vn(h,z):Dn(),_v(h);else return h.lanes=h.childLanes=536870912,Vg(d,h,z!==null?z.baseLanes|x:x,x)}else z!==null?(fe(h,z.cachePool),Vn(h,z),Du(),h.memoizedState=null):(d!==null&&fe(h,null),Dn(),Du());return qa(d,h,O,x),h.child}function Vg(d,h,x,N){var O=J();return O=O===null?null:{parent:ma._currentValue,pool:O},h.memoizedState={baseLanes:x,cachePool:O},d!==null&&fe(h,null),Dn(),_v(h),d!==null&&Fd(d,h,N,!0),null}function Qs(d,h){var x=h.ref;if(x===null)d!==null&&d.ref!==null&&(h.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(a(284));(d===null||d.ref!==x)&&(h.flags|=4194816)}}function Ou(d,h,x,N,O){return bl(h),x=Go(d,h,x,N,void 0,O),N=gs(),d!==null&&!Wa?(kA(d,h,O),Mu(d,h,O)):(Fn&&N&&FA(h),h.flags|=1,qa(d,h,x,O),h.child)}function KA(d,h,x,N,O,z){return bl(h),h.updateQueue=null,x=Bu(h,N,x,O),wl(d),N=gs(),d!==null&&!Wa?(kA(d,h,z),Mu(d,h,z)):(Fn&&N&&FA(h),h.flags|=1,qa(d,h,x,z),h.child)}function Lu(d,h,x,N,O){if(bl(h),h.stateNode===null){var z=ja,Be=x.contextType;typeof Be=="object"&&Be!==null&&(z=ha(Be)),z=new x(N,z),h.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,z.updater=Ug,h.stateNode=z,z._reactInternals=h,z=h.stateNode,z.props=N,z.state=h.memoizedState,z.refs={},ut(h),Be=x.contextType,z.context=typeof Be=="object"&&Be!==null?ha(Be):ja,z.state=h.memoizedState,Be=x.getDerivedStateFromProps,typeof Be=="function"&&(Lg(h,x,Be,N),z.state=h.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof z.getSnapshotBeforeUpdate=="function"||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(Be=z.state,typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount(),Be!==z.state&&Ug.enqueueReplaceState(z,z.state,null),Ar(h,N,z,O),_r(),z.state=h.memoizedState),typeof z.componentDidMount=="function"&&(h.flags|=4194308),N=!0}else if(d===null){z=h.stateNode;var Me=h.memoizedProps,st=Md(x,Me);z.props=st;var Et=z.context,Wt=x.contextType;Be=ja,typeof Wt=="object"&&Wt!==null&&(Be=ha(Wt));var Jt=x.getDerivedStateFromProps;Wt=typeof Jt=="function"||typeof z.getSnapshotBeforeUpdate=="function",Me=h.pendingProps!==Me,Wt||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(Me||Et!==Be)&&Pv(h,z,N,Be),Pt=!1;var It=h.memoizedState;z.state=It,Ar(h,N,z,O),_r(),Et=h.memoizedState,Me||It!==Et||Pt?(typeof Jt=="function"&&(Lg(h,x,Jt,N),Et=h.memoizedState),(st=Pt||kv(h,x,st,N,It,Et,Be))?(Wt||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(h.flags|=4194308)):(typeof z.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=N,h.memoizedState=Et),z.props=N,z.state=Et,z.context=Be,N=st):(typeof z.componentDidMount=="function"&&(h.flags|=4194308),N=!1)}else{z=h.stateNode,ht(d,h),Be=h.memoizedProps,Wt=Md(x,Be),z.props=Wt,Jt=h.pendingProps,It=z.context,Et=x.contextType,st=ja,typeof Et=="object"&&Et!==null&&(st=ha(Et)),Me=x.getDerivedStateFromProps,(Et=typeof Me=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(Be!==Jt||It!==st)&&Pv(h,z,N,st),Pt=!1,It=h.memoizedState,z.state=It,Ar(h,N,z,O),_r();var kt=h.memoizedState;Be!==Jt||It!==kt||Pt||d!==null&&d.dependencies!==null&&Vf(d.dependencies)?(typeof Me=="function"&&(Lg(h,x,Me,N),kt=h.memoizedState),(Wt=Pt||kv(h,x,Wt,N,It,kt,st)||d!==null&&d.dependencies!==null&&Vf(d.dependencies))?(Et||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(N,kt,st),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(N,kt,st)),typeof z.componentDidUpdate=="function"&&(h.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof z.componentDidUpdate!="function"||Be===d.memoizedProps&&It===d.memoizedState||(h.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||Be===d.memoizedProps&&It===d.memoizedState||(h.flags|=1024),h.memoizedProps=N,h.memoizedState=kt),z.props=N,z.state=kt,z.context=st,N=Wt):(typeof z.componentDidUpdate!="function"||Be===d.memoizedProps&&It===d.memoizedState||(h.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||Be===d.memoizedProps&&It===d.memoizedState||(h.flags|=1024),N=!1)}return z=N,Qs(d,h),N=(h.flags&128)!==0,z||N?(z=h.stateNode,x=N&&typeof x.getDerivedStateFromError!="function"?null:z.render(),h.flags|=1,d!==null&&N?(h.child=th(h,d.child,null,O),h.child=th(h,null,x,O)):qa(d,h,x,O),h.memoizedState=z.state,d=h.child):d=Mu(d,h,O),d}function Uu(d,h,x,N){return Ga(),h.flags|=256,qa(d,h,x,N),h.child}var VA={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nc(d){return{baseLanes:d,cachePool:Te()}}function np(d,h,x){return d=d!==null?d.childLanes&~x:0,h&&(d|=Cl),d}function zg(d,h,x){var N=h.pendingProps,O=!1,z=(h.flags&128)!==0,Be;if((Be=z)||(Be=d!==null&&d.memoizedState===null?!1:(xa.current&2)!==0),Be&&(O=!0,h.flags&=-129),Be=(h.flags&32)!==0,h.flags&=-33,d===null){if(Fn){if(O?Ud(h):Du(),Fn){var Me=Ms,st;if(st=Me){e:{for(st=Me,Me=yl;st.nodeType!==8;){if(!Me){Me=null;break e}if(st=Yu(st.nextSibling),st===null){Me=null;break e}}Me=st}Me!==null?(h.memoizedState={dehydrated:Me,treeContext:ju!==null?{id:yo,overflow:ql}:null,retryLane:536870912,hydrationErrors:null},st=za(18,null,null,0),st.stateNode=Me,st.return=h,h.child=st,fa=h,Ms=null,st=!0):st=!1}st||Cu(h)}if(Me=h.memoizedState,Me!==null&&(Me=Me.dehydrated,Me!==null))return aj(Me)?h.lanes=32:h.lanes=536870912,null;vo(h)}return Me=N.children,N=N.fallback,O?(Du(),O=h.mode,Me=nh({mode:"hidden",children:Me},O),N=go(N,O,x,null),Me.return=h,N.return=h,Me.sibling=N,h.child=Me,O=h.child,O.memoizedState=nc(x),O.childLanes=np(d,Be,x),h.memoizedState=VA,N):(Ud(h),sp(h,Me))}if(st=d.memoizedState,st!==null&&(Me=st.dehydrated,Me!==null)){if(z)h.flags&256?(Ud(h),h.flags&=-257,h=zA(d,h,x)):h.memoizedState!==null?(Du(),h.child=d.child,h.flags|=128,h=null):(Du(),O=N.fallback,Me=h.mode,N=nh({mode:"visible",children:N.children},Me),O=go(O,Me,x,null),O.flags|=2,N.return=h,O.return=h,N.sibling=O,h.child=N,th(h,d.child,null,x),N=h.child,N.memoizedState=nc(x),N.childLanes=np(d,Be,x),h.memoizedState=VA,h=O);else if(Ud(h),aj(Me)){if(Be=Me.nextSibling&&Me.nextSibling.dataset,Be)var Et=Be.dgst;Be=Et,N=Error(a(419)),N.stack="",N.digest=Be,Td({value:N,source:null,stack:null}),h=zA(d,h,x)}else if(Wa||Fd(d,h,x,!1),Be=(x&d.childLanes)!==0,Wa||Be){if(Be=xs,Be!==null&&(N=x&-x,N=(N&42)!==0?1:Dr(N),N=(N&(Be.suspendedLanes|x))!==0?0:N,N!==0&&N!==st.retryLane))throw st.retryLane=N,zl(d,N),cr(Be,d,N),$g;Me.data==="$?"||ia(),h=zA(d,h,x)}else Me.data==="$?"?(h.flags|=192,h.child=d.child,h=null):(d=st.treeContext,Ms=Yu(Me.nextSibling),fa=h,Fn=!0,Uc=null,yl=!1,d!==null&&(xo[qi++]=yo,xo[qi++]=ql,xo[qi++]=ju,yo=d.id,ql=d.overflow,ju=h),h=sp(h,N.children),h.flags|=4096);return h}return O?(Du(),O=N.fallback,Me=h.mode,st=d.child,Et=st.sibling,N=ci(st,{mode:"hidden",children:N.children}),N.subtreeFlags=st.subtreeFlags&65011712,Et!==null?O=ci(Et,O):(O=go(O,Me,x,null),O.flags|=2),O.return=h,N.return=h,N.sibling=O,h.child=N,N=O,O=h.child,Me=d.child.memoizedState,Me===null?Me=nc(x):(st=Me.cachePool,st!==null?(Et=ma._currentValue,st=st.parent!==Et?{parent:Et,pool:Et}:st):st=Te(),Me={baseLanes:Me.baseLanes|x,cachePool:st}),O.memoizedState=Me,O.childLanes=np(d,Be,x),h.memoizedState=VA,N):(Ud(h),x=d.child,d=x.sibling,x=ci(x,{mode:"visible",children:N.children}),x.return=h,x.sibling=null,d!==null&&(Be=h.deletions,Be===null?(h.deletions=[d],h.flags|=16):Be.push(d)),h.child=x,h.memoizedState=null,x)}function sp(d,h){return h=nh({mode:"visible",children:h},d.mode),h.return=d,d.child=h}function nh(d,h){return d=za(22,d,null,h),d.lanes=0,d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},d}function zA(d,h,x){return th(h,d.child,null,x),d=sp(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function Gg(d,h,x){d.lanes|=h;var N=d.alternate;N!==null&&(N.lanes|=h),$f(d.return,h,x)}function ap(d,h,x,N,O){var z=d.memoizedState;z===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:N,tail:x,tailMode:O}:(z.isBackwards=h,z.rendering=null,z.renderingStartTime=0,z.last=N,z.tail=x,z.tailMode=O)}function sh(d,h,x){var N=h.pendingProps,O=N.revealOrder,z=N.tail;if(qa(d,h,N.children,x),N=xa.current,(N&2)!==0)N=N&1|2,h.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&Gg(d,x,h);else if(d.tag===19)Gg(d,x,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}N&=1}switch(G(xa,N),O){case"forwards":for(x=h.child,O=null;x!==null;)d=x.alternate,d!==null&&HA(d)===null&&(O=x),x=x.sibling;x=O,x===null?(O=h.child,h.child=null):(O=x.sibling,x.sibling=null),ap(h,!1,O,x,z);break;case"backwards":for(x=null,O=h.child,h.child=null;O!==null;){if(d=O.alternate,d!==null&&HA(d)===null){h.child=O;break}d=O.sibling,O.sibling=x,x=O,O=d}ap(h,!0,x,null,z);break;case"together":ap(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Mu(d,h,x){if(d!==null&&(h.dependencies=d.dependencies),$d|=h.lanes,(x&h.childLanes)===0)if(d!==null){if(Fd(d,h,x,!1),(x&h.childLanes)===0)return null}else return null;if(d!==null&&h.child!==d.child)throw Error(a(153));if(h.child!==null){for(d=h.child,x=ci(d,d.pendingProps),h.child=x,x.return=h;d.sibling!==null;)d=d.sibling,x=x.sibling=ci(d,d.pendingProps),x.return=h;x.sibling=null}return h.child}function Wg(d,h){return(d.lanes&h)!==0?!0:(d=d.dependencies,!!(d!==null&&Vf(d)))}function Uw(d,h,x){switch(h.tag){case 3:me(h,h.stateNode.containerInfo),vl(h,ma,d.memoizedState.cache),Ga();break;case 27:case 5:Ae(h);break;case 4:me(h,h.stateNode.containerInfo);break;case 10:vl(h,h.type,h.memoizedProps.value);break;case 13:var N=h.memoizedState;if(N!==null)return N.dehydrated!==null?(Ud(h),h.flags|=128,null):(x&h.child.childLanes)!==0?zg(d,h,x):(Ud(h),d=Mu(d,h,x),d!==null?d.sibling:null);Ud(h);break;case 19:var O=(d.flags&128)!==0;if(N=(x&h.childLanes)!==0,N||(Fd(d,h,x,!1),N=(x&h.childLanes)!==0),O){if(N)return sh(d,h,x);h.flags|=128}if(O=h.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),G(xa,xa.current),N)break;return null;case 22:case 23:return h.lanes=0,$A(d,h,x);case 24:vl(h,ma,d.memoizedState.cache)}return Mu(d,h,x)}function Uv(d,h,x){if(d!==null)if(d.memoizedProps!==h.pendingProps)Wa=!0;else{if(!Wg(d,x)&&(h.flags&128)===0)return Wa=!1,Uw(d,h,x);Wa=(d.flags&131072)!==0}else Wa=!1,Fn&&(h.flags&1048576)!==0&&H0(h,Hf,h.index);switch(h.lanes=0,h.tag){case 16:e:{d=h.pendingProps;var N=h.elementType,O=N._init;if(N=O(N._payload),h.type=N,typeof N=="function")Ed(N)?(d=Md(N,d),h.tag=1,h=Lu(null,h,N,d,x)):(h.tag=0,h=Ou(null,h,N,d,x));else{if(N!=null){if(O=N.$$typeof,O===E){h.tag=11,h=Kg(null,h,N,d,x);break e}else if(O===L){h.tag=14,h=Ov(null,h,N,d,x);break e}}throw h=X(N)||N,Error(a(306,h,""))}}return h;case 0:return Ou(d,h,h.type,h.pendingProps,x);case 1:return N=h.type,O=Md(N,h.pendingProps),Lu(d,h,N,O,x);case 3:e:{if(me(h,h.stateNode.containerInfo),d===null)throw Error(a(387));N=h.pendingProps;var z=h.memoizedState;O=z.element,ht(d,h),Ar(h,N,null,x);var Be=h.memoizedState;if(N=Be.cache,vl(h,ma,N),N!==z.cache&&Kf(h,[ma],x,!0),_r(),N=Be.element,z.isDehydrated)if(z={element:N,isDehydrated:!1,cache:Be.cache},h.updateQueue.baseState=z,h.memoizedState=z,h.flags&256){h=Uu(d,h,N,x);break e}else if(N!==O){O=sn(Error(a(424)),h),Td(O),h=Uu(d,h,N,x);break e}else{switch(d=h.stateNode.containerInfo,d.nodeType){case 9:d=d.body;break;default:d=d.nodeName==="HTML"?d.ownerDocument.body:d}for(Ms=Yu(d.firstChild),fa=h,Fn=!0,Uc=null,yl=!0,x=Em(h,null,N,x),h.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(Ga(),N===O){h=Mu(d,h,x);break e}qa(d,h,N,x)}h=h.child}return h;case 26:return Qs(d,h),d===null?(x=nT(h.type,null,h.pendingProps,null))?h.memoizedState=x:Fn||(x=h.type,d=h.pendingProps,N=Xv(oe.current).createElement(x),N[En]=h,N[Mn]=d,Ji(N,x,d),Ge(N),h.stateNode=N):h.memoizedState=nT(h.type,d.memoizedProps,h.pendingProps,d.memoizedState),null;case 27:return Ae(h),d===null&&Fn&&(N=h.stateNode=eT(h.type,h.pendingProps,oe.current),fa=h,yl=!0,O=Ms,dh(h.type)?(ij=O,Ms=Yu(N.firstChild)):Ms=O),qa(d,h,h.pendingProps.children,x),Qs(d,h),d===null&&(h.flags|=4194304),h.child;case 5:return d===null&&Fn&&((O=N=Ms)&&(N=w$(N,h.type,h.pendingProps,yl),N!==null?(h.stateNode=N,fa=h,Ms=Yu(N.firstChild),yl=!1,O=!0):O=!1),O||Cu(h)),Ae(h),O=h.type,z=h.pendingProps,Be=d!==null?d.memoizedProps:null,N=z.children,rj(O,z)?N=null:Be!==null&&rj(O,Be)&&(h.flags|=32),h.memoizedState!==null&&(O=Go(d,h,Mc,null,null,x),dx._currentValue=O),Qs(d,h),qa(d,h,N,x),h.child;case 6:return d===null&&Fn&&((d=x=Ms)&&(x=j$(x,h.pendingProps,yl),x!==null?(h.stateNode=x,fa=h,Ms=null,d=!0):d=!1),d||Cu(h)),null;case 13:return zg(d,h,x);case 4:return me(h,h.stateNode.containerInfo),N=h.pendingProps,d===null?h.child=th(h,null,N,x):qa(d,h,N,x),h.child;case 11:return Kg(d,h,h.type,h.pendingProps,x);case 7:return qa(d,h,h.pendingProps,x),h.child;case 8:return qa(d,h,h.pendingProps.children,x),h.child;case 12:return qa(d,h,h.pendingProps.children,x),h.child;case 10:return N=h.pendingProps,vl(h,h.type,N.value),qa(d,h,N.children,x),h.child;case 9:return O=h.type._context,N=h.pendingProps.children,bl(h),O=ha(O),N=N(O),h.flags|=1,qa(d,h,N,x),h.child;case 14:return Ov(d,h,h.type,h.pendingProps,x);case 15:return Lv(d,h,h.type,h.pendingProps,x);case 19:return sh(d,h,x);case 31:return N=h.pendingProps,x=h.mode,N={mode:N.mode,children:N.children},d===null?(x=nh(N,x),x.ref=h.ref,h.child=x,x.return=h,h=x):(x=ci(d.child,N),x.ref=h.ref,h.child=x,x.return=h,h=x),h;case 22:return $A(d,h,x);case 24:return bl(h),N=ha(ma),d===null?(O=J(),O===null&&(O=xs,z=dm(),O.pooledCache=z,z.refCount++,z!==null&&(O.pooledCacheLanes|=x),O=z),h.memoizedState={parent:N,cache:O},ut(h),vl(h,ma,O)):((d.lanes&x)!==0&&(ht(d,h),Ar(h,null,null,x),_r()),O=d.memoizedState,z=h.memoizedState,O.parent!==N?(O={parent:N,cache:N},h.memoizedState=O,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=O),vl(h,ma,N)):(N=z.cache,vl(h,ma,N),N!==O.cache&&Kf(h,[ma],x,!0))),qa(d,h,h.pendingProps.children,x),h.child;case 29:throw h.pendingProps}throw Error(a(156,h.tag))}function Ru(d){d.flags|=4}function ip(d,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!lT(h)){if(h=Xo.current,h!==null&&((Bn&4194048)===Bn?rc!==null:(Bn&62914560)!==Bn&&(Bn&536870912)===0||h!==rc))throw Nt=He,De;d.flags|=8192}}function op(d,h){h!==null&&(d.flags|=4),d.flags&16384&&(h=d.tag!==22?Kt():536870912,d.lanes|=h,ch|=h)}function _m(d,h){if(!Fn)switch(d.tailMode){case"hidden":h=d.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?d.tail=null:x.sibling=null;break;case"collapsed":x=d.tail;for(var N=null;x!==null;)x.alternate!==null&&(N=x),x=x.sibling;N===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:N.sibling=null}}function Xs(d){var h=d.alternate!==null&&d.alternate.child===d.child,x=0,N=0;if(h)for(var O=d.child;O!==null;)x|=O.lanes|O.childLanes,N|=O.subtreeFlags&65011712,N|=O.flags&65011712,O.return=d,O=O.sibling;else for(O=d.child;O!==null;)x|=O.lanes|O.childLanes,N|=O.subtreeFlags,N|=O.flags,O.return=d,O=O.sibling;return d.subtreeFlags|=N,d.childLanes=x,h}function Mw(d,h,x){var N=h.pendingProps;switch(Lc(h),h.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xs(h),null;case 1:return Xs(h),null;case 3:return x=h.stateNode,N=null,d!==null&&(N=d.memoizedState.cache),h.memoizedState.cache!==N&&(h.flags|=2048),Yi(ma),te(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(d===null||d.child===null)&&(ui(h)?Ru(h):d===null||d.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,K0())),Xs(h),null;case 26:return x=h.memoizedState,d===null?(Ru(h),x!==null?(Xs(h),ip(h,x)):(Xs(h),h.flags&=-16777217)):x?x!==d.memoizedState?(Ru(h),Xs(h),ip(h,x)):(Xs(h),h.flags&=-16777217):(d.memoizedProps!==N&&Ru(h),Xs(h),h.flags&=-16777217),null;case 27:V(h),x=oe.current;var O=h.type;if(d!==null&&h.stateNode!=null)d.memoizedProps!==N&&Ru(h);else{if(!N){if(h.stateNode===null)throw Error(a(166));return Xs(h),null}d=ne.current,ui(h)?$0(h):(d=eT(O,N,x),h.stateNode=d,Ru(h))}return Xs(h),null;case 5:if(V(h),x=h.type,d!==null&&h.stateNode!=null)d.memoizedProps!==N&&Ru(h);else{if(!N){if(h.stateNode===null)throw Error(a(166));return Xs(h),null}if(d=ne.current,ui(h))$0(h);else{switch(O=Xv(oe.current),d){case 1:d=O.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:d=O.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":d=O.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":d=O.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":d=O.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof N.is=="string"?O.createElement("select",{is:N.is}):O.createElement("select"),N.multiple?d.multiple=!0:N.size&&(d.size=N.size);break;default:d=typeof N.is=="string"?O.createElement(x,{is:N.is}):O.createElement(x)}}d[En]=h,d[Mn]=N;e:for(O=h.child;O!==null;){if(O.tag===5||O.tag===6)d.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===h)break e;for(;O.sibling===null;){if(O.return===null||O.return===h)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}h.stateNode=d;e:switch(Ji(d,x,N),x){case"button":case"input":case"select":case"textarea":d=!!N.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Ru(h)}}return Xs(h),h.flags&=-16777217,null;case 6:if(d&&h.stateNode!=null)d.memoizedProps!==N&&Ru(h);else{if(typeof N!="string"&&h.stateNode===null)throw Error(a(166));if(d=oe.current,ui(h)){if(d=h.stateNode,x=h.memoizedProps,N=null,O=fa,O!==null)switch(O.tag){case 27:case 5:N=O.memoizedProps}d[En]=h,d=!!(d.nodeValue===x||N!==null&&N.suppressHydrationWarning===!0||GE(d.nodeValue,x)),d||Cu(h)}else d=Xv(d).createTextNode(N),d[En]=h,h.stateNode=d}return Xs(h),null;case 13:if(N=h.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(O=ui(h),N!==null&&N.dehydrated!==null){if(d===null){if(!O)throw Error(a(318));if(O=h.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(a(317));O[En]=h}else Ga(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Xs(h),O=!1}else O=K0(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=O),O=!0;if(!O)return h.flags&256?(vo(h),h):(vo(h),null)}if(vo(h),(h.flags&128)!==0)return h.lanes=x,h;if(x=N!==null,d=d!==null&&d.memoizedState!==null,x){N=h.child,O=null,N.alternate!==null&&N.alternate.memoizedState!==null&&N.alternate.memoizedState.cachePool!==null&&(O=N.alternate.memoizedState.cachePool.pool);var z=null;N.memoizedState!==null&&N.memoizedState.cachePool!==null&&(z=N.memoizedState.cachePool.pool),z!==O&&(N.flags|=2048)}return x!==d&&x&&(h.child.flags|=8192),op(h,h.updateQueue),Xs(h),null;case 4:return te(),d===null&&Xw(h.stateNode.containerInfo),Xs(h),null;case 10:return Yi(h.type),Xs(h),null;case 19:if(R(xa),O=h.memoizedState,O===null)return Xs(h),null;if(N=(h.flags&128)!==0,z=O.rendering,z===null)if(N)_m(O,!1);else{if(aa!==0||d!==null&&(d.flags&128)!==0)for(d=h.child;d!==null;){if(z=HA(d),z!==null){for(h.flags|=128,_m(O,!1),d=z.updateQueue,h.updateQueue=d,op(h,d),h.subtreeFlags=0,d=x,x=h.child;x!==null;)EA(x,d),x=x.sibling;return G(xa,xa.current&1|2),h.child}d=d.sibling}O.tail!==null&&Qe()>T&&(h.flags|=128,N=!0,_m(O,!1),h.lanes=4194304)}else{if(!N)if(d=HA(z),d!==null){if(h.flags|=128,N=!0,d=d.updateQueue,h.updateQueue=d,op(h,d),_m(O,!0),O.tail===null&&O.tailMode==="hidden"&&!z.alternate&&!Fn)return Xs(h),null}else 2*Qe()-O.renderingStartTime>T&&x!==536870912&&(h.flags|=128,N=!0,_m(O,!1),h.lanes=4194304);O.isBackwards?(z.sibling=h.child,h.child=z):(d=O.last,d!==null?d.sibling=z:h.child=z,O.last=z)}return O.tail!==null?(h=O.tail,O.rendering=h,O.tail=h.sibling,O.renderingStartTime=Qe(),h.sibling=null,d=xa.current,G(xa,N?d&1|2:d&1),h):(Xs(h),null);case 22:case 23:return vo(h),Kr(),N=h.memoizedState!==null,d!==null?d.memoizedState!==null!==N&&(h.flags|=8192):N&&(h.flags|=8192),N?(x&536870912)!==0&&(h.flags&128)===0&&(Xs(h),h.subtreeFlags&6&&(h.flags|=8192)):Xs(h),x=h.updateQueue,x!==null&&op(h,x.retryQueue),x=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),N=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(N=h.memoizedState.cachePool.pool),N!==x&&(h.flags|=2048),d!==null&&R(M),null;case 24:return x=null,d!==null&&(x=d.memoizedState.cache),h.memoizedState.cache!==x&&(h.flags|=2048),Yi(ma),Xs(h),null;case 25:return null;case 30:return null}throw Error(a(156,h.tag))}function Rw(d,h){switch(Lc(h),h.tag){case 1:return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return Yi(ma),te(),d=h.flags,(d&65536)!==0&&(d&128)===0?(h.flags=d&-65537|128,h):null;case 26:case 27:case 5:return V(h),null;case 13:if(vo(h),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(a(340));Ga()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return R(xa),null;case 4:return te(),null;case 10:return Yi(h.type),null;case 22:case 23:return vo(h),Kr(),d!==null&&R(M),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 24:return Yi(ma),null;case 25:return null;default:return null}}function lp(d,h){switch(Lc(h),h.tag){case 3:Yi(ma),te();break;case 26:case 27:case 5:V(h);break;case 4:te();break;case 13:vo(h);break;case 19:R(xa);break;case 10:Yi(h.type);break;case 22:case 23:vo(h),Kr(),d!==null&&R(M);break;case 24:Yi(ma)}}function GA(d,h){try{var x=h.updateQueue,N=x!==null?x.lastEffect:null;if(N!==null){var O=N.next;x=O;do{if((x.tag&d)===d){N=void 0;var z=x.create,Be=x.inst;N=z(),Be.destroy=N}x=x.next}while(x!==O)}}catch(Me){_s(h,h.return,Me)}}function Qu(d,h,x){try{var N=h.updateQueue,O=N!==null?N.lastEffect:null;if(O!==null){var z=O.next;N=z;do{if((N.tag&d)===d){var Be=N.inst,Me=Be.destroy;if(Me!==void 0){Be.destroy=void 0,O=h;var st=x,Et=Me;try{Et()}catch(Wt){_s(O,st,Wt)}}}N=N.next}while(N!==z)}}catch(Wt){_s(h,h.return,Wt)}}function Mv(d){var h=d.updateQueue;if(h!==null){var x=d.stateNode;try{Pn(h,x)}catch(N){_s(d,d.return,N)}}}function Rv(d,h,x){x.props=Md(d.type,d.memoizedProps),x.state=d.memoizedState;try{x.componentWillUnmount()}catch(N){_s(d,h,N)}}function ah(d,h){try{var x=d.ref;if(x!==null){switch(d.tag){case 26:case 27:case 5:var N=d.stateNode;break;case 30:N=d.stateNode;break;default:N=d.stateNode}typeof x=="function"?d.refCleanup=x(N):x.current=N}}catch(O){_s(d,h,O)}}function Hc(d,h){var x=d.ref,N=d.refCleanup;if(x!==null)if(typeof N=="function")try{N()}catch(O){_s(d,h,O)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(O){_s(d,h,O)}else x.current=null}function Qv(d){var h=d.type,x=d.memoizedProps,N=d.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":x.autoFocus&&N.focus();break e;case"img":x.src?N.src=x.src:x.srcSet&&(N.srcset=x.srcSet)}}catch(O){_s(d,d.return,O)}}function qg(d,h,x){try{var N=d.stateNode;g$(N,d.type,x,h),N[Mn]=h}catch(O){_s(d,d.return,O)}}function Hv(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&dh(d.type)||d.tag===4}function Yg(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||Hv(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&dh(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function km(d,h,x){var N=d.tag;if(N===5||N===6)d=d.stateNode,h?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(d,h):(h=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,h.appendChild(d),x=x._reactRootContainer,x!=null||h.onclick!==null||(h.onclick=Yv));else if(N!==4&&(N===27&&dh(d.type)&&(x=d.stateNode,h=null),d=d.child,d!==null))for(km(d,h,x),d=d.sibling;d!==null;)km(d,h,x),d=d.sibling}function cp(d,h,x){var N=d.tag;if(N===5||N===6)d=d.stateNode,h?x.insertBefore(d,h):x.appendChild(d);else if(N!==4&&(N===27&&dh(d.type)&&(x=d.stateNode),d=d.child,d!==null))for(cp(d,h,x),d=d.sibling;d!==null;)cp(d,h,x),d=d.sibling}function up(d){var h=d.stateNode,x=d.memoizedProps;try{for(var N=d.type,O=h.attributes;O.length;)h.removeAttributeNode(O[0]);Ji(h,N,x),h[En]=d,h[Mn]=x}catch(z){_s(d,d.return,z)}}var Hu=!1,or=!1,Rd=!1,Pm=typeof WeakSet=="function"?WeakSet:Set,Jn=null;function Qw(d,h){if(d=d.containerInfo,ej=n1,d=Va(d),Aa(d)){if("selectionStart"in d)var x={start:d.selectionStart,end:d.selectionEnd};else e:{x=(x=d.ownerDocument)&&x.defaultView||window;var N=x.getSelection&&x.getSelection();if(N&&N.rangeCount!==0){x=N.anchorNode;var O=N.anchorOffset,z=N.focusNode;N=N.focusOffset;try{x.nodeType,z.nodeType}catch{x=null;break e}var Be=0,Me=-1,st=-1,Et=0,Wt=0,Jt=d,It=null;t:for(;;){for(var kt;Jt!==x||O!==0&&Jt.nodeType!==3||(Me=Be+O),Jt!==z||N!==0&&Jt.nodeType!==3||(st=Be+N),Jt.nodeType===3&&(Be+=Jt.nodeValue.length),(kt=Jt.firstChild)!==null;)It=Jt,Jt=kt;for(;;){if(Jt===d)break t;if(It===x&&++Et===O&&(Me=Be),It===z&&++Wt===N&&(st=Be),(kt=Jt.nextSibling)!==null)break;Jt=It,It=Jt.parentNode}Jt=kt}x=Me===-1||st===-1?null:{start:Me,end:st}}else x=null}x=x||{start:0,end:0}}else x=null;for(tj={focusedElem:d,selectionRange:x},n1=!1,Jn=h;Jn!==null;)if(h=Jn,d=h.child,(h.subtreeFlags&1024)!==0&&d!==null)d.return=h,Jn=d;else for(;Jn!==null;){switch(h=Jn,z=h.alternate,d=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&z!==null){d=void 0,x=h,O=z.memoizedProps,z=z.memoizedState,N=x.stateNode;try{var qr=Md(x.type,O,x.elementType===x.type);d=N.getSnapshotBeforeUpdate(qr,z),N.__reactInternalSnapshotBeforeUpdate=d}catch(Hr){_s(x,x.return,Hr)}}break;case 3:if((d&1024)!==0){if(d=h.stateNode.containerInfo,x=d.nodeType,x===9)sj(d);else if(x===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":sj(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(a(163))}if(d=h.sibling,d!==null){d.return=h.return,Jn=d;break}Jn=h.return}}function Qn(d,h,x){var N=x.flags;switch(x.tag){case 0:case 11:case 15:$u(d,x),N&4&&GA(5,x);break;case 1:if($u(d,x),N&4)if(d=x.stateNode,h===null)try{d.componentDidMount()}catch(Be){_s(x,x.return,Be)}else{var O=Md(x.type,h.memoizedProps);h=h.memoizedState;try{d.componentDidUpdate(O,h,d.__reactInternalSnapshotBeforeUpdate)}catch(Be){_s(x,x.return,Be)}}N&64&&Mv(x),N&512&&ah(x,x.return);break;case 3:if($u(d,x),N&64&&(d=x.updateQueue,d!==null)){if(h=null,x.child!==null)switch(x.child.tag){case 27:case 5:h=x.child.stateNode;break;case 1:h=x.child.stateNode}try{Pn(d,h)}catch(Be){_s(x,x.return,Be)}}break;case 27:h===null&&N&4&&up(x);case 26:case 5:$u(d,x),h===null&&N&4&&Qv(x),N&512&&ah(x,x.return);break;case 12:$u(d,x);break;case 13:$u(d,x),N&4&&Dm(d,x),N&64&&(d=x.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(x=i$.bind(null,x),N$(d,x))));break;case 22:if(N=x.memoizedState!==null||Hu,!N){h=h!==null&&h.memoizedState!==null||or,O=Hu;var z=or;Hu=N,(or=h)&&!z?Vu(d,x,(x.subtreeFlags&8772)!==0):$u(d,x),Hu=O,or=z}break;case 30:break;default:$u(d,x)}}function Is(d){var h=d.alternate;h!==null&&(d.alternate=null,Is(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&Ve(h)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var is=null,bo=!1;function Nl(d,h,x){for(x=x.child;x!==null;)$v(d,h,x),x=x.sibling}function $v(d,h,x){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(it,x)}catch{}switch(x.tag){case 26:or||Hc(x,h),Nl(d,h,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:or||Hc(x,h);var N=is,O=bo;dh(x.type)&&(is=x.stateNode,bo=!1),Nl(d,h,x),ox(x.stateNode),is=N,bo=O;break;case 5:or||Hc(x,h);case 6:if(N=is,O=bo,is=null,Nl(d,h,x),is=N,bo=O,is!==null)if(bo)try{(is.nodeType===9?is.body:is.nodeName==="HTML"?is.ownerDocument.body:is).removeChild(x.stateNode)}catch(z){_s(x,h,z)}else try{is.removeChild(x.stateNode)}catch(z){_s(x,h,z)}break;case 18:is!==null&&(bo?(d=is,JE(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,x.stateNode),mx(d)):JE(is,x.stateNode));break;case 4:N=is,O=bo,is=x.stateNode.containerInfo,bo=!0,Nl(d,h,x),is=N,bo=O;break;case 0:case 11:case 14:case 15:or||Qu(2,x,h),or||Qu(4,x,h),Nl(d,h,x);break;case 1:or||(Hc(x,h),N=x.stateNode,typeof N.componentWillUnmount=="function"&&Rv(x,h,N)),Nl(d,h,x);break;case 21:Nl(d,h,x);break;case 22:or=(N=or)||x.memoizedState!==null,Nl(d,h,x),or=N;break;default:Nl(d,h,x)}}function Dm(d,h){if(h.memoizedState===null&&(d=h.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{mx(d)}catch(x){_s(h,h.return,x)}}function Hw(d){switch(d.tag){case 13:case 19:var h=d.stateNode;return h===null&&(h=d.stateNode=new Pm),h;case 22:return d=d.stateNode,h=d._retryCache,h===null&&(h=d._retryCache=new Pm),h;default:throw Error(a(435,d.tag))}}function Xg(d,h){var x=Hw(d);h.forEach(function(N){var O=o$.bind(null,d,N);x.has(N)||(x.add(N),N.then(O,O))})}function wo(d,h){var x=h.deletions;if(x!==null)for(var N=0;N<x.length;N++){var O=x[N],z=d,Be=h,Me=Be;e:for(;Me!==null;){switch(Me.tag){case 27:if(dh(Me.type)){is=Me.stateNode,bo=!1;break e}break;case 5:is=Me.stateNode,bo=!1;break e;case 3:case 4:is=Me.stateNode.containerInfo,bo=!0;break e}Me=Me.return}if(is===null)throw Error(a(160));$v(z,Be,O),is=null,bo=!1,z=O.alternate,z!==null&&(z.return=null),O.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)Jg(h,d),h=h.sibling}var sc=null;function Jg(d,h){var x=d.alternate,N=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:wo(h,d),Jo(d),N&4&&(Qu(3,d,d.return),GA(3,d),Qu(5,d,d.return));break;case 1:wo(h,d),Jo(d),N&512&&(or||x===null||Hc(x,x.return)),N&64&&Hu&&(d=d.updateQueue,d!==null&&(N=d.callbacks,N!==null&&(x=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=x===null?N:x.concat(N))));break;case 26:var O=sc;if(wo(h,d),Jo(d),N&512&&(or||x===null||Hc(x,x.return)),N&4){var z=x!==null?x.memoizedState:null;if(N=d.memoizedState,x===null)if(N===null)if(d.stateNode===null){e:{N=d.type,x=d.memoizedProps,O=O.ownerDocument||O;t:switch(N){case"title":z=O.getElementsByTagName("title")[0],(!z||z[$e]||z[En]||z.namespaceURI==="http://www.w3.org/2000/svg"||z.hasAttribute("itemprop"))&&(z=O.createElement(N),O.head.insertBefore(z,O.querySelector("head > title"))),Ji(z,N,x),z[En]=d,Ge(z),N=z;break e;case"link":var Be=iT("link","href",O).get(N+(x.href||""));if(Be){for(var Me=0;Me<Be.length;Me++)if(z=Be[Me],z.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&z.getAttribute("rel")===(x.rel==null?null:x.rel)&&z.getAttribute("title")===(x.title==null?null:x.title)&&z.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){Be.splice(Me,1);break t}}z=O.createElement(N),Ji(z,N,x),O.head.appendChild(z);break;case"meta":if(Be=iT("meta","content",O).get(N+(x.content||""))){for(Me=0;Me<Be.length;Me++)if(z=Be[Me],z.getAttribute("content")===(x.content==null?null:""+x.content)&&z.getAttribute("name")===(x.name==null?null:x.name)&&z.getAttribute("property")===(x.property==null?null:x.property)&&z.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&z.getAttribute("charset")===(x.charSet==null?null:x.charSet)){Be.splice(Me,1);break t}}z=O.createElement(N),Ji(z,N,x),O.head.appendChild(z);break;default:throw Error(a(468,N))}z[En]=d,Ge(z),N=z}d.stateNode=N}else oT(O,d.type,d.stateNode);else d.stateNode=aT(O,N,d.memoizedProps);else z!==N?(z===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):z.count--,N===null?oT(O,d.type,d.stateNode):aT(O,N,d.memoizedProps)):N===null&&d.stateNode!==null&&qg(d,d.memoizedProps,x.memoizedProps)}break;case 27:wo(h,d),Jo(d),N&512&&(or||x===null||Hc(x,x.return)),x!==null&&N&4&&qg(d,d.memoizedProps,x.memoizedProps);break;case 5:if(wo(h,d),Jo(d),N&512&&(or||x===null||Hc(x,x.return)),d.flags&32){O=d.stateNode;try{wc(O,"")}catch(kt){_s(d,d.return,kt)}}N&4&&d.stateNode!=null&&(O=d.memoizedProps,qg(d,O,x!==null?x.memoizedProps:O)),N&1024&&(Rd=!0);break;case 6:if(wo(h,d),Jo(d),N&4){if(d.stateNode===null)throw Error(a(162));N=d.memoizedProps,x=d.stateNode;try{x.nodeValue=N}catch(kt){_s(d,d.return,kt)}}break;case 3:if(e1=null,O=sc,sc=Jv(h.containerInfo),wo(h,d),sc=O,Jo(d),N&4&&x!==null&&x.memoizedState.isDehydrated)try{mx(h.containerInfo)}catch(kt){_s(d,d.return,kt)}Rd&&(Rd=!1,Zg(d));break;case 4:N=sc,sc=Jv(d.stateNode.containerInfo),wo(h,d),Jo(d),sc=N;break;case 12:wo(h,d),Jo(d);break;case 13:wo(h,d),Jo(d),d.child.flags&8192&&d.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(F=Qe()),N&4&&(N=d.updateQueue,N!==null&&(d.updateQueue=null,Xg(d,N)));break;case 22:O=d.memoizedState!==null;var st=x!==null&&x.memoizedState!==null,Et=Hu,Wt=or;if(Hu=Et||O,or=Wt||st,wo(h,d),or=Wt,Hu=Et,Jo(d),N&8192)e:for(h=d.stateNode,h._visibility=O?h._visibility&-2:h._visibility|1,O&&(x===null||st||Hu||or||Ku(d)),x=null,h=d;;){if(h.tag===5||h.tag===26){if(x===null){st=x=h;try{if(z=st.stateNode,O)Be=z.style,typeof Be.setProperty=="function"?Be.setProperty("display","none","important"):Be.display="none";else{Me=st.stateNode;var Jt=st.memoizedProps.style,It=Jt!=null&&Jt.hasOwnProperty("display")?Jt.display:null;Me.style.display=It==null||typeof It=="boolean"?"":(""+It).trim()}}catch(kt){_s(st,st.return,kt)}}}else if(h.tag===6){if(x===null){st=h;try{st.stateNode.nodeValue=O?"":st.memoizedProps}catch(kt){_s(st,st.return,kt)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===d)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break e;for(;h.sibling===null;){if(h.return===null||h.return===d)break e;x===h&&(x=null),h=h.return}x===h&&(x=null),h.sibling.return=h.return,h=h.sibling}N&4&&(N=d.updateQueue,N!==null&&(x=N.retryQueue,x!==null&&(N.retryQueue=null,Xg(d,x))));break;case 19:wo(h,d),Jo(d),N&4&&(N=d.updateQueue,N!==null&&(d.updateQueue=null,Xg(d,N)));break;case 30:break;case 21:break;default:wo(h,d),Jo(d)}}function Jo(d){var h=d.flags;if(h&2){try{for(var x,N=d.return;N!==null;){if(Hv(N)){x=N;break}N=N.return}if(x==null)throw Error(a(160));switch(x.tag){case 27:var O=x.stateNode,z=Yg(d);cp(d,z,O);break;case 5:var Be=x.stateNode;x.flags&32&&(wc(Be,""),x.flags&=-33);var Me=Yg(d);cp(d,Me,Be);break;case 3:case 4:var st=x.stateNode.containerInfo,Et=Yg(d);km(d,Et,st);break;default:throw Error(a(161))}}catch(Wt){_s(d,d.return,Wt)}d.flags&=-3}h&4096&&(d.flags&=-4097)}function Zg(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var h=d;Zg(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),d=d.sibling}}function $u(d,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)Qn(d,h.alternate,h),h=h.sibling}function Ku(d){for(d=d.child;d!==null;){var h=d;switch(h.tag){case 0:case 11:case 14:case 15:Qu(4,h,h.return),Ku(h);break;case 1:Hc(h,h.return);var x=h.stateNode;typeof x.componentWillUnmount=="function"&&Rv(h,h.return,x),Ku(h);break;case 27:ox(h.stateNode);case 26:case 5:Hc(h,h.return),Ku(h);break;case 22:h.memoizedState===null&&Ku(h);break;case 30:Ku(h);break;default:Ku(h)}d=d.sibling}}function Vu(d,h,x){for(x=x&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var N=h.alternate,O=d,z=h,Be=z.flags;switch(z.tag){case 0:case 11:case 15:Vu(O,z,x),GA(4,z);break;case 1:if(Vu(O,z,x),N=z,O=N.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(Et){_s(N,N.return,Et)}if(N=z,O=N.updateQueue,O!==null){var Me=N.stateNode;try{var st=O.shared.hiddenCallbacks;if(st!==null)for(O.shared.hiddenCallbacks=null,O=0;O<st.length;O++)Sn(st[O],Me)}catch(Et){_s(N,N.return,Et)}}x&&Be&64&&Mv(z),ah(z,z.return);break;case 27:up(z);case 26:case 5:Vu(O,z,x),x&&N===null&&Be&4&&Qv(z),ah(z,z.return);break;case 12:Vu(O,z,x);break;case 13:Vu(O,z,x),x&&Be&4&&Dm(O,z);break;case 22:z.memoizedState===null&&Vu(O,z,x),ah(z,z.return);break;case 30:break;default:Vu(O,z,x)}h=h.sibling}}function ex(d,h){var x=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),d=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(d=h.memoizedState.cachePool.pool),d!==x&&(d!=null&&d.refCount++,x!=null&&IA(x))}function dp(d,h){d=null,h.alternate!==null&&(d=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==d&&(h.refCount++,d!=null&&IA(d))}function $c(d,h,x,N){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)Kv(d,h,x,N),h=h.sibling}function Kv(d,h,x,N){var O=h.flags;switch(h.tag){case 0:case 11:case 15:$c(d,h,x,N),O&2048&&GA(9,h);break;case 1:$c(d,h,x,N);break;case 3:$c(d,h,x,N),O&2048&&(d=null,h.alternate!==null&&(d=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==d&&(h.refCount++,d!=null&&IA(d)));break;case 12:if(O&2048){$c(d,h,x,N),d=h.stateNode;try{var z=h.memoizedProps,Be=z.id,Me=z.onPostCommit;typeof Me=="function"&&Me(Be,h.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(st){_s(h,h.return,st)}}else $c(d,h,x,N);break;case 13:$c(d,h,x,N);break;case 23:break;case 22:z=h.stateNode,Be=h.alternate,h.memoizedState!==null?z._visibility&2?$c(d,h,x,N):Qd(d,h):z._visibility&2?$c(d,h,x,N):(z._visibility|=2,ih(d,h,x,N,(h.subtreeFlags&10256)!==0)),O&2048&&ex(Be,h);break;case 24:$c(d,h,x,N),O&2048&&dp(h.alternate,h);break;default:$c(d,h,x,N)}}function ih(d,h,x,N,O){for(O=O&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var z=d,Be=h,Me=x,st=N,Et=Be.flags;switch(Be.tag){case 0:case 11:case 15:ih(z,Be,Me,st,O),GA(8,Be);break;case 23:break;case 22:var Wt=Be.stateNode;Be.memoizedState!==null?Wt._visibility&2?ih(z,Be,Me,st,O):Qd(z,Be):(Wt._visibility|=2,ih(z,Be,Me,st,O)),O&&Et&2048&&ex(Be.alternate,Be);break;case 24:ih(z,Be,Me,st,O),O&&Et&2048&&dp(Be.alternate,Be);break;default:ih(z,Be,Me,st,O)}h=h.sibling}}function Qd(d,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var x=d,N=h,O=N.flags;switch(N.tag){case 22:Qd(x,N),O&2048&&ex(N.alternate,N);break;case 24:Qd(x,N),O&2048&&dp(N.alternate,N);break;default:Qd(x,N)}h=h.sibling}}var Di=8192;function WA(d){if(d.subtreeFlags&Di)for(d=d.child;d!==null;)Om(d),d=d.sibling}function Om(d){switch(d.tag){case 26:WA(d),d.flags&Di&&d.memoizedState!==null&&L$(sc,d.memoizedState,d.memoizedProps);break;case 5:WA(d);break;case 3:case 4:var h=sc;sc=Jv(d.stateNode.containerInfo),WA(d),sc=h;break;case 22:d.memoizedState===null&&(h=d.alternate,h!==null&&h.memoizedState!==null?(h=Di,Di=16777216,WA(d),Di=h):WA(d));break;default:WA(d)}}function Vv(d){var h=d.alternate;if(h!==null&&(d=h.child,d!==null)){h.child=null;do h=d.sibling,d.sibling=null,d=h;while(d!==null)}}function Lm(d){var h=d.deletions;if((d.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var N=h[x];Jn=N,Um(N,d)}Vv(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Ap(d),d=d.sibling}function Ap(d){switch(d.tag){case 0:case 11:case 15:Lm(d),d.flags&2048&&Qu(9,d,d.return);break;case 3:Lm(d);break;case 12:Lm(d);break;case 22:var h=d.stateNode;d.memoizedState!==null&&h._visibility&2&&(d.return===null||d.return.tag!==13)?(h._visibility&=-3,zu(d)):Lm(d);break;default:Lm(d)}}function zu(d){var h=d.deletions;if((d.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var N=h[x];Jn=N,Um(N,d)}Vv(d)}for(d=d.child;d!==null;){switch(h=d,h.tag){case 0:case 11:case 15:Qu(8,h,h.return),zu(h);break;case 22:x=h.stateNode,x._visibility&2&&(x._visibility&=-3,zu(h));break;default:zu(h)}d=d.sibling}}function Um(d,h){for(;Jn!==null;){var x=Jn;switch(x.tag){case 0:case 11:case 15:Qu(8,x,h);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var N=x.memoizedState.cachePool.pool;N!=null&&N.refCount++}break;case 24:IA(x.memoizedState.cache)}if(N=x.child,N!==null)N.return=x,Jn=N;else e:for(x=d;Jn!==null;){N=Jn;var O=N.sibling,z=N.return;if(Is(N),N===x){Jn=null;break e}if(O!==null){O.return=z,Jn=O;break e}Jn=z}}}var $w={getCacheForType:function(d){var h=ha(ma),x=h.data.get(d);return x===void 0&&(x=d(),h.data.set(d,x)),x}},oh=typeof WeakMap=="function"?WeakMap:Map,Zn=0,xs=null,mn=null,Bn=0,zn=0,Zo=null,Hd=!1,lh=!1,tx=!1,Gu=0,aa=0,$d=0,qA=0,rx=0,Cl=0,ch=0,Mm=null,jo=null,nx=!1,F=0,T=1/0,P=null,_=null,re=0,ve=null,Pe=null,ze=0,We=0,dt=null,mt=null,jt=0,Ht=null;function fr(){if((Zn&2)!==0&&Bn!==0)return Bn&-Bn;if(ee.T!==null){var d=Su;return d!==0?d:Gw()}return hs()}function lr(){Cl===0&&(Cl=(Bn&536870912)===0||Fn?gt():536870912);var d=Xo.current;return d!==null&&(d.flags|=32),Cl}function cr(d,h,x){(d===xs&&(zn===2||zn===9)||d.cancelPendingCommit!==null)&&(gr(d,0),dn(d,Bn,Cl,!1)),Tt(d,x),((Zn&2)===0||d!==xs)&&(d===xs&&((Zn&2)===0&&(qA|=x),aa===4&&dn(d,Bn,Cl,!1)),Gd(d))}function tn(d,h,x){if((Zn&6)!==0)throw Error(a(327));var N=!x&&(h&124)===0&&(h&d.expiredLanes)===0||Ce(d,h),O=N?rs(d,h):Oi(d,h,!0),z=N;do{if(O===0){lh&&!N&&dn(d,h,0,!1);break}else{if(x=d.current.alternate,z&&!Nr(x)){O=Oi(d,h,!1),z=!1;continue}if(O===2){if(z=h,d.errorRecoveryDisabledLanes&z)var Be=0;else Be=d.pendingLanes&-536870913,Be=Be!==0?Be:Be&536870912?536870912:0;if(Be!==0){h=Be;e:{var Me=d;O=Mm;var st=Me.current.memoizedState.isDehydrated;if(st&&(gr(Me,Be).flags|=256),Be=Oi(Me,Be,!1),Be!==2){if(tx&&!st){Me.errorRecoveryDisabledLanes|=z,qA|=z,O=4;break e}z=jo,jo=O,z!==null&&(jo===null?jo=z:jo.push.apply(jo,z))}O=Be}if(z=!1,O!==2)continue}}if(O===1){gr(d,0),dn(d,h,0,!0);break}e:{switch(N=d,z=O,z){case 0:case 1:throw Error(a(345));case 4:if((h&4194048)!==h)break;case 6:dn(N,h,Cl,!Hd);break e;case 2:jo=null;break;case 3:case 5:break;default:throw Error(a(329))}if((h&62914560)===h&&(O=F+300-Qe(),10<O)){if(dn(N,h,Cl,!Hd),At(N,0,!0)!==0)break e;N.timeoutHandle=YE(Br.bind(null,N,x,jo,P,nx,h,Cl,qA,ch,Hd,z,2,-0,0),O);break e}Br(N,x,jo,P,nx,h,Cl,qA,ch,Hd,z,0,-0,0)}}break}while(!0);Gd(d)}function Br(d,h,x,N,O,z,Be,Me,st,Et,Wt,Jt,It,kt){if(d.timeoutHandle=-1,Jt=h.subtreeFlags,(Jt&8192||(Jt&16785408)===16785408)&&(ux={stylesheets:null,count:0,unsuspend:O$},Om(h),Jt=U$(),Jt!==null)){d.cancelPendingCommit=Jt(qu.bind(null,d,h,z,x,N,O,Be,Me,st,Wt,1,It,kt)),dn(d,z,Be,!Et);return}qu(d,h,z,x,N,O,Be,Me,st)}function Nr(d){for(var h=d;;){var x=h.tag;if((x===0||x===11||x===15)&&h.flags&16384&&(x=h.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var N=0;N<x.length;N++){var O=x[N],z=O.getSnapshot;O=O.value;try{if(!as(z(),O))return!1}catch{return!1}}if(x=h.child,h.subtreeFlags&16384&&x!==null)x.return=h,h=x;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function dn(d,h,x,N){h&=~rx,h&=~qA,d.suspendedLanes|=h,d.pingedLanes&=~h,N&&(d.warmLanes|=h),N=d.expirationTimes;for(var O=h;0<O;){var z=31-_t(O),Be=1<<z;N[z]=-1,O&=~Be}x!==0&&Dt(d,x,h)}function Zr(){return(Zn&6)===0?(sx(0),!1):!0}function Qr(){if(mn!==null){if(zn===0)var d=mn.return;else d=mn,Xl=Na=null,Gf(d),Pu=null,Cm=0,d=mn;for(;d!==null;)lp(d.alternate,d),d=d.return;mn=null}}function gr(d,h){var x=d.timeoutHandle;x!==-1&&(d.timeoutHandle=-1,y$(x)),x=d.cancelPendingCommit,x!==null&&(d.cancelPendingCommit=null,x()),Qr(),xs=d,mn=x=ci(d.current,null),Bn=h,zn=0,Zo=null,Hd=!1,lh=Ce(d,h),tx=!1,ch=Cl=rx=qA=$d=aa=0,jo=Mm=null,nx=!1,(h&8)!==0&&(h|=h&32);var N=d.entangledLanes;if(N!==0)for(d=d.entanglements,N&=h;0<N;){var O=31-_t(N),z=1<<O;h|=d[O],N&=~z}return Gu=h,mo(),x}function bn(d,h){Pr=null,ee.H=ep,h===_e||h===Le?(h=pt(),zn=3):h===De?(h=pt(),zn=4):zn=h===$g?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Zo=h,mn===null&&(aa=1,Tm(d,sn(h,d.current)))}function wn(){var d=ee.H;return ee.H=ep,d===null?ep:d}function Gr(){var d=ee.A;return ee.A=$w,d}function ia(){aa=4,Hd||(Bn&4194048)!==Bn&&Xo.current!==null||(lh=!0),($d&134217727)===0&&(qA&134217727)===0||xs===null||dn(xs,Bn,Cl,!1)}function Oi(d,h,x){var N=Zn;Zn|=2;var O=wn(),z=Gr();(xs!==d||Bn!==h)&&(P=null,gr(d,h)),h=!1;var Be=aa;e:do try{if(zn!==0&&mn!==null){var Me=mn,st=Zo;switch(zn){case 8:Qr(),Be=6;break e;case 3:case 2:case 9:case 6:Xo.current===null&&(h=!0);var Et=zn;if(zn=0,Zo=null,Pa(d,Me,st,Et),x&&lh){Be=0;break e}break;default:Et=zn,zn=0,Zo=null,Pa(d,Me,st,Et)}}el(),Be=aa;break}catch(Wt){bn(d,Wt)}while(!0);return h&&d.shellSuspendCounter++,Xl=Na=null,Zn=N,ee.H=O,ee.A=z,mn===null&&(xs=null,Bn=0,mo()),Be}function el(){for(;mn!==null;)Wu(mn)}function rs(d,h){var x=Zn;Zn|=2;var N=wn(),O=Gr();xs!==d||Bn!==h?(P=null,T=Qe()+500,gr(d,h)):lh=Ce(d,h);e:do try{if(zn!==0&&mn!==null){h=mn;var z=Zo;t:switch(zn){case 1:zn=0,Zo=null,Pa(d,h,z,1);break;case 2:case 9:if(Ye(z)){zn=0,Zo=null,Xi(h);break}h=function(){zn!==2&&zn!==9||xs!==d||(zn=7),Gd(d)},z.then(h,h);break e;case 3:zn=7;break e;case 4:zn=5;break e;case 7:Ye(z)?(zn=0,Zo=null,Xi(h)):(zn=0,Zo=null,Pa(d,h,z,7));break;case 5:var Be=null;switch(mn.tag){case 26:Be=mn.memoizedState;case 5:case 27:var Me=mn;if(!Be||lT(Be)){zn=0,Zo=null;var st=Me.sibling;if(st!==null)mn=st;else{var Et=Me.return;Et!==null?(mn=Et,Kc(Et)):mn=null}break t}}zn=0,Zo=null,Pa(d,h,z,5);break;case 6:zn=0,Zo=null,Pa(d,h,z,6);break;case 8:Qr(),aa=6;break e;default:throw Error(a(462))}}Ai();break}catch(Wt){bn(d,Wt)}while(!0);return Xl=Na=null,ee.H=N,ee.A=O,Zn=x,mn!==null?0:(xs=null,Bn=0,mo(),aa)}function Ai(){for(;mn!==null&&!ge();)Wu(mn)}function Wu(d){var h=Uv(d.alternate,d,Gu);d.memoizedProps=d.pendingProps,h===null?Kc(d):mn=h}function Xi(d){var h=d,x=h.alternate;switch(h.tag){case 15:case 0:h=KA(x,h,h.pendingProps,h.type,void 0,Bn);break;case 11:h=KA(x,h,h.pendingProps,h.type.render,h.ref,Bn);break;case 5:Gf(h);default:lp(x,h),h=mn=EA(h,Gu),h=Uv(x,h,Gu)}d.memoizedProps=d.pendingProps,h===null?Kc(d):mn=h}function Pa(d,h,x,N){Xl=Na=null,Gf(h),Pu=null,Cm=0;var O=h.return;try{if(Dv(d,O,h,x,Bn)){aa=1,Tm(d,sn(x,d.current)),mn=null;return}}catch(z){if(O!==null)throw mn=O,z;aa=1,Tm(d,sn(x,d.current)),mn=null;return}h.flags&32768?(Fn||N===1?d=!0:lh||(Bn&536870912)!==0?d=!1:(Hd=d=!0,(N===2||N===9||N===3||N===6)&&(N=Xo.current,N!==null&&N.tag===13&&(N.flags|=16384))),ac(h,d)):Kc(h)}function Kc(d){var h=d;do{if((h.flags&32768)!==0){ac(h,Hd);return}d=h.return;var x=Mw(h.alternate,h,Gu);if(x!==null){mn=x;return}if(h=h.sibling,h!==null){mn=h;return}mn=h=d}while(h!==null);aa===0&&(aa=5)}function ac(d,h){do{var x=Rw(d.alternate,d);if(x!==null){x.flags&=32767,mn=x;return}if(x=d.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!h&&(d=d.sibling,d!==null)){mn=d;return}mn=d=x}while(d!==null);aa=6,mn=null}function qu(d,h,x,N,O,z,Be,Me,st){d.cancelPendingCommit=null;do Sl();while(re!==0);if((Zn&6)!==0)throw Error(a(327));if(h!==null){if(h===d.current)throw Error(a(177));if(z=h.lanes|h.childLanes,z|=ps,wt(d,x,z,Be,Me,st),d===xs&&(mn=xs=null,Bn=0),Pe=h,ve=d,ze=x,We=z,dt=O,mt=N,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,l$(we,function(){return YA(),null})):(d.callbackNode=null,d.callbackPriority=0),N=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||N){N=ee.T,ee.T=null,O=de.p,de.p=2,Be=Zn,Zn|=4;try{Qw(d,h,x)}finally{Zn=Be,de.p=O,ee.T=N}}re=1,Kd(),Vd(),Vc()}}function Kd(){if(re===1){re=0;var d=ve,h=Pe,x=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||x){x=ee.T,ee.T=null;var N=de.p;de.p=2;var O=Zn;Zn|=4;try{Jg(h,d);var z=tj,Be=Va(d.containerInfo),Me=z.focusedElem,st=z.selectionRange;if(Be!==Me&&Me&&Me.ownerDocument&&$l(Me.ownerDocument.documentElement,Me)){if(st!==null&&Aa(Me)){var Et=st.start,Wt=st.end;if(Wt===void 0&&(Wt=Et),"selectionStart"in Me)Me.selectionStart=Et,Me.selectionEnd=Math.min(Wt,Me.value.length);else{var Jt=Me.ownerDocument||document,It=Jt&&Jt.defaultView||window;if(It.getSelection){var kt=It.getSelection(),qr=Me.textContent.length,Hr=Math.min(st.start,qr),vs=st.end===void 0?Hr:Math.min(st.end,qr);!kt.extend&&Hr>vs&&(Be=vs,vs=Hr,Hr=Be);var yt=Ka(Me,Hr),ft=Ka(Me,vs);if(yt&&ft&&(kt.rangeCount!==1||kt.anchorNode!==yt.node||kt.anchorOffset!==yt.offset||kt.focusNode!==ft.node||kt.focusOffset!==ft.offset)){var Bt=Jt.createRange();Bt.setStart(yt.node,yt.offset),kt.removeAllRanges(),Hr>vs?(kt.addRange(Bt),kt.extend(ft.node,ft.offset)):(Bt.setEnd(ft.node,ft.offset),kt.addRange(Bt))}}}}for(Jt=[],kt=Me;kt=kt.parentNode;)kt.nodeType===1&&Jt.push({element:kt,left:kt.scrollLeft,top:kt.scrollTop});for(typeof Me.focus=="function"&&Me.focus(),Me=0;Me<Jt.length;Me++){var Yt=Jt[Me];Yt.element.scrollLeft=Yt.left,Yt.element.scrollTop=Yt.top}}n1=!!ej,tj=ej=null}finally{Zn=O,de.p=N,ee.T=x}}d.current=h,re=2}}function Vd(){if(re===2){re=0;var d=ve,h=Pe,x=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||x){x=ee.T,ee.T=null;var N=de.p;de.p=2;var O=Zn;Zn|=4;try{Qn(d,h.alternate,h)}finally{Zn=O,de.p=N,ee.T=x}}re=3}}function Vc(){if(re===4||re===3){re=0,le();var d=ve,h=Pe,x=ze,N=mt;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?re=5:(re=0,Pe=ve=null,zd(d,d.pendingLanes));var O=d.pendingLanes;if(O===0&&(_=null),Xr(x),h=h.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(it,h,void 0,(h.current.flags&128)===128)}catch{}if(N!==null){h=ee.T,O=de.p,de.p=2,ee.T=null;try{for(var z=d.onRecoverableError,Be=0;Be<N.length;Be++){var Me=N[Be];z(Me.value,{componentStack:Me.stack})}}finally{ee.T=h,de.p=O}}(ze&3)!==0&&Sl(),Gd(d),O=d.pendingLanes,(x&4194090)!==0&&(O&42)!==0?d===Ht?jt++:(jt=0,Ht=d):jt=0,sx(0)}}function zd(d,h){(d.pooledCacheLanes&=h)===0&&(h=d.pooledCache,h!=null&&(d.pooledCache=null,IA(h)))}function Sl(d){return Kd(),Vd(),Vc(),YA()}function YA(){if(re!==5)return!1;var d=ve,h=We;We=0;var x=Xr(ze),N=ee.T,O=de.p;try{de.p=32>x?32:x,ee.T=null,x=dt,dt=null;var z=ve,Be=ze;if(re=0,Pe=ve=null,ze=0,(Zn&6)!==0)throw Error(a(331));var Me=Zn;if(Zn|=4,Ap(z.current),Kv(z,z.current,Be,x),Zn=Me,sx(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(it,z)}catch{}return!0}finally{de.p=O,ee.T=N,zd(d,h)}}function uh(d,h,x){h=sn(x,h),h=Hg(d.stateNode,h,2),d=qt(d,h,2),d!==null&&(Tt(d,2),Gd(d))}function _s(d,h,x){if(d.tag===3)uh(d,d,x);else for(;h!==null;){if(h.tag===3){uh(h,d,x);break}else if(h.tag===1){var N=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(_===null||!_.has(N))){d=sn(x,d),x=Fm(2),N=qt(h,x,2),N!==null&&(Im(x,N,h,d),Tt(N,2),Gd(N));break}}h=h.return}}function Kw(d,h,x){var N=d.pingCache;if(N===null){N=d.pingCache=new oh;var O=new Set;N.set(h,O)}else O=N.get(h),O===void 0&&(O=new Set,N.set(h,O));O.has(x)||(tx=!0,O.add(x),d=a$.bind(null,d,h,x),h.then(d,d))}function a$(d,h,x){var N=d.pingCache;N!==null&&N.delete(h),d.pingedLanes|=d.suspendedLanes&x,d.warmLanes&=~x,xs===d&&(Bn&x)===x&&(aa===4||aa===3&&(Bn&62914560)===Bn&&300>Qe()-F?(Zn&2)===0&&gr(d,0):rx|=x,ch===Bn&&(ch=0)),Gd(d)}function OE(d,h){h===0&&(h=Kt()),d=zl(d,h),d!==null&&(Tt(d,h),Gd(d))}function i$(d){var h=d.memoizedState,x=0;h!==null&&(x=h.retryLane),OE(d,x)}function o$(d,h){var x=0;switch(d.tag){case 13:var N=d.stateNode,O=d.memoizedState;O!==null&&(x=O.retryLane);break;case 19:N=d.stateNode;break;case 22:N=d.stateNode._retryCache;break;default:throw Error(a(314))}N!==null&&N.delete(h),OE(d,x)}function l$(d,h){return pe(d,h)}var zv=null,fp=null,Vw=!1,Gv=!1,zw=!1,Rm=0;function Gd(d){d!==fp&&d.next===null&&(fp===null?zv=fp=d:fp=fp.next=d),Gv=!0,Vw||(Vw=!0,u$())}function sx(d,h){if(!zw&&Gv){zw=!0;do for(var x=!1,N=zv;N!==null;){if(d!==0){var O=N.pendingLanes;if(O===0)var z=0;else{var Be=N.suspendedLanes,Me=N.pingedLanes;z=(1<<31-_t(42|d)+1)-1,z&=O&~(Be&~Me),z=z&201326741?z&201326741|1:z?z|2:0}z!==0&&(x=!0,RE(N,z))}else z=Bn,z=At(N,N===xs?z:0,N.cancelPendingCommit!==null||N.timeoutHandle!==-1),(z&3)===0||Ce(N,z)||(x=!0,RE(N,z));N=N.next}while(x);zw=!1}}function c$(){LE()}function LE(){Gv=Vw=!1;var d=0;Rm!==0&&(x$()&&(d=Rm),Rm=0);for(var h=Qe(),x=null,N=zv;N!==null;){var O=N.next,z=UE(N,h);z===0?(N.next=null,x===null?zv=O:x.next=O,O===null&&(fp=x)):(x=N,(d!==0||(z&3)!==0)&&(Gv=!0)),N=O}sx(d)}function UE(d,h){for(var x=d.suspendedLanes,N=d.pingedLanes,O=d.expirationTimes,z=d.pendingLanes&-62914561;0<z;){var Be=31-_t(z),Me=1<<Be,st=O[Be];st===-1?((Me&x)===0||(Me&N)!==0)&&(O[Be]=tt(Me,h)):st<=h&&(d.expiredLanes|=Me),z&=~Me}if(h=xs,x=Bn,x=At(d,d===h?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),N=d.callbackNode,x===0||d===h&&(zn===2||zn===9)||d.cancelPendingCommit!==null)return N!==null&&N!==null&&ye(N),d.callbackNode=null,d.callbackPriority=0;if((x&3)===0||Ce(d,x)){if(h=x&-x,h===d.callbackPriority)return h;switch(N!==null&&ye(N),Xr(x)){case 2:case 8:x=je;break;case 32:x=we;break;case 268435456:x=be;break;default:x=we}return N=ME.bind(null,d),x=pe(x,N),d.callbackPriority=h,d.callbackNode=x,h}return N!==null&&N!==null&&ye(N),d.callbackPriority=2,d.callbackNode=null,2}function ME(d,h){if(re!==0&&re!==5)return d.callbackNode=null,d.callbackPriority=0,null;var x=d.callbackNode;if(Sl()&&d.callbackNode!==x)return null;var N=Bn;return N=At(d,d===xs?N:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),N===0?null:(tn(d,N,h),UE(d,Qe()),d.callbackNode!=null&&d.callbackNode===x?ME.bind(null,d):null)}function RE(d,h){if(Sl())return null;tn(d,h,!0)}function u$(){v$(function(){(Zn&6)!==0?pe(se,c$):LE()})}function Gw(){return Rm===0&&(Rm=gt()),Rm}function QE(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:Ho(""+d)}function HE(d,h){var x=h.ownerDocument.createElement("input");return x.name=h.name,x.value=h.value,d.id&&x.setAttribute("form",d.id),h.parentNode.insertBefore(x,h),d=new FormData(d),x.parentNode.removeChild(x),d}function d$(d,h,x,N,O){if(h==="submit"&&x&&x.stateNode===O){var z=QE((O[Mn]||null).action),Be=N.submitter;Be&&(h=(h=Be[Mn]||null)?QE(h.formAction):Be.getAttribute("formAction"),h!==null&&(z=h,Be=null));var Me=new Hl("action","action",null,N,O);d.push({event:Me,listeners:[{instance:null,listener:function(){if(N.defaultPrevented){if(Rm!==0){var st=Be?HE(O,Be):new FormData(O);jl(x,{pending:!0,data:st,method:O.method,action:z},null,st)}}else typeof z=="function"&&(Me.preventDefault(),st=Be?HE(O,Be):new FormData(O),jl(x,{pending:!0,data:st,method:O.method,action:z},z,st))},currentTarget:O}]})}}for(var Ww=0;Ww<Pc.length;Ww++){var qw=Pc[Ww],A$=qw.toLowerCase(),f$=qw[0].toUpperCase()+qw.slice(1);Ts(A$,"on"+f$)}Ts(xu,"onAnimationEnd"),Ts(_c,"onAnimationIteration"),Ts(kc,"onAnimationStart"),Ts("dblclick","onDoubleClick"),Ts("focusin","onFocus"),Ts("focusout","onBlur"),Ts(Ko,"onTransitionRun"),Ts(yu,"onTransitionStart"),Ts(vu,"onTransitionCancel"),Ts(Vl,"onTransitionEnd"),Xt("onMouseEnter",["mouseout","mouseover"]),Xt("onMouseLeave",["mouseout","mouseover"]),Xt("onPointerEnter",["pointerout","pointerover"]),Xt("onPointerLeave",["pointerout","pointerover"]),Gt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ax="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ax));function $E(d,h){h=(h&4)!==0;for(var x=0;x<d.length;x++){var N=d[x],O=N.event;N=N.listeners;e:{var z=void 0;if(h)for(var Be=N.length-1;0<=Be;Be--){var Me=N[Be],st=Me.instance,Et=Me.currentTarget;if(Me=Me.listener,st!==z&&O.isPropagationStopped())break e;z=Me,O.currentTarget=Et;try{z(O)}catch(Wt){rh(Wt)}O.currentTarget=null,z=st}else for(Be=0;Be<N.length;Be++){if(Me=N[Be],st=Me.instance,Et=Me.currentTarget,Me=Me.listener,st!==z&&O.isPropagationStopped())break e;z=Me,O.currentTarget=Et;try{z(O)}catch(Wt){rh(Wt)}O.currentTarget=null,z=st}}}}function jn(d,h){var x=h[jr];x===void 0&&(x=h[jr]=new Set);var N=d+"__bubble";x.has(N)||(KE(h,d,2,!1),x.add(N))}function Yw(d,h,x){var N=0;h&&(N|=4),KE(x,d,N,h)}var Wv="_reactListening"+Math.random().toString(36).slice(2);function Xw(d){if(!d[Wv]){d[Wv]=!0,nt.forEach(function(x){x!=="selectionchange"&&(h$.has(x)||Yw(x,!1,d),Yw(x,!0,d))});var h=d.nodeType===9?d:d.ownerDocument;h===null||h[Wv]||(h[Wv]=!0,Yw("selectionchange",!1,h))}}function KE(d,h,x,N){switch(hT(h)){case 2:var O=Q$;break;case 8:O=H$;break;default:O=dj}x=O.bind(null,h,x,d),O=void 0,!gd||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(O=!0),N?O!==void 0?d.addEventListener(h,x,{capture:!0,passive:O}):d.addEventListener(h,x,!0):O!==void 0?d.addEventListener(h,x,{passive:O}):d.addEventListener(h,x,!1)}function Jw(d,h,x,N,O){var z=N;if((h&1)===0&&(h&2)===0&&N!==null)e:for(;;){if(N===null)return;var Be=N.tag;if(Be===3||Be===4){var Me=N.stateNode.containerInfo;if(Me===O)break;if(Be===4)for(Be=N.return;Be!==null;){var st=Be.tag;if((st===3||st===4)&&Be.stateNode.containerInfo===O)return;Be=Be.return}for(;Me!==null;){if(Be=Je(Me),Be===null)return;if(st=Be.tag,st===5||st===6||st===26||st===27){N=z=Be;continue e}Me=Me.parentNode}}N=N.return}Uf(function(){var Et=z,Wt=va(x),Jt=[];e:{var It=gl.get(d);if(It!==void 0){var kt=Hl,qr=d;switch(d){case"keypress":if(Cc(x)===0)break e;case"keydown":case"keyup":kt=Nd;break;case"focusin":qr="focus",kt=pl;break;case"focusout":qr="blur",kt=pl;break;case"beforeblur":case"afterblur":kt=pl;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":kt=ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":kt=Sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":kt=NA;break;case xu:case _c:case kc:kt=lm;break;case Vl:kt=Fe;break;case"scroll":case"scrollend":kt=Mf;break;case"wheel":kt=lt;break;case"copy":case"cut":case"paste":kt=vd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":kt=Cd;break;case"toggle":case"beforetoggle":kt=Qt}var Hr=(h&4)!==0,vs=!Hr&&(d==="scroll"||d==="scrollend"),yt=Hr?It!==null?It+"Capture":null:It;Hr=[];for(var ft=Et,Bt;ft!==null;){var Yt=ft;if(Bt=Yt.stateNode,Yt=Yt.tag,Yt!==5&&Yt!==26&&Yt!==27||Bt===null||yt===null||(Yt=Ni(ft,yt),Yt!=null&&Hr.push(ix(ft,Yt,Bt))),vs)break;ft=ft.return}0<Hr.length&&(It=new kt(It,qr,null,x,Wt),Jt.push({event:It,listeners:Hr}))}}if((h&7)===0){e:{if(It=d==="mouseover"||d==="pointerover",kt=d==="mouseout"||d==="pointerout",It&&x!==Ao&&(qr=x.relatedTarget||x.fromElement)&&(Je(qr)||qr[ns]))break e;if((kt||It)&&(It=Wt.window===Wt?Wt:(It=Wt.ownerDocument)?It.defaultView||It.parentWindow:window,kt?(qr=x.relatedTarget||x.toElement,kt=Et,qr=qr?Je(qr):null,qr!==null&&(vs=o(qr),Hr=qr.tag,qr!==vs||Hr!==5&&Hr!==27&&Hr!==6)&&(qr=null)):(kt=null,qr=Et),kt!==qr)){if(Hr=ml,Yt="onMouseLeave",yt="onMouseEnter",ft="mouse",(d==="pointerout"||d==="pointerover")&&(Hr=Cd,Yt="onPointerLeave",yt="onPointerEnter",ft="pointer"),vs=kt==null?It:vt(kt),Bt=qr==null?It:vt(qr),It=new Hr(Yt,ft+"leave",kt,x,Wt),It.target=vs,It.relatedTarget=Bt,Yt=null,Je(Wt)===Et&&(Hr=new Hr(yt,ft+"enter",qr,x,Wt),Hr.target=Bt,Hr.relatedTarget=vs,Yt=Hr),vs=Yt,kt&&qr)t:{for(Hr=kt,yt=qr,ft=0,Bt=Hr;Bt;Bt=hp(Bt))ft++;for(Bt=0,Yt=yt;Yt;Yt=hp(Yt))Bt++;for(;0<ft-Bt;)Hr=hp(Hr),ft--;for(;0<Bt-ft;)yt=hp(yt),Bt--;for(;ft--;){if(Hr===yt||yt!==null&&Hr===yt.alternate)break t;Hr=hp(Hr),yt=hp(yt)}Hr=null}else Hr=null;kt!==null&&VE(Jt,It,kt,Hr,!1),qr!==null&&vs!==null&&VE(Jt,vs,qr,Hr,!0)}}e:{if(It=Et?vt(Et):window,kt=It.nodeName&&It.nodeName.toLowerCase(),kt==="select"||kt==="input"&&It.type==="file")var Er=Tc;else if(na(It))if(Bi)Er=SA;else{Er=Sd;var yn=ii}else kt=It.nodeName,!kt||kt.toLowerCase()!=="input"||It.type!=="checkbox"&&It.type!=="radio"?Et&&yA(Et.elementType)&&(Er=Tc):Er=Bd;if(Er&&(Er=Er(d,Et))){CA(Jt,Er,x,Wt);break e}yn&&yn(d,It,Et),d==="focusout"&&Et&&It.type==="number"&&Et.memoizedProps.value!=null&&pA(It,"number",It.value)}switch(yn=Et?vt(Et):window,d){case"focusin":(na(yn)||yn.contentEditable==="true")&&(Ei=yn,li=Et,wa=null);break;case"focusout":wa=li=Ei=null;break;case"mousedown":$o=!0;break;case"contextmenu":case"mouseup":case"dragend":$o=!1,Us(Jt,x,Wt);break;case"selectionchange":if(Kl)break;case"keydown":case"keyup":Us(Jt,x,Wt)}var kr;if(yr)e:{switch(d){case"compositionstart":var Vr="onCompositionStart";break e;case"compositionend":Vr="onCompositionEnd";break e;case"compositionupdate":Vr="onCompositionUpdate";break e}Vr=void 0}else Gs?$n(d,x)&&(Vr="onCompositionEnd"):d==="keydown"&&x.keyCode===229&&(Vr="onCompositionStart");Vr&&($r&&x.locale!=="ko"&&(Gs||Vr!=="onCompositionStart"?Vr==="onCompositionEnd"&&Gs&&(kr=bA()):(Vs=Wt,xd="value"in Vs?Vs.value:Vs.textContent,Gs=!0)),yn=qv(Et,Vr),0<yn.length&&(Vr=new bd(Vr,d,null,x,Wt),Jt.push({event:Vr,listeners:yn}),kr?Vr.data=kr:(kr=Ur(x),kr!==null&&(Vr.data=kr)))),(kr=zr?ra(d,x):ho(d,x))&&(Vr=qv(Et,"onBeforeInput"),0<Vr.length&&(yn=new bd("onBeforeInput","beforeinput",null,x,Wt),Jt.push({event:yn,listeners:Vr}),yn.data=kr)),d$(Jt,d,Et,x,Wt)}$E(Jt,h)})}function ix(d,h,x){return{instance:d,listener:h,currentTarget:x}}function qv(d,h){for(var x=h+"Capture",N=[];d!==null;){var O=d,z=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||z===null||(O=Ni(d,x),O!=null&&N.unshift(ix(d,O,z)),O=Ni(d,h),O!=null&&N.push(ix(d,O,z))),d.tag===3)return N;d=d.return}return[]}function hp(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function VE(d,h,x,N,O){for(var z=h._reactName,Be=[];x!==null&&x!==N;){var Me=x,st=Me.alternate,Et=Me.stateNode;if(Me=Me.tag,st!==null&&st===N)break;Me!==5&&Me!==26&&Me!==27||Et===null||(st=Et,O?(Et=Ni(x,z),Et!=null&&Be.unshift(ix(x,Et,st))):O||(Et=Ni(x,z),Et!=null&&Be.push(ix(x,Et,st)))),x=x.return}Be.length!==0&&d.push({event:h,listeners:Be})}var m$=/\r\n?/g,p$=/\u0000|\uFFFD/g;function zE(d){return(typeof d=="string"?d:""+d).replace(m$,`
`).replace(p$,"")}function GE(d,h){return h=zE(h),zE(d)===h}function Yv(){}function ys(d,h,x,N,O,z){switch(x){case"children":typeof N=="string"?h==="body"||h==="textarea"&&N===""||wc(d,N):(typeof N=="number"||typeof N=="bigint")&&h!=="body"&&wc(d,""+N);break;case"className":Cn(d,"class",N);break;case"tabIndex":Cn(d,"tabindex",N);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(d,x,N);break;case"style":xA(d,N,z);break;case"data":if(h!=="object"){Cn(d,"data",N);break}case"src":case"href":if(N===""&&(h!=="a"||x!=="href")){d.removeAttribute(x);break}if(N==null||typeof N=="function"||typeof N=="symbol"||typeof N=="boolean"){d.removeAttribute(x);break}N=Ho(""+N),d.setAttribute(x,N);break;case"action":case"formAction":if(typeof N=="function"){d.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof z=="function"&&(x==="formAction"?(h!=="input"&&ys(d,h,"name",O.name,O,null),ys(d,h,"formEncType",O.formEncType,O,null),ys(d,h,"formMethod",O.formMethod,O,null),ys(d,h,"formTarget",O.formTarget,O,null)):(ys(d,h,"encType",O.encType,O,null),ys(d,h,"method",O.method,O,null),ys(d,h,"target",O.target,O,null)));if(N==null||typeof N=="symbol"||typeof N=="boolean"){d.removeAttribute(x);break}N=Ho(""+N),d.setAttribute(x,N);break;case"onClick":N!=null&&(d.onclick=Yv);break;case"onScroll":N!=null&&jn("scroll",d);break;case"onScrollEnd":N!=null&&jn("scrollend",d);break;case"dangerouslySetInnerHTML":if(N!=null){if(typeof N!="object"||!("__html"in N))throw Error(a(61));if(x=N.__html,x!=null){if(O.children!=null)throw Error(a(60));d.innerHTML=x}}break;case"multiple":d.multiple=N&&typeof N!="function"&&typeof N!="symbol";break;case"muted":d.muted=N&&typeof N!="function"&&typeof N!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(N==null||typeof N=="function"||typeof N=="boolean"||typeof N=="symbol"){d.removeAttribute("xlink:href");break}x=Ho(""+N),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":N!=null&&typeof N!="function"&&typeof N!="symbol"?d.setAttribute(x,""+N):d.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":N&&typeof N!="function"&&typeof N!="symbol"?d.setAttribute(x,""):d.removeAttribute(x);break;case"capture":case"download":N===!0?d.setAttribute(x,""):N!==!1&&N!=null&&typeof N!="function"&&typeof N!="symbol"?d.setAttribute(x,N):d.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":N!=null&&typeof N!="function"&&typeof N!="symbol"&&!isNaN(N)&&1<=N?d.setAttribute(x,N):d.removeAttribute(x);break;case"rowSpan":case"start":N==null||typeof N=="function"||typeof N=="symbol"||isNaN(N)?d.removeAttribute(x):d.setAttribute(x,N);break;case"popover":jn("beforetoggle",d),jn("toggle",d),cn(d,"popover",N);break;case"xlinkActuate":Tn(d,"http://www.w3.org/1999/xlink","xlink:actuate",N);break;case"xlinkArcrole":Tn(d,"http://www.w3.org/1999/xlink","xlink:arcrole",N);break;case"xlinkRole":Tn(d,"http://www.w3.org/1999/xlink","xlink:role",N);break;case"xlinkShow":Tn(d,"http://www.w3.org/1999/xlink","xlink:show",N);break;case"xlinkTitle":Tn(d,"http://www.w3.org/1999/xlink","xlink:title",N);break;case"xlinkType":Tn(d,"http://www.w3.org/1999/xlink","xlink:type",N);break;case"xmlBase":Tn(d,"http://www.w3.org/XML/1998/namespace","xml:base",N);break;case"xmlLang":Tn(d,"http://www.w3.org/XML/1998/namespace","xml:lang",N);break;case"xmlSpace":Tn(d,"http://www.w3.org/XML/1998/namespace","xml:space",N);break;case"is":cn(d,"is",N);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=Ml.get(x)||x,cn(d,x,N))}}function Zw(d,h,x,N,O,z){switch(x){case"style":xA(d,N,z);break;case"dangerouslySetInnerHTML":if(N!=null){if(typeof N!="object"||!("__html"in N))throw Error(a(61));if(x=N.__html,x!=null){if(O.children!=null)throw Error(a(60));d.innerHTML=x}}break;case"children":typeof N=="string"?wc(d,N):(typeof N=="number"||typeof N=="bigint")&&wc(d,""+N);break;case"onScroll":N!=null&&jn("scroll",d);break;case"onScrollEnd":N!=null&&jn("scrollend",d);break;case"onClick":N!=null&&(d.onclick=Yv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xt.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(O=x.endsWith("Capture"),h=x.slice(2,O?x.length-7:void 0),z=d[Mn]||null,z=z!=null?z[x]:null,typeof z=="function"&&d.removeEventListener(h,z,O),typeof N=="function")){typeof z!="function"&&z!==null&&(x in d?d[x]=null:d.hasAttribute(x)&&d.removeAttribute(x)),d.addEventListener(h,N,O);break e}x in d?d[x]=N:N===!0?d.setAttribute(x,""):cn(d,x,N)}}}function Ji(d,h,x){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jn("error",d),jn("load",d);var N=!1,O=!1,z;for(z in x)if(x.hasOwnProperty(z)){var Be=x[z];if(Be!=null)switch(z){case"src":N=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,h));default:ys(d,h,z,Be,x,null)}}O&&ys(d,h,"srcSet",x.srcSet,x,null),N&&ys(d,h,"src",x.src,x,null);return;case"input":jn("invalid",d);var Me=z=Be=O=null,st=null,Et=null;for(N in x)if(x.hasOwnProperty(N)){var Wt=x[N];if(Wt!=null)switch(N){case"name":O=Wt;break;case"type":Be=Wt;break;case"checked":st=Wt;break;case"defaultChecked":Et=Wt;break;case"value":z=Wt;break;case"defaultValue":Me=Wt;break;case"children":case"dangerouslySetInnerHTML":if(Wt!=null)throw Error(a(137,h));break;default:ys(d,h,N,Wt,x,null)}}mA(d,z,Me,st,Et,Be,O,!1),Qo(d);return;case"select":jn("invalid",d),N=Be=z=null;for(O in x)if(x.hasOwnProperty(O)&&(Me=x[O],Me!=null))switch(O){case"value":z=Me;break;case"defaultValue":Be=Me;break;case"multiple":N=Me;default:ys(d,h,O,Me,x,null)}h=z,x=Be,d.multiple=!!N,h!=null?Ul(d,!!N,h,!1):x!=null&&Ul(d,!!N,x,!0);return;case"textarea":jn("invalid",d),z=O=N=null;for(Be in x)if(x.hasOwnProperty(Be)&&(Me=x[Be],Me!=null))switch(Be){case"value":N=Me;break;case"defaultValue":O=Me;break;case"children":z=Me;break;case"dangerouslySetInnerHTML":if(Me!=null)throw Error(a(91));break;default:ys(d,h,Be,Me,x,null)}gA(d,N,O,z),Qo(d);return;case"option":for(st in x)if(x.hasOwnProperty(st)&&(N=x[st],N!=null))switch(st){case"selected":d.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:ys(d,h,st,N,x,null)}return;case"dialog":jn("beforetoggle",d),jn("toggle",d),jn("cancel",d),jn("close",d);break;case"iframe":case"object":jn("load",d);break;case"video":case"audio":for(N=0;N<ax.length;N++)jn(ax[N],d);break;case"image":jn("error",d),jn("load",d);break;case"details":jn("toggle",d);break;case"embed":case"source":case"link":jn("error",d),jn("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Et in x)if(x.hasOwnProperty(Et)&&(N=x[Et],N!=null))switch(Et){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,h));default:ys(d,h,Et,N,x,null)}return;default:if(yA(h)){for(Wt in x)x.hasOwnProperty(Wt)&&(N=x[Wt],N!==void 0&&Zw(d,h,Wt,N,x,void 0));return}}for(Me in x)x.hasOwnProperty(Me)&&(N=x[Me],N!=null&&ys(d,h,Me,N,x,null))}function g$(d,h,x,N){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,z=null,Be=null,Me=null,st=null,Et=null,Wt=null;for(kt in x){var Jt=x[kt];if(x.hasOwnProperty(kt)&&Jt!=null)switch(kt){case"checked":break;case"value":break;case"defaultValue":st=Jt;default:N.hasOwnProperty(kt)||ys(d,h,kt,null,N,Jt)}}for(var It in N){var kt=N[It];if(Jt=x[It],N.hasOwnProperty(It)&&(kt!=null||Jt!=null))switch(It){case"type":z=kt;break;case"name":O=kt;break;case"checked":Et=kt;break;case"defaultChecked":Wt=kt;break;case"value":Be=kt;break;case"defaultValue":Me=kt;break;case"children":case"dangerouslySetInnerHTML":if(kt!=null)throw Error(a(137,h));break;default:kt!==Jt&&ys(d,h,It,kt,N,Jt)}}uu(d,Be,Me,st,Et,Wt,z,O);return;case"select":kt=Be=Me=It=null;for(z in x)if(st=x[z],x.hasOwnProperty(z)&&st!=null)switch(z){case"value":break;case"multiple":kt=st;default:N.hasOwnProperty(z)||ys(d,h,z,null,N,st)}for(O in N)if(z=N[O],st=x[O],N.hasOwnProperty(O)&&(z!=null||st!=null))switch(O){case"value":It=z;break;case"defaultValue":Me=z;break;case"multiple":Be=z;default:z!==st&&ys(d,h,O,z,N,st)}h=Me,x=Be,N=kt,It!=null?Ul(d,!!x,It,!1):!!N!=!!x&&(h!=null?Ul(d,!!x,h,!0):Ul(d,!!x,x?[]:"",!1));return;case"textarea":kt=It=null;for(Me in x)if(O=x[Me],x.hasOwnProperty(Me)&&O!=null&&!N.hasOwnProperty(Me))switch(Me){case"value":break;case"children":break;default:ys(d,h,Me,null,N,O)}for(Be in N)if(O=N[Be],z=x[Be],N.hasOwnProperty(Be)&&(O!=null||z!=null))switch(Be){case"value":It=O;break;case"defaultValue":kt=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(a(91));break;default:O!==z&&ys(d,h,Be,O,N,z)}Of(d,It,kt);return;case"option":for(var qr in x)if(It=x[qr],x.hasOwnProperty(qr)&&It!=null&&!N.hasOwnProperty(qr))switch(qr){case"selected":d.selected=!1;break;default:ys(d,h,qr,null,N,It)}for(st in N)if(It=N[st],kt=x[st],N.hasOwnProperty(st)&&It!==kt&&(It!=null||kt!=null))switch(st){case"selected":d.selected=It&&typeof It!="function"&&typeof It!="symbol";break;default:ys(d,h,st,It,N,kt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Hr in x)It=x[Hr],x.hasOwnProperty(Hr)&&It!=null&&!N.hasOwnProperty(Hr)&&ys(d,h,Hr,null,N,It);for(Et in N)if(It=N[Et],kt=x[Et],N.hasOwnProperty(Et)&&It!==kt&&(It!=null||kt!=null))switch(Et){case"children":case"dangerouslySetInnerHTML":if(It!=null)throw Error(a(137,h));break;default:ys(d,h,Et,It,N,kt)}return;default:if(yA(h)){for(var vs in x)It=x[vs],x.hasOwnProperty(vs)&&It!==void 0&&!N.hasOwnProperty(vs)&&Zw(d,h,vs,void 0,N,It);for(Wt in N)It=N[Wt],kt=x[Wt],!N.hasOwnProperty(Wt)||It===kt||It===void 0&&kt===void 0||Zw(d,h,Wt,It,N,kt);return}}for(var yt in x)It=x[yt],x.hasOwnProperty(yt)&&It!=null&&!N.hasOwnProperty(yt)&&ys(d,h,yt,null,N,It);for(Jt in N)It=N[Jt],kt=x[Jt],!N.hasOwnProperty(Jt)||It===kt||It==null&&kt==null||ys(d,h,Jt,It,N,kt)}var ej=null,tj=null;function Xv(d){return d.nodeType===9?d:d.ownerDocument}function WE(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qE(d,h){if(d===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&h==="foreignObject"?0:d}function rj(d,h){return d==="textarea"||d==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var nj=null;function x$(){var d=window.event;return d&&d.type==="popstate"?d===nj?!1:(nj=d,!0):(nj=null,!1)}var YE=typeof setTimeout=="function"?setTimeout:void 0,y$=typeof clearTimeout=="function"?clearTimeout:void 0,XE=typeof Promise=="function"?Promise:void 0,v$=typeof queueMicrotask=="function"?queueMicrotask:typeof XE<"u"?function(d){return XE.resolve(null).then(d).catch(b$)}:YE;function b$(d){setTimeout(function(){throw d})}function dh(d){return d==="head"}function JE(d,h){var x=h,N=0,O=0;do{var z=x.nextSibling;if(d.removeChild(x),z&&z.nodeType===8)if(x=z.data,x==="/$"){if(0<N&&8>N){x=N;var Be=d.ownerDocument;if(x&1&&ox(Be.documentElement),x&2&&ox(Be.body),x&4)for(x=Be.head,ox(x),Be=x.firstChild;Be;){var Me=Be.nextSibling,st=Be.nodeName;Be[$e]||st==="SCRIPT"||st==="STYLE"||st==="LINK"&&Be.rel.toLowerCase()==="stylesheet"||x.removeChild(Be),Be=Me}}if(O===0){d.removeChild(z),mx(h);return}O--}else x==="$"||x==="$?"||x==="$!"?O++:N=x.charCodeAt(0)-48;else N=0;x=z}while(x);mx(h)}function sj(d){var h=d.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var x=h;switch(h=h.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":sj(x),Ve(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}d.removeChild(x)}}function w$(d,h,x,N){for(;d.nodeType===1;){var O=x;if(d.nodeName.toLowerCase()!==h.toLowerCase()){if(!N&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(N){if(!d[$e])switch(h){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(z=d.getAttribute("rel"),z==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(z!==O.rel||d.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||d.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||d.getAttribute("title")!==(O.title==null?null:O.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(z=d.getAttribute("src"),(z!==(O.src==null?null:O.src)||d.getAttribute("type")!==(O.type==null?null:O.type)||d.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&z&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(h==="input"&&d.type==="hidden"){var z=O.name==null?null:""+O.name;if(O.type==="hidden"&&d.getAttribute("name")===z)return d}else return d;if(d=Yu(d.nextSibling),d===null)break}return null}function j$(d,h,x){if(h==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!x||(d=Yu(d.nextSibling),d===null))return null;return d}function aj(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState==="complete"}function N$(d,h){var x=d.ownerDocument;if(d.data!=="$?"||x.readyState==="complete")h();else{var N=function(){h(),x.removeEventListener("DOMContentLoaded",N)};x.addEventListener("DOMContentLoaded",N),d._reactRetry=N}}function Yu(d){for(;d!=null;d=d.nextSibling){var h=d.nodeType;if(h===1||h===3)break;if(h===8){if(h=d.data,h==="$"||h==="$!"||h==="$?"||h==="F!"||h==="F")break;if(h==="/$")return null}}return d}var ij=null;function ZE(d){d=d.previousSibling;for(var h=0;d;){if(d.nodeType===8){var x=d.data;if(x==="$"||x==="$!"||x==="$?"){if(h===0)return d;h--}else x==="/$"&&h++}d=d.previousSibling}return null}function eT(d,h,x){switch(h=Xv(x),d){case"html":if(d=h.documentElement,!d)throw Error(a(452));return d;case"head":if(d=h.head,!d)throw Error(a(453));return d;case"body":if(d=h.body,!d)throw Error(a(454));return d;default:throw Error(a(451))}}function ox(d){for(var h=d.attributes;h.length;)d.removeAttributeNode(h[0]);Ve(d)}var zc=new Map,tT=new Set;function Jv(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var XA=de.d;de.d={f:C$,r:S$,D:B$,C:E$,L:T$,m:F$,X:_$,S:I$,M:k$};function C$(){var d=XA.f(),h=Zr();return d||h}function S$(d){var h=Ze(d);h!==null&&h.tag===5&&h.type==="form"?MA(h):XA.r(d)}var mp=typeof document>"u"?null:document;function rT(d,h,x){var N=mp;if(N&&typeof h=="string"&&h){var O=ss(h);O='link[rel="'+d+'"][href="'+O+'"]',typeof x=="string"&&(O+='[crossorigin="'+x+'"]'),tT.has(O)||(tT.add(O),d={rel:d,crossOrigin:x,href:h},N.querySelector(O)===null&&(h=N.createElement("link"),Ji(h,"link",d),Ge(h),N.head.appendChild(h)))}}function B$(d){XA.D(d),rT("dns-prefetch",d,null)}function E$(d,h){XA.C(d,h),rT("preconnect",d,h)}function T$(d,h,x){XA.L(d,h,x);var N=mp;if(N&&d&&h){var O='link[rel="preload"][as="'+ss(h)+'"]';h==="image"&&x&&x.imageSrcSet?(O+='[imagesrcset="'+ss(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(O+='[imagesizes="'+ss(x.imageSizes)+'"]')):O+='[href="'+ss(d)+'"]';var z=O;switch(h){case"style":z=pp(d);break;case"script":z=gp(d)}zc.has(z)||(d=A({rel:"preload",href:h==="image"&&x&&x.imageSrcSet?void 0:d,as:h},x),zc.set(z,d),N.querySelector(O)!==null||h==="style"&&N.querySelector(lx(z))||h==="script"&&N.querySelector(cx(z))||(h=N.createElement("link"),Ji(h,"link",d),Ge(h),N.head.appendChild(h)))}}function F$(d,h){XA.m(d,h);var x=mp;if(x&&d){var N=h&&typeof h.as=="string"?h.as:"script",O='link[rel="modulepreload"][as="'+ss(N)+'"][href="'+ss(d)+'"]',z=O;switch(N){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":z=gp(d)}if(!zc.has(z)&&(d=A({rel:"modulepreload",href:d},h),zc.set(z,d),x.querySelector(O)===null)){switch(N){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(cx(z)))return}N=x.createElement("link"),Ji(N,"link",d),Ge(N),x.head.appendChild(N)}}}function I$(d,h,x){XA.S(d,h,x);var N=mp;if(N&&d){var O=Oe(N).hoistableStyles,z=pp(d);h=h||"default";var Be=O.get(z);if(!Be){var Me={loading:0,preload:null};if(Be=N.querySelector(lx(z)))Me.loading=5;else{d=A({rel:"stylesheet",href:d,"data-precedence":h},x),(x=zc.get(z))&&oj(d,x);var st=Be=N.createElement("link");Ge(st),Ji(st,"link",d),st._p=new Promise(function(Et,Wt){st.onload=Et,st.onerror=Wt}),st.addEventListener("load",function(){Me.loading|=1}),st.addEventListener("error",function(){Me.loading|=2}),Me.loading|=4,Zv(Be,h,N)}Be={type:"stylesheet",instance:Be,count:1,state:Me},O.set(z,Be)}}}function _$(d,h){XA.X(d,h);var x=mp;if(x&&d){var N=Oe(x).hoistableScripts,O=gp(d),z=N.get(O);z||(z=x.querySelector(cx(O)),z||(d=A({src:d,async:!0},h),(h=zc.get(O))&&lj(d,h),z=x.createElement("script"),Ge(z),Ji(z,"link",d),x.head.appendChild(z)),z={type:"script",instance:z,count:1,state:null},N.set(O,z))}}function k$(d,h){XA.M(d,h);var x=mp;if(x&&d){var N=Oe(x).hoistableScripts,O=gp(d),z=N.get(O);z||(z=x.querySelector(cx(O)),z||(d=A({src:d,async:!0,type:"module"},h),(h=zc.get(O))&&lj(d,h),z=x.createElement("script"),Ge(z),Ji(z,"link",d),x.head.appendChild(z)),z={type:"script",instance:z,count:1,state:null},N.set(O,z))}}function nT(d,h,x,N){var O=(O=oe.current)?Jv(O):null;if(!O)throw Error(a(446));switch(d){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(h=pp(x.href),x=Oe(O).hoistableStyles,N=x.get(h),N||(N={type:"style",instance:null,count:0,state:null},x.set(h,N)),N):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){d=pp(x.href);var z=Oe(O).hoistableStyles,Be=z.get(d);if(Be||(O=O.ownerDocument||O,Be={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},z.set(d,Be),(z=O.querySelector(lx(d)))&&!z._p&&(Be.instance=z,Be.state.loading=5),zc.has(d)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},zc.set(d,x),z||P$(O,d,x,Be.state))),h&&N===null)throw Error(a(528,""));return Be}if(h&&N!==null)throw Error(a(529,""));return null;case"script":return h=x.async,x=x.src,typeof x=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=gp(x),x=Oe(O).hoistableScripts,N=x.get(h),N||(N={type:"script",instance:null,count:0,state:null},x.set(h,N)),N):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,d))}}function pp(d){return'href="'+ss(d)+'"'}function lx(d){return'link[rel="stylesheet"]['+d+"]"}function sT(d){return A({},d,{"data-precedence":d.precedence,precedence:null})}function P$(d,h,x,N){d.querySelector('link[rel="preload"][as="style"]['+h+"]")?N.loading=1:(h=d.createElement("link"),N.preload=h,h.addEventListener("load",function(){return N.loading|=1}),h.addEventListener("error",function(){return N.loading|=2}),Ji(h,"link",x),Ge(h),d.head.appendChild(h))}function gp(d){return'[src="'+ss(d)+'"]'}function cx(d){return"script[async]"+d}function aT(d,h,x){if(h.count++,h.instance===null)switch(h.type){case"style":var N=d.querySelector('style[data-href~="'+ss(x.href)+'"]');if(N)return h.instance=N,Ge(N),N;var O=A({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return N=(d.ownerDocument||d).createElement("style"),Ge(N),Ji(N,"style",O),Zv(N,x.precedence,d),h.instance=N;case"stylesheet":O=pp(x.href);var z=d.querySelector(lx(O));if(z)return h.state.loading|=4,h.instance=z,Ge(z),z;N=sT(x),(O=zc.get(O))&&oj(N,O),z=(d.ownerDocument||d).createElement("link"),Ge(z);var Be=z;return Be._p=new Promise(function(Me,st){Be.onload=Me,Be.onerror=st}),Ji(z,"link",N),h.state.loading|=4,Zv(z,x.precedence,d),h.instance=z;case"script":return z=gp(x.src),(O=d.querySelector(cx(z)))?(h.instance=O,Ge(O),O):(N=x,(O=zc.get(z))&&(N=A({},x),lj(N,O)),d=d.ownerDocument||d,O=d.createElement("script"),Ge(O),Ji(O,"link",N),d.head.appendChild(O),h.instance=O);case"void":return null;default:throw Error(a(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(N=h.instance,h.state.loading|=4,Zv(N,x.precedence,d));return h.instance}function Zv(d,h,x){for(var N=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=N.length?N[N.length-1]:null,z=O,Be=0;Be<N.length;Be++){var Me=N[Be];if(Me.dataset.precedence===h)z=Me;else if(z!==O)break}z?z.parentNode.insertBefore(d,z.nextSibling):(h=x.nodeType===9?x.head:x,h.insertBefore(d,h.firstChild))}function oj(d,h){d.crossOrigin==null&&(d.crossOrigin=h.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=h.referrerPolicy),d.title==null&&(d.title=h.title)}function lj(d,h){d.crossOrigin==null&&(d.crossOrigin=h.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=h.referrerPolicy),d.integrity==null&&(d.integrity=h.integrity)}var e1=null;function iT(d,h,x){if(e1===null){var N=new Map,O=e1=new Map;O.set(x,N)}else O=e1,N=O.get(x),N||(N=new Map,O.set(x,N));if(N.has(d))return N;for(N.set(d,null),x=x.getElementsByTagName(d),O=0;O<x.length;O++){var z=x[O];if(!(z[$e]||z[En]||d==="link"&&z.getAttribute("rel")==="stylesheet")&&z.namespaceURI!=="http://www.w3.org/2000/svg"){var Be=z.getAttribute(h)||"";Be=d+Be;var Me=N.get(Be);Me?Me.push(z):N.set(Be,[z])}}return N}function oT(d,h,x){d=d.ownerDocument||d,d.head.insertBefore(x,h==="title"?d.querySelector("head > title"):null)}function D$(d,h,x){if(x===1||h.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return d=h.disabled,typeof h.precedence=="string"&&d==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function lT(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}var ux=null;function O$(){}function L$(d,h,x){if(ux===null)throw Error(a(475));var N=ux;if(h.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var O=pp(x.href),z=d.querySelector(lx(O));if(z){d=z._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(N.count++,N=t1.bind(N),d.then(N,N)),h.state.loading|=4,h.instance=z,Ge(z);return}z=d.ownerDocument||d,x=sT(x),(O=zc.get(O))&&oj(x,O),z=z.createElement("link"),Ge(z);var Be=z;Be._p=new Promise(function(Me,st){Be.onload=Me,Be.onerror=st}),Ji(z,"link",x),h.instance=z}N.stylesheets===null&&(N.stylesheets=new Map),N.stylesheets.set(h,d),(d=h.state.preload)&&(h.state.loading&3)===0&&(N.count++,h=t1.bind(N),d.addEventListener("load",h),d.addEventListener("error",h))}}function U$(){if(ux===null)throw Error(a(475));var d=ux;return d.stylesheets&&d.count===0&&cj(d,d.stylesheets),0<d.count?function(h){var x=setTimeout(function(){if(d.stylesheets&&cj(d,d.stylesheets),d.unsuspend){var N=d.unsuspend;d.unsuspend=null,N()}},6e4);return d.unsuspend=h,function(){d.unsuspend=null,clearTimeout(x)}}:null}function t1(){if(this.count--,this.count===0){if(this.stylesheets)cj(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var r1=null;function cj(d,h){d.stylesheets=null,d.unsuspend!==null&&(d.count++,r1=new Map,h.forEach(M$,d),r1=null,t1.call(d))}function M$(d,h){if(!(h.state.loading&4)){var x=r1.get(d);if(x)var N=x.get(null);else{x=new Map,r1.set(d,x);for(var O=d.querySelectorAll("link[data-precedence],style[data-precedence]"),z=0;z<O.length;z++){var Be=O[z];(Be.nodeName==="LINK"||Be.getAttribute("media")!=="not all")&&(x.set(Be.dataset.precedence,Be),N=Be)}N&&x.set(null,N)}O=h.instance,Be=O.getAttribute("data-precedence"),z=x.get(Be)||N,z===N&&x.set(null,O),x.set(Be,O),this.count++,N=t1.bind(this),O.addEventListener("load",N),O.addEventListener("error",N),z?z.parentNode.insertBefore(O,z.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(O,d.firstChild)),h.state.loading|=4}}var dx={$$typeof:S,Provider:null,Consumer:null,_currentValue:Ne,_currentValue2:Ne,_threadCount:0};function R$(d,h,x,N,O,z,Be,Me){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ke(0),this.hiddenUpdates=Ke(null),this.identifierPrefix=N,this.onUncaughtError=O,this.onCaughtError=z,this.onRecoverableError=Be,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Me,this.incompleteTransitions=new Map}function cT(d,h,x,N,O,z,Be,Me,st,Et,Wt,Jt){return d=new R$(d,h,x,Be,Me,st,Et,Jt),h=1,z===!0&&(h|=24),z=za(3,null,null,h),d.current=z,z.stateNode=d,h=dm(),h.refCount++,d.pooledCache=h,h.refCount++,z.memoizedState={element:N,isDehydrated:x,cache:h},ut(z),d}function uT(d){return d?(d=ja,d):ja}function dT(d,h,x,N,O,z){O=uT(O),N.context===null?N.context=O:N.pendingContext=O,N=Vt(h),N.payload={element:x},z=z===void 0?null:z,z!==null&&(N.callback=z),x=qt(d,N,h),x!==null&&(cr(x,d,h),zt(x,d,h))}function AT(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var x=d.retryLane;d.retryLane=x!==0&&x<h?x:h}}function uj(d,h){AT(d,h),(d=d.alternate)&&AT(d,h)}function fT(d){if(d.tag===13){var h=zl(d,67108864);h!==null&&cr(h,d,67108864),uj(d,67108864)}}var n1=!0;function Q$(d,h,x,N){var O=ee.T;ee.T=null;var z=de.p;try{de.p=2,dj(d,h,x,N)}finally{de.p=z,ee.T=O}}function H$(d,h,x,N){var O=ee.T;ee.T=null;var z=de.p;try{de.p=8,dj(d,h,x,N)}finally{de.p=z,ee.T=O}}function dj(d,h,x,N){if(n1){var O=Aj(N);if(O===null)Jw(d,h,N,s1,x),mT(d,N);else if(K$(O,d,h,x,N))N.stopPropagation();else if(mT(d,N),h&4&&-1<$$.indexOf(d)){for(;O!==null;){var z=Ze(O);if(z!==null)switch(z.tag){case 3:if(z=z.stateNode,z.current.memoizedState.isDehydrated){var Be=Ue(z.pendingLanes);if(Be!==0){var Me=z;for(Me.pendingLanes|=2,Me.entangledLanes|=2;Be;){var st=1<<31-_t(Be);Me.entanglements[1]|=st,Be&=~st}Gd(z),(Zn&6)===0&&(T=Qe()+500,sx(0))}}break;case 13:Me=zl(z,2),Me!==null&&cr(Me,z,2),Zr(),uj(z,2)}if(z=Aj(N),z===null&&Jw(d,h,N,s1,x),z===O)break;O=z}O!==null&&N.stopPropagation()}else Jw(d,h,N,null,x)}}function Aj(d){return d=va(d),fj(d)}var s1=null;function fj(d){if(s1=null,d=Je(d),d!==null){var h=o(d);if(h===null)d=null;else{var x=h.tag;if(x===13){if(d=l(h),d!==null)return d;d=null}else if(x===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;d=null}else h!==d&&(d=null)}}return s1=d,null}function hT(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case se:return 2;case je:return 8;case we:case q:return 32;case be:return 268435456;default:return 32}default:return 32}}var hj=!1,Ah=null,fh=null,hh=null,Ax=new Map,fx=new Map,mh=[],$$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mT(d,h){switch(d){case"focusin":case"focusout":Ah=null;break;case"dragenter":case"dragleave":fh=null;break;case"mouseover":case"mouseout":hh=null;break;case"pointerover":case"pointerout":Ax.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":fx.delete(h.pointerId)}}function hx(d,h,x,N,O,z){return d===null||d.nativeEvent!==z?(d={blockedOn:h,domEventName:x,eventSystemFlags:N,nativeEvent:z,targetContainers:[O]},h!==null&&(h=Ze(h),h!==null&&fT(h)),d):(d.eventSystemFlags|=N,h=d.targetContainers,O!==null&&h.indexOf(O)===-1&&h.push(O),d)}function K$(d,h,x,N,O){switch(h){case"focusin":return Ah=hx(Ah,d,h,x,N,O),!0;case"dragenter":return fh=hx(fh,d,h,x,N,O),!0;case"mouseover":return hh=hx(hh,d,h,x,N,O),!0;case"pointerover":var z=O.pointerId;return Ax.set(z,hx(Ax.get(z)||null,d,h,x,N,O)),!0;case"gotpointercapture":return z=O.pointerId,fx.set(z,hx(fx.get(z)||null,d,h,x,N,O)),!0}return!1}function pT(d){var h=Je(d.target);if(h!==null){var x=o(h);if(x!==null){if(h=x.tag,h===13){if(h=l(x),h!==null){d.blockedOn=h,kn(d.priority,function(){if(x.tag===13){var N=fr();N=Dr(N);var O=zl(x,N);O!==null&&cr(O,x,N),uj(x,N)}});return}}else if(h===3&&x.stateNode.current.memoizedState.isDehydrated){d.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}d.blockedOn=null}function a1(d){if(d.blockedOn!==null)return!1;for(var h=d.targetContainers;0<h.length;){var x=Aj(d.nativeEvent);if(x===null){x=d.nativeEvent;var N=new x.constructor(x.type,x);Ao=N,x.target.dispatchEvent(N),Ao=null}else return h=Ze(x),h!==null&&fT(h),d.blockedOn=x,!1;h.shift()}return!0}function gT(d,h,x){a1(d)&&x.delete(h)}function V$(){hj=!1,Ah!==null&&a1(Ah)&&(Ah=null),fh!==null&&a1(fh)&&(fh=null),hh!==null&&a1(hh)&&(hh=null),Ax.forEach(gT),fx.forEach(gT)}function i1(d,h){d.blockedOn===h&&(d.blockedOn=null,hj||(hj=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,V$)))}var o1=null;function xT(d){o1!==d&&(o1=d,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){o1===d&&(o1=null);for(var h=0;h<d.length;h+=3){var x=d[h],N=d[h+1],O=d[h+2];if(typeof N!="function"){if(fj(N||x)===null)continue;break}var z=Ze(x);z!==null&&(d.splice(h,3),h-=3,jl(z,{pending:!0,data:O,method:x.method,action:N},N,O))}}))}function mx(d){function h(st){return i1(st,d)}Ah!==null&&i1(Ah,d),fh!==null&&i1(fh,d),hh!==null&&i1(hh,d),Ax.forEach(h),fx.forEach(h);for(var x=0;x<mh.length;x++){var N=mh[x];N.blockedOn===d&&(N.blockedOn=null)}for(;0<mh.length&&(x=mh[0],x.blockedOn===null);)pT(x),x.blockedOn===null&&mh.shift();if(x=(d.ownerDocument||d).$$reactFormReplay,x!=null)for(N=0;N<x.length;N+=3){var O=x[N],z=x[N+1],Be=O[Mn]||null;if(typeof z=="function")Be||xT(x);else if(Be){var Me=null;if(z&&z.hasAttribute("formAction")){if(O=z,Be=z[Mn]||null)Me=Be.formAction;else if(fj(O)!==null)continue}else Me=Be.action;typeof Me=="function"?x[N+1]=Me:(x.splice(N,3),N-=3),xT(x)}}}function mj(d){this._internalRoot=d}l1.prototype.render=mj.prototype.render=function(d){var h=this._internalRoot;if(h===null)throw Error(a(409));var x=h.current,N=fr();dT(x,N,d,h,null,null)},l1.prototype.unmount=mj.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var h=d.containerInfo;dT(d.current,2,null,d,null,null),Zr(),h[ns]=null}};function l1(d){this._internalRoot=d}l1.prototype.unstable_scheduleHydration=function(d){if(d){var h=hs();d={blockedOn:null,target:d,priority:h};for(var x=0;x<mh.length&&h!==0&&h<mh[x].priority;x++);mh.splice(x,0,d),x===0&&pT(d)}};var yT=r.version;if(yT!=="19.1.0")throw Error(a(527,yT,"19.1.0"));de.findDOMNode=function(d){var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(a(188)):(d=Object.keys(d).join(","),Error(a(268,d)));return d=u(h),d=d!==null?f(d):null,d=d===null?null:d.stateNode,d};var z$={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var c1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!c1.isDisabled&&c1.supportsFiber)try{it=c1.inject(z$),et=c1}catch{}}return gx.createRoot=function(d,h){if(!i(d))throw Error(a(299));var x=!1,N="",O=Mg,z=Rg,Be=rp,Me=null;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(N=h.identifierPrefix),h.onUncaughtError!==void 0&&(O=h.onUncaughtError),h.onCaughtError!==void 0&&(z=h.onCaughtError),h.onRecoverableError!==void 0&&(Be=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(Me=h.unstable_transitionCallbacks)),h=cT(d,1,!1,null,null,x,N,O,z,Be,Me,null),d[ns]=h.current,Xw(d),new mj(h)},gx.hydrateRoot=function(d,h,x){if(!i(d))throw Error(a(299));var N=!1,O="",z=Mg,Be=Rg,Me=rp,st=null,Et=null;return x!=null&&(x.unstable_strictMode===!0&&(N=!0),x.identifierPrefix!==void 0&&(O=x.identifierPrefix),x.onUncaughtError!==void 0&&(z=x.onUncaughtError),x.onCaughtError!==void 0&&(Be=x.onCaughtError),x.onRecoverableError!==void 0&&(Me=x.onRecoverableError),x.unstable_transitionCallbacks!==void 0&&(st=x.unstable_transitionCallbacks),x.formState!==void 0&&(Et=x.formState)),h=cT(d,1,!0,h,x??null,N,O,z,Be,Me,st,Et),h.context=uT(null),x=h.current,N=fr(),N=Dr(N),O=Vt(N),O.callback=null,qt(x,O,N),x=N,h.current.lanes=x,Tt(h,x),Gd(h),d[ns]=h.current,Xw(d),new l1(h)},gx.version="19.1.0",gx}var TT;function rK(){if(TT)return xj.exports;TT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),xj.exports=tK(),xj.exports}var nK=rK();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var FT="popstate";function sK(t={}){function r(a,i){let{pathname:o,search:l,hash:c}=a.location;return hC("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){return typeof i=="string"?i:hy(i)}return iK(r,n,null,t)}function ca(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function cd(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function aK(){return Math.random().toString(36).substring(2,10)}function IT(t,r){return{usr:t.state,key:t.key,idx:r}}function hC(t,r,n=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof r=="string"?cg(r):r,state:n,key:r&&r.key||a||aK()}}function hy({pathname:t="/",search:r="",hash:n=""}){return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function cg(t){let r={};if(t){let n=t.indexOf("#");n>=0&&(r.hash=t.substring(n),t=t.substring(0,n));let a=t.indexOf("?");a>=0&&(r.search=t.substring(a),t=t.substring(0,a)),t&&(r.pathname=t)}return r}function iK(t,r,n,a={}){let{window:i=document.defaultView,v5Compat:o=!1}=a,l=i.history,c="POP",u=null,f=A();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function A(){return(l.state||{idx:null}).idx}function m(){c="POP";let y=A(),j=y==null?null:y-f;f=y,u&&u({action:c,location:v.location,delta:j})}function p(y,j){c="PUSH";let C=hC(v.location,y,j);f=A()+1;let S=IT(C,f),E=v.createHref(C);try{l.pushState(S,"",E)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(E)}o&&u&&u({action:c,location:v.location,delta:1})}function g(y,j){c="REPLACE";let C=hC(v.location,y,j);f=A();let S=IT(C,f),E=v.createHref(C);l.replaceState(S,"",E),o&&u&&u({action:c,location:v.location,delta:0})}function b(y){return oK(y)}let v={get action(){return c},get location(){return t(i,l)},listen(y){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(FT,m),u=y,()=>{i.removeEventListener(FT,m),u=null}},createHref(y){return r(i,y)},createURL:b,encodeLocation(y){let j=b(y);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:p,replace:g,go(y){return l.go(y)}};return v}function oK(t,r=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ca(n,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:hy(t);return a=a.replace(/ $/,"%20"),!r&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function pO(t,r,n="/"){return lK(t,r,n,!1)}function lK(t,r,n,a){let i=typeof r=="string"?cg(r):r,o=mf(i.pathname||"/",n);if(o==null)return null;let l=gO(t);cK(l);let c=null;for(let u=0;c==null&&u<l.length;++u){let f=vK(o);c=xK(l[u],f,a)}return c}function gO(t,r=[],n=[],a=""){let i=(o,l,c)=>{let u={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};u.relativePath.startsWith("/")&&(ca(u.relativePath.startsWith(a),`Absolute route path "${u.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(a.length));let f=of([a,u.relativePath]),A=n.concat(u);o.children&&o.children.length>0&&(ca(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),gO(o.children,r,A,f)),!(o.path==null&&!o.index)&&r.push({path:f,score:pK(f,o.index),routesMeta:A})};return t.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))i(o,l);else for(let c of xO(o.path))i(o,l,c)}),r}function xO(t){let r=t.split("/");if(r.length===0)return[];let[n,...a]=r,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(a.length===0)return i?[o,""]:[o];let l=xO(a.join("/")),c=[];return c.push(...l.map(u=>u===""?o:[o,u].join("/"))),i&&c.push(...l),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function cK(t){t.sort((r,n)=>r.score!==n.score?n.score-r.score:gK(r.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var uK=/^:[\w-]+$/,dK=3,AK=2,fK=1,hK=10,mK=-2,_T=t=>t==="*";function pK(t,r){let n=t.split("/"),a=n.length;return n.some(_T)&&(a+=mK),r&&(a+=AK),n.filter(i=>!_T(i)).reduce((i,o)=>i+(uK.test(o)?dK:o===""?fK:hK),a)}function gK(t,r){return t.length===r.length&&t.slice(0,-1).every((a,i)=>a===r[i])?t[t.length-1]-r[r.length-1]:0}function xK(t,r,n=!1){let{routesMeta:a}=t,i={},o="/",l=[];for(let c=0;c<a.length;++c){let u=a[c],f=c===a.length-1,A=o==="/"?r:r.slice(o.length)||"/",m=db({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},A),p=u.route;if(!m&&f&&n&&!a[a.length-1].route.index&&(m=db({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},A)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:of([o,m.pathname]),pathnameBase:NK(of([o,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(o=of([o,m.pathnameBase]))}return l}function db(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=yK(t.path,t.caseSensitive,t.end),i=r.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:a.reduce((f,{paramName:A,isOptional:m},p)=>{if(A==="*"){let b=c[p]||"";l=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const g=c[p];return m&&!g?f[A]=void 0:f[A]=(g||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:t}}function yK(t,r=!1,n=!0){cd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,u)=>(a.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,r?void 0:"i"),a]}function vK(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return cd(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),t}}function mf(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}function bK(t,r="/"){let{pathname:n,search:a="",hash:i=""}=typeof t=="string"?cg(t):t;return{pathname:n?n.startsWith("/")?n:wK(n,r):r,search:CK(a),hash:SK(i)}}function wK(t,r){let n=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function wj(t,r,n,a){return`Cannot include a '${t}' character in a manually specified \`to.${r}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jK(t){return t.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function A5(t){let r=jK(t);return r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase)}function f5(t,r,n,a=!1){let i;typeof t=="string"?i=cg(t):(i={...t},ca(!i.pathname||!i.pathname.includes("?"),wj("?","pathname","search",i)),ca(!i.pathname||!i.pathname.includes("#"),wj("#","pathname","hash",i)),ca(!i.search||!i.search.includes("#"),wj("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=n;else{let m=r.length-1;if(!a&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),m-=1;i.pathname=p.join("/")}c=m>=0?r[m]:"/"}let u=bK(i,c),f=l&&l!=="/"&&l.endsWith("/"),A=(o||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||A)&&(u.pathname+="/"),u}var of=t=>t.join("/").replace(/\/\/+/g,"/"),NK=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CK=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,SK=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function BK(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var yO=["POST","PUT","PATCH","DELETE"];new Set(yO);var EK=["GET",...yO];new Set(EK);var ug=w.createContext(null);ug.displayName="DataRouter";var S2=w.createContext(null);S2.displayName="DataRouterState";w.createContext(!1);var vO=w.createContext({isTransitioning:!1});vO.displayName="ViewTransition";var TK=w.createContext(new Map);TK.displayName="Fetchers";var FK=w.createContext(null);FK.displayName="Await";var ud=w.createContext(null);ud.displayName="Navigation";var Xy=w.createContext(null);Xy.displayName="Location";var dA=w.createContext({outlet:null,matches:[],isDataRoute:!1});dA.displayName="Route";var h5=w.createContext(null);h5.displayName="RouteError";function IK(t,{relative:r}={}){ca(dg(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=w.useContext(ud),{hash:i,pathname:o,search:l}=Jy(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:of([n,o])),a.createHref({pathname:c,search:l,hash:i})}function dg(){return w.useContext(Xy)!=null}function dd(){return ca(dg(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Xy).location}var bO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wO(t){w.useContext(ud).static||w.useLayoutEffect(t)}function AA(){let{isDataRoute:t}=w.useContext(dA);return t?KK():_K()}function _K(){ca(dg(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(ug),{basename:r,navigator:n}=w.useContext(ud),{matches:a}=w.useContext(dA),{pathname:i}=dd(),o=JSON.stringify(A5(a)),l=w.useRef(!1);return wO(()=>{l.current=!0}),w.useCallback((u,f={})=>{if(cd(l.current,bO),!l.current)return;if(typeof u=="number"){n.go(u);return}let A=f5(u,JSON.parse(o),i,f.relative==="path");t==null&&r!=="/"&&(A.pathname=A.pathname==="/"?r:of([r,A.pathname])),(f.replace?n.replace:n.push)(A,f.state,f)},[r,n,o,i,t])}w.createContext(null);function Jy(t,{relative:r}={}){let{matches:n}=w.useContext(dA),{pathname:a}=dd(),i=JSON.stringify(A5(n));return w.useMemo(()=>f5(t,JSON.parse(i),a,r==="path"),[t,i,a,r])}function kK(t,r){return jO(t,r)}function jO(t,r,n,a){ca(dg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=w.useContext(ud),{matches:o}=w.useContext(dA),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",f=l?l.pathnameBase:"/",A=l&&l.route;{let j=A&&A.path||"";NO(u,!A||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let m=dd(),p;if(r){let j=typeof r=="string"?cg(r):r;ca(f==="/"||j.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${j.pathname}" was given in the \`location\` prop.`),p=j}else p=m;let g=p.pathname||"/",b=g;if(f!=="/"){let j=f.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(j.length).join("/")}let v=pO(t,{pathname:b});cd(A||v!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),cd(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=UK(v&&v.map(j=>Object.assign({},j,{params:Object.assign({},c,j.params),pathname:of([f,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?f:of([f,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,n,a);return r&&y?w.createElement(Xy.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},y):y}function PK(){let t=$K(),r=BK(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:o},"ErrorBoundary")," or"," ",w.createElement("code",{style:o},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},r),n?w.createElement("pre",{style:i},n):null,l)}var DK=w.createElement(PK,null),OK=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(dA.Provider,{value:this.props.routeContext},w.createElement(h5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LK({routeContext:t,match:r,children:n}){let a=w.useContext(ug);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(dA.Provider,{value:t},n)}function UK(t,r=[],n=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(r.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n?.errors;if(o!=null){let u=i.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);ca(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(n)for(let u=0;u<i.length;u++){let f=i[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:A,errors:m}=n,p=f.route.loader&&!A.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,f,A)=>{let m,p=!1,g=null,b=null;n&&(m=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||DK,l&&(c<0&&A===0?(NO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,b=null):c===A&&(p=!0,b=f.route.hydrateFallbackElement||null)));let v=r.concat(i.slice(0,A+1)),y=()=>{let j;return m?j=g:p?j=b:f.route.Component?j=w.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=u,w.createElement(LK,{match:f,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:j})};return n&&(f.route.ErrorBoundary||f.route.errorElement||A===0)?w.createElement(OK,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}function m5(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MK(t){let r=w.useContext(ug);return ca(r,m5(t)),r}function RK(t){let r=w.useContext(S2);return ca(r,m5(t)),r}function QK(t){let r=w.useContext(dA);return ca(r,m5(t)),r}function p5(t){let r=QK(t),n=r.matches[r.matches.length-1];return ca(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function HK(){return p5("useRouteId")}function $K(){let t=w.useContext(h5),r=RK("useRouteError"),n=p5("useRouteError");return t!==void 0?t:r.errors?.[n]}function KK(){let{router:t}=MK("useNavigate"),r=p5("useNavigate"),n=w.useRef(!1);return wO(()=>{n.current=!0}),w.useCallback(async(i,o={})=>{cd(n.current,bO),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:r,...o}))},[t,r])}var kT={};function NO(t,r,n){!r&&!kT[t]&&(kT[t]=!0,cd(!1,n))}w.memo(VK);function VK({routes:t,future:r,state:n}){return jO(t,void 0,n,r)}function my({to:t,replace:r,state:n,relative:a}){ca(dg(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(ud);cd(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=w.useContext(dA),{pathname:l}=dd(),c=AA(),u=f5(t,A5(o),l,a==="path"),f=JSON.stringify(u);return w.useEffect(()=>{c(JSON.parse(f),{replace:r,state:n,relative:a})},[c,f,a,r,n]),null}function Tr(t){ca(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zK({basename:t="/",children:r=null,location:n,navigationType:a="POP",navigator:i,static:o=!1}){ca(!dg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof n=="string"&&(n=cg(n));let{pathname:u="/",search:f="",hash:A="",state:m=null,key:p="default"}=n,g=w.useMemo(()=>{let b=mf(u,l);return b==null?null:{location:{pathname:b,search:f,hash:A,state:m,key:p},navigationType:a}},[l,u,f,A,m,p,a]);return cd(g!=null,`<Router basename="${l}"> is not able to match the URL "${u}${f}${A}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:w.createElement(ud.Provider,{value:c},w.createElement(Xy.Provider,{children:r,value:g}))}function u1({children:t,location:r}){return kK(mC(t),r)}function mC(t,r=[]){let n=[];return w.Children.forEach(t,(a,i)=>{if(!w.isValidElement(a))return;let o=[...r,i];if(a.type===w.Fragment){n.push.apply(n,mC(a.props.children,o));return}ca(a.type===Tr,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ca(!a.props.index||!a.props.children,"An index route cannot have child routes.");let l={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=mC(a.props.children,o)),n.push(l)}),n}var Z1="get",eb="application/x-www-form-urlencoded";function B2(t){return t!=null&&typeof t.tagName=="string"}function GK(t){return B2(t)&&t.tagName.toLowerCase()==="button"}function WK(t){return B2(t)&&t.tagName.toLowerCase()==="form"}function qK(t){return B2(t)&&t.tagName.toLowerCase()==="input"}function YK(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function XK(t,r){return t.button===0&&(!r||r==="_self")&&!YK(t)}var d1=null;function JK(){if(d1===null)try{new FormData(document.createElement("form"),0),d1=!1}catch{d1=!0}return d1}var ZK=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jj(t){return t!=null&&!ZK.has(t)?(cd(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eb}"`),null):t}function eV(t,r){let n,a,i,o,l;if(WK(t)){let c=t.getAttribute("action");a=c?mf(c,r):null,n=t.getAttribute("method")||Z1,i=jj(t.getAttribute("enctype"))||eb,o=new FormData(t)}else if(GK(t)||qK(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(a=u?mf(u,r):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Z1,i=jj(t.getAttribute("formenctype"))||jj(c.getAttribute("enctype"))||eb,o=new FormData(c,t),!JK()){let{name:f,type:A,value:m}=t;if(A==="image"){let p=f?`${f}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else f&&o.append(f,m)}}else{if(B2(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Z1,a=null,i=eb,l=t}return o&&i==="text/plain"&&(l=o,o=void 0),{action:a,method:n.toLowerCase(),encType:i,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function g5(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function tV(t,r,n){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${n}`:r&&mf(a.pathname,r)==="/"?a.pathname=`${r.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function rV(t,r){if(t.id in r)return r[t.id];try{let n=await import(t.module);return r[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nV(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function sV(t,r,n){let a=await Promise.all(t.map(async i=>{let o=r.routes[i.route.id];if(o){let l=await rV(o,n);return l.links?l.links():[]}return[]}));return lV(a.flat(1).filter(nV).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function PT(t,r,n,a,i,o){let l=(u,f)=>n[f]?u.route.id!==n[f].route.id:!0,c=(u,f)=>n[f].pathname!==u.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==u.params["*"];return o==="assets"?r.filter((u,f)=>l(u,f)||c(u,f)):o==="data"?r.filter((u,f)=>{let A=a.routes[u.route.id];if(!A||!A.hasLoader)return!1;if(l(u,f)||c(u,f))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function aV(t,r,{includeHydrateFallback:n}={}){return iV(t.map(a=>{let i=r.routes[a.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function iV(t){return[...new Set(t)]}function oV(t){let r={},n=Object.keys(t).sort();for(let a of n)r[a]=t[a];return r}function lV(t,r){let n=new Set;return new Set(r),t.reduce((a,i)=>{let o=JSON.stringify(oV(i));return n.has(o)||(n.add(o),a.push({key:o,link:i})),a},[])}function CO(){let t=w.useContext(ug);return g5(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function cV(){let t=w.useContext(S2);return g5(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var x5=w.createContext(void 0);x5.displayName="FrameworkContext";function SO(){let t=w.useContext(x5);return g5(t,"You must render this element inside a <HydratedRouter> element"),t}function uV(t,r){let n=w.useContext(x5),[a,i]=w.useState(!1),[o,l]=w.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:f,onMouseLeave:A,onTouchStart:m}=r,p=w.useRef(null);w.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let v=j=>{j.forEach(C=>{l(C.isIntersecting)})},y=new IntersectionObserver(v,{threshold:.5});return p.current&&y.observe(p.current),()=>{y.disconnect()}}},[t]),w.useEffect(()=>{if(a){let v=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(v)}}},[a]);let g=()=>{i(!0)},b=()=>{i(!1),l(!1)};return n?t!=="intent"?[o,p,{}]:[o,p,{onFocus:xx(c,g),onBlur:xx(u,b),onMouseEnter:xx(f,g),onMouseLeave:xx(A,b),onTouchStart:xx(m,g)}]:[!1,p,{}]}function xx(t,r){return n=>{t&&t(n),n.defaultPrevented||r(n)}}function dV({page:t,...r}){let{router:n}=CO(),a=w.useMemo(()=>pO(n.routes,t,n.basename),[n.routes,t,n.basename]);return a?w.createElement(fV,{page:t,matches:a,...r}):null}function AV(t){let{manifest:r,routeModules:n}=SO(),[a,i]=w.useState([]);return w.useEffect(()=>{let o=!1;return sV(t,r,n).then(l=>{o||i(l)}),()=>{o=!0}},[t,r,n]),a}function fV({page:t,matches:r,...n}){let a=dd(),{manifest:i,routeModules:o}=SO(),{basename:l}=CO(),{loaderData:c,matches:u}=cV(),f=w.useMemo(()=>PT(t,r,u,i,a,"data"),[t,r,u,i,a]),A=w.useMemo(()=>PT(t,r,u,i,a,"assets"),[t,r,u,i,a]),m=w.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let b=new Set,v=!1;if(r.forEach(j=>{let C=i.routes[j.route.id];!C||!C.hasLoader||(!f.some(S=>S.route.id===j.route.id)&&j.route.id in c&&o[j.route.id]?.shouldRevalidate||C.hasClientLoader?v=!0:b.add(j.route.id))}),b.size===0)return[];let y=tV(t,l,"data");return v&&b.size>0&&y.searchParams.set("_routes",r.filter(j=>b.has(j.route.id)).map(j=>j.route.id).join(",")),[y.pathname+y.search]},[l,c,a,i,f,r,t,o]),p=w.useMemo(()=>aV(A,i),[A,i]),g=AV(A);return w.createElement(w.Fragment,null,m.map(b=>w.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),p.map(b=>w.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),g.map(({key:b,link:v})=>w.createElement("link",{key:b,...v})))}function hV(...t){return r=>{t.forEach(n=>{typeof n=="function"?n(r):n!=null&&(n.current=r)})}}var BO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BO&&(window.__reactRouterVersion="7.7.1")}catch{}function mV({basename:t,children:r,window:n}){let a=w.useRef();a.current==null&&(a.current=sK({window:n,v5Compat:!0}));let i=a.current,[o,l]=w.useState({action:i.action,location:i.location}),c=w.useCallback(u=>{w.startTransition(()=>l(u))},[l]);return w.useLayoutEffect(()=>i.listen(c),[i,c]),w.createElement(zK,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i})}var EO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pf=w.forwardRef(function({onClick:r,discover:n="render",prefetch:a="none",relative:i,reloadDocument:o,replace:l,state:c,target:u,to:f,preventScrollReset:A,viewTransition:m,...p},g){let{basename:b}=w.useContext(ud),v=typeof f=="string"&&EO.test(f),y,j=!1;if(typeof f=="string"&&v&&(y=f,BO))try{let Y=new URL(window.location.href),Q=f.startsWith("//")?new URL(Y.protocol+f):new URL(f),H=mf(Q.pathname,b);Q.origin===Y.origin&&H!=null?f=H+Q.search+Q.hash:j=!0}catch{cd(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=IK(f,{relative:i}),[S,E,D]=uV(a,p),k=yV(f,{replace:l,state:c,target:u,preventScrollReset:A,relative:i,viewTransition:m});function L(Y){r&&r(Y),Y.defaultPrevented||k(Y)}let I=w.createElement("a",{...p,...D,href:y||C,onClick:j||o?r:L,ref:hV(g,E),target:u,"data-discover":!v&&n==="render"?"true":void 0});return S&&!v?w.createElement(w.Fragment,null,I,w.createElement(dV,{page:C})):I});pf.displayName="Link";var pV=w.forwardRef(function({"aria-current":r="page",caseSensitive:n=!1,className:a="",end:i=!1,style:o,to:l,viewTransition:c,children:u,...f},A){let m=Jy(l,{relative:f.relative}),p=dd(),g=w.useContext(S2),{navigator:b,basename:v}=w.useContext(ud),y=g!=null&&NV(m)&&c===!0,j=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,C=p.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(C=C.toLowerCase(),S=S?S.toLowerCase():null,j=j.toLowerCase()),S&&v&&(S=mf(S,v)||S);const E=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let D=C===j||!i&&C.startsWith(j)&&C.charAt(E)==="/",k=S!=null&&(S===j||!i&&S.startsWith(j)&&S.charAt(j.length)==="/"),L={isActive:D,isPending:k,isTransitioning:y},I=D?r:void 0,Y;typeof a=="function"?Y=a(L):Y=[a,D?"active":null,k?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let Q=typeof o=="function"?o(L):o;return w.createElement(pf,{...f,"aria-current":I,className:Y,ref:A,style:Q,to:l,viewTransition:c},typeof u=="function"?u(L):u)});pV.displayName="NavLink";var gV=w.forwardRef(({discover:t="render",fetcherKey:r,navigate:n,reloadDocument:a,replace:i,state:o,method:l=Z1,action:c,onSubmit:u,relative:f,preventScrollReset:A,viewTransition:m,...p},g)=>{let b=wV(),v=jV(c,{relative:f}),y=l.toLowerCase()==="get"?"get":"post",j=typeof c=="string"&&EO.test(c),C=S=>{if(u&&u(S),S.defaultPrevented)return;S.preventDefault();let E=S.nativeEvent.submitter,D=E?.getAttribute("formmethod")||l;b(E||S.currentTarget,{fetcherKey:r,method:D,navigate:n,replace:i,state:o,relative:f,preventScrollReset:A,viewTransition:m})};return w.createElement("form",{ref:g,method:y,action:v,onSubmit:a?u:C,...p,"data-discover":!j&&t==="render"?"true":void 0})});gV.displayName="Form";function xV(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TO(t){let r=w.useContext(ug);return ca(r,xV(t)),r}function yV(t,{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=AA(),u=dd(),f=Jy(t,{relative:o});return w.useCallback(A=>{if(XK(A,r)){A.preventDefault();let m=n!==void 0?n:hy(u)===hy(f);c(t,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,f,n,a,r,t,i,o,l])}var vV=0,bV=()=>`__${String(++vV)}__`;function wV(){let{router:t}=TO("useSubmit"),{basename:r}=w.useContext(ud),n=HK();return w.useCallback(async(a,i={})=>{let{action:o,method:l,encType:c,formData:u,body:f}=eV(a,r);if(i.navigate===!1){let A=i.fetcherKey||bV();await t.fetch(A,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,r,n])}function jV(t,{relative:r}={}){let{basename:n}=w.useContext(ud),a=w.useContext(dA);ca(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),o={...Jy(t||".",{relative:r})},l=dd();if(t==null){o.search=l.search;let c=new URLSearchParams(o.search),u=c.getAll("index");if(u.some(A=>A==="")){c.delete("index"),u.filter(m=>m).forEach(m=>c.append("index",m));let A=c.toString();o.search=A?`?${A}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:of([n,o.pathname])),hy(o)}function NV(t,{relative:r}={}){let n=w.useContext(vO);ca(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=TO("useViewTransitionState"),i=Jy(t,{relative:r});if(!n.isTransitioning)return!1;let o=mf(n.currentLocation.pathname,a)||n.currentLocation.pathname,l=mf(n.nextLocation.pathname,a)||n.nextLocation.pathname;return db(i.pathname,l)!=null||db(i.pathname,o)!=null}var FO=mO(),IO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},DT=Un.createContext&&Un.createContext(IO),CV=["attr","size","title"];function SV(t,r){if(t==null)return{};var n=BV(t,r),a,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)a=o[i],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function BV(t,r){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;n[a]=t[a]}return n}function Ab(){return Ab=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ab.apply(this,arguments)}function OT(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function fb(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?OT(Object(n),!0).forEach(function(a){EV(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function EV(t,r,n){return r=TV(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function TV(t){var r=FV(t,"string");return typeof r=="symbol"?r:r+""}function FV(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function _O(t){return t&&t.map((r,n)=>Un.createElement(r.tag,fb({key:n},r.attr),_O(r.child)))}function ar(t){return r=>Un.createElement(IV,Ab({attr:fb({},t.attr)},r),_O(t.child))}function IV(t){var r=n=>{var{attr:a,size:i,title:o}=t,l=SV(t,CV),c=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),Un.createElement("svg",Ab({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,l,{className:u,style:fb(fb({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&Un.createElement("title",null,o),t.children)};return DT!==void 0?Un.createElement(DT.Consumer,null,n=>r(n)):r(IO)}function _V(t){return ar({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function kV(t){return ar({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function PV(t){return ar({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}function DV(t){return ar({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 0H48C22.4 0 0 22.4 0 48v416c0 25.6 22.4 48 48 48h352c25.6 0 48-22.4 48-48V48c0-25.6-22.4-48-48-48zM128 435.2c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8V268.8c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v166.4zm0-256c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8V76.8C64 70.4 70.4 64 76.8 64h294.4c6.4 0 12.8 6.4 12.8 12.8v102.4z"},child:[]}]})(t)}function LT(t){return ar({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function OV(t){return ar({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M208 352c-2.39 0-4.78.35-7.06 1.09C187.98 357.3 174.35 360 160 360c-14.35 0-27.98-2.7-40.95-6.91-2.28-.74-4.66-1.09-7.05-1.09C49.94 352-.33 402.48 0 464.62.14 490.88 21.73 512 48 512h224c26.27 0 47.86-21.12 48-47.38.33-62.14-49.94-112.62-112-112.62zm-48-32c53.02 0 96-42.98 96-96s-42.98-96-96-96-96 42.98-96 96 42.98 96 96 96zM592 0H208c-26.47 0-48 22.25-48 49.59V96c23.42 0 45.1 6.78 64 17.8V64h352v288h-64v-64H384v64h-76.24c19.1 16.69 33.12 38.73 39.69 64H592c26.47 0 48-22.25 48-49.59V49.59C640 22.25 618.47 0 592 0z"},child:[]}]})(t)}function kO(t){return ar({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function LV(t){return ar({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function UV(t){return ar({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function hb(t){return ar({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function MV(t){return ar({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function RV(t){return ar({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function QV(t){return ar({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function Qx(t){return ar({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function PO(t){return ar({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function HV(t){return ar({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M288 256H96v64h192v-64zm89-151L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm256 304c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-200v96c0 8.84-7.16 16-16 16H80c-8.84 0-16-7.16-16-16v-96c0-8.84 7.16-16 16-16h224c8.84 0 16 7.16 16 16z"},child:[]}]})(t)}function UT(t){return ar({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(t)}function $V(t){return ar({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function KV(t){return ar({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(t)}function MT(t){return ar({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function VV(t){return ar({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function pC(t){return ar({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M308 96c6.627 0 12-5.373 12-12V44c0-6.627-5.373-12-12-12H12C5.373 32 0 37.373 0 44v44.748c0 6.627 5.373 12 12 12h85.28c27.308 0 48.261 9.958 60.97 27.252H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h158.757c-6.217 36.086-32.961 58.632-74.757 58.632H12c-6.627 0-12 5.373-12 12v53.012c0 3.349 1.4 6.546 3.861 8.818l165.052 152.356a12.001 12.001 0 0 0 8.139 3.182h82.562c10.924 0 16.166-13.408 8.139-20.818L116.871 319.906c76.499-2.34 131.144-53.395 138.318-127.906H308c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-58.69c-3.486-11.541-8.28-22.246-14.252-32H308z"},child:[]}]})(t)}function DO(t){return ar({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function zV(t){return ar({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function GV(t){return ar({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(t)}function Nj(t){return ar({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function WV(t){return ar({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M396.8 352h22.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-192 0h22.4c6.4 0 12.8-6.4 12.8-12.8V140.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h22.4c6.4 0 12.8-6.4 12.8-12.8V204.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zM496 400H48V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16zm-387.2-48h22.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8z"},child:[]}]})(t)}function OO(t,r){return function(){return t.apply(r,arguments)}}const{toString:qV}=Object.prototype,{getPrototypeOf:y5}=Object,{iterator:E2,toStringTag:LO}=Symbol,T2=(t=>r=>{const n=qV.call(r);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ad=t=>(t=t.toLowerCase(),r=>T2(r)===t),F2=t=>r=>typeof r===t,{isArray:Ag}=Array,py=F2("undefined");function Zy(t){return t!==null&&!py(t)&&t.constructor!==null&&!py(t.constructor)&&Il(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const UO=Ad("ArrayBuffer");function YV(t){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&UO(t.buffer),r}const XV=F2("string"),Il=F2("function"),MO=F2("number"),ev=t=>t!==null&&typeof t=="object",JV=t=>t===!0||t===!1,tb=t=>{if(T2(t)!=="object")return!1;const r=y5(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(LO in t)&&!(E2 in t)},ZV=t=>{if(!ev(t)||Zy(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},ez=Ad("Date"),tz=Ad("File"),rz=Ad("Blob"),nz=Ad("FileList"),sz=t=>ev(t)&&Il(t.pipe),az=t=>{let r;return t&&(typeof FormData=="function"&&t instanceof FormData||Il(t.append)&&((r=T2(t))==="formdata"||r==="object"&&Il(t.toString)&&t.toString()==="[object FormData]"))},iz=Ad("URLSearchParams"),[oz,lz,cz,uz]=["ReadableStream","Request","Response","Headers"].map(Ad),dz=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tv(t,r,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let a,i;if(typeof t!="object"&&(t=[t]),Ag(t))for(a=0,i=t.length;a<i;a++)r.call(null,t[a],a,t);else{if(Zy(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let c;for(a=0;a<l;a++)c=o[a],r.call(null,t[c],c,t)}}function RO(t,r){if(Zy(t))return null;r=r.toLowerCase();const n=Object.keys(t);let a=n.length,i;for(;a-- >0;)if(i=n[a],r===i.toLowerCase())return i;return null}const qm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,QO=t=>!py(t)&&t!==qm;function gC(){const{caseless:t}=QO(this)&&this||{},r={},n=(a,i)=>{const o=t&&RO(r,i)||i;tb(r[o])&&tb(a)?r[o]=gC(r[o],a):tb(a)?r[o]=gC({},a):Ag(a)?r[o]=a.slice():r[o]=a};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&tv(arguments[a],n);return r}const Az=(t,r,n,{allOwnKeys:a}={})=>(tv(r,(i,o)=>{n&&Il(i)?t[o]=OO(i,n):t[o]=i},{allOwnKeys:a}),t),fz=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),hz=(t,r,n,a)=>{t.prototype=Object.create(r.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:r.prototype}),n&&Object.assign(t.prototype,n)},mz=(t,r,n,a)=>{let i,o,l;const c={};if(r=r||{},t==null)return r;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)l=i[o],(!a||a(l,t,r))&&!c[l]&&(r[l]=t[l],c[l]=!0);t=n!==!1&&y5(t)}while(t&&(!n||n(t,r))&&t!==Object.prototype);return r},pz=(t,r,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=r.length;const a=t.indexOf(r,n);return a!==-1&&a===n},gz=t=>{if(!t)return null;if(Ag(t))return t;let r=t.length;if(!MO(r))return null;const n=new Array(r);for(;r-- >0;)n[r]=t[r];return n},xz=(t=>r=>t&&r instanceof t)(typeof Uint8Array<"u"&&y5(Uint8Array)),yz=(t,r)=>{const a=(t&&t[E2]).call(t);let i;for(;(i=a.next())&&!i.done;){const o=i.value;r.call(t,o[0],o[1])}},vz=(t,r)=>{let n;const a=[];for(;(n=t.exec(r))!==null;)a.push(n);return a},bz=Ad("HTMLFormElement"),wz=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,a,i){return a.toUpperCase()+i}),RT=(({hasOwnProperty:t})=>(r,n)=>t.call(r,n))(Object.prototype),jz=Ad("RegExp"),HO=(t,r)=>{const n=Object.getOwnPropertyDescriptors(t),a={};tv(n,(i,o)=>{let l;(l=r(i,o,t))!==!1&&(a[o]=l||i)}),Object.defineProperties(t,a)},Nz=t=>{HO(t,(r,n)=>{if(Il(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const a=t[n];if(Il(a)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Cz=(t,r)=>{const n={},a=i=>{i.forEach(o=>{n[o]=!0})};return Ag(t)?a(t):a(String(t).split(r)),n},Sz=()=>{},Bz=(t,r)=>t!=null&&Number.isFinite(t=+t)?t:r;function Ez(t){return!!(t&&Il(t.append)&&t[LO]==="FormData"&&t[E2])}const Tz=t=>{const r=new Array(10),n=(a,i)=>{if(ev(a)){if(r.indexOf(a)>=0)return;if(Zy(a))return a;if(!("toJSON"in a)){r[i]=a;const o=Ag(a)?[]:{};return tv(a,(l,c)=>{const u=n(l,i+1);!py(u)&&(o[c]=u)}),r[i]=void 0,o}}return a};return n(t,0)},Fz=Ad("AsyncFunction"),Iz=t=>t&&(ev(t)||Il(t))&&Il(t.then)&&Il(t.catch),$O=((t,r)=>t?setImmediate:r?((n,a)=>(qm.addEventListener("message",({source:i,data:o})=>{i===qm&&o===n&&a.length&&a.shift()()},!1),i=>{a.push(i),qm.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Il(qm.postMessage)),_z=typeof queueMicrotask<"u"?queueMicrotask.bind(qm):typeof process<"u"&&process.nextTick||$O,kz=t=>t!=null&&Il(t[E2]),Mt={isArray:Ag,isArrayBuffer:UO,isBuffer:Zy,isFormData:az,isArrayBufferView:YV,isString:XV,isNumber:MO,isBoolean:JV,isObject:ev,isPlainObject:tb,isEmptyObject:ZV,isReadableStream:oz,isRequest:lz,isResponse:cz,isHeaders:uz,isUndefined:py,isDate:ez,isFile:tz,isBlob:rz,isRegExp:jz,isFunction:Il,isStream:sz,isURLSearchParams:iz,isTypedArray:xz,isFileList:nz,forEach:tv,merge:gC,extend:Az,trim:dz,stripBOM:fz,inherits:hz,toFlatObject:mz,kindOf:T2,kindOfTest:Ad,endsWith:pz,toArray:gz,forEachEntry:yz,matchAll:vz,isHTMLForm:bz,hasOwnProperty:RT,hasOwnProp:RT,reduceDescriptors:HO,freezeMethods:Nz,toObjectSet:Cz,toCamelCase:wz,noop:Sz,toFiniteNumber:Bz,findKey:RO,global:qm,isContextDefined:QO,isSpecCompliantForm:Ez,toJSONObject:Tz,isAsyncFn:Fz,isThenable:Iz,setImmediate:$O,asap:_z,isIterable:kz};function on(t,r,n,a,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",r&&(this.code=r),n&&(this.config=n),a&&(this.request=a),i&&(this.response=i,this.status=i.status?i.status:null)}Mt.inherits(on,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Mt.toJSONObject(this.config),code:this.code,status:this.status}}});const KO=on.prototype,VO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{VO[t]={value:t}});Object.defineProperties(on,VO);Object.defineProperty(KO,"isAxiosError",{value:!0});on.from=(t,r,n,a,i,o)=>{const l=Object.create(KO);return Mt.toFlatObject(t,l,function(u){return u!==Error.prototype},c=>c!=="isAxiosError"),on.call(l,t.message,r,n,a,i),l.cause=t,l.name=t.name,o&&Object.assign(l,o),l};const Pz=null;function xC(t){return Mt.isPlainObject(t)||Mt.isArray(t)}function zO(t){return Mt.endsWith(t,"[]")?t.slice(0,-2):t}function QT(t,r,n){return t?t.concat(r).map(function(i,o){return i=zO(i),!n&&o?"["+i+"]":i}).join(n?".":""):r}function Dz(t){return Mt.isArray(t)&&!t.some(xC)}const Oz=Mt.toFlatObject(Mt,{},null,function(r){return/^is[A-Z]/.test(r)});function I2(t,r,n){if(!Mt.isObject(t))throw new TypeError("target must be an object");r=r||new FormData,n=Mt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,y){return!Mt.isUndefined(y[v])});const a=n.metaTokens,i=n.visitor||A,o=n.dots,l=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&Mt.isSpecCompliantForm(r);if(!Mt.isFunction(i))throw new TypeError("visitor must be a function");function f(b){if(b===null)return"";if(Mt.isDate(b))return b.toISOString();if(Mt.isBoolean(b))return b.toString();if(!u&&Mt.isBlob(b))throw new on("Blob is not supported. Use a Buffer instead.");return Mt.isArrayBuffer(b)||Mt.isTypedArray(b)?u&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function A(b,v,y){let j=b;if(b&&!y&&typeof b=="object"){if(Mt.endsWith(v,"{}"))v=a?v:v.slice(0,-2),b=JSON.stringify(b);else if(Mt.isArray(b)&&Dz(b)||(Mt.isFileList(b)||Mt.endsWith(v,"[]"))&&(j=Mt.toArray(b)))return v=zO(v),j.forEach(function(S,E){!(Mt.isUndefined(S)||S===null)&&r.append(l===!0?QT([v],E,o):l===null?v:v+"[]",f(S))}),!1}return xC(b)?!0:(r.append(QT(y,v,o),f(b)),!1)}const m=[],p=Object.assign(Oz,{defaultVisitor:A,convertValue:f,isVisitable:xC});function g(b,v){if(!Mt.isUndefined(b)){if(m.indexOf(b)!==-1)throw Error("Circular reference detected in "+v.join("."));m.push(b),Mt.forEach(b,function(j,C){(!(Mt.isUndefined(j)||j===null)&&i.call(r,j,Mt.isString(C)?C.trim():C,v,p))===!0&&g(j,v?v.concat(C):[C])}),m.pop()}}if(!Mt.isObject(t))throw new TypeError("data must be an object");return g(t),r}function HT(t){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return r[a]})}function v5(t,r){this._pairs=[],t&&I2(t,this,r)}const GO=v5.prototype;GO.append=function(r,n){this._pairs.push([r,n])};GO.toString=function(r){const n=r?function(a){return r.call(this,a,HT)}:HT;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Lz(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function WO(t,r,n){if(!r)return t;const a=n&&n.encode||Lz;Mt.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(r,n):o=Mt.isURLSearchParams(r)?r.toString():new v5(r,n).toString(a),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class $T{constructor(){this.handlers=[]}use(r,n,a){return this.handlers.push({fulfilled:r,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){Mt.forEach(this.handlers,function(a){a!==null&&r(a)})}}const qO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Uz=typeof URLSearchParams<"u"?URLSearchParams:v5,Mz=typeof FormData<"u"?FormData:null,Rz=typeof Blob<"u"?Blob:null,Qz={isBrowser:!0,classes:{URLSearchParams:Uz,FormData:Mz,Blob:Rz},protocols:["http","https","file","blob","url","data"]},b5=typeof window<"u"&&typeof document<"u",yC=typeof navigator=="object"&&navigator||void 0,Hz=b5&&(!yC||["ReactNative","NativeScript","NS"].indexOf(yC.product)<0),$z=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Kz=b5&&window.location.href||"http://localhost",Vz=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:b5,hasStandardBrowserEnv:Hz,hasStandardBrowserWebWorkerEnv:$z,navigator:yC,origin:Kz},Symbol.toStringTag,{value:"Module"})),_o={...Vz,...Qz};function zz(t,r){return I2(t,new _o.classes.URLSearchParams,{visitor:function(n,a,i,o){return _o.isNode&&Mt.isBuffer(n)?(this.append(a,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...r})}function Gz(t){return Mt.matchAll(/\w+|\[(\w*)]/g,t).map(r=>r[0]==="[]"?"":r[1]||r[0])}function Wz(t){const r={},n=Object.keys(t);let a;const i=n.length;let o;for(a=0;a<i;a++)o=n[a],r[o]=t[o];return r}function YO(t){function r(n,a,i,o){let l=n[o++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),u=o>=n.length;return l=!l&&Mt.isArray(i)?i.length:l,u?(Mt.hasOwnProp(i,l)?i[l]=[i[l],a]:i[l]=a,!c):((!i[l]||!Mt.isObject(i[l]))&&(i[l]=[]),r(n,a,i[l],o)&&Mt.isArray(i[l])&&(i[l]=Wz(i[l])),!c)}if(Mt.isFormData(t)&&Mt.isFunction(t.entries)){const n={};return Mt.forEachEntry(t,(a,i)=>{r(Gz(a),i,n,0)}),n}return null}function qz(t,r,n){if(Mt.isString(t))try{return(r||JSON.parse)(t),Mt.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(n||JSON.stringify)(t)}const rv={transitional:qO,adapter:["xhr","http","fetch"],transformRequest:[function(r,n){const a=n.getContentType()||"",i=a.indexOf("application/json")>-1,o=Mt.isObject(r);if(o&&Mt.isHTMLForm(r)&&(r=new FormData(r)),Mt.isFormData(r))return i?JSON.stringify(YO(r)):r;if(Mt.isArrayBuffer(r)||Mt.isBuffer(r)||Mt.isStream(r)||Mt.isFile(r)||Mt.isBlob(r)||Mt.isReadableStream(r))return r;if(Mt.isArrayBufferView(r))return r.buffer;if(Mt.isURLSearchParams(r))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let c;if(o){if(a.indexOf("application/x-www-form-urlencoded")>-1)return zz(r,this.formSerializer).toString();if((c=Mt.isFileList(r))||a.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return I2(c?{"files[]":r}:r,u&&new u,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),qz(r)):r}],transformResponse:[function(r){const n=this.transitional||rv.transitional,a=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Mt.isResponse(r)||Mt.isReadableStream(r))return r;if(r&&Mt.isString(r)&&(a&&!this.responseType||i)){const l=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(r)}catch(c){if(l)throw c.name==="SyntaxError"?on.from(c,on.ERR_BAD_RESPONSE,this,null,this.response):c}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_o.classes.FormData,Blob:_o.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Mt.forEach(["delete","get","head","post","put","patch"],t=>{rv.headers[t]={}});const Yz=Mt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xz=t=>{const r={};let n,a,i;return t&&t.split(`
`).forEach(function(l){i=l.indexOf(":"),n=l.substring(0,i).trim().toLowerCase(),a=l.substring(i+1).trim(),!(!n||r[n]&&Yz[n])&&(n==="set-cookie"?r[n]?r[n].push(a):r[n]=[a]:r[n]=r[n]?r[n]+", "+a:a)}),r},KT=Symbol("internals");function yx(t){return t&&String(t).trim().toLowerCase()}function rb(t){return t===!1||t==null?t:Mt.isArray(t)?t.map(rb):String(t)}function Jz(t){const r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(t);)r[a[1]]=a[2];return r}const Zz=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Cj(t,r,n,a,i){if(Mt.isFunction(a))return a.call(this,r,n);if(i&&(r=n),!!Mt.isString(r)){if(Mt.isString(a))return r.indexOf(a)!==-1;if(Mt.isRegExp(a))return a.test(r)}}function eG(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,n,a)=>n.toUpperCase()+a)}function tG(t,r){const n=Mt.toCamelCase(" "+r);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+n,{value:function(i,o,l){return this[a].call(this,r,i,o,l)},configurable:!0})})}let _l=class{constructor(r){r&&this.set(r)}set(r,n,a){const i=this;function o(c,u,f){const A=yx(u);if(!A)throw new Error("header name must be a non-empty string");const m=Mt.findKey(i,A);(!m||i[m]===void 0||f===!0||f===void 0&&i[m]!==!1)&&(i[m||u]=rb(c))}const l=(c,u)=>Mt.forEach(c,(f,A)=>o(f,A,u));if(Mt.isPlainObject(r)||r instanceof this.constructor)l(r,n);else if(Mt.isString(r)&&(r=r.trim())&&!Zz(r))l(Xz(r),n);else if(Mt.isObject(r)&&Mt.isIterable(r)){let c={},u,f;for(const A of r){if(!Mt.isArray(A))throw TypeError("Object iterator must return a key-value pair");c[f=A[0]]=(u=c[f])?Mt.isArray(u)?[...u,A[1]]:[u,A[1]]:A[1]}l(c,n)}else r!=null&&o(n,r,a);return this}get(r,n){if(r=yx(r),r){const a=Mt.findKey(this,r);if(a){const i=this[a];if(!n)return i;if(n===!0)return Jz(i);if(Mt.isFunction(n))return n.call(this,i,a);if(Mt.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,n){if(r=yx(r),r){const a=Mt.findKey(this,r);return!!(a&&this[a]!==void 0&&(!n||Cj(this,this[a],a,n)))}return!1}delete(r,n){const a=this;let i=!1;function o(l){if(l=yx(l),l){const c=Mt.findKey(a,l);c&&(!n||Cj(a,a[c],c,n))&&(delete a[c],i=!0)}}return Mt.isArray(r)?r.forEach(o):o(r),i}clear(r){const n=Object.keys(this);let a=n.length,i=!1;for(;a--;){const o=n[a];(!r||Cj(this,this[o],o,r,!0))&&(delete this[o],i=!0)}return i}normalize(r){const n=this,a={};return Mt.forEach(this,(i,o)=>{const l=Mt.findKey(a,o);if(l){n[l]=rb(i),delete n[o];return}const c=r?eG(o):String(o).trim();c!==o&&delete n[o],n[c]=rb(i),a[c]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const n=Object.create(null);return Mt.forEach(this,(a,i)=>{a!=null&&a!==!1&&(n[i]=r&&Mt.isArray(a)?a.join(", "):a)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,n])=>r+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...n){const a=new this(r);return n.forEach(i=>a.set(i)),a}static accessor(r){const a=(this[KT]=this[KT]={accessors:{}}).accessors,i=this.prototype;function o(l){const c=yx(l);a[c]||(tG(i,l),a[c]=!0)}return Mt.isArray(r)?r.forEach(o):o(r),this}};_l.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Mt.reduceDescriptors(_l.prototype,({value:t},r)=>{let n=r[0].toUpperCase()+r.slice(1);return{get:()=>t,set(a){this[n]=a}}});Mt.freezeMethods(_l);function Sj(t,r){const n=this||rv,a=r||n,i=_l.from(a.headers);let o=a.data;return Mt.forEach(t,function(c){o=c.call(n,o,i.normalize(),r?r.status:void 0)}),i.normalize(),o}function XO(t){return!!(t&&t.__CANCEL__)}function fg(t,r,n){on.call(this,t??"canceled",on.ERR_CANCELED,r,n),this.name="CanceledError"}Mt.inherits(fg,on,{__CANCEL__:!0});function JO(t,r,n){const a=n.config.validateStatus;!n.status||!a||a(n.status)?t(n):r(new on("Request failed with status code "+n.status,[on.ERR_BAD_REQUEST,on.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function rG(t){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}function nG(t,r){t=t||10;const n=new Array(t),a=new Array(t);let i=0,o=0,l;return r=r!==void 0?r:1e3,function(u){const f=Date.now(),A=a[o];l||(l=f),n[i]=u,a[i]=f;let m=o,p=0;for(;m!==i;)p+=n[m++],m=m%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),f-l<r)return;const g=A&&f-A;return g?Math.round(p*1e3/g):void 0}}function sG(t,r){let n=0,a=1e3/r,i,o;const l=(f,A=Date.now())=>{n=A,i=null,o&&(clearTimeout(o),o=null),t(...f)};return[(...f)=>{const A=Date.now(),m=A-n;m>=a?l(f,A):(i=f,o||(o=setTimeout(()=>{o=null,l(i)},a-m)))},()=>i&&l(i)]}const mb=(t,r,n=3)=>{let a=0;const i=nG(50,250);return sG(o=>{const l=o.loaded,c=o.lengthComputable?o.total:void 0,u=l-a,f=i(u),A=l<=c;a=l;const m={loaded:l,total:c,progress:c?l/c:void 0,bytes:u,rate:f||void 0,estimated:f&&c&&A?(c-l)/f:void 0,event:o,lengthComputable:c!=null,[r?"download":"upload"]:!0};t(m)},n)},VT=(t,r)=>{const n=t!=null;return[a=>r[0]({lengthComputable:n,total:t,loaded:a}),r[1]]},zT=t=>(...r)=>Mt.asap(()=>t(...r)),aG=_o.hasStandardBrowserEnv?((t,r)=>n=>(n=new URL(n,_o.origin),t.protocol===n.protocol&&t.host===n.host&&(r||t.port===n.port)))(new URL(_o.origin),_o.navigator&&/(msie|trident)/i.test(_o.navigator.userAgent)):()=>!0,iG=_o.hasStandardBrowserEnv?{write(t,r,n,a,i,o){const l=[t+"="+encodeURIComponent(r)];Mt.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),Mt.isString(a)&&l.push("path="+a),Mt.isString(i)&&l.push("domain="+i),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function oG(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function lG(t,r){return r?t.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):t}function ZO(t,r,n){let a=!oG(r);return t&&(a||n==!1)?lG(t,r):r}const GT=t=>t instanceof _l?{...t}:t;function x0(t,r){r=r||{};const n={};function a(f,A,m,p){return Mt.isPlainObject(f)&&Mt.isPlainObject(A)?Mt.merge.call({caseless:p},f,A):Mt.isPlainObject(A)?Mt.merge({},A):Mt.isArray(A)?A.slice():A}function i(f,A,m,p){if(Mt.isUndefined(A)){if(!Mt.isUndefined(f))return a(void 0,f,m,p)}else return a(f,A,m,p)}function o(f,A){if(!Mt.isUndefined(A))return a(void 0,A)}function l(f,A){if(Mt.isUndefined(A)){if(!Mt.isUndefined(f))return a(void 0,f)}else return a(void 0,A)}function c(f,A,m){if(m in r)return a(f,A);if(m in t)return a(void 0,f)}const u={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(f,A,m)=>i(GT(f),GT(A),m,!0)};return Mt.forEach(Object.keys({...t,...r}),function(A){const m=u[A]||i,p=m(t[A],r[A],A);Mt.isUndefined(p)&&m!==c||(n[A]=p)}),n}const e8=t=>{const r=x0({},t);let{data:n,withXSRFToken:a,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:c}=r;r.headers=l=_l.from(l),r.url=WO(ZO(r.baseURL,r.url,r.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let u;if(Mt.isFormData(n)){if(_o.hasStandardBrowserEnv||_o.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((u=l.getContentType())!==!1){const[f,...A]=u?u.split(";").map(m=>m.trim()).filter(Boolean):[];l.setContentType([f||"multipart/form-data",...A].join("; "))}}if(_o.hasStandardBrowserEnv&&(a&&Mt.isFunction(a)&&(a=a(r)),a||a!==!1&&aG(r.url))){const f=i&&o&&iG.read(o);f&&l.set(i,f)}return r},cG=typeof XMLHttpRequest<"u",uG=cG&&function(t){return new Promise(function(n,a){const i=e8(t);let o=i.data;const l=_l.from(i.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:f}=i,A,m,p,g,b;function v(){g&&g(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(A),i.signal&&i.signal.removeEventListener("abort",A)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function j(){if(!y)return;const S=_l.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),D={data:!c||c==="text"||c==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:S,config:t,request:y};JO(function(L){n(L),v()},function(L){a(L),v()},D),y=null}"onloadend"in y?y.onloadend=j:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(j)},y.onabort=function(){y&&(a(new on("Request aborted",on.ECONNABORTED,t,y)),y=null)},y.onerror=function(){a(new on("Network Error",on.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let E=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const D=i.transitional||qO;i.timeoutErrorMessage&&(E=i.timeoutErrorMessage),a(new on(E,D.clarifyTimeoutError?on.ETIMEDOUT:on.ECONNABORTED,t,y)),y=null},o===void 0&&l.setContentType(null),"setRequestHeader"in y&&Mt.forEach(l.toJSON(),function(E,D){y.setRequestHeader(D,E)}),Mt.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),c&&c!=="json"&&(y.responseType=i.responseType),f&&([p,b]=mb(f,!0),y.addEventListener("progress",p)),u&&y.upload&&([m,g]=mb(u),y.upload.addEventListener("progress",m),y.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(A=S=>{y&&(a(!S||S.type?new fg(null,t,y):S),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(A),i.signal&&(i.signal.aborted?A():i.signal.addEventListener("abort",A)));const C=rG(i.url);if(C&&_o.protocols.indexOf(C)===-1){a(new on("Unsupported protocol "+C+":",on.ERR_BAD_REQUEST,t));return}y.send(o||null)})},dG=(t,r)=>{const{length:n}=t=t?t.filter(Boolean):[];if(r||n){let a=new AbortController,i;const o=function(f){if(!i){i=!0,c();const A=f instanceof Error?f:this.reason;a.abort(A instanceof on?A:new fg(A instanceof Error?A.message:A))}};let l=r&&setTimeout(()=>{l=null,o(new on(`timeout ${r} of ms exceeded`,on.ETIMEDOUT))},r);const c=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),t=null)};t.forEach(f=>f.addEventListener("abort",o));const{signal:u}=a;return u.unsubscribe=()=>Mt.asap(c),u}},AG=function*(t,r){let n=t.byteLength;if(n<r){yield t;return}let a=0,i;for(;a<n;)i=a+r,yield t.slice(a,i),a=i},fG=async function*(t,r){for await(const n of hG(t))yield*AG(n,r)},hG=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const r=t.getReader();try{for(;;){const{done:n,value:a}=await r.read();if(n)break;yield a}}finally{await r.cancel()}},WT=(t,r,n,a)=>{const i=fG(t,r);let o=0,l,c=u=>{l||(l=!0,a&&a(u))};return new ReadableStream({async pull(u){try{const{done:f,value:A}=await i.next();if(f){c(),u.close();return}let m=A.byteLength;if(n){let p=o+=m;n(p)}u.enqueue(new Uint8Array(A))}catch(f){throw c(f),f}},cancel(u){return c(u),i.return()}},{highWaterMark:2})},_2=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",t8=_2&&typeof ReadableStream=="function",mG=_2&&(typeof TextEncoder=="function"?(t=>r=>t.encode(r))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),r8=(t,...r)=>{try{return!!t(...r)}catch{return!1}},pG=t8&&r8(()=>{let t=!1;const r=new Request(_o.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!r}),qT=64*1024,vC=t8&&r8(()=>Mt.isReadableStream(new Response("").body)),pb={stream:vC&&(t=>t.body)};_2&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!pb[r]&&(pb[r]=Mt.isFunction(t[r])?n=>n[r]():(n,a)=>{throw new on(`Response type '${r}' is not supported`,on.ERR_NOT_SUPPORT,a)})})})(new Response);const gG=async t=>{if(t==null)return 0;if(Mt.isBlob(t))return t.size;if(Mt.isSpecCompliantForm(t))return(await new Request(_o.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Mt.isArrayBufferView(t)||Mt.isArrayBuffer(t))return t.byteLength;if(Mt.isURLSearchParams(t)&&(t=t+""),Mt.isString(t))return(await mG(t)).byteLength},xG=async(t,r)=>{const n=Mt.toFiniteNumber(t.getContentLength());return n??gG(r)},yG=_2&&(async t=>{let{url:r,method:n,data:a,signal:i,cancelToken:o,timeout:l,onDownloadProgress:c,onUploadProgress:u,responseType:f,headers:A,withCredentials:m="same-origin",fetchOptions:p}=e8(t);f=f?(f+"").toLowerCase():"text";let g=dG([i,o&&o.toAbortSignal()],l),b;const v=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let y;try{if(u&&pG&&n!=="get"&&n!=="head"&&(y=await xG(A,a))!==0){let D=new Request(r,{method:"POST",body:a,duplex:"half"}),k;if(Mt.isFormData(a)&&(k=D.headers.get("content-type"))&&A.setContentType(k),D.body){const[L,I]=VT(y,mb(zT(u)));a=WT(D.body,qT,L,I)}}Mt.isString(m)||(m=m?"include":"omit");const j="credentials"in Request.prototype;b=new Request(r,{...p,signal:g,method:n.toUpperCase(),headers:A.normalize().toJSON(),body:a,duplex:"half",credentials:j?m:void 0});let C=await fetch(b,p);const S=vC&&(f==="stream"||f==="response");if(vC&&(c||S&&v)){const D={};["status","statusText","headers"].forEach(Y=>{D[Y]=C[Y]});const k=Mt.toFiniteNumber(C.headers.get("content-length")),[L,I]=c&&VT(k,mb(zT(c),!0))||[];C=new Response(WT(C.body,qT,L,()=>{I&&I(),v&&v()}),D)}f=f||"text";let E=await pb[Mt.findKey(pb,f)||"text"](C,t);return!S&&v&&v(),await new Promise((D,k)=>{JO(D,k,{data:E,headers:_l.from(C.headers),status:C.status,statusText:C.statusText,config:t,request:b})})}catch(j){throw v&&v(),j&&j.name==="TypeError"&&/Load failed|fetch/i.test(j.message)?Object.assign(new on("Network Error",on.ERR_NETWORK,t,b),{cause:j.cause||j}):on.from(j,j&&j.code,t,b)}}),bC={http:Pz,xhr:uG,fetch:yG};Mt.forEach(bC,(t,r)=>{if(t){try{Object.defineProperty(t,"name",{value:r})}catch{}Object.defineProperty(t,"adapterName",{value:r})}});const YT=t=>`- ${t}`,vG=t=>Mt.isFunction(t)||t===null||t===!1,n8={getAdapter:t=>{t=Mt.isArray(t)?t:[t];const{length:r}=t;let n,a;const i={};for(let o=0;o<r;o++){n=t[o];let l;if(a=n,!vG(n)&&(a=bC[(l=String(n)).toLowerCase()],a===void 0))throw new on(`Unknown adapter '${l}'`);if(a)break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(YT).join(`
`):" "+YT(o[0]):"as no adapter specified";throw new on("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a},adapters:bC};function Bj(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new fg(null,t)}function XT(t){return Bj(t),t.headers=_l.from(t.headers),t.data=Sj.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),n8.getAdapter(t.adapter||rv.adapter)(t).then(function(a){return Bj(t),a.data=Sj.call(t,t.transformResponse,a),a.headers=_l.from(a.headers),a},function(a){return XO(a)||(Bj(t),a&&a.response&&(a.response.data=Sj.call(t,t.transformResponse,a.response),a.response.headers=_l.from(a.response.headers))),Promise.reject(a)})}const s8="1.11.0",k2={};["object","boolean","number","function","string","symbol"].forEach((t,r)=>{k2[t]=function(a){return typeof a===t||"a"+(r<1?"n ":" ")+t}});const JT={};k2.transitional=function(r,n,a){function i(o,l){return"[Axios v"+s8+"] Transitional option '"+o+"'"+l+(a?". "+a:"")}return(o,l,c)=>{if(r===!1)throw new on(i(l," has been removed"+(n?" in "+n:"")),on.ERR_DEPRECATED);return n&&!JT[l]&&(JT[l]=!0,console.warn(i(l," has been deprecated since v"+n+" and will be removed in the near future"))),r?r(o,l,c):!0}};k2.spelling=function(r){return(n,a)=>(console.warn(`${a} is likely a misspelling of ${r}`),!0)};function bG(t,r,n){if(typeof t!="object")throw new on("options must be an object",on.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let i=a.length;for(;i-- >0;){const o=a[i],l=r[o];if(l){const c=t[o],u=c===void 0||l(c,o,t);if(u!==!0)throw new on("option "+o+" must be "+u,on.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new on("Unknown option "+o,on.ERR_BAD_OPTION)}}const nb={assertOptions:bG,validators:k2},Wd=nb.validators;let a0=class{constructor(r){this.defaults=r||{},this.interceptors={request:new $T,response:new $T}}async request(r,n){try{return await this._request(r,n)}catch(a){if(a instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{a.stack?o&&!String(a.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+o):a.stack=o}catch{}}throw a}}_request(r,n){typeof r=="string"?(n=n||{},n.url=r):n=r||{},n=x0(this.defaults,n);const{transitional:a,paramsSerializer:i,headers:o}=n;a!==void 0&&nb.assertOptions(a,{silentJSONParsing:Wd.transitional(Wd.boolean),forcedJSONParsing:Wd.transitional(Wd.boolean),clarifyTimeoutError:Wd.transitional(Wd.boolean)},!1),i!=null&&(Mt.isFunction(i)?n.paramsSerializer={serialize:i}:nb.assertOptions(i,{encode:Wd.function,serialize:Wd.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),nb.assertOptions(n,{baseUrl:Wd.spelling("baseURL"),withXsrfToken:Wd.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=o&&Mt.merge(o.common,o[n.method]);o&&Mt.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),n.headers=_l.concat(l,o);const c=[];let u=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(u=u&&v.synchronous,c.unshift(v.fulfilled,v.rejected))});const f=[];this.interceptors.response.forEach(function(v){f.push(v.fulfilled,v.rejected)});let A,m=0,p;if(!u){const b=[XT.bind(this),void 0];for(b.unshift(...c),b.push(...f),p=b.length,A=Promise.resolve(n);m<p;)A=A.then(b[m++],b[m++]);return A}p=c.length;let g=n;for(m=0;m<p;){const b=c[m++],v=c[m++];try{g=b(g)}catch(y){v.call(this,y);break}}try{A=XT.call(this,g)}catch(b){return Promise.reject(b)}for(m=0,p=f.length;m<p;)A=A.then(f[m++],f[m++]);return A}getUri(r){r=x0(this.defaults,r);const n=ZO(r.baseURL,r.url,r.allowAbsoluteUrls);return WO(n,r.params,r.paramsSerializer)}};Mt.forEach(["delete","get","head","options"],function(r){a0.prototype[r]=function(n,a){return this.request(x0(a||{},{method:r,url:n,data:(a||{}).data}))}});Mt.forEach(["post","put","patch"],function(r){function n(a){return function(o,l,c){return this.request(x0(c||{},{method:r,headers:a?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}a0.prototype[r]=n(),a0.prototype[r+"Form"]=n(!0)});let wG=class a8{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const a=this;this.promise.then(i=>{if(!a._listeners)return;let o=a._listeners.length;for(;o-- >0;)a._listeners[o](i);a._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(c=>{a.subscribe(c),o=c}).then(i);return l.cancel=function(){a.unsubscribe(o)},l},r(function(o,l,c){a.reason||(a.reason=new fg(o,l,c),n(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const n=this._listeners.indexOf(r);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const r=new AbortController,n=a=>{r.abort(a)};return this.subscribe(n),r.signal.unsubscribe=()=>this.unsubscribe(n),r.signal}static source(){let r;return{token:new a8(function(i){r=i}),cancel:r}}};function jG(t){return function(n){return t.apply(null,n)}}function NG(t){return Mt.isObject(t)&&t.isAxiosError===!0}const wC={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wC).forEach(([t,r])=>{wC[r]=t});function i8(t){const r=new a0(t),n=OO(a0.prototype.request,r);return Mt.extend(n,a0.prototype,r,{allOwnKeys:!0}),Mt.extend(n,r,null,{allOwnKeys:!0}),n.create=function(i){return i8(x0(t,i))},n}const Ft=i8(rv);Ft.Axios=a0;Ft.CanceledError=fg;Ft.CancelToken=wG;Ft.isCancel=XO;Ft.VERSION=s8;Ft.toFormData=I2;Ft.AxiosError=on;Ft.Cancel=Ft.CanceledError;Ft.all=function(r){return Promise.all(r)};Ft.spread=jG;Ft.isAxiosError=NG;Ft.mergeConfig=x0;Ft.AxiosHeaders=_l;Ft.formToJSON=t=>YO(Mt.isHTMLForm(t)?new FormData(t):t);Ft.getAdapter=n8.getAdapter;Ft.HttpStatusCode=wC;Ft.default=Ft;const{Axios:gCe,AxiosError:xCe,CanceledError:yCe,isCancel:vCe,CancelToken:bCe,VERSION:wCe,all:jCe,Cancel:NCe,isAxiosError:CCe,spread:SCe,toFormData:BCe,AxiosHeaders:ECe,HttpStatusCode:TCe,formToJSON:FCe,getAdapter:ICe,mergeConfig:_Ce}=Ft;function ln(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function ZT(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function P2(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function gb(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(t)}function e6(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"},child:[]},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"},child:[]}]})(t)}function Dh(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(t)}function lf(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(t)}function Ln(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(t)}function en(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function w5(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(t)}function pi(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function j5(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"},child:[]},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},child:[]}]})(t)}function gi(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function gf(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function co(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(t)}function xi(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function Yp(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function _n(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function Ch(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(t)}function id(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function Cs(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function Lo(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(t)}function Uo(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function Ds(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function cf(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(t)}function Mo(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(t)}function jC(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"},child:[]},{tag:"line",attr:{x1:"4",y1:"22",x2:"4",y2:"15"},child:[]}]})(t)}function Jd(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 12 20 22 4 22 4 12"},child:[]},{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"7"},child:[]},{tag:"path",attr:{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"},child:[]},{tag:"path",attr:{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"},child:[]}]})(t)}function xb(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(t)}function NC(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(t)}function Ma(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function y0(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(t)}function t6(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function CG(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(t)}function br(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(t)}function N5(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function gy(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function Oh(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function v0(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function SG(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"18"},child:[]},{tag:"line",attr:{x1:"16",y1:"6",x2:"16",y2:"22"},child:[]}]})(t)}function C5(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function r6(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(t)}function BG(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(t)}function EG(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function n6(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"3 11 22 2 13 21 11 13 3 11"},child:[]}]})(t)}function nl(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function TG(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"},child:[]}]})(t)}function A1(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"5",x2:"5",y2:"19"},child:[]},{tag:"circle",attr:{cx:"6.5",cy:"6.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"17.5",r:"2.5"},child:[]}]})(t)}function xf(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(t)}function $s(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function Qh(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(t)}function Ro(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(t)}function xn(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function Hx(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function s6(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(t)}function FG(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(t)}function IG(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(t)}function a6(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function Zd(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(t)}function Ss(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function Ih(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(t)}function El(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(t)}function _G(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 16 12 12 8 16"},child:[]},{tag:"line",attr:{x1:"12",y1:"12",x2:"12",y2:"21"},child:[]},{tag:"path",attr:{d:"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"},child:[]},{tag:"polyline",attr:{points:"16 16 12 12 8 16"},child:[]}]})(t)}function kG(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function PG(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(t)}function Ej(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(t)}function Ns(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function Jr(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function Qp(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(t)}function sr(t){return ar({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function DG(t){return ar({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M96 0C43 0 0 43 0 96L0 416c0 53 43 96 96 96l288 0 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l0-64c17.7 0 32-14.3 32-32l0-320c0-17.7-14.3-32-32-32L384 0 96 0zm0 384l256 0 0 64L96 448c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16l192 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-192 0c-8.8 0-16-7.2-16-16zm16 48l192 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-192 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"},child:[]}]})(t)}const OG=()=>{const t=AA(),[r,n]=w.useState(!1),[a,i]=w.useState("School Admin"),[o,l]=w.useState(localStorage.getItem("schoolLogo")||""),c=dd();console.log(o);const u=localStorage.getItem("color")||"#4f46e5",f=localStorage.getItem("schoolId"),A=localStorage.getItem("token");console.log(f),w.useEffect(()=>{(async()=>{try{const v=await Ft.get(`https://vidyaastra.com/api/schools/${f}`,{headers:{Authorization:`Bearer ${A}`}}),y=v.data;i(v.data.data.name),console.log(v)}catch(v){console.error("Error fetching school data:",v),i("School Admin")}})()},[f,A]),console.log(a,"jsfbkjsfkhfb");const m=[{id:"dashboard",path:"/dashboard",icon:Ma,label:"Dashboard",color:"text-blue-600"},{id:"students",path:"/students",icon:Jr,label:"Students",color:"text-green-600"},{id:"attendance",path:"/attendance",icon:j5,label:"Attendance",color:"text-emerald-600"},{id:"fees",path:"/fees",icon:pC,label:"Fees",color:"text-yellow-600"},{id:"result",path:"/result",icon:WV,label:"Results",color:"text-yellow-600"},{id:"subject",path:"/subject",icon:DG,label:"subject",color:"text-yellow-600"},{id:"class",path:"/classManagement",icon:OV,label:"Class",color:"text-blue-600"},{id:"timetable",path:"/timetable",icon:en,label:"Time Table",color:"text-indigo-600"},{id:"exams",path:"/exams",icon:gb,label:"Exams",color:"text-red-600"},{id:"Home work",path:"/assignments",icon:Uo,label:"Home work",color:"text-orange-600"},{id:"teachercreate",path:"/teachercreate",icon:cf,label:"Teacher Create",color:"text-teal-600"},{id:"teachers",path:"/teachers",icon:Ns,label:"Teachers",color:"text-purple-600"},{id:"transport",path:"/transport",icon:El,label:"Transport",color:"text-cyan-600"},{id:"circular",path:"/circular",icon:Dh,label:"Circular",color:"text-rose-600"},{id:"events",path:"/events",icon:Zd,label:"Events",color:"text-pink-600"},{id:"birthday",path:"/birthday",icon:Jd,label:"Birthday",color:"text-amber-600"},{id:"gallery",path:"/gallery",icon:w5,label:"Gallery",color:"text-blue-500"},{id:"holiday",path:"/holiday",icon:en,label:"Holiday",color:"text-sky-600"},{id:"uniform",path:"/uniform",icon:IG,label:"Uniform",color:"text-emerald-700"},{id:"books",path:"/books",icon:lf,label:"Books",color:"text-cyan-600"},{id:"orders",path:"/orders",icon:nl,label:"Orders",color:"text-orange-600"}],p=()=>{n(!r)},g=()=>{localStorage.removeItem("token"),localStorage.removeItem("schoolId"),localStorage.removeItem("schoolCode"),localStorage.removeItem("color"),localStorage.removeItem("schoolLogo"),t("/login")};return s.jsxs("div",{className:`shadow-xl transition-all duration-700 ease-in-out ${r?"w-22":"w-76"} h-screen sticky top-0 flex flex-col bg-white`,children:[s.jsx("div",{className:"p-6 border-b border-gray-100 flex-shrink-0",style:{backgroundColor:u},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:`flex items-center space-x-3 transition-all duration-700 ease-in-out ${r?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:[s.jsx("img",{src:`https://vidyaastra.com${o}`,alt:"School Logo",className:"w-12 h-12 rounded-xl object-contain shadow-lg",style:{backgroundColor:"white"}}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-xl font-bold text-white",children:[a," "]}),s.jsx("p",{className:"text-xs text-white font-medium",children:"Admin Panel"})]})]}),s.jsx("button",{onClick:p,className:"p-3 rounded-xl hover:bg-gray-100 active:bg-gray-200 transition-all duration-300 ease-in-out group transform hover:scale-110 active:scale-95 hover:rotate-3",style:{backgroundColor:"rgba(255, 255, 255, 0.2)"},children:s.jsxs("div",{className:"relative w-5 h-5",children:[s.jsx(C5,{className:`absolute w-5 h-5 text-white transition-all duration-500 ease-in-out transform ${r?"opacity-100 rotate-0 scale-100":"opacity-0 rotate-180 scale-75"}`}),s.jsx(sr,{className:`absolute w-5 h-5 text-white transition-all duration-500 ease-in-out transform ${r?"opacity-0 rotate-180 scale-75":"opacity-100 rotate-0 scale-100"}`})]})})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden py-4 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100 hover:scrollbar-thumb-gray-400",children:[s.jsx("nav",{className:"px-4",children:s.jsx("ul",{className:"space-y-2",children:m.map(b=>{const v=b.icon,y=c.pathname===b.path||c.pathname==="/"&&b.path==="/dashboard";return s.jsx("li",{children:s.jsxs(pf,{to:b.path,className:`w-full flex items-center space-x-3 p-3 rounded-xl transition-all duration-300 ease-in-out group ${y?"text-white shadow-lg transform scale-105":"hover:bg-gray-50 text-gray-700 hover:shadow-md hover:scale-102"}`,style:y?{backgroundColor:u}:{},children:[s.jsx(v,{className:`w-5 h-5 flex-shrink-0 ${y?"text-white":`${b.color} group-hover:scale-110`} transition-all duration-300 ease-in-out`}),s.jsx("span",{className:`font-medium transition-all duration-700 ease-in-out ${y?"text-white":"text-gray-700 group-hover:text-gray-900"} ${r?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:b.label}),y&&!r&&s.jsx("div",{className:"ml-auto w-2 h-2 bg-white rounded-full animate-pulse flex-shrink-0"})]})},b.id)})})}),s.jsx("div",{className:"px-4 pb-4 flex-shrink-0",children:s.jsxs("button",{onClick:g,className:"w-full flex items-center space-x-3 p-3 rounded-xl transition-all duration-300 ease-in-out group hover:bg-red-50 text-red-600 hover:shadow-md hover:scale-102",children:[s.jsx(gy,{className:"w-5 h-5 flex-shrink-0 text-red-600 group-hover:scale-110 transition-all duration-300 ease-in-out"}),s.jsx("span",{className:`font-medium transition-all duration-700 ease-in-out text-red-600 group-hover:text-red-700 ${r?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:"Logout"})]})})]})]})},S5=w.createContext(),LG=({children:t})=>{const[r,n]=w.useState(null),[a,i]=w.useState(!0),[o,l]=w.useState(null);w.useEffect(()=>{(async()=>{const p=localStorage.getItem("superadmin_token"),g=localStorage.getItem("superadmin_user");if(p&&g)try{const b=JSON.parse(g);n(b)}catch{f()}i(!1)})()},[]);const c=async(m,p)=>{try{const g=await Ft.post("https://vidyaastra.com/api/superadmin/login",{email:m,password:p});if(g.data.success){const b={id:g.data.data.id,email:g.data.data.email,role:"superadmin",token:g.data.token};return n(b),localStorage.setItem("superadmin_token",g.data.token),localStorage.setItem("superadmin_user",JSON.stringify(b)),!0}return!1}catch(g){return l(g.response?.data?.message||"Login failed"),!1}},u=()=>(f(),!0),f=()=>{n(null),l(null),localStorage.removeItem("superadmin_token"),localStorage.removeItem("superadmin_user")},A={user:r,loading:a,error:o,login:c,logout:u};return s.jsx(S5.Provider,{value:A,children:!a&&t})},o8=()=>{const t=w.useContext(S5);if(t===void 0)throw new Error("useAuth must be used within a SuperAdminAuthProvider");return t},UG=()=>{const t=w.useContext(S5);if(!t)throw new Error("useAuth must be used within a SuperAdminAuthProvider");return t},l8="/assets/parnets1-8a6NRplW.jpeg",MG=()=>{const[t,r]=w.useState(!1),n=dd(),{user:a,logout:i}=UG(),o=AA(),l=[{id:"dashboard",path:"/admin/dashboard",icon:Ma,label:"Dashboard",color:"text-[#F37021]"},{id:"school",path:"/admin/school",icon:Ma,label:"School",color:"text-[#F37021]"},{id:"students",path:"/admin/students",icon:Jr,label:"Students",color:"text-[#F37021]"},{id:"attendance",path:"/admin/attendance",icon:j5,label:"Attendance",color:"text-[#F37021]"},{id:"fees",path:"/admin/fees",icon:id,label:"Fees",color:"text-[#F37021]"},{id:"timetable",path:"/admin/timetable",icon:en,label:"Time Table",color:"text-[#F37021]"},{id:"exams",path:"/admin/exams",icon:cf,label:"Exams",color:"text-[#F37021]"},{id:"library",path:"/admin/library",icon:lf,label:"Library",color:"text-[#F37021]"},{id:"teachers",path:"/admin/teachers",icon:Ns,label:"Teachers",color:"text-[#F37021]"},{id:"circular",path:"/admin/circular",icon:Dh,label:"Circular",color:"text-[#F37021]"},{id:"transport",path:"/admin/transport",icon:El,label:"Transport",color:"text-[#F37021]"},{id:"events",path:"/admin/events",icon:Zd,label:"Events",color:"text-[#F37021]"},{id:"birthday",path:"/admin/birthday",icon:Zd,label:"Birthday",color:"text-[#F37021]"},{id:"gallery",path:"/admin/gallery",icon:cf,label:"Gallery",color:"text-[#F37021]"},{id:"holiday",path:"/admin/holiday",icon:Zd,label:"Holiday",color:"text-[#F37021]"},{id:"uniform",path:"/admin/uniform",icon:Zd,label:"uniform",color:"text-[#F37021]"},{id:"books",path:"/admin/books",icon:El,label:"Books",color:"text-[#F37021]"},{id:"PriceManagement",path:"/admin/PriceManagement",icon:Hx,label:"Price Management",color:"text-[#F37021]"}],c=()=>{r(!t)},u=()=>{i(),o("/superadmin-login")};return s.jsxs("div",{className:`bg-white shadow-xl transition-all duration-500 ease-in-out ${t?"w-20":"w-72"} h-screen sticky top-0 flex flex-col`,style:{margin:0,padding:0,left:0},children:[s.jsx("div",{className:"p-4 border-b border-[#1C1444]/10 flex-shrink-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:`flex items-center space-x-3 transition-all duration-500 ease-in-out ${t?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:[s.jsx("div",{className:"w-20 h-14  rounded-xl flex items-center justify-center shadow-md",children:s.jsx("img",{src:l8,alt:"Logo",className:"h-10 object-contain"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-xl font-bold text-[#1C1444] tracking-tight",children:"Super Admin Panel"})})]}),s.jsx("button",{onClick:c,className:"p-2 rounded-xl hover:bg-[#1C1444]/10 transition-all duration-300 ease-in-out group transform hover:scale-110",title:t?"Expand Sidebar":"Collapse Sidebar",children:s.jsxs("div",{className:"relative w-5 h-5",children:[s.jsx(C5,{className:`absolute w-5 h-5 text-[#1C1444] group-hover:text-[#F37021] transition-all duration-300 ease-in-out transform ${t?"opacity-100 rotate-0 scale-100":"opacity-0 rotate-180 scale-75"}`}),s.jsx(sr,{className:`absolute w-5 h-5 text-[#1C1444] group-hover:text-[#F37021] transition-all duration-300 ease-in-out transform ${t?"opacity-0 rotate-180 scale-75":"opacity-100 rotate-0 scale-100"}`})]})})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden py-4 scrollbar-thin scrollbar-thumb-[#1C1444]/20 scrollbar-track-transparent hover:scrollbar-thumb-[#1C1444]/40",children:s.jsx("nav",{className:"px-3",children:s.jsx("ul",{className:"space-y-1",children:l.map(f=>{const A=f.icon,m=n.pathname===f.path||n.pathname==="/"&&f.path==="/dashboard";return s.jsx("li",{children:s.jsxs(pf,{to:f.path,className:`w-full flex items-center space-x-3 p-3 rounded-xl transition-all duration-300 ease-in-out group ${m?"bg-[#F37021] text-white shadow-md":"hover:bg-[#1C1444]/10 text-[#1C1444] hover:shadow-sm"}`,title:t?f.label:"",children:[s.jsx(A,{className:`w-5 h-5 flex-shrink-0 ${m?"text-white":`${f.color} group-hover:scale-110`} transition-all duration-300 ease-in-out`}),s.jsx("span",{className:`font-medium text-sm transition-all duration-500 ease-in-out ${m?"text-white":"text-[#1C1444] group-hover:text-[#F37021]"} ${t?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:f.label}),m&&!t&&s.jsx("div",{className:"ml-auto w-2 h-2 bg-white rounded-full animate-pulse flex-shrink-0"})]})},f.id)})})})}),s.jsxs("div",{className:"border-t border-[#1C1444]/10 flex-shrink-0",children:[s.jsx("div",{className:`transition-all duration-500 ease-in-out ${t?"opacity-0 scale-95 pointer-events-none h-0":"opacity-100 scale-100 h-auto p-4"}`,children:s.jsxs("div",{className:"bg-[#1C1444] rounded-xl p-4 text-white shadow-md",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:s.jsx("span",{className:"text-sm font-bold text-[#F37021]",children:a?.name?.split(" ").map(f=>f[0]).join("")||"SA"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-sm text-white",children:a?.name||"Super Admin"}),s.jsx("p",{className:"text-xs text-white/80",children:a?.email||"superadmin@school.com"})]})]}),s.jsxs("button",{onClick:u,className:"w-full flex items-center justify-center space-x-2 p-2 bg-[#F37021] hover:bg-[#d55f1c] rounded-lg transition-all duration-200 ease-in-out",children:[s.jsx(gy,{className:"w-4 h-4 text-white"}),s.jsx("span",{className:"text-sm font-medium text-white",children:"Logout"})]})]})}),s.jsx("div",{className:`transition-all duration-500 ease-in-out p-4 ${t?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none h-0"}`,children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("div",{className:"w-12 h-12 bg-[#1C1444] rounded-xl flex items-center justify-center shadow-md hover:scale-105 transition-transform duration-200",children:s.jsx("span",{className:"text-white font-bold text-sm",children:a?.name?.split(" ").map(f=>f[0]).join("")||"SA"})}),s.jsx("button",{onClick:u,className:"p-3 rounded-xl hover:bg-[#1C1444]/10 transition-all duration-200 ease-in-out text-[#F37021] hover:text-[#d55f1c]",title:"Logout",children:s.jsx(gy,{className:"w-5 h-5"})})]})})]})]})};function c8(t){var r,n,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(r=0;r<i;r++)t[r]&&(n=c8(t[r]))&&(a&&(a+=" "),a+=n)}else for(n in t)t[n]&&(a&&(a+=" "),a+=n);return a}function Ot(){for(var t,r,n=0,a="",i=arguments.length;n<i;n++)(t=arguments[n])&&(r=c8(t))&&(a&&(a+=" "),a+=r);return a}const Gc="https://vidyaastra.com/api",RG=()=>localStorage.getItem("schoolId")||"688dfdc93af0f78ebd4b044a",QG=()=>{const[t,r]=w.useState(!1),[n,a]=w.useState(null),[i,o]=w.useState(new Set),[l,c]=w.useState(!1),[u,f]=w.useState(null),[A,m]=w.useState([]),[p,g]=w.useState([]),[b,v]=w.useState([]),[y,j]=w.useState([]),[C,S]=w.useState(null),[E,D]=w.useState(RG()),[k,L]=w.useState({totalStudent:0,currentStudentCount:0,remainingCapacity:0,canAddStudents:!1}),[I,Y]=w.useState(1),[Q,H]=w.useState(1),[U,K]=w.useState(10),X=localStorage.getItem("color")||"#2563eb",[Z,ee]=w.useState({name:"",className:"",section:""}),[de,Ne]=w.useState({name:"",rollNumber:"",studentId:"",schoolId:E,dob:"",gender:"Male",address:"",phone:"",email:"",password:"",fatherName:"",motherName:"",parentPhone:"",classId:"",profileImage:null});w.useEffect(()=>{(async()=>{if(!E){f("No school ID available. Please log in again."),c(!1);return}try{c(!0),f(null);const se=await fetch(`${Gc}/schools/${E}`,{headers:{Accept:"application/json"}});if(!se.ok){const it=await se.text();throw console.error("School response:",it),new Error(`Failed to fetch school: ${se.status}`)}const we=(await se.json()).data;if(we){v([we]);const it=we.totalStudent||0,et=we.currentStudentCount||0;L({totalStudent:it,currentStudentCount:et,remainingCapacity:it-et,canAddStudents:it>0})}const q=await fetch(`${Gc}/class?schoolId=${E}`,{headers:{Accept:"application/json"}});if(!q.ok)throw new Error(`Failed to fetch classes: ${q.status}`);const be=await q.json();j(Array.isArray(be.data)?be.data:[]);const Ee=await fetch(`${Gc}/students/school/${E}?page=${I}&limit=${U}`,{headers:{Accept:"application/json"}});if(!Ee.ok)throw new Error(`Failed to fetch students: ${Ee.status}`);const Re=await Ee.json();g(Re.data),H(Re.totalPages),Y(Re.currentPage),L(it=>({...it,currentStudentCount:Re.totalStudents,remainingCapacity:it.totalStudent-Re.totalStudents}))}catch(se){f(se.message),console.error("Fetch error:",se)}finally{c(!1)}})()},[E,I,U]),w.useEffect(()=>{xe()},[Z,p]);const Se=[...new Set(y.map(ce=>ce.className))],ue=()=>Z.className?[...new Set(y.filter(ce=>ce.className===Z.className).map(ce=>ce.section).filter(ce=>ce))]:[],xe=()=>{let ce=[...p];Z.name&&(ce=ce.filter(se=>se.name.toLowerCase().includes(Z.name.toLowerCase()))),Z.className&&(ce=ce.filter(se=>he(se.classId).className===Z.className)),Z.section&&(ce=ce.filter(se=>he(se.classId).section===Z.section)),m(ce)},R=(ce,se)=>{ee(je=>({...je,[ce]:se}))},G=ce=>{ee(se=>({...se,className:ce,section:""}))},ne=()=>{ee({name:"",className:"",section:""})},ae=ce=>{ce>=1&&ce<=Q&&Y(ce)},oe=ce=>{if(!ce)return"Unknown School";const se=typeof ce=="object"&&ce?._id?ce._id:ce,je=b.find(we=>we._id===se);return je?je.name:"Unknown School"},he=ce=>{if(!ce)return{className:"Unknown Class",section:"N/A"};const se=typeof ce=="object"&&ce?._id?ce._id:ce,je=y.find(we=>we._id===se);return je?{className:je.className,section:je.section||"N/A"}:{className:"Unknown Class",section:"N/A"}},me=ce=>{const se=ce.target.files[0];if(se){Ne({...de,profileImage:se});const je=new FileReader;je.onloadend=()=>S(je.result),je.readAsDataURL(se)}},te=async()=>{if(n&&n.profileImage)try{if(!(await fetch(`${Gc}/students/${n._id}/profile-image`,{method:"DELETE",headers:{Accept:"application/json"}})).ok)throw new Error("Failed to delete profile image");m(A.map(se=>se._id===n._id?{...se,profileImage:""}:se))}catch(ce){f(ce.message),console.error("Delete profile image error:",ce)}Ne({...de,profileImage:null}),S(null)},Ae=ce=>/^[A-Za-z\s]+$/.test(ce),V=ce=>/^\d{10}$/.test(ce),ie=ce=>{const{name:se,value:je}=ce.target;if(se==="name"||se==="fatherName"||se==="motherName"){(je===""||/^[A-Za-z\s]*$/.test(je))&&Ne({...de,[se]:je});return}if(se==="phone"||se==="parentPhone"){(je===""||/^\d{0,10}$/.test(je)&&je.length<=10)&&Ne({...de,[se]:je});return}Ne({...de,[se]:je})},pe=async ce=>{if(ce.preventDefault(),!Ae(de.name)){f("Name should contain only alphabets and spaces");return}if(de.fatherName&&!Ae(de.fatherName)){f("Father's name should contain only alphabets and spaces");return}if(de.motherName&&!Ae(de.motherName)){f("Mother's name should contain only alphabets and spaces");return}if(de.phone&&!V(de.phone)){f("Phone number must be exactly 10 digits");return}if(de.parentPhone&&!V(de.parentPhone)){f("Parent phone number must be exactly 10 digits");return}if(!k.canAddStudents){f("Cannot add students. School capacity is set to 0. Please contact the administrator.");return}if(k.remainingCapacity<=0){f("Cannot add students. School has reached its maximum capacity.");return}try{c(!0),f(null);const se=new FormData;Object.keys(de).forEach(be=>{be==="profileImage"&&de[be]?se.append("profileImage",de[be]):de[be]!==null&&de[be]!==""&&se.append(be,de[be])});let je;if(n)je=await fetch(`${Gc}/students/${n._id}`,{method:"PUT",body:se});else{if(!de.password)throw new Error("Password is required for new students");je=await fetch(`${Gc}/students`,{method:"POST",body:se})}if(!je.ok){const be=await je.json().catch(()=>({}));throw new Error(be.message||(n?"Failed to update student":"Failed to create student"))}const q=await(await fetch(`${Gc}/students/school/${E}?page=${I}&limit=${U}`,{headers:{Accept:"application/json"}})).json();g(q.data),H(q.totalPages),L(be=>({...be,currentStudentCount:q.totalStudents,remainingCapacity:be.totalStudent-q.totalStudents})),r(!1),a(null),ye(),f(null)}catch(se){f(se.message),console.error("Submission error:",se)}finally{c(!1)}},ye=()=>{Ne({name:"",rollNumber:"",studentId:"",schoolId:E,dob:"",gender:"Male",address:"",phone:"",email:"",password:"",fatherName:"",motherName:"",parentPhone:"",classId:"",profileImage:null}),S(null)},ge=async ce=>{if(window.confirm("Are you sure you want to delete this student?"))try{c(!0);const se=await Ft.delete(`${Gc}/students/student/${ce}`,{data:{schoolId:E}});if(se.status===200){const we=await(await fetch(`${Gc}/students/school/${E}?page=${I}&limit=${U}`,{headers:{Accept:"application/json"}})).json();g(we.data),H(we.totalPages),L(q=>({...q,currentStudentCount:we.totalStudents,remainingCapacity:q.totalStudent-we.totalStudents}))}else throw new Error(se.data.message||"Failed to delete student")}catch(se){const je=se.response?.data?.message||se.message||"Failed to delete student";f(je),console.error("Deletion error:",se)}finally{c(!1)}},le=ce=>{const se=new Set(i);se.has(ce)?se.delete(ce):se.add(ce),o(se)},Qe=ce=>{if(!ce)return"";const se=ce.split(" ");let je=se[0].substring(0,1).toUpperCase();return se.length>1&&(je+=se[se.length-1].substring(0,1).toUpperCase()),je};return w.useEffect(()=>{if(!t)ye();else if(n&&(he(n.classId),Ne({name:n.name,rollNumber:n.rollNumber,studentId:n.studentId,schoolId:E,dob:n.dob,gender:n.gender,address:n.address,phone:n.phone,email:n.email,password:"",fatherName:n.fatherName,motherName:n.motherName,parentPhone:n.parentPhone,classId:typeof n.classId=="object"?n.classId._id:n.classId,profileImage:null}),n.profileImage)){const ce=n.profileImage.startsWith("/")?n.profileImage:`/${n.profileImage}`;S(`${Gc}${ce}`)}},[t,n,E]),l&&A.length===0&&b.length===0?s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:X}})}):u?s.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error: "}),s.jsx("span",{className:"block sm:inline",children:u}),s.jsx("button",{onClick:()=>f(null),className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(sr,{className:"fill-current h-6 w-6 text-red-500"})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:Ot("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:X},children:s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Student Management"}),s.jsxs("p",{className:"text-gray-200",children:["Manage students for ",oe(E)]}),k.totalStudent===0?s.jsx("p",{className:"text-red-200",children:"Cannot add students. School capacity is set to 0. Please contact the administrator for permission."}):s.jsxs("p",{className:"text-gray-200",children:["Student Capacity: ",k.currentStudentCount," /"," ",k.totalStudent,k.remainingCapacity>0?s.jsxs("span",{children:[" ","(Can add ",k.remainingCapacity," more student",k.remainingCapacity>1?"s":"",")"]}):s.jsx("span",{children:" (No more students can be added)"})]})]}),s.jsxs("button",{onClick:()=>r(!0),className:Ot("text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2",(!k.canAddStudents||k.remainingCapacity<=0)&&"opacity-50 cursor-not-allowed"),style:{backgroundColor:X},disabled:!k.canAddStudents||k.remainingCapacity<=0,title:k.canAddStudents?k.remainingCapacity<=0?"Student limit reached":"Add a new student":"School capacity is 0. Contact administrator.",children:[s.jsx($s,{style:{color:"white"}})," ",s.jsx("span",{children:"Add Student"})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[s.jsx("div",{className:"p-6 border-b flex justify-between items-center",children:s.jsx("h2",{className:"text-lg font-bold",children:"All Students"})}),s.jsx("div",{className:"p-4 border-b bg-gray-50",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by name",value:Z.name,onChange:ce=>R("name",ce.target.value),className:"w-full pl-10 p-2 border rounded-lg"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Class"}),s.jsxs("select",{value:Z.className,onChange:ce=>G(ce.target.value),className:"w-full p-2 border rounded-lg",style:{borderColor:X,outlineColor:X},children:[s.jsx("option",{value:"",children:"All Classes"}),Se.map(ce=>s.jsx("option",{value:ce,children:ce},ce))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Section"}),s.jsxs("select",{value:Z.section,onChange:ce=>R("section",ce.target.value),className:"w-full p-2 border rounded-lg",style:{borderColor:X,outlineColor:X},disabled:!Z.className,children:[s.jsx("option",{value:"",children:"All Sections"}),ue().map(ce=>s.jsx("option",{value:ce,children:ce},ce))]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:ne,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Reset Filters"})})]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Expand"}),s.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Student"}),s.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Class"}),s.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Section"}),s.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"School"}),s.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Roll No"}),s.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y",children:A.map(ce=>{const{className:se,section:je}=he(ce.classId);return s.jsxs(s.Fragment,{children:[s.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>le(ce._id),children:[s.jsx("td",{className:"p-4",children:s.jsx("button",{onClick:we=>{we.stopPropagation(),le(ce._id)},children:i.has(ce._id)?s.jsx(gf,{style:{color:X}}):s.jsx(xi,{style:{color:X}})})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center overflow-hidden",style:{backgroundColor:`${X}20`,color:X},children:ce.profileImage?s.jsx("img",{src:`${Gc}${ce.profileImage}`,alt:ce.name,className:"w-full h-full object-cover"}):s.jsx("span",{className:"text-xl",children:Qe(ce.name)})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"font-medium",children:ce.name}),s.jsx("div",{className:"text-gray-500",children:ce.email})]})]})}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full",children:se})}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full",children:je})}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded-full",children:oe(ce.schoolId)})}),s.jsx("td",{className:"p-4",children:ce.rollNumber}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:we=>{we.stopPropagation(),a(ce),r(!0)},className:"hover:opacity-75",style:{color:X},children:s.jsx(Uo,{})}),s.jsx("button",{onClick:we=>{we.stopPropagation(),ge(ce._id)},className:"hover:opacity-75",style:{color:X},children:s.jsx(Ss,{})})]})})]},ce._id),i.has(ce._id)&&s.jsx("tr",{children:s.jsx("td",{colSpan:"7",className:"p-4 bg-gray-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Student Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium border-b pb-1",children:"Personal"}),s.jsxs("div",{className:"space-y-2 mt-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"DOB:"})," ",ce.dob?new Date(ce.dob).toLocaleDateString():"N/A"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Gender:"})," ",ce.gender]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Address:"})," ",ce.address||"N/A"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Phone:"})," ",ce.phone||"N/A"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium border-b pb-1",children:"Academic"}),s.jsxs("div",{className:"space-y-2 mt-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Class:"})," ",se]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Section:"})," ",je]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Roll No:"})," ",ce.rollNumber]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Student ID:"})," ",ce.studentId]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"School:"})," ",oe(ce.schoolId)]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium border-b pb-1",children:"Parent"}),s.jsxs("div",{className:"space-y-2 mt-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Father:"})," ",ce.fatherName||"N/A"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Mother:"})," ",ce.motherName||"N/A"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Phone:"})," ",ce.parentPhone||"N/A"]})]})]})]})]})})})]})})})]}),!A.length&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Jr,{className:"w-12 h-12 mx-auto mb-4",style:{color:X}}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No students found"}),k.canAddStudents&&k.remainingCapacity>0?s.jsx("button",{onClick:()=>r(!0),className:Ot("text-white px-4 py-2 rounded-lg shadow-lg"),style:{backgroundColor:X},children:"Add First Student"}):s.jsx("p",{className:"text-red-500",children:k.totalStudent===0?"Cannot add students. School capacity is set to 0. Please contact the administrator for permission.":"Cannot add students. School has reached its limit of "+k.totalStudent+" students."})]}),A.length>0&&s.jsxs("div",{className:"p-4 flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",I," of ",Q]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>ae(I-1),disabled:I===1,className:Ot("px-3 py-1 rounded-lg",I===1?"opacity-50 cursor-not-allowed":"hover:bg-gray-100"),style:{color:X,borderColor:X},children:s.jsx(co,{})}),s.jsx("button",{onClick:()=>ae(I+1),disabled:I===Q,className:Ot("px-3 py-1 rounded-lg",I===Q?"opacity-50 cursor-not-allowed":"hover:bg-gray-100"),style:{color:X,borderColor:X},children:s.jsx(xi,{})})]})]})]})]}),t&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-auto",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:Ot("text-white p-6 rounded-t-lg shadow-lg sticky top-0 z-10"),style:{backgroundColor:X},children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:n?"Edit Student":"Add Student"}),s.jsx("button",{onClick:()=>r(!1),className:"absolute top-4 right-4 flex items-center justify-center w-8 h-8 hover:bg-gray-100 rounded-full",style:{color:X},children:s.jsx(sr,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:pe,className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex flex-col items-center mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 overflow-hidden mb-2",children:C?s.jsx("img",{src:C||"/placeholder.svg",alt:"Preview",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:n?.profileImage?s.jsx("img",{src:`${Gc}${n.profileImage}`,alt:"Current Profile",className:"w-full h-full object-cover",onError:ce=>{ce.target.style.display="none",ce.target.parentElement.innerHTML=`<span className="text-2xl">${Qe(de.name)}</span>`}}):s.jsx("span",{className:"text-2xl",children:Qe(de.name)})})}),C||n?.profileImage?s.jsx("button",{type:"button",onClick:te,className:"absolute top-0 right-0 bg-red-500 text-white rounded-full p-1",children:s.jsx(sr,{className:"w-4 h-4"})}):null]}),s.jsxs("label",{className:"cursor-pointer mt-2",children:[s.jsx("span",{className:"hover:opacity-75",style:{color:X},children:"Upload Photo"}),s.jsx("input",{type:"file",accept:"image/*",onChange:me,className:"hidden"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{name:"name",label:"Student Name",type:"text",placeholder:"Enter student name"},{name:"classId",label:"Class",type:"select",options:y},{name:"rollNumber",label:"Roll Number",type:"text",placeholder:"Enter Roll NO"},{name:"studentId",label:"Student ID",type:"text",placeholder:"Enter student ID"},{name:"dob",label:"DOB",type:"date",placeholder:"Enter Your DOB"},{name:"gender",label:"Gender",type:"select",options:["Male","Female","Other"]},{name:"phone",label:"Phone",type:"tel",placeholder:"10-digit number only"},{name:"email",label:"Email",type:"email",placeholder:"Enter Email"},{name:"password",label:n?"New Password (Optional)":"Password",type:"password",required:!n,placeholder:"Enter New password"},{name:"fatherName",label:"Father's Name",type:"text",placeholder:"Enter father's name"},{name:"motherName",label:"Mother's Name",type:"text",placeholder:"Enter mother's name"},{name:"parentPhone",label:"Parent Phone",type:"tel",placeholder:"10-digit number only"}].map(ce=>s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:ce.label}),ce.type==="select"?s.jsxs("select",{name:ce.name,value:de[ce.name]||"",onChange:ie,className:"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:X,outlineColor:X},required:ce.required!==!1,children:[s.jsxs("option",{value:"",children:["Select ",ce.label]}),ce.name==="classId"?y.map(se=>s.jsxs("option",{value:se._id,children:[se.className," - ",se.section||"N/A"]},se._id)):ce.options.map(se=>s.jsx("option",{value:se._id||se,children:se},se._id||se))]}):s.jsx("input",{type:ce.type,name:ce.name,value:de[ce.name]||"",onChange:ie,placeholder:ce.placeholder||"",required:ce.required!==!1,className:"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:X,outlineColor:X}})]},ce.name))}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address"}),s.jsx("textarea",{name:"address",value:de.address||"",onChange:ie,required:!0,rows:"3",placeholder:"Enter address",className:"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:X,outlineColor:X}})]}),s.jsx("div",{className:"sticky bottom-0 bg-white pt-4 pb-2 border-t",children:s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>r(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{type:"submit",className:Ot("text-white px-6 py-2 rounded-lg shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2"),style:{backgroundColor:X,borderColor:X,outlineColor:X},disabled:l||!k.canAddStudents||k.remainingCapacity<=0,children:l?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n?"Updating...":"Creating..."]}):n?"Update Student":"Create Student"})]})})]})]})})]})};var Tj={exports:{}},Fj={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i6;function HG(){if(i6)return Fj;i6=1;var t=lg();function r(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return Fj.useSyncExternalStoreWithSelector=function(u,f,A,m,p){var g=i(null);if(g.current===null){var b={hasValue:!1,value:null};g.current=b}else b=g.current;g=l(function(){function y(D){if(!j){if(j=!0,C=D,D=m(D),p!==void 0&&b.hasValue){var k=b.value;if(p(k,D))return S=k}return S=D}if(k=S,n(C,D))return k;var L=m(D);return p!==void 0&&p(k,L)?(C=D,k):(C=D,S=L)}var j=!1,C,S,E=A===void 0?null:A;return[function(){return y(f())},E===null?void 0:function(){return y(E())}]},[f,A,m,p]);var v=a(u,g[0],g[1]);return o(function(){b.hasValue=!0,b.value=v},[v]),c(v),v},Fj}var o6;function $G(){return o6||(o6=1,Tj.exports=HG()),Tj.exports}var KG=$G();function VG(t){t()}function zG(){let t=null,r=null;return{clear(){t=null,r=null},notify(){VG(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let a=t;for(;a;)n.push(a),a=a.next;return n},subscribe(n){let a=!0;const i=r={callback:n,next:null,prev:r};return i.prev?i.prev.next=i:t=i,function(){!a||t===null||(a=!1,i.next?i.next.prev=i.prev:r=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var l6={notify(){},get:()=>[]};function GG(t,r){let n,a=l6,i=0,o=!1;function l(v){A();const y=a.subscribe(v);let j=!1;return()=>{j||(j=!0,y(),m())}}function c(){a.notify()}function u(){b.onStateChange&&b.onStateChange()}function f(){return o}function A(){i++,n||(n=t.subscribe(u),a=zG())}function m(){i--,n&&i===0&&(n(),n=void 0,a.clear(),a=l6)}function p(){o||(o=!0,A())}function g(){o&&(o=!1,m())}const b={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:u,isSubscribed:f,trySubscribe:p,tryUnsubscribe:g,getListeners:()=>a};return b}var WG=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qG=WG(),YG=()=>typeof navigator<"u"&&navigator.product==="ReactNative",XG=YG(),JG=()=>qG||XG?w.useLayoutEffect:w.useEffect,ZG=JG(),eW=Symbol.for("react-redux-context"),tW=typeof globalThis<"u"?globalThis:{};function rW(){if(!w.createContext)return{};const t=tW[eW]??=new Map;let r=t.get(w.createContext);return r||(r=w.createContext(null),t.set(w.createContext,r)),r}var Hh=rW();function nW(t){const{children:r,context:n,serverState:a,store:i}=t,o=w.useMemo(()=>{const u=GG(i);return{store:i,subscription:u,getServerState:a?()=>a:void 0}},[i,a]),l=w.useMemo(()=>i.getState(),[i]);ZG(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,l]);const c=n||Hh;return w.createElement(c.Provider,{value:o},r)}var u8=nW;function B5(t=Hh){return function(){return w.useContext(t)}}var d8=B5();function A8(t=Hh){const r=t===Hh?d8:B5(t),n=()=>{const{store:a}=r();return a};return Object.assign(n,{withTypes:()=>n}),n}var sW=A8();function aW(t=Hh){const r=t===Hh?sW:A8(t),n=()=>r().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var D2=aW(),iW=(t,r)=>t===r;function oW(t=Hh){const r=t===Hh?d8:B5(t),n=(a,i={})=>{const{equalityFn:o=iW}=typeof i=="function"?{equalityFn:i}:i,l=r(),{store:c,subscription:u,getServerState:f}=l;w.useRef(!0);const A=w.useCallback({[a.name](p){return a(p)}}[a.name],[a]),m=KG.useSyncExternalStoreWithSelector(u.addNestedSub,c.getState,f||c.getState,A,o);return w.useDebugValue(m),m};return Object.assign(n,{withTypes:()=>n}),n}var In=oW();const xp="https://vidyaastra.com/api",lW=()=>{const t=localStorage.getItem("schoolId"),r=localStorage.getItem("color")||"#2563eb",{classes:n,loading:a,error:i}=In(ce=>({classes:ce.classes.classes?.data||[],loading:ce.classes.loading,error:ce.classes.error})),o=new Date().toISOString().split("T")[0],[l,c]=w.useState(o),[u,f]=w.useState(""),[A,m]=w.useState(""),[p,g]=w.useState(""),[b,v]=w.useState(!1),[y,j]=w.useState([]),[C,S]=w.useState([]),[E,D]=w.useState(!1),[k,L]=w.useState(""),[I,Y]=w.useState(""),[Q,H]=w.useState(null),[U,K]=w.useState(1),[X,Z]=w.useState(1),[ee,de]=w.useState(10),Ne={present:{icon:gi,color:"text-white px-3 py-2 rounded-lg shadow-lg",style:{backgroundColor:r}},absent:{icon:sr,color:"bg-red-500 text-white",style:{backgroundColor:"#ef4444"}},late:{icon:_n,color:"bg-orange-500 text-white",style:{backgroundColor:"#f59e0b"}},holiday:{icon:Jr,color:"bg-purple-500 text-white",style:{backgroundColor:"#8b5cf6"}}},Se=ce=>{Y(ce),setTimeout(()=>Y(""),5e3)},ue=ce=>{L(ce),setTimeout(()=>L(""),5e3)};w.useEffect(()=>{if(!t){L("School ID not found. Please login again.");return}console.log("Current School ID:",t)},[t]);const xe=w.useCallback(async()=>{if(t){D(!0);try{console.log("Fetching students for schoolId:",t);const ce=await fetch(`${xp}/students/school/${t}`);if(ce.ok){const se=await ce.json();console.log("Students API response:",se);const je=Array.isArray(se.data)?se.data:[];S(je),console.log("Students loaded:",je.length)}else console.error("Failed to fetch students:",ce.status),await R()}catch(ce){console.error("Error fetching students:",ce),await R()}finally{D(!1)}}},[t]),R=async()=>{try{const ce=await fetch(`${xp}/students`);if(ce.ok){const se=await ce.json();console.log("All students API response:",se);const we=(Array.isArray(se)?se:Array.isArray(se.data)?se.data:[]).filter(q=>typeof q.schoolId=="object"&&q.schoolId?._id?q.schoolId._id===t:q.schoolId===t||q.schoolId?.toString()===t);S(we),console.log("Filtered students loaded:",we.length)}else console.error("Failed to fetch all students:",ce.status),S([]),ue("Failed to fetch students")}catch(ce){console.error("Error fetching all students:",ce),S([]),ue("Error connecting to server while fetching students.")}},G=w.useCallback(async()=>{if(!(!t||!l)){D(!0);try{console.log("Fetching attendance for school:",t,"date:",l,"page:",U,"limit:",ee);const ce=await fetch(`${xp}/attendance?schoolId=${t}&date=${l}&page=${U}&limit=${ee}`);if(ce.ok){const se=await ce.json();if(console.log("Attendance API Response:",se),!se.success)throw new Error(se.message||"Failed to fetch attendance records");j(se.data),Z(se.totalPages),K(se.currentPage),console.log("Attendance records loaded:",se.data.length)}else console.error("Failed to fetch attendance:",ce.status),j([]),ue("Failed to fetch attendance records")}catch(ce){console.error("Error fetching attendance:",ce),j([]),ue("Error connecting to server while fetching attendance.")}finally{D(!1)}}},[t,l,U,ee]);w.useEffect(()=>{t&&xe()},[t,xe]),w.useEffect(()=>{t&&l&&G()},[t,l,U,ee,G]),w.useEffect(()=>{i&&ue("Failed to load classes from Redux")},[i]);const ae=C.map(ce=>{const se=y.find(q=>q.studentId===ce._id||typeof q.studentId=="object"&&q.studentId._id===ce._id);let je="N/A",we="N/A";if(ce.classId){const q=n.find(be=>be._id===(typeof ce.classId=="object"?ce.classId._id:ce.classId));q&&(je=q.className||"N/A",we=q.section||"N/A")}return{...ce,attendanceId:se?._id,status:se?.status?.toLowerCase()||"absent",class:je,section:we,classDisplay:`${je} ${we}`.trim(),attendanceDate:se?.date}}).filter(ce=>{const se=p.toLowerCase(),je=(ce.name?.toLowerCase()||"").includes(se)||(ce.rollNumber?.toString()||"").includes(se)||(ce.studentId?.toLowerCase()||"").includes(se),we=!u||ce.class===u,q=!A||ce.section===A;return console.log(`Student: ${ce.name}, class: ${ce.class}, section: ${ce.section}, selectedClass: ${u}, selectedSection: ${A}, Matches Class: ${we}, Matches Section: ${q}`),je&&we&&q});w.useEffect(()=>{console.log("Filtered students:",ae.length,ae)},[ae]);const oe=ae.length,he=ae.filter(ce=>ce.status==="present").length,me=ae.filter(ce=>ce.status==="absent").length,te=ae.filter(ce=>ce.status==="late").length,Ae=[{icon:Jr,value:oe,label:"Total Students",color:"custom"},{icon:gi,value:he,label:"Present",color:"green"},{icon:sr,value:me,label:"Absent",color:"red"},{icon:_n,value:te,label:"Late",color:"orange"}],V=async(ce,se)=>{if(!t){ue("School ID not found. Please login again.");return}const je=C.find(we=>we._id===ce);if(!je){ue("Student not found or does not belong to your school.");return}H(ce);try{D(!0);const we=y.find(et=>et.studentId===ce||typeof et.studentId=="object"&&et.studentId._id===ce),q={studentId:ce,date:l,status:se.toLowerCase(),schoolId:t};console.log("Submitting attendance data:",q,"Existing record:",!!we);const be=we?`${xp}/attendance/${we._id}`:`${xp}/attendance`,Re=await fetch(be,{method:we?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)}),it=await Re.json();console.log("Attendance update response:",it),Re.ok?(Se(`Attendance marked as ${se} for ${je.name}`),await G()):ue(it.message||"Failed to update attendance")}catch(we){console.error("Error updating attendance:",we),ue(`Error: ${we.message}`)}finally{D(!1),H(null)}},ie=async ce=>{if(!t){ue("School ID not found. Please login again.");return}if(ae.length===0){ue("No students found to update.");return}try{D(!0);const se=ae.map(je=>V(je._id,ce));await Promise.all(se),Se(`Marked all ${ae.length} students as ${ce}`)}catch(se){console.error("Error with bulk attendance update:",se),ue(`Bulk update error: ${se.message}`)}finally{D(!1)}},pe=ce=>{const se=ce.target.value;console.log("Selected class changed to:",se),f(se),m("")},ye=ce=>{const se=ce.target.value;console.log("Selected section changed to:",se),m(se)},ge=[...new Set(n.map(ce=>ce.className))],le=()=>u?[...new Set(n.filter(ce=>ce.className===u).map(ce=>ce.section).filter(ce=>ce))]:[],Qe=ce=>{ce>=1&&ce<=X&&K(ce)};return t?E&&C.length===0?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(br,{className:"w-12 h-12 mx-auto text-blue-600 animate-spin mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-700",children:"Loading attendance data..."}),s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["School ID: ",t]})]})}):s.jsxs("div",{className:"space-y-6 p-6 bg-gray-50 min-h-screen",children:[I&&s.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[s.jsx(pi,{className:"w-5 h-5"}),s.jsx("span",{className:"block sm:inline",children:I}),s.jsx("button",{onClick:()=>Y(""),className:"ml-auto text-green-700 hover:text-green-900",children:s.jsx(sr,{className:"w-4 h-4"})})]}),k&&s.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[s.jsx(ln,{className:"w-5 h-5"}),s.jsx("span",{className:"block sm:inline",children:k}),s.jsx("button",{onClick:()=>L(""),className:"ml-auto text-red-700 hover:text-red-900",children:s.jsx(sr,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"text-black p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:r},children:[s.jsxs("div",{className:"flex justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Attendance Management"}),s.jsx("p",{className:"text-gray-200",children:"Mark and manage student attendance"}),s.jsxs("div",{className:"text-white text-sm opacity-75 mt-1",children:["School ID: ",t," | Showing ",ae.length," students",(u||A)&&" for selected filters"]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("button",{onClick:()=>v(!b),className:"text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 hover:bg-opacity-90",style:{backgroundColor:r},disabled:E,children:[s.jsx(Uo,{}),s.jsx("span",{children:b?"View Mode":"Edit Mode"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Date"}),s.jsxs("div",{className:"relative",children:[s.jsx(en,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"date",value:l,onChange:ce=>c(ce.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-offset-2 text-gray-900",style:{borderColor:r,outlineColor:r}})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Class (Optional)"}),s.jsxs("select",{value:u,onChange:pe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-offset-2 text-gray-900",style:{borderColor:r,outlineColor:r},disabled:a,children:[s.jsx("option",{value:"",children:"All Classes"}),ge.map(ce=>s.jsx("option",{value:ce,children:ce},ce))]}),a&&s.jsxs("div",{className:"text-sm text-white mt-1",children:[s.jsx(br,{className:"inline mr-1 animate-spin"})," Loading classes..."]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Section (Optional)"}),s.jsxs("select",{value:A,onChange:ye,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-offset-2 text-gray-900",style:{borderColor:r,outlineColor:r},disabled:a||!u,children:[s.jsx("option",{value:"",children:"All Sections"}),le().map(ce=>s.jsx("option",{value:ce,children:ce},ce))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Search Students"}),s.jsxs("div",{className:"relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search by name, roll no...",value:p,onChange:ce=>g(ce.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-offset-2 text-gray-900",style:{borderColor:r,outlineColor:r}})]})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:Ae.map((ce,se)=>s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4",style:{borderColor:ce.color==="custom"?r:ce.color==="green"?"#10b981":ce.color==="red"?"#ef4444":ce.color==="orange"?"#f59e0b":r,backgroundColor:ce.color==="custom"?r:"white"},children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ce.icon,{className:`w-8 h-8 ${ce.color==="custom"?"text-white":`text-${ce.color}-600`}`}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:`text-2xl font-bold ${ce.color==="custom"?"text-white":"text-gray-800"}`,children:ce.value}),s.jsx("div",{className:`text-sm ${ce.color==="custom"?"text-gray-200":"text-gray-600"}`,children:ce.label})]})]})},se))}),b&&s.jsx("div",{className:"bg-white rounded-xl p-4 shadow-lg",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Bulk Actions for ",ae.length," students:"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>ie("present"),className:"px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 text-sm disabled:opacity-50",disabled:E||ae.length===0,children:"Mark All Present"}),s.jsx("button",{onClick:()=>ie("absent"),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 text-sm disabled:opacity-50",disabled:E||ae.length===0,children:"Mark All Absent"}),s.jsx("button",{onClick:()=>ie("late"),className:"px-4 py-2 bg-orange-100 text-orange-700 rounded-lg hover:bg-orange-200 text-sm disabled:opacity-50",disabled:E||ae.length===0,children:"Mark All Late"})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-500 uppercase",children:"Roll No"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-500 uppercase",children:"Student Name"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-500 uppercase",children:"Student ID"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs text-gray-500 uppercase",children:"Class"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs text-gray-500 uppercase",children:"Attendance Status"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:ae.length>0?ae.map(ce=>{const se=ce.status||"absent",je=Ne[se]?.icon||sr,we=Ne[se]?.color||"bg-gray-500 text-white",q=Ne[se]?.style||{};return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:ce.rollNumber||"-"}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"text-white h-8 w-8 rounded-full overflow-hidden flex items-center justify-center",style:{backgroundColor:r},children:ce.profileImage?s.jsx("img",{src:`${xp.replace("/api","")}${ce.profileImage}`,alt:ce.name,className:"h-full w-full object-cover",onError:be=>{be.target.style.display="none",be.target.parentElement.innerHTML=`<div class="h-full w-full flex items-center justify-center font-semibold text-white">${ce.name?.charAt(0)||"?"}</div>`}}):s.jsx("div",{className:"h-full w-full flex items-center justify-center font-semibold text-white",children:ce.name?.charAt(0)||"?"})}),s.jsx("div",{className:"text-sm font-medium text-gray-900 ml-3",children:ce.name||"Unknown Student"})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-white px-2 py-1 text-xs font-medium rounded-full",style:{backgroundColor:r},children:ce.studentId||"-"})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:ce.classDisplay||"N/A"}),s.jsx("td",{className:"px-6 py-4",children:b?s.jsx("div",{className:"flex justify-center gap-2",children:Object.entries(Ne).map(([be,{icon:Ee,style:Re}])=>s.jsxs("button",{onClick:()=>V(ce._id,be),className:`px-3 py-2 rounded-lg text-sm font-medium flex items-center gap-1 disabled:opacity-50 ${se===be?Ne[be].color:"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:se===be?Re:{},disabled:E||Q===ce._id,children:[Q===ce._id&&se===be?s.jsx(br,{className:"w-4 h-4 animate-spin"}):s.jsx(Ee,{className:"w-4 h-4"}),s.jsx("span",{children:be.charAt(0).toUpperCase()+be.slice(1)})]},be))}):s.jsx("div",{className:"flex justify-center",children:s.jsxs("span",{className:`px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-1 ${we}`,style:q,children:[s.jsx(je,{className:"w-4 h-4"}),s.jsx("span",{className:"capitalize",children:se})]})})})]},ce._id)}):s.jsx("tr",{children:s.jsxs("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-500",children:[C.length===0?"No students found for this school":"No students match your search criteria",s.jsxs("div",{className:"text-xs mt-2",children:["School ID: ",t]})]})})})]}),ae.length>0&&s.jsxs("div",{className:"p-4 flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",U," of ",X]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>Qe(U-1),disabled:U===1,className:`px-3 py-1 rounded-lg ${U===1?"opacity-50 cursor-not-allowed":"hover:bg-gray-100"}`,style:{color:r,borderColor:r},children:s.jsx(co,{})}),s.jsx("button",{onClick:()=>Qe(U+1),disabled:U===X,className:`px-3 py-1 rounded-lg ${U===X?"opacity-50 cursor-not-allowed":"hover:bg-gray-100"}`,style:{color:r,borderColor:r},children:s.jsx(xi,{})})]})]})]})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ln,{className:"w-12 h-12 mx-auto text-red-600 mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-700",children:"School ID is required to access attendance."}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please ensure you are properly logged in."})]})})},cW=()=>{const t="https://vidyaastra.com/api/fee",r="https://vidyaastra.com/api/students/school",n=localStorage.getItem("schoolId"),a=localStorage.getItem("color")||"#2563eb",i=localStorage.getItem("adminToken")||localStorage.getItem("token"),[o,l]=w.useState([]),[c,u]=w.useState([]),[f,A]=w.useState(!1),[m,p]=w.useState(!1),[g,b]=w.useState(!1),[v,y]=w.useState(!1),[j,C]=w.useState(null),[S,E]=w.useState(null),[D,k]=w.useState(""),[L,I]=w.useState(null),[Y,Q]=w.useState(null),[H,U]=w.useState(!0),[K,X]=w.useState(null),[Z,ee]=w.useState(null),[de,Ne]=w.useState(null),[Se,ue]=w.useState(1),[xe,R]=w.useState(1),[G,ne]=w.useState(10),[ae,oe]=w.useState({studentId:"",totalAmount:"",numberOfInstallments:1,installmentType:"equal",installments:[{amount:"",dueDate:""}],schoolId:n}),[he,me]=w.useState({amount:"",paymentMethod:"",schoolId:n}),[te,Ae]=w.useState({}),[V,ie]=w.useState(!1),[pe,ye]=w.useState(!1),[ge,le]=w.useState(!1);w.useEffect(()=>{if(!n){X("School ID not found. Please login again.");return}if(!i){X("Authentication token not found. Please login again.");return}},[n,i]),w.useEffect(()=>{(async()=>{if(!(!n||!i))try{U(!0),X(null);const tt={Authorization:`Bearer ${i}`,"Content-Type":"application/json"},[gt,Kt]=await Promise.all([Ft.get(`${t}?schoolId=${n}&page=${Se}&limit=${G}`,{headers:tt}),Ft.get(`${r}/${n}`,{headers:tt})]),Ke=gt.data?.success?gt.data.data:[],Tt=Kt.data?.success?Kt.data.data:Kt.data;l(Array.isArray(Ke)?Ke:[]),u(Array.isArray(Tt)?Tt:[]),R(gt.data?.totalPages||1),ue(gt.data?.currentPage||1),U(!1)}catch(tt){console.error("Error fetching data:",tt),X(tt.response?.data?.message||tt.message),U(!1)}})()},[n,i,Se,G]);const Qe=Ce=>{console.log("[v0] studentId:",Ce),console.log("[v0] students array:",c);let tt=null;if(Ce&&typeof Ce=="object"?tt=Ce._id:typeof Ce=="string"&&(tt=Ce),tt&&c.length>0){const gt=c.find(Kt=>Kt._id===tt);if(console.log("[v0] Found full student:",gt),gt)return{name:gt.name||"Unknown Student",rollNumber:gt.rollNumber||"N/A",phone:gt.phone||"N/A",email:gt.email||"N/A",classId:{className:gt.classId?.className||gt.class||"N/A",section:gt.classId?.section||gt.section||"N/A"},fatherName:gt.fatherName||gt.father_name||null,motherName:gt.motherName||gt.mother_name||null,parentPhone:gt.parentPhone||gt.parent_phone||gt.guardianPhone||null,address:gt.address||gt.full_address||null}}return Ce&&typeof Ce=="object"?(console.log("[v0] Using studentId object as fallback:",Ce),{name:Ce.name||"Unknown Student",rollNumber:Ce.rollNumber||"N/A",phone:Ce.phone||"N/A",email:Ce.email||"N/A",classId:Ce.classId?{className:Ce.classId.className||"N/A",section:Ce.classId.section||"N/A"}:{className:"N/A",section:"N/A"},fatherName:null,motherName:null,parentPhone:null,address:null}):{name:"Unknown Student",rollNumber:"N/A",phone:"N/A",email:"N/A",classId:{className:"N/A",section:"N/A"},fatherName:null,motherName:null,parentPhone:null,address:null}},ce=(Ce,tt,gt="equal")=>{const Kt=Number.parseFloat(Ce)||0,Ke=Number.parseInt(tt)||1;if(Kt<=0||Ke<=0)return[];if(gt==="equal"){const Tt=Math.floor(Kt/Ke*100)/100,wt=Kt-Tt*Ke,Dt=[];for(let ir=0;ir<Ke;ir++){const Dr=ir===Ke-1?Tt+wt:Tt;Dt.push({amount:Dr.toFixed(2),dueDate:""})}return Dt}return Array(Ke).fill({amount:"",dueDate:""})},se=(Ce,tt,gt)=>{const Kt=ce(Ce,tt,gt);oe(Ke=>({...Ke,totalAmount:Ce,numberOfInstallments:tt,installmentType:gt,installments:Kt}))},je=Ce=>{const tt=c.find(gt=>gt._id===Ce);Ne(tt),oe(gt=>({...gt,studentId:Ce}))},we=o.filter(Ce=>{const tt=Qe(Ce.studentId);return tt&&tt.name&&tt.name.toLowerCase().includes(D.toLowerCase())}),q=Ce=>{I(Ce);const tt=Qe(Ce.studentId);Ne(tt),oe({studentId:typeof Ce.studentId=="object"?Ce.studentId._id:Ce.studentId,totalAmount:Ce.totalAmount.toString(),numberOfInstallments:Ce.numberOfInstallments,installmentType:"custom",installments:Ce.installments.map(gt=>({amount:gt.amount.toString(),dueDate:gt.dueDate.split("T")[0]})),schoolId:n}),A(!0)},be=(Ce,tt)=>{Q({fee:Ce,installmentIndex:tt});const gt=Ce.installments[tt];me({amount:gt.pending?.toString()||"",paymentMethod:"",schoolId:n}),p(!0)},Ee=async(Ce,tt)=>{try{const gt={Authorization:`Bearer ${i}`,"Content-Type":"application/json"},Kt=await Ft.get(`${t}/receipt/${Ce._id}/${tt}?schoolId=${n}`,{headers:gt});Kt.data.success&&(ee(Kt.data.data),b(!0))}catch(gt){console.error("Error fetching receipt data:",gt),X(gt.response?.data?.message||gt.message)}},Re=Ce=>{C(Ce),y(!0)},it=async Ce=>{if(!j||!n||!i){X("Authentication required. Please login again.");return}try{const tt={Authorization:`Bearer ${i}`,"Content-Type":"application/json"};(await Ft.put(`${t}/update-status/${j._id}`,{status:Ce,schoolId:n},{headers:tt})).data.success&&(l(o.map(Kt=>Kt._id===j._id?{...Kt,status:Ce}:Kt)),y(!1),C(null),X(null),await At())}catch(tt){console.error("Error updating payment status:",tt),X(tt.response?.data?.message||"Failed to update payment status")}},et=async Ce=>{if(!n||!i){X("Authentication required. Please login again.");return}if(window.confirm("Are you sure you want to delete this fee record?"))try{const tt={Authorization:`Bearer ${i}`,"Content-Type":"application/json"};(await Ft.delete(`${t}/${Ce}`,{headers:tt,data:{schoolId:n}})).data.success&&await At()}catch(tt){console.error("Error deleting fee:",tt),X(tt.response?.data?.message||tt.message)}},Ct=we.reduce((Ce,tt)=>({total:Ce.total+(tt.totalAmount||0),paid:Ce.paid+(tt.paid||0),pending:Ce.pending+(tt.pending||0)}),{total:0,paid:0,pending:0}),_t=(Ce,tt=null)=>{const{name:gt,value:Kt}=Ce.target;if(gt==="totalAmount")se(Kt,ae.numberOfInstallments,ae.installmentType);else if(gt==="numberOfInstallments"){const Ke=Number.parseInt(Kt)||1;se(ae.totalAmount,Ke,ae.installmentType)}else if(gt==="installmentType")se(ae.totalAmount,ae.numberOfInstallments,Kt);else if(gt.startsWith("installment")){const Ke=gt.split(".")[1],Tt=[...ae.installments];Tt[tt]={...Tt[tt],[Ke]:Kt},oe(wt=>({...wt,installments:Tt}))}else oe(Ke=>({...Ke,[gt]:Kt}))},ot=Ce=>{const{name:tt,value:gt}=Ce.target;me(Kt=>({...Kt,[tt]:gt}))},Ie=()=>{oe({studentId:"",totalAmount:"",numberOfInstallments:1,installmentType:"equal",installments:[{amount:"",dueDate:""}],schoolId:n}),Ne(null)},qe=async Ce=>{if(Ce.preventDefault(),!n||!i){X("Authentication required. Please login again.");return}ie(!0),X(null);try{const tt={Authorization:`Bearer ${i}`,"Content-Type":"application/json"};if(!ae.studentId||!ae.totalAmount||!ae.installments.length){X("Please fill in all required fields."),ie(!1);return}if(!ae.installments.every(wt=>wt.amount&&wt.dueDate)){X("All installments must have due dates."),ie(!1);return}const Kt=ae.installments.reduce((wt,Dt)=>wt+Number.parseFloat(Dt.amount||0),0),Ke=Number.parseFloat(ae.totalAmount);if(Math.abs(Kt-Ke)>.01){X("Total amount must match the sum of installment amounts."),ie(!1);return}const Tt={studentId:ae.studentId,totalAmount:Ke,installments:ae.installments.map(wt=>({amount:Number.parseFloat(wt.amount),dueDate:wt.dueDate})),schoolId:n};L?(await Ft.put(`${t}/${L._id}`,Tt,{headers:tt})).data.success&&(await At(),A(!1),I(null),Ie(),X(null),ye(!0),setTimeout(()=>ye(!1),3e3)):(await Ft.post(t,Tt,{headers:tt})).data.success&&(await At(),A(!1),Ie(),X(null),ye(!0),setTimeout(()=>ye(!1),3e3))}catch(tt){console.error("Error submitting form:",tt),X(tt.response?.data?.message||tt.message)}finally{ie(!1)}},at=async Ce=>{if(Ce.preventDefault(),!Y||!n||!i){X("Authentication required. Please login again.");return}try{const tt={Authorization:`Bearer ${i}`,"Content-Type":"application/json"},{fee:gt,installmentIndex:Kt}=Y,Ke=gt.installments[Kt],Tt=Number.parseFloat(he.amount);if(!Tt||Tt<=0){X("Payment amount must be greater than zero.");return}if(Tt>(Ke.pending||0)){X(`Payment amount cannot exceed pending amount of ₹${Ke.pending?.toLocaleString()}.`);return}const wt={paymentMethod:he.paymentMethod,schoolId:n};(await Ft.put(`${t}/pay-installment/${gt._id}/${Kt}`,wt,{headers:tt})).data.success&&(await At(),p(!1),Q(null),me({amount:"",paymentMethod:"",schoolId:n}),X(null))}catch(tt){console.error("Error updating installment payment:",tt),X(tt.response?.data?.message||tt.message)}},Ut=Ce=>{const tt={paid:{icon:kO,color:"text-green-700 bg-green-100",text:"Paid"},partial:{icon:hb,color:"text-orange-700 bg-orange-100",text:"Partial"},pending:{icon:Qx,color:"text-red-700 bg-red-100",text:"Pending"},overdue:{icon:Qx,color:"text-red-700 bg-red-200",text:"Overdue"}},{icon:gt,color:Kt,text:Ke}=tt[Ce]||{icon:null,color:"",text:Ce};return{Icon:gt,color:Kt,text:Ke}},Ue=Ce=>{Ce>=1&&Ce<=xe&&ue(Ce)},At=async()=>{try{U(!0),X(null);const Ce={Authorization:`Bearer ${i}`,"Content-Type":"application/json"},[tt,gt]=await Promise.all([Ft.get(`${t}?schoolId=${n}&page=${Se}&limit=${G}`,{headers:Ce}),Ft.get(`${r}/${n}`,{headers:Ce})]),Kt=tt.data?.success?tt.data.data:[],Ke=gt.data?.success?gt.data.data:gt.data;l(Array.isArray(Kt)?Kt:[]),u(Array.isArray(Ke)?Ke:[]),R(tt.data?.totalPages||1),ue(tt.data?.currentPage||1),U(!1)}catch(Ce){console.error("Error fetching data:",Ce),X(Ce.response?.data?.message||Ce.message),U(!1)}};return!n||!i?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-red-500 text-xl mb-4",children:"Authentication Required"}),s.jsx("div",{className:"text-gray-600",children:"Please login again to access the fee management system."})]})}):H?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center p-8",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-200 border-t-blue-600 mx-auto mb-6"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full animate-pulse"})})]}),s.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Loading Fee Management System"}),s.jsx("p",{className:"text-gray-500",children:"Please wait while we fetch your data..."}),s.jsxs("div",{className:"mt-4 flex justify-center space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50 p-4",children:[pe&&s.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-2 animate-in slide-in-from-top-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),s.jsxs("span",{children:["Fees ",L?"updated":"created"," successfully!"]})]}),s.jsxs("div",{className:"max-w-full mx-auto",children:[K&&s.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6 rounded-r-lg shadow-sm",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsx("div",{className:"ml-3 flex-1",children:s.jsx("p",{className:"text-sm text-red-700 font-medium",children:K})}),s.jsx("div",{className:"ml-auto pl-3",children:s.jsx("button",{onClick:()=>X(null),className:"inline-flex text-red-400 hover:text-red-600 focus:outline-none focus:text-red-600",children:s.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})}),s.jsxs("div",{className:"text-black p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:a},children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Student Fee Management"}),s.jsxs("button",{onClick:()=>{I(null),Ie(),A(!0)},className:"text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 hover:opacity-90",style:{backgroundColor:a},children:[s.jsx(VV,{})," Add Fee Record"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(DO,{className:"absolute left-3 top-3 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by student name...",value:D,onChange:Ce=>k(Ce.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 mt-6",children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[s.jsxs("div",{className:"text-xl font-bold",style:{color:a},children:["₹",Ct.total.toLocaleString()]}),s.jsx("div",{className:"text-gray-600",children:"Total Fee"})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[s.jsxs("div",{className:"text-xl font-bold text-green-600",children:["₹",Ct.paid.toLocaleString()]}),s.jsx("div",{className:"text-gray-600",children:"Paid Amount"})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[s.jsxs("div",{className:"text-xl font-bold text-red-600",children:["₹",Ct.pending.toLocaleString()]}),s.jsx("div",{className:"text-gray-600",children:"Pending Amount"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsx("tr",{children:["Student Name","Roll No","Total Amount","Paid","Pending","Installments","Status","Actions"].map((Ce,tt)=>s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:Ce},tt))})}),s.jsxs("tbody",{className:"divide-y divide-gray-200",children:[we.map(Ce=>{const tt=Qe(Ce.studentId),{Icon:gt,color:Kt,text:Ke}=Ut(Ce.status);return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:tt.name}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:tt.rollNumber}),s.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:["₹",Ce.totalAmount?.toLocaleString()]}),s.jsxs("td",{className:"px-4 py-3 text-sm text-green-600",children:["₹",Ce.paid?.toLocaleString()]}),s.jsxs("td",{className:"px-4 py-3 text-sm text-red-600",children:["₹",Ce.pending?.toLocaleString()]}),s.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[Ce.numberOfInstallments," installment(s)"]}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${Kt}`,children:[gt&&s.jsx(gt,{})," ",Ke]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>E(Ce),className:"hover:opacity-75",style:{color:a},title:"View Details",children:s.jsx(PO,{})}),s.jsx("button",{onClick:()=>q(Ce),className:"text-green-600 hover:text-green-800",title:"Edit Fee",children:s.jsx(RV,{})}),s.jsx("button",{onClick:()=>Re(Ce),className:"text-blue-600 hover:text-blue-800",title:"Change Payment Status",children:s.jsx(hb,{})}),s.jsx("button",{onClick:()=>et(Ce._id),className:"text-red-600 hover:text-red-800",title:"Delete Fee",children:s.jsx(zV,{})})]})})]},Ce._id)}),we.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:"8",className:"px-4 py-8 text-center text-gray-500",children:"No fee records found"})})]})]})}),we.length>0&&s.jsxs("div",{className:"p-4 flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",Se," of ",xe]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>Ue(Se-1),disabled:Se===1,className:`px-3 py-1 rounded-lg ${Se===1?"opacity-50 cursor-not-allowed":"hover:bg-gray-100"}`,style:{color:a,borderColor:a},children:s.jsx(LV,{})}),s.jsx("button",{onClick:()=>Ue(Se+1),disabled:Se===xe,className:`px-3 py-1 rounded-lg ${Se===xe?"opacity-50 cursor-not-allowed":"hover:bg-gray-100"}`,style:{color:a,borderColor:a},children:s.jsx(UV,{})})]})]})]})]}),f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg w-full max-w-6xl max-h-[95vh] overflow-y-auto",children:[s.jsxs("div",{className:"p-6 border-b",style:{backgroundColor:`${a}15`},children:[s.jsx("h2",{className:"text-2xl font-bold",style:{color:a},children:L?"Edit Fee Record":"Add New Fee Record"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Enter total fee amount, select installments, and set due dates"})]}),s.jsxs("form",{onSubmit:qe,className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Student"}),L?s.jsx("div",{className:"w-full px-3 py-2 border border-gray-300 rounded bg-gray-50",children:s.jsxs("span",{className:"text-gray-700",children:[de?.name," (",de?.rollNumber,") - Class"," ",de?.classId?.className||"N/A",de?.classId?.section?` Section ${de.classId.section}`:""]})}):s.jsxs("select",{name:"studentId",value:ae.studentId,onChange:Ce=>je(Ce.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2",style:{focusRingColor:a},required:!0,children:[s.jsx("option",{value:"",children:"Select Student"}),c.map(Ce=>s.jsxs("option",{value:Ce._id,children:[Ce.name," (",Ce.rollNumber,") - Class"," ",Ce.classId?.className||"N/A",Ce.classId?.section?` Section ${Ce.classId.section}`:""]},Ce._id))]})]}),de&&s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Nj,{className:"text-blue-600 text-xl mr-3"}),s.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Student Details"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Nj,{className:"text-gray-500 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Full Name"}),s.jsx("p",{className:"font-medium text-gray-800",children:de.name})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(UT,{className:"text-gray-500 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Roll Number"}),s.jsx("p",{className:"font-medium text-gray-800",children:de.rollNumber})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(UT,{className:"text-gray-500 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Class & Section"}),s.jsxs("p",{className:"font-medium text-gray-800",children:["Class"," ",de.classId?.className||"N/A"," - Section"," ",de.classId?.section||"N/A"]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(MT,{className:"text-green-500 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Student Phone"}),s.jsx("p",{className:"font-medium text-gray-800",children:de.phone})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(QV,{className:"text-blue-500 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),s.jsx("p",{className:"font-medium text-gray-800",children:de.email})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(MT,{className:"text-orange-500 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Parent Phone"}),s.jsx("p",{className:"font-medium text-gray-800",children:de.parentPhone})]})]})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(GV,{className:"text-gray-500 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Father's Name"}),s.jsx("p",{className:"font-medium text-gray-800",children:de.fatherName})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Nj,{className:"text-gray-500 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Mother's Name"}),s.jsx("p",{className:"font-medium text-gray-800",children:de.motherName})]})]})]}),s.jsxs("div",{className:"mt-3 flex items-start",children:[s.jsx($V,{className:"text-gray-500 mr-2 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Address"}),s.jsx("p",{className:"font-medium text-gray-800 text-sm",children:de.address})]})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx(DV,{className:"text-yellow-600 mr-2"}),s.jsx("label",{className:"text-base font-semibold text-yellow-800",children:"Total Fee Amount *"})]}),s.jsx("input",{type:"number",name:"totalAmount",value:ae.totalAmount,onChange:_t,placeholder:"Enter total fee amount (e.g., 15000)",className:"w-full px-4 py-3 border border-yellow-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 text-lg font-medium",required:!0,min:"1",step:"0.01"}),s.jsx("p",{className:"text-sm text-yellow-700 mt-2",children:"Enter the total fee amount. It will be automatically divided into installments."})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx(LT,{className:"text-blue-600 mr-2"}),s.jsx("label",{className:"text-base font-semibold text-blue-800",children:"Installment Configuration"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-blue-700 mb-1",children:"Number of Installments"}),s.jsx("select",{name:"numberOfInstallments",value:ae.numberOfInstallments,onChange:_t,className:"w-full px-3 py-2 border border-blue-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[1,2,3,4,5,6].map(Ce=>s.jsxs("option",{value:Ce,children:[Ce," Installment",Ce>1?"s":""]},Ce))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-blue-700 mb-1",children:"Division Type"}),s.jsxs("select",{name:"installmentType",value:ae.installmentType,onChange:_t,className:"w-full px-3 py-2 border border-blue-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"equal",children:"Equal Amounts"}),s.jsx("option",{value:"custom",children:"Custom Amounts"})]})]})]}),ae.totalAmount&&s.jsxs("div",{className:"text-sm text-blue-700 bg-blue-100 p-2 rounded",children:[s.jsx("strong",{children:"Preview:"})," ₹",Number.parseFloat(ae.totalAmount||0).toLocaleString()," ","÷ ",ae.numberOfInstallments," installments = ₹",(Number.parseFloat(ae.totalAmount||0)/ae.numberOfInstallments).toLocaleString()," ","per installment"]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3 flex items-center",children:[s.jsx(LT,{className:"mr-2"}),"Installment Due Dates *"]}),s.jsx("div",{className:"space-y-3",children:ae.installments.map((Ce,tt)=>s.jsxs("div",{className:"flex gap-3 p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("label",{className:"block text-xs text-gray-500 mb-1",children:["Installment ",tt+1," Amount"]}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"₹"}),s.jsx("input",{type:"number",name:`installment.amount.${tt}`,value:Ce.amount,onChange:gt=>_t(gt,tt),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 bg-white",required:!0,min:"1",step:"0.01",readOnly:ae.installmentType==="equal"})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Due Date"}),s.jsx("input",{type:"date",name:`installment.dueDate.${tt}`,value:Ce.dueDate,onChange:gt=>_t(gt,tt),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2",required:!0})]})]},tt))})]}),ae.totalAmount&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"font-semibold text-green-800",children:"Fee Summary:"}),s.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["₹",Number.parseFloat(ae.totalAmount||0).toLocaleString()]})]}),s.jsxs("div",{className:"text-sm text-green-600",children:[ae.numberOfInstallments," installment(s) configured"]}),s.jsx("div",{className:"text-xs text-green-500 mt-1",children:ae.installmentType==="equal"?"Equal installments":"Custom installments"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-8 pt-6 border-t",children:[s.jsx("button",{type:"button",onClick:()=>{A(!1),I(null),Ie(),X(null)},className:"px-6 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{type:"submit",className:"text-white px-6 py-2 rounded-lg shadow-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",style:{backgroundColor:a},disabled:V||!(ae.studentId&&ae.totalAmount&&ae.installments.every(Ce=>Ce.amount&&Ce.dueDate)),children:V?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),L?"Updating...":"Creating..."]}):L?"Update Fee Record":"Create Fee Record"})]})]})]})}),m&&Y&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Record Installment Payment"}),s.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Paying for Installment ",Y.installmentIndex+1," ","(Pending: ₹",Y.fee.installments[Y.installmentIndex].pending?.toLocaleString(),")"]}),s.jsxs("form",{onSubmit:at,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Amount *"}),s.jsx("input",{type:"number",name:"amount",value:he.amount,onChange:ot,placeholder:"Enter payment amount",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2",required:!0,min:"1",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method *"}),s.jsxs("select",{name:"paymentMethod",value:he.paymentMethod,onChange:ot,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2",required:!0,children:[s.jsx("option",{value:"",children:"Select Payment Method"}),s.jsx("option",{value:"Cash",children:"Cash"}),s.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),s.jsx("option",{value:"Cheque",children:"Cheque"}),s.jsx("option",{value:"Online",children:"Online Payment"}),s.jsx("option",{value:"UPI",children:"UPI"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{type:"button",onClick:()=>{p(!1),Q(null),me({amount:"",paymentMethod:"",schoolId:n})},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{type:"submit",className:"text-white px-4 py-2 rounded-lg shadow-lg hover:opacity-90",style:{backgroundColor:a},children:"Record Payment"})]})]})]})}),g&&Z&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Payment Receipt"}),s.jsx("button",{onClick:()=>b(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"×"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border-b pb-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:Z.school.name}),s.jsx("p",{className:"text-sm text-gray-600",children:Z.school.address})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Receipt Number"}),s.jsx("div",{className:"font-medium",children:Z.installment.receiptNumber})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Payment Date"}),s.jsx("div",{className:"font-medium",children:Z.installment.paidDate?new Date(Z.installment.paidDate).toLocaleDateString():"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Student Name"}),s.jsx("div",{className:"font-medium",children:Z.student.name})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Roll Number"}),s.jsx("div",{className:"font-medium",children:Z.student.rollNumber})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Term"}),s.jsx("div",{className:"font-medium",children:Z.fee.term})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Amount Paid"}),s.jsxs("div",{className:"font-medium",children:["₹",Z.installment.paid?.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Payment Method"}),s.jsx("div",{className:"font-medium",children:Z.installment.paymentMethod})]})]}),s.jsxs("div",{className:"mt-4 text-center text-sm text-gray-600",children:["Issued on: ",new Date().toLocaleDateString()]})]})]})}),S&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Fee Record Details"}),s.jsx("button",{onClick:()=>E(null),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"×"})]}),s.jsx("div",{className:"space-y-6",children:(()=>{const Ce=Qe(S.studentId),{Icon:tt,color:gt,text:Kt}=Ut(S.status);return s.jsxs("div",{children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Student Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Student Name"}),s.jsx("p",{className:"text-sm text-gray-900",children:Ce.name})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Roll Number"}),s.jsx("p",{className:"text-sm text-gray-900",children:Ce.rollNumber})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Class & Section"}),s.jsxs("p",{className:"text-sm text-gray-900",children:[Ce.classId?.className," -"," ",Ce.classId?.section]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Student Phone"}),s.jsx("p",{className:"text-sm text-gray-900",children:Ce.phone})]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Student Email"}),s.jsx("p",{className:"text-sm text-gray-900",children:Ce.email})]})}),(Ce.fatherName||Ce.motherName||Ce.parentPhone||Ce.address)&&s.jsxs(s.Fragment,{children:[s.jsx("hr",{className:"my-4"}),s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Additional Details"}),(Ce.fatherName||Ce.motherName)&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Ce.fatherName&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Father's Name"}),s.jsx("p",{className:"text-sm text-gray-900",children:Ce.fatherName})]}),Ce.motherName&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Mother's Name"}),s.jsx("p",{className:"text-sm text-gray-900",children:Ce.motherName})]})]}),Ce.parentPhone&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Parent Phone"}),s.jsx("p",{className:"text-sm text-gray-900",children:Ce.parentPhone})]}),Ce.address&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Address"}),s.jsx("p",{className:"text-sm text-gray-900",children:Ce.address})]})]})]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Fee Information"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 block",children:"Term"}),s.jsx("div",{className:"font-medium text-gray-900",children:S.term})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 block",children:"Total Amount"}),s.jsxs("div",{className:"font-medium text-gray-900",children:["₹",S.totalAmount?.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 block",children:"Created Date"}),s.jsx("div",{className:"font-medium text-gray-900",children:S.createdAt?new Date(S.createdAt).toLocaleDateString():"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 block",children:"Overall Status"}),s.jsx("div",{children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${gt}`,children:[tt&&s.jsx(tt,{}),Kt]})})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Installment Details"}),s.jsx("div",{className:"space-y-3",children:S.installments?.map((Ke,Tt)=>{const{Icon:wt,color:Dt,text:ir}=Ut(Ke.status);return s.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-medium text-gray-900",children:["Installment ",Tt+1]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["Due:"," ",new Date(Ke.dueDate).toLocaleDateString()]})]}),s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${Dt}`,children:[wt&&s.jsx(wt,{}),ir]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Amount:"}),s.jsxs("div",{className:"font-medium",children:["₹",Ke.amount?.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Paid:"}),s.jsxs("div",{className:"font-medium text-green-600",children:["₹",Ke.paid?.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Pending:"}),s.jsxs("div",{className:"font-medium text-red-600",children:["₹",Ke.pending?.toLocaleString()]})]})]}),Ke.paidDate&&s.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Paid on:"," ",new Date(Ke.paidDate).toLocaleDateString()]}),Ke.receiptNumber&&s.jsxs("div",{className:"mt-1 text-sm text-gray-600",children:["Receipt: ",Ke.receiptNumber]}),Ke.paymentMethod&&s.jsxs("div",{className:"mt-1 text-sm text-gray-600",children:["Method: ",Ke.paymentMethod]}),s.jsxs("div",{className:"mt-2 space-x-2",children:[Ke.status!=="paid"&&Ke.pending>0&&s.jsxs("button",{onClick:()=>be(S,Tt),className:"text-white px-3 py-1 rounded text-sm hover:opacity-90",style:{backgroundColor:a},children:[s.jsx(KV,{className:"inline mr-1"}),"Record Payment"]}),Ke.status==="paid"&&s.jsxs("button",{onClick:()=>Ee(S,Tt),className:"text-blue-600 px-3 py-1 rounded text-sm hover:text-blue-800",children:[s.jsx(HV,{className:"inline mr-1"}),"View Receipt"]})]})]},Tt)})})]})]})})()})]})}),v&&j&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Change Payment Status"}),s.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Student: ",Qe(j.studentId).name,s.jsx("br",{}),"Current Status:"," ",s.jsx("span",{className:"font-medium",children:j.status})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Select New Status:"}),["pending","partial","paid","overdue"].map(Ce=>s.jsxs("button",{onClick:()=>it(Ce),className:`w-full p-3 text-left rounded-lg border-2 transition-colors ${j.status===Ce?"border-gray-400 bg-gray-100 cursor-not-allowed":"border-gray-200 hover:border-blue-300 hover:bg-blue-50"}`,disabled:j.status===Ce,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium capitalize",children:Ce}),(()=>{const{Icon:tt,color:gt}=Ut(Ce);return tt&&s.jsx(tt,{className:gt.split(" ")[0]})})()]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[Ce==="pending"&&"No payment received",Ce==="partial"&&"Partial payment received",Ce==="paid"&&"Full payment completed",Ce==="overdue"&&"Payment is overdue"]})]},Ce))]}),s.jsx("div",{className:"flex justify-end space-x-3 mt-6",children:s.jsx("button",{type:"button",onClick:()=>{y(!1),C(null)},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",children:"Cancel"})})]})})]})};function eo(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var uW=typeof Symbol=="function"&&Symbol.observable||"@@observable",c6=uW,Ij=()=>Math.random().toString(36).substring(7).split("").join("."),dW={INIT:`@@redux/INIT${Ij()}`,REPLACE:`@@redux/REPLACE${Ij()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ij()}`},yb=dW;function E5(t){if(typeof t!="object"||t===null)return!1;let r=t;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r||Object.getPrototypeOf(t)===null}function f8(t,r,n){if(typeof t!="function")throw new Error(eo(2));if(typeof r=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(eo(0));if(typeof r=="function"&&typeof n>"u"&&(n=r,r=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(eo(1));return n(f8)(t,r)}let a=t,i=r,o=new Map,l=o,c=0,u=!1;function f(){l===o&&(l=new Map,o.forEach((y,j)=>{l.set(j,y)}))}function A(){if(u)throw new Error(eo(3));return i}function m(y){if(typeof y!="function")throw new Error(eo(4));if(u)throw new Error(eo(5));let j=!0;f();const C=c++;return l.set(C,y),function(){if(j){if(u)throw new Error(eo(6));j=!1,f(),l.delete(C),o=null}}}function p(y){if(!E5(y))throw new Error(eo(7));if(typeof y.type>"u")throw new Error(eo(8));if(typeof y.type!="string")throw new Error(eo(17));if(u)throw new Error(eo(9));try{u=!0,i=a(i,y)}finally{u=!1}return(o=l).forEach(C=>{C()}),y}function g(y){if(typeof y!="function")throw new Error(eo(10));a=y,p({type:yb.REPLACE})}function b(){const y=m;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(eo(11));function C(){const E=j;E.next&&E.next(A())}return C(),{unsubscribe:y(C)}},[c6](){return this}}}return p({type:yb.INIT}),{dispatch:p,subscribe:m,getState:A,replaceReducer:g,[c6]:b}}function AW(t){Object.keys(t).forEach(r=>{const n=t[r];if(typeof n(void 0,{type:yb.INIT})>"u")throw new Error(eo(12));if(typeof n(void 0,{type:yb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(eo(13))})}function h8(t){const r=Object.keys(t),n={};for(let o=0;o<r.length;o++){const l=r[o];typeof t[l]=="function"&&(n[l]=t[l])}const a=Object.keys(n);let i;try{AW(n)}catch(o){i=o}return function(l={},c){if(i)throw i;let u=!1;const f={};for(let A=0;A<a.length;A++){const m=a[A],p=n[m],g=l[m],b=p(g,c);if(typeof b>"u")throw c&&c.type,new Error(eo(14));f[m]=b,u=u||b!==g}return u=u||a.length!==Object.keys(l).length,u?f:l}}function vb(...t){return t.length===0?r=>r:t.length===1?t[0]:t.reduce((r,n)=>(...a)=>r(n(...a)))}function fW(...t){return r=>(n,a)=>{const i=r(n,a);let o=()=>{throw new Error(eo(15))};const l={getState:i.getState,dispatch:(u,...f)=>o(u,...f)},c=t.map(u=>u(l));return o=vb(...c)(i.dispatch),{...i,dispatch:o}}}function m8(t){return E5(t)&&"type"in t&&typeof t.type=="string"}var p8=Symbol.for("immer-nothing"),u6=Symbol.for("immer-draftable"),gc=Symbol.for("immer-state");function nd(t,...r){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Xp=Object.getPrototypeOf;function b0(t){return!!t&&!!t[gc]}function yf(t){return t?g8(t)||Array.isArray(t)||!!t[u6]||!!t.constructor?.[u6]||L2(t)||U2(t):!1}var hW=Object.prototype.constructor.toString();function g8(t){if(!t||typeof t!="object")return!1;const r=Xp(t);if(r===null)return!0;const n=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===hW}function bb(t,r){O2(t)===0?Reflect.ownKeys(t).forEach(n=>{r(n,t[n],t)}):t.forEach((n,a)=>r(a,n,t))}function O2(t){const r=t[gc];return r?r.type_:Array.isArray(t)?1:L2(t)?2:U2(t)?3:0}function CC(t,r){return O2(t)===2?t.has(r):Object.prototype.hasOwnProperty.call(t,r)}function x8(t,r,n){const a=O2(t);a===2?t.set(r,n):a===3?t.add(n):t[r]=n}function mW(t,r){return t===r?t!==0||1/t===1/r:t!==t&&r!==r}function L2(t){return t instanceof Map}function U2(t){return t instanceof Set}function Hm(t){return t.copy_||t.base_}function SC(t,r){if(L2(t))return new Map(t);if(U2(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=g8(t);if(r===!0||r==="class_only"&&!n){const a=Object.getOwnPropertyDescriptors(t);delete a[gc];let i=Reflect.ownKeys(a);for(let o=0;o<i.length;o++){const l=i[o],c=a[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(a[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(Xp(t),a)}else{const a=Xp(t);if(a!==null&&n)return{...t};const i=Object.create(a);return Object.assign(i,t)}}function T5(t,r=!1){return M2(t)||b0(t)||!yf(t)||(O2(t)>1&&(t.set=t.add=t.clear=t.delete=pW),Object.freeze(t),r&&Object.entries(t).forEach(([n,a])=>T5(a,!0))),t}function pW(){nd(2)}function M2(t){return Object.isFrozen(t)}var gW={};function w0(t){const r=gW[t];return r||nd(0,t),r}var xy;function y8(){return xy}function xW(t,r){return{drafts_:[],parent_:t,immer_:r,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function d6(t,r){r&&(w0("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=r)}function BC(t){EC(t),t.drafts_.forEach(yW),t.drafts_=null}function EC(t){t===xy&&(xy=t.parent_)}function A6(t){return xy=xW(xy,t)}function yW(t){const r=t[gc];r.type_===0||r.type_===1?r.revoke_():r.revoked_=!0}function f6(t,r){r.unfinalizedDrafts_=r.drafts_.length;const n=r.drafts_[0];return t!==void 0&&t!==n?(n[gc].modified_&&(BC(r),nd(4)),yf(t)&&(t=wb(r,t),r.parent_||jb(r,t)),r.patches_&&w0("Patches").generateReplacementPatches_(n[gc].base_,t,r.patches_,r.inversePatches_)):t=wb(r,n,[]),BC(r),r.patches_&&r.patchListener_(r.patches_,r.inversePatches_),t!==p8?t:void 0}function wb(t,r,n){if(M2(r))return r;const a=r[gc];if(!a)return bb(r,(i,o)=>h6(t,a,r,i,o,n)),r;if(a.scope_!==t)return r;if(!a.modified_)return jb(t,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,l=!1;a.type_===3&&(o=new Set(i),i.clear(),l=!0),bb(o,(c,u)=>h6(t,a,i,c,u,n,l)),jb(t,i,!1),n&&t.patches_&&w0("Patches").generatePatches_(a,n,t.patches_,t.inversePatches_)}return a.copy_}function h6(t,r,n,a,i,o,l){if(b0(i)){const c=o&&r&&r.type_!==3&&!CC(r.assigned_,a)?o.concat(a):void 0,u=wb(t,i,c);if(x8(n,a,u),b0(u))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(yf(i)&&!M2(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;wb(t,i),(!r||!r.scope_.parent_)&&typeof a!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,a)&&jb(t,i)}}function jb(t,r,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&T5(r,n)}function vW(t,r){const n=Array.isArray(t),a={type_:n?1:0,scope_:r?r.scope_:y8(),modified_:!1,finalized_:!1,assigned_:{},parent_:r,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=a,o=F5;n&&(i=[a],o=yy);const{revoke:l,proxy:c}=Proxy.revocable(i,o);return a.draft_=c,a.revoke_=l,c}var F5={get(t,r){if(r===gc)return t;const n=Hm(t);if(!CC(n,r))return bW(t,n,r);const a=n[r];return t.finalized_||!yf(a)?a:a===_j(t.base_,r)?(kj(t),t.copy_[r]=FC(a,t)):a},has(t,r){return r in Hm(t)},ownKeys(t){return Reflect.ownKeys(Hm(t))},set(t,r,n){const a=v8(Hm(t),r);if(a?.set)return a.set.call(t.draft_,n),!0;if(!t.modified_){const i=_j(Hm(t),r),o=i?.[gc];if(o&&o.base_===n)return t.copy_[r]=n,t.assigned_[r]=!1,!0;if(mW(n,i)&&(n!==void 0||CC(t.base_,r)))return!0;kj(t),TC(t)}return t.copy_[r]===n&&(n!==void 0||r in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[r])||(t.copy_[r]=n,t.assigned_[r]=!0),!0},deleteProperty(t,r){return _j(t.base_,r)!==void 0||r in t.base_?(t.assigned_[r]=!1,kj(t),TC(t)):delete t.assigned_[r],t.copy_&&delete t.copy_[r],!0},getOwnPropertyDescriptor(t,r){const n=Hm(t),a=Reflect.getOwnPropertyDescriptor(n,r);return a&&{writable:!0,configurable:t.type_!==1||r!=="length",enumerable:a.enumerable,value:n[r]}},defineProperty(){nd(11)},getPrototypeOf(t){return Xp(t.base_)},setPrototypeOf(){nd(12)}},yy={};bb(F5,(t,r)=>{yy[t]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}});yy.deleteProperty=function(t,r){return yy.set.call(this,t,r,void 0)};yy.set=function(t,r,n){return F5.set.call(this,t[0],r,n,t[0])};function _j(t,r){const n=t[gc];return(n?Hm(n):t)[r]}function bW(t,r,n){const a=v8(r,n);return a?"value"in a?a.value:a.get?.call(t.draft_):void 0}function v8(t,r){if(!(r in t))return;let n=Xp(t);for(;n;){const a=Object.getOwnPropertyDescriptor(n,r);if(a)return a;n=Xp(n)}}function TC(t){t.modified_||(t.modified_=!0,t.parent_&&TC(t.parent_))}function kj(t){t.copy_||(t.copy_=SC(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var wW=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(r,n,a)=>{if(typeof r=="function"&&typeof n!="function"){const o=n;n=r;const l=this;return function(u=o,...f){return l.produce(u,A=>n.call(this,A,...f))}}typeof n!="function"&&nd(6),a!==void 0&&typeof a!="function"&&nd(7);let i;if(yf(r)){const o=A6(this),l=FC(r,void 0);let c=!0;try{i=n(l),c=!1}finally{c?BC(o):EC(o)}return d6(o,a),f6(i,o)}else if(!r||typeof r!="object"){if(i=n(r),i===void 0&&(i=r),i===p8&&(i=void 0),this.autoFreeze_&&T5(i,!0),a){const o=[],l=[];w0("Patches").generateReplacementPatches_(r,i,o,l),a(o,l)}return i}else nd(1,r)},this.produceWithPatches=(r,n)=>{if(typeof r=="function")return(l,...c)=>this.produceWithPatches(l,u=>r(u,...c));let a,i;return[this.produce(r,n,(l,c)=>{a=l,i=c}),a,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){yf(t)||nd(8),b0(t)&&(t=uf(t));const r=A6(this),n=FC(t,void 0);return n[gc].isManual_=!0,EC(r),n}finishDraft(t,r){const n=t&&t[gc];(!n||!n.isManual_)&&nd(9);const{scope_:a}=n;return d6(a,r),f6(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=w0("Patches").applyPatches_;return b0(t)?a(t,r):this.produce(t,i=>a(i,r))}};function FC(t,r){const n=L2(t)?w0("MapSet").proxyMap_(t,r):U2(t)?w0("MapSet").proxySet_(t,r):vW(t,r);return(r?r.scope_:y8()).drafts_.push(n),n}function uf(t){return b0(t)||nd(10,t),b8(t)}function b8(t){if(!yf(t)||M2(t))return t;const r=t[gc];let n;if(r){if(!r.modified_)return r.base_;r.finalized_=!0,n=SC(t,r.scope_.immer_.useStrictShallowCopy_)}else n=SC(t,!0);return bb(n,(a,i)=>{x8(n,a,b8(i))}),r&&(r.finalized_=!1),n}var xc=new wW,w8=xc.produce;xc.produceWithPatches.bind(xc);xc.setAutoFreeze.bind(xc);xc.setUseStrictShallowCopy.bind(xc);xc.applyPatches.bind(xc);xc.createDraft.bind(xc);xc.finishDraft.bind(xc);function jW(t,r=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(r)}function NW(t,r=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(r)}function CW(t,r="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${r}[${n}]`)}}var m6=t=>Array.isArray(t)?t:[t];function SW(t){const r=Array.isArray(t[0])?t[0]:t;return CW(r,"createSelector expects all input-selectors to be functions, but received the following types: "),r}function BW(t,r){const n=[],{length:a}=t;for(let i=0;i<a;i++)n.push(t[i].apply(null,r));return n}var EW=class{constructor(t){this.value=t}deref(){return this.value}},TW=typeof WeakRef<"u"?WeakRef:EW,FW=0,p6=1;function f1(){return{s:FW,v:void 0,o:null,p:null}}function j8(t,r={}){let n=f1();const{resultEqualityCheck:a}=r;let i,o=0;function l(){let c=n;const{length:u}=arguments;for(let m=0,p=u;m<p;m++){const g=arguments[m];if(typeof g=="function"||typeof g=="object"&&g!==null){let b=c.o;b===null&&(c.o=b=new WeakMap);const v=b.get(g);v===void 0?(c=f1(),b.set(g,c)):c=v}else{let b=c.p;b===null&&(c.p=b=new Map);const v=b.get(g);v===void 0?(c=f1(),b.set(g,c)):c=v}}const f=c;let A;if(c.s===p6)A=c.v;else if(A=t.apply(null,arguments),o++,a){const m=i?.deref?.()??i;m!=null&&a(m,A)&&(A=m,o!==0&&o--),i=typeof A=="object"&&A!==null||typeof A=="function"?new TW(A):A}return f.s=p6,f.v=A,A}return l.clearCache=()=>{n=f1(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function IW(t,...r){const n=typeof t=="function"?{memoize:t,memoizeOptions:r}:t,a=(...i)=>{let o=0,l=0,c,u={},f=i.pop();typeof f=="object"&&(u=f,f=i.pop()),jW(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const A={...n,...u},{memoize:m,memoizeOptions:p=[],argsMemoize:g=j8,argsMemoizeOptions:b=[]}=A,v=m6(p),y=m6(b),j=SW(i),C=m(function(){return o++,f.apply(null,arguments)},...v),S=g(function(){l++;const D=BW(j,arguments);return c=C.apply(null,D),c},...y);return Object.assign(S,{resultFunc:f,memoizedResultFunc:C,dependencies:j,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:m,argsMemoize:g})};return Object.assign(a,{withTypes:()=>a}),a}var Lt=IW(j8),_W=Object.assign((t,r=Lt)=>{NW(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),a=n.map(o=>t[o]);return r(a,(...o)=>o.reduce((l,c,u)=>(l[n[u]]=c,l),{}))},{withTypes:()=>_W});function N8(t){return({dispatch:n,getState:a})=>i=>o=>typeof o=="function"?o(n,a,t):i(o)}var kW=N8(),PW=N8,DW=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?vb:vb.apply(null,arguments)},OW=t=>t&&typeof t.match=="function";function ol(t,r){function n(...a){if(r){let i=r(...a);if(!i)throw new Error(pc(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:a[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=a=>m8(a)&&a.type===t,n}var C8=class Lx extends Array{constructor(...r){super(...r),Object.setPrototypeOf(this,Lx.prototype)}static get[Symbol.species](){return Lx}concat(...r){return super.concat.apply(this,r)}prepend(...r){return r.length===1&&Array.isArray(r[0])?new Lx(...r[0].concat(this)):new Lx(...r.concat(this))}};function g6(t){return yf(t)?w8(t,()=>{}):t}function h1(t,r,n){return t.has(r)?t.get(r):t.set(r,n(r)).get(r)}function LW(t){return typeof t=="boolean"}var UW=()=>function(r){const{thunk:n=!0,immutableCheck:a=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=r??{};let l=new C8;return n&&(LW(n)?l.push(kW):l.push(PW(n.extraArgument))),l},MW="RTK_autoBatch",x6=t=>r=>{setTimeout(r,t)},RW=(t={type:"raf"})=>r=>(...n)=>{const a=r(...n);let i=!0,o=!1,l=!1;const c=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:x6(10):t.type==="callback"?t.queueNotification:x6(t.timeout),f=()=>{l=!1,o&&(o=!1,c.forEach(A=>A()))};return Object.assign({},a,{subscribe(A){const m=()=>i&&A(),p=a.subscribe(m);return c.add(A),()=>{p(),c.delete(A)}},dispatch(A){try{return i=!A?.meta?.[MW],o=!i,o&&(l||(l=!0,u(f))),a.dispatch(A)}finally{i=!0}}})},QW=t=>function(n){const{autoBatch:a=!0}=n??{};let i=new C8(t);return a&&i.push(RW(typeof a=="object"?a:void 0)),i};function S8(t){const r=UW(),{reducer:n=void 0,middleware:a,devTools:i=!0,duplicateMiddlewareCheck:o=!0,preloadedState:l=void 0,enhancers:c=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(E5(n))u=h8(n);else throw new Error(pc(1));let f;typeof a=="function"?f=a(r):f=r();let A=vb;i&&(A=DW({trace:!1,...typeof i=="object"&&i}));const m=fW(...f),p=QW(m);let g=typeof c=="function"?c(p):p();const b=A(...g);return f8(u,l,b)}function B8(t){const r={},n=[];let a;const i={addCase(o,l){const c=typeof o=="string"?o:o.type;if(!c)throw new Error(pc(28));if(c in r)throw new Error(pc(29));return r[c]=l,i},addMatcher(o,l){return n.push({matcher:o,reducer:l}),i},addDefaultCase(o){return a=o,i}};return t(i),[r,n,a]}function HW(t){return typeof t=="function"}function $W(t,r){let[n,a,i]=B8(r),o;if(HW(t))o=()=>g6(t());else{const c=g6(t);o=()=>c}function l(c=o(),u){let f=[n[u.type],...a.filter(({matcher:A})=>A(u)).map(({reducer:A})=>A)];return f.filter(A=>!!A).length===0&&(f=[i]),f.reduce((A,m)=>{if(m)if(b0(A)){const g=m(A,u);return g===void 0?A:g}else{if(yf(A))return w8(A,p=>m(p,u));{const p=m(A,u);if(p===void 0){if(A===null)return A;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return A},c)}return l.getInitialState=o,l}var KW=(t,r)=>OW(t)?t.match(r):t(r);function VW(...t){return r=>t.some(n=>KW(n,r))}var zW="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",E8=(t=21)=>{let r="",n=t;for(;n--;)r+=zW[Math.random()*64|0];return r},GW=["name","message","stack","code"],Pj=class{constructor(t,r){this.payload=t,this.meta=r}_type},y6=class{constructor(t,r){this.payload=t,this.meta=r}_type},WW=t=>{if(typeof t=="object"&&t!==null){const r={};for(const n of GW)typeof t[n]=="string"&&(r[n]=t[n]);return r}return{message:String(t)}},v6="External signal was aborted",I5=(()=>{function t(r,n,a){const i=ol(r+"/fulfilled",(u,f,A,m)=>({payload:u,meta:{...m||{},arg:A,requestId:f,requestStatus:"fulfilled"}})),o=ol(r+"/pending",(u,f,A)=>({payload:void 0,meta:{...A||{},arg:f,requestId:u,requestStatus:"pending"}})),l=ol(r+"/rejected",(u,f,A,m,p)=>({payload:m,error:(a&&a.serializeError||WW)(u||"Rejected"),meta:{...p||{},arg:A,requestId:f,rejectedWithValue:!!m,requestStatus:"rejected",aborted:u?.name==="AbortError",condition:u?.name==="ConditionError"}}));function c(u,{signal:f}={}){return(A,m,p)=>{const g=a?.idGenerator?a.idGenerator(u):E8(),b=new AbortController;let v,y;function j(S){y=S,b.abort()}f&&(f.aborted?j(v6):f.addEventListener("abort",()=>j(v6),{once:!0}));const C=async function(){let S;try{let D=a?.condition?.(u,{getState:m,extra:p});if(YW(D)&&(D=await D),D===!1||b.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const k=new Promise((L,I)=>{v=()=>{I({name:"AbortError",message:y||"Aborted"})},b.signal.addEventListener("abort",v)});A(o(g,u,a?.getPendingMeta?.({requestId:g,arg:u},{getState:m,extra:p}))),S=await Promise.race([k,Promise.resolve(n(u,{dispatch:A,getState:m,extra:p,requestId:g,signal:b.signal,abort:j,rejectWithValue:(L,I)=>new Pj(L,I),fulfillWithValue:(L,I)=>new y6(L,I)})).then(L=>{if(L instanceof Pj)throw L;return L instanceof y6?i(L.payload,g,u,L.meta):i(L,g,u)})])}catch(D){S=D instanceof Pj?l(null,g,u,D.payload,D.meta):l(D,g,u)}finally{v&&b.signal.removeEventListener("abort",v)}return a&&!a.dispatchConditionRejection&&l.match(S)&&S.meta.condition||A(S),S}();return Object.assign(C,{abort:j,requestId:g,arg:u,unwrap(){return C.then(qW)}})}}return Object.assign(c,{pending:o,rejected:l,fulfilled:i,settled:VW(l,i),typePrefix:r})}return t.withTypes=()=>t,t})();function qW(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function YW(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var XW=Symbol.for("rtk-slice-createasyncthunk");function JW(t,r){return`${t}/${r}`}function ZW({creators:t}={}){const r=t?.asyncThunk?.[XW];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(pc(11));const l=(typeof a.reducers=="function"?a.reducers(tq()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(S,E){const D=typeof S=="string"?S:S.type;if(!D)throw new Error(pc(12));if(D in u.sliceCaseReducersByType)throw new Error(pc(13));return u.sliceCaseReducersByType[D]=E,f},addMatcher(S,E){return u.sliceMatchers.push({matcher:S,reducer:E}),f},exposeAction(S,E){return u.actionCreators[S]=E,f},exposeCaseReducer(S,E){return u.sliceCaseReducersByName[S]=E,f}};c.forEach(S=>{const E=l[S],D={reducerName:S,type:JW(i,S),createNotation:typeof a.reducers=="function"};nq(E)?aq(D,E,f,r):rq(D,E,f)});function A(){const[S={},E=[],D=void 0]=typeof a.extraReducers=="function"?B8(a.extraReducers):[a.extraReducers],k={...S,...u.sliceCaseReducersByType};return $W(a.initialState,L=>{for(let I in k)L.addCase(I,k[I]);for(let I of u.sliceMatchers)L.addMatcher(I.matcher,I.reducer);for(let I of E)L.addMatcher(I.matcher,I.reducer);D&&L.addDefaultCase(D)})}const m=S=>S,p=new Map,g=new WeakMap;let b;function v(S,E){return b||(b=A()),b(S,E)}function y(){return b||(b=A()),b.getInitialState()}function j(S,E=!1){function D(L){let I=L[S];return typeof I>"u"&&E&&(I=h1(g,D,y)),I}function k(L=m){const I=h1(p,E,()=>new WeakMap);return h1(I,L,()=>{const Y={};for(const[Q,H]of Object.entries(a.selectors??{}))Y[Q]=eq(H,L,()=>h1(g,L,y),E);return Y})}return{reducerPath:S,getSelectors:k,get selectors(){return k(D)},selectSlice:D}}const C={name:i,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...j(o),injectInto(S,{reducerPath:E,...D}={}){const k=E??o;return S.inject({reducerPath:k,reducer:v},D),{...C,...j(k,!0)}}};return C}}function eq(t,r,n,a){function i(o,...l){let c=r(o);return typeof c>"u"&&a&&(c=n()),t(c,...l)}return i.unwrapped=t,i}var ul=ZW();function tq(){function t(r,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:r,...n}}return t.withTypes=()=>t,{reducer(r){return Object.assign({[r.name](...n){return r(...n)}}[r.name],{_reducerDefinitionType:"reducer"})},preparedReducer(r,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:r,reducer:n}},asyncThunk:t}}function rq({type:t,reducerName:r,createNotation:n},a,i){let o,l;if("reducer"in a){if(n&&!sq(a))throw new Error(pc(17));o=a.reducer,l=a.prepare}else o=a;i.addCase(t,o).exposeCaseReducer(r,o).exposeAction(r,l?ol(t,l):ol(t))}function nq(t){return t._reducerDefinitionType==="asyncThunk"}function sq(t){return t._reducerDefinitionType==="reducerWithPrepare"}function aq({type:t,reducerName:r},n,a,i){if(!i)throw new Error(pc(18));const{payloadCreator:o,fulfilled:l,pending:c,rejected:u,settled:f,options:A}=n,m=i(t,o,A);a.exposeAction(r,m),l&&a.addCase(m.fulfilled,l),c&&a.addCase(m.pending,c),u&&a.addCase(m.rejected,u),f&&a.addMatcher(m.settled,f),a.exposeCaseReducer(r,{fulfilled:l||m1,pending:c||m1,rejected:u||m1,settled:f||m1})}function m1(){}var iq="task",T8="listener",F8="completed",_5="cancelled",oq=`task-${_5}`,lq=`task-${F8}`,IC=`${T8}-${_5}`,cq=`${T8}-${F8}`,R2=class{constructor(t){this.code=t,this.message=`${iq} ${_5} (reason: ${t})`}name="TaskAbortError";message},k5=(t,r)=>{if(typeof t!="function")throw new TypeError(pc(32))},Nb=()=>{},I8=(t,r=Nb)=>(t.catch(r),t),_8=(t,r)=>(t.addEventListener("abort",r,{once:!0}),()=>t.removeEventListener("abort",r)),i0=(t,r)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:r,configurable:!0,writable:!0}),t.abort(r))},o0=t=>{if(t.aborted){const{reason:r}=t;throw new R2(r)}};function k8(t,r){let n=Nb;return new Promise((a,i)=>{const o=()=>i(new R2(t.reason));if(t.aborted){o();return}n=_8(t,o),r.finally(()=>n()).then(a,i)}).finally(()=>{n=Nb})}var uq=async(t,r)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof R2?"cancelled":"rejected",error:n}}finally{r?.()}},Cb=t=>r=>I8(k8(t,r).then(n=>(o0(t),n))),P8=t=>{const r=Cb(t);return n=>r(new Promise(a=>setTimeout(a,n)))},{assign:Hp}=Object,b6={},Q2="listenerMiddleware",dq=(t,r)=>{const n=a=>_8(t,()=>i0(a,t.reason));return(a,i)=>{k5(a);const o=new AbortController;n(o);const l=uq(async()=>{o0(t),o0(o.signal);const c=await a({pause:Cb(o.signal),delay:P8(o.signal),signal:o.signal});return o0(o.signal),c},()=>i0(o,lq));return i?.autoJoin&&r.push(l.catch(Nb)),{result:Cb(t)(l),cancel(){i0(o,oq)}}}},Aq=(t,r)=>{const n=async(a,i)=>{o0(r);let o=()=>{};const c=[new Promise((u,f)=>{let A=t({predicate:a,effect:(m,p)=>{p.unsubscribe(),u([m,p.getState(),p.getOriginalState()])}});o=()=>{A(),f()}})];i!=null&&c.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await k8(r,Promise.race(c));return o0(r),u}finally{o()}};return(a,i)=>I8(n(a,i))},D8=t=>{let{type:r,actionCreator:n,matcher:a,predicate:i,effect:o}=t;if(r)i=ol(r).match;else if(n)r=n.type,i=n.match;else if(a)i=a;else if(!i)throw new Error(pc(21));return k5(o),{predicate:i,type:r,effect:o}},O8=Hp(t=>{const{type:r,predicate:n,effect:a}=D8(t);return{id:E8(),effect:a,type:r,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(pc(22))}}},{withTypes:()=>O8}),w6=(t,r)=>{const{type:n,effect:a,predicate:i}=D8(r);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===a)},_C=t=>{t.pending.forEach(r=>{i0(r,IC)})},fq=t=>()=>{t.forEach(_C),t.clear()},j6=(t,r,n)=>{try{t(r,n)}catch(a){setTimeout(()=>{throw a},0)}},L8=Hp(ol(`${Q2}/add`),{withTypes:()=>L8}),hq=ol(`${Q2}/removeAll`),U8=Hp(ol(`${Q2}/remove`),{withTypes:()=>U8}),mq=(...t)=>{console.error(`${Q2}/error`,...t)},nv=(t={})=>{const r=new Map,{extra:n,onError:a=mq}=t;k5(a);const i=A=>(A.unsubscribe=()=>r.delete(A.id),r.set(A.id,A),m=>{A.unsubscribe(),m?.cancelActive&&_C(A)}),o=A=>{const m=w6(r,A)??O8(A);return i(m)};Hp(o,{withTypes:()=>o});const l=A=>{const m=w6(r,A);return m&&(m.unsubscribe(),A.cancelActive&&_C(m)),!!m};Hp(l,{withTypes:()=>l});const c=async(A,m,p,g)=>{const b=new AbortController,v=Aq(o,b.signal),y=[];try{A.pending.add(b),await Promise.resolve(A.effect(m,Hp({},p,{getOriginalState:g,condition:(j,C)=>v(j,C).then(Boolean),take:v,delay:P8(b.signal),pause:Cb(b.signal),extra:n,signal:b.signal,fork:dq(b.signal,y),unsubscribe:A.unsubscribe,subscribe:()=>{r.set(A.id,A)},cancelActiveListeners:()=>{A.pending.forEach((j,C,S)=>{j!==b&&(i0(j,IC),S.delete(j))})},cancel:()=>{i0(b,IC),A.pending.delete(b)},throwIfCancelled:()=>{o0(b.signal)}})))}catch(j){j instanceof R2||j6(a,j,{raisedBy:"effect"})}finally{await Promise.all(y),i0(b,cq),A.pending.delete(b)}},u=fq(r);return{middleware:A=>m=>p=>{if(!m8(p))return m(p);if(L8.match(p))return o(p.payload);if(hq.match(p)){u();return}if(U8.match(p))return l(p.payload);let g=A.getState();const b=()=>{if(g===b6)throw new Error(pc(23));return g};let v;try{if(v=m(p),r.size>0){const y=A.getState(),j=Array.from(r.values());for(const C of j){let S=!1;try{S=C.predicate(p,y,g)}catch(E){S=!1,j6(a,E,{raisedBy:"predicate"})}S&&c(C,p,A,b)}}}finally{g=b6}return v},startListening:o,stopListening:l,clearListeners:u}};function pc(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const pq="https://vidyaastra.com/api",$x=I5("teachers/fetchTeachers",async t=>(await Ft.get(`${pq}/teacher/${t}`)).data),gq=ul({name:"teachers",initialState:{teachers:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase($x.pending,r=>{r.loading=!0}).addCase($x.fulfilled,(r,n)=>{r.loading=!1,r.teachers=n.payload}).addCase($x.rejected,(r,n)=>{r.loading=!1,r.error=n.error.message})}}),xq=gq.reducer,p1="https://vidyaastra.com/api",yq=()=>localStorage.getItem("schoolId")||"688dfdc93af0f78ebd4b044a",vq=()=>{const[t,r]=w.useState(!1),[n,a]=w.useState(null),[i,o]=w.useState(!1),[l,c]=w.useState(null),[u,f]=w.useState([]),[A]=w.useState(yq()),m=localStorage.getItem("color")||"#2563eb",[p,g]=w.useState(1),[b,v]=w.useState(1),[y]=w.useState(10),j=localStorage.getItem("schoolId"),C=In(K=>K.teachers.teachers.data??[]),[S,E]=w.useState({className:"",section:"",classTeacher:"",schoolId:A}),D=D2(),k=K=>{if(!K)return"N/A";if(typeof K=="object"&&K.name)return K.name;const X=C.find(Z=>Z._id===K.toString());return X?X.name:"N/A"};w.useEffect(()=>{(async()=>{try{o(!0),c(null);const X=await fetch(`${p1}/class?schoolId=${A}&page=${p}&limit=${y}`);if(!X.ok)throw new Error("Failed to fetch classes");const Z=await X.json();if(!Z.success)throw new Error(Z.message||"Failed to fetch classes");f(Z.data||[]),v(Z.totalPages||1)}catch(X){c(X.message)}finally{o(!1)}})()},[A,p]);const L=K=>{const{name:X,value:Z}=K.target;E(ee=>({...ee,[X]:Z}))},I=()=>{E({className:"",section:"",classTeacher:"",schoolId:A}),a(null)},Y=async K=>{if(K.preventDefault(),!S.className.trim()){c("Class name is required");return}try{o(!0),c(null);const X={...S,schoolId:A,students:[]},Z=n?`${p1}/class/${n._id}`:`${p1}/class`,de=await fetch(Z,{method:n?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(X)});if(!de.ok){const ue=await de.json().catch(()=>({}));throw new Error(ue.message||"Failed to save class")}const Se=(await de.json()).data;f(ue=>n?ue.map(xe=>xe._id===Se._id?Se:xe):[Se,...ue]),D($x(j)),r(!1),I()}catch(X){c(X.message)}finally{o(!1)}},Q=async K=>{if(window.confirm("Are you sure you want to delete this class?"))try{o(!0);const X=await fetch(`${p1}/class/${K}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:A})});if(!X.ok){const Z=await X.json().catch(()=>({}));throw new Error(Z.message||"Failed to delete class")}f(Z=>Z.filter(ee=>ee._id!==K)),u.length===1&&p>1&&g(Z=>Z-1)}catch(X){c(X.message)}finally{o(!1)}},H=()=>{p>1&&g(K=>K-1)},U=()=>{p<b&&g(K=>K+1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:m},children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Class Management"}),s.jsx("p",{className:"text-gray-200",children:"Manage classes and sections"})]}),s.jsxs("button",{onClick:()=>r(!0),className:"text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2",style:{backgroundColor:m},children:[s.jsx($s,{})," ",s.jsx("span",{children:"Add Class"})]})]})}),l&&s.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[s.jsx("strong",{className:"font-bold",children:"Error: "}),l,s.jsx("button",{onClick:()=>c(null),className:"absolute top-2 right-2",children:s.jsx(sr,{})})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-x-auto",children:i&&u.length===0?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:m}})}):u.length?s.jsxs(s.Fragment,{children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Class"}),s.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Section"}),s.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Teacher"}),s.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y",children:u.map(K=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 font-medium",children:K.className}),s.jsx("td",{className:"p-4",children:K.section||"N/A"}),s.jsx("td",{className:"p-4",children:k(K.classTeacher)}),s.jsxs("td",{className:"p-4 flex space-x-2",children:[s.jsx("button",{onClick:()=>{a(K),E({className:K.className,section:K.section||"",classTeacher:K.classTeacher?typeof K.classTeacher=="object"?K.classTeacher._id:K.classTeacher:"",schoolId:A}),r(!0)},className:"p-2 hover:bg-gray-100 rounded",children:s.jsx(Uo,{style:{color:m}})}),s.jsx("button",{onClick:()=>Q(K._id),className:"p-2 hover:bg-gray-100 rounded text-red-500",children:s.jsx(Ss,{})})]})]},K._id))})]}),s.jsxs("div",{className:"flex justify-between items-center p-4",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",p," of ",b]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:H,disabled:p===1,className:`p-2 rounded-lg ${p===1?"text-gray-400 cursor-not-allowed":"text-white"}`,style:{backgroundColor:p===1?"#d1d5db":m},children:s.jsx(co,{})}),s.jsx("button",{onClick:U,disabled:p===b,className:`p-2 rounded-lg ${p===b?"text-gray-400 cursor-not-allowed":"text-white"}`,style:{backgroundColor:p===b?"#d1d5db":m},children:s.jsx(xi,{})})]})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ln,{className:"w-12 h-12 mx-auto mb-4",style:{color:m}}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No classes found"}),s.jsx("button",{onClick:()=>r(!0),className:"text-white px-4 py-2 rounded-lg shadow-lg",style:{backgroundColor:m},children:"Add First Class"})]})}),t&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl overflow-y-auto",children:[s.jsxs("div",{className:"p-6 flex justify-between items-center",style:{backgroundColor:m},children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:n?"Edit Class":"Add Class"}),s.jsx("button",{onClick:()=>{r(!1),I()},className:"text-white",children:s.jsx(sr,{size:24})})]}),s.jsxs("form",{onSubmit:Y,className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Class Name *"}),s.jsx("input",{type:"text",name:"className",value:S.className,onChange:L,placeholder:"Enter class name",className:"w-full p-3 border rounded-lg",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Section"}),s.jsx("input",{type:"text",name:"section",value:S.section,onChange:L,className:"w-full p-3 border rounded-lg",placeholder:"Enter section"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>{r(!1),I()},className:"px-6 py-2 border rounded-lg",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:i,className:"px-6 py-2 text-white rounded-lg",style:{backgroundColor:m},children:i?"Saving...":n?"Update":"Create"})]})]})]})})]})},bq=()=>{const t=localStorage.getItem("schoolId"),r=localStorage.getItem("color")||"#2563eb",n="https://vidyaastra.com/api",a=`${n}/class`,i=`${n}/subject`,o=`${n}/teacher`,l=`${n}/timetable`,[c,u]=w.useState("Monday"),[f,A]=w.useState(""),[m,p]=w.useState(""),[g,b]=w.useState({}),[v,y]=w.useState([]),[j,C]=w.useState([]),[S,E]=w.useState([]),[D,k]=w.useState(!0),[L,I]=w.useState(null),[Y,Q]=w.useState(!1),[H,U]=w.useState("create"),[K,X]=w.useState(null),[Z,ee]=w.useState(null),[de,Ne]=w.useState(-1),[Se,ue]=w.useState(null),xe=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],[R,G]=w.useState({className:"",section:"",day:"Monday",periods:[],timetableName:""}),[ne,ae]=w.useState({_id:"",subjectName:"",teacherName:"",startTime:"",endTime:""});w.useEffect(()=>{if(!t){I("School ID not found. Please login again.");return}console.log("Current School ID:",t)},[t]),w.useEffect(()=>{t&&(async()=>(await he(),await me(),await te(),await Ae()))()},[t]);const oe=Ee=>{if(!Ee)return"N/A";const Re=/^([0-1]?[0-9]|2[0-3]):[0-5][0-9](\s?(AM|PM))?$/i;return Ee.match(Re)&&!Ee.includes("AM")&&!Ee.includes("PM")?`${Ee} AM`:Ee},he=async()=>{if(t)try{console.log("Fetching classes for school:",t);const Ee=await fetch(`${a}?schoolId=${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});let Re=[];if(Ee.ok){const it=await Ee.json();console.log("Classes API Response:",it),it.success&&it.data&&(Re=it.data.map(et=>{const Ct=et.className||`Class ${et.classNumber||et.grade||"Unknown"}`,_t=et.section||"A";return{_id:et._id,className:Ct,section:_t,displayName:`${Ct} ${_t}`.trim()}}))}Re.length===0&&(console.log("Using fallback mock classes"),Re=[{_id:"mock_6b",className:"Class 6",section:"B",displayName:"Class 6 B"}]),console.log("Final classes data:",Re),y(Re)}catch(Ee){console.error("Error fetching classes:",Ee),I("Failed to fetch classes: "+Ee.message)}},me=async()=>{if(t)try{console.log("Fetching subjects for school:",t);const Ee=await fetch(`${i}/${t}/subjects`,{method:"GET",headers:{"Content-Type":"application/json"}});let Re=[];if(Ee.ok){const it=await Ee.json();console.log("Subjects API Response:",it),it.success&&it.data&&(Re=it.data.map(et=>({_id:et._id,name:et.SubjectName||et.name||"Unknown"})))}Re.length===0&&(console.log("Using fallback mock subjects"),Re=[{_id:"sub_math",name:"Maths"}]),console.log("Final subjects data:",Re),C(Re)}catch(Ee){console.error("Error fetching subjects:",Ee),I("Failed to fetch subjects: "+Ee.message)}},te=async()=>{if(t)try{console.log("Fetching teachers for school:",t);const Ee=await fetch(`${o}/${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});let Re=[];if(Ee.ok){const it=await Ee.json();console.log("Teachers API Response:",it),it.success&&it.data&&(Re=it.data.map(et=>({_id:et._id,name:et.name||et.teacherName||"Unknown"})).filter(et=>et.name&&et.name.trim()!==""))}Re.length===0&&(console.log("Using fallback mock teachers"),Re=[{_id:"teacher_1",name:"Mukesh"}]),console.log("Final teachers data:",Re),E(Re)}catch(Ee){console.error("Error fetching teachers:",Ee),I("Failed to fetch teachers: "+Ee.message)}},Ae=async()=>{if(t)try{k(!0),console.log("Fetching timetable for school:",t);const Ee=await fetch(`${l}/${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!Ee.ok)throw new Error(`HTTP error! Status: ${Ee.status}`);const Re=await Ee.json();if(console.log("Timetable API Response:",Re),!Re.success||!Re.data||!Array.isArray(Re.data))throw new Error(Re.message||"Failed to fetch timetable");const it={};xe.forEach(Ct=>{it[Ct]={}}),(Re.data.length>0&&Re.data[0].timetable?Re.data[0].timetable:[]).forEach(Ct=>{if(!Ct.day||!xe.includes(Ct.day))return;const[_t,ot]=Ct.className.split(" "),Ie=v.find(at=>at.className===_t&&at.section===(ot||"A"))||{_id:`mock_${Ct.className.replace(/\s+/g,"_").toLowerCase()}`,className:_t||"Unknown",section:ot||"A",displayName:Ct.className},qe=`${_t} ${ot||"A"}`.trim();it[Ct.day][qe]||(it[Ct.day][qe]={classId:Ie._id,className:_t,section:ot||"A",timetables:[]}),it[Ct.day][qe].timetables.push({timetableId:Ct._id,classId:Ie._id,className:qe,timetableName:Ct.timetableName||"Regular",day:Ct.day,periods:(Ct.periods||[]).map((at,Ut)=>({id:at._id||`${Ct._id}-${Ut}`,_id:at._id,subjectName:at.subjectName||"Unknown",teacherName:at.teacherName||"N/A",startTime:oe(at.startTime),endTime:oe(at.endTime),time:`${oe(at.startTime)} - ${oe(at.endTime)}`}))})}),Object.keys(it).forEach(Ct=>{Object.values(it[Ct]).forEach(_t=>{_t.timetables.forEach(ot=>{ot.periods.sort((Ie,qe)=>{const at=Ie.startTime&&Ie.startTime!=="N/A"?new Date(`1970-01-01 ${Ie.startTime}`):new Date(0),Ut=qe.startTime&&qe.startTime!=="N/A"?new Date(`1970-01-01 ${qe.startTime}`):new Date(0);return at-Ut})})})}),b(it),I(null)}catch(Ee){console.error("Fetch Error:",Ee),I(Ee.message||"Error fetching timetable");const Re={};xe.forEach(it=>{Re[it]={}}),b(Re)}finally{k(!1)}},V=async Ee=>{if(!t)return I("School ID not found. Please login again."),!1;try{k(!0),console.log("Creating timetable with data:",Ee);const Re={className:`${Ee.className} ${Ee.section}`.trim(),day:Ee.day,timetableName:Ee.timetableName,periods:Ee.periods},et=await(await fetch(`${l}/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Re)})).json();if(!et.success)throw new Error(et.message||"Failed to add timetable");return await Ae(),!0}catch(Re){return I(Re.message||"Error adding timetable"),!1}finally{k(!1)}},ie=async(Ee,Re)=>{if(!t)return I("School ID not found. Please login again."),!1;if(!Ee)return I("Timetable ID is required."),!1;if(!Re||typeof Re!="object")return I("Timetable data must be a valid object."),!1;const{className:it,section:et,day:Ct,timetableName:_t,periods:ot}=Re;if(!it||!et)return I("Class name and section are required."),!1;if(!Ct||!xe.includes(Ct))return I("Valid day is required (e.g., Monday, Tuesday)."),!1;if(!_t)return I("Timetable name is required."),!1;if(!Array.isArray(ot)||ot.length===0)return I("Periods must be a non-empty array."),!1;const Ie=/^([0-1]?[0-9]|2[0-3]):[0-5][0-9](\s?(AM|PM))?$/i;for(const qe of ot){if(!qe.subjectName)return I("Each period must have a subject name."),!1;if(!qe.startTime||!qe.startTime.match(Ie))return I("Each period must have a valid start time (e.g., 9:00 AM)."),!1;if(!qe.endTime||!qe.endTime.match(Ie))return I("Each period must have a valid end time (e.g., 10:00 AM)."),!1}try{k(!0),console.log("Updating timetable with ID:",Ee,"Data:",Re);const qe={className:`${it} ${et}`.trim(),day:Ct,timetableName:_t,periods:ot.map(Ue=>({_id:Ue._id||void 0,subjectName:Ue.subjectName,teacherName:Ue.teacherName||"",startTime:Ue.startTime.trim(),endTime:Ue.endTime.trim()}))},Ut=await(await fetch(`${l}/${t}/${Ee}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(qe)})).json();if(!Ut.success)throw new Error(Ut.message||"Failed to update timetable");return await Ae(),!0}catch(qe){return I(qe.message||"Error updating timetable"),!1}finally{k(!1)}},pe=async Ee=>{if(!t){I("School ID not found. Please login again.");return}if(window.confirm("Are you sure you want to delete this timetable?"))try{ue(Ee),k(!0);const it=await(await fetch(`${l}/${Ee}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).json();if(!it.success)throw new Error(it.message||"Failed to delete timetable");await Ae()}catch(Re){I(Re.message||"Error deleting timetable")}finally{k(!1),ue(null)}},ye=()=>{U("create"),X(null),G({className:f||"",section:m||"",day:c,periods:[],timetableName:""}),Q(!0)},ge=Ee=>{U("edit"),X(Ee);const[Re,it]=Ee.className.split(" ");G({className:Re||"",section:it||"A",day:Ee.day,periods:Ee.periods.map(et=>({_id:et._id,subjectName:et.subjectName,teacherName:et.teacherName,startTime:et.startTime,endTime:et.endTime})),timetableName:Ee.timetableName}),Q(!0)},le=()=>{ae({_id:"",subjectName:"",teacherName:"",startTime:"",endTime:""}),ee(null),Ne(-1),U("period")},Qe=(Ee,Re)=>{ae({_id:Ee._id||"",subjectName:Ee.subjectName,teacherName:Ee.teacherName,startTime:Ee.startTime,endTime:Ee.endTime}),ee(Ee),Ne(Re),U("period")},ce=Ee=>{const Re=R.periods.filter((it,et)=>et!==Ee);G({...R,periods:Re})},se=()=>{const Ee=/^([0-1]?[0-9]|2[0-3]):[0-5][0-9](\s?(AM|PM))?$/i;if(!ne.startTime.match(Ee)||!ne.endTime.match(Ee)){I("Please enter valid time formats (e.g., 9:00 AM or 09:00)");return}if(!ne.subjectName){I("Subject is required");return}const Re={_id:ne._id||void 0,subjectName:ne.subjectName,teacherName:ne.teacherName||"",startTime:oe(ne.startTime),endTime:oe(ne.endTime)};let it=[...R.periods];Z&&de>=0?it[de]=Re:it.push(Re),it.sort((et,Ct)=>{const _t=et.startTime&&et.startTime!=="N/A"?new Date(`1970-01-01 ${et.startTime}`):new Date(0),ot=Ct.startTime&&Ct.startTime!=="N/A"?new Date(`1970-01-01 ${Ct.startTime}`):new Date(0);return _t-ot}),G({...R,periods:it}),U(K?"edit":"create"),I(null)},je=async()=>{if(R.periods.length===0){I("Please add at least one period");return}if(!R.className||!R.section){I("Please select both class and section");return}if(!R.timetableName){I("Please enter a timetable name");return}const Ee={className:R.className,section:R.section,day:R.day,periods:R.periods,timetableName:R.timetableName};let Re=!1;K?Re=await ie(K.timetableId,Ee):Re=await V(Ee),Re&&we()},we=()=>{G({className:"",section:"",day:"Monday",periods:[],timetableName:""}),ae({_id:"",subjectName:"",teacherName:"",startTime:"",endTime:""}),X(null),ee(null),Ne(-1),Q(!1),U("create"),I(null)},q=[...new Set(v.map(Ee=>Ee.className))],be=f?v.filter(Ee=>Ee.className===f).map(Ee=>Ee.section):[];return t?s.jsxs("div",{className:"space-y-6 p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:Ot("text-black p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:r},children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Class Timetable"}),s.jsx("p",{className:"text-gray-200",children:"View and manage class schedules"}),s.jsxs("div",{className:"text-white text-sm opacity-75 mt-1",children:["School ID: ",t]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("select",{value:f,onChange:Ee=>{A(Ee.target.value),p("")},className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-32",style:{borderColor:r,outlineColor:r},children:[s.jsx("option",{value:"",children:"All Classes"}),q.map(Ee=>s.jsx("option",{value:Ee,children:Ee},Ee))]}),s.jsxs("select",{value:m,onChange:Ee=>p(Ee.target.value),className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-24",style:{borderColor:r,outlineColor:r},disabled:!f,children:[s.jsx("option",{value:"",children:"All Sections"}),be.map(Ee=>s.jsx("option",{value:Ee,children:Ee},Ee))]})]}),s.jsxs("div",{className:"text-white text-xs opacity-75",children:[v.length," classes available"]}),s.jsxs("button",{onClick:ye,className:Ot("text-white px-4 py-2 rounded-lg shadow-lg flex items-center hover:opacity-90"),style:{backgroundColor:r},disabled:D||v.length===0,children:[D?s.jsx(br,{className:"mr-2 animate-spin",style:{color:"white"}}):s.jsx($s,{className:"mr-2",style:{color:"white"}}),"Create Timetable"]})]})]}),L&&s.jsxs("div",{className:"p-4 bg-red-100 text-red-700 rounded-xl mb-4 flex items-center justify-between max-w-full",children:[L,s.jsx("button",{onClick:()=>I(null),className:"text-red-500 hover:text-red-700",children:"×"})]}),D&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(_n,{className:"w-12 h-12 mx-auto mb-4 animate-pulse",style:{color:r}}),s.jsx("p",{className:"text-gray-500 text-lg",children:"Loading timetable..."})]}),!D&&s.jsx("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:xe.map(Ee=>s.jsx("button",{onClick:()=>u(Ee),className:Ot("flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors",{"bg-white shadow-sm":c===Ee,"text-gray-600 hover:text-gray-800":c!==Ee}),style:{color:c===Ee?r:void 0},children:Ee},Ee))})]}),!D&&s.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-x-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:[c," -"," ",f&&m?`${f} ${m}`:f?`${f} (All Sections)`:"All Classes"]})}),s.jsx("div",{className:"p-6 space-y-6",children:Object.keys(g[c]||{}).length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(_n,{className:"w-12 h-12 mx-auto mb-4",style:{color:r}}),s.jsxs("p",{children:["No timetables scheduled for ",c,f?` (${f}${m?` ${m}`:" (All Sections)"})`:""]}),s.jsxs("div",{className:"text-xs mt-2",children:["School ID: ",t]}),s.jsx("button",{onClick:ye,className:Ot("text-white px-4 py-2 rounded-lg shadow-lg mt-4 hover:opacity-90"),style:{backgroundColor:r},disabled:v.length===0,children:"Create Timetable"})]}):Object.entries(g[c]).filter(([Ee,Re])=>{if(!f)return!0;const[it,et]=Ee.split(" ");return it===f&&(!m||et===m)}).map(([Ee,Re])=>s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:Ee}),s.jsxs("table",{className:"min-w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-600 border-b w-1/5",children:"Timetable Name"}),s.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-600 border-b w-1/5",children:"Time"}),s.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-600 border-b w-1/5",children:"Subject"}),s.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-600 border-b w-1/5",children:"Teacher"}),s.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-600 border-b w-1/5",children:"Actions"})]})}),s.jsx("tbody",{children:Re.timetables.map(it=>it.periods.map((et,Ct)=>s.jsxs("tr",{className:"border-b",children:[Ct===0&&s.jsx("td",{className:"p-3 text-gray-800",rowSpan:it.periods.length,children:it.timetableName}),s.jsx("td",{className:"p-3 text-gray-600",children:et.time}),s.jsx("td",{className:"p-3 text-gray-800",children:et.subjectName}),s.jsx("td",{className:"p-3 text-gray-600",children:et.teacherName}),Ct===0&&s.jsx("td",{className:"p-3",rowSpan:it.periods.length,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>ge(it),className:"hover:opacity-75",style:{color:r},disabled:D||Se===it.timetableId,title:"Edit Timetable",children:s.jsx(Lo,{size:16})}),s.jsx("button",{onClick:()=>pe(it.timetableId),className:"hover:opacity-75",style:{color:r},disabled:D||Se===it.timetableId,title:"Delete Timetable",children:Se===it.timetableId?s.jsx(br,{className:"animate-spin",size:16}):s.jsx(Ss,{size:16})})]})})]},`${it.timetableId}-${et.id}`)))})]})]},Ee))})]}),Y&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg w-full max-w-5xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:Ot("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center mb-6 sticky top-0 z-10"),style:{backgroundColor:r},children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:H==="period"?Z?"Edit Period":"Add Period":K?"Edit Timetable":"Create Timetable"}),s.jsx("button",{onClick:we,className:"flex items-center justify-center w-8 h-8 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:s.jsx(sr,{size:24,className:"text-white"})})]}),H==="period"?s.jsxs("div",{className:"space-y-4 p-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:"Start Time (e.g., 9:00 AM)",value:ne.startTime,onChange:Ee=>ae({...ne,startTime:Ee.target.value}),className:"p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-full",style:{borderColor:r,outlineColor:r},required:!0}),s.jsx("input",{type:"text",placeholder:"End Time (e.g., 10:00 AM)",value:ne.endTime,onChange:Ee=>ae({...ne,endTime:Ee.target.value}),className:"p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-full",style:{borderColor:r,outlineColor:r},required:!0})]}),s.jsxs("select",{value:ne.subjectName,onChange:Ee=>{ae({...ne,subjectName:Ee.target.value})},className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:r,outlineColor:r},required:!0,children:[s.jsx("option",{value:"",children:"Select Subject"}),j.map(Ee=>s.jsx("option",{value:Ee.name,children:Ee.name},Ee._id))]}),s.jsxs("select",{value:ne.teacherName,onChange:Ee=>{ae({...ne,teacherName:Ee.target.value})},className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:r,outlineColor:r},children:[s.jsx("option",{value:"",children:"Select Teacher (Optional)"}),S.filter(Ee=>Ee.name&&Ee.name.trim()!=="").map(Ee=>s.jsx("option",{value:Ee.name,children:Ee.name},Ee._id))]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>U(K?"edit":"create"),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Back"}),s.jsx("button",{onClick:se,className:Ot("text-white px-4 py-2 rounded-lg shadow-lg hover:opacity-90"),style:{backgroundColor:r},children:Z?"Update Period":"Add Period"})]})]}):s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("select",{value:R.className,onChange:Ee=>G({...R,className:Ee.target.value,section:""}),className:"p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-full",style:{borderColor:r,outlineColor:r},required:!0,children:[s.jsx("option",{value:"",children:"Select Class"}),q.map(Ee=>s.jsx("option",{value:Ee,children:Ee},Ee))]}),s.jsxs("select",{value:R.section,onChange:Ee=>G({...R,section:Ee.target.value}),className:"p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-full",style:{borderColor:r,outlineColor:r},required:!0,disabled:!R.className,children:[s.jsx("option",{value:"",children:"Select Section"}),v.filter(Ee=>Ee.className===R.className).map(Ee=>s.jsx("option",{value:Ee.section,children:Ee.section},Ee.section))]}),s.jsx("select",{value:R.day,onChange:Ee=>G({...R,day:Ee.target.value}),className:"p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-full",style:{borderColor:r,outlineColor:r},required:!0,children:xe.map(Ee=>s.jsx("option",{value:Ee,children:Ee},Ee))}),s.jsx("input",{type:"text",placeholder:"Timetable Name (e.g., Regular Timetable)",value:R.timetableName,onChange:Ee=>G({...R,timetableName:Ee.target.value}),className:"p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-full",style:{borderColor:r,outlineColor:r},required:!0})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Periods"}),s.jsxs("button",{onClick:le,className:Ot("text-white px-3 py-1 rounded-lg text-sm flex items-center hover:opacity-90"),style:{backgroundColor:r},children:[s.jsx($s,{className:"mr-1",style:{color:"white"}})," Add Period"]})]}),s.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[R.periods.map((Ee,Re)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:"font-medium",children:[Ee.startTime," - ",Ee.endTime]}),s.jsx("span",{className:"text-gray-600",children:Ee.subjectName})]}),s.jsx("div",{className:"text-sm text-gray-500 mt-1",children:Ee.teacherName||"No teacher assigned"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>Qe(Ee,Re),className:"hover:opacity-75",style:{color:r},children:s.jsx(Lo,{size:16})}),s.jsx("button",{onClick:()=>ce(Re),className:"hover:opacity-75",style:{color:r},children:s.jsx(Ss,{size:16})})]})]},Re)),R.periods.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:'No periods added yet. Click "Add Period" to get started.'})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:we,className:"px-6 py-2 border rounded-lg hover:bg-gray-50",disabled:D,children:"Cancel"}),s.jsxs("button",{onClick:je,className:Ot("text-white px-6 py-2 rounded-lg shadow-lg flex items-center hover:opacity-90"),style:{backgroundColor:r},disabled:D||R.periods.length===0||!R.timetableName||!R.className||!R.section,children:[D?s.jsx(br,{className:"mr-2 animate-spin",style:{color:"white"}}):s.jsx(Ro,{className:"mr-2",style:{color:"white"}}),K?"Update Timetable":"Create Timetable"]})]})]})]})})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-red-500 text-xl mb-4",children:"School ID not found"}),s.jsx("div",{className:"text-gray-600",children:"Please login again to access the timetable system."}),s.jsx("button",{onClick:()=>window.location.href="/login",className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go to Login"})]})})},wq="modulepreload",jq=function(t){return"/"+t},N6={},kC=function(r,n,a){let i=Promise.resolve();if(n&&n.length>0){let u=function(f){return Promise.all(f.map(A=>Promise.resolve(A).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=u(n.map(f=>{if(f=jq(f),f in N6)return;N6[f]=!0;const A=f.endsWith(".css"),m=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const p=document.createElement("link");if(p.rel=A?"stylesheet":wq,A||(p.as="script"),p.crossOrigin="",p.href=f,c&&p.setAttribute("nonce",c),document.head.appendChild(p),A)return new Promise((g,b)=>{p.addEventListener("load",g),p.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return r().catch(o)})};function ds(t){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ds(t)}var ko=Uint8Array,mc=Uint16Array,P5=Int32Array,H2=new ko([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),$2=new ko([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),PC=new ko([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),M8=function(t,r){for(var n=new mc(31),a=0;a<31;++a)n[a]=r+=1<<t[a-1];for(var i=new P5(n[30]),a=1;a<30;++a)for(var o=n[a];o<n[a+1];++o)i[o]=o-n[a]<<5|a;return{b:n,r:i}},R8=M8(H2,2),Q8=R8.b,DC=R8.r;Q8[28]=258,DC[258]=28;var H8=M8($2,0),Nq=H8.b,C6=H8.r,OC=new mc(32768);for(var Zs=0;Zs<32768;++Zs){var gh=(Zs&43690)>>1|(Zs&21845)<<1;gh=(gh&52428)>>2|(gh&13107)<<2,gh=(gh&61680)>>4|(gh&3855)<<4,OC[Zs]=((gh&65280)>>8|(gh&255)<<8)>>1}var rA=function(t,r,n){for(var a=t.length,i=0,o=new mc(r);i<a;++i)t[i]&&++o[t[i]-1];var l=new mc(r);for(i=1;i<r;++i)l[i]=l[i-1]+o[i-1]<<1;var c;if(n){c=new mc(1<<r);var u=15-r;for(i=0;i<a;++i)if(t[i])for(var f=i<<4|t[i],A=r-t[i],m=l[t[i]-1]++<<A,p=m|(1<<A)-1;m<=p;++m)c[OC[m]>>u]=f}else for(c=new mc(a),i=0;i<a;++i)t[i]&&(c[i]=OC[l[t[i]-1]++]>>15-t[i]);return c},$h=new ko(288);for(var Zs=0;Zs<144;++Zs)$h[Zs]=8;for(var Zs=144;Zs<256;++Zs)$h[Zs]=9;for(var Zs=256;Zs<280;++Zs)$h[Zs]=7;for(var Zs=280;Zs<288;++Zs)$h[Zs]=8;var vy=new ko(32);for(var Zs=0;Zs<32;++Zs)vy[Zs]=5;var Cq=rA($h,9,0),Sq=rA($h,9,1),Bq=rA(vy,5,0),Eq=rA(vy,5,1),Dj=function(t){for(var r=t[0],n=1;n<t.length;++n)t[n]>r&&(r=t[n]);return r},Xu=function(t,r,n){var a=r/8|0;return(t[a]|t[a+1]<<8)>>(r&7)&n},Oj=function(t,r){var n=r/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(r&7)},D5=function(t){return(t+7)/8|0},$8=function(t,r,n){return(n==null||n>t.length)&&(n=t.length),new ko(t.subarray(r,n))},Tq=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],rd=function(t,r,n){var a=new Error(r||Tq[t]);if(a.code=t,Error.captureStackTrace&&Error.captureStackTrace(a,rd),!n)throw a;return a},Fq=function(t,r,n,a){var i=t.length,o=0;if(!i||r.f&&!r.l)return n||new ko(0);var l=!n,c=l||r.i!=2,u=r.i;l&&(n=new ko(i*3));var f=function(V){var ie=n.length;if(V>ie){var pe=new ko(Math.max(ie*2,V));pe.set(n),n=pe}},A=r.f||0,m=r.p||0,p=r.b||0,g=r.l,b=r.d,v=r.m,y=r.n,j=i*8;do{if(!g){A=Xu(t,m,1);var C=Xu(t,m+1,3);if(m+=3,C)if(C==1)g=Sq,b=Eq,v=9,y=5;else if(C==2){var k=Xu(t,m,31)+257,L=Xu(t,m+10,15)+4,I=k+Xu(t,m+5,31)+1;m+=14;for(var Y=new ko(I),Q=new ko(19),H=0;H<L;++H)Q[PC[H]]=Xu(t,m+H*3,7);m+=L*3;for(var U=Dj(Q),K=(1<<U)-1,X=rA(Q,U,1),H=0;H<I;){var Z=X[Xu(t,m,K)];m+=Z&15;var S=Z>>4;if(S<16)Y[H++]=S;else{var ee=0,de=0;for(S==16?(de=3+Xu(t,m,3),m+=2,ee=Y[H-1]):S==17?(de=3+Xu(t,m,7),m+=3):S==18&&(de=11+Xu(t,m,127),m+=7);de--;)Y[H++]=ee}}var Ne=Y.subarray(0,k),Se=Y.subarray(k);v=Dj(Ne),y=Dj(Se),g=rA(Ne,v,1),b=rA(Se,y,1)}else rd(1);else{var S=D5(m)+4,E=t[S-4]|t[S-3]<<8,D=S+E;if(D>i){u&&rd(0);break}c&&f(p+E),n.set(t.subarray(S,D),p),r.b=p+=E,r.p=m=D*8,r.f=A;continue}if(m>j){u&&rd(0);break}}c&&f(p+131072);for(var ue=(1<<v)-1,xe=(1<<y)-1,R=m;;R=m){var ee=g[Oj(t,m)&ue],G=ee>>4;if(m+=ee&15,m>j){u&&rd(0);break}if(ee||rd(2),G<256)n[p++]=G;else if(G==256){R=m,g=null;break}else{var ne=G-254;if(G>264){var H=G-257,ae=H2[H];ne=Xu(t,m,(1<<ae)-1)+Q8[H],m+=ae}var oe=b[Oj(t,m)&xe],he=oe>>4;oe||rd(3),m+=oe&15;var Se=Nq[he];if(he>3){var ae=$2[he];Se+=Oj(t,m)&(1<<ae)-1,m+=ae}if(m>j){u&&rd(0);break}c&&f(p+131072);var me=p+ne;if(p<Se){var te=o-Se,Ae=Math.min(Se,me);for(te+p<0&&rd(3);p<Ae;++p)n[p]=a[te+p]}for(;p<me;++p)n[p]=n[p-Se]}}r.l=g,r.p=R,r.b=p,r.f=A,g&&(A=1,r.m=v,r.d=b,r.n=y)}while(!A);return p!=n.length&&l?$8(n,0,p):n.subarray(0,p)},JA=function(t,r,n){n<<=r&7;var a=r/8|0;t[a]|=n,t[a+1]|=n>>8},vx=function(t,r,n){n<<=r&7;var a=r/8|0;t[a]|=n,t[a+1]|=n>>8,t[a+2]|=n>>16},Lj=function(t,r){for(var n=[],a=0;a<t.length;++a)t[a]&&n.push({s:a,f:t[a]});var i=n.length,o=n.slice();if(!i)return{t:V8,l:0};if(i==1){var l=new ko(n[0].s+1);return l[n[0].s]=1,{t:l,l:1}}n.sort(function(D,k){return D.f-k.f}),n.push({s:-1,f:25001});var c=n[0],u=n[1],f=0,A=1,m=2;for(n[0]={s:-1,f:c.f+u.f,l:c,r:u};A!=i-1;)c=n[n[f].f<n[m].f?f++:m++],u=n[f!=A&&n[f].f<n[m].f?f++:m++],n[A++]={s:-1,f:c.f+u.f,l:c,r:u};for(var p=o[0].s,a=1;a<i;++a)o[a].s>p&&(p=o[a].s);var g=new mc(p+1),b=LC(n[A-1],g,0);if(b>r){var a=0,v=0,y=b-r,j=1<<y;for(o.sort(function(k,L){return g[L.s]-g[k.s]||k.f-L.f});a<i;++a){var C=o[a].s;if(g[C]>r)v+=j-(1<<b-g[C]),g[C]=r;else break}for(v>>=y;v>0;){var S=o[a].s;g[S]<r?v-=1<<r-g[S]++-1:++a}for(;a>=0&&v;--a){var E=o[a].s;g[E]==r&&(--g[E],++v)}b=r}return{t:new ko(g),l:b}},LC=function(t,r,n){return t.s==-1?Math.max(LC(t.l,r,n+1),LC(t.r,r,n+1)):r[t.s]=n},S6=function(t){for(var r=t.length;r&&!t[--r];);for(var n=new mc(++r),a=0,i=t[0],o=1,l=function(u){n[a++]=u},c=1;c<=r;++c)if(t[c]==i&&c!=r)++o;else{if(!i&&o>2){for(;o>138;o-=138)l(32754);o>2&&(l(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(l(i),--o;o>6;o-=6)l(8304);o>2&&(l(o-3<<5|8208),o=0)}for(;o--;)l(i);o=1,i=t[c]}return{c:n.subarray(0,a),n:r}},bx=function(t,r){for(var n=0,a=0;a<r.length;++a)n+=t[a]*r[a];return n},K8=function(t,r,n){var a=n.length,i=D5(r+2);t[i]=a&255,t[i+1]=a>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var o=0;o<a;++o)t[i+o+4]=n[o];return(i+4+a)*8},B6=function(t,r,n,a,i,o,l,c,u,f,A){JA(r,A++,n),++i[256];for(var m=Lj(i,15),p=m.t,g=m.l,b=Lj(o,15),v=b.t,y=b.l,j=S6(p),C=j.c,S=j.n,E=S6(v),D=E.c,k=E.n,L=new mc(19),I=0;I<C.length;++I)++L[C[I]&31];for(var I=0;I<D.length;++I)++L[D[I]&31];for(var Y=Lj(L,7),Q=Y.t,H=Y.l,U=19;U>4&&!Q[PC[U-1]];--U);var K=f+5<<3,X=bx(i,$h)+bx(o,vy)+l,Z=bx(i,p)+bx(o,v)+l+14+3*U+bx(L,Q)+2*L[16]+3*L[17]+7*L[18];if(u>=0&&K<=X&&K<=Z)return K8(r,A,t.subarray(u,u+f));var ee,de,Ne,Se;if(JA(r,A,1+(Z<X)),A+=2,Z<X){ee=rA(p,g,0),de=p,Ne=rA(v,y,0),Se=v;var ue=rA(Q,H,0);JA(r,A,S-257),JA(r,A+5,k-1),JA(r,A+10,U-4),A+=14;for(var I=0;I<U;++I)JA(r,A+3*I,Q[PC[I]]);A+=3*U;for(var xe=[C,D],R=0;R<2;++R)for(var G=xe[R],I=0;I<G.length;++I){var ne=G[I]&31;JA(r,A,ue[ne]),A+=Q[ne],ne>15&&(JA(r,A,G[I]>>5&127),A+=G[I]>>12)}}else ee=Cq,de=$h,Ne=Bq,Se=vy;for(var I=0;I<c;++I){var ae=a[I];if(ae>255){var ne=ae>>18&31;vx(r,A,ee[ne+257]),A+=de[ne+257],ne>7&&(JA(r,A,ae>>23&31),A+=H2[ne]);var oe=ae&31;vx(r,A,Ne[oe]),A+=Se[oe],oe>3&&(vx(r,A,ae>>5&8191),A+=$2[oe])}else vx(r,A,ee[ae]),A+=de[ae]}return vx(r,A,ee[256]),A+de[256]},Iq=new P5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),V8=new ko(0),_q=function(t,r,n,a,i,o){var l=o.z||t.length,c=new ko(a+l+5*(1+Math.ceil(l/7e3))+i),u=c.subarray(a,c.length-i),f=o.l,A=(o.r||0)&7;if(r){A&&(u[0]=o.r>>3);for(var m=Iq[r-1],p=m>>13,g=m&8191,b=(1<<n)-1,v=o.p||new mc(32768),y=o.h||new mc(b+1),j=Math.ceil(n/3),C=2*j,S=function(ye){return(t[ye]^t[ye+1]<<j^t[ye+2]<<C)&b},E=new P5(25e3),D=new mc(288),k=new mc(32),L=0,I=0,Y=o.i||0,Q=0,H=o.w||0,U=0;Y+2<l;++Y){var K=S(Y),X=Y&32767,Z=y[K];if(v[X]=Z,y[K]=X,H<=Y){var ee=l-Y;if((L>7e3||Q>24576)&&(ee>423||!f)){A=B6(t,u,0,E,D,k,I,Q,U,Y-U,A),Q=L=I=0,U=Y;for(var de=0;de<286;++de)D[de]=0;for(var de=0;de<30;++de)k[de]=0}var Ne=2,Se=0,ue=g,xe=X-Z&32767;if(ee>2&&K==S(Y-xe))for(var R=Math.min(p,ee)-1,G=Math.min(32767,Y),ne=Math.min(258,ee);xe<=G&&--ue&&X!=Z;){if(t[Y+Ne]==t[Y+Ne-xe]){for(var ae=0;ae<ne&&t[Y+ae]==t[Y+ae-xe];++ae);if(ae>Ne){if(Ne=ae,Se=xe,ae>R)break;for(var oe=Math.min(xe,ae-2),he=0,de=0;de<oe;++de){var me=Y-xe+de&32767,te=v[me],Ae=me-te&32767;Ae>he&&(he=Ae,Z=me)}}}X=Z,Z=v[X],xe+=X-Z&32767}if(Se){E[Q++]=268435456|DC[Ne]<<18|C6[Se];var V=DC[Ne]&31,ie=C6[Se]&31;I+=H2[V]+$2[ie],++D[257+V],++k[ie],H=Y+Ne,++L}else E[Q++]=t[Y],++D[t[Y]]}}for(Y=Math.max(Y,H);Y<l;++Y)E[Q++]=t[Y],++D[t[Y]];A=B6(t,u,f,E,D,k,I,Q,U,Y-U,A),f||(o.r=A&7|u[A/8|0]<<3,A-=7,o.h=y,o.p=v,o.i=Y,o.w=H)}else{for(var Y=o.w||0;Y<l+f;Y+=65535){var pe=Y+65535;pe>=l&&(u[A/8|0]=f,pe=l),A=K8(u,A+1,t.subarray(Y,pe))}o.i=l}return $8(c,0,a+D5(A)+i)},z8=function(){var t=1,r=0;return{p:function(n){for(var a=t,i=r,o=n.length|0,l=0;l!=o;){for(var c=Math.min(l+2655,o);l<c;++l)i+=a+=n[l];a=(a&65535)+15*(a>>16),i=(i&65535)+15*(i>>16)}t=a,r=i},d:function(){return t%=65521,r%=65521,(t&255)<<24|(t&65280)<<8|(r&255)<<8|r>>8}}},kq=function(t,r,n,a,i){if(!i&&(i={l:1},r.dictionary)){var o=r.dictionary.subarray(-32768),l=new ko(o.length+t.length);l.set(o),l.set(t,o.length),t=l,i.w=o.length}return _q(t,r.level==null?6:r.level,r.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+r.mem,n,a,i)},G8=function(t,r,n){for(;n;++r)t[r]=n,n>>>=8},Pq=function(t,r){var n=r.level,a=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=a<<6|(r.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,r.dictionary){var i=z8();i.p(r.dictionary),G8(t,2,i.d())}},Dq=function(t,r){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&rd(6,"invalid zlib data"),(t[1]>>5&1)==1&&rd(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function UC(t,r){r||(r={});var n=z8();n.p(t);var a=kq(t,r,r.dictionary?6:2,4);return Pq(a,r),G8(a,a.length-4,n.d()),a}function Oq(t,r){return Fq(t.subarray(Dq(t),-4),{i:2},r,r)}var Lq=typeof TextDecoder<"u"&&new TextDecoder,Uq=0;try{Lq.decode(V8,{stream:!0}),Uq=1}catch{}var Wr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Uj(){Wr.console&&typeof Wr.console.log=="function"&&Wr.console.log.apply(Wr.console,arguments)}var ks={log:Uj,warn:function(t){Wr.console&&(typeof Wr.console.warn=="function"?Wr.console.warn.apply(Wr.console,arguments):Uj.call(null,arguments))},error:function(t){Wr.console&&(typeof Wr.console.error=="function"?Wr.console.error.apply(Wr.console,arguments):Uj(t))}};function Mj(t,r,n){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){$m(a.response,r,n)},a.onerror=function(){ks.error("could not download file")},a.send()}function E6(t){var r=new XMLHttpRequest;r.open("HEAD",t,!1);try{r.send()}catch{}return r.status>=200&&r.status<=299}function g1(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(r)}}var Kx,MC,$m=Wr.saveAs||((typeof window>"u"?"undefined":ds(window))!=="object"||window!==Wr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,r,n){var a=Wr.URL||Wr.webkitURL,i=document.createElement("a");r=r||t.name||"download",i.download=r,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?E6(i.href)?Mj(t,r,n):g1(i,i.target="_blank"):g1(i)):(i.href=a.createObjectURL(t),setTimeout(function(){a.revokeObjectURL(i.href)},4e4),setTimeout(function(){g1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,r,n){if(r=r||t.name||"download",typeof t=="string")if(E6(t))Mj(t,r,n);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout(function(){g1(a)})}else navigator.msSaveOrOpenBlob(function(i,o){return o===void 0?o={autoBom:!1}:ds(o)!=="object"&&(ks.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),r)}:function(t,r,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof t=="string")return Mj(t,r,n);var i=t.type==="application/octet-stream",o=/constructor/i.test(Wr.HTMLElement)||Wr.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&o)&&(typeof FileReader>"u"?"undefined":ds(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var A=c.result;A=l?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=A:location=A,a=null},c.readAsDataURL(t)}else{var u=Wr.URL||Wr.webkitURL,f=u.createObjectURL(t);a?a.location=f:location.href=f,a=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function W8(t){var r;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],a=0;a<n.length;a++){var i=n[a].re,o=n[a].process,l=i.exec(t);l&&(r=o(l),this.r=r[0],this.g=r[1],this.b=r[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+c+u+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Rj(t,r){var n=t[0],a=t[1],i=t[2],o=t[3];n=Co(n,a,i,o,r[0],7,-680876936),o=Co(o,n,a,i,r[1],12,-389564586),i=Co(i,o,n,a,r[2],17,606105819),a=Co(a,i,o,n,r[3],22,-1044525330),n=Co(n,a,i,o,r[4],7,-176418897),o=Co(o,n,a,i,r[5],12,1200080426),i=Co(i,o,n,a,r[6],17,-1473231341),a=Co(a,i,o,n,r[7],22,-45705983),n=Co(n,a,i,o,r[8],7,1770035416),o=Co(o,n,a,i,r[9],12,-1958414417),i=Co(i,o,n,a,r[10],17,-42063),a=Co(a,i,o,n,r[11],22,-1990404162),n=Co(n,a,i,o,r[12],7,1804603682),o=Co(o,n,a,i,r[13],12,-40341101),i=Co(i,o,n,a,r[14],17,-1502002290),n=So(n,a=Co(a,i,o,n,r[15],22,1236535329),i,o,r[1],5,-165796510),o=So(o,n,a,i,r[6],9,-1069501632),i=So(i,o,n,a,r[11],14,643717713),a=So(a,i,o,n,r[0],20,-373897302),n=So(n,a,i,o,r[5],5,-701558691),o=So(o,n,a,i,r[10],9,38016083),i=So(i,o,n,a,r[15],14,-660478335),a=So(a,i,o,n,r[4],20,-405537848),n=So(n,a,i,o,r[9],5,568446438),o=So(o,n,a,i,r[14],9,-1019803690),i=So(i,o,n,a,r[3],14,-187363961),a=So(a,i,o,n,r[8],20,1163531501),n=So(n,a,i,o,r[13],5,-1444681467),o=So(o,n,a,i,r[2],9,-51403784),i=So(i,o,n,a,r[7],14,1735328473),n=Bo(n,a=So(a,i,o,n,r[12],20,-1926607734),i,o,r[5],4,-378558),o=Bo(o,n,a,i,r[8],11,-2022574463),i=Bo(i,o,n,a,r[11],16,1839030562),a=Bo(a,i,o,n,r[14],23,-35309556),n=Bo(n,a,i,o,r[1],4,-1530992060),o=Bo(o,n,a,i,r[4],11,1272893353),i=Bo(i,o,n,a,r[7],16,-155497632),a=Bo(a,i,o,n,r[10],23,-1094730640),n=Bo(n,a,i,o,r[13],4,681279174),o=Bo(o,n,a,i,r[0],11,-358537222),i=Bo(i,o,n,a,r[3],16,-722521979),a=Bo(a,i,o,n,r[6],23,76029189),n=Bo(n,a,i,o,r[9],4,-640364487),o=Bo(o,n,a,i,r[12],11,-421815835),i=Bo(i,o,n,a,r[15],16,530742520),n=Eo(n,a=Bo(a,i,o,n,r[2],23,-995338651),i,o,r[0],6,-198630844),o=Eo(o,n,a,i,r[7],10,1126891415),i=Eo(i,o,n,a,r[14],15,-1416354905),a=Eo(a,i,o,n,r[5],21,-57434055),n=Eo(n,a,i,o,r[12],6,1700485571),o=Eo(o,n,a,i,r[3],10,-1894986606),i=Eo(i,o,n,a,r[10],15,-1051523),a=Eo(a,i,o,n,r[1],21,-2054922799),n=Eo(n,a,i,o,r[8],6,1873313359),o=Eo(o,n,a,i,r[15],10,-30611744),i=Eo(i,o,n,a,r[6],15,-1560198380),a=Eo(a,i,o,n,r[13],21,1309151649),n=Eo(n,a,i,o,r[4],6,-145523070),o=Eo(o,n,a,i,r[11],10,-1120210379),i=Eo(i,o,n,a,r[2],15,718787259),a=Eo(a,i,o,n,r[9],21,-343485551),t[0]=_h(n,t[0]),t[1]=_h(a,t[1]),t[2]=_h(i,t[2]),t[3]=_h(o,t[3])}function K2(t,r,n,a,i,o){return r=_h(_h(r,t),_h(a,o)),_h(r<<i|r>>>32-i,n)}function Co(t,r,n,a,i,o,l){return K2(r&n|~r&a,t,r,i,o,l)}function So(t,r,n,a,i,o,l){return K2(r&a|n&~a,t,r,i,o,l)}function Bo(t,r,n,a,i,o,l){return K2(r^n^a,t,r,i,o,l)}function Eo(t,r,n,a,i,o,l){return K2(n^(r|~a),t,r,i,o,l)}function q8(t){var r,n=t.length,a=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=t.length;r+=64)Rj(a,Mq(t.substring(r-64,r)));t=t.substring(r-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<t.length;r++)i[r>>2]|=t.charCodeAt(r)<<(r%4<<3);if(i[r>>2]|=128<<(r%4<<3),r>55)for(Rj(a,i),r=0;r<16;r++)i[r]=0;return i[14]=8*n,Rj(a,i),a}function Mq(t){var r,n=[];for(r=0;r<64;r+=4)n[r>>2]=t.charCodeAt(r)+(t.charCodeAt(r+1)<<8)+(t.charCodeAt(r+2)<<16)+(t.charCodeAt(r+3)<<24);return n}Kx=Wr.atob.bind(Wr),MC=Wr.btoa.bind(Wr);var T6="0123456789abcdef".split("");function Rq(t){for(var r="",n=0;n<4;n++)r+=T6[t>>8*n+4&15]+T6[t>>8*n&15];return r}function Qq(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function RC(t){return q8(t).map(Qq).join("")}var Hq=function(t){for(var r=0;r<t.length;r++)t[r]=Rq(t[r]);return t.join("")}(q8("hello"))!="5d41402abc4b2a76b9719d911017c592";function _h(t,r){if(Hq){var n=(65535&t)+(65535&r);return(t>>16)+(r>>16)+(n>>16)<<16|65535&n}return t+r&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function QC(t,r){var n,a,i,o;if(t!==n){for(var l=(i=t,o=1+(256/t.length>>0),new Array(o+1).join(i)),c=[],u=0;u<256;u++)c[u]=u;var f=0;for(u=0;u<256;u++){var A=c[u];f=(f+A+l.charCodeAt(u))%256,c[u]=c[f],c[f]=A}n=t,a=c}else c=a;var m=r.length,p=0,g=0,b="";for(u=0;u<m;u++)g=(g+(A=c[p=(p+1)%256]))%256,c[p]=c[g],c[g]=A,l=c[(c[p]+c[g])%256],b+=String.fromCharCode(r.charCodeAt(u)^l);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var F6={print:4,modify:8,copy:16,"annot-forms":32};function Fp(t,r,n,a){this.v=1,this.r=2;var i=192;t.forEach(function(c){if(F6.perm!==void 0)throw new Error("Invalid permission: "+c);i+=F6[c]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var o=(r+this.padding).substr(0,32),l=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,l),this.P=-(1+(255^i)),this.encryptionKey=RC(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=QC(this.encryptionKey,this.padding)}function Ip(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var r="",n=t.length,a=0;a<n;a++){var i=t.charCodeAt(a);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?r+="#"+("0"+i.toString(16)).slice(-2):r+=t[a]}return r}function I6(t){if(ds(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(n,a,i){if(i=i||!1,typeof n!="string"||typeof a!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(n)||(r[n]={});var o=Math.random().toString(35);return r[n][o]=[a,!!i],o},this.unsubscribe=function(n){for(var a in r)if(r[a][n])return delete r[a][n],Object.keys(r[a]).length===0&&delete r[a],!0;return!1},this.publish=function(n){if(r.hasOwnProperty(n)){var a=Array.prototype.slice.call(arguments,1),i=[];for(var o in r[n]){var l=r[n][o];try{l[0].apply(t,a)}catch(c){Wr.console&&ks.error("jsPDF PubSub Error",c.message,c)}l[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function by(t){if(!(this instanceof by))return new by(t);var r="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&r.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function Y8(t,r){this.gState=t,this.matrix=r,this.id="",this.objectNumber=-1}function Eh(t,r,n,a,i){if(!(this instanceof Eh))return new Eh(t,r,n,a,i);this.type=t==="axial"?2:3,this.coords=r,this.colors=n,Y8.call(this,a,i)}function Ym(t,r,n,a,i){if(!(this instanceof Ym))return new Ym(t,r,n,a,i);this.boundingBox=t,this.xStep=r,this.yStep=n,this.stream="",this.cloneIndex=0,Y8.call(this,a,i)}function Lr(t){var r,n=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],i=arguments[2],o=arguments[3],l=[],c=1,u=16,f="S",A=null;ds(t=t||{})==="object"&&(n=t.orientation,a=t.unit||a,i=t.format||i,o=t.compress||t.compressPdf||o,(A=t.encryption||null)!==null&&(A.userPassword=A.userPassword||"",A.ownerPassword=A.ownerPassword||"",A.userPermissions=A.userPermissions||[]),c=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(r=t.precision),t.floatPrecision!==void 0&&(u=t.floatPrecision),f=t.defaultPathOperation||"S"),l=t.filters||(o===!0?["FlateEncode"]:l),a=a||"mm",n=(""+(n||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,p={},g={internal:{},__private__:{}};g.__private__.PubSub=I6;var b="1.3",v=g.__private__.getPdfVersion=function(){return b};g.__private__.setPdfVersion=function(W){b=W};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return y};var j=g.__private__.getPageFormat=function(W){return y[W]};i=i||"a4";var C={COMPAT:"compat",ADVANCED:"advanced"},S=C.COMPAT;function E(){this.saveGraphicsState(),le(new xr(Ie,0,0,-Ie,0,Ec()*Ie).toString()+" cm"),this.setFontSize(this.getFontSize()/Ie),f="n",S=C.ADVANCED}function D(){this.restoreGraphicsState(),f="S",S=C.COMPAT}var k=g.__private__.combineFontStyleAndFontWeight=function(W,Fe){if(W=="bold"&&Fe=="normal"||W=="bold"&&Fe==400||W=="normal"&&Fe=="italic"||W=="bold"&&Fe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Fe&&(W=Fe==400||Fe==="normal"?W==="italic"?"italic":"normal":Fe!=700&&Fe!=="bold"||W!=="normal"?(Fe==700?"bold":Fe)+""+W:"bold"),W};g.advancedAPI=function(W){var Fe=S===C.COMPAT;return Fe&&E.call(this),typeof W!="function"||(W(this),Fe&&D.call(this)),this},g.compatAPI=function(W){var Fe=S===C.ADVANCED;return Fe&&D.call(this),typeof W!="function"||(W(this),Fe&&E.call(this)),this},g.isAdvancedAPI=function(){return S===C.ADVANCED};var L,I=function(W){if(S!==C.ADVANCED)throw new Error(W+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Y=g.roundToPrecision=g.__private__.roundToPrecision=function(W,Fe){var rt=r||Fe;if(isNaN(W)||isNaN(rt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return W.toFixed(rt).replace(/0+$/,"")};L=g.hpf=g.__private__.hpf=typeof u=="number"?function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(W,u)}:u==="smart"?function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(W,W>-1&&W<1?16:5)}:function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(W,16)};var Q=g.f2=g.__private__.f2=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.f2");return Y(W,2)},H=g.__private__.f3=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.f3");return Y(W,3)},U=g.scale=g.__private__.scale=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.scale");return S===C.COMPAT?W*Ie:S===C.ADVANCED?W:void 0},K=function(W){return S===C.COMPAT?Ec()-W:S===C.ADVANCED?W:void 0},X=function(W){return U(K(W))};g.__private__.setPrecision=g.setPrecision=function(W){typeof parseInt(W,10)=="number"&&(r=parseInt(W,10))};var Z,ee="00000000000000000000000000000000",de=g.__private__.getFileId=function(){return ee},Ne=g.__private__.setFileId=function(W){return ee=W!==void 0&&/^[a-fA-F0-9]{32}$/.test(W)?W.toUpperCase():ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),A!==null&&(va=new Fp(A.userPermissions,A.userPassword,A.ownerPassword,ee)),ee};g.setFileId=function(W){return Ne(W),this},g.getFileId=function(){return de()};var Se=g.__private__.convertDateToPDFDate=function(W){var Fe=W.getTimezoneOffset(),rt=Fe<0?"+":"-",lt=Math.floor(Math.abs(Fe/60)),bt=Math.abs(Fe%60),Qt=[rt,ne(lt),"'",ne(bt),"'"].join("");return["D:",W.getFullYear(),ne(W.getMonth()+1),ne(W.getDate()),ne(W.getHours()),ne(W.getMinutes()),ne(W.getSeconds()),Qt].join("")},ue=g.__private__.convertPDFDateToDate=function(W){var Fe=parseInt(W.substr(2,4),10),rt=parseInt(W.substr(6,2),10)-1,lt=parseInt(W.substr(8,2),10),bt=parseInt(W.substr(10,2),10),Qt=parseInt(W.substr(12,2),10),rr=parseInt(W.substr(14,2),10);return new Date(Fe,rt,lt,bt,Qt,rr,0)},xe=g.__private__.setCreationDate=function(W){var Fe;if(W===void 0&&(W=new Date),W instanceof Date)Fe=Se(W);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(W))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Fe=W}return Z=Fe},R=g.__private__.getCreationDate=function(W){var Fe=Z;return W==="jsDate"&&(Fe=ue(Z)),Fe};g.setCreationDate=function(W){return xe(W),this},g.getCreationDate=function(W){return R(W)};var G,ne=g.__private__.padd2=function(W){return("0"+parseInt(W)).slice(-2)},ae=g.__private__.padd2Hex=function(W){return("00"+(W=W.toString())).substr(W.length)},oe=0,he=[],me=[],te=0,Ae=[],V=[],ie=!1,pe=me,ye=function(){oe=0,te=0,me=[],he=[],Ae=[],$e=Rn(),Ve=Rn()};g.__private__.setCustomOutputDestination=function(W){ie=!0,pe=W};var ge=function(W){ie||(pe=W)};g.__private__.resetCustomOutputDestination=function(){ie=!1,pe=me};var le=g.__private__.out=function(W){return W=W.toString(),te+=W.length+1,pe.push(W),pe},Qe=g.__private__.write=function(W){return le(arguments.length===1?W.toString():Array.prototype.join.call(arguments," "))},ce=g.__private__.getArrayBuffer=function(W){for(var Fe=W.length,rt=new ArrayBuffer(Fe),lt=new Uint8Array(rt);Fe--;)lt[Fe]=W.charCodeAt(Fe);return rt},se=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return se};var je=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(W){return je=S===C.ADVANCED?W/Ie:W,this};var we,q=g.__private__.getFontSize=g.getFontSize=function(){return S===C.COMPAT?je:je*Ie},be=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(W){return be=W,this},g.__private__.getR2L=g.getR2L=function(){return be};var Ee,Re=g.__private__.setZoomMode=function(W){var Fe=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(W))we=W;else if(isNaN(W)){if(Fe.indexOf(W)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+W+'" is not recognized.');we=W}else we=parseInt(W,10)};g.__private__.getZoomMode=function(){return we};var it,et=g.__private__.setPageMode=function(W){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(W)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+W+'" is not recognized.');Ee=W};g.__private__.getPageMode=function(){return Ee};var Ct=g.__private__.setLayoutMode=function(W){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(W)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+W+'" is not recognized.');it=W};g.__private__.getLayoutMode=function(){return it},g.__private__.setDisplayMode=g.setDisplayMode=function(W,Fe,rt){return Re(W),Ct(Fe),et(rt),this};var _t={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(W){if(Object.keys(_t).indexOf(W)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return _t[W]},g.__private__.getDocumentProperties=function(){return _t},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(W){for(var Fe in _t)_t.hasOwnProperty(Fe)&&W[Fe]&&(_t[Fe]=W[Fe]);return this},g.__private__.setDocumentProperty=function(W,Fe){if(Object.keys(_t).indexOf(W)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return _t[W]=Fe};var ot,Ie,qe,at,Ut,Ue={},At={},Ce=[],tt={},gt={},Kt={},Ke={},Tt=null,wt=0,Dt=[],ir=new I6(g),Dr=t.hotfixes||[],Xr={},hs={},kn=[],xr=function W(Fe,rt,lt,bt,Qt,rr){if(!(this instanceof W))return new W(Fe,rt,lt,bt,Qt,rr);isNaN(Fe)&&(Fe=1),isNaN(rt)&&(rt=0),isNaN(lt)&&(lt=0),isNaN(bt)&&(bt=1),isNaN(Qt)&&(Qt=0),isNaN(rr)&&(rr=0),this._matrix=[Fe,rt,lt,bt,Qt,rr]};Object.defineProperty(xr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(W){this._matrix[0]=W}}),Object.defineProperty(xr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(W){this._matrix[1]=W}}),Object.defineProperty(xr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(W){this._matrix[2]=W}}),Object.defineProperty(xr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(W){this._matrix[3]=W}}),Object.defineProperty(xr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(W){this._matrix[4]=W}}),Object.defineProperty(xr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(W){this._matrix[5]=W}}),Object.defineProperty(xr.prototype,"a",{get:function(){return this._matrix[0]},set:function(W){this._matrix[0]=W}}),Object.defineProperty(xr.prototype,"b",{get:function(){return this._matrix[1]},set:function(W){this._matrix[1]=W}}),Object.defineProperty(xr.prototype,"c",{get:function(){return this._matrix[2]},set:function(W){this._matrix[2]=W}}),Object.defineProperty(xr.prototype,"d",{get:function(){return this._matrix[3]},set:function(W){this._matrix[3]=W}}),Object.defineProperty(xr.prototype,"e",{get:function(){return this._matrix[4]},set:function(W){this._matrix[4]=W}}),Object.defineProperty(xr.prototype,"f",{get:function(){return this._matrix[5]},set:function(W){this._matrix[5]=W}}),Object.defineProperty(xr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(xr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(xr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(xr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),xr.prototype.join=function(W){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(W)},xr.prototype.multiply=function(W){var Fe=W.sx*this.sx+W.shy*this.shx,rt=W.sx*this.shy+W.shy*this.sy,lt=W.shx*this.sx+W.sy*this.shx,bt=W.shx*this.shy+W.sy*this.sy,Qt=W.tx*this.sx+W.ty*this.shx+this.tx,rr=W.tx*this.shy+W.ty*this.sy+this.ty;return new xr(Fe,rt,lt,bt,Qt,rr)},xr.prototype.decompose=function(){var W=this.sx,Fe=this.shy,rt=this.shx,lt=this.sy,bt=this.tx,Qt=this.ty,rr=Math.sqrt(W*W+Fe*Fe),yr=(W/=rr)*rt+(Fe/=rr)*lt;rt-=W*yr,lt-=Fe*yr;var Fr=Math.sqrt(rt*rt+lt*lt);return yr/=Fr,W*(lt/=Fr)<Fe*(rt/=Fr)&&(W=-W,Fe=-Fe,yr=-yr,rr=-rr),{scale:new xr(rr,0,0,Fr,0,0),translate:new xr(1,0,0,1,bt,Qt),rotate:new xr(W,Fe,-Fe,W,0,0),skew:new xr(1,0,yr,1,0,0)}},xr.prototype.toString=function(W){return this.join(" ")},xr.prototype.inversed=function(){var W=this.sx,Fe=this.shy,rt=this.shx,lt=this.sy,bt=this.tx,Qt=this.ty,rr=1/(W*lt-Fe*rt),yr=lt*rr,Fr=-Fe*rr,zr=-rt*rr,$r=W*rr;return new xr(yr,Fr,zr,$r,-yr*bt-zr*Qt,-Fr*bt-$r*Qt)},xr.prototype.applyToPoint=function(W){var Fe=W.x*this.sx+W.y*this.shx+this.tx,rt=W.x*this.shy+W.y*this.sy+this.ty;return new wd(Fe,rt)},xr.prototype.applyToRectangle=function(W){var Fe=this.applyToPoint(W),rt=this.applyToPoint(new wd(W.x+W.w,W.y+W.h));return new wA(Fe.x,Fe.y,rt.x-Fe.x,rt.y-Fe.y)},xr.prototype.clone=function(){var W=this.sx,Fe=this.shy,rt=this.shx,lt=this.sy,bt=this.tx,Qt=this.ty;return new xr(W,Fe,rt,lt,bt,Qt)},g.Matrix=xr;var En=g.matrixMult=function(W,Fe){return Fe.multiply(W)},Mn=new xr(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Mn;var ns=function(W,Fe){if(!gt[W]){var rt=(Fe instanceof Eh?"Sh":"P")+(Object.keys(tt).length+1).toString(10);Fe.id=rt,gt[W]=rt,tt[rt]=Fe,ir.publish("addPattern",Fe)}};g.ShadingPattern=Eh,g.TilingPattern=Ym,g.addShadingPattern=function(W,Fe){return I("addShadingPattern()"),ns(W,Fe),this},g.beginTilingPattern=function(W){I("beginTilingPattern()"),jd(W.boundingBox[0],W.boundingBox[1],W.boundingBox[2]-W.boundingBox[0],W.boundingBox[3]-W.boundingBox[1],W.matrix)},g.endTilingPattern=function(W,Fe){I("endTilingPattern()"),Fe.stream=V[G].join(`
`),ns(W,Fe),ir.publish("endTilingPattern",Fe),kn.pop().restore()};var jr=g.__private__.newObject=function(){var W=Rn();return ke(W,!0),W},Rn=g.__private__.newObjectDeferred=function(){return oe++,he[oe]=function(){return te},oe},ke=function(W,Fe){return Fe=typeof Fe=="boolean"&&Fe,he[W]=te,Fe&&le(W+" 0 obj"),W},Xe=g.__private__.newAdditionalObject=function(){var W={objId:Rn(),content:""};return Ae.push(W),W},$e=Rn(),Ve=Rn(),Je=g.__private__.decodeColorString=function(W){var Fe=W.split(" ");if(Fe.length!==2||Fe[1]!=="g"&&Fe[1]!=="G")Fe.length===5&&(Fe[4]==="k"||Fe[4]==="K")&&(Fe=[(1-Fe[0])*(1-Fe[3]),(1-Fe[1])*(1-Fe[3]),(1-Fe[2])*(1-Fe[3]),"r"]);else{var rt=parseFloat(Fe[0]);Fe=[rt,rt,rt,"r"]}for(var lt="#",bt=0;bt<3;bt++)lt+=("0"+Math.floor(255*parseFloat(Fe[bt])).toString(16)).slice(-2);return lt},Ze=g.__private__.encodeColorString=function(W){var Fe;typeof W=="string"&&(W={ch1:W});var rt=W.ch1,lt=W.ch2,bt=W.ch3,Qt=W.ch4,rr=W.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof rt=="string"&&rt.charAt(0)!=="#"){var yr=new W8(rt);if(yr.ok)rt=yr.toHex();else if(!/^\d*\.?\d*$/.test(rt))throw new Error('Invalid color "'+rt+'" passed to jsPDF.encodeColorString.')}if(typeof rt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(rt)&&(rt="#"+rt[1]+rt[1]+rt[2]+rt[2]+rt[3]+rt[3]),typeof rt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(rt)){var Fr=parseInt(rt.substr(1),16);rt=Fr>>16&255,lt=Fr>>8&255,bt=255&Fr}if(lt===void 0||Qt===void 0&&rt===lt&&lt===bt)if(typeof rt=="string")Fe=rt+" "+rr[0];else switch(W.precision){case 2:Fe=Q(rt/255)+" "+rr[0];break;case 3:default:Fe=H(rt/255)+" "+rr[0]}else if(Qt===void 0||ds(Qt)==="object"){if(Qt&&!isNaN(Qt.a)&&Qt.a===0)return Fe=["1.","1.","1.",rr[1]].join(" ");if(typeof rt=="string")Fe=[rt,lt,bt,rr[1]].join(" ");else switch(W.precision){case 2:Fe=[Q(rt/255),Q(lt/255),Q(bt/255),rr[1]].join(" ");break;default:case 3:Fe=[H(rt/255),H(lt/255),H(bt/255),rr[1]].join(" ")}}else if(typeof rt=="string")Fe=[rt,lt,bt,Qt,rr[2]].join(" ");else switch(W.precision){case 2:Fe=[Q(rt),Q(lt),Q(bt),Q(Qt),rr[2]].join(" ");break;case 3:default:Fe=[H(rt),H(lt),H(bt),H(Qt),rr[2]].join(" ")}return Fe},vt=g.__private__.getFilters=function(){return l},Oe=g.__private__.putStream=function(W){var Fe=(W=W||{}).data||"",rt=W.filters||vt(),lt=W.alreadyAppliedFilters||[],bt=W.addLength1||!1,Qt=Fe.length,rr=W.objectId,yr=function(Gs){return Gs};if(A!==null&&rr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");A!==null&&(yr=va.encryptor(rr,0));var Fr={};rt===!0&&(rt=["FlateEncode"]);var zr=W.additionalKeyValues||[],$r=(Fr=Lr.API.processDataByFilters!==void 0?Lr.API.processDataByFilters(Fe,rt):{data:Fe,reverseChain:[]}).reverseChain+(Array.isArray(lt)?lt.join(" "):lt.toString());if(Fr.data.length!==0&&(zr.push({key:"Length",value:Fr.data.length}),bt===!0&&zr.push({key:"Length1",value:Qt})),$r.length!=0)if($r.split("/").length-1==1)zr.push({key:"Filter",value:$r});else{zr.push({key:"Filter",value:"["+$r+"]"});for(var fn=0;fn<zr.length;fn+=1)if(zr[fn].key==="DecodeParms"){for(var Hn=[],$n=0;$n<Fr.reverseChain.split("/").length-1;$n+=1)Hn.push("null");Hn.push(zr[fn].value),zr[fn].value="["+Hn.join(" ")+"]"}}le("<<");for(var Ur=0;Ur<zr.length;Ur++)le("/"+zr[Ur].key+" "+zr[Ur].value);le(">>"),Fr.data.length!==0&&(le("stream"),le(yr(Fr.data)),le("endstream"))},Ge=g.__private__.putPage=function(W){var Fe=W.number,rt=W.data,lt=W.objId,bt=W.contentsObjId;ke(lt,!0),le("<</Type /Page"),le("/Parent "+W.rootDictionaryObjId+" 0 R"),le("/Resources "+W.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(L(W.mediaBox.bottomLeftX))+" "+parseFloat(L(W.mediaBox.bottomLeftY))+" "+L(W.mediaBox.topRightX)+" "+L(W.mediaBox.topRightY)+"]"),W.cropBox!==null&&le("/CropBox ["+L(W.cropBox.bottomLeftX)+" "+L(W.cropBox.bottomLeftY)+" "+L(W.cropBox.topRightX)+" "+L(W.cropBox.topRightY)+"]"),W.bleedBox!==null&&le("/BleedBox ["+L(W.bleedBox.bottomLeftX)+" "+L(W.bleedBox.bottomLeftY)+" "+L(W.bleedBox.topRightX)+" "+L(W.bleedBox.topRightY)+"]"),W.trimBox!==null&&le("/TrimBox ["+L(W.trimBox.bottomLeftX)+" "+L(W.trimBox.bottomLeftY)+" "+L(W.trimBox.topRightX)+" "+L(W.trimBox.topRightY)+"]"),W.artBox!==null&&le("/ArtBox ["+L(W.artBox.bottomLeftX)+" "+L(W.artBox.bottomLeftY)+" "+L(W.artBox.topRightX)+" "+L(W.artBox.topRightY)+"]"),typeof W.userUnit=="number"&&W.userUnit!==1&&le("/UserUnit "+W.userUnit),ir.publish("putPage",{objId:lt,pageContext:Dt[Fe],pageNumber:Fe,page:rt}),le("/Contents "+bt+" 0 R"),le(">>"),le("endobj");var Qt=rt.join(`
`);return S===C.ADVANCED&&(Qt+=`
Q`),ke(bt,!0),Oe({data:Qt,filters:vt(),objectId:bt}),le("endobj"),lt},nt=g.__private__.putPages=function(){var W,Fe,rt=[];for(W=1;W<=wt;W++)Dt[W].objId=Rn(),Dt[W].contentsObjId=Rn();for(W=1;W<=wt;W++)rt.push(Ge({number:W,data:V[W],objId:Dt[W].objId,contentsObjId:Dt[W].contentsObjId,mediaBox:Dt[W].mediaBox,cropBox:Dt[W].cropBox,bleedBox:Dt[W].bleedBox,trimBox:Dt[W].trimBox,artBox:Dt[W].artBox,userUnit:Dt[W].userUnit,rootDictionaryObjId:$e,resourceDictionaryObjId:Ve}));ke($e,!0),le("<</Type /Pages");var lt="/Kids [";for(Fe=0;Fe<wt;Fe++)lt+=rt[Fe]+" 0 R ";le(lt+"]"),le("/Count "+wt),le(">>"),le("endobj"),ir.publish("postPutPages")},xt=function(W){ir.publish("putFont",{font:W,out:le,newObject:jr,putStream:Oe}),W.isAlreadyPutted!==!0&&(W.objectNumber=jr(),le("<<"),le("/Type /Font"),le("/BaseFont /"+Ip(W.postScriptName)),le("/Subtype /Type1"),typeof W.encoding=="string"&&le("/Encoding /"+W.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},Gt=function(){for(var W in Ue)Ue.hasOwnProperty(W)&&(m===!1||m===!0&&p.hasOwnProperty(W))&&xt(Ue[W])},Xt=function(W){W.objectNumber=jr();var Fe=[];Fe.push({key:"Type",value:"/XObject"}),Fe.push({key:"Subtype",value:"/Form"}),Fe.push({key:"BBox",value:"["+[L(W.x),L(W.y),L(W.x+W.width),L(W.y+W.height)].join(" ")+"]"}),Fe.push({key:"Matrix",value:"["+W.matrix.toString()+"]"});var rt=W.pages[1].join(`
`);Oe({data:rt,additionalKeyValues:Fe,objectId:W.objectNumber}),le("endobj")},tr=function(){for(var W in Xr)Xr.hasOwnProperty(W)&&Xt(Xr[W])},nr=function(W,Fe){var rt,lt=[],bt=1/(Fe-1);for(rt=0;rt<1;rt+=bt)lt.push(rt);if(lt.push(1),W[0].offset!=0){var Qt={offset:0,color:W[0].color};W.unshift(Qt)}if(W[W.length-1].offset!=1){var rr={offset:1,color:W[W.length-1].color};W.push(rr)}for(var yr="",Fr=0,zr=0;zr<lt.length;zr++){for(rt=lt[zr];rt>W[Fr+1].offset;)Fr++;var $r=W[Fr].offset,fn=(rt-$r)/(W[Fr+1].offset-$r),Hn=W[Fr].color,$n=W[Fr+1].color;yr+=ae(Math.round((1-fn)*Hn[0]+fn*$n[0]).toString(16))+ae(Math.round((1-fn)*Hn[1]+fn*$n[1]).toString(16))+ae(Math.round((1-fn)*Hn[2]+fn*$n[2]).toString(16))}return yr.trim()},pr=function(W,Fe){Fe||(Fe=21);var rt=jr(),lt=nr(W.colors,Fe),bt=[];bt.push({key:"FunctionType",value:"0"}),bt.push({key:"Domain",value:"[0.0 1.0]"}),bt.push({key:"Size",value:"["+Fe+"]"}),bt.push({key:"BitsPerSample",value:"8"}),bt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),bt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Oe({data:lt,additionalKeyValues:bt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:rt}),le("endobj"),W.objectNumber=jr(),le("<< /ShadingType "+W.type),le("/ColorSpace /DeviceRGB");var Qt="/Coords ["+L(parseFloat(W.coords[0]))+" "+L(parseFloat(W.coords[1]))+" ";W.type===2?Qt+=L(parseFloat(W.coords[2]))+" "+L(parseFloat(W.coords[3])):Qt+=L(parseFloat(W.coords[2]))+" "+L(parseFloat(W.coords[3]))+" "+L(parseFloat(W.coords[4]))+" "+L(parseFloat(W.coords[5])),le(Qt+="]"),W.matrix&&le("/Matrix ["+W.matrix.toString()+"]"),le("/Function "+rt+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},Rr=function(W,Fe){var rt=Rn(),lt=jr();Fe.push({resourcesOid:rt,objectOid:lt}),W.objectNumber=lt;var bt=[];bt.push({key:"Type",value:"/Pattern"}),bt.push({key:"PatternType",value:"1"}),bt.push({key:"PaintType",value:"1"}),bt.push({key:"TilingType",value:"1"}),bt.push({key:"BBox",value:"["+W.boundingBox.map(L).join(" ")+"]"}),bt.push({key:"XStep",value:L(W.xStep)}),bt.push({key:"YStep",value:L(W.yStep)}),bt.push({key:"Resources",value:rt+" 0 R"}),W.matrix&&bt.push({key:"Matrix",value:"["+W.matrix.toString()+"]"}),Oe({data:W.stream,additionalKeyValues:bt,objectId:W.objectNumber}),le("endobj")},cn=function(W){var Fe;for(Fe in tt)tt.hasOwnProperty(Fe)&&(tt[Fe]instanceof Eh?pr(tt[Fe]):tt[Fe]instanceof Ym&&Rr(tt[Fe],W))},Cn=function(W){for(var Fe in W.objectNumber=jr(),le("<<"),W)switch(Fe){case"opacity":le("/ca "+Q(W[Fe]));break;case"stroke-opacity":le("/CA "+Q(W[Fe]))}le(">>"),le("endobj")},Tn=function(){var W;for(W in Kt)Kt.hasOwnProperty(W)&&Cn(Kt[W])},bi=function(){for(var W in le("/XObject <<"),Xr)Xr.hasOwnProperty(W)&&Xr[W].objectNumber>=0&&le("/"+W+" "+Xr[W].objectNumber+" 0 R");ir.publish("putXobjectDict"),le(">>")},wi=function(){va.oid=jr(),le("<<"),le("/Filter /Standard"),le("/V "+va.v),le("/R "+va.r),le("/U <"+va.toHexString(va.U)+">"),le("/O <"+va.toHexString(va.O)+">"),le("/P "+va.P),le(">>"),le("endobj")},ni=function(){for(var W in le("/Font <<"),Ue)Ue.hasOwnProperty(W)&&(m===!1||m===!0&&p.hasOwnProperty(W))&&le("/"+W+" "+Ue[W].objectNumber+" 0 R");le(">>")},Vi=function(){if(Object.keys(tt).length>0){for(var W in le("/Shading <<"),tt)tt.hasOwnProperty(W)&&tt[W]instanceof Eh&&tt[W].objectNumber>=0&&le("/"+W+" "+tt[W].objectNumber+" 0 R");ir.publish("putShadingPatternDict"),le(">>")}},si=function(W){if(Object.keys(tt).length>0){for(var Fe in le("/Pattern <<"),tt)tt.hasOwnProperty(Fe)&&tt[Fe]instanceof g.TilingPattern&&tt[Fe].objectNumber>=0&&tt[Fe].objectNumber<W&&le("/"+Fe+" "+tt[Fe].objectNumber+" 0 R");ir.publish("putTilingPatternDict"),le(">>")}},Ia=function(){if(Object.keys(Kt).length>0){var W;for(W in le("/ExtGState <<"),Kt)Kt.hasOwnProperty(W)&&Kt[W].objectNumber>=0&&le("/"+W+" "+Kt[W].objectNumber+" 0 R");ir.publish("putGStateDict"),le(">>")}},Os=function(W){ke(W.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ni(),Vi(),si(W.objectOid),Ia(),bi(),le(">>"),le("endobj")},ai=function(){var W=[];Gt(),Tn(),tr(),cn(W),ir.publish("putResources"),W.forEach(Os),Os({resourcesOid:Ve,objectOid:Number.MAX_SAFE_INTEGER}),ir.publish("postPutResources")},hA=function(){ir.publish("putAdditionalObjects");for(var W=0;W<Ae.length;W++){var Fe=Ae[W];ke(Fe.objId,!0),le(Fe.content),le("endobj")}ir.publish("postPutAdditionalObjects")},cu=function(W){At[W.fontName]=At[W.fontName]||{},At[W.fontName][W.fontStyle]=W.id},Qo=function(W,Fe,rt,lt,bt){var Qt={id:"F"+(Object.keys(Ue).length+1).toString(10),postScriptName:W,fontName:Fe,fontStyle:rt,encoding:lt,isStandardFont:bt||!1,metadata:{}};return ir.publish("addFont",{font:Qt,instance:this}),Ue[Qt.id]=Qt,cu(Qt),Qt.id},bc=function(W){for(var Fe=0,rt=se.length;Fe<rt;Fe++){var lt=Qo.call(this,W[Fe][0],W[Fe][1],W[Fe][2],se[Fe][3],!0);m===!1&&(p[lt]=!0);var bt=W[Fe][0].split("-");cu({id:lt,fontName:bt[0],fontStyle:bt[1]||""})}ir.publish("addFonts",{fonts:Ue,dictionary:At})},ji=function(W){return W.foo=function(){try{return W.apply(this,arguments)}catch(lt){var Fe=lt.stack||"";~Fe.indexOf(" at ")&&(Fe=Fe.split(" at ")[1]);var rt="Error in function "+Fe.split(`
`)[0].split("<")[0]+": "+lt.message;if(!Wr.console)throw new Error(rt);Wr.console.error(rt,lt),Wr.alert&&alert(rt)}},W.foo.bar=W,W.foo},da=function(W,Fe){var rt,lt,bt,Qt,rr,yr,Fr,zr,$r;if(bt=(Fe=Fe||{}).sourceEncoding||"Unicode",rr=Fe.outputEncoding,(Fe.autoencode||rr)&&Ue[ot].metadata&&Ue[ot].metadata[bt]&&Ue[ot].metadata[bt].encoding&&(Qt=Ue[ot].metadata[bt].encoding,!rr&&Ue[ot].encoding&&(rr=Ue[ot].encoding),!rr&&Qt.codePages&&(rr=Qt.codePages[0]),typeof rr=="string"&&(rr=Qt[rr]),rr)){for(Fr=!1,yr=[],rt=0,lt=W.length;rt<lt;rt++)(zr=rr[W.charCodeAt(rt)])?yr.push(String.fromCharCode(zr)):yr.push(W[rt]),yr[rt].charCodeAt(0)>>8&&(Fr=!0);W=yr.join("")}for(rt=W.length;Fr===void 0&&rt!==0;)W.charCodeAt(rt-1)>>8&&(Fr=!0),rt--;if(!Fr)return W;for(yr=Fe.noBOM?[]:[254,255],rt=0,lt=W.length;rt<lt;rt++){if(($r=(zr=W.charCodeAt(rt))>>8)>>8)throw new Error("Character at position "+rt+" of string '"+W+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");yr.push($r),yr.push(zr-($r<<8))}return String.fromCharCode.apply(void 0,yr)},ss=g.__private__.pdfEscape=g.pdfEscape=function(W,Fe){return da(W,Fe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},uu=g.__private__.beginPage=function(W){V[++wt]=[],Dt[wt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(W[0]),topRightY:Number(W[1])}},Ul(wt),ge(V[G])},mA=function(W,Fe){var rt,lt,bt;switch(n=Fe||n,typeof W=="string"&&(rt=j(W.toLowerCase()),Array.isArray(rt)&&(lt=rt[0],bt=rt[1])),Array.isArray(W)&&(lt=W[0]*Ie,bt=W[1]*Ie),isNaN(lt)&&(lt=i[0],bt=i[1]),(lt>14400||bt>14400)&&(ks.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),lt=Math.min(14400,lt),bt=Math.min(14400,bt)),i=[lt,bt],n.substr(0,1)){case"l":bt>lt&&(i=[bt,lt]);break;case"p":lt>bt&&(i=[bt,lt])}uu(i),Mf(Hl),le(Si),fu!==0&&le(fu+" J"),bd!==0&&le(bd+" j"),ir.publish("addPage",{pageNumber:wt})},pA=function(W){W>0&&W<=wt&&(V.splice(W,1),Dt.splice(W,1),wt--,G>wt&&(G=wt),this.setPage(G))},Ul=function(W){W>0&&W<=wt&&(G=W)},Of=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return V.length-1},gA=function(W,Fe,rt){var lt,bt=void 0;return rt=rt||{},W=W!==void 0?W:Ue[ot].fontName,Fe=Fe!==void 0?Fe:Ue[ot].fontStyle,lt=W.toLowerCase(),At[lt]!==void 0&&At[lt][Fe]!==void 0?bt=At[lt][Fe]:At[W]!==void 0&&At[W][Fe]!==void 0?bt=At[W][Fe]:rt.disableWarning===!1&&ks.warn("Unable to look up font label for font '"+W+"', '"+Fe+"'. Refer to getFontList() for available fonts."),bt||rt.noFallback||(bt=At.times[Fe])==null&&(bt=At.times.normal),bt},wc=g.__private__.putInfo=function(){var W=jr(),Fe=function(lt){return lt};for(var rt in A!==null&&(Fe=va.encryptor(W,0)),le("<<"),le("/Producer ("+ss(Fe("jsPDF "+Lr.version))+")"),_t)_t.hasOwnProperty(rt)&&_t[rt]&&le("/"+rt.substr(0,1).toUpperCase()+rt.substr(1)+" ("+ss(Fe(_t[rt]))+")");le("/CreationDate ("+ss(Fe(Z))+")"),le(">>"),le("endobj")},jc=g.__private__.putCatalog=function(W){var Fe=(W=W||{}).rootDictionaryObjId||$e;switch(jr(),le("<<"),le("/Type /Catalog"),le("/Pages "+Fe+" 0 R"),we||(we="fullwidth"),we){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var rt=""+we;rt.substr(rt.length-1)==="%"&&(we=parseInt(we)/100),typeof we=="number"&&le("/OpenAction [3 0 R /XYZ null null "+Q(we)+"]")}switch(it||(it="continuous"),it){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}Ee&&le("/PageMode /"+Ee),ir.publish("putCatalog"),le(">>"),le("endobj")},Lf=g.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(oe+1)),le("/Root "+oe+" 0 R"),le("/Info "+(oe-1)+" 0 R"),A!==null&&le("/Encrypt "+va.oid+" 0 R"),le("/ID [ <"+ee+"> <"+ee+"> ]"),le(">>")},xA=g.__private__.putHeader=function(){le("%PDF-"+b),le("%ºß¬à")},yA=g.__private__.putXRef=function(){var W="0000000000";le("xref"),le("0 "+(oe+1)),le("0000000000 65535 f ");for(var Fe=1;Fe<=oe;Fe++)typeof he[Fe]=="function"?le((W+he[Fe]()).slice(-10)+" 00000 n "):he[Fe]!==void 0?le((W+he[Fe]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},Ml=g.__private__.buildDocument=function(){ye(),ge(me),ir.publish("buildDocument"),xA(),nt(),hA(),ai(),A!==null&&wi(),wc(),jc();var W=te;return yA(),Lf(),le("startxref"),le(""+W),le("%%EOF"),ge(V[G]),me.join(`
`)},du=g.__private__.getBlob=function(W){return new Blob([ce(W)],{type:"application/pdf"})},Ho=g.output=g.__private__.output=ji(function(W,Fe){switch(typeof(Fe=Fe||{})=="string"?Fe={filename:Fe}:Fe.filename=Fe.filename||"generated.pdf",W){case void 0:return Ml();case"save":g.save(Fe.filename);break;case"arraybuffer":return ce(Ml());case"blob":return du(Ml());case"bloburi":case"bloburl":if(Wr.URL!==void 0&&typeof Wr.URL.createObjectURL=="function")return Wr.URL&&Wr.URL.createObjectURL(du(Ml()))||void 0;ks.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var rt="",lt=Ml();try{rt=MC(lt)}catch{rt=MC(unescape(encodeURIComponent(lt)))}return"data:application/pdf;filename="+Fe.filename+";base64,"+rt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Wr)==="[object Window]"){var bt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Qt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Fe.pdfObjectUrl&&(bt=Fe.pdfObjectUrl,Qt="");var rr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+bt+'"'+Qt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Fe)+");<\/script></body></html>",yr=Wr.open();return yr!==null&&yr.document.write(rr),yr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Wr)==="[object Window]"){var Fr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Fe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Fe.filename+'" width="500px" height="400px" /></body></html>',zr=Wr.open();if(zr!==null){zr.document.write(Fr);var $r=this;zr.document.documentElement.querySelector("#pdfViewer").onload=function(){zr.document.title=Fe.filename,zr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open($r.output("bloburl"))}}return zr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Wr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var fn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Fe)+'"></iframe></body></html>',Hn=Wr.open();if(Hn!==null&&(Hn.document.write(fn),Hn.document.title=Fe.filename),Hn||typeof safari>"u")return Hn;break;case"datauri":case"dataurl":return Wr.document.location.href=this.output("datauristring",Fe);default:return null}}),Ao=function(W){return Array.isArray(Dr)===!0&&Dr.indexOf(W)>-1};switch(a){case"pt":Ie=1;break;case"mm":Ie=72/25.4;break;case"cm":Ie=72/2.54;break;case"in":Ie=72;break;case"px":Ie=Ao("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ie=12;break;case"ex":Ie=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);Ie=a}var va=null;xe(),Ne();var Nc=function(W){return A!==null?va.encryptor(W,0):function(Fe){return Fe}},Rl=g.__private__.getPageInfo=g.getPageInfo=function(W){if(isNaN(W)||W%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Dt[W].objId,pageNumber:W,pageContext:Dt[W]}},Or=g.__private__.getPageInfoByObjId=function(W){if(isNaN(W)||W%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Fe in Dt)if(Dt[Fe].objId===W)break;return Rl(Fe)},vA=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Dt[G].objId,pageNumber:G,pageContext:Dt[G]}};g.addPage=function(){return mA.apply(this,arguments),this},g.setPage=function(){return Ul.apply(this,arguments),ge.call(this,V[G]),this},g.insertPage=function(W){return this.addPage(),this.movePage(G,W),this},g.movePage=function(W,Fe){var rt,lt;if(W>Fe){rt=V[W],lt=Dt[W];for(var bt=W;bt>Fe;bt--)V[bt]=V[bt-1],Dt[bt]=Dt[bt-1];V[Fe]=rt,Dt[Fe]=lt,this.setPage(Fe)}else if(W<Fe){rt=V[W],lt=Dt[W];for(var Qt=W;Qt<Fe;Qt++)V[Qt]=V[Qt+1],Dt[Qt]=Dt[Qt+1];V[Fe]=rt,Dt[Fe]=lt,this.setPage(Fe)}return this},g.deletePage=function(){return pA.apply(this,arguments),this},g.__private__.text=g.text=function(W,Fe,rt,lt,bt){var Qt,rr,yr,Fr,zr,$r,fn,Hn,$n,Ur=(lt=lt||{}).scope||this;if(typeof W=="number"&&typeof Fe=="number"&&(typeof rt=="string"||Array.isArray(rt))){var Gs=rt;rt=Fe,Fe=W,W=Gs}if(arguments[3]instanceof xr?(I("The transform parameter of text() with a Matrix value"),$n=bt):(yr=arguments[4],Fr=arguments[5],ds(fn=arguments[3])==="object"&&fn!==null||(typeof yr=="string"&&(Fr=yr,yr=null),typeof fn=="string"&&(Fr=fn,fn=null),typeof fn=="number"&&(yr=fn,fn=null),lt={flags:fn,angle:yr,align:Fr})),isNaN(Fe)||isNaN(rt)||W==null)throw new Error("Invalid arguments passed to jsPDF.text");if(W.length===0)return Ur;var ra="",ho=!1,ba=typeof lt.lineHeightFactor=="number"?lt.lineHeightFactor:Ci,na=Ur.internal.scaleFactor;function CA(sn){return sn=sn.split("	").join(Array(lt.TabLen||9).join(" ")),ss(sn,fn)}function $a(sn){for(var an,ts=sn.concat(),ps=[],mo=ts.length;mo--;)typeof(an=ts.shift())=="string"?ps.push(an):Array.isArray(sn)&&(an.length===1||an[1]===void 0&&an[2]===void 0)?ps.push(an[0]):ps.push([an[0],an[1],an[2]]);return ps}function Kn(sn,an){var ts;if(typeof sn=="string")ts=an(sn)[0];else if(Array.isArray(sn)){for(var ps,mo,Dc=sn.concat(),xl=[],zl=Dc.length;zl--;)typeof(ps=Dc.shift())=="string"?xl.push(an(ps)[0]):Array.isArray(ps)&&typeof ps[0]=="string"&&(mo=an(ps[0],ps[1],ps[2]),xl.push([mo[0],mo[1],mo[2]]));ts=xl}return ts}var mu=!1,ms=!0;if(typeof W=="string")mu=!0;else if(Array.isArray(W)){var Tc=W.concat();rr=[];for(var Bi,Bs=Tc.length;Bs--;)(typeof(Bi=Tc.shift())!="string"||Array.isArray(Bi)&&typeof Bi[0]!="string")&&(ms=!1);mu=ms}if(mu===!1)throw new Error('Type of text must be string or Array. "'+W+'" is not recognized.');typeof W=="string"&&(W=W.match(/[\r?\n]/)?W.split(/\r\n|\r|\n/g):[W]);var vn=je/Ur.internal.scaleFactor,Fc=vn*(ba-1);switch(lt.baseline){case"bottom":rt-=Fc;break;case"top":rt+=vn-Fc;break;case"hanging":rt+=vn-2*Fc;break;case"middle":rt+=vn/2-Fc}if(($r=lt.maxWidth||0)>0&&(typeof W=="string"?W=Ur.splitTextToSize(W,$r):Object.prototype.toString.call(W)==="[object Array]"&&(W=W.reduce(function(sn,an){return sn.concat(Ur.splitTextToSize(an,$r))},[]))),Qt={text:W,x:Fe,y:rt,options:lt,mutex:{pdfEscape:ss,activeFontKey:ot,fonts:Ue,activeFontSize:je}},ir.publish("preProcessText",Qt),W=Qt.text,yr=(lt=Qt.options).angle,!($n instanceof xr)&&yr&&typeof yr=="number"){yr*=Math.PI/180,lt.rotationDirection===0&&(yr=-yr),S===C.ADVANCED&&(yr=-yr);var Ic=Math.cos(yr),pu=Math.sin(yr);$n=new xr(Ic,pu,-pu,Ic,0,0)}else yr&&yr instanceof xr&&($n=yr);S!==C.ADVANCED||$n||($n=Mn),(zr=lt.charSpace||Wi)!==void 0&&(ra+=L(U(zr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Hn=lt.horizontalScale)!==void 0&&(ra+=L(100*Hn)+` Tz
`),lt.lang;var ii=-1,Sd=lt.renderingMode!==void 0?lt.renderingMode:lt.stroke,Bd=Ur.internal.getCurrentPageInfo().pageContext;switch(Sd){case 0:case!1:case"fill":ii=0;break;case 1:case!0:case"stroke":ii=1;break;case 2:case"fillThenStroke":ii=2;break;case 3:case"invisible":ii=3;break;case 4:case"fillAndAddForClipping":ii=4;break;case 5:case"strokeAndAddPathForClipping":ii=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ii=6;break;case 7:case"addToPathForClipping":ii=7}var SA=Bd.usedRenderingMode!==void 0?Bd.usedRenderingMode:-1;ii!==-1?ra+=ii+` Tr
`:SA!==-1&&(ra+=`0 Tr
`),ii!==-1&&(Bd.usedRenderingMode=ii),Fr=lt.align||"left";var Es,as=je*ba,oi=Ur.internal.pageSize.getWidth(),Ls=Ue[ot];zr=lt.charSpace||Wi,$r=lt.maxWidth||0,fn=Object.assign({autoencode:!0,noBOM:!0},lt.flags);var Ka=[],$l=function(sn){return Ur.getStringUnitWidth(sn,{font:Ls,charSpace:zr,fontSize:je,doKerning:!1})*je/na};if(Object.prototype.toString.call(W)==="[object Array]"){var Va;rr=$a(W),Fr!=="left"&&(Es=rr.map($l));var Aa,Kl=0;if(Fr==="right"){Fe-=Es[0],W=[],Bs=rr.length;for(var Ei=0;Ei<Bs;Ei++)Ei===0?(Aa=Gi(Fe),Va=ml(rt)):(Aa=U(Kl-Es[Ei]),Va=-as),W.push([rr[Ei],Aa,Va]),Kl=Es[Ei]}else if(Fr==="center"){Fe-=Es[0]/2,W=[],Bs=rr.length;for(var li=0;li<Bs;li++)li===0?(Aa=Gi(Fe),Va=ml(rt)):(Aa=U((Kl-Es[li])/2),Va=-as),W.push([rr[li],Aa,Va]),Kl=Es[li]}else if(Fr==="left"){W=[],Bs=rr.length;for(var wa=0;wa<Bs;wa++)W.push(rr[wa])}else if(Fr==="justify"&&Ls.encoding==="Identity-H"){W=[],Bs=rr.length,$r=$r!==0?$r:oi;for(var $o=0,Us=0;Us<Bs;Us++)if(Va=Us===0?ml(rt):-as,Aa=Us===0?Gi(Fe):$o,Us<Bs-1){var Ti=U(($r-Es[Us])/(rr[Us].split(" ").length-1)),Ws=rr[Us].split(" ");W.push([Ws[0]+" ",Aa,Va]),$o=0;for(var Fi=1;Fi<Ws.length;Fi++){var gu=($l(Ws[Fi-1]+" "+Ws[Fi])-$l(Ws[Fi]))*na+Ti;Fi==Ws.length-1?W.push([Ws[Fi],gu,0]):W.push([Ws[Fi]+" ",gu,0]),$o-=gu}}else W.push([rr[Us],Aa,Va]);W.push(["",$o,0])}else{if(Fr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(W=[],Bs=rr.length,$r=$r!==0?$r:oi,Us=0;Us<Bs;Us++)Va=Us===0?ml(rt):-as,Aa=Us===0?Gi(Fe):0,Us<Bs-1?Ka.push(L(U(($r-Es[Us])/(rr[Us].split(" ").length-1)))):Ka.push(0),W.push([rr[Us],Aa,Va])}}var sa=typeof lt.R2L=="boolean"?lt.R2L:be;sa===!0&&(W=Kn(W,function(sn,an,ts){return[sn.split("").reverse().join(""),an,ts]})),Qt={text:W,x:Fe,y:rt,options:lt,mutex:{pdfEscape:ss,activeFontKey:ot,fonts:Ue,activeFontSize:je}},ir.publish("postProcessText",Qt),W=Qt.text,ho=Qt.mutex.isHex||!1;var xu=Ue[ot].encoding;xu!=="WinAnsiEncoding"&&xu!=="StandardEncoding"||(W=Kn(W,function(sn,an,ts){return[CA(sn),an,ts]})),rr=$a(W),W=[];for(var _c,kc,Ko,yu=0,vu=1,Vl=Array.isArray(rr[0])?vu:yu,gl="",Pc=function(sn,an,ts){var ps="";return ts instanceof xr?(ts=typeof lt.angle=="number"?En(ts,new xr(1,0,0,1,sn,an)):En(new xr(1,0,0,1,sn,an),ts),S===C.ADVANCED&&(ts=En(new xr(1,0,0,-1,0,0),ts)),ps=ts.join(" ")+` Tm
`):ps=L(sn)+" "+L(an)+` Td
`,ps},Ts=0;Ts<rr.length;Ts++){switch(gl="",Vl){case vu:Ko=(ho?"<":"(")+rr[Ts][0]+(ho?">":")"),_c=parseFloat(rr[Ts][1]),kc=parseFloat(rr[Ts][2]);break;case yu:Ko=(ho?"<":"(")+rr[Ts]+(ho?">":")"),_c=Gi(Fe),kc=ml(rt)}Ka!==void 0&&Ka[Ts]!==void 0&&(gl=Ka[Ts]+` Tw
`),Ts===0?W.push(gl+Pc(_c,kc,$n)+Ko):Vl===yu?W.push(gl+Ko):Vl===vu&&W.push(gl+Pc(_c,kc,$n)+Ko)}W=Vl===yu?W.join(` Tj
T* `):W.join(` Tj
`),W+=` Tj
`;var Ii=`BT
/`;return Ii+=ot+" "+je+` Tf
`,Ii+=L(je*ba)+` TL
`,Ii+=Bc+`
`,Ii+=ra,Ii+=W,le(Ii+="ET"),p[ot]=!0,Ur};var Uf=g.__private__.clip=g.clip=function(W){return le(W==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Uf("evenodd")},g.__private__.discardPath=g.discardPath=function(){return le("n"),this};var Ni=g.__private__.isValidStyle=function(W){var Fe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(W)!==-1&&(Fe=!0),Fe};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(W){return Ni(W)&&(f=W),this};var fo=g.__private__.getStyle=g.getStyle=function(W){var Fe=f;switch(W){case"D":case"S":Fe="S";break;case"F":Fe="f";break;case"FD":case"DF":Fe="B";break;case"f":case"f*":case"B":case"B*":Fe=W}return Fe},gd=g.close=function(){return le("h"),this};g.stroke=function(){return le("S"),this},g.fill=function(W){return Al("f",W),this},g.fillEvenOdd=function(W){return Al("f*",W),this},g.fillStroke=function(W){return Al("B",W),this},g.fillStrokeEvenOdd=function(W){return Al("B*",W),this};var Al=function(W,Fe){ds(Fe)==="object"?Au(Fe,W):le(W)},Vs=function(W){W===null||S===C.ADVANCED&&W===void 0||(W=fo(W),le(W))};function xd(W,Fe,rt,lt,bt){var Qt=new Ym(Fe||this.boundingBox,rt||this.xStep,lt||this.yStep,this.gState,bt||this.matrix);Qt.stream=this.stream;var rr=W+"$$"+this.cloneIndex+++"$$";return ns(rr,Qt),Qt}var Au=function(W,Fe){var rt=gt[W.key],lt=tt[rt];if(lt instanceof Eh)le("q"),le(bA(Fe)),lt.gState&&g.setGState(lt.gState),le(W.matrix.toString()+" cm"),le("/"+rt+" sh"),le("Q");else if(lt instanceof Ym){var bt=new xr(1,0,0,-1,0,Ec());W.matrix&&(bt=bt.multiply(W.matrix||Mn),rt=xd.call(lt,W.key,W.boundingBox,W.xStep,W.yStep,bt).id),le("q"),le("/Pattern cs"),le("/"+rt+" scn"),lt.gState&&g.setGState(lt.gState),le(Fe),le("Q")}},bA=function(W){switch(W){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Cc=g.moveTo=function(W,Fe){return le(L(U(W))+" "+L(X(Fe))+" m"),this},fl=g.lineTo=function(W,Fe){return le(L(U(W))+" "+L(X(Fe))+" l"),this},Ql=g.curveTo=function(W,Fe,rt,lt,bt,Qt){return le([L(U(W)),L(X(Fe)),L(U(rt)),L(X(lt)),L(U(bt)),L(X(Qt)),"c"].join(" ")),this};g.__private__.line=g.line=function(W,Fe,rt,lt,bt){if(isNaN(W)||isNaN(Fe)||isNaN(rt)||isNaN(lt)||!Ni(bt))throw new Error("Invalid arguments passed to jsPDF.line");return S===C.COMPAT?this.lines([[rt-W,lt-Fe]],W,Fe,[1,1],bt||"S"):this.lines([[rt-W,lt-Fe]],W,Fe,[1,1]).stroke()},g.__private__.lines=g.lines=function(W,Fe,rt,lt,bt,Qt){var rr,yr,Fr,zr,$r,fn,Hn,$n,Ur,Gs,ra,ho;if(typeof W=="number"&&(ho=rt,rt=Fe,Fe=W,W=ho),lt=lt||[1,1],Qt=Qt||!1,isNaN(Fe)||isNaN(rt)||!Array.isArray(W)||!Array.isArray(lt)||!Ni(bt)||typeof Qt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Cc(Fe,rt),rr=lt[0],yr=lt[1],zr=W.length,Gs=Fe,ra=rt,Fr=0;Fr<zr;Fr++)($r=W[Fr]).length===2?(Gs=$r[0]*rr+Gs,ra=$r[1]*yr+ra,fl(Gs,ra)):(fn=$r[0]*rr+Gs,Hn=$r[1]*yr+ra,$n=$r[2]*rr+Gs,Ur=$r[3]*yr+ra,Gs=$r[4]*rr+Gs,ra=$r[5]*yr+ra,Ql(fn,Hn,$n,Ur,Gs,ra));return Qt&&gd(),Vs(bt),this},g.path=function(W){for(var Fe=0;Fe<W.length;Fe++){var rt=W[Fe],lt=rt.c;switch(rt.op){case"m":Cc(lt[0],lt[1]);break;case"l":fl(lt[0],lt[1]);break;case"c":Ql.apply(this,lt);break;case"h":gd()}}return this},g.__private__.rect=g.rect=function(W,Fe,rt,lt,bt){if(isNaN(W)||isNaN(Fe)||isNaN(rt)||isNaN(lt)||!Ni(bt))throw new Error("Invalid arguments passed to jsPDF.rect");return S===C.COMPAT&&(lt=-lt),le([L(U(W)),L(X(Fe)),L(U(rt)),L(U(lt)),"re"].join(" ")),Vs(bt),this},g.__private__.triangle=g.triangle=function(W,Fe,rt,lt,bt,Qt,rr){if(isNaN(W)||isNaN(Fe)||isNaN(rt)||isNaN(lt)||isNaN(bt)||isNaN(Qt)||!Ni(rr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[rt-W,lt-Fe],[bt-rt,Qt-lt],[W-bt,Fe-Qt]],W,Fe,[1,1],rr,!0),this},g.__private__.roundedRect=g.roundedRect=function(W,Fe,rt,lt,bt,Qt,rr){if(isNaN(W)||isNaN(Fe)||isNaN(rt)||isNaN(lt)||isNaN(bt)||isNaN(Qt)||!Ni(rr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var yr=4/3*(Math.SQRT2-1);return bt=Math.min(bt,.5*rt),Qt=Math.min(Qt,.5*lt),this.lines([[rt-2*bt,0],[bt*yr,0,bt,Qt-Qt*yr,bt,Qt],[0,lt-2*Qt],[0,Qt*yr,-bt*yr,Qt,-bt,Qt],[2*bt-rt,0],[-bt*yr,0,-bt,-Qt*yr,-bt,-Qt],[0,2*Qt-lt],[0,-Qt*yr,bt*yr,-Qt,bt,-Qt]],W+bt,Fe,[1,1],rr,!0),this},g.__private__.ellipse=g.ellipse=function(W,Fe,rt,lt,bt){if(isNaN(W)||isNaN(Fe)||isNaN(rt)||isNaN(lt)||!Ni(bt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Qt=4/3*(Math.SQRT2-1)*rt,rr=4/3*(Math.SQRT2-1)*lt;return Cc(W+rt,Fe),Ql(W+rt,Fe-rr,W+Qt,Fe-lt,W,Fe-lt),Ql(W-Qt,Fe-lt,W-rt,Fe-rr,W-rt,Fe),Ql(W-rt,Fe+rr,W-Qt,Fe+lt,W,Fe+lt),Ql(W+Qt,Fe+lt,W+rt,Fe+rr,W+rt,Fe),Vs(bt),this},g.__private__.circle=g.circle=function(W,Fe,rt,lt){if(isNaN(W)||isNaN(Fe)||isNaN(rt)||!Ni(lt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(W,Fe,rt,rt,lt)},g.setFont=function(W,Fe,rt){return rt&&(Fe=k(Fe,rt)),ot=gA(W,Fe,{disableWarning:!1}),this};var _a=g.__private__.getFont=g.getFont=function(){return Ue[gA.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var W,Fe,rt={};for(W in At)if(At.hasOwnProperty(W))for(Fe in rt[W]=[],At[W])At[W].hasOwnProperty(Fe)&&rt[W].push(Fe);return rt},g.addFont=function(W,Fe,rt,lt,bt){var Qt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Qt.indexOf(arguments[3])!==-1?bt=arguments[3]:arguments[3]&&Qt.indexOf(arguments[3])==-1&&(rt=k(rt,lt)),bt=bt||"Identity-H",Qo.call(this,W,Fe,rt,bt)};var Ci,Hl=t.lineWidth||.200025,hl=g.__private__.getLineWidth=g.getLineWidth=function(){return Hl},Mf=g.__private__.setLineWidth=g.setLineWidth=function(W){return Hl=W,le(L(U(W))+" w"),this};g.__private__.setLineDash=Lr.API.setLineDash=Lr.API.setLineDashPattern=function(W,Fe){if(W=W||[],Fe=Fe||0,isNaN(Fe)||!Array.isArray(W))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return W=W.map(function(rt){return L(U(rt))}).join(" "),Fe=L(U(Fe)),le("["+W+"] "+Fe+" d"),this};var zs=g.__private__.getLineHeight=g.getLineHeight=function(){return je*Ci};g.__private__.getLineHeight=g.getLineHeight=function(){return je*Ci};var yd=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(W){return typeof(W=W||1.15)=="number"&&(Ci=W),this},zi=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Ci};yd(t.lineHeight);var Gi=g.__private__.getHorizontalCoordinate=function(W){return U(W)},ml=g.__private__.getVerticalCoordinate=function(W){return S===C.ADVANCED?W:Dt[G].mediaBox.topRightY-Dt[G].mediaBox.bottomLeftY-U(W)},om=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(W){return L(Gi(W))},Sc=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(W){return L(ml(W))},Si=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Je(Si)},g.__private__.setStrokeColor=g.setDrawColor=function(W,Fe,rt,lt){return Si=Ze({ch1:W,ch2:Fe,ch3:rt,ch4:lt,pdfColorType:"draw",precision:2}),le(Si),this};var pl=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Je(pl)},g.__private__.setFillColor=g.setFillColor=function(W,Fe,rt,lt){return pl=Ze({ch1:W,ch2:Fe,ch3:rt,ch4:lt,pdfColorType:"fill",precision:2}),le(pl),this};var Bc=t.textColor||"0 g",lm=g.__private__.getTextColor=g.getTextColor=function(){return Je(Bc)};g.__private__.setTextColor=g.setTextColor=function(W,Fe,rt,lt){return Bc=Ze({ch1:W,ch2:Fe,ch3:rt,ch4:lt,pdfColorType:"text",precision:3}),this};var Wi=t.charSpace,vd=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Wi||0)};g.__private__.setCharSpace=g.setCharSpace=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Wi=W,this};var fu=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(W){var Fe=g.CapJoinStyles[W];if(Fe===void 0)throw new Error("Line cap style of '"+W+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fu=Fe,le(Fe+" J"),this};var bd=0;g.__private__.setLineJoin=g.setLineJoin=function(W){var Fe=g.CapJoinStyles[W];if(Fe===void 0)throw new Error("Line join style of '"+W+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return bd=Fe,le(Fe+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(W){if(W=W||0,isNaN(W))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(L(U(W))+" M"),this},g.GState=by,g.setGState=function(W){(W=typeof W=="string"?Kt[Ke[W]]:Rf(null,W)).equals(Tt)||(le("/"+W.id+" gs"),Tt=W)};var Rf=function(W,Fe){if(!W||!Ke[W]){var rt=!1;for(var lt in Kt)if(Kt.hasOwnProperty(lt)&&Kt[lt].equals(Fe)){rt=!0;break}if(rt)Fe=Kt[lt];else{var bt="GS"+(Object.keys(Kt).length+1).toString(10);Kt[bt]=Fe,Fe.id=bt}return W&&(Ke[W]=Fe.id),ir.publish("addGState",Fe),Fe}};g.addGState=function(W,Fe){return Rf(W,Fe),this},g.saveGraphicsState=function(){return le("q"),Ce.push({key:ot,size:je,color:Bc}),this},g.restoreGraphicsState=function(){le("Q");var W=Ce.pop();return ot=W.key,je=W.size,Bc=W.color,Tt=null,this},g.setCurrentTransformationMatrix=function(W){return le(W.toString()+" cm"),this},g.comment=function(W){return le("#"+W),this};var wd=function(W,Fe){var rt=W||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return rt},set:function(Qt){isNaN(Qt)||(rt=parseFloat(Qt))}});var lt=Fe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return lt},set:function(Qt){isNaN(Qt)||(lt=parseFloat(Qt))}});var bt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return bt},set:function(Qt){bt=Qt.toString()}}),this},wA=function(W,Fe,rt,lt){wd.call(this,W,Fe),this.type="rect";var bt=rt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return bt},set:function(rr){isNaN(rr)||(bt=parseFloat(rr))}});var Qt=lt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Qt},set:function(rr){isNaN(rr)||(Qt=parseFloat(rr))}}),this},jA=function(){this.page=wt,this.currentPage=G,this.pages=V.slice(0),this.pagesContext=Dt.slice(0),this.x=qe,this.y=at,this.matrix=Ut,this.width=hu(G),this.height=Ec(G),this.outputDestination=pe,this.id="",this.objectNumber=-1};jA.prototype.restore=function(){wt=this.page,G=this.currentPage,Dt=this.pagesContext,V=this.pages,qe=this.x,at=this.y,Ut=this.matrix,Cd(G,this.width),NA(G,this.height),pe=this.outputDestination};var jd=function(W,Fe,rt,lt,bt){kn.push(new jA),wt=G=0,V=[],qe=W,at=Fe,Ut=bt,uu([rt,lt])},cm=function(W){if(hs[W])kn.pop().restore();else{var Fe=new jA,rt="Xo"+(Object.keys(Xr).length+1).toString(10);Fe.id=rt,hs[W]=rt,Xr[rt]=Fe,ir.publish("addFormObject",Fe),kn.pop().restore()}};for(var Nd in g.beginFormObject=function(W,Fe,rt,lt,bt){return jd(W,Fe,rt,lt,bt),this},g.endFormObject=function(W){return cm(W),this},g.doFormObject=function(W,Fe){var rt=Xr[hs[W]];return le("q"),le(Fe.toString()+" cm"),le("/"+rt.id+" Do"),le("Q"),this},g.getFormObject=function(W){var Fe=Xr[hs[W]];return{x:Fe.x,y:Fe.y,width:Fe.width,height:Fe.height,matrix:Fe.matrix}},g.save=function(W,Fe){return W=W||"generated.pdf",(Fe=Fe||{}).returnPromise=Fe.returnPromise||!1,Fe.returnPromise===!1?($m(du(Ml()),W),typeof $m.unload=="function"&&Wr.setTimeout&&setTimeout($m.unload,911),this):new Promise(function(rt,lt){try{var bt=$m(du(Ml()),W);typeof $m.unload=="function"&&Wr.setTimeout&&setTimeout($m.unload,911),rt(bt)}catch(Qt){lt(Qt.message)}})},Lr.API)Lr.API.hasOwnProperty(Nd)&&(Nd==="events"&&Lr.API.events.length?function(W,Fe){var rt,lt,bt;for(bt=Fe.length-1;bt!==-1;bt--)rt=Fe[bt][0],lt=Fe[bt][1],W.subscribe.apply(W,[rt].concat(typeof lt=="function"?[lt]:lt))}(ir,Lr.API.events):g[Nd]=Lr.API[Nd]);var hu=g.getPageWidth=function(W){return(Dt[W=W||G].mediaBox.topRightX-Dt[W].mediaBox.bottomLeftX)/Ie},Cd=g.setPageWidth=function(W,Fe){Dt[W].mediaBox.topRightX=Fe*Ie+Dt[W].mediaBox.bottomLeftX},Ec=g.getPageHeight=function(W){return(Dt[W=W||G].mediaBox.topRightY-Dt[W].mediaBox.bottomLeftY)/Ie},NA=g.setPageHeight=function(W,Fe){Dt[W].mediaBox.topRightY=Fe*Ie+Dt[W].mediaBox.bottomLeftY};return g.internal={pdfEscape:ss,getStyle:fo,getFont:_a,getFontSize:q,getCharSpace:vd,getTextColor:lm,getLineHeight:zs,getLineHeightFactor:zi,getLineWidth:hl,write:Qe,getHorizontalCoordinate:Gi,getVerticalCoordinate:ml,getCoordinateString:om,getVerticalCoordinateString:Sc,collections:{},newObject:jr,newAdditionalObject:Xe,newObjectDeferred:Rn,newObjectDeferredBegin:ke,getFilters:vt,putStream:Oe,events:ir,scaleFactor:Ie,pageSize:{getWidth:function(){return hu(G)},setWidth:function(W){Cd(G,W)},getHeight:function(){return Ec(G)},setHeight:function(W){NA(G,W)}},encryptionOptions:A,encryption:va,getEncryptor:Nc,output:Ho,getNumberOfPages:Of,pages:V,out:le,f2:Q,f3:H,getPageInfo:Rl,getPageInfoByObjId:Or,getCurrentPageInfo:vA,getPDFVersion:v,Point:wd,Rectangle:wA,Matrix:xr,hasHotfix:Ao},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return hu(G)},set:function(W){Cd(G,W)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Ec(G)},set:function(W){NA(G,W)},enumerable:!0,configurable:!0}),bc.call(g,se),ot="F1",mA(i,n),ir.publish("initialized"),g}Fp.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Fp.prototype.toHexString=function(t){return t.split("").map(function(r){return("0"+(255&r.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Fp.prototype.hexToBytes=function(t){for(var r=[],n=0;n<t.length;n+=2)r.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return r.join("")},Fp.prototype.processOwnerPassword=function(t,r){return QC(RC(r).substr(0,5),t)},Fp.prototype.encryptor=function(t,r){var n=RC(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&r,r>>8&255)).substr(0,10);return function(a){return QC(n,a)}},by.prototype.equals=function(t){var r,n="id,objectNumber,equals";if(!t||ds(t)!==ds(this))return!1;var a=0;for(r in this)if(!(n.indexOf(r)>=0)){if(this.hasOwnProperty(r)&&!t.hasOwnProperty(r)||this[r]!==t[r])return!1;a++}for(r in t)t.hasOwnProperty(r)&&n.indexOf(r)<0&&a--;return a===0},Lr.API={events:[]},Lr.version="3.0.1";var Sa=Lr.API,O5=1,F0=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yp=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},rn=function(t){return t.toFixed(2)},xh=function(t){return t.toFixed(5)};Sa.__acroform__={};var Ll=function(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t},_6=function(t){return t*O5},qd=function(t){var r=new J8,n=Sr.internal.getHeight(t)||0,a=Sr.internal.getWidth(t)||0;return r.BBox=[0,0,Number(rn(a)),Number(rn(n))],r},$q=Sa.__acroform__.setBit=function(t,r){if(t=t||0,r=r||0,isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<r},Kq=Sa.__acroform__.clearBit=function(t,r){if(t=t||0,r=r||0,isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<r)},Vq=Sa.__acroform__.getBit=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<r)==0?0:1},Oa=Sa.__acroform__.getBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Vq(t,r-1)},La=Sa.__acroform__.setBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return $q(t,r-1)},Ua=Sa.__acroform__.clearBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Kq(t,r-1)},zq=Sa.__acroform__.calculateCoordinates=function(t,r){var n=r.internal.getHorizontalCoordinate,a=r.internal.getVerticalCoordinate,i=t[0],o=t[1],l=t[2],c=t[3],u={};return u.lowerLeft_X=n(i)||0,u.lowerLeft_Y=a(o+c)||0,u.upperRight_X=n(i+l)||0,u.upperRight_Y=a(o)||0,[Number(rn(u.lowerLeft_X)),Number(rn(u.lowerLeft_Y)),Number(rn(u.upperRight_X)),Number(rn(u.upperRight_Y))]},Gq=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var r=[],n=t._V||t.DV,a=HC(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;r.push("/Tx BMC"),r.push("q"),r.push("BT"),r.push(t.scope.__private__.encodeColorString(t.color)),r.push("/"+i+" "+rn(a.fontSize)+" Tf"),r.push("1 0 0 1 0 0 Tm"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC");var o=qd(t);return o.scope=t.scope,o.stream=r.join(`
`),o}},HC=function(t,r){var n=t.fontSize===0?t.maxFontSize:t.fontSize,a={text:"",fontSize:""},i=(r=(r=r.substr(0,1)=="("?r.substr(1):r).substr(r.length-1)==")"?r.substr(0,r.length-1):r).split(" ");i=t.multiline?i.map(function(H){return H.split(`
`)}):i.map(function(H){return[H]});var o=n,l=Sr.internal.getHeight(t)||0;l=l<0?-l:l;var c=Sr.internal.getWidth(t)||0;c=c<0?-c:c;var u=function(H,U,K){if(H+1<i.length){var X=U+" "+i[H+1][0];return x1(X,t,K).width<=c-4}return!1};o++;e:for(;o>0;){r="",o--;var f,A,m=x1("3",t,o).height,p=t.multiline?l-o:(l-m)/2,g=p+=2,b=0,v=0,y=0;if(o<=0){r=`(...) Tj
`,r+="% Width of Text: "+x1(r,t,o=12).width+", FieldWidth:"+c+`
`;break}for(var j="",C=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var E=!1;if(i[S].length!==1&&y!==i[S].length-1){if((m+2)*(C+2)+2>l)continue e;j+=i[S][y],E=!0,v=S,S--}else{j=(j+=i[S][y]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var D=parseInt(S),k=u(D,j,o),L=S>=i.length-1;if(k&&!L){j+=" ",y=0;continue}if(k||L){if(L)v=D;else if(t.multiline&&(m+2)*(C+2)+2>l)continue e}else{if(!t.multiline||(m+2)*(C+2)+2>l)continue e;v=D}}for(var I="",Y=b;Y<=v;Y++){var Q=i[Y];if(t.multiline){if(Y===v){I+=Q[y]+" ",y=(y+1)%Q.length;continue}if(Y===b){I+=Q[Q.length-1]+" ";continue}}I+=Q[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,A=x1(I,t,o).width,t.textAlign){case"right":f=c-A-2;break;case"center":f=(c-A)/2;break;case"left":default:f=2}r+=rn(f)+" "+rn(g)+` Td
`,r+="("+F0(I)+`) Tj
`,r+=-rn(f)+` 0 Td
`,g=-(o+2),A=0,b=E?v:v+1,C++,j=""}break}return a.text=r,a.fontSize=o,a},x1=function(t,r,n){var a=r.scope.internal.getFont(r.fontName,r.fontStyle),i=r.scope.getStringUnitWidth(t,{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:r.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Wq={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},qq=function(t,r){var n={type:"reference",object:t};r.internal.getPageInfo(t.page).pageContext.annotations.find(function(a){return a.type===n.type&&a.object===n.object})===void 0&&r.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Yq=function(t,r){for(var n in t)if(t.hasOwnProperty(n)){var a=n,i=t[n];r.internal.newObjectDeferredBegin(i.objId,!0),ds(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[a]}},Xq=function(t,r){if(r.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(fd.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Wq)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");O5=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Z8,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];o.objId=void 0,o.hasAnnotation&&qq(o,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(a,i){var o=!a;for(var l in a||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(l)){var c=a[l],u=[],f=c.Rect;if(c.Rect&&(c.Rect=zq(c.Rect,i)),i.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Sr.createDefaultAppearanceStream(c),ds(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(u=c.getKeyValueListForStream()),c.Rect=f,c.hasAppearanceStream&&!c.appearanceStreamContent){var A=Gq(c);u.push({key:"AP",value:"<</N "+A+">>"}),i.internal.acroformPlugin.xForms.push(A)}if(c.appearanceStreamContent){var m="";for(var p in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(p)){var g=c.appearanceStreamContent[p];if(m+="/"+p+" ",m+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var l in g)if(g.hasOwnProperty(l)){var b=g[l];typeof b=="function"&&(b=b.call(i,c)),m+="/"+l+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=g)=="function"&&(b=b.call(i,c)),m+="/"+l+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);m+=">>"}u.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:c.objId}),i.internal.out("endobj")}o&&Yq(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},X8=Sa.__acroform__.arrayToPdfArray=function(t,r,n){var a=function(l){return l};if(Array.isArray(t)){for(var i="[",o=0;o<t.length;o++)switch(o!==0&&(i+=" "),ds(t[o])){case"boolean":case"number":case"object":i+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(r!==void 0&&n&&(a=n.internal.getEncryptor(r)),i+="("+F0(a(t[o].toString()))+")"):i+=t[o].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Qj=function(t,r,n){var a=function(i){return i};return r!==void 0&&n&&(a=n.internal.getEncryptor(r)),(t=t||"").toString(),t="("+F0(a(t))+")"},eA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};eA.prototype.toString=function(){return this.objId+" 0 R"},eA.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},eA.prototype.getKeyValueListForStream=function(){var t=[],r=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in r)if(Object.getOwnPropertyDescriptor(this,r[n]).configurable===!1){var a=r[n],i=this[a];i&&(Array.isArray(i)?t.push({key:a,value:X8(i,this.objId,this.scope)}):i instanceof eA?(i.scope=this.scope,t.push({key:a,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:a,value:i}))}return t};var J8=function(){eA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,r=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Ll(J8,eA);var Z8=function(){eA.call(this);var t,r=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return r.length>0?r:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return r}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(a){return a};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+F0(n(t))+")"}},set:function(n){t=n}})};Ll(Z8,eA);var fd=function t(){eA.call(this);var r=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return r},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');r=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Oa(r,3)},set:function(j){j?this.F=La(r,3):this.F=Ua(r,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');n=j}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(j){a=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(j){a[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(j){a[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(j){a[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(j){a[3]=j}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Sb)return;o="FieldObject"+t.FieldNum++}var j=function(C){return C};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+F0(j(o))+")"},set:function(j){o=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(j){o=j}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(j){l=j}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(j){c=j}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(j){u=j}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/O5:f},set:function(j){f=j}});var A="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return A},set:function(j){A=j}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Sb||this instanceof Lh))return Qj(m,this.objId,this.scope)},set:function(j){j=j.toString(),m=j}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof mi?p:Qj(p,this.objId,this.scope)},set:function(j){j=j.toString(),p=this instanceof mi?j:j.substr(0,1)==="("?yp(j.substr(1,j.length-2)):yp(j)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mi?yp(p.substr(1,p.length-1)):p},set:function(j){j=j.toString(),p=this instanceof mi?"/"+j:j}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof mi?g:Qj(g,this.objId,this.scope)},set:function(j){j=j.toString(),g=this instanceof mi?j:j.substr(0,1)==="("?yp(j.substr(1,j.length-2)):yp(j)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mi?yp(g.substr(1,g.length-1)):g},set:function(j){j=j.toString(),g=this instanceof mi?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(j){j=!!j,v=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(j){b=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,1)},set:function(j){j?this.Ff=La(this.Ff,1):this.Ff=Ua(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,2)},set:function(j){j?this.Ff=La(this.Ff,2):this.Ff=Ua(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,3)},set:function(j){j?this.Ff=La(this.Ff,3):this.Ff=Ua(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');y=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(y){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:y=2;break;case"center":case 1:y=1;break;case"left":case 0:default:y=0}}})};Ll(fd,eA);var l0=function(){fd.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var r=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return X8(r,this.objId,this.scope)},set:function(n){var a,i;i=[],typeof(a=n)=="string"&&(i=function(o,l,c){c||(c=1);for(var u,f=[];u=l.exec(o);)f.push(u[c]);return f}(a,/\((.*?)\)/g)),r=i}}),this.getOptions=function(){return r},this.setOptions=function(n){r=n,this.sort&&r.sort()},this.addOption=function(n){n=(n=n||"").toString(),r.push(n),this.sort&&r.sort()},this.removeOption=function(n,a){for(a=a||!1,n=(n=n||"").toString();r.indexOf(n)!==-1&&(r.splice(r.indexOf(n),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,18)},set:function(n){n?this.Ff=La(this.Ff,18):this.Ff=Ua(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=La(this.Ff,19):this.Ff=Ua(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,20)},set:function(n){n?(this.Ff=La(this.Ff,20),r.sort()):this.Ff=Ua(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,22)},set:function(n){n?this.Ff=La(this.Ff,22):this.Ff=Ua(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,23)},set:function(n){n?this.Ff=La(this.Ff,23):this.Ff=Ua(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,27)},set:function(n){n?this.Ff=La(this.Ff,27):this.Ff=Ua(this.Ff,27)}}),this.hasAppearanceStream=!1};Ll(l0,fd);var c0=function(){l0.call(this),this.fontName="helvetica",this.combo=!1};Ll(c0,l0);var u0=function(){c0.call(this),this.combo=!0};Ll(u0,c0);var Vx=function(){u0.call(this),this.edit=!0};Ll(Vx,u0);var mi=function(){fd.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,15)},set:function(n){n?this.Ff=La(this.Ff,15):this.Ff=Ua(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,16)},set:function(n){n?this.Ff=La(this.Ff,16):this.Ff=Ua(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,17)},set:function(n){n?this.Ff=La(this.Ff,17):this.Ff=Ua(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,26)},set:function(n){n?this.Ff=La(this.Ff,26):this.Ff=Ua(this.Ff,26)}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(r).length!==0){var a,i=[];for(a in i.push("<<"),r)i.push("/"+a+" ("+F0(n(r[a]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){ds(n)==="object"&&(r=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(n){typeof n=="string"&&(r.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Ll(mi,fd);var zx=function(){mi.call(this),this.pushButton=!0};Ll(zx,mi);var d0=function(){mi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r!==void 0?r:[]}})};Ll(d0,mi);var Sb=function(){var t,r;fd.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return r},set:function(i){r=i}});var n,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(c){return c};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,l=[];for(o in l.push("<<"),a)l.push("/"+o+" ("+F0(i(a[o]))+")");return l.push(">>"),l.join(`
`)},set:function(i){ds(i)==="object"&&(a=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(i){typeof i=="string"&&(a.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Sr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ll(Sb,fd),d0.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var r in this.Kids)if(this.Kids.hasOwnProperty(r)){var n=this.Kids[r];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},d0.prototype.createOption=function(t){var r=new Sb;return r.Parent=this,r.optionName=t,this.Kids.push(r),Jq.call(this.scope,r),r};var Gx=function(){mi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Sr.CheckBox.createAppearanceStream()};Ll(Gx,mi);var Lh=function(){fd.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,13)},set:function(r){r?this.Ff=La(this.Ff,13):this.Ff=Ua(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,21)},set:function(r){r?this.Ff=La(this.Ff,21):this.Ff=Ua(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,23)},set:function(r){r?this.Ff=La(this.Ff,23):this.Ff=Ua(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,24)},set:function(r){r?this.Ff=La(this.Ff,24):this.Ff=Ua(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,25)},set:function(r){r?this.Ff=La(this.Ff,25):this.Ff=Ua(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,26)},set:function(r){r?this.Ff=La(this.Ff,26):this.Ff=Ua(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){Number.isInteger(r)&&(t=r)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ll(Lh,fd);var Wx=function(){Lh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,14)},set:function(t){t?this.Ff=La(this.Ff,14):this.Ff=Ua(this.Ff,14)}}),this.password=!0};Ll(Wx,Lh);var Sr={CheckBox:{createAppearanceStream:function(){return{N:{On:Sr.CheckBox.YesNormal},D:{On:Sr.CheckBox.YesPushDown,Off:Sr.CheckBox.OffPushDown}}},YesPushDown:function(t){var r=qd(t);r.scope=t.scope;var n=[],a=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=HC(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+rn(Sr.internal.getWidth(t))+" "+rn(Sr.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+a+" "+rn(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),r.stream=n.join(`
`),r},YesNormal:function(t){var r=qd(t);r.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=[],o=Sr.internal.getHeight(t),l=Sr.internal.getWidth(t),c=HC(t,t.caption);return i.push("1 g"),i.push("0 0 "+rn(l)+" "+rn(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+rn(l-1)+" "+rn(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+rn(c.fontSize)+" Tf "+a),i.push(c.text),i.push("ET"),i.push("Q"),r.stream=i.join(`
`),r},OffPushDown:function(t){var r=qd(t);r.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+rn(Sr.internal.getWidth(t))+" "+rn(Sr.internal.getHeight(t))+" re"),n.push("f"),r.stream=n.join(`
`),r}},RadioButton:{Circle:{createAppearanceStream:function(t){var r={D:{Off:Sr.RadioButton.Circle.OffPushDown},N:{}};return r.N[t]=Sr.RadioButton.Circle.YesNormal,r.D[t]=Sr.RadioButton.Circle.YesPushDown,r},getCA:function(){return"l"},YesNormal:function(t){var r=qd(t);r.scope=t.scope;var n=[],a=Sr.internal.getWidth(t)<=Sr.internal.getHeight(t)?Sr.internal.getWidth(t)/4:Sr.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var i=Sr.internal.Bezier_C,o=Number((a*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+xh(Sr.internal.getWidth(t)/2)+" "+xh(Sr.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),n.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),n.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),n.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r},YesPushDown:function(t){var r=qd(t);r.scope=t.scope;var n=[],a=Sr.internal.getWidth(t)<=Sr.internal.getHeight(t)?Sr.internal.getWidth(t)/4:Sr.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var i=Number((2*a).toFixed(5)),o=Number((i*Sr.internal.Bezier_C).toFixed(5)),l=Number((a*Sr.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+xh(Sr.internal.getWidth(t)/2)+" "+xh(Sr.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+xh(Sr.internal.getWidth(t)/2)+" "+xh(Sr.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),n.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),n.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),n.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r},OffPushDown:function(t){var r=qd(t);r.scope=t.scope;var n=[],a=Sr.internal.getWidth(t)<=Sr.internal.getHeight(t)?Sr.internal.getWidth(t)/4:Sr.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var i=Number((2*a).toFixed(5)),o=Number((i*Sr.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+xh(Sr.internal.getWidth(t)/2)+" "+xh(Sr.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r}},Cross:{createAppearanceStream:function(t){var r={D:{Off:Sr.RadioButton.Cross.OffPushDown},N:{}};return r.N[t]=Sr.RadioButton.Cross.YesNormal,r.D[t]=Sr.RadioButton.Cross.YesPushDown,r},getCA:function(){return"8"},YesNormal:function(t){var r=qd(t);r.scope=t.scope;var n=[],a=Sr.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+rn(Sr.internal.getWidth(t)-2)+" "+rn(Sr.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(rn(a.x1.x)+" "+rn(a.x1.y)+" m"),n.push(rn(a.x2.x)+" "+rn(a.x2.y)+" l"),n.push(rn(a.x4.x)+" "+rn(a.x4.y)+" m"),n.push(rn(a.x3.x)+" "+rn(a.x3.y)+" l"),n.push("s"),n.push("Q"),r.stream=n.join(`
`),r},YesPushDown:function(t){var r=qd(t);r.scope=t.scope;var n=Sr.internal.calculateCross(t),a=[];return a.push("0.749023 g"),a.push("0 0 "+rn(Sr.internal.getWidth(t))+" "+rn(Sr.internal.getHeight(t))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+rn(Sr.internal.getWidth(t)-2)+" "+rn(Sr.internal.getHeight(t)-2)+" re"),a.push("W"),a.push("n"),a.push(rn(n.x1.x)+" "+rn(n.x1.y)+" m"),a.push(rn(n.x2.x)+" "+rn(n.x2.y)+" l"),a.push(rn(n.x4.x)+" "+rn(n.x4.y)+" m"),a.push(rn(n.x3.x)+" "+rn(n.x3.y)+" l"),a.push("s"),a.push("Q"),r.stream=a.join(`
`),r},OffPushDown:function(t){var r=qd(t);r.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+rn(Sr.internal.getWidth(t))+" "+rn(Sr.internal.getHeight(t))+" re"),n.push("f"),r.stream=n.join(`
`),r}}},createDefaultAppearanceStream:function(t){var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+r+" "+t.fontSize+" Tf "+n}};Sr.internal={Bezier_C:.551915024494,calculateCross:function(t){var r=Sr.internal.getWidth(t),n=Sr.internal.getHeight(t),a=Math.min(r,n);return{x1:{x:(r-a)/2,y:(n-a)/2+a},x2:{x:(r-a)/2+a,y:(n-a)/2},x3:{x:(r-a)/2,y:(n-a)/2},x4:{x:(r-a)/2+a,y:(n-a)/2+a}}}},Sr.internal.getWidth=function(t){var r=0;return ds(t)==="object"&&(r=_6(t.Rect[2])),r},Sr.internal.getHeight=function(t){var r=0;return ds(t)==="object"&&(r=_6(t.Rect[3])),r};var Jq=Sa.addField=function(t){if(Xq(this,t),!(t instanceof fd))throw new Error("Invalid argument passed to jsPDF.addField.");var r;return(r=t).scope.internal.acroformPlugin.printedOut&&(r.scope.internal.acroformPlugin.printedOut=!1,r.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),r.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(r),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Sa.AcroFormChoiceField=l0,Sa.AcroFormListBox=c0,Sa.AcroFormComboBox=u0,Sa.AcroFormEditBox=Vx,Sa.AcroFormButton=mi,Sa.AcroFormPushButton=zx,Sa.AcroFormRadioButton=d0,Sa.AcroFormCheckBox=Gx,Sa.AcroFormTextField=Lh,Sa.AcroFormPasswordField=Wx,Sa.AcroFormAppearance=Sr,Sa.AcroForm={ChoiceField:l0,ListBox:c0,ComboBox:u0,EditBox:Vx,Button:mi,PushButton:zx,RadioButton:d0,CheckBox:Gx,TextField:Lh,PasswordField:Wx,Appearance:Sr},Lr.AcroForm={ChoiceField:l0,ListBox:c0,ComboBox:u0,EditBox:Vx,Button:mi,PushButton:zx,RadioButton:d0,CheckBox:Gx,TextField:Lh,PasswordField:Wx,Appearance:Sr};var Zq=Lr.AcroForm;function eL(t){return t.reduce(function(r,n,a){return r[n]=a,r},{})}(function(t){t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(H,U){var K,X,Z,ee,de,Ne=r;if((U=U||r)==="RGBA"||H.data!==void 0&&H.data instanceof Uint8ClampedArray&&"height"in H&&"width"in H)return"RGBA";if(k(H))for(de in n)for(Z=n[de],K=0;K<Z.length;K+=1){for(ee=!0,X=0;X<Z[K].length;X+=1)if(Z[K][X]!==void 0&&Z[K][X]!==H[X]){ee=!1;break}if(ee===!0){Ne=de;break}}else for(de in n)for(Z=n[de],K=0;K<Z.length;K+=1){for(ee=!0,X=0;X<Z[K].length;X+=1)if(Z[K][X]!==void 0&&Z[K][X]!==H.charCodeAt(X)){ee=!1;break}if(ee===!0){Ne=de;break}}return Ne===r&&U!==r&&(Ne=U),Ne},i=function H(U){for(var K=this.internal.write,X=this.internal.putStream,Z=(0,this.internal.getFilters)();Z.indexOf("FlateEncode")!==-1;)Z.splice(Z.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var ee=[];if(ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Image"}),ee.push({key:"Width",value:U.width}),ee.push({key:"Height",value:U.height}),U.colorSpace===y.INDEXED?ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(ee.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===y.DEVICE_CMYK&&ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ee.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&ee.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)){for(var de="",Ne=0,Se=U.transparency.length;Ne<Se;Ne++)de+=U.transparency[Ne]+" "+U.transparency[Ne]+" ";ee.push({key:"Mask",value:"["+de+"]"})}U.sMask!==void 0&&ee.push({key:"SMask",value:U.objectId+1+" 0 R"});var ue=U.filter!==void 0?["/"+U.filter]:void 0;if(X({data:U.data,additionalKeyValues:ee,alreadyAppliedFilters:ue,objectId:U.objectId}),K("endobj"),"sMask"in U&&U.sMask!==void 0){var xe="/Predictor "+U.predictor+" /Colors 1 /BitsPerComponent "+U.bitsPerComponent+" /Columns "+U.width,R={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:U.bitsPerComponent,decodeParameters:xe,data:U.sMask};"filter"in U&&(R.filter=U.filter),H.call(this,R)}if(U.colorSpace===y.INDEXED){var G=this.internal.newObject();X({data:I(new Uint8Array(U.palette)),objectId:G}),K("endobj")}},o=function(){var H=this.internal.collections.addImage_images;for(var U in H)i.call(this,H[U])},l=function(){var H,U=this.internal.collections.addImage_images,K=this.internal.write;for(var X in U)K("/I"+(H=U[X]).index,H.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var H=this.internal.collections.addImage_images;return c.call(this),H},f=function(){return Object.keys(this.internal.collections.addImage_images).length},A=function(H){return typeof t["process"+H.toUpperCase()]=="function"},m=function(H){return ds(H)==="object"&&H.nodeType===1},p=function(H,U){if(H.nodeName==="IMG"&&H.hasAttribute("src")){var K=""+H.getAttribute("src");if(K.indexOf("data:image/")===0)return Kx(unescape(K).split("base64,").pop());var X=t.loadFile(K,!0);if(X!==void 0)return X}if(H.nodeName==="CANVAS"){if(H.width===0||H.height===0)throw new Error("Given canvas must have data. Canvas width: "+H.width+", height: "+H.height);var Z;switch(U){case"PNG":Z="image/png";break;case"WEBP":Z="image/webp";break;case"JPEG":case"JPG":default:Z="image/jpeg"}return Kx(H.toDataURL(Z,1).split("base64,").pop())}},g=function(H){var U=this.internal.collections.addImage_images;if(U){for(var K in U)if(H===U[K].alias)return U[K]}},b=function(H,U,K){return H||U||(H=-96,U=-96),H<0&&(H=-1*K.width*72/H/this.internal.scaleFactor),U<0&&(U=-1*K.height*72/U/this.internal.scaleFactor),H===0&&(H=U*K.width/K.height),U===0&&(U=H*K.height/K.width),[H,U]},v=function(H,U,K,X,Z,ee){var de=b.call(this,K,X,Z),Ne=this.internal.getCoordinateString,Se=this.internal.getVerticalCoordinateString,ue=u.call(this);if(K=de[0],X=de[1],ue[Z.index]=Z,ee){ee*=Math.PI/180;var xe=Math.cos(ee),R=Math.sin(ee),G=function(ae){return ae.toFixed(4)},ne=[G(xe),G(R),G(-1*R),G(xe),0,0,"cm"]}this.internal.write("q"),ee?(this.internal.write([1,"0","0",1,Ne(H),Se(U+X),"cm"].join(" ")),this.internal.write(ne.join(" ")),this.internal.write([Ne(K),"0","0",Ne(X),"0","0","cm"].join(" "))):this.internal.write([Ne(K),"0","0",Ne(X),Ne(H),Se(U+X),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Z.index+" Do"),this.internal.write("Q")},y=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=t.__addimage__.sHashCode=function(H){var U,K,X=0;if(typeof H=="string")for(K=H.length,U=0;U<K;U++)X=(X<<5)-X+H.charCodeAt(U),X|=0;else if(k(H))for(K=H.byteLength/2,U=0;U<K;U++)X=(X<<5)-X+H[U],X|=0;return X},S=t.__addimage__.validateStringAsBase64=function(H){(H=H||"").toString().trim();var U=!0;return H.length===0&&(U=!1),H.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(H.substr(0,H.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(H.substr(-2))===!1&&(U=!1),U},E=t.__addimage__.extractImageFromDataUrl=function(H){if(H==null||!(H=H.trim()).startsWith("data:"))return null;var U=H.indexOf(",");return U<0?null:H.substring(0,U).trim().endsWith("base64")?H.substring(U+1):null},D=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(H){return D()&&H instanceof ArrayBuffer};var k=t.__addimage__.isArrayBufferView=function(H){return D()&&typeof Uint32Array<"u"&&(H instanceof Int8Array||H instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&H instanceof Uint8ClampedArray||H instanceof Int16Array||H instanceof Uint16Array||H instanceof Int32Array||H instanceof Uint32Array||H instanceof Float32Array||H instanceof Float64Array)},L=t.__addimage__.binaryStringToUint8Array=function(H){for(var U=H.length,K=new Uint8Array(U),X=0;X<U;X++)K[X]=H.charCodeAt(X);return K},I=t.__addimage__.arrayBufferToBinaryString=function(H){for(var U="",K=k(H)?H:new Uint8Array(H),X=0;X<K.length;X+=8192)U+=String.fromCharCode.apply(null,K.subarray(X,X+8192));return U};t.addImage=function(){var H,U,K,X,Z,ee,de,Ne,Se;if(typeof arguments[1]=="number"?(U=r,K=arguments[1],X=arguments[2],Z=arguments[3],ee=arguments[4],de=arguments[5],Ne=arguments[6],Se=arguments[7]):(U=arguments[1],K=arguments[2],X=arguments[3],Z=arguments[4],ee=arguments[5],de=arguments[6],Ne=arguments[7],Se=arguments[8]),ds(H=arguments[0])==="object"&&!m(H)&&"imageData"in H){var ue=H;H=ue.imageData,U=ue.format||U||r,K=ue.x||K||0,X=ue.y||X||0,Z=ue.w||ue.width||Z,ee=ue.h||ue.height||ee,de=ue.alias||de,Ne=ue.compression||Ne,Se=ue.rotation||ue.angle||Se}var xe=this.internal.getFilters();if(Ne===void 0&&xe.indexOf("FlateEncode")!==-1&&(Ne="SLOW"),isNaN(K)||isNaN(X))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var R=Y.call(this,H,U,de,Ne);return v.call(this,K,X,Z,ee,R,Se),this};var Y=function(H,U,K,X){var Z,ee,de;if(typeof H=="string"&&a(H)===r){H=unescape(H);var Ne=Q(H,!1);(Ne!==""||(Ne=t.loadFile(H,!0))!==void 0)&&(H=Ne)}if(m(H)&&(H=p(H,U)),U=a(H,U),!A(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((de=K)==null||de.length===0)&&(K=function(Se){return typeof Se=="string"||k(Se)?C(Se):k(Se.data)?C(Se.data):null}(H)),(Z=g.call(this,K))||(D()&&(H instanceof Uint8Array||U==="RGBA"||(ee=H,H=L(H))),Z=this["process"+U.toUpperCase()](H,f.call(this),K,function(Se){return Se&&typeof Se=="string"&&(Se=Se.toUpperCase()),Se in t.image_compression?Se:j.NONE}(X),ee)),!Z)throw new Error("An unknown error occurred whilst processing the image.");return Z},Q=t.__addimage__.convertBase64ToBinaryString=function(H,U){U=typeof U!="boolean"||U;var K,X="";if(typeof H=="string"){var Z;K=(Z=E(H))!==null&&Z!==void 0?Z:H;try{X=Kx(K)}catch(ee){if(U)throw S(K)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return X};t.getImageProperties=function(H){var U,K,X="";if(m(H)&&(H=p(H)),typeof H=="string"&&a(H)===r&&((X=Q(H,!1))===""&&(X=t.loadFile(H)||""),H=X),K=a(H),!A(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(!D()||H instanceof Uint8Array||(H=L(H)),!(U=this["process"+K.toUpperCase()](H)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=K,U}})(Lr.API),function(t){var r=function(n){if(n!==void 0&&n!="")return!0};Lr.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var a,i,o,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(n.objId),f=n.pageContext.annotations,A=!1,m=0;m<f.length&&!A;m++)switch((a=f[m]).type){case"link":(r(a.options.url)||r(a.options.pageNumber))&&(A=!0);break;case"reference":case"text":case"freetext":A=!0}if(A!=0){this.internal.write("/Annots [");for(var p=0;p<f.length;p++){a=f[p];var g=this.internal.pdfEscape,b=this.internal.getEncryptor(n.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(v.objId),C=a.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+l(a.bounds.x)+" "+c(a.bounds.y+a.bounds.h)+" "+l(a.bounds.x+a.bounds.w)+" "+c(a.bounds.y)+"] ")+"/Contents ("+g(j(a.contents))+")",o+=" /Popup "+y.objId+" 0 R",o+=" /P "+u.objId+" 0 R",o+=" /T ("+g(j(C))+") >>",v.content=o;var S=v.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+l(a.bounds.x+30)+" "+c(a.bounds.y+a.bounds.h)+" "+l(a.bounds.x+a.bounds.w+30)+" "+c(a.bounds.y)+"] ")+" /Parent "+S,a.open&&(o+=" /Open true"),o+=" >>",y.content=o,this.internal.write(v.objId,"0 R",y.objId,"0 R");break;case"freetext":i="/Rect ["+l(a.bounds.x)+" "+c(a.bounds.y)+" "+l(a.bounds.x+a.bounds.w)+" "+c(a.bounds.y+a.bounds.h)+"] ";var E=a.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(b(a.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(a.options.name){var D=this.annotations._nameMap[a.options.name];a.options.pageNumber=D.page,a.options.top=D.y}else a.options.top||(a.options.top=0);if(i="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",o="",a.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(b(a.options.url))+") >>";else if(a.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,o+=" /FitV "+a.options.left+"]";break;case"XYZ":default:var k=c(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),o+=" /XYZ "+a.options.left+" "+k+" "+a.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var a=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":a.pageContext.annotations.push(n)}},t.link=function(n,a,i,o,l){var c=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:u(n),y:f(a),w:u(n+i),h:f(a+o)},options:l,type:"link"})},t.textWithLink=function(n,a,i,o){var l,c,u=this.getTextWidth(n),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var A=this.splitTextToSize(n,c).length;l=Math.ceil(f*A)}else c=u,l=f;return this.text(n,a,i,o),i+=.2*f,o.align==="center"&&(a-=u/2),o.align==="right"&&(a-=u),this.link(a,i-f,c,l,o),u},t.getTextWidth=function(n){var a=this.internal.getFontSize();return this.getStringUnitWidth(n)*a/this.internal.scaleFactor}}(Lr.API),function(t){var r={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(v){return r[v.charCodeAt(0)]!==void 0},l=t.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},c=t.__arabicParser__.isArabicEndLetter=function(v){return l(v)&&o(v)&&r[v.charCodeAt(0)].length<=2},u=t.__arabicParser__.isArabicAlfLetter=function(v){return l(v)&&i.indexOf(v.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return l(v)&&o(v)&&r[v.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(v){return l(v)&&o(v)&&r[v.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(v){return l(v)&&o(v)&&r[v.charCodeAt(0)].length>=3};var A=t.__arabicParser__.arabicLetterHasMedialForm=function(v){return l(v)&&o(v)&&r[v.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(v){var y=0,j=n,C="",S=0;for(y=0;y<v.length;y+=1)j[v.charCodeAt(y)]!==void 0?(S++,typeof(j=j[v.charCodeAt(y)])=="number"&&(C+=String.fromCharCode(j),j=n,S=0),y===v.length-1&&(j=n,C+=v.charAt(y-(S-1)),y-=S-1,S=0)):(j=n,C+=v.charAt(y-S),y-=S,S=0);return C};t.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&a[v.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(v,y,j){return l(v)?o(v)===!1?-1:!f(v)||!l(y)&&!l(j)||!l(j)&&c(y)||c(v)&&!l(y)||c(v)&&u(y)||c(v)&&c(y)?0:A(v)&&l(y)&&!c(y)&&l(j)&&f(j)?3:c(v)||!l(j)?1:2:-1},g=function(v){var y=0,j=0,C=0,S="",E="",D="",k=(v=v||"").split("\\s+"),L=[];for(y=0;y<k.length;y+=1){for(L.push(""),j=0;j<k[y].length;j+=1)S=k[y][j],E=k[y][j-1],D=k[y][j+1],l(S)?(C=p(S,E,D),L[y]+=C!==-1?String.fromCharCode(r[S.charCodeAt(0)][C]):S):L[y]+=S;L[y]=m(L[y])}return L.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var v,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(y)){var C=0;for(j=[],C=0;C<y.length;C+=1)Array.isArray(y[C])?j.push([g(y[C][0]),y[C][1],y[C][2]]):j.push([g(y[C])]);v=j}else v=g(y);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};t.events.push(["preProcessText",b])}(Lr.API),Lr.API.autoPrint=function(t){var r;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+r+" 0 R")})}return this},function(t){var r=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(c){n=c}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};r.prototype.getContext=function(n,a){var i;if((n=n||"2d")!=="2d")return null;for(i in a)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=a[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},r.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new r,this.canvas.pdf=this}])}(Lr.API),function(t){var r={left:0,top:0,bottom:0,right:0},n=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},r),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var A=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return A},set:function(v){A=v}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(v){g=v}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(v){b=v}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(u){return a.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},t.getTextDimensions=function(u,f){a.call(this);var A=(f=f||{}).fontSize||this.getFontSize(),m=f.font||this.getFont(),p=f.scaleFactor||this.internal.scaleFactor,g=0,b=0,v=0,y=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var j=f.maxWidth;j>0?typeof u=="string"?u=this.splitTextToSize(u,j):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(S,E){return S.concat(y.splitTextToSize(E,j))},[])):u=Array.isArray(u)?u:[u];for(var C=0;C<u.length;C++)g<(v=this.getStringUnitWidth(u[C],{font:m})*A)&&(g=v);return g!==0&&(b=u.length),{w:g/=p,h:Math.max((b*A*this.getLineHeightFactor()-A*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){a.call(this),this.addPage();var u=this.internal.__cell__.margins||r;return this.internal.__cell__.lastCell=new o(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=t.cell=function(){var u;u=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var f=this.internal.__cell__.lastCell,A=this.internal.__cell__.padding,m=this.internal.__cell__.margins||r,p=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=m.top,g&&p&&(this.printHeaderRow(u.lineNumber,!0),u.y+=p[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,n===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-A,u.y+A,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+A,{align:"center",baseline:"top",maxWidth:u.width-A-A}):this.text(u.text,u.x+A,u.y+A,{align:"left",baseline:"top",maxWidth:u.width-A-A})),this.internal.__cell__.lastCell=u,this};t.table=function(u,f,A,m,p){if(a.call(this),!A)throw new Error("No data for PDF table.");var g,b,v,y,j=[],C=[],S=[],E={},D={},k=[],L=[],I=(p=p||{}).autoSize||!1,Y=p.printHeaders!==!1,Q=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,H=p.margins||Object.assign({width:this.getPageWidth()},r),U=typeof p.padding=="number"?p.padding:3,K=p.headerBackgroundColor||"#c8c8c8",X=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=Y,this.internal.__cell__.margins=H,this.internal.__cell__.table_font_size=Q,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=X,this.setFontSize(Q),m==null)C=j=Object.keys(A[0]),S=j.map(function(){return"left"});else if(Array.isArray(m)&&ds(m[0])==="object")for(j=m.map(function(ue){return ue.name}),C=m.map(function(ue){return ue.prompt||ue.name||""}),S=m.map(function(ue){return ue.align||"left"}),g=0;g<m.length;g+=1)D[m[g].name]=m[g].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(C=j=m,S=j.map(function(){return"left"}));if(I||Array.isArray(m)&&typeof m[0]=="string")for(g=0;g<j.length;g+=1){for(E[y=j[g]]=A.map(function(ue){return ue[y]}),this.setFont(void 0,"bold"),k.push(this.getTextDimensions(C[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=E[y],this.setFont(void 0,"normal"),v=0;v<b.length;v+=1)k.push(this.getTextDimensions(b[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[y]=Math.max.apply(null,k)+U+U,k=[]}if(Y){var Z={};for(g=0;g<j.length;g+=1)Z[j[g]]={},Z[j[g]].text=C[g],Z[j[g]].align=S[g];var ee=c.call(this,Z,D);L=j.map(function(ue){return new o(u,f,D[ue],ee,Z[ue].text,void 0,Z[ue].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var de=m.reduce(function(ue,xe){return ue[xe.name]=xe.align,ue},{});for(g=0;g<A.length;g+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:g,data:A[g]},this);var Ne=c.call(this,A[g],D);for(v=0;v<j.length;v+=1){var Se=A[g][j[v]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:g,col:v,data:Se},this),l.call(this,new o(u,f,D[j[v]],Ne,Se,g+2,de[j[v]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var c=function(u,f){var A=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(u).map(function(g){var b=u[g];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,f[g]-A-A)},this).map(function(g){return this.getLineHeightFactor()*g.length*m/p+A+A},this).reduce(function(g,b){return Math.max(g,b)},0)};t.setTableHeaderRow=function(u){a.call(this),this.internal.__cell__.tableHeaderRow=u},t.printHeaderRow=function(u,f){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var A;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){A=this.internal.__cell__.tableHeaderRow[g].clone(),f&&(A.y=this.internal.__cell__.margins.top||0,p.push(A)),A.lineNumber=u;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,A),this.setTextColor(b)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(Lr.API);var tL={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},rL=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],$C=eL(rL),nL=[100,200,300,400,500,600,700,800,900],eY=eL(nL);function KC(t){var r=t.family.replace(/"|'/g,"").toLowerCase(),n=function(o){return tL[o=o||"normal"]?o:"normal"}(t.style),a=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(o){return typeof $C[o=o||"normal"]=="number"?o:"normal"}(t.stretch);return{family:r,style:n,weight:a,stretch:i,src:t.src||[],ref:t.ref||{name:r,style:[i,n,a].join(" ")}}}function k6(t,r,n,a){var i;for(i=n;i>=0&&i<r.length;i+=a)if(t[r[i]])return t[r[i]];for(i=n;i>=0&&i<r.length;i-=a)if(t[r[i]])return t[r[i]]}var tY={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},P6={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function D6(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function rY(t,r,n){for(var a=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},tY,n.genericFontFamilies||{}),o=null,l=null,c=0;c<r.length;++c)if(i[(o=KC(r[c])).family]&&(o.family=i[o.family]),t.hasOwnProperty(o.family)){l=t[o.family];break}if(!(l=l||t[a]))throw new Error("Could not find a font-family for the rule '"+D6(o)+"' and default family '"+a+"'.");if(l=function(u,f){if(f[u])return f[u];var A=$C[u],m=A<=$C.normal?-1:1,p=k6(f,rL,A,m);if(!p)throw new Error("Could not find a matching font-stretch value for "+u);return p}(o.stretch,l),l=function(u,f){if(f[u])return f[u];for(var A=tL[u],m=0;m<A.length;++m)if(f[A[m]])return f[A[m]];throw new Error("Could not find a matching font-style for "+u)}(o.style,l),!(l=function(u,f){if(f[u])return f[u];if(u===400&&f[500])return f[500];if(u===500&&f[400])return f[400];var A=eY[u],m=k6(f,nL,A,u<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+u);return m}(o.weight,l)))throw new Error("Failed to resolve a font for the rule '"+D6(o)+"'.");return l}function O6(t){return t.trimLeft()}function nY(t,r){for(var n=0;n<t.length;){if(t.charAt(n)===r)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function sY(t){var r=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return r===null?null:[r[0],t.substring(r[0].length)]}var y1,L6,U6,Hj=["times"];(function(t){var r,n,a,i,o,l,c,u,f,A=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new u,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new l,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new l,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),r=this.internal.f2,n=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,u=this.internal.Matrix,f=new A}]);var m=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=R;Object.defineProperty(this,"pdf",{get:function(){return G}});var ne=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ne},set:function(ge){ne=!!ge}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function(ge){ae=!!ge}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(ge){isNaN(ge)||(oe=ge)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(ge){isNaN(ge)||(he=ge)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(ge){var le;typeof ge=="number"?le=[ge,ge,ge,ge]:((le=new Array(4))[0]=ge[0],le[1]=ge.length>=2?ge[1]:le[0],le[2]=ge.length>=3?ge[2]:le[0],le[3]=ge.length>=4?ge[3]:le[1]),f.margin=le}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(ge){me=ge}});var te=0;Object.defineProperty(this,"lastBreak",{get:function(){return te},set:function(ge){te=ge}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(ge){Ae=ge}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(ge){ge instanceof A&&(f=ge)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(ge){f.path=ge}});var V=[];Object.defineProperty(this,"ctxStack",{get:function(){return V},set:function(ge){V=ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ge){var le;le=p(ge),this.ctx.fillStyle=le.style,this.ctx.isFillTransparent=le.a===0,this.ctx.fillOpacity=le.a,this.pdf.setFillColor(le.r,le.g,le.b,{a:le.a}),this.pdf.setTextColor(le.r,le.g,le.b,{a:le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ge){var le=p(ge);this.ctx.strokeStyle=le.style,this.ctx.isStrokeTransparent=le.a===0,this.ctx.strokeOpacity=le.a,le.a===0?this.pdf.setDrawColor(255,255,255):(le.a,this.pdf.setDrawColor(le.r,le.g,le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ge){["butt","round","square"].indexOf(ge)!==-1&&(this.ctx.lineCap=ge,this.pdf.setLineCap(ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ge){isNaN(ge)||(this.ctx.lineWidth=ge,this.pdf.setLineWidth(ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ge){["bevel","round","miter"].indexOf(ge)!==-1&&(this.ctx.lineJoin=ge,this.pdf.setLineJoin(ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ge){isNaN(ge)||(this.ctx.miterLimit=ge,this.pdf.setMiterLimit(ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ge){this.ctx.textBaseline=ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ge){["right","end","center","left","start"].indexOf(ge)!==-1&&(this.ctx.textAlign=ge)}});var ie=null;function pe(ge,le){if(ie===null){var Qe=function(ce){var se=[];return Object.keys(ce).forEach(function(je){ce[je].forEach(function(we){var q=null;switch(we){case"bold":q={family:je,weight:"bold"};break;case"italic":q={family:je,style:"italic"};break;case"bolditalic":q={family:je,weight:"bold",style:"italic"};break;case"":case"normal":q={family:je}}q!==null&&(q.ref={name:je,style:we},se.push(q))})}),se}(ge.getFontList());ie=function(ce){for(var se={},je=0;je<ce.length;++je){var we=KC(ce[je]),q=we.family,be=we.stretch,Ee=we.style,Re=we.weight;se[q]=se[q]||{},se[q][be]=se[q][be]||{},se[q][be][Ee]=se[q][be][Ee]||{},se[q][be][Ee][Re]=we}return se}(Qe.concat(le))}return ie}var ye=null;Object.defineProperty(this,"fontFaces",{get:function(){return ye},set:function(ge){ie=null,ye=ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ge){var le;if(this.ctx.font=ge,(le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ge))!==null){var Qe=le[1];le[2];var ce=le[3],se=le[4];le[5];var je=le[6],we=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(se)[2];se=Math.floor(we==="px"?parseFloat(se)*this.pdf.internal.scaleFactor:we==="em"?parseFloat(se)*this.pdf.getFontSize():parseFloat(se)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(se);var q=function(_t){var ot,Ie,qe=[],at=_t.trim();if(at==="")return Hj;if(at in P6)return[P6[at]];for(;at!=="";){switch(Ie=null,ot=(at=O6(at)).charAt(0)){case'"':case"'":Ie=nY(at.substring(1),ot);break;default:Ie=sY(at)}if(Ie===null||(qe.push(Ie[0]),(at=O6(Ie[1]))!==""&&at.charAt(0)!==","))return Hj;at=at.replace(/^,/,"")}return qe}(je);if(this.fontFaces){var be=rY(pe(this.pdf,this.fontFaces),q.map(function(_t){return{family:_t,stretch:"normal",weight:ce,style:Qe}}));this.pdf.setFont(be.ref.name,be.ref.style)}else{var Ee="";(ce==="bold"||parseInt(ce,10)>=700||Qe==="bold")&&(Ee="bold"),Qe==="italic"&&(Ee+="italic"),Ee.length===0&&(Ee="normal");for(var Re="",it={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},et=0;et<q.length;et++){if(this.pdf.internal.getFont(q[et],Ee,{noFallback:!0,disableWarning:!0})!==void 0){Re=q[et];break}if(Ee==="bolditalic"&&this.pdf.internal.getFont(q[et],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Re=q[et],Ee="bold";else if(this.pdf.internal.getFont(q[et],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Re=q[et],Ee="normal";break}}if(Re===""){for(var Ct=0;Ct<q.length;Ct++)if(it[q[Ct]]){Re=it[q[Ct]];break}}Re=Re===""?"Times":Re,this.pdf.setFont(Re,Ee)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ge){this.ctx.globalCompositeOperation=ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ge){this.ctx.globalAlpha=ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ge){this.ctx.lineDashOffset=ge,xe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ge){this.ctx.lineDash=ge,xe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ge){this.ctx.ignoreClearRect=!!ge}})};m.prototype.setLineDash=function(R){this.lineDash=R},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){E.call(this,"fill",!1)},m.prototype.stroke=function(){E.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(R,G){if(isNaN(R)||isNaN(G))throw ks.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ne=this.ctx.transform.applyToPoint(new l(R,G));this.path.push({type:"mt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new l(R,G)},m.prototype.closePath=function(){var R=new l(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&ds(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){R=new l(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(R.x,R.y)},m.prototype.lineTo=function(R,G){if(isNaN(R)||isNaN(G))throw ks.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ne=this.ctx.transform.applyToPoint(new l(R,G));this.path.push({type:"lt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new l(ne.x,ne.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},m.prototype.quadraticCurveTo=function(R,G,ne,ae){if(isNaN(ne)||isNaN(ae)||isNaN(R)||isNaN(G))throw ks.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new l(ne,ae)),he=this.ctx.transform.applyToPoint(new l(R,G));this.path.push({type:"qct",x1:he.x,y1:he.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new l(oe.x,oe.y)},m.prototype.bezierCurveTo=function(R,G,ne,ae,oe,he){if(isNaN(oe)||isNaN(he)||isNaN(R)||isNaN(G)||isNaN(ne)||isNaN(ae))throw ks.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new l(oe,he)),te=this.ctx.transform.applyToPoint(new l(R,G)),Ae=this.ctx.transform.applyToPoint(new l(ne,ae));this.path.push({type:"bct",x1:te.x,y1:te.y,x2:Ae.x,y2:Ae.y,x:me.x,y:me.y}),this.ctx.lastPoint=new l(me.x,me.y)},m.prototype.arc=function(R,G,ne,ae,oe,he){if(isNaN(R)||isNaN(G)||isNaN(ne)||isNaN(ae)||isNaN(oe))throw ks.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new l(R,G));R=me.x,G=me.y;var te=this.ctx.transform.applyToPoint(new l(0,ne)),Ae=this.ctx.transform.applyToPoint(new l(0,0));ne=Math.sqrt(Math.pow(te.x-Ae.x,2)+Math.pow(te.y-Ae.y,2))}Math.abs(oe-ae)>=2*Math.PI&&(ae=0,oe=2*Math.PI),this.path.push({type:"arc",x:R,y:G,radius:ne,startAngle:ae,endAngle:oe,counterclockwise:he})},m.prototype.arcTo=function(R,G,ne,ae,oe){throw new Error("arcTo not implemented.")},m.prototype.rect=function(R,G,ne,ae){if(isNaN(R)||isNaN(G)||isNaN(ne)||isNaN(ae))throw ks.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,G),this.lineTo(R+ne,G),this.lineTo(R+ne,G+ae),this.lineTo(R,G+ae),this.lineTo(R,G),this.lineTo(R+ne,G),this.lineTo(R,G)},m.prototype.fillRect=function(R,G,ne,ae){if(isNaN(R)||isNaN(G)||isNaN(ne)||isNaN(ae))throw ks.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,G,ne,ae),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},m.prototype.strokeRect=function(R,G,ne,ae){if(isNaN(R)||isNaN(G)||isNaN(ne)||isNaN(ae))throw ks.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(R,G,ne,ae),this.stroke())},m.prototype.clearRect=function(R,G,ne,ae){if(isNaN(R)||isNaN(G)||isNaN(ne)||isNaN(ae))throw ks.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,G,ne,ae))},m.prototype.save=function(R){R=typeof R!="boolean"||R;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new A(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},m.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("Q");this.pdf.setPage(G),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(R){var G,ne,ae,oe;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))G=0,ne=0,ae=0,oe=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(he!==null)G=parseInt(he[1]),ne=parseInt(he[2]),ae=parseInt(he[3]),oe=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)G=parseInt(he[1]),ne=parseInt(he[2]),ae=parseInt(he[3]),oe=parseFloat(he[4]);else{if(oe=1,typeof R=="string"&&R.charAt(0)!=="#"){var me=new W8(R);R=me.ok?me.toHex():"#000000"}R.length===4?(G=R.substring(1,2),G+=G,ne=R.substring(2,3),ne+=ne,ae=R.substring(3,4),ae+=ae):(G=R.substring(1,3),ne=R.substring(3,5),ae=R.substring(5,7)),G=parseInt(G,16),ne=parseInt(ne,16),ae=parseInt(ae,16)}}return{r:G,g:ne,b:ae,a:oe,style:R}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(R,G,ne,ae){if(isNaN(G)||isNaN(ne)||typeof R!="string")throw ks.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!g.call(this)){var oe=Ne(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;U.call(this,{text:R,x:G,y:ne,scale:he,angle:oe,align:this.textAlign,maxWidth:ae})}},m.prototype.strokeText=function(R,G,ne,ae){if(isNaN(G)||isNaN(ne)||typeof R!="string")throw ks.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){ae=isNaN(ae)?void 0:ae;var oe=Ne(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;U.call(this,{text:R,x:G,y:ne,scale:he,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:ae})}},m.prototype.measureText=function(R){if(typeof R!="string")throw ks.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,ne=this.pdf.internal.scaleFactor,ae=G.internal.getFontSize(),oe=G.getStringUnitWidth(R)*ae/G.internal.scaleFactor,he=function(me){var te=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return te}}),this};return new he({width:oe*=Math.round(96*ne/72*1e4)/1e4})},m.prototype.scale=function(R,G){if(isNaN(R)||isNaN(G))throw ks.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ne=new u(R,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(ne)},m.prototype.rotate=function(R){if(isNaN(R))throw ks.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new u(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},m.prototype.translate=function(R,G){if(isNaN(R)||isNaN(G))throw ks.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ne=new u(1,0,0,1,R,G);this.ctx.transform=this.ctx.transform.multiply(ne)},m.prototype.transform=function(R,G,ne,ae,oe,he){if(isNaN(R)||isNaN(G)||isNaN(ne)||isNaN(ae)||isNaN(oe)||isNaN(he))throw ks.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new u(R,G,ne,ae,oe,he);this.ctx.transform=this.ctx.transform.multiply(me)},m.prototype.setTransform=function(R,G,ne,ae,oe,he){R=isNaN(R)?1:R,G=isNaN(G)?0:G,ne=isNaN(ne)?0:ne,ae=isNaN(ae)?1:ae,oe=isNaN(oe)?0:oe,he=isNaN(he)?0:he,this.ctx.transform=new u(R,G,ne,ae,oe,he)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(R,G,ne,ae,oe,he,me,te,Ae){var V=this.pdf.getImageProperties(R),ie=1,pe=1,ye=1,ge=1;ae!==void 0&&te!==void 0&&(ye=te/ae,ge=Ae/oe,ie=V.width/ae*te/ae,pe=V.height/oe*Ae/oe),he===void 0&&(he=G,me=ne,G=0,ne=0),ae!==void 0&&te===void 0&&(te=ae,Ae=oe),ae===void 0&&te===void 0&&(te=V.width,Ae=V.height);for(var le,Qe=this.ctx.transform.decompose(),ce=Ne(Qe.rotate.shx),se=new u,je=(se=(se=(se=se.multiply(Qe.translate)).multiply(Qe.skew)).multiply(Qe.scale)).applyToRectangle(new c(he-G*ye,me-ne*ge,ae*ie,oe*pe)),we=y.call(this,je),q=[],be=0;be<we.length;be+=1)q.indexOf(we[be])===-1&&q.push(we[be]);if(S(q),this.autoPaging)for(var Ee=q[0],Re=q[q.length-1],it=Ee;it<Re+1;it++){this.pdf.setPage(it);var et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ct=it===1?this.posY+this.margin[0]:this.margin[0],_t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ie=it===1?0:_t+(it-2)*ot;if(this.ctx.clip_path.length!==0){var qe=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(le,this.posX+this.margin[3],-Ie+Ct+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=qe}var at=JSON.parse(JSON.stringify(je));at=C([at],this.posX+this.margin[3],-Ie+Ct+this.ctx.prevPageLastElemOffset)[0];var Ut=(it>Ee||it<Re)&&v.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,ot,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",at.x,at.y,at.w,at.h,null,null,ce),Ut&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",je.x,je.y,je.w,je.h,null,null,ce)};var y=function(R,G,ne){var ae=[];G=G||this.pdf.internal.pageSize.width,ne=ne||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":ae.push(Math.floor((R.y+oe)/ne)+1);break;case"arc":ae.push(Math.floor((R.y+oe-R.radius)/ne)+1),ae.push(Math.floor((R.y+oe+R.radius)/ne)+1);break;case"qct":var he=Se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);ae.push(Math.floor((he.y+oe)/ne)+1),ae.push(Math.floor((he.y+he.h+oe)/ne)+1);break;case"bct":var me=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);ae.push(Math.floor((me.y+oe)/ne)+1),ae.push(Math.floor((me.y+me.h+oe)/ne)+1);break;case"rect":ae.push(Math.floor((R.y+oe)/ne)+1),ae.push(Math.floor((R.y+R.h+oe)/ne)+1)}for(var te=0;te<ae.length;te+=1)for(;this.pdf.internal.getNumberOfPages()<ae[te];)j.call(this);return ae},j=function(){var R=this.fillStyle,G=this.strokeStyle,ne=this.font,ae=this.lineCap,oe=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=G,this.font=ne,this.lineCap=ae,this.lineWidth=oe,this.lineJoin=he},C=function(R,G,ne){for(var ae=0;ae<R.length;ae++)switch(R[ae].type){case"bct":R[ae].x2+=G,R[ae].y2+=ne;case"qct":R[ae].x1+=G,R[ae].y1+=ne;case"mt":case"lt":case"arc":default:R[ae].x+=G,R[ae].y+=ne}return R},S=function(R){return R.sort(function(G,ne){return G-ne})},E=function(R,G){for(var ne,ae,oe=this.fillStyle,he=this.strokeStyle,me=this.lineCap,te=this.lineWidth,Ae=Math.abs(te*this.ctx.transform.scaleX),V=this.lineJoin,ie=JSON.parse(JSON.stringify(this.path)),pe=JSON.parse(JSON.stringify(this.path)),ye=[],ge=0;ge<pe.length;ge++)if(pe[ge].x!==void 0)for(var le=y.call(this,pe[ge]),Qe=0;Qe<le.length;Qe+=1)ye.indexOf(le[Qe])===-1&&ye.push(le[Qe]);for(var ce=0;ce<ye.length;ce++)for(;this.pdf.internal.getNumberOfPages()<ye[ce];)j.call(this);if(S(ye),this.autoPaging)for(var se=ye[0],je=ye[ye.length-1],we=se;we<je+1;we++){this.pdf.setPage(we),this.fillStyle=oe,this.strokeStyle=he,this.lineCap=me,this.lineWidth=Ae,this.lineJoin=V;var q=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],be=we===1?this.posY+this.margin[0]:this.margin[0],Ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Re=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=we===1?0:Ee+(we-2)*Re;if(this.ctx.clip_path.length!==0){var et=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(ne,this.posX+this.margin[3],-it+be+this.ctx.prevPageLastElemOffset),D.call(this,R,!0),this.path=et}if(ae=JSON.parse(JSON.stringify(ie)),this.path=C(ae,this.posX+this.margin[3],-it+be+this.ctx.prevPageLastElemOffset),G===!1||we===0){var Ct=(we>se||we<je)&&v.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],q,Re,null).clip().discardPath()),D.call(this,R,G),Ct&&this.pdf.restoreGraphicsState()}this.lineWidth=te}else this.lineWidth=Ae,D.call(this,R,G),this.lineWidth=te;this.path=ie},D=function(R,G){if((R!=="stroke"||G||!b.call(this))&&(R==="stroke"||G||!g.call(this))){for(var ne,ae,oe=[],he=this.path,me=0;me<he.length;me++){var te=he[me];switch(te.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:te,deltas:[],abs:[]});break;case"lt":var Ae=oe.length;if(he[me-1]&&!isNaN(he[me-1].x)&&(ne=[te.x-he[me-1].x,te.y-he[me-1].y],Ae>0)){for(;Ae>=0;Ae--)if(oe[Ae-1].close!==!0&&oe[Ae-1].begin!==!0){oe[Ae-1].deltas.push(ne),oe[Ae-1].abs.push(te);break}}break;case"bct":ne=[te.x1-he[me-1].x,te.y1-he[me-1].y,te.x2-he[me-1].x,te.y2-he[me-1].y,te.x-he[me-1].x,te.y-he[me-1].y],oe[oe.length-1].deltas.push(ne);break;case"qct":var V=he[me-1].x+2/3*(te.x1-he[me-1].x),ie=he[me-1].y+2/3*(te.y1-he[me-1].y),pe=te.x+2/3*(te.x1-te.x),ye=te.y+2/3*(te.y1-te.y),ge=te.x,le=te.y;ne=[V-he[me-1].x,ie-he[me-1].y,pe-he[me-1].x,ye-he[me-1].y,ge-he[me-1].x,le-he[me-1].y],oe[oe.length-1].deltas.push(ne);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(te)}}ae=G?null:R==="stroke"?"stroke":"fill";for(var Qe=!1,ce=0;ce<oe.length;ce++)if(oe[ce].arc)for(var se=oe[ce].abs,je=0;je<se.length;je++){var we=se[je];we.type==="arc"?I.call(this,we.x,we.y,we.radius,we.startAngle,we.endAngle,we.counterclockwise,void 0,G,!Qe):K.call(this,we.x,we.y),Qe=!0}else if(oe[ce].close===!0)this.pdf.internal.out("h"),Qe=!1;else if(oe[ce].begin!==!0){var q=oe[ce].start.x,be=oe[ce].start.y;X.call(this,oe[ce].deltas,q,be),Qe=!0}ae&&Y.call(this,ae),G&&Q.call(this)}},k=function(R){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ne=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-ne;case"top":return R+G-ne;case"hanging":return R+G-2*ne;case"middle":return R+G/2-ne;case"ideographic":return R;case"alphabetic":default:return R}},L=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(G,ne){this.colorStops.push([G,ne])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(R,G,ne,ae,oe,he,me,te,Ae){for(var V=ee.call(this,ne,ae,oe,he),ie=0;ie<V.length;ie++){var pe=V[ie];ie===0&&(Ae?H.call(this,pe.x1+R,pe.y1+G):K.call(this,pe.x1+R,pe.y1+G)),Z.call(this,R,G,pe.x2,pe.y2,pe.x3,pe.y3,pe.x4,pe.y4)}te?Q.call(this):Y.call(this,me)},Y=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Q=function(){this.pdf.clip(),this.pdf.discardPath()},H=function(R,G){this.pdf.internal.out(n(R)+" "+a(G)+" m")},U=function(R){var G;switch(R.align){case"right":case"end":G="right";break;case"center":G="center";break;case"left":case"start":default:G="left"}var ne=this.pdf.getTextDimensions(R.text),ae=k.call(this,R.y),oe=L.call(this,ae)-ne.h,he=this.ctx.transform.applyToPoint(new l(R.x,ae)),me=this.ctx.transform.decompose(),te=new u;te=(te=(te=te.multiply(me.translate)).multiply(me.skew)).multiply(me.scale);for(var Ae,V,ie,pe=this.ctx.transform.applyToRectangle(new c(R.x,ae,ne.w,ne.h)),ye=te.applyToRectangle(new c(R.x,oe,ne.w,ne.h)),ge=y.call(this,ye),le=[],Qe=0;Qe<ge.length;Qe+=1)le.indexOf(ge[Qe])===-1&&le.push(ge[Qe]);if(S(le),this.autoPaging)for(var ce=le[0],se=le[le.length-1],je=ce;je<se+1;je++){this.pdf.setPage(je);var we=je===1?this.posY+this.margin[0]:this.margin[0],q=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],be=this.pdf.internal.pageSize.height-this.margin[2],Ee=be-this.margin[0],Re=this.pdf.internal.pageSize.width-this.margin[1],it=Re-this.margin[3],et=je===1?0:q+(je-2)*Ee;if(this.ctx.clip_path.length!==0){var Ct=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Ae,this.posX+this.margin[3],-1*et+we),D.call(this,"fill",!0),this.path=Ct}var _t=C([JSON.parse(JSON.stringify(ye))],this.posX+this.margin[3],-et+we+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(V=this.pdf.internal.getFontSize(),this.pdf.setFontSize(V*R.scale),ie=this.lineWidth,this.lineWidth=ie*R.scale);var ot=this.autoPaging!=="text";if(ot||_t.y+_t.h<=be){if(ot||_t.y>=we&&_t.x<=Re){var Ie=ot?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||Re-_t.x)[0],qe=C([JSON.parse(JSON.stringify(pe))],this.posX+this.margin[3],-et+we+this.ctx.prevPageLastElemOffset)[0],at=ot&&(je>ce||je<se)&&v.call(this);at&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,Ee,null).clip().discardPath()),this.pdf.text(Ie,qe.x,qe.y,{angle:R.angle,align:G,renderingMode:R.renderingMode}),at&&this.pdf.restoreGraphicsState()}}else _t.y<be&&(this.ctx.prevPageLastElemOffset+=be-_t.y);R.scale>=.01&&(this.pdf.setFontSize(V),this.lineWidth=ie)}else R.scale>=.01&&(V=this.pdf.internal.getFontSize(),this.pdf.setFontSize(V*R.scale),ie=this.lineWidth,this.lineWidth=ie*R.scale),this.pdf.text(R.text,he.x+this.posX,he.y+this.posY,{angle:R.angle,align:G,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(V),this.lineWidth=ie)},K=function(R,G,ne,ae){ne=ne||0,ae=ae||0,this.pdf.internal.out(n(R+ne)+" "+a(G+ae)+" l")},X=function(R,G,ne){return this.pdf.lines(R,G,ne,null,null)},Z=function(R,G,ne,ae,oe,he,me,te){this.pdf.internal.out([r(i(ne+R)),r(o(ae+G)),r(i(oe+R)),r(o(he+G)),r(i(me+R)),r(o(te+G)),"c"].join(" "))},ee=function(R,G,ne,ae){for(var oe=2*Math.PI,he=Math.PI/2;G>ne;)G-=oe;var me=Math.abs(ne-G);me<oe&&ae&&(me=oe-me);for(var te=[],Ae=ae?-1:1,V=G;me>1e-5;){var ie=V+Ae*Math.min(me,he);te.push(de.call(this,R,V,ie)),me-=Math.abs(ie-V),V=ie}return te},de=function(R,G,ne){var ae=(ne-G)/2,oe=R*Math.cos(ae),he=R*Math.sin(ae),me=oe,te=-he,Ae=me*me+te*te,V=Ae+me*oe+te*he,ie=4/3*(Math.sqrt(2*Ae*V)-V)/(me*he-te*oe),pe=me-ie*te,ye=te+ie*me,ge=pe,le=-ye,Qe=ae+G,ce=Math.cos(Qe),se=Math.sin(Qe);return{x1:R*Math.cos(G),y1:R*Math.sin(G),x2:pe*ce-ye*se,y2:pe*se+ye*ce,x3:ge*ce-le*se,y3:ge*se+le*ce,x4:R*Math.cos(ne),y4:R*Math.sin(ne)}},Ne=function(R){return 180*R/Math.PI},Se=function(R,G,ne,ae,oe,he){var me=R+.5*(ne-R),te=G+.5*(ae-G),Ae=oe+.5*(ne-oe),V=he+.5*(ae-he),ie=Math.min(R,oe,me,Ae),pe=Math.max(R,oe,me,Ae),ye=Math.min(G,he,te,V),ge=Math.max(G,he,te,V);return new c(ie,ye,pe-ie,ge-ye)},ue=function(R,G,ne,ae,oe,he,me,te){var Ae,V,ie,pe,ye,ge,le,Qe,ce,se,je,we,q,be,Ee=ne-R,Re=ae-G,it=oe-ne,et=he-ae,Ct=me-oe,_t=te-he;for(V=0;V<41;V++)ce=(le=(ie=R+(Ae=V/40)*Ee)+Ae*((ye=ne+Ae*it)-ie))+Ae*(ye+Ae*(oe+Ae*Ct-ye)-le),se=(Qe=(pe=G+Ae*Re)+Ae*((ge=ae+Ae*et)-pe))+Ae*(ge+Ae*(he+Ae*_t-ge)-Qe),V==0?(je=ce,we=se,q=ce,be=se):(je=Math.min(je,ce),we=Math.min(we,se),q=Math.max(q,ce),be=Math.max(be,se));return new c(Math.round(je),Math.round(we),Math.round(q-je),Math.round(be-we))},xe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,G,ne=(R=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:G}));this.prevLineDash!==ne&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ne)}}})(Lr.API),function(t){var r=function(o){var l,c,u,f,A,m,p,g,b,v;for(c=[],u=0,f=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;f>u;u+=4)(A=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(m=(A=((A=((A=((A=(A-(v=A%85))/85)-(b=A%85))/85)-(g=A%85))/85)-(p=A%85))/85)%85,c.push(m+33,p+33,g+33,b+33,v+33)):c.push(122);return function(y,j){for(var C=j;C>0;C--)y.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},n=function(o){var l,c,u,f,A,m=String,p="length",g=255,b="charCodeAt",v="slice",y="replace";for(o[v](-2),o=o[v](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),u=[],f=0,A=(o+=l="uuuuu"[v](o[p]%5||5))[p];A>f;f+=5)c=52200625*(o[b](f)-33)+614125*(o[b](f+1)-33)+7225*(o[b](f+2)-33)+85*(o[b](f+3)-33)+(o[b](f+4)-33),u.push(g&c>>24,g&c>>16,g&c>>8,g&c);return function(j,C){for(var S=C;S>0;S--)j.pop()}(u,l[p]),m.fromCharCode.apply(m,u)},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return o=(l=UC(l)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};t.processDataByFilters=function(o,l){var c=0,u=o||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=r(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=a(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(A){return("0"+A.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}}(Lr.API),function(t){t.loadFile=function(r,n,a){return function(i,o,l){o=o!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=function(u,f,A){var m=new XMLHttpRequest,p=0,g=function(b){var v=b.length,y=[],j=String.fromCharCode;for(p=0;p<v;p+=1)y.push(j(255&b.charCodeAt(p)));return y.join("")};if(m.open("GET",u,!f),m.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(m.onload=function(){m.status===200?A(g(this.responseText)):A(void 0)}),m.send(null),f&&m.status===200)return g(m.responseText)}(i,o,l)}catch{}return c}(r,n,a)},t.loadImageFile=t.loadFile}(Lr.API),function(t){function r(){return(Wr.html2canvas?Promise.resolve(Wr.html2canvas):kC(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function n(){return(Wr.DOMPurify?Promise.resolve(Wr.DOMPurify):kC(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var a=function(l){var c=ds(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var u=document.createElement(l);for(var f in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[f]=c.style[f];return u},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),u);return f=(f=f.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(u){switch(a(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l)){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function u(f,A){for(var m=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),p=f.firstChild;p;p=p.nextSibling)A!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||m.appendChild(u(p,A));return f.nodeType===1&&(f.nodeName==="CANVAS"?(m.width=f.width,m.height=f.height,m.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(m.value=f.value),m.addEventListener("load",function(){m.scrollTop=f.scrollTop,m.scrollLeft=f.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(r).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(r).then(function(c){var u=this.opt.jsPDF,f=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var p=0;p<f.length;++p){var g=f[p],b=g.src.find(function(v){return v.format==="truetype"});b&&u.addFont(b.url,g.ref.name,g.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(a(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(a(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(l=l||Lr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,f){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,f){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(f,A){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,f),m}).then(f,A).then(function(m){return u.updateProgress(1),m})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then,l&&(l=l.bind(this)),c&&(c=c.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),A=u.call(f,l,c);return o.convert(A,this.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Lr.getPageSize=function(l,c,u){if(ds(l)==="object"){var f=l;l=f.orientation,c=f.unit||c,u=f.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var A,m=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+c}var g,b=0,v=0;if(p.hasOwnProperty(m))b=p[m][1]/A,v=p[m][0]/A;else try{b=u[1],v=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",v>b&&(g=v,v=b,b=g);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",b>v&&(g=v,v=b,b=g)}return{width:v,height:b,unit:c,k:A,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(KC):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}}(Lr.API),Lr.API.addJS=function(t){return U6=t,this.internal.events.subscribe("postPutResources",function(){y1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(y1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),L6=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+U6+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){y1!==void 0&&L6!==void 0&&this.internal.out("/Names <</JavaScript "+y1+" 0 R>>")}),this},function(t){var r;t.events.push(["postPutResources",function(){var n=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),o=0;o<i.length;o++){var l=i[o],c=a.exec(l);if(c!=null){var u=c[1];n.internal.newObjectDeferredBegin(u,!1)}n.internal.write(l)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,A=[];for(o=0;o<f;o++){var m=n.internal.newObject();A.push(m);var p=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<A.length;o++)n.internal.write("(page_"+(o+1)+")"+A[o]+" 0 R");n.internal.write(" ] >>","endobj"),r=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+r+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(a,i,o){var l={title:i,options:o,children:[]};return a==null&&(a=this.root),a.children.push(l),l},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(a){a.id=n.internal.newObjectDeferred();for(var i=0;i<a.children.length;i++)this.genIds_r(a.children[i])},n.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},n.outline.renderItems=function(a){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<a.children.length;o++){var l=a.children[o];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(a)),o>0&&this.line("/Prev "+this.makeRef(a.children[o-1])),o<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[o+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var u=n.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<a.children.length;f++)this.renderItems(a.children[f])},n.outline.line=function(a){this.ctx.val+=a+`\r
`},n.outline.makeRef=function(a){return a.id+" 0 R"},n.outline.makeString=function(a){return"("+n.internal.pdfEscape(a)+")"},n.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(a,i){for(var o=0;o<i.children.length;o++)a.count++,this.count_r(a,i.children[o]);return a.count}}])}(Lr.API),function(t){var r=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,a,i,o,l,c){var u,f=this.decode.DCT_DECODE,A=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=l||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(u=function(m){for(var p,g=256*m.charCodeAt(4)+m.charCodeAt(5),b=m.length,v={width:0,height:0,numcomponents:1},y=4;y<b;y+=2){if(y+=g,r.indexOf(m.charCodeAt(y+1))!==-1){p=256*m.charCodeAt(y+5)+m.charCodeAt(y+6),v={width:256*m.charCodeAt(y+7)+m.charCodeAt(y+8),height:p,numcomponents:m.charCodeAt(y+9)};break}g=256*m.charCodeAt(y+2)+m.charCodeAt(y+3)}return v}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}A={data:n,width:u.width,height:u.height,colorSpace:c,bitsPerComponent:8,filter:f,index:a,alias:i}}return A}}(Lr.API);var vp,v1,M6,R6,Q6,aY=function(){var t,r,n;function a(o){var l,c,u,f,A,m,p,g,b,v,y,j,C,S;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(l=this.readUInt32(),b=(function(){var E,D;for(D=[],E=0;E<4;++E)D.push(String.fromCharCode(this.data[this.pos++]));return D}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},A=this.readUInt16(),f=this.readUInt16()||100,m.delay=1e3*A/f,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(b==="fdAT"&&(this.pos+=4,l-=4),o=m?.data||this.imgData,j=0;0<=l?j<l:j>l;0<=l?++j:--j)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((v=u-this.transparency.indexed.length)>0)for(C=0;0<=v?C<v:C>v;0<=v?++C:--C)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":p=(y=this.read(l)).indexOf(0),g=String.fromCharCode.apply(String,y.slice(0,p)),this.text[g]=String.fromCharCode.apply(String,y.slice(p+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}a.prototype.read=function(o){var l,c;for(c=[],l=0;0<=o?l<o:l>o;0<=o?++l:--l)c.push(this.data[this.pos++]);return c},a.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},a.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},a.prototype.decodePixels=function(o){var l=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*l),u=0,f=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function A(m,p,g,b){var v,y,j,C,S,E,D,k,L,I,Y,Q,H,U,K,X,Z,ee,de,Ne,Se,ue=Math.ceil((f.width-m)/g),xe=Math.ceil((f.height-p)/b),R=f.width==ue&&f.height==xe;for(U=l*ue,Q=R?c:new Uint8Array(U*xe),E=o.length,H=0,y=0;H<xe&&u<E;){switch(o[u++]){case 0:for(C=Z=0;Z<U;C=Z+=1)Q[y++]=o[u++];break;case 1:for(C=ee=0;ee<U;C=ee+=1)v=o[u++],S=C<l?0:Q[y-l],Q[y++]=(v+S)%256;break;case 2:for(C=de=0;de<U;C=de+=1)v=o[u++],j=(C-C%l)/l,K=H&&Q[(H-1)*U+j*l+C%l],Q[y++]=(K+v)%256;break;case 3:for(C=Ne=0;Ne<U;C=Ne+=1)v=o[u++],j=(C-C%l)/l,S=C<l?0:Q[y-l],K=H&&Q[(H-1)*U+j*l+C%l],Q[y++]=(v+Math.floor((S+K)/2))%256;break;case 4:for(C=Se=0;Se<U;C=Se+=1)v=o[u++],j=(C-C%l)/l,S=C<l?0:Q[y-l],H===0?K=X=0:(K=Q[(H-1)*U+j*l+C%l],X=j&&Q[(H-1)*U+(j-1)*l+C%l]),D=S+K-X,k=Math.abs(D-S),I=Math.abs(D-K),Y=Math.abs(D-X),L=k<=I&&k<=Y?S:I<=Y?K:X,Q[y++]=(v+L)%256;break;default:throw new Error("Invalid filter algorithm: "+o[u-1])}if(!R){var G=((p+H*b)*f.width+m)*l,ne=H*U;for(C=0;C<ue;C+=1){for(var ae=0;ae<l;ae+=1)c[G++]=Q[ne++];G+=(g-1)*l}}H++}}return o=Oq(o),f.interlaceMethod==1?(A(0,0,8,8),A(4,0,8,8),A(0,4,4,8),A(2,0,4,4),A(0,2,2,4),A(1,0,2,2),A(0,1,1,2)):A(0,0,1,1),c},a.prototype.decodePalette=function(){var o,l,c,u,f,A,m,p,g;for(c=this.palette,A=this.transparency.indexed||[],f=new Uint8Array((A.length||0)+c.length),u=0,o=0,l=m=0,p=c.length;m<p;l=m+=3)f[u++]=c[l],f[u++]=c[l+1],f[u++]=c[l+2],f[u++]=(g=A[o++])!=null?g:255;return f},a.prototype.copyToImageData=function(o,l){var c,u,f,A,m,p,g,b,v,y,j;if(u=this.colors,v=null,c=this.hasAlphaChannel,this.palette.length&&(v=(j=this._decodedPalette)!=null?j:this._decodedPalette=this.decodePalette(),u=4,c=!0),b=(f=o.data||o).length,m=v||l,A=p=0,u===1)for(;A<b;)g=v?4*l[A/4]:p,y=m[g++],f[A++]=y,f[A++]=y,f[A++]=y,f[A++]=c?m[g++]:255,p=g;else for(;A<b;)g=v?4*l[A/4]:p,f[A++]=m[g++],f[A++]=m[g++],f[A++]=m[g++],f[A++]=c?m[g++]:255,p=g},a.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var i=function(){if(Object.prototype.toString.call(Wr)==="[object Window]"){try{r=Wr.document.createElement("canvas"),n=r.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(o){var l;if(i()===!0)return n.width=o.width,n.height=o.height,n.clearRect(0,0,o.width,o.height),n.putImageData(o,0,0),(l=new Image).src=r.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},a.prototype.decodeFrames=function(o){var l,c,u,f,A,m,p,g;if(this.animation){for(g=[],c=A=0,m=(p=this.animation.frames).length;A<m;c=++A)l=p[c],u=o.createImageData(l.width,l.height),f=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(u,f),l.imageData=u,g.push(l.image=t(u));return g}},a.prototype.renderFrame=function(o,l){var c,u,f;return c=(u=this.animation.frames)[l],f=u[l-1],l===0&&o.clearRect(0,0,this.width,this.height),f?.disposeOp===1?o.clearRect(f.xOffset,f.yOffset,f.width,f.height):f?.disposeOp===2&&o.putImageData(f.imageData,f.xOffset,f.yOffset),c.blendOp===0&&o.clearRect(c.xOffset,c.yOffset,c.width,c.height),o.drawImage(c.image,c.xOffset,c.yOffset)},a.prototype.animate=function(o){var l,c,u,f,A,m,p=this;return c=0,m=this.animation,f=m.numFrames,u=m.frames,A=m.numPlays,(l=function(){var g,b;if(g=c++%f,b=u[g],p.renderFrame(o,g),f>1&&c/f<A)return p.animation._timeout=setTimeout(l,b.delay)})()},a.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},a.prototype.render=function(o){var l,c;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,l=o.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(c=l.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),l.putImageData(c,0,0))},a}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function iY(t){var r=0;if(t[r++]!==71||t[r++]!==73||t[r++]!==70||t[r++]!==56||(t[r++]+1&253)!=56||t[r++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[r++]|t[r++]<<8,a=t[r++]|t[r++]<<8,i=t[r++],o=i>>7,l=1<<(7&i)+1;t[r++],t[r++];var c=null,u=null;o&&(c=r,u=l,r+=3*l);var f=!0,A=[],m=0,p=null,g=0,b=null;for(this.width=n,this.height=a;f&&r<t.length;)switch(t[r++]){case 33:switch(t[r++]){case 255:if(t[r]!==11||t[r+1]==78&&t[r+2]==69&&t[r+3]==84&&t[r+4]==83&&t[r+5]==67&&t[r+6]==65&&t[r+7]==80&&t[r+8]==69&&t[r+9]==50&&t[r+10]==46&&t[r+11]==48&&t[r+12]==3&&t[r+13]==1&&t[r+16]==0)r+=14,b=t[r++]|t[r++]<<8,r++;else for(r+=12;;){if(!((H=t[r++])>=0))throw Error("Invalid block size");if(H===0)break;r+=H}break;case 249:if(t[r++]!==4||t[r+4]!==0)throw new Error("Invalid graphics extension block.");var v=t[r++];m=t[r++]|t[r++]<<8,p=t[r++],(1&v)==0&&(p=null),g=v>>2&7,r++;break;case 254:for(;;){if(!((H=t[r++])>=0))throw Error("Invalid block size");if(H===0)break;r+=H}break;default:throw new Error("Unknown graphic control label: 0x"+t[r-1].toString(16))}break;case 44:var y=t[r++]|t[r++]<<8,j=t[r++]|t[r++]<<8,C=t[r++]|t[r++]<<8,S=t[r++]|t[r++]<<8,E=t[r++],D=E>>6&1,k=1<<(7&E)+1,L=c,I=u,Y=!1;E>>7&&(Y=!0,L=r,I=k,r+=3*k);var Q=r;for(r++;;){var H;if(!((H=t[r++])>=0))throw Error("Invalid block size");if(H===0)break;r+=H}A.push({x:y,y:j,width:C,height:S,has_local_palette:Y,palette_offset:L,palette_size:I,data_offset:Q,data_length:r-Q,transparent_index:p,interlaced:!!D,delay:m,disposal:g});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[r-1].toString(16))}this.numFrames=function(){return A.length},this.loopCount=function(){return b},this.frameInfo=function(U){if(U<0||U>=A.length)throw new Error("Frame index out of range.");return A[U]},this.decodeAndBlitFrameBGRA=function(U,K){var X=this.frameInfo(U),Z=X.width*X.height,ee=new Uint8Array(Z);H6(t,X.data_offset,ee,Z);var de=X.palette_offset,Ne=X.transparent_index;Ne===null&&(Ne=256);var Se=X.width,ue=n-Se,xe=Se,R=4*(X.y*n+X.x),G=4*((X.y+X.height)*n+X.x),ne=R,ae=4*ue;X.interlaced===!0&&(ae+=4*n*7);for(var oe=8,he=0,me=ee.length;he<me;++he){var te=ee[he];if(xe===0&&(xe=Se,(ne+=ae)>=G&&(ae=4*ue+4*n*(oe-1),ne=R+(Se+ue)*(oe<<1),oe>>=1)),te===Ne)ne+=4;else{var Ae=t[de+3*te],V=t[de+3*te+1],ie=t[de+3*te+2];K[ne++]=ie,K[ne++]=V,K[ne++]=Ae,K[ne++]=255}--xe}},this.decodeAndBlitFrameRGBA=function(U,K){var X=this.frameInfo(U),Z=X.width*X.height,ee=new Uint8Array(Z);H6(t,X.data_offset,ee,Z);var de=X.palette_offset,Ne=X.transparent_index;Ne===null&&(Ne=256);var Se=X.width,ue=n-Se,xe=Se,R=4*(X.y*n+X.x),G=4*((X.y+X.height)*n+X.x),ne=R,ae=4*ue;X.interlaced===!0&&(ae+=4*n*7);for(var oe=8,he=0,me=ee.length;he<me;++he){var te=ee[he];if(xe===0&&(xe=Se,(ne+=ae)>=G&&(ae=4*ue+4*n*(oe-1),ne=R+(Se+ue)*(oe<<1),oe>>=1)),te===Ne)ne+=4;else{var Ae=t[de+3*te],V=t[de+3*te+1],ie=t[de+3*te+2];K[ne++]=Ae,K[ne++]=V,K[ne++]=ie,K[ne++]=255}--xe}}}function H6(t,r,n,a){for(var i=t[r++],o=1<<i,l=o+1,c=l+1,u=i+1,f=(1<<u)-1,A=0,m=0,p=0,g=t[r++],b=new Int32Array(4096),v=null;;){for(;A<16&&g!==0;)m|=t[r++]<<A,A+=8,g===1?g=t[r++]:--g;if(A<u)break;var y=m&f;if(m>>=u,A-=u,y!==o){if(y===l)break;for(var j=y<c?y:v,C=0,S=j;S>o;)S=b[S]>>8,++C;var E=S;if(p+C+(j!==y?1:0)>a)return void ks.log("Warning, gif stream longer than expected.");n[p++]=E;var D=p+=C;for(j!==y&&(n[p++]=E),S=j;C--;)S=b[S],n[--D]=255&S,S>>=8;v!==null&&c<4096&&(b[c++]=v<<8|E,c>=f+1&&u<12&&(++u,f=f<<1|1)),v=y}else c=l+1,f=(1<<(u=i+1))-1,v=null}return p!==a&&ks.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function $j(t){var r,n,a,i,o,l=Math.floor,c=new Array(64),u=new Array(64),f=new Array(64),A=new Array(64),m=new Array(65535),p=new Array(65535),g=new Array(64),b=new Array(64),v=[],y=0,j=7,C=new Array(64),S=new Array(64),E=new Array(64),D=new Array(256),k=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],H=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ee(R,G){for(var ne=0,ae=0,oe=new Array,he=1;he<=16;he++){for(var me=1;me<=R[he];me++)oe[G[ae]]=[],oe[G[ae]][0]=ne,oe[G[ae]][1]=he,ae++,ne++;ne*=2}return oe}function de(R){for(var G=R[0],ne=R[1]-1;ne>=0;)G&1<<ne&&(y|=1<<j),ne--,--j<0&&(y==255?(Ne(255),Ne(0)):Ne(y),j=7,y=0)}function Ne(R){v.push(R)}function Se(R){Ne(R>>8&255),Ne(255&R)}function ue(R,G,ne,ae,oe){for(var he,me=oe[0],te=oe[240],Ae=function(se,je){var we,q,be,Ee,Re,it,et,Ct,_t,ot,Ie=0;for(_t=0;_t<8;++_t){we=se[Ie],q=se[Ie+1],be=se[Ie+2],Ee=se[Ie+3],Re=se[Ie+4],it=se[Ie+5],et=se[Ie+6];var qe=we+(Ct=se[Ie+7]),at=we-Ct,Ut=q+et,Ue=q-et,At=be+it,Ce=be-it,tt=Ee+Re,gt=Ee-Re,Kt=qe+tt,Ke=qe-tt,Tt=Ut+At,wt=Ut-At;se[Ie]=Kt+Tt,se[Ie+4]=Kt-Tt;var Dt=.707106781*(wt+Ke);se[Ie+2]=Ke+Dt,se[Ie+6]=Ke-Dt;var ir=.382683433*((Kt=gt+Ce)-(wt=Ue+at)),Dr=.5411961*Kt+ir,Xr=1.306562965*wt+ir,hs=.707106781*(Tt=Ce+Ue),kn=at+hs,xr=at-hs;se[Ie+5]=xr+Dr,se[Ie+3]=xr-Dr,se[Ie+1]=kn+Xr,se[Ie+7]=kn-Xr,Ie+=8}for(Ie=0,_t=0;_t<8;++_t){we=se[Ie],q=se[Ie+8],be=se[Ie+16],Ee=se[Ie+24],Re=se[Ie+32],it=se[Ie+40],et=se[Ie+48];var En=we+(Ct=se[Ie+56]),Mn=we-Ct,ns=q+et,jr=q-et,Rn=be+it,ke=be-it,Xe=Ee+Re,$e=Ee-Re,Ve=En+Xe,Je=En-Xe,Ze=ns+Rn,vt=ns-Rn;se[Ie]=Ve+Ze,se[Ie+32]=Ve-Ze;var Oe=.707106781*(vt+Je);se[Ie+16]=Je+Oe,se[Ie+48]=Je-Oe;var Ge=.382683433*((Ve=$e+ke)-(vt=jr+Mn)),nt=.5411961*Ve+Ge,xt=1.306562965*vt+Ge,Gt=.707106781*(Ze=ke+jr),Xt=Mn+Gt,tr=Mn-Gt;se[Ie+40]=tr+nt,se[Ie+24]=tr-nt,se[Ie+8]=Xt+xt,se[Ie+56]=Xt-xt,Ie++}for(_t=0;_t<64;++_t)ot=se[_t]*je[_t],g[_t]=ot>0?ot+.5|0:ot-.5|0;return g}(R,G),V=0;V<64;++V)b[L[V]]=Ae[V];var ie=b[0]-ne;ne=b[0],ie==0?de(ae[0]):(de(ae[p[he=32767+ie]]),de(m[he]));for(var pe=63;pe>0&&b[pe]==0;)pe--;if(pe==0)return de(me),ne;for(var ye,ge=1;ge<=pe;){for(var le=ge;b[ge]==0&&ge<=pe;)++ge;var Qe=ge-le;if(Qe>=16){ye=Qe>>4;for(var ce=1;ce<=ye;++ce)de(te);Qe&=15}he=32767+b[ge],de(oe[(Qe<<4)+p[he]]),de(m[he]),ge++}return pe!=63&&de(me),ne}function xe(R){R=Math.min(Math.max(R,1),100),o!=R&&(function(G){for(var ne=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var oe=l((ne[ae]*G+50)/100);oe=Math.min(Math.max(oe,1),255),c[L[ae]]=oe}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var te=l((he[me]*G+50)/100);te=Math.min(Math.max(te,1),255),u[L[me]]=te}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],V=0,ie=0;ie<8;ie++)for(var pe=0;pe<8;pe++)f[V]=1/(c[L[V]]*Ae[ie]*Ae[pe]*8),A[V]=1/(u[L[V]]*Ae[ie]*Ae[pe]*8),V++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),o=R)}this.encode=function(R,G){G&&xe(G),v=new Array,y=0,j=7,Se(65496),Se(65504),Se(16),Ne(74),Ne(70),Ne(73),Ne(70),Ne(0),Ne(1),Ne(1),Ne(0),Se(1),Se(1),Ne(0),Ne(0),function(){Se(65499),Se(132),Ne(0);for(var q=0;q<64;q++)Ne(c[q]);Ne(1);for(var be=0;be<64;be++)Ne(u[be])}(),function(q,be){Se(65472),Se(17),Ne(8),Se(be),Se(q),Ne(3),Ne(1),Ne(17),Ne(0),Ne(2),Ne(17),Ne(1),Ne(3),Ne(17),Ne(1)}(R.width,R.height),function(){Se(65476),Se(418),Ne(0);for(var q=0;q<16;q++)Ne(I[q+1]);for(var be=0;be<=11;be++)Ne(Y[be]);Ne(16);for(var Ee=0;Ee<16;Ee++)Ne(Q[Ee+1]);for(var Re=0;Re<=161;Re++)Ne(H[Re]);Ne(1);for(var it=0;it<16;it++)Ne(U[it+1]);for(var et=0;et<=11;et++)Ne(K[et]);Ne(17);for(var Ct=0;Ct<16;Ct++)Ne(X[Ct+1]);for(var _t=0;_t<=161;_t++)Ne(Z[_t])}(),Se(65498),Se(12),Ne(3),Ne(1),Ne(0),Ne(2),Ne(17),Ne(3),Ne(17),Ne(0),Ne(63),Ne(0);var ne=0,ae=0,oe=0;y=0,j=7,this.encode.displayName="_encode_";for(var he,me,te,Ae,V,ie,pe,ye,ge,le=R.data,Qe=R.width,ce=R.height,se=4*Qe,je=0;je<ce;){for(he=0;he<se;){for(V=se*je+he,pe=-1,ye=0,ge=0;ge<64;ge++)ie=V+(ye=ge>>3)*se+(pe=4*(7&ge)),je+ye>=ce&&(ie-=se*(je+1+ye-ce)),he+pe>=se&&(ie-=he+pe-se+4),me=le[ie++],te=le[ie++],Ae=le[ie++],C[ge]=(k[me]+k[te+256>>0]+k[Ae+512>>0]>>16)-128,S[ge]=(k[me+768>>0]+k[te+1024>>0]+k[Ae+1280>>0]>>16)-128,E[ge]=(k[me+1280>>0]+k[te+1536>>0]+k[Ae+1792>>0]>>16)-128;ne=ue(C,f,ne,r,a),ae=ue(S,A,ae,n,i),oe=ue(E,A,oe,n,i),he+=32}je+=8}if(j>=0){var we=[];we[1]=j+1,we[0]=(1<<j+1)-1,de(we)}return Se(65497),new Uint8Array(v)},t=t||50,function(){for(var R=String.fromCharCode,G=0;G<256;G++)D[G]=R(G)}(),r=ee(I,Y),n=ee(U,K),a=ee(Q,H),i=ee(X,Z),function(){for(var R=1,G=2,ne=1;ne<=15;ne++){for(var ae=R;ae<G;ae++)p[32767+ae]=ne,m[32767+ae]=[],m[32767+ae][1]=ne,m[32767+ae][0]=ae;for(var oe=-(G-1);oe<=-R;oe++)p[32767+oe]=ne,m[32767+oe]=[],m[32767+oe][1]=ne,m[32767+oe][0]=G-1+oe;R<<=1,G<<=1}}(),function(){for(var R=0;R<256;R++)k[R]=19595*R,k[R+256>>0]=38470*R,k[R+512>>0]=7471*R+32768,k[R+768>>0]=-11059*R,k[R+1024>>0]=-21709*R,k[R+1280>>0]=32768*R+8421375,k[R+1536>>0]=-27439*R,k[R+1792>>0]=-5329*R}(),xe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ju(t,r){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!r,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function $6(t){function r(I){if(!I)throw Error("assert :P")}function n(I,Y,Q){for(var H=0;4>H;H++)if(I[Y+H]!=Q.charCodeAt(H))return!0;return!1}function a(I,Y,Q,H,U){for(var K=0;K<U;K++)I[Y+K]=Q[H+K]}function i(I,Y,Q,H){for(var U=0;U<H;U++)I[Y+U]=Q}function o(I){return new Int32Array(I)}function l(I,Y){for(var Q=[],H=0;H<I;H++)Q.push(new Y);return Q}function c(I,Y){var Q=[];return function H(U,K,X){for(var Z=X[K],ee=0;ee<Z&&(U.push(X.length>K+1?[]:new Y),!(X.length<K+1));ee++)H(U[ee],K+1,X)}(Q,0,I),Q}var u=function(){var I=this;function Y(B,M){for(var J=1<<M-1>>>0;B&J;)J>>>=1;return J?(B&J-1)+J:B}function Q(B,M,J,fe,Te){r(!(fe%J));do B[M+(fe-=J)]=Te;while(0<fe)}function H(B,M,J,fe,Te){if(r(2328>=Te),512>=Te)var _e=o(512);else if((_e=o(Te))==null)return 0;return function(De,Le,He,Ye,ct,St){var Nt,pt,Rt=Le,Pt=1<<He,ut=o(16),ht=o(16);for(r(ct!=0),r(Ye!=null),r(De!=null),r(0<He),pt=0;pt<ct;++pt){if(15<Ye[pt])return 0;++ut[Ye[pt]]}if(ut[0]==ct)return 0;for(ht[1]=0,Nt=1;15>Nt;++Nt){if(ut[Nt]>1<<Nt)return 0;ht[Nt+1]=ht[Nt]+ut[Nt]}for(pt=0;pt<ct;++pt)Nt=Ye[pt],0<Ye[pt]&&(St[ht[Nt]++]=pt);if(ht[15]==1)return(Ye=new U).g=0,Ye.value=St[0],Q(De,Rt,1,Pt,Ye),Pt;var Vt,qt=-1,zt=Pt-1,vr=0,ur=1,_r=1,Ar=1<<He;for(pt=0,Nt=1,ct=2;Nt<=He;++Nt,ct<<=1){if(ur+=_r<<=1,0>(_r-=ut[Nt]))return 0;for(;0<ut[Nt];--ut[Nt])(Ye=new U).g=Nt,Ye.value=St[pt++],Q(De,Rt+vr,ct,Ar,Ye),vr=Y(vr,Nt)}for(Nt=He+1,ct=2;15>=Nt;++Nt,ct<<=1){if(ur+=_r<<=1,0>(_r-=ut[Nt]))return 0;for(;0<ut[Nt];--ut[Nt]){if(Ye=new U,(vr&zt)!=qt){for(Rt+=Ar,Vt=1<<(qt=Nt)-He;15>qt&&!(0>=(Vt-=ut[qt]));)++qt,Vt<<=1;Pt+=Ar=1<<(Vt=qt-He),De[Le+(qt=vr&zt)].g=Vt+He,De[Le+qt].value=Rt-Le-qt}Ye.g=Nt-He,Ye.value=St[pt++],Q(De,Rt+(vr>>He),ct,Ar,Ye),vr=Y(vr,Nt)}}return ur!=2*ht[15]-1?0:Pt}(B,M,J,fe,Te,_e)}function U(){this.value=this.g=0}function K(){this.value=this.g=0}function X(){this.G=l(5,U),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Bs,K)}function Z(B,M,J,fe){r(B!=null),r(M!=null),r(2147483648>fe),B.Ca=254,B.I=0,B.b=-8,B.Ka=0,B.oa=M,B.pa=J,B.Jd=M,B.Yc=J+fe,B.Zc=4<=fe?J+fe-4+1:J,he(B)}function ee(B,M){for(var J=0;0<M--;)J|=te(B,128)<<M;return J}function de(B,M){var J=ee(B,M);return me(B)?-J:J}function Ne(B,M,J,fe){var Te,_e=0;for(r(B!=null),r(M!=null),r(4294967288>fe),B.Sb=fe,B.Ra=0,B.u=0,B.h=0,4<fe&&(fe=4),Te=0;Te<fe;++Te)_e+=M[J+Te]<<8*Te;B.Ra=_e,B.bb=fe,B.oa=M,B.pa=J}function Se(B){for(;8<=B.u&&B.bb<B.Sb;)B.Ra>>>=8,B.Ra+=B.oa[B.pa+B.bb]<<Ic-8>>>0,++B.bb,B.u-=8;ne(B)&&(B.h=1,B.u=0)}function ue(B,M){if(r(0<=M),!B.h&&M<=Fc){var J=G(B)&vn[M];return B.u+=M,Se(B),J}return B.h=1,B.u=0}function xe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(B){return B.Ra>>>(B.u&Ic-1)>>>0}function ne(B){return r(B.bb<=B.Sb),B.h||B.bb==B.Sb&&B.u>Ic}function ae(B,M){B.u=M,B.h=ne(B)}function oe(B){B.u>=pu&&(r(B.u>=pu),Se(B))}function he(B){r(B!=null&&B.oa!=null),B.pa<B.Zc?(B.I=(B.oa[B.pa++]|B.I<<8)>>>0,B.b+=8):(r(B!=null&&B.oa!=null),B.pa<B.Yc?(B.b+=8,B.I=B.oa[B.pa++]|B.I<<8):B.Ka?B.b=0:(B.I<<=8,B.b+=8,B.Ka=1))}function me(B){return ee(B,1)}function te(B,M){var J=B.Ca;0>B.b&&he(B);var fe=B.b,Te=J*M>>>8,_e=(B.I>>>fe>Te)+0;for(_e?(J-=Te,B.I-=Te+1<<fe>>>0):J=Te+1,fe=J,Te=0;256<=fe;)Te+=8,fe>>=8;return fe=7^Te+ii[fe],B.b-=fe,B.Ca=(J<<fe)-1,_e}function Ae(B,M,J){B[M+0]=J>>24&255,B[M+1]=J>>16&255,B[M+2]=J>>8&255,B[M+3]=J>>0&255}function V(B,M){return B[M+0]<<0|B[M+1]<<8}function ie(B,M){return V(B,M)|B[M+2]<<16}function pe(B,M){return V(B,M)|V(B,M+2)<<16}function ye(B,M){var J=1<<M;return r(B!=null),r(0<M),B.X=o(J),B.X==null?0:(B.Mb=32-M,B.Xa=M,1)}function ge(B,M){r(B!=null),r(M!=null),r(B.Xa==M.Xa),a(M.X,0,B.X,0,1<<M.Xa)}function le(){this.X=[],this.Xa=this.Mb=0}function Qe(B,M,J,fe){r(J!=null),r(fe!=null);var Te=J[0],_e=fe[0];return Te==0&&(Te=(B*_e+M/2)/M),_e==0&&(_e=(M*Te+B/2)/B),0>=Te||0>=_e?0:(J[0]=Te,fe[0]=_e,1)}function ce(B,M){return B+(1<<M)-1>>>M}function se(B,M){return((4278255360&B)+(4278255360&M)>>>0&4278255360)+((16711935&B)+(16711935&M)>>>0&16711935)>>>0}function je(B,M){I[M]=function(J,fe,Te,_e,De,Le,He){var Ye;for(Ye=0;Ye<De;++Ye){var ct=I[B](Le[He+Ye-1],Te,_e+Ye);Le[He+Ye]=se(J[fe+Ye],ct)}}}function we(){this.ud=this.hd=this.jd=0}function q(B,M){return((4278124286&(B^M))>>>1)+(B&M)>>>0}function be(B){return 0<=B&&256>B?B:0>B?0:255<B?255:void 0}function Ee(B,M){return be(B+(B-M+.5>>1))}function Re(B,M,J){return Math.abs(M-J)-Math.abs(B-J)}function it(B,M,J,fe,Te,_e,De){for(fe=_e[De-1],J=0;J<Te;++J)_e[De+J]=fe=se(B[M+J],fe)}function et(B,M,J,fe,Te){var _e;for(_e=0;_e<J;++_e){var De=B[M+_e],Le=De>>8&255,He=16711935&(He=(He=16711935&De)+((Le<<16)+Le));fe[Te+_e]=(4278255360&De)+He>>>0}}function Ct(B,M){M.jd=B>>0&255,M.hd=B>>8&255,M.ud=B>>16&255}function _t(B,M,J,fe,Te,_e){var De;for(De=0;De<fe;++De){var Le=M[J+De],He=Le>>>8,Ye=Le,ct=255&(ct=(ct=Le>>>16)+((B.jd<<24>>24)*(He<<24>>24)>>>5));Ye=255&(Ye=(Ye=Ye+((B.hd<<24>>24)*(He<<24>>24)>>>5))+((B.ud<<24>>24)*(ct<<24>>24)>>>5)),Te[_e+De]=(4278255360&Le)+(ct<<16)+Ye}}function ot(B,M,J,fe,Te){I[M]=function(_e,De,Le,He,Ye,ct,St,Nt,pt){for(He=St;He<Nt;++He)for(St=0;St<pt;++St)Ye[ct++]=Te(Le[fe(_e[De++])])},I[B]=function(_e,De,Le,He,Ye,ct,St){var Nt=8>>_e.b,pt=_e.Ea,Rt=_e.K[0],Pt=_e.w;if(8>Nt)for(_e=(1<<_e.b)-1,Pt=(1<<Nt)-1;De<Le;++De){var ut,ht=0;for(ut=0;ut<pt;++ut)ut&_e||(ht=fe(He[Ye++])),ct[St++]=Te(Rt[ht&Pt]),ht>>=Nt}else I["VP8LMapColor"+J](He,Ye,Rt,Pt,ct,St,De,Le,pt)}}function Ie(B,M,J,fe,Te){for(J=M+J;M<J;){var _e=B[M++];fe[Te++]=_e>>16&255,fe[Te++]=_e>>8&255,fe[Te++]=_e>>0&255}}function qe(B,M,J,fe,Te){for(J=M+J;M<J;){var _e=B[M++];fe[Te++]=_e>>16&255,fe[Te++]=_e>>8&255,fe[Te++]=_e>>0&255,fe[Te++]=_e>>24&255}}function at(B,M,J,fe,Te){for(J=M+J;M<J;){var _e=(De=B[M++])>>16&240|De>>12&15,De=De>>0&240|De>>28&15;fe[Te++]=_e,fe[Te++]=De}}function Ut(B,M,J,fe,Te){for(J=M+J;M<J;){var _e=(De=B[M++])>>16&248|De>>13&7,De=De>>5&224|De>>3&31;fe[Te++]=_e,fe[Te++]=De}}function Ue(B,M,J,fe,Te){for(J=M+J;M<J;){var _e=B[M++];fe[Te++]=_e>>0&255,fe[Te++]=_e>>8&255,fe[Te++]=_e>>16&255}}function At(B,M,J,fe,Te,_e){if(_e==0)for(J=M+J;M<J;)Ae(fe,((_e=B[M++])[0]>>24|_e[1]>>8&65280|_e[2]<<8&16711680|_e[3]<<24)>>>0),Te+=32;else a(fe,Te,B,M,J)}function Ce(B,M){I[M][0]=I[B+"0"],I[M][1]=I[B+"1"],I[M][2]=I[B+"2"],I[M][3]=I[B+"3"],I[M][4]=I[B+"4"],I[M][5]=I[B+"5"],I[M][6]=I[B+"6"],I[M][7]=I[B+"7"],I[M][8]=I[B+"8"],I[M][9]=I[B+"9"],I[M][10]=I[B+"10"],I[M][11]=I[B+"11"],I[M][12]=I[B+"12"],I[M][13]=I[B+"13"],I[M][14]=I[B+"0"],I[M][15]=I[B+"0"]}function tt(B){return B==TA||B==Oc||B==Gl||B==Wl}function gt(){this.eb=[],this.size=this.A=this.fb=0}function Kt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ke(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new gt,this.f.kb=new Kt,this.sd=null}function Tt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function wt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Dt(B){return alert("todo:WebPSamplerProcessPlane"),B.T}function ir(B,M){var J=B.T,fe=M.ba.f.RGBA,Te=fe.eb,_e=fe.fb+B.ka*fe.A,De=Na[M.ba.S],Le=B.y,He=B.O,Ye=B.f,ct=B.N,St=B.ea,Nt=B.W,pt=M.cc,Rt=M.dc,Pt=M.Mc,ut=M.Nc,ht=B.ka,Vt=B.ka+B.T,qt=B.U,zt=qt+1>>1;for(ht==0?De(Le,He,null,null,Ye,ct,St,Nt,Ye,ct,St,Nt,Te,_e,null,null,qt):(De(M.ec,M.fc,Le,He,pt,Rt,Pt,ut,Ye,ct,St,Nt,Te,_e-fe.A,Te,_e,qt),++J);ht+2<Vt;ht+=2)pt=Ye,Rt=ct,Pt=St,ut=Nt,ct+=B.Rc,Nt+=B.Rc,_e+=2*fe.A,De(Le,(He+=2*B.fa)-B.fa,Le,He,pt,Rt,Pt,ut,Ye,ct,St,Nt,Te,_e-fe.A,Te,_e,qt);return He+=B.fa,B.j+Vt<B.o?(a(M.ec,M.fc,Le,He,qt),a(M.cc,M.dc,Ye,ct,zt),a(M.Mc,M.Nc,St,Nt,zt),J--):1&Vt||De(Le,He,null,null,Ye,ct,St,Nt,Ye,ct,St,Nt,Te,_e+fe.A,null,null,qt),J}function Dr(B,M,J){var fe=B.F,Te=[B.J];if(fe!=null){var _e=B.U,De=M.ba.S,Le=De==wu||De==Gl;M=M.ba.f.RGBA;var He=[0],Ye=B.ka;He[0]=B.T,B.Kb&&(Ye==0?--He[0]:(--Ye,Te[0]-=B.width),B.j+B.ka+B.T==B.o&&(He[0]=B.o-B.j-Ye));var ct=M.eb;Ye=M.fb+Ye*M.A,B=an(fe,Te[0],B.width,_e,He,ct,Ye+(Le?0:3),M.A),r(J==He),B&&tt(De)&&Ii(ct,Ye,Le,_e,He,M.A)}return 0}function Xr(B){var M=B.ma,J=M.ba.S,fe=11>J,Te=J==Ed||J==EA||J==wu||J==go||J==12||tt(J);if(M.memory=null,M.Ib=null,M.Jb=null,M.Nd=null,!ms(M.Oa,B,Te?11:12))return 0;if(Te&&tt(J)&&rr(),B.da)alert("todo:use_scaling");else{if(fe){if(M.Ib=Dt,B.Kb){if(J=B.U+1>>1,M.memory=o(B.U+2*J),M.memory==null)return 0;M.ec=M.memory,M.fc=0,M.cc=M.ec,M.dc=M.fc+B.U,M.Mc=M.cc,M.Nc=M.dc+J,M.Ib=ir,rr()}}else alert("todo:EmitYUV");Te&&(M.Jb=Dr,fe&&bt())}if(fe&&!V0){for(B=0;256>B;++B)_g[B]=89858*(B-128)+ha>>bl,IA[B]=-22014*(B-128)+ha,dm[B]=-45773*(B-128),ma[B]=113618*(B-128)+ha>>bl;for(B=zo;B<zf;++B)M=76283*(B-16)+ha>>bl,_A[B-zo]=ba(M,255),Am[B-zo]=ba(M+8>>4,15);V0=1}return 1}function hs(B){var M=B.ma,J=B.U,fe=B.T;return r(!(1&B.ka)),0>=J||0>=fe?0:(J=M.Ib(B,M),M.Jb!=null&&M.Jb(B,M,J),M.Dc+=J,1)}function kn(B){B.ma.memory=null}function xr(B,M,J,fe){return ue(B,8)!=47?0:(M[0]=ue(B,14)+1,J[0]=ue(B,14)+1,fe[0]=ue(B,1),ue(B,3)!=0?0:!B.h)}function En(B,M){if(4>B)return B+1;var J=B-2>>1;return(2+(1&B)<<J)+ue(M,J)+1}function Mn(B,M){return 120<M?M-120:1<=(J=((J=ql[M-1])>>4)*B+(8-(15&J)))?J:1;var J}function ns(B,M,J){var fe=G(J),Te=B[M+=255&fe].g-8;return 0<Te&&(ae(J,J.u+8),fe=G(J),M+=B[M].value,M+=fe&(1<<Te)-1),ae(J,J.u+B[M].g),B[M].value}function jr(B,M,J){return J.g+=B.g,J.value+=B.value<<M>>>0,r(8>=J.g),B.g}function Rn(B,M,J){var fe=B.xc;return r((M=fe==0?0:B.vc[B.md*(J>>fe)+(M>>fe)])<B.Wb),B.Ya[M]}function ke(B,M,J,fe){var Te=B.ab,_e=B.c*M,De=B.C;M=De+M;var Le=J,He=fe;for(fe=B.Ta,J=B.Ua;0<Te--;){var Ye=B.gc[Te],ct=De,St=M,Nt=Le,pt=He,Rt=(He=fe,Le=J,Ye.Ea);switch(r(ct<St),r(St<=Ye.nc),Ye.hc){case 2:SA(Nt,pt,(St-ct)*Rt,He,Le);break;case 0:var Pt=ct,ut=St,ht=He,Vt=Le,qt=(Ar=Ye).Ea;Pt==0&&(Sd(Nt,pt,null,null,1,ht,Vt),it(Nt,pt+1,0,0,qt-1,ht,Vt+1),pt+=qt,Vt+=qt,++Pt);for(var zt=1<<Ar.b,vr=zt-1,ur=ce(qt,Ar.b),_r=Ar.K,Ar=Ar.w+(Pt>>Ar.b)*ur;Pt<ut;){var Sn=_r,Pn=Ar,nn=1;for(Bd(Nt,pt,ht,Vt-qt,1,ht,Vt);nn<qt;){var Zt=(nn&~vr)+zt;Zt>qt&&(Zt=qt),(0,Ka[Sn[Pn++]>>8&15])(Nt,pt+ +nn,ht,Vt+nn-qt,Zt-nn,ht,Vt+nn),nn=Zt}pt+=qt,Vt+=qt,++Pt&vr||(Ar+=ur)}St!=Ye.nc&&a(He,Le-Rt,He,Le+(St-ct-1)*Rt,Rt);break;case 1:for(Rt=Nt,ut=pt,qt=(Nt=Ye.Ea)-(Vt=Nt&~(ht=(pt=1<<Ye.b)-1)),Pt=ce(Nt,Ye.b),zt=Ye.K,Ye=Ye.w+(ct>>Ye.b)*Pt;ct<St;){for(vr=zt,ur=Ye,_r=new we,Ar=ut+Vt,Sn=ut+Nt;ut<Ar;)Ct(vr[ur++],_r),$l(_r,Rt,ut,pt,He,Le),ut+=pt,Le+=pt;ut<Sn&&(Ct(vr[ur++],_r),$l(_r,Rt,ut,qt,He,Le),ut+=qt,Le+=qt),++ct&ht||(Ye+=Pt)}break;case 3:if(Nt==He&&pt==Le&&0<Ye.b){for(ut=He,Nt=Rt=Le+(St-ct)*Rt-(Vt=(St-ct)*ce(Ye.Ea,Ye.b)),pt=He,ht=Le,Pt=[],Vt=(qt=Vt)-1;0<=Vt;--Vt)Pt[Vt]=pt[ht+Vt];for(Vt=qt-1;0<=Vt;--Vt)ut[Nt+Vt]=Pt[Vt];Es(Ye,ct,St,He,Rt,He,Le)}else Es(Ye,ct,St,Nt,pt,He,Le)}Le=fe,He=J}He!=J&&a(fe,J,Le,He,_e)}function Xe(B,M){var J=B.V,fe=B.Ba+B.c*B.C,Te=M-B.C;if(r(M<=B.l.o),r(16>=Te),0<Te){var _e=B.l,De=B.Ta,Le=B.Ua,He=_e.width;if(ke(B,Te,J,fe),Te=Le=[Le],r((J=B.C)<(fe=M)),r(_e.v<_e.va),fe>_e.o&&(fe=_e.o),J<_e.j){var Ye=_e.j-J;J=_e.j,Te[0]+=Ye*He}if(J>=fe?J=0:(Te[0]+=4*_e.v,_e.ka=J-_e.j,_e.U=_e.va-_e.v,_e.T=fe-J,J=1),J){if(Le=Le[0],11>(J=B.ca).S){var ct=J.f.RGBA,St=(fe=J.S,Te=_e.U,_e=_e.T,Ye=ct.eb,ct.A),Nt=_e;for(ct=ct.fb+B.Ma*ct.A;0<Nt--;){var pt=De,Rt=Le,Pt=Te,ut=Ye,ht=ct;switch(fe){case za:Va(pt,Rt,Pt,ut,ht);break;case Ed:Aa(pt,Rt,Pt,ut,ht);break;case TA:Aa(pt,Rt,Pt,ut,ht),Ii(ut,ht,0,Pt,1,0);break;case ci:li(pt,Rt,Pt,ut,ht);break;case EA:At(pt,Rt,Pt,ut,ht,1);break;case Oc:At(pt,Rt,Pt,ut,ht,1),Ii(ut,ht,0,Pt,1,0);break;case wu:At(pt,Rt,Pt,ut,ht,0);break;case Gl:At(pt,Rt,Pt,ut,ht,0),Ii(ut,ht,1,Pt,1,0);break;case go:Kl(pt,Rt,Pt,ut,ht);break;case Wl:Kl(pt,Rt,Pt,ut,ht),sn(ut,ht,Pt,1,0);break;case Qf:Ei(pt,Rt,Pt,ut,ht);break;default:r(0)}Le+=He,ct+=St}B.Ma+=_e}else alert("todo:EmitRescaledRowsYUVA");r(B.Ma<=J.height)}}B.C=M,r(B.C<=B.i)}function $e(B){var M;if(0<B.ua)return 0;for(M=0;M<B.Wb;++M){var J=B.Ya[M].G,fe=B.Ya[M].H;if(0<J[1][fe[1]+0].g||0<J[2][fe[2]+0].g||0<J[3][fe[3]+0].g)return 0}return 1}function Ve(B,M,J,fe,Te,_e){if(B.Z!=0){var De=B.qd,Le=B.rd;for(r(Vo[B.Z]!=null);M<J;++M)Vo[B.Z](De,Le,fe,Te,fe,Te,_e),De=fe,Le=Te,Te+=_e;B.qd=De,B.rd=Le}}function Je(B,M){var J=B.l.ma,fe=J.Z==0||J.Z==1?B.l.j:B.C;if(fe=B.C<fe?fe:B.C,r(M<=B.l.o),M>fe){var Te=B.l.width,_e=J.ca,De=J.tb+Te*fe,Le=B.V,He=B.Ba+B.c*fe,Ye=B.gc;r(B.ab==1),r(Ye[0].hc==3),oi(Ye[0],fe,M,Le,He,_e,De),Ve(J,fe,M,_e,De,Te)}B.C=B.Ma=M}function Ze(B,M,J,fe,Te,_e,De){var Le=B.$/fe,He=B.$%fe,Ye=B.m,ct=B.s,St=J+B.$,Nt=St;Te=J+fe*Te;var pt=J+fe*_e,Rt=280+ct.ua,Pt=B.Pb?Le:16777216,ut=0<ct.ua?ct.Wa:null,ht=ct.wc,Vt=St<pt?Rn(ct,He,Le):null;r(B.C<_e),r(pt<=Te);var qt=!1;e:for(;;){for(;qt||St<pt;){var zt=0;if(Le>=Pt){var vr=St-J;r((Pt=B).Pb),Pt.wd=Pt.m,Pt.xd=vr,0<Pt.s.ua&&ge(Pt.s.Wa,Pt.s.vb),Pt=Le+H0}if(He&ht||(Vt=Rn(ct,He,Le)),r(Vt!=null),Vt.Qb&&(M[St]=Vt.qb,qt=!0),!qt)if(oe(Ye),Vt.jc){zt=Ye,vr=M;var ur=St,_r=Vt.pd[G(zt)&Bs-1];r(Vt.jc),256>_r.g?(ae(zt,zt.u+_r.g),vr[ur]=_r.value,zt=0):(ae(zt,zt.u+_r.g-256),r(256<=_r.value),zt=_r.value),zt==0&&(qt=!0)}else zt=ns(Vt.G[0],Vt.H[0],Ye);if(Ye.h)break;if(qt||256>zt){if(!qt)if(Vt.nd)M[St]=(Vt.qb|zt<<8)>>>0;else{if(oe(Ye),qt=ns(Vt.G[1],Vt.H[1],Ye),oe(Ye),vr=ns(Vt.G[2],Vt.H[2],Ye),ur=ns(Vt.G[3],Vt.H[3],Ye),Ye.h)break;M[St]=(ur<<24|qt<<16|zt<<8|vr)>>>0}if(qt=!1,++St,++He>=fe&&(He=0,++Le,De!=null&&Le<=_e&&!(Le%16)&&De(B,Le),ut!=null))for(;Nt<St;)zt=M[Nt++],ut.X[(506832829*zt&4294967295)>>>ut.Mb]=zt}else if(280>zt){if(zt=En(zt-256,Ye),vr=ns(Vt.G[4],Vt.H[4],Ye),oe(Ye),vr=Mn(fe,vr=En(vr,Ye)),Ye.h)break;if(St-J<vr||Te-St<zt)break e;for(ur=0;ur<zt;++ur)M[St+ur]=M[St+ur-vr];for(St+=zt,He+=zt;He>=fe;)He-=fe,++Le,De!=null&&Le<=_e&&!(Le%16)&&De(B,Le);if(r(St<=Te),He&ht&&(Vt=Rn(ct,He,Le)),ut!=null)for(;Nt<St;)zt=M[Nt++],ut.X[(506832829*zt&4294967295)>>>ut.Mb]=zt}else{if(!(zt<Rt))break e;for(qt=zt-280,r(ut!=null);Nt<St;)zt=M[Nt++],ut.X[(506832829*zt&4294967295)>>>ut.Mb]=zt;zt=St,r(!(qt>>>(vr=ut).Xa)),M[zt]=vr.X[qt],qt=!0}qt||r(Ye.h==ne(Ye))}if(B.Pb&&Ye.h&&St<Te)r(B.m.h),B.a=5,B.m=B.wd,B.$=B.xd,0<B.s.ua&&ge(B.s.vb,B.s.Wa);else{if(Ye.h)break e;De?.(B,Le>_e?_e:Le),B.a=0,B.$=St-J}return 1}return B.a=3,0}function vt(B){r(B!=null),B.vc=null,B.yc=null,B.Ya=null;var M=B.Wa;M!=null&&(M.X=null),B.vb=null,r(B!=null)}function Oe(){var B=new cm;return B==null?null:(B.a=0,B.xb=Td,Ce("Predictor","VP8LPredictors"),Ce("Predictor","VP8LPredictors_C"),Ce("PredictorAdd","VP8LPredictorsAdd"),Ce("PredictorAdd","VP8LPredictorsAdd_C"),SA=et,$l=_t,Va=Ie,Aa=qe,Kl=at,Ei=Ut,li=Ue,I.VP8LMapColor32b=as,I.VP8LMapColor8b=Ls,B)}function Ge(B,M,J,fe,Te){var _e=1,De=[B],Le=[M],He=fe.m,Ye=fe.s,ct=null,St=0;e:for(;;){if(J)for(;_e&&ue(He,1);){var Nt=De,pt=Le,Rt=fe,Pt=1,ut=Rt.m,ht=Rt.gc[Rt.ab],Vt=ue(ut,2);if(Rt.Oc&1<<Vt)_e=0;else{switch(Rt.Oc|=1<<Vt,ht.hc=Vt,ht.Ea=Nt[0],ht.nc=pt[0],ht.K=[null],++Rt.ab,r(4>=Rt.ab),Vt){case 0:case 1:ht.b=ue(ut,3)+2,Pt=Ge(ce(ht.Ea,ht.b),ce(ht.nc,ht.b),0,Rt,ht.K),ht.K=ht.K[0];break;case 3:var qt,zt=ue(ut,8)+1,vr=16<zt?0:4<zt?1:2<zt?2:3;if(Nt[0]=ce(ht.Ea,vr),ht.b=vr,qt=Pt=Ge(zt,1,0,Rt,ht.K)){var ur,_r=zt,Ar=ht,Sn=1<<(8>>Ar.b),Pn=o(Sn);if(Pn==null)qt=0;else{var nn=Ar.K[0],Zt=Ar.w;for(Pn[0]=Ar.K[0][0],ur=1;ur<1*_r;++ur)Pn[ur]=se(nn[Zt+ur],Pn[ur-1]);for(;ur<4*Sn;++ur)Pn[ur]=0;Ar.K[0]=null,Ar.K[0]=Pn,qt=1}}Pt=qt;break;case 2:break;default:r(0)}_e=Pt}}if(De=De[0],Le=Le[0],_e&&ue(He,1)&&!(_e=1<=(St=ue(He,4))&&11>=St)){fe.a=3;break e}var Vn;if(Vn=_e)t:{var Dn,Kr,hn,Pr=fe,Mr=De,un=Le,gn=St,Ca=J,pa=Pr.m,qs=Pr.s,Xn=[null],Rs=1,_i=0,On=Nu[gn];r:for(;;){if(Ca&&ue(pa,1)){var Ys=ue(pa,3)+2,Go=ce(Mr,Ys),wl=ce(un,Ys),Bu=Go*wl;if(!Ge(Go,wl,0,Pr,Xn))break r;for(Xn=Xn[0],qs.xc=Ys,Dn=0;Dn<Bu;++Dn){var Mc=Xn[Dn]>>8&65535;Xn[Dn]=Mc,Mc>=Rs&&(Rs=Mc+1)}}if(pa.h)break r;for(Kr=0;5>Kr;++Kr){var gs=qi[Kr];!Kr&&0<gn&&(gs+=1<<gn),_i<gs&&(_i=gs)}var kA=l(Rs*On,U),Gf=Rs,di=l(Gf,X);if(di==null)var Fs=null;else r(65536>=Gf),Fs=di;var Eu=o(_i);if(Fs==null||Eu==null||kA==null){Pr.a=1;break r}var Zl=kA;for(Dn=hn=0;Dn<Rs;++Dn){var ki=Fs[Dn],Rc=ki.G,Pi=ki.H,Id=0,_d=1,Tu=0;for(Kr=0;5>Kr;++Kr){gs=qi[Kr],Rc[Kr]=Zl,Pi[Kr]=hn,!Kr&&0<gn&&(gs+=1<<gn);s:{var PA,kd=gs,Fu=Pr,Iu=Eu,hm=Zl,G0=hn,Pd=0,Wo=Fu.m,mm=ue(Wo,1);if(i(Iu,0,0,kd),mm){var pm=ue(Wo,1)+1,gm=ue(Wo,1),Wf=ue(Wo,gm==0?1:8);Iu[Wf]=1,pm==2&&(Iu[Wf=ue(Wo,8)]=1);var _u=1}else{var DA=o(19),xm=ue(Wo,4)+4;if(19<xm){Fu.a=3;var OA=0;break s}for(PA=0;PA<xm;++PA)DA[yo[PA]]=ue(Wo,3);var qf=void 0,ka=void 0,Yf=Fu,W0=DA,ec=kd,LA=Iu,Xf=0,qo=Yf.m,Dd=8,ym=l(128,U);n:for(;H(ym,0,7,W0,19);){if(ue(qo,1)){var q0=2+2*ue(qo,3);if((qf=2+ue(qo,q0))>ec)break n}else qf=ec;for(ka=0;ka<ec&&qf--;){oe(qo);var vm=ym[0+(127&G(qo))];ae(qo,qo.u+vm.g);var Qc=vm.value;if(16>Qc)LA[ka++]=Qc,Qc!=0&&(Dd=Qc);else{var Y0=Qc==16,UA=Qc-16,Jf=xo[UA],ga=ue(qo,Hf[UA])+Jf;if(ka+ga>ec)break n;for(var Od=Y0?Dd:0;0<ga--;)LA[ka++]=Od}}Xf=1;break n}Xf||(Yf.a=3),_u=Xf}(_u=_u&&!Wo.h)&&(Pd=H(hm,G0,8,Iu,kd)),_u&&Pd!=0?OA=Pd:(Fu.a=3,OA=0)}if(OA==0)break r;if(_d&&ju[Kr]==1&&(_d=Zl[hn].g==0),Id+=Zl[hn].g,hn+=OA,3>=Kr){var ku,Zf=Eu[0];for(ku=1;ku<gs;++ku)Eu[ku]>Zf&&(Zf=Eu[ku]);Tu+=Zf}}if(ki.nd=_d,ki.Qb=0,_d&&(ki.qb=(Rc[3][Pi[3]+0].value<<24|Rc[1][Pi[1]+0].value<<16|Rc[2][Pi[2]+0].value)>>>0,Id==0&&256>Rc[0][Pi[0]+0].value&&(ki.Qb=1,ki.qb+=Rc[0][Pi[0]+0].value<<8)),ki.jc=!ki.Qb&&6>Tu,ki.jc){var Ld,Yo=ki;for(Ld=0;Ld<Bs;++Ld){var jl=Ld,tc=Yo.pd[jl],MA=Yo.G[0][Yo.H[0]+jl];256<=MA.value?(tc.g=MA.g+256,tc.value=MA.value):(tc.g=0,tc.value=0,jl>>=jr(MA,8,tc),jl>>=jr(Yo.G[1][Yo.H[1]+jl],16,tc),jl>>=jr(Yo.G[2][Yo.H[2]+jl],0,tc),jr(Yo.G[3][Yo.H[3]+jl],24,tc))}}}qs.vc=Xn,qs.Wb=Rs,qs.Ya=Fs,qs.yc=kA,Vn=1;break t}Vn=0}if(!(_e=Vn)){fe.a=3;break e}if(0<St){if(Ye.ua=1<<St,!ye(Ye.Wa,St)){fe.a=1,_e=0;break e}}else Ye.ua=0;var RA=fe,bm=De,X0=Le,wm=RA.s,jm=wm.xc;if(RA.c=bm,RA.i=X0,wm.md=ce(bm,jm),wm.wc=jm==0?-1:(1<<jm)-1,J){fe.xb=K0;break e}if((ct=o(De*Le))==null){fe.a=1,_e=0;break e}_e=(_e=Ze(fe,ct,0,De,Le,Le,null))&&!He.h;break e}return _e?(Te!=null?Te[0]=ct:(r(ct==null),r(J)),fe.$=0,J||vt(Ye)):vt(Ye),_e}function nt(B,M){var J=B.c*B.i,fe=J+M+16*M;return r(B.c<=M),B.V=o(fe),B.V==null?(B.Ta=null,B.Ua=0,B.a=1,0):(B.Ta=B.V,B.Ua=B.Ba+J+M,1)}function xt(B,M){var J=B.C,fe=M-J,Te=B.V,_e=B.Ba+B.c*J;for(r(M<=B.l.o);0<fe;){var De=16<fe?16:fe,Le=B.l.ma,He=B.l.width,Ye=He*De,ct=Le.ca,St=Le.tb+He*J,Nt=B.Ta,pt=B.Ua;ke(B,De,Te,_e),ts(Nt,pt,ct,St,Ye),Ve(Le,J,J+De,ct,St,He),fe-=De,Te+=De*B.c,J+=De}r(J==M),B.C=B.Ma=M}function Gt(){this.ub=this.yd=this.td=this.Rb=0}function Xt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function tr(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function nr(){this.Yb=function(){var B=[];return function M(J,fe,Te){for(var _e=Te[fe],De=0;De<_e&&(J.push(Te.length>fe+1?[]:0),!(Te.length<fe+1));De++)M(J[De],fe+1,Te)}(B,0,[3,11]),B}()}function pr(){this.jb=o(3),this.Wc=c([4,8],nr),this.Xc=c([4,17],nr)}function Rr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function cn(){this.ld=this.La=this.dd=this.tc=0}function Cn(){this.Na=this.la=0}function Tn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function bi(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function wi(){this.uc=this.M=this.Nb=0,this.wa=Array(new cn),this.Y=0,this.ya=Array(new bi),this.aa=0,this.l=new si}function ni(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Vi(){this.cb=this.a=0,this.sc="",this.m=new xe,this.Od=new Gt,this.Kc=new Xt,this.ed=new Rr,this.Qa=new tr,this.Ic=this.$c=this.Aa=0,this.D=new wi,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,xe),this.ia=0,this.pb=l(4,Tn),this.Pa=new pr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ni),this.Hd=0,this.rb=Array(new Cn),this.sb=0,this.wa=Array(new cn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new bi),this.L=this.aa=0,this.gd=c([4,2],cn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function si(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ia(){var B=new Vi;return B!=null&&(B.a=0,B.sc="OK",B.cb=0,B.Xb=0,fa||(fa=cu)),B}function Os(B,M,J){return B.a==0&&(B.a=M,B.sc=J,B.cb=0),0}function ai(B,M,J){return 3<=J&&B[M+0]==157&&B[M+1]==1&&B[M+2]==42}function hA(B,M){if(B==null)return 0;if(B.a=0,B.sc="OK",M==null)return Os(B,2,"null VP8Io passed to VP8GetHeaders()");var J=M.data,fe=M.w,Te=M.ha;if(4>Te)return Os(B,7,"Truncated header.");var _e=J[fe+0]|J[fe+1]<<8|J[fe+2]<<16,De=B.Od;if(De.Rb=!(1&_e),De.td=_e>>1&7,De.yd=_e>>4&1,De.ub=_e>>5,3<De.td)return Os(B,3,"Incorrect keyframe parameters.");if(!De.yd)return Os(B,4,"Frame not displayable.");fe+=3,Te-=3;var Le=B.Kc;if(De.Rb){if(7>Te)return Os(B,7,"cannot parse picture header");if(!ai(J,fe,Te))return Os(B,3,"Bad code word");Le.c=16383&(J[fe+4]<<8|J[fe+3]),Le.Td=J[fe+4]>>6,Le.i=16383&(J[fe+6]<<8|J[fe+5]),Le.Ud=J[fe+6]>>6,fe+=7,Te-=7,B.za=Le.c+15>>4,B.Ub=Le.i+15>>4,M.width=Le.c,M.height=Le.i,M.Da=0,M.j=0,M.v=0,M.va=M.width,M.o=M.height,M.da=0,M.ib=M.width,M.hb=M.height,M.U=M.width,M.T=M.height,i((_e=B.Pa).jb,0,255,_e.jb.length),r((_e=B.Qa)!=null),_e.Cb=0,_e.Bb=0,_e.Fb=1,i(_e.Zb,0,0,_e.Zb.length),i(_e.Lb,0,0,_e.Lb)}if(De.ub>Te)return Os(B,7,"bad partition length");Z(_e=B.m,J,fe,De.ub),fe+=De.ub,Te-=De.ub,De.Rb&&(Le.Ld=me(_e),Le.Kd=me(_e)),Le=B.Qa;var He,Ye=B.Pa;if(r(_e!=null),r(Le!=null),Le.Cb=me(_e),Le.Cb){if(Le.Bb=me(_e),me(_e)){for(Le.Fb=me(_e),He=0;4>He;++He)Le.Zb[He]=me(_e)?de(_e,7):0;for(He=0;4>He;++He)Le.Lb[He]=me(_e)?de(_e,6):0}if(Le.Bb)for(He=0;3>He;++He)Ye.jb[He]=me(_e)?ee(_e,8):255}else Le.Bb=0;if(_e.Ka)return Os(B,3,"cannot parse segment header");if((Le=B.ed).zd=me(_e),Le.Tb=ee(_e,6),Le.wb=ee(_e,3),Le.Pc=me(_e),Le.Pc&&me(_e)){for(Ye=0;4>Ye;++Ye)me(_e)&&(Le.vd[Ye]=de(_e,6));for(Ye=0;4>Ye;++Ye)me(_e)&&(Le.od[Ye]=de(_e,6))}if(B.L=Le.Tb==0?0:Le.zd?1:2,_e.Ka)return Os(B,3,"cannot parse filter header");var ct=Te;if(Te=He=fe,fe=He+ct,Le=ct,B.Xb=(1<<ee(B.m,2))-1,ct<3*(Ye=B.Xb))J=7;else{for(He+=3*Ye,Le-=3*Ye,ct=0;ct<Ye;++ct){var St=J[Te+0]|J[Te+1]<<8|J[Te+2]<<16;St>Le&&(St=Le),Z(B.Jc[+ct],J,He,St),He+=St,Le-=St,Te+=3}Z(B.Jc[+Ye],J,He,Le),J=He<fe?0:5}if(J!=0)return Os(B,J,"cannot parse partitions");for(J=ee(He=B.m,7),Te=me(He)?de(He,4):0,fe=me(He)?de(He,4):0,Le=me(He)?de(He,4):0,Ye=me(He)?de(He,4):0,He=me(He)?de(He,4):0,ct=B.Qa,St=0;4>St;++St){if(ct.Cb){var Nt=ct.Zb[St];ct.Fb||(Nt+=J)}else{if(0<St){B.pb[St]=B.pb[0];continue}Nt=J}var pt=B.pb[St];pt.Sc[0]=FA[ba(Nt+Te,127)],pt.Sc[1]=Lc[ba(Nt+0,127)],pt.Eb[0]=2*FA[ba(Nt+fe,127)],pt.Eb[1]=101581*Lc[ba(Nt+Le,127)]>>16,8>pt.Eb[1]&&(pt.Eb[1]=8),pt.Qc[0]=FA[ba(Nt+Ye,117)],pt.Qc[1]=Lc[ba(Nt+He,127)],pt.lc=Nt+He}if(!De.Rb)return Os(B,4,"Not a key frame.");for(me(_e),De=B.Pa,J=0;4>J;++J){for(Te=0;8>Te;++Te)for(fe=0;3>fe;++fe)for(Le=0;11>Le;++Le)Ye=te(_e,Cu[J][Te][fe][Le])?ee(_e,8):yl[J][Te][fe][Le],De.Wc[J][Te].Yb[fe][Le]=Ye;for(Te=0;17>Te;++Te)De.Xc[J][Te]=De.Wc[J][$0[Te]]}return B.kc=me(_e),B.kc&&(B.Bd=ee(_e,8)),B.cb=1}function cu(B,M,J,fe,Te,_e,De){var Le=M[Te].Yb[J];for(J=0;16>Te;++Te){if(!te(B,Le[J+0]))return Te;for(;!te(B,Le[J+1]);)if(Le=M[++Te].Yb[0],J=0,Te==16)return 16;var He=M[Te+1].Yb;if(te(B,Le[J+2])){var Ye=B,ct=0;if(te(Ye,(Nt=Le)[(St=J)+3]))if(te(Ye,Nt[St+6])){for(Le=0,St=2*(ct=te(Ye,Nt[St+8]))+(Nt=te(Ye,Nt[St+9+ct])),ct=0,Nt=Ms[St];Nt[Le];++Le)ct+=ct+te(Ye,Nt[Le]);ct+=3+(8<<St)}else te(Ye,Nt[St+7])?(ct=7+2*te(Ye,165),ct+=te(Ye,145)):ct=5+te(Ye,159);else ct=te(Ye,Nt[St+4])?3+te(Ye,Nt[St+5]):2;Le=He[2]}else ct=1,Le=He[1];He=De+Fn[Te],0>(Ye=B).b&&he(Ye);var St,Nt=Ye.b,pt=(St=Ye.Ca>>1)-(Ye.I>>Nt)>>31;--Ye.b,Ye.Ca+=pt,Ye.Ca|=1,Ye.I-=(St+1&pt)<<Nt,_e[He]=((ct^pt)-pt)*fe[(0<Te)+0]}return 16}function Qo(B){var M=B.rb[B.sb-1];M.la=0,M.Na=0,i(B.zc,0,0,B.zc.length),B.ja=0}function bc(B,M){if(B==null)return 0;if(M==null)return Os(B,2,"NULL VP8Io parameter in VP8Decode().");if(!B.cb&&!hA(B,M))return 0;if(r(B.cb),M.ac==null||M.ac(M)){M.ob&&(B.L=0);var J=Jl[B.L];if(B.L==2?(B.yb=0,B.zb=0):(B.yb=M.v-J>>4,B.zb=M.j-J>>4,0>B.yb&&(B.yb=0),0>B.zb&&(B.zb=0)),B.Va=M.o+15+J>>4,B.Hb=M.va+15+J>>4,B.Hb>B.za&&(B.Hb=B.za),B.Va>B.Ub&&(B.Va=B.Ub),0<B.L){var fe=B.ed;for(J=0;4>J;++J){var Te;if(B.Qa.Cb){var _e=B.Qa.Lb[J];B.Qa.Fb||(_e+=fe.Tb)}else _e=fe.Tb;for(Te=0;1>=Te;++Te){var De=B.gd[J][Te],Le=_e;if(fe.Pc&&(Le+=fe.vd[0],Te&&(Le+=fe.od[0])),0<(Le=0>Le?0:63<Le?63:Le)){var He=Le;0<fe.wb&&(He=4<fe.wb?He>>2:He>>1)>9-fe.wb&&(He=9-fe.wb),1>He&&(He=1),De.dd=He,De.tc=2*Le+He,De.ld=40<=Le?2:15<=Le?1:0}else De.tc=0;De.La=Te}}}J=0}else Os(B,6,"Frame setup failed"),J=B.a;if(J=J==0){if(J){B.$c=0,0<B.Aa||(B.Ic=fm);e:{J=B.Ic,fe=4*(He=B.za);var Ye=32*He,ct=He+1,St=0<B.L?He*(0<B.Aa?2:1):0,Nt=(B.Aa==2?2:1)*He;if((De=fe+832+(Te=3*(16*J+Jl[B.L])/2*Ye)+(_e=B.Fa!=null&&0<B.Fa.length?B.Kc.c*B.Kc.i:0))!=De)J=0;else{if(De>B.Vb){if(B.Vb=0,B.Ec=o(De),B.Fc=0,B.Ec==null){J=Os(B,1,"no memory during frame initialization.");break e}B.Vb=De}De=B.Ec,Le=B.Fc,B.Ac=De,B.Bc=Le,Le+=fe,B.Gd=l(Ye,ni),B.Hd=0,B.rb=l(ct+1,Cn),B.sb=1,B.wa=St?l(St,cn):null,B.Y=0,B.D.Nb=0,B.D.wa=B.wa,B.D.Y=B.Y,0<B.Aa&&(B.D.Y+=He),r(!0),B.oc=De,B.pc=Le,Le+=832,B.ya=l(Nt,bi),B.aa=0,B.D.ya=B.ya,B.D.aa=B.aa,B.Aa==2&&(B.D.aa+=He),B.R=16*He,B.B=8*He,He=(Ye=Jl[B.L])*B.R,Ye=Ye/2*B.B,B.sa=De,B.ta=Le+He,B.qa=B.sa,B.ra=B.ta+16*J*B.R+Ye,B.Ha=B.qa,B.Ia=B.ra+8*J*B.B+Ye,B.$c=0,Le+=Te,B.mb=_e?De:null,B.nb=_e?Le:null,r(Le+_e<=B.Fc+B.Vb),Qo(B),i(B.Ac,B.Bc,0,fe),J=1}}if(J){if(M.ka=0,M.y=B.sa,M.O=B.ta,M.f=B.qa,M.N=B.ra,M.ea=B.Ha,M.Vd=B.Ia,M.fa=B.R,M.Rc=B.B,M.F=null,M.J=0,!zl){for(J=-255;255>=J;++J)ps[255+J]=0>J?-J:J;for(J=-1020;1020>=J;++J)mo[1020+J]=-128>J?-128:127<J?127:J;for(J=-112;112>=J;++J)Dc[112+J]=-16>J?-16:15<J?15:J;for(J=-255;510>=J;++J)xl[255+J]=0>J?0:255<J?255:J;zl=1}wa=wc,$o=pA,Ti=Ul,Ws=Of,Fi=gA,Us=mA,gu=pl,sa=Bc,xu=vd,_c=fu,kc=lm,Ko=Wi,yu=bd,vu=Rf,Vl=zi,gl=Gi,Pc=ml,Ts=om,ui[0]=Ni,ui[1]=Lf,ui[2]=vA,ui[3]=Uf,ui[4]=fo,ui[5]=Al,ui[6]=gd,ui[7]=Vs,ui[8]=Au,ui[9]=xd,Yl[0]=Ao,Yl[1]=yA,Yl[2]=Ml,Yl[3]=du,Yl[4]=va,Yl[5]=Nc,Yl[6]=Rl,Ga[0]=Ql,Ga[1]=xA,Ga[2]=bA,Ga[3]=Cc,Ga[4]=Ci,Ga[5]=_a,Ga[6]=Hl,J=1}else J=0}J&&(J=function(pt,Rt){for(pt.M=0;pt.M<pt.Va;++pt.M){var Pt,ut=pt.Jc[pt.M&pt.Xb],ht=pt.m,Vt=pt;for(Pt=0;Pt<Vt.za;++Pt){var qt=ht,zt=Vt,vr=zt.Ac,ur=zt.Bc+4*Pt,_r=zt.zc,Ar=zt.ya[zt.aa+Pt];if(zt.Qa.Bb?Ar.$b=te(qt,zt.Pa.jb[0])?2+te(qt,zt.Pa.jb[2]):te(qt,zt.Pa.jb[1]):Ar.$b=0,zt.kc&&(Ar.Ad=te(qt,zt.Bd)),Ar.Za=!te(qt,145)+0,Ar.Za){var Sn=Ar.Ob,Pn=0;for(zt=0;4>zt;++zt){var nn,Zt=_r[0+zt];for(nn=0;4>nn;++nn){Zt=um[vr[ur+nn]][Zt];for(var Vn=Uc[te(qt,Zt[0])];0<Vn;)Vn=Uc[2*Vn+te(qt,Zt[Vn])];Zt=-Vn,vr[ur+nn]=Zt}a(Sn,Pn,vr,ur,4),Pn+=4,_r[0+zt]=Zt}}else Zt=te(qt,156)?te(qt,128)?1:3:te(qt,163)?2:0,Ar.Ob[0]=Zt,i(vr,ur,Zt,4),i(_r,0,Zt,4);Ar.Dd=te(qt,142)?te(qt,114)?te(qt,183)?1:3:2:0}if(Vt.m.Ka)return Os(pt,7,"Premature end-of-partition0 encountered.");for(;pt.ja<pt.za;++pt.ja){if(Vt=ut,qt=(ht=pt).rb[ht.sb-1],vr=ht.rb[ht.sb+ht.ja],Pt=ht.ya[ht.aa+ht.ja],ur=ht.kc?Pt.Ad:0)qt.la=vr.la=0,Pt.Za||(qt.Na=vr.Na=0),Pt.Hc=0,Pt.Gc=0,Pt.ia=0;else{var Dn,Kr;if(qt=vr,vr=Vt,ur=ht.Pa.Xc,_r=ht.ya[ht.aa+ht.ja],Ar=ht.pb[_r.$b],zt=_r.ad,Sn=0,Pn=ht.rb[ht.sb-1],Zt=nn=0,i(zt,Sn,0,384),_r.Za)var hn=0,Pr=ur[3];else{Vn=o(16);var Mr=qt.Na+Pn.Na;if(Mr=fa(vr,ur[1],Mr,Ar.Eb,0,Vn,0),qt.Na=Pn.Na=(0<Mr)+0,1<Mr)wa(Vn,0,zt,Sn);else{var un=Vn[0]+3>>3;for(Vn=0;256>Vn;Vn+=16)zt[Sn+Vn]=un}hn=1,Pr=ur[0]}var gn=15&qt.la,Ca=15&Pn.la;for(Vn=0;4>Vn;++Vn){var pa=1&Ca;for(un=Kr=0;4>un;++un)gn=gn>>1|(pa=(Mr=fa(vr,Pr,Mr=pa+(1&gn),Ar.Sc,hn,zt,Sn))>hn)<<7,Kr=Kr<<2|(3<Mr?3:1<Mr?2:zt[Sn+0]!=0),Sn+=16;gn>>=4,Ca=Ca>>1|pa<<7,nn=(nn<<8|Kr)>>>0}for(Pr=gn,hn=Ca>>4,Dn=0;4>Dn;Dn+=2){for(Kr=0,gn=qt.la>>4+Dn,Ca=Pn.la>>4+Dn,Vn=0;2>Vn;++Vn){for(pa=1&Ca,un=0;2>un;++un)Mr=pa+(1&gn),gn=gn>>1|(pa=0<(Mr=fa(vr,ur[2],Mr,Ar.Qc,0,zt,Sn)))<<3,Kr=Kr<<2|(3<Mr?3:1<Mr?2:zt[Sn+0]!=0),Sn+=16;gn>>=2,Ca=Ca>>1|pa<<5}Zt|=Kr<<4*Dn,Pr|=gn<<4<<Dn,hn|=(240&Ca)<<Dn}qt.la=Pr,Pn.la=hn,_r.Hc=nn,_r.Gc=Zt,_r.ia=43690&Zt?0:Ar.ia,ur=!(nn|Zt)}if(0<ht.L&&(ht.wa[ht.Y+ht.ja]=ht.gd[Pt.$b][Pt.Za],ht.wa[ht.Y+ht.ja].La|=!ur),Vt.Ka)return Os(pt,7,"Premature end-of-file encountered.")}if(Qo(pt),ht=Rt,Vt=1,Pt=(ut=pt).D,qt=0<ut.L&&ut.M>=ut.zb&&ut.M<=ut.Va,ut.Aa==0)e:{if(Pt.M=ut.M,Pt.uc=qt,Kn(ut,Pt),Vt=1,Pt=(Kr=ut.D).Nb,qt=(Zt=Jl[ut.L])*ut.R,vr=Zt/2*ut.B,Vn=16*Pt*ut.R,un=8*Pt*ut.B,ur=ut.sa,_r=ut.ta-qt+Vn,Ar=ut.qa,zt=ut.ra-vr+un,Sn=ut.Ha,Pn=ut.Ia-vr+un,Ca=(gn=Kr.M)==0,nn=gn>=ut.Va-1,ut.Aa==2&&Kn(ut,Kr),Kr.uc)for(pa=(Mr=ut).D.M,r(Mr.D.uc),Kr=Mr.yb;Kr<Mr.Hb;++Kr){hn=Kr,Pr=pa;var qs=(Xn=(gs=Mr).D).Nb;Dn=gs.R;var Xn=Xn.wa[Xn.Y+hn],Rs=gs.sa,_i=gs.ta+16*qs*Dn+16*hn,On=Xn.dd,Ys=Xn.tc;if(Ys!=0)if(r(3<=Ys),gs.L==1)0<hn&&gl(Rs,_i,Dn,Ys+4),Xn.La&&Ts(Rs,_i,Dn,Ys),0<Pr&&Vl(Rs,_i,Dn,Ys+4),Xn.La&&Pc(Rs,_i,Dn,Ys);else{var Go=gs.B,wl=gs.qa,Bu=gs.ra+8*qs*Go+8*hn,Mc=gs.Ha,gs=gs.Ia+8*qs*Go+8*hn;qs=Xn.ld,0<hn&&(sa(Rs,_i,Dn,Ys+4,On,qs),_c(wl,Bu,Mc,gs,Go,Ys+4,On,qs)),Xn.La&&(Ko(Rs,_i,Dn,Ys,On,qs),vu(wl,Bu,Mc,gs,Go,Ys,On,qs)),0<Pr&&(gu(Rs,_i,Dn,Ys+4,On,qs),xu(wl,Bu,Mc,gs,Go,Ys+4,On,qs)),Xn.La&&(kc(Rs,_i,Dn,Ys,On,qs),yu(wl,Bu,Mc,gs,Go,Ys,On,qs))}}if(ut.ia&&alert("todo:DitherRow"),ht.put!=null){if(Kr=16*gn,gn=16*(gn+1),Ca?(ht.y=ut.sa,ht.O=ut.ta+Vn,ht.f=ut.qa,ht.N=ut.ra+un,ht.ea=ut.Ha,ht.W=ut.Ia+un):(Kr-=Zt,ht.y=ur,ht.O=_r,ht.f=Ar,ht.N=zt,ht.ea=Sn,ht.W=Pn),nn||(gn-=Zt),gn>ht.o&&(gn=ht.o),ht.F=null,ht.J=null,ut.Fa!=null&&0<ut.Fa.length&&Kr<gn&&(ht.J=NA(ut,ht,Kr,gn-Kr),ht.F=ut.mb,ht.F==null&&ht.F.length==0)){Vt=Os(ut,3,"Could not decode alpha data.");break e}Kr<ht.j&&(Zt=ht.j-Kr,Kr=ht.j,r(!(1&Zt)),ht.O+=ut.R*Zt,ht.N+=ut.B*(Zt>>1),ht.W+=ut.B*(Zt>>1),ht.F!=null&&(ht.J+=ht.width*Zt)),Kr<gn&&(ht.O+=ht.v,ht.N+=ht.v>>1,ht.W+=ht.v>>1,ht.F!=null&&(ht.J+=ht.v),ht.ka=Kr-ht.j,ht.U=ht.va-ht.v,ht.T=gn-Kr,Vt=ht.put(ht))}Pt+1!=ut.Ic||nn||(a(ut.sa,ut.ta-qt,ur,_r+16*ut.R,qt),a(ut.qa,ut.ra-vr,Ar,zt+8*ut.B,vr),a(ut.Ha,ut.Ia-vr,Sn,Pn+8*ut.B,vr))}if(!Vt)return Os(pt,6,"Output aborted.")}return 1}(B,M)),M.bc!=null&&M.bc(M),J&=1}return J?(B.cb=0,J):0}function ji(B,M,J,fe,Te){Te=B[M+J+32*fe]+(Te>>3),B[M+J+32*fe]=-256&Te?0>Te?0:255:Te}function da(B,M,J,fe,Te,_e){ji(B,M,0,J,fe+Te),ji(B,M,1,J,fe+_e),ji(B,M,2,J,fe-_e),ji(B,M,3,J,fe-Te)}function ss(B){return(20091*B>>16)+B}function uu(B,M,J,fe){var Te,_e=0,De=o(16);for(Te=0;4>Te;++Te){var Le=B[M+0]+B[M+8],He=B[M+0]-B[M+8],Ye=(35468*B[M+4]>>16)-ss(B[M+12]),ct=ss(B[M+4])+(35468*B[M+12]>>16);De[_e+0]=Le+ct,De[_e+1]=He+Ye,De[_e+2]=He-Ye,De[_e+3]=Le-ct,_e+=4,M++}for(Te=_e=0;4>Te;++Te)Le=(B=De[_e+0]+4)+De[_e+8],He=B-De[_e+8],Ye=(35468*De[_e+4]>>16)-ss(De[_e+12]),ji(J,fe,0,0,Le+(ct=ss(De[_e+4])+(35468*De[_e+12]>>16))),ji(J,fe,1,0,He+Ye),ji(J,fe,2,0,He-Ye),ji(J,fe,3,0,Le-ct),_e++,fe+=32}function mA(B,M,J,fe){var Te=B[M+0]+4,_e=35468*B[M+4]>>16,De=ss(B[M+4]),Le=35468*B[M+1]>>16;da(J,fe,0,Te+De,B=ss(B[M+1]),Le),da(J,fe,1,Te+_e,B,Le),da(J,fe,2,Te-_e,B,Le),da(J,fe,3,Te-De,B,Le)}function pA(B,M,J,fe,Te){uu(B,M,J,fe),Te&&uu(B,M+16,J,fe+4)}function Ul(B,M,J,fe){$o(B,M+0,J,fe,1),$o(B,M+32,J,fe+128,1)}function Of(B,M,J,fe){var Te;for(B=B[M+0]+4,Te=0;4>Te;++Te)for(M=0;4>M;++M)ji(J,fe,M,Te,B)}function gA(B,M,J,fe){B[M+0]&&Ws(B,M+0,J,fe),B[M+16]&&Ws(B,M+16,J,fe+4),B[M+32]&&Ws(B,M+32,J,fe+128),B[M+48]&&Ws(B,M+48,J,fe+128+4)}function wc(B,M,J,fe){var Te,_e=o(16);for(Te=0;4>Te;++Te){var De=B[M+0+Te]+B[M+12+Te],Le=B[M+4+Te]+B[M+8+Te],He=B[M+4+Te]-B[M+8+Te],Ye=B[M+0+Te]-B[M+12+Te];_e[0+Te]=De+Le,_e[8+Te]=De-Le,_e[4+Te]=Ye+He,_e[12+Te]=Ye-He}for(Te=0;4>Te;++Te)De=(B=_e[0+4*Te]+3)+_e[3+4*Te],Le=_e[1+4*Te]+_e[2+4*Te],He=_e[1+4*Te]-_e[2+4*Te],Ye=B-_e[3+4*Te],J[fe+0]=De+Le>>3,J[fe+16]=Ye+He>>3,J[fe+32]=De-Le>>3,J[fe+48]=Ye-He>>3,fe+=64}function jc(B,M,J){var fe,Te=M-32,_e=ja,De=255-B[Te-1];for(fe=0;fe<J;++fe){var Le,He=_e,Ye=De+B[M-1];for(Le=0;Le<J;++Le)B[M+Le]=He[Ye+B[Te+Le]];M+=32}}function Lf(B,M){jc(B,M,4)}function xA(B,M){jc(B,M,8)}function yA(B,M){jc(B,M,16)}function Ml(B,M){var J;for(J=0;16>J;++J)a(B,M+32*J,B,M-32,16)}function du(B,M){var J;for(J=16;0<J;--J)i(B,M,B[M-1],16),M+=32}function Ho(B,M,J){var fe;for(fe=0;16>fe;++fe)i(M,J+32*fe,B,16)}function Ao(B,M){var J,fe=16;for(J=0;16>J;++J)fe+=B[M-1+32*J]+B[M+J-32];Ho(fe>>5,B,M)}function va(B,M){var J,fe=8;for(J=0;16>J;++J)fe+=B[M-1+32*J];Ho(fe>>4,B,M)}function Nc(B,M){var J,fe=8;for(J=0;16>J;++J)fe+=B[M+J-32];Ho(fe>>4,B,M)}function Rl(B,M){Ho(128,B,M)}function Or(B,M,J){return B+2*M+J+2>>2}function vA(B,M){var J,fe=M-32;for(fe=new Uint8Array([Or(B[fe-1],B[fe+0],B[fe+1]),Or(B[fe+0],B[fe+1],B[fe+2]),Or(B[fe+1],B[fe+2],B[fe+3]),Or(B[fe+2],B[fe+3],B[fe+4])]),J=0;4>J;++J)a(B,M+32*J,fe,0,fe.length)}function Uf(B,M){var J=B[M-1],fe=B[M-1+32],Te=B[M-1+64],_e=B[M-1+96];Ae(B,M+0,16843009*Or(B[M-1-32],J,fe)),Ae(B,M+32,16843009*Or(J,fe,Te)),Ae(B,M+64,16843009*Or(fe,Te,_e)),Ae(B,M+96,16843009*Or(Te,_e,_e))}function Ni(B,M){var J,fe=4;for(J=0;4>J;++J)fe+=B[M+J-32]+B[M-1+32*J];for(fe>>=3,J=0;4>J;++J)i(B,M+32*J,fe,4)}function fo(B,M){var J=B[M-1+0],fe=B[M-1+32],Te=B[M-1+64],_e=B[M-1-32],De=B[M+0-32],Le=B[M+1-32],He=B[M+2-32],Ye=B[M+3-32];B[M+0+96]=Or(fe,Te,B[M-1+96]),B[M+1+96]=B[M+0+64]=Or(J,fe,Te),B[M+2+96]=B[M+1+64]=B[M+0+32]=Or(_e,J,fe),B[M+3+96]=B[M+2+64]=B[M+1+32]=B[M+0+0]=Or(De,_e,J),B[M+3+64]=B[M+2+32]=B[M+1+0]=Or(Le,De,_e),B[M+3+32]=B[M+2+0]=Or(He,Le,De),B[M+3+0]=Or(Ye,He,Le)}function gd(B,M){var J=B[M+1-32],fe=B[M+2-32],Te=B[M+3-32],_e=B[M+4-32],De=B[M+5-32],Le=B[M+6-32],He=B[M+7-32];B[M+0+0]=Or(B[M+0-32],J,fe),B[M+1+0]=B[M+0+32]=Or(J,fe,Te),B[M+2+0]=B[M+1+32]=B[M+0+64]=Or(fe,Te,_e),B[M+3+0]=B[M+2+32]=B[M+1+64]=B[M+0+96]=Or(Te,_e,De),B[M+3+32]=B[M+2+64]=B[M+1+96]=Or(_e,De,Le),B[M+3+64]=B[M+2+96]=Or(De,Le,He),B[M+3+96]=Or(Le,He,He)}function Al(B,M){var J=B[M-1+0],fe=B[M-1+32],Te=B[M-1+64],_e=B[M-1-32],De=B[M+0-32],Le=B[M+1-32],He=B[M+2-32],Ye=B[M+3-32];B[M+0+0]=B[M+1+64]=_e+De+1>>1,B[M+1+0]=B[M+2+64]=De+Le+1>>1,B[M+2+0]=B[M+3+64]=Le+He+1>>1,B[M+3+0]=He+Ye+1>>1,B[M+0+96]=Or(Te,fe,J),B[M+0+64]=Or(fe,J,_e),B[M+0+32]=B[M+1+96]=Or(J,_e,De),B[M+1+32]=B[M+2+96]=Or(_e,De,Le),B[M+2+32]=B[M+3+96]=Or(De,Le,He),B[M+3+32]=Or(Le,He,Ye)}function Vs(B,M){var J=B[M+0-32],fe=B[M+1-32],Te=B[M+2-32],_e=B[M+3-32],De=B[M+4-32],Le=B[M+5-32],He=B[M+6-32],Ye=B[M+7-32];B[M+0+0]=J+fe+1>>1,B[M+1+0]=B[M+0+64]=fe+Te+1>>1,B[M+2+0]=B[M+1+64]=Te+_e+1>>1,B[M+3+0]=B[M+2+64]=_e+De+1>>1,B[M+0+32]=Or(J,fe,Te),B[M+1+32]=B[M+0+96]=Or(fe,Te,_e),B[M+2+32]=B[M+1+96]=Or(Te,_e,De),B[M+3+32]=B[M+2+96]=Or(_e,De,Le),B[M+3+64]=Or(De,Le,He),B[M+3+96]=Or(Le,He,Ye)}function xd(B,M){var J=B[M-1+0],fe=B[M-1+32],Te=B[M-1+64],_e=B[M-1+96];B[M+0+0]=J+fe+1>>1,B[M+2+0]=B[M+0+32]=fe+Te+1>>1,B[M+2+32]=B[M+0+64]=Te+_e+1>>1,B[M+1+0]=Or(J,fe,Te),B[M+3+0]=B[M+1+32]=Or(fe,Te,_e),B[M+3+32]=B[M+1+64]=Or(Te,_e,_e),B[M+3+64]=B[M+2+64]=B[M+0+96]=B[M+1+96]=B[M+2+96]=B[M+3+96]=_e}function Au(B,M){var J=B[M-1+0],fe=B[M-1+32],Te=B[M-1+64],_e=B[M-1+96],De=B[M-1-32],Le=B[M+0-32],He=B[M+1-32],Ye=B[M+2-32];B[M+0+0]=B[M+2+32]=J+De+1>>1,B[M+0+32]=B[M+2+64]=fe+J+1>>1,B[M+0+64]=B[M+2+96]=Te+fe+1>>1,B[M+0+96]=_e+Te+1>>1,B[M+3+0]=Or(Le,He,Ye),B[M+2+0]=Or(De,Le,He),B[M+1+0]=B[M+3+32]=Or(J,De,Le),B[M+1+32]=B[M+3+64]=Or(fe,J,De),B[M+1+64]=B[M+3+96]=Or(Te,fe,J),B[M+1+96]=Or(_e,Te,fe)}function bA(B,M){var J;for(J=0;8>J;++J)a(B,M+32*J,B,M-32,8)}function Cc(B,M){var J;for(J=0;8>J;++J)i(B,M,B[M-1],8),M+=32}function fl(B,M,J){var fe;for(fe=0;8>fe;++fe)i(M,J+32*fe,B,8)}function Ql(B,M){var J,fe=8;for(J=0;8>J;++J)fe+=B[M+J-32]+B[M-1+32*J];fl(fe>>4,B,M)}function _a(B,M){var J,fe=4;for(J=0;8>J;++J)fe+=B[M+J-32];fl(fe>>3,B,M)}function Ci(B,M){var J,fe=4;for(J=0;8>J;++J)fe+=B[M-1+32*J];fl(fe>>3,B,M)}function Hl(B,M){fl(128,B,M)}function hl(B,M,J){var fe=B[M-J],Te=B[M+0],_e=3*(Te-fe)+BA[1020+B[M-2*J]-B[M+J]],De=bu[112+(_e+4>>3)];B[M-J]=ja[255+fe+bu[112+(_e+3>>3)]],B[M+0]=ja[255+Te-De]}function Mf(B,M,J,fe){var Te=B[M+0],_e=B[M+J];return po[255+B[M-2*J]-B[M-J]]>fe||po[255+_e-Te]>fe}function zs(B,M,J,fe){return 4*po[255+B[M-J]-B[M+0]]+po[255+B[M-2*J]-B[M+J]]<=fe}function yd(B,M,J,fe,Te){var _e=B[M-3*J],De=B[M-2*J],Le=B[M-J],He=B[M+0],Ye=B[M+J],ct=B[M+2*J],St=B[M+3*J];return 4*po[255+Le-He]+po[255+De-Ye]>fe?0:po[255+B[M-4*J]-_e]<=Te&&po[255+_e-De]<=Te&&po[255+De-Le]<=Te&&po[255+St-ct]<=Te&&po[255+ct-Ye]<=Te&&po[255+Ye-He]<=Te}function zi(B,M,J,fe){var Te=2*fe+1;for(fe=0;16>fe;++fe)zs(B,M+fe,J,Te)&&hl(B,M+fe,J)}function Gi(B,M,J,fe){var Te=2*fe+1;for(fe=0;16>fe;++fe)zs(B,M+fe*J,1,Te)&&hl(B,M+fe*J,1)}function ml(B,M,J,fe){var Te;for(Te=3;0<Te;--Te)zi(B,M+=4*J,J,fe)}function om(B,M,J,fe){var Te;for(Te=3;0<Te;--Te)Gi(B,M+=4,J,fe)}function Sc(B,M,J,fe,Te,_e,De,Le){for(_e=2*_e+1;0<Te--;){if(yd(B,M,J,_e,De))if(Mf(B,M,J,Le))hl(B,M,J);else{var He=B,Ye=M,ct=J,St=He[Ye-2*ct],Nt=He[Ye-ct],pt=He[Ye+0],Rt=He[Ye+ct],Pt=He[Ye+2*ct],ut=27*(Vt=BA[1020+3*(pt-Nt)+BA[1020+St-Rt]])+63>>7,ht=18*Vt+63>>7,Vt=9*Vt+63>>7;He[Ye-3*ct]=ja[255+He[Ye-3*ct]+Vt],He[Ye-2*ct]=ja[255+St+ht],He[Ye-ct]=ja[255+Nt+ut],He[Ye+0]=ja[255+pt-ut],He[Ye+ct]=ja[255+Rt-ht],He[Ye+2*ct]=ja[255+Pt-Vt]}M+=fe}}function Si(B,M,J,fe,Te,_e,De,Le){for(_e=2*_e+1;0<Te--;){if(yd(B,M,J,_e,De))if(Mf(B,M,J,Le))hl(B,M,J);else{var He=B,Ye=M,ct=J,St=He[Ye-ct],Nt=He[Ye+0],pt=He[Ye+ct],Rt=bu[112+((Pt=3*(Nt-St))+4>>3)],Pt=bu[112+(Pt+3>>3)],ut=Rt+1>>1;He[Ye-2*ct]=ja[255+He[Ye-2*ct]+ut],He[Ye-ct]=ja[255+St+Pt],He[Ye+0]=ja[255+Nt-Rt],He[Ye+ct]=ja[255+pt-ut]}M+=fe}}function pl(B,M,J,fe,Te,_e){Sc(B,M,J,1,16,fe,Te,_e)}function Bc(B,M,J,fe,Te,_e){Sc(B,M,1,J,16,fe,Te,_e)}function lm(B,M,J,fe,Te,_e){var De;for(De=3;0<De;--De)Si(B,M+=4*J,J,1,16,fe,Te,_e)}function Wi(B,M,J,fe,Te,_e){var De;for(De=3;0<De;--De)Si(B,M+=4,1,J,16,fe,Te,_e)}function vd(B,M,J,fe,Te,_e,De,Le){Sc(B,M,Te,1,8,_e,De,Le),Sc(J,fe,Te,1,8,_e,De,Le)}function fu(B,M,J,fe,Te,_e,De,Le){Sc(B,M,1,Te,8,_e,De,Le),Sc(J,fe,1,Te,8,_e,De,Le)}function bd(B,M,J,fe,Te,_e,De,Le){Si(B,M+4*Te,Te,1,8,_e,De,Le),Si(J,fe+4*Te,Te,1,8,_e,De,Le)}function Rf(B,M,J,fe,Te,_e,De,Le){Si(B,M+4,1,Te,8,_e,De,Le),Si(J,fe+4,1,Te,8,_e,De,Le)}function wd(){this.ba=new Ke,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new wt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function wA(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function jA(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function jd(){this.ua=0,this.Wa=new le,this.vb=new le,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new X,this.yc=new U}function cm(){this.xb=this.a=0,this.l=new si,this.ca=new Ke,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new jd,this.ab=0,this.gc=l(4,jA),this.Oc=0}function Nd(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new si,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function hu(B,M,J,fe,Te,_e,De){for(B=B==null?0:B[M+0],M=0;M<De;++M)Te[_e+M]=B+J[fe+M]&255,B=Te[_e+M]}function Cd(B,M,J,fe,Te,_e,De){var Le;if(B==null)hu(null,null,J,fe,Te,_e,De);else for(Le=0;Le<De;++Le)Te[_e+Le]=B[M+Le]+J[fe+Le]&255}function Ec(B,M,J,fe,Te,_e,De){if(B==null)hu(null,null,J,fe,Te,_e,De);else{var Le,He=B[M+0],Ye=He,ct=He;for(Le=0;Le<De;++Le)Ye=ct+(He=B[M+Le])-Ye,ct=J[fe+Le]+(-256&Ye?0>Ye?0:255:Ye)&255,Ye=He,Te[_e+Le]=ct}}function NA(B,M,J,fe){var Te=M.width,_e=M.o;if(r(B!=null&&M!=null),0>J||0>=fe||J+fe>_e)return null;if(!B.Cc){if(B.ga==null){var De;if(B.ga=new Nd,(De=B.ga==null)||(De=M.width*M.o,r(B.Gb.length==0),B.Gb=o(De),B.Uc=0,B.Gb==null?De=0:(B.mb=B.Gb,B.nb=B.Uc,B.rc=null,De=1),De=!De),!De){De=B.ga;var Le=B.Fa,He=B.P,Ye=B.qc,ct=B.mb,St=B.nb,Nt=He+1,pt=Ye-1,Rt=De.l;if(r(Le!=null&&ct!=null&&M!=null),Vo[0]=null,Vo[1]=hu,Vo[2]=Cd,Vo[3]=Ec,De.ca=ct,De.tb=St,De.c=M.width,De.i=M.height,r(0<De.c&&0<De.i),1>=Ye)M=0;else if(De.$a=Le[He+0]>>0&3,De.Z=Le[He+0]>>2&3,De.Lc=Le[He+0]>>4&3,He=Le[He+0]>>6&3,0>De.$a||1<De.$a||4<=De.Z||1<De.Lc||He)M=0;else if(Rt.put=hs,Rt.ac=Xr,Rt.bc=kn,Rt.ma=De,Rt.width=M.width,Rt.height=M.height,Rt.Da=M.Da,Rt.v=M.v,Rt.va=M.va,Rt.j=M.j,Rt.o=M.o,De.$a)e:{r(De.$a==1),M=Oe();t:for(;;){if(M==null){M=0;break e}if(r(De!=null),De.mc=M,M.c=De.c,M.i=De.i,M.l=De.l,M.l.ma=De,M.l.width=De.c,M.l.height=De.i,M.a=0,Ne(M.m,Le,Nt,pt),!Ge(De.c,De.i,1,M,null)||(M.ab==1&&M.gc[0].hc==3&&$e(M.s)?(De.ic=1,Le=M.c*M.i,M.Ta=null,M.Ua=0,M.V=o(Le),M.Ba=0,M.V==null?(M.a=1,M=0):M=1):(De.ic=0,M=nt(M,De.c)),!M))break t;M=1;break e}De.mc=null,M=0}else M=pt>=De.c*De.i;De=!M}if(De)return null;B.ga.Lc!=1?B.Ga=0:fe=_e-J}r(B.ga!=null),r(J+fe<=_e);e:{if(M=(Le=B.ga).c,_e=Le.l.o,Le.$a==0){if(Nt=B.rc,pt=B.Vc,Rt=B.Fa,He=B.P+1+J*M,Ye=B.mb,ct=B.nb+J*M,r(He<=B.P+B.qc),Le.Z!=0)for(r(Vo[Le.Z]!=null),De=0;De<fe;++De)Vo[Le.Z](Nt,pt,Rt,He,Ye,ct,M),Nt=Ye,pt=ct,ct+=M,He+=M;else for(De=0;De<fe;++De)a(Ye,ct,Rt,He,M),Nt=Ye,pt=ct,ct+=M,He+=M;B.rc=Nt,B.Vc=pt}else{if(r(Le.mc!=null),M=J+fe,r((De=Le.mc)!=null),r(M<=De.i),De.C>=M)M=1;else if(Le.ic||bt(),Le.ic){Le=De.V,Nt=De.Ba,pt=De.c;var Pt=De.i,ut=(Rt=1,He=De.$/pt,Ye=De.$%pt,ct=De.m,St=De.s,De.$),ht=pt*Pt,Vt=pt*M,qt=St.wc,zt=ut<Vt?Rn(St,Ye,He):null;r(ut<=ht),r(M<=Pt),r($e(St));t:for(;;){for(;!ct.h&&ut<Vt;){if(Ye&qt||(zt=Rn(St,Ye,He)),r(zt!=null),oe(ct),256>(Pt=ns(zt.G[0],zt.H[0],ct)))Le[Nt+ut]=Pt,++ut,++Ye>=pt&&(Ye=0,++He<=M&&!(He%16)&&Je(De,He));else{if(!(280>Pt)){Rt=0;break t}Pt=En(Pt-256,ct);var vr,ur=ns(zt.G[4],zt.H[4],ct);if(oe(ct),!(ut>=(ur=Mn(pt,ur=En(ur,ct)))&&ht-ut>=Pt)){Rt=0;break t}for(vr=0;vr<Pt;++vr)Le[Nt+ut+vr]=Le[Nt+ut+vr-ur];for(ut+=Pt,Ye+=Pt;Ye>=pt;)Ye-=pt,++He<=M&&!(He%16)&&Je(De,He);ut<Vt&&Ye&qt&&(zt=Rn(St,Ye,He))}r(ct.h==ne(ct))}Je(De,He>M?M:He);break t}!Rt||ct.h&&ut<ht?(Rt=0,De.a=ct.h?5:3):De.$=ut,M=Rt}else M=Ze(De,De.V,De.Ba,De.c,De.i,M,xt);if(!M){fe=0;break e}}J+fe>=_e&&(B.Cc=1),fe=1}if(!fe)return null;if(B.Cc&&((fe=B.ga)!=null&&(fe.mc=null),B.ga=null,0<B.Ga))return alert("todo:WebPDequantizeLevels"),null}return B.nb+J*Te}function W(B,M,J,fe,Te,_e){for(;0<Te--;){var De,Le=B,He=M+(J?1:0),Ye=B,ct=M+(J?0:3);for(De=0;De<fe;++De){var St=Ye[ct+4*De];St!=255&&(St*=32897,Le[He+4*De+0]=Le[He+4*De+0]*St>>23,Le[He+4*De+1]=Le[He+4*De+1]*St>>23,Le[He+4*De+2]=Le[He+4*De+2]*St>>23)}M+=_e}}function Fe(B,M,J,fe,Te){for(;0<fe--;){var _e;for(_e=0;_e<J;++_e){var De=B[M+2*_e+0],Le=15&(Ye=B[M+2*_e+1]),He=4369*Le,Ye=(240&Ye|Ye>>4)*He>>16;B[M+2*_e+0]=(240&De|De>>4)*He>>16&240|(15&De|De<<4)*He>>16>>4&15,B[M+2*_e+1]=240&Ye|Le}M+=Te}}function rt(B,M,J,fe,Te,_e,De,Le){var He,Ye,ct=255;for(Ye=0;Ye<Te;++Ye){for(He=0;He<fe;++He){var St=B[M+He];_e[De+4*He]=St,ct&=St}M+=J,De+=Le}return ct!=255}function lt(B,M,J,fe,Te){var _e;for(_e=0;_e<Te;++_e)J[fe+_e]=B[M+_e]>>8}function bt(){Ii=W,sn=Fe,an=rt,ts=lt}function Qt(B,M,J){I[B]=function(fe,Te,_e,De,Le,He,Ye,ct,St,Nt,pt,Rt,Pt,ut,ht,Vt,qt){var zt,vr=qt-1>>1,ur=Le[He+0]|Ye[ct+0]<<16,_r=St[Nt+0]|pt[Rt+0]<<16;r(fe!=null);var Ar=3*ur+_r+131074>>2;for(M(fe[Te+0],255&Ar,Ar>>16,Pt,ut),_e!=null&&(Ar=3*_r+ur+131074>>2,M(_e[De+0],255&Ar,Ar>>16,ht,Vt)),zt=1;zt<=vr;++zt){var Sn=Le[He+zt]|Ye[ct+zt]<<16,Pn=St[Nt+zt]|pt[Rt+zt]<<16,nn=ur+Sn+_r+Pn+524296,Zt=nn+2*(Sn+_r)>>3;Ar=Zt+ur>>1,ur=(nn=nn+2*(ur+Pn)>>3)+Sn>>1,M(fe[Te+2*zt-1],255&Ar,Ar>>16,Pt,ut+(2*zt-1)*J),M(fe[Te+2*zt-0],255&ur,ur>>16,Pt,ut+(2*zt-0)*J),_e!=null&&(Ar=nn+_r>>1,ur=Zt+Pn>>1,M(_e[De+2*zt-1],255&Ar,Ar>>16,ht,Vt+(2*zt-1)*J),M(_e[De+2*zt+0],255&ur,ur>>16,ht,Vt+(2*zt+0)*J)),ur=Sn,_r=Pn}1&qt||(Ar=3*ur+_r+131074>>2,M(fe[Te+qt-1],255&Ar,Ar>>16,Pt,ut+(qt-1)*J),_e!=null&&(Ar=3*_r+ur+131074>>2,M(_e[De+qt-1],255&Ar,Ar>>16,ht,Vt+(qt-1)*J)))}}function rr(){Na[za]=Xl,Na[Ed]=Yi,Na[ci]=vl,Na[EA]=$f,Na[wu]=Kf,Na[go]=Fd,Na[Qf]=Vf,Na[TA]=Yi,Na[Oc]=$f,Na[Gl]=Kf,Na[Wl]=Fd}function yr(B){return B&-16384?0>B?0:255:B>>Ig}function Fr(B,M){return yr((19077*B>>8)+(26149*M>>8)-14234)}function zr(B,M,J){return yr((19077*B>>8)-(6419*M>>8)-(13320*J>>8)+8708)}function $r(B,M){return yr((19077*B>>8)+(33050*M>>8)-17685)}function fn(B,M,J,fe,Te){fe[Te+0]=Fr(B,J),fe[Te+1]=zr(B,M,J),fe[Te+2]=$r(B,M)}function Hn(B,M,J,fe,Te){fe[Te+0]=$r(B,M),fe[Te+1]=zr(B,M,J),fe[Te+2]=Fr(B,J)}function $n(B,M,J,fe,Te){var _e=zr(B,M,J);M=_e<<3&224|$r(B,M)>>3,fe[Te+0]=248&Fr(B,J)|_e>>5,fe[Te+1]=M}function Ur(B,M,J,fe,Te){var _e=240&$r(B,M)|15;fe[Te+0]=240&Fr(B,J)|zr(B,M,J)>>4,fe[Te+1]=_e}function Gs(B,M,J,fe,Te){fe[Te+0]=255,fn(B,M,J,fe,Te+1)}function ra(B,M,J,fe,Te){Hn(B,M,J,fe,Te),fe[Te+3]=255}function ho(B,M,J,fe,Te){fn(B,M,J,fe,Te),fe[Te+3]=255}function ba(B,M){return 0>B?0:B>M?M:B}function na(B,M,J){I[B]=function(fe,Te,_e,De,Le,He,Ye,ct,St){for(var Nt=ct+(-2&St)*J;ct!=Nt;)M(fe[Te+0],_e[De+0],Le[He+0],Ye,ct),M(fe[Te+1],_e[De+0],Le[He+0],Ye,ct+J),Te+=2,++De,++He,ct+=2*J;1&St&&M(fe[Te+0],_e[De+0],Le[He+0],Ye,ct)}}function CA(B,M,J){return J==0?B==0?M==0?6:5:M==0?4:0:J}function $a(B,M,J,fe,Te){switch(B>>>30){case 3:$o(M,J,fe,Te,0);break;case 2:Us(M,J,fe,Te);break;case 1:Ws(M,J,fe,Te)}}function Kn(B,M){var J,fe,Te=M.M,_e=M.Nb,De=B.oc,Le=B.pc+40,He=B.oc,Ye=B.pc+584,ct=B.oc,St=B.pc+600;for(J=0;16>J;++J)De[Le+32*J-1]=129;for(J=0;8>J;++J)He[Ye+32*J-1]=129,ct[St+32*J-1]=129;for(0<Te?De[Le-1-32]=He[Ye-1-32]=ct[St-1-32]=129:(i(De,Le-32-1,127,21),i(He,Ye-32-1,127,9),i(ct,St-32-1,127,9)),fe=0;fe<B.za;++fe){var Nt=M.ya[M.aa+fe];if(0<fe){for(J=-1;16>J;++J)a(De,Le+32*J-4,De,Le+32*J+12,4);for(J=-1;8>J;++J)a(He,Ye+32*J-4,He,Ye+32*J+4,4),a(ct,St+32*J-4,ct,St+32*J+4,4)}var pt=B.Gd,Rt=B.Hd+fe,Pt=Nt.ad,ut=Nt.Hc;if(0<Te&&(a(De,Le-32,pt[Rt].y,0,16),a(He,Ye-32,pt[Rt].f,0,8),a(ct,St-32,pt[Rt].ea,0,8)),Nt.Za){var ht=De,Vt=Le-32+16;for(0<Te&&(fe>=B.za-1?i(ht,Vt,pt[Rt].y[15],4):a(ht,Vt,pt[Rt+1].y,0,4)),J=0;4>J;J++)ht[Vt+128+J]=ht[Vt+256+J]=ht[Vt+384+J]=ht[Vt+0+J];for(J=0;16>J;++J,ut<<=2)ht=De,Vt=Le+Su[J],ui[Nt.Ob[J]](ht,Vt),$a(ut,Pt,16*+J,ht,Vt)}else if(ht=CA(fe,Te,Nt.Ob[0]),Yl[ht](De,Le),ut!=0)for(J=0;16>J;++J,ut<<=2)$a(ut,Pt,16*+J,De,Le+Su[J]);for(J=Nt.Gc,ht=CA(fe,Te,Nt.Dd),Ga[ht](He,Ye),Ga[ht](ct,St),ut=Pt,ht=He,Vt=Ye,255&(Nt=J>>0)&&(170&Nt?Ti(ut,256,ht,Vt):Fi(ut,256,ht,Vt)),Nt=ct,ut=St,255&(J>>=8)&&(170&J?Ti(Pt,320,Nt,ut):Fi(Pt,320,Nt,ut)),Te<B.Ub-1&&(a(pt[Rt].y,0,De,Le+480,16),a(pt[Rt].f,0,He,Ye+224,8),a(pt[Rt].ea,0,ct,St+224,8)),J=8*_e*B.B,pt=B.sa,Rt=B.ta+16*fe+16*_e*B.R,Pt=B.qa,Nt=B.ra+8*fe+J,ut=B.Ha,ht=B.Ia+8*fe+J,J=0;16>J;++J)a(pt,Rt+J*B.R,De,Le+32*J,16);for(J=0;8>J;++J)a(Pt,Nt+J*B.B,He,Ye+32*J,8),a(ut,ht+J*B.B,ct,St+32*J,8)}}function mu(B,M,J,fe,Te,_e,De,Le,He){var Ye=[0],ct=[0],St=0,Nt=He!=null?He.kd:0,pt=He??new wA;if(B==null||12>J)return 7;pt.data=B,pt.w=M,pt.ha=J,M=[M],J=[J],pt.gb=[pt.gb];e:{var Rt=M,Pt=J,ut=pt.gb;if(r(B!=null),r(Pt!=null),r(ut!=null),ut[0]=0,12<=Pt[0]&&!n(B,Rt[0],"RIFF")){if(n(B,Rt[0]+8,"WEBP")){ut=3;break e}var ht=pe(B,Rt[0]+4);if(12>ht||4294967286<ht){ut=3;break e}if(Nt&&ht>Pt[0]-8){ut=7;break e}ut[0]=ht,Rt[0]+=12,Pt[0]-=12}ut=0}if(ut!=0)return ut;for(ht=0<pt.gb[0],J=J[0];;){e:{var Vt=B;Pt=M,ut=J;var qt=Ye,zt=ct,vr=Rt=[0];if((Ar=St=[St])[0]=0,8>ut[0])ut=7;else{if(!n(Vt,Pt[0],"VP8X")){if(pe(Vt,Pt[0]+4)!=10){ut=3;break e}if(18>ut[0]){ut=7;break e}var ur=pe(Vt,Pt[0]+8),_r=1+ie(Vt,Pt[0]+12);if(2147483648<=_r*(Vt=1+ie(Vt,Pt[0]+15))){ut=3;break e}vr!=null&&(vr[0]=ur),qt!=null&&(qt[0]=_r),zt!=null&&(zt[0]=Vt),Pt[0]+=18,ut[0]-=18,Ar[0]=1}ut=0}}if(St=St[0],Rt=Rt[0],ut!=0)return ut;if(Pt=!!(2&Rt),!ht&&St)return 3;if(_e!=null&&(_e[0]=!!(16&Rt)),De!=null&&(De[0]=Pt),Le!=null&&(Le[0]=0),De=Ye[0],Rt=ct[0],St&&Pt&&He==null){ut=0;break}if(4>J){ut=7;break}if(ht&&St||!ht&&!St&&!n(B,M[0],"ALPH")){J=[J],pt.na=[pt.na],pt.P=[pt.P],pt.Sa=[pt.Sa];e:{ur=B,ut=M,ht=J;var Ar=pt.gb;qt=pt.na,zt=pt.P,vr=pt.Sa,_r=22,r(ur!=null),r(ht!=null),Vt=ut[0];var Sn=ht[0];for(r(qt!=null),r(vr!=null),qt[0]=null,zt[0]=null,vr[0]=0;;){if(ut[0]=Vt,ht[0]=Sn,8>Sn){ut=7;break e}var Pn=pe(ur,Vt+4);if(4294967286<Pn){ut=3;break e}var nn=8+Pn+1&-2;if(_r+=nn,0<Ar&&_r>Ar){ut=3;break e}if(!n(ur,Vt,"VP8 ")||!n(ur,Vt,"VP8L")){ut=0;break e}if(Sn[0]<nn){ut=7;break e}n(ur,Vt,"ALPH")||(qt[0]=ur,zt[0]=Vt+8,vr[0]=Pn),Vt+=nn,Sn-=nn}}if(J=J[0],pt.na=pt.na[0],pt.P=pt.P[0],pt.Sa=pt.Sa[0],ut!=0)break}J=[J],pt.Ja=[pt.Ja],pt.xa=[pt.xa];e:if(Ar=B,ut=M,ht=J,qt=pt.gb[0],zt=pt.Ja,vr=pt.xa,ur=ut[0],Vt=!n(Ar,ur,"VP8 "),_r=!n(Ar,ur,"VP8L"),r(Ar!=null),r(ht!=null),r(zt!=null),r(vr!=null),8>ht[0])ut=7;else{if(Vt||_r){if(Ar=pe(Ar,ur+4),12<=qt&&Ar>qt-12){ut=3;break e}if(Nt&&Ar>ht[0]-8){ut=7;break e}zt[0]=Ar,ut[0]+=8,ht[0]-=8,vr[0]=_r}else vr[0]=5<=ht[0]&&Ar[ur+0]==47&&!(Ar[ur+4]>>5),zt[0]=ht[0];ut=0}if(J=J[0],pt.Ja=pt.Ja[0],pt.xa=pt.xa[0],M=M[0],ut!=0)break;if(4294967286<pt.Ja)return 3;if(Le==null||Pt||(Le[0]=pt.xa?2:1),De=[De],Rt=[Rt],pt.xa){if(5>J){ut=7;break}Le=De,Nt=Rt,Pt=_e,B==null||5>J?B=0:5<=J&&B[M+0]==47&&!(B[M+4]>>5)?(ht=[0],Ar=[0],qt=[0],Ne(zt=new R,B,M,J),xr(zt,ht,Ar,qt)?(Le!=null&&(Le[0]=ht[0]),Nt!=null&&(Nt[0]=Ar[0]),Pt!=null&&(Pt[0]=qt[0]),B=1):B=0):B=0}else{if(10>J){ut=7;break}Le=Rt,B==null||10>J||!ai(B,M+3,J-3)?B=0:(Nt=B[M+0]|B[M+1]<<8|B[M+2]<<16,Pt=16383&(B[M+7]<<8|B[M+6]),B=16383&(B[M+9]<<8|B[M+8]),1&Nt||3<(Nt>>1&7)||!(Nt>>4&1)||Nt>>5>=pt.Ja||!Pt||!B?B=0:(De&&(De[0]=Pt),Le&&(Le[0]=B),B=1))}if(!B||(De=De[0],Rt=Rt[0],St&&(Ye[0]!=De||ct[0]!=Rt)))return 3;He!=null&&(He[0]=pt,He.offset=M-He.w,r(4294967286>M-He.w),r(He.offset==He.ha-J));break}return ut==0||ut==7&&St&&He==null?(_e!=null&&(_e[0]|=pt.na!=null&&0<pt.na.length),fe!=null&&(fe[0]=De),Te!=null&&(Te[0]=Rt),0):ut}function ms(B,M,J){var fe=M.width,Te=M.height,_e=0,De=0,Le=fe,He=Te;if(M.Da=B!=null&&0<B.Da,M.Da&&(Le=B.cd,He=B.bd,_e=B.v,De=B.j,11>J||(_e&=-2,De&=-2),0>_e||0>De||0>=Le||0>=He||_e+Le>fe||De+He>Te))return 0;if(M.v=_e,M.j=De,M.va=_e+Le,M.o=De+He,M.U=Le,M.T=He,M.da=B!=null&&0<B.da,M.da){if(!Qe(Le,He,J=[B.ib],_e=[B.hb]))return 0;M.ib=J[0],M.hb=_e[0]}return M.ob=B!=null&&B.ob,M.Kb=B==null||!B.Sd,M.da&&(M.ob=M.ib<3*fe/4&&M.hb<3*Te/4,M.Kb=0),1}function Tc(B){if(B==null)return 2;if(11>B.S){var M=B.f.RGBA;M.fb+=(B.height-1)*M.A,M.A=-M.A}else M=B.f.kb,B=B.height,M.O+=(B-1)*M.fa,M.fa=-M.fa,M.N+=(B-1>>1)*M.Ab,M.Ab=-M.Ab,M.W+=(B-1>>1)*M.Db,M.Db=-M.Db,M.F!=null&&(M.J+=(B-1)*M.lb,M.lb=-M.lb);return 0}function Bi(B,M,J,fe){if(fe==null||0>=B||0>=M)return 2;if(J!=null){if(J.Da){var Te=J.cd,_e=J.bd,De=-2&J.v,Le=-2&J.j;if(0>De||0>Le||0>=Te||0>=_e||De+Te>B||Le+_e>M)return 2;B=Te,M=_e}if(J.da){if(!Qe(B,M,Te=[J.ib],_e=[J.hb]))return 2;B=Te[0],M=_e[0]}}fe.width=B,fe.height=M;e:{var He=fe.width,Ye=fe.height;if(B=fe.S,0>=He||0>=Ye||!(B>=za&&13>B))B=2;else{if(0>=fe.Rd&&fe.sd==null){De=_e=Te=M=0;var ct=(Le=He*z0[B])*Ye;if(11>B||(_e=(Ye+1)/2*(M=(He+1)/2),B==12&&(De=(Te=He)*Ye)),(Ye=o(ct+2*_e+De))==null){B=1;break e}fe.sd=Ye,11>B?((He=fe.f.RGBA).eb=Ye,He.fb=0,He.A=Le,He.size=ct):((He=fe.f.kb).y=Ye,He.O=0,He.fa=Le,He.Fd=ct,He.f=Ye,He.N=0+ct,He.Ab=M,He.Cd=_e,He.ea=Ye,He.W=0+ct+_e,He.Db=M,He.Ed=_e,B==12&&(He.F=Ye,He.J=0+ct+2*_e),He.Tc=De,He.lb=Te)}if(M=1,Te=fe.S,_e=fe.width,De=fe.height,Te>=za&&13>Te)if(11>Te)B=fe.f.RGBA,M&=(Le=Math.abs(B.A))*(De-1)+_e<=B.size,M&=Le>=_e*z0[Te],M&=B.eb!=null;else{B=fe.f.kb,Le=(_e+1)/2,ct=(De+1)/2,He=Math.abs(B.fa),Ye=Math.abs(B.Ab);var St=Math.abs(B.Db),Nt=Math.abs(B.lb),pt=Nt*(De-1)+_e;M&=He*(De-1)+_e<=B.Fd,M&=Ye*(ct-1)+Le<=B.Cd,M=(M&=St*(ct-1)+Le<=B.Ed)&He>=_e&Ye>=Le&St>=Le,M&=B.y!=null,M&=B.f!=null,M&=B.ea!=null,Te==12&&(M&=Nt>=_e,M&=pt<=B.Tc,M&=B.F!=null)}else M=0;B=M?0:2}}return B!=0||J!=null&&J.fd&&(B=Tc(fe)),B}var Bs=64,vn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Fc=24,Ic=32,pu=8,ii=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];je("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(B){return B},I.Predictor2=function(B,M,J){return M[J+0]},I.Predictor3=function(B,M,J){return M[J+1]},I.Predictor4=function(B,M,J){return M[J-1]},I.Predictor5=function(B,M,J){return q(q(B,M[J+1]),M[J+0])},I.Predictor6=function(B,M,J){return q(B,M[J-1])},I.Predictor7=function(B,M,J){return q(B,M[J+0])},I.Predictor8=function(B,M,J){return q(M[J-1],M[J+0])},I.Predictor9=function(B,M,J){return q(M[J+0],M[J+1])},I.Predictor10=function(B,M,J){return q(q(B,M[J-1]),q(M[J+0],M[J+1]))},I.Predictor11=function(B,M,J){var fe=M[J+0];return 0>=Re(fe>>24&255,B>>24&255,(M=M[J-1])>>24&255)+Re(fe>>16&255,B>>16&255,M>>16&255)+Re(fe>>8&255,B>>8&255,M>>8&255)+Re(255&fe,255&B,255&M)?fe:B},I.Predictor12=function(B,M,J){var fe=M[J+0];return(be((B>>24&255)+(fe>>24&255)-((M=M[J-1])>>24&255))<<24|be((B>>16&255)+(fe>>16&255)-(M>>16&255))<<16|be((B>>8&255)+(fe>>8&255)-(M>>8&255))<<8|be((255&B)+(255&fe)-(255&M)))>>>0},I.Predictor13=function(B,M,J){var fe=M[J-1];return(Ee((B=q(B,M[J+0]))>>24&255,fe>>24&255)<<24|Ee(B>>16&255,fe>>16&255)<<16|Ee(B>>8&255,fe>>8&255)<<8|Ee(B>>0&255,fe>>0&255))>>>0};var Sd=I.PredictorAdd0;I.PredictorAdd1=it,je("Predictor2","PredictorAdd2"),je("Predictor3","PredictorAdd3"),je("Predictor4","PredictorAdd4"),je("Predictor5","PredictorAdd5"),je("Predictor6","PredictorAdd6"),je("Predictor7","PredictorAdd7"),je("Predictor8","PredictorAdd8"),je("Predictor9","PredictorAdd9"),je("Predictor10","PredictorAdd10"),je("Predictor11","PredictorAdd11"),je("Predictor12","PredictorAdd12"),je("Predictor13","PredictorAdd13");var Bd=I.PredictorAdd2;ot("ColorIndexInverseTransform","MapARGB","32b",function(B){return B>>8&255},function(B){return B}),ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(B){return B},function(B){return B>>8&255});var SA,Es=I.ColorIndexInverseTransform,as=I.MapARGB,oi=I.VP8LColorIndexInverseTransformAlpha,Ls=I.MapAlpha,Ka=I.VP8LPredictorsAdd=[];Ka.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var $l,Va,Aa,Kl,Ei,li,wa,$o,Us,Ti,Ws,Fi,gu,sa,xu,_c,kc,Ko,yu,vu,Vl,gl,Pc,Ts,Ii,sn,an,ts,ps=o(511),mo=o(2041),Dc=o(225),xl=o(767),zl=0,BA=mo,bu=Dc,ja=xl,po=ps,za=0,Ed=1,ci=2,EA=3,wu=4,go=5,Qf=6,TA=7,Oc=8,Gl=9,Wl=10,Hf=[2,3,7],xo=[3,3,11],qi=[280,256,256,256,40],ju=[0,1,1,1,0],yo=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ql=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Nu=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],H0=8,FA=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Lc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],fa=null,Ms=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Fn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Uc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],yl=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],um=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Cu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],$0=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Yl=[],ui=[],Ga=[],K0=1,Td=2,Vo=[],Na=[];Qt("UpsampleRgbLinePair",fn,3),Qt("UpsampleBgrLinePair",Hn,3),Qt("UpsampleRgbaLinePair",ho,4),Qt("UpsampleBgraLinePair",ra,4),Qt("UpsampleArgbLinePair",Gs,4),Qt("UpsampleRgba4444LinePair",Ur,2),Qt("UpsampleRgb565LinePair",$n,2);var Xl=I.UpsampleRgbLinePair,vl=I.UpsampleBgrLinePair,Yi=I.UpsampleRgbaLinePair,$f=I.UpsampleBgraLinePair,Kf=I.UpsampleArgbLinePair,Fd=I.UpsampleRgba4444LinePair,Vf=I.UpsampleRgb565LinePair,bl=16,ha=1<<bl-1,zo=-227,zf=482,Ig=6,V0=0,_g=o(256),ma=o(256),dm=o(256),IA=o(256),_A=o(zf-zo),Am=o(zf-zo);na("YuvToRgbRow",fn,3),na("YuvToBgrRow",Hn,3),na("YuvToRgbaRow",ho,4),na("YuvToBgraRow",ra,4),na("YuvToArgbRow",Gs,4),na("YuvToRgba4444Row",Ur,2),na("YuvToRgb565Row",$n,2);var Su=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Jl=[0,2,8],kg=[8,7,6,4,4,2,2,2,1,1,1,1],fm=1;this.WebPDecodeRGBA=function(B,M,J,fe,Te){var _e=Ed,De=new wd,Le=new Ke;De.ba=Le,Le.S=_e,Le.width=[Le.width],Le.height=[Le.height];var He=Le.width,Ye=Le.height,ct=new Tt;if(ct==null||B==null)var St=2;else r(ct!=null),St=mu(B,M,J,ct.width,ct.height,ct.Pd,ct.Qd,ct.format,null);if(St!=0?He=0:(He!=null&&(He[0]=ct.width[0]),Ye!=null&&(Ye[0]=ct.height[0]),He=1),He){Le.width=Le.width[0],Le.height=Le.height[0],fe!=null&&(fe[0]=Le.width),Te!=null&&(Te[0]=Le.height);e:{if(fe=new si,(Te=new wA).data=B,Te.w=M,Te.ha=J,Te.kd=1,M=[0],r(Te!=null),((B=mu(Te.data,Te.w,Te.ha,null,null,null,M,null,Te))==0||B==7)&&M[0]&&(B=4),(M=B)==0){if(r(De!=null),fe.data=Te.data,fe.w=Te.w+Te.offset,fe.ha=Te.ha-Te.offset,fe.put=hs,fe.ac=Xr,fe.bc=kn,fe.ma=De,Te.xa){if((B=Oe())==null){De=1;break e}if(function(Nt,pt){var Rt=[0],Pt=[0],ut=[0];t:for(;;){if(Nt==null)return 0;if(pt==null)return Nt.a=2,0;if(Nt.l=pt,Nt.a=0,Ne(Nt.m,pt.data,pt.w,pt.ha),!xr(Nt.m,Rt,Pt,ut)){Nt.a=3;break t}if(Nt.xb=Td,pt.width=Rt[0],pt.height=Pt[0],!Ge(Rt[0],Pt[0],1,Nt,null))break t;return 1}return r(Nt.a!=0),0}(B,fe)){if(fe=(M=Bi(fe.width,fe.height,De.Oa,De.ba))==0){t:{fe=B;r:for(;;){if(fe==null){fe=0;break t}if(r(fe.s.yc!=null),r(fe.s.Ya!=null),r(0<fe.s.Wb),r((J=fe.l)!=null),r((Te=J.ma)!=null),fe.xb!=0){if(fe.ca=Te.ba,fe.tb=Te.tb,r(fe.ca!=null),!ms(Te.Oa,J,EA)){fe.a=2;break r}if(!nt(fe,J.width)||J.da)break r;if((J.da||tt(fe.ca.S))&&bt(),11>fe.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),fe.ca.f.kb.F!=null&&bt()),fe.Pb&&0<fe.s.ua&&fe.s.vb.X==null&&!ye(fe.s.vb,fe.s.Wa.Xa)){fe.a=1;break r}fe.xb=0}if(!Ze(fe,fe.V,fe.Ba,fe.c,fe.i,J.o,Xe))break r;Te.Dc=fe.Ma,fe=1;break t}r(fe.a!=0),fe=0}fe=!fe}fe&&(M=B.a)}else M=B.a}else{if((B=new Ia)==null){De=1;break e}if(B.Fa=Te.na,B.P=Te.P,B.qc=Te.Sa,hA(B,fe)){if((M=Bi(fe.width,fe.height,De.Oa,De.ba))==0){if(B.Aa=0,J=De.Oa,r((Te=B)!=null),J!=null){if(0<(He=0>(He=J.Md)?0:100<He?255:255*He/100)){for(Ye=ct=0;4>Ye;++Ye)12>(St=Te.pb[Ye]).lc&&(St.ia=He*kg[0>St.lc?0:St.lc]>>3),ct|=St.ia;ct&&(alert("todo:VP8InitRandom"),Te.ia=1)}Te.Ga=J.Id,100<Te.Ga?Te.Ga=100:0>Te.Ga&&(Te.Ga=0)}bc(B,fe)||(M=B.a)}}else M=B.a}M==0&&De.Oa!=null&&De.Oa.fd&&(M=Tc(De.ba))}De=M}_e=De!=0?null:11>_e?Le.f.RGBA.eb:Le.f.kb.y}else _e=null;return _e};var z0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(I,Y){for(var Q="",H=0;H<4;H++)Q+=String.fromCharCode(I[Y++]);return Q}function A(I,Y){return(I[Y+0]<<0|I[Y+1]<<8|I[Y+2]<<16)>>>0}function m(I,Y){return(I[Y+0]<<0|I[Y+1]<<8|I[Y+2]<<16|I[Y+3]<<24)>>>0}new u;var p=[0],g=[0],b=[],v=new u,y=t,j=function(I,Y){var Q={},H=0,U=!1,K=0,X=0;if(Q.frames=[],!function(G,ne,ae,oe){for(var he=0;he<oe;he++)if(G[ne+he]!=ae.charCodeAt(he))return!0;return!1}(I,Y,"RIFF",4)){for(m(I,Y+=4),Y+=8;Y<I.length;){var Z=f(I,Y),ee=m(I,Y+=4);Y+=4;var de=ee+(1&ee);switch(Z){case"VP8 ":case"VP8L":Q.frames[H]===void 0&&(Q.frames[H]={}),(ue=Q.frames[H]).src_off=U?X:Y-8,ue.src_size=K+ee+8,H++,U&&(U=!1,K=0,X=0);break;case"VP8X":(ue=Q.header={}).feature_flags=I[Y];var Ne=Y+4;ue.canvas_width=1+A(I,Ne),Ne+=3,ue.canvas_height=1+A(I,Ne),Ne+=3;break;case"ALPH":U=!0,K=de+8,X=Y-8;break;case"ANIM":(ue=Q.header).bgcolor=m(I,Y),Ne=Y+4,ue.loop_count=(xe=I)[(R=Ne)+0]<<0|xe[R+1]<<8,Ne+=2;break;case"ANMF":var Se,ue;(ue=Q.frames[H]={}).offset_x=2*A(I,Y),Y+=3,ue.offset_y=2*A(I,Y),Y+=3,ue.width=1+A(I,Y),Y+=3,ue.height=1+A(I,Y),Y+=3,ue.duration=A(I,Y),Y+=3,Se=I[Y++],ue.dispose=1&Se,ue.blend=Se>>1&1}Z!="ANMF"&&(Y+=de)}var xe,R;return Q}}(y,0);j.response=y,j.rgbaoutput=!0,j.dataurl=!1;var C=j.header?j.header:null,S=j.frames?j.frames:null;if(C){C.loop_counter=C.loop_count,p=[C.canvas_height],g=[C.canvas_width];for(var E=0;E<S.length&&S[E].blend!=0;E++);}var D=S[0],k=v.WebPDecodeRGBA(y,D.src_off,D.src_size,g,p);D.rgba=k,D.imgwidth=g[0],D.imgheight=p[0];for(var L=0;L<g[0]*p[0]*4;L++)b[L]=k[L];return this.width=g,this.height=p,this.data=b,this}(function(t){var r=function(){return typeof UC=="function"},n=function(p,g,b,v){var y=4,j=l;switch(v){case t.image_compression.FAST:y=1,j=o;break;case t.image_compression.MEDIUM:y=6,j=c;break;case t.image_compression.SLOW:y=9,j=u}p=a(p,g,b,j);var C=UC(p,{level:y});return t.__addimage__.arrayBufferToBinaryString(C)},a=function(p,g,b,v){for(var y,j,C,S=p.length/g,E=new Uint8Array(p.length+S),D=A(),k=0;k<S;k+=1){if(C=k*g,y=p.subarray(C,C+g),v)E.set(v(y,b,j),C+k);else{for(var L,I=D.length,Y=[];L<I;L+=1)Y[L]=D[L](y,b,j);var Q=m(Y.concat());E.set(Y[Q],C+k)}j=y}return E},i=function(p){var g=Array.apply([],p);return g.unshift(0),g},o=function(p,g){var b,v=[],y=p.length;v[0]=1;for(var j=0;j<y;j+=1)b=p[j-g]||0,v[j+1]=p[j]-b+256&255;return v},l=function(p,g,b){var v,y=[],j=p.length;y[0]=2;for(var C=0;C<j;C+=1)v=b&&b[C]||0,y[C+1]=p[C]-v+256&255;return y},c=function(p,g,b){var v,y,j=[],C=p.length;j[0]=3;for(var S=0;S<C;S+=1)v=p[S-g]||0,y=b&&b[S]||0,j[S+1]=p[S]+256-(v+y>>>1)&255;return j},u=function(p,g,b){var v,y,j,C,S=[],E=p.length;S[0]=4;for(var D=0;D<E;D+=1)v=p[D-g]||0,y=b&&b[D]||0,j=b&&b[D-g]||0,C=f(v,y,j),S[D+1]=p[D]-C+256&255;return S},f=function(p,g,b){if(p===g&&g===b)return p;var v=Math.abs(g-b),y=Math.abs(p-b),j=Math.abs(p+g-b-b);return v<=y&&v<=j?p:y<=j?g:b},A=function(){return[i,o,l,c,u]},m=function(p){var g=p.map(function(b){return b.reduce(function(v,y){return v+Math.abs(y)},0)});return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(p,g,b,v){var y,j,C,S,E,D,k,L,I,Y,Q,H,U,K,X,Z=this.decode.FLATE_DECODE,ee="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(C=new aY(p)).imgData,j=C.bits,y=C.colorSpace,E=C.colors,[4,6].indexOf(C.colorType)!==-1){if(C.bits===8){I=(L=C.pixelBitlength==32?new Uint32Array(C.decodePixels().buffer):C.pixelBitlength==16?new Uint16Array(C.decodePixels().buffer):new Uint8Array(C.decodePixels().buffer)).length,Q=new Uint8Array(I*C.colors),Y=new Uint8Array(I);var de,Ne=C.pixelBitlength-C.bits;for(K=0,X=0;K<I;K++){for(U=L[K],de=0;de<Ne;)Q[X++]=U>>>de&255,de+=C.bits;Y[K]=U>>>de&255}}if(C.bits===16){I=(L=new Uint32Array(C.decodePixels().buffer)).length,Q=new Uint8Array(I*(32/C.pixelBitlength)*C.colors),Y=new Uint8Array(I*(32/C.pixelBitlength)),H=C.colors>1,K=0,X=0;for(var Se=0;K<I;)U=L[K++],Q[X++]=U>>>0&255,H&&(Q[X++]=U>>>16&255,U=L[K++],Q[X++]=U>>>0&255),Y[Se++]=U>>>16&255;j=8}v!==t.image_compression.NONE&&r()?(p=n(Q,C.width*C.colors,C.colors,v),k=n(Y,C.width,1,v)):(p=Q,k=Y,Z=void 0)}if(C.colorType===3&&(y=this.color_spaces.INDEXED,D=C.palette,C.transparency.indexed)){var ue=C.transparency.indexed,xe=0;for(K=0,I=ue.length;K<I;++K)xe+=ue[K];if((xe/=255)===I-1&&ue.indexOf(0)!==-1)S=[ue.indexOf(0)];else if(xe!==I){for(L=C.decodePixels(),Y=new Uint8Array(L.length),K=0,I=L.length;K<I;K++)Y[K]=ue[L[K]];k=n(Y,C.width,1)}}var R=function(G){var ne;switch(G){case t.image_compression.FAST:ne=11;break;case t.image_compression.MEDIUM:ne=13;break;case t.image_compression.SLOW:ne=14;break;default:ne=12}return ne}(v);return Z===this.decode.FLATE_DECODE&&(ee="/Predictor "+R+" "),ee+="/Colors "+E+" /BitsPerComponent "+j+" /Columns "+C.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(k&&this.__addimage__.isArrayBuffer(k)||this.__addimage__.isArrayBufferView(k))&&(k=this.__addimage__.arrayBufferToBinaryString(k)),{alias:b,data:p,index:g,filter:Z,decodeParameters:ee,transparency:S,palette:D,sMask:k,predictor:R,width:C.width,height:C.height,bitsPerComponent:j,colorSpace:y}}}})(Lr.API),function(t){t.processGIF89A=function(r,n,a,i){var o=new iY(r),l=o.width,c=o.height,u=[];o.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:l,height:c},A=new $j(100).encode(f,100);return t.processJPEG.call(this,A,n,a,i)},t.processGIF87A=t.processGIF89A}(Lr.API),Ju.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var r=0;r<t;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[r]={red:i,green:a,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ju.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,r=this.width*this.height*4;this.data=new Uint8Array(r),this[t]()}catch(n){ks.log("bit decode error:"+n)}},Ju.prototype.bit1=function(){var t,r=Math.ceil(this.width/8),n=r%4;for(t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,i=0;i<r;i++)for(var o=this.datav.getUint8(this.pos++,!0),l=a*this.width*4+8*i*4,c=0;c<8&&8*i+c<this.width;c++){var u=this.palette[o>>7-c&1];this.data[l+4*c]=u.blue,this.data[l+4*c+1]=u.green,this.data[l+4*c+2]=u.red,this.data[l+4*c+3]=255}n!==0&&(this.pos+=4-n)}},Ju.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),r=t%4,n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),l=a*this.width*4+2*i*4,c=o>>4,u=15&o,f=this.palette[c];if(this.data[l]=f.blue,this.data[l+1]=f.green,this.data[l+2]=f.red,this.data[l+3]=255,2*i+1>=this.width)break;f=this.palette[u],this.data[l+4]=f.blue,this.data[l+4+1]=f.green,this.data[l+4+2]=f.red,this.data[l+4+3]=255}r!==0&&(this.pos+=4-r)}},Ju.prototype.bit8=function(){for(var t=this.width%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*a;if(i<this.palette.length){var l=this.palette[i];this.data[o]=l.red,this.data[o+1]=l.green,this.data[o+2]=l.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},Ju.prototype.bit15=function(){for(var t=this.width%3,r=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&r)/r*255|0,c=(o>>5&r)/r*255|0,u=(o>>10&r)/r*255|0,f=o>>15?255:0,A=a*this.width*4+4*i;this.data[A]=u,this.data[A+1]=c,this.data[A+2]=l,this.data[A+3]=f}this.pos+=t}},Ju.prototype.bit16=function(){for(var t=this.width%3,r=parseInt("11111",2),n=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var i=this.bottom_up?a:this.height-1-a,o=0;o<this.width;o++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&r)/r*255|0,u=(l>>5&n)/n*255|0,f=(l>>11)/r*255|0,A=i*this.width*4+4*o;this.data[A]=f,this.data[A+1]=u,this.data[A+2]=c,this.data[A+3]=255}this.pos+=t}},Ju.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+4*n;this.data[l]=o,this.data[l+1]=i,this.data[l+2]=a,this.data[l+3]=255}this.pos+=this.width%4}},Ju.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+4*n;this.data[c]=o,this.data[c+1]=i,this.data[c+2]=a,this.data[c+3]=l}},Ju.prototype.getData=function(){return this.data},function(t){t.processBMP=function(r,n,a,i){var o=new Ju(r,!1),l=o.width,c=o.height,u={data:o.getData(),width:l,height:c},f=new $j(100).encode(u,100);return t.processJPEG.call(this,f,n,a,i)}}(Lr.API),$6.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(r,n,a,i){var o=new $6(r),l=o.width,c=o.height,u={data:o.getData(),width:l,height:c},f=new $j(100).encode(u,100);return t.processJPEG.call(this,f,n,a,i)}}(Lr.API),Lr.API.processRGBA=function(t,r,n){for(var a=t.data,i=a.length,o=new Uint8Array(i/4*3),l=new Uint8Array(i/4),c=0,u=0,f=0;f<i;f+=4){var A=a[f],m=a[f+1],p=a[f+2],g=a[f+3];o[c++]=A,o[c++]=m,o[c++]=p,l[u++]=g}var b=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:b,index:r,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Lr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},vp=Lr.API,v1=vp.getCharWidthsArray=function(t,r){var n,a,i=(r=r||{}).font||this.internal.getFont(),o=r.fontSize||this.internal.getFontSize(),l=r.charSpace||this.internal.getCharSpace(),c=r.widths?r.widths:i.metadata.Unicode.widths,u=c.fof?c.fof:1,f=r.kerning?r.kerning:i.metadata.Unicode.kerning,A=f.fof?f.fof:1,m=r.doKerning!==!1,p=0,g=t.length,b=0,v=c[0]||u,y=[];for(n=0;n<g;n++)a=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?y.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(a))+l*(1e3/o)||0)/1e3):(p=m&&ds(f[a])==="object"&&!isNaN(parseInt(f[a][b],10))?f[a][b]/A:0,y.push((c[a]||v)/u+p)),b=a;return y},M6=vp.getStringUnitWidth=function(t,r){var n=(r=r||{}).fontSize||this.internal.getFontSize(),a=r.font||this.internal.getFont(),i=r.charSpace||this.internal.getCharSpace();return vp.processArabic&&(t=vp.processArabic(t)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(t,n,i)/n:v1.apply(this,arguments).reduce(function(o,l){return o+l},0)},R6=function(t,r,n,a){for(var i=[],o=0,l=t.length,c=0;o!==l&&c+r[o]<n;)c+=r[o],o++;i.push(t.slice(0,o));var u=o;for(c=0;o!==l;)c+r[o]>a&&(i.push(t.slice(u,o)),c=0,u=o),c+=r[o],o++;return u!==o&&i.push(t.slice(u,o)),i},Q6=function(t,r,n){n||(n={});var a,i,o,l,c,u,f,A=[],m=[A],p=n.textIndent||0,g=0,b=0,v=t.split(" "),y=v1.apply(this,[" ",n])[0];if(u=n.lineIndent===-1?v[0].length+2:n.lineIndent||0){var j=Array(u).join(" "),C=[];v.map(function(E){(E=E.split(/\s*\n/)).length>1?C=C.concat(E.map(function(D,k){return(k&&D.length?`
`:"")+D})):C.push(E[0])}),v=C,u=M6.apply(this,[j,n])}for(o=0,l=v.length;o<l;o++){var S=0;if(a=v[o],u&&a[0]==`
`&&(a=a.substr(1),S=1),p+g+(b=(i=v1.apply(this,[a,n])).reduce(function(E,D){return E+D},0))>r||S){if(b>r){for(c=R6.apply(this,[a,i,r-(p+g),r]),A.push(c.shift()),A=[c.pop()];c.length;)m.push([c.shift()]);b=i.slice(a.length-(A[0]?A[0].length:0)).reduce(function(E,D){return E+D},0)}else A=[a];m.push(A),p=b+u,g=y}else A.push(a),p+=g+b,g=y}return f=u?function(E,D){return(D?j:"")+E.join(" ")}:function(E){return E.join(" ")},m.map(f)},vp.splitTextToSize=function(t,r,n){var a,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(A){if(A.widths&&A.kerning)return{widths:A.widths,kerning:A.kerning};var m=this.internal.getFont(A.fontName,A.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);a=Array.isArray(t)?t:String(t).split(/\r?\n/);var l=1*this.internal.scaleFactor*r/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var c,u,f=[];for(c=0,u=a.length;c<u;c++)f=f.concat(Q6.apply(this,[a[c],l,o]));return f},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var r="klmnopqrstuvwxyz",n={},a={},i=0;i<r.length;i++)n[r[i]]="0123456789abcdef"[i],a["0123456789abcdef"[i]]=r[i];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=t.__fontmetrics__.compress=function(m){var p,g,b,v,y=["{"];for(var j in m){if(p=m[j],isNaN(parseInt(j,10))?g="'"+j+"'":(j=parseInt(j,10),g=(g=o(j).slice(2)).slice(0,-1)+a[g.slice(-1)]),typeof p=="number")p<0?(b=o(p).slice(3),v="-"):(b=o(p).slice(2),v=""),b=v+b.slice(0,-1)+a[b.slice(-1)];else{if(ds(p)!=="object")throw new Error("Don't know what to do with value type "+ds(p)+".");b=l(p)}y.push(g+b)}return y.push("}"),y.join("")},c=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,g,b,v,y={},j=1,C=y,S=[],E="",D="",k=m.length-1,L=1;L<k;L+=1)(v=m[L])=="'"?p?(b=p.join(""),p=void 0):p=[]:p?p.push(v):v=="{"?(S.push([C,b]),C={},b=void 0):v=="}"?((g=S.pop())[0][g[1]]=C,b=void 0,C=g[0]):v=="-"?j=-1:b===void 0?n.hasOwnProperty(v)?(E+=n[v],b=parseInt(E,16)*j,j=1,E=""):E+=v:n.hasOwnProperty(v)?(D+=n[v],C[b]=parseInt(D,16)*j,j=1,b=void 0,D=""):D+=v;return y},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},A={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var p=m.font,g=A.Unicode[p.postScriptName];g&&(p.metadata.Unicode={},p.metadata.Unicode.widths=g.widths,p.metadata.Unicode.kerning=g.kerning);var b=f.Unicode[p.postScriptName];b&&(p.metadata.Unicode.encoding=b,p.encoding=b.codePages[0])}])}(Lr.API),function(t){var r=function(n){for(var a=n.length,i=new Uint8Array(a),o=0;o<a;o++)i[o]=n.charCodeAt(o);return i};t.API.events.push(["addFont",function(n){var a=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(a=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?r(c):r(Kx(c)),l.metadata=t.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(i,a)}}])}(Lr),function(t){function r(){return(Wr.canvg?Promise.resolve(Wr.canvg):kC(()=>import("./index.es-lSZ4vSDz.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Lr.API.addSvgAsImage=function(n,a,i,o,l,c,u,f){if(isNaN(a)||isNaN(i))throw ks.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(l))throw ks.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var A=document.createElement("canvas");A.width=o,A.height=l;var m=A.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,A.width,A.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return r().then(function(b){return b.fromString(m,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(p)}).then(function(){g.addImage(A.toDataURL("image/jpeg",1),a,i,o,l,u,f)})}}(),Lr.API.putTotalPages=function(t){var r,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(r=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(r=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var i=0;i<this.internal.pages[a].length;i++)this.internal.pages[a][i]=this.internal.pages[a][i].replace(r,n);return this},Lr.API.viewerPreferences=function(t,r){var n;t=t||{},r=r||!1;var a,i,o,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),u=[],f=0,A=0,m=0;function p(b,v){var y,j=!1;for(y=0;y<b.length;y+=1)b[y]===v&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||r===!0){var g=c.length;for(m=0;m<g;m+=1)n[c[m]].value=n[c[m]].defaultValue,n[c[m]].explicitSet=!1}if(ds(t)==="object"){for(i in t)if(o=t[i],p(c,i)&&o!==void 0){if(n[i].type==="boolean"&&typeof o=="boolean")n[i].value=o;else if(n[i].type==="name"&&p(n[i].valueSet,o))n[i].value=o;else if(n[i].type==="integer"&&Number.isInteger(o))n[i].value=o;else if(n[i].type==="array"){for(f=0;f<o.length;f+=1)if(a=!0,o[f].length===1&&typeof o[f][0]=="number")u.push(String(o[f]-1));else if(o[f].length>1){for(A=0;A<o[f].length;A+=1)typeof o[f][A]!="number"&&(a=!1);a===!0&&u.push([o[f][0]-1,o[f][1]-1].join(" "))}n[i].value="["+u.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,v=[];for(b in n)n[b].explicitSet===!0&&(n[b].type==="name"?v.push("/"+b+" /"+n[b].value):v.push("/"+b+" "+n[b].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var r=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(a)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=o.length+l.length+c.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+o+l+c+u),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(a,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",r)),this}}(Lr.API),function(t){var r=t.API,n=r.pdfEscape16=function(o,l){for(var c,u=l.metadata.Unicode.widths,f=["","0","00","000","0000"],A=[""],m=0,p=o.length;m<p;++m){if(c=l.metadata.characterToGlyph(o.charCodeAt(m)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=o.charCodeAt(m),u.indexOf(c)==-1&&(u.push(c),u.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return A.join("");c=c.toString(16),A.push(f[4-c.length],c)}return A.join("")},a=function(o){var l,c,u,f,A,m,p;for(A=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],m=0,p=(c=Object.keys(o).sort(function(g,b){return g-b})).length;m<p;m++)l=c[m],u.length>=100&&(A+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),o[l]!==void 0&&o[l]!==null&&typeof o[l].toString=="function"&&(f=("0000"+o[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),u.push("<"+l+"><"+f+">"));return u.length&&(A+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),A+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};r.events.push(["putFont",function(o){(function(l){var c=l.font,u=l.out,f=l.newObject,A=l.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="Identity-H"){for(var m=c.metadata.Unicode.widths,p=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),g="",b=0;b<p.length;b++)g+=String.fromCharCode(p[b]);var v=f();A({data:g,addLength1:!0,objectId:v}),u("endobj");var y=f();A({data:a(c.metadata.toUnicode),addLength1:!0,objectId:y}),u("endobj");var j=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Ip(c.fontName)),u("/FontFile2 "+v+" 0 R"),u("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),u("/Flags "+c.metadata.flags),u("/StemV "+c.metadata.stemV),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u(">>"),u("endobj");var C=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+Ip(c.fontName)),u("/FontDescriptor "+j+" 0 R"),u("/W "+t.API.PDFObject.convert(m)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+c.encoding+")"),u(">>"),u(">>"),u("endobj"),c.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+y+" 0 R"),u("/BaseFont /"+Ip(c.fontName)),u("/Encoding /"+c.encoding),u("/DescendantFonts ["+C+" 0 R]"),u(">>"),u("endobj"),c.isAlreadyPutted=!0}})(o)}]),r.events.push(["putFont",function(o){(function(l){var c=l.font,u=l.out,f=l.newObject,A=l.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var m=c.metadata.rawData,p="",g=0;g<m.length;g++)p+=String.fromCharCode(m[g]);var b=f();A({data:p,addLength1:!0,objectId:b}),u("endobj");var v=f();A({data:a(c.metadata.toUnicode),addLength1:!0,objectId:v}),u("endobj");var y=f();u("<<"),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u("/StemV "+c.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+b+" 0 R"),u("/Flags 96"),u("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),u("/FontName /"+Ip(c.fontName)),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u(">>"),u("endobj"),c.objectNumber=f();for(var j=0;j<c.metadata.hmtx.widths.length;j++)c.metadata.hmtx.widths[j]=parseInt(c.metadata.hmtx.widths[j]*(1e3/c.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Ip(c.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),u("endobj"),c.isAlreadyPutted=!0}})(o)}]);var i=function(o){var l,c=o.text||"",u=o.x,f=o.y,A=o.options||{},m=o.mutex||{},p=m.pdfEscape,g=m.activeFontKey,b=m.fonts,v=g,y="",j=0,C="",S=b[v].encoding;if(b[v].encoding!=="Identity-H")return{text:c,x:u,y:f,options:A,mutex:m};for(C=c,v=g,Array.isArray(c)&&(C=c[0]),j=0;j<C.length;j+=1)b[v].metadata.hasOwnProperty("cmap")&&(l=b[v].metadata.cmap.unicode.codeMap[C[j].charCodeAt(0)]),l||C[j].charCodeAt(0)<256&&b[v].metadata.hasOwnProperty("Unicode")?y+=C[j]:y+="";var E="";return parseInt(v.slice(1))<14||S==="WinAnsiEncoding"?E=p(y,v).split("").map(function(D){return D.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(E=n(y,b[v])),m.isHex=!0,{text:E,x:u,y:f,options:A,mutex:m}};r.events.push(["postProcessText",function(o){var l=o.text||"",c=[],u={text:l,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(l)){var f=0;for(f=0;f<l.length;f+=1)Array.isArray(l[f])&&l[f].length===3?c.push([i(Object.assign({},u,{text:l[f][0]})).text,l[f][1],l[f][2]]):c.push(i(Object.assign({},u,{text:l[f]})).text);o.text=c}else o.text=i(Object.assign({},u,{text:l})).text}])}(Lr),function(t){var r=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return r.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,a){return r.call(this),this.internal.vFS[n]=a,this},t.getFileFromVFS=function(n){return r.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Lr.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(a){var i,o,l,c,u,f,A,m=r,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,S=0;this.__bidiEngine__={};var E=function(H){var U=H.charCodeAt(),K=U>>8,X=v[K];return X!==void 0?m[256*X+(255&U)]:K===252||K===253?"AL":j.test(K)?"L":K===8?"R":"N"},D=function(H){for(var U,K=0;K<H.length;K++){if((U=E(H.charAt(K)))==="L")return!1;if(U==="R")return!0}return!1},k=function(H,U,K,X){var Z,ee,de,Ne,Se=U[X];switch(Se){case"L":case"R":C=!1;break;case"N":case"AN":break;case"EN":C&&(Se="AN");break;case"AL":C=!0,Se="R";break;case"WS":Se="N";break;case"CS":X<1||X+1>=U.length||(Z=K[X-1])!=="EN"&&Z!=="AN"||(ee=U[X+1])!=="EN"&&ee!=="AN"?Se="N":C&&(ee="AN"),Se=ee===Z?ee:"N";break;case"ES":Se=(Z=X>0?K[X-1]:"B")==="EN"&&X+1<U.length&&U[X+1]==="EN"?"EN":"N";break;case"ET":if(X>0&&K[X-1]==="EN"){Se="EN";break}if(C){Se="N";break}for(de=X+1,Ne=U.length;de<Ne&&U[de]==="ET";)de++;Se=de<Ne&&U[de]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(Ne=U.length,de=X+1;de<Ne&&U[de]==="NSM";)de++;if(de<Ne){var ue=H[X],xe=ue>=1425&&ue<=2303||ue===64286;if(Z=U[de],xe&&(Z==="R"||Z==="AL")){Se="R";break}}}Se=X<1||(Z=U[X-1])==="B"?"N":K[X-1];break;case"B":C=!1,i=!0,Se=S;break;case"S":o=!0,Se="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"BN":Se="N"}return Se},L=function(H,U,K){var X=H.split("");return K&&I(X,K,{hiLevel:S}),X.reverse(),U&&U.reverse(),X.join("")},I=function(H,U,K){var X,Z,ee,de,Ne,Se=-1,ue=H.length,xe=0,R=[],G=S?g:p,ne=[];for(C=!1,i=!1,o=!1,Z=0;Z<ue;Z++)ne[Z]=E(H[Z]);for(ee=0;ee<ue;ee++){if(Ne=xe,R[ee]=k(H,ne,R,ee),X=240&(xe=G[Ne][b[R[ee]]]),xe&=15,U[ee]=de=G[xe][5],X>0)if(X===16){for(Z=Se;Z<ee;Z++)U[Z]=1;Se=-1}else Se=-1;if(G[xe][6])Se===-1&&(Se=ee);else if(Se>-1){for(Z=Se;Z<ee;Z++)U[Z]=de;Se=-1}ne[ee]==="B"&&(U[ee]=0),K.hiLevel|=de}o&&function(ae,oe,he){for(var me=0;me<he;me++)if(ae[me]==="S"){oe[me]=S;for(var te=me-1;te>=0&&ae[te]==="WS";te--)oe[te]=S}}(ne,U,ue)},Y=function(H,U,K,X,Z){if(!(Z.hiLevel<H)){if(H===1&&S===1&&!i)return U.reverse(),void(K&&K.reverse());for(var ee,de,Ne,Se,ue=U.length,xe=0;xe<ue;){if(X[xe]>=H){for(Ne=xe+1;Ne<ue&&X[Ne]>=H;)Ne++;for(Se=xe,de=Ne-1;Se<de;Se++,de--)ee=U[Se],U[Se]=U[de],U[de]=ee,K&&(ee=K[Se],K[Se]=K[de],K[de]=ee);xe=Ne}xe++}}},Q=function(H,U,K){var X=H.split(""),Z={hiLevel:S};return K||(K=[]),I(X,K,Z),function(ee,de,Ne){if(Ne.hiLevel!==0&&A)for(var Se,ue=0;ue<ee.length;ue++)de[ue]===1&&(Se=y.indexOf(ee[ue]))>=0&&(ee[ue]=y[Se+1])}(X,K,Z),Y(2,X,U,K,Z),Y(1,X,U,K,Z),X.join("")};return this.__bidiEngine__.doBidiReorder=function(H,U,K){if(function(Z,ee){if(ee)for(var de=0;de<Z.length;de++)ee[de]=de;c===void 0&&(c=D(Z)),f===void 0&&(f=D(Z))}(H,U),l||!u||f)if(l&&u&&c^f)S=c?1:0,H=L(H,U,K);else if(!l&&u&&f)S=c?1:0,H=Q(H,U,K),H=L(H,U);else if(!l||c||u||f){if(l&&!u&&c^f)H=L(H,U),c?(S=0,H=Q(H,U,K)):(S=1,H=Q(H,U,K),H=L(H,U));else if(l&&c&&!u&&f)S=1,H=Q(H,U,K),H=L(H,U);else if(!l&&!u&&c^f){var X=A;c?(S=1,H=Q(H,U,K),S=0,A=!1,H=Q(H,U,K),A=X):(S=0,H=Q(H,U,K),H=L(H,U),S=1,A=!1,H=Q(H,U,K),A=X,H=L(H,U))}}else S=0,H=Q(H,U,K);else S=c?1:0,H=Q(H,U,K);return H},this.__bidiEngine__.setOptions=function(H){H&&(l=H.isInputVisual,u=H.isOutputVisual,c=H.isInputRtl,f=H.isOutputRtl,A=H.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var r=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(a){var i=a.text;a.x,a.y;var o=a.options||{};a.mutex,o.lang;var l=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var c=0;for(l=[],c=0;c<i.length;c+=1)Object.prototype.toString.call(i[c])==="[object Array]"?l.push([n.doBidiReorder(i[c][0]),i[c][1],i[c][2]]):l.push([n.doBidiReorder(i[c])]);a.text=l}else a.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Lr),Lr.API.TTFFont=function(){function t(r){var n;if(this.rawData=r,n=this.contents=new Kh(r),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new bY(this),this.registerTTF()}return t.open=function(r){return new t(r)},t.prototype.parse=function(){return this.directory=new oY(this.contents),this.head=new cY(this),this.name=new hY(this),this.cmap=new sL(this),this.toUnicode={},this.hhea=new uY(this),this.maxp=new mY(this),this.hmtx=new pY(this),this.post=new AY(this),this.os2=new dY(this),this.loca=new vY(this),this.glyf=new gY(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var r,n,a,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,u,f;for(f=[],l=0,c=(u=this.bbox).length;l<c;l++)r=u[l],f.push(Math.round(r*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(a=255&(i=this.post.italic_angle),(32768&(n=i>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(r){var n;return((n=this.cmap.unicode)!=null?n.codeMap[r]:void 0)||0},t.prototype.widthOfGlyph=function(r){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(r).advance*n},t.prototype.widthOfString=function(r,n,a){var i,o,l,c;for(l=0,o=0,c=(r=""+r).length;0<=c?o<c:o>c;o=0<=c?++o:--o)i=r.charCodeAt(o),l+=this.widthOfGlyph(this.characterToGlyph(i))+a*(1e3/n)||0;return l*(n/1e3)},t.prototype.lineHeight=function(r,n){var a;return n==null&&(n=!1),a=n?this.lineGap:0,(this.ascender+a-this.decender)/1e3*r},t}();var hd,Kh=function(){function t(r){this.data=r??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(r){return this.data[this.pos++]=r},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(r){return this.writeByte(r>>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt32=function(){var r;return(r=this.readUInt32())>=2147483648?r-4294967296:r},t.prototype.writeInt32=function(r){return r<0&&(r+=4294967296),this.writeUInt32(r)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(r){return this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt16=function(){var r;return(r=this.readUInt16())>=32768?r-65536:r},t.prototype.writeInt16=function(r){return r<0&&(r+=65536),this.writeUInt16(r)},t.prototype.readString=function(r){var n,a;for(a=[],n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)a[n]=String.fromCharCode(this.readByte());return a.join("")},t.prototype.writeString=function(r){var n,a,i;for(i=[],n=0,a=r.length;0<=a?n<a:n>a;n=0<=a?++n:--n)i.push(this.writeByte(r.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(r){return this.writeInt16(r)},t.prototype.readLongLong=function(){var r,n,a,i,o,l,c,u;return r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),u=this.readByte(),128&r?-1*(72057594037927940*(255^r)+281474976710656*(255^n)+1099511627776*(255^a)+4294967296*(255^i)+16777216*(255^o)+65536*(255^l)+256*(255^c)+(255^u)+1):72057594037927940*r+281474976710656*n+1099511627776*a+4294967296*i+16777216*o+65536*l+256*c+u},t.prototype.writeLongLong=function(r){var n,a;return n=Math.floor(r/4294967296),a=4294967295&r,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(r){return this.writeInt32(r)},t.prototype.read=function(r){var n,a;for(n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push(this.readByte());return n},t.prototype.write=function(r){var n,a,i,o;for(o=[],a=0,i=r.length;a<i;a++)n=r[a],o.push(this.writeByte(n));return o},t}(),oY=function(){var t;function r(n){var a,i,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)a={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[a.tag]=a}return r.prototype.encode=function(n){var a,i,o,l,c,u,f,A,m,p,g,b,v;for(v in g=Object.keys(n).length,u=Math.log(2),m=16*Math.floor(Math.log(g)/u),l=Math.floor(m/u),A=16*g-m,(i=new Kh).writeInt(this.scalarType),i.writeShort(g),i.writeShort(m),i.writeShort(l),i.writeShort(A),o=16*g,f=i.pos+o,c=null,b=[],n)for(p=n[v],i.writeString(v),i.writeInt(t(p)),i.writeInt(f),i.writeInt(p.length),b=b.concat(p),v==="head"&&(c=f),f+=p.length;f%4;)b.push(0),f++;return i.write(b),a=2981146554-t(i.data),i.pos=c+8,i.writeUInt32(a),i.data},t=function(n){var a,i,o,l;for(n=aL.call(n);n.length%4;)n.push(0);for(o=new Kh(n),i=0,a=0,l=n.length;a<l;a=a+=4)i+=o.readUInt32();return 4294967295&i},r}(),lY={}.hasOwnProperty,fA=function(t,r){for(var n in r)lY.call(r,n)&&(t[n]=r[n]);function a(){this.constructor=t}return a.prototype=r.prototype,t.prototype=new a,t.__super__=r.prototype,t};hd=function(){function t(r){var n;this.file=r,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var cY=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return fA(r,hd),r.prototype.tag="head",r.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},r.prototype.encode=function(n){var a;return(a=new Kh).writeInt(this.version),a.writeInt(this.revision),a.writeInt(this.checkSumAdjustment),a.writeInt(this.magicNumber),a.writeShort(this.flags),a.writeShort(this.unitsPerEm),a.writeLongLong(this.created),a.writeLongLong(this.modified),a.writeShort(this.xMin),a.writeShort(this.yMin),a.writeShort(this.xMax),a.writeShort(this.yMax),a.writeShort(this.macStyle),a.writeShort(this.lowestRecPPEM),a.writeShort(this.fontDirectionHint),a.writeShort(n),a.writeShort(this.glyphDataFormat),a.data},r}(),K6=function(){function t(r,n){var a,i,o,l,c,u,f,A,m,p,g,b,v,y,j,C,S;switch(this.platformID=r.readUInt16(),this.encodingID=r.readShort(),this.offset=n+r.readInt(),m=r.pos,r.pos=this.offset,this.format=r.readUInt16(),this.length=r.readUInt16(),this.language=r.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=r.readByte();break;case 4:for(g=r.readUInt16(),p=g/2,r.pos+=6,o=function(){var E,D;for(D=[],u=E=0;0<=p?E<p:E>p;u=0<=p?++E:--E)D.push(r.readUInt16());return D}(),r.pos+=2,v=function(){var E,D;for(D=[],u=E=0;0<=p?E<p:E>p;u=0<=p?++E:--E)D.push(r.readUInt16());return D}(),f=function(){var E,D;for(D=[],u=E=0;0<=p?E<p:E>p;u=0<=p?++E:--E)D.push(r.readUInt16());return D}(),A=function(){var E,D;for(D=[],u=E=0;0<=p?E<p:E>p;u=0<=p?++E:--E)D.push(r.readUInt16());return D}(),i=(this.length-r.pos+this.offset)/2,c=function(){var E,D;for(D=[],u=E=0;0<=i?E<i:E>i;u=0<=i?++E:--E)D.push(r.readUInt16());return D}(),u=j=0,S=o.length;j<S;u=++j)for(y=o[u],a=C=b=v[u];b<=y?C<=y:C>=y;a=b<=y?++C:--C)A[u]===0?l=a+f[u]:(l=c[A[u]/2+(a-b)-(p-u)]||0)!==0&&(l+=f[u]),this.codeMap[a]=65535&l}r.pos=m}return t.encode=function(r,n){var a,i,o,l,c,u,f,A,m,p,g,b,v,y,j,C,S,E,D,k,L,I,Y,Q,H,U,K,X,Z,ee,de,Ne,Se,ue,xe,R,G,ne,ae,oe,he,me,te,Ae,V,ie;switch(X=new Kh,l=Object.keys(r).sort(function(pe,ye){return pe-ye}),n){case"macroman":for(v=0,y=function(){var pe=[];for(b=0;b<256;++b)pe.push(0);return pe}(),C={0:0},o={},Z=0,Se=l.length;Z<Se;Z++)C[te=r[i=l[Z]]]==null&&(C[te]=++v),o[i]={old:r[i],new:C[r[i]]},y[i]=C[r[i]];return X.writeUInt16(1),X.writeUInt16(0),X.writeUInt32(12),X.writeUInt16(0),X.writeUInt16(262),X.writeUInt16(0),X.write(y),{charMap:o,subtable:X.data,maxGlyphID:v+1};case"unicode":for(U=[],m=[],S=0,C={},a={},j=f=null,ee=0,ue=l.length;ee<ue;ee++)C[D=r[i=l[ee]]]==null&&(C[D]=++S),a[i]={old:D,new:C[D]},c=C[D]-i,j!=null&&c===f||(j&&m.push(j),U.push(i),f=c),j=i;for(j&&m.push(j),m.push(65535),U.push(65535),Q=2*(Y=U.length),I=2*Math.pow(Math.log(Y)/Math.LN2,2),p=Math.log(I/2)/Math.LN2,L=2*Y-I,u=[],k=[],g=[],b=de=0,xe=U.length;de<xe;b=++de){if(H=U[b],A=m[b],H===65535){u.push(0),k.push(0);break}if(H-(K=a[H].new)>=32768)for(u.push(0),k.push(2*(g.length+Y-b)),i=Ne=H;H<=A?Ne<=A:Ne>=A;i=H<=A?++Ne:--Ne)g.push(a[i].new);else u.push(K-H),k.push(0)}for(X.writeUInt16(3),X.writeUInt16(1),X.writeUInt32(12),X.writeUInt16(4),X.writeUInt16(16+8*Y+2*g.length),X.writeUInt16(0),X.writeUInt16(Q),X.writeUInt16(I),X.writeUInt16(p),X.writeUInt16(L),he=0,R=m.length;he<R;he++)i=m[he],X.writeUInt16(i);for(X.writeUInt16(0),me=0,G=U.length;me<G;me++)i=U[me],X.writeUInt16(i);for(Ae=0,ne=u.length;Ae<ne;Ae++)c=u[Ae],X.writeUInt16(c);for(V=0,ae=k.length;V<ae;V++)E=k[V],X.writeUInt16(E);for(ie=0,oe=g.length;ie<oe;ie++)v=g[ie],X.writeUInt16(v);return{charMap:a,subtable:X.data,maxGlyphID:S+1}}},t}(),sL=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return fA(r,hd),r.prototype.tag="cmap",r.prototype.parse=function(n){var a,i,o;for(n.pos=this.offset,this.version=n.readUInt16(),o=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=o?i<o:i>o;i=0<=o?++i:--i)a=new K6(n,this.offset),this.tables.push(a),a.isUnicode&&this.unicode==null&&(this.unicode=a);return!0},r.encode=function(n,a){var i,o;return a==null&&(a="macroman"),i=K6.encode(n,a),(o=new Kh).writeUInt16(0),o.writeUInt16(1),i.table=o.data.concat(i.subtable),i},r}(),uY=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return fA(r,hd),r.prototype.tag="hhea",r.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},r}(),dY=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return fA(r,hd),r.prototype.tag="OS/2",r.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var a,i;for(i=[],a=0;a<10;++a)i.push(n.readByte());return i}(),this.charRange=function(){var a,i;for(i=[],a=0;a<4;++a)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var a,i;for(i=[],a=0;a<2;a=++a)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},r}(),AY=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return fA(r,hd),r.prototype.tag="post",r.prototype.parse=function(n){var a,i,o;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var l;for(i=n.readUInt16(),this.glyphNameIndex=[],l=0;0<=i?l<i:l>i;l=0<=i?++l:--l)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],o=[];n.pos<this.offset+this.length;)a=n.readByte(),o.push(this.names.push(n.readString(a)));return o;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var c,u,f;for(f=[],l=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;l=0<=u?++c:--c)f.push(n.readUInt32());return f}).call(this)}},r}(),fY=function(t,r){this.raw=t,this.length=t.length,this.platformID=r.platformID,this.encodingID=r.encodingID,this.languageID=r.languageID},hY=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return fA(r,hd),r.prototype.tag="name",r.prototype.parse=function(n){var a,i,o,l,c,u,f,A,m,p,g;for(n.pos=this.offset,n.readShort(),a=n.readShort(),u=n.readShort(),i=[],l=0;0<=a?l<a:l>a;l=0<=a?++l:--l)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+u+n.readShort()});for(f={},l=m=0,p=i.length;m<p;l=++m)o=i[l],n.pos=o.offset,A=n.readString(o.length),c=new fY(A,o),f[g=o.nameID]==null&&(f[g]=[]),f[o.nameID].push(c);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},r}(),mY=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return fA(r,hd),r.prototype.tag="maxp",r.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},r}(),pY=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return fA(r,hd),r.prototype.tag="hmtx",r.prototype.parse=function(n){var a,i,o,l,c,u,f;for(n.pos=this.offset,this.metrics=[],a=0,u=this.file.hhea.numberOfMetrics;0<=u?a<u:a>u;a=0<=u?++a:--a)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var A,m;for(m=[],a=A=0;0<=o?A<o:A>o;a=0<=o?++A:--A)m.push(n.readInt16());return m}(),this.widths=(function(){var A,m,p,g;for(g=[],A=0,m=(p=this.metrics).length;A<m;A++)l=p[A],g.push(l.advance);return g}).call(this),i=this.widths[this.widths.length-1],f=[],a=c=0;0<=o?c<o:c>o;a=0<=o?++c:--c)f.push(this.widths.push(i));return f},r.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},r}(),aL=[].slice,gY=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return fA(r,hd),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(n){var a,i,o,l,c,u,f,A,m,p;return n in this.cache?this.cache[n]:(l=this.file.loca,a=this.file.contents,i=l.indexOf(n),(o=l.lengthOf(n))===0?this.cache[n]=null:(a.pos=this.offset+i,c=(u=new Kh(a.read(o))).readShort(),A=u.readShort(),p=u.readShort(),f=u.readShort(),m=u.readShort(),this.cache[n]=c===-1?new yY(u,A,p,f,m):new xY(u,c,A,p,f,m),this.cache[n]))},r.prototype.encode=function(n,a,i){var o,l,c,u,f;for(c=[],l=[],u=0,f=a.length;u<f;u++)o=n[a[u]],l.push(c.length),o&&(c=c.concat(o.encode(i)));return l.push(c.length),{table:c,offsets:l}},r}(),xY=function(){function t(r,n,a,i,o,l){this.raw=r,this.numberOfContours=n,this.xMin=a,this.yMin=i,this.xMax=o,this.yMax=l,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),yY=function(){function t(r,n,a,i,o){var l,c;for(this.raw=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return t.prototype.encode=function(){var r,n,a;for(n=new Kh(aL.call(this.raw.data)),r=0,a=this.glyphIDs.length;r<a;++r)n.pos=this.glyphOffsets[r];return n.data},t}(),vY=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return fA(r,hd),r.prototype.tag="loca",r.prototype.parse=function(n){var a,i;return n.pos=this.offset,a=this.file.head.indexToLocFormat,this.offsets=a===0?(function(){var o,l;for(l=[],i=0,o=this.length;i<o;i+=2)l.push(2*n.readUInt16());return l}).call(this):(function(){var o,l;for(l=[],i=0,o=this.length;i<o;i+=4)l.push(n.readUInt32());return l}).call(this)},r.prototype.indexOf=function(n){return this.offsets[n]},r.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},r.prototype.encode=function(n,a){for(var i=new Uint32Array(this.offsets.length),o=0,l=0,c=0;c<i.length;++c)if(i[c]=o,l<a.length&&a[l]==c){++l,i[c]=o;var u=this.offsets[c],f=this.offsets[c+1]-u;f>0&&(o+=f)}for(var A=new Array(4*i.length),m=0;m<i.length;++m)A[4*m+3]=255&i[m],A[4*m+2]=(65280&i[m])>>8,A[4*m+1]=(16711680&i[m])>>16,A[4*m]=(4278190080&i[m])>>24;return A},r}(),bY=function(){function t(r){this.font=r,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var r,n,a,i,o;for(n in i=this.font.cmap.tables[0].codeMap,r={},o=this.subset)a=o[n],r[n]=i[a];return r},t.prototype.glyphsFor=function(r){var n,a,i,o,l,c,u;for(i={},l=0,c=r.length;l<c;l++)i[o=r[l]]=this.font.glyf.glyphFor(o);for(o in n=[],i)(a=i[o])!=null&&a.compound&&n.push.apply(n,a.glyphIDs);if(n.length>0)for(o in u=this.glyphsFor(n))a=u[o],i[o]=a;return i},t.prototype.encode=function(r,n){var a,i,o,l,c,u,f,A,m,p,g,b,v,y,j;for(i in a=sL.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(r),g={0:0},j=a.charMap)g[(u=j[i]).old]=u.new;for(b in p=a.maxGlyphID,l)b in g||(g[b]=p++);return A=function(C){var S,E;for(S in E={},C)E[C[S]]=S;return E}(g),m=Object.keys(A).sort(function(C,S){return C-S}),v=function(){var C,S,E;for(E=[],C=0,S=m.length;C<S;C++)c=m[C],E.push(A[c]);return E}(),o=this.font.glyf.encode(l,v,g),f=this.font.loca.encode(o.offsets,v),y={cmap:this.font.cmap.raw(),glyf:o.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},t}();Lr.API.PDFObject=function(){var t;function r(){}return t=function(n,a){return(Array(a+1).join("0")+n).slice(-a)},r.convert=function(n){var a,i,o,l;if(Array.isArray(n))return"["+function(){var c,u,f;for(f=[],c=0,u=n.length;c<u;c++)a=n[c],f.push(r.convert(a));return f}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in o=["<<"],n)l=n[i],o.push("/"+i+" "+r.convert(l));return o.push(">>"),o.join(`
`)}return""+n},r}();const wY=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:Zq,AcroFormAppearance:Sr,AcroFormButton:mi,AcroFormCheckBox:Gx,AcroFormChoiceField:l0,AcroFormComboBox:u0,AcroFormEditBox:Vx,AcroFormListBox:c0,AcroFormPasswordField:Wx,AcroFormPushButton:zx,AcroFormRadioButton:d0,AcroFormTextField:Lh,GState:by,ShadingPattern:Eh,TilingPattern:Ym,default:Lr,jsPDF:Lr},Symbol.toStringTag,{value:"Module"}));function iL(t,r,n,a,i){a=a||{};var o=1.15,l=i.internal.scaleFactor,c=i.internal.getFontSize()/l,u=i.getLineHeightFactor?i.getLineHeightFactor():o,f=c*u,A=/\r\n|\r|\n/g,m="",p=1;if((a.valign==="middle"||a.valign==="bottom"||a.halign==="center"||a.halign==="right")&&(m=typeof t=="string"?t.split(A):t,p=m.length||1),n+=c*(2-o),a.valign==="middle"?n-=p/2*f:a.valign==="bottom"&&(n-=p*f),a.halign==="center"||a.halign==="right"){var g=c;if(a.halign==="center"&&(g*=.5),m&&p>=1){for(var b=0;b<m.length;b++)i.text(m[b],r-i.getStringUnitWidth(m[b])*g,n),n+=f;return i}r-=i.getStringUnitWidth(t)*g}return a.halign==="justify"?i.text(t,r,n,{maxWidth:a.maxWidth||100,align:"justify"}):i.text(t,r,n),i}var V6={},$p=function(){function t(r){this.jsPDFDocument=r,this.userStyles={textColor:r.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:r.internal.getFontSize(),fontStyle:r.internal.getFont().fontStyle,font:r.internal.getFont().fontName,lineWidth:r.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:r.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(r,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=r:V6=r},t.unifyColor=function(r){return Array.isArray(r)?r:typeof r=="number"?[r,r,r]:typeof r=="string"?[r]:null},t.prototype.applyStyles=function(r,n){var a,i,o;n===void 0&&(n=!1),r.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(r.fontStyle);var l=this.jsPDFDocument.internal.getFont(),c=l.fontStyle,u=l.fontName;if(r.font&&(u=r.font),r.fontStyle){c=r.fontStyle;var f=this.getFontList()[u];f&&f.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),c=f[0])}if(this.jsPDFDocument.setFont(u,c),r.fontSize&&this.jsPDFDocument.setFontSize(r.fontSize),!n){var A=t.unifyColor(r.fillColor);A&&(a=this.jsPDFDocument).setFillColor.apply(a,A),A=t.unifyColor(r.textColor),A&&(i=this.jsPDFDocument).setTextColor.apply(i,A),A=t.unifyColor(r.lineColor),A&&(o=this.jsPDFDocument).setDrawColor.apply(o,A),typeof r.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(r.lineWidth)}},t.prototype.splitTextToSize=function(r,n,a){return this.jsPDFDocument.splitTextToSize(r,n,a)},t.prototype.rect=function(r,n,a,i,o){return this.jsPDFDocument.rect(r,n,a,i,o)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(r){return this.jsPDFDocument.getTextWidth(r)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(r){this.jsPDFDocument.setPage(r)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return V6||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var r=this.jsPDFDocument.internal.pageSize;return r.width==null&&(r={width:r.getWidth(),height:r.getHeight()}),r},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var r=this.jsPDFDocument;return r.getLineHeightFactor?r.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(r){return r/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var r=this.jsPDFDocument.internal.getCurrentPageInfo();return r?r.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),VC=function(t,r){return VC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},VC(t,r)};function oL(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");VC(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var lL=function(t){oL(r,t);function r(n){var a=t.call(this)||this;return a._element=n,a}return r}(Array);function jY(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function NY(t){var r={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return r[t]}function Bb(t,r,n){n.applyStyles(r,!0);var a=Array.isArray(t)?t:[t],i=a.map(function(o){return n.getTextWidth(o)}).reduce(function(o,l){return Math.max(o,l)},0);return i}function cL(t,r,n,a){var i=r.settings.tableLineWidth,o=r.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:o});var l=uL(i,!1);l&&t.rect(n.x,n.y,r.getWidth(t.pageSize().width),a.y-n.y,l)}function uL(t,r){var n=t>0,a=r||r===0;return n&&a?"DF":n?"S":a?"F":null}function V2(t,r){var n,a,i,o;if(t=t||r,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=r}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:r,top:(a=t.top)!==null&&a!==void 0?a:r,right:(i=t.right)!==null&&i!==void 0?i:r,bottom:(o=t.bottom)!==null&&o!==void 0?o:r}):(typeof t!="number"&&(t=r),{top:t,right:t,bottom:t,left:t})}function dL(t,r){var n=V2(r.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function CY(t,r,n,a,i){var o={},l=1.3333333333333333,c=Kj(r,function(S){return i.getComputedStyle(S).backgroundColor});c!=null&&(o.fillColor=c);var u=Kj(r,function(S){return i.getComputedStyle(S).color});u!=null&&(o.textColor=u);var f=BY(a,n);f&&(o.cellPadding=f);var A="borderTopColor",m=l*n,p=a.borderTopWidth;if(a.borderBottomWidth===p&&a.borderRightWidth===p&&a.borderLeftWidth===p){var g=(parseFloat(p)||0)/m;g&&(o.lineWidth=g)}else o.lineWidth={top:(parseFloat(a.borderTopWidth)||0)/m,right:(parseFloat(a.borderRightWidth)||0)/m,bottom:(parseFloat(a.borderBottomWidth)||0)/m,left:(parseFloat(a.borderLeftWidth)||0)/m},o.lineWidth.top||(o.lineWidth.right?A="borderRightColor":o.lineWidth.bottom?A="borderBottomColor":o.lineWidth.left&&(A="borderLeftColor"));var b=Kj(r,function(S){return i.getComputedStyle(S)[A]});b!=null&&(o.lineColor=b);var v=["left","right","center","justify"];v.indexOf(a.textAlign)!==-1&&(o.halign=a.textAlign),v=["middle","bottom","top"],v.indexOf(a.verticalAlign)!==-1&&(o.valign=a.verticalAlign);var y=parseInt(a.fontSize||"");isNaN(y)||(o.fontSize=y/l);var j=SY(a);j&&(o.fontStyle=j);var C=(a.fontFamily||"").toLowerCase();return t.indexOf(C)!==-1&&(o.font=C),o}function SY(t){var r="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(r="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(r+="italic"),r}function Kj(t,r){var n=AL(t,r);if(!n)return null;var a=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!a||!Array.isArray(a))return null;var i=[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])],o=parseInt(a[4]);return o===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function AL(t,r){var n=r(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:AL(t.parentElement,r):n}function BY(t,r){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],a=96/(72/r),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/r/2,o=n.map(function(c){return parseInt(c||"0")/a}),l=V2(o,0);return i>l.top&&(l.top=i),i>l.bottom&&(l.bottom=i),l}function fL(t,r,n,a,i){var o,l;a===void 0&&(a=!1),i===void 0&&(i=!1);var c;typeof r=="string"?c=n.document.querySelector(r):c=r;var u=Object.keys(t.getFontList()),f=t.scaleFactor(),A=[],m=[],p=[];if(!c)return console.error("Html table could not be found with input: ",r),{head:A,body:m,foot:p};for(var g=0;g<c.rows.length;g++){var b=c.rows[g],v=(l=(o=b?.parentElement)===null||o===void 0?void 0:o.tagName)===null||l===void 0?void 0:l.toLowerCase(),y=EY(u,f,n,b,a,i);y&&(v==="thead"?A.push(y):v==="tfoot"?p.push(y):m.push(y))}return{head:A,body:m,foot:p}}function EY(t,r,n,a,i,o){for(var l=new lL(a),c=0;c<a.cells.length;c++){var u=a.cells[c],f=n.getComputedStyle(u);if(i||f.display!=="none"){var A=void 0;o&&(A=CY(t,u,r,f,n)),l.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:A,_element:u,content:TY(u)})}}var m=n.getComputedStyle(a);if(l.length>0&&(i||m.display!=="none"))return l}function TY(t){var r=t.cloneNode(!0);return r.innerHTML=r.innerHTML.replace(/\n/g,"").replace(/ +/g," "),r.innerHTML=r.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),r.innerText||r.textContent||""}function FY(t,r,n){for(var a=0,i=[t,r,n];a<i.length;a++){var o=i[a];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function nf(t,r,n,a,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),l=1;l<arguments.length;l++){var c=arguments[l];if(c!=null)for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(o[u]=c[u])}return o}function IY(t,r){var n=new $p(t),a=n.getDocumentOptions(),i=n.getGlobalOptions();FY(i,a,r);var o=nf({},i,a,r),l;typeof window<"u"&&(l=window);var c=_Y(i,a,r),u=kY(i,a,r),f=PY(n,o),A=OY(n,o,l);return{id:r.tableId,content:A,hooks:u,styles:c,settings:f}}function _Y(t,r,n){for(var a={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(u){if(u==="columnStyles"){var f=t[u],A=r[u],m=n[u];a.columnStyles=nf({},f,A,m)}else{var p=[t,r,n],g=p.map(function(b){return b[u]||{}});a[u]=nf({},g[0],g[1],g[2])}},o=0,l=Object.keys(a);o<l.length;o++){var c=l[o];i(c)}return a}function kY(t,r,n){for(var a=[t,r,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,l=a;o<l.length;o++){var c=l[o];c.didParseCell&&i.didParseCell.push(c.didParseCell),c.willDrawCell&&i.willDrawCell.push(c.willDrawCell),c.didDrawCell&&i.didDrawCell.push(c.didDrawCell),c.willDrawPage&&i.willDrawPage.push(c.willDrawPage),c.didDrawPage&&i.didDrawPage.push(c.didDrawPage)}return i}function PY(t,r){var n,a,i,o,l,c,u,f,A,m,p,g,b=V2(r.margin,40/t.scaleFactor()),v=(n=DY(t,r.startY))!==null&&n!==void 0?n:b.top,y;r.showFoot===!0?y="everyPage":r.showFoot===!1?y="never":y=(a=r.showFoot)!==null&&a!==void 0?a:"everyPage";var j;r.showHead===!0?j="everyPage":r.showHead===!1?j="never":j=(i=r.showHead)!==null&&i!==void 0?i:"everyPage";var C=(o=r.useCss)!==null&&o!==void 0?o:!1,S=r.theme||(C?"plain":"striped"),E=!!r.horizontalPageBreak,D=(l=r.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(c=r.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:C,theme:S,startY:v,margin:b,pageBreak:(u=r.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(f=r.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(A=r.tableWidth)!==null&&A!==void 0?A:"auto",showHead:j,showFoot:y,tableLineWidth:(m=r.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(p=r.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:E,horizontalPageBreakRepeat:D,horizontalPageBreakBehaviour:(g=r.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function DY(t,r){var n=t.getLastAutoTable(),a=t.scaleFactor(),i=t.pageNumber(),o=!1;if(n&&n.startPageNumber){var l=n.startPageNumber+n.pageNumber-1;o=l===i}return typeof r=="number"?r:(r==null||r===!1)&&o&&n?.finalY!=null?n.finalY+20/a:null}function OY(t,r,n){var a=r.head||[],i=r.body||[],o=r.foot||[];if(r.html){var l=r.includeHiddenHtml;if(n){var c=fL(t,r.html,n,l,r.useCss)||{};a=c.head||a,i=c.body||a,o=c.foot||a}else console.error("Cannot parse html in non browser environment")}var u=r.columns||LY(a,i,o);return{columns:u,head:a,body:i,foot:o}}function LY(t,r,n){var a=t[0]||r[0]||n[0]||[],i=[];return Object.keys(a).filter(function(o){return o!=="_element"}).forEach(function(o){var l=1,c;Array.isArray(a)?c=a[parseInt(o)]:c=a[o],typeof c=="object"&&!Array.isArray(c)&&(l=c?.colSpan||1);for(var u=0;u<l;u++){var f=void 0;Array.isArray(a)?f=i.length:f=o+(u>0?"_".concat(u):"");var A={dataKey:f};i.push(A)}}),i}var zC=function(){function t(r,n,a){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=a,this.doc=r.getDocument()}return t}(),UY=function(t){oL(r,t);function r(n,a,i,o,l,c){var u=t.call(this,n,a,c)||this;return u.cell=i,u.row=o,u.column=l,u.section=o.section,u}return r}(zC),MY=function(){function t(r,n){this.pageNumber=1,this.id=r.id,this.settings=r.settings,this.styles=r.styles,this.hooks=r.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(r){return this.head.reduce(function(n,a){return n+a.getMaxCellHeight(r)},0)},t.prototype.getFootHeight=function(r){return this.foot.reduce(function(n,a){return n+a.getMaxCellHeight(r)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(r,n,a,i,o,l){for(var c=0,u=n;c<u.length;c++){var f=u[c],A=new UY(r,this,a,i,o,l),m=f(A)===!1;if(a.text=Array.isArray(a.text)?a.text:[a.text],m)return!1}return!0},t.prototype.callEndPageHooks=function(r,n){r.applyStyles(r.userStyles);for(var a=0,i=this.hooks.didDrawPage;a<i.length;a++){var o=i[a];o(new zC(r,this,n))}},t.prototype.callWillDrawPageHooks=function(r,n){for(var a=0,i=this.hooks.willDrawPage;a<i.length;a++){var o=i[a];o(new zC(r,this,n))}},t.prototype.getWidth=function(r){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,o){return i+o.wrappedWidth},0);return n}else{var a=this.settings.margin;return r-a.left-a.right}},t}(),hL=function(){function t(r,n,a,i,o){o===void 0&&(o=!1),this.height=0,this.raw=r,r instanceof lL&&(this.raw=r._element,this.element=r._element),this.index=n,this.section=a,this.cells=i,this.spansMultiplePages=o}return t.prototype.getMaxCellHeight=function(r){var n=this;return r.reduce(function(a,i){var o;return Math.max(a,((o=n.cells[i.index])===null||o===void 0?void 0:o.height)||0)},0)},t.prototype.hasRowSpan=function(r){var n=this;return r.filter(function(a){var i=n.cells[a.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(r,n){return this.getMaxCellHeight(n)<=r},t.prototype.getMinimumRowHeight=function(r,n){var a=this;return r.reduce(function(i,o){var l=a.cells[o.index];if(!l)return 0;var c=n.getLineHeight(l.styles.fontSize),u=l.padding("vertical"),f=u+c;return f>i?f:i},0)},t}(),mL=function(){function t(r,n,a){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=a,this.raw=r;var o=r;r!=null&&typeof r=="object"&&!Array.isArray(r)?(this.rowSpan=r.rowSpan||1,this.colSpan=r.colSpan||1,o=(i=r.content)!==null&&i!==void 0?i:r,r._element&&(this.raw=r._element)):(this.rowSpan=1,this.colSpan=1);var l=o!=null?""+o:"",c=/\r\n|\r|\n/g;this.text=l.split(c)}return t.prototype.getTextPos=function(){var r;if(this.styles.valign==="top")r=this.y+this.padding("top");else if(this.styles.valign==="bottom")r=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");r=this.y+n/2+this.padding("top")}var a;if(this.styles.halign==="right")a=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");a=this.x+i/2+this.padding("left")}else a=this.x+this.padding("left");return{x:a,y:r}},t.prototype.getContentHeight=function(r,n){n===void 0&&(n=1.15);var a=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/r*n,o=a*i+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},t.prototype.padding=function(r){var n=V2(this.styles.cellPadding,0);return r==="vertical"?n.top+n.bottom:r==="horizontal"?n.left+n.right:n[r]},t}(),RY=function(){function t(r,n,a){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=r,this.raw=n,this.index=a}return t.prototype.getMaxCustomCellWidth=function(r){for(var n=0,a=0,i=r.allRows();a<i.length;a++){var o=i[a],l=o.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(n=Math.max(n,l.styles.cellWidth))}return n},t}();function QY(t,r){HY(t,r);var n=[],a=0;r.columns.forEach(function(o){var l=o.getMaxCustomCellWidth(r);l?o.width=l:(o.width=o.wrappedWidth,n.push(o)),a+=o.width});var i=r.getWidth(t.pageSize().width)-a;i&&(i=GC(n,i,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),i&&(i=GC(n,i,function(o){return o.minWidth})),i=Math.abs(i),!r.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),KY(r),VY(r,t),$Y(r)}function HY(t,r){var n=t.scaleFactor(),a=r.settings.horizontalPageBreak,i=dL(t,r);r.allRows().forEach(function(o){for(var l=0,c=r.columns;l<c.length;l++){var u=c[l],f=o.cells[u.index];if(f){var A=r.hooks.didParseCell;r.callCellHooks(t,A,f,o,u,null);var m=f.padding("horizontal");f.contentWidth=Bb(f.text,f.styles,t)+m;var p=Bb(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,t);if(f.minReadableWidth=p+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||a===!0)f.contentWidth>i?(f.minWidth=i,f.wrappedWidth=i):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var g=10/n;f.minWidth=f.styles.minCellWidth||g,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),r.allRows().forEach(function(o){for(var l=0,c=r.columns;l<c.length;l++){var u=c[l],f=o.cells[u.index];if(f&&f.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,f.wrappedWidth),u.minWidth=Math.max(u.minWidth,f.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,f.minReadableWidth);else{var A=r.styles.columnStyles[u.dataKey]||r.styles.columnStyles[u.index]||{},m=A.cellWidth||A.minCellWidth;m&&typeof m=="number"&&(u.minWidth=m,u.wrappedWidth=m)}f&&(f.colSpan>1&&!u.minWidth&&(u.minWidth=f.minWidth),f.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=f.minWidth))}})}function GC(t,r,n){for(var a=r,i=t.reduce(function(g,b){return g+b.wrappedWidth},0),o=0;o<t.length;o++){var l=t[o],c=l.wrappedWidth/i,u=a*c,f=l.width+u,A=n(l),m=f<A?A:f;r-=m-l.width,l.width=m}if(r=Math.round(r*1e10)/1e10,r){var p=t.filter(function(g){return r<0?g.width>n(g):!0});p.length&&(r=GC(p,r,n))}return r}function $Y(t){for(var r={},n=1,a=t.allRows(),i=0;i<a.length;i++)for(var o=a[i],l=0,c=t.columns;l<c.length;l++){var u=c[l],f=r[u.index];if(n>1)n--,delete o.cells[u.index];else if(f)f.cell.height+=o.height,n=f.cell.colSpan,delete o.cells[u.index],f.left--,f.left<=1&&delete r[u.index];else{var A=o.cells[u.index];if(!A)continue;if(A.height=o.height,A.rowSpan>1){var m=a.length-i,p=A.rowSpan>m?m:A.rowSpan;r[u.index]={cell:A,left:p,row:o}}}}}function KY(t){for(var r=t.allRows(),n=0;n<r.length;n++)for(var a=r[n],i=null,o=0,l=0,c=0;c<t.columns.length;c++){var u=t.columns[c];if(l-=1,l>1&&t.columns[c+1])o+=u.width,delete a.cells[u.index];else if(i){var f=i;delete a.cells[u.index],i=null,f.width=u.width+o}else{var f=a.cells[u.index];if(!f)continue;if(l=f.colSpan,o=0,f.colSpan>1){i=f,o+=u.width;continue}f.width=u.width+o}}}function VY(t,r){for(var n={count:0,height:0},a=0,i=t.allRows();a<i.length;a++){for(var o=i[a],l=0,c=t.columns;l<c.length;l++){var u=c[l],f=o.cells[u.index];if(f){r.applyStyles(f.styles,!0);var A=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=r.splitTextToSize(f.text,A+1/r.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=z6(f.text,A,f.styles,r,"...");else if(f.styles.overflow==="hidden")f.text=z6(f.text,A,f.styles,r,"");else if(typeof f.styles.overflow=="function"){var m=f.styles.overflow(f.text,A);typeof m=="string"?f.text=[m]:f.text=m}f.contentHeight=f.getContentHeight(r.scaleFactor(),r.getLineHeightFactor());var p=f.contentHeight/f.rowSpan;f.rowSpan>1&&n.count*n.height<p*f.rowSpan?n={height:p,count:f.rowSpan}:n&&n.count>0&&n.height>p&&(p=n.height),p>o.height&&(o.height=p)}}n.count--}}function z6(t,r,n,a,i){return t.map(function(o){return zY(o,r,n,a,i)})}function zY(t,r,n,a,i){var o=1e4*a.scaleFactor();if(r=Math.ceil(r*o)/o,r>=Bb(t,n,a))return t;for(;r<Bb(t+i,n,a)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function GY(t,r){var n=new $p(t),a=WY(r,n.scaleFactor()),i=new MY(r,a);return QY(n,i),n.applyStyles(n.userStyles),i}function WY(t,r){var n=t.content,a=YY(n.columns);if(n.head.length===0){var i=G6(a,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=G6(a,"foot");i&&n.foot.push(i)}var o=t.settings.theme,l=t.styles;return{columns:a,head:Vj("head",n.head,a,l,o,r),body:Vj("body",n.body,a,l,o,r),foot:Vj("foot",n.foot,a,l,o,r)}}function Vj(t,r,n,a,i,o){var l={},c=r.map(function(u,f){for(var A=0,m={},p=0,g=0,b=0,v=n;b<v.length;b++){var y=v[b];if(l[y.index]==null||l[y.index].left===0)if(g===0){var j=void 0;Array.isArray(u)?j=u[y.index-p-A]:j=u[y.dataKey];var C={};typeof j=="object"&&!Array.isArray(j)&&(C=j?.styles||{});var S=XY(t,y,f,i,a,o,C),E=new mL(j,S,t);m[y.dataKey]=E,m[y.index]=E,g=E.colSpan-1,l[y.index]={left:E.rowSpan-1,times:g}}else g--,p++;else l[y.index].left--,g=l[y.index].times,A++}return new hL(u,f,t,m)});return c}function G6(t,r){var n={};return t.forEach(function(a){if(a.raw!=null){var i=qY(r,a.raw);i!=null&&(n[a.dataKey]=i)}}),Object.keys(n).length>0?n:null}function qY(t,r){if(t==="head"){if(typeof r=="object")return r.header||null;if(typeof r=="string"||typeof r=="number")return r}else if(t==="foot"&&typeof r=="object")return r.footer;return null}function YY(t){return t.map(function(r,n){var a,i;return typeof r=="object"?i=(a=r.dataKey)!==null&&a!==void 0?a:n:i=n,new RY(i,r,n)})}function XY(t,r,n,a,i,o,l){var c=NY(a),u;t==="head"?u=i.headStyles:t==="body"?u=i.bodyStyles:t==="foot"&&(u=i.footStyles);var f=nf({},c.table,c[t],i.styles,u),A=i.columnStyles[r.dataKey]||i.columnStyles[r.index]||{},m=t==="body"?A:{},p=t==="body"&&n%2===0?nf({},c.alternateRow,i.alternateRowStyles):{},g=jY(o),b=nf({},g,f,p,m);return nf(b,l)}function JY(t,r,n){var a;n===void 0&&(n={});var i=dL(t,r),o=new Map,l=[],c=[],u=[];Array.isArray(r.settings.horizontalPageBreakRepeat)?u=r.settings.horizontalPageBreakRepeat:(typeof r.settings.horizontalPageBreakRepeat=="string"||typeof r.settings.horizontalPageBreakRepeat=="number")&&(u=[r.settings.horizontalPageBreakRepeat]),u.forEach(function(p){var g=r.columns.find(function(b){return b.dataKey===p||b.index===p});g&&!o.has(g.index)&&(o.set(g.index,!0),l.push(g.index),c.push(r.columns[g.index]),i-=g.wrappedWidth)});for(var f=!0,A=(a=n?.start)!==null&&a!==void 0?a:0;A<r.columns.length;){if(o.has(A)){A++;continue}var m=r.columns[A].wrappedWidth;if(f||i>=m)f=!1,l.push(A),c.push(r.columns[A]),i-=m;else break;A++}return{colIndexes:l,columns:c,lastIndex:A-1}}function ZY(t,r){for(var n=[],a=0;a<r.columns.length;a++){var i=JY(t,r,{start:a});i.columns.length&&(n.push(i),a=i.lastIndex)}return n}function eX(t,r){var n=r.settings,a=n.startY,i=n.margin,o={x:i.left,y:a},l=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns),c=a+i.bottom+l;if(n.pageBreak==="avoid"){var u=r.body,f=u.reduce(function(p,g){return p+g.height},0);c+=f}var A=new $p(t);(n.pageBreak==="always"||n.startY!=null&&c>A.pageSize().height)&&(gL(A),o.y=i.top),r.callWillDrawPageHooks(A,o);var m=nf({},o);r.startPageNumber=A.pageNumber(),n.horizontalPageBreak?tX(A,r,m,o):(A.applyStyles(A.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&r.head.forEach(function(p){return vf(A,r,p,o,r.columns)}),A.applyStyles(A.userStyles),r.body.forEach(function(p,g){var b=g===r.body.length-1;Eb(A,r,p,b,m,o,r.columns)}),A.applyStyles(A.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&r.foot.forEach(function(p){return vf(A,r,p,o,r.columns)})),cL(A,r,m,o),r.callEndPageHooks(A,o),r.finalY=o.y,t.lastAutoTable=r,A.applyStyles(A.userStyles)}function tX(t,r,n,a){var i=ZY(t,r),o=r.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(f,A){t.applyStyles(t.userStyles),A>0?qx(t,r,n,a,f.columns,!0):W6(t,r,a,f.columns),rX(t,r,n,a,f.columns),zj(t,r,a,f.columns)});else for(var l=-1,c=i[0],u=function(){var f=l;if(c){t.applyStyles(t.userStyles);var A=c.columns;l>=0?qx(t,r,n,a,A,!0):W6(t,r,a,A),f=q6(t,r,l+1,a,A),zj(t,r,a,A)}var m=f-l;i.slice(1).forEach(function(p){t.applyStyles(t.userStyles),qx(t,r,n,a,p.columns,!0),q6(t,r,l+1,a,p.columns,m),zj(t,r,a,p.columns)}),l=f};l<r.body.length-1;)u()}function W6(t,r,n,a){var i=r.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&r.head.forEach(function(o){return vf(t,r,o,n,a)})}function rX(t,r,n,a,i){t.applyStyles(t.userStyles),r.body.forEach(function(o,l){var c=l===r.body.length-1;Eb(t,r,o,c,n,a,i)})}function q6(t,r,n,a,i,o){t.applyStyles(t.userStyles),o=o??r.body.length;var l=Math.min(n+o,r.body.length),c=-1;return r.body.slice(n,l).forEach(function(u,f){var A=n+f===r.body.length-1,m=pL(t,r,A,a);u.canEntireRowFit(m,i)&&(vf(t,r,u,a,i),c=n+f)}),c}function zj(t,r,n,a){var i=r.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&r.foot.forEach(function(o){return vf(t,r,o,n,a)})}function nX(t,r,n){var a=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),o=Math.floor((r-i)/a);return Math.max(0,o)}function sX(t,r,n,a){var i={};t.spansMultiplePages=!0,t.height=0;for(var o=0,l=0,c=n.columns;l<c.length;l++){var u=c[l],f=t.cells[u.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var A=new mL(f.raw,f.styles,f.section);A=nf(A,f),A.text=[];var m=nX(f,r,a);f.text.length>m&&(A.text=f.text.splice(m,f.text.length));var p=a.scaleFactor(),g=a.getLineHeightFactor();f.contentHeight=f.getContentHeight(p,g),f.contentHeight>=r&&(f.contentHeight=r,A.styles.minCellHeight-=r),f.contentHeight>t.height&&(t.height=f.contentHeight),A.contentHeight=A.getContentHeight(p,g),A.contentHeight>o&&(o=A.contentHeight),i[u.index]=A}}var b=new hL(t.raw,-1,t.section,i,!0);b.height=o;for(var v=0,y=n.columns;v<y.length;v++){var u=y[v],A=b.cells[u.index];A&&(A.height=b.height);var f=t.cells[u.index];f&&(f.height=t.height)}return b}function aX(t,r,n,a){var i=t.pageSize().height,o=a.settings.margin,l=o.top+o.bottom,c=i-l;r.section==="body"&&(c-=a.getHeadHeight(a.columns)+a.getFootHeight(a.columns));var u=r.getMinimumRowHeight(a.columns,t),f=u<n;if(u>c)return console.error("Will not be able to print row ".concat(r.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var A=r.hasRowSpan(a.columns),m=r.getMaxCellHeight(a.columns)>c;return m?(A&&console.error("The content of row ".concat(r.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(A||a.settings.rowPageBreak==="avoid")}function Eb(t,r,n,a,i,o,l){var c=pL(t,r,a,o);if(n.canEntireRowFit(c,l))vf(t,r,n,o,l);else if(aX(t,n,c,r)){var u=sX(n,c,r,t);vf(t,r,n,o,l),qx(t,r,i,o,l),Eb(t,r,u,a,i,o,l)}else qx(t,r,i,o,l),Eb(t,r,n,a,i,o,l)}function vf(t,r,n,a,i){a.x=r.settings.margin.left;for(var o=0,l=i;o<l.length;o++){var c=l[o],u=n.cells[c.index];if(!u){a.x+=c.width;continue}t.applyStyles(u.styles),u.x=a.x,u.y=a.y;var f=r.callCellHooks(t,r.hooks.willDrawCell,u,n,c,a);if(f===!1){a.x+=c.width;continue}iX(t,u,a);var A=u.getTextPos();iL(u.text,A.x,A.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},t.getDocument()),r.callCellHooks(t,r.hooks.didDrawCell,u,n,c,a),a.x+=c.width}a.y+=n.height}function iX(t,r,n){var a=r.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof a.lineWidth=="number"){var i=uL(a.lineWidth,a.fillColor);i&&t.rect(r.x,n.y,r.width,r.height,i)}else typeof a.lineWidth=="object"&&(a.fillColor&&t.rect(r.x,n.y,r.width,r.height,"F"),oX(t,r,n,a.lineWidth))}function oX(t,r,n,a){var i,o,l,c;a.top&&(i=n.x,o=n.y,l=n.x+r.width,c=n.y,a.right&&(l+=.5*a.right),a.left&&(i-=.5*a.left),u(a.top,i,o,l,c)),a.bottom&&(i=n.x,o=n.y+r.height,l=n.x+r.width,c=n.y+r.height,a.right&&(l+=.5*a.right),a.left&&(i-=.5*a.left),u(a.bottom,i,o,l,c)),a.left&&(i=n.x,o=n.y,l=n.x,c=n.y+r.height,a.top&&(o-=.5*a.top),a.bottom&&(c+=.5*a.bottom),u(a.left,i,o,l,c)),a.right&&(i=n.x+r.width,o=n.y,l=n.x+r.width,c=n.y+r.height,a.top&&(o-=.5*a.top),a.bottom&&(c+=.5*a.bottom),u(a.right,i,o,l,c));function u(f,A,m,p,g){t.getDocument().setLineWidth(f),t.getDocument().line(A,m,p,g,"S")}}function pL(t,r,n,a){var i=r.settings.margin.bottom,o=r.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&n)&&(i+=r.getFootHeight(r.columns)),t.pageSize().height-a.y-i}function qx(t,r,n,a,i,o){i===void 0&&(i=[]),o===void 0&&(o=!1),t.applyStyles(t.userStyles),r.settings.showFoot==="everyPage"&&!o&&r.foot.forEach(function(c){return vf(t,r,c,a,i)}),r.callEndPageHooks(t,a);var l=r.settings.margin;cL(t,r,n,a),gL(t),r.pageNumber++,a.x=l.left,a.y=l.top,n.y=l.top,r.callWillDrawPageHooks(t,a),r.settings.showHead==="everyPage"&&(r.head.forEach(function(c){return vf(t,r,c,a,i)}),t.applyStyles(t.userStyles))}function gL(t){var r=t.pageNumber();t.setPage(r+1);var n=t.pageNumber();return n===r?(t.addPage(),!0):!1}function xL(t){t.API.autoTable=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var a=r[0],i=IY(this,a),o=GY(this,i);return eX(this,o),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(r,n,a,i){iL(r,n,a,i,this)},t.API.autoTableSetDefaults=function(r){return $p.setDefaults(r,this),this},t.autoTableSetDefaults=function(r,n){$p.setDefaults(r,n)},t.API.autoTableHtmlToJson=function(r,n){var a;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new $p(this),o=fL(i,r,window,n,!1),l=o.head,c=o.body,u=((a=l[0])===null||a===void 0?void 0:a.map(function(f){return f.content}))||[];return{columns:u,rows:c,data:c}}}var Gj;try{if(typeof window<"u"&&window){var Y6=window,X6=Y6.jsPDF||((Gj=Y6.jspdf)===null||Gj===void 0?void 0:Gj.jsPDF);X6&&xL(X6)}}catch(t){console.error("Could not apply autoTable plugin",t)}function lX(t){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}lX(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var sv=t=>typeof t=="number"&&!isNaN(t),j0=t=>typeof t=="string",bf=t=>typeof t=="function",cX=t=>j0(t)||sv(t),WC=t=>j0(t)||bf(t)?t:null,uX=(t,r)=>t===!1||sv(t)&&t>0?t:r,qC=t=>w.isValidElement(t)||j0(t)||bf(t)||sv(t);function dX(t,r,n=300){let{scrollHeight:a,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=a+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(r,n)})})}function AX({enter:t,exit:r,appendPosition:n=!1,collapse:a=!0,collapseDuration:i=300}){return function({children:o,position:l,preventExitTransition:c,done:u,nodeRef:f,isIn:A,playToast:m}){let p=n?`${t}--${l}`:t,g=n?`${r}--${l}`:r,b=w.useRef(0);return w.useLayoutEffect(()=>{let v=f.current,y=p.split(" "),j=C=>{C.target===f.current&&(m(),v.removeEventListener("animationend",j),v.removeEventListener("animationcancel",j),b.current===0&&C.type!=="animationcancel"&&v.classList.remove(...y))};v.classList.add(...y),v.addEventListener("animationend",j),v.addEventListener("animationcancel",j)},[]),w.useEffect(()=>{let v=f.current,y=()=>{v.removeEventListener("animationend",y),a?dX(v,u,i):u()};A||(c?y():(b.current=1,v.className+=` ${g}`,v.addEventListener("animationend",y)))},[A]),Un.createElement(Un.Fragment,null,o)}}function J6(t,r){return{content:yL(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:r}}function yL(t,r,n=!1){return w.isValidElement(t)&&!j0(t.type)?w.cloneElement(t,{closeToast:r.closeToast,toastProps:r,data:r.data,isPaused:n}):bf(t)?t({closeToast:r.closeToast,toastProps:r,data:r.data,isPaused:n}):t}function fX({closeToast:t,theme:r,ariaLabel:n="close"}){return Un.createElement("button",{className:`Toastify__close-button Toastify__close-button--${r}`,type:"button",onClick:a=>{a.stopPropagation(),t(!0)},"aria-label":n},Un.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Un.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function hX({delay:t,isRunning:r,closeToast:n,type:a="default",hide:i,className:o,controlledProgress:l,progress:c,rtl:u,isIn:f,theme:A}){let m=i||l&&c===0,p={animationDuration:`${t}ms`,animationPlayState:r?"running":"paused"};l&&(p.transform=`scaleX(${c})`);let g=Ot("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${A}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":u}),b=bf(o)?o({rtl:u,type:a,defaultClassName:g}):Ot(g,o),v={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{f&&n()}};return Un.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},Un.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${A} Toastify__progress-bar--${a}`}),Un.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:b,style:p,...v}))}var mX=1,vL=()=>`${mX++}`;function pX(t,r,n){let a=1,i=0,o=[],l=[],c=r,u=new Map,f=new Set,A=C=>(f.add(C),()=>f.delete(C)),m=()=>{l=Array.from(u.values()),f.forEach(C=>C())},p=({containerId:C,toastId:S,updateId:E})=>{let D=C?C!==t:t!==1,k=u.has(S)&&E==null;return D||k},g=(C,S)=>{u.forEach(E=>{var D;(S==null||S===E.props.toastId)&&((D=E.toggle)==null||D.call(E,C))})},b=C=>{var S,E;(E=(S=C.props)==null?void 0:S.onClose)==null||E.call(S,C.removalReason),C.isActive=!1},v=C=>{if(C==null)u.forEach(b);else{let S=u.get(C);S&&b(S)}m()},y=()=>{i-=o.length,o=[]},j=C=>{var S,E;let{toastId:D,updateId:k}=C.props,L=k==null;C.staleId&&u.delete(C.staleId),C.isActive=!0,u.set(D,C),m(),n(J6(C,L?"added":"updated")),L&&((E=(S=C.props).onOpen)==null||E.call(S))};return{id:t,props:c,observe:A,toggle:g,removeToast:v,toasts:u,clearQueue:y,buildToast:(C,S)=>{if(p(S))return;let{toastId:E,updateId:D,data:k,staleId:L,delay:I}=S,Y=D==null;Y&&i++;let Q={...c,style:c.toastStyle,key:a++,...Object.fromEntries(Object.entries(S).filter(([U,K])=>K!=null)),toastId:E,updateId:D,data:k,isIn:!1,className:WC(S.className||c.toastClassName),progressClassName:WC(S.progressClassName||c.progressClassName),autoClose:S.isLoading?!1:uX(S.autoClose,c.autoClose),closeToast(U){u.get(E).removalReason=U,v(E)},deleteToast(){let U=u.get(E);if(U!=null){if(n(J6(U,"removed")),u.delete(E),i--,i<0&&(i=0),o.length>0){j(o.shift());return}m()}}};Q.closeButton=c.closeButton,S.closeButton===!1||qC(S.closeButton)?Q.closeButton=S.closeButton:S.closeButton===!0&&(Q.closeButton=qC(c.closeButton)?c.closeButton:!0);let H={content:C,props:Q,staleId:L};c.limit&&c.limit>0&&i>c.limit&&Y?o.push(H):sv(I)?setTimeout(()=>{j(H)},I):j(H)},setProps(C){c=C},setToggle:(C,S)=>{let E=u.get(C);E&&(E.toggle=S)},isToastActive:C=>{var S;return(S=u.get(C))==null?void 0:S.isActive},getSnapshot:()=>l}}var sl=new Map,wy=[],YC=new Set,gX=t=>YC.forEach(r=>r(t)),bL=()=>sl.size>0;function xX(){wy.forEach(t=>jL(t.content,t.options)),wy=[]}var yX=(t,{containerId:r})=>{var n;return(n=sl.get(r||1))==null?void 0:n.toasts.get(t)};function wL(t,r){var n;if(r)return!!((n=sl.get(r))!=null&&n.isToastActive(t));let a=!1;return sl.forEach(i=>{i.isToastActive(t)&&(a=!0)}),a}function vX(t){if(!bL()){wy=wy.filter(r=>t!=null&&r.options.toastId!==t);return}if(t==null||cX(t))sl.forEach(r=>{r.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let r=sl.get(t.containerId);r?r.removeToast(t.id):sl.forEach(n=>{n.removeToast(t.id)})}}var bX=(t={})=>{sl.forEach(r=>{r.props.limit&&(!t.containerId||r.id===t.containerId)&&r.clearQueue()})};function jL(t,r){qC(t)&&(bL()||wy.push({content:t,options:r}),sl.forEach(n=>{n.buildToast(t,r)}))}function wX(t){var r;(r=sl.get(t.containerId||1))==null||r.setToggle(t.id,t.fn)}function NL(t,r){sl.forEach(n=>{(r==null||!(r!=null&&r.containerId)||r?.containerId===n.id)&&n.toggle(t,r?.id)})}function jX(t){let r=t.containerId||1;return{subscribe(n){let a=pX(r,t,gX);sl.set(r,a);let i=a.observe(n);return xX(),()=>{i(),sl.delete(r)}},setProps(n){var a;(a=sl.get(r))==null||a.setProps(n)},getSnapshot(){var n;return(n=sl.get(r))==null?void 0:n.getSnapshot()}}}function NX(t){return YC.add(t),()=>{YC.delete(t)}}function CX(t){return t&&(j0(t.toastId)||sv(t.toastId))?t.toastId:vL()}function av(t,r){return jL(t,r),r.toastId}function z2(t,r){return{...r,type:r&&r.type||t,toastId:CX(r)}}function G2(t){return(r,n)=>av(r,z2(t,n))}function mr(t,r){return av(t,z2("default",r))}mr.loading=(t,r)=>av(t,z2("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...r}));function SX(t,{pending:r,error:n,success:a},i){let o;r&&(o=j0(r)?mr.loading(r,i):mr.loading(r.render,{...i,...r}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(f,A,m)=>{if(A==null){mr.dismiss(o);return}let p={type:f,...l,...i,data:m},g=j0(A)?{render:A}:A;return o?mr.update(o,{...p,...g}):mr(g.render,{...p,...g}),m},u=bf(t)?t():t;return u.then(f=>c("success",a,f)).catch(f=>c("error",n,f)),u}mr.promise=SX;mr.success=G2("success");mr.info=G2("info");mr.error=G2("error");mr.warning=G2("warning");mr.warn=mr.warning;mr.dark=(t,r)=>av(t,z2("default",{theme:"dark",...r}));function BX(t){vX(t)}mr.dismiss=BX;mr.clearWaitingQueue=bX;mr.isActive=wL;mr.update=(t,r={})=>{let n=yX(t,r);if(n){let{props:a,content:i}=n,o={delay:100,...a,...r,toastId:r.toastId||t,updateId:vL()};o.toastId!==t&&(o.staleId=t);let l=o.render||i;delete o.render,av(l,o)}};mr.done=t=>{mr.update(t,{progress:1})};mr.onChange=NX;mr.play=t=>NL(!0,t);mr.pause=t=>NL(!1,t);function EX(t){var r;let{subscribe:n,getSnapshot:a,setProps:i}=w.useRef(jX(t)).current;i(t);let o=(r=w.useSyncExternalStore(n,a,a))==null?void 0:r.slice();function l(c){if(!o)return[];let u=new Map;return t.newestOnTop&&o.reverse(),o.forEach(f=>{let{position:A}=f.props;u.has(A)||u.set(A,[]),u.get(A).push(f)}),Array.from(u,f=>c(f[0],f[1]))}return{getToastToRender:l,isToastActive:wL,count:o?.length}}function TX(t){let[r,n]=w.useState(!1),[a,i]=w.useState(!1),o=w.useRef(null),l=w.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:u,closeToast:f,onClick:A,closeOnClick:m}=t;wX({id:t.toastId,containerId:t.containerId,fn:n}),w.useEffect(()=>{if(t.pauseOnFocusLoss)return p(),()=>{g()}},[t.pauseOnFocusLoss]);function p(){document.hasFocus()||j(),window.addEventListener("focus",y),window.addEventListener("blur",j)}function g(){window.removeEventListener("focus",y),window.removeEventListener("blur",j)}function b(L){if(t.draggable===!0||t.draggable===L.pointerType){C();let I=o.current;l.canCloseOnClick=!0,l.canDrag=!0,I.style.transition="none",t.draggableDirection==="x"?(l.start=L.clientX,l.removalDistance=I.offsetWidth*(t.draggablePercent/100)):(l.start=L.clientY,l.removalDistance=I.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function v(L){let{top:I,bottom:Y,left:Q,right:H}=o.current.getBoundingClientRect();L.nativeEvent.type!=="touchend"&&t.pauseOnHover&&L.clientX>=Q&&L.clientX<=H&&L.clientY>=I&&L.clientY<=Y?j():y()}function y(){n(!0)}function j(){n(!1)}function C(){l.didMove=!1,document.addEventListener("pointermove",E),document.addEventListener("pointerup",D)}function S(){document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",D)}function E(L){let I=o.current;if(l.canDrag&&I){l.didMove=!0,r&&j(),t.draggableDirection==="x"?l.delta=L.clientX-l.start:l.delta=L.clientY-l.start,l.start!==L.clientX&&(l.canCloseOnClick=!1);let Y=t.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;I.style.transform=`translate3d(${Y},0)`,I.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function D(){S();let L=o.current;if(l.canDrag&&l.didMove&&L){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}L.style.transition="transform 0.2s, opacity 0.2s",L.style.removeProperty("transform"),L.style.removeProperty("opacity")}}let k={onPointerDown:b,onPointerUp:v};return c&&u&&(k.onMouseEnter=j,t.stacked||(k.onMouseLeave=y)),m&&(k.onClick=L=>{A&&A(L),l.canCloseOnClick&&f(!0)}),{playToast:y,pauseToast:j,isRunning:r,preventExitTransition:a,toastRef:o,eventHandlers:k}}var FX=typeof window<"u"?w.useLayoutEffect:w.useEffect,W2=({theme:t,type:r,isLoading:n,...a})=>Un.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${r})`,...a});function IX(t){return Un.createElement(W2,{...t},Un.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function _X(t){return Un.createElement(W2,{...t},Un.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function kX(t){return Un.createElement(W2,{...t},Un.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function PX(t){return Un.createElement(W2,{...t},Un.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function DX(){return Un.createElement("div",{className:"Toastify__spinner"})}var XC={info:_X,warning:IX,success:kX,error:PX,spinner:DX},OX=t=>t in XC;function LX({theme:t,type:r,isLoading:n,icon:a}){let i=null,o={theme:t,type:r};return a===!1||(bf(a)?i=a({...o,isLoading:n}):w.isValidElement(a)?i=w.cloneElement(a,o):n?i=XC.spinner():OX(r)&&(i=XC[r](o))),i}var UX=t=>{let{isRunning:r,preventExitTransition:n,toastRef:a,eventHandlers:i,playToast:o}=TX(t),{closeButton:l,children:c,autoClose:u,onClick:f,type:A,hideProgressBar:m,closeToast:p,transition:g,position:b,className:v,style:y,progressClassName:j,updateId:C,role:S,progress:E,rtl:D,toastId:k,deleteToast:L,isIn:I,isLoading:Y,closeOnClick:Q,theme:H,ariaLabel:U}=t,K=Ot("Toastify__toast",`Toastify__toast-theme--${H}`,`Toastify__toast--${A}`,{"Toastify__toast--rtl":D},{"Toastify__toast--close-on-click":Q}),X=bf(v)?v({rtl:D,position:b,type:A,defaultClassName:K}):Ot(K,v),Z=LX(t),ee=!!E||!u,de={closeToast:p,type:A,theme:H},Ne=null;return l===!1||(bf(l)?Ne=l(de):w.isValidElement(l)?Ne=w.cloneElement(l,de):Ne=fX(de)),Un.createElement(g,{isIn:I,done:L,position:b,preventExitTransition:n,nodeRef:a,playToast:o},Un.createElement("div",{id:k,tabIndex:0,onClick:f,"data-in":I,className:X,...i,style:y,ref:a,...I&&{role:S,"aria-label":U}},Z!=null&&Un.createElement("div",{className:Ot("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!Y})},Z),yL(c,t,!r),Ne,!t.customProgressBar&&Un.createElement(hX,{...C&&!ee?{key:`p-${C}`}:{},rtl:D,theme:H,delay:u,isRunning:r,isIn:I,closeToast:p,hide:m,type:A,className:j,controlledProgress:ee,progress:E||0})))},MX=(t,r=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:r}),RX=AX(MX("bounce",!0)),QX={position:"top-right",transition:RX,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function L5(t){let r={...QX,...t},n=t.stacked,[a,i]=w.useState(!0),o=w.useRef(null),{getToastToRender:l,isToastActive:c,count:u}=EX(r),{className:f,style:A,rtl:m,containerId:p,hotKeys:g}=r;function b(y){let j=Ot("Toastify__toast-container",`Toastify__toast-container--${y}`,{"Toastify__toast-container--rtl":m});return bf(f)?f({position:y,rtl:m,defaultClassName:j}):Ot(j,WC(f))}function v(){n&&(i(!0),mr.play())}return FX(()=>{var y;if(n){let j=o.current.querySelectorAll('[data-in="true"]'),C=12,S=(y=r.position)==null?void 0:y.includes("top"),E=0,D=0;Array.from(j).reverse().forEach((k,L)=>{let I=k;I.classList.add("Toastify__toast--stacked"),L>0&&(I.dataset.collapsed=`${a}`),I.dataset.pos||(I.dataset.pos=S?"top":"bot");let Y=E*(a?.2:1)+(a?0:C*L);I.style.setProperty("--y",`${S?Y:Y*-1}px`),I.style.setProperty("--g",`${C}`),I.style.setProperty("--s",`${1-(a?D:0)}`),E+=I.offsetHeight,D+=.025})}},[a,u,n]),w.useEffect(()=>{function y(j){var C;let S=o.current;g(j)&&((C=S.querySelector('[tabIndex="0"]'))==null||C.focus(),i(!1),mr.pause()),j.key==="Escape"&&(document.activeElement===S||S!=null&&S.contains(document.activeElement))&&(i(!0),mr.play())}return document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[g]),Un.createElement("section",{ref:o,className:"Toastify",id:p,onMouseEnter:()=>{n&&(i(!1),mr.pause())},onMouseLeave:v,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":r["aria-label"]},l((y,j)=>{let C=j.length?{...A}:{...A,pointerEvents:"none"};return Un.createElement("div",{tabIndex:-1,className:b(y),"data-stacked":n,style:C,key:`c-${y}`},j.map(({content:S,props:E})=>Un.createElement(UX,{...E,stacked:n,collapseAll:v,isIn:c(E.toastId,E.containerId),key:`t-${E.key}`},S)))}))}var Wj,Z6;function CL(){if(Z6)return Wj;Z6=1;function t(r){var n=typeof r;return r!=null&&(n=="object"||n=="function")}return Wj=t,Wj}var qj,eF;function HX(){if(eF)return qj;eF=1;var t=typeof Fh=="object"&&Fh&&Fh.Object===Object&&Fh;return qj=t,qj}var Yj,tF;function SL(){if(tF)return Yj;tF=1;var t=HX(),r=typeof self=="object"&&self&&self.Object===Object&&self,n=t||r||Function("return this")();return Yj=n,Yj}var Xj,rF;function $X(){if(rF)return Xj;rF=1;var t=SL(),r=function(){return t.Date.now()};return Xj=r,Xj}var Jj,nF;function KX(){if(nF)return Jj;nF=1;var t=/\s/;function r(n){for(var a=n.length;a--&&t.test(n.charAt(a)););return a}return Jj=r,Jj}var Zj,sF;function VX(){if(sF)return Zj;sF=1;var t=KX(),r=/^\s+/;function n(a){return a&&a.slice(0,t(a)+1).replace(r,"")}return Zj=n,Zj}var e4,aF;function BL(){if(aF)return e4;aF=1;var t=SL(),r=t.Symbol;return e4=r,e4}var t4,iF;function zX(){if(iF)return t4;iF=1;var t=BL(),r=Object.prototype,n=r.hasOwnProperty,a=r.toString,i=t?t.toStringTag:void 0;function o(l){var c=n.call(l,i),u=l[i];try{l[i]=void 0;var f=!0}catch{}var A=a.call(l);return f&&(c?l[i]=u:delete l[i]),A}return t4=o,t4}var r4,oF;function GX(){if(oF)return r4;oF=1;var t=Object.prototype,r=t.toString;function n(a){return r.call(a)}return r4=n,r4}var n4,lF;function WX(){if(lF)return n4;lF=1;var t=BL(),r=zX(),n=GX(),a="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function l(c){return c==null?c===void 0?i:a:o&&o in Object(c)?r(c):n(c)}return n4=l,n4}var s4,cF;function qX(){if(cF)return s4;cF=1;function t(r){return r!=null&&typeof r=="object"}return s4=t,s4}var a4,uF;function YX(){if(uF)return a4;uF=1;var t=WX(),r=qX(),n="[object Symbol]";function a(i){return typeof i=="symbol"||r(i)&&t(i)==n}return a4=a,a4}var i4,dF;function XX(){if(dF)return i4;dF=1;var t=VX(),r=CL(),n=YX(),a=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function u(f){if(typeof f=="number")return f;if(n(f))return a;if(r(f)){var A=typeof f.valueOf=="function"?f.valueOf():f;f=r(A)?A+"":A}if(typeof f!="string")return f===0?f:+f;f=t(f);var m=o.test(f);return m||l.test(f)?c(f.slice(2),m?2:8):i.test(f)?a:+f}return i4=u,i4}var o4,AF;function JX(){if(AF)return o4;AF=1;var t=CL(),r=$X(),n=XX(),a="Expected a function",i=Math.max,o=Math.min;function l(c,u,f){var A,m,p,g,b,v,y=0,j=!1,C=!1,S=!0;if(typeof c!="function")throw new TypeError(a);u=n(u)||0,t(f)&&(j=!!f.leading,C="maxWait"in f,p=C?i(n(f.maxWait)||0,u):p,S="trailing"in f?!!f.trailing:S);function E(K){var X=A,Z=m;return A=m=void 0,y=K,g=c.apply(Z,X),g}function D(K){return y=K,b=setTimeout(I,u),j?E(K):g}function k(K){var X=K-v,Z=K-y,ee=u-X;return C?o(ee,p-Z):ee}function L(K){var X=K-v,Z=K-y;return v===void 0||X>=u||X<0||C&&Z>=p}function I(){var K=r();if(L(K))return Y(K);b=setTimeout(I,k(K))}function Y(K){return b=void 0,S&&A?E(K):(A=m=void 0,g)}function Q(){b!==void 0&&clearTimeout(b),y=0,A=v=m=b=void 0}function H(){return b===void 0?g:Y(r())}function U(){var K=r(),X=L(K);if(A=arguments,m=this,v=K,X){if(b===void 0)return D(v);if(C)return clearTimeout(b),b=setTimeout(I,u),E(v)}return b===void 0&&(b=setTimeout(I,u)),g}return U.cancel=Q,U.flush=H,U}return o4=l,o4}var ZX=JX();const EL=vc(ZX),eJ=()=>{const[t,r]=w.useState(""),[n,a]=w.useState("Unknown School"),[i,o]=w.useState([]),[l,c]=w.useState(!0),[u,f]=w.useState([]),[A,m]=w.useState(!0),[p,g]=w.useState(""),[b,v]=w.useState([]),[y,j]=w.useState(!0),[C,S]=w.useState(""),[E,D]=w.useState(!1),[k,L]=w.useState(!1),[I,Y]=w.useState(null),[Q,H]=w.useState(null),[U,K]=w.useState(""),[X,Z]=w.useState("all"),[ee,de]=w.useState(""),[Ne,Se]=w.useState(""),[ue,xe]=w.useState(!1),[R,G]=w.useState(""),[ne,ae]=w.useState([]),[oe,he]=w.useState(1),[me]=w.useState(10),[te,Ae]=w.useState(1),[V,ie]=w.useState("#2563eb"),pe="https://vidyaastra.com/api";w.useEffect(()=>{try{const Ke=localStorage.getItem("schoolId")||"688dfdc93af0f78ebd4b044a",Tt=localStorage.getItem("color");Ke&&(r(Ke),ie(Tt||"#2563eb"))}catch(Ke){console.error("Error accessing localStorage:",Ke),G("Failed to initialize: "+Ke.message)}},[]),w.useEffect(()=>{t&&(ye(),ge(),le(),Qe())},[t,oe,ee,Ne]);const ye=async()=>{try{c(!0);const Ke=await Ft.get(`${pe}/schools`);if(Ke.data.success&&Array.isArray(Ke.data.data)){o(Ke.data.data);const Tt=Ke.data.data.find(wt=>wt._id===t);a(Tt?.name||"Unknown School")}else o([]),a("Unknown School")}catch(Ke){console.error("Error fetching schools:",Ke.message),a("Unknown School"),G("Failed to load schools: "+Ke.message)}finally{c(!1)}},ge=async()=>{if(t)try{m(!0);const Ke=await Ft.get(`${pe}/class?schoolId=${t}`);Ke.data.success&&Array.isArray(Ke.data.data)?(f(Ke.data.data),g("")):(f([]),g("No classes found"))}catch(Ke){console.error("Error fetching classes:",Ke.message),f([]),g("Failed to load classes: "+Ke.message)}finally{m(!1)}},le=async()=>{if(t)try{j(!0);const Ke=await Ft.get(`${pe}/subject/${t}/subjects`);Ke.data.success&&Array.isArray(Ke.data.data)?(v(Ke.data.data),S("")):(v([]),S("No subjects found"))}catch(Ke){console.error("Error fetching subjects:",Ke.message),v([]),S("Failed to load subjects: "+Ke.message)}finally{j(!1)}},Qe=w.useCallback(EL(async()=>{if(t)try{xe(!0);const Ke=new URLSearchParams({schoolId:t,page:oe,limit:me});if(ee){const wt=ce.filter(Dt=>Dt.className===ee&&(!Ne||Dt.section===Ne)).map(Dt=>Dt._id);wt.length>0&&Ke.append("classIds",wt.join(","))}const Tt=await Ft.get(`${pe}/exams?${Ke.toString()}`);Tt.data.success?(ae(Tt.data.data||[]),Ae(Tt.data.totalPages||1),G("")):(ae([]),Ae(1),G(Tt.data.message||"Failed to fetch exams"))}catch(Ke){console.error("Error fetching exams:",Ke.message),ae([]),Ae(1),G("Error fetching exams: "+Ke.message)}finally{xe(!1)}},300),[t,oe,ee,Ne]),ce=w.useMemo(()=>u.map(Ke=>({_id:Ke._id,className:Ke.className||`Class ${Ke.classNumber||Ke._id}`,section:Ke.section||"",displayName:`${Ke.className||`Class ${Ke.classNumber||Ke._id}`}${Ke.section?` ${Ke.section}`:""}`.trim()})),[u]),se=w.useMemo(()=>b.map(Ke=>({_id:Ke._id,name:Ke.SubjectName||Ke.name||Ke.subjectName||"Unnamed Subject"})),[b]),je=w.useMemo(()=>[...new Set(ce.map(Ke=>Ke.className))].sort(),[ce]),we=w.useMemo(()=>[...new Set(ce.filter(Ke=>Ke.className===ee).map(Ke=>Ke.section).filter(Boolean))].sort(),[ce,ee]),[q,be]=w.useState({examType:"",status:"Scheduled",classId:"",subjects:[]}),Ee=Ke=>{Ke.preventDefault();const{name:Tt,value:wt}=Ke.target;be(Dt=>({...Dt,[Tt]:wt}))},Re=(Ke,Tt,wt)=>{be(Dt=>{const ir=[...Dt.subjects];return ir[Ke]={...ir[Ke],[Tt]:wt},{...Dt,subjects:ir}})},it=()=>{be(Ke=>({...Ke,subjects:[...Ke.subjects,{subjectName:"",date:"",time:"",duration:"",syllabus:""}]}))},et=Ke=>{be(Tt=>({...Tt,subjects:Tt.subjects.filter((wt,Dt)=>Dt!==Ke)}))},Ct=async()=>{if(!t){mr.error("Error: School ID not found. Please login again.");return}G("");try{if(!q.examType||!q.classId||q.subjects.length===0||q.subjects.some(wt=>!wt.subjectName||!wt.date||!wt.time||!wt.duration||!wt.syllabus)){mr.error("Please fill all required fields and add at least one complete subject.");return}const Ke={schoolId:t,classId:q.classId,examType:q.examType,status:q.status,subjects:q.subjects};(Q?await ot(Q._id,Ke):await _t(Ke))&&Ut()}catch(Ke){console.error("Submit error:",Ke),G("Failed to submit: "+Ke.message),mr.error("Failed to submit: "+Ke.message)}},_t=async Ke=>{try{xe(!0);const Tt=await Ft.post(`${pe}/exams`,Ke);return Tt.data.success?(mr.success("Exam created successfully."),await Qe(),!0):(G(Tt.data.message||"Failed to create exam"),mr.error(Tt.data.message||"Failed to create exam"),!1)}catch(Tt){return G("Error creating exam: "+Tt.message),mr.error("Error creating exam: "+Tt.message),!1}finally{xe(!1)}},ot=async(Ke,Tt)=>{try{xe(!0);const wt=await Ft.put(`${pe}/exams/${Ke}`,Tt);return wt.data.success?(mr.success("Exam updated successfully."),await Qe(),!0):(G(wt.data.message||"Failed to update exam"),mr.error(wt.data.message||"Failed to update exam"),!1)}catch(wt){return G("Error updating exam: "+wt.message),mr.error("Error updating exam: "+wt.message),!1}finally{xe(!1)}},Ie=Ke=>{H(Ke),be({examType:Ke.examType||"",status:Ke.status||"Scheduled",classId:Ke.classId?._id||Ke.classId||"",subjects:Ke.subjects?Ke.subjects.map(Tt=>({...Tt})):[]}),D(!0)},qe=Ke=>{Y(Ke),L(!0)},at=async Ke=>{if(confirm("Are you sure you want to delete this exam?"))try{xe(!0);const Tt=await Ft.delete(`${pe}/exams/${Ke._id}`,{data:{schoolId:t}});Tt.data.success?(mr.success("Exam deleted successfully."),await Qe()):(G(Tt.data.message||"Failed to delete exam"),mr.error(Tt.data.message||"Failed to delete exam"))}catch(Tt){G("Error deleting exam: "+Tt.message),mr.error("Error deleting exam: "+Tt.message)}finally{xe(!1)}},Ut=()=>{be({examType:"",status:"Scheduled",classId:"",subjects:[]}),H(null),D(!1),G("")},Ue=Ke=>{const Tt=new Lr,wt=At(Ke.classId);Tt.text(`${n} - ${Ke.examType} Timetable for ${wt}`,14,20),Tt.autoTable({startY:30,head:[["Subject","Date","Time","Duration","Syllabus"]],body:Ke.subjects.map(Dt=>[Dt.subjectName,Dt.date,Dt.time,Dt.duration,Dt.syllabus]),theme:"striped",headStyles:{fillColor:[37,99,235]},styles:{cellPadding:5,fontSize:10,overflow:"linebreak"},columnStyles:{4:{cellWidth:50}}}),Tt.save(`${n}_${Ke.examType}_Timetable.pdf`)},At=w.useCallback(Ke=>{if(!Ke)return"N/A";const Tt=typeof Ke=="object"?Ke._id:Ke,wt=ce.find(Dt=>Dt._id===Tt);return wt?wt.displayName:"N/A"},[ce]),Ce=w.useMemo(()=>ne.map(Ke=>({...Ke,className:At(Ke.classId)})).filter(Ke=>[Ke.examType||"",Ke.className].some(wt=>wt.toLowerCase().includes(U.toLowerCase()))).filter(Ke=>X==="all"?!0:Ke.examType===X),[ne,U,X,At]),tt=()=>{oe>1&&he(Ke=>Ke-1)},gt=()=>{oe<te&&he(Ke=>Ke+1)},Kt=Ke=>{he(Ke)};return t?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"text-white p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:V},children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Exam Timetable Management"}),n!=="Unknown School"&&s.jsxs("span",{className:"text-white font-semibold",children:["(",n,")"]})]}),s.jsxs("button",{onClick:()=>{Ut(),D(!0)},className:"text-white px-6 py-2 rounded-lg flex items-center hover:opacity-90 transition-opacity",style:{backgroundColor:V},disabled:ue||A||y||ce.length===0||se.length===0,title:ue||A||y?"Loading...":ce.length===0?"No classes available":se.length===0?"No subjects available":"Add Exam Timetable",children:[s.jsx($s,{className:"mr-2"}),"Add Exam Timetable"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Class"}),s.jsxs("select",{value:ee,onChange:Ke=>{Ke.preventDefault(),de(Ke.target.value),Se(""),he(1)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:A||ue,children:[s.jsx("option",{value:"",children:"All Classes"}),je.map(Ke=>s.jsx("option",{value:Ke,children:Ke},Ke))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Section"}),s.jsxs("select",{value:Ne,onChange:Ke=>{Ke.preventDefault(),Se(Ke.target.value),he(1)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",disabled:A||ue||ee===""||we.length===0,children:[s.jsx("option",{value:"",children:"All Sections"}),we.map(Ke=>s.jsx("option",{value:Ke,children:Ke},Ke))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Exam Type"}),s.jsxs("select",{value:X,onChange:Ke=>{Ke.preventDefault(),Z(Ke.target.value)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Types"}),["Midterm","Final","Unit Test","Quiz","Practical","Other"].map(Ke=>s.jsx("option",{value:Ke,children:Ke},Ke))]})]})]})]})}),s.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[(ue||A||y||l)&&s.jsxs("div",{className:"p-8 text-center bg-white rounded-lg shadow-md",children:[s.jsx(br,{className:"animate-spin mx-auto mb-4",size:32,style:{color:V}}),s.jsx("p",{className:"text-gray-600",children:l?"Loading schools...":A?"Loading classes...":y?"Loading subjects...":"Loading exams..."})]}),R&&!ue&&!A&&!y&&!l&&s.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ln,{className:"mr-2"}),s.jsx("span",{children:R})]}),s.jsx("button",{onClick:()=>G(""),className:"text-red-500 hover:text-red-700 font-bold",children:"×"})]}),!ue&&!A&&!y&&!l&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative mb-6",children:[s.jsx(xn,{className:"absolute left-3 top-3 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by exam type or class...",value:U,onChange:Ke=>K(Ke.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-full text-black focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Exam Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subjects Count"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ce.map(Ke=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:Ke.examType||"N/A"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:Ke.className})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ke.status==="Scheduled"?"bg-yellow-100 text-yellow-800":Ke.status==="Completed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:Ke.status||"Scheduled"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ke.subjects?.length||0}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[s.jsx("button",{onClick:()=>Ie(Ke),className:"text-indigo-600 hover:text-indigo-900 mr-4",disabled:ue,title:"Edit",children:s.jsx(Lo,{})}),s.jsx("button",{onClick:()=>qe(Ke),className:"text-blue-600 hover:text-blue-900 mr-4",disabled:ue,title:"View",children:s.jsx(Ds,{})}),s.jsx("button",{onClick:()=>at(Ke),className:"text-red-600 hover:text-red-900",disabled:ue,title:"Delete",children:s.jsx(Ss,{})})]})]},Ke._id||Ke.id))})]}),Ce.length===0&&s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx("div",{className:"text-lg mb-2",children:"No exams found"}),s.jsx("div",{className:"text-sm",children:U?"Try adjusting your search terms":"Click 'Add Exam Timetable' to create your first entry"})]}),Ce.length>0&&s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center px-6 py-4 border-t border-gray-200",children:[s.jsxs("div",{className:"text-sm text-gray-600 mb-2 sm:mb-0",children:["Page ",oe," of ",te]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:tt,disabled:oe===1,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100",children:s.jsx(co,{})}),[...Array(te)].map((Ke,Tt)=>{const wt=Tt+1;return s.jsx("button",{onClick:()=>Kt(wt),className:`px-3 py-1 rounded-lg border border-gray-300 ${oe===wt?"bg-blue-500 text-white":"hover:bg-gray-100"}`,style:oe===wt?{backgroundColor:V}:{},children:wt},wt)}),s.jsx("button",{onClick:gt,disabled:oe===te,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100",children:s.jsx(xi,{})})]})]})]})]})]}),E&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"text-white p-4 rounded-t-lg flex justify-between items-center",style:{backgroundColor:V},children:[s.jsxs("h2",{className:"text-xl font-bold",children:[Q?"Edit":"Add"," Exam Timetable"]}),s.jsx("button",{onClick:Ut,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:s.jsx(sr,{size:24})})]}),s.jsxs("div",{className:"p-6",children:[(A||y)&&s.jsxs("div",{className:"text-center py-4",children:[s.jsx(br,{className:"w-6 h-6 mx-auto animate-spin mb-2",style:{color:V}}),s.jsx("p",{className:"text-sm text-gray-600",children:"Loading classes and subjects..."})]}),!A&&!y&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("select",{name:"examType",value:q.examType,onChange:Ee,className:"w-full p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Select Exam Type"}),["Midterm","Final","Unit Test","Quiz","Practical","Other"].map(Ke=>s.jsx("option",{value:Ke,children:Ke},Ke))]}),Q&&s.jsx("select",{name:"status",value:q.status,onChange:Ee,className:"w-full p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:["Scheduled","Completed","Cancelled"].map(Ke=>s.jsx("option",{value:Ke,children:Ke},Ke))}),s.jsxs("select",{name:"classId",value:q.classId,onChange:Ee,className:"w-full p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:A,required:!0,children:[s.jsx("option",{value:"",children:"Select Class"}),ce.length===0?s.jsx("option",{value:"",disabled:!0,children:"No classes available"}):ce.map(Ke=>s.jsx("option",{value:Ke._id,children:Ke.displayName},Ke._id))]}),s.jsx("h3",{className:"text-lg font-bold mt-6",children:"Subjects"}),q.subjects.map((Ke,Tt)=>s.jsxs("div",{className:"border border-gray-300 p-4 rounded-lg mb-4 space-y-4",children:[s.jsxs("select",{value:Ke.subjectName,onChange:wt=>Re(Tt,"subjectName",wt.target.value),className:"w-full p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:y,required:!0,children:[s.jsx("option",{value:"",children:"Select Subject"}),se.length===0?s.jsx("option",{value:"",disabled:!0,children:"No subjects available"}):se.map(wt=>s.jsx("option",{value:wt.name,children:wt.name},wt._id))]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("input",{type:"date",value:Ke.date,onChange:wt=>Re(Tt,"date",wt.target.value),className:"p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),s.jsx("input",{type:"time",value:Ke.time,onChange:wt=>Re(Tt,"time",wt.target.value),className:"p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),s.jsx("input",{type:"text",placeholder:"Duration (e.g., 3 hours)",value:Ke.duration,onChange:wt=>Re(Tt,"duration",wt.target.value),className:"p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsx("textarea",{placeholder:"Syllabus",value:Ke.syllabus,onChange:wt=>Re(Tt,"syllabus",wt.target.value),className:"w-full p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3",required:!0}),s.jsx("button",{onClick:()=>et(Tt),className:"text-red-600 hover:text-red-900 font-medium",children:"Remove Subject"})]},Tt)),s.jsx("button",{onClick:it,className:"text-white px-4 py-2 rounded-lg hover:opacity-90 transition-opacity",style:{backgroundColor:V},disabled:y||se.length===0,children:"Add Subject"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:Ut,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",disabled:ue,children:"Cancel"}),s.jsxs("button",{onClick:Ct,className:"text-white px-6 py-2 rounded-lg flex items-center hover:opacity-90",style:{backgroundColor:V},disabled:ue||A||y||!q.examType||!q.classId||q.subjects.length===0,children:[ue?s.jsx(br,{className:"mr-2 animate-spin"}):s.jsx(Ro,{className:"mr-2"}),Q?"Update":"Save"]})]})]})]})}),k&&I&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"text-white p-4 rounded-t-lg flex justify-between items-center",style:{backgroundColor:V},children:[s.jsxs("h2",{className:"text-xl font-bold",children:["View ",I.examType," Timetable for"," ",At(I.classId)]}),s.jsx("button",{onClick:()=>L(!1),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:s.jsx(sr,{size:24})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"mb-4",children:s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Status:"})," ",I.status]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full bg-white border border-gray-200 rounded-lg",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Syllabus"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:I.subjects.map((Ke,Tt)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Ke.subjectName}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ke.date}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ke.time}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ke.duration}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Ke.syllabus})]},Tt))})]})}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsx("button",{onClick:()=>Ue(I),className:"text-white px-6 py-2 rounded-lg hover:opacity-90",style:{backgroundColor:V},children:"Download PDF"})})]})]})}),s.jsx(L5,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-md max-w-md",children:[s.jsx(ln,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("div",{className:"text-red-500 text-xl mb-4",children:"School ID not found"}),s.jsx("div",{className:"text-gray-600 mb-4",children:"Please login again to access the exam system."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",style:{backgroundColor:V},children:"Refresh Page"})]})})},tJ=()=>{const[t,r]=w.useState(""),[n,a]=w.useState("All"),[i,o]=w.useState("All"),[l,c]=w.useState(""),[u,f]=w.useState(""),[A,m]=w.useState([]),[p,g]=w.useState([]),[b,v]=w.useState(!1),[y,j]=w.useState(""),[C,S]=w.useState(""),[E,D]=w.useState(""),[k,L]=w.useState(1),[I,Y]=w.useState(1),[Q,H]=w.useState(0),[U]=w.useState(10),K="https://vidyaastra.com/api",X=In(q=>q.classes.classes?.data||[]),Z=In(q=>q.subjects.subjects?.data||[]),ee=In(q=>q.classes.loading),de=In(q=>q.subjects.loading),Ne=In(q=>q.classes.error),Se=In(q=>q.subjects.error),ue=q=>{S(q),setTimeout(()=>S(""),5e3)},xe=q=>{j(q),setTimeout(()=>j(""),5e3)};w.useEffect(()=>{const q=localStorage.getItem("schoolId");console.log("SchoolId from localStorage:",q),q?D(q):xe("School ID not found in localStorage. Please login again.")},[]),w.useEffect(()=>{Ne&&xe("Failed to load classes: "+Ne),Se&&xe("Failed to load subjects: "+Se)},[Ne,Se]);const R=w.useCallback(async()=>{if(!E){console.log("No schoolId available for fetching students");return}try{console.log("Fetching students for schoolId:",E);const q=await fetch(`${K}/students/school/${E}`);if(q.ok){const be=await q.json(),Ee=be.data||be||[];g(Ee),console.log("Students loaded:",Ee.length)}else console.error("Failed to fetch students:",q.status,q.statusText),await G()}catch(q){console.error("Error fetching students:",q),await G()}},[E]),G=async()=>{try{const q=await fetch(`${K}/students`);if(q.ok){const be=await q.json(),Re=(be.data||be||[]).filter(it=>it.schoolId===E||it.schoolId?._id===E||it.schoolId?.toString()===E);g(Re),console.log("Students loaded (filtered):",Re.length)}}catch(q){console.error("Error fetching all students:",q),g([]),xe("Error connecting to server while fetching students.")}},ne=w.useCallback(async()=>{if(!E){console.log("No schoolId available for fetching assignments");return}try{v(!0),console.log("Fetching assignments for schoolId:",E,`Page: ${k}, Limit: ${U}`);const q=await fetch(`${K}/assignments/submitted?schoolId=${E}&page=${k}&limit=${U}`);if(!q.ok){const Ee=await q.json().catch(()=>({}));throw new Error(Ee.message||"Failed to fetch assignments")}const be=await q.json();if(!be.success)throw new Error(be.message||"Failed to fetch assignments");m(be.data||[]),Y(be.totalPages||1),H(be.total||0),k>be.totalPages&&be.totalPages>0&&L(1),console.log("Assignments loaded:",be.data.length,"Total:",be.total)}catch(q){console.error("Error fetching assignments:",q),xe(q.message||"Failed to fetch assignments"),m([]),Y(1),H(0)}finally{v(!1)}},[E,k,U]),ae=w.useCallback(async()=>{if(!E){console.log("No schoolId available for initial data fetch");return}v(!0);try{await R()}catch(q){xe("Failed to load initial data"),console.error("Error fetching initial data:",q)}finally{v(!1)}},[E,R]);w.useEffect(()=>{E&&ne()},[E,k,ne]),w.useEffect(()=>{E&&ae()},[E,ae]);const oe=[...new Set(X.map(q=>q.className))],he=()=>l?[...new Set(X.filter(q=>q.className===l).map(q=>q.section).filter(q=>q))]:[],me=q=>{if(!q)return{className:"",section:""};const be=/^(\w+)(?:\s|-)?([A-Za-z]?)$/,Ee=q.match(be);return Ee?{className:Ee[1],section:Ee[2]||""}:{className:q,section:""}},te=A.filter(q=>{const be=q.title?.toLowerCase().includes(t.toLowerCase())||q.subject?.toLowerCase().includes(t.toLowerCase())||q.studentName?.toLowerCase().includes(t.toLowerCase())||q.rollNo?.toLowerCase().includes(t.toLowerCase())||q.description?.toLowerCase().includes(t.toLowerCase()),Ee=n==="All"||q.subject===n,Re=i==="All"||q.status===i,{className:it,section:et}=me(q.class);return be&&Ee&&Re&&(l===""||it===l)&&(u===""||et===u)}),Ae=q=>{switch(q?.toUpperCase()){case"HIGH":return"bg-red-100 text-red-800";case"MEDIUM":return"bg-orange-100 text-orange-800";case"LOW":return"bg-green-100 text-green-800";case"A":return"bg-green-100 text-green-800";case"B+":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},V=q=>q==="submitted"||q==="graded"?s.jsx(pi,{className:"w-4 h-4 text-green-600"}):s.jsx(_n,{className:"w-4 h-4 text-orange-600"}),ie=q=>q?new Date(q).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",pe=A.filter(q=>q.status==="pending").length,ye=A.filter(q=>q.status==="submitted"||q.status==="graded").length,ge=q=>{const{className:be,section:Ee}=me(q.class);alert(`
      Student: ${q.studentName}
      Roll No: ${q.rollNo}
      Class: ${be}${Ee?` ${Ee}`:""}
      Subject: ${q.subject}
      Title: ${q.title}
      Description: ${q.description}
      Due Date: ${ie(q.dueDate)}
      Priority: ${q.priority}
      Status: ${q.status}
      ${q.submittedDate?`Submitted: ${ie(q.submittedDate)}`:""}
    `)},le=q=>{alert(`Edit functionality for assignment ${q.id} not implemented yet.`)},Qe=async q=>{if(window.confirm(`Are you sure you want to delete assignment ${q.title}?`))try{v(!0);const be=await fetch(`${K}/assignments/${q.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:E})});if(!be.ok){const Ee=await be.json().catch(()=>({}));throw new Error(Ee.message||"Failed to delete assignment")}await ne(),ue("Assignment deleted successfully")}catch(be){xe(be.message||"Failed to delete assignment")}finally{v(!1)}},ce=()=>{k>1&&L(q=>q-1)},se=()=>{k<I&&L(q=>q+1)},je=q=>{c(q),f("")},we=localStorage.getItem("color")||"#3B82F6";return E?b||ee||de?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(br,{className:"w-12 h-12 mx-auto text-blue-600 animate-spin mb-4"}),s.jsxs("p",{className:"text-lg font-medium text-gray-700",children:["Loading assignments",ee?", classes":"",de?", subjects":"","..."]})]})}):s.jsxs("div",{className:"space-y-6 p-6 bg-gray-50 min-h-screen",children:[C&&s.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[s.jsx(pi,{className:"w-5 h-5"}),s.jsx("span",{className:"block sm:inline",children:C}),s.jsx("button",{onClick:()=>S(""),className:"ml-auto text-green-700 hover:text-green-900",children:s.jsx(sr,{className:"w-4 h-4"})})]}),y&&s.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[s.jsx(ln,{className:"w-5 h-5"}),s.jsx("span",{className:"block sm:inline",children:y}),s.jsx("button",{onClick:()=>j(""),className:"ml-auto text-red-700 hover:text-red-900",children:s.jsx(sr,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"text-black p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:we},children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Student Assignment Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage assignments with student details"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search assignments, students...",value:t,onChange:q=>r(q.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("select",{value:l,onChange:q=>je(q.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:ee,children:[s.jsx("option",{value:"",children:"All Classes"}),oe.map(q=>s.jsx("option",{value:q,children:q},q))]}),s.jsxs("select",{value:u,onChange:q=>f(q.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:ee||!l,children:[s.jsx("option",{value:"",children:"All Sections"}),he().map(q=>s.jsx("option",{value:q,children:q},q))]}),s.jsxs("select",{value:n,onChange:q=>a(q.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:de,children:[s.jsx("option",{value:"All",children:"All Subjects"}),Z.map(q=>s.jsx("option",{value:q.SubjectName||q.name||q.subjectName||"Unnamed Subject",children:q.SubjectName||q.name||q.subjectName||"Unnamed Subject"},q._id))]}),s.jsxs("select",{value:i,onChange:q=>o(q.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"All",children:"All Status"}),s.jsx("option",{value:"submitted",children:"Submitted"}),s.jsx("option",{value:"graded",children:"Graded"}),s.jsx("option",{value:"late",children:"Late"})]})]}),s.jsxs("div",{className:"mt-4 flex space-x-2",children:[s.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Pending (",pe,")"]}),s.jsxs("div",{className:"bg-green-100 text-green-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Submitted (",ye,")"]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-max",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Student Info"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Roll No"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Class"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Section"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Subject"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Due Date"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority/Grade"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),s.jsx("th",{className:"px-4 py-4 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:te.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"10",className:"text-center py-8 text-gray-500",children:t||l||u||n!=="All"||i!=="All"?"No assignments found matching your filters.":"No assignments found."})}):te.map(q=>{const{className:be,section:Ee}=me(q.class);return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ns,{className:"w-5 h-5 text-gray-400 mr-2"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.studentName}),s.jsx("div",{className:"text-xs text-gray-500",children:"Student"})]})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("span",{className:"text-sm font-mono text-gray-900 bg-gray-100 px-2 py-1 rounded",children:q.rollNo})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:be})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:Ee||"N/A"})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ln,{className:"w-4 h-4 text-blue-600 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-blue-600",children:q.subject})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"max-w-xs",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:q.title}),s.jsx("div",{className:"text-xs text-gray-500 mt-1 truncate",children:q.description})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(en,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-900",children:ie(q.dueDate)}),q.submittedDate&&s.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Submitted:"," ",ie(q.submittedDate)]})]})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ae(q.priority)}`,children:q.status==="graded"&&q.grade?q.grade:q.priority})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center",children:[V(q.status),s.jsx("span",{className:`ml-2 text-sm font-medium capitalize ${q.status==="submitted"||q.status==="graded"?"text-green-600":"text-orange-600"}`,children:q.status})]})}),s.jsx("td",{className:"px-4 py-4 text-right",children:s.jsxs("div",{className:"flex space-x-2 justify-end",children:[s.jsx("button",{onClick:()=>ge(q),disabled:b,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg disabled:opacity-50",children:s.jsx(Ds,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>le(q),disabled:b,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg disabled:opacity-50",children:s.jsx(Uo,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Qe(q),disabled:b,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg disabled:opacity-50",children:s.jsx(Ss,{className:"w-4 h-4"})})]})})]},q.id)})})]})}),Q>0&&s.jsxs("div",{className:"flex justify-between items-center p-4",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",te.length," of ",Q," ","assignments (Page ",k," of ",I,")"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:ce,disabled:k===1,className:`p-2 rounded-lg ${k===1?"text-gray-400 cursor-not-allowed":"text-white"}`,style:{backgroundColor:k===1?"#d1d5db":we},children:s.jsx(co,{})}),s.jsx("button",{onClick:se,disabled:k===I||I===0,className:`p-2 rounded-lg ${k===I||I===0?"text-gray-400 cursor-not-allowed":"text-white"}`,style:{backgroundColor:k===I||I===0?"#d1d5db":we},children:s.jsx(xi,{})})]})]})]})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ln,{className:"w-12 h-12 mx-auto text-red-600 mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-700",children:"School ID is required to access assignments."}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please ensure you are properly logged in."})]})})},ZA="https://vidyaastra.com/api";function rJ(){const[t,r]=w.useState("available"),[n,a]=w.useState(""),[i,o]=w.useState(!1),[l,c]=w.useState(!1),[u,f]=w.useState(null),[A,m]=w.useState(null),[p,g]=w.useState(!0),[b,v]=w.useState(""),[y,j]=w.useState(""),[C,S]=w.useState([]),[E,D]=w.useState([]),[k,L]=w.useState([]),[I,Y]=w.useState(""),[Q,H]=w.useState({title:"",author:"",isbn:"",category:"Fiction",publicationYear:"",totalCopies:"",description:""}),[U,K]=w.useState({studentId:"",bookId:""}),X=["Fiction","Non-Fiction","Science","History","Technology"],Z=pe=>{j(pe),setTimeout(()=>j(""),5e3)},ee=pe=>{v(pe),setTimeout(()=>v(""),5e3)};w.useEffect(()=>{const pe=localStorage.getItem("schoolId");console.log("SchoolId from localStorage:",pe),pe?Y(pe):ee("School ID not found in localStorage. Please login again.")},[]);const de=w.useCallback(async()=>{if(!I){console.log("No schoolId available for fetching students");return}try{console.log("Fetching all students and filtering by schoolId:",I);const pe=await fetch(`${ZA}/students`);if(pe.ok){const ye=await pe.json();console.log("Students API response:",ye);const le=(ye.data||ye||[]).filter(Qe=>Qe.schoolId===I||Qe.schoolId?._id===I||Qe.schoolId?.toString()===I);S(le),console.log("Students loaded for school:",le.length)}else{console.error("Failed to fetch students:",pe.status,pe.statusText);const ye=await pe.text();console.error("Error response:",ye),S([]),ee("Failed to fetch students.")}}catch(pe){console.error("Error fetching students:",pe),S([]),ee("Error connecting to server while fetching students.")}},[I]),Ne=w.useCallback(async()=>{if(I)try{const pe=await fetch(`${ZA}/library?schoolId=${I}`);if(pe.ok){const ye=await pe.json();D(ye.data||[]),console.log("Available books fetched:",ye.data?.length||0)}else console.error("Failed to fetch books:",pe.status),D([])}catch(pe){console.error("Error fetching available books:",pe),D([])}},[I]),Se=w.useCallback(async()=>{if(!(!I||C.length===0))try{console.log("Fetching issued books for school:",I);const pe=[];for(const ye of C)try{const ge=await fetch(`${ZA}/library/issued?studentId=${ye._id}&schoolId=${I}`);if(ge.ok){const ce=((await ge.json()).data||[]).map(se=>({...se,studentId:ye}));pe.push(...ce)}}catch(ge){console.error(`Error fetching issued books for student ${ye._id}:`,ge)}L(pe),console.log("Total issued books fetched:",pe.length)}catch(pe){console.error("Error fetching issued books:",pe),L([])}},[I,C]),ue=w.useCallback(async()=>{if(!I){console.log("No schoolId available for initial data fetch");return}console.log("Starting initial data fetch for schoolId:",I),g(!0);try{await de(),await Ne(),console.log("Initial data fetch completed")}catch(pe){console.error("Error fetching initial data:",pe),ee("Failed to load library data.")}finally{g(!1)}},[I,de,Ne]);w.useEffect(()=>{C.length>0&&Se()},[C,Se]),w.useEffect(()=>{I&&(console.log("SchoolId changed, fetching initial data:",I),ue())},[I,ue]);const xe=w.useCallback(pe=>{switch(pe){case"overdue":return"bg-red-100 text-red-800";case"active":return"bg-yellow-100 text-yellow-800";case"returned":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},[]),R=w.useCallback(pe=>{switch(pe){case"overdue":return s.jsx(ln,{className:"w-4 h-4"});case"active":return s.jsx(_n,{className:"w-4 h-4"});case"returned":return s.jsx(pi,{className:"w-4 h-4"});default:return s.jsx(Ln,{className:"w-4 h-4"})}},[]),G=w.useCallback(pe=>{m(pe),K({studentId:"",bookId:pe._id}),c(!0)},[]),ne=w.useCallback(async pe=>{if(pe.preventDefault(),!I){ee("School ID is required.");return}g(!0);try{if(!U.studentId||!U.bookId){ee("Please select a student."),g(!1);return}const ye=await fetch(`${ZA}/library/issue`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookId:U.bookId,studentId:U.studentId,schoolId:I})}),ge=await ye.json();ye.ok&&ge.success?(await Ne(),await Se(),c(!1),m(null),K({studentId:"",bookId:""}),Z("Book issued successfully!")):ee(ge.message||"Failed to issue book.")}catch(ye){console.error("Error issuing book:",ye),ee("Failed to issue book. Please check your connection and try again.")}finally{g(!1)}},[U,I,Ne,Se]),ae=w.useCallback(async pe=>{if(!I){ee("School ID is required.");return}if(window.confirm("Are you sure you want to return this book?")){g(!0);try{const ye=await fetch(`${ZA}/library/return`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({issuedBookId:pe,schoolId:I})}),ge=await ye.json();ye.ok&&ge.success?(await Ne(),await Se(),Z("Book returned successfully!")):ee(ge.message||"Failed to return book.")}catch(ye){console.error("Error returning book:",ye),ee("Failed to return book.")}finally{g(!1)}}},[I,Ne,Se]),oe=w.useCallback(async pe=>{if(!I){ee("School ID is required.");return}if(window.confirm("Are you sure you want to renew this book?")){g(!0);try{const ye=await fetch(`${ZA}/library/renew`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({issuedBookId:pe,schoolId:I})}),ge=await ye.json();ye.ok&&ge.success?(await Se(),Z("Book renewed successfully!")):ee(ge.message||"Failed to renew book.")}catch(ye){console.error("Error renewing book:",ye),ee("Failed to renew book.")}finally{g(!1)}}},[I,Se]),he=w.useCallback(async pe=>{if(pe.preventDefault(),!I){ee("School ID is required.");return}g(!0);try{if(!Q.title||!Q.author||!Q.isbn||!Q.totalCopies){ee("Please fill in all required fields."),g(!1);return}const ye=parseInt(Q.totalCopies);if(isNaN(ye)||ye<1){ee("Total copies must be a valid number greater than 0."),g(!1);return}const ge={title:Q.title.trim(),author:Q.author.trim(),isbn:Q.isbn.trim(),category:Q.category,totalCopies:ye,availableCopies:ye,publicationYear:Q.publicationYear?parseInt(Q.publicationYear):new Date().getFullYear(),description:Q.description.trim(),schoolId:I},le=u?`${ZA}/library/${u._id}`:`${ZA}/library`,ce=await fetch(le,{method:u?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ge)}),se=await ce.json();ce.ok&&se.success?(await Ne(),Ae(),Z(u?"Book updated successfully!":"Book added successfully!")):ee(se.message||"Failed to save book.")}catch(ye){console.error("Error saving book:",ye),ee("Failed to save book. Please check all fields and try again.")}finally{g(!1)}},[Q,u,I,Ne]),me=w.useCallback(pe=>{f(pe),H({title:pe.title,author:pe.author,isbn:pe.isbn,category:pe.category||"Fiction",publicationYear:pe.publicationYear?String(pe.publicationYear):"",totalCopies:String(pe.totalCopies),description:pe.description||""}),o(!0)},[]),te=w.useCallback(async pe=>{if(!I){ee("School ID is required.");return}if(window.confirm("Are you sure you want to delete this book?")){g(!0);try{const ye=await fetch(`${ZA}/library/${pe}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:I})}),ge=await ye.json();ye.ok&&ge.success?(await Ne(),Z("Book deleted successfully!")):ee(ge.message||"Failed to delete book.")}catch(ye){console.error("Error deleting book:",ye),ee("Failed to delete book.")}finally{g(!1)}}},[I,Ne]),Ae=w.useCallback(()=>{H({title:"",author:"",isbn:"",category:"Fiction",publicationYear:"",totalCopies:"",description:""}),f(null),o(!1)},[]),V=E.filter(pe=>pe.title?.toLowerCase().includes(n.toLowerCase())||pe.author?.toLowerCase().includes(n.toLowerCase())||pe.category?.toLowerCase().includes(n.toLowerCase())||pe.isbn?.includes(n)),ie=k.filter(pe=>pe.book?.title?.toLowerCase().includes(n.toLowerCase())||pe.book?.author?.toLowerCase().includes(n.toLowerCase())||pe.studentId?.name?.toLowerCase().includes(n.toLowerCase())||pe.book?.isbn?.includes(n));return I?p&&E.length===0?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(br,{className:"w-12 h-12 mx-auto text-blue-600 animate-spin mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-700",children:"Loading library data..."})]})}):s.jsxs("div",{className:"space-y-6 p-6 bg-gray-50 min-h-screen",children:[y&&s.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[s.jsx(pi,{className:"w-5 h-5"}),s.jsx("span",{className:"block sm:inline",children:y}),s.jsx("button",{onClick:()=>j(""),className:"ml-auto text-green-700 hover:text-green-900",children:s.jsx(sr,{className:"w-4 h-4"})})]}),b&&s.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[s.jsx(ln,{className:"w-5 h-5"}),s.jsx("span",{className:"block sm:inline",children:b}),s.jsx("button",{onClick:()=>v(""),className:"ml-auto text-red-700 hover:text-red-900",children:s.jsx(sr,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[s.jsx(lf,{className:"mr-3 text-blue-600"}),"Library Management"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage books, issues, and returns"})]}),s.jsxs("button",{onClick:()=>o(!0),disabled:p,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[p?s.jsx(br,{className:"w-4 h-4 animate-spin"}):s.jsx($s,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Book"})]})]}),s.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg mb-6",children:[s.jsxs("button",{onClick:()=>r("available"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center space-x-2 ${t==="available"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[s.jsx(Ln,{className:"w-4 h-4"}),s.jsxs("span",{children:["Available Books (",E.length,")"]})]}),s.jsxs("button",{onClick:()=>r("issued"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center space-x-2 ${t==="issued"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[s.jsx(Ns,{className:"w-4 h-4"}),s.jsxs("span",{children:["Issued Books (",k.length,")"]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:`Search ${t==="available"?"books":"issued books"}...`,value:n,onChange:pe=>a(pe.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:t==="available"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Available Books"})}),s.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Book Details"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"ISBN"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Availability"}),s.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:V.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"5",className:"text-center py-8 text-gray-500",children:n?"No books found matching your search.":"No available books found."})}):V.map(pe=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"font-medium",children:pe.title}),s.jsxs("div",{className:"text-sm text-gray-500",children:["by ",pe.author]}),pe.publicationYear&&s.jsx("div",{className:"text-xs text-gray-400",children:pe.publicationYear})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(xb,{className:"w-4 h-4 mr-1"}),pe.isbn]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"px-2 py-1 text-xs font-semibold bg-purple-100 text-purple-800 rounded-full",children:pe.category||"General"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"font-medium text-gray-900",children:[pe.availableCopies,"/",pe.totalCopies," ","available"]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:s.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${pe.availableCopies/pe.totalCopies*100}%`}})})]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex space-x-2 justify-end",children:[s.jsx("button",{onClick:()=>G(pe),disabled:pe.availableCopies===0||p,className:`px-3 py-1 text-xs font-semibold rounded-lg transition-colors ${pe.availableCopies>0&&!p?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:p?"Loading...":"Issue Book"}),s.jsx("button",{onClick:()=>me(pe),disabled:p,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg disabled:opacity-50",children:s.jsx(Lo,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>te(pe._id),disabled:p,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg disabled:opacity-50",children:s.jsx(Ss,{className:"w-4 h-4"})})]})})]},pe._id))})]})})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Issued Books"})}),s.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Book Details"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Issued To"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Issue Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Due Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:ie.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"text-center py-8 text-gray-500",children:n?"No issued books found matching your search.":"No issued books found."})}):ie.map(pe=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"font-medium",children:pe.book?.title||"N/A"}),s.jsxs("div",{className:"text-sm text-gray-500",children:["by ",pe.book?.author||"N/A"]}),s.jsxs("div",{className:"text-xs text-gray-400 flex items-center",children:[s.jsx(xb,{className:"w-3 h-3 mr-1"}),pe.book?.isbn||"N/A"]})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:pe.studentId?.name||"N/A"}),s.jsx("div",{className:"text-gray-500",children:pe.studentId?.rollNumber||pe.studentId?.studentId||"N/A"})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(en,{className:"w-4 h-4 mr-1"}),new Date(pe.issueDate).toLocaleDateString()]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(en,{className:"w-4 h-4 mr-1"}),new Date(pe.dueDate).toLocaleDateString()]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("span",{className:`px-2 py-1 text-xs font-semibold rounded-full flex items-center space-x-1 w-fit ${xe(pe.status)}`,children:[R(pe.status),s.jsx("span",{children:pe.status.toUpperCase()})]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex space-x-2 justify-end",children:[s.jsxs("button",{onClick:()=>ae(pe._id),disabled:p||pe.status!=="active",className:`px-3 py-1 text-xs font-semibold rounded-lg flex items-center space-x-1 transition-colors ${pe.status==="active"?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[s.jsx(pi,{className:"w-3 h-3"}),s.jsx("span",{children:"Return"})]}),s.jsxs("button",{onClick:()=>oe(pe._id),disabled:p||pe.status!=="active",className:`px-3 py-1 text-xs font-semibold rounded-lg flex items-center space-x-1 transition-colors ${pe.status==="active"?"bg-orange-600 text-white hover:bg-orange-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[s.jsx(Qh,{className:"w-3 h-3"}),s.jsx("span",{children:"Renew"})]})]})})]},pe._id))})]})})]})}),i&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:u?"Edit Book":"Add New Book"}),s.jsx("button",{onClick:Ae,className:"text-gray-500 hover:text-gray-700",children:s.jsx(sr,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:he,className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Book Title *"}),s.jsx("input",{type:"text",id:"title",placeholder:"Book Title",value:Q.title,onChange:pe=>H({...Q,title:pe.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:p})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"author",className:"block text-sm font-medium text-gray-700 mb-1",children:"Author Name *"}),s.jsx("input",{type:"text",id:"author",placeholder:"Author Name",value:Q.author,onChange:pe=>H({...Q,author:pe.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:p})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"isbn",className:"block text-sm font-medium text-gray-700 mb-1",children:"ISBN *"}),s.jsx("input",{type:"text",id:"isbn",placeholder:"ISBN",value:Q.isbn,onChange:pe=>H({...Q,isbn:pe.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:p})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),s.jsx("select",{id:"category",value:Q.category,onChange:pe=>H({...Q,category:pe.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:p,children:X.map(pe=>s.jsx("option",{value:pe,children:pe},pe))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"publicationYear",className:"block text-sm font-medium text-gray-700 mb-1",children:"Publication Year"}),s.jsx("input",{type:"number",id:"publicationYear",placeholder:"Publication Year",value:Q.publicationYear,onChange:pe=>H({...Q,publicationYear:pe.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:p,min:"1900",max:new Date().getFullYear()})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"totalCopies",className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Copies *"}),s.jsx("input",{type:"number",id:"totalCopies",placeholder:"Total Copies",value:Q.totalCopies,onChange:pe=>H({...Q,totalCopies:pe.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,min:"1",disabled:p})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{id:"description",placeholder:"Description (optional)",value:Q.description,onChange:pe=>H({...Q,description:pe.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,disabled:p})]})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:Ae,disabled:p,className:"flex-1 bg-transparent px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:p,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:bg-blue-400 flex items-center justify-center space-x-2",children:p?s.jsx(br,{className:"w-4 h-4 animate-spin"}):s.jsx("span",{children:u?"Update Book":"Add Book"})})]})]})]})}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Issue Book"}),s.jsx("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-gray-700",children:s.jsx(sr,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:ne,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Book"}),s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"font-medium",children:A?.title}),s.jsxs("div",{className:"text-sm text-gray-600",children:["by ",A?.author]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Available: ",A?.availableCopies]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"studentId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Student *"}),s.jsxs("select",{id:"studentId",value:U.studentId,onChange:pe=>{K({...U,studentId:pe.target.value})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:p,children:[s.jsx("option",{value:"",children:"Select Student"}),C.map(pe=>s.jsxs("option",{value:pe._id,children:[pe.name," -"," ",pe.rollNumber||pe.studentId||"No Roll Number"]},pe._id))]}),C.length===0&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:"No students found. Please add students first."})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>{c(!1),v("")},disabled:p,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:p||!U.studentId,className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:bg-green-400 flex items-center justify-center space-x-2",children:[p?s.jsx(br,{className:"w-4 h-4 animate-spin"}):s.jsx(Ln,{className:"w-4 h-4"}),s.jsx("span",{children:p?"Issuing...":"Issue Book"})]})]})]})]})})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ln,{className:"w-12 h-12 mx-auto text-red-600 mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-700",children:"School ID is required to access the library."}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please ensure you are properly logged in."})]})})}const l4="https://vidyaastra.com/api",nJ=()=>{const[t,r]=w.useState(""),[n,a]=w.useState(!1),[i,o]=w.useState("view"),[l,c]=w.useState(null),[u,f]=w.useState([]),[A,m]=w.useState(!1),[p,g]=w.useState(""),[b,v]=w.useState({}),[y,j]=w.useState("#2563eb"),[C,S]=w.useState(null),[E,D]=w.useState(1),[k,L]=w.useState(1),[I,Y]=w.useState(10),[Q,H]=w.useState(null),[U,K]=w.useState(!1),[X,Z]=w.useState(!1),[ee,de]=w.useState({name:"",email:"",phone:"",subjects:[],classes:[],classTeacherOf:""}),Ne=In(q=>q.classes.classes?.data||[]),Se=In(q=>q.subjects.subjects?.data||[]),ue=In(q=>q.classes.loading),xe=In(q=>q.subjects.loading),R=In(q=>q.classes.error),G=In(q=>q.subjects.error),ne=Ne.map(q=>({_id:q._id,className:q.className||`Class ${q.classNumber||q._id}`,section:q.section||"",displayName:`${q.className||`Class ${q.classNumber||q._id}`}${q.section?` ${q.section}`:""}`.trim()})),ae=Se.map(q=>({_id:q._id,SubjectName:q.SubjectName||q.name||q.subjectName||"Unnamed Subject"}));w.useEffect(()=>{const q=localStorage.getItem("color");q&&j(q);const be=localStorage.getItem("schoolId");be?S(be):g("School ID not found in local storage. Please log in to access teacher data.")},[]),w.useEffect(()=>{R&&g("Failed to load classes: "+R),G&&g("Failed to load subjects: "+G)},[R,G]);const oe=q=>typeof q=="string"&&/^[0-9a-fA-F]{24}$/.test(q),he=w.useCallback(async()=>{if(!C){m(!1);return}m(!0),g("");try{const q=await Ft.get(`${l4}/teacher/${C}`,{params:{page:E,limit:I}});if(q.data.success){const be=[],Ee=[];q.data.data.forEach(Re=>{Re&&typeof Re._id=="string"&&oe(Re._id)&&typeof Re.name=="string"&&Re.name.trim()!==""&&typeof Re.email=="string"&&/\S+@\S+\.\S+/.test(Re.email)&&typeof Re.phone=="string"&&/^\d{10,15}$/.test(Re.phone)&&Array.isArray(Re.subjects)&&Re.subjects.every(et=>typeof et=="string")&&Array.isArray(Re.classes)&&Re.classes.every(et=>typeof et=="string")?be.push(Re):Ee.push({id:Re?._id||"unknown",reasons:[!Re&&"Teacher object is null or undefined",typeof Re._id!="string"&&"Invalid or missing ID",!oe(Re._id)&&"ID is not a valid ObjectId",typeof Re.name!="string"&&"Name is not a string",Re.name?.trim()===""&&"Name is empty",typeof Re.email!="string"&&"Email is not a string",!/\S+@\S+\.\S+/.test(Re.email)&&"Invalid email format",typeof Re.phone!="string"&&"Phone is not a string",!/^\d{10,15}$/.test(Re.phone)&&"Invalid phone format",!Array.isArray(Re.subjects)&&"Subjects is not an array",!Re.subjects?.every(et=>typeof et=="string")&&"Subjects contains non-string values",!Array.isArray(Re.classes)&&"Classes is not an array",!Re.classes?.every(et=>typeof et=="string")&&"Classes contains non-string values"].filter(Boolean)})}),f(be),L(q.data.totalPages||1),D(q.data.currentPage||1)}else g("Failed to fetch teachers")}catch(q){g(q.response?.data?.message||"Failed to fetch teachers. Please try again.")}finally{m(!1)}},[C,E,I]);w.useEffect(()=>{he()},[he]);const me=u.filter(q=>{const be=t.toLowerCase();return typeof q.name=="string"&&q.name.toLowerCase().includes(be)||Array.isArray(q.subjects)&&q.subjects.some(Ee=>Ee.toLowerCase().includes(be))||typeof q.email=="string"&&q.email.toLowerCase().includes(be)||typeof q.phone=="string"&&q.phone.includes(be)}),te=(q,be=null)=>{o(q),c(be),v({}),q==="edit"&&be&&(de({name:be.name||"",email:be.email||"",phone:be.phone||"",subjects:Array.isArray(be.subjects)?be.subjects:[],classes:Array.isArray(be.classes)?be.classes:[],classTeacherOf:be.classTeacherOf||""}),H(null)),a(!0),g(""),K(!1),Z(!1)},Ae=()=>{a(!1),c(null),o("view"),g(""),v({}),H(null),K(!1),Z(!1),de({name:"",email:"",phone:"",subjects:[],classes:[],classTeacherOf:""})},V=q=>{const{name:be,value:Ee,files:Re}=q.target;be==="profilePic"?(H(Re[0]||null),v(it=>({...it,profilePic:""}))):(de({...ee,[be]:Ee}),b[be]&&v(it=>({...it,[be]:""})))},ie=q=>{de(be=>{const Ee=be.subjects.includes(q)?be.subjects.filter(Re=>Re!==q):[...be.subjects,q];return{...be,subjects:Ee}}),b.subjects&&v(be=>({...be,subjects:""}))},pe=()=>{ee.subjects.length===ae.length?de({...ee,subjects:[]}):de({...ee,subjects:ae.map(q=>q.SubjectName)}),b.subjects&&v(q=>({...q,subjects:""}))},ye=q=>{de(be=>{const Ee=be.classes.includes(q)?be.classes.filter(Re=>Re!==q):[...be.classes,q];return{...be,classes:Ee}}),b.classes&&v(be=>({...be,classes:""}))},ge=()=>{ee.classes.length===ne.length?de({...ee,classes:[]}):de({...ee,classes:ne.map(q=>q.displayName)}),b.classes&&v(q=>({...q,classes:""}))},le=()=>{const q={};return ee.name.trim()||(q.name="Name is required."),ee.email.trim()?/\S+@\S+\.\S+/.test(ee.email)||(q.email="Email is invalid."):q.email="Email is required.",ee.phone.trim()?/^\d{10,15}$/.test(ee.phone)||(q.phone="Phone number is invalid (10-15 digits)."):q.phone="Phone number is required.",ee.subjects.length||(q.subjects="At least one subject is required."),ee.classes.length||(q.classes="At least one class is required."),ee.classTeacherOf&&!oe(ee.classTeacherOf)&&(q.classTeacherOf="Invalid class selected."),Q&&!["image/jpeg","image/png"].includes(Q.type)&&(q.profilePic="Only JPEG or PNG images are allowed."),Q&&Q.size>2*1024*1024&&(q.profilePic="Image size must be less than 2MB."),v(q),Object.keys(q).length===0},Qe=async q=>{if(q.preventDefault(),m(!0),g(""),!le()){m(!1);return}if(!C){g("School ID is missing. Cannot perform this operation."),m(!1);return}try{const be=new FormData;be.append("name",ee.name.trim()),be.append("email",ee.email.trim()),be.append("phone",ee.phone.trim()),ee.subjects.forEach(Re=>{be.append("subjects[]",Re)}),ee.classes.forEach(Re=>{be.append("classes[]",Re)}),ee.classTeacherOf&&be.append("classTeacherOf",ee.classTeacherOf),be.append("school",C),be.append("schoolId",C),Q&&be.append("profilePic",Q),(await Ft.put(`${l4}/teacher/${C}/teachers/${l._id}`,be,{headers:{"Content-Type":"multipart/form-data"}})).data.success&&(await he(),Ae())}catch(be){g(be.response?.data?.message||"Failed to update teacher. Please try again.")}finally{m(!1)}},ce=w.useCallback(async q=>{if(!oe(q)){g("Invalid teacher ID.");return}if(window.confirm("Are you sure you want to delete this teacher?")){if(m(!0),g(""),!C){g("School ID is missing. Cannot perform this operation."),m(!1);return}try{(await Ft.delete(`${l4}/teacher/${C}/teacher/${q}`)).data.success?await he():g("Failed to delete teacher.")}catch(be){g(be.response?.data?.message||"Failed to delete teacher. Please try again.")}finally{m(!1)}}},[he,C]),se=q=>q?new Date(q).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",je=q=>typeof q=="string"?q.split(" ").map(be=>be[0]).filter(be=>be).join("").toUpperCase():"",we=q=>{q>=1&&q<=k&&D(q)};return ue||xe?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(br,{className:"animate-spin w-8 h-8 mx-auto mb-4",style:{color:y}}),s.jsxs("p",{className:"text-gray-600",children:["Loading ",ue?"classes":"",ue&&xe?" and ":"",xe?"subjects":"","..."]})]})}):s.jsxs("div",{className:"space-y-6 p-6 bg-gray-50 min-h-screen",children:[p&&s.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[s.jsx(ln,{className:"w-5 h-5"}),s.jsx("span",{className:"block sm:inline",children:p}),s.jsx("button",{onClick:()=>g(""),className:"ml-auto text-red-700 hover:text-red-900",children:s.jsx(sr,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[s.jsx(Jr,{style:{color:y},className:"mr-3"}),"Teachers Management"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"View and manage teacher profiles"})]}),s.jsxs("div",{className:"mt-6 relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search teachers by name, subject, email, or phone...",value:t,onChange:q=>r(q.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["All Teachers (",me.length,")"]})}),s.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Teacher"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subjects"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Classes"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class Teacher"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A?s.jsx("tr",{children:s.jsxs("td",{colSpan:"6",className:"text-center py-12",children:[s.jsx(br,{style:{color:y},className:"w-8 h-8 mx-auto animate-spin mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Loading teachers..."})]})}):me.length===0?s.jsx("tr",{children:s.jsxs("td",{colSpan:"6",className:"text-center py-12 text-gray-500",children:[s.jsx(Ns,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),s.jsx("p",{className:"text-lg font-medium",children:"No teachers found matching your search."})]})}):me.map(q=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[q.profilePic?s.jsx("img",{src:`https://vidyaastra.com${q.profilePic}`,alt:q.name,className:"w-12 h-12 rounded-full object-cover"}):s.jsx("div",{style:{backgroundColor:y},className:"w-12 h-12 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-semibold text-lg",children:je(q.name)})}),s.jsx("div",{className:"ml-4 mr-9",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.name||"N/A"})})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx(Oh,{className:"w-4 h-4 mr-2 text-gray-400"}),q.email||"N/A"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(xf,{className:"w-4 h-4 mr-2 text-gray-400"}),q.phone||"N/A"]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Array.isArray(q.subjects)&&q.subjects.length>0?q.subjects.map((be,Ee)=>s.jsxs("span",{style:{backgroundColor:`${y}20`,color:y},className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full mr-1 mb-1",children:[s.jsx(Ln,{className:"w-3 h-3 mr-1"}),be]},Ee)):s.jsx("span",{className:"text-gray-500",children:"N/A"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Array.isArray(q.classes)&&q.classes.length>0?q.classes.map((be,Ee)=>s.jsx("span",{style:{backgroundColor:`${y}20`,color:y},className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full mr-1 mb-1",children:be},Ee)):s.jsx("span",{className:"text-gray-500",children:"N/A"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:q.classTeacherOf?s.jsx("span",{style:{backgroundColor:`${y}20`,color:y},className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full",children:ne.find(be=>be._id===q.classTeacherOf)?.displayName||"N/A"}):s.jsx("span",{className:"text-gray-500",children:"None"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>te("view",q),style:{color:y},className:"p-1 rounded hover:opacity-80",title:"View Details",children:s.jsx(Ds,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>te("edit",q),disabled:A,className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50 disabled:opacity-50",title:"Edit Teacher",children:s.jsx(Lo,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>ce(q._id),disabled:A,className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50 disabled:opacity-50",title:"Delete Teacher",children:s.jsx(Ss,{className:"w-4 h-4"})})]})})]},q._id))})]})}),s.jsxs("div",{className:"p-6 border-t border-gray-200 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",E," of ",k]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>we(E-1),disabled:E===1||A,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 flex items-center",children:[s.jsx(co,{className:"w-4 h-4 mr-1"}),"Previous"]}),s.jsxs("button",{onClick:()=>we(E+1),disabled:E===k||A,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 flex items-center",children:["Next",s.jsx(xi,{className:"w-4 h-4 ml-1"})]})]})]})]}),n&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[s.jsx("div",{style:{backgroundColor:`${y}20`},className:"w-8 h-8 rounded-lg flex items-center justify-center mr-3",children:i==="view"?s.jsx(Ds,{style:{color:y}}):s.jsx(Lo,{style:{color:y}})}),i==="view"?"Teacher Profile":"Edit Teacher"]}),s.jsx("button",{onClick:Ae,className:"text-gray-500 hover:text-gray-700 transition-colors",children:s.jsx(sr,{className:"w-6 h-6"})})]}),i==="view"?s.jsxs("div",{className:"p-6 space-y-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start gap-6",children:[l?.profilePic?s.jsx("img",{src:`https://vidyaastra.com${l.profilePic}`,alt:l.name,className:"w-24 h-24 rounded-full object-cover border-4 border-gray-100 shadow-sm"}):s.jsx("div",{style:{backgroundColor:y},className:"w-24 h-24 rounded-full flex items-center justify-center border-4 border-gray-100 shadow-sm",children:s.jsx("span",{className:"text-white font-bold text-3xl",children:je(l?.name)})}),s.jsx("div",{className:"text-center sm:text-left",children:s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:l?.name||"N/A"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"text-sm font-semibold text-gray-700 flex items-center",children:[s.jsx(Oh,{className:"w-5 h-5 mr-2 text-gray-400"}),"Contact Information"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",l?.email||"N/A"]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Phone:"})," ",l?.phone||"N/A"]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"text-sm font-semibold text-gray-700 flex items-center",children:[s.jsx(en,{className:"w-5 h-5 mr-2 text-gray-400"}),"Account Details"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Joined:"})," ",se(l?.createdAt)]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Last Updated:"})," ",se(l?.updatedAt)]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"text-sm font-semibold text-gray-700 flex items-center",children:[s.jsx(Ln,{className:"w-5 h-5 mr-2 text-gray-400"}),"Teaching Assignments"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Subjects:"}),Array.isArray(l?.subjects)&&l.subjects.length>0?s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:l.subjects.map((q,be)=>s.jsxs("span",{style:{backgroundColor:`${y}20`,color:y},className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full",children:[s.jsx(Ln,{className:"w-3 h-3 mr-1"}),q]},be))}):s.jsx("p",{className:"text-sm text-gray-500",children:"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Classes:"}),Array.isArray(l?.classes)&&l.classes.length>0?s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:l.classes.map((q,be)=>s.jsx("span",{style:{backgroundColor:`${y}20`,color:y},className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full",children:q},be))}):s.jsx("p",{className:"text-sm text-gray-500",children:"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Class Teacher Of:"}),s.jsx("p",{className:"text-sm text-gray-600",children:l?.classTeacherOf?ne.find(q=>q._id===l.classTeacherOf)?.displayName||"N/A":"None"})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:Ae,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})})]}):s.jsxs("form",{onSubmit:Qe,className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[s.jsx(Ns,{className:"mr-1 w-4 h-4"}),"Full Name *"]}),s.jsx("input",{type:"text",name:"name",placeholder:"Full Name",value:ee.name,onChange:V,className:`w-full px-4 py-2 border ${b.name?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm`,required:!0}),b.name&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:b.name})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[s.jsx(Oh,{className:"mr-1 w-4 h-4"}),"Email Address *"]}),s.jsx("input",{type:"email",name:"email",placeholder:"Email Address",value:ee.email,onChange:V,className:`w-full px-4 py-2 border ${b.email?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm`,required:!0}),b.email&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:b.email})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[s.jsx(xf,{className:"mr-1 w-4 h-4"}),"Phone Number *"]}),s.jsx("input",{type:"tel",name:"phone",placeholder:"Phone Number",value:ee.phone,onChange:V,className:`w-full px-4 py-2 border ${b.phone?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm`,required:!0}),b.phone&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:b.phone})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[s.jsx(y0,{className:"mr-1 w-4 h-4"}),"Profile Picture"]}),s.jsx("input",{type:"file",name:"profilePic",accept:"image/jpeg,image/png",onChange:V,className:`w-full px-4 py-2 border ${b.profilePic?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm`}),b.profilePic&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:b.profilePic}),Q&&s.jsxs("p",{className:"text-sm text-gray-600 mt-1 truncate",children:["Selected: ",Q.name]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[s.jsx(Ln,{className:"mr-1 w-4 h-4"}),"Subjects *"]}),s.jsxs("div",{className:"border border-gray-300 rounded-lg p-3 cursor-pointer flex justify-between items-center",onClick:()=>K(!U),disabled:xe,children:[s.jsx("span",{children:xe?"Loading subjects...":ee.subjects.length>0?`${ee.subjects.length} subject(s) selected`:"Select subjects"}),xe?s.jsx(br,{className:"animate-spin"}):U?s.jsx(Yp,{}):s.jsx(gf,{})]}),U&&!xe&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:ae.length===0?s.jsx("div",{className:"p-3 text-gray-500 text-center",children:"No subjects available"}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-3 hover:bg-gray-100 cursor-pointer flex items-center border-b border-gray-200",onClick:pe,children:[s.jsx("input",{type:"checkbox",checked:ee.subjects.length===ae.length,onChange:pe,className:"mr-2 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"font-medium",children:ee.subjects.length===ae.length?"Deselect All":"Select All"})]}),ae.map(q=>s.jsxs("div",{className:"p-3 hover:bg-gray-100 cursor-pointer flex items-center",onClick:()=>ie(q.SubjectName),children:[s.jsx("input",{type:"checkbox",checked:ee.subjects.includes(q.SubjectName),onChange:()=>ie(q.SubjectName),className:"mr-2 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"truncate",children:q.SubjectName})]},q._id))]})}),ee.subjects.length>0&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:ee.subjects.map(q=>s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[q,s.jsx("button",{type:"button",onClick:()=>ie(q),className:"ml-1 rounded-full hover:bg-blue-200",children:s.jsx(sr,{className:"w-3 h-3"})})]},q))}),b.subjects&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:b.subjects})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[s.jsx(Jr,{className:"mr-1 w-4 h-4"}),"Classes *"]}),s.jsxs("div",{className:"border border-gray-300 rounded-lg p-3 cursor-pointer flex justify-between items-center",onClick:()=>Z(!X),disabled:ue,children:[s.jsx("span",{children:ue?"Loading classes...":ee.classes.length>0?`${ee.classes.length} class(es) selected`:"Select classes"}),ue?s.jsx(br,{className:"animate-spin"}):X?s.jsx(Yp,{}):s.jsx(gf,{})]}),X&&!ue&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:ne.length===0?s.jsx("div",{className:"p-3 text-gray-500 text-center",children:"No classes available"}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-3 hover:bg-gray-100 cursor-pointer flex items-center border-b border-gray-200",onClick:ge,children:[s.jsx("input",{type:"checkbox",checked:ee.classes.length===ne.length,onChange:ge,className:"mr-2 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"font-medium",children:ee.classes.length===ne.length?"Deselect All":"Select All"})]}),ne.map(q=>s.jsxs("div",{className:"p-3 hover:bg-gray-100 cursor-pointer flex items-center",onClick:()=>ye(q.displayName),children:[s.jsx("input",{type:"checkbox",checked:ee.classes.includes(q.displayName),onChange:()=>ye(q.displayName),className:"mr-2 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"truncate",children:q.displayName})]},q._id))]})}),ee.classes.length>0&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:ee.classes.map(q=>s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[q,s.jsx("button",{type:"button",onClick:()=>ye(q),className:"ml-1 rounded-full hover:bg-green-200",children:s.jsx(sr,{className:"w-3 h-3"})})]},q))}),b.classes&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:b.classes})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[s.jsx(Jr,{className:"mr-1 w-4 h-4"}),"Class Teacher Of"]}),s.jsxs("select",{name:"classTeacherOf",value:ee.classTeacherOf,onChange:V,className:`w-full px-4 py-2 border ${b.classTeacherOf?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm`,disabled:ue,children:[s.jsx("option",{value:"",children:"None"}),ne.map(q=>s.jsx("option",{value:q._id,children:q.displayName},q._id))]}),b.classTeacherOf&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:b.classTeacherOf})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:Ae,disabled:A,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 transition-colors",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:A||ue||xe,style:{backgroundColor:y},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 disabled:opacity-50 flex items-center justify-center space-x-2 transition-opacity",children:[A?s.jsx(br,{className:"w-4 h-4 animate-spin"}):s.jsx(Ro,{className:"w-4 h-4"}),s.jsx("span",{children:A?"Saving...":"Update Teacher"})]})]})]})]})})]})},ef="https://vidyaastra.com/api",sJ=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],aJ=["Bus","Van","Auto"],iJ=()=>{const[t,r]=w.useState(""),[n,a]=w.useState(!1),[i,o]=w.useState("add"),[l,c]=w.useState(null),[u,f]=w.useState([]),[A,m]=w.useState([]),[p,g]=w.useState([]),[b,v]=w.useState([]),[y,j]=w.useState([]),[C,S]=w.useState(!1),[E,D]=w.useState(""),[k,L]=w.useState(""),[I,Y]=w.useState({}),[Q,H]=w.useState("#2563eb"),[U,K]=w.useState(null),[X,Z]=w.useState([]),[ee,de]=w.useState([]),[Ne,Se]=w.useState("all"),[ue,xe]=w.useState("all"),[R,G]=w.useState(null),[ne,ae]=w.useState({totalTransports:0,totalStudents:0,totalRevenue:0,pendingPayments:0,occupancyRate:0,completedPayments:0,partialPayments:0,overduePayments:0}),[oe,he]=w.useState({route:"",routeName:"",busNumber:"",driverName:"",driverPhone:"",conductorName:"",conductorPhone:"",startTime:"",endTime:"",transportType:"Bus",totalCapacity:"",yearlyFee:"",operatingDays:[],notes:"",schoolId:""});w.useEffect(()=>{const Ie=localStorage.getItem("color");Ie&&H(Ie);const qe=localStorage.getItem("schoolId");qe?(K(qe),console.log("School ID loaded:",qe)):(D("School ID not found. Please log in to access transport data."),mr.error("School ID not found. Please log in to access transport data."))},[]);const me=w.useCallback(async()=>{if(U)try{console.log("Fetching classes for school:",U);const Ie=await Ft.get(`${ef}/class/all-unfiltered`);console.log("Classes response:",Ie.data),Array.isArray(Ie.data)?(g(Ie.data),console.log(`Loaded ${Ie.data.length} classes`)):Ie.data.success&&Array.isArray(Ie.data.data)&&(g(Ie.data.data),console.log(`Loaded ${Ie.data.data.length} classes`))}catch(Ie){console.error("Error fetching classes:",Ie)}},[U]),te=w.useCallback((Ie,qe=null)=>{if(!Ie)return qe||"Not Assigned";if(typeof Ie=="object"&&Ie.className)return`${Ie.className}${Ie.section?` ${Ie.section}`:""}`;if(typeof Ie=="string"){const at=p.find(Ut=>Ut._id===Ie);return at?`${at.className}${at.section?` ${at.section}`:""}`:`Class ID: ${Ie}`}return qe||"Not Assigned"},[p]),Ae=w.useCallback(async()=>{if(U)try{console.log("Fetching students for school:",U);const Ie=await Ft.get(`${ef}/students`,{params:{schoolId:U}});if(console.log("Students response:",Ie.data),Array.isArray(Ie.data)){const qe=Ie.data.filter(at=>at.schoolId===U||at.schoolId?._id===U);m(qe),console.log(`Loaded ${qe.length} students for school`)}else if(Ie.data.success&&Array.isArray(Ie.data.data)){const qe=Ie.data.data.filter(at=>at.schoolId===U||at.schoolId?._id===U);m(qe),console.log(`Loaded ${qe.length} students for school`)}}catch(Ie){console.error("Error fetching students:",Ie),mr.error("Failed to fetch students")}},[U]),V=w.useCallback(async()=>{if(!U){S(!1);return}S(!0),D("");try{console.log("Fetching transports for school:",U);const Ie=await Ft.get(`${ef}/transports`,{params:{schoolId:U}});if(console.log("Raw transports response:",Ie.data),Ie.data.success){const qe=Ie.data.data||[];console.log("Raw transports array:",qe),f(qe),console.log(`Loaded ${qe.length} transports`),pe(qe),mr.success(`Loaded ${qe.length} transport records`)}else D(Ie.data.message||"Failed to fetch transport data"),mr.error(Ie.data.message||"Failed to fetch transport data")}catch(Ie){console.error("Error fetching transports:",Ie);const qe=Ie.response?.data?.message||"Failed to fetch transport data";D(qe),mr.error(qe)}finally{S(!1)}},[U]),ie=w.useCallback(async()=>{if(U)try{const Ie=[];for(const qe of u)for(const at of qe.assignedStudents||[])try{const Ut=at.studentId?._id||at.studentId;if(!Ut)continue;const Ue=await Ft.get(`${ef}/transports/payment/history/${Ut}`,{params:{schoolId:U}});Ue.data.success&&Ue.data.data&&Ie.push({...Ue.data.data,transportInfo:qe,studentInfo:at.studentId})}catch{const Ue=at.studentId?._id||at.studentId||"unknown";console.log(`No payment record for student ${Ue}`)}j(Ie),console.log(`Loaded ${Ie.length} payment records`)}catch(Ie){console.error("Error fetching payment records:",Ie)}},[U,u]),pe=Ie=>{const qe=Ie.length,at=Ie.reduce((Ke,Tt)=>Ke+(Tt.assignedStudents?.length||0),0),Ut=Ie.reduce((Ke,Tt)=>Ke+Tt.totalCapacity,0),Ue=Ut>0?at/Ut*100:0,At=Ie.reduce((Ke,Tt)=>{const wt=Tt.assignedStudents?.length||0;return Ke+wt*(Tt.yearlyFee||0)},0),Ce=y.filter(Ke=>Ke.paymentStatus==="completed").length,tt=y.filter(Ke=>Ke.paymentStatus==="partial").length,gt=y.filter(Ke=>Ke.paymentStatus==="pending").length,Kt=y.filter(Ke=>Ke.paymentStatus==="overdue").length;ae({totalTransports:qe,totalStudents:at,totalRevenue:At,pendingPayments:gt,occupancyRate:Ue,completedPayments:Ce,partialPayments:tt,overduePayments:Kt})},ye=w.useCallback(async()=>{if(!(!U||A.length===0))try{const Ie=new Set;u.forEach(at=>{at.assignedStudents?.forEach(Ut=>{const Ue=Ut.studentId?._id||Ut.studentId;Ue&&Ie.add(Ue)})});const qe=A.filter(at=>!Ie.has(at._id));v(qe),console.log(`Found ${qe.length} available students`)}catch(Ie){console.error("Error filtering available students:",Ie)}},[A,u,U]);w.useEffect(()=>{V(),Ae(),me()},[V,Ae,me]),w.useEffect(()=>{u.length>0&&ie()},[u,ie]),w.useEffect(()=>{ye()},[ye]),w.useEffect(()=>{y.length>0&&pe(u)},[y,u]);const ge=u.filter(Ie=>{const qe=Ie.busNumber?.toLowerCase().includes(t.toLowerCase())||Ie.route?.toLowerCase().includes(t.toLowerCase())||Ie.routeName?.toLowerCase().includes(t.toLowerCase())||Ie.driverName?.toLowerCase().includes(t.toLowerCase())||Ie.driverPhone?.includes(t),at=Ne==="all"||Ie.status===Ne;return qe&&at}),le=(Ie,qe=null)=>{o(Ie),c(qe),Y({}),D(""),L(""),Z([]),de([]),Ie==="add"?(he({route:"",routeName:"",busNumber:"",driverName:"",driverPhone:"",conductorName:"",conductorPhone:"",startTime:"",endTime:"",transportType:"Bus",totalCapacity:"",yearlyFee:"",operatingDays:[],notes:"",schoolId:U||""}),de([{stopName:"",stopTime:"",stopOrder:1,landmark:""}])):qe&&(he({route:qe.route||"",routeName:qe.routeName||"",busNumber:qe.busNumber||"",driverName:qe.driverName||"",driverPhone:qe.driverPhone||"",conductorName:qe.conductorName||"",conductorPhone:qe.conductorPhone||"",startTime:qe.startTime||"",endTime:qe.endTime||"",transportType:qe.transportType||"Bus",totalCapacity:qe.totalCapacity?.toString()||"50",yearlyFee:qe.yearlyFee?.toString()||"12000",operatingDays:qe.operatingDays||[],notes:qe.notes||"",schoolId:U||""}),de(qe.routeStops||[{stopName:"",stopTime:"",stopOrder:1,landmark:""}])),a(!0)},Qe=()=>{a(!1),c(null),o("add"),D(""),L(""),Y({}),Z([]),de([]),G(null)},ce=Ie=>{const{name:qe,value:at}=Ie.target;he({...oe,[qe]:at}),I[qe]&&Y(Ut=>({...Ut,[qe]:""}))},se=Ie=>{const qe=oe.operatingDays.includes(Ie)?oe.operatingDays.filter(at=>at!==Ie):[...oe.operatingDays,Ie];he({...oe,operatingDays:qe})},je=(Ie,qe,at)=>{const Ut=[...ee];Ut[Ie]={...Ut[Ie],[qe]:at},de(Ut)},we=()=>{const Ie={stopName:"",stopTime:"",stopOrder:ee.length+1,landmark:""};de([...ee,Ie])},q=Ie=>{if(ee.length>1){const qe=ee.filter((at,Ut)=>Ut!==Ie);qe.forEach((at,Ut)=>{at.stopOrder=Ut+1}),de(qe)}},be=()=>{const Ie={};return oe.busNumber.trim()||(Ie.busNumber="Bus Number is required"),oe.route.trim()||(Ie.route="Route is required"),oe.routeName.trim()||(Ie.routeName="Route Name is required"),oe.driverName.trim()||(Ie.driverName="Driver Name is required"),oe.driverPhone.trim()?/^[+]?[0-9\s-]{10,16}$/.test(oe.driverPhone)||(Ie.driverPhone="Phone number is invalid (10-16 digits)"):Ie.driverPhone="Driver Phone is required",oe.conductorPhone&&!/^[+]?[0-9\s-]{10,16}$/.test(oe.conductorPhone)&&(Ie.conductorPhone="Conductor phone number is invalid"),oe.startTime||(Ie.startTime="Start Time is required"),oe.endTime||(Ie.endTime="End Time is required"),(!oe.totalCapacity||Number.parseInt(oe.totalCapacity)<1)&&(Ie.totalCapacity="Capacity must be at least 1"),(!oe.yearlyFee||Number.parseFloat(oe.yearlyFee)<0)&&(Ie.yearlyFee="Yearly fee must be a valid amount"),oe.operatingDays.length===0&&(Ie.operatingDays="At least one operating day is required"),ee.forEach((qe,at)=>{qe.stopName.trim()||(Ie[`stop_${at}_name`]=`Stop ${at+1} name is required`),qe.stopTime.trim()||(Ie[`stop_${at}_time`]=`Stop ${at+1} time is required`)}),Y(Ie),Object.keys(Ie).length===0},Ee=async Ie=>{if(Ie.preventDefault(),S(!0),D(""),L(""),!be()){S(!1);return}if(!U){D("School ID is missing. Cannot perform this operation."),mr.error("School ID is missing. Cannot perform this operation."),S(!1);return}try{console.log("Submitting transport data...");const qe=Number.parseFloat(oe.yearlyFee),at=[{numberOfInstallments:1,installmentAmount:qe,description:"Full Payment"},{numberOfInstallments:2,installmentAmount:Math.ceil(qe/2),description:"2 Installments"},{numberOfInstallments:3,installmentAmount:Math.ceil(qe/3),description:"3 Installments"},{numberOfInstallments:4,installmentAmount:Math.ceil(qe/4),description:"4 Installments"}],Ut={route:oe.route.trim(),routeName:oe.routeName.trim(),busNumber:oe.busNumber.trim(),driverName:oe.driverName.trim(),driverPhone:oe.driverPhone.trim(),conductorName:oe.conductorName.trim(),conductorPhone:oe.conductorPhone.trim(),startTime:oe.startTime,endTime:oe.endTime,transportType:oe.transportType,totalCapacity:Number.parseInt(oe.totalCapacity),yearlyFee:qe,installmentOptions:at,operatingDays:oe.operatingDays,notes:oe.notes.trim(),routeStops:ee.filter(At=>At.stopName.trim()),schoolId:U};let Ue;if(i==="add"?Ue=await Ft.post(`${ef}/transports`,Ut):i==="edit"&&(Ue=await Ft.put(`${ef}/transports/${l?._id}`,Ut)),console.log("Transport submission response:",Ue?.data),Ue?.data.success){const At=Ue.data.message||"Transport saved successfully!";L(At),mr.success(At),await V(),Qe()}else{const At=Ue?.data.message||"Failed to save transport";D(At),mr.error(At)}}catch(qe){console.error("Error saving transport:",qe);const at=qe.response?.data?.message||"Failed to save transport. Please try again.";D(at),mr.error(at)}finally{S(!1)}},Re=w.useCallback(async Ie=>{if(window.confirm("Are you sure you want to delete this transport entry?")){if(S(!0),D(""),L(""),!U){D("School ID is missing. Cannot perform this operation."),mr.error("School ID is missing. Cannot perform this operation."),S(!1);return}try{console.log("Deleting transport:",Ie);const qe=await Ft.delete(`${ef}/transports/${Ie}`,{data:{schoolId:U}});if(console.log("Delete response:",qe.data),qe.data.success){const at=qe.data.message||"Transport deleted successfully!";L(at),mr.success(at),await V()}else{const at=qe.data.message||"Failed to delete transport";D(at),mr.error(at)}}catch(qe){console.error("Error deleting transport:",qe);const at=qe.response?.data?.message||"Failed to delete transport entry";D(at),mr.error(at)}finally{S(!1)}}},[V,U]),it=async(Ie,qe,at)=>{if(!(!l||!U)){if(l.availableSeats<=0){mr.error("No seats available. Transport is at full capacity.");return}S(!0),D("");try{const Ut={studentId:Ie,pickupStopId:qe,dropoffStopId:at,schoolId:U,numberOfInstallments:3,paymentMethod:"cash",academicYear:new Date().getFullYear()+"-"+(new Date().getFullYear()+1)},Ue=await Ft.post(`${ef}/transports/${l._id}/book`,Ut);Ue.data.success?(L("Student booked successfully! Payment record created."),mr.success("Student booked successfully! Payment record created."),await V(),await ie(),Z([]),Qe()):Ue.data.noSeatsAvailable?mr.error("No seats available. Transport is at full capacity."):mr.error(Ue.data.message||"Failed to book transport")}catch(Ut){console.error("Error booking transport:",Ut);const Ue=Ut.response?.data?.message||"Failed to book transport";Ue.includes("No seats available")||Ue.includes("full capacity")?mr.error("No seats available. Transport is at full capacity."):mr.error(Ue),D(Ue)}finally{S(!1)}}},et=async Ie=>{if(l&&window.confirm("Are you sure you want to remove this student from the transport?")){S(!0),D("");try{const qe=await Ft.delete(`${ef}/transports/${l._id}/remove-student/${Ie}`,{data:{schoolId:U}});qe.data.success&&(L("Student removed successfully!"),mr.success("Student removed successfully!"),await V(),await ie(),c(qe.data.data))}catch(qe){console.error("Error removing student:",qe);const at=qe.response?.data?.message||"Failed to remove student";D(at),mr.error(at)}finally{S(!1)}}};w.useEffect(()=>{if(E){const Ie=setTimeout(()=>D(""),5e3);return()=>clearTimeout(Ie)}},[E]),w.useEffect(()=>{if(k){const Ie=setTimeout(()=>L(""),3e3);return()=>clearTimeout(Ie)}},[k]);const Ct=()=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-8 gap-4 mb-6",children:[s.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Transports"}),s.jsx("p",{className:"text-2xl font-bold",style:{color:Q},children:ne.totalTransports})]}),s.jsx(El,{className:"w-8 h-8 text-gray-400"})]})}),s.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Students"}),s.jsx("p",{className:"text-2xl font-bold",style:{color:Q},children:ne.totalStudents})]}),s.jsx(Jr,{className:"w-8 h-8 text-gray-400"})]})}),s.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Yearly Revenue"}),s.jsxs("p",{className:"text-2xl font-bold",style:{color:Q},children:["₹",ne.totalRevenue.toLocaleString()]})]}),s.jsx(id,{className:"w-8 h-8 text-gray-400"})]})}),s.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Occupancy Rate"}),s.jsxs("p",{className:"text-2xl font-bold",style:{color:Q},children:[ne.occupancyRate.toFixed(1),"%"]})]}),s.jsx(e6,{className:"w-8 h-8 text-gray-400"})]})}),s.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Completed Payments"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:ne.completedPayments})]}),s.jsx(pi,{className:"w-8 h-8 text-green-400"})]})}),s.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Partial Payments"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:ne.partialPayments})]}),s.jsx(_n,{className:"w-8 h-8 text-yellow-400"})]})}),s.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Pending Payments"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:ne.pendingPayments})]}),s.jsx(Qp,{className:"w-8 h-8 text-red-400"})]})}),s.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Available Students"}),s.jsx("p",{className:"text-2xl font-bold",style:{color:Q},children:b.length})]}),s.jsx(Ej,{className:"w-8 h-8 text-gray-400"})]})})]}),_t=()=>s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transport Details"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Route & Driver"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Students & Payments"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Financial Summary"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ge.map(Ie=>{const qe=y.filter(At=>At.transportId===Ie._id||At.transportInfo?._id===Ie._id),at=qe.reduce((At,Ce)=>At+(Ce.paidAmount||0),0),Ut=(Ie.assignedStudents?.length||0)*(Ie.yearlyFee||0),Ue=Ut>0?at/Ut*100:0;return s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:`${Q}20`},children:s.jsx(El,{className:"w-6 h-6",style:{color:Q}})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ie.busNumber}),s.jsx("div",{className:"text-sm text-gray-500",children:Ie.transportType||"Bus"}),Ie.availableSeats<=0&&s.jsx("div",{className:"text-xs text-red-600 font-semibold",children:"No Seats Available"})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx(v0,{className:"w-4 h-4 mr-2",style:{color:Q}}),s.jsx("span",{className:"font-medium",children:Ie.routeName||Ie.route})]}),s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx(Ns,{className:"w-4 h-4 mr-2",style:{color:Q}}),Ie.driverName]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(xf,{className:"w-4 h-4 mr-2",style:{color:Q}}),Ie.driverPhone]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx(Jr,{className:"w-4 h-4 mr-2",style:{color:Q}}),s.jsxs("span",{className:"font-medium",children:[Ie.assignedStudents?.length||0,"/",Ie.totalCapacity," Students"]})]}),s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx(Ch,{className:"w-4 h-4 mr-2",style:{color:Q}}),s.jsxs("span",{className:"text-green-600 font-medium",children:[qe.filter(At=>At.paymentStatus==="completed").length," ","Paid"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(_n,{className:"w-4 h-4 mr-2",style:{color:Q}}),s.jsxs("span",{className:"text-yellow-600 font-medium",children:[qe.filter(At=>At.paymentStatus==="partial").length," ","Partial"]}),s.jsxs("span",{className:"text-red-600 font-medium ml-2",children:[qe.filter(At=>At.paymentStatus==="pending").length," ","Pending"]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx(id,{className:"w-4 h-4 mr-2",style:{color:Q}}),s.jsxs("span",{className:"font-medium",children:["₹",Ie.yearlyFee||0,"/year"]})]}),s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx(Ih,{className:"w-4 h-4 mr-2",style:{color:Q}}),s.jsxs("span",{className:"text-green-600 font-medium",children:["₹",at.toLocaleString()," Collected"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(e6,{className:"w-4 h-4 mr-2",style:{color:Q}}),s.jsxs("span",{className:"text-blue-600 font-medium",children:[Ue.toFixed(1),"% Collection Rate"]})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full mt-1 ${Ie.status==="Active"?"bg-green-100 text-green-800":Ie.status==="Inactive"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:Ie.status||"Active"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>le("view",Ie),className:"hover:opacity-75 p-1 rounded",style:{color:Q},title:"View Details",children:s.jsx(Ds,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>le("payments",Ie),disabled:C,className:"hover:opacity-75 p-1 rounded disabled:opacity-50",style:{color:Q},title:"View Payment Details",children:s.jsx(Ch,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>le("assign",Ie),disabled:C,className:"hover:opacity-75 p-1 rounded disabled:opacity-50",style:{color:Q},title:"Assign Students",children:s.jsx(Ej,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>le("edit",Ie),disabled:C,className:"hover:opacity-75 p-1 rounded disabled:opacity-50",style:{color:Q},title:"Edit Transport",children:s.jsx(Lo,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Re(Ie._id),disabled:C,className:"hover:opacity-75 p-1 rounded disabled:opacity-50",style:{color:Q},title:"Delete Transport",children:s.jsx(Ss,{className:"w-4 h-4"})})]})})]},Ie._id)})})]}),ot=()=>{if(i==="payments"){const Ie=y.filter(Ue=>Ue.transportId===l?._id||Ue.transportInfo?._id===l?._id),qe=Ie.reduce((Ue,At)=>Ue+(At.paidAmount||0),0),at=(l?.assignedStudents?.length||0)*(l?.yearlyFee||0),Ut=at>0?qe/at*100:0;return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:["Payment Details - ",l?.busNumber]}),s.jsxs("p",{className:"text-gray-600",children:["Route: ",l?.routeName," | Yearly Fee: ₹",l?.yearlyFee]}),s.jsx("p",{className:"text-sm text-orange-600 font-medium mt-1",children:"⚠️ Admin View Only - Payment processing is handled by students/parents"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Collection Rate"}),s.jsxs("p",{className:"text-2xl font-bold",style:{color:Q},children:[Ut.toFixed(1),"%"]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["₹",qe.toLocaleString()," / ₹",at.toLocaleString()]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(pi,{className:"w-6 h-6 text-green-600 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-600",children:"Completed"}),s.jsx("p",{className:"text-xl font-bold text-green-800",children:Ie.filter(Ue=>Ue.paymentStatus==="completed").length})]})]})}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(_n,{className:"w-6 h-6 text-yellow-600 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-yellow-600",children:"Partial"}),s.jsx("p",{className:"text-xl font-bold text-yellow-800",children:Ie.filter(Ue=>Ue.paymentStatus==="partial").length})]})]})}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qp,{className:"w-6 h-6 text-red-600 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-red-600",children:"Pending"}),s.jsx("p",{className:"text-xl font-bold text-red-800",children:Ie.filter(Ue=>Ue.paymentStatus==="pending").length})]})]})}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(id,{className:"w-6 h-6 text-blue-600 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600",children:"Total Students"}),s.jsx("p",{className:"text-xl font-bold text-blue-800",children:l?.assignedStudents?.length||0})]})]})})]}),Ie.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ch,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No payment records found for this transport"}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Students need to book this transport to generate payment records"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Student Payment Details (View Only)"}),s.jsxs("button",{onClick:()=>{const Ue=Ie.map(At=>({StudentName:At.studentId?.name||At.studentInfo?.name,RollNumber:At.studentId?.rollNumber||At.studentInfo?.rollNumber,TotalAmount:At.totalAmount,PaidAmount:At.paidAmount,RemainingAmount:At.remainingAmount,InstallmentsPaid:`${At.installmentsPaid}/${At.numberOfInstallments}`,PaymentStatus:At.paymentStatus,LastPaymentDate:At.paymentHistory?.[At.paymentHistory.length-1]?.paymentDate||"N/A"}));console.log("Payment data for export:",Ue),mr.success("Payment data ready for export")},className:"flex items-center space-x-2 px-3 py-1 text-sm border rounded-lg hover:bg-gray-50",children:[s.jsx(Cs,{className:"w-4 h-4"}),s.jsx("span",{children:"Export"})]})]}),Ie.map(Ue=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(Ns,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-800",children:Ue.studentId?.name||Ue.studentInfo?.name||"Unknown Student"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Roll:"," ",Ue.studentId?.rollNumber||Ue.studentInfo?.rollNumber||"N/A"," ","| Class:"," ",te(Ue.studentId?.classId||Ue.studentInfo?.classId,Ue.studentId?.class||Ue.studentInfo?.class)]}),(Ue.studentId?.phone||Ue.studentInfo?.phone)&&s.jsxs("p",{className:"text-sm text-gray-500",children:["Phone:"," ",Ue.studentId?.phone||Ue.studentInfo?.phone]})]})]})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${Ue.paymentStatus==="completed"?"bg-green-100 text-green-800":Ue.paymentStatus==="partial"?"bg-yellow-100 text-yellow-800":Ue.paymentStatus==="overdue"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:Ue.paymentStatus?.toUpperCase()||"PENDING"}),s.jsx("button",{onClick:()=>G(R===Ue._id?null:Ue._id),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:R===Ue._id?"Hide Details":"View Details"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-4",children:[s.jsxs("div",{className:"bg-white p-3 rounded border",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Total Amount"}),s.jsxs("p",{className:"font-semibold text-lg",children:["₹",Ue.totalAmount||0]})]}),s.jsxs("div",{className:"bg-white p-3 rounded border",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Paid Amount"}),s.jsxs("p",{className:"font-semibold text-lg text-green-600",children:["₹",Ue.paidAmount||0]})]}),s.jsxs("div",{className:"bg-white p-3 rounded border",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Remaining"}),s.jsxs("p",{className:"font-semibold text-lg text-orange-600",children:["₹",Ue.remainingAmount||0]})]}),s.jsxs("div",{className:"bg-white p-3 rounded border",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Installments"}),s.jsxs("p",{className:"font-semibold text-lg",children:[Ue.installmentsPaid||0,"/",Ue.numberOfInstallments||0]})]}),s.jsxs("div",{className:"bg-white p-3 rounded border",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Progress"}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${Ue.totalAmount>0?Ue.paidAmount/Ue.totalAmount*100:0}%`}})}),s.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[Ue.totalAmount>0?Math.round(Ue.paidAmount/Ue.totalAmount*100):0,"%"]})]})]}),R===Ue._id&&s.jsxs("div",{className:"bg-white rounded-lg p-4 border mt-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("h5",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[s.jsx(t6,{className:"w-4 h-4 mr-2",style:{color:Q}}),"Payment Plan Details"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Academic Year:"}),s.jsx("span",{className:"font-medium",children:Ue.academicYear||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Start Date:"}),s.jsx("span",{className:"font-medium",children:Ue.startDate?new Date(Ue.startDate).toLocaleDateString():"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"End Date:"}),s.jsx("span",{className:"font-medium",children:Ue.endDate?new Date(Ue.endDate).toLocaleDateString():"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Next Due Date:"}),s.jsx("span",{className:"font-medium",children:Ue.nextDueDate?new Date(Ue.nextDueDate).toLocaleDateString():"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Installment Amount:"}),s.jsxs("span",{className:"font-medium",children:["₹",Ue.installmentAmount||0]})]})]})]}),s.jsxs("div",{children:[s.jsxs("h5",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[s.jsx(Ch,{className:"w-4 h-4 mr-2",style:{color:Q}}),"Payment History (",Ue.paymentHistory?.length||0,")"]}),Ue.paymentHistory&&Ue.paymentHistory.length>0?s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:Ue.paymentHistory.map((At,Ce)=>s.jsxs("div",{className:"bg-gray-50 p-3 rounded border",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-green-600",children:["₹",At.amount]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(At.paymentDate).toLocaleDateString()," ","at"," ",new Date(At.paymentDate).toLocaleTimeString()]}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Method:"," ",At.paymentMethod?.toUpperCase()]}),At.transactionId&&s.jsxs("p",{className:"text-xs text-gray-600",children:["TXN: ",At.transactionId]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${At.status==="completed"?"bg-green-100 text-green-800":At.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:At.status?.toUpperCase()}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Installment ",At.installmentNumber]})]})]}),At.notes&&s.jsx("p",{className:"text-xs text-gray-600 mt-2 italic",children:At.notes})]},Ce))}):s.jsx("p",{className:"text-gray-500 text-sm",children:"No payment history available"})]})]}),Ue.remainingAmount>0&&s.jsx("div",{className:"mt-4 pt-4 border-t bg-orange-50 p-3 rounded",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-orange-800 font-medium",children:"Next Payment Due"}),s.jsxs("p",{className:"font-semibold text-orange-900",children:["₹",Ue.installmentAmount," (Installment"," ",(Ue.installmentsPaid||0)+1,")"]}),s.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:["Due:"," ",Ue.nextDueDate?new Date(Ue.nextDueDate).toLocaleDateString():"Immediate"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-orange-600",children:"Payment to be made by"}),s.jsx("p",{className:"text-sm font-medium text-orange-800",children:"Student/Parent"})]})]})})]}),Ue.remainingAmount>0&&R!==Ue._id&&s.jsxs("div",{className:"flex justify-between items-center mt-3 pt-3 border-t bg-orange-50 p-2 rounded",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-orange-800 font-medium",children:["Next Payment: ₹",Ue.installmentAmount]}),s.jsxs("p",{className:"text-xs text-orange-600",children:["Due:"," ",Ue.nextDueDate?new Date(Ue.nextDueDate).toLocaleDateString():"Immediate"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-orange-600",children:"To be paid by"}),s.jsx("p",{className:"text-sm font-medium text-orange-800",children:"Student/Parent"})]})]})]},Ue._id))]}),l?.assignedStudents&&(()=>{const Ue=l.assignedStudents.filter(At=>At.studentId?!Ie.some(Ce=>(Ce.studentId?._id||Ce.studentId)===(At.studentId._id||At.studentId)):!1);return Ue.length>0&&s.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsxs("h5",{className:"font-semibold text-yellow-800 mb-3 flex items-center",children:[s.jsx(ln,{className:"w-4 h-4 mr-2"}),"Students Without Payment Records (",Ue.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Ue.map((At,Ce)=>s.jsxs("div",{className:"bg-white p-3 rounded border",children:[s.jsx("p",{className:"font-medium",children:At.studentId?.name||"Unknown Student"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Roll: ",At.studentId?.rollNumber||"N/A"]}),s.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Payment record needs to be created"})]},At.studentId?._id||Ce))})]})})()]})}if(i==="view"){const Ie=y.filter(qe=>qe.transportId===l?._id||qe.transportInfo?._id===l?._id);return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[s.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center",style:{backgroundColor:Q},children:s.jsx(El,{className:"w-10 h-10 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:l?.busNumber}),s.jsxs("p",{className:"text-gray-600",children:["Route: ",l?.routeName||l?.route]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Status:"," ",s.jsx("span",{className:"font-medium text-green-600",children:l?.status||"Active"})]}),l?.availableSeats<=0&&s.jsx("p",{className:"text-sm text-red-600 font-semibold",children:"⚠️ No Seats Available"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ns,{className:"w-5 h-5",style:{color:Q}}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Driver Name"}),s.jsx("p",{className:"font-medium",children:l?.driverName})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(xf,{className:"w-5 h-5",style:{color:Q}}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Driver Phone"}),s.jsx("p",{className:"font-medium",children:l?.driverPhone})]})]}),l?.conductorName&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ns,{className:"w-5 h-5",style:{color:Q}}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Conductor"}),s.jsx("p",{className:"font-medium",children:l.conductorName}),l.conductorPhone&&s.jsx("p",{className:"text-sm text-gray-400",children:l.conductorPhone})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(_n,{className:"w-5 h-5",style:{color:Q}}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Schedule"}),s.jsxs("p",{className:"font-medium",children:[l?.startTime," - ",l?.endTime]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(El,{className:"w-5 h-5",style:{color:Q}}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Transport Type"}),s.jsx("p",{className:"font-medium",children:l?.transportType||"Bus"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Jr,{className:"w-5 h-5",style:{color:Q}}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Capacity"}),s.jsxs("p",{className:"font-medium",children:[l?.totalCapacity," students"]}),s.jsxs("p",{className:"text-sm text-gray-400",children:["Available: ",l?.availableSeats||0," seats"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(id,{className:"w-5 h-5",style:{color:Q}}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Yearly Fee"}),s.jsxs("p",{className:"font-medium",children:["₹",l?.yearlyFee||0]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(en,{className:"w-5 h-5",style:{color:Q}}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Operating Days"}),s.jsx("p",{className:"font-medium",children:l?.operatingDays?.join(", ")||"Not specified"})]})]}),l?.notes&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(t6,{className:"w-5 h-5",style:{color:Q}}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Notes"}),s.jsx("p",{className:"font-medium",children:l.notes})]})]})]})]}),Ie.length>0&&s.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsxs("h4",{className:"text-lg font-semibold text-blue-800 mb-3 flex items-center",children:[s.jsx(Ch,{className:"w-5 h-5 mr-2"}),"Payment Summary (View Only)"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:Ie.filter(qe=>qe.paymentStatus==="completed").length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Completed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:Ie.filter(qe=>qe.paymentStatus==="partial").length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Partial"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:Ie.filter(qe=>qe.paymentStatus==="pending").length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Pending"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold",style:{color:Q},children:["₹",Ie.reduce((qe,at)=>qe+(at.paidAmount||0),0).toLocaleString()]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Collected"})]})]})]}),l?.routeStops&&l.routeStops.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[s.jsx(v0,{className:"w-5 h-5 mr-2",style:{color:Q}}),"Route Stops (",l.routeStops.length,")"]}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 max-h-60 overflow-y-auto",children:s.jsx("div",{className:"space-y-2",children:l.routeStops.sort((qe,at)=>qe.stopOrder-at.stopOrder).map((qe,at)=>s.jsxs("div",{className:"bg-white p-3 rounded border text-sm flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:qe.stopName}),s.jsxs("p",{className:"text-gray-500",children:["Time: ",qe.stopTime]}),qe.landmark&&s.jsxs("p",{className:"text-gray-400",children:["Near: ",qe.landmark]})]}),s.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs",children:["Stop ",qe.stopOrder]})]},qe._id||at))})})]}),l?.assignedStudents&&l.assignedStudents.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[s.jsx(Jr,{className:"w-5 h-5 mr-2",style:{color:Q}}),"Assigned Students (",l.assignedStudents.length,"/",l.totalCapacity,")"]}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 max-h-60 overflow-y-auto",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:l.assignedStudents.map((qe,at)=>{if(!qe.studentId)return s.jsx("div",{className:"bg-white p-3 rounded border text-sm flex justify-between items-center",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-red-500",children:"Invalid Student Record"}),s.jsx("p",{className:"text-gray-500",children:"Student data missing"})]})},at);const Ut=Ie.find(Ue=>(Ue.studentId?._id||Ue.studentId)===(qe.studentId._id||qe.studentId));return s.jsxs("div",{className:"bg-white p-3 rounded border text-sm flex justify-between items-center",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:qe.studentId.name||"Unknown Student"}),s.jsxs("p",{className:"text-gray-500",children:["Roll: ",qe.studentId.rollNumber||"N/A"]}),s.jsxs("p",{className:"text-gray-500",children:["Class:"," ",te(qe.studentId?.classId,qe.studentId?.class)]}),s.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Ut?.paymentStatus==="completed"?"bg-green-100 text-green-800":Ut?.paymentStatus==="partial"?"bg-yellow-100 text-yellow-800":Ut?.paymentStatus==="pending"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:Ut?.paymentStatus?.toUpperCase()||"NO RECORD"}),Ut&&s.jsxs("span",{className:"text-xs text-gray-600",children:["₹",Ut.paidAmount||0,"/₹",Ut.totalAmount||0]})]}),s.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:[s.jsxs("p",{children:["Pickup:"," ",l.routeStops?.find(Ue=>Ue._id===qe.pickupStop)?.stopName||"N/A"]}),s.jsxs("p",{children:["Dropoff:"," ",l.routeStops?.find(Ue=>Ue._id===qe.dropoffStop)?.stopName||"N/A"]})]})]}),s.jsx("button",{onClick:()=>et(qe.studentId._id),className:"text-red-500 hover:text-red-700 p-1 ml-2",title:"Remove Student",children:s.jsx(PG,{className:"w-4 h-4"})})]},qe.studentId._id||at)})})})]})]})}return i==="assign"?s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:["Assign Students to ",l?.busNumber]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Current: ",l?.assignedStudents?.length||0,"/",l?.totalCapacity," students"]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Yearly Fee: ₹",l?.yearlyFee||0," per student"]}),s.jsx("p",{className:"text-sm text-orange-600 font-medium mt-1",children:"Note: This creates payment records for students. Actual payments are handled by students/parents."}),l?.availableSeats<=0&&s.jsx("p",{className:"text-sm text-red-600 font-semibold mt-2",children:"⚠️ No seats available for new assignments"})]}),b.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Jr,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No available students to assign"})]}):l?.availableSeats<=0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ln,{className:"w-12 h-12 mx-auto text-red-300 mb-4"}),s.jsx("p",{className:"text-red-600 font-semibold",children:"Transport is at full capacity"}),s.jsx("p",{className:"text-gray-500",children:"No seats available for new students"})]}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"mb-4",children:[s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Select students to assign (",b.length," ","available):"]}),s.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-lg",children:b.map(Ie=>s.jsx("div",{className:"p-3 hover:bg-gray-50 border-b last:border-b-0",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:Ie.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Roll: ",Ie.rollNumber," | Class:"," ",te(Ie.classId,Ie.class)]}),Ie.phone&&s.jsxs("p",{className:"text-sm text-gray-500",children:["Phone: ",Ie.phone]})]}),s.jsxs("div",{className:"ml-4 space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("select",{className:"px-2 py-1 border rounded text-xs",id:`pickup-${Ie._id}`,children:[s.jsx("option",{value:"",children:"Select Pickup"}),l?.routeStops?.map(qe=>s.jsxs("option",{value:qe._id,children:[qe.stopName," (",qe.stopTime,")"]},qe._id))]}),s.jsxs("select",{className:"px-2 py-1 border rounded text-xs",id:`dropoff-${Ie._id}`,children:[s.jsx("option",{value:"",children:"Select Dropoff"}),l?.routeStops?.map(qe=>s.jsxs("option",{value:qe._id,children:[qe.stopName," (",qe.stopTime,")"]},qe._id))]})]}),s.jsx("button",{onClick:()=>{const qe=document.getElementById(`pickup-${Ie._id}`),at=document.getElementById(`dropoff-${Ie._id}`);if(!qe?.value||!at?.value){mr.error("Please select both pickup and dropoff stops");return}it(Ie._id,qe.value,at.value)},disabled:C||l?.availableSeats<=0,className:"w-full px-3 py-1 text-white rounded text-xs disabled:opacity-50",style:{backgroundColor:l?.availableSeats>0?Q:"#ccc"},children:C?s.jsx(br,{className:"w-3 h-3 animate-spin"}):l?.availableSeats>0?"Assign & Create Payment Record":"No Seats"})]})]})},Ie._id))})]})})]}):s.jsxs("form",{onSubmit:Ee,className:"p-6 space-y-4",children:[E&&s.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4 flex items-center space-x-2",children:[s.jsx(ln,{className:"w-5 h-5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Error:"}),s.jsx("div",{className:"text-sm",children:E})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("input",{type:"text",name:"busNumber",placeholder:"Bus Number *",value:oe.busNumber,onChange:ce,className:`w-full px-3 py-2 border ${I.busNumber?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:I.busNumber?"red":Q,outlineColor:Q},required:!0}),I.busNumber&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.busNumber})]}),s.jsxs("div",{children:[s.jsx("input",{type:"text",name:"route",placeholder:"Route Code *",value:oe.route,onChange:ce,className:`w-full px-3 py-2 border ${I.route?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:I.route?"red":Q,outlineColor:Q},required:!0}),I.route&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.route})]}),s.jsxs("div",{children:[s.jsx("input",{type:"text",name:"routeName",placeholder:"Route Name *",value:oe.routeName,onChange:ce,className:`w-full px-3 py-2 border ${I.routeName?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:I.routeName?"red":Q,outlineColor:Q},required:!0}),I.routeName&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.routeName})]}),s.jsx("div",{children:s.jsx("select",{name:"transportType",value:oe.transportType,onChange:ce,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:Q,outlineColor:Q},children:aJ.map(Ie=>s.jsx("option",{value:Ie,children:Ie},Ie))})}),s.jsxs("div",{children:[s.jsx("input",{type:"text",name:"driverName",placeholder:"Driver Name *",value:oe.driverName,onChange:ce,className:`w-full px-3 py-2 border ${I.driverName?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:I.driverName?"red":Q,outlineColor:Q},required:!0}),I.driverName&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.driverName})]}),s.jsxs("div",{children:[s.jsx("input",{type:"tel",name:"driverPhone",placeholder:"Driver Phone *",value:oe.driverPhone,onChange:ce,className:`w-full px-3 py-2 border ${I.driverPhone?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:I.driverPhone?"red":Q,outlineColor:Q},required:!0}),I.driverPhone&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.driverPhone})]}),s.jsx("div",{children:s.jsx("input",{type:"text",name:"conductorName",placeholder:"Conductor Name (optional)",value:oe.conductorName,onChange:ce,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:Q,outlineColor:Q}})}),s.jsxs("div",{children:[s.jsx("input",{type:"tel",name:"conductorPhone",placeholder:"Conductor Phone (optional)",value:oe.conductorPhone,onChange:ce,className:`w-full px-3 py-2 border ${I.conductorPhone?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:I.conductorPhone?"red":Q,outlineColor:Q}}),I.conductorPhone&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.conductorPhone})]}),s.jsxs("div",{children:[s.jsx("input",{type:"time",name:"startTime",placeholder:"Start Time *",value:oe.startTime,onChange:ce,className:`w-full px-3 py-2 border ${I.startTime?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:I.startTime?"red":Q,outlineColor:Q},required:!0}),I.startTime&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.startTime})]}),s.jsxs("div",{children:[s.jsx("input",{type:"time",name:"endTime",placeholder:"End Time *",value:oe.endTime,onChange:ce,className:`w-full px-3 py-2 border ${I.endTime?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:I.endTime?"red":Q,outlineColor:Q},required:!0}),I.endTime&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.endTime})]}),s.jsxs("div",{children:[s.jsx("input",{type:"number",name:"totalCapacity",placeholder:"Total Capacity *",value:oe.totalCapacity,onChange:ce,min:"1",max:"100",className:`w-full px-3 py-2 border ${I.totalCapacity?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:I.totalCapacity?"red":Q,outlineColor:Q},required:!0}),I.totalCapacity&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.totalCapacity})]}),s.jsxs("div",{children:[s.jsx("input",{type:"number",name:"yearlyFee",placeholder:"Yearly Fee (₹) *",value:oe.yearlyFee,onChange:ce,min:"0",step:"0.01",className:`w-full px-3 py-2 border ${I.yearlyFee?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:I.yearlyFee?"red":Q,outlineColor:Q},required:!0}),I.yearlyFee&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.yearlyFee})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operating Days *"}),s.jsx("div",{className:"grid grid-cols-4 md:grid-cols-7 gap-2",children:sJ.map(Ie=>s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:oe.operatingDays.includes(Ie),onChange:()=>se(Ie),className:"rounded"}),s.jsx("span",{className:"text-sm",children:Ie.slice(0,3)})]},Ie))}),I.operatingDays&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.operatingDays})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Route Stops"}),s.jsxs("button",{type:"button",onClick:we,className:"text-sm px-3 py-1 rounded-lg flex items-center space-x-1",style:{backgroundColor:`${Q}20`,color:Q},children:[s.jsx($s,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Stop"})]})]}),s.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:ee.map((Ie,qe)=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 p-3 border rounded-lg",children:[s.jsx("input",{type:"text",placeholder:"Stop Name *",value:Ie.stopName,onChange:at=>je(qe,"stopName",at.target.value),className:`px-3 py-2 border ${I[`stop_${qe}_name`]?"border-red-500":"border-gray-300"} rounded focus:outline-none focus:ring-1`,style:{borderColor:I[`stop_${qe}_name`]?"red":Q}}),s.jsx("input",{type:"time",placeholder:"Stop Time *",value:Ie.stopTime,onChange:at=>je(qe,"stopTime",at.target.value),className:`px-3 py-2 border ${I[`stop_${qe}_time`]?"border-red-500":"border-gray-300"} rounded focus:outline-none focus:ring-1`,style:{borderColor:I[`stop_${qe}_time`]?"red":Q}}),s.jsx("input",{type:"text",placeholder:"Landmark",value:Ie.landmark,onChange:at=>je(qe,"landmark",at.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1",style:{borderColor:Q}}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-sm text-gray-500",children:["#",Ie.stopOrder]}),ee.length>1&&s.jsx("button",{type:"button",onClick:()=>q(qe),className:"text-red-500 hover:text-red-700 p-1",children:s.jsx(sr,{className:"w-4 h-4"})})]}),I[`stop_${qe}_name`]&&s.jsx("p",{className:"text-red-500 text-xs col-span-full",children:I[`stop_${qe}_name`]}),I[`stop_${qe}_time`]&&s.jsx("p",{className:"text-red-500 text-xs col-span-full",children:I[`stop_${qe}_time`]})]},qe))})]}),s.jsx("div",{children:s.jsx("textarea",{name:"notes",placeholder:"Additional Notes (optional)",value:oe.notes,onChange:ce,rows:3,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:Q,outlineColor:Q}})}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:Qe,disabled:C,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:C,className:"flex-1 px-4 py-2 text-white rounded-lg disabled:opacity-50 flex items-center justify-center space-x-2",style:{backgroundColor:Q},children:[C?s.jsx(br,{className:"w-4 h-4 animate-spin"}):s.jsx(Ro,{className:"w-4 h-4"}),s.jsxs("span",{children:[i==="edit"?"Update":"Add"," Transport"]})]})]})]})};return s.jsxs("div",{className:"space-y-6 p-6 bg-gray-50 min-h-screen",children:[k&&s.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-md",children:[s.jsx(gi,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"block sm:inline",children:k}),s.jsx("button",{onClick:()=>L(""),className:"ml-auto text-green-700 hover:text-green-900 flex-shrink-0",children:s.jsx(sr,{className:"w-4 h-4"})})]}),E&&s.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-md",children:[s.jsx(ln,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"block sm:inline",children:E}),s.jsx("button",{onClick:()=>D(""),className:"ml-auto text-red-700 hover:text-red-900 flex-shrink-0",children:s.jsx(sr,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"text-white p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:Q},children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(El,{className:"mr-3"}),"Professional Transport Management System"]}),s.jsxs("p",{className:"text-white mt-1",children:["Complete transport & payment tracking system (Admin View Only - No Payment Processing)",U&&s.jsxs("span",{className:"text-white text-sm opacity-75 ml-2",children:["• School ID: ",U]})]}),s.jsxs("p",{className:"text-white text-sm opacity-75 mt-1",children:["Total Students: ",A.length," | Available:"," ",b.length," | Active Routes:"," ",u.filter(Ie=>Ie.status==="Active").length," | Revenue: ₹",ne.totalRevenue.toLocaleString()]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>{const Ie={totalTransports:ne.totalTransports,totalStudents:ne.totalStudents,totalRevenue:ne.totalRevenue,paymentBreakdown:{completed:ne.completedPayments,partial:ne.partialPayments,pending:ne.pendingPayments},occupancyRate:ne.occupancyRate};console.log("Transport Management Report:",Ie),mr.success("Report generated successfully!")},disabled:C||!U,className:"text-white px-4 py-2 rounded-lg flex items-center space-x-2 disabled:opacity-50 hover:bg-white hover:bg-opacity-20 transition-colors",style:{backgroundColor:`${Q}60`},children:[s.jsx(Cs,{className:"w-4 h-4"}),s.jsx("span",{children:"Export Report"})]}),s.jsxs("button",{onClick:()=>le("add"),disabled:C||!U,className:"text-white px-4 py-2 rounded-lg flex items-center space-x-2 disabled:opacity-50 hover:bg-white hover:bg-opacity-20 transition-colors",style:{backgroundColor:`${Q}80`},children:[C?s.jsx(br,{className:"w-4 h-4 animate-spin"}):s.jsx($s,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Transport"})]})]})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative md:col-span-2",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search transports by bus number, route, driver, or student name...",value:t,onChange:Ie=>r(Ie.target.value),className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 text-gray-900",style:{borderColor:Q,outlineColor:Q}})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("select",{value:Ne,onChange:Ie=>Se(Ie.target.value),className:"flex-1 px-3 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 text-gray-900",style:{borderColor:Q,outlineColor:Q},children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"Active",children:"Active"}),s.jsx("option",{value:"Inactive",children:"Inactive"}),s.jsx("option",{value:"Maintenance",children:"Maintenance"})]}),s.jsx("button",{onClick:()=>{V(),ie()},disabled:C,className:"px-4 py-3 text-white rounded-lg disabled:opacity-50 hover:bg-white hover:bg-opacity-20 transition-colors",style:{backgroundColor:`${Q}80`},children:s.jsx(Qh,{className:`w-4 h-4 ${C?"animate-spin":""}`})})]})]})]}),Ct(),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Transport Fleet & Payment Overview (",ge.length,")"]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[s.jsxs("span",{children:["Total Revenue: ₹",ne.totalRevenue.toLocaleString()]}),s.jsxs("span",{children:["Collection Rate:"," ",ne.totalRevenue>0?(y.reduce((Ie,qe)=>Ie+(qe.paidAmount||0),0)/ne.totalRevenue*100).toFixed(1):0,"%"]}),s.jsxs("span",{children:["Occupancy: ",ne.occupancyRate.toFixed(1),"%"]})]})]})}),s.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:C?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(br,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:Q}}),s.jsx("p",{className:"text-gray-500",children:"Loading transport data..."})]}):ge.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(El,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),s.jsx("p",{className:"text-gray-500",children:U?"No transport entries found matching your search.":"Please set your school ID to view transports."})]}):_t()})]}),n&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-7xl max-h-[95vh] overflow-y-auto",children:[s.jsxs("div",{className:"text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10",style:{backgroundColor:Q},children:[s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mr-3",style:{backgroundColor:`${Q}20`},children:i==="view"?s.jsx(Ds,{style:{color:"white"}}):i==="edit"?s.jsx(Lo,{style:{color:"white"}}):i==="assign"?s.jsx(Ej,{style:{color:"white"}}):i==="payments"?s.jsx(Ch,{style:{color:"white"}}):s.jsx($s,{style:{color:"white"}})}),i==="view"?"Transport Details & Payment Status":i==="edit"?"Edit Transport":i==="assign"?"Assign Students (No Payment Processing)":i==="payments"?"Payment Details (View Only)":"Add New Transport"]}),s.jsx("button",{onClick:Qe,className:"absolute top-4 right-4 flex items-center justify-center w-8 h-8 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:s.jsx(sr,{size:24,style:{color:"white"}})})]}),ot()]})})]})},oJ=()=>{const[t,r]=w.useState(""),[n,a]=w.useState(!1),[i,o]=w.useState(null),[l,c]=w.useState([]),[u,f]=w.useState(!1),[A,m]=w.useState(""),[p,g]=w.useState({}),[b,v]=w.useState("#2563eb"),[y,j]=w.useState(null),[C,S]=w.useState({page:1,limit:10,total:0,totalPages:1}),[E,D]=w.useState({title:"",content:""}),k="https://vidyaastra.com/api",L=()=>{const R=localStorage.getItem("token");return R?{Authorization:`Bearer ${R}`}:{}},I=R=>{R.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("userRole"),localStorage.removeItem("schoolId"),window.location.href="/login"),m(R.response?.data?.message||"An unexpected error occurred"),console.error("API Error:",R)};w.useEffect(()=>{const R=localStorage.getItem("color");R&&v(R);const G=localStorage.getItem("schoolId");G?j(G):m("School ID not found. Please log in.")},[]);const Y=w.useCallback(async()=>{if(!y){f(!1);return}f(!0),m("");try{const R=await Ft.get(`${k}/circulars`,{headers:L(),params:{schoolId:y,page:C.page,limit:C.limit}});R.data.success?(c(R.data.data.map(G=>({id:G._id,title:G.title,date:new Date(G.date).toISOString().split("T")[0],status:G.read?"read":"unread",description:G.content}))),S({page:R.data.page,limit:R.data.limit,total:R.data.total,totalPages:R.data.totalPages})):m("Failed to fetch circulars.")}catch(R){I(R)}finally{f(!1)}},[y,C.page,C.limit]);w.useEffect(()=>{Y()},[Y]);const Q=R=>{R>=1&&R<=C.totalPages&&S(G=>({...G,page:R}))},H=R=>R==="unread"?Ot("px-3 py-1 rounded-full text-xs font-medium",{backgroundColor:`${b}20`,color:b}):"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-xs font-medium",U=(R=null)=>{o(R),g({}),D(R?{title:R.title,content:R.description}:{title:"",content:""}),a(!0),m("")},K=()=>{a(!1),o(null),m(""),g({})},X=R=>{D({...E,[R.target.name]:R.target.value}),p[R.target.name]&&g(G=>({...G,[R.target.name]:""}))},Z=()=>{const R={};return E.title.trim()||(R.title="Title is required."),E.content.trim()||(R.content="Description is required."),g(R),Object.keys(R).length===0},ee=async R=>{if(R.preventDefault(),f(!0),m(""),!Z()){f(!1);return}if(!y){m("School ID is missing."),f(!1);return}try{const G={title:E.title.trim(),content:E.content.trim(),date:new Date().toISOString(),read:i?i.status==="read":!1,schoolId:y};let ne;i?ne=await Ft.put(`${k}/circulars/${i.id}`,G,{headers:L()}):ne=await Ft.post(`${k}/circulars`,G,{headers:L()}),ne.data.success&&(await Y(),K())}catch(G){I(G)}finally{f(!1)}},de=w.useCallback(async R=>{if(window.confirm("Are you sure you want to delete this circular?")){if(f(!0),m(""),!y){m("School ID is missing."),f(!1);return}try{(await Ft.delete(`${k}/circulars/${R}`,{headers:L(),data:{schoolId:y}})).data.success&&await Y()}catch(G){I(G)}finally{f(!1)}}},[Y,y]),Ne=w.useCallback(async R=>{if(f(!0),m(""),!y){m("School ID is missing."),f(!1);return}try{l.find(ne=>ne.id===R)&&((await Ft.put(`${k}/circulars/${R}`,{read:!0,schoolId:y},{headers:L()})).data.success?await Y():m("Failed to mark circular as read."))}catch(G){I(G)}finally{f(!1)}},[l,Y,y]),Se=w.useCallback(async()=>{if(window.confirm("Are you sure you want to mark all circulars as read?")){if(f(!0),m(""),!y){m("School ID is missing."),f(!1);return}try{(await Ft.put(`${k}/circulars/mark-all/read`,{schoolId:y},{headers:L()})).data.success?await Y():m("Failed to mark all circulars as read.")}catch(R){I(R)}finally{f(!1)}}},[Y,y]),ue=l.filter(R=>R.title.toLowerCase().includes(t.toLowerCase())||R.description.toLowerCase().includes(t.toLowerCase())),xe=l.filter(R=>R.status==="unread").length;return s.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6 max-w-7xl",children:[A&&s.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-red-50 border-l-4 border-red-500 text-red-700 px-6 py-4 rounded-lg shadow-lg flex items-center space-x-3 max-w-lg w-full",children:[s.jsx(ln,{className:"w-6 h-6"}),s.jsx("span",{className:"text-sm",children:A}),s.jsx("button",{onClick:()=>m(""),className:"ml-auto text-red-700 hover:text-red-900",children:s.jsx(sr,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:Ot("text-white p-8 rounded-2xl shadow-xl bg-gradient-to-r from-[color] to-[color]80"),style:{backgroundColor:b},children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Dh,{className:"w-8 h-8 text-white"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-white",children:"School Circulars"}),s.jsx("p",{className:"text-white/90 mt-1 text-sm",children:"Stay updated with important announcements"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full sm:w-auto",children:[s.jsxs("button",{onClick:Se,disabled:u||xe===0||!y,className:"bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white px-4 py-2 rounded-lg flex items-center space-x-2 text-sm transition-all disabled:opacity-50",children:[u?s.jsx(br,{className:"w-4 h-4 animate-spin"}):s.jsx(Ds,{className:"w-4 h-4"}),s.jsx("span",{children:"Mark All as Read"})]}),s.jsxs("button",{onClick:()=>U(),disabled:u||!y,className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white px-4 py-2 rounded-lg flex items-center space-x-2 text-sm transition-all disabled:opacity-50",children:[u?s.jsx(br,{className:"w-4 h-4 animate-spin"}):s.jsx($s,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Circular"})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-6 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-white/90",children:"Total:"}),s.jsx("span",{className:"font-semibold text-white",children:C.total})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-white/90",children:"Unread:"}),s.jsx("span",{className:"font-semibold text-red-400",children:xe})]})]}),s.jsxs("div",{className:"mt-6 relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/70"}),s.jsx("input",{type:"text",placeholder:"Search circulars...",value:t,onChange:R=>r(R.target.value),className:"w-full pl-10 pr-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-white/30 text-white placeholder-white/50 transition-all"})]})]}),s.jsx("div",{className:"space-y-4",children:u&&l.length===0?s.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl shadow-lg",children:[s.jsx(br,{className:"w-10 h-10 mx-auto animate-spin mb-4",style:{color:b}}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Loading circulars..."})]}):ue.length===0?s.jsxs("div",{className:"bg-white rounded-2xl p-16 shadow-lg border border-gray-100 text-center",children:[s.jsx(Dh,{className:"w-16 h-16 mx-auto text-gray-200 mb-4"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"No circulars found"})]}):ue.map(R=>s.jsx("div",{className:Ot("bg-white rounded-2xl p-6 shadow-lg border hover:shadow-xl transition-all duration-300",{"border-l-4":R.status==="unread"}),style:{borderColor:R.status==="unread"?b:"transparent"},children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:R.title}),R.status==="unread"&&s.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:b}})]}),s.jsx("span",{className:H(R.status),children:R.status==="unread"?"Unread":"Read"}),s.jsx("p",{className:"text-gray-600 mt-2 text-sm line-clamp-3",children:R.description}),s.jsx("div",{className:"flex items-center space-x-4 text-xs text-gray-500 mt-3",children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(en,{className:"w-4 h-4",style:{color:b}}),s.jsx("span",{children:R.date})]})})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[R.status==="unread"&&s.jsx("button",{onClick:()=>Ne(R.id),disabled:u||!y,className:"p-2 hover:bg-gray-50 rounded-lg transition-colors disabled:opacity-50",style:{color:b},title:"Mark as Read",children:s.jsx(Ds,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>U(R),disabled:u||!y,className:"p-2 hover:bg-gray-50 rounded-lg transition-colors disabled:opacity-50",style:{color:b},title:"Edit",children:s.jsx(Lo,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>de(R.id),disabled:u||!y,className:"p-2 hover:bg-gray-50 rounded-lg transition-colors disabled:opacity-50",style:{color:b},title:"Delete",children:s.jsx(Ss,{className:"w-4 h-4"})})]})]})},R.id))}),C.totalPages>1&&s.jsxs("div",{className:"flex items-center justify-between bg-white rounded-2xl p-4 shadow-lg",children:[s.jsx("button",{onClick:()=>Q(C.page-1),disabled:C.page===1||u,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50",children:s.jsx(co,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",C.page," of ",C.totalPages," |"," ",C.total," circulars"]}),s.jsx("button",{onClick:()=>Q(C.page+1),disabled:C.page===C.totalPages||u,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50",children:s.jsx(xi,{className:"w-5 h-5"})})]}),n&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl",children:[s.jsxs("div",{className:Ot("text-white p-6 rounded-t-2xl bg-gradient-to-r from-[color] to-[color]80 flex justify-between items-center"),style:{backgroundColor:b},children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:i?"Edit Circular":"Add New Circular"}),s.jsx("button",{onClick:K,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:s.jsx(sr,{size:24,className:"text-white"})})]}),s.jsxs("form",{onSubmit:ee,className:"p-6 space-y-5",children:[A&&s.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg",children:[s.jsx("div",{className:"font-medium text-sm",children:"Error:"}),s.jsx("div",{className:"text-xs",children:A})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),s.jsx("input",{type:"text",id:"title",name:"title",value:E.title,onChange:X,placeholder:"Enter circular title...",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 text-gray-900 placeholder-gray-400 transition-all ${p.title?"border-red-500":"border-gray-200"}`,style:{focusRingColor:b},required:!0}),p.title&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:p.title})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),s.jsx("textarea",{id:"content",name:"content",value:E.content,onChange:X,placeholder:"Enter circular description...",rows:"6",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 text-gray-900 placeholder-gray-400 transition-all ${p.content?"border-red-500":"border-gray-200"}`,style:{focusRingColor:b},required:!0}),p.content&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:p.content})]}),s.jsxs("div",{className:"flex space-x-3 pt-3",children:[s.jsx("button",{type:"button",onClick:K,disabled:u,className:"flex-1 px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 transition-all",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:u||!y,className:"flex-1 px-4 py-2 text-white rounded-lg disabled:opacity-50 flex items-center justify-center space-x-2 transition-all bg-gradient-to-r from-[color] to-[color]80",style:{backgroundColor:b},children:[u?s.jsx(br,{className:"w-4 h-4 animate-spin"}):s.jsx(Ro,{className:"w-4 h-4"}),s.jsxs("span",{children:[u?"Saving...":i?"Update":"Save"," ","Circular"]})]})]})]})]})})]})},lJ=()=>{const[t,r]=w.useState(!1),[n,a]=w.useState(null),[i,o]=w.useState([]),[l,c]=w.useState(!1),[u,f]=w.useState(""),[A,m]=w.useState(null),p=localStorage.getItem("color")||"#2563eb",g="https://vidyaastra.com/api";w.useEffect(()=>{if(typeof window<"u"){const k=localStorage.getItem("schoolId");m(k),k||f("School ID is missing. Please set your school ID.")}},[]);const b=()=>{const k=localStorage.getItem("token");return k?{Authorization:`Bearer ${k}`}:{}},v=k=>{k.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("userRole"),window.location.href="/login"),f(k.response?.data?.message||"An unexpected error occurred"),console.error("API Error:",k)},y=async()=>{if(!A){f("School ID is required to fetch diary entries."),c(!1);return}c(!0),f("");try{const k=localStorage.getItem("userId"),L=await Ft.get(`${g}/diary`,{headers:b(),params:{schoolId:A,studentId:k}});L.data.success?o(L.data.data.map(I=>({id:I._id,title:I.title,date:I.date,content:I.content,category:I.category==="Academics"?"Academic":I.category==="Personal"?"Personal":I.category==="Other"&&(I.originalCategory==="Sports"||I.originalCategory==="Projects")?I.originalCategory:"Other"}))):f("Failed to fetch diary entries.")}catch(k){v(k)}finally{c(!1)}};w.useEffect(()=>{A&&y()},[A]);const j=k=>{switch(k){case"Academic":return Ot("px-3 py-1 rounded-full text-xs font-medium",{backgroundColor:`${p}20`,color:p});case"Personal":return"bg-orange-100 text-orange-700 px-3 py-1 rounded-full text-xs font-medium";case"Sports":return"bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-medium";case"Projects":return"bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-xs font-medium";default:return"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-xs font-medium"}},C=(k=null)=>{a(k),r(!0),f("")},S=()=>{r(!1),a(null),f("")},E=async k=>{if(!A){f("School ID is required to delete a diary entry."),c(!1);return}if(window.confirm("Delete this diary entry?")){c(!0),f("");try{(await Ft.delete(`${g}/diary/${k}`,{headers:b(),data:{schoolId:A}})).data.success&&await y()}catch(L){v(L)}finally{c(!1)}}},D=k=>new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"});return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("div",{className:Ot("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:p},children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(cf,{className:"w-6 h-6",style:{color:"white"}}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"My Diary"})]})}),s.jsx("p",{className:"text-white mt-2",children:"Personal notes and thoughts"})]}),u&&s.jsx("div",{className:"fixed top-4 left-4 z-50 p-4 rounded-lg shadow-lg bg-red-500 text-white transition-all duration-300",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sr,{className:"w-4 h-4"}),s.jsx("span",{children:u}),s.jsx("button",{onClick:()=>f(""),className:"text-white hover:text-gray-200 ml-2",children:s.jsx(sr,{className:"w-4 h-4"})})]})}),s.jsx("div",{className:"p-6 overflow-x-auto",children:l&&i.length===0?s.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[s.jsx(br,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:p}}),s.jsx("p",{className:"text-gray-500",children:"Loading diary entries..."})]}):i.length===0?s.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[s.jsx(cf,{className:"w-16 h-16 mx-auto mb-4",style:{color:p}}),s.jsx("p",{className:"text-gray-500 text-lg",children:"No diary entries yet"}),s.jsx("p",{className:"text-gray-400",children:A?"No entries available":"Please set your school ID to view entries"})]}):s.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Title"}),s.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Date"}),s.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Content"}),s.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Category"}),s.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:i.map(k=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-4 px-4 font-medium text-gray-900",children:k.title}),s.jsx("td",{className:"py-4 px-4 text-gray-600",children:D(k.date)}),s.jsx("td",{className:"py-4 px-4",children:s.jsx("div",{className:"line-clamp-2 max-w-prose text-gray-600",children:k.content})}),s.jsx("td",{className:"py-4 px-4",children:s.jsx("span",{className:j(k.category),children:k.category})}),s.jsx("td",{className:"py-4 px-4",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>C(k),disabled:l||!A,className:Ot("p-2 rounded-lg transition-colors disabled:opacity-50",{"hover:bg-gray-100":!l&&A}),style:{color:p},title:"View",children:s.jsx(cf,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>E(k.id),disabled:l||!A,className:Ot("p-2 rounded-lg transition-colors disabled:opacity-50",{"hover:bg-gray-100":!l&&A}),style:{color:p},title:"Delete",children:s.jsx(Ss,{className:"w-4 h-4"})})]})})]},k.id))})]})})}),t&&n&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:Ot("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:p},children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"View Diary Entry"}),s.jsx("button",{onClick:S,className:"absolute top-4 right-4 flex items-center justify-center w-8 h-8 hover:bg-gray-100 rounded-full",style:{color:p},children:s.jsx(sr,{size:24})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[u&&s.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[s.jsx("div",{className:"font-medium",children:"Error:"}),s.jsx("div",{className:"text-sm",children:u})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),s.jsx("div",{className:"w-full px-4 py-3 border rounded-lg bg-gray-50 text-gray-700",children:n.title})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),s.jsx("div",{className:"w-full px-4 py-3 border rounded-lg bg-gray-50 text-gray-700",children:n.category})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),s.jsx("div",{className:"w-full px-4 py-3 border rounded-lg bg-gray-50 text-gray-700 min-h-[150px]",children:n.content})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),s.jsx("div",{className:"w-full px-4 py-3 border rounded-lg bg-gray-50 text-gray-700",children:D(n.date)})]}),s.jsx("div",{className:"pt-4",children:s.jsx("button",{type:"button",onClick:S,disabled:l,className:"w-full px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium disabled:opacity-50",children:"Close"})})]})]})})]})},cJ=()=>{const[t,r]=w.useState(null),[n,a]=w.useState("#2563eb");w.useEffect(()=>{try{const se=localStorage.getItem("schoolId"),je=localStorage.getItem("color");r(se),a(je||"#2563eb"),console.log("Initialized with schoolId:",se)}catch(se){console.error("Error accessing localStorage:",se)}},[]);const i="https://vidyaastra.com/api/events",[o,l]=w.useState(!1),[c,u]=w.useState(!1),[f,A]=w.useState(null),[m,p]=w.useState(null),[g,b]=w.useState([]),[v,y]=w.useState(!1),[j,C]=w.useState(""),[S,E]=w.useState(""),[D,k]=w.useState("all"),[L,I]=w.useState({}),[Y,Q]=w.useState(1),[H]=w.useState(10),[U,K]=w.useState({title:"",date:"",startTime:"",endTime:"",location:"",category:"Academic",description:""}),X=["Academic","Sports","Cultural","Meeting","Other"],Z={Academic:"Academics",Sports:"Sports",Cultural:"Cultural",Meeting:"Meeting",Other:"Other"};w.useEffect(()=>{t?(console.log("School ID found, fetching events..."),ee()):console.log("No school ID found")},[t]);const ee=async()=>{if(t)try{y(!0),C(""),console.log("Fetching events for school:",t);const se=await fetch(`${i}?schoolId=${t}&page=1&limit=1000`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});console.log("Response status:",se.status);const je=await se.json();if(console.log("Response data:",je),se.ok){let we=[];if(Array.isArray(je))we=je;else if(je.success&&Array.isArray(je.data))we=je.data;else if(je.data&&Array.isArray(je.data))we=je.data;else{console.error("Unexpected data format:",je),C("Unexpected response format from server");return}const q=we.map(be=>{let Ee="",Re="";if(be.time&&be.time.includes(" - ")){const it=be.time.split(" - ");Ee=it[0]||"",Re=it[1]||""}else Ee=be.time||"",Re="";return{id:be._id,title:be.title,date:be.date,startTime:Ee,endTime:Re,location:be.location,category:be.category==="Academics"?"Academic":be.category,description:be.description||"",icon:Ae(be.category==="Academics"?"Academic":be.category)}});b(q),console.log(`Loaded ${q.length} events`)}else C(je.message||"Failed to fetch events")}catch(se){console.error("Error fetching events:",se),C("Failed to fetch events: "+se.message)}finally{y(!1)}},de=se=>/^[A-Za-z\s]*$/.test(se),Ne=()=>{const se={};if(U.title.trim()?de(U.title)?U.title.trim().length<3?se.title="Title must be at least 3 characters long":U.title.trim().length>200&&(se.title="Title must be less than 200 characters"):se.title="Title should contain only alphabets and spaces":se.title="Event title is required",!U.date)se.date="Date is required";else{const je=new Date(U.date),we=new Date;we.setHours(0,0,0,0),je<we&&(se.date="Event date cannot be in the past")}return U.startTime||(se.startTime="Start time is required"),U.endTime||(se.endTime="End time is required"),U.startTime&&U.endTime&&U.startTime>=U.endTime&&(se.endTime="End time must be after start time"),U.location.trim()?U.location.trim().length<2?se.location="Location must be at least 2 characters long":U.location.trim().length>200&&(se.location="Location must be less than 200 characters"):se.location="Location is required",U.description&&U.description.length>1e3&&(se.description="Description must be less than 1000 characters"),I(se),Object.keys(se).length===0},Se=se=>{const{name:je,value:we}=se.target;je==="title"?(we===""||de(we))&&K(q=>({...q,[je]:we})):K(q=>({...q,[je]:we})),L[je]&&I(q=>({...q,[je]:""}))},ue=async se=>{if(e.preventDefault(),!t){mr.error("Error: School ID not found. Please login again.");return}if(!Ne()){mr.error("Please fix the form errors before submitting.");return}C("");try{y(!0);const je={title:U.title.trim(),date:U.date,time:`${U.startTime} - ${U.endTime}`,location:U.location.trim(),description:U.description.trim(),category:Z[U.category],schoolId:t};console.log("Submitting event data:",je);const we=m?`${i}/${m.id}`:i,be=await fetch(we,{method:m?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(je)});console.log("Submit response status:",be.status);const Ee=await be.json();console.log("Submit response data:",Ee),be.ok&&(Ee.success||Ee._id)?(mr.success(m?"Event updated successfully!":"Event created successfully!"),await ee(),ae()):mr.error(Ee.message||Ee.error||"Failed to save event")}catch(je){console.error("Submit error:",je),mr.error("Failed to save event: "+je.message)}finally{y(!1)}},xe=async se=>{if(window.confirm("Are you sure you want to delete this event?"))try{y(!0),C(""),console.log("Deleting event:",se);const je=await fetch(`${i}/${se}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:t})});console.log("Delete response status:",je.status);const we=await je.json();console.log("Delete response data:",we),je.ok&&(we.success||we.message)?(mr.success("Event deleted successfully!"),await ee()):mr.error(we.message||we.error||"Failed to delete event")}catch(je){console.error("Delete error:",je),mr.error("Failed to delete event: "+je.message)}finally{y(!1)}},R=se=>{console.log("Opening view modal for event:",se),A(se),u(!0)},G=()=>{u(!1),A(null)},ne=(se=null)=>{p(se),I({}),K(se?{title:se.title,date:se.date,startTime:se.startTime,endTime:se.endTime,location:se.location,category:se.category,description:se.description}:{title:"",date:"",startTime:"",endTime:"",location:"",category:"Academic",description:""}),l(!0),C("")},ae=()=>{l(!1),p(null),I({}),C("")},oe=se=>{switch(se){case"Sports":return"bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs font-medium";case"Academic":return"px-3 py-1 rounded-full text-xs font-medium text-white";case"Cultural":return"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-xs font-medium";case"Meeting":return"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs font-medium";case"Other":return"bg-gray-100 text-gray-800 px-3 py-1 rounded-full text-xs font-medium";default:return"bg-gray-100 text-gray-800 px-3 py-1 rounded-full text-xs font-medium"}},he=se=>{switch(se){case"Sports":return"bg-green-100";case"Academic":return"bg-blue-100";case"Cultural":return"bg-purple-100";case"Meeting":return"bg-blue-100";case"Other":return"bg-gray-100";default:return"bg-gray-100"}},me=se=>new Date(se).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),te=se=>{if(!se)return"";const[je,we]=se.split(":"),q=parseInt(je),be=q>=12?"PM":"AM";return`${q%12||12}:${we} ${be}`},Ae=se=>{switch(se){case"Sports":return"⚽";case"Academic":return"📚";case"Cultural":return"🎭";case"Meeting":return"👥";case"Other":return"📅";default:return"📅"}},V=g.filter(se=>{const je=se.title.toLowerCase().includes(S.toLowerCase())||se.location.toLowerCase().includes(S.toLowerCase())||se.description.toLowerCase().includes(S.toLowerCase()),we=D==="all"||se.category===D;return je&&we}),ie=Y*H,pe=ie-H,ye=V.slice(pe,ie),ge=Math.ceil(V.length/H),le=()=>{Y>1&&Q(se=>se-1)},Qe=()=>{Y<ge&&Q(se=>se+1)},ce=se=>{Q(se)};return t?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"text-white p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:n},children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4",children:[s.jsxs("div",{className:"mb-4 md:mb-0",children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"School Events"}),s.jsxs("div",{className:"text-white text-sm opacity-75 mt-1",children:["School ID: ",t," | ",g.length," events scheduled"]})]}),s.jsxs("button",{onClick:()=>ne(),disabled:v,className:"text-white px-6 py-2 rounded-lg flex items-center hover:opacity-90 transition-opacity disabled:opacity-50",style:{backgroundColor:`${n}80`},children:[v?s.jsx(br,{className:"mr-2 animate-spin"}):s.jsx($s,{className:"mr-2"}),"Add Event"]})]})})}),s.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[j&&s.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6 flex justify-between items-center",children:[s.jsx("span",{children:j}),s.jsx("button",{onClick:()=>C(""),className:"text-red-500 hover:text-red-700 font-bold",children:"×"})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(xn,{className:"absolute left-3 top-3 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search events...",value:S,onChange:se=>E(se.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Mo,{className:"absolute left-3 top-3 text-gray-400"}),s.jsxs("select",{value:D,onChange:se=>k(se.target.value),className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none bg-white",children:[s.jsx("option",{value:"all",children:"All Categories"}),X.map(se=>s.jsx("option",{value:se,children:se},se))]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[v&&g.length===0&&s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(br,{className:"animate-spin mx-auto mb-4",size:32,style:{color:n}}),s.jsx("p",{className:"text-gray-600",children:"Loading events..."})]}),!v&&V.length===0&&s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx(en,{className:"mx-auto mb-4",size:48,style:{color:n}}),s.jsx("div",{className:"text-lg mb-2",children:S||D!=="all"?"No events match your filters":"No events scheduled"}),s.jsx("div",{className:"text-sm",children:S||D!=="all"?"Try adjusting your search terms or filters":"Click 'Add Event' to create your first event"})]}),!v&&V.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Event"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ye.map(se=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${he(se.category)}`,children:s.jsx("span",{className:"text-xl",children:se.icon})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:se.title}),s.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:se.description})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[s.jsx(en,{className:"mr-2",style:{color:n}}),me(se.date)]}),s.jsx("div",{className:"text-sm text-gray-500",children:se.startTime&&se.endTime?`${te(se.startTime)} - ${te(se.endTime)}`:se.startTime||"Time not specified"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[s.jsx(v0,{className:"w-4 h-4",style:{color:n}}),s.jsx("span",{className:"max-w-xs truncate",children:se.location})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:oe(se.category),style:se.category==="Academic"?{backgroundColor:n}:{},children:se.category})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[s.jsx("button",{onClick:()=>R(se),className:"text-blue-600 hover:text-blue-900 mr-4",disabled:v,children:s.jsx(Ds,{})}),s.jsx("button",{onClick:()=>ne(se),className:"text-indigo-600 hover:text-indigo-900 mr-4",disabled:v,children:s.jsx(Lo,{})}),s.jsx("button",{onClick:()=>xe(se.id),className:"text-red-600 hover:text-red-900",disabled:v,children:s.jsx(Ss,{})})]})]},se.id))})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center px-6 py-4 border-t border-gray-200",children:[s.jsxs("div",{className:"text-sm text-gray-600 mb-2 sm:mb-0",children:["Page ",Y," of ",ge]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:le,disabled:Y===1,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100",children:s.jsx(co,{})}),[...Array(ge)].map((se,je)=>{const we=je+1;return s.jsx("button",{onClick:()=>ce(we),className:`px-3 py-1 rounded-lg border border-gray-300 ${Y===we?"bg-blue-500 text-white":"hover:bg-gray-100"}`,children:we},we)}),s.jsx("button",{onClick:Qe,disabled:Y===ge,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100",children:s.jsx(xi,{})})]})]})]})]})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"text-white p-4 rounded-t-lg flex justify-between items-center",style:{backgroundColor:n},children:[s.jsx("h2",{className:"text-xl font-bold",children:m?"Edit Event":"Add Event"}),s.jsx("button",{onClick:ae,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:s.jsx(sr,{size:24})})]}),s.jsxs("form",{onSubmit:ue,className:"p-6",children:[j&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-3 py-2 rounded mb-4 text-sm",children:j}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Title *"}),s.jsx("input",{type:"text",name:"title",value:U.title,onChange:Se,className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${L.title?"border-red-500":"border-gray-300"}`,placeholder:"Enter event title (letters only)...",maxLength:200}),L.title&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:L.title})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date *"}),s.jsx("input",{type:"date",name:"date",value:U.date,onChange:Se,className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${L.date?"border-red-500":"border-gray-300"}`}),L.date&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:L.date})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),s.jsx("select",{name:"category",value:U.category,onChange:Se,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:X.map(se=>s.jsx("option",{value:se,children:se},se))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time *"}),s.jsx("input",{type:"time",name:"startTime",value:U.startTime,onChange:Se,className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${L.startTime?"border-red-500":"border-gray-300"}`}),L.startTime&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:L.startTime})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time *"}),s.jsx("input",{type:"time",name:"endTime",value:U.endTime,onChange:Se,className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${L.endTime?"border-red-500":"border-gray-300"}`}),L.endTime&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:L.endTime})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location *"}),s.jsx("input",{type:"text",name:"location",value:U.location,onChange:Se,className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${L.location?"border-red-500":"border-gray-300"}`,placeholder:"Enter location...",maxLength:200}),L.location&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:L.location})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block macro text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{name:"description",value:U.description,onChange:Se,rows:"3",className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none ${L.description?"border-red-500":"border-gray-300"}`,placeholder:"Event description...",maxLength:1e3}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[U.description.length,"/1000 characters"]}),L.description&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:L.description})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{type:"button",onClick:ae,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",disabled:v,children:"Cancel"}),s.jsxs("button",{type:"submit",className:"text-white px-6 py-2 rounded-lg flex items-center hover:opacity-90",style:{backgroundColor:n},disabled:v,children:[v?s.jsx(br,{className:"mr-2 animate-spin"}):s.jsx(Ro,{className:"mr-2"}),m?"Update":"Save"]})]})]})]})}),c&&f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"text-white p-4 rounded-t-lg flex justify-between items-center",style:{backgroundColor:n},children:[s.jsx("h2",{className:"text-xl font-bold",children:"Event Details"}),s.jsx("button",{onClick:G,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:s.jsx(sr,{size:24})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${he(f.category)}`,children:s.jsx("span",{className:"text-xl",children:f.icon})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:f.title}),s.jsx("span",{className:oe(f.category),style:f.category==="Academic"?{backgroundColor:n}:{},children:f.category})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-gray-700",children:[s.jsx(en,{className:"mr-2",style:{color:n}}),s.jsx("span",{children:me(f.date)})]}),s.jsxs("div",{className:"flex items-center text-gray-700",children:[s.jsx(_n,{className:"mr-2",style:{color:n}}),s.jsx("span",{children:f.startTime&&f.endTime?`${te(f.startTime)} - ${te(f.endTime)}`:f.startTime||"Time not specified"})]}),s.jsxs("div",{className:"flex items-center text-gray-700",children:[s.jsx(v0,{className:"mr-2",style:{color:n}}),s.jsx("span",{children:f.location})]}),s.jsxs("div",{className:"text-gray-700",children:[s.jsx("p",{className:"font-medium mb-1",children:"Description:"}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:f.description||"No description provided"})]})]}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsx("button",{onClick:G,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Close"})})]})]})}),s.jsx(L5,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-md",children:[s.jsx("div",{className:"text-red-500 text-xl mb-4",children:"School ID not found"}),s.jsx("div",{className:"text-gray-600 mb-4",children:"Please login again to access the events system."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Refresh Page"})]})})},uJ="https://vidyaastra.com/api",Yx=I5("classes/fetchClasses",async t=>(await Ft.get(`${uJ}/class?schoolId=${t}`)).data),dJ=ul({name:"classes",initialState:{classes:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Yx.pending,r=>{r.loading=!0}).addCase(Yx.fulfilled,(r,n)=>{r.loading=!1,r.classes=n.payload}).addCase(Yx.rejected,(r,n)=>{r.loading=!1,r.error=n.error.message})}}),AJ=dJ.reducer,wx="https://vidyaastra.com/api",fJ=()=>{const[t,r]=w.useState(""),[n,a]=w.useState("all"),[i,o]=w.useState("all"),[l,c]=w.useState(!1),[u,f]=w.useState(!1),[A,m]=w.useState(null),[p,g]=w.useState(null),[b,v]=w.useState({upcoming:{data:[],total:0,page:1,totalPages:0},past:{data:[],total:9,page:1,totalPages:1}}),[y,j]=w.useState(!1),[C,S]=w.useState(""),[E,D]=w.useState("#2563eb"),[k,L]=w.useState(null),[I,Y]=w.useState({upcomingPage:1,pastPage:1,limit:10}),[Q,H]=w.useState({name:"",date:"",color:"#667eea",type:"upcoming",classId:""}),[U,K]=w.useState({}),X=In(q=>q.classes.classes?.data||[]),Z=In(q=>q.classes.loading),ee=In(q=>q.classes.error),de=D2();w.useEffect(()=>{de(Yx(k))},[de,k]);const Ne=w.useMemo(()=>X.map(q=>({_id:q._id,className:q.className||`Class ${q.classNumber||q._id}`,section:q.section||"",displayName:`${q.className||`Class ${q.classNumber||q._id}`}${q.section?` ${q.section}`:""}`.trim()})),[X]),Se=()=>{const q=localStorage.getItem("token");return q?{Authorization:`Bearer ${q}`}:{}},ue=q=>{q.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("schoolId"),window.location.href="/login"),S(q.response?.data?.message||q.message||"An unexpected error occurred"),console.error("API Error:",q)},xe=w.useCallback(async(q={})=>{if(!k){S("School ID is required to fetch birthdays."),j(!1);return}j(!0),S("");try{const be={schoolId:k,upcomingPage:q.upcomingPage||I.upcomingPage,pastPage:q.pastPage||I.pastPage,limit:I.limit},Ee=await Ft.get(`${wx}/birthdays`,{headers:Se(),params:be});Ee.data&&Ee.data.upcoming&&Ee.data.past?v({upcoming:{data:Ee.data.upcoming.data.map(R),total:Ee.data.upcoming.total,page:Ee.data.upcoming.page,totalPages:Ee.data.upcoming.totalPages},past:{data:Ee.data.past.data.map(R),total:Ee.data.past.total,page:Ee.data.past.page,totalPages:Ee.data.past.totalPages}}):S("Received unexpected data format from server for birthdays.")}catch(be){ue(be)}finally{j(!1)}},[k,I.upcomingPage,I.pastPage,I.limit]),R=q=>({id:q._id,name:q.name,date:q.date,color:q.color,type:q.type,classId:q.classId,role:q.role});w.useEffect(()=>{const q=localStorage.getItem("color");q&&D(q);const be=localStorage.getItem("schoolId");be?L(be):S("School ID not found in local storage. Please log in to access birthday data.")},[]),w.useEffect(()=>{k&&xe()},[xe,k]),w.useEffect(()=>{ee&&S("Failed to load classes: "+ee)},[ee]);const G=w.useCallback(q=>{if(!q)return"Unknown Class";const be=Ne.find(Ee=>Ee._id===(q._id||q));return be?be.displayName:"Unknown Class"},[Ne]),ne=(q,be=new Date().getFullYear())=>{try{const Ee=new Date(`${q}, ${be}`);if(isNaN(Ee.getTime()))throw new Error("Invalid date format");return Ee}catch{return null}},ae=q=>{const be=new Date,Ee=ne(q,be.getFullYear());if(!Ee)return"Unknown";let Re=be.getFullYear()-Ee.getFullYear();const it=be.getMonth()-Ee.getMonth();return(it<0||it===0&&be.getDate()<Ee.getDate())&&Re--,Re>=0?Re:"Unknown"},oe=q=>{const be=new Date;be.setHours(0,0,0,0);const Ee=ne(q);if(!Ee)return"Unknown";const Re=be.getFullYear(),it=new Date(Re,Ee.getMonth(),Ee.getDate());it<be&&it.setFullYear(Re+1);const et=it.getTime()-be.getTime(),Ct=Math.ceil(et/(1e3*60*60*24));return Ct>=0?Ct:"Unknown"},he=q=>{try{const[be,Ee]=q.split(" "),Re=String(Number.parseInt(Ee,10)).padStart(2,"0");return`${be} ${Re}`}catch{return q}},me=q=>q==="Unknown"?s.jsx("span",{className:"text-sm text-gray-600",children:"Invalid date"}):q===0?s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[s.jsx(Jd,{className:"w-3 h-3 mr-1",style:{color:E}}),"Today!"]}):q<=7?s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[s.jsx(_n,{className:"w-3 h-3 mr-1",style:{color:E}}),q," days"]}):q<=30?s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[s.jsx(en,{className:"w-3 h-3 mr-1",style:{color:E}}),q," days"]}):s.jsxs("span",{className:"text-sm text-gray-600",children:[q," days"]}),te=w.useMemo(()=>b.upcoming.data.map(q=>({...q,className:G(q.classId)})).filter(q=>{const be=q.name.toLowerCase().includes(t.toLowerCase()),Ee=ne(q.date),Re=Ee?Ee.getMonth()+1:null,it=n==="all"||Re&&Re.toString()===n,et=oe(q.date);let Ct=!0;return i==="today"?Ct=et===0:i==="week"?Ct=et<=7&&et>0:i==="month"&&(Ct=et<=30&&et>0),be&&it&&Ct}),[t,n,i,b.upcoming.data,G]),Ae=w.useMemo(()=>b.past.data.map(q=>({...q,className:G(q.classId)})).filter(q=>{const be=q.name.toLowerCase().includes(t.toLowerCase()),Ee=ne(q.date),Re=Ee?Ee.getMonth()+1:null,it=n==="all"||Re&&Re.toString()===n;return be&&it}),[t,n,b.past.data,G]),V=w.useMemo(()=>{const q=b.upcoming.total+b.past.total,be=[...b.upcoming.data,...b.past.data].filter(it=>oe(it.date)===0).length,Ee=[...b.upcoming.data,...b.past.data].filter(it=>{const et=oe(it.date);return et<=7&&et>0&&et!=="Unknown"}).length,Re=[...b.upcoming.data,...b.past.data].filter(it=>{const et=oe(it.date);return et<=30&&et>0&&et!=="Unknown"}).length;return{total:q,todayBirthdays:be,thisWeekBirthdays:Ee,thisMonthBirthdays:Re}},[b]),ie=async()=>{j(!0);try{const q=await Ft.get(`${wx}/birthdays`,{headers:Se(),params:{schoolId:k,upcomingPage:1,pastPage:1,limit:1e3}}),Ee=`data:text/csv;charset=utf-8,Name,Date,Class,Color,Type,Days Until,Role
`+[...q.data.upcoming.data.map(R),...q.data.past.data.map(R)].map(et=>({...et,className:G(et.classId)})).map(et=>`${et.name},${et.date},${et.className},${et.color},${et.type},${oe(et.date)},${et.role}`).join(`
`),Re=encodeURI(Ee),it=document.createElement("a");it.setAttribute("href",Re),it.setAttribute("download","birthdays.csv"),document.body.appendChild(it),it.click(),document.body.removeChild(it)}catch(q){ue(q)}finally{j(!1)}},pe=q=>{m(q),f(!0)},ye=q=>{g(q),H({name:q.name,date:q.date,color:q.color,type:q.type,classId:q.classId?._id||q.classId||""}),K({}),c(!0)},ge=w.useCallback(async q=>{if(window.confirm("Are you sure you want to delete this record?")){if(j(!0),S(""),!k){S("School ID is missing. Cannot perform this operation."),j(!1);return}try{await Ft.delete(`${wx}/birthdays/${q}`,{headers:Se(),data:{schoolId:k}}),await xe()}catch(be){ue(be)}finally{j(!1)}}},[xe,k]),le=()=>{g(null),H({name:"",date:"",color:E,type:"upcoming",classId:""}),K({}),c(!0)},Qe=()=>{const q={};return Q.name.trim()||(q.name="Name is required"),(!Q.date.trim()||!/^[A-Za-z]+\s\d{1,2}(,\s\d{4})?$/.test(Q.date.trim()))&&(q.date="Date must be in 'Month Day' or 'Month Day, Year' format (e.g., 'March 15' or 'March 15, 2025')"),Q.color||(q.color="Color is required"),Q.type||(q.type="Type is required"),Q.classId||(q.classId="Class is required"),K(q),Object.keys(q).length===0},ce=async()=>{if(Qe()){if(j(!0),S(""),!k){S("School ID is missing. Cannot perform this operation."),j(!1);return}try{const q={name:Q.name.trim(),role:"student",date:Q.date.trim(),color:Q.color,type:Q.type,schoolId:k,classId:Q.classId};let be;p?be=await Ft.put(`${wx}/birthdays/${p.id}`,q,{headers:Se()}):be=await Ft.post(`${wx}/birthdays`,q,{headers:Se()}),be.data&&(await xe(),c(!1),g(null))}catch(q){ue(q),q.response?.data?.message?S(q.response.data.message):S("Failed to save birthday record. Please try again.")}finally{j(!1)}}},se=(q,be)=>{be<1||be>b[q].totalPages||(Y(Ee=>({...Ee,[`${q}Page`]:be})),xe({[`${q}Page`]:be}))},je=[{value:"1",label:"January"},{value:"2",label:"February"},{value:"3",label:"March"},{value:"4",label:"April"},{value:"5",label:"May"},{value:"6",label:"June"},{value:"7",label:"July"},{value:"8",label:"August"},{value:"9",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],we=({type:q,data:be})=>be.total===0||be.totalPages<=1?null:s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-gray-50 border-t border-gray-200",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(be.page-1)*I.limit+1," to"," ",Math.min(be.page*I.limit,be.total)," of ",be.total," ","entries"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>se(q,be.page-1),disabled:be.page===1,className:"p-2 rounded-md border border-gray-300 bg-white text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(co,{className:"w-4 h-4"})}),[...Array(be.totalPages)].map((Ee,Re)=>{const it=Re+1;return s.jsx("button",{onClick:()=>se(q,it),className:Ot("px-3 py-1 rounded-md border border-gray-300",be.page===it?"bg-blue-500 text-white":"bg-white text-gray-500 hover:bg-gray-50"),children:it},it)}),s.jsx("button",{onClick:()=>se(q,be.page+1),disabled:be.page===be.totalPages,className:"p-2 rounded-md border border-gray-300 bg-white text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(xi,{className:"w-4 h-4"})})]})]});return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[C&&s.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[s.jsx(ln,{className:"w-5 h-5"}),s.jsx("span",{className:"block sm:inline",children:C}),s.jsx("button",{onClick:()=>S(""),className:"ml-auto text-red-700 hover:text-red-900",children:s.jsx(sr,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs("div",{className:Ot("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:E},children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Jd,{className:"w-6 h-6",style:{color:"white"}}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Birthday Management"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:le,disabled:y||!k||Z||Ne.length===0,className:Ot("text-white px-4 py-2 rounded-xl flex items-center space-x-2 disabled:opacity-50"),style:{backgroundColor:`${E}80`},children:[y||Z?s.jsx(br,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):s.jsx($s,{className:"w-4 h-4",style:{color:"white"}}),s.jsx("span",{children:"Add New"})]}),s.jsxs("button",{onClick:ie,disabled:y||!k,className:Ot("text-white px-4 py-2 rounded-xl flex items-center space-x-2 disabled:opacity-50"),style:{backgroundColor:`${E}80`},children:[s.jsx(Cs,{className:"w-4 h-4",style:{color:"white"}}),s.jsx("span",{children:"Export"})]})]})]}),s.jsx("p",{className:"text-white mt-2",children:"Track and manage birthdays"})]}),s.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Total Records",value:V.total,color:"blue",icon:Jr},{label:"Today's Birthdays",value:V.todayBirthdays,color:"red",icon:Jd},{label:"This Week",value:V.thisWeekBirthdays,color:"orange",icon:_n},{label:"This Month",value:V.thisMonthBirthdays,color:"yellow",icon:en}].map((q,be)=>s.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:q.label}),s.jsx("p",{className:`text-2xl font-bold text-${q.color}-600`,children:q.value})]}),s.jsx("div",{className:`p-3 bg-${q.color}-100 rounded-xl`,children:s.jsx(q.icon,{className:`w-6 h-6 text-${q.color}-600`})})]})},be))}),s.jsx("div",{className:"px-6 mb-6",children:s.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4",style:{color:E}}),s.jsx("input",{type:"text",placeholder:"Search name...",value:t,onChange:q=>r(q.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:E,outlineColor:E}})]}),s.jsxs("select",{value:n,onChange:q=>a(q.target.value),className:"px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:E,outlineColor:E},children:[s.jsx("option",{value:"all",children:"All Months"}),je.map(q=>s.jsx("option",{value:q.value,children:q.label},q.value))]}),s.jsxs("select",{value:i,onChange:q=>o(q.target.value),className:"px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:E,outlineColor:E},children:[s.jsx("option",{value:"all",children:"All Upcoming"}),s.jsx("option",{value:"today",children:"Today"}),s.jsx("option",{value:"week",children:"This Week"}),s.jsx("option",{value:"month",children:"This Month"})]})]})})}),s.jsxs("div",{className:"px-6 pb-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden mb-6",children:[s.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(Jd,{className:"w-5 h-5 mr-2",style:{color:E}}),"Upcoming Birthdays (",te.length,")"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full table-auto",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Person"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:te.map(q=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.name}),s.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",q.id]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:q.className})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"text-sm text-gray-900",children:he(q.date)}),s.jsx("div",{className:"text-xs text-gray-500",children:me(oe(q.date))})]}),s.jsx("td",{className:"px-6 py-4 text-sm font-medium",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>pe(q),className:"p-1 hover:bg-gray-100 rounded transition-colors",style:{color:E},title:"View Details",children:s.jsx(Ds,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>ye(q),disabled:y||!k,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:E},title:"Edit",children:s.jsx(Uo,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>ge(q.id),disabled:y||!k,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:E},title:"Delete",children:s.jsx(Ss,{className:"w-4 h-4"})})]})})]},q.id))})]})}),te.length===0&&!y&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Jd,{className:"w-12 h-12 mx-auto mb-4",style:{color:E}}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No upcoming birthdays"}),s.jsx("p",{className:"text-gray-500",children:"No upcoming birthdays found"})]}),y&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(br,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:E}}),s.jsx("p",{className:"text-gray-500",children:"Loading birthdays..."})]}),s.jsx(we,{type:"upcoming",data:b.upcoming})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(en,{className:"w-5 h-5 mr-2",style:{color:E}}),"Past Birthdays (",Ae.length,")"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full table-auto",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Person"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ae.map(q=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.name}),s.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",q.id]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:q.className})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"text-sm text-gray-900",children:he(q.date)}),s.jsx("div",{className:"text-xs text-gray-500",children:"Past birthday"})]}),s.jsx("td",{className:"px-6 py-4 text-sm font-medium",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>pe(q),className:"p-1 hover:bg-gray-100 rounded transition-colors",style:{color:E},title:"View Details",children:s.jsx(Ds,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>ye(q),disabled:y||!k,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:E},title:"Edit",children:s.jsx(Uo,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>ge(q.id),disabled:y||!k,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:E},title:"Delete",children:s.jsx(Ss,{className:"w-4 h-4"})})]})})]},q.id))})]})}),Ae.length===0&&!y&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(en,{className:"w-12 h-12 mx-auto mb-4",style:{color:E}}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No past birthdays"}),s.jsx("p",{className:"text-gray-500",children:"No past birthdays found"})]}),y&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(br,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:E}}),s.jsx("p",{className:"text-gray-500",children:"Loading birthdays..."})]}),s.jsx(we,{type:"past",data:b.past})]})]})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md mx-4",children:[s.jsxs("div",{className:Ot("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:E},children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:p?"Edit Birthday":"Add New Birthday"}),s.jsx("button",{onClick:()=>c(!1),className:"flex items-center justify-center w-8 h-8 hover:bg-gray-100 rounded-full",style:{color:"white"},children:s.jsx(sr,{size:24})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[Z&&s.jsxs("div",{className:"text-center py-4",children:[s.jsx(br,{className:"w-6 h-6 mx-auto animate-spin mb-2",style:{color:E}}),s.jsx("p",{className:"text-sm text-gray-600",children:"Loading classes..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Full Name *"}),s.jsx("input",{type:"text",placeholder:"Full Name",value:Q.name,onChange:q=>{H({...Q,name:q.target.value}),K(be=>({...be,name:""}))},className:Ot("w-full px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",{"border-red-500":U.name}),style:{borderColor:U.name?"#ef4444":E,outlineColor:E},required:!0}),U.name&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:U.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Date *"}),s.jsx("input",{type:"text",placeholder:"Date (e.g., March 15 or March 15, 2025)",value:Q.date,onChange:q=>{H({...Q,date:q.target.value}),K(be=>({...be,date:""}))},className:Ot("w-full px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",{"border-red-500":U.date}),style:{borderColor:U.date?"#ef4444":E,outlineColor:E},required:!0}),U.date&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:U.date})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Class *"}),s.jsxs("select",{value:Q.classId,onChange:q=>{H({...Q,classId:q.target.value}),K(be=>({...be,classId:""}))},disabled:Z,className:Ot("w-full px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50",{"border-red-500":U.classId}),style:{borderColor:U.classId?"#ef4444":E,outlineColor:E},required:!0,children:[s.jsx("option",{value:"",children:"Select Class"}),Ne.map(q=>s.jsx("option",{value:q._id,children:q.displayName},q._id))]}),U.classId&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:U.classId})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Color *"}),s.jsx("input",{type:"color",value:Q.color,onChange:q=>{H({...Q,color:q.target.value}),K(be=>({...be,color:""}))},className:Ot("w-full h-10 px-2 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",{"border-red-500":U.color}),style:{borderColor:U.color?"#ef4444":E,outlineColor:E},required:!0}),U.color&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:U.color})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Type *"}),s.jsxs("select",{value:Q.type,onChange:q=>{H({...Q,type:q.target.value}),K(be=>({...be,type:""}))},className:Ot("w-full px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",{"border-red-500":U.type}),style:{borderColor:U.type?"#ef4444":E,outlineColor:E},required:!0,children:[s.jsx("option",{value:"",children:"Select Type"}),s.jsx("option",{value:"upcoming",children:"Upcoming"}),s.jsx("option",{value:"past",children:"Past"})]}),U.type&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:U.type})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{onClick:()=>c(!1),disabled:y,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),s.jsxs("button",{onClick:ce,disabled:y||!k||Z||Ne.length===0,className:Ot("flex-1 px-4 py-2 text-white rounded-xl flex items-center justify-center space-x-2 disabled:opacity-50"),style:{backgroundColor:E},children:[y?s.jsx(br,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):s.jsx(Ro,{className:"w-4 h-4",style:{color:"white"}}),s.jsx("span",{children:"Save"})]})]})]})]})}),u&&A&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md mx-4",children:[s.jsxs("div",{className:Ot("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:E},children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Birthday Details"}),s.jsx("button",{onClick:()=>f(!1),className:"flex items-center justify-center w-8 h-8 hover:bg-gray-100 rounded-full",style:{color:"white"},children:s.jsx(sr,{size:24})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Name"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:A.name})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Role"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:A.role})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Class"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:G(A.classId)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Date"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:he(A.date)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Age"}),s.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[ae(A.date)," years"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Next Birthday"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:oe(A.date)==="Unknown"?"Invalid date":`${oe(A.date)} days`})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Type"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:A.type})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Color"}),s.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-300",style:{backgroundColor:A.color}})]}),s.jsx("div",{className:"pt-4",children:s.jsx("button",{onClick:()=>f(!1),className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors",children:"Close"})})]})]})})]})},TL=6048e5,hJ=864e5,fF=Symbol.for("constructDateFrom");function Vh(t,r){return typeof t=="function"?t(r):t&&typeof t=="object"&&fF in t?t[fF](r):t instanceof Date?new t.constructor(r):new Date(r)}function md(t,r){return Vh(r||t,t)}let mJ={};function q2(){return mJ}function jy(t,r){const n=q2(),a=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=md(t,r?.in),o=i.getDay(),l=(o<a?7:0)+o-a;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Tb(t,r){return jy(t,{...r,weekStartsOn:1})}function FL(t,r){const n=md(t,r?.in),a=n.getFullYear(),i=Vh(n,0);i.setFullYear(a+1,0,4),i.setHours(0,0,0,0);const o=Tb(i),l=Vh(n,0);l.setFullYear(a,0,4),l.setHours(0,0,0,0);const c=Tb(l);return n.getTime()>=o.getTime()?a+1:n.getTime()>=c.getTime()?a:a-1}function hF(t){const r=md(t),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+t-+n}function pJ(t,...r){const n=Vh.bind(null,r.find(a=>typeof a=="object"));return r.map(n)}function mF(t,r){const n=md(t,r?.in);return n.setHours(0,0,0,0),n}function gJ(t,r,n){const[a,i]=pJ(n?.in,t,r),o=mF(a),l=mF(i),c=+o-hF(o),u=+l-hF(l);return Math.round((c-u)/hJ)}function xJ(t,r){const n=FL(t,r),a=Vh(t,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),Tb(a)}function yJ(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function vJ(t){return!(!yJ(t)&&typeof t!="number"||isNaN(+md(t)))}function bJ(t,r){const n=md(t,r?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const wJ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jJ=(t,r,n)=>{let a;const i=wJ[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function c4(t){return(r={})=>{const n=r.width?String(r.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const NJ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},CJ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},SJ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},BJ={date:c4({formats:NJ,defaultWidth:"full"}),time:c4({formats:CJ,defaultWidth:"full"}),dateTime:c4({formats:SJ,defaultWidth:"full"})},EJ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},TJ=(t,r,n,a)=>EJ[t];function jx(t){return(r,n)=>{const a=n?.context?String(n.context):"standalone";let i;if(a==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,c=n?.width?String(n.width):l;i=t.formattingValues[c]||t.formattingValues[l]}else{const l=t.defaultWidth,c=n?.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[l]}const o=t.argumentCallback?t.argumentCallback(r):r;return i[o]}}const FJ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},IJ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_J={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},kJ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},PJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},DJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},OJ=(t,r)=>{const n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},LJ={ordinalNumber:OJ,era:jx({values:FJ,defaultWidth:"wide"}),quarter:jx({values:IJ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:jx({values:_J,defaultWidth:"wide"}),day:jx({values:kJ,defaultWidth:"wide"}),dayPeriod:jx({values:PJ,defaultWidth:"wide",formattingValues:DJ,defaultFormattingWidth:"wide"})};function Nx(t){return(r,n={})=>{const a=n.width,i=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],o=r.match(i);if(!o)return null;const l=o[0],c=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(c)?MJ(c,m=>m.test(l)):UJ(c,m=>m.test(l));let f;f=t.valueCallback?t.valueCallback(u):u,f=n.valueCallback?n.valueCallback(f):f;const A=r.slice(l.length);return{value:f,rest:A}}}function UJ(t,r){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r(t[n]))return n}function MJ(t,r){for(let n=0;n<t.length;n++)if(r(t[n]))return n}function RJ(t){return(r,n={})=>{const a=r.match(t.matchPattern);if(!a)return null;const i=a[0],o=r.match(t.parsePattern);if(!o)return null;let l=t.valueCallback?t.valueCallback(o[0]):o[0];l=n.valueCallback?n.valueCallback(l):l;const c=r.slice(i.length);return{value:l,rest:c}}}const QJ=/^(\d+)(th|st|nd|rd)?/i,HJ=/\d+/i,$J={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},KJ={any:[/^b/i,/^(a|c)/i]},VJ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},zJ={any:[/1/i,/2/i,/3/i,/4/i]},GJ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},WJ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qJ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},YJ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},XJ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},JJ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ZJ={ordinalNumber:RJ({matchPattern:QJ,parsePattern:HJ,valueCallback:t=>parseInt(t,10)}),era:Nx({matchPatterns:$J,defaultMatchWidth:"wide",parsePatterns:KJ,defaultParseWidth:"any"}),quarter:Nx({matchPatterns:VJ,defaultMatchWidth:"wide",parsePatterns:zJ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Nx({matchPatterns:GJ,defaultMatchWidth:"wide",parsePatterns:WJ,defaultParseWidth:"any"}),day:Nx({matchPatterns:qJ,defaultMatchWidth:"wide",parsePatterns:YJ,defaultParseWidth:"any"}),dayPeriod:Nx({matchPatterns:XJ,defaultMatchWidth:"any",parsePatterns:JJ,defaultParseWidth:"any"})},eZ={code:"en-US",formatDistance:jJ,formatLong:BJ,formatRelative:TJ,localize:LJ,match:ZJ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function tZ(t,r){const n=md(t,r?.in);return gJ(n,bJ(n))+1}function rZ(t,r){const n=md(t,r?.in),a=+Tb(n)-+xJ(n);return Math.round(a/TL)+1}function IL(t,r){const n=md(t,r?.in),a=n.getFullYear(),i=q2(),o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=Vh(r?.in||t,0);l.setFullYear(a+1,0,o),l.setHours(0,0,0,0);const c=jy(l,r),u=Vh(r?.in||t,0);u.setFullYear(a,0,o),u.setHours(0,0,0,0);const f=jy(u,r);return+n>=+c?a+1:+n>=+f?a:a-1}function nZ(t,r){const n=q2(),a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=IL(t,r),o=Vh(r?.in||t,0);return o.setFullYear(i,0,a),o.setHours(0,0,0,0),jy(o,r)}function sZ(t,r){const n=md(t,r?.in),a=+jy(n,r)-+nZ(n,r);return Math.round(a/TL)+1}function ls(t,r){const n=t<0?"-":"",a=Math.abs(t).toString().padStart(r,"0");return n+a}const yh={y(t,r){const n=t.getFullYear(),a=n>0?n:1-n;return ls(r==="yy"?a%100:a,r.length)},M(t,r){const n=t.getMonth();return r==="M"?String(n+1):ls(n+1,2)},d(t,r){return ls(t.getDate(),r.length)},a(t,r){const n=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,r){return ls(t.getHours()%12||12,r.length)},H(t,r){return ls(t.getHours(),r.length)},m(t,r){return ls(t.getMinutes(),r.length)},s(t,r){return ls(t.getSeconds(),r.length)},S(t,r){const n=r.length,a=t.getMilliseconds(),i=Math.trunc(a*Math.pow(10,n-3));return ls(i,r.length)}},bp={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pF={G:function(t,r,n){const a=t.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){const a=t.getFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return yh.y(t,r)},Y:function(t,r,n,a){const i=IL(t,a),o=i>0?i:1-i;if(r==="YY"){const l=o%100;return ls(l,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):ls(o,r.length)},R:function(t,r){const n=FL(t);return ls(n,r.length)},u:function(t,r){const n=t.getFullYear();return ls(n,r.length)},Q:function(t,r,n){const a=Math.ceil((t.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return ls(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){const a=Math.ceil((t.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return ls(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){const a=t.getMonth();switch(r){case"M":case"MM":return yh.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){const a=t.getMonth();switch(r){case"L":return String(a+1);case"LL":return ls(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){const i=sZ(t,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):ls(i,r.length)},I:function(t,r,n){const a=rZ(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):ls(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):yh.d(t,r)},D:function(t,r,n){const a=tZ(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):ls(a,r.length)},E:function(t,r,n){const a=t.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){const i=t.getDay(),o=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return ls(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){const i=t.getDay(),o=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return ls(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){const a=t.getDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return ls(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){const i=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){const a=t.getHours();let i;switch(a===12?i=bp.noon:a===0?i=bp.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){const a=t.getHours();let i;switch(a>=17?i=bp.evening:a>=12?i=bp.afternoon:a>=4?i=bp.morning:i=bp.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){let a=t.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return yh.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):yh.H(t,r)},K:function(t,r,n){const a=t.getHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):ls(a,r.length)},k:function(t,r,n){let a=t.getHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):ls(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):yh.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):yh.s(t,r)},S:function(t,r){return yh.S(t,r)},X:function(t,r,n){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return xF(a);case"XXXX":case"XX":return Km(a);case"XXXXX":case"XXX":default:return Km(a,":")}},x:function(t,r,n){const a=t.getTimezoneOffset();switch(r){case"x":return xF(a);case"xxxx":case"xx":return Km(a);case"xxxxx":case"xxx":default:return Km(a,":")}},O:function(t,r,n){const a=t.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+gF(a,":");case"OOOO":default:return"GMT"+Km(a,":")}},z:function(t,r,n){const a=t.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+gF(a,":");case"zzzz":default:return"GMT"+Km(a,":")}},t:function(t,r,n){const a=Math.trunc(+t/1e3);return ls(a,r.length)},T:function(t,r,n){return ls(+t,r.length)}};function gF(t,r=""){const n=t>0?"-":"+",a=Math.abs(t),i=Math.trunc(a/60),o=a%60;return o===0?n+String(i):n+String(i)+r+ls(o,2)}function xF(t,r){return t%60===0?(t>0?"-":"+")+ls(Math.abs(t)/60,2):Km(t,r)}function Km(t,r=""){const n=t>0?"-":"+",a=Math.abs(t),i=ls(Math.trunc(a/60),2),o=ls(a%60,2);return n+i+r+o}const yF=(t,r)=>{switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},_L=(t,r)=>{switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},aZ=(t,r)=>{const n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return yF(t,r);let o;switch(a){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",yF(a,r)).replace("{{time}}",_L(i,r))},iZ={p:_L,P:aZ},oZ=/^D+$/,lZ=/^Y+$/,cZ=["D","DD","YY","YYYY"];function uZ(t){return oZ.test(t)}function dZ(t){return lZ.test(t)}function AZ(t,r,n){const a=fZ(t,r,n);if(console.warn(a),cZ.includes(t))throw new RangeError(a)}function fZ(t,r,n){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${r}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const hZ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,mZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pZ=/^'([^]*?)'?$/,gZ=/''/g,xZ=/[a-zA-Z]/;function vF(t,r,n){const a=q2(),i=a.locale??eZ,o=a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=a.weekStartsOn??a.locale?.options?.weekStartsOn??0,c=md(t,n?.in);if(!vJ(c))throw new RangeError("Invalid time value");let u=r.match(mZ).map(A=>{const m=A[0];if(m==="p"||m==="P"){const p=iZ[m];return p(A,i.formatLong)}return A}).join("").match(hZ).map(A=>{if(A==="''")return{isToken:!1,value:"'"};const m=A[0];if(m==="'")return{isToken:!1,value:yZ(A)};if(pF[m])return{isToken:!0,value:A};if(m.match(xZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:A}});i.localize.preprocessor&&(u=i.localize.preprocessor(c,u));const f={firstWeekContainsDate:o,weekStartsOn:l,locale:i};return u.map(A=>{if(!A.isToken)return A.value;const m=A.value;(dZ(m)||uZ(m))&&AZ(m,r,String(t));const p=pF[m[0]];return p(c,m,i.localize,f)}).join("")}function yZ(t){const r=t.match(pZ);return r?r[1].replace(gZ,"'"):t}const vh="https://vidyaastra.com/api",vZ=()=>{const[t,r]=w.useState([]),[n,a]=w.useState([]),[i,o]=w.useState(!1),[l,c]=w.useState(""),[u,f]=w.useState(""),[A,m]=w.useState(!1),[p,g]=w.useState(""),[b,v]=w.useState(""),[y,j]=w.useState({subject:"",date:"",topic:"",description:"",classId:""}),[C,S]=w.useState({}),[E,D]=w.useState(null),[k,L]=w.useState([]),[I,Y]=w.useState(!1),[Q,H]=w.useState(""),[U,K]=w.useState("all"),[X,Z]=w.useState("#2563eb"),ee=V=>{f(V),setTimeout(()=>f(""),5e3)},de=V=>{c(V),setTimeout(()=>c(""),5e3)};w.useEffect(()=>{const V=localStorage.getItem("color");V&&Z(V);const ie=localStorage.getItem("schoolId");ie?g(ie):de("School ID not found in localStorage. Please login again.")},[]);const Ne=w.useCallback(async()=>{if(p)try{const V=await fetch(`${vh}/class?schoolId=${p}`);if(V.ok){const ie=await V.json();ie.success&&(a(ie.data||[]),ie.data&&ie.data.length>0&&!b&&v(ie.data[0]._id))}else console.error("Failed to fetch classes:",V.status),de("Failed to fetch classes")}catch(V){console.error("Error fetching classes:",V),de("Error connecting to server while fetching classes")}},[p,b]),Se=w.useCallback(async()=>{if(!p||!b){r([]);return}o(!0);try{const V=await fetch(`${vh}/classwork?schoolId=${p}&classId=${b}`);if(V.ok){const ie=await V.json();r(Array.isArray(ie)?ie:[]),console.log("Classworks loaded:",ie.length||0)}else console.error("Failed to fetch classworks:",V.status),de("Failed to fetch classworks"),r([])}catch(V){console.error("Error fetching classworks:",V),de("Error connecting to server while fetching classworks"),r([])}finally{o(!1)}},[p,b]);w.useEffect(()=>{p&&Ne()},[p,Ne]),w.useEffect(()=>{p&&b&&Se()},[p,b,Se]);const ue=()=>{const V={};return y.subject.trim()||(V.subject="Subject is required"),y.date||(V.date="Date is required"),y.topic.trim()||(V.topic="Topic is required"),y.description.trim()||(V.description="Description is required"),y.classId||(V.classId="Class is required"),S(V),Object.keys(V).length===0},xe=V=>{const{name:ie,value:pe}=V.target;j(ye=>({...ye,[ie]:pe})),C[ie]&&S(ye=>({...ye,[ie]:""}))},R=V=>{const ie=Array.from(V.target.files);if(ie.length>5){de("Maximum 5 files allowed");return}L(ie)},G=async V=>{if(V.preventDefault(),!ue())return;if(!p){de("School ID is missing. Cannot perform this operation.");return}o(!0),Y(!0);const ie=new FormData;ie.append("subject",y.subject),ie.append("date",y.date),ie.append("topic",y.topic),ie.append("description",y.description),ie.append("schoolId",p),ie.append("classId",y.classId),k.forEach(pe=>{ie.append("attachments",pe)});try{let pe;if(E?pe=await fetch(`${vh}/classwork/${E._id}`,{method:"PUT",body:ie}):pe=await fetch(`${vh}/classwork`,{method:"POST",body:ie}),pe.ok)ee(E?"Classwork updated successfully!":"Classwork added successfully!"),m(!1),he(),Se();else{const ye=await pe.json();de(ye.message||"Failed to save classwork")}}catch(pe){console.error("Error saving classwork:",pe),de("Failed to save classwork. Please check your connection and try again.")}finally{o(!1),Y(!1)}},ne=V=>{D(V),j({subject:V.subject,date:vF(new Date(V.date),"yyyy-MM-dd"),topic:V.topic,description:V.description,classId:V.classId}),L([]),m(!0)},ae=w.useCallback(async V=>{if(window.confirm("Are you sure you want to delete this classwork?")){if(!p||!b){de("School ID and Class ID are missing. Cannot perform this operation.");return}o(!0);try{const ie=await fetch(`${vh}/classwork/${V}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:p,classId:b})});if(ie.ok)ee("Classwork deleted successfully!"),Se();else{const pe=await ie.json();de(pe.message||"Failed to delete classwork")}}catch(ie){console.error("Error deleting classwork:",ie),de("Failed to delete classwork")}finally{o(!1)}}},[p,b,Se]),oe=w.useCallback(async(V,ie)=>{if(window.confirm("Are you sure you want to delete this attachment?")){if(!p||!b){de("School ID and Class ID are missing. Cannot perform this operation.");return}o(!0);try{const pe=await fetch(`${vh}/classwork/${V}/attachments/${ie}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:p,classId:b})});if(pe.ok)ee("Attachment deleted successfully!"),Se();else{const ye=await pe.json();de(ye.message||"Failed to delete attachment")}}catch(pe){console.error("Error deleting attachment:",pe),de("Failed to delete attachment")}finally{o(!1)}}},[p,b,Se]),he=()=>{j({subject:"",date:"",topic:"",description:"",classId:b||""}),S({}),D(null),L([])},me=w.useMemo(()=>{let V=t;return U!=="all"&&(V=V.filter(ie=>ie.subject===U)),Q&&(V=V.filter(ie=>ie.topic.toLowerCase().includes(Q.toLowerCase())||ie.description.toLowerCase().includes(Q.toLowerCase())||ie.subject.toLowerCase().includes(Q.toLowerCase()))),V.sort((ie,pe)=>new Date(pe.date)-new Date(ie.date))},[t,U,Q]),te=w.useMemo(()=>{const V=new Set(t.map(ie=>ie.subject));return["all",...Array.from(V).sort()]},[t]),Ae=V=>({Mathematics:"text-blue-600 bg-blue-50",Physics:"text-purple-600 bg-purple-50",English:"text-green-600 bg-green-50",Chemistry:"text-orange-600 bg-orange-50",History:"text-red-600 bg-red-50",Biology:"text-teal-600 bg-teal-50"})[V]||"text-gray-600 bg-gray-50";return p?s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[u&&s.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[s.jsx(pi,{className:"w-5 h-5"}),s.jsx("span",{className:"block sm:inline",children:u}),s.jsx("button",{onClick:()=>f(""),className:"ml-auto text-green-700 hover:text-green-900",children:s.jsx(sr,{className:"w-4 h-4"})})]}),l&&s.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[s.jsx(ln,{className:"w-5 h-5"}),s.jsx("span",{className:"block sm:inline",children:l}),s.jsx("button",{onClick:()=>c(""),className:"ml-auto text-red-700 hover:text-red-900",children:s.jsx(sr,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"text-white p-6 rounded-b-3xl shadow-lg mb-6",style:{backgroundColor:X},children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(TG,{className:"w-6 h-6"}),s.jsx("h1",{className:"text-2xl font-bold",children:"Classwork Management"})]}),s.jsx("p",{className:"text-white mb-4",children:"Manage daily classwork, topics, and attachments."}),s.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-4",children:[s.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:"Select Class:"}),s.jsxs("select",{value:b,onChange:V=>v(V.target.value),className:"w-full md:w-auto px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-white text-gray-800",children:[s.jsx("option",{value:"",children:"Select a class"}),n.map(V=>s.jsxs("option",{value:V._id,children:[V.className," ",V.section]},V._id))]})]})]}),b?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 mb-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[s.jsxs("div",{className:"relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search topic, subject, or description...",value:Q,onChange:V=>H(V.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:X,outlineColor:X}})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Mo,{className:"text-gray-500 w-4 h-4"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:te.map(V=>s.jsx("button",{onClick:()=>K(V),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${U===V?"text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,style:U===V?{backgroundColor:X}:{},children:V.charAt(0).toUpperCase()+V.slice(1)},V))})]}),s.jsxs("button",{onClick:()=>{he(),j(V=>({...V,classId:b})),m(!0)},disabled:i,className:"text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2 disabled:opacity-50",style:{backgroundColor:X},children:[s.jsx($s,{className:"w-5 h-5"}),s.jsx("span",{children:"Add Classwork"})]})]})}),i&&t.length===0?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx(br,{className:"w-12 h-12 animate-spin",style:{color:X}})}):me.length===0?s.jsxs("div",{className:"text-center py-10 text-gray-500",children:[s.jsx(ln,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-xl font-medium",children:"No classwork found"}),s.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:me.map(V=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:V.topic}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${Ae(V.subject)}`,children:V.subject})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-3 flex-grow",children:V.description}),s.jsxs("div",{className:"flex items-center text-gray-500 text-sm mb-4",children:[s.jsx(en,{className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:["Date: ",vF(new Date(V.date),"PPP")]})]}),V.attachments&&V.attachments.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Attachments:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:V.attachments.map(ie=>s.jsxs("a",{href:`${vh.replace("/api","")}${ie.url}`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-gray-100 text-xs font-medium rounded-full flex items-center hover:underline",style:{color:X},children:[s.jsx(Cs,{className:"w-3 h-3 mr-1"}),ie.name]},ie._id))})]}),s.jsxs("div",{className:"flex space-x-3 mt-auto pt-4 border-t border-gray-100",children:[s.jsxs("button",{onClick:()=>ne(V),disabled:i,className:"flex items-center text-sm transition-colors disabled:opacity-50",style:{color:X},children:[s.jsx(Uo,{className:"w-4 h-4 mr-1"}),"Edit"]}),s.jsxs("button",{onClick:()=>ae(V._id),disabled:i,className:"flex items-center text-sm text-red-600 hover:text-red-800 transition-colors disabled:opacity-50",children:[s.jsx(Ss,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]},V._id))})]}):s.jsxs("div",{className:"text-center py-10 text-gray-500",children:[s.jsx(ln,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-xl font-medium",children:"Please select a class"}),s.jsx("p",{className:"text-sm",children:"Choose a class from the dropdown above to view classwork."})]}),A&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:E?"Edit Classwork":"Add New Classwork"}),s.jsx("button",{onClick:()=>m(!1),className:"text-gray-500 hover:text-gray-700",children:s.jsx(sr,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:G,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"classId",className:"block text-sm font-medium text-gray-700",children:"Class"}),s.jsxs("select",{id:"classId",name:"classId",value:y.classId,onChange:xe,className:`mt-1 block w-full px-3 py-2 border ${C.classId?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:C.classId?void 0:X,outlineColor:X},required:!0,children:[s.jsx("option",{value:"",children:"Select Class"}),n.map(V=>s.jsxs("option",{value:V._id,children:[V.className," ",V.section]},V._id))]}),C.classId&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:C.classId})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700",children:"Subject"}),s.jsx("input",{type:"text",id:"subject",name:"subject",value:y.subject,onChange:xe,className:`mt-1 block w-full px-3 py-2 border ${C.subject?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:C.subject?void 0:X,outlineColor:X},required:!0}),C.subject&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:C.subject})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700",children:"Date"}),s.jsx("input",{type:"date",id:"date",name:"date",value:y.date,onChange:xe,className:`mt-1 block w-full px-3 py-2 border ${C.date?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:C.date?void 0:X,outlineColor:X},required:!0}),C.date&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:C.date})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"topic",className:"block text-sm font-medium text-gray-700",children:"Topic"}),s.jsx("input",{type:"text",id:"topic",name:"topic",value:y.topic,onChange:xe,className:`mt-1 block w-full px-3 py-2 border ${C.topic?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:C.topic?void 0:X,outlineColor:X},required:!0}),C.topic&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:C.topic})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),s.jsx("textarea",{id:"description",name:"description",value:y.description,onChange:xe,rows:"3",className:`mt-1 block w-full px-3 py-2 border ${C.description?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:C.description?void 0:X,outlineColor:X},required:!0}),C.description&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:C.description})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"attachments",className:"block text-sm font-medium text-gray-700",children:"Attachments (Max 5 files)"}),s.jsx("input",{type:"file",id:"attachments",name:"attachments",multiple:!0,onChange:R,className:"mt-1 block w-full text-sm text-white file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold hover:file:bg-opacity-80",style:{backgroundColor:X}}),k.length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Selected files:"}),s.jsx("ul",{className:"list-disc list-inside ml-4",children:k.map((V,ie)=>s.jsx("li",{className:"text-sm text-gray-600",children:V.name},ie))})]}),E?.attachments&&E.attachments.length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Existing Attachments:"}),s.jsx("ul",{className:"list-disc list-inside ml-4",children:E.attachments.map(V=>s.jsxs("li",{className:"text-sm text-gray-600 flex items-center justify-between",children:[s.jsx("a",{href:`${vh.replace("/api","")}${V.url}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 hover:underline",style:{color:X},children:V.name}),s.jsx("button",{type:"button",onClick:()=>oe(E._id,V._id),className:"ml-2 text-red-500 hover:text-red-700",title:"Delete attachment",disabled:i,children:s.jsx(sr,{className:"w-4 h-4"})})]},V._id))})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>m(!1),disabled:i||I,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:i||I,className:"text-white px-4 py-2 rounded-lg shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 flex items-center space-x-2",style:{backgroundColor:X,outlineColor:X},children:[i||I?s.jsx(br,{className:"w-4 h-4 animate-spin"}):s.jsx(Ro,{className:"w-4 h-4"}),s.jsx("span",{children:i||I?"Saving...":"Save Classwork"})]})]})]})]})})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ln,{className:"w-12 h-12 mx-auto text-red-600 mb-4"}),s.jsx("p",{className:"text-lg font-medium text-gray-700",children:"School ID is required to access classwork."}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please ensure you are properly logged in."})]})})},b1="https://vidyaastra.com/api",bZ="https://vidyaastra.com",wZ=()=>{const[t,r]=w.useState([]),[n,a]=w.useState(!0),[i,o]=w.useState(!1),[l,c]=w.useState(!1),[u,f]=w.useState(""),[A,m]=w.useState(""),[p,g]=w.useState(null),[b,v]=w.useState("#2563eb"),[y,j]=w.useState(null),[C,S]=w.useState(!1),[E,D]=w.useState(""),[k,L]=w.useState(1),[I]=w.useState(10),[Y,Q]=w.useState(1),[H,U]=w.useState(0),[K,X]=w.useState({title:"",date:"",newImages:[],existingImages:[]});w.useEffect(()=>{const te=localStorage.getItem("color");te&&v(te);const Ae=localStorage.getItem("schoolId");Ae?(j(Ae),console.log("School ID loaded from localStorage:",Ae)):(console.log("No school ID found in localStorage, showing setup"),S(!0))},[]);const Z=te=>{te.preventDefault(),E.trim()&&(localStorage.setItem("schoolId",E.trim()),j(E.trim()),S(!1),D(""),console.log("School ID set:",E.trim()))},ee=()=>{localStorage.removeItem("schoolId"),j(null),S(!0),r([]),L(1)},de=w.useCallback(async()=>{if(!y){console.log("No schoolId available, skipping fetch"),a(!1);return}console.log("Fetching albums for school:",y,"Page:",k,"Limit:",I),a(!0),f("");try{const te=await Ft.get(`${b1}/albums`,{params:{schoolId:y,page:k,limit:I},timeout:1e4});if(console.log("Fetch albums response:",te.data),te.data.success){const Ae=te.data.albums||[];r(Ae),Q(te.data.pages||1),U(te.data.total||0),console.log(`Successfully loaded ${Ae.length} albums, Total: ${te.data.total}, Pages: ${te.data.pages}`),Ae.length>0&&console.log("First album sample:",{id:Ae[0]._id,title:Ae[0].title,imageCount:Ae[0].images?.length||0,firstImagePath:Ae[0].images?.[0]?.path})}else console.error("API returned success: false",te.data),f(te.data.message||"Failed to fetch albums")}catch(te){console.error("Error fetching albums:",te),te.code==="ECONNABORTED"?f("Request timeout. Please check your internet connection."):te.response?f(te.response.data?.message||`Server error: ${te.response.status}`):te.request?f("Network error. Please check your internet connection."):f("An unexpected error occurred.")}finally{a(!1)}},[y,k,I]);w.useEffect(()=>{de()},[de]);const Ne=()=>{console.log("Opening add modal"),g(null),X({title:"",date:"",newImages:[],existingImages:[]}),o(!0),f(""),m("")},Se=w.useCallback(te=>{console.log("Opening edit modal for album:",te._id),g(te),X({title:te.title,date:te.date?new Date(te.date).toISOString().split("T")[0]:"",newImages:[],existingImages:te.images||[]}),o(!0),f(""),m("")},[]),ue=()=>{console.log("Closing modal"),o(!1),g(null),X({title:"",date:"",newImages:[],existingImages:[]}),f(""),m("");const te=document.getElementById("images");te&&(te.value="")},xe=te=>{const{name:Ae,value:V}=te.target;console.log(`Form input changed: ${Ae} = ${V}`),X(ie=>({...ie,[Ae]:V}))},R=te=>{const Ae=Array.from(te.target.files);console.log("Files selected:",Ae.length,Ae.map(V=>V.name)),X(V=>({...V,newImages:Ae}))},G=te=>{console.log("Removing existing image:",te),X(Ae=>({...Ae,existingImages:Ae.existingImages.filter(V=>V.path!==te)}))},ne=async te=>{if(te.preventDefault(),console.log("=== FORM SUBMISSION ==="),console.log("Form data:",K),console.log("School ID:",y),console.log("Editing album:",p?._id),c(!0),f(""),m(""),!y){f("School ID is missing. Cannot perform this operation."),c(!1);return}if(!K.title.trim()){f("Album title is required and cannot be empty."),c(!1);return}if(K.title.trim().length<3){f("Album title must be at least 3 characters long."),c(!1);return}if(!K.date){f("Event date is required. Please select a date."),c(!1);return}const Ae=new Date(K.date),V=new Date;if(V.setHours(23,59,59,999),Ae>V){f("Event date cannot be in the future."),c(!1);return}if(!p&&K.newImages.length===0){f("At least one image is required for new albums. Please select images to upload."),c(!1);return}const ie=10*1024*1024,pe=["image/jpeg","image/jpg","image/png","image/gif","image/webp"];for(let ge=0;ge<K.newImages.length;ge++){const le=K.newImages[ge];if(le.size>ie){f(`Image "${le.name}" is too large. Maximum file size is 10MB.`),c(!1);return}if(!pe.includes(le.type)){f(`Image "${le.name}" has an unsupported format. Please use JPEG, PNG, GIF, or WEBP.`),c(!1);return}}if(K.newImages.length>20){f("Maximum 20 images can be uploaded at once."),c(!1);return}const ye=new FormData;ye.append("title",K.title.trim()),ye.append("date",K.date),ye.append("schoolId",y),K.newImages.forEach((ge,le)=>{console.log(`Adding image ${le+1}:`,ge.name,ge.size,"bytes"),ye.append("images",ge)}),p&&(ye.append("existingImagePaths",JSON.stringify(K.existingImages)),console.log("Existing images to keep:",K.existingImages.length)),console.log("FormData contents:");for(const[ge,le]of ye.entries())le instanceof File?console.log(`${ge}: File(${le.name}, ${le.size} bytes)`):console.log(`${ge}: ${le}`);try{let ge;const le={headers:{"Content-Type":"multipart/form-data"},timeout:3e4};p?(console.log("Updating album:",p._id),ge=await Ft.put(`${b1}/albums/${p._id}`,ye,le)):(console.log("Creating new album"),ge=await Ft.post(`${b1}/albums`,ye,le)),console.log("Album submission response:",ge.data),ge.data.success||ge.data.message&&ge.data.message.includes("successfully")?(m(p?"Album updated successfully!":"Album uploaded successfully!"),console.log("Album saved successfully, refreshing list..."),L(1),await de(),setTimeout(()=>{ue()},1500)):(console.error("API returned success: false",ge.data),f(ge.data.message||"Failed to save album. Please try again."))}catch(ge){console.error("Error saving album:",ge),ge.code==="ECONNABORTED"?f("Upload timeout. Please try with smaller images or check your internet connection."):ge.response?(console.error("Server error response:",ge.response.data),f(ge.response.data?.message||`Server error: ${ge.response.status}. Please try again.`)):ge.request?f("Network error. Please check your internet connection and try again."):f("An unexpected error occurred while saving the album. Please try again.")}finally{c(!1)}},ae=w.useCallback(async te=>{if(window.confirm("Are you sure you want to delete this album and all its images? This action cannot be undone.")){if(console.log("Deleting album:",te),c(!0),f(""),m(""),!y){f("School ID is missing. Cannot perform this operation."),c(!1);return}try{const Ae=await Ft.delete(`${b1}/albums/${te}`,{data:{schoolId:y},timeout:1e4});console.log("Delete response:",Ae.data),Ae.data.success?(m(Ae.data.message||"Album deleted successfully!"),L(1),await de()):f(Ae.data.message||"Failed to delete album")}catch(Ae){console.error("Error deleting album:",Ae),Ae.response?f(Ae.response.data?.message||`Server error: ${Ae.response.status}`):f("Failed to delete album. Please try again.")}finally{c(!1)}}},[de,y]),oe=te=>{if(!te)return console.log("No image path provided, using placeholder"),"/placeholder.svg?height=192&width=192";if(te.startsWith("http"))return console.log("Image path is already full URL:",te),te;const Ae=`${bZ}${te}`;return console.log("Constructed image URL:",Ae),Ae},he=te=>{console.error("Image failed to load:",te.target.src)},me=te=>{console.log("Image loaded successfully:",te)};return w.useEffect(()=>{if(u){const te=setTimeout(()=>f(""),8e3);return()=>clearTimeout(te)}},[u]),w.useEffect(()=>{if(A){const te=setTimeout(()=>m(""),3e3);return()=>clearTimeout(te)}},[A]),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[C&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl",children:[s.jsxs("div",{className:"text-white p-6 rounded-t-2xl shadow-lg",style:{backgroundColor:b},children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Setup School Gallery"}),s.jsx("p",{className:"text-white text-sm mt-1 opacity-90",children:"Enter your school ID to get started"})]}),s.jsxs("form",{onSubmit:Z,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"setupSchoolId",className:"block text-sm font-medium text-gray-700 mb-2",children:"School ID *"}),s.jsx("input",{type:"text",id:"setupSchoolId",value:E,onChange:te=>D(te.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent",style:{focusRingColor:b},placeholder:"e.g., 688dfdc93af0f78ebd4b044a",required:!0}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["For demo purposes, you can use:"," ",s.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"demo-school-123"})]})]}),s.jsx("button",{type:"submit",disabled:!E.trim(),className:"w-full py-3 px-6 text-white rounded-xl font-semibold hover:opacity-90 transition-all duration-200 flex items-center justify-center space-x-2 disabled:opacity-50",style:{backgroundColor:b},children:s.jsx("span",{children:"Continue to Gallery"})})]})]})}),s.jsxs("div",{className:Ot("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:b},children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(w5,{className:"w-6 h-6",style:{color:"white"}}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Student Gallery"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:Ne,disabled:l||!y,className:Ot("text-white px-4 py-2 rounded-lg flex items-center space-x-2 font-semibold disabled:opacity-50 hover:bg-white hover:bg-opacity-20 transition-colors"),style:{backgroundColor:`${b}80`},children:[l?s.jsx(br,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):s.jsx($s,{className:"w-4 h-4",style:{color:"white"}}),s.jsx("span",{children:"Add Album"})]}),y&&s.jsx("button",{onClick:ee,className:"text-white px-3 py-2 rounded-lg hover:bg-white hover:bg-opacity-20 transition-colors text-sm",title:"Change School ID",children:"Change School"})]})]}),s.jsx("p",{className:"text-white mt-2",children:"School moments and memories"})]}),u&&s.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-lg",children:[s.jsx(ln,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"block sm:inline text-sm",children:u}),s.jsx("button",{onClick:()=>f(""),className:"ml-auto text-red-700 hover:text-red-900 flex-shrink-0",children:s.jsx(sr,{className:"w-4 h-4"})})]}),A&&s.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-lg",children:[s.jsx(gi,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"block sm:inline text-sm font-medium",children:A})]}),s.jsx("div",{className:"p-6",children:n?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(br,{className:"w-12 h-12 mx-auto animate-spin mb-4",style:{color:b}}),s.jsx("p",{className:"text-lg font-medium text-gray-700",children:"Loading albums..."}),s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["School ID: ",y||"Not found"]})]}):t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(y0,{className:"w-16 h-16 mx-auto mb-4",style:{color:b}}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No albums found"}),s.jsx("p",{className:"text-gray-500 mb-4",children:y?'Click "Add Album" to create your first gallery.':"Please set your school ID to view albums."}),y&&s.jsxs("p",{className:"text-xs text-gray-400",children:["School ID: ",y]})]}):s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"text-center mb-6",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Found ",H," album",H!==1?"s":""," for your school (Page ",k," of ",Y,")"]})}),t.map(te=>s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:te.title}),s.jsxs("p",{className:"text-sm text-gray-500 flex items-center mt-1",children:[s.jsx(en,{className:"w-4 h-4 mr-1",style:{color:b}}),new Date(te.date).toLocaleDateString(),s.jsxs("span",{className:"ml-3 text-xs",children:[te.images?.length||0," image",(te.images?.length||0)!==1?"s":""]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>Se(te),disabled:l||!y,className:"p-2 hover:bg-gray-100 rounded-full disabled:opacity-50 transition-colors",style:{color:b},title:"Edit Album",children:s.jsx(Lo,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>ae(te._id),disabled:l||!y,className:"p-2 hover:bg-gray-100 rounded-full disabled:opacity-50 transition-colors text-red-500 hover:text-red-700",title:"Delete Album",children:s.jsx(Ss,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:!te.images||te.images.length===0?s.jsxs("div",{className:"col-span-full text-center py-8 text-gray-500 bg-gray-50 rounded-xl",children:[s.jsx(y0,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No images in this album"})]}):te.images.map((Ae,V)=>{const ie=oe(Ae.path);return s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:ie||"/placeholder.svg",alt:`${te.title} image ${V+1}`,className:"w-full h-48 object-cover rounded-xl shadow-sm group-hover:shadow-md transition-shadow",onError:he,onLoad:()=>me(ie)}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 flex items-center justify-center rounded-xl transition-all duration-200",children:s.jsxs("div",{className:"text-white text-center opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("p",{className:"text-sm font-medium",children:Ae.filename}),Ae.size&&s.jsxs("p",{className:"text-xs opacity-75",children:[(Ae.size/1024/1024).toFixed(1)," MB"]})]})})]},Ae.path||V)})})]},te._id)),s.jsxs("div",{className:"flex justify-center items-center space-x-4 mt-8",children:[s.jsx("button",{onClick:()=>L(te=>Math.max(te-1,1)),disabled:k===1||l,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 transition-colors",children:"Previous"}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",k," of ",Y]}),s.jsx("button",{onClick:()=>L(te=>Math.min(te+1,Y)),disabled:k===Y||l,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 transition-colors",children:"Next"})]})]})}),i&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[s.jsxs("div",{className:Ot("text-white p-6 rounded-t-2xl shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:b},children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:p?"Edit Album":"Add New Album"}),s.jsx("button",{onClick:ue,className:"flex items-center justify-center w-8 h-8 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:s.jsx(sr,{size:20,style:{color:"white"}})})]}),s.jsxs("form",{onSubmit:ne,className:"p-6 space-y-6",children:[u&&s.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[s.jsx(ln,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:u}),s.jsx("button",{type:"button",onClick:()=>f(""),className:"ml-auto text-red-700 hover:text-red-900",children:s.jsx(sr,{className:"w-4 h-4"})})]}),A&&s.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[s.jsx(gi,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"text-sm font-medium",children:A})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Album Title *"}),s.jsx("input",{type:"text",id:"title",name:"title",value:K.title,onChange:xe,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent",style:{focusRingColor:b},placeholder:"e.g., Annual Sports Day 2023",required:!0,minLength:3,maxLength:100}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[K.title.length,"/100 characters (minimum 3)"]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Date *"}),s.jsx("input",{type:"date",id:"date",name:"date",value:K.date,onChange:xe,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent",style:{focusRingColor:b},required:!0})]})]}),p&&K.existingImages.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:["Current Images (",K.existingImages.length,")"]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:K.existingImages.map((te,Ae)=>{const V=oe(te.path);return s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:V||"/placeholder.svg",alt:`Existing image ${Ae+1}`,className:"w-full h-32 object-cover rounded-lg",onError:he}),s.jsx("button",{type:"button",onClick:()=>G(te.path),className:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove image",children:s.jsx(sr,{className:"w-3 h-3"})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-xs p-1 rounded-b-lg opacity-0 group-hover:opacity-100 transition-opacity",children:te.filename})]},te.path||Ae)})})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"images",className:"block text-sm font-medium text-gray-700 mb-2",children:[p?"Add More Images":"Upload Images *",!p&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsx("div",{className:"flex items-center justify-center w-full",children:s.jsxs("label",{htmlFor:"images",className:"flex flex-col items-center justify-center w-full h-40 border-2 border-dashed border-gray-300 rounded-xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",style:{borderColor:K.newImages.length>0?b:void 0},children:[s.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[s.jsx(_G,{className:"w-10 h-10 mb-3",style:{color:b}}),s.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[s.jsx("span",{className:"font-semibold",children:"Click to upload"})," ","or drag and drop"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"JPEG, PNG, GIF, WEBP (Max 10MB per image, 20 images max)"}),!p&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:"At least one image is required"})]}),s.jsx("input",{id:"images",type:"file",name:"images",multiple:!0,accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:R,className:"hidden"})]})}),K.newImages.length>0&&s.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[s.jsxs("h5",{className:"text-sm font-medium text-blue-800 mb-2",children:["Selected Files (",K.newImages.length,"/20):"]}),s.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:K.newImages.map((te,Ae)=>s.jsxs("div",{className:"flex justify-between items-center text-xs text-blue-700",children:[s.jsx("span",{className:"truncate",children:te.name}),s.jsxs("span",{className:"ml-2 flex-shrink-0",children:[(te.size/1024/1024).toFixed(1)," MB"]})]},Ae))})]})]}),s.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:ue,disabled:l,className:"flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:l||!y,className:Ot("flex-1 py-3 px-6 text-white rounded-xl font-semibold hover:opacity-90 transition-all duration-200 flex items-center justify-center space-x-2 disabled:opacity-50"),style:{backgroundColor:b},children:l?s.jsxs(s.Fragment,{children:[s.jsx(br,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:p?"Updating...":"Creating..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ro,{className:"w-4 h-4"}),s.jsx("span",{children:p?"Update Album":"Create Album"})]})})]})]})]})})]})},w1="https://vidyaastra.com/api",jZ=()=>{const[t,r]=w.useState("All"),[n,a]=w.useState(""),[i,o]=w.useState({key:null,direction:"asc"}),[l,c]=w.useState("table"),[u,f]=w.useState(!1),[A,m]=w.useState(null),[p,g]=w.useState([]),[b,v]=w.useState(!1),[y,j]=w.useState(""),[C,S]=w.useState(null),[E,D]=w.useState("#2563eb"),[k,L]=w.useState(null),[I,Y]=w.useState({name:"",date:"",category:"National Holiday",description:"",color:"#667eea"}),[Q,H]=w.useState({});w.useEffect(()=>{const ge=localStorage.getItem("color");ge&&D(ge);const le=localStorage.getItem("schoolId");le?L(le):j("School ID not found in local storage. Please log in to access holiday data.")},[]);const U=(ge,le="success")=>{m({message:ge,type:le}),setTimeout(()=>m(null),3e3)},K=()=>{Y({name:"",date:"",category:"National Holiday",description:"",color:"#667eea"}),H({}),S(null)},X=ge=>{if(!ge)return"";const le=new Date(ge),Qe={year:"numeric",month:"long",day:"numeric"};return le.toLocaleDateString("en-US",Qe)},Z=ge=>ge?new Date(ge).toISOString().split("T")[0]:"",ee=()=>{const ge={};if(I.name.trim()||(ge.name="Holiday name is required"),!I.date)ge.date="Date is required";else{const le=new Date(I.date),Qe=new Date().getFullYear();!C&&le.getFullYear()<Qe&&(ge.date="Please select a date from current year onwards for new holidays.")}return I.description.trim()||(ge.description="Description is required"),I.name.trim()&&p.some(le=>le.name.toLowerCase()===I.name.trim().toLowerCase()&&le.year===new Date(I.date).getFullYear()&&(!C||le.id!==C.id))&&(ge.name="A holiday with this name already exists for the selected year."),ge},de=ge=>{const{name:le,value:Qe}=ge.target;Y(ce=>({...ce,[le]:Qe})),Q[le]&&H(ce=>({...ce,[le]:""}))},Ne=ge=>{const le=ge.type==="National Holiday"?jC:ge.type==="Festival"?Zd:NC;return{id:ge._id,name:ge.name,date:ge.date,category:ge.type,description:ge.description,color:ge.color,icon:le,year:ge.year}},Se=w.useCallback(async()=>{if(!k){v(!1);return}v(!0),j("");try{const ge=await Ft.get(`${w1}/holidays`,{params:{schoolId:k}});ge.data&&Array.isArray(ge.data.data)?g(ge.data.data.map(Ne)):j("Received unexpected data format from server for holidays.")}catch(ge){console.error("Failed to fetch holidays:",ge.response?.data||ge.message),j(ge.response?.data?.error||"Failed to load holidays."),U("Failed to load holidays.","error")}finally{v(!1)}},[k]);w.useEffect(()=>{Se()},[Se]);const ue=async ge=>{ge.preventDefault();const le=ee();if(Object.keys(le).length>0){H(le);return}if(v(!0),j(""),!k){j("School ID is missing. Cannot perform this operation."),v(!1);return}try{const Qe={name:I.name.trim(),date:X(I.date),type:I.category,description:I.description.trim(),color:I.color,schoolId:k};let ce;C?(ce=await Ft.put(`${w1}/holidays/${C.id}`,Qe),U(`${ce.data.data.name} updated successfully!`)):(ce=await Ft.post(`${w1}/holidays`,Qe),U(`${ce.data.data.name} added successfully!`)),await Se(),f(!1),K()}catch(Qe){console.error("Failed to save holiday:",Qe.response?.data||Qe.message),j(Qe.response?.data?.error||"Failed to save holiday. Please try again."),U("Failed to save holiday.","error")}finally{v(!1)}},xe=ge=>{S(ge),Y({name:ge.name,date:Z(ge.date),category:ge.category,description:ge.description,color:ge.color}),f(!0)},R=w.useCallback(async(ge,le)=>{if(window.confirm(`Are you sure you want to delete "${le}"?`)){if(v(!0),j(""),!k){j("School ID is missing. Cannot perform this operation."),v(!1);return}try{await Ft.delete(`${w1}/holidays/${ge}`,{data:{schoolId:k}}),U(`${le} deleted successfully!`),await Se()}catch(Qe){console.error("Failed to delete holiday:",Qe.response?.data||Qe.message),j(Qe.response?.data?.error||"Failed to delete holiday. Please try again."),U("Failed to delete holiday.","error")}finally{v(!1)}}},[Se,k]),G=[{value:"National Holiday",label:"National Holiday",icon:jC},{value:"Festival",label:"Festival",icon:Zd},{value:"Religious Holiday",label:"Religious Holiday",icon:NC}],ne=[{value:"#ef4444",label:"Red",class:"bg-red-500"},{value:"#14b8a6",label:"Teal",class:"bg-teal-500"},{value:"#22c55e",label:"Green",class:"bg-green-500"},{value:"#eab308",label:"Yellow",class:"bg-yellow-500"},{value:"#a855f7",label:"Purple",class:"bg-purple-500"},{value:"#f97316",label:"Orange",class:"bg-orange-500"},{value:"#ec4899",label:"Pink",class:"bg-pink-500"}],ae=ge=>new Date(ge).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),oe=ge=>{const le=new Date;le.setHours(0,0,0,0);const Qe=new Date(ge);Qe.setHours(0,0,0,0);const ce=new Date(Qe);ce.getFullYear()<le.getFullYear()&&ce.setFullYear(le.getFullYear()),ce<le&&ce.setFullYear(ce.getFullYear()+1);const se=ce.getTime()-le.getTime(),je=Math.ceil(se/(1e3*60*60*24));return je<0?"Passed":je===0?"Today":je===1?"Tomorrow":`${je} days`},he=(ge,le)=>Ot("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border",{backgroundColor:`${le}1A`,color:le,borderColor:le}),me=ge=>{const le=oe(ge);return le==="Passed"?"bg-gray-100 text-gray-600 border-gray-200":le==="Today"?"bg-green-100 text-green-800 border-green-200":le==="Tomorrow"?Ot("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border",{backgroundColor:`${E}20`,color:E,borderColor:E}):Ot("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border",{backgroundColor:`${E}20`,color:E,borderColor:E})},te=w.useMemo(()=>{let ge=p;return t!=="All"&&(ge=ge.filter(le=>le.category===t)),n&&(ge=ge.filter(le=>le.name.toLowerCase().includes(n.toLowerCase())||le.category.toLowerCase().includes(n.toLowerCase())||le.description.toLowerCase().includes(n.toLowerCase()))),ge},[t,n,p]),Ae=w.useMemo(()=>i.key?[...te].sort((ge,le)=>{let Qe,ce;switch(i.key){case"name":Qe=ge.name,ce=le.name;break;case"date":Qe=new Date(ge.date),ce=new Date(le.date);break;case"category":Qe=ge.category,ce=le.category;break;case"daysUntil":const se=oe(ge.date),je=oe(le.date);se==="Passed"?Qe=-1e3:se==="Today"?Qe=0:se==="Tomorrow"?Qe=1:Qe=Number.parseInt(se),je==="Passed"?ce=-1e3:je==="Today"?ce=0:je==="Tomorrow"?ce=1:ce=Number.parseInt(je);break;default:return 0}return Qe<ce?i.direction==="asc"?-1:1:Qe>ce?i.direction==="asc"?1:-1:0}):te,[te,i]),V=ge=>{o(le=>({key:ge,direction:le.key===ge&&le.direction==="asc"?"desc":"asc"}))},ie=ge=>i.key!==ge?null:i.direction==="asc"?s.jsx(Yp,{className:"w-4 h-4 inline ml-1",style:{color:E}}):s.jsx(gf,{className:"w-4 h-4 inline ml-1",style:{color:E}}),pe=["All","National Holiday","Festival","Religious Holiday"],ye=()=>{const le=[["Holiday Name","Date","Category","Days Until","Description"].join(","),...Ae.map(je=>[`"${je.name}"`,je.date,`"${je.category}"`,`"${oe(je.date)}"`,`"${je.description}"`].join(","))].join(`
`),Qe=new Blob([le],{type:"text/csv"}),ce=window.URL.createObjectURL(Qe),se=document.createElement("a");se.href=ce,se.download="school-holidays.csv",se.click(),window.URL.revokeObjectURL(ce)};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[A&&s.jsx("div",{className:Ot("fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300",{"bg-red-500 text-white":A.type==="error","bg-green-500 text-white":A.type==="success"}),children:s.jsxs("div",{className:"flex items-center space-x-2",children:[A.type==="error"?s.jsx(ln,{className:"w-4 h-4"}):s.jsx(gi,{className:"w-4 h-4"}),s.jsx("span",{children:A.message})]})}),y&&s.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[s.jsx(ln,{className:"w-5 h-5"}),s.jsx("span",{className:"block sm:inline",children:y}),s.jsx("button",{onClick:()=>j(""),className:"ml-auto text-red-700 hover:text-red-900",children:s.jsx(sr,{className:"w-4 h-4"})})]}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[s.jsxs("div",{className:Ot("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:E},children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:C?"Edit Holiday":"Add New Holiday"}),s.jsx("button",{onClick:()=>{f(!1),K()},className:"absolute top-4 right-4 flex items-center justify-center w-8 h-8 hover:bg-gray-100 rounded-full",style:{color:E},children:s.jsx(sr,{size:20})})]}),s.jsxs("form",{onSubmit:ue,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Holiday Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"name",value:I.name,onChange:de,className:Ot("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",{"border-red-500":Q.name}),style:{borderColor:Q.name?"#ef4444":E,outlineColor:E},placeholder:"Enter holiday name",required:!0}),Q.name&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:Q.name})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",name:"date",value:I.date,onChange:de,min:new Date().getFullYear()+"-01-01",className:Ot("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",{"border-red-500":Q.date}),style:{borderColor:Q.date?"#ef4444":E,outlineColor:E},required:!0}),Q.date&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:Q.date})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("select",{name:"category",value:I.category,onChange:de,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:E,outlineColor:E},required:!0,children:G.map(ge=>s.jsx("option",{value:ge.value,children:ge.label},ge.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color Theme"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:ne.map(ge=>s.jsx("button",{type:"button",onClick:()=>Y(le=>({...le,color:ge.value})),className:Ot("w-8 h-8 rounded-full border-2 transition-all",ge.class,{"border-gray-800 scale-110":I.color===ge.value,"border-gray-300 hover:scale-105":I.color!==ge.value}),title:ge.label},ge.value))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{name:"description",value:I.description,onChange:de,rows:3,className:Ot("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 resize-none",{"border-red-500":Q.description}),style:{borderColor:Q.description?"#ef4444":E,outlineColor:E},placeholder:"Enter holiday description",required:!0}),Q.description&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:Q.description})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>{f(!1),K()},disabled:b,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:b||!k,className:Ot("flex-1 text-white py-2 px-4 rounded-lg font-medium flex items-center justify-center space-x-2 disabled:opacity-50"),style:{backgroundColor:E},children:[b?s.jsx(br,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):s.jsx(gi,{className:"w-4 h-4",style:{color:"white"}}),s.jsx("span",{children:C?"Save Changes":"Add Holiday"})]})]})]})]})}),s.jsxs("div",{className:Ot("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:E},children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(en,{className:"w-6 h-6",style:{color:"white"}}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Holiday Calendar"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:()=>f(!0),disabled:b||!k,className:"flex items-center space-x-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-all font-medium disabled:opacity-50",children:[s.jsx($s,{className:"w-4 h-4",style:{color:"white"}}),s.jsx("span",{children:"Add Holiday"})]}),s.jsxs("button",{onClick:ye,className:Ot("flex items-center space-x-2 text-white px-4 py-2 rounded-lg transition-all"),style:{backgroundColor:`${E}80`},children:[s.jsx(Cs,{className:"w-4 h-4",style:{color:"white"}}),s.jsx("span",{children:"Export CSV"})]}),s.jsxs("button",{onClick:()=>c(l==="table"?"card":"table"),className:Ot("flex items-center space-x-2 text-white px-4 py-2 rounded-lg transition-all"),style:{backgroundColor:`${E}80`},children:[s.jsx(Ds,{className:"w-4 h-4",style:{color:"white"}}),s.jsx("span",{children:l==="table"?"Card View":"Table View"})]})]})]}),s.jsx("p",{className:"text-white mt-2",children:"Professional holiday management system"})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[s.jsx("div",{className:"text-2xl font-bold",style:{color:E},children:p.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Holidays"})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:p.filter(ge=>ge.category==="National Holiday").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"National Holidays"})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:p.filter(ge=>ge.category==="Festival").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Festivals"})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[s.jsx("div",{className:"text-2xl font-bold",style:{color:E},children:p.filter(ge=>oe(ge.date)!=="Passed").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Upcoming"})]})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[s.jsxs("div",{className:"relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4",style:{color:E}}),s.jsx("input",{type:"text",placeholder:"Search holidays...",value:n,onChange:ge=>a(ge.target.value),className:"pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:E,outlineColor:E}})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Mo,{className:"w-4 h-4",style:{color:E}}),s.jsx("div",{className:"flex flex-wrap gap-2",children:pe.map(ge=>s.jsx("button",{onClick:()=>r(ge),className:Ot("px-3 py-1.5 rounded-lg text-sm font-medium transition-all",{"text-white shadow-md":t===ge,"bg-gray-100 text-gray-600 hover:bg-gray-200":t!==ge}),style:{backgroundColor:t===ge?E:void 0},children:ge},ge))})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>V("name"),children:["Holiday Name ",ie("name")]}),s.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>V("date"),children:["Date ",ie("date")]}),s.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>V("category"),children:["Category ",ie("category")]}),s.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>V("daysUntil"),children:["Status ",ie("daysUntil")]}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Description"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b?s.jsx("tr",{children:s.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:[s.jsx(br,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:E}}),s.jsx("p",{className:"text-lg font-medium",children:"Loading holidays..."})]})}):Ae.length===0?s.jsx("tr",{children:s.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:[s.jsx(en,{className:"w-12 h-12 mx-auto mb-4",style:{color:E}}),s.jsx("p",{className:"text-lg font-medium",children:"No holidays found"}),s.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria"})]})}):Ae.map(ge=>{const le=ge.icon;return s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(le,{className:"w-5 h-5",style:{color:ge.color}}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:ge.name})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-gray-900",children:ae(ge.date)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:he(ge.category,ge.color),children:ge.category})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:me(ge.date),children:oe(ge.date)})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-sm text-gray-600",children:ge.description})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>xe(ge),disabled:b||!k,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:E},title:"Edit Holiday",children:s.jsx(Uo,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>R(ge.id,ge.name),disabled:b||!k,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:E},title:"Delete Holiday",children:s.jsx(Ss,{className:"w-4 h-4"})})]})})]},ge.id)})})]})}),Ae.length>0&&s.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t border-gray-200",children:s.jsxs("div",{className:"text-sm text-gray-700",children:["Showing"," ",s.jsx("span",{className:"font-medium",children:Ae.length})," of"," ",s.jsx("span",{className:"font-medium",children:p.length})," holidays"]})})]})]})]})},Cx="https://vidyaastra.com/api",bF="https://vidyaastra.com",j1=(t,r)=>{t=t.replace("#","");const n=parseInt(t,16),a=n>>16&255,i=n>>8&255,o=n&255,l=1-r;return`#${((1<<24)+(Math.round(a*l)<<16)+(Math.round(i*l)<<8)+Math.round(o*l)).toString(16).slice(1).padStart(6,"0")}`},NZ=()=>{const[t,r]=w.useState({}),[n,a]=w.useState(!1),[i,o]=w.useState(!1),[l,c]=w.useState(!1),[u,f]=w.useState(null),[A,m]=w.useState([]),[p,g]=w.useState(!0),[b,v]=w.useState(""),[y,j]=w.useState(null),[C,S]=w.useState("Cash on Delivery"),[E,D]=w.useState(!1),[k,L]=w.useState(null),[I,Y]=w.useState(null),[Q,H]=w.useState(""),[U,K]=w.useState(!1),[X,Z]=w.useState(""),[ee,de]=w.useState("name"),[Ne,Se]=w.useState("All"),[ue,xe]=w.useState(1),[R,G]=w.useState(1),[ne,ae]=w.useState(0),[oe]=w.useState(10),[he,me]=w.useState({name:"",description:"",price:"",classId:"",stock:0}),te=localStorage.getItem("color")||"#2563eb",Ae=localStorage.getItem("schoolId")||null,V=In(Ue=>Ue.classes.classes?.data||[]),ie=In(Ue=>Ue.classes.loading),pe=In(Ue=>Ue.classes.error),ye=V.map(Ue=>({_id:Ue._id,className:Ue.className||`Class ${Ue.classNumber||Ue._id}`,section:Ue.section||"",displayName:`${Ue.className||`Class ${Ue.classNumber||Ue._id}`}${Ue.section?` ${Ue.section}`:""}`.trim()})),ge=Ue=>`₹${Ue.toLocaleString()}`,le=w.useCallback((Ue,At="success")=>{L({message:Ue,type:At}),setTimeout(()=>L(null),3e3)},[]);w.useEffect(()=>{pe&&(v("Failed to load classes: "+pe),le("Failed to load classes: "+pe,"error"))},[pe,le]);const Qe=w.useCallback(async()=>{try{if(!Ae){v("School ID is missing. Please log in again."),g(!1);return}g(!0),v(""),console.log("Fetching uniform items for school:",Ae);const Ue={schoolId:Ae,page:ue,limit:oe};X&&(Ue.search=X),ee&&(Ue.sort=ee),Ne!=="All"&&(Ue.classId=Ne);const At=await Ft.get(`${Cx}/uniform/items`,{params:Ue});console.log("Uniform API Response:",At.data),At.data&&At.data.success?(m(At.data.data||[]),ae(At.data.total||0),G(At.data.totalPages||1),xe(At.data.page||1),v("")):(v("Received unexpected data format from server."),m([]),ae(0),G(1))}catch(Ue){console.error("Failed to fetch uniform items:",Ue.response?.data||Ue.message);const At=Ue.response?.data?.error||"Failed to load uniform items.";v(At),le(At,"error"),m([])}finally{g(!1)}},[Ae,ue,oe,X,ee,Ne,le]);w.useEffect(()=>{Ae?Qe():(v("School ID is missing. Please log in again."),g(!1))},[Qe,Ae]);const ce=w.useCallback(Ue=>{r(At=>({...At,[Ue]:(At[Ue]||0)+1}))},[]),se=w.useCallback(Ue=>{r(At=>{const Ce={...At};return Ce[Ue]>1?Ce[Ue]--:delete Ce[Ue],Ce})},[]),je=w.useCallback(()=>Object.values(t).reduce((Ue,At)=>Ue+At,0),[t]),we=w.useCallback(()=>Object.entries(t).reduce((Ue,[At,Ce])=>{const tt=A.find(gt=>gt._id===At);return Ue+(tt?tt.price*Ce:0)},0),[t,A]),q=w.useCallback(Ue=>Ue>30?{text:"In Stock",color:"bg-green-100 text-green-800"}:Ue>10?{text:"Low Stock",color:"bg-yellow-100 text-yellow-800"}:{text:"Out of Stock",color:"bg-red-100 text-red-800"},[]),be=w.useCallback(Ue=>{const{name:At,value:Ce}=Ue.target;me(tt=>({...tt,[At]:Ce}))},[]),Ee=w.useCallback(Ue=>{const At=Ue.target.files?.[0];if(At){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(At.type)){v("Please select a valid image file (JPEG, PNG, GIF, WebP)");return}if(At.size>5*1024*1024){v("Image file size must be less than 5MB");return}Y(At);const tt=new FileReader;tt.onloadend=()=>{H(tt.result)},tt.readAsDataURL(At),v("")}},[]),Re=w.useCallback(()=>{me({name:"",description:"",price:"",classId:"",stock:0}),Y(null),H(""),j(null),a(!1),v("")},[]),it=w.useCallback(async Ue=>{if(Ue.preventDefault(),K(!0),v(""),console.log("Form submission - formData:",he),!he){v("Form data is not initialized. Please refresh the page."),K(!1);return}if(!Ae){v("School ID is missing. Please log in again."),K(!1);return}if(!he.name||!he.description||!he.price||!he.classId){v("Please fill in all required fields."),K(!1);return}if(!y&&!I){v("Please select an image file."),K(!1);return}const At=Number.parseFloat(he.price);if(isNaN(At)||At<0){v("Price must be a valid non-negative number."),K(!1);return}const Ce=Number.parseInt(he.stock)||0;if(Ce<0){v("Stock must be a non-negative number."),K(!1);return}const tt=new FormData;tt.append("name",he.name.trim()),tt.append("description",he.description.trim()),tt.append("price",At.toString()),tt.append("classId",he.classId),tt.append("stock",Ce.toString()),tt.append("schoolId",Ae),I&&tt.append("image",I);try{y?(await Ft.put(`${Cx}/uniform/items/${y._id}`,tt,{headers:{"Content-Type":"multipart/form-data"}}),le("Uniform item updated successfully!")):(await Ft.post(`${Cx}/uniform/items`,tt,{headers:{"Content-Type":"multipart/form-data"}}),le("Uniform item added successfully!")),await Qe(),Re()}catch(gt){console.error("Error saving uniform item:",gt.response?.data||gt.message);const Kt=gt.response?.data?.error||"Failed to save uniform item. Please try again.";v(Kt),le(Kt,"error")}finally{K(!1)}},[he,y,I,le,Qe,Re,Ae]),et=w.useCallback(Ue=>{j(Ue),me({name:Ue.name,description:Ue.description,price:Ue.price.toString(),classId:Ue.classId?._id||Ue.classId||"",stock:Ue.stock||0}),Ue.imageUrl?H(`${bF}${Ue.imageUrl}`):H("/placeholder.svg?height=100&width=100"),Y(null),a(!0)},[]),Ct=w.useCallback(async(Ue,At)=>{if(!Ae){v("School ID is missing. Please log in again.");return}if(window.confirm(`Are you sure you want to delete "${At}"?`)){K(!0);try{await Ft.delete(`${Cx}/uniform/items/${Ue}`,{data:{schoolId:Ae}}),le("Uniform item deleted successfully!"),await Qe()}catch(Ce){console.error("Error deleting uniform item:",Ce.response?.data||Ce.message);const tt=Ce.response?.data?.error||"Failed to delete uniform item.";v(tt),le(tt,"error")}finally{K(!1)}}},[le,Qe,Ae]),_t=w.useCallback(Ue=>{f(Ue),c(!0)},[]),ot=w.useCallback(async()=>{if(D(!0),v(""),!Ae){v("School ID is missing. Please log in again."),D(!1);return}const Ue=Object.entries(t).map(([Ce,tt])=>({uniformItemId:Ce,quantity:tt}));if(Ue.length===0){v("Your cart is empty. Please add items before placing an order."),D(!1);return}const At="60d5ec49f8e9a20015f8e9a2";try{const Ce={user:At,items:Ue,paymentMethod:C,schoolId:Ae};await Ft.post(`${Cx}/uniform/orders`,Ce),le("Order placed successfully!","success"),r({}),o(!1)}catch(Ce){console.error("Error placing order:",Ce.response?.data||Ce.message);const tt=Ce.response?.data?.error||"Failed to place order. Please try again.";v(tt),le(tt,"error")}finally{D(!1)}},[t,C,le,Ae]);w.useCallback(Ue=>Ue?Ue.startsWith("http")?Ue:`${bF}${Ue}`:"/placeholder.svg?height=100&width=100",[]);const Ie=w.useCallback(Ue=>{if(!Ue)return"Unknown Class";const At=ye.find(Ce=>Ce._id===(Ue._id||Ue));return At?At.displayName:"Unknown Class"},[ye]),qe=()=>{ue>1&&xe(Ue=>Ue-1)},at=()=>{ue<R&&xe(Ue=>Ue+1)},Ut=Ue=>{xe(Ue)};return Ae?s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[k&&s.jsx("div",{className:Ot("fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300",{"bg-red-500 text-white":k.type==="error","bg-green-500 text-white":k.type==="success"}),children:s.jsxs("div",{className:"flex items-center space-x-2",children:[k.type==="error"?s.jsx(ln,{className:"w-5 h-5"}):s.jsx(gi,{className:"w-5 h-5"}),s.jsx("span",{children:k.message})]})}),s.jsx("div",{className:Ot("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:te},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(nl,{className:"w-8 h-8",style:{color:"white"}}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"School Uniforms"}),s.jsx("p",{className:"text-sm text-white opacity-90",children:"Manage school uniform inventory and orders"}),s.jsxs("div",{className:"text-xs text-white opacity-75 mt-1",children:["School ID: ",Ae," | ",ne," items available"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[je()>0&&s.jsxs("div",{className:"bg-white bg-opacity-20 px-4 py-2 rounded-full text-sm flex items-center space-x-2",children:[s.jsx(a6,{className:"w-5 h-5",style:{color:"white"}}),s.jsxs("span",{children:[je()," item(s)"]})]}),s.jsxs("button",{onClick:()=>a(!0),disabled:U||!Ae||ie||ye.length===0,className:Ot("text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",{"opacity-50":U||!Ae||ie||ye.length===0}),style:{backgroundColor:te,":hover":{backgroundColor:j1(te,.1)}},children:[U||ie?s.jsx(br,{className:"w-5 h-5 animate-spin",style:{color:"white"}}):s.jsx($s,{className:"w-5 h-5",style:{color:"white"}}),s.jsx("span",{children:"Add Item"})]})]})]})}),s.jsx("div",{className:"p-6 bg-white rounded-2xl shadow-sm mt-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search uniform items...",value:X,onChange:Ue=>Z(Ue.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:bg-white transition-all",style:{outlineColor:te}})]}),s.jsxs("select",{value:ee,onChange:Ue=>de(Ue.target.value),className:"px-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:te},children:[s.jsx("option",{value:"name",children:"Sort by Name"}),s.jsx("option",{value:"price-low",children:"Price: Low to High"}),s.jsx("option",{value:"price-high",children:"Price: High to Low"}),s.jsx("option",{value:"newest",children:"Newest First"})]}),s.jsxs("select",{value:Ne,onChange:Ue=>Se(Ue.target.value),className:"px-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:te},children:[s.jsx("option",{value:"All",children:"All Classes"}),ye.map(Ue=>s.jsx("option",{value:Ue._id,children:Ue.displayName},Ue._id))]})]})}),b&&s.jsx("div",{className:"mx-4 mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ln,{className:"w-5 h-5"}),s.jsx("span",{children:b}),s.jsx("button",{onClick:()=>v(""),className:"ml-auto text-red-500 hover:text-red-700",children:s.jsx(sr,{className:"w-5 h-5"})})]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto min-h-[300px] flex flex-col",children:p?s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center py-12 text-center text-gray-500",children:[s.jsx(br,{className:"w-12 h-12 mx-auto animate-spin mb-4",style:{color:te}}),s.jsx("p",{className:"text-lg font-medium",children:"Loading uniform items..."})]}):A.length===0?s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center py-12 text-center text-gray-500",children:[s.jsx(nl,{className:"w-12 h-12 mx-auto mb-4",style:{color:te}}),s.jsx("p",{className:"text-lg font-medium",children:"No uniform items found"}),s.jsx("p",{className:"text-sm",children:"Try adjusting your search or class filter, or add new items"}),s.jsxs("div",{className:"text-xs mt-2",children:["School ID: ",Ae]})]}):s.jsxs("table",{className:"w-full table-auto",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map(Ue=>{const At=q(Ue.stock||0),Ce=t[Ue._id]||0;return s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("img",{src:`https://vidyaastra.com${Ue.imageUrl}`,alt:Ue.name,className:"w-12 h-12 rounded-lg object-cover border border-gray-200"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ue.name}),s.jsx("div",{className:"text-sm text-gray-500 line-clamp-2",children:Ue.description})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:Ie(Ue.classId)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-bold text-gray-900",children:ge(Ue.price)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("span",{className:Ot("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",At.color),children:At.text}),s.jsxs("div",{className:"text-xs text-gray-500",children:[Ue.stock||0," units"]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>se(Ue._id),disabled:U||Ce===0,className:"p-1 hover:bg-gray-100 rounded disabled:opacity-50 transition-colors",style:{color:te},children:s.jsx(EG,{className:"w-4 h-4"})}),s.jsx("span",{className:"text-sm font-medium",children:Ce}),s.jsx("button",{onClick:()=>ce(Ue._id),disabled:U||Ue.stock<=Ce,className:"p-1 hover:bg-gray-100 rounded disabled:opacity-50 transition-colors",style:{color:te},children:s.jsx($s,{className:"w-4 h-4"})})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>_t(Ue),className:"p-1 hover:bg-gray-100 rounded transition-colors",style:{color:te},title:"View Details",children:s.jsx(Ds,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>et(Ue),disabled:U,className:"p-1 hover:bg-gray-100 rounded disabled:opacity-50 transition-colors",style:{color:te},title:"Edit",children:s.jsx(Uo,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Ct(Ue._id,Ue.name),disabled:U,className:"text-red-600 hover:text-red-900 p-1 hover:bg-red-50 rounded disabled:opacity-50 transition-colors",title:"Delete",children:s.jsx(Ss,{className:"w-4 h-4"})})]})})]},Ue._id)})})]})}),!p&&A.length>0&&s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center px-6 py-4 border-t border-gray-200",children:[s.jsxs("div",{className:"text-sm text-gray-600 mb-2 sm:mb-0",children:["Page ",ue," of ",R," (Total Items: ",ne,")"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:qe,disabled:ue===1,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100 transition-colors",children:s.jsx(co,{className:"w-5 h-5"})}),[...Array(R)].map((Ue,At)=>{const Ce=At+1;return s.jsx("button",{onClick:()=>Ut(Ce),className:Ot("px-3 py-1 rounded-lg border border-gray-300",{"bg-blue-500 text-white":ue===Ce,"hover:bg-gray-100":ue!==Ce}),children:Ce},Ce)}),s.jsx("button",{onClick:at,disabled:ue===R,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100 transition-colors",children:s.jsx(xi,{className:"w-5 h-5"})})]})]}),je()>0&&s.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[je()," item(s) in cart | Total:"," ",ge(we())]}),s.jsxs("button",{onClick:()=>o(!0),disabled:U,className:Ot("text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",{"opacity-50":U}),style:{backgroundColor:te,":hover":{backgroundColor:j1(te,.1)}},children:[s.jsx(a6,{className:"w-5 h-5",style:{color:"white"}}),s.jsx("span",{children:"Checkout"})]})]})]})}),l&&u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:Ot("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:te},children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:u.name}),s.jsx("button",{onClick:()=>c(!1),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:s.jsx(sr,{size:20})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("img",{src:`https://vidyaastra.com${u.imageUrl}`,alt:u.name,className:"w-full h-64 object-cover rounded-lg border border-gray-200"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Description"}),s.jsx("p",{className:"text-sm text-gray-600",children:u.description})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Class"}),s.jsx("p",{className:"text-sm text-gray-600",children:Ie(u.classId)})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Price"}),s.jsx("p",{className:"text-sm text-gray-600",children:ge(u.price)})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Stock"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[u.stock," units"]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Status"}),s.jsx("span",{className:Ot("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",q(u.stock).color),children:q(u.stock).text})]})]}),s.jsx("button",{onClick:()=>c(!1),className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})]})]})}),i&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:Ot("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:te},children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Confirm Order"}),s.jsx("button",{onClick:()=>o(!1),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:s.jsx(sr,{size:20})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[b&&s.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:[s.jsx("div",{className:"font-medium",children:"Error:"}),s.jsx("div",{className:"text-sm",children:b})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Order Summary"}),s.jsx("ul",{className:"space-y-2",children:Object.entries(t).map(([Ue,At])=>{const Ce=A.find(tt=>tt._id===Ue);return Ce&&s.jsxs("li",{className:"flex justify-between text-sm text-gray-600",children:[s.jsxs("span",{className:"line-clamp-1",children:[Ce.name," x ",At]}),s.jsx("span",{children:ge(Ce.price*At)})]},Ue)})}),s.jsxs("div",{className:"flex justify-between font-bold text-lg text-gray-900 border-t pt-4",children:[s.jsx("span",{children:"Total:"}),s.jsx("span",{children:ge(we())})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),s.jsxs("select",{value:C,onChange:Ue=>S(Ue.target.value),className:"w-full px-3 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:te},children:[s.jsx("option",{value:"Cash on Delivery",children:"Cash on Delivery"}),s.jsx("option",{value:"Credit Card",children:"Credit Card"}),s.jsx("option",{value:"Debit Card",children:"Debit Card"}),s.jsx("option",{value:"UPI",children:"UPI"}),s.jsx("option",{value:"Net Banking",children:"Net Banking"})]})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>o(!1),disabled:E,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),s.jsxs("button",{type:"button",onClick:ot,disabled:E||je()===0,className:Ot("flex-1 px-4 py-2 text-white rounded-lg flex items-center justify-center space-x-2",{"opacity-50":E||je()===0}),style:{backgroundColor:te,":hover":{backgroundColor:j1(te,.1)}},children:[E?s.jsx(br,{className:"w-5 h-5 animate-spin",style:{color:"white"}}):s.jsx(gi,{className:"w-5 h-5",style:{color:"white"}}),s.jsx("span",{children:"Place Order"})]})]})]})]})}),n&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:Ot("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:te},children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:y?"Edit Item":"Add New Item"}),s.jsx("button",{onClick:Re,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:s.jsx(sr,{size:20})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[b&&s.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:[s.jsx("div",{className:"font-medium",children:"Error:"}),s.jsx("div",{className:"text-sm",children:b})]}),ie&&s.jsxs("div",{className:"text-center py-4",children:[s.jsx(br,{className:"w-6 h-6 mx-auto animate-spin mb-2",style:{color:te}}),s.jsx("p",{className:"text-sm text-gray-600",children:"Loading classes..."})]}),s.jsxs("form",{onSubmit:it,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Name *"}),s.jsx("input",{type:"text",name:"name",value:he.name,onChange:be,required:!0,className:"w-full px-4 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:te},placeholder:"e.g., School Shirt"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class *"}),s.jsxs("select",{name:"classId",value:he.classId,onChange:be,required:!0,disabled:ie,className:"w-full px-4 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all disabled:opacity-50",style:{outlineColor:te},children:[s.jsx("option",{value:"",children:"Select Class"}),ye.map(Ue=>s.jsx("option",{value:Ue._id,children:Ue.displayName},Ue._id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),s.jsx("textarea",{name:"description",value:he.description,onChange:be,required:!0,rows:4,className:"w-full px-4 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:te},placeholder:"Brief description of the item"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price (₹) *"}),s.jsx("input",{type:"number",name:"price",value:he.price,onChange:be,required:!0,min:"0",step:"0.01",className:"w-full px-4 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:te},placeholder:"450"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Quantity"}),s.jsx("input",{type:"number",name:"stock",value:he.stock,onChange:be,min:"0",className:"w-full px-4 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:te},placeholder:"50"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Image *"," ",y&&"(Leave empty to keep current image)"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:Ee,className:"w-full px-4 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:te}}),Q&&s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("img",{src:Q,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border border-gray-200"})}),s.jsx("p",{className:"text-xs text-gray-500",children:"Upload an image file for the uniform item (Max: 5MB, Formats: JPEG, PNG, GIF, WebP)"})]})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:Re,disabled:U,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:U||!Ae||ie||ye.length===0,className:Ot("flex-1 px-4 py-2 text-white rounded-lg flex items-center justify-center space-x-2",{"opacity-50":U||!Ae||ie||ye.length===0}),style:{backgroundColor:te,":hover":{backgroundColor:j1(te,.1)}},children:[U?s.jsx(br,{className:"w-5 h-5 animate-spin",style:{color:"white"}}):s.jsx(Ro,{className:"w-5 h-5",style:{color:"white"}}),s.jsx("span",{children:y?"Update Item":"Add Item"})]})]})]})]})]})})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ln,{className:"w-12 h-12 mx-auto text-red-500 mb-4"}),s.jsx("div",{className:"text-xl font-semibold text-gray-800 mb-2",children:"School ID Not Found"}),s.jsx("div",{className:"text-gray-600 mb-4",children:"Please log in again to access the uniform system."}),s.jsx("button",{onClick:()=>window.location.href="/login",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go to Login"})]})})},N1="https://vidyaastra.com/api",u4="https://vidyaastra.com",wF=(t,r)=>{t=t.replace("#","");const n=Number.parseInt(t,16),a=n>>16&255,i=n>>8&255,o=n&255,l=1-r;return`#${((1<<24)+(Math.round(a*l)<<16)+(Math.round(i*l)<<8)+Math.round(o*l)).toString(16).slice(1).padStart(6,"0")}`},CZ=()=>{const[t,r]=w.useState("All"),[n,a]=w.useState(""),[i,o]=w.useState("title"),[l,c]=w.useState(!1),[u,f]=w.useState(!1),[A,m]=w.useState(null),[p,g]=w.useState([]),[b,v]=w.useState(!1),[y,j]=w.useState(""),[C,S]=w.useState(null),[E,D]=w.useState(null),[k,L]=w.useState(null),[I,Y]=w.useState(""),[Q,H]=w.useState(null),[U,K]=w.useState(1),[X,Z]=w.useState(1),[ee,de]=w.useState(0),[Ne]=w.useState(10),[Se,ue]=w.useState({title:"",author:"",description:"",price:"",stock:"",classId:""}),xe=localStorage.getItem("color")||"#2563eb",R=In(se=>se.classes.classes?.data||[]),G=In(se=>se.classes.loading),ne=In(se=>se.classes.error);w.useEffect(()=>{if(typeof window<"u"){const se=localStorage.getItem("schoolId");console.log("Retrieved schoolId from localStorage:",se),H(se),se||j("School ID is missing. Please set your school ID.")}},[]),w.useEffect(()=>{ne&&(j("Failed to load classes: "+ne),ae("Failed to load classes: "+ne,"error"))},[ne]);const ae=(se,je="success")=>{D({message:se,type:je}),setTimeout(()=>D(null),3e3)},oe=se=>`₹${se.toLocaleString()}`,he=async()=>{if(!Q){j("School ID is required to fetch books."),v(!1);return}v(!0),j("");try{console.log("Fetching books for school:",Q);const se={schoolId:Q,page:U,limit:Ne};n&&(se.search=n),t!=="All"&&(se.classId=t),i&&(se.sort=i);const je=await Ft.get(`${N1}/books`,{params:se});console.log("Books API response:",je.data),je.data.success?(g(je.data.data||[]),de(je.data.totalBooks||0),Z(je.data.totalPages||1),K(je.data.currentPage||1),console.log(`Loaded ${je.data.data.length} books`)):(g([]),de(0),Z(1),j("Received unexpected data format from server."),ae("Received unexpected data format from server.","error"))}catch(se){console.error("Failed to fetch books:",se.response?.data||se.message);const je=se.response?.data?.message||"Failed to load books.";j(je),ae(je,"error")}finally{v(!1)}};w.useEffect(()=>{Q&&he()},[Q,t,n,i,U]);const me=se=>{const{name:je,value:we}=se.target;ue(q=>({...q,[je]:we}))},te=se=>{const je=se.target.files?.[0];if(je){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(je.type)){j("Please select a valid image file (JPEG, PNG, or GIF)");return}if(je.size>5*1024*1024){j("Image file size must be less than 5MB");return}L(je);const q=new FileReader;q.onloadend=()=>{Y(q.result)},q.readAsDataURL(je),j("")}},Ae=()=>{ue({title:"",author:"",description:"",price:"",stock:"",classId:""}),L(null),Y(""),S(null),c(!1),j("")},V=async se=>{if(se.preventDefault(),v(!0),j(""),console.log("Form submission started"),console.log("Form data:",Se),console.log("School ID:",Q),console.log("Image file:",k),!Se.title||!Se.author||!Se.description||!Se.price||!Se.stock||!Se.classId||!Q){j("All fields including Class selection and School ID are required."),v(!1);return}const je=Number.parseFloat(Se.price);if(isNaN(je)||je<0){j("Price must be a valid non-negative number."),v(!1);return}const we=Number.parseInt(Se.stock);if(isNaN(we)||we<0){j("Stock must be a valid non-negative integer."),v(!1);return}if(!C&&!k){j("Please select an image file."),v(!1);return}const q=new FormData;q.append("title",Se.title.trim()),q.append("author",Se.author.trim()),q.append("description",Se.description.trim()),q.append("price",je.toString()),q.append("stock",we.toString()),q.append("classId",Se.classId),q.append("schoolId",Q),k&&q.append("image",k);try{console.log("Sending request...");let be;C?(console.log("Updating book:",C._id),be=await Ft.put(`${N1}/books/${C._id}`,q,{headers:{"Content-Type":"multipart/form-data"}}),ae("Book updated successfully!")):(console.log("Creating new book"),be=await Ft.post(`${N1}/books`,q,{headers:{"Content-Type":"multipart/form-data"}}),ae("Book added successfully!")),console.log("API response:",be.data),await he(),Ae()}catch(be){console.error("Error saving book:",be.response?.data||be.message);const Ee=be.response?.data?.message||"Failed to save book. Please try again.";j(Ee),ae(Ee,"error")}finally{v(!1)}},ie=se=>{console.log("Editing book:",se),S(se),ue({title:se.title,author:se.author,description:se.description,price:se.price.toString(),stock:se.stock.toString(),classId:se.classId?._id||""}),se.image&&Y(`${u4}${se.image}`),c(!0)},pe=async(se,je)=>{if(!Q){j("School ID is required to delete a book."),ae("School ID is required to delete a book.","error");return}if(window.confirm(`Are you sure you want to delete "${je}"?`)){v(!0),j("");try{console.log("Deleting book:",se);const we=await Ft.delete(`${N1}/books/${se}`,{data:{schoolId:Q}});console.log("Delete response:",we.data),ae("Book deleted successfully!"),await he()}catch(we){console.error("Error deleting book:",we.response?.data||we.message);const q=we.response?.data?.message||"Failed to delete book.";j(q),ae(q,"error")}finally{v(!1)}}},ye=se=>{m(se),f(!0)},ge=R.map(se=>({_id:se._id,className:se.className||`Class ${se.classNumber||se._id}`,section:se.section||"",displayName:`${se.className||`Class ${se.classNumber||se._id}`}${se.section?` ${se.section}`:""}`.trim()})),le=()=>{U>1&&K(se=>se-1)},Qe=()=>{U<X&&K(se=>se+1)},ce=se=>{K(se)};return s.jsx("div",{className:"min-h-screen bg-gray-100",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[E&&s.jsx("div",{className:Ot("fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300",{"bg-red-500 text-white":E.type==="error","bg-green-500 text-white":E.type==="success"}),children:s.jsxs("div",{className:"flex items-center space-x-2",children:[E.type==="error"?s.jsx(ln,{className:"w-4 h-4"}):s.jsx(gi,{className:"w-4 h-4"}),s.jsx("span",{children:E.message})]})}),s.jsx("div",{className:Ot("text-white p-4 sticky top-0 z-10"),style:{backgroundColor:xe},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(P2,{className:"w-6 h-6 cursor-pointer",style:{color:"white"}}),s.jsx("h1",{className:"text-xl font-semibold text-white",children:"School Books"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("button",{onClick:()=>c(!0),disabled:b||!Q||G,className:Ot("text-white p-3 rounded-xl transition-colors flex items-center space-x-2",{"opacity-50":b||!Q||G}),style:{backgroundColor:xe,":hover":{backgroundColor:wF(xe,.1)}},children:[b||G?s.jsx(br,{className:"w-5 h-5 animate-spin",style:{color:"white"}}):s.jsx($s,{className:"w-5 h-5",style:{color:"white"}}),s.jsx("span",{children:"Add Book"})]})})]})}),s.jsx("div",{className:"p-4 bg-white",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search books, authors...",value:n,onChange:se=>a(se.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:bg-white transition-all",style:{outlineColor:xe}})]}),s.jsxs("select",{value:i,onChange:se=>o(se.target.value),className:"px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:xe,outlineColor:xe},children:[s.jsx("option",{value:"title",children:"Sort by Title"}),s.jsx("option",{value:"price-low",children:"Price: Low to High"}),s.jsx("option",{value:"price-high",children:"Price: High to Low"}),s.jsx("option",{value:"newest",children:"Newest First"})]}),s.jsxs("select",{value:t,onChange:se=>r(se.target.value),className:"px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:xe,outlineColor:xe},children:[s.jsx("option",{value:"All",children:"All Classes"}),ge.map(se=>s.jsx("option",{value:se._id,children:se.displayName},se._id))]})]})}),y&&s.jsx("div",{className:"mx-4 mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ln,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:y}),s.jsx("button",{onClick:()=>j(""),className:"ml-auto text-red-500 hover:text-red-700",children:s.jsx(sr,{className:"w-4 h-4"})})]})}),s.jsx("div",{className:"px-4 pb-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full table-auto",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Image"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Author"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(se=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("img",{src:`${u4}${se.image}`,alt:se.title,className:"w-12 h-12 object-cover rounded"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:se.title})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-gray-500",children:se.author})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:se.classId?`${se.classId.className} ${se.classId.section||""}`:"N/A"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-gray-900",children:oe(se.price)})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-gray-500",children:se.stock})}),s.jsx("td",{className:"px-6 py-4 text-sm font-medium",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>ye(se),className:"p-1 hover:bg-gray-100 rounded transition-colors",style:{color:xe},title:"View Details",children:s.jsx(Ds,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>ie(se),disabled:b||!Q,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:xe},title:"Edit",children:s.jsx(Uo,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>pe(se._id,se.title),disabled:b||!Q,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:xe},title:"Delete",children:s.jsx(Ss,{className:"w-4 h-4"})})]})})]},se._id))})]})}),b&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(br,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:xe}}),s.jsx("p",{className:"text-lg font-medium",children:"Loading books..."})]}),!b&&p.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:"📚"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No books found"}),s.jsx("p",{className:"text-gray-500",children:Q?"Try adjusting your search or class filter, or add your first book":"Please set your school ID to view books"})]}),!b&&p.length>0&&s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center px-6 py-4 border-t border-gray-200",children:[s.jsxs("div",{className:"text-sm text-gray-600 mb-2 sm:mb-0",children:["Page ",U," of ",X," (Total Books: ",ee,")"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:le,disabled:U===1,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100",children:s.jsx(co,{})}),[...Array(X)].map((se,je)=>{const we=je+1;return s.jsx("button",{onClick:()=>ce(we),className:`px-3 py-1 rounded-lg border border-gray-300 ${U===we?"bg-blue-500 text-white":"hover:bg-gray-100"}`,children:we},we)}),s.jsx("button",{onClick:Qe,disabled:U===X,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100",children:s.jsx(xi,{})})]})]})]})}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:Ot("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:xe},children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:C?"Edit Book":"Add New Book"}),s.jsx("button",{onClick:Ae,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:s.jsx(sr,{size:20})})]}),s.jsxs("div",{className:"p-6",children:[y&&s.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[s.jsx("div",{className:"font-medium",children:"Error:"}),s.jsx("div",{className:"text-sm",children:y})]}),s.jsxs("form",{onSubmit:V,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Book Title *"}),s.jsx("input",{type:"text",name:"title",value:Se.title,onChange:me,required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:xe,outlineColor:xe},placeholder:"e.g., Mathematics Class 10"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Author *"}),s.jsx("input",{type:"text",name:"author",value:Se.author,onChange:me,required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:xe,outlineColor:xe},placeholder:"e.g., NCERT"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),s.jsx("textarea",{name:"description",value:Se.description,onChange:me,required:!0,rows:2,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:xe,outlineColor:xe},placeholder:"Brief description of the book"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class *"}),s.jsxs("select",{name:"classId",value:Se.classId,onChange:me,required:!0,disabled:G,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50",style:{borderColor:xe,outlineColor:xe},children:[s.jsx("option",{value:"",children:"Select a class"}),ge.map(se=>s.jsx("option",{value:se._id,children:se.displayName},se._id))]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price (₹) *"}),s.jsx("input",{type:"number",name:"price",value:Se.price,onChange:me,required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:xe,outlineColor:xe},placeholder:"250"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Quantity *"}),s.jsx("input",{type:"number",name:"stock",value:Se.stock,onChange:me,required:!0,min:"0",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:xe,outlineColor:xe},placeholder:"10"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Book Image *"," ",C&&"(Leave empty to keep current image)"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:te,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:xe,outlineColor:xe}}),I&&s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("img",{src:I||"/placeholder.svg",alt:"Preview",className:"w-20 h-20 object-cover rounded-lg border"})}),s.jsx("p",{className:"text-xs text-gray-500",children:"Upload an image file for the book cover (Max: 5MB, Formats: JPEG, PNG, GIF)"})]})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:Ae,disabled:b,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:b||!Q||G,className:Ot("flex-1 px-4 py-2 text-white rounded-lg flex items-center justify-center space-x-2",{"opacity-50":b||!Q||G}),style:{backgroundColor:xe,":hover":{backgroundColor:wF(xe,.1)}},children:[b?s.jsx(br,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):s.jsx(gi,{className:"w-4 h-4",style:{color:"white"}}),s.jsx("span",{children:C?"Update Book":"Add Book"})]})]})]})]})]})}),u&&A&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:Ot("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:xe},children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Book Details"}),s.jsx("button",{onClick:()=>f(!1),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:s.jsx(sr,{size:20})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:`${u4}${A.image}`,alt:A.title,className:"w-32 h-32 object-cover rounded-lg border",onError:se=>{se.target.src="/placeholder.svg"}})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Title"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:A.title})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Author"}),s.jsx("p",{className:"text-base text-gray-600",children:A.author})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Class"}),s.jsx("p",{className:"text-base text-gray-600",children:A.classId?`${A.classId.className} ${A.classId.section||""}`:"N/A"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Description"}),s.jsx("p",{className:"text-base text-gray-600",children:A.description})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Price"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:oe(A.price)})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Stock"}),s.jsx("p",{className:"text-base text-gray-600",children:A.stock})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})})]})]})})]})})};var d4={exports:{}};const SZ=W$(wY);var sb={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var BZ=sb.exports,jF;function EZ(){return jF||(jF=1,function(t,r){(function(n,a){t.exports=a()})(BZ,function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var n=function(F,T){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,_){P.__proto__=_}||function(P,_){for(var re in _)Object.prototype.hasOwnProperty.call(_,re)&&(P[re]=_[re])},n(F,T)};function a(F,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");n(F,T);function P(){this.constructor=F}F.prototype=T===null?Object.create(T):(P.prototype=T.prototype,new P)}var i=function(){return i=Object.assign||function(T){for(var P,_=1,re=arguments.length;_<re;_++){P=arguments[_];for(var ve in P)Object.prototype.hasOwnProperty.call(P,ve)&&(T[ve]=P[ve])}return T},i.apply(this,arguments)};function o(F,T,P,_){function re(ve){return ve instanceof P?ve:new P(function(Pe){Pe(ve)})}return new(P||(P=Promise))(function(ve,Pe){function ze(mt){try{dt(_.next(mt))}catch(jt){Pe(jt)}}function We(mt){try{dt(_.throw(mt))}catch(jt){Pe(jt)}}function dt(mt){mt.done?ve(mt.value):re(mt.value).then(ze,We)}dt((_=_.apply(F,[])).next())})}function l(F,T){var P={label:0,sent:function(){if(ve[0]&1)throw ve[1];return ve[1]},trys:[],ops:[]},_,re,ve,Pe;return Pe={next:ze(0),throw:ze(1),return:ze(2)},typeof Symbol=="function"&&(Pe[Symbol.iterator]=function(){return this}),Pe;function ze(dt){return function(mt){return We([dt,mt])}}function We(dt){if(_)throw new TypeError("Generator is already executing.");for(;P;)try{if(_=1,re&&(ve=dt[0]&2?re.return:dt[0]?re.throw||((ve=re.return)&&ve.call(re),0):re.next)&&!(ve=ve.call(re,dt[1])).done)return ve;switch(re=0,ve&&(dt=[dt[0]&2,ve.value]),dt[0]){case 0:case 1:ve=dt;break;case 4:return P.label++,{value:dt[1],done:!1};case 5:P.label++,re=dt[1],dt=[0];continue;case 7:dt=P.ops.pop(),P.trys.pop();continue;default:if(ve=P.trys,!(ve=ve.length>0&&ve[ve.length-1])&&(dt[0]===6||dt[0]===2)){P=0;continue}if(dt[0]===3&&(!ve||dt[1]>ve[0]&&dt[1]<ve[3])){P.label=dt[1];break}if(dt[0]===6&&P.label<ve[1]){P.label=ve[1],ve=dt;break}if(ve&&P.label<ve[2]){P.label=ve[2],P.ops.push(dt);break}ve[2]&&P.ops.pop(),P.trys.pop();continue}dt=T.call(F,P)}catch(mt){dt=[6,mt],re=0}finally{_=ve=0}if(dt[0]&5)throw dt[1];return{value:dt[0]?dt[1]:void 0,done:!0}}}function c(F,T,P){if(arguments.length===2)for(var _=0,re=T.length,ve;_<re;_++)(ve||!(_ in T))&&(ve||(ve=Array.prototype.slice.call(T,0,_)),ve[_]=T[_]);return F.concat(ve||T)}for(var u=function(){function F(T,P,_,re){this.left=T,this.top=P,this.width=_,this.height=re}return F.prototype.add=function(T,P,_,re){return new F(this.left+T,this.top+P,this.width+_,this.height+re)},F.fromClientRect=function(T,P){return new F(P.left+T.windowBounds.left,P.top+T.windowBounds.top,P.width,P.height)},F.fromDOMRectList=function(T,P){var _=Array.from(P).find(function(re){return re.width!==0});return _?new F(_.left+T.windowBounds.left,_.top+T.windowBounds.top,_.width,_.height):F.EMPTY},F.EMPTY=new F(0,0,0,0),F}(),f=function(F,T){return u.fromClientRect(F,T.getBoundingClientRect())},A=function(F){var T=F.body,P=F.documentElement;if(!T||!P)throw new Error("Unable to get document size");var _=Math.max(Math.max(T.scrollWidth,P.scrollWidth),Math.max(T.offsetWidth,P.offsetWidth),Math.max(T.clientWidth,P.clientWidth)),re=Math.max(Math.max(T.scrollHeight,P.scrollHeight),Math.max(T.offsetHeight,P.offsetHeight),Math.max(T.clientHeight,P.clientHeight));return new u(0,0,_,re)},m=function(F){for(var T=[],P=0,_=F.length;P<_;){var re=F.charCodeAt(P++);if(re>=55296&&re<=56319&&P<_){var ve=F.charCodeAt(P++);(ve&64512)===56320?T.push(((re&1023)<<10)+(ve&1023)+65536):(T.push(re),P--)}else T.push(re)}return T},p=function(){for(var F=[],T=0;T<arguments.length;T++)F[T]=arguments[T];if(String.fromCodePoint)return String.fromCodePoint.apply(String,F);var P=F.length;if(!P)return"";for(var _=[],re=-1,ve="";++re<P;){var Pe=F[re];Pe<=65535?_.push(Pe):(Pe-=65536,_.push((Pe>>10)+55296,Pe%1024+56320)),(re+1===P||_.length>16384)&&(ve+=String.fromCharCode.apply(String,_),_.length=0)}return ve},g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=typeof Uint8Array>"u"?[]:new Uint8Array(256),v=0;v<g.length;v++)b[g.charCodeAt(v)]=v;for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=typeof Uint8Array>"u"?[]:new Uint8Array(256),C=0;C<y.length;C++)j[y.charCodeAt(C)]=C;for(var S=function(F){var T=F.length*.75,P=F.length,_,re=0,ve,Pe,ze,We;F[F.length-1]==="="&&(T--,F[F.length-2]==="="&&T--);var dt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(T):new Array(T),mt=Array.isArray(dt)?dt:new Uint8Array(dt);for(_=0;_<P;_+=4)ve=j[F.charCodeAt(_)],Pe=j[F.charCodeAt(_+1)],ze=j[F.charCodeAt(_+2)],We=j[F.charCodeAt(_+3)],mt[re++]=ve<<2|Pe>>4,mt[re++]=(Pe&15)<<4|ze>>2,mt[re++]=(ze&3)<<6|We&63;return dt},E=function(F){for(var T=F.length,P=[],_=0;_<T;_+=2)P.push(F[_+1]<<8|F[_]);return P},D=function(F){for(var T=F.length,P=[],_=0;_<T;_+=4)P.push(F[_+3]<<24|F[_+2]<<16|F[_+1]<<8|F[_]);return P},k=5,L=11,I=2,Y=L-k,Q=65536>>k,H=1<<k,U=H-1,K=1024>>k,X=Q+K,Z=X,ee=32,de=Z+ee,Ne=65536>>L,Se=1<<Y,ue=Se-1,xe=function(F,T,P){return F.slice?F.slice(T,P):new Uint16Array(Array.prototype.slice.call(F,T,P))},R=function(F,T,P){return F.slice?F.slice(T,P):new Uint32Array(Array.prototype.slice.call(F,T,P))},G=function(F,T){var P=S(F),_=Array.isArray(P)?D(P):new Uint32Array(P),re=Array.isArray(P)?E(P):new Uint16Array(P),ve=24,Pe=xe(re,ve/2,_[4]/2),ze=_[5]===2?xe(re,(ve+_[4])/2):R(_,Math.ceil((ve+_[4])/4));return new ne(_[0],_[1],_[2],_[3],Pe,ze)},ne=function(){function F(T,P,_,re,ve,Pe){this.initialValue=T,this.errorValue=P,this.highStart=_,this.highValueIndex=re,this.index=ve,this.data=Pe}return F.prototype.get=function(T){var P;if(T>=0){if(T<55296||T>56319&&T<=65535)return P=this.index[T>>k],P=(P<<I)+(T&U),this.data[P];if(T<=65535)return P=this.index[Q+(T-55296>>k)],P=(P<<I)+(T&U),this.data[P];if(T<this.highStart)return P=de-Ne+(T>>L),P=this.index[P],P+=T>>k&ue,P=this.index[P],P=(P<<I)+(T&U),this.data[P];if(T<=1114111)return this.data[this.highValueIndex]}return this.errorValue},F}(),ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oe=typeof Uint8Array>"u"?[]:new Uint8Array(256),he=0;he<ae.length;he++)oe[ae.charCodeAt(he)]=he;var me="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",te=50,Ae=1,V=2,ie=3,pe=4,ye=5,ge=7,le=8,Qe=9,ce=10,se=11,je=12,we=13,q=14,be=15,Ee=16,Re=17,it=18,et=19,Ct=20,_t=21,ot=22,Ie=23,qe=24,at=25,Ut=26,Ue=27,At=28,Ce=29,tt=30,gt=31,Kt=32,Ke=33,Tt=34,wt=35,Dt=36,ir=37,Dr=38,Xr=39,hs=40,kn=41,xr=42,En=43,Mn=[9001,65288],ns="!",jr="×",Rn="÷",ke=G(me),Xe=[tt,Dt],$e=[Ae,V,ie,ye],Ve=[ce,le],Je=[Ue,Ut],Ze=$e.concat(Ve),vt=[Dr,Xr,hs,Tt,wt],Oe=[be,we],Ge=function(F,T){T===void 0&&(T="strict");var P=[],_=[],re=[];return F.forEach(function(ve,Pe){var ze=ke.get(ve);if(ze>te?(re.push(!0),ze-=te):re.push(!1),["normal","auto","loose"].indexOf(T)!==-1&&[8208,8211,12316,12448].indexOf(ve)!==-1)return _.push(Pe),P.push(Ee);if(ze===pe||ze===se){if(Pe===0)return _.push(Pe),P.push(tt);var We=P[Pe-1];return Ze.indexOf(We)===-1?(_.push(_[Pe-1]),P.push(We)):(_.push(Pe),P.push(tt))}if(_.push(Pe),ze===gt)return P.push(T==="strict"?_t:ir);if(ze===xr||ze===Ce)return P.push(tt);if(ze===En)return ve>=131072&&ve<=196605||ve>=196608&&ve<=262141?P.push(ir):P.push(tt);P.push(ze)}),[_,P,re]},nt=function(F,T,P,_){var re=_[P];if(Array.isArray(F)?F.indexOf(re)!==-1:F===re)for(var ve=P;ve<=_.length;){ve++;var Pe=_[ve];if(Pe===T)return!0;if(Pe!==ce)break}if(re===ce)for(var ve=P;ve>0;){ve--;var ze=_[ve];if(Array.isArray(F)?F.indexOf(ze)!==-1:F===ze)for(var We=P;We<=_.length;){We++;var Pe=_[We];if(Pe===T)return!0;if(Pe!==ce)break}if(ze!==ce)break}return!1},xt=function(F,T){for(var P=F;P>=0;){var _=T[P];if(_===ce)P--;else return _}return 0},Gt=function(F,T,P,_,re){if(P[_]===0)return jr;var ve=_-1;if(Array.isArray(re)&&re[ve]===!0)return jr;var Pe=ve-1,ze=ve+1,We=T[ve],dt=Pe>=0?T[Pe]:0,mt=T[ze];if(We===V&&mt===ie)return jr;if($e.indexOf(We)!==-1)return ns;if($e.indexOf(mt)!==-1||Ve.indexOf(mt)!==-1)return jr;if(xt(ve,T)===le)return Rn;if(ke.get(F[ve])===se||(We===Kt||We===Ke)&&ke.get(F[ze])===se||We===ge||mt===ge||We===Qe||[ce,we,be].indexOf(We)===-1&&mt===Qe||[Re,it,et,qe,At].indexOf(mt)!==-1||xt(ve,T)===ot||nt(Ie,ot,ve,T)||nt([Re,it],_t,ve,T)||nt(je,je,ve,T))return jr;if(We===ce)return Rn;if(We===Ie||mt===Ie)return jr;if(mt===Ee||We===Ee)return Rn;if([we,be,_t].indexOf(mt)!==-1||We===q||dt===Dt&&Oe.indexOf(We)!==-1||We===At&&mt===Dt||mt===Ct||Xe.indexOf(mt)!==-1&&We===at||Xe.indexOf(We)!==-1&&mt===at||We===Ue&&[ir,Kt,Ke].indexOf(mt)!==-1||[ir,Kt,Ke].indexOf(We)!==-1&&mt===Ut||Xe.indexOf(We)!==-1&&Je.indexOf(mt)!==-1||Je.indexOf(We)!==-1&&Xe.indexOf(mt)!==-1||[Ue,Ut].indexOf(We)!==-1&&(mt===at||[ot,be].indexOf(mt)!==-1&&T[ze+1]===at)||[ot,be].indexOf(We)!==-1&&mt===at||We===at&&[at,At,qe].indexOf(mt)!==-1)return jr;if([at,At,qe,Re,it].indexOf(mt)!==-1)for(var jt=ve;jt>=0;){var Ht=T[jt];if(Ht===at)return jr;if([At,qe].indexOf(Ht)!==-1)jt--;else break}if([Ue,Ut].indexOf(mt)!==-1)for(var jt=[Re,it].indexOf(We)!==-1?Pe:ve;jt>=0;){var Ht=T[jt];if(Ht===at)return jr;if([At,qe].indexOf(Ht)!==-1)jt--;else break}if(Dr===We&&[Dr,Xr,Tt,wt].indexOf(mt)!==-1||[Xr,Tt].indexOf(We)!==-1&&[Xr,hs].indexOf(mt)!==-1||[hs,wt].indexOf(We)!==-1&&mt===hs||vt.indexOf(We)!==-1&&[Ct,Ut].indexOf(mt)!==-1||vt.indexOf(mt)!==-1&&We===Ue||Xe.indexOf(We)!==-1&&Xe.indexOf(mt)!==-1||We===qe&&Xe.indexOf(mt)!==-1||Xe.concat(at).indexOf(We)!==-1&&mt===ot&&Mn.indexOf(F[ze])===-1||Xe.concat(at).indexOf(mt)!==-1&&We===it)return jr;if(We===kn&&mt===kn){for(var fr=P[ve],lr=1;fr>0&&(fr--,T[fr]===kn);)lr++;if(lr%2!==0)return jr}return We===Kt&&mt===Ke?jr:Rn},Xt=function(F,T){T||(T={lineBreak:"normal",wordBreak:"normal"});var P=Ge(F,T.lineBreak),_=P[0],re=P[1],ve=P[2];(T.wordBreak==="break-all"||T.wordBreak==="break-word")&&(re=re.map(function(ze){return[at,tt,xr].indexOf(ze)!==-1?ir:ze}));var Pe=T.wordBreak==="keep-all"?ve.map(function(ze,We){return ze&&F[We]>=19968&&F[We]<=40959}):void 0;return[_,re,Pe]},tr=function(){function F(T,P,_,re){this.codePoints=T,this.required=P===ns,this.start=_,this.end=re}return F.prototype.slice=function(){return p.apply(void 0,this.codePoints.slice(this.start,this.end))},F}(),nr=function(F,T){var P=m(F),_=Xt(P,T),re=_[0],ve=_[1],Pe=_[2],ze=P.length,We=0,dt=0;return{next:function(){if(dt>=ze)return{done:!0,value:null};for(var mt=jr;dt<ze&&(mt=Gt(P,ve,re,++dt,Pe))===jr;);if(mt!==jr||dt===ze){var jt=new tr(P,mt,We,dt);return We=dt,{value:jt,done:!1}}return{done:!0,value:null}}}},pr=1,Rr=2,cn=4,Cn=8,Tn=10,bi=47,wi=92,ni=9,Vi=32,si=34,Ia=61,Os=35,ai=36,hA=37,cu=39,Qo=40,bc=41,ji=95,da=45,ss=33,uu=60,mA=62,pA=64,Ul=91,Of=93,gA=61,wc=123,jc=63,Lf=125,xA=124,yA=126,Ml=128,du=65533,Ho=42,Ao=43,va=44,Nc=58,Rl=59,Or=46,vA=0,Uf=8,Ni=11,fo=14,gd=31,Al=127,Vs=-1,xd=48,Au=97,bA=101,Cc=102,fl=117,Ql=122,_a=65,Ci=69,Hl=70,hl=85,Mf=90,zs=function(F){return F>=xd&&F<=57},yd=function(F){return F>=55296&&F<=57343},zi=function(F){return zs(F)||F>=_a&&F<=Hl||F>=Au&&F<=Cc},Gi=function(F){return F>=Au&&F<=Ql},ml=function(F){return F>=_a&&F<=Mf},om=function(F){return Gi(F)||ml(F)},Sc=function(F){return F>=Ml},Si=function(F){return F===Tn||F===ni||F===Vi},pl=function(F){return om(F)||Sc(F)||F===ji},Bc=function(F){return pl(F)||zs(F)||F===da},lm=function(F){return F>=vA&&F<=Uf||F===Ni||F>=fo&&F<=gd||F===Al},Wi=function(F,T){return F!==wi?!1:T!==Tn},vd=function(F,T,P){return F===da?pl(T)||Wi(T,P):pl(F)?!0:!!(F===wi&&Wi(F,T))},fu=function(F,T,P){return F===Ao||F===da?zs(T)?!0:T===Or&&zs(P):zs(F===Or?T:F)},bd=function(F){var T=0,P=1;(F[T]===Ao||F[T]===da)&&(F[T]===da&&(P=-1),T++);for(var _=[];zs(F[T]);)_.push(F[T++]);var re=_.length?parseInt(p.apply(void 0,_),10):0;F[T]===Or&&T++;for(var ve=[];zs(F[T]);)ve.push(F[T++]);var Pe=ve.length,ze=Pe?parseInt(p.apply(void 0,ve),10):0;(F[T]===Ci||F[T]===bA)&&T++;var We=1;(F[T]===Ao||F[T]===da)&&(F[T]===da&&(We=-1),T++);for(var dt=[];zs(F[T]);)dt.push(F[T++]);var mt=dt.length?parseInt(p.apply(void 0,dt),10):0;return P*(re+ze*Math.pow(10,-Pe))*Math.pow(10,We*mt)},Rf={type:2},wd={type:3},wA={type:4},jA={type:13},jd={type:8},cm={type:21},Nd={type:9},hu={type:10},Cd={type:11},Ec={type:12},NA={type:14},W={type:23},Fe={type:1},rt={type:25},lt={type:24},bt={type:26},Qt={type:27},rr={type:28},yr={type:29},Fr={type:31},zr={type:32},$r=function(){function F(){this._value=[]}return F.prototype.write=function(T){this._value=this._value.concat(m(T))},F.prototype.read=function(){for(var T=[],P=this.consumeToken();P!==zr;)T.push(P),P=this.consumeToken();return T},F.prototype.consumeToken=function(){var T=this.consumeCodePoint();switch(T){case si:return this.consumeStringToken(si);case Os:var P=this.peekCodePoint(0),_=this.peekCodePoint(1),re=this.peekCodePoint(2);if(Bc(P)||Wi(_,re)){var ve=vd(P,_,re)?Rr:pr,Pe=this.consumeName();return{type:5,value:Pe,flags:ve}}break;case ai:if(this.peekCodePoint(0)===Ia)return this.consumeCodePoint(),jA;break;case cu:return this.consumeStringToken(cu);case Qo:return Rf;case bc:return wd;case Ho:if(this.peekCodePoint(0)===Ia)return this.consumeCodePoint(),NA;break;case Ao:if(fu(T,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(T),this.consumeNumericToken();break;case va:return wA;case da:var ze=T,We=this.peekCodePoint(0),dt=this.peekCodePoint(1);if(fu(ze,We,dt))return this.reconsumeCodePoint(T),this.consumeNumericToken();if(vd(ze,We,dt))return this.reconsumeCodePoint(T),this.consumeIdentLikeToken();if(We===da&&dt===mA)return this.consumeCodePoint(),this.consumeCodePoint(),lt;break;case Or:if(fu(T,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(T),this.consumeNumericToken();break;case bi:if(this.peekCodePoint(0)===Ho)for(this.consumeCodePoint();;){var mt=this.consumeCodePoint();if(mt===Ho&&(mt=this.consumeCodePoint(),mt===bi))return this.consumeToken();if(mt===Vs)return this.consumeToken()}break;case Nc:return bt;case Rl:return Qt;case uu:if(this.peekCodePoint(0)===ss&&this.peekCodePoint(1)===da&&this.peekCodePoint(2)===da)return this.consumeCodePoint(),this.consumeCodePoint(),rt;break;case pA:var jt=this.peekCodePoint(0),Ht=this.peekCodePoint(1),fr=this.peekCodePoint(2);if(vd(jt,Ht,fr)){var Pe=this.consumeName();return{type:7,value:Pe}}break;case Ul:return rr;case wi:if(Wi(T,this.peekCodePoint(0)))return this.reconsumeCodePoint(T),this.consumeIdentLikeToken();break;case Of:return yr;case gA:if(this.peekCodePoint(0)===Ia)return this.consumeCodePoint(),jd;break;case wc:return Cd;case Lf:return Ec;case fl:case hl:var lr=this.peekCodePoint(0),cr=this.peekCodePoint(1);return lr===Ao&&(zi(cr)||cr===jc)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(T),this.consumeIdentLikeToken();case xA:if(this.peekCodePoint(0)===Ia)return this.consumeCodePoint(),Nd;if(this.peekCodePoint(0)===xA)return this.consumeCodePoint(),cm;break;case yA:if(this.peekCodePoint(0)===Ia)return this.consumeCodePoint(),hu;break;case Vs:return zr}return Si(T)?(this.consumeWhiteSpace(),Fr):zs(T)?(this.reconsumeCodePoint(T),this.consumeNumericToken()):pl(T)?(this.reconsumeCodePoint(T),this.consumeIdentLikeToken()):{type:6,value:p(T)}},F.prototype.consumeCodePoint=function(){var T=this._value.shift();return typeof T>"u"?-1:T},F.prototype.reconsumeCodePoint=function(T){this._value.unshift(T)},F.prototype.peekCodePoint=function(T){return T>=this._value.length?-1:this._value[T]},F.prototype.consumeUnicodeRangeToken=function(){for(var T=[],P=this.consumeCodePoint();zi(P)&&T.length<6;)T.push(P),P=this.consumeCodePoint();for(var _=!1;P===jc&&T.length<6;)T.push(P),P=this.consumeCodePoint(),_=!0;if(_){var re=parseInt(p.apply(void 0,T.map(function(We){return We===jc?xd:We})),16),ve=parseInt(p.apply(void 0,T.map(function(We){return We===jc?Hl:We})),16);return{type:30,start:re,end:ve}}var Pe=parseInt(p.apply(void 0,T),16);if(this.peekCodePoint(0)===da&&zi(this.peekCodePoint(1))){this.consumeCodePoint(),P=this.consumeCodePoint();for(var ze=[];zi(P)&&ze.length<6;)ze.push(P),P=this.consumeCodePoint();var ve=parseInt(p.apply(void 0,ze),16);return{type:30,start:Pe,end:ve}}else return{type:30,start:Pe,end:Pe}},F.prototype.consumeIdentLikeToken=function(){var T=this.consumeName();return T.toLowerCase()==="url"&&this.peekCodePoint(0)===Qo?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Qo?(this.consumeCodePoint(),{type:19,value:T}):{type:20,value:T}},F.prototype.consumeUrlToken=function(){var T=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Vs)return{type:22,value:""};var P=this.peekCodePoint(0);if(P===cu||P===si){var _=this.consumeStringToken(this.consumeCodePoint());return _.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Vs||this.peekCodePoint(0)===bc)?(this.consumeCodePoint(),{type:22,value:_.value}):(this.consumeBadUrlRemnants(),W)}for(;;){var re=this.consumeCodePoint();if(re===Vs||re===bc)return{type:22,value:p.apply(void 0,T)};if(Si(re))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Vs||this.peekCodePoint(0)===bc?(this.consumeCodePoint(),{type:22,value:p.apply(void 0,T)}):(this.consumeBadUrlRemnants(),W);if(re===si||re===cu||re===Qo||lm(re))return this.consumeBadUrlRemnants(),W;if(re===wi)if(Wi(re,this.peekCodePoint(0)))T.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),W;else T.push(re)}},F.prototype.consumeWhiteSpace=function(){for(;Si(this.peekCodePoint(0));)this.consumeCodePoint()},F.prototype.consumeBadUrlRemnants=function(){for(;;){var T=this.consumeCodePoint();if(T===bc||T===Vs)return;Wi(T,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},F.prototype.consumeStringSlice=function(T){for(var P=5e4,_="";T>0;){var re=Math.min(P,T);_+=p.apply(void 0,this._value.splice(0,re)),T-=re}return this._value.shift(),_},F.prototype.consumeStringToken=function(T){var P="",_=0;do{var re=this._value[_];if(re===Vs||re===void 0||re===T)return P+=this.consumeStringSlice(_),{type:0,value:P};if(re===Tn)return this._value.splice(0,_),Fe;if(re===wi){var ve=this._value[_+1];ve!==Vs&&ve!==void 0&&(ve===Tn?(P+=this.consumeStringSlice(_),_=-1,this._value.shift()):Wi(re,ve)&&(P+=this.consumeStringSlice(_),P+=p(this.consumeEscapedCodePoint()),_=-1))}_++}while(!0)},F.prototype.consumeNumber=function(){var T=[],P=cn,_=this.peekCodePoint(0);for((_===Ao||_===da)&&T.push(this.consumeCodePoint());zs(this.peekCodePoint(0));)T.push(this.consumeCodePoint());_=this.peekCodePoint(0);var re=this.peekCodePoint(1);if(_===Or&&zs(re))for(T.push(this.consumeCodePoint(),this.consumeCodePoint()),P=Cn;zs(this.peekCodePoint(0));)T.push(this.consumeCodePoint());_=this.peekCodePoint(0),re=this.peekCodePoint(1);var ve=this.peekCodePoint(2);if((_===Ci||_===bA)&&((re===Ao||re===da)&&zs(ve)||zs(re)))for(T.push(this.consumeCodePoint(),this.consumeCodePoint()),P=Cn;zs(this.peekCodePoint(0));)T.push(this.consumeCodePoint());return[bd(T),P]},F.prototype.consumeNumericToken=function(){var T=this.consumeNumber(),P=T[0],_=T[1],re=this.peekCodePoint(0),ve=this.peekCodePoint(1),Pe=this.peekCodePoint(2);if(vd(re,ve,Pe)){var ze=this.consumeName();return{type:15,number:P,flags:_,unit:ze}}return re===hA?(this.consumeCodePoint(),{type:16,number:P,flags:_}):{type:17,number:P,flags:_}},F.prototype.consumeEscapedCodePoint=function(){var T=this.consumeCodePoint();if(zi(T)){for(var P=p(T);zi(this.peekCodePoint(0))&&P.length<6;)P+=p(this.consumeCodePoint());Si(this.peekCodePoint(0))&&this.consumeCodePoint();var _=parseInt(P,16);return _===0||yd(_)||_>1114111?du:_}return T===Vs?du:T},F.prototype.consumeName=function(){for(var T="";;){var P=this.consumeCodePoint();if(Bc(P))T+=p(P);else if(Wi(P,this.peekCodePoint(0)))T+=p(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(P),T}},F}(),fn=function(){function F(T){this._tokens=T}return F.create=function(T){var P=new $r;return P.write(T),new F(P.read())},F.parseValue=function(T){return F.create(T).parseComponentValue()},F.parseValues=function(T){return F.create(T).parseComponentValues()},F.prototype.parseComponentValue=function(){for(var T=this.consumeToken();T.type===31;)T=this.consumeToken();if(T.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(T);var P=this.consumeComponentValue();do T=this.consumeToken();while(T.type===31);if(T.type===32)return P;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},F.prototype.parseComponentValues=function(){for(var T=[];;){var P=this.consumeComponentValue();if(P.type===32)return T;T.push(P),T.push()}},F.prototype.consumeComponentValue=function(){var T=this.consumeToken();switch(T.type){case 11:case 28:case 2:return this.consumeSimpleBlock(T.type);case 19:return this.consumeFunction(T)}return T},F.prototype.consumeSimpleBlock=function(T){for(var P={type:T,values:[]},_=this.consumeToken();;){if(_.type===32||CA(_,T))return P;this.reconsumeToken(_),P.values.push(this.consumeComponentValue()),_=this.consumeToken()}},F.prototype.consumeFunction=function(T){for(var P={name:T.value,values:[],type:18};;){var _=this.consumeToken();if(_.type===32||_.type===3)return P;this.reconsumeToken(_),P.values.push(this.consumeComponentValue())}},F.prototype.consumeToken=function(){var T=this._tokens.shift();return typeof T>"u"?zr:T},F.prototype.reconsumeToken=function(T){this._tokens.unshift(T)},F}(),Hn=function(F){return F.type===15},$n=function(F){return F.type===17},Ur=function(F){return F.type===20},Gs=function(F){return F.type===0},ra=function(F,T){return Ur(F)&&F.value===T},ho=function(F){return F.type!==31},ba=function(F){return F.type!==31&&F.type!==4},na=function(F){var T=[],P=[];return F.forEach(function(_){if(_.type===4){if(P.length===0)throw new Error("Error parsing function args, zero tokens for arg");T.push(P),P=[];return}_.type!==31&&P.push(_)}),P.length&&T.push(P),T},CA=function(F,T){return T===11&&F.type===12||T===28&&F.type===29?!0:T===2&&F.type===3},$a=function(F){return F.type===17||F.type===15},Kn=function(F){return F.type===16||$a(F)},mu=function(F){return F.length>1?[F[0],F[1]]:[F[0]]},ms={type:17,number:0,flags:cn},Tc={type:16,number:50,flags:cn},Bi={type:16,number:100,flags:cn},Bs=function(F,T,P){var _=F[0],re=F[1];return[vn(_,T),vn(typeof re<"u"?re:_,P)]},vn=function(F,T){if(F.type===16)return F.number/100*T;if(Hn(F))switch(F.unit){case"rem":case"em":return 16*F.number;case"px":default:return F.number}return F.number},Fc="deg",Ic="grad",pu="rad",ii="turn",Sd={name:"angle",parse:function(F,T){if(T.type===15)switch(T.unit){case Fc:return Math.PI*T.number/180;case Ic:return Math.PI/200*T.number;case pu:return T.number;case ii:return Math.PI*2*T.number}throw new Error("Unsupported angle type")}},Bd=function(F){return F.type===15&&(F.unit===Fc||F.unit===Ic||F.unit===pu||F.unit===ii)},SA=function(F){var T=F.filter(Ur).map(function(P){return P.value}).join(" ");switch(T){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ms,ms];case"to top":case"bottom":return Es(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ms,Bi];case"to right":case"left":return Es(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Bi,Bi];case"to bottom":case"top":return Es(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Bi,ms];case"to left":case"right":return Es(270)}return 0},Es=function(F){return Math.PI*F/180},as={name:"color",parse:function(F,T){if(T.type===18){var P=Ei[T.name];if(typeof P>"u")throw new Error('Attempting to parse an unsupported color function "'+T.name+'"');return P(F,T.values)}if(T.type===5){if(T.value.length===3){var _=T.value.substring(0,1),re=T.value.substring(1,2),ve=T.value.substring(2,3);return Ka(parseInt(_+_,16),parseInt(re+re,16),parseInt(ve+ve,16),1)}if(T.value.length===4){var _=T.value.substring(0,1),re=T.value.substring(1,2),ve=T.value.substring(2,3),Pe=T.value.substring(3,4);return Ka(parseInt(_+_,16),parseInt(re+re,16),parseInt(ve+ve,16),parseInt(Pe+Pe,16)/255)}if(T.value.length===6){var _=T.value.substring(0,2),re=T.value.substring(2,4),ve=T.value.substring(4,6);return Ka(parseInt(_,16),parseInt(re,16),parseInt(ve,16),1)}if(T.value.length===8){var _=T.value.substring(0,2),re=T.value.substring(2,4),ve=T.value.substring(4,6),Pe=T.value.substring(6,8);return Ka(parseInt(_,16),parseInt(re,16),parseInt(ve,16),parseInt(Pe,16)/255)}}if(T.type===20){var ze=wa[T.value.toUpperCase()];if(typeof ze<"u")return ze}return wa.TRANSPARENT}},oi=function(F){return(255&F)===0},Ls=function(F){var T=255&F,P=255&F>>8,_=255&F>>16,re=255&F>>24;return T<255?"rgba("+re+","+_+","+P+","+T/255+")":"rgb("+re+","+_+","+P+")"},Ka=function(F,T,P,_){return(F<<24|T<<16|P<<8|Math.round(_*255)<<0)>>>0},$l=function(F,T){if(F.type===17)return F.number;if(F.type===16){var P=T===3?1:255;return T===3?F.number/100*P:Math.round(F.number/100*P)}return 0},Va=function(F,T){var P=T.filter(ba);if(P.length===3){var _=P.map($l),re=_[0],ve=_[1],Pe=_[2];return Ka(re,ve,Pe,1)}if(P.length===4){var ze=P.map($l),re=ze[0],ve=ze[1],Pe=ze[2],We=ze[3];return Ka(re,ve,Pe,We)}return 0};function Aa(F,T,P){return P<0&&(P+=1),P>=1&&(P-=1),P<1/6?(T-F)*P*6+F:P<1/2?T:P<2/3?(T-F)*6*(2/3-P)+F:F}var Kl=function(F,T){var P=T.filter(ba),_=P[0],re=P[1],ve=P[2],Pe=P[3],ze=(_.type===17?Es(_.number):Sd.parse(F,_))/(Math.PI*2),We=Kn(re)?re.number/100:0,dt=Kn(ve)?ve.number/100:0,mt=typeof Pe<"u"&&Kn(Pe)?vn(Pe,1):1;if(We===0)return Ka(dt*255,dt*255,dt*255,1);var jt=dt<=.5?dt*(We+1):dt+We-dt*We,Ht=dt*2-jt,fr=Aa(Ht,jt,ze+1/3),lr=Aa(Ht,jt,ze),cr=Aa(Ht,jt,ze-1/3);return Ka(fr*255,lr*255,cr*255,mt)},Ei={hsl:Kl,hsla:Kl,rgb:Va,rgba:Va},li=function(F,T){return as.parse(F,fn.create(T).parseComponentValue())},wa={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},$o={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(F,T){return T.map(function(P){if(Ur(P))switch(P.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Us={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ti=function(F,T){var P=as.parse(F,T[0]),_=T[1];return _&&Kn(_)?{color:P,stop:_}:{color:P,stop:null}},Ws=function(F,T){var P=F[0],_=F[F.length-1];P.stop===null&&(P.stop=ms),_.stop===null&&(_.stop=Bi);for(var re=[],ve=0,Pe=0;Pe<F.length;Pe++){var ze=F[Pe].stop;if(ze!==null){var We=vn(ze,T);We>ve?re.push(We):re.push(ve),ve=We}else re.push(null)}for(var dt=null,Pe=0;Pe<re.length;Pe++){var mt=re[Pe];if(mt===null)dt===null&&(dt=Pe);else if(dt!==null){for(var jt=Pe-dt,Ht=re[dt-1],fr=(mt-Ht)/(jt+1),lr=1;lr<=jt;lr++)re[dt+lr-1]=fr*lr;dt=null}}return F.map(function(cr,tn){var Br=cr.color;return{color:Br,stop:Math.max(Math.min(1,re[tn]/T),0)}})},Fi=function(F,T,P){var _=T/2,re=P/2,ve=vn(F[0],T)-_,Pe=re-vn(F[1],P);return(Math.atan2(Pe,ve)+Math.PI*2)%(Math.PI*2)},gu=function(F,T,P){var _=typeof F=="number"?F:Fi(F,T,P),re=Math.abs(T*Math.sin(_))+Math.abs(P*Math.cos(_)),ve=T/2,Pe=P/2,ze=re/2,We=Math.sin(_-Math.PI/2)*ze,dt=Math.cos(_-Math.PI/2)*ze;return[re,ve-dt,ve+dt,Pe-We,Pe+We]},sa=function(F,T){return Math.sqrt(F*F+T*T)},xu=function(F,T,P,_,re){var ve=[[0,0],[0,T],[F,0],[F,T]];return ve.reduce(function(Pe,ze){var We=ze[0],dt=ze[1],mt=sa(P-We,_-dt);return(re?mt<Pe.optimumDistance:mt>Pe.optimumDistance)?{optimumCorner:ze,optimumDistance:mt}:Pe},{optimumDistance:re?1/0:-1/0,optimumCorner:null}).optimumCorner},_c=function(F,T,P,_,re){var ve=0,Pe=0;switch(F.size){case 0:F.shape===0?ve=Pe=Math.min(Math.abs(T),Math.abs(T-_),Math.abs(P),Math.abs(P-re)):F.shape===1&&(ve=Math.min(Math.abs(T),Math.abs(T-_)),Pe=Math.min(Math.abs(P),Math.abs(P-re)));break;case 2:if(F.shape===0)ve=Pe=Math.min(sa(T,P),sa(T,P-re),sa(T-_,P),sa(T-_,P-re));else if(F.shape===1){var ze=Math.min(Math.abs(P),Math.abs(P-re))/Math.min(Math.abs(T),Math.abs(T-_)),We=xu(_,re,T,P,!0),dt=We[0],mt=We[1];ve=sa(dt-T,(mt-P)/ze),Pe=ze*ve}break;case 1:F.shape===0?ve=Pe=Math.max(Math.abs(T),Math.abs(T-_),Math.abs(P),Math.abs(P-re)):F.shape===1&&(ve=Math.max(Math.abs(T),Math.abs(T-_)),Pe=Math.max(Math.abs(P),Math.abs(P-re)));break;case 3:if(F.shape===0)ve=Pe=Math.max(sa(T,P),sa(T,P-re),sa(T-_,P),sa(T-_,P-re));else if(F.shape===1){var ze=Math.max(Math.abs(P),Math.abs(P-re))/Math.max(Math.abs(T),Math.abs(T-_)),jt=xu(_,re,T,P,!1),dt=jt[0],mt=jt[1];ve=sa(dt-T,(mt-P)/ze),Pe=ze*ve}break}return Array.isArray(F.size)&&(ve=vn(F.size[0],_),Pe=F.size.length===2?vn(F.size[1],re):ve),[ve,Pe]},kc=function(F,T){var P=Es(180),_=[];return na(T).forEach(function(re,ve){if(ve===0){var Pe=re[0];if(Pe.type===20&&Pe.value==="to"){P=SA(re);return}else if(Bd(Pe)){P=Sd.parse(F,Pe);return}}var ze=Ti(F,re);_.push(ze)}),{angle:P,stops:_,type:1}},Ko=function(F,T){var P=Es(180),_=[];return na(T).forEach(function(re,ve){if(ve===0){var Pe=re[0];if(Pe.type===20&&["top","left","right","bottom"].indexOf(Pe.value)!==-1){P=SA(re);return}else if(Bd(Pe)){P=(Sd.parse(F,Pe)+Es(270))%Es(360);return}}var ze=Ti(F,re);_.push(ze)}),{angle:P,stops:_,type:1}},yu=function(F,T){var P=Es(180),_=[],re=1,ve=0,Pe=3,ze=[];return na(T).forEach(function(We,dt){var mt=We[0];if(dt===0){if(Ur(mt)&&mt.value==="linear"){re=1;return}else if(Ur(mt)&&mt.value==="radial"){re=2;return}}if(mt.type===18){if(mt.name==="from"){var jt=as.parse(F,mt.values[0]);_.push({stop:ms,color:jt})}else if(mt.name==="to"){var jt=as.parse(F,mt.values[0]);_.push({stop:Bi,color:jt})}else if(mt.name==="color-stop"){var Ht=mt.values.filter(ba);if(Ht.length===2){var jt=as.parse(F,Ht[1]),fr=Ht[0];$n(fr)&&_.push({stop:{type:16,number:fr.number*100,flags:fr.flags},color:jt})}}}}),re===1?{angle:(P+Es(180))%Es(360),stops:_,type:re}:{size:Pe,shape:ve,stops:_,position:ze,type:re}},vu="closest-side",Vl="farthest-side",gl="closest-corner",Pc="farthest-corner",Ts="circle",Ii="ellipse",sn="cover",an="contain",ts=function(F,T){var P=0,_=3,re=[],ve=[];return na(T).forEach(function(Pe,ze){var We=!0;if(ze===0){var dt=!1;We=Pe.reduce(function(jt,Ht){if(dt)if(Ur(Ht))switch(Ht.value){case"center":return ve.push(Tc),jt;case"top":case"left":return ve.push(ms),jt;case"right":case"bottom":return ve.push(Bi),jt}else(Kn(Ht)||$a(Ht))&&ve.push(Ht);else if(Ur(Ht))switch(Ht.value){case Ts:return P=0,!1;case Ii:return P=1,!1;case"at":return dt=!0,!1;case vu:return _=0,!1;case sn:case Vl:return _=1,!1;case an:case gl:return _=2,!1;case Pc:return _=3,!1}else if($a(Ht)||Kn(Ht))return Array.isArray(_)||(_=[]),_.push(Ht),!1;return jt},We)}if(We){var mt=Ti(F,Pe);re.push(mt)}}),{size:_,shape:P,stops:re,position:ve,type:2}},ps=function(F,T){var P=0,_=3,re=[],ve=[];return na(T).forEach(function(Pe,ze){var We=!0;if(ze===0?We=Pe.reduce(function(mt,jt){if(Ur(jt))switch(jt.value){case"center":return ve.push(Tc),!1;case"top":case"left":return ve.push(ms),!1;case"right":case"bottom":return ve.push(Bi),!1}else if(Kn(jt)||$a(jt))return ve.push(jt),!1;return mt},We):ze===1&&(We=Pe.reduce(function(mt,jt){if(Ur(jt))switch(jt.value){case Ts:return P=0,!1;case Ii:return P=1,!1;case an:case vu:return _=0,!1;case Vl:return _=1,!1;case gl:return _=2,!1;case sn:case Pc:return _=3,!1}else if($a(jt)||Kn(jt))return Array.isArray(_)||(_=[]),_.push(jt),!1;return mt},We)),We){var dt=Ti(F,Pe);re.push(dt)}}),{size:_,shape:P,stops:re,position:ve,type:2}},mo=function(F){return F.type===1},Dc=function(F){return F.type===2},xl={name:"image",parse:function(F,T){if(T.type===22){var P={url:T.value,type:0};return F.cache.addImage(T.value),P}if(T.type===18){var _=BA[T.name];if(typeof _>"u")throw new Error('Attempting to parse an unsupported image function "'+T.name+'"');return _(F,T.values)}throw new Error("Unsupported image type "+T.type)}};function zl(F){return!(F.type===20&&F.value==="none")&&(F.type!==18||!!BA[F.name])}var BA={"linear-gradient":kc,"-moz-linear-gradient":Ko,"-ms-linear-gradient":Ko,"-o-linear-gradient":Ko,"-webkit-linear-gradient":Ko,"radial-gradient":ts,"-moz-radial-gradient":ps,"-ms-radial-gradient":ps,"-o-radial-gradient":ps,"-webkit-radial-gradient":ps,"-webkit-gradient":yu},bu={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(F,T){if(T.length===0)return[];var P=T[0];return P.type===20&&P.value==="none"?[]:T.filter(function(_){return ba(_)&&zl(_)}).map(function(_){return xl.parse(F,_)})}},ja={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(F,T){return T.map(function(P){if(Ur(P))switch(P.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},po={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(F,T){return na(T).map(function(P){return P.filter(Kn)}).map(mu)}},za={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(F,T){return na(T).map(function(P){return P.filter(Ur).map(function(_){return _.value}).join(" ")}).map(Ed)}},Ed=function(F){switch(F){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},ci;(function(F){F.AUTO="auto",F.CONTAIN="contain",F.COVER="cover"})(ci||(ci={}));var EA={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(F,T){return na(T).map(function(P){return P.filter(wu)})}},wu=function(F){return Ur(F)||Kn(F)},go=function(F){return{name:"border-"+F+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Qf=go("top"),TA=go("right"),Oc=go("bottom"),Gl=go("left"),Wl=function(F){return{name:"border-radius-"+F,initialValue:"0 0",prefix:!1,type:1,parse:function(T,P){return mu(P.filter(Kn))}}},Hf=Wl("top-left"),xo=Wl("top-right"),qi=Wl("bottom-right"),ju=Wl("bottom-left"),yo=function(F){return{name:"border-"+F+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(T,P){switch(P){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ql=yo("top"),Nu=yo("right"),H0=yo("bottom"),FA=yo("left"),Lc=function(F){return{name:"border-"+F+"-width",initialValue:"0",type:0,prefix:!1,parse:function(T,P){return Hn(P)?P.number:0}}},fa=Lc("top"),Ms=Lc("right"),Fn=Lc("bottom"),Uc=Lc("left"),yl={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},um={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(F,T){switch(T){case"rtl":return 1;case"ltr":default:return 0}}},Cu={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(F,T){return T.filter(Ur).reduce(function(P,_){return P|$0(_.value)},0)}},$0=function(F){switch(F){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Yl={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(F,T){switch(T){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},ui={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(F,T){return T.type===20&&T.value==="normal"?0:T.type===17||T.type===15?T.number:0}},Ga;(function(F){F.NORMAL="normal",F.STRICT="strict"})(Ga||(Ga={}));var K0={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(F,T){switch(T){case"strict":return Ga.STRICT;case"normal":default:return Ga.NORMAL}}},Td={name:"line-height",initialValue:"normal",prefix:!1,type:4},Vo=function(F,T){return Ur(F)&&F.value==="normal"?1.2*T:F.type===17?T*F.number:Kn(F)?vn(F,T):T},Na={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(F,T){return T.type===20&&T.value==="none"?null:xl.parse(F,T)}},Xl={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(F,T){switch(T){case"inside":return 0;case"outside":default:return 1}}},vl={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(F,T){switch(T){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Yi=function(F){return{name:"margin-"+F,initialValue:"0",prefix:!1,type:4}},$f=Yi("top"),Kf=Yi("right"),Fd=Yi("bottom"),Vf=Yi("left"),bl={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(F,T){return T.filter(Ur).map(function(P){switch(P.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},ha={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(F,T){switch(T){case"break-word":return"break-word";case"normal":default:return"normal"}}},zo=function(F){return{name:"padding-"+F,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},zf=zo("top"),Ig=zo("right"),V0=zo("bottom"),_g=zo("left"),ma={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(F,T){switch(T){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},dm={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(F,T){switch(T){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},IA={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(F,T){return T.length===1&&ra(T[0],"none")?[]:na(T).map(function(P){for(var _={color:wa.TRANSPARENT,offsetX:ms,offsetY:ms,blur:ms},re=0,ve=0;ve<P.length;ve++){var Pe=P[ve];$a(Pe)?(re===0?_.offsetX=Pe:re===1?_.offsetY=Pe:_.blur=Pe,re++):_.color=as.parse(F,Pe)}return _})}},_A={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(F,T){switch(T){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Am={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(F,T){if(T.type===20&&T.value==="none")return null;if(T.type===18){var P=kg[T.name];if(typeof P>"u")throw new Error('Attempting to parse an unsupported transform function "'+T.name+'"');return P(T.values)}return null}},Su=function(F){var T=F.filter(function(P){return P.type===17}).map(function(P){return P.number});return T.length===6?T:null},Jl=function(F){var T=F.filter(function(We){return We.type===17}).map(function(We){return We.number}),P=T[0],_=T[1];T[2],T[3];var re=T[4],ve=T[5];T[6],T[7],T[8],T[9],T[10],T[11];var Pe=T[12],ze=T[13];return T[14],T[15],T.length===16?[P,_,re,ve,Pe,ze]:null},kg={matrix:Su,matrix3d:Jl},fm={type:16,number:50,flags:cn},z0=[fm,fm],B={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(F,T){var P=T.filter(Kn);return P.length!==2?z0:[P[0],P[1]]}},M={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(F,T){switch(T){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},J;(function(F){F.NORMAL="normal",F.BREAK_ALL="break-all",F.KEEP_ALL="keep-all"})(J||(J={}));for(var fe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(F,T){switch(T){case"break-all":return J.BREAK_ALL;case"keep-all":return J.KEEP_ALL;case"normal":default:return J.NORMAL}}},Te={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(F,T){if(T.type===20)return{auto:!0,order:0};if($n(T))return{auto:!1,order:T.number};throw new Error("Invalid z-index number parsed")}},_e={name:"time",parse:function(F,T){if(T.type===15)switch(T.unit.toLowerCase()){case"s":return 1e3*T.number;case"ms":return T.number}throw new Error("Unsupported time type")}},De={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(F,T){return $n(T)?T.number:1}},Le={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},He={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(F,T){return T.filter(Ur).map(function(P){switch(P.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(P){return P!==0})}},Ye={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(F,T){var P=[],_=[];return T.forEach(function(re){switch(re.type){case 20:case 0:P.push(re.value);break;case 17:P.push(re.number.toString());break;case 4:_.push(P.join(" ")),P.length=0;break}}),P.length&&_.push(P.join(" ")),_.map(function(re){return re.indexOf(" ")===-1?re:"'"+re+"'"})}},ct={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},St={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(F,T){if($n(T))return T.number;if(Ur(T))switch(T.value){case"bold":return 700;case"normal":default:return 400}return 400}},Nt={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(F,T){return T.filter(Ur).map(function(P){return P.value})}},pt={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(F,T){switch(T){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Rt=function(F,T){return(F&T)!==0},Pt={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(F,T){if(T.length===0)return[];var P=T[0];return P.type===20&&P.value==="none"?[]:T}},ut={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(F,T){if(T.length===0)return null;var P=T[0];if(P.type===20&&P.value==="none")return null;for(var _=[],re=T.filter(ho),ve=0;ve<re.length;ve++){var Pe=re[ve],ze=re[ve+1];if(Pe.type===20){var We=ze&&$n(ze)?ze.number:1;_.push({counter:Pe.value,increment:We})}}return _}},ht={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(F,T){if(T.length===0)return[];for(var P=[],_=T.filter(ho),re=0;re<_.length;re++){var ve=_[re],Pe=_[re+1];if(Ur(ve)&&ve.value!=="none"){var ze=Pe&&$n(Pe)?Pe.number:0;P.push({counter:ve.value,reset:ze})}}return P}},Vt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(F,T){return T.filter(Hn).map(function(P){return _e.parse(F,P)})}},qt={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(F,T){if(T.length===0)return null;var P=T[0];if(P.type===20&&P.value==="none")return null;var _=[],re=T.filter(Gs);if(re.length%2!==0)return null;for(var ve=0;ve<re.length;ve+=2){var Pe=re[ve].value,ze=re[ve+1].value;_.push({open:Pe,close:ze})}return _}},zt=function(F,T,P){if(!F)return"";var _=F[Math.min(T,F.length-1)];return _?P?_.open:_.close:""},vr={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(F,T){return T.length===1&&ra(T[0],"none")?[]:na(T).map(function(P){for(var _={color:255,offsetX:ms,offsetY:ms,blur:ms,spread:ms,inset:!1},re=0,ve=0;ve<P.length;ve++){var Pe=P[ve];ra(Pe,"inset")?_.inset=!0:$a(Pe)?(re===0?_.offsetX=Pe:re===1?_.offsetY=Pe:re===2?_.blur=Pe:_.spread=Pe,re++):_.color=as.parse(F,Pe)}return _})}},ur={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(F,T){var P=[0,1,2],_=[];return T.filter(Ur).forEach(function(re){switch(re.value){case"stroke":_.push(1);break;case"fill":_.push(0);break;case"markers":_.push(2);break}}),P.forEach(function(re){_.indexOf(re)===-1&&_.push(re)}),_}},_r={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Ar={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(F,T){return Hn(T)?T.number:0}},Sn=function(){function F(T,P){var _,re;this.animationDuration=Zt(T,Vt,P.animationDuration),this.backgroundClip=Zt(T,$o,P.backgroundClip),this.backgroundColor=Zt(T,Us,P.backgroundColor),this.backgroundImage=Zt(T,bu,P.backgroundImage),this.backgroundOrigin=Zt(T,ja,P.backgroundOrigin),this.backgroundPosition=Zt(T,po,P.backgroundPosition),this.backgroundRepeat=Zt(T,za,P.backgroundRepeat),this.backgroundSize=Zt(T,EA,P.backgroundSize),this.borderTopColor=Zt(T,Qf,P.borderTopColor),this.borderRightColor=Zt(T,TA,P.borderRightColor),this.borderBottomColor=Zt(T,Oc,P.borderBottomColor),this.borderLeftColor=Zt(T,Gl,P.borderLeftColor),this.borderTopLeftRadius=Zt(T,Hf,P.borderTopLeftRadius),this.borderTopRightRadius=Zt(T,xo,P.borderTopRightRadius),this.borderBottomRightRadius=Zt(T,qi,P.borderBottomRightRadius),this.borderBottomLeftRadius=Zt(T,ju,P.borderBottomLeftRadius),this.borderTopStyle=Zt(T,ql,P.borderTopStyle),this.borderRightStyle=Zt(T,Nu,P.borderRightStyle),this.borderBottomStyle=Zt(T,H0,P.borderBottomStyle),this.borderLeftStyle=Zt(T,FA,P.borderLeftStyle),this.borderTopWidth=Zt(T,fa,P.borderTopWidth),this.borderRightWidth=Zt(T,Ms,P.borderRightWidth),this.borderBottomWidth=Zt(T,Fn,P.borderBottomWidth),this.borderLeftWidth=Zt(T,Uc,P.borderLeftWidth),this.boxShadow=Zt(T,vr,P.boxShadow),this.color=Zt(T,yl,P.color),this.direction=Zt(T,um,P.direction),this.display=Zt(T,Cu,P.display),this.float=Zt(T,Yl,P.cssFloat),this.fontFamily=Zt(T,Ye,P.fontFamily),this.fontSize=Zt(T,ct,P.fontSize),this.fontStyle=Zt(T,pt,P.fontStyle),this.fontVariant=Zt(T,Nt,P.fontVariant),this.fontWeight=Zt(T,St,P.fontWeight),this.letterSpacing=Zt(T,ui,P.letterSpacing),this.lineBreak=Zt(T,K0,P.lineBreak),this.lineHeight=Zt(T,Td,P.lineHeight),this.listStyleImage=Zt(T,Na,P.listStyleImage),this.listStylePosition=Zt(T,Xl,P.listStylePosition),this.listStyleType=Zt(T,vl,P.listStyleType),this.marginTop=Zt(T,$f,P.marginTop),this.marginRight=Zt(T,Kf,P.marginRight),this.marginBottom=Zt(T,Fd,P.marginBottom),this.marginLeft=Zt(T,Vf,P.marginLeft),this.opacity=Zt(T,De,P.opacity);var ve=Zt(T,bl,P.overflow);this.overflowX=ve[0],this.overflowY=ve[ve.length>1?1:0],this.overflowWrap=Zt(T,ha,P.overflowWrap),this.paddingTop=Zt(T,zf,P.paddingTop),this.paddingRight=Zt(T,Ig,P.paddingRight),this.paddingBottom=Zt(T,V0,P.paddingBottom),this.paddingLeft=Zt(T,_g,P.paddingLeft),this.paintOrder=Zt(T,ur,P.paintOrder),this.position=Zt(T,dm,P.position),this.textAlign=Zt(T,ma,P.textAlign),this.textDecorationColor=Zt(T,Le,(_=P.textDecorationColor)!==null&&_!==void 0?_:P.color),this.textDecorationLine=Zt(T,He,(re=P.textDecorationLine)!==null&&re!==void 0?re:P.textDecoration),this.textShadow=Zt(T,IA,P.textShadow),this.textTransform=Zt(T,_A,P.textTransform),this.transform=Zt(T,Am,P.transform),this.transformOrigin=Zt(T,B,P.transformOrigin),this.visibility=Zt(T,M,P.visibility),this.webkitTextStrokeColor=Zt(T,_r,P.webkitTextStrokeColor),this.webkitTextStrokeWidth=Zt(T,Ar,P.webkitTextStrokeWidth),this.wordBreak=Zt(T,fe,P.wordBreak),this.zIndex=Zt(T,Te,P.zIndex)}return F.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},F.prototype.isTransparent=function(){return oi(this.backgroundColor)},F.prototype.isTransformed=function(){return this.transform!==null},F.prototype.isPositioned=function(){return this.position!==0},F.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},F.prototype.isFloating=function(){return this.float!==0},F.prototype.isInlineLevel=function(){return Rt(this.display,4)||Rt(this.display,33554432)||Rt(this.display,268435456)||Rt(this.display,536870912)||Rt(this.display,67108864)||Rt(this.display,134217728)},F}(),Pn=function(){function F(T,P){this.content=Zt(T,Pt,P.content),this.quotes=Zt(T,qt,P.quotes)}return F}(),nn=function(){function F(T,P){this.counterIncrement=Zt(T,ut,P.counterIncrement),this.counterReset=Zt(T,ht,P.counterReset)}return F}(),Zt=function(F,T,P){var _=new $r,re=P!==null&&typeof P<"u"?P.toString():T.initialValue;_.write(re);var ve=new fn(_.read());switch(T.type){case 2:var Pe=ve.parseComponentValue();return T.parse(F,Ur(Pe)?Pe.value:T.initialValue);case 0:return T.parse(F,ve.parseComponentValue());case 1:return T.parse(F,ve.parseComponentValues());case 4:return ve.parseComponentValue();case 3:switch(T.format){case"angle":return Sd.parse(F,ve.parseComponentValue());case"color":return as.parse(F,ve.parseComponentValue());case"image":return xl.parse(F,ve.parseComponentValue());case"length":var ze=ve.parseComponentValue();return $a(ze)?ze:ms;case"length-percentage":var We=ve.parseComponentValue();return Kn(We)?We:ms;case"time":return _e.parse(F,ve.parseComponentValue())}break}},Vn="data-html2canvas-debug",Dn=function(F){var T=F.getAttribute(Vn);switch(T){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Kr=function(F,T){var P=Dn(F);return P===1||T===P},hn=function(){function F(T,P){if(this.context=T,this.textNodes=[],this.elements=[],this.flags=0,Kr(P,3))debugger;this.styles=new Sn(T,window.getComputedStyle(P,null)),xa(P)&&(this.styles.animationDuration.some(function(_){return _>0})&&(P.style.animationDuration="0s"),this.styles.transform!==null&&(P.style.transform="none")),this.bounds=f(this.context,P),Kr(P,4)&&(this.flags|=16)}return F}(),Pr="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Mr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",un=typeof Uint8Array>"u"?[]:new Uint8Array(256),gn=0;gn<Mr.length;gn++)un[Mr.charCodeAt(gn)]=gn;for(var Ca=function(F){var T=F.length*.75,P=F.length,_,re=0,ve,Pe,ze,We;F[F.length-1]==="="&&(T--,F[F.length-2]==="="&&T--);var dt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(T):new Array(T),mt=Array.isArray(dt)?dt:new Uint8Array(dt);for(_=0;_<P;_+=4)ve=un[F.charCodeAt(_)],Pe=un[F.charCodeAt(_+1)],ze=un[F.charCodeAt(_+2)],We=un[F.charCodeAt(_+3)],mt[re++]=ve<<2|Pe>>4,mt[re++]=(Pe&15)<<4|ze>>2,mt[re++]=(ze&3)<<6|We&63;return dt},pa=function(F){for(var T=F.length,P=[],_=0;_<T;_+=2)P.push(F[_+1]<<8|F[_]);return P},qs=function(F){for(var T=F.length,P=[],_=0;_<T;_+=4)P.push(F[_+3]<<24|F[_+2]<<16|F[_+1]<<8|F[_]);return P},Xn=5,Rs=11,_i=2,On=Rs-Xn,Ys=65536>>Xn,Go=1<<Xn,wl=Go-1,Bu=1024>>Xn,Mc=Ys+Bu,gs=Mc,kA=32,Gf=gs+kA,di=65536>>Rs,Fs=1<<On,Eu=Fs-1,Zl=function(F,T,P){return F.slice?F.slice(T,P):new Uint16Array(Array.prototype.slice.call(F,T,P))},ki=function(F,T,P){return F.slice?F.slice(T,P):new Uint32Array(Array.prototype.slice.call(F,T,P))},Rc=function(F,T){var P=Ca(F),_=Array.isArray(P)?qs(P):new Uint32Array(P),re=Array.isArray(P)?pa(P):new Uint16Array(P),ve=24,Pe=Zl(re,ve/2,_[4]/2),ze=_[5]===2?Zl(re,(ve+_[4])/2):ki(_,Math.ceil((ve+_[4])/4));return new Pi(_[0],_[1],_[2],_[3],Pe,ze)},Pi=function(){function F(T,P,_,re,ve,Pe){this.initialValue=T,this.errorValue=P,this.highStart=_,this.highValueIndex=re,this.index=ve,this.data=Pe}return F.prototype.get=function(T){var P;if(T>=0){if(T<55296||T>56319&&T<=65535)return P=this.index[T>>Xn],P=(P<<_i)+(T&wl),this.data[P];if(T<=65535)return P=this.index[Ys+(T-55296>>Xn)],P=(P<<_i)+(T&wl),this.data[P];if(T<this.highStart)return P=Gf-di+(T>>Rs),P=this.index[P],P+=T>>Xn&Eu,P=this.index[P],P=(P<<_i)+(T&wl),this.data[P];if(T<=1114111)return this.data[this.highValueIndex]}return this.errorValue},F}(),Id="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_d=typeof Uint8Array>"u"?[]:new Uint8Array(256),Tu=0;Tu<Id.length;Tu++)_d[Id.charCodeAt(Tu)]=Tu;var PA=1,kd=2,Fu=3,Iu=4,hm=5,G0=7,Pd=8,Wo=9,mm=10,pm=11,gm=12,Wf=13,_u=14,DA=15,xm=function(F){for(var T=[],P=0,_=F.length;P<_;){var re=F.charCodeAt(P++);if(re>=55296&&re<=56319&&P<_){var ve=F.charCodeAt(P++);(ve&64512)===56320?T.push(((re&1023)<<10)+(ve&1023)+65536):(T.push(re),P--)}else T.push(re)}return T},OA=function(){for(var F=[],T=0;T<arguments.length;T++)F[T]=arguments[T];if(String.fromCodePoint)return String.fromCodePoint.apply(String,F);var P=F.length;if(!P)return"";for(var _=[],re=-1,ve="";++re<P;){var Pe=F[re];Pe<=65535?_.push(Pe):(Pe-=65536,_.push((Pe>>10)+55296,Pe%1024+56320)),(re+1===P||_.length>16384)&&(ve+=String.fromCharCode.apply(String,_),_.length=0)}return ve},qf=Rc(Pr),ka="×",Yf="÷",W0=function(F){return qf.get(F)},ec=function(F,T,P){var _=P-2,re=T[_],ve=T[P-1],Pe=T[P];if(ve===kd&&Pe===Fu)return ka;if(ve===kd||ve===Fu||ve===Iu||Pe===kd||Pe===Fu||Pe===Iu)return Yf;if(ve===Pd&&[Pd,Wo,pm,gm].indexOf(Pe)!==-1||(ve===pm||ve===Wo)&&(Pe===Wo||Pe===mm)||(ve===gm||ve===mm)&&Pe===mm||Pe===Wf||Pe===hm||Pe===G0||ve===PA)return ka;if(ve===Wf&&Pe===_u){for(;re===hm;)re=T[--_];if(re===_u)return ka}if(ve===DA&&Pe===DA){for(var ze=0;re===DA;)ze++,re=T[--_];if(ze%2===0)return ka}return Yf},LA=function(F){var T=xm(F),P=T.length,_=0,re=0,ve=T.map(W0);return{next:function(){if(_>=P)return{done:!0,value:null};for(var Pe=ka;_<P&&(Pe=ec(T,ve,++_))===ka;);if(Pe!==ka||_===P){var ze=OA.apply(null,T.slice(re,_));return re=_,{value:ze,done:!1}}return{done:!0,value:null}}}},Xf=function(F){for(var T=LA(F),P=[],_;!(_=T.next()).done;)_.value&&P.push(_.value.slice());return P},qo=function(F){var T=123;if(F.createRange){var P=F.createRange();if(P.getBoundingClientRect){var _=F.createElement("boundtest");_.style.height=T+"px",_.style.display="block",F.body.appendChild(_),P.selectNode(_);var re=P.getBoundingClientRect(),ve=Math.round(re.height);if(F.body.removeChild(_),ve===T)return!0}}return!1},Dd=function(F){var T=F.createElement("boundtest");T.style.width="50px",T.style.display="block",T.style.fontSize="12px",T.style.letterSpacing="0px",T.style.wordSpacing="0px",F.body.appendChild(T);var P=F.createRange();T.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var _=T.firstChild,re=m(_.data).map(function(We){return p(We)}),ve=0,Pe={},ze=re.every(function(We,dt){P.setStart(_,ve),P.setEnd(_,ve+We.length);var mt=P.getBoundingClientRect();ve+=We.length;var jt=mt.x>Pe.x||mt.y>Pe.y;return Pe=mt,dt===0?!0:jt});return F.body.removeChild(T),ze},ym=function(){return typeof new Image().crossOrigin<"u"},q0=function(){return typeof new XMLHttpRequest().responseType=="string"},vm=function(F){var T=new Image,P=F.createElement("canvas"),_=P.getContext("2d");if(!_)return!1;T.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{_.drawImage(T,0,0),P.toDataURL()}catch{return!1}return!0},Qc=function(F){return F[0]===0&&F[1]===255&&F[2]===0&&F[3]===255},Y0=function(F){var T=F.createElement("canvas"),P=100;T.width=P,T.height=P;var _=T.getContext("2d");if(!_)return Promise.reject(!1);_.fillStyle="rgb(0, 255, 0)",_.fillRect(0,0,P,P);var re=new Image,ve=T.toDataURL();re.src=ve;var Pe=UA(P,P,0,0,re);return _.fillStyle="red",_.fillRect(0,0,P,P),Jf(Pe).then(function(ze){_.drawImage(ze,0,0);var We=_.getImageData(0,0,P,P).data;_.fillStyle="red",_.fillRect(0,0,P,P);var dt=F.createElement("div");return dt.style.backgroundImage="url("+ve+")",dt.style.height=P+"px",Qc(We)?Jf(UA(P,P,0,0,dt)):Promise.reject(!1)}).then(function(ze){return _.drawImage(ze,0,0),Qc(_.getImageData(0,0,P,P).data)}).catch(function(){return!1})},UA=function(F,T,P,_,re){var ve="http://www.w3.org/2000/svg",Pe=document.createElementNS(ve,"svg"),ze=document.createElementNS(ve,"foreignObject");return Pe.setAttributeNS(null,"width",F.toString()),Pe.setAttributeNS(null,"height",T.toString()),ze.setAttributeNS(null,"width","100%"),ze.setAttributeNS(null,"height","100%"),ze.setAttributeNS(null,"x",P.toString()),ze.setAttributeNS(null,"y",_.toString()),ze.setAttributeNS(null,"externalResourcesRequired","true"),Pe.appendChild(ze),ze.appendChild(re),Pe},Jf=function(F){return new Promise(function(T,P){var _=new Image;_.onload=function(){return T(_)},_.onerror=P,_.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(F))})},ga={get SUPPORT_RANGE_BOUNDS(){var F=qo(document);return Object.defineProperty(ga,"SUPPORT_RANGE_BOUNDS",{value:F}),F},get SUPPORT_WORD_BREAKING(){var F=ga.SUPPORT_RANGE_BOUNDS&&Dd(document);return Object.defineProperty(ga,"SUPPORT_WORD_BREAKING",{value:F}),F},get SUPPORT_SVG_DRAWING(){var F=vm(document);return Object.defineProperty(ga,"SUPPORT_SVG_DRAWING",{value:F}),F},get SUPPORT_FOREIGNOBJECT_DRAWING(){var F=typeof Array.from=="function"&&typeof window.fetch=="function"?Y0(document):Promise.resolve(!1);return Object.defineProperty(ga,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:F}),F},get SUPPORT_CORS_IMAGES(){var F=ym();return Object.defineProperty(ga,"SUPPORT_CORS_IMAGES",{value:F}),F},get SUPPORT_RESPONSE_TYPE(){var F=q0();return Object.defineProperty(ga,"SUPPORT_RESPONSE_TYPE",{value:F}),F},get SUPPORT_CORS_XHR(){var F="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ga,"SUPPORT_CORS_XHR",{value:F}),F},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var F=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ga,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:F}),F}},Od=function(){function F(T,P){this.text=T,this.bounds=P}return F}(),ku=function(F,T,P,_){var re=tc(T,P),ve=[],Pe=0;return re.forEach(function(ze){if(P.textDecorationLine.length||ze.trim().length>0)if(ga.SUPPORT_RANGE_BOUNDS){var We=Ld(_,Pe,ze.length).getClientRects();if(We.length>1){var dt=Yo(ze),mt=0;dt.forEach(function(Ht){ve.push(new Od(Ht,u.fromDOMRectList(F,Ld(_,mt+Pe,Ht.length).getClientRects()))),mt+=Ht.length})}else ve.push(new Od(ze,u.fromDOMRectList(F,We)))}else{var jt=_.splitText(ze.length);ve.push(new Od(ze,Zf(F,_))),_=jt}else ga.SUPPORT_RANGE_BOUNDS||(_=_.splitText(ze.length));Pe+=ze.length}),ve},Zf=function(F,T){var P=T.ownerDocument;if(P){var _=P.createElement("html2canvaswrapper");_.appendChild(T.cloneNode(!0));var re=T.parentNode;if(re){re.replaceChild(_,T);var ve=f(F,_);return _.firstChild&&re.replaceChild(_.firstChild,_),ve}}return u.EMPTY},Ld=function(F,T,P){var _=F.ownerDocument;if(!_)throw new Error("Node has no owner document");var re=_.createRange();return re.setStart(F,T),re.setEnd(F,T+P),re},Yo=function(F){if(ga.SUPPORT_NATIVE_TEXT_SEGMENTATION){var T=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(T.segment(F)).map(function(P){return P.segment})}return Xf(F)},jl=function(F,T){if(ga.SUPPORT_NATIVE_TEXT_SEGMENTATION){var P=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(P.segment(F)).map(function(_){return _.segment})}return RA(F,T)},tc=function(F,T){return T.letterSpacing!==0?Yo(F):jl(F,T)},MA=[32,160,4961,65792,65793,4153,4241],RA=function(F,T){for(var P=nr(F,{lineBreak:T.lineBreak,wordBreak:T.overflowWrap==="break-word"?"break-word":T.wordBreak}),_=[],re,ve=function(){if(re.value){var Pe=re.value.slice(),ze=m(Pe),We="";ze.forEach(function(dt){MA.indexOf(dt)===-1?We+=p(dt):(We.length&&_.push(We),_.push(p(dt)),We="")}),We.length&&_.push(We)}};!(re=P.next()).done;)ve();return _},bm=function(){function F(T,P,_){this.text=X0(P.data,_.textTransform),this.textBounds=ku(T,this.text,_,P)}return F}(),X0=function(F,T){switch(T){case 1:return F.toLowerCase();case 3:return F.replace(wm,jm);case 2:return F.toUpperCase();default:return F}},wm=/(^|\s|:|-|\(|\))([a-z])/g,jm=function(F,T,P){return F.length>0?T+P.toUpperCase():F},Pg=function(F){a(T,F);function T(P,_){var re=F.call(this,P,_)||this;return re.src=_.currentSrc||_.src,re.intrinsicWidth=_.naturalWidth,re.intrinsicHeight=_.naturalHeight,re.context.cache.addImage(re.src),re}return T}(hn),eh=function(F){a(T,F);function T(P,_){var re=F.call(this,P,_)||this;return re.canvas=_,re.intrinsicWidth=_.width,re.intrinsicHeight=_.height,re}return T}(hn),J0=function(F){a(T,F);function T(P,_){var re=F.call(this,P,_)||this,ve=new XMLSerializer,Pe=f(P,_);return _.setAttribute("width",Pe.width+"px"),_.setAttribute("height",Pe.height+"px"),re.svg="data:image/svg+xml,"+encodeURIComponent(ve.serializeToString(_)),re.intrinsicWidth=_.width.baseVal.value,re.intrinsicHeight=_.height.baseVal.value,re.context.cache.addImage(re.svg),re}return T}(hn),Nm=function(F){a(T,F);function T(P,_){var re=F.call(this,P,_)||this;return re.value=_.value,re}return T}(hn),Z0=function(F){a(T,F);function T(P,_){var re=F.call(this,P,_)||this;return re.start=_.start,re.reversed=typeof _.reversed=="boolean"&&_.reversed===!0,re}return T}(hn),Tv=[{type:15,flags:0,unit:"px",number:3}],ep=[{type:16,flags:0,number:50}],Fv=function(F){return F.width>F.height?new u(F.left+(F.width-F.height)/2,F.top,F.height,F.height):F.width<F.height?new u(F.left,F.top+(F.height-F.width)/2,F.width,F.width):F},Iv=function(F){var T=F.type===Cm?new Array(F.value.length+1).join("•"):F.value;return T.length===0?F.placeholder||"":T},tp="checkbox",Pu="radio",Cm="password",Sm=707406591,QA=function(F){a(T,F);function T(P,_){var re=F.call(this,P,_)||this;switch(re.type=_.type.toLowerCase(),re.checked=_.checked,re.value=Iv(_),(re.type===tp||re.type===Pu)&&(re.styles.backgroundColor=3739148031,re.styles.borderTopColor=re.styles.borderRightColor=re.styles.borderBottomColor=re.styles.borderLeftColor=2779096575,re.styles.borderTopWidth=re.styles.borderRightWidth=re.styles.borderBottomWidth=re.styles.borderLeftWidth=1,re.styles.borderTopStyle=re.styles.borderRightStyle=re.styles.borderBottomStyle=re.styles.borderLeftStyle=1,re.styles.backgroundClip=[0],re.styles.backgroundOrigin=[0],re.bounds=Fv(re.bounds)),re.type){case tp:re.styles.borderTopRightRadius=re.styles.borderTopLeftRadius=re.styles.borderBottomRightRadius=re.styles.borderBottomLeftRadius=Tv;break;case Pu:re.styles.borderTopRightRadius=re.styles.borderTopLeftRadius=re.styles.borderBottomRightRadius=re.styles.borderBottomLeftRadius=ep;break}return re}return T}(hn),Bm=function(F){a(T,F);function T(P,_){var re=F.call(this,P,_)||this,ve=_.options[_.selectedIndex||0];return re.value=ve&&ve.text||"",re}return T}(hn),Dg=function(F){a(T,F);function T(P,_){var re=F.call(this,P,_)||this;return re.value=_.value,re}return T}(hn),Og=function(F){a(T,F);function T(P,_){var re=F.call(this,P,_)||this;re.src=_.src,re.width=parseInt(_.width,10)||0,re.height=parseInt(_.height,10)||0,re.backgroundColor=re.styles.backgroundColor;try{if(_.contentWindow&&_.contentWindow.document&&_.contentWindow.document.documentElement){re.tree=rc(P,_.contentWindow.document.documentElement);var ve=_.contentWindow.document.documentElement?li(P,getComputedStyle(_.contentWindow.document.documentElement).backgroundColor):wa.TRANSPARENT,Pe=_.contentWindow.document.body?li(P,getComputedStyle(_.contentWindow.document.body).backgroundColor):wa.TRANSPARENT;re.backgroundColor=oi(ve)?oi(Pe)?re.styles.backgroundColor:Pe:ve}}catch{}return re}return T}(hn),th=["OL","UL","MENU"],Em=function(F,T,P,_){for(var re=T.firstChild,ve=void 0;re;re=ve)if(ve=re.nextSibling,Du(re)&&re.data.trim().length>0)P.textNodes.push(new bm(F,re,P.styles));else if(vo(re))if(Dv(re)&&re.assignedNodes)re.assignedNodes().forEach(function(ze){return Em(F,ze,P,_)});else{var Pe=Xo(F,re);Pe.styles.isVisible()&&(Ud(re,Pe,_)?Pe.flags|=4:_v(Pe.styles)&&(Pe.flags|=2),th.indexOf(re.tagName)!==-1&&(Pe.flags|=8),P.elements.push(Pe),re.slot,re.shadowRoot?Em(F,re.shadowRoot,Pe,_):!Fm(re)&&!Md(re)&&!Im(re)&&Em(F,re,Pe,_))}},Xo=function(F,T){return rp(T)?new Pg(F,T):Mg(T)?new eh(F,T):Md(T)?new J0(F,T):Lg(T)?new Nm(F,T):Ug(T)?new Z0(F,T):kv(T)?new QA(F,T):Im(T)?new Bm(F,T):Fm(T)?new Dg(F,T):Tm(T)?new Og(F,T):new hn(F,T)},rc=function(F,T){var P=Xo(F,T);return P.flags|=4,Em(F,T,P,P),P},Ud=function(F,T,P){return T.styles.isPositionedWithZIndex()||T.styles.opacity<1||T.styles.isTransformed()||rh(F)&&P.styles.isTransparent()},_v=function(F){return F.isPositioned()||F.isFloating()},Du=function(F){return F.nodeType===Node.TEXT_NODE},vo=function(F){return F.nodeType===Node.ELEMENT_NODE},xa=function(F){return vo(F)&&typeof F.style<"u"&&!HA(F)},HA=function(F){return typeof F.className=="object"},Lg=function(F){return F.tagName==="LI"},Ug=function(F){return F.tagName==="OL"},kv=function(F){return F.tagName==="INPUT"},Pv=function(F){return F.tagName==="HTML"},Md=function(F){return F.tagName==="svg"},rh=function(F){return F.tagName==="BODY"},Mg=function(F){return F.tagName==="CANVAS"},Rg=function(F){return F.tagName==="VIDEO"},rp=function(F){return F.tagName==="IMG"},Tm=function(F){return F.tagName==="IFRAME"},Qg=function(F){return F.tagName==="STYLE"},Hg=function(F){return F.tagName==="SCRIPT"},Fm=function(F){return F.tagName==="TEXTAREA"},Im=function(F){return F.tagName==="SELECT"},Dv=function(F){return F.tagName==="SLOT"},$g=function(F){return F.tagName.indexOf("-")>0},Wa=function(){function F(){this.counters={}}return F.prototype.getCounterValue=function(T){var P=this.counters[T];return P&&P.length?P[P.length-1]:1},F.prototype.getCounterValues=function(T){var P=this.counters[T];return P||[]},F.prototype.pop=function(T){var P=this;T.forEach(function(_){return P.counters[_].pop()})},F.prototype.parse=function(T){var P=this,_=T.counterIncrement,re=T.counterReset,ve=!0;_!==null&&_.forEach(function(ze){var We=P.counters[ze.counter];We&&ze.increment!==0&&(ve=!1,We.length||We.push(1),We[Math.max(0,We.length-1)]+=ze.increment)});var Pe=[];return ve&&re.forEach(function(ze){var We=P.counters[ze.counter];Pe.push(ze.counter),We||(We=P.counters[ze.counter]=[]),We.push(ze.reset)}),Pe},F}(),qa={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Kg={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Ov={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},Lv={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},$A=function(F,T,P,_,re,ve){return F<T||F>P?zA(F,re,ve.length>0):_.integers.reduce(function(Pe,ze,We){for(;F>=ze;)F-=ze,Pe+=_.values[We];return Pe},"")+ve},Vg=function(F,T,P,_){var re="";do P||F--,re=_(F)+re,F/=T;while(F*T>=T);return re},Qs=function(F,T,P,_,re){var ve=P-T+1;return(F<0?"-":"")+(Vg(Math.abs(F),ve,_,function(Pe){return p(Math.floor(Pe%ve)+T)})+re)},Ou=function(F,T,P){P===void 0&&(P=". ");var _=T.length;return Vg(Math.abs(F),_,!1,function(re){return T[Math.floor(re%_)]})+P},KA=1,Lu=2,Uu=4,VA=8,nc=function(F,T,P,_,re,ve){if(F<-9999||F>9999)return zA(F,4,re.length>0);var Pe=Math.abs(F),ze=re;if(Pe===0)return T[0]+ze;for(var We=0;Pe>0&&We<=4;We++){var dt=Pe%10;dt===0&&Rt(ve,KA)&&ze!==""?ze=T[dt]+ze:dt>1||dt===1&&We===0||dt===1&&We===1&&Rt(ve,Lu)||dt===1&&We===1&&Rt(ve,Uu)&&F>100||dt===1&&We>1&&Rt(ve,VA)?ze=T[dt]+(We>0?P[We-1]:"")+ze:dt===1&&We>0&&(ze=P[We-1]+ze),Pe=Math.floor(Pe/10)}return(F<0?_:"")+ze},np="十百千萬",zg="拾佰仟萬",sp="マイナス",nh="마이너스",zA=function(F,T,P){var _=P?". ":"",re=P?"、":"",ve=P?", ":"",Pe=P?" ":"";switch(T){case 0:return"•"+Pe;case 1:return"◦"+Pe;case 2:return"◾"+Pe;case 5:var ze=Qs(F,48,57,!0,_);return ze.length<4?"0"+ze:ze;case 4:return Ou(F,"〇一二三四五六七八九",re);case 6:return $A(F,1,3999,qa,3,_).toLowerCase();case 7:return $A(F,1,3999,qa,3,_);case 8:return Qs(F,945,969,!1,_);case 9:return Qs(F,97,122,!1,_);case 10:return Qs(F,65,90,!1,_);case 11:return Qs(F,1632,1641,!0,_);case 12:case 49:return $A(F,1,9999,Kg,3,_);case 35:return $A(F,1,9999,Kg,3,_).toLowerCase();case 13:return Qs(F,2534,2543,!0,_);case 14:case 30:return Qs(F,6112,6121,!0,_);case 15:return Ou(F,"子丑寅卯辰巳午未申酉戌亥",re);case 16:return Ou(F,"甲乙丙丁戊己庚辛壬癸",re);case 17:case 48:return nc(F,"零一二三四五六七八九",np,"負",re,Lu|Uu|VA);case 47:return nc(F,"零壹貳參肆伍陸柒捌玖",zg,"負",re,KA|Lu|Uu|VA);case 42:return nc(F,"零一二三四五六七八九",np,"负",re,Lu|Uu|VA);case 41:return nc(F,"零壹贰叁肆伍陆柒捌玖",zg,"负",re,KA|Lu|Uu|VA);case 26:return nc(F,"〇一二三四五六七八九","十百千万",sp,re,0);case 25:return nc(F,"零壱弐参四伍六七八九","拾百千万",sp,re,KA|Lu|Uu);case 31:return nc(F,"영일이삼사오육칠팔구","십백천만",nh,ve,KA|Lu|Uu);case 33:return nc(F,"零一二三四五六七八九","十百千萬",nh,ve,0);case 32:return nc(F,"零壹貳參四五六七八九","拾百千",nh,ve,KA|Lu|Uu);case 18:return Qs(F,2406,2415,!0,_);case 20:return $A(F,1,19999,Lv,3,_);case 21:return Qs(F,2790,2799,!0,_);case 22:return Qs(F,2662,2671,!0,_);case 22:return $A(F,1,10999,Ov,3,_);case 23:return Ou(F,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Ou(F,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Qs(F,3302,3311,!0,_);case 28:return Ou(F,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",re);case 29:return Ou(F,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",re);case 34:return Qs(F,3792,3801,!0,_);case 37:return Qs(F,6160,6169,!0,_);case 38:return Qs(F,4160,4169,!0,_);case 39:return Qs(F,2918,2927,!0,_);case 40:return Qs(F,1776,1785,!0,_);case 43:return Qs(F,3046,3055,!0,_);case 44:return Qs(F,3174,3183,!0,_);case 45:return Qs(F,3664,3673,!0,_);case 46:return Qs(F,3872,3881,!0,_);case 3:default:return Qs(F,48,57,!0,_)}},Gg="data-html2canvas-ignore",ap=function(){function F(T,P,_){if(this.context=T,this.options=_,this.scrolledElements=[],this.referenceElement=P,this.counters=new Wa,this.quoteDepth=0,!P.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(P.ownerDocument.documentElement,!1)}return F.prototype.toIFrame=function(T,P){var _=this,re=Mu(T,P);if(!re.contentWindow)return Promise.reject("Unable to find iframe window");var ve=T.defaultView.pageXOffset,Pe=T.defaultView.pageYOffset,ze=re.contentWindow,We=ze.document,dt=Uv(re).then(function(){return o(_,void 0,void 0,function(){var mt,jt;return l(this,function(Ht){switch(Ht.label){case 0:return this.scrolledElements.forEach(Xs),ze&&(ze.scrollTo(P.left,P.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(ze.scrollY!==P.top||ze.scrollX!==P.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(ze.scrollX-P.left,ze.scrollY-P.top,0,0))),mt=this.options.onclone,jt=this.clonedReferenceElement,typeof jt>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:We.fonts&&We.fonts.ready?[4,We.fonts.ready]:[3,2];case 1:Ht.sent(),Ht.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Uw(We)]:[3,4];case 3:Ht.sent(),Ht.label=4;case 4:return typeof mt=="function"?[2,Promise.resolve().then(function(){return mt(We,jt)}).then(function(){return re})]:[2,re]}})})});return We.open(),We.write(op(document.doctype)+"<html></html>"),_m(this.referenceElement.ownerDocument,ve,Pe),We.replaceChild(We.adoptNode(this.documentElement),We.documentElement),We.close(),dt},F.prototype.createElementClone=function(T){if(Kr(T,2))debugger;if(Mg(T))return this.createCanvasClone(T);if(Rg(T))return this.createVideoClone(T);if(Qg(T))return this.createStyleClone(T);var P=T.cloneNode(!1);return rp(P)&&(rp(T)&&T.currentSrc&&T.currentSrc!==T.src&&(P.src=T.currentSrc,P.srcset=""),P.loading==="lazy"&&(P.loading="eager")),$g(P)?this.createCustomElementClone(P):P},F.prototype.createCustomElementClone=function(T){var P=document.createElement("html2canvascustomelement");return ip(T.style,P),P},F.prototype.createStyleClone=function(T){try{var P=T.sheet;if(P&&P.cssRules){var _=[].slice.call(P.cssRules,0).reduce(function(ve,Pe){return Pe&&typeof Pe.cssText=="string"?ve+Pe.cssText:ve},""),re=T.cloneNode(!1);return re.textContent=_,re}}catch(ve){if(this.context.logger.error("Unable to access cssRules property",ve),ve.name!=="SecurityError")throw ve}return T.cloneNode(!1)},F.prototype.createCanvasClone=function(T){var P;if(this.options.inlineImages&&T.ownerDocument){var _=T.ownerDocument.createElement("img");try{return _.src=T.toDataURL(),_}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",T)}}var re=T.cloneNode(!1);try{re.width=T.width,re.height=T.height;var ve=T.getContext("2d"),Pe=re.getContext("2d");if(Pe)if(!this.options.allowTaint&&ve)Pe.putImageData(ve.getImageData(0,0,T.width,T.height),0,0);else{var ze=(P=T.getContext("webgl2"))!==null&&P!==void 0?P:T.getContext("webgl");if(ze){var We=ze.getContextAttributes();We?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",T)}Pe.drawImage(T,0,0)}return re}catch{this.context.logger.info("Unable to clone canvas as it is tainted",T)}return re},F.prototype.createVideoClone=function(T){var P=T.ownerDocument.createElement("canvas");P.width=T.offsetWidth,P.height=T.offsetHeight;var _=P.getContext("2d");try{return _&&(_.drawImage(T,0,0,P.width,P.height),this.options.allowTaint||_.getImageData(0,0,P.width,P.height)),P}catch{this.context.logger.info("Unable to clone video as it is tainted",T)}var re=T.ownerDocument.createElement("canvas");return re.width=T.offsetWidth,re.height=T.offsetHeight,re},F.prototype.appendChildNode=function(T,P,_){(!vo(P)||!Hg(P)&&!P.hasAttribute(Gg)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(P)))&&(!this.options.copyStyles||!vo(P)||!Qg(P))&&T.appendChild(this.cloneNode(P,_))},F.prototype.cloneChildNodes=function(T,P,_){for(var re=this,ve=T.shadowRoot?T.shadowRoot.firstChild:T.firstChild;ve;ve=ve.nextSibling)if(vo(ve)&&Dv(ve)&&typeof ve.assignedNodes=="function"){var Pe=ve.assignedNodes();Pe.length&&Pe.forEach(function(ze){return re.appendChildNode(P,ze,_)})}else this.appendChildNode(P,ve,_)},F.prototype.cloneNode=function(T,P){if(Du(T))return document.createTextNode(T.data);if(!T.ownerDocument)return T.cloneNode(!1);var _=T.ownerDocument.defaultView;if(_&&vo(T)&&(xa(T)||HA(T))){var re=this.createElementClone(T);re.style.transitionProperty="none";var ve=_.getComputedStyle(T),Pe=_.getComputedStyle(T,":before"),ze=_.getComputedStyle(T,":after");this.referenceElement===T&&xa(re)&&(this.clonedReferenceElement=re),rh(re)&&Mv(re);var We=this.counters.parse(new nn(this.context,ve)),dt=this.resolvePseudoContent(T,re,Pe,sh.BEFORE);$g(T)&&(P=!0),Rg(T)||this.cloneChildNodes(T,re,P),dt&&re.insertBefore(dt,re.firstChild);var mt=this.resolvePseudoContent(T,re,ze,sh.AFTER);return mt&&re.appendChild(mt),this.counters.pop(We),(ve&&(this.options.copyStyles||HA(T))&&!Tm(T)||P)&&ip(ve,re),(T.scrollTop!==0||T.scrollLeft!==0)&&this.scrolledElements.push([re,T.scrollLeft,T.scrollTop]),(Fm(T)||Im(T))&&(Fm(re)||Im(re))&&(re.value=T.value),re}return T.cloneNode(!1)},F.prototype.resolvePseudoContent=function(T,P,_,re){var ve=this;if(_){var Pe=_.content,ze=P.ownerDocument;if(!(!ze||!Pe||Pe==="none"||Pe==="-moz-alt-content"||_.display==="none")){this.counters.parse(new nn(this.context,_));var We=new Pn(this.context,_),dt=ze.createElement("html2canvaspseudoelement");ip(_,dt),We.content.forEach(function(jt){if(jt.type===0)dt.appendChild(ze.createTextNode(jt.value));else if(jt.type===22){var Ht=ze.createElement("img");Ht.src=jt.value,Ht.style.opacity="1",dt.appendChild(Ht)}else if(jt.type===18){if(jt.name==="attr"){var fr=jt.values.filter(Ur);fr.length&&dt.appendChild(ze.createTextNode(T.getAttribute(fr[0].value)||""))}else if(jt.name==="counter"){var lr=jt.values.filter(ba),cr=lr[0],tn=lr[1];if(cr&&Ur(cr)){var Br=ve.counters.getCounterValue(cr.value),Nr=tn&&Ur(tn)?vl.parse(ve.context,tn.value):3;dt.appendChild(ze.createTextNode(zA(Br,Nr,!1)))}}else if(jt.name==="counters"){var dn=jt.values.filter(ba),cr=dn[0],Zr=dn[1],tn=dn[2];if(cr&&Ur(cr)){var Qr=ve.counters.getCounterValues(cr.value),gr=tn&&Ur(tn)?vl.parse(ve.context,tn.value):3,bn=Zr&&Zr.type===0?Zr.value:"",wn=Qr.map(function(Oi){return zA(Oi,gr,!1)}).join(bn);dt.appendChild(ze.createTextNode(wn))}}}else if(jt.type===20)switch(jt.value){case"open-quote":dt.appendChild(ze.createTextNode(zt(We.quotes,ve.quoteDepth++,!0)));break;case"close-quote":dt.appendChild(ze.createTextNode(zt(We.quotes,--ve.quoteDepth,!1)));break;default:dt.appendChild(ze.createTextNode(jt.value))}}),dt.className=lp+" "+GA;var mt=re===sh.BEFORE?" "+lp:" "+GA;return HA(P)?P.className.baseValue+=mt:P.className+=mt,dt}}},F.destroy=function(T){return T.parentNode?(T.parentNode.removeChild(T),!0):!1},F}(),sh;(function(F){F[F.BEFORE=0]="BEFORE",F[F.AFTER=1]="AFTER"})(sh||(sh={}));var Mu=function(F,T){var P=F.createElement("iframe");return P.className="html2canvas-container",P.style.visibility="hidden",P.style.position="fixed",P.style.left="-10000px",P.style.top="0px",P.style.border="0",P.width=T.width.toString(),P.height=T.height.toString(),P.scrolling="no",P.setAttribute(Gg,"true"),F.body.appendChild(P),P},Wg=function(F){return new Promise(function(T){if(F.complete){T();return}if(!F.src){T();return}F.onload=T,F.onerror=T})},Uw=function(F){return Promise.all([].slice.call(F.images,0).map(Wg))},Uv=function(F){return new Promise(function(T,P){var _=F.contentWindow;if(!_)return P("No window assigned for iframe");var re=_.document;_.onload=F.onload=function(){_.onload=F.onload=null;var ve=setInterval(function(){re.body.childNodes.length>0&&re.readyState==="complete"&&(clearInterval(ve),T(F))},50)}})},Ru=["all","d","content"],ip=function(F,T){for(var P=F.length-1;P>=0;P--){var _=F.item(P);Ru.indexOf(_)===-1&&T.style.setProperty(_,F.getPropertyValue(_))}return T},op=function(F){var T="";return F&&(T+="<!DOCTYPE ",F.name&&(T+=F.name),F.internalSubset&&(T+=F.internalSubset),F.publicId&&(T+='"'+F.publicId+'"'),F.systemId&&(T+='"'+F.systemId+'"'),T+=">"),T},_m=function(F,T,P){F&&F.defaultView&&(T!==F.defaultView.pageXOffset||P!==F.defaultView.pageYOffset)&&F.defaultView.scrollTo(T,P)},Xs=function(F){var T=F[0],P=F[1],_=F[2];T.scrollLeft=P,T.scrollTop=_},Mw=":before",Rw=":after",lp="___html2canvas___pseudoelement_before",GA="___html2canvas___pseudoelement_after",Qu=`{
    content: "" !important;
    display: none !important;
}`,Mv=function(F){Rv(F,"."+lp+Mw+Qu+`
         .`+GA+Rw+Qu)},Rv=function(F,T){var P=F.ownerDocument;if(P){var _=P.createElement("style");_.textContent=T,F.appendChild(_)}},ah=function(){function F(){}return F.getOrigin=function(T){var P=F._link;return P?(P.href=T,P.href=P.href,P.protocol+P.hostname+P.port):"about:blank"},F.isSameOrigin=function(T){return F.getOrigin(T)===F._origin},F.setContext=function(T){F._link=T.document.createElement("a"),F._origin=F.getOrigin(T.location.href)},F._origin="about:blank",F}(),Hc=function(){function F(T,P){this.context=T,this._options=P,this._cache={}}return F.prototype.addImage=function(T){var P=Promise.resolve();return this.has(T)||(up(T)||Yg(T))&&(this._cache[T]=this.loadImage(T)).catch(function(){}),P},F.prototype.match=function(T){return this._cache[T]},F.prototype.loadImage=function(T){return o(this,void 0,void 0,function(){var P,_,re,ve,Pe=this;return l(this,function(ze){switch(ze.label){case 0:return P=ah.isSameOrigin(T),_=!km(T)&&this._options.useCORS===!0&&ga.SUPPORT_CORS_IMAGES&&!P,re=!km(T)&&!P&&!up(T)&&typeof this._options.proxy=="string"&&ga.SUPPORT_CORS_XHR&&!_,!P&&this._options.allowTaint===!1&&!km(T)&&!up(T)&&!re&&!_?[2]:(ve=T,re?[4,this.proxy(ve)]:[3,2]);case 1:ve=ze.sent(),ze.label=2;case 2:return this.context.logger.debug("Added image "+T.substring(0,256)),[4,new Promise(function(We,dt){var mt=new Image;mt.onload=function(){return We(mt)},mt.onerror=dt,(cp(ve)||_)&&(mt.crossOrigin="anonymous"),mt.src=ve,mt.complete===!0&&setTimeout(function(){return We(mt)},500),Pe._options.imageTimeout>0&&setTimeout(function(){return dt("Timed out ("+Pe._options.imageTimeout+"ms) loading image")},Pe._options.imageTimeout)})];case 3:return[2,ze.sent()]}})})},F.prototype.has=function(T){return typeof this._cache[T]<"u"},F.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},F.prototype.proxy=function(T){var P=this,_=this._options.proxy;if(!_)throw new Error("No proxy defined");var re=T.substring(0,256);return new Promise(function(ve,Pe){var ze=ga.SUPPORT_RESPONSE_TYPE?"blob":"text",We=new XMLHttpRequest;We.onload=function(){if(We.status===200)if(ze==="text")ve(We.response);else{var jt=new FileReader;jt.addEventListener("load",function(){return ve(jt.result)},!1),jt.addEventListener("error",function(Ht){return Pe(Ht)},!1),jt.readAsDataURL(We.response)}else Pe("Failed to proxy resource "+re+" with status code "+We.status)},We.onerror=Pe;var dt=_.indexOf("?")>-1?"&":"?";if(We.open("GET",""+_+dt+"url="+encodeURIComponent(T)+"&responseType="+ze),ze!=="text"&&We instanceof XMLHttpRequest&&(We.responseType=ze),P._options.imageTimeout){var mt=P._options.imageTimeout;We.timeout=mt,We.ontimeout=function(){return Pe("Timed out ("+mt+"ms) proxying "+re)}}We.send()})},F}(),Qv=/^data:image\/svg\+xml/i,qg=/^data:image\/.*;base64,/i,Hv=/^data:image\/.*/i,Yg=function(F){return ga.SUPPORT_SVG_DRAWING||!Hu(F)},km=function(F){return Hv.test(F)},cp=function(F){return qg.test(F)},up=function(F){return F.substr(0,4)==="blob"},Hu=function(F){return F.substr(-3).toLowerCase()==="svg"||Qv.test(F)},or=function(){function F(T,P){this.type=0,this.x=T,this.y=P}return F.prototype.add=function(T,P){return new F(this.x+T,this.y+P)},F}(),Rd=function(F,T,P){return new or(F.x+(T.x-F.x)*P,F.y+(T.y-F.y)*P)},Pm=function(){function F(T,P,_,re){this.type=1,this.start=T,this.startControl=P,this.endControl=_,this.end=re}return F.prototype.subdivide=function(T,P){var _=Rd(this.start,this.startControl,T),re=Rd(this.startControl,this.endControl,T),ve=Rd(this.endControl,this.end,T),Pe=Rd(_,re,T),ze=Rd(re,ve,T),We=Rd(Pe,ze,T);return P?new F(this.start,_,Pe,We):new F(We,ze,ve,this.end)},F.prototype.add=function(T,P){return new F(this.start.add(T,P),this.startControl.add(T,P),this.endControl.add(T,P),this.end.add(T,P))},F.prototype.reverse=function(){return new F(this.end,this.endControl,this.startControl,this.start)},F}(),Jn=function(F){return F.type===1},Qw=function(){function F(T){var P=T.styles,_=T.bounds,re=Bs(P.borderTopLeftRadius,_.width,_.height),ve=re[0],Pe=re[1],ze=Bs(P.borderTopRightRadius,_.width,_.height),We=ze[0],dt=ze[1],mt=Bs(P.borderBottomRightRadius,_.width,_.height),jt=mt[0],Ht=mt[1],fr=Bs(P.borderBottomLeftRadius,_.width,_.height),lr=fr[0],cr=fr[1],tn=[];tn.push((ve+We)/_.width),tn.push((lr+jt)/_.width),tn.push((Pe+cr)/_.height),tn.push((dt+Ht)/_.height);var Br=Math.max.apply(Math,tn);Br>1&&(ve/=Br,Pe/=Br,We/=Br,dt/=Br,jt/=Br,Ht/=Br,lr/=Br,cr/=Br);var Nr=_.width-We,dn=_.height-Ht,Zr=_.width-jt,Qr=_.height-cr,gr=P.borderTopWidth,bn=P.borderRightWidth,wn=P.borderBottomWidth,Gr=P.borderLeftWidth,ia=vn(P.paddingTop,T.bounds.width),Oi=vn(P.paddingRight,T.bounds.width),el=vn(P.paddingBottom,T.bounds.width),rs=vn(P.paddingLeft,T.bounds.width);this.topLeftBorderDoubleOuterBox=ve>0||Pe>0?Is(_.left+Gr/3,_.top+gr/3,ve-Gr/3,Pe-gr/3,Qn.TOP_LEFT):new or(_.left+Gr/3,_.top+gr/3),this.topRightBorderDoubleOuterBox=ve>0||Pe>0?Is(_.left+Nr,_.top+gr/3,We-bn/3,dt-gr/3,Qn.TOP_RIGHT):new or(_.left+_.width-bn/3,_.top+gr/3),this.bottomRightBorderDoubleOuterBox=jt>0||Ht>0?Is(_.left+Zr,_.top+dn,jt-bn/3,Ht-wn/3,Qn.BOTTOM_RIGHT):new or(_.left+_.width-bn/3,_.top+_.height-wn/3),this.bottomLeftBorderDoubleOuterBox=lr>0||cr>0?Is(_.left+Gr/3,_.top+Qr,lr-Gr/3,cr-wn/3,Qn.BOTTOM_LEFT):new or(_.left+Gr/3,_.top+_.height-wn/3),this.topLeftBorderDoubleInnerBox=ve>0||Pe>0?Is(_.left+Gr*2/3,_.top+gr*2/3,ve-Gr*2/3,Pe-gr*2/3,Qn.TOP_LEFT):new or(_.left+Gr*2/3,_.top+gr*2/3),this.topRightBorderDoubleInnerBox=ve>0||Pe>0?Is(_.left+Nr,_.top+gr*2/3,We-bn*2/3,dt-gr*2/3,Qn.TOP_RIGHT):new or(_.left+_.width-bn*2/3,_.top+gr*2/3),this.bottomRightBorderDoubleInnerBox=jt>0||Ht>0?Is(_.left+Zr,_.top+dn,jt-bn*2/3,Ht-wn*2/3,Qn.BOTTOM_RIGHT):new or(_.left+_.width-bn*2/3,_.top+_.height-wn*2/3),this.bottomLeftBorderDoubleInnerBox=lr>0||cr>0?Is(_.left+Gr*2/3,_.top+Qr,lr-Gr*2/3,cr-wn*2/3,Qn.BOTTOM_LEFT):new or(_.left+Gr*2/3,_.top+_.height-wn*2/3),this.topLeftBorderStroke=ve>0||Pe>0?Is(_.left+Gr/2,_.top+gr/2,ve-Gr/2,Pe-gr/2,Qn.TOP_LEFT):new or(_.left+Gr/2,_.top+gr/2),this.topRightBorderStroke=ve>0||Pe>0?Is(_.left+Nr,_.top+gr/2,We-bn/2,dt-gr/2,Qn.TOP_RIGHT):new or(_.left+_.width-bn/2,_.top+gr/2),this.bottomRightBorderStroke=jt>0||Ht>0?Is(_.left+Zr,_.top+dn,jt-bn/2,Ht-wn/2,Qn.BOTTOM_RIGHT):new or(_.left+_.width-bn/2,_.top+_.height-wn/2),this.bottomLeftBorderStroke=lr>0||cr>0?Is(_.left+Gr/2,_.top+Qr,lr-Gr/2,cr-wn/2,Qn.BOTTOM_LEFT):new or(_.left+Gr/2,_.top+_.height-wn/2),this.topLeftBorderBox=ve>0||Pe>0?Is(_.left,_.top,ve,Pe,Qn.TOP_LEFT):new or(_.left,_.top),this.topRightBorderBox=We>0||dt>0?Is(_.left+Nr,_.top,We,dt,Qn.TOP_RIGHT):new or(_.left+_.width,_.top),this.bottomRightBorderBox=jt>0||Ht>0?Is(_.left+Zr,_.top+dn,jt,Ht,Qn.BOTTOM_RIGHT):new or(_.left+_.width,_.top+_.height),this.bottomLeftBorderBox=lr>0||cr>0?Is(_.left,_.top+Qr,lr,cr,Qn.BOTTOM_LEFT):new or(_.left,_.top+_.height),this.topLeftPaddingBox=ve>0||Pe>0?Is(_.left+Gr,_.top+gr,Math.max(0,ve-Gr),Math.max(0,Pe-gr),Qn.TOP_LEFT):new or(_.left+Gr,_.top+gr),this.topRightPaddingBox=We>0||dt>0?Is(_.left+Math.min(Nr,_.width-bn),_.top+gr,Nr>_.width+bn?0:Math.max(0,We-bn),Math.max(0,dt-gr),Qn.TOP_RIGHT):new or(_.left+_.width-bn,_.top+gr),this.bottomRightPaddingBox=jt>0||Ht>0?Is(_.left+Math.min(Zr,_.width-Gr),_.top+Math.min(dn,_.height-wn),Math.max(0,jt-bn),Math.max(0,Ht-wn),Qn.BOTTOM_RIGHT):new or(_.left+_.width-bn,_.top+_.height-wn),this.bottomLeftPaddingBox=lr>0||cr>0?Is(_.left+Gr,_.top+Math.min(Qr,_.height-wn),Math.max(0,lr-Gr),Math.max(0,cr-wn),Qn.BOTTOM_LEFT):new or(_.left+Gr,_.top+_.height-wn),this.topLeftContentBox=ve>0||Pe>0?Is(_.left+Gr+rs,_.top+gr+ia,Math.max(0,ve-(Gr+rs)),Math.max(0,Pe-(gr+ia)),Qn.TOP_LEFT):new or(_.left+Gr+rs,_.top+gr+ia),this.topRightContentBox=We>0||dt>0?Is(_.left+Math.min(Nr,_.width+Gr+rs),_.top+gr+ia,Nr>_.width+Gr+rs?0:We-Gr+rs,dt-(gr+ia),Qn.TOP_RIGHT):new or(_.left+_.width-(bn+Oi),_.top+gr+ia),this.bottomRightContentBox=jt>0||Ht>0?Is(_.left+Math.min(Zr,_.width-(Gr+rs)),_.top+Math.min(dn,_.height+gr+ia),Math.max(0,jt-(bn+Oi)),Ht-(wn+el),Qn.BOTTOM_RIGHT):new or(_.left+_.width-(bn+Oi),_.top+_.height-(wn+el)),this.bottomLeftContentBox=lr>0||cr>0?Is(_.left+Gr+rs,_.top+Qr,Math.max(0,lr-(Gr+rs)),cr-(wn+el),Qn.BOTTOM_LEFT):new or(_.left+Gr+rs,_.top+_.height-(wn+el))}return F}(),Qn;(function(F){F[F.TOP_LEFT=0]="TOP_LEFT",F[F.TOP_RIGHT=1]="TOP_RIGHT",F[F.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",F[F.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Qn||(Qn={}));var Is=function(F,T,P,_,re){var ve=4*((Math.sqrt(2)-1)/3),Pe=P*ve,ze=_*ve,We=F+P,dt=T+_;switch(re){case Qn.TOP_LEFT:return new Pm(new or(F,dt),new or(F,dt-ze),new or(We-Pe,T),new or(We,T));case Qn.TOP_RIGHT:return new Pm(new or(F,T),new or(F+Pe,T),new or(We,dt-ze),new or(We,dt));case Qn.BOTTOM_RIGHT:return new Pm(new or(We,T),new or(We,T+ze),new or(F+Pe,dt),new or(F,dt));case Qn.BOTTOM_LEFT:default:return new Pm(new or(We,dt),new or(We-Pe,dt),new or(F,T+ze),new or(F,T))}},is=function(F){return[F.topLeftBorderBox,F.topRightBorderBox,F.bottomRightBorderBox,F.bottomLeftBorderBox]},bo=function(F){return[F.topLeftContentBox,F.topRightContentBox,F.bottomRightContentBox,F.bottomLeftContentBox]},Nl=function(F){return[F.topLeftPaddingBox,F.topRightPaddingBox,F.bottomRightPaddingBox,F.bottomLeftPaddingBox]},$v=function(){function F(T,P,_){this.offsetX=T,this.offsetY=P,this.matrix=_,this.type=0,this.target=6}return F}(),Dm=function(){function F(T,P){this.path=T,this.target=P,this.type=1}return F}(),Hw=function(){function F(T){this.opacity=T,this.type=2,this.target=6}return F}(),Xg=function(F){return F.type===0},wo=function(F){return F.type===1},sc=function(F){return F.type===2},Jg=function(F,T){return F.length===T.length?F.some(function(P,_){return P===T[_]}):!1},Jo=function(F,T,P,_,re){return F.map(function(ve,Pe){switch(Pe){case 0:return ve.add(T,P);case 1:return ve.add(T+_,P);case 2:return ve.add(T+_,P+re);case 3:return ve.add(T,P+re)}return ve})},Zg=function(){function F(T){this.element=T,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return F}(),$u=function(){function F(T,P){if(this.container=T,this.parent=P,this.effects=[],this.curves=new Qw(this.container),this.container.styles.opacity<1&&this.effects.push(new Hw(this.container.styles.opacity)),this.container.styles.transform!==null){var _=this.container.bounds.left+this.container.styles.transformOrigin[0].number,re=this.container.bounds.top+this.container.styles.transformOrigin[1].number,ve=this.container.styles.transform;this.effects.push(new $v(_,re,ve))}if(this.container.styles.overflowX!==0){var Pe=is(this.curves),ze=Nl(this.curves);Jg(Pe,ze)?this.effects.push(new Dm(Pe,6)):(this.effects.push(new Dm(Pe,2)),this.effects.push(new Dm(ze,4)))}}return F.prototype.getEffects=function(T){for(var P=[2,3].indexOf(this.container.styles.position)===-1,_=this.parent,re=this.effects.slice(0);_;){var ve=_.effects.filter(function(We){return!wo(We)});if(P||_.container.styles.position!==0||!_.parent){if(re.unshift.apply(re,ve),P=[2,3].indexOf(_.container.styles.position)===-1,_.container.styles.overflowX!==0){var Pe=is(_.curves),ze=Nl(_.curves);Jg(Pe,ze)||re.unshift(new Dm(ze,6))}}else re.unshift.apply(re,ve);_=_.parent}return re.filter(function(We){return Rt(We.target,T)})},F}(),Ku=function(F,T,P,_){F.container.elements.forEach(function(re){var ve=Rt(re.flags,4),Pe=Rt(re.flags,2),ze=new $u(re,F);Rt(re.styles.display,2048)&&_.push(ze);var We=Rt(re.flags,8)?[]:_;if(ve||Pe){var dt=ve||re.styles.isPositioned()?P:T,mt=new Zg(ze);if(re.styles.isPositioned()||re.styles.opacity<1||re.styles.isTransformed()){var jt=re.styles.zIndex.order;if(jt<0){var Ht=0;dt.negativeZIndex.some(function(lr,cr){return jt>lr.element.container.styles.zIndex.order?(Ht=cr,!1):Ht>0}),dt.negativeZIndex.splice(Ht,0,mt)}else if(jt>0){var fr=0;dt.positiveZIndex.some(function(lr,cr){return jt>=lr.element.container.styles.zIndex.order?(fr=cr+1,!1):fr>0}),dt.positiveZIndex.splice(fr,0,mt)}else dt.zeroOrAutoZIndexOrTransformedOrOpacity.push(mt)}else re.styles.isFloating()?dt.nonPositionedFloats.push(mt):dt.nonPositionedInlineLevel.push(mt);Ku(ze,mt,ve?mt:P,We)}else re.styles.isInlineLevel()?T.inlineLevel.push(ze):T.nonInlineLevel.push(ze),Ku(ze,T,P,We);Rt(re.flags,8)&&Vu(re,We)})},Vu=function(F,T){for(var P=F instanceof Z0?F.start:1,_=F instanceof Z0?F.reversed:!1,re=0;re<T.length;re++){var ve=T[re];ve.container instanceof Nm&&typeof ve.container.value=="number"&&ve.container.value!==0&&(P=ve.container.value),ve.listValue=zA(P,ve.container.styles.listStyleType,!0),P+=_?-1:1}},ex=function(F){var T=new $u(F,null),P=new Zg(T),_=[];return Ku(T,P,P,_),Vu(T.container,_),P},dp=function(F,T){switch(T){case 0:return Di(F.topLeftBorderBox,F.topLeftPaddingBox,F.topRightBorderBox,F.topRightPaddingBox);case 1:return Di(F.topRightBorderBox,F.topRightPaddingBox,F.bottomRightBorderBox,F.bottomRightPaddingBox);case 2:return Di(F.bottomRightBorderBox,F.bottomRightPaddingBox,F.bottomLeftBorderBox,F.bottomLeftPaddingBox);case 3:default:return Di(F.bottomLeftBorderBox,F.bottomLeftPaddingBox,F.topLeftBorderBox,F.topLeftPaddingBox)}},$c=function(F,T){switch(T){case 0:return Di(F.topLeftBorderBox,F.topLeftBorderDoubleOuterBox,F.topRightBorderBox,F.topRightBorderDoubleOuterBox);case 1:return Di(F.topRightBorderBox,F.topRightBorderDoubleOuterBox,F.bottomRightBorderBox,F.bottomRightBorderDoubleOuterBox);case 2:return Di(F.bottomRightBorderBox,F.bottomRightBorderDoubleOuterBox,F.bottomLeftBorderBox,F.bottomLeftBorderDoubleOuterBox);case 3:default:return Di(F.bottomLeftBorderBox,F.bottomLeftBorderDoubleOuterBox,F.topLeftBorderBox,F.topLeftBorderDoubleOuterBox)}},Kv=function(F,T){switch(T){case 0:return Di(F.topLeftBorderDoubleInnerBox,F.topLeftPaddingBox,F.topRightBorderDoubleInnerBox,F.topRightPaddingBox);case 1:return Di(F.topRightBorderDoubleInnerBox,F.topRightPaddingBox,F.bottomRightBorderDoubleInnerBox,F.bottomRightPaddingBox);case 2:return Di(F.bottomRightBorderDoubleInnerBox,F.bottomRightPaddingBox,F.bottomLeftBorderDoubleInnerBox,F.bottomLeftPaddingBox);case 3:default:return Di(F.bottomLeftBorderDoubleInnerBox,F.bottomLeftPaddingBox,F.topLeftBorderDoubleInnerBox,F.topLeftPaddingBox)}},ih=function(F,T){switch(T){case 0:return Qd(F.topLeftBorderStroke,F.topRightBorderStroke);case 1:return Qd(F.topRightBorderStroke,F.bottomRightBorderStroke);case 2:return Qd(F.bottomRightBorderStroke,F.bottomLeftBorderStroke);case 3:default:return Qd(F.bottomLeftBorderStroke,F.topLeftBorderStroke)}},Qd=function(F,T){var P=[];return Jn(F)?P.push(F.subdivide(.5,!1)):P.push(F),Jn(T)?P.push(T.subdivide(.5,!0)):P.push(T),P},Di=function(F,T,P,_){var re=[];return Jn(F)?re.push(F.subdivide(.5,!1)):re.push(F),Jn(P)?re.push(P.subdivide(.5,!0)):re.push(P),Jn(_)?re.push(_.subdivide(.5,!0).reverse()):re.push(_),Jn(T)?re.push(T.subdivide(.5,!1).reverse()):re.push(T),re},WA=function(F){var T=F.bounds,P=F.styles;return T.add(P.borderLeftWidth,P.borderTopWidth,-(P.borderRightWidth+P.borderLeftWidth),-(P.borderTopWidth+P.borderBottomWidth))},Om=function(F){var T=F.styles,P=F.bounds,_=vn(T.paddingLeft,P.width),re=vn(T.paddingRight,P.width),ve=vn(T.paddingTop,P.width),Pe=vn(T.paddingBottom,P.width);return P.add(_+T.borderLeftWidth,ve+T.borderTopWidth,-(T.borderRightWidth+T.borderLeftWidth+_+re),-(T.borderTopWidth+T.borderBottomWidth+ve+Pe))},Vv=function(F,T){return F===0?T.bounds:F===2?Om(T):WA(T)},Lm=function(F,T){return F===0?T.bounds:F===2?Om(T):WA(T)},Ap=function(F,T,P){var _=Vv(oh(F.styles.backgroundOrigin,T),F),re=Lm(oh(F.styles.backgroundClip,T),F),ve=$w(oh(F.styles.backgroundSize,T),P,_),Pe=ve[0],ze=ve[1],We=Bs(oh(F.styles.backgroundPosition,T),_.width-Pe,_.height-ze),dt=Zn(oh(F.styles.backgroundRepeat,T),We,ve,_,re),mt=Math.round(_.left+We[0]),jt=Math.round(_.top+We[1]);return[dt,mt,jt,Pe,ze]},zu=function(F){return Ur(F)&&F.value===ci.AUTO},Um=function(F){return typeof F=="number"},$w=function(F,T,P){var _=T[0],re=T[1],ve=T[2],Pe=F[0],ze=F[1];if(!Pe)return[0,0];if(Kn(Pe)&&ze&&Kn(ze))return[vn(Pe,P.width),vn(ze,P.height)];var We=Um(ve);if(Ur(Pe)&&(Pe.value===ci.CONTAIN||Pe.value===ci.COVER)){if(Um(ve)){var dt=P.width/P.height;return dt<ve!=(Pe.value===ci.COVER)?[P.width,P.width/ve]:[P.height*ve,P.height]}return[P.width,P.height]}var mt=Um(_),jt=Um(re),Ht=mt||jt;if(zu(Pe)&&(!ze||zu(ze))){if(mt&&jt)return[_,re];if(!We&&!Ht)return[P.width,P.height];if(Ht&&We){var fr=mt?_:re*ve,lr=jt?re:_/ve;return[fr,lr]}var cr=mt?_:P.width,tn=jt?re:P.height;return[cr,tn]}if(We){var Br=0,Nr=0;return Kn(Pe)?Br=vn(Pe,P.width):Kn(ze)&&(Nr=vn(ze,P.height)),zu(Pe)?Br=Nr*ve:(!ze||zu(ze))&&(Nr=Br/ve),[Br,Nr]}var dn=null,Zr=null;if(Kn(Pe)?dn=vn(Pe,P.width):ze&&Kn(ze)&&(Zr=vn(ze,P.height)),dn!==null&&(!ze||zu(ze))&&(Zr=mt&&jt?dn/_*re:P.height),Zr!==null&&zu(Pe)&&(dn=mt&&jt?Zr/re*_:P.width),dn!==null&&Zr!==null)return[dn,Zr];throw new Error("Unable to calculate background-size for element")},oh=function(F,T){var P=F[T];return typeof P>"u"?F[0]:P},Zn=function(F,T,P,_,re){var ve=T[0],Pe=T[1],ze=P[0],We=P[1];switch(F){case 2:return[new or(Math.round(_.left),Math.round(_.top+Pe)),new or(Math.round(_.left+_.width),Math.round(_.top+Pe)),new or(Math.round(_.left+_.width),Math.round(We+_.top+Pe)),new or(Math.round(_.left),Math.round(We+_.top+Pe))];case 3:return[new or(Math.round(_.left+ve),Math.round(_.top)),new or(Math.round(_.left+ve+ze),Math.round(_.top)),new or(Math.round(_.left+ve+ze),Math.round(_.height+_.top)),new or(Math.round(_.left+ve),Math.round(_.height+_.top))];case 1:return[new or(Math.round(_.left+ve),Math.round(_.top+Pe)),new or(Math.round(_.left+ve+ze),Math.round(_.top+Pe)),new or(Math.round(_.left+ve+ze),Math.round(_.top+Pe+We)),new or(Math.round(_.left+ve),Math.round(_.top+Pe+We))];default:return[new or(Math.round(re.left),Math.round(re.top)),new or(Math.round(re.left+re.width),Math.round(re.top)),new or(Math.round(re.left+re.width),Math.round(re.height+re.top)),new or(Math.round(re.left),Math.round(re.height+re.top))]}},xs="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",mn="Hidden Text",Bn=function(){function F(T){this._data={},this._document=T}return F.prototype.parseMetrics=function(T,P){var _=this._document.createElement("div"),re=this._document.createElement("img"),ve=this._document.createElement("span"),Pe=this._document.body;_.style.visibility="hidden",_.style.fontFamily=T,_.style.fontSize=P,_.style.margin="0",_.style.padding="0",_.style.whiteSpace="nowrap",Pe.appendChild(_),re.src=xs,re.width=1,re.height=1,re.style.margin="0",re.style.padding="0",re.style.verticalAlign="baseline",ve.style.fontFamily=T,ve.style.fontSize=P,ve.style.margin="0",ve.style.padding="0",ve.appendChild(this._document.createTextNode(mn)),_.appendChild(ve),_.appendChild(re);var ze=re.offsetTop-ve.offsetTop+2;_.removeChild(ve),_.appendChild(this._document.createTextNode(mn)),_.style.lineHeight="normal",re.style.verticalAlign="super";var We=re.offsetTop-_.offsetTop+2;return Pe.removeChild(_),{baseline:ze,middle:We}},F.prototype.getMetrics=function(T,P){var _=T+" "+P;return typeof this._data[_]>"u"&&(this._data[_]=this.parseMetrics(T,P)),this._data[_]},F}(),zn=function(){function F(T,P){this.context=T,this.options=P}return F}(),Zo=1e4,Hd=function(F){a(T,F);function T(P,_){var re=F.call(this,P,_)||this;return re._activeEffects=[],re.canvas=_.canvas?_.canvas:document.createElement("canvas"),re.ctx=re.canvas.getContext("2d"),_.canvas||(re.canvas.width=Math.floor(_.width*_.scale),re.canvas.height=Math.floor(_.height*_.scale),re.canvas.style.width=_.width+"px",re.canvas.style.height=_.height+"px"),re.fontMetrics=new Bn(document),re.ctx.scale(re.options.scale,re.options.scale),re.ctx.translate(-_.x,-_.y),re.ctx.textBaseline="bottom",re._activeEffects=[],re.context.logger.debug("Canvas renderer initialized ("+_.width+"x"+_.height+") with scale "+_.scale),re}return T.prototype.applyEffects=function(P){for(var _=this;this._activeEffects.length;)this.popEffect();P.forEach(function(re){return _.applyEffect(re)})},T.prototype.applyEffect=function(P){this.ctx.save(),sc(P)&&(this.ctx.globalAlpha=P.opacity),Xg(P)&&(this.ctx.translate(P.offsetX,P.offsetY),this.ctx.transform(P.matrix[0],P.matrix[1],P.matrix[2],P.matrix[3],P.matrix[4],P.matrix[5]),this.ctx.translate(-P.offsetX,-P.offsetY)),wo(P)&&(this.path(P.path),this.ctx.clip()),this._activeEffects.push(P)},T.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},T.prototype.renderStack=function(P){return o(this,void 0,void 0,function(){var _;return l(this,function(re){switch(re.label){case 0:return _=P.element.container.styles,_.isVisible()?[4,this.renderStackContent(P)]:[3,2];case 1:re.sent(),re.label=2;case 2:return[2]}})})},T.prototype.renderNode=function(P){return o(this,void 0,void 0,function(){return l(this,function(_){switch(_.label){case 0:if(Rt(P.container.flags,16))debugger;return P.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(P)]:[3,3];case 1:return _.sent(),[4,this.renderNodeContent(P)];case 2:_.sent(),_.label=3;case 3:return[2]}})})},T.prototype.renderTextWithLetterSpacing=function(P,_,re){var ve=this;if(_===0)this.ctx.fillText(P.text,P.bounds.left,P.bounds.top+re);else{var Pe=Yo(P.text);Pe.reduce(function(ze,We){return ve.ctx.fillText(We,ze,P.bounds.top+re),ze+ve.ctx.measureText(We).width},P.bounds.left)}},T.prototype.createFontStyle=function(P){var _=P.fontVariant.filter(function(Pe){return Pe==="normal"||Pe==="small-caps"}).join(""),re=$d(P.fontFamily).join(", "),ve=Hn(P.fontSize)?""+P.fontSize.number+P.fontSize.unit:P.fontSize.number+"px";return[[P.fontStyle,_,P.fontWeight,ve,re].join(" "),re,ve]},T.prototype.renderTextNode=function(P,_){return o(this,void 0,void 0,function(){var re,ve,Pe,ze,We,dt,mt,jt,Ht=this;return l(this,function(fr){return re=this.createFontStyle(_),ve=re[0],Pe=re[1],ze=re[2],this.ctx.font=ve,this.ctx.direction=_.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",We=this.fontMetrics.getMetrics(Pe,ze),dt=We.baseline,mt=We.middle,jt=_.paintOrder,P.textBounds.forEach(function(lr){jt.forEach(function(cr){switch(cr){case 0:Ht.ctx.fillStyle=Ls(_.color),Ht.renderTextWithLetterSpacing(lr,_.letterSpacing,dt);var tn=_.textShadow;tn.length&&lr.text.trim().length&&(tn.slice(0).reverse().forEach(function(Br){Ht.ctx.shadowColor=Ls(Br.color),Ht.ctx.shadowOffsetX=Br.offsetX.number*Ht.options.scale,Ht.ctx.shadowOffsetY=Br.offsetY.number*Ht.options.scale,Ht.ctx.shadowBlur=Br.blur.number,Ht.renderTextWithLetterSpacing(lr,_.letterSpacing,dt)}),Ht.ctx.shadowColor="",Ht.ctx.shadowOffsetX=0,Ht.ctx.shadowOffsetY=0,Ht.ctx.shadowBlur=0),_.textDecorationLine.length&&(Ht.ctx.fillStyle=Ls(_.textDecorationColor||_.color),_.textDecorationLine.forEach(function(Br){switch(Br){case 1:Ht.ctx.fillRect(lr.bounds.left,Math.round(lr.bounds.top+dt),lr.bounds.width,1);break;case 2:Ht.ctx.fillRect(lr.bounds.left,Math.round(lr.bounds.top),lr.bounds.width,1);break;case 3:Ht.ctx.fillRect(lr.bounds.left,Math.ceil(lr.bounds.top+mt),lr.bounds.width,1);break}}));break;case 1:_.webkitTextStrokeWidth&&lr.text.trim().length&&(Ht.ctx.strokeStyle=Ls(_.webkitTextStrokeColor),Ht.ctx.lineWidth=_.webkitTextStrokeWidth,Ht.ctx.lineJoin=window.chrome?"miter":"round",Ht.ctx.strokeText(lr.text,lr.bounds.left,lr.bounds.top+dt)),Ht.ctx.strokeStyle="",Ht.ctx.lineWidth=0,Ht.ctx.lineJoin="miter";break}})}),[2]})})},T.prototype.renderReplacedElement=function(P,_,re){if(re&&P.intrinsicWidth>0&&P.intrinsicHeight>0){var ve=Om(P),Pe=Nl(_);this.path(Pe),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(re,0,0,P.intrinsicWidth,P.intrinsicHeight,ve.left,ve.top,ve.width,ve.height),this.ctx.restore()}},T.prototype.renderNodeContent=function(P){return o(this,void 0,void 0,function(){var _,re,ve,Pe,ze,We,Nr,Nr,dt,mt,jt,Ht,Zr,fr,lr,Qr,cr,tn,Br,Nr,dn,Zr,Qr;return l(this,function(gr){switch(gr.label){case 0:this.applyEffects(P.getEffects(4)),_=P.container,re=P.curves,ve=_.styles,Pe=0,ze=_.textNodes,gr.label=1;case 1:return Pe<ze.length?(We=ze[Pe],[4,this.renderTextNode(We,ve)]):[3,4];case 2:gr.sent(),gr.label=3;case 3:return Pe++,[3,1];case 4:if(!(_ instanceof Pg))return[3,8];gr.label=5;case 5:return gr.trys.push([5,7,,8]),[4,this.context.cache.match(_.src)];case 6:return Nr=gr.sent(),this.renderReplacedElement(_,re,Nr),[3,8];case 7:return gr.sent(),this.context.logger.error("Error loading image "+_.src),[3,8];case 8:if(_ instanceof eh&&this.renderReplacedElement(_,re,_.canvas),!(_ instanceof J0))return[3,12];gr.label=9;case 9:return gr.trys.push([9,11,,12]),[4,this.context.cache.match(_.svg)];case 10:return Nr=gr.sent(),this.renderReplacedElement(_,re,Nr),[3,12];case 11:return gr.sent(),this.context.logger.error("Error loading svg "+_.svg.substring(0,255)),[3,12];case 12:return _ instanceof Og&&_.tree?(dt=new T(this.context,{scale:this.options.scale,backgroundColor:_.backgroundColor,x:0,y:0,width:_.width,height:_.height}),[4,dt.render(_.tree)]):[3,14];case 13:mt=gr.sent(),_.width&&_.height&&this.ctx.drawImage(mt,0,0,_.width,_.height,_.bounds.left,_.bounds.top,_.bounds.width,_.bounds.height),gr.label=14;case 14:if(_ instanceof QA&&(jt=Math.min(_.bounds.width,_.bounds.height),_.type===tp?_.checked&&(this.ctx.save(),this.path([new or(_.bounds.left+jt*.39363,_.bounds.top+jt*.79),new or(_.bounds.left+jt*.16,_.bounds.top+jt*.5549),new or(_.bounds.left+jt*.27347,_.bounds.top+jt*.44071),new or(_.bounds.left+jt*.39694,_.bounds.top+jt*.5649),new or(_.bounds.left+jt*.72983,_.bounds.top+jt*.23),new or(_.bounds.left+jt*.84,_.bounds.top+jt*.34085),new or(_.bounds.left+jt*.39363,_.bounds.top+jt*.79)]),this.ctx.fillStyle=Ls(Sm),this.ctx.fill(),this.ctx.restore()):_.type===Pu&&_.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(_.bounds.left+jt/2,_.bounds.top+jt/2,jt/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ls(Sm),this.ctx.fill(),this.ctx.restore())),lh(_)&&_.value.length){switch(Ht=this.createFontStyle(ve),Zr=Ht[0],fr=Ht[1],lr=this.fontMetrics.getMetrics(Zr,fr).baseline,this.ctx.font=Zr,this.ctx.fillStyle=Ls(ve.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Gu(_.styles.textAlign),Qr=Om(_),cr=0,_.styles.textAlign){case 1:cr+=Qr.width/2;break;case 2:cr+=Qr.width;break}tn=Qr.add(cr,0,0,-Qr.height/2+1),this.ctx.save(),this.path([new or(Qr.left,Qr.top),new or(Qr.left+Qr.width,Qr.top),new or(Qr.left+Qr.width,Qr.top+Qr.height),new or(Qr.left,Qr.top+Qr.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Od(_.value,tn),ve.letterSpacing,lr),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Rt(_.styles.display,2048))return[3,20];if(_.styles.listStyleImage===null)return[3,19];if(Br=_.styles.listStyleImage,Br.type!==0)return[3,18];Nr=void 0,dn=Br.url,gr.label=15;case 15:return gr.trys.push([15,17,,18]),[4,this.context.cache.match(dn)];case 16:return Nr=gr.sent(),this.ctx.drawImage(Nr,_.bounds.left-(Nr.width+10),_.bounds.top),[3,18];case 17:return gr.sent(),this.context.logger.error("Error loading list-style-image "+dn),[3,18];case 18:return[3,20];case 19:P.listValue&&_.styles.listStyleType!==-1&&(Zr=this.createFontStyle(ve)[0],this.ctx.font=Zr,this.ctx.fillStyle=Ls(ve.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Qr=new u(_.bounds.left,_.bounds.top+vn(_.styles.paddingTop,_.bounds.width),_.bounds.width,Vo(ve.lineHeight,ve.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Od(P.listValue,Qr),ve.letterSpacing,Vo(ve.lineHeight,ve.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),gr.label=20;case 20:return[2]}})})},T.prototype.renderStackContent=function(P){return o(this,void 0,void 0,function(){var _,re,Br,ve,Pe,Br,ze,We,Br,dt,mt,Br,jt,Ht,Br,fr,lr,Br,cr,tn,Br;return l(this,function(Nr){switch(Nr.label){case 0:if(Rt(P.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(P.element)];case 1:Nr.sent(),_=0,re=P.negativeZIndex,Nr.label=2;case 2:return _<re.length?(Br=re[_],[4,this.renderStack(Br)]):[3,5];case 3:Nr.sent(),Nr.label=4;case 4:return _++,[3,2];case 5:return[4,this.renderNodeContent(P.element)];case 6:Nr.sent(),ve=0,Pe=P.nonInlineLevel,Nr.label=7;case 7:return ve<Pe.length?(Br=Pe[ve],[4,this.renderNode(Br)]):[3,10];case 8:Nr.sent(),Nr.label=9;case 9:return ve++,[3,7];case 10:ze=0,We=P.nonPositionedFloats,Nr.label=11;case 11:return ze<We.length?(Br=We[ze],[4,this.renderStack(Br)]):[3,14];case 12:Nr.sent(),Nr.label=13;case 13:return ze++,[3,11];case 14:dt=0,mt=P.nonPositionedInlineLevel,Nr.label=15;case 15:return dt<mt.length?(Br=mt[dt],[4,this.renderStack(Br)]):[3,18];case 16:Nr.sent(),Nr.label=17;case 17:return dt++,[3,15];case 18:jt=0,Ht=P.inlineLevel,Nr.label=19;case 19:return jt<Ht.length?(Br=Ht[jt],[4,this.renderNode(Br)]):[3,22];case 20:Nr.sent(),Nr.label=21;case 21:return jt++,[3,19];case 22:fr=0,lr=P.zeroOrAutoZIndexOrTransformedOrOpacity,Nr.label=23;case 23:return fr<lr.length?(Br=lr[fr],[4,this.renderStack(Br)]):[3,26];case 24:Nr.sent(),Nr.label=25;case 25:return fr++,[3,23];case 26:cr=0,tn=P.positiveZIndex,Nr.label=27;case 27:return cr<tn.length?(Br=tn[cr],[4,this.renderStack(Br)]):[3,30];case 28:Nr.sent(),Nr.label=29;case 29:return cr++,[3,27];case 30:return[2]}})})},T.prototype.mask=function(P){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(P.slice(0).reverse()),this.ctx.closePath()},T.prototype.path=function(P){this.ctx.beginPath(),this.formatPath(P),this.ctx.closePath()},T.prototype.formatPath=function(P){var _=this;P.forEach(function(re,ve){var Pe=Jn(re)?re.start:re;ve===0?_.ctx.moveTo(Pe.x,Pe.y):_.ctx.lineTo(Pe.x,Pe.y),Jn(re)&&_.ctx.bezierCurveTo(re.startControl.x,re.startControl.y,re.endControl.x,re.endControl.y,re.end.x,re.end.y)})},T.prototype.renderRepeat=function(P,_,re,ve){this.path(P),this.ctx.fillStyle=_,this.ctx.translate(re,ve),this.ctx.fill(),this.ctx.translate(-re,-ve)},T.prototype.resizeImage=function(P,_,re){var ve;if(P.width===_&&P.height===re)return P;var Pe=(ve=this.canvas.ownerDocument)!==null&&ve!==void 0?ve:document,ze=Pe.createElement("canvas");ze.width=Math.max(1,_),ze.height=Math.max(1,re);var We=ze.getContext("2d");return We.drawImage(P,0,0,P.width,P.height,0,0,_,re),ze},T.prototype.renderBackgroundImage=function(P){return o(this,void 0,void 0,function(){var _,re,ve,Pe,ze,We;return l(this,function(dt){switch(dt.label){case 0:_=P.styles.backgroundImage.length-1,re=function(mt){var jt,Ht,fr,ia,Xi,Pa,rs,Ai,wn,lr,ia,Xi,Pa,rs,Ai,cr,tn,Br,Nr,dn,Zr,Qr,gr,bn,wn,Gr,ia,Oi,el,rs,Ai,Wu,Xi,Pa,Kc,ac,qu,Kd,Vd,Vc,zd,Sl;return l(this,function(YA){switch(YA.label){case 0:if(mt.type!==0)return[3,5];jt=void 0,Ht=mt.url,YA.label=1;case 1:return YA.trys.push([1,3,,4]),[4,ve.context.cache.match(Ht)];case 2:return jt=YA.sent(),[3,4];case 3:return YA.sent(),ve.context.logger.error("Error loading background-image "+Ht),[3,4];case 4:return jt&&(fr=Ap(P,_,[jt.width,jt.height,jt.width/jt.height]),ia=fr[0],Xi=fr[1],Pa=fr[2],rs=fr[3],Ai=fr[4],wn=ve.ctx.createPattern(ve.resizeImage(jt,rs,Ai),"repeat"),ve.renderRepeat(ia,wn,Xi,Pa)),[3,6];case 5:mo(mt)?(lr=Ap(P,_,[null,null,null]),ia=lr[0],Xi=lr[1],Pa=lr[2],rs=lr[3],Ai=lr[4],cr=gu(mt.angle,rs,Ai),tn=cr[0],Br=cr[1],Nr=cr[2],dn=cr[3],Zr=cr[4],Qr=document.createElement("canvas"),Qr.width=rs,Qr.height=Ai,gr=Qr.getContext("2d"),bn=gr.createLinearGradient(Br,dn,Nr,Zr),Ws(mt.stops,tn).forEach(function(uh){return bn.addColorStop(uh.stop,Ls(uh.color))}),gr.fillStyle=bn,gr.fillRect(0,0,rs,Ai),rs>0&&Ai>0&&(wn=ve.ctx.createPattern(Qr,"repeat"),ve.renderRepeat(ia,wn,Xi,Pa))):Dc(mt)&&(Gr=Ap(P,_,[null,null,null]),ia=Gr[0],Oi=Gr[1],el=Gr[2],rs=Gr[3],Ai=Gr[4],Wu=mt.position.length===0?[Tc]:mt.position,Xi=vn(Wu[0],rs),Pa=vn(Wu[Wu.length-1],Ai),Kc=_c(mt,Xi,Pa,rs,Ai),ac=Kc[0],qu=Kc[1],ac>0&&qu>0&&(Kd=ve.ctx.createRadialGradient(Oi+Xi,el+Pa,0,Oi+Xi,el+Pa,ac),Ws(mt.stops,ac*2).forEach(function(uh){return Kd.addColorStop(uh.stop,Ls(uh.color))}),ve.path(ia),ve.ctx.fillStyle=Kd,ac!==qu?(Vd=P.bounds.left+.5*P.bounds.width,Vc=P.bounds.top+.5*P.bounds.height,zd=qu/ac,Sl=1/zd,ve.ctx.save(),ve.ctx.translate(Vd,Vc),ve.ctx.transform(1,0,0,zd,0,0),ve.ctx.translate(-Vd,-Vc),ve.ctx.fillRect(Oi,Sl*(el-Vc)+Vc,rs,Ai*Sl),ve.ctx.restore()):ve.ctx.fill())),YA.label=6;case 6:return _--,[2]}})},ve=this,Pe=0,ze=P.styles.backgroundImage.slice(0).reverse(),dt.label=1;case 1:return Pe<ze.length?(We=ze[Pe],[5,re(We)]):[3,4];case 2:dt.sent(),dt.label=3;case 3:return Pe++,[3,1];case 4:return[2]}})})},T.prototype.renderSolidBorder=function(P,_,re){return o(this,void 0,void 0,function(){return l(this,function(ve){return this.path(dp(re,_)),this.ctx.fillStyle=Ls(P),this.ctx.fill(),[2]})})},T.prototype.renderDoubleBorder=function(P,_,re,ve){return o(this,void 0,void 0,function(){var Pe,ze;return l(this,function(We){switch(We.label){case 0:return _<3?[4,this.renderSolidBorder(P,re,ve)]:[3,2];case 1:return We.sent(),[2];case 2:return Pe=$c(ve,re),this.path(Pe),this.ctx.fillStyle=Ls(P),this.ctx.fill(),ze=Kv(ve,re),this.path(ze),this.ctx.fill(),[2]}})})},T.prototype.renderNodeBackgroundAndBorders=function(P){return o(this,void 0,void 0,function(){var _,re,ve,Pe,ze,We,dt,mt,jt=this;return l(this,function(Ht){switch(Ht.label){case 0:return this.applyEffects(P.getEffects(2)),_=P.container.styles,re=!oi(_.backgroundColor)||_.backgroundImage.length,ve=[{style:_.borderTopStyle,color:_.borderTopColor,width:_.borderTopWidth},{style:_.borderRightStyle,color:_.borderRightColor,width:_.borderRightWidth},{style:_.borderBottomStyle,color:_.borderBottomColor,width:_.borderBottomWidth},{style:_.borderLeftStyle,color:_.borderLeftColor,width:_.borderLeftWidth}],Pe=tx(oh(_.backgroundClip,0),P.curves),re||_.boxShadow.length?(this.ctx.save(),this.path(Pe),this.ctx.clip(),oi(_.backgroundColor)||(this.ctx.fillStyle=Ls(_.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(P.container)]):[3,2];case 1:Ht.sent(),this.ctx.restore(),_.boxShadow.slice(0).reverse().forEach(function(fr){jt.ctx.save();var lr=is(P.curves),cr=fr.inset?0:Zo,tn=Jo(lr,-cr+(fr.inset?1:-1)*fr.spread.number,(fr.inset?1:-1)*fr.spread.number,fr.spread.number*(fr.inset?-2:2),fr.spread.number*(fr.inset?-2:2));fr.inset?(jt.path(lr),jt.ctx.clip(),jt.mask(tn)):(jt.mask(lr),jt.ctx.clip(),jt.path(tn)),jt.ctx.shadowOffsetX=fr.offsetX.number+cr,jt.ctx.shadowOffsetY=fr.offsetY.number,jt.ctx.shadowColor=Ls(fr.color),jt.ctx.shadowBlur=fr.blur.number,jt.ctx.fillStyle=fr.inset?Ls(fr.color):"rgba(0,0,0,1)",jt.ctx.fill(),jt.ctx.restore()}),Ht.label=2;case 2:ze=0,We=0,dt=ve,Ht.label=3;case 3:return We<dt.length?(mt=dt[We],mt.style!==0&&!oi(mt.color)&&mt.width>0?mt.style!==2?[3,5]:[4,this.renderDashedDottedBorder(mt.color,mt.width,ze,P.curves,2)]:[3,11]):[3,13];case 4:return Ht.sent(),[3,11];case 5:return mt.style!==3?[3,7]:[4,this.renderDashedDottedBorder(mt.color,mt.width,ze,P.curves,3)];case 6:return Ht.sent(),[3,11];case 7:return mt.style!==4?[3,9]:[4,this.renderDoubleBorder(mt.color,mt.width,ze,P.curves)];case 8:return Ht.sent(),[3,11];case 9:return[4,this.renderSolidBorder(mt.color,ze,P.curves)];case 10:Ht.sent(),Ht.label=11;case 11:ze++,Ht.label=12;case 12:return We++,[3,3];case 13:return[2]}})})},T.prototype.renderDashedDottedBorder=function(P,_,re,ve,Pe){return o(this,void 0,void 0,function(){var ze,We,dt,mt,jt,Ht,fr,lr,cr,tn,Br,Nr,dn,Zr,Qr,gr,Qr,gr;return l(this,function(bn){return this.ctx.save(),ze=ih(ve,re),We=dp(ve,re),Pe===2&&(this.path(We),this.ctx.clip()),Jn(We[0])?(dt=We[0].start.x,mt=We[0].start.y):(dt=We[0].x,mt=We[0].y),Jn(We[1])?(jt=We[1].end.x,Ht=We[1].end.y):(jt=We[1].x,Ht=We[1].y),re===0||re===2?fr=Math.abs(dt-jt):fr=Math.abs(mt-Ht),this.ctx.beginPath(),Pe===3?this.formatPath(ze):this.formatPath(We.slice(0,2)),lr=_<3?_*3:_*2,cr=_<3?_*2:_,Pe===3&&(lr=_,cr=_),tn=!0,fr<=lr*2?tn=!1:fr<=lr*2+cr?(Br=fr/(2*lr+cr),lr*=Br,cr*=Br):(Nr=Math.floor((fr+cr)/(lr+cr)),dn=(fr-Nr*lr)/(Nr-1),Zr=(fr-(Nr+1)*lr)/Nr,cr=Zr<=0||Math.abs(cr-dn)<Math.abs(cr-Zr)?dn:Zr),tn&&(Pe===3?this.ctx.setLineDash([0,lr+cr]):this.ctx.setLineDash([lr,cr])),Pe===3?(this.ctx.lineCap="round",this.ctx.lineWidth=_):this.ctx.lineWidth=_*2+1.1,this.ctx.strokeStyle=Ls(P),this.ctx.stroke(),this.ctx.setLineDash([]),Pe===2&&(Jn(We[0])&&(Qr=We[3],gr=We[0],this.ctx.beginPath(),this.formatPath([new or(Qr.end.x,Qr.end.y),new or(gr.start.x,gr.start.y)]),this.ctx.stroke()),Jn(We[1])&&(Qr=We[1],gr=We[2],this.ctx.beginPath(),this.formatPath([new or(Qr.end.x,Qr.end.y),new or(gr.start.x,gr.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},T.prototype.render=function(P){return o(this,void 0,void 0,function(){var _;return l(this,function(re){switch(re.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ls(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),_=ex(P),[4,this.renderStack(_)];case 1:return re.sent(),this.applyEffects([]),[2,this.canvas]}})})},T}(zn),lh=function(F){return F instanceof Dg||F instanceof Bm?!0:F instanceof QA&&F.type!==Pu&&F.type!==tp},tx=function(F,T){switch(F){case 0:return is(T);case 2:return bo(T);case 1:default:return Nl(T)}},Gu=function(F){switch(F){case 1:return"center";case 2:return"right";case 0:default:return"left"}},aa=["-apple-system","system-ui"],$d=function(F){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?F.filter(function(T){return aa.indexOf(T)===-1}):F},qA=function(F){a(T,F);function T(P,_){var re=F.call(this,P,_)||this;return re.canvas=_.canvas?_.canvas:document.createElement("canvas"),re.ctx=re.canvas.getContext("2d"),re.options=_,re.canvas.width=Math.floor(_.width*_.scale),re.canvas.height=Math.floor(_.height*_.scale),re.canvas.style.width=_.width+"px",re.canvas.style.height=_.height+"px",re.ctx.scale(re.options.scale,re.options.scale),re.ctx.translate(-_.x,-_.y),re.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+_.width+"x"+_.height+" at "+_.x+","+_.y+") with scale "+_.scale),re}return T.prototype.render=function(P){return o(this,void 0,void 0,function(){var _,re;return l(this,function(ve){switch(ve.label){case 0:return _=UA(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,P),[4,rx(_)];case 1:return re=ve.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ls(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(re,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},T}(zn),rx=function(F){return new Promise(function(T,P){var _=new Image;_.onload=function(){T(_)},_.onerror=P,_.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(F))})},Cl=function(){function F(T){var P=T.id,_=T.enabled;this.id=P,this.enabled=_,this.start=Date.now()}return F.prototype.debug=function(){for(var T=[],P=0;P<arguments.length;P++)T[P]=arguments[P];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,c([this.id,this.getTime()+"ms"],T)):this.info.apply(this,T))},F.prototype.getTime=function(){return Date.now()-this.start},F.prototype.info=function(){for(var T=[],P=0;P<arguments.length;P++)T[P]=arguments[P];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,c([this.id,this.getTime()+"ms"],T))},F.prototype.warn=function(){for(var T=[],P=0;P<arguments.length;P++)T[P]=arguments[P];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,c([this.id,this.getTime()+"ms"],T)):this.info.apply(this,T))},F.prototype.error=function(){for(var T=[],P=0;P<arguments.length;P++)T[P]=arguments[P];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,c([this.id,this.getTime()+"ms"],T)):this.info.apply(this,T))},F.instances={},F}(),ch=function(){function F(T,P){var _;this.windowBounds=P,this.instanceName="#"+F.instanceCount++,this.logger=new Cl({id:this.instanceName,enabled:T.logging}),this.cache=(_=T.cache)!==null&&_!==void 0?_:new Hc(this,T)}return F.instanceCount=1,F}(),Mm=function(F,T){return T===void 0&&(T={}),jo(F,T)};typeof window<"u"&&ah.setContext(window);var jo=function(F,T){return o(void 0,void 0,void 0,function(){var P,_,re,ve,Pe,ze,We,dt,mt,jt,Ht,fr,lr,cr,tn,Br,Nr,dn,Zr,Qr,bn,gr,bn,wn,Gr,ia,Oi,el,rs,Ai,Wu,Xi,Pa,Kc,ac,qu,Kd,Vd,Vc,zd;return l(this,function(Sl){switch(Sl.label){case 0:if(!F||typeof F!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(P=F.ownerDocument,!P)throw new Error("Element is not attached to a Document");if(_=P.defaultView,!_)throw new Error("Document is not attached to a Window");return re={allowTaint:(wn=T.allowTaint)!==null&&wn!==void 0?wn:!1,imageTimeout:(Gr=T.imageTimeout)!==null&&Gr!==void 0?Gr:15e3,proxy:T.proxy,useCORS:(ia=T.useCORS)!==null&&ia!==void 0?ia:!1},ve=i({logging:(Oi=T.logging)!==null&&Oi!==void 0?Oi:!0,cache:T.cache},re),Pe={windowWidth:(el=T.windowWidth)!==null&&el!==void 0?el:_.innerWidth,windowHeight:(rs=T.windowHeight)!==null&&rs!==void 0?rs:_.innerHeight,scrollX:(Ai=T.scrollX)!==null&&Ai!==void 0?Ai:_.pageXOffset,scrollY:(Wu=T.scrollY)!==null&&Wu!==void 0?Wu:_.pageYOffset},ze=new u(Pe.scrollX,Pe.scrollY,Pe.windowWidth,Pe.windowHeight),We=new ch(ve,ze),dt=(Xi=T.foreignObjectRendering)!==null&&Xi!==void 0?Xi:!1,mt={allowTaint:(Pa=T.allowTaint)!==null&&Pa!==void 0?Pa:!1,onclone:T.onclone,ignoreElements:T.ignoreElements,inlineImages:dt,copyStyles:dt},We.logger.debug("Starting document clone with size "+ze.width+"x"+ze.height+" scrolled to "+-ze.left+","+-ze.top),jt=new ap(We,F,mt),Ht=jt.clonedReferenceElement,Ht?[4,jt.toIFrame(P,ze)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return fr=Sl.sent(),lr=rh(Ht)||Pv(Ht)?A(Ht.ownerDocument):f(We,Ht),cr=lr.width,tn=lr.height,Br=lr.left,Nr=lr.top,dn=nx(We,Ht,T.backgroundColor),Zr={canvas:T.canvas,backgroundColor:dn,scale:(ac=(Kc=T.scale)!==null&&Kc!==void 0?Kc:_.devicePixelRatio)!==null&&ac!==void 0?ac:1,x:((qu=T.x)!==null&&qu!==void 0?qu:0)+Br,y:((Kd=T.y)!==null&&Kd!==void 0?Kd:0)+Nr,width:(Vd=T.width)!==null&&Vd!==void 0?Vd:Math.ceil(cr),height:(Vc=T.height)!==null&&Vc!==void 0?Vc:Math.ceil(tn)},dt?(We.logger.debug("Document cloned, using foreign object rendering"),bn=new qA(We,Zr),[4,bn.render(Ht)]):[3,3];case 2:return Qr=Sl.sent(),[3,5];case 3:return We.logger.debug("Document cloned, element located at "+Br+","+Nr+" with size "+cr+"x"+tn+" using computed rendering"),We.logger.debug("Starting DOM parsing"),gr=rc(We,Ht),dn===gr.styles.backgroundColor&&(gr.styles.backgroundColor=wa.TRANSPARENT),We.logger.debug("Starting renderer for element at "+Zr.x+","+Zr.y+" with size "+Zr.width+"x"+Zr.height),bn=new Hd(We,Zr),[4,bn.render(gr)];case 4:Qr=Sl.sent(),Sl.label=5;case 5:return(!((zd=T.removeContainer)!==null&&zd!==void 0)||zd)&&(ap.destroy(fr)||We.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),We.logger.debug("Finished rendering"),[2,Qr]}})})},nx=function(F,T,P){var _=T.ownerDocument,re=_.documentElement?li(F,getComputedStyle(_.documentElement).backgroundColor):wa.TRANSPARENT,ve=_.body?li(F,getComputedStyle(_.body).backgroundColor):wa.TRANSPARENT,Pe=typeof P=="string"?li(F,P):P===null?wa.TRANSPARENT:4294967295;return T===_.documentElement?oi(re)?oi(ve)?Pe:ve:re:Pe};return Mm})}(sb)),sb.exports}/*!
 * html2pdf.js v0.10.3
 * Copyright (c) 2025 Erik Koopmans
 * Released under the MIT License.
 */var NF;function TZ(){return NF||(NF=1,function(t,r){(function(a,i){t.exports=i(SZ,EZ())})(self,function(n,a){return function(){var i={"./src/plugin/hyperlinks.js":function(u,f,A){A.r(f),A("./node_modules/core-js/modules/web.dom-collections.for-each.js"),A("./node_modules/core-js/modules/es.string.link.js");var m=A("./src/worker.js"),p=A("./src/utils.js"),g=[],b={toContainer:m.default.prototype.toContainer,toPdf:m.default.prototype.toPdf};m.default.prototype.toContainer=function(){return b.toContainer.call(this).then(function(){if(this.opt.enableLinks){var j=this.prop.container,C=j.querySelectorAll("a"),S=(0,p.unitConvert)(j.getBoundingClientRect(),this.prop.pageSize.k);g=[],Array.prototype.forEach.call(C,function(E){for(var D=E.getClientRects(),k=0;k<D.length;k++){var L=(0,p.unitConvert)(D[k],this.prop.pageSize.k);L.left-=S.left,L.top-=S.top;var I=Math.floor(L.top/this.prop.pageSize.inner.height)+1,Y=this.opt.margin[0]+L.top%this.prop.pageSize.inner.height,Q=this.opt.margin[1]+L.left;g.push({page:I,top:Y,left:Q,clientRect:L,link:E})}},this)}})},m.default.prototype.toPdf=function(){return b.toPdf.call(this).then(function(){if(this.opt.enableLinks){g.forEach(function(C){this.prop.pdf.setPage(C.page),this.prop.pdf.link(C.left,C.top,C.clientRect.width,C.clientRect.height,{url:C.link.href})},this);var j=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(j)}})}},"./src/plugin/jspdf-plugin.js":function(u,f,A){A.r(f),A("./node_modules/core-js/modules/es.symbol.js"),A("./node_modules/core-js/modules/es.symbol.description.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.symbol.iterator.js"),A("./node_modules/core-js/modules/es.array.iterator.js"),A("./node_modules/core-js/modules/es.string.iterator.js"),A("./node_modules/core-js/modules/web.dom-collections.iterator.js");var m=A("jspdf");function p(g){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(v){return typeof v}:p=function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},p(g)}m.jsPDF.getPageSize=function(g,b,v){if(p(g)==="object"){var y=g;g=y.orientation,b=y.unit||b,v=y.format||v}b=b||"mm",v=v||"a4",g=(""+(g||"P")).toLowerCase();var j=(""+v).toLowerCase(),C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(b){case"pt":var S=1;break;case"mm":var S=72/25.4;break;case"cm":var S=72/2.54;break;case"in":var S=72;break;case"px":var S=72/96;break;case"pc":var S=12;break;case"em":var S=12;break;case"ex":var S=6;break;default:throw"Invalid unit: "+b}if(C.hasOwnProperty(j))var E=C[j][1]/S,D=C[j][0]/S;else try{var E=v[1],D=v[0]}catch{throw new Error("Invalid format: "+v)}if(g==="p"||g==="portrait"){if(g="p",D>E){var k=D;D=E,E=k}}else if(g==="l"||g==="landscape"){if(g="l",E>D){var k=D;D=E,E=k}}else throw"Invalid orientation: "+g;var L={width:D,height:E,unit:b,k:S};return L},f.default=m.jsPDF},"./src/plugin/pagebreaks.js":function(u,f,A){A.r(f),A("./node_modules/core-js/modules/es.array.concat.js"),A("./node_modules/core-js/modules/es.array.slice.js"),A("./node_modules/core-js/modules/es.array.join.js"),A("./node_modules/core-js/modules/web.dom-collections.for-each.js"),A("./node_modules/core-js/modules/es.object.keys.js");var m=A("./src/worker.js"),p=A("./src/utils.js"),g={toContainer:m.default.prototype.toContainer};m.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},m.default.prototype.toContainer=function(){return g.toContainer.call(this).then(function(){var y=this.prop.container,j=this.prop.pageSize.inner.px.height,C=[].concat(this.opt.pagebreak.mode),S={avoidAll:C.indexOf("avoid-all")!==-1,css:C.indexOf("css")!==-1,legacy:C.indexOf("legacy")!==-1},E={},D=this;["before","after","avoid"].forEach(function(I){var Y=S.avoidAll&&I==="avoid";E[I]=Y?[]:[].concat(D.opt.pagebreak[I]||[]),E[I].length>0&&(E[I]=Array.prototype.slice.call(y.querySelectorAll(E[I].join(", "))))});var k=y.querySelectorAll(".html2pdf__page-break");k=Array.prototype.slice.call(k);var L=y.querySelectorAll("*");Array.prototype.forEach.call(L,function(Y){var Q={before:!1,after:S.legacy&&k.indexOf(Y)!==-1,avoid:S.avoidAll};if(S.css){var H=window.getComputedStyle(Y),U=["always","page","left","right"],K=["avoid","avoid-page"];Q={before:Q.before||U.indexOf(H.breakBefore||H.pageBreakBefore)!==-1,after:Q.after||U.indexOf(H.breakAfter||H.pageBreakAfter)!==-1,avoid:Q.avoid||K.indexOf(H.breakInside||H.pageBreakInside)!==-1}}Object.keys(Q).forEach(function(Se){Q[Se]=Q[Se]||E[Se].indexOf(Y)!==-1});var X=Y.getBoundingClientRect();if(Q.avoid&&!Q.before){var Z=Math.floor(X.top/j),ee=Math.floor(X.bottom/j),de=Math.abs(X.bottom-X.top)/j;ee!==Z&&de<=1&&(Q.before=!0)}if(Q.before){var Ne=(0,p.createElement)("div",{style:{display:"block",height:j-X.top%j+"px"}});Y.parentNode.insertBefore(Ne,Y)}if(Q.after){var Ne=(0,p.createElement)("div",{style:{display:"block",height:j-X.bottom%j+"px"}});Y.parentNode.insertBefore(Ne,Y.nextSibling)}})})}},"./src/utils.js":function(u,f,A){A.r(f),A.d(f,{objType:function(){return p},createElement:function(){return g},cloneNode:function(){return b},unitConvert:function(){return v},toPx:function(){return y}}),A("./node_modules/core-js/modules/es.number.constructor.js"),A("./node_modules/core-js/modules/es.symbol.js"),A("./node_modules/core-js/modules/es.symbol.description.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.symbol.iterator.js"),A("./node_modules/core-js/modules/es.array.iterator.js"),A("./node_modules/core-js/modules/es.string.iterator.js"),A("./node_modules/core-js/modules/web.dom-collections.iterator.js");function m(j){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m=function(S){return typeof S}:m=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},m(j)}var p=function(C){var S=m(C);return S==="undefined"?"undefined":S==="string"||C instanceof String?"string":S==="number"||C instanceof Number?"number":S==="function"||C instanceof Function?"function":C&&C.constructor===Array?"array":C&&C.nodeType===1?"element":S==="object"?"object":"unknown"},g=function(C,S){var E=document.createElement(C);if(S.className&&(E.className=S.className),S.innerHTML){E.innerHTML=S.innerHTML;for(var D=E.getElementsByTagName("script"),k=D.length;k-- >0;null)D[k].parentNode.removeChild(D[k])}for(var L in S.style)E.style[L]=S.style[L];return E},b=function j(C,S){for(var E=C.nodeType===3?document.createTextNode(C.nodeValue):C.cloneNode(!1),D=C.firstChild;D;D=D.nextSibling)(S===!0||D.nodeType!==1||D.nodeName!=="SCRIPT")&&E.appendChild(j(D,S));return C.nodeType===1&&(C.nodeName==="CANVAS"?(E.width=C.width,E.height=C.height,E.getContext("2d").drawImage(C,0,0)):(C.nodeName==="TEXTAREA"||C.nodeName==="SELECT")&&(E.value=C.value),E.addEventListener("load",function(){E.scrollTop=C.scrollTop,E.scrollLeft=C.scrollLeft},!0)),E},v=function(C,S){if(p(C)==="number")return C*72/96/S;var E={};for(var D in C)E[D]=C[D]*72/96/S;return E},y=function(C,S){return Math.floor(C*S/72*96)}},"./src/worker.js":function(u,f,A){A.r(f),A("./node_modules/core-js/modules/es.object.assign.js"),A("./node_modules/core-js/modules/es.array.map.js"),A("./node_modules/core-js/modules/es.object.keys.js"),A("./node_modules/core-js/modules/es.array.concat.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.regexp.to-string.js"),A("./node_modules/core-js/modules/es.function.name.js"),A("./node_modules/core-js/modules/web.dom-collections.for-each.js");var m=A("jspdf"),p=A("html2canvas"),g=A("./src/utils.js"),b=A("./node_modules/es6-promise/dist/es6-promise.js"),v=A.n(b),y=v().Promise,j=function C(S){var E=Object.assign(C.convert(y.resolve()),JSON.parse(JSON.stringify(C.template))),D=C.convert(y.resolve(),E);return D=D.setProgress(1,C,1,[C]),D=D.set(S),D};j.prototype=Object.create(y.prototype),j.prototype.constructor=j,j.convert=function(S,E){return S.__proto__=E||j.prototype,S},j.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},j.prototype.from=function(S,E){function D(k){switch((0,g.objType)(k)){case"string":return"string";case"element":return k.nodeName.toLowerCase&&k.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(E=E||D(S),E){case"string":return this.set({src:(0,g.createElement)("div",{innerHTML:S})});case"element":return this.set({src:S});case"canvas":return this.set({canvas:S});case"img":return this.set({img:S});default:return this.error("Unknown source type.")}})},j.prototype.to=function(S){switch(S){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},j.prototype.toContainer=function(){var S=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(S).then(function(){var D={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},k={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};D.opacity=0;var L=(0,g.cloneNode)(this.prop.src,this.opt.html2canvas.javascriptEnabled);this.prop.overlay=(0,g.createElement)("div",{className:"html2pdf__overlay",style:D}),this.prop.container=(0,g.createElement)("div",{className:"html2pdf__container",style:k}),this.prop.container.appendChild(L),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay)})},j.prototype.toCanvas=function(){var S=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(S).then(function(){var D=Object.assign({},this.opt.html2canvas);return delete D.onrendered,p(this.prop.container,D)}).then(function(D){var k=this.opt.html2canvas.onrendered||function(){};k(D),this.prop.canvas=D,document.body.removeChild(this.prop.overlay)})},j.prototype.toImg=function(){var S=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(S).then(function(){var D=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=D})},j.prototype.toPdf=function(){var S=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(S).then(function(){var D=this.prop.canvas,k=this.opt,L=D.height,I=Math.floor(D.width*this.prop.pageSize.inner.ratio),Y=Math.ceil(L/I),Q=this.prop.pageSize.inner.height,H=document.createElement("canvas"),U=H.getContext("2d");H.width=D.width,H.height=I,this.prop.pdf=this.prop.pdf||new m.jsPDF(k.jsPDF);for(var K=0;K<Y;K++){K===Y-1&&L%I!==0&&(H.height=L%I,Q=H.height*this.prop.pageSize.inner.width/H.width);var X=H.width,Z=H.height;U.fillStyle="white",U.fillRect(0,0,X,Z),U.drawImage(D,0,K*I,X,Z,0,0,X,Z),K&&this.prop.pdf.addPage();var ee=H.toDataURL("image/"+k.image.type,k.image.quality);this.prop.pdf.addImage(ee,k.image.type,k.margin[1],k.margin[0],this.prop.pageSize.inner.width,Q)}})},j.prototype.output=function(S,E,D){return D=D||"pdf",D.toLowerCase()==="img"||D.toLowerCase()==="image"?this.outputImg(S,E):this.outputPdf(S,E)},j.prototype.outputPdf=function(S,E){var D=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(D).then(function(){return this.prop.pdf.output(S,E)})},j.prototype.outputImg=function(S,E){var D=[function(){return this.prop.img||this.toImg()}];return this.thenList(D).then(function(){switch(S){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+S+'" is not supported.'}})},j.prototype.save=function(S){var E=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(E).set(S?{filename:S}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},j.prototype.set=function(S){if((0,g.objType)(S)!=="object")return this;var E=Object.keys(S||{}).map(function(D){switch(D){case"margin":return this.setMargin.bind(this,S.margin);case"jsPDF":return function(){return this.opt.jsPDF=S.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,S.pageSize);default:return D in j.template.prop?function(){this.prop[D]=S[D]}:function(){this.opt[D]=S[D]}}},this);return this.then(function(){return this.thenList(E)})},j.prototype.get=function(S,E){return this.then(function(){var k=S in j.template.prop?this.prop[S]:this.opt[S];return E?E(k):k})},j.prototype.setMargin=function(S){return this.then(function(){switch((0,g.objType)(S)){case"number":S=[S,S,S,S];case"array":if(S.length===2&&(S=[S[0],S[1],S[0],S[1]]),S.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=S}).then(this.setPageSize)},j.prototype.setPageSize=function(S){return this.then(function(){S=S||m.jsPDF.getPageSize(this.opt.jsPDF),S.hasOwnProperty("inner")||(S.inner={width:S.width-this.opt.margin[1]-this.opt.margin[3],height:S.height-this.opt.margin[0]-this.opt.margin[2]},S.inner.px={width:(0,g.toPx)(S.inner.width,S.k),height:(0,g.toPx)(S.inner.height,S.k)},S.inner.ratio=S.inner.height/S.inner.width),this.prop.pageSize=S})},j.prototype.setProgress=function(S,E,D,k){return S!=null&&(this.progress.val=S),E!=null&&(this.progress.state=E),D!=null&&(this.progress.n=D),k!=null&&(this.progress.stack=k),this.progress.ratio=this.progress.val/this.progress.state,this},j.prototype.updateProgress=function(S,E,D,k){return this.setProgress(S?this.progress.val+S:null,E||null,D?this.progress.n+D:null,k?this.progress.stack.concat(k):null)},j.prototype.then=function(S,E){var D=this;return this.thenCore(S,E,function(L,I){return D.updateProgress(null,null,1,[L]),y.prototype.then.call(this,function(Q){return D.updateProgress(null,L),Q}).then(L,I).then(function(Q){return D.updateProgress(1),Q})})},j.prototype.thenCore=function(S,E,D){D=D||y.prototype.then;var k=this;S&&(S=S.bind(k)),E&&(E=E.bind(k));var L=y.toString().indexOf("[native code]")!==-1&&y.name==="Promise",I=L?k:j.convert(Object.assign({},k),y.prototype),Y=D.call(I,S,E);return j.convert(Y,k.__proto__)},j.prototype.thenExternal=function(S,E){return y.prototype.then.call(this,S,E)},j.prototype.thenList=function(S){var E=this;return S.forEach(function(k){E=E.thenCore(k)}),E},j.prototype.catch=function(C){C&&(C=C.bind(this));var S=y.prototype.catch.call(this,C);return j.convert(S,this)},j.prototype.catchExternal=function(S){return y.prototype.catch.call(this,S)},j.prototype.error=function(S){return this.then(function(){throw new Error(S)})},j.prototype.using=j.prototype.set,j.prototype.saveAs=j.prototype.save,j.prototype.export=j.prototype.output,j.prototype.run=j.prototype.then,f.default=j},"./node_modules/core-js/internals/a-function.js":function(u){u.exports=function(f){if(typeof f!="function")throw TypeError(String(f)+" is not a function");return f}},"./node_modules/core-js/internals/a-possible-prototype.js":function(u,f,A){var m=A("./node_modules/core-js/internals/is-object.js");u.exports=function(p){if(!m(p)&&p!==null)throw TypeError("Can't set "+String(p)+" as a prototype");return p}},"./node_modules/core-js/internals/add-to-unscopables.js":function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js"),p=A("./node_modules/core-js/internals/object-create.js"),g=A("./node_modules/core-js/internals/object-define-property.js"),b=m("unscopables"),v=Array.prototype;v[b]==null&&g.f(v,b,{configurable:!0,value:p(null)}),u.exports=function(y){v[b][y]=!0}},"./node_modules/core-js/internals/an-object.js":function(u,f,A){var m=A("./node_modules/core-js/internals/is-object.js");u.exports=function(p){if(!m(p))throw TypeError(String(p)+" is not an object");return p}},"./node_modules/core-js/internals/array-for-each.js":function(u,f,A){var m=A("./node_modules/core-js/internals/array-iteration.js").forEach,p=A("./node_modules/core-js/internals/array-method-is-strict.js"),g=p("forEach");u.exports=g?[].forEach:function(v){return m(this,v,arguments.length>1?arguments[1]:void 0)}},"./node_modules/core-js/internals/array-includes.js":function(u,f,A){var m=A("./node_modules/core-js/internals/to-indexed-object.js"),p=A("./node_modules/core-js/internals/to-length.js"),g=A("./node_modules/core-js/internals/to-absolute-index.js"),b=function(v){return function(y,j,C){var S=m(y),E=p(S.length),D=g(C,E),k;if(v&&j!=j){for(;E>D;)if(k=S[D++],k!=k)return!0}else for(;E>D;D++)if((v||D in S)&&S[D]===j)return v||D||0;return!v&&-1}};u.exports={includes:b(!0),indexOf:b(!1)}},"./node_modules/core-js/internals/array-iteration.js":function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-context.js"),p=A("./node_modules/core-js/internals/indexed-object.js"),g=A("./node_modules/core-js/internals/to-object.js"),b=A("./node_modules/core-js/internals/to-length.js"),v=A("./node_modules/core-js/internals/array-species-create.js"),y=[].push,j=function(C){var S=C==1,E=C==2,D=C==3,k=C==4,L=C==6,I=C==7,Y=C==5||L;return function(Q,H,U,K){for(var X=g(Q),Z=p(X),ee=m(H,U,3),de=b(Z.length),Ne=0,Se=K||v,ue=S?Se(Q,de):E||I?Se(Q,0):void 0,xe,R;de>Ne;Ne++)if((Y||Ne in Z)&&(xe=Z[Ne],R=ee(xe,Ne,X),C))if(S)ue[Ne]=R;else if(R)switch(C){case 3:return!0;case 5:return xe;case 6:return Ne;case 2:y.call(ue,xe)}else switch(C){case 4:return!1;case 7:y.call(ue,xe)}return L?-1:D||k?k:ue}};u.exports={forEach:j(0),map:j(1),filter:j(2),some:j(3),every:j(4),find:j(5),findIndex:j(6),filterReject:j(7)}},"./node_modules/core-js/internals/array-method-has-species-support.js":function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),p=A("./node_modules/core-js/internals/well-known-symbol.js"),g=A("./node_modules/core-js/internals/engine-v8-version.js"),b=p("species");u.exports=function(v){return g>=51||!m(function(){var y=[],j=y.constructor={};return j[b]=function(){return{foo:1}},y[v](Boolean).foo!==1})}},"./node_modules/core-js/internals/array-method-is-strict.js":function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=function(p,g){var b=[][p];return!!b&&m(function(){b.call(null,g||function(){throw 1},1)})}},"./node_modules/core-js/internals/array-species-constructor.js":function(u,f,A){var m=A("./node_modules/core-js/internals/is-object.js"),p=A("./node_modules/core-js/internals/is-array.js"),g=A("./node_modules/core-js/internals/well-known-symbol.js"),b=g("species");u.exports=function(v){var y;return p(v)&&(y=v.constructor,typeof y=="function"&&(y===Array||p(y.prototype))?y=void 0:m(y)&&(y=y[b],y===null&&(y=void 0))),y===void 0?Array:y}},"./node_modules/core-js/internals/array-species-create.js":function(u,f,A){var m=A("./node_modules/core-js/internals/array-species-constructor.js");u.exports=function(p,g){return new(m(p))(g===0?0:g)}},"./node_modules/core-js/internals/classof-raw.js":function(u){var f={}.toString;u.exports=function(A){return f.call(A).slice(8,-1)}},"./node_modules/core-js/internals/classof.js":function(u,f,A){var m=A("./node_modules/core-js/internals/to-string-tag-support.js"),p=A("./node_modules/core-js/internals/classof-raw.js"),g=A("./node_modules/core-js/internals/well-known-symbol.js"),b=g("toStringTag"),v=p(function(){return arguments}())=="Arguments",y=function(j,C){try{return j[C]}catch{}};u.exports=m?p:function(j){var C,S,E;return j===void 0?"Undefined":j===null?"Null":typeof(S=y(C=Object(j),b))=="string"?S:v?p(C):(E=p(C))=="Object"&&typeof C.callee=="function"?"Arguments":E}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(u,f,A){var m=A("./node_modules/core-js/internals/has.js"),p=A("./node_modules/core-js/internals/own-keys.js"),g=A("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),b=A("./node_modules/core-js/internals/object-define-property.js");u.exports=function(v,y){for(var j=p(y),C=b.f,S=g.f,E=0;E<j.length;E++){var D=j[E];m(v,D)||C(v,D,S(y,D))}}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){function p(){}return p.prototype.constructor=null,Object.getPrototypeOf(new p)!==p.prototype})},"./node_modules/core-js/internals/create-html.js":function(u,f,A){var m=A("./node_modules/core-js/internals/require-object-coercible.js"),p=A("./node_modules/core-js/internals/to-string.js"),g=/"/g;u.exports=function(b,v,y,j){var C=p(m(b)),S="<"+v;return y!==""&&(S+=" "+y+'="'+p(j).replace(g,"&quot;")+'"'),S+">"+C+"</"+v+">"}},"./node_modules/core-js/internals/create-iterator-constructor.js":function(u,f,A){var m=A("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,p=A("./node_modules/core-js/internals/object-create.js"),g=A("./node_modules/core-js/internals/create-property-descriptor.js"),b=A("./node_modules/core-js/internals/set-to-string-tag.js"),v=A("./node_modules/core-js/internals/iterators.js"),y=function(){return this};u.exports=function(j,C,S){var E=C+" Iterator";return j.prototype=p(m,{next:g(1,S)}),b(j,E,!1,!0),v[E]=y,j}},"./node_modules/core-js/internals/create-non-enumerable-property.js":function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),p=A("./node_modules/core-js/internals/object-define-property.js"),g=A("./node_modules/core-js/internals/create-property-descriptor.js");u.exports=m?function(b,v,y){return p.f(b,v,g(1,y))}:function(b,v,y){return b[v]=y,b}},"./node_modules/core-js/internals/create-property-descriptor.js":function(u){u.exports=function(f,A){return{enumerable:!(f&1),configurable:!(f&2),writable:!(f&4),value:A}}},"./node_modules/core-js/internals/create-property.js":function(u,f,A){var m=A("./node_modules/core-js/internals/to-property-key.js"),p=A("./node_modules/core-js/internals/object-define-property.js"),g=A("./node_modules/core-js/internals/create-property-descriptor.js");u.exports=function(b,v,y){var j=m(v);j in b?p.f(b,j,g(0,y)):b[j]=y}},"./node_modules/core-js/internals/define-iterator.js":function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),p=A("./node_modules/core-js/internals/create-iterator-constructor.js"),g=A("./node_modules/core-js/internals/object-get-prototype-of.js"),b=A("./node_modules/core-js/internals/object-set-prototype-of.js"),v=A("./node_modules/core-js/internals/set-to-string-tag.js"),y=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),j=A("./node_modules/core-js/internals/redefine.js"),C=A("./node_modules/core-js/internals/well-known-symbol.js"),S=A("./node_modules/core-js/internals/is-pure.js"),E=A("./node_modules/core-js/internals/iterators.js"),D=A("./node_modules/core-js/internals/iterators-core.js"),k=D.IteratorPrototype,L=D.BUGGY_SAFARI_ITERATORS,I=C("iterator"),Y="keys",Q="values",H="entries",U=function(){return this};u.exports=function(K,X,Z,ee,de,Ne,Se){p(Z,X,ee);var ue=function(Ae){if(Ae===de&&ae)return ae;if(!L&&Ae in G)return G[Ae];switch(Ae){case Y:return function(){return new Z(this,Ae)};case Q:return function(){return new Z(this,Ae)};case H:return function(){return new Z(this,Ae)}}return function(){return new Z(this)}},xe=X+" Iterator",R=!1,G=K.prototype,ne=G[I]||G["@@iterator"]||de&&G[de],ae=!L&&ne||ue(de),oe=X=="Array"&&G.entries||ne,he,me,te;if(oe&&(he=g(oe.call(new K)),k!==Object.prototype&&he.next&&(!S&&g(he)!==k&&(b?b(he,k):typeof he[I]!="function"&&y(he,I,U)),v(he,xe,!0,!0),S&&(E[xe]=U))),de==Q&&ne&&ne.name!==Q&&(R=!0,ae=function(){return ne.call(this)}),(!S||Se)&&G[I]!==ae&&y(G,I,ae),E[X]=ae,de)if(me={values:ue(Q),keys:Ne?ae:ue(Y),entries:ue(H)},Se)for(te in me)(L||R||!(te in G))&&j(G,te,me[te]);else m({target:X,proto:!0,forced:L||R},me);return me}},"./node_modules/core-js/internals/define-well-known-symbol.js":function(u,f,A){var m=A("./node_modules/core-js/internals/path.js"),p=A("./node_modules/core-js/internals/has.js"),g=A("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),b=A("./node_modules/core-js/internals/object-define-property.js").f;u.exports=function(v){var y=m.Symbol||(m.Symbol={});p(y,v)||b(y,v,{value:g.f(v)})}},"./node_modules/core-js/internals/descriptors.js":function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},"./node_modules/core-js/internals/document-create-element.js":function(u,f,A){var m=A("./node_modules/core-js/internals/global.js"),p=A("./node_modules/core-js/internals/is-object.js"),g=m.document,b=p(g)&&p(g.createElement);u.exports=function(v){return b?g.createElement(v):{}}},"./node_modules/core-js/internals/dom-iterables.js":function(u){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"./node_modules/core-js/internals/engine-user-agent.js":function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js");u.exports=m("navigator","userAgent")||""},"./node_modules/core-js/internals/engine-v8-version.js":function(u,f,A){var m=A("./node_modules/core-js/internals/global.js"),p=A("./node_modules/core-js/internals/engine-user-agent.js"),g=m.process,b=m.Deno,v=g&&g.versions||b&&b.version,y=v&&v.v8,j,C;y?(j=y.split("."),C=j[0]<4?1:j[0]+j[1]):p&&(j=p.match(/Edge\/(\d+)/),(!j||j[1]>=74)&&(j=p.match(/Chrome\/(\d+)/),j&&(C=j[1]))),u.exports=C&&+C},"./node_modules/core-js/internals/enum-bug-keys.js":function(u){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/export.js":function(u,f,A){var m=A("./node_modules/core-js/internals/global.js"),p=A("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,g=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),b=A("./node_modules/core-js/internals/redefine.js"),v=A("./node_modules/core-js/internals/set-global.js"),y=A("./node_modules/core-js/internals/copy-constructor-properties.js"),j=A("./node_modules/core-js/internals/is-forced.js");u.exports=function(C,S){var E=C.target,D=C.global,k=C.stat,L,I,Y,Q,H,U;if(D?I=m:k?I=m[E]||v(E,{}):I=(m[E]||{}).prototype,I)for(Y in S){if(H=S[Y],C.noTargetGet?(U=p(I,Y),Q=U&&U.value):Q=I[Y],L=j(D?Y:E+(k?".":"#")+Y,C.forced),!L&&Q!==void 0){if(typeof H==typeof Q)continue;y(H,Q)}(C.sham||Q&&Q.sham)&&g(H,"sham",!0),b(I,Y,H,C)}}},"./node_modules/core-js/internals/fails.js":function(u){u.exports=function(f){try{return!!f()}catch{return!0}}},"./node_modules/core-js/internals/function-bind-context.js":function(u,f,A){var m=A("./node_modules/core-js/internals/a-function.js");u.exports=function(p,g,b){if(m(p),g===void 0)return p;switch(b){case 0:return function(){return p.call(g)};case 1:return function(v){return p.call(g,v)};case 2:return function(v,y){return p.call(g,v,y)};case 3:return function(v,y,j){return p.call(g,v,y,j)}}return function(){return p.apply(g,arguments)}}},"./node_modules/core-js/internals/get-built-in.js":function(u,f,A){var m=A("./node_modules/core-js/internals/global.js"),p=function(g){return typeof g=="function"?g:void 0};u.exports=function(g,b){return arguments.length<2?p(m[g]):m[g]&&m[g][b]}},"./node_modules/core-js/internals/global.js":function(u){var f=function(A){return A&&A.Math==Math&&A};u.exports=f(typeof globalThis=="object"&&globalThis)||f(typeof window=="object"&&window)||f(typeof self=="object"&&self)||f(typeof Fh=="object"&&Fh)||function(){return this}()||Function("return this")()},"./node_modules/core-js/internals/has.js":function(u,f,A){var m=A("./node_modules/core-js/internals/to-object.js"),p={}.hasOwnProperty;u.exports=Object.hasOwn||function(b,v){return p.call(m(b),v)}},"./node_modules/core-js/internals/hidden-keys.js":function(u){u.exports={}},"./node_modules/core-js/internals/html.js":function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js");u.exports=m("document","documentElement")},"./node_modules/core-js/internals/ie8-dom-define.js":function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),p=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/document-create-element.js");u.exports=!m&&!p(function(){return Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/indexed-object.js":function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),p=A("./node_modules/core-js/internals/classof-raw.js"),g="".split;u.exports=m(function(){return!Object("z").propertyIsEnumerable(0)})?function(b){return p(b)=="String"?g.call(b,""):Object(b)}:Object},"./node_modules/core-js/internals/inherit-if-required.js":function(u,f,A){var m=A("./node_modules/core-js/internals/is-object.js"),p=A("./node_modules/core-js/internals/object-set-prototype-of.js");u.exports=function(g,b,v){var y,j;return p&&typeof(y=b.constructor)=="function"&&y!==v&&m(j=y.prototype)&&j!==v.prototype&&p(g,j),g}},"./node_modules/core-js/internals/inspect-source.js":function(u,f,A){var m=A("./node_modules/core-js/internals/shared-store.js"),p=Function.toString;typeof m.inspectSource!="function"&&(m.inspectSource=function(g){return p.call(g)}),u.exports=m.inspectSource},"./node_modules/core-js/internals/internal-state.js":function(u,f,A){var m=A("./node_modules/core-js/internals/native-weak-map.js"),p=A("./node_modules/core-js/internals/global.js"),g=A("./node_modules/core-js/internals/is-object.js"),b=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),v=A("./node_modules/core-js/internals/has.js"),y=A("./node_modules/core-js/internals/shared-store.js"),j=A("./node_modules/core-js/internals/shared-key.js"),C=A("./node_modules/core-js/internals/hidden-keys.js"),S="Object already initialized",E=p.WeakMap,D,k,L,I=function(Z){return L(Z)?k(Z):D(Z,{})},Y=function(Z){return function(ee){var de;if(!g(ee)||(de=k(ee)).type!==Z)throw TypeError("Incompatible receiver, "+Z+" required");return de}};if(m||y.state){var Q=y.state||(y.state=new E),H=Q.get,U=Q.has,K=Q.set;D=function(Z,ee){if(U.call(Q,Z))throw new TypeError(S);return ee.facade=Z,K.call(Q,Z,ee),ee},k=function(Z){return H.call(Q,Z)||{}},L=function(Z){return U.call(Q,Z)}}else{var X=j("state");C[X]=!0,D=function(Z,ee){if(v(Z,X))throw new TypeError(S);return ee.facade=Z,b(Z,X,ee),ee},k=function(Z){return v(Z,X)?Z[X]:{}},L=function(Z){return v(Z,X)}}u.exports={set:D,get:k,has:L,enforce:I,getterFor:Y}},"./node_modules/core-js/internals/is-array.js":function(u,f,A){var m=A("./node_modules/core-js/internals/classof-raw.js");u.exports=Array.isArray||function(g){return m(g)=="Array"}},"./node_modules/core-js/internals/is-forced.js":function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),p=/#|\.prototype\./,g=function(C,S){var E=v[b(C)];return E==j?!0:E==y?!1:typeof S=="function"?m(S):!!S},b=g.normalize=function(C){return String(C).replace(p,".").toLowerCase()},v=g.data={},y=g.NATIVE="N",j=g.POLYFILL="P";u.exports=g},"./node_modules/core-js/internals/is-object.js":function(u){u.exports=function(f){return typeof f=="object"?f!==null:typeof f=="function"}},"./node_modules/core-js/internals/is-pure.js":function(u){u.exports=!1},"./node_modules/core-js/internals/is-symbol.js":function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js"),p=A("./node_modules/core-js/internals/use-symbol-as-uid.js");u.exports=p?function(g){return typeof g=="symbol"}:function(g){var b=m("Symbol");return typeof b=="function"&&Object(g)instanceof b}},"./node_modules/core-js/internals/iterators-core.js":function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),p=A("./node_modules/core-js/internals/object-get-prototype-of.js"),g=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),b=A("./node_modules/core-js/internals/has.js"),v=A("./node_modules/core-js/internals/well-known-symbol.js"),y=A("./node_modules/core-js/internals/is-pure.js"),j=v("iterator"),C=!1,S=function(){return this},E,D,k;[].keys&&(k=[].keys(),"next"in k?(D=p(p(k)),D!==Object.prototype&&(E=D)):C=!0);var L=E==null||m(function(){var I={};return E[j].call(I)!==I});L&&(E={}),(!y||L)&&!b(E,j)&&g(E,j,S),u.exports={IteratorPrototype:E,BUGGY_SAFARI_ITERATORS:C}},"./node_modules/core-js/internals/iterators.js":function(u){u.exports={}},"./node_modules/core-js/internals/native-symbol.js":function(u,f,A){var m=A("./node_modules/core-js/internals/engine-v8-version.js"),p=A("./node_modules/core-js/internals/fails.js");u.exports=!!Object.getOwnPropertySymbols&&!p(function(){var g=Symbol();return!String(g)||!(Object(g)instanceof Symbol)||!Symbol.sham&&m&&m<41})},"./node_modules/core-js/internals/native-weak-map.js":function(u,f,A){var m=A("./node_modules/core-js/internals/global.js"),p=A("./node_modules/core-js/internals/inspect-source.js"),g=m.WeakMap;u.exports=typeof g=="function"&&/native code/.test(p(g))},"./node_modules/core-js/internals/object-assign.js":function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),p=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/object-keys.js"),b=A("./node_modules/core-js/internals/object-get-own-property-symbols.js"),v=A("./node_modules/core-js/internals/object-property-is-enumerable.js"),y=A("./node_modules/core-js/internals/to-object.js"),j=A("./node_modules/core-js/internals/indexed-object.js"),C=Object.assign,S=Object.defineProperty;u.exports=!C||p(function(){if(m&&C({b:1},C(S({},"a",{enumerable:!0,get:function(){S(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var E={},D={},k=Symbol(),L="abcdefghijklmnopqrst";return E[k]=7,L.split("").forEach(function(I){D[I]=I}),C({},E)[k]!=7||g(C({},D)).join("")!=L})?function(D,k){for(var L=y(D),I=arguments.length,Y=1,Q=b.f,H=v.f;I>Y;)for(var U=j(arguments[Y++]),K=Q?g(U).concat(Q(U)):g(U),X=K.length,Z=0,ee;X>Z;)ee=K[Z++],(!m||H.call(U,ee))&&(L[ee]=U[ee]);return L}:C},"./node_modules/core-js/internals/object-create.js":function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js"),p=A("./node_modules/core-js/internals/object-define-properties.js"),g=A("./node_modules/core-js/internals/enum-bug-keys.js"),b=A("./node_modules/core-js/internals/hidden-keys.js"),v=A("./node_modules/core-js/internals/html.js"),y=A("./node_modules/core-js/internals/document-create-element.js"),j=A("./node_modules/core-js/internals/shared-key.js"),C=">",S="<",E="prototype",D="script",k=j("IE_PROTO"),L=function(){},I=function(K){return S+D+C+K+S+"/"+D+C},Y=function(K){K.write(I("")),K.close();var X=K.parentWindow.Object;return K=null,X},Q=function(){var K=y("iframe"),X="java"+D+":",Z;if(K.style)return K.style.display="none",v.appendChild(K),K.src=String(X),Z=K.contentWindow.document,Z.open(),Z.write(I("document.F=Object")),Z.close(),Z.F},H,U=function(){try{H=new ActiveXObject("htmlfile")}catch{}U=document.domain&&H?Y(H):Q()||Y(H);for(var K=g.length;K--;)delete U[E][g[K]];return U()};b[k]=!0,u.exports=Object.create||function(X,Z){var ee;return X!==null?(L[E]=m(X),ee=new L,L[E]=null,ee[k]=X):ee=U(),Z===void 0?ee:p(ee,Z)}},"./node_modules/core-js/internals/object-define-properties.js":function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),p=A("./node_modules/core-js/internals/object-define-property.js"),g=A("./node_modules/core-js/internals/an-object.js"),b=A("./node_modules/core-js/internals/object-keys.js");u.exports=m?Object.defineProperties:function(y,j){g(y);for(var C=b(j),S=C.length,E=0,D;S>E;)p.f(y,D=C[E++],j[D]);return y}},"./node_modules/core-js/internals/object-define-property.js":function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),p=A("./node_modules/core-js/internals/ie8-dom-define.js"),g=A("./node_modules/core-js/internals/an-object.js"),b=A("./node_modules/core-js/internals/to-property-key.js"),v=Object.defineProperty;f.f=m?v:function(j,C,S){if(g(j),C=b(C),g(S),p)try{return v(j,C,S)}catch{}if("get"in S||"set"in S)throw TypeError("Accessors not supported");return"value"in S&&(j[C]=S.value),j}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),p=A("./node_modules/core-js/internals/object-property-is-enumerable.js"),g=A("./node_modules/core-js/internals/create-property-descriptor.js"),b=A("./node_modules/core-js/internals/to-indexed-object.js"),v=A("./node_modules/core-js/internals/to-property-key.js"),y=A("./node_modules/core-js/internals/has.js"),j=A("./node_modules/core-js/internals/ie8-dom-define.js"),C=Object.getOwnPropertyDescriptor;f.f=m?C:function(E,D){if(E=b(E),D=v(D),j)try{return C(E,D)}catch{}if(y(E,D))return g(!p.f.call(E,D),E[D])}},"./node_modules/core-js/internals/object-get-own-property-names-external.js":function(u,f,A){var m=A("./node_modules/core-js/internals/to-indexed-object.js"),p=A("./node_modules/core-js/internals/object-get-own-property-names.js").f,g={}.toString,b=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],v=function(y){try{return p(y)}catch{return b.slice()}};u.exports.f=function(j){return b&&g.call(j)=="[object Window]"?v(j):p(m(j))}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(u,f,A){var m=A("./node_modules/core-js/internals/object-keys-internal.js"),p=A("./node_modules/core-js/internals/enum-bug-keys.js"),g=p.concat("length","prototype");f.f=Object.getOwnPropertyNames||function(v){return m(v,g)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(u,f){f.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(u,f,A){var m=A("./node_modules/core-js/internals/has.js"),p=A("./node_modules/core-js/internals/to-object.js"),g=A("./node_modules/core-js/internals/shared-key.js"),b=A("./node_modules/core-js/internals/correct-prototype-getter.js"),v=g("IE_PROTO"),y=Object.prototype;u.exports=b?Object.getPrototypeOf:function(j){return j=p(j),m(j,v)?j[v]:typeof j.constructor=="function"&&j instanceof j.constructor?j.constructor.prototype:j instanceof Object?y:null}},"./node_modules/core-js/internals/object-keys-internal.js":function(u,f,A){var m=A("./node_modules/core-js/internals/has.js"),p=A("./node_modules/core-js/internals/to-indexed-object.js"),g=A("./node_modules/core-js/internals/array-includes.js").indexOf,b=A("./node_modules/core-js/internals/hidden-keys.js");u.exports=function(v,y){var j=p(v),C=0,S=[],E;for(E in j)!m(b,E)&&m(j,E)&&S.push(E);for(;y.length>C;)m(j,E=y[C++])&&(~g(S,E)||S.push(E));return S}},"./node_modules/core-js/internals/object-keys.js":function(u,f,A){var m=A("./node_modules/core-js/internals/object-keys-internal.js"),p=A("./node_modules/core-js/internals/enum-bug-keys.js");u.exports=Object.keys||function(b){return m(b,p)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(u,f){var A={}.propertyIsEnumerable,m=Object.getOwnPropertyDescriptor,p=m&&!A.call({1:2},1);f.f=p?function(b){var v=m(this,b);return!!v&&v.enumerable}:A},"./node_modules/core-js/internals/object-set-prototype-of.js":function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js"),p=A("./node_modules/core-js/internals/a-possible-prototype.js");u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var g=!1,b={},v;try{v=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,v.call(b,[]),g=b instanceof Array}catch{}return function(j,C){return m(j),p(C),g?v.call(j,C):j.__proto__=C,j}}():void 0)},"./node_modules/core-js/internals/object-to-string.js":function(u,f,A){var m=A("./node_modules/core-js/internals/to-string-tag-support.js"),p=A("./node_modules/core-js/internals/classof.js");u.exports=m?{}.toString:function(){return"[object "+p(this)+"]"}},"./node_modules/core-js/internals/ordinary-to-primitive.js":function(u,f,A){var m=A("./node_modules/core-js/internals/is-object.js");u.exports=function(p,g){var b,v;if(g==="string"&&typeof(b=p.toString)=="function"&&!m(v=b.call(p))||typeof(b=p.valueOf)=="function"&&!m(v=b.call(p))||g!=="string"&&typeof(b=p.toString)=="function"&&!m(v=b.call(p)))return v;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/internals/own-keys.js":function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js"),p=A("./node_modules/core-js/internals/object-get-own-property-names.js"),g=A("./node_modules/core-js/internals/object-get-own-property-symbols.js"),b=A("./node_modules/core-js/internals/an-object.js");u.exports=m("Reflect","ownKeys")||function(y){var j=p.f(b(y)),C=g.f;return C?j.concat(C(y)):j}},"./node_modules/core-js/internals/path.js":function(u,f,A){var m=A("./node_modules/core-js/internals/global.js");u.exports=m},"./node_modules/core-js/internals/redefine.js":function(u,f,A){var m=A("./node_modules/core-js/internals/global.js"),p=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),g=A("./node_modules/core-js/internals/has.js"),b=A("./node_modules/core-js/internals/set-global.js"),v=A("./node_modules/core-js/internals/inspect-source.js"),y=A("./node_modules/core-js/internals/internal-state.js"),j=y.get,C=y.enforce,S=String(String).split("String");(u.exports=function(E,D,k,L){var I=L?!!L.unsafe:!1,Y=L?!!L.enumerable:!1,Q=L?!!L.noTargetGet:!1,H;if(typeof k=="function"&&(typeof D=="string"&&!g(k,"name")&&p(k,"name",D),H=C(k),H.source||(H.source=S.join(typeof D=="string"?D:""))),E===m){Y?E[D]=k:b(D,k);return}else I?!Q&&E[D]&&(Y=!0):delete E[D];Y?E[D]=k:p(E,D,k)})(Function.prototype,"toString",function(){return typeof this=="function"&&j(this).source||v(this)})},"./node_modules/core-js/internals/regexp-flags.js":function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js");u.exports=function(){var p=m(this),g="";return p.global&&(g+="g"),p.ignoreCase&&(g+="i"),p.multiline&&(g+="m"),p.dotAll&&(g+="s"),p.unicode&&(g+="u"),p.sticky&&(g+="y"),g}},"./node_modules/core-js/internals/require-object-coercible.js":function(u){u.exports=function(f){if(f==null)throw TypeError("Can't call method on "+f);return f}},"./node_modules/core-js/internals/set-global.js":function(u,f,A){var m=A("./node_modules/core-js/internals/global.js");u.exports=function(p,g){try{Object.defineProperty(m,p,{value:g,configurable:!0,writable:!0})}catch{m[p]=g}return g}},"./node_modules/core-js/internals/set-to-string-tag.js":function(u,f,A){var m=A("./node_modules/core-js/internals/object-define-property.js").f,p=A("./node_modules/core-js/internals/has.js"),g=A("./node_modules/core-js/internals/well-known-symbol.js"),b=g("toStringTag");u.exports=function(v,y,j){v&&!p(v=j?v:v.prototype,b)&&m(v,b,{configurable:!0,value:y})}},"./node_modules/core-js/internals/shared-key.js":function(u,f,A){var m=A("./node_modules/core-js/internals/shared.js"),p=A("./node_modules/core-js/internals/uid.js"),g=m("keys");u.exports=function(b){return g[b]||(g[b]=p(b))}},"./node_modules/core-js/internals/shared-store.js":function(u,f,A){var m=A("./node_modules/core-js/internals/global.js"),p=A("./node_modules/core-js/internals/set-global.js"),g="__core-js_shared__",b=m[g]||p(g,{});u.exports=b},"./node_modules/core-js/internals/shared.js":function(u,f,A){var m=A("./node_modules/core-js/internals/is-pure.js"),p=A("./node_modules/core-js/internals/shared-store.js");(u.exports=function(g,b){return p[g]||(p[g]=b!==void 0?b:{})})("versions",[]).push({version:"3.16.0",mode:m?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/internals/string-html-forced.js":function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=function(p){return m(function(){var g=""[p]('"');return g!==g.toLowerCase()||g.split('"').length>3})}},"./node_modules/core-js/internals/string-multibyte.js":function(u,f,A){var m=A("./node_modules/core-js/internals/to-integer.js"),p=A("./node_modules/core-js/internals/to-string.js"),g=A("./node_modules/core-js/internals/require-object-coercible.js"),b=function(v){return function(y,j){var C=p(g(y)),S=m(j),E=C.length,D,k;return S<0||S>=E?v?"":void 0:(D=C.charCodeAt(S),D<55296||D>56319||S+1===E||(k=C.charCodeAt(S+1))<56320||k>57343?v?C.charAt(S):D:v?C.slice(S,S+2):(D-55296<<10)+(k-56320)+65536)}};u.exports={codeAt:b(!1),charAt:b(!0)}},"./node_modules/core-js/internals/string-trim.js":function(u,f,A){var m=A("./node_modules/core-js/internals/require-object-coercible.js"),p=A("./node_modules/core-js/internals/to-string.js"),g=A("./node_modules/core-js/internals/whitespaces.js"),b="["+g+"]",v=RegExp("^"+b+b+"*"),y=RegExp(b+b+"*$"),j=function(C){return function(S){var E=p(m(S));return C&1&&(E=E.replace(v,"")),C&2&&(E=E.replace(y,"")),E}};u.exports={start:j(1),end:j(2),trim:j(3)}},"./node_modules/core-js/internals/to-absolute-index.js":function(u,f,A){var m=A("./node_modules/core-js/internals/to-integer.js"),p=Math.max,g=Math.min;u.exports=function(b,v){var y=m(b);return y<0?p(y+v,0):g(y,v)}},"./node_modules/core-js/internals/to-indexed-object.js":function(u,f,A){var m=A("./node_modules/core-js/internals/indexed-object.js"),p=A("./node_modules/core-js/internals/require-object-coercible.js");u.exports=function(g){return m(p(g))}},"./node_modules/core-js/internals/to-integer.js":function(u){var f=Math.ceil,A=Math.floor;u.exports=function(m){return isNaN(m=+m)?0:(m>0?A:f)(m)}},"./node_modules/core-js/internals/to-length.js":function(u,f,A){var m=A("./node_modules/core-js/internals/to-integer.js"),p=Math.min;u.exports=function(g){return g>0?p(m(g),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(u,f,A){var m=A("./node_modules/core-js/internals/require-object-coercible.js");u.exports=function(p){return Object(m(p))}},"./node_modules/core-js/internals/to-primitive.js":function(u,f,A){var m=A("./node_modules/core-js/internals/is-object.js"),p=A("./node_modules/core-js/internals/is-symbol.js"),g=A("./node_modules/core-js/internals/ordinary-to-primitive.js"),b=A("./node_modules/core-js/internals/well-known-symbol.js"),v=b("toPrimitive");u.exports=function(y,j){if(!m(y)||p(y))return y;var C=y[v],S;if(C!==void 0){if(j===void 0&&(j="default"),S=C.call(y,j),!m(S)||p(S))return S;throw TypeError("Can't convert object to primitive value")}return j===void 0&&(j="number"),g(y,j)}},"./node_modules/core-js/internals/to-property-key.js":function(u,f,A){var m=A("./node_modules/core-js/internals/to-primitive.js"),p=A("./node_modules/core-js/internals/is-symbol.js");u.exports=function(g){var b=m(g,"string");return p(b)?b:String(b)}},"./node_modules/core-js/internals/to-string-tag-support.js":function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js"),p=m("toStringTag"),g={};g[p]="z",u.exports=String(g)==="[object z]"},"./node_modules/core-js/internals/to-string.js":function(u,f,A){var m=A("./node_modules/core-js/internals/is-symbol.js");u.exports=function(p){if(m(p))throw TypeError("Cannot convert a Symbol value to a string");return String(p)}},"./node_modules/core-js/internals/uid.js":function(u){var f=0,A=Math.random();u.exports=function(m){return"Symbol("+String(m===void 0?"":m)+")_"+(++f+A).toString(36)}},"./node_modules/core-js/internals/use-symbol-as-uid.js":function(u,f,A){var m=A("./node_modules/core-js/internals/native-symbol.js");u.exports=m&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},"./node_modules/core-js/internals/well-known-symbol-wrapped.js":function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js");f.f=m},"./node_modules/core-js/internals/well-known-symbol.js":function(u,f,A){var m=A("./node_modules/core-js/internals/global.js"),p=A("./node_modules/core-js/internals/shared.js"),g=A("./node_modules/core-js/internals/has.js"),b=A("./node_modules/core-js/internals/uid.js"),v=A("./node_modules/core-js/internals/native-symbol.js"),y=A("./node_modules/core-js/internals/use-symbol-as-uid.js"),j=p("wks"),C=m.Symbol,S=y?C:C&&C.withoutSetter||b;u.exports=function(E){return(!g(j,E)||!(v||typeof j[E]=="string"))&&(v&&g(C,E)?j[E]=C[E]:j[E]=S("Symbol."+E)),j[E]}},"./node_modules/core-js/internals/whitespaces.js":function(u){u.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},"./node_modules/core-js/modules/es.array.concat.js":function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),p=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/is-array.js"),b=A("./node_modules/core-js/internals/is-object.js"),v=A("./node_modules/core-js/internals/to-object.js"),y=A("./node_modules/core-js/internals/to-length.js"),j=A("./node_modules/core-js/internals/create-property.js"),C=A("./node_modules/core-js/internals/array-species-create.js"),S=A("./node_modules/core-js/internals/array-method-has-species-support.js"),E=A("./node_modules/core-js/internals/well-known-symbol.js"),D=A("./node_modules/core-js/internals/engine-v8-version.js"),k=E("isConcatSpreadable"),L=9007199254740991,I="Maximum allowed index exceeded",Y=D>=51||!p(function(){var K=[];return K[k]=!1,K.concat()[0]!==K}),Q=S("concat"),H=function(K){if(!b(K))return!1;var X=K[k];return X!==void 0?!!X:g(K)},U=!Y||!Q;m({target:"Array",proto:!0,forced:U},{concat:function(X){var Z=v(this),ee=C(Z,0),de=0,Ne,Se,ue,xe,R;for(Ne=-1,ue=arguments.length;Ne<ue;Ne++)if(R=Ne===-1?Z:arguments[Ne],H(R)){if(xe=y(R.length),de+xe>L)throw TypeError(I);for(Se=0;Se<xe;Se++,de++)Se in R&&j(ee,de,R[Se])}else{if(de>=L)throw TypeError(I);j(ee,de++,R)}return ee.length=de,ee}})},"./node_modules/core-js/modules/es.array.iterator.js":function(u,f,A){var m=A("./node_modules/core-js/internals/to-indexed-object.js"),p=A("./node_modules/core-js/internals/add-to-unscopables.js"),g=A("./node_modules/core-js/internals/iterators.js"),b=A("./node_modules/core-js/internals/internal-state.js"),v=A("./node_modules/core-js/internals/define-iterator.js"),y="Array Iterator",j=b.set,C=b.getterFor(y);u.exports=v(Array,"Array",function(S,E){j(this,{type:y,target:m(S),index:0,kind:E})},function(){var S=C(this),E=S.target,D=S.kind,k=S.index++;return!E||k>=E.length?(S.target=void 0,{value:void 0,done:!0}):D=="keys"?{value:k,done:!1}:D=="values"?{value:E[k],done:!1}:{value:[k,E[k]],done:!1}},"values"),g.Arguments=g.Array,p("keys"),p("values"),p("entries")},"./node_modules/core-js/modules/es.array.join.js":function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),p=A("./node_modules/core-js/internals/indexed-object.js"),g=A("./node_modules/core-js/internals/to-indexed-object.js"),b=A("./node_modules/core-js/internals/array-method-is-strict.js"),v=[].join,y=p!=Object,j=b("join",",");m({target:"Array",proto:!0,forced:y||!j},{join:function(S){return v.call(g(this),S===void 0?",":S)}})},"./node_modules/core-js/modules/es.array.map.js":function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),p=A("./node_modules/core-js/internals/array-iteration.js").map,g=A("./node_modules/core-js/internals/array-method-has-species-support.js"),b=g("map");m({target:"Array",proto:!0,forced:!b},{map:function(y){return p(this,y,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.array.slice.js":function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),p=A("./node_modules/core-js/internals/is-object.js"),g=A("./node_modules/core-js/internals/is-array.js"),b=A("./node_modules/core-js/internals/to-absolute-index.js"),v=A("./node_modules/core-js/internals/to-length.js"),y=A("./node_modules/core-js/internals/to-indexed-object.js"),j=A("./node_modules/core-js/internals/create-property.js"),C=A("./node_modules/core-js/internals/well-known-symbol.js"),S=A("./node_modules/core-js/internals/array-method-has-species-support.js"),E=S("slice"),D=C("species"),k=[].slice,L=Math.max;m({target:"Array",proto:!0,forced:!E},{slice:function(Y,Q){var H=y(this),U=v(H.length),K=b(Y,U),X=b(Q===void 0?U:Q,U),Z,ee,de;if(g(H)&&(Z=H.constructor,typeof Z=="function"&&(Z===Array||g(Z.prototype))?Z=void 0:p(Z)&&(Z=Z[D],Z===null&&(Z=void 0)),Z===Array||Z===void 0))return k.call(H,K,X);for(ee=new(Z===void 0?Array:Z)(L(X-K,0)),de=0;K<X;K++,de++)K in H&&j(ee,de,H[K]);return ee.length=de,ee}})},"./node_modules/core-js/modules/es.function.name.js":function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),p=A("./node_modules/core-js/internals/object-define-property.js").f,g=Function.prototype,b=g.toString,v=/^\s*function ([^ (]*)/,y="name";m&&!(y in g)&&p(g,y,{configurable:!0,get:function(){try{return b.call(this).match(v)[1]}catch{return""}}})},"./node_modules/core-js/modules/es.number.constructor.js":function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),p=A("./node_modules/core-js/internals/global.js"),g=A("./node_modules/core-js/internals/is-forced.js"),b=A("./node_modules/core-js/internals/redefine.js"),v=A("./node_modules/core-js/internals/has.js"),y=A("./node_modules/core-js/internals/classof-raw.js"),j=A("./node_modules/core-js/internals/inherit-if-required.js"),C=A("./node_modules/core-js/internals/is-symbol.js"),S=A("./node_modules/core-js/internals/to-primitive.js"),E=A("./node_modules/core-js/internals/fails.js"),D=A("./node_modules/core-js/internals/object-create.js"),k=A("./node_modules/core-js/internals/object-get-own-property-names.js").f,L=A("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,I=A("./node_modules/core-js/internals/object-define-property.js").f,Y=A("./node_modules/core-js/internals/string-trim.js").trim,Q="Number",H=p[Q],U=H.prototype,K=y(D(U))==Q,X=function(Se){if(C(Se))throw TypeError("Cannot convert a Symbol value to a number");var ue=S(Se,"number"),xe,R,G,ne,ae,oe,he,me;if(typeof ue=="string"&&ue.length>2){if(ue=Y(ue),xe=ue.charCodeAt(0),xe===43||xe===45){if(R=ue.charCodeAt(2),R===88||R===120)return NaN}else if(xe===48){switch(ue.charCodeAt(1)){case 66:case 98:G=2,ne=49;break;case 79:case 111:G=8,ne=55;break;default:return+ue}for(ae=ue.slice(2),oe=ae.length,he=0;he<oe;he++)if(me=ae.charCodeAt(he),me<48||me>ne)return NaN;return parseInt(ae,G)}}return+ue};if(g(Q,!H(" 0o1")||!H("0b1")||H("+0x1"))){for(var Z=function(ue){var xe=arguments.length<1?0:ue,R=this;return R instanceof Z&&(K?E(function(){U.valueOf.call(R)}):y(R)!=Q)?j(new H(X(xe)),R,Z):X(xe)},ee=m?k(H):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),de=0,Ne;ee.length>de;de++)v(H,Ne=ee[de])&&!v(Z,Ne)&&I(Z,Ne,L(H,Ne));Z.prototype=U,U.constructor=Z,b(p,Q,Z)}},"./node_modules/core-js/modules/es.object.assign.js":function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),p=A("./node_modules/core-js/internals/object-assign.js");m({target:"Object",stat:!0,forced:Object.assign!==p},{assign:p})},"./node_modules/core-js/modules/es.object.keys.js":function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),p=A("./node_modules/core-js/internals/to-object.js"),g=A("./node_modules/core-js/internals/object-keys.js"),b=A("./node_modules/core-js/internals/fails.js"),v=b(function(){g(1)});m({target:"Object",stat:!0,forced:v},{keys:function(j){return g(p(j))}})},"./node_modules/core-js/modules/es.object.to-string.js":function(u,f,A){var m=A("./node_modules/core-js/internals/to-string-tag-support.js"),p=A("./node_modules/core-js/internals/redefine.js"),g=A("./node_modules/core-js/internals/object-to-string.js");m||p(Object.prototype,"toString",g,{unsafe:!0})},"./node_modules/core-js/modules/es.regexp.to-string.js":function(u,f,A){var m=A("./node_modules/core-js/internals/redefine.js"),p=A("./node_modules/core-js/internals/an-object.js"),g=A("./node_modules/core-js/internals/to-string.js"),b=A("./node_modules/core-js/internals/fails.js"),v=A("./node_modules/core-js/internals/regexp-flags.js"),y="toString",j=RegExp.prototype,C=j[y],S=b(function(){return C.call({source:"a",flags:"b"})!="/a/b"}),E=C.name!=y;(S||E)&&m(RegExp.prototype,y,function(){var k=p(this),L=g(k.source),I=k.flags,Y=g(I===void 0&&k instanceof RegExp&&!("flags"in j)?v.call(k):I);return"/"+L+"/"+Y},{unsafe:!0})},"./node_modules/core-js/modules/es.string.iterator.js":function(u,f,A){var m=A("./node_modules/core-js/internals/string-multibyte.js").charAt,p=A("./node_modules/core-js/internals/to-string.js"),g=A("./node_modules/core-js/internals/internal-state.js"),b=A("./node_modules/core-js/internals/define-iterator.js"),v="String Iterator",y=g.set,j=g.getterFor(v);b(String,"String",function(C){y(this,{type:v,string:p(C),index:0})},function(){var S=j(this),E=S.string,D=S.index,k;return D>=E.length?{value:void 0,done:!0}:(k=m(E,D),S.index+=k.length,{value:k,done:!1})})},"./node_modules/core-js/modules/es.string.link.js":function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),p=A("./node_modules/core-js/internals/create-html.js"),g=A("./node_modules/core-js/internals/string-html-forced.js");m({target:"String",proto:!0,forced:g("link")},{link:function(v){return p(this,"a","href",v)}})},"./node_modules/core-js/modules/es.symbol.description.js":function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),p=A("./node_modules/core-js/internals/descriptors.js"),g=A("./node_modules/core-js/internals/global.js"),b=A("./node_modules/core-js/internals/has.js"),v=A("./node_modules/core-js/internals/is-object.js"),y=A("./node_modules/core-js/internals/object-define-property.js").f,j=A("./node_modules/core-js/internals/copy-constructor-properties.js"),C=g.Symbol;if(p&&typeof C=="function"&&(!("description"in C.prototype)||C().description!==void 0)){var S={},E=function(){var Q=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),H=this instanceof E?new C(Q):Q===void 0?C():C(Q);return Q===""&&(S[H]=!0),H};j(E,C);var D=E.prototype=C.prototype;D.constructor=E;var k=D.toString,L=String(C("test"))=="Symbol(test)",I=/^Symbol\((.*)\)[^)]+$/;y(D,"description",{configurable:!0,get:function(){var Q=v(this)?this.valueOf():this,H=k.call(Q);if(b(S,Q))return"";var U=L?H.slice(7,-1):H.replace(I,"$1");return U===""?void 0:U}}),m({global:!0,forced:!0},{Symbol:E})}},"./node_modules/core-js/modules/es.symbol.iterator.js":function(u,f,A){var m=A("./node_modules/core-js/internals/define-well-known-symbol.js");m("iterator")},"./node_modules/core-js/modules/es.symbol.js":function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),p=A("./node_modules/core-js/internals/global.js"),g=A("./node_modules/core-js/internals/get-built-in.js"),b=A("./node_modules/core-js/internals/is-pure.js"),v=A("./node_modules/core-js/internals/descriptors.js"),y=A("./node_modules/core-js/internals/native-symbol.js"),j=A("./node_modules/core-js/internals/fails.js"),C=A("./node_modules/core-js/internals/has.js"),S=A("./node_modules/core-js/internals/is-array.js"),E=A("./node_modules/core-js/internals/is-object.js"),D=A("./node_modules/core-js/internals/is-symbol.js"),k=A("./node_modules/core-js/internals/an-object.js"),L=A("./node_modules/core-js/internals/to-object.js"),I=A("./node_modules/core-js/internals/to-indexed-object.js"),Y=A("./node_modules/core-js/internals/to-property-key.js"),Q=A("./node_modules/core-js/internals/to-string.js"),H=A("./node_modules/core-js/internals/create-property-descriptor.js"),U=A("./node_modules/core-js/internals/object-create.js"),K=A("./node_modules/core-js/internals/object-keys.js"),X=A("./node_modules/core-js/internals/object-get-own-property-names.js"),Z=A("./node_modules/core-js/internals/object-get-own-property-names-external.js"),ee=A("./node_modules/core-js/internals/object-get-own-property-symbols.js"),de=A("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),Ne=A("./node_modules/core-js/internals/object-define-property.js"),Se=A("./node_modules/core-js/internals/object-property-is-enumerable.js"),ue=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),xe=A("./node_modules/core-js/internals/redefine.js"),R=A("./node_modules/core-js/internals/shared.js"),G=A("./node_modules/core-js/internals/shared-key.js"),ne=A("./node_modules/core-js/internals/hidden-keys.js"),ae=A("./node_modules/core-js/internals/uid.js"),oe=A("./node_modules/core-js/internals/well-known-symbol.js"),he=A("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),me=A("./node_modules/core-js/internals/define-well-known-symbol.js"),te=A("./node_modules/core-js/internals/set-to-string-tag.js"),Ae=A("./node_modules/core-js/internals/internal-state.js"),V=A("./node_modules/core-js/internals/array-iteration.js").forEach,ie=G("hidden"),pe="Symbol",ye="prototype",ge=oe("toPrimitive"),le=Ae.set,Qe=Ae.getterFor(pe),ce=Object[ye],se=p.Symbol,je=g("JSON","stringify"),we=de.f,q=Ne.f,be=Z.f,Ee=Se.f,Re=R("symbols"),it=R("op-symbols"),et=R("string-to-symbol-registry"),Ct=R("symbol-to-string-registry"),_t=R("wks"),ot=p.QObject,Ie=!ot||!ot[ye]||!ot[ye].findChild,qe=v&&j(function(){return U(q({},"a",{get:function(){return q(this,"a",{value:7}).a}})).a!=7})?function(Tt,wt,Dt){var ir=we(ce,wt);ir&&delete ce[wt],q(Tt,wt,Dt),ir&&Tt!==ce&&q(ce,wt,ir)}:q,at=function(Tt,wt){var Dt=Re[Tt]=U(se[ye]);return le(Dt,{type:pe,tag:Tt,description:wt}),v||(Dt.description=wt),Dt},Ut=function(wt,Dt,ir){wt===ce&&Ut(it,Dt,ir),k(wt);var Dr=Y(Dt);return k(ir),C(Re,Dr)?(ir.enumerable?(C(wt,ie)&&wt[ie][Dr]&&(wt[ie][Dr]=!1),ir=U(ir,{enumerable:H(0,!1)})):(C(wt,ie)||q(wt,ie,H(1,{})),wt[ie][Dr]=!0),qe(wt,Dr,ir)):q(wt,Dr,ir)},Ue=function(wt,Dt){k(wt);var ir=I(Dt),Dr=K(ir).concat(Kt(ir));return V(Dr,function(Xr){(!v||Ce.call(ir,Xr))&&Ut(wt,Xr,ir[Xr])}),wt},At=function(wt,Dt){return Dt===void 0?U(wt):Ue(U(wt),Dt)},Ce=function(wt){var Dt=Y(wt),ir=Ee.call(this,Dt);return this===ce&&C(Re,Dt)&&!C(it,Dt)?!1:ir||!C(this,Dt)||!C(Re,Dt)||C(this,ie)&&this[ie][Dt]?ir:!0},tt=function(wt,Dt){var ir=I(wt),Dr=Y(Dt);if(!(ir===ce&&C(Re,Dr)&&!C(it,Dr))){var Xr=we(ir,Dr);return Xr&&C(Re,Dr)&&!(C(ir,ie)&&ir[ie][Dr])&&(Xr.enumerable=!0),Xr}},gt=function(wt){var Dt=be(I(wt)),ir=[];return V(Dt,function(Dr){!C(Re,Dr)&&!C(ne,Dr)&&ir.push(Dr)}),ir},Kt=function(wt){var Dt=wt===ce,ir=be(Dt?it:I(wt)),Dr=[];return V(ir,function(Xr){C(Re,Xr)&&(!Dt||C(ce,Xr))&&Dr.push(Re[Xr])}),Dr};if(y||(se=function(){if(this instanceof se)throw TypeError("Symbol is not a constructor");var wt=!arguments.length||arguments[0]===void 0?void 0:Q(arguments[0]),Dt=ae(wt),ir=function(Dr){this===ce&&ir.call(it,Dr),C(this,ie)&&C(this[ie],Dt)&&(this[ie][Dt]=!1),qe(this,Dt,H(1,Dr))};return v&&Ie&&qe(ce,Dt,{configurable:!0,set:ir}),at(Dt,wt)},xe(se[ye],"toString",function(){return Qe(this).tag}),xe(se,"withoutSetter",function(Tt){return at(ae(Tt),Tt)}),Se.f=Ce,Ne.f=Ut,de.f=tt,X.f=Z.f=gt,ee.f=Kt,he.f=function(Tt){return at(oe(Tt),Tt)},v&&(q(se[ye],"description",{configurable:!0,get:function(){return Qe(this).description}}),b||xe(ce,"propertyIsEnumerable",Ce,{unsafe:!0}))),m({global:!0,wrap:!0,forced:!y,sham:!y},{Symbol:se}),V(K(_t),function(Tt){me(Tt)}),m({target:pe,stat:!0,forced:!y},{for:function(Tt){var wt=Q(Tt);if(C(et,wt))return et[wt];var Dt=se(wt);return et[wt]=Dt,Ct[Dt]=wt,Dt},keyFor:function(wt){if(!D(wt))throw TypeError(wt+" is not a symbol");if(C(Ct,wt))return Ct[wt]},useSetter:function(){Ie=!0},useSimple:function(){Ie=!1}}),m({target:"Object",stat:!0,forced:!y,sham:!v},{create:At,defineProperty:Ut,defineProperties:Ue,getOwnPropertyDescriptor:tt}),m({target:"Object",stat:!0,forced:!y},{getOwnPropertyNames:gt,getOwnPropertySymbols:Kt}),m({target:"Object",stat:!0,forced:j(function(){ee.f(1)})},{getOwnPropertySymbols:function(wt){return ee.f(L(wt))}}),je){var Ke=!y||j(function(){var Tt=se();return je([Tt])!="[null]"||je({a:Tt})!="{}"||je(Object(Tt))!="{}"});m({target:"JSON",stat:!0,forced:Ke},{stringify:function(wt,Dt,ir){for(var Dr=[wt],Xr=1,hs;arguments.length>Xr;)Dr.push(arguments[Xr++]);if(hs=Dt,!(!E(Dt)&&wt===void 0||D(wt)))return S(Dt)||(Dt=function(kn,xr){if(typeof hs=="function"&&(xr=hs.call(this,kn,xr)),!D(xr))return xr}),Dr[1]=Dt,je.apply(null,Dr)}})}se[ye][ge]||ue(se[ye],ge,se[ye].valueOf),te(se,pe),ne[ie]=!0},"./node_modules/core-js/modules/web.dom-collections.for-each.js":function(u,f,A){var m=A("./node_modules/core-js/internals/global.js"),p=A("./node_modules/core-js/internals/dom-iterables.js"),g=A("./node_modules/core-js/internals/array-for-each.js"),b=A("./node_modules/core-js/internals/create-non-enumerable-property.js");for(var v in p){var y=m[v],j=y&&y.prototype;if(j&&j.forEach!==g)try{b(j,"forEach",g)}catch{j.forEach=g}}},"./node_modules/core-js/modules/web.dom-collections.iterator.js":function(u,f,A){var m=A("./node_modules/core-js/internals/global.js"),p=A("./node_modules/core-js/internals/dom-iterables.js"),g=A("./node_modules/core-js/modules/es.array.iterator.js"),b=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),v=A("./node_modules/core-js/internals/well-known-symbol.js"),y=v("iterator"),j=v("toStringTag"),C=g.values;for(var S in p){var E=m[S],D=E&&E.prototype;if(D){if(D[y]!==C)try{b(D,y,C)}catch{D[y]=C}if(D[j]||b(D,j,S),p[S]){for(var k in g)if(D[k]!==g[k])try{b(D,k,g[k])}catch{D[k]=g[k]}}}}},"./node_modules/es6-promise/dist/es6-promise.js":function(u){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(f,A){u.exports=A()})(this,function(){function f(ot){var Ie=typeof ot;return ot!==null&&(Ie==="object"||Ie==="function")}function A(ot){return typeof ot=="function"}var m=void 0;Array.isArray?m=Array.isArray:m=function(ot){return Object.prototype.toString.call(ot)==="[object Array]"};var p=m,g=0,b=void 0,v=void 0,y=function(Ie,qe){K[g]=Ie,K[g+1]=qe,g+=2,g===2&&(v?v(X):ee())};function j(ot){v=ot}function C(ot){y=ot}var S=typeof window<"u"?window:void 0,E=S||{},D=E.MutationObserver||E.WebKitMutationObserver,k=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",L=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function I(){return function(){return process.nextTick(X)}}function Y(){return typeof b<"u"?function(){b(X)}:U()}function Q(){var ot=0,Ie=new D(X),qe=document.createTextNode("");return Ie.observe(qe,{characterData:!0}),function(){qe.data=ot=++ot%2}}function H(){var ot=new MessageChannel;return ot.port1.onmessage=X,function(){return ot.port2.postMessage(0)}}function U(){var ot=setTimeout;return function(){return ot(X,1)}}var K=new Array(1e3);function X(){for(var ot=0;ot<g;ot+=2){var Ie=K[ot],qe=K[ot+1];Ie(qe),K[ot]=void 0,K[ot+1]=void 0}g=0}function Z(){try{var ot=Function("return this")().require("vertx");return b=ot.runOnLoop||ot.runOnContext,Y()}catch{return U()}}var ee=void 0;k?ee=I():D?ee=Q():L?ee=H():S===void 0?ee=Z():ee=U();function de(ot,Ie){var qe=this,at=new this.constructor(ue);at[Se]===void 0&&je(at);var Ut=qe._state;if(Ut){var Ue=arguments[Ut-1];y(function(){return le(Ut,at,Ue,qe._result)})}else ye(qe,at,ot,Ie);return at}function Ne(ot){var Ie=this;if(ot&&typeof ot=="object"&&ot.constructor===Ie)return ot;var qe=new Ie(ue);return Ae(qe,ot),qe}var Se=Math.random().toString(36).substring(2);function ue(){}var xe=void 0,R=1,G=2;function ne(){return new TypeError("You cannot resolve a promise with itself")}function ae(){return new TypeError("A promises callback cannot return that same promise.")}function oe(ot,Ie,qe,at){try{ot.call(Ie,qe,at)}catch(Ut){return Ut}}function he(ot,Ie,qe){y(function(at){var Ut=!1,Ue=oe(qe,Ie,function(At){Ut||(Ut=!0,Ie!==At?Ae(at,At):ie(at,At))},function(At){Ut||(Ut=!0,pe(at,At))},"Settle: "+(at._label||" unknown promise"));!Ut&&Ue&&(Ut=!0,pe(at,Ue))},ot)}function me(ot,Ie){Ie._state===R?ie(ot,Ie._result):Ie._state===G?pe(ot,Ie._result):ye(Ie,void 0,function(qe){return Ae(ot,qe)},function(qe){return pe(ot,qe)})}function te(ot,Ie,qe){Ie.constructor===ot.constructor&&qe===de&&Ie.constructor.resolve===Ne?me(ot,Ie):qe===void 0?ie(ot,Ie):A(qe)?he(ot,Ie,qe):ie(ot,Ie)}function Ae(ot,Ie){if(ot===Ie)pe(ot,ne());else if(f(Ie)){var qe=void 0;try{qe=Ie.then}catch(at){pe(ot,at);return}te(ot,Ie,qe)}else ie(ot,Ie)}function V(ot){ot._onerror&&ot._onerror(ot._result),ge(ot)}function ie(ot,Ie){ot._state===xe&&(ot._result=Ie,ot._state=R,ot._subscribers.length!==0&&y(ge,ot))}function pe(ot,Ie){ot._state===xe&&(ot._state=G,ot._result=Ie,y(V,ot))}function ye(ot,Ie,qe,at){var Ut=ot._subscribers,Ue=Ut.length;ot._onerror=null,Ut[Ue]=Ie,Ut[Ue+R]=qe,Ut[Ue+G]=at,Ue===0&&ot._state&&y(ge,ot)}function ge(ot){var Ie=ot._subscribers,qe=ot._state;if(Ie.length!==0){for(var at=void 0,Ut=void 0,Ue=ot._result,At=0;At<Ie.length;At+=3)at=Ie[At],Ut=Ie[At+qe],at?le(qe,at,Ut,Ue):Ut(Ue);ot._subscribers.length=0}}function le(ot,Ie,qe,at){var Ut=A(qe),Ue=void 0,At=void 0,Ce=!0;if(Ut){try{Ue=qe(at)}catch(tt){Ce=!1,At=tt}if(Ie===Ue){pe(Ie,ae());return}}else Ue=at;Ie._state!==xe||(Ut&&Ce?Ae(Ie,Ue):Ce===!1?pe(Ie,At):ot===R?ie(Ie,Ue):ot===G&&pe(Ie,Ue))}function Qe(ot,Ie){try{Ie(function(at){Ae(ot,at)},function(at){pe(ot,at)})}catch(qe){pe(ot,qe)}}var ce=0;function se(){return ce++}function je(ot){ot[Se]=ce++,ot._state=void 0,ot._result=void 0,ot._subscribers=[]}function we(){return new Error("Array Methods must be provided an Array")}var q=function(){function ot(Ie,qe){this._instanceConstructor=Ie,this.promise=new Ie(ue),this.promise[Se]||je(this.promise),p(qe)?(this.length=qe.length,this._remaining=qe.length,this._result=new Array(this.length),this.length===0?ie(this.promise,this._result):(this.length=this.length||0,this._enumerate(qe),this._remaining===0&&ie(this.promise,this._result))):pe(this.promise,we())}return ot.prototype._enumerate=function(qe){for(var at=0;this._state===xe&&at<qe.length;at++)this._eachEntry(qe[at],at)},ot.prototype._eachEntry=function(qe,at){var Ut=this._instanceConstructor,Ue=Ut.resolve;if(Ue===Ne){var At=void 0,Ce=void 0,tt=!1;try{At=qe.then}catch(Kt){tt=!0,Ce=Kt}if(At===de&&qe._state!==xe)this._settledAt(qe._state,at,qe._result);else if(typeof At!="function")this._remaining--,this._result[at]=qe;else if(Ut===Ct){var gt=new Ut(ue);tt?pe(gt,Ce):te(gt,qe,At),this._willSettleAt(gt,at)}else this._willSettleAt(new Ut(function(Kt){return Kt(qe)}),at)}else this._willSettleAt(Ue(qe),at)},ot.prototype._settledAt=function(qe,at,Ut){var Ue=this.promise;Ue._state===xe&&(this._remaining--,qe===G?pe(Ue,Ut):this._result[at]=Ut),this._remaining===0&&ie(Ue,this._result)},ot.prototype._willSettleAt=function(qe,at){var Ut=this;ye(qe,void 0,function(Ue){return Ut._settledAt(R,at,Ue)},function(Ue){return Ut._settledAt(G,at,Ue)})},ot}();function be(ot){return new q(this,ot).promise}function Ee(ot){var Ie=this;return p(ot)?new Ie(function(qe,at){for(var Ut=ot.length,Ue=0;Ue<Ut;Ue++)Ie.resolve(ot[Ue]).then(qe,at)}):new Ie(function(qe,at){return at(new TypeError("You must pass an array to race."))})}function Re(ot){var Ie=this,qe=new Ie(ue);return pe(qe,ot),qe}function it(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function et(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Ct=function(){function ot(Ie){this[Se]=se(),this._result=this._state=void 0,this._subscribers=[],ue!==Ie&&(typeof Ie!="function"&&it(),this instanceof ot?Qe(this,Ie):et())}return ot.prototype.catch=function(qe){return this.then(null,qe)},ot.prototype.finally=function(qe){var at=this,Ut=at.constructor;return A(qe)?at.then(function(Ue){return Ut.resolve(qe()).then(function(){return Ue})},function(Ue){return Ut.resolve(qe()).then(function(){throw Ue})}):at.then(qe,qe)},ot}();Ct.prototype.then=de,Ct.all=be,Ct.race=Ee,Ct.resolve=Ne,Ct.reject=Re,Ct._setScheduler=j,Ct._setAsap=C,Ct._asap=y;function _t(){var ot=void 0;if(typeof Fh<"u")ot=Fh;else if(typeof self<"u")ot=self;else try{ot=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Ie=ot.Promise;if(Ie){var qe=null;try{qe=Object.prototype.toString.call(Ie.resolve())}catch{}if(qe==="[object Promise]"&&!Ie.cast)return}ot.Promise=Ct}return Ct.polyfill=_t,Ct.Promise=Ct,Ct})},html2canvas:function(u){u.exports=a},jspdf:function(u){u.exports=n}},o={};function l(u){var f=o[u];if(f!==void 0)return f.exports;var A=o[u]={exports:{}};return i[u].call(A.exports,A,A.exports,l),A.exports}(function(){l.n=function(u){var f=u&&u.__esModule?function(){return u.default}:function(){return u};return l.d(f,{a:f}),f}})(),function(){l.d=function(u,f){for(var A in f)l.o(f,A)&&!l.o(u,A)&&Object.defineProperty(u,A,{enumerable:!0,get:f[A]})}}(),function(){l.o=function(u,f){return Object.prototype.hasOwnProperty.call(u,f)}}(),function(){l.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}}();var c={};return function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/l.r(c);var u=l("./src/worker.js");l("./src/plugin/jspdf-plugin.js"),l("./src/plugin/pagebreaks.js"),l("./src/plugin/hyperlinks.js");var f=function A(m,p){var g=new A.Worker(p);return m?g.from(m).save():g};f.Worker=u.default,c.default=f}(),c=c.default,c}()})}(d4)),d4.exports}var FZ=TZ();const IZ=vc(FZ),wp="https://vidyaastra.com/api",_Z=()=>{const[t,r]=w.useState(!1),[n,a]=w.useState(""),[i,o]=w.useState(!1),[l,c]=w.useState(!1),[u,f]=w.useState(null),[A,m]=w.useState([]),[p,g]=w.useState(""),[b,v]=w.useState("All"),[y,j]=w.useState(""),[C,S]=w.useState(null),[E,D]=w.useState(null),[k,L]=w.useState("#6B46C1"),[I,Y]=w.useState(!1),[Q,H]=w.useState(null),[U,K]=w.useState(!1),X=w.useRef(null);w.useEffect(()=>{if(typeof window<"u"){L(localStorage.getItem("color")||"#6B46C1");const V=localStorage.getItem("schoolId");S(V),V||(a("School ID is missing. Please set your school ID."),j("❌ School ID not found in localStorage"))}},[]);const Z=async V=>{if(!V)return null;try{console.log("Fetching school details for ID:",V);const ie=[`${wp}/school/${V}`,`${wp}/schools/${V}`,`${wp}/school?id=${V}`];let pe=null,ye=null;for(const le of ie)try{if(console.log("Trying endpoint:",le),pe=await ue(le),pe.ok){ye=await pe.json(),console.log("School API Response:",ye);break}}catch(Qe){console.log(`Endpoint ${le} failed:`,Qe.message);continue}if(ye){let le=null;if(ye.success&&ye.data||ye.data?le=ye.data:(ye._id||ye.name)&&(le=ye),le){const Qe={name:le.name||"School Name Not Available",address:le.address||"Address Not Available",phone:le.phone||"Phone Not Available",email:le.email||"Email Not Available",logo:le.logoUrl?`https://vidyaastra.com${le.logoUrl}`:"/placeholder.svg?height=100&width=100&text=School+Logo",schoolCode:le.schoolCode||"N/A",adminName:le.adminName||"N/A",adminEmail:le.adminEmail||"N/A",adminContact:le.adminContact||"N/A"};return console.log("Processed school details:",Qe),D(Qe),Qe}}console.warn("Could not fetch school details, using fallback");const ge={name:"School Name Not Available",address:"Address Not Available",phone:"Phone Not Available",email:"Email Not Available",logo:"/placeholder.svg?height=100&width=100&text=School+Logo",schoolCode:V,adminName:"N/A",adminEmail:"N/A",adminContact:"N/A"};return D(ge),ge}catch(ie){console.error("Error fetching school details:",ie);const pe={name:"School Name Not Available",address:"Address Not Available",phone:"Phone Not Available",email:"Email Not Available",logo:"/placeholder.svg?height=100&width=100&text=School+Logo",schoolCode:V,adminName:"N/A",adminEmail:"N/A",adminContact:"N/A"};return D(pe),pe}};w.useEffect(()=>{C&&!E&&Z(C)},[C,E]);const ee=V=>`₹${Number(V||0).toLocaleString()}`,de=V=>{if(!V)return"N/A";try{return new Date(V).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Date"}},Ne=V=>({Delivered:"bg-green-100 text-green-800",Processing:"bg-yellow-100 text-yellow-800",Shipped:"bg-blue-100 text-blue-800",Cancelled:"bg-red-100 text-red-800",Pending:"bg-gray-100 text-gray-800",Paid:"bg-green-100 text-green-800"})[V]||"bg-gray-100 text-gray-800",Se=V=>V==="UNIFORM"||V==="uniform"?s.jsx(nl,{className:"w-4 h-4"}):s.jsx(Ln,{className:"w-4 h-4"}),ue=async(V,ie=1e4)=>{const pe=new AbortController,ye=setTimeout(()=>pe.abort(),ie);try{const ge=await fetch(V,{signal:pe.signal,headers:{"Content-Type":"application/json",Accept:"application/json"}});return clearTimeout(ye),ge}catch(ge){throw clearTimeout(ye),ge}},xe=async()=>{if(!C){a("School ID is required to fetch orders."),j(V=>V+`
❌ Cannot fetch orders: School ID is missing`);return}r(!0),a(""),j(""),E||await Z(C);try{const V=[];let ie=[],pe=[],ye=[];V.push("🔍 Testing API connectivity..."),V.push(`🏫 Using School ID: ${C}`),V.push("📦 Fetching uniform orders...");try{const le=await ue(`${wp}/uniform/orders?schoolId=${C}`);if(V.push(`📦 Uniform API Response: ${le.status} ${le.statusText}`),le.ok){const Qe=await le.json(),ce=Qe.data||Qe||[];Array.isArray(ce)&&(ie=ce.map((se,je)=>{try{return{id:se._id||se.id||`uniform-${je}`,type:"UNIFORM",orderType:"uniform",date:se.createdAt||se.date||new Date().toISOString(),status:se.status||"Pending",items:se.items?.map(we=>`${we.uniformItem?.name||we.name||"Unknown"} ${we.size?`(${we.size})`:""} x ${we.quantity||1}`)||[`Order #${je+1}`],total:Number(se.totalAmount||se.total||0),customer:se.user?.name||se.customerName||"N/A",class:se.user?.class||se.class||"N/A",rawOrder:se}}catch(we){return V.push(`❌ Error processing uniform order ${je}: ${we.message}`),null}}).filter(Boolean)),V.push(`📦 Processed Uniform Orders: ${ie.length}`)}}catch(le){V.push(`❌ Uniform Fetch Error: ${le.message}`)}V.push("📚 Fetching book orders...");try{const le=await ue(`${wp}/orders?schoolId=${C}`);if(V.push(`📚 Book API Response: ${le.status} ${le.statusText}`),le.ok){const Qe=await le.json(),ce=Array.isArray(Qe)?Qe:Qe.data||Qe.orders||[];Array.isArray(ce)&&(pe=ce.map((se,je)=>{try{return{id:se._id||se.id||`book-${je}`,type:"BOOKS",orderType:"book",date:se.createdAt||se.date||new Date().toISOString(),status:se.status||"Pending",items:se.items?.map(we=>`${we.book?.title||we.title||we.name||"Unknown"} x ${we.quantity||1}`)||[`Order #${je+1}`],total:Number(se.totalAmount||se.total||0),customer:se.studentDetails?.name||se.student?.name||se.customerName||"N/A",class:se.studentDetails?.class||se.student?.class||se.class||"N/A",rawOrder:se}}catch(we){return V.push(`❌ Error processing book order ${je}: ${we.message}`),null}}).filter(Boolean)),V.push(`📚 Processed Book Orders: ${pe.length}`)}}catch(le){V.push(`❌ Book Fetch Error: ${le.message}`)}V.push("💰 Fetching fee orders...");try{const le=await ue(`${wp}/fees?schoolId=${C}`);if(V.push(`💰 Fee API Response: ${le.status} ${le.statusText}`),le.ok){const Qe=await le.json(),ce=Array.isArray(Qe)?Qe:Qe.data||Qe.fees||[];Array.isArray(ce)&&(ye=ce.map((se,je)=>{try{return{id:se._id||`fee-${je}`,type:"FEE",orderType:"fee",date:se.createdAt,status:se.status,items:[`${se.term||"Fee"} Fee`],total:se.totalAmount,customer:se.student?.name||"N/A",class:se.student?.class||"N/A",rawOrder:se,feeId:se._id,installments:se.installments}}catch(we){return V.push(`❌ Error processing fee order ${je}: ${we.message}`),null}}).filter(Boolean)),V.push(`💰 Processed Fee Orders: ${ye.length}`)}}catch(le){V.push(`❌ Fee Fetch Error: ${le.message}`)}const ge=[...ie,...pe,...ye].sort((le,Qe)=>new Date(Qe.date)-new Date(le.date));V.push(`🔄 Total Combined Orders: ${ge.length}`),m(ge),j(V.join(`
`)),ge.length===0&&a("No orders found. Check the debug info below for details.")}catch(V){const ie=`Failed to fetch orders: ${V.message}`;a(ie),j(pe=>pe+`
❌ General Error: ${ie}`)}finally{r(!1)}};w.useEffect(()=>{C&&xe()},[C]);const R=["All","Uniform","Books","Fee","Delivered","Processing","Shipped","Cancelled","Pending","Paid"],G=w.useMemo(()=>{let V=A;return b==="Uniform"?V=V.filter(ie=>ie.type==="UNIFORM"):b==="Books"?V=V.filter(ie=>ie.type==="BOOKS"):b==="Fee"?V=V.filter(ie=>ie.type==="FEE"):b!=="All"&&(V=V.filter(ie=>ie.status===b)),V},[b,A]),ne=w.useMemo(()=>{const V=p.toLowerCase();return G.filter(ie=>ie.customer.toLowerCase().includes(V)||ie.id.toLowerCase().includes(V)||ie.items.some(pe=>pe.toLowerCase().includes(V)))},[p,G]),ae=w.useMemo(()=>{const V=A.length,ie=A.filter(ge=>ge.status==="Delivered"||ge.status==="Paid").length,pe=A.filter(ge=>ge.status==="Processing").length,ye=A.filter(ge=>ge.status==="Delivered"||ge.status==="Paid").reduce((ge,le)=>ge+le.total,0);return{total:V,delivered:ie,processing:pe,totalRevenue:ye}},[A]),oe=V=>{f(V),o(!0)},he=async V=>{K(!0),f(V);try{let ie,pe=null,ye=E;!ye&&C&&(console.log("School data not available, fetching..."),ye=await Z(C)),V.orderType==="uniform"?pe=V.rawOrder.user:V.orderType==="book"?pe=V.rawOrder.studentDetails||V.rawOrder.student:V.orderType==="fee"&&(pe=V.rawOrder.student),pe||(pe={name:V.customer,studentId:"N/A",phone:"N/A",email:"N/A",class:V.class}),V.orderType==="fee"?ie={fee:V.rawOrder,installment:V.installments?.[0]||{},student:pe,school:ye}:ie={order:V.rawOrder,student:pe,school:ye},console.log("Invoice data prepared:",ie),H(ie),c(!0)}catch(ie){console.error("Error loading invoice data:",ie),alert("Failed to load invoice data. Please check console for details.")}finally{K(!1)}},me=(V,ie)=>{if(!V||!ie)return"";const pe=new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"});let ye,ge,le,Qe,ce,se,je,we=ie.student,q=ie.school;if(console.log("Generating invoice HTML with school data:",q),V.orderType==="fee"){const be=ie.fee,Ee=ie.installment;je="Fee Receipt",ye=Ee.receiptNumber||"N/A",ge=de(Ee.paidDate||be.createdAt),ce=Ee.paymentMethod||"N/A",se=Ee.status||"Pending",Qe=Ee.paid,le=`
        <div class="fee-details-section">
          <h3 class="section-title">Fee Installment Details</h3>
          <div class="detail-row">
            <span class="detail-label">Installment Title:</span>
            <span class="detail-value">Installment 1 (Term: ${be.term||"N/A"})</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Installment Value:</span>
            <span class="detail-value">₹${Ee.amount?.toFixed(2)||"0.00"}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Amount Paid:</span>
            <span class="detail-value">₹${Ee.paid?.toFixed(2)||"0.00"}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Paid Date:</span>
            <span class="detail-value">${de(Ee.paidDate)}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Receipt Number:</span>
            <span class="detail-value">${Ee.receiptNumber||"N/A"}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Payment Method:</span>
            <span class="detail-value">${Ee.paymentMethod||"N/A"}</span>
          </div>
        </div>
      `}else{const be=ie.order;je="Invoice",ye=V.id?.slice(-8)||"N/A",ge=de(V.date),ce=be.paymentMethod||"N/A",se=V.status||"Pending",Qe=V.total,le=`
        <div class="items-section">
          <h3 class="section-title">Order Items</h3>
          <table class="items-table">
            <thead>
              <tr>
                <th>Description</th>
                <th>Quantity</th>
                <th>Unit Price</th>
                <th>Amount</th>
              </tr>
            </thead>
            <tbody>
              ${be.items.map((Ee,Re)=>{const it=V.orderType==="book"?Ee.book?.title:Ee.uniformItem?.name,et=V.orderType==="book"?Ee.price:Ee.priceAtOrder,Ct=Ee.quantity,_t=V.orderType==="uniform"?` (Size: ${Ee.size})`:"",ot=(Ct*et).toFixed(2);return`
                  <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 12px 8px; text-align: left; border-right: 1px solid #eee;">
                      <div style="font-weight: 500; color: #333; margin-bottom: 2px;">${it}</div>
                      ${_t?`<div style="font-size: 11px; color: #666;">${_t}</div>`:""}
                    </td>
                    <td style="padding: 12px 8px; text-align: center; border-right: 1px solid #eee; font-weight: 500;">${Ct}</td>
                    <td style="padding: 12px 8px; text-align: right; border-right: 1px solid #eee;">₹${et?.toFixed(2)||"0.00"}</td>
                    <td style="padding: 12px 8px; text-align: right; font-weight: 600; color: #333;">₹${ot}</td>
                  </tr>
                `}).join("")}
            </tbody>
          </table>
        </div>
      `}return`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>${je} #${ye}</title>
      <style>
        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }

        body {
          font-family: 'Helvetica Neue', Arial, sans-serif;
          line-height: 1.6;
          color: #333;
          background: #f8f9fa;
          padding: 20px;
        }

        .invoice-container {
          max-width: 800px;
          margin: 0 auto;
          background: white;
          border-radius: 10px;
          overflow: hidden;
          box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .invoice-header {
          color: #333;
          padding: 40px;
          text-align: center;
        }

        .invoice-title {
          font-size: 32px;
          font-weight: bold;
          margin-bottom: 10px;
          text-transform: uppercase;
          letter-spacing: 2px;
        }

        .invoice-body {
          padding: 40px;
        }

        .school-info {
          display: flex;
          align-items: center;
          margin-bottom: 40px;
          padding-bottom: 30px;
          border-bottom: 3px solid #f0f0f0;
        }

        .school-logo {
          width: 80px;
          height: 80px;
          border-radius: 10px;
          margin-right: 30px;
          object-fit: contain;
          border: 2px solid #eee;
        }

        .school-details h2 {
          font-size: 24px;
          color: #333;
          margin-bottom: 8px;
          font-weight: bold;
        }

        .school-details p {
          color: #666;
          margin-bottom: 4px;
          font-size: 14px;
        }

        .invoice-meta {
          display: flex;
          justify-content: space-between;
          margin-bottom: 40px;
          gap: 40px;
        }

        .invoice-details, .billing-details {
          flex: 1;
          background: #f8f9fa;
          padding: 25px;
          border-radius: 8px;
          border-left: 4px solid ${k};
        }

        .invoice-details h3, .billing-details h3 {
          font-size: 18px;
          color: #333;
          margin-bottom: 15px;
          font-weight: bold;
        }

        .detail-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 8px;
          padding: 5px 0;
        }

        .detail-label {
          font-weight: 600;
          color: #555;
        }

        .detail-value {
          color: #333;
          font-weight: 500;
        }

        .items-section {
          margin: 40px 0;
        }

        .section-title {
          font-size: 20px;
          color: #333;
          margin-bottom: 20px;
          font-weight: bold;
          text-transform: uppercase;
          letter-spacing: 1px;
        }

        .items-table {
          width: 100%;
          border-collapse: collapse;
          border: 1px solid #ddd;
          border-radius: 8px;
          overflow: hidden;
          box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .items-table thead {
          background: linear-gradient(135deg, ${k} 0%, ${k} 100%);
          color: white;
        }

        .items-table th {
          padding: 15px 10px;
          text-align: left;
          font-weight: bold;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          font-size: 12px;
        }

        .items-table th:nth-child(2) {
          text-align: center;
        }

        .items-table th:nth-child(3),
        .items-table th:nth-child(4) {
          text-align: right;
        }

        .items-table tbody tr:nth-child(even) {
          background: #f9f9f9;
        }

        .items-table tbody tr:hover {
          background: #f0f0f0;
        }

        .fee-details-section {
          margin: 40px 0;
          background: #f8f9fa;
          padding: 25px;
          border-radius: 8px;
          border: 1px solid #eee;
          box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        .fee-details-section .section-title {
          font-size: 20px;
          color: #333;
          margin-bottom: 20px;
          font-weight: bold;
          text-transform: uppercase;
          letter-spacing: 1px;
          border-bottom: 2px solid ${k};
          padding-bottom: 10px;
        }

        .fee-details-section .detail-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 10px;
          padding: 8px 0;
          border-bottom: 1px dashed #e0e0e0;
        }

        .fee-details-section .detail-row:last-child {
          border-bottom: none;
          margin-bottom: 0;
        }

        .fee-details-section .detail-label {
          font-weight: 600;
          color: #555;
          flex: 1;
        }

        .fee-details-section .detail-value {
          color: #333;
          font-weight: 500;
          text-align: right;
          flex: 1;
        }

        .summary-section {
          margin-top: 40px;
          border-top: 3px solid #f0f0f0;
          padding-top: 30px;
        }

        .summary-rows {
          max-width: 400px;
          margin-left: auto;
        }

        .summary-row {
          display: flex;
          justify-content: space-between;
          padding: 10px 0;
          border-bottom: 1px solid #eee;
        }

        .summary-row:last-child {
          border-bottom: none;
        }

        .summary-label {
          font-weight: 600;
          color: #555;
        }

        .summary-value {
          font-weight: 600;
          color: #333;
        }

        .total-row {
          background: linear-gradient(135deg, ${k} 0%, ${k} 100%);
          color: white;
          padding: 15px 20px;
          border-radius: 8px;
          margin-top: 15px;
        }

        .total-row .summary-label,
        .total-row .summary-value {
          color: white;
          font-size: 18px;
          font-weight: bold;
        }

        .payment-status {
          display: inline-block;
          padding: 6px 12px;
          border-radius: 20px;
          font-size: 12px;
          font-weight: bold;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .status-paid {
          background: #d4edda;
          color: #155724;
          border: 1px solid #c3e6cb;
        }

        .status-pending {
          background: #fff3cd;
          color: #856404;
          border: 1px solid #ffeaa7;
        }

        .status-delivered {
          background: #d4edda;
          color: #155724;
          border: 1px solid #c3e6cb;
        }

        .status-processing {
          background: #fff3cd;
          color: #856404;
          border: 1px solid #ffeaa7;
        }

        .status-shipped {
          background: #d1ecf1;
          color: #0c5460;
          border: 1px solid #bee5eb;
        }

        .status-cancelled {
          background: #f8d7da;
          color: #721c24;
          border: 1px solid #f5c6cb;
        }

        .footer {
          margin-top: 50px;
          text-align: center;
          padding: 30px;
          background: #f8f9fa;
          border-radius: 8px;
        }

        .thank-you {
          font-size: 18px;
          color: #333;
          font-weight: 600;
          margin-bottom: 10px;
        }

        .footer-note {
          font-size: 14px;
          color: #666;
          font-style: italic;
        }

        .watermark {
          position: fixed;
          bottom: 20px;
          right: 20px;
          font-size: 10px;
          color: #ccc;
          opacity: 0.7;
        }

        @media print {
          body {
            background: white;
            padding: 0;
          }

          .invoice-container {
            box-shadow: none;
            border-radius: 0;
          }
        }
      </style>
    </head>
    <body>
      <div class="invoice-container">
        <div class="invoice-header">
          <div class="invoice-title">${je}</div>
        </div>

        <div class="invoice-body">
          <div class="school-info">
            <img src="${q?.logo||"/placeholder.svg?height=100&width=100&text=School+Logo"}" alt="School Logo" class="school-logo" />
            <div class="school-details">
              <h2>${q?.name||"School Name Not Available"}</h2>
              <p><strong>Address:</strong> ${q?.address||"Address Not Available"}</p>
              <p><strong>Phone:</strong> ${q?.phone||"Phone Not Available"}</p>
              <p><strong>Email:</strong> ${q?.email||"Email Not Available"}</p>
              ${q?.schoolCode?`<p><strong>School Code:</strong> ${q.schoolCode}</p>`:""}
            </div>
          </div>

          <div class="invoice-meta">
            <div class="invoice-details">
              <h3>${je} Details</h3>
              <div class="detail-row">
                <span class="detail-label">${je} Number:</span>
                <span class="detail-value">#${ye}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Date:</span>
                <span class="detail-value">${ge}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Generated Date:</span>
                <span class="detail-value">${pe}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Type:</span>
                <span class="detail-value">${V.type}</span>
              </div>
            </div>

            <div class="billing-details">
              <h3>Billed To</h3>
              <div class="detail-row">
                <span class="detail-label">Student Name:</span>
                <span class="detail-value">${we?.name||"N/A"}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Student ID:</span>
                <span class="detail-value">${we?.studentId||we?.rollNumber||we?._id||"N/A"}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Phone:</span>
                <span class="detail-value">${we?.phone||"N/A"}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Email:</span>
                <span class="detail-value">${we?.email||"N/A"}</span>
              </div>
            </div>
          </div>

          ${le}

          <div class="summary-section">
            <div class="summary-rows">
              <div class="summary-row">
                <span class="summary-label">Payment Method:</span>
                <span class="summary-value">${ce}</span>
              </div>
              <div class="summary-row">
                <span class="summary-label">Status:</span>
                <span class="summary-value">
                  <span class="payment-status status-${se?.toLowerCase()}">
                    ${se||"Pending"}
                  </span>
                </span>
              </div>
              <div class="summary-row total-row">
                <span class="summary-label">${V.orderType==="fee"?"Total Amount Paid:":"Total Amount:"}</span>
                <span class="summary-value">₹${Qe?.toFixed(2)||"0.00"}</span>
              </div>
            </div>
          </div>

          <div class="footer">
            <div class="thank-you">Thank you for your ${V.orderType==="fee"?"payment":"purchase"}!</div>
            <div class="footer-note">
              This is a computer-generated ${V.orderType==="fee"?"receipt":"invoice"} and does not require a signature.
              <br>
              For any queries, please contact the school administration.
            </div>
          </div>
        </div>
      </div>

      <div class="watermark">
        Generated on ${pe} | ${q?.name||"School Name"}
      </div>
    </body>
    </html>
    `},te=async(V,ie=null)=>{if(!V||!ie){alert("Error: Order data not available for PDF generation.");return}Y(!0);try{const pe=me(V,ie),ye={filename:`${V.orderType==="fee"?"fee_receipt":"invoice"}_${V.id.slice(-8)}_${Date.now()}.pdf`,margin:20,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"pt",format:"a4",orientation:"portrait"}};await IZ().from(pe).set(ye).save(),alert(`${V.orderType==="fee"?"Fee Receipt":"Invoice"} PDF downloaded successfully!`)}catch(pe){console.error("PDF generation error:",pe),alert("Failed to generate PDF. Please try again.")}finally{Y(!1)}},Ae=V=>{const ie=E?.name||"School Name";let pe;V.orderType==="fee"?pe=`FEE RECEIPT #${V.id.slice(-8)}
${ie}
Date: ${de(V.date)}

Billed to: ${V.customer}
Fee Details:
${V.items.join(`
`)}

TOTAL: ${ee(V.total)}
Status: ${V.status}`:pe=`INVOICE #${V.id.slice(-8)}
${ie}
Date: ${de(V.date)}

Billed to: ${V.customer}
Class: ${V.class}

ITEMS:
${V.items.join(`
`)}

TOTAL: ${ee(V.total)}
Payment: ${V.rawOrder?.paymentMethod||"N/A"}
Status: ${V.status}`,navigator.share?navigator.share({title:V.orderType==="fee"?"Fee Receipt Details":"Invoice Details",text:pe}):(navigator.clipboard.writeText(pe),alert("Invoice details copied to clipboard!"))};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n&&s.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-red-100 border border-red-400 text-red-800 px-4 py-3 rounded-lg shadow-lg flex items-center gap-2 z-50",children:[s.jsx(ln,{className:"w-5 h-5"}),s.jsx("span",{children:n}),s.jsx("button",{onClick:()=>a(""),className:"ml-2 hover:text-red-900",children:s.jsx(sr,{className:"w-4 h-4"})})]}),y&&A.length===0&&s.jsxs("div",{className:"m-4 bg-white rounded-lg shadow-sm border",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsx("h3",{className:"text-sm font-medium",children:"Debug Information"})}),s.jsx("div",{className:"p-4",children:s.jsx("pre",{className:"text-xs bg-gray-100 p-3 rounded overflow-x-auto whitespace-pre-wrap",children:y})})]}),s.jsx("div",{className:"text-white p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:k},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(en,{className:"w-6 h-6"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Order History"}),s.jsx("p",{className:"text-white/80 mt-1",children:"Track and manage all orders efficiently"}),E&&s.jsxs("p",{className:"text-white/60 text-sm mt-1",children:[E.name," | School ID: ",C]})]})]}),s.jsxs("button",{onClick:xe,disabled:t||!C,className:"bg-white/20 hover:bg-white/30 text-white border border-white/30 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50",children:[t?s.jsx(br,{className:"w-4 h-4 animate-spin"}):s.jsx(Qh,{className:"w-4 h-4"}),"Refresh"]})]})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex flex-col lg:flex-row justify-between gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search orders...",value:p,onChange:V=>g(V.target.value),className:"pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 w-full lg:w-64"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mo,{className:"text-gray-500 w-4 h-4"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:R.map(V=>s.jsx("button",{onClick:()=>v(V),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${b===V?"text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,style:b===V?{backgroundColor:k}:{},children:V},V))})]})]})})}),s.jsxs("div",{className:"p-6 grid grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:ae.total}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Orders"})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:ae.delivered}),s.jsx("div",{className:"text-sm text-gray-600",children:"Delivered/Paid"})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:ae.processing}),s.jsx("div",{className:"text-sm text-gray-600",children:"Processing"})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border",children:[s.jsx("div",{className:"text-2xl font-bold",style:{color:k},children:ee(ae.totalRevenue)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Revenue"})]})]}),s.jsx("div",{className:"px-6 pb-6",children:s.jsx("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:t?s.jsx("tr",{children:s.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:[s.jsx(br,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:k}}),s.jsx("p",{className:"text-lg font-medium",children:"Loading orders..."}),s.jsx("p",{className:"text-sm",children:"This may take a few moments"})]})}):ne.length===0?s.jsx("tr",{children:s.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:[s.jsx(en,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-lg font-medium",children:"No orders found"}),s.jsx("p",{className:"text-sm",children:A.length===0?"Check if your backend is running and accessible or verify your school ID":"Try adjusting your search or filter"}),A.length===0&&s.jsxs("button",{onClick:xe,disabled:!C,className:"mt-4 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 mx-auto disabled:opacity-50",children:[s.jsx(Qh,{className:"w-4 h-4"}),"Retry"]})]})}):ne.map(V=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${V.type==="UNIFORM"?"bg-purple-100 text-purple-600":V.type==="FEE"?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}`,children:V.type==="FEE"?"₹":Se(V.type)}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["#",V.id.slice(-8)]}),s.jsx("div",{className:"text-sm text-gray-500",children:de(V.date)}),s.jsx("div",{className:`text-xs font-medium ${V.type==="UNIFORM"?"text-purple-600":V.type==="FEE"?"text-green-600":"text-blue-600"}`,children:V.type})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:V.customer}),V.class!=="N/A"&&s.jsx("div",{className:"text-sm text-gray-500",children:V.class})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"max-w-xs",children:[V.items.slice(0,2).map((ie,pe)=>s.jsx("div",{className:"text-sm text-gray-900 truncate",children:ie},pe)),V.items.length>2&&s.jsxs("div",{className:"text-xs text-gray-500",children:["+",V.items.length-2," more"]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-bold text-gray-900",children:ee(V.total)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2.5 py-0.5 rounded-full text-xs font-medium ${Ne(V.status)}`,children:V.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>oe(V),className:"p-2 rounded-full hover:bg-opacity-80 transition text-white",style:{backgroundColor:k},title:"View Details",children:s.jsx(Ds,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>he(V),disabled:U,className:"p-2 rounded-full hover:bg-opacity-80 transition text-white",style:{backgroundColor:k},title:"View Invoice",children:U?s.jsx(br,{className:"w-4 h-4 animate-spin"}):s.jsx(Cs,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Ae(V),className:"p-2 rounded-full hover:bg-opacity-80 transition text-white",style:{backgroundColor:k},title:"Share as Text",children:s.jsx(s6,{className:"w-4 h-4"})})]})})]},V.id))})]})})})}),i&&u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:["Order Details #",u.id.slice(-8)]}),s.jsx("button",{onClick:()=>o(!1),className:"text-gray-500 hover:text-gray-700",children:s.jsx(sr,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-700",children:"Order Type:"}),s.jsx("p",{className:"text-gray-900",children:u.type})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-700",children:"Date:"}),s.jsx("p",{className:"text-gray-900",children:de(u.date)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-700",children:"Status:"}),s.jsx("span",{className:`inline-flex px-2.5 py-0.5 rounded-full text-xs font-medium ${Ne(u.status)}`,children:u.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-700",children:"Total Amount:"}),s.jsx("p",{className:"text-gray-900 font-bold",children:ee(u.total)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-700",children:"Customer:"}),s.jsx("p",{className:"text-gray-900",children:u.customer})]}),u.class!=="N/A"&&s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-700",children:"Class:"}),s.jsx("p",{className:"text-gray-900",children:u.class})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Items Ordered"}),s.jsx("div",{className:"space-y-3 border-t pt-4",children:u.rawOrder.items?.map((V,ie)=>{const pe=u.type==="UNIFORM"?V.uniformItem:V.book;return pe?s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx("img",{src:pe.image||"/placeholder.svg?height=48&width=48",alt:u.type==="UNIFORM"?pe.name:pe.title,className:"w-12 h-12 object-cover rounded-md"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:u.type==="UNIFORM"?pe.name:pe.title}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Quantity: ",V.quantity,u.type==="UNIFORM"&&V.size&&`, Size: ${V.size}`]})]}),s.jsx("span",{className:"text-sm font-bold text-gray-900",children:ee((V.priceAtOrder||V.price||0)*V.quantity)})]},ie):s.jsxs("div",{className:"flex items-center space-x-3 text-red-600 p-3 bg-red-50 rounded-lg",children:[s.jsx(ln,{className:"w-5 h-5"}),s.jsx("span",{children:"Item not found"})]},ie)})})]})]})]})}),l&&u&&Q&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b",style:{backgroundColor:k},children:[s.jsxs("div",{className:"flex items-center gap-3 text-white",children:[s.jsx("button",{onClick:()=>c(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:s.jsx(P2,{className:"w-5 h-5"})}),s.jsx("h2",{className:"text-xl font-bold",children:u.orderType==="fee"?"Fee Receipt":"Invoice"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>te(u,Q),disabled:I,className:"bg-white/20 hover:bg-white/30 text-white border border-white/30 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50",children:[I?s.jsx(br,{className:"w-4 h-4 animate-spin"}):s.jsx(Cs,{className:"w-4 h-4"}),"PDF"]}),s.jsxs("button",{onClick:()=>Ae(u),className:"bg-white/20 hover:bg-white/30 text-white border border-white/30 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[s.jsx(s6,{className:"w-4 h-4"}),"Share"]})]})]}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex items-center p-6 border-b",children:[s.jsx("img",{src:Q.school?.logo||"/placeholder.svg?height=80&width=80&text=School+Logo",alt:"School Logo",className:"w-16 h-16 object-contain rounded-lg border mr-4"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:Q.school?.name||"School Name Not Available"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Address:"," ",Q.school?.address||"Address Not Available"]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Phone:"," ",Q.school?.phone||"Phone Not Available"]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Email:"," ",Q.school?.email||"Email Not Available"]}),Q.school?.schoolCode&&s.jsxs("p",{className:"text-sm text-gray-600",children:["School Code: ",Q.school.schoolCode]})]})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:u.orderType==="fee"?"Receipt Details":"Invoice Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:u.orderType==="fee"?"Receipt #:":"Invoice #:"}),s.jsxs("span",{className:"font-medium",children:["#",u.orderType==="fee"?Q.installment?.receiptNumber||"N/A":u.id.slice(-8)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Date:"}),s.jsx("span",{className:"font-medium",children:de(u.orderType==="fee"&&Q.installment?.paidDate||u.date)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Type:"}),s.jsx("span",{className:"font-medium",children:u.type})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Billed To"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Student Name:"}),s.jsx("span",{className:"font-medium",children:Q.student?.name||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Student ID:"}),s.jsx("span",{className:"font-medium",children:Q.student?.studentId||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Phone:"}),s.jsx("span",{className:"font-medium",children:Q.student?.phone||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Email:"}),s.jsx("span",{className:"font-medium",children:Q.student?.email||"N/A"})]})]})]})]}),u.orderType==="fee"?s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Fee Installment Details"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[s.jsx("span",{className:"text-gray-600",children:"Installment Title:"}),s.jsxs("span",{className:"font-medium",children:["Installment 1 (Term:"," ",Q.fee?.term||"N/A",")"]})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[s.jsx("span",{className:"text-gray-600",children:"Installment Value:"}),s.jsxs("span",{className:"font-medium",children:["₹",Q.installment?.amount?.toFixed(2)||"0.00"]})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[s.jsx("span",{className:"text-gray-600",children:"Amount Paid:"}),s.jsxs("span",{className:"font-medium",children:["₹",Q.installment?.paid?.toFixed(2)||"0.00"]})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[s.jsx("span",{className:"text-gray-600",children:"Paid Date:"}),s.jsx("span",{className:"font-medium",children:de(Q.installment?.paidDate)})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[s.jsx("span",{className:"text-gray-600",children:"Receipt Number:"}),s.jsx("span",{className:"font-medium",children:Q.installment?.receiptNumber||"N/A"})]}),s.jsxs("div",{className:"flex justify-between py-2",children:[s.jsx("span",{className:"text-gray-600",children:"Payment Method:"}),s.jsx("span",{className:"font-medium",children:Q.installment?.paymentMethod||"N/A"})]})]})]}):s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Order Items"}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Qty"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Unit Price"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Amount"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:u.rawOrder.items?.map((V,ie)=>{const pe=u.orderType==="book"?V.book?.title:V.uniformItem?.name,ye=u.orderType==="book"?V.price:V.priceAtOrder,ge=V.quantity,le=u.orderType==="uniform"?` (Size: ${V.size})`:"",Qe=(ge*ye).toFixed(2);return s.jsxs("tr",{children:[s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:pe}),le&&s.jsx("div",{className:"text-xs text-gray-500",children:le})]}),s.jsx("td",{className:"px-4 py-3 text-center text-sm text-gray-900",children:ge}),s.jsxs("td",{className:"px-4 py-3 text-right text-sm text-gray-900",children:["₹",ye?.toFixed(2)||"0.00"]}),s.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-gray-900",children:["₹",Qe]})]},ie)})})]})})]}),s.jsx("div",{className:"border-t pt-4",children:s.jsxs("div",{className:"space-y-2 max-w-sm ml-auto",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Payment Method:"}),s.jsx("span",{className:"font-medium",children:u.orderType==="fee"?Q.installment?.paymentMethod||"N/A":u.rawOrder?.paymentMethod||"N/A"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Status:"}),s.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${Ne(u.status)}`,children:u.status})]}),s.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",style:{color:k},children:[s.jsx("span",{children:u.orderType==="fee"?"Total Amount Paid:":"Total Amount:"}),s.jsxs("span",{children:["₹",u.total?.toFixed(2)||"0.00"]})]})]})}),s.jsxs("div",{className:"text-center pt-6 border-t",children:[s.jsxs("p",{className:"text-lg font-medium text-gray-700 mb-2",children:["Thank you for your"," ",u.orderType==="fee"?"payment":"purchase","!"]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["This is a computer-generated"," ",u.orderType==="fee"?"receipt":"invoice"," ","and does not require a signature.",s.jsx("br",{}),"For any queries, please contact the school administration."]})]})]})]})})]})}),u&&Q&&s.jsx("div",{style:{display:"none"},ref:X,children:s.jsx("div",{dangerouslySetInnerHTML:{__html:me(u,Q)}})})]})};var A4={},f4={},CF;function kZ(){return CF||(CF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(n){return n==="__proto__"}t.isUnsafeProperty=r}(f4)),f4}var h4={},SF;function kL(){return SF||(SF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=r}(h4)),h4}var m4={},BF;function PL(){return BF||(BF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=r}(m4)),m4}var p4={},EF;function U5(){return EF||(EF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(n){const a=[],i=n.length;if(i===0)return a;let o=0,l="",c="",u=!1;for(n.charCodeAt(0)===46&&(a.push(""),o++);o<i;){const f=n[o];c?f==="\\"&&o+1<i?(o++,l+=n[o]):f===c?c="":l+=f:u?f==='"'||f==="'"?c=f:f==="]"?(u=!1,a.push(l),l=""):l+=f:f==="["?(u=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}t.toPath=r}(p4)),p4}var TF;function M5(){return TF||(TF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=kZ(),n=kL(),a=PL(),i=U5();function o(c,u,f){if(c==null)return f;switch(typeof u){case"string":{if(r.isUnsafeProperty(u))return f;const A=c[u];return A===void 0?n.isDeepKey(u)?o(c,i.toPath(u),f):f:A}case"number":case"symbol":{typeof u=="number"&&(u=a.toKey(u));const A=c[u];return A===void 0?f:A}default:{if(Array.isArray(u))return l(c,u,f);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),r.isUnsafeProperty(u))return f;const A=c[u];return A===void 0?f:A}}}function l(c,u,f){if(u.length===0)return f;let A=c;for(let m=0;m<u.length;m++){if(A==null||r.isUnsafeProperty(u[m]))return f;A=A[u[m]]}return A===void 0?f:A}t.get=o}(A4)),A4}var g4,FF;function PZ(){return FF||(FF=1,g4=M5().get),g4}var DZ=PZ();const zh=vc(DZ);var x4={exports:{}},bs={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IF;function OZ(){if(IF)return bs;IF=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function b(v){if(typeof v=="object"&&v!==null){var y=v.$$typeof;switch(y){case t:switch(v=v.type,v){case n:case i:case a:case u:case f:case p:return v;default:switch(v=v&&v.$$typeof,v){case l:case c:case m:case A:return v;case o:return v;default:return y}}case r:return y}}}return bs.ContextConsumer=o,bs.ContextProvider=l,bs.Element=t,bs.ForwardRef=c,bs.Fragment=n,bs.Lazy=m,bs.Memo=A,bs.Portal=r,bs.Profiler=i,bs.StrictMode=a,bs.Suspense=u,bs.SuspenseList=f,bs.isContextConsumer=function(v){return b(v)===o},bs.isContextProvider=function(v){return b(v)===l},bs.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},bs.isForwardRef=function(v){return b(v)===c},bs.isFragment=function(v){return b(v)===n},bs.isLazy=function(v){return b(v)===m},bs.isMemo=function(v){return b(v)===A},bs.isPortal=function(v){return b(v)===r},bs.isProfiler=function(v){return b(v)===i},bs.isStrictMode=function(v){return b(v)===a},bs.isSuspense=function(v){return b(v)===u},bs.isSuspenseList=function(v){return b(v)===f},bs.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===n||v===i||v===a||v===u||v===f||typeof v=="object"&&v!==null&&(v.$$typeof===m||v.$$typeof===A||v.$$typeof===l||v.$$typeof===o||v.$$typeof===c||v.$$typeof===g||v.getModuleId!==void 0)},bs.typeOf=b,bs}var _F;function LZ(){return _F||(_F=1,x4.exports=OZ()),x4.exports}var UZ=LZ(),Ri=t=>t===0?0:t>0?1:-1,Pl=t=>typeof t=="number"&&t!=+t,Xm=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,wr=t=>(typeof t=="number"||t instanceof Number)&&!Pl(t),oA=t=>wr(t)||typeof t=="string",MZ=0,N0=t=>{var r=++MZ;return"".concat(t||"").concat(r)},ll=function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!wr(r)&&typeof r!="string")return a;var o;if(Xm(r)){if(n==null)return a;var l=r.indexOf("%");o=n*parseFloat(r.slice(0,l))/100}else o=+r;return Pl(o)&&(o=a),i&&n!=null&&o>n&&(o=n),o},DL=t=>{if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Sh=(t,r)=>wr(t)&&wr(r)?n=>t+n*(r-t):()=>r;function jp(t,r,n){return wr(t)&&wr(r)?t+n*(r-t):r}function OL(t,r,n){if(!(!t||!t.length))return t.find(a=>a&&(typeof r=="function"?r(a):zh(a,r))===n)}var Ks=t=>t===null||typeof t>"u",iv=t=>Ks(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),RZ=["viewBox","children"],QZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],kF=["points","pathLength"],y4={svg:RZ,polygon:kF,polyline:kF},R5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Q5=(t,r)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(i=>{R5.includes(i)&&(a[i]=o=>n[i](n,o))}),a},HZ=(t,r,n)=>a=>(t(r,n,a),null),ov=(t,r,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var a=null;return Object.keys(t).forEach(i=>{var o=t[i];R5.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=HZ(o,r,n))}),a},PF=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",DF=null,v4=null,LL=t=>{if(t===DF&&Array.isArray(v4))return v4;var r=[];return w.Children.forEach(t,n=>{Ks(n)||(UZ.isFragment(n)?r=r.concat(LL(n.props.children)):r.push(n))}),v4=r,DF=t,r};function lv(t,r){var n=[],a=[];return Array.isArray(r)?a=r.map(i=>PF(i)):a=[PF(r)],LL(t).forEach(i=>{var o=zh(i,"type.displayName")||zh(i,"type.name");a.indexOf(o)!==-1&&n.push(i)}),n}var UL=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,$Z=(t,r,n,a)=>{var i,o=(i=a&&y4?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||typeof t!="function"&&(a&&o.includes(r)||QZ.includes(r))||n&&R5.includes(r)},Nn=(t,r,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(w.isValidElement(t)&&(a=t.props),typeof a!="object"&&typeof a!="function")return null;var i={};return Object.keys(a).forEach(o=>{var l;$Z((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},KZ=["children","width","height","viewBox","className","style","title","desc"];function JC(){return JC=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},JC.apply(null,arguments)}function VZ(t,r){if(t==null)return{};var n,a,i=zZ(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zZ(t,r){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;n[a]=t[a]}return n}var H5=w.forwardRef((t,r)=>{var{children:n,width:a,height:i,viewBox:o,className:l,style:c,title:u,desc:f}=t,A=VZ(t,KZ),m=o||{width:a,height:i,x:0,y:0},p=Ot("recharts-surface",l);return w.createElement("svg",JC({},Nn(A,!0,"svg"),{className:p,width:a,height:i,style:c,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:r}),w.createElement("title",null,u),w.createElement("desc",null,f),n)}),GZ=["children","className"];function ZC(){return ZC=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ZC.apply(null,arguments)}function WZ(t,r){if(t==null)return{};var n,a,i=qZ(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qZ(t,r){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;n[a]=t[a]}return n}var Ra=w.forwardRef((t,r)=>{var{children:n,className:a}=t,i=WZ(t,GZ),o=Ot("recharts-layer",a);return w.createElement("g",ZC({className:o},Nn(i,!0),{ref:r}),n)}),ML=w.createContext(null),YZ=()=>w.useContext(ML);function Hs(t){return function(){return t}}const RL=Math.cos,Fb=Math.sin,pd=Math.sqrt,Ib=Math.PI,Y2=2*Ib,eS=Math.PI,tS=2*eS,Vm=1e-6,XZ=tS-Vm;function QL(t){this._+=t[0];for(let r=1,n=t.length;r<n;++r)this._+=arguments[r]+t[r]}function JZ(t){let r=Math.floor(t);if(!(r>=0))throw new Error(`invalid digits: ${t}`);if(r>15)return QL;const n=10**r;return function(a){this._+=a[0];for(let i=1,o=a.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+a[i]}}class ZZ{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?QL:JZ(r)}moveTo(r,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,n){this._append`L${this._x1=+r},${this._y1=+n}`}quadraticCurveTo(r,n,a,i){this._append`Q${+r},${+n},${this._x1=+a},${this._y1=+i}`}bezierCurveTo(r,n,a,i,o,l){this._append`C${+r},${+n},${+a},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(r,n,a,i,o){if(r=+r,n=+n,a=+a,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,c=this._y1,u=a-r,f=i-n,A=l-r,m=c-n,p=A*A+m*m;if(this._x1===null)this._append`M${this._x1=r},${this._y1=n}`;else if(p>Vm)if(!(Math.abs(m*u-f*A)>Vm)||!o)this._append`L${this._x1=r},${this._y1=n}`;else{let g=a-l,b=i-c,v=u*u+f*f,y=g*g+b*b,j=Math.sqrt(v),C=Math.sqrt(p),S=o*Math.tan((eS-Math.acos((v+p-y)/(2*j*C)))/2),E=S/C,D=S/j;Math.abs(E-1)>Vm&&this._append`L${r+E*A},${n+E*m}`,this._append`A${o},${o},0,0,${+(m*g>A*b)},${this._x1=r+D*u},${this._y1=n+D*f}`}}arc(r,n,a,i,o,l){if(r=+r,n=+n,a=+a,l=!!l,a<0)throw new Error(`negative radius: ${a}`);let c=a*Math.cos(i),u=a*Math.sin(i),f=r+c,A=n+u,m=1^l,p=l?i-o:o-i;this._x1===null?this._append`M${f},${A}`:(Math.abs(this._x1-f)>Vm||Math.abs(this._y1-A)>Vm)&&this._append`L${f},${A}`,a&&(p<0&&(p=p%tS+tS),p>XZ?this._append`A${a},${a},0,1,${m},${r-c},${n-u}A${a},${a},0,1,${m},${this._x1=f},${this._y1=A}`:p>Vm&&this._append`A${a},${a},0,${+(p>=eS)},${m},${this._x1=r+a*Math.cos(o)},${this._y1=n+a*Math.sin(o)}`)}rect(r,n,a,i){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}h${a=+a}v${+i}h${-a}Z`}toString(){return this._}}function $5(t){let r=3;return t.digits=function(n){if(!arguments.length)return r;if(n==null)r=null;else{const a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);r=a}return t},()=>new ZZ(r)}function K5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function HL(t){this._context=t}HL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:this._context.lineTo(t,r);break}}};function X2(t){return new HL(t)}function $L(t){return t[0]}function KL(t){return t[1]}function VL(t,r){var n=Hs(!0),a=null,i=X2,o=null,l=$5(c);t=typeof t=="function"?t:t===void 0?$L:Hs(t),r=typeof r=="function"?r:r===void 0?KL:Hs(r);function c(u){var f,A=(u=K5(u)).length,m,p=!1,g;for(a==null&&(o=i(g=l())),f=0;f<=A;++f)!(f<A&&n(m=u[f],f,u))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+t(m,f,u),+r(m,f,u));if(g)return o=null,g+""||null}return c.x=function(u){return arguments.length?(t=typeof u=="function"?u:Hs(+u),c):t},c.y=function(u){return arguments.length?(r=typeof u=="function"?u:Hs(+u),c):r},c.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Hs(!!u),c):n},c.curve=function(u){return arguments.length?(i=u,a!=null&&(o=i(a)),c):i},c.context=function(u){return arguments.length?(u==null?a=o=null:o=i(a=u),c):a},c}function C1(t,r,n){var a=null,i=Hs(!0),o=null,l=X2,c=null,u=$5(f);t=typeof t=="function"?t:t===void 0?$L:Hs(+t),r=typeof r=="function"?r:Hs(r===void 0?0:+r),n=typeof n=="function"?n:n===void 0?KL:Hs(+n);function f(m){var p,g,b,v=(m=K5(m)).length,y,j=!1,C,S=new Array(v),E=new Array(v);for(o==null&&(c=l(C=u())),p=0;p<=v;++p){if(!(p<v&&i(y=m[p],p,m))===j)if(j=!j)g=p,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),b=p-1;b>=g;--b)c.point(S[b],E[b]);c.lineEnd(),c.areaEnd()}j&&(S[p]=+t(y,p,m),E[p]=+r(y,p,m),c.point(a?+a(y,p,m):S[p],n?+n(y,p,m):E[p]))}if(C)return c=null,C+""||null}function A(){return VL().defined(i).curve(l).context(o)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:Hs(+m),a=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Hs(+m),f):t},f.x1=function(m){return arguments.length?(a=m==null?null:typeof m=="function"?m:Hs(+m),f):a},f.y=function(m){return arguments.length?(r=typeof m=="function"?m:Hs(+m),n=null,f):r},f.y0=function(m){return arguments.length?(r=typeof m=="function"?m:Hs(+m),f):r},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Hs(+m),f):n},f.lineX0=f.lineY0=function(){return A().x(t).y(r)},f.lineY1=function(){return A().x(t).y(n)},f.lineX1=function(){return A().x(a).y(r)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Hs(!!m),f):i},f.curve=function(m){return arguments.length?(l=m,o!=null&&(c=l(o)),f):l},f.context=function(m){return arguments.length?(m==null?o=c=null:c=l(o=m),f):o},f}class zL{constructor(r,n){this._context=r,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,n){switch(r=+r,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,n,r,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,r,this._y0,r,n);break}}this._x0=r,this._y0=n}}function eee(t){return new zL(t,!0)}function tee(t){return new zL(t,!1)}const V5={draw(t,r){const n=pd(r/Ib);t.moveTo(n,0),t.arc(0,0,n,0,Y2)}},ree={draw(t,r){const n=pd(r/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},GL=pd(1/3),nee=GL*2,see={draw(t,r){const n=pd(r/nee),a=n*GL;t.moveTo(0,-n),t.lineTo(a,0),t.lineTo(0,n),t.lineTo(-a,0),t.closePath()}},aee={draw(t,r){const n=pd(r),a=-n/2;t.rect(a,a,n,n)}},iee=.8908130915292852,WL=Fb(Ib/10)/Fb(7*Ib/10),oee=Fb(Y2/10)*WL,lee=-RL(Y2/10)*WL,cee={draw(t,r){const n=pd(r*iee),a=oee*n,i=lee*n;t.moveTo(0,-n),t.lineTo(a,i);for(let o=1;o<5;++o){const l=Y2*o/5,c=RL(l),u=Fb(l);t.lineTo(u*n,-c*n),t.lineTo(c*a-u*i,u*a+c*i)}t.closePath()}},b4=pd(3),uee={draw(t,r){const n=-pd(r/(b4*3));t.moveTo(0,n*2),t.lineTo(-b4*n,-n),t.lineTo(b4*n,-n),t.closePath()}},Wc=-.5,qc=pd(3)/2,rS=1/pd(12),dee=(rS/2+1)*3,Aee={draw(t,r){const n=pd(r/dee),a=n/2,i=n*rS,o=a,l=n*rS+n,c=-o,u=l;t.moveTo(a,i),t.lineTo(o,l),t.lineTo(c,u),t.lineTo(Wc*a-qc*i,qc*a+Wc*i),t.lineTo(Wc*o-qc*l,qc*o+Wc*l),t.lineTo(Wc*c-qc*u,qc*c+Wc*u),t.lineTo(Wc*a+qc*i,Wc*i-qc*a),t.lineTo(Wc*o+qc*l,Wc*l-qc*o),t.lineTo(Wc*c+qc*u,Wc*u-qc*c),t.closePath()}};function fee(t,r){let n=null,a=$5(i);t=typeof t=="function"?t:Hs(t||V5),r=typeof r=="function"?r:Hs(r===void 0?64:+r);function i(){let o;if(n||(n=o=a()),t.apply(this,arguments).draw(n,+r.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Hs(o),i):t},i.size=function(o){return arguments.length?(r=typeof o=="function"?o:Hs(+o),i):r},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function _b(){}function kb(t,r,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+r)/6,(t._y0+4*t._y1+n)/6)}function qL(t){this._context=t}qL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kb(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function hee(t){return new qL(t)}function YL(t){this._context=t}YL.prototype={areaStart:_b,areaEnd:_b,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._x2=t,this._y2=r;break;case 1:this._point=2,this._x3=t,this._y3=r;break;case 2:this._point=3,this._x4=t,this._y4=r,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+r)/6);break;default:kb(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function mee(t){return new YL(t)}function XL(t){this._context=t}XL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,a=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:kb(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function pee(t){return new XL(t)}function JL(t){this._context=t}JL.prototype={areaStart:_b,areaEnd:_b,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,r){t=+t,r=+r,this._point?this._context.lineTo(t,r):(this._point=1,this._context.moveTo(t,r))}};function gee(t){return new JL(t)}function OF(t){return t<0?-1:1}function LF(t,r,n){var a=t._x1-t._x0,i=r-t._x1,o=(t._y1-t._y0)/(a||i<0&&-0),l=(n-t._y1)/(i||a<0&&-0),c=(o*i+l*a)/(a+i);return(OF(o)+OF(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(c))||0}function UF(t,r){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-r)/2:r}function w4(t,r,n){var a=t._x0,i=t._y0,o=t._x1,l=t._y1,c=(o-a)/3;t._context.bezierCurveTo(a+c,i+c*r,o-c,l-c*n,o,l)}function Pb(t){this._context=t}Pb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:w4(this,this._t0,UF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){var n=NaN;if(t=+t,r=+r,!(t===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;break;case 2:this._point=3,w4(this,UF(this,n=LF(this,t,r)),n);break;default:w4(this,this._t0,n=LF(this,t,r));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r,this._t0=n}}};function ZL(t){this._context=new eU(t)}(ZL.prototype=Object.create(Pb.prototype)).point=function(t,r){Pb.prototype.point.call(this,r,t)};function eU(t){this._context=t}eU.prototype={moveTo:function(t,r){this._context.moveTo(r,t)},closePath:function(){this._context.closePath()},lineTo:function(t,r){this._context.lineTo(r,t)},bezierCurveTo:function(t,r,n,a,i,o){this._context.bezierCurveTo(r,t,a,n,o,i)}};function xee(t){return new Pb(t)}function yee(t){return new ZL(t)}function tU(t){this._context=t}tU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,r=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],r[0]):this._context.moveTo(t[0],r[0]),n===2)this._context.lineTo(t[1],r[1]);else for(var a=MF(t),i=MF(r),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(a[0][o],i[0][o],a[1][o],i[1][o],t[l],r[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,r){this._x.push(+t),this._y.push(+r)}};function MF(t){var r,n=t.length-1,a,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=t[0]+2*t[1],r=1;r<n-1;++r)i[r]=1,o[r]=4,l[r]=4*t[r]+2*t[r+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*t[n-1]+t[n],r=1;r<n;++r)a=i[r]/o[r-1],o[r]-=a,l[r]-=a*l[r-1];for(i[n-1]=l[n-1]/o[n-1],r=n-2;r>=0;--r)i[r]=(l[r]-i[r+1])/o[r];for(o[n-1]=(t[n]+i[n-1])/2,r=0;r<n-1;++r)o[r]=2*t[r+1]-i[r+1];return[i,o]}function vee(t){return new tU(t)}function J2(t,r){this._context=t,this._t=r}J2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(t,r);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,r)}break}}this._x=t,this._y=r}};function bee(t){return new J2(t,.5)}function wee(t){return new J2(t,0)}function jee(t){return new J2(t,1)}function Jp(t,r){if((l=t.length)>1)for(var n=1,a,i,o=t[r[0]],l,c=o.length;n<l;++n)for(i=o,o=t[r[n]],a=0;a<c;++a)o[a][1]+=o[a][0]=isNaN(i[a][1])?i[a][0]:i[a][1]}function nS(t){for(var r=t.length,n=new Array(r);--r>=0;)n[r]=r;return n}function Nee(t,r){return t[r]}function Cee(t){const r=[];return r.key=t,r}function See(){var t=Hs([]),r=nS,n=Jp,a=Nee;function i(o){var l=Array.from(t.apply(this,arguments),Cee),c,u=l.length,f=-1,A;for(const m of o)for(c=0,++f;c<u;++c)(l[c][f]=[0,+a(m,l[c].key,f,o)]).data=m;for(c=0,A=K5(r(l));c<u;++c)l[A[c]].index=c;return n(l,A),l}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Hs(Array.from(o)),i):t},i.value=function(o){return arguments.length?(a=typeof o=="function"?o:Hs(+o),i):a},i.order=function(o){return arguments.length?(r=o==null?nS:typeof o=="function"?o:Hs(Array.from(o)),i):r},i.offset=function(o){return arguments.length?(n=o??Jp,i):n},i}function Bee(t,r){if((a=t.length)>0){for(var n,a,i=0,o=t[0].length,l;i<o;++i){for(l=n=0;n<a;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<a;++n)t[n][i][1]/=l}Jp(t,r)}}function Eee(t,r){if((i=t.length)>0){for(var n=0,a=t[r[0]],i,o=a.length;n<o;++n){for(var l=0,c=0;l<i;++l)c+=t[l][n][1]||0;a[n][1]+=a[n][0]=-c/2}Jp(t,r)}}function Tee(t,r){if(!(!((l=t.length)>0)||!((o=(i=t[r[0]]).length)>0))){for(var n=0,a=1,i,o,l;a<o;++a){for(var c=0,u=0,f=0;c<l;++c){for(var A=t[r[c]],m=A[a][1]||0,p=A[a-1][1]||0,g=(m-p)/2,b=0;b<c;++b){var v=t[r[b]],y=v[a][1]||0,j=v[a-1][1]||0;g+=y-j}u+=m,f+=g*m}i[a-1][1]+=i[a-1][0]=n,u&&(n-=f/u)}i[a-1][1]+=i[a-1][0]=n,Jp(t,r)}}var Fee=["type","size","sizeType"];function sS(){return sS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},sS.apply(null,arguments)}function RF(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function QF(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?RF(Object(n),!0).forEach(function(a){Iee(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RF(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Iee(t,r,n){return(r=_ee(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function _ee(t){var r=kee(t,"string");return typeof r=="symbol"?r:r+""}function kee(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Pee(t,r){if(t==null)return{};var n,a,i=Dee(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dee(t,r){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;n[a]=t[a]}return n}var rU={symbolCircle:V5,symbolCross:ree,symbolDiamond:see,symbolSquare:aee,symbolStar:cee,symbolTriangle:uee,symbolWye:Aee},Oee=Math.PI/180,Lee=t=>{var r="symbol".concat(iv(t));return rU[r]||V5},Uee=(t,r,n)=>{if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Oee;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Mee=(t,r)=>{rU["symbol".concat(iv(t))]=r},z5=t=>{var{type:r="circle",size:n=64,sizeType:a="area"}=t,i=Pee(t,Fee),o=QF(QF({},i),{},{type:r,size:n,sizeType:a}),l=()=>{var m=Lee(r),p=fee().type(m).size(Uee(n,a,r));return p()},{className:c,cx:u,cy:f}=o,A=Nn(o,!0);return u===+u&&f===+f&&n===+n?w.createElement("path",sS({},A,{className:Ot("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(f,")"),d:l()})):null};z5.registerSymbol=Mee;function aS(){return aS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},aS.apply(null,arguments)}function HF(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function Ree(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?HF(Object(n),!0).forEach(function(a){G5(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HF(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function G5(t,r,n){return(r=Qee(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Qee(t){var r=Hee(t,"string");return typeof r=="symbol"?r:r+""}function Hee(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Yc=32;class W5 extends w.PureComponent{renderIcon(r,n){var{inactiveColor:a}=this.props,i=Yc/2,o=Yc/6,l=Yc/3,c=r.inactive?a:r.color,u=n??r.type;if(u==="none")return null;if(u==="plainline")return w.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:Yc,y2:i,className:"recharts-legend-icon"});if(u==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Yc,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(u==="rect")return w.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Yc/8,"h").concat(Yc,"v").concat(Yc*3/4,"h").concat(-Yc,"z"),className:"recharts-legend-icon"});if(w.isValidElement(r.legendIcon)){var f=Ree({},r);return delete f.legendIcon,w.cloneElement(r.legendIcon,f)}return w.createElement(z5,{fill:c,cx:i,cy:i,size:Yc,sizeType:"diameter",type:u})}renderItems(){var{payload:r,iconSize:n,layout:a,formatter:i,inactiveColor:o,iconType:l}=this.props,c={x:0,y:0,width:Yc,height:Yc},u={display:a==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map((A,m)=>{var p=A.formatter||i,g=Ot({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:A.inactive});if(A.type==="none")return null;var b=A.inactive?o:A.color,v=p?p(A.value,A,m):A.value;return w.createElement("li",aS({className:g,style:u,key:"legend-item-".concat(m)},ov(this.props,A,m)),w.createElement(H5,{width:n,height:n,viewBox:c,style:f,"aria-label":"".concat(v," legend icon")},this.renderIcon(A,l)),w.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},v))})}render(){var{payload:r,layout:n,align:a}=this.props;if(!r||!r.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}G5(W5,"displayName","Legend");G5(W5,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var j4={},N4={},$F;function $ee(){return $F||($F=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(n,a){const i=new Map;for(let o=0;o<n.length;o++){const l=n[o],c=a(l);i.has(c)||i.set(c,l)}return Array.from(i.values())}t.uniqBy=r}(N4)),N4}var C4={},KF;function nU(){return KF||(KF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(n){return n}t.identity=r}(C4)),C4}var S4={},B4={},E4={},VF;function Kee(){return VF||(VF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=r}(E4)),E4}var zF;function q5(){return zF||(zF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=Kee();function n(a){return a!=null&&typeof a!="function"&&r.isLength(a.length)}t.isArrayLike=n}(B4)),B4}var T4={},GF;function Vee(){return GF||(GF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(n){return typeof n=="object"&&n!==null}t.isObjectLike=r}(T4)),T4}var WF;function zee(){return WF||(WF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=q5(),n=Vee();function a(i){return n.isObjectLike(i)&&r.isArrayLike(i)}t.isArrayLikeObject=a}(S4)),S4}var F4={},I4={},qF;function Gee(){return qF||(qF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=M5();function n(a){return function(i){return r.get(i,a)}}t.property=n}(I4)),I4}var _4={},k4={},P4={},D4={},YF;function sU(){return YF||(YF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=r}(D4)),D4}var O4={},XF;function aU(){return XF||(XF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=r}(O4)),O4}var L4={},JF;function Y5(){return JF||(JF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(n,a){return n===a||Number.isNaN(n)&&Number.isNaN(a)}t.eq=r}(L4)),L4}var ZF;function Wee(){return ZF||(ZF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=X5(),n=sU(),a=aU(),i=Y5();function o(m,p,g){return typeof g!="function"?r.isMatch(m,p):l(m,p,function b(v,y,j,C,S,E){const D=g(v,y,j,C,S,E);return D!==void 0?!!D:l(v,y,b,E)},new Map)}function l(m,p,g,b){if(p===m)return!0;switch(typeof p){case"object":return c(m,p,g,b);case"function":return Object.keys(p).length>0?l(m,{...p},g,b):i.eq(m,p);default:return n.isObject(m)?typeof p=="string"?p==="":!0:i.eq(m,p)}}function c(m,p,g,b){if(p==null)return!0;if(Array.isArray(p))return f(m,p,g,b);if(p instanceof Map)return u(m,p,g,b);if(p instanceof Set)return A(m,p,g,b);const v=Object.keys(p);if(m==null)return v.length===0;if(v.length===0)return!0;if(b&&b.has(p))return b.get(p)===m;b&&b.set(p,m);try{for(let y=0;y<v.length;y++){const j=v[y];if(!a.isPrimitive(m)&&!(j in m)||p[j]===void 0&&m[j]!==void 0||p[j]===null&&m[j]!==null||!g(m[j],p[j],j,m,p,b))return!1}return!0}finally{b&&b.delete(p)}}function u(m,p,g,b){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[v,y]of p.entries()){const j=m.get(v);if(g(j,y,v,m,p,b)===!1)return!1}return!0}function f(m,p,g,b){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const v=new Set;for(let y=0;y<p.length;y++){const j=p[y];let C=!1;for(let S=0;S<m.length;S++){if(v.has(S))continue;const E=m[S];let D=!1;if(g(E,j,y,m,p,b)&&(D=!0),D){v.add(S),C=!0;break}}if(!C)return!1}return!0}function A(m,p,g,b){return p.size===0?!0:m instanceof Set?f([...m],[...p],g,b):!1}t.isMatchWith=o,t.isSetMatch=A}(P4)),P4}var eI;function X5(){return eI||(eI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=Wee();function n(a,i){return r.isMatchWith(a,i,()=>{})}t.isMatch=n}(k4)),k4}var U4={},M4={},R4={},tI;function iU(){return tI||(tI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(n){return Object.getOwnPropertySymbols(n).filter(a=>Object.prototype.propertyIsEnumerable.call(n,a))}t.getSymbols=r}(R4)),R4}var Q4={},rI;function J5(){return rI||(rI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=r}(Q4)),Q4}var H4={},nI;function Z5(){return nI||(nI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r="[object RegExp]",n="[object String]",a="[object Number]",i="[object Boolean]",o="[object Arguments]",l="[object Symbol]",c="[object Date]",u="[object Map]",f="[object Set]",A="[object Array]",m="[object Function]",p="[object ArrayBuffer]",g="[object Object]",b="[object Error]",v="[object DataView]",y="[object Uint8Array]",j="[object Uint8ClampedArray]",C="[object Uint16Array]",S="[object Uint32Array]",E="[object BigUint64Array]",D="[object Int8Array]",k="[object Int16Array]",L="[object Int32Array]",I="[object BigInt64Array]",Y="[object Float32Array]",Q="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=p,t.arrayTag=A,t.bigInt64ArrayTag=I,t.bigUint64ArrayTag=E,t.booleanTag=i,t.dataViewTag=v,t.dateTag=c,t.errorTag=b,t.float32ArrayTag=Y,t.float64ArrayTag=Q,t.functionTag=m,t.int16ArrayTag=k,t.int32ArrayTag=L,t.int8ArrayTag=D,t.mapTag=u,t.numberTag=a,t.objectTag=g,t.regexpTag=r,t.setTag=f,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=C,t.uint32ArrayTag=S,t.uint8ArrayTag=y,t.uint8ClampedArrayTag=j}(H4)),H4}var $4={},sI;function qee(){return sI||(sI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=r}($4)),$4}var aI;function oU(){return aI||(aI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=iU(),n=J5(),a=Z5(),i=aU(),o=qee();function l(A,m){return c(A,void 0,A,new Map,m)}function c(A,m,p,g=new Map,b=void 0){const v=b?.(A,m,p,g);if(v!=null)return v;if(i.isPrimitive(A))return A;if(g.has(A))return g.get(A);if(Array.isArray(A)){const y=new Array(A.length);g.set(A,y);for(let j=0;j<A.length;j++)y[j]=c(A[j],j,p,g,b);return Object.hasOwn(A,"index")&&(y.index=A.index),Object.hasOwn(A,"input")&&(y.input=A.input),y}if(A instanceof Date)return new Date(A.getTime());if(A instanceof RegExp){const y=new RegExp(A.source,A.flags);return y.lastIndex=A.lastIndex,y}if(A instanceof Map){const y=new Map;g.set(A,y);for(const[j,C]of A)y.set(j,c(C,j,p,g,b));return y}if(A instanceof Set){const y=new Set;g.set(A,y);for(const j of A)y.add(c(j,void 0,p,g,b));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(A))return A.subarray();if(o.isTypedArray(A)){const y=new(Object.getPrototypeOf(A)).constructor(A.length);g.set(A,y);for(let j=0;j<A.length;j++)y[j]=c(A[j],j,p,g,b);return y}if(A instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&A instanceof SharedArrayBuffer)return A.slice(0);if(A instanceof DataView){const y=new DataView(A.buffer.slice(0),A.byteOffset,A.byteLength);return g.set(A,y),u(y,A,p,g,b),y}if(typeof File<"u"&&A instanceof File){const y=new File([A],A.name,{type:A.type});return g.set(A,y),u(y,A,p,g,b),y}if(A instanceof Blob){const y=new Blob([A],{type:A.type});return g.set(A,y),u(y,A,p,g,b),y}if(A instanceof Error){const y=new A.constructor;return g.set(A,y),y.message=A.message,y.name=A.name,y.stack=A.stack,y.cause=A.cause,u(y,A,p,g,b),y}if(typeof A=="object"&&f(A)){const y=Object.create(Object.getPrototypeOf(A));return g.set(A,y),u(y,A,p,g,b),y}return A}function u(A,m,p=A,g,b){const v=[...Object.keys(m),...r.getSymbols(m)];for(let y=0;y<v.length;y++){const j=v[y],C=Object.getOwnPropertyDescriptor(A,j);(C==null||C.writable)&&(A[j]=c(m[j],j,p,g,b))}}function f(A){switch(n.getTag(A)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=u}(M4)),M4}var iI;function Yee(){return iI||(iI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=oU();function n(a){return r.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}t.cloneDeep=n}(U4)),U4}var oI;function Xee(){return oI||(oI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=X5(),n=Yee();function a(i){return i=n.cloneDeep(i),o=>r.isMatch(o,i)}t.matches=a}(_4)),_4}var K4={},V4={},z4={},lI;function Jee(){return lI||(lI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=oU(),n=Z5();function a(i,o){return r.cloneDeepWith(i,(l,c,u,f)=>{const A=o?.(l,c,u,f);if(A!=null)return A;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i?.valueOf());return r.copyProperties(m,i),m}case n.argumentsTag:{const m={};return r.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}t.cloneDeepWith=a}(z4)),z4}var cI;function Zee(){return cI||(cI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=Jee();function n(a){return r.cloneDeepWith(a)}t.cloneDeep=n}(V4)),V4}var G4={},W4={},uI;function lU(){return uI||(uI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=/^(?:0|[1-9]\d*)$/;function n(a,i=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<i;case"symbol":return!1;case"string":return r.test(a)}}t.isIndex=n}(W4)),W4}var q4={},dI;function ete(){return dI||(dI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=J5();function n(a){return a!==null&&typeof a=="object"&&r.getTag(a)==="[object Arguments]"}t.isArguments=n}(q4)),q4}var AI;function tte(){return AI||(AI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=kL(),n=lU(),a=ete(),i=U5();function o(l,c){let u;if(Array.isArray(c)?u=c:typeof c=="string"&&r.isDeepKey(c)&&l?.[c]==null?u=i.toPath(c):u=[c],u.length===0)return!1;let f=l;for(let A=0;A<u.length;A++){const m=u[A];if((f==null||!Object.hasOwn(f,m))&&!((Array.isArray(f)||a.isArguments(f))&&n.isIndex(m)&&m<f.length))return!1;f=f[m]}return!0}t.has=o}(G4)),G4}var fI;function rte(){return fI||(fI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=X5(),n=PL(),a=Zee(),i=M5(),o=tte();function l(c,u){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return u=a.cloneDeep(u),function(f){const A=i.get(f,c);return A===void 0?o.has(f,c):u===void 0?A===void 0:r.isMatch(A,u)}}t.matchesProperty=l}(K4)),K4}var hI;function nte(){return hI||(hI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=nU(),n=Gee(),a=Xee(),i=rte();function o(l){if(l==null)return r.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):a.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=o}(F4)),F4}var mI;function ste(){return mI||(mI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=$ee(),n=nU(),a=zee(),i=nte();function o(l,c=n.identity){return a.isArrayLikeObject(l)?r.uniqBy(Array.from(l),i.iteratee(c)):[]}t.uniqBy=o}(j4)),j4}var Y4,pI;function ate(){return pI||(pI=1,Y4=ste().uniqBy),Y4}var ite=ate();const gI=vc(ite);function cU(t,r,n){return r===!0?gI(t,n):typeof r=="function"?gI(t,r):t}var X4={exports:{}},J4={},Z4={exports:{}},eN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xI;function ote(){if(xI)return eN;xI=1;var t=lg();function r(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var n=typeof Object.is=="function"?Object.is:r,a=t.useState,i=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function c(m,p){var g=p(),b=a({inst:{value:g,getSnapshot:p}}),v=b[0].inst,y=b[1];return o(function(){v.value=g,v.getSnapshot=p,u(v)&&y({inst:v})},[m,g,p]),i(function(){return u(v)&&y({inst:v}),m(function(){u(v)&&y({inst:v})})},[m]),l(g),g}function u(m){var p=m.getSnapshot;m=m.value;try{var g=p();return!n(m,g)}catch{return!0}}function f(m,p){return p()}var A=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return eN.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:A,eN}var yI;function lte(){return yI||(yI=1,Z4.exports=ote()),Z4.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vI;function cte(){if(vI)return J4;vI=1;var t=lg(),r=lte();function n(f,A){return f===A&&(f!==0||1/f===1/A)||f!==f&&A!==A}var a=typeof Object.is=="function"?Object.is:n,i=r.useSyncExternalStore,o=t.useRef,l=t.useEffect,c=t.useMemo,u=t.useDebugValue;return J4.useSyncExternalStoreWithSelector=function(f,A,m,p,g){var b=o(null);if(b.current===null){var v={hasValue:!1,value:null};b.current=v}else v=b.current;b=c(function(){function j(k){if(!C){if(C=!0,S=k,k=p(k),g!==void 0&&v.hasValue){var L=v.value;if(g(L,k))return E=L}return E=k}if(L=E,a(S,k))return L;var I=p(k);return g!==void 0&&g(L,I)?(S=k,L):(S=k,E=I)}var C=!1,S,E,D=m===void 0?null:m;return[function(){return j(A())},D===null?void 0:function(){return j(D())}]},[A,m,p,g]);var y=i(f,b[0],b[1]);return l(function(){v.hasValue=!0,v.value=y},[y]),u(y),y},J4}var bI;function ute(){return bI||(bI=1,X4.exports=cte()),X4.exports}var dte=ute(),e3=w.createContext(null),Ate=t=>t,ua=()=>{var t=w.useContext(e3);return t?t.store.dispatch:Ate},ab=()=>{},fte=()=>ab,hte=(t,r)=>t===r;function Ir(t){var r=w.useContext(e3);return dte.useSyncExternalStoreWithSelector(r?r.subscription.addNestedSub:fte,r?r.store.getState:ab,r?r.store.getState:ab,r?t:ab,hte)}var tN={},rN={},nN={},wI;function mte(){return wI||(wI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const n=(a,i,o)=>{if(a!==i){const l=r(a),c=r(i);if(l===c&&l===0){if(a<i)return o==="desc"?1:-1;if(a>i)return o==="desc"?-1:1}return o==="desc"?c-l:l-c}return 0};t.compareValues=n}(nN)),nN}var sN={},aN={},jI;function uU(){return jI||(jI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=r}(aN)),aN}var NI;function pte(){return NI||(NI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=uU(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function i(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||r.isSymbol(o)?!0:typeof o=="string"&&(a.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}t.isKey=i}(sN)),sN}var CI;function gte(){return CI||(CI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=mte(),n=pte(),a=U5();function i(o,l,c,u){if(o==null)return[];c=u?void 0:c,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(g=>String(g));const f=(g,b)=>{let v=g;for(let y=0;y<b.length&&v!=null;++y)v=v[b[y]];return v},A=(g,b)=>b==null||g==null?b:typeof g=="object"&&"key"in g?Object.hasOwn(b,g.key)?b[g.key]:f(b,g.path):typeof g=="function"?g(b):Array.isArray(g)?f(b,g):typeof b=="object"?b[g]:b,m=l.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||n.isKey(g)?g:{key:g,path:a.toPath(g)}));return o.map(g=>({original:g,criteria:m.map(b=>A(b,g))})).slice().sort((g,b)=>{for(let v=0;v<m.length;v++){const y=r.compareValues(g.criteria[v],b.criteria[v],c[v]);if(y!==0)return y}return 0}).map(g=>g.original)}t.orderBy=i}(rN)),rN}var iN={},SI;function xte(){return SI||(SI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(n,a=1){const i=[],o=Math.floor(a),l=(c,u)=>{for(let f=0;f<c.length;f++){const A=c[f];Array.isArray(A)&&u<o?l(A,u+1):i.push(A)}};return l(n,0),i}t.flatten=r}(iN)),iN}var oN={},BI;function dU(){return BI||(BI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=lU(),n=q5(),a=sU(),i=Y5();function o(l,c,u){return a.isObject(u)&&(typeof c=="number"&&n.isArrayLike(u)&&r.isIndex(c)&&c<u.length||typeof c=="string"&&c in u)?i.eq(u[c],l):!1}t.isIterateeCall=o}(oN)),oN}var EI;function yte(){return EI||(EI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=gte(),n=xte(),a=dU();function i(o,...l){const c=l.length;return c>1&&a.isIterateeCall(o,l[0],l[1])?l=[]:c>2&&a.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),r.orderBy(o,n.flatten(l),["asc"])}t.sortBy=i}(tN)),tN}var lN,TI;function vte(){return TI||(TI=1,lN=yte().sortBy),lN}var bte=vte();const Z2=vc(bte);var AU=t=>t.legend.settings,wte=t=>t.legend.size,jte=t=>t.legend.payload,Nte=Lt([jte,AU],(t,r)=>{var{itemSorter:n}=r,a=t.flat(1);return n?Z2(a,n):a});function Cte(){return Ir(Nte)}var S1=1;function fU(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[r,n]=w.useState({height:0,left:0,top:0,width:0}),a=w.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-r.height)>S1||Math.abs(l.left-r.left)>S1||Math.abs(l.top-r.top)>S1||Math.abs(l.width-r.width)>S1)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[r.width,r.height,r.top,r.left,...t]);return[r,a]}var Ste={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},hU=ul({name:"chartLayout",initialState:Ste,reducers:{setLayout(t,r){t.layoutType=r.payload},setChartSize(t,r){t.width=r.payload.width,t.height=r.payload.height},setMargin(t,r){t.margin.top=r.payload.top,t.margin.right=r.payload.right,t.margin.bottom=r.payload.bottom,t.margin.left=r.payload.left},setScale(t,r){t.scale=r.payload}}}),{setMargin:Bte,setLayout:Ete,setChartSize:Tte,setScale:Fte}=hU.actions,Ite=hU.reducer;function FI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function II(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?FI(Object(n),!0).forEach(function(a){_te(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FI(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function _te(t,r,n){return(r=kte(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function kte(t){var r=Pte(t,"string");return typeof r=="symbol"?r:r+""}function Pte(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Db=Math.PI/180,Dte=t=>t*180/Math.PI,Za=(t,r,n,a)=>({x:t+Math.cos(-Db*a)*n,y:r+Math.sin(-Db*a)*n}),mU=function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(r-(a.left||0)-(a.right||0)),Math.abs(n-(a.top||0)-(a.bottom||0)))/2},Ote=(t,r)=>{var{x:n,y:a}=t,{x:i,y:o}=r;return Math.sqrt((n-i)**2+(a-o)**2)},Lte=(t,r)=>{var{x:n,y:a}=t,{cx:i,cy:o}=r,l=Ote({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l,angle:0};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:Dte(u),angleInRadian:u}},Ute=t=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},Mte=(t,r)=>{var{startAngle:n,endAngle:a}=r,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},Rte=(t,r)=>{var{x:n,y:a}=t,{radius:i,angle:o}=Lte({x:n,y:a},r),{innerRadius:l,outerRadius:c}=r;if(i<l||i>c||i===0)return null;var{startAngle:u,endAngle:f}=Ute(r),A=o,m;if(u<=f){for(;A>f;)A-=360;for(;A<u;)A+=360;m=A>=u&&A<=f}else{for(;A>u;)A-=360;for(;A<f;)A+=360;m=A>=f&&A<=u}return m?II(II({},r),{},{radius:i,angle:Mte(A,r)}):null};function _I(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function ru(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?_I(Object(n),!0).forEach(function(a){Qte(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Qte(t,r,n){return(r=Hte(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Hte(t){var r=$te(t,"string");return typeof r=="symbol"?r:r+""}function $te(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function ea(t,r,n){return Ks(t)||Ks(r)?n:oA(r)?zh(t,r,n):typeof r=="function"?r(t):n}var Kte=(t,r,n,a,i)=>{var o,l=-1,c=(o=r?.length)!==null&&o!==void 0?o:0;if(c<=1||t==null)return 0;if(a==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<c;u++){var f=u>0?n[u-1].coordinate:n[c-1].coordinate,A=n[u].coordinate,m=u>=c-1?n[0].coordinate:n[u+1].coordinate,p=void 0;if(Ri(A-f)!==Ri(m-A)){var g=[];if(Ri(m-A)===Ri(i[1]-i[0])){p=m;var b=A+i[1]-i[0];g[0]=Math.min(b,(b+f)/2),g[1]=Math.max(b,(b+f)/2)}else{p=f;var v=m+i[1]-i[0];g[0]=Math.min(A,(v+A)/2),g[1]=Math.max(A,(v+A)/2)}var y=[Math.min(A,(p+A)/2),Math.max(A,(p+A)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){({index:l}=n[u]);break}}else{var j=Math.min(f,m),C=Math.max(f,m);if(t>(j+A)/2&&t<=(C+A)/2){({index:l}=n[u]);break}}}else if(r){for(var S=0;S<c;S++)if(S===0&&t<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<c-1&&t>(r[S].coordinate+r[S-1].coordinate)/2&&t<=(r[S].coordinate+r[S+1].coordinate)/2||S===c-1&&t>(r[S].coordinate+r[S-1].coordinate)/2){({index:l}=r[S]);break}}return l},Vte=(t,r,n)=>{if(r&&n){var{width:a,height:i}=n,{align:o,verticalAlign:l,layout:c}=r;if((c==="vertical"||c==="horizontal"&&l==="middle")&&o!=="center"&&wr(t[o]))return ru(ru({},t),{},{[o]:t[o]+(a||0)});if((c==="horizontal"||c==="vertical"&&o==="center")&&l!=="middle"&&wr(t[l]))return ru(ru({},t),{},{[l]:t[l]+(i||0)})}return t},Tf=(t,r)=>t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis",pU=(t,r,n,a)=>{if(a)return t.map(c=>c.coordinate);var i,o,l=t.map(c=>(c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate));return i||l.push(r),o||l.push(n),l},gU=(t,r,n)=>{if(!t)return null;var{duplicateDomain:a,type:i,range:o,scale:l,realScaleType:c,isCategorical:u,categoricalDomain:f,tickCount:A,ticks:m,niceTicks:p,axisType:g}=t;if(!l)return null;var b=c==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,v=i==="category"&&l.bandwidth?l.bandwidth()/b:0;if(v=g==="angleAxis"&&o&&o.length>=2?Ri(o[0]-o[1])*2*v:v,m||p){var y=(m||p||[]).map((j,C)=>{var S=a?a.indexOf(j):j;return{coordinate:l(S)+v,value:j,offset:v,index:C}});return y.filter(j=>!Pl(j.coordinate))}return u&&f?f.map((j,C)=>({coordinate:l(j)+v,value:j,index:C,offset:v})):l.ticks&&A!=null?l.ticks(A).map((j,C)=>({coordinate:l(j)+v,value:j,offset:v,index:C})):l.domain().map((j,C)=>({coordinate:l(j)+v,value:a?a[j]:j,index:C,offset:v}))},kI=1e-4,zte=t=>{var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-kI,o=Math.max(a[0],a[1])+kI,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},Gte=(t,r)=>{if(!r||r.length!==2||!wr(r[0])||!wr(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!wr(t[0])||t[0]<n)&&(i[0]=n),(!wr(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},Wte=t=>{var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Pl(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},qte=t=>{var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=Pl(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Yte={sign:Wte,expand:Bee,none:Jp,silhouette:Eee,wiggle:Tee,positive:qte},Xte=(t,r,n)=>{var a=Yte[n],i=See().keys(r).value((o,l)=>+ea(o,l,0)).order(nS).offset(a);return i(t)};function t3(t){return t==null?void 0:String(t)}function PI(t){var{axis:r,ticks:n,bandSize:a,entry:i,index:o,dataKey:l}=t;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!Ks(i[r.dataKey])){var c=OL(n,"value",i[r.dataKey]);if(c)return c.coordinate+a/2}return n[o]?n[o].coordinate+a/2:null}var u=ea(i,Ks(l)?r.dataKey:l);return Ks(u)?null:r.scale(u)}var DI=t=>{var{axis:r,ticks:n,offset:a,bandSize:i,entry:o,index:l}=t;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=ea(o,r.dataKey,r.scale.domain()[l]);return Ks(c)?null:r.scale(c)-i/2+a},Jte=t=>{var{numericAxis:r}=t,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},Zte=t=>{var r=t.flat(2).filter(wr);return[Math.min(...r),Math.max(...r)]},ere=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],tre=(t,r,n)=>{if(t!=null)return ere(Object.keys(t).reduce((a,i)=>{var o=t[i],{stackedData:l}=o,c=l.reduce((u,f)=>{var A=Zte(f.slice(r,n+1));return[Math.min(u[0],A[0]),Math.max(u[1],A[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]))},OI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,LI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ny=(t,r,n)=>{if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=Z2(r,A=>A.coordinate),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],f=i[l-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function UI(t){var{tooltipEntrySettings:r,dataKey:n,payload:a,value:i,name:o}=t;return ru(ru({},r),{},{dataKey:n,payload:a,value:i,name:o})}function hg(t,r){if(t)return String(t);if(typeof r=="string")return r}function rre(t,r,n,a,i){if(n==="horizontal"||n==="vertical"){var o=t>=i.left&&t<=i.left+i.width&&r>=i.top&&r<=i.top+i.height;return o?{x:t,y:r}:null}return a?Rte({x:t,y:r},a):null}var nre=(t,r,n,a)=>{var i=r.find(f=>f&&f.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,{radius:l}=a;return ru(ru(ru({},a),Za(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,{angle:u}=a;return ru(ru(ru({},a),Za(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return{x:0,y:0}},sre=(t,r)=>r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius,Ff=t=>t.layout.width,If=t=>t.layout.height,are=t=>t.layout.scale,xU=t=>t.layout.margin,r3=Lt(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),n3=Lt(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),yU="data-recharts-item-index",vU="data-recharts-item-data-key",ew=60;function MI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function bh(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?MI(Object(n),!0).forEach(function(a){ire(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function ire(t,r,n){return(r=ore(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function ore(t){var r=lre(t,"string");return typeof r=="symbol"?r:r+""}function lre(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var cre=t=>t.brush.height,yi=Lt([Ff,If,xU,cre,r3,n3,AU,wte],(t,r,n,a,i,o,l,c)=>{var u=o.reduce((b,v)=>{var{orientation:y}=v;if(!v.mirror&&!v.hide){var j=typeof v.width=="number"?v.width:ew;return bh(bh({},b),{},{[y]:b[y]+j})}return b},{left:n.left||0,right:n.right||0}),f=i.reduce((b,v)=>{var{orientation:y}=v;return!v.mirror&&!v.hide?bh(bh({},b),{},{[y]:zh(b,"".concat(y))+v.height}):b},{top:n.top||0,bottom:n.bottom||0}),A=bh(bh({},f),u),m=A.bottom;A.bottom+=a,A=Vte(A,l,c);var p=t-A.left-A.right,g=r-A.top-A.bottom;return bh(bh({brushBottom:m},A),{},{width:Math.max(p,0),height:Math.max(g,0)})}),ure=Lt(yi,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),bU=Lt(Ff,If,(t,r)=>({x:0,y:0,width:t,height:r})),dre=w.createContext(null),dl=()=>w.useContext(dre)!=null,tw=t=>t.brush,rw=Lt([tw,yi,xU],(t,r,n)=>({height:t.height,x:wr(t.x)?t.x:r.left,y:wr(t.y)?t.y:r.top+r.height+r.brushBottom-(n?.bottom||0),width:wr(t.width)?t.width:r.width})),s3=()=>{var t,r=dl(),n=Ir(ure),a=Ir(rw),i=(t=Ir(tw))===null||t===void 0?void 0:t.padding;return!r||!a||!i?n:{width:a.width-i.left-i.right,height:a.height-i.top-i.bottom,x:i.left,y:i.top}},Are={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},wU=()=>{var t;return(t=Ir(yi))!==null&&t!==void 0?t:Are},a3=()=>Ir(Ff),i3=()=>Ir(If),fre={top:0,right:0,bottom:0,left:0},hre=()=>{var t;return(t=Ir(r=>r.layout.margin))!==null&&t!==void 0?t:fre},Yn=t=>t.layout.layoutType,nw=()=>Ir(Yn),mre={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},jU=ul({name:"legend",initialState:mre,reducers:{setLegendSize(t,r){t.size.width=r.payload.width,t.size.height=r.payload.height},setLegendSettings(t,r){t.settings.align=r.payload.align,t.settings.layout=r.payload.layout,t.settings.verticalAlign=r.payload.verticalAlign,t.settings.itemSorter=r.payload.itemSorter},addLegendPayload(t,r){t.payload.push(r.payload)},removeLegendPayload(t,r){var n=uf(t).payload.indexOf(r.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:RI,setLegendSettings:pre,addLegendPayload:NU,removeLegendPayload:CU}=jU.actions,gre=jU.reducer,xre=["contextPayload"];function iS(){return iS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},iS.apply(null,arguments)}function QI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function Zp(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?QI(Object(n),!0).forEach(function(a){o3(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function o3(t,r,n){return(r=yre(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function yre(t){var r=vre(t,"string");return typeof r=="symbol"?r:r+""}function vre(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function bre(t,r){if(t==null)return{};var n,a,i=wre(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wre(t,r){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;n[a]=t[a]}return n}function jre(t){return t.value}function Nre(t){var{contextPayload:r}=t,n=bre(t,xre),a=cU(r,t.payloadUniqBy,jre),i=Zp(Zp({},n),{},{payload:a});return w.isValidElement(t.content)?w.cloneElement(t.content,i):typeof t.content=="function"?w.createElement(t.content,i):w.createElement(W5,i)}function Cre(t,r,n,a,i,o){var{layout:l,align:c,verticalAlign:u}=r,f,A;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(c==="center"&&l==="vertical"?f={left:((a||0)-o.width)/2}:f=c==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(u==="middle"?A={top:((i||0)-o.height)/2}:A=u==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Zp(Zp({},f),A)}function Sre(t){var r=ua();return w.useEffect(()=>{r(pre(t))},[r,t]),null}function Bre(t){var r=ua();return w.useEffect(()=>(r(RI(t)),()=>{r(RI({width:0,height:0}))}),[r,t]),null}function Ere(t){var r=Cte(),n=YZ(),a=hre(),{width:i,height:o,wrapperStyle:l,portal:c}=t,[u,f]=fU([r]),A=a3(),m=i3(),p=A-(a.left||0)-(a.right||0),g=A0.getWidthOrHeight(t.layout,o,i,p),b=c?l:Zp(Zp({position:"absolute",width:g?.width||i||"auto",height:g?.height||o||"auto"},Cre(l,t,a,A,m,u)),l),v=c??n;if(v==null)return null;var y=w.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:f},w.createElement(Sre,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),w.createElement(Bre,{width:u.width,height:u.height}),w.createElement(Nre,iS({},t,g,{margin:a,chartWidth:A,chartHeight:m,contextPayload:r})));return FO.createPortal(y,v)}class A0 extends w.PureComponent{static getWidthOrHeight(r,n,a,i){return r==="vertical"&&wr(n)?{height:n}:r==="horizontal"?{width:a||i}:null}render(){return w.createElement(Ere,this.props)}}o3(A0,"displayName","Legend");o3(A0,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function oS(){return oS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},oS.apply(null,arguments)}function HI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function cN(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?HI(Object(n),!0).forEach(function(a){Tre(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Tre(t,r,n){return(r=Fre(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Fre(t){var r=Ire(t,"string");return typeof r=="symbol"?r:r+""}function Ire(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function _re(t){return Array.isArray(t)&&oA(t[0])&&oA(t[1])?t.join(" ~ "):t}var kre=t=>{var{separator:r=" : ",contentStyle:n={},itemStyle:a={},labelStyle:i={},payload:o,formatter:l,itemSorter:c,wrapperClassName:u,labelClassName:f,label:A,labelFormatter:m,accessibilityLayer:p=!1}=t,g=()=>{if(o&&o.length){var D={padding:0,margin:0},k=(c?Z2(o,c):o).map((L,I)=>{if(L.type==="none")return null;var Y=L.formatter||l||_re,{value:Q,name:H}=L,U=Q,K=H;if(Y){var X=Y(Q,H,L,I,o);if(Array.isArray(X))[U,K]=X;else if(X!=null)U=X;else return null}var Z=cN({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},a);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:Z},oA(K)?w.createElement("span",{className:"recharts-tooltip-item-name"},K):null,oA(K)?w.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,w.createElement("span",{className:"recharts-tooltip-item-value"},U),w.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:D},k)}return null},b=cN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=cN({margin:0},i),y=!Ks(A),j=y?A:"",C=Ot("recharts-default-tooltip",u),S=Ot("recharts-tooltip-label",f);y&&m&&o!==void 0&&o!==null&&(j=m(A,o));var E=p?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",oS({className:C,style:b},E),w.createElement("p",{className:S,style:v},w.isValidElement(j)?j:"".concat(j)),g())},Sx="recharts-tooltip-wrapper",Pre={visibility:"hidden"};function Dre(t){var{coordinate:r,translateX:n,translateY:a}=t;return Ot(Sx,{["".concat(Sx,"-right")]:wr(n)&&r&&wr(r.x)&&n>=r.x,["".concat(Sx,"-left")]:wr(n)&&r&&wr(r.x)&&n<r.x,["".concat(Sx,"-bottom")]:wr(a)&&r&&wr(r.y)&&a>=r.y,["".concat(Sx,"-top")]:wr(a)&&r&&wr(r.y)&&a<r.y})}function $I(t){var{allowEscapeViewBox:r,coordinate:n,key:a,offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:c,viewBox:u,viewBoxDimension:f}=t;if(o&&wr(o[a]))return o[a];var A=n[a]-c-(i>0?i:0),m=n[a]+i;if(r[a])return l[a]?A:m;var p=u[a];if(p==null)return 0;if(l[a]){var g=A,b=p;return g<b?Math.max(m,p):Math.max(A,p)}if(f==null)return 0;var v=m+c,y=p+f;return v>y?Math.max(A,p):Math.max(m,p)}function Ore(t){var{translateX:r,translateY:n,useTranslate3d:a}=t;return{transform:a?"translate3d(".concat(r,"px, ").concat(n,"px, 0)"):"translate(".concat(r,"px, ").concat(n,"px)")}}function Lre(t){var{allowEscapeViewBox:r,coordinate:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipBox:l,useTranslate3d:c,viewBox:u}=t,f,A,m;return l.height>0&&l.width>0&&n?(A=$I({allowEscapeViewBox:r,coordinate:n,key:"x",offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),m=$I({allowEscapeViewBox:r,coordinate:n,key:"y",offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),f=Ore({translateX:A,translateY:m,useTranslate3d:c})):f=Pre,{cssProperties:f,cssClasses:Dre({translateX:A,translateY:m,coordinate:n})}}function KI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function B1(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?KI(Object(n),!0).forEach(function(a){lS(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function lS(t,r,n){return(r=Ure(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Ure(t){var r=Mre(t,"string");return typeof r=="symbol"?r:r+""}function Mre(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}class Rre extends w.PureComponent{constructor(){super(...arguments),lS(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),lS(this,"handleKeyDown",r=>{if(r.key==="Escape"){var n,a,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var r,n;this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,children:o,coordinate:l,hasPayload:c,isAnimationActive:u,offset:f,position:A,reverseDirection:m,useTranslate3d:p,viewBox:g,wrapperStyle:b,lastBoundingBox:v,innerRef:y,hasPortalFromProps:j}=this.props,{cssClasses:C,cssProperties:S}=Lre({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:f,position:A,reverseDirection:m,tooltipBox:{height:v.height,width:v.width},useTranslate3d:p,viewBox:g}),E=j?{}:B1(B1({transition:u&&r?"transform ".concat(a,"ms ").concat(i):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&c?"visible":"hidden",position:"absolute",top:0,left:0}),D=B1(B1({},E),{},{visibility:!this.state.dismissed&&r&&c?"visible":"hidden"},b);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:D,ref:y},o)}}var Qre=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),I0={isSsr:Qre()},SU=()=>Ir(t=>t.rootProps.accessibilityLayer);function oo(t){return Number.isFinite(t)}function eg(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function cS(){return cS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},cS.apply(null,arguments)}function VI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function zI(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?VI(Object(n),!0).forEach(function(a){Hre(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Hre(t,r,n){return(r=$re(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function $re(t){var r=Kre(t,"string");return typeof r=="symbol"?r:r+""}function Kre(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var GI={curveBasisClosed:mee,curveBasisOpen:pee,curveBasis:hee,curveBumpX:eee,curveBumpY:tee,curveLinearClosed:gee,curveLinear:X2,curveMonotoneX:xee,curveMonotoneY:yee,curveNatural:vee,curveStep:bee,curveStepAfter:jee,curveStepBefore:wee},E1=t=>oo(t.x)&&oo(t.y),Bx=t=>t.x,Ex=t=>t.y,Vre=(t,r)=>{if(typeof t=="function")return t;var n="curve".concat(iv(t));return(n==="curveMonotone"||n==="curveBump")&&r?GI["".concat(n).concat(r==="vertical"?"Y":"X")]:GI[n]||X2},zre=t=>{var{type:r="linear",points:n=[],baseLine:a,layout:i,connectNulls:o=!1}=t,l=Vre(r,i),c=o?n.filter(E1):n,u;if(Array.isArray(a)){var f=o?a.filter(m=>E1(m)):a,A=c.map((m,p)=>zI(zI({},m),{},{base:f[p]}));return i==="vertical"?u=C1().y(Ex).x1(Bx).x0(m=>m.base.x):u=C1().x(Bx).y1(Ex).y0(m=>m.base.y),u.defined(E1).curve(l),u(A)}return i==="vertical"&&wr(a)?u=C1().y(Ex).x1(Bx).x0(a):wr(a)?u=C1().x(Bx).y1(Ex).y0(a):u=VL().x(Bx).y(Ex),u.defined(E1).curve(l),u(c)},Xx=t=>{var{className:r,points:n,path:a,pathRef:i}=t;if((!n||!n.length)&&!a)return null;var o=n&&n.length?zre(t):a;return w.createElement("path",cS({},Nn(t,!1),Q5(t),{className:Ot("recharts-curve",r),d:o===null?void 0:o,ref:i}))},Gre=["x","y","top","left","width","height","className"];function uS(){return uS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},uS.apply(null,arguments)}function WI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function Wre(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?WI(Object(n),!0).forEach(function(a){qre(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function qre(t,r,n){return(r=Yre(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Yre(t){var r=Xre(t,"string");return typeof r=="symbol"?r:r+""}function Xre(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Jre(t,r){if(t==null)return{};var n,a,i=Zre(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zre(t,r){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;n[a]=t[a]}return n}var ene=(t,r,n,a,i,o)=>"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n),tne=t=>{var{x:r=0,y:n=0,top:a=0,left:i=0,width:o=0,height:l=0,className:c}=t,u=Jre(t,Gre),f=Wre({x:r,y:n,top:a,left:i,width:o,height:l},u);return!wr(r)||!wr(n)||!wr(o)||!wr(l)||!wr(a)||!wr(i)?null:w.createElement("path",uS({},Nn(f,!0),{className:Ot("recharts-cross",c),d:ene(r,n,o,l,a,i)}))};function rne(t,r,n,a){var i=a/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?r.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:r.y-i,width:t==="horizontal"?a:n.width-1,height:t==="horizontal"?n.height-1:a}}function qI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function nne(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?qI(Object(n),!0).forEach(function(a){sne(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function sne(t,r,n){return(r=ane(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function ane(t){var r=ine(t,"string");return typeof r=="symbol"?r:r+""}function ine(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function iu(t,r){var n=nne({},t),a=r,i=Object.keys(r),o=i.reduce((l,c)=>(l[c]===void 0&&a[c]!==void 0&&(l[c]=a[c]),l),n);return o}var uN={},dN={},AN={},YI;function one(){return YI||(YI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(n){if(!n||typeof n!="object")return!1;const a=Object.getPrototypeOf(n);return a===null||a===Object.prototype||Object.getPrototypeOf(a)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=r}(AN)),AN}var XI;function lne(){return XI||(XI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=one(),n=iU(),a=J5(),i=Z5(),o=Y5();function l(f,A,m){return c(f,A,void 0,void 0,void 0,void 0,m)}function c(f,A,m,p,g,b,v){const y=v(f,A,m,p,g,b);if(y!==void 0)return y;if(typeof f==typeof A)switch(typeof f){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return f===A;case"number":return f===A||Object.is(f,A);case"function":return f===A;case"object":return u(f,A,b,v)}return u(f,A,b,v)}function u(f,A,m,p){if(Object.is(f,A))return!0;let g=a.getTag(f),b=a.getTag(A);if(g===i.argumentsTag&&(g=i.objectTag),b===i.argumentsTag&&(b=i.objectTag),g!==b)return!1;switch(g){case i.stringTag:return f.toString()===A.toString();case i.numberTag:{const j=f.valueOf(),C=A.valueOf();return o.eq(j,C)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(f.valueOf(),A.valueOf());case i.regexpTag:return f.source===A.source&&f.flags===A.flags;case i.functionTag:return f===A}m=m??new Map;const v=m.get(f),y=m.get(A);if(v!=null&&y!=null)return v===A;m.set(f,A),m.set(A,f);try{switch(g){case i.mapTag:{if(f.size!==A.size)return!1;for(const[j,C]of f.entries())if(!A.has(j)||!c(C,A.get(j),j,f,A,m,p))return!1;return!0}case i.setTag:{if(f.size!==A.size)return!1;const j=Array.from(f.values()),C=Array.from(A.values());for(let S=0;S<j.length;S++){const E=j[S],D=C.findIndex(k=>c(E,k,void 0,f,A,m,p));if(D===-1)return!1;C.splice(D,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(f)!==Buffer.isBuffer(A)||f.length!==A.length)return!1;for(let j=0;j<f.length;j++)if(!c(f[j],A[j],j,f,A,m,p))return!1;return!0}case i.arrayBufferTag:return f.byteLength!==A.byteLength?!1:u(new Uint8Array(f),new Uint8Array(A),m,p);case i.dataViewTag:return f.byteLength!==A.byteLength||f.byteOffset!==A.byteOffset?!1:u(new Uint8Array(f),new Uint8Array(A),m,p);case i.errorTag:return f.name===A.name&&f.message===A.message;case i.objectTag:{if(!(u(f.constructor,A.constructor,m,p)||r.isPlainObject(f)&&r.isPlainObject(A)))return!1;const C=[...Object.keys(f),...n.getSymbols(f)],S=[...Object.keys(A),...n.getSymbols(A)];if(C.length!==S.length)return!1;for(let E=0;E<C.length;E++){const D=C[E],k=f[D];if(!Object.hasOwn(A,D))return!1;const L=A[D];if(!c(k,L,D,f,A,m,p))return!1}return!0}default:return!1}}finally{m.delete(f),m.delete(A)}}t.isEqualWith=l}(dN)),dN}var fN={},JI;function cne(){return JI||(JI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(){}t.noop=r}(fN)),fN}var ZI;function une(){return ZI||(ZI=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=lne(),n=cne();function a(i,o){return r.isEqualWith(i,o,n.noop)}t.isEqual=a}(uN)),uN}var hN,e_;function dne(){return e_||(e_=1,hN=une().isEqual),hN}var Ane=dne();const fne=vc(Ane);function hne(t){var r={},n=()=>null,a=!1,i=null,o=l=>{if(!a){if(Array.isArray(l)){if(!l.length)return;var c=l,[u,...f]=c;if(typeof u=="number"){i=t.setTimeout(o.bind(null,f),u);return}o(u),i=t.setTimeout(o.bind(null,f));return}typeof l=="object"&&(r=l,n(r)),typeof l=="function"&&l()}};return{stop:()=>{a=!0},start:l=>{a=!1,i&&(i(),i=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}var Ob=1e-4,BU=(t,r)=>[0,3*t,3*r-6*t,3*t-3*r+1],EU=(t,r)=>t.map((n,a)=>n*r**a).reduce((n,a)=>n+a),t_=(t,r)=>n=>{var a=BU(t,r);return EU(a,n)},mne=(t,r)=>n=>{var a=BU(t,r),i=[...a.map((o,l)=>o*l).slice(1),0];return EU(i,n)},r_=function(){for(var r,n,a,i,o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];if(l.length===1)switch(l[0]){case"linear":[r,a,n,i]=[0,0,1,1];break;case"ease":[r,a,n,i]=[.25,.1,.25,1];break;case"ease-in":[r,a,n,i]=[.42,0,1,1];break;case"ease-out":[r,a,n,i]=[.42,0,.58,1];break;case"ease-in-out":[r,a,n,i]=[0,0,.58,1];break;default:{var u=l[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([r,a,n,i]=u[1].split(")")[0].split(",").map(b=>parseFloat(b)))}}else l.length===4&&([r,a,n,i]=l);var f=t_(r,n),A=t_(a,i),m=mne(r,n),p=b=>b>1?1:b<0?0:b,g=b=>{for(var v=b>1?1:b,y=v,j=0;j<8;++j){var C=f(y)-v,S=m(y);if(Math.abs(C-v)<Ob||S<Ob)return A(y);y=p(y-C/S)}return A(y)};return g.isStepper=!1,g},pne=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:a=8,dt:i=17}=r,o=(l,c,u)=>{var f=-(l-c)*n,A=u*a,m=u+(f-A)*i/1e3,p=u*i/1e3+l;return Math.abs(p-c)<Ob&&Math.abs(m)<Ob?[c,0]:[p,m]};return o.isStepper=!0,o.dt=i,o},gne=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return r_(t);case"spring":return pne();default:if(t.split("(")[0]==="cubic-bezier")return r_(t)}return typeof t=="function"?t:null};function n_(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function s_(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?n_(Object(n),!0).forEach(function(a){xne(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n_(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function xne(t,r,n){return(r=yne(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function yne(t){var r=vne(t,"string");return typeof r=="symbol"?r:r+""}function vne(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var bne=t=>t.replace(/([A-Z])/g,r=>"-".concat(r.toLowerCase())),wne=(t,r,n)=>t.map(a=>"".concat(bne(a)," ").concat(r,"ms ").concat(n)).join(","),jne=(t,r)=>[Object.keys(t),Object.keys(r)].reduce((n,a)=>n.filter(i=>a.includes(i))),Cy=(t,r)=>Object.keys(r).reduce((n,a)=>s_(s_({},n),{},{[a]:t(a,r[a])}),{});function a_(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function no(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?a_(Object(n),!0).forEach(function(a){Nne(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a_(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Nne(t,r,n){return(r=Cne(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Cne(t){var r=Sne(t,"string");return typeof r=="symbol"?r:r+""}function Sne(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Lb=(t,r,n)=>t+(r-t)*n,dS=t=>{var{from:r,to:n}=t;return r!==n},TU=(t,r,n)=>{var a=Cy((i,o)=>{if(dS(o)){var[l,c]=t(o.from,o.to,o.velocity);return no(no({},o),{},{from:l,velocity:c})}return o},r);return n<1?Cy((i,o)=>dS(o)?no(no({},o),{},{velocity:Lb(o.velocity,a[i].velocity,n),from:Lb(o.from,a[i].from,n)}):o,r):TU(t,a,n-1)};function Bne(t,r,n,a,i,o){var l,c=a.reduce((p,g)=>no(no({},p),{},{[g]:{from:t[g],velocity:0,to:r[g]}}),{}),u=()=>Cy((p,g)=>g.from,c),f=()=>!Object.values(c).filter(dS).length,A=null,m=p=>{l||(l=p);var g=p-l,b=g/n.dt;c=TU(n,c,b),i(no(no(no({},t),r),u())),l=p,f()||(A=o.setTimeout(m))};return()=>(A=o.setTimeout(m),()=>{A()})}function Ene(t,r,n,a,i,o,l){var c=null,u=i.reduce((m,p)=>no(no({},m),{},{[p]:[t[p],r[p]]}),{}),f,A=m=>{f||(f=m);var p=(m-f)/a,g=Cy((v,y)=>Lb(...y,n(p)),u);if(o(no(no(no({},t),r),g)),p<1)c=l.setTimeout(A);else{var b=Cy((v,y)=>Lb(...y,n(1)),u);o(no(no(no({},t),r),b))}};return()=>(c=l.setTimeout(A),()=>{c()})}const Tne=(t,r,n,a,i,o)=>{var l=jne(t,r);return n.isStepper===!0?Bne(t,r,n,l,i,o):Ene(t,r,n,a,l,i,o)};class Fne{setTimeout(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),i=null,o=l=>{l-a>=n?r(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}var Ine=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function AS(){return AS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},AS.apply(null,arguments)}function _ne(t,r){if(t==null)return{};var n,a,i=kne(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kne(t,r){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;n[a]=t[a]}return n}function i_(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function wh(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?i_(Object(n),!0).forEach(function(a){Jm(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i_(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Jm(t,r,n){return(r=Pne(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Pne(t){var r=Dne(t,"string");return typeof r=="symbol"?r:r+""}function Dne(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function One(){return hne(new Fne)}class l3 extends w.PureComponent{constructor(r,n){super(r,n),Jm(this,"mounted",!1),Jm(this,"manager",null),Jm(this,"stopJSAnimation",null),Jm(this,"unSubscribe",null);var{isActive:a,attributeName:i,from:o,to:l,children:c,duration:u,animationManager:f}=this.props;if(this.manager=f,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!a||u<=0){this.state={style:{}},typeof c=="function"&&(this.state={style:l});return}if(o){if(typeof c=="function"){this.state={style:o};return}this.state={style:i?{[i]:o}:o}}else this.state={style:{}}}componentDidMount(){var{isActive:r,canBegin:n}=this.props;this.mounted=!0,!(!r||!n)&&this.runAnimation(this.props)}componentDidUpdate(r){var{isActive:n,canBegin:a,attributeName:i,shouldReAnimate:o,to:l,from:c}=this.props,{style:u}=this.state;if(a){if(!n){var f={style:i?{[i]:l}:l};this.state&&u&&(i&&u[i]!==l||!i&&u!==l)&&this.setState(f);return}if(!(fne(r.to,l)&&r.canBegin&&r.isActive)){var A=!r.canBegin||!r.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=A||o?c:r.to;if(this.state&&u){var p={style:i?{[i]:m}:m};(i&&u[i]!==m||!i&&u!==m)&&this.setState(p)}this.runAnimation(wh(wh({},this.props),{},{from:m,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:r}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),r&&r()}handleStyleChange(r){this.changeStyle(r)}changeStyle(r){this.mounted&&this.setState({style:r})}runJSAnimation(r){var{from:n,to:a,duration:i,easing:o,begin:l,onAnimationEnd:c,onAnimationStart:u}=r,f=Tne(n,a,gne(o),i,this.changeStyle,this.manager.getTimeoutController()),A=()=>{this.stopJSAnimation=f()};this.manager.start([u,l,A,i,c])}runAnimation(r){var{begin:n,duration:a,attributeName:i,to:o,easing:l,onAnimationStart:c,onAnimationEnd:u,children:f}=r;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof l=="function"||typeof f=="function"||l==="spring"){this.runJSAnimation(r);return}var A=i?{[i]:o}:o,m=wne(Object.keys(A),a,l);this.manager.start([c,n,wh(wh({},A),{},{transition:m}),a,u])}render(){var r=this.props,{children:n,begin:a,duration:i,attributeName:o,easing:l,isActive:c,from:u,to:f,canBegin:A,onAnimationEnd:m,shouldReAnimate:p,onAnimationReStart:g,animationManager:b}=r,v=_ne(r,Ine),y=w.Children.count(n),j=this.state.style;if(typeof n=="function")return n(j);if(!c||y===0||i<=0)return n;var C=S=>{var{style:E={},className:D}=S.props,k=w.cloneElement(S,wh(wh({},v),{},{style:wh(wh({},E),j),className:D}));return k};return y===1?C(w.Children.only(n)):w.createElement("div",null,w.Children.map(n,S=>C(S)))}}Jm(l3,"displayName","Animate");Jm(l3,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var Lne=w.createContext(null);function Gh(t){var r,n,a=w.useContext(Lne);return w.createElement(l3,AS({},t,{animationManager:(r=(n=t.animationManager)!==null&&n!==void 0?n:a)!==null&&r!==void 0?r:One()}))}function Ub(){return Ub=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ub.apply(null,arguments)}var o_=(t,r,n,a,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,f;if(o>0&&i instanceof Array){for(var A=[0,0,0,0],m=0,p=4;m<p;m++)A[m]=i[m]>o?o:i[m];f="M".concat(t,",").concat(r+l*A[0]),A[0]>0&&(f+="A ".concat(A[0],",").concat(A[0],",0,0,").concat(u,",").concat(t+c*A[0],",").concat(r)),f+="L ".concat(t+n-c*A[1],",").concat(r),A[1]>0&&(f+="A ".concat(A[1],",").concat(A[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*A[1])),f+="L ".concat(t+n,",").concat(r+a-l*A[2]),A[2]>0&&(f+="A ".concat(A[2],",").concat(A[2],",0,0,").concat(u,`,
        `).concat(t+n-c*A[2],",").concat(r+a)),f+="L ".concat(t+c*A[3],",").concat(r+a),A[3]>0&&(f+="A ".concat(A[3],",").concat(A[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*A[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);f="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*g," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},Une={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FU=t=>{var r=iu(t,Une),n=w.useRef(null),[a,i]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&i(j)}catch{}},[]);var{x:o,y:l,width:c,height:u,radius:f,className:A}=r,{animationEasing:m,animationDuration:p,animationBegin:g,isAnimationActive:b,isUpdateAnimationActive:v}=r;if(o!==+o||l!==+l||c!==+c||u!==+u||c===0||u===0)return null;var y=Ot("recharts-rectangle",A);return v?w.createElement(Gh,{canBegin:a>0,from:{width:c,height:u,x:o,y:l},to:{width:c,height:u,x:o,y:l},duration:p,animationEasing:m,isActive:v},j=>{var{width:C,height:S,x:E,y:D}=j;return w.createElement(Gh,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,isActive:b,easing:m},w.createElement("path",Ub({},Nn(r,!0),{className:y,d:o_(E,D,C,S,f),ref:n})))}):w.createElement("path",Ub({},Nn(r,!0),{className:y,d:o_(o,l,c,u,f)}))};function IU(t){var{cx:r,cy:n,radius:a,startAngle:i,endAngle:o}=t,l=Za(r,n,a,i),c=Za(r,n,a,o);return{points:[l,c],cx:r,cy:n,radius:a,startAngle:i,endAngle:o}}function fS(){return fS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},fS.apply(null,arguments)}var Mne=(t,r)=>{var n=Ri(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},T1=t=>{var{cx:r,cy:n,radius:a,angle:i,sign:o,isExternal:l,cornerRadius:c,cornerIsExternal:u}=t,f=c*(l?1:-1)+a,A=Math.asin(c/f)/Db,m=u?i:i+o*A,p=Za(r,n,f,m),g=Za(r,n,a,m),b=u?i-o*A:i,v=Za(r,n,f*Math.cos(A*Db),b);return{center:p,circleTangency:g,lineTangency:v,theta:A}},_U=t=>{var{cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:o,endAngle:l}=t,c=Mne(o,l),u=o+c,f=Za(r,n,i,o),A=Za(r,n,i,u),m="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(A.x,",").concat(A.y,`
  `);if(a>0){var p=Za(r,n,a,o),g=Za(r,n,a,u);m+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},Rne=t=>{var{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}=t,A=Ri(f-u),{circleTangency:m,lineTangency:p,theta:g}=T1({cx:r,cy:n,radius:i,angle:u,sign:A,cornerRadius:o,cornerIsExternal:c}),{circleTangency:b,lineTangency:v,theta:y}=T1({cx:r,cy:n,radius:i,angle:f,sign:-A,cornerRadius:o,cornerIsExternal:c}),j=c?Math.abs(u-f):Math.abs(u-f)-g-y;if(j<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):_U({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:f});var C="M ".concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(A<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(v.x,",").concat(v.y,`
  `);if(a>0){var{circleTangency:S,lineTangency:E,theta:D}=T1({cx:r,cy:n,radius:a,angle:u,sign:A,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),{circleTangency:k,lineTangency:L,theta:I}=T1({cx:r,cy:n,radius:a,angle:f,sign:-A,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),Y=c?Math.abs(u-f):Math.abs(u-f)-D-I;if(Y<0&&o===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(L.x,",").concat(L.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(Y>180),",").concat(+(A>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(E.x,",").concat(E.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},Qne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kU=t=>{var r=iu(t,Qne),{cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:A,className:m}=r;if(o<i||f===A)return null;var p=Ot("recharts-sector",m),g=o-i,b=ll(l,g,0,!0),v;return b>0&&Math.abs(f-A)<360?v=Rne({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(b,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:A}):v=_U({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:f,endAngle:A}),w.createElement("path",fS({},Nn(r,!0),{className:p,d:v}))};function Hne(t,r,n){var a,i,o,l;if(t==="horizontal")a=r.x,o=a,i=n.top,l=n.top+n.height;else if(t==="vertical")i=r.y,l=i,a=n.left,o=n.left+n.width;else if(r.cx!=null&&r.cy!=null)if(t==="centric"){var{cx:c,cy:u,innerRadius:f,outerRadius:A,angle:m}=r,p=Za(c,u,f,m),g=Za(c,u,A,m);a=p.x,i=p.y,o=g.x,l=g.y}else return IU(r);return[{x:a,y:i},{x:o,y:l}]}var mN={},pN={},gN={},l_;function $ne(){return l_||(l_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=uU();function n(a){return r.isSymbol(a)?NaN:Number(a)}t.toNumber=n}(gN)),gN}var c_;function Kne(){return c_||(c_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=$ne();function n(a){return a?(a=r.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}t.toFinite=n}(pN)),pN}var u_;function Vne(){return u_||(u_=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=dU(),n=Kne();function a(i,o,l){l&&typeof l!="number"&&r.isIterateeCall(i,o,l)&&(o=l=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),l=l===void 0?i<o?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((o-i)/(l||1)),0),u=new Array(c);for(let f=0;f<c;f++)u[f]=i,i+=l;return u}t.range=a}(mN)),mN}var xN,d_;function zne(){return d_||(d_=1,xN=Vne().range),xN}var Gne=zne();const PU=vc(Gne);function Uh(t,r){return t==null||r==null?NaN:t<r?-1:t>r?1:t>=r?0:NaN}function Wne(t,r){return t==null||r==null?NaN:r<t?-1:r>t?1:r>=t?0:NaN}function c3(t){let r,n,a;t.length!==2?(r=Uh,n=(c,u)=>Uh(t(c),u),a=(c,u)=>t(c)-u):(r=t===Uh||t===Wne?t:qne,n=t,a=t);function i(c,u,f=0,A=c.length){if(f<A){if(r(u,u)!==0)return A;do{const m=f+A>>>1;n(c[m],u)<0?f=m+1:A=m}while(f<A)}return f}function o(c,u,f=0,A=c.length){if(f<A){if(r(u,u)!==0)return A;do{const m=f+A>>>1;n(c[m],u)<=0?f=m+1:A=m}while(f<A)}return f}function l(c,u,f=0,A=c.length){const m=i(c,u,f,A-1);return m>f&&a(c[m-1],u)>-a(c[m],u)?m-1:m}return{left:i,center:l,right:o}}function qne(){return 0}function DU(t){return t===null?NaN:+t}function*Yne(t,r){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Xne=c3(Uh),cv=Xne.right;c3(DU).center;class A_ extends Map{constructor(r,n=ese){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),r!=null)for(const[a,i]of r)this.set(a,i)}get(r){return super.get(f_(this,r))}has(r){return super.has(f_(this,r))}set(r,n){return super.set(Jne(this,r),n)}delete(r){return super.delete(Zne(this,r))}}function f_({_intern:t,_key:r},n){const a=r(n);return t.has(a)?t.get(a):n}function Jne({_intern:t,_key:r},n){const a=r(n);return t.has(a)?t.get(a):(t.set(a,n),n)}function Zne({_intern:t,_key:r},n){const a=r(n);return t.has(a)&&(n=t.get(a),t.delete(a)),n}function ese(t){return t!==null&&typeof t=="object"?t.valueOf():t}function tse(t=Uh){if(t===Uh)return OU;if(typeof t!="function")throw new TypeError("compare is not a function");return(r,n)=>{const a=t(r,n);return a||a===0?a:(t(n,n)===0)-(t(r,r)===0)}}function OU(t,r){return(t==null||!(t>=t))-(r==null||!(r>=r))||(t<r?-1:t>r?1:0)}const rse=Math.sqrt(50),nse=Math.sqrt(10),sse=Math.sqrt(2);function Mb(t,r,n){const a=(r-t)/Math.max(0,n),i=Math.floor(Math.log10(a)),o=a/Math.pow(10,i),l=o>=rse?10:o>=nse?5:o>=sse?2:1;let c,u,f;return i<0?(f=Math.pow(10,-i)/l,c=Math.round(t*f),u=Math.round(r*f),c/f<t&&++c,u/f>r&&--u,f=-f):(f=Math.pow(10,i)*l,c=Math.round(t/f),u=Math.round(r/f),c*f<t&&++c,u*f>r&&--u),u<c&&.5<=n&&n<2?Mb(t,r,n*2):[c,u,f]}function hS(t,r,n){if(r=+r,t=+t,n=+n,!(n>0))return[];if(t===r)return[t];const a=r<t,[i,o,l]=a?Mb(r,t,n):Mb(t,r,n);if(!(o>=i))return[];const c=o-i+1,u=new Array(c);if(a)if(l<0)for(let f=0;f<c;++f)u[f]=(o-f)/-l;else for(let f=0;f<c;++f)u[f]=(o-f)*l;else if(l<0)for(let f=0;f<c;++f)u[f]=(i+f)/-l;else for(let f=0;f<c;++f)u[f]=(i+f)*l;return u}function mS(t,r,n){return r=+r,t=+t,n=+n,Mb(t,r,n)[2]}function pS(t,r,n){r=+r,t=+t,n=+n;const a=r<t,i=a?mS(r,t,n):mS(t,r,n);return(a?-1:1)*(i<0?1/-i:i)}function h_(t,r){let n;for(const a of t)a!=null&&(n<a||n===void 0&&a>=a)&&(n=a);return n}function m_(t,r){let n;for(const a of t)a!=null&&(n>a||n===void 0&&a>=a)&&(n=a);return n}function LU(t,r,n=0,a=1/0,i){if(r=Math.floor(r),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(t.length-1,a)),!(n<=r&&r<=a))return t;for(i=i===void 0?OU:tse(i);a>n;){if(a-n>600){const u=a-n+1,f=r-n+1,A=Math.log(u),m=.5*Math.exp(2*A/3),p=.5*Math.sqrt(A*m*(u-m)/u)*(f-u/2<0?-1:1),g=Math.max(n,Math.floor(r-f*m/u+p)),b=Math.min(a,Math.floor(r+(u-f)*m/u+p));LU(t,r,g,b,i)}const o=t[r];let l=n,c=a;for(Tx(t,n,r),i(t[a],o)>0&&Tx(t,n,a);l<c;){for(Tx(t,l,c),++l,--c;i(t[l],o)<0;)++l;for(;i(t[c],o)>0;)--c}i(t[n],o)===0?Tx(t,n,c):(++c,Tx(t,c,a)),c<=r&&(n=c+1),r<=c&&(a=c-1)}return t}function Tx(t,r,n){const a=t[r];t[r]=t[n],t[n]=a}function ase(t,r,n){if(t=Float64Array.from(Yne(t)),!(!(a=t.length)||isNaN(r=+r))){if(r<=0||a<2)return m_(t);if(r>=1)return h_(t);var a,i=(a-1)*r,o=Math.floor(i),l=h_(LU(t,o).subarray(0,o+1)),c=m_(t.subarray(o+1));return l+(c-l)*(i-o)}}function ise(t,r,n=DU){if(!(!(a=t.length)||isNaN(r=+r))){if(r<=0||a<2)return+n(t[0],0,t);if(r>=1)return+n(t[a-1],a-1,t);var a,i=(a-1)*r,o=Math.floor(i),l=+n(t[o],o,t),c=+n(t[o+1],o+1,t);return l+(c-l)*(i-o)}}function ose(t,r,n){t=+t,r=+r,n=(i=arguments.length)<2?(r=t,t=0,1):i<3?1:+n;for(var a=-1,i=Math.max(0,Math.ceil((r-t)/n))|0,o=new Array(i);++a<i;)o[a]=t+a*n;return o}function ou(t,r){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(r).domain(t);break}return this}function _f(t,r){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const gS=Symbol("implicit");function u3(){var t=new A_,r=[],n=[],a=gS;function i(o){let l=t.get(o);if(l===void 0){if(a!==gS)return a;t.set(o,l=r.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return r.slice();r=[],t=new A_;for(const l of o)t.has(l)||t.set(l,r.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.copy=function(){return u3(r,n).unknown(a)},ou.apply(i,arguments),i}function d3(){var t=u3().unknown(void 0),r=t.domain,n=t.range,a=0,i=1,o,l,c=!1,u=0,f=0,A=.5;delete t.unknown;function m(){var p=r().length,g=i<a,b=g?i:a,v=g?a:i;o=(v-b)/Math.max(1,p-u+f*2),c&&(o=Math.floor(o)),b+=(v-b-o*(p-u))*A,l=o*(1-u),c&&(b=Math.round(b),l=Math.round(l));var y=ose(p).map(function(j){return b+o*j});return n(g?y.reverse():y)}return t.domain=function(p){return arguments.length?(r(p),m()):r()},t.range=function(p){return arguments.length?([a,i]=p,a=+a,i=+i,m()):[a,i]},t.rangeRound=function(p){return[a,i]=p,a=+a,i=+i,c=!0,m()},t.bandwidth=function(){return l},t.step=function(){return o},t.round=function(p){return arguments.length?(c=!!p,m()):c},t.padding=function(p){return arguments.length?(u=Math.min(1,f=+p),m()):u},t.paddingInner=function(p){return arguments.length?(u=Math.min(1,p),m()):u},t.paddingOuter=function(p){return arguments.length?(f=+p,m()):f},t.align=function(p){return arguments.length?(A=Math.max(0,Math.min(1,p)),m()):A},t.copy=function(){return d3(r(),[a,i]).round(c).paddingInner(u).paddingOuter(f).align(A)},ou.apply(m(),arguments)}function UU(t){var r=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return UU(r())},t}function lse(){return UU(d3.apply(null,arguments).paddingInner(1))}function A3(t,r,n){t.prototype=r.prototype=n,n.constructor=t}function MU(t,r){var n=Object.create(t.prototype);for(var a in r)n[a]=r[a];return n}function uv(){}var Sy=.7,Rb=1/Sy,Kp="\\s*([+-]?\\d+)\\s*",By="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cse=/^#([0-9a-f]{3,8})$/,use=new RegExp(`^rgb\\(${Kp},${Kp},${Kp}\\)$`),dse=new RegExp(`^rgb\\(${nA},${nA},${nA}\\)$`),Ase=new RegExp(`^rgba\\(${Kp},${Kp},${Kp},${By}\\)$`),fse=new RegExp(`^rgba\\(${nA},${nA},${nA},${By}\\)$`),hse=new RegExp(`^hsl\\(${By},${nA},${nA}\\)$`),mse=new RegExp(`^hsla\\(${By},${nA},${nA},${By}\\)$`),p_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};A3(uv,Ey,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:g_,formatHex:g_,formatHex8:pse,formatHsl:gse,formatRgb:x_,toString:x_});function g_(){return this.rgb().formatHex()}function pse(){return this.rgb().formatHex8()}function gse(){return RU(this).formatHsl()}function x_(){return this.rgb().formatRgb()}function Ey(t){var r,n;return t=(t+"").trim().toLowerCase(),(r=cse.exec(t))?(n=r[1].length,r=parseInt(r[1],16),n===6?y_(r):n===3?new Tl(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):n===8?F1(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):n===4?F1(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=use.exec(t))?new Tl(r[1],r[2],r[3],1):(r=dse.exec(t))?new Tl(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=Ase.exec(t))?F1(r[1],r[2],r[3],r[4]):(r=fse.exec(t))?F1(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=hse.exec(t))?w_(r[1],r[2]/100,r[3]/100,1):(r=mse.exec(t))?w_(r[1],r[2]/100,r[3]/100,r[4]):p_.hasOwnProperty(t)?y_(p_[t]):t==="transparent"?new Tl(NaN,NaN,NaN,0):null}function y_(t){return new Tl(t>>16&255,t>>8&255,t&255,1)}function F1(t,r,n,a){return a<=0&&(t=r=n=NaN),new Tl(t,r,n,a)}function xse(t){return t instanceof uv||(t=Ey(t)),t?(t=t.rgb(),new Tl(t.r,t.g,t.b,t.opacity)):new Tl}function xS(t,r,n,a){return arguments.length===1?xse(t):new Tl(t,r,n,a??1)}function Tl(t,r,n,a){this.r=+t,this.g=+r,this.b=+n,this.opacity=+a}A3(Tl,xS,MU(uv,{brighter(t){return t=t==null?Rb:Math.pow(Rb,t),new Tl(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Sy:Math.pow(Sy,t),new Tl(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Tl(f0(this.r),f0(this.g),f0(this.b),Qb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:v_,formatHex:v_,formatHex8:yse,formatRgb:b_,toString:b_}));function v_(){return`#${Zm(this.r)}${Zm(this.g)}${Zm(this.b)}`}function yse(){return`#${Zm(this.r)}${Zm(this.g)}${Zm(this.b)}${Zm((isNaN(this.opacity)?1:this.opacity)*255)}`}function b_(){const t=Qb(this.opacity);return`${t===1?"rgb(":"rgba("}${f0(this.r)}, ${f0(this.g)}, ${f0(this.b)}${t===1?")":`, ${t})`}`}function Qb(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function f0(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Zm(t){return t=f0(t),(t<16?"0":"")+t.toString(16)}function w_(t,r,n,a){return a<=0?t=r=n=NaN:n<=0||n>=1?t=r=NaN:r<=0&&(t=NaN),new sd(t,r,n,a)}function RU(t){if(t instanceof sd)return new sd(t.h,t.s,t.l,t.opacity);if(t instanceof uv||(t=Ey(t)),!t)return new sd;if(t instanceof sd)return t;t=t.rgb();var r=t.r/255,n=t.g/255,a=t.b/255,i=Math.min(r,n,a),o=Math.max(r,n,a),l=NaN,c=o-i,u=(o+i)/2;return c?(r===o?l=(n-a)/c+(n<a)*6:n===o?l=(a-r)/c+2:l=(r-n)/c+4,c/=u<.5?o+i:2-o-i,l*=60):c=u>0&&u<1?0:l,new sd(l,c,u,t.opacity)}function vse(t,r,n,a){return arguments.length===1?RU(t):new sd(t,r,n,a??1)}function sd(t,r,n,a){this.h=+t,this.s=+r,this.l=+n,this.opacity=+a}A3(sd,vse,MU(uv,{brighter(t){return t=t==null?Rb:Math.pow(Rb,t),new sd(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Sy:Math.pow(Sy,t),new sd(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,r=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*r,i=2*n-a;return new Tl(yN(t>=240?t-240:t+120,i,a),yN(t,i,a),yN(t<120?t+240:t-120,i,a),this.opacity)},clamp(){return new sd(j_(this.h),I1(this.s),I1(this.l),Qb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Qb(this.opacity);return`${t===1?"hsl(":"hsla("}${j_(this.h)}, ${I1(this.s)*100}%, ${I1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function j_(t){return t=(t||0)%360,t<0?t+360:t}function I1(t){return Math.max(0,Math.min(1,t||0))}function yN(t,r,n){return(t<60?r+(n-r)*t/60:t<180?n:t<240?r+(n-r)*(240-t)/60:r)*255}const f3=t=>()=>t;function bse(t,r){return function(n){return t+n*r}}function wse(t,r,n){return t=Math.pow(t,n),r=Math.pow(r,n)-t,n=1/n,function(a){return Math.pow(t+a*r,n)}}function jse(t){return(t=+t)==1?QU:function(r,n){return n-r?wse(r,n,t):f3(isNaN(r)?n:r)}}function QU(t,r){var n=r-t;return n?bse(t,n):f3(isNaN(t)?r:t)}const N_=function t(r){var n=jse(r);function a(i,o){var l=n((i=xS(i)).r,(o=xS(o)).r),c=n(i.g,o.g),u=n(i.b,o.b),f=QU(i.opacity,o.opacity);return function(A){return i.r=l(A),i.g=c(A),i.b=u(A),i.opacity=f(A),i+""}}return a.gamma=t,a}(1);function Nse(t,r){r||(r=[]);var n=t?Math.min(r.length,t.length):0,a=r.slice(),i;return function(o){for(i=0;i<n;++i)a[i]=t[i]*(1-o)+r[i]*o;return a}}function Cse(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Sse(t,r){var n=r?r.length:0,a=t?Math.min(n,t.length):0,i=new Array(a),o=new Array(n),l;for(l=0;l<a;++l)i[l]=mg(t[l],r[l]);for(;l<n;++l)o[l]=r[l];return function(c){for(l=0;l<a;++l)o[l]=i[l](c);return o}}function Bse(t,r){var n=new Date;return t=+t,r=+r,function(a){return n.setTime(t*(1-a)+r*a),n}}function Hb(t,r){return t=+t,r=+r,function(n){return t*(1-n)+r*n}}function Ese(t,r){var n={},a={},i;(t===null||typeof t!="object")&&(t={}),(r===null||typeof r!="object")&&(r={});for(i in r)i in t?n[i]=mg(t[i],r[i]):a[i]=r[i];return function(o){for(i in n)a[i]=n[i](o);return a}}var yS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vN=new RegExp(yS.source,"g");function Tse(t){return function(){return t}}function Fse(t){return function(r){return t(r)+""}}function Ise(t,r){var n=yS.lastIndex=vN.lastIndex=0,a,i,o,l=-1,c=[],u=[];for(t=t+"",r=r+"";(a=yS.exec(t))&&(i=vN.exec(r));)(o=i.index)>n&&(o=r.slice(n,o),c[l]?c[l]+=o:c[++l]=o),(a=a[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,u.push({i:l,x:Hb(a,i)})),n=vN.lastIndex;return n<r.length&&(o=r.slice(n),c[l]?c[l]+=o:c[++l]=o),c.length<2?u[0]?Fse(u[0].x):Tse(r):(r=u.length,function(f){for(var A=0,m;A<r;++A)c[(m=u[A]).i]=m.x(f);return c.join("")})}function mg(t,r){var n=typeof r,a;return r==null||n==="boolean"?f3(r):(n==="number"?Hb:n==="string"?(a=Ey(r))?(r=a,N_):Ise:r instanceof Ey?N_:r instanceof Date?Bse:Cse(r)?Nse:Array.isArray(r)?Sse:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?Ese:Hb)(t,r)}function h3(t,r){return t=+t,r=+r,function(n){return Math.round(t*(1-n)+r*n)}}function _se(t,r){r===void 0&&(r=t,t=mg);for(var n=0,a=r.length-1,i=r[0],o=new Array(a<0?0:a);n<a;)o[n]=t(i,i=r[++n]);return function(l){var c=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return o[c](l-c)}}function kse(t){return function(){return t}}function $b(t){return+t}var C_=[0,1];function al(t){return t}function vS(t,r){return(r-=t=+t)?function(n){return(n-t)/r}:kse(isNaN(r)?NaN:.5)}function Pse(t,r){var n;return t>r&&(n=t,t=r,r=n),function(a){return Math.max(t,Math.min(r,a))}}function Dse(t,r,n){var a=t[0],i=t[1],o=r[0],l=r[1];return i<a?(a=vS(i,a),o=n(l,o)):(a=vS(a,i),o=n(o,l)),function(c){return o(a(c))}}function Ose(t,r,n){var a=Math.min(t.length,r.length)-1,i=new Array(a),o=new Array(a),l=-1;for(t[a]<t[0]&&(t=t.slice().reverse(),r=r.slice().reverse());++l<a;)i[l]=vS(t[l],t[l+1]),o[l]=n(r[l],r[l+1]);return function(c){var u=cv(t,c,1,a)-1;return o[u](i[u](c))}}function dv(t,r){return r.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function sw(){var t=C_,r=C_,n=mg,a,i,o,l=al,c,u,f;function A(){var p=Math.min(t.length,r.length);return l!==al&&(l=Pse(t[0],t[p-1])),c=p>2?Ose:Dse,u=f=null,m}function m(p){return p==null||isNaN(p=+p)?o:(u||(u=c(t.map(a),r,n)))(a(l(p)))}return m.invert=function(p){return l(i((f||(f=c(r,t.map(a),Hb)))(p)))},m.domain=function(p){return arguments.length?(t=Array.from(p,$b),A()):t.slice()},m.range=function(p){return arguments.length?(r=Array.from(p),A()):r.slice()},m.rangeRound=function(p){return r=Array.from(p),n=h3,A()},m.clamp=function(p){return arguments.length?(l=p?!0:al,A()):l!==al},m.interpolate=function(p){return arguments.length?(n=p,A()):n},m.unknown=function(p){return arguments.length?(o=p,m):o},function(p,g){return a=p,i=g,A()}}function m3(){return sw()(al,al)}function Lse(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Kb(t,r){if((n=(t=r?t.toExponential(r-1):t.toExponential()).indexOf("e"))<0)return null;var n,a=t.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+t.slice(n+1)]}function tg(t){return t=Kb(Math.abs(t)),t?t[1]:NaN}function Use(t,r){return function(n,a){for(var i=n.length,o=[],l=0,c=t[0],u=0;i>0&&c>0&&(u+c+1>a&&(c=Math.max(1,a-u)),o.push(n.substring(i-=c,i+c)),!((u+=c+1)>a));)c=t[l=(l+1)%t.length];return o.reverse().join(r)}}function Mse(t){return function(r){return r.replace(/[0-9]/g,function(n){return t[+n]})}}var Rse=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ty(t){if(!(r=Rse.exec(t)))throw new Error("invalid format: "+t);var r;return new p3({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}Ty.prototype=p3.prototype;function p3(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}p3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Qse(t){e:for(var r=t.length,n=1,a=-1,i;n<r;++n)switch(t[n]){case".":a=i=n;break;case"0":a===0&&(a=n),i=n;break;default:if(!+t[n])break e;a>0&&(a=0);break}return a>0?t.slice(0,a)+t.slice(i+1):t}var HU;function Hse(t,r){var n=Kb(t,r);if(!n)return t+"";var a=n[0],i=n[1],o=i-(HU=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=a.length;return o===l?a:o>l?a+new Array(o-l+1).join("0"):o>0?a.slice(0,o)+"."+a.slice(o):"0."+new Array(1-o).join("0")+Kb(t,Math.max(0,r+o-1))[0]}function S_(t,r){var n=Kb(t,r);if(!n)return t+"";var a=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+a:a.length>i+1?a.slice(0,i+1)+"."+a.slice(i+1):a+new Array(i-a.length+2).join("0")}const B_={"%":(t,r)=>(t*100).toFixed(r),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Lse,e:(t,r)=>t.toExponential(r),f:(t,r)=>t.toFixed(r),g:(t,r)=>t.toPrecision(r),o:t=>Math.round(t).toString(8),p:(t,r)=>S_(t*100,r),r:S_,s:Hse,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function E_(t){return t}var T_=Array.prototype.map,F_=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function $se(t){var r=t.grouping===void 0||t.thousands===void 0?E_:Use(T_.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",a=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?E_:Mse(T_.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function f(m){m=Ty(m);var p=m.fill,g=m.align,b=m.sign,v=m.symbol,y=m.zero,j=m.width,C=m.comma,S=m.precision,E=m.trim,D=m.type;D==="n"?(C=!0,D="g"):B_[D]||(S===void 0&&(S=12),E=!0,D="g"),(y||p==="0"&&g==="=")&&(y=!0,p="0",g="=");var k=v==="$"?n:v==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",L=v==="$"?a:/[%p]/.test(D)?l:"",I=B_[D],Y=/[defgprs%]/.test(D);S=S===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function Q(H){var U=k,K=L,X,Z,ee;if(D==="c")K=I(H)+K,H="";else{H=+H;var de=H<0||1/H<0;if(H=isNaN(H)?u:I(Math.abs(H),S),E&&(H=Qse(H)),de&&+H==0&&b!=="+"&&(de=!1),U=(de?b==="("?b:c:b==="-"||b==="("?"":b)+U,K=(D==="s"?F_[8+HU/3]:"")+K+(de&&b==="("?")":""),Y){for(X=-1,Z=H.length;++X<Z;)if(ee=H.charCodeAt(X),48>ee||ee>57){K=(ee===46?i+H.slice(X+1):H.slice(X))+K,H=H.slice(0,X);break}}}C&&!y&&(H=r(H,1/0));var Ne=U.length+H.length+K.length,Se=Ne<j?new Array(j-Ne+1).join(p):"";switch(C&&y&&(H=r(Se+H,Se.length?j-K.length:1/0),Se=""),g){case"<":H=U+H+K+Se;break;case"=":H=U+Se+H+K;break;case"^":H=Se.slice(0,Ne=Se.length>>1)+U+H+K+Se.slice(Ne);break;default:H=Se+U+H+K;break}return o(H)}return Q.toString=function(){return m+""},Q}function A(m,p){var g=f((m=Ty(m),m.type="f",m)),b=Math.max(-8,Math.min(8,Math.floor(tg(p)/3)))*3,v=Math.pow(10,-b),y=F_[8+b/3];return function(j){return g(v*j)+y}}return{format:f,formatPrefix:A}}var _1,g3,$U;Kse({thousands:",",grouping:[3],currency:["$",""]});function Kse(t){return _1=$se(t),g3=_1.format,$U=_1.formatPrefix,_1}function Vse(t){return Math.max(0,-tg(Math.abs(t)))}function zse(t,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(tg(r)/3)))*3-tg(Math.abs(t)))}function Gse(t,r){return t=Math.abs(t),r=Math.abs(r)-t,Math.max(0,tg(r)-tg(t))+1}function KU(t,r,n,a){var i=pS(t,r,n),o;switch(a=Ty(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(r));return a.precision==null&&!isNaN(o=zse(i,l))&&(a.precision=o),$U(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(o=Gse(i,Math.max(Math.abs(t),Math.abs(r))))&&(a.precision=o-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(o=Vse(i))&&(a.precision=o-(a.type==="%")*2);break}}return g3(a)}function tm(t){var r=t.domain;return t.ticks=function(n){var a=r();return hS(a[0],a[a.length-1],n??10)},t.tickFormat=function(n,a){var i=r();return KU(i[0],i[i.length-1],n??10,a)},t.nice=function(n){n==null&&(n=10);var a=r(),i=0,o=a.length-1,l=a[i],c=a[o],u,f,A=10;for(c<l&&(f=l,l=c,c=f,f=i,i=o,o=f);A-- >0;){if(f=mS(l,c,n),f===u)return a[i]=l,a[o]=c,r(a);if(f>0)l=Math.floor(l/f)*f,c=Math.ceil(c/f)*f;else if(f<0)l=Math.ceil(l*f)/f,c=Math.floor(c*f)/f;else break;u=f}return t},t}function VU(){var t=m3();return t.copy=function(){return dv(t,VU())},ou.apply(t,arguments),tm(t)}function zU(t){var r;function n(a){return a==null||isNaN(a=+a)?r:a}return n.invert=n,n.domain=n.range=function(a){return arguments.length?(t=Array.from(a,$b),n):t.slice()},n.unknown=function(a){return arguments.length?(r=a,n):r},n.copy=function(){return zU(t).unknown(r)},t=arguments.length?Array.from(t,$b):[0,1],tm(n)}function GU(t,r){t=t.slice();var n=0,a=t.length-1,i=t[n],o=t[a],l;return o<i&&(l=n,n=a,a=l,l=i,i=o,o=l),t[n]=r.floor(i),t[a]=r.ceil(o),t}function I_(t){return Math.log(t)}function __(t){return Math.exp(t)}function Wse(t){return-Math.log(-t)}function qse(t){return-Math.exp(-t)}function Yse(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Xse(t){return t===10?Yse:t===Math.E?Math.exp:r=>Math.pow(t,r)}function Jse(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),r=>Math.log(r)/t)}function k_(t){return(r,n)=>-t(-r,n)}function x3(t){const r=t(I_,__),n=r.domain;let a=10,i,o;function l(){return i=Jse(a),o=Xse(a),n()[0]<0?(i=k_(i),o=k_(o),t(Wse,qse)):t(I_,__),r}return r.base=function(c){return arguments.length?(a=+c,l()):a},r.domain=function(c){return arguments.length?(n(c),l()):n()},r.ticks=c=>{const u=n();let f=u[0],A=u[u.length-1];const m=A<f;m&&([f,A]=[A,f]);let p=i(f),g=i(A),b,v;const y=c==null?10:+c;let j=[];if(!(a%1)&&g-p<y){if(p=Math.floor(p),g=Math.ceil(g),f>0){for(;p<=g;++p)for(b=1;b<a;++b)if(v=p<0?b/o(-p):b*o(p),!(v<f)){if(v>A)break;j.push(v)}}else for(;p<=g;++p)for(b=a-1;b>=1;--b)if(v=p>0?b/o(-p):b*o(p),!(v<f)){if(v>A)break;j.push(v)}j.length*2<y&&(j=hS(f,A,y))}else j=hS(p,g,Math.min(g-p,y)).map(o);return m?j.reverse():j},r.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=a===10?"s":","),typeof u!="function"&&(!(a%1)&&(u=Ty(u)).precision==null&&(u.trim=!0),u=g3(u)),c===1/0)return u;const f=Math.max(1,a*c/r.ticks().length);return A=>{let m=A/o(Math.round(i(A)));return m*a<a-.5&&(m*=a),m<=f?u(A):""}},r.nice=()=>n(GU(n(),{floor:c=>o(Math.floor(i(c))),ceil:c=>o(Math.ceil(i(c)))})),r}function WU(){const t=x3(sw()).domain([1,10]);return t.copy=()=>dv(t,WU()).base(t.base()),ou.apply(t,arguments),t}function P_(t){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/t))}}function D_(t){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*t}}function y3(t){var r=1,n=t(P_(r),D_(r));return n.constant=function(a){return arguments.length?t(P_(r=+a),D_(r)):r},tm(n)}function qU(){var t=y3(sw());return t.copy=function(){return dv(t,qU()).constant(t.constant())},ou.apply(t,arguments)}function O_(t){return function(r){return r<0?-Math.pow(-r,t):Math.pow(r,t)}}function Zse(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function eae(t){return t<0?-t*t:t*t}function v3(t){var r=t(al,al),n=1;function a(){return n===1?t(al,al):n===.5?t(Zse,eae):t(O_(n),O_(1/n))}return r.exponent=function(i){return arguments.length?(n=+i,a()):n},tm(r)}function b3(){var t=v3(sw());return t.copy=function(){return dv(t,b3()).exponent(t.exponent())},ou.apply(t,arguments),t}function tae(){return b3.apply(null,arguments).exponent(.5)}function L_(t){return Math.sign(t)*t*t}function rae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function YU(){var t=m3(),r=[0,1],n=!1,a;function i(o){var l=rae(t(o));return isNaN(l)?a:n?Math.round(l):l}return i.invert=function(o){return t.invert(L_(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((r=Array.from(o,$b)).map(L_)),i):r.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.copy=function(){return YU(t.domain(),r).round(n).clamp(t.clamp()).unknown(a)},ou.apply(i,arguments),tm(i)}function XU(){var t=[],r=[],n=[],a;function i(){var l=0,c=Math.max(1,r.length);for(n=new Array(c-1);++l<c;)n[l-1]=ise(t,l/c);return o}function o(l){return l==null||isNaN(l=+l)?a:r[cv(n,l)]}return o.invertExtent=function(l){var c=r.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},o.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Uh),i()},o.range=function(l){return arguments.length?(r=Array.from(l),i()):r.slice()},o.unknown=function(l){return arguments.length?(a=l,o):a},o.quantiles=function(){return n.slice()},o.copy=function(){return XU().domain(t).range(r).unknown(a)},ou.apply(o,arguments)}function JU(){var t=0,r=1,n=1,a=[.5],i=[0,1],o;function l(u){return u!=null&&u<=u?i[cv(a,u,0,n)]:o}function c(){var u=-1;for(a=new Array(n);++u<n;)a[u]=((u+1)*r-(u-n)*t)/(n+1);return l}return l.domain=function(u){return arguments.length?([t,r]=u,t=+t,r=+r,c()):[t,r]},l.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,c()):i.slice()},l.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[t,a[0]]:f>=n?[a[n-1],r]:[a[f-1],a[f]]},l.unknown=function(u){return arguments.length&&(o=u),l},l.thresholds=function(){return a.slice()},l.copy=function(){return JU().domain([t,r]).range(i).unknown(o)},ou.apply(tm(l),arguments)}function ZU(){var t=[.5],r=[0,1],n,a=1;function i(o){return o!=null&&o<=o?r[cv(t,o,0,a)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),a=Math.min(t.length,r.length-1),i):t.slice()},i.range=function(o){return arguments.length?(r=Array.from(o),a=Math.min(t.length,r.length-1),i):r.slice()},i.invertExtent=function(o){var l=r.indexOf(o);return[t[l-1],t[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return ZU().domain(t).range(r).unknown(n)},ou.apply(i,arguments)}const bN=new Date,wN=new Date;function vi(t,r,n,a){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),r(o,1),t(o),o),i.round=o=>{const l=i(o),c=i.ceil(o);return o-l<c-o?l:c},i.offset=(o,l)=>(r(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,c)=>{const u=[];if(o=i.ceil(o),c=c==null?1:Math.floor(c),!(o<l)||!(c>0))return u;let f;do u.push(f=new Date(+o)),r(o,c),t(o);while(f<o&&o<l);return u},i.filter=o=>vi(l=>{if(l>=l)for(;t(l),!o(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;r(l,-1),!o(l););else for(;--c>=0;)for(;r(l,1),!o(l););}),n&&(i.count=(o,l)=>(bN.setTime(+o),wN.setTime(+l),t(bN),t(wN),Math.floor(n(bN,wN))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(a?l=>a(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const Vb=vi(()=>{},(t,r)=>{t.setTime(+t+r)},(t,r)=>r-t);Vb.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?vi(r=>{r.setTime(Math.floor(r/t)*t)},(r,n)=>{r.setTime(+r+n*t)},(r,n)=>(n-r)/t):Vb);Vb.range;const sf=1e3,nu=sf*60,af=nu*60,wf=af*24,w3=wf*7,U_=wf*30,jN=wf*365,e0=vi(t=>{t.setTime(t-t.getMilliseconds())},(t,r)=>{t.setTime(+t+r*sf)},(t,r)=>(r-t)/sf,t=>t.getUTCSeconds());e0.range;const j3=vi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sf)},(t,r)=>{t.setTime(+t+r*nu)},(t,r)=>(r-t)/nu,t=>t.getMinutes());j3.range;const N3=vi(t=>{t.setUTCSeconds(0,0)},(t,r)=>{t.setTime(+t+r*nu)},(t,r)=>(r-t)/nu,t=>t.getUTCMinutes());N3.range;const C3=vi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sf-t.getMinutes()*nu)},(t,r)=>{t.setTime(+t+r*af)},(t,r)=>(r-t)/af,t=>t.getHours());C3.range;const S3=vi(t=>{t.setUTCMinutes(0,0,0)},(t,r)=>{t.setTime(+t+r*af)},(t,r)=>(r-t)/af,t=>t.getUTCHours());S3.range;const Av=vi(t=>t.setHours(0,0,0,0),(t,r)=>t.setDate(t.getDate()+r),(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*nu)/wf,t=>t.getDate()-1);Av.range;const aw=vi(t=>{t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r)},(t,r)=>(r-t)/wf,t=>t.getUTCDate()-1);aw.range;const e7=vi(t=>{t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r)},(t,r)=>(r-t)/wf,t=>Math.floor(t/wf));e7.range;function _0(t){return vi(r=>{r.setDate(r.getDate()-(r.getDay()+7-t)%7),r.setHours(0,0,0,0)},(r,n)=>{r.setDate(r.getDate()+n*7)},(r,n)=>(n-r-(n.getTimezoneOffset()-r.getTimezoneOffset())*nu)/w3)}const iw=_0(0),zb=_0(1),nae=_0(2),sae=_0(3),rg=_0(4),aae=_0(5),iae=_0(6);iw.range;zb.range;nae.range;sae.range;rg.range;aae.range;iae.range;function k0(t){return vi(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-t)%7),r.setUTCHours(0,0,0,0)},(r,n)=>{r.setUTCDate(r.getUTCDate()+n*7)},(r,n)=>(n-r)/w3)}const ow=k0(0),Gb=k0(1),oae=k0(2),lae=k0(3),ng=k0(4),cae=k0(5),uae=k0(6);ow.range;Gb.range;oae.range;lae.range;ng.range;cae.range;uae.range;const B3=vi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,r)=>{t.setMonth(t.getMonth()+r)},(t,r)=>r.getMonth()-t.getMonth()+(r.getFullYear()-t.getFullYear())*12,t=>t.getMonth());B3.range;const E3=vi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCMonth(t.getUTCMonth()+r)},(t,r)=>r.getUTCMonth()-t.getUTCMonth()+(r.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());E3.range;const jf=vi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r)},(t,r)=>r.getFullYear()-t.getFullYear(),t=>t.getFullYear());jf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vi(r=>{r.setFullYear(Math.floor(r.getFullYear()/t)*t),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,n)=>{r.setFullYear(r.getFullYear()+n*t)});jf.range;const Nf=vi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r)},(t,r)=>r.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Nf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vi(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/t)*t),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,n)=>{r.setUTCFullYear(r.getUTCFullYear()+n*t)});Nf.range;function t7(t,r,n,a,i,o){const l=[[e0,1,sf],[e0,5,5*sf],[e0,15,15*sf],[e0,30,30*sf],[o,1,nu],[o,5,5*nu],[o,15,15*nu],[o,30,30*nu],[i,1,af],[i,3,3*af],[i,6,6*af],[i,12,12*af],[a,1,wf],[a,2,2*wf],[n,1,w3],[r,1,U_],[r,3,3*U_],[t,1,jN]];function c(f,A,m){const p=A<f;p&&([f,A]=[A,f]);const g=m&&typeof m.range=="function"?m:u(f,A,m),b=g?g.range(f,+A+1):[];return p?b.reverse():b}function u(f,A,m){const p=Math.abs(A-f)/m,g=c3(([,,y])=>y).right(l,p);if(g===l.length)return t.every(pS(f/jN,A/jN,m));if(g===0)return Vb.every(Math.max(pS(f,A,m),1));const[b,v]=l[p/l[g-1][2]<l[g][2]/p?g-1:g];return b.every(v)}return[c,u]}const[dae,Aae]=t7(Nf,E3,ow,e7,S3,N3),[fae,hae]=t7(jf,B3,iw,Av,C3,j3);function NN(t){if(0<=t.y&&t.y<100){var r=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return r.setFullYear(t.y),r}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function CN(t){if(0<=t.y&&t.y<100){var r=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return r.setUTCFullYear(t.y),r}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Fx(t,r,n){return{y:t,m:r,d:n,H:0,M:0,S:0,L:0}}function mae(t){var r=t.dateTime,n=t.date,a=t.time,i=t.periods,o=t.days,l=t.shortDays,c=t.months,u=t.shortMonths,f=Ix(i),A=_x(i),m=Ix(o),p=_x(o),g=Ix(l),b=_x(l),v=Ix(c),y=_x(c),j=Ix(u),C=_x(u),S={a:de,A:Ne,b:Se,B:ue,c:null,d:K_,e:K_,f:Uae,g:Wae,G:Yae,H:Dae,I:Oae,j:Lae,L:r7,m:Mae,M:Rae,p:xe,q:R,Q:G_,s:W_,S:Qae,u:Hae,U:$ae,V:Kae,w:Vae,W:zae,x:null,X:null,y:Gae,Y:qae,Z:Xae,"%":z_},E={a:G,A:ne,b:ae,B:oe,c:null,d:V_,e:V_,f:tie,g:die,G:fie,H:Jae,I:Zae,j:eie,L:s7,m:rie,M:nie,p:he,q:me,Q:G_,s:W_,S:sie,u:aie,U:iie,V:oie,w:lie,W:cie,x:null,X:null,y:uie,Y:Aie,Z:hie,"%":z_},D={a:Q,A:H,b:U,B:K,c:X,d:H_,e:H_,f:Iae,g:Q_,G:R_,H:$_,I:$_,j:Bae,L:Fae,m:Sae,M:Eae,p:Y,q:Cae,Q:kae,s:Pae,S:Tae,u:vae,U:bae,V:wae,w:yae,W:jae,x:Z,X:ee,y:Q_,Y:R_,Z:Nae,"%":_ae};S.x=k(n,S),S.X=k(a,S),S.c=k(r,S),E.x=k(n,E),E.X=k(a,E),E.c=k(r,E);function k(te,Ae){return function(V){var ie=[],pe=-1,ye=0,ge=te.length,le,Qe,ce;for(V instanceof Date||(V=new Date(+V));++pe<ge;)te.charCodeAt(pe)===37&&(ie.push(te.slice(ye,pe)),(Qe=M_[le=te.charAt(++pe)])!=null?le=te.charAt(++pe):Qe=le==="e"?" ":"0",(ce=Ae[le])&&(le=ce(V,Qe)),ie.push(le),ye=pe+1);return ie.push(te.slice(ye,pe)),ie.join("")}}function L(te,Ae){return function(V){var ie=Fx(1900,void 0,1),pe=I(ie,te,V+="",0),ye,ge;if(pe!=V.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(Ae&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(ye=CN(Fx(ie.y,0,1)),ge=ye.getUTCDay(),ye=ge>4||ge===0?Gb.ceil(ye):Gb(ye),ye=aw.offset(ye,(ie.V-1)*7),ie.y=ye.getUTCFullYear(),ie.m=ye.getUTCMonth(),ie.d=ye.getUTCDate()+(ie.w+6)%7):(ye=NN(Fx(ie.y,0,1)),ge=ye.getDay(),ye=ge>4||ge===0?zb.ceil(ye):zb(ye),ye=Av.offset(ye,(ie.V-1)*7),ie.y=ye.getFullYear(),ie.m=ye.getMonth(),ie.d=ye.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),ge="Z"in ie?CN(Fx(ie.y,0,1)).getUTCDay():NN(Fx(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(ge+5)%7:ie.w+ie.U*7-(ge+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,CN(ie)):NN(ie)}}function I(te,Ae,V,ie){for(var pe=0,ye=Ae.length,ge=V.length,le,Qe;pe<ye;){if(ie>=ge)return-1;if(le=Ae.charCodeAt(pe++),le===37){if(le=Ae.charAt(pe++),Qe=D[le in M_?Ae.charAt(pe++):le],!Qe||(ie=Qe(te,V,ie))<0)return-1}else if(le!=V.charCodeAt(ie++))return-1}return ie}function Y(te,Ae,V){var ie=f.exec(Ae.slice(V));return ie?(te.p=A.get(ie[0].toLowerCase()),V+ie[0].length):-1}function Q(te,Ae,V){var ie=g.exec(Ae.slice(V));return ie?(te.w=b.get(ie[0].toLowerCase()),V+ie[0].length):-1}function H(te,Ae,V){var ie=m.exec(Ae.slice(V));return ie?(te.w=p.get(ie[0].toLowerCase()),V+ie[0].length):-1}function U(te,Ae,V){var ie=j.exec(Ae.slice(V));return ie?(te.m=C.get(ie[0].toLowerCase()),V+ie[0].length):-1}function K(te,Ae,V){var ie=v.exec(Ae.slice(V));return ie?(te.m=y.get(ie[0].toLowerCase()),V+ie[0].length):-1}function X(te,Ae,V){return I(te,r,Ae,V)}function Z(te,Ae,V){return I(te,n,Ae,V)}function ee(te,Ae,V){return I(te,a,Ae,V)}function de(te){return l[te.getDay()]}function Ne(te){return o[te.getDay()]}function Se(te){return u[te.getMonth()]}function ue(te){return c[te.getMonth()]}function xe(te){return i[+(te.getHours()>=12)]}function R(te){return 1+~~(te.getMonth()/3)}function G(te){return l[te.getUTCDay()]}function ne(te){return o[te.getUTCDay()]}function ae(te){return u[te.getUTCMonth()]}function oe(te){return c[te.getUTCMonth()]}function he(te){return i[+(te.getUTCHours()>=12)]}function me(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var Ae=k(te+="",S);return Ae.toString=function(){return te},Ae},parse:function(te){var Ae=L(te+="",!1);return Ae.toString=function(){return te},Ae},utcFormat:function(te){var Ae=k(te+="",E);return Ae.toString=function(){return te},Ae},utcParse:function(te){var Ae=L(te+="",!0);return Ae.toString=function(){return te},Ae}}}var M_={"-":"",_:" ",0:"0"},$i=/^\s*\d+/,pae=/^%/,gae=/[\\^$*+?|[\]().{}]/g;function qn(t,r,n){var a=t<0?"-":"",i=(a?-t:t)+"",o=i.length;return a+(o<n?new Array(n-o+1).join(r)+i:i)}function xae(t){return t.replace(gae,"\\$&")}function Ix(t){return new RegExp("^(?:"+t.map(xae).join("|")+")","i")}function _x(t){return new Map(t.map((r,n)=>[r.toLowerCase(),n]))}function yae(t,r,n){var a=$i.exec(r.slice(n,n+1));return a?(t.w=+a[0],n+a[0].length):-1}function vae(t,r,n){var a=$i.exec(r.slice(n,n+1));return a?(t.u=+a[0],n+a[0].length):-1}function bae(t,r,n){var a=$i.exec(r.slice(n,n+2));return a?(t.U=+a[0],n+a[0].length):-1}function wae(t,r,n){var a=$i.exec(r.slice(n,n+2));return a?(t.V=+a[0],n+a[0].length):-1}function jae(t,r,n){var a=$i.exec(r.slice(n,n+2));return a?(t.W=+a[0],n+a[0].length):-1}function R_(t,r,n){var a=$i.exec(r.slice(n,n+4));return a?(t.y=+a[0],n+a[0].length):-1}function Q_(t,r,n){var a=$i.exec(r.slice(n,n+2));return a?(t.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function Nae(t,r,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(n,n+6));return a?(t.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function Cae(t,r,n){var a=$i.exec(r.slice(n,n+1));return a?(t.q=a[0]*3-3,n+a[0].length):-1}function Sae(t,r,n){var a=$i.exec(r.slice(n,n+2));return a?(t.m=a[0]-1,n+a[0].length):-1}function H_(t,r,n){var a=$i.exec(r.slice(n,n+2));return a?(t.d=+a[0],n+a[0].length):-1}function Bae(t,r,n){var a=$i.exec(r.slice(n,n+3));return a?(t.m=0,t.d=+a[0],n+a[0].length):-1}function $_(t,r,n){var a=$i.exec(r.slice(n,n+2));return a?(t.H=+a[0],n+a[0].length):-1}function Eae(t,r,n){var a=$i.exec(r.slice(n,n+2));return a?(t.M=+a[0],n+a[0].length):-1}function Tae(t,r,n){var a=$i.exec(r.slice(n,n+2));return a?(t.S=+a[0],n+a[0].length):-1}function Fae(t,r,n){var a=$i.exec(r.slice(n,n+3));return a?(t.L=+a[0],n+a[0].length):-1}function Iae(t,r,n){var a=$i.exec(r.slice(n,n+6));return a?(t.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function _ae(t,r,n){var a=pae.exec(r.slice(n,n+1));return a?n+a[0].length:-1}function kae(t,r,n){var a=$i.exec(r.slice(n));return a?(t.Q=+a[0],n+a[0].length):-1}function Pae(t,r,n){var a=$i.exec(r.slice(n));return a?(t.s=+a[0],n+a[0].length):-1}function K_(t,r){return qn(t.getDate(),r,2)}function Dae(t,r){return qn(t.getHours(),r,2)}function Oae(t,r){return qn(t.getHours()%12||12,r,2)}function Lae(t,r){return qn(1+Av.count(jf(t),t),r,3)}function r7(t,r){return qn(t.getMilliseconds(),r,3)}function Uae(t,r){return r7(t,r)+"000"}function Mae(t,r){return qn(t.getMonth()+1,r,2)}function Rae(t,r){return qn(t.getMinutes(),r,2)}function Qae(t,r){return qn(t.getSeconds(),r,2)}function Hae(t){var r=t.getDay();return r===0?7:r}function $ae(t,r){return qn(iw.count(jf(t)-1,t),r,2)}function n7(t){var r=t.getDay();return r>=4||r===0?rg(t):rg.ceil(t)}function Kae(t,r){return t=n7(t),qn(rg.count(jf(t),t)+(jf(t).getDay()===4),r,2)}function Vae(t){return t.getDay()}function zae(t,r){return qn(zb.count(jf(t)-1,t),r,2)}function Gae(t,r){return qn(t.getFullYear()%100,r,2)}function Wae(t,r){return t=n7(t),qn(t.getFullYear()%100,r,2)}function qae(t,r){return qn(t.getFullYear()%1e4,r,4)}function Yae(t,r){var n=t.getDay();return t=n>=4||n===0?rg(t):rg.ceil(t),qn(t.getFullYear()%1e4,r,4)}function Xae(t){var r=t.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+qn(r/60|0,"0",2)+qn(r%60,"0",2)}function V_(t,r){return qn(t.getUTCDate(),r,2)}function Jae(t,r){return qn(t.getUTCHours(),r,2)}function Zae(t,r){return qn(t.getUTCHours()%12||12,r,2)}function eie(t,r){return qn(1+aw.count(Nf(t),t),r,3)}function s7(t,r){return qn(t.getUTCMilliseconds(),r,3)}function tie(t,r){return s7(t,r)+"000"}function rie(t,r){return qn(t.getUTCMonth()+1,r,2)}function nie(t,r){return qn(t.getUTCMinutes(),r,2)}function sie(t,r){return qn(t.getUTCSeconds(),r,2)}function aie(t){var r=t.getUTCDay();return r===0?7:r}function iie(t,r){return qn(ow.count(Nf(t)-1,t),r,2)}function a7(t){var r=t.getUTCDay();return r>=4||r===0?ng(t):ng.ceil(t)}function oie(t,r){return t=a7(t),qn(ng.count(Nf(t),t)+(Nf(t).getUTCDay()===4),r,2)}function lie(t){return t.getUTCDay()}function cie(t,r){return qn(Gb.count(Nf(t)-1,t),r,2)}function uie(t,r){return qn(t.getUTCFullYear()%100,r,2)}function die(t,r){return t=a7(t),qn(t.getUTCFullYear()%100,r,2)}function Aie(t,r){return qn(t.getUTCFullYear()%1e4,r,4)}function fie(t,r){var n=t.getUTCDay();return t=n>=4||n===0?ng(t):ng.ceil(t),qn(t.getUTCFullYear()%1e4,r,4)}function hie(){return"+0000"}function z_(){return"%"}function G_(t){return+t}function W_(t){return Math.floor(+t/1e3)}var Np,i7,o7;mie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mie(t){return Np=mae(t),i7=Np.format,Np.parse,o7=Np.utcFormat,Np.utcParse,Np}function pie(t){return new Date(t)}function gie(t){return t instanceof Date?+t:+new Date(+t)}function T3(t,r,n,a,i,o,l,c,u,f){var A=m3(),m=A.invert,p=A.domain,g=f(".%L"),b=f(":%S"),v=f("%I:%M"),y=f("%I %p"),j=f("%a %d"),C=f("%b %d"),S=f("%B"),E=f("%Y");function D(k){return(u(k)<k?g:c(k)<k?b:l(k)<k?v:o(k)<k?y:a(k)<k?i(k)<k?j:C:n(k)<k?S:E)(k)}return A.invert=function(k){return new Date(m(k))},A.domain=function(k){return arguments.length?p(Array.from(k,gie)):p().map(pie)},A.ticks=function(k){var L=p();return t(L[0],L[L.length-1],k??10)},A.tickFormat=function(k,L){return L==null?D:f(L)},A.nice=function(k){var L=p();return(!k||typeof k.range!="function")&&(k=r(L[0],L[L.length-1],k??10)),k?p(GU(L,k)):A},A.copy=function(){return dv(A,T3(t,r,n,a,i,o,l,c,u,f))},A}function xie(){return ou.apply(T3(fae,hae,jf,B3,iw,Av,C3,j3,e0,i7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yie(){return ou.apply(T3(dae,Aae,Nf,E3,ow,aw,S3,N3,e0,o7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function lw(){var t=0,r=1,n,a,i,o,l=al,c=!1,u;function f(m){return m==null||isNaN(m=+m)?u:l(i===0?.5:(m=(o(m)-n)*i,c?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,r]=m,n=o(t=+t),a=o(r=+r),i=n===a?0:1/(a-n),f):[t,r]},f.clamp=function(m){return arguments.length?(c=!!m,f):c},f.interpolator=function(m){return arguments.length?(l=m,f):l};function A(m){return function(p){var g,b;return arguments.length?([g,b]=p,l=m(g,b),f):[l(0),l(1)]}}return f.range=A(mg),f.rangeRound=A(h3),f.unknown=function(m){return arguments.length?(u=m,f):u},function(m){return o=m,n=m(t),a=m(r),i=n===a?0:1/(a-n),f}}function rm(t,r){return r.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function l7(){var t=tm(lw()(al));return t.copy=function(){return rm(t,l7())},_f.apply(t,arguments)}function c7(){var t=x3(lw()).domain([1,10]);return t.copy=function(){return rm(t,c7()).base(t.base())},_f.apply(t,arguments)}function u7(){var t=y3(lw());return t.copy=function(){return rm(t,u7()).constant(t.constant())},_f.apply(t,arguments)}function F3(){var t=v3(lw());return t.copy=function(){return rm(t,F3()).exponent(t.exponent())},_f.apply(t,arguments)}function vie(){return F3.apply(null,arguments).exponent(.5)}function d7(){var t=[],r=al;function n(a){if(a!=null&&!isNaN(a=+a))return r((cv(t,a,1)-1)/(t.length-1))}return n.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let i of a)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Uh),n},n.interpolator=function(a){return arguments.length?(r=a,n):r},n.range=function(){return t.map((a,i)=>r(i/(t.length-1)))},n.quantiles=function(a){return Array.from({length:a+1},(i,o)=>ase(t,o/a))},n.copy=function(){return d7(r).domain(t)},_f.apply(n,arguments)}function cw(){var t=0,r=.5,n=1,a=1,i,o,l,c,u,f=al,A,m=!1,p;function g(v){return isNaN(v=+v)?p:(v=.5+((v=+A(v))-o)*(a*v<a*o?c:u),f(m?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([t,r,n]=v,i=A(t=+t),o=A(r=+r),l=A(n=+n),c=i===o?0:.5/(o-i),u=o===l?0:.5/(l-o),a=o<i?-1:1,g):[t,r,n]},g.clamp=function(v){return arguments.length?(m=!!v,g):m},g.interpolator=function(v){return arguments.length?(f=v,g):f};function b(v){return function(y){var j,C,S;return arguments.length?([j,C,S]=y,f=_se(v,[j,C,S]),g):[f(0),f(.5),f(1)]}}return g.range=b(mg),g.rangeRound=b(h3),g.unknown=function(v){return arguments.length?(p=v,g):p},function(v){return A=v,i=v(t),o=v(r),l=v(n),c=i===o?0:.5/(o-i),u=o===l?0:.5/(l-o),a=o<i?-1:1,g}}function A7(){var t=tm(cw()(al));return t.copy=function(){return rm(t,A7())},_f.apply(t,arguments)}function f7(){var t=x3(cw()).domain([.1,1,10]);return t.copy=function(){return rm(t,f7()).base(t.base())},_f.apply(t,arguments)}function h7(){var t=y3(cw());return t.copy=function(){return rm(t,h7()).constant(t.constant())},_f.apply(t,arguments)}function I3(){var t=v3(cw());return t.copy=function(){return rm(t,I3()).exponent(t.exponent())},_f.apply(t,arguments)}function bie(){return I3.apply(null,arguments).exponent(.5)}const Ux=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:d3,scaleDiverging:A7,scaleDivergingLog:f7,scaleDivergingPow:I3,scaleDivergingSqrt:bie,scaleDivergingSymlog:h7,scaleIdentity:zU,scaleImplicit:gS,scaleLinear:VU,scaleLog:WU,scaleOrdinal:u3,scalePoint:lse,scalePow:b3,scaleQuantile:XU,scaleQuantize:JU,scaleRadial:YU,scaleSequential:l7,scaleSequentialLog:c7,scaleSequentialPow:F3,scaleSequentialQuantile:d7,scaleSequentialSqrt:vie,scaleSequentialSymlog:u7,scaleSqrt:tae,scaleSymlog:qU,scaleThreshold:ZU,scaleTime:xie,scaleUtc:yie,tickFormat:KU},Symbol.toStringTag,{value:"Module"}));var P0=t=>t.chartData,_3=Lt([P0],t=>{var r=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:r,dataStartIndex:0}}),k3=(t,r,n,a)=>a?_3(t):P0(t);function sg(t){if(Array.isArray(t)&&t.length===2){var[r,n]=t;if(oo(r)&&oo(n))return!0}return!1}function q_(t,r,n){return n?t:[Math.min(t[0],r[0]),Math.max(t[1],r[1])]}function wie(t,r){if(r&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,a]=t,i,o;if(oo(n))i=n;else if(typeof n=="function")return;if(oo(a))o=a;else if(typeof a=="function")return;var l=[i,o];if(sg(l))return l}}function jie(t,r,n){if(!(!n&&r==null)){if(typeof t=="function"&&r!=null)try{var a=t(r,n);if(sg(a))return q_(a,r,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,l,c;if(i==="auto")r!=null&&(l=Math.min(...r));else if(wr(i))l=i;else if(typeof i=="function")try{r!=null&&(l=i(r?.[0]))}catch{}else if(typeof i=="string"&&OI.test(i)){var u=OI.exec(i);if(u==null||r==null)l=void 0;else{var f=+u[1];l=r[0]-f}}else l=r?.[0];if(o==="auto")r!=null&&(c=Math.max(...r));else if(wr(o))c=o;else if(typeof o=="function")try{r!=null&&(c=o(r?.[1]))}catch{}else if(typeof o=="string"&&LI.test(o)){var A=LI.exec(o);if(A==null||r==null)c=void 0;else{var m=+A[1];c=r[1]+m}}else c=r?.[1];var p=[l,c];if(sg(p))return r==null?p:q_(p,r,n)}}}var pg=1e9,Nie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},D3,oa=!0,au="[DecimalError] ",h0=au+"Invalid argument: ",P3=au+"Exponent out of range: ",gg=Math.floor,zm=Math.pow,Cie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hc,Ui=1e7,Js=7,m7=9007199254740991,Wb=gg(m7/Js),Cr={};Cr.absoluteValue=Cr.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Cr.comparedTo=Cr.cmp=function(t){var r,n,a,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(a=o.d.length,i=t.d.length,r=0,n=a<i?a:i;r<n;++r)if(o.d[r]!==t.d[r])return o.d[r]>t.d[r]^o.s<0?1:-1;return a===i?0:a>i^o.s<0?1:-1};Cr.decimalPlaces=Cr.dp=function(){var t=this,r=t.d.length-1,n=(r-t.e)*Js;if(r=t.d[r],r)for(;r%10==0;r/=10)n--;return n<0?0:n};Cr.dividedBy=Cr.div=function(t){return df(this,new this.constructor(t))};Cr.dividedToIntegerBy=Cr.idiv=function(t){var r=this,n=r.constructor;return Ps(df(r,new n(t),0,1),n.precision)};Cr.equals=Cr.eq=function(t){return!this.cmp(t)};Cr.exponent=function(){return ei(this)};Cr.greaterThan=Cr.gt=function(t){return this.cmp(t)>0};Cr.greaterThanOrEqualTo=Cr.gte=function(t){return this.cmp(t)>=0};Cr.isInteger=Cr.isint=function(){return this.e>this.d.length-2};Cr.isNegative=Cr.isneg=function(){return this.s<0};Cr.isPositive=Cr.ispos=function(){return this.s>0};Cr.isZero=function(){return this.s===0};Cr.lessThan=Cr.lt=function(t){return this.cmp(t)<0};Cr.lessThanOrEqualTo=Cr.lte=function(t){return this.cmp(t)<1};Cr.logarithm=Cr.log=function(t){var r,n=this,a=n.constructor,i=a.precision,o=i+5;if(t===void 0)t=new a(10);else if(t=new a(t),t.s<1||t.eq(hc))throw Error(au+"NaN");if(n.s<1)throw Error(au+(n.s?"NaN":"-Infinity"));return n.eq(hc)?new a(0):(oa=!1,r=df(Fy(n,o),Fy(t,o),o),oa=!0,Ps(r,i))};Cr.minus=Cr.sub=function(t){var r=this;return t=new r.constructor(t),r.s==t.s?x7(r,t):p7(r,(t.s=-t.s,t))};Cr.modulo=Cr.mod=function(t){var r,n=this,a=n.constructor,i=a.precision;if(t=new a(t),!t.s)throw Error(au+"NaN");return n.s?(oa=!1,r=df(n,t,0,1).times(t),oa=!0,n.minus(r)):Ps(new a(n),i)};Cr.naturalExponential=Cr.exp=function(){return g7(this)};Cr.naturalLogarithm=Cr.ln=function(){return Fy(this)};Cr.negated=Cr.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Cr.plus=Cr.add=function(t){var r=this;return t=new r.constructor(t),r.s==t.s?p7(r,t):x7(r,(t.s=-t.s,t))};Cr.precision=Cr.sd=function(t){var r,n,a,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(h0+t);if(r=ei(i)+1,a=i.d.length-1,n=a*Js+1,a=i.d[a],a){for(;a%10==0;a/=10)n--;for(a=i.d[0];a>=10;a/=10)n++}return t&&r>n?r:n};Cr.squareRoot=Cr.sqrt=function(){var t,r,n,a,i,o,l,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(au+"NaN")}for(t=ei(c),oa=!1,i=Math.sqrt(+c),i==0||i==1/0?(r=tA(c.d),(r.length+t)%2==0&&(r+="0"),i=Math.sqrt(r),t=gg((t+1)/2)-(t<0||t%2),i==1/0?r="5e"+t:(r=i.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),a=new u(r)):a=new u(i.toString()),n=u.precision,i=l=n+3;;)if(o=a,a=o.plus(df(c,o,l+2)).times(.5),tA(o.d).slice(0,l)===(r=tA(a.d)).slice(0,l)){if(r=r.slice(l-3,l+1),i==l&&r=="4999"){if(Ps(o,n+1,0),o.times(o).eq(c)){a=o;break}}else if(r!="9999")break;l+=4}return oa=!0,Ps(a,n)};Cr.times=Cr.mul=function(t){var r,n,a,i,o,l,c,u,f,A=this,m=A.constructor,p=A.d,g=(t=new m(t)).d;if(!A.s||!t.s)return new m(0);for(t.s*=A.s,n=A.e+t.e,u=p.length,f=g.length,u<f&&(o=p,p=g,g=o,l=u,u=f,f=l),o=[],l=u+f,a=l;a--;)o.push(0);for(a=f;--a>=0;){for(r=0,i=u+a;i>a;)c=o[i]+g[a]*p[i-a-1]+r,o[i--]=c%Ui|0,r=c/Ui|0;o[i]=(o[i]+r)%Ui|0}for(;!o[--l];)o.pop();return r?++n:o.shift(),t.d=o,t.e=n,oa?Ps(t,m.precision):t};Cr.toDecimalPlaces=Cr.todp=function(t,r){var n=this,a=n.constructor;return n=new a(n),t===void 0?n:(lA(t,0,pg),r===void 0?r=a.rounding:lA(r,0,8),Ps(n,t+ei(n)+1,r))};Cr.toExponential=function(t,r){var n,a=this,i=a.constructor;return t===void 0?n=C0(a,!0):(lA(t,0,pg),r===void 0?r=i.rounding:lA(r,0,8),a=Ps(new i(a),t+1,r),n=C0(a,!0,t+1)),n};Cr.toFixed=function(t,r){var n,a,i=this,o=i.constructor;return t===void 0?C0(i):(lA(t,0,pg),r===void 0?r=o.rounding:lA(r,0,8),a=Ps(new o(i),t+ei(i)+1,r),n=C0(a.abs(),!1,t+ei(a)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Cr.toInteger=Cr.toint=function(){var t=this,r=t.constructor;return Ps(new r(t),ei(t)+1,r.rounding)};Cr.toNumber=function(){return+this};Cr.toPower=Cr.pow=function(t){var r,n,a,i,o,l,c=this,u=c.constructor,f=12,A=+(t=new u(t));if(!t.s)return new u(hc);if(c=new u(c),!c.s){if(t.s<1)throw Error(au+"Infinity");return c}if(c.eq(hc))return c;if(a=u.precision,t.eq(hc))return Ps(c,a);if(r=t.e,n=t.d.length-1,l=r>=n,o=c.s,l){if((n=A<0?-A:A)<=m7){for(i=new u(hc),r=Math.ceil(a/Js+4),oa=!1;n%2&&(i=i.times(c),X_(i.d,r)),n=gg(n/2),n!==0;)c=c.times(c),X_(c.d,r);return oa=!0,t.s<0?new u(hc).div(i):Ps(i,a)}}else if(o<0)throw Error(au+"NaN");return o=o<0&&t.d[Math.max(r,n)]&1?-1:1,c.s=1,oa=!1,i=t.times(Fy(c,a+f)),oa=!0,i=g7(i),i.s=o,i};Cr.toPrecision=function(t,r){var n,a,i=this,o=i.constructor;return t===void 0?(n=ei(i),a=C0(i,n<=o.toExpNeg||n>=o.toExpPos)):(lA(t,1,pg),r===void 0?r=o.rounding:lA(r,0,8),i=Ps(new o(i),t,r),n=ei(i),a=C0(i,t<=n||n<=o.toExpNeg,t)),a};Cr.toSignificantDigits=Cr.tosd=function(t,r){var n=this,a=n.constructor;return t===void 0?(t=a.precision,r=a.rounding):(lA(t,1,pg),r===void 0?r=a.rounding:lA(r,0,8)),Ps(new a(n),t,r)};Cr.toString=Cr.valueOf=Cr.val=Cr.toJSON=Cr[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,r=ei(t),n=t.constructor;return C0(t,r<=n.toExpNeg||r>=n.toExpPos)};function p7(t,r){var n,a,i,o,l,c,u,f,A=t.constructor,m=A.precision;if(!t.s||!r.s)return r.s||(r=new A(t)),oa?Ps(r,m):r;if(u=t.d,f=r.d,l=t.e,i=r.e,u=u.slice(),o=l-i,o){for(o<0?(a=u,o=-o,c=f.length):(a=f,i=l,c=u.length),l=Math.ceil(m/Js),c=l>c?l+1:c+1,o>c&&(o=c,a.length=1),a.reverse();o--;)a.push(0);a.reverse()}for(c=u.length,o=f.length,c-o<0&&(o=c,a=f,f=u,u=a),n=0;o;)n=(u[--o]=u[o]+f[o]+n)/Ui|0,u[o]%=Ui;for(n&&(u.unshift(n),++i),c=u.length;u[--c]==0;)u.pop();return r.d=u,r.e=i,oa?Ps(r,m):r}function lA(t,r,n){if(t!==~~t||t<r||t>n)throw Error(h0+t)}function tA(t){var r,n,a,i=t.length-1,o="",l=t[0];if(i>0){for(o+=l,r=1;r<i;r++)a=t[r]+"",n=Js-a.length,n&&(o+=Bh(n)),o+=a;l=t[r],a=l+"",n=Js-a.length,n&&(o+=Bh(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var df=function(){function t(a,i){var o,l=0,c=a.length;for(a=a.slice();c--;)o=a[c]*i+l,a[c]=o%Ui|0,l=o/Ui|0;return l&&a.unshift(l),a}function r(a,i,o,l){var c,u;if(o!=l)u=o>l?1:-1;else for(c=u=0;c<o;c++)if(a[c]!=i[c]){u=a[c]>i[c]?1:-1;break}return u}function n(a,i,o){for(var l=0;o--;)a[o]-=l,l=a[o]<i[o]?1:0,a[o]=l*Ui+a[o]-i[o];for(;!a[0]&&a.length>1;)a.shift()}return function(a,i,o,l){var c,u,f,A,m,p,g,b,v,y,j,C,S,E,D,k,L,I,Y=a.constructor,Q=a.s==i.s?1:-1,H=a.d,U=i.d;if(!a.s)return new Y(a);if(!i.s)throw Error(au+"Division by zero");for(u=a.e-i.e,L=U.length,D=H.length,g=new Y(Q),b=g.d=[],f=0;U[f]==(H[f]||0);)++f;if(U[f]>(H[f]||0)&&--u,o==null?C=o=Y.precision:l?C=o+(ei(a)-ei(i))+1:C=o,C<0)return new Y(0);if(C=C/Js+2|0,f=0,L==1)for(A=0,U=U[0],C++;(f<D||A)&&C--;f++)S=A*Ui+(H[f]||0),b[f]=S/U|0,A=S%U|0;else{for(A=Ui/(U[0]+1)|0,A>1&&(U=t(U,A),H=t(H,A),L=U.length,D=H.length),E=L,v=H.slice(0,L),y=v.length;y<L;)v[y++]=0;I=U.slice(),I.unshift(0),k=U[0],U[1]>=Ui/2&&++k;do A=0,c=r(U,v,L,y),c<0?(j=v[0],L!=y&&(j=j*Ui+(v[1]||0)),A=j/k|0,A>1?(A>=Ui&&(A=Ui-1),m=t(U,A),p=m.length,y=v.length,c=r(m,v,p,y),c==1&&(A--,n(m,L<p?I:U,p))):(A==0&&(c=A=1),m=U.slice()),p=m.length,p<y&&m.unshift(0),n(v,m,y),c==-1&&(y=v.length,c=r(U,v,L,y),c<1&&(A++,n(v,L<y?I:U,y))),y=v.length):c===0&&(A++,v=[0]),b[f++]=A,c&&v[0]?v[y++]=H[E]||0:(v=[H[E]],y=1);while((E++<D||v[0]!==void 0)&&C--)}return b[0]||b.shift(),g.e=u,Ps(g,l?o+ei(g)+1:o)}}();function g7(t,r){var n,a,i,o,l,c,u=0,f=0,A=t.constructor,m=A.precision;if(ei(t)>16)throw Error(P3+ei(t));if(!t.s)return new A(hc);for(oa=!1,c=m,l=new A(.03125);t.abs().gte(.1);)t=t.times(l),f+=5;for(a=Math.log(zm(2,f))/Math.LN10*2+5|0,c+=a,n=i=o=new A(hc),A.precision=c;;){if(i=Ps(i.times(t),c),n=n.times(++u),l=o.plus(df(i,n,c)),tA(l.d).slice(0,c)===tA(o.d).slice(0,c)){for(;f--;)o=Ps(o.times(o),c);return A.precision=m,r==null?(oa=!0,Ps(o,m)):o}o=l}}function ei(t){for(var r=t.e*Js,n=t.d[0];n>=10;n/=10)r++;return r}function SN(t,r,n){if(r>t.LN10.sd())throw oa=!0,n&&(t.precision=n),Error(au+"LN10 precision limit exceeded");return Ps(new t(t.LN10),r)}function Bh(t){for(var r="";t--;)r+="0";return r}function Fy(t,r){var n,a,i,o,l,c,u,f,A,m=1,p=10,g=t,b=g.d,v=g.constructor,y=v.precision;if(g.s<1)throw Error(au+(g.s?"NaN":"-Infinity"));if(g.eq(hc))return new v(0);if(r==null?(oa=!1,f=y):f=r,g.eq(10))return r==null&&(oa=!0),SN(v,f);if(f+=p,v.precision=f,n=tA(b),a=n.charAt(0),o=ei(g),Math.abs(o)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)g=g.times(t),n=tA(g.d),a=n.charAt(0),m++;o=ei(g),a>1?(g=new v("0."+n),o++):g=new v(a+"."+n.slice(1))}else return u=SN(v,f+2,y).times(o+""),g=Fy(new v(a+"."+n.slice(1)),f-p).plus(u),v.precision=y,r==null?(oa=!0,Ps(g,y)):g;for(c=l=g=df(g.minus(hc),g.plus(hc),f),A=Ps(g.times(g),f),i=3;;){if(l=Ps(l.times(A),f),u=c.plus(df(l,new v(i),f)),tA(u.d).slice(0,f)===tA(c.d).slice(0,f))return c=c.times(2),o!==0&&(c=c.plus(SN(v,f+2,y).times(o+""))),c=df(c,new v(m),f),v.precision=y,r==null?(oa=!0,Ps(c,y)):c;c=u,i+=2}}function Y_(t,r){var n,a,i;for((n=r.indexOf("."))>-1&&(r=r.replace(".","")),(a=r.search(/e/i))>0?(n<0&&(n=a),n+=+r.slice(a+1),r=r.substring(0,a)):n<0&&(n=r.length),a=0;r.charCodeAt(a)===48;)++a;for(i=r.length;r.charCodeAt(i-1)===48;)--i;if(r=r.slice(a,i),r){if(i-=a,n=n-a-1,t.e=gg(n/Js),t.d=[],a=(n+1)%Js,n<0&&(a+=Js),a<i){for(a&&t.d.push(+r.slice(0,a)),i-=Js;a<i;)t.d.push(+r.slice(a,a+=Js));r=r.slice(a),a=Js-r.length}else a-=i;for(;a--;)r+="0";if(t.d.push(+r),oa&&(t.e>Wb||t.e<-Wb))throw Error(P3+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ps(t,r,n){var a,i,o,l,c,u,f,A,m=t.d;for(l=1,o=m[0];o>=10;o/=10)l++;if(a=r-l,a<0)a+=Js,i=r,f=m[A=0];else{if(A=Math.ceil((a+1)/Js),o=m.length,A>=o)return t;for(f=o=m[A],l=1;o>=10;o/=10)l++;a%=Js,i=a-Js+l}if(n!==void 0&&(o=zm(10,l-i-1),c=f/o%10|0,u=r<0||m[A+1]!==void 0||f%o,u=n<4?(c||u)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||u||n==6&&(a>0?i>0?f/zm(10,l-i):0:m[A-1])%10&1||n==(t.s<0?8:7))),r<1||!m[0])return u?(o=ei(t),m.length=1,r=r-o-1,m[0]=zm(10,(Js-r%Js)%Js),t.e=gg(-r/Js)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(a==0?(m.length=A,o=1,A--):(m.length=A+1,o=zm(10,Js-a),m[A]=i>0?(f/zm(10,l-i)%zm(10,i)|0)*o:0),u)for(;;)if(A==0){(m[0]+=o)==Ui&&(m[0]=1,++t.e);break}else{if(m[A]+=o,m[A]!=Ui)break;m[A--]=0,o=1}for(a=m.length;m[--a]===0;)m.pop();if(oa&&(t.e>Wb||t.e<-Wb))throw Error(P3+ei(t));return t}function x7(t,r){var n,a,i,o,l,c,u,f,A,m,p=t.constructor,g=p.precision;if(!t.s||!r.s)return r.s?r.s=-r.s:r=new p(t),oa?Ps(r,g):r;if(u=t.d,m=r.d,a=r.e,f=t.e,u=u.slice(),l=f-a,l){for(A=l<0,A?(n=u,l=-l,c=m.length):(n=m,a=f,c=u.length),i=Math.max(Math.ceil(g/Js),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=u.length,c=m.length,A=i<c,A&&(c=i),i=0;i<c;i++)if(u[i]!=m[i]){A=u[i]<m[i];break}l=0}for(A&&(n=u,u=m,m=n,r.s=-r.s),c=u.length,i=m.length-c;i>0;--i)u[c++]=0;for(i=m.length;i>l;){if(u[--i]<m[i]){for(o=i;o&&u[--o]===0;)u[o]=Ui-1;--u[o],u[i]+=Ui}u[i]-=m[i]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--a;return u[0]?(r.d=u,r.e=a,oa?Ps(r,g):r):new p(0)}function C0(t,r,n){var a,i=ei(t),o=tA(t.d),l=o.length;return r?(n&&(a=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+Bh(a):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Bh(-i-1)+o,n&&(a=n-l)>0&&(o+=Bh(a))):i>=l?(o+=Bh(i+1-l),n&&(a=n-i-1)>0&&(o=o+"."+Bh(a))):((a=i+1)<l&&(o=o.slice(0,a)+"."+o.slice(a)),n&&(a=n-l)>0&&(i+1===l&&(o+="."),o+=Bh(a))),t.s<0?"-"+o:o}function X_(t,r){if(t.length>r)return t.length=r,!0}function y7(t){var r,n,a;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(h0+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return Y_(l,o.toString())}else if(typeof o!="string")throw Error(h0+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,Cie.test(o))Y_(l,o);else throw Error(h0+o)}if(i.prototype=Cr,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=y7,i.config=i.set=Sie,t===void 0&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)t.hasOwnProperty(n=a[r++])||(t[n]=this[n]);return i.config(t),i}function Sie(t){if(!t||typeof t!="object")throw Error(au+"Object expected");var r,n,a,i=["precision",1,pg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<i.length;r+=3)if((a=t[n=i[r]])!==void 0)if(gg(a)===a&&a>=i[r+1]&&a<=i[r+2])this[n]=a;else throw Error(h0+n+": "+a);if((a=t[n="LN10"])!==void 0)if(a==Math.LN10)this[n]=new this(a);else throw Error(h0+n+": "+a);return this}var D3=y7(Nie);hc=new D3(1);const us=D3;var Bie=t=>t,v7={},b7=t=>t===v7,J_=t=>function r(){return arguments.length===0||arguments.length===1&&b7(arguments.length<=0?void 0:arguments[0])?r:t(...arguments)},w7=(t,r)=>t===1?r:J_(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(l=>l!==v7).length;return o>=t?r(...a):w7(t-o,J_(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=a.map(A=>b7(A)?c.shift():A);return r(...f,...c)}))}),uw=t=>w7(t.length,t),bS=(t,r)=>{for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},Eie=uw((t,r)=>Array.isArray(r)?r.map(t):Object.keys(r).map(n=>r[n]).map(t)),Tie=function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];if(!n.length)return Bie;var i=n.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce((c,u)=>u(c),o(...arguments))}},wS=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),j7=t=>{var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every((l,c)=>{var u;return l===((u=r)===null||u===void 0?void 0:u[c])})||(r=i,n=t(...i)),n}};function N7(t){var r;return t===0?r=1:r=Math.floor(new us(t).abs().log(10).toNumber())+1,r}function C7(t,r,n){for(var a=new us(t),i=0,o=[];a.lt(r)&&i<1e5;)o.push(a.toNumber()),a=a.add(n),i++;return o}uw((t,r,n)=>{var a=+t,i=+r;return a+n*(i-a)});uw((t,r,n)=>{var a=r-+t;return a=a||1/0,(n-t)/a});uw((t,r,n)=>{var a=r-+t;return a=a||1/0,Math.max(0,Math.min(1,(n-t)/a))});var S7=t=>{var[r,n]=t,[a,i]=[r,n];return r>n&&([a,i]=[n,r]),[a,i]},B7=(t,r,n)=>{if(t.lte(0))return new us(0);var a=N7(t.toNumber()),i=new us(10).pow(a),o=t.div(i),l=a!==1?.05:.1,c=new us(Math.ceil(o.div(l).toNumber())).add(n).mul(l),u=c.mul(i);return r?new us(u.toNumber()):new us(Math.ceil(u.toNumber()))},Fie=(t,r,n)=>{var a=new us(1),i=new us(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(a=new us(10).pow(N7(t)-1),i=new us(Math.floor(i.div(a).toNumber())).mul(a)):o>1&&(i=new us(Math.floor(t)))}else t===0?i=new us(Math.floor((r-1)/2)):n||(i=new us(Math.floor(t)));var l=Math.floor((r-1)/2),c=Tie(Eie(u=>i.add(new us(u-l).mul(a)).toNumber()),bS);return c(0,r)},E7=function(r,n,a,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-r)/(a-1)))return{step:new us(0),tickMin:new us(0),tickMax:new us(0)};var l=B7(new us(n).sub(r).div(a-1),i,o),c;r<=0&&n>=0?c=new us(0):(c=new us(r).add(n).div(2),c=c.sub(new us(c).mod(l)));var u=Math.ceil(c.sub(r).div(l).toNumber()),f=Math.ceil(new us(n).sub(c).div(l).toNumber()),A=u+f+1;return A>a?E7(r,n,a,i,o+1):(A<a&&(f=n>0?f+(a-A):f,u=n>0?u:u+(a-A)),{step:l,tickMin:c.sub(new us(u).mul(l)),tickMax:c.add(new us(f).mul(l))})};function Iie(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[l,c]=S7([r,n]);if(l===-1/0||c===1/0){var u=c===1/0?[l,...bS(0,a-1).map(()=>1/0)]:[...bS(0,a-1).map(()=>-1/0),c];return r>n?wS(u):u}if(l===c)return Fie(l,a,i);var{step:f,tickMin:A,tickMax:m}=E7(l,c,o,i,0),p=C7(A,m.add(new us(.1).mul(f)),f);return r>n?wS(p):p}function _ie(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=S7([n,a]);if(o===-1/0||l===1/0)return[n,a];if(o===l)return[o];var c=Math.max(r,2),u=B7(new us(l).sub(o).div(c-1),i,0),f=[...C7(new us(o),new us(l),u),l];return i===!1&&(f=f.map(A=>Math.round(A))),n>a?wS(f):f}var kie=j7(Iie),Pie=j7(_ie),T7=t=>t.rootProps.maxBarSize,Die=t=>t.rootProps.barGap,F7=t=>t.rootProps.barCategoryGap,Oie=t=>t.rootProps.barSize,fv=t=>t.rootProps.stackOffset,O3=t=>t.options.chartName,L3=t=>t.rootProps.syncId,I7=t=>t.rootProps.syncMethod,U3=t=>t.options.eventEmitter,tf={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},cc={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},dw=(t,r)=>{if(!(!t||!r))return t!=null&&t.reversed?[r[1],r[0]]:r},Lie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:tf.angleAxisId,includeHidden:!1,name:void 0,reversed:tf.reversed,scale:tf.scale,tick:tf.tick,tickCount:void 0,ticks:void 0,type:tf.type,unit:void 0},Uie={allowDataOverflow:cc.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:cc.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cc.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cc.scale,tick:cc.tick,tickCount:cc.tickCount,ticks:void 0,type:cc.type,unit:void 0},Mie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:tf.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:tf.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:tf.scale,tick:tf.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Rie={allowDataOverflow:cc.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:cc.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cc.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cc.scale,tick:cc.tick,tickCount:cc.tickCount,ticks:void 0,type:"category",unit:void 0},M3=(t,r)=>t.polarAxis.angleAxis[r]!=null?t.polarAxis.angleAxis[r]:t.layout.layoutType==="radial"?Mie:Lie,R3=(t,r)=>t.polarAxis.radiusAxis[r]!=null?t.polarAxis.radiusAxis[r]:t.layout.layoutType==="radial"?Rie:Uie,Aw=t=>t.polarOptions,Q3=Lt([Ff,If,yi],mU),_7=Lt([Aw,Q3],(t,r)=>{if(t!=null)return ll(t.innerRadius,r,0)}),k7=Lt([Aw,Q3],(t,r)=>{if(t!=null)return ll(t.outerRadius,r,r*.8)}),Qie=t=>{if(t==null)return[0,0];var{startAngle:r,endAngle:n}=t;return[r,n]},P7=Lt([Aw],Qie);Lt([M3,P7],dw);var D7=Lt([Q3,_7,k7],(t,r,n)=>{if(!(t==null||r==null||n==null))return[r,n]});Lt([R3,D7],dw);var Hie=Lt([Yn,Aw,_7,k7,Ff,If],(t,r,n,a,i,o)=>{if(!(t!=="centric"&&t!=="radial"||r==null||n==null||a==null)){var{cx:l,cy:c,startAngle:u,endAngle:f}=r;return{cx:ll(l,i,i/2),cy:ll(c,o,o/2),innerRadius:n,outerRadius:a,startAngle:u,endAngle:f,clockWise:!1}}}),Qa=(t,r)=>r,hv=(t,r,n)=>n;function Z_(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function qb(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Z_(Object(n),!0).forEach(function(a){$ie(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z_(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function $ie(t,r,n){return(r=Kie(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Kie(t){var r=Vie(t,"string");return typeof r=="symbol"?r:r+""}function Vie(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var jS=[0,"auto"],ic={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},kf=(t,r)=>{var n=t.cartesianAxis.xAxis[r];return n??ic},oc={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:jS,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ew},nm=(t,r)=>{var n=t.cartesianAxis.yAxis[r];return n??oc},zie={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},H3=(t,r)=>{var n=t.cartesianAxis.zAxis[r];return n??zie},Ha=(t,r,n)=>{switch(r){case"xAxis":return kf(t,n);case"yAxis":return nm(t,n);case"zAxis":return H3(t,n);case"angleAxis":return M3(t,n);case"radiusAxis":return R3(t,n);default:throw new Error("Unexpected axis type: ".concat(r))}},Gie=(t,r,n)=>{switch(r){case"xAxis":return kf(t,n);case"yAxis":return nm(t,n);default:throw new Error("Unexpected axis type: ".concat(r))}},mv=(t,r,n)=>{switch(r){case"xAxis":return kf(t,n);case"yAxis":return nm(t,n);case"angleAxis":return M3(t,n);case"radiusAxis":return R3(t,n);default:throw new Error("Unexpected axis type: ".concat(r))}},O7=t=>t.graphicalItems.countOfBars>0;function $3(t,r){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===r;case"yAxis":return"yAxisId"in n&&n.yAxisId===r;case"zAxis":return"zAxisId"in n&&n.zAxisId===r;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===r;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===r;default:return!1}}}var fw=t=>t.graphicalItems.cartesianItems,Wie=Lt([Qa,hv],$3),K3=(t,r,n)=>t.filter(n).filter(a=>r?.includeHidden===!0?!0:!a.hide),pv=Lt([fw,Ha,Wie],K3),L7=t=>t.filter(r=>r.stackId===void 0),qie=Lt([pv],L7),V3=t=>t.map(r=>r.data).filter(Boolean).flat(1),Yie=Lt([pv],V3),z3=(t,r)=>{var{chartData:n=[],dataStartIndex:a,dataEndIndex:i}=r;return t.length>0?t:n.slice(a,i+1)},hw=Lt([Yie,k3],z3),G3=(t,r,n)=>r?.dataKey!=null?t.map(a=>({value:ea(a,r.dataKey)})):n.length>0?n.map(a=>a.dataKey).flatMap(a=>t.map(i=>({value:ea(i,a)}))):t.map(a=>({value:a})),mw=Lt([hw,Ha,pv],G3);function U7(t,r){switch(t){case"xAxis":return r.direction==="x";case"yAxis":return r.direction==="y";default:return!1}}function D0(t){return t.filter(r=>oA(r)||r instanceof Date).map(Number).filter(r=>Pl(r)===!1)}function Xie(t,r,n){return!n||typeof r!="number"||Pl(r)?[]:n.length?D0(n.flatMap(a=>{var i=ea(t,a.dataKey),o,l;if(Array.isArray(i)?[o,l]=i:o=l=i,!(!oo(o)||!oo(l)))return[r-o,r+l]})):[]}var M7=(t,r,n)=>{var a={},i=r.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),a);return Object.fromEntries(Object.entries(i).map(o=>{var[l,c]=o,u=c.map(f=>f.dataKey);return[l,{stackedData:Xte(t,u,n),graphicalItems:c}]}))},Iy=Lt([hw,pv,fv],M7),R7=(t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=r;if(n!=="zAxis"){var o=tre(t,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Jie=Lt([Iy,P0,Qa],R7),Q7=(t,r,n,a)=>n.length>0?t.flatMap(i=>n.flatMap(o=>{var l,c,u=(l=o.errorBars)===null||l===void 0?void 0:l.filter(A=>U7(a,A)),f=ea(i,(c=r.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:f,errorDomain:Xie(i,f,u)}})).filter(Boolean):r?.dataKey!=null?t.map(i=>({value:ea(i,r.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]})),Zie=Lt(hw,Ha,qie,Qa,Q7);function eoe(t){var{value:r}=t;if(oA(r)||r instanceof Date)return r}var toe=t=>{var r=t.flatMap(a=>[a.value,a.errorDomain]).flat(1),n=D0(r);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},roe=(t,r,n)=>{var a=t.map(eoe).filter(i=>i!=null);return n&&(r.dataKey==null||r.allowDuplicatedCategory&&DL(a))?PU(0,t.length):r.allowDuplicatedCategory?a:Array.from(new Set(a))},W3=t=>{var r;if(t==null||!("domain"in t))return jS;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=D0(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(r=t?.domain)!==null&&r!==void 0?r:jS},q3=function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),l=Math.min(...o),c=Math.max(...o);return[l,c]}},H7=t=>t.referenceElements.dots,xg=(t,r,n)=>t.filter(a=>a.ifOverflow==="extendDomain").filter(a=>r==="xAxis"?a.xAxisId===n:a.yAxisId===n),noe=Lt([H7,Qa,hv],xg),$7=t=>t.referenceElements.areas,soe=Lt([$7,Qa,hv],xg),K7=t=>t.referenceElements.lines,aoe=Lt([K7,Qa,hv],xg),V7=(t,r)=>{var n=D0(t.map(a=>r==="xAxis"?a.x:a.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ioe=Lt(noe,Qa,V7),z7=(t,r)=>{var n=D0(t.flatMap(a=>[r==="xAxis"?a.x1:a.y1,r==="xAxis"?a.x2:a.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ooe=Lt([soe,Qa],z7),G7=(t,r)=>{var n=D0(t.map(a=>r==="xAxis"?a.x:a.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},loe=Lt(aoe,Qa,G7),coe=Lt(ioe,loe,ooe,(t,r,n)=>q3(t,n,r)),W7=Lt([Ha],W3),Y3=(t,r,n,a,i)=>{var o=wie(r,t.allowDataOverflow);return o??jie(r,q3(n,i,toe(a)),t.allowDataOverflow)},uoe=Lt([Ha,W7,Jie,Zie,coe],Y3),doe=[0,1],X3=(t,r,n,a,i,o,l)=>{if(!(t==null||n==null||n.length===0)){var{dataKey:c,type:u}=t,f=Tf(r,o);return f&&c==null?PU(0,n.length):u==="category"?roe(a,t,f):i==="expand"?doe:l}},J3=Lt([Ha,Yn,hw,mw,fv,Qa,uoe],X3),q7=(t,r,n,a,i)=>{if(t!=null){var{scale:o,type:l}=t;if(o==="auto")return r==="radial"&&i==="radiusAxis"?"band":r==="radial"&&i==="angleAxis"?"linear":l==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var c="scale".concat(iv(o));return c in Ux?c:"point"}}},yg=Lt([Ha,Yn,O7,O3,Qa],q7);function Aoe(t){if(t!=null){if(t in Ux)return Ux[t]();var r="scale".concat(iv(t));if(r in Ux)return Ux[r]()}}function Z3(t,r,n,a){if(!(n==null||a==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(a);var i=Aoe(r);if(i!=null){var o=i.domain(n).range(a);return zte(o),o}}}var eB=(t,r,n)=>{var a=W3(r);if(!(n!=="auto"&&n!=="linear")){if(r!=null&&r.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&sg(t))return kie(t,r.tickCount,r.allowDecimals);if(r!=null&&r.tickCount&&r.type==="number"&&sg(t))return Pie(t,r.tickCount,r.allowDecimals)}},tB=Lt([J3,mv,yg],eB),rB=(t,r,n,a)=>{if(a!=="angleAxis"&&t?.type==="number"&&sg(r)&&Array.isArray(n)&&n.length>0){var i=r[0],o=n[0],l=r[1],c=n[n.length-1];return[Math.min(i,o),Math.max(l,c)]}return r},foe=Lt([Ha,J3,tB,Qa],rB),hoe=Lt(mw,Ha,(t,r)=>{if(!(!r||r.type!=="number")){var n=1/0,a=Array.from(D0(t.map(c=>c.value))).sort((c,u)=>c-u);if(a.length<2)return 1/0;var i=a[a.length-1]-a[0];if(i===0)return 1/0;for(var o=0;o<a.length-1;o++){var l=a[o+1]-a[o];n=Math.min(n,l)}return n/i}}),Y7=Lt(hoe,Yn,F7,yi,(t,r,n,a)=>a,(t,r,n,a,i)=>{if(!oo(t))return 0;var o=r==="vertical"?a.height:a.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var l=ll(n,t*o),c=t*o/2;return c-l-(c-l)/o*l}return 0}),moe=(t,r)=>{var n=kf(t,r);return n==null||typeof n.padding!="string"?0:Y7(t,"xAxis",r,n.padding)},poe=(t,r)=>{var n=nm(t,r);return n==null||typeof n.padding!="string"?0:Y7(t,"yAxis",r,n.padding)},goe=Lt(kf,moe,(t,r)=>{var n,a;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:r,right:r}:{left:((n=i.left)!==null&&n!==void 0?n:0)+r,right:((a=i.right)!==null&&a!==void 0?a:0)+r}}),xoe=Lt(nm,poe,(t,r)=>{var n,a;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:r,bottom:r}:{top:((n=i.top)!==null&&n!==void 0?n:0)+r,bottom:((a=i.bottom)!==null&&a!==void 0?a:0)+r}}),yoe=Lt([yi,goe,rw,tw,(t,r,n)=>n],(t,r,n,a,i)=>{var{padding:o}=a;return i?[o.left,n.width-o.right]:[t.left+r.left,t.left+t.width-r.right]}),voe=Lt([yi,Yn,xoe,rw,tw,(t,r,n)=>n],(t,r,n,a,i,o)=>{var{padding:l}=i;return o?[a.height-l.bottom,l.top]:r==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),gv=(t,r,n,a)=>{var i;switch(r){case"xAxis":return yoe(t,n,a);case"yAxis":return voe(t,n,a);case"zAxis":return(i=H3(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return P7(t);case"radiusAxis":return D7(t,n);default:return}},X7=Lt([Ha,gv],dw),vg=Lt([Ha,yg,foe,X7],Z3);Lt(pv,Qa,(t,r)=>t.flatMap(n=>{var a;return(a=n.errorBars)!==null&&a!==void 0?a:[]}).filter(n=>U7(r,n)));function J7(t,r){return t.id<r.id?-1:t.id>r.id?1:0}var pw=(t,r)=>r,gw=(t,r,n)=>n,boe=Lt(r3,pw,gw,(t,r,n)=>t.filter(a=>a.orientation===r).filter(a=>a.mirror===n).sort(J7)),woe=Lt(n3,pw,gw,(t,r,n)=>t.filter(a=>a.orientation===r).filter(a=>a.mirror===n).sort(J7)),Z7=(t,r)=>({width:t.width,height:r.height}),joe=(t,r)=>{var n=typeof r.width=="number"?r.width:ew;return{width:n,height:t.height}},eM=Lt(yi,kf,Z7),Noe=(t,r,n)=>{switch(r){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Coe=(t,r,n)=>{switch(r){case"left":return t.left;case"right":return n-t.right;default:return 0}},Soe=Lt(If,yi,boe,pw,gw,(t,r,n,a,i)=>{var o={},l;return n.forEach(c=>{var u=Z7(r,c);l==null&&(l=Noe(r,a,t));var f=a==="top"&&!i||a==="bottom"&&i;o[c.id]=l-Number(f)*u.height,l+=(f?-1:1)*u.height}),o}),Boe=Lt(Ff,yi,woe,pw,gw,(t,r,n,a,i)=>{var o={},l;return n.forEach(c=>{var u=joe(r,c);l==null&&(l=Coe(r,a,t));var f=a==="left"&&!i||a==="right"&&i;o[c.id]=l-Number(f)*u.width,l+=(f?-1:1)*u.width}),o}),Eoe=(t,r)=>{var n=yi(t),a=kf(t,r);if(a!=null){var i=Soe(t,a.orientation,a.mirror),o=i[r];return o==null?{x:n.left,y:0}:{x:n.left,y:o}}},Toe=(t,r)=>{var n=yi(t),a=nm(t,r);if(a!=null){var i=Boe(t,a.orientation,a.mirror),o=i[r];return o==null?{x:0,y:n.top}:{x:o,y:n.top}}},tM=Lt(yi,nm,(t,r)=>{var n=typeof r.width=="number"?r.width:ew;return{width:n,height:t.height}}),ek=(t,r,n)=>{switch(r){case"xAxis":return eM(t,n).width;case"yAxis":return tM(t,n).height;default:return}},rM=(t,r,n,a)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:l}=n,c=Tf(t,a),u=r.map(f=>f.value);if(l&&c&&o==="category"&&i&&DL(u))return u}},nB=Lt([Yn,mw,Ha,Qa],rM),nM=(t,r,n,a)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,l=Tf(t,a);if(l&&(i==="number"||o!=="auto"))return r.map(c=>c.value)}},sB=Lt([Yn,mw,mv,Qa],nM),tk=Lt([Yn,Gie,yg,vg,nB,sB,gv,tB,Qa],(t,r,n,a,i,o,l,c,u)=>{if(r==null)return null;var f=Tf(t,u);return{angle:r.angle,interval:r.interval,minTickGap:r.minTickGap,orientation:r.orientation,tick:r.tick,tickCount:r.tickCount,tickFormatter:r.tickFormatter,ticks:r.ticks,type:r.type,unit:r.unit,axisType:u,categoricalDomain:o,duplicateDomain:i,isCategorical:f,niceTicks:c,range:l,realScaleType:n,scale:a}}),Foe=(t,r,n,a,i,o,l,c,u)=>{if(!(r==null||a==null)){var f=Tf(t,u),{type:A,ticks:m,tickCount:p}=r,g=n==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,b=A==="category"&&a.bandwidth?a.bandwidth()/g:0;b=u==="angleAxis"&&o!=null&&o.length>=2?Ri(o[0]-o[1])*2*b:b;var v=m||i;if(v){var y=v.map((j,C)=>{var S=l?l.indexOf(j):j;return{index:C,coordinate:a(S)+b,value:j,offset:b}});return y.filter(j=>!Pl(j.coordinate))}return f&&c?c.map((j,C)=>({coordinate:a(j)+b,value:j,index:C,offset:b})):a.ticks?a.ticks(p).map(j=>({coordinate:a(j)+b,value:j,offset:b})):a.domain().map((j,C)=>({coordinate:a(j)+b,value:l?l[j]:j,index:C,offset:b}))}},sM=Lt([Yn,mv,yg,vg,tB,gv,nB,sB,Qa],Foe),Ioe=(t,r,n,a,i,o,l)=>{if(!(r==null||n==null||a==null||a[0]===a[1])){var c=Tf(t,l),{tickCount:u}=r,f=0;return f=l==="angleAxis"&&a?.length>=2?Ri(a[0]-a[1])*2*f:f,c&&o?o.map((A,m)=>({coordinate:n(A)+f,value:A,index:m,offset:f})):n.ticks?n.ticks(u).map(A=>({coordinate:n(A)+f,value:A,offset:f})):n.domain().map((A,m)=>({coordinate:n(A)+f,value:i?i[A]:A,index:m,offset:f}))}},Wh=Lt([Yn,mv,vg,gv,nB,sB,Qa],Ioe),cA=Lt(Ha,vg,(t,r)=>{if(!(t==null||r==null))return qb(qb({},t),{},{scale:r})}),_oe=Lt([Ha,yg,J3,X7],Z3);Lt((t,r,n)=>H3(t,n),_oe,(t,r)=>{if(!(t==null||r==null))return qb(qb({},t),{},{scale:r})});var koe=Lt([Yn,r3,n3],(t,r,n)=>{switch(t){case"horizontal":return r.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),aM=t=>t.options.defaultTooltipEventType,iM=t=>t.options.validateTooltipEventTypes;function oM(t,r,n){if(t==null)return r;var a=t?"axis":"item";return n==null?r:n.includes(a)?a:r}function aB(t,r){var n=aM(t),a=iM(t);return oM(r,n,a)}function Poe(t){return Ir(r=>aB(r,t))}var lM=(t,r)=>{var n,a=Number(r);if(!(Pl(a)||r==null))return a>=0?t==null||(n=t[a])===null||n===void 0?void 0:n.value:void 0},Doe=t=>t.tooltip.settings,Th={active:!1,index:null,dataKey:void 0,coordinate:void 0},Ooe={itemInteraction:{click:Th,hover:Th},axisInteraction:{click:Th,hover:Th},keyboardInteraction:Th,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},cM=ul({name:"tooltip",initialState:Ooe,reducers:{addTooltipEntrySettings(t,r){t.tooltipItemPayloads.push(r.payload)},removeTooltipEntrySettings(t,r){var n=uf(t).tooltipItemPayloads.indexOf(r.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,r){t.settings=r.payload},setActiveMouseOverItemIndex(t,r){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=r.payload.activeIndex,t.itemInteraction.hover.dataKey=r.payload.activeDataKey,t.itemInteraction.hover.coordinate=r.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,r){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=r.payload.activeIndex,t.itemInteraction.click.dataKey=r.payload.activeDataKey,t.itemInteraction.click.coordinate=r.payload.activeCoordinate},setMouseOverAxisIndex(t,r){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=r.payload.activeIndex,t.axisInteraction.hover.dataKey=r.payload.activeDataKey,t.axisInteraction.hover.coordinate=r.payload.activeCoordinate},setMouseClickAxisIndex(t,r){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=r.payload.activeIndex,t.axisInteraction.click.dataKey=r.payload.activeDataKey,t.axisInteraction.click.coordinate=r.payload.activeCoordinate},setSyncInteraction(t,r){t.syncInteraction=r.payload},setKeyboardInteraction(t,r){t.keyboardInteraction.active=r.payload.active,t.keyboardInteraction.index=r.payload.activeIndex,t.keyboardInteraction.coordinate=r.payload.activeCoordinate,t.keyboardInteraction.dataKey=r.payload.activeDataKey}}}),{addTooltipEntrySettings:Loe,removeTooltipEntrySettings:Uoe,setTooltipSettingsState:Moe,setActiveMouseOverItemIndex:uM,mouseLeaveItem:Roe,mouseLeaveChart:dM,setActiveClickItemIndex:Qoe,setMouseOverAxisIndex:AM,setMouseClickAxisIndex:Hoe,setSyncInteraction:NS,setKeyboardInteraction:CS}=cM.actions,$oe=cM.reducer;function rk(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function k1(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?rk(Object(n),!0).forEach(function(a){Koe(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Koe(t,r,n){return(r=Voe(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Voe(t){var r=zoe(t,"string");return typeof r=="symbol"?r:r+""}function zoe(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Goe(t,r,n){return r==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Woe(t){return t.index!=null}var fM=(t,r,n,a)=>{if(r==null)return Th;var i=Goe(t,r,n);if(i==null)return Th;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(Woe(i)){if(o)return k1(k1({},i),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a};return k1(k1({},Th),{},{coordinate:i.coordinate})},iB=(t,r)=>{var n=t?.index;if(n==null)return null;var a=Number(n);if(!oo(a))return n;var i=0,o=1/0;return r.length>0&&(o=r.length-1),String(Math.max(i,Math.min(a,o)))},hM=(t,r,n,a,i,o,l,c)=>{if(!(o==null||c==null)){var u=l[0],f=u==null?void 0:c(u.positions,o);if(f!=null)return f;var A=i?.[Number(o)];if(A)switch(n){case"horizontal":return{x:A.coordinate,y:(a.top+r)/2};default:return{x:(a.left+t)/2,y:A.coordinate}}}},mM=(t,r,n,a)=>{if(r==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&a!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.dataKey)===i})},xv=t=>t.options.tooltipPayloadSearcher,bg=t=>t.tooltip;function nk(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function sk(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?nk(Object(n),!0).forEach(function(a){qoe(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function qoe(t,r,n){return(r=Yoe(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Yoe(t){var r=Xoe(t,"string");return typeof r=="symbol"?r:r+""}function Xoe(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Joe(t,r,n){return Array.isArray(t)&&t&&r+n!==0?t.slice(r,n+1):t}function Zoe(t,r){return t??r}var pM=(t,r,n,a,i,o,l)=>{if(!(r==null||o==null)){var{chartData:c,computedData:u,dataStartIndex:f,dataEndIndex:A}=n,m=[];return t.reduce((p,g)=>{var b,{dataDefinedOnItem:v,settings:y}=g,j=Zoe(v,c),C=Joe(j,f,A),S=(b=y?.dataKey)!==null&&b!==void 0?b:a?.dataKey,E=y?.nameKey,D;if(a!=null&&a.dataKey&&Array.isArray(C)&&!Array.isArray(C[0])&&l==="axis"?D=OL(C,a.dataKey,i):D=o(C,r,u,E),Array.isArray(D))D.forEach(L=>{var I=sk(sk({},y),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});p.push(UI({tooltipEntrySettings:I,dataKey:L.dataKey,payload:L.payload,value:ea(L.payload,L.dataKey),name:L.name}))});else{var k;p.push(UI({tooltipEntrySettings:y,dataKey:S,payload:D,value:ea(D,S),name:(k=ea(D,E))!==null&&k!==void 0?k:y?.name}))}return p},m)}},Ki=t=>{var r=Yn(t);return r==="horizontal"?"xAxis":r==="vertical"?"yAxis":r==="centric"?"angleAxis":"radiusAxis"},wg=t=>t.tooltip.settings.axisId,uo=t=>{var r=Ki(t),n=wg(t);return mv(t,r,n)},oB=Lt([uo,Yn,O7,O3,Ki],q7),ele=Lt([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,r)=>[...t,...r]),tle=Lt([Ki,wg],$3),xw=Lt([ele,uo,tle],K3),rle=Lt([xw],V3),O0=Lt([rle,P0],z3),lB=Lt([O0,uo,xw],G3),nle=Lt([uo],W3),sle=Lt([O0,xw,fv],M7),ale=Lt([sle,P0,Ki],R7),ile=Lt([xw],L7),ole=Lt([O0,uo,ile,Ki],Q7),lle=Lt([H7,Ki,wg],xg),cle=Lt([lle,Ki],V7),ule=Lt([$7,Ki,wg],xg),dle=Lt([ule,Ki],z7),Ale=Lt([K7,Ki,wg],xg),fle=Lt([Ale,Ki],G7),hle=Lt([cle,fle,dle],q3),mle=Lt([uo,nle,ale,ole,hle],Y3),gM=Lt([uo,Yn,O0,lB,fv,Ki,mle],X3),ple=Lt([gM,uo,oB],eB),gle=Lt([uo,gM,ple,Ki],rB),xM=t=>{var r=Ki(t),n=wg(t),a=!1;return gv(t,r,n,a)},yM=Lt([uo,xM],dw),vM=Lt([uo,oB,gle,yM],Z3),xle=Lt([Yn,lB,uo,Ki],rM),yle=Lt([Yn,lB,uo,Ki],nM),vle=(t,r,n,a,i,o,l,c)=>{if(r){var{type:u}=r,f=Tf(t,c);if(a){var A=n==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,m=u==="category"&&a.bandwidth?a.bandwidth()/A:0;return m=c==="angleAxis"&&i!=null&&i?.length>=2?Ri(i[0]-i[1])*2*m:m,f&&l?l.map((p,g)=>({coordinate:a(p)+m,value:p,index:g,offset:m})):a.domain().map((p,g)=>({coordinate:a(p)+m,value:o?o[p]:p,index:g,offset:m}))}}},Pf=Lt([Yn,uo,oB,vM,xM,xle,yle,Ki],vle),cB=Lt([aM,iM,Doe],(t,r,n)=>oM(n.shared,t,r)),bM=t=>t.tooltip.settings.trigger,uB=t=>t.tooltip.settings.defaultIndex,yw=Lt([bg,cB,bM,uB],fM),qh=Lt([yw,O0],iB),wM=Lt([Pf,qh],lM),jM=Lt([yw],t=>{if(t)return t.dataKey}),NM=Lt([bg,cB,bM,uB],mM),ble=Lt([Ff,If,Yn,yi,Pf,uB,NM,xv],hM),wle=Lt([yw,ble],(t,r)=>t!=null&&t.coordinate?t.coordinate:r),jle=Lt([yw],t=>t.active),Nle=Lt([NM,qh,P0,uo,wM,xv,cB],pM),Cle=Lt([Nle],t=>{if(t!=null){var r=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(r))}});function ak(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function ik(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?ak(Object(n),!0).forEach(function(a){Sle(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Sle(t,r,n){return(r=Ble(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Ble(t){var r=Ele(t,"string");return typeof r=="symbol"?r:r+""}function Ele(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Tle=()=>Ir(uo),Fle=()=>{var t=Tle(),r=Ir(Pf),n=Ir(vM);return Ny(ik(ik({},t),{},{scale:n}),r)},CM=()=>Ir(O3),dB=(t,r)=>r,SM=(t,r,n)=>n,AB=(t,r,n,a)=>a,Ile=Lt(Pf,t=>Z2(t,r=>r.coordinate)),fB=Lt([bg,dB,SM,AB],fM),BM=Lt([fB,O0],iB),_le=(t,r,n)=>{if(r!=null){var a=bg(t);return r==="axis"?n==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:n==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},EM=Lt([bg,dB,SM,AB],mM),Yb=Lt([Ff,If,Yn,yi,Pf,AB,EM,xv],hM),kle=Lt([fB,Yb],(t,r)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:r}),TM=Lt(Pf,BM,lM),Ple=Lt([EM,BM,P0,uo,TM,xv,dB],pM),Dle=Lt([fB],t=>({isActive:t.active,activeIndex:t.index})),Ole=(t,r,n,a,i,o,l,c)=>{if(!(!t||!r||!a||!i||!o)){var u=rre(t.chartX,t.chartY,r,n,c);if(u){var f=sre(u,r),A=Kte(f,l,o,a,i),m=nre(r,o,A,u);return{activeIndex:String(A),activeCoordinate:m}}}};function SS(){return SS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},SS.apply(null,arguments)}function ok(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function P1(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?ok(Object(n),!0).forEach(function(a){Lle(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Lle(t,r,n){return(r=Ule(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Ule(t){var r=Mle(t,"string");return typeof r=="symbol"?r:r+""}function Mle(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Rle(t){var{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:u,chartName:f}=t,A=r,m=n,p=a;if(!c||!A||f!=="ScatterChart"&&u!=="axis")return null;var g,b;if(f==="ScatterChart")g=A,b=tne;else if(f==="BarChart")g=rne(l,A,i,o),b=FU;else if(l==="radial"){var{cx:v,cy:y,radius:j,startAngle:C,endAngle:S}=IU(A);g={cx:v,cy:y,startAngle:C,endAngle:S,innerRadius:j,outerRadius:j},b=kU}else g={points:Hne(l,A,i)},b=Xx;var E=typeof c=="object"&&"className"in c?c.className:void 0,D=P1(P1(P1(P1({stroke:"#ccc",pointerEvents:"none"},i),g),Nn(c,!1)),{},{payload:m,payloadIndex:p,className:Ot("recharts-tooltip-cursor",E)});return w.isValidElement(c)?w.cloneElement(c,D):w.createElement(b,D)}function Qle(t){var r=Fle(),n=wU(),a=nw(),i=CM();return w.createElement(Rle,SS({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:a,tooltipAxisBandSize:r,chartName:i}))}var FM=w.createContext(null),Hle=()=>w.useContext(FM),BN={exports:{}},lk;function $le(){return lk||(lk=1,function(t){var r=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function i(u,f,A){this.fn=u,this.context=f,this.once=A||!1}function o(u,f,A,m,p){if(typeof A!="function")throw new TypeError("The listener must be a function");var g=new i(A,m||u,p),b=n?n+f:f;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],g]:u._events[b].push(g):(u._events[b]=g,u._eventsCount++),u}function l(u,f){--u._eventsCount===0?u._events=new a:delete u._events[f]}function c(){this._events=new a,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],A,m;if(this._eventsCount===0)return f;for(m in A=this._events)r.call(A,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(A)):f},c.prototype.listeners=function(f){var A=n?n+f:f,m=this._events[A];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,g=m.length,b=new Array(g);p<g;p++)b[p]=m[p].fn;return b},c.prototype.listenerCount=function(f){var A=n?n+f:f,m=this._events[A];return m?m.fn?1:m.length:0},c.prototype.emit=function(f,A,m,p,g,b){var v=n?n+f:f;if(!this._events[v])return!1;var y=this._events[v],j=arguments.length,C,S;if(y.fn){switch(y.once&&this.removeListener(f,y.fn,void 0,!0),j){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,A),!0;case 3:return y.fn.call(y.context,A,m),!0;case 4:return y.fn.call(y.context,A,m,p),!0;case 5:return y.fn.call(y.context,A,m,p,g),!0;case 6:return y.fn.call(y.context,A,m,p,g,b),!0}for(S=1,C=new Array(j-1);S<j;S++)C[S-1]=arguments[S];y.fn.apply(y.context,C)}else{var E=y.length,D;for(S=0;S<E;S++)switch(y[S].once&&this.removeListener(f,y[S].fn,void 0,!0),j){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,A);break;case 3:y[S].fn.call(y[S].context,A,m);break;case 4:y[S].fn.call(y[S].context,A,m,p);break;default:if(!C)for(D=1,C=new Array(j-1);D<j;D++)C[D-1]=arguments[D];y[S].fn.apply(y[S].context,C)}}return!0},c.prototype.on=function(f,A,m){return o(this,f,A,m,!1)},c.prototype.once=function(f,A,m){return o(this,f,A,m,!0)},c.prototype.removeListener=function(f,A,m,p){var g=n?n+f:f;if(!this._events[g])return this;if(!A)return l(this,g),this;var b=this._events[g];if(b.fn)b.fn===A&&(!p||b.once)&&(!m||b.context===m)&&l(this,g);else{for(var v=0,y=[],j=b.length;v<j;v++)(b[v].fn!==A||p&&!b[v].once||m&&b[v].context!==m)&&y.push(b[v]);y.length?this._events[g]=y.length===1?y[0]:y:l(this,g)}return this},c.prototype.removeAllListeners=function(f){var A;return f?(A=n?n+f:f,this._events[A]&&l(this,A)):(this._events=new a,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c}(BN)),BN.exports}var Kle=$le();const Vle=vc(Kle);var _y=new Vle,BS="recharts.syncEvent.tooltip",ck="recharts.syncEvent.brush";function hB(t,r){if(r){var n=Number.parseInt(r,10);if(!Pl(n))return t?.[n]}}var zle={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},IM=ul({name:"options",initialState:zle,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Gle=IM.reducer,{createEventEmitter:Wle}=IM.actions;function qle(t){return t.tooltip.syncInteraction}var Yle={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},_M=ul({name:"chartData",initialState:Yle,reducers:{setChartData(t,r){if(t.chartData=r.payload,r.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}r.payload.length>0&&t.dataEndIndex!==r.payload.length-1&&(t.dataEndIndex=r.payload.length-1)},setComputedData(t,r){t.computedData=r.payload},setDataStartEndIndexes(t,r){var{startIndex:n,endIndex:a}=r.payload;n!=null&&(t.dataStartIndex=n),a!=null&&(t.dataEndIndex=a)}}}),{setChartData:uk,setDataStartEndIndexes:Xle,setComputedData:kCe}=_M.actions,Jle=_M.reducer,kM=()=>{};function Zle(){var t=Ir(L3),r=Ir(U3),n=ua(),a=Ir(I7),i=Ir(Pf),o=nw(),l=s3(),c=Ir(u=>u.rootProps.className);w.useEffect(()=>{if(t==null)return kM;var u=(f,A,m)=>{if(r!==m&&t===f){if(a==="index"){n(A);return}if(i!=null){var p;if(typeof a=="function"){var g={activeTooltipIndex:A.payload.index==null?void 0:Number(A.payload.index),isTooltipActive:A.payload.active,activeIndex:A.payload.index==null?void 0:Number(A.payload.index),activeLabel:A.payload.label,activeDataKey:A.payload.dataKey,activeCoordinate:A.payload.coordinate},b=a(i,g);p=i[b]}else a==="value"&&(p=i.find(k=>String(k.value)===A.payload.label));var{coordinate:v}=A.payload;if(p==null||A.payload.active===!1||v==null||l==null){n(NS({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:y,y:j}=v,C=Math.min(y,l.x+l.width),S=Math.min(j,l.y+l.height),E={x:o==="horizontal"?p.coordinate:C,y:o==="horizontal"?S:p.coordinate},D=NS({active:A.payload.active,coordinate:E,dataKey:A.payload.dataKey,index:String(p.index),label:A.payload.label});n(D)}}};return _y.on(BS,u),()=>{_y.off(BS,u)}},[c,n,r,t,a,i,o,l])}function ece(){var t=Ir(L3),r=Ir(U3),n=ua();w.useEffect(()=>{if(t==null)return kM;var a=(i,o,l)=>{r!==l&&t===i&&n(Xle(o))};return _y.on(ck,a),()=>{_y.off(ck,a)}},[n,r,t])}function tce(){var t=ua();w.useEffect(()=>{t(Wle())},[t]),Zle(),ece()}function rce(t,r,n,a,i,o){var l=Ir(p=>_le(p,t,r)),c=Ir(U3),u=Ir(L3),f=Ir(I7),A=Ir(qle),m=A?.active;w.useEffect(()=>{if(!m&&u!=null&&c!=null){var p=NS({active:o,coordinate:n,dataKey:l,index:i,label:typeof a=="number"?String(a):a});_y.emit(BS,u,p,c)}},[m,n,l,i,a,c,u,f,o])}function dk(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function Ak(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?dk(Object(n),!0).forEach(function(a){nce(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function nce(t,r,n){return(r=sce(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function sce(t){var r=ace(t,"string");return typeof r=="symbol"?r:r+""}function ace(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function ice(t){return t.dataKey}function oce(t,r){return w.isValidElement(t)?w.cloneElement(t,r):typeof t=="function"?w.createElement(t,r):w.createElement(kre,r)}var fk=[],lce={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!I0.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Jx(t){var r=iu(t,lce),{active:n,allowEscapeViewBox:a,animationDuration:i,animationEasing:o,content:l,filterNull:c,isAnimationActive:u,offset:f,payloadUniqBy:A,position:m,reverseDirection:p,useTranslate3d:g,wrapperStyle:b,cursor:v,shared:y,trigger:j,defaultIndex:C,portal:S,axisId:E}=r,D=ua(),k=typeof C=="number"?String(C):C;w.useEffect(()=>{D(Moe({shared:y,trigger:j,axisId:E,active:n,defaultIndex:k}))},[D,y,j,E,n,k]);var L=s3(),I=SU(),Y=Poe(y),{activeIndex:Q,isActive:H}=Ir(ae=>Dle(ae,Y,j,k)),U=Ir(ae=>Ple(ae,Y,j,k)),K=Ir(ae=>TM(ae,Y,j,k)),X=Ir(ae=>kle(ae,Y,j,k)),Z=U,ee=Hle(),de=n??H,[Ne,Se]=fU([Z,de]),ue=Y==="axis"?K:void 0;rce(Y,j,X,ue,Q,de);var xe=S??ee;if(xe==null)return null;var R=Z??fk;de||(R=fk),c&&R.length&&(R=cU(Z.filter(ae=>ae.value!=null&&(ae.hide!==!0||r.includeHidden)),A,ice));var G=R.length>0,ne=w.createElement(Rre,{allowEscapeViewBox:a,animationDuration:i,animationEasing:o,isAnimationActive:u,active:de,coordinate:X,hasPayload:G,offset:f,position:m,reverseDirection:p,useTranslate3d:g,viewBox:L,wrapperStyle:b,lastBoundingBox:Ne,innerRef:Se,hasPortalFromProps:!!S},oce(l,Ak(Ak({},r),{},{payload:R,label:ue,active:de,coordinate:X,accessibilityLayer:I})));return w.createElement(w.Fragment,null,FO.createPortal(ne,xe),de&&w.createElement(Qle,{cursor:v,tooltipEventType:Y,coordinate:X,payload:Z,index:Q}))}var EN={},TN={},FN={},hk;function cce(){return hk||(hk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(n,a,{signal:i,edges:o}={}){let l,c=null;const u=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),A=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},m=()=>{f&&A(),v()};let p=null;const g=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,m()},a)},b=()=>{p!==null&&(clearTimeout(p),p=null)},v=()=>{b(),l=void 0,c=null},y=()=>{A()},j=function(...C){if(i?.aborted)return;l=this,c=C;const S=p==null;g(),u&&S&&A()};return j.schedule=g,j.cancel=v,j.flush=y,i?.addEventListener("abort",v,{once:!0}),j}t.debounce=r}(FN)),FN}var mk;function uce(){return mk||(mk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=cce();function n(a,i=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:c=!0,maxWait:u}=o,f=Array(2);l&&(f[0]="leading"),c&&(f[1]="trailing");let A,m=null;const p=r.debounce(function(...v){A=a.apply(this,v),m=null},i,{edges:f}),g=function(...v){return u!=null&&(m===null&&(m=Date.now()),Date.now()-m>=u)?(A=a.apply(this,v),m=Date.now(),p.cancel(),p.schedule(),A):(p.apply(this,v),A)},b=()=>(p.flush(),A);return g.cancel=p.cancel,g.flush=b,g}t.debounce=n}(TN)),TN}var pk;function dce(){return pk||(pk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=uce();function n(a,i=0,o={}){const{leading:l=!0,trailing:c=!0}=o;return r.debounce(a,i,{leading:l,maxWait:i,trailing:c})}t.throttle=n}(EN)),EN}var IN,gk;function Ace(){return gk||(gk=1,IN=dce().throttle),IN}var fce=Ace();const hce=vc(fce);var Zx=function(r,n){for(var a=arguments.length,i=new Array(a>2?a-2:0),o=2;o<a;o++)i[o-2]=arguments[o]};function xk(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function _N(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?xk(Object(n),!0).forEach(function(a){mce(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function mce(t,r,n){return(r=pce(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function pce(t){var r=gce(t,"string");return typeof r=="symbol"?r:r+""}function gce(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var ey=w.forwardRef((t,r)=>{var{aspect:n,initialDimension:a={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:l=0,minHeight:c,maxHeight:u,children:f,debounce:A=0,id:m,className:p,onResize:g,style:b={}}=t,v=w.useRef(null),y=w.useRef();y.current=g,w.useImperativeHandle(r,()=>v.current);var[j,C]=w.useState({containerWidth:a.width,containerHeight:a.height}),S=w.useCallback((D,k)=>{C(L=>{var I=Math.round(D),Y=Math.round(k);return L.containerWidth===I&&L.containerHeight===Y?L:{containerWidth:I,containerHeight:Y}})},[]);w.useEffect(()=>{var D=Y=>{var Q,{width:H,height:U}=Y[0].contentRect;S(H,U),(Q=y.current)===null||Q===void 0||Q.call(y,H,U)};A>0&&(D=hce(D,A,{trailing:!0,leading:!1}));var k=new ResizeObserver(D),{width:L,height:I}=v.current.getBoundingClientRect();return S(L,I),k.observe(v.current),()=>{k.disconnect()}},[S,A]);var E=w.useMemo(()=>{var{containerWidth:D,containerHeight:k}=j;if(D<0||k<0)return null;Zx(Xm(i)||Xm(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),Zx(!n||n>0,"The aspect(%s) must be greater than zero.",n);var L=Xm(i)?D:i,I=Xm(o)?k:o;return n&&n>0&&(L?I=L/n:I&&(L=I*n),u&&I>u&&(I=u)),Zx(L>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,I,i,o,l,c,n),w.Children.map(f,Y=>w.cloneElement(Y,{width:L,height:I,style:_N({width:L,height:I},Y.props.style)}))},[n,f,o,u,c,l,j,i]);return w.createElement("div",{id:m?"".concat(m):void 0,className:Ot("recharts-responsive-container",p),style:_N(_N({},b),{},{width:i,height:o,minWidth:l,minHeight:c,maxHeight:u}),ref:v},w.createElement("div",{style:{width:0,height:0,overflow:"visible"}},E))}),jg=t=>null;jg.displayName="Cell";function yk(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function ES(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?yk(Object(n),!0).forEach(function(a){xce(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function xce(t,r,n){return(r=yce(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function yce(t){var r=vce(t,"string");return typeof r=="symbol"?r:r+""}function vce(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Cp={widthCache:{},cacheCount:0},bce=2e3,wce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vk="recharts_measurement_span";function jce(t){var r=ES({},t);return Object.keys(r).forEach(n=>{r[n]||delete r[n]}),r}var ty=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||I0.isSsr)return{width:0,height:0};var a=jce(n),i=JSON.stringify({text:r,copyStyle:a});if(Cp.widthCache[i])return Cp.widthCache[i];try{var o=document.getElementById(vk);o||(o=document.createElement("span"),o.setAttribute("id",vk),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var l=ES(ES({},wce),a);Object.assign(o.style,l),o.textContent="".concat(r);var c=o.getBoundingClientRect(),u={width:c.width,height:c.height};return Cp.widthCache[i]=u,++Cp.cacheCount>bce&&(Cp.cacheCount=0,Cp.widthCache={}),u}catch{return{width:0,height:0}}},bk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Nce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Cce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,PM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Sce=Object.keys(PM),kp="NaN";function Bce(t,r){return t*PM[r]}class Bl{static parse(r){var n,[,a,i]=(n=Cce.exec(r))!==null&&n!==void 0?n:[];return new Bl(parseFloat(a),i??"")}constructor(r,n){this.num=r,this.unit=n,this.num=r,this.unit=n,Pl(r)&&(this.unit=""),n!==""&&!Nce.test(n)&&(this.num=NaN,this.unit=""),Sce.includes(n)&&(this.num=Bce(r,n),this.unit="px")}add(r){return this.unit!==r.unit?new Bl(NaN,""):new Bl(this.num+r.num,this.unit)}subtract(r){return this.unit!==r.unit?new Bl(NaN,""):new Bl(this.num-r.num,this.unit)}multiply(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new Bl(NaN,""):new Bl(this.num*r.num,this.unit||r.unit)}divide(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new Bl(NaN,""):new Bl(this.num/r.num,this.unit||r.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Pl(this.num)}}function DM(t){if(t.includes(kp))return kp;for(var r=t;r.includes("*")||r.includes("/");){var n,[,a,i,o]=(n=bk.exec(r))!==null&&n!==void 0?n:[],l=Bl.parse(a??""),c=Bl.parse(o??""),u=i==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return kp;r=r.replace(bk,u.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var f,[,A,m,p]=(f=wk.exec(r))!==null&&f!==void 0?f:[],g=Bl.parse(A??""),b=Bl.parse(p??""),v=m==="+"?g.add(b):g.subtract(b);if(v.isNaN())return kp;r=r.replace(wk,v.toString())}return r}var jk=/\(([^()]*)\)/;function Ece(t){for(var r=t,n;(n=jk.exec(r))!=null;){var[,a]=n;r=r.replace(jk,DM(a))}return r}function Tce(t){var r=t.replace(/\s+/g,"");return r=Ece(r),r=DM(r),r}function Fce(t){try{return Tce(t)}catch{return kp}}function kN(t){var r=Fce(t.slice(5,-1));return r===kp?"":r}var Ice=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_ce=["dx","dy","angle","className","breakAll"];function TS(){return TS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},TS.apply(null,arguments)}function Nk(t,r){if(t==null)return{};var n,a,i=kce(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kce(t,r){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;n[a]=t[a]}return n}var OM=/[ \f\n\r\t\v\u2028\u2029]+/,LM=t=>{var{children:r,breakAll:n,style:a}=t;try{var i=[];Ks(r)||(n?i=r.toString().split(""):i=r.toString().split(OM));var o=i.map(c=>({word:c,width:ty(c,a).width})),l=n?0:ty(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Pce=(t,r,n,a,i)=>{var{maxLines:o,children:l,style:c,breakAll:u}=t,f=wr(o),A=l,m=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce((U,K)=>{var{word:X,width:Z}=K,ee=U[U.length-1];if(ee&&(a==null||i||ee.width+Z+n<Number(a)))ee.words.push(X),ee.width+=Z+n;else{var de={words:[X],width:Z};U.push(de)}return U},[])},p=m(r),g=Q=>Q.reduce((H,U)=>H.width>U.width?H:U);if(!f||i)return p;var b=p.length>o||g(p).width>Number(a);if(!b)return p;for(var v="…",y=Q=>{var H=A.slice(0,Q),U=LM({breakAll:u,style:c,children:H+v}).wordsWithComputedWidth,K=m(U),X=K.length>o||g(K).width>Number(a);return[X,K]},j=0,C=A.length-1,S=0,E;j<=C&&S<=A.length-1;){var D=Math.floor((j+C)/2),k=D-1,[L,I]=y(k),[Y]=y(D);if(!L&&!Y&&(j=D+1),L&&Y&&(C=D-1),!L&&Y){E=I;break}S++}return E||p},Ck=t=>{var r=Ks(t)?[]:t.toString().split(OM);return[{words:r}]},Dce=t=>{var{width:r,scaleToFit:n,children:a,style:i,breakAll:o,maxLines:l}=t;if((r||n)&&!I0.isSsr){var c,u,f=LM({breakAll:o,children:a,style:i});if(f){var{wordsWithComputedWidth:A,spaceWidth:m}=f;c=A,u=m}else return Ck(a);return Pce({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return Ck(a)},Sk="#808080",vw=w.forwardRef((t,r)=>{var{x:n=0,y:a=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:l=!1,textAnchor:c="start",verticalAnchor:u="end",fill:f=Sk}=t,A=Nk(t,Ice),m=w.useMemo(()=>Dce({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:l,style:A.style,width:A.width}),[A.breakAll,A.children,A.maxLines,l,A.style,A.width]),{dx:p,dy:g,angle:b,className:v,breakAll:y}=A,j=Nk(A,_ce);if(!oA(n)||!oA(a))return null;var C=n+(wr(p)?p:0),S=a+(wr(g)?g:0),E;switch(u){case"start":E=kN("calc(".concat(o,")"));break;case"middle":E=kN("calc(".concat((m.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:E=kN("calc(".concat(m.length-1," * -").concat(i,")"));break}var D=[];if(l){var k=m[0].width,{width:L}=A;D.push("scale(".concat(wr(L)?L/k:1,")"))}return b&&D.push("rotate(".concat(b,", ").concat(C,", ").concat(S,")")),D.length&&(j.transform=D.join(" ")),w.createElement("text",TS({},Nn(j,!0),{ref:r,x:C,y:S,className:Ot("recharts-text",v),textAnchor:c,fill:f.includes("url")?Sk:f}),m.map((I,Y)=>{var Q=I.words.join(y?"":" ");return w.createElement("tspan",{x:C,dy:Y===0?E:i,key:"".concat(Q,"-").concat(Y)},Q)}))});vw.displayName="Text";var Oce=["offset"],Lce=["labelRef"];function Bk(t,r){if(t==null)return{};var n,a,i=Uce(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Uce(t,r){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;n[a]=t[a]}return n}function Ek(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function Xa(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Ek(Object(n),!0).forEach(function(a){Mce(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Mce(t,r,n){return(r=Rce(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Rce(t){var r=Qce(t,"string");return typeof r=="symbol"?r:r+""}function Qce(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function rf(){return rf=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},rf.apply(null,arguments)}var Hce=t=>{var{value:r,formatter:n}=t,a=Ks(t.children)?r:t.children;return typeof n=="function"?n(a):a},mB=t=>t!=null&&typeof t=="function",$ce=(t,r)=>{var n=Ri(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Kce=(t,r,n)=>{var{position:a,viewBox:i,offset:o,className:l}=t,{cx:c,cy:u,innerRadius:f,outerRadius:A,startAngle:m,endAngle:p,clockWise:g}=i,b=(f+A)/2,v=$ce(m,p),y=v>=0?1:-1,j,C;a==="insideStart"?(j=m+y*o,C=g):a==="insideEnd"?(j=p-y*o,C=!g):a==="end"&&(j=p+y*o,C=g),C=v<=0?C:!C;var S=Za(c,u,b,j),E=Za(c,u,b,j+(C?1:-1)*359),D="M".concat(S.x,",").concat(S.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(C?0:1,`,
    `).concat(E.x,",").concat(E.y),k=Ks(t.id)?N0("recharts-radial-line-"):t.id;return w.createElement("text",rf({},n,{dominantBaseline:"central",className:Ot("recharts-radial-bar-label",l)}),w.createElement("defs",null,w.createElement("path",{id:k,d:D})),w.createElement("textPath",{xlinkHref:"#".concat(k)},r))},Vce=t=>{var{viewBox:r,offset:n,position:a}=t,{cx:i,cy:o,innerRadius:l,outerRadius:c,startAngle:u,endAngle:f}=r,A=(u+f)/2;if(a==="outside"){var{x:m,y:p}=Za(i,o,c+n,A);return{x:m,y:p,textAnchor:m>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var g=(l+c)/2,{x:b,y:v}=Za(i,o,g,A);return{x:b,y:v,textAnchor:"middle",verticalAnchor:"middle"}},zce=(t,r)=>{var{parentViewBox:n,offset:a,position:i}=t,{x:o,y:l,width:c,height:u}=r,f=u>=0?1:-1,A=f*a,m=f>0?"end":"start",p=f>0?"start":"end",g=c>=0?1:-1,b=g*a,v=g>0?"end":"start",y=g>0?"start":"end";if(i==="top"){var j={x:o+c/2,y:l-f*a,textAnchor:"middle",verticalAnchor:m};return Xa(Xa({},j),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var C={x:o+c/2,y:l+u+A,textAnchor:"middle",verticalAnchor:p};return Xa(Xa({},C),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(i==="left"){var S={x:o-b,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return Xa(Xa({},S),n?{width:Math.max(S.x-n.x,0),height:u}:{})}if(i==="right"){var E={x:o+c+b,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return Xa(Xa({},E),n?{width:Math.max(n.x+n.width-E.x,0),height:u}:{})}var D=n?{width:c,height:u}:{};return i==="insideLeft"?Xa({x:o+b,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},D):i==="insideRight"?Xa({x:o+c-b,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},D):i==="insideTop"?Xa({x:o+c/2,y:l+A,textAnchor:"middle",verticalAnchor:p},D):i==="insideBottom"?Xa({x:o+c/2,y:l+u-A,textAnchor:"middle",verticalAnchor:m},D):i==="insideTopLeft"?Xa({x:o+b,y:l+A,textAnchor:y,verticalAnchor:p},D):i==="insideTopRight"?Xa({x:o+c-b,y:l+A,textAnchor:v,verticalAnchor:p},D):i==="insideBottomLeft"?Xa({x:o+b,y:l+u-A,textAnchor:y,verticalAnchor:m},D):i==="insideBottomRight"?Xa({x:o+c-b,y:l+u-A,textAnchor:v,verticalAnchor:m},D):i&&typeof i=="object"&&(wr(i.x)||Xm(i.x))&&(wr(i.y)||Xm(i.y))?Xa({x:o+ll(i.x,c),y:l+ll(i.y,u),textAnchor:"end",verticalAnchor:"end"},D):Xa({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},D)},Gce=t=>"cx"in t&&wr(t.cx);function dc(t){var{offset:r=5}=t,n=Bk(t,Oce),a=Xa({offset:r},n),{viewBox:i,position:o,value:l,children:c,content:u,className:f="",textBreakAll:A,labelRef:m}=a,p=s3(),g=i||p;if(!g||Ks(l)&&Ks(c)&&!w.isValidElement(u)&&typeof u!="function")return null;if(w.isValidElement(u)){var{labelRef:b}=a,v=Bk(a,Lce);return w.cloneElement(u,v)}var y;if(typeof u=="function"){if(y=w.createElement(u,a),w.isValidElement(y))return y}else y=Hce(a);var j=Gce(g),C=Nn(a,!0);if(j&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Kce(a,y,C);var S=j?Vce(a):zce(a,g);return w.createElement(vw,rf({ref:m,className:Ot("recharts-label",f)},C,S,{breakAll:A}),y)}dc.displayName="Label";var UM=t=>{var{cx:r,cy:n,angle:a,startAngle:i,endAngle:o,r:l,radius:c,innerRadius:u,outerRadius:f,x:A,y:m,top:p,left:g,width:b,height:v,clockWise:y,labelViewBox:j}=t;if(j)return j;if(wr(b)&&wr(v)){if(wr(A)&&wr(m))return{x:A,y:m,width:b,height:v};if(wr(p)&&wr(g))return{x:p,y:g,width:b,height:v}}if(wr(A)&&wr(m))return{x:A,y:m,width:0,height:0};if(wr(r)&&wr(n))return{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:y};if(t.viewBox)return t.viewBox},Wce=(t,r,n)=>{if(!t)return null;var a={viewBox:r,labelRef:n};return t===!0?w.createElement(dc,rf({key:"label-implicit"},a)):oA(t)?w.createElement(dc,rf({key:"label-implicit",value:t},a)):w.isValidElement(t)?t.type===dc?w.cloneElement(t,Xa({key:"label-implicit"},a)):w.createElement(dc,rf({key:"label-implicit",content:t},a)):mB(t)?w.createElement(dc,rf({key:"label-implicit",content:t},a)):t&&typeof t=="object"?w.createElement(dc,rf({},t,{key:"label-implicit"},a)):null},qce=function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&a&&!r.label)return null;var{children:i,labelRef:o}=r,l=UM(r),c=lv(i,dc).map((f,A)=>w.cloneElement(f,{viewBox:n||l,key:"label-".concat(A)}));if(!a)return c;var u=Wce(r.label,n||l,o);return[u,...c]};dc.parseViewBox=UM;dc.renderCallByParent=qce;var PN={},DN={},Tk;function Yce(){return Tk||(Tk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(n){return n[n.length-1]}t.last=r}(DN)),DN}var ON={},Fk;function Xce(){return Fk||(Fk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=r}(ON)),ON}var Ik;function Jce(){return Ik||(Ik=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=Yce(),n=Xce(),a=q5();function i(o){if(a.isArrayLike(o))return r.last(n.toArray(o))}t.last=i}(PN)),PN}var LN,_k;function Zce(){return _k||(_k=1,LN=Jce().last),LN}var eue=Zce();const tue=vc(eue);var rue=["valueAccessor"],nue=["data","dataKey","clockWise","id","textBreakAll"];function Xb(){return Xb=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Xb.apply(null,arguments)}function kk(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function Pk(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?kk(Object(n),!0).forEach(function(a){sue(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function sue(t,r,n){return(r=aue(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function aue(t){var r=iue(t,"string");return typeof r=="symbol"?r:r+""}function iue(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Dk(t,r){if(t==null)return{};var n,a,i=oue(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oue(t,r){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;n[a]=t[a]}return n}var lue=t=>Array.isArray(t.value)?tue(t.value):t.value;function Mh(t){var{valueAccessor:r=lue}=t,n=Dk(t,rue),{data:a,dataKey:i,clockWise:o,id:l,textBreakAll:c}=n,u=Dk(n,nue);return!a||!a.length?null:w.createElement(Ra,{className:"recharts-label-list"},a.map((f,A)=>{var m=Ks(i)?r(f,A):ea(f&&f.payload,i),p=Ks(l)?{}:{id:"".concat(l,"-").concat(A)};return w.createElement(dc,Xb({},Nn(f,!0),u,p,{parentViewBox:f.parentViewBox,value:m,textBreakAll:c,viewBox:dc.parseViewBox(Ks(o)?f:Pk(Pk({},f),{},{clockWise:o})),key:"label-".concat(A),index:A}))}))}Mh.displayName="LabelList";function cue(t,r){return t?t===!0?w.createElement(Mh,{key:"labelList-implicit",data:r}):w.isValidElement(t)||mB(t)?w.createElement(Mh,{key:"labelList-implicit",data:r,content:t}):typeof t=="object"?w.createElement(Mh,Xb({data:r},t,{key:"labelList-implicit"})):null:null}function uue(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:a}=t,i=lv(a,Mh).map((l,c)=>w.cloneElement(l,{data:r,key:"labelList-".concat(c)}));if(!n)return i;var o=cue(t.label,r);return[o,...i]}Mh.renderCallByParent=uue;function FS(){return FS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},FS.apply(null,arguments)}var MM=t=>{var{cx:r,cy:n,r:a,className:i}=t,o=Ot("recharts-dot",i);return r===+r&&n===+n&&a===+a?w.createElement("circle",FS({},Nn(t,!1),Q5(t),{className:o,cx:r,cy:n,r:a})):null},RM=t=>t.graphicalItems.polarItems,due=Lt([Qa,hv],$3),pB=Lt([RM,Ha,due],K3),Aue=Lt([pB],V3),gB=Lt([Aue,_3],z3),fue=Lt([gB,Ha,pB],G3),hue=Lt([gB,Ha,pB],(t,r,n)=>n.length>0?t.flatMap(a=>n.flatMap(i=>{var o,l=ea(a,(o=r.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):r?.dataKey!=null?t.map(a=>({value:ea(a,r.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]}))),Ok=()=>{},mue=Lt([Ha,W7,Ok,hue,Ok],Y3),QM=Lt([Ha,Yn,gB,fue,fv,Qa,mue],X3),pue=Lt([QM,Ha,yg],eB);Lt([Ha,QM,pue,Qa],rB);var gue={radiusAxis:{},angleAxis:{}},HM=ul({name:"polarAxis",initialState:gue,reducers:{addRadiusAxis(t,r){t.radiusAxis[r.payload.id]=r.payload},removeRadiusAxis(t,r){delete t.radiusAxis[r.payload.id]},addAngleAxis(t,r){t.angleAxis[r.payload.id]=r.payload},removeAngleAxis(t,r){delete t.angleAxis[r.payload.id]}}}),{addRadiusAxis:PCe,removeRadiusAxis:DCe,addAngleAxis:OCe,removeAngleAxis:LCe}=HM.actions,xue=HM.reducer;function Lk(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function Uk(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Lk(Object(n),!0).forEach(function(a){yue(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function yue(t,r,n){return(r=vue(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function vue(t){var r=bue(t,"string");return typeof r=="symbol"?r:r+""}function bue(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var xB=(t,r)=>r,wue=[],yB=(t,r,n)=>n?.length===0?wue:n,$M=Lt([_3,xB,yB],(t,r,n)=>{var{chartData:a}=t,i;if(r?.data!=null&&r.data.length>0?i=r.data:i=a,(!i||!i.length)&&n!=null&&(i=n.map(o=>Uk(Uk({},r.presentationProps),o.props))),i!=null)return i}),jue=Lt([$M,xB,yB],(t,r,n)=>{if(t!=null)return t.map((a,i)=>{var o,l=ea(a,r.nameKey,r.name),c;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?c=n[i].props.fill:typeof a=="object"&&a!=null&&"fill"in a?c=a.fill:c=r.fill,{value:hg(l,r.dataKey),color:c,payload:a,type:r.legendType}})}),Nue=Lt([RM,xB],(t,r)=>{if(t.some(n=>n.type==="pie"&&r.dataKey===n.dataKey&&r.data===n.data))return r}),Cue=Lt([$M,Nue,yB,yi],(t,r,n,a)=>{if(!(r==null||t==null))return pde({offset:a,pieSettings:r,displayedData:t,cells:n})}),Sue={countOfBars:0,cartesianItems:[],polarItems:[]},KM=ul({name:"graphicalItems",initialState:Sue,reducers:{addBar(t){t.countOfBars+=1},removeBar(t){t.countOfBars-=1},addCartesianGraphicalItem(t,r){t.cartesianItems.push(r.payload)},replaceCartesianGraphicalItem(t,r){var{prev:n,next:a}=r.payload,i=uf(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=a)},removeCartesianGraphicalItem(t,r){var n=uf(t).cartesianItems.indexOf(r.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,r){t.polarItems.push(r.payload)},removePolarGraphicalItem(t,r){var n=uf(t).polarItems.indexOf(r.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addBar:Bue,removeBar:Eue,addCartesianGraphicalItem:Tue,replaceCartesianGraphicalItem:Fue,removeCartesianGraphicalItem:Iue,addPolarGraphicalItem:_ue,removePolarGraphicalItem:kue}=KM.actions,Pue=KM.reducer;function Mk(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function Rk(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Mk(Object(n),!0).forEach(function(a){Due(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Due(t,r,n){return(r=Oue(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Oue(t){var r=Lue(t,"string");return typeof r=="symbol"?r:r+""}function Lue(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Uue(t){var r=ua(),n=w.useRef(null);return w.useEffect(()=>{var a=Rk(Rk({},t),{},{stackId:t3(t.stackId)});n.current===null?r(Tue(a)):n.current!==a&&r(Fue({prev:n.current,next:a})),n.current=a},[r,t]),w.useEffect(()=>()=>{n.current&&(r(Iue(n.current)),n.current=null)},[r]),null}function Mue(t){var r=ua();return w.useEffect(()=>(r(_ue(t)),()=>{r(kue(t))}),[r,t]),null}var UN={},Qk;function Rue(){return Qk||(Qk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let a=n;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(n)===a}t.isPlainObject=r}(UN)),UN}var MN,Hk;function Que(){return Hk||(Hk=1,MN=Rue().isPlainObject),MN}var Hue=Que();const $ue=vc(Hue);function Jb(){return Jb=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Jb.apply(null,arguments)}var $k=(t,r,n,a,i)=>{var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},Kue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Vue=t=>{var r=iu(t,Kue),n=w.useRef(),[a,i]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&i(y)}catch{}},[]);var{x:o,y:l,upperWidth:c,lowerWidth:u,height:f,className:A}=r,{animationEasing:m,animationDuration:p,animationBegin:g,isUpdateAnimationActive:b}=r;if(o!==+o||l!==+l||c!==+c||u!==+u||f!==+f||c===0&&u===0||f===0)return null;var v=Ot("recharts-trapezoid",A);return b?w.createElement(Gh,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:f,x:o,y:l},to:{upperWidth:c,lowerWidth:u,height:f,x:o,y:l},duration:p,animationEasing:m,isActive:b},y=>{var{upperWidth:j,lowerWidth:C,height:S,x:E,y:D}=y;return w.createElement(Gh,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,easing:m},w.createElement("path",Jb({},Nn(r,!0),{className:v,d:$k(E,D,j,C,S),ref:n})))}):w.createElement("g",null,w.createElement("path",Jb({},Nn(r,!0),{className:v,d:$k(o,l,c,u,f)})))},zue=["option","shapeType","propTransformer","activeClassName","isActive"];function Gue(t,r){if(t==null)return{};var n,a,i=Wue(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wue(t,r){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;n[a]=t[a]}return n}function Kk(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function Zb(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Kk(Object(n),!0).forEach(function(a){que(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function que(t,r,n){return(r=Yue(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Yue(t){var r=Xue(t,"string");return typeof r=="symbol"?r:r+""}function Xue(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Jue(t,r){return Zb(Zb({},r),t)}function Zue(t,r){return t==="symbols"}function Vk(t){var{shapeType:r,elementProps:n}=t;switch(r){case"rectangle":return w.createElement(FU,n);case"trapezoid":return w.createElement(Vue,n);case"sector":return w.createElement(kU,n);case"symbols":if(Zue(r))return w.createElement(z5,n);break;default:return null}}function ede(t){return w.isValidElement(t)?t.props:t}function VM(t){var{option:r,shapeType:n,propTransformer:a=Jue,activeClassName:i="recharts-active-shape",isActive:o}=t,l=Gue(t,zue),c;if(w.isValidElement(r))c=w.cloneElement(r,Zb(Zb({},l),ede(r)));else if(typeof r=="function")c=r(l);else if($ue(r)&&typeof r!="boolean"){var u=a(r,l);c=w.createElement(Vk,{shapeType:n,elementProps:u})}else{var f=l;c=w.createElement(Vk,{shapeType:n,elementProps:f})}return o?w.createElement(Ra,{className:i},c):c}var vB=(t,r)=>{var n=ua();return(a,i)=>o=>{t?.(a,i,o),n(uM({activeIndex:String(i),activeDataKey:r,activeCoordinate:a.tooltipPosition}))}},bB=t=>{var r=ua();return(n,a)=>i=>{t?.(n,a,i),r(Roe())}},wB=(t,r)=>{var n=ua();return(a,i)=>o=>{t?.(a,i,o),n(Qoe({activeIndex:String(i),activeDataKey:r,activeCoordinate:a.tooltipPosition}))}};function jB(t){var{fn:r,args:n}=t,a=ua(),i=dl();return w.useEffect(()=>{if(!i){var o=r(n);return a(Loe(o)),()=>{a(Uoe(o))}}},[r,n,a,i]),null}var zM=()=>{};function GM(t){var{legendPayload:r}=t,n=ua(),a=dl();return w.useEffect(()=>a?zM:(n(NU(r)),()=>{n(CU(r))}),[n,a,r]),null}function tde(t){var{legendPayload:r}=t,n=ua(),a=Ir(Yn);return w.useEffect(()=>a!=="centric"&&a!=="radial"?zM:(n(NU(r)),()=>{n(CU(r))}),[n,a,r]),null}function NB(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(N0(r)),a=w.useRef(t);return a.current!==t&&(n.current=N0(r),a.current=t),n.current}var rde=["onMouseEnter","onClick","onMouseLeave"];function nde(t,r){if(t==null)return{};var n,a,i=sde(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sde(t,r){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;n[a]=t[a]}return n}function zk(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function Ea(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?zk(Object(n),!0).forEach(function(a){bw(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function bw(t,r,n){return(r=ade(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function ade(t){var r=ide(t,"string");return typeof r=="symbol"?r:r+""}function ide(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function S0(){return S0=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},S0.apply(null,arguments)}function ode(t){var r=w.useMemo(()=>Nn(t,!1),[t]),n=w.useMemo(()=>lv(t.children,jg),[t.children]),a=w.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:r}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,r]),i=Ir(o=>jue(o,a,n));return w.createElement(tde,{legendPayload:i})}function lde(t){var{dataKey:r,nameKey:n,sectors:a,stroke:i,strokeWidth:o,fill:l,name:c,hide:u,tooltipType:f}=t;return{dataDefinedOnItem:a?.map(A=>A.tooltipPayload),positions:a?.map(A=>A.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:l,dataKey:r,nameKey:n,name:hg(c,r),hide:u,type:f,color:l,unit:""}}}var cde=(t,r)=>t>r?"start":t<r?"end":"middle",ude=(t,r,n)=>typeof r=="function"?r(t):ll(r,n,n*.8),dde=(t,r,n)=>{var{top:a,left:i,width:o,height:l}=r,c=mU(o,l),u=i+ll(t.cx,o,o/2),f=a+ll(t.cy,l,l/2),A=ll(t.innerRadius,c,0),m=ude(n,t.outerRadius,c),p=t.maxRadius||Math.sqrt(o*o+l*l)/2;return{cx:u,cy:f,innerRadius:A,outerRadius:m,maxRadius:p}},Ade=(t,r)=>{var n=Ri(r-t),a=Math.min(Math.abs(r-t),360);return n*a},fde=(t,r)=>{if(w.isValidElement(t))return w.cloneElement(t,r);if(typeof t=="function")return t(r);var n=Ot("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return w.createElement(Xx,S0({},r,{type:"linear",className:n}))},hde=(t,r,n)=>{if(w.isValidElement(t))return w.cloneElement(t,r);var a=n;if(typeof t=="function"&&(a=t(r),w.isValidElement(a)))return a;var i=Ot("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return w.createElement(vw,S0({},r,{alignmentBaseline:"middle",className:i}),a)};function mde(t){var{sectors:r,props:n,showLabels:a}=t,{label:i,labelLine:o,dataKey:l}=n;if(!a||!i||!r)return null;var c=Nn(n,!1),u=Nn(i,!1),f=Nn(o,!1),A=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,m=r.map((p,g)=>{var b=(p.startAngle+p.endAngle)/2,v=Za(p.cx,p.cy,p.outerRadius+A,b),y=Ea(Ea(Ea(Ea({},c),p),{},{stroke:"none"},u),{},{index:g,textAnchor:cde(v.x,p.cx)},v),j=Ea(Ea(Ea(Ea({},c),p),{},{fill:"none",stroke:p.fill},f),{},{index:g,points:[Za(p.cx,p.cy,p.outerRadius,b),v],key:"line"});return w.createElement(Ra,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(g)},o&&fde(o,j),hde(i,y,ea(p,l)))});return w.createElement(Ra,{className:"recharts-pie-labels"},m)}function WM(t){var{sectors:r,activeShape:n,inactiveShape:a,allOtherPieProps:i,showLabels:o}=t,l=Ir(qh),{onMouseEnter:c,onClick:u,onMouseLeave:f}=i,A=nde(i,rde),m=vB(c,i.dataKey),p=bB(f),g=wB(u,i.dataKey);return r==null?null:w.createElement(w.Fragment,null,r.map((b,v)=>{if(b?.startAngle===0&&b?.endAngle===0&&r.length!==1)return null;var y=n&&String(v)===l,j=l?a:null,C=y?n:j,S=Ea(Ea({},b),{},{stroke:b.stroke,tabIndex:-1,[yU]:v,[vU]:i.dataKey});return w.createElement(Ra,S0({tabIndex:-1,className:"recharts-pie-sector"},ov(A,b,v),{onMouseEnter:m(b,v),onMouseLeave:p(b,v),onClick:g(b,v),key:"sector-".concat(b?.startAngle,"-").concat(b?.endAngle,"-").concat(b.midAngle,"-").concat(v)}),w.createElement(VM,S0({option:C,isActive:y,shapeType:"sector"},S)))}),w.createElement(mde,{sectors:r,props:i,showLabels:o}))}function pde(t){var r,{pieSettings:n,displayedData:a,cells:i,offset:o}=t,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:f,nameKey:A,tooltipType:m}=n,p=Math.abs(n.minAngle),g=Ade(c,u),b=Math.abs(g),v=a.length<=1?0:(r=n.paddingAngle)!==null&&r!==void 0?r:0,y=a.filter(k=>ea(k,f,0)!==0).length,j=(b>=360?y:y-1)*v,C=b-y*p-j,S=a.reduce((k,L)=>{var I=ea(L,f,0);return k+(wr(I)?I:0)},0),E;if(S>0){var D;E=a.map((k,L)=>{var I=ea(k,f,0),Y=ea(k,A,L),Q=dde(n,o,k),H=(wr(I)?I:0)/S,U,K=Ea(Ea({},k),i&&i[L]&&i[L].props);L?U=D.endAngle+Ri(g)*v*(I!==0?1:0):U=c;var X=U+Ri(g)*((I!==0?p:0)+H*C),Z=(U+X)/2,ee=(Q.innerRadius+Q.outerRadius)/2,de=[{name:Y,value:I,payload:K,dataKey:f,type:m}],Ne=Za(Q.cx,Q.cy,ee,Z);return D=Ea(Ea(Ea(Ea({},n.presentationProps),{},{percent:H,cornerRadius:l,name:Y,tooltipPayload:de,midAngle:Z,middleRadius:ee,tooltipPosition:Ne},K),Q),{},{value:ea(k,f),startAngle:U,endAngle:X,payload:K,paddingAngle:Ri(g)*v}),D})}return E}function gde(t){var{props:r,previousSectorsRef:n}=t,{sectors:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,activeShape:u,inactiveShape:f,onAnimationStart:A,onAnimationEnd:m}=r,p=NB(r,"recharts-pie-"),g=n.current,[b,v]=w.useState(!0),y=w.useCallback(()=>{typeof m=="function"&&m(),v(!1)},[m]),j=w.useCallback(()=>{typeof A=="function"&&A(),v(!0)},[A]);return w.createElement(Gh,{begin:o,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},onAnimationStart:j,onAnimationEnd:y,key:p},C=>{var{t:S}=C,E=[],D=a&&a[0],k=D.startAngle;return a.forEach((L,I)=>{var Y=g&&g[I],Q=I>0?zh(L,"paddingAngle",0):0;if(Y){var H=Sh(Y.endAngle-Y.startAngle,L.endAngle-L.startAngle),U=Ea(Ea({},L),{},{startAngle:k+Q,endAngle:k+H(S)+Q});E.push(U),k=U.endAngle}else{var{endAngle:K,startAngle:X}=L,Z=Sh(0,K-X),ee=Z(S),de=Ea(Ea({},L),{},{startAngle:k+Q,endAngle:k+ee+Q});E.push(de),k=de.endAngle}}),n.current=E,w.createElement(Ra,null,w.createElement(WM,{sectors:E,activeShape:u,inactiveShape:f,allOtherPieProps:r,showLabels:!b}))})}function xde(t){var{sectors:r,isAnimationActive:n,activeShape:a,inactiveShape:i}=t,o=w.useRef(null),l=o.current;return n&&r&&r.length&&(!l||l!==r)?w.createElement(gde,{props:t,previousSectorsRef:o}):w.createElement(WM,{sectors:r,activeShape:a,inactiveShape:i,allOtherPieProps:t,showLabels:!0})}function yde(t){var{hide:r,className:n,rootTabIndex:a}=t,i=Ot("recharts-pie",n);return r?null:w.createElement(Ra,{tabIndex:a,className:i},w.createElement(xde,t))}var qM={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!I0.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function vde(t){var r=iu(t,qM),n=w.useMemo(()=>lv(t.children,jg),[t.children]),a=Nn(r,!1),i=w.useMemo(()=>({name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,data:r.data,dataKey:r.dataKey,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,minAngle:r.minAngle,paddingAngle:r.paddingAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,legendType:r.legendType,fill:r.fill,presentationProps:a}),[r.cornerRadius,r.cx,r.cy,r.data,r.dataKey,r.endAngle,r.innerRadius,r.minAngle,r.name,r.nameKey,r.outerRadius,r.paddingAngle,r.startAngle,r.tooltipType,r.legendType,r.fill,a]),o=Ir(l=>Cue(l,i,n));return w.createElement(w.Fragment,null,w.createElement(jB,{fn:lde,args:Ea(Ea({},r),{},{sectors:o})}),w.createElement(yde,S0({},r,{sectors:o})))}class ww extends w.PureComponent{constructor(){super(...arguments),bw(this,"id",N0("recharts-pie-"))}render(){return w.createElement(w.Fragment,null,w.createElement(Mue,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),w.createElement(ode,this.props),w.createElement(vde,this.props),this.props.children)}}bw(ww,"displayName","Pie");bw(ww,"defaultProps",qM);var bde=Lt([yi],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),wde=Lt([bde,Ff,If],(t,r,n)=>{if(!(!t||r==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,r-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),jde=t=>{var r=dl();return Ir(n=>cA(n,"xAxis",t,r))},Nde=t=>{var r=dl();return Ir(n=>cA(n,"yAxis",t,r))},CB=()=>Ir(wde),Cde=()=>Ir(Cle);function Gk(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function Wk(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Gk(Object(n),!0).forEach(function(a){Sde(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Sde(t,r,n){return(r=Bde(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Bde(t){var r=Ede(t,"string");return typeof r=="symbol"?r:r+""}function Ede(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Tde=t=>{var{point:r,childIndex:n,mainColor:a,activeDot:i,dataKey:o}=t;if(i===!1||r.x==null||r.y==null)return null;var l=Wk(Wk({index:n,dataKey:o,cx:r.x,cy:r.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},Nn(i,!1)),Q5(i)),c;return w.isValidElement(i)?c=w.cloneElement(i,l):typeof i=="function"?c=i(l):c=w.createElement(MM,l),w.createElement(Ra,{className:"recharts-active-dot"},c)};function qk(t){var{points:r,mainColor:n,activeDot:a,itemDataKey:i}=t,o=Ir(qh),l=Cde();if(r==null||l==null)return null;var c=r.find(u=>l.includes(u.payload));return Ks(c)?null:Tde({point:c,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:a})}var Fde=()=>{var t=ua();return w.useEffect(()=>(t(Bue()),()=>{t(Eue())})),null},Ide=["children"];function _de(t,r){if(t==null)return{};var n,a,i=kde(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kde(t,r){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;n[a]=t[a]}return n}var Yk=()=>{},YM=w.createContext({addErrorBar:Yk,removeErrorBar:Yk}),Pde={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},XM=w.createContext(Pde);function Dde(t){var{children:r}=t,n=_de(t,Ide);return w.createElement(XM.Provider,{value:n},r)}var Ode=()=>w.useContext(XM),JM=t=>{var{children:r,xAxisId:n,yAxisId:a,zAxisId:i,dataKey:o,data:l,stackId:c,hide:u,type:f,barSize:A}=t,[m,p]=w.useState([]),g=w.useCallback(y=>{p(j=>[...j,y])},[p]),b=w.useCallback(y=>{p(j=>j.filter(C=>C!==y))},[p]),v=dl();return w.createElement(YM.Provider,{value:{addErrorBar:g,removeErrorBar:b}},w.createElement(Uue,{type:f,data:l,xAxisId:n,yAxisId:a,zAxisId:i,dataKey:o,errorBars:m,stackId:c,hide:u,barSize:A,isPanorama:v}),r)};function Lde(t){var{addErrorBar:r,removeErrorBar:n}=w.useContext(YM);return w.useEffect(()=>(r(t),()=>{n(t)}),[r,n,t]),null}var Ude=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function ZM(t,r,n){return(r=Mde(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Mde(t){var r=Rde(t,"string");return typeof r=="symbol"?r:r+""}function Rde(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function ky(){return ky=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ky.apply(null,arguments)}function Qde(t,r){if(t==null)return{};var n,a,i=Hde(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hde(t,r){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;n[a]=t[a]}return n}function $de(t){var{direction:r,width:n,dataKey:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c}=t,u=Qde(t,Ude),f=Nn(u,!1),{data:A,dataPointFormatter:m,xAxisId:p,yAxisId:g,errorBarOffset:b}=Ode(),v=jde(p),y=Nde(g);if(v?.scale==null||y?.scale==null||A==null||r==="x"&&v.type!=="number")return null;var j=A.map(C=>{var{x:S,y:E,value:D,errorVal:k}=m(C,a,r);if(!k)return null;var L=[],I,Y;if(Array.isArray(k)?[I,Y]=k:I=Y=k,r==="x"){var{scale:Q}=v,H=E+b,U=H+n,K=H-n,X=Q(D-I),Z=Q(D+Y);L.push({x1:Z,y1:U,x2:Z,y2:K}),L.push({x1:X,y1:H,x2:Z,y2:H}),L.push({x1:X,y1:U,x2:X,y2:K})}else if(r==="y"){var{scale:ee}=y,de=S+b,Ne=de-n,Se=de+n,ue=ee(D-I),xe=ee(D+Y);L.push({x1:Ne,y1:xe,x2:Se,y2:xe}),L.push({x1:de,y1:ue,x2:de,y2:xe}),L.push({x1:Ne,y1:ue,x2:Se,y2:ue})}var R="".concat(S+b,"px ").concat(E+b,"px");return w.createElement(Ra,ky({className:"recharts-errorBar",key:"bar-".concat(L.map(G=>"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)))},f),L.map(G=>{var ne=i?{transformOrigin:"".concat(G.x1-5,"px")}:void 0;return w.createElement(Gh,{from:{transform:"scaleY(0)",transformOrigin:R},to:{transform:"scaleY(1)",transformOrigin:R},begin:o,easing:c,isActive:i,duration:l,key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2),style:{transformOrigin:R}},w.createElement("line",ky({},G,{style:ne})))}))});return w.createElement(Ra,{className:"recharts-errorBars"},j)}var eR=w.createContext(void 0);function Kde(t){var r=w.useContext(eR);return t??r??"x"}function Vde(t){var{direction:r,children:n}=t;return w.createElement(eR.Provider,{value:r},n)}var tR={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function zde(t){var r=Kde(t.direction),{width:n,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:l}=iu(t,tR);return w.createElement(w.Fragment,null,w.createElement(Lde,{dataKey:t.dataKey,direction:r}),w.createElement($de,ky({},t,{direction:r,width:n,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:l})))}class rR extends w.Component{render(){return w.createElement(zde,this.props)}}ZM(rR,"defaultProps",tR);ZM(rR,"displayName","ErrorBar");var Gde="Invariant failed";function Wde(t,r){throw new Error(Gde)}var qde=["x","y"];function IS(){return IS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},IS.apply(null,arguments)}function Xk(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function kx(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Xk(Object(n),!0).forEach(function(a){Yde(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Yde(t,r,n){return(r=Xde(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Xde(t){var r=Jde(t,"string");return typeof r=="symbol"?r:r+""}function Jde(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Zde(t,r){if(t==null)return{};var n,a,i=eAe(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eAe(t,r){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;n[a]=t[a]}return n}function tAe(t,r){var{x:n,y:a}=t,i=Zde(t,qde),o="".concat(n),l=parseInt(o,10),c="".concat(a),u=parseInt(c,10),f="".concat(r.height||i.height),A=parseInt(f,10),m="".concat(r.width||i.width),p=parseInt(m,10);return kx(kx(kx(kx(kx({},r),i),l?{x:l}:{}),u?{y:u}:{}),{},{height:A,width:p,name:r.name,radius:r.radius})}function nR(t){return w.createElement(VM,IS({shapeType:"rectangle",propTransformer:tAe,activeClassName:"recharts-active-bar"},t))}var rAe=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,i)=>{if(wr(r))return r;var o=wr(a)||Ks(a);return o?r(a,i):(o||Wde(),n)}};function SB(t,r){var n,a,i=Ir(f=>kf(f,t)),o=Ir(f=>nm(f,r)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:ic.allowDataOverflow,c=(a=o?.allowDataOverflow)!==null&&a!==void 0?a:oc.allowDataOverflow,u=l||c;return{needClip:u,needClipX:l,needClipY:c}}function sR(t){var{xAxisId:r,yAxisId:n,clipPathId:a}=t,i=CB(),{needClipX:o,needClipY:l,needClip:c}=SB(r,n);if(!c)return null;var{x:u,y:f,width:A,height:m}=i;return w.createElement("clipPath",{id:"clipPath-".concat(a)},w.createElement("rect",{x:o?u:u-A/2,y:l?f:f-m/2,width:o?A:A*2,height:l?m:m*2}))}var nAe=["onMouseEnter","onMouseLeave","onClick"],sAe=["value","background","tooltipPosition"],aAe=["onMouseEnter","onClick","onMouseLeave"];function Py(){return Py=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Py.apply(null,arguments)}function Jk(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function Fo(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Jk(Object(n),!0).forEach(function(a){jw(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function jw(t,r,n){return(r=iAe(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function iAe(t){var r=oAe(t,"string");return typeof r=="symbol"?r:r+""}function oAe(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function _S(t,r){if(t==null)return{};var n,a,i=lAe(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lAe(t,r){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;n[a]=t[a]}return n}var cAe=t=>{var{dataKey:r,name:n,fill:a,legendType:i,hide:o}=t;return[{inactive:o,dataKey:r,type:i,color:a,value:hg(n,r),payload:t}]};function uAe(t){var{dataKey:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:l,unit:c}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:r,nameKey:void 0,name:hg(o,r),hide:l,type:t.tooltipType,color:t.fill,unit:c}}}function dAe(t){var r=Ir(qh),{data:n,dataKey:a,background:i,allOtherBarProps:o}=t,{onMouseEnter:l,onMouseLeave:c,onClick:u}=o,f=_S(o,nAe),A=vB(l,a),m=bB(c),p=wB(u,a);if(!i||n==null)return null;var g=Nn(i,!1);return w.createElement(w.Fragment,null,n.map((b,v)=>{var{value:y,background:j,tooltipPosition:C}=b,S=_S(b,sAe);if(!j)return null;var E=A(b,v),D=m(b,v),k=p(b,v),L=Fo(Fo(Fo(Fo(Fo({option:i,isActive:String(v)===r},S),{},{fill:"#eee"},j),g),ov(f,b,v)),{},{onMouseEnter:E,onMouseLeave:D,onClick:k,dataKey:a,index:v,className:"recharts-bar-background-rectangle"});return w.createElement(nR,Py({key:"background-bar-".concat(v)},L))}))}function aR(t){var{data:r,props:n,showLabels:a}=t,i=Nn(n,!1),{shape:o,dataKey:l,activeBar:c}=n,u=Ir(qh),f=Ir(jM),{onMouseEnter:A,onClick:m,onMouseLeave:p}=n,g=_S(n,aAe),b=vB(A,l),v=bB(p),y=wB(m,l);return r?w.createElement(w.Fragment,null,r.map((j,C)=>{var S=c&&String(C)===u&&(f==null||l===f),E=S?c:o,D=Fo(Fo(Fo({},i),j),{},{isActive:S,option:E,index:C,dataKey:l});return w.createElement(Ra,Py({className:"recharts-bar-rectangle"},ov(g,j,C),{onMouseEnter:b(j,C),onMouseLeave:v(j,C),onClick:y(j,C),key:"rectangle-".concat(j?.x,"-").concat(j?.y,"-").concat(j?.value,"-").concat(C)}),w.createElement(nR,D))}),a&&Mh.renderCallByParent(n,r)):null}function AAe(t){var{props:r,previousRectanglesRef:n}=t,{data:a,layout:i,isAnimationActive:o,animationBegin:l,animationDuration:c,animationEasing:u,onAnimationEnd:f,onAnimationStart:A}=r,m=n.current,p=NB(r,"recharts-bar-"),[g,b]=w.useState(!1),v=w.useCallback(()=>{typeof f=="function"&&f(),b(!1)},[f]),y=w.useCallback(()=>{typeof A=="function"&&A(),b(!0)},[A]);return w.createElement(Gh,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},onAnimationEnd:v,onAnimationStart:y,key:p},j=>{var{t:C}=j,S=C===1?a:a.map((E,D)=>{var k=m&&m[D];if(k){var L=Sh(k.x,E.x),I=Sh(k.y,E.y),Y=Sh(k.width,E.width),Q=Sh(k.height,E.height);return Fo(Fo({},E),{},{x:L(C),y:I(C),width:Y(C),height:Q(C)})}if(i==="horizontal"){var H=Sh(0,E.height),U=H(C);return Fo(Fo({},E),{},{y:E.y+E.height-U,height:U})}var K=Sh(0,E.width),X=K(C);return Fo(Fo({},E),{},{width:X})});return C>0&&(n.current=S),w.createElement(Ra,null,w.createElement(aR,{props:r,data:S,showLabels:!g}))})}function fAe(t){var{data:r,isAnimationActive:n}=t,a=w.useRef(null);return n&&r&&r.length&&(a.current==null||a.current!==r)?w.createElement(AAe,{previousRectanglesRef:a,props:t}):w.createElement(aR,{props:t,data:r,showLabels:!0})}var iR=0,hAe=(t,r)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:ea(t,r)}};class mAe extends w.PureComponent{constructor(){super(...arguments),jw(this,"id",N0("recharts-bar-"))}render(){var{hide:r,data:n,dataKey:a,className:i,xAxisId:o,yAxisId:l,needClip:c,background:u,id:f,layout:A}=this.props;if(r)return null;var m=Ot("recharts-bar",i),p=Ks(f)?this.id:f;return w.createElement(Ra,{className:m},c&&w.createElement("defs",null,w.createElement(sR,{clipPathId:p,xAxisId:o,yAxisId:l})),w.createElement(Ra,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(p,")"):null},w.createElement(dAe,{data:n,dataKey:a,background:u,allOtherBarProps:this.props}),w.createElement(fAe,this.props)),w.createElement(Vde,{direction:A==="horizontal"?"y":"x"},this.props.children))}}var oR={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!I0.isSsr,legendType:"rect",minPointSize:iR,xAxisId:0,yAxisId:0};function pAe(t){var{xAxisId:r,yAxisId:n,hide:a,legendType:i,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:f,isAnimationActive:A}=iu(t,oR),{needClip:m}=SB(r,n),p=nw(),g=dl(),b=w.useMemo(()=>({barSize:t.barSize,data:void 0,dataKey:t.dataKey,maxBarSize:t.maxBarSize,minPointSize:o,stackId:t3(t.stackId)}),[t.barSize,t.dataKey,t.maxBarSize,o,t.stackId]),v=lv(t.children,jg),y=Ir(S=>KAe(S,r,n,g,b,v));if(p!=="vertical"&&p!=="horizontal")return null;var j,C=y?.[0];return C==null||C.height==null||C.width==null?j=0:j=p==="vertical"?C.height/2:C.width/2,w.createElement(Dde,{xAxisId:r,yAxisId:n,data:y,dataPointFormatter:hAe,errorBarOffset:j},w.createElement(mAe,Py({},t,{layout:p,needClip:m,data:y,xAxisId:r,yAxisId:n,hide:a,legendType:i,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:f,isAnimationActive:A})))}function gAe(t){var{layout:r,barSettings:{dataKey:n,minPointSize:a},pos:i,bandSize:o,xAxis:l,yAxis:c,xAxisTicks:u,yAxisTicks:f,stackedData:A,displayedData:m,offset:p,cells:g}=t,b=r==="horizontal"?c:l,v=A?b.scale.domain():null,y=Jte({numericAxis:b});return m.map((j,C)=>{var S,E,D,k,L,I;A?S=Gte(A[C],v):(S=ea(j,n),Array.isArray(S)||(S=[y,S]));var Y=rAe(a,iR)(S[1],C);if(r==="horizontal"){var Q,[H,U]=[c.scale(S[0]),c.scale(S[1])];E=DI({axis:l,ticks:u,bandSize:o,offset:i.offset,entry:j,index:C}),D=(Q=U??H)!==null&&Q!==void 0?Q:void 0,k=i.size;var K=H-U;if(L=Pl(K)?0:K,I={x:E,y:p.top,width:k,height:p.height},Math.abs(Y)>0&&Math.abs(L)<Math.abs(Y)){var X=Ri(L||Y)*(Math.abs(Y)-Math.abs(L));D-=X,L+=X}}else{var[Z,ee]=[l.scale(S[0]),l.scale(S[1])];if(E=Z,D=DI({axis:c,ticks:f,bandSize:o,offset:i.offset,entry:j,index:C}),k=ee-Z,L=i.size,I={x:p.left,y:D,width:p.width,height:L},Math.abs(Y)>0&&Math.abs(k)<Math.abs(Y)){var de=Ri(k||Y)*(Math.abs(Y)-Math.abs(k));k+=de}}var Ne=Fo(Fo({},j),{},{x:E,y:D,width:k,height:L,value:A?S:S[1],payload:j,background:I,tooltipPosition:{x:E+k/2,y:D+L/2}},g&&g[C]&&g[C].props);return Ne})}class e2 extends w.PureComponent{render(){return w.createElement(JM,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},w.createElement(Fde,null),w.createElement(GM,{legendPayload:cAe(this.props)}),w.createElement(jB,{fn:uAe,args:this.props}),w.createElement(pAe,this.props))}}jw(e2,"displayName","Bar");jw(e2,"defaultProps",oR);function Zk(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function D1(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Zk(Object(n),!0).forEach(function(a){xAe(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function xAe(t,r,n){return(r=yAe(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function yAe(t){var r=vAe(t,"string");return typeof r=="symbol"?r:r+""}function vAe(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var bAe=(t,r)=>r,wAe=(t,r,n)=>n,jAe=(t,r,n,a)=>a,BB=(t,r,n,a,i)=>i,NAe=(t,r,n,a,i)=>i.maxBarSize,CAe=(t,r,n,a,i,o)=>o,eP=(t,r,n)=>{var a=n??t;if(!Ks(a))return ll(a,r,0)},SAe=Lt([Yn,fw,bAe,wAe,jAe],(t,r,n,a,i)=>r.filter(o=>t==="horizontal"?o.xAxisId===n:o.yAxisId===a).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),BAe=(t,r,n,a)=>{var i=Yn(t);return i==="horizontal"?Iy(t,"yAxis",n,a):Iy(t,"xAxis",r,a)},EAe=(t,r,n)=>{var a=Yn(t);return a==="horizontal"?ek(t,"xAxis",r):ek(t,"yAxis",n)};function TAe(t){return t.stackId!=null&&t.dataKey!=null}var FAe=(t,r,n)=>{var a={},i=t.filter(TAe),o=t.filter(f=>f.stackId==null),l=i.reduce((f,A)=>(f[A.stackId]||(f[A.stackId]=[]),f[A.stackId].push(A),f),a),c=Object.entries(l).map(f=>{var[A,m]=f,p=m.map(b=>b.dataKey),g=eP(r,n,m[0].barSize);return{stackId:A,dataKeys:p,barSize:g}}),u=o.map(f=>{var A=[f.dataKey].filter(p=>p!=null),m=eP(r,n,f.barSize);return{stackId:void 0,dataKeys:A,barSize:m}});return[...c,...u]},IAe=Lt([SAe,Oie,EAe],FAe),_Ae=(t,r,n,a,i)=>{var o,l,c=Yn(t),u=T7(t),{maxBarSize:f}=i,A=Ks(f)?u:f,m,p;return c==="horizontal"?(m=cA(t,"xAxis",r,a),p=Wh(t,"xAxis",r,a)):(m=cA(t,"yAxis",n,a),p=Wh(t,"yAxis",n,a)),(o=(l=Ny(m,p,!0))!==null&&l!==void 0?l:A)!==null&&o!==void 0?o:0},lR=(t,r,n,a)=>{var i=Yn(t),o,l;return i==="horizontal"?(o=cA(t,"xAxis",r,a),l=Wh(t,"xAxis",r,a)):(o=cA(t,"yAxis",n,a),l=Wh(t,"yAxis",n,a)),Ny(o,l)};function kAe(t,r,n,a,i){var o=a.length;if(!(o<1)){var l=ll(t,n,0,!0),c,u=[];if(oo(a[0].barSize)){var f=!1,A=n/o,m=a.reduce((j,C)=>j+(C.barSize||0),0);m+=(o-1)*l,m>=n&&(m-=(o-1)*l,l=0),m>=n&&A>0&&(f=!0,A*=.9,m=o*A);var p=(n-m)/2>>0,g={offset:p-l,size:0};c=a.reduce((j,C)=>{var S,E={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:g.offset+g.size+l,size:f?A:(S=C.barSize)!==null&&S!==void 0?S:0}},D=[...j,E];return g=D[D.length-1].position,D},u)}else{var b=ll(r,n,0,!0);n-2*b-(o-1)*l<=0&&(l=0);var v=(n-2*b-(o-1)*l)/o;v>1&&(v>>=0);var y=oo(i)?Math.min(v,i):v;c=a.reduce((j,C,S)=>[...j,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:b+(v+l)*S+(v-y)/2,size:y}}],u)}return c}}var PAe=(t,r,n,a,i,o,l)=>{var c=Ks(l)?r:l,u=kAe(n,a,i!==o?i:o,t,c);return i!==o&&u!=null&&(u=u.map(f=>D1(D1({},f),{},{position:D1(D1({},f.position),{},{offset:f.position.offset-i/2})}))),u},DAe=Lt([IAe,T7,Die,F7,_Ae,lR,NAe],PAe),OAe=(t,r,n,a)=>cA(t,"xAxis",r,a),LAe=(t,r,n,a)=>cA(t,"yAxis",n,a),UAe=(t,r,n,a)=>Wh(t,"xAxis",r,a),MAe=(t,r,n,a)=>Wh(t,"yAxis",n,a),RAe=Lt([DAe,BB],(t,r)=>{if(t!=null){var n=t.find(a=>a.stackId===r.stackId&&a.dataKeys.includes(r.dataKey));if(n!=null)return n.position}}),QAe=(t,r)=>{if(!(!t||r?.dataKey==null)){var{stackId:n}=r;if(n!=null){var a=t[n];if(a){var{stackedData:i}=a;if(i){var o=i.find(l=>l.key===r.dataKey);return o}}}}},HAe=Lt([fw,BB],(t,r)=>{if(t.some(n=>n.type==="bar"&&r.dataKey===n.dataKey&&r.stackId===n.stackId&&r.stackId===n.stackId))return r}),$Ae=Lt([BAe,BB],QAe),KAe=Lt([yi,OAe,LAe,UAe,MAe,RAe,Yn,k3,lR,$Ae,HAe,CAe],(t,r,n,a,i,o,l,c,u,f,A,m)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:b}=c;if(!(A==null||o==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||i==null||u==null)){var{data:v}=A,y;if(v!=null&&v.length>0?y=v:y=p?.slice(g,b+1),y!=null)return gAe({layout:l,barSettings:A,pos:o,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:f,displayedData:y,offset:t,cells:m})}}),cR=t=>{var{chartData:r}=t,n=ua(),a=dl();return w.useEffect(()=>a?()=>{}:(n(uk(r)),()=>{n(uk(void 0))}),[r,n,a]),null},tP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},uR=ul({name:"brush",initialState:tP,reducers:{setBrushSettings(t,r){return r.payload==null?tP:r.payload}}}),{setBrushSettings:UCe}=uR.actions,VAe=uR.reducer;function zAe(t,r,n){return(r=GAe(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function GAe(t){var r=WAe(t,"string");return typeof r=="symbol"?r:r+""}function WAe(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}class EB{static create(r){return new EB(r)}constructor(r){this.scale=r}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(r){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}isInRange(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}zAe(EB,"EPS",1e-4);function qAe(t){return(t%180+180)%180}var YAe=function(r){var{width:n,height:a}=r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=qAe(i),l=o*Math.PI/180,c=Math.atan(a/n),u=l>c&&l<Math.PI-c?a/Math.sin(l):n/Math.cos(l);return Math.abs(u)},XAe={dots:[],areas:[],lines:[]},dR=ul({name:"referenceElements",initialState:XAe,reducers:{addDot:(t,r)=>{t.dots.push(r.payload)},removeDot:(t,r)=>{var n=uf(t).dots.findIndex(a=>a===r.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,r)=>{t.areas.push(r.payload)},removeArea:(t,r)=>{var n=uf(t).areas.findIndex(a=>a===r.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,r)=>{t.lines.push(r.payload)},removeLine:(t,r)=>{var n=uf(t).lines.findIndex(a=>a===r.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:MCe,removeDot:RCe,addArea:QCe,removeArea:HCe,addLine:$Ce,removeLine:KCe}=dR.actions,JAe=dR.reducer,ZAe=w.createContext(void 0),efe=t=>{var{children:r}=t,[n]=w.useState("".concat(N0("recharts"),"-clip")),a=CB();if(a==null)return null;var{x:i,y:o,width:l,height:c}=a;return w.createElement(ZAe.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:i,y:o,height:c,width:l}))),r)};function RN(t,r){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(r,n)||t[n]!==r[n]))return!1;for(var a in r)if({}.hasOwnProperty.call(r,a)&&!{}.hasOwnProperty.call(t,a))return!1;return!0}function AR(t,r,n){if(r<1)return[];if(r===1&&n===void 0)return t;for(var a=[],i=0;i<t.length;i+=r)a.push(t[i]);return a}function tfe(t,r,n){var a={width:t.width+r.width,height:t.height+r.height};return YAe(a,n)}function rfe(t,r,n){var a=n==="width",{x:i,y:o,width:l,height:c}=t;return r===1?{start:a?i:o,end:a?i+l:o+c}:{start:a?i+l:o+c,end:a?i:o}}function t2(t,r,n,a,i){if(t*r<t*a||t*r>t*i)return!1;var o=n();return t*(r-t*o/2-a)>=0&&t*(r+t*o/2-i)<=0}function nfe(t,r){return AR(t,r+1)}function sfe(t,r,n,a,i){for(var o=(a||[]).slice(),{start:l,end:c}=r,u=0,f=1,A=l,m=function(){var b=a?.[u];if(b===void 0)return{v:AR(a,f)};var v=u,y,j=()=>(y===void 0&&(y=n(b,v)),y),C=b.coordinate,S=u===0||t2(t,C,j,A,c);S||(u=0,A=l,f+=1),S&&(A=C+t*(j()/2+i),u+=f)},p;f<=o.length;)if(p=m(),p)return p.v;return[]}function rP(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function To(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?rP(Object(n),!0).forEach(function(a){afe(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function afe(t,r,n){return(r=ife(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function ife(t){var r=ofe(t,"string");return typeof r=="symbol"?r:r+""}function ofe(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function lfe(t,r,n,a,i){for(var o=(a||[]).slice(),l=o.length,{start:c}=r,{end:u}=r,f=function(p){var g=o[p],b,v=()=>(b===void 0&&(b=n(g,p)),b);if(p===l-1){var y=t*(g.coordinate+t*v()/2-u);o[p]=g=To(To({},g),{},{tickCoord:y>0?g.coordinate-y*t:g.coordinate})}else o[p]=g=To(To({},g),{},{tickCoord:g.coordinate});var j=t2(t,g.tickCoord,v,c,u);j&&(u=g.tickCoord-t*(v()/2+i),o[p]=To(To({},g),{},{isShow:!0}))},A=l-1;A>=0;A--)f(A);return o}function cfe(t,r,n,a,i,o){var l=(a||[]).slice(),c=l.length,{start:u,end:f}=r;if(o){var A=a[c-1],m=n(A,c-1),p=t*(A.coordinate+t*m/2-f);l[c-1]=A=To(To({},A),{},{tickCoord:p>0?A.coordinate-p*t:A.coordinate});var g=t2(t,A.tickCoord,()=>m,u,f);g&&(f=A.tickCoord-t*(m/2+i),l[c-1]=To(To({},A),{},{isShow:!0}))}for(var b=o?c-1:c,v=function(C){var S=l[C],E,D=()=>(E===void 0&&(E=n(S,C)),E);if(C===0){var k=t*(S.coordinate-t*D()/2-u);l[C]=S=To(To({},S),{},{tickCoord:k<0?S.coordinate-k*t:S.coordinate})}else l[C]=S=To(To({},S),{},{tickCoord:S.coordinate});var L=t2(t,S.tickCoord,D,u,f);L&&(u=S.tickCoord+t*(D()/2+i),l[C]=To(To({},S),{},{isShow:!0}))},y=0;y<b;y++)v(y);return l}function TB(t,r,n){var{tick:a,ticks:i,viewBox:o,minTickGap:l,orientation:c,interval:u,tickFormatter:f,unit:A,angle:m}=t;if(!i||!i.length||!a)return[];if(wr(u)||I0.isSsr){var p;return(p=nfe(i,wr(u)?u:0))!==null&&p!==void 0?p:[]}var g=[],b=c==="top"||c==="bottom"?"width":"height",v=A&&b==="width"?ty(A,{fontSize:r,letterSpacing:n}):{width:0,height:0},y=(S,E)=>{var D=typeof f=="function"?f(S.value,E):S.value;return b==="width"?tfe(ty(D,{fontSize:r,letterSpacing:n}),v,m):ty(D,{fontSize:r,letterSpacing:n})[b]},j=i.length>=2?Ri(i[1].coordinate-i[0].coordinate):1,C=rfe(o,j,b);return u==="equidistantPreserveStart"?sfe(j,C,y,i,l):(u==="preserveStart"||u==="preserveStartEnd"?g=cfe(j,C,y,i,l,u==="preserveStartEnd"):g=lfe(j,C,y,i,l),g.filter(S=>S.isShow))}var ufe=["viewBox"],dfe=["viewBox"];function Pp(){return Pp=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Pp.apply(null,arguments)}function nP(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function fi(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?nP(Object(n),!0).forEach(function(a){FB(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function sP(t,r){if(t==null)return{};var n,a,i=Afe(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Afe(t,r){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;n[a]=t[a]}return n}function FB(t,r,n){return(r=ffe(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function ffe(t){var r=hfe(t,"string");return typeof r=="symbol"?r:r+""}function hfe(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}class sm extends w.Component{constructor(r){super(r),this.tickRefs=w.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(r,n){var{viewBox:a}=r,i=sP(r,ufe),o=this.props,{viewBox:l}=o,c=sP(o,dfe);return!RN(a,l)||!RN(i,c)||!RN(n,this.state)}getTickLineCoord(r){var{x:n,y:a,width:i,height:o,orientation:l,tickSize:c,mirror:u,tickMargin:f}=this.props,A,m,p,g,b,v,y=u?-1:1,j=r.tickSize||c,C=wr(r.tickCoord)?r.tickCoord:r.coordinate;switch(l){case"top":A=m=r.coordinate,g=a+ +!u*o,p=g-y*j,v=p-y*f,b=C;break;case"left":p=g=r.coordinate,m=n+ +!u*i,A=m-y*j,b=A-y*f,v=C;break;case"right":p=g=r.coordinate,m=n+ +u*i,A=m+y*j,b=A+y*f,v=C;break;default:A=m=r.coordinate,g=a+ +u*o,p=g+y*j,v=p+y*f,b=C;break}return{line:{x1:A,y1:p,x2:m,y2:g},tick:{x:b,y:v}}}getTickTextAnchor(){var{orientation:r,mirror:n}=this.props,a;switch(r){case"left":a=n?"start":"end";break;case"right":a=n?"end":"start";break;default:a="middle";break}return a}getTickVerticalAnchor(){var{orientation:r,mirror:n}=this.props;switch(r){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:r,y:n,width:a,height:i,orientation:o,mirror:l,axisLine:c}=this.props,u=fi(fi(fi({},Nn(this.props,!1)),Nn(c,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var f=+(o==="top"&&!l||o==="bottom"&&l);u=fi(fi({},u),{},{x1:r,y1:n+f*i,x2:r+a,y2:n+f*i})}else{var A=+(o==="left"&&!l||o==="right"&&l);u=fi(fi({},u),{},{x1:r+A*a,y1:n,x2:r+A*a,y2:n+i})}return w.createElement("line",Pp({},u,{className:Ot("recharts-cartesian-axis-line",zh(c,"className"))}))}static renderTickItem(r,n,a){var i,o=Ot(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(r))i=w.cloneElement(r,fi(fi({},n),{},{className:o}));else if(typeof r=="function")i=r(fi(fi({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof r!="boolean"&&(l=Ot(l,r.className)),i=w.createElement(vw,Pp({},n,{className:l}),a)}return i}renderTicks(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:o,tick:l,tickFormatter:c,unit:u}=this.props,f=TB(fi(fi({},this.props),{},{ticks:a}),r,n),A=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),p=Nn(this.props,!1),g=Nn(l,!1),b=fi(fi({},p),{},{fill:"none"},Nn(i,!1)),v=f.map((y,j)=>{var{line:C,tick:S}=this.getTickLineCoord(y),E=fi(fi(fi(fi({textAnchor:A,verticalAnchor:m},p),{},{stroke:"none",fill:o},g),S),{},{index:j,payload:y,visibleTicksCount:f.length,tickFormatter:c});return w.createElement(Ra,Pp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(y.value,"-").concat(y.coordinate,"-").concat(y.tickCoord)},ov(this.props,y,j)),i&&w.createElement("line",Pp({},b,C,{className:Ot("recharts-cartesian-axis-tick-line",zh(i,"className"))})),l&&sm.renderTickItem(l,E,"".concat(typeof c=="function"?c(y.value,j):y.value).concat(u||"")))});return v.length>0?w.createElement("g",{className:"recharts-cartesian-axis-ticks"},v):null}render(){var{axisLine:r,width:n,height:a,className:i,hide:o}=this.props;if(o)return null;var{ticks:l}=this.props;return n!=null&&n<=0||a!=null&&a<=0?null:w.createElement(Ra,{className:Ot("recharts-cartesian-axis",i),ref:c=>{if(c){var u=c.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(u);var f=u[0];if(f){var A=window.getComputedStyle(f).fontSize,m=window.getComputedStyle(f).letterSpacing;(A!==this.state.fontSize||m!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(f).fontSize,letterSpacing:window.getComputedStyle(f).letterSpacing})}}}},r&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,l),dc.renderCallByParent(this.props))}}FB(sm,"displayName","CartesianAxis");FB(sm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var mfe=["x1","y1","x2","y2","key"],pfe=["offset"],gfe=["xAxisId","yAxisId"],xfe=["xAxisId","yAxisId"];function aP(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function Io(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?aP(Object(n),!0).forEach(function(a){yfe(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function yfe(t,r,n){return(r=vfe(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function vfe(t){var r=bfe(t,"string");return typeof r=="symbol"?r:r+""}function bfe(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function t0(){return t0=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},t0.apply(null,arguments)}function r2(t,r){if(t==null)return{};var n,a,i=wfe(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wfe(t,r){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;n[a]=t[a]}return n}var jfe=t=>{var{fill:r}=t;if(!r||r==="none")return null;var{fillOpacity:n,x:a,y:i,width:o,height:l,ry:c}=t;return w.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function fR(t,r){var n;if(w.isValidElement(t))n=w.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var{x1:a,y1:i,x2:o,y2:l,key:c}=r,u=r2(r,mfe),f=Nn(u,!1),{offset:A}=f,m=r2(f,pfe);n=w.createElement("line",t0({},m,{x1:a,y1:i,x2:o,y2:l,fill:"none",key:c}))}return n}function Nfe(t){var{x:r,width:n,horizontal:a=!0,horizontalPoints:i}=t;if(!a||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=t,c=r2(t,gfe),u=i.map((f,A)=>{var m=Io(Io({},c),{},{x1:r,y1:f,x2:r+n,y2:f,key:"line-".concat(A),index:A});return fR(a,m)});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function Cfe(t){var{y:r,height:n,vertical:a=!0,verticalPoints:i}=t;if(!a||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=t,c=r2(t,xfe),u=i.map((f,A)=>{var m=Io(Io({},c),{},{x1:f,y1:r,x2:f,y2:r+n,key:"line-".concat(A),index:A});return fR(a,m)});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function Sfe(t){var{horizontalFill:r,fillOpacity:n,x:a,y:i,width:o,height:l,horizontalPoints:c,horizontal:u=!0}=t;if(!u||!r||!r.length)return null;var f=c.map(m=>Math.round(m+i-i)).sort((m,p)=>m-p);i!==f[0]&&f.unshift(0);var A=f.map((m,p)=>{var g=!f[p+1],b=g?i+l-m:f[p+1]-m;if(b<=0)return null;var v=p%r.length;return w.createElement("rect",{key:"react-".concat(p),y:m,x:a,height:b,width:o,stroke:"none",fill:r[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},A)}function Bfe(t){var{vertical:r=!0,verticalFill:n,fillOpacity:a,x:i,y:o,width:l,height:c,verticalPoints:u}=t;if(!r||!n||!n.length)return null;var f=u.map(m=>Math.round(m+i-i)).sort((m,p)=>m-p);i!==f[0]&&f.unshift(0);var A=f.map((m,p)=>{var g=!f[p+1],b=g?i+l-m:f[p+1]-m;if(b<=0)return null;var v=p%n.length;return w.createElement("rect",{key:"react-".concat(p),x:m,y:o,width:b,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},A)}var Efe=(t,r)=>{var{xAxis:n,width:a,height:i,offset:o}=t;return pU(TB(Io(Io(Io({},sm.defaultProps),n),{},{ticks:gU(n),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},Tfe=(t,r)=>{var{yAxis:n,width:a,height:i,offset:o}=t;return pU(TB(Io(Io(Io({},sm.defaultProps),n),{},{ticks:gU(n),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Ffe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function n2(t){var r=a3(),n=i3(),a=wU(),i=Io(Io({},iu(t,Ffe)),{},{x:wr(t.x)?t.x:a.left,y:wr(t.y)?t.y:a.top,width:wr(t.width)?t.width:a.width,height:wr(t.height)?t.height:a.height}),{xAxisId:o,yAxisId:l,x:c,y:u,width:f,height:A,syncWithTicks:m,horizontalValues:p,verticalValues:g}=i,b=dl(),v=Ir(Y=>tk(Y,"xAxis",o,b)),y=Ir(Y=>tk(Y,"yAxis",l,b));if(!wr(f)||f<=0||!wr(A)||A<=0||!wr(c)||c!==+c||!wr(u)||u!==+u)return null;var j=i.verticalCoordinatesGenerator||Efe,C=i.horizontalCoordinatesGenerator||Tfe,{horizontalPoints:S,verticalPoints:E}=i;if((!S||!S.length)&&typeof C=="function"){var D=p&&p.length,k=C({yAxis:y?Io(Io({},y),{},{ticks:D?p:y.ticks}):void 0,width:r,height:n,offset:a},D?!0:m);Zx(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(S=k)}if((!E||!E.length)&&typeof j=="function"){var L=g&&g.length,I=j({xAxis:v?Io(Io({},v),{},{ticks:L?g:v.ticks}):void 0,width:r,height:n,offset:a},L?!0:m);Zx(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(E=I)}return w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(jfe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(Sfe,t0({},i,{horizontalPoints:S})),w.createElement(Bfe,t0({},i,{verticalPoints:E})),w.createElement(Nfe,t0({},i,{offset:a,horizontalPoints:S,xAxis:v,yAxis:y})),w.createElement(Cfe,t0({},i,{offset:a,verticalPoints:E,xAxis:v,yAxis:y})))}n2.displayName="CartesianGrid";var hR=(t,r,n,a)=>cA(t,"xAxis",r,a),mR=(t,r,n,a)=>Wh(t,"xAxis",r,a),pR=(t,r,n,a)=>cA(t,"yAxis",n,a),gR=(t,r,n,a)=>Wh(t,"yAxis",n,a),Ife=Lt([Yn,hR,pR,mR,gR],(t,r,n,a,i)=>Tf(t,"xAxis")?Ny(r,a,!1):Ny(n,i,!1)),_fe=(t,r,n,a,i)=>{var o,l=Yn(t),c=Tf(l,"xAxis"),u;if(c?u=Iy(t,"yAxis",n,a):u=Iy(t,"xAxis",r,a),u!=null){var{dataKey:f,stackId:A}=i;if(A!=null){var m=(o=u[A])===null||o===void 0?void 0:o.stackedData;return m?.find(p=>p.key===f)}}},kfe=(t,r,n,a,i)=>i,Pfe=Lt([fw,kfe],(t,r)=>{if(t.some(n=>n.type==="area"&&r.dataKey===n.dataKey&&t3(r.stackId)===n.stackId&&r.data===n.data))return r}),Dfe=Lt([Yn,hR,pR,mR,gR,_fe,k3,Ife,Pfe],(t,r,n,a,i,o,l,c,u)=>{var{chartData:f,dataStartIndex:A,dataEndIndex:m}=l;if(!(u==null||t!=="horizontal"&&t!=="vertical"||r==null||n==null||a==null||i==null||a.length===0||i.length===0||c==null)){var{data:p}=u,g;if(p&&p.length>0?g=p:g=f?.slice(A,m+1),g!=null){var b=void 0;return ehe({layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataStartIndex:A,areaSettings:u,stackedData:o,displayedData:g,chartBaseValue:b,bandSize:c})}}}),Ofe=["layout","type","stroke","connectNulls","isRange"],Lfe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function xR(t,r){if(t==null)return{};var n,a,i=Ufe(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ufe(t,r){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;n[a]=t[a]}return n}function iP(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function r0(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?iP(Object(n),!0).forEach(function(a){Nw(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Nw(t,r,n){return(r=Mfe(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Mfe(t){var r=Rfe(t,"string");return typeof r=="symbol"?r:r+""}function Rfe(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Rh(){return Rh=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Rh.apply(null,arguments)}function s2(t,r){return t&&t!=="none"?t:r}var Qfe=t=>{var{dataKey:r,name:n,stroke:a,fill:i,legendType:o,hide:l}=t;return[{inactive:l,dataKey:r,type:o,color:s2(a,i),value:hg(n,r),payload:t}]};function Hfe(t){var{dataKey:r,data:n,stroke:a,strokeWidth:i,fill:o,name:l,hide:c,unit:u}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:a,strokeWidth:i,fill:o,dataKey:r,nameKey:void 0,name:hg(l,r),hide:c,type:t.tooltipType,color:s2(a,o),unit:u}}}var $fe=(t,r)=>{var n;if(w.isValidElement(t))n=w.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a=Ot("recharts-area-dot",typeof t!="boolean"?t.className:"");n=w.createElement(MM,Rh({},r,{className:a}))}return n};function Kfe(t,r){return t==null?!1:r?!0:t.length===1}function Vfe(t){var{clipPathId:r,points:n,props:a}=t,{needClip:i,dot:o,dataKey:l}=a;if(!Kfe(n,o))return null;var c=UL(o),u=Nn(a,!1),f=Nn(o,!0),A=n.map((p,g)=>{var b=r0(r0(r0({key:"dot-".concat(g),r:3},u),f),{},{index:g,cx:p.x,cy:p.y,dataKey:l,value:p.value,payload:p.payload,points:n});return $fe(o,b)}),m={clipPath:i?"url(#clipPath-".concat(c?"":"dots-").concat(r,")"):void 0};return w.createElement(Ra,Rh({className:"recharts-area-dots"},m),A)}function kS(t){var{points:r,baseLine:n,needClip:a,clipPathId:i,props:o,showLabels:l}=t,{layout:c,type:u,stroke:f,connectNulls:A,isRange:m}=o,p=xR(o,Ofe);return w.createElement(w.Fragment,null,r?.length>1&&w.createElement(Ra,{clipPath:a?"url(#clipPath-".concat(i,")"):void 0},w.createElement(Xx,Rh({},Nn(p,!0),{points:r,connectNulls:A,type:u,baseLine:n,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&w.createElement(Xx,Rh({},Nn(o,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:A,fill:"none",points:r})),f!=="none"&&m&&w.createElement(Xx,Rh({},Nn(o,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:A,fill:"none",points:n}))),w.createElement(Vfe,{points:r,props:o,clipPathId:i}),l&&Mh.renderCallByParent(o,r))}function zfe(t){var{alpha:r,baseLine:n,points:a,strokeWidth:i}=t,o=a[0].y,l=a[a.length-1].y;if(!oo(o)||!oo(l))return null;var c=r*Math.abs(o-l),u=Math.max(...a.map(f=>f.x||0));return wr(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(f=>f.x||0),u)),wr(u)?w.createElement("rect",{x:0,y:o<l?o:o-c,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(c)}):null}function Gfe(t){var{alpha:r,baseLine:n,points:a,strokeWidth:i}=t,o=a[0].x,l=a[a.length-1].x;if(!oo(o)||!oo(l))return null;var c=r*Math.abs(o-l),u=Math.max(...a.map(f=>f.y||0));return wr(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(f=>f.y||0),u)),wr(u)?w.createElement("rect",{x:o<l?o:o-c,y:0,width:c,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function Wfe(t){var{alpha:r,layout:n,points:a,baseLine:i,strokeWidth:o}=t;return n==="vertical"?w.createElement(zfe,{alpha:r,points:a,baseLine:i,strokeWidth:o}):w.createElement(Gfe,{alpha:r,points:a,baseLine:i,strokeWidth:o})}function qfe(t){var{needClip:r,clipPathId:n,props:a,previousPointsRef:i,previousBaselineRef:o}=t,{points:l,baseLine:c,isAnimationActive:u,animationBegin:f,animationDuration:A,animationEasing:m,onAnimationStart:p,onAnimationEnd:g}=a,b=NB(a,"recharts-area-"),[v,y]=w.useState(!0),j=w.useCallback(()=>{typeof g=="function"&&g(),y(!1)},[g]),C=w.useCallback(()=>{typeof p=="function"&&p(),y(!0)},[p]),S=i.current,E=o.current;return w.createElement(Gh,{begin:f,duration:A,isActive:u,easing:m,from:{t:0},to:{t:1},onAnimationEnd:j,onAnimationStart:C,key:b},D=>{var{t:k}=D;if(S){var L=S.length/l.length,I=k===1?l:l.map((Q,H)=>{var U=Math.floor(H*L);if(S[U]){var K=S[U];return r0(r0({},Q),{},{x:jp(K.x,Q.x,k),y:jp(K.y,Q.y,k)})}return Q}),Y;return wr(c)?Y=jp(E,c,k):Ks(c)||Pl(c)?Y=jp(E,0,k):Y=c.map((Q,H)=>{var U=Math.floor(H*L);if(Array.isArray(E)&&E[U]){var K=E[U];return r0(r0({},Q),{},{x:jp(K.x,Q.x,k),y:jp(K.y,Q.y,k)})}return Q}),k>0&&(i.current=I,o.current=Y),w.createElement(kS,{points:I,baseLine:Y,needClip:r,clipPathId:n,props:a,showLabels:!v})}return k>0&&(i.current=l,o.current=c),w.createElement(Ra,null,w.createElement("defs",null,w.createElement("clipPath",{id:"animationClipPath-".concat(n)},w.createElement(Wfe,{alpha:k,points:l,baseLine:c,layout:a.layout,strokeWidth:a.strokeWidth}))),w.createElement(Ra,{clipPath:"url(#animationClipPath-".concat(n,")")},w.createElement(kS,{points:l,baseLine:c,needClip:r,clipPathId:n,props:a,showLabels:!0})))})}function Yfe(t){var{needClip:r,clipPathId:n,props:a}=t,{points:i,baseLine:o,isAnimationActive:l}=a,c=w.useRef(null),u=w.useRef(),f=c.current,A=u.current;return l&&i&&i.length&&(f!==i||A!==o)?w.createElement(qfe,{needClip:r,clipPathId:n,props:a,previousPointsRef:c,previousBaselineRef:u}):w.createElement(kS,{points:i,baseLine:o,needClip:r,clipPathId:n,props:a,showLabels:!0})}class Xfe extends w.PureComponent{constructor(){super(...arguments),Nw(this,"id",N0("recharts-area-"))}render(){var r,{hide:n,dot:a,points:i,className:o,top:l,left:c,needClip:u,xAxisId:f,yAxisId:A,width:m,height:p,id:g,baseLine:b}=this.props;if(n)return null;var v=Ot("recharts-area",o),y=Ks(g)?this.id:g,{r:j=3,strokeWidth:C=2}=(r=Nn(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},S=UL(a),E=j*2+C;return w.createElement(w.Fragment,null,w.createElement(Ra,{className:v},u&&w.createElement("defs",null,w.createElement(sR,{clipPathId:y,xAxisId:f,yAxisId:A}),!S&&w.createElement("clipPath",{id:"clipPath-dots-".concat(y)},w.createElement("rect",{x:c-E/2,y:l-E/2,width:m+E,height:p+E}))),w.createElement(Yfe,{needClip:u,clipPathId:y,props:this.props})),w.createElement(qk,{points:i,mainColor:s2(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(b)&&w.createElement(qk,{points:b,mainColor:s2(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var yR={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!I0.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function Jfe(t){var r,n=iu(t,yR),{activeDot:a,animationBegin:i,animationDuration:o,animationEasing:l,connectNulls:c,dot:u,fill:f,fillOpacity:A,hide:m,isAnimationActive:p,legendType:g,stroke:b,xAxisId:v,yAxisId:y}=n,j=xR(n,Lfe),C=nw(),S=CM(),{needClip:E}=SB(v,y),D=dl(),k=w.useMemo(()=>({baseValue:t.baseValue,stackId:t.stackId,connectNulls:c,data:t.data,dataKey:t.dataKey}),[t.baseValue,t.stackId,c,t.data,t.dataKey]),{points:L,isRange:I,baseLine:Y}=(r=Ir(X=>Dfe(X,v,y,D,k)))!==null&&r!==void 0?r:{},{height:Q,width:H,x:U,y:K}=CB();return C!=="horizontal"&&C!=="vertical"||S!=="AreaChart"&&S!=="ComposedChart"?null:w.createElement(Xfe,Rh({},j,{activeDot:a,animationBegin:i,animationDuration:o,animationEasing:l,baseLine:Y,connectNulls:c,dot:u,fill:f,fillOpacity:A,height:Q,hide:m,layout:C,isAnimationActive:p,isRange:I,legendType:g,needClip:E,points:L,stroke:b,width:H,left:U,top:K,xAxisId:v,yAxisId:y}))}var Zfe=(t,r,n,a,i)=>{var o=n??r;if(wr(o))return o;var l=t==="horizontal"?i:a,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return o==="dataMin"?f:o==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]};function ehe(t){var{areaSettings:{connectNulls:r,baseValue:n,dataKey:a},stackedData:i,layout:o,chartBaseValue:l,xAxis:c,yAxis:u,displayedData:f,dataStartIndex:A,xAxisTicks:m,yAxisTicks:p,bandSize:g}=t,b=i&&i.length,v=Zfe(o,l,n,c,u),y=o==="horizontal",j=!1,C=f.map((E,D)=>{var k;b?k=i[A+D]:(k=ea(E,a),Array.isArray(k)?j=!0:k=[v,k]);var L=k[1]==null||b&&!r&&ea(E,a)==null;return y?{x:PI({axis:c,ticks:m,bandSize:g,entry:E,index:D}),y:L?null:u.scale(k[1]),value:k,payload:E}:{x:L?null:c.scale(k[1]),y:PI({axis:u,ticks:p,bandSize:g,entry:E,index:D}),value:k,payload:E}}),S;return b||j?S=C.map(E=>{var D=Array.isArray(E.value)?E.value[0]:null;return y?{x:E.x,y:D!=null&&E.y!=null?u.scale(D):null}:{x:D!=null?c.scale(D):null,y:E.y}}):S=y?u.scale(v):c.scale(v),{points:C,baseLine:S,isRange:j}}class Dy extends w.PureComponent{render(){return w.createElement(JM,{type:"area",data:this.props.data,dataKey:this.props.dataKey,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,stackId:this.props.stackId,hide:this.props.hide,barSize:void 0},w.createElement(GM,{legendPayload:Qfe(this.props)}),w.createElement(jB,{fn:Hfe,args:this.props}),w.createElement(Jfe,this.props))}}Nw(Dy,"displayName","Area");Nw(Dy,"defaultProps",yR);function oP(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function lP(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?oP(Object(n),!0).forEach(function(a){the(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function the(t,r,n){return(r=rhe(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function rhe(t){var r=nhe(t,"string");return typeof r=="symbol"?r:r+""}function nhe(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var she={xAxis:{},yAxis:{},zAxis:{}},vR=ul({name:"cartesianAxis",initialState:she,reducers:{addXAxis(t,r){t.xAxis[r.payload.id]=r.payload},removeXAxis(t,r){delete t.xAxis[r.payload.id]},addYAxis(t,r){t.yAxis[r.payload.id]=r.payload},removeYAxis(t,r){delete t.yAxis[r.payload.id]},addZAxis(t,r){t.zAxis[r.payload.id]=r.payload},removeZAxis(t,r){delete t.zAxis[r.payload.id]},updateYAxisWidth(t,r){var{id:n,width:a}=r.payload;t.yAxis[n]&&(t.yAxis[n]=lP(lP({},t.yAxis[n]),{},{width:a}))}}}),{addXAxis:ahe,removeXAxis:ihe,addYAxis:ohe,removeYAxis:lhe,addZAxis:VCe,removeZAxis:zCe,updateYAxisWidth:che}=vR.actions,uhe=vR.reducer,dhe=["children"],Ahe=["dangerouslySetInnerHTML","ticks"];function bR(t,r,n){return(r=fhe(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function fhe(t){var r=hhe(t,"string");return typeof r=="symbol"?r:r+""}function hhe(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function PS(){return PS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},PS.apply(null,arguments)}function wR(t,r){if(t==null)return{};var n,a,i=mhe(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mhe(t,r){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;n[a]=t[a]}return n}function phe(t){var r=ua(),n=w.useMemo(()=>{var{children:o}=t,l=wR(t,dhe);return l},[t]),a=Ir(o=>kf(o,n.id)),i=n===a;return w.useEffect(()=>(r(ahe(n)),()=>{r(ihe(n))}),[n,r]),i?t.children:null}var ghe=t=>{var{xAxisId:r,className:n}=t,a=Ir(bU),i=dl(),o="xAxis",l=Ir(g=>vg(g,o,r,i)),c=Ir(g=>sM(g,o,r,i)),u=Ir(g=>eM(g,r)),f=Ir(g=>Eoe(g,r));if(u==null||f==null)return null;var{dangerouslySetInnerHTML:A,ticks:m}=t,p=wR(t,Ahe);return w.createElement(sm,PS({},p,{scale:l,x:f.x,y:f.y,width:u.width,height:u.height,className:Ot("recharts-".concat(o," ").concat(o),n),viewBox:a,ticks:c}))},xhe=t=>{var r,n,a,i,o;return w.createElement(phe,{interval:(r=t.interval)!==null&&r!==void 0?r:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(a=t.angle)!==null&&a!==void 0?a:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter},w.createElement(ghe,t))};class Oy extends w.Component{render(){return w.createElement(xhe,this.props)}}bR(Oy,"displayName","XAxis");bR(Oy,"defaultProps",{allowDataOverflow:ic.allowDataOverflow,allowDecimals:ic.allowDecimals,allowDuplicatedCategory:ic.allowDuplicatedCategory,height:ic.height,hide:!1,mirror:ic.mirror,orientation:ic.orientation,padding:ic.padding,reversed:ic.reversed,scale:ic.scale,tickCount:ic.tickCount,type:ic.type,xAxisId:0});var yhe=t=>{var{ticks:r,label:n,labelGapWithTick:a=5,tickSize:i=0,tickMargin:o=0}=t,l=0;if(r){r.forEach(A=>{if(A){var m=A.getBoundingClientRect();m.width>l&&(l=m.width)}});var c=n?n.getBoundingClientRect().width:0,u=i+o,f=l+u+c+(n?a:0);return Math.round(f)}return 0},vhe=["dangerouslySetInnerHTML","ticks"];function jR(t,r,n){return(r=bhe(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function bhe(t){var r=whe(t,"string");return typeof r=="symbol"?r:r+""}function whe(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function DS(){return DS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},DS.apply(null,arguments)}function jhe(t,r){if(t==null)return{};var n,a,i=Nhe(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nhe(t,r){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;n[a]=t[a]}return n}function Che(t){var r=ua();return w.useEffect(()=>(r(ohe(t)),()=>{r(lhe(t))}),[t,r]),null}var She=t=>{var r,{yAxisId:n,className:a,width:i,label:o}=t,l=w.useRef(null),c=w.useRef(null),u=Ir(bU),f=dl(),A=ua(),m="yAxis",p=Ir(S=>vg(S,m,n,f)),g=Ir(S=>tM(S,n)),b=Ir(S=>Toe(S,n)),v=Ir(S=>sM(S,m,n,f));if(w.useLayoutEffect(()=>{var S;if(!(i!=="auto"||!g||mB(o)||w.isValidElement(o))){var E=l.current,D=E==null||(S=E.tickRefs)===null||S===void 0?void 0:S.current,{tickSize:k,tickMargin:L}=E.props,I=yhe({ticks:D,label:c.current,labelGapWithTick:5,tickSize:k,tickMargin:L});Math.round(g.width)!==Math.round(I)&&A(che({id:n,width:I}))}},[l,l==null||(r=l.current)===null||r===void 0||(r=r.tickRefs)===null||r===void 0?void 0:r.current,g?.width,g,A,o,n,i]),g==null||b==null)return null;var{dangerouslySetInnerHTML:y,ticks:j}=t,C=jhe(t,vhe);return w.createElement(sm,DS({},C,{ref:l,labelRef:c,scale:p,x:b.x,y:b.y,width:g.width,height:g.height,className:Ot("recharts-".concat(m," ").concat(m),a),viewBox:u,ticks:v}))},Bhe=t=>{var r,n,a,i,o;return w.createElement(w.Fragment,null,w.createElement(Che,{interval:(r=t.interval)!==null&&r!==void 0?r:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(a=t.angle)!==null&&a!==void 0?a:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter}),w.createElement(She,t))},Ehe={allowDataOverflow:oc.allowDataOverflow,allowDecimals:oc.allowDecimals,allowDuplicatedCategory:oc.allowDuplicatedCategory,hide:!1,mirror:oc.mirror,orientation:oc.orientation,padding:oc.padding,reversed:oc.reversed,scale:oc.scale,tickCount:oc.tickCount,type:oc.type,width:oc.width,yAxisId:0};class Ly extends w.Component{render(){return w.createElement(Bhe,this.props)}}jR(Ly,"displayName","YAxis");jR(Ly,"defaultProps",Ehe);var The=(t,r)=>r,IB=Lt([The,Yn,Hie,Ki,yM,Pf,Ile,yi],Ole),_B=t=>{var r=t.currentTarget.getBoundingClientRect(),n=r.width/t.currentTarget.offsetWidth,a=r.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-r.left)/n),chartY:Math.round((t.clientY-r.top)/a)}},NR=ol("mouseClick"),CR=nv();CR.startListening({actionCreator:NR,effect:(t,r)=>{var n=t.payload,a=IB(r.getState(),_B(n));a?.activeIndex!=null&&r.dispatch(Hoe({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var OS=ol("mouseMove"),SR=nv();SR.startListening({actionCreator:OS,effect:(t,r)=>{var n=t.payload,a=r.getState(),i=aB(a,a.tooltip.settings.shared),o=IB(a,_B(n));i==="axis"&&(o?.activeIndex!=null?r.dispatch(AM({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):r.dispatch(dM()))}});function Fhe(t,r){return r instanceof HTMLElement?"HTMLElement <".concat(r.tagName,' class="').concat(r.className,'">'):r===window?"global.window":r}var cP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},BR=ul({name:"rootProps",initialState:cP,reducers:{updateOptions:(t,r)=>{var n;t.accessibilityLayer=r.payload.accessibilityLayer,t.barCategoryGap=r.payload.barCategoryGap,t.barGap=(n=r.payload.barGap)!==null&&n!==void 0?n:cP.barGap,t.barSize=r.payload.barSize,t.maxBarSize=r.payload.maxBarSize,t.stackOffset=r.payload.stackOffset,t.syncId=r.payload.syncId,t.syncMethod=r.payload.syncMethod,t.className=r.payload.className}}}),Ihe=BR.reducer,{updateOptions:_he}=BR.actions,ER=ul({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,r)=>r.payload}}),{updatePolarOptions:khe}=ER.actions,Phe=ER.reducer,TR=ol("keyDown"),FR=ol("focus"),kB=nv();kB.startListening({actionCreator:TR,effect:(t,r)=>{var n=r.getState(),a=n.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=Number(iB(i,O0(n))),c=Pf(n);if(o==="Enter"){var u=Yb(n,"axis","hover",String(i.index));r.dispatch(CS({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var f=koe(n),A=f==="left-to-right"?1:-1,m=o==="ArrowRight"?1:-1,p=l+m*A;if(!(c==null||p>=c.length||p<0)){var g=Yb(n,"axis","hover",String(p));r.dispatch(CS({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}});kB.startListening({actionCreator:FR,effect:(t,r)=>{var n=r.getState(),a=n.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",l=Yb(n,"axis","hover",String(o));r.dispatch(CS({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:l}))}}}});var Jc=ol("externalEvent"),IR=nv();IR.startListening({actionCreator:Jc,effect:(t,r)=>{if(t.payload.handler!=null){var n=r.getState(),a={activeCoordinate:wle(n),activeDataKey:jM(n),activeIndex:qh(n),activeLabel:wM(n),activeTooltipIndex:qh(n),isTooltipActive:jle(n)};t.payload.handler(a,t.payload.reactEvent)}}});var Dhe=Lt([bg],t=>t.tooltipItemPayloads),Ohe=Lt([Dhe,xv,(t,r,n)=>r,(t,r,n)=>n],(t,r,n,a)=>{var i=t.find(c=>c.settings.dataKey===a);if(i!=null){var{positions:o}=i;if(o!=null){var l=r(o,n);return l}}}),_R=ol("touchMove"),kR=nv();kR.startListening({actionCreator:_R,effect:(t,r)=>{var n=t.payload,a=r.getState(),i=aB(a,a.tooltip.settings.shared);if(i==="axis"){var o=IB(a,_B({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));o?.activeIndex!=null&&r.dispatch(AM({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var l,c=n.touches[0],u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var f=u.getAttribute(yU),A=(l=u.getAttribute(vU))!==null&&l!==void 0?l:void 0,m=Ohe(r.getState(),f,A);r.dispatch(uM({activeDataKey:A,activeIndex:f,activeCoordinate:m}))}}});var Lhe=h8({brush:VAe,cartesianAxis:uhe,chartData:Jle,graphicalItems:Pue,layout:Ite,legend:gre,options:Gle,polarAxis:xue,polarOptions:Phe,referenceElements:JAe,rootProps:Ihe,tooltip:$oe}),Uhe=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return S8({reducer:Lhe,preloadedState:r,middleware:a=>a({serializableCheck:!1}).concat([CR.middleware,SR.middleware,kB.middleware,IR.middleware,kR.middleware]),devTools:{serialize:{replacer:Fhe},name:"recharts-".concat(n)}})};function PR(t){var{preloadedState:r,children:n,reduxStoreName:a}=t,i=dl(),o=w.useRef(null);if(i)return n;o.current==null&&(o.current=Uhe(r,a));var l=e3;return w.createElement(u8,{context:l,store:o.current},n)}function DR(t){var{layout:r,width:n,height:a,margin:i}=t,o=ua(),l=dl();return w.useEffect(()=>{l||(o(Ete(r)),o(Tte({width:n,height:a})),o(Bte(i)))},[o,l,r,n,a,i]),null}function OR(t){var r=ua();return w.useEffect(()=>{r(_he(t))},[r,t]),null}var Mhe=["children"];function Rhe(t,r){if(t==null)return{};var n,a,i=Qhe(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qhe(t,r){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;n[a]=t[a]}return n}function a2(){return a2=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},a2.apply(null,arguments)}var Hhe={width:"100%",height:"100%"},$he=w.forwardRef((t,r)=>{var n=a3(),a=i3(),i=SU();if(!eg(n)||!eg(a))return null;var{children:o,otherAttributes:l,title:c,desc:u}=t,f,A;return typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?A=l.role:A=i?"application":void 0,w.createElement(H5,a2({},l,{title:c,desc:u,role:A,tabIndex:f,width:n,height:a,style:Hhe,ref:r}),o)}),Khe=t=>{var{children:r}=t,n=Ir(rw);if(!n)return null;var{width:a,height:i,y:o,x:l}=n;return w.createElement(H5,{width:a,height:i,x:l,y:o},r)},uP=w.forwardRef((t,r)=>{var{children:n}=t,a=Rhe(t,Mhe),i=dl();return i?w.createElement(Khe,null,n):w.createElement($he,a2({ref:r},a),n)});function Vhe(){var t=ua(),[r,n]=w.useState(null),a=Ir(are);return w.useEffect(()=>{if(r!=null){var i=r.getBoundingClientRect(),o=i.width/r.offsetWidth;oo(o)&&o!==a&&t(Fte(o))}},[r,t,a]),n}function dP(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function zhe(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?dP(Object(n),!0).forEach(function(a){Ghe(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Ghe(t,r,n){return(r=Whe(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Whe(t){var r=qhe(t,"string");return typeof r=="symbol"?r:r+""}function qhe(t,r){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Yhe=w.forwardRef((t,r)=>{var{children:n,className:a,height:i,onClick:o,onContextMenu:l,onDoubleClick:c,onMouseDown:u,onMouseEnter:f,onMouseLeave:A,onMouseMove:m,onMouseUp:p,onTouchEnd:g,onTouchMove:b,onTouchStart:v,style:y,width:j}=t,C=ua(),[S,E]=w.useState(null),[D,k]=w.useState(null);tce();var L=Vhe(),I=w.useCallback(R=>{L(R),typeof r=="function"&&r(R),E(R),k(R)},[L,r,E,k]),Y=w.useCallback(R=>{C(NR(R)),C(Jc({handler:o,reactEvent:R}))},[C,o]),Q=w.useCallback(R=>{C(OS(R)),C(Jc({handler:f,reactEvent:R}))},[C,f]),H=w.useCallback(R=>{C(dM()),C(Jc({handler:A,reactEvent:R}))},[C,A]),U=w.useCallback(R=>{C(OS(R)),C(Jc({handler:m,reactEvent:R}))},[C,m]),K=w.useCallback(()=>{C(FR())},[C]),X=w.useCallback(R=>{C(TR(R.key))},[C]),Z=w.useCallback(R=>{C(Jc({handler:l,reactEvent:R}))},[C,l]),ee=w.useCallback(R=>{C(Jc({handler:c,reactEvent:R}))},[C,c]),de=w.useCallback(R=>{C(Jc({handler:u,reactEvent:R}))},[C,u]),Ne=w.useCallback(R=>{C(Jc({handler:p,reactEvent:R}))},[C,p]),Se=w.useCallback(R=>{C(Jc({handler:v,reactEvent:R}))},[C,v]),ue=w.useCallback(R=>{C(_R(R)),C(Jc({handler:b,reactEvent:R}))},[C,b]),xe=w.useCallback(R=>{C(Jc({handler:g,reactEvent:R}))},[C,g]);return w.createElement(FM.Provider,{value:S},w.createElement(ML.Provider,{value:D},w.createElement("div",{className:Ot("recharts-wrapper",a),style:zhe({position:"relative",cursor:"default",width:j,height:i},y),onClick:Y,onContextMenu:Z,onDoubleClick:ee,onFocus:K,onKeyDown:X,onMouseDown:de,onMouseEnter:Q,onMouseLeave:H,onMouseMove:U,onMouseUp:Ne,onTouchEnd:xe,onTouchMove:ue,onTouchStart:Se,ref:I},n)))}),Xhe=["children","className","width","height","style","compact","title","desc"];function Jhe(t,r){if(t==null)return{};var n,a,i=Zhe(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zhe(t,r){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;n[a]=t[a]}return n}var LR=w.forwardRef((t,r)=>{var{children:n,className:a,width:i,height:o,style:l,compact:c,title:u,desc:f}=t,A=Jhe(t,Xhe),m=Nn(A,!1);return c?w.createElement(uP,{otherAttributes:m,title:u,desc:f},n):w.createElement(Yhe,{className:a,style:l,width:i,height:o,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},w.createElement(uP,{otherAttributes:m,title:u,desc:f,ref:r},w.createElement(efe,null,n)))}),eme=["width","height"];function LS(){return LS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},LS.apply(null,arguments)}function tme(t,r){if(t==null)return{};var n,a,i=rme(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rme(t,r){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;n[a]=t[a]}return n}var nme={top:5,right:5,bottom:5,left:5},sme={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:nme,reverseStackOrder:!1,syncMethod:"index"},UR=w.forwardRef(function(r,n){var a,i=iu(r.categoricalChartProps,sme),{width:o,height:l}=i,c=tme(i,eme);if(!eg(o)||!eg(l))return null;var{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:A,tooltipPayloadSearcher:m,categoricalChartProps:p}=r,g={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:A,tooltipPayloadSearcher:m,eventEmitter:void 0};return w.createElement(PR,{preloadedState:{options:g},reduxStoreName:(a=p.id)!==null&&a!==void 0?a:u},w.createElement(cR,{chartData:p.data}),w.createElement(DR,{width:o,height:l,layout:i.layout,margin:i.margin}),w.createElement(OR,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),w.createElement(LR,LS({},c,{width:o,height:l,ref:n})))}),ame=["axis","item"],ime=w.forwardRef((t,r)=>w.createElement(UR,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ame,tooltipPayloadSearcher:hB,categoricalChartProps:t,ref:r}));function ome(t){var r=ua();return w.useEffect(()=>{r(khe(t))},[r,t]),null}var lme=["width","height","layout"];function US(){return US=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},US.apply(null,arguments)}function cme(t,r){if(t==null)return{};var n,a,i=ume(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ume(t,r){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;n[a]=t[a]}return n}var dme={top:5,right:5,bottom:5,left:5},Ame={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:dme,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},fme=w.forwardRef(function(r,n){var a,i=iu(r.categoricalChartProps,Ame),{width:o,height:l,layout:c}=i,u=cme(i,lme);if(!eg(o)||!eg(l))return null;var{chartName:f,defaultTooltipEventType:A,validateTooltipEventTypes:m,tooltipPayloadSearcher:p}=r,g={chartName:f,defaultTooltipEventType:A,validateTooltipEventTypes:m,tooltipPayloadSearcher:p,eventEmitter:void 0};return w.createElement(PR,{preloadedState:{options:g},reduxStoreName:(a=i.id)!==null&&a!==void 0?a:f},w.createElement(cR,{chartData:i.data}),w.createElement(DR,{width:o,height:l,layout:c,margin:i.margin}),w.createElement(OR,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),w.createElement(ome,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),w.createElement(LR,US({width:o,height:l},u,{ref:n})))}),hme=["item"],mme={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},MR=w.forwardRef((t,r)=>{var n=iu(t,mme);return w.createElement(fme,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:hme,tooltipPayloadSearcher:hB,categoricalChartProps:n,ref:r})}),pme=["axis"],RR=w.forwardRef((t,r)=>w.createElement(UR,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:pme,tooltipPayloadSearcher:hB,categoricalChartProps:t,ref:r}));const Px="https://vidyaastra.com/api",gme=()=>{const[t,r]=w.useState(!0),[n,a]=w.useState(null),[i,o]=w.useState(!1),[l,c]=w.useState({stats:{totalStudents:0,totalAssignments:0,totalTeachers:0},monthlyData:[],classDistribution:[],subjectPerformance:[],recentActivities:[]}),u=S=>{switch(S){case"student":return s.jsx(Jr,{className:"w-4 h-4 text-blue-600"});case"assignment":return s.jsx(lf,{className:"w-4 h-4 text-green-600"});case"teacher":return s.jsx(Ns,{className:"w-4 h-4 text-red-600"});default:return s.jsx(en,{className:"w-4 h-4 text-gray-600"})}},f=async(S=!1)=>{S?o(!0):r(!0),a(null);const E=localStorage.getItem("adminToken")||localStorage.getItem("token"),D=localStorage.getItem("schoolId");console.log("Dashboard fetch - Token:",!!E,"SchoolId:",D);const k=E?{Authorization:`Bearer ${E}`}:{};try{const L=D?`${Px}/students?schoolId=${D}`:`${Px}/students`,I=D?`https://vidyaastra.com/api/teacher/${D}`:`${Px}/teachers`;console.log("Fetching from URLs:",{studentsUrl:L,teachersUrl:I});const[Y,Q]=await Promise.all([Ft.get(L,{headers:k}),Ft.get(I,{headers:k})]);console.log("API Responses:",{students:Y.data,teachers:Q.data});const H=Y.data,U=Q.data,K=H?.data||H||[],X=U?.data||U||[];console.log(`Loaded ${K.length} students and ${X.length} teachers`);const Z=[];for(const he of K)try{const me=D?`${Px}/assignments?studentId=${he._id}&schoolId=${D}`:`${Px}/assignments?studentId=${he._id}`,te=await Ft.get(me,{headers:k});if(te.data?.success&&te.data?.data){const Ae=te.data.data.map(V=>({...V,id:V._id,studentName:he.name,rollNo:he.rollNumber||he.rollNo,class:he.classId?.name||he.class||"Unknown",priority:(V.priority||"MEDIUM").toUpperCase(),dueDate:V.dueDate?V.dueDate.split("T")[0]:new Date().toISOString().split("T")[0],createdAt:V.createdAt||new Date().toISOString()}));Z.push(...Ae)}}catch(me){console.warn(`Could not fetch assignments for student ${he._id}:`,me.message)}console.log(`Loaded ${Z.length} assignments`);const ee=K.length,de=X.length,Ne=Z.length,Se=new Map;for(let he=5;he>=0;he--){const me=new Date;me.setMonth(me.getMonth()-he);const te=me.toLocaleString("en-US",{month:"short",year:"numeric"});Se.set(te,{month:me.toLocaleString("en-US",{month:"short"}),students:0,assignments:0})}K.forEach(he=>{if(he.createdAt){const me=new Date(he.createdAt).toLocaleString("en-US",{month:"short",year:"numeric"});Se.has(me)&&(Se.get(me).students+=1)}}),Z.forEach(he=>{if(he.createdAt){const me=new Date(he.createdAt).toLocaleString("en-US",{month:"short",year:"numeric"});Se.has(me)&&(Se.get(me).assignments+=1)}});const ue=Array.from(Se.values()).sort((he,me)=>{const te=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return te.indexOf(he.month)-te.indexOf(me.month)}),xe=new Map;K.forEach(he=>{const me=he.classId?.name||he.class||"Unknown Class";xe.set(me,(xe.get(me)||0)+1)});const R=Array.from(xe.entries()).map(([he,me],te)=>({name:he,value:me,color:["#3B82F6","#10B981","#F59E0B","#EF4444","#6B7280","#8B5CF6"][te%6]})),G=new Map;Z.forEach(he=>{const me=he.subject||"Unknown Subject";G.has(me)||G.set(me,{subject:me,assignments:0,completed:0,pending:0});const te=G.get(me);te.assignments+=1,he.status==="submitted"||he.status==="graded"?te.completed+=1:te.pending+=1});const ne=Array.from(G.values()),ae=[];K.forEach(he=>ae.push({id:he._id,type:"student",message:`New student ${he.name} enrolled in Class ${he.classId?.name||he.class||"Unknown"}`,time:he.createdAt||new Date().toISOString()})),X.forEach(he=>ae.push({id:he._id,type:"teacher",message:`New teacher ${he.name} joined ${he.subject||"Unknown"} department`,time:he.createdAt||new Date().toISOString()})),Z.forEach(he=>ae.push({id:he._id,type:"assignment",message:`${he.subject||"Unknown"} assignment "${he.title||"Untitled"}" ${he.status||"created"} by ${he.studentName}`,time:he.createdAt||new Date().toISOString()}));const oe=ae.sort((he,me)=>new Date(me.time).getTime()-new Date(he.time).getTime()).slice(0,5);c({stats:{totalStudents:ee,totalAssignments:Ne,totalTeachers:de},monthlyData:ue,classDistribution:R,subjectPerformance:ne,recentActivities:oe}),console.log("Dashboard data updated successfully")}catch(L){console.error("Failed to fetch dashboard data:",L);let I="Failed to load dashboard data.";if(Ft.isAxiosError(L))if(L.response){const Y=L.response.status,Q=L.response.data?.message;Y===401?(I="Session expired. Please login again.",localStorage.removeItem("adminToken"),localStorage.removeItem("token"),localStorage.removeItem("schoolId"),setTimeout(()=>{window.location.href="/login"},2e3)):Y===403?I="Access denied. Please check your permissions.":Y===404?I="Data not found. Please contact support.":Y>=500?I="Server error. Please try again later.":I=Q||`Error: ${Y}`}else L.request?I="Network error. Please check your internet connection and try again.":I=`Request error: ${L.message}`;else I=`Unexpected error: ${L.message}`;a(I)}finally{r(!1),o(!1)}},A=()=>{f(!0)},m=()=>{a(null),f()};w.useEffect(()=>{f()},[]);const{stats:p,monthlyData:g,classDistribution:b,subjectPerformance:v,recentActivities:y}=l;if(t)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(br,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-lg text-gray-700",children:"Loading dashboard data..."}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please wait while we fetch your school's information"})]})});if(n)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:s.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ln,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Oops! Something went wrong"}),s.jsx("p",{className:"text-gray-600 mb-6",children:n}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:m,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Try Again"}),s.jsx("button",{onClick:()=>a(null),className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Dismiss"})]})]})})});const j=localStorage.getItem("color")||"#3B82F6",C=localStorage.getItem("schoolName")||"School";return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:Ot("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:j},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold",children:[C," Dashboard"]}),s.jsx("p",{className:"text-blue-100 mt-2",children:"Welcome back! Here's what's happening at your school today."})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:A,disabled:i,className:"bg-white/20 hover:bg-white/30 text-white p-2 rounded-lg transition-colors disabled:opacity-50",title:"Refresh Data",children:s.jsx(Qh,{className:`w-5 h-5 ${i?"animate-spin":""}`})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-100",children:"Today"}),s.jsx("p",{className:"text-xl font-semibold",children:new Date().toLocaleDateString("en-IN")})]})]})})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.totalStudents.toLocaleString()}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(Ih,{className:"w-4 h-4 text-green-500 mr-1"}),s.jsx("span",{className:"text-sm text-green-600",children:"Active students"})]})]}),s.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:s.jsx(Jr,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Assignments"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.totalAssignments}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(Ih,{className:"w-4 h-4 text-green-500 mr-1"}),s.jsx("span",{className:"text-sm text-green-600",children:"All assignments"})]})]}),s.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:s.jsx(lf,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Teachers"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.totalTeachers}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(Ih,{className:"w-4 h-4 text-green-500 mr-1"}),s.jsx("span",{className:"text-sm text-green-600",children:"Active teachers"})]})]}),s.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:s.jsx(Ns,{className:"w-6 h-6 text-purple-600"})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-6",children:"Monthly Overview"}),g.length>0?s.jsx(ey,{width:"100%",height:300,children:s.jsxs(RR,{data:g,margin:{top:10,right:30,left:0,bottom:0},children:[s.jsx(n2,{strokeDasharray:"3 3"}),s.jsx(Oy,{dataKey:"month"}),s.jsx(Ly,{}),s.jsx(Jx,{}),s.jsx(A0,{}),s.jsx(Dy,{type:"monotone",dataKey:"students",stroke:"#8884d8",fill:"#8884d8",name:"Students"}),s.jsx(Dy,{type:"monotone",dataKey:"assignments",stroke:"#82ca9d",fill:"#82ca9d",name:"Assignments"})]})}):s.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(en,{className:"w-12 h-12 mx-auto mb-3"}),s.jsx("p",{children:"No monthly data available"})]})})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-6",children:"Recent Activities"}),s.jsx("div",{className:"space-y-4",children:y.length>0?y.map(S=>s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"p-2 bg-gray-100 rounded-full flex-shrink-0",children:u(S.type)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-800",children:S.message}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(S.time).toLocaleString()})]})]},S.id)):s.jsxs("div",{className:"text-center py-10 text-gray-500",children:[s.jsx(en,{className:"w-10 h-10 mx-auto mb-3"}),s.jsx("p",{children:"No recent activities to display."})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-6",children:"Class Distribution"}),b.length>0?s.jsx(ey,{width:"100%",height:300,children:s.jsxs(MR,{children:[s.jsx(ww,{data:b,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",nameKey:"name",children:b.map((S,E)=>s.jsx(jg,{fill:S.color},`cell-${E}`))}),s.jsx(Jx,{}),s.jsx(A0,{})]})}):s.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Jr,{className:"w-12 h-12 mx-auto mb-3"}),s.jsx("p",{children:"No class data available"})]})})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-6",children:"Assignment Progress by Subject"}),v.length>0?s.jsx(ey,{width:"100%",height:300,children:s.jsxs(ime,{data:v,children:[s.jsx(n2,{strokeDasharray:"3 3"}),s.jsx(Oy,{dataKey:"subject"}),s.jsx(Ly,{}),s.jsx(Jx,{}),s.jsx(A0,{}),s.jsx(e2,{dataKey:"completed",stackId:"a",fill:"#10B981",name:"Completed"}),s.jsx(e2,{dataKey:"pending",stackId:"a",fill:"#F59E0B",name:"Pending"})]})}):s.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(lf,{className:"w-12 h-12 mx-auto mb-3"}),s.jsx("p",{children:"No assignment data available"})]})})]})]}),s.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[s.jsx("div",{children:s.jsxs("span",{children:["School ID: ",localStorage.getItem("schoolId")||"Not set"]})}),s.jsx("div",{children:s.jsxs("span",{children:["Last updated: ",new Date().toLocaleString("en-IN")]})})]})})]})]})},xme="https://vidyaastra.com/api",yme=()=>{const[t,r]=w.useState(!1),[n,a]=w.useState(null),[i,o]=w.useState(!1),[l,c]=w.useState(""),[u,f]=w.useState(""),[A,m]=w.useState({name:"",email:"",phone:"",paymentMethod:"card",cardNumber:"",expiryDate:"",cvv:"",nameOnCard:"",upiId:""}),p=localStorage.getItem("color")||"#4f46e5",g=[{id:"65d2e8e7a1b2c3d4e5f6a7b8",name:"Basic Plan",students:50,price:15e3,duration:"Monthly",features:["Basic Learning","Online Classes","Study Materials"],color:"blue"},{id:"65d2e8e7a1b2c3d4e5f6a7b9",name:"Premium Plan",students:100,price:25e3,duration:"Monthly",features:["Advanced Learning","Live Sessions","Personal Tutor","Assignments"],color:"purple"},{id:"65d2e8e7a1b2c3d4e5f6a7c0",name:"Enterprise Plan",students:200,price:45e3,duration:"Monthly",features:["All Features","Priority Support","Custom Content","Analytics"],color:"green"}],b=C=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(C),v=C=>{a(C),r(!0),c(""),f("")},y=()=>{r(!1),a(null),m({name:"",email:"",phone:"",paymentMethod:"card",cardNumber:"",expiryDate:"",cvv:"",nameOnCard:"",upiId:""}),c(""),f("")},j=async C=>{C.preventDefault(),o(!0),c(""),f("");const S=localStorage.getItem("schoolId")||"65d2e8e7a1b2c3d4e5f6a7b7";if(!n){c("No package selected."),o(!1);return}const E={schoolId:S,packageId:n.id,name:A.name,email:A.email,phone:A.phone,paymentMethod:A.paymentMethod,amount:n.price};A.paymentMethod==="card"?E.cardDetails={cardNumber:A.cardNumber.replace(/\s/g,""),nameOnCard:A.nameOnCard,expiryDate:A.expiryDate,cvv:A.cvv}:A.paymentMethod==="upi"&&(E.upiId=A.upiId);try{const D=await Ft.post(`${xme}/payments`,E,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});console.log("Payment submitted successfully:",D.data),f("Payment submitted successfully!"),setTimeout(()=>{y()},2e3)}catch(D){console.error("Payment submission error:",D.response?.data||D.message),c(D.response?.data?.message||"Failed to process payment. Please try again.")}finally{o(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("div",{className:"text-white p-6 rounded-b-3xl shadow-lg",style:{background:p},children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(nl,{className:"w-6 h-6"}),s.jsx("h1",{className:"text-2xl font-bold",children:"School Packages"})]})}),s.jsx("p",{className:"opacity-80 mt-2",children:"Choose the perfect package for your needs"})]}),s.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(C=>s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border hover:shadow-lg transition-all",style:{borderColor:p},children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:C.name})}),s.jsx("div",{className:"text-white rounded-xl p-4 mb-4",style:{background:p},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Jr,{className:"w-5 h-5"}),s.jsxs("span",{className:"font-semibold",children:[C.students," Students"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold",children:b(C.price)}),s.jsxs("div",{className:"text-sm opacity-90",children:["/",C.duration]})]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Features:"}),C.features.map((S,E)=>s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),s.jsx("span",{children:S})]},E))]}),s.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100",children:s.jsxs("button",{onClick:()=>v(C),className:"w-full py-3 px-6 text-white rounded-xl font-semibold hover:shadow-lg transform hover:scale-105 transition-all duration-200 flex items-center justify-center space-x-2",style:{background:p},children:[s.jsx("span",{children:"Buy Now"}),s.jsx("span",{children:"→"})]})})]},C.id))}),t&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ch,{className:"w-6 h-6",style:{color:p}}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Complete Payment"})]}),s.jsx("button",{onClick:y,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(sr,{className:"w-5 h-5 text-gray-500"})})]}),n&&s.jsxs("div",{className:"p-6 bg-gray-50 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Package Summary"}),s.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-semibold text-gray-800",children:n.name}),s.jsx("span",{className:"text-2xl font-bold",style:{color:p},children:b(n.price)})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[s.jsx(Jr,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{children:[n.students," Students •"," ",n.duration]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:n.features.map((C,S)=>s.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:[s.jsx(gi,{className:"w-3 h-3 mr-1"}),C]},S))})]})]}),s.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[l&&s.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded flex items-center space-x-2",children:[s.jsx(ln,{className:"w-5 h-5"}),s.jsx("span",{children:l})]}),u&&s.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded flex items-center space-x-2",children:[s.jsx(gi,{className:"w-5 h-5"}),s.jsx("span",{children:u})]}),s.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:y,disabled:i,className:"flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:i,className:"flex-1 py-3 px-6 text-white rounded-xl font-semibold hover:shadow-lg transform hover:scale-105 transition-all duration-200 flex items-center justify-center space-x-2",style:{background:p},children:[i?s.jsx(br,{className:"w-4 h-4 animate-spin"}):s.jsx(gi,{className:"w-4 h-4"}),s.jsx("span",{children:i?"Processing...":`Pay ${n&&b(n.price)}`})]})]})]})]})})]})},QR="/assets/parnets-CaRgMuPa.png",vme=({setSchoolId:t})=>{const[r,n]=w.useState("admin"),a=AA(),[i,o]=w.useState(""),[l,c]=w.useState(""),[u,f]=w.useState(""),[A,m]=w.useState(""),[p,g]=w.useState(""),[b,v]=w.useState(""),[y,j]=w.useState(!1),[C,S]=w.useState(null),[E,D]=w.useState(null),k=async Y=>{Y.preventDefault(),j(!0),S(null),D(null);try{const Q=await Ft.post("https://vidyaastra.com/api/schools/login",{email:i,password:l,schoolCode:u});console.log("Admin Login Success:",Q.data),localStorage.setItem("schoolId",Q.data.data.id),t(Q.data.data.id),localStorage.setItem("adminToken",Q.data.token),localStorage.setItem("userType","admin"),localStorage.setItem("color",Q.data.data.color),localStorage.setItem("schoolLogo",Q.data.data.logoUrl||"/default-logo.png"),localStorage.removeItem("superadmin_token"),localStorage.removeItem("superadmin_user"),localStorage.removeItem("teacherId"),localStorage.removeItem("teacherToken"),D("Admin login successful! Redirecting..."),setTimeout(()=>{a("/dashboard",{replace:!0})},1500)}catch(Q){console.error("Admin Login Error:",Q),S(Q.response?.data?.message||"Admin login failed. Please check your credentials and school code.")}finally{j(!1)}},L=async Y=>{Y.preventDefault(),j(!0),S(null),D(null);try{const Q=await Ft.post("https://vidyaastra.com/api/teacher/login",{email:A,password:p,schoolCode:b});console.log("Teacher Login Success:",Q.data),localStorage.setItem("teacherId",Q.data.teacher._id),localStorage.setItem("teacherToken",Q.data.token),localStorage.setItem("userType","teacher"),localStorage.setItem("schoolId",Q.data.teacher.schoolId),t(Q.data.teacher.schoolId),localStorage.setItem("schoolLogo",Q.data.teacher.schoolId.logoUrl||"/default-logo.png"),localStorage.removeItem("adminToken"),localStorage.removeItem("superadmin_token"),D("Teacher login successful! Redirecting..."),setTimeout(()=>{a("/teacher/attendance",{replace:!0})},1500)}catch(Q){console.error("Teacher Login Error:",Q),S(Q.response?.data?.message||"Teacher login failed. Please check your credentials and school code.")}finally{j(!1)}},I=Y=>{n(Y),S(null),D(null),Y==="admin"?(m(""),g(""),v("")):(o(""),c(""),f(""))};return s.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-blue-400 to-orange-400 p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"flex space-x-2 mb-6 bg-white rounded-lg p-1 shadow-sm",children:[s.jsx("button",{onClick:()=>I("admin"),className:`flex-1 px-6 py-3 rounded-md font-medium transition-all duration-200 ${r==="admin"?"bg-indigo-700 text-white shadow-md":"text-indigo-700 hover:bg-indigo-50"}`,children:"Admin Login"}),s.jsx("button",{onClick:()=>I("teacher"),className:`flex-1 px-6 py-3 rounded-md font-medium transition-all duration-200 ${r==="teacher"?"bg-orange-600 text-white shadow-md":"text-orange-600 hover:bg-orange-50"}`,children:"Teacher Login"})]}),E&&s.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded-md text-center",children:E}),C&&s.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-md text-center",children:C}),r==="admin"&&s.jsxs("form",{onSubmit:k,className:"bg-white p-6 rounded-xl shadow-lg space-y-6",children:[s.jsx("div",{children:s.jsx("img",{src:QR,alt:"ParNets Logo",className:"h-24 w-24 text-center"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-indigo-700 ",children:"Admin Portal"}),s.jsx("p",{className:"text-gray-600",children:"Sign in to manage your school"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsx("input",{type:"email",placeholder:"Enter your email",value:i,onChange:Y=>o(Y.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",disabled:y,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),s.jsx("input",{type:"password",placeholder:"Enter your password",value:l,onChange:Y=>c(Y.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",disabled:y,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"School Code"}),s.jsx("input",{type:"text",placeholder:"Enter school code",value:u,onChange:Y=>f(Y.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",disabled:y,required:!0})]})]}),s.jsx("button",{type:"submit",className:"w-full bg-indigo-700 text-white py-3 rounded-lg hover:bg-indigo-800 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",disabled:y||!i||!l||!u,children:y?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in as Admin"})]}),r==="teacher"&&s.jsxs("form",{onSubmit:L,className:"bg-white p-8 rounded-xl shadow-lg space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-orange-700 mb-2",children:"Teacher Portal"}),s.jsx("p",{className:"text-gray-600",children:"Access your teaching dashboard"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsx("input",{type:"email",placeholder:"Enter your email",value:A,onChange:Y=>m(Y.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",disabled:y,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),s.jsx("input",{type:"password",placeholder:"Enter your password",value:p,onChange:Y=>g(Y.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",disabled:y,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"School Code"}),s.jsx("input",{type:"text",placeholder:"Enter school code",value:b,onChange:Y=>v(Y.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",disabled:y,required:!0})]})]}),s.jsx("button",{type:"submit",className:"w-full bg-orange-600 text-white py-3 rounded-lg hover:bg-orange-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",disabled:y||!A||!p||!b,children:y?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in as Teacher"})]})]})})},AP={present:{icon:gi,color:"bg-green-500 text-white"},absent:{icon:sr,color:"bg-red-500 text-white"},late:{icon:_n,color:"bg-[#F37021] text-white"},holiday:{icon:_n,color:"bg-yellow-500 text-white"}},bme=()=>{const[t,r]=w.useState(""),[n,a]=w.useState(""),[i,o]=w.useState(""),[l,c]=w.useState(""),[u,f]=w.useState([]),[A,m]=w.useState([]),[p,g]=w.useState([]),[b,v]=w.useState(null),[y,j]=w.useState(!0),[C,S]=w.useState([]),[E,D]=w.useState(""),[k,L]=w.useState(""),[I,Y]=w.useState(!1),[Q,H]=w.useState({start:"",end:""}),[U,K]=w.useState(1),[X]=w.useState(10),[Z,ee]=w.useState(1),[de,Ne]=w.useState(0);w.useEffect(()=>{Se()},[]),w.useEffect(()=>{ue()},[U,E]);const Se=async()=>{try{j(!0);const pe=await(await fetch("https://vidyaastra.com/api/schools",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();pe.success&&Array.isArray(pe.data)?S(pe.data):S([]);const ge=await(await fetch("https://vidyaastra.com/api/class",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();ge.success&&Array.isArray(ge.data)?m(ge.data):(m([]),g([]))}catch(ie){console.error("Error fetching schools or classes:",ie.message),v("Failed to load schools or classes")}finally{j(!1)}},ue=async()=>{try{j(!0);const pe=await(await fetch(`https://vidyaastra.com/api/attendance/all-unfiltered?page=${U}&limit=${X}${E?`&schoolId=${E}`:""}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();if(pe.success&&Array.isArray(pe.data)){const ye=pe.data.map(ge=>{const le=A.find(se=>se._id===ge.studentId?.classId),Qe=le?.name||"Unknown Class",ce=le?.section||"N/A";return{id:ge._id,name:ge.studentId?.name||"Unknown Student",rollNo:ge.studentId?.rollNumber||"",studentId:ge.studentId?.studentId||"",classId:ge.studentId?.classId||"",classGrade:Qe,section:ce,status:ge.status||"unknown",date:xe(ge.date),schoolId:ge.studentId?.schoolId||ge.schoolId||""}});f(ye),ee(pe.pagination.totalPages||1),Ne(pe.pagination.totalRecords||0),v(null)}else v(pe.message||"Failed to fetch attendance"),f([])}catch(ie){v("Error fetching attendance: "+ie.message),f([])}finally{j(!1)}},xe=ie=>{if(!ie)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(ie))return ie;try{const pe=new Date(ie);return isNaN(pe)?"":pe.toISOString().slice(0,10)}catch{return""}},R=w.useMemo(()=>u.some(ie=>ie.schoolId&&C.some(pe=>pe._id===ie.schoolId))||C.length>0,[u,C]),G=w.useMemo(()=>{if(!E)return"All Schools";const ie=C.find(pe=>pe._id===E);return ie?ie.name:"Unknown School"},[E,C]),ne=w.useMemo(()=>E?A.filter(ie=>ie.schoolId===E||!ie.schoolId):A,[A,E]),ae=w.useMemo(()=>[...new Set(ne.map(ie=>ie.name))].filter(Boolean).sort((ie,pe)=>ie.localeCompare(pe,void 0,{numeric:!0})),[ne]),oe=w.useMemo(()=>{let ie=ne;return n&&(ie=ne.filter(pe=>pe.name===n)),[...new Set(ie.map(pe=>pe.section))].filter(Boolean).sort()},[n,ne]),he=w.useMemo(()=>u.filter(ie=>{const pe=!E||ie.schoolId===E;let ye=!0;Q.start&&Q.end?ye=ie.date>=Q.start&&ie.date<=Q.end:t&&(ye=ie.date===t);const ge=!n||ie.classGrade===n,le=!i||ie.section===i,Qe=!l||ie.name.toLowerCase().includes(l.toLowerCase())||ie.rollNo.includes(l)||ie.studentId.toLowerCase().includes(l.toLowerCase()),ce=!k||ie.status===k;return pe&&ye&&ge&&le&&Qe&&ce}),[u,E,t,n,i,l,k,Q]),me=()=>{c(""),L(""),H({start:"",end:""}),r(""),D(""),a(""),o(""),K(1)},te=()=>{if(he.length===0){alert("No data to export");return}const ie=he.map(se=>({Date:se.date,"Roll Number":se.rollNo,"Student Name":se.name,"Student ID":se.studentId,Class:se.classGrade,Section:se.section||"N/A","Attendance Status":se.status.charAt(0).toUpperCase()+se.status.slice(1),"School Name":C.find(je=>je._id===se.schoolId)?.name||"Unknown School"})),pe=Object.keys(ie[0]),ye=[pe.join(","),...ie.map(se=>pe.map(je=>`"${se[je]??""}"`).join(","))].join(`
`),ge=new Blob([ye],{type:"text/csv;charset=utf-8;"}),le=document.createElement("a"),Qe=URL.createObjectURL(ge);le.setAttribute("href",Qe);let ce="attendance_";E&&(ce+=`${G}_`),n&&(ce+=`${n}_`),i&&(ce+=`${i}_`),t?ce+=`${t}_`:Q.start&&Q.end&&(ce+=`${Q.start}_to_${Q.end}_`),ce+=`${new Date().toISOString().split("T")[0]}.csv`,le.setAttribute("download",ce),le.style.visibility="hidden",document.body.appendChild(le),le.click(),document.body.removeChild(le)},Ae=w.useMemo(()=>[{icon:Jr,value:he.length,label:"Total Students",color:"orange"},{icon:gi,value:he.filter(ie=>ie.status==="present").length,label:"Present",color:"green"},{icon:sr,value:he.filter(ie=>ie.status==="absent").length,label:"Absent",color:"red"},{icon:_n,value:he.filter(ie=>ie.status==="late").length,label:"Late",color:"orange"}],[he]),V=ie=>{ie>=1&&ie<=Z&&K(ie)};return s.jsxs("div",{className:"space-y-8 p-8 bg-gradient-to-b from-[#1C1444]/5 to-white min-h-screen",children:[s.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-[#1C1444]/10 transition-all duration-300 hover:shadow-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-extrabold text-[#1C1444] tracking-tight",children:"Attendance Management"}),s.jsxs("p",{className:"text-[#1C1444]/80 text-lg mt-1",children:["View student attendance records",s.jsxs("span",{className:"ml-2 text-[#F37021] font-semibold",children:["(",G,")"]})]})]}),s.jsxs("button",{onClick:te,className:"bg-gradient-to-r from-[#F37021] to-[#d55f1c] hover:from-[#d55f1c] hover:to-[#b54e17] text-white px-6 py-3 rounded-lg shadow-md flex items-center space-x-2 transform transition-all duration-200 hover:scale-105 disabled:opacity-50",title:"Export to CSV",disabled:y,children:[s.jsx(Cs,{className:"w-5 h-5"})," ",s.jsx("span",{children:"Export CSV"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-6",children:[R&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"School"}),s.jsxs("select",{value:E,onChange:ie=>{D(ie.target.value),a(""),o(""),K(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:y||C.length===0,children:[s.jsx("option",{value:"",children:"All Schools"}),C.map(ie=>s.jsx("option",{value:ie._id,children:ie.name},ie._id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Class"}),s.jsxs("select",{value:n,onChange:ie=>{a(ie.target.value),o(""),K(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:y||ae.length===0,children:[s.jsx("option",{value:"",children:"All Classes"}),ae.length===0?s.jsx("option",{value:"",disabled:!0,children:"No classes available"}):ae.map(ie=>s.jsx("option",{value:ie,children:ie},ie))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Section"}),s.jsxs("select",{value:i,onChange:ie=>{o(ie.target.value),K(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:y||oe.length===0,children:[s.jsx("option",{value:"",children:"All Sections"}),oe.length===0?s.jsx("option",{value:"",disabled:!0,children:"No sections available"}):oe.map(ie=>s.jsx("option",{value:ie,children:ie},ie))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Date"}),s.jsxs("div",{className:"relative",children:[s.jsx(en,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#1C1444]/60 w-5 h-5"}),s.jsx("input",{type:"date",value:t,onChange:ie=>{r(ie.target.value),H({start:"",end:""}),K(1)},className:"w-full pl-10 pr-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:y})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Search Students"}),s.jsxs("div",{className:"relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#1C1444]/60 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search by name, roll no...",value:l,onChange:ie=>c(ie.target.value),className:"w-full pl-10 pr-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:y})]})]})]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:"text-sm text-[#1C1444]/80",children:["Showing ",he.length," of ",de," records"]}),s.jsxs("button",{onClick:()=>Y(!I),className:"flex items-center space-x-2 px-4 py-2 border border-[#1C1444]/20 rounded-lg bg-white hover:bg-[#1C1444] hover:text-white transition-all duration-200 disabled:opacity-50",disabled:y,children:[s.jsx(Mo,{className:"w-5 h-5"}),s.jsx("span",{children:"Advanced Filters"})]})]})}),I&&s.jsx("div",{className:"border-t pt-6 mt-6 border-[#1C1444]/10 transition-all duration-300",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Date Range Start"}),s.jsx("input",{type:"date",value:Q.start,onChange:ie=>{H({...Q,start:ie.target.value}),r(""),K(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:y})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Date Range End"}),s.jsx("input",{type:"date",value:Q.end,onChange:ie=>{H({...Q,end:ie.target.value}),r(""),K(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:y})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Attendance Status"}),s.jsxs("select",{value:k,onChange:ie=>L(ie.target.value),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:y,children:[s.jsx("option",{value:"",children:"All Status"}),s.jsx("option",{value:"present",children:"Present"}),s.jsx("option",{value:"absent",children:"Absent"}),s.jsx("option",{value:"late",children:"Late"}),s.jsx("option",{value:"holiday",children:"Holiday"})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:me,className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg bg-white hover:bg-[#1C1444] hover:text-white text-[#1C1444] transition-all duration-200 disabled:opacity-50",disabled:y,children:"Clear Filters"})})]})})]}),y&&s.jsx("div",{className:"p-6 bg-[#F37021]/10 text-[#F37021] rounded-2xl shadow-md text-center transition-all duration-300",children:"Loading attendance records..."}),b&&s.jsx("div",{className:"p-6 bg-red-100 text-red-700 rounded-2xl shadow-md text-center transition-all duration-300",children:b}),!y&&!b&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:Ae.map((ie,pe)=>s.jsx("div",{className:`bg-white rounded-2xl p-6 shadow-md border-l-4 border-${ie.color==="orange"?"[#F37021]":ie.color+"-500"} transition-all duration-300 hover:shadow-lg hover:-translate-y-1`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ie.icon,{className:`w-10 h-10 text-${ie.color==="orange"?"[#F37021]":ie.color+"-600"} transition-transform duration-200 group-hover:scale-110`}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-3xl font-extrabold text-[#1C1444]",children:ie.value}),s.jsx("div",{className:"text-sm text-[#1C1444]/80",children:ie.label})]})]})},pe))}),!y&&!b&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden transition-all duration-300",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gradient-to-r from-[#1C1444]/10 to-[#F37021]/10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Roll No"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Student Name"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Student ID"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Class"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Section"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"School"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Attendance Status"})]})}),s.jsx("tbody",{className:"divide-y divide-[#1C1444]/10",children:he.map(ie=>{const pe=ie.status,ye=AP[pe]?.icon||sr,ge=AP[pe]?.color||"bg-[#1C1444] text-white",le=C.find(Qe=>Qe._id===ie.schoolId)?.name||"Unknown School";return s.jsxs("tr",{className:"hover:bg-[#F37021]/5 transition-all duration-200",children:[s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-[#1C1444]",children:ie.date}),s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-[#1C1444]",children:ie.rollNo}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-[#F37021]/10 text-[#F37021] text-sm font-semibold rounded-full w-8 h-8 flex items-center justify-center mr-3 transition-transform duration-200 hover:scale-110",children:ie.name.split(" ").map(Qe=>Qe[0]).join("")}),s.jsx("span",{className:"text-[#1C1444]",children:ie.name})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-[#F37021]/10 text-[#F37021] rounded-full",children:ie.studentId})}),s.jsx("td",{className:"px-6 py-4 text-sm text-[#1C1444]",children:ie.classGrade}),s.jsx("td",{className:"px-6 py-4 text-sm text-[#1C1444]",children:ie.section}),s.jsx("td",{className:"px-6 py-4 text-sm text-[#1C1444]",children:le}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"flex justify-center",children:s.jsxs("span",{className:`px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 ${ge} transition-all duration-200 hover:shadow-md`,children:[s.jsx(ye,{className:"w-4 h-4"}),s.jsx("span",{className:"capitalize",children:pe})]})})})]},ie.id)})})]}),he.length===0&&u.length>0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Jr,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),s.jsx("h3",{className:"text-lg font-semibold text-[#1C1444] mb-2",children:"No records match your filters"}),s.jsx("p",{className:"text-[#1C1444]/80 mb-4",children:"Try adjusting your date, class, section, status, or search criteria"}),s.jsx("button",{onClick:me,className:"text-[#F37021] hover:text-[#d55f1c] underline font-medium transition-colors duration-200",children:"Clear all filters"})]}),he.length===0&&u.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Jr,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),s.jsx("h3",{className:"text-lg font-semibold text-[#1C1444] mb-2",children:"No attendance records found"}),s.jsx("p",{className:"text-[#1C1444]/80",children:"No attendance data is available"})]})]}),!y&&!b&&de>0&&s.jsxs("div",{className:"mt-8 flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm text-[#1C1444]/80",children:["Showing ",(U-1)*X+1," to"," ",Math.min(U*X,de)," of ",de," ","records"]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>V(U-1),disabled:U===1,className:"px-5 py-2 bg-[#1C1444]/10 text-[#1C1444] rounded-lg disabled:opacity-50 hover:bg-[#1C1444] hover:text-white transition-all duration-200",children:"Previous"}),s.jsx("button",{onClick:()=>V(U+1),disabled:U===Z,className:"px-5 py-2 bg-[#1C1444]/10 text-[#1C1444] rounded-lg disabled:opacity-50 hover:bg-[#1C1444] hover:text-white transition-all duration-200",children:"Next"})]})]})]})},wme=()=>{const[t,r]=w.useState("all"),[n,a]=w.useState([]),[i,o]=w.useState([]),[l,c]=w.useState([]),[u,f]=w.useState(""),[A,m]=w.useState(""),[p,g]=w.useState(""),[b,v]=w.useState([]),[y,j]=w.useState(1),[C]=w.useState(10),[S,E]=w.useState(1),[D,k]=w.useState(!1),[L,I]=w.useState(null),[Y,Q]=w.useState(!1),H=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];w.useEffect(()=>{Ft.get("https://vidyaastra.com/api/schools").then(ee=>{ee.data.success&&a(ee.data.data)}).catch(()=>I("Failed to load schools"))},[]),w.useEffect(()=>{if(b.length===0){o([]),c([]),f(""),m("");return}const ee=new Set,de=new Set;b.forEach(ue=>{ue.timetable.forEach(xe=>{const[R,G]=xe.className.split(" ");ee.add(R),G&&de.add(G)})});const Ne=Array.from(ee).map(ue=>({className:ue})),Se=Array.from(de).map(ue=>({section:ue}));o(Ne.sort((ue,xe)=>ue.className.localeCompare(xe.className))),c(Se.sort((ue,xe)=>ue.section.localeCompare(xe.section))),f(Ne[0]?.className||""),m(Se[0]?.section||"")},[b]),w.useEffect(()=>{k(!0);const ee={page:y,limit:C};t!=="all"&&(ee.schoolId=t),u&&(ee.className=u),A&&(ee.section=A),Ft.get("https://vidyaastra.com/api/timetable",{params:ee}).then(de=>{de.data.success?(v(de.data.data),E(de.data.totalPages),I(null)):(v([]),E(1),I("No timetables found"))}).catch(()=>I("Failed to load timetable")).finally(()=>k(!1))},[t,u,A,y,C]);const U=()=>{r("all"),f(""),m(""),g(""),j(1)},K=w.useMemo(()=>{const ee={};return b.forEach(de=>{const Ne=n.find(Se=>Se._id===de.schoolId)?.name||"Unknown School";ee[Ne]||(ee[Ne]={}),de.timetable.filter(Se=>p?Se.day===p:!0).filter(Se=>{if(!A)return!0;const[,ue]=Se.className.split(" ");return ue===A}).forEach(Se=>{const ue=Se.className.split(" ")[0];ee[Ne][ue]||(ee[Ne][ue]=[]),ee[Ne][ue].push(...Se.periods.map(xe=>({id:xe._id||"unknown-id",className:Se.className,day:Se.day,subject:xe.subjectName||"Unknown Subject",teacher:xe.teacherName||"Unknown Teacher",startTime:X(xe.startTime),endTime:X(xe.endTime),type:xe.type||"subject"})))})}),Object.keys(ee).forEach(de=>{Object.keys(ee[de]).forEach(Ne=>{ee[de][Ne].sort((Se,ue)=>Se.startTime.localeCompare(ue.startTime))})}),ee},[b,p,A,n]);function X(ee){if(!ee||typeof ee!="string")return"00:00";let de=ee.replace(/(AM|PM|am|pm)/gi,"").trim();const[Ne,Se="00"]=de.split(":").map(ue=>ue.trim());return`${Ne.padStart(2,"0")}:${Se.padStart(2,"0")}`}const Z=ee=>{switch(ee){case"break":return"bg-orange-50 text-orange-700";case"lunch":return"bg-green-50 text-green-700";default:return"bg-white text-[#1C1444]"}};return s.jsx("div",{className:"min-h-screen bg-white p-4 md:p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("header",{className:"bg-white border-b border-[#1C1444]/10 p-4 md:p-6 shadow-md sticky top-0 z-20",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(_n,{className:"w-6 h-6 text-[#F37021] animate-pulse"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-[#1C1444]",children:"Timetable Dashboard"}),s.jsx("p",{className:"text-sm text-[#1C1444]/70",children:"Manage your class schedules with ease"})]})]}),s.jsxs("button",{className:"md:hidden flex items-center px-3 py-1.5 bg-[#F37021] text-white rounded-md text-sm hover:bg-[#d55f1d] transition duration-200",onClick:()=>Q(!Y),children:[s.jsx(Mo,{className:"w-4 h-4 mr-1"}),"Filters",s.jsx(gf,{className:`w-4 h-4 ml-1 transform transition-transform duration-200 ${Y?"rotate-180":""}`})]})]}),s.jsxs("div",{className:`flex flex-wrap items-center gap-2 md:gap-3 ${Y?"block":"hidden md:flex"} transition-all duration-300`,children:[s.jsxs("div",{className:"flex items-center gap-2 bg-[#1C1444]/5 p-2 rounded-md",children:[s.jsx(Mo,{className:"w-4 h-4 text-[#1C1444]"}),s.jsxs("select",{value:t,onChange:ee=>{r(ee.target.value),j(1)},className:"px-3 py-1.5 bg-white border border-[#1C1444]/20 rounded-md text-[#1C1444] text-sm focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition duration-200 hover:bg-[#F37021]/5",children:[s.jsx("option",{value:"all",children:"All Schools"}),n.map(ee=>s.jsx("option",{value:ee._id,children:ee.name},ee._id))]})]}),s.jsxs("select",{value:u,onChange:ee=>{f(ee.target.value),j(1)},className:"px-3 py-1.5 bg-white border border-[#1C1444]/20 rounded-md text-[#1C1444] text-sm focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition duration-200 hover:bg-[#F37021]/5 disabled:opacity-50",disabled:!i.length,children:[s.jsx("option",{value:"",children:"All Classes"}),i.map(ee=>s.jsx("option",{value:ee.className,children:ee.className},ee.className))]}),s.jsxs("select",{value:A,onChange:ee=>{m(ee.target.value),j(1)},className:"px-3 py-1.5 bg-white border border-[#1C1444]/20 rounded-md text-[#1C1444] text-sm focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition duration-200 hover:bg-[#F37021]/5 disabled:opacity-50",disabled:!l.length,children:[s.jsx("option",{value:"",children:"All Sections"}),l.map(ee=>s.jsx("option",{value:ee.section,children:ee.section},ee.section))]}),s.jsxs("select",{value:p,onChange:ee=>g(ee.target.value),className:"px-3 py-1.5 bg-white border border-[#1C1444]/20 rounded-md text-[#1C1444] text-sm focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition duration-200 hover:bg-[#F37021]/5",children:[s.jsx("option",{value:"",children:"All Days"}),H.map(ee=>s.jsx("option",{value:ee,children:ee},ee))]}),s.jsxs("button",{onClick:U,className:"flex items-center px-3 py-1.5 bg-[#F37021] text-white rounded-md text-sm hover:bg-[#d55f1d] transition duration-200",children:[s.jsx(sr,{className:"w-4 h-4 mr-1"}),"Reset"]})]})]})}),s.jsxs("div",{className:"p-4 md:p-6 space-y-8",children:[D&&s.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-md",children:[s.jsx("div",{className:"inline-block w-10 h-10 border-4 border-[#F37021] border-t-transparent rounded-full animate-spin"}),s.jsx("p",{className:"text-[#1C1444] text-base font-medium mt-3",children:"Loading schedules..."})]}),L&&s.jsxs("div",{className:"p-4 bg-white border border-red-200 text-red-600 rounded-xl shadow-md",children:[s.jsx("p",{className:"font-medium",children:L}),s.jsx("p",{className:"text-sm mt-1",children:"Please ensure the backend server is running."})]}),!D&&!L&&s.jsxs("div",{className:"space-y-8",children:[Object.keys(K).length===0?s.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-md",children:[s.jsx(_n,{className:"w-10 h-10 text-[#1C1444]/30 mx-auto mb-3"}),s.jsx("p",{className:"text-[#1C1444] text-base font-medium",children:"No schedules available"})]}):Object.entries(K).map(([ee,de])=>s.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[s.jsxs("div",{className:"p-4 bg-white border-b border-[#1C1444]/10 flex items-center gap-2",children:[s.jsx(Ma,{className:"w-5 h-5 text-[#F37021]"}),s.jsx("h2",{className:"text-lg font-semibold text-[#1C1444]",children:ee})]}),Object.entries(de).map(([Ne,Se])=>s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"text-base font-semibold text-[#1C1444] mb-3",children:Ne}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full border border-[#1C1444]/10 rounded-md",children:[s.jsx("thead",{className:"bg-[#1C1444]/5",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Day"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Time"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Subject"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Teacher"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Type"})]})}),s.jsx("tbody",{className:"divide-y divide-[#1C1444]/10",children:Se.length===0?s.jsx("tr",{children:s.jsxs("td",{colSpan:"5",className:"px-4 py-3 text-center text-[#1C1444]/60",children:["No periods scheduled for"," ",p||"this day"]})}):Se.map((ue,xe)=>s.jsxs("tr",{className:`${Z(ue.type)} ${xe%2===0?"bg-white":"bg-[#1C1444]/5"} hover:bg-[#F37021]/10 transition duration-200`,children:[s.jsx("td",{className:"px-4 py-2.5 text-sm text-[#1C1444] font-medium",children:ue.day}),s.jsxs("td",{className:"px-4 py-2.5 text-sm text-[#1C1444]",children:[ue.startTime," - ",ue.endTime]}),s.jsx("td",{className:"px-4 py-2.5 text-sm font-semibold text-[#1C1444]",children:ue.subject}),s.jsx("td",{className:"px-4 py-2.5 text-sm text-[#1C1444]",children:ue.teacher}),s.jsx("td",{className:"px-4 py-2.5 text-sm capitalize text-[#1C1444]",children:ue.type})]},ue.id))})]})})]},Ne))]},ee)),S>1&&s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl shadow-md",children:[s.jsx("button",{onClick:()=>j(ee=>Math.max(1,ee-1)),disabled:y===1,className:"px-4 py-1.5 bg-[#F37021] text-white rounded-md text-sm hover:bg-[#d55f1d] disabled:opacity-50 transition duration-200 transform hover:scale-105",children:"Previous"}),s.jsxs("span",{className:"text-[#1C1444] text-sm font-medium",children:["Page ",y," of ",S]}),s.jsx("button",{onClick:()=>j(ee=>Math.min(S,ee+1)),disabled:y===S,className:"px-4 py-1.5 bg-[#F37021] text-white rounded-md text-sm hover:bg-[#d55f1d] disabled:opacity-50 transition duration-200 transform hover:scale-105",children:"Next"})]})]})]})]})})},jme="https://vidyaastra.com/api/schools/",Nme="https://vidyaastra.com/api/teacher/",Cme="https://vidyaastra.com/api/class/",Sme=()=>{const[t,r]=w.useState("upcoming"),[n,a]=w.useState(""),[i,o]=w.useState("all"),[l,c]=w.useState([]),[u,f]=w.useState(!0),[A,m]=w.useState(null),[p,g]=w.useState(""),[b,v]=w.useState(""),[y,j]=w.useState([]),[C,S]=w.useState({}),[E,D]=w.useState({}),[k,L]=w.useState("all"),[I,Y]=w.useState(1),[Q]=w.useState(10),[H,U]=w.useState(1),[K,X]=w.useState(0),[Z,ee]=w.useState("date"),[de,Ne]=w.useState("asc"),[Se]=w.useState([{id:1,subject:"English",score:85,totalMarks:100,percentage:85,grade:"A",examDate:"2023-11-15",class:"10-A",teacher:"Ms. Davis",studentsAppeared:43,passRate:89.5},{id:2,subject:"History",score:78,totalMarks:100,percentage:78,grade:"B+",examDate:"2023-11-10",class:"11-A",teacher:"Mr. Brown",studentsAppeared:36,passRate:83.3},{id:3,subject:"Biology",score:92,totalMarks:100,percentage:92,grade:"A+",examDate:"2023-11-05",class:"12-A",teacher:"Dr. Taylor",studentsAppeared:40,passRate:95}]);w.useEffect(()=>{ue()},[I]);const ue=async()=>{f(!0),m(null);try{const ye=await fetch(`https://vidyaastra.com/api/exams/all-unfiltered?page=${I}&limit=${Q}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!ye.ok)throw new Error(`HTTP error! Status: ${ye.status}`);const ge=await ye.json();if(!ge.success)throw new Error(ge.message||"Failed to fetch exams");const le=ge.data.flatMap(Re=>{let it=Re.classId?.schoolId||Re.schoolId||null;return typeof it=="object"&&it!==null&&it._id&&(it=it._id),Re.subjects&&Re.subjects.length>0?Re.subjects.map(et=>({...Re,subject:et.subjectName,date:et.date,time:et.time,duration:et.duration,syllabus:et.syllabus,schoolId:it||"",id:`${Re._id}-${et._id}`})):[{...Re,subject:Re.subject||"Unknown",date:Re.date||"",time:Re.time||"",duration:Re.duration||"",syllabus:Re.syllabus||"",schoolId:it||"",id:Re._id}]}),ce=[...new Set(le.map(Re=>Re.classId?._id).filter(Boolean))].map(async Re=>{try{const et=await(await fetch(`${Cme}${Re}`)).json();return et.success&&et.data?{_id:et.data._id,className:et.data.className||"Unknown",section:et.data.section||""}:{_id:Re,className:"Unknown",section:""}}catch{return{_id:Re,className:"Unknown",section:""}}}),se=await Promise.all(ce);j(se.filter(Re=>Re._id&&Re.className));const je=[...new Set(le.map(Re=>Re.schoolId).filter(Boolean))],we={};await Promise.all(je.map(async Re=>{try{const et=await(await fetch(`${jme}${Re}`)).json();et.success&&et.data&&et.data.name?we[Re]=et.data.name:we[Re]="Unknown"}catch{we[Re]="Unknown"}})),S(we);const q=[...new Set(le.map(Re=>Re.classId?.classTeacher).filter(Re=>Re&&typeof Re=="string"))],be={};await Promise.all(q.map(async Re=>{try{const et=await(await fetch(`${Nme}${Re}`)).json();et.success&&et.data&&et.data.name?be[Re]=et.data.name:be[Re]="Unknown"}catch{be[Re]="Unknown"}})),D(be);const Ee=le.map(Re=>{const it=se.find(Ct=>Ct._id===Re.classId?._id),et=it?`${it.className}${it.section?`-${it.section}`:""}`:"Unknown";return{id:Re.id,subject:Re.subject,date:Re.date,time:Re.time,duration:Re.duration,chapters:Re.syllabus,type:Re.examType||"Final Exam",class:et,teacher:be[Re.classId?.classTeacher]||"Unknown",totalStudents:40,status:Re.status||"Scheduled",schoolId:Re.schoolId,schoolName:we[Re.schoolId]||"Unknown"}});c(Ee),U(ge.totalPages||1),X(ge.total||0)}catch(ye){m("Error fetching exams: "+ye.message)}finally{f(!1)}};w.useEffect(()=>{v("")},[p]);const xe=[...new Set(y.map(ye=>ye.className).filter(Boolean))].sort(),R=[...new Set(y.filter(ye=>ye.className===p).map(ye=>ye.section).filter(Boolean))].sort(),G=t==="upcoming"?l:Se,ae=[...new Set(l.map(ye=>ye.schoolId).filter(Boolean))].map(ye=>({_id:ye,name:C[ye]||"Unknown"})),oe=k==="all"?G:G.filter(ye=>ye.schoolId===k),he=oe.filter(ye=>{const ge=i==="all"||(t==="upcoming"?ye.type.includes(i):ye.grade===i),le=[ye.subject||"",ye.class||"",ye.teacher||""].some(ce=>ce.toLowerCase().includes(n.toLowerCase()));let Qe=!0;if(p)if(t==="upcoming"){const ce=y.find(se=>`${se.className}${se.section?`-${se.section}`:""}`===ye.class);Qe=ce&&ce.className===p&&(!b||ce.section===b)}else{const[ce,se]=ye.class.split("-");Qe=ce===p&&(!b||se===b)}return ge&&le&&Qe}),me=he.reduce((ye,ge)=>{const le=ge.schoolName||"Unknown",Qe=ge.class||"Unknown";return ye[le]||(ye[le]={}),ye[le][Qe]||(ye[le][Qe]=[]),ye[le][Qe].push(ge),ye},{}),te={};Object.keys(me).sort().forEach(ye=>{te[ye]={},Object.keys(me[ye]).sort().forEach(ge=>{te[ye][ge]=[...me[ye][ge]].sort((le,Qe)=>{let ce=le[Z],se=Qe[Z];return Z==="date"?(ce=new Date(le.date),se=new Date(Qe.date)):typeof ce=="string"&&(ce=ce.toLowerCase(),se=se.toLowerCase()),ce<se?de==="asc"?-1:1:ce>se?de==="asc"?1:-1:0})})});const Ae=ye=>{Z===ye?Ne(de==="asc"?"desc":"asc"):(ee(ye),Ne("asc"))},V=()=>{a(""),o("all"),g(""),v(""),L("all"),Y(1)},ie=()=>{if(he.length===0){alert("No data to export");return}let ye=[],ge="";t==="upcoming"?(ye=he.map(we=>({"School Name":we.schoolName,Subject:we.subject,Date:we.date,Time:we.time,Duration:we.duration,Class:we.class,Type:we.type,Chapters:we.chapters,"Total Students":we.totalStudents,Status:we.status})),ge=`upcoming_exams_${new Date().toISOString().split("T")[0]}.csv`):(ye=he.map(we=>({Subject:we.subject,Score:we.score,"Total Marks":we.totalMarks,Percentage:we.percentage,Grade:we.grade,"Exam Date":we.examDate,Class:we.class,"Students Appeared":we.studentsAppeared,"Pass Rate":we.passRate})),ge=`exam_results_${new Date().toISOString().split("T")[0]}.csv`);const le=Object.keys(ye[0]),Qe=[le.join(","),...ye.map(we=>le.map(q=>`"${we[q]??""}"`).join(","))].join(`
`),ce=new Blob([Qe],{type:"text/csv;charset=utf-8;"}),se=document.createElement("a"),je=URL.createObjectURL(ce);se.setAttribute("href",je),se.setAttribute("download",ge),se.style.visibility="hidden",document.body.appendChild(se),se.click(),document.body.removeChild(se)},pe=ye=>{ye>=1&&ye<=H&&Y(ye)};return s.jsxs("div",{className:"min-h-screen bg-gray-100",children:[s.jsx("div",{className:"bg-white border-b p-4 shadow-sm",children:s.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-black",children:"School Admin Panel"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:()=>r("upcoming"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="upcoming"?"bg-[#F37021] text-white":"bg-gray-200 text-black hover:bg-gray-300"}`,children:"Upcoming Exams"}),s.jsx("button",{onClick:()=>r("results"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="results"?"bg-[#F37021] text-white":"bg-gray-200 text-black hover:bg-gray-300"}`,children:"Exam Results"})]})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[u&&t==="upcoming"&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(en,{className:"w-12 h-12 text-[#F37021] mx-auto mb-4 animate-pulse"}),s.jsx("p",{className:"text-black text-lg",children:"Loading exams..."})]}),A&&t==="upcoming"&&s.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-xl",children:[A,s.jsx("p",{className:"text-sm mt-2",children:"Please check if the backend server is running and accessible."})]}),!u&&!A&&s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-black",children:t==="upcoming"?"Upcoming Exams":"Exam Results"}),s.jsxs("button",{onClick:ie,className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg shadow flex items-center space-x-2 transition-colors",title:"Export to CSV",disabled:u,children:[s.jsx(Cs,{})," ",s.jsx("span",{children:"Export CSV"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-black mb-2 flex items-center",children:[s.jsx(Ma,{className:"mr-2 text-[#F37021]"}),"Filter by School Name"]}),s.jsxs("select",{value:k,onChange:ye=>L(ye.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-black focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition-colors",disabled:u,children:[s.jsx("option",{value:"all",children:"All Schools"}),ae.map(ye=>s.jsx("option",{value:ye._id,children:ye.name},ye._id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Exam Type / Grade"}),s.jsxs("select",{value:i,onChange:ye=>o(ye.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-black focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition-colors",disabled:u,children:[s.jsx("option",{value:"all",children:t==="upcoming"?"All Exam Types":"All Grades"}),t==="upcoming"?["Midterm","Final Exam","Unit Test","Quiz","Practical"].map(ye=>s.jsx("option",{value:ye,children:ye},ye)):["A+","A","B+","B","C+","C","F"].map(ye=>s.jsxs("option",{value:ye,children:["Grade ",ye]},ye))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Class"}),s.jsxs("select",{value:p,onChange:ye=>g(ye.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-black focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition-colors",disabled:u,children:[s.jsx("option",{value:"",children:"All Classes"}),xe.map(ye=>s.jsx("option",{value:ye,children:ye},ye))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Section"}),s.jsxs("select",{value:b,onChange:ye=>v(ye.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-black focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition-colors disabled:opacity-50",disabled:u||p===""||R.length===0,children:[s.jsx("option",{value:"",children:"All Sections"}),R.map(ye=>s.jsx("option",{value:ye,children:ye},ye))]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Search"}),s.jsx(xn,{className:"absolute left-3 top-10 text-[#F37021]"}),s.jsx("input",{type:"text",placeholder:"Search by subject, class, or teacher...",value:n,onChange:ye=>a(ye.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg w-full text-black focus:outline-none focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition-colors",disabled:u})]})]}),s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:"text-sm text-black",children:["Showing ",he.length," of ",K," records"]}),s.jsx("button",{onClick:V,className:"px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-100 text-black transition-colors",disabled:u,children:"Clear All Filters"})]})})]}),!u&&!A&&s.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:s.jsxs("table",{className:"w-full table-auto min-w-max",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{className:"text-left text-sm font-semibold text-black",children:[s.jsxs("th",{onClick:()=>Ae("subject"),className:"p-4 cursor-pointer hover:bg-gray-100 transition-colors",children:["Subject"," ",Z==="subject"&&s.jsx("span",{className:"ml-1",children:de==="asc"?"↑":"↓"})]}),s.jsxs("th",{onClick:()=>Ae("date"),className:"p-4 cursor-pointer hover:bg-gray-100 transition-colors",children:[t==="upcoming"?"Date/Time":"Score"," ",Z==="date"&&s.jsx("span",{className:"ml-1",children:de==="asc"?"↑":"↓"})]}),s.jsxs("th",{onClick:()=>Ae("type"),className:"p-4 cursor-pointer hover:bg-gray-100 transition-colors",children:[t==="upcoming"?"Type":"Grade"," ",Z==="type"&&s.jsx("span",{className:"ml-1",children:de==="asc"?"↑":"↓"})]}),s.jsx("th",{className:"p-4",children:"Details"})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-200",children:[Object.keys(te).length===0&&oe.length>0&&s.jsx("tr",{children:s.jsxs("td",{colSpan:"4",className:"p-8 text-center text-black",children:["No ",t==="upcoming"?"exams":"results"," ","match your current filters",s.jsx("div",{className:"mt-4",children:s.jsx("button",{onClick:V,className:"text-[#F37021] hover:text-[#d65f1c] underline font-medium",children:"Clear all filters"})})]})}),Object.keys(te).length===0&&oe.length===0&&s.jsx("tr",{children:s.jsxs("td",{colSpan:"4",className:"p-8 text-center text-black",children:["No ",t==="upcoming"?"exams":"results"," ","found"]})}),Object.keys(te).map(ye=>s.jsxs(Un.Fragment,{children:[s.jsx("tr",{children:s.jsx("td",{colSpan:"4",className:"bg-[#F37021]/10 p-4 font-semibold text-black text-lg",children:ye})}),Object.keys(te[ye]).map(ge=>s.jsxs(Un.Fragment,{children:[s.jsx("tr",{children:s.jsx("td",{colSpan:"4",className:"bg-gray-50 p-4 font-medium text-black",children:ge})}),te[ye][ge].map(le=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"p-4 font-medium text-black",children:le.subject}),s.jsx("td",{className:"p-4 text-black",children:t==="upcoming"?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(en,{className:"text-[#F37021]"}),s.jsx("span",{children:le.date}),s.jsx(_n,{className:"text-[#F37021]"}),s.jsx("span",{children:le.time})]}):s.jsxs("span",{children:[le.score,"/",le.totalMarks," (",le.percentage.toFixed(1),"%)"]})}),s.jsx("td",{className:"p-4",children:t==="upcoming"?s.jsx("span",{className:"inline-block bg-[#F37021]/10 text-[#F37021] px-3 py-1 rounded-full text-sm font-medium",children:le.type}):s.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium text-white ${le.grade==="A+"?"bg-green-600":le.grade==="A"?"bg-green-500":le.grade==="B+"?"bg-[#F37021]":"bg-yellow-500"}`,children:le.grade})}),s.jsx("td",{className:"p-4",children:t==="upcoming"?s.jsxs("div",{className:"text-sm text-black space-y-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ln,{className:"mr-2 text-[#F37021]"}),le.chapters]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(_n,{className:"mr-2 text-[#F37021]"}),"Duration: ",le.duration]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(gb,{className:"mr-2 text-[#F37021]"}),"Students: ",le.totalStudents]})]}):s.jsxs("div",{className:"text-sm text-black space-y-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(en,{className:"mr-2 text-[#F37021]"}),"Exam Date: ",le.examDate]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(gb,{className:"mr-2 text-[#F37021]"}),"Pass Rate: ",le.passRate.toFixed(1),"%"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Cs,{className:"mr-2 text-[#F37021]"}),"Appeared: ",le.studentsAppeared]})]})})]},le.id))]},`${ye}-${ge}`))]},ye))]})]})}),!u&&!A&&t==="upcoming"&&K>0&&s.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm text-black",children:["Showing ",(I-1)*Q+1," to"," ",Math.min(I*Q,K)," of ",K," ","records"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>pe(I-1),disabled:I===1,className:"px-4 py-2 bg-gray-200 text-black rounded-lg disabled:opacity-50 hover:bg-gray-300 transition-colors",children:"Previous"}),s.jsx("button",{onClick:()=>pe(I+1),disabled:I===H,className:"px-4 py-2 bg-gray-200 text-black rounded-lg disabled:opacity-50 hover:bg-gray-300 transition-colors",children:"Next"})]})]})]})]})},Bme="https://vidyaastra.com/api/assignments/all-unfiltered",Eme=()=>{const[t,r]=w.useState(""),[n,a]=w.useState("All"),[i,o]=w.useState("All"),[l,c]=w.useState("All"),[u,f]=w.useState([]),[A,m]=w.useState(!0),[p,g]=w.useState(""),[b,v]=w.useState(1),[y]=w.useState(10),[j,C]=w.useState(1),[S,E]=w.useState(0),D=["Mathematics","Physics","Chemistry","English","History","Biology","Computer Science"],k=["10A","10B","9A","9B","8A","8B"];w.useEffect(()=>{(async()=>{m(!0);try{const ee=localStorage.getItem("token"),de=await fetch(`${Bme}?page=${b}&limit=${y}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ee}`}});if(!de.ok)throw new Error(`HTTP error! Status: ${de.status}`);const Ne=await de.json();if(!Ne.success)throw new Error(Ne.message||"Failed to fetch assignments");f(Ne.data||[]),C(Ne.pagination.totalPages||1),E(Ne.pagination.totalRecords||0)}catch(ee){g("Error fetching assignments: "+ee.message),console.error("Fetch Error:",ee)}finally{m(!1)}})()},[b]);const L=u.filter(Z=>{const ee=Z.title.toLowerCase().includes(t.toLowerCase())||Z.subject.toLowerCase().includes(t.toLowerCase())||Z.studentName.toLowerCase().includes(t.toLowerCase())||Z.rollNo.toLowerCase().includes(t.toLowerCase())||Z.description.toLowerCase().includes(t.toLowerCase()),de=n==="All"||Z.subject===n,Ne=i==="All"||Z.status===i,Se=l==="All"||Z.class===l;return ee&&de&&Ne&&Se}),I=Z=>{window.confirm("Are you sure you want to delete this assignment?")&&f(u.filter(ee=>ee.id!==Z))},Y=Z=>{switch(Z.toUpperCase()){case"HIGH":return"bg-red-100 text-red-800";case"MEDIUM":return"bg-orange-100 text-orange-800";case"LOW":return"bg-green-100 text-green-800";case"A":return"bg-green-100 text-green-800";case"B+":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},Q=Z=>Z==="submitted"?s.jsx(pi,{className:"w-4 h-4 text-green-600"}):s.jsx(_n,{className:"w-4 h-4 text-orange-600"}),H=Z=>new Date(Z).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),U=u.filter(Z=>Z.status==="pending").length,K=u.filter(Z=>Z.status==="submitted").length,X=Z=>{Z>=1&&Z<=j&&v(Z)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Student Assignment Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage assignments with student details"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search assignments, students...",value:t,onChange:Z=>r(Z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:A})]}),s.jsxs("select",{value:l,onChange:Z=>c(Z.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:A,children:[s.jsx("option",{value:"All",children:"All Classes"}),k.map(Z=>s.jsx("option",{value:Z,children:Z},Z))]}),s.jsxs("select",{value:n,onChange:Z=>a(Z.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:A,children:[s.jsx("option",{value:"All",children:"All Subjects"}),D.map(Z=>s.jsx("option",{value:Z,children:Z},Z))]}),s.jsxs("select",{value:i,onChange:Z=>o(Z.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:A,children:[s.jsx("option",{value:"All",children:"All Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"submitted",children:"Submitted"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Pending (",U,")"]}),s.jsxs("div",{className:"bg-green-100 text-green-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Submitted (",K,")"]})]})]})]}),A&&s.jsxs("div",{className:"p-6 text-center",children:[s.jsx(_n,{className:"w-12 h-12 text-gray-400 mx-auto mb-4 animate-pulse"}),s.jsx("p",{className:"text-gray-500 text-lg",children:"Loading assignments..."})]}),p&&s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"bg-red-100 text-red-700 rounded-lg p-4 flex items-center",children:[s.jsx(Ss,{className:"w-5 h-5 mr-2"}),p]})}),!A&&!p&&s.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-max",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Student Info"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Roll No"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Class"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Subject"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Due Date"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority/Grade"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-200",children:[L.map(Z=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ns,{className:"w-5 h-5 text-gray-400 mr-2"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:Z.studentName}),s.jsx("div",{className:"text-xs text-gray-500",children:"Student"})]})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("span",{className:"text-sm font-mono text-gray-900 bg-gray-100 px-2 py-1 rounded",children:Z.rollNo})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:Z.class})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ln,{className:"w-4 h-4 text-blue-600 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-blue-600",children:Z.subject})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"max-w-xs",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:Z.title}),s.jsx("div",{className:"text-xs text-gray-500 mt-1 truncate",children:Z.description})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(en,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-900",children:H(Z.dueDate)}),Z.submittedDate&&s.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Submitted: ",H(Z.submittedDate)]})]})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Y(Z.priority)}`,children:Z.status==="submitted"&&Z.grade?Z.grade:Z.priority})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center",children:[Q(Z.status),s.jsx("span",{className:`ml-2 text-sm font-medium capitalize ${Z.status==="submitted"?"text-green-600":"text-orange-600"}`,children:Z.status})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:s.jsx(Uo,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>I(Z.id),className:"text-red-600 hover:text-red-800",children:s.jsx(Ss,{className:"w-5 h-5"})})]})})]},Z.id)),L.length===0&&u.length>0&&s.jsx("tr",{children:s.jsx("td",{colSpan:"9",className:"px-4 py-8 text-center text-gray-500",children:"No assignments match your current filters"})}),L.length===0&&u.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:"9",className:"px-4 py-8 text-center text-gray-500",children:"No assignments found"})})]})]})})}),!A&&!p&&S>0&&s.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(b-1)*y+1," to"," ",Math.min(b*y,S)," of ",S," ","records"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>X(b-1),disabled:b===1,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg disabled:opacity-50 hover:bg-gray-300",children:"Previous"}),s.jsx("button",{onClick:()=>X(b+1),disabled:b===j,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg disabled:opacity-50 hover:bg-gray-300",children:"Next"})]})]})]})},Tme=()=>{const[t,r]=w.useState(!1),[n,a]=w.useState(null),[i,o]=w.useState(!1),[l,c]=w.useState(null),[u,f]=w.useState([]),[A,m]=w.useState(null),[p,g]=w.useState({name:"",students:"",price:"",duration:"Monthly",features:"",color:"blue"}),b=[{value:"blue",label:"Blue"},{value:"purple",label:"Purple"},{value:"green",label:"Green"},{value:"orange",label:"Orange"},{value:"red",label:"Red"}],v=["Monthly","Quarterly","Yearly"];w.useEffect(()=>{y()},[]);const y=async()=>{try{const H=await(await fetch("https://vidyaastra.com/api/packages",{method:"GET",headers:{"Content-Type":"application/json"}})).json();H.success?(f(H.data),m(null)):m("Failed to fetch packages")}catch(Q){m("Error fetching packages"),console.error(Q)}},j=Q=>{const H={blue:"from-blue-500 to-blue-600 border-blue-200",purple:"from-purple-500 to-purple-600 border-purple-200",green:"from-green-500 to-green-600 border-green-200",orange:"from-orange-500 to-orange-600 border-orange-200",red:"from-red-500 to-red-600 border-red-200"};return H[Q]||H.blue},C=Q=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(Q),S=(Q=null)=>{a(Q),g(Q?{name:Q.name,students:Q.students,price:Q.price,duration:Q.duration,features:Q.features.join(", "),color:Q.color}:{name:"",students:"",price:"",duration:"Monthly",features:"",color:"blue"}),r(!0)},E=()=>{r(!1),a(null),m(null)},D=Q=>{c(Q),o(!0)},k=()=>{o(!1),c(null),m(null)},L=Q=>{const{name:H,value:U}=Q.target;g(K=>({...K,[H]:U}))},I=async Q=>{Q.preventDefault(),m(null);const H=p.features.split(",").map(K=>K.trim()).filter(K=>K),U={name:p.name,students:Number(p.students),price:Number(p.price),duration:p.duration,features:H,color:p.color};try{let K;n?K=await fetch(`https://vidyaastra.com/api/packages/${n._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)}):K=await fetch("https://vidyaastra.com/api/packages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});const X=await K.json();X.success?(await y(),E()):m(X.message||"Failed to save package")}catch(K){m("Error saving package"),console.error(K)}},Y=async()=>{if(l)try{const H=await(await fetch(`https://vidyaastra.com/api/packages/${l._id}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).json();H.success?(await y(),k()):m(H.message||"Failed to delete package")}catch(Q){m("Error deleting package"),console.error(Q)}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-b-3xl shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(nl,{className:"w-6 h-6"}),s.jsx("h1",{className:"text-2xl font-bold",children:"School Packages"})]}),s.jsxs("button",{onClick:()=>S(),className:"flex items-center space-x-2 bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-xl transition-all",children:[s.jsx($s,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Package"})]})]}),s.jsx("p",{className:"text-indigo-100 mt-2",children:"Manage school subscription packages"})]}),A&&s.jsx("div",{className:"p-4 mx-6 mt-4 bg-red-100 text-red-700 rounded-xl",children:A}),s.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(Q=>s.jsxs("div",{className:`bg-white rounded-2xl p-6 shadow-sm border-2 ${j(Q.color).split(" ")[2]} hover:shadow-lg transition-all`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:Q.name}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>S(Q),className:"p-1 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Edit package",children:s.jsx(Lo,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>D(Q),className:"p-1 text-red-600 hover:bg-red-50 rounded-lg",title:"Delete package",children:s.jsx(Ss,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:`bg-gradient-to-r ${j(Q.color).split(" ").slice(0,2).join(" ")} text-white rounded-xl p-4 mb-4`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Jr,{className:"w-5 h-5"}),s.jsxs("span",{className:"font-semibold",children:[Q.students," Students"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold",children:C(Q.price)}),s.jsxs("div",{className:"text-sm opacity-90",children:["/",Q.duration]})]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Features:"}),Q.features.map((H,U)=>s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),s.jsx("span",{children:H})]},U))]})]},Q._id))}),t&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(nl,{className:"w-6 h-6 text-indigo-600"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:n?"Edit Package":"Add New Package"})]}),s.jsx("button",{onClick:E,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(sr,{className:"w-5 h-5 text-gray-500"})})]}),s.jsxs("form",{onSubmit:I,className:"p-6 space-y-6",children:[A&&s.jsx("div",{className:"p-4 bg-red-100 text-red-700 rounded-xl",children:A}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Package Name"}),s.jsx("input",{type:"text",name:"name",value:p.name,onChange:L,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Enter package name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),s.jsx("select",{name:"color",value:p.color,onChange:L,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",children:b.map(Q=>s.jsx("option",{value:Q.value,children:Q.label},Q.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Students"}),s.jsx("input",{type:"number",name:"students",value:p.students,onChange:L,required:!0,min:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Enter max students"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price"}),s.jsx("input",{type:"number",name:"price",value:p.price,onChange:L,required:!0,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Enter price"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration"}),s.jsx("select",{name:"duration",value:p.duration,onChange:L,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",children:v.map(Q=>s.jsx("option",{value:Q,children:Q},Q))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Features (comma separated)"}),s.jsx("textarea",{name:"features",value:p.features,onChange:L,required:!0,rows:"3",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Feature 1, Feature 2, Feature 3"})]}),s.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:E,className:"flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 py-3 px-6 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all",children:n?"Update Package":"Add Package"})]})]})]})}),i&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Confirm Deletion"}),s.jsx("button",{onClick:k,className:"p-1 hover:bg-gray-100 rounded-full",children:s.jsx(sr,{className:"w-5 h-5 text-gray-500"})})]}),s.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete the "',l?.name,'" package? This action cannot be undone.']}),A&&s.jsx("div",{className:"p-4 bg-red-100 text-red-700 rounded-xl mb-4",children:A}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:k,className:"flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:Y,className:"flex-1 py-3 px-6 bg-red-600 text-white rounded-xl font-semibold hover:bg-red-700 transition-colors",children:"Delete"})]})]})})]})};/*!
 * Color Thief v2.0
 * by Lokesh Dhakar - http://www.lokeshdhakar.com
 *
 * Thanks
 * ------
 * Nick Rabinowitz - For creating quantize.js.
 * John Schulz - For clean up and optimization. @JFSIII
 * Nathan Spady - For adding drag and drop support to the demo page.
 *
 * License
 * -------
 * Copyright 2011, 2015 Lokesh Dhakar
 * Released under the MIT license
 * https://raw.githubusercontent.com/lokesh/color-thief/master/LICENSE
 *
 */var QN,fP;function Fme(){if(fP)return QN;fP=1;var t=function(i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.width=this.canvas.width=i.width,this.height=this.canvas.height=i.height,this.context.drawImage(i,0,0,this.width,this.height)};t.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},t.prototype.update=function(i){this.context.putImageData(i,0,0)},t.prototype.getPixelCount=function(){return this.width*this.height},t.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},t.prototype.removeCanvas=function(){this.canvas.parentNode.removeChild(this.canvas)};var r=function(){};/*!
* quantize.js Copyright 2008 Nick Rabinowitz.
* Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php
*//*!
 * Block below copied from Protovis: http://mbostock.github.com/protovis/
 * Copyright 2010 Stanford Visualization Group
 * Licensed under the BSD License: http://www.opensource.org/licenses/bsd-license.php
 */if(r.prototype.getColor=function(i,o){var l=this.getPalette(i,5,o),c=l[0];return c},r.prototype.getPalette=function(i,o,l){typeof o>"u"&&(o=10),(typeof l>"u"||1>l)&&(l=10);for(var c,u,f,A,m,p=new t(i),g=p.getImageData(),b=g.data,v=p.getPixelCount(),y=[],j=0;v>j;j+=l)c=4*j,u=b[c+0],f=b[c+1],A=b[c+2],m=b[c+3],m>=125&&(u>250&&f>250&&A>250||y.push([u,f,A]));var C=a.quantize(y,o),S=C?C.palette():null;return p.removeCanvas(),S},!n)var n={map:function(i,o){var l={};return o?i.map(function(c,u){return l.index=u,o.call(l,c)}):i.slice()},naturalOrder:function(i,o){return o>i?-1:i>o?1:0},sum:function(i,o){var l={};return i.reduce(o?function(c,u,f){return l.index=f,c+o.call(l,u)}:function(c,u){return c+u},0)},max:function(i,o){return Math.max.apply(null,o?n.map(i,o):i)}};var a=function(){function i(y,j,C){return(y<<2*p)+(j<<p)+C}function o(y){function j(){C.sort(y),S=!0}var C=[],S=!1;return{push:function(E){C.push(E),S=!1},peek:function(E){return S||j(),E===void 0&&(E=C.length-1),C[E]},pop:function(){return S||j(),C.pop()},size:function(){return C.length},map:function(E){return C.map(E)},debug:function(){return S||j(),C}}}function l(y,j,C,S,E,D,k){var L=this;L.r1=y,L.r2=j,L.g1=C,L.g2=S,L.b1=E,L.b2=D,L.histo=k}function c(){this.vboxes=new o(function(y,j){return n.naturalOrder(y.vbox.count()*y.vbox.volume(),j.vbox.count()*j.vbox.volume())})}function u(y){var j,C,S,E,D=1<<3*p,k=new Array(D);return y.forEach(function(L){C=L[0]>>g,S=L[1]>>g,E=L[2]>>g,j=i(C,S,E),k[j]=(k[j]||0)+1}),k}function f(y,j){var C,S,E,D=1e6,k=0,L=1e6,I=0,Y=1e6,Q=0;return y.forEach(function(H){C=H[0]>>g,S=H[1]>>g,E=H[2]>>g,D>C?D=C:C>k&&(k=C),L>S?L=S:S>I&&(I=S),Y>E?Y=E:E>Q&&(Q=E)}),new l(D,k,L,I,Y,Q,j)}function A(y,j){function C(Z){var ee,de,Ne,Se,ue,xe=Z+"1",R=Z+"2",G=0;for(L=j[xe];L<=j[R];L++)if(K[L]>U/2){for(Ne=j.copy(),Se=j.copy(),ee=L-j[xe],de=j[R]-L,ue=de>=ee?Math.min(j[R]-1,~~(L+de/2)):Math.max(j[xe],~~(L-1-ee/2));!K[ue];)ue++;for(G=X[ue];!G&&K[ue-1];)G=X[--ue];return Ne[R]=ue,Se[xe]=Ne[R]+1,[Ne,Se]}}if(j.count()){var S=j.r2-j.r1+1,E=j.g2-j.g1+1,D=j.b2-j.b1+1,k=n.max([S,E,D]);if(j.count()==1)return[j.copy()];var L,I,Y,Q,H,U=0,K=[],X=[];if(k==S)for(L=j.r1;L<=j.r2;L++){for(Q=0,I=j.g1;I<=j.g2;I++)for(Y=j.b1;Y<=j.b2;Y++)H=i(L,I,Y),Q+=y[H]||0;U+=Q,K[L]=U}else if(k==E)for(L=j.g1;L<=j.g2;L++){for(Q=0,I=j.r1;I<=j.r2;I++)for(Y=j.b1;Y<=j.b2;Y++)H=i(I,L,Y),Q+=y[H]||0;U+=Q,K[L]=U}else for(L=j.b1;L<=j.b2;L++){for(Q=0,I=j.r1;I<=j.r2;I++)for(Y=j.g1;Y<=j.g2;Y++)H=i(I,Y,L),Q+=y[H]||0;U+=Q,K[L]=U}return K.forEach(function(Z,ee){X[ee]=U-Z}),C(k==S?"r":k==E?"g":"b")}}function m(y,j){function C(I,Y){for(var Q,H=1,U=0;b>U;)if(Q=I.pop(),Q.count()){var K=A(S,Q),X=K[0],Z=K[1];if(!X||(I.push(X),Z&&(I.push(Z),H++),H>=Y)||U++>b)return}else I.push(Q),U++}if(!y.length||2>j||j>256)return!1;var S=u(y);S.forEach(function(){});var E=f(y,S),D=new o(function(I,Y){return n.naturalOrder(I.count(),Y.count())});D.push(E),C(D,v*j);for(var k=new o(function(I,Y){return n.naturalOrder(I.count()*I.volume(),Y.count()*Y.volume())});D.size();)k.push(D.pop());C(k,j-k.size());for(var L=new c;k.size();)L.push(k.pop());return L}var p=5,g=8-p,b=1e3,v=.75;return l.prototype={volume:function(y){var j=this;return(!j._volume||y)&&(j._volume=(j.r2-j.r1+1)*(j.g2-j.g1+1)*(j.b2-j.b1+1)),j._volume},count:function(y){var j=this,C=j.histo;if(!j._count_set||y){var S,E,D,k=0;for(S=j.r1;S<=j.r2;S++)for(E=j.g1;E<=j.g2;E++)for(D=j.b1;D<=j.b2;D++)index=i(S,E,D),k+=C[index]||0;j._count=k,j._count_set=!0}return j._count},copy:function(){var y=this;return new l(y.r1,y.r2,y.g1,y.g2,y.b1,y.b2,y.histo)},avg:function(y){var j=this,C=j.histo;if(!j._avg||y){var S,E,D,k,L,I=0,Y=1<<8-p,Q=0,H=0,U=0;for(E=j.r1;E<=j.r2;E++)for(D=j.g1;D<=j.g2;D++)for(k=j.b1;k<=j.b2;k++)L=i(E,D,k),S=C[L]||0,I+=S,Q+=S*(E+.5)*Y,H+=S*(D+.5)*Y,U+=S*(k+.5)*Y;I?j._avg=[~~(Q/I),~~(H/I),~~(U/I)]:j._avg=[~~(Y*(j.r1+j.r2+1)/2),~~(Y*(j.g1+j.g2+1)/2),~~(Y*(j.b1+j.b2+1)/2)]}return j._avg},contains:function(y){var j=this,C=y[0]>>g;return gval=y[1]>>g,bval=y[2]>>g,C>=j.r1&&C<=j.r2&&gval>=j.g1&&gval<=j.g2&&bval>=j.b1&&bval<=j.b2}},c.prototype={push:function(y){this.vboxes.push({vbox:y,color:y.avg()})},palette:function(){return this.vboxes.map(function(y){return y.color})},size:function(){return this.vboxes.size()},map:function(y){for(var j=this.vboxes,C=0;C<j.size();C++)if(j.peek(C).vbox.contains(y))return j.peek(C).color;return this.nearest(y)},nearest:function(y){for(var j,C,S,E=this.vboxes,D=0;D<E.size();D++)C=Math.sqrt(Math.pow(y[0]-E.peek(D).color[0],2)+Math.pow(y[1]-E.peek(D).color[1],2)+Math.pow(y[2]-E.peek(D).color[2],2)),(j>C||j===void 0)&&(j=C,S=E.peek(D).color);return S},forcebw:function(){var y=this.vboxes;y.sort(function(E,D){return n.naturalOrder(n.sum(E.color),n.sum(D.color))});var j=y[0].color;j[0]<5&&j[1]<5&&j[2]<5&&(y[0].color=[0,0,0]);var C=y.length-1,S=y[C].color;S[0]>251&&S[1]>251&&S[2]>251&&(y[C].color=[255,255,255])}},{quantize:m}}();return QN=r,QN}var Ime=Fme();const _me=vc(Ime);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var i2={};i2.version="0.18.5";var HR=1252,kme=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],$R=function(t){kme.indexOf(t)!=-1&&(HR=t)};function Pme(){$R(1252)}var Uy=function(t){$R(t)};function Dme(){Uy(1200),Pme()}var O1=function(r){return String.fromCharCode(r)},hP=function(r){return String.fromCharCode(r)},o2,kh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function My(t){for(var r="",n=0,a=0,i=0,o=0,l=0,c=0,u=0,f=0;f<t.length;)n=t.charCodeAt(f++),o=n>>2,a=t.charCodeAt(f++),l=(n&3)<<4|a>>4,i=t.charCodeAt(f++),c=(a&15)<<2|i>>6,u=i&63,isNaN(a)?c=u=64:isNaN(i)&&(u=64),r+=kh.charAt(o)+kh.charAt(l)+kh.charAt(c)+kh.charAt(u);return r}function Cf(t){var r="",n=0,a=0,i=0,o=0,l=0,c=0,u=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<t.length;)o=kh.indexOf(t.charAt(f++)),l=kh.indexOf(t.charAt(f++)),n=o<<2|l>>4,r+=String.fromCharCode(n),c=kh.indexOf(t.charAt(f++)),a=(l&15)<<4|c>>2,c!==64&&(r+=String.fromCharCode(a)),u=kh.indexOf(t.charAt(f++)),i=(c&3)<<6|u,u!==64&&(r+=String.fromCharCode(i));return r}var es=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Df=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(r,n){return n?new Buffer(r,n):new Buffer(r)}:Buffer.from.bind(Buffer)}return function(){}}();function B0(t){return es?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function mP(t){return es?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var ad=function(r){return es?Df(r,"binary"):r.split("").map(function(n){return n.charCodeAt(0)&255})};function Cw(t){if(typeof ArrayBuffer>"u")return ad(t);for(var r=new ArrayBuffer(t.length),n=new Uint8Array(r),a=0;a!=t.length;++a)n[a]=t.charCodeAt(a)&255;return r}function yv(t){if(Array.isArray(t))return t.map(function(a){return String.fromCharCode(a)}).join("");for(var r=[],n=0;n<t.length;++n)r[n]=String.fromCharCode(t[n]);return r.join("")}function Ome(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var so=es?function(t){return Buffer.concat(t.map(function(r){return Buffer.isBuffer(r)?r:Df(r)}))}:function(t){if(typeof Uint8Array<"u"){var r=0,n=0;for(r=0;r<t.length;++r)n+=t[r].length;var a=new Uint8Array(n),i=0;for(r=0,n=0;r<t.length;n+=i,++r)if(i=t[r].length,t[r]instanceof Uint8Array)a.set(t[r],n);else{if(typeof t[r]=="string")throw"wtf";a.set(new Uint8Array(t[r]),n)}return a}return[].concat.apply([],t.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))};function Lme(t){for(var r=[],n=0,a=t.length+250,i=B0(t.length+255),o=0;o<t.length;++o){var l=t.charCodeAt(o);if(l<128)i[n++]=l;else if(l<2048)i[n++]=192|l>>6&31,i[n++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var c=t.charCodeAt(++o)&1023;i[n++]=240|l>>8&7,i[n++]=128|l>>2&63,i[n++]=128|c>>6&15|(l&3)<<4,i[n++]=128|c&63}else i[n++]=224|l>>12&15,i[n++]=128|l>>6&63,i[n++]=128|l&63;n>a&&(r.push(i.slice(0,n)),n=0,i=B0(65535),a=65530)}return r.push(i.slice(0,n)),so(r)}var ry=/\u0000/g,L1=/[\u0001-\u0006]/g;function Vp(t){for(var r="",n=t.length-1;n>=0;)r+=t.charAt(n--);return r}function od(t,r){var n=""+t;return n.length>=r?n:Ta("0",r-n.length)+n}function PB(t,r){var n=""+t;return n.length>=r?n:Ta(" ",r-n.length)+n}function l2(t,r){var n=""+t;return n.length>=r?n:n+Ta(" ",r-n.length)}function Ume(t,r){var n=""+Math.round(t);return n.length>=r?n:Ta("0",r-n.length)+n}function Mme(t,r){var n=""+t;return n.length>=r?n:Ta("0",r-n.length)+n}var pP=Math.pow(2,32);function Sp(t,r){if(t>pP||t<-pP)return Ume(t,r);var n=Math.round(t);return Mme(n,r)}function c2(t,r){return r=r||0,t.length>=7+r&&(t.charCodeAt(r)|32)===103&&(t.charCodeAt(r+1)|32)===101&&(t.charCodeAt(r+2)|32)===110&&(t.charCodeAt(r+3)|32)===101&&(t.charCodeAt(r+4)|32)===114&&(t.charCodeAt(r+5)|32)===97&&(t.charCodeAt(r+6)|32)===108}var gP=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],HN=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Rme(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',t}var Fa={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},xP={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Qme={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function u2(t,r,n){for(var a=t<0?-1:1,i=t*a,o=0,l=1,c=0,u=1,f=0,A=0,m=Math.floor(i);f<r&&(m=Math.floor(i),c=m*l+o,A=m*f+u,!(i-m<5e-8));)i=1/(i-m),o=l,l=c,u=f,f=A;if(A>r&&(f>r?(A=u,c=o):(A=f,c=l)),!n)return[0,a*c,A];var p=Math.floor(a*c/A);return[p,a*c-p*A,A]}function U1(t,r,n){if(t>2958465||t<0)return null;var a=t|0,i=Math.floor(86400*(t-a)),o=0,l=[],c={D:a,T:i,u:86400*(t-a)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),r&&r.date1904&&(a+=1462),c.u>.9999&&(c.u=0,++i==86400&&(c.T=i=0,++a,++c.D)),a===60)l=n?[1317,10,29]:[1900,2,29],o=3;else if(a===0)l=n?[1317,8,29]:[1900,1,0],o=6;else{a>60&&--a;var u=new Date(1900,0,1);u.setDate(u.getDate()+a-1),l=[u.getFullYear(),u.getMonth()+1,u.getDate()],o=u.getDay(),a<60&&(o=(o+6)%7),n&&(o=Wme(u,l))}return c.y=l[0],c.m=l[1],c.d=l[2],c.S=i%60,i=Math.floor(i/60),c.M=i%60,i=Math.floor(i/60),c.H=i,c.q=o,c}var KR=new Date(1899,11,31,0,0,0),Hme=KR.getTime(),$me=new Date(1900,2,1,0,0,0);function VR(t,r){var n=t.getTime();return r?n-=1461*24*60*60*1e3:t>=$me&&(n+=1440*60*1e3),(n-(Hme+(t.getTimezoneOffset()-KR.getTimezoneOffset())*6e4))/(1440*60*1e3)}function DB(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Kme(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Vme(t){var r=t<0?12:11,n=DB(t.toFixed(12));return n.length<=r||(n=t.toPrecision(10),n.length<=r)?n:t.toExponential(5)}function zme(t){var r=DB(t.toFixed(11));return r.length>(t<0?12:11)||r==="0"||r==="-0"?t.toPrecision(6):r}function Gme(t){var r=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return r>=-4&&r<=-1?n=t.toPrecision(10+r):Math.abs(r)<=9?n=Vme(t):r===10?n=t.toFixed(10).substr(0,12):n=zme(t),DB(Kme(n.toUpperCase()))}function MS(t,r){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Gme(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Yh(14,VR(t,r&&r.date1904),r)}throw new Error("unsupported value in General format: "+t)}function Wme(t,r){r[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function qme(t,r,n,a){var i="",o=0,l=0,c=n.y,u,f=0;switch(t){case 98:c=n.y+543;case 121:switch(r.length){case 1:case 2:u=c%100,f=2;break;default:u=c%1e4,f=4;break}break;case 109:switch(r.length){case 1:case 2:u=n.m,f=r.length;break;case 3:return HN[n.m-1][1];case 5:return HN[n.m-1][0];default:return HN[n.m-1][2]}break;case 100:switch(r.length){case 1:case 2:u=n.d,f=r.length;break;case 3:return gP[n.q][0];default:return gP[n.q][1]}break;case 104:switch(r.length){case 1:case 2:u=1+(n.H+11)%12,f=r.length;break;default:throw"bad hour format: "+r}break;case 72:switch(r.length){case 1:case 2:u=n.H,f=r.length;break;default:throw"bad hour format: "+r}break;case 77:switch(r.length){case 1:case 2:u=n.M,f=r.length;break;default:throw"bad minute format: "+r}break;case 115:if(r!="s"&&r!="ss"&&r!=".0"&&r!=".00"&&r!=".000")throw"bad second format: "+r;return n.u===0&&(r=="s"||r=="ss")?od(n.S,r.length):(a>=2?l=a===3?1e3:100:l=a===1?10:1,o=Math.round(l*(n.S+n.u)),o>=60*l&&(o=0),r==="s"?o===0?"0":""+o/l:(i=od(o,2+a),r==="ss"?i.substr(0,2):"."+i.substr(2,r.length-1)));case 90:switch(r){case"[h]":case"[hh]":u=n.D*24+n.H;break;case"[m]":case"[mm]":u=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":u=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+r}f=r.length===3?1:2;break;case 101:u=c,f=1;break}var A=f>0?od(u,f):"";return A}function Ph(t){var r=3;if(t.length<=r)return t;for(var n=t.length%r,a=t.substr(0,n);n!=t.length;n+=r)a+=(a.length>0?",":"")+t.substr(n,r);return a}var zR=/%/g;function Yme(t,r,n){var a=r.replace(zR,""),i=r.length-a.length;return Af(t,a,n*Math.pow(10,2*i))+Ta("%",i)}function Xme(t,r,n){for(var a=r.length-1;r.charCodeAt(a-1)===44;)--a;return Af(t,r.substr(0,a),n/Math.pow(10,3*(r.length-a)))}function GR(t,r){var n,a=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+GR(t,-r);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var o=Math.floor(Math.log(r)*Math.LOG10E)%i;if(o<0&&(o+=i),n=(r/Math.pow(10,o)).toPrecision(a+1+(i+o)%i),n.indexOf("e")===-1){var l=Math.floor(Math.log(r)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(l-n.length+o):n+="E+"+(l-o);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,f,A){return u+f+A.substr(0,(i+o)%i)+"."+A.substr(o)+"E"})}else n=r.toExponential(a);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var WR=/# (\?+)( ?)\/( ?)(\d+)/;function Jme(t,r,n){var a=parseInt(t[4],10),i=Math.round(r*a),o=Math.floor(i/a),l=i-o*a,c=a;return n+(o===0?"":""+o)+" "+(l===0?Ta(" ",t[1].length+1+t[4].length):PB(l,t[1].length)+t[2]+"/"+t[3]+od(c,t[4].length))}function Zme(t,r,n){return n+(r===0?"":""+r)+Ta(" ",t[1].length+2+t[4].length)}var qR=/^#*0*\.([0#]+)/,YR=/\).*[0#]/,XR=/\(###\) ###\\?-####/;function tl(t){for(var r="",n,a=0;a!=t.length;++a)switch(n=t.charCodeAt(a)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(n)}return r}function yP(t,r){var n=Math.pow(10,r);return""+Math.round(t*n)/n}function vP(t,r){var n=t-Math.floor(t),a=Math.pow(10,r);return r<(""+Math.round(n*a)).length?0:Math.round(n*a)}function e0e(t,r){return r<(""+Math.round((t-Math.floor(t))*Math.pow(10,r))).length?1:0}function t0e(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Zc(t,r,n){if(t.charCodeAt(0)===40&&!r.match(YR)){var a=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Zc("n",a,n):"("+Zc("n",a,-n)+")"}if(r.charCodeAt(r.length-1)===44)return Xme(t,r,n);if(r.indexOf("%")!==-1)return Yme(t,r,n);if(r.indexOf("E")!==-1)return GR(r,n);if(r.charCodeAt(0)===36)return"$"+Zc(t,r.substr(r.charAt(1)==" "?2:1),n);var i,o,l,c,u=Math.abs(n),f=n<0?"-":"";if(r.match(/^00+$/))return f+Sp(u,r.length);if(r.match(/^[#?]+$/))return i=Sp(n,0),i==="0"&&(i=""),i.length>r.length?i:tl(r.substr(0,r.length-i.length))+i;if(o=r.match(WR))return Jme(o,u,f);if(r.match(/^#+0+$/))return f+Sp(u,r.length-r.indexOf("0"));if(o=r.match(qR))return i=yP(n,o[1].length).replace(/^([^\.]+)$/,"$1."+tl(o[1])).replace(/\.$/,"."+tl(o[1])).replace(/\.(\d*)$/,function(b,v){return"."+v+Ta("0",tl(o[1]).length-v.length)}),r.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),o=r.match(/^(0*)\.(#*)$/))return f+yP(u,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=r.match(/^#{1,3},##0(\.?)$/))return f+Ph(Sp(u,0));if(o=r.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Zc(t,r,-n):Ph(""+(Math.floor(n)+e0e(n,o[1].length)))+"."+od(vP(n,o[1].length),o[1].length);if(o=r.match(/^#,#*,#0/))return Zc(t,r.replace(/^#,#*,/,""),n);if(o=r.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Vp(Zc(t,r.replace(/[\\-]/g,""),n)),l=0,Vp(Vp(r.replace(/\\/g,"")).replace(/[0#]/g,function(b){return l<i.length?i.charAt(l++):b==="0"?"0":""}));if(r.match(XR))return i=Zc(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var A="";if(o=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(o[4].length,7),c=u2(u,Math.pow(10,l)-1,!1),i=""+f,A=Af("n",o[1],c[1]),A.charAt(A.length-1)==" "&&(A=A.substr(0,A.length-1)+"0"),i+=A+o[2]+"/"+o[3],A=l2(c[2],l),A.length<o[4].length&&(A=tl(o[4].substr(o[4].length-A.length))+A),i+=A,i;if(o=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(o[1].length,o[4].length),7),c=u2(u,Math.pow(10,l)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?PB(c[1],l)+o[2]+"/"+o[3]+l2(c[2],l):Ta(" ",2*l+1+o[2].length+o[3].length));if(o=r.match(/^[#0?]+$/))return i=Sp(n,0),r.length<=i.length?i:tl(r.substr(0,r.length-i.length))+i;if(o=r.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var m=r.indexOf(".")-l,p=r.length-i.length-m;return tl(r.substr(0,m)+i+r.substr(r.length-p))}if(o=r.match(/^00,000\.([#0]*0)$/))return l=vP(n,o[1].length),n<0?"-"+Zc(t,r,-n):Ph(t0e(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?od(0,3-b.length):"")+b})+"."+od(l,o[1].length);switch(r){case"###,##0.00":return Zc(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var g=Ph(Sp(u,0));return g!=="0"?f+g:"";case"###,###.00":return Zc(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Zc(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+r+"|")}function r0e(t,r,n){for(var a=r.length-1;r.charCodeAt(a-1)===44;)--a;return Af(t,r.substr(0,a),n/Math.pow(10,3*(r.length-a)))}function n0e(t,r,n){var a=r.replace(zR,""),i=r.length-a.length;return Af(t,a,n*Math.pow(10,2*i))+Ta("%",i)}function JR(t,r){var n,a=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+JR(t,-r);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var o=Math.floor(Math.log(r)*Math.LOG10E)%i;if(o<0&&(o+=i),n=(r/Math.pow(10,o)).toPrecision(a+1+(i+o)%i),!n.match(/[Ee]/)){var l=Math.floor(Math.log(r)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(l-n.length+o):n+="E+"+(l-o),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,f,A){return u+f+A.substr(0,(i+o)%i)+"."+A.substr(o)+"E"})}else n=r.toExponential(a);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Yd(t,r,n){if(t.charCodeAt(0)===40&&!r.match(YR)){var a=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Yd("n",a,n):"("+Yd("n",a,-n)+")"}if(r.charCodeAt(r.length-1)===44)return r0e(t,r,n);if(r.indexOf("%")!==-1)return n0e(t,r,n);if(r.indexOf("E")!==-1)return JR(r,n);if(r.charCodeAt(0)===36)return"$"+Yd(t,r.substr(r.charAt(1)==" "?2:1),n);var i,o,l,c,u=Math.abs(n),f=n<0?"-":"";if(r.match(/^00+$/))return f+od(u,r.length);if(r.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>r.length?i:tl(r.substr(0,r.length-i.length))+i;if(o=r.match(WR))return Zme(o,u,f);if(r.match(/^#+0+$/))return f+od(u,r.length-r.indexOf("0"));if(o=r.match(qR))return i=(""+n).replace(/^([^\.]+)$/,"$1."+tl(o[1])).replace(/\.$/,"."+tl(o[1])),i=i.replace(/\.(\d*)$/,function(b,v){return"."+v+Ta("0",tl(o[1]).length-v.length)}),r.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),o=r.match(/^(0*)\.(#*)$/))return f+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=r.match(/^#{1,3},##0(\.?)$/))return f+Ph(""+u);if(o=r.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Yd(t,r,-n):Ph(""+n)+"."+Ta("0",o[1].length);if(o=r.match(/^#,#*,#0/))return Yd(t,r.replace(/^#,#*,/,""),n);if(o=r.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Vp(Yd(t,r.replace(/[\\-]/g,""),n)),l=0,Vp(Vp(r.replace(/\\/g,"")).replace(/[0#]/g,function(b){return l<i.length?i.charAt(l++):b==="0"?"0":""}));if(r.match(XR))return i=Yd(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var A="";if(o=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(o[4].length,7),c=u2(u,Math.pow(10,l)-1,!1),i=""+f,A=Af("n",o[1],c[1]),A.charAt(A.length-1)==" "&&(A=A.substr(0,A.length-1)+"0"),i+=A+o[2]+"/"+o[3],A=l2(c[2],l),A.length<o[4].length&&(A=tl(o[4].substr(o[4].length-A.length))+A),i+=A,i;if(o=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(o[1].length,o[4].length),7),c=u2(u,Math.pow(10,l)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?PB(c[1],l)+o[2]+"/"+o[3]+l2(c[2],l):Ta(" ",2*l+1+o[2].length+o[3].length));if(o=r.match(/^[#0?]+$/))return i=""+n,r.length<=i.length?i:tl(r.substr(0,r.length-i.length))+i;if(o=r.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var m=r.indexOf(".")-l,p=r.length-i.length-m;return tl(r.substr(0,m)+i+r.substr(r.length-p))}if(o=r.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Yd(t,r,-n):Ph(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?od(0,3-b.length):"")+b})+"."+od(0,o[1].length);switch(r){case"###,###":case"##,###":case"#,###":var g=Ph(""+u);return g!=="0"?f+g:"";default:if(r.match(/\.[0#?]*$/))return Yd(t,r.slice(0,r.lastIndexOf(".")),n)+tl(r.slice(r.lastIndexOf(".")))}throw new Error("unsupported format |"+r+"|")}function Af(t,r,n){return(n|0)===n?Yd(t,r,n):Zc(t,r,n)}function s0e(t){for(var r=[],n=!1,a=0,i=0;a<t.length;++a)switch(t.charCodeAt(a)){case 34:n=!n;break;case 95:case 42:case 92:++a;break;case 59:r[r.length]=t.substr(i,a-i),i=a+1}if(r[r.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return r}var ZR=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function eQ(t){for(var r=0,n="",a="";r<t.length;)switch(n=t.charAt(r)){case"G":c2(t,r)&&(r+=6),r++;break;case'"':for(;t.charCodeAt(++r)!==34&&r<t.length;);++r;break;case"\\":r+=2;break;case"_":r+=2;break;case"@":++r;break;case"B":case"b":if(t.charAt(r+1)==="1"||t.charAt(r+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(t.substr(r,3).toUpperCase()==="A/P"||t.substr(r,5).toUpperCase()==="AM/PM"||t.substr(r,5).toUpperCase()==="上午/下午")return!0;++r;break;case"[":for(a=n;t.charAt(r++)!=="]"&&r<t.length;)a+=t.charAt(r);if(a.match(ZR))return!0;break;case".":case"0":case"#":for(;r<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++r))>-1||n=="\\"&&t.charAt(r+1)=="-"&&"0#".indexOf(t.charAt(r+2))>-1););break;case"?":for(;t.charAt(++r)===n;);break;case"*":++r,(t.charAt(r)==" "||t.charAt(r)=="*")&&++r;break;case"(":case")":++r;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;r<t.length&&"0123456789".indexOf(t.charAt(++r))>-1;);break;case" ":++r;break;default:++r;break}return!1}function a0e(t,r,n,a){for(var i=[],o="",l=0,c="",u="t",f,A,m,p="H";l<t.length;)switch(c=t.charAt(l)){case"G":if(!c2(t,l))throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"G",v:"General"},l+=7;break;case'"':for(o="";(m=t.charCodeAt(++l))!==34&&l<t.length;)o+=String.fromCharCode(m);i[i.length]={t:"t",v:o},++l;break;case"\\":var g=t.charAt(++l),b=g==="("||g===")"?g:"t";i[i.length]={t:b,v:g},++l;break;case"_":i[i.length]={t:"t",v:" "},l+=2;break;case"@":i[i.length]={t:"T",v:r},++l;break;case"B":case"b":if(t.charAt(l+1)==="1"||t.charAt(l+1)==="2"){if(f==null&&(f=U1(r,n,t.charAt(l+1)==="2"),f==null))return"";i[i.length]={t:"X",v:t.substr(l,2)},u=c,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(r<0||f==null&&(f=U1(r,n),f==null))return"";for(o=c;++l<t.length&&t.charAt(l).toLowerCase()===c;)o+=c;c==="m"&&u.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=p),i[i.length]={t:c,v:o},u=c;break;case"A":case"a":case"上":var v={t:c,v:c};if(f==null&&(f=U1(r,n)),t.substr(l,3).toUpperCase()==="A/P"?(f!=null&&(v.v=f.H>=12?"P":"A"),v.t="T",p="h",l+=3):t.substr(l,5).toUpperCase()==="AM/PM"?(f!=null&&(v.v=f.H>=12?"PM":"AM"),v.t="T",l+=5,p="h"):t.substr(l,5).toUpperCase()==="上午/下午"?(f!=null&&(v.v=f.H>=12?"下午":"上午"),v.t="T",l+=5,p="h"):(v.t="t",++l),f==null&&v.t==="T")return"";i[i.length]=v,u=c;break;case"[":for(o=c;t.charAt(l++)!=="]"&&l<t.length;)o+=t.charAt(l);if(o.slice(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match(ZR)){if(f==null&&(f=U1(r,n),f==null))return"";i[i.length]={t:"Z",v:o.toLowerCase()},u=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",eQ(t)||(i[i.length]={t:"t",v:o}));break;case".":if(f!=null){for(o=c;++l<t.length&&(c=t.charAt(l))==="0";)o+=c;i[i.length]={t:"s",v:o};break}case"0":case"#":for(o=c;++l<t.length&&"0#?.,E+-%".indexOf(c=t.charAt(l))>-1;)o+=c;i[i.length]={t:"n",v:o};break;case"?":for(o=c;t.charAt(++l)===c;)o+=c;i[i.length]={t:c,v:o},u=c;break;case"*":++l,(t.charAt(l)==" "||t.charAt(l)=="*")&&++l;break;case"(":case")":i[i.length]={t:a===1?"t":c,v:c},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=c;l<t.length&&"0123456789".indexOf(t.charAt(++l))>-1;)o+=t.charAt(l);i[i.length]={t:"D",v:o};break;case" ":i[i.length]={t:c,v:c},++l;break;case"$":i[i.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"t",v:c},++l;break}var y=0,j=0,C;for(l=i.length-1,u="t";l>=0;--l)switch(i[l].t){case"h":case"H":i[l].t=p,u="h",y<1&&(y=1);break;case"s":(C=i[l].v.match(/\.0+$/))&&(j=Math.max(j,C[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":u=i[l].t;break;case"m":u==="s"&&(i[l].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&i[l].v.match(/[Hh]/)&&(y=1),y<2&&i[l].v.match(/[Mm]/)&&(y=2),y<3&&i[l].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var S="",E;for(l=0;l<i.length;++l)switch(i[l].t){case"t":case"T":case" ":case"D":break;case"X":i[l].v="",i[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[l].v=qme(i[l].t.charCodeAt(0),i[l].v,f,j),i[l].t="t";break;case"n":case"?":for(E=l+1;i[E]!=null&&((c=i[E].t)==="?"||c==="D"||(c===" "||c==="t")&&i[E+1]!=null&&(i[E+1].t==="?"||i[E+1].t==="t"&&i[E+1].v==="/")||i[l].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(i[E].v==="/"||i[E].v===" "&&i[E+1]!=null&&i[E+1].t=="?"));)i[l].v+=i[E].v,i[E]={v:"",t:";"},++E;S+=i[l].v,l=E-1;break;case"G":i[l].t="t",i[l].v=MS(r,n);break}var D="",k,L;if(S.length>0){S.charCodeAt(0)==40?(k=r<0&&S.charCodeAt(0)===45?-r:r,L=Af("n",S,k)):(k=r<0&&a>1?-r:r,L=Af("n",S,k),k<0&&i[0]&&i[0].t=="t"&&(L=L.substr(1),i[0].v="-"+i[0].v)),E=L.length-1;var I=i.length;for(l=0;l<i.length;++l)if(i[l]!=null&&i[l].t!="t"&&i[l].v.indexOf(".")>-1){I=l;break}var Y=i.length;if(I===i.length&&L.indexOf("E")===-1){for(l=i.length-1;l>=0;--l)i[l]==null||"n?".indexOf(i[l].t)===-1||(E>=i[l].v.length-1?(E-=i[l].v.length,i[l].v=L.substr(E+1,i[l].v.length)):E<0?i[l].v="":(i[l].v=L.substr(0,E+1),E=-1),i[l].t="t",Y=l);E>=0&&Y<i.length&&(i[Y].v=L.substr(0,E+1)+i[Y].v)}else if(I!==i.length&&L.indexOf("E")===-1){for(E=L.indexOf(".")-1,l=I;l>=0;--l)if(!(i[l]==null||"n?".indexOf(i[l].t)===-1)){for(A=i[l].v.indexOf(".")>-1&&l===I?i[l].v.indexOf(".")-1:i[l].v.length-1,D=i[l].v.substr(A+1);A>=0;--A)E>=0&&(i[l].v.charAt(A)==="0"||i[l].v.charAt(A)==="#")&&(D=L.charAt(E--)+D);i[l].v=D,i[l].t="t",Y=l}for(E>=0&&Y<i.length&&(i[Y].v=L.substr(0,E+1)+i[Y].v),E=L.indexOf(".")+1,l=I;l<i.length;++l)if(!(i[l]==null||"n?(".indexOf(i[l].t)===-1&&l!==I)){for(A=i[l].v.indexOf(".")>-1&&l===I?i[l].v.indexOf(".")+1:0,D=i[l].v.substr(0,A);A<i[l].v.length;++A)E<L.length&&(D+=L.charAt(E++));i[l].v=D,i[l].t="t",Y=l}}}for(l=0;l<i.length;++l)i[l]!=null&&"n?".indexOf(i[l].t)>-1&&(k=a>1&&r<0&&l>0&&i[l-1].v==="-"?-r:r,i[l].v=Af(i[l].t,i[l].v,k),i[l].t="t");var Q="";for(l=0;l!==i.length;++l)i[l]!=null&&(Q+=i[l].v);return Q}var bP=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function wP(t,r){if(r==null)return!1;var n=parseFloat(r[2]);switch(r[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function i0e(t,r){var n=s0e(t),a=n.length,i=n[a-1].indexOf("@");if(a<4&&i>-1&&--a,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof r!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var o=r>0?n[0]:r<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[a,o];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var l=n[0].match(bP),c=n[1].match(bP);return wP(r,l)?[a,n[0]]:wP(r,c)?[a,n[1]]:[a,n[l!=null&&c!=null?2:1]]}return[a,o]}function Yh(t,r,n){n==null&&(n={});var a="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?a=n.dateNF:a=t;break;case"number":t==14&&n.dateNF?a=n.dateNF:a=(n.table!=null?n.table:Fa)[t],a==null&&(a=n.table&&n.table[xP[t]]||Fa[xP[t]]),a==null&&(a=Qme[t]||"General");break}if(c2(a,0))return MS(r,n);r instanceof Date&&(r=VR(r,n.date1904));var i=i0e(a,r);if(c2(i[1]))return MS(r,n);if(r===!0)r="TRUE";else if(r===!1)r="FALSE";else if(r===""||r==null)return"";return a0e(i[1],r,n,i[0])}function tQ(t,r){if(typeof r!="number"){r=+r||-1;for(var n=0;n<392;++n){if(Fa[n]==null){r<0&&(r=n);continue}if(Fa[n]==t){r=n;break}}r<0&&(r=391)}return Fa[r]=t,r}function Sw(t){for(var r=0;r!=392;++r)t[r]!==void 0&&tQ(t[r],r)}function Bw(){Fa=Rme()}var rQ=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function o0e(t){var r=typeof t=="number"?Fa[t]:t;return r=r.replace(rQ,"(\\d+)"),new RegExp("^"+r+"$")}function l0e(t,r,n){var a=-1,i=-1,o=-1,l=-1,c=-1,u=-1;(r.match(rQ)||[]).forEach(function(m,p){var g=parseInt(n[p+1],10);switch(m.toLowerCase().charAt(0)){case"y":a=g;break;case"d":o=g;break;case"h":l=g;break;case"s":u=g;break;case"m":l>=0?c=g:i=g;break}}),u>=0&&c==-1&&i>=0&&(c=i,i=-1);var f=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var A=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return l==-1&&c==-1&&u==-1?f:a==-1&&i==-1&&o==-1?A:f+"T"+A}var c0e=function(){var t={};t.version="1.2.0";function r(){for(var L=0,I=new Array(256),Y=0;Y!=256;++Y)L=Y,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,I[Y]=L;return typeof Int32Array<"u"?new Int32Array(I):I}var n=r();function a(L){var I=0,Y=0,Q=0,H=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Q=0;Q!=256;++Q)H[Q]=L[Q];for(Q=0;Q!=256;++Q)for(Y=L[Q],I=256+Q;I<4096;I+=256)Y=H[I]=Y>>>8^L[Y&255];var U=[];for(Q=1;Q!=16;++Q)U[Q-1]=typeof Int32Array<"u"?H.subarray(Q*256,Q*256+256):H.slice(Q*256,Q*256+256);return U}var i=a(n),o=i[0],l=i[1],c=i[2],u=i[3],f=i[4],A=i[5],m=i[6],p=i[7],g=i[8],b=i[9],v=i[10],y=i[11],j=i[12],C=i[13],S=i[14];function E(L,I){for(var Y=I^-1,Q=0,H=L.length;Q<H;)Y=Y>>>8^n[(Y^L.charCodeAt(Q++))&255];return~Y}function D(L,I){for(var Y=I^-1,Q=L.length-15,H=0;H<Q;)Y=S[L[H++]^Y&255]^C[L[H++]^Y>>8&255]^j[L[H++]^Y>>16&255]^y[L[H++]^Y>>>24]^v[L[H++]]^b[L[H++]]^g[L[H++]]^p[L[H++]]^m[L[H++]]^A[L[H++]]^f[L[H++]]^u[L[H++]]^c[L[H++]]^l[L[H++]]^o[L[H++]]^n[L[H++]];for(Q+=15;H<Q;)Y=Y>>>8^n[(Y^L[H++])&255];return~Y}function k(L,I){for(var Y=I^-1,Q=0,H=L.length,U=0,K=0;Q<H;)U=L.charCodeAt(Q++),U<128?Y=Y>>>8^n[(Y^U)&255]:U<2048?(Y=Y>>>8^n[(Y^(192|U>>6&31))&255],Y=Y>>>8^n[(Y^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,K=L.charCodeAt(Q++)&1023,Y=Y>>>8^n[(Y^(240|U>>8&7))&255],Y=Y>>>8^n[(Y^(128|U>>2&63))&255],Y=Y>>>8^n[(Y^(128|K>>6&15|(U&3)<<4))&255],Y=Y>>>8^n[(Y^(128|K&63))&255]):(Y=Y>>>8^n[(Y^(224|U>>12&15))&255],Y=Y>>>8^n[(Y^(128|U>>6&63))&255],Y=Y>>>8^n[(Y^(128|U&63))&255]);return~Y}return t.table=n,t.bstr=E,t.buf=D,t.str=k,t}(),js=function(){var r={};r.version="1.2.1";function n(ke,Xe){for(var $e=ke.split("/"),Ve=Xe.split("/"),Je=0,Ze=0,vt=Math.min($e.length,Ve.length);Je<vt;++Je){if(Ze=$e[Je].length-Ve[Je].length)return Ze;if($e[Je]!=Ve[Je])return $e[Je]<Ve[Je]?-1:1}return $e.length-Ve.length}function a(ke){if(ke.charAt(ke.length-1)=="/")return ke.slice(0,-1).indexOf("/")===-1?ke:a(ke.slice(0,-1));var Xe=ke.lastIndexOf("/");return Xe===-1?ke:ke.slice(0,Xe+1)}function i(ke){if(ke.charAt(ke.length-1)=="/")return i(ke.slice(0,-1));var Xe=ke.lastIndexOf("/");return Xe===-1?ke:ke.slice(Xe+1)}function o(ke,Xe){typeof Xe=="string"&&(Xe=new Date(Xe));var $e=Xe.getHours();$e=$e<<6|Xe.getMinutes(),$e=$e<<5|Xe.getSeconds()>>>1,ke.write_shift(2,$e);var Ve=Xe.getFullYear()-1980;Ve=Ve<<4|Xe.getMonth()+1,Ve=Ve<<5|Xe.getDate(),ke.write_shift(2,Ve)}function l(ke){var Xe=ke.read_shift(2)&65535,$e=ke.read_shift(2)&65535,Ve=new Date,Je=$e&31;$e>>>=5;var Ze=$e&15;$e>>>=4,Ve.setMilliseconds(0),Ve.setFullYear($e+1980),Ve.setMonth(Ze-1),Ve.setDate(Je);var vt=Xe&31;Xe>>>=5;var Oe=Xe&63;return Xe>>>=6,Ve.setHours(Xe),Ve.setMinutes(Oe),Ve.setSeconds(vt<<1),Ve}function c(ke){uc(ke,0);for(var Xe={},$e=0;ke.l<=ke.length-4;){var Ve=ke.read_shift(2),Je=ke.read_shift(2),Ze=ke.l+Je,vt={};switch(Ve){case 21589:$e=ke.read_shift(1),$e&1&&(vt.mtime=ke.read_shift(4)),Je>5&&($e&2&&(vt.atime=ke.read_shift(4)),$e&4&&(vt.ctime=ke.read_shift(4))),vt.mtime&&(vt.mt=new Date(vt.mtime*1e3));break}ke.l=Ze,Xe[Ve]=vt}return Xe}var u;function f(){return u||(u={})}function A(ke,Xe){if(ke[0]==80&&ke[1]==75)return Kt(ke,Xe);if((ke[0]|32)==109&&(ke[1]|32)==105)return kn(ke,Xe);if(ke.length<512)throw new Error("CFB file size "+ke.length+" < 512");var $e=3,Ve=512,Je=0,Ze=0,vt=0,Oe=0,Ge=0,nt=[],xt=ke.slice(0,512);uc(xt,0);var Gt=m(xt);switch($e=Gt[0],$e){case 3:Ve=512;break;case 4:Ve=4096;break;case 0:if(Gt[1]==0)return Kt(ke,Xe);default:throw new Error("Major Version: Expected 3 or 4 saw "+$e)}Ve!==512&&(xt=ke.slice(0,Ve),uc(xt,28));var Xt=ke.slice(0,Ve);p(xt,$e);var tr=xt.read_shift(4,"i");if($e===3&&tr!==0)throw new Error("# Directory Sectors: Expected 0 saw "+tr);xt.l+=4,vt=xt.read_shift(4,"i"),xt.l+=4,xt.chk("00100000","Mini Stream Cutoff Size: "),Oe=xt.read_shift(4,"i"),Je=xt.read_shift(4,"i"),Ge=xt.read_shift(4,"i"),Ze=xt.read_shift(4,"i");for(var nr=-1,pr=0;pr<109&&(nr=xt.read_shift(4,"i"),!(nr<0));++pr)nt[pr]=nr;var Rr=g(ke,Ve);y(Ge,Ze,Rr,Ve,nt);var cn=C(Rr,vt,nt,Ve);cn[vt].name="!Directory",Je>0&&Oe!==K&&(cn[Oe].name="!MiniFAT"),cn[nt[0]].name="!FAT",cn.fat_addrs=nt,cn.ssz=Ve;var Cn={},Tn=[],bi=[],wi=[];S(vt,cn,Rr,Tn,Je,Cn,bi,Oe),b(bi,wi,Tn),Tn.shift();var ni={FileIndex:bi,FullPaths:wi};return Xe&&Xe.raw&&(ni.raw={header:Xt,sectors:Rr}),ni}function m(ke){if(ke[ke.l]==80&&ke[ke.l+1]==75)return[0,0];ke.chk(X,"Header Signature: "),ke.l+=16;var Xe=ke.read_shift(2,"u");return[ke.read_shift(2,"u"),Xe]}function p(ke,Xe){var $e=9;switch(ke.l+=2,$e=ke.read_shift(2)){case 9:if(Xe!=3)throw new Error("Sector Shift: Expected 9 saw "+$e);break;case 12:if(Xe!=4)throw new Error("Sector Shift: Expected 12 saw "+$e);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+$e)}ke.chk("0600","Mini Sector Shift: "),ke.chk("000000000000","Reserved: ")}function g(ke,Xe){for(var $e=Math.ceil(ke.length/Xe)-1,Ve=[],Je=1;Je<$e;++Je)Ve[Je-1]=ke.slice(Je*Xe,(Je+1)*Xe);return Ve[$e-1]=ke.slice($e*Xe),Ve}function b(ke,Xe,$e){for(var Ve=0,Je=0,Ze=0,vt=0,Oe=0,Ge=$e.length,nt=[],xt=[];Ve<Ge;++Ve)nt[Ve]=xt[Ve]=Ve,Xe[Ve]=$e[Ve];for(;Oe<xt.length;++Oe)Ve=xt[Oe],Je=ke[Ve].L,Ze=ke[Ve].R,vt=ke[Ve].C,nt[Ve]===Ve&&(Je!==-1&&nt[Je]!==Je&&(nt[Ve]=nt[Je]),Ze!==-1&&nt[Ze]!==Ze&&(nt[Ve]=nt[Ze])),vt!==-1&&(nt[vt]=Ve),Je!==-1&&Ve!=nt[Ve]&&(nt[Je]=nt[Ve],xt.lastIndexOf(Je)<Oe&&xt.push(Je)),Ze!==-1&&Ve!=nt[Ve]&&(nt[Ze]=nt[Ve],xt.lastIndexOf(Ze)<Oe&&xt.push(Ze));for(Ve=1;Ve<Ge;++Ve)nt[Ve]===Ve&&(Ze!==-1&&nt[Ze]!==Ze?nt[Ve]=nt[Ze]:Je!==-1&&nt[Je]!==Je&&(nt[Ve]=nt[Je]));for(Ve=1;Ve<Ge;++Ve)if(ke[Ve].type!==0){if(Oe=Ve,Oe!=nt[Oe])do Oe=nt[Oe],Xe[Ve]=Xe[Oe]+"/"+Xe[Ve];while(Oe!==0&&nt[Oe]!==-1&&Oe!=nt[Oe]);nt[Ve]=-1}for(Xe[0]+="/",Ve=1;Ve<Ge;++Ve)ke[Ve].type!==2&&(Xe[Ve]+="/")}function v(ke,Xe,$e){for(var Ve=ke.start,Je=ke.size,Ze=[],vt=Ve;$e&&Je>0&&vt>=0;)Ze.push(Xe.slice(vt*U,vt*U+U)),Je-=U,vt=Wm($e,vt*4);return Ze.length===0?$t(0):so(Ze).slice(0,ke.size)}function y(ke,Xe,$e,Ve,Je){var Ze=K;if(ke===K){if(Xe!==0)throw new Error("DIFAT chain shorter than expected")}else if(ke!==-1){var vt=$e[ke],Oe=(Ve>>>2)-1;if(!vt)return;for(var Ge=0;Ge<Oe&&(Ze=Wm(vt,Ge*4))!==K;++Ge)Je.push(Ze);y(Wm(vt,Ve-4),Xe-1,$e,Ve,Je)}}function j(ke,Xe,$e,Ve,Je){var Ze=[],vt=[];Je||(Je=[]);var Oe=Ve-1,Ge=0,nt=0;for(Ge=Xe;Ge>=0;){Je[Ge]=!0,Ze[Ze.length]=Ge,vt.push(ke[Ge]);var xt=$e[Math.floor(Ge*4/Ve)];if(nt=Ge*4&Oe,Ve<4+nt)throw new Error("FAT boundary crossed: "+Ge+" 4 "+Ve);if(!ke[xt])break;Ge=Wm(ke[xt],nt)}return{nodes:Ze,data:FP([vt])}}function C(ke,Xe,$e,Ve){var Je=ke.length,Ze=[],vt=[],Oe=[],Ge=[],nt=Ve-1,xt=0,Gt=0,Xt=0,tr=0;for(xt=0;xt<Je;++xt)if(Oe=[],Xt=xt+Xe,Xt>=Je&&(Xt-=Je),!vt[Xt]){Ge=[];var nr=[];for(Gt=Xt;Gt>=0;){nr[Gt]=!0,vt[Gt]=!0,Oe[Oe.length]=Gt,Ge.push(ke[Gt]);var pr=$e[Math.floor(Gt*4/Ve)];if(tr=Gt*4&nt,Ve<4+tr)throw new Error("FAT boundary crossed: "+Gt+" 4 "+Ve);if(!ke[pr]||(Gt=Wm(ke[pr],tr),nr[Gt]))break}Ze[Xt]={nodes:Oe,data:FP([Ge])}}return Ze}function S(ke,Xe,$e,Ve,Je,Ze,vt,Oe){for(var Ge=0,nt=Ve.length?2:0,xt=Xe[ke].data,Gt=0,Xt=0,tr;Gt<xt.length;Gt+=128){var nr=xt.slice(Gt,Gt+128);uc(nr,64),Xt=nr.read_shift(2),tr=RB(nr,0,Xt-nt),Ve.push(tr);var pr={name:tr,type:nr.read_shift(1),color:nr.read_shift(1),L:nr.read_shift(4,"i"),R:nr.read_shift(4,"i"),C:nr.read_shift(4,"i"),clsid:nr.read_shift(16),state:nr.read_shift(4,"i"),start:0,size:0},Rr=nr.read_shift(2)+nr.read_shift(2)+nr.read_shift(2)+nr.read_shift(2);Rr!==0&&(pr.ct=E(nr,nr.l-8));var cn=nr.read_shift(2)+nr.read_shift(2)+nr.read_shift(2)+nr.read_shift(2);cn!==0&&(pr.mt=E(nr,nr.l-8)),pr.start=nr.read_shift(4,"i"),pr.size=nr.read_shift(4,"i"),pr.size<0&&pr.start<0&&(pr.size=pr.type=0,pr.start=K,pr.name=""),pr.type===5?(Ge=pr.start,Je>0&&Ge!==K&&(Xe[Ge].name="!StreamData")):pr.size>=4096?(pr.storage="fat",Xe[pr.start]===void 0&&(Xe[pr.start]=j($e,pr.start,Xe.fat_addrs,Xe.ssz)),Xe[pr.start].name=pr.name,pr.content=Xe[pr.start].data.slice(0,pr.size)):(pr.storage="minifat",pr.size<0?pr.size=0:Ge!==K&&pr.start!==K&&Xe[Ge]&&(pr.content=v(pr,Xe[Ge].data,(Xe[Oe]||{}).data))),pr.content&&uc(pr.content,0),Ze[tr]=pr,vt.push(pr)}}function E(ke,Xe){return new Date((fc(ke,Xe+4)/1e7*Math.pow(2,32)+fc(ke,Xe)/1e7-11644473600)*1e3)}function D(ke,Xe){return f(),A(u.readFileSync(ke),Xe)}function k(ke,Xe){var $e=Xe&&Xe.type;switch($e||es&&Buffer.isBuffer(ke)&&($e="buffer"),$e||"base64"){case"file":return D(ke,Xe);case"base64":return A(ad(Cf(ke)),Xe);case"binary":return A(ad(ke),Xe)}return A(ke,Xe)}function L(ke,Xe){var $e=Xe||{},Ve=$e.root||"Root Entry";if(ke.FullPaths||(ke.FullPaths=[]),ke.FileIndex||(ke.FileIndex=[]),ke.FullPaths.length!==ke.FileIndex.length)throw new Error("inconsistent CFB structure");ke.FullPaths.length===0&&(ke.FullPaths[0]=Ve+"/",ke.FileIndex[0]={name:Ve,type:5}),$e.CLSID&&(ke.FileIndex[0].clsid=$e.CLSID),I(ke)}function I(ke){var Xe="Sh33tJ5";if(!js.find(ke,"/"+Xe)){var $e=$t(4);$e[0]=55,$e[1]=$e[3]=50,$e[2]=54,ke.FileIndex.push({name:Xe,type:2,content:$e,size:4,L:69,R:69,C:69}),ke.FullPaths.push(ke.FullPaths[0]+Xe),Y(ke)}}function Y(ke,Xe){L(ke);for(var $e=!1,Ve=!1,Je=ke.FullPaths.length-1;Je>=0;--Je){var Ze=ke.FileIndex[Je];switch(Ze.type){case 0:Ve?$e=!0:(ke.FileIndex.pop(),ke.FullPaths.pop());break;case 1:case 2:case 5:Ve=!0,isNaN(Ze.R*Ze.L*Ze.C)&&($e=!0),Ze.R>-1&&Ze.L>-1&&Ze.R==Ze.L&&($e=!0);break;default:$e=!0;break}}if(!(!$e&&!Xe)){var vt=new Date(1987,1,19),Oe=0,Ge=Object.create?Object.create(null):{},nt=[];for(Je=0;Je<ke.FullPaths.length;++Je)Ge[ke.FullPaths[Je]]=!0,ke.FileIndex[Je].type!==0&&nt.push([ke.FullPaths[Je],ke.FileIndex[Je]]);for(Je=0;Je<nt.length;++Je){var xt=a(nt[Je][0]);Ve=Ge[xt],Ve||(nt.push([xt,{name:i(xt).replace("/",""),type:1,clsid:ee,ct:vt,mt:vt,content:null}]),Ge[xt]=!0)}for(nt.sort(function(tr,nr){return n(tr[0],nr[0])}),ke.FullPaths=[],ke.FileIndex=[],Je=0;Je<nt.length;++Je)ke.FullPaths[Je]=nt[Je][0],ke.FileIndex[Je]=nt[Je][1];for(Je=0;Je<nt.length;++Je){var Gt=ke.FileIndex[Je],Xt=ke.FullPaths[Je];if(Gt.name=i(Xt).replace("/",""),Gt.L=Gt.R=Gt.C=-(Gt.color=1),Gt.size=Gt.content?Gt.content.length:0,Gt.start=0,Gt.clsid=Gt.clsid||ee,Je===0)Gt.C=nt.length>1?1:-1,Gt.size=0,Gt.type=5;else if(Xt.slice(-1)=="/"){for(Oe=Je+1;Oe<nt.length&&a(ke.FullPaths[Oe])!=Xt;++Oe);for(Gt.C=Oe>=nt.length?-1:Oe,Oe=Je+1;Oe<nt.length&&a(ke.FullPaths[Oe])!=a(Xt);++Oe);Gt.R=Oe>=nt.length?-1:Oe,Gt.type=1}else a(ke.FullPaths[Je+1]||"")==a(Xt)&&(Gt.R=Je+1),Gt.type=2}}}function Q(ke,Xe){var $e=Xe||{};if($e.fileType=="mad")return xr(ke,$e);switch(Y(ke),$e.fileType){case"zip":return Tt(ke,$e)}var Ve=function(tr){for(var nr=0,pr=0,Rr=0;Rr<tr.FileIndex.length;++Rr){var cn=tr.FileIndex[Rr];if(cn.content){var Cn=cn.content.length;Cn>0&&(Cn<4096?nr+=Cn+63>>6:pr+=Cn+511>>9)}}for(var Tn=tr.FullPaths.length+3>>2,bi=nr+7>>3,wi=nr+127>>7,ni=bi+pr+Tn+wi,Vi=ni+127>>7,si=Vi<=109?0:Math.ceil((Vi-109)/127);ni+Vi+si+127>>7>Vi;)si=++Vi<=109?0:Math.ceil((Vi-109)/127);var Ia=[1,si,Vi,wi,Tn,pr,nr,0];return tr.FileIndex[0].size=nr<<6,Ia[7]=(tr.FileIndex[0].start=Ia[0]+Ia[1]+Ia[2]+Ia[3]+Ia[4]+Ia[5])+(Ia[6]+7>>3),Ia}(ke),Je=$t(Ve[7]<<9),Ze=0,vt=0;{for(Ze=0;Ze<8;++Ze)Je.write_shift(1,Z[Ze]);for(Ze=0;Ze<8;++Ze)Je.write_shift(2,0);for(Je.write_shift(2,62),Je.write_shift(2,3),Je.write_shift(2,65534),Je.write_shift(2,9),Je.write_shift(2,6),Ze=0;Ze<3;++Ze)Je.write_shift(2,0);for(Je.write_shift(4,0),Je.write_shift(4,Ve[2]),Je.write_shift(4,Ve[0]+Ve[1]+Ve[2]+Ve[3]-1),Je.write_shift(4,0),Je.write_shift(4,4096),Je.write_shift(4,Ve[3]?Ve[0]+Ve[1]+Ve[2]-1:K),Je.write_shift(4,Ve[3]),Je.write_shift(-4,Ve[1]?Ve[0]-1:K),Je.write_shift(4,Ve[1]),Ze=0;Ze<109;++Ze)Je.write_shift(-4,Ze<Ve[2]?Ve[1]+Ze:-1)}if(Ve[1])for(vt=0;vt<Ve[1];++vt){for(;Ze<236+vt*127;++Ze)Je.write_shift(-4,Ze<Ve[2]?Ve[1]+Ze:-1);Je.write_shift(-4,vt===Ve[1]-1?K:vt+1)}var Oe=function(tr){for(vt+=tr;Ze<vt-1;++Ze)Je.write_shift(-4,Ze+1);tr&&(++Ze,Je.write_shift(-4,K))};for(vt=Ze=0,vt+=Ve[1];Ze<vt;++Ze)Je.write_shift(-4,de.DIFSECT);for(vt+=Ve[2];Ze<vt;++Ze)Je.write_shift(-4,de.FATSECT);Oe(Ve[3]),Oe(Ve[4]);for(var Ge=0,nt=0,xt=ke.FileIndex[0];Ge<ke.FileIndex.length;++Ge)xt=ke.FileIndex[Ge],xt.content&&(nt=xt.content.length,!(nt<4096)&&(xt.start=vt,Oe(nt+511>>9)));for(Oe(Ve[6]+7>>3);Je.l&511;)Je.write_shift(-4,de.ENDOFCHAIN);for(vt=Ze=0,Ge=0;Ge<ke.FileIndex.length;++Ge)xt=ke.FileIndex[Ge],xt.content&&(nt=xt.content.length,!(!nt||nt>=4096)&&(xt.start=vt,Oe(nt+63>>6)));for(;Je.l&511;)Je.write_shift(-4,de.ENDOFCHAIN);for(Ze=0;Ze<Ve[4]<<2;++Ze){var Gt=ke.FullPaths[Ze];if(!Gt||Gt.length===0){for(Ge=0;Ge<17;++Ge)Je.write_shift(4,0);for(Ge=0;Ge<3;++Ge)Je.write_shift(4,-1);for(Ge=0;Ge<12;++Ge)Je.write_shift(4,0);continue}xt=ke.FileIndex[Ze],Ze===0&&(xt.start=xt.size?xt.start-1:K);var Xt=Ze===0&&$e.root||xt.name;if(nt=2*(Xt.length+1),Je.write_shift(64,Xt,"utf16le"),Je.write_shift(2,nt),Je.write_shift(1,xt.type),Je.write_shift(1,xt.color),Je.write_shift(-4,xt.L),Je.write_shift(-4,xt.R),Je.write_shift(-4,xt.C),xt.clsid)Je.write_shift(16,xt.clsid,"hex");else for(Ge=0;Ge<4;++Ge)Je.write_shift(4,0);Je.write_shift(4,xt.state||0),Je.write_shift(4,0),Je.write_shift(4,0),Je.write_shift(4,0),Je.write_shift(4,0),Je.write_shift(4,xt.start),Je.write_shift(4,xt.size),Je.write_shift(4,0)}for(Ze=1;Ze<ke.FileIndex.length;++Ze)if(xt=ke.FileIndex[Ze],xt.size>=4096)if(Je.l=xt.start+1<<9,es&&Buffer.isBuffer(xt.content))xt.content.copy(Je,Je.l,0,xt.size),Je.l+=xt.size+511&-512;else{for(Ge=0;Ge<xt.size;++Ge)Je.write_shift(1,xt.content[Ge]);for(;Ge&511;++Ge)Je.write_shift(1,0)}for(Ze=1;Ze<ke.FileIndex.length;++Ze)if(xt=ke.FileIndex[Ze],xt.size>0&&xt.size<4096)if(es&&Buffer.isBuffer(xt.content))xt.content.copy(Je,Je.l,0,xt.size),Je.l+=xt.size+63&-64;else{for(Ge=0;Ge<xt.size;++Ge)Je.write_shift(1,xt.content[Ge]);for(;Ge&63;++Ge)Je.write_shift(1,0)}if(es)Je.l=Je.length;else for(;Je.l<Je.length;)Je.write_shift(1,0);return Je}function H(ke,Xe){var $e=ke.FullPaths.map(function(Ge){return Ge.toUpperCase()}),Ve=$e.map(function(Ge){var nt=Ge.split("/");return nt[nt.length-(Ge.slice(-1)=="/"?2:1)]}),Je=!1;Xe.charCodeAt(0)===47?(Je=!0,Xe=$e[0].slice(0,-1)+Xe):Je=Xe.indexOf("/")!==-1;var Ze=Xe.toUpperCase(),vt=Je===!0?$e.indexOf(Ze):Ve.indexOf(Ze);if(vt!==-1)return ke.FileIndex[vt];var Oe=!Ze.match(L1);for(Ze=Ze.replace(ry,""),Oe&&(Ze=Ze.replace(L1,"!")),vt=0;vt<$e.length;++vt)if((Oe?$e[vt].replace(L1,"!"):$e[vt]).replace(ry,"")==Ze||(Oe?Ve[vt].replace(L1,"!"):Ve[vt]).replace(ry,"")==Ze)return ke.FileIndex[vt];return null}var U=64,K=-2,X="d0cf11e0a1b11ae1",Z=[208,207,17,224,161,177,26,225],ee="00000000000000000000000000000000",de={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:K,FREESECT:-1,HEADER_SIGNATURE:X,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ee,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Ne(ke,Xe,$e){f();var Ve=Q(ke,$e);u.writeFileSync(Xe,Ve)}function Se(ke){for(var Xe=new Array(ke.length),$e=0;$e<ke.length;++$e)Xe[$e]=String.fromCharCode(ke[$e]);return Xe.join("")}function ue(ke,Xe){var $e=Q(ke,Xe);switch(Xe&&Xe.type||"buffer"){case"file":return f(),u.writeFileSync(Xe.filename,$e),$e;case"binary":return typeof $e=="string"?$e:Se($e);case"base64":return My(typeof $e=="string"?$e:Se($e));case"buffer":if(es)return Buffer.isBuffer($e)?$e:Df($e);case"array":return typeof $e=="string"?ad($e):$e}return $e}var xe;function R(ke){try{var Xe=ke.InflateRaw,$e=new Xe;if($e._processChunk(new Uint8Array([3,0]),$e._finishFlushFlag),$e.bytesRead)xe=ke;else throw new Error("zlib does not expose bytesRead")}catch(Ve){console.error("cannot use native zlib: "+(Ve.message||Ve))}}function G(ke,Xe){if(!xe)return tt(ke,Xe);var $e=xe.InflateRaw,Ve=new $e,Je=Ve._processChunk(ke.slice(ke.l),Ve._finishFlushFlag);return ke.l+=Ve.bytesRead,Je}function ne(ke){return xe?xe.deflateRawSync(ke):ot(ke)}var ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],he=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function me(ke){var Xe=(ke<<1|ke<<11)&139536|(ke<<5|ke<<15)&558144;return(Xe>>16|Xe>>8|Xe)&255}for(var te=typeof Uint8Array<"u",Ae=te?new Uint8Array(256):[],V=0;V<256;++V)Ae[V]=me(V);function ie(ke,Xe){var $e=Ae[ke&255];return Xe<=8?$e>>>8-Xe:($e=$e<<8|Ae[ke>>8&255],Xe<=16?$e>>>16-Xe:($e=$e<<8|Ae[ke>>16&255],$e>>>24-Xe))}function pe(ke,Xe){var $e=Xe&7,Ve=Xe>>>3;return(ke[Ve]|($e<=6?0:ke[Ve+1]<<8))>>>$e&3}function ye(ke,Xe){var $e=Xe&7,Ve=Xe>>>3;return(ke[Ve]|($e<=5?0:ke[Ve+1]<<8))>>>$e&7}function ge(ke,Xe){var $e=Xe&7,Ve=Xe>>>3;return(ke[Ve]|($e<=4?0:ke[Ve+1]<<8))>>>$e&15}function le(ke,Xe){var $e=Xe&7,Ve=Xe>>>3;return(ke[Ve]|($e<=3?0:ke[Ve+1]<<8))>>>$e&31}function Qe(ke,Xe){var $e=Xe&7,Ve=Xe>>>3;return(ke[Ve]|($e<=1?0:ke[Ve+1]<<8))>>>$e&127}function ce(ke,Xe,$e){var Ve=Xe&7,Je=Xe>>>3,Ze=(1<<$e)-1,vt=ke[Je]>>>Ve;return $e<8-Ve||(vt|=ke[Je+1]<<8-Ve,$e<16-Ve)||(vt|=ke[Je+2]<<16-Ve,$e<24-Ve)||(vt|=ke[Je+3]<<24-Ve),vt&Ze}function se(ke,Xe,$e){var Ve=Xe&7,Je=Xe>>>3;return Ve<=5?ke[Je]|=($e&7)<<Ve:(ke[Je]|=$e<<Ve&255,ke[Je+1]=($e&7)>>8-Ve),Xe+3}function je(ke,Xe,$e){var Ve=Xe&7,Je=Xe>>>3;return $e=($e&1)<<Ve,ke[Je]|=$e,Xe+1}function we(ke,Xe,$e){var Ve=Xe&7,Je=Xe>>>3;return $e<<=Ve,ke[Je]|=$e&255,$e>>>=8,ke[Je+1]=$e,Xe+8}function q(ke,Xe,$e){var Ve=Xe&7,Je=Xe>>>3;return $e<<=Ve,ke[Je]|=$e&255,$e>>>=8,ke[Je+1]=$e&255,ke[Je+2]=$e>>>8,Xe+16}function be(ke,Xe){var $e=ke.length,Ve=2*$e>Xe?2*$e:Xe+5,Je=0;if($e>=Xe)return ke;if(es){var Ze=mP(Ve);if(ke.copy)ke.copy(Ze);else for(;Je<ke.length;++Je)Ze[Je]=ke[Je];return Ze}else if(te){var vt=new Uint8Array(Ve);if(vt.set)vt.set(ke);else for(;Je<$e;++Je)vt[Je]=ke[Je];return vt}return ke.length=Ve,ke}function Ee(ke){for(var Xe=new Array(ke),$e=0;$e<ke;++$e)Xe[$e]=0;return Xe}function Re(ke,Xe,$e){var Ve=1,Je=0,Ze=0,vt=0,Oe=0,Ge=ke.length,nt=te?new Uint16Array(32):Ee(32);for(Ze=0;Ze<32;++Ze)nt[Ze]=0;for(Ze=Ge;Ze<$e;++Ze)ke[Ze]=0;Ge=ke.length;var xt=te?new Uint16Array(Ge):Ee(Ge);for(Ze=0;Ze<Ge;++Ze)nt[Je=ke[Ze]]++,Ve<Je&&(Ve=Je),xt[Ze]=0;for(nt[0]=0,Ze=1;Ze<=Ve;++Ze)nt[Ze+16]=Oe=Oe+nt[Ze-1]<<1;for(Ze=0;Ze<Ge;++Ze)Oe=ke[Ze],Oe!=0&&(xt[Ze]=nt[Oe+16]++);var Gt=0;for(Ze=0;Ze<Ge;++Ze)if(Gt=ke[Ze],Gt!=0)for(Oe=ie(xt[Ze],Ve)>>Ve-Gt,vt=(1<<Ve+4-Gt)-1;vt>=0;--vt)Xe[Oe|vt<<Gt]=Gt&15|Ze<<4;return Ve}var it=te?new Uint16Array(512):Ee(512),et=te?new Uint16Array(32):Ee(32);if(!te){for(var Ct=0;Ct<512;++Ct)it[Ct]=0;for(Ct=0;Ct<32;++Ct)et[Ct]=0}(function(){for(var ke=[],Xe=0;Xe<32;Xe++)ke.push(5);Re(ke,et,32);var $e=[];for(Xe=0;Xe<=143;Xe++)$e.push(8);for(;Xe<=255;Xe++)$e.push(9);for(;Xe<=279;Xe++)$e.push(7);for(;Xe<=287;Xe++)$e.push(8);Re($e,it,288)})();var _t=function(){for(var Xe=te?new Uint8Array(32768):[],$e=0,Ve=0;$e<he.length-1;++$e)for(;Ve<he[$e+1];++Ve)Xe[Ve]=$e;for(;Ve<32768;++Ve)Xe[Ve]=29;var Je=te?new Uint8Array(259):[];for($e=0,Ve=0;$e<oe.length-1;++$e)for(;Ve<oe[$e+1];++Ve)Je[Ve]=$e;function Ze(Oe,Ge){for(var nt=0;nt<Oe.length;){var xt=Math.min(65535,Oe.length-nt),Gt=nt+xt==Oe.length;for(Ge.write_shift(1,+Gt),Ge.write_shift(2,xt),Ge.write_shift(2,~xt&65535);xt-- >0;)Ge[Ge.l++]=Oe[nt++]}return Ge.l}function vt(Oe,Ge){for(var nt=0,xt=0,Gt=te?new Uint16Array(32768):[];xt<Oe.length;){var Xt=Math.min(65535,Oe.length-xt);if(Xt<10){for(nt=se(Ge,nt,+(xt+Xt==Oe.length)),nt&7&&(nt+=8-(nt&7)),Ge.l=nt/8|0,Ge.write_shift(2,Xt),Ge.write_shift(2,~Xt&65535);Xt-- >0;)Ge[Ge.l++]=Oe[xt++];nt=Ge.l*8;continue}nt=se(Ge,nt,+(xt+Xt==Oe.length)+2);for(var tr=0;Xt-- >0;){var nr=Oe[xt];tr=(tr<<5^nr)&32767;var pr=-1,Rr=0;if((pr=Gt[tr])&&(pr|=xt&-32768,pr>xt&&(pr-=32768),pr<xt))for(;Oe[pr+Rr]==Oe[xt+Rr]&&Rr<250;)++Rr;if(Rr>2){nr=Je[Rr],nr<=22?nt=we(Ge,nt,Ae[nr+1]>>1)-1:(we(Ge,nt,3),nt+=5,we(Ge,nt,Ae[nr-23]>>5),nt+=3);var cn=nr<8?0:nr-4>>2;cn>0&&(q(Ge,nt,Rr-oe[nr]),nt+=cn),nr=Xe[xt-pr],nt=we(Ge,nt,Ae[nr]>>3),nt-=3;var Cn=nr<4?0:nr-2>>1;Cn>0&&(q(Ge,nt,xt-pr-he[nr]),nt+=Cn);for(var Tn=0;Tn<Rr;++Tn)Gt[tr]=xt&32767,tr=(tr<<5^Oe[xt])&32767,++xt;Xt-=Rr-1}else nr<=143?nr=nr+48:nt=je(Ge,nt,1),nt=we(Ge,nt,Ae[nr]),Gt[tr]=xt&32767,++xt}nt=we(Ge,nt,0)-1}return Ge.l=(nt+7)/8|0,Ge.l}return function(Ge,nt){return Ge.length<8?Ze(Ge,nt):vt(Ge,nt)}}();function ot(ke){var Xe=$t(50+Math.floor(ke.length*1.1)),$e=_t(ke,Xe);return Xe.slice(0,$e)}var Ie=te?new Uint16Array(32768):Ee(32768),qe=te?new Uint16Array(32768):Ee(32768),at=te?new Uint16Array(128):Ee(128),Ut=1,Ue=1;function At(ke,Xe){var $e=le(ke,Xe)+257;Xe+=5;var Ve=le(ke,Xe)+1;Xe+=5;var Je=ge(ke,Xe)+4;Xe+=4;for(var Ze=0,vt=te?new Uint8Array(19):Ee(19),Oe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ge=1,nt=te?new Uint8Array(8):Ee(8),xt=te?new Uint8Array(8):Ee(8),Gt=vt.length,Xt=0;Xt<Je;++Xt)vt[ae[Xt]]=Ze=ye(ke,Xe),Ge<Ze&&(Ge=Ze),nt[Ze]++,Xe+=3;var tr=0;for(nt[0]=0,Xt=1;Xt<=Ge;++Xt)xt[Xt]=tr=tr+nt[Xt-1]<<1;for(Xt=0;Xt<Gt;++Xt)(tr=vt[Xt])!=0&&(Oe[Xt]=xt[tr]++);var nr=0;for(Xt=0;Xt<Gt;++Xt)if(nr=vt[Xt],nr!=0){tr=Ae[Oe[Xt]]>>8-nr;for(var pr=(1<<7-nr)-1;pr>=0;--pr)at[tr|pr<<nr]=nr&7|Xt<<3}var Rr=[];for(Ge=1;Rr.length<$e+Ve;)switch(tr=at[Qe(ke,Xe)],Xe+=tr&7,tr>>>=3){case 16:for(Ze=3+pe(ke,Xe),Xe+=2,tr=Rr[Rr.length-1];Ze-- >0;)Rr.push(tr);break;case 17:for(Ze=3+ye(ke,Xe),Xe+=3;Ze-- >0;)Rr.push(0);break;case 18:for(Ze=11+Qe(ke,Xe),Xe+=7;Ze-- >0;)Rr.push(0);break;default:Rr.push(tr),Ge<tr&&(Ge=tr);break}var cn=Rr.slice(0,$e),Cn=Rr.slice($e);for(Xt=$e;Xt<286;++Xt)cn[Xt]=0;for(Xt=Ve;Xt<30;++Xt)Cn[Xt]=0;return Ut=Re(cn,Ie,286),Ue=Re(Cn,qe,30),Xe}function Ce(ke,Xe){if(ke[0]==3&&!(ke[1]&3))return[B0(Xe),2];for(var $e=0,Ve=0,Je=mP(Xe||1<<18),Ze=0,vt=Je.length>>>0,Oe=0,Ge=0;(Ve&1)==0;){if(Ve=ye(ke,$e),$e+=3,Ve>>>1)Ve>>1==1?(Oe=9,Ge=5):($e=At(ke,$e),Oe=Ut,Ge=Ue);else{$e&7&&($e+=8-($e&7));var nt=ke[$e>>>3]|ke[($e>>>3)+1]<<8;if($e+=32,nt>0)for(!Xe&&vt<Ze+nt&&(Je=be(Je,Ze+nt),vt=Je.length);nt-- >0;)Je[Ze++]=ke[$e>>>3],$e+=8;continue}for(;;){!Xe&&vt<Ze+32767&&(Je=be(Je,Ze+32767),vt=Je.length);var xt=ce(ke,$e,Oe),Gt=Ve>>>1==1?it[xt]:Ie[xt];if($e+=Gt&15,Gt>>>=4,(Gt>>>8&255)===0)Je[Ze++]=Gt;else{if(Gt==256)break;Gt-=257;var Xt=Gt<8?0:Gt-4>>2;Xt>5&&(Xt=0);var tr=Ze+oe[Gt];Xt>0&&(tr+=ce(ke,$e,Xt),$e+=Xt),xt=ce(ke,$e,Ge),Gt=Ve>>>1==1?et[xt]:qe[xt],$e+=Gt&15,Gt>>>=4;var nr=Gt<4?0:Gt-2>>1,pr=he[Gt];for(nr>0&&(pr+=ce(ke,$e,nr),$e+=nr),!Xe&&vt<tr&&(Je=be(Je,tr+100),vt=Je.length);Ze<tr;)Je[Ze]=Je[Ze-pr],++Ze}}}return Xe?[Je,$e+7>>>3]:[Je.slice(0,Ze),$e+7>>>3]}function tt(ke,Xe){var $e=ke.slice(ke.l||0),Ve=Ce($e,Xe);return ke.l+=Ve[1],Ve[0]}function gt(ke,Xe){if(ke)typeof console<"u"&&console.error(Xe);else throw new Error(Xe)}function Kt(ke,Xe){var $e=ke;uc($e,0);var Ve=[],Je=[],Ze={FileIndex:Ve,FullPaths:Je};L(Ze,{root:Xe.root});for(var vt=$e.length-4;($e[vt]!=80||$e[vt+1]!=75||$e[vt+2]!=5||$e[vt+3]!=6)&&vt>=0;)--vt;$e.l=vt+4,$e.l+=4;var Oe=$e.read_shift(2);$e.l+=6;var Ge=$e.read_shift(4);for($e.l=Ge,vt=0;vt<Oe;++vt){$e.l+=20;var nt=$e.read_shift(4),xt=$e.read_shift(4),Gt=$e.read_shift(2),Xt=$e.read_shift(2),tr=$e.read_shift(2);$e.l+=8;var nr=$e.read_shift(4),pr=c($e.slice($e.l+Gt,$e.l+Gt+Xt));$e.l+=Gt+Xt+tr;var Rr=$e.l;$e.l=nr+4,Ke($e,nt,xt,Ze,pr),$e.l=Rr}return Ze}function Ke(ke,Xe,$e,Ve,Je){ke.l+=2;var Ze=ke.read_shift(2),vt=ke.read_shift(2),Oe=l(ke);if(Ze&8257)throw new Error("Unsupported ZIP encryption");for(var Ge=ke.read_shift(4),nt=ke.read_shift(4),xt=ke.read_shift(4),Gt=ke.read_shift(2),Xt=ke.read_shift(2),tr="",nr=0;nr<Gt;++nr)tr+=String.fromCharCode(ke[ke.l++]);if(Xt){var pr=c(ke.slice(ke.l,ke.l+Xt));(pr[21589]||{}).mt&&(Oe=pr[21589].mt),((Je||{})[21589]||{}).mt&&(Oe=Je[21589].mt)}ke.l+=Xt;var Rr=ke.slice(ke.l,ke.l+nt);switch(vt){case 8:Rr=G(ke,xt);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+vt)}var cn=!1;Ze&8&&(Ge=ke.read_shift(4),Ge==134695760&&(Ge=ke.read_shift(4),cn=!0),nt=ke.read_shift(4),xt=ke.read_shift(4)),nt!=Xe&&gt(cn,"Bad compressed size: "+Xe+" != "+nt),xt!=$e&&gt(cn,"Bad uncompressed size: "+$e+" != "+xt),Mn(Ve,tr,Rr,{unsafe:!0,mt:Oe})}function Tt(ke,Xe){var $e=Xe||{},Ve=[],Je=[],Ze=$t(1),vt=$e.compression?8:0,Oe=0,Ge=0,nt=0,xt=0,Gt=0,Xt=ke.FullPaths[0],tr=Xt,nr=ke.FileIndex[0],pr=[],Rr=0;for(Ge=1;Ge<ke.FullPaths.length;++Ge)if(tr=ke.FullPaths[Ge].slice(Xt.length),nr=ke.FileIndex[Ge],!(!nr.size||!nr.content||tr=="Sh33tJ5")){var cn=xt,Cn=$t(tr.length);for(nt=0;nt<tr.length;++nt)Cn.write_shift(1,tr.charCodeAt(nt)&127);Cn=Cn.slice(0,Cn.l),pr[Gt]=c0e.buf(nr.content,0);var Tn=nr.content;vt==8&&(Tn=ne(Tn)),Ze=$t(30),Ze.write_shift(4,67324752),Ze.write_shift(2,20),Ze.write_shift(2,Oe),Ze.write_shift(2,vt),nr.mt?o(Ze,nr.mt):Ze.write_shift(4,0),Ze.write_shift(-4,pr[Gt]),Ze.write_shift(4,Tn.length),Ze.write_shift(4,nr.content.length),Ze.write_shift(2,Cn.length),Ze.write_shift(2,0),xt+=Ze.length,Ve.push(Ze),xt+=Cn.length,Ve.push(Cn),xt+=Tn.length,Ve.push(Tn),Ze=$t(46),Ze.write_shift(4,33639248),Ze.write_shift(2,0),Ze.write_shift(2,20),Ze.write_shift(2,Oe),Ze.write_shift(2,vt),Ze.write_shift(4,0),Ze.write_shift(-4,pr[Gt]),Ze.write_shift(4,Tn.length),Ze.write_shift(4,nr.content.length),Ze.write_shift(2,Cn.length),Ze.write_shift(2,0),Ze.write_shift(2,0),Ze.write_shift(2,0),Ze.write_shift(2,0),Ze.write_shift(4,0),Ze.write_shift(4,cn),Rr+=Ze.l,Je.push(Ze),Rr+=Cn.length,Je.push(Cn),++Gt}return Ze=$t(22),Ze.write_shift(4,101010256),Ze.write_shift(2,0),Ze.write_shift(2,0),Ze.write_shift(2,Gt),Ze.write_shift(2,Gt),Ze.write_shift(4,Rr),Ze.write_shift(4,xt),Ze.write_shift(2,0),so([so(Ve),so(Je),Ze])}var wt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Dt(ke,Xe){if(ke.ctype)return ke.ctype;var $e=ke.name||"",Ve=$e.match(/\.([^\.]+)$/);return Ve&&wt[Ve[1]]||Xe&&(Ve=($e=Xe).match(/[\.\\]([^\.\\])+$/),Ve&&wt[Ve[1]])?wt[Ve[1]]:"application/octet-stream"}function ir(ke){for(var Xe=My(ke),$e=[],Ve=0;Ve<Xe.length;Ve+=76)$e.push(Xe.slice(Ve,Ve+76));return $e.join(`\r
`)+`\r
`}function Dr(ke){var Xe=ke.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(nt){var xt=nt.charCodeAt(0).toString(16).toUpperCase();return"="+(xt.length==1?"0"+xt:xt)});Xe=Xe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Xe.charAt(0)==`
`&&(Xe="=0D"+Xe.slice(1)),Xe=Xe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var $e=[],Ve=Xe.split(`\r
`),Je=0;Je<Ve.length;++Je){var Ze=Ve[Je];if(Ze.length==0){$e.push("");continue}for(var vt=0;vt<Ze.length;){var Oe=76,Ge=Ze.slice(vt,vt+Oe);Ge.charAt(Oe-1)=="="?Oe--:Ge.charAt(Oe-2)=="="?Oe-=2:Ge.charAt(Oe-3)=="="&&(Oe-=3),Ge=Ze.slice(vt,vt+Oe),vt+=Oe,vt<Ze.length&&(Ge+="="),$e.push(Ge)}}return $e.join(`\r
`)}function Xr(ke){for(var Xe=[],$e=0;$e<ke.length;++$e){for(var Ve=ke[$e];$e<=ke.length&&Ve.charAt(Ve.length-1)=="=";)Ve=Ve.slice(0,Ve.length-1)+ke[++$e];Xe.push(Ve)}for(var Je=0;Je<Xe.length;++Je)Xe[Je]=Xe[Je].replace(/[=][0-9A-Fa-f]{2}/g,function(Ze){return String.fromCharCode(parseInt(Ze.slice(1),16))});return ad(Xe.join(`\r
`))}function hs(ke,Xe,$e){for(var Ve="",Je="",Ze="",vt,Oe=0;Oe<10;++Oe){var Ge=Xe[Oe];if(!Ge||Ge.match(/^\s*$/))break;var nt=Ge.match(/^(.*?):\s*([^\s].*)$/);if(nt)switch(nt[1].toLowerCase()){case"content-location":Ve=nt[2].trim();break;case"content-type":Ze=nt[2].trim();break;case"content-transfer-encoding":Je=nt[2].trim();break}}switch(++Oe,Je.toLowerCase()){case"base64":vt=ad(Cf(Xe.slice(Oe).join("")));break;case"quoted-printable":vt=Xr(Xe.slice(Oe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Je)}var xt=Mn(ke,Ve.slice($e.length),vt,{unsafe:!0});Ze&&(xt.ctype=Ze)}function kn(ke,Xe){if(Se(ke.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var $e=Xe&&Xe.root||"",Ve=(es&&Buffer.isBuffer(ke)?ke.toString("binary"):Se(ke)).split(`\r
`),Je=0,Ze="";for(Je=0;Je<Ve.length;++Je)if(Ze=Ve[Je],!!/^Content-Location:/i.test(Ze)&&(Ze=Ze.slice(Ze.indexOf("file")),$e||($e=Ze.slice(0,Ze.lastIndexOf("/")+1)),Ze.slice(0,$e.length)!=$e))for(;$e.length>0&&($e=$e.slice(0,$e.length-1),$e=$e.slice(0,$e.lastIndexOf("/")+1),Ze.slice(0,$e.length)!=$e););var vt=(Ve[1]||"").match(/boundary="(.*?)"/);if(!vt)throw new Error("MAD cannot find boundary");var Oe="--"+(vt[1]||""),Ge=[],nt=[],xt={FileIndex:Ge,FullPaths:nt};L(xt);var Gt,Xt=0;for(Je=0;Je<Ve.length;++Je){var tr=Ve[Je];tr!==Oe&&tr!==Oe+"--"||(Xt++&&hs(xt,Ve.slice(Gt,Je),$e),Gt=Je)}return xt}function xr(ke,Xe){var $e=Xe||{},Ve=$e.boundary||"SheetJS";Ve="------="+Ve;for(var Je=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Ve.slice(2)+'"',"","",""],Ze=ke.FullPaths[0],vt=Ze,Oe=ke.FileIndex[0],Ge=1;Ge<ke.FullPaths.length;++Ge)if(vt=ke.FullPaths[Ge].slice(Ze.length),Oe=ke.FileIndex[Ge],!(!Oe.size||!Oe.content||vt=="Sh33tJ5")){vt=vt.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Rr){return"_x"+Rr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Rr){return"_u"+Rr.charCodeAt(0).toString(16)+"_"});for(var nt=Oe.content,xt=es&&Buffer.isBuffer(nt)?nt.toString("binary"):Se(nt),Gt=0,Xt=Math.min(1024,xt.length),tr=0,nr=0;nr<=Xt;++nr)(tr=xt.charCodeAt(nr))>=32&&tr<128&&++Gt;var pr=Gt>=Xt*4/5;Je.push(Ve),Je.push("Content-Location: "+($e.root||"file:///C:/SheetJS/")+vt),Je.push("Content-Transfer-Encoding: "+(pr?"quoted-printable":"base64")),Je.push("Content-Type: "+Dt(Oe,vt)),Je.push(""),Je.push(pr?Dr(xt):ir(xt))}return Je.push(Ve+`--\r
`),Je.join(`\r
`)}function En(ke){var Xe={};return L(Xe,ke),Xe}function Mn(ke,Xe,$e,Ve){var Je=Ve&&Ve.unsafe;Je||L(ke);var Ze=!Je&&js.find(ke,Xe);if(!Ze){var vt=ke.FullPaths[0];Xe.slice(0,vt.length)==vt?vt=Xe:(vt.slice(-1)!="/"&&(vt+="/"),vt=(vt+Xe).replace("//","/")),Ze={name:i(Xe),type:2},ke.FileIndex.push(Ze),ke.FullPaths.push(vt),Je||js.utils.cfb_gc(ke)}return Ze.content=$e,Ze.size=$e?$e.length:0,Ve&&(Ve.CLSID&&(Ze.clsid=Ve.CLSID),Ve.mt&&(Ze.mt=Ve.mt),Ve.ct&&(Ze.ct=Ve.ct)),Ze}function ns(ke,Xe){L(ke);var $e=js.find(ke,Xe);if($e){for(var Ve=0;Ve<ke.FileIndex.length;++Ve)if(ke.FileIndex[Ve]==$e)return ke.FileIndex.splice(Ve,1),ke.FullPaths.splice(Ve,1),!0}return!1}function jr(ke,Xe,$e){L(ke);var Ve=js.find(ke,Xe);if(Ve){for(var Je=0;Je<ke.FileIndex.length;++Je)if(ke.FileIndex[Je]==Ve)return ke.FileIndex[Je].name=i($e),ke.FullPaths[Je]=$e,!0}return!1}function Rn(ke){Y(ke,!0)}return r.find=H,r.read=k,r.parse=A,r.write=ue,r.writeFile=Ne,r.utils={cfb_new:En,cfb_add:Mn,cfb_del:ns,cfb_mov:jr,cfb_gc:Rn,ReadShift:sy,CheckField:vQ,prep_blob:uc,bconcat:so,use_zlib:R,_deflateRaw:ot,_inflateRaw:tt,consts:de},r}();function u0e(t){return typeof t=="string"?Cw(t):Array.isArray(t)?Ome(t):t}function vv(t,r,n){if(typeof Deno<"u"){if(n&&typeof r=="string")switch(n){case"utf8":r=new TextEncoder(n).encode(r);break;case"binary":r=Cw(r);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,r)}var a=n=="utf8"?Qy(r):r;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,t);if(typeof Blob<"u"){var i=new Blob([u0e(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:t,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=t,l.href=o,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(t);return c.open("w"),c.encoding="binary",Array.isArray(r)&&(r=yv(r)),c.write(r),c.close(),r}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+t)}function lo(t){for(var r=Object.keys(t),n=[],a=0;a<r.length;++a)Object.prototype.hasOwnProperty.call(t,r[a])&&n.push(r[a]);return n}function jP(t,r){for(var n=[],a=lo(t),i=0;i!==a.length;++i)n[t[a[i]][r]]==null&&(n[t[a[i]][r]]=a[i]);return n}function OB(t){for(var r=[],n=lo(t),a=0;a!==n.length;++a)r[t[n[a]]]=n[a];return r}function Ew(t){for(var r=[],n=lo(t),a=0;a!==n.length;++a)r[t[n[a]]]=parseInt(n[a],10);return r}function d0e(t){for(var r=[],n=lo(t),a=0;a!==n.length;++a)r[t[n[a]]]==null&&(r[t[n[a]]]=[]),r[t[n[a]]].push(n[a]);return r}var d2=new Date(1899,11,30,0,0,0);function Dl(t,r){var n=t.getTime(),a=d2.getTime()+(t.getTimezoneOffset()-d2.getTimezoneOffset())*6e4;return(n-a)/(1440*60*1e3)}var nQ=new Date,A0e=d2.getTime()+(nQ.getTimezoneOffset()-d2.getTimezoneOffset())*6e4,NP=nQ.getTimezoneOffset();function sQ(t){var r=new Date;return r.setTime(t*24*60*60*1e3+A0e),r.getTimezoneOffset()!==NP&&r.setTime(r.getTime()+(r.getTimezoneOffset()-NP)*6e4),r}var CP=new Date("2017-02-19T19:06:09.000Z"),aQ=isNaN(CP.getFullYear())?new Date("2/19/17"):CP,f0e=aQ.getFullYear()==2017;function cl(t,r){var n=new Date(t);if(f0e)return r>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):r<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(aQ.getFullYear()==1917&&!isNaN(n.getFullYear())){var a=n.getFullYear();return t.indexOf(""+a)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(o=new Date(o.getTime()-o.getTimezoneOffset()*60*1e3)),o}function Tw(t,r){if(es&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var n={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(o){return n[o]||o})}catch{}for(var a=[],i=0;i!=t.length;++i)a.push(String.fromCharCode(t[i]));return a.join("")}function Ol(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=Ol(t[n]));return r}function Ta(t,r){for(var n="";n.length<r;)n+=t;return n}function ff(t){var r=Number(t);if(!isNaN(r))return isFinite(r)?r:NaN;if(!/\d/.test(t))return r;var n=1,a=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(r=Number(a))||(a=a.replace(/[(](.*)[)]/,function(i,o){return n=-n,o}),!isNaN(r=Number(a)))?r/n:r}var h0e=["january","february","march","april","may","june","july","august","september","october","november","december"];function Ry(t){var r=new Date(t),n=new Date(NaN),a=r.getYear(),i=r.getMonth(),o=r.getDate();if(isNaN(o))return n;var l=t.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&h0e.indexOf(l)==-1)return n}else if(l.match(/[a-z]/))return n;return a<0||a>8099?n:(i>0||o>1)&&a!=101?r:t.match(/[^-0-9:,\/\\]/)?n:r}function pn(t,r,n){if(t.FullPaths){if(typeof n=="string"){var a;return es?a=Df(n):a=Lme(n),js.utils.cfb_add(t,r,a)}js.utils.cfb_add(t,r,n)}else t.file(r,n)}function LB(){return js.utils.cfb_new()}var ri=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,m0e={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},UB=OB(m0e),MB=/[&<>'"]/g,p0e=/[\u0000-\u0008\u000b-\u001f]/g;function As(t){var r=t+"";return r.replace(MB,function(n){return UB[n]}).replace(p0e,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function SP(t){return As(t).replace(/ /g,"_x0020_")}var iQ=/[\u0000-\u001f]/g;function g0e(t){var r=t+"";return r.replace(MB,function(n){return UB[n]}).replace(/\n/g,"<br/>").replace(iQ,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function x0e(t){var r=t+"";return r.replace(MB,function(n){return UB[n]}).replace(iQ,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function y0e(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function v0e(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function $N(t){for(var r="",n=0,a=0,i=0,o=0,l=0,c=0;n<t.length;){if(a=t.charCodeAt(n++),a<128){r+=String.fromCharCode(a);continue}if(i=t.charCodeAt(n++),a>191&&a<224){l=(a&31)<<6,l|=i&63,r+=String.fromCharCode(l);continue}if(o=t.charCodeAt(n++),a<240){r+=String.fromCharCode((a&15)<<12|(i&63)<<6|o&63);continue}l=t.charCodeAt(n++),c=((a&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536,r+=String.fromCharCode(55296+(c>>>10&1023)),r+=String.fromCharCode(56320+(c&1023))}return r}function BP(t){var r=B0(2*t.length),n,a,i=1,o=0,l=0,c;for(a=0;a<t.length;a+=i)i=1,(c=t.charCodeAt(a))<128?n=c:c<224?(n=(c&31)*64+(t.charCodeAt(a+1)&63),i=2):c<240?(n=(c&15)*4096+(t.charCodeAt(a+1)&63)*64+(t.charCodeAt(a+2)&63),i=3):(i=4,n=(c&7)*262144+(t.charCodeAt(a+1)&63)*4096+(t.charCodeAt(a+2)&63)*64+(t.charCodeAt(a+3)&63),n-=65536,l=55296+(n>>>10&1023),n=56320+(n&1023)),l!==0&&(r[o++]=l&255,r[o++]=l>>>8,l=0),r[o++]=n%256,r[o++]=n>>>8;return r.slice(0,o).toString("ucs2")}function EP(t){return Df(t,"binary").toString("utf8")}var M1="foo bar bazâð£",ny=es&&(EP(M1)==$N(M1)&&EP||BP(M1)==$N(M1)&&BP)||$N,Qy=es?function(t){return Df(t,"utf8").toString("binary")}:function(t){for(var r=[],n=0,a=0,i=0;n<t.length;)switch(a=t.charCodeAt(n++),!0){case a<128:r.push(String.fromCharCode(a));break;case a<2048:r.push(String.fromCharCode(192+(a>>6))),r.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,i=t.charCodeAt(n++)-56320+(a<<10),r.push(String.fromCharCode(240+(i>>18&7))),r.push(String.fromCharCode(144+(i>>12&63))),r.push(String.fromCharCode(128+(i>>6&63))),r.push(String.fromCharCode(128+(i&63)));break;default:r.push(String.fromCharCode(224+(a>>12))),r.push(String.fromCharCode(128+(a>>6&63))),r.push(String.fromCharCode(128+(a&63)))}return r.join("")},b0e=function(){var t=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(r){return[new RegExp("&"+r[0]+";","ig"),r[1]]});return function(n){for(var a=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)a=a.replace(t[i][0],t[i][1]);return a}}(),oQ=/(^\s|\s$|\n)/;function ao(t,r){return"<"+t+(r.match(oQ)?' xml:space="preserve"':"")+">"+r+"</"+t+">"}function Hy(t){return lo(t).map(function(r){return" "+r+'="'+t[r]+'"'}).join("")}function dr(t,r,n){return"<"+t+(n!=null?Hy(n):"")+(r!=null?(r.match(oQ)?' xml:space="preserve"':"")+">"+r+"</"+t:"/")+">"}function RS(t,r){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(r)throw n}return""}function w0e(t,r){switch(typeof t){case"string":var n=dr("vt:lpwstr",As(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return dr((t|0)==t?"vt:i4":"vt:r8",As(String(t)));case"boolean":return dr("vt:bool",t?"true":"false")}if(t instanceof Date)return dr("vt:filetime",RS(t));throw new Error("Unable to serialize "+t)}var Mi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Ng=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ac={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function j0e(t,r){for(var n=1-2*(t[r+7]>>>7),a=((t[r+7]&127)<<4)+(t[r+6]>>>4&15),i=t[r+6]&15,o=5;o>=0;--o)i=i*256+t[r+o];return a==2047?i==0?n*(1/0):NaN:(a==0?a=-1022:(a-=1023,i+=Math.pow(2,52)),n*Math.pow(2,a-52)*i)}function N0e(t,r,n){var a=(r<0||1/r==-1/0?1:0)<<7,i=0,o=0,l=a?-r:r;isFinite(l)?l==0?i=o=0:(i=Math.floor(Math.log(l)/Math.LN2),o=l*Math.pow(2,52-i),i<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?i=-1022:(o-=Math.pow(2,52),i+=1023)):(i=2047,o=isNaN(r)?26985:0);for(var c=0;c<=5;++c,o/=256)t[n+c]=o&255;t[n+6]=(i&15)<<4|o&15,t[n+7]=i>>4|a}var TP=function(t){for(var r=[],n=10240,a=0;a<t[0].length;++a)if(t[0][a])for(var i=0,o=t[0][a].length;i<o;i+=n)r.push.apply(r,t[0][a].slice(i,i+n));return r},FP=es?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(r){return Buffer.isBuffer(r)?r:Df(r)})):TP(t)}:TP,IP=function(t,r,n){for(var a=[],i=r;i<n;i+=2)a.push(String.fromCharCode(Mx(t,i)));return a.join("").replace(ry,"")},RB=es?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf16le",r,n).replace(ry,""):IP(t,r,n)}:IP,_P=function(t,r,n){for(var a=[],i=r;i<r+n;++i)a.push(("0"+t[i].toString(16)).slice(-2));return a.join("")},lQ=es?function(t,r,n){return Buffer.isBuffer(t)?t.toString("hex",r,r+n):_P(t,r,n)}:_P,kP=function(t,r,n){for(var a=[],i=r;i<n;i++)a.push(String.fromCharCode(_p(t,i)));return a.join("")},bv=es?function(r,n,a){return Buffer.isBuffer(r)?r.toString("utf8",n,a):kP(r,n,a)}:kP,cQ=function(t,r){var n=fc(t,r);return n>0?bv(t,r+4,r+4+n-1):""},uQ=cQ,dQ=function(t,r){var n=fc(t,r);return n>0?bv(t,r+4,r+4+n-1):""},AQ=dQ,fQ=function(t,r){var n=2*fc(t,r);return n>0?bv(t,r+4,r+4+n-1):""},hQ=fQ,mQ=function(r,n){var a=fc(r,n);return a>0?RB(r,n+4,n+4+a):""},pQ=mQ,gQ=function(t,r){var n=fc(t,r);return n>0?bv(t,r+4,r+4+n):""},xQ=gQ,yQ=function(t,r){return j0e(t,r)},A2=yQ,QB=function(r){return Array.isArray(r)||typeof Uint8Array<"u"&&r instanceof Uint8Array};es&&(uQ=function(r,n){if(!Buffer.isBuffer(r))return cQ(r,n);var a=r.readUInt32LE(n);return a>0?r.toString("utf8",n+4,n+4+a-1):""},AQ=function(r,n){if(!Buffer.isBuffer(r))return dQ(r,n);var a=r.readUInt32LE(n);return a>0?r.toString("utf8",n+4,n+4+a-1):""},hQ=function(r,n){if(!Buffer.isBuffer(r))return fQ(r,n);var a=2*r.readUInt32LE(n);return r.toString("utf16le",n+4,n+4+a-1)},pQ=function(r,n){if(!Buffer.isBuffer(r))return mQ(r,n);var a=r.readUInt32LE(n);return r.toString("utf16le",n+4,n+4+a)},xQ=function(r,n){if(!Buffer.isBuffer(r))return gQ(r,n);var a=r.readUInt32LE(n);return r.toString("utf8",n+4,n+4+a)},A2=function(r,n){return Buffer.isBuffer(r)?r.readDoubleLE(n):yQ(r,n)},QB=function(r){return Buffer.isBuffer(r)||Array.isArray(r)||typeof Uint8Array<"u"&&r instanceof Uint8Array});var _p=function(t,r){return t[r]},Mx=function(t,r){return t[r+1]*256+t[r]},C0e=function(t,r){var n=t[r+1]*256+t[r];return n<32768?n:(65535-n+1)*-1},fc=function(t,r){return t[r+3]*(1<<24)+(t[r+2]<<16)+(t[r+1]<<8)+t[r]},Wm=function(t,r){return t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]},S0e=function(t,r){return t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3]};function sy(t,r){var n="",a,i,o=[],l,c,u,f;switch(r){case"dbcs":if(f=this.l,es&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(u=0;u<t;++u)n+=String.fromCharCode(Mx(this,f)),f+=2;t*=2;break;case"utf8":n=bv(this,this.l,this.l+t);break;case"utf16le":t*=2,n=RB(this,this.l,this.l+t);break;case"wstr":return sy.call(this,t,"dbcs");case"lpstr-ansi":n=uQ(this,this.l),t=4+fc(this,this.l);break;case"lpstr-cp":n=AQ(this,this.l),t=4+fc(this,this.l);break;case"lpwstr":n=hQ(this,this.l),t=4+2*fc(this,this.l);break;case"lpp4":t=4+fc(this,this.l),n=pQ(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+fc(this,this.l),n=xQ(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(l=_p(this,this.l+t++))!==0;)o.push(O1(l));n=o.join("");break;case"_wstr":for(t=0,n="";(l=Mx(this,this.l+t))!==0;)o.push(O1(l)),t+=2;t+=2,n=o.join("");break;case"dbcs-cont":for(n="",f=this.l,u=0;u<t;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return l=_p(this,f),this.l=f+1,c=sy.call(this,t-u,l?"dbcs-cont":"sbcs-cont"),o.join("")+c;o.push(O1(Mx(this,f))),f+=2}n=o.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",f=this.l,u=0;u!=t;++u){if(this.lens&&this.lens.indexOf(f)!==-1)return l=_p(this,f),this.l=f+1,c=sy.call(this,t-u,l?"dbcs-cont":"sbcs-cont"),o.join("")+c;o.push(O1(_p(this,f))),f+=1}n=o.join("");break;default:switch(t){case 1:return a=_p(this,this.l),this.l++,a;case 2:return a=(r==="i"?C0e:Mx)(this,this.l),this.l+=2,a;case 4:case-4:return r==="i"||(this[this.l+3]&128)===0?(a=(t>0?Wm:S0e)(this,this.l),this.l+=4,a):(i=fc(this,this.l),this.l+=4,i);case 8:case-8:if(r==="f")return t==8?i=A2(this,this.l):i=A2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=lQ(this,this.l,t);break}}return this.l+=t,n}var B0e=function(t,r,n){t[n]=r&255,t[n+1]=r>>>8&255,t[n+2]=r>>>16&255,t[n+3]=r>>>24&255},E0e=function(t,r,n){t[n]=r&255,t[n+1]=r>>8&255,t[n+2]=r>>16&255,t[n+3]=r>>24&255},T0e=function(t,r,n){t[n]=r&255,t[n+1]=r>>>8&255};function F0e(t,r,n){var a=0,i=0;if(n==="dbcs"){for(i=0;i!=r.length;++i)T0e(this,r.charCodeAt(i),this.l+2*i);a=2*r.length}else if(n==="sbcs"){for(r=r.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=r.length;++i)this[this.l+i]=r.charCodeAt(i)&255;a=r.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(r.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var o=Math.min(this.l+t,this.length);for(i=0;i<Math.min(r.length,t);++i){var l=r.charCodeAt(i);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(t){case 1:a=1,this[this.l]=r&255;break;case 2:a=2,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255;break;case 3:a=3,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255,r>>>=8,this[this.l+2]=r&255;break;case 4:a=4,B0e(this,r,this.l);break;case 8:if(a=8,n==="f"){N0e(this,r,this.l);break}case 16:break;case-4:a=4,E0e(this,r,this.l);break}return this.l+=a,this}function vQ(t,r){var n=lQ(this,this.l,t.length>>1);if(n!==t)throw new Error(r+"Expected "+t+" saw "+n);this.l+=t.length>>1}function uc(t,r){t.l=r,t.read_shift=sy,t.chk=vQ,t.write_shift=F0e}function uA(t,r){t.l+=r}function $t(t){var r=B0(t);return uc(r,0),r}function kl(){var t=[],r=es?256:2048,n=function(f){var A=$t(f);return uc(A,0),A},a=n(r),i=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&t.push(a),a=null)},o=function(f){return a&&f<a.length-a.l?a:(i(),a=n(Math.max(f+1,r)))},l=function(){return i(),so(t)},c=function(f){i(),a=f,a.l==null&&(a.l=a.length),o(r)};return{next:o,push:c,end:l,_bufs:t}}function er(t,r,n,a){var i=+r,o;if(!isNaN(i)){a||(a=j1e[i].p||(n||[]).length||0),o=1+(i>=128?1:0)+1,a>=128&&++o,a>=16384&&++o,a>=2097152&&++o;var l=t.next(o);i<=127?l.write_shift(1,i):(l.write_shift(1,(i&127)+128),l.write_shift(1,i>>7));for(var c=0;c!=4;++c)if(a>=128)l.write_shift(1,(a&127)+128),a>>=7;else{l.write_shift(1,a);break}a>0&&QB(n)&&t.push(n)}}function ay(t,r,n){var a=Ol(t);if(r.s?(a.cRel&&(a.c+=r.s.c),a.rRel&&(a.r+=r.s.r)):(a.cRel&&(a.c+=r.c),a.rRel&&(a.r+=r.r)),!n||n.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function PP(t,r,n){var a=Ol(t);return a.s=ay(a.s,r.s,n),a.e=ay(a.e,r.s,n),a}function iy(t,r){if(t.cRel&&t.c<0)for(t=Ol(t);t.c<0;)t.c+=r>8?16384:256;if(t.rRel&&t.r<0)for(t=Ol(t);t.r<0;)t.r+=r>8?1048576:r>5?65536:16384;var n=fs(t);return!t.cRel&&t.cRel!=null&&(n=k0e(n)),!t.rRel&&t.rRel!=null&&(n=I0e(n)),n}function KN(t,r){return t.s.r==0&&!t.s.rRel&&t.e.r==(r.biff>=12?1048575:r.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Do(t.s.c)+":"+(t.e.cRel?"":"$")+Do(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(r.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+io(t.s.r)+":"+(t.e.rRel?"":"$")+io(t.e.r):iy(t.s,r.biff)+":"+iy(t.e,r.biff)}function HB(t){return parseInt(_0e(t),10)-1}function io(t){return""+(t+1)}function I0e(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function _0e(t){return t.replace(/\$(\d+)$/,"$1")}function $B(t){for(var r=P0e(t),n=0,a=0;a!==r.length;++a)n=26*n+r.charCodeAt(a)-64;return n-1}function Do(t){if(t<0)throw new Error("invalid column "+t);var r="";for(++t;t;t=Math.floor((t-1)/26))r=String.fromCharCode((t-1)%26+65)+r;return r}function k0e(t){return t.replace(/^([A-Z])/,"$$$1")}function P0e(t){return t.replace(/^\$([A-Z])/,"$1")}function D0e(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Qi(t){for(var r=0,n=0,a=0;a<t.length;++a){var i=t.charCodeAt(a);i>=48&&i<=57?r=10*r+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:r-1}}function fs(t){for(var r=t.c+1,n="";r;r=(r-1)/26|0)n=String.fromCharCode((r-1)%26+65)+n;return n+(t.r+1)}function yc(t){var r=t.indexOf(":");return r==-1?{s:Qi(t),e:Qi(t)}:{s:Qi(t.slice(0,r)),e:Qi(t.slice(r+1))}}function ti(t,r){return typeof r>"u"||typeof r=="number"?ti(t.s,t.e):(typeof t!="string"&&(t=fs(t)),typeof r!="string"&&(r=fs(r)),t==r?t:t+":"+r)}function ta(t){var r={s:{c:0,r:0},e:{c:0,r:0}},n=0,a=0,i=0,o=t.length;for(n=0;a<o&&!((i=t.charCodeAt(a)-64)<1||i>26);++a)n=26*n+i;for(r.s.c=--n,n=0;a<o&&!((i=t.charCodeAt(a)-48)<0||i>9);++a)n=10*n+i;if(r.s.r=--n,a===o||i!=10)return r.e.c=r.s.c,r.e.r=r.s.r,r;for(++a,n=0;a!=o&&!((i=t.charCodeAt(a)-64)<1||i>26);++a)n=26*n+i;for(r.e.c=--n,n=0;a!=o&&!((i=t.charCodeAt(a)-48)<0||i>9);++a)n=10*n+i;return r.e.r=--n,r}function DP(t,r){var n=t.t=="d"&&r instanceof Date;if(t.z!=null)try{return t.w=Yh(t.z,n?Dl(r):r)}catch{}try{return t.w=Yh((t.XF||{}).numFmtId||(n?14:0),n?Dl(r):r)}catch{return""+r}}function Sf(t,r,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?wv[t.v]||t.v:r==null?DP(t,t.v):DP(t,r))}function L0(t,r){var n=r&&r.sheet?r.sheet:"Sheet1",a={};return a[n]=t,{SheetNames:[n],Sheets:a}}function bQ(t,r,n){var a=n||{},i=t?Array.isArray(t):a.dense,o=t||(i?[]:{}),l=0,c=0;if(o&&a.origin!=null){if(typeof a.origin=="number")l=a.origin;else{var u=typeof a.origin=="string"?Qi(a.origin):a.origin;l=u.r,c=u.c}o["!ref"]||(o["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var A=ta(o["!ref"]);f.s.c=A.s.c,f.s.r=A.s.r,f.e.c=Math.max(f.e.c,A.e.c),f.e.r=Math.max(f.e.r,A.e.r),l==-1&&(f.e.r=l=A.e.r+1)}for(var m=0;m!=r.length;++m)if(r[m]){if(!Array.isArray(r[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=r[m].length;++p)if(!(typeof r[m][p]>"u")){var g={v:r[m][p]},b=l+m,v=c+p;if(f.s.r>b&&(f.s.r=b),f.s.c>v&&(f.s.c=v),f.e.r<b&&(f.e.r=b),f.e.c<v&&(f.e.c=v),r[m][p]&&typeof r[m][p]=="object"&&!Array.isArray(r[m][p])&&!(r[m][p]instanceof Date))g=r[m][p];else if(Array.isArray(g.v)&&(g.f=r[m][p][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(a.nullError)g.t="e",g.v=0;else if(a.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=a.dateNF||Fa[14],a.cellDates?(g.t="d",g.w=Yh(g.z,Dl(g.v))):(g.t="n",g.v=Dl(g.v),g.w=Yh(g.z,g.v))):g.t="s";if(i)o[b]||(o[b]=[]),o[b][v]&&o[b][v].z&&(g.z=o[b][v].z),o[b][v]=g;else{var y=fs({c:v,r:b});o[y]&&o[y].z&&(g.z=o[y].z),o[y]=g}}}return f.s.c<1e7&&(o["!ref"]=ti(f)),o}function Cg(t,r){return bQ(null,t,r)}function O0e(t){return t.read_shift(4,"i")}function ld(t,r){return r||(r=$t(4)),r.write_shift(4,t),r}function Oo(t){var r=t.read_shift(4);return r===0?"":t.read_shift(r,"dbcs")}function Hi(t,r){var n=!1;return r==null&&(n=!0,r=$t(4+2*t.length)),r.write_shift(4,t.length),t.length>0&&r.write_shift(0,t,"dbcs"),n?r.slice(0,r.l):r}function L0e(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function U0e(t,r){return r||(r=$t(4)),r.write_shift(2,0),r.write_shift(2,0),r}function KB(t,r){var n=t.l,a=t.read_shift(1),i=Oo(t),o=[],l={t:i,h:i};if((a&1)!==0){for(var c=t.read_shift(4),u=0;u!=c;++u)o.push(L0e(t));l.r=o}else l.r=[{ich:0,ifnt:0}];return t.l=n+r,l}function M0e(t,r){var n=!1;return r==null&&(n=!0,r=$t(15+4*t.t.length)),r.write_shift(1,0),Hi(t.t,r),n?r.slice(0,r.l):r}var R0e=KB;function Q0e(t,r){var n=!1;return r==null&&(n=!0,r=$t(23+4*t.t.length)),r.write_shift(1,1),Hi(t.t,r),r.write_shift(4,1),U0e({},r),n?r.slice(0,r.l):r}function lu(t){var r=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:r,iStyleRef:n}}function U0(t,r){return r==null&&(r=$t(8)),r.write_shift(-4,t.c),r.write_shift(3,t.iStyleRef||t.s),r.write_shift(1,0),r}function M0(t){var r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:r}}function R0(t,r){return r==null&&(r=$t(4)),r.write_shift(3,t.iStyleRef||t.s),r.write_shift(1,0),r}var H0e=Oo,wQ=Hi;function VB(t){var r=t.read_shift(4);return r===0||r===4294967295?"":t.read_shift(r,"dbcs")}function f2(t,r){var n=!1;return r==null&&(n=!0,r=$t(127)),r.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&r.write_shift(0,t,"dbcs"),n?r.slice(0,r.l):r}var $0e=Oo,QS=VB,zB=f2;function jQ(t){var r=t.slice(t.l,t.l+4),n=r[0]&1,a=r[0]&2;t.l+=4;var i=a===0?A2([0,0,0,0,r[0]&252,r[1],r[2],r[3]],0):Wm(r,0)>>2;return n?i/100:i}function NQ(t,r){r==null&&(r=$t(4));var n=0,a=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?a=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(a=1,n=1),a)r.write_shift(-4,((n?i:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function CQ(t){var r={s:{},e:{}};return r.s.r=t.read_shift(4),r.e.r=t.read_shift(4),r.s.c=t.read_shift(4),r.e.c=t.read_shift(4),r}function K0e(t,r){return r||(r=$t(16)),r.write_shift(4,t.s.r),r.write_shift(4,t.e.r),r.write_shift(4,t.s.c),r.write_shift(4,t.e.c),r}var Q0=CQ,Sg=K0e;function Bg(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function E0(t,r){return(r||$t(8)).write_shift(8,t,"f")}function V0e(t){var r={},n=t.read_shift(1),a=n>>>1,i=t.read_shift(1),o=t.read_shift(2,"i"),l=t.read_shift(1),c=t.read_shift(1),u=t.read_shift(1);switch(t.l++,a){case 0:r.auto=1;break;case 1:r.index=i;var f=epe[i];f&&(r.rgb=zP(f));break;case 2:r.rgb=zP([l,c,u]);break;case 3:r.theme=i;break}return o!=0&&(r.tint=o>0?o/32767:o/32768),r}function h2(t,r){if(r||(r=$t(8)),!t||t.auto)return r.write_shift(4,0),r.write_shift(4,0),r;t.index!=null?(r.write_shift(1,2),r.write_shift(1,t.index)):t.theme!=null?(r.write_shift(1,6),r.write_shift(1,t.theme)):(r.write_shift(1,5),r.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),r.write_shift(2,n),!t.rgb||t.theme!=null)r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);else{var a=t.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),r.write_shift(1,parseInt(a.slice(0,2),16)),r.write_shift(1,parseInt(a.slice(2,4),16)),r.write_shift(1,parseInt(a.slice(4,6),16)),r.write_shift(1,255)}return r}function z0e(t){var r=t.read_shift(1);t.l++;var n={fBold:r&1,fItalic:r&2,fUnderline:r&4,fStrikeout:r&8,fOutline:r&16,fShadow:r&32,fCondense:r&64,fExtend:r&128};return n}function G0e(t,r){r||(r=$t(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return r.write_shift(1,n),r.write_shift(1,0),r}var SQ=2,lc=3,R1=11,m2=19,Q1=64,W0e=65,q0e=71,Y0e=4108,X0e=4126,ro=80,OP={1:{n:"CodePage",t:SQ},2:{n:"Category",t:ro},3:{n:"PresentationFormat",t:ro},4:{n:"ByteCount",t:lc},5:{n:"LineCount",t:lc},6:{n:"ParagraphCount",t:lc},7:{n:"SlideCount",t:lc},8:{n:"NoteCount",t:lc},9:{n:"HiddenCount",t:lc},10:{n:"MultimediaClipCount",t:lc},11:{n:"ScaleCrop",t:R1},12:{n:"HeadingPairs",t:Y0e},13:{n:"TitlesOfParts",t:X0e},14:{n:"Manager",t:ro},15:{n:"Company",t:ro},16:{n:"LinksUpToDate",t:R1},17:{n:"CharacterCount",t:lc},19:{n:"SharedDoc",t:R1},22:{n:"HyperlinksChanged",t:R1},23:{n:"AppVersion",t:lc,p:"version"},24:{n:"DigSig",t:W0e},26:{n:"ContentType",t:ro},27:{n:"ContentStatus",t:ro},28:{n:"Language",t:ro},29:{n:"Version",t:ro},255:{},2147483648:{n:"Locale",t:m2},2147483651:{n:"Behavior",t:m2},1919054434:{}},LP={1:{n:"CodePage",t:SQ},2:{n:"Title",t:ro},3:{n:"Subject",t:ro},4:{n:"Author",t:ro},5:{n:"Keywords",t:ro},6:{n:"Comments",t:ro},7:{n:"Template",t:ro},8:{n:"LastAuthor",t:ro},9:{n:"RevNumber",t:ro},10:{n:"EditTime",t:Q1},11:{n:"LastPrinted",t:Q1},12:{n:"CreatedDate",t:Q1},13:{n:"ModifiedDate",t:Q1},14:{n:"PageCount",t:lc},15:{n:"WordCount",t:lc},16:{n:"CharCount",t:lc},17:{n:"Thumbnail",t:q0e},18:{n:"Application",t:ro},19:{n:"DocSecurity",t:lc},255:{},2147483648:{n:"Locale",t:m2},2147483651:{n:"Behavior",t:m2},1919054434:{}};function J0e(t){return t.map(function(r){return[r>>16&255,r>>8&255,r&255]})}var Z0e=J0e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),epe=Ol(Z0e),wv={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},tpe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},H1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function BQ(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function EQ(t,r){var n=d0e(tpe),a=[],i;a[a.length]=ri,a[a.length]=dr("Types",null,{xmlns:Mi.CT,"xmlns:xsd":Mi.xsd,"xmlns:xsi":Mi.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return dr("Default",null,{Extension:u[0],ContentType:u[1]})}));var o=function(u){t[u]&&t[u].length>0&&(i=t[u][0],a[a.length]=dr("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:H1[u][r.bookType]||H1[u].xlsx}))},l=function(u){(t[u]||[]).forEach(function(f){a[a.length]=dr("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:H1[u][r.bookType]||H1[u].xlsx})})},c=function(u){(t[u]||[]).forEach(function(f){a[a.length]=dr("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:n[u][0]})})};return o("workbooks"),l("sheets"),l("charts"),c("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),l("metadata"),c("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var Wn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function TQ(t){var r=t.lastIndexOf("/");return t.slice(0,r+1)+"_rels/"+t.slice(r+1)+".rels"}function zp(t){var r=[ri,dr("Relationships",null,{xmlns:Mi.RELS})];return lo(t["!id"]).forEach(function(n){r[r.length]=dr("Relationship",null,t["!id"][n])}),r.length>2&&(r[r.length]="</Relationships>",r[1]=r[1].replace("/>",">")),r.join("")}function cs(t,r,n,a,i,o){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),r<0)for(r=t["!idx"];t["!id"]["rId"+r];++r);if(t["!idx"]=r+1,i.Id="rId"+r,i.Type=a,i.Target=n,[Wn.HLINK,Wn.XPATH,Wn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+r);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,r}function rpe(t){var r=[ri];r.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),r.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)r.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return r.push("</manifest:manifest>"),r.join("")}function UP(t,r,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+r+`"/>
`,`  </rdf:Description>
`].join("")}function npe(t,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+r+`"/>
`,`  </rdf:Description>
`].join("")}function spe(t){var r=[ri];r.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)r.push(UP(t[n][0],t[n][1])),r.push(npe("",t[n][0]));return r.push(UP("","Document","pkg")),r.push("</rdf:RDF>"),r.join("")}function FQ(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+i2.version+"</meta:generator></office:meta></office:document-meta>"}var m0=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function VN(t,r,n,a,i){i[t]!=null||r==null||r===""||(i[t]=r,r=As(r),a[a.length]=n?dr(t,r,n):ao(t,r))}function IQ(t,r){var n=r||{},a=[ri,dr("cp:coreProperties",null,{"xmlns:cp":Mi.CORE_PROPS,"xmlns:dc":Mi.dc,"xmlns:dcterms":Mi.dcterms,"xmlns:dcmitype":Mi.dcmitype,"xmlns:xsi":Mi.xsi})],i={};if(!t&&!n.Props)return a.join("");t&&(t.CreatedDate!=null&&VN("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:RS(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},a,i),t.ModifiedDate!=null&&VN("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:RS(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},a,i));for(var o=0;o!=m0.length;++o){var l=m0[o],c=n.Props&&n.Props[l[1]]!=null?n.Props[l[1]]:t?t[l[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&VN(l[0],c,null,a,i)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var Gp=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],_Q=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function kQ(t){var r=[],n=dr;return t||(t={}),t.Application="SheetJS",r[r.length]=ri,r[r.length]=dr("Properties",null,{xmlns:Mi.EXT_PROPS,"xmlns:vt":Mi.vt}),Gp.forEach(function(a){if(t[a[1]]!==void 0){var i;switch(a[2]){case"string":i=As(String(t[a[1]]));break;case"bool":i=t[a[1]]?"true":"false";break}i!==void 0&&(r[r.length]=n(a[0],i))}}),r[r.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),r[r.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(a){return"<vt:lpstr>"+As(a)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),r.length>2&&(r[r.length]="</Properties>",r[1]=r[1].replace("/>",">")),r.join("")}function PQ(t){var r=[ri,dr("Properties",null,{xmlns:Mi.CUST_PROPS,"xmlns:vt":Mi.vt})];if(!t)return r.join("");var n=1;return lo(t).forEach(function(i){++n,r[r.length]=dr("property",w0e(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:As(i)})}),r.length>2&&(r[r.length]="</Properties>",r[1]=r[1].replace("/>",">")),r.join("")}var MP={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function ape(t,r){var n=[];return lo(MP).map(function(a){for(var i=0;i<m0.length;++i)if(m0[i][1]==a)return m0[i];for(i=0;i<Gp.length;++i)if(Gp[i][1]==a)return Gp[i];throw a}).forEach(function(a){if(t[a[1]]!=null){var i=r&&r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:t[a[1]];switch(a[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(ao(MP[a[1]]||a[1],i))}}),dr("DocumentProperties",n.join(""),{xmlns:Ac.o})}function ipe(t,r){var n=["Worksheets","SheetNames"],a="CustomDocumentProperties",i=[];return t&&lo(t).forEach(function(o){if(Object.prototype.hasOwnProperty.call(t,o)){for(var l=0;l<m0.length;++l)if(o==m0[l][1])return;for(l=0;l<Gp.length;++l)if(o==Gp[l][1])return;for(l=0;l<n.length;++l)if(o==n[l])return;var c=t[o],u="string";typeof c=="number"?(u="float",c=String(c)):c===!0||c===!1?(u="boolean",c=c?"1":"0"):c=String(c),i.push(dr(SP(o),c,{"dt:dt":u}))}}),r&&lo(r).forEach(function(o){if(Object.prototype.hasOwnProperty.call(r,o)&&!(t&&Object.prototype.hasOwnProperty.call(t,o))){var l=r[o],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l instanceof Date?(c="dateTime.tz",l=l.toISOString()):l=String(l),i.push(dr(SP(o),l,{"dt:dt":c}))}}),"<"+a+' xmlns="'+Ac.o+'">'+i.join("")+"</"+a+">"}function ope(t){var r=typeof t=="string"?new Date(Date.parse(t)):t,n=r.getTime()/1e3+11644473600,a=n%Math.pow(2,32),i=(n-a)/Math.pow(2,32);a*=1e7,i*=1e7;var o=a/Math.pow(2,32)|0;o>0&&(a=a%Math.pow(2,32),i+=o);var l=$t(8);return l.write_shift(4,a),l.write_shift(4,i),l}function RP(t,r){var n=$t(4),a=$t(4);switch(n.write_shift(4,t==80?31:t),t){case 3:a.write_shift(-4,r);break;case 5:a=$t(8),a.write_shift(8,r,"f");break;case 11:a.write_shift(4,r?1:0);break;case 64:a=ope(r);break;case 31:case 80:for(a=$t(4+2*(r.length+1)+(r.length%2?0:2)),a.write_shift(4,r.length+1),a.write_shift(0,r,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+r)}return so([n,a])}var DQ=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function lpe(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function QP(t,r,n){var a=$t(8),i=[],o=[],l=8,c=0,u=$t(8),f=$t(8);if(u.write_shift(4,2),u.write_shift(4,1200),f.write_shift(4,1),o.push(u),i.push(f),l+=8+u.length,!r){f=$t(8),f.write_shift(4,0),i.unshift(f);var A=[$t(4)];for(A[0].write_shift(4,t.length),c=0;c<t.length;++c){var m=t[c][0];for(u=$t(8+2*(m.length+1)+(m.length%2?0:2)),u.write_shift(4,c+2),u.write_shift(4,m.length+1),u.write_shift(0,m,"dbcs");u.l!=u.length;)u.write_shift(1,0);A.push(u)}u=so(A),o.unshift(u),l+=8+u.length}for(c=0;c<t.length;++c)if(!(r&&!r[t[c][0]])&&!(DQ.indexOf(t[c][0])>-1||_Q.indexOf(t[c][0])>-1)&&t[c][1]!=null){var p=t[c][1],g=0;if(r){g=+r[t[c][0]];var b=n[g];if(b.p=="version"&&typeof p=="string"){var v=p.split(".");p=(+v[0]<<16)+(+v[1]||0)}u=RP(b.t,p)}else{var y=lpe(p);y==-1&&(y=31,p=String(p)),u=RP(y,p)}o.push(u),f=$t(8),f.write_shift(4,r?g:2+c),i.push(f),l+=8+u.length}var j=8*(o.length+1);for(c=0;c<o.length;++c)i[c].write_shift(4,j),j+=o[c].length;return a.write_shift(4,l),a.write_shift(4,o.length),so([a].concat(i).concat(o))}function HP(t,r,n,a,i,o){var l=$t(i?68:48),c=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,js.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,i?2:1),l.write_shift(16,r,"hex"),l.write_shift(4,i?68:48);var u=QP(t,n,a);if(c.push(u),i){var f=QP(i,null,null);l.write_shift(16,o,"hex"),l.write_shift(4,68+u.length),c.push(f)}return so(c)}function cpe(t,r){r||(r=$t(t));for(var n=0;n<t;++n)r.write_shift(1,0);return r}function upe(t,r){return t.read_shift(r)===1}function rl(t,r){return r||(r=$t(2)),r.write_shift(2,+!!t),r}function OQ(t){return t.read_shift(2,"u")}function tu(t,r){return r||(r=$t(2)),r.write_shift(2,t),r}function LQ(t,r,n){return n||(n=$t(2)),n.write_shift(1,r=="e"?+t:+!!t),n.write_shift(1,r=="e"?1:0),n}function UQ(t,r,n){var a=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var o=t.read_shift(1);o&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var l=a?t.read_shift(a,i):"";return l}function dpe(t){var r=t.t||"",n=$t(3);n.write_shift(2,r.length),n.write_shift(1,1);var a=$t(2*r.length);a.write_shift(2*r.length,r,"utf16le");var i=[n,a];return so(i)}function Ape(t,r,n){var a;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(r,"cpstr");if(n.biff>=12)return t.read_shift(r,"dbcs-cont")}var i=t.read_shift(1);return i===0?a=t.read_shift(r,"sbcs-cont"):a=t.read_shift(r,"dbcs-cont"),a}function fpe(t,r,n){var a=t.read_shift(n&&n.biff==2?1:2);return a===0?(t.l++,""):Ape(t,a,n)}function hpe(t,r,n){if(n.biff>5)return fpe(t,r,n);var a=t.read_shift(1);return a===0?(t.l++,""):t.read_shift(a,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function MQ(t,r,n){return n||(n=$t(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function $P(t,r){r||(r=$t(6+t.length*2)),r.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)r.write_shift(2,t.charCodeAt(n));return r.write_shift(2,0),r}function mpe(t){var r=$t(512),n=0,a=t.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var i=a.indexOf("#"),o=i>-1?31:23;switch(a.charAt(0)){case"#":o=28;break;case".":o&=-3;break}r.write_shift(4,2),r.write_shift(4,o);var l=[8,6815827,6619237,4849780,83];for(n=0;n<l.length;++n)r.write_shift(4,l[n]);if(o==28)a=a.slice(1),$P(a,r);else if(o&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<l.length;++n)r.write_shift(1,parseInt(l[n],16));var c=i>-1?a.slice(0,i):a;for(r.write_shift(4,2*(c.length+1)),n=0;n<c.length;++n)r.write_shift(2,c.charCodeAt(n));r.write_shift(2,0),o&8&&$P(i>-1?a.slice(i+1):"",r)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<l.length;++n)r.write_shift(1,parseInt(l[n],16));for(var u=0;a.slice(u*3,u*3+3)=="../"||a.slice(u*3,u*3+3)=="..\\";)++u;for(r.write_shift(2,u),r.write_shift(4,a.length-3*u+1),n=0;n<a.length-3*u;++n)r.write_shift(1,a.charCodeAt(n+3*u)&255);for(r.write_shift(1,0),r.write_shift(2,65535),r.write_shift(2,57005),n=0;n<6;++n)r.write_shift(4,0)}return r.slice(0,r.l)}function T0(t,r,n,a){return a||(a=$t(6)),a.write_shift(2,t),a.write_shift(2,r),a.write_shift(2,n||0),a}function ppe(t,r,n){var a=n.biff>8?4:2,i=t.read_shift(a),o=t.read_shift(a,"i"),l=t.read_shift(a,"i");return[i,o,l]}function gpe(t){var r=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2),i=t.read_shift(2);return{s:{c:a,r},e:{c:i,r:n}}}function RQ(t,r){return r||(r=$t(8)),r.write_shift(2,t.s.r),r.write_shift(2,t.e.r),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c),r}function GB(t,r,n){var a=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":a=1280,i=8;break;case"biff4":a=4,i=6;break;case"biff3":a=3,i=6;break;case"biff2":a=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var o=$t(i);return o.write_shift(2,a),o.write_shift(2,r),i>4&&o.write_shift(2,29282),i>6&&o.write_shift(2,1997),i>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function xpe(t,r){var n=!r||r.biff==8,a=$t(n?112:54);for(a.write_shift(r.biff==8?2:1,7),n&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(n?0:536870912));a.l<a.length;)a.write_shift(1,n?0:32);return a}function ype(t,r){var n=!r||r.biff>=8?2:1,a=$t(8+n*t.name.length);a.write_shift(4,t.pos),a.write_shift(1,t.hs||0),a.write_shift(1,t.dt),a.write_shift(1,t.name.length),r.biff>=8&&a.write_shift(1,1),a.write_shift(n*t.name.length,t.name,r.biff<8?"sbcs":"utf16le");var i=a.slice(0,a.l);return i.l=a.l,i}function vpe(t,r){var n=$t(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var a=[],i=0;i<t.length;++i)a[i]=dpe(t[i]);var o=so([n].concat(a));return o.parts=[n.length].concat(a.map(function(l){return l.length})),o}function bpe(){var t=$t(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function wpe(t){var r=$t(18),n=1718;return t&&t.RTL&&(n|=64),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,64),r.write_shift(4,0),r.write_shift(4,0),r}function jpe(t,r){var n=t.name||"Arial",a=r&&r.biff==5,i=a?15+n.length:16+2*n.length,o=$t(i);return o.write_shift(2,t.sz*20),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,n.length),a||o.write_shift(1,1),o.write_shift((a?1:2)*n.length,n,a?"sbcs":"utf16le"),o}function Npe(t,r,n,a){var i=$t(10);return T0(t,r,a,i),i.write_shift(4,n),i}function Cpe(t,r,n,a,i){var o=!i||i.biff==8,l=$t(8+ +o+(1+o)*n.length);return T0(t,r,a,l),l.write_shift(2,n.length),o&&l.write_shift(1,1),l.write_shift((1+o)*n.length,n,o?"utf16le":"sbcs"),l}function Spe(t,r,n,a){var i=n&&n.biff==5;a||(a=$t(i?3+r.length:5+2*r.length)),a.write_shift(2,t),a.write_shift(i?1:2,r.length),i||a.write_shift(1,1),a.write_shift((i?1:2)*r.length,r,i?"sbcs":"utf16le");var o=a.length>a.l?a.slice(0,a.l):a;return o.l==null&&(o.l=o.length),o}function Bpe(t,r){var n=r.biff==8||!r.biff?4:2,a=$t(2*n+6);return a.write_shift(n,t.s.r),a.write_shift(n,t.e.r+1),a.write_shift(2,t.s.c),a.write_shift(2,t.e.c+1),a.write_shift(2,0),a}function KP(t,r,n,a){var i=n&&n.biff==5;a||(a=$t(i?16:20)),a.write_shift(2,0),t.style?(a.write_shift(2,t.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,t.numFmtId||0),a.write_shift(2,r<<4));var o=0;return t.numFmtId>0&&i&&(o|=1024),a.write_shift(4,o),a.write_shift(4,0),i||a.write_shift(4,0),a.write_shift(2,0),a}function Epe(t){var r=$t(8);return r.write_shift(4,0),r.write_shift(2,0),r.write_shift(2,0),r}function Tpe(t,r,n,a,i,o){var l=$t(8);return T0(t,r,a,l),LQ(n,o,l),l}function Fpe(t,r,n,a){var i=$t(14);return T0(t,r,a,i),E0(n,i),i}function Ipe(t,r,n){if(n.biff<8)return _pe(t,r,n);for(var a=[],i=t.l+r,o=t.read_shift(n.biff>8?4:2);o--!==0;)a.push(ppe(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return a}function _pe(t,r,n){t[t.l+1]==3&&t[t.l]++;var a=UQ(t,r,n);return a.charCodeAt(0)==3?a.slice(1):a}function kpe(t){var r=$t(2+t.length*8);r.write_shift(2,t.length);for(var n=0;n<t.length;++n)RQ(t[n],r);return r}function Ppe(t){var r=$t(24),n=Qi(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)r.write_shift(1,parseInt(a[i],16));return so([r,mpe(t[1])])}function Dpe(t){var r=t[1].Tooltip,n=$t(10+2*(r.length+1));n.write_shift(2,2048);var a=Qi(t[0]);n.write_shift(2,a.r),n.write_shift(2,a.r),n.write_shift(2,a.c),n.write_shift(2,a.c);for(var i=0;i<r.length;++i)n.write_shift(2,r.charCodeAt(i));return n.write_shift(2,0),n}function Ope(t){return t||(t=$t(4)),t.write_shift(2,1),t.write_shift(2,1),t}function Lpe(t,r,n){if(!n.cellStyles)return uA(t,r);var a=n&&n.biff>=12?4:2,i=t.read_shift(a),o=t.read_shift(a),l=t.read_shift(a),c=t.read_shift(a),u=t.read_shift(2);a==2&&(t.l+=2);var f={s:i,e:o,w:l,ixfe:c,flags:u};return(n.biff>=5||!n.biff)&&(f.level=u>>8&7),f}function Upe(t,r){var n=$t(12);n.write_shift(2,r),n.write_shift(2,r),n.write_shift(2,t.width*256),n.write_shift(2,0);var a=0;return t.hidden&&(a|=1),n.write_shift(1,a),a=t.level||0,n.write_shift(1,a),n.write_shift(2,0),n}function Mpe(t){for(var r=$t(2*t),n=0;n<t;++n)r.write_shift(2,n+1);return r}function Rpe(t,r,n){var a=$t(15);return Nv(a,t,r),a.write_shift(8,n,"f"),a}function Qpe(t,r,n){var a=$t(9);return Nv(a,t,r),a.write_shift(2,n),a}var Hpe=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},r=OB({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(c,u){var f=[],A=B0(1);switch(u.type){case"base64":A=ad(Cf(c));break;case"binary":A=ad(c);break;case"buffer":case"array":A=c;break}uc(A,0);var m=A.read_shift(1),p=!!(m&136),g=!1,b=!1;switch(m){case 2:break;case 3:break;case 48:g=!0,p=!0;break;case 49:g=!0,p=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var v=0,y=521;m==2&&(v=A.read_shift(2)),A.l+=3,m!=2&&(v=A.read_shift(4)),v>1048576&&(v=1e6),m!=2&&(y=A.read_shift(2));var j=A.read_shift(2),C=u.codepage||1252;m!=2&&(A.l+=16,A.read_shift(1),A[A.l]!==0&&(C=t[A[A.l]]),A.l+=1,A.l+=2),b&&(A.l+=36);for(var S=[],E={},D=Math.min(A.length,m==2?521:y-10-(g?264:0)),k=b?32:11;A.l<D&&A[A.l]!=13;)switch(E={},E.name=o2.utils.decode(C,A.slice(A.l,A.l+k)).replace(/[\u0000\r\n].*$/g,""),A.l+=k,E.type=String.fromCharCode(A.read_shift(1)),m!=2&&!b&&(E.offset=A.read_shift(4)),E.len=A.read_shift(1),m==2&&(E.offset=A.read_shift(2)),E.dec=A.read_shift(1),E.name.length&&S.push(E),m!=2&&(A.l+=b?13:14),E.type){case"B":(!g||E.len!=8)&&u.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+E.type)}if(A[A.l]!==13&&(A.l=y-1),A.read_shift(1)!==13)throw new Error("DBF Terminator not found "+A.l+" "+A[A.l]);A.l=y;var L=0,I=0;for(f[0]=[],I=0;I!=S.length;++I)f[0][I]=S[I].name;for(;v-- >0;){if(A[A.l]===42){A.l+=j;continue}for(++A.l,f[++L]=[],I=0,I=0;I!=S.length;++I){var Y=A.slice(A.l,A.l+S[I].len);A.l+=S[I].len,uc(Y,0);var Q=o2.utils.decode(C,Y);switch(S[I].type){case"C":Q.trim().length&&(f[L][I]=Q.replace(/\s+$/,""));break;case"D":Q.length===8?f[L][I]=new Date(+Q.slice(0,4),+Q.slice(4,6)-1,+Q.slice(6,8)):f[L][I]=Q;break;case"F":f[L][I]=parseFloat(Q.trim());break;case"+":case"I":f[L][I]=b?Y.read_shift(-4,"i")^2147483648:Y.read_shift(4,"i");break;case"L":switch(Q.trim().toUpperCase()){case"Y":case"T":f[L][I]=!0;break;case"N":case"F":f[L][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Q+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));f[L][I]="##MEMO##"+(b?parseInt(Q.trim(),10):Y.read_shift(4));break;case"N":Q=Q.replace(/\u0000/g,"").trim(),Q&&Q!="."&&(f[L][I]=+Q||0);break;case"@":f[L][I]=new Date(Y.read_shift(-8,"f")-621356832e5);break;case"T":f[L][I]=new Date((Y.read_shift(4)-2440588)*864e5+Y.read_shift(4));break;case"Y":f[L][I]=Y.read_shift(4,"i")/1e4+Y.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[L][I]=-Y.read_shift(-8,"f");break;case"B":if(g&&S[I].len==8){f[L][I]=Y.read_shift(8,"f");break}case"G":case"P":Y.l+=S[I].len;break;case"0":if(S[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+S[I].type)}}}if(m!=2&&A.l<A.length&&A[A.l++]!=26)throw new Error("DBF EOF Marker missing "+(A.l-1)+" of "+A.length+" "+A[A.l-1].toString(16));return u&&u.sheetRows&&(f=f.slice(0,u.sheetRows)),u.DBF=S,f}function a(c,u){var f=u||{};f.dateNF||(f.dateNF="yyyymmdd");var A=Cg(n(c,f),f);return A["!cols"]=f.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete f.DBF,A}function i(c,u){try{return L0(a(c,u),u)}catch(f){if(u&&u.WTF)throw f}return{SheetNames:[],Sheets:{}}}var o={B:8,C:250,L:1,D:8,"?":0,"":0};function l(c,u){var f=u||{};if(+f.codepage>=0&&Uy(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var A=kl(),m=v2(c,{header:1,raw:!0,cellDates:!0}),p=m[0],g=m.slice(1),b=c["!cols"]||[],v=0,y=0,j=0,C=1;for(v=0;v<p.length;++v){if(((b[v]||{}).DBF||{}).name){p[v]=b[v].DBF.name,++j;continue}if(p[v]!=null){if(++j,typeof p[v]=="number"&&(p[v]=p[v].toString(10)),typeof p[v]!="string")throw new Error("DBF Invalid column name "+p[v]+" |"+typeof p[v]+"|");if(p.indexOf(p[v])!==v){for(y=0;y<1024;++y)if(p.indexOf(p[v]+"_"+y)==-1){p[v]+="_"+y;break}}}}var S=ta(c["!ref"]),E=[],D=[],k=[];for(v=0;v<=S.e.c-S.s.c;++v){var L="",I="",Y=0,Q=[];for(y=0;y<g.length;++y)g[y][v]!=null&&Q.push(g[y][v]);if(Q.length==0||p[v]==null){E[v]="?";continue}for(y=0;y<Q.length;++y){switch(typeof Q[y]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=Q[y]instanceof Date?"D":"C";break;default:I="C"}Y=Math.max(Y,String(Q[y]).length),L=L&&L!=I?"C":I}Y>250&&(Y=250),I=((b[v]||{}).DBF||{}).type,I=="C"&&b[v].DBF.len>Y&&(Y=b[v].DBF.len),L=="B"&&I=="N"&&(L="N",k[v]=b[v].DBF.dec,Y=b[v].DBF.len),D[v]=L=="C"||I=="N"?Y:o[L]||0,C+=D[v],E[v]=L}var H=A.next(32);for(H.write_shift(4,318902576),H.write_shift(4,g.length),H.write_shift(2,296+32*j),H.write_shift(2,C),v=0;v<4;++v)H.write_shift(4,0);for(H.write_shift(4,0|(+r[HR]||3)<<8),v=0,y=0;v<p.length;++v)if(p[v]!=null){var U=A.next(32),K=(p[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);U.write_shift(1,K,"sbcs"),U.write_shift(1,E[v]=="?"?"C":E[v],"sbcs"),U.write_shift(4,y),U.write_shift(1,D[v]||o[E[v]]||0),U.write_shift(1,k[v]||0),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(1,0),U.write_shift(4,0),U.write_shift(4,0),y+=D[v]||o[E[v]]||0}var X=A.next(264);for(X.write_shift(4,13),v=0;v<65;++v)X.write_shift(4,0);for(v=0;v<g.length;++v){var Z=A.next(C);for(Z.write_shift(1,0),y=0;y<p.length;++y)if(p[y]!=null)switch(E[y]){case"L":Z.write_shift(1,g[v][y]==null?63:g[v][y]?84:70);break;case"B":Z.write_shift(8,g[v][y]||0,"f");break;case"N":var ee="0";for(typeof g[v][y]=="number"&&(ee=g[v][y].toFixed(k[y]||0)),j=0;j<D[y]-ee.length;++j)Z.write_shift(1,32);Z.write_shift(1,ee,"sbcs");break;case"D":g[v][y]?(Z.write_shift(4,("0000"+g[v][y].getFullYear()).slice(-4),"sbcs"),Z.write_shift(2,("00"+(g[v][y].getMonth()+1)).slice(-2),"sbcs"),Z.write_shift(2,("00"+g[v][y].getDate()).slice(-2),"sbcs")):Z.write_shift(8,"00000000","sbcs");break;case"C":var de=String(g[v][y]!=null?g[v][y]:"").slice(0,D[y]);for(Z.write_shift(1,de,"sbcs"),j=0;j<D[y]-de.length;++j)Z.write_shift(1,32);break}}return A.next(1).write_shift(1,26),A.end()}return{to_workbook:i,to_sheet:a,from_sheet:l}}(),$pe=function(){var t={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},r=new RegExp("\x1BN("+lo(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(p,g){var b=t[g];return typeof b=="number"?hP(b):b},a=function(p,g,b){var v=g.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return v==59?p:hP(v)};t["|"]=254;function i(p,g){switch(g.type){case"base64":return o(Cf(p),g);case"binary":return o(p,g);case"buffer":return o(es&&Buffer.isBuffer(p)?p.toString("binary"):yv(p),g);case"array":return o(Tw(p),g)}throw new Error("Unrecognized type "+g.type)}function o(p,g){var b=p.split(/[\n\r]+/),v=-1,y=-1,j=0,C=0,S=[],E=[],D=null,k={},L=[],I=[],Y=[],Q=0,H;for(+g.codepage>=0&&Uy(+g.codepage);j!==b.length;++j){Q=0;var U=b[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(r,n),K=U.replace(/;;/g,"\0").split(";").map(function(ae){return ae.replace(/\u0000/g,";")}),X=K[0],Z;if(U.length>0)switch(X){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":K[1].charAt(0)=="P"&&E.push(U.slice(3).replace(/;;/g,";"));break;case"C":var ee=!1,de=!1,Ne=!1,Se=!1,ue=-1,xe=-1;for(C=1;C<K.length;++C)switch(K[C].charAt(0)){case"A":break;case"X":y=parseInt(K[C].slice(1))-1,de=!0;break;case"Y":for(v=parseInt(K[C].slice(1))-1,de||(y=0),H=S.length;H<=v;++H)S[H]=[];break;case"K":Z=K[C].slice(1),Z.charAt(0)==='"'?Z=Z.slice(1,Z.length-1):Z==="TRUE"?Z=!0:Z==="FALSE"?Z=!1:isNaN(ff(Z))?isNaN(Ry(Z).getDate())||(Z=cl(Z)):(Z=ff(Z),D!==null&&eQ(D)&&(Z=sQ(Z))),ee=!0;break;case"E":Se=!0;var R=Qge(K[C].slice(1),{r:v,c:y});S[v][y]=[S[v][y],R];break;case"S":Ne=!0,S[v][y]=[S[v][y],"S5S"];break;case"G":break;case"R":ue=parseInt(K[C].slice(1))-1;break;case"C":xe=parseInt(K[C].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+U)}if(ee&&(S[v][y]&&S[v][y].length==2?S[v][y][0]=Z:S[v][y]=Z,D=null),Ne){if(Se)throw new Error("SYLK shared formula cannot have own formula");var G=ue>-1&&S[ue][xe];if(!G||!G[1])throw new Error("SYLK shared formula cannot find base");S[v][y][1]=Hge(G[1],{r:v-ue,c:y-xe})}break;case"F":var ne=0;for(C=1;C<K.length;++C)switch(K[C].charAt(0)){case"X":y=parseInt(K[C].slice(1))-1,++ne;break;case"Y":for(v=parseInt(K[C].slice(1))-1,H=S.length;H<=v;++H)S[H]=[];break;case"M":Q=parseInt(K[C].slice(1))/20;break;case"F":break;case"G":break;case"P":D=E[parseInt(K[C].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(Y=K[C].slice(1).split(" "),H=parseInt(Y[0],10);H<=parseInt(Y[1],10);++H)Q=parseInt(Y[2],10),I[H-1]=Q===0?{hidden:!0}:{wch:Q},WB(I[H-1]);break;case"C":y=parseInt(K[C].slice(1))-1,I[y]||(I[y]={});break;case"R":v=parseInt(K[C].slice(1))-1,L[v]||(L[v]={}),Q>0?(L[v].hpt=Q,L[v].hpx=VQ(Q)):Q===0&&(L[v].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+U)}ne<1&&(D=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+U)}}return L.length>0&&(k["!rows"]=L),I.length>0&&(k["!cols"]=I),g&&g.sheetRows&&(S=S.slice(0,g.sheetRows)),[S,k]}function l(p,g){var b=i(p,g),v=b[0],y=b[1],j=Cg(v,g);return lo(y).forEach(function(C){j[C]=y[C]}),j}function c(p,g){return L0(l(p,g),g)}function u(p,g,b,v){var y="C;Y"+(b+1)+";X"+(v+1)+";K";switch(p.t){case"n":y+=p.v||0,p.f&&!p.F&&(y+=";E"+YB(p.f,{r:b,c:v}));break;case"b":y+=p.v?"TRUE":"FALSE";break;case"e":y+=p.w||p.v;break;case"d":y+='"'+(p.w||p.v)+'"';break;case"s":y+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function f(p,g){g.forEach(function(b,v){var y="F;W"+(v+1)+" "+(v+1)+" ";b.hidden?y+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=p2(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=g2(b.wpx)),typeof b.wch=="number"&&(y+=Math.round(b.wch))),y.charAt(y.length-1)!=" "&&p.push(y)})}function A(p,g){g.forEach(function(b,v){var y="F;";b.hidden?y+="M0;":b.hpt?y+="M"+20*b.hpt+";":b.hpx&&(y+="M"+20*x2(b.hpx)+";"),y.length>2&&p.push(y+"R"+(v+1))})}function m(p,g){var b=["ID;PWXL;N;E"],v=[],y=ta(p["!ref"]),j,C=Array.isArray(p),S=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),p["!cols"]&&f(b,p["!cols"]),p["!rows"]&&A(b,p["!rows"]),b.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var E=y.s.r;E<=y.e.r;++E)for(var D=y.s.c;D<=y.e.c;++D){var k=fs({r:E,c:D});j=C?(p[E]||[])[D]:p[k],!(!j||j.v==null&&(!j.f||j.F))&&v.push(u(j,p,E,D))}return b.join(S)+S+v.join(S)+S+"E"+S}return{to_workbook:c,to_sheet:l,from_sheet:m}}(),Kpe=function(){function t(o,l){switch(l.type){case"base64":return r(Cf(o),l);case"binary":return r(o,l);case"buffer":return r(es&&Buffer.isBuffer(o)?o.toString("binary"):yv(o),l);case"array":return r(Tw(o),l)}throw new Error("Unrecognized type "+l.type)}function r(o,l){for(var c=o.split(`
`),u=-1,f=-1,A=0,m=[];A!==c.length;++A){if(c[A].trim()==="BOT"){m[++u]=[],f=0;continue}if(!(u<0)){var p=c[A].trim().split(","),g=p[0],b=p[1];++A;for(var v=c[A]||"";(v.match(/["]/g)||[]).length&1&&A<c.length-1;)v+=`
`+c[++A];switch(v=v.trim(),+g){case-1:if(v==="BOT"){m[++u]=[],f=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?m[u][f]=!0:v==="FALSE"?m[u][f]=!1:isNaN(ff(b))?isNaN(Ry(b).getDate())?m[u][f]=b:m[u][f]=cl(b):m[u][f]=ff(b),++f;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),m[u][f++]=v!==""?v:null;break}if(v==="EOD")break}}return l&&l.sheetRows&&(m=m.slice(0,l.sheetRows)),m}function n(o,l){return Cg(t(o,l),l)}function a(o,l){return L0(n(o,l),l)}var i=function(){var o=function(u,f,A,m,p){u.push(f),u.push(A+","+m),u.push('"'+p.replace(/"/g,'""')+'"')},l=function(u,f,A,m){u.push(f+","+A),u.push(f==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(u){var f=[],A=ta(u["!ref"]),m,p=Array.isArray(u);o(f,"TABLE",0,1,"sheetjs"),o(f,"VECTORS",0,A.e.r-A.s.r+1,""),o(f,"TUPLES",0,A.e.c-A.s.c+1,""),o(f,"DATA",0,0,"");for(var g=A.s.r;g<=A.e.r;++g){l(f,-1,0,"BOT");for(var b=A.s.c;b<=A.e.c;++b){var v=fs({r:g,c:b});if(m=p?(u[g]||[])[b]:u[v],!m){l(f,1,0,"");continue}switch(m.t){case"n":var y=m.w;!y&&m.v!=null&&(y=m.v),y==null?m.f&&!m.F?l(f,1,0,"="+m.f):l(f,1,0,""):l(f,0,y,"V");break;case"b":l(f,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":l(f,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=Yh(m.z||Fa[14],Dl(cl(m.v)))),l(f,0,m.w,"V");break;default:l(f,1,0,"")}}}l(f,-1,0,"EOD");var j=`\r
`,C=f.join(j);return C}}();return{to_workbook:a,to_sheet:n,from_sheet:i}}(),QQ=function(){function t(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function r(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(m,p){for(var g=m.split(`
`),b=-1,v=-1,y=0,j=[];y!==g.length;++y){var C=g[y].trim().split(":");if(C[0]==="cell"){var S=Qi(C[1]);if(j.length<=S.r)for(b=j.length;b<=S.r;++b)j[b]||(j[b]=[]);switch(b=S.r,v=S.c,C[2]){case"t":j[b][v]=t(C[3]);break;case"v":j[b][v]=+C[3];break;case"vtf":var E=C[C.length-1];case"vtc":switch(C[3]){case"nl":j[b][v]=!!+C[4];break;default:j[b][v]=+C[4];break}C[2]=="vtf"&&(j[b][v]=[j[b][v],E])}}}return p&&p.sheetRows&&(j=j.slice(0,p.sheetRows)),j}function a(m,p){return Cg(n(m,p),p)}function i(m,p){return L0(a(m,p),p)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function f(m){if(!m||!m["!ref"])return"";for(var p=[],g=[],b,v="",y=yc(m["!ref"]),j=Array.isArray(m),C=y.s.r;C<=y.e.r;++C)for(var S=y.s.c;S<=y.e.c;++S)if(v=fs({r:C,c:S}),b=j?(m[C]||[])[S]:m[v],!(!b||b.v==null||b.t==="z")){switch(g=["cell",v,"t"],b.t){case"s":case"str":g.push(r(b.v));break;case"n":b.f?(g[2]="vtf",g[3]="n",g[4]=b.v,g[5]=r(b.f)):(g[2]="v",g[3]=b.v);break;case"b":g[2]="vt"+(b.f?"f":"c"),g[3]="nl",g[4]=b.v?"1":"0",g[5]=r(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var E=Dl(cl(b.v));g[2]="vtc",g[3]="nd",g[4]=""+E,g[5]=b.w||Yh(b.z||Fa[14],E);break;case"e":continue}p.push(g.join(":"))}return p.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function A(m){return[o,l,c,l,f(m),u].join(`
`)}return{to_workbook:i,to_sheet:a,from_sheet:A}}(),Vpe=function(){function t(A,m,p,g,b){b.raw?m[p][g]=A:A===""||(A==="TRUE"?m[p][g]=!0:A==="FALSE"?m[p][g]=!1:isNaN(ff(A))?isNaN(Ry(A).getDate())?m[p][g]=A:m[p][g]=cl(A):m[p][g]=ff(A))}function r(A,m){var p=m||{},g=[];if(!A||A.length===0)return g;for(var b=A.split(/[\r\n]/),v=b.length-1;v>=0&&b[v].length===0;)--v;for(var y=10,j=0,C=0;C<=v;++C)j=b[C].indexOf(" "),j==-1?j=b[C].length:j++,y=Math.max(y,j);for(C=0;C<=v;++C){g[C]=[];var S=0;for(t(b[C].slice(0,y).trim(),g,C,S,p),S=1;S<=(b[C].length-y)/10+1;++S)t(b[C].slice(y+(S-1)*10,y+S*10).trim(),g,C,S,p)}return p.sheetRows&&(g=g.slice(0,p.sheetRows)),g}var n={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function i(A){for(var m={},p=!1,g=0,b=0;g<A.length;++g)(b=A.charCodeAt(g))==34?p=!p:!p&&b in n&&(m[b]=(m[b]||0)+1);b=[];for(g in m)Object.prototype.hasOwnProperty.call(m,g)&&b.push([m[g],g]);if(!b.length){m=a;for(g in m)Object.prototype.hasOwnProperty.call(m,g)&&b.push([m[g],g])}return b.sort(function(v,y){return v[0]-y[0]||a[v[1]]-a[y[1]]}),n[b.pop()[1]]||44}function o(A,m){var p=m||{},g="",b=p.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};A.slice(0,4)=="sep="?A.charCodeAt(5)==13&&A.charCodeAt(6)==10?(g=A.charAt(4),A=A.slice(7)):A.charCodeAt(5)==13||A.charCodeAt(5)==10?(g=A.charAt(4),A=A.slice(6)):g=i(A.slice(0,1024)):p&&p.FS?g=p.FS:g=i(A.slice(0,1024));var y=0,j=0,C=0,S=0,E=0,D=g.charCodeAt(0),k=!1,L=0,I=A.charCodeAt(0);A=A.replace(/\r\n/mg,`
`);var Y=p.dateNF!=null?o0e(p.dateNF):null;function Q(){var H=A.slice(S,E),U={};if(H.charAt(0)=='"'&&H.charAt(H.length-1)=='"'&&(H=H.slice(1,-1).replace(/""/g,'"')),H.length===0)U.t="z";else if(p.raw)U.t="s",U.v=H;else if(H.trim().length===0)U.t="s",U.v=H;else if(H.charCodeAt(0)==61)H.charCodeAt(1)==34&&H.charCodeAt(H.length-1)==34?(U.t="s",U.v=H.slice(2,-1).replace(/""/g,'"')):$ge(H)?(U.t="n",U.f=H.slice(1)):(U.t="s",U.v=H);else if(H=="TRUE")U.t="b",U.v=!0;else if(H=="FALSE")U.t="b",U.v=!1;else if(!isNaN(C=ff(H)))U.t="n",p.cellText!==!1&&(U.w=H),U.v=C;else if(!isNaN(Ry(H).getDate())||Y&&H.match(Y)){U.z=p.dateNF||Fa[14];var K=0;Y&&H.match(Y)&&(H=l0e(H,p.dateNF,H.match(Y)||[]),K=1),p.cellDates?(U.t="d",U.v=cl(H,K)):(U.t="n",U.v=Dl(cl(H,K))),p.cellText!==!1&&(U.w=Yh(U.z,U.v instanceof Date?Dl(U.v):U.v)),p.cellNF||delete U.z}else U.t="s",U.v=H;if(U.t=="z"||(p.dense?(b[y]||(b[y]=[]),b[y][j]=U):b[fs({c:j,r:y})]=U),S=E+1,I=A.charCodeAt(S),v.e.c<j&&(v.e.c=j),v.e.r<y&&(v.e.r=y),L==D)++j;else if(j=0,++y,p.sheetRows&&p.sheetRows<=y)return!0}e:for(;E<A.length;++E)switch(L=A.charCodeAt(E)){case 34:I===34&&(k=!k);break;case D:case 10:case 13:if(!k&&Q())break e;break}return E-S>0&&Q(),b["!ref"]=ti(v),b}function l(A,m){return!(m&&m.PRN)||m.FS||A.slice(0,4)=="sep="||A.indexOf("	")>=0||A.indexOf(",")>=0||A.indexOf(";")>=0?o(A,m):Cg(r(A,m),m)}function c(A,m){var p="",g=m.type=="string"?[0,0,0,0]:nbe(A,m);switch(m.type){case"base64":p=Cf(A);break;case"binary":p=A;break;case"buffer":m.codepage==65001?p=A.toString("utf8"):m.codepage&&typeof o2<"u"||(p=es&&Buffer.isBuffer(A)?A.toString("binary"):yv(A));break;case"array":p=Tw(A);break;case"string":p=A;break;default:throw new Error("Unrecognized type "+m.type)}return g[0]==239&&g[1]==187&&g[2]==191?p=ny(p.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?p=ny(p):m.type=="binary"&&typeof o2<"u",p.slice(0,19)=="socialcalc:version:"?QQ.to_sheet(m.type=="string"?p:ny(p),m):l(p,m)}function u(A,m){return L0(c(A,m),m)}function f(A){for(var m=[],p=ta(A["!ref"]),g,b=Array.isArray(A),v=p.s.r;v<=p.e.r;++v){for(var y=[],j=p.s.c;j<=p.e.c;++j){var C=fs({r:v,c:j});if(g=b?(A[v]||[])[j]:A[C],!g||g.v==null){y.push("          ");continue}for(var S=(g.w||(Sf(g),g.w)||"").slice(0,10);S.length<10;)S+=" ";y.push(S+(j===0?" ":""))}m.push(y.join(""))}return m.join(`
`)}return{to_workbook:u,to_sheet:c,from_sheet:f}}(),VP=function(){function t(R,G,ne){if(R){uc(R,R.l||0);for(var ae=ne.Enum||ue;R.l<R.length;){var oe=R.read_shift(2),he=ae[oe]||ae[65535],me=R.read_shift(2),te=R.l+me,Ae=he.f&&he.f(R,me,ne);if(R.l=te,G(Ae,he,oe))return}}}function r(R,G){switch(G.type){case"base64":return n(ad(Cf(R)),G);case"binary":return n(ad(R),G);case"buffer":case"array":return n(R,G)}throw"Unsupported type "+G.type}function n(R,G){if(!R)return R;var ne=G||{},ae=ne.dense?[]:{},oe="Sheet1",he="",me=0,te={},Ae=[],V=[],ie={s:{r:0,c:0},e:{r:0,c:0}},pe=ne.sheetRows||0;if(R[2]==0&&(R[3]==8||R[3]==9)&&R.length>=16&&R[14]==5&&R[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(R[2]==2)ne.Enum=ue,t(R,function(Qe,ce,se){switch(se){case 0:ne.vers=Qe,Qe>=4096&&(ne.qpro=!0);break;case 6:ie=Qe;break;case 204:Qe&&(he=Qe);break;case 222:he=Qe;break;case 15:case 51:ne.qpro||(Qe[1].v=Qe[1].v.slice(1));case 13:case 14:case 16:se==14&&(Qe[2]&112)==112&&(Qe[2]&15)>1&&(Qe[2]&15)<15&&(Qe[1].z=ne.dateNF||Fa[14],ne.cellDates&&(Qe[1].t="d",Qe[1].v=sQ(Qe[1].v))),ne.qpro&&Qe[3]>me&&(ae["!ref"]=ti(ie),te[oe]=ae,Ae.push(oe),ae=ne.dense?[]:{},ie={s:{r:0,c:0},e:{r:0,c:0}},me=Qe[3],oe=he||"Sheet"+(me+1),he="");var je=ne.dense?(ae[Qe[0].r]||[])[Qe[0].c]:ae[fs(Qe[0])];if(je){je.t=Qe[1].t,je.v=Qe[1].v,Qe[1].z!=null&&(je.z=Qe[1].z),Qe[1].f!=null&&(je.f=Qe[1].f);break}ne.dense?(ae[Qe[0].r]||(ae[Qe[0].r]=[]),ae[Qe[0].r][Qe[0].c]=Qe[1]):ae[fs(Qe[0])]=Qe[1];break}},ne);else if(R[2]==26||R[2]==14)ne.Enum=xe,R[2]==14&&(ne.qpro=!0,R.l=0),t(R,function(Qe,ce,se){switch(se){case 204:oe=Qe;break;case 22:Qe[1].v=Qe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Qe[3]>me&&(ae["!ref"]=ti(ie),te[oe]=ae,Ae.push(oe),ae=ne.dense?[]:{},ie={s:{r:0,c:0},e:{r:0,c:0}},me=Qe[3],oe="Sheet"+(me+1)),pe>0&&Qe[0].r>=pe)break;ne.dense?(ae[Qe[0].r]||(ae[Qe[0].r]=[]),ae[Qe[0].r][Qe[0].c]=Qe[1]):ae[fs(Qe[0])]=Qe[1],ie.e.c<Qe[0].c&&(ie.e.c=Qe[0].c),ie.e.r<Qe[0].r&&(ie.e.r=Qe[0].r);break;case 27:Qe[14e3]&&(V[Qe[14e3][0]]=Qe[14e3][1]);break;case 1537:V[Qe[0]]=Qe[1],Qe[0]==me&&(oe=Qe[1]);break}},ne);else throw new Error("Unrecognized LOTUS BOF "+R[2]);if(ae["!ref"]=ti(ie),te[he||oe]=ae,Ae.push(he||oe),!V.length)return{SheetNames:Ae,Sheets:te};for(var ye={},ge=[],le=0;le<V.length;++le)te[Ae[le]]?(ge.push(V[le]||Ae[le]),ye[V[le]]=te[V[le]]||te[Ae[le]]):(ge.push(V[le]),ye[V[le]]={"!ref":"A1"});return{SheetNames:ge,Sheets:ye}}function a(R,G){var ne=G||{};if(+ne.codepage>=0&&Uy(+ne.codepage),ne.type=="string")throw new Error("Cannot write WK1 to JS string");var ae=kl(),oe=ta(R["!ref"]),he=Array.isArray(R),me=[];hr(ae,0,o(1030)),hr(ae,6,u(oe));for(var te=Math.min(oe.e.r,8191),Ae=oe.s.r;Ae<=te;++Ae)for(var V=io(Ae),ie=oe.s.c;ie<=oe.e.c;++ie){Ae===oe.s.r&&(me[ie]=Do(ie));var pe=me[ie]+V,ye=he?(R[Ae]||[])[ie]:R[pe];if(!(!ye||ye.t=="z"))if(ye.t=="n")(ye.v|0)==ye.v&&ye.v>=-32768&&ye.v<=32767?hr(ae,13,g(Ae,ie,ye.v)):hr(ae,14,v(Ae,ie,ye.v));else{var ge=Sf(ye);hr(ae,15,m(Ae,ie,ge.slice(0,239)))}}return hr(ae,1),ae.end()}function i(R,G){var ne=G||{};if(+ne.codepage>=0&&Uy(+ne.codepage),ne.type=="string")throw new Error("Cannot write WK3 to JS string");var ae=kl();hr(ae,0,l(R));for(var oe=0,he=0;oe<R.SheetNames.length;++oe)(R.Sheets[R.SheetNames[oe]]||{})["!ref"]&&hr(ae,27,Se(R.SheetNames[oe],he++));var me=0;for(oe=0;oe<R.SheetNames.length;++oe){var te=R.Sheets[R.SheetNames[oe]];if(!(!te||!te["!ref"])){for(var Ae=ta(te["!ref"]),V=Array.isArray(te),ie=[],pe=Math.min(Ae.e.r,8191),ye=Ae.s.r;ye<=pe;++ye)for(var ge=io(ye),le=Ae.s.c;le<=Ae.e.c;++le){ye===Ae.s.r&&(ie[le]=Do(le));var Qe=ie[le]+ge,ce=V?(te[ye]||[])[le]:te[Qe];if(!(!ce||ce.t=="z"))if(ce.t=="n")hr(ae,23,Q(ye,le,me,ce.v));else{var se=Sf(ce);hr(ae,22,L(ye,le,me,se.slice(0,239)))}}++me}}return hr(ae,1),ae.end()}function o(R){var G=$t(2);return G.write_shift(2,R),G}function l(R){var G=$t(26);G.write_shift(2,4096),G.write_shift(2,4),G.write_shift(4,0);for(var ne=0,ae=0,oe=0,he=0;he<R.SheetNames.length;++he){var me=R.SheetNames[he],te=R.Sheets[me];if(!(!te||!te["!ref"])){++oe;var Ae=yc(te["!ref"]);ne<Ae.e.r&&(ne=Ae.e.r),ae<Ae.e.c&&(ae=Ae.e.c)}}return ne>8191&&(ne=8191),G.write_shift(2,ne),G.write_shift(1,oe),G.write_shift(1,ae),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(1,1),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(4,0),G}function c(R,G,ne){var ae={s:{c:0,r:0},e:{c:0,r:0}};return G==8&&ne.qpro?(ae.s.c=R.read_shift(1),R.l++,ae.s.r=R.read_shift(2),ae.e.c=R.read_shift(1),R.l++,ae.e.r=R.read_shift(2),ae):(ae.s.c=R.read_shift(2),ae.s.r=R.read_shift(2),G==12&&ne.qpro&&(R.l+=2),ae.e.c=R.read_shift(2),ae.e.r=R.read_shift(2),G==12&&ne.qpro&&(R.l+=2),ae.s.c==65535&&(ae.s.c=ae.e.c=ae.s.r=ae.e.r=0),ae)}function u(R){var G=$t(8);return G.write_shift(2,R.s.c),G.write_shift(2,R.s.r),G.write_shift(2,R.e.c),G.write_shift(2,R.e.r),G}function f(R,G,ne){var ae=[{c:0,r:0},{t:"n",v:0},0,0];return ne.qpro&&ne.vers!=20768?(ae[0].c=R.read_shift(1),ae[3]=R.read_shift(1),ae[0].r=R.read_shift(2),R.l+=2):(ae[2]=R.read_shift(1),ae[0].c=R.read_shift(2),ae[0].r=R.read_shift(2)),ae}function A(R,G,ne){var ae=R.l+G,oe=f(R,G,ne);if(oe[1].t="s",ne.vers==20768){R.l++;var he=R.read_shift(1);return oe[1].v=R.read_shift(he,"utf8"),oe}return ne.qpro&&R.l++,oe[1].v=R.read_shift(ae-R.l,"cstr"),oe}function m(R,G,ne){var ae=$t(7+ne.length);ae.write_shift(1,255),ae.write_shift(2,G),ae.write_shift(2,R),ae.write_shift(1,39);for(var oe=0;oe<ae.length;++oe){var he=ne.charCodeAt(oe);ae.write_shift(1,he>=128?95:he)}return ae.write_shift(1,0),ae}function p(R,G,ne){var ae=f(R,G,ne);return ae[1].v=R.read_shift(2,"i"),ae}function g(R,G,ne){var ae=$t(7);return ae.write_shift(1,255),ae.write_shift(2,G),ae.write_shift(2,R),ae.write_shift(2,ne,"i"),ae}function b(R,G,ne){var ae=f(R,G,ne);return ae[1].v=R.read_shift(8,"f"),ae}function v(R,G,ne){var ae=$t(13);return ae.write_shift(1,255),ae.write_shift(2,G),ae.write_shift(2,R),ae.write_shift(8,ne,"f"),ae}function y(R,G,ne){var ae=R.l+G,oe=f(R,G,ne);if(oe[1].v=R.read_shift(8,"f"),ne.qpro)R.l=ae;else{var he=R.read_shift(2);E(R.slice(R.l,R.l+he),oe),R.l+=he}return oe}function j(R,G,ne){var ae=G&32768;return G&=-32769,G=(ae?R:0)+(G>=8192?G-16384:G),(ae?"":"$")+(ne?Do(G):io(G))}var C={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},S=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function E(R,G){uc(R,0);for(var ne=[],ae=0,oe="",he="",me="",te="";R.l<R.length;){var Ae=R[R.l++];switch(Ae){case 0:ne.push(R.read_shift(8,"f"));break;case 1:he=j(G[0].c,R.read_shift(2),!0),oe=j(G[0].r,R.read_shift(2),!1),ne.push(he+oe);break;case 2:{var V=j(G[0].c,R.read_shift(2),!0),ie=j(G[0].r,R.read_shift(2),!1);he=j(G[0].c,R.read_shift(2),!0),oe=j(G[0].r,R.read_shift(2),!1),ne.push(V+ie+":"+he+oe)}break;case 3:if(R.l<R.length){console.error("WK1 premature formula end");return}break;case 4:ne.push("("+ne.pop()+")");break;case 5:ne.push(R.read_shift(2));break;case 6:{for(var pe="";Ae=R[R.l++];)pe+=String.fromCharCode(Ae);ne.push('"'+pe.replace(/"/g,'""')+'"')}break;case 8:ne.push("-"+ne.pop());break;case 23:ne.push("+"+ne.pop());break;case 22:ne.push("NOT("+ne.pop()+")");break;case 20:case 21:te=ne.pop(),me=ne.pop(),ne.push(["AND","OR"][Ae-20]+"("+me+","+te+")");break;default:if(Ae<32&&S[Ae])te=ne.pop(),me=ne.pop(),ne.push(me+S[Ae]+te);else if(C[Ae]){if(ae=C[Ae][1],ae==69&&(ae=R[R.l++]),ae>ne.length){console.error("WK1 bad formula parse 0x"+Ae.toString(16)+":|"+ne.join("|")+"|");return}var ye=ne.slice(-ae);ne.length-=ae,ne.push(C[Ae][0]+"("+ye.join(",")+")")}else return Ae<=7?console.error("WK1 invalid opcode "+Ae.toString(16)):Ae<=24?console.error("WK1 unsupported op "+Ae.toString(16)):Ae<=30?console.error("WK1 invalid opcode "+Ae.toString(16)):Ae<=115?console.error("WK1 unsupported function opcode "+Ae.toString(16)):console.error("WK1 unrecognized opcode "+Ae.toString(16))}}ne.length==1?G[1].f=""+ne[0]:console.error("WK1 bad formula parse |"+ne.join("|")+"|")}function D(R){var G=[{c:0,r:0},{t:"n",v:0},0];return G[0].r=R.read_shift(2),G[3]=R[R.l++],G[0].c=R[R.l++],G}function k(R,G){var ne=D(R);return ne[1].t="s",ne[1].v=R.read_shift(G-4,"cstr"),ne}function L(R,G,ne,ae){var oe=$t(6+ae.length);oe.write_shift(2,R),oe.write_shift(1,ne),oe.write_shift(1,G),oe.write_shift(1,39);for(var he=0;he<ae.length;++he){var me=ae.charCodeAt(he);oe.write_shift(1,me>=128?95:me)}return oe.write_shift(1,0),oe}function I(R,G){var ne=D(R);ne[1].v=R.read_shift(2);var ae=ne[1].v>>1;if(ne[1].v&1)switch(ae&7){case 0:ae=(ae>>3)*5e3;break;case 1:ae=(ae>>3)*500;break;case 2:ae=(ae>>3)/20;break;case 3:ae=(ae>>3)/200;break;case 4:ae=(ae>>3)/2e3;break;case 5:ae=(ae>>3)/2e4;break;case 6:ae=(ae>>3)/16;break;case 7:ae=(ae>>3)/64;break}return ne[1].v=ae,ne}function Y(R,G){var ne=D(R),ae=R.read_shift(4),oe=R.read_shift(4),he=R.read_shift(2);if(he==65535)return ae===0&&oe===3221225472?(ne[1].t="e",ne[1].v=15):ae===0&&oe===3489660928?(ne[1].t="e",ne[1].v=42):ne[1].v=0,ne;var me=he&32768;return he=(he&32767)-16446,ne[1].v=(1-me*2)*(oe*Math.pow(2,he+32)+ae*Math.pow(2,he)),ne}function Q(R,G,ne,ae){var oe=$t(14);if(oe.write_shift(2,R),oe.write_shift(1,ne),oe.write_shift(1,G),ae==0)return oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(2,65535),oe;var he=0,me=0,te=0,Ae=0;return ae<0&&(he=1,ae=-ae),me=Math.log2(ae)|0,ae/=Math.pow(2,me-31),Ae=ae>>>0,(Ae&2147483648)==0&&(ae/=2,++me,Ae=ae>>>0),ae-=Ae,Ae|=2147483648,Ae>>>=0,ae*=Math.pow(2,32),te=ae>>>0,oe.write_shift(4,te),oe.write_shift(4,Ae),me+=16383+(he?32768:0),oe.write_shift(2,me),oe}function H(R,G){var ne=Y(R);return R.l+=G-14,ne}function U(R,G){var ne=D(R),ae=R.read_shift(4);return ne[1].v=ae>>6,ne}function K(R,G){var ne=D(R),ae=R.read_shift(8,"f");return ne[1].v=ae,ne}function X(R,G){var ne=K(R);return R.l+=G-10,ne}function Z(R,G){return R[R.l+G-1]==0?R.read_shift(G,"cstr"):""}function ee(R,G){var ne=R[R.l++];ne>G-1&&(ne=G-1);for(var ae="";ae.length<ne;)ae+=String.fromCharCode(R[R.l++]);return ae}function de(R,G,ne){if(!(!ne.qpro||G<21)){var ae=R.read_shift(1);R.l+=17,R.l+=1,R.l+=2;var oe=R.read_shift(G-21,"cstr");return[ae,oe]}}function Ne(R,G){for(var ne={},ae=R.l+G;R.l<ae;){var oe=R.read_shift(2);if(oe==14e3){for(ne[oe]=[0,""],ne[oe][0]=R.read_shift(2);R[R.l];)ne[oe][1]+=String.fromCharCode(R[R.l]),R.l++;R.l++}}return ne}function Se(R,G){var ne=$t(5+R.length);ne.write_shift(2,14e3),ne.write_shift(2,G);for(var ae=0;ae<R.length;++ae){var oe=R.charCodeAt(ae);ne[ne.l++]=oe>127?95:oe}return ne[ne.l++]=0,ne}var ue={0:{n:"BOF",f:OQ},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:b},15:{n:"LABEL",f:A},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:A},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Z},222:{n:"SHEETNAMELP",f:ee},65535:{n:""}},xe={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:k},23:{n:"NUMBER17",f:Y},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:H},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Ne},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:U},38:{n:"??"},39:{n:"NUMBER27",f:K},40:{n:"FORMULA28",f:X},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Z},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:de},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:i,to_workbook:r}}(),zpe=/^\s|\s$|[\t\n\r]/;function HQ(t,r){if(!r.bookSST)return"";var n=[ri];n[n.length]=dr("sst",null,{xmlns:Ng[0],count:t.Count,uniqueCount:t.Unique});for(var a=0;a!=t.length;++a)if(t[a]!=null){var i=t[a],o="<si>";i.r?o+=i.r:(o+="<t",i.t||(i.t=""),i.t.match(zpe)&&(o+=' xml:space="preserve"'),o+=">"+As(i.t)+"</t>"),o+="</si>",n[n.length]=o}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function Gpe(t){return[t.read_shift(4),t.read_shift(4)]}function Wpe(t,r){return r||(r=$t(8)),r.write_shift(4,t.Count),r.write_shift(4,t.Unique),r}var qpe=M0e;function Ype(t){var r=kl();er(r,159,Wpe(t));for(var n=0;n<t.length;++n)er(r,19,qpe(t[n]));return er(r,160),r.end()}function Xpe(t){for(var r=[],n=t.split(""),a=0;a<n.length;++a)r[a]=n[a].charCodeAt(0);return r}function $Q(t){var r=0,n,a=Xpe(t),i=a.length+1,o,l,c,u,f;for(n=B0(i),n[0]=a.length,o=1;o!=i;++o)n[o]=a[o-1];for(o=i-1;o>=0;--o)l=n[o],c=(r&16384)===0?0:1,u=r<<1&32767,f=c|u,r=f^l;return r^52811}var Jpe=function(){function t(i,o){switch(o.type){case"base64":return r(Cf(i),o);case"binary":return r(i,o);case"buffer":return r(es&&Buffer.isBuffer(i)?i.toString("binary"):yv(i),o);case"array":return r(Tw(i),o)}throw new Error("Unrecognized type "+o.type)}function r(i,o){var l=o||{},c=l.dense?[]:{},u=i.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(A,m){Array.isArray(c)&&(c[m]=[]);for(var p=/\\\w+\b/g,g=0,b,v=-1;b=p.exec(A);){switch(b[0]){case"\\cell":var y=A.slice(g,p.lastIndex-b[0].length);if(y[0]==" "&&(y=y.slice(1)),++v,y.length){var j={v:y,t:"s"};Array.isArray(c)?c[m][v]=j:c[fs({r:m,c:v})]=j}break}g=p.lastIndex}v>f.e.c&&(f.e.c=v)}),c["!ref"]=ti(f),c}function n(i,o){return L0(t(i,o),o)}function a(i){for(var o=["{\\rtf1\\ansi"],l=ta(i["!ref"]),c,u=Array.isArray(i),f=l.s.r;f<=l.e.r;++f){o.push("\\trowd\\trautofit1");for(var A=l.s.c;A<=l.e.c;++A)o.push("\\cellx"+(A+1));for(o.push("\\pard\\intbl"),A=l.s.c;A<=l.e.c;++A){var m=fs({r:f,c:A});c=u?(i[f]||[])[A]:i[m],!(!c||c.v==null&&(!c.f||c.F))&&(o.push(" "+(c.w||(Sf(c),c.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:a}}();function zP(t){for(var r=0,n=1;r!=3;++r)n=n*256+(t[r]>255?255:t[r]<0?0:t[r]);return n.toString(16).toUpperCase().slice(1)}var Zpe=6,hf=Zpe;function p2(t){return Math.floor((t+Math.round(128/hf)/256)*hf)}function g2(t){return Math.floor((t-5)/hf*100+.5)/100}function HS(t){return Math.round((t*hf+5)/hf*256)/256}function WB(t){t.width?(t.wpx=p2(t.width),t.wch=g2(t.wpx),t.MDW=hf):t.wpx?(t.wch=g2(t.wpx),t.width=HS(t.wch),t.MDW=hf):typeof t.wch=="number"&&(t.width=HS(t.wch),t.wpx=p2(t.width),t.MDW=hf),t.customWidth&&delete t.customWidth}var ege=96,KQ=ege;function x2(t){return t*96/KQ}function VQ(t){return t*KQ/96}function tge(t){var r=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&(r[r.length]=dr("numFmt",null,{numFmtId:a,formatCode:As(t[a])}))}),r.length===1?"":(r[r.length]="</numFmts>",r[0]=dr("numFmts",null,{count:r.length-2}).replace("/>",">"),r.join(""))}function rge(t){var r=[];return r[r.length]=dr("cellXfs",null),t.forEach(function(n){r[r.length]=dr("xf",null,n)}),r[r.length]="</cellXfs>",r.length===2?"":(r[0]=dr("cellXfs",null,{count:r.length-2}).replace("/>",">"),r.join(""))}function zQ(t,r){var n=[ri,dr("styleSheet",null,{xmlns:Ng[0],"xmlns:vt":Mi.vt})],a;return t.SSF&&(a=tge(t.SSF))!=null&&(n[n.length]=a),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=rge(r.cellXfs))&&(n[n.length]=a),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function nge(t,r){var n=t.read_shift(2),a=Oo(t);return[n,a]}function sge(t,r,n){n||(n=$t(6+4*r.length)),n.write_shift(2,t),Hi(r,n);var a=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),a}function age(t,r,n){var a={};a.sz=t.read_shift(2)/20;var i=z0e(t);i.fItalic&&(a.italic=1),i.fCondense&&(a.condense=1),i.fExtend&&(a.extend=1),i.fShadow&&(a.shadow=1),i.fOutline&&(a.outline=1),i.fStrikeout&&(a.strike=1);var o=t.read_shift(2);switch(o===700&&(a.bold=1),t.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var l=t.read_shift(1);l!=0&&(a.underline=l);var c=t.read_shift(1);c>0&&(a.family=c);var u=t.read_shift(1);switch(u>0&&(a.charset=u),t.l++,a.color=V0e(t),t.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=Oo(t),a}function ige(t,r){r||(r=$t(153)),r.write_shift(2,t.sz*20),G0e(t,r),r.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),r.write_shift(2,n),r.write_shift(1,t.underline||0),r.write_shift(1,t.family||0),r.write_shift(1,t.charset||0),r.write_shift(1,0),h2(t.color,r);var a=0;return a=2,r.write_shift(1,a),Hi(t.name,r),r.length>r.l?r.slice(0,r.l):r}var oge=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],zN,lge=uA;function GP(t,r){r||(r=$t(84)),zN||(zN=OB(oge));var n=zN[t.patternType];n==null&&(n=40),r.write_shift(4,n);var a=0;if(n!=40)for(h2({auto:1},r),h2({auto:1},r);a<12;++a)r.write_shift(4,0);else{for(;a<4;++a)r.write_shift(4,0);for(;a<12;++a)r.write_shift(4,0)}return r.length>r.l?r.slice(0,r.l):r}function cge(t,r){var n=t.l+r,a=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:a,numFmtId:i}}function GQ(t,r,n){n||(n=$t(16)),n.write_shift(2,r||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var a=0;return n.write_shift(1,a),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function Dx(t,r){return r||(r=$t(10)),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(4,0),r}var uge=uA;function dge(t,r){return r||(r=$t(51)),r.write_shift(1,0),Dx(null,r),Dx(null,r),Dx(null,r),Dx(null,r),Dx(null,r),r.length>r.l?r.slice(0,r.l):r}function Age(t,r){return r||(r=$t(52)),r.write_shift(4,t.xfId),r.write_shift(2,1),r.write_shift(1,0),r.write_shift(1,0),f2(t.name||"",r),r.length>r.l?r.slice(0,r.l):r}function fge(t,r,n){var a=$t(2052);return a.write_shift(4,t),f2(r,a),f2(n,a),a.length>a.l?a.slice(0,a.l):a}function hge(t,r){if(r){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var i=a[0];i<=a[1];++i)r[i]!=null&&++n}),n!=0&&(er(t,615,ld(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var i=a[0];i<=a[1];++i)r[i]!=null&&er(t,44,sge(i,r[i]))}),er(t,616))}}function mge(t){var r=1;er(t,611,ld(r)),er(t,43,ige({sz:12,color:{theme:1},name:"Calibri",family:2})),er(t,612)}function pge(t){var r=2;er(t,603,ld(r)),er(t,45,GP({patternType:"none"})),er(t,45,GP({patternType:"gray125"})),er(t,604)}function gge(t){var r=1;er(t,613,ld(r)),er(t,46,dge()),er(t,614)}function xge(t){var r=1;er(t,626,ld(r)),er(t,47,GQ({numFmtId:0},65535)),er(t,627)}function yge(t,r){er(t,617,ld(r.length)),r.forEach(function(n){er(t,47,GQ(n,0))}),er(t,618)}function vge(t){var r=1;er(t,619,ld(r)),er(t,48,Age({xfId:0,name:"Normal"})),er(t,620)}function bge(t){var r=0;er(t,505,ld(r)),er(t,506)}function wge(t){var r=0;er(t,508,fge(r,"TableStyleMedium9","PivotStyleMedium4")),er(t,509)}function jge(t,r){var n=kl();return er(n,278),hge(n,t.SSF),mge(n),pge(n),gge(n),xge(n),yge(n,r.cellXfs),vge(n),bge(n),wge(n),er(n,279),n.end()}function WQ(t,r){if(r&&r.themeXLSX)return r.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[ri];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',n[n.length]='<a:font script="Hang" typeface="맑은 고딕"/>',n[n.length]='<a:font script="Hans" typeface="宋体"/>',n[n.length]='<a:font script="Hant" typeface="新細明體"/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',n[n.length]='<a:font script="Hang" typeface="맑은 고딕"/>',n[n.length]='<a:font script="Hans" typeface="宋体"/>',n[n.length]='<a:font script="Hant" typeface="新細明體"/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function Nge(t,r){return{flags:t.read_shift(4),version:t.read_shift(4),name:Oo(t)}}function Cge(t){var r=$t(12+2*t.name.length);return r.write_shift(4,t.flags),r.write_shift(4,t.version),Hi(t.name,r),r.slice(0,r.l)}function Sge(t){for(var r=[],n=t.read_shift(4);n-- >0;)r.push([t.read_shift(4),t.read_shift(4)]);return r}function Bge(t){var r=$t(4+8*t.length);r.write_shift(4,t.length);for(var n=0;n<t.length;++n)r.write_shift(4,t[n][0]),r.write_shift(4,t[n][1]);return r}function Ege(t,r){var n=$t(8+2*r.length);return n.write_shift(4,t),Hi(r,n),n.slice(0,n.l)}function Tge(t){return t.l+=4,t.read_shift(4)!=0}function Fge(t,r){var n=$t(8);return n.write_shift(4,t),n.write_shift(4,1),n}function Ige(){var t=kl();return er(t,332),er(t,334,ld(1)),er(t,335,Cge({name:"XLDAPR",version:12e4,flags:3496657072})),er(t,336),er(t,339,Ege(1,"XLDAPR")),er(t,52),er(t,35,ld(514)),er(t,4096,ld(0)),er(t,4097,tu(1)),er(t,36),er(t,53),er(t,340),er(t,337,Fge(1)),er(t,51,Bge([[1,0]])),er(t,338),er(t,333),t.end()}function qQ(){var t=[ri];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function _ge(t){var r={};r.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),r.r=fs(n);var a=t.read_shift(1);return a&2&&(r.l="1"),a&8&&(r.a="1"),r}var Dp=1024;function YQ(t,r){for(var n=[21600,21600],a=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[dr("xml",null,{"xmlns:v":Ac.v,"xmlns:o":Ac.o,"xmlns:x":Ac.x,"xmlns:mv":Ac.mv}).replace(/\/>/,">"),dr("o:shapelayout",dr("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),dr("v:shapetype",[dr("v:stroke",null,{joinstyle:"miter"}),dr("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:a})];Dp<t*1e3;)Dp+=1e3;return r.forEach(function(o){var l=Qi(o[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var u=c.type=="gradient"?dr("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=dr("v:fill",u,c),A={on:"t",obscured:"t"};++Dp,i=i.concat(["<v:shape"+Hy({id:"_x0000_s"+Dp,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(o[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,dr("v:shadow",null,A),dr("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ao("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),ao("x:AutoFill","False"),ao("x:Row",String(l.r)),ao("x:Column",String(l.c)),o[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function XQ(t){var r=[ri,dr("comments",null,{xmlns:Ng[0]})],n=[];return r.push("<authors>"),t.forEach(function(a){a[1].forEach(function(i){var o=As(i.a);n.indexOf(o)==-1&&(n.push(o),r.push("<author>"+o+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),r.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),r.push("<author>SheetJ5</author>")),r.push("</authors>"),r.push("<commentList>"),t.forEach(function(a){var i=0,o=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?i=n.indexOf("tc="+a[1][0].ID):a[1].forEach(function(u){u.a&&(i=n.indexOf(As(u.a))),o.push(u.t||"")}),r.push('<comment ref="'+a[0]+'" authorId="'+i+'"><text>'),o.length<=1)r.push(ao("t",As(o[0]||"")));else{for(var l=`Comment:
    `+o[0]+`
`,c=1;c<o.length;++c)l+=`Reply:
    `+o[c]+`
`;r.push(ao("t",As(l)))}r.push("</text></comment>")}),r.push("</commentList>"),r.length>2&&(r[r.length]="</comments>",r[1]=r[1].replace("/>",">")),r.join("")}function kge(t,r,n){var a=[ri,dr("ThreadedComments",null,{xmlns:Mi.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var o="";(i[1]||[]).forEach(function(l,c){if(!l.T){delete l.ID;return}l.a&&r.indexOf(l.a)==-1&&r.push(l.a);var u={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};c==0?o=u.id:u.parentId=o,l.ID=u.id,l.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+r.indexOf(l.a)).slice(-12)+"}"),a.push(dr("threadedComment",ao("text",l.t||""),u))})}),a.push("</ThreadedComments>"),a.join("")}function Pge(t){var r=[ri,dr("personList",null,{xmlns:Mi.TCMNT,"xmlns:x":Ng[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,a){r.push(dr("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:n,providerId:"None"}))}),r.push("</personList>"),r.join("")}function Dge(t){var r={};r.iauthor=t.read_shift(4);var n=Q0(t);return r.rfx=n.s,r.ref=fs(n.s),t.l+=16,r}function Oge(t,r){return r==null&&(r=$t(36)),r.write_shift(4,t[1].iauthor),Sg(t[0],r),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r}var Lge=Oo;function Uge(t){return Hi(t.slice(0,54))}function Mge(t){var r=kl(),n=[];return er(r,628),er(r,630),t.forEach(function(a){a[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),er(r,632,Uge(i.a)))})}),er(r,631),er(r,633),t.forEach(function(a){a[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var o={s:Qi(a[0]),e:Qi(a[0])};er(r,635,Oge([o,i])),i.t&&i.t.length>0&&er(r,637,Q0e(i)),er(r,636),delete i.iauthor})}),er(r,634),er(r,629),r.end()}function Rge(t,r){r.FullPaths.forEach(function(n,a){if(a!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&js.utils.cfb_add(t,i,r.FileIndex[a].content)}})}var JQ=["xlsb","xlsm","xlam","biff8","xla"],Qge=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,r={r:0,c:0};function n(a,i,o,l){var c=!1,u=!1;o.length==0?u=!0:o.charAt(0)=="["&&(u=!0,o=o.slice(1,-1)),l.length==0?c=!0:l.charAt(0)=="["&&(c=!0,l=l.slice(1,-1));var f=o.length>0?parseInt(o,10)|0:0,A=l.length>0?parseInt(l,10)|0:0;return c?A+=r.c:--A,u?f+=r.r:--f,i+(c?"":"$")+Do(A)+(u?"":"$")+io(f)}return function(i,o){return r=o,i.replace(t,n)}}(),qB=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,YB=function(){return function(r,n){return r.replace(qB,function(a,i,o,l,c,u){var f=$B(l)-(o?0:n.c),A=HB(u)-(c?0:n.r),m=A==0?"":c?A+1:"["+A+"]",p=f==0?"":o?f+1:"["+f+"]";return i+"R"+m+"C"+p})}}();function Hge(t,r){return t.replace(qB,function(n,a,i,o,l,c){return a+(i=="$"?i+o:Do($B(o)+r.c))+(l=="$"?l+c:io(HB(c)+r.r))})}function $ge(t){return t.length!=1}function Ya(t){t.l+=1}function Xh(t,r){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function ZQ(t,r,n){var a=2;if(n){if(n.biff>=2&&n.biff<=5)return e9(t);n.biff==12&&(a=4)}var i=t.read_shift(a),o=t.read_shift(a),l=Xh(t),c=Xh(t);return{s:{r:i,c:l[0],cRel:l[1],rRel:l[2]},e:{r:o,c:c[0],cRel:c[1],rRel:c[2]}}}function e9(t){var r=Xh(t),n=Xh(t),a=t.read_shift(1),i=t.read_shift(1);return{s:{r:r[0],c:a,cRel:r[1],rRel:r[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function Kge(t,r,n){if(n.biff<8)return e9(t);var a=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),o=Xh(t),l=Xh(t);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function t9(t,r,n){if(n&&n.biff>=2&&n.biff<=5)return Vge(t);var a=t.read_shift(n&&n.biff==12?4:2),i=Xh(t);return{r:a,c:i[0],cRel:i[1],rRel:i[2]}}function Vge(t){var r=Xh(t),n=t.read_shift(1);return{r:r[0],c:n,cRel:r[1],rRel:r[2]}}function zge(t){var r=t.read_shift(2),n=t.read_shift(2);return{r,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function Gge(t,r,n){var a=n&&n.biff?n.biff:8;if(a>=2&&a<=5)return Wge(t);var i=t.read_shift(a>=12?4:2),o=t.read_shift(2),l=(o&16384)>>14,c=(o&32768)>>15;if(o&=16383,c==1)for(;i>524287;)i-=1048576;if(l==1)for(;o>8191;)o=o-16384;return{r:i,c:o,cRel:l,rRel:c}}function Wge(t){var r=t.read_shift(2),n=t.read_shift(1),a=(r&32768)>>15,i=(r&16384)>>14;return r&=16383,a==1&&r>=8192&&(r=r-16384),i==1&&n>=128&&(n=n-256),{r,c:n,cRel:i,rRel:a}}function qge(t,r,n){var a=(t[t.l++]&96)>>5,i=ZQ(t,n.biff>=2&&n.biff<=5?6:8,n);return[a,i]}function Yge(t,r,n){var a=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),o=8;if(n)switch(n.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}var l=ZQ(t,o,n);return[a,i,l]}function Xge(t,r,n){var a=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[a]}function Jge(t,r,n){var a=(t[t.l++]&96)>>5,i=t.read_shift(2),o=8;if(n)switch(n.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}return t.l+=o,[a,i]}function Zge(t,r,n){var a=(t[t.l++]&96)>>5,i=Kge(t,r-1,n);return[a,i]}function exe(t,r,n){var a=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[a]}function WP(t){var r=t[t.l+1]&1,n=1;return t.l+=4,[r,n]}function txe(t,r,n){t.l+=2;for(var a=t.read_shift(n&&n.biff==2?1:2),i=[],o=0;o<=a;++o)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function rxe(t,r,n){var a=t[t.l+1]&255?1:0;return t.l+=2,[a,t.read_shift(n&&n.biff==2?1:2)]}function nxe(t,r,n){var a=t[t.l+1]&255?1:0;return t.l+=2,[a,t.read_shift(n&&n.biff==2?1:2)]}function sxe(t){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(2)]}function axe(t,r,n){var a=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[a]}function r9(t){var r=t.read_shift(1),n=t.read_shift(1);return[r,n]}function ixe(t){return t.read_shift(2),r9(t)}function oxe(t){return t.read_shift(2),r9(t)}function lxe(t,r,n){var a=(t[t.l]&96)>>5;t.l+=1;var i=t9(t,0,n);return[a,i]}function cxe(t,r,n){var a=(t[t.l]&96)>>5;t.l+=1;var i=Gge(t,0,n);return[a,i]}function uxe(t,r,n){var a=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var o=t9(t,0,n);return[a,i,o]}function dxe(t,r,n){var a=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[dye[i],a9[i],a]}function Axe(t,r,n){var a=t[t.l++],i=t.read_shift(1),o=n&&n.biff<=3?[a==88?-1:0,t.read_shift(1)]:fxe(t);return[i,(o[0]===0?a9:uye)[o[1]]]}function fxe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function hxe(t,r,n){t.l+=n&&n.biff==2?3:4}function mxe(t,r,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var a=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[a,i]}function pxe(t){return t.l++,wv[t.read_shift(1)]}function gxe(t){return t.l++,t.read_shift(2)}function xxe(t){return t.l++,t.read_shift(1)!==0}function yxe(t){return t.l++,Bg(t)}function vxe(t,r,n){return t.l++,UQ(t,r-1,n)}function bxe(t,r){var n=[t.read_shift(1)];if(r==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=upe(t,1)?"TRUE":"FALSE",r!=12&&(t.l+=7);break;case 37:case 16:n[1]=wv[t[t.l]],t.l+=r==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Bg(t);break;case 2:n[1]=hpe(t,0,{biff:r>0&&r<8?2:r});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function wxe(t,r,n){for(var a=t.read_shift(n.biff==12?4:2),i=[],o=0;o!=a;++o)i.push((n.biff==12?Q0:gpe)(t));return i}function jxe(t,r,n){var a=0,i=0;n.biff==12?(a=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),a=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--a,--i==0&&(i=256));for(var o=0,l=[];o!=a&&(l[o]=[]);++o)for(var c=0;c!=i;++c)l[o][c]=bxe(t,n.biff);return l}function Nxe(t,r,n){var a=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,o=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[a,0,o]}function Cxe(t,r,n){if(n.biff==5)return Sxe(t);var a=t.read_shift(1)>>>5&3,i=t.read_shift(2),o=t.read_shift(4);return[a,i,o]}function Sxe(t){var r=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var a=t.read_shift(2);return t.l+=12,[r,n,a]}function Bxe(t,r,n){var a=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[a,i]}function Exe(t,r,n){var a=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[a,i]}function Txe(t,r,n){var a=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[a]}function Fxe(t,r,n){var a=(t[t.l++]&96)>>5,i=t.read_shift(2),o=4;if(n)switch(n.biff){case 5:o=15;break;case 12:o=6;break}return t.l+=o,[a,i]}var Ixe=uA,_xe=uA,kxe=uA;function jv(t,r,n){return t.l+=2,[zge(t)]}function XB(t){return t.l+=6,[]}var Pxe=jv,Dxe=XB,Oxe=XB,Lxe=jv;function n9(t){return t.l+=2,[OQ(t),t.read_shift(2)&1]}var Uxe=jv,Mxe=n9,Rxe=XB,Qxe=jv,Hxe=jv,$xe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Kxe(t){t.l+=2;var r=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(4),i=t.read_shift(2),o=t.read_shift(2),l=$xe[n>>2&31];return{ixti:r,coltype:n&3,rt:l,idx:a,c:i,C:o}}function Vxe(t){return t.l+=2,[t.read_shift(4)]}function zxe(t,r,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function Gxe(t,r,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function Wxe(t){var r=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[r,n]}function qxe(t){var r=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[r,n]}function Yxe(t){return t.l+=4,[0,0]}var qP={1:{n:"PtgExp",f:mxe},2:{n:"PtgTbl",f:kxe},3:{n:"PtgAdd",f:Ya},4:{n:"PtgSub",f:Ya},5:{n:"PtgMul",f:Ya},6:{n:"PtgDiv",f:Ya},7:{n:"PtgPower",f:Ya},8:{n:"PtgConcat",f:Ya},9:{n:"PtgLt",f:Ya},10:{n:"PtgLe",f:Ya},11:{n:"PtgEq",f:Ya},12:{n:"PtgGe",f:Ya},13:{n:"PtgGt",f:Ya},14:{n:"PtgNe",f:Ya},15:{n:"PtgIsect",f:Ya},16:{n:"PtgUnion",f:Ya},17:{n:"PtgRange",f:Ya},18:{n:"PtgUplus",f:Ya},19:{n:"PtgUminus",f:Ya},20:{n:"PtgPercent",f:Ya},21:{n:"PtgParen",f:Ya},22:{n:"PtgMissArg",f:Ya},23:{n:"PtgStr",f:vxe},26:{n:"PtgSheet",f:zxe},27:{n:"PtgEndSheet",f:Gxe},28:{n:"PtgErr",f:pxe},29:{n:"PtgBool",f:xxe},30:{n:"PtgInt",f:gxe},31:{n:"PtgNum",f:yxe},32:{n:"PtgArray",f:exe},33:{n:"PtgFunc",f:dxe},34:{n:"PtgFuncVar",f:Axe},35:{n:"PtgName",f:Nxe},36:{n:"PtgRef",f:lxe},37:{n:"PtgArea",f:qge},38:{n:"PtgMemArea",f:Bxe},39:{n:"PtgMemErr",f:Ixe},40:{n:"PtgMemNoMem",f:_xe},41:{n:"PtgMemFunc",f:Exe},42:{n:"PtgRefErr",f:Txe},43:{n:"PtgAreaErr",f:Xge},44:{n:"PtgRefN",f:cxe},45:{n:"PtgAreaN",f:Zge},46:{n:"PtgMemAreaN",f:Wxe},47:{n:"PtgMemNoMemN",f:qxe},57:{n:"PtgNameX",f:Cxe},58:{n:"PtgRef3d",f:uxe},59:{n:"PtgArea3d",f:Yge},60:{n:"PtgRefErr3d",f:Fxe},61:{n:"PtgAreaErr3d",f:Jge},255:{}},Xxe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Jxe={1:{n:"PtgElfLel",f:n9},2:{n:"PtgElfRw",f:Qxe},3:{n:"PtgElfCol",f:Pxe},6:{n:"PtgElfRwV",f:Hxe},7:{n:"PtgElfColV",f:Lxe},10:{n:"PtgElfRadical",f:Uxe},11:{n:"PtgElfRadicalS",f:Rxe},13:{n:"PtgElfColS",f:Dxe},15:{n:"PtgElfColSV",f:Oxe},16:{n:"PtgElfRadicalLel",f:Mxe},25:{n:"PtgList",f:Kxe},29:{n:"PtgSxName",f:Vxe},255:{}},Zxe={0:{n:"PtgAttrNoop",f:Yxe},1:{n:"PtgAttrSemi",f:axe},2:{n:"PtgAttrIf",f:nxe},4:{n:"PtgAttrChoose",f:txe},8:{n:"PtgAttrGoto",f:rxe},16:{n:"PtgAttrSum",f:hxe},32:{n:"PtgAttrBaxcel",f:WP},33:{n:"PtgAttrBaxcel",f:WP},64:{n:"PtgAttrSpace",f:ixe},65:{n:"PtgAttrSpaceSemi",f:oxe},128:{n:"PtgAttrIfError",f:sxe},255:{}};function eye(t,r,n,a){if(a.biff<8)return uA(t,r);for(var i=t.l+r,o=[],l=0;l!==n.length;++l)switch(n[l][0]){case"PtgArray":n[l][1]=jxe(t,0,a),o.push(n[l][1]);break;case"PtgMemArea":n[l][2]=wxe(t,n[l][1],a),o.push(n[l][2]);break;case"PtgExp":a&&a.biff==12&&(n[l][1][1]=t.read_shift(4),o.push(n[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[l][0]}return r=i-t.l,r!==0&&o.push(uA(t,r)),o}function tye(t,r,n){for(var a=t.l+r,i,o,l=[];a!=t.l;)r=a-t.l,o=t[t.l],i=qP[o]||qP[Xxe[o]],(o===24||o===25)&&(i=(o===24?Jxe:Zxe)[t[t.l+1]]),!i||!i.f?uA(t,r):l.push([i.n,i.f(t,r,n)]);return l}function rye(t){for(var r=[],n=0;n<t.length;++n){for(var a=t[n],i=[],o=0;o<a.length;++o){var l=a[o];if(l)switch(l[0]){case 2:i.push('"'+l[1].replace(/"/g,'""')+'"');break;default:i.push(l[1])}else i.push("")}r.push(i.join(","))}return r.join(";")}var nye={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function sye(t,r){if(!t&&!(r&&r.biff<=5&&r.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function s9(t,r,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[r]))return t.SheetNames[r];if(!t.XTI)return"SH33TJSERR6";var a=t.XTI[r];if(n.biff<8)return r>1e4&&(r-=65536),r<0&&(r=-r),r==0?"":t.XTI[r-1];if(!a)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[a[0]][0]){case 357:return i=a[1]==-1?"#REF":t.SheetNames[a[1]],a[1]==a[2]?i:i+":"+t.SheetNames[a[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[a[0]][0];case 355:default:return"SH33TJSSRC"+t[a[0]][0]}switch(t[a[0]][0][0]){case 1025:return i=a[1]==-1?"#REF":t.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?i:i+":"+t.SheetNames[a[2]];case 14849:return t[a[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return t[a[0]][0][3]?(i=a[1]==-1?"#REF":t[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?i:i+":"+t[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function YP(t,r,n){var a=s9(t,r,n);return a=="#REF"?a:sye(a,n)}function ag(t,r,n,a,i){var o=i&&i.biff||8,l={s:{c:0,r:0}},c=[],u,f,A,m=0,p=0,g,b="";if(!t[0]||!t[0][0])return"";for(var v=-1,y="",j=0,C=t[0].length;j<C;++j){var S=t[0][j];switch(S[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=c.pop(),f=c.pop(),v>=0){switch(t[0][v][1][0]){case 0:y=Ta(" ",t[0][v][1][1]);break;case 1:y=Ta("\r",t[0][v][1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}f=f+y,v=-1}c.push(f+nye[S[0]]+u);break;case"PtgIsect":u=c.pop(),f=c.pop(),c.push(f+" "+u);break;case"PtgUnion":u=c.pop(),f=c.pop(),c.push(f+","+u);break;case"PtgRange":u=c.pop(),f=c.pop(),c.push(f+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":A=ay(S[1][1],l,i),c.push(iy(A,o));break;case"PtgRefN":A=n?ay(S[1][1],n,i):S[1][1],c.push(iy(A,o));break;case"PtgRef3d":m=S[1][1],A=ay(S[1][2],l,i),b=YP(a,m,i),c.push(b+"!"+iy(A,o));break;case"PtgFunc":case"PtgFuncVar":var E=S[1][0],D=S[1][1];E||(E=0),E&=127;var k=E==0?[]:c.slice(-E);c.length-=E,D==="User"&&(D=k.shift()),c.push(D+"("+k.join(",")+")");break;case"PtgBool":c.push(S[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(S[1]);break;case"PtgNum":c.push(String(S[1]));break;case"PtgStr":c.push('"'+S[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(S[1]);break;case"PtgAreaN":g=PP(S[1][1],n?{s:n}:l,i),c.push(KN(g,i));break;case"PtgArea":g=PP(S[1][1],l,i),c.push(KN(g,i));break;case"PtgArea3d":m=S[1][1],g=S[1][2],b=YP(a,m,i),c.push(b+"!"+KN(g,i));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=S[1][2];var L=(a.names||[])[p-1]||(a[0]||[])[p],I=L?L.Name:"SH33TJSNAME"+String(p);I&&I.slice(0,6)=="_xlfn."&&!i.xlfn&&(I=I.slice(6)),c.push(I);break;case"PtgNameX":var Y=S[1][1];p=S[1][2];var Q;if(i.biff<=5)Y<0&&(Y=-Y),a[Y]&&(Q=a[Y][p]);else{var H="";if(((a[Y]||[])[0]||[])[0]==14849||(((a[Y]||[])[0]||[])[0]==1025?a[Y][p]&&a[Y][p].itab>0&&(H=a.SheetNames[a[Y][p].itab-1]+"!"):H=a.SheetNames[p-1]+"!"),a[Y]&&a[Y][p])H+=a[Y][p].Name;else if(a[0]&&a[0][p])H+=a[0][p].Name;else{var U=(s9(a,Y,i)||"").split(";;");U[p-1]?H=U[p-1]:H+="SH33TJSERRX"}c.push(H);break}Q||(Q={Name:"SH33TJSERRY"}),c.push(Q.Name);break;case"PtgParen":var K="(",X=")";if(v>=0){switch(y="",t[0][v][1][0]){case 2:K=Ta(" ",t[0][v][1][1])+K;break;case 3:K=Ta("\r",t[0][v][1][1])+K;break;case 4:X=Ta(" ",t[0][v][1][1])+X;break;case 5:X=Ta("\r",t[0][v][1][1])+X;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}v=-1}c.push(K+c.pop()+X);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":A={c:S[1][1],r:S[1][0]};var Z={c:n.c,r:n.r};if(a.sharedf[fs(A)]){var ee=a.sharedf[fs(A)];c.push(ag(ee,l,Z,a,i))}else{var de=!1;for(u=0;u!=a.arrayf.length;++u)if(f=a.arrayf[u],!(A.c<f[0].s.c||A.c>f[0].e.c)&&!(A.r<f[0].s.r||A.r>f[0].e.r)){c.push(ag(f[1],l,Z,a,i)),de=!0;break}de||c.push(S[1])}break;case"PtgArray":c.push("{"+rye(S[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+S[1].idx+"[#"+S[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(S));default:throw new Error("Unrecognized Formula Token: "+String(S))}var Ne=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&v>=0&&Ne.indexOf(t[0][j][0])==-1){S=t[0][v];var Se=!0;switch(S[1][0]){case 4:Se=!1;case 0:y=Ta(" ",S[1][1]);break;case 5:Se=!1;case 1:y=Ta("\r",S[1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+S[1][0])}c.push((Se?y:"")+c.pop()+(Se?"":y)),v=-1}}if(c.length>1&&i.WTF)throw new Error("bad formula stack");return c[0]}function aye(t){if(t==null){var r=$t(8);return r.write_shift(1,3),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,65535),r}else if(typeof t=="number")return E0(t);return E0(0)}function iye(t,r,n,a,i){var o=T0(r,n,i),l=aye(t.v),c=$t(6),u=33;c.write_shift(2,u),c.write_shift(4,0);for(var f=$t(t.bf.length),A=0;A<t.bf.length;++A)f[A]=t.bf[A];var m=so([o,l,c,f]);return m}function Fw(t,r,n){var a=t.read_shift(4),i=tye(t,a,n),o=t.read_shift(4),l=o>0?eye(t,o,i,n):null;return[i,l]}var oye=Fw,Iw=Fw,lye=Fw,cye=Fw,uye={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},a9={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},dye={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Aye(t){var r="of:="+t.replace(qB,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return r.replace(/;/g,"|").replace(/,/g,";")}function fye(t){return t.replace(/\./,"!")}var oy=typeof Map<"u";function JB(t,r,n){var a=0,i=t.length;if(n){if(oy?n.has(r):Object.prototype.hasOwnProperty.call(n,r)){for(var o=oy?n.get(r):n[r];a<o.length;++a)if(t[o[a]].t===r)return t.Count++,o[a]}}else for(;a<i;++a)if(t[a].t===r)return t.Count++,a;return t[i]={t:r},t.Count++,t.Unique++,n&&(oy?(n.has(r)||n.set(r,[]),n.get(r).push(i)):(Object.prototype.hasOwnProperty.call(n,r)||(n[r]=[]),n[r].push(i))),i}function _w(t,r){var n={min:t+1,max:t+1},a=-1;return r.MDW&&(hf=r.MDW),r.width!=null?n.customWidth=1:r.wpx!=null?a=g2(r.wpx):r.wch!=null&&(a=r.wch),a>-1?(n.width=HS(a),n.customWidth=1):r.width!=null&&(n.width=r.width),r.hidden&&(n.hidden=!0),r.level!=null&&(n.outlineLevel=n.level=r.level),n}function i9(t,r){if(t){var n=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function am(t,r,n){var a=n.revssf[r.z!=null?r.z:"General"],i=60,o=t.length;if(a==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){tQ(r.z,i),n.ssf[i]=r.z,n.revssf[r.z]=a=i;break}}for(i=0;i!=o;++i)if(t[i].numFmtId===a)return i;return t[o]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function hye(t,r,n){if(t&&t["!ref"]){var a=ta(t["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function mye(t){if(t.length===0)return"";for(var r='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)r+='<mergeCell ref="'+ti(t[n])+'"/>';return r+"</mergeCells>"}function pye(t,r,n,a,i){var o=!1,l={},c=null;if(a.bookType!=="xlsx"&&r.vbaraw){var u=r.SheetNames[n];try{r.Workbook&&(u=r.Workbook.Sheets[n].CodeName||u)}catch{}o=!0,l.codeName=Qy(As(u))}if(t&&t["!outline"]){var f={summaryBelow:1,summaryRight:1};t["!outline"].above&&(f.summaryBelow=0),t["!outline"].left&&(f.summaryRight=0),c=(c||"")+dr("outlinePr",null,f)}!o&&!c||(i[i.length]=dr("sheetPr",c,l))}var gye=["objects","scenarios","selectLockedCells","selectUnlockedCells"],xye=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function yye(t){var r={sheet:1};return gye.forEach(function(n){t[n]!=null&&t[n]&&(r[n]="1")}),xye.forEach(function(n){t[n]!=null&&!t[n]&&(r[n]="0")}),t.password&&(r.password=$Q(t.password).toString(16).toUpperCase()),dr("sheetProtection",null,r)}function vye(t){return i9(t),dr("pageMargins",null,t)}function bye(t,r){for(var n=["<cols>"],a,i=0;i!=r.length;++i)(a=r[i])&&(n[n.length]=dr("col",null,_w(i,a)));return n[n.length]="</cols>",n.join("")}function wye(t,r,n,a){var i=typeof t.ref=="string"?t.ref:ti(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,l=yc(i);l.s.r==l.e.r&&(l.e.r=yc(r["!ref"]).e.r,i=ti(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==a){u.Ref="'"+n.SheetNames[a]+"'!"+i;break}}return c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+n.SheetNames[a]+"'!"+i}),dr("autoFilter",null,{ref:i})}function jye(t,r,n,a){var i={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),dr("sheetViews",dr("sheetView",null,i),{})}function Nye(t,r,n,a){if(t.c&&n["!comments"].push([r,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",o=t.t,l=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=wv[t.v];break;case"d":a&&a.cellDates?i=cl(t.v,-1).toISOString():(t=Ol(t),t.t="n",i=""+(t.v=Dl(cl(t.v)))),typeof t.z>"u"&&(t.z=Fa[14]);break;default:i=t.v;break}var c=ao("v",As(i)),u={r},f=am(a.cellXfs,t,a);switch(f!==0&&(u.s=f),t.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){c=ao("v",""+JB(a.Strings,t.v,a.revStrings)),u.t="s";break}u.t="str";break}if(t.t!=o&&(t.t=o,t.v=l),typeof t.f=="string"&&t.f){var A=t.F&&t.F.slice(0,r.length)==r?{t:"array",ref:t.F}:null;c=dr("f",As(t.f),A)+(t.v!=null?c:"")}return t.l&&n["!links"].push([r,t.l]),t.D&&(u.cm=1),dr("c",c,u)}function Cye(t,r,n,a){var i=[],o=[],l=ta(t["!ref"]),c="",u,f="",A=[],m=0,p=0,g=t["!rows"],b=Array.isArray(t),v={r:f},y,j=-1;for(p=l.s.c;p<=l.e.c;++p)A[p]=Do(p);for(m=l.s.r;m<=l.e.r;++m){for(o=[],f=io(m),p=l.s.c;p<=l.e.c;++p){u=A[p]+f;var C=b?(t[m]||[])[p]:t[u];C!==void 0&&(c=Nye(C,u,t,r))!=null&&o.push(c)}(o.length>0||g&&g[m])&&(v={r:f},g&&g[m]&&(y=g[m],y.hidden&&(v.hidden=1),j=-1,y.hpx?j=x2(y.hpx):y.hpt&&(j=y.hpt),j>-1&&(v.ht=j,v.customHeight=1),y.level&&(v.outlineLevel=y.level)),i[i.length]=dr("row",o.join(""),v))}if(g)for(;m<g.length;++m)g&&g[m]&&(v={r:m+1},y=g[m],y.hidden&&(v.hidden=1),j=-1,y.hpx?j=x2(y.hpx):y.hpt&&(j=y.hpt),j>-1&&(v.ht=j,v.customHeight=1),y.level&&(v.outlineLevel=y.level),i[i.length]=dr("row","",v));return i.join("")}function o9(t,r,n,a){var i=[ri,dr("worksheet",null,{xmlns:Ng[0],"xmlns:r":Mi.r})],o=n.SheetNames[t],l=0,c="",u=n.Sheets[o];u==null&&(u={});var f=u["!ref"]||"A1",A=ta(f);if(A.e.c>16383||A.e.r>1048575){if(r.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");A.e.c=Math.min(A.e.c,16383),A.e.r=Math.min(A.e.c,1048575),f=ti(A)}a||(a={}),u["!comments"]=[];var m=[];pye(u,n,t,r,i),i[i.length]=dr("dimension",null,{ref:f}),i[i.length]=jye(u,r,t,n),r.sheetFormat&&(i[i.length]=dr("sheetFormatPr",null,{defaultRowHeight:r.sheetFormat.defaultRowHeight||"16",baseColWidth:r.sheetFormat.baseColWidth||"10",outlineLevelRow:r.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(i[i.length]=bye(u,u["!cols"])),i[l=i.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(c=Cye(u,r),c.length>0&&(i[i.length]=c)),i.length>l+1&&(i[i.length]="</sheetData>",i[l]=i[l].replace("/>",">")),u["!protect"]&&(i[i.length]=yye(u["!protect"])),u["!autofilter"]!=null&&(i[i.length]=wye(u["!autofilter"],u,n,t)),u["!merges"]!=null&&u["!merges"].length>0&&(i[i.length]=mye(u["!merges"]));var p=-1,g,b=-1;return u["!links"].length>0&&(i[i.length]="<hyperlinks>",u["!links"].forEach(function(v){v[1].Target&&(g={ref:v[0]},v[1].Target.charAt(0)!="#"&&(b=cs(a,-1,As(v[1].Target).replace(/#.*$/,""),Wn.HLINK),g["r:id"]="rId"+b),(p=v[1].Target.indexOf("#"))>-1&&(g.location=As(v[1].Target.slice(p+1))),v[1].Tooltip&&(g.tooltip=As(v[1].Tooltip)),i[i.length]=dr("hyperlink",null,g))}),i[i.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(i[i.length]=vye(u["!margins"])),(!r||r.ignoreEC||r.ignoreEC==null)&&(i[i.length]=ao("ignoredErrors",dr("ignoredError",null,{numberStoredAsText:1,sqref:f}))),m.length>0&&(b=cs(a,-1,"../drawings/drawing"+(t+1)+".xml",Wn.DRAW),i[i.length]=dr("drawing",null,{"r:id":"rId"+b}),u["!drawing"]=m),u["!comments"].length>0&&(b=cs(a,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Wn.VML),i[i.length]=dr("legacyDrawing",null,{"r:id":"rId"+b}),u["!legacy"]=b),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function Sye(t,r){var n={},a=t.l+r;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var o=t.read_shift(1);return t.l=a,o&7&&(n.level=o&7),o&16&&(n.hidden=!0),o&32&&(n.hpt=i/20),n}function Bye(t,r,n){var a=$t(145),i=(n["!rows"]||[])[t]||{};a.write_shift(4,t),a.write_shift(4,0);var o=320;i.hpx?o=x2(i.hpx)*20:i.hpt&&(o=i.hpt*20),a.write_shift(2,o),a.write_shift(1,0);var l=0;i.level&&(l|=i.level),i.hidden&&(l|=16),(i.hpx||i.hpt)&&(l|=32),a.write_shift(1,l),a.write_shift(1,0);var c=0,u=a.l;a.l+=4;for(var f={r:t,c:0},A=0;A<16;++A)if(!(r.s.c>A+1<<10||r.e.c<A<<10)){for(var m=-1,p=-1,g=A<<10;g<A+1<<10;++g){f.c=g;var b=Array.isArray(n)?(n[f.r]||[])[f.c]:n[fs(f)];b&&(m<0&&(m=g),p=g)}m<0||(++c,a.write_shift(4,m),a.write_shift(4,p))}var v=a.l;return a.l=u,a.write_shift(4,c),a.l=v,a.length>a.l?a.slice(0,a.l):a}function Eye(t,r,n,a){var i=Bye(a,n,r);(i.length>17||(r["!rows"]||[])[a])&&er(t,0,i)}var Tye=Q0,Fye=Sg;function Iye(){}function _ye(t,r){var n={},a=t[t.l];return++t.l,n.above=!(a&64),n.left=!(a&128),t.l+=18,n.name=H0e(t),n}function kye(t,r,n){n==null&&(n=$t(84+4*t.length));var a=192;r&&(r.above&&(a&=-65),r.left&&(a&=-129)),n.write_shift(1,a);for(var i=1;i<3;++i)n.write_shift(1,0);return h2({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),wQ(t,n),n.slice(0,n.l)}function Pye(t){var r=lu(t);return[r]}function Dye(t,r,n){return n==null&&(n=$t(8)),U0(r,n)}function Oye(t){var r=M0(t);return[r]}function Lye(t,r,n){return n==null&&(n=$t(4)),R0(r,n)}function Uye(t){var r=lu(t),n=t.read_shift(1);return[r,n,"b"]}function Mye(t,r,n){return n==null&&(n=$t(9)),U0(r,n),n.write_shift(1,t.v?1:0),n}function Rye(t){var r=M0(t),n=t.read_shift(1);return[r,n,"b"]}function Qye(t,r,n){return n==null&&(n=$t(5)),R0(r,n),n.write_shift(1,t.v?1:0),n}function Hye(t){var r=lu(t),n=t.read_shift(1);return[r,n,"e"]}function $ye(t,r,n){return n==null&&(n=$t(9)),U0(r,n),n.write_shift(1,t.v),n}function Kye(t){var r=M0(t),n=t.read_shift(1);return[r,n,"e"]}function Vye(t,r,n){return n==null&&(n=$t(8)),R0(r,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function zye(t){var r=lu(t),n=t.read_shift(4);return[r,n,"s"]}function Gye(t,r,n){return n==null&&(n=$t(12)),U0(r,n),n.write_shift(4,r.v),n}function Wye(t){var r=M0(t),n=t.read_shift(4);return[r,n,"s"]}function qye(t,r,n){return n==null&&(n=$t(8)),R0(r,n),n.write_shift(4,r.v),n}function Yye(t){var r=lu(t),n=Bg(t);return[r,n,"n"]}function Xye(t,r,n){return n==null&&(n=$t(16)),U0(r,n),E0(t.v,n),n}function Jye(t){var r=M0(t),n=Bg(t);return[r,n,"n"]}function Zye(t,r,n){return n==null&&(n=$t(12)),R0(r,n),E0(t.v,n),n}function eve(t){var r=lu(t),n=jQ(t);return[r,n,"n"]}function tve(t,r,n){return n==null&&(n=$t(12)),U0(r,n),NQ(t.v,n),n}function rve(t){var r=M0(t),n=jQ(t);return[r,n,"n"]}function nve(t,r,n){return n==null&&(n=$t(8)),R0(r,n),NQ(t.v,n),n}function sve(t){var r=lu(t),n=KB(t);return[r,n,"is"]}function ave(t){var r=lu(t),n=Oo(t);return[r,n,"str"]}function ive(t,r,n){return n==null&&(n=$t(12+4*t.v.length)),U0(r,n),Hi(t.v,n),n.length>n.l?n.slice(0,n.l):n}function ove(t){var r=M0(t),n=Oo(t);return[r,n,"str"]}function lve(t,r,n){return n==null&&(n=$t(8+4*t.v.length)),R0(r,n),Hi(t.v,n),n.length>n.l?n.slice(0,n.l):n}function cve(t,r,n){var a=t.l+r,i=lu(t);i.r=n["!row"];var o=t.read_shift(1),l=[i,o,"b"];if(n.cellFormula){t.l+=2;var c=Iw(t,a-t.l,n);l[3]=ag(c,null,i,n.supbooks,n)}else t.l=a;return l}function uve(t,r,n){var a=t.l+r,i=lu(t);i.r=n["!row"];var o=t.read_shift(1),l=[i,o,"e"];if(n.cellFormula){t.l+=2;var c=Iw(t,a-t.l,n);l[3]=ag(c,null,i,n.supbooks,n)}else t.l=a;return l}function dve(t,r,n){var a=t.l+r,i=lu(t);i.r=n["!row"];var o=Bg(t),l=[i,o,"n"];if(n.cellFormula){t.l+=2;var c=Iw(t,a-t.l,n);l[3]=ag(c,null,i,n.supbooks,n)}else t.l=a;return l}function Ave(t,r,n){var a=t.l+r,i=lu(t);i.r=n["!row"];var o=Oo(t),l=[i,o,"str"];if(n.cellFormula){t.l+=2;var c=Iw(t,a-t.l,n);l[3]=ag(c,null,i,n.supbooks,n)}else t.l=a;return l}var fve=Q0,hve=Sg;function mve(t,r){return r==null&&(r=$t(4)),r.write_shift(4,t),r}function pve(t,r){var n=t.l+r,a=Q0(t),i=VB(t),o=Oo(t),l=Oo(t),c=Oo(t);t.l=n;var u={rfx:a,relId:i,loc:o,display:c};return l&&(u.Tooltip=l),u}function gve(t,r){var n=$t(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Sg({s:Qi(t[0]),e:Qi(t[0])},n),zB("rId"+r,n);var a=t[1].Target.indexOf("#"),i=a==-1?"":t[1].Target.slice(a+1);return Hi(i||"",n),Hi(t[1].Tooltip||"",n),Hi("",n),n.slice(0,n.l)}function xve(){}function yve(t,r,n){var a=t.l+r,i=CQ(t),o=t.read_shift(1),l=[i];if(l[2]=o,n.cellFormula){var c=oye(t,a-t.l,n);l[1]=c}else t.l=a;return l}function vve(t,r,n){var a=t.l+r,i=Q0(t),o=[i];if(n.cellFormula){var l=cye(t,a-t.l,n);o[1]=l,t.l=a}else t.l=a;return o}function bve(t,r,n){n==null&&(n=$t(18));var a=_w(t,r);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(a.width||10)*256),n.write_shift(4,0);var i=0;return r.hidden&&(i|=1),typeof a.width=="number"&&(i|=2),r.level&&(i|=r.level<<8),n.write_shift(2,i),n}var l9=["left","right","top","bottom","header","footer"];function wve(t){var r={};return l9.forEach(function(n){r[n]=Bg(t)}),r}function jve(t,r){return r==null&&(r=$t(48)),i9(t),l9.forEach(function(n){E0(t[n],r)}),r}function Nve(t){var r=t.read_shift(2);return t.l+=28,{RTL:r&32}}function Cve(t,r,n){n==null&&(n=$t(30));var a=924;return(((r||{}).Views||[])[0]||{}).RTL&&(a|=32),n.write_shift(2,a),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function Sve(t){var r=$t(24);return r.write_shift(4,4),r.write_shift(4,1),Sg(t,r),r}function Bve(t,r){return r==null&&(r=$t(66)),r.write_shift(2,t.password?$Q(t.password):0),r.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?r.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):r.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),r}function Eve(){}function Tve(){}function Fve(t,r,n,a,i,o,l){if(r.v===void 0)return!1;var c="";switch(r.t){case"b":c=r.v?"1":"0";break;case"d":r=Ol(r),r.z=r.z||Fa[14],r.v=Dl(cl(r.v)),r.t="n";break;case"n":case"e":c=""+r.v;break;default:c=r.v;break}var u={r:n,c:a};switch(u.s=am(i.cellXfs,r,i),r.l&&o["!links"].push([fs(u),r.l]),r.c&&o["!comments"].push([fs(u),r.c]),r.t){case"s":case"str":return i.bookSST?(c=JB(i.Strings,r.v,i.revStrings),u.t="s",u.v=c,l?er(t,18,qye(r,u)):er(t,7,Gye(r,u))):(u.t="str",l?er(t,17,lve(r,u)):er(t,6,ive(r,u))),!0;case"n":return r.v==(r.v|0)&&r.v>-1e3&&r.v<1e3?l?er(t,13,nve(r,u)):er(t,2,tve(r,u)):l?er(t,16,Zye(r,u)):er(t,5,Xye(r,u)),!0;case"b":return u.t="b",l?er(t,15,Qye(r,u)):er(t,4,Mye(r,u)),!0;case"e":return u.t="e",l?er(t,14,Vye(r,u)):er(t,3,$ye(r,u)),!0}return l?er(t,12,Lye(r,u)):er(t,1,Dye(r,u)),!0}function Ive(t,r,n,a){var i=ta(r["!ref"]||"A1"),o,l="",c=[];er(t,145);var u=Array.isArray(r),f=i.e.r;r["!rows"]&&(f=Math.max(i.e.r,r["!rows"].length-1));for(var A=i.s.r;A<=f;++A){l=io(A),Eye(t,r,i,A);var m=!1;if(A<=i.e.r)for(var p=i.s.c;p<=i.e.c;++p){A===i.s.r&&(c[p]=Do(p)),o=c[p]+l;var g=u?(r[A]||[])[p]:r[o];if(!g){m=!1;continue}m=Fve(t,g,A,p,a,r,m)}}er(t,146)}function _ve(t,r){!r||!r["!merges"]||(er(t,177,mve(r["!merges"].length)),r["!merges"].forEach(function(n){er(t,176,hve(n))}),er(t,178))}function kve(t,r){!r||!r["!cols"]||(er(t,390),r["!cols"].forEach(function(n,a){n&&er(t,60,bve(a,n))}),er(t,391))}function Pve(t,r){!r||!r["!ref"]||(er(t,648),er(t,649,Sve(ta(r["!ref"]))),er(t,650))}function Dve(t,r,n){r["!links"].forEach(function(a){if(a[1].Target){var i=cs(n,-1,a[1].Target.replace(/#.*$/,""),Wn.HLINK);er(t,494,gve(a,i))}}),delete r["!links"]}function Ove(t,r,n,a){if(r["!comments"].length>0){var i=cs(a,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Wn.VML);er(t,551,zB("rId"+i)),r["!legacy"]=i}}function Lve(t,r,n,a){if(r["!autofilter"]){var i=r["!autofilter"],o=typeof i.ref=="string"?i.ref:ti(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var l=n.Workbook.Names,c=yc(o);c.s.r==c.e.r&&(c.e.r=yc(r["!ref"]).e.r,o=ti(c));for(var u=0;u<l.length;++u){var f=l[u];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==a){f.Ref="'"+n.SheetNames[a]+"'!"+o;break}}u==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+n.SheetNames[a]+"'!"+o}),er(t,161,Sg(ta(o))),er(t,162)}}function Uve(t,r,n){er(t,133),er(t,137,Cve(r,n)),er(t,138),er(t,134)}function Mve(t,r){r["!protect"]&&er(t,535,Bve(r["!protect"]))}function Rve(t,r,n,a){var i=kl(),o=n.SheetNames[t],l=n.Sheets[o]||{},c=o;try{n&&n.Workbook&&(c=n.Workbook.Sheets[t].CodeName||c)}catch{}var u=ta(l["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(r.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],er(i,129),(n.vbaraw||l["!outline"])&&er(i,147,kye(c,l["!outline"])),er(i,148,Fye(u)),Uve(i,l,n.Workbook),kve(i,l),Ive(i,l,t,r),Mve(i,l),Lve(i,l,n,t),_ve(i,l),Dve(i,l,a),l["!margins"]&&er(i,476,jve(l["!margins"])),(!r||r.ignoreEC||r.ignoreEC==null)&&Pve(i,l),Ove(i,l,t,a),er(i,130),i.end()}function Qve(t,r){t.l+=10;var n=Oo(t);return{name:n}}var Hve=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function $ve(t){return!t.Workbook||!t.Workbook.WBProps?"false":v0e(t.Workbook.WBProps.date1904)?"true":"false"}var Kve="][*?/\\".split("");function c9(t,r){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return Kve.forEach(function(a){if(t.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function Vve(t,r,n){t.forEach(function(a,i){c9(a);for(var o=0;o<i;++o)if(a==t[o])throw new Error("Duplicate Sheet Name: "+a);if(n){var l=r&&r[i]&&r[i].CodeName||a;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function zve(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var r=t.Workbook&&t.Workbook.Sheets||[];Vve(t.SheetNames,r,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)hye(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}function u9(t){var r=[ri];r[r.length]=dr("workbook",null,{xmlns:Ng[0],"xmlns:r":Mi.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(Hve.forEach(function(c){t.Workbook.WBProps[c[0]]!=null&&t.Workbook.WBProps[c[0]]!=c[1]&&(a[c[0]]=t.Workbook.WBProps[c[0]])}),t.Workbook.WBProps.CodeName&&(a.codeName=t.Workbook.WBProps.CodeName,delete a.CodeName)),r[r.length]=dr("workbookPr",null,a);var i=t.Workbook&&t.Workbook.Sheets||[],o=0;if(i&&i[0]&&i[0].Hidden){for(r[r.length]="<bookViews>",o=0;o!=t.SheetNames.length&&!(!i[o]||!i[o].Hidden);++o);o==t.SheetNames.length&&(o=0),r[r.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',r[r.length]="</bookViews>"}for(r[r.length]="<sheets>",o=0;o!=t.SheetNames.length;++o){var l={name:As(t.SheetNames[o].slice(0,31))};if(l.sheetId=""+(o+1),l["r:id"]="rId"+(o+1),i[o])switch(i[o].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}r[r.length]=dr("sheet",null,l)}return r[r.length]="</sheets>",n&&(r[r.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(c){var u={name:c.Name};c.Comment&&(u.comment=c.Comment),c.Sheet!=null&&(u.localSheetId=""+c.Sheet),c.Hidden&&(u.hidden="1"),c.Ref&&(r[r.length]=dr("definedName",As(c.Ref),u))}),r[r.length]="</definedNames>"),r.length>2&&(r[r.length]="</workbook>",r[1]=r[1].replace("/>",">")),r.join("")}function Gve(t,r){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=QS(t),n.name=Oo(t),n}function Wve(t,r){return r||(r=$t(127)),r.write_shift(4,t.Hidden),r.write_shift(4,t.iTabID),zB(t.strRelID,r),Hi(t.name.slice(0,31),r),r.length>r.l?r.slice(0,r.l):r}function qve(t,r){var n={},a=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=r>8?Oo(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(a&65536),n.backupFile=!!(a&64),n.checkCompatibility=!!(a&4096),n.date1904=!!(a&1),n.filterPrivacy=!!(a&8),n.hidePivotFieldList=!!(a&1024),n.promptedSolutions=!!(a&16),n.publishItems=!!(a&2048),n.refreshAllConnections=!!(a&262144),n.saveExternalLinkValues=!!(a&128),n.showBorderUnselectedTables=!!(a&4),n.showInkAnnotation=!!(a&32),n.showObjects=["all","placeholders","none"][a>>13&3],n.showPivotChartFilter=!!(a&32768),n.updateLinks=["userSet","never","always"][a>>8&3],n}function Yve(t,r){r||(r=$t(72));var n=0;return t&&t.filterPrivacy&&(n|=8),r.write_shift(4,n),r.write_shift(4,0),wQ(t&&t.CodeName||"ThisWorkbook",r),r.slice(0,r.l)}function Xve(t,r,n){var a=t.l+r;t.l+=4,t.l+=1;var i=t.read_shift(4),o=$0e(t),l=lye(t,0,n),c=VB(t);t.l=a;var u={Name:o,Ptg:l};return i<268435455&&(u.Sheet=i),c&&(u.Comment=c),u}function Jve(t,r){er(t,143);for(var n=0;n!=r.SheetNames.length;++n){var a=r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n]&&r.Workbook.Sheets[n].Hidden||0,i={Hidden:a,iTabID:n+1,strRelID:"rId"+(n+1),name:r.SheetNames[n]};er(t,156,Wve(i))}er(t,144)}function Zve(t,r){r||(r=$t(127));for(var n=0;n!=4;++n)r.write_shift(4,0);return Hi("SheetJS",r),Hi(i2.version,r),Hi(i2.version,r),Hi("7262",r),r.length>r.l?r.slice(0,r.l):r}function e1e(t,r){r||(r=$t(29)),r.write_shift(-4,0),r.write_shift(-4,460),r.write_shift(4,28800),r.write_shift(4,17600),r.write_shift(4,500),r.write_shift(4,t),r.write_shift(4,t);var n=120;return r.write_shift(1,n),r.length>r.l?r.slice(0,r.l):r}function t1e(t,r){if(!(!r.Workbook||!r.Workbook.Sheets)){for(var n=r.Workbook.Sheets,a=0,i=-1,o=-1;a<n.length;++a)!n[a]||!n[a].Hidden&&i==-1?i=a:n[a].Hidden==1&&o==-1&&(o=a);o>i||(er(t,135),er(t,158,e1e(i)),er(t,136))}}function r1e(t,r){var n=kl();return er(n,131),er(n,128,Zve()),er(n,153,Yve(t.Workbook&&t.Workbook.WBProps||null)),t1e(n,t),Jve(n,t),er(n,132),n.end()}function n1e(t,r,n){return(r.slice(-4)===".bin"?r1e:u9)(t)}function s1e(t,r,n,a,i){return(r.slice(-4)===".bin"?Rve:o9)(t,n,a,i)}function a1e(t,r,n){return(r.slice(-4)===".bin"?jge:zQ)(t,n)}function i1e(t,r,n){return(r.slice(-4)===".bin"?Ype:HQ)(t,n)}function o1e(t,r,n){return(r.slice(-4)===".bin"?Mge:XQ)(t)}function l1e(t){return(t.slice(-4)===".bin"?Ige:qQ)()}function c1e(t,r){var n=[];return t.Props&&n.push(ape(t.Props,r)),t.Custprops&&n.push(ipe(t.Props,t.Custprops)),n.join("")}function u1e(){return""}function d1e(t,r){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return r.cellXfs.forEach(function(a,i){var o=[];o.push(dr("NumberFormat",null,{"ss:Format":As(Fa[a.numFmtId])}));var l={"ss:ID":"s"+(21+i)};n.push(dr("Style",o.join(""),l))}),dr("Styles",n.join(""))}function d9(t){return dr("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+YB(t.Ref,{r:0,c:0})})}function A1e(t){if(!((t||{}).Workbook||{}).Names)return"";for(var r=t.Workbook.Names,n=[],a=0;a<r.length;++a){var i=r[a];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(d9(i)))}return dr("Names",n.join(""))}function f1e(t,r,n,a){if(!t||!((a||{}).Workbook||{}).Names)return"";for(var i=a.Workbook.Names,o=[],l=0;l<i.length;++l){var c=i[l];c.Sheet==n&&(c.Name.match(/^_xlfn\./)||o.push(d9(c)))}return o.join("")}function h1e(t,r,n,a){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(dr("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(dr("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(dr("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[n])if(a.Workbook.Sheets[n].Hidden)i.push(dr("Visible",a.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<n&&!(a.Workbook.Sheets[o]&&!a.Workbook.Sheets[o].Hidden);++o);o==n&&i.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(ao("ProtectContents","True")),t["!protect"].objects&&i.push(ao("ProtectObjects","True")),t["!protect"].scenarios&&i.push(ao("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(ao("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(ao("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){t["!protect"][l[0]]&&i.push("<"+l[1]+"/>")})),i.length==0?"":dr("WorksheetOptions",i.join(""),{xmlns:Ac.x})}function m1e(t){return t.map(function(r){var n=y0e(r.t||""),a=dr("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return dr("Comment",a,{"ss:Author":r.a})}).join("")}function p1e(t,r,n,a,i,o,l){if(!t||t.v==null&&t.f==null)return"";var c={};if(t.f&&(c["ss:Formula"]="="+As(YB(t.f,l))),t.F&&t.F.slice(0,r.length)==r){var u=Qi(t.F.slice(r.length+1));c["ss:ArrayRange"]="RC:R"+(u.r==l.r?"":"["+(u.r-l.r)+"]")+"C"+(u.c==l.c?"":"["+(u.c-l.c)+"]")}if(t.l&&t.l.Target&&(c["ss:HRef"]=As(t.l.Target),t.l.Tooltip&&(c["x:HRefScreenTip"]=As(t.l.Tooltip))),n["!merges"])for(var f=n["!merges"],A=0;A!=f.length;++A)f[A].s.c!=l.c||f[A].s.r!=l.r||(f[A].e.c>f[A].s.c&&(c["ss:MergeAcross"]=f[A].e.c-f[A].s.c),f[A].e.r>f[A].s.r&&(c["ss:MergeDown"]=f[A].e.r-f[A].s.r));var m="",p="";switch(t.t){case"z":if(!a.sheetStubs)return"";break;case"n":m="Number",p=String(t.v);break;case"b":m="Boolean",p=t.v?"1":"0";break;case"e":m="Error",p=wv[t.v];break;case"d":m="DateTime",p=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Fa[14]);break;case"s":m="String",p=x0e(t.v||"");break}var g=am(a.cellXfs,t,a);c["ss:StyleID"]="s"+(21+g),c["ss:Index"]=l.c+1;var b=t.v!=null?p:"",v=t.t=="z"?"":'<Data ss:Type="'+m+'">'+b+"</Data>";return(t.c||[]).length>0&&(v+=m1e(t.c)),dr("Cell",v,c)}function g1e(t,r){var n='<Row ss:Index="'+(t+1)+'"';return r&&(r.hpt&&!r.hpx&&(r.hpx=VQ(r.hpt)),r.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+r.hpx+'"'),r.hidden&&(n+=' ss:Hidden="1"')),n+">"}function x1e(t,r,n,a){if(!t["!ref"])return"";var i=ta(t["!ref"]),o=t["!merges"]||[],l=0,c=[];t["!cols"]&&t["!cols"].forEach(function(y,j){WB(y);var C=!!y.width,S=_w(j,y),E={"ss:Index":j+1};C&&(E["ss:Width"]=p2(S.width)),y.hidden&&(E["ss:Hidden"]="1"),c.push(dr("Column",null,E))});for(var u=Array.isArray(t),f=i.s.r;f<=i.e.r;++f){for(var A=[g1e(f,(t["!rows"]||[])[f])],m=i.s.c;m<=i.e.c;++m){var p=!1;for(l=0;l!=o.length;++l)if(!(o[l].s.c>m)&&!(o[l].s.r>f)&&!(o[l].e.c<m)&&!(o[l].e.r<f)){(o[l].s.c!=m||o[l].s.r!=f)&&(p=!0);break}if(!p){var g={r:f,c:m},b=fs(g),v=u?(t[f]||[])[m]:t[b];A.push(p1e(v,b,t,r,n,a,g))}}A.push("</Row>"),A.length>2&&c.push(A.join(""))}return c.join("")}function y1e(t,r,n){var a=[],i=n.SheetNames[t],o=n.Sheets[i],l=o?f1e(o,r,t,n):"";return l.length>0&&a.push("<Names>"+l+"</Names>"),l=o?x1e(o,r,t,n):"",l.length>0&&a.push("<Table>"+l+"</Table>"),a.push(h1e(o,r,t,n)),a.join("")}function v1e(t,r){r||(r={}),t.SSF||(t.SSF=Ol(Fa)),t.SSF&&(Bw(),Sw(t.SSF),r.revssf=Ew(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF,r.cellXfs=[],am(r.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(c1e(t,r)),n.push(u1e()),n.push(""),n.push("");for(var a=0;a<t.SheetNames.length;++a)n.push(dr("Worksheet",y1e(a,r,t),{"ss:Name":As(t.SheetNames[a])}));return n[2]=d1e(t,r),n[3]=A1e(t),ri+dr("Workbook",n.join(""),{xmlns:Ac.ss,"xmlns:o":Ac.o,"xmlns:x":Ac.x,"xmlns:ss":Ac.ss,"xmlns:dt":Ac.dt,"xmlns:html":Ac.html})}var GN={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function b1e(t,r){var n=[],a=[],i=[],o=0,l,c=jP(OP,"n"),u=jP(LP,"n");if(t.Props)for(l=lo(t.Props),o=0;o<l.length;++o)(Object.prototype.hasOwnProperty.call(c,l[o])?n:Object.prototype.hasOwnProperty.call(u,l[o])?a:i).push([l[o],t.Props[l[o]]]);if(t.Custprops)for(l=lo(t.Custprops),o=0;o<l.length;++o)Object.prototype.hasOwnProperty.call(t.Props||{},l[o])||(Object.prototype.hasOwnProperty.call(c,l[o])?n:Object.prototype.hasOwnProperty.call(u,l[o])?a:i).push([l[o],t.Custprops[l[o]]]);var f=[];for(o=0;o<i.length;++o)DQ.indexOf(i[o][0])>-1||_Q.indexOf(i[o][0])>-1||i[o][1]!=null&&f.push(i[o]);a.length&&js.utils.cfb_add(r,"/SummaryInformation",HP(a,GN.SI,u,LP)),(n.length||f.length)&&js.utils.cfb_add(r,"/DocumentSummaryInformation",HP(n,GN.DSI,c,OP,f.length?f:null,GN.UDI))}function w1e(t,r){var n=r||{},a=js.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return js.utils.cfb_add(a,i,A9(t,n)),n.biff==8&&(t.Props||t.Custprops)&&b1e(t,a),n.biff==8&&t.vbaraw&&Rge(a,js.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),a}var j1e={0:{f:Sye},1:{f:Pye},2:{f:eve},3:{f:Hye},4:{f:Uye},5:{f:Yye},6:{f:ave},7:{f:zye},8:{f:Ave},9:{f:dve},10:{f:cve},11:{f:uve},12:{f:Oye},13:{f:rve},14:{f:Kye},15:{f:Rye},16:{f:Jye},17:{f:ove},18:{f:Wye},19:{f:KB},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Xve},40:{},42:{},43:{f:age},44:{f:nge},45:{f:lge},46:{f:uge},47:{f:cge},48:{},49:{f:O0e},50:{},51:{f:Sge},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Lpe},62:{f:sve},63:{f:_ge},64:{f:Eve},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:uA,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Nve},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:_ye},148:{f:Tye,p:16},151:{f:xve},152:{},153:{f:qve},154:{},155:{},156:{f:Gve},157:{},158:{},159:{T:1,f:Gpe},160:{T:-1},161:{T:1,f:Q0},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:fve},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Nge},336:{T:-1},337:{f:Tge,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:QS},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Ipe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:yve},427:{f:vve},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:wve},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Iye},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:pve},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:QS},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Lge},633:{T:1},634:{T:-1},635:{T:1,f:Dge},636:{T:-1},637:{f:R0e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Qve},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Tve},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function hr(t,r,n,a){var i=r;if(!isNaN(i)){var o=a||(n||[]).length||0,l=t.next(4);l.write_shift(2,i),l.write_shift(2,o),o>0&&QB(n)&&t.push(n)}}function N1e(t,r,n,a){var i=(n||[]).length||0;if(i<=8224)return hr(t,r,n,i);var o=r;if(!isNaN(o)){for(var l=n.parts||[],c=0,u=0,f=0;f+(l[c]||8224)<=8224;)f+=l[c]||8224,c++;var A=t.next(4);for(A.write_shift(2,o),A.write_shift(2,f),t.push(n.slice(u,u+f)),u+=f;u<i;){for(A=t.next(4),A.write_shift(2,60),f=0;f+(l[c]||8224)<=8224;)f+=l[c]||8224,c++;A.write_shift(2,f),t.push(n.slice(u,u+f)),u+=f}}}function Nv(t,r,n){return t||(t=$t(7)),t.write_shift(2,r),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function C1e(t,r,n,a){var i=$t(9);return Nv(i,t,r),LQ(n,a||"b",i),i}function S1e(t,r,n){var a=$t(8+2*n.length);return Nv(a,t,r),a.write_shift(1,n.length),a.write_shift(n.length,n,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function B1e(t,r,n,a){if(r.v!=null)switch(r.t){case"d":case"n":var i=r.t=="d"?Dl(cl(r.v)):r.v;i==(i|0)&&i>=0&&i<65536?hr(t,2,Qpe(n,a,i)):hr(t,3,Rpe(n,a,i));return;case"b":case"e":hr(t,5,C1e(n,a,r.v,r.t));return;case"s":case"str":hr(t,4,S1e(n,a,(r.v||"").slice(0,255)));return}hr(t,1,Nv(null,n,a))}function E1e(t,r,n,a){var i=Array.isArray(r),o=ta(r["!ref"]||"A1"),l,c="",u=[];if(o.e.c>255||o.e.r>16383){if(a.WTF)throw new Error("Range "+(r["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),l=ti(o)}for(var f=o.s.r;f<=o.e.r;++f){c=io(f);for(var A=o.s.c;A<=o.e.c;++A){f===o.s.r&&(u[A]=Do(A)),l=u[A]+c;var m=i?(r[f]||[])[A]:r[l];m&&B1e(t,m,f,A)}}}function T1e(t,r){for(var n=r||{},a=kl(),i=0,o=0;o<t.SheetNames.length;++o)t.SheetNames[o]==n.sheet&&(i=o);if(i==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return hr(a,n.biff==4?1033:n.biff==3?521:9,GB(t,16,n)),E1e(a,t.Sheets[t.SheetNames[i]],i,n),hr(a,10),a.end()}function F1e(t,r,n){hr(t,49,jpe({sz:12,name:"Arial"},n))}function I1e(t,r,n){r&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var i=a[0];i<=a[1];++i)r[i]!=null&&hr(t,1054,Spe(i,r[i],n))})}function _1e(t,r){var n=$t(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),hr(t,2151,n),n=$t(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),RQ(ta(r["!ref"]||"A1"),n),n.write_shift(4,4),hr(t,2152,n)}function k1e(t,r){for(var n=0;n<16;++n)hr(t,224,KP({numFmtId:0,style:!0},0,r));r.cellXfs.forEach(function(a){hr(t,224,KP(a,0,r))})}function P1e(t,r){for(var n=0;n<r["!links"].length;++n){var a=r["!links"][n];hr(t,440,Ppe(a)),a[1].Tooltip&&hr(t,2048,Dpe(a))}delete r["!links"]}function D1e(t,r){if(r){var n=0;r.forEach(function(a,i){++n<=256&&a&&hr(t,125,Upe(_w(i,a),i))})}}function O1e(t,r,n,a,i){var o=16+am(i.cellXfs,r,i);if(r.v==null&&!r.bf){hr(t,513,T0(n,a,o));return}if(r.bf)hr(t,6,iye(r,n,a,i,o));else switch(r.t){case"d":case"n":var l=r.t=="d"?Dl(cl(r.v)):r.v;hr(t,515,Fpe(n,a,l,o));break;case"b":case"e":hr(t,517,Tpe(n,a,r.v,o,i,r.t));break;case"s":case"str":if(i.bookSST){var c=JB(i.Strings,r.v,i.revStrings);hr(t,253,Npe(n,a,c,o))}else hr(t,516,Cpe(n,a,(r.v||"").slice(0,255),o,i));break;default:hr(t,513,T0(n,a,o))}}function L1e(t,r,n){var a=kl(),i=n.SheetNames[t],o=n.Sheets[i]||{},l=(n||{}).Workbook||{},c=(l.Sheets||[])[t]||{},u=Array.isArray(o),f=r.biff==8,A,m="",p=[],g=ta(o["!ref"]||"A1"),b=f?65536:16384;if(g.e.c>255||g.e.r>=b){if(r.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");g.e.c=Math.min(g.e.c,255),g.e.r=Math.min(g.e.c,b-1)}hr(a,2057,GB(n,16,r)),hr(a,13,tu(1)),hr(a,12,tu(100)),hr(a,15,rl(!0)),hr(a,17,rl(!1)),hr(a,16,E0(.001)),hr(a,95,rl(!0)),hr(a,42,rl(!1)),hr(a,43,rl(!1)),hr(a,130,tu(1)),hr(a,128,Epe()),hr(a,131,rl(!1)),hr(a,132,rl(!1)),f&&D1e(a,o["!cols"]),hr(a,512,Bpe(g,r)),f&&(o["!links"]=[]);for(var v=g.s.r;v<=g.e.r;++v){m=io(v);for(var y=g.s.c;y<=g.e.c;++y){v===g.s.r&&(p[y]=Do(y)),A=p[y]+m;var j=u?(o[v]||[])[y]:o[A];j&&(O1e(a,j,v,y,r),f&&j.l&&o["!links"].push([A,j.l]))}}var C=c.CodeName||c.name||i;return f&&hr(a,574,wpe((l.Views||[])[0])),f&&(o["!merges"]||[]).length&&hr(a,229,kpe(o["!merges"])),f&&P1e(a,o),hr(a,442,MQ(C)),f&&_1e(a,o),hr(a,10),a.end()}function U1e(t,r,n){var a=kl(),i=(t||{}).Workbook||{},o=i.Sheets||[],l=i.WBProps||{},c=n.biff==8,u=n.biff==5;if(hr(a,2057,GB(t,5,n)),n.bookType=="xla"&&hr(a,135),hr(a,225,c?tu(1200):null),hr(a,193,cpe(2)),u&&hr(a,191),u&&hr(a,192),hr(a,226),hr(a,92,xpe("SheetJS",n)),hr(a,66,tu(c?1200:1252)),c&&hr(a,353,tu(0)),c&&hr(a,448),hr(a,317,Mpe(t.SheetNames.length)),c&&t.vbaraw&&hr(a,211),c&&t.vbaraw){var f=l.CodeName||"ThisWorkbook";hr(a,442,MQ(f))}hr(a,156,tu(17)),hr(a,25,rl(!1)),hr(a,18,rl(!1)),hr(a,19,tu(0)),c&&hr(a,431,rl(!1)),c&&hr(a,444,tu(0)),hr(a,61,bpe()),hr(a,64,rl(!1)),hr(a,141,tu(0)),hr(a,34,rl($ve(t)=="true")),hr(a,14,rl(!0)),c&&hr(a,439,rl(!1)),hr(a,218,tu(0)),F1e(a,t,n),I1e(a,t.SSF,n),k1e(a,n),c&&hr(a,352,rl(!1));var A=a.end(),m=kl();c&&hr(m,140,Ope()),c&&n.Strings&&N1e(m,252,vpe(n.Strings)),hr(m,10);var p=m.end(),g=kl(),b=0,v=0;for(v=0;v<t.SheetNames.length;++v)b+=(c?12:11)+(c?2:1)*t.SheetNames[v].length;var y=A.length+b+p.length;for(v=0;v<t.SheetNames.length;++v){var j=o[v]||{};hr(g,133,ype({pos:y,hs:j.Hidden||0,dt:0,name:t.SheetNames[v]},n)),y+=r[v].length}var C=g.end();if(b!=C.length)throw new Error("BS8 "+b+" != "+C.length);var S=[];return A.length&&S.push(A),C.length&&S.push(C),p.length&&S.push(p),so(S)}function M1e(t,r){var n=r||{},a=[];t&&!t.SSF&&(t.SSF=Ol(Fa)),t&&t.SSF&&(Bw(),Sw(t.SSF),n.revssf=Ew(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,ZB(n),n.cellXfs=[],am(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)a[a.length]=L1e(i,n,t);return a.unshift(U1e(t,a,n)),so(a)}function A9(t,r){for(var n=0;n<=t.SheetNames.length;++n){var a=t.Sheets[t.SheetNames[n]];if(!(!a||!a["!ref"])){var i=yc(a["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var o=r||{};switch(o.biff||2){case 8:case 5:return M1e(t,r);case 4:case 3:case 2:return T1e(t,r)}throw new Error("invalid type "+o.bookType+" for BIFF")}function R1e(t,r,n,a){for(var i=t["!merges"]||[],o=[],l=r.s.c;l<=r.e.c;++l){for(var c=0,u=0,f=0;f<i.length;++f)if(!(i[f].s.r>n||i[f].s.c>l)&&!(i[f].e.r<n||i[f].e.c<l)){if(i[f].s.r<n||i[f].s.c<l){c=-1;break}c=i[f].e.r-i[f].s.r+1,u=i[f].e.c-i[f].s.c+1;break}if(!(c<0)){var A=fs({r:n,c:l}),m=a.dense?(t[n]||[])[l]:t[A],p=m&&m.v!=null&&(m.h||g0e(m.w||(Sf(m),m.w)||""))||"",g={};c>1&&(g.rowspan=c),u>1&&(g.colspan=u),a.editable?p='<span contenteditable="true">'+p+"</span>":m&&(g["data-t"]=m&&m.t||"z",m.v!=null&&(g["data-v"]=m.v),m.z!=null&&(g["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+m.l.Target+'">'+p+"</a>")),g.id=(a.id||"sjs")+"-"+A,o.push(dr("td",p,g))}}var b="<tr>";return b+o.join("")+"</tr>"}var Q1e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',H1e="</body></html>";function $1e(t,r,n){var a=[];return a.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function f9(t,r){var n=r||{},a=n.header!=null?n.header:Q1e,i=n.footer!=null?n.footer:H1e,o=[a],l=yc(t["!ref"]);n.dense=Array.isArray(t),o.push($1e(t,l,n));for(var c=l.s.r;c<=l.e.r;++c)o.push(R1e(t,l,c,n));return o.push("</table>"+i),o.join("")}function h9(t,r,n){var a=n||{},i=0,o=0;if(a.origin!=null)if(typeof a.origin=="number")i=a.origin;else{var l=typeof a.origin=="string"?Qi(a.origin):a.origin;i=l.r,o=l.c}var c=r.getElementsByTagName("tr"),u=Math.min(a.sheetRows||1e7,c.length),f={s:{r:0,c:0},e:{r:i,c:o}};if(t["!ref"]){var A=yc(t["!ref"]);f.s.r=Math.min(f.s.r,A.s.r),f.s.c=Math.min(f.s.c,A.s.c),f.e.r=Math.max(f.e.r,A.e.r),f.e.c=Math.max(f.e.c,A.e.c),i==-1&&(f.e.r=i=A.e.r+1)}var m=[],p=0,g=t["!rows"]||(t["!rows"]=[]),b=0,v=0,y=0,j=0,C=0,S=0;for(t["!cols"]||(t["!cols"]=[]);b<c.length&&v<u;++b){var E=c[b];if(XP(E)){if(a.display)continue;g[v]={hidden:!0}}var D=E.children;for(y=j=0;y<D.length;++y){var k=D[y];if(!(a.display&&XP(k))){var L=k.hasAttribute("data-v")?k.getAttribute("data-v"):k.hasAttribute("v")?k.getAttribute("v"):b0e(k.innerHTML),I=k.getAttribute("data-z")||k.getAttribute("z");for(p=0;p<m.length;++p){var Y=m[p];Y.s.c==j+o&&Y.s.r<v+i&&v+i<=Y.e.r&&(j=Y.e.c+1-o,p=-1)}S=+k.getAttribute("colspan")||1,((C=+k.getAttribute("rowspan")||1)>1||S>1)&&m.push({s:{r:v+i,c:j+o},e:{r:v+i+(C||1)-1,c:j+o+(S||1)-1}});var Q={t:"s",v:L},H=k.getAttribute("data-t")||k.getAttribute("t")||"";L!=null&&(L.length==0?Q.t=H||"z":a.raw||L.trim().length==0||H=="s"||(L==="TRUE"?Q={t:"b",v:!0}:L==="FALSE"?Q={t:"b",v:!1}:isNaN(ff(L))?isNaN(Ry(L).getDate())||(Q={t:"d",v:cl(L)},a.cellDates||(Q={t:"n",v:Dl(Q.v)}),Q.z=a.dateNF||Fa[14]):Q={t:"n",v:ff(L)})),Q.z===void 0&&I!=null&&(Q.z=I);var U="",K=k.getElementsByTagName("A");if(K&&K.length)for(var X=0;X<K.length&&!(K[X].hasAttribute("href")&&(U=K[X].getAttribute("href"),U.charAt(0)!="#"));++X);U&&U.charAt(0)!="#"&&(Q.l={Target:U}),a.dense?(t[v+i]||(t[v+i]=[]),t[v+i][j+o]=Q):t[fs({c:j+o,r:v+i})]=Q,f.e.c<j+o&&(f.e.c=j+o),j+=S}}++v}return m.length&&(t["!merges"]=(t["!merges"]||[]).concat(m)),f.e.r=Math.max(f.e.r,v-1+i),t["!ref"]=ti(f),v>=u&&(t["!fullref"]=ti((f.e.r=c.length-b+v-1+i,f))),t}function m9(t,r){var n=r||{},a=n.dense?[]:{};return h9(a,t,r)}function K1e(t,r){return L0(m9(t,r),r)}function XP(t){var r="",n=V1e(t);return n&&(r=n(t).getPropertyValue("display")),r||(r=t.style&&t.style.display),r==="none"}function V1e(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var z1e=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),r="<office:document-styles "+Hy({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return ri+r}}(),JP=function(){var t=function(o){return As(o).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},r=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,a=function(o,l,c){var u=[];u.push('      <table:table table:name="'+As(l.SheetNames[c])+`" table:style-name="ta1">
`);var f=0,A=0,m=yc(o["!ref"]||"A1"),p=o["!merges"]||[],g=0,b=Array.isArray(o);if(o["!cols"])for(A=0;A<=m.e.c;++A)u.push("        <table:table-column"+(o["!cols"][A]?' table:style-name="co'+o["!cols"][A].ods+'"':"")+`></table:table-column>
`);var v="",y=o["!rows"]||[];for(f=0;f<m.s.r;++f)v=y[f]?' table:style-name="ro'+y[f].ods+'"':"",u.push("        <table:table-row"+v+`></table:table-row>
`);for(;f<=m.e.r;++f){for(v=y[f]?' table:style-name="ro'+y[f].ods+'"':"",u.push("        <table:table-row"+v+`>
`),A=0;A<m.s.c;++A)u.push(r);for(;A<=m.e.c;++A){var j=!1,C={},S="";for(g=0;g!=p.length;++g)if(!(p[g].s.c>A)&&!(p[g].s.r>f)&&!(p[g].e.c<A)&&!(p[g].e.r<f)){(p[g].s.c!=A||p[g].s.r!=f)&&(j=!0),C["table:number-columns-spanned"]=p[g].e.c-p[g].s.c+1,C["table:number-rows-spanned"]=p[g].e.r-p[g].s.r+1;break}if(j){u.push(n);continue}var E=fs({r:f,c:A}),D=b?(o[f]||[])[A]:o[E];if(D&&D.f&&(C["table:formula"]=As(Aye(D.f)),D.F&&D.F.slice(0,E.length)==E)){var k=yc(D.F);C["table:number-matrix-columns-spanned"]=k.e.c-k.s.c+1,C["table:number-matrix-rows-spanned"]=k.e.r-k.s.r+1}if(!D){u.push(r);continue}switch(D.t){case"b":S=D.v?"TRUE":"FALSE",C["office:value-type"]="boolean",C["office:boolean-value"]=D.v?"true":"false";break;case"n":S=D.w||String(D.v||0),C["office:value-type"]="float",C["office:value"]=D.v||0;break;case"s":case"str":S=D.v==null?"":D.v,C["office:value-type"]="string";break;case"d":S=D.w||cl(D.v).toISOString(),C["office:value-type"]="date",C["office:date-value"]=cl(D.v).toISOString(),C["table:style-name"]="ce1";break;default:u.push(r);continue}var L=t(S);if(D.l&&D.l.Target){var I=D.l.Target;I=I.charAt(0)=="#"?"#"+fye(I.slice(1)):I,I.charAt(0)!="#"&&!I.match(/^\w+:/)&&(I="../"+I),L=dr("text:a",L,{"xlink:href":I.replace(/&/g,"&amp;")})}u.push("          "+dr("table:table-cell",dr("text:p",L,{}),C)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},i=function(o,l){o.push(` <office:automatic-styles>
`),o.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),o.push(`   <number:month number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:day number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:year/>
`),o.push(`  </number:date-style>
`);var c=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var A=0;A<f["!cols"].length;++A)if(f["!cols"][A]){var m=f["!cols"][A];if(m.width==null&&m.wpx==null&&m.wch==null)continue;WB(m),m.ods=c;var p=f["!cols"][A].wpx+"px";o.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),o.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),o.push(`  </style:style>
`),++c}}});var u=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var A=0;A<f["!rows"].length;++A)if(f["!rows"][A]){f["!rows"][A].ods=u;var m=f["!rows"][A].hpx+"px";o.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),o.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+`"/>
`),o.push(`  </style:style>
`),++u}}}),o.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),o.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),o.push(`  </style:style>
`),o.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),o.push(` </office:automatic-styles>
`)};return function(l,c){var u=[ri],f=Hy({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),A=Hy({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(u.push("<office:document"+f+A+`>
`),u.push(FQ().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+f+`>
`),i(u,l),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var m=0;m!=l.SheetNames.length;++m)u.push(a(l.Sheets[l.SheetNames[m]],l,m));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),c.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}}();function p9(t,r){if(r.bookType=="fods")return JP(t,r);var n=LB(),a="",i=[],o=[];return a="mimetype",pn(n,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",pn(n,a,JP(t,r)),i.push([a,"text/xml"]),o.push([a,"ContentFile"]),a="styles.xml",pn(n,a,z1e(t,r)),i.push([a,"text/xml"]),o.push([a,"StylesFile"]),a="meta.xml",pn(n,a,ri+FQ()),i.push([a,"text/xml"]),o.push([a,"MetadataFile"]),a="manifest.rdf",pn(n,a,spe(o)),i.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",pn(n,a,rpe(i)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function y2(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function G1e(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):ad(Qy(t))}function W1e(t,r){e:for(var n=0;n<=t.length-r.length;++n){for(var a=0;a<r.length;++a)if(t[n+a]!=r[a])continue e;return!0}return!1}function Jh(t){var r=t.reduce(function(i,o){return i+o.length},0),n=new Uint8Array(r),a=0;return t.forEach(function(i){n.set(i,a),a+=i.length}),n}function q1e(t,r,n){var a=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,a-6176);t[r+15]|=a>>7,t[r+14]|=(a&127)<<1;for(var o=0;i>=1;++o,i/=256)t[r+o]=i&255;t[r+15]|=n>=0?0:128}function $y(t,r){var n=r?r[0]:0,a=t[n]&127;e:if(t[n++]>=128&&(a|=(t[n]&127)<<7,t[n++]<128||(a|=(t[n]&127)<<14,t[n++]<128)||(a|=(t[n]&127)<<21,t[n++]<128)||(a+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(a+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(a+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return r&&(r[0]=n),a}function os(t){var r=new Uint8Array(7);r[0]=t&127;var n=1;e:if(t>127){if(r[n-1]|=128,r[n]=t>>7&127,++n,t<=16383||(r[n-1]|=128,r[n]=t>>14&127,++n,t<=2097151)||(r[n-1]|=128,r[n]=t>>21&127,++n,t<=268435455)||(r[n-1]|=128,r[n]=t/256>>>21&127,++n,t<=34359738367)||(r[n-1]|=128,r[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;r[n-1]|=128,r[n]=t/16777216>>>21&127,++n}return r.slice(0,n)}function Wp(t){var r=0,n=t[r]&127;e:if(t[r++]>=128){if(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128))break e;n|=(t[r]&127)<<28}return n}function hi(t){for(var r=[],n=[0];n[0]<t.length;){var a=n[0],i=$y(t,n),o=i&7;i=Math.floor(i/8);var l=0,c;if(i==0)break;switch(o){case 0:{for(var u=n[0];t[n[0]++]>=128;);c=t.slice(u,n[0])}break;case 5:l=4,c=t.slice(n[0],n[0]+l),n[0]+=l;break;case 1:l=8,c=t.slice(n[0],n[0]+l),n[0]+=l;break;case 2:l=$y(t,n),c=t.slice(n[0],n[0]+l),n[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(o," for Field ").concat(i," at offset ").concat(a))}var f={data:c,type:o};r[i]==null?r[i]=[f]:r[i].push(f)}return r}function Zi(t){var r=[];return t.forEach(function(n,a){n.forEach(function(i){i.data&&(r.push(os(a*8+i.type)),i.type==2&&r.push(os(i.data.length)),r.push(i.data))})}),Jh(r)}function Zu(t){for(var r,n=[],a=[0];a[0]<t.length;){var i=$y(t,a),o=hi(t.slice(a[0],a[0]+i));a[0]+=i;var l={id:Wp(o[1][0].data),messages:[]};o[2].forEach(function(c){var u=hi(c.data),f=Wp(u[3][0].data);l.messages.push({meta:u,data:t.slice(a[0],a[0]+f)}),a[0]+=f}),(r=o[3])!=null&&r[0]&&(l.merge=Wp(o[3][0].data)>>>0>0),n.push(l)}return n}function Bp(t){var r=[];return t.forEach(function(n){var a=[];a[1]=[{data:os(n.id),type:0}],a[2]=[],n.merge!=null&&(a[3]=[{data:os(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(l){i.push(l.data),l.meta[3]=[{type:0,data:os(l.data.length)}],a[2].push({data:Zi(l.meta),type:2})});var o=Zi(a);r.push(os(o.length)),r.push(o),i.forEach(function(l){return r.push(l)})}),Jh(r)}function Y1e(t,r){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],a=$y(r,n),i=[];n[0]<r.length;){var o=r[n[0]]&3;if(o==0){var l=r[n[0]++]>>2;if(l<60)++l;else{var c=l-59;l=r[n[0]],c>1&&(l|=r[n[0]+1]<<8),c>2&&(l|=r[n[0]+2]<<16),c>3&&(l|=r[n[0]+3]<<24),l>>>=0,l++,n[0]+=c}i.push(r.slice(n[0],n[0]+l)),n[0]+=l;continue}else{var u=0,f=0;if(o==1?(f=(r[n[0]]>>2&7)+4,u=(r[n[0]++]&224)<<3,u|=r[n[0]++]):(f=(r[n[0]++]>>2)+1,o==2?(u=r[n[0]]|r[n[0]+1]<<8,n[0]+=2):(u=(r[n[0]]|r[n[0]+1]<<8|r[n[0]+2]<<16|r[n[0]+3]<<24)>>>0,n[0]+=4)),i=[Jh(i)],u==0)throw new Error("Invalid offset 0");if(u>i[0].length)throw new Error("Invalid offset beyond length");if(f>=u)for(i.push(i[0].slice(-u)),f-=u;f>=i[i.length-1].length;)i.push(i[i.length-1]),f-=i[i.length-1].length;i.push(i[0].slice(-u,-u+f))}}var A=Jh(i);if(A.length!=a)throw new Error("Unexpected length: ".concat(A.length," != ").concat(a));return A}function ed(t){for(var r=[],n=0;n<t.length;){var a=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,r.push(Y1e(a,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return Jh(r)}function Ep(t){for(var r=[],n=0;n<t.length;){var a=Math.min(t.length-n,268435455),i=new Uint8Array(4);r.push(i);var o=os(a),l=o.length;r.push(o),a<=60?(l++,r.push(new Uint8Array([a-1<<2]))):a<=256?(l+=2,r.push(new Uint8Array([240,a-1&255]))):a<=65536?(l+=3,r.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(l+=4,r.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(l+=5,r.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),r.push(t.slice(n,n+a)),l+=a,i[0]=0,i[1]=l&255,i[2]=l>>8&255,i[3]=l>>16&255,n+=a}return Jh(r)}function WN(t,r){var n=new Uint8Array(32),a=y2(n),i=12,o=0;switch(n[0]=5,t.t){case"n":n[1]=2,q1e(n,i,t.v),o|=1,i+=16;break;case"b":n[1]=6,a.setFloat64(i,t.v?1:0,!0),o|=2,i+=8;break;case"s":if(r.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,a.setUint32(i,r.indexOf(t.v),!0),o|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return a.setUint32(8,o,!0),n.slice(0,i)}function qN(t,r){var n=new Uint8Array(32),a=y2(n),i=12,o=0;switch(n[0]=3,t.t){case"n":n[2]=2,a.setFloat64(i,t.v,!0),o|=32,i+=8;break;case"b":n[2]=6,a.setFloat64(i,t.v?1:0,!0),o|=32,i+=8;break;case"s":if(r.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,a.setUint32(i,r.indexOf(t.v),!0),o|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return a.setUint32(4,o,!0),n.slice(0,i)}function jh(t){var r=hi(t);return $y(r[1][0].data)}function X1e(t,r,n){var a,i,o,l;if(!((a=t[6])!=null&&a[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var c=((l=(o=t[8])==null?void 0:o[0])==null?void 0:l.data)&&Wp(t[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var u=0,f=y2(t[7][0].data),A=0,m=[],p=y2(t[4][0].data),g=0,b=[],v=0;v<r.length;++v){if(r[v]==null){f.setUint16(v*2,65535,!0),p.setUint16(v*2,65535);continue}f.setUint16(v*2,A,!0),p.setUint16(v*2,g,!0);var y,j;switch(typeof r[v]){case"string":y=WN({t:"s",v:r[v]},n),j=qN({t:"s",v:r[v]},n);break;case"number":y=WN({t:"n",v:r[v]},n),j=qN({t:"n",v:r[v]},n);break;case"boolean":y=WN({t:"b",v:r[v]},n),j=qN({t:"b",v:r[v]},n);break;default:throw new Error("Unsupported value "+r[v])}m.push(y),A+=y.length,b.push(j),g+=j.length,++u}for(t[2][0].data=os(u);v<t[7][0].data.length/2;++v)f.setUint16(v*2,65535,!0),p.setUint16(v*2,65535,!0);return t[6][0].data=Jh(m),t[3][0].data=Jh(b),u}function J1e(t,r){if(!r||!r.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=yc(n["!ref"]);a.s.r=a.s.c=0;var i=!1;a.e.c>9&&(i=!0,a.e.c=9),a.e.r>49&&(i=!0,a.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(ti(a)));var o=v2(n,{range:a,header:1}),l=["~Sh33tJ5~"];o.forEach(function(G){return G.forEach(function(ne){typeof ne=="string"&&l.push(ne)})});var c={},u=[],f=js.read(r.numbers,{type:"base64"});f.FileIndex.map(function(G,ne){return[G,f.FullPaths[ne]]}).forEach(function(G){var ne=G[0],ae=G[1];if(ne.type==2&&ne.name.match(/\.iwa/)){var oe=ne.content,he=ed(oe),me=Zu(he);me.forEach(function(te){u.push(te.id),c[te.id]={deps:[],location:ae,type:Wp(te.messages[0].meta[1][0].data)}})}}),u.sort(function(G,ne){return G-ne});var A=u.filter(function(G){return G>1}).map(function(G){return[G,os(G)]});f.FileIndex.map(function(G,ne){return[G,f.FullPaths[ne]]}).forEach(function(G){var ne=G[0];if(G[1],!!ne.name.match(/\.iwa/)){var ae=Zu(ed(ne.content));ae.forEach(function(oe){oe.messages.forEach(function(he){A.forEach(function(me){oe.messages.some(function(te){return Wp(te.meta[1][0].data)!=11006&&W1e(te.data,me[1])})&&c[me[0]].deps.push(oe.id)})})})}});for(var m=js.find(f,c[1].location),p=Zu(ed(m.content)),g,b=0;b<p.length;++b){var v=p[b];v.id==1&&(g=v)}var y=jh(hi(g.messages[0].data)[1][0].data);for(m=js.find(f,c[y].location),p=Zu(ed(m.content)),b=0;b<p.length;++b)v=p[b],v.id==y&&(g=v);for(y=jh(hi(g.messages[0].data)[2][0].data),m=js.find(f,c[y].location),p=Zu(ed(m.content)),b=0;b<p.length;++b)v=p[b],v.id==y&&(g=v);for(y=jh(hi(g.messages[0].data)[2][0].data),m=js.find(f,c[y].location),p=Zu(ed(m.content)),b=0;b<p.length;++b)v=p[b],v.id==y&&(g=v);var j=hi(g.messages[0].data);{j[6][0].data=os(a.e.r+1),j[7][0].data=os(a.e.c+1);var C=jh(j[46][0].data),S=js.find(f,c[C].location),E=Zu(ed(S.content));{for(var D=0;D<E.length&&E[D].id!=C;++D);if(E[D].id!=C)throw"Bad ColumnRowUIDMapArchive";var k=hi(E[D].messages[0].data);k[1]=[],k[2]=[],k[3]=[];for(var L=0;L<=a.e.c;++L){var I=[];I[1]=I[2]=[{type:0,data:os(L+420690)}],k[1].push({type:2,data:Zi(I)}),k[2].push({type:0,data:os(L)}),k[3].push({type:0,data:os(L)})}k[4]=[],k[5]=[],k[6]=[];for(var Y=0;Y<=a.e.r;++Y)I=[],I[1]=I[2]=[{type:0,data:os(Y+726270)}],k[4].push({type:2,data:Zi(I)}),k[5].push({type:0,data:os(Y)}),k[6].push({type:0,data:os(Y)});E[D].messages[0].data=Zi(k)}S.content=Ep(Bp(E)),S.size=S.content.length,delete j[46];var Q=hi(j[4][0].data);{Q[7][0].data=os(a.e.r+1);var H=hi(Q[1][0].data),U=jh(H[2][0].data);S=js.find(f,c[U].location),E=Zu(ed(S.content));{if(E[0].id!=U)throw"Bad HeaderStorageBucket";var K=hi(E[0].messages[0].data);for(Y=0;Y<o.length;++Y){var X=hi(K[2][0].data);X[1][0].data=os(Y),X[4][0].data=os(o[Y].length),K[2][Y]={type:K[2][0].type,data:Zi(X)}}E[0].messages[0].data=Zi(K)}S.content=Ep(Bp(E)),S.size=S.content.length;var Z=jh(Q[2][0].data);S=js.find(f,c[Z].location),E=Zu(ed(S.content));{if(E[0].id!=Z)throw"Bad HeaderStorageBucket";for(K=hi(E[0].messages[0].data),L=0;L<=a.e.c;++L)X=hi(K[2][0].data),X[1][0].data=os(L),X[4][0].data=os(a.e.r+1),K[2][L]={type:K[2][0].type,data:Zi(X)};E[0].messages[0].data=Zi(K)}S.content=Ep(Bp(E)),S.size=S.content.length;var ee=jh(Q[4][0].data);(function(){for(var G=js.find(f,c[ee].location),ne=Zu(ed(G.content)),ae,oe=0;oe<ne.length;++oe){var he=ne[oe];he.id==ee&&(ae=he)}var me=hi(ae.messages[0].data);{me[3]=[];var te=[];l.forEach(function(ie,pe){te[1]=[{type:0,data:os(pe)}],te[2]=[{type:0,data:os(1)}],te[3]=[{type:2,data:G1e(ie)}],me[3].push({type:2,data:Zi(te)})})}ae.messages[0].data=Zi(me);var Ae=Bp(ne),V=Ep(Ae);G.content=V,G.size=G.content.length})();var de=hi(Q[3][0].data);{var Ne=de[1][0];delete de[2];var Se=hi(Ne.data);{var ue=jh(Se[2][0].data);(function(){for(var G=js.find(f,c[ue].location),ne=Zu(ed(G.content)),ae,oe=0;oe<ne.length;++oe){var he=ne[oe];he.id==ue&&(ae=he)}var me=hi(ae.messages[0].data);{delete me[6],delete de[7];var te=new Uint8Array(me[5][0].data);me[5]=[];for(var Ae=0,V=0;V<=a.e.r;++V){var ie=hi(te);Ae+=X1e(ie,o[V],l),ie[1][0].data=os(V),me[5].push({data:Zi(ie),type:2})}me[1]=[{type:0,data:os(a.e.c+1)}],me[2]=[{type:0,data:os(a.e.r+1)}],me[3]=[{type:0,data:os(Ae)}],me[4]=[{type:0,data:os(a.e.r+1)}]}ae.messages[0].data=Zi(me);var pe=Bp(ne),ye=Ep(pe);G.content=ye,G.size=G.content.length})()}Ne.data=Zi(Se)}Q[3][0].data=Zi(de)}j[4][0].data=Zi(Q)}g.messages[0].data=Zi(j);var xe=Bp(p),R=Ep(xe);return m.content=R,m.size=m.content.length,f}function Z1e(t){return function(n){for(var a=0;a!=t.length;++a){var i=t[a];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function ZB(t){Z1e([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function ebe(t,r){return r.bookType=="ods"?p9(t,r):r.bookType=="numbers"?J1e(t,r):r.bookType=="xlsb"?tbe(t,r):rbe(t,r)}function tbe(t,r){Dp=1024,t&&!t.SSF&&(t.SSF=Ol(Fa)),t&&t.SSF&&(Bw(),Sw(t.SSF),r.revssf=Ew(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.rels={},r.wbrels={},r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,oy?r.revStrings=new Map:(r.revStrings={},r.revStrings.foo=[],delete r.revStrings.foo);var n=r.bookType=="xlsb"?"bin":"xml",a=JQ.indexOf(r.bookType)>-1,i=BQ();ZB(r=r||{});var o=LB(),l="",c=0;if(r.cellXfs=[],am(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",pn(o,l,IQ(t.Props,r)),i.coreprops.push(l),cs(r.rels,2,l,Wn.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var u=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(t.SheetNames[f]);t.Props.SheetNames=u}for(t.Props.Worksheets=t.Props.SheetNames.length,pn(o,l,kQ(t.Props)),i.extprops.push(l),cs(r.rels,3,l,Wn.EXT_PROPS),t.Custprops!==t.Props&&lo(t.Custprops||{}).length>0&&(l="docProps/custom.xml",pn(o,l,PQ(t.Custprops)),i.custprops.push(l),cs(r.rels,4,l,Wn.CUST_PROPS)),c=1;c<=t.SheetNames.length;++c){var A={"!id":{}},m=t.Sheets[t.SheetNames[c-1]],p=(m||{})["!type"]||"sheet";switch(p){case"chart":default:l="xl/worksheets/sheet"+c+"."+n,pn(o,l,s1e(c-1,l,r,t,A)),i.sheets.push(l),cs(r.wbrels,-1,"worksheets/sheet"+c+"."+n,Wn.WS[0])}if(m){var g=m["!comments"],b=!1,v="";g&&g.length>0&&(v="xl/comments"+c+"."+n,pn(o,v,o1e(g,v)),i.comments.push(v),cs(A,-1,"../comments"+c+"."+n,Wn.CMNT),b=!0),m["!legacy"]&&b&&pn(o,"xl/drawings/vmlDrawing"+c+".vml",YQ(c,m["!comments"])),delete m["!comments"],delete m["!legacy"]}A["!id"].rId1&&pn(o,TQ(l),zp(A))}return r.Strings!=null&&r.Strings.length>0&&(l="xl/sharedStrings."+n,pn(o,l,i1e(r.Strings,l,r)),i.strs.push(l),cs(r.wbrels,-1,"sharedStrings."+n,Wn.SST)),l="xl/workbook."+n,pn(o,l,n1e(t,l)),i.workbooks.push(l),cs(r.rels,1,l,Wn.WB),l="xl/theme/theme1.xml",pn(o,l,WQ(t.Themes,r)),i.themes.push(l),cs(r.wbrels,-1,"theme/theme1.xml",Wn.THEME),l="xl/styles."+n,pn(o,l,a1e(t,l,r)),i.styles.push(l),cs(r.wbrels,-1,"styles."+n,Wn.STY),t.vbaraw&&a&&(l="xl/vbaProject.bin",pn(o,l,t.vbaraw),i.vba.push(l),cs(r.wbrels,-1,"vbaProject.bin",Wn.VBA)),l="xl/metadata."+n,pn(o,l,l1e(l)),i.metadata.push(l),cs(r.wbrels,-1,"metadata."+n,Wn.XLMETA),pn(o,"[Content_Types].xml",EQ(i,r)),pn(o,"_rels/.rels",zp(r.rels)),pn(o,"xl/_rels/workbook."+n+".rels",zp(r.wbrels)),delete r.revssf,delete r.ssf,o}function rbe(t,r){Dp=1024,t&&!t.SSF&&(t.SSF=Ol(Fa)),t&&t.SSF&&(Bw(),Sw(t.SSF),r.revssf=Ew(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.rels={},r.wbrels={},r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,oy?r.revStrings=new Map:(r.revStrings={},r.revStrings.foo=[],delete r.revStrings.foo);var n="xml",a=JQ.indexOf(r.bookType)>-1,i=BQ();ZB(r=r||{});var o=LB(),l="",c=0;if(r.cellXfs=[],am(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",pn(o,l,IQ(t.Props,r)),i.coreprops.push(l),cs(r.rels,2,l,Wn.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var u=[],f=0;f<t.SheetNames.length;++f)(t.Workbook.Sheets[f]||{}).Hidden!=2&&u.push(t.SheetNames[f]);t.Props.SheetNames=u}t.Props.Worksheets=t.Props.SheetNames.length,pn(o,l,kQ(t.Props)),i.extprops.push(l),cs(r.rels,3,l,Wn.EXT_PROPS),t.Custprops!==t.Props&&lo(t.Custprops||{}).length>0&&(l="docProps/custom.xml",pn(o,l,PQ(t.Custprops)),i.custprops.push(l),cs(r.rels,4,l,Wn.CUST_PROPS));var A=["SheetJ5"];for(r.tcid=0,c=1;c<=t.SheetNames.length;++c){var m={"!id":{}},p=t.Sheets[t.SheetNames[c-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:l="xl/worksheets/sheet"+c+"."+n,pn(o,l,o9(c-1,r,t,m)),i.sheets.push(l),cs(r.wbrels,-1,"worksheets/sheet"+c+"."+n,Wn.WS[0])}if(p){var b=p["!comments"],v=!1,y="";if(b&&b.length>0){var j=!1;b.forEach(function(C){C[1].forEach(function(S){S.T==!0&&(j=!0)})}),j&&(y="xl/threadedComments/threadedComment"+c+"."+n,pn(o,y,kge(b,A,r)),i.threadedcomments.push(y),cs(m,-1,"../threadedComments/threadedComment"+c+"."+n,Wn.TCMNT)),y="xl/comments"+c+"."+n,pn(o,y,XQ(b)),i.comments.push(y),cs(m,-1,"../comments"+c+"."+n,Wn.CMNT),v=!0}p["!legacy"]&&v&&pn(o,"xl/drawings/vmlDrawing"+c+".vml",YQ(c,p["!comments"])),delete p["!comments"],delete p["!legacy"]}m["!id"].rId1&&pn(o,TQ(l),zp(m))}return r.Strings!=null&&r.Strings.length>0&&(l="xl/sharedStrings."+n,pn(o,l,HQ(r.Strings,r)),i.strs.push(l),cs(r.wbrels,-1,"sharedStrings."+n,Wn.SST)),l="xl/workbook."+n,pn(o,l,u9(t)),i.workbooks.push(l),cs(r.rels,1,l,Wn.WB),l="xl/theme/theme1.xml",pn(o,l,WQ(t.Themes,r)),i.themes.push(l),cs(r.wbrels,-1,"theme/theme1.xml",Wn.THEME),l="xl/styles."+n,pn(o,l,zQ(t,r)),i.styles.push(l),cs(r.wbrels,-1,"styles."+n,Wn.STY),t.vbaraw&&a&&(l="xl/vbaProject.bin",pn(o,l,t.vbaraw),i.vba.push(l),cs(r.wbrels,-1,"vbaProject.bin",Wn.VBA)),l="xl/metadata."+n,pn(o,l,qQ()),i.metadata.push(l),cs(r.wbrels,-1,"metadata."+n,Wn.XLMETA),A.length>1&&(l="xl/persons/person.xml",pn(o,l,Pge(A)),i.people.push(l),cs(r.wbrels,-1,"persons/person.xml",Wn.PEOPLE)),pn(o,"[Content_Types].xml",EQ(i,r)),pn(o,"_rels/.rels",zp(r.rels)),pn(o,"xl/_rels/workbook."+n+".rels",zp(r.wbrels)),delete r.revssf,delete r.ssf,o}function nbe(t,r){var n="";switch((r||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=Cf(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(r&&r.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function g9(t,r){switch(r.type){case"base64":case"binary":break;case"buffer":case"array":r.type="";break;case"file":return vv(r.file,js.write(t,{type:es?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+r.bookType+"' files");default:throw new Error("Unrecognized type "+r.type)}return js.write(t,r)}function sbe(t,r){var n=Ol(r||{}),a=ebe(t,n);return abe(a,n)}function abe(t,r){var n={},a=es?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(r.compression&&(n.compression="DEFLATE"),r.password)n.type=a;else switch(r.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+r.bookType+"' files");case"buffer":case"file":n.type=a;break;default:throw new Error("Unrecognized type "+r.type)}var i=t.FullPaths?js.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!r.compression}):t.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(r.type=="binary"||r.type=="base64")return i;i=new Uint8Array(Cw(i))}return r.password&&typeof encrypt_agile<"u"?g9(encrypt_agile(i,r.password),r):r.type==="file"?vv(r.file,i):r.type=="string"?ny(i):i}function ibe(t,r){var n=r||{},a=w1e(t,n);return g9(a,n)}function Xd(t,r,n){n||(n="");var a=n+t;switch(r.type){case"base64":return My(Qy(a));case"binary":return Qy(a);case"string":return t;case"file":return vv(r.file,a,"utf8");case"buffer":return es?Df(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):Xd(a,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+r.type)}function obe(t,r){switch(r.type){case"base64":return My(t);case"binary":return t;case"string":return t;case"file":return vv(r.file,t,"binary");case"buffer":return es?Df(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+r.type)}function $1(t,r){switch(r.type){case"string":case"base64":case"binary":for(var n="",a=0;a<t.length;++a)n+=String.fromCharCode(t[a]);return r.type=="base64"?My(n):r.type=="string"?ny(n):n;case"file":return vv(r.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+r.type)}}function x9(t,r){Dme(),zve(t);var n=Ol(r||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var a=x9(t,n);return n.type="array",Cw(a)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=t.SheetNames.indexOf(n.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return Xd(v1e(t,n),n);case"slk":case"sylk":return Xd($pe.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"htm":case"html":return Xd(f9(t.Sheets[t.SheetNames[i]],n),n);case"txt":return obe(y9(t.Sheets[t.SheetNames[i]],n),n);case"csv":return Xd(eE(t.Sheets[t.SheetNames[i]],n),n,"\uFEFF");case"dif":return Xd(Kpe.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"dbf":return $1(Hpe.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"prn":return Xd(Vpe.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"rtf":return Xd(Jpe.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"eth":return Xd(QQ.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"fods":return Xd(p9(t,n),n);case"wk1":return $1(VP.sheet_to_wk1(t.Sheets[t.SheetNames[i]],n),n);case"wk3":return $1(VP.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),$1(A9(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),ibe(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return sbe(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function lbe(t){if(!t.bookType){var r={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=r[t.bookType]||t.bookType}}function cbe(t,r,n){var a={};return a.type="file",a.file=r,lbe(a),x9(t,a)}function ube(t,r,n,a,i,o,l,c){var u=io(n),f=c.defval,A=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),m=!0,p=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:n,enumerable:!1})}catch{p.__rowNum__=n}else p.__rowNum__=n;if(!l||t[n])for(var g=r.s.c;g<=r.e.c;++g){var b=l?t[n][g]:t[a[g]+u];if(b===void 0||b.t===void 0){if(f===void 0)continue;o[g]!=null&&(p[o[g]]=f);continue}var v=b.v;switch(b.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(o[g]!=null){if(v==null)if(b.t=="e"&&v===null)p[o[g]]=null;else if(f!==void 0)p[o[g]]=f;else if(A&&v===null)p[o[g]]=null;else continue;else p[o[g]]=A&&(b.t!=="n"||b.t==="n"&&c.rawNumbers!==!1)?v:Sf(b,v,c);v!=null&&(m=!1)}}return{row:p,isempty:m}}function v2(t,r){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},a=0,i=1,o=[],l=0,c="",u={s:{r:0,c:0},e:{r:0,c:0}},f=r||{},A=f.range!=null?f.range:t["!ref"];switch(f.header===1?a=1:f.header==="A"?a=2:Array.isArray(f.header)?a=3:f.header==null&&(a=0),typeof A){case"string":u=ta(A);break;case"number":u=ta(t["!ref"]),u.s.r=A;break;default:u=A}a>0&&(i=0);var m=io(u.s.r),p=[],g=[],b=0,v=0,y=Array.isArray(t),j=u.s.r,C=0,S={};y&&!t[j]&&(t[j]=[]);var E=f.skipHidden&&t["!cols"]||[],D=f.skipHidden&&t["!rows"]||[];for(C=u.s.c;C<=u.e.c;++C)if(!(E[C]||{}).hidden)switch(p[C]=Do(C),n=y?t[j][C]:t[p[C]+m],a){case 1:o[C]=C-u.s.c;break;case 2:o[C]=p[C];break;case 3:o[C]=f.header[C-u.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=l=Sf(n,null,f),v=S[l]||0,!v)S[l]=1;else{do c=l+"_"+v++;while(S[c]);S[l]=v,S[c]=1}o[C]=c}for(j=u.s.r+i;j<=u.e.r;++j)if(!(D[j]||{}).hidden){var k=ube(t,u,j,p,a,o,y,f);(k.isempty===!1||(a===1?f.blankrows!==!1:f.blankrows))&&(g[b++]=k.row)}return g.length=b,g}var ZP=/"/g;function dbe(t,r,n,a,i,o,l,c){for(var u=!0,f=[],A="",m=io(n),p=r.s.c;p<=r.e.c;++p)if(a[p]){var g=c.dense?(t[n]||[])[p]:t[a[p]+m];if(g==null)A="";else if(g.v!=null){u=!1,A=""+(c.rawNumbers&&g.t=="n"?g.v:Sf(g,null,c));for(var b=0,v=0;b!==A.length;++b)if((v=A.charCodeAt(b))===i||v===o||v===34||c.forceQuotes){A='"'+A.replace(ZP,'""')+'"';break}A=="ID"&&(A='"ID"')}else g.f!=null&&!g.F?(u=!1,A="="+g.f,A.indexOf(",")>=0&&(A='"'+A.replace(ZP,'""')+'"')):A="";f.push(A)}return c.blankrows===!1&&u?null:f.join(l)}function eE(t,r){var n=[],a=r??{};if(t==null||t["!ref"]==null)return"";var i=ta(t["!ref"]),o=a.FS!==void 0?a.FS:",",l=o.charCodeAt(0),c=a.RS!==void 0?a.RS:`
`,u=c.charCodeAt(0),f=new RegExp((o=="|"?"\\|":o)+"+$"),A="",m=[];a.dense=Array.isArray(t);for(var p=a.skipHidden&&t["!cols"]||[],g=a.skipHidden&&t["!rows"]||[],b=i.s.c;b<=i.e.c;++b)(p[b]||{}).hidden||(m[b]=Do(b));for(var v=0,y=i.s.r;y<=i.e.r;++y)(g[y]||{}).hidden||(A=dbe(t,i,y,m,l,u,o,a),A!=null&&(a.strip&&(A=A.replace(f,"")),(A||a.blankrows!==!1)&&n.push((v++?c:"")+A)));return delete a.dense,n.join("")}function y9(t,r){r||(r={}),r.FS="	",r.RS=`
`;var n=eE(t,r);return n}function Abe(t){var r="",n,a="";if(t==null||t["!ref"]==null)return[];var i=ta(t["!ref"]),o="",l=[],c,u=[],f=Array.isArray(t);for(c=i.s.c;c<=i.e.c;++c)l[c]=Do(c);for(var A=i.s.r;A<=i.e.r;++A)for(o=io(A),c=i.s.c;c<=i.e.c;++c)if(r=l[c]+o,n=f?(t[A]||[])[c]:t[r],a="",n!==void 0){if(n.F!=null){if(r=n.F,!n.f)continue;a=n.f,r.indexOf(":")==-1&&(r=r+":"+r)}if(n.f!=null)a=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)a=""+n.v;else if(n.t=="b")a=n.v?"TRUE":"FALSE";else if(n.w!==void 0)a="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?a="'"+n.v:a=""+n.v}}u[u.length]=r+"="+a}return u}function v9(t,r,n){var a=n||{},i=+!a.skipHeader,o=t||{},l=0,c=0;if(o&&a.origin!=null)if(typeof a.origin=="number")l=a.origin;else{var u=typeof a.origin=="string"?Qi(a.origin):a.origin;l=u.r,c=u.c}var f,A={s:{c:0,r:0},e:{c,r:l+r.length-1+i}};if(o["!ref"]){var m=ta(o["!ref"]);A.e.c=Math.max(A.e.c,m.e.c),A.e.r=Math.max(A.e.r,m.e.r),l==-1&&(l=m.e.r+1,A.e.r=l+r.length-1+i)}else l==-1&&(l=0,A.e.r=r.length-1+i);var p=a.header||[],g=0;r.forEach(function(v,y){lo(v).forEach(function(j){(g=p.indexOf(j))==-1&&(p[g=p.length]=j);var C=v[j],S="z",E="",D=fs({c:c+g,r:l+y+i});f=Ky(o,D),C&&typeof C=="object"&&!(C instanceof Date)?o[D]=C:(typeof C=="number"?S="n":typeof C=="boolean"?S="b":typeof C=="string"?S="s":C instanceof Date?(S="d",a.cellDates||(S="n",C=Dl(C)),E=a.dateNF||Fa[14]):C===null&&a.nullError&&(S="e",C=0),f?(f.t=S,f.v=C,delete f.w,delete f.R,E&&(f.z=E)):o[D]=f={t:S,v:C},E&&(f.z=E))})}),A.e.c=Math.max(A.e.c,c+p.length-1);var b=io(l);if(i)for(g=0;g<p.length;++g)o[Do(g+c)+b]={t:"s",v:p[g]};return o["!ref"]=ti(A),o}function fbe(t,r){return v9(null,t,r)}function Ky(t,r,n){if(typeof r=="string"){if(Array.isArray(t)){var a=Qi(r);return t[a.r]||(t[a.r]=[]),t[a.r][a.c]||(t[a.r][a.c]={t:"z"})}return t[r]||(t[r]={t:"z"})}return typeof r!="number"?Ky(t,fs(r)):Ky(t,fs({r,c:n||0}))}function hbe(t,r){if(typeof r=="number"){if(r>=0&&t.SheetNames.length>r)return r;throw new Error("Cannot find sheet # "+r)}else if(typeof r=="string"){var n=t.SheetNames.indexOf(r);if(n>-1)return n;throw new Error("Cannot find sheet name |"+r+"|")}else throw new Error("Cannot find sheet |"+r+"|")}function mbe(){return{SheetNames:[],Sheets:{}}}function pbe(t,r,n,a){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&t.SheetNames.indexOf(n)>=0){var o=n.match(/(^.*?)(\d+)$/);i=o&&+o[2]||0;var l=o&&o[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=l+i)!=-1;++i);}if(c9(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=r,n}function gbe(t,r,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var a=hbe(t,r);switch(t.Workbook.Sheets[a]||(t.Workbook.Sheets[a]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[a].Hidden=n}function xbe(t,r){return t.z=r,t}function b9(t,r,n){return r?(t.l={Target:r},n&&(t.l.Tooltip=n)):delete t.l,t}function ybe(t,r,n){return b9(t,"#"+r,n)}function vbe(t,r,n){t.c||(t.c=[]),t.c.push({t:r,a:n||"SheetJS"})}function bbe(t,r,n,a){for(var i=typeof r!="string"?r:ta(r),o=typeof r=="string"?r:ti(r),l=i.s.r;l<=i.e.r;++l)for(var c=i.s.c;c<=i.e.c;++c){var u=Ky(t,l,c);u.t="n",u.F=o,delete u.v,l==i.s.r&&c==i.s.c&&(u.f=n,a&&(u.D=!0))}return t}var YN={encode_col:Do,encode_row:io,encode_cell:fs,encode_range:ti,decode_col:$B,decode_row:HB,split_cell:D0e,decode_cell:Qi,decode_range:yc,format_cell:Sf,sheet_add_aoa:bQ,sheet_add_json:v9,sheet_add_dom:h9,aoa_to_sheet:Cg,json_to_sheet:fbe,table_to_sheet:m9,table_to_book:K1e,sheet_to_csv:eE,sheet_to_txt:y9,sheet_to_json:v2,sheet_to_html:f9,sheet_to_formulae:Abe,sheet_to_row_object_array:v2,sheet_get_cell:Ky,book_new:mbe,book_append_sheet:pbe,book_set_sheet_visibility:gbe,cell_set_number_format:xbe,cell_set_hyperlink:b9,cell_set_internal_link:ybe,cell_add_comment:vbe,sheet_set_array_formula:bbe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const wbe="https://vidyaastra.com/api/schools/pricing",jbe="https://vidyaastra.com/api/schools/pricing/save",XN="defaultPricingSettings",w9=()=>{const[t,r]=w.useState(0),[n,a]=w.useState(0),[i,o]=w.useState(0),[l,c]=w.useState(null),[u,f]=w.useState(""),[A,m]=w.useState(""),[p,g]=w.useState(!1);w.useEffect(()=>{(async()=>{try{g(!0);const C=await Ft.get(wbe),{perStudentPrice:S,serviceCharge:E,gstServiceCharge:D}=C.data.data||{},k={perStudentPrice:S||1e3,serviceCharge:E||5,gstServiceCharge:D||18};c(k),r(k.perStudentPrice),a(k.serviceCharge),o(k.gstServiceCharge)}catch{const S=localStorage.getItem(XN);if(S){const E=JSON.parse(S);c(E),r(E.perStudentPrice||1e3),a(E.serviceCharge||5),o(E.gstServiceCharge||18)}else c({perStudentPrice:1e3,serviceCharge:5,gstServiceCharge:18}),r(1e3),a(5),o(18);f("Failed to fetch pricing data. Using local defaults.")}finally{g(!1)}})()},[]);const b=()=>isNaN(t)||t<0?"Per Student Price must be a non-negative number.":isNaN(n)||n<0||n>100?"Service Charge must be a number between 0 and 100.":isNaN(i)||i<0||i>100?"GST Charge must be a number between 0 and 100.":"",v=async()=>{f(""),m(""),g(!0);const j=b();if(j){f(j),g(!1);return}const C={perStudentPrice:t,serviceCharge:n,gstServiceCharge:i};localStorage.setItem(XN,JSON.stringify(C));try{(await Ft.post(jbe,C)).data.success&&(c(C),m("Pricing settings saved successfully!"),setTimeout(()=>m(""),3e3))}catch(S){f(S?.response?.data?.message||"Failed to save to backend. Saved locally.")}finally{g(!1)}},y=()=>{const j={perStudentPrice:1e3,serviceCharge:5,gstServiceCharge:18};r(1e3),a(5),o(18),c(j),f(""),m("Settings reset to defaults."),setTimeout(()=>m(""),3e3),localStorage.setItem(XN,JSON.stringify(j))};return s.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans",children:[s.jsxs("div",{className:"bg-[#1C1444] text-white p-6 shadow-lg",children:[s.jsx("div",{className:"container mx-auto flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Hx,{className:"w-6 h-6 text-[#F37021]"}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Default Pricing Settings"})]})}),s.jsx("p",{className:"container mx-auto text-[#F37021] mt-2",children:"Configure and view default pricing for new schools"})]}),u&&s.jsx("div",{className:"container mx-auto mt-6 p-4 bg-red-50 text-red-700 rounded-lg shadow-sm",children:u}),A&&s.jsx("div",{className:"container mx-auto mt-6 p-4 bg-green-50 text-green-700 rounded-lg shadow-sm",children:A}),s.jsxs("div",{className:"container mx-auto p-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 mb-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-[#1C1444] mb-4 flex items-center",children:[s.jsx(Hx,{className:"w-5 h-5 mr-2 text-[#F37021]"}),"Current Pricing Data"]}),p?s.jsx("p",{className:"text-[#1C1444]",children:"Loading pricing data..."}):l?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm text-[#1C1444]",children:[s.jsx(pC,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"Per Student Price: ₹",l.perStudentPrice]}),s.jsxs("p",{className:"text-sm text-[#1C1444]",children:[s.jsx(A1,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"Service Charge: ",l.serviceCharge,"%"]}),s.jsxs("p",{className:"text-sm text-[#1C1444]",children:[s.jsx(A1,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"GST Charge: ",l.gstServiceCharge,"%"]})]}):s.jsx("p",{className:"text-sm text-[#1C1444]",children:"No pricing data available."})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("h2",{className:"text-lg font-semibold text-[#1C1444] mb-4 flex items-center",children:[s.jsx(Hx,{className:"w-5 h-5 mr-2 text-[#F37021]"}),"Update Pricing Settings"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-[#1C1444] flex items-center mb-2",children:[s.jsx(pC,{className:"w-5 h-5 mr-2 text-[#F37021]"}),"Per Student Price (₹)"]}),s.jsx("input",{type:"number",value:t,onChange:j=>r(Number(j.target.value)),placeholder:"Enter price per student (e.g., 1000)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F37021] text-[#1C1444] transition-colors",required:!0,min:"0",step:"1"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-[#1C1444] flex items-center mb-2",children:[s.jsx(A1,{className:"w-5 h-5 mr-2 text-[#F37021]"}),"Service Charge (%)"]}),s.jsx("input",{type:"number",value:n,onChange:j=>a(Number(j.target.value)),placeholder:"Enter service charge percentage (e.g., 5)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F37021] text-[#1C1444] transition-colors",required:!0,min:"0",max:"100",step:"0.1"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-[#1C1444] flex items-center mb-2",children:[s.jsx(A1,{className:"w-5 h-5 mr-2 text-[#F37021]"}),"GST Charge (%)"]}),s.jsx("input",{type:"number",value:i,onChange:j=>o(Number(j.target.value)),placeholder:"Enter GST percentage (e.g., 18)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F37021] text-[#1C1444] transition-colors",required:!0,min:"0",max:"100",step:"0.1"})]}),s.jsxs("div",{className:"flex space-x-4 pt-4",children:[s.jsxs("button",{type:"button",onClick:y,className:"flex-1 py-2 px-4 bg-gray-100 text-[#1C1444] rounded-lg hover:bg-gray-200 flex items-center justify-center space-x-2 transition-colors disabled:opacity-50",disabled:p,children:[s.jsx(Qh,{className:"w-4 h-4 text-[#F37021]"}),s.jsx("span",{children:"Reset Defaults"})]}),s.jsxs("button",{type:"button",onClick:v,className:"flex-1 py-2 px-4 bg-[#F37021] text-white rounded-lg hover:bg-[#d65f1c] flex items-center justify-center space-x-2 transition-colors disabled:opacity-50",disabled:p,children:[s.jsx(Ro,{className:"w-4 h-4 text-white"}),s.jsx("span",{children:p?"Saving...":"Save Defaults"})]})]})]})]})]})]})},ly="https://vidyaastra.com/api/schools",Nbe="https://vidyaastra.com/api/schools/pricing",JN=ly.substring(0,ly.lastIndexOf("/")),Cbe=["Online","Cash","Cheque","Bank Transfer","UPI","NEFT","RTGS"],Sbe=()=>{const[t,r]=w.useState([]),[n,a]=w.useState(""),[i,o]=w.useState(!1),[l,c]=w.useState(!1),[u,f]=w.useState(!1),[A,m]=w.useState(!1),[p,g]=w.useState(null),[b,v]=w.useState(null),[y,j]=w.useState(""),[C,S]=w.useState(!0),[E,D]=w.useState({perStudentPrice:0,serviceCharge:0,gstServiceCharge:0}),[k,L]=w.useState({name:"",address:"",email:"",phone:"",password:"",color:"#000000",adminNumber:"",headDepartmentNumber:"",adminName:"",adminEmail:"",adminContact:"",perStudentPrice:"",totalStudent:1,serviceCharge:"",gstServiceCharge:"",totalPayAmount:"",paymentMode:"Online",managementApproved:!1,remarks:""}),[I,Y]=w.useState(null),[Q,H]=w.useState(null),[U,K]=w.useState("");w.useEffect(()=>{X(),Z()},[]);const X=async()=>{try{const V=await Ft.get(`${ly}`);r(V.data.data),K("")}catch(V){K(V?.response?.data?.message||"Failed to fetch schools")}},Z=async()=>{try{const V=await Ft.get(Nbe),ie={perStudentPrice:V.data.data.perStudentPrice||0,serviceCharge:V.data.data.serviceCharge||0,gstServiceCharge:V.data.data.gstServiceCharge||0};D(ie),L(pe=>({...pe,perStudentPrice:ie.perStudentPrice.toString(),serviceCharge:ie.serviceCharge.toString(),gstServiceCharge:ie.gstServiceCharge.toString(),totalPayAmount:ee(ie.perStudentPrice,ie.serviceCharge,ie.gstServiceCharge,pe.totalStudent)}))}catch(V){K(V?.response?.data?.message||"Failed to fetch default pricing")}},ee=(V,ie,pe,ye)=>{const ge=parseFloat(V)||0,le=parseFloat(ie)||0,Qe=parseFloat(pe)||0,ce=parseInt(ye)||1,se=ge*ce+le,je=se*Qe/100;return(se+je).toFixed(2)},de=V=>{const ie=V.target.files[0];if(Y(ie),ie){const pe=URL.createObjectURL(ie);H(pe);const ye=new Image;ye.crossOrigin="anonymous",ye.src=pe,ye.onload=()=>{const ge=new _me;try{const[le,Qe,ce]=ge.getColor(ye),se=`rgb(${le}, ${Qe}, ${ce})`;L(je=>({...je,color:se}))}catch(le){console.error("Color extraction failed:",le)}}}else H(null)},Ne=(V=null)=>{if(g(V),V){const ie=ee(V.perStudentPrice,V.serviceCharge,V.gstServiceCharge,V.totalStudent);L({name:V?.name||"",address:V?.address||"",email:V?.email||"",phone:V?.phone||"",password:"",color:V?.color||"#000000",adminNumber:V?.adminNumber||"",headDepartmentNumber:V?.headDepartmentNumber||"",adminName:V?.adminName||"",adminEmail:V?.adminEmail||"",adminContact:V?.adminContact||"",perStudentPrice:V?.perStudentPrice?.toString()||"",totalStudent:V?.totalStudent||1,serviceCharge:V?.serviceCharge?.toString()||"",gstServiceCharge:V?.gstServiceCharge?.toString()||"",totalPayAmount:ie,paymentMode:V?.paymentMode||"Online",managementApproved:V?.managementApproved||!1,remarks:V?.remarks||""}),H(V?.logoUrl?`https://schoolnewbackend.onrender.com${V.logoUrl}`:null)}else L({name:"",address:"",email:"",phone:"",password:"",color:"#000000",adminNumber:"",headDepartmentNumber:"",adminName:"",adminEmail:"",adminContact:"",perStudentPrice:E.perStudentPrice.toString(),totalStudent:1,serviceCharge:E.serviceCharge.toString(),gstServiceCharge:E.gstServiceCharge.toString(),totalPayAmount:ee(E.perStudentPrice,E.serviceCharge,E.gstServiceCharge,1),paymentMode:"Online",managementApproved:!1,remarks:""}),H(null);Y(null),K(""),o(!0)},Se=()=>{o(!1),g(null),Y(null),H(null),K("")},ue=V=>{v(V),Y(null),H(V?.logoUrl?`https://schoolnewbackend.onrender.com${V.logoUrl}`:null),K(""),c(!0)},xe=()=>{c(!1),v(null),Y(null),H(null),K("")},R=async V=>{try{const ie=JSON.parse(localStorage.getItem("schoolsExcelData")||"[]"),pe={...V,dateAdded:new Date().toISOString(),id:V._id||Date.now().toString()},ye=[...ie,pe];localStorage.setItem("schoolsExcelData",JSON.stringify(ye))}catch(ie){console.error("Failed to save to local storage:",ie)}},G=async V=>{V.preventDefault(),K("");const ie=k.perStudentPrice.trim()!==""?parseFloat(k.perStudentPrice):void 0,pe=k.serviceCharge.trim()!==""?parseFloat(k.serviceCharge):void 0,ye=k.gstServiceCharge.trim()!==""?parseFloat(k.gstServiceCharge):void 0,ge=k.totalStudent.toString().trim()!==""?parseInt(k.totalStudent,10):void 0;if(!p){if(ie===void 0||isNaN(ie)){K("Per student price is required");return}if(pe===void 0||isNaN(pe)){K("Service charge is required");return}if(ye===void 0||isNaN(ye)){K("GST service charge is required");return}if(ge===void 0||isNaN(ge)){K("Total students is required");return}}ee(ie!==void 0?ie:E.perStudentPrice,pe!==void 0?pe:E.serviceCharge,ye!==void 0?ye:E.gstServiceCharge,ge!==void 0?ge:1);const le=new FormData;le.append("name",k.name),le.append("address",k.address),le.append("email",k.email),le.append("phone",k.phone),le.append("adminNumber",k.adminNumber),le.append("headDepartmentNumber",k.headDepartmentNumber),le.append("adminName",k.adminName),le.append("adminEmail",k.adminEmail),le.append("adminContact",k.adminContact),ie!==void 0&&le.append("perStudentPrice",ie.toFixed(2)),ge!==void 0&&le.append("totalStudent",ge.toString()),pe!==void 0&&le.append("serviceCharge",pe.toFixed(2)),ye!==void 0&&le.append("gstServiceCharge",ye.toFixed(2)),le.append("paymentMode",k.paymentMode),le.append("managementApproved",k.managementApproved.toString()),le.append("remarks",k.remarks),k.password&&le.append("password",k.password),le.append("color",k.color),I&&le.append("logo",I);try{let Qe;if(p){if(!I&&!Q){K("Logo is required");return}Qe=await Ft.put(`${ly}/logo/${p._id}`,le,{headers:{"Content-Type":"multipart/form-data"}})}else{if(!I){K("Logo is required for new schools");return}Qe=await Ft.post(`${JN}/schools/logo`,le,{headers:{"Content-Type":"multipart/form-data"}})}await R(Qe.data.data),Se(),X()}catch(Qe){K(Qe?.response?.data?.message||"Failed to save school")}},ne=async V=>{if(V.preventDefault(),K(""),!I){K("Please select a logo file");return}const ie=new FormData;ie.append("logo",I);try{await Ft.put(`${JN}/schools/logos/${b._id}`,ie,{headers:{"Content-Type":"multipart/form-data"}}),xe(),X()}catch(pe){K(pe?.response?.data?.message||"Failed to upload logo")}},ae=async()=>{if(window.confirm("Are you sure you want to delete this logo?"))try{await Ft.delete(`${JN}/schools/logos/${b._id}`),xe(),X()}catch(V){K(V?.response?.data?.message||"Failed to delete logo")}},oe=async V=>{if(window.confirm("Are you sure you want to delete this school?"))try{await Ft.delete(`${ly}/${V}`),X()}catch(ie){K(ie?.response?.data?.message||"Failed to delete school")}},he=()=>{if(!y){K("Password is required for export");return}if(y!=="admin123"){K("Invalid password");return}try{const V=te.map(Qe=>({"School Name":Qe.name,"School Code":Qe.schoolCode||"N/A",Address:Qe.address||"N/A",Email:Qe.email,Phone:Qe.phone||"N/A","Admin Number":Qe.adminNumber||"N/A","Head Dept Number":Qe.headDepartmentNumber||"N/A","Admin Name":Qe.adminName||"N/A","Admin Email":Qe.adminEmail||"N/A","Admin Contact":Qe.adminContact||"N/A","Total Students":Qe.totalStudent||"N/A","Per Student Price":`₹${Qe.perStudentPrice}`,"Service Charge":`₹${Qe.serviceCharge}`,"GST Service Charge":`${Qe.gstServiceCharge}%`,"Total Pay Amount":`₹${Qe.totalPayAmount||"N/A"}`,"Payment Mode":Qe.paymentMode,"Management Approved":Qe.managementApproved?"Yes":"No",Remarks:Qe.remarks||"N/A","Subscription Duration":Qe.duration?new Date(Qe.duration).toLocaleDateString():"N/A",Color:Qe.color,"Date Added":new Date(Qe.createdAt||Date.now()).toLocaleDateString()})),ie=`schools_${new Date().toISOString().split("T")[0]}.xlsx`,pe=YN.json_to_sheet(V),ye=YN.book_new();YN.book_append_sheet(ye,pe,"Schools");const ge=[];Object.keys(V[0]||{}).forEach((Qe,ce)=>{const se=Math.max(Qe.length,...V.map(je=>String(je[Qe]||"").length));ge[ce]={width:Math.min(se+2,50)}}),pe["!cols"]=ge,cbe(ye,ie),f(!1),j(""),K("")}catch{K("Failed to export data")}},me=(V,ie)=>{L(pe=>{const ye={...pe,[V]:ie},ge=ee(ye.perStudentPrice,ye.serviceCharge,ye.gstServiceCharge,ye.totalStudent);return{...ye,totalPayAmount:ge}})},te=t.filter(V=>V.name.toLowerCase().includes(n.toLowerCase())),Ae=V=>V?`https://schoolnewbackend.onrender.com${V.startsWith("/")?V:`/${V}`}`:null;return s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#1C1444]/5 to-white",children:[s.jsxs("div",{className:"bg-[#1C1444]  text-white p-6 sm:p-8 rounded-b-3xl shadow-2xl",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between max-w-5xl mx-auto",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4 sm:mb-0",children:[s.jsx(Ma,{className:"w-8 h-8"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold tracking-tight",children:"School Management System"}),C&&s.jsxs("span",{className:"bg-[#F37021]/20 text-[#F37021] px-3 py-1 rounded-full text-sm font-semibold flex items-center",children:[s.jsx(gb,{className:"w-4 h-4 inline mr-1"}),"Super Admin"]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:()=>m(!0),className:"p-3 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200",title:"Manage Default Pricing",children:s.jsx(Hx,{className:"w-6 h-6"})}),s.jsx("button",{onClick:()=>f(!0),className:"p-3 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200",title:"Export Data",children:s.jsx(Cs,{className:"w-6 h-6"})}),s.jsx("button",{onClick:()=>Ne(),className:"p-3 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200",title:"Add New School",children:s.jsx($s,{className:"w-6 h-6"})})]})]}),s.jsx("p",{className:"text-white/80 mt-3 max-w-5xl mx-auto text-center sm:text-left",children:"Streamline school administration and payment processes"})]}),s.jsxs("div",{className:"p-4 sm:p-8 max-w-5xl mx-auto",children:[s.jsxs("div",{className:"mb-8 relative",children:[s.jsx(xn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-[#1C1444]/60 w-6 h-6"}),s.jsx("input",{type:"text",placeholder:"Search schools by name...",value:n,onChange:V=>a(V.target.value),className:"w-full sm:max-w-lg pl-12 pr-4 py-4 border border-[#1C1444]/20 rounded-xl focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200"})]}),U&&s.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-xl mb-6 flex items-center shadow-sm transition-all duration-200",children:[s.jsx(sr,{className:"w-5 h-5 mr-2"}),U]}),s.jsx("div",{className:"grid grid-cols-1 gap-6",children:te.length===0?s.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-sm",children:[s.jsx(Ma,{className:"w-20 h-20 mx-auto text-[#1C1444]/60 mb-4 transition-transform duration-200 hover:scale-110"}),s.jsx("p",{className:"text-[#1C1444] text-lg font-medium",children:n?"No schools match your search":"No schools registered"}),!n&&s.jsx("p",{className:"text-[#1C1444]/80 mt-2",children:"Add your first school to get started!"})]}):te.map(V=>s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-300 border border-[#1C1444]/10 w-full",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4 sm:mb-0",children:[V.logoUrl?s.jsx("img",{src:Ae(V.logoUrl),alt:`${V.name} logo`,className:"w-16 h-16 object-contain rounded-full border border-[#1C1444]/20 transition-transform duration-200 hover:scale-105"}):s.jsx("div",{className:"w-16 h-16 bg-[#1C1444]/10 rounded-full flex items-center justify-center",children:s.jsx(y0,{className:"w-8 h-8 text-[#1C1444]/60"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-[#1C1444]",children:V.name}),s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx("div",{className:"w-5 h-5 rounded-full border",style:{backgroundColor:V.color}}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${V.managementApproved?"bg-green-100 text-green-800":"bg-[#F37021]/10 text-[#F37021]"}`,children:V.managementApproved?"Approved":"Pending"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>ue(V),className:"p-2 text-[#F37021] hover:bg-[#F37021]/10 rounded-lg transition-all duration-200",title:"Update Logo",children:s.jsx(kG,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>Ne(V),className:"p-2 text-[#F37021] hover:bg-[#F37021]/10 rounded-lg transition-all duration-200",title:"Edit School",children:s.jsx(Lo,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>oe(V._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200",title:"Delete School",children:s.jsx(Ss,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center text-[#1C1444]/80",children:[s.jsx(CG,{className:"w-5 h-5 mr-3 text-[#F37021]"}),s.jsx("span",{className:"text-sm font-semibold",children:"Code:"}),s.jsx("span",{className:"ml-2 text-sm",children:V.schoolCode||"N/A"})]}),s.jsxs("div",{className:"flex items-center text-[#1C1444]/80",children:[s.jsx(v0,{className:"w-5 h-5 mr-3 text-[#F37021]"}),s.jsx("span",{className:"text-sm",children:V.address||"N/A"})]}),s.jsxs("div",{className:"flex items-center text-[#1C1444]/80",children:[s.jsx(Oh,{className:"w-5 h-5 mr-3 text-[#F37021]"}),s.jsx("span",{className:"text-sm",children:V.email})]}),s.jsxs("div",{className:"flex items-center text-[#1C1444]/80",children:[s.jsx(xf,{className:"w-5 h-5 mr-3 text-[#F37021]"}),s.jsx("span",{className:"text-sm",children:V.phone||"N/A"})]}),s.jsxs("div",{className:"flex items-center text-[#1C1444]/80",children:[s.jsx(r6,{className:"w-5 h-5 mr-3 text-[#F37021]"}),s.jsx("span",{className:"text-sm",children:V.remarks||"No remarks"})]})]}),s.jsx("div",{className:"mt-4 p-4 bg-[#1C1444]/5 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[s.jsx(Jr,{className:"w-5 h-5 mr-2 text-[#F37021]"}),s.jsx("span",{className:"text-sm font-medium",children:"Students:"}),s.jsx("span",{className:"ml-2 text-sm",children:V.totalStudent||"N/A"})]}),s.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[s.jsx(id,{className:"w-5 h-5 mr-2 text-[#F37021]"}),s.jsx("span",{className:"text-sm font-medium",children:"Per Student:"}),s.jsxs("span",{className:"ml-2 text-sm",children:["₹",parseFloat(V.perStudentPrice).toFixed(2)]})]}),s.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[s.jsx(id,{className:"w-5 h-5 mr-2 text-[#F37021]"}),s.jsx("span",{className:"text-sm font-medium",children:"Service:"}),s.jsxs("span",{className:"ml-2 text-sm",children:["₹",parseFloat(V.serviceCharge).toFixed(2)]})]}),s.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[s.jsx(FG,{className:"w-5 h-5 mr-2 text-[#F37021]"}),s.jsx("span",{className:"text-sm font-medium",children:"GST:"}),s.jsxs("span",{className:"ml-2 text-sm",children:[parseFloat(V.gstServiceCharge).toFixed(2),"%"]})]}),s.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[s.jsx(id,{className:"w-5 h-5 mr-2 text-[#F37021]"}),s.jsx("span",{className:"text-sm font-medium",children:"Total:"}),s.jsxs("span",{className:"ml-2 text-sm",children:["₹",parseFloat(V.totalPayAmount).toFixed(2)]})]}),s.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[s.jsx(Ch,{className:"w-5 h-5 mr-2 text-[#F37021]"}),s.jsx("span",{className:"text-sm font-medium",children:"Payment:"}),s.jsx("span",{className:"ml-2 text-sm",children:V.paymentMode})]})]})})]},V._id))})]}),i&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-all duration-300",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl transform transition-all duration-300 scale-100",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 sm:p-8 border-b border-[#1C1444]/10",children:[s.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-[#1C1444] flex items-center",children:[s.jsx(Ma,{className:"w-7 h-7 mr-3 text-[#F37021]"}),p?"Edit School":"Add New School"]}),s.jsx("button",{onClick:Se,className:"text-[#1C1444]/60 hover:text-[#1C1444] p-2 rounded-full hover:bg-[#1C1444]/10 transition-all duration-200",children:s.jsx(sr,{className:"w-6 h-6 sm:w-7 h-7"})})]}),s.jsxs("form",{onSubmit:G,className:"p-6 sm:p-8 space-y-8",encType:"multipart/form-data",children:[U&&s.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-xl text-sm flex items-center shadow-sm transition-all duration-200",children:[s.jsx(sr,{className:"w-5 h-5 mr-2"}),U]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-[#1C1444] flex items-center mb-4",children:[s.jsx(Ma,{className:"w-6 h-6 mr-2 text-[#F37021]"}),"School Details"]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"School Name"}),s.jsx("input",{type:"text",placeholder:"Enter school name",value:k.name,onChange:V=>L({...k,name:V.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"School Email Address"}),s.jsx("input",{type:"email",placeholder:"Enter school email (login)",value:k.email,onChange:V=>L({...k,email:V.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0}),U==="Email or admin email already registered"&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:"This school email is already registered."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"School Address"}),s.jsx("textarea",{placeholder:"Enter school address",value:k.address,onChange:V=>L({...k,address:V.target.value}),rows:"3",className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"School Primary Contact Number"}),s.jsx("input",{type:"tel",placeholder:"Enter contact number",value:k.phone,onChange:V=>L({...k,phone:V.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Password"}),s.jsx("input",{type:"password",placeholder:"Enter password",value:k.password,onChange:V=>L({...k,password:V.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!p})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-[#1C1444] flex items-center mb-4",children:[s.jsx(Jr,{className:"w-6 h-6 mr-2 text-[#F37021]"}),"Administrator Details"]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Administrator Name"}),s.jsx("input",{type:"text",placeholder:"Enter admin name",value:k.adminName,onChange:V=>L({...k,adminName:V.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Administrator Email"}),s.jsx("input",{type:"email",placeholder:"Enter admin email",value:k.adminEmail,onChange:V=>L({...k,adminEmail:V.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0}),U==="Email or admin email already registered"&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:"This admin email is already registered."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Administrator Unique Number"}),s.jsx("input",{type:"tel",placeholder:"Enter admin number",value:k.adminNumber,onChange:V=>L({...k,adminNumber:V.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0}),U==="Admin number already registered"&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:"This admin number is already registered."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Head Department Number"}),s.jsx("input",{type:"tel",placeholder:"Enter head dept number",value:k.headDepartmentNumber,onChange:V=>L({...k,headDepartmentNumber:V.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Administrator Contact Number"}),s.jsx("input",{type:"tel",placeholder:"Enter admin contact",value:k.adminContact,onChange:V=>L({...k,adminContact:V.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-[#1C1444] flex items-center mb-4",children:[s.jsx(id,{className:"w-6 h-6 mr-2 text-[#F37021]"}),"Pricing & Payment"]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Total Students"}),s.jsx("input",{type:"number",placeholder:"Enter number of students",value:k.totalStudent,onChange:V=>me("totalStudent",V.target.value),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0,min:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Per Student Price (₹)"}),s.jsx("input",{type:"number",step:"0.01",placeholder:"Enter per student price",value:k.perStudentPrice,onChange:V=>me("perStudentPrice",V.target.value),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0,min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Service Charge (₹)"}),s.jsx("input",{type:"number",step:"0.01",placeholder:"Enter service charge",value:k.serviceCharge,onChange:V=>me("serviceCharge",V.target.value),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0,min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"GST Service Charge (%)"}),s.jsx("input",{type:"number",step:"0.01",placeholder:"Enter GST percentage",value:k.gstServiceCharge,onChange:V=>me("gstServiceCharge",V.target.value),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0,min:"0",max:"100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Total Pay Amount (₹)"}),s.jsx("input",{type:"number",step:"0.01",value:k.totalPayAmount,readOnly:!0,className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg bg-[#1C1444]/5 cursor-not-allowed"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Payment Mode"}),s.jsx("select",{value:k.paymentMode,onChange:V=>L({...k,paymentMode:V.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0,children:Cbe.map(V=>s.jsx("option",{value:V,children:V},V))})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:"managementApproved",checked:k.managementApproved,onChange:V=>L({...k,managementApproved:V.target.checked}),className:"w-4 h-4 text-[#F37021] border-[#1C1444]/20 rounded focus:ring-[#F37021]"}),s.jsx("label",{htmlFor:"managementApproved",className:"text-sm font-medium text-[#1C1444]",children:"Management Approved"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-[#1C1444] flex items-center mb-4",children:[s.jsx(r6,{className:"w-6 h-6 mr-2 text-[#F37021]"}),"Remarks"]}),s.jsx("textarea",{placeholder:"Enter any remarks or notes",value:k.remarks,onChange:V=>L({...k,remarks:V.target.value}),rows:"4",className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-[#1C1444] flex items-center mb-4",children:[s.jsx(y0,{className:"w-6 h-6 mr-2 text-[#F37021]"}),"School Logo & Color"]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"logo",className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"School Logo"}),s.jsx("input",{type:"file",id:"logo",accept:"image/jpeg,image/jpg,image/png",onChange:de,className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!p}),Q&&s.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[s.jsx("img",{src:Q,alt:"Logo preview",className:"w-20 h-20 object-contain rounded-lg border border-[#1C1444]/20 transition-transform duration-200 hover:scale-105"}),s.jsx("p",{className:"text-sm text-[#1C1444]/80",children:I?`Selected: ${I.name}`:"Current logo"})]}),p&&!Q&&!I&&s.jsx("p",{className:"text-sm text-[#1C1444]/80 mt-2",children:"No new logo selected. Current logo will be retained."})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("label",{htmlFor:"color",className:"text-sm font-medium text-[#1C1444]",children:"School Color"}),s.jsx("input",{type:"color",id:"color",value:k.color,onChange:V=>L({...k,color:V.target.value}),className:"w-16 h-16 p-1 border border-[#1C1444]/20 rounded-lg cursor-pointer",required:!0})]})]})]}),s.jsxs("div",{className:"flex space-x-4 pt-6",children:[s.jsx("button",{type:"button",onClick:Se,className:"flex-1 px-6 py-3 border border-[#1C1444]/20 text-[#1C1444] rounded-lg hover:bg-[#1C1444]/10 transition-all duration-200",children:"Cancel"}),s.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-[#F37021] to-[#d55f1c] text-white rounded-lg hover:shadow-lg transition-all duration-200 flex items-center justify-center space-x-2",children:[s.jsx(Ro,{className:"w-5 h-5"}),s.jsx("span",{children:p?"Update":"Save"})]})]})]})]})}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-all duration-300",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl transform transition-all duration-300 scale-100",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-[#1C1444]/10",children:[s.jsx("h2",{className:"text-xl font-bold text-[#1C1444]",children:"Export Data"}),s.jsx("button",{onClick:()=>f(!1),className:"text-[#1C1444]/60 hover:text-[#1C1444] p-2 rounded-full hover:bg-[#1C1444]/10 transition-all duration-200",children:s.jsx(sr,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[U&&s.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-xl text-sm flex items-center shadow-sm transition-all duration-200",children:[s.jsx(sr,{className:"w-5 h-5 mr-2"}),U]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Export Type:"}),s.jsx("select",{value:"schools",disabled:!0,className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",children:s.jsx("option",{value:"schools",children:"Schools Data"})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:[s.jsx(N5,{className:"w-4 h-4 inline mr-1"}),"Export Password:"]}),s.jsx("input",{type:"password",placeholder:"Enter password to export",value:y,onChange:V=>j(V.target.value),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0}),s.jsx("p",{className:"text-xs text-[#1C1444]/80 mt-1",children:"Contact admin for export password"})]}),s.jsxs("div",{className:"flex space-x-4 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 px-6 py-3 border border-[#1C1444]/20 text-[#1C1444] rounded-lg hover:bg-[#1C1444]/10 transition-all duration-200",children:"Cancel"}),s.jsxs("button",{onClick:he,className:"flex-1 px-6 py-3 bg-gradient-to-r from-[#F37021] to-[#d55f1c] text-white rounded-lg hover:shadow-lg transition-all duration-200 flex items-center justify-center space-x-2",children:[s.jsx(Cs,{className:"w-5 h-5"}),s.jsx("span",{children:"Export Excel"})]})]})]})]})}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-all duration-300",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl transform transition-all duration-300 scale-100",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-[#1C1444]/10",children:[s.jsx("h2",{className:"text-xl font-bold text-[#1C1444]",children:"Update Logo"}),s.jsx("button",{onClick:xe,className:"text-[#1C1444]/60 hover:text-[#1C1444] p-2 rounded-full hover:bg-[#1C1444]/10 transition-all duration-200",children:s.jsx(sr,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:ne,className:"p-6 space-y-6",children:[U&&s.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-xl text-sm flex items-center shadow-sm transition-all duration-200",children:[s.jsx(sr,{className:"w-5 h-5 mr-2"}),U]}),Q&&s.jsxs("div",{className:"text-center",children:[s.jsx("img",{src:Q,alt:"Logo preview",className:"w-24 h-24 object-contain mx-auto rounded-lg border border-[#1C1444]/20 transition-transform duration-200 hover:scale-105"}),s.jsx("p",{className:"text-sm text-[#1C1444]/80 mt-2",children:I?`Selected: ${I.name}`:"Current Logo"})]}),s.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:V=>{const ie=V.target.files[0];Y(ie),H(ie?URL.createObjectURL(ie):null)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0}),s.jsxs("div",{className:"flex space-x-4 pt-4",children:[s.jsx("button",{type:"button",onClick:xe,className:"flex-1 px-6 py-3 border border-[#1C1444]/20 text-[#1C1444] rounded-lg hover:bg-[#1C1444]/10 transition-all duration-200",children:"Cancel"}),b?.logoUrl&&s.jsx("button",{type:"button",onClick:ae,className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-200",children:"Delete Logo"}),s.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-[#F37021] to-[#d55f1c] text-white rounded-lg hover:shadow-lg transition-all duration-200",children:"Update Logo"})]})]})]})}),A&&s.jsx(w9,{onClose:()=>m(!1)})]})},Bbe=()=>{const[t,r]=w.useState(""),[n,a]=w.useState("all"),[i,o]=w.useState("all"),[l,c]=w.useState("all"),[u,f]=w.useState([]),[A,m]=w.useState(!0),[p,g]=w.useState("");w.useEffect(()=>{b()},[]);const b=async()=>{try{m(!0),g("");const k=localStorage.getItem("token");console.log("Fetching payments from https://vidyaastra.com/api/payments");const L=await fetch("https://vidyaastra.com/api/payments",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`}});if(!L.ok)throw new Error(`HTTP error! Status: ${L.status}`);const I=await L.json();if(console.log("API Response:",I),!I.success)throw new Error(I.message||"Failed to fetch payments");const Y=I.data.map(Q=>{const H=new Date(Q.createdAt);let U;switch(Q?.packageId?.duration||"Monthly"){case"Monthly":U=new Date(H.setMonth(H.getMonth()+1));break;case"Quarterly":U=new Date(H.setMonth(H.getMonth()+3));break;case"Yearly":U=new Date(H.setFullYear(H.getFullYear()+1));break;default:U=new Date(H.setMonth(H.getMonth()+1))}const K=Q?.packageId?.name.toLowerCase(),Z={"basic plan":"basic","premium plan":"premium","enterprise plan":"enterprise"}[K]||"basic",ee={"Basic Plan":{students:50,features:["Basic Learning","Online Classes","Study Materials"]},"Premium Plan":{students:100,features:["Advanced Learning","Live Sessions","Personal Tutor","Assignments"]},"Enterprise Plan":{students:200,features:["All Features","Priority Support","Custom Content","Analytics"]}};return{id:Q._id,customerName:Q.name,email:Q.email,phone:Q.phone,packageName:Q?.packageId?.name,packageType:Z,students:ee[Q?.packageId?.name]?.students||50,price:Q.amount,duration:Q?.packageId?.duration||"Monthly",paymentMethod:Q.paymentMethod,transactionId:`TXN_${Q._id}`,purchaseDate:Q.createdAt,status:Q.status,expiryDate:U.toISOString(),features:ee[Q?.packageId?.name]?.features||[]}});console.log("Mapped Purchase History:",Y),f(Y),g("")}catch(k){g("Error fetching payments: "+k.message),console.error("Fetch Error:",k)}finally{m(!1)}},v=k=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(k),y=k=>new Date(k).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),j=k=>{const L={active:{color:"bg-green-100 text-green-800",icon:pi,text:"Active"},pending:{color:"bg-yellow-100 text-yellow-800",icon:_n,text:"Pending"},expired:{color:"bg-red-100 text-red-800",icon:Qp,text:"Expired"},cancelled:{color:"bg-gray-100 text-gray-800",icon:Qp,text:"Cancelled"}},I=L[k]||L.pending,Y=I.icon;return s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${I.color}`,children:[s.jsx(Y,{className:"w-3 h-3 mr-1"}),I.text]})},C=k=>{const L={basic:"text-blue-600 bg-blue-50",premium:"text-purple-600 bg-purple-50",enterprise:"text-green-600 bg-green-50"};return L[k]||L.basic},S=w.useMemo(()=>u.filter(k=>{const L=k.customerName.toLowerCase().includes(t.toLowerCase())||k.email.toLowerCase().includes(t.toLowerCase())||k.transactionId.toLowerCase().includes(t.toLowerCase()),I=n==="all"||k.status===n,Y=i==="all"||k.packageType===i,Q=new Date(k.purchaseDate),H=new Date;let U=!0;if(l!=="all")if(l==="today")U=Q.toDateString()===H.toDateString();else if(l==="week"){const K=new Date(H.setDate(H.getDate()-7));U=Q>=K}else l==="month"?U=Q.getMonth()===H.getMonth()&&Q.getFullYear()===H.getFullYear():l==="year"&&(U=Q.getFullYear()===H.getFullYear());return L&&I&&Y&&U}),[t,n,i,l,u]),E=()=>{console.log("Exporting data...",S),alert("Export functionality would be implemented here")},D=w.useMemo(()=>{const k=u.length,L=u.filter(Q=>Q.status==="active").length,I=u.filter(Q=>Q.status==="active").reduce((Q,H)=>Q+H.price,0),Y=u.filter(Q=>Q.status==="active").reduce((Q,H)=>Q+H.students,0);return{total:k,active:L,totalRevenue:I,totalStudents:Y}},[u]);return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-b-3xl shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(nl,{className:"w-6 h-6"}),s.jsx("h1",{className:"text-2xl font-bold",children:"Package Purchase History"})]}),s.jsxs("button",{onClick:E,className:"flex items-center space-x-2 bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-xl transition-all",disabled:A,children:[s.jsx(Cs,{className:"w-4 h-4"}),s.jsx("span",{children:"Export"})]})]}),s.jsx("p",{className:"text-indigo-100 mt-2",children:"Manage and track all package purchases"})]}),A&&s.jsxs("div",{className:"p-6 text-center",children:[s.jsx(nl,{className:"w-12 h-12 text-gray-400 mx-auto mb-4 animate-pulse"}),s.jsx("p",{className:"text-gray-500 text-lg",children:"Loading payment history..."})]}),p&&s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"bg-red-100 text-red-700 rounded-lg p-4 flex items-center",children:[s.jsx(Qp,{className:"w-5 h-5 mr-2"}),p]})}),!A&&!p&&s.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Purchases"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D.total})]}),s.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:s.jsx(nl,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Subscriptions"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:D.active})]}),s.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:s.jsx(pi,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:v(D.totalRevenue)})]}),s.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:s.jsx(id,{className:"w-6 h-6 text-purple-600"})})]})}),s.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:D.totalStudents})]}),s.jsx("div",{className:"p-3 bg-orange-100 rounded-xl",children:s.jsx(Jr,{className:"w-6 h-6 text-orange-600"})})]})})]}),!A&&!p&&s.jsx("div",{className:"px-6 mb-6",children:s.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search customers, email, or transaction ID...",value:t,onChange:k=>r(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),s.jsxs("select",{value:n,onChange:k=>a(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"expired",children:"Expired"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]}),s.jsxs("select",{value:i,onChange:k=>o(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Packages"}),s.jsx("option",{value:"basic",children:"Basic Plan"}),s.jsx("option",{value:"premium",children:"Premium Plan"}),s.jsx("option",{value:"enterprise",children:"Enterprise Plan"})]}),s.jsxs("select",{value:l,onChange:k=>c(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Time"}),s.jsx("option",{value:"today",children:"Today"}),s.jsx("option",{value:"week",children:"This Week"}),s.jsx("option",{value:"month",children:"This Month"}),s.jsx("option",{value:"year",children:"This Year"})]})]})})}),!A&&!p&&s.jsx("div",{className:"px-6 pb-6",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Package"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Purchase Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(k=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.customerName}),s.jsx("div",{className:"text-sm text-gray-500",children:k.email}),s.jsx("div",{className:"text-sm text-gray-500",children:k.phone})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${C(k.packageType)}`,children:k.packageName}),s.jsxs("div",{className:"text-sm text-gray-500 mt-1 flex items-center",children:[s.jsx(Jr,{className:"w-3 h-3 mr-1"}),k.students," Students"]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:v(k.price)}),s.jsx("div",{className:"text-sm text-gray-500",children:k.duration})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:k.paymentMethod}),s.jsx("div",{className:"text-sm text-gray-500",children:k.transactionId})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:y(k.purchaseDate)}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Expires: ",y(k.expiryDate)]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j(k.status)})]},k.id))})]})}),S.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(nl,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No records found"}),s.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]})]})})]})},j9=w.createContext(null),Ebe=({children:t})=>{const[r,n]=w.useState(null),[a,i]=w.useState(null),[o,l]=w.useState(null);w.useEffect(()=>{const f=localStorage.getItem("token"),A=localStorage.getItem("schoolId"),m=localStorage.getItem("schoolCode");f&&A&&m&&(n(f),i(A),l(m))},[]);const c=(f,A,m)=>{localStorage.setItem("token",f),localStorage.setItem("schoolId",A),localStorage.setItem("schoolCode",m),n(f),i(A),l(m)};console.log(a,"this is school");const u=()=>{localStorage.removeItem("token"),localStorage.removeItem("schoolId"),localStorage.removeItem("schoolCode"),n(null),i(null),l(null),console.log("Logout successful - Authentication token cleared")};return s.jsx(j9.Provider,{value:{token:r,schoolId:a,schoolCode:o,login:c,logout:u},children:t})},Tbe=()=>{const t=w.useContext(j9);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Fbe=({children:t})=>localStorage.getItem("teacherToken")?t:s.jsx(my,{to:"/login",replace:!0}),Ibe=({children:t})=>{const{isAuthenticated:r,loading:n}=Tbe(),a=localStorage.getItem("adminToken");return n?s.jsx("div",{children:"Loading authentication..."}):a?t:s.jsx(my,{to:"/login",replace:!0})},_be=()=>{const{login:t,error:r}=o8(),[n,a]=w.useState(""),[i,o]=w.useState(""),[l,c]=w.useState(""),[u,f]=w.useState(!1),A=AA(),m=async p=>{p.preventDefault(),c(""),f(!0);try{await t(n,i)?A("/admin/dashboard"):c("Invalid credentials")}catch(g){c(g.message||"Login failed")}finally{f(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsx("div",{className:"container mx-auto flex justify-center",children:s.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-200",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:QR,alt:"Logo",className:"h-20 w-20 rounded-full object-cover shadow-md"}),s.jsx("div",{className:"absolute inset-0 rounded-full ring-2 ring-[#F37021] ring-opacity-50"})]})}),s.jsx("h2",{className:"text-2xl font-bold text-[#1C1444] mb-6 text-center",children:"Super Admin Login"}),(l||r)&&s.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-600 rounded-lg flex items-center space-x-2",children:[s.jsx(ln,{className:"w-5 h-5 text-red-600"}),s.jsx("span",{children:l||r})]}),s.jsxs("form",{onSubmit:m,children:[s.jsxs("div",{className:"mb-5",children:[s.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-2",htmlFor:"email",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(Oh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-5 h-5"}),s.jsx("input",{id:"email",type:"email",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent text-[#1C1444] transition-all",value:n,onChange:p=>a(p.target.value),required:!0,placeholder:"Enter your email"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-2",htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(N5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-5 h-5"}),s.jsx("input",{id:"password",type:"password",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent text-[#1C1444] transition-all",value:i,onChange:p=>o(p.target.value),required:!0,placeholder:"Enter your password"})]})]}),s.jsx("button",{type:"submit",disabled:u,className:`w-full bg-[#F37021] text-white py-3 px-4 rounded-lg hover:bg-[#d65f1c] transition-all flex items-center justify-center ${u?"opacity-50 cursor-not-allowed":""}`,children:u?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Logging in..."]}):"Login"})]})]})})})},kbe=({children:t})=>{const{user:r,loading:n}=o8();return n?s.jsx("div",{children:"Loading..."}):r?t:s.jsx(my,{to:"/superadmin-login",replace:!0})},Pbe=()=>{const[t,r]=w.useState("available"),[n,a]=w.useState(""),[i,o]=w.useState([]),[l,c]=w.useState(!0),[u,f]=w.useState(""),[A,m]=w.useState([]),[p,g]=w.useState(""),[b,v]=w.useState(1),[y]=w.useState(10),[j,C]=w.useState(1),[S,E]=w.useState([{id:1,title:"Advanced Mathematics",author:"R.D. Sharma",isbn:"978-8193332456",student:"John Smith",studentId:"STU001",issueDate:"2023-11-01",dueDate:"2023-12-01",status:"overdue",renewCount:0},{id:2,title:"Physics Fundamentals",author:"H.C. Verma",isbn:"978-8177091878",student:"Emma Wilson",studentId:"STU002",issueDate:"2023-11-15",dueDate:"2023-12-15",status:"active",renewCount:1},{id:3,title:"Organic Chemistry",author:"Morrison & Boyd",isbn:"978-8131704815",student:"Michael Brown",studentId:"STU003",issueDate:"2023-11-20",dueDate:"2023-12-20",status:"active",renewCount:0}]);w.useEffect(()=>{D()},[]),w.useEffect(()=>{k(b)},[b]),w.useEffect(()=>{v(1)},[n,p]);const D=async()=>{try{const K=await(await fetch("https://vidyaastra.com/api/schools")).json();K.success&&m(K.data)}catch{}},k=async U=>{try{c(!0),f("");const K=localStorage.getItem("token"),X=await fetch(`https://vidyaastra.com/api/library/all-unfiltered?page=${U}&limit=${y}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${K}`}});if(!X.ok)throw new Error(`HTTP error! Status: ${X.status}`);const Z=await X.json();if(!Z.success)throw new Error(Z.message||"Failed to fetch books");const ee=Z.data.map(de=>({id:de._id,title:de.title,author:de.author,isbn:de.isbn,subject:de.category,copiesAvailable:de.availableCopies,totalCopies:de.totalCopies,publisher:"Unknown",year:2023,schoolId:de.schoolId||""}));o(ee),C(Z.totalPages||1),f("")}catch(K){f("Error fetching books: "+K.message)}finally{c(!1)}},I=i.map(U=>{const K=U.schoolId&&A.length?A.find(X=>X._id===U.schoolId):null;return{...U,schoolName:K?K.name:U.schoolId?"Unknown School":"No School"}}).filter(U=>(p===""||U.schoolId===p)&&(U.title.toLowerCase().includes(n.toLowerCase())||U.author.toLowerCase().includes(n.toLowerCase())||U.subject.toLowerCase().includes(n.toLowerCase())||U.isbn.includes(n))),Y=S.filter(U=>U.title.toLowerCase().includes(n.toLowerCase())||U.author.toLowerCase().includes(n.toLowerCase())||U.student.toLowerCase().includes(n.toLowerCase())||U.studentId.toLowerCase().includes(n.toLowerCase())),Q=U=>{switch(U){case"overdue":return"bg-red-100 text-red-800";case"active":return"bg-green-100 text-green-800";case"due-soon":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},H=U=>{switch(U){case"overdue":return s.jsx(ln,{className:"w-4 h-4"});case"active":return s.jsx(pi,{className:"w-4 h-4"});case"due-soon":return s.jsx(_n,{className:"w-4 h-4"});default:return s.jsx(Ln,{className:"w-4 h-4"})}};return s.jsxs("div",{className:"space-y-6 p-4 bg-gray-50 min-h-screen",children:[s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-[#1C1444] flex items-center",children:[s.jsx(lf,{className:"mr-3 text-[#F37021] h-8 w-8"}),"Library Management"]}),s.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:"Manage books, issues, and returns with ease"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>r("available"),className:`px-5 py-2.5 rounded-lg font-medium transition-all duration-200 ${t==="available"?"bg-[#F37021] hover:bg-[#d65f1c] text-white shadow-md":"bg-gray-100 text-[#1C1444] hover:bg-gray-200"}`,children:"Available Books"}),s.jsx("button",{onClick:()=>r("issued"),className:`px-5 py-2.5 rounded-lg font-medium transition-all duration-200 ${t==="issued"?"bg-[#F37021] hover:bg-[#d65f1c] text-white shadow-md":"bg-gray-100 text-[#1C1444] hover:bg-gray-200"}`,children:"Issued Books"})]})]}),u&&s.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-lg flex items-center border border-red-200",children:[s.jsx(ln,{className:"w-5 h-5 mr-2 text-red-600"}),u]}),s.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[s.jsx("label",{className:"text-sm font-medium text-[#1C1444]",children:"Filter by School:"}),s.jsxs("select",{value:p,onChange:U=>g(U.target.value),className:"px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white transition-all duration-200",children:[s.jsx("option",{value:"",children:"All Schools"}),A.map(U=>s.jsx("option",{value:U._id,children:U.name},U._id))]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-5 h-5"}),s.jsx("input",{type:"text",placeholder:`Search ${t==="available"?"books":"issued books"}...`,value:n,onChange:U=>a(U.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] placeholder-gray-400 transition-all duration-200",disabled:l})]})]}),l&&t==="available"&&s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md text-center border border-gray-100",children:[s.jsx(Ln,{className:"w-12 h-12 text-[#F37021] mx-auto mb-4 animate-pulse"}),s.jsx("p",{className:"text-[#1C1444] text-lg font-medium",children:"Loading books..."})]}),!l&&s.jsx("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden border border-gray-100",children:t==="available"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-6 border-b border-gray-100",children:s.jsx("h2",{className:"text-xl font-semibold text-[#1C1444]",children:"Available Books"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Book Details"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Boock Code"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Subject"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"School"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Availability"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:I.map(U=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-all duration-150",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-[#1C1444]/10 rounded-lg flex items-center justify-center",children:s.jsx(Ln,{className:"w-5 h-5 text-[#1C1444]"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-[#1C1444]",children:U.title}),s.jsxs("div",{className:"text-sm text-gray-500",children:["by ",U.author]}),s.jsxs("div",{className:"text-xs text-gray-400",children:[U.publisher," • ",U.year]})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center text-sm text-[#1C1444]",children:[s.jsx(xb,{className:"w-4 h-4 mr-1 text-[#F37021]"}),U.isbn]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"px-3 py-1 text-xs font-semibold bg-[#F37021]/10 text-[#F37021] rounded-full",children:U.subject})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-[#1C1444]/10 text-[#1C1444] rounded-full",children:U.schoolName})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"font-medium text-[#1C1444]",children:[U.copiesAvailable,"/",U.totalCopies," ","available"]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mt-2",children:s.jsx("div",{className:"bg-[#F37021] h-2.5 rounded-full transition-all duration-300",style:{width:`${U.copiesAvailable/U.totalCopies*100}%`}})})]})})]},U.id))})]})}),I.length===0&&s.jsx("div",{className:"p-6 text-center text-gray-500",children:"No books found"}),s.jsxs("div",{className:"flex justify-between items-center p-6 border-t border-gray-100",children:[s.jsx("button",{disabled:b<=1||l,onClick:()=>v(U=>U-1),className:"px-5 py-2.5 bg-gray-100 text-[#1C1444] rounded-lg font-medium hover:bg-gray-200 disabled:opacity-50 transition-all duration-200",children:"Previous"}),s.jsxs("span",{className:"text-sm text-[#1C1444] font-medium",children:["Page ",b," of ",j]}),s.jsx("button",{disabled:b>=j||l,onClick:()=>v(U=>U+1),className:"px-5 py-2.5 bg-gray-100 text-[#1C1444] rounded-lg font-medium hover:bg-gray-200 disabled:opacity-50 transition-all duration-200",children:"Next"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-6 border-b border-gray-100",children:s.jsx("h2",{className:"text-xl font-semibold text-[#1C1444]",children:"Issued Books"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Book Details"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Student"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Issue Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Due Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Status"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:Y.map(U=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-all duration-150",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-[#F37021]/10 rounded-lg flex items-center justify-center",children:s.jsx(lf,{className:"w-5 h-5 text-[#F37021]"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-[#1C1444]",children:U.title}),s.jsxs("div",{className:"text-sm text-gray-500",children:["by ",U.author]}),s.jsxs("div",{className:"text-xs text-gray-400 flex items-center",children:[s.jsx(xb,{className:"w-3 h-3 mr-1 text-[#F37021]"}),U.isbn]})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium text-[#1C1444]",children:U.student}),s.jsx("div",{className:"text-gray-500",children:U.studentId})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center text-sm text-[#1C1444]",children:[s.jsx(en,{className:"w-4 h-4 mr-1 text-[#F37021]"}),U.issueDate]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center text-sm text-[#1C1444]",children:[s.jsx(en,{className:"w-4 h-4 mr-1 text-[#F37021]"}),U.dueDate]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("span",{className:`px-3 py-1 text-xs font-semibold rounded-full flex items-center space-x-1 w-fit ${Q(U.status)}`,children:[H(U.status),s.jsx("span",{children:U.status.toUpperCase()})]})})]},U.id))})]})}),Y.length===0&&s.jsx("div",{className:"p-6 text-center text-gray-500",children:"No issued books found"})]})})]})},Dbe=()=>{const[t,r]=w.useState(""),[n,a]=w.useState([]),[i,o]=w.useState(!0),[l,c]=w.useState(null),[u,f]=w.useState(1),[A]=w.useState(10),[m,p]=w.useState(1),[g,b]=w.useState(0),[v,y]=w.useState(""),[j,C]=w.useState([]);w.useEffect(()=>{(async()=>{try{o(!0);const X=await Ft.get("https://vidyaastra.com/api/circulars/all-unfiltered",{params:{page:u,limit:A,schoolId:v||void 0}});if(X.data.success){const Z=X.data.data.map(Se=>({id:Se._id,title:Se.title||"Untitled",date:Se.date?new Date(Se.date).toISOString().split("T")[0]:"Not specified",author:Se.author||"Administration",category:Se.category||"General",priority:Se.priority||"Medium",status:Se.read?"read":"unread",description:Se.content||"No description",schoolId:Se.schoolId||""}));a(Z),p(X.data.totalPages||Math.ceil(X.data.count/A)),b(X.data.count||X.data.data.length);const de=[...new Set(Z.map(Se=>Se.schoolId).filter(Boolean))].map(async Se=>{try{const ue=await Ft.get(`https://vidyaastra.com/api/schools/${Se}`);return ue.data.success?ue.data.data:{_id:Se,name:"Unknown School"}}catch(ue){return console.error(`Error fetching school ${Se}:`,ue),{_id:Se,name:"Unknown School"}}}),Ne=await Promise.all(de);C(Ne.filter(Boolean))}else c(X.data.message||"No circulars found")}catch(X){console.error("Error fetching circulars:",X),c("Failed to load circulars. Please try again later.")}finally{o(!1)}})()},[u,A,v]);const S=()=>{u>1&&f(u-1)},E=()=>{u<m&&f(u+1)},D=K=>{K>=1&&K<=m&&f(K)},k=j;console.log("Schools:",j),console.log("Circular School IDs:",[...new Set(n.map(K=>K.schoolId).filter(Boolean))]),console.log("Filtered Schools:",k);const L=n.filter(K=>K.title.toLowerCase().includes(t.toLowerCase())||K.category.toLowerCase().includes(t.toLowerCase())||K.description.toLowerCase().includes(t.toLowerCase())||K.author.toLowerCase().includes(t.toLowerCase())),I=()=>{r(""),y(""),f(1)},Y=()=>{if(L.length===0){alert("No data to export");return}const K=L.map(Se=>({Title:Se.title,Date:Se.date,Author:Se.author,Category:Se.category,Priority:Se.priority,Status:Se.status.charAt(0).toUpperCase()+Se.status.slice(1),Description:Se.description,"School Name":j.find(ue=>ue._id===Se.schoolId)?.name||"Unknown School"})),X=Object.keys(K[0]),Z=[X.join(","),...K.map(Se=>X.map(ue=>`"${Se[ue]||""}"`).join(","))].join(`
`),ee=new Blob([Z],{type:"text/csv;charset=utf-8;"}),de=document.createElement("a"),Ne=URL.createObjectURL(ee);de.setAttribute("href",Ne),de.setAttribute("download",`circulars_${new Date().toISOString().split("T")[0]}.csv`),de.style.visibility="hidden",document.body.appendChild(de),de.click(),document.body.removeChild(de)},Q=K=>{switch(K){case"High":return"bg-red-100 text-red-700";case"Medium":return"bg-yellow-100 text-yellow-700";case"Low":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-[#1C1444]"}},H=K=>{switch(K){case"Academic":return"bg-[#F37021]/10 text-[#F37021]";case"Events":return"bg-purple-100 text-purple-700";case"Finance":return"bg-green-100 text-green-700";case"Sports":return"bg-[#F37021]/10 text-[#F37021]";default:return"bg-gray-100 text-[#1C1444]"}},U=async K=>{try{a(n.map(X=>X.id===K?{...X,status:"read"}:X)),await Ft.patch(`https://vidyaastra.com/api/circulars/${K}`,{read:!0})}catch{a(n.map(Z=>Z.id===K?{...Z,status:"unread"}:Z))}};return i?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#F37021]"})}):l?s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-gray-100 text-center",children:[s.jsx("div",{className:"text-red-700 mb-4",children:l}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-[#F37021] text-white rounded-lg hover:bg-[#d65f1c] transition-all duration-200",children:"Retry"})]}):s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 p-4 bg-gray-50 min-h-screen",children:[s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-gray-100",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Dh,{className:"w-6 h-6 text-[#F37021]"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-[#1C1444]",children:"School Circulars"}),s.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:"Important announcements and notices"})]})]}),s.jsxs("button",{onClick:Y,className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg shadow-md flex items-center space-x-2 transition-all duration-200",title:"Export to CSV",disabled:i,children:[s.jsx(Cs,{className:"text-white"})," ",s.jsx("span",{children:"Export CSV"})]})]}),s.jsxs("div",{className:"flex space-x-6 text-sm mt-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-[#1C1444]",children:"Total:"}),s.jsx("span",{className:"font-semibold text-[#1C1444]",children:g})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-[#1C1444]",children:"Unread:"}),s.jsx("span",{className:"font-semibold text-[#1C1444]",children:n.filter(K=>K.status==="unread").length})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-[#1C1444]",children:"Filtered:"}),s.jsx("span",{className:"font-semibold text-[#1C1444]",children:L.length})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-gray-100",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-w-5xl",children:[s.jsxs("div",{className:"max-w-xs",children:[s.jsxs("label",{className:"block text-sm font-medium text-[#1C1444] mb-1 flex items-center",children:[s.jsx(Ma,{className:"mr-2 text-[#F37021]"}),"School"]}),s.jsxs("select",{value:v,onChange:K=>y(K.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white transition-all duration-200 text-sm",children:[s.jsx("option",{value:"",children:"All Schools"}),k.length>0?k.map(K=>s.jsx("option",{value:K._id,children:K.name.charAt(0).toUpperCase()+K.name.slice(1)||"Unnamed School"},K._id)):s.jsx("option",{disabled:!0,children:"No schools available"})]})]}),s.jsxs("div",{className:"max-w-xs",children:[s.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search by title, category, description...",value:t,onChange:K=>r(K.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] placeholder-gray-400 transition-all duration-200 text-sm"})]})]})]}),s.jsx("div",{className:"flex items-center justify-between mt-4",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:"text-sm text-[#1C1444] font-medium",children:["Showing ",L.length," of ",g," circulars"]}),s.jsx("button",{onClick:I,className:"px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50 text-[#1C1444] font-medium transition-all duration-200 text-sm",children:"Clear Filters"})]})})]}),s.jsx("div",{className:"space-y-4",children:L.map(K=>s.jsx("div",{className:`bg-white rounded-2xl p-6 shadow-md border border-gray-100 hover:shadow-lg transition-shadow duration-200 ${K.status==="unread"?"border-l-4 border-l-[#F37021]":""}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-[#1C1444]",children:K.title}),K.status==="unread"&&s.jsx("span",{className:"w-2 h-2 bg-[#F37021] rounded-full"})]}),s.jsxs("div",{className:"flex items-center space-x-4 mb-3 text-sm",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Q(K.priority)}`,children:K.priority}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${H(K.category)}`,children:K.category}),K.schoolId&&s.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#F37021]/10 text-[#F37021] flex items-center",children:[s.jsx(Ma,{className:"w-3 h-3 mr-1 text-[#F37021]"}),j.find(X=>X._id===K.schoolId)?.name||"Unknown School"]})]}),s.jsx("p",{className:"text-[#1C1444] mb-3",children:K.description}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-[#1C1444]",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(en,{className:"w-4 h-4 text-[#F37021]"}),s.jsx("span",{children:K.date})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Ns,{className:"w-4 h-4 text-[#F37021]"}),s.jsx("span",{children:K.author})]})]})]}),K.status==="unread"&&s.jsxs("button",{onClick:()=>U(K.id),className:"flex items-center space-x-1 text-sm text-[#F37021] hover:text-[#d65f1c] transition-all duration-200",children:[s.jsx(Ds,{className:"w-4 h-4"}),s.jsx("span",{children:"Mark as read"})]})]})},K.id))}),g>0&&s.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-md border border-gray-100 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-[#1C1444] font-medium",children:["Page ",u," of ",m]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:S,disabled:u===1,className:`px-3 py-2 rounded-lg font-medium ${u===1?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"} transition-all duration-200`,children:s.jsx(co,{})}),Array.from({length:m},(K,X)=>X+1).filter(K=>K===1||K===m||K>=u-2&&K<=u+2).map(K=>s.jsx("button",{onClick:()=>D(K),className:`px-3 py-1 rounded-lg font-medium ${u===K?"bg-[#F37021] text-white":"bg-gray-100 text-[#1C1444] hover:bg-gray-200"} transition-all duration-200`,children:K},K)),s.jsx("button",{onClick:E,disabled:u===m,className:`px-3 py-2 rounded-lg font-medium ${u===m?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"} transition-all duration-200`,children:s.jsx(xi,{})})]})]}),L.length===0&&n.length>0&&!i&&s.jsxs("div",{className:"bg-white rounded-2xl p-12 shadow-md border border-gray-100 text-center",children:[s.jsx(Dh,{className:"w-12 h-12 mx-auto text-[#F37021] mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:"No circulars match your filters"}),s.jsx("button",{onClick:I,className:"text-[#F37021] hover:text-[#d65f1c] underline font-medium transition-all duration-200",children:"Clear filters to see all circulars"})]}),L.length===0&&n.length===0&&!i&&s.jsxs("div",{className:"bg-white rounded-2xl p-12 shadow-md border border-gray-100 text-center",children:[s.jsx(Dh,{className:"w-12 h-12 mx-auto text-[#F37021] mb-4"}),s.jsx("p",{className:"text-[#1C1444]",children:"No circulars found"})]})]})},Obe=()=>{const[t,r]=w.useState(""),[n,a]=w.useState(!1),[i,o]=w.useState(null),[l,c]=w.useState([]),[u,f]=w.useState(!0),[A,m]=w.useState(null),[p,g]=w.useState(1),[b]=w.useState(10),[v,y]=w.useState(1),[j,C]=w.useState(0),[S,E]=w.useState(""),[D,k]=w.useState(""),[L,I]=w.useState(""),[Y,Q]=w.useState(""),[H,U]=w.useState([]),[K,X]=w.useState([]);w.useEffect(()=>{(async()=>{try{const Ae=await Ft.get("https://vidyaastra.com/api/schools");Ae.data.success&&U(Ae.data.data)}catch{}})()},[]),w.useEffect(()=>{const te=async()=>{try{const Ae=new Set;l.forEach(pe=>{pe.classTeacherOf&&Ae.add(pe.classTeacherOf),Array.isArray(pe.classes)&&pe.classes.forEach(ye=>{ye.includes("-")||Ae.add(ye)})});const V=Array.from(Ae).map(async pe=>{try{const ge=(await Ft.get(`https://vidyaastra.com/api/class/${pe}`)).data?.data||{_id:pe,className:"Unknown Class",section:""};return{_id:ge._id,className:ge.className,section:ge.section||""}}catch(ye){return console.error(`Failed to fetch class ${pe}:`,ye.message),{_id:pe,className:"Unknown Class",section:""}}}),ie=await Promise.all(V);X(ie.filter(pe=>pe._id&&pe.className))}catch(Ae){console.error("Failed to fetch classes:",Ae.message)}};l.length>0&&te()},[l]),w.useEffect(()=>{(async()=>{try{f(!0);const Ae=await Ft.get("https://vidyaastra.com/api/teacher",{params:{page:p,limit:b}});if(Ae.data.success){const V=Ae.data.data.map(ie=>({id:ie._id,name:ie.name||"Unknown",email:ie.email||"N/A",phone:ie.phone||"N/A",subject:Array.isArray(ie.subjects)?ie.subjects.join(", "):ie.subjects||"N/A",classes:Array.isArray(ie.classes)?ie.classes:ie.classes?[ie.classes]:[],joiningDate:ie.createdAt?new Date(ie.createdAt).toLocaleDateString():"Not specified",address:"Not specified",salary:"Not specified",status:ie.classTeacherOf?"Active":"Inactive",profilePic:ie.profilePic||null,schoolId:ie.schoolId||"",classTeacherOf:ie.classTeacherOf||""}));c(V),y(Ae.data.totalPages),C(Ae.data.total)}else m(Ae.data.message||"No teachers found")}catch{m("Failed to load teachers. Please try again later.")}finally{f(!1)}})()},[p,b]);const Z=()=>{p>1&&g(p-1)},ee=()=>{p<v&&g(p+1)},de=te=>{te>=1&&te<=v&&g(te)},Ne=[...new Set(l.flatMap(te=>te.subject.split(", ").filter(Boolean)).filter(Boolean))],Se=[...new Set(K.map(te=>te.className).filter(Boolean))].sort(),ue=[...new Set(K.filter(te=>te.className===D).map(te=>te.section).filter(Boolean))].sort();w.useEffect(()=>{I("")},[D]);const xe=[...new Set(l.map(te=>te.schoolId).filter(Boolean))],R=H.filter(te=>xe.includes(te._id)),G=l.filter(te=>{const Ae=te.name.toLowerCase().includes(t.toLowerCase())||te.subject.toLowerCase().includes(t.toLowerCase())||te.email.toLowerCase().includes(t.toLowerCase())||te.phone.includes(t),V=!S||te.subject.split(", ").includes(S),ie=!D||te.classes.some(ye=>{const ge=K.find(le=>le._id===ye||`${le.className}-${le.section}`===ye);return ge&&ge.className===D&&(!L||ge.section===L)})||te.classTeacherOf&&K.find(ye=>ye._id===te.classTeacherOf)?.className===D&&(!L||K.find(ye=>ye._id===te.classTeacherOf)?.section===L),pe=!Y||te.schoolId===Y;return Ae&&V&&ie&&pe}),ne=()=>{r(""),E(""),k(""),I(""),Q(""),g(1)},ae=()=>{if(G.length===0){alert("No data to export");return}const te=G.map(ge=>({"Teacher Name":ge.name,Email:ge.email,Phone:ge.phone,Subjects:ge.subject,Classes:ge.classes.map(le=>{const Qe=K.find(ce=>ce._id===le||`${ce.className}-${ce.section}`===le);return Qe?`${Qe.className}${Qe.section?`-${Qe.section}`:""}`:le}).join(", "),Status:ge.status,"Joining Date":ge.joiningDate,Address:ge.address,Salary:ge.salary,"School Name":H.find(le=>le._id===ge.schoolId)?.name||"N/A"})),Ae=Object.keys(te[0]),V=[Ae.join(","),...te.map(ge=>Ae.map(le=>`"${ge[le]||""}"`).join(","))].join(`
`),ie=new Blob([V],{type:"text/csv;charset=utf-8;"}),pe=document.createElement("a"),ye=URL.createObjectURL(ie);pe.setAttribute("href",ye),pe.setAttribute("download",`teachers_${new Date().toISOString().split("T")[0]}.csv`),pe.style.visibility="hidden",document.body.appendChild(pe),pe.click(),document.body.removeChild(pe)},oe=te=>{o(te),a(!0)},he=()=>{a(!1),o(null)},me=te=>te==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800";return u?s.jsx("div",{className:"flex justify-center items-center h-64 bg-gray-50 max-w-7xl mx-auto",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#F37021]"})}):A?s.jsxs("div",{className:"max-w-7xl mx-auto bg-white rounded-2xl p-6 shadow-md border border-gray-100 text-center",children:[s.jsx("div",{className:"text-red-500 mb-4",children:A}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-5 py-2.5 bg-[#F37021] text-white rounded-lg font-medium hover:bg-[#d65f1c] transition-all duration-200",children:"Retry"})]}):s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 p-4 bg-gray-50 min-h-screen",children:[s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-gray-100",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-[#1C1444] flex items-center",children:[s.jsx(Jr,{className:"mr-3 text-[#F37021] h-8 w-8"}),"Teachers Management"]}),s.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:"Manage teacher profiles and information"})]}),s.jsxs("button",{onClick:ae,className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-5 py-2.5 rounded-lg shadow-md flex items-center space-x-2 transition-all duration-200",title:"Export to CSV",disabled:u,children:[s.jsx(Cs,{})," ",s.jsx("span",{children:"Export CSV"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-5 gap-3 mt-6",children:[s.jsxs("div",{className:"max-w-[180px]",children:[s.jsxs("label",{className:"block text-sm font-medium text-[#1C1444] mb-1 flex items-center",children:[s.jsx(Ma,{className:"mr-2 text-[#F37021]"}),"School"]}),s.jsxs("select",{value:Y,onChange:te=>Q(te.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white transition-all duration-200 text-sm",children:[s.jsx("option",{value:"",children:"All Schools"}),R.map(te=>s.jsx("option",{value:te._id,children:te.name},te._id))]})]}),s.jsxs("div",{className:"max-w-[180px]",children:[s.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Subject"}),s.jsxs("select",{value:S,onChange:te=>E(te.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white transition-all duration-200 text-sm",children:[s.jsx("option",{value:"",children:"All Subjects"}),Ne.map(te=>s.jsx("option",{value:te,children:te},te))]})]}),s.jsxs("div",{className:"max-w-[180px]",children:[s.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Class"}),s.jsxs("select",{value:D,onChange:te=>k(te.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white transition-all duration-200 text-sm",children:[s.jsx("option",{value:"",children:"All Classes"}),Se.map(te=>s.jsx("option",{value:te,children:te},te))]})]}),s.jsxs("div",{className:"max-w-[180px]",children:[s.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Section"}),s.jsxs("select",{value:L,onChange:te=>I(te.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white transition-all duration-200 text-sm",disabled:D===""||ue.length===0,children:[s.jsx("option",{value:"",children:"All Sections"}),ue.map(te=>s.jsx("option",{value:te,children:te},te))]})]}),s.jsxs("div",{className:"max-w-[180px]",children:[s.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search...",value:t,onChange:te=>r(te.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] placeholder-gray-400 transition-all duration-200 text-sm"})]})]})]}),s.jsx("div",{className:"flex items-center justify-between mt-4",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:"text-sm text-[#1C1444] font-medium",children:["Showing ",G.length," of ",j," teachers"]}),s.jsx("button",{onClick:ne,className:"px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50 text-[#1C1444] font-medium transition-all duration-200 text-sm",children:"Clear Filters"})]})})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden border border-gray-100",children:[s.jsx("div",{className:"p-6 border-b border-gray-100",children:s.jsxs("h2",{className:"text-xl font-semibold text-[#1C1444]",children:["All Teachers (",G.length,")"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Teacher"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Subjects"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Classes"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"School"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:G.map(te=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-all duration-150",children:[s.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[te.profilePic?s.jsx("img",{src:te.profilePic||"/placeholder.svg",alt:te.name,className:"w-10 h-10 rounded-full object-cover"}):s.jsx("div",{className:"w-10 h-10 bg-[#1C1444]/10 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-[#1C1444] font-semibold text-base",children:te.name.split(" ").map(Ae=>Ae[0]).join("")})}),s.jsx("div",{className:"ml-3",children:s.jsx("div",{className:"text-sm font-medium text-[#1C1444]",children:te.name})})]})}),s.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-[#1C1444]",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx(Oh,{className:"w-4 h-4 mr-2 text-[#F37021]"}),te.email]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(xf,{className:"w-4 h-4 mr-2 text-[#F37021]"}),te.phone]})]})}),s.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:s.jsxs("span",{className:"px-3 py-1 inline-flex text-xs font-semibold rounded-full bg-[#F37021]/10 text-[#F37021]",children:[s.jsx(Ln,{className:"w-3 h-3 mr-1"}),te.subject]})}),s.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:s.jsxs("span",{className:"px-3 py-1 inline-flex text-xs font-semibold rounded-full bg-[#F37021]/10 text-[#F37021]",children:[s.jsx(Ln,{className:"w-3 h-3 mr-1"}),te.classes.map(Ae=>{const V=K.find(ie=>ie._id===Ae||`${ie.className}-${ie.section}`===Ae);return V?`${V.className}${V.section?`-${V.section}`:""}`:Ae}).join(", ")]})}),s.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:s.jsxs("span",{className:"px-3 py-1 inline-flex text-xs font-semibold rounded-full bg-[#1C1444]/10 text-[#1C1444]",children:[s.jsx(Ma,{className:"w-3 h-3 mr-1"}),H.find(Ae=>Ae._id===te.schoolId)?.name||"N/A"]})}),s.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-3 py-1 inline-flex text-xs font-semibold rounded-full ${me(te.status)}`,children:te.status})}),s.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:s.jsx("div",{className:"flex space-x-2",children:s.jsx("button",{onClick:()=>oe(te),className:"text-[#F37021] hover:text-[#d65f1c] p-1 rounded hover:bg-[#F37021]/10 transition-all duration-200",title:"View Details",children:s.jsx(Ds,{className:"w-4 h-4"})})})})]},te.id))})]})}),G.length===0&&l.length>0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ns,{className:"w-12 h-12 mx-auto text-[#1C1444]/20 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:"No teachers match your filters"}),s.jsx("button",{onClick:ne,className:"text-[#F37021] hover:text-[#d65f1c] underline font-medium transition-all duration-200",children:"Clear filters to see all teachers"})]}),G.length===0&&l.length===0&&!u&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ns,{className:"w-12 h-12 mx-auto text-[#1C1444]/20 mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No teachers found matching your search."})]}),j>0&&s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100",children:[s.jsxs("div",{className:"text-sm text-[#1C1444] font-medium",children:["Page ",p," of ",v]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:Z,disabled:p===1,className:`px-3 py-2 rounded-lg font-medium ${p===1?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"} transition-all duration-200`,children:s.jsx(co,{})}),Array.from({length:v},(te,Ae)=>Ae+1).filter(te=>te===1||te===v||te>=p-2&&te<=p+2).map(te=>s.jsx("button",{onClick:()=>de(te),className:`px-3 py-1 rounded-lg font-medium ${p===te?"bg-[#F37021] text-white":"bg-gray-100 text-[#1C1444] hover:bg-gray-200"} transition-all duration-200`,children:te},te)),s.jsx("button",{onClick:ee,disabled:p===v,className:`px-3 py-2 rounded-lg font-medium ${p===v?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"} transition-all duration-200`,children:s.jsx(xi,{})})]})]})]}),n&&i&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto border border-gray-100",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[s.jsxs("h2",{className:"text-xl font-bold text-[#1C1444] flex items-center",children:[s.jsx("div",{className:"w-8 h-8 bg-[#F37021]/10 rounded-lg flex items-center justify-center mr-3",children:s.jsx(Ds,{className:"text-[#F37021]"})}),"Teacher Details"]}),s.jsx("button",{onClick:he,className:"text-[#1C1444] hover:text-[#F37021] transition-all duration-200",children:s.jsx(sr,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[i.profilePic?s.jsx("img",{src:i.profilePic||"/placeholder.svg",alt:i.name,className:"w-16 h-16 rounded-full object-cover"}):s.jsx("div",{className:"w-16 h-16 bg-[#1C1444]/10 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-[#1C1444] font-bold text-xl",children:i.name.split(" ").map(te=>te[0]).join("")})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-[#1C1444]",children:i.name}),s.jsxs("p",{className:"text-gray-500 text-sm",children:["Subjects: ",i.subject]}),s.jsxs("p",{className:"text-gray-500 text-sm",children:["School:"," ",H.find(te=>te._id===i.schoolId)?.name||"N/A"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Oh,{className:"w-5 h-5 text-[#F37021]"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),s.jsx("p",{className:"font-medium text-[#1C1444]",children:i.email})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(xf,{className:"w-5 h-5 text-[#F37021]"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),s.jsx("p",{className:"font-medium text-[#1C1444]",children:i.phone})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ln,{className:"w-5 h-5 text-[#F37021]"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Subjects"}),s.jsx("p",{className:"font-medium text-[#1C1444]",children:i.subject})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Classes"}),s.jsx("p",{className:"font-medium text-[#1C1444]",children:i.classes.map(te=>{const Ae=K.find(V=>V._id===te||`${V.className}-${V.section}`===te);return Ae?`${Ae.className}${Ae.section?`-${Ae.section}`:""}`:te}).join(", ")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),s.jsx("p",{className:"font-medium text-[#1C1444]",children:i.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"School"}),s.jsx("p",{className:"font-medium text-[#1C1444]",children:H.find(te=>te._id===i.schoolId)?.name||"N/A"})]})]})]})]})]})})]})},Lbe=()=>{const[t,r]=w.useState(""),[n,a]=w.useState(!1),[i,o]=w.useState("view"),[l,c]=w.useState(null),[u,f]=w.useState("buses"),[A,m]=w.useState([]),[p,g]=w.useState(!0),[b,v]=w.useState(null),[y,j]=w.useState([]),[C,S]=w.useState("all"),[E,D]=w.useState([]),[k,L]=w.useState("all"),[I,Y]=w.useState("all"),[Q,H]=w.useState(""),[U,K]=w.useState(""),[X,Z]=w.useState(""),[ee,de]=w.useState(!1),[Ne,Se]=w.useState({min:"",max:""}),[ue,xe]=w.useState(1),R=10,[G,ne]=w.useState(1),[ae,oe]=w.useState(0);localStorage.getItem("schoolId"),w.useEffect(()=>{(async()=>{try{g(!0);const q=await Ft.get(`https://vidyaastra.com/api/transports/all-unfiltered?page=${ue}&limit=${R}`);if(q.data.success){const be=q.data.data;m(be),ne(q.data.totalPages||1),oe(q.data.total||0);const Ee=new Map;be.forEach(_t=>{_t.schoolId&&typeof _t.schoolId=="object"&&_t.schoolId._id&&_t.schoolId.name&&Ee.set(_t.schoolId._id,_t.schoolId)});const Re=Array.from(Ee.values());j(Re);const it=new Set;be.forEach(_t=>{Array.isArray(_t.assignedStudents)&&_t.assignedStudents.forEach(ot=>{ot.studentId?.classId&&it.add(ot.studentId.classId)})});const et=Array.from(it).map(async _t=>{try{const Ie=(await Ft.get(`https://vidyaastra.com/api/class/${_t}`)).data?.data||{_id:_t,className:"Unknown Class",section:""};return{_id:Ie._id,className:Ie.className,section:Ie.section||""}}catch(ot){return console.error(`Failed to fetch class ${_t}:`,ot.message),{_id:_t,className:"Unknown Class",section:""}}}),Ct=await Promise.all(et);D(Ct.filter(_t=>_t._id&&_t.className))}else v("Failed to fetch transport data: Invalid response")}catch(q){v("Failed to fetch transport data: "+q.message)}finally{g(!1)}})()},[ue]);const he=w.useMemo(()=>[...new Set(A.map(we=>we.schoolId&&typeof we.schoolId=="object"?we.schoolId._id:we.schoolId))].filter(Boolean),[A]),me=w.useMemo(()=>y.filter(we=>he.includes(we._id)).map(we=>({...we,name:we.name||"Unknown School"})),[y,he]),te=w.useMemo(()=>[...new Set(E.map(we=>we.className))].sort(),[E]),Ae=w.useMemo(()=>k==="all"?[]:[...new Set(E.filter(we=>we.className===k).map(we=>we.section).filter(we=>we))].sort(),[k,E]);w.useEffect(()=>{Y("all")},[k]);const V=w.useMemo(()=>A.filter(we=>{if(C!=="all"&&(we.schoolId&&typeof we.schoolId=="object"?we.schoolId._id:we.schoolId)!==C||k!=="all"&&!(Array.isArray(we.assignedStudents)&&we.assignedStudents.some(Ee=>{const Re=E.find(it=>it._id===Ee.studentId?.classId);return Re&&Re.className===k&&(I==="all"||Re.section===I)}))||Q&&we.route!==Q||U&&we.status!==U||X&&we.driverName!==X)return!1;if(Ne.min||Ne.max){const be=we.totalCapacity||we.capacity||0;if(Ne.min&&be<Number(Ne.min)||Ne.max&&be>Number(Ne.max))return!1}const q=t.toLowerCase();return!(t&&!((we.busNumber||"").toLowerCase().includes(q)||(we.route||"").toLowerCase().includes(q)||(we.driverName||"").toLowerCase().includes(q)||(we.routeName||"").toLowerCase().includes(q)))}),[A,C,k,I,Q,U,X,Ne,t,E]),ie=[...new Set(A.map(we=>we.route).filter(Boolean))],pe=[...new Set(A.map(we=>we.driverName).filter(Boolean))],ye=["Active","Maintenance","Inactive"],ge=()=>{r(""),H(""),K(""),Z(""),Se({min:"",max:""}),S("all"),L("all"),Y("all")},le=()=>{if(V.length===0){alert("No data to export");return}const we=V.map(et=>({"Bus Number":et.busNumber,Route:et.route,"Route Name":et.routeName,Driver:et.driverName,"Driver Phone":et.driverPhone,Capacity:et.totalCapacity||et.capacity,"Current Occupancy":et.currentOccupancy,"Available Seats":et.availableSeats,"Pickup Time":et.pickupTime||et.startTime,"Dropoff Time":et.dropoffTime||et.endTime,Status:et.status,School:et.schoolId&&typeof et.schoolId=="object"?et.schoolId.name||"Unknown School":y.find(Ct=>Ct._id===et.schoolId)?.name||"Unknown School",Classes:Array.isArray(et.assignedStudents)?et.assignedStudents.map(Ct=>{const _t=E.find(ot=>ot._id===Ct.studentId?.classId);return _t?`${_t.className}${_t.section?`-${_t.section}`:""}`:"Unknown Class"}).filter(Boolean).join(", "):""})),q=Object.keys(we[0]),be=[q.join(","),...we.map(et=>q.map(Ct=>`"${et[Ct]??""}"`).join(","))].join(`
`),Ee=new Blob([be],{type:"text/csv;charset=utf-8;"}),Re=document.createElement("a"),it=URL.createObjectURL(Ee);Re.setAttribute("href",it),Re.setAttribute("download",`buses_${new Date().toISOString().split("T")[0]}.csv`),Re.style.visibility="hidden",document.body.appendChild(Re),Re.click(),document.body.removeChild(Re)},Qe=we=>{o("view"),c(we),a(!0)},ce=()=>{a(!1),c(null)},se=we=>{switch(we){case"Active":return"bg-green-100 text-green-800 border-green-200";case"Maintenance":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Inactive":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-[#1C1444] border-gray-200"}},je=we=>{we>=1&&we<=G&&xe(we)};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-[#1C1444] text-white p-6 shadow-lg",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(El,{className:"w-6 h-6 text-[#F37021]"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Transport Management"}),s.jsx("p",{className:"text-[#F37021] mt-1",children:"Manage buses, routes, and drivers"})]})]}),s.jsxs("button",{onClick:le,className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2",title:"Export to CSV",disabled:p,children:[s.jsx(Cs,{className:"w-4 h-4 text-white"}),s.jsx("span",{children:"Export CSV"})]})]})}),s.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[s.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search bus, route, driver...",value:t,onChange:we=>r(we.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"})]}),s.jsxs("select",{value:C,onChange:we=>S(we.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444] min-w-[150px]",children:[s.jsx("option",{value:"all",children:"All Schools"}),me.length>0?me.map(we=>s.jsx("option",{value:we._id,children:we.name},we._id)):s.jsx("option",{disabled:!0,children:"No schools available"})]}),s.jsxs("select",{value:k,onChange:we=>L(we.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444] min-w-[150px]",children:[s.jsx("option",{value:"all",children:"All Classes"}),te.length>0?te.map(we=>s.jsx("option",{value:we,children:we},we)):s.jsx("option",{disabled:!0,children:"No classes available"})]}),s.jsxs("select",{value:I,onChange:we=>Y(we.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444] min-w-[150px]",disabled:k==="all"||Ae.length===0,children:[s.jsx("option",{value:"all",children:"All Sections"}),Ae.length>0?Ae.map(we=>s.jsx("option",{value:we,children:we},we)):s.jsx("option",{disabled:!0,children:"No sections available"})]}),s.jsxs("button",{onClick:()=>de(!ee),className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-[#1C1444]",children:[s.jsx(Mo,{className:"w-4 h-4 text-[#F37021]"}),s.jsx("span",{children:"Advanced Filters"})]})]}),ee&&s.jsx("div",{className:"border-t pt-4 mt-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Route"}),s.jsxs("select",{value:Q,onChange:we=>H(we.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[s.jsx("option",{value:"",children:"All Routes"}),ie.map(we=>s.jsx("option",{value:we,children:we},we))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Status"}),s.jsxs("select",{value:U,onChange:we=>K(we.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[s.jsx("option",{value:"",children:"All Status"}),ye.map(we=>s.jsx("option",{value:we,children:we},we))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Driver"}),s.jsxs("select",{value:X,onChange:we=>Z(we.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[s.jsx("option",{value:"",children:"All Drivers"}),pe.map(we=>s.jsx("option",{value:we,children:we},we))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Min Capacity"}),s.jsx("input",{type:"number",placeholder:"Min",value:Ne.min,onChange:we=>Se({...Ne,min:we.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"}),s.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1 mt-2",children:"Max Capacity"}),s.jsx("input",{type:"number",placeholder:"Max",value:Ne.max,onChange:we=>Se({...Ne,max:we.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:ge,className:"w-full px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-[#1C1444]",children:"Clear Filters"})})]})})]}),p?s.jsxs("div",{className:"text-center py-12 text-[#1C1444]",children:[s.jsx(El,{className:"w-12 h-12 mx-auto text-[#F37021] mb-4 animate-pulse"}),"Loading..."]}):b?s.jsx("div",{className:"text-center py-12 text-red-700 bg-red-50 rounded-lg p-4",children:b}):s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("h2",{className:"text-lg font-semibold text-[#1C1444]",children:["Buses (",V.length,")"]})}),s.jsx("div",{className:"relative overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[800px]",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider min-w-[180px]",children:"Bus Details"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider min-w-[200px]",children:"Route & Driver"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider min-w-[180px]",children:"Schedule"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider min-w-[120px]",children:"Capacity"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider whitespace-nowrap",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider min-w-[120px]",children:"School"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider whitespace-nowrap",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:V.map(we=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-[#F37021]/10 rounded-lg flex items-center justify-center",children:s.jsx(El,{className:"w-6 h-6 text-[#F37021]"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-[#1C1444]",children:we.busNumber}),s.jsx("div",{className:"text-sm text-[#1C1444]",children:we.transportType||"Bus"})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"text-sm text-[#1C1444]",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx(n6,{className:"w-4 h-4 mr-2 text-[#F37021]"}),we.routeName||we.route]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ns,{className:"w-4 h-4 mr-2 text-[#F37021]"}),we.driverName]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"text-sm text-[#1C1444]",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx(_n,{className:"w-4 h-4 mr-2 text-[#F37021]"}),we.startTime||we.pickupTime," -"," ",we.endTime||we.dropoffTime]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(SG,{className:"w-4 h-4 mr-2 text-[#F37021]"}),Array.isArray(we.operatingDays)?we.operatingDays.join(", "):""]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"font-medium text-[#1C1444]",children:[we.currentOccupancy??0,"/",we.totalCapacity??we.capacity??0]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:s.jsx("div",{className:"bg-[#F37021] h-2 rounded-full",style:{width:`${(we.currentOccupancy??0)/(we.totalCapacity??we.capacity??1)*100}%`}})})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full border ${se(we.status)}`,children:we.status})}),s.jsx("td",{className:"px-6 py-4",children:we.schoolId&&typeof we.schoolId=="object"?s.jsxs("span",{className:"flex items-center text-[#1C1444]",children:[s.jsx(Ma,{className:"w-4 h-4 mr-1 text-[#F37021]"}),we.schoolId.name||"Unknown School"]}):s.jsxs("span",{className:"flex items-center text-[#1C1444]",children:[s.jsx(Ma,{className:"w-4 h-4 mr-1 text-[#F37021]"}),y.find(q=>q._id===we.schoolId)?.name||"Unknown School"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsx("div",{className:"flex space-x-2",children:s.jsx("button",{onClick:()=>Qe(we),className:"text-[#F37021] hover:text-[#d65f1c] p-1 rounded hover:bg-[#F37021]/10",title:"View Details",children:s.jsx(Ds,{className:"w-4 h-4"})})})})]},we._id))})]})}),V.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(El,{className:"w-12 h-12 mx-auto text-[#F37021] mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:"No buses match your filters"}),s.jsx("button",{onClick:ge,className:"text-[#F37021] hover:text-[#d65f1c] underline",children:"Clear filters to see all buses"})]}),!p&&ae>0&&s.jsxs("div",{className:"mt-6 flex justify-between items-center p-6 border-t border-gray-200",children:[s.jsxs("div",{className:"text-sm text-[#1C1444]",children:["Showing ",(ue-1)*R+1," to"," ",Math.min(ue*R,ae)," of"," ",ae," records"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>je(ue-1),disabled:ue===1,className:"px-4 py-2 bg-[#F37021] text-white rounded-lg disabled:opacity-50 hover:bg-[#d65f1c] transition-colors",children:"Previous"}),s.jsx("button",{onClick:()=>je(ue+1),disabled:ue===G,className:"px-4 py-2 bg-[#F37021] text-white rounded-lg disabled:opacity-50 hover:bg-[#d65f1c] transition-colors",children:"Next"})]})]})]}),n&&l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[s.jsxs("h2",{className:"text-xl font-bold text-[#1C1444] flex items-center",children:[s.jsx("div",{className:"w-8 h-8 bg-[#F37021]/10 rounded-lg flex items-center justify-center mr-3",children:s.jsx(Ds,{className:"text-[#F37021]"})}),"Bus Details"]}),s.jsx("button",{onClick:ce,className:"text-[#1C1444] hover:text-[#F37021]",children:s.jsx(sr,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[s.jsx("div",{className:"w-20 h-20 bg-[#F37021]/10 rounded-full flex items-center justify-center",children:s.jsx(El,{className:"w-10 h-10 text-[#F37021]"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-[#1C1444]",children:l.busNumber}),s.jsx("p",{className:"text-[#1C1444]",children:l.routeName||l.route}),s.jsx("p",{className:"text-[#1C1444]",children:l.schoolId&&typeof l.schoolId=="object"?l.schoolId.name||"Unknown School":y.find(we=>we._id===l.schoolId)?.name||"Unknown School"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(n6,{className:"w-5 h-5 text-[#F37021]"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#1C1444]",children:"Route"}),s.jsx("p",{className:"font-medium text-[#1C1444]",children:l.routeName||l.route})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ns,{className:"w-5 h-5 text-[#F37021]"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#1C1444]",children:"Driver"}),s.jsx("p",{className:"font-medium text-[#1C1444]",children:l.driverName})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(xf,{className:"w-5 h-5 text-[#F37021]"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#1C1444]",children:"Driver Phone"}),s.jsx("p",{className:"font-medium text-[#1C1444]",children:l.driverPhone})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(_n,{className:"w-5 h-5 text-[#F37021]"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#1C1444]",children:"Start Time"}),s.jsx("p",{className:"font-medium text-[#1C1444]",children:l.startTime||l.pickupTime})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(_n,{className:"w-5 h-5 text-[#F37021]"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#1C1444]",children:"End Time"}),s.jsx("p",{className:"font-medium text-[#1C1444]",children:l.endTime||l.dropoffTime})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Jr,{className:"w-5 h-5 text-[#F37021]"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#1C1444]",children:"Capacity"}),s.jsxs("p",{className:"font-medium text-[#1C1444]",children:[l.currentOccupancy??0,"/",l.totalCapacity??l.capacity??0]})]})]})]})]}),Array.isArray(l.routeStops)&&l.routeStops.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-[#1C1444] mt-6 mb-2",children:"Route Stops"}),s.jsx("ul",{className:"space-y-2",children:l.routeStops.map((we,q)=>s.jsxs("li",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center font-bold text-[#F37021]",children:we.stopOrder}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-[#1C1444]",children:we.stopName}),s.jsxs("div",{className:"text-xs text-[#1C1444]",children:[we.stopTime," ",we.landmark&&`• ${we.landmark}`]})]})]},we._id||q))})]}),Array.isArray(l.assignedStudents)&&l.assignedStudents.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-[#1C1444] mt-6 mb-2",children:"Assigned Students"}),s.jsx("ul",{className:"space-y-2",children:l.assignedStudents.map((we,q)=>s.jsxs("li",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center font-bold text-[#F37021]",children:q+1}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-[#1C1444]",children:we.studentId?.name||"Unknown Student"}),s.jsxs("div",{className:"text-xs text-[#1C1444]",children:["Roll: ",we.studentId?.rollNumber||"N/A"," | Class:"," ",(()=>{const be=E.find(Ee=>Ee._id===we.studentId?.classId);return be?`${be.className}${be.section?`-${be.section}`:""}`:"Unknown Class"})(),"| Payment: ",we.paymentStatus||"N/A"]})]})]},we._id||q))})]})]})]})})]})]})},Ube=()=>{const[t,r]=w.useState([]),[n,a]=w.useState(!0),[i,o]=w.useState(null),[l,c]=w.useState(""),[u,f]=w.useState(""),[A,m]=w.useState(!1),[p,g]=w.useState({start:"",end:""});w.useEffect(()=>{(async()=>{try{const L=(await Ft.get("https://vidyaastra.com/api/diary/all-unfiltered")).data.data.map(I=>({id:I._id,title:I.title,date:I.date,content:I.content,category:I.category}));r(L)}catch(D){console.error("Failed to fetch diary entries:",D),o("Failed to load diary entries.")}finally{a(!1)}})()},[]);const b=[...new Set(t.map(E=>E.category))].filter(Boolean),v=t.filter(E=>{const D=E.title.toLowerCase().includes(l.toLowerCase())||E.content.toLowerCase().includes(l.toLowerCase())||E.category.toLowerCase().includes(l.toLowerCase()),k=!u||E.category===u;let L=!0;if(p.start&&p.end){const I=new Date(E.date).toISOString().split("T")[0];L=I>=p.start&&I<=p.end}return D&&k&&L}),y=()=>{c(""),f(""),g({start:"",end:""})},j=()=>{if(v.length===0){alert("No data to export");return}const E=v.map(Q=>({Title:Q.title,Date:S(Q.date),Category:Q.category,Content:Q.content})),D=Object.keys(E[0]),k=[D.join(","),...E.map(Q=>D.map(H=>`"${Q[H]}"`).join(","))].join(`
`),L=new Blob([k],{type:"text/csv;charset=utf-8;"}),I=document.createElement("a"),Y=URL.createObjectURL(L);I.setAttribute("href",Y),I.setAttribute("download",`diary_entries_${new Date().toISOString().split("T")[0]}.csv`),I.style.visibility="hidden",document.body.appendChild(I),I.click(),document.body.removeChild(I)},C=E=>{switch(E){case"Academic":return"bg-blue-100 text-blue-700";case"Personal":return"bg-orange-100 text-orange-700";case"Sports":return"bg-green-100 text-green-700";case"Projects":return"bg-purple-100 text-purple-700";default:return"bg-gray-100 text-gray-700"}},S=E=>new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"});return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-6 rounded-b-3xl shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(cf,{className:"w-6 h-6"}),s.jsx("h1",{className:"text-2xl font-bold",children:"My Diary"})]}),s.jsxs("button",{onClick:j,className:"bg-white bg-opacity-20 text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2 hover:bg-opacity-30 transition-all",title:"Export to CSV",disabled:n,children:[s.jsx(Cs,{})," ",s.jsx("span",{children:"Export CSV"})]})]}),s.jsx("p",{className:"text-purple-100 mt-2",children:"Personal notes and thoughts"})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search diary entries by title, content, or category...",value:l,onChange:E=>c(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",v.length," of ",t.length," entries"]}),s.jsxs("button",{onClick:()=>m(!A),className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[s.jsx(Mo,{}),s.jsx("span",{children:"Advanced Filters"})]})]})}),A&&s.jsx("div",{className:"border-t pt-4 mt-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),s.jsxs("select",{value:u,onChange:E=>f(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"",children:"All Categories"}),b.map(E=>s.jsx("option",{value:E,children:E},E))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date From"}),s.jsx("input",{type:"date",value:p.start,onChange:E=>g({...p,start:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date To"}),s.jsx("input",{type:"date",value:p.end,onChange:E=>g({...p,end:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:y,className:"w-full px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-gray-700",children:"Clear Filters"})})]})})]}),s.jsx("div",{className:"overflow-x-auto",children:n?s.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading..."}):i?s.jsx("div",{className:"text-center py-12 text-red-500",children:i}):v.length===0&&t.length>0?s.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[s.jsx(cf,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No diary entries match your filters"}),s.jsx("button",{onClick:y,className:"text-purple-600 hover:text-purple-800 underline",children:"Clear filters to see all entries"})]}):t.length===0?s.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[s.jsx(cf,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),s.jsx("p",{className:"text-gray-500 text-lg",children:"No diary entries yet"}),s.jsx("p",{className:"text-gray-400",children:"Start writing your thoughts!"})]}):s.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Title"}),s.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Date"}),s.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Content"}),s.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Category"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:v.map(E=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-4 px-4 font-medium text-gray-900",children:E.title}),s.jsx("td",{className:"py-4 px-4 text-gray-600",children:S(E.date)}),s.jsx("td",{className:"py-4 px-4",children:s.jsx("div",{className:"line-clamp-2 max-w-prose text-gray-600",children:E.content})}),s.jsx("td",{className:"py-4 px-4",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${C(E.category)}`,children:E.category})})]},E.id))})]})})})]})]})},Mbe=()=>{const[t,r]=w.useState([]),[n,a]=w.useState(!0),[i,o]=w.useState(null),[l,c]=w.useState({key:"date",direction:"asc"}),[u,f]=w.useState("All"),[A,m]=w.useState(!1),[p,g]=w.useState(""),[b,v]=w.useState(!1),[y,j]=w.useState({start:"",end:""}),[C,S]=w.useState("All"),[E,D]=w.useState("All"),[k,L]=w.useState("All"),[I,Y]=w.useState(1),[Q]=w.useState(10),[H,U]=w.useState(1),[K,X]=w.useState(0),Z=["All","Sports","Academics","Cultural","Meeting","Other"],ee=["All","Morning","Afternoon","Evening"],de=Ae=>({Sports:"⚽",Academics:"🧪",Cultural:"🎭",Meeting:"👥",Other:"📌"})[Ae]||"📅",Ne=Ae=>{switch(Ae){case"Sports":return"bg-[#F37021]/10 text-[#F37021]";case"Academics":return"bg-green-100 text-green-700";case"Cultural":return"bg-purple-100 text-purple-700";case"Meeting":return"bg-yellow-100 text-yellow-700";case"Other":return"bg-gray-100 text-[#1C1444]";default:return"bg-gray-100 text-[#1C1444]"}},Se=["All",...Array.from(new Map(t.filter(Ae=>Ae.schoolId&&Ae.schoolId._id&&Ae.schoolId.name).map(Ae=>[Ae.schoolId._id,Ae.schoolId.name])).values())],ue=["All",...new Set(t.map(Ae=>Ae.location).filter(Boolean))],R=(()=>{let Ae=[...t];if(p){const V=p.toLowerCase();Ae=Ae.filter(ie=>ie.title.toLowerCase().includes(V)||ie.description.toLowerCase().includes(V)||ie.location.toLowerCase().includes(V))}return u!=="All"&&(Ae=Ae.filter(V=>V.category===u)),C!=="All"&&(Ae=Ae.filter(V=>V.location===C)),k!=="All"&&(Ae=Ae.filter(V=>V.schoolId&&(typeof V.schoolId=="object"&&V.schoolId.name===k||V.schoolId===k))),y.start&&(Ae=Ae.filter(V=>new Date(V.date)>=new Date(y.start))),y.end&&(Ae=Ae.filter(V=>new Date(V.date)<=new Date(y.end))),E!=="All"&&(Ae=Ae.filter(V=>{const ie=Number.parseInt((V.startTime||V.time&&V.time.split(" - ")[0]||"09:00").split(":")[0]);return E==="Morning"?ie>=6&&ie<12:E==="Afternoon"?ie>=12&&ie<17:E==="Evening"?ie>=17||ie<6:!0})),Ae})(),G=[...R].sort((Ae,V)=>Ae[l.key]<V[l.key]?l.direction==="asc"?-1:1:Ae[l.key]>V[l.key]?l.direction==="asc"?1:-1:0),ne=Ae=>{let V="asc";l.key===Ae&&l.direction==="asc"&&(V="desc"),c({key:Ae,direction:V})},ae=()=>{const Ae=["Event Title","Date","Start Time","End Time","Location","Category","School","Description"],V=G.map(le=>[`"${le.title}"`,`"${new Date(le.date).toLocaleDateString()}"`,`"${le.startTime}"`,`"${le.endTime}"`,`"${le.location}"`,`"${le.category}"`,`"${le.schoolId&&le.schoolId.name?le.schoolId.name:""}"`,`"${(le.description||"").replace(/"/g,'""')}"`]),ie=[Ae.join(","),...V.map(le=>le.join(","))].join(`
`),pe=new Blob([ie],{type:"text/csv;charset=utf-8;"}),ye=document.createElement("a"),ge=URL.createObjectURL(pe);ye.setAttribute("href",ge),ye.setAttribute("download",`events_${new Date().toISOString().split("T")[0]}.csv`),ye.style.visibility="hidden",document.body.appendChild(ye),ye.click(),document.body.removeChild(ye)},oe=()=>{g(""),f("All"),S("All"),D("All"),j({start:"",end:""}),L("All"),Y(1)};w.useEffect(()=>{(async()=>{try{a(!0);const V=await Ft.get("https://vidyaastra.com/api/events/global",{params:{page:I,limit:Q}});if(V.data.success){const pe=V.data.data.map(ye=>{let ge="09:00",le="17:00";if(ye.time&&typeof ye.time=="string"){const Qe=ye.time.split(" - ");ge=Qe[0]||"09:00",le=Qe[1]||"17:00"}else ye.startTime&&ye.endTime&&(ge=ye.startTime,le=ye.endTime);return{id:ye._id||"unknown-id",title:ye.title||"Untitled Event",date:ye.date||new Date().toISOString().split("T")[0],startTime:ge,endTime:le,location:ye.location||"Unknown Location",category:ye.category||"Other",description:ye.description||"",icon:de(ye.category||"Other"),schoolId:ye.schoolId||null}});r(pe),U(V.data.totalPages),X(V.data.total),o(null)}else throw new Error(V.data.message||"No events found")}catch{o("Failed to load events. Please check the API and try again.")}finally{a(!1)}})()},[I,Q]);const he=()=>{I>1&&Y(I-1)},me=()=>{I<H&&Y(I+1)},te=Ae=>{Ae>=1&&Ae<=H&&Y(Ae)};return n?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#F37021]"})}):i?s.jsx("div",{className:"container mx-auto px-4 py-6",children:s.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsxs("span",{className:"block sm:inline",children:[" ",i]})]})}):s.jsxs("div",{className:"container mx-auto px-4 py-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-[#1C1444]",children:"All Events"}),s.jsx("div",{className:"flex space-x-4",children:s.jsxs("button",{onClick:ae,className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(Cs,{className:"w-4 h-4 text-white"}),s.jsx("span",{children:"Export CSV"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 mb-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search events by title, description, or location...",value:p,onChange:Ae=>g(Ae.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"})]}),s.jsx("select",{value:u,onChange:Ae=>f(Ae.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:Z.map(Ae=>s.jsx("option",{value:Ae,children:Ae},Ae))}),s.jsx("select",{value:k,onChange:Ae=>L(Ae.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:Se.map((Ae,V)=>Ae==="All"?s.jsx("option",{value:"All",children:"All Schools"},"all-schools"):s.jsx("option",{value:Ae,children:Ae},Ae))}),s.jsxs("button",{onClick:()=>v(!b),className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(Mo,{className:"w-4 h-4 text-white"}),s.jsx("span",{children:"Filters"})]})]}),b&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:[s.jsx(v0,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"Location"]}),s.jsx("select",{value:C,onChange:Ae=>S(Ae.target.value),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:ue.map(Ae=>s.jsx("option",{value:Ae,children:Ae},Ae))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:[s.jsx(_n,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"Time"]}),s.jsx("select",{value:E,onChange:Ae=>D(Ae.target.value),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:ee.map(Ae=>s.jsx("option",{value:Ae,children:Ae},Ae))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:[s.jsx(en,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"Start Date"]}),s.jsx("input",{type:"date",value:y.start,onChange:Ae=>j(V=>({...V,start:Ae.target.value})),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:[s.jsx(en,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"End Date"]}),s.jsx("input",{type:"date",value:y.end,onChange:Ae=>j(V=>({...V,end:Ae.target.value})),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"})]})]}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsxs("button",{onClick:oe,className:"text-[#1C1444] hover:text-[#F37021] px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[s.jsx(sr,{className:"w-4 h-4 text-[#F37021]"}),s.jsx("span",{children:"Clear Filters"})]})})]}),s.jsxs("div",{className:"mt-4 text-sm text-[#1C1444]",children:["Showing ",G.length," of ",K," events",(p||u!=="All"||C!=="All"||k!=="All"||E!=="All"||y.start||y.end)&&s.jsx("span",{className:"ml-2 text-[#F37021]",children:"(filtered)"})]})]}),s.jsx("div",{className:"relative overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[640px] bg-white rounded-lg shadow-sm border",children:[s.jsx("thead",{className:"bg-gray-100",children:s.jsxs("tr",{children:[s.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider cursor-pointer",onClick:()=>ne("title"),children:["Event"," ",l.key==="title"&&(l.direction==="asc"?"↑":"↓")]}),s.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider cursor-pointer",onClick:()=>ne("date"),children:["Date"," ",l.key==="date"&&(l.direction==="asc"?"↑":"↓")]}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Time"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Location"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Category"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"School"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:G.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-[#1C1444]",children:R.length===0&&t.length>0?s.jsxs("div",{children:[s.jsx("p",{children:"No events found matching your search criteria."}),s.jsx("button",{onClick:oe,className:"mt-2 text-[#F37021] hover:text-[#d65f1c] underline",children:"Clear filters to see all events"})]}):"No events found"})}):G.map(Ae=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 min-w-[200px]",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:`text-xl mr-3 ${Ne(Ae.category)} rounded-full p-2`,children:Ae.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-[#1C1444]",children:Ae.title}),s.jsx("div",{className:"text-[#1C1444] text-sm mt-1 line-clamp-2",children:Ae.description})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:new Date(Ae.date).toLocaleDateString()}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:[Ae.startTime," - ",Ae.endTime]}),s.jsx("td",{className:"px-6 py-4 text-sm text-[#1C1444] min-w-[120px]",children:Ae.location}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${Ne(Ae.category)}`,children:Ae.category})}),s.jsx("td",{className:"px-6 py-4 text-sm text-[#1C1444] min-w-[120px]",children:Ae.schoolId&&Ae.schoolId.name?s.jsxs("span",{className:"flex items-center",children:[s.jsx(Ma,{className:"w-4 h-4 mr-1 text-[#F37021]"}),Ae.schoolId.name]}):"N/A"})]},Ae.id))})]})}),K>0&&s.jsxs("div",{className:"mt-6 flex items-center justify-between bg-white rounded-lg shadow-sm border p-4",children:[s.jsxs("div",{className:"text-sm text-[#1C1444]",children:["Page ",I," of ",H]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:he,disabled:I===1,className:`px-3 py-2 rounded-lg ${I===1?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:s.jsx(co,{})}),Array.from({length:H},(Ae,V)=>V+1).filter(Ae=>Ae===1||Ae===H||Ae>=I-2&&Ae<=I+2).map(Ae=>s.jsx("button",{onClick:()=>te(Ae),className:`px-3 py-1 rounded-lg ${I===Ae?"bg-[#F37021] text-white":"bg-gray-100 text-[#1C1444] hover:bg-gray-200"}`,children:Ae},Ae)),s.jsx("button",{onClick:me,disabled:I===H,className:`px-3 py-2 rounded-lg ${I===H?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:s.jsx(xi,{})})]})]})]})},Rbe=()=>{const[t,r]=w.useState({upcoming:[],past:[]}),[n,a]=w.useState(""),[i,o]=w.useState("all"),[l,c]=w.useState("all"),[u,f]=w.useState(""),[A,m]=w.useState(""),[p,g]=w.useState([]),[b,v]=w.useState(!1),[y,j]=w.useState(!0),[C,S]=w.useState(null),[E,D]=w.useState({}),[k,L]=w.useState({}),[I,Y]=w.useState(1),[Q]=w.useState(10),[H,U]=w.useState(0),[K,X]=w.useState(1),Z="https://vidyaastra.com/api/birthdays/all",ee="https://vidyaastra.com/api/schools/",de="https://vidyaastra.com/api/teachers/",Ne="https://vidyaastra.com/api/class";w.useEffect(()=>{(async()=>{try{j(!0);const se=await Ft.get(`${Z}?page=${I}&limit=${Q}`);if(!se.data.success)throw new Error(se.data.message||"Failed to fetch birthdays");if(!Array.isArray(se.data.data))throw new Error("Invalid data format received from server");U(se.data.total||0),X(se.data.totalPages||1);const je=[...new Set(se.data.data.filter(et=>et.role?.toLowerCase()==="teacher").map(et=>et._id).filter(Boolean))],we={};await Promise.all(je.map(async et=>{try{const Ct=await Ft.get(`${de}${et}`);Ct.data.success&&Ct.data.data?.name?we[et]=Ct.data.data.name:we[et]="Unknown"}catch{we[et]="Unknown"}})),L(we);const q=[...new Set(se.data.data.map(et=>typeof et.schoolId=="object"?et.schoolId?._id:et.schoolId).filter(Boolean))],be={};await Promise.all(q.map(async et=>{try{const Ct=await Ft.get(`${ee}${et}`);Ct.data.success&&Ct.data.data?.name?be[et]=Ct.data.data.name:be[et]="Unknown School"}catch{be[et]="Unknown School"}})),D(be);let Ee=[];if(l==="all")await Promise.all(q.map(async et=>{try{const Ct=await Ft.get(`${Ne}?schoolId=${et}`);if(Ct.data.success&&Array.isArray(Ct.data.data)){const _t=Ct.data.data.map(ot=>({_id:ot._id,className:ot.className||"Unknown",section:ot.section||"",schoolId:ot.schoolId||et}));Ee=[...Ee,..._t]}}catch(Ct){console.error(`Failed to fetch classes for school ${et}:`,Ct.message)}}));else{const et=await Ft.get(`${Ne}?schoolId=${l}`);et.data.success&&Array.isArray(et.data.data)&&(Ee=et.data.data.map(Ct=>({_id:Ct._id,className:Ct.className||"Unknown",section:Ct.section||"",schoolId:Ct.schoolId||l})))}g(Ee);let Re={upcoming:[],past:[]};const it=new Date;Re.upcoming=se.data.data.filter(et=>{const Ct=new Date(et.date);return Ct.setFullYear(it.getFullYear()),Ct<it&&Ct.setFullYear(it.getFullYear()+1),Ct>=it}),Re.past=se.data.data.filter(et=>{const Ct=new Date(et.date);return Ct.setFullYear(it.getFullYear()),Ct<it}),Re.upcoming=Re.upcoming.map(et=>({...et,_id:et._id||"unknown-id",name:et.role?.toLowerCase()==="teacher"?we[et._id]||et.name||"Unknown":et.name||"Unknown",role:et.role||"Unknown",date:et.date||new Date().toISOString().split("T")[0],type:et.type||"upcoming",classId:et.classId||null})),Re.past=Re.past.map(et=>({...et,_id:et._id||"unknown-id",name:et.role?.toLowerCase()==="teacher"?we[et._id]||et.name||"Unknown":et.name||"Unknown",role:et.role||"Unknown",date:et.date||new Date().toISOString().split("T")[0],type:et.type||"past",classId:et.classId||null})),r(Re),S(null)}catch(se){S("Failed to load data: "+se.message)}finally{j(!1)}})()},[I,Q,l]),w.useEffect(()=>{m("")},[u]);const Se=[...Array.isArray(t.upcoming)?t.upcoming:[],...Array.isArray(t.past)?t.past:[]],xe=[...new Set(Se.map(ce=>typeof ce.schoolId=="object"?ce.schoolId?._id:ce.schoolId).filter(Boolean))].map(ce=>({_id:ce,name:E[ce]||"Unknown School"})),R=w.useMemo(()=>[...new Set(p.filter(ce=>!l||ce.schoolId===l).map(ce=>ce.className).filter(Boolean))].sort(),[p,l]),G=w.useMemo(()=>u?[...new Set(p.filter(ce=>ce.className===u&&(!l||ce.schoolId===l)).map(ce=>ce.section).filter(Boolean))].sort():[],[p,u,l]),ne=ce=>{if(!/\d{4}/.test(ce))return null;const se=new Date,je=new Date(ce);let we=se.getFullYear()-je.getFullYear();const q=se.getMonth()-je.getMonth();return(q<0||q===0&&se.getDate()<je.getDate())&&we--,we},ae=ce=>{const se=new Date,je=new Date(ce),we=se.getFullYear(),q=new Date(we,je.getMonth(),je.getDate());return q<se&&q.setFullYear(we+1),Math.ceil((q-se)/(1e3*60*60*24))},oe=ce=>new Date(ce).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),he=ce=>{const je={student:{color:"bg-[#F37021]/10 text-[#F37021]",icon:Jr,text:"Student"},teacher:{color:"bg-green-100 text-green-800",icon:Jr,text:"Teacher"},staff:{color:"bg-yellow-100 text-yellow-800",icon:Jr,text:"Staff"}}[ce?.toLowerCase()]||{color:"bg-gray-100 text-[#1C1444]",icon:Jr,text:ce||"Unknown"},we=je.icon;return s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${je.color}`,children:[s.jsx(we,{className:"w-3 h-3 mr-1"}),je.text]})},me=ce=>ce===0?s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[s.jsx(Jd,{className:"w-3 h-3 mr-1"}),"Today!"]}):ce<=7?s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[s.jsx(_n,{className:"w-3 h-3 mr-1"}),ce," days"]}):ce<=30?s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[s.jsx(en,{className:"w-3 h-3 mr-1"}),ce," days"]}):s.jsxs("span",{className:"text-sm text-[#1C1444]",children:[ce," days"]}),te=w.useMemo(()=>Se.filter(ce=>{const se=ce.name?.toLowerCase().includes(n.toLowerCase())||!1,je=new Date(ce.date).getMonth()+1,we=i==="all"||je.toString()===i,q=l==="all"||(typeof ce.schoolId=="object"?ce.schoolId?._id===l:ce.schoolId===l),be=!u||ce.classId&&p.find(Ee=>Ee._id===ce.classId)?.className===u&&(!A||p.find(Ee=>Ee._id===ce.classId)?.section===A);return se&&we&&q&&be}),[Se,n,i,l,u,A,p]),Ae=[{value:"1",label:"January"},{value:"2",label:"February"},{value:"3",label:"March"},{value:"4",label:"April"},{value:"5",label:"May"},{value:"6",label:"June"},{value:"7",label:"July"},{value:"8",label:"August"},{value:"9",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],V=w.useMemo(()=>{const ce=Se.length,se=Se.filter(q=>ae(q.date)===0).length,je=Se.filter(q=>ae(q.date)<=7).length,we=Se.filter(q=>ae(q.date)<=30).length;return{total:ce,todayBirthdays:se,thisWeekBirthdays:je,thisMonthBirthdays:we}},[Se]),ie=()=>{const ce=te.map(be=>{const Ee=typeof be.schoolId=="object"?be.schoolId?._id:be.schoolId,Re=be.classId?p.find(it=>it._id===be.classId):null;return{Name:be.name,Role:be.role||"Unknown","Birth Date":oe(be.date),Age:ne(be.date)!==null?`${ne(be.date)} years`:"N/A","Days Until Birthday":ae(be.date),Type:be.type,"Birth Month":new Date(be.date).toLocaleDateString("en-US",{month:"long"}),"Birth Day":new Date(be.date).getDate(),Class:Re?`${Re.className}${Re.section?`-${Re.section}`:""}`:"N/A",Section:Re&&Re.section||"N/A","School Name":Ee?E[Ee]||"Unknown School":"N/A"}}),se=[Object.keys(ce[0]).map(be=>`"${be}"`).join(","),...ce.map(be=>Object.values(be).map(Ee=>`"${Ee}"`).join(","))].join(`
`),je=new Blob([se],{type:"text/csv;charset=utf-8;"}),we=document.createElement("a"),q=URL.createObjectURL(je);we.setAttribute("href",q),we.setAttribute("download",`birthdays_${new Date().toISOString().split("T")[0]}.csv`),we.style.visibility="hidden",document.body.appendChild(we),we.click(),document.body.removeChild(we)},pe=()=>{a(""),o("all"),c("all"),f(""),m(""),Y(1)},ye=n||i!=="all"||l!=="all"||u||A,ge=()=>{I>1&&Y(I-1)},le=()=>{I<K&&Y(I+1)},Qe=ce=>{Y(ce)};return y?s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#F37021]"})}):C?s.jsx("div",{className:"container mx-auto px-4 py-6",children:s.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[s.jsx("strong",{className:"font-bold",children:"Error!"}),s.jsxs("span",{className:"block sm:inline",children:[" ",C]})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("div",{className:"bg-gradient-to-r from-[#1C1444] to-[#1C1444] text-white p-6 rounded-b-3xl shadow-lg",children:[s.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Jd,{className:"w-6 h-6 text-[#F37021]"}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Birthday Management"})]}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("button",{onClick:ie,className:"flex items-center space-x-2 bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-xl transition-all",children:[s.jsx(Cs,{className:"w-4 h-4 text-white"}),s.jsx("span",{children:"Export CSV"})]})})]}),s.jsx("p",{className:"container mx-auto text-[#F37021] mt-2",children:"Track and manage birthdays for students, teachers, and staff"})]}),s.jsx("div",{className:"container mx-auto p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Total Records",value:V.total,color:"blue",icon:Jr},{label:"Today's Birthdays",value:V.todayBirthdays,color:"red",icon:Jd},{label:"This Week",value:V.thisWeekBirthdays,color:"orange",icon:_n},{label:"This Month",value:V.thisMonthBirthdays,color:"yellow",icon:en}].map((ce,se)=>s.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-[#1C1444]",children:ce.label}),s.jsx("p",{className:"text-2xl font-bold text-[#1C1444]",children:ce.value})]}),s.jsx("div",{className:"p-3 bg-[#F37021]/10 rounded-xl",children:s.jsx(ce.icon,{className:"w-6 h-6 text-[#F37021]"})})]})},se))}),s.jsx("div",{className:"container mx-auto px-6 mb-6",children:s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search name...",value:n,onChange:ce=>a(ce.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"})]}),s.jsxs("select",{value:l,onChange:ce=>{c(ce.target.value),f(""),m(""),Y(1)},className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[s.jsx("option",{value:"all",children:"All Schools"}),xe.map(ce=>s.jsx("option",{value:ce._id,children:ce.name},ce._id))]}),s.jsxs("select",{value:u,onChange:ce=>f(ce.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",disabled:y||R.length===0,children:[s.jsx("option",{value:"",children:"All Classes"}),R.length===0?s.jsx("option",{value:"",disabled:!0,children:"No classes available"}):R.map(ce=>s.jsx("option",{value:ce,children:ce},ce))]}),s.jsxs("select",{value:A,onChange:ce=>m(ce.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",disabled:y||u===""||G.length===0,children:[s.jsx("option",{value:"",children:"All Sections"}),G.length===0?s.jsx("option",{value:"",disabled:!0,children:"No sections available"}):G.map(ce=>s.jsx("option",{value:ce,children:ce},ce))]}),s.jsxs("select",{value:i,onChange:ce=>o(ce.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[s.jsx("option",{value:"all",children:"All Months"}),Ae.map(ce=>s.jsx("option",{value:ce.value,children:ce.label},ce.value))]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>v(!b),className:"flex items-center space-x-2 text-[#F37021] hover:text-[#d65f1c] font-medium",children:[s.jsx(Mo,{className:"w-4 h-4 text-[#F37021]"}),s.jsx("span",{children:"Advanced Filters"}),b?s.jsx(sr,{className:"w-4 h-4 text-[#F37021]"}):s.jsx(Ds,{className:"w-4 h-4 text-[#F37021]"})]}),ye&&s.jsxs("button",{onClick:pe,className:"flex items-center space-x-2 text-[#1C1444] hover:text-[#F37021] font-medium",children:[s.jsx(sr,{className:"w-4 h-4 text-[#F37021]"}),s.jsx("span",{children:"Clear Filters"})]})]})]})}),s.jsx("div",{className:"container mx-auto px-6 mb-4",children:s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#1C1444]",children:[s.jsxs("span",{children:["Showing ",te.length," of ",H," birthdays",ye&&s.jsx("span",{className:"text-[#F37021]",children:" (filtered)"})]}),s.jsxs("span",{children:["Page ",I," of ",K]})]})}),s.jsxs("div",{className:"container mx-auto px-6 pb-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[900px]",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Person"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Birth Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Age"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Next Birthday"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Class"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Section"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"School"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Type"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:te.map(ce=>{const se=typeof ce.schoolId=="object"?ce.schoolId?._id:ce.schoolId,je=ce.classId?p.find(we=>we._id===ce.classId):null;return s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-[#1C1444]",children:ce.name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:he(ce.role)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-[#1C1444]",children:oe(ce.date)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-[#1C1444]",children:ne(ce.date)!==null?`${ne(ce.date)} years`:"N/A"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:me(ae(ce.date))}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-[#1C1444]",children:je?`${je.className}${je.section?`-${je.section}`:""}`:"N/A"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-[#1C1444]",children:je&&je.section||"N/A"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:se?s.jsxs("span",{className:"flex items-center",children:[s.jsx(Ma,{className:"w-4 h-4 mr-1 text-[#F37021]"}),E[se]||"Unknown School"]}):"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${ce.type==="upcoming"?"bg-green-100 text-green-800":"bg-gray-100 text-[#1C1444]"}`,children:ce.type})})]},ce._id)})})]})}),te.length===0&&!y&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Jd,{className:"w-12 h-12 text-[#F37021] mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:"No birthdays found"}),s.jsx("p",{className:"text-[#1C1444]",children:ye?"Try adjusting your search or filter criteria":"No birthday data available"}),ye&&s.jsx("button",{onClick:pe,className:"mt-2 text-[#F37021] hover:text-[#d65f1c] font-medium",children:"Clear all filters"})]})]}),K>1&&s.jsxs("div",{className:"mt-6 flex justify-center items-center space-x-2",children:[s.jsxs("button",{onClick:ge,disabled:I===1,className:`px-4 py-2 rounded-xl flex items-center space-x-2 ${I===1?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:[s.jsx(co,{className:"w-4 h-4"}),s.jsx("span",{children:"Previous"})]}),s.jsx("div",{className:"flex space-x-1",children:Array.from({length:K},(ce,se)=>se+1).map(ce=>s.jsx("button",{onClick:()=>Qe(ce),className:`px-4 py-2 rounded-xl ${ce===I?"bg-[#F37021] text-white":"bg-white text-[#1C1444] hover:bg-gray-100"}`,children:ce},ce))}),s.jsxs("button",{onClick:le,disabled:I===K,className:`px-4 py-2 rounded-xl flex items-center space-x-2 ${I===K?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:[s.jsx("span",{children:"Next"}),s.jsx(xi,{className:"w-4 h-4"})]})]})]})]})},Qbe=()=>{const[t,r]=w.useState([]),[n,a]=w.useState([]),[i,o]=w.useState(""),[l,c]=w.useState(!0),[u,f]=w.useState(!0),[A,m]=w.useState(null);w.useEffect(()=>{p()},[]);const p=async()=>{try{c(!0);const y=await Ft.get("https://vidyaastra.com/api/schools");y.data.success&&Array.isArray(y.data.data)?a(y.data.data):a([])}catch(y){console.error("Error fetching schools:",y.message),m("Failed to load schools")}finally{c(!1)}},g=w.useCallback(EL(async y=>{try{f(!0);const j=y?`https://vidyaastra.com/api/albums/all?schoolId=${y}`:"https://vidyaastra.com/api/albums/all",C=await Ft.get(j);if(C.data.success&&Array.isArray(C.data.albums)){const S=C.data.albums.map(E=>({...E,schoolName:n.find(D=>D._id===E.schoolId)?.name||"Unknown School",date:b(E.date)}));r(S),m(null)}else r([]),m("No albums found")}catch(j){console.error("Error fetching albums:",j.message),m("Failed to load albums"),r([])}finally{f(!1)}},300),[n]);w.useEffect(()=>{g(i)},[i,g]);const b=y=>{if(!y)return"No Date";if(/^\d{4}-\d{2}-\d{2}$/.test(y))return y;try{const j=new Date(y);return isNaN(j)?"Invalid Date":j.toISOString().slice(0,10)}catch{return"Invalid Date"}},v=t.filter(y=>!i||y.schoolId===i);return s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#1C1444]/5 to-white",children:[s.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-[#1C1444]/10 transition-all duration-300 hover:shadow-2xl mx-6 mt-6",children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(w5,{className:"w-6 h-6 text-[#F37021]"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-extrabold text-[#1C1444] tracking-tight",children:"Student Gallery"}),s.jsxs("p",{className:"text-[#1C1444]/80 text-lg mt-1",children:["School moments and memories",i&&v.length>0&&s.jsxs("span",{className:"ml-2 text-[#F37021] font-semibold",children:["(",n.find(y=>y._id===i)?.name||"Unknown School",")"]})]})]})]})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"School"}),s.jsxs("div",{className:"relative w-full md:w-1/4",children:[s.jsxs("select",{value:i,onChange:y=>{y.preventDefault(),o(y.target.value)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:l||u||n.length===0,children:[s.jsx("option",{value:"",children:"All Schools"}),n.map(y=>s.jsx("option",{value:y._id,children:y.name||"Unknown School"},y._id))]}),s.jsx(Mo,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#1C1444]/60 w-5 h-5"})]})]})]}),(l||u)&&s.jsx("div",{className:"p-6 bg-[#F37021]/10 text-[#F37021] rounded-2xl shadow-md text-center transition-all duration-300 mx-6",children:l?"Loading schools...":"Loading albums..."}),A&&!l&&!u&&s.jsx("div",{className:"p-6 bg-red-100 text-red-700 rounded-2xl shadow-md text-center transition-all duration-300 mx-6",children:A}),!l&&!u&&!A&&s.jsx("div",{className:"container mx-auto p-6",children:v.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(y0,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),s.jsx("h3",{className:"text-lg font-semibold text-[#1C1444] mb-2",children:"No albums found"}),s.jsx("p",{className:"text-[#1C1444]/80",children:i?"No albums found for this school. Try selecting a different school.":"Check back later for gallery updates."})]}):s.jsx("div",{className:"space-y-8",children:v.map(y=>s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-[#1C1444]/10 transition-all duration-300 hover:shadow-lg",children:[s.jsx("h2",{className:"text-xl font-bold text-[#1C1444] mb-2",children:y.title}),s.jsxs("p",{className:"text-sm text-[#1C1444]/80 mb-4",children:["School: ",y.schoolName," | Date: ",y.date]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:y.images.map((j,C)=>s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:`https://vidyaastra.com${j.path}`,alt:y.title,className:"w-full h-48 object-cover rounded-xl shadow-sm transition-transform duration-200 hover:scale-105"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-[#1C1444] bg-opacity-50 text-white p-2 rounded-b-xl",children:s.jsx("p",{className:"text-sm",children:new Date(y.createdAt).toLocaleDateString()})})]},C))})]},y._id))})})]})},Hbe="https://vidyaastra.com/api/schools/",$be="https://vidyaastra.com/api/uniform/items/all-unfiltered",Kbe=()=>{const[t,r]=w.useState({}),[n,a]=w.useState([]),[i,o]=w.useState({}),[l,c]=w.useState(!0),[u,f]=w.useState(null),[A,m]=w.useState("#2563eb"),[p,g]=w.useState(""),[b,v]=w.useState("all"),[y,j]=w.useState("all"),[C,S]=w.useState("all"),[E,D]=w.useState("all"),[k,L]=w.useState("all"),[I,Y]=w.useState("all"),[Q,H]=w.useState("all");w.useEffect(()=>{const G=localStorage.getItem("color");m(G||"#2563eb"),(async()=>{c(!0);try{const oe=(await Ft.get($be,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data.data,he=Array.isArray(oe)?oe:[oe],me=[...new Set(he.map(V=>(V.schoolId||"").trim()).filter(Boolean))],te={};await Promise.all(me.map(async V=>{try{const pe=(await Ft.get(Hbe+V,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;pe.success&&pe.data&&pe.data.name?te[V]=`${pe.data.name} (${pe.data.schoolCode})`:te[V]="Unknown"}catch{te[V]="Unknown"}})),o(te);const Ae=he.map(V=>({...V,sizes:V.sizes||[],inStock:V.stock||0,image:V.imageUrl||"/placeholder.svg",schoolId:(V.schoolId||"").trim()||null,className:V.classId?`${V.classId.className} ${V.classId.section||""}`.trim():"N/A"}));a(Ae)}catch{f("Failed to load uniform items or schools.")}finally{c(!1)}})()},[]);const U=G=>`₹${G?.toLocaleString()}`,K=G=>G>30?{text:"In Stock",color:"bg-green-100 text-green-800"}:G>10?{text:"Low Stock",color:"bg-yellow-100 text-yellow-800"}:{text:"Out of Stock",color:"bg-red-100 text-red-800"},X=G=>G?i[G]||"Unknown":"N/A",ee=[...new Set(n.map(G=>G.schoolId).filter(Boolean))].map(G=>({id:G,displayName:X(G)}));[...new Set(n.map(G=>G.category).filter(Boolean))],[...new Set(n.flatMap(G=>G.sizes||[]).filter(Boolean))];const de=[...new Set(n.filter(G=>G.classId&&G.classId.className).map(G=>G.classId.className))].sort(),Ne=I==="all"?[]:[...new Set(n.filter(G=>G.classId&&G.classId.className===I&&G.classId.section).map(G=>G.classId.section).filter(Boolean))].sort(),Se=n.filter(G=>{const ne=G.name?.toLowerCase().includes(p.toLowerCase())||G.description?.toLowerCase().includes(p.toLowerCase())||G.category?.toLowerCase().includes(p.toLowerCase())||G.className?.toLowerCase().includes(p.toLowerCase())||X(G.schoolId).toLowerCase().includes(p.toLowerCase()),ae=b==="all"||G.category===b,oe=y==="all"||y==="under-500"&&G.price<500||y==="500-1000"&&G.price>=500&&G.price<=1e3||y==="1000-2000"&&G.price>1e3&&G.price<=2e3||y==="above-2000"&&G.price>2e3,he=C==="all"||C==="in-stock"&&G.inStock>30||C==="low-stock"&&G.inStock>0&&G.inStock<=30||C==="out-of-stock"&&G.inStock===0,me=E==="all"||G.sizes&&G.sizes.includes(E),te=k==="all"||k==="N/A"&&!G.schoolId||G.schoolId===k,Ae=I==="all"||G.classId&&G.classId.className===I,V=Q==="all"||G.classId&&G.classId.section===Q;return ne&&ae&&oe&&he&&me&&te&&Ae&&V}),ue=()=>{g(""),v("all"),j("all"),S("all"),D("all"),L("all"),Y("all"),H("all")},xe=p||b!=="all"||y!=="all"||C!=="all"||E!=="all"||k!=="all"||I!=="all"||Q!=="all",R=()=>{const G=["School Name","Item Name","Description","Category","Price (₹)","Class","Section","Sizes Available","Stock Quantity","Stock Status"],ne=Se.map(te=>[X(te.schoolId),te.name||"",te.description||"",te.category||"",te.price||0,te.classId?te.classId.className:"N/A",te.classId&&te.classId.section||"N/A",(te.sizes||[]).join("; ")||"N/A",te.inStock||0,K(te.inStock).text]),ae=[G,...ne].map(te=>te.map(Ae=>`"${Ae}"`).join(",")).join(`
`),oe=new Blob([ae],{type:"text/csv;charset=utf-8;"}),he=document.createElement("a"),me=URL.createObjectURL(oe);he.setAttribute("href",me),he.setAttribute("download",`uniforms_${new Date().toISOString().split("T")[0]}.csv`),he.style.visibility="hidden",document.body.appendChild(he),he.click(),document.body.removeChild(he)};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("div",{className:"bg-[#1C1444]  text-white p-6 rounded-b-3xl shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(nl,{className:"w-6 h-6"}),s.jsx("h1",{className:"text-2xl font-bold",children:"School Uniform"})]}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("button",{onClick:R,className:"flex items-center space-x-2 bg-[#F37021] hover:bg-[#D95F1C] px-4 py-2 rounded-xl transition-all text-white",children:[s.jsx(Cs,{className:"w-4 h-4"}),s.jsx("span",{children:"Export CSV"})]})})]}),s.jsx("p",{className:"text-gray-200 mt-2",children:"School uniform inventory and orders"})]}),s.jsx("div",{className:"p-6 pb-0",children:s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Search & Filters"}),xe&&s.jsxs("button",{onClick:ue,className:"flex items-center space-x-1 text-sm text-gray-600 hover:text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-100",children:[s.jsx(sr,{className:"w-4 h-4"}),s.jsx("span",{children:"Clear Filters"})]})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-black w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search uniforms by school, name, description, class, or category...",value:p,onChange:G=>g(G.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#F37021] focus:border-transparent placeholder:text-black"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-7 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"School"}),s.jsxs("select",{value:k,onChange:G=>{G.preventDefault(),L(G.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Schools"}),ee.map(G=>s.jsx("option",{value:G.id,children:G.displayName},G.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Class"}),s.jsxs("select",{value:I,onChange:G=>{G.preventDefault(),Y(G.target.value),H("all")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Classes"}),de.map(G=>s.jsx("option",{value:G,children:G},G))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section"}),s.jsxs("select",{value:Q,onChange:G=>{G.preventDefault(),H(G.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent",disabled:!I||I==="all",children:[s.jsx("option",{value:"all",children:"All Sections"}),Ne.map(G=>s.jsx("option",{value:G,children:G},G))]})]})]})]})}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsx("div",{children:s.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:["Uniform Items",s.jsxs("span",{className:"text-sm font-normal text-gray-600 ml-2",children:["(Showing ",Se.length," of ",n.length," items",xe?" - filtered":"",")"]})]})})}),l?s.jsx("div",{className:"text-center text-gray-500 py-10",children:"Loading..."}):u?s.jsx("div",{className:"text-center text-red-500 py-10",children:u}):s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"School Name"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Item"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Price"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Class"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Section"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Sizes"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Stock"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Se.map(G=>{const ne=K(G.inStock);return s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:X(G.schoolId)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("img",{src:`https://vidyaastra.com${G.image}`,alt:G.name,className:"w-12 h-12 rounded-lg object-cover border border-gray-200"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.name}),s.jsx("div",{className:"text-sm text-gray-500",children:G.description})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:G.category||"N/A"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-bold text-gray-900",children:U(G.price)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:G.classId?G.classId.className:"N/A"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:G.classId&&G.classId.section||"N/A"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[(G.sizes||[]).slice(0,3).map(ae=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:ae},ae)),(G.sizes||[]).length>3?s.jsxs("span",{className:"text-xs text-gray-500",children:["+",(G.sizes||[]).length-3]}):(G.sizes||[]).length===0?s.jsx("span",{className:"text-xs text-gray-500",children:"N/A"}):null]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ne.color}`,children:ne.text}),s.jsxs("div",{className:"text-xs text-gray-500",children:[G.inStock," units"]})]})})]},G._id)})})]})}),Se.length===0&&!l&&!u&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(nl,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No uniforms found"}),s.jsx("p",{className:"text-gray-500 mb-4",children:xe?"Try adjusting your search or filter criteria":"No uniform items available"}),xe&&s.jsx("button",{onClick:ue,className:"text-[#F37021] hover:text-[#D95F1C] font-medium",children:"Clear all filters"})]})]})]})]})},Vbe=t=>{switch(t){case"National Holiday":return jC;case"Festival":return Zd;case"Religious Holiday":return NC;default:return en}},zbe=()=>{const[t,r]=w.useState([]),[n,a]=w.useState("All"),[i,o]=w.useState(""),[l,c]=w.useState({key:null,direction:"asc"}),[u,f]=w.useState("table"),[A,m]=w.useState(!0),[p,g]=w.useState(null),[b,v]=w.useState([]),[y,j]=w.useState("all"),[C,S]=w.useState(1),E=10,[D,k]=w.useState(1),[L,I]=w.useState(0);w.useEffect(()=>{(async()=>{try{m(!0);const R=await Ft.get(`https://vidyaastra.com/api/holidays/all-unfiltered?page=${C}&limit=${E}`);if(R.data.success){r(R.data.data),k(R.data.totalPages||1),I(R.data.total||0);const ne=[...new Set(R.data.data.map(he=>typeof he.schoolId=="object"?he.schoolId._id:he.schoolId).filter(Boolean))].map(async he=>{try{const me=await Ft.get(`https://vidyaastra.com/api/schools/${he}`);return me.data.success&&me.data.data?{_id:he,name:me.data.data.name||"Unknown School"}:{_id:he,name:"Unknown School"}}catch(me){return console.error(`Failed to fetch school ${he}:`,me.message),{_id:he,name:"Unknown School"}}});try{const he=await Ft.get("https://vidyaastra.com/api/schools");he.data.success&&ne.push(...he.data.data.map(me=>({_id:me._id,name:me.name||"Unknown School"})))}catch(he){console.error("Failed to fetch all schools:",he.message)}const ae=await Promise.all(ne),oe=new Map;ae.forEach(he=>{he._id&&he.name&&oe.set(he._id,he)}),v(Array.from(oe.values()))}else g("Failed to load holidays")}catch(R){g("Failed to load holidays: "+R.message)}finally{m(!1)}})()},[C]);const Y=w.useMemo(()=>[...new Set(t.map(xe=>typeof xe.schoolId=="object"?xe.schoolId._id:xe.schoolId))].filter(Boolean),[t]),Q=w.useMemo(()=>b.filter(xe=>Y.includes(xe._id)).map(xe=>({...xe,name:xe.name||"Unknown School"})),[b,Y]),H=xe=>new Date(xe).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),U=xe=>{const R=new Date,ne=new Date(xe)-R,ae=Math.ceil(ne/(1e3*60*60*24));return ae<0?"Passed":ae===0?"Today":ae===1?"Tomorrow":`${ae} days`},K=(xe,R)=>({"#FF9933":"bg-[#F37021]/10 text-[#F37021] border-[#F37021]/20","#008000":"bg-green-100 text-green-800 border-green-200","#FF0000":"bg-red-100 text-red-800 border-red-200","#0000FF":"bg-blue-100 text-blue-800 border-blue-200","#800080":"bg-purple-100 text-purple-800 border-purple-200","#FFC0CB":"bg-pink-100 text-pink-800 border-pink-200","#008080":"bg-teal-100 text-teal-800 border-teal-200"})[R]||"bg-gray-100 text-[#1C1444] border-gray-200",X=xe=>{const R=U(xe);return R==="Passed"?"bg-gray-100 text-[#1C1444] border-gray-200":R==="Today"?"bg-green-100 text-green-800 border-green-200":R==="Tomorrow"?"bg-blue-100 text-blue-800 border-blue-200":"bg-[#F37021]/10 text-[#F37021] border-[#F37021]/20"},Z=w.useMemo(()=>{let xe=t;return n!=="All"&&(xe=xe.filter(R=>R.type===n)),y!=="all"&&(xe=xe.filter(R=>(typeof R.schoolId=="object"?R.schoolId._id:R.schoolId)===y)),i&&(xe=xe.filter(R=>R.name.toLowerCase().includes(i.toLowerCase())||R.type.toLowerCase().includes(i.toLowerCase())||R.description.toLowerCase().includes(i.toLowerCase()))),xe},[n,i,t,y]),ee=w.useMemo(()=>l.key?[...Z].sort((xe,R)=>{let G,ne;switch(l.key){case"name":G=xe.name,ne=R.name;break;case"date":G=new Date(xe.date),ne=new Date(R.date);break;case"type":G=xe.type,ne=R.type;break;case"daysUntil":const ae=oe=>{const he=U(oe);return he==="Passed"?-1e3:he==="Today"?0:he==="Tomorrow"?1:parseInt(he)};G=ae(xe.date),ne=ae(R.date);break;default:return 0}return G<ne?l.direction==="asc"?-1:1:G>ne?l.direction==="asc"?1:-1:0}):Z,[Z,l]),de=xe=>{c(R=>({key:xe,direction:R.key===xe&&R.direction==="asc"?"desc":"asc"}))},Ne=xe=>l.key!==xe?null:l.direction==="asc"?s.jsx(Yp,{className:"inline w-4 h-4 text-[#F37021]"}):s.jsx(gf,{className:"inline w-4 h-4 text-[#F37021]"}),Se=()=>{const R=[["Holiday Name","Date","Category","Days Until","Description","School Name"].join(","),...ee.map(oe=>[`"${oe.name}"`,oe.date,`"${oe.type}"`,`"${U(oe.date)}"`,`"${oe.description}"`,`"${(typeof oe.schoolId=="object"?oe.schoolId.name:b.find(he=>he._id===oe.schoolId)?.name)||"Unknown School"}"`].join(","))].join(`
`),G=new Blob([R],{type:"text/csv"}),ne=window.URL.createObjectURL(G),ae=document.createElement("a");ae.href=ne,ae.download="holidays-2025.csv",ae.click(),window.URL.revokeObjectURL(ne)},ue=["All","National Holiday","Festival","Religious Holiday"];return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("div",{className:"bg-[#1C1444] text-white p-6 shadow-lg",children:[s.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(en,{className:"w-6 h-6 text-[#F37021]"}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Holiday Calendar 2025"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:Se,className:"flex items-center space-x-2 bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg transition-all",children:[s.jsx(Cs,{className:"w-4 h-4 text-white"}),s.jsx("span",{children:"Export CSV"})]}),s.jsxs("button",{onClick:()=>f(u==="table"?"card":"table"),className:"flex items-center space-x-2 bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg transition-all",children:[s.jsx(Ds,{className:"w-4 h-4 text-white"}),s.jsx("span",{children:u==="table"?"Card View":"Table View"})]})]})]}),s.jsx("p",{className:"container mx-auto text-[#F37021] mt-2",children:"Professional holiday management system"})]}),s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[A&&s.jsx("p",{className:"text-center text-[#1C1444] py-10",children:"Loading holidays..."}),p&&s.jsx("p",{className:"text-center text-red-500 py-10",children:p}),!A&&!p&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-[#1C1444]",children:L}),s.jsx("div",{className:"text-sm text-[#1C1444]",children:"Total Holidays"})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-[#1C1444]",children:t.filter(xe=>xe.type==="National Holiday").length}),s.jsx("div",{className:"text-sm text-[#1C1444]",children:"National Holidays"})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-[#1C1444]",children:t.filter(xe=>xe.type==="Festival").length}),s.jsx("div",{className:"text-sm text-[#1C1444]",children:"Festivals"})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-[#1C1444]",children:t.filter(xe=>U(xe.date)!=="Passed").length}),s.jsx("div",{className:"text-sm text-[#1C1444]",children:"Upcoming"})]})]}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[s.jsxs("div",{className:"relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search holidays...",value:i,onChange:xe=>o(xe.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F37021] text-[#1C1444] w-full lg:w-64"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Mo,{className:"text-[#F37021] w-4 h-4"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:ue.map(xe=>s.jsx("button",{onClick:()=>a(xe),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${n===xe?"bg-[#F37021] text-white shadow-md":"bg-gray-100 text-[#1C1444] hover:bg-gray-200"}`,children:xe},xe))}),s.jsxs("select",{value:y,onChange:xe=>j(xe.target.value),className:"ml-4 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[s.jsx("option",{value:"all",children:"All Schools"}),Q.length>0?Q.map(xe=>s.jsx("option",{value:xe._id,children:xe.name},xe._id)):s.jsx("option",{disabled:!0,children:"No schools available"})]})]})]})}),!A&&!p&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[900px]",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>de("name"),children:["Holiday Name ",Ne("name")]}),s.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>de("date"),children:["Date ",Ne("date")]}),s.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>de("type"),children:["Category ",Ne("type")]}),s.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>de("daysUntil"),children:["Status ",Ne("daysUntil")]}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"School"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Description"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ee.length===0?s.jsx("tr",{children:s.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-[#1C1444]",children:[s.jsx(en,{className:"w-12 h-12 text-[#F37021] mx-auto mb-4"}),s.jsx("p",{className:"text-lg font-medium text-[#1C1444]",children:"No holidays found"}),s.jsx("p",{className:"text-sm text-[#1C1444]",children:"Try adjusting your search or filters"})]})}):ee.map(xe=>{const R=Vbe(xe.type);return s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(R,{className:"w-5 h-5 text-[#F37021]"}),s.jsx("span",{className:"text-sm font-medium text-[#1C1444]",children:xe.name})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-[#1C1444]",children:H(xe.date)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${K(xe.type,xe.color)}`,children:xe.type})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${X(xe.date)}`,children:U(xe.date)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:xe.schoolId?s.jsxs("span",{className:"flex items-center text-[#1C1444]",children:[s.jsx(Ma,{className:"w-4 h-4 mr-1 text-[#F37021]"}),(typeof xe.schoolId=="object"?xe.schoolId.name:b.find(G=>G._id===xe.schoolId)?.name)||"Unknown School"]}):"-"}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-sm text-[#1C1444]",children:xe.description})})]},xe._id)})})]})}),ee.length>0&&s.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t border-gray-200",children:s.jsxs("div",{className:"text-sm text-[#1C1444]",children:["Showing"," ",s.jsx("span",{className:"font-medium",children:ee.length})," ","of ",s.jsx("span",{className:"font-medium",children:t.length})," ","holidays"]})})]}),!A&&!p&&L>0&&s.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm text-[#1C1444]",children:["Showing ",(C-1)*E+1," to"," ",Math.min(C*E,L)," of ",L," ","records"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>S(xe=>Math.max(xe-1,1)),disabled:C===1,className:`px-4 py-2 rounded-lg transition-colors ${C===1?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:"Previous"}),s.jsx("button",{onClick:()=>S(xe=>Math.min(xe+1,D)),disabled:C===D,className:`px-4 py-2 rounded-lg transition-colors ${C===D?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:"Next"})]})]})]})]})},Gbe=()=>{const[t,r]=w.useState(""),[n,a]=w.useState("all"),[i,o]=w.useState("all"),[l,c]=w.useState("all"),[u,f]=w.useState([]),[A,m]=w.useState(!0),[p,g]=w.useState(null);w.useEffect(()=>{(async()=>{try{const k=await Ft.get("https://vidyaastra.com/api/classwork");f(k.data)}catch(k){console.error("Error fetching classwork:",k),g("Failed to load classwork data")}finally{m(!1)}})()},[]);const b=D=>new Date(D).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}),v=D=>{const k={completed:{color:"bg-green-100 text-green-800",icon:pi,text:"Completed"},"in-progress":{color:"bg-yellow-100 text-yellow-800",icon:_n,text:"In Progress"},pending:{color:"bg-red-100 text-red-800",icon:ln,text:"Pending"}},L=k[D]||k.pending,I=L.icon;return s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${L.color}`,children:[s.jsx(I,{className:"w-3 h-3 mr-1"}),L.text]})},y=D=>({pdf:"📄",docx:"📝",pptx:"📊",jpg:"🖼️",zip:"📦"})[D]||"📄",j=w.useMemo(()=>u.filter(D=>{const k=D.topic?.toLowerCase().includes(t.toLowerCase())||D.subject?.toLowerCase().includes(t.toLowerCase())||D.description?.toLowerCase().includes(t.toLowerCase()),L=n==="all"||D.subject===n,I=i==="all"||D.class===i,Y=l==="all"||D.status===l;return k&&L&&I&&Y}),[t,n,i,l,u]),C=w.useMemo(()=>{const D=u.length,k=u.filter(Y=>Y.status==="completed").length,L=u.filter(Y=>Y.status==="in-progress").length,I=u.reduce((Y,Q)=>Y+(Q.studentsCount||0),0);return{total:D,completed:k,inProgress:L,totalStudents:I}},[u]),S=[...new Set(u.map(D=>D.subject))].filter(Boolean),E=[...new Set(u.map(D=>D.class))].filter(Boolean);return A?s.jsx("div",{className:"p-6 text-center text-lg text-gray-600",children:"Loading classwork data..."}):p?s.jsx("div",{className:"p-6 text-center text-red-500",children:p}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-b-3xl shadow-lg",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ln,{className:"w-6 h-6"}),s.jsx("h1",{className:"text-2xl font-bold",children:"Classwork Management"})]})}),s.jsx("p",{className:"text-indigo-100 mt-2",children:"Track and manage daily classwork activities"})]}),s.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Classwork"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C.total})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:C.completed})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:C.inProgress})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:C.totalStudents})]})]}),s.jsx("div",{className:"px-6 mb-6",children:s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search topic or subject...",value:t,onChange:D=>r(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500"})]}),s.jsxs("select",{value:n,onChange:D=>a(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl",children:[s.jsx("option",{value:"all",children:"All Subjects"}),S.map(D=>s.jsx("option",{children:D},D))]}),s.jsxs("select",{value:i,onChange:D=>o(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl",children:[s.jsx("option",{value:"all",children:"All Classes"}),E.map(D=>s.jsx("option",{children:D},D))]}),s.jsxs("select",{value:l,onChange:D=>c(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"in-progress",children:"In Progress"}),s.jsx("option",{value:"pending",children:"Pending"})]})]})}),s.jsx("div",{className:"px-6 pb-6",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-x-auto",children:[s.jsxs("table",{className:"w-full min-w-[800px]",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Topic"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Subject"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Attachments"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(D=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:D.topic}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:D.subject}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:b(D.date)}),s.jsx("td",{className:"px-6 py-4",children:v(D.status||"pending")}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:(D.attachments||[]).map((k,L)=>s.jsxs("div",{className:"flex items-center space-x-1 text-xs",children:[s.jsx("span",{children:y(k.name?.split(".").pop())}),s.jsx("span",{children:k.name})]},L))})]},D._id))})]}),j.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ln,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No classwork found"}),s.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]})]})})]})},Wbe="https://vidyaastra.com/api/schools/",qbe=()=>{const[t,r]=w.useState("All"),[n,a]=w.useState(""),[i,o]=w.useState([]),[l,c]=w.useState(!0),[u,f]=w.useState(null),[A,m]=w.useState(1),[p]=w.useState(10),[g,b]=w.useState(1),[v,y]=w.useState(0),[j,C]=w.useState(!1),[S,E]=w.useState("all"),[D,k]=w.useState("all"),[L,I]=w.useState("all"),[Y,Q]=w.useState("all"),[H,U]=w.useState({}),[K,X]=w.useState(null);w.useEffect(()=>{Z()},[A,Y,D,L,S]);const Z=async()=>{try{c(!0),f(null);const he=new URLSearchParams({page:A,limit:p});Y!=="all"&&he.append("schoolId",Y),D!=="all"&&he.append("className",D),L!=="all"&&he.append("section",L),S!=="all"&&he.append("subject",S);const me=await fetch(`https://vidyaastra.com/api/books/all-unfiltered?${he.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!me.ok)throw new Error(`HTTP error! Status: ${me.status}`);const te=await me.json();if(!te.success||!Array.isArray(te.data))throw new Error("Invalid API response format");y(te.total),b(te.totalPages);const Ae=te.data,V=[...new Set(Ae.map(ye=>ye.schoolId).filter(Boolean))],ie={};await Promise.all(V.map(async ye=>{try{const le=await(await fetch(Wbe+ye)).json();ie[ye]=le.success&&le.data?.name?le.data.name:"Unknown"}catch{ie[ye]="Unknown"}})),U(ie);const pe=Ae.map(ye=>{const ge=ye.title?.toLowerCase().includes("grade"),le=ge?ye.title.replace(/Grade \d+/,"").trim().split(" ")[0]:"Literature";return{id:ye._id,title:ye.title||"Unknown Title",author:ye.author||"Unknown Author",description:ye.description||"No description available",price:ye.price||0,category:ge?"Textbooks":"Novels",subject:le,className:ye.classId?.className||"General",section:ye.classId?.section||"N/A",image:ye.image?ye.image.startsWith("http")?ye.image:`https://vidyaastra.com${ye.image}`:"https://images.unsplash.com/photo-1509228468518-180dd4864904?w=200&h=250&fit=crop",schoolId:ye.schoolId||"",stock:ye.stock||0}});o(pe)}catch(he){f(`Error fetching books: ${he.message}`),o([])}finally{c(!1)}},ee=he=>{he>=1&&he<=g&&m(he)},de=he=>[...new Set(i.map(te=>te[he]).filter(Boolean))].sort(),Se=[...new Set(i.map(he=>he.schoolId).filter(Boolean))].map(he=>({id:he,displayName:H[he]||"Unknown"})),ue=i.filter(he=>{const me=t==="All"||he.category===t,te=he.title.toLowerCase().includes(n.toLowerCase())||he.author.toLowerCase().includes(n.toLowerCase())||he.subject.toLowerCase().includes(n.toLowerCase())||he.description.toLowerCase().includes(n.toLowerCase())||(H[he.schoolId]||"").toLowerCase().includes(n.toLowerCase()),Ae=S==="all"||he.subject===S,V=D==="all"||he.className===D,ie=L==="all"||he.section===L,pe=Y==="all"||he.schoolId===Y;return me&&te&&Ae&&V&&ie&&pe}),xe=()=>{r("All"),a(""),E("all"),k("all"),I("all"),Q("all"),C(!1),m(1)},R=()=>t!=="All"||n!==""||S!=="all"||D!=="all"||L!=="all"||Y!=="all",G=()=>{const he=["Title","Author","Category","Subject","Class","Section","Price (₹)","Description","School Name","Stock"],me=ue.map(pe=>[`"${pe.title.replace(/"/g,'""')}"`,`"${pe.author.replace(/"/g,'""')}"`,`"${pe.category}"`,`"${pe.subject}"`,`"${pe.className}"`,`"${pe.section}"`,`"${pe.price}"`,`"${pe.description.replace(/"/g,'""')}"`,`"${H[pe.schoolId]||""}"`,`"${pe.stock}"`]),te=[he.join(","),...me.map(pe=>pe.join(","))].join(`
`),Ae=new Blob([te],{type:"text/csv;charset=utf-8;"}),V=document.createElement("a"),ie=URL.createObjectURL(Ae);V.setAttribute("href",ie),V.setAttribute("download",`books_${new Date().toISOString().split("T")[0]}.csv`),V.style.visibility="hidden",document.body.appendChild(V),V.click(),document.body.removeChild(V)},ne=he=>`₹${he}`,ae=he=>{X(he)},oe=()=>{X(null)};return s.jsxs("div",{className:"min-h-screen bg-gray-100",children:[s.jsx("div",{className:"bg-[#1C1444] text-white p-4 sticky top-0 z-10",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(P2,{className:"w-6 h-6 text-[#F37021] cursor-pointer"}),s.jsx("h1",{className:"text-xl font-semibold text-white",children:"School Books"})]}),!l&&!u&&s.jsxs("button",{onClick:G,className:"flex items-center space-x-2 bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-xl transition-all",disabled:ue.length===0,children:[s.jsx(Cs,{className:"w-4 h-4 text-white"}),s.jsx("span",{children:"Export CSV"})]})]})}),l&&s.jsxs("div",{className:"container mx-auto p-4 text-center",children:[s.jsx("div",{className:"text-6xl mb-4 animate-pulse",children:"📚"}),s.jsx("p",{className:"text-[#1C1444] text-lg",children:"Loading books..."})]}),u&&s.jsxs("div",{className:"container mx-auto p-4 bg-red-100 text-red-700 rounded-xl m-4",children:[u,s.jsx("p",{className:"text-sm mt-2 text-red-600",children:"Please check if the backend server is running and accessible."})]}),!l&&!u&&s.jsx("div",{className:"container mx-auto p-4 bg-white",children:s.jsxs("div",{className:"relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-[#F37021]"}),s.jsx("input",{type:"text",placeholder:"Search books, authors, subjects, school...",value:n,onChange:he=>a(he.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-100 rounded-xl border-0 focus:ring-2 focus:ring-[#F37021] focus:bg-white text-[#1C1444] transition-all"})]})}),!l&&!u&&s.jsxs("div",{className:"container mx-auto px-4 pb-4 bg-white border-b",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"flex items-center space-x-4",children:R()&&s.jsxs("button",{onClick:xe,className:"flex items-center space-x-2 text-[#1C1444] hover:text-[#F37021]",children:[s.jsx(sr,{className:"w-4 h-4 text-[#F37021]"}),s.jsx("span",{children:"Clear Filters"})]})}),s.jsxs("div",{className:"text-sm text-[#1C1444]",children:["Showing ",ue.length," of ",v," books",R()&&s.jsx("span",{className:"text-[#F37021] ml-1",children:"(filtered)"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 bg-gray-50 rounded-xl",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-2",children:"School"}),s.jsxs("select",{value:Y,onChange:he=>{Q(he.target.value),k("all"),I("all")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[s.jsx("option",{value:"all",children:"All Schools"}),Se.length===0?s.jsx("option",{value:"",disabled:!0,children:l?"Loading schools...":"No schools available"}):Se.map(he=>s.jsx("option",{value:he.id,children:he.displayName},he.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-2",children:"Class"}),s.jsxs("select",{value:D,onChange:he=>{k(he.target.value),I("all")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[s.jsx("option",{value:"all",children:"All Classes"}),de("className").length===0?s.jsx("option",{value:"",disabled:!0,children:l?"Loading classes...":Y!=="all"?"No classes for selected school":"No classes available"}):de("className").map(he=>s.jsx("option",{value:he,children:he},he))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-2",children:"Section"}),s.jsxs("select",{value:L,onChange:he=>I(he.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[s.jsx("option",{value:"all",children:"All Sections"}),de("section").length===0?s.jsx("option",{value:"",disabled:!0,children:l?"Loading sections...":D!=="all"?"No sections for selected class":"No sections available"}):de("section").map(he=>s.jsx("option",{value:he,children:he},he))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-2",children:"Subject"}),s.jsxs("select",{value:S,onChange:he=>E(he.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[s.jsx("option",{value:"all",children:"All Subjects"}),de("subject").map(he=>s.jsx("option",{value:he,children:he},he))]})]})]})]}),!l&&!u&&s.jsxs("div",{className:"container mx-auto p-4",children:[s.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Title"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Author"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Class"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Section"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Price"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Stock"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"School"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ue.map(he=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-[#1C1444]",children:he.title}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:he.author}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:he.className}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:he.section}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:ne(he.price)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:he.stock}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:H[he.schoolId]||"Unknown"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsx("button",{onClick:()=>ae(he),className:"text-[#F37021] hover:text-[#d65f1c]",children:"View"})})]},he.id))})]})}),g>1&&s.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[s.jsx("button",{onClick:()=>ee(A-1),disabled:A===1,className:`px-4 py-2 rounded-lg transition-colors ${A===1?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:"Previous"}),s.jsxs("span",{className:"text-sm text-[#1C1444]",children:["Page ",A," of ",g]}),s.jsx("button",{onClick:()=>ee(A+1),disabled:A===g,className:`px-4 py-2 rounded-lg transition-colors ${A===g?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:"Next"})]}),ue.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-6xl mb-4 text-[#F37021]",children:"📚"}),s.jsx("h3",{className:"text-lg font-semibold text-[#1C1444] mb-2",children:"No books found"}),s.jsx("p",{className:"text-[#1C1444]",children:"Try adjusting your search or filter criteria"}),R()&&s.jsx("button",{onClick:xe,className:"mt-4 px-4 py-2 bg-[#F37021] text-white rounded-lg hover:bg-[#d65f1c] transition-colors",children:"Clear All Filters"})]})]}),K&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full mx-4 p-6 relative max-h-[90vh] overflow-y-auto",children:[s.jsx("button",{onClick:oe,className:"absolute top-4 right-4 text-[#1C1444] hover:text-[#F37021]",children:s.jsx(sr,{className:"w-6 h-6 text-[#F37021]"})}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("img",{src:K.image,alt:K.title,className:"w-32 h-48 object-cover rounded-lg shadow-md mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-[#1C1444] mb-2",children:K.title}),s.jsxs("p",{className:"text-[#1C1444] mb-4",children:["by ",K.author]}),s.jsxs("div",{className:"w-full space-y-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium text-[#1C1444]",children:"Category:"}),s.jsx("span",{className:"text-[#1C1444]",children:K.category})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium text-[#1C1444]",children:"Subject:"}),s.jsx("span",{className:"text-[#1C1444]",children:K.subject})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium text-[#1C1444]",children:"Class:"}),s.jsx("span",{className:"text-[#1C1444]",children:K.className})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium text-[#1C1444]",children:"Section:"}),s.jsx("span",{className:"text-[#1C1444]",children:K.section})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium text-[#1C1444]",children:"Price:"}),s.jsx("span",{className:"text-[#1C1444]",children:ne(K.price)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium text-[#1C1444]",children:"Stock:"}),s.jsx("span",{className:"text-[#1C1444]",children:K.stock})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium text-[#1C1444]",children:"School:"}),s.jsx("span",{className:"text-[#1C1444]",children:H[K.schoolId]||"Unknown"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-[#1C1444] block mb-2",children:"Description:"}),s.jsx("p",{className:"text-[#1C1444]",children:K.description})]})]})]})]})})]})},Ybe=()=>{const[t,r]=w.useState("month"),[n,a]=w.useState(!1),[i,o]=w.useState([]),[l,c]=w.useState([]),[u,f]=w.useState([]),[A,m]=w.useState(!0),[p,g]=w.useState(null);w.useEffect(()=>{b()},[]);const b=async()=>{a(!0),m(!0);try{const I=await(await fetch("https://vidyaastra.com/api/schools")).json();I.success&&o(I.data);const Q=await(await fetch("https://vidyaastra.com/api/packages")).json();Q.success&&c(Q.data);const H=localStorage.getItem("token"),K=await(await fetch("https://vidyaastra.com/api/payments",{headers:{Authorization:`Bearer ${H}`}})).json();K.success&&f(K.data),g(null)}catch(L){g("Failed to fetch data: "+L.message),console.error(L)}finally{m(!1),a(!1)}},v=w.useMemo(()=>{const L=i.length,I=l.length,Y=u.length,Q=u.reduce((U,K)=>U+K.amount,0),H=u.filter(U=>U.status==="active").length;return{totalSchools:L,totalPackages:I,activePurchases:H,totalPurchases:Y,totalRevenue:Q}},[i,l,u]),y=L=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(L),j=L=>{const I={active:{color:"bg-green-100 text-green-800 border-green-200",icon:pi},pending:{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:_n},failed:{color:"bg-red-100 text-red-800 border-red-200",icon:Qp}},Y=I[L]||I.pending,Q=Y.icon;return s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${Y.color}`,children:[s.jsx(Q,{className:"w-3 h-3 mr-1"}),L.charAt(0).toUpperCase()+L.slice(1)]})},C=()=>{b()},S=w.useMemo(()=>{const L=Array.from({length:12},(Y,Q)=>{const H=new Date;return H.setMonth(H.getMonth()-(11-Q)),H.toLocaleString("default",{month:"short"})}),I=L.map(Y=>({month:Y,revenue:0,purchases:0}));return u.reduce((Y,Q)=>{const U=new Date(Q.createdAt).toLocaleString("default",{month:"short"}),K=L.indexOf(U);return K!==-1&&(Y[K].revenue+=Q.amount,Y[K].purchases+=1),Y},[...I])},[u,t]),E=w.useMemo(()=>{const L=l.map(I=>{const Y=u.filter(Q=>Q.packageId===I._id).length;return{name:I.name,sales:Y,revenue:Y*I.price,color:(I.color==="blue"||I.color==="purple"||I.color==="green"||I.color==="orange","#F37021")}}).filter(I=>I.sales>0);return L.length===0?[{name:"No Data Available",sales:1,revenue:0,color:"#9CA3AF"}]:L},[l,u]),D=w.useMemo(()=>u.sort((L,I)=>new Date(I.createdAt)-new Date(L.createdAt)).slice(0,3).map(L=>({id:L._id,school:i.find(I=>I._id===L.schoolId)?.name||"Unknown School",package:l.find(I=>I._id===L.packageId)?.name||"Unknown Package",amount:L.amount,status:L.status,date:L.createdAt})),[u,i,l]),k=w.useMemo(()=>i.map(L=>{const I=u.filter(Q=>Q.schoolId===L._id),Y=I.reduce((Q,H)=>Q+H.amount,0);return{...L,revenue:Y,purchases:I.length}}).sort((L,I)=>I.revenue-L.revenue).slice(0,3),[i,u]);return A?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Qh,{className:"w-10 h-10 text-[#F37021] animate-spin mx-auto"}),s.jsx("p",{className:"mt-4 text-[#1C1444]",children:"Loading dashboard data..."})]})}):p?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:[s.jsx("p",{children:p}),s.jsx("button",{onClick:b,className:"mt-2 bg-[#F37021] text-white px-4 py-2 rounded-lg hover:bg-[#d65f1c] transition-colors",children:"Retry"})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-[#1C1444] text-white p-6 shadow-lg",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ma,{className:"w-6 h-6 text-[#F37021]"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Super Admin Dashboard"}),s.jsx("p",{className:"text-[#F37021] mt-1",children:"Comprehensive school management overview"})]})]}),s.jsxs("button",{onClick:C,disabled:n,className:"flex items-center space-x-2 bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg transition-all",children:[s.jsx(Qh,{className:`w-4 h-4 text-white ${n?"animate-spin":""}`}),s.jsx("span",{children:"Refresh"})]})]})}),s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-[#1C1444]",children:"Total Schools"}),s.jsx("p",{className:"text-2xl font-bold text-[#1C1444]",children:v.totalSchools}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(Ih,{className:"w-4 h-4 text-green-500 mr-1"}),s.jsxs("span",{className:"text-sm text-green-600",children:["+",Math.floor(v.totalSchools/10),"% from last month"]})]})]}),s.jsx("div",{className:"p-3 bg-[#F37021]/10 rounded-lg",children:s.jsx(Ma,{className:"w-6 h-6 text-[#F37021]"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-[#1C1444]",children:"Total Packages"}),s.jsx("p",{className:"text-2xl font-bold text-[#1C1444]",children:v.totalPackages}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(Ih,{className:"w-4 h-4 text-green-500 mr-1"}),s.jsxs("span",{className:"text-sm text-green-600",children:["+",Math.floor(v.totalPackages/5),"% from last month"]})]})]}),s.jsx("div",{className:"p-3 bg-[#F37021]/10 rounded-lg",children:s.jsx(nl,{className:"w-6 h-6 text-[#F37021]"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-[#1C1444]",children:"Total Purchases"}),s.jsx("p",{className:"text-2xl font-bold text-[#1C1444]",children:v.totalPurchases}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(Ih,{className:"w-4 h-4 text-green-500 mr-1"}),s.jsxs("span",{className:"text-sm text-green-600",children:["+",Math.floor(v.totalPurchases/10),"% from last month"]})]})]}),s.jsx("div",{className:"p-3 bg-[#F37021]/10 rounded-lg",children:s.jsx(Jr,{className:"w-6 h-6 text-[#F37021]"})})]})}),s.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-[#1C1444]",children:"Total Revenue"}),s.jsx("p",{className:"text-2xl font-bold text-[#1C1444]",children:y(v.totalRevenue)}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(Ih,{className:"w-4 h-4 text-green-500 mr-1"}),s.jsxs("span",{className:"text-sm text-green-600",children:["+",Math.floor(v.totalRevenue/1e5),"% from last month"]})]})]}),s.jsx("div",{className:"p-3 bg-[#F37021]/10 rounded-lg",children:s.jsx(id,{className:"w-6 h-6 text-[#F37021]"})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-bold text-[#1C1444]",children:"Revenue Trend"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-[#F37021] rounded-full"}),s.jsx("span",{className:"text-sm text-[#1C1444]",children:"Monthly Revenue"})]})]}),s.jsx(ey,{width:"100%",height:300,children:s.jsxs(RR,{data:S,children:[s.jsx(n2,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),s.jsx(Oy,{dataKey:"month",stroke:"#1C1444"}),s.jsx(Ly,{tickFormatter:L=>L===0?"₹0":`₹${(L/1e5).toFixed(0)}L`,domain:[0,"auto"],stroke:"#1C1444"}),s.jsx(Jx,{formatter:L=>[L===0?"₹0":y(L),"Revenue"]}),s.jsx(Dy,{type:"monotone",dataKey:"revenue",stroke:"#F37021",fill:"#F37021",fillOpacity:.1})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-[#1C1444] mb-6",children:"Package Sales Distribution"}),s.jsx(ey,{width:"100%",height:300,children:s.jsxs(MR,{children:[s.jsx(ww,{data:E,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:E.length>1?5:0,dataKey:"sales",label:({name:L,percent:I})=>`${L} ${(I*100).toFixed(0)}%`,labelLine:!1,children:E.map((L,I)=>s.jsx(jg,{fill:L.color,stroke:"#fff",strokeWidth:2},`cell-${I}`))}),s.jsx(Jx,{formatter:(L,I,Y)=>[L,Y.payload.name,Y.payload.revenue>0?`Revenue: ${y(Y.payload.revenue)}`:""]}),s.jsx(A0,{})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-bold text-[#1C1444]",children:"Top Performing Schools"}),s.jsx(pf,{to:"/admin/school",children:s.jsx("button",{className:"text-[#F37021] hover:text-[#d65f1c] text-sm font-medium",children:"View All"})})]}),s.jsx("div",{className:"space-y-4",children:k.map((L,I)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-[#F37021]/10 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-[#F37021] font-bold text-sm",children:["#",I+1]})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-[#1C1444]",children:L.name}),s.jsxs("p",{className:"text-sm text-[#1C1444] flex items-center",children:[s.jsx(v0,{className:"w-3 h-3 mr-1 text-[#F37021]"}),L.address.split(",")[0]]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-bold text-[#1C1444]",children:L.phone}),s.jsxs("p",{className:"text-sm text-[#1C1444]",children:[L.purchases," purchases"]})]})]},L._id))})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-bold text-[#1C1444]",children:"Recent Transactions"}),s.jsx(pf,{to:"/admin/packagehistory",children:s.jsx("button",{className:"text-[#F37021] hover:text-[#d65f1c] text-sm font-medium",children:"View All"})})]}),s.jsx("div",{className:"space-y-4",children:D.map(L=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-[#F37021]/10 rounded-full flex items-center justify-center",children:s.jsx(nl,{className:"w-5 h-5 text-[#F37021]"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-[#1C1444]",children:L.school}),s.jsx("p",{className:"text-sm text-[#1C1444]",children:L.package})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-bold text-[#1C1444]",children:y(L.amount)}),s.jsx("div",{className:"flex items-center space-x-2",children:j(L.status)})]})]},L.id))})]})]})]})]})},Xbe="https://vidyaastra.com/api";function Jbe(){const[t,r]=w.useState(""),[n,a]=w.useState({name:"",email:"",password:"",phone:"",subjects:[],classes:[],profilePic:null}),[i,o]=w.useState(""),[l,c]=w.useState(!1),[u,f]=w.useState(!1),[A,m]=w.useState(!1),[p,g]=w.useState(!1),b=AA(),v=localStorage.getItem("color")||"#2563eb",y=In(Z=>Z.classes.classes?.data||[]),j=In(Z=>Z.subjects.subjects?.data||[]),C=In(Z=>Z.classes.loading),S=In(Z=>Z.subjects.loading),E=In(Z=>Z.classes.error),D=In(Z=>Z.subjects.error);w.useEffect(()=>{const Z=localStorage.getItem("schoolId");Z?r(Z):(o("School ID not found. Please log in as a school admin first."),c(!1))},[]),w.useEffect(()=>{E&&(o("Failed to load classes: "+E),c(!1)),D&&(o("Failed to load subjects: "+D),c(!1))},[E,D]);const k=y.map(Z=>({_id:Z._id,className:Z.className||`Class ${Z.classNumber||Z._id}`,section:Z.section||"",displayName:`${Z.className||`Class ${Z.classNumber||Z._id}`}${Z.section?` ${Z.section}`:""}`.trim()})),L=j.map(Z=>({_id:Z._id,SubjectName:Z.SubjectName||Z.name||Z.subjectName||"Unnamed Subject"})),I=Z=>{const{name:ee,value:de}=Z.target;a({...n,[ee]:de})},Y=Z=>{const ee=Z.target.files[0];if(ee&&!ee.type.startsWith("image/")){o("Please select a valid image file (e.g., .jpg, .png)."),c(!1);return}a({...n,profilePic:ee||null})},Q=Z=>{n.subjects.includes(Z)?a({...n,subjects:n.subjects.filter(ee=>ee!==Z)}):a({...n,subjects:[...n.subjects,Z]})},H=()=>{n.subjects.length===L.length?a({...n,subjects:[]}):a({...n,subjects:L.map(Z=>Z.SubjectName)})},U=Z=>{n.classes.includes(Z)?a({...n,classes:n.classes.filter(ee=>ee!==Z)}):a({...n,classes:[...n.classes,Z]})},K=()=>{n.classes.length===k.length?a({...n,classes:[]}):a({...n,classes:k.map(Z=>Z.displayName)})},X=async Z=>{if(Z.preventDefault(),f(!0),o(""),!n.name||!n.email||!n.password||!n.phone){o("Name, email, password, and phone are required fields."),c(!1),f(!1);return}try{const ee=new FormData;ee.append("name",n.name),ee.append("email",n.email),ee.append("password",n.password),ee.append("phone",n.phone),n.subjects.forEach(Ne=>{ee.append("subjects[]",Ne)}),n.classes.forEach(Ne=>{ee.append("classes[]",Ne)}),n.profilePic&&ee.append("profilePic",n.profilePic);const de=await Ft.post(`${Xbe}/teacher/${t}/register`,ee,{headers:{"Content-Type":"multipart/form-data"}});de.data.success&&(o(de.data.message||"Teacher registered successfully!"),c(!0),a({name:"",email:"",password:"",phone:"",subjects:[],classes:[],profilePic:null}),setTimeout(()=>{b("/teachers")},2e3))}catch(ee){console.error("Error registering teacher:",ee),ee.response?o(ee.response.data.message||"Failed to register teacher."):ee.request?o("No response from server. Please check if the backend server is running."):o("An unexpected error occurred. Please try again."),c(!1)}finally{f(!1)}};return C||S?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(br,{className:"animate-spin w-8 h-8 mx-auto mb-4",style:{color:v}}),s.jsxs("p",{className:"text-gray-600",children:["Loading ",C?"classes":"",C&&S?" and ":"",S?"subjects":"","..."]})]})}):s.jsx("div",{className:" bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-md overflow-scroll",children:[s.jsxs("div",{className:"p-6 text-white",style:{backgroundColor:v},children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[s.jsx(Ns,{className:"mr-2"}),"Register New Teacher"]}),s.jsx("p",{className:"mt-1 opacity-90",children:"Add a new teacher to your school"})]}),s.jsxs("form",{onSubmit:X,className:"p-6 space-y-6 z-1",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"School ID:"}),s.jsx("input",{type:"text",value:t,readOnly:!0,className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-100 cursor-not-allowed"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[s.jsx(Ns,{className:"mr-1 w-4 h-4"}),"Full Name *"]}),s.jsx("input",{type:"text",name:"name",value:n.name,onChange:I,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[s.jsx(Oh,{className:"mr-1 w-4 h-4"}),"Email Address *"]}),s.jsx("input",{type:"email",name:"email",value:n.email,onChange:I,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[s.jsx(N5,{className:"mr-1 w-4 h-4"}),"Password *"]}),s.jsx("input",{type:"password",name:"password",value:n.password,onChange:I,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[s.jsx(xf,{className:"mr-1 w-4 h-4"}),"Phone Number *"]}),s.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:I,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[s.jsx(y0,{className:"mr-1 w-4 h-4"}),"Profile Picture (Optional)"]}),s.jsx("input",{type:"file",accept:"image/*",onChange:Y,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),n.profilePic&&s.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Selected: ",n.profilePic.name]})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[s.jsx(Jr,{className:"mr-1 w-4 h-4"}),"Classes"]}),s.jsxs("div",{className:`border border-gray-300 rounded-lg p-3 cursor-pointer flex justify-between items-center transition 
      ${C?"bg-gray-100 cursor-not-allowed":"hover:border-gray-400"}`,onClick:()=>!C&&g(!p),children:[s.jsx("span",{className:"truncate text-gray-700",children:C?"Loading classes...":n.classes.length>0?`${n.classes.length} class(es) selected`:"Select classes"}),C?s.jsx(br,{className:"animate-spin text-gray-500"}):p?s.jsx(Yp,{className:"text-gray-500"}):s.jsx(gf,{className:"text-gray-500"})]}),p&&!C&&s.jsx("div",{className:"absolute top-full z-100 mt-2 w-full bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto z-50",children:k.length===0?s.jsx("div",{className:"p-3 text-gray-500 z-100 text-center",children:"No classes available"}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-3 z-100 hover:bg-gray-50 cursor-pointer flex items-center border-b border-gray-100",onClick:K,children:[s.jsx("input",{type:"checkbox",checked:n.classes.length===k.length,onChange:K,className:"mr-2 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"font-medium text-gray-700",children:n.classes.length===k.length?"Deselect All":"Select All"})]}),k.map(Z=>s.jsxs("div",{className:"p-3 hover:bg-gray-50 cursor-pointer flex items-center",onClick:()=>U(Z.displayName),children:[s.jsx("input",{type:"checkbox",checked:n.classes.includes(Z.displayName),onChange:()=>U(Z.displayName),className:"mr-2 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"truncate text-gray-700",children:Z.displayName})]},Z._id))]})}),n.classes.length>0&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:n.classes.map(Z=>s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[Z,s.jsx("button",{type:"button",onClick:()=>U(Z),className:"ml-1 rounded-full hover:bg-green-200",children:s.jsx(sr,{className:"w-3 h-3"})})]},Z))})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[s.jsx(Ln,{className:"mr-1 w-4 h-4"}),"Subjects"]}),s.jsxs("div",{className:"border border-gray-300 rounded-lg p-3 cursor-pointer flex justify-between items-center",onClick:()=>m(!A),disabled:S,children:[s.jsx("span",{children:S?"Loading subjects...":n.subjects.length>0?`${n.subjects.length} subject(s) selected`:"Select subjects"}),S?s.jsx(br,{className:"animate-spin"}):A?s.jsx(Yp,{}):s.jsx(gf,{})]}),A&&!S&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:L.length===0?s.jsx("div",{className:"p-3 text-gray-500 text-center",children:"No subjects available"}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-3 hover:bg-gray-100 cursor-pointer flex items-center border-b border-gray-200",onClick:H,children:[s.jsx("input",{type:"checkbox",checked:n.subjects.length===L.length,onChange:H,className:"mr-2 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"font-medium",children:n.subjects.length===L.length?"Deselect All":"Select All"})]}),L.map(Z=>s.jsxs("div",{className:"p-3 hover:bg-gray-100 cursor-pointer flex items-center",onClick:()=>Q(Z.SubjectName),children:[s.jsx("input",{type:"checkbox",checked:n.subjects.includes(Z.SubjectName),onChange:()=>Q(Z.SubjectName),className:"mr-2 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"truncate",children:Z.SubjectName})]},Z._id))]})}),n.subjects.length>0&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:n.subjects.map(Z=>s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[Z,s.jsx("button",{type:"button",onClick:()=>Q(Z),className:"ml-1 rounded-full hover:bg-blue-200",children:s.jsx(sr,{className:"w-3 h-3"})})]},Z))})]}),s.jsx("div",{className:"pt-4",children:s.jsx("button",{type:"submit",disabled:u||C||S,className:"w-full py-3 px-4 rounded-lg text-white font-medium flex items-center justify-center disabled:opacity-50",style:{backgroundColor:v},children:u?s.jsxs(s.Fragment,{children:[s.jsx(br,{className:"animate-spin mr-2"}),"Registering..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ns,{className:"mr-2"}),"Register Teacher"]})})}),i&&s.jsxs("div",{className:`p-3 rounded-lg flex items-center ${l?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[l?s.jsx(gi,{className:"mr-2"}):s.jsx(ln,{className:"mr-2"}),i]})]})]})})}const K1=t=>{if(!t)return"";if(t.includes("-")){const[i,o,l]=t.split("-");return`${o}/${l}/${i}`}const[r,n,a]=t.split("/");return`${n}/${r}/${a}`},Zbe=t=>{if(!t)return"";const[r,n,a]=t.split("/");return`${a}-${r.padStart(2,"0")}-${n.padStart(2,"0")}`},V1=t=>t?new Date(t).toISOString().split("T")[0]:"",e2e=()=>{const t=new Date().toISOString().split("T")[0],[r,n]=w.useState(""),[a,i]=w.useState(""),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[f,A]=w.useState([]),[m,p]=w.useState({}),[g,b]=w.useState([]),[v,y]=w.useState(""),[j,C]=w.useState(!1),[S,E]=w.useState(t),[D,k]=w.useState({}),[L,I]=w.useState([]),[Y,Q]=w.useState([]),[H,U]=w.useState(new Map),[K,X]=w.useState(!1),[Z,ee]=w.useState(null),[de,Ne]=w.useState(!1),[Se,ue]=w.useState(null),[xe,R]=w.useState([]),[G,ne]=w.useState(!1),[ae,oe]=w.useState(""),[he,me]=w.useState(1),[te,Ae]=w.useState(1),[V,ie]=w.useState(0),[pe,ye]=w.useState(10),[ge,le]=w.useState(""),[Qe,ce]=w.useState(""),[se,je]=w.useState(""),[we,q]=w.useState({classes:!1,students:!1,attendance:!1,saving:!1,deleting:{},dailySaving:!1,teacher:!1}),[be,Ee]=w.useState(!1),[Re,it]=w.useState(""),[et,Ct]=w.useState([]),[_t,ot]=w.useState(""),[Ie,qe]=w.useState(null),[at,Ut]=w.useState(null),Ue=localStorage.getItem("schoolId"),[At,Ce]=w.useState({_id:null,name:"",rollNumber:"",studentId:"",class:"",attendance:"absent",date:t,attendanceRecordId:null});w.useEffect(()=>{const Oe=localStorage.getItem("schoolId"),Ge=localStorage.getItem("teacherId");Ee(!Oe),Ge&&qe(Ge)},[]),w.useEffect(()=>{Ue&&Ie&&(async()=>{if(!(!Ue||!Ie)){q(Ge=>({...Ge,teacher:!0}));try{const nt=await(await fetch(`https://vidyaastra.com/api/teacher/${Ue}/${Ie}`)).json();Ut(nt.data)}catch(Ge){console.error("Error fetching teacher:",Ge)}finally{q(Ge=>({...Ge,teacher:!1}))}}})()},[Ue,Ie]),w.useEffect(()=>{at&&(async()=>{if(!(!at||!at.classTeacherOf)){q(Ge=>({...Ge,classes:!0}));try{let Ge=[];if(Array.isArray(at.classTeacherOf)?Ge=at.classTeacherOf.map(tr=>typeof tr=="string"?tr:tr.class):typeof at.classTeacherOf=="string"&&(Ge=[at.classTeacherOf]),Ge.length===0)return;const nt=Ge.map(tr=>Ft.get(`https://vidyaastra.com/api/class/${tr}/${Ue}`)),Xt=(await Promise.all(nt)).map(tr=>tr.data.data).map(tr=>({displayName:tr.section?`${tr.className}${tr.section}`:tr.className,className:tr.className,section:tr.section||"",originalData:tr}));if(Q(Xt),Xt.length>0&&!r){const tr=Xt[0];n(tr.className),i(tr.section),gt(tr.className,Xt)}}catch(Ge){console.error("Failed to fetch teacher's classes:",Ge)}finally{q(Ge=>({...Ge,classes:!1}))}}})()},[at,Ue]);const tt=()=>{Re.trim()&&(localStorage.setItem("schoolId",Re.trim()),window.location.reload())},gt=(Oe,Ge=Y)=>{const nt=Ge.filter(xt=>xt.className===Oe).map(xt=>xt.section).filter((xt,Gt,Xt)=>Xt.indexOf(xt)===Gt);Ct(nt),!nt.includes(a)&&nt.length>0&&i(nt[0])},Kt=Oe=>{n(Oe),gt(Oe)},Ke=async()=>{if(!Ue||!r||a===void 0){A([]),I([]);return}q(Oe=>({...Oe,students:!0}));try{const Oe=await Ft.get(`https://vidyaastra.com/api/students/class/${r}`,{params:{schoolId:Ue,section:a}}),Ge=Oe.data.data||Oe.data;A(Ge),I(Ge);const nt={};Ge.forEach(xt=>{nt[xt._id]="absent"}),p(nt)}catch(Oe){console.error("Failed to fetch students:",Oe),alert("Failed to fetch students. Please check the server or schoolId."),A([]),I([])}finally{q(Oe=>({...Oe,students:!1}))}};w.useEffect(()=>{Ue&&r&&a!==void 0&&Ke()},[Ue,r,a]);const Tt=async()=>{if(!Ue){Ee(!0);return}q(Oe=>({...Oe,attendance:!0}));try{const Oe={schoolId:Ue,page:he,limit:pe};v&&(Oe.studentId=v),ge&&(Oe.className=ge),Qe&&(Oe.section=Qe),se&&(Oe.date=K1(se));const Ge=await Ft.get("https://vidyaastra.com/api/attendance",{params:Oe}),{data:nt,total:xt,totalPages:Gt}=Ge.data;b(nt||[]),ie(xt||0),Ae(Gt||1),wt(nt||[])}catch(Oe){console.error("Failed to fetch attendance:",Oe),alert("Failed to fetch attendance records. Please check if schoolId or studentId is correct.")}finally{q(Oe=>({...Oe,attendance:!1}))}},wt=Oe=>{const Ge=new Map;Oe.forEach(nt=>{const xt=nt.studentId?._id||nt.studentId,Gt=V1(nt.date),Xt=`${xt}-${Gt}`;Ge.set(Xt,{...nt,studentName:nt.studentId?.name||"Unknown",rollNumber:nt.studentId?.rollNumber||"N/A"})}),U(Ge)};w.useEffect(()=>{Ue&&Tt()},[Ue,v,he,pe,ge,Qe,se]);const Dt=(Oe,Ge)=>{const nt=V1(Ge),xt=`${Oe}-${nt}`;return H.get(xt)||null},ir=()=>{const Oe=[];return L.forEach(Ge=>{const nt=Dt(Ge._id,S);nt&&Oe.push({student:Ge,existing:nt,newStatus:D[Ge._id]||"absent"})}),Oe},Dr=Oe=>{const Ge=Oe.studentId,nt=Rn(Ge.classId);Ce({_id:Ge._id,name:Ge.name,rollNumber:Ge.rollNumber,studentId:Ge.studentId,class:nt,attendance:Oe.status,date:Zbe(Oe.date),attendanceRecordId:Oe._id}),u(!0),l(!0)},Xr=async Oe=>{if(!Ue){Ee(!0);return}if(window.confirm("Are you sure you want to delete this attendance record?")){q(Ge=>({...Ge,deleting:{...Ge.deleting,[Oe]:!0}}));try{await Ft.delete(`https://vidyaastra.com/api/attendance/${Oe}`,{data:{schoolId:Ue}}),b(Ge=>Ge.filter(nt=>nt._id!==Oe)),alert("Attendance record deleted successfully!"),Tt()}catch(Ge){console.error("Failed to delete attendance record:",Ge),alert("Failed to delete attendance record. Please try again.")}finally{q(Ge=>({...Ge,deleting:{...Ge.deleting,[Oe]:!1}}))}}},hs=async Oe=>{if(Oe.preventDefault(),!Ue){Ee(!0),alert("School ID is required. Please set it first.");return}const Ge=f.find(nt=>nt.studentId===At.studentId);if(!Ge){alert("Student not found!");return}if(!c){const nt=Dt(Ge._id,At.date);if(nt){const xt=Ge.name,Gt=new Date(At.date).toLocaleDateString(),Xt=nt.status.toUpperCase(),tr=At.attendance.toUpperCase();alert(`⚠️ DUPLICATE ATTENDANCE DETECTED!

Student: ${xt}
Roll Number: ${Ge.rollNumber}
Date: ${Gt}

Current Status: ${Xt}
Attempted Status: ${tr}

This student already has attendance marked for this date.
Use the EDIT button to modify existing records.`);return}}q(nt=>({...nt,saving:!0}));try{if(c){const nt={studentId:Ge._id,status:At.attendance,date:K1(At.date),schoolId:Ue};await Ft.put(`https://vidyaastra.com/api/attendance/${At.attendanceRecordId}`,nt),alert("Attendance updated successfully!")}else{const nt={studentId:Ge._id,status:At.attendance,date:K1(At.date),schoolId:Ue};await Ft.post("https://vidyaastra.com/api/attendance",nt),alert("New attendance record added successfully!")}l(!1),Tt(),Ce({_id:null,name:"",rollNumber:"",studentId:"",class:"",attendance:"absent",date:t,attendanceRecordId:null})}catch(nt){console.error("Failed to save attendance:",nt),alert(`Failed to ${c?"update":"add"} attendance. Please try again.`)}finally{q(nt=>({...nt,saving:!1}))}},kn=Oe=>{y(Oe.target.value),me(1)},xr=(Oe,Ge)=>{k(nt=>({...nt,[Oe]:Ge}))},En=Oe=>{const Ge={};L.forEach(nt=>{Ge[nt._id]=Oe}),k(Ge)},Mn=async()=>{if(!Ue){Ee(!0);return}const Oe=ir();if(Oe.length>0){ee({duplicates:Oe,totalStudents:L.length,date:S}),X(!0);return}await jr(!0)},ns=async Oe=>{X(!1),ee(null),Oe==="update"?await jr(!0):Oe==="skip"&&await jr(!1,!0)},jr=async(Oe=!0,Ge=!1)=>{q(nt=>({...nt,dailySaving:!0}));try{const nt=Ge?L.filter(Xt=>!Dt(Xt._id,S)):L,xt=nt.map(Xt=>{const tr={studentId:Xt._id,status:D[Xt._id]||"absent",date:K1(S),schoolId:Ue},nr=Dt(Xt._id,S);return nr&&Oe?Ft.put(`https://vidyaastra.com/api/attendance/${nr._id}`,tr):nr?Promise.resolve():Ft.post("https://vidyaastra.com/api/attendance",tr)});await Promise.all(xt.filter(Xt=>Xt)),alert(`Attendance ${Oe?"saved/updated":Ge?"saved (skipped duplicates)":"saved"} successfully for ${nt.length} students!`),C(!1),le(r),ce(a),Tt()}catch(nt){console.error("Failed to save daily attendance:",nt),alert("Failed to save attendance. Please try again.")}finally{q(nt=>({...nt,dailySaving:!1}))}},Rn=Oe=>{if(!Oe)return"N/A";if(typeof Oe=="object"&&Oe.className)return Oe.className;if(typeof Oe=="string"){const Ge=Y.find(nt=>nt.originalData._id===Oe);if(Ge)return Ge.displayName}return Oe.toString()},ke=Oe=>{if(!Oe)return{className:"N/A",section:"N/A"};if(typeof Oe=="object"&&Oe.className)return{className:Oe.className,section:Oe.section||"N/A"};if(typeof Oe=="string"){const Ge=Y.find(nt=>nt.originalData._id===Oe);if(Ge)return{className:Ge.className,section:Ge.section||"N/A"}}return{className:"N/A",section:"N/A"}},Xe=async Oe=>{if(!(!Ue||!Oe)){ne(!0);try{const Ge=await Ft.get(`https://vidyaastra.com/api/attendance/student/${Oe}`,{params:{schoolId:Ue}});R(Ge.data.data||[])}catch(Ge){console.error("Failed to fetch student attendance history:",Ge),alert("Failed to fetch student attendance history.")}finally{ne(!1)}}},$e=async Oe=>{ue(Oe),Ne(!0),await Xe(Oe._id)},Ve=()=>{Ne(!1),ue(null),R([])},Je=Oe=>{Oe>=1&&Oe<=te&&me(Oe)},Ze=Oe=>{le(Oe),me(1),gt(Oe)},vt=g.filter(Oe=>{if(!ge&&!Qe&&!se&&!_t)return!0;const{className:Ge,section:nt}=ke(Oe?.studentId?.classId),xt=!ge||Ge===ge,Gt=!Qe||nt===Qe,Xt=!se||V1(Oe.date)===V1(se),tr=!_t||Oe?.studentId?.name?.toLowerCase().includes(_t.toLowerCase())||Oe?.studentId?.rollNumber?.toString().includes(_t)||Oe?.studentId?.studentId?.toLowerCase().includes(_t.toLowerCase());return xt&&Gt&&Xt&&tr});return be?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center p-8 bg-red-50 rounded-lg border border-red-200 max-w-md",children:[s.jsx(sr,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-bold text-red-700 mb-2",children:"School ID Missing"}),s.jsx("p",{className:"text-red-600 mb-4",children:"School ID is missing from localStorage. Please enter it manually to continue."}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"text",value:Re,onChange:Oe=>it(Oe.target.value),placeholder:"Enter School ID",className:"w-full px-3 py-2 border border-red-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:tt,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",disabled:!Re.trim(),children:"Set School ID"}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Refresh"})]})]})]})}):s.jsxs("div",{className:"space-y-6 h-screen overflow-y-auto p-4 bg-gray-50",children:[K&&Z&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(ZT,{className:"w-8 h-8 text-orange-500"}),s.jsx("h2",{className:"text-xl font-bold text-orange-700",children:"Duplicate Attendance Detected"})]}),s.jsxs("div",{className:"mb-4 p-4 bg-orange-50 rounded-lg border border-orange-200",children:[s.jsxs("p",{className:"text-orange-800 mb-2",children:[s.jsx("strong",{children:Z.duplicates.length})," out of"," ",s.jsx("strong",{children:Z.totalStudents})," students already have attendance marked for"," ",s.jsx("strong",{children:new Date(Z.date).toLocaleDateString()}),"."]}),s.jsxs("p",{className:"text-orange-700 text-sm",children:["⚠️ ",s.jsx("strong",{children:"Warning:"})," These students already have attendance records for this date. To modify existing attendance, please use the ",s.jsx("strong",{children:"Edit button"})," in the main attendance table instead."]})]}),s.jsxs("div",{className:"mb-4 max-h-60 overflow-y-auto",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Students with existing attendance:"}),s.jsx("div",{className:"space-y-2",children:Z.duplicates.map(({student:Oe,existing:Ge,newStatus:nt})=>s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded border-l-4 border-orange-400",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:Oe.name}),s.jsxs("span",{className:"text-gray-500 ml-2",children:["(",Oe.rollNumber,")"]})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Already marked: "}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${Ge.status==="present"?"bg-green-100 text-green-800":Ge.status==="absent"?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"}`,children:Ge.status.toUpperCase()}),Ge.status!==nt&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"text-gray-600 ml-2",children:["→ Trying to change to:"," "]}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${nt==="present"?"bg-green-100 text-green-800":nt==="absent"?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"}`,children:nt.toUpperCase()})]}),Ge.status===nt&&s.jsx("span",{className:"text-blue-600 ml-2 text-xs",children:"(Same status - no change needed)"})]})]},Oe._id))})]}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx("button",{onClick:()=>ns("cancel"),className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-700 rounded-lg transition-colors",children:"Cancel & Go Back"}),s.jsxs("button",{onClick:()=>{X(!1),ee(null),C(!1),le(r),ce(a),setTimeout(()=>{const Oe=document.querySelector(".attendance-table");Oe&&Oe.scrollIntoView({behavior:"smooth"})},100)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[s.jsx(Uo,{className:"w-4 h-4"}),"Go to Edit Records"]}),s.jsx("button",{onClick:()=>ns("update"),className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg transition-colors",children:"Override Anyway"})]})]})}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:c?"Edit Attendance":"Add Attendance"}),s.jsxs("form",{onSubmit:hs,className:"space-y-3",children:[s.jsx("input",{type:"text",value:At.rollNumber,readOnly:!0,placeholder:"Roll No",className:"w-full border px-3 py-2 rounded-lg bg-gray-100",required:!0}),s.jsxs("select",{value:At._id||"",onChange:Oe=>{const Ge=f.find(nt=>nt._id===Oe.target.value);Ge&&Ce({...At,_id:Ge._id,name:Ge.name,rollNumber:Ge.rollNumber,studentId:Ge.studentId,class:Rn(Ge.classId)})},className:"w-full border px-3 py-2 rounded-lg",required:!0,disabled:we.students,children:[s.jsx("option",{value:"",children:we.students?"Loading students...":"Select Student"}),f.map(Oe=>s.jsxs("option",{value:Oe._id,children:[Oe.name," - ",Oe.rollNumber]},Oe._id))]}),s.jsx("input",{type:"text",value:At.studentId,readOnly:!0,placeholder:"Student ID",className:"w-full border px-3 py-2 rounded-lg bg-gray-100",required:!0}),s.jsx("select",{value:At.class,onChange:Oe=>Ce({...At,class:Oe.target.value}),className:"w-full border px-3 py-2 rounded-lg",disabled:we.classes,children:we.classes?s.jsx("option",{children:"Loading classes..."}):Y.map(Oe=>s.jsx("option",{value:Oe.displayName,children:Oe.displayName},Oe.displayName))}),s.jsxs("select",{value:At.attendance,onChange:Oe=>Ce({...At,attendance:Oe.target.value}),className:"w-full border px-3 py-2 rounded-lg",children:[s.jsx("option",{value:"present",children:"Present"}),s.jsx("option",{value:"absent",children:"Absent"}),s.jsx("option",{value:"late",children:"Late"})]}),s.jsx("input",{type:"date",value:At.date,onChange:Oe=>Ce({...At,date:Oe.target.value}),className:"w-full border px-3 py-2 rounded-lg"}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 rounded-lg transition-colors",disabled:we.saving,children:"Cancel"}),s.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2",disabled:we.saving,children:[we.saving&&s.jsx(br,{className:"w-4 h-4 animate-spin"}),we.saving?"Saving...":c?"Update":"Add"]})]})]})]})}),j&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(Jr,{})," Daily Attendance Marking"]}),s.jsx("button",{onClick:()=>{C(!1),ee(null),X(!1),le(r),ce(a)},className:"text-gray-500 hover:text-gray-700",children:s.jsx(sr,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Date:"}),s.jsx("input",{type:"date",value:S,onChange:Oe=>E(Oe.target.value),className:"border px-3 py-2 rounded-lg w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Class:"}),s.jsxs("select",{value:r,onChange:Oe=>Kt(Oe.target.value),className:"border px-3 py-2 rounded-lg w-full",disabled:we.classes,children:[s.jsx("option",{value:"",children:we.classes?"Loading classes...":"Select Class"}),[...new Set(Y.map(Oe=>Oe.className))].map(Oe=>s.jsx("option",{value:Oe,children:Oe},Oe))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Section:"}),s.jsxs("select",{value:a,onChange:Oe=>i(Oe.target.value),className:"border px-3 py-2 rounded-lg w-full",disabled:we.classes||!r,children:[s.jsx("option",{value:"",children:"Select Section"}),et.map(Oe=>s.jsx("option",{value:Oe,children:Oe||"No Section"},Oe))]})]})]}),L.length>0?s.jsx("div",{className:"mb-4",children:(()=>{const Oe=ir();return Oe.length>0?s.jsxs("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg flex items-center gap-2",children:[s.jsx(ZT,{className:"w-5 h-5 text-orange-500"}),s.jsxs("span",{className:"text-orange-800",children:[s.jsx("strong",{children:Oe.length})," students already have attendance for this date. Use"," ",s.jsx("strong",{children:"Edit button"})," to modify existing records."]})]}):s.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg flex items-center gap-2",children:[s.jsx(gi,{className:"w-5 h-5 text-green-500"}),s.jsxs("span",{className:"text-green-800",children:["Ready to mark attendance for ",L.length," ","students"]})]})})()}):s.jsx("div",{className:"mb-4 p-3 bg-gray-100 border border-gray-200 rounded-lg flex items-center gap-2",children:s.jsx("span",{className:"text-gray-600",children:we.students?"Loading students...":"No students found for the selected class and section"})}),s.jsxs("div",{className:"flex gap-3 mb-4",children:[s.jsxs("button",{onClick:()=>En("present"),className:"px-4 py-2 rounded-full text-xs font-medium transition-colors bg-green-600 hover:bg-green-700 text-white flex items-center gap-2",disabled:we.students||L.length===0,children:[s.jsx(gi,{})," Mark All Present"]}),s.jsxs("button",{onClick:()=>En("absent"),className:"px-4 py-2 rounded-full text-xs font-medium transition-colors bg-red-600 hover:bg-red-700 text-white flex items-center gap-2",disabled:we.students||L.length===0,children:[s.jsx(sr,{})," Mark All Absent"]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"font-medium mb-3",children:we.students?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(br,{className:"w-4 h-4 animate-spin mx-auto mb-2 text-gray-400"}),"Loading students..."]}):L.length===0?`No students found for Class ${r} ${a?`(${a})`:""}`:`Students in Class ${r} ${a?`(${a})`:""} (${L.length} students)`}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-60 overflow-y-auto",children:we.students?s.jsxs("div",{className:"col-span-2 text-center py-8",children:[s.jsx(br,{className:"w-8 h-8 animate-spin mx-auto mb-2 text-gray-400"}),s.jsx("p",{className:"text-gray-500",children:"Loading students..."})]}):L.length===0?s.jsx("div",{className:"col-span-2 text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"No students found for the selected class and section."})}):L.map(Oe=>{const Ge=Dt(Oe._id,S);return s.jsxs("div",{className:`bg-white p-3 rounded-lg border flex items-center justify-between ${Ge?"border-orange-300 bg-orange-50":"border-gray-200"}`,children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium flex items-center gap-2",children:[Oe.name,Ge&&s.jsxs("span",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded",children:["Already marked:"," ",Ge.status.toUpperCase()]})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Roll: ",Oe.rollNumber]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>xr(Oe._id,"present"),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${D[Oe._id]==="present"?"bg-green-500 text-white":"bg-gray-200 text-gray-700 hover:bg-green-100"}`,children:"Present"}),s.jsx("button",{onClick:()=>xr(Oe._id,"absent"),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${D[Oe._id]==="absent"?"bg-red-500 text-white":"bg-gray-200 text-gray-700 hover:bg-red-100"}`,children:"Absent"}),s.jsx("button",{onClick:()=>xr(Oe._id,"late"),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${D[Oe._id]==="late"?"bg-orange-500 text-white":"bg-gray-200 text-gray-700 hover:bg-orange-100"}`,children:"Late"})]})]},Oe._id)})})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>{C(!1),ee(null),X(!1),le(r),ce(a)},className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 rounded-lg transition-colors",disabled:we.dailySaving,children:"Cancel"}),s.jsxs("button",{onClick:Mn,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2",disabled:we.dailySaving||L.length===0,children:[we.dailySaving&&s.jsx(br,{className:"w-4 h-4 animate-spin"}),we.dailySaving?"Saving...":`Save Attendance (${L.length} students)`]})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Attendance Management"}),s.jsx("p",{className:"text-gray-600",children:"Track and manage student attendance records"}),at&&s.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["Teacher: ",at.name," | Class Teacher of:"," ",Y.map(Oe=>Oe.displayName).join(", ")]})]}),s.jsxs("button",{onClick:()=>C(!0),className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg flex items-center gap-2 transition-colors shadow-md",disabled:we.students||we.classes,children:[(we.students||we.classes)&&s.jsx(br,{className:"w-4 h-4 animate-spin"}),s.jsx(en,{})," Daily Marking"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(xn,{className:"text-gray-400"})}),s.jsx("input",{type:"text",value:_t,onChange:Oe=>ot(Oe.target.value),placeholder:"Search students...",className:"pl-10 w-full border px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("select",{value:ge,onChange:Oe=>Ze(Oe.target.value),className:"w-full border px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:we.classes,children:[s.jsx("option",{value:"",children:we.classes?"Loading classes...":"Filter by Class"}),[...new Set(Y.map(Oe=>Oe.className))].map(Oe=>s.jsx("option",{value:Oe,children:Oe},Oe))]}),s.jsxs("select",{value:Qe,onChange:Oe=>{ce(Oe.target.value),me(1)},className:"w-full border px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:we.classes||!ge,children:[s.jsx("option",{value:"",children:"Filter by Section"}),et.map(Oe=>s.jsx("option",{value:Oe,children:Oe||"No Section"},Oe))]}),s.jsx("input",{type:"date",value:se,onChange:Oe=>{je(Oe.target.value),me(1)},className:"w-full border px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[s.jsxs("select",{value:v,onChange:kn,className:"w-64 border px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:we.students,children:[s.jsx("option",{value:"",children:we.students?"Loading students...":"View Individual Student"}),f.map(Oe=>s.jsxs("option",{value:Oe._id,children:[Oe.name," - ",Oe.rollNumber]},Oe._id))]}),s.jsxs("button",{onClick:()=>{y(""),le(""),ce(""),je(""),ot(""),me(1)},className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 rounded-lg transition-colors flex items-center gap-2",disabled:we.attendance,children:[s.jsx(sr,{})," Clear Filters"]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden attendance-table",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border-b",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-700 flex items-center gap-2",children:[s.jsx(Mo,{className:"text-blue-500"}),"Attendance Records"]}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",vt.length," of ",V," records"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Roll No"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student Name"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student ID"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:we.attendance?s.jsx("tr",{children:s.jsx("td",{colSpan:"8",className:"px-6 py-8 text-center text-gray-500",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(br,{className:"w-5 h-5 animate-spin"}),"Loading attendance records..."]})})}):vt.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"8",className:"px-6 py-8 text-center text-gray-500",children:"No attendance records found matching your criteria"})}):vt.map(Oe=>{const{className:Ge,section:nt}=ke(Oe?.studentId?.classId);return s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:Oe?.studentId?.rollNumber||"N/A"}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:s.jsx("button",{onClick:()=>$e(Oe.studentId),className:"text-blue-600 hover:text-blue-800 hover:underline font-medium transition-colors",disabled:!Oe.studentId,children:Oe?.studentId?.name||"N/A"})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:Oe?.studentId?.studentId||"N/A"}),s.jsx("td",{className:"px-6 py-4 text-sm",children:s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:Ge})}),s.jsx("td",{className:"px-6 py-4 text-sm",children:s.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs font-medium",children:nt})}),s.jsx("td",{className:"px-6 py-4 text-sm",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Oe?.status==="present"?"bg-green-100 text-green-800":Oe?.status==="absent"?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"}`,children:Oe?.status?Oe.status.charAt(0).toUpperCase()+Oe.status.slice(1):"N/A"})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:Oe?.date?new Date(Oe.date).toLocaleDateString():"N/A"}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>$e(Oe.studentId),className:"text-gray-600 hover:text-blue-600 p-2 rounded-lg hover:bg-blue-50 transition-colors",title:"View student attendance history",disabled:!Oe.studentId,children:s.jsx(Ds,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Dr(Oe),className:"text-blue-600 hover:text-blue-800 p-2 rounded-lg hover:bg-blue-50 transition-colors",title:"Edit attendance",disabled:we.saving,children:s.jsx(Uo,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Xr(Oe._id),className:"text-red-600 hover:text-red-800 p-2 rounded-lg hover:bg-red-50 transition-colors",title:"Delete attendance",disabled:we.deleting[Oe._id],children:we.deleting[Oe._id]?s.jsx(br,{className:"w-4 h-4 animate-spin"}):s.jsx(Ss,{className:"w-4 h-4"})})]})})]},Oe._id)})})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center p-4 bg-gray-50 border-t",children:[s.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",vt.length," of ",V," records"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>Je(he-1),disabled:he===1,className:"p-2 rounded-lg bg-gray-200 hover:bg-gray-300 disabled:opacity-50 transition-colors",children:s.jsx(co,{className:"w-4 h-4"})}),s.jsxs("span",{className:"text-sm",children:["Page ",he," of ",te]}),s.jsx("button",{onClick:()=>Je(he+1),disabled:he===te,className:"p-2 rounded-lg bg-gray-200 hover:bg-gray-300 disabled:opacity-50 transition-colors",children:s.jsx(xi,{className:"w-4 h-4"})}),s.jsxs("select",{value:pe,onChange:Oe=>{ye(parseInt(Oe.target.value)),me(1)},className:"border px-2 py-1 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:10,children:"10 per page"}),s.jsx("option",{value:20,children:"20 per page"}),s.jsx("option",{value:50,children:"50 per page"})]})]})]})]}),de&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[Se?.name,"'s Attendance History"]}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Roll Number: ",Se?.rollNumber," | Student ID: ",Se?.studentId,Se?.classId&&s.jsxs("span",{className:"ml-2 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:["Class:"," ",Rn(Se.classId)]})]})]}),s.jsx("button",{onClick:Ve,className:"text-gray-400 hover:text-gray-600 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(sr,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:G?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Loading attendance history..."})]}):xe.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📅"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Attendance Records"}),s.jsx("p",{className:"text-gray-600",children:"No attendance records found for this student."})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Total Records:"," ",(ae?xe.filter(Ge=>{const nt=new Date(Ge.date);return nt.getFullYear()+"-"+String(nt.getMonth()+1).padStart(2,"0")===ae}):xe).length]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter by Month:"}),s.jsx("input",{type:"month",value:ae,onChange:Oe=>oe(Oe.target.value),className:"border border-gray-300 rounded-lg px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),ae&&s.jsx("button",{onClick:()=>oe(""),className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"Clear"})]})]}),s.jsx("div",{className:"flex gap-4 text-sm",children:(()=>{const Oe=ae?xe.filter(Ge=>{const nt=new Date(Ge.date);return nt.getFullYear()+"-"+String(nt.getMonth()+1).padStart(2,"0")===ae}):xe;return s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),"Present:"," ",Oe.filter(Ge=>Ge.status==="present").length]}),s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),"Absent:"," ",Oe.filter(Ge=>Ge.status==="absent").length]}),s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),"Late:"," ",Oe.filter(Ge=>Ge.status==="late").length]})]})})()})]}),s.jsx("div",{className:"bg-gray-50 rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recorded By"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:xe.filter(Oe=>{if(!ae)return!0;const Ge=new Date(Oe.date);return Ge.getFullYear()+"-"+String(Ge.getMonth()+1).padStart(2,"0")===ae}).sort((Oe,Ge)=>new Date(Ge.date)-new Date(Oe.date)).map(Oe=>{const{className:Ge,section:nt}=ke(Oe?.studentId?.classId);return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:Oe.date?new Date(Oe.date).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}):"N/A"}),s.jsx("td",{className:"px-4 py-3 text-sm",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Oe.status==="present"?"bg-green-100 text-green-800":Oe.status==="absent"?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"}`,children:Oe.status?Oe.status.charAt(0).toUpperCase()+Oe.status.slice(1):"N/A"})}),s.jsx("td",{className:"px-4 py-3 text-sm",children:s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:Ge})}),s.jsx("td",{className:"px-4 py-3 text-sm",children:s.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs font-medium",children:nt})}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:Oe.recordedBy||"System"})]},Oe._id)})})]})})]})})]})})]})},Tp="https://vidyaastra.com/api",N9=({show:t,onClose:r,children:n})=>t?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 relative max-h-[90vh] overflow-y-auto",children:[s.jsx("button",{onClick:r,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600",children:s.jsx(sr,{className:"w-5 h-5"})}),n]})}):null,t2e=({show:t,onClose:r,data:n})=>t?s.jsxs(N9,{show:t,onClose:r,children:[s.jsx("h2",{className:"text-lg font-bold mb-4",children:"View Classwork Details"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"font-semibold text-gray-700",children:"Topic:"}),s.jsx("p",{className:"text-gray-600",children:n?.topic||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"font-semibold text-gray-700",children:"Subject:"}),s.jsx("p",{className:"text-gray-600",children:n?.subject||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"font-semibold text-gray-700",children:"Class:"}),s.jsx("p",{className:"text-gray-600",children:n?.className||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"font-semibold text-gray-700",children:"Section:"}),s.jsx("p",{className:"text-gray-600",children:n?.section||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"font-semibold text-gray-700",children:"Date:"}),s.jsx("p",{className:"text-gray-600",children:n?.date?new Date(n.date).toLocaleDateString():"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"font-semibold text-gray-700",children:"Description:"}),s.jsx("p",{className:"text-gray-600",children:n?.description||"N/A"})]}),n?.attachments&&n.attachments.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"font-semibold text-gray-700",children:"Attachments:"}),s.jsx("div",{className:"mt-2 space-y-1",children:n.attachments.map((a,i)=>s.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"text-sm text-gray-600",children:a.name||a.filename}),a.url&&s.jsx("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:s.jsx(Cs,{className:"w-4 h-4"})})]},i))})]})]})]}):null,r2e=()=>{const[t,r]=w.useState(""),[n,a]=w.useState(!1),[i,o]=w.useState(!1),[l,c]=w.useState({}),[u,f]=w.useState({}),[A,m]=w.useState("add"),[p,g]=w.useState([]),[b,v]=w.useState(!1),[y,j]=w.useState(""),[C,S]=w.useState(null),[E,D]=w.useState(null),[k,L]=w.useState([]),[I,Y]=w.useState([]),[Q,H]=w.useState(""),[U,K]=w.useState(""),[X,Z]=w.useState([]),[ee,de]=w.useState(1),[Ne,Se]=w.useState(1),[ue,xe]=w.useState("All"),[R,G]=w.useState("All"),ne=10;w.useEffect(()=>{const be=localStorage.getItem("schoolId"),Ee=localStorage.getItem("teacherId");be&&Ee?(S(be),D(Ee)):j("School ID or Teacher ID not found in local storage")},[]),w.useEffect(()=>{C&&E&&ae()},[C,E,ee,R]);const ae=async()=>{v(!0),j("");try{const Ee=(await Ft.get(`${Tp}/teacher/${C}/${E}`)).data.data,Re=Ee.classes||[],it=Ee.subjects||[];Y(it);const _t=((await Ft.get(`${Tp}/class?schoolId=${C}`)).data.data||[]).filter(tt=>Re.includes(`${tt.className} ${tt.section||""}`.trim())).map(tt=>({...tt,className:tt.className,section:tt.section||""}));L(_t);const ot=[...new Set(_t.map(tt=>tt.className))],Ie=R==="All"?ot:[R];if(Ie.length===0){j("No classes assigned to this teacher."),g([]),Se(1),v(!1);return}const qe=await Ft.get(`${Tp}/classwork/by-class-names`,{params:{schoolId:C,classNames:Ie.join(","),page:ee,limit:ne}}),{classwork:at,pagination:Ut}=qe.data,Ue=at.map(tt=>({...tt,className:tt.classId?.className||"Unknown",section:tt.classId?.section||"N/A"})),At=new Set(_t.map(tt=>`${tt.className} ${tt.section||""}`.trim())),Ce=Ue.filter(tt=>At.has(`${tt.className} ${tt.section}`.trim()));g(Ce),Se(Ut.totalPages)}catch(be){console.error("Failed to fetch initial data:",be),j(be.response?.data?.message||"Failed to load classwork data. Please try again.")}finally{v(!1)}},oe=be=>new Date(be).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}),he=be=>({className:be?.className||"Unknown",section:be?.section||"N/A"}),me=w.useMemo(()=>p.filter(be=>{const Ee=be.topic?.toLowerCase().includes(t.toLowerCase())||be.subject?.toLowerCase().includes(t.toLowerCase())||be.description?.toLowerCase().includes(t.toLowerCase()),Re=ue==="All"||be.subject===ue;return Ee&&Re}),[t,ue,p]);w.useEffect(()=>{de(1)},[t,ue,R]);const te=ee*ne,Ae=te-ne,V=me.slice(Ae,te),ie=be=>{be>=1&&be<=Ne&&de(be)},pe=()=>[...new Set(k.map(Ee=>Ee.className))].sort(),ye=be=>k.filter(Ee=>Ee.className===be).map(Ee=>Ee.section||"N/A").filter((Ee,Re,it)=>it.indexOf(Ee)===Re).sort(),ge=be=>{H(be);const Ee=ye(be);Z(Ee);const Re=Ee.length>0?Ee[0]:"";K(Re);const it=k.find(et=>et.className===be&&(et.section||"N/A")===Re);c({...l,classId:it?._id||"",section:Re})},le=be=>{K(be);const Ee=k.find(Re=>Re.className===Q&&(Re.section||"N/A")===be);c({...l,classId:Ee?._id||"",section:be})},Qe=()=>{m("add"),c({topic:"",subject:I.length>0?I[0]:"",description:"",date:new Date().toISOString().split("T")[0],attachments:[],classId:""}),H(""),K(""),Z([]),a(!0)},ce=be=>{m("edit");const Ee=he(be.classId);c({...be,date:be.date?be.date.split("T")[0]:new Date().toISOString().split("T")[0],attachments:be.attachments||[],classId:be.classId?._id||""}),H(Ee.className);const Re=ye(Ee.className);Z(Re),K(Ee.section),a(!0)},se=be=>{f({...be,className:be.className,section:be.section}),o(!0)},je=async be=>{if(window.confirm("Are you sure you want to delete this classwork?"))try{await Ft.delete(`${Tp}/classwork/${be}`,{data:{schoolId:C}}),alert("Classwork deleted successfully!"),ae()}catch(Ee){console.error("Failed to delete classwork:",Ee),alert("Failed to delete classwork. Please try again.")}},we=async be=>{if(be.preventDefault(),!l.topic||!l.subject||!l.date||!l.classId){alert("Please fill in all required fields including selecting a class");return}const Ee=new FormData;Ee.append("topic",l.topic),Ee.append("subject",l.subject),Ee.append("description",l.description||""),Ee.append("date",l.date),Ee.append("schoolId",C),Ee.append("classId",l.classId),Ee.append("createdBy",E),l.newAttachments?.length&&l.newAttachments.forEach(Re=>{Ee.append("attachments",Re)});try{let Re;A==="add"?(Re=await Ft.post(`${Tp}/classwork`,Ee,{headers:{"Content-Type":"multipart/form-data"}}),alert("Classwork added successfully!")):(Re=await Ft.put(`${Tp}/classwork/${l._id}`,Ee,{headers:{"Content-Type":"multipart/form-data"}}),alert("Classwork updated successfully!")),a(!1),c({}),ae()}catch(Re){console.error("Submission failed:",Re),alert(`Failed to ${A==="add"?"add":"update"} classwork. Please try again.`)}},q=be=>{const Ee=Array.from(be.target.files);c({...l,newAttachments:Ee})};return C?s.jsxs("div",{className:"min-h-screen bg-gray-50 h-screen overflow-y-scroll overflow-x-scroll",children:[s.jsxs("div",{className:"bg-indigo-600 text-white p-6 rounded-b-3xl shadow-lg flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ln,{className:"w-6 h-6"}),s.jsx("h1",{className:"text-2xl font-bold",children:"Classwork Management"})]}),s.jsxs("button",{onClick:Qe,className:"bg-white bg-opacity-20 px-4 py-2 rounded-xl hover:bg-opacity-30 flex items-center space-x-2 transition-colors",children:[s.jsx($s,{className:"w-4 h-4"})," ",s.jsx("span",{children:"Add Classwork"})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",value:t,onChange:be=>r(be.target.value),placeholder:"Search by topic, subject, or description...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),s.jsxs("select",{value:R,onChange:be=>G(be.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[s.jsx("option",{value:"All",children:"All Classes"}),pe().map(be=>s.jsx("option",{value:be,children:be},be))]}),s.jsxs("select",{value:ue,onChange:be=>xe(be.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[s.jsx("option",{value:"All",children:"All Subjects"}),I.map((be,Ee)=>s.jsx("option",{value:be,children:be},Ee))]})]}),y&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:y}),b?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Loading classwork..."})]}):s.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Topic"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Attachments"}),s.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:V.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"8",className:"px-6 py-8 text-center text-gray-500",children:t||R!=="All"||ue!=="All"?"No classwork found matching your filters":"No classwork available"})}):V.map(be=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:be.topic})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:be.subject})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:be.className})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:be.section})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:oe(be.date)})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",title:be.description,children:be.description||"No description"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:be.attachments&&be.attachments.length>0?s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[be.attachments.length," file",be.attachments.length!==1?"s":""]}):s.jsx("span",{className:"text-gray-400",children:"No files"})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>se(be),className:"text-blue-600 hover:text-blue-900 p-1 rounded transition-colors",title:"View details",children:s.jsx(Ds,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>ce(be),className:"text-indigo-600 hover:text-indigo-900 p-1 rounded transition-colors",title:"Edit classwork",children:s.jsx(Uo,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>je(be._id),className:"text-red-600 hover:text-red-900 p-1 rounded transition-colors",title:"Delete classwork",children:s.jsx(Ss,{className:"w-4 h-4"})})]})})]},be._id))})]})}),Ne>1&&s.jsxs("div",{className:"flex justify-center items-center py-4 space-x-2",children:[s.jsx("button",{onClick:()=>ie(ee-1),disabled:ee===1,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg disabled:opacity-50 hover:bg-gray-300 transition-colors",children:"Previous"}),Array.from({length:Ne},(be,Ee)=>Ee+1).map(be=>s.jsx("button",{onClick:()=>ie(be),className:`px-4 py-2 rounded-lg transition-colors ${ee===be?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:be},be)),s.jsx("button",{onClick:()=>ie(ee+1),disabled:ee===Ne,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg disabled:opacity-50 hover:bg-gray-300 transition-colors",children:"Next"})]})]})]}),s.jsxs(N9,{show:n,onClose:()=>a(!1),children:[s.jsxs("h2",{className:"text-lg font-bold mb-4",children:[A==="add"?"Add New":"Edit"," Classwork"]}),s.jsxs("form",{onSubmit:we,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Topic *"}),s.jsx("input",{type:"text",placeholder:"Enter topic",value:l?.topic||"",onChange:be=>c({...l,topic:be.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject *"}),s.jsxs("select",{value:l?.subject||"",onChange:be=>c({...l,subject:be.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Select a subject"}),I.map((be,Ee)=>s.jsx("option",{value:be,children:be},Ee))]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the subject for this classwork"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class *"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Class Name"}),s.jsxs("select",{value:Q,onChange:be=>ge(be.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm",required:!0,children:[s.jsx("option",{value:"",children:"Select Class"}),pe().map(be=>s.jsx("option",{value:be,children:be},be))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Section"}),s.jsxs("select",{value:U,onChange:be=>le(be.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm",disabled:!Q,required:!0,children:[s.jsx("option",{value:"",children:"Select Section"}),X.map(be=>s.jsx("option",{value:be,children:be},be))]})]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the class and section for this classwork"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date *"}),s.jsx("input",{type:"date",value:l?.date||"",onChange:be=>c({...l,date:be.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{placeholder:"Enter description",value:l?.description||"",onChange:be=>c({...l,description:be.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload Documents"}),s.jsx("input",{type:"file",multiple:!0,onChange:q,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.txt,.xlsx,.xls,.ppt,.pptx"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supported formats: PDF, DOC, DOCX, JPG, JPEG, PNG, TXT, Excel, PowerPoint"}),l?.newAttachments&&l.newAttachments.length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Selected files:"}),s.jsx("div",{className:"mt-1 space-y-1",children:Array.from(l.newAttachments).map((be,Ee)=>s.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded text-sm",children:[s.jsx("span",{className:"text-gray-600",children:be.name}),s.jsxs("span",{className:"text-gray-400",children:[(be.size/1024/1024).toFixed(2)," MB"]})]},Ee))})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:A==="add"?"Add Classwork":"Update Classwork"})]})]})]}),s.jsx(t2e,{show:i,onClose:()=>o(!1),data:u})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center",children:[s.jsx(ln,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Missing Required Information"}),s.jsx("p",{className:"text-gray-600",children:"School ID is required to manage classwork."}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please ensure you are logged in and try refreshing the page."})]})})},n2e=()=>{const[t,r]=w.useState(""),[n,a]=w.useState(!1),[i,o]=w.useState(!1),[l,c]=w.useState(!1),[u,f]=w.useState(null),[A,m]=w.useState("All"),[p,g]=w.useState("All"),[b,v]=w.useState("All"),[y,j]=w.useState([]),[C,S]=w.useState([]),[E,D]=w.useState([]),[k,L]=w.useState([]),[I,Y]=w.useState(!1),[Q,H]=w.useState(""),[U,K]=w.useState(null),[X,Z]=w.useState({selectedClassId:"",selectedStudentIds:[],selectedStudents:[],subject:"",title:"",description:"",dueDate:"",priority:"low",status:"pending",schoolId:""}),[ee,de]=w.useState([]),Ne="https://vidyaastra.com/api",Se=["low","medium","high"];w.useEffect(()=>{const je=localStorage.getItem("schoolId");je?(K(je),Z(we=>({...we,schoolId:je}))):H("School ID not found in local storage")},[]),w.useEffect(()=>{U&&ue()},[U]);const ue=async()=>{Y(!0);try{await Promise.all([R(),G(),xe(),ne()])}catch(je){H("Failed to load initial data"),console.error("Error fetching initial data:",je)}finally{Y(!1)}},xe=async()=>{try{const je=await Ft.get(`${Ne}/subject/${U}/subjects`);if(je.data.success){const we=je.data.data.map(q=>q.SubjectName);L(we)}else H("Failed to fetch subjects: Invalid response"),L([])}catch(je){console.error("Error fetching subjects:",je),H("Failed to fetch subjects"),L([])}},R=async()=>{try{const je=await Ft.get(`${Ne}/students?schoolId=${U}`);S(je.data)}catch(je){console.error("Error fetching students:",je),H("Failed to fetch students")}},G=async()=>{try{const je=await Ft.get(`${Ne}/class?schoolId=${U}`);if(je.data.success){const we=je.data.data.map(q=>({_id:q._id,className:q.className,section:q.section||""}));D(we)}else H("Failed to fetch classes: Invalid response")}catch(je){console.error("Error fetching classes:",je),H("Failed to fetch classes")}},ne=async()=>{try{const we=(await Ft.get(`${Ne}/students?schoolId=${U}`)).data;let q=[];for(const be of we)try{const Ee=await Ft.get(`${Ne}/assignments?studentId=${be._id}&schoolId=${U}`);if(Ee.data.success){const Re=Ee.data.data.map(it=>({...it,id:it._id,studentId:be._id,studentName:be.name,rollNo:be.rollNumber,class:be.classId?.className?`${be.classId.className}${be.classId.section?` ${be.classId.section}`:""}`:be.class||"Unknown",priority:it.priority.toUpperCase(),dueDate:it.dueDate.split("T")[0]}));q=[...q,...Re]}}catch(Ee){console.error(`Error fetching homeworks for student ${be._id}:`,Ee)}j(q)}catch(je){console.error("Error fetching homeworks:",je),H("Failed to fetch homeworks")}},ae=y.filter(je=>{const we=je.title?.toLowerCase().includes(t.toLowerCase())||je.subject?.toLowerCase().includes(t.toLowerCase())||je.studentName?.toLowerCase().includes(t.toLowerCase())||je.rollNo?.toLowerCase().includes(t.toLowerCase())||je.description?.toLowerCase().includes(t.toLowerCase()),q=A==="All"||je.subject===A,be=p==="All"||je.status===p,Ee=b==="All"||je.class.includes(b);return we&&q&&be&&Ee});w.useEffect(()=>{if(X.selectedClassId&&C.length>0){const je=C.filter(we=>we.classId?._id===X.selectedClassId||we.classId===X.selectedClassId);de(je)}else de([])},[X.selectedClassId,C]);const oe=()=>{Z({selectedClassId:"",selectedStudentIds:[],selectedStudents:[],subject:"",title:"",description:"",dueDate:"",priority:"low",status:"pending",schoolId:U||""}),de([]),o(!1),c(!1),a(!0)},he=je=>{Z({selectedClassId:"",selectedStudentIds:[je.studentId],selectedStudents:[{_id:je.studentId,name:je.studentName,rollNumber:je.rollNo}],subject:je.subject,title:je.title,description:je.description,dueDate:je.dueDate,priority:je.priority.toLowerCase(),status:je.status,schoolId:U||""}),f(je),o(!0),c(!1),a(!0)},me=je=>{Z({selectedClassId:"",selectedStudentIds:[je.studentId],selectedStudents:[{_id:je.studentId,name:je.studentName,rollNumber:je.rollNo}],subject:je.subject,title:je.title,description:je.description,dueDate:je.dueDate,priority:je.priority.toLowerCase(),status:je.status,schoolId:U||""}),f(je),o(!1),c(!0),a(!0)},te=()=>{a(!1),f(null),o(!1),c(!1),H("")},Ae=je=>{const{name:we,value:q}=je.target;Z(we==="selectedClassId"?{...X,selectedClassId:q,selectedStudentIds:[],selectedStudents:[],schoolId:U||""}:{...X,[we]:q})},V=(je,we)=>{Z(we?{...X,selectedStudentIds:[...X.selectedStudentIds,je._id],selectedStudents:[...X.selectedStudents,je]}:{...X,selectedStudentIds:X.selectedStudentIds.filter(q=>q!==je._id),selectedStudents:X.selectedStudents.filter(q=>q._id!==je._id)})},ie=je=>{Z(je?{...X,selectedStudentIds:ee.map(we=>we._id),selectedStudents:ee}:{...X,selectedStudentIds:[],selectedStudents:[]})},pe=async()=>{if(!U){H("School ID is required");return}if(!i&&X.selectedStudentIds.length===0){H("Please select at least one student");return}Y(!0),H("");try{const je={subject:X.subject,title:X.title,description:X.description,dueDate:X.dueDate,priority:X.priority,studentIds:X.selectedStudentIds,schoolId:X.schoolId};i?(await Ft.put(`${Ne}/assignments/${u._id}`,je)).data.success&&(await ne(),te()):(await Ft.post(`${Ne}/assignments`,je)).data.success&&(await ne(),te())}catch(je){console.error("Error saving assignment:",je),H(je.response?.data?.message||"Failed to save assignment")}finally{Y(!1)}},ye=async je=>{if(!U){H("School ID is required");return}if(window.confirm("Are you sure you want to delete this homework?")){Y(!0);try{const we=await Ft.delete(`${Ne}/assignments/${je._id}`,{data:{schoolId:U}});we.data.success?await ne():H("Failed to delete assignment: "+we.data.message)}catch(we){console.error("Error deleting assignment:",we),H(we.response?.data?.message||"Failed to delete assignment")}finally{Y(!1)}}},ge=je=>{switch(je?.toUpperCase()){case"HIGH":return"bg-red-100 text-red-800";case"MEDIUM":return"bg-orange-100 text-orange-800";case"LOW":return"bg-green-100 text-green-800";case"A":return"bg-green-100 text-green-800";case"B+":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},le=je=>je==="submitted"?s.jsx(pi,{className:"w-4 h-4 text-green-600"}):s.jsx(_n,{className:"w-4 h-4 text-orange-600"}),Qe=je=>new Date(je).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),ce=y.filter(je=>je.status==="pending").length,se=y.filter(je=>je.status==="submitted").length;return I&&y.length===0?s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsx("div",{className:"text-lg",children:"Loading homeworks..."})}):s.jsxs("div",{className:"space-y-6 h-screen overflow-y-scroll",children:[Q&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:Q}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Student HomeWork Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage homeworks with student details"})]}),s.jsxs("button",{onClick:oe,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",disabled:!U,children:[s.jsx($s,{className:"w-5 h-5 mr-2"}),"Add Homework"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search Homework, students...",value:t,onChange:je=>r(je.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("select",{value:b,onChange:je=>v(je.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"All",children:"All Classes"}),E.map(je=>s.jsxs("option",{value:je.className,children:[je.className,je.section?` ${je.section}`:""]},je._id))]}),s.jsxs("select",{value:A,onChange:je=>m(je.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"All",children:"All Subjects"}),k.map(je=>s.jsx("option",{value:je,children:je},je))]}),s.jsxs("select",{value:p,onChange:je=>g(je.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"All",children:"All Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"submitted",children:"Submitted"}),s.jsx("option",{value:"graded",children:"Graded"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Pending (",ce,")"]}),s.jsxs("div",{className:"bg-green-100 text-green-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Submitted (",se,")"]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-max table-auto",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Student Info"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Roll No"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Class"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Subject"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Due Date"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority/Grade"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase w-32",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:ae.map(je=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ns,{className:"w-5 h-5 text-gray-400 mr-2"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:je.studentName}),s.jsx("div",{className:"text-xs text-gray-500",children:"Student"})]})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("span",{className:"text-sm font-mono text-gray-900 bg-gray-100 px-2 py-1 rounded",children:je.rollNo})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:je.class})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ln,{className:"w-4 h-4 text-blue-600 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-blue-600",children:je.subject})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"max-w-xs",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:je.title}),s.jsx("div",{className:"text-xs text-gray-500 mt-1 truncate",children:je.description})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(en,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-900",children:Qe(je.dueDate)}),je.submittedDate&&s.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Submitted: ",Qe(je.submittedDate)]})]})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ge(je.priority)}`,children:je.status==="graded"&&je.grade?je.grade:je.priority})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center",children:[le(je.status),s.jsx("span",{className:`ml-2 text-sm font-medium capitalize ${je.status==="submitted"||je.status==="graded"?"text-green-600":"text-orange-600"}`,children:je.status})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:()=>me(je),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full transition-colors duration-200",title:"View","aria-label":"View assignment",children:s.jsx(Ds,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>he(je),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full transition-colors duration-200",title:"Edit","aria-label":"Edit assignment",children:s.jsx(Uo,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>ye(je),className:"p-2 text-red-600 hover:bg-red-100 rounded-full transition-colors duration-200",title:"Delete","aria-label":"Delete assignment",children:s.jsx(Ss,{className:"w-5 h-5"})})]})})]},je.id))})]})}),ae.length===0&&!I&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Jr,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No assignments found"})]})]}),n&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:l?"View Assignment":i?"Edit Assignment":"Create New Assignment"}),s.jsx("button",{onClick:te,className:"text-gray-500 hover:text-gray-700",children:s.jsx(sr,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[Q&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:Q}),!i&&!l&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-4 flex items-center",children:[s.jsx(Jr,{className:"w-5 h-5 mr-2"}),"Select Class & Students"]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Class First"}),s.jsxs("select",{name:"selectedClassId",value:X.selectedClassId,onChange:Ae,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Choose a class..."}),E.map(je=>s.jsxs("option",{value:je._id,children:[je.className,je.section?` ${je.section}`:""]},je._id))]})]}),X.selectedClassId&&ee.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Select Students (",X.selectedStudentIds.length," ","selected)"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{type:"button",onClick:()=>ie(!0),className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:"Select All"}),s.jsx("button",{type:"button",onClick:()=>ie(!1),className:"text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"Clear All"})]})]}),s.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-lg",children:ee.map(je=>s.jsxs("div",{className:"flex items-center p-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:[s.jsx("input",{type:"checkbox",id:`student-${je._id}`,checked:X.selectedStudentIds.includes(je._id),onChange:we=>V(je,we.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:`student-${je._id}`,className:"ml-3 flex-1 cursor-pointer",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:je.name}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Roll No: ",je.rollNumber]})]}),s.jsx(Ns,{className:"w-4 h-4 text-gray-400"})]})})]},je._id))})]}),X.selectedClassId&&ee.length===0&&s.jsx("div",{className:"text-center py-4 text-gray-500",children:"No students found in this class"})]}),(i||l)&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"Student Information"}),X.selectedStudents.map(je=>s.jsxs("div",{className:"flex items-center p-2 bg-white rounded border",children:[s.jsx(Ns,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:je.name}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Roll No: ",je.rollNumber]})]})]},je._id))]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"Homework Details"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),s.jsxs("select",{name:"subject",value:X.subject,onChange:Ae,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,disabled:l,children:[s.jsx("option",{value:"",children:"Select Subject"}),k.map(je=>s.jsx("option",{value:je,children:je},je))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignment Title"}),s.jsx("input",{type:"text",name:"title",value:X.title,onChange:Ae,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,disabled:l})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{name:"description",value:X.description,onChange:Ae,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,disabled:l})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),s.jsx("input",{type:"date",name:"dueDate",value:X.dueDate,onChange:Ae,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,disabled:l})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),s.jsx("select",{name:"priority",value:X.priority,onChange:Ae,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,disabled:l,children:Se.map(je=>s.jsx("option",{value:je,children:je.toUpperCase()},je))})]})]})]})]}),!l&&s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:te,disabled:I,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),s.jsxs("button",{type:"button",onClick:pe,disabled:I||!U||!i&&X.selectedStudentIds.length===0,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400 flex items-center justify-center space-x-2",children:[s.jsx(Ro,{className:"w-4 h-4"}),s.jsxs("span",{children:[I?"Saving...":i?"Update":"Create"," ","Assignment",!i&&X.selectedStudentIds.length>0&&` (${X.selectedStudentIds.length} students)`]})]})]}),l&&s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx("button",{type:"button",onClick:te,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Close"})})]})]})})]})};function eD(t){return ar({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9 4h2v5l-1-.75L9 9V4zm9 16H6V4h1v9l3-2.25L13 13V4h5v16z"},child:[]}]})(t)}const s2e=()=>{const[t,r]=w.useState(!1),n=dd(),a=AA(),i=localStorage.getItem("schoolLogo")||"";console.log(i);const o=localStorage.getItem("schoolId"),l=localStorage.getItem("teacherId"),[c,u]=w.useState(),[f,A]=w.useState(null),m=[{id:"attendance",path:"/teacher/attendance",icon:j5,label:"Attendance",color:"text-emerald-600"},{id:"assignments",path:"/teacher/assignments",icon:Ln,label:"Home work",color:"text-orange-600"},{id:"classwork",path:"/teacher/classworks",icon:eD,label:"Classwork",color:"text-emerald-600"},{id:"submittedAssignments",path:"/teacher/submittedAssignments",icon:eD,label:"Submitted Assignments",color:"text-emerald-600"}],p=()=>{r(!t)},g=v=>v?v.split(" ").map(y=>y[0]).join("").toUpperCase():"TU";w.useEffect(()=>{(async()=>{try{const j=await(await fetch(`https://vidyaastra.com/api/schools/${o}`)).json();u(j.data.logoUrl)}catch(y){console.error("Error fetching albums:",y)}})()},[o]),w.useEffect(()=>{o&&l&&(async()=>{try{const j=await(await fetch(`https://vidyaastra.com/api/teacher/${o}/${l}`)).json();A(j.data)}catch(y){console.error("Error fetching teacher:",y)}})()},[o,l]);const b=()=>{localStorage.removeItem("teacherToken"),a("/login")};return console.log(f,"teacher"),s.jsxs("div",{className:`bg-white h-screen shadow-xl transition-all duration-700 ease-in-out ${t?"w-20":"w-72"} min-h-screen relative`,style:{margin:0,padding:0,marginLeft:0,paddingLeft:0,left:0,position:"relative"},children:[s.jsx("div",{className:"p-6 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:`flex items-center space-x-3 transition-all duration-700 ease-in-out ${t?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx("img",{src:`https://vidyaastra.com${c}`,alt:"School Logo",className:"w-12 h-12 rounded-xl object-contain shadow-lg",style:{backgroundColor:"white"}})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"SchoolTeacher"}),s.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Management Panel"})]})]}),s.jsx("button",{onClick:p,className:"p-3 rounded-xl hover:bg-gray-100 active:bg-gray-200 transition-all duration-300 ease-in-out group transform hover:scale-110 active:scale-95 hover:rotate-3",children:s.jsxs("div",{className:"relative w-5 h-5",children:[s.jsx(C5,{className:`absolute w-5 h-5 text-gray-600 group-hover:text-gray-800 transition-all duration-500 ease-in-out transform ${t?"opacity-100 rotate-0 scale-100":"opacity-0 rotate-180 scale-75"}`}),s.jsx(sr,{className:`absolute w-5 h-5 text-gray-600 group-hover:text-gray-800 transition-all duration-500 ease-in-out transform ${t?"opacity-0 rotate-180 scale-75":"opacity-100 rotate-0 scale-100"}`})]})})]})}),s.jsx("nav",{className:"p-4",children:s.jsx("ul",{className:"space-y-2",children:m.map(v=>{const y=v.icon,j=n.pathname===v.path||n.pathname==="/"&&v.path==="/dashboard";return s.jsx("li",{children:s.jsxs(pf,{to:v.path,className:`w-full flex items-center space-x-3 p-3 rounded-xl transition-all duration-300 ease-in-out group ${j?"bg-gradient-to-r from-purple-500 to-blue-500 text-white shadow-lg transform scale-105":"hover:bg-gray-50 text-gray-700 hover:shadow-md hover:scale-102"}`,children:[s.jsx(y,{className:`w-5 h-5 flex-shrink-0 ${j?"text-white":`${v.color} group-hover:scale-110`} transition-all duration-300 ease-in-out`}),s.jsx("span",{className:`font-medium transition-all duration-700 ease-in-out ${j?"text-white":"text-gray-700 group-hover:text-gray-900"} ${t?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:v.label}),j&&!t&&s.jsx("div",{className:"ml-auto w-2 h-2 bg-white rounded-full animate-pulse flex-shrink-0"})]})},v.id)})})}),s.jsx("div",{className:`absolute bottom-6 left-4 right-4 transition-all duration-700 ease-in-out ${t?"opacity-0 scale-95 pointer-events-none":"opacity-100 scale-100"}`,children:s.jsx("div",{className:"bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-600 rounded-xl p-4 text-white shadow-lg",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[f?.profilePic?s.jsx("img",{src:`https://vidyaastra.com${f.profilePic}`,alt:f.name,className:"w-12 h-12 rounded-xl object-cover shadow-lg"}):s.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:s.jsx("span",{className:"text-sm font-bold",children:g(f?.name||"Teacher User")})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-sm",children:f?.name||"Teacher User"}),s.jsx("p",{className:"text-xs opacity-80",children:f?.email||"teacher@school.com"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-all duration-200 ease-in-out",children:s.jsx(Dh,{className:"w-4 h-4"})}),s.jsx("button",{onClick:b,className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-all duration-200 ease-in-out",title:"Logout",children:s.jsx(gy,{className:"w-4 h-4"})})]})]})})}),s.jsx("div",{className:`absolute bottom-6 left-1/2 transform -translate-x-1/2 transition-all duration-700 ease-in-out ${t?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[f?.profilePicture?s.jsx("img",{src:`https://vidyaastra.com${f.profilePicture}`,alt:f.name,className:"w-12 h-12 rounded-xl object-cover shadow-lg hover:scale-105 transition-transform duration-200"}):s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-blue-500 rounded-xl flex items-center justify-center shadow-lg hover:scale-105 transition-transform duration-200",children:s.jsx("span",{className:"text-white font-bold text-sm",children:g(f?.name||"TU")})}),s.jsx("button",{onClick:b,className:"w-12 h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center shadow-lg hover:scale-105 transition-transform duration-200",title:"Logout",children:s.jsx(gy,{className:"w-5 h-5 text-white"})})]})})]})},tE=w.createContext({});function kw(t){const r=w.useRef(null);return r.current===null&&(r.current=t()),r.current}const rE=typeof window<"u",nE=rE?w.useLayoutEffect:w.useEffect,Pw=w.createContext(null);function sE(t,r){t.indexOf(r)===-1&&t.push(r)}function aE(t,r){const n=t.indexOf(r);n>-1&&t.splice(n,1)}const Bf=(t,r,n)=>n>r?r:n<t?t:n;let iE=()=>{};const Ef={},C9=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function S9(t){return typeof t=="object"&&t!==null}const B9=t=>/^0[^.\s]+$/u.test(t);function oE(t){let r;return()=>(r===void 0&&(r=t()),r)}const su=t=>t,a2e=(t,r)=>n=>r(t(n)),Cv=(...t)=>t.reduce(a2e),Vy=(t,r,n)=>{const a=r-t;return a===0?1:(n-t)/a};class lE{constructor(){this.subscriptions=[]}add(r){return sE(this.subscriptions,r),()=>aE(this.subscriptions,r)}notify(r,n,a){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](r,n,a);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(r,n,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const sA=t=>t*1e3,aA=t=>t/1e3;function E9(t,r){return r?t*(1e3/r):0}const T9=(t,r,n)=>(((1-3*n+3*r)*t+(3*n-6*r))*t+3*r)*t,i2e=1e-7,o2e=12;function l2e(t,r,n,a,i){let o,l,c=0;do l=r+(n-r)/2,o=T9(l,a,i)-t,o>0?n=l:r=l;while(Math.abs(o)>i2e&&++c<o2e);return l}function Sv(t,r,n,a){if(t===r&&n===a)return su;const i=o=>l2e(o,0,1,t,n);return o=>o===0||o===1?o:T9(i(o),r,a)}const F9=t=>r=>r<=.5?t(2*r)/2:(2-t(2*(1-r)))/2,I9=t=>r=>1-t(1-r),_9=Sv(.33,1.53,.69,.99),cE=I9(_9),k9=F9(cE),P9=t=>(t*=2)<1?.5*cE(t):.5*(2-Math.pow(2,-10*(t-1))),uE=t=>1-Math.sin(Math.acos(t)),D9=I9(uE),O9=F9(uE),c2e=Sv(.42,0,1,1),u2e=Sv(0,0,.58,1),L9=Sv(.42,0,.58,1),d2e=t=>Array.isArray(t)&&typeof t[0]!="number",U9=t=>Array.isArray(t)&&typeof t[0]=="number",A2e={linear:su,easeIn:c2e,easeInOut:L9,easeOut:u2e,circIn:uE,circInOut:O9,circOut:D9,backIn:cE,backInOut:k9,backOut:_9,anticipate:P9},f2e=t=>typeof t=="string",tD=t=>{if(U9(t)){iE(t.length===4);const[r,n,a,i]=t;return Sv(r,n,a,i)}else if(f2e(t))return A2e[t];return t},z1=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function h2e(t,r){let n=new Set,a=new Set,i=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(A){l.has(A)&&(f.schedule(A),t()),A(c)}const f={schedule:(A,m=!1,p=!1)=>{const b=p&&i?n:a;return m&&l.add(A),b.has(A)||b.add(A),A},cancel:A=>{a.delete(A),l.delete(A)},process:A=>{if(c=A,i){o=!0;return}i=!0,[n,a]=[a,n],n.forEach(u),n.clear(),i=!1,o&&(o=!1,f.process(A))}};return f}const m2e=40;function M9(t,r){let n=!1,a=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=z1.reduce((S,E)=>(S[E]=h2e(o),S),{}),{setup:c,read:u,resolveKeyframes:f,preUpdate:A,update:m,preRender:p,render:g,postRender:b}=l,v=()=>{const S=Ef.useManualTiming?i.timestamp:performance.now();n=!1,Ef.useManualTiming||(i.delta=a?1e3/60:Math.max(Math.min(S-i.timestamp,m2e),1)),i.timestamp=S,i.isProcessing=!0,c.process(i),u.process(i),f.process(i),A.process(i),m.process(i),p.process(i),g.process(i),b.process(i),i.isProcessing=!1,n&&r&&(a=!1,t(v))},y=()=>{n=!0,a=!0,i.isProcessing||t(v)};return{schedule:z1.reduce((S,E)=>{const D=l[E];return S[E]=(k,L=!1,I=!1)=>(n||y(),D.schedule(k,L,I)),S},{}),cancel:S=>{for(let E=0;E<z1.length;E++)l[z1[E]].cancel(S)},state:i,steps:l}}const{schedule:la,cancel:Zh,state:to,steps:ZN}=M9(typeof requestAnimationFrame<"u"?requestAnimationFrame:su,!0);let ib;function p2e(){ib=void 0}const Fl={now:()=>(ib===void 0&&Fl.set(to.isProcessing||Ef.useManualTiming?to.timestamp:performance.now()),ib),set:t=>{ib=t,queueMicrotask(p2e)}},R9=t=>r=>typeof r=="string"&&r.startsWith(t),dE=R9("--"),g2e=R9("var(--"),AE=t=>g2e(t)?x2e.test(t.split("/*")[0].trim()):!1,x2e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Eg={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},zy={...Eg,transform:t=>Bf(0,1,t)},G1={...Eg,default:1},cy=t=>Math.round(t*1e5)/1e5,fE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function y2e(t){return t==null}const v2e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hE=(t,r)=>n=>!!(typeof n=="string"&&v2e.test(n)&&n.startsWith(t)||r&&!y2e(n)&&Object.prototype.hasOwnProperty.call(n,r)),Q9=(t,r,n)=>a=>{if(typeof a!="string")return a;const[i,o,l,c]=a.match(fE);return{[t]:parseFloat(i),[r]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},b2e=t=>Bf(0,255,t),eC={...Eg,transform:t=>Math.round(b2e(t))},n0={test:hE("rgb","red"),parse:Q9("red","green","blue"),transform:({red:t,green:r,blue:n,alpha:a=1})=>"rgba("+eC.transform(t)+", "+eC.transform(r)+", "+eC.transform(n)+", "+cy(zy.transform(a))+")"};function w2e(t){let r="",n="",a="",i="";return t.length>5?(r=t.substring(1,3),n=t.substring(3,5),a=t.substring(5,7),i=t.substring(7,9)):(r=t.substring(1,2),n=t.substring(2,3),a=t.substring(3,4),i=t.substring(4,5),r+=r,n+=n,a+=a,i+=i),{red:parseInt(r,16),green:parseInt(n,16),blue:parseInt(a,16),alpha:i?parseInt(i,16)/255:1}}const $S={test:hE("#"),parse:w2e,transform:n0.transform},Bv=t=>({test:r=>typeof r=="string"&&r.endsWith(t)&&r.split(" ").length===1,parse:parseFloat,transform:r=>`${r}${t}`}),Nh=Bv("deg"),iA=Bv("%"),Yr=Bv("px"),j2e=Bv("vh"),N2e=Bv("vw"),rD={...iA,parse:t=>iA.parse(t)/100,transform:t=>iA.transform(t*100)},Op={test:hE("hsl","hue"),parse:Q9("hue","saturation","lightness"),transform:({hue:t,saturation:r,lightness:n,alpha:a=1})=>"hsla("+Math.round(t)+", "+iA.transform(cy(r))+", "+iA.transform(cy(n))+", "+cy(zy.transform(a))+")"},Ja={test:t=>n0.test(t)||$S.test(t)||Op.test(t),parse:t=>n0.test(t)?n0.parse(t):Op.test(t)?Op.parse(t):$S.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?n0.transform(t):Op.transform(t),getAnimatableNone:t=>{const r=Ja.parse(t);return r.alpha=0,Ja.transform(r)}},C2e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function S2e(t){return isNaN(t)&&typeof t=="string"&&(t.match(fE)?.length||0)+(t.match(C2e)?.length||0)>0}const H9="number",$9="color",B2e="var",E2e="var(",nD="${}",T2e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gy(t){const r=t.toString(),n=[],a={color:[],number:[],var:[]},i=[];let o=0;const c=r.replace(T2e,u=>(Ja.test(u)?(a.color.push(o),i.push($9),n.push(Ja.parse(u))):u.startsWith(E2e)?(a.var.push(o),i.push(B2e),n.push(u)):(a.number.push(o),i.push(H9),n.push(parseFloat(u))),++o,nD)).split(nD);return{values:n,split:c,indexes:a,types:i}}function K9(t){return Gy(t).values}function V9(t){const{split:r,types:n}=Gy(t),a=r.length;return i=>{let o="";for(let l=0;l<a;l++)if(o+=r[l],i[l]!==void 0){const c=n[l];c===H9?o+=cy(i[l]):c===$9?o+=Ja.transform(i[l]):o+=i[l]}return o}}const F2e=t=>typeof t=="number"?0:Ja.test(t)?Ja.getAnimatableNone(t):t;function I2e(t){const r=K9(t);return V9(t)(r.map(F2e))}const em={test:S2e,parse:K9,createTransformer:V9,getAnimatableNone:I2e};function tC(t,r,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(r-t)*6*n:n<1/2?r:n<2/3?t+(r-t)*(2/3-n)*6:t}function _2e({hue:t,saturation:r,lightness:n,alpha:a}){t/=360,r/=100,n/=100;let i=0,o=0,l=0;if(!r)i=o=l=n;else{const c=n<.5?n*(1+r):n+r-n*r,u=2*n-c;i=tC(u,c,t+1/3),o=tC(u,c,t),l=tC(u,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:a}}function b2(t,r){return n=>n>0?r:t}const ya=(t,r,n)=>t+(r-t)*n,rC=(t,r,n)=>{const a=t*t,i=n*(r*r-a)+a;return i<0?0:Math.sqrt(i)},k2e=[$S,n0,Op],P2e=t=>k2e.find(r=>r.test(t));function sD(t){const r=P2e(t);if(!r)return!1;let n=r.parse(t);return r===Op&&(n=_2e(n)),n}const aD=(t,r)=>{const n=sD(t),a=sD(r);if(!n||!a)return b2(t,r);const i={...n};return o=>(i.red=rC(n.red,a.red,o),i.green=rC(n.green,a.green,o),i.blue=rC(n.blue,a.blue,o),i.alpha=ya(n.alpha,a.alpha,o),n0.transform(i))},KS=new Set(["none","hidden"]);function D2e(t,r){return KS.has(t)?n=>n<=0?t:r:n=>n>=1?r:t}function O2e(t,r){return n=>ya(t,r,n)}function mE(t){return typeof t=="number"?O2e:typeof t=="string"?AE(t)?b2:Ja.test(t)?aD:M2e:Array.isArray(t)?z9:typeof t=="object"?Ja.test(t)?aD:L2e:b2}function z9(t,r){const n=[...t],a=n.length,i=t.map((o,l)=>mE(o)(o,r[l]));return o=>{for(let l=0;l<a;l++)n[l]=i[l](o);return n}}function L2e(t,r){const n={...t,...r},a={};for(const i in n)t[i]!==void 0&&r[i]!==void 0&&(a[i]=mE(t[i])(t[i],r[i]));return i=>{for(const o in a)n[o]=a[o](i);return n}}function U2e(t,r){const n=[],a={color:0,var:0,number:0};for(let i=0;i<r.values.length;i++){const o=r.types[i],l=t.indexes[o][a[o]],c=t.values[l]??0;n[i]=c,a[o]++}return n}const M2e=(t,r)=>{const n=em.createTransformer(r),a=Gy(t),i=Gy(r);return a.indexes.var.length===i.indexes.var.length&&a.indexes.color.length===i.indexes.color.length&&a.indexes.number.length>=i.indexes.number.length?KS.has(t)&&!i.values.length||KS.has(r)&&!a.values.length?D2e(t,r):Cv(z9(U2e(a,i),i.values),n):b2(t,r)};function G9(t,r,n){return typeof t=="number"&&typeof r=="number"&&typeof n=="number"?ya(t,r,n):mE(t)(t,r)}const R2e=t=>{const r=({timestamp:n})=>t(n);return{start:(n=!0)=>la.update(r,n),stop:()=>Zh(r),now:()=>to.isProcessing?to.timestamp:Fl.now()}},W9=(t,r,n=10)=>{let a="";const i=Math.max(Math.round(r/n),2);for(let o=0;o<i;o++)a+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},w2=2e4;function pE(t){let r=0;const n=50;let a=t.next(r);for(;!a.done&&r<w2;)r+=n,a=t.next(r);return r>=w2?1/0:r}function Q2e(t,r=100,n){const a=n({...t,keyframes:[0,r]}),i=Math.min(pE(a),w2);return{type:"keyframes",ease:o=>a.next(i*o).value/r,duration:aA(i)}}const H2e=5;function q9(t,r,n){const a=Math.max(r-H2e,0);return E9(n-t(a),r-a)}const Ba={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},nC=.001;function $2e({duration:t=Ba.duration,bounce:r=Ba.bounce,velocity:n=Ba.velocity,mass:a=Ba.mass}){let i,o,l=1-r;l=Bf(Ba.minDamping,Ba.maxDamping,l),t=Bf(Ba.minDuration,Ba.maxDuration,aA(t)),l<1?(i=f=>{const A=f*l,m=A*t,p=A-n,g=VS(f,l),b=Math.exp(-m);return nC-p/g*b},o=f=>{const m=f*l*t,p=m*n+n,g=Math.pow(l,2)*Math.pow(f,2)*t,b=Math.exp(-m),v=VS(Math.pow(f,2),l);return(-i(f)+nC>0?-1:1)*((p-g)*b)/v}):(i=f=>{const A=Math.exp(-f*t),m=(f-n)*t+1;return-nC+A*m},o=f=>{const A=Math.exp(-f*t),m=(n-f)*(t*t);return A*m});const c=5/t,u=V2e(i,o,c);if(t=sA(t),isNaN(u))return{stiffness:Ba.stiffness,damping:Ba.damping,duration:t};{const f=Math.pow(u,2)*a;return{stiffness:f,damping:l*2*Math.sqrt(a*f),duration:t}}}const K2e=12;function V2e(t,r,n){let a=n;for(let i=1;i<K2e;i++)a=a-t(a)/r(a);return a}function VS(t,r){return t*Math.sqrt(1-r*r)}const z2e=["duration","bounce"],G2e=["stiffness","damping","mass"];function iD(t,r){return r.some(n=>t[n]!==void 0)}function W2e(t){let r={velocity:Ba.velocity,stiffness:Ba.stiffness,damping:Ba.damping,mass:Ba.mass,isResolvedFromDuration:!1,...t};if(!iD(t,G2e)&&iD(t,z2e))if(t.visualDuration){const n=t.visualDuration,a=2*Math.PI/(n*1.2),i=a*a,o=2*Bf(.05,1,1-(t.bounce||0))*Math.sqrt(i);r={...r,mass:Ba.mass,stiffness:i,damping:o}}else{const n=$2e(t);r={...r,...n,mass:Ba.mass},r.isResolvedFromDuration=!0}return r}function j2(t=Ba.visualDuration,r=Ba.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:r}:t;let{restSpeed:a,restDelta:i}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:u,damping:f,mass:A,duration:m,velocity:p,isResolvedFromDuration:g}=W2e({...n,velocity:-aA(n.velocity||0)}),b=p||0,v=f/(2*Math.sqrt(u*A)),y=l-o,j=aA(Math.sqrt(u/A)),C=Math.abs(y)<5;a||(a=C?Ba.restSpeed.granular:Ba.restSpeed.default),i||(i=C?Ba.restDelta.granular:Ba.restDelta.default);let S;if(v<1){const D=VS(j,v);S=k=>{const L=Math.exp(-v*j*k);return l-L*((b+v*j*y)/D*Math.sin(D*k)+y*Math.cos(D*k))}}else if(v===1)S=D=>l-Math.exp(-j*D)*(y+(b+j*y)*D);else{const D=j*Math.sqrt(v*v-1);S=k=>{const L=Math.exp(-v*j*k),I=Math.min(D*k,300);return l-L*((b+v*j*y)*Math.sinh(I)+D*y*Math.cosh(I))/D}}const E={calculatedDuration:g&&m||null,next:D=>{const k=S(D);if(g)c.done=D>=m;else{let L=D===0?b:0;v<1&&(L=D===0?sA(b):q9(S,D,k));const I=Math.abs(L)<=a,Y=Math.abs(l-k)<=i;c.done=I&&Y}return c.value=c.done?l:k,c},toString:()=>{const D=Math.min(pE(E),w2),k=W9(L=>E.next(D*L).value,D,30);return D+"ms "+k},toTransition:()=>{}};return E}j2.applyToOptions=t=>{const r=Q2e(t,100,j2);return t.ease=r.ease,t.duration=sA(r.duration),t.type="keyframes",t};function zS({keyframes:t,velocity:r=0,power:n=.8,timeConstant:a=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:u,restDelta:f=.5,restSpeed:A}){const m=t[0],p={done:!1,value:m},g=I=>c!==void 0&&I<c||u!==void 0&&I>u,b=I=>c===void 0?u:u===void 0||Math.abs(c-I)<Math.abs(u-I)?c:u;let v=n*r;const y=m+v,j=l===void 0?y:l(y);j!==y&&(v=j-m);const C=I=>-v*Math.exp(-I/a),S=I=>j+C(I),E=I=>{const Y=C(I),Q=S(I);p.done=Math.abs(Y)<=f,p.value=p.done?j:Q};let D,k;const L=I=>{g(p.value)&&(D=I,k=j2({keyframes:[p.value,b(p.value)],velocity:q9(S,I,p.value),damping:i,stiffness:o,restDelta:f,restSpeed:A}))};return L(0),{calculatedDuration:null,next:I=>{let Y=!1;return!k&&D===void 0&&(Y=!0,E(I),L(I)),D!==void 0&&I>=D?k.next(I-D):(!Y&&E(I),p)}}}function q2e(t,r,n){const a=[],i=n||Ef.mix||G9,o=t.length-1;for(let l=0;l<o;l++){let c=i(t[l],t[l+1]);if(r){const u=Array.isArray(r)?r[l]||su:r;c=Cv(u,c)}a.push(c)}return a}function Y2e(t,r,{clamp:n=!0,ease:a,mixer:i}={}){const o=t.length;if(iE(o===r.length),o===1)return()=>r[0];if(o===2&&r[0]===r[1])return()=>r[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),r=[...r].reverse());const c=q2e(r,a,i),u=c.length,f=A=>{if(l&&A<t[0])return r[0];let m=0;if(u>1)for(;m<t.length-2&&!(A<t[m+1]);m++);const p=Vy(t[m],t[m+1],A);return c[m](p)};return n?A=>f(Bf(t[0],t[o-1],A)):f}function X2e(t,r){const n=t[t.length-1];for(let a=1;a<=r;a++){const i=Vy(0,r,a);t.push(ya(n,1,i))}}function J2e(t){const r=[0];return X2e(r,t.length-1),r}function Z2e(t,r){return t.map(n=>n*r)}function ewe(t,r){return t.map(()=>r||L9).splice(0,t.length-1)}function uy({duration:t=300,keyframes:r,times:n,ease:a="easeInOut"}){const i=d2e(a)?a.map(tD):tD(a),o={done:!1,value:r[0]},l=Z2e(n&&n.length===r.length?n:J2e(r),t),c=Y2e(l,r,{ease:Array.isArray(i)?i:ewe(r,i)});return{calculatedDuration:t,next:u=>(o.value=c(u),o.done=u>=t,o)}}const twe=t=>t!==null;function gE(t,{repeat:r,repeatType:n="loop"},a,i=1){const o=t.filter(twe),c=i<0||r&&n!=="loop"&&r%2===1?0:o.length-1;return!c||a===void 0?o[c]:a}const rwe={decay:zS,inertia:zS,tween:uy,keyframes:uy,spring:j2};function Y9(t){typeof t.type=="string"&&(t.type=rwe[t.type])}class xE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(r=>{this.resolve=r})}notifyFinished(){this.resolve()}then(r,n){return this.finished.then(r,n)}}const nwe=t=>t/100;class yE extends xE{constructor(r){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Fl.now()&&this.tick(Fl.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=r,this.initAnimation(),this.play(),r.autoplay===!1&&this.pause()}initAnimation(){const{options:r}=this;Y9(r);const{type:n=uy,repeat:a=0,repeatDelay:i=0,repeatType:o,velocity:l=0}=r;let{keyframes:c}=r;const u=n||uy;u!==uy&&typeof c[0]!="number"&&(this.mixKeyframes=Cv(nwe,G9(c[0],c[1])),c=[0,100]);const f=u({...r,keyframes:c});o==="mirror"&&(this.mirroredGenerator=u({...r,keyframes:[...c].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=pE(f));const{calculatedDuration:A}=f;this.calculatedDuration=A,this.resolvedDuration=A+i,this.totalDuration=this.resolvedDuration*(a+1)-i,this.generator=f}updateTime(r){const n=Math.round(r-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(r,n=!1){const{generator:a,totalDuration:i,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return a.next(0);const{delay:f=0,keyframes:A,repeat:m,repeatType:p,repeatDelay:g,type:b,onUpdate:v,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,r):this.speed<0&&(this.startTime=Math.min(r-i/this.speed,this.startTime)),n?this.currentTime=r:this.updateTime(r);const j=this.currentTime-f*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?j<0:j>i;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let S=this.currentTime,E=a;if(m){const I=Math.min(this.currentTime,i)/c;let Y=Math.floor(I),Q=I%1;!Q&&I>=1&&(Q=1),Q===1&&Y--,Y=Math.min(Y,m+1),!!(Y%2)&&(p==="reverse"?(Q=1-Q,g&&(Q-=g/c)):p==="mirror"&&(E=l)),S=Bf(0,1,Q)*c}const D=C?{done:!1,value:A[0]}:E.next(S);o&&(D.value=o(D.value));let{done:k}=D;!C&&u!==null&&(k=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return L&&b!==zS&&(D.value=gE(A,this.options,y,this.speed)),v&&v(D.value),L&&this.finish(),D}then(r,n){return this.finished.then(r,n)}get duration(){return aA(this.calculatedDuration)}get time(){return aA(this.currentTime)}set time(r){r=sA(r),this.currentTime=r,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=r:this.driver&&(this.startTime=this.driver.now()-r/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(r){this.updateTime(Fl.now());const n=this.playbackSpeed!==r;this.playbackSpeed=r,n&&(this.time=aA(this.currentTime))}play(){if(this.isStopped)return;const{driver:r=R2e,startTime:n}=this.options;this.driver||(this.driver=r(i=>this.tick(i))),this.options.onPlay?.();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=n??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Fl.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(r){return this.startTime=0,this.tick(r,!0)}attachTimeline(r){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),r.observe(this)}}function swe(t){for(let r=1;r<t.length;r++)t[r]??(t[r]=t[r-1])}const s0=t=>t*180/Math.PI,GS=t=>{const r=s0(Math.atan2(t[1],t[0]));return WS(r)},awe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:GS,rotateZ:GS,skewX:t=>s0(Math.atan(t[1])),skewY:t=>s0(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},WS=t=>(t=t%360,t<0&&(t+=360),t),oD=GS,lD=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),cD=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),iwe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:lD,scaleY:cD,scale:t=>(lD(t)+cD(t))/2,rotateX:t=>WS(s0(Math.atan2(t[6],t[5]))),rotateY:t=>WS(s0(Math.atan2(-t[2],t[0]))),rotateZ:oD,rotate:oD,skewX:t=>s0(Math.atan(t[4])),skewY:t=>s0(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function qS(t){return t.includes("scale")?1:0}function YS(t,r){if(!t||t==="none")return qS(r);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,i;if(n)a=iwe,i=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=awe,i=c}if(!i)return qS(r);const o=a[r],l=i[1].split(",").map(lwe);return typeof o=="function"?o(l):l[o]}const owe=(t,r)=>{const{transform:n="none"}=getComputedStyle(t);return YS(n,r)};function lwe(t){return parseFloat(t.trim())}const Tg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fg=new Set(Tg),uD=t=>t===Eg||t===Yr,cwe=new Set(["x","y","z"]),uwe=Tg.filter(t=>!cwe.has(t));function dwe(t){const r=[];return uwe.forEach(n=>{const a=t.getValue(n);a!==void 0&&(r.push([n,a.get()]),a.set(n.startsWith("scale")?1:0))}),r}const p0={width:({x:t},{paddingLeft:r="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(r)-parseFloat(n),height:({y:t},{paddingTop:r="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(r)-parseFloat(n),top:(t,{top:r})=>parseFloat(r),left:(t,{left:r})=>parseFloat(r),bottom:({y:t},{top:r})=>parseFloat(r)+(t.max-t.min),right:({x:t},{left:r})=>parseFloat(r)+(t.max-t.min),x:(t,{transform:r})=>YS(r,"x"),y:(t,{transform:r})=>YS(r,"y")};p0.translateX=p0.x;p0.translateY=p0.y;const g0=new Set;let XS=!1,JS=!1,ZS=!1;function X9(){if(JS){const t=Array.from(g0).filter(a=>a.needsMeasurement),r=new Set(t.map(a=>a.element)),n=new Map;r.forEach(a=>{const i=dwe(a);i.length&&(n.set(a,i),a.render())}),t.forEach(a=>a.measureInitialState()),r.forEach(a=>{a.render();const i=n.get(a);i&&i.forEach(([o,l])=>{a.getValue(o)?.set(l)})}),t.forEach(a=>a.measureEndState()),t.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}JS=!1,XS=!1,g0.forEach(t=>t.complete(ZS)),g0.clear()}function J9(){g0.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(JS=!0)})}function Awe(){ZS=!0,J9(),X9(),ZS=!1}class vE{constructor(r,n,a,i,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...r],this.onComplete=n,this.name=a,this.motionValue=i,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(g0.add(this),XS||(XS=!0,la.read(J9),la.resolveKeyframes(X9))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:r,name:n,element:a,motionValue:i}=this;if(r[0]===null){const o=i?.get(),l=r[r.length-1];if(o!==void 0)r[0]=o;else if(a&&n){const c=a.readValue(n,l);c!=null&&(r[0]=c)}r[0]===void 0&&(r[0]=l),i&&o===void 0&&i.set(r[0])}swe(r)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(r=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,r),g0.delete(this)}cancel(){this.state==="scheduled"&&(g0.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const fwe=t=>t.startsWith("--");function hwe(t,r,n){fwe(r)?t.style.setProperty(r,n):t.style[r]=n}const mwe=oE(()=>window.ScrollTimeline!==void 0),pwe={};function gwe(t,r){const n=oE(t);return()=>pwe[r]??n()}const Z9=gwe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Rx=([t,r,n,a])=>`cubic-bezier(${t}, ${r}, ${n}, ${a})`,dD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rx([0,.65,.55,1]),circOut:Rx([.55,0,1,.45]),backIn:Rx([.31,.01,.66,-.59]),backOut:Rx([.33,1.53,.69,.99])};function eH(t,r){if(t)return typeof t=="function"?Z9()?W9(t,r):"ease-out":U9(t)?Rx(t):Array.isArray(t)?t.map(n=>eH(n,r)||dD.easeOut):dD[t]}function xwe(t,r,n,{delay:a=0,duration:i=300,repeat:o=0,repeatType:l="loop",ease:c="easeOut",times:u}={},f=void 0){const A={[r]:n};u&&(A.offset=u);const m=eH(c,i);Array.isArray(m)&&(A.easing=m);const p={delay:a,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return f&&(p.pseudoElement=f),t.animate(A,p)}function tH(t){return typeof t=="function"&&"applyToOptions"in t}function ywe({type:t,...r}){return tH(t)&&Z9()?t.applyToOptions(r):(r.duration??(r.duration=300),r.ease??(r.ease="easeOut"),r)}class vwe extends xE{constructor(r){if(super(),this.finishedTime=null,this.isStopped=!1,!r)return;const{element:n,name:a,keyframes:i,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:c,onComplete:u}=r;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=r,iE(typeof r.type!="string");const f=ywe(r);this.animation=xwe(n,a,i,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const A=gE(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(A):hwe(n,a,A),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:r}=this;r==="idle"||r==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const r=this.animation.effect?.getComputedTiming?.().duration||0;return aA(Number(r))}get time(){return aA(Number(this.animation.currentTime)||0)}set time(r){this.finishedTime=null,this.animation.currentTime=sA(r)}get speed(){return this.animation.playbackRate}set speed(r){r<0&&(this.finishedTime=null),this.animation.playbackRate=r}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(r){this.animation.startTime=r}attachTimeline({timeline:r,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,r&&mwe()?(this.animation.timeline=r,su):n(this)}}const rH={anticipate:P9,backInOut:k9,circInOut:O9};function bwe(t){return t in rH}function wwe(t){typeof t.ease=="string"&&bwe(t.ease)&&(t.ease=rH[t.ease])}const AD=10;class jwe extends vwe{constructor(r){wwe(r),Y9(r),super(r),r.startTime&&(this.startTime=r.startTime),this.options=r}updateMotionValue(r){const{motionValue:n,onUpdate:a,onComplete:i,element:o,...l}=this.options;if(!n)return;if(r!==void 0){n.set(r);return}const c=new yE({...l,autoplay:!1}),u=sA(this.finishedTime??this.time);n.setWithVelocity(c.sample(u-AD).value,c.sample(u).value,AD),c.stop()}}const fD=(t,r)=>r==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(em.test(t)||t==="0")&&!t.startsWith("url("));function Nwe(t){const r=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}function Cwe(t,r,n,a){const i=t[0];if(i===null)return!1;if(r==="display"||r==="visibility")return!0;const o=t[t.length-1],l=fD(i,r),c=fD(o,r);return!l||!c?!1:Nwe(t)||(n==="spring"||tH(n))&&a}function e5(t){t.duration=0,t.type}const Swe=new Set(["opacity","clipPath","filter","transform"]),Bwe=oE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Ewe(t){const{motionValue:r,name:n,repeatDelay:a,repeatType:i,damping:o,type:l}=t;if(!(r?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:f}=r.owner.getProps();return Bwe()&&n&&Swe.has(n)&&(n!=="transform"||!f)&&!u&&!a&&i!=="mirror"&&o!==0&&l!=="inertia"}const Twe=40;class Fwe extends xE{constructor({autoplay:r=!0,delay:n=0,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",keyframes:c,name:u,motionValue:f,element:A,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Fl.now();const p={autoplay:r,delay:n,type:a,repeat:i,repeatDelay:o,repeatType:l,name:u,motionValue:f,element:A,...m},g=A?.KeyframeResolver||vE;this.keyframeResolver=new g(c,(b,v,y)=>this.onKeyframesResolved(b,v,p,!y),u,f,A),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(r,n,a,i){this.keyframeResolver=void 0;const{name:o,type:l,velocity:c,delay:u,isHandoff:f,onUpdate:A}=a;this.resolvedAt=Fl.now(),Cwe(r,o,l,c)||((Ef.instantAnimations||!u)&&A?.(gE(r,a,n)),r[0]=r[r.length-1],e5(a),a.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Twe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...a,keyframes:r},g=!f&&Ewe(p)?new jwe({...p,element:p.motionValue.owner.current}):new yE(p);g.finished.then(()=>this.notifyFinished()).catch(su),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(r,n){return this.finished.finally(r).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Awe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(r){this.animation.time=r}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(r){this.animation.speed=r}get startTime(){return this.animation.startTime}attachTimeline(r){return this._animation?this.stopTimeline=this.animation.attachTimeline(r):this.pendingTimeline=r,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Iwe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _we(t){const r=Iwe.exec(t);if(!r)return[,];const[,n,a,i]=r;return[`--${n??a}`,i]}function nH(t,r,n=1){const[a,i]=_we(t);if(!a)return;const o=window.getComputedStyle(r).getPropertyValue(a);if(o){const l=o.trim();return C9(l)?parseFloat(l):l}return AE(i)?nH(i,r,n+1):i}function bE(t,r){return t?.[r]??t?.default??t}const sH=new Set(["width","height","top","left","right","bottom",...Tg]),kwe={test:t=>t==="auto",parse:t=>t},aH=t=>r=>r.test(t),iH=[Eg,Yr,iA,Nh,N2e,j2e,kwe],hD=t=>iH.find(aH(t));function Pwe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||B9(t):!0}const Dwe=new Set(["brightness","contrast","saturate","opacity"]);function Owe(t){const[r,n]=t.slice(0,-1).split("(");if(r==="drop-shadow")return t;const[a]=n.match(fE)||[];if(!a)return t;const i=n.replace(a,"");let o=Dwe.has(r)?1:0;return a!==n&&(o*=100),r+"("+o+i+")"}const Lwe=/\b([a-z-]*)\(.*?\)/gu,t5={...em,getAnimatableNone:t=>{const r=t.match(Lwe);return r?r.map(Owe).join(" "):t}},mD={...Eg,transform:Math.round},Uwe={rotate:Nh,rotateX:Nh,rotateY:Nh,rotateZ:Nh,scale:G1,scaleX:G1,scaleY:G1,scaleZ:G1,skew:Nh,skewX:Nh,skewY:Nh,distance:Yr,translateX:Yr,translateY:Yr,translateZ:Yr,x:Yr,y:Yr,z:Yr,perspective:Yr,transformPerspective:Yr,opacity:zy,originX:rD,originY:rD,originZ:Yr},wE={borderWidth:Yr,borderTopWidth:Yr,borderRightWidth:Yr,borderBottomWidth:Yr,borderLeftWidth:Yr,borderRadius:Yr,radius:Yr,borderTopLeftRadius:Yr,borderTopRightRadius:Yr,borderBottomRightRadius:Yr,borderBottomLeftRadius:Yr,width:Yr,maxWidth:Yr,height:Yr,maxHeight:Yr,top:Yr,right:Yr,bottom:Yr,left:Yr,padding:Yr,paddingTop:Yr,paddingRight:Yr,paddingBottom:Yr,paddingLeft:Yr,margin:Yr,marginTop:Yr,marginRight:Yr,marginBottom:Yr,marginLeft:Yr,backgroundPositionX:Yr,backgroundPositionY:Yr,...Uwe,zIndex:mD,fillOpacity:zy,strokeOpacity:zy,numOctaves:mD},Mwe={...wE,color:Ja,backgroundColor:Ja,outlineColor:Ja,fill:Ja,stroke:Ja,borderColor:Ja,borderTopColor:Ja,borderRightColor:Ja,borderBottomColor:Ja,borderLeftColor:Ja,filter:t5,WebkitFilter:t5},oH=t=>Mwe[t];function lH(t,r){let n=oH(t);return n!==t5&&(n=em),n.getAnimatableNone?n.getAnimatableNone(r):void 0}const Rwe=new Set(["auto","none","0"]);function Qwe(t,r,n){let a=0,i;for(;a<t.length&&!i;){const o=t[a];typeof o=="string"&&!Rwe.has(o)&&Gy(o).values.length&&(i=t[a]),a++}if(i&&n)for(const o of r)t[o]=lH(n,i)}class Hwe extends vE{constructor(r,n,a,i,o){super(r,n,a,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:r,element:n,name:a}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<r.length;u++){let f=r[u];if(typeof f=="string"&&(f=f.trim(),AE(f))){const A=nH(f,n.current);A!==void 0&&(r[u]=A),u===r.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!sH.has(a)||r.length!==2)return;const[i,o]=r,l=hD(i),c=hD(o);if(l!==c)if(uD(l)&&uD(c))for(let u=0;u<r.length;u++){const f=r[u];typeof f=="string"&&(r[u]=parseFloat(f))}else p0[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:r,name:n}=this,a=[];for(let i=0;i<r.length;i++)(r[i]===null||Pwe(r[i]))&&a.push(i);a.length&&Qwe(r,a,n)}measureInitialState(){const{element:r,unresolvedKeyframes:n,name:a}=this;if(!r||!r.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=p0[a](r.measureViewportBox(),window.getComputedStyle(r.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&r.getValue(a,i).jump(i,!1)}measureEndState(){const{element:r,name:n,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=a.length-1,l=a[o];a[o]=p0[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function $we(t,r,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let a=document;const i=n?.[t]??a.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const cH=(t,r)=>r&&typeof t=="number"?r.transform(t):t;function uH(t){return S9(t)&&"offsetHeight"in t}const pD=30,Kwe=t=>!isNaN(parseFloat(t));class Vwe{constructor(r,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{const i=Fl.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(r),this.owner=n.owner}setCurrent(r){this.current=r,this.updatedAt=Fl.now(),this.canTrackVelocity===null&&r!==void 0&&(this.canTrackVelocity=Kwe(this.current))}setPrevFrameValue(r=this.current){this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt}onChange(r){return this.on("change",r)}on(r,n){this.events[r]||(this.events[r]=new lE);const a=this.events[r].add(n);return r==="change"?()=>{a(),la.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const r in this.events)this.events[r].clear()}attach(r,n){this.passiveEffect=r,this.stopPassiveEffect=n}set(r){this.passiveEffect?this.passiveEffect(r,this.updateAndNotify):this.updateAndNotify(r)}setWithVelocity(r,n,a){this.set(n),this.prev=void 0,this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt-a}jump(r,n=!0){this.updateAndNotify(r),this.prev=r,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(r){this.dependents||(this.dependents=new Set),this.dependents.add(r)}removeDependent(r){this.dependents&&this.dependents.delete(r)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const r=Fl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||r-this.updatedAt>pD)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,pD);return E9(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(r){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=r(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ig(t,r){return new Vwe(t,r)}const{schedule:jE}=M9(queueMicrotask,!1),td={x:!1,y:!1};function dH(){return td.x||td.y}function zwe(t){return t==="x"||t==="y"?td[t]?null:(td[t]=!0,()=>{td[t]=!1}):td.x||td.y?null:(td.x=td.y=!0,()=>{td.x=td.y=!1})}function AH(t,r){const n=$we(t),a=new AbortController,i={passive:!0,...r,signal:a.signal};return[n,i,()=>a.abort()]}function gD(t){return!(t.pointerType==="touch"||dH())}function Gwe(t,r,n={}){const[a,i,o]=AH(t,n),l=c=>{if(!gD(c))return;const{target:u}=c,f=r(u,c);if(typeof f!="function"||!u)return;const A=m=>{gD(m)&&(f(m),u.removeEventListener("pointerleave",A))};u.addEventListener("pointerleave",A,i)};return a.forEach(c=>{c.addEventListener("pointerenter",l,i)}),o}const fH=(t,r)=>r?t===r?!0:fH(t,r.parentElement):!1,NE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Wwe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qwe(t){return Wwe.has(t.tagName)||t.tabIndex!==-1}const ob=new WeakSet;function xD(t){return r=>{r.key==="Enter"&&t(r)}}function sC(t,r){t.dispatchEvent(new PointerEvent("pointer"+r,{isPrimary:!0,bubbles:!0}))}const Ywe=(t,r)=>{const n=t.currentTarget;if(!n)return;const a=xD(()=>{if(ob.has(n))return;sC(n,"down");const i=xD(()=>{sC(n,"up")}),o=()=>sC(n,"cancel");n.addEventListener("keyup",i,r),n.addEventListener("blur",o,r)});n.addEventListener("keydown",a,r),n.addEventListener("blur",()=>n.removeEventListener("keydown",a),r)};function yD(t){return NE(t)&&!dH()}function Xwe(t,r,n={}){const[a,i,o]=AH(t,n),l=c=>{const u=c.currentTarget;if(!yD(c))return;ob.add(u);const f=r(u,c),A=(g,b)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",p),ob.has(u)&&ob.delete(u),yD(g)&&typeof f=="function"&&f(g,{success:b})},m=g=>{A(g,u===window||u===document||n.useGlobalTarget||fH(u,g.target))},p=g=>{A(g,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",p,i)};return a.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),uH(c)&&(c.addEventListener("focus",f=>Ywe(f,i)),!qwe(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function hH(t){return S9(t)&&"ownerSVGElement"in t}function Jwe(t){return hH(t)&&t.tagName==="svg"}const Po=t=>!!(t&&t.getVelocity),Zwe=[...iH,Ja,em],eje=t=>Zwe.find(aH(t)),CE=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class tje extends w.Component{getSnapshotBeforeUpdate(r){const n=this.props.childRef.current;if(n&&r.isPresent&&!this.props.isPresent){const a=n.offsetParent,i=uH(a)&&a.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function rje({children:t,isPresent:r,anchorX:n,root:a}){const i=w.useId(),o=w.useRef(null),l=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=w.useContext(CE);return w.useInsertionEffect(()=>{const{width:u,height:f,top:A,left:m,right:p}=l.current;if(r||!o.current||!u||!f)return;const g=n==="left"?`left: ${m}`:`right: ${p}`;o.current.dataset.motionPopId=i;const b=document.createElement("style");c&&(b.nonce=c);const v=a??document.head;return v.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${f}px !important;
            ${g}px !important;
            top: ${A}px !important;
          }
        `),()=>{v.contains(b)&&v.removeChild(b)}},[r]),s.jsx(tje,{isPresent:r,childRef:o,sizeRef:l,children:w.cloneElement(t,{ref:o})})}const nje=({children:t,initial:r,isPresent:n,onExitComplete:a,custom:i,presenceAffectsLayout:o,mode:l,anchorX:c,root:u})=>{const f=kw(sje),A=w.useId();let m=!0,p=w.useMemo(()=>(m=!1,{id:A,initial:r,isPresent:n,custom:i,onExitComplete:g=>{f.set(g,!0);for(const b of f.values())if(!b)return;a&&a()},register:g=>(f.set(g,!1),()=>f.delete(g))}),[n,f,a]);return o&&m&&(p={...p}),w.useMemo(()=>{f.forEach((g,b)=>f.set(b,!1))},[n]),w.useEffect(()=>{!n&&!f.size&&a&&a()},[n]),l==="popLayout"&&(t=s.jsx(rje,{isPresent:n,anchorX:c,root:u,children:t})),s.jsx(Pw.Provider,{value:p,children:t})};function sje(){return new Map}function mH(t=!0){const r=w.useContext(Pw);if(r===null)return[!0,null];const{isPresent:n,onExitComplete:a,register:i}=r,o=w.useId();w.useEffect(()=>{if(t)return i(o)},[t]);const l=w.useCallback(()=>t&&a&&a(o),[o,a,t]);return!n&&a?[!1,l]:[!0]}const W1=t=>t.key||"";function vD(t){const r=[];return w.Children.forEach(t,n=>{w.isValidElement(n)&&r.push(n)}),r}const pH=({children:t,custom:r,initial:n=!0,onExitComplete:a,presenceAffectsLayout:i=!0,mode:o="sync",propagate:l=!1,anchorX:c="left",root:u})=>{const[f,A]=mH(l),m=w.useMemo(()=>vD(t),[t]),p=l&&!f?[]:m.map(W1),g=w.useRef(!0),b=w.useRef(m),v=kw(()=>new Map),[y,j]=w.useState(m),[C,S]=w.useState(m);nE(()=>{g.current=!1,b.current=m;for(let k=0;k<C.length;k++){const L=W1(C[k]);p.includes(L)?v.delete(L):v.get(L)!==!0&&v.set(L,!1)}},[C,p.length,p.join("-")]);const E=[];if(m!==y){let k=[...m];for(let L=0;L<C.length;L++){const I=C[L],Y=W1(I);p.includes(Y)||(k.splice(L,0,I),E.push(I))}return o==="wait"&&E.length&&(k=E),S(vD(k)),j(m),null}const{forceRender:D}=w.useContext(tE);return s.jsx(s.Fragment,{children:C.map(k=>{const L=W1(k),I=l&&!f?!1:m===C||p.includes(L),Y=()=>{if(v.has(L))v.set(L,!0);else return;let Q=!0;v.forEach(H=>{H||(Q=!1)}),Q&&(D?.(),S(b.current),l&&A?.(),a&&a())};return s.jsx(nje,{isPresent:I,initial:!g.current||n?void 0:!1,custom:r,presenceAffectsLayout:i,mode:o,root:u,onExitComplete:I?void 0:Y,anchorX:c,children:k},L)})})},gH=w.createContext({strict:!1}),bD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},og={};for(const t in bD)og[t]={isEnabled:r=>bD[t].some(n=>!!r[n])};function aje(t){for(const r in t)og[r]={...og[r],...t[r]}}const ije=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function N2(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ije.has(t)}let xH=t=>!N2(t);function oje(t){typeof t=="function"&&(xH=r=>r.startsWith("on")?!N2(r):t(r))}try{oje(require("@emotion/is-prop-valid").default)}catch{}function lje(t,r,n){const a={};for(const i in t)i==="values"&&typeof t.values=="object"||(xH(i)||n===!0&&N2(i)||!r&&!N2(i)||t.draggable&&i.startsWith("onDrag"))&&(a[i]=t[i]);return a}const Dw=w.createContext({});function Ow(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Wy(t){return typeof t=="string"||Array.isArray(t)}const SE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],BE=["initial",...SE];function Lw(t){return Ow(t.animate)||BE.some(r=>Wy(t[r]))}function yH(t){return!!(Lw(t)||t.variants)}function cje(t,r){if(Lw(t)){const{initial:n,animate:a}=t;return{initial:n===!1||Wy(n)?n:void 0,animate:Wy(a)?a:void 0}}return t.inherit!==!1?r:{}}function uje(t){const{initial:r,animate:n}=cje(t,w.useContext(Dw));return w.useMemo(()=>({initial:r,animate:n}),[wD(r),wD(n)])}function wD(t){return Array.isArray(t)?t.join(" "):t}const qy={};function dje(t){for(const r in t)qy[r]=t[r],dE(r)&&(qy[r].isCSSVariable=!0)}function vH(t,{layout:r,layoutId:n}){return Fg.has(t)||t.startsWith("origin")||(r||n!==void 0)&&(!!qy[t]||t==="opacity")}const Aje={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fje=Tg.length;function hje(t,r,n){let a="",i=!0;for(let o=0;o<fje;o++){const l=Tg[o],c=t[l];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(l.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||n){const f=cH(c,wE[l]);if(!u){i=!1;const A=Aje[l]||l;a+=`${A}(${f}) `}n&&(r[l]=f)}}return a=a.trim(),n?a=n(r,i?"":a):i&&(a="none"),a}function EE(t,r,n){const{style:a,vars:i,transformOrigin:o}=t;let l=!1,c=!1;for(const u in r){const f=r[u];if(Fg.has(u)){l=!0;continue}else if(dE(u)){i[u]=f;continue}else{const A=cH(f,wE[u]);u.startsWith("origin")?(c=!0,o[u]=A):a[u]=A}}if(r.transform||(l||n?a.transform=hje(r,t.transform,n):a.transform&&(a.transform="none")),c){const{originX:u="50%",originY:f="50%",originZ:A=0}=o;a.transformOrigin=`${u} ${f} ${A}`}}const TE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bH(t,r,n){for(const a in r)!Po(r[a])&&!vH(a,n)&&(t[a]=r[a])}function mje({transformTemplate:t},r){return w.useMemo(()=>{const n=TE();return EE(n,r,t),Object.assign({},n.vars,n.style)},[r])}function pje(t,r){const n=t.style||{},a={};return bH(a,n,t),Object.assign(a,mje(t,r)),a}function gje(t,r){const n={},a=pje(t,r);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=a,n}const xje={offset:"stroke-dashoffset",array:"stroke-dasharray"},yje={offset:"strokeDashoffset",array:"strokeDasharray"};function vje(t,r,n=1,a=0,i=!0){t.pathLength=1;const o=i?xje:yje;t[o.offset]=Yr.transform(-a);const l=Yr.transform(r),c=Yr.transform(n);t[o.array]=`${l} ${c}`}function wH(t,{attrX:r,attrY:n,attrScale:a,pathLength:i,pathSpacing:o=1,pathOffset:l=0,...c},u,f,A){if(EE(t,c,f),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p}=t;m.transform&&(p.transform=m.transform,delete m.transform),(p.transform||m.transformOrigin)&&(p.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),p.transform&&(p.transformBox=A?.transformBox??"fill-box",delete m.transformBox),r!==void 0&&(m.x=r),n!==void 0&&(m.y=n),a!==void 0&&(m.scale=a),i!==void 0&&vje(m,i,o,l,!1)}const jH=()=>({...TE(),attrs:{}}),NH=t=>typeof t=="string"&&t.toLowerCase()==="svg";function bje(t,r,n,a){const i=w.useMemo(()=>{const o=jH();return wH(o,r,NH(a),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[r]);if(t.style){const o={};bH(o,t.style,t),i.style={...o,...i.style}}return i}const wje=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function FE(t){return typeof t!="string"||t.includes("-")?!1:!!(wje.indexOf(t)>-1||/[A-Z]/u.test(t))}function jje(t,r,n,{latestValues:a},i,o=!1){const c=(FE(t)?bje:gje)(r,a,i,t),u=lje(r,typeof t=="string",o),f=t!==w.Fragment?{...u,...c,ref:n}:{},{children:A}=r,m=w.useMemo(()=>Po(A)?A.get():A,[A]);return w.createElement(t,{...f,children:m})}function jD(t){const r=[{},{}];return t?.values.forEach((n,a)=>{r[0][a]=n.get(),r[1][a]=n.getVelocity()}),r}function IE(t,r,n,a){if(typeof r=="function"){const[i,o]=jD(a);r=r(n!==void 0?n:t.custom,i,o)}if(typeof r=="string"&&(r=t.variants&&t.variants[r]),typeof r=="function"){const[i,o]=jD(a);r=r(n!==void 0?n:t.custom,i,o)}return r}function lb(t){return Po(t)?t.get():t}function Nje({scrapeMotionValuesFromProps:t,createRenderState:r},n,a,i){return{latestValues:Cje(n,a,i,t),renderState:r()}}function Cje(t,r,n,a){const i={},o=a(t,{});for(const p in o)i[p]=lb(o[p]);let{initial:l,animate:c}=t;const u=Lw(t),f=yH(t);r&&f&&!u&&t.inherit!==!1&&(l===void 0&&(l=r.initial),c===void 0&&(c=r.animate));let A=n?n.initial===!1:!1;A=A||l===!1;const m=A?c:l;if(m&&typeof m!="boolean"&&!Ow(m)){const p=Array.isArray(m)?m:[m];for(let g=0;g<p.length;g++){const b=IE(t,p[g]);if(b){const{transitionEnd:v,transition:y,...j}=b;for(const C in j){let S=j[C];if(Array.isArray(S)){const E=A?S.length-1:0;S=S[E]}S!==null&&(i[C]=S)}for(const C in v)i[C]=v[C]}}}return i}const CH=t=>(r,n)=>{const a=w.useContext(Dw),i=w.useContext(Pw),o=()=>Nje(t,r,a,i);return n?o():kw(o)};function _E(t,r,n){const{style:a}=t,i={};for(const o in a)(Po(a[o])||r.style&&Po(r.style[o])||vH(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(i[o]=a[o]);return i}const Sje=CH({scrapeMotionValuesFromProps:_E,createRenderState:TE});function SH(t,r,n){const a=_E(t,r,n);for(const i in t)if(Po(t[i])||Po(r[i])){const o=Tg.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;a[o]=t[i]}return a}const Bje=CH({scrapeMotionValuesFromProps:SH,createRenderState:jH}),Eje=Symbol.for("motionComponentSymbol");function Lp(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Tje(t,r,n){return w.useCallback(a=>{a&&t.onMount&&t.onMount(a),r&&(a?r.mount(a):r.unmount()),n&&(typeof n=="function"?n(a):Lp(n)&&(n.current=a))},[r])}const kE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Fje="framerAppearId",BH="data-"+kE(Fje),EH=w.createContext({});function Ije(t,r,n,a,i){const{visualElement:o}=w.useContext(Dw),l=w.useContext(gH),c=w.useContext(Pw),u=w.useContext(CE).reducedMotion,f=w.useRef(null);a=a||l.renderer,!f.current&&a&&(f.current=a(t,{visualState:r,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const A=f.current,m=w.useContext(EH);A&&!A.projection&&i&&(A.type==="html"||A.type==="svg")&&_je(f.current,n,i,m);const p=w.useRef(!1);w.useInsertionEffect(()=>{A&&p.current&&A.update(n,c)});const g=n[BH],b=w.useRef(!!g&&!window.MotionHandoffIsComplete?.(g)&&window.MotionHasOptimisedAnimation?.(g));return nE(()=>{A&&(p.current=!0,window.MotionIsMounted=!0,A.updateFeatures(),A.scheduleRenderMicrotask(),b.current&&A.animationState&&A.animationState.animateChanges())}),w.useEffect(()=>{A&&(!b.current&&A.animationState&&A.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(g)}),b.current=!1),A.enteringChildren=void 0)}),A}function _je(t,r,n,a){const{layoutId:i,layout:o,drag:l,dragConstraints:c,layoutScroll:u,layoutRoot:f,layoutCrossfade:A}=r;t.projection=new n(t.latestValues,r["data-framer-portal-id"]?void 0:TH(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!l||c&&Lp(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:a,crossfade:A,layoutScroll:u,layoutRoot:f})}function TH(t){if(t)return t.options.allowProjection!==!1?t.projection:TH(t.parent)}function aC(t,{forwardMotionProps:r=!1}={},n,a){n&&aje(n);const i=FE(t)?Bje:Sje;function o(c,u){let f;const A={...w.useContext(CE),...c,layoutId:kje(c)},{isStatic:m}=A,p=uje(c),g=i(c,m);if(!m&&rE){Pje();const b=Dje(A);f=b.MeasureLayout,p.visualElement=Ije(t,g,A,a,b.ProjectionNode)}return s.jsxs(Dw.Provider,{value:p,children:[f&&p.visualElement?s.jsx(f,{visualElement:p.visualElement,...A}):null,jje(t,c,Tje(g,p.visualElement,u),g,m,r)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=w.forwardRef(o);return l[Eje]=t,l}function kje({layoutId:t}){const r=w.useContext(tE).id;return r&&t!==void 0?r+"-"+t:t}function Pje(t,r){w.useContext(gH).strict}function Dje(t){const{drag:r,layout:n}=og;if(!r&&!n)return{};const a={...r,...n};return{MeasureLayout:r?.isEnabled(t)||n?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function Oje(t,r){if(typeof Proxy>"u")return aC;const n=new Map,a=(o,l)=>aC(o,l,t,r),i=(o,l)=>a(o,l);return new Proxy(i,{get:(o,l)=>l==="create"?a:(n.has(l)||n.set(l,aC(l,void 0,t,r)),n.get(l))})}function FH({top:t,left:r,right:n,bottom:a}){return{x:{min:r,max:n},y:{min:t,max:a}}}function Lje({x:t,y:r}){return{top:r.min,right:t.max,bottom:r.max,left:t.min}}function Uje(t,r){if(!r)return t;const n=r({x:t.left,y:t.top}),a=r({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:a.y,right:a.x}}function iC(t){return t===void 0||t===1}function r5({scale:t,scaleX:r,scaleY:n}){return!iC(t)||!iC(r)||!iC(n)}function Gm(t){return r5(t)||IH(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function IH(t){return ND(t.x)||ND(t.y)}function ND(t){return t&&t!=="0%"}function C2(t,r,n){const a=t-n,i=r*a;return n+i}function CD(t,r,n,a,i){return i!==void 0&&(t=C2(t,i,a)),C2(t,n,a)+r}function n5(t,r=0,n=1,a,i){t.min=CD(t.min,r,n,a,i),t.max=CD(t.max,r,n,a,i)}function _H(t,{x:r,y:n}){n5(t.x,r.translate,r.scale,r.originPoint),n5(t.y,n.translate,n.scale,n.originPoint)}const SD=.999999999999,BD=1.0000000000001;function Mje(t,r,n,a=!1){const i=n.length;if(!i)return;r.x=r.y=1;let o,l;for(let c=0;c<i;c++){o=n[c],l=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(a&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Mp(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(r.x*=l.x.scale,r.y*=l.y.scale,_H(t,l)),a&&Gm(o.latestValues)&&Mp(t,o.latestValues))}r.x<BD&&r.x>SD&&(r.x=1),r.y<BD&&r.y>SD&&(r.y=1)}function Up(t,r){t.min=t.min+r,t.max=t.max+r}function ED(t,r,n,a,i=.5){const o=ya(t.min,t.max,i);n5(t,r,n,o,a)}function Mp(t,r){ED(t.x,r.x,r.scaleX,r.scale,r.originX),ED(t.y,r.y,r.scaleY,r.scale,r.originY)}function kH(t,r){return FH(Uje(t.getBoundingClientRect(),r))}function Rje(t,r,n){const a=kH(t,n),{scroll:i}=r;return i&&(Up(a.x,i.offset.x),Up(a.y,i.offset.y)),a}const TD=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rp=()=>({x:TD(),y:TD()}),FD=()=>({min:0,max:0}),Da=()=>({x:FD(),y:FD()}),s5={current:null},PH={current:!1};function Qje(){if(PH.current=!0,!!rE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),r=()=>s5.current=t.matches;t.addEventListener("change",r),r()}else s5.current=!1}const Hje=new WeakMap;function $je(t,r,n){for(const a in r){const i=r[a],o=n[a];if(Po(i))t.addValue(a,i);else if(Po(o))t.addValue(a,ig(i,{owner:t}));else if(o!==i)if(t.hasValue(a)){const l=t.getValue(a);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(a);t.addValue(a,ig(l!==void 0?l:i,{owner:t}))}}for(const a in n)r[a]===void 0&&t.removeValue(a);return r}const ID=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Kje{scrapeMotionValuesFromProps(r,n,a){return{}}constructor({parent:r,props:n,presenceContext:a,reducedMotionConfig:i,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Fl.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,la.render(this.render,!1,!0))};const{latestValues:u,renderState:f}=l;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=f,this.parent=r,this.props=n,this.presenceContext=a,this.depth=r?r.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=Lw(n),this.isVariantNode=yH(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(r&&r.current);const{willChange:A,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in m){const g=m[p];u[p]!==void 0&&Po(g)&&g.set(u[p])}}mount(r){this.current=r,Hje.set(r,this),this.projection&&!this.projection.instance&&this.projection.mount(r),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),PH.current||Qje(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:s5.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Zh(this.notifyUpdate),Zh(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(r){this.children.add(r),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(r)}removeChild(r){this.children.delete(r),this.enteringChildren&&this.enteringChildren.delete(r)}bindToMotionValue(r,n){this.valueSubscriptions.has(r)&&this.valueSubscriptions.get(r)();const a=Fg.has(r);a&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[r]=l,this.props.onUpdate&&la.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,r,n)),this.valueSubscriptions.set(r,()=>{i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(r){return!this.current||!this.sortInstanceNodePosition||this.type!==r.type?0:this.sortInstanceNodePosition(this.current,r.current)}updateFeatures(){let r="animation";for(r in og){const n=og[r];if(!n)continue;const{isEnabled:a,Feature:i}=n;if(!this.features[r]&&i&&a(this.props)&&(this.features[r]=new i(this)),this.features[r]){const o=this.features[r];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Da()}getStaticValue(r){return this.latestValues[r]}setStaticValue(r,n){this.latestValues[r]=n}update(r,n){(r.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=r,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let a=0;a<ID.length;a++){const i=ID[a];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,l=r[o];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=$je(this,this.scrapeMotionValuesFromProps(r,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(r){return this.props.variants?this.props.variants[r]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(r){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(r),()=>n.variantChildren.delete(r)}addValue(r,n){const a=this.values.get(r);n!==a&&(a&&this.removeValue(r),this.bindToMotionValue(r,n),this.values.set(r,n),this.latestValues[r]=n.get())}removeValue(r){this.values.delete(r);const n=this.valueSubscriptions.get(r);n&&(n(),this.valueSubscriptions.delete(r)),delete this.latestValues[r],this.removeValueFromRenderState(r,this.renderState)}hasValue(r){return this.values.has(r)}getValue(r,n){if(this.props.values&&this.props.values[r])return this.props.values[r];let a=this.values.get(r);return a===void 0&&n!==void 0&&(a=ig(n===null?void 0:n,{owner:this}),this.addValue(r,a)),a}readValue(r,n){let a=this.latestValues[r]!==void 0||!this.current?this.latestValues[r]:this.getBaseTargetFromProps(this.props,r)??this.readValueFromInstance(this.current,r,this.options);return a!=null&&(typeof a=="string"&&(C9(a)||B9(a))?a=parseFloat(a):!eje(a)&&em.test(n)&&(a=lH(r,n)),this.setBaseTarget(r,Po(a)?a.get():a)),Po(a)?a.get():a}setBaseTarget(r,n){this.baseTarget[r]=n}getBaseTarget(r){const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const o=IE(this.props,n,this.presenceContext?.custom);o&&(a=o[r])}if(n&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,r);return i!==void 0&&!Po(i)?i:this.initialValues[r]!==void 0&&a===void 0?void 0:this.baseTarget[r]}on(r,n){return this.events[r]||(this.events[r]=new lE),this.events[r].add(n)}notify(r,...n){this.events[r]&&this.events[r].notify(...n)}scheduleRenderMicrotask(){jE.render(this.render)}}class DH extends Kje{constructor(){super(...arguments),this.KeyframeResolver=Hwe}sortInstanceNodePosition(r,n){return r.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(r,n){return r.style?r.style[n]:void 0}removeValueFromRenderState(r,{vars:n,style:a}){delete n[r],delete a[r]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:r}=this.props;Po(r)&&(this.childSubscription=r.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function OH(t,{style:r,vars:n},a,i){const o=t.style;let l;for(l in r)o[l]=r[l];i?.applyProjectionStyles(o,a);for(l in n)o.setProperty(l,n[l])}function Vje(t){return window.getComputedStyle(t)}class zje extends DH{constructor(){super(...arguments),this.type="html",this.renderInstance=OH}readValueFromInstance(r,n){if(Fg.has(n))return this.projection?.isProjecting?qS(n):owe(r,n);{const a=Vje(r),i=(dE(n)?a.getPropertyValue(n):a[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(r,{transformPagePoint:n}){return kH(r,n)}build(r,n,a){EE(r,n,a.transformTemplate)}scrapeMotionValuesFromProps(r,n,a){return _E(r,n,a)}}const LH=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Gje(t,r,n,a){OH(t,r,void 0,a);for(const i in r.attrs)t.setAttribute(LH.has(i)?i:kE(i),r.attrs[i])}class Wje extends DH{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Da}getBaseTargetFromProps(r,n){return r[n]}readValueFromInstance(r,n){if(Fg.has(n)){const a=oH(n);return a&&a.default||0}return n=LH.has(n)?n:kE(n),r.getAttribute(n)}scrapeMotionValuesFromProps(r,n,a){return SH(r,n,a)}build(r,n,a){wH(r,n,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(r,n,a,i){Gje(r,n,a,i)}mount(r){this.isSVGTag=NH(r.tagName),super.mount(r)}}const qje=(t,r)=>FE(t)?new Wje(r):new zje(r,{allowProjection:t!==w.Fragment});function qp(t,r,n){const a=t.getProps();return IE(a,r,n!==void 0?n:a.custom,t)}const a5=t=>Array.isArray(t);function Yje(t,r,n){t.hasValue(r)?t.getValue(r).set(n):t.addValue(r,ig(n))}function Xje(t){return a5(t)?t[t.length-1]||0:t}function PE(t,r){const n=qp(t,r);let{transitionEnd:a={},transition:i={},...o}=n||{};o={...o,...a};for(const l in o){const c=Xje(o[l]);Yje(t,l,c)}}function Jje(t){return!!(Po(t)&&t.add)}function i5(t,r){const n=t.getValue("willChange");if(Jje(n))return n.add(r);if(!n&&Ef.WillChange){const a=new Ef.WillChange("auto");t.addValue("willChange",a),a.add(r)}}function UH(t){return t.props[BH]}const Zje=t=>t!==null;function e4e(t,{repeat:r,repeatType:n="loop"},a){const i=t.filter(Zje),o=r&&n!=="loop"&&r%2===1?0:i.length-1;return i[o]}const t4e={type:"spring",stiffness:500,damping:25,restSpeed:10},r4e=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),n4e={type:"keyframes",duration:.8},s4e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},a4e=(t,{keyframes:r})=>r.length>2?n4e:Fg.has(t)?t.startsWith("scale")?r4e(r[1]):t4e:s4e;function i4e({when:t,delay:r,delayChildren:n,staggerChildren:a,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:c,from:u,elapsed:f,...A}){return!!Object.keys(A).length}const DE=(t,r,n,a={},i,o)=>l=>{const c=bE(a,t)||{},u=c.delay||a.delay||0;let{elapsed:f=0}=a;f=f-sA(u);const A={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:r.getVelocity(),...c,delay:-f,onUpdate:p=>{r.set(p),c.onUpdate&&c.onUpdate(p)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:r,element:o?void 0:i};i4e(c)||Object.assign(A,a4e(t,A)),A.duration&&(A.duration=sA(A.duration)),A.repeatDelay&&(A.repeatDelay=sA(A.repeatDelay)),A.from!==void 0&&(A.keyframes[0]=A.from);let m=!1;if((A.type===!1||A.duration===0&&!A.repeatDelay)&&(e5(A),A.delay===0&&(m=!0)),(Ef.instantAnimations||Ef.skipAnimations)&&(m=!0,e5(A),A.delay=0),A.allowFlatten=!c.type&&!c.ease,m&&!o&&r.get()!==void 0){const p=e4e(A.keyframes,c);if(p!==void 0){la.update(()=>{A.onUpdate(p),A.onComplete()});return}}return c.isSync?new yE(A):new Fwe(A)};function o4e({protectedKeys:t,needsAnimating:r},n){const a=t.hasOwnProperty(n)&&r[n]!==!0;return r[n]=!1,a}function MH(t,r,{delay:n=0,transitionOverride:a,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=r;a&&(o=a);const u=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const A in c){const m=t.getValue(A,t.latestValues[A]??null),p=c[A];if(p===void 0||f&&o4e(f,A))continue;const g={delay:n,...bE(o||{},A)},b=m.get();if(b!==void 0&&!m.isAnimating&&!Array.isArray(p)&&p===b&&!g.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const j=UH(t);if(j){const C=window.MotionHandoffAnimation(j,A,la);C!==null&&(g.startTime=C,v=!0)}}i5(t,A),m.start(DE(A,m,p,t.shouldReduceMotion&&sH.has(A)?{type:!1}:g,t,v));const y=m.animation;y&&u.push(y)}return l&&Promise.all(u).then(()=>{la.update(()=>{l&&PE(t,l)})}),u}function RH(t,r,n,a=0,i=1){const o=Array.from(t).sort((f,A)=>f.sortNodePosition(A)).indexOf(r),l=t.size,c=(l-1)*a;return typeof n=="function"?n(o,l):i===1?o*a:c-o*a}function o5(t,r,n={}){const a=qp(t,r,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(i=n.transitionOverride);const o=a?()=>Promise.all(MH(t,a,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:A,staggerDirection:m}=i;return l4e(t,r,u,f,A,m,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,f]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>f())}else return Promise.all([o(),l(n.delay)])}function l4e(t,r,n=0,a=0,i=0,o=1,l){const c=[];for(const u of t.variantChildren)u.notify("AnimationStart",r),c.push(o5(u,r,{...l,delay:n+(typeof a=="function"?0:a)+RH(t.variantChildren,u,a,i,o)}).then(()=>u.notify("AnimationComplete",r)));return Promise.all(c)}function QH(t,r,n={}){t.notify("AnimationStart",r);let a;if(Array.isArray(r)){const i=r.map(o=>o5(t,o,n));a=Promise.all(i)}else if(typeof r=="string")a=o5(t,r,n);else{const i=typeof r=="function"?qp(t,r,n.custom):r;a=Promise.all(MH(t,i,n))}return a.then(()=>{t.notify("AnimationComplete",r)})}function HH(t,r){if(!Array.isArray(r))return!1;const n=r.length;if(n!==t.length)return!1;for(let a=0;a<n;a++)if(r[a]!==t[a])return!1;return!0}const c4e=BE.length;function $H(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?$H(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const r={};for(let n=0;n<c4e;n++){const a=BE[n],i=t.props[a];(Wy(i)||i===!1)&&(r[a]=i)}return r}const u4e=[...SE].reverse(),d4e=SE.length;function A4e(t){return r=>Promise.all(r.map(({animation:n,options:a})=>QH(t,n,a)))}function f4e(t){let r=A4e(t),n=_D(),a=!0;const i=u=>(f,A)=>{const m=qp(t,A,u==="exit"?t.presenceContext?.custom:void 0);if(m){const{transition:p,transitionEnd:g,...b}=m;f={...f,...b,...g}}return f};function o(u){r=u(t)}function l(u){const{props:f}=t,A=$H(t.parent)||{},m=[],p=new Set;let g={},b=1/0;for(let y=0;y<d4e;y++){const j=u4e[y],C=n[j],S=f[j]!==void 0?f[j]:A[j],E=Wy(S),D=j===u?C.isActive:null;D===!1&&(b=y);let k=S===A[j]&&S!==f[j]&&E;if(k&&a&&t.manuallyAnimateOnMount&&(k=!1),C.protectedKeys={...g},!C.isActive&&D===null||!S&&!C.prevProp||Ow(S)||typeof S=="boolean")continue;const L=h4e(C.prevProp,S);let I=L||j===u&&C.isActive&&!k&&E||y>b&&E,Y=!1;const Q=Array.isArray(S)?S:[S];let H=Q.reduce(i(j),{});D===!1&&(H={});const{prevResolvedValues:U={}}=C,K={...U,...H},X=de=>{I=!0,p.has(de)&&(Y=!0,p.delete(de)),C.needsAnimating[de]=!0;const Ne=t.getValue(de);Ne&&(Ne.liveStyle=!1)};for(const de in K){const Ne=H[de],Se=U[de];if(g.hasOwnProperty(de))continue;let ue=!1;a5(Ne)&&a5(Se)?ue=!HH(Ne,Se):ue=Ne!==Se,ue?Ne!=null?X(de):p.add(de):Ne!==void 0&&p.has(de)?X(de):C.protectedKeys[de]=!0}C.prevProp=S,C.prevResolvedValues=H,C.isActive&&(g={...g,...H}),a&&t.blockInitialAnimation&&(I=!1);const Z=k&&L;I&&(!Z||Y)&&m.push(...Q.map(de=>{const Ne={type:j};if(typeof de=="string"&&a&&!Z&&t.manuallyAnimateOnMount&&t.parent){const{parent:Se}=t,ue=qp(Se,de);if(Se.enteringChildren&&ue){const{delayChildren:xe}=ue.transition||{};Ne.delay=RH(Se.enteringChildren,t,xe)}}return{animation:de,options:Ne}}))}if(p.size){const y={};if(typeof f.initial!="boolean"){const j=qp(t,Array.isArray(f.initial)?f.initial[0]:f.initial);j&&j.transition&&(y.transition=j.transition)}p.forEach(j=>{const C=t.getBaseTarget(j),S=t.getValue(j);S&&(S.liveStyle=!0),y[j]=C??null}),m.push({animation:y})}let v=!!m.length;return a&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(v=!1),a=!1,v?r(m):Promise.resolve()}function c(u,f){if(n[u].isActive===f)return Promise.resolve();t.variantChildren?.forEach(m=>m.animationState?.setActive(u,f)),n[u].isActive=f;const A=l(u);for(const m in n)n[m].protectedKeys={};return A}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=_D(),a=!0}}}function h4e(t,r){return typeof r=="string"?r!==t:Array.isArray(r)?!HH(r,t):!1}function Qm(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _D(){return{animate:Qm(!0),whileInView:Qm(),whileHover:Qm(),whileTap:Qm(),whileDrag:Qm(),whileFocus:Qm(),exit:Qm()}}class im{constructor(r){this.isMounted=!1,this.node=r}update(){}}class m4e extends im{constructor(r){super(r),r.animationState||(r.animationState=f4e(r))}updateAnimationControlsSubscription(){const{animate:r}=this.node.getProps();Ow(r)&&(this.unmountControls=r.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:r}=this.node.getProps(),{animate:n}=this.node.prevProps||{};r!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let p4e=0;class g4e extends im{constructor(){super(...arguments),this.id=p4e++}update(){if(!this.node.presenceContext)return;const{isPresent:r,onExitComplete:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||r===a)return;const i=this.node.animationState.setActive("exit",!r);n&&!r&&i.then(()=>{n(this.id)})}mount(){const{register:r,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),r&&(this.unmount=r(this.id))}unmount(){}}const x4e={animation:{Feature:m4e},exit:{Feature:g4e}};function Yy(t,r,n,a={passive:!0}){return t.addEventListener(r,n,a),()=>t.removeEventListener(r,n)}function Ev(t){return{point:{x:t.pageX,y:t.pageY}}}const y4e=t=>r=>NE(r)&&t(r,Ev(r));function dy(t,r,n,a){return Yy(t,r,y4e(n),a)}const KH=1e-4,v4e=1-KH,b4e=1+KH,VH=.01,w4e=0-VH,j4e=0+VH;function il(t){return t.max-t.min}function N4e(t,r,n){return Math.abs(t-r)<=n}function kD(t,r,n,a=.5){t.origin=a,t.originPoint=ya(r.min,r.max,t.origin),t.scale=il(n)/il(r),t.translate=ya(n.min,n.max,t.origin)-t.originPoint,(t.scale>=v4e&&t.scale<=b4e||isNaN(t.scale))&&(t.scale=1),(t.translate>=w4e&&t.translate<=j4e||isNaN(t.translate))&&(t.translate=0)}function Ay(t,r,n,a){kD(t.x,r.x,n.x,a?a.originX:void 0),kD(t.y,r.y,n.y,a?a.originY:void 0)}function PD(t,r,n){t.min=n.min+r.min,t.max=t.min+il(r)}function C4e(t,r,n){PD(t.x,r.x,n.x),PD(t.y,r.y,n.y)}function DD(t,r,n){t.min=r.min-n.min,t.max=t.min+il(r)}function fy(t,r,n){DD(t.x,r.x,n.x),DD(t.y,r.y,n.y)}function eu(t){return[t("x"),t("y")]}const zH=({current:t})=>t?t.ownerDocument.defaultView:null,OD=(t,r)=>Math.abs(t-r);function S4e(t,r){const n=OD(t.x,r.x),a=OD(t.y,r.y);return Math.sqrt(n**2+a**2)}class GH{constructor(r,n,{transformPagePoint:a,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=lC(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,b=S4e(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!b)return;const{point:v}=p,{timestamp:y}=to;this.history.push({...v,timestamp:y});const{onStart:j,onMove:C}=this.handlers;g||(j&&j(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=oC(g,this.transformPagePoint),la.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:b,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=lC(p.type==="pointercancel"?this.lastMoveEventInfo:oC(g,this.transformPagePoint),this.history);this.startEvent&&b&&b(p,j),v&&v(p,j)},!NE(r))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=a,this.distanceThreshold=l,this.contextWindow=i||window;const c=Ev(r),u=oC(c,this.transformPagePoint),{point:f}=u,{timestamp:A}=to;this.history=[{...f,timestamp:A}];const{onSessionStart:m}=n;m&&m(r,lC(u,this.history)),this.removeListeners=Cv(dy(this.contextWindow,"pointermove",this.handlePointerMove),dy(this.contextWindow,"pointerup",this.handlePointerUp),dy(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(r){this.handlers=r}end(){this.removeListeners&&this.removeListeners(),Zh(this.updatePoint)}}function oC(t,r){return r?{point:r(t.point)}:t}function LD(t,r){return{x:t.x-r.x,y:t.y-r.y}}function lC({point:t},r){return{point:t,delta:LD(t,WH(r)),offset:LD(t,B4e(r)),velocity:E4e(r,.1)}}function B4e(t){return t[0]}function WH(t){return t[t.length-1]}function E4e(t,r){if(t.length<2)return{x:0,y:0};let n=t.length-1,a=null;const i=WH(t);for(;n>=0&&(a=t[n],!(i.timestamp-a.timestamp>sA(r)));)n--;if(!a)return{x:0,y:0};const o=aA(i.timestamp-a.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-a.x)/o,y:(i.y-a.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function T4e(t,{min:r,max:n},a){return r!==void 0&&t<r?t=a?ya(r,t,a.min):Math.max(t,r):n!==void 0&&t>n&&(t=a?ya(n,t,a.max):Math.min(t,n)),t}function UD(t,r,n){return{min:r!==void 0?t.min+r:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function F4e(t,{top:r,left:n,bottom:a,right:i}){return{x:UD(t.x,n,i),y:UD(t.y,r,a)}}function MD(t,r){let n=r.min-t.min,a=r.max-t.max;return r.max-r.min<t.max-t.min&&([n,a]=[a,n]),{min:n,max:a}}function I4e(t,r){return{x:MD(t.x,r.x),y:MD(t.y,r.y)}}function _4e(t,r){let n=.5;const a=il(t),i=il(r);return i>a?n=Vy(r.min,r.max-a,t.min):a>i&&(n=Vy(t.min,t.max-i,r.min)),Bf(0,1,n)}function k4e(t,r){const n={};return r.min!==void 0&&(n.min=r.min-t.min),r.max!==void 0&&(n.max=r.max-t.min),n}const l5=.35;function P4e(t=l5){return t===!1?t=0:t===!0&&(t=l5),{x:RD(t,"left","right"),y:RD(t,"top","bottom")}}function RD(t,r,n){return{min:QD(t,r),max:QD(t,n)}}function QD(t,r){return typeof t=="number"?t:t[r]||0}const D4e=new WeakMap;class O4e{constructor(r){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Da(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=r}start(r,{snapToCursor:n=!1,distanceThreshold:a}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ev(m).point)},l=(m,p)=>{const{drag:g,dragPropagation:b,onDragStart:v}=this.getProps();if(g&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zwe(g),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eu(j=>{let C=this.getAxisMotionValue(j).get()||0;if(iA.test(C)){const{projection:S}=this.visualElement;if(S&&S.layout){const E=S.layout.layoutBox[j];E&&(C=il(E)*(parseFloat(C)/100))}}this.originPoint[j]=C}),v&&la.postRender(()=>v(m,p)),i5(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},c=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p;const{dragPropagation:g,dragDirectionLock:b,onDirectionLock:v,onDrag:y}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:j}=p;if(b&&this.currentDirection===null){this.currentDirection=L4e(j),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",p.point,j),this.updateAxis("y",p.point,j),this.visualElement.render(),y&&y(m,p)},u=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p,this.stop(m,p),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>eu(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:A}=this.getProps();this.panSession=new GH(r,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:A,distanceThreshold:a,contextWindow:zH(this.visualElement)})}stop(r,n){const a=r||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!a)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&la.postRender(()=>c(a,i))}cancel(){this.isDragging=!1;const{projection:r,animationState:n}=this.visualElement;r&&(r.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(r,n,a){const{drag:i}=this.getProps();if(!a||!q1(r,i,this.currentDirection))return;const o=this.getAxisMotionValue(r);let l=this.originPoint[r]+a[r];this.constraints&&this.constraints[r]&&(l=T4e(l,this.constraints[r],this.elastic[r])),o.set(l)}resolveConstraints(){const{dragConstraints:r,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;r&&Lp(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=F4e(a.layoutBox,r):this.constraints=!1,this.elastic=P4e(n),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&eu(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=k4e(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:r,onMeasureDragConstraints:n}=this.getProps();if(!r||!Lp(r))return!1;const a=r.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Rje(a,i.root,this.visualElement.getTransformPagePoint());let l=I4e(i.layout.layoutBox,o);if(n){const c=n(Lje(l));this.hasMutatedConstraints=!!c,c&&(l=FH(c))}return l}startAnimation(r){const{drag:n,dragMomentum:a,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},f=eu(A=>{if(!q1(A,n,this.currentDirection))return;let m=u&&u[A]||{};l&&(m={min:0,max:0});const p=i?200:1e6,g=i?40:1e7,b={type:"inertia",velocity:a?r[A]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(A,b)});return Promise.all(f).then(c)}startAxisValueAnimation(r,n){const a=this.getAxisMotionValue(r);return i5(this.visualElement,r),a.start(DE(r,a,0,n,this.visualElement,!1))}stopAnimation(){eu(r=>this.getAxisMotionValue(r).stop())}pauseAnimation(){eu(r=>this.getAxisMotionValue(r).animation?.pause())}getAnimationState(r){return this.getAxisMotionValue(r).animation?.state}getAxisMotionValue(r){const n=`_drag${r.toUpperCase()}`,a=this.visualElement.getProps(),i=a[n];return i||this.visualElement.getValue(r,(a.initial?a.initial[r]:void 0)||0)}snapToCursor(r){eu(n=>{const{drag:a}=this.getProps();if(!q1(n,a,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n];o.set(r[n]-ya(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:r,dragConstraints:n}=this.getProps(),{projection:a}=this.visualElement;if(!Lp(n)||!a||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};eu(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const u=c.get();i[l]=_4e({min:u,max:u},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),eu(l=>{if(!q1(l,r,null))return;const c=this.getAxisMotionValue(l),{min:u,max:f}=this.constraints[l];c.set(ya(u,f,i[l]))})}addListeners(){if(!this.visualElement.current)return;D4e.set(this.visualElement,this);const r=this.visualElement.current,n=dy(r,"pointerdown",u=>{const{drag:f,dragListener:A=!0}=this.getProps();f&&A&&this.start(u)}),a=()=>{const{dragConstraints:u}=this.getProps();Lp(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",a);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),la.read(a);const l=Yy(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(eu(A=>{const m=this.getAxisMotionValue(A);m&&(this.originPoint[A]+=u[A].translate,m.set(m.get()+u[A].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),c&&c()}}getProps(){const r=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:a=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=l5,dragMomentum:c=!0}=r;return{...r,drag:n,dragDirectionLock:a,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function q1(t,r,n){return(r===!0||r===t)&&(n===null||n===t)}function L4e(t,r=10){let n=null;return Math.abs(t.y)>r?n="y":Math.abs(t.x)>r&&(n="x"),n}class U4e extends im{constructor(r){super(r),this.removeGroupControls=su,this.removeListeners=su,this.controls=new O4e(r)}mount(){const{dragControls:r}=this.node.getProps();r&&(this.removeGroupControls=r.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||su}unmount(){this.removeGroupControls(),this.removeListeners()}}const HD=t=>(r,n)=>{t&&la.postRender(()=>t(r,n))};class M4e extends im{constructor(){super(...arguments),this.removePointerDownListener=su}onPointerDown(r){this.session=new GH(r,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zH(this.node)})}createPanHandlers(){const{onPanSessionStart:r,onPanStart:n,onPan:a,onPanEnd:i}=this.node.getProps();return{onSessionStart:HD(r),onStart:HD(n),onMove:a,onEnd:(o,l)=>{delete this.session,i&&la.postRender(()=>i(o,l))}}}mount(){this.removePointerDownListener=dy(this.node.current,"pointerdown",r=>this.onPointerDown(r))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const cb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $D(t,r){return r.max===r.min?0:t/(r.max-r.min)*100}const Ox={correct:(t,r)=>{if(!r.target)return t;if(typeof t=="string")if(Yr.test(t))t=parseFloat(t);else return t;const n=$D(t,r.target.x),a=$D(t,r.target.y);return`${n}% ${a}%`}},R4e={correct:(t,{treeScale:r,projectionDelta:n})=>{const a=t,i=em.parse(t);if(i.length>5)return a;const o=em.createTransformer(t),l=typeof i[0]!="number"?1:0,c=n.x.scale*r.x,u=n.y.scale*r.y;i[0+l]/=c,i[1+l]/=u;const f=ya(c,u,.5);return typeof i[2+l]=="number"&&(i[2+l]/=f),typeof i[3+l]=="number"&&(i[3+l]/=f),o(i)}};let cC=!1;class Q4e extends w.Component{componentDidMount(){const{visualElement:r,layoutGroup:n,switchLayoutGroup:a,layoutId:i}=this.props,{projection:o}=r;dje(H4e),o&&(n.group&&n.group.add(o),a&&a.register&&i&&a.register(o),cC&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),cb.hasEverUpdated=!0}getSnapshotBeforeUpdate(r){const{layoutDependency:n,visualElement:a,drag:i,isPresent:o}=this.props,{projection:l}=a;return l&&(l.isPresent=o,cC=!0,i||r.layoutDependency!==n||n===void 0||r.isPresent!==o?l.willUpdate():this.safeToRemove(),r.isPresent!==o&&(o?l.promote():l.relegate()||la.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:r}=this.props.visualElement;r&&(r.root.didUpdate(),jE.postRender(()=>{!r.currentAnimation&&r.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:r,layoutGroup:n,switchLayoutGroup:a}=this.props,{projection:i}=r;cC=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),a&&a.deregister&&a.deregister(i))}safeToRemove(){const{safeToRemove:r}=this.props;r&&r()}render(){return null}}function qH(t){const[r,n]=mH(),a=w.useContext(tE);return s.jsx(Q4e,{...t,layoutGroup:a,switchLayoutGroup:w.useContext(EH),isPresent:r,safeToRemove:n})}const H4e={borderRadius:{...Ox,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ox,borderTopRightRadius:Ox,borderBottomLeftRadius:Ox,borderBottomRightRadius:Ox,boxShadow:R4e};function $4e(t,r,n){const a=Po(t)?t:ig(t);return a.start(DE("",a,r,n)),a.animation}const K4e=(t,r)=>t.depth-r.depth;class V4e{constructor(){this.children=[],this.isDirty=!1}add(r){sE(this.children,r),this.isDirty=!0}remove(r){aE(this.children,r),this.isDirty=!0}forEach(r){this.isDirty&&this.children.sort(K4e),this.isDirty=!1,this.children.forEach(r)}}function z4e(t,r){const n=Fl.now(),a=({timestamp:i})=>{const o=i-n;o>=r&&(Zh(a),t(o-r))};return la.setup(a,!0),()=>Zh(a)}const YH=["TopLeft","TopRight","BottomLeft","BottomRight"],G4e=YH.length,KD=t=>typeof t=="string"?parseFloat(t):t,VD=t=>typeof t=="number"||Yr.test(t);function W4e(t,r,n,a,i,o){i?(t.opacity=ya(0,n.opacity??1,q4e(a)),t.opacityExit=ya(r.opacity??1,0,Y4e(a))):o&&(t.opacity=ya(r.opacity??1,n.opacity??1,a));for(let l=0;l<G4e;l++){const c=`border${YH[l]}Radius`;let u=zD(r,c),f=zD(n,c);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||VD(u)===VD(f)?(t[c]=Math.max(ya(KD(u),KD(f),a),0),(iA.test(f)||iA.test(u))&&(t[c]+="%")):t[c]=f}(r.rotate||n.rotate)&&(t.rotate=ya(r.rotate||0,n.rotate||0,a))}function zD(t,r){return t[r]!==void 0?t[r]:t.borderRadius}const q4e=XH(0,.5,D9),Y4e=XH(.5,.95,su);function XH(t,r,n){return a=>a<t?0:a>r?1:n(Vy(t,r,a))}function GD(t,r){t.min=r.min,t.max=r.max}function Xc(t,r){GD(t.x,r.x),GD(t.y,r.y)}function WD(t,r){t.translate=r.translate,t.scale=r.scale,t.originPoint=r.originPoint,t.origin=r.origin}function qD(t,r,n,a,i){return t-=r,t=C2(t,1/n,a),i!==void 0&&(t=C2(t,1/i,a)),t}function X4e(t,r=0,n=1,a=.5,i,o=t,l=t){if(iA.test(r)&&(r=parseFloat(r),r=ya(l.min,l.max,r/100)-l.min),typeof r!="number")return;let c=ya(o.min,o.max,a);t===o&&(c-=r),t.min=qD(t.min,r,n,c,i),t.max=qD(t.max,r,n,c,i)}function YD(t,r,[n,a,i],o,l){X4e(t,r[n],r[a],r[i],r.scale,o,l)}const J4e=["x","scaleX","originX"],Z4e=["y","scaleY","originY"];function XD(t,r,n,a){YD(t.x,r,J4e,n?n.x:void 0,a?a.x:void 0),YD(t.y,r,Z4e,n?n.y:void 0,a?a.y:void 0)}function JD(t){return t.translate===0&&t.scale===1}function JH(t){return JD(t.x)&&JD(t.y)}function ZD(t,r){return t.min===r.min&&t.max===r.max}function eNe(t,r){return ZD(t.x,r.x)&&ZD(t.y,r.y)}function eO(t,r){return Math.round(t.min)===Math.round(r.min)&&Math.round(t.max)===Math.round(r.max)}function ZH(t,r){return eO(t.x,r.x)&&eO(t.y,r.y)}function tO(t){return il(t.x)/il(t.y)}function rO(t,r){return t.translate===r.translate&&t.scale===r.scale&&t.originPoint===r.originPoint}class tNe{constructor(){this.members=[]}add(r){sE(this.members,r),r.scheduleRender()}remove(r){if(aE(this.members,r),r===this.prevLead&&(this.prevLead=void 0),r===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(r){const n=this.members.findIndex(i=>r===i);if(n===0)return!1;let a;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){a=o;break}}return a?(this.promote(a),!0):!1}promote(r,n){const a=this.lead;if(r!==a&&(this.prevLead=a,this.lead=r,r.show(),a)){a.instance&&a.scheduleRender(),r.scheduleRender(),r.resumeFrom=a,n&&(r.resumeFrom.preserveOpacity=!0),a.snapshot&&(r.snapshot=a.snapshot,r.snapshot.latestValues=a.animationValues||a.latestValues),r.root&&r.root.isUpdating&&(r.isLayoutDirty=!0);const{crossfade:i}=r.options;i===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(r=>{const{options:n,resumingFrom:a}=r;n.onExitComplete&&n.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(r=>{r.instance&&r.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rNe(t,r,n){let a="";const i=t.x.translate/r.x,o=t.y.translate/r.y,l=n?.z||0;if((i||o||l)&&(a=`translate3d(${i}px, ${o}px, ${l}px) `),(r.x!==1||r.y!==1)&&(a+=`scale(${1/r.x}, ${1/r.y}) `),n){const{transformPerspective:f,rotate:A,rotateX:m,rotateY:p,skewX:g,skewY:b}=n;f&&(a=`perspective(${f}px) ${a}`),A&&(a+=`rotate(${A}deg) `),m&&(a+=`rotateX(${m}deg) `),p&&(a+=`rotateY(${p}deg) `),g&&(a+=`skewX(${g}deg) `),b&&(a+=`skewY(${b}deg) `)}const c=t.x.scale*r.x,u=t.y.scale*r.y;return(c!==1||u!==1)&&(a+=`scale(${c}, ${u})`),a||"none"}const uC=["","X","Y","Z"],nNe=1e3;let sNe=0;function dC(t,r,n,a){const{latestValues:i}=r;i[t]&&(n[t]=i[t],r.setStaticValue(t,0),a&&(a[t]=0))}function e$(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:r}=t.options;if(!r)return;const n=UH(r);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",la,!(i||o))}const{parent:a}=t;a&&!a.hasCheckedOptimisedAppear&&e$(a)}function t$({attachResizeListener:t,defaultParent:r,measureScroll:n,checkIsScrollRoot:a,resetTransform:i}){return class{constructor(l={},c=r?.()){this.id=sNe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(oNe),this.nodes.forEach(dNe),this.nodes.forEach(ANe),this.nodes.forEach(lNe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new V4e)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new lE),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const u=this.eventHandlers.get(l);u&&u.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=hH(l)&&!Jwe(l),this.instance=l;const{layoutId:c,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),t){let A,m=0;const p=()=>this.root.updateBlockedByResize=!1;la.read(()=>{m=window.innerWidth}),t(l,()=>{const g=window.innerWidth;g!==m&&(m=g,this.root.updateBlockedByResize=!0,A&&A(),A=z4e(p,250),cb.hasAnimatedSinceResize&&(cb.hasAnimatedSinceResize=!1,this.nodes.forEach(aO)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||u)&&this.addEventListener("didUpdate",({delta:A,hasLayoutChanged:m,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||gNe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:y}=f.getProps(),j=!this.targetLayout||!ZH(this.targetLayout,g),C=!m&&p;if(this.options.layoutRoot||this.resumeFrom||C||m&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...bE(b,"layout"),onPlay:v,onComplete:y};(f.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(A,C)}else m||aO(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Zh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fNe),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&e$(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let A=0;A<this.path.length;A++){const m=this.path[A];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nO);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(sO);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(uNe),this.nodes.forEach(aNe),this.nodes.forEach(iNe)):this.nodes.forEach(sO),this.clearAllSnapshots();const c=Fl.now();to.delta=Bf(0,1e3/60,c-to.timestamp),to.timestamp=c,to.isProcessing=!0,ZN.update.process(to),ZN.preRender.process(to),ZN.render.process(to),to.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(cNe),this.sharedNodes.forEach(hNe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,la.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){la.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!il(this.snapshot.measuredBox.x)&&!il(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Da(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const u=a(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!JH(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,A=f!==this.prevTransformTemplateValue;l&&this.instance&&(c||Gm(this.latestValues)||A)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return l&&(u=this.removeTransform(u)),xNe(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Da();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(yNe))){const{scroll:f}=this.root;f&&(Up(c.x,f.offset.x),Up(c.y,f.offset.y))}return c}removeElementScroll(l){const c=Da();if(Xc(c,l),this.scroll?.wasRoot)return c;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:A,options:m}=f;f!==this.root&&A&&m.layoutScroll&&(A.wasRoot&&Xc(c,l),Up(c.x,A.offset.x),Up(c.y,A.offset.y))}return c}applyTransform(l,c=!1){const u=Da();Xc(u,l);for(let f=0;f<this.path.length;f++){const A=this.path[f];!c&&A.options.layoutScroll&&A.scroll&&A!==A.root&&Mp(u,{x:-A.scroll.offset.x,y:-A.scroll.offset.y}),Gm(A.latestValues)&&Mp(u,A.latestValues)}return Gm(this.latestValues)&&Mp(u,this.latestValues),u}removeTransform(l){const c=Da();Xc(c,l);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!Gm(f.latestValues))continue;r5(f.latestValues)&&f.updateSnapshot();const A=Da(),m=f.measurePageBox();Xc(A,m),XD(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,A)}return Gm(this.latestValues)&&XD(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==to.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(l||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:A,layoutId:m}=this.options;if(!(!this.layout||!(A||m))){if(this.resolvedRelativeTargetAt=to.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Da(),this.relativeTargetOrigin=Da(),fy(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Xc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Da(),this.targetWithTransforms=Da()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),C4e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xc(this.target,this.layout.layoutBox),_H(this.target,this.targetDelta)):Xc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Da(),this.relativeTargetOrigin=Da(),fy(this.relativeTargetOrigin,this.target,p.target),Xc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||r5(this.parent.latestValues)||IH(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===to.timestamp&&(u=!1),u)return;const{layout:f,layoutId:A}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||A))return;Xc(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;Mje(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Da());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(WD(this.prevProjectionDelta.x,this.projectionDelta.x),WD(this.prevProjectionDelta.y,this.projectionDelta.y)),Ay(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!rO(this.projectionDelta.x,this.prevProjectionDelta.x)||!rO(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Rp(),this.projectionDelta=Rp(),this.projectionDeltaWithTransform=Rp()}setAnimationOrigin(l,c=!1){const u=this.snapshot,f=u?u.latestValues:{},A={...this.latestValues},m=Rp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const p=Da(),g=u?u.source:void 0,b=this.layout?this.layout.source:void 0,v=g!==b,y=this.getStack(),j=!y||y.members.length<=1,C=!!(v&&!j&&this.options.crossfade===!0&&!this.path.some(pNe));this.animationProgress=0;let S;this.mixTargetDelta=E=>{const D=E/1e3;iO(m.x,l.x,D),iO(m.y,l.y,D),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fy(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mNe(this.relativeTarget,this.relativeTargetOrigin,p,D),S&&eNe(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Da()),Xc(S,this.relativeTarget)),v&&(this.animationValues=A,W4e(A,f,this.latestValues,D,C,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Zh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=la.update(()=>{cb.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ig(0)),this.currentAnimation=$4e(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nNe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:u,layout:f,latestValues:A}=l;if(!(!c||!u||!f)){if(this!==l&&this.layout&&f&&r$(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||Da();const m=il(this.layout.layoutBox.x);u.x.min=l.target.x.min,u.x.max=u.x.min+m;const p=il(this.layout.layoutBox.y);u.y.min=l.target.y.min,u.y.max=u.y.min+p}Xc(c,u),Mp(c,A),Ay(this.projectionDeltaWithTransform,this.layoutCorrected,c,A)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new tNe),this.sharedNodes.get(l).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:u}=l;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const f={};u.z&&dC("z",l,f,this.animationValues);for(let A=0;A<uC.length;A++)dC(`rotate${uC[A]}`,l,f,this.animationValues),dC(`skew${uC[A]}`,l,f,this.animationValues);l.render();for(const A in f)l.setStaticValue(A,f[A]),this.animationValues&&(this.animationValues[A]=f[A]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=lb(c?.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=lb(c?.pointerEvents)||""),this.hasProjected&&!Gm(this.latestValues)&&(l.transform=u?u({},""):"none",this.hasProjected=!1);return}l.visibility="";const A=f.animationValues||f.latestValues;this.applyTransformsToTarget();let m=rNe(this.projectionDeltaWithTransform,this.treeScale,A);u&&(m=u(A,m)),l.transform=m;const{x:p,y:g}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,f.animationValues?l.opacity=f===this?A.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:A.opacityExit:l.opacity=f===this?A.opacity!==void 0?A.opacity:"":A.opacityExit!==void 0?A.opacityExit:0;for(const b in qy){if(A[b]===void 0)continue;const{correct:v,applyTo:y,isCSSVariable:j}=qy[b],C=m==="none"?A[b]:v(A[b],f);if(y){const S=y.length;for(let E=0;E<S;E++)l[y[E]]=C}else j?this.options.visualElement.renderState.vars[b]=C:l[b]=C}this.options.layoutId&&(l.pointerEvents=f===this?lb(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(nO),this.root.sharedNodes.clear()}}}function aNe(t){t.updateLayout()}function iNe(t){const r=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=t.layout,{animationType:i}=t.options,o=r.source!==t.layout.source;i==="size"?eu(A=>{const m=o?r.measuredBox[A]:r.layoutBox[A],p=il(m);m.min=n[A].min,m.max=m.min+p}):r$(i,r.layoutBox,n)&&eu(A=>{const m=o?r.measuredBox[A]:r.layoutBox[A],p=il(n[A]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[A].max=t.relativeTarget[A].min+p)});const l=Rp();Ay(l,n,r.layoutBox);const c=Rp();o?Ay(c,t.applyTransform(a,!0),r.measuredBox):Ay(c,n,r.layoutBox);const u=!JH(l);let f=!1;if(!t.resumeFrom){const A=t.getClosestProjectingParent();if(A&&!A.resumeFrom){const{snapshot:m,layout:p}=A;if(m&&p){const g=Da();fy(g,r.layoutBox,m.layoutBox);const b=Da();fy(b,n,p.layoutBox),ZH(g,b)||(f=!0),A.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=g,t.relativeParent=A)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function oNe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function lNe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function cNe(t){t.clearSnapshot()}function nO(t){t.clearMeasurements()}function sO(t){t.isLayoutDirty=!1}function uNe(t){const{visualElement:r}=t.options;r&&r.getProps().onBeforeLayoutMeasure&&r.notify("BeforeLayoutMeasure"),t.resetTransform()}function aO(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function dNe(t){t.resolveTargetDelta()}function ANe(t){t.calcProjection()}function fNe(t){t.resetSkewAndRotation()}function hNe(t){t.removeLeadSnapshot()}function iO(t,r,n){t.translate=ya(r.translate,0,n),t.scale=ya(r.scale,1,n),t.origin=r.origin,t.originPoint=r.originPoint}function oO(t,r,n,a){t.min=ya(r.min,n.min,a),t.max=ya(r.max,n.max,a)}function mNe(t,r,n,a){oO(t.x,r.x,n.x,a),oO(t.y,r.y,n.y,a)}function pNe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const gNe={duration:.45,ease:[.4,0,.1,1]},lO=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),cO=lO("applewebkit/")&&!lO("chrome/")?Math.round:su;function uO(t){t.min=cO(t.min),t.max=cO(t.max)}function xNe(t){uO(t.x),uO(t.y)}function r$(t,r,n){return t==="position"||t==="preserve-aspect"&&!N4e(tO(r),tO(n),.2)}function yNe(t){return t!==t.root&&t.scroll?.wasRoot}const vNe=t$({attachResizeListener:(t,r)=>Yy(t,"resize",r),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),AC={current:void 0},n$=t$({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!AC.current){const t=new vNe({});t.mount(window),t.setOptions({layoutScroll:!0}),AC.current=t}return AC.current},resetTransform:(t,r)=>{t.style.transform=r!==void 0?r:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),bNe={pan:{Feature:M4e},drag:{Feature:U4e,ProjectionNode:n$,MeasureLayout:qH}};function dO(t,r,n){const{props:a}=t;t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=a[i];o&&la.postRender(()=>o(r,Ev(r)))}class wNe extends im{mount(){const{current:r}=this.node;r&&(this.unmount=Gwe(r,(n,a)=>(dO(this.node,a,"Start"),i=>dO(this.node,i,"End"))))}unmount(){}}class jNe extends im{constructor(){super(...arguments),this.isActive=!1}onFocus(){let r=!1;try{r=this.node.current.matches(":focus-visible")}catch{r=!0}!r||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cv(Yy(this.node.current,"focus",()=>this.onFocus()),Yy(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function AO(t,r,n){const{props:a}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&a.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=a[i];o&&la.postRender(()=>o(r,Ev(r)))}class NNe extends im{mount(){const{current:r}=this.node;r&&(this.unmount=Xwe(r,(n,a)=>(AO(this.node,a,"Start"),(i,{success:o})=>AO(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const c5=new WeakMap,fC=new WeakMap,CNe=t=>{const r=c5.get(t.target);r&&r(t)},SNe=t=>{t.forEach(CNe)};function BNe({root:t,...r}){const n=t||document;fC.has(n)||fC.set(n,{});const a=fC.get(n),i=JSON.stringify(r);return a[i]||(a[i]=new IntersectionObserver(SNe,{root:t,...r})),a[i]}function ENe(t,r,n){const a=BNe(r);return c5.set(t,n),a.observe(t),()=>{c5.delete(t),a.unobserve(t)}}const TNe={some:0,all:1};class FNe extends im{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:r={}}=this.node.getProps(),{root:n,margin:a,amount:i="some",once:o}=r,l={root:n?n.current:void 0,rootMargin:a,threshold:typeof i=="number"?i:TNe[i]},c=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:A,onViewportLeave:m}=this.node.getProps(),p=f?A:m;p&&p(u)};return ENe(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:r,prevProps:n}=this.node;["amount","margin","root"].some(INe(r,n))&&this.startObserver()}unmount(){}}function INe({viewport:t={}},{viewport:r={}}={}){return n=>t[n]!==r[n]}const _Ne={inView:{Feature:FNe},tap:{Feature:NNe},focus:{Feature:jNe},hover:{Feature:wNe}},kNe={layout:{ProjectionNode:n$,MeasureLayout:qH}},PNe={...x4e,..._Ne,...bNe,...kNe},ws=Oje(PNe,qje);function DNe(t){t.values.forEach(r=>r.stop())}function u5(t,r){[...r].reverse().forEach(a=>{const i=t.getVariant(a);i&&PE(t,i),t.variantChildren&&t.variantChildren.forEach(o=>{u5(o,r)})})}function ONe(t,r){if(Array.isArray(r))return u5(t,r);if(typeof r=="string")return u5(t,[r]);PE(t,r)}function LNe(){const t=new Set,r={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,a){const i=[];return t.forEach(o=>{i.push(QH(o,n,{transitionOverride:a}))}),Promise.all(i)},set(n){return t.forEach(a=>{ONe(a,n)})},stop(){t.forEach(n=>{DNe(n)})},mount(){return()=>{r.stop()}}};return r}function UNe(){const t=kw(LNe);return nE(t.mount,[]),t}const MNe=UNe,RNe="/assets/Capture-CUW6gBsa.PNG",QNe="/assets/Capture1-CNapKAea.PNG",HNe="/assets/school1-CD8wMhyW.jpg",$Ne="/assets/school2-CophQY_4.jpg",KNe="/assets/school3-CNkxgSjB.jpg",s$=()=>{const[t,r]=w.useState(!1),[n,a]=w.useState(!1),i=AA();w.useEffect(()=>{const l=()=>{r(window.scrollY>20)};return window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)},[]),w.useEffect(()=>{n&&a(!1)},[i]);const o=l=>{i(l)};return s.jsxs(s.Fragment,{children:[s.jsx("style",{children:`
        .glass-effect {
          backdrop-filter: blur(20px);
          background: rgba(255, 255, 255, 0.95);
          border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        .btn-style {
          padding: 0.75rem 1.5rem;
          border-radius: 9999px; /* Fully rounded pill shape */
          font-weight: 600;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          border: none;
          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .btn-orange {
          background-color: #F3590C;
          color: white;
        }
        .btn-orange:hover {
          background-color: #d94e0a;
          transform: translateY(-2px);
          box-shadow: 0 6px 10px -2px rgba(0, 0, 0, 0.15);
        }

        .btn-dark {
          background-color: #15024E;
          color: white;
        }
        .btn-dark:hover {
          background-color: #0f0137;
          transform: translateY(-2px);
          box-shadow: 0 6px 10px -2px rgba(0, 0, 0, 0.15);
        }

        /* Mobile menu styles */
        .mobile-menu {
          background: rgba(255, 255, 255, 0.98);
          backdrop-filter: blur(20px);
          border-top: 1px solid rgba(0,0,0,0.05);
        }

        /* Hamburger menu icon */
        .hamburger {
          width: 24px;
          height: 20px;
          position: relative;
          cursor: pointer;
        }

        .hamburger-line {
          position: absolute;
          height: 2px;
          width: 100%;
          background: #15024E;
          border-radius: 2px;
          transition: all 0.3s ease;
        }

        .hamburger-line:nth-child(1) {
          top: 0;
        }

        .hamburger-line:nth-child(2) {
          top: 50%;
          transform: translateY(-50%);
        }

        .hamburger-line:nth-child(3) {
          bottom: 0;
        }

        .hamburger.open .hamburger-line:nth-child(1) {
          transform: rotate(45deg) translate(6px, 6px);
        }

        .hamburger.open .hamburger-line:nth-child(2) {
          opacity: 0;
        }

        .hamburger.open .hamburger-line:nth-child(3) {
          transform: rotate(-45deg) translate(6px, -6px);
        }
      `}),s.jsxs(ws.nav,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeOut"},className:`sticky  top-0 w-full z-50 transition-all duration-500 ${t?"glass-effect shadow-lg":"bg-white/95 shadow-md"}`,children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[s.jsx(ws.div,{className:"flex items-center h-full cursor-pointer",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i("/"),children:s.jsx("img",{src:l8,alt:"Vidyaastra Logo",className:"h-16 w-auto"})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ws.button,{type:"button",className:"btn-style btn-orange hidden sm:block",onClick:()=>o("/login"),whileTap:{scale:.95},children:"Admin Portal"}),s.jsx(ws.button,{type:"button",className:"btn-style btn-dark hidden sm:block",onClick:()=>o("/superadmin-login"),whileTap:{scale:.95},children:"Super Admin"})]}),s.jsx("div",{className:"sm:hidden",children:s.jsxs("div",{className:`hamburger ${n?"open":""}`,onClick:()=>a(!n),children:[s.jsx("div",{className:"hamburger-line"}),s.jsx("div",{className:"hamburger-line"}),s.jsx("div",{className:"hamburger-line"})]})})]})}),s.jsx(pH,{children:n&&s.jsx(ws.div,{className:"sm:hidden mobile-menu",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:s.jsx("div",{className:"px-4 py-6 space-y-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(ws.button,{type:"button",className:"btn-style btn-orange w-full",onClick:()=>o("/login"),whileTap:{scale:.95},children:"Admin Portal"}),s.jsx(ws.button,{type:"button",className:"btn-style btn-dark w-full",onClick:()=>o("/superadmin-login"),whileTap:{scale:.95},children:"Super Admin"})]})})})})]})]})},VNe=()=>{AA();const t=[RNe,QNe],[r,n]=w.useState(0);return w.useEffect(()=>{const a=setInterval(()=>{n(i=>(i+1)%t.length)},3e3);return()=>clearInterval(a)},[t.length]),s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 overflow-x-hidden",children:[s.jsx("style",{children:`
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slideInLeft {
          from { opacity: 0; transform: translateX(-30px); }
          to { opacity: 1; transform: translateX(0); }
        }
        @keyframes slideInRight {
          from { opacity: 0; transform: translateX(30px); }
          to { opacity: 1; transform: translateX(0); }
        }
        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-8px); }
        }
        @keyframes pulse-glow {
          0% { box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); }
          50% { box-shadow: 0 8px 24px rgba(147, 51, 234, 0.2); }
          100% { box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); }
        }
        .animate-fadeInUp { animation: fadeInUp 0.8s ease-out forwards; }
        .animate-slideInLeft { animation: slideInLeft 0.8s ease-out forwards; }
        .animate-slideInRight { animation: slideInRight 0.8s ease-out forwards; }
        .animate-float { animation: float 4s ease-in-out infinite; }
        .hover-glow:hover { animation: pulse-glow 2s infinite; }
        .card-hover {
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .card-hover:hover {
          transform: translateY(-4px);
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
        }
        .mobile-device {
          max-width: 300px; /* Increased for mobile visibility */

          
          height: 400px; /* Increased height for better proportion */
          background: linear-gradient(145deg, #2d3748, #1a202c);
          border-radius: 24px;
          padding: 6px;
          box-shadow: 0 12px 32px rgba(0, 0, 0, 0.25);
          position: relative;
        }
        @media (min-width: 768px) {
          .mobile-device {
            max-width: 140px; /* Original size for desktop */
            width: 35vw;
            min-width: 100px;
            height: 280px;
          }
        }
        .mobile-device::before {
          content: '';
          position: absolute;
          top: 12px;
          left: 50%;
          transform: translateX(-50%);
          width: 40px;
          height: 3px;
          background: #4a5568;
          border-radius: 2px;
        }
        .device-screen {
          width: 100%;
          height: 100%;
          border-radius: 20px;
          overflow: hidden;
          background: white;
        }
        .screen-image {
          width: 100%;
          height: 100%;
          object-fit: cover;
          border-radius: 20px;
        }
      `}),s.jsx(s$,{}),s.jsx("section",{className:"pt-10 pb-12 px-4",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-4 items-center",children:[s.jsxs("div",{className:"space-y-4 order-1",children:[s.jsxs("h1",{className:"text-4xl lg:text-5xl text-[#1C1444] font-bold text-gray-900 animate-fadeInUp",children:["You're ",s.jsx("span",{className:"text-4xl lg:text-5xl font-bold text- animate-fadeInUp",children:"Looking for?"})]}),s.jsx("h2",{className:"text-2xl lg:text-3xl font-bold text-pink-500 animate-fadeInUp",style:{animationDelay:"0.2s"},children:"School Management System"}),s.jsxs("div",{className:"space-y-3 text-gray-600 text-base lg:text-lg animate-fadeInUp",style:{animationDelay:"0.4s"},children:[s.jsx("p",{children:"Vidyaastra is your all-in-one platform designed to make school administration simple, fast, and efficient."}),s.jsx("p",{children:"Whether you are a school owner, administrator, or teacher, our system helps you save time and focus on what truly matters."})]})]}),s.jsxs("div",{className:"flex flex-col items-center gap-6 lg:flex-row lg:justify-end order-2",children:[s.jsx("div",{className:"mobile-device animate-float animate-slideInRight",style:{animationDelay:"0.2s",zIndex:3},children:s.jsx("div",{className:"device-screen",children:s.jsx("img",{src:HNe,alt:"App Screenshot 1",className:"screen-image"})})}),s.jsx("div",{className:"mobile-device animate-float animate-slideInRight",style:{animationDelay:"0.4s",animationDuration:"4.5s",zIndex:2},children:s.jsx("div",{className:"device-screen",children:s.jsx("img",{src:$Ne,alt:"App Screenshot 2",className:"screen-image"})})}),s.jsx("div",{className:"mobile-device animate-float animate-slideInRight",style:{animationDelay:"0.6s",animationDuration:"5s",zIndex:1},children:s.jsx("div",{className:"device-screen",children:s.jsx("img",{src:KNe,alt:"App Screenshot 3",className:"screen-image"})})})]})]})})}),s.jsx("section",{className:"py-12 px-4 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("h2",{className:"text-2xl lg:text-3xl font-bold text-gray-900 text-center mb-8 animate-fadeInUp",children:"Transform School Management with Vidyaastra"}),s.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-6",children:[{title:"Student Information System",description:"Manage student profiles and academic records in one secure place."},{title:"Attendance & Fee Management",description:"Automate attendance tracking and fee collection with real-time updates."},{title:"Communication & Collaboration",description:"Seamless messaging between administrators, teachers, and parents."}].map((a,i)=>s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-5 text-center card-hover animate-slideInLeft",style:{animationDelay:`${.2*i}s`},children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:a.title}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:a.description})]},i))})]})}),s.jsxs("section",{className:"max-w-7xl mx-auto px-4 py-12",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 text-center mb-8 animate-fadeInUp",children:"Discover the Vidyaastra Dashboard"}),s.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[s.jsxs("div",{className:"flex-1 text-center md:text-left animate-slideInLeft",style:{animationDelay:"0.2s"},children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Intuitive & Powerful Dashboard"}),s.jsx("p",{className:"text-gray-600 font-medium text-base leading-relaxed mb-4 animate-fadeInUp",style:{animationDelay:"0.6s"},children:"The Vidyaastra Dashboard provides a comprehensive overview of your school's operations. Monitor key metrics, track student progress, manage schedules, and access real-time reports—all from a single, user-friendly interface designed to simplify your workflow."})]}),s.jsx("div",{className:"w-full md:w-1/2 flex-shrink-0 relative h-[200px] md:h-[350px] overflow-hidden rounded-lg shadow-lg mt-6 md:mt-0",children:s.jsx(pH,{mode:"wait",children:s.jsx(ws.img,{src:t[r],alt:"Vidyaastra Dashboard",className:"absolute w-full h-full object-contain",initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"-100%",opacity:0},transition:{duration:.8,ease:"easeInOut"}},r)})})]})]})]})};var d5=new Map,Y1=new WeakMap,fO=0,zNe=void 0;function GNe(t){return t?(Y1.has(t)||(fO+=1,Y1.set(t,fO.toString())),Y1.get(t)):"0"}function WNe(t){return Object.keys(t).sort().filter(r=>t[r]!==void 0).map(r=>`${r}_${r==="root"?GNe(t.root):t[r]}`).toString()}function qNe(t){const r=WNe(t);let n=d5.get(r);if(!n){const a=new Map;let i;const o=new IntersectionObserver(l=>{l.forEach(c=>{var u;const f=c.isIntersecting&&i.some(A=>c.intersectionRatio>=A);t.trackVisibility&&typeof c.isVisible>"u"&&(c.isVisible=f),(u=a.get(c.target))==null||u.forEach(A=>{A(f,c)})})},t);i=o.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:r,observer:o,elements:a},d5.set(r,n)}return n}function YNe(t,r,n={},a=zNe){if(typeof window.IntersectionObserver>"u"&&a!==void 0){const u=t.getBoundingClientRect();return r(a,{isIntersecting:a,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:u,intersectionRect:u,rootBounds:u}),()=>{}}const{id:i,observer:o,elements:l}=qNe(n),c=l.get(t)||[];return l.has(t)||l.set(t,c),c.push(r),o.observe(t),function(){c.splice(c.indexOf(r),1),c.length===0&&(l.delete(t),o.unobserve(t)),l.size===0&&(o.disconnect(),d5.delete(i))}}function XNe({threshold:t,delay:r,trackVisibility:n,rootMargin:a,root:i,triggerOnce:o,skip:l,initialInView:c,fallbackInView:u,onChange:f}={}){var A;const[m,p]=w.useState(null),g=w.useRef(f),[b,v]=w.useState({inView:!!c,entry:void 0});g.current=f,w.useEffect(()=>{if(l||!m)return;let S;return S=YNe(m,(E,D)=>{v({inView:E,entry:D}),g.current&&g.current(E,D),D.isIntersecting&&o&&S&&(S(),S=void 0)},{root:i,rootMargin:a,threshold:t,trackVisibility:n,delay:r},u),()=>{S&&S()}},[Array.isArray(t)?t.toString():t,m,i,a,o,l,n,u,r]);const y=(A=b.entry)==null?void 0:A.target,j=w.useRef(void 0);!m&&y&&!o&&!l&&j.current!==y&&(j.current=y,v({inView:!!c,entry:void 0}));const C=[p,b.inView,b.entry];return C.ref=C[0],C.inView=C[1],C.entry=C[2],C}const X1=({end:t,duration:r=2})=>{const[n,a]=w.useState(0);MNe();const[i,o]=XNe({triggerOnce:!0,threshold:.5});return w.useEffect(()=>{if(o){let l=0;const c=t/(r*60),u=setInterval(()=>{l+=c,l>=t?(a(t),clearInterval(u)):a(Math.floor(l))},1e3/60);return()=>clearInterval(u)}},[t,r,o]),s.jsx(ws.span,{ref:i,children:n})},JNe=()=>{const[t,r]=w.useState("mission"),n=[{id:1,name:"Ms. Alice Chen",role:"Head of Academics",image:"https://images.unsplash.com/photo-1594631252845-29654212902f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",social:{facebook:"#",instagram:"#",youtube:"#"}},{id:2,name:"Mr. Ben Carter",role:"Lead Sports Coach",image:"https://images.unsplash.com/photo-1549216120-d6215750e50f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",social:{facebook:"#",instagram:"#",youtube:"#"}},{id:3,name:"Dr. Jane Smith",role:"Principal",image:"https://images.unsplash.com/photo-1542385108-013b86561f55?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",social:{facebook:"#",instagram:"#",youtube:"#"}},{id:4,name:"Ms. Emily White",role:"Creative Arts Coordinator",image:"https://images.unsplash.com/photo-1517487881023-e18d6c1f1f7d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",social:{facebook:"#",instagram:"#",youtube:"#"}}],a=[{id:1,title:"Holistic Development",description:"We focus on nurturing students' academic, social, emotional, and physical well-being.",icon:"🧠"},{id:2,title:"Community & Empathy",description:"We foster a caring and inclusive environment where every student feels valued and supported.",icon:"🤝"},{id:3,title:"Innovation in Learning",description:"We embrace modern teaching methods and technology to inspire curiosity and critical thinking.",icon:"💡"},{id:4,title:"Lifelong Learning",description:"We equip students with the skills and passion to continue learning and growing beyond our walls.",icon:"📚"}],i=[{year:"1995",title:"School Founded",description:"Opened our doors with a commitment to academic excellence and community spirit."},{year:"2005",title:"First Computer Lab",description:"Integrated technology into our curriculum with the launch of our first digital learning center."},{year:"2012",title:"New Campus Wing",description:"Expanded our facilities to include a modern science lab and a large auditorium."},{year:"2018",title:"Digital Platform Launch",description:"Introduced our school management portal for seamless communication and administration."},{year:"2023",title:"Accreditation Received",description:"Awarded top accreditation, recognizing our commitment to high educational standards."}],o={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},l={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return s.jsxs(s.Fragment,{children:[s.jsx("style",{children:`
        .animated-bg {
          position: relative;
          overflow: hidden;
          background: linear-gradient(135deg, #004e92, #0077b6, #004e92);
          background-size: 400% 400%;
          animation: gradientShift 15s ease infinite;
        }

        .animated-bg::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.1);
          z-index: 1;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .cta-btn-alt {
          background-color: transparent;
          color: white;
          border: 2px solid #00B4D8;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .cta-btn-alt:hover {
          background-color: #00B4D8;
          color: #fff;
          box-shadow: 0 5px 15px rgba(0, 180, 216, 0.4);
          transform: translateY(-3px);
        }

        .shimmer-btn {
            background: linear-gradient(45deg, #F2590D, #004e92, #F2590D);
            background-size: 200% 200%;
            animation: rainbow 3s ease infinite;
            position: relative;
            overflow: hidden;
            border: none;
            box-shadow: 0 4px 15px rgba(242, 89, 13, 0.4);
        }
        
        .shimmer-btn:hover {
            background: linear-gradient(45deg, #004e92, #F2590D, #004e92);
            background-size: 200% 200%;
            box-shadow: 0 6px 20px rgba(0, 78, 146, 0.5);
        }
        
        .shimmer-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shimmer-slide 2s infinite;
        }
        
        @keyframes shimmer-slide {
            0% { left: -100%; }
            100% { left: 100%; }
        }
      `}),s.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-800",children:[s.jsx("section",{className:"relative py-32 text-white animated-bg",children:s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:s.jsxs(ws.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-4xl mx-auto text-center",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold mb-6 drop-shadow-md",children:"Shaping Tomorrow's Leaders"}),s.jsx("p",{className:"text-lg md:text-xl font-light mb-10 opacity-90",children:"A modern school management system designed to connect students, teachers, and parents for a seamless educational journey."}),s.jsx(ws.button,{whileHover:{scale:1.05,y:-3},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:10},className:"cta-btn-alt font-semibold py-3 px-8 rounded-full shadow-lg",children:"Learn More"})]})})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs(ws.div,{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",variants:o,initial:"hidden",animate:"visible",children:[s.jsxs(ws.div,{variants:l,className:"p-6",children:[s.jsxs("div",{className:"text-5xl font-extrabold text-[#F2590D] mb-2 drop-shadow-sm",children:[s.jsx(X1,{end:1200}),"+"]}),s.jsx("div",{className:"text-gray-600 font-medium",children:"Students Enrolled"})]}),s.jsxs(ws.div,{variants:l,className:"p-6",children:[s.jsxs("div",{className:"text-5xl font-extrabold text-[#F2590D] mb-2 drop-shadow-sm",children:[s.jsx(X1,{end:85}),"+"]}),s.jsx("div",{className:"text-gray-600 font-medium",children:"Qualified Teachers"})]}),s.jsxs(ws.div,{variants:l,className:"p-6",children:[s.jsxs("div",{className:"text-5xl font-extrabold text-[#F2590D] mb-2 drop-shadow-sm",children:[s.jsx(X1,{end:25}),"+"]}),s.jsx("div",{className:"text-gray-600 font-medium",children:"Academic Programs"})]}),s.jsxs(ws.div,{variants:l,className:"p-6",children:[s.jsx("div",{className:"text-5xl font-extrabold text-[#F2590D] mb-2 drop-shadow-sm",children:s.jsx(X1,{end:30})}),s.jsx("div",{className:"text-gray-600 font-medium",children:"Years of Excellence"})]})]})})}),s.jsx("section",{className:"py-20 bg-gray-50",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-16",children:[s.jsxs(ws.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.7},className:"md:w-1/2",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#17024E] mb-6 leading-tight",children:"Our Mission: Empowering Minds for a Brighter Future"}),s.jsx("p",{className:"text-gray-600 mb-4 text-lg",children:"At [School Name], we are committed to providing a nurturing and stimulating environment where every student can achieve their full potential. Our integrated platform enhances communication and streamlines administrative tasks."}),s.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"We believe in a partnership between our dedicated staff, curious students, and supportive parents to build a strong educational community."}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(ws.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-[#004e92] hover:bg-[#003460] text-white font-semibold py-3 px-8 rounded-full transition duration-300",children:"Our Philosophy"}),s.jsx(ws.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"border-2 border-[#004e92] text-[#004e92] hover:bg-[#004e92] hover:text-white font-semibold py-3 px-8 rounded-full transition duration-300",children:"Admissions"})]})]}),s.jsx(ws.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.7,delay:.2},className:"md:w-1/2",children:s.jsx("img",{src:"https://images.unsplash.com/photo-1541339907198-e08756c07a3c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1500&q=80",alt:"Students in a classroom",className:"rounded-3xl shadow-2xl"})})]})})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-[#17024E] mb-16",children:"Our Core Values"}),s.jsx(ws.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",variants:o,initial:"hidden",animate:"visible",children:a.map((c,u)=>s.jsxs(ws.div,{variants:l,whileHover:{scale:1.05,boxShadow:"0 10px 20px rgba(0,0,0,0.15)"},className:"bg-gray-50 p-8 rounded-2xl shadow-lg text-center transition duration-300 border border-gray-200",children:[s.jsx("div",{className:"text-5xl mb-4 transform transition-transform duration-300 group-hover:rotate-12",children:c.icon}),s.jsx("h3",{className:"text-xl font-semibold text-[#17024E] mb-3",children:c.title}),s.jsx("p",{className:"text-gray-600",children:c.description})]},c.id))})]})}),s.jsx("section",{className:"py-20 bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-[#17024E] mb-4",children:"Meet Our Staff"}),s.jsx("p",{className:"text-gray-600 text-center max-w-2xl mx-auto mb-16",children:"Our passionate and experienced educators are dedicated to your child's success."}),s.jsx(ws.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",variants:o,initial:"hidden",animate:"visible",children:n.map((c,u)=>s.jsxs(ws.div,{variants:l,whileHover:{y:-10,boxShadow:"0 15px 30px rgba(0,0,0,0.1)"},className:"bg-white rounded-xl overflow-hidden shadow-lg transition duration-300",children:[s.jsx("div",{className:"h-56 overflow-hidden",children:s.jsx("img",{src:c.image,alt:c.name,className:"w-full h-full object-cover transition duration-500 hover:scale-110"})}),s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("h3",{className:"text-xl font-bold text-[#17024E]",children:c.name}),s.jsx("p",{className:"text-[#F2590D] mb-4 font-medium",children:c.role}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx("a",{href:c.social.facebook,className:"text-gray-600 hover:text-[#F2590D] transition duration-300",children:s.jsx(_V,{className:"w-6 h-6"})}),s.jsx("a",{href:c.social.instagram,className:"text-gray-600 hover:text-[#F2590D] transition duration-300",children:s.jsx(kV,{className:"w-6 h-6"})}),s.jsx("a",{href:c.social.youtube,className:"text-gray-600 hover:text-[#F2590D] transition duration-300",children:s.jsx(PV,{className:"w-6 h-6"})})]})]})]},c.id))})]})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-[#17024E] mb-16",children:"Our Journey"}),s.jsxs("div",{className:"relative max-w-4xl mx-auto",children:[s.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 h-full w-1 bg-[#F2590D]"}),i.map((c,u)=>s.jsxs(ws.div,{initial:{opacity:0,x:u%2===0?-100:100},animate:{opacity:1,x:0},transition:{duration:.8,delay:u*.2,type:"spring",damping:10,stiffness:100},className:`mb-12 flex flex-col ${u%2===0?"md:flex-row":"md:flex-row-reverse"} items-center justify-between`,children:[s.jsx("div",{className:"md:w-1/2 flex justify-center md:justify-end mb-4 md:mb-0 md:mr-6",children:s.jsxs("div",{className:"bg-gray-50 p-6 rounded-2xl shadow-md w-full max-w-sm border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-[#F2590D] mb-2",children:c.year}),s.jsx("h3",{className:"text-xl font-semibold text-[#17024E] mb-2",children:c.title}),s.jsx("p",{className:"text-gray-600",children:c.description})]})}),s.jsx("div",{className:"hidden md:flex relative z-10",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-[#F2590D] border-4 border-white shadow-lg"})}),s.jsx("div",{className:"md:w-1/2 flex justify-center md:justify-start md:ml-6"})]},u))]})]})}),s.jsx("section",{className:"py-20 bg-gradient-to-r from-[#004e92] to-[#003460] text-white",children:s.jsx("div",{className:"container mx-auto px-4 text-center",children:s.jsxs(ws.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 drop-shadow-md",children:"Join Our Community"}),s.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto font-light",children:"Whether you are a prospective student, parent, or teacher, we invite you to be part of our family."}),s.jsx(ws.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"shimmer-btn text-white font-semibold py-3 px-8 rounded-full transition duration-300 transform mr-4",children:"Contact Admissions"}),s.jsx(ws.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"border-2 border-white hover:bg-white hover:text-[#004e92] text-white font-semibold py-3 px-8 rounded-full transition duration-300",children:"School Events"})]})})})]})]})},ZNe=()=>{const[t,r]=w.useState("list"),[n,a]=w.useState(null),[i,o]=w.useState(new Set),[l,c]=w.useState([]),[u,f]=w.useState([]),[A,m]=w.useState([]),[p,g]=w.useState(!0),[b,v]=w.useState(null),[y,j]=w.useState(""),[C,S]=w.useState("");w.useEffect(()=>{E()},[]);const E=async()=>{try{g(!0);const U=await fetch("https://vidyaastra.com/api/students",{method:"GET",headers:{"Content-Type":"application/json"}});if(!U.ok)throw new Error(`HTTP error! Status: ${U.status}`);const X=(await U.json()).map(de=>({id:de._id,name:de.name||"Unknown",class:D(de.class),rollNo:de.rollNumber||"N/A",studentId:de.studentId||"N/A",dateOfBirth:de.dob||null,gender:de.gender||"N/A",address:de.address||"N/A",phone:de.phone||"N/A",email:de.email||"N/A",fatherName:de.fatherName||"N/A",motherName:de.motherName||"N/A",parentPhone:de.parentPhone||"N/A",schoolId:de.schoolId?._id||"N/A",schoolName:de.schoolId?.name||"N/A",schoolCode:de.schoolCode||"N/A"})),Z=[...new Set(X.map(de=>de.class))].map((de,Ne)=>({id:Ne+1,name:de,grade:de.split(/[AB]/)[0],section:de.match(/[AB]/)?.[0]||"A",classTeacher:`Teacher ${de}`,subject:"General",room:`Room ${de}`,capacity:40,academicYear:"2024-25"})),ee=[...new Map(X.filter(de=>de.schoolName&&de.schoolName!=="N/A").map(de=>[de.schoolId,{id:de.schoolId,name:de.schoolName}])).values()];c(X),f(Z),m(ee),v(null)}catch(U){v(`Error fetching students: ${U.message}. Please check if the backend server is running.`)}finally{g(!1)}},D=U=>{if(!U)return"Unknown";const K=U.replace(/\s|-/g,"");return K.match(/[AB]$/)?K:`${K}A`},k=U=>{if(!C)return[];let K=l.filter(X=>X.schoolId===C);return U&&(K=K.filter(X=>X.class===U)),K},L=U=>{let K=k(U);return y&&(K=K.filter(X=>X.name.toLowerCase().includes(y.toLowerCase())||X.email.toLowerCase().includes(y.toLowerCase())||X.rollNo.toLowerCase().includes(y.toLowerCase())||X.studentId.toLowerCase().includes(y.toLowerCase())||X.fatherName.toLowerCase().includes(y.toLowerCase())||X.motherName.toLowerCase().includes(y.toLowerCase()))),K},I=()=>{j(""),S("")},Y=(U=null)=>{if(!C){alert("Please select a school to export student data");return}let K=[],X="";if(U?(K=L(U),X=`class_${U}_students_${new Date().toISOString().split("T")[0]}.csv`):(K=l.filter(xe=>{const R=!y||xe.name.toLowerCase().includes(y.toLowerCase())||xe.email.toLowerCase().includes(y.toLowerCase())||xe.rollNo.toLowerCase().includes(y.toLowerCase())||xe.studentId.toLowerCase().includes(y.toLowerCase()),G=xe.schoolId===C;return R&&G}),X=`all_students_${new Date().toISOString().split("T")[0]}.csv`),K.length===0){alert("No data to export");return}const Z=K.map(xe=>({"Student Name":xe.name,Class:xe.class,"Roll Number":xe.rollNo,"Student ID":xe.studentId,Gender:xe.gender,"Date of Birth":xe.dateOfBirth?new Date(xe.dateOfBirth).toLocaleDateString():"N/A",Email:xe.email||"N/A",Phone:xe.phone||"N/A",Address:xe.address||"N/A","Father's Name":xe.fatherName||"N/A","Mother's Name":xe.motherName||"N/A","Parent Phone":xe.parentPhone||"N/A","School Name":xe.schoolName||"N/A","School Code":xe.schoolCode||"N/A"})),ee=Object.keys(Z[0]),de=[ee.join(","),...Z.map(xe=>ee.map(R=>`"${xe[R]}"`).join(","))].join(`
`),Ne=new Blob([de],{type:"text/csv;charset=utf-8;"}),Se=document.createElement("a"),ue=URL.createObjectURL(Ne);Se.setAttribute("href",ue),Se.setAttribute("download",X),Se.style.visibility="hidden",document.body.appendChild(Se),Se.click(),document.body.removeChild(Se)},Q=U=>{const K=k(U),X=u.find(Z=>Z.name===U);return{total:K.length,capacity:X?.capacity||0,male:K.filter(Z=>Z.gender==="Male").length,female:K.filter(Z=>Z.gender==="Female").length}},H=U=>{const K=new Set(i);K.has(U)?K.delete(U):K.add(U),o(K)};if(b)return s.jsxs("div",{className:"p-6 bg-red-50 text-red-700 rounded-xl flex items-center shadow-sm",children:[s.jsx(sr,{className:"w-5 h-5 mr-2"}),b]});if(p)return s.jsx("div",{className:"p-6 text-center text-[#1C1444] font-medium",children:"Loading data..."});if(t==="list")return s.jsx("div",{className:"min-h-screen bg-white p-6 sm:p-8",children:s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[s.jsxs("div",{className:"mb-4 sm:mb-0",children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-[#1C1444] flex items-center",children:[s.jsx(Ln,{className:"w-7 h-7 mr-3 text-[#F37021]"}),"Student Management"]}),s.jsx("p",{className:"text-[#1C1444]/80 text-sm mt-2",children:"View classes and students"})]}),s.jsxs("button",{onClick:()=>Y(),className:"bg-[#F37021] hover:bg-[#d55f1c] text-white px-4 py-2 rounded-lg shadow-md flex items-center space-x-2 transition-all duration-200",title:"Export All Students",children:[s.jsx(Cs,{className:"w-5 h-5"}),s.jsx("span",{children:"Export All CSV"})]})]}),s.jsx("div",{className:"bg-[#1C1444]/5 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(xn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-[#1C1444]/60 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search all students...",value:y,onChange:U=>j(U.target.value),className:"w-full pl-12 pr-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("select",{value:C,onChange:U=>S(U.target.value),className:"w-48 px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",children:[s.jsx("option",{value:"",children:"Select a School"}),A.map(U=>s.jsx("option",{value:U.id,children:U.name},U.id))]}),s.jsxs("span",{className:"text-sm text-[#1C1444]/80",children:["Total Students: ",k().length]}),s.jsxs("button",{onClick:I,className:"flex items-center space-x-2 px-3 py-2 border border-[#1C1444]/20 rounded-lg hover:bg-[#1C1444]/10 text-[#1C1444] transition-all duration-200",children:[s.jsx(Mo,{className:"w-5 h-5"}),s.jsx("span",{children:"Clear Filters"})]})]})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[{icon:Ln,label:"Total Classes",value:C?u.length:0},{icon:Jr,label:"Total Students",value:k().length},{icon:Ma,label:"Schools",value:A.length},{icon:en,label:"Academic Year",value:"2024-25"}].map((U,K)=>s.jsx("div",{className:"bg-[#1C1444]/5 rounded-lg p-4 shadow-sm",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-[#F37021]/10 rounded-lg",children:s.jsx(U.icon,{className:"w-5 h-5 text-[#F37021]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#1C1444]/80",children:U.label}),s.jsx("p",{className:"text-xl font-bold text-[#1C1444]",children:U.value})]})]})},K))}),C?u.length===0?s.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[s.jsx(Ln,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),s.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:"No classes found"}),s.jsx("p",{className:"text-[#1C1444]/80",children:"No students are enrolled in this school."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(U=>{const K=Q(U.name);return s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border border-[#1C1444]/10 hover:shadow-lg transition-all duration-300",children:[s.jsx("div",{className:"flex justify-between items-center mb-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-[#F37021]/10 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-[#F37021] font-bold text-lg",children:U.name})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold text-[#1C1444]",children:["Class ",U.name]}),s.jsxs("p",{className:"text-sm text-[#1C1444]/80",children:["Grade ",U.grade," - Section ",U.section]})]})]})}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm text-[#1C1444]",children:[s.jsx("span",{children:"Class Teacher:"}),s.jsx("span",{className:"font-medium",children:U.classTeacher})]}),s.jsxs("div",{className:"flex justify-between text-sm text-[#1C1444]",children:[s.jsx("span",{children:"Room:"}),s.jsx("span",{className:"font-medium",children:U.room})]}),s.jsxs("div",{className:"flex justify-between text-sm text-[#1C1444]",children:[s.jsx("span",{children:"Students:"}),s.jsxs("span",{className:"font-medium",children:[K.total,"/",U.capacity]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>{a(U),r("detail")},className:"flex-1 bg-[#F37021] hover:bg-[#d55f1c] text-white py-2 rounded-lg flex items-center justify-center space-x-2 transition-all duration-200",children:[s.jsx(Jr,{className:"w-5 h-5"}),s.jsx("span",{children:"View Details"})]}),s.jsx("button",{onClick:()=>Y(U.name),className:"bg-[#F37021] hover:bg-[#d55f1c] text-white px-3 py-2 rounded-lg transition-all duration-200",title:"Export Class CSV",children:s.jsx(Cs,{className:"w-5 h-5"})})]})]},U.id)})}):s.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[s.jsx(Ln,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),s.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:"No school selected"}),s.jsx("p",{className:"text-[#1C1444]/80",children:"Please select a school from the filter to view classes and students."})]})]})});if(t==="detail"){if(!n)return s.jsxs("div",{className:`p-6 bg-red-50 text-red-7\r
00 rounded-xl flex items-center shadow-sm`,children:[s.jsx(sr,{className:"w-5 h-5 mr-2"}),"Error: No class selected. Please go back and select a class."]});const U=L(n.name),K=Q(n.name);return s.jsxs("div",{className:"min-h-screen bg-white p-6 sm:p-8",children:[s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4 sm:mb-0",children:[s.jsx("button",{onClick:()=>r("list"),className:"p-2 hover:bg-[#1C1444]/10 rounded-lg text-[#1C1444] transition-all duration-200",children:s.jsx(P2,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-[#1C1444] flex items-center",children:[s.jsx(Ln,{className:"w-7 h-7 mr-3 text-[#F37021]"}),"Class ",n.name]}),s.jsxs("p",{className:"text-[#1C1444]/80 text-sm mt-2",children:["Section ",n.section]})]})]}),s.jsxs("button",{onClick:()=>Y(n.name),className:"bg-[#F37021] hover:bg-[#d55f1c] text-white px-4 py-2 rounded-lg shadow-md flex items-center space-x-2 transition-all duration-200",title:"Export Class CSV",children:[s.jsx(Cs,{className:"w-5 h-5"}),s.jsx("span",{children:"Export CSV"})]})]}),s.jsx("div",{className:"bg-[#1C1444]/5 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(xn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-[#1C1444]/60 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search students in this class...",value:y,onChange:X=>j(X.target.value),className:"w-full pl-12 pr-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("select",{value:C,onChange:X=>S(X.target.value),className:"w-48 px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",children:[s.jsx("option",{value:"",children:"Select a School"}),A.map(X=>s.jsx("option",{value:X.id,children:X.name},X.id))]}),s.jsxs("span",{className:"text-sm text-[#1C1444]/80",children:["Showing ",U.length," of"," ",k(n.name).length," students"]}),s.jsxs("button",{onClick:I,className:"flex items-center space-x-2 px-3 py-2 border border-[#1C1444]/20 rounded-lg hover:bg-[#1C1444]/10 text-[#1C1444] transition-all duration-200",children:[s.jsx(Mo,{className:"w-5 h-5"}),s.jsx("span",{children:"Clear Filters"})]})]})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[{icon:Jr,label:"Total Students",value:K.total},{icon:Ns,label:"Male Students",value:K.male},{icon:Ns,label:"Female Students",value:K.female},{icon:Ln,label:"Capacity",value:n.capacity}].map((X,Z)=>s.jsx("div",{className:"bg-[#1C1444]/5 rounded-lg p-4 shadow-sm",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-[#F37021]/10 rounded-lg",children:s.jsx(X.icon,{className:"w-5 h-5 text-[#F37021]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#1C1444]/80",children:X.label}),s.jsx("p",{className:"text-xl font-bold text-[#1C1444]",children:X.value})]})]})},Z))}),s.jsx("div",{className:"bg-[#1C1444]/5 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-[#1C1444]",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Class Teacher:"})," ",n.classTeacher]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Room:"})," ",n.room||"N/A"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Academic Year:"})," ",n.academicYear||"2024-25"]})]})})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg",children:[s.jsx("div",{className:"p-6 border-b border-[#1C1444]/10",children:s.jsxs("h2",{className:"text-lg font-bold text-[#1C1444]",children:["Students in Class ",n.name]})}),C?s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-[#1C1444]/5",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"Expand"}),s.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"Student"}),s.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"Roll No"}),s.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"ID"}),s.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"School"}),s.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"Contact"}),s.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"Parent"})]})}),s.jsx("tbody",{className:"divide-y divide-[#1C1444]/10",children:U.map(X=>s.jsxs(s.Fragment,{children:[s.jsxs("tr",{className:"hover:bg-[#1C1444]/5 cursor-pointer transition-all duration-200",onClick:()=>H(X.id),children:[s.jsx("td",{className:"p-4",children:s.jsx("button",{onClick:Z=>{Z.stopPropagation(),H(X.id)},className:"text-[#F37021] hover:text-[#d55f1c] transition-all duration-200",children:i.has(X.id)?s.jsx(gf,{className:"w-5 h-5"}):s.jsx(xi,{className:"w-5 h-5"})})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-[#F37021]/10 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-[#F37021] font-semibold",children:X.name.split(" ").map(Z=>Z[0]).join("")})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"font-medium text-[#1C1444]",children:X.name}),s.jsx("div",{className:"text-[#1C1444]/80 text-sm",children:X.email})]})]})}),s.jsx("td",{className:"p-4 text-[#1C1444]",children:X.rollNo}),s.jsx("td",{className:"p-4",children:X.studentId&&X.studentId!=="N/A"&&s.jsx("span",{className:"px-2 py-1 bg-[#F37021]/10 text-[#F37021] rounded-full text-sm",children:X.studentId})}),s.jsx("td",{className:"p-4 text-[#1C1444]",children:X.schoolName}),s.jsx("td",{className:"p-4 text-[#1C1444]/80",children:X.phone}),s.jsxs("td",{className:"p-4",children:[s.jsx("div",{className:"text-[#1C1444]",children:X.fatherName}),s.jsx("div",{className:"text-[#1C1444]/80 text-sm",children:X.parentPhone})]})]},X.id),i.has(X.id)&&s.jsx("tr",{children:s.jsx("td",{colSpan:"7",className:"p-4 bg-[#1C1444]/5",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-[#1C1444]/10",children:[s.jsx("h3",{className:"font-semibold text-[#1C1444] mb-4",children:"Student Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-[#1C1444]",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium border-b border-[#1C1444]/20 pb-1",children:"Personal"}),s.jsxs("div",{className:"space-y-2 mt-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"DOB:"})," ",X.dateOfBirth?new Date(X.dateOfBirth).toLocaleDateString():"N/A"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Gender:"})," ",X.gender]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Address:"})," ",X.address]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium border-b border-[#1C1444]/20 pb-1",children:"Academic"}),s.jsxs("div",{className:"space-y-2 mt-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Class:"})," ",X.class]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Roll No:"})," ",X.rollNo]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Student ID:"})," ",X.studentId]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"School:"})," ",X.schoolName]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium border-b border-[#1C1444]/20 pb-1",children:"Parent"}),s.jsxs("div",{className:"space-y-2 mt-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Father:"})," ",X.fatherName]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Mother:"})," ",X.motherName]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Phone:"})," ",X.parentPhone]})]})]})]})]})})})]}))})]}),!U.length&&k(n.name).length>0&&s.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[s.jsx(Jr,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),s.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:"No students match your filters"}),s.jsx("button",{onClick:I,className:"text-[#F37021] hover:text-[#d55f1c] underline transition-all duration-200",children:"Clear filters to see all students"})]}),!U.length&&k(n.name).length===0&&s.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[s.jsx(Jr,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),s.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:"No students found"}),s.jsx("p",{className:"text-[#1C1444]/80",children:"No students are enrolled in this class for the selected school."})]})]}):s.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[s.jsx(Jr,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),s.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:"No school selected"}),s.jsx("p",{className:"text-[#1C1444]/80",children:"Please select a school from the filter to view students."})]})]})]})}return s.jsxs("div",{className:"p-6 bg-red-50 text-red-700 rounded-xl flex items-center shadow-sm",children:[s.jsx(sr,{className:"w-5 h-5 mr-2"}),"Error: Invalid view state"]})},J1="https://vidyaastra.com/api",eCe=()=>{const[t,r]=w.useState(""),[n,a]=w.useState(!1),[i,o]=w.useState("add"),[l,c]=w.useState(null),[u,f]=w.useState([]),[A,m]=w.useState(!1),[p,g]=w.useState(""),[b,v]=w.useState({}),[y,j]=w.useState("#2563eb"),[C,S]=w.useState(null);D2();const[E,D]=w.useState({SubjectName:""});w.useEffect(()=>{const Z=localStorage.getItem("schoolId");Z?S(Z):g("School ID not found. Please log in to access subject data.");const ee=localStorage.getItem("color");ee&&j(ee)},[]);const k=w.useCallback(async()=>{if(!C){m(!1);return}m(!0),g("");try{const Z=await Ft.get(`${J1}/subject/${C}/subjects`);Z.data.success?f(Z.data.data):g("Failed to fetch subjects")}catch(Z){g(Z.response?.data?.message||"Failed to fetch subjects. Please try again.")}finally{m(!1)}},[C]);w.useEffect(()=>{C&&k()},[k,C]);const L=u.filter(Z=>Z.SubjectName.toLowerCase().includes(t.toLowerCase())),I=(Z,ee=null)=>{o(Z),c(ee),v({}),Z==="add"?D({SubjectName:""}):ee&&D({SubjectName:ee.SubjectName}),a(!0),g("")},Y=()=>{a(!1),c(null),o("add"),g(""),v({})},Q=Z=>{D({...E,[Z.target.name]:Z.target.value}),b[Z.target.name]&&v(ee=>({...ee,[Z.target.name]:""}))},H=()=>{const Z={};return E.SubjectName.trim()||(Z.SubjectName="Subject name is required."),v(Z),Object.keys(Z).length===0},U=async Z=>{if(Z.preventDefault(),m(!0),g(""),!H()){m(!1);return}if(!C){g("School ID is missing. Cannot perform this operation."),m(!1);return}try{let ee;i==="add"?ee=await Ft.post(`${J1}/subject/${C}/subjects`,{SubjectName:E.SubjectName.trim()}):i==="edit"&&(ee=await Ft.put(`${J1}/subject/${C}/subjects/${l._id}`,{SubjectName:E.SubjectName.trim()})),ee.data.success&&(await k(),Y())}catch(ee){g(ee.response?.data?.message||"Failed to save subject. Please try again.")}finally{m(!1)}},K=w.useCallback(async Z=>{if(window.confirm("Are you sure you want to delete this subject? This action cannot be undone.")){if(m(!0),g(""),!C){g("School ID is missing. Cannot perform this operation."),m(!1);return}try{(await Ft.delete(`${J1}/subject/${C}/subjects/${Z}`)).data.success&&await k()}catch(ee){g(ee.response?.data?.message||"Failed to delete subject.")}finally{m(!1)}}},[k,C]),X=Z=>Z?new Date(Z).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return s.jsxs("div",{className:"space-y-6 p-6 bg-gray-50 min-h-screen",children:[p&&s.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-lg",children:[s.jsx(ln,{className:"w-5 h-5",style:{color:y}}),s.jsx("span",{className:"block sm:inline text-sm",children:p}),s.jsx("button",{onClick:()=>g(""),className:"ml-auto text-red-700 hover:text-red-900",children:s.jsx(sr,{className:"w-4 h-4"})})]}),s.jsx("div",{className:Ot("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:y},children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(lf,{className:"mr-3",style:{color:"white"}}),"Subject Management"]}),s.jsx("p",{className:"text-white text-sm opacity-75 mt-1",children:"Manage academic subjects for your school"})]}),s.jsxs("button",{onClick:()=>I("add"),disabled:A||!C,className:Ot("text-white px-4 py-2 rounded-xl flex items-center space-x-2 font-semibold","hover:opacity-90 transition-all duration-200","disabled:opacity-50"),style:{backgroundColor:y},children:[A?s.jsx(br,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):s.jsx($s,{className:"w-4 h-4",style:{color:"white"}}),s.jsx("span",{children:"Add Subject"})]})]}),s.jsxs("div",{className:"mt-6 relative max-w-5xl mx-auto",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5",style:{color:y}}),s.jsx("input",{type:"text",placeholder:"Search subjects by name...",value:t,onChange:Z=>r(Z.target.value),className:Ot("w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:y}})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden max-w-5xl mx-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["All Subjects (",L.length,")"]})}),s.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject Name"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A?s.jsx("tr",{children:s.jsxs("td",{colSpan:"3",className:"text-center py-12",children:[s.jsx(br,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:y}}),s.jsx("p",{className:"text-gray-500",children:"Loading subjects..."})]})}):L.length===0?s.jsx("tr",{children:s.jsxs("td",{colSpan:"3",className:"text-center py-12 text-gray-500",children:[s.jsx(Ln,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),s.jsx("p",{className:"text-lg font-medium",children:u.length===0?"No subjects found. Add your first subject!":"No subjects found matching your search."})]})}):L.map(Z=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:y},children:s.jsx(Ln,{className:"text-white w-5 h-5"})}),s.jsx("div",{className:"ml-4",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:Z.SubjectName})})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:X(Z.createdAt)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>I("edit",Z),disabled:A,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Edit Subject",style:{color:y},children:s.jsx(Lo,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>K(Z._id),disabled:A,className:"p-2 hover:bg-red-50 rounded-full transition-colors text-red-500 hover:text-red-700",title:"Delete Subject",children:s.jsx(Ss,{className:"w-4 h-4"})})]})})]},Z._id))})]})})]}),n&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[s.jsxs("div",{className:Ot("text-white p-6 rounded-t-xl flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:y},children:[s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mr-3",style:{backgroundColor:`${y}20`},children:i==="edit"?s.jsx(Lo,{className:"w-5 h-5",style:{color:"white"}}):s.jsx($s,{className:"w-5 h-5",style:{color:"white"}})}),i==="edit"?"Edit Subject":"Add New Subject"]}),s.jsx("button",{onClick:Y,className:"flex items-center justify-center w-8 h-8 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:s.jsx(sr,{className:"w-6 h-6",style:{color:"white"}})})]}),s.jsxs("form",{onSubmit:U,className:"p-6 space-y-4",children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject Name *"}),s.jsx("input",{type:"text",name:"SubjectName",placeholder:"Enter subject name",value:E.SubjectName,onChange:Q,className:Ot("w-full px-3 py-2 border rounded-xl",b.SubjectName?"border-red-500":"border-gray-300","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:y},required:!0}),b.SubjectName&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:b.SubjectName})]})}),s.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:Y,disabled:A,className:Ot("flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-xl font-semibold","hover:bg-gray-50 transition-colors disabled:opacity-50"),children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:A,className:Ot("flex-1 px-4 py-2 text-white rounded-xl font-semibold","hover:opacity-90 transition-all duration-200 flex items-center justify-center space-x-2","disabled:opacity-50"),style:{backgroundColor:y},children:[A?s.jsx(br,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):s.jsx(Ro,{className:"w-4 h-4",style:{color:"white"}}),s.jsx("span",{children:A?"Saving...":i==="edit"?"Update Subject":"Add Subject"})]})]})]})]})})]})},tCe=()=>{const[t,r]=w.useState(""),[n,a]=w.useState(!1),[i,o]=w.useState(null),[l,c]=w.useState("All"),[u,f]=w.useState("All"),[A,m]=w.useState("All"),[p,g]=w.useState([]),[b,v]=w.useState([]),[y,j]=w.useState([]),[C,S]=w.useState(!1),[E,D]=w.useState(""),[k,L]=w.useState(null),[I,Y]=w.useState(null),[Q,H]=w.useState(1),U=10,K="https://vidyaastra.com/api";w.useEffect(()=>{const oe=localStorage.getItem("schoolId"),he=localStorage.getItem("teacherId");oe&&he?(L(oe),Y(he)):D("School ID or Teacher ID not found in local storage")},[]),w.useEffect(()=>{k&&I&&X()},[k,I]),w.useEffect(()=>{H(1)},[t,l,u,A]);const X=async()=>{S(!0);try{const he=(await Ft.get(`${K}/teacher/${k}/${I}`)).data.data,me=he.classes||[],te=he.subjects||[];if(v(me.map(ie=>{const pe=ie.split(" ");return{_id:ie,className:pe[0],section:pe[1]||""}})),j(te),me.length===0){g([]);return}const Ae=me.join(","),V=await Ft.get(`${K}/assignments/submitted-by-classes?schoolId=${k}&classNames=${Ae}&page=1&limit=500`);V.data.success?g(V.data.data):D("Failed to fetch submitted assignments: "+V.data.message)}catch(oe){D("Failed to load initial data"),console.error("Error fetching initial data:",oe)}finally{S(!1)}},Z=oe=>!oe||!oe.url?null:oe.url.startsWith("http")?oe.url:`${K.replace("/api","")}${oe.url}`,ee=p.filter(oe=>{const he=oe.title?.toLowerCase().includes(t.toLowerCase())||oe.subject?.toLowerCase().includes(t.toLowerCase())||oe.studentName?.toLowerCase().includes(t.toLowerCase())||oe.rollNo?.toLowerCase().includes(t.toLowerCase())||oe.description?.toLowerCase().includes(t.toLowerCase()),me=l==="All"||oe.subject===l,te=u==="All"||oe.status===u,Ae=`${oe.class} ${oe.section||""}`.trim();return he&&me&&te&&(A==="All"||Ae===A)}),de=ee.slice((Q-1)*U,Q*U),Ne=Math.ceil(ee.length/U),Se=oe=>{o(oe),a(!0)},ue=()=>{a(!1),o(null),D("")},xe=oe=>{switch(oe?.toUpperCase()){case"HIGH":return"bg-red-100 text-red-800";case"MEDIUM":return"bg-orange-100 text-orange-800";case"LOW":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},R=oe=>{switch(oe){case"submitted":return s.jsx(pi,{className:"w-4 h-4 text-green-600"});case"graded":return s.jsx(Zd,{className:"w-4 h-4 text-blue-600"});case"late":return s.jsx(_n,{className:"w-4 h-4 text-red-600"});default:return s.jsx(_n,{className:"w-4 h-4 text-orange-600"})}},G=oe=>oe?new Date(oe).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",ne=p.filter(oe=>oe.status==="submitted").length;p.filter(oe=>oe.status==="graded").length;const ae=p.filter(oe=>oe.status==="late").length;return C&&p.length===0?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"text-lg",children:"Loading submitted assignments..."})}):s.jsxs("div",{className:"space-y-6 h-screen overflow-y-scroll overflow-x-scroll",children:[E&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:E}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Submitted Assignments"}),s.jsx("p",{className:"text-gray-600",children:"View and manage student assignment submissions"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("div",{className:"bg-green-100 text-green-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Total Submissions: ",p.length]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search assignments, students...",value:t,onChange:oe=>r(oe.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("select",{value:A,onChange:oe=>m(oe.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"All",children:"All Classes"}),b.map(oe=>{const he=`${oe.className} ${oe.section}`.trim();return s.jsx("option",{value:he,children:he},oe._id)})]}),s.jsxs("select",{value:l,onChange:oe=>c(oe.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"All",children:"All Subjects"}),y.map(oe=>s.jsx("option",{value:oe,children:oe},oe))]}),s.jsxs("select",{value:u,onChange:oe=>f(oe.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"All",children:"All Status"}),s.jsx("option",{value:"submitted",children:"Submitted"}),s.jsx("option",{value:"graded",children:"Graded"}),s.jsx("option",{value:"late",children:"Late"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("div",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs font-medium",children:["Submitted (",ne,")"]}),s.jsxs("div",{className:"bg-red-100 text-red-800 px-2 py-1 rounded text-xs font-medium",children:["Late (",ae,")"]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-max",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Student Info"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Roll No"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Class"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Section"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Subject"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Due Date"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Submitted Date"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority/Grade"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),s.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:de.map(oe=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ns,{className:"w-5 h-5 text-gray-400 mr-2"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:oe.studentName}),s.jsx("div",{className:"text-xs text-gray-500",children:"Student"})]})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("span",{className:"text-sm font-mono text-gray-900 bg-gray-100 px-2 py-1 rounded",children:oe.rollNo})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:oe.class})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-purple-100 text-purple-800 rounded-full",children:oe.section||"N/A"})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ln,{className:"w-4 h-4 text-blue-600 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-blue-600",children:oe.subject})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"max-w-xs",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:oe.title}),s.jsx("div",{className:"text-xs text-gray-500 mt-1 truncate",children:oe.description})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(en,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("div",{className:"text-sm text-gray-900",children:G(oe.dueDate)})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(pi,{className:"w-4 h-4 text-green-600 mr-2"}),s.jsx("div",{className:"text-sm text-green-600 font-medium",children:G(oe.submittedDate)})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${xe(oe.priority)}`,children:oe.status==="graded"&&oe.grade?oe.grade:oe.priority})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center",children:[R(oe.status),s.jsx("span",{className:`ml-2 text-sm font-medium capitalize ${oe.status==="submitted"||oe.status==="graded"?"text-green-600":oe.status==="late"?"text-red-600":"text-orange-600"}`,children:oe.status})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("div",{className:"flex space-x-2",children:s.jsx("button",{onClick:()=>Se(oe),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",title:"View Details",children:s.jsx(Ds,{className:"w-4 h-4"})})})})]},oe.id))})]})}),ee.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Jr,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No submitted assignments found"})]}),ee.length>0&&s.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-t bg-gray-50",children:[s.jsx("button",{onClick:()=>H(oe=>Math.max(1,oe-1)),disabled:Q===1,className:"px-4 py-2 bg-blue-500 text-white rounded disabled:bg-gray-300",children:"Previous"}),s.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",Q," of ",Ne]}),s.jsx("button",{onClick:()=>H(oe=>Math.min(Ne,oe+1)),disabled:Q===Ne,className:"px-4 py-2 bg-blue-500 text-white rounded disabled:bg-gray-300",children:"Next"})]})]}),n&&i&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Assignment Submission Details"}),s.jsx("button",{onClick:ue,className:"text-gray-500 hover:text-gray-700",children:s.jsx(sr,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[s.jsx(Ns,{className:"w-5 h-5 mr-2"}),"Student Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),s.jsx("p",{className:"text-sm text-gray-900",children:i.studentName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Roll Number"}),s.jsx("p",{className:"text-sm text-gray-900",children:i.rollNo})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Class"}),s.jsx("p",{className:"text-sm text-gray-900",children:i.class})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Section"}),s.jsx("p",{className:"text-sm text-gray-900",children:i.section||"N/A"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[s.jsx(Ln,{className:"w-5 h-5 mr-2"}),"Assignment Details"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subject"}),s.jsx("p",{className:"text-sm text-gray-900",children:i.subject})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Priority"}),s.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${xe(i.priority)}`,children:i.priority})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),s.jsx("p",{className:"text-sm text-gray-900",children:i.title})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),s.jsx("p",{className:"text-sm text-gray-900",children:i.description})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Class"}),s.jsx("p",{className:"text-sm text-gray-900",children:i.class})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Section"}),s.jsx("p",{className:"text-sm text-gray-900",children:i.section||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Due Date"}),s.jsx("p",{className:"text-sm text-gray-900",children:G(i.dueDate)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Submitted Date"}),s.jsx("p",{className:"text-sm text-green-600 font-medium",children:G(i.submittedDate)})]})]})]}),(i.attachments?.length>0||i.studentComments)&&s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[s.jsx(pi,{className:"w-5 h-5 mr-2"}),"Submission Details"]}),i.studentComments&&s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student Comments"}),s.jsx("p",{className:"text-sm text-gray-900 bg-white p-3 rounded border",children:i.studentComments})]}),i.attachments?.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attachments"}),s.jsx("div",{className:"space-y-2",children:i.attachments.map((oe,he)=>{const me=Z(oe);return s.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Cs,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:oe.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:[oe.type," •"," ",(oe.size/1024).toFixed(1)," KB"]})]})]}),me&&s.jsx("a",{href:me,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",title:"View/Download file",children:s.jsx(Cs,{className:"w-4 h-4"})})]},he)})})]})]}),i.status==="graded"&&s.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[s.jsx(Zd,{className:"w-5 h-5 mr-2"}),"Grading Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Grade"}),s.jsx("p",{className:"text-lg font-bold text-blue-600",children:i.grade})]}),i.teacherComments&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Teacher Comments"}),s.jsx("p",{className:"text-sm text-gray-900",children:i.teacherComments})]})]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx("button",{type:"button",onClick:ue,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Close"})})]})]})})]})},rCe="https://vidyaastra.com/api",ub=I5("subjects/fetchSubjects",async t=>(await Ft.get(`${rCe}/subject/${t}/subjects`)).data),nCe=ul({name:"subjects",initialState:{subjects:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ub.pending,r=>{r.loading=!0}).addCase(ub.fulfilled,(r,n)=>{r.loading=!1,r.subjects=n.payload}).addCase(ub.rejected,(r,n)=>{r.loading=!1,r.error=n.error.message})}}),sCe=nCe.reducer;xL(Lr);const aCe=()=>{const t=localStorage.getItem("schoolId"),[r,n]=w.useState("Unknown School"),[a,i]=w.useState("#2563eb"),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[f,A]=w.useState(null),[m,p]=w.useState(null),[g,b]=w.useState(""),[v,y]=w.useState(""),[j,C]=w.useState(""),[S,E]=w.useState(!1),[D,k]=w.useState(""),[L,I]=w.useState([]),[Y,Q]=w.useState([]),[H,U]=w.useState(1),[K]=w.useState(10),X=localStorage.getItem("schoolLogo"),Z="https://vidyaastra.com/api/results",ee="https://vidyaastra.com/api/students",de=`https://vidyaastra.com/api/schools/${t}`,Ne=In(Ce=>Ce.classes.classes?.data||[]),Se=In(Ce=>Ce.classes.loading),ue=In(Ce=>Ce.classes.error),xe=In(Ce=>Ce.subjects.subjects?.data||[]),R=In(Ce=>Ce.subjects.loading),G=In(Ce=>Ce.subjects.error);w.useEffect(()=>{const Ce=localStorage.getItem("color");Ce&&i(Ce)},[]);const ne=w.useMemo(()=>Ne.map(Ce=>({_id:Ce._id,className:Ce.className||`Class ${Ce.classNumber||Ce._id}`,section:Ce.section||"",displayName:`${Ce.className||`Class ${Ce.classNumber||Ce._id}`}${Ce.section?` ${Ce.section}`:""}`.trim()})),[Ne]),ae=w.useMemo(()=>Array.from(new Set(ne.map(Ce=>Ce.className))).sort(),[ne]),oe=w.useMemo(()=>v?Array.from(new Set(ne.filter(Ce=>Ce.className===v&&Ce.section).map(Ce=>Ce.section))).sort():Array.from(new Set(ne.map(Ce=>Ce.section).filter(Boolean))).sort(),[ne,v]),he=w.useMemo(()=>xe.map(Ce=>({_id:Ce._id,name:Ce.SubjectName||Ce.name||Ce.subjectName||"Unnamed Subject"})),[xe]),[me,te]=w.useState({examType:"",classId:"",studentId:"",examDate:"",subjects:[{subjectName:"",maxMarks:"",scoredMarks:"",grade:""}]});w.useEffect(()=>{t&&(Ae(),V(),ie())},[t]),w.useEffect(()=>{ue&&k("Failed to load classes: "+ue),G&&k("Failed to load subjects: "+G)},[ue,G]),w.useEffect(()=>{U(1)},[g,v,j]);const Ae=async()=>{try{const Ce=await fetch(de,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(Ce.ok){const tt=await Ce.json();tt.success&&tt.data?n(tt.data.name||"Unknown School"):n("Unknown School")}else n("Unknown School")}catch(Ce){console.error("Error fetching school name:",Ce),n("Unknown School")}},V=async()=>{if(t)try{const Ce=await fetch(`${ee}?schoolId=${t}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!Ce.ok)throw new Error(`HTTP error! Status: ${Ce.status}`);const tt=await Ce.json();let gt=Array.isArray(tt)?tt:tt.success&&Array.isArray(tt.data)?tt.data:[];if(!gt.length)throw new Error("Invalid students data structure");const Kt=gt.filter(Ke=>Ke.schoolId===t||Ke.schoolId?._id===t).map(Ke=>({_id:Ke._id||Ke.id,name:Ke.name||Ke.fullName||"Unknown",rollNumber:Ke.rollNumber||Ke.roll||"N/A",schoolId:Ke.schoolId}));I(Kt)}catch(Ce){console.error("Error fetching students:",Ce),k("Failed to fetch students: "+Ce.message)}},ie=async()=>{if(t)try{const Ce=await fetch(`${Z}/results/${t}?limit=10000`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(Ce.ok){const tt=await Ce.json();tt.success?Q(tt.data||[]):(Q([]),k(tt.message||"Failed to fetch results"))}else Q([]),k("Failed to fetch results")}catch(Ce){console.error("Error fetching results:",Ce),Q([]),k("Error fetching results: "+Ce.message)}},pe=(Ce,tt)=>{if(!Ce||!tt||tt<=0)return"N/A";const gt=Ce/tt*100;return gt>=95?"A+":gt>=85?"A":gt>=75?"B+":gt>=65?"B":gt>=55?"C+":gt>=45?"C":"F"},ye=(Ce,tt)=>{const{name:gt,value:Kt}=Ce.target;te(tt!==void 0?Ke=>{const Tt=[...Ke.subjects];if(Tt[tt]={...Tt[tt],[gt]:Kt},gt==="scoredMarks"||gt==="maxMarks"){const wt=parseFloat(Tt[tt].scoredMarks)||0,Dt=parseFloat(Tt[tt].maxMarks)||1;Tt[tt].grade=pe(wt,Dt)}return{...Ke,subjects:Tt}}:Ke=>({...Ke,[gt]:Kt}))},ge=()=>{te(Ce=>({...Ce,subjects:[...Ce.subjects,{subjectName:"",maxMarks:"",scoredMarks:"",grade:""}]}))},le=Ce=>{te(tt=>({...tt,subjects:tt.subjects.filter((gt,Kt)=>Kt!==Ce)}))},Qe=async()=>{if(!t){mr.error("Error: School ID not found. Please login again.");return}k("");try{if(!me.examType||!me.classId||!me.studentId||!me.examDate||me.subjects.length===0||me.subjects.some(gt=>!gt.subjectName||!gt.maxMarks||!gt.scoredMarks||parseFloat(gt.scoredMarks)>parseFloat(gt.maxMarks))){mr.error("Please fill all required fields for each subject and ensure scored marks are not greater than max marks.");return}const Ce={classId:me.classId,examType:me.examType,date:me.examDate,subjects:me.subjects.map(gt=>({subjectName:gt.subjectName,maxMarks:parseFloat(gt.maxMarks),scoredMarks:parseFloat(gt.scoredMarks),grade:gt.grade}))};(m?await se(m._id,Ce,me.studentId):await ce(Ce,me.studentId))&&Re()}catch(Ce){console.error("Submit error:",Ce),k("Failed to submit: "+Ce.message)}},ce=async(Ce,tt)=>{try{E(!0);const Kt=await(await fetch(`${Z}/${t}/${tt}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({results:[Ce]})})).json();return Kt.success?(mr.success("Result created successfully."),await ie(),!0):(k(Kt.message||"Failed to create result"),mr.error("Error: "+(Kt.message||"Failed to create result")),!1)}catch(gt){return k("Error creating result: "+gt.message),mr.error("Error creating result: "+gt.message),!1}finally{E(!1)}},se=async(Ce,tt,gt)=>{try{E(!0);const Ke=await(await fetch(`${Z}/${t}/${gt}/${Ce}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({updateFields:tt})})).json();return Ke.success?(mr.success("Result updated successfully."),await ie(),!0):(k(Ke.message||"Failed to update result"),mr.error("Error: "+(Ke.message||"Failed to update result")),!1)}catch(Kt){return k("Error updating result: "+Kt.message),mr.error("Error updating result: "+Kt.message),!1}finally{E(!1)}},je=Ce=>{p(Ce),te({examType:Ce.examType||"",classId:Ce.classId?._id||Ce.classId||"",studentId:Ce.studentId?._id||Ce.studentId||"",examDate:Ce.date?new Date(Ce.date).toISOString().split("T")[0]:"",subjects:Ce.subjects?.length?Ce.subjects.map(tt=>({subjectName:tt.subjectName||"",maxMarks:tt.maxMarks?.toString()||"",scoredMarks:tt.scoredMarks?.toString()||"",grade:tt.grade||""})):[{subjectName:"",maxMarks:"",scoredMarks:"",grade:""}]}),l(!0)},we=async Ce=>{if(confirm("Are you sure you want to delete this item?"))try{E(!0);const gt=await(await fetch(`${Z}/${t}/${Ce.studentId._id}/${Ce._id}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).json();gt.success?(mr.success("Item deleted successfully."),await ie()):(k(gt.message||"Failed to delete item"),mr.error("Error: "+(gt.message||"Failed to delete item")))}catch(tt){k("Error deleting item: "+tt.message),mr.error("Error deleting item: "+tt.message)}finally{E(!1)}},q=Ce=>{A(Ce),u(!0)},be=()=>{u(!1),A(null)},Ee=()=>{if(!f||!f.subjects){mr.error("Error: No valid result data available to download.");return}const Ce=new Lr,tt=Ce.internal.pageSize.getWidth(),gt=Ce.internal.pageSize.getHeight(),Kt=15;let Ke=15;const Tt=()=>{Ce.setFont("helvetica","bold"),Ce.setFontSize(24),Ce.setTextColor(0,51,102),Ce.text(r.toUpperCase(),tt/2,Ke,{align:"center"}),Ke+=10,Ce.setFontSize(16),Ce.setTextColor(0,0,0),Ce.text("Examination Result Sheet",tt/2,Ke,{align:"center"}),Ke+=10,Ce.setDrawColor(0,51,102),Ce.setLineWidth(.5),Ce.line(Kt,Ke,tt-Kt,Ke),Ke+=10,Ce.setFont("helvetica","normal"),Ce.setFontSize(12),Ce.text(`Student: ${it(f.studentId)}`,Kt,Ke),Ke+=7,Ce.text(`Roll Number: ${et(f.studentId)}`,Kt,Ke),Ke+=7,Ce.text(`Class: ${Ct(f.classId)}`,Kt,Ke),Ke+=7,Ce.text(`Exam Type: ${f.examType||"N/A"}`,Kt,Ke),Ke+=10;const Dt=f.subjects.map(kn=>[kn.subjectName||"N/A",kn.maxMarks?.toString()||"0",kn.scoredMarks?.toString()||"0",kn.maxMarks>0?`${(kn.scoredMarks/kn.maxMarks*100).toFixed(1)}%`:"0%",kn.grade||"N/A"]),ir=f.subjects.reduce((kn,xr)=>kn+(xr.scoredMarks||0),0),Dr=f.subjects.reduce((kn,xr)=>kn+(xr.maxMarks||0),0),Xr=Dr>0?(ir/Dr*100).toFixed(1):0,hs=pe(ir,Dr);Ce.autoTable({startY:Ke,head:[["Subject","Max Marks","Scored Marks","Percentage","Grade"]],body:Dt,theme:"grid",headStyles:{fillColor:[0,51,102],textColor:[255,255,255],fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]},margin:{left:Kt,right:Kt},styles:{fontSize:10,cellPadding:3}}),Ke=Ce.lastAutoTable.finalY+10,Ce.setFont("helvetica","bold"),Ce.setFontSize(12),Ce.text(`Total Marks: ${ir}/${Dr}`,Kt,Ke),Ke+=7,Ce.text(`Overall Percentage: ${Xr}%`,Kt,Ke),Ke+=7,Ce.text(`Overall Grade: ${hs}`,Kt,Ke),Ke+=10,Ce.setFont("helvetica","italic"),Ce.setFontSize(10),Ce.setTextColor(100),Ce.text(`Generated on: ${new Date().toLocaleDateString()}`,Kt,gt-30),Ce.text("Authorized by: ____________________",tt-Kt-60,gt-30),Ce.setDrawColor(0,51,102),Ce.setLineWidth(.2),Ce.line(Kt,gt-35,tt-Kt,gt-35)},wt=()=>{const Dt=it(f.studentId).replace(/\s+/g,"_"),ir=f.examType||"N_A";Ce.save(`result_${Dt}_${ir}.pdf`)};if(X)try{const Dt=new Image;Dt.src=X,Dt.onload=()=>{Ce.addImage(Dt,"PNG",Kt,Ke,30,30),Ke+=35,Tt(),wt()},Dt.onerror=()=>{console.warn("Failed to load logo, proceeding without it."),Tt(),wt()}}catch(Dt){console.warn("Error adding logo to PDF, proceeding without it:",Dt),Tt(),wt()}else Tt(),wt()},Re=()=>{te({examType:"",classId:"",studentId:"",examDate:"",subjects:[{subjectName:"",maxMarks:"",scoredMarks:"",grade:""}]}),p(null),l(!1),k("")},it=Ce=>Ce?.name||"Unknown Student",et=Ce=>Ce?.rollNumber||"N/A",Ct=w.useCallback(Ce=>Ce?`${Ce.className||`Class ${Ce._id}`}${Ce.section?` ${Ce.section}`:""}`.trim():"N/A",[]),_t=Ce=>{const tt=Ce.subjects.reduce((Tt,wt)=>Tt+(wt.scoredMarks||0),0),gt=Ce.subjects.reduce((Tt,wt)=>Tt+(wt.maxMarks||0),0),Kt=gt>0?(tt/gt*100).toFixed(1):0,Ke=pe(tt,gt);return{totalScored:tt,totalMax:gt,percentage:Kt,grade:Ke}},ot=Y.map(Ce=>({...Ce,className:Ct(ne.find(tt=>tt._id===(Ce.classId?._id||Ce.classId))),summary:_t(Ce)})).filter(Ce=>[Ce.examType||"",Ce.className,it(Ce.studentId),...Ce.subjects.map(gt=>gt.subjectName||"")].some(gt=>gt.toLowerCase().includes(g.toLowerCase()))).filter(Ce=>{if(!v)return!0;const tt=ne.find(Ke=>Ke._id===(Ce.classId?._id||Ce.classId));if(!tt)return!1;const[gt,Kt]=tt.displayName.split(" ");return gt===v&&(!j||Kt===j)}),Ie=Math.ceil(ot.length/K),qe=ot.slice((H-1)*K,H*K),at=()=>{H>1&&U(Ce=>Ce-1)},Ut=()=>{H<Ie&&U(Ce=>Ce+1)},Ue=Ce=>{U(Ce)},At=()=>{y(""),C(""),b(""),U(1)};return t?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:Ot("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:a},children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4",children:s.jsxs("div",{className:"mb-4 md:mb-0",children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Exam Results Management"}),s.jsxs("div",{className:"text-white text-sm opacity-75 mt-1",children:["School: ",r," | ID: ",t," |"," ",ne.length," classes | ",L.length," students |"," ",he.length," subjects"]})]})})})}),s.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[D&&s.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-lg",children:[s.jsx(ln,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"block sm:inline text-sm",children:D}),s.jsx("button",{onClick:()=>k(""),className:"ml-auto text-red-700 hover:text-red-900 flex-shrink-0",children:s.jsx(sr,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(xn,{className:"absolute left-3 top-3",style:{color:a}}),s.jsx("input",{type:"text",placeholder:"Search by exam type, student, or subject...",value:g,onChange:Ce=>b(Ce.target.value),className:Ot("pl-10 pr-4 py-2 border border-gray-300 rounded-xl w-full","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:a}})]}),s.jsxs("select",{value:v,onChange:Ce=>{y(Ce.target.value),C(""),U(1)},className:Ot("border border-gray-300 rounded-xl px-4 py-2","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:a},children:[s.jsx("option",{value:"",children:"All Classes"}),ae.map(Ce=>s.jsx("option",{value:Ce,children:Ce},Ce))]}),s.jsxs("select",{value:j,onChange:Ce=>{C(Ce.target.value),U(1)},className:Ot("border border-gray-300 rounded-xl px-4 py-2",!v&&"opacity-50 cursor-not-allowed"),style:{focusRingColor:a},disabled:!v,children:[s.jsx("option",{value:"",children:v&&oe.length===0?"No sections available":"All Sections"}),oe.map(Ce=>s.jsx("option",{value:Ce,children:Ce},Ce))]}),s.jsx("button",{onClick:At,className:Ot("px-4 py-2 border border-gray-300 rounded-xl text-gray-700","hover:bg-gray-50 transition-all duration-200"),style:{borderColor:a},children:"Reset Filters"}),s.jsxs("button",{onClick:()=>l(!0),className:Ot("text-white px-6 py-2 rounded-xl flex items-center font-semibold","hover:opacity-90 transition-all duration-200","disabled:opacity-50"),style:{backgroundColor:a},disabled:S||Se||R||ne.length===0||he.length===0||L.length===0,title:S||Se||R?"Loading...":ne.length===0?"No classes available":he.length===0?"No subjects available":L.length===0?"No students available":"Add Result",children:[S||Se||R?s.jsx(br,{className:"mr-2 animate-spin",style:{color:"white"}}):s.jsx($s,{className:"mr-2",style:{color:"white"}}),"Add Result"]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden",children:[S&&s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(br,{className:"animate-spin mx-auto mb-4",size:32,style:{color:a}}),s.jsx("p",{className:"text-gray-600",children:"Loading..."})]}),!S&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Exam Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Marks"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Percentage"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Overall Grade"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:qe.map(Ce=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:Ce.examType||"N/A"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:Ce.className})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[it(Ce.studentId)," (",et(Ce.studentId),")"]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[Ce.summary.totalScored,"/",Ce.summary.totalMax]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[Ce.summary.percentage,"%"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full text-white",style:{backgroundColor:Ce.summary.grade==="A+"?"#16a34a":Ce.summary.grade==="A"?"#22c55e":Ce.summary.grade==="B+"?a:Ce.summary.grade==="B"?"#eab308":Ce.summary.grade==="C+"?"#f97316":Ce.summary.grade==="C"?"#ef4444":"#dc2626"},children:Ce.summary.grade})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[s.jsx("button",{onClick:()=>q(Ce),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",disabled:S,title:"View Result",style:{color:a},children:s.jsx(Ds,{})}),s.jsx("button",{onClick:()=>je(Ce),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",disabled:S,title:"Edit",style:{color:a},children:s.jsx(Lo,{})}),s.jsx("button",{onClick:()=>we(Ce),className:"p-2 hover:bg-gray-100 rounded-full transition-colors text-red-500 hover:text-red-700",disabled:S,title:"Delete",children:s.jsx(Ss,{})})]})]},Ce._id||Ce.id))})]})}),!S&&ot.length>0&&s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center px-6 py-4 border-t border-gray-200",children:[s.jsxs("div",{className:"text-sm text-gray-600 mb-2 sm:mb-0",children:["Page ",H," of ",Ie]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:at,disabled:H===1,className:Ot("px-4 py-2 bg-gray-100 text-gray-700 rounded-lg","hover:bg-gray-200 disabled:opacity-50 transition-colors"),children:s.jsx(co,{})}),[...Array(Ie)].map((Ce,tt)=>{const gt=tt+1;return s.jsx("button",{onClick:()=>Ue(gt),className:Ot("px-3 py-1 rounded-lg border border-gray-300",H===gt?"text-white":"hover:bg-gray-100"),style:{backgroundColor:H===gt?a:"transparent"},children:gt},gt)}),s.jsx("button",{onClick:Ut,disabled:H===Ie,className:Ot("px-4 py-2 bg-gray-100 text-gray-700 rounded-lg","hover:bg-gray-200 disabled:opacity-50 transition-colors"),children:s.jsx(xi,{})})]})]}),!S&&ot.length===0&&s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx("div",{className:"text-lg mb-2",children:"No results found"}),s.jsx("div",{className:"text-sm",children:g||v||j?"Try adjusting your search terms or filters":"Click 'Add Result' to create your first entry"})]})]})]})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[s.jsxs("div",{className:Ot("text-white p-6 rounded-t-2xl flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:a},children:[s.jsx("h2",{className:"text-xl font-bold",children:m?"Edit Result":"Add Result"}),s.jsx("button",{onClick:Re,className:"flex items-center justify-center w-8 h-8 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:s.jsx(sr,{size:24,style:{color:"white"}})})]}),s.jsxs("div",{className:"p-6",children:[(Se||R)&&s.jsxs("div",{className:"text-center py-4",children:[s.jsx(br,{className:"w-6 h-6 mx-auto animate-spin mb-2",style:{color:a}}),s.jsx("p",{className:"text-sm text-gray-600",children:"Loading classes and subjects..."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("select",{name:"examType",value:me.examType,onChange:ye,className:Ot("w-full px-4 py-3 border border-gray-300 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:a},required:!0,children:[s.jsx("option",{value:"",children:"Select Exam Type"}),["Midterm","Final","Unit Test","Quiz","Practical","Other"].map(Ce=>s.jsx("option",{value:Ce,children:Ce},Ce))]}),s.jsxs("select",{name:"studentId",value:me.studentId,onChange:ye,className:Ot("w-full px-4 py-3 border border-gray-300 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:a},required:!0,children:[s.jsx("option",{value:"",children:"Select Student"}),L.length===0?s.jsx("option",{value:"",disabled:!0,children:"No students available"}):L.map(Ce=>s.jsxs("option",{value:Ce._id,children:[Ce.name," (",Ce.rollNumber,")"]},Ce._id))]}),s.jsxs("select",{name:"classId",value:me.classId,onChange:ye,className:Ot("w-full px-4 py-3 border border-gray-300 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:a},disabled:Se,required:!0,children:[s.jsx("option",{value:"",children:"Select Class"}),ne.length===0?s.jsx("option",{value:"",disabled:!0,children:"No classes available"}):ne.map(Ce=>s.jsx("option",{value:Ce._id,children:Ce.displayName},Ce._id))]}),s.jsx("input",{type:"date",name:"examDate",value:me.examDate,onChange:ye,className:Ot("w-full px-4 py-3 border border-gray-300 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:a},required:!0}),s.jsxs("div",{className:"space-y-4",children:[me.subjects.map((Ce,tt)=>s.jsxs("div",{className:"border p-4 rounded-xl relative",children:[s.jsx("button",{type:"button",onClick:()=>le(tt),className:"absolute top-2 right-2 text-red-500 hover:text-red-700",disabled:me.subjects.length===1,children:s.jsx(BG,{})}),s.jsxs("select",{name:"subjectName",value:Ce.subjectName,onChange:gt=>ye(gt,tt),className:Ot("w-full px-4 py-3 border border-gray-300 rounded-xl mb-2","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:a},required:!0,children:[s.jsx("option",{value:"",children:"Select Subject"}),he.length===0?s.jsx("option",{value:"",disabled:!0,children:"No subjects available"}):he.map(gt=>s.jsx("option",{value:gt.name,children:gt.name},gt._id))]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("input",{type:"number",name:"scoredMarks",placeholder:"Scored Marks",value:Ce.scoredMarks,onChange:gt=>ye(gt,tt),className:Ot("px-4 py-3 border border-gray-300 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:a},required:!0,min:"0",step:"0.1"}),s.jsx("input",{type:"number",name:"maxMarks",placeholder:"Max Marks",value:Ce.maxMarks,onChange:gt=>ye(gt,tt),className:Ot("px-4 py-3 border border-gray-300 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:a},required:!0,min:"1",step:"0.1"})]}),s.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Grade: ",Ce.grade||"N/A"]})]},tt)),s.jsxs("button",{type:"button",onClick:ge,className:"flex items-center text-white px-4 py-2 rounded-xl font-semibold hover:opacity-90 transition-all duration-200",style:{backgroundColor:a},children:[s.jsx($s,{className:"mr-2",style:{color:"white"}}),"Add Subject"]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200",children:[s.jsx("button",{onClick:Re,className:Ot("flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-xl font-semibold","hover:bg-gray-50 transition-colors disabled:opacity-50"),disabled:S,children:"Cancel"}),s.jsx("button",{onClick:Qe,className:Ot("flex-1 py-3 px-6 text-white rounded-xl font-semibold","hover:opacity-90 transition-all duration-200 flex items-center justify-center space-x-2","disabled:opacity-50"),style:{backgroundColor:a},disabled:S||Se||R||!me.examType||!me.classId||!me.studentId||me.subjects.length===0||me.subjects.some(Ce=>!Ce.subjectName||!Ce.maxMarks||!Ce.scoredMarks),children:S?s.jsxs(s.Fragment,{children:[s.jsx(br,{className:"w-4 h-4 animate-spin",style:{color:"white"}}),s.jsx("span",{children:m?"Updating...":"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ro,{className:"w-4 h-4",style:{color:"white"}}),s.jsx("span",{children:m?"Update":"Save"})]})})]})]})]})}),c&&f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl",children:[s.jsxs("div",{className:Ot("text-white p-6 rounded-t-2xl flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:a},children:[s.jsx("h2",{className:"text-xl font-bold",children:"Result Sheet"}),s.jsx("button",{onClick:be,className:"flex items-center justify-center w-8 h-8 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:s.jsx(sr,{size:24,style:{color:"white"}})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[X&&s.jsx("img",{src:X,alt:"School Logo",className:"h-16 mx-auto mb-4"}),s.jsx("h3",{className:"text-3xl font-bold text-gray-800 uppercase",children:r}),s.jsx("p",{className:"text-lg font-semibold text-gray-600",children:"Examination Result Sheet"})]}),s.jsxs("div",{className:"border-t border-b border-gray-300 py-4 mb-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-semibold text-gray-700",children:"Student:"}),s.jsx("span",{className:"text-gray-900",children:it(f.studentId)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-semibold text-gray-700",children:"Roll Number:"}),s.jsx("span",{className:"text-gray-900",children:et(f.studentId)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-semibold text-gray-700",children:"Class:"}),s.jsx("span",{className:"text-gray-900",children:Ct(f.classId)})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-semibold text-gray-700",children:"Exam Type:"}),s.jsx("span",{className:"text-gray-900",children:f.examType||"N/A"})]})]}),s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("th",{className:"border p-2 text-left text-sm font-semibold text-gray-700",children:"Subject"}),s.jsx("th",{className:"border p-2 text-left text-sm font-semibold text-gray-700",children:"Max Marks"}),s.jsx("th",{className:"border p-2 text-left text-sm font-semibold text-gray-700",children:"Scored Marks"}),s.jsx("th",{className:"border p-2 text-left text-sm font-semibold text-gray-700",children:"Percentage"}),s.jsx("th",{className:"border p-2 text-left text-sm font-semibold text-gray-700",children:"Grade"})]})}),s.jsx("tbody",{children:f.subjects.map((Ce,tt)=>s.jsxs("tr",{className:tt%2===0?"bg-gray-50":"bg-white",children:[s.jsx("td",{className:"border p-2 text-sm text-gray-900",children:Ce.subjectName}),s.jsx("td",{className:"border p-2 text-sm text-gray-900",children:Ce.maxMarks}),s.jsx("td",{className:"border p-2 text-sm text-gray-900",children:Ce.scoredMarks}),s.jsxs("td",{className:"border p-2 text-sm text-gray-900",children:[(Ce.scoredMarks/Ce.maxMarks*100).toFixed(1),"%"]}),s.jsx("td",{className:"border p-2 text-sm",children:s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full text-white",style:{backgroundColor:Ce.grade==="A+"?"#16a34a":Ce.grade==="A"?"#22c55e":Ce.grade==="B+"?a:Ce.grade==="B"?"#eab308":Ce.grade==="C+"?"#f97316":Ce.grade==="C"?"#ef4444":"#dc2626"},children:Ce.grade})})]},tt))}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"bg-gray-100 font-semibold",children:[s.jsx("td",{className:"border p-2 text-sm text-gray-900",children:"Total"}),s.jsx("td",{className:"border p-2 text-sm text-gray-900",children:f.subjects.reduce((Ce,tt)=>Ce+tt.maxMarks,0)}),s.jsx("td",{className:"border p-2 text-sm text-gray-900",children:f.subjects.reduce((Ce,tt)=>Ce+tt.scoredMarks,0)}),s.jsxs("td",{className:"border p-2 text-sm text-gray-900",children:[_t(f).percentage,"%"]}),s.jsx("td",{className:"border p-2 text-sm",children:s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full text-white",style:{backgroundColor:_t(f).grade==="A+"?"#16a34a":_t(f).grade==="A"?"#22c55e":_t(f).grade==="B+"?a:_t(f).grade==="B"?"#eab308":_t(f).grade==="C+"?"#f97316":_t(f).grade==="C"?"#ef4444":"#dc2626"},children:_t(f).grade})})]})})]})]}),s.jsxs("div",{className:"text-sm text-gray-500 italic mb-4",children:[s.jsxs("p",{children:["Generated on: ",new Date().toLocaleDateString()]}),s.jsx("p",{children:"Authorized by: ____________________"})]}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsxs("button",{onClick:Ee,className:Ot("text-white px-6 py-2 rounded-xl flex items-center font-semibold","hover:opacity-90 transition-all duration-200"),style:{backgroundColor:a},children:[s.jsx(Ro,{className:"mr-2",style:{color:"white"}}),"Download PDF"]})})]})]})}),s.jsx(L5,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-md max-w-md",children:[s.jsx(ln,{className:"w-16 h-16 mx-auto mb-4",style:{color:a}}),s.jsx("div",{className:"text-red-500 text-xl mb-4",children:"School ID not found"}),s.jsx("div",{className:"text-gray-600 mb-4",children:"Please login again to access the exam system."}),s.jsx("button",{onClick:()=>window.location.reload(),className:Ot("px-4 py-2 text-white rounded-xl font-semibold hover:opacity-90 transition-all duration-200","disabled:opacity-50"),style:{backgroundColor:a},children:"Refresh Page"})]})})},iCe="https://vidyaastra.com/api/schools",oCe="https://vidyaastra.com/api/fee/all-unfiltered",lCe="https://vidyaastra.com/api/students",cCe="https://vidyaastra.com/api/classes",uCe=()=>{const[t,r]=w.useState(""),[n,a]=w.useState([]),[i,o]=w.useState(!0),[l,c]=w.useState(""),[u,f]=w.useState(""),[A,m]=w.useState(""),[p,g]=w.useState(""),[b,v]=w.useState(""),[y,j]=w.useState({start:"",end:""}),[C,S]=w.useState([]),[E,D]=w.useState({}),[k,L]=w.useState({}),[I,Y]=w.useState(1),[Q]=w.useState(10),[H,U]=w.useState(1),[K,X]=w.useState(0),[Z,ee]=w.useState(null);w.useEffect(()=>{(async()=>{o(!0);try{await de()}catch(te){c("Error fetching data: "+te.message)}finally{o(!1)}})()},[I]),w.useEffect(()=>{const me=async()=>{const te=localStorage.getItem("token"),Ae=[...new Set(C.map(V=>V.studentId?._id).filter(V=>V&&!E[V]))];if(Ae.length!==0)try{const V=Ae.map(async ye=>{try{const ge=await fetch(`${lCe}/${ye}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${te}`}});if(!ge.ok)throw new Error(`HTTP error! Status: ${ge.status}`);const le=await ge.json();if(!le.success)throw new Error(le.message||`Failed to fetch student ${ye}`);let Qe="N/A";const ce=le.data?.classId;if(ce){if(typeof ce=="object"){const se=ce.className||"N/A",je=ce.section||"";Qe=je?`${se} ${je}`:se}else if(typeof ce=="string")try{const se=await fetch(`${cCe}/${ce}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${te}`}});if(!se.ok)throw new Error(`HTTP error! Status: ${se.status}`);const je=await se.json();if(!je.success)throw new Error(je.message||`Failed to fetch class ${ce}`);const we=je.data?.className||"N/A",q=je.data?.section||"";Qe=q?`${we} ${q}`:we}catch(se){console.error(`Error fetching class for student ${ye}:`,se.message),Qe="N/A"}}return{id:ye,classWithSection:Qe}}catch(ge){return console.error(`Error fetching student ${ye}:`,ge.message),{id:ye,classWithSection:"N/A"}}}),pe=(await Promise.all(V)).reduce((ye,{id:ge,classWithSection:le})=>(ye[ge]=le,ye),{});D(ye=>({...ye,...pe}))}catch(V){c("Error fetching student classes: "+V.message)}};C.length>0&&me()},[C,E]),w.useEffect(()=>{const me=async()=>{const te=localStorage.getItem("token"),Ae=[...new Set(C.map(V=>V.schoolId).filter(V=>V&&!k[V]))];if(Ae.length!==0)try{const V=Ae.map(async ye=>{try{const ge=await fetch(`${iCe}/${ye}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${te}`}});if(!ge.ok)throw new Error(`HTTP error! Status: ${ge.status}`);const le=await ge.json();if(!le.success)throw new Error(le.message||`Failed to fetch school ${ye}`);return{id:ye,name:le.data?.name||"Unknown"}}catch(ge){return console.error(`Error fetching school ${ye}:`,ge.message),{id:ye,name:"Unknown"}}}),pe=(await Promise.all(V)).reduce((ye,{id:ge,name:le})=>(ye[ge]={name:le},ye),{});L(ye=>({...ye,...pe}))}catch(V){c("Error fetching school details: "+V.message)}};C.length>0&&me()},[C,k]),w.useEffect(()=>{if(C.length>0){const me=C.map(te=>{let Ae=te.status?te.status.charAt(0).toUpperCase()+te.status.slice(1):"Unknown";te.paid>0&&te.pending>0&&(Ae="Partial");const V=we=>{const q=new Date(we);return q instanceof Date&&!isNaN(q)},ie=(()=>{const q=te.installments.find(be=>be.status==="pending")||te.installments[0];return q?.dueDate&&V(q.dueDate)?new Date(q.dueDate).toISOString().split("T")[0]:"Unknown"})(),pe=te.installments.find(q=>q.status==="paid")?.paymentMethod||"N/A",ye=typeof te.totalAmount=="number"?te.totalAmount:0,ge=typeof te.paid=="number"?te.paid:0,le=typeof te.pending=="number"?te.pending:0,Qe={name:te.studentId?.name||"Unknown Student",rollNumber:te.studentId?.rollNumber||"Unknown",class:E[te.studentId?._id]||"N/A",schoolId:te.schoolId||"Unknown"},ce=te.schoolId,je=(k[ce]||{name:"Unknown"}).name;return{id:te._id||"Unknown",studentName:Qe.name,rollNumber:Qe.rollNumber,class:Qe.class,schoolId:Qe.schoolId,schoolName:je,paymentMethod:pe,amount:ye,paidAmount:ge,pendingAmount:le,dueDate:ie,status:Ae,installments:te.installments||[]}});a(me)}},[C,E,k]);const de=async()=>{try{const me=localStorage.getItem("token"),te=await fetch(`${oCe}?page=${I}&limit=${Q}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${me}`}});if(!te.ok)throw new Error(`HTTP error! Status: ${te.status}`);const Ae=await te.json();if(!Ae.success)throw new Error(Ae.message||"Failed to fetch fees");S(Ae.data||[]),U(Ae.totalPages||1),X(Ae.total||0)}catch(me){c("Error fetching fees: "+me.message)}},Ne=n.filter(me=>{const te=!t||me.studentName.toLowerCase().includes(t.toLowerCase())||me.rollNumber.includes(t)||me.class.toLowerCase().includes(t.toLowerCase())||me.paymentMethod.toLowerCase().includes(t.toLowerCase())||me.schoolName.toLowerCase().includes(t.toLowerCase()),Ae=!u||me.status===u,V=!A||me.class===A,ie=!p||me.paymentMethod===p,pe=!b||me.schoolName===b;let ye=!0;return y.start&&y.end&&(ye=me.dueDate!=="Unknown"&&me.dueDate>=y.start&&me.dueDate<=y.end),te&&Ae&&V&&ie&&pe&&ye}),Se=[...new Set(n.map(me=>me.class))].filter(me=>me&&me!=="N/A").sort(),ue=[...new Set(n.map(me=>me.paymentMethod))].filter(me=>me&&me!=="N/A").sort(),xe=["Paid","Partial","Pending"],R=[...new Set(n.map(me=>me.schoolName))].filter(me=>me&&me!=="Unknown").sort(),G=()=>{r(""),f(""),m(""),g(""),v(""),j({start:"",end:""}),Y(1)},ne=me=>{me>=1&&me<=H&&Y(me)},ae=()=>{if(Ne.length===0){alert("No data to export");return}const me=Ne.map(ye=>({"School Name":ye.schoolName,"Student Name":ye.studentName,"Roll Number":ye.rollNumber,Class:ye.class,"Payment Method":ye.paymentMethod,"Total Amount":ye.amount,"Paid Amount":ye.paidAmount,"Pending Amount":ye.pendingAmount,"Due Date":ye.dueDate,Status:ye.status})),te=Object.keys(me[0]),Ae=[te.join(","),...me.map(ye=>te.map(ge=>`"${ye[ge]||"N/A"}"`).join(","))].join(`
`),V=new Blob([Ae],{type:"text/csv;charset=utf-8;"}),ie=document.createElement("a"),pe=URL.createObjectURL(V);ie.setAttribute("href",pe),ie.setAttribute("download",`fees_${new Date().toISOString().split("T")[0]}.csv`),ie.style.visibility="hidden",document.body.appendChild(ie),ie.click(),document.body.removeChild(ie)},oe=me=>({Paid:{icon:kO,color:"text-green-700 bg-green-100"},Partial:{icon:hb,color:"text-orange-700 bg-orange-100"},Pending:{icon:Qx,color:"text-red-700 bg-red-100"}})[me]||{icon:Qx,color:"text-red-700 bg-red-100"},he=Ne.reduce((me,te)=>({total:me.total+(te.amount||0),paid:me.paid+(te.paidAmount||0),pending:me.pending+(te.pendingAmount||0)}),{total:0,paid:0,pending:0});return s.jsx("div",{className:"min-h-screen bg-gray-100 p-4",children:s.jsxs("div",{className:"max-w-full mx-auto",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-[#1C1444]",children:"Student Fee Management"}),s.jsxs("button",{onClick:ae,className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2",title:"Export to CSV",disabled:i,children:[s.jsx(MV,{})," ",s.jsx("span",{children:"Export CSV"})]})]}),s.jsxs("div",{className:"relative mb-4",children:[s.jsx(DO,{className:"absolute left-3 top-3 text-[#F37021]"}),s.jsx("input",{type:"text",placeholder:"Search by school, student name, roll number, class, or payment method...",value:t,onChange:me=>r(me.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] placeholder-gray-400",disabled:i})]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("span",{className:"text-sm text-[#1C1444]",children:["Showing ",Ne.length," of ",K," records"]})})}),s.jsxs("div",{className:"border-t pt-4 mt-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"School"}),s.jsxs("select",{value:b,onChange:me=>v(me.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white",children:[s.jsx("option",{value:"",children:"All Schools"}),R.map(me=>s.jsx("option",{value:me,children:me},me))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Class"}),s.jsxs("select",{value:A,onChange:me=>m(me.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white",children:[s.jsx("option",{value:"",children:"All Classes"}),Se.map(me=>s.jsx("option",{value:me,children:me},me))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Payment Method"}),s.jsxs("select",{value:p,onChange:me=>g(me.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white",children:[s.jsx("option",{value:"",children:"All Payment Methods"}),ue.map(me=>s.jsx("option",{value:me,children:me},me))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Status"}),s.jsxs("select",{value:u,onChange:me=>f(me.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white",children:[s.jsx("option",{value:"",children:"All Statuses"}),xe.map(me=>s.jsx("option",{value:me,children:me},me))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Due Date From"}),s.jsx("input",{type:"date",value:y.start,onChange:me=>j({...y,start:me.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Due Date To"}),s.jsx("input",{type:"date",value:y.end,onChange:me=>j({...y,end:me.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white"})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{onClick:G,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-[#1C1444]",children:"Clear All Filters"})})]})]}),i&&s.jsxs("div",{className:"p-6 text-center",children:[s.jsx(hb,{className:"w-12 h-12 text-[#F37021] mx-auto mb-4 animate-pulse"}),s.jsx("p",{className:"text-[#1C1444] text-lg",children:"Loading fee records..."})]}),l&&s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"bg-red-100 text-red-700 rounded-lg p-4 flex items-center",children:[s.jsx(Qx,{className:"w-5 h-5 mr-2"}),l]})}),!i&&!l&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[{value:`₹${he.total.toLocaleString()}`,label:"Total Fee",color:"text-[#1C1444]"},{value:`₹${he.paid.toLocaleString()}`,label:"Paid Amount",color:"text-green-600"},{value:`₹${he.pending.toLocaleString()}`,label:"Pending Amount",color:"text-red-600"}].map((me,te)=>s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[s.jsx("div",{className:`${me.color} text-xl font-bold`,children:me.value}),s.jsx("div",{className:"text-[#1C1444]",children:me.label})]},te))}),!i&&!l&&s.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsx("tr",{children:["School Name","Student Name","Roll No","Class","Payment Method","Amount","Paid","Pending","Due Date","Status","Actions"].map((me,te)=>s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-[#1C1444]",children:me},te))})}),s.jsxs("tbody",{className:"divide-y divide-gray-200",children:[Ne.map(me=>{const{icon:te,color:Ae}=oe(me.status);return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:me.schoolName}),s.jsx("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:me.studentName}),s.jsx("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:me.rollNumber}),s.jsx("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:me.class}),s.jsx("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:me.paymentMethod}),s.jsxs("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:["₹",me.amount.toLocaleString()]}),s.jsxs("td",{className:"px-4 py-3 text-sm text-green-600",children:["₹",me.paidAmount.toLocaleString()]}),s.jsxs("td",{className:"px-4 py-3 text-sm text-red-600",children:["₹",me.pendingAmount.toLocaleString()]}),s.jsx("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:me.dueDate}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${Ae}`,children:[te&&s.jsx(te,{className:"text-[#F37021]"})," ",me.status]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"flex space-x-2",children:s.jsx("button",{onClick:()=>{console.log("Setting viewingFee:",me),ee(me)},className:"text-[#F37021] hover:text-[#d65f1c]",children:s.jsx(PO,{})})})})]},me.id)}),Ne.length===0&&n.length>0&&s.jsx("tr",{children:s.jsx("td",{colSpan:"11",className:"px-4 py-8 text-center",children:s.jsxs("div",{className:"text-[#1C1444]",children:[s.jsx("p",{className:"mb-2",children:"No fee records match your current filters"}),s.jsx("button",{onClick:G,className:"text-[#F37021] hover:text-[#d65f1c] underline",children:"Clear all filters"})]})})}),Ne.length===0&&n.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:"11",className:"px-4 py-8 text-center text-[#1C1444]",children:"No fee records found"})})]})]})})}),!i&&!l&&K>0&&s.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm text-[#1C1444]",children:["Page ",I," of ",H]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>ne(I-1),disabled:I===1,className:"px-4 py-2 bg-gray-200 text-[#1C1444] rounded-lg disabled:opacity-50 hover:bg-gray-300",children:"Previous"}),s.jsx("button",{onClick:()=>ne(I+1),disabled:I===H,className:"px-4 py-2 bg-gray-200 text-[#1C1444] rounded-lg disabled:opacity-50 hover:bg-gray-300",children:"Next"})]})]}),Z&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto relative",children:[s.jsx("button",{onClick:()=>{console.log("Clearing viewingFee"),ee(null)},className:"absolute top-4 right-4 text-[#1C1444] hover:text-[#F37021] text-2xl font-bold transition-colors",children:"×"}),s.jsx("h2",{className:"text-2xl font-bold text-[#1C1444] mb-6",children:"Fee Record Details"}),Z?s.jsx("div",{className:"space-y-4",children:(()=>{const me=oe(Z.status||"Unknown"),te=[{label:"School Name",value:Z.schoolName||"N/A"},{label:"Student Name",value:Z.studentName||"N/A"},{label:"Roll Number",value:Z.rollNumber||"N/A"},{label:"Class",value:Z.class||"N/A"},{label:"Payment Method",value:Z.paymentMethod||"N/A"},{label:"Total Amount",value:Z.amount?`₹${Z.amount.toLocaleString()}`:"N/A"},{label:"Paid Amount",value:Z.paidAmount?`₹${Z.paidAmount.toLocaleString()}`:"N/A",className:"text-green-600"},{label:"Pending Amount",value:Z.pendingAmount?`₹${Z.pendingAmount.toLocaleString()}`:"N/A",className:"text-red-600"},{label:"Due Date",value:Z.dueDate||"N/A"},{label:"Status",value:s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${me.color}`,children:[me.icon&&s.jsx(me.icon,{className:"text-[#F37021]"}),Z.status||"Unknown"]})}];return Z.installments?.length>0&&te.push({label:"Installments",value:s.jsx("div",{className:"mt-2",children:Z.installments.map((Ae,V)=>s.jsxs("div",{className:"border-t pt-2 mt-2",children:[s.jsxs("p",{children:[s.jsxs("strong",{children:["Installment ",V+1,":"]})," ",Ae.amount?`₹${Ae.amount.toLocaleString()}`:"N/A"]}),s.jsxs("p",{children:["Paid:"," ",Ae.paid?`₹${Ae.paid.toLocaleString()}`:"N/A"]}),s.jsxs("p",{children:["Pending:"," ",Ae.pending?`₹${Ae.pending.toLocaleString()}`:"N/A"]}),s.jsxs("p",{children:["Due Date:"," ",Ae.dueDate?new Date(Ae.dueDate).toISOString().split("T")[0]:"N/A"]}),s.jsxs("p",{children:["Status: ",Ae.status||"N/A"]}),Ae.paidDate&&s.jsxs("p",{children:["Paid Date:"," ",new Date(Ae.paidDate).toISOString().split("T")[0]]}),Ae.receiptNumber&&s.jsxs("p",{children:["Receipt: ",Ae.receiptNumber]}),Ae.paymentMethod&&s.jsxs("p",{children:["Method: ",Ae.paymentMethod]})]},V))})}),te.map((Ae,V)=>s.jsxs("div",{className:"border-b border-gray-200 pb-3",children:[s.jsx("span",{className:"text-sm font-medium text-gray-500 block",children:Ae.label}),s.jsx("div",{className:`text-base font-semibold ${Ae.className||"text-[#1C1444]"}`,children:Ae.value})]},V))})()}):s.jsx("div",{className:"text-center text-red-600",children:"Error: Fee record details not available"}),s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsx("button",{onClick:()=>{console.log("Clearing viewingFee via Close button"),ee(null)},className:"px-4 py-2 bg-[#F37021] text-white rounded-lg hover:bg-[#d65f1c] transition-colors",children:"Close"})})]})})]})})},dCe=()=>s.jsx("div",{className:"max-w-4xl mx-auto px-6 py-8 bg-white",children:s.jsxs("div",{className:"prose prose-lg max-w-none",children:[s.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-8",children:"PRIVACY POLICY"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Effective date: 2025-09-07"}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"1. Introduction"}),s.jsxs("div",{className:"space-y-4 text-gray-700",children:[s.jsxs("p",{children:["Welcome to ",s.jsx("strong",{children:"vidyaastra"}),"."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"vidyaastra"}),' ("us", "we", or "our") operates'," ",s.jsx("strong",{children:"https://vidyaastra.com"})," (hereinafter referred to as ",s.jsx("strong",{children:'"Service"'}),")."]}),s.jsxs("p",{children:["Our Privacy Policy governs your visit to"," ",s.jsx("strong",{children:"https://vidyaastra.com"}),", and explains how we collect, safeguard and disclose information that results from your use of our Service."]}),s.jsx("p",{children:"We use your data to provide and improve Service. By using Service, you agree to the collection and use of information in accordance with this policy. Unless otherwise defined in this Privacy Policy, the terms used in this Privacy Policy have the same meanings as in our Terms and Conditions."}),s.jsxs("p",{children:["Our Terms and Conditions (",s.jsx("strong",{children:'"Terms"'}),") govern all use of our Service and together with the Privacy Policy constitutes your agreement with us (",s.jsx("strong",{children:'"agreement"'}),")."]})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"2. Definitions"}),s.jsxs("div",{className:"space-y-3 text-gray-700",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"SERVICE"})," means the https://vidyaastra.com website operated by vidyaastra."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"PERSONAL DATA"})," means data about a living individual who can be identified from those data (or from those and other information either in our possession or likely to come into our possession)."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"USAGE DATA"})," is data collected automatically either generated by the use of Service or from Service infrastructure itself (for example, the duration of a page visit)."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"COOKIES"})," are small files stored on your device (computer or mobile device)."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"DATA CONTROLLER"})," means a natural or legal person who (either alone or jointly or in common with other persons) determines the purposes for which and the manner in which any personal data are, or are to be, processed. For the purpose of this Privacy Policy, we are a Data Controller of your data."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"DATA PROCESSORS (OR SERVICE PROVIDERS)"})," means any natural or legal person who processes the data on behalf of the Data Controller. We may use the services of various Service Providers in order to process your data more effectively."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"DATA SUBJECT"})," is any living individual who is the subject of Personal Data."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"THE USER"})," is the individual using our Service. The User corresponds to the Data Subject, who is the subject of Personal Data."]})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"3. Information Collection and Use"}),s.jsx("p",{className:"text-gray-700",children:"We collect several different types of information for various purposes to provide and improve our Service to you."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"4. Types of Data Collected"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Personal Data"}),s.jsxs("p",{className:"text-gray-700 mb-3",children:["While using our Service, we may ask you to provide us with certain personally identifiable information that can be used to contact or identify you (",s.jsx("strong",{children:'"Personal Data"'}),"). Personally identifiable information may include, but is not limited to:"]}),s.jsxs("ul",{className:"list-decimal list-inside space-y-2 text-gray-700 ml-4",children:[s.jsx("li",{children:"Email address"}),s.jsx("li",{children:"First name and last name"}),s.jsx("li",{children:"Phone number"}),s.jsx("li",{children:"Address, Country, State, Province, ZIP/Postal code, City"}),s.jsx("li",{children:"Cookies and Usage Data"})]}),s.jsx("p",{className:"text-gray-700 mt-4",children:"We may use your Personal Data to contact you with newsletters, marketing or promotional materials and other information that may be of interest to you. You may opt out of receiving any, or all, of these communications from us by following the unsubscribe link."})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Usage Data"}),s.jsxs("p",{className:"text-gray-700 mb-3",children:["We may also collect information that your browser sends whenever you visit our Service or when you access Service by or through any device (",s.jsx("strong",{children:'"Usage Data"'}),")."]}),s.jsx("p",{className:"text-gray-700 mb-3",children:"This Usage Data may include information such as your computer's Internet Protocol address (e.g. IP address), browser type, browser version, the pages of our Service that you visit, the time and date of your visit, the time spent on those pages, unique device identifiers and other diagnostic data."}),s.jsx("p",{className:"text-gray-700",children:"When you access Service with a device, this Usage Data may include information such as the type of device you use, your device unique ID, the IP address of your device, your device operating system, the type of Internet browser you use, unique device identifiers and other diagnostic data."})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Tracking Cookies Data"}),s.jsx("p",{className:"text-gray-700 mb-3",children:"We use cookies and similar tracking technologies to track the activity on our Service and we hold certain information."}),s.jsx("p",{className:"text-gray-700 mb-3",children:"Cookies are files with a small amount of data which may include an anonymous unique identifier. Cookies are sent to your browser from a website and stored on your device. Other tracking technologies are also used such as beacons, tags and scripts to collect and track information and to improve and analyze our Service."}),s.jsx("p",{className:"text-gray-700 mb-4",children:"You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent. However, if you do not accept cookies, you may not be able to use some portions of our Service."}),s.jsx("p",{className:"text-gray-700 mb-2",children:"Examples of Cookies we use:"}),s.jsxs("ul",{className:"list-decimal list-inside space-y-2 text-gray-700 ml-4",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Session Cookies:"})," We use Session Cookies to operate our Service."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Preference Cookies:"})," We use Preference Cookies to remember your preferences and various settings."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Security Cookies:"})," We use Security Cookies for security purposes."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Advertising Cookies:"})," Advertising Cookies are used to serve you with advertisements that may be relevant to you and your interests."]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Other Data"}),s.jsxs("p",{className:"text-gray-700",children:["While using our Service, we may also collect the following information: sex, age, date of birth, place of birth, passport details, citizenship, registration at place of residence and actual address, telephone number (work, mobile), details of documents on education, qualification, professional training, employment agreements,"," ",", information on bonuses and compensation, information on marital status, family members, social security (or other taxpayer identification) number, office location and other data."]})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"5. Use of Data"}),s.jsx("p",{className:"text-gray-700 mb-3",children:"vidyaastra uses the collected data for various purposes:"}),s.jsxs("ul",{className:"list-decimal list-inside space-y-2 text-gray-700 ml-4",children:[s.jsx("li",{children:"to provide and maintain our Service;"}),s.jsx("li",{children:"to notify you about changes to our Service;"}),s.jsx("li",{children:"to allow you to participate in interactive features of our Service when you choose to do so;"}),s.jsx("li",{children:"to provide customer support;"}),s.jsx("li",{children:"to gather analysis or valuable information so that we can improve our Service;"}),s.jsx("li",{children:"to monitor the usage of our Service;"}),s.jsx("li",{children:"to detect, prevent and address technical issues;"}),s.jsx("li",{children:"to fulfil any other purpose for which you provide it;"}),s.jsx("li",{children:"to carry out our obligations and enforce our rights arising from any contracts entered into between you and us, including for billing and collection;"}),s.jsx("li",{children:"to provide you with notices about your account and/or subscription, including expiration and renewal notices, email-instructions, etc.;"}),s.jsx("li",{children:"to provide you with news, special offers and general information about other goods, services and events which we offer that are similar to those that you have already purchased or enquired about unless you have opted not to receive such information;"}),s.jsx("li",{children:"in any other way we may describe when you provide the information;"}),s.jsx("li",{children:"for any other purpose with your consent."})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"6. Retention of Data"}),s.jsxs("div",{className:"space-y-4 text-gray-700",children:[s.jsx("p",{children:"We will retain your Personal Data only for as long as is necessary for the purposes set out in this Privacy Policy. We will retain and use your Personal Data to the extent necessary to comply with our legal obligations (for example, if we are required to retain your data to comply with applicable laws), resolve disputes, and enforce our legal agreements and policies."}),s.jsx("p",{children:"We will also retain Usage Data for internal analysis purposes. Usage Data is generally retained for a shorter period, except when this data is used to strengthen the security or to improve the functionality of our Service, or we are legally obligated to retain this data for longer time periods."})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"7. Transfer of Data"}),s.jsxs("div",{className:"space-y-4 text-gray-700",children:[s.jsx("p",{children:"Your information, including Personal Data, may be transferred to – and maintained on – computers located outside of your state, province, country or other governmental jurisdiction where the data protection laws may differ from those of your jurisdiction."}),s.jsx("p",{children:"If you are located outside India and choose to provide information to us, please note that we transfer the data, including Personal Data, to India and process it there."}),s.jsx("p",{children:"Your consent to this Privacy Policy followed by your submission of such information represents your agreement to that transfer."}),s.jsx("p",{children:"vidyaastra will take all the steps reasonably necessary to ensure that your data is treated securely and in accordance with this Privacy Policy and no transfer of your Personal Data will take place to an organisation or a country unless there are adequate controls in place including the security of your data and other personal information."})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"8. Disclosure of Data"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"We may disclose personal information that we collect, or you provide:"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"8.1. Disclosure for Law Enforcement"}),s.jsx("p",{className:"text-gray-700",children:"Under certain circumstances, we may be required to disclose your Personal Data if required to do so by law or in response to valid requests by public authorities."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"8.2. Business Transaction"}),s.jsx("p",{className:"text-gray-700",children:"If we or our subsidiaries are involved in a merger, acquisition or asset sale, your Personal Data may be transferred."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"8.3. Other cases. We may disclose your information also:"}),s.jsxs("ul",{className:"list-decimal list-inside space-y-2 text-gray-700 ml-4",children:[s.jsx("li",{children:"to our subsidiaries and affiliates;"}),s.jsx("li",{children:"to contractors, service providers, and other third parties we use to support our business;"}),s.jsx("li",{children:"to fulfill the purpose for which you provide it;"}),s.jsx("li",{children:"for the purpose of including your company's logo on our website;"}),s.jsx("li",{children:"for any other purpose disclosed by us when you provide the information;"}),s.jsx("li",{children:"with your consent in any other cases;"}),s.jsx("li",{children:"if we believe disclosure is necessary or appropriate to protect the rights, property, or safety of the Company, our customers, or others."})]})]})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"9. Security of Data"}),s.jsx("p",{className:"text-gray-700",children:"The security of your data is important to us but remember that no method of transmission over the Internet or method of electronic storage is 100% secure. While we strive to use commercially acceptable means to protect your Personal Data, we cannot guarantee its absolute security."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"10. Your Data Protection Rights Under General Data Protection Regulation (GDPR)"}),s.jsxs("div",{className:"space-y-4 text-gray-700",children:[s.jsx("p",{children:"If you are a resident of the European Union (EU) and European Economic Area (EEA), you have certain data protection rights, covered by GDPR."}),s.jsx("p",{children:"We aim to take reasonable steps to allow you to correct, amend, delete, or limit the use of your Personal Data."}),s.jsxs("p",{children:["If you wish to be informed what Personal Data we hold about you and if you want it to be removed from our systems, please email us at ",s.jsx("strong",{children:"support@vidyaastra.com"}),"."]}),s.jsx("p",{children:"In certain circumstances, you have the following data protection rights:"}),s.jsxs("ul",{className:"list-decimal list-inside space-y-2 ml-4",children:[s.jsx("li",{children:"the right to access, update or to delete the information we have on you;"}),s.jsx("li",{children:"the right of rectification. You have the right to have your information rectified if that information is inaccurate or incomplete;"}),s.jsx("li",{children:"the right to object. You have the right to object to our processing of your Personal Data;"}),s.jsx("li",{children:"the right of restriction. You have the right to request that we restrict the processing of your personal information;"}),s.jsx("li",{children:"the right to data portability. You have the right to be provided with a copy of your Personal Data in a structured, machine-readable and commonly used format;"}),s.jsx("li",{children:"the right to withdraw consent. You also have the right to withdraw your consent at any time where we rely on your consent to process your personal information;"})]}),s.jsx("p",{children:"Please note that we may ask you to verify your identity before responding to such requests. Please note, we may not able to provide Service without some necessary data."}),s.jsx("p",{children:"You have the right to complain to a Data Protection Authority about our collection and use of your Personal Data. For more information, please contact your local data protection authority in the European Economic Area (EEA)."})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"11. Your Data Protection Rights under the California Privacy Protection Act (CalOPPA)"}),s.jsxs("div",{className:"space-y-4 text-gray-700",children:[s.jsx("p",{children:"CalOPPA is the first state law in the nation to require commercial websites and online services to post a privacy policy. The law's reach stretches well beyond California to require a person or company in the United States (and conceivable the world) that operates websites collecting personally identifiable information from California consumers to post a conspicuous privacy policy on its website stating exactly the information being collected and those individuals with whom it is being shared, and to comply with this policy."}),s.jsx("p",{children:"According to CalOPPA we agree to the following:"}),s.jsxs("ul",{className:"list-decimal list-inside space-y-2 ml-4",children:[s.jsx("li",{children:"users can visit our site anonymously;"}),s.jsx("li",{children:'our Privacy Policy link includes the word "Privacy", and can easily be found on the home page of our website;'}),s.jsx("li",{children:"users will be notified of any privacy policy changes on our Privacy Policy Page;"}),s.jsxs("li",{children:["users are able to change their personal information by emailing us at ",s.jsx("strong",{children:"support@vidyaastra.com"}),"."]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"font-semibold",children:'Our Policy on "Do Not Track" Signals:'}),s.jsx("p",{children:"We honor Do Not Track signals and do not track, plant cookies, or use advertising when a Do Not Track browser mechanism is in place. Do Not Track is a preference you can set in your web browser to inform websites that you do not want to be tracked."}),s.jsx("p",{children:"You can enable or disable Do Not Track by visiting the Preferences or Settings page of your web browser."})]})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"12. Your Data Protection Rights under the California Consumer Privacy Act (CCPA)"}),s.jsxs("div",{className:"space-y-4 text-gray-700",children:[s.jsx("p",{children:"If you are a California resident, you are entitled to learn what data we collect about you, ask to delete your data and not to sell (share) it. To exercise your data protection rights, you can make certain requests and ask us:"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"12.1. What personal information we have about you. If you make this request, we will return to you:"}),s.jsxs("ul",{className:"list-decimal list-inside space-y-1 ml-8",children:[s.jsx("li",{children:"The categories of personal information we have collected about you."}),s.jsx("li",{children:"The categories of sources from which we collect your personal information."}),s.jsx("li",{children:"The business or commercial purpose for collecting or selling your personal information."}),s.jsx("li",{children:"The categories of third parties with whom we share personal information."}),s.jsx("li",{children:"The specific pieces of personal information we have collected about you."}),s.jsx("li",{children:"A list of categories of personal information that we have sold, along with the category of any other company we sold it to. If we have not sold your personal information, we will inform you of that fact."}),s.jsx("li",{children:"A list of categories of personal information that we have disclosed for a business purpose, along with the category of any other company we shared it with."})]}),s.jsx("p",{className:"mt-2",children:"Please note, you are entitled to ask us to provide you with this information up to two times in a rolling twelve-month period. When you make this request, the information provided may be limited to the personal information we collected about you in the previous 12 months."})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"12.2. To delete your personal information."})," If you make this request, we will delete the personal information we hold about you as of the date of your request from our records and direct any service providers to do the same. In some cases, deletion may be accomplished through de-identification of the information. If you choose to delete your personal information, you may not be able to use certain functions that require your personal information to operate."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"12.3. To stop selling your personal information."})," ",`We don't sell or rent your personal information to any third parties for any purpose. We do not sell your personal information for monetary consideration. However, under some circumstances, a transfer of personal information to a third party, or within our family of companies, without monetary consideration may be considered a "sale" under California law. You are the only owner of your Personal Data and can request disclosure or deletion at any time.`]}),s.jsx("p",{children:"If you submit a request to stop selling your personal information, we will stop making such transfers."}),s.jsx("p",{children:"Please note, if you ask us to delete or stop selling your data, it may impact your experience with us, and you may not be able to participate in certain programs or membership services which require the usage of your personal information to function. But in no circumstances, we will discriminate against you for exercising your rights."}),s.jsxs("p",{children:["To exercise your California data protection rights described above, please send your request(s) by email:"," ",s.jsx("strong",{children:"support@vidyaastra.com"}),"."]}),s.jsx("p",{children:"Your data protection rights, described above, are covered by the CCPA, short for the California Consumer Privacy Act. To find out more, visit the official California Legislative Information website. The CCPA took effect on 01/01/2020."})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"13. Service Providers"}),s.jsxs("div",{className:"space-y-4 text-gray-700",children:[s.jsxs("p",{children:["We may employ third party companies and individuals to facilitate our Service (",s.jsx("strong",{children:'"Service Providers"'}),"), provide Service on our behalf, perform Service-related services or assist us in analysing how our Service is used."]}),s.jsx("p",{children:"These third parties have access to your Personal Data only to perform these tasks on our behalf and are obligated not to disclose or use it for any other purpose."})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"14. Analytics"}),s.jsx("p",{className:"text-gray-700",children:"We may use third-party Service Providers to monitor and analyze the use of our Service."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"15. CI/CD tools"}),s.jsx("p",{className:"text-gray-700",children:"We may use third-party Service Providers to automate the development process of our Service."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"16. Behavioral Remarketing"}),s.jsx("p",{className:"text-gray-700",children:"We may use remarketing services to advertise on third party websites to you after you visited our Service. We and our third-party vendors use cookies to inform, optimise and serve ads based on your past visits to our Service."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"17. Links to Other Sites"}),s.jsxs("div",{className:"space-y-4 text-gray-700",children:[s.jsx("p",{children:"Our Service may contain links to other sites that are not operated by us. If you click a third party link, you will be directed to that third party's site. We strongly advise you to review the Privacy Policy of every site you visit."}),s.jsx("p",{children:"We have no control over and assume no responsibility for the content, privacy policies or practices of any third party sites or services."})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"18. Children's Privacy"}),s.jsxs("div",{className:"space-y-4 text-gray-700",children:[s.jsxs("p",{children:["Our Services are not intended for use by children under the age of 18 (",s.jsx("strong",{children:'"Child"'})," or ",s.jsx("strong",{children:'"Children"'}),")."]}),s.jsx("p",{children:"We do not knowingly collect personally identifiable information from Children under 18. If you become aware that a Child has provided us with Personal Data, please contact us. If we become aware that we have collected Personal Data from Children without verification of parental consent, we take steps to remove that information from our servers."})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"19. Changes to This Privacy Policy"}),s.jsxs("div",{className:"space-y-4 text-gray-700",children:[s.jsx("p",{children:"We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page."}),s.jsx("p",{children:'We will let you know via email and/or a prominent notice on our Service, prior to the change becoming effective and update "effective date" at the top of this Privacy Policy.'}),s.jsx("p",{children:"You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"20. Contact Us"}),s.jsxs("p",{className:"text-gray-700",children:["If you have any questions about this Privacy Policy, please contact us by email: ",s.jsx("strong",{children:"support@vidyaastra.com"}),"."]})]})]})}),ACe=()=>s.jsx("div",{className:"max-w-4xl mx-auto px-6 py-8 bg-white",children:s.jsxs("div",{className:"prose prose-lg max-w-none",children:[s.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-8",children:"TERMS AND CONDITIONS"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Last updated: 2025-09-07"}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"1. Introduction"}),s.jsxs("div",{className:"space-y-4 text-gray-700",children:[s.jsxs("p",{children:["Welcome to ",s.jsx("strong",{children:"vidyaastra"}),' ("Company", "we", "our", "us")!']}),s.jsxs("p",{children:['These Terms of Service ("Terms", "Terms of Service") govern your use of our website located at'," ",s.jsx("strong",{children:"https://vidyaastra.com"}),' (together or individually "Service") operated by ',s.jsx("strong",{children:"vidyaastra"}),"."]}),s.jsx("p",{children:"Our Privacy Policy also governs your use of our Service and explains how we collect, safeguard and disclose information that results from your use of our web pages."}),s.jsx("p",{children:'Your agreement with us includes these Terms and our Privacy Policy ("Agreements"). You acknowledge that you have read and understood Agreements, and agree to be bound of them.'}),s.jsxs("p",{children:["If you do not agree with (or cannot comply with) Agreements, then you may not use the Service, but please let us know by emailing at"," ",s.jsx("strong",{children:"support@vidyaastra.com"})," so we can try to find a solution. These Terms apply to all visitors, users and others who wish to access or use Service."]})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"2. Communications"}),s.jsx("p",{className:"text-gray-700",children:"By using our Service, you agree to subscribe to newsletters, marketing or promotional materials and other information we may send. However, you may opt out of receiving any, or all, of these communications from us by following the unsubscribe link or by emailing at support@vidyaastra.com."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"3. Contests, Sweepstakes and Promotions"}),s.jsx("p",{className:"text-gray-700",children:'Any contests, sweepstakes or other promotions (collectively, "Promotions") made available through Service may be governed by rules that are separate from these Terms of Service. If you participate in any Promotions, please review the applicable rules as well as our Privacy Policy. If the rules for a Promotion conflict with these Terms of Service, Promotion rules will apply.'})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"4. Content"}),s.jsx("p",{className:"text-gray-700",children:"Content found on or through this Service are the property of vidyaastra or used with permission. You may not distribute, modify, transmit, reuse, download, repost, copy, or use said Content, whether in whole or in part, for commercial purposes or for personal gain, without express advance written permission from us."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"5. Prohibited Uses"}),s.jsxs("div",{className:"space-y-4 text-gray-700",children:[s.jsx("p",{children:"You may use Service only for lawful purposes and in accordance with Terms. You agree not to use Service:"}),s.jsxs("ul",{className:"list-decimal list-inside space-y-2 ml-4",children:[s.jsx("li",{children:"In any way that violates any applicable national or international law or regulation."}),s.jsx("li",{children:"For the purpose of exploiting, harming, or attempting to exploit or harm minors in any way by exposing them to inappropriate content or otherwise."}),s.jsx("li",{children:'To transmit, or procure the sending of, any advertising or promotional material, including any "junk mail", "chain letter," "spam," or any other similar solicitation.'}),s.jsx("li",{children:"To impersonate or attempt to impersonate Company, a Company employee, another user, or any other person or entity."}),s.jsx("li",{children:"In any way that infringes upon the rights of others, or in any way is illegal, threatening, fraudulent, or harmful, or in connection with any unlawful, illegal, fraudulent, or harmful purpose or activity."}),s.jsx("li",{children:"To engage in any other conduct that restricts or inhibits anyone's use or enjoyment of Service, or which, as determined by us, may harm or offend Company or users of Service or expose them to liability."})]}),s.jsx("p",{className:"mt-6",children:"Additionally, you agree not to:"}),s.jsxs("ul",{className:"list-decimal list-inside space-y-2 ml-4",children:[s.jsx("li",{children:"Use Service in any manner that could disable, overburden, damage, or impair Service or interfere with any other party's use of Service, including their ability to engage in real time activities through Service."}),s.jsx("li",{children:"Use any robot, spider, or other automatic device, process, or means to access Service for any purpose, including monitoring or copying any of the material on Service."}),s.jsx("li",{children:"Use any manual process to monitor or copy any of the material on Service or for any other unauthorized purpose without our prior written consent."}),s.jsx("li",{children:"Use any device, software, or routine that interferes with the proper working of Service."}),s.jsx("li",{children:"Introduce any viruses, trojan horses, worms, logic bombs, or other material which is malicious or technologically harmful."}),s.jsx("li",{children:"Attempt to gain unauthorized access to, interfere with, damage, or disrupt any parts of Service, the server on which Service is stored, or any server, computer, or database connected to Service."}),s.jsx("li",{children:"Attack Service via a denial-of-service attack or a distributed denial-of-service attack."}),s.jsx("li",{children:"Take any action that may damage or falsify Company rating."}),s.jsx("li",{children:"Otherwise attempt to interfere with the proper working of Service."})]})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"6. Analytics"}),s.jsx("p",{className:"text-gray-700",children:"We may use third-party Service Providers to monitor and analyze the use of our Service."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"7. No Use By Minors"}),s.jsx("p",{className:"text-gray-700",children:"Service is intended only for access and use by individuals at least eighteen (18) years old. By accessing or using Service, you warrant and represent that you are at least eighteen (18) years of age and with the full authority, right, and capacity to enter into this agreement and abide by all of the terms and conditions of Terms. If you are not at least eighteen (18) years old, you are prohibited from both the access and usage of Service."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"8. Intellectual Property"}),s.jsx("p",{className:"text-gray-700",children:"Service and its original content (excluding Content provided by users), features and functionality are and will remain the exclusive property of vidyaastra and its licensors. Service is protected by copyright, trademark, and other laws of and foreign countries. Our trademarks may not be used in connection with any product or service without the prior written consent of vidyaastra."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"9. Copyright Policy"}),s.jsxs("div",{className:"space-y-4 text-gray-700",children:[s.jsx("p",{children:'We respect the intellectual property rights of others. It is our policy to respond to any claim that Content posted on Service infringes on the copyright or other intellectual property rights ("Infringement") of any person or entity.'}),s.jsx("p",{children:'If you are a copyright owner, or authorized on behalf of one, and you believe that the copyrighted work has been copied in a way that constitutes copyright infringement, please submit your claim via email to support@vidyaastra.com, with the subject line: "Copyright Infringement" and include in your claim a detailed description of the alleged Infringement as detailed below, under "DMCA Notice and Procedure for Copyright Infringement Claims"'}),s.jsx("p",{children:"You may be held accountable for damages (including costs and attorneys' fees) for misrepresentation or bad-faith claims on the infringement of any Content found on and/or through Service on your copyright."})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"10. DMCA Notice and Procedure for Copyright Infringement Claims"}),s.jsxs("div",{className:"space-y-4 text-gray-700",children:[s.jsx("p",{children:"You may submit a notification pursuant to the Digital Millennium Copyright Act (DMCA) by providing our Copyright Agent with the following information in writing (see 17 U.S.C 512(c)(3) for further detail):"}),s.jsxs("ul",{className:"list-decimal list-inside space-y-2 ml-4",children:[s.jsx("li",{children:"an electronic or physical signature of the person authorized to act on behalf of the owner of the copyright's interest;"}),s.jsx("li",{children:"a description of the copyrighted work that you claim has been infringed, including the URL (i.e., web page address) of the location where the copyrighted work exists or a copy of the copyrighted work;"}),s.jsx("li",{children:"identification of the URL or other specific location on Service where the material that you claim is infringing is located;"}),s.jsx("li",{children:"your address, telephone number, and email address;"}),s.jsx("li",{children:"a statement by you that you have a good faith belief that the disputed use is not authorized by the copyright owner, its agent, or the law;"}),s.jsx("li",{children:"a statement by you, made under penalty of perjury, that the above information in your notice is accurate and that you are the copyright owner or authorized to act on the copyright owner's behalf."})]}),s.jsx("p",{children:"You can contact our Copyright Agent via email at support@vidyaastra.com."})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"11. Error Reporting and Feedback"}),s.jsx("p",{className:"text-gray-700",children:'You may provide us either directly at support@vidyaastra.com or via third party sites and tools with information and feedback concerning errors, suggestions for improvements, ideas, problems, complaints, and other matters related to our Service ("Feedback"). You acknowledge and agree that: (i) you shall not retain, acquire or assert any intellectual property right or other right, title or interest in or to the Feedback; (ii) Company may have development ideas similar to the Feedback; (iii) Feedback does not contain confidential information or proprietary information from you or any third party; and (iv) Company is not under any obligation of confidentiality with respect to the Feedback. In the event the transfer of the ownership to the Feedback is not possible due to applicable mandatory laws, you grant Company and its affiliates an exclusive, transferable, irrevocable, free-of-charge, sub-licensable, unlimited and perpetual right to use (including copy, modify, create derivative works, publish, distribute and commercialize) Feedback in any manner and for any purpose.'})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"12. Links To Other Web Sites"}),s.jsxs("div",{className:"space-y-4 text-gray-700",children:[s.jsx("p",{children:"Our Service may contain links to third party web sites or services that are not owned or controlled by vidyaastra."}),s.jsx("p",{children:"vidyaastra has no control over, and assumes no responsibility for the content, privacy policies, or practices of any third party web sites or services. We do not warrant the offerings of any of these entities/individuals or their websites."}),s.jsx("p",{className:"font-semibold uppercase",children:"YOU ACKNOWLEDGE AND AGREE THAT COMPANY SHALL NOT BE RESPONSIBLE OR LIABLE, DIRECTLY OR INDIRECTLY, FOR ANY DAMAGE OR LOSS CAUSED OR ALLEGED TO BE CAUSED BY OR IN CONNECTION WITH USE OF OR RELIANCE ON ANY SUCH CONTENT, GOODS OR SERVICES AVAILABLE ON OR THROUGH ANY SUCH THIRD PARTY WEB SITES OR SERVICES."}),s.jsx("p",{className:"font-semibold uppercase",children:"WE STRONGLY ADVISE YOU TO READ THE TERMS OF SERVICE AND PRIVACY POLICIES OF ANY THIRD PARTY WEB SITES OR SERVICES THAT YOU VISIT."})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"13. Disclaimer Of Warranty"}),s.jsxs("div",{className:"space-y-4 text-gray-700",children:[s.jsx("p",{className:"font-semibold uppercase",children:'THESE SERVICES ARE PROVIDED BY COMPANY ON AN "AS IS" AND "AS AVAILABLE" BASIS. COMPANY MAKES NO REPRESENTATIONS OR WARRANTIES OF ANY KIND, EXPRESS OR IMPLIED, AS TO THE OPERATION OF THEIR SERVICES, OR THE INFORMATION, CONTENT OR MATERIALS INCLUDED THEREIN. YOU EXPRESSLY AGREE THAT YOUR USE OF THESE SERVICES, THEIR CONTENT, AND ANY SERVICES OR ITEMS OBTAINED FROM US IS AT YOUR SOLE RISK.'}),s.jsx("p",{className:"font-semibold uppercase",children:"NEITHER COMPANY NOR ANY PERSON ASSOCIATED WITH COMPANY MAKES ANY WARRANTY OR REPRESENTATION WITH RESPECT TO THE COMPLETENESS, SECURITY, RELIABILITY, QUALITY, ACCURACY, OR AVAILABILITY OF THE SERVICES. WITHOUT LIMITING THE FOREGOING, NEITHER COMPANY NOR ANYONE ASSOCIATED WITH COMPANY REPRESENTS OR WARRANTS THAT THE SERVICES, THEIR CONTENT, OR ANY SERVICES OR ITEMS OBTAINED THROUGH THE SERVICES WILL BE ACCURATE, RELIABLE, ERROR-FREE, OR UNINTERRUPTED, THAT DEFECTS WILL BE CORRECTED, THAT THE SERVICES OR THE SERVER THAT MAKES IT AVAILABLE ARE FREE OF VIRUSES OR OTHER HARMFUL COMPONENTS OR THAT THE SERVICES OR ANY SERVICES OR ITEMS OBTAINED THROUGH THE SERVICES WILL OTHERWISE MEET YOUR NEEDS OR EXPECTATIONS."}),s.jsx("p",{className:"font-semibold uppercase",children:"COMPANY HEREBY DISCLAIMS ALL WARRANTIES OF ANY KIND, WHETHER EXPRESS OR IMPLIED, STATUTORY, OR OTHERWISE, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF MERCHANTABILITY, NON-INFRINGEMENT, AND FITNESS FOR PARTICULAR PURPOSE."}),s.jsx("p",{className:"font-semibold uppercase",children:"THE FOREGOING DOES NOT AFFECT ANY WARRANTIES WHICH CANNOT BE EXCLUDED OR LIMITED UNDER APPLICABLE LAW."})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"14. Limitation Of Liability"}),s.jsx("p",{className:"text-gray-700 font-semibold uppercase",children:"EXCEPT AS PROHIBITED BY LAW, YOU WILL HOLD US AND OUR OFFICERS, DIRECTORS, EMPLOYEES, AND AGENTS HARMLESS FOR ANY INDIRECT, PUNITIVE, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGE, HOWEVER IT ARISES (INCLUDING ATTORNEYS' FEES AND ALL RELATED COSTS AND EXPENSES OF LITIGATION AND ARBITRATION, OR AT TRIAL OR ON APPEAL, IF ANY, WHETHER OR NOT LITIGATION OR ARBITRATION IS INSTITUTED), WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE, OR OTHER TORTIOUS ACTION, OR ARISING OUT OF OR IN CONNECTION WITH THIS AGREEMENT, INCLUDING WITHOUT LIMITATION ANY CLAIM FOR PERSONAL INJURY OR PROPERTY DAMAGE, ARISING FROM THIS AGREEMENT AND ANY VIOLATION BY YOU OF ANY FEDERAL, STATE, OR LOCAL LAWS, STATUTES, RULES, OR REGULATIONS, EVEN IF COMPANY HAS BEEN PREVIOUSLY ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. EXCEPT AS PROHIBITED BY LAW, IF THERE IS LIABILITY FOUND ON THE PART OF COMPANY, IT WILL BE LIMITED TO THE AMOUNT PAID FOR THE PRODUCTS AND/OR SERVICES, AND UNDER NO CIRCUMSTANCES WILL THERE BE CONSEQUENTIAL OR PUNITIVE DAMAGES. SOME STATES DO NOT ALLOW THE EXCLUSION OR LIMITATION OF PUNITIVE, INCIDENTAL OR CONSEQUENTIAL DAMAGES, SO THE PRIOR LIMITATION OR EXCLUSION MAY NOT APPLY TO YOU."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"15. Termination"}),s.jsxs("div",{className:"space-y-4 text-gray-700",children:[s.jsx("p",{children:"We may terminate or suspend your account and bar access to Service immediately, without prior notice or liability, under our sole discretion, for any reason whatsoever and without limitation, including but not limited to a breach of Terms."}),s.jsx("p",{children:"If you wish to terminate your account, you may simply discontinue using Service."}),s.jsx("p",{children:"All provisions of Terms which by their nature should survive termination shall survive termination, including, without limitation, ownership provisions, warranty disclaimers, indemnity and limitations of liability."})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"16. Governing Law"}),s.jsxs("div",{className:"space-y-4 text-gray-700",children:[s.jsx("p",{children:"These Terms shall be governed and construed in accordance with the laws of India, which governing law applies to agreement without regard to its conflict of law provisions."}),s.jsx("p",{children:"Our failure to enforce any right or provision of these Terms will not be considered a waiver of those rights. If any provision of these Terms is held to be invalid or unenforceable by a court, the remaining provisions of these Terms will remain in effect. These Terms constitute the entire agreement between us regarding our Service and supersede and replace any prior agreements we might have had between us regarding Service."})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"17. Changes To Service"}),s.jsx("p",{className:"text-gray-700",children:"We reserve the right to withdraw or amend our Service, and any service or material we provide via Service, in our sole discretion without notice. We will not be liable if for any reason all or any part of Service is unavailable at any time or for any period. From time to time, we may restrict access to some parts of Service, or the entire Service, to users, including registered users."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"18. Amendments To Terms"}),s.jsxs("div",{className:"space-y-4 text-gray-700",children:[s.jsx("p",{children:"We may amend Terms at any time by posting the amended terms on this site. It is your responsibility to review these Terms periodically."}),s.jsx("p",{children:"Your continued use of the Platform following the posting of revised Terms means that you accept and agree to the changes. You are expected to check this page frequently so you are aware of any changes, as they are binding on you."}),s.jsx("p",{children:"By continuing to access or use our Service after any revisions become effective, you agree to be bound by the revised terms. If you do not agree to the new terms, you are no longer authorized to use Service."})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"19. Waiver And Severability"}),s.jsxs("div",{className:"space-y-4 text-gray-700",children:[s.jsx("p",{children:"No waiver by Company of any term or condition set forth in Terms shall be deemed a further or continuing waiver of such term or condition or a waiver of any other term or condition, and any failure of Company to assert a right or provision under Terms shall not constitute a waiver of such right or provision."}),s.jsx("p",{children:"If any provision of Terms is held by a court or other tribunal of competent jurisdiction to be invalid, illegal or unenforceable for any reason, such provision shall be eliminated or limited to the minimum extent such that the remaining provisions of Terms will continue in full force and effect."})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"20. Acknowledgement"}),s.jsx("p",{className:"text-gray-700 font-semibold uppercase",children:"BY USING SERVICE OR OTHER SERVICES PROVIDED BY US, YOU ACKNOWLEDGE THAT YOU HAVE READ THESE TERMS OF SERVICE AND AGREE TO BE BOUND BY THEM."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"21. Contact Us"}),s.jsxs("p",{className:"text-gray-700",children:["Please send your feedback, comments, requests for technical support by email: ",s.jsx("strong",{children:"support@vidyaastra.com"}),"."]})]})]})}),hO=()=>s.jsx("footer",{className:"bg-white text-gray-800 border-t border-gray-200",children:s.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-6 text-gray-600 text-sm",children:[s.jsxs("p",{className:"text-center md:text-left",children:["© ",new Date().getFullYear()," Vidyaastra. All rights reserved."]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(pf,{to:"/PrivacyPolicy",className:"hover:text-blue-600 transition-colors duration-200",children:"Privacy Policy"}),s.jsx("span",{className:"text-gray-400",children:"•"}),s.jsx(pf,{to:"/Terms&Conditions",className:"hover:text-blue-600 transition-colors duration-200",children:"Terms & Conditions"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 text-sm",children:[s.jsx("span",{className:"text-[#1C1444]",children:"Owned by"}),s.jsx("a",{href:"https://parnetsgroup.com/",children:s.jsxs("span",{className:"font-medium text-[#160155]",children:[" ",s.jsx("span",{className:"text-[#F15C0A] font-medium",children:"Par"}),"Nets"]})})]})]})})}),fCe=()=>{const[t,r]=w.useState(localStorage.getItem("schoolId")||""),n=D2();return w.useEffect(()=>{t&&(n(Yx(t)),n(ub(t)),n($x(t)))},[n,t]),s.jsx(Ebe,{children:s.jsx(LG,{children:s.jsx(mV,{children:s.jsxs(u1,{children:[s.jsx(Tr,{path:"/*",element:s.jsx(Ibe,{children:s.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[s.jsx(OG,{}),s.jsx("div",{className:"flex-1",children:s.jsx("main",{className:"p-2",children:s.jsxs(u1,{children:[" ",s.jsx(Tr,{path:"/dashboard",element:s.jsx(gme,{})}),s.jsx(Tr,{path:"/students",element:s.jsx(QG,{})}),s.jsx(Tr,{path:"/attendance",element:s.jsx(lW,{})}),s.jsx(Tr,{path:"/fees",element:s.jsx(cW,{})}),s.jsx(Tr,{path:"/subject",element:s.jsx(eCe,{})}),s.jsx(Tr,{path:"/classManagement",element:s.jsx(vq,{})}),s.jsx(Tr,{path:"/timetable",element:s.jsx(bq,{})}),s.jsx(Tr,{path:"/exams",element:s.jsx(eJ,{})}),s.jsx(Tr,{path:"/result",element:s.jsx(aCe,{})}),s.jsx(Tr,{path:"/assignments",element:s.jsx(tJ,{})}),s.jsx(Tr,{path:"/library",element:s.jsx(rJ,{})}),s.jsx(Tr,{path:"/teachers",element:s.jsx(nJ,{})}),s.jsx(Tr,{path:"/transport",element:s.jsx(iJ,{})}),s.jsx(Tr,{path:"/circular",element:s.jsx(oJ,{})}),s.jsx(Tr,{path:"/diary",element:s.jsx(lJ,{})}),s.jsx(Tr,{path:"/events",element:s.jsx(cJ,{})}),s.jsx(Tr,{path:"/birthday",element:s.jsx(fJ,{})}),s.jsx(Tr,{path:"/classwork",element:s.jsx(vZ,{})}),s.jsx(Tr,{path:"/gallery",element:s.jsx(wZ,{})}),s.jsx(Tr,{path:"/holiday",element:s.jsx(jZ,{})}),s.jsx(Tr,{path:"/uniform",element:s.jsx(NZ,{})}),s.jsx(Tr,{path:"/books",element:s.jsx(CZ,{})}),s.jsx(Tr,{path:"/orders",element:s.jsx(_Z,{})}),s.jsx(Tr,{path:"/buy",element:s.jsx(yme,{})}),s.jsx(Tr,{path:"/teachercreate",element:s.jsx(Jbe,{})})]})})})]})})}),s.jsx(Tr,{path:"/login",element:s.jsx(vme,{setSchoolId:r})}),s.jsx(Tr,{path:"/admin/*",element:s.jsx(kbe,{children:s.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[s.jsx(MG,{}),s.jsx("div",{className:"flex-1",children:s.jsx("main",{className:"p-2",children:s.jsxs(u1,{children:[s.jsx(Tr,{path:"dashboard",element:s.jsx(Ybe,{})}),s.jsx(Tr,{path:"students",element:s.jsx(ZNe,{})}),s.jsx(Tr,{path:"attendance",element:s.jsx(bme,{})}),s.jsx(Tr,{path:"fees",element:s.jsx(uCe,{})}),s.jsx(Tr,{path:"timetable",element:s.jsx(wme,{})}),s.jsx(Tr,{path:"exams",element:s.jsx(Sme,{})}),s.jsx(Tr,{path:"assignments",element:s.jsx(Eme,{})}),s.jsx(Tr,{path:"package",element:s.jsx(Tme,{})}),s.jsx(Tr,{path:"packagehistory",element:s.jsx(Bbe,{})}),s.jsx(Tr,{path:"school",element:s.jsx(Sbe,{})}),s.jsx(Tr,{path:"library",element:s.jsx(Pbe,{})}),s.jsx(Tr,{path:"circular",element:s.jsx(Dbe,{})}),s.jsx(Tr,{path:"teachers",element:s.jsx(Obe,{})}),s.jsx(Tr,{path:"transport",element:s.jsx(Lbe,{})}),s.jsx(Tr,{path:"diary",element:s.jsx(Ube,{})}),s.jsx(Tr,{path:"events",element:s.jsx(Mbe,{})}),s.jsx(Tr,{path:"birthday",element:s.jsx(Rbe,{})}),s.jsx(Tr,{path:"gallery",element:s.jsx(Qbe,{})}),s.jsx(Tr,{path:"uniform",element:s.jsx(Kbe,{})}),s.jsx(Tr,{path:"holiday",element:s.jsx(zbe,{})}),s.jsx(Tr,{path:"classwork",element:s.jsx(Gbe,{})}),s.jsx(Tr,{path:"books",element:s.jsx(qbe,{})}),s.jsx(Tr,{path:"/PriceManagement",element:s.jsx(w9,{})})]})})})]})})}),s.jsx(Tr,{path:"/superadmin-login",element:s.jsx(_be,{})}),s.jsx(Tr,{path:"/",element:s.jsxs(s.Fragment,{children:[" ",s.jsx(VNe,{})," ",s.jsx(hO,{})]})}),s.jsx(Tr,{path:"/PrivacyPolicy",element:s.jsx(s.Fragment,{children:s.jsx(dCe,{})})}),s.jsx(Tr,{path:"/Terms&Conditions",element:s.jsx(s.Fragment,{children:s.jsx(ACe,{})})}),s.jsx(Tr,{path:"/about",element:s.jsxs(s.Fragment,{children:[s.jsx(s$,{}),s.jsx(JNe,{}),s.jsx(hO,{})]})}),s.jsx(Tr,{path:"/teacher/*",element:s.jsx(Fbe,{children:s.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[s.jsx(s2e,{}),s.jsx("div",{className:"flex-1",children:s.jsx("main",{className:"p-2",children:s.jsxs(u1,{children:[s.jsx(Tr,{index:!0,path:"attendance",element:s.jsx(e2e,{})}),s.jsx(Tr,{path:"assignments",element:s.jsx(n2e,{})}),s.jsx(Tr,{path:"classworks",element:s.jsx(r2e,{})}),s.jsx(Tr,{path:"submittedAssignments",element:s.jsx(tCe,{})}),s.jsx(Tr,{index:!0,element:s.jsx(my,{to:"attendance",replace:!0})}),s.jsx(Tr,{path:"*",element:s.jsx(my,{to:"attendance",replace:!0})})]})})})]})})})]})})})})},hCe=S8({reducer:{classes:AJ,subjects:sCe,teachers:xq}});nK.createRoot(document.getElementById("root")).render(s.jsx(w.StrictMode,{children:s.jsx(u8,{store:hCe,children:s.jsx(fCe,{})})}));export{ds as _,Fh as c,vc as g};
