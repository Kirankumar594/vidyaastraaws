function XJ(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var iA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function JJ(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var s=!1;try{s=this instanceof n}catch{}return s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var XS={exports:{}},Jy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EI;function ZJ(){if(EI)return Jy;EI=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,s,i){var o=null;if(i!==void 0&&(o=""+i),s.key!==void 0&&(o=""+s.key),"key"in s){i={};for(var l in s)l!=="key"&&(i[l]=s[l])}else i=s;return s=i.ref,{$$typeof:e,type:n,key:o,ref:s!==void 0?s:null,props:i}}return Jy.Fragment=t,Jy.jsx=r,Jy.jsxs=r,Jy}var BI;function eZ(){return BI||(BI=1,XS.exports=ZJ()),XS.exports}var a=eZ(),JS={exports:{}},Za={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TI;function tZ(){if(TI)return Za;TI=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.iterator;function m(fe){return fe===null||typeof fe!="object"?null:(fe=h&&fe[h]||fe["@@iterator"],typeof fe=="function"?fe:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,x={};function v(fe,ve,B){this.props=fe,this.context=ve,this.refs=x,this.updater=B||A}v.prototype.isReactComponent={},v.prototype.setState=function(fe,ve){if(typeof fe!="object"&&typeof fe!="function"&&fe!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,fe,ve,"setState")},v.prototype.forceUpdate=function(fe){this.updater.enqueueForceUpdate(this,fe,"forceUpdate")};function b(){}b.prototype=v.prototype;function j(fe,ve,B){this.props=fe,this.context=ve,this.refs=x,this.updater=B||A}var E=j.prototype=new b;E.constructor=j,y(E,v.prototype),E.isPureReactComponent=!0;var T=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function M(fe,ve,B,R,Y,ie){return B=ie.ref,{$$typeof:e,type:fe,key:ve,ref:B!==void 0?B:null,props:ie}}function k(fe,ve){return M(fe.type,ve,void 0,void 0,void 0,fe.props)}function Q(fe){return typeof fe=="object"&&fe!==null&&fe.$$typeof===e}function z(fe){var ve={"=":"=0",":":"=2"};return"$"+fe.replace(/[=:]/g,function(B){return ve[B]})}var O=/\/+/g;function L(fe,ve){return typeof fe=="object"&&fe!==null&&fe.key!=null?z(""+fe.key):ve.toString(36)}function V(){}function J(fe){switch(fe.status){case"fulfilled":return fe.value;case"rejected":throw fe.reason;default:switch(typeof fe.status=="string"?fe.then(V,V):(fe.status="pending",fe.then(function(ve){fe.status==="pending"&&(fe.status="fulfilled",fe.value=ve)},function(ve){fe.status==="pending"&&(fe.status="rejected",fe.reason=ve)})),fe.status){case"fulfilled":return fe.value;case"rejected":throw fe.reason}}throw fe}function ce(fe,ve,B,R,Y){var ie=typeof fe;(ie==="undefined"||ie==="boolean")&&(fe=null);var ge=!1;if(fe===null)ge=!0;else switch(ie){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(fe.$$typeof){case e:case t:ge=!0;break;case u:return ge=fe._init,ce(ge(fe._payload),ve,B,R,Y)}}if(ge)return Y=Y(fe),ge=R===""?"."+L(fe,0):R,T(Y)?(B="",ge!=null&&(B=ge.replace(O,"$&/")+"/"),ce(Y,ve,B,"",function(Z){return Z})):Y!=null&&(Q(Y)&&(Y=k(Y,B+(Y.key==null||fe&&fe.key===Y.key?"":(""+Y.key).replace(O,"$&/")+"/")+ge)),ve.push(Y)),1;ge=0;var ye=R===""?".":R+":";if(T(fe))for(var pe=0;pe<fe.length;pe++)R=fe[pe],ie=ye+L(R,pe),ge+=ce(R,ve,B,ie,Y);else if(pe=m(fe),typeof pe=="function")for(fe=pe.call(fe),pe=0;!(R=fe.next()).done;)R=R.value,ie=ye+L(R,pe++),ge+=ce(R,ve,B,ie,Y);else if(ie==="object"){if(typeof fe.then=="function")return ce(J(fe),ve,B,R,Y);throw ve=String(fe),Error("Objects are not valid as a React child (found: "+(ve==="[object Object]"?"object with keys {"+Object.keys(fe).join(", ")+"}":ve)+"). If you meant to render a collection of children, use an array instead.")}return ge}function ee(fe,ve,B){if(fe==null)return fe;var R=[],Y=0;return ce(fe,R,"","",function(ie){return ve.call(B,ie,Y++)}),R}function de(fe){if(fe._status===-1){var ve=fe._result;ve=ve(),ve.then(function(B){(fe._status===0||fe._status===-1)&&(fe._status=1,fe._result=B)},function(B){(fe._status===0||fe._status===-1)&&(fe._status=2,fe._result=B)}),fe._status===-1&&(fe._status=0,fe._result=ve)}if(fe._status===1)return fe._result.default;throw fe._result}var se=typeof reportError=="function"?reportError:function(fe){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ve=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof fe=="object"&&fe!==null&&typeof fe.message=="string"?String(fe.message):String(fe),error:fe});if(!window.dispatchEvent(ve))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",fe);return}console.error(fe)};function he(){}return Za.Children={map:ee,forEach:function(fe,ve,B){ee(fe,function(){ve.apply(this,arguments)},B)},count:function(fe){var ve=0;return ee(fe,function(){ve++}),ve},toArray:function(fe){return ee(fe,function(ve){return ve})||[]},only:function(fe){if(!Q(fe))throw Error("React.Children.only expected to receive a single React element child.");return fe}},Za.Component=v,Za.Fragment=r,Za.Profiler=s,Za.PureComponent=j,Za.StrictMode=n,Za.Suspense=c,Za.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Za.__COMPILER_RUNTIME={__proto__:null,c:function(fe){return P.H.useMemoCache(fe)}},Za.cache=function(fe){return function(){return fe.apply(null,arguments)}},Za.cloneElement=function(fe,ve,B){if(fe==null)throw Error("The argument must be a React element, but you passed "+fe+".");var R=y({},fe.props),Y=fe.key,ie=void 0;if(ve!=null)for(ge in ve.ref!==void 0&&(ie=void 0),ve.key!==void 0&&(Y=""+ve.key),ve)!U.call(ve,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&ve.ref===void 0||(R[ge]=ve[ge]);var ge=arguments.length-2;if(ge===1)R.children=B;else if(1<ge){for(var ye=Array(ge),pe=0;pe<ge;pe++)ye[pe]=arguments[pe+2];R.children=ye}return M(fe.type,Y,void 0,void 0,ie,R)},Za.createContext=function(fe){return fe={$$typeof:o,_currentValue:fe,_currentValue2:fe,_threadCount:0,Provider:null,Consumer:null},fe.Provider=fe,fe.Consumer={$$typeof:i,_context:fe},fe},Za.createElement=function(fe,ve,B){var R,Y={},ie=null;if(ve!=null)for(R in ve.key!==void 0&&(ie=""+ve.key),ve)U.call(ve,R)&&R!=="key"&&R!=="__self"&&R!=="__source"&&(Y[R]=ve[R]);var ge=arguments.length-2;if(ge===1)Y.children=B;else if(1<ge){for(var ye=Array(ge),pe=0;pe<ge;pe++)ye[pe]=arguments[pe+2];Y.children=ye}if(fe&&fe.defaultProps)for(R in ge=fe.defaultProps,ge)Y[R]===void 0&&(Y[R]=ge[R]);return M(fe,ie,void 0,void 0,null,Y)},Za.createRef=function(){return{current:null}},Za.forwardRef=function(fe){return{$$typeof:l,render:fe}},Za.isValidElement=Q,Za.lazy=function(fe){return{$$typeof:u,_payload:{_status:-1,_result:fe},_init:de}},Za.memo=function(fe,ve){return{$$typeof:d,type:fe,compare:ve===void 0?null:ve}},Za.startTransition=function(fe){var ve=P.T,B={};P.T=B;try{var R=fe(),Y=P.S;Y!==null&&Y(B,R),typeof R=="object"&&R!==null&&typeof R.then=="function"&&R.then(he,se)}catch(ie){se(ie)}finally{P.T=ve}},Za.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Za.use=function(fe){return P.H.use(fe)},Za.useActionState=function(fe,ve,B){return P.H.useActionState(fe,ve,B)},Za.useCallback=function(fe,ve){return P.H.useCallback(fe,ve)},Za.useContext=function(fe){return P.H.useContext(fe)},Za.useDebugValue=function(){},Za.useDeferredValue=function(fe,ve){return P.H.useDeferredValue(fe,ve)},Za.useEffect=function(fe,ve,B){var R=P.H;if(typeof B=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return R.useEffect(fe,ve)},Za.useId=function(){return P.H.useId()},Za.useImperativeHandle=function(fe,ve,B){return P.H.useImperativeHandle(fe,ve,B)},Za.useInsertionEffect=function(fe,ve){return P.H.useInsertionEffect(fe,ve)},Za.useLayoutEffect=function(fe,ve){return P.H.useLayoutEffect(fe,ve)},Za.useMemo=function(fe,ve){return P.H.useMemo(fe,ve)},Za.useOptimistic=function(fe,ve){return P.H.useOptimistic(fe,ve)},Za.useReducer=function(fe,ve,B){return P.H.useReducer(fe,ve,B)},Za.useRef=function(fe){return P.H.useRef(fe)},Za.useState=function(fe){return P.H.useState(fe)},Za.useSyncExternalStore=function(fe,ve,B){return P.H.useSyncExternalStore(fe,ve,B)},Za.useTransition=function(){return P.H.useTransition()},Za.version="19.1.1",Za}var _I;function ry(){return _I||(_I=1,JS.exports=tZ()),JS.exports}var C=ry();const Kn=dA(C),rZ=XJ({__proto__:null,default:Kn},[C]);var ZS={exports:{}},Zy={},e3={exports:{}},t3={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FI;function nZ(){return FI||(FI=1,(function(e){function t(ee,de){var se=ee.length;ee.push(de);e:for(;0<se;){var he=se-1>>>1,fe=ee[he];if(0<s(fe,de))ee[he]=de,ee[se]=fe,se=he;else break e}}function r(ee){return ee.length===0?null:ee[0]}function n(ee){if(ee.length===0)return null;var de=ee[0],se=ee.pop();if(se!==de){ee[0]=se;e:for(var he=0,fe=ee.length,ve=fe>>>1;he<ve;){var B=2*(he+1)-1,R=ee[B],Y=B+1,ie=ee[Y];if(0>s(R,se))Y<fe&&0>s(ie,R)?(ee[he]=ie,ee[Y]=se,he=Y):(ee[he]=R,ee[B]=se,he=B);else if(Y<fe&&0>s(ie,se))ee[he]=ie,ee[Y]=se,he=Y;else break e}}return de}function s(ee,de){var se=ee.sortIndex-de.sortIndex;return se!==0?se:ee.id-de.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,A=!1,y=!1,x=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function T(ee){for(var de=r(d);de!==null;){if(de.callback===null)n(d);else if(de.startTime<=ee)n(d),de.sortIndex=de.expirationTime,t(c,de);else break;de=r(d)}}function P(ee){if(x=!1,T(ee),!y)if(r(c)!==null)y=!0,U||(U=!0,L());else{var de=r(d);de!==null&&ce(P,de.startTime-ee)}}var U=!1,M=-1,k=5,Q=-1;function z(){return v?!0:!(e.unstable_now()-Q<k)}function O(){if(v=!1,U){var ee=e.unstable_now();Q=ee;var de=!0;try{e:{y=!1,x&&(x=!1,j(M),M=-1),A=!0;var se=m;try{t:{for(T(ee),h=r(c);h!==null&&!(h.expirationTime>ee&&z());){var he=h.callback;if(typeof he=="function"){h.callback=null,m=h.priorityLevel;var fe=he(h.expirationTime<=ee);if(ee=e.unstable_now(),typeof fe=="function"){h.callback=fe,T(ee),de=!0;break t}h===r(c)&&n(c),T(ee)}else n(c);h=r(c)}if(h!==null)de=!0;else{var ve=r(d);ve!==null&&ce(P,ve.startTime-ee),de=!1}}break e}finally{h=null,m=se,A=!1}de=void 0}}finally{de?L():U=!1}}}var L;if(typeof E=="function")L=function(){E(O)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,J=V.port2;V.port1.onmessage=O,L=function(){J.postMessage(null)}}else L=function(){b(O,0)};function ce(ee,de){M=b(function(){ee(e.unstable_now())},de)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(ee){switch(m){case 1:case 2:case 3:var de=3;break;default:de=m}var se=m;m=de;try{return ee()}finally{m=se}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function(ee,de){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var se=m;m=ee;try{return de()}finally{m=se}},e.unstable_scheduleCallback=function(ee,de,se){var he=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?he+se:he):se=he,ee){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=se+fe,ee={id:u++,callback:de,priorityLevel:ee,startTime:se,expirationTime:fe,sortIndex:-1},se>he?(ee.sortIndex=se,t(d,ee),r(c)===null&&ee===r(d)&&(x?(j(M),M=-1):x=!0,ce(P,se-he))):(ee.sortIndex=fe,t(c,ee),y||A||(y=!0,U||(U=!0,L()))),ee},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(ee){var de=m;return function(){var se=m;m=de;try{return ee.apply(this,arguments)}finally{m=se}}}})(t3)),t3}var II;function aZ(){return II||(II=1,e3.exports=nZ()),e3.exports}var r3={exports:{}},yd={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kI;function sZ(){if(kI)return yd;kI=1;var e=ry();function t(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)d+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(c,d,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:h==null?null:""+h,children:c,containerInfo:d,implementation:u}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return yd.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,yd.createPortal=function(c,d){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return i(c,d,null,u)},yd.flushSync=function(c){var d=o.T,u=n.p;try{if(o.T=null,n.p=2,c)return c()}finally{o.T=d,n.p=u,n.d.f()}},yd.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(c,d))},yd.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},yd.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var u=d.as,h=l(u,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,A=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;u==="style"?n.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:h,integrity:m,fetchPriority:A}):u==="script"&&n.d.X(c,{crossOrigin:h,integrity:m,fetchPriority:A,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},yd.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var u=l(d.as,d.crossOrigin);n.d.M(c,{crossOrigin:u,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(c)},yd.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var u=d.as,h=l(u,d.crossOrigin);n.d.L(c,u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},yd.preloadModule=function(c,d){if(typeof c=="string")if(d){var u=l(d.as,d.crossOrigin);n.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:u,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(c)},yd.requestFormReset=function(c){n.d.r(c)},yd.unstable_batchedUpdates=function(c,d){return c(d)},yd.useFormState=function(c,d,u){return o.H.useFormState(c,d,u)},yd.useFormStatus=function(){return o.H.useHostTransitionStatus()},yd.version="19.1.1",yd}var PI;function b9(){if(PI)return r3.exports;PI=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),r3.exports=sZ(),r3.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LI;function iZ(){if(LI)return Zy;LI=1;var e=aZ(),t=ry(),r=b9();function n(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function i(f){var p=f,w=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,(p.flags&4098)!==0&&(w=p.return),f=p.return;while(f)}return p.tag===3?w:null}function o(f){if(f.tag===13){var p=f.memoizedState;if(p===null&&(f=f.alternate,f!==null&&(p=f.memoizedState)),p!==null)return p.dehydrated}return null}function l(f){if(i(f)!==f)throw Error(n(188))}function c(f){var p=f.alternate;if(!p){if(p=i(f),p===null)throw Error(n(188));return p!==f?null:f}for(var w=f,F=p;;){var W=w.return;if(W===null)break;var oe=W.alternate;if(oe===null){if(F=W.return,F!==null){w=F;continue}break}if(W.child===oe.child){for(oe=W.child;oe;){if(oe===w)return l(W),f;if(oe===F)return l(W),p;oe=oe.sibling}throw Error(n(188))}if(w.return!==F.return)w=W,F=oe;else{for(var ze=!1,At=W.child;At;){if(At===w){ze=!0,w=W,F=oe;break}if(At===F){ze=!0,F=W,w=oe;break}At=At.sibling}if(!ze){for(At=oe.child;At;){if(At===w){ze=!0,w=oe,F=W;break}if(At===F){ze=!0,F=oe,w=W;break}At=At.sibling}if(!ze)throw Error(n(189))}}if(w.alternate!==F)throw Error(n(190))}if(w.tag!==3)throw Error(n(188));return w.stateNode.current===w?f:p}function d(f){var p=f.tag;if(p===5||p===26||p===27||p===6)return f;for(f=f.child;f!==null;){if(p=d(f),p!==null)return p;f=f.sibling}return null}var u=Object.assign,h=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(f){return f===null||typeof f!="object"?null:(f=O&&f[O]||f["@@iterator"],typeof f=="function"?f:null)}var V=Symbol.for("react.client.reference");function J(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===V?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case y:return"Fragment";case v:return"Profiler";case x:return"StrictMode";case P:return"Suspense";case U:return"SuspenseList";case Q:return"Activity"}if(typeof f=="object")switch(f.$$typeof){case A:return"Portal";case E:return(f.displayName||"Context")+".Provider";case j:return(f._context.displayName||"Context")+".Consumer";case T:var p=f.render;return f=f.displayName,f||(f=p.displayName||p.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case M:return p=f.displayName||null,p!==null?p:J(f.type)||"Memo";case k:p=f._payload,f=f._init;try{return J(f(p))}catch{}}return null}var ce=Array.isArray,ee=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},he=[],fe=-1;function ve(f){return{current:f}}function B(f){0>fe||(f.current=he[fe],he[fe]=null,fe--)}function R(f,p){fe++,he[fe]=f.current,f.current=p}var Y=ve(null),ie=ve(null),ge=ve(null),ye=ve(null);function pe(f,p){switch(R(ge,p),R(ie,f),R(Y,null),p.nodeType){case 9:case 11:f=(f=p.documentElement)&&(f=f.namespaceURI)?jo(f):0;break;default:if(f=p.tagName,p=p.namespaceURI)p=jo(p),f=Po(p,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}B(Y),R(Y,f)}function Z(){B(Y),B(ie),B(ge)}function le(f){f.memoizedState!==null&&R(ye,f);var p=Y.current,w=Po(p,f.type);p!==w&&(R(ie,f),R(Y,w))}function te(f){ie.current===f&&(B(Y),B(ie)),ye.current===f&&(B(ye),Up._currentValue=se)}var Ne=Object.prototype.hasOwnProperty,Fe=e.unstable_scheduleCallback,be=e.unstable_cancelCallback,re=e.unstable_shouldYield,Ce=e.unstable_requestPaint,st=e.unstable_now,et=e.unstable_getCurrentPriorityLevel,He=e.unstable_ImmediatePriority,ct=e.unstable_UserBlockingPriority,_e=e.unstable_NormalPriority,ke=e.unstable_LowPriority,Ze=e.unstable_IdlePriority,Pe=e.log,ot=e.unstable_setDisableYieldValue,Ge=null,lt=null;function Je(f){if(typeof Pe=="function"&&ot(f),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(Ge,f)}catch{}}var Me=Math.clz32?Math.clz32:Ke,Te=Math.log,je=Math.LN2;function Ke(f){return f>>>=0,f===0?32:31-(Te(f)/je|0)|0}var Le=256,rt=4194304;function Oe(f){var p=f&42;if(p!==0)return p;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function De(f,p,w){var F=f.pendingLanes;if(F===0)return 0;var W=0,oe=f.suspendedLanes,ze=f.pingedLanes;f=f.warmLanes;var At=F&134217727;return At!==0?(F=At&~oe,F!==0?W=Oe(F):(ze&=At,ze!==0?W=Oe(ze):w||(w=At&~f,w!==0&&(W=Oe(w))))):(At=F&~oe,At!==0?W=Oe(At):ze!==0?W=Oe(ze):w||(w=F&~f,w!==0&&(W=Oe(w)))),W===0?0:p!==0&&p!==W&&(p&oe)===0&&(oe=W&-W,w=p&-p,oe>=w||oe===32&&(w&4194048)!==0)?p:W}function ut(f,p){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&p)===0}function _t(f,p){switch(f){case 1:case 2:case 4:case 8:case 64:return p+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qt(){var f=Le;return Le<<=1,(Le&4194048)===0&&(Le=256),f}function Ft(){var f=rt;return rt<<=1,(rt&62914560)===0&&(rt=4194304),f}function gt(f){for(var p=[],w=0;31>w;w++)p.push(f);return p}function Zt(f,p){f.pendingLanes|=p,p!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function $t(f,p,w,F,W,oe){var ze=f.pendingLanes;f.pendingLanes=w,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=w,f.entangledLanes&=w,f.errorRecoveryDisabledLanes&=w,f.shellSuspendCounter=0;var At=f.entanglements,Lt=f.expirationTimes,ir=f.hiddenUpdates;for(w=ze&~w;0<w;){var jr=31-Me(w),_r=1<<jr;At[jr]=0,Lt[jr]=-1;var dr=ir[jr];if(dr!==null)for(ir[jr]=null,jr=0;jr<dr.length;jr++){var or=dr[jr];or!==null&&(or.lane&=-536870913)}w&=~_r}F!==0&&rr(f,F,0),oe!==0&&W===0&&f.tag!==0&&(f.suspendedLanes|=oe&~(ze&~p))}function rr(f,p,w){f.pendingLanes|=p,f.suspendedLanes&=~p;var F=31-Me(p);f.entangledLanes|=p,f.entanglements[F]=f.entanglements[F]|1073741824|w&4194090}function kr(f,p){var w=f.entangledLanes|=p;for(f=f.entanglements;w;){var F=31-Me(w),W=1<<F;W&p|f[F]&p&&(f[F]|=p),w&=~W}}function Qr(f){switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=128;break;case 268435456:f=134217728;break;default:f=0}return f}function dn(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function ja(){var f=de.p;return f!==0?f:(f=window.event,f===void 0?32:Zw(f.type))}function rn(f,p){var w=de.p;try{return de.p=f,p()}finally{de.p=w}}var Vr=Math.random().toString(36).slice(2),On="__reactFiber$"+Vr,Gn="__reactProps$"+Vr,Dn="__reactContainer$"+Vr,Ct="__reactEvents$"+Vr,fr="__reactListeners$"+Vr,$e="__reactHandles$"+Vr,pt="__reactResources$"+Vr,ft="__reactMarker$"+Vr;function mt(f){delete f[On],delete f[Gn],delete f[Ct],delete f[fr],delete f[$e]}function Re(f){var p=f[On];if(p)return p;for(var w=f.parentNode;w;){if(p=w[Dn]||w[On]){if(w=p.alternate,p.child!==null||w!==null&&w.child!==null)for(f=Qw(f);f!==null;){if(w=f[On])return w;f=Qw(f)}return p}f=w,w=f.parentNode}return null}function Ee(f){if(f=f[On]||f[Dn]){var p=f.tag;if(p===5||p===6||p===13||p===26||p===27||p===3)return f}return null}function ht(f){var p=f.tag;if(p===5||p===26||p===27||p===6)return f.stateNode;throw Error(n(33))}function nt(f){var p=f[pt];return p||(p=f[pt]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function Et(f){f[ft]=!0}var Qe=new Set,bt={};function It(f,p){nr(f,p),nr(f+"Capture",p)}function nr(f,p){for(bt[f]=p,f=0;f<p.length;f++)Qe.add(p[f])}var tr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vr={},yr={};function Yr(f){return Ne.call(yr,f)?!0:Ne.call(vr,f)?!1:tr.test(f)?yr[f]=!0:(vr[f]=!0,!1)}function zn(f,p,w){if(Yr(p))if(w===null)f.removeAttribute(p);else{switch(typeof w){case"undefined":case"function":case"symbol":f.removeAttribute(p);return;case"boolean":var F=p.toLowerCase().slice(0,5);if(F!=="data-"&&F!=="aria-"){f.removeAttribute(p);return}}f.setAttribute(p,""+w)}}function Hn(f,p,w){if(w===null)f.removeAttribute(p);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(p);return}f.setAttribute(p,""+w)}}function xa(f,p,w,F){if(F===null)f.removeAttribute(w);else{switch(typeof F){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(w);return}f.setAttributeNS(p,w,""+F)}}var Ai,Ya;function mi(f){if(Ai===void 0)try{throw Error()}catch(w){var p=w.stack.trim().match(/\n( *(at )?)/);Ai=p&&p[1]||"",Ya=-1<w.stack.indexOf(`
    at`)?" (<anonymous>)":-1<w.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ai+f+Ya}var Ro=!1;function po(f,p){if(!f||Ro)return"";Ro=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var F={DetermineComponentFrameRoot:function(){try{if(p){var _r=function(){throw Error()};if(Object.defineProperty(_r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_r,[])}catch(or){var dr=or}Reflect.construct(f,[],_r)}else{try{_r.call()}catch(or){dr=or}f.call(_r.prototype)}}else{try{throw Error()}catch(or){dr=or}(_r=f())&&typeof _r.catch=="function"&&_r.catch(function(){})}}catch(or){if(or&&dr&&typeof or.stack=="string")return[or.stack,dr.stack]}return[null,null]}};F.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var W=Object.getOwnPropertyDescriptor(F.DetermineComponentFrameRoot,"name");W&&W.configurable&&Object.defineProperty(F.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var oe=F.DetermineComponentFrameRoot(),ze=oe[0],At=oe[1];if(ze&&At){var Lt=ze.split(`
`),ir=At.split(`
`);for(W=F=0;F<Lt.length&&!Lt[F].includes("DetermineComponentFrameRoot");)F++;for(;W<ir.length&&!ir[W].includes("DetermineComponentFrameRoot");)W++;if(F===Lt.length||W===ir.length)for(F=Lt.length-1,W=ir.length-1;1<=F&&0<=W&&Lt[F]!==ir[W];)W--;for(;1<=F&&0<=W;F--,W--)if(Lt[F]!==ir[W]){if(F!==1||W!==1)do if(F--,W--,0>W||Lt[F]!==ir[W]){var jr=`
`+Lt[F].replace(" at new "," at ");return f.displayName&&jr.includes("<anonymous>")&&(jr=jr.replace("<anonymous>",f.displayName)),jr}while(1<=F&&0<=W);break}}}finally{Ro=!1,Error.prepareStackTrace=w}return(w=f?f.displayName||f.name:"")?mi(w):""}function pi(f){switch(f.tag){case 26:case 27:case 5:return mi(f.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return po(f.type,!1);case 11:return po(f.type.render,!1);case 1:return po(f.type,!0);case 31:return mi("Activity");default:return""}}function Qs(f){try{var p="";do p+=pi(f),f=f.return;while(f);return p}catch(w){return`
Error generating stack: `+w.message+`
`+w.stack}}function Qa(f){switch(typeof f){case"bigint":case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function Pu(f){var p=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Ac(f){var p=Pu(f)?"checked":"value",w=Object.getOwnPropertyDescriptor(f.constructor.prototype,p),F=""+f[p];if(!f.hasOwnProperty(p)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var W=w.get,oe=w.set;return Object.defineProperty(f,p,{configurable:!0,get:function(){return W.call(this)},set:function(ze){F=""+ze,oe.call(this,ze)}}),Object.defineProperty(f,p,{enumerable:w.enumerable}),{getValue:function(){return F},setValue:function(ze){F=""+ze},stopTracking:function(){f._valueTracker=null,delete f[p]}}}}function ao(f){f._valueTracker||(f._valueTracker=Ac(f))}function nl(f){if(!f)return!1;var p=f._valueTracker;if(!p)return!0;var w=p.getValue(),F="";return f&&(F=Pu(f)?f.checked?"true":"false":f.value),f=F,f!==w?(p.setValue(f),!0):!1}function bs(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}var Is=/[\n"\\]/g;function Zn(f){return f.replace(Is,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function mc(f,p,w,F,W,oe,ze,At){f.name="",ze!=null&&typeof ze!="function"&&typeof ze!="symbol"&&typeof ze!="boolean"?f.type=ze:f.removeAttribute("type"),p!=null?ze==="number"?(p===0&&f.value===""||f.value!=p)&&(f.value=""+Qa(p)):f.value!==""+Qa(p)&&(f.value=""+Qa(p)):ze!=="submit"&&ze!=="reset"||f.removeAttribute("value"),p!=null?Lu(f,ze,Qa(p)):w!=null?Lu(f,ze,Qa(w)):F!=null&&f.removeAttribute("value"),W==null&&oe!=null&&(f.defaultChecked=!!oe),W!=null&&(f.checked=W&&typeof W!="function"&&typeof W!="symbol"),At!=null&&typeof At!="function"&&typeof At!="symbol"&&typeof At!="boolean"?f.name=""+Qa(At):f.removeAttribute("name")}function sd(f,p,w,F,W,oe,ze,At){if(oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&typeof oe!="boolean"&&(f.type=oe),p!=null||w!=null){if(!(oe!=="submit"&&oe!=="reset"||p!=null))return;w=w!=null?""+Qa(w):"",p=p!=null?""+Qa(p):w,At||p===f.value||(f.value=p),f.defaultValue=p}F=F??W,F=typeof F!="function"&&typeof F!="symbol"&&!!F,f.checked=At?f.checked:!!F,f.defaultChecked=!!F,ze!=null&&typeof ze!="function"&&typeof ze!="symbol"&&typeof ze!="boolean"&&(f.name=ze)}function Lu(f,p,w){p==="number"&&bs(f.ownerDocument)===f||f.defaultValue===""+w||(f.defaultValue=""+w)}function Rc(f,p,w,F){if(f=f.options,p){p={};for(var W=0;W<w.length;W++)p["$"+w[W]]=!0;for(w=0;w<f.length;w++)W=p.hasOwnProperty("$"+f[w].value),f[w].selected!==W&&(f[w].selected=W),W&&F&&(f[w].defaultSelected=!0)}else{for(w=""+Qa(w),p=null,W=0;W<f.length;W++){if(f[W].value===w){f[W].selected=!0,F&&(f[W].defaultSelected=!0);return}p!==null||f[W].disabled||(p=f[W])}p!==null&&(p.selected=!0)}}function pl(f,p,w){if(p!=null&&(p=""+Qa(p),p!==f.value&&(f.value=p),w==null)){f.defaultValue!==p&&(f.defaultValue=p);return}f.defaultValue=w!=null?""+Qa(w):""}function iu(f,p,w,F){if(p==null){if(F!=null){if(w!=null)throw Error(n(92));if(ce(F)){if(1<F.length)throw Error(n(93));F=F[0]}w=F}w==null&&(w=""),p=w}w=Qa(p),f.defaultValue=w,F=f.textContent,F===w&&F!==""&&F!==null&&(f.value=F)}function Ul(f,p){if(p){var w=f.firstChild;if(w&&w===f.lastChild&&w.nodeType===3){w.nodeValue=p;return}}f.textContent=p}var zi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ou(f,p,w){var F=p.indexOf("--")===0;w==null||typeof w=="boolean"||w===""?F?f.setProperty(p,""):p==="float"?f.cssFloat="":f[p]="":F?f.setProperty(p,w):typeof w!="number"||w===0||zi.has(p)?p==="float"?f.cssFloat=w:f[p]=(""+w).trim():f[p]=w+"px"}function id(f,p,w){if(p!=null&&typeof p!="object")throw Error(n(62));if(f=f.style,w!=null){for(var F in w)!w.hasOwnProperty(F)||p!=null&&p.hasOwnProperty(F)||(F.indexOf("--")===0?f.setProperty(F,""):F==="float"?f.cssFloat="":f[F]="");for(var W in p)F=p[W],p.hasOwnProperty(W)&&w[W]!==F&&Ou(f,W,F)}else for(var oe in p)p.hasOwnProperty(oe)&&Ou(f,oe,p[oe])}function Ud(f){if(f.indexOf("-")===-1)return!1;switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function go(f){return gc.test(""+f)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":f}var Vi=null;function Ki(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var gl=null,Rl=null;function Dr(f){var p=Ee(f);if(p&&(f=p.stateNode)){var w=f[Gn]||null;e:switch(f=p.stateNode,p.type){case"input":if(mc(f,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name),p=w.name,w.type==="radio"&&p!=null){for(w=f;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll('input[name="'+Zn(""+p)+'"][type="radio"]'),p=0;p<w.length;p++){var F=w[p];if(F!==f&&F.form===f.form){var W=F[Gn]||null;if(!W)throw Error(n(90));mc(F,W.value,W.defaultValue,W.defaultValue,W.checked,W.defaultChecked,W.type,W.name)}}for(p=0;p<w.length;p++)F=w[p],F.form===f.form&&nl(F)}break e;case"textarea":pl(f,w.value,w.defaultValue);break e;case"select":p=w.value,p!=null&&Rc(f,!!w.multiple,p,!1)}}}var Rd=!1;function ff(f,p,w){if(Rd)return f(p,w);Rd=!0;try{var F=f(p);return F}finally{if(Rd=!1,(gl!==null||Rl!==null)&&(Ba(),gl&&(p=gl,f=Rl,Rl=gl=null,Dr(p),f)))for(p=0;p<f.length;p++)Dr(f[p])}}function Qo(f,p){var w=f.stateNode;if(w===null)return null;var F=w[Gn]||null;if(F===null)return null;w=F[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(F=!F.disabled)||(f=f.type,F=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!F;break e;default:f=!1}if(f)return null;if(w&&typeof w!="function")throw Error(n(231,p,typeof w));return w}var xl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ho=!1;if(xl)try{var xo={};Object.defineProperty(xo,"passive",{get:function(){Ho=!0}}),window.addEventListener("test",xo,xo),window.removeEventListener("test",xo,xo)}catch{Ho=!1}var oi=null,od=null,xc=null;function Du(){if(xc)return xc;var f,p=od,w=p.length,F,W="value"in oi?oi.value:oi.textContent,oe=W.length;for(f=0;f<w&&p[f]===W[f];f++);var ze=w-f;for(F=1;F<=ze&&p[w-F]===W[oe-F];F++);return xc=W.slice(f,1<F?1-F:void 0)}function _a(f){var p=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&p===13&&(f=13)):f=p,f===10&&(f=13),32<=f||f===13?f:0}function va(){return!0}function vl(){return!1}function so(f){function p(w,F,W,oe,ze){this._reactName=w,this._targetInst=W,this.type=F,this.nativeEvent=oe,this.target=ze,this.currentTarget=null;for(var At in f)f.hasOwnProperty(At)&&(w=f[At],this[At]=w?w(oe):oe[At]);return this.isDefaultPrevented=(oe.defaultPrevented!=null?oe.defaultPrevented:oe.returnValue===!1)?va:vl,this.isPropagationStopped=vl,this}return u(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=va)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=va)},persist:function(){},isPersistent:va}),p}var vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ql=so(vo),$o=u({},vo,{view:0,detail:0}),ou=so($o),ks,Qc,Xa,Ci=u({},$o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tn,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Xa&&(Xa&&f.type==="mousemove"?(ks=f.screenX-Xa.screenX,Qc=f.screenY-Xa.screenY):Qc=ks=0,Xa=f),ks)},movementY:function(f){return"movementY"in f?f.movementY:Qc}}),io=so(Ci),Qd=u({},Ci,{dataTransfer:0}),yo=so(Qd),Ja=u({},$o,{relatedTarget:0}),yl=so(Ja),vc=u({},vo,{animationName:0,elapsedTime:0,pseudoElement:0}),lu=so(vc),Co=u({},vo,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),Ae=so(Co),We=u({},vo,{data:0}),St=so(We),Mt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Er(f){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(f):(f=wr[f])?!!p[f]:!1}function tn(){return Er}var gn=u({},$o,{key:function(f){if(f.key){var p=Mt[f.key]||f.key;if(p!=="Unidentified")return p}return f.type==="keypress"?(f=_a(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?Vt[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tn,charCode:function(f){return f.type==="keypress"?_a(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?_a(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),kn=so(gn),nn=u({},Ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ia=so(nn),ts=u({},$o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tn}),Ws=so(ts),ae=u({},vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),qe=so(ae),Bt=u({},Ci,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),Ot=so(Bt),Gt=u({},vo,{newState:0,oldState:0}),hr=so(Gt),Br=[9,13,27,32],Xr=xl&&"CompositionEvent"in window,An=null;xl&&"documentMode"in document&&(An=document.documentMode);var Pn=xl&&"TextEvent"in window&&!An,_n=xl&&(!Xr||An&&8<An&&11>=An),na=" ",Ha=!1;function oa(f,p){switch(f){case"keyup":return Br.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function En(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var As=!1;function Ys(f,p){switch(f){case"compositionend":return En(p);case"keypress":return p.which!==32?null:(Ha=!0,na);case"textInput":return f=p.data,f===na&&Ha?null:f;default:return null}}function Eo(f,p){if(As)return f==="compositionend"||!Xr&&oa(f,p)?(f=Du(),xc=od=oi=null,As=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return _n&&p.locale!=="ko"?null:p.data;default:return null}}var Mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function us(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p==="input"?!!Mn[f.type]:p==="textarea"}function bl(f,p,w,F){gl?Rl?Rl.push(F):Rl=[F]:gl=F,p=F1(p,"onChange"),0<p.length&&(w=new Ql("onChange","change",null,w,F),f.push({event:w,listeners:p}))}var qi=null,ya=null;function Hl(f){kw(f,0)}function vs(f){var p=ht(f);if(nl(p))return f}function yc(f,p){if(f==="change")return p}var Ei=!1;if(xl){var ms;if(xl){var $n="oninput"in document;if(!$n){var Gi=document.createElement("div");Gi.setAttribute("oninput","return;"),$n=typeof Gi.oninput=="function"}ms=$n}else ms=!1;Ei=ms&&(!document.documentMode||9<document.documentMode)}function al(){qi&&(qi.detachEvent("onpropertychange",Bo),ya=qi=null)}function Bo(f){if(f.propertyName==="value"&&vs(ya)){var p=[];bl(p,ya,f,Ki(f)),ff(Hl,p)}}function li(f,p,w){f==="focusin"?(al(),qi=p,ya=w,qi.attachEvent("onpropertychange",Bo)):f==="focusout"&&al()}function To(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return vs(ya)}function wl(f,p){if(f==="click")return vs(p)}function Hs(f,p){if(f==="input"||f==="change")return vs(p)}function Ps(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var Ka=typeof Object.is=="function"?Object.is:Ps;function ps(f,p){if(Ka(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var w=Object.keys(f),F=Object.keys(p);if(w.length!==F.length)return!1;for(F=0;F<w.length;F++){var W=w[F];if(!Ne.call(p,W)||!Ka(f[W],p[W]))return!1}return!0}function Pa(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function Bi(f,p){var w=Pa(f);f=0;for(var F;w;){if(w.nodeType===3){if(F=f+w.textContent.length,f<=p&&F>=p)return{node:w,offset:p-f};f=F}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=Pa(w)}}function $l(f,p){return f&&p?f===p?!0:f&&f.nodeType===3?!1:p&&p.nodeType===3?$l(f,p.parentNode):"contains"in f?f.contains(p):f.compareDocumentPosition?!!(f.compareDocumentPosition(p)&16):!1:!1}function Wi(f){f=f!=null&&f.ownerDocument!=null&&f.ownerDocument.defaultView!=null?f.ownerDocument.defaultView:window;for(var p=bs(f.document);p instanceof f.HTMLIFrameElement;){try{var w=typeof p.contentWindow.location.href=="string"}catch{w=!1}if(w)f=p.contentWindow;else break;p=bs(f.document)}return p}function Ls(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p&&(p==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||p==="textarea"||f.contentEditable==="true")}var zo=xl&&"documentMode"in document&&11>=document.documentMode,Ti=null,Os=null,Rt=null,Ar=!1;function Wt(f,p,w){var F=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;Ar||Ti==null||Ti!==bs(F)||(F=Ti,"selectionStart"in F&&Ls(F)?F={start:F.selectionStart,end:F.selectionEnd}:(F=(F.ownerDocument&&F.ownerDocument.defaultView||window).getSelection(),F={anchorNode:F.anchorNode,anchorOffset:F.anchorOffset,focusNode:F.focusNode,focusOffset:F.focusOffset}),Rt&&ps(Rt,F)||(Rt=F,F=F1(Os,"onSelect"),0<F.length&&(p=new Ql("onSelect","select",null,p,w),f.push({event:p,listeners:F}),p.target=Ti)))}function Hr(f,p){var w={};return w[f.toLowerCase()]=p.toLowerCase(),w["Webkit"+f]="webkit"+p,w["Moz"+f]="moz"+p,w}var Rr={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},cn={},ea={};xl&&(ea=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);function xn(f){if(cn[f])return cn[f];if(!Rr[f])return f;var p=Rr[f],w;for(w in p)if(p.hasOwnProperty(w)&&w in ea)return cn[f]=p[w];return f}var _o=xn("animationend"),bc=xn("animationiteration"),Xs=xn("animationstart"),Fo=xn("transitionrun"),ld=xn("transitionstart"),zl=xn("transitioncancel"),Vl=xn("transitionend"),Nl=new Map,ka="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ka.push("scrollEnd");function Js(f,p){Nl.set(f,p),It(p,[f])}var oo=new WeakMap;function ca(f,p){if(typeof f=="object"&&f!==null){var w=oo.get(f);return w!==void 0?w:(p={value:f,source:p,stack:Qs(p)},oo.set(f,p),p)}return{value:f,source:p,stack:Qs(p)}}var Sa=[],ws=0,$s=0;function Vo(){for(var f=ws,p=$s=ws=0;p<f;){var w=Sa[p];Sa[p++]=null;var F=Sa[p];Sa[p++]=null;var W=Sa[p];Sa[p++]=null;var oe=Sa[p];if(Sa[p++]=null,F!==null&&W!==null){var ze=F.pending;ze===null?W.next=W:(W.next=ze.next,ze.next=W),F.pending=W}oe!==0&&cu(w,W,oe)}}function Ko(f,p,w,F){Sa[ws++]=f,Sa[ws++]=p,Sa[ws++]=w,Sa[ws++]=F,$s|=F,f.lanes|=F,f=f.alternate,f!==null&&(f.lanes|=F)}function jl(f,p,w,F){return Ko(f,p,w,F),$c(f)}function Hc(f,p){return Ko(f,null,null,p),$c(f)}function cu(f,p,w){f.lanes|=w;var F=f.alternate;F!==null&&(F.lanes|=w);for(var W=!1,oe=f.return;oe!==null;)oe.childLanes|=w,F=oe.alternate,F!==null&&(F.childLanes|=w),oe.tag===22&&(f=oe.stateNode,f===null||f._visibility&1||(W=!0)),f=oe,oe=oe.return;return f.tag===3?(oe=f.stateNode,W&&p!==null&&(W=31-Me(w),f=oe.hiddenUpdates,F=f[W],F===null?f[W]=[p]:F.push(p),p.lane=w|536870912),oe):null}function $c(f){if(50<er)throw er=0,br=null,Error(n(185));for(var p=f.return;p!==null;)f=p,p=f.return;return f.tag===3?f.stateNode:null}var is={};function Ds(f,p,w,F){this.tag=f,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=F,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yi(f,p,w,F){return new Ds(f,p,w,F)}function Kl(f){return f=f.prototype,!(!f||!f.isReactComponent)}function gi(f,p){var w=f.alternate;return w===null?(w=Yi(f.tag,p,f.key,f.mode),w.elementType=f.elementType,w.type=f.type,w.stateNode=f.stateNode,w.alternate=f,f.alternate=w):(w.pendingProps=p,w.type=f.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=f.flags&65011712,w.childLanes=f.childLanes,w.lanes=f.lanes,w.child=f.child,w.memoizedProps=f.memoizedProps,w.memoizedState=f.memoizedState,w.updateQueue=f.updateQueue,p=f.dependencies,w.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},w.sibling=f.sibling,w.index=f.index,w.ref=f.ref,w.refCleanup=f.refCleanup,w}function zc(f,p){f.flags&=65011714;var w=f.alternate;return w===null?(f.childLanes=0,f.lanes=p,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=w.childLanes,f.lanes=w.lanes,f.child=w.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=w.memoizedProps,f.memoizedState=w.memoizedState,f.updateQueue=w.updateQueue,f.type=w.type,p=w.dependencies,f.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),f}function uu(f,p,w,F,W,oe){var ze=0;if(F=f,typeof f=="function")Kl(f)&&(ze=1);else if(typeof f=="string")ze=DS(f,w,Y.current)?26:f==="html"||f==="head"||f==="body"?27:5;else e:switch(f){case Q:return f=Yi(31,w,p,W),f.elementType=Q,f.lanes=oe,f;case y:return Sl(w.children,W,oe,p);case x:ze=8,W|=24;break;case v:return f=Yi(12,w,p,W|2),f.elementType=v,f.lanes=oe,f;case P:return f=Yi(13,w,p,W),f.elementType=P,f.lanes=oe,f;case U:return f=Yi(19,w,p,W),f.elementType=U,f.lanes=oe,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case b:case E:ze=10;break e;case j:ze=9;break e;case T:ze=11;break e;case M:ze=14;break e;case k:ze=16,F=null;break e}ze=29,w=Error(n(130,f===null?"null":typeof f,"")),F=null}return p=Yi(ze,w,p,W),p.elementType=f,p.type=F,p.lanes=oe,p}function Sl(f,p,w,F){return f=Yi(7,f,F,p),f.lanes=w,f}function zf(f,p,w){return f=Yi(6,f,null,p),f.lanes=w,f}function du(f,p,w){return p=Yi(4,f.children!==null?f.children:[],f.key,p),p.lanes=w,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}var ql=[],Cl=0,Vc=null,Vf=0,wc=[],El=0,zs=null,Ns=1,Mu="";function Hd(f,p){ql[Cl++]=Vf,ql[Cl++]=Vc,Vc=f,Vf=p}function AA(f,p,w){wc[El++]=Ns,wc[El++]=Mu,wc[El++]=zs,zs=f;var F=Ns;f=Mu;var W=32-Me(F)-1;F&=~(1<<W),w+=1;var oe=32-Me(p)+W;if(30<oe){var ze=W-W%5;oe=(F&(1<<ze)-1).toString(32),F>>=ze,W-=ze,Ns=1<<32-Me(p)+W|w<<W|F,Mu=oe+f}else Ns=1<<oe|w<<W|F,Mu=f}function $d(f){f.return!==null&&(Hd(f,1),AA(f,1,0))}function Nc(f){for(;f===Vc;)Vc=ql[--Cl],ql[Cl]=null,Vf=ql[--Cl],ql[Cl]=null;for(;f===zs;)zs=wc[--El],wc[El]=null,Mu=wc[--El],wc[El]=null,Ns=wc[--El],wc[El]=null}var js=null,Zs=null,La=!1,Gl=null,Bl=!1,hf=Error(n(519));function jc(f){var p=Error(n(418,""));throw fu(ca(p,f)),hf}function im(f){var p=f.stateNode,w=f.type,F=f.memoizedProps;switch(p[On]=f,p[Gn]=F,w){case"dialog":cs("cancel",p),cs("close",p);break;case"iframe":case"object":case"embed":cs("load",p);break;case"video":case"audio":for(w=0;w<ex.length;w++)cs(ex[w],p);break;case"source":cs("error",p);break;case"img":case"image":case"link":cs("error",p),cs("load",p);break;case"details":cs("toggle",p);break;case"input":cs("invalid",p),sd(p,F.value,F.defaultValue,F.checked,F.defaultChecked,F.type,F.name,!0),ao(p);break;case"select":cs("invalid",p);break;case"textarea":cs("invalid",p),iu(p,F.value,F.defaultValue,F.children),ao(p)}w=F.children,typeof w!="string"&&typeof w!="number"&&typeof w!="bigint"||p.textContent===""+w||F.suppressHydrationWarning===!0||Ow(p.textContent,w)?(F.popover!=null&&(cs("beforetoggle",p),cs("toggle",p)),F.onScroll!=null&&cs("scroll",p),F.onScrollEnd!=null&&cs("scrollend",p),F.onClick!=null&&(p.onclick=I1),p=!0):p=!1,p||jc(f)}function qo(f){for(js=f.return;js;)switch(js.tag){case 5:case 13:Bl=!1;return;case 27:case 3:Bl=!0;return;default:js=js.return}}function Vs(f){if(f!==js)return!1;if(!La)return qo(f),La=!0,!1;var p=f.tag,w;if((w=p!==3&&p!==27)&&((w=p===5)&&(w=f.type,w=!(w!=="form"&&w!=="button")||P1(f.type,f.memoizedProps)),w=!w),w&&Zs&&jc(f),qo(f),p===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));e:{for(f=f.nextSibling,p=0;f;){if(f.nodeType===8)if(w=f.data,w==="/$"){if(p===0){Zs=ch(f.nextSibling);break e}p--}else w!=="$"&&w!=="$!"&&w!=="$?"||p++;f=f.nextSibling}Zs=null}}else p===27?(p=Zs,Bf(f.type)?(f=Hy,Hy=null,Zs=f):Zs=p):Zs=js?ch(f.stateNode.nextSibling):null;return!0}function ei(){Zs=js=null,La=!1}function om(){var f=Gl;return f!==null&&(Nu===null?Nu=f:Nu.push.apply(Nu,f),Gl=null),f}function fu(f){Gl===null?Gl=[f]:Gl.push(f)}var xi=ve(null),ds=null,dt=null;function sl(f,p,w){R(xi,p._currentValue),p._currentValue=w}function Io(f){f._currentValue=xi.current,B(xi)}function Go(f,p,w){for(;f!==null;){var F=f.alternate;if((f.childLanes&p)!==p?(f.childLanes|=p,F!==null&&(F.childLanes|=p)):F!==null&&(F.childLanes&p)!==p&&(F.childLanes|=p),f===w)break;f=f.return}}function ba(f,p,w,F){var W=f.child;for(W!==null&&(W.return=f);W!==null;){var oe=W.dependencies;if(oe!==null){var ze=W.child;oe=oe.firstContext;e:for(;oe!==null;){var At=oe;oe=W;for(var Lt=0;Lt<p.length;Lt++)if(At.context===p[Lt]){oe.lanes|=w,At=oe.alternate,At!==null&&(At.lanes|=w),Go(oe.return,w,f),F||(ze=null);break e}oe=At.next}}else if(W.tag===18){if(ze=W.return,ze===null)throw Error(n(341));ze.lanes|=w,oe=ze.alternate,oe!==null&&(oe.lanes|=w),Go(ze,w,f),ze=null}else ze=W.child;if(ze!==null)ze.return=W;else for(ze=W;ze!==null;){if(ze===f){ze=null;break}if(W=ze.sibling,W!==null){W.return=ze.return,ze=W;break}ze=ze.return}W=ze}}function zd(f,p,w,F){f=null;for(var W=p,oe=!1;W!==null;){if(!oe){if((W.flags&524288)!==0)oe=!0;else if((W.flags&262144)!==0)break}if(W.tag===10){var ze=W.alternate;if(ze===null)throw Error(n(387));if(ze=ze.memoizedProps,ze!==null){var At=W.type;Ka(W.pendingProps.value,ze.value)||(f!==null?f.push(At):f=[At])}}else if(W===ye.current){if(ze=W.alternate,ze===null)throw Error(n(387));ze.memoizedState.memoizedState!==W.memoizedState.memoizedState&&(f!==null?f.push(Up):f=[Up])}W=W.return}f!==null&&ba(p,f,w,F),p.flags|=262144}function Bh(f){for(f=f.firstContext;f!==null;){if(!Ka(f.context._currentValue,f.memoizedValue))return!0;f=f.next}return!1}function Wl(f){ds=f,dt=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function ys(f){return Af(ds,f)}function il(f,p){return ds===null&&Wl(f),Af(f,p)}function Af(f,p){var w=p._currentValue;if(p={context:p,memoizedValue:w,next:null},dt===null){if(f===null)throw Error(n(308));dt=p,f.dependencies={lanes:0,firstContext:p},f.flags|=524288}else dt=dt.next=p;return w}var t0=typeof AbortController<"u"?AbortController:function(){var f=[],p=this.signal={aborted:!1,addEventListener:function(w,F){f.push(F)}};this.abort=function(){p.aborted=!0,f.forEach(function(w){return w()})}},mA=e.unstable_scheduleCallback,r0=e.unstable_NormalPriority,Ss={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pA(){return{controller:new t0,data:new Map,refCount:0}}function Kf(f){f.refCount--,f.refCount===0&&mA(r0,function(){f.controller.abort()})}var qf=null,gA=0,cd=0,Xi=null;function n0(f,p){if(qf===null){var w=qf=[];gA=0,cd=_1(),Xi={status:"pending",value:void 0,then:function(F){w.push(F)}}}return gA++,p.then(xA,xA),p}function xA(){if(--gA===0&&qf!==null){Xi!==null&&(Xi.status="fulfilled");var f=qf;qf=null,cd=0,Xi=null;for(var p=0;p<f.length;p++)(0,f[p])()}}function vA(f,p){var w=[],F={status:"pending",value:null,reason:null,then:function(W){w.push(W)}};return f.then(function(){F.status="fulfilled",F.value=p;for(var W=0;W<w.length;W++)(0,w[W])(p)},function(W){for(F.status="rejected",F.reason=W,W=0;W<w.length;W++)(0,w[W])(void 0)}),F}var g=ee.S;ee.S=function(f,p){typeof p=="object"&&p!==null&&typeof p.then=="function"&&n0(f,p),g!==null&&g(f,p)};var S=ve(null);function I(){var f=S.current;return f!==null?f:bi.pooledCache}function K(f,p){p===null?R(S,S.current):R(S,p.pool)}function ne(){var f=I();return f===null?null:{parent:Ss._currentValue,pool:f}}var ue=Error(n(460)),me=Error(n(474)),xe=Error(n(542)),Se={then:function(){}};function Ie(f){return f=f.status,f==="fulfilled"||f==="rejected"}function Xe(){}function vt(f,p,w){switch(w=f[w],w===void 0?f.push(p):w!==p&&(p.then(Xe,Xe),p=w),p.status){case"fulfilled":return p.value;case"rejected":throw f=p.reason,wt(f),f;default:if(typeof p.status=="string")p.then(Xe,Xe);else{if(f=bi,f!==null&&100<f.shellSuspendCounter)throw Error(n(482));f=p,f.status="pending",f.then(function(F){if(p.status==="pending"){var W=p;W.status="fulfilled",W.value=F}},function(F){if(p.status==="pending"){var W=p;W.status="rejected",W.reason=F}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw f=p.reason,wt(f),f}throw Ve=p,ue}}var Ve=null;function at(){if(Ve===null)throw Error(n(459));var f=Ve;return Ve=null,f}function wt(f){if(f===ue||f===xe)throw Error(n(483))}var Tt=!1;function it(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xt(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function kt(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function Ut(f,p,w){var F=f.updateQueue;if(F===null)return null;if(F=F.shared,(qs&2)!==0){var W=F.pending;return W===null?p.next=p:(p.next=W.next,W.next=p),F.pending=p,p=$c(f),cu(f,null,w),p}return Ko(f,F,p,w),$c(f)}function Dt(f,p,w){if(p=p.updateQueue,p!==null&&(p=p.shared,(w&4194048)!==0)){var F=p.lanes;F&=f.pendingLanes,w|=F,p.lanes=w,kr(f,w)}}function pr(f,p){var w=f.updateQueue,F=f.alternate;if(F!==null&&(F=F.updateQueue,w===F)){var W=null,oe=null;if(w=w.firstBaseUpdate,w!==null){do{var ze={lane:w.lane,tag:w.tag,payload:w.payload,callback:null,next:null};oe===null?W=oe=ze:oe=oe.next=ze,w=w.next}while(w!==null);oe===null?W=oe=p:oe=oe.next=p}else W=oe=p;w={baseState:F.baseState,firstBaseUpdate:W,lastBaseUpdate:oe,shared:F.shared,callbacks:F.callbacks},f.updateQueue=w;return}f=w.lastBaseUpdate,f===null?w.firstBaseUpdate=p:f.next=p,w.lastBaseUpdate=p}var ur=!1;function Ir(){if(ur){var f=Xi;if(f!==null)throw f}}function lr(f,p,w,F){ur=!1;var W=f.updateQueue;Tt=!1;var oe=W.firstBaseUpdate,ze=W.lastBaseUpdate,At=W.shared.pending;if(At!==null){W.shared.pending=null;var Lt=At,ir=Lt.next;Lt.next=null,ze===null?oe=ir:ze.next=ir,ze=Lt;var jr=f.alternate;jr!==null&&(jr=jr.updateQueue,At=jr.lastBaseUpdate,At!==ze&&(At===null?jr.firstBaseUpdate=ir:At.next=ir,jr.lastBaseUpdate=Lt))}if(oe!==null){var _r=W.baseState;ze=0,jr=ir=Lt=null,At=oe;do{var dr=At.lane&-536870913,or=dr!==At.lane;if(or?(hs&dr)===dr:(F&dr)===dr){dr!==0&&dr===cd&&(ur=!0),jr!==null&&(jr=jr.next={lane:0,tag:At.tag,payload:At.payload,callback:null,next:null});e:{var aa=f,ra=At;dr=p;var Ni=w;switch(ra.tag){case 1:if(aa=ra.payload,typeof aa=="function"){_r=aa.call(Ni,_r,dr);break e}_r=aa;break e;case 3:aa.flags=aa.flags&-65537|128;case 0:if(aa=ra.payload,dr=typeof aa=="function"?aa.call(Ni,_r,dr):aa,dr==null)break e;_r=u({},_r,dr);break e;case 2:Tt=!0}}dr=At.callback,dr!==null&&(f.flags|=64,or&&(f.flags|=8192),or=W.callbacks,or===null?W.callbacks=[dr]:or.push(dr))}else or={lane:dr,tag:At.tag,payload:At.payload,callback:At.callback,next:null},jr===null?(ir=jr=or,Lt=_r):jr=jr.next=or,ze|=dr;if(At=At.next,At===null){if(At=W.shared.pending,At===null)break;or=At,At=or.next,or.next=null,W.lastBaseUpdate=or,W.shared.pending=null}}while(!0);jr===null&&(Lt=_r),W.baseState=Lt,W.firstBaseUpdate=ir,W.lastBaseUpdate=jr,oe===null&&(W.shared.lanes=0),$h|=ze,f.lanes=ze,f.memoizedState=_r}}function mn(f,p){if(typeof f!="function")throw Error(n(191,f));f.call(p)}function Vn(f,p){var w=f.callbacks;if(w!==null)for(f.callbacks=null,f=0;f<w.length;f++)mn(w[f],p)}var Wr=ve(null),Xt=ve(0);function Sr(f,p){f=oh,R(Xt,f),R(Wr,p),oh=f|p.baseLanes}function Un(){R(Xt,oh),R(Wr,Wr.current)}function $r(){oh=Xt.current,B(Wr),B(Xt)}var sn=0,Zr=null,pn=null,fn=null,Nn=!1,qa=!1,ua=!1,Aa=0,yn=0,Bn=null,Oa=0;function on(){throw Error(n(321))}function Ca(f,p){if(p===null)return!1;for(var w=0;w<p.length&&w<f.length;w++)if(!Ka(f[w],p[w]))return!1;return!0}function _i(f,p,w,F,W,oe){return sn=oe,Zr=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,ee.H=f===null||f.memoizedState===null?x1:Mg,ua=!1,oe=w(F,W),ua=!1,qa&&(oe=Ji(p,w,F,W)),fs(f),oe}function fs(f){ee.H=s0;var p=pn!==null&&pn.next!==null;if(sn=0,fn=pn=Zr=null,Nn=!1,yn=0,Bn=null,p)throw Error(n(300));f===null||_l||(f=f.dependencies,f!==null&&Bh(f)&&(_l=!0))}function Ji(f,p,w,F){Zr=f;var W=0;do{if(qa&&(Bn=null),yn=0,qa=!1,25<=W)throw Error(n(301));if(W+=1,fn=pn=null,f.updateQueue!=null){var oe=f.updateQueue;oe.lastEffect=null,oe.events=null,oe.stores=null,oe.memoCache!=null&&(oe.memoCache.index=0)}ee.H=i0,oe=p(w,F)}while(qa);return oe}function Da(){var f=ee.H,p=f.useState()[0];return p=typeof p.then=="function"?Ii(p):p,f=f.useState()[0],(pn!==null?pn.memoizedState:null)!==f&&(Zr.flags|=1024),p}function da(){var f=Aa!==0;return Aa=0,f}function Fi(f,p,w){p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~w}function lo(f){if(Nn){for(f=f.memoizedState;f!==null;){var p=f.queue;p!==null&&(p.pending=null),f=f.next}Nn=!1}sn=0,fn=pn=Zr=null,qa=!1,yn=Aa=0,Bn=null}function Cs(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Zr.memoizedState=fn=f:fn=fn.next=f,fn}function $a(){if(pn===null){var f=Zr.alternate;f=f!==null?f.memoizedState:null}else f=pn.next;var p=fn===null?Zr.memoizedState:fn.next;if(p!==null)fn=p,pn=f;else{if(f===null)throw Zr.alternate===null?Error(n(467)):Error(n(310));pn=f,f={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},fn===null?Zr.memoizedState=fn=f:fn=fn.next=f}return fn}function ti(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ii(f){var p=yn;return yn+=1,Bn===null&&(Bn=[]),f=vt(Bn,f,p),p=Zr,(fn===null?p.memoizedState:fn.next)===null&&(p=p.alternate,ee.H=p===null||p.memoizedState===null?x1:Mg),f}function Ea(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return Ii(f);if(f.$$typeof===E)return ys(f)}throw Error(n(438,String(f)))}function vi(f){var p=null,w=Zr.updateQueue;if(w!==null&&(p=w.memoCache),p==null){var F=Zr.alternate;F!==null&&(F=F.updateQueue,F!==null&&(F=F.memoCache,F!=null&&(p={data:F.data.map(function(W){return W.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),w===null&&(w=ti(),Zr.updateQueue=w),w.memoCache=p,w=p.data[p.index],w===void 0)for(w=p.data[p.index]=Array(f),F=0;F<f;F++)w[F]=z;return p.index++,w}function Ks(f,p){return typeof p=="function"?p(f):p}function Sc(f){var p=$a();return Tl(p,pn,f)}function Tl(f,p,w){var F=f.queue;if(F===null)throw Error(n(311));F.lastRenderedReducer=w;var W=f.baseQueue,oe=F.pending;if(oe!==null){if(W!==null){var ze=W.next;W.next=oe.next,oe.next=ze}p.baseQueue=W=oe,F.pending=null}if(oe=f.baseState,W===null)f.memoizedState=oe;else{p=W.next;var At=ze=null,Lt=null,ir=p,jr=!1;do{var _r=ir.lane&-536870913;if(_r!==ir.lane?(hs&_r)===_r:(sn&_r)===_r){var dr=ir.revertLane;if(dr===0)Lt!==null&&(Lt=Lt.next={lane:0,revertLane:0,action:ir.action,hasEagerState:ir.hasEagerState,eagerState:ir.eagerState,next:null}),_r===cd&&(jr=!0);else if((sn&dr)===dr){ir=ir.next,dr===cd&&(jr=!0);continue}else _r={lane:0,revertLane:ir.revertLane,action:ir.action,hasEagerState:ir.hasEagerState,eagerState:ir.eagerState,next:null},Lt===null?(At=Lt=_r,ze=oe):Lt=Lt.next=_r,Zr.lanes|=dr,$h|=dr;_r=ir.action,ua&&w(oe,_r),oe=ir.hasEagerState?ir.eagerState:w(oe,_r)}else dr={lane:_r,revertLane:ir.revertLane,action:ir.action,hasEagerState:ir.hasEagerState,eagerState:ir.eagerState,next:null},Lt===null?(At=Lt=dr,ze=oe):Lt=Lt.next=dr,Zr.lanes|=_r,$h|=_r;ir=ir.next}while(ir!==null&&ir!==p);if(Lt===null?ze=oe:Lt.next=At,!Ka(oe,f.memoizedState)&&(_l=!0,jr&&(w=Xi,w!==null)))throw w;f.memoizedState=oe,f.baseState=ze,f.baseQueue=Lt,F.lastRenderedState=oe}return W===null&&(F.lanes=0),[f.memoizedState,F.dispatch]}function ci(f){var p=$a(),w=p.queue;if(w===null)throw Error(n(311));w.lastRenderedReducer=f;var F=w.dispatch,W=w.pending,oe=p.memoizedState;if(W!==null){w.pending=null;var ze=W=W.next;do oe=f(oe,ze.action),ze=ze.next;while(ze!==W);Ka(oe,p.memoizedState)||(_l=!0),p.memoizedState=oe,p.baseQueue===null&&(p.baseState=oe),w.lastRenderedState=oe}return[oe,F]}function Uu(f,p,w){var F=Zr,W=$a(),oe=La;if(oe){if(w===void 0)throw Error(n(407));w=w()}else w=p();var ze=!Ka((pn||W).memoizedState,w);ze&&(W.memoizedState=w,_l=!0),W=W.queue;var At=Yl.bind(null,F,W,f);if(Kd(2048,8,At,[f]),W.getSnapshot!==p||ze||fn!==null&&fn.memoizedState.tag&1){if(F.flags|=2048,Cc(9,gf(),Au.bind(null,F,W,w,p),null),bi===null)throw Error(n(349));oe||(sn&124)!==0||hu(F,p,w)}return w}function hu(f,p,w){f.flags|=16384,f={getSnapshot:p,value:w},p=Zr.updateQueue,p===null?(p=ti(),Zr.updateQueue=p,p.stores=[f]):(w=p.stores,w===null?p.stores=[f]:w.push(f))}function Au(f,p,w,F){p.value=w,p.getSnapshot=F,Th(p)&&yA(f)}function Yl(f,p,w){return w(function(){Th(p)&&yA(f)})}function Th(f){var p=f.getSnapshot;f=f.value;try{var w=p();return!Ka(f,w)}catch{return!0}}function yA(f){var p=Hc(f,2);p!==null&&Kr(p,f,2)}function Ru(f){var p=Cs();if(typeof f=="function"){var w=f;if(f=w(),ua){Je(!0);try{w()}finally{Je(!1)}}}return p.memoizedState=p.baseState=f,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:f},p}function ki(f,p,w,F){return f.baseState=w,Tl(f,pn,typeof F=="function"?F:Ks)}function bA(f,p,w,F,W){if(a0(f))throw Error(n(485));if(f=p.action,f!==null){var oe={payload:W,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ze){oe.listeners.push(ze)}};ee.T!==null?w(!0):oe.isTransition=!1,F(oe),w=p.pending,w===null?(oe.next=p.pending=oe,_h(p,oe)):(oe.next=w.next,p.pending=w.next=oe)}}function _h(f,p){var w=p.action,F=p.payload,W=f.state;if(p.isTransition){var oe=ee.T,ze={};ee.T=ze;try{var At=w(W,F),Lt=ee.S;Lt!==null&&Lt(ze,At),Fh(f,p,At)}catch(ir){Kc(f,p,ir)}finally{ee.T=oe}}else try{oe=w(W,F),Fh(f,p,oe)}catch(ir){Kc(f,p,ir)}}function Fh(f,p,w){w!==null&&typeof w=="object"&&typeof w.then=="function"?w.then(function(F){Gf(f,p,F)},function(F){return Kc(f,p,F)}):Gf(f,p,w)}function Gf(f,p,w){p.status="fulfilled",p.value=w,mf(p),f.state=w,p=f.pending,p!==null&&(w=p.next,w===p?f.pending=null:(w=w.next,p.next=w,_h(f,w)))}function Kc(f,p,w){var F=f.pending;if(f.pending=null,F!==null){F=F.next;do p.status="rejected",p.reason=w,mf(p),p=p.next;while(p!==F)}f.action=null}function mf(f){f=f.listeners;for(var p=0;p<f.length;p++)(0,f[p])()}function pf(f,p){return p}function Qu(f,p){if(La){var w=bi.formState;if(w!==null){e:{var F=Zr;if(La){if(Zs){t:{for(var W=Zs,oe=Bl;W.nodeType!==8;){if(!oe){W=null;break t}if(W=ch(W.nextSibling),W===null){W=null;break t}}oe=W.data,W=oe==="F!"||oe==="F"?W:null}if(W){Zs=ch(W.nextSibling),F=W.data==="F!";break e}}jc(F)}F=!1}F&&(p=w[0])}}return w=Cs(),w.memoizedState=w.baseState=p,F={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pf,lastRenderedState:p},w.queue=F,w=Ap.bind(null,Zr,F),F.dispatch=w,F=Ru(!1),oe=mp.bind(null,Zr,!1,F.queue),F=Cs(),W={state:p,dispatch:null,action:f,pending:null},F.queue=W,w=bA.bind(null,Zr,W,oe,w),W.dispatch=w,F.memoizedState=f,[p,w,!1]}function ud(f){var p=$a();return Pi(p,pn,f)}function Pi(f,p,w){if(p=Tl(f,p,pf)[0],f=Sc(Ks)[0],typeof p=="object"&&p!==null&&typeof p.then=="function")try{var F=Ii(p)}catch(ze){throw ze===ue?xe:ze}else F=p;p=$a();var W=p.queue,oe=W.dispatch;return w!==p.memoizedState&&(Zr.flags|=2048,Cc(9,gf(),Vd.bind(null,W,w),null)),[F,oe,f]}function Vd(f,p){f.action=p}function wa(f){var p=$a(),w=pn;if(w!==null)return Pi(p,w,f);$a(),p=p.memoizedState,w=$a();var F=w.queue.dispatch;return w.memoizedState=f,[p,F,!1]}function Cc(f,p,w,F){return f={tag:f,create:w,deps:F,inst:p,next:null},p=Zr.updateQueue,p===null&&(p=ti(),Zr.updateQueue=p),w=p.lastEffect,w===null?p.lastEffect=f.next=f:(F=w.next,w.next=f,f.next=F,p.lastEffect=f),f}function gf(){return{destroy:void 0,resource:void 0}}function mu(){return $a().memoizedState}function co(f,p,w,F){var W=Cs();F=F===void 0?null:F,Zr.flags|=f,W.memoizedState=Cc(1|p,gf(),w,F)}function Kd(f,p,w,F){var W=$a();F=F===void 0?null:F;var oe=W.memoizedState.inst;pn!==null&&F!==null&&Ca(F,pn.memoizedState.deps)?W.memoizedState=Cc(p,oe,w,F):(Zr.flags|=f,W.memoizedState=Cc(1|p,oe,w,F))}function Ih(f,p){co(8390656,8,f,p)}function Xl(f,p){Kd(2048,8,f,p)}function kh(f,p){return Kd(4,2,f,p)}function Wo(f,p){return Kd(4,4,f,p)}function Ph(f,p){if(typeof p=="function"){f=f();var w=p(f);return function(){typeof w=="function"?w():p(null)}}if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function qd(f,p,w){w=w!=null?w.concat([f]):null,Kd(4,4,Ph.bind(null,p,f),w)}function Wf(){}function rs(f,p){var w=$a();p=p===void 0?null:p;var F=w.memoizedState;return p!==null&&Ca(p,F[1])?F[0]:(w.memoizedState=[f,p],f)}function Jl(f,p){var w=$a();p=p===void 0?null:p;var F=w.memoizedState;if(p!==null&&Ca(p,F[1]))return F[0];if(F=f(),ua){Je(!0);try{f()}finally{Je(!1)}}return w.memoizedState=[F,p],F}function Zl(f,p,w){return w===void 0||(sn&1073741824)!==0?f.memoizedState=p:(f.memoizedState=w,f=zr(),Zr.lanes|=f,$h|=f,w)}function Gd(f,p,w,F){return Ka(w,p)?w:Wr.current!==null?(f=Zl(f,w,F),Ka(f,p)||(_l=!0),f):(sn&42)===0?(_l=!0,f.memoizedState=w):(f=zr(),Zr.lanes|=f,$h|=f,p)}function Ec(f,p,w,F,W){var oe=de.p;de.p=oe!==0&&8>oe?oe:8;var ze=ee.T,At={};ee.T=At,mp(f,!1,p,w);try{var Lt=W(),ir=ee.S;if(ir!==null&&ir(At,Lt),Lt!==null&&typeof Lt=="object"&&typeof Lt.then=="function"){var jr=vA(Lt,F);Lh(f,p,jr,Gr(f))}else Lh(f,p,F,Gr(f))}catch(_r){Lh(f,p,{then:function(){},status:"rejected",reason:_r},Gr())}finally{de.p=oe,ee.T=ze}}function Zi(){}function uo(f,p,w,F){if(f.tag!==5)throw Error(n(476));var W=ko(f).queue;Ec(f,W,p,se,w===null?Zi:function(){return pu(f),w(F)})}function ko(f){var p=f.memoizedState;if(p!==null)return p;p={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:se},next:null};var w={};return p.next={memoizedState:w,baseState:w,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:w},next:null},f.memoizedState=p,f=f.alternate,f!==null&&(f.memoizedState=p),p}function pu(f){var p=ko(f).next.queue;Lh(f,p,{},Gr())}function Hu(){return ys(Up)}function qc(){return $a().memoizedState}function lm(){return $a().memoizedState}function Bc(f){for(var p=f.return;p!==null;){switch(p.tag){case 24:case 3:var w=Gr();f=kt(w);var F=Ut(p,f,w);F!==null&&(Kr(F,p,w),Dt(F,p,w)),p={cache:pA()},f.payload=p;return}p=p.return}}function xf(f,p,w){var F=Gr();w={lane:F,revertLane:0,action:w,hasEagerState:!1,eagerState:null,next:null},a0(f)?pp(p,w):(w=jl(f,p,w,F),w!==null&&(Kr(w,f,F),Dg(w,p,F)))}function Ap(f,p,w){var F=Gr();Lh(f,p,w,F)}function Lh(f,p,w,F){var W={lane:F,revertLane:0,action:w,hasEagerState:!1,eagerState:null,next:null};if(a0(f))pp(p,W);else{var oe=f.alternate;if(f.lanes===0&&(oe===null||oe.lanes===0)&&(oe=p.lastRenderedReducer,oe!==null))try{var ze=p.lastRenderedState,At=oe(ze,w);if(W.hasEagerState=!0,W.eagerState=At,Ka(At,ze))return Ko(f,p,W,0),bi===null&&Vo(),!1}catch{}finally{}if(w=jl(f,p,W,F),w!==null)return Kr(w,f,F),Dg(w,p,F),!0}return!1}function mp(f,p,w,F){if(F={lane:2,revertLane:_1(),action:F,hasEagerState:!1,eagerState:null,next:null},a0(f)){if(p)throw Error(n(479))}else p=jl(f,w,F,2),p!==null&&Kr(p,f,2)}function a0(f){var p=f.alternate;return f===Zr||p!==null&&p===Zr}function pp(f,p){qa=Nn=!0;var w=f.pending;w===null?p.next=p:(p.next=w.next,w.next=p),f.pending=p}function Dg(f,p,w){if((w&4194048)!==0){var F=p.lanes;F&=f.pendingLanes,w|=F,p.lanes=w,kr(f,w)}}var s0={readContext:ys,use:Ea,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useLayoutEffect:on,useInsertionEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useSyncExternalStore:on,useId:on,useHostTransitionStatus:on,useFormState:on,useActionState:on,useOptimistic:on,useMemoCache:on,useCacheRefresh:on},x1={readContext:ys,use:Ea,useCallback:function(f,p){return Cs().memoizedState=[f,p===void 0?null:p],f},useContext:ys,useEffect:Ih,useImperativeHandle:function(f,p,w){w=w!=null?w.concat([f]):null,co(4194308,4,Ph.bind(null,p,f),w)},useLayoutEffect:function(f,p){return co(4194308,4,f,p)},useInsertionEffect:function(f,p){co(4,2,f,p)},useMemo:function(f,p){var w=Cs();p=p===void 0?null:p;var F=f();if(ua){Je(!0);try{f()}finally{Je(!1)}}return w.memoizedState=[F,p],F},useReducer:function(f,p,w){var F=Cs();if(w!==void 0){var W=w(p);if(ua){Je(!0);try{w(p)}finally{Je(!1)}}}else W=p;return F.memoizedState=F.baseState=W,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:W},F.queue=f,f=f.dispatch=xf.bind(null,Zr,f),[F.memoizedState,f]},useRef:function(f){var p=Cs();return f={current:f},p.memoizedState=f},useState:function(f){f=Ru(f);var p=f.queue,w=Ap.bind(null,Zr,p);return p.dispatch=w,[f.memoizedState,w]},useDebugValue:Wf,useDeferredValue:function(f,p){var w=Cs();return Zl(w,f,p)},useTransition:function(){var f=Ru(!1);return f=Ec.bind(null,Zr,f.queue,!0,!1),Cs().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,p,w){var F=Zr,W=Cs();if(La){if(w===void 0)throw Error(n(407));w=w()}else{if(w=p(),bi===null)throw Error(n(349));(hs&124)!==0||hu(F,p,w)}W.memoizedState=w;var oe={value:w,getSnapshot:p};return W.queue=oe,Ih(Yl.bind(null,F,oe,f),[f]),F.flags|=2048,Cc(9,gf(),Au.bind(null,F,oe,w,p),null),w},useId:function(){var f=Cs(),p=bi.identifierPrefix;if(La){var w=Mu,F=Ns;w=(F&~(1<<32-Me(F)-1)).toString(32)+w,p=""+p+"R"+w,w=Aa++,0<w&&(p+="H"+w.toString(32)),p+=""}else w=Oa++,p=""+p+"r"+w.toString(32)+"";return f.memoizedState=p},useHostTransitionStatus:Hu,useFormState:Qu,useActionState:Qu,useOptimistic:function(f){var p=Cs();p.memoizedState=p.baseState=f;var w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=w,p=mp.bind(null,Zr,!0,w),w.dispatch=p,[f,p]},useMemoCache:vi,useCacheRefresh:function(){return Cs().memoizedState=Bc.bind(null,Zr)}},Mg={readContext:ys,use:Ea,useCallback:rs,useContext:ys,useEffect:Xl,useImperativeHandle:qd,useInsertionEffect:kh,useLayoutEffect:Wo,useMemo:Jl,useReducer:Sc,useRef:mu,useState:function(){return Sc(Ks)},useDebugValue:Wf,useDeferredValue:function(f,p){var w=$a();return Gd(w,pn.memoizedState,f,p)},useTransition:function(){var f=Sc(Ks)[0],p=$a().memoizedState;return[typeof f=="boolean"?f:Ii(f),p]},useSyncExternalStore:Uu,useId:qc,useHostTransitionStatus:Hu,useFormState:ud,useActionState:ud,useOptimistic:function(f,p){var w=$a();return ki(w,pn,f,p)},useMemoCache:vi,useCacheRefresh:lm},i0={readContext:ys,use:Ea,useCallback:rs,useContext:ys,useEffect:Xl,useImperativeHandle:qd,useInsertionEffect:kh,useLayoutEffect:Wo,useMemo:Jl,useReducer:ci,useRef:mu,useState:function(){return ci(Ks)},useDebugValue:Wf,useDeferredValue:function(f,p){var w=$a();return pn===null?Zl(w,f,p):Gd(w,pn.memoizedState,f,p)},useTransition:function(){var f=ci(Ks)[0],p=$a().memoizedState;return[typeof f=="boolean"?f:Ii(f),p]},useSyncExternalStore:Uu,useId:qc,useHostTransitionStatus:Hu,useFormState:wa,useActionState:wa,useOptimistic:function(f,p){var w=$a();return pn!==null?ki(w,pn,f,p):(w.baseState=f,[f,w.queue.dispatch])},useMemoCache:vi,useCacheRefresh:lm},bo=null,gu=0;function o0(f){var p=gu;return gu+=1,bo===null&&(bo=[]),vt(bo,f,p)}function wA(f,p){p=p.props.ref,f.ref=p!==void 0?p:null}function Oh(f,p){throw p.$$typeof===h?Error(n(525)):(f=Object.prototype.toString.call(p),Error(n(31,f==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":f)))}function Dh(f){var p=f._init;return p(f._payload)}function gp(f){function p(Yt,zt){if(f){var ar=Yt.deletions;ar===null?(Yt.deletions=[zt],Yt.flags|=16):ar.push(zt)}}function w(Yt,zt){if(!f)return null;for(;zt!==null;)p(Yt,zt),zt=zt.sibling;return null}function F(Yt){for(var zt=new Map;Yt!==null;)Yt.key!==null?zt.set(Yt.key,Yt):zt.set(Yt.index,Yt),Yt=Yt.sibling;return zt}function W(Yt,zt){return Yt=gi(Yt,zt),Yt.index=0,Yt.sibling=null,Yt}function oe(Yt,zt,ar){return Yt.index=ar,f?(ar=Yt.alternate,ar!==null?(ar=ar.index,ar<zt?(Yt.flags|=67108866,zt):ar):(Yt.flags|=67108866,zt)):(Yt.flags|=1048576,zt)}function ze(Yt){return f&&Yt.alternate===null&&(Yt.flags|=67108866),Yt}function At(Yt,zt,ar,Cr){return zt===null||zt.tag!==6?(zt=zf(ar,Yt.mode,Cr),zt.return=Yt,zt):(zt=W(zt,ar),zt.return=Yt,zt)}function Lt(Yt,zt,ar,Cr){var wn=ar.type;return wn===y?jr(Yt,zt,ar.props.children,Cr,ar.key):zt!==null&&(zt.elementType===wn||typeof wn=="object"&&wn!==null&&wn.$$typeof===k&&Dh(wn)===zt.type)?(zt=W(zt,ar.props),wA(zt,ar),zt.return=Yt,zt):(zt=uu(ar.type,ar.key,ar.props,null,Yt.mode,Cr),wA(zt,ar),zt.return=Yt,zt)}function ir(Yt,zt,ar,Cr){return zt===null||zt.tag!==4||zt.stateNode.containerInfo!==ar.containerInfo||zt.stateNode.implementation!==ar.implementation?(zt=du(ar,Yt.mode,Cr),zt.return=Yt,zt):(zt=W(zt,ar.children||[]),zt.return=Yt,zt)}function jr(Yt,zt,ar,Cr,wn){return zt===null||zt.tag!==7?(zt=Sl(ar,Yt.mode,Cr,wn),zt.return=Yt,zt):(zt=W(zt,ar),zt.return=Yt,zt)}function _r(Yt,zt,ar){if(typeof zt=="string"&&zt!==""||typeof zt=="number"||typeof zt=="bigint")return zt=zf(""+zt,Yt.mode,ar),zt.return=Yt,zt;if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case m:return ar=uu(zt.type,zt.key,zt.props,null,Yt.mode,ar),wA(ar,zt),ar.return=Yt,ar;case A:return zt=du(zt,Yt.mode,ar),zt.return=Yt,zt;case k:var Cr=zt._init;return zt=Cr(zt._payload),_r(Yt,zt,ar)}if(ce(zt)||L(zt))return zt=Sl(zt,Yt.mode,ar,null),zt.return=Yt,zt;if(typeof zt.then=="function")return _r(Yt,o0(zt),ar);if(zt.$$typeof===E)return _r(Yt,il(Yt,zt),ar);Oh(Yt,zt)}return null}function dr(Yt,zt,ar,Cr){var wn=zt!==null?zt.key:null;if(typeof ar=="string"&&ar!==""||typeof ar=="number"||typeof ar=="bigint")return wn!==null?null:At(Yt,zt,""+ar,Cr);if(typeof ar=="object"&&ar!==null){switch(ar.$$typeof){case m:return ar.key===wn?Lt(Yt,zt,ar,Cr):null;case A:return ar.key===wn?ir(Yt,zt,ar,Cr):null;case k:return wn=ar._init,ar=wn(ar._payload),dr(Yt,zt,ar,Cr)}if(ce(ar)||L(ar))return wn!==null?null:jr(Yt,zt,ar,Cr,null);if(typeof ar.then=="function")return dr(Yt,zt,o0(ar),Cr);if(ar.$$typeof===E)return dr(Yt,zt,il(Yt,ar),Cr);Oh(Yt,ar)}return null}function or(Yt,zt,ar,Cr,wn){if(typeof Cr=="string"&&Cr!==""||typeof Cr=="number"||typeof Cr=="bigint")return Yt=Yt.get(ar)||null,At(zt,Yt,""+Cr,wn);if(typeof Cr=="object"&&Cr!==null){switch(Cr.$$typeof){case m:return Yt=Yt.get(Cr.key===null?ar:Cr.key)||null,Lt(zt,Yt,Cr,wn);case A:return Yt=Yt.get(Cr.key===null?ar:Cr.key)||null,ir(zt,Yt,Cr,wn);case k:var ns=Cr._init;return Cr=ns(Cr._payload),or(Yt,zt,ar,Cr,wn)}if(ce(Cr)||L(Cr))return Yt=Yt.get(ar)||null,jr(zt,Yt,Cr,wn,null);if(typeof Cr.then=="function")return or(Yt,zt,ar,o0(Cr),wn);if(Cr.$$typeof===E)return or(Yt,zt,ar,il(zt,Cr),wn);Oh(zt,Cr)}return null}function aa(Yt,zt,ar,Cr){for(var wn=null,ns=null,Rn=zt,sa=zt=0,Ic=null;Rn!==null&&sa<ar.length;sa++){Rn.index>sa?(Ic=Rn,Rn=null):Ic=Rn.sibling;var Bs=dr(Yt,Rn,ar[sa],Cr);if(Bs===null){Rn===null&&(Rn=Ic);break}f&&Rn&&Bs.alternate===null&&p(Yt,Rn),zt=oe(Bs,zt,sa),ns===null?wn=Bs:ns.sibling=Bs,ns=Bs,Rn=Ic}if(sa===ar.length)return w(Yt,Rn),La&&Hd(Yt,sa),wn;if(Rn===null){for(;sa<ar.length;sa++)Rn=_r(Yt,ar[sa],Cr),Rn!==null&&(zt=oe(Rn,zt,sa),ns===null?wn=Rn:ns.sibling=Rn,ns=Rn);return La&&Hd(Yt,sa),wn}for(Rn=F(Rn);sa<ar.length;sa++)Ic=or(Rn,Yt,sa,ar[sa],Cr),Ic!==null&&(f&&Ic.alternate!==null&&Rn.delete(Ic.key===null?sa:Ic.key),zt=oe(Ic,zt,sa),ns===null?wn=Ic:ns.sibling=Ic,ns=Ic);return f&&Rn.forEach(function(Em){return p(Yt,Em)}),La&&Hd(Yt,sa),wn}function ra(Yt,zt,ar,Cr){if(ar==null)throw Error(n(151));for(var wn=null,ns=null,Rn=zt,sa=zt=0,Ic=null,Bs=ar.next();Rn!==null&&!Bs.done;sa++,Bs=ar.next()){Rn.index>sa?(Ic=Rn,Rn=null):Ic=Rn.sibling;var Em=dr(Yt,Rn,Bs.value,Cr);if(Em===null){Rn===null&&(Rn=Ic);break}f&&Rn&&Em.alternate===null&&p(Yt,Rn),zt=oe(Em,zt,sa),ns===null?wn=Em:ns.sibling=Em,ns=Em,Rn=Ic}if(Bs.done)return w(Yt,Rn),La&&Hd(Yt,sa),wn;if(Rn===null){for(;!Bs.done;sa++,Bs=ar.next())Bs=_r(Yt,Bs.value,Cr),Bs!==null&&(zt=oe(Bs,zt,sa),ns===null?wn=Bs:ns.sibling=Bs,ns=Bs);return La&&Hd(Yt,sa),wn}for(Rn=F(Rn);!Bs.done;sa++,Bs=ar.next())Bs=or(Rn,Yt,sa,Bs.value,Cr),Bs!==null&&(f&&Bs.alternate!==null&&Rn.delete(Bs.key===null?sa:Bs.key),zt=oe(Bs,zt,sa),ns===null?wn=Bs:ns.sibling=Bs,ns=Bs);return f&&Rn.forEach(function(GS){return p(Yt,GS)}),La&&Hd(Yt,sa),wn}function Ni(Yt,zt,ar,Cr){if(typeof ar=="object"&&ar!==null&&ar.type===y&&ar.key===null&&(ar=ar.props.children),typeof ar=="object"&&ar!==null){switch(ar.$$typeof){case m:e:{for(var wn=ar.key;zt!==null;){if(zt.key===wn){if(wn=ar.type,wn===y){if(zt.tag===7){w(Yt,zt.sibling),Cr=W(zt,ar.props.children),Cr.return=Yt,Yt=Cr;break e}}else if(zt.elementType===wn||typeof wn=="object"&&wn!==null&&wn.$$typeof===k&&Dh(wn)===zt.type){w(Yt,zt.sibling),Cr=W(zt,ar.props),wA(Cr,ar),Cr.return=Yt,Yt=Cr;break e}w(Yt,zt);break}else p(Yt,zt);zt=zt.sibling}ar.type===y?(Cr=Sl(ar.props.children,Yt.mode,Cr,ar.key),Cr.return=Yt,Yt=Cr):(Cr=uu(ar.type,ar.key,ar.props,null,Yt.mode,Cr),wA(Cr,ar),Cr.return=Yt,Yt=Cr)}return ze(Yt);case A:e:{for(wn=ar.key;zt!==null;){if(zt.key===wn)if(zt.tag===4&&zt.stateNode.containerInfo===ar.containerInfo&&zt.stateNode.implementation===ar.implementation){w(Yt,zt.sibling),Cr=W(zt,ar.children||[]),Cr.return=Yt,Yt=Cr;break e}else{w(Yt,zt);break}else p(Yt,zt);zt=zt.sibling}Cr=du(ar,Yt.mode,Cr),Cr.return=Yt,Yt=Cr}return ze(Yt);case k:return wn=ar._init,ar=wn(ar._payload),Ni(Yt,zt,ar,Cr)}if(ce(ar))return aa(Yt,zt,ar,Cr);if(L(ar)){if(wn=L(ar),typeof wn!="function")throw Error(n(150));return ar=wn.call(ar),ra(Yt,zt,ar,Cr)}if(typeof ar.then=="function")return Ni(Yt,zt,o0(ar),Cr);if(ar.$$typeof===E)return Ni(Yt,zt,il(Yt,ar),Cr);Oh(Yt,ar)}return typeof ar=="string"&&ar!==""||typeof ar=="number"||typeof ar=="bigint"?(ar=""+ar,zt!==null&&zt.tag===6?(w(Yt,zt.sibling),Cr=W(zt,ar),Cr.return=Yt,Yt=Cr):(w(Yt,zt),Cr=zf(ar,Yt.mode,Cr),Cr.return=Yt,Yt=Cr),ze(Yt)):w(Yt,zt)}return function(Yt,zt,ar,Cr){try{gu=0;var wn=Ni(Yt,zt,ar,Cr);return bo=null,wn}catch(Rn){if(Rn===ue||Rn===xe)throw Rn;var ns=Yi(29,Rn,null,Yt.mode);return ns.lanes=Cr,ns.return=Yt,ns}finally{}}}var NA=gp(!0),l0=gp(!1),xu=ve(null),Tc=null;function dd(f){var p=f.alternate;R(eo,eo.current&1),R(xu,f),Tc===null&&(p===null||Wr.current!==null||p.memoizedState!==null)&&(Tc=f)}function v1(f){if(f.tag===22){if(R(eo,eo.current),R(xu,f),Tc===null){var p=f.alternate;p!==null&&p.memoizedState!==null&&(Tc=f)}}else vf()}function vf(){R(eo,eo.current),R(xu,xu.current)}function Gc(f){B(xu),Tc===f&&(Tc=null),B(eo)}var eo=ve(0);function Mh(f){for(var p=f;p!==null;){if(p.tag===13){var w=p.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||Vu(w)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}function cm(f,p,w,F){p=f.memoizedState,w=w(F,p),w=w==null?p:u({},p,w),f.memoizedState=w,f.lanes===0&&(f.updateQueue.baseState=w)}var c0={enqueueSetState:function(f,p,w){f=f._reactInternals;var F=Gr(),W=kt(F);W.payload=p,w!=null&&(W.callback=w),p=Ut(f,W,F),p!==null&&(Kr(p,f,F),Dt(p,f,F))},enqueueReplaceState:function(f,p,w){f=f._reactInternals;var F=Gr(),W=kt(F);W.tag=1,W.payload=p,w!=null&&(W.callback=w),p=Ut(f,W,F),p!==null&&(Kr(p,f,F),Dt(p,f,F))},enqueueForceUpdate:function(f,p){f=f._reactInternals;var w=Gr(),F=kt(w);F.tag=2,p!=null&&(F.callback=p),p=Ut(f,F,w),p!==null&&(Kr(p,f,w),Dt(p,f,w))}};function u0(f,p,w,F,W,oe,ze){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(F,oe,ze):p.prototype&&p.prototype.isPureReactComponent?!ps(w,F)||!ps(W,oe):!0}function y1(f,p,w,F){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(w,F),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(w,F),p.state!==f&&c0.enqueueReplaceState(p,p.state,null)}function Yf(f,p){var w=p;if("ref"in p){w={};for(var F in p)F!=="ref"&&(w[F]=p[F])}if(f=f.defaultProps){w===p&&(w=u({},w));for(var W in f)w[W]===void 0&&(w[W]=f[W])}return w}var Xf=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)};function xp(f){Xf(f)}function d0(f){console.error(f)}function vp(f){Xf(f)}function um(f,p){try{var w=f.onUncaughtError;w(p.value,{componentStack:p.stack})}catch(F){setTimeout(function(){throw F})}}function Wd(f,p,w){try{var F=f.onCaughtError;F(w.value,{componentStack:w.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(W){setTimeout(function(){throw W})}}function yp(f,p,w){return w=kt(w),w.tag=3,w.payload={element:null},w.callback=function(){um(f,p)},w}function dm(f){return f=kt(f),f.tag=3,f}function f0(f,p,w,F){var W=w.type.getDerivedStateFromError;if(typeof W=="function"){var oe=F.value;f.payload=function(){return W(oe)},f.callback=function(){Wd(p,w,F)}}var ze=w.stateNode;ze!==null&&typeof ze.componentDidCatch=="function"&&(f.callback=function(){Wd(p,w,F),typeof W!="function"&&(q===null?q=new Set([this]):q.add(this));var At=F.stack;this.componentDidCatch(F.value,{componentStack:At!==null?At:""})})}function Ug(f,p,w,F,W){if(w.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){if(p=w.alternate,p!==null&&zd(p,w,W,!0),w=xu.current,w!==null){switch(w.tag){case 13:return Tc===null?No():w.alternate===null&&wo===0&&(wo=3),w.flags&=-257,w.flags|=65536,w.lanes=W,F===Se?w.flags|=16384:(p=w.updateQueue,p===null?w.updateQueue=new Set([F]):p.add(F),ky(f,F,W)),!1;case 22:return w.flags|=65536,F===Se?w.flags|=16384:(p=w.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([F])},w.updateQueue=p):(w=p.retryQueue,w===null?p.retryQueue=new Set([F]):w.add(F)),ky(f,F,W)),!1}throw Error(n(435,w.tag))}return ky(f,F,W),No(),!1}if(La)return p=xu.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=W,F!==hf&&(f=Error(n(422),{cause:F}),fu(ca(f,w)))):(F!==hf&&(p=Error(n(423),{cause:F}),fu(ca(p,w))),f=f.current.alternate,f.flags|=65536,W&=-W,f.lanes|=W,F=ca(F,w),W=yp(f.stateNode,F,W),pr(f,W),wo!==4&&(wo=2)),!1;var oe=Error(n(520),{cause:F});if(oe=ca(oe,w),b0===null?b0=[oe]:b0.push(oe),wo!==4&&(wo=2),p===null)return!0;F=ca(F,w),w=p;do{switch(w.tag){case 3:return w.flags|=65536,f=W&-W,w.lanes|=f,f=yp(w.stateNode,F,f),pr(w,f),!1;case 1:if(p=w.type,oe=w.stateNode,(w.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(q===null||!q.has(oe))))return w.flags|=65536,W&=-W,w.lanes|=W,W=dm(W),f0(W,f,w,F),pr(w,W),!1}w=w.return}while(w!==null);return!1}var Rg=Error(n(461)),_l=!1;function yi(f,p,w,F){p.child=f===null?l0(p,null,w,F):NA(p,f.child,w,F)}function h0(f,p,w,F,W){w=w.render;var oe=p.ref;if("ref"in F){var ze={};for(var At in F)At!=="ref"&&(ze[At]=F[At])}else ze=F;return Wl(p),F=_i(f,p,w,ze,oe,W),At=da(),f!==null&&!_l?(Fi(f,p,W),th(f,p,W)):(La&&At&&$d(p),p.flags|=1,yi(f,p,F,W),p.child)}function bp(f,p,w,F,W){if(f===null){var oe=w.type;return typeof oe=="function"&&!Kl(oe)&&oe.defaultProps===void 0&&w.compare===null?(p.tag=15,p.type=oe,wp(f,p,oe,F,W)):(f=uu(w.type,null,F,p,p.mode,W),f.ref=p.ref,f.return=p,p.child=f)}if(oe=f.child,!Yd(f,W)){var ze=oe.memoizedProps;if(w=w.compare,w=w!==null?w:ps,w(ze,F)&&f.ref===p.ref)return th(f,p,W)}return p.flags|=1,f=gi(oe,F),f.ref=p.ref,f.return=p,p.child=f}function wp(f,p,w,F,W){if(f!==null){var oe=f.memoizedProps;if(ps(oe,F)&&f.ref===p.ref)if(_l=!1,p.pendingProps=F=oe,Yd(f,W))(f.flags&131072)!==0&&(_l=!0);else return p.lanes=f.lanes,th(f,p,W)}return fd(f,p,w,F,W)}function yf(f,p,w){var F=p.pendingProps,W=F.children,oe=f!==null?f.memoizedState:null;if(F.mode==="hidden"){if((p.flags&128)!==0){if(F=oe!==null?oe.baseLanes|w:w,f!==null){for(W=p.child=f.child,oe=0;W!==null;)oe=oe|W.lanes|W.childLanes,W=W.sibling;p.childLanes=oe&~F}else p.childLanes=0,p.child=null;return Uh(f,p,F,w)}if((w&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},f!==null&&K(p,oe!==null?oe.cachePool:null),oe!==null?Sr(p,oe):Un(),v1(p);else return p.lanes=p.childLanes=536870912,Uh(f,p,oe!==null?oe.baseLanes|w:w,w)}else oe!==null?(K(p,oe.cachePool),Sr(p,oe),vf(),p.memoizedState=null):(f!==null&&K(p,null),Un(),vf());return yi(f,p,W,w),p.child}function Uh(f,p,w,F){var W=I();return W=W===null?null:{parent:Ss._currentValue,pool:W},p.memoizedState={baseLanes:w,cachePool:W},f!==null&&K(p,null),Un(),v1(p),f!==null&&zd(f,p,F,!0),null}function un(f,p){var w=p.ref;if(w===null)f!==null&&f.ref!==null&&(p.flags|=4194816);else{if(typeof w!="function"&&typeof w!="object")throw Error(n(284));(f===null||f.ref!==w)&&(p.flags|=4194816)}}function fd(f,p,w,F,W){return Wl(p),w=_i(f,p,w,F,void 0,W),F=da(),f!==null&&!_l?(Fi(f,p,W),th(f,p,W)):(La&&F&&$d(p),p.flags|=1,yi(f,p,w,W),p.child)}function Jf(f,p,w,F,W,oe){return Wl(p),p.updateQueue=null,w=Ji(p,F,w,W),fs(f),F=da(),f!==null&&!_l?(Fi(f,p,oe),th(f,p,oe)):(La&&F&&$d(p),p.flags|=1,yi(f,p,w,oe),p.child)}function Wc(f,p,w,F,W){if(Wl(p),p.stateNode===null){var oe=is,ze=w.contextType;typeof ze=="object"&&ze!==null&&(oe=ys(ze)),oe=new w(F,oe),p.memoizedState=oe.state!==null&&oe.state!==void 0?oe.state:null,oe.updater=c0,p.stateNode=oe,oe._reactInternals=p,oe=p.stateNode,oe.props=F,oe.state=p.memoizedState,oe.refs={},it(p),ze=w.contextType,oe.context=typeof ze=="object"&&ze!==null?ys(ze):is,oe.state=p.memoizedState,ze=w.getDerivedStateFromProps,typeof ze=="function"&&(cm(p,w,ze,F),oe.state=p.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof oe.getSnapshotBeforeUpdate=="function"||typeof oe.UNSAFE_componentWillMount!="function"&&typeof oe.componentWillMount!="function"||(ze=oe.state,typeof oe.componentWillMount=="function"&&oe.componentWillMount(),typeof oe.UNSAFE_componentWillMount=="function"&&oe.UNSAFE_componentWillMount(),ze!==oe.state&&c0.enqueueReplaceState(oe,oe.state,null),lr(p,F,oe,W),Ir(),oe.state=p.memoizedState),typeof oe.componentDidMount=="function"&&(p.flags|=4194308),F=!0}else if(f===null){oe=p.stateNode;var At=p.memoizedProps,Lt=Yf(w,At);oe.props=Lt;var ir=oe.context,jr=w.contextType;ze=is,typeof jr=="object"&&jr!==null&&(ze=ys(jr));var _r=w.getDerivedStateFromProps;jr=typeof _r=="function"||typeof oe.getSnapshotBeforeUpdate=="function",At=p.pendingProps!==At,jr||typeof oe.UNSAFE_componentWillReceiveProps!="function"&&typeof oe.componentWillReceiveProps!="function"||(At||ir!==ze)&&y1(p,oe,F,ze),Tt=!1;var dr=p.memoizedState;oe.state=dr,lr(p,F,oe,W),Ir(),ir=p.memoizedState,At||dr!==ir||Tt?(typeof _r=="function"&&(cm(p,w,_r,F),ir=p.memoizedState),(Lt=Tt||u0(p,w,Lt,F,dr,ir,ze))?(jr||typeof oe.UNSAFE_componentWillMount!="function"&&typeof oe.componentWillMount!="function"||(typeof oe.componentWillMount=="function"&&oe.componentWillMount(),typeof oe.UNSAFE_componentWillMount=="function"&&oe.UNSAFE_componentWillMount()),typeof oe.componentDidMount=="function"&&(p.flags|=4194308)):(typeof oe.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=F,p.memoizedState=ir),oe.props=F,oe.state=ir,oe.context=ze,F=Lt):(typeof oe.componentDidMount=="function"&&(p.flags|=4194308),F=!1)}else{oe=p.stateNode,xt(f,p),ze=p.memoizedProps,jr=Yf(w,ze),oe.props=jr,_r=p.pendingProps,dr=oe.context,ir=w.contextType,Lt=is,typeof ir=="object"&&ir!==null&&(Lt=ys(ir)),At=w.getDerivedStateFromProps,(ir=typeof At=="function"||typeof oe.getSnapshotBeforeUpdate=="function")||typeof oe.UNSAFE_componentWillReceiveProps!="function"&&typeof oe.componentWillReceiveProps!="function"||(ze!==_r||dr!==Lt)&&y1(p,oe,F,Lt),Tt=!1,dr=p.memoizedState,oe.state=dr,lr(p,F,oe,W),Ir();var or=p.memoizedState;ze!==_r||dr!==or||Tt||f!==null&&f.dependencies!==null&&Bh(f.dependencies)?(typeof At=="function"&&(cm(p,w,At,F),or=p.memoizedState),(jr=Tt||u0(p,w,jr,F,dr,or,Lt)||f!==null&&f.dependencies!==null&&Bh(f.dependencies))?(ir||typeof oe.UNSAFE_componentWillUpdate!="function"&&typeof oe.componentWillUpdate!="function"||(typeof oe.componentWillUpdate=="function"&&oe.componentWillUpdate(F,or,Lt),typeof oe.UNSAFE_componentWillUpdate=="function"&&oe.UNSAFE_componentWillUpdate(F,or,Lt)),typeof oe.componentDidUpdate=="function"&&(p.flags|=4),typeof oe.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof oe.componentDidUpdate!="function"||ze===f.memoizedProps&&dr===f.memoizedState||(p.flags|=4),typeof oe.getSnapshotBeforeUpdate!="function"||ze===f.memoizedProps&&dr===f.memoizedState||(p.flags|=1024),p.memoizedProps=F,p.memoizedState=or),oe.props=F,oe.state=or,oe.context=Lt,F=jr):(typeof oe.componentDidUpdate!="function"||ze===f.memoizedProps&&dr===f.memoizedState||(p.flags|=4),typeof oe.getSnapshotBeforeUpdate!="function"||ze===f.memoizedProps&&dr===f.memoizedState||(p.flags|=1024),F=!1)}return oe=F,un(f,p),F=(p.flags&128)!==0,oe||F?(oe=p.stateNode,w=F&&typeof w.getDerivedStateFromError!="function"?null:oe.render(),p.flags|=1,f!==null&&F?(p.child=NA(p,f.child,null,W),p.child=NA(p,null,w,W)):yi(f,p,w,W),p.memoizedState=oe.state,f=p.child):f=th(f,p,W),f}function Zf(f,p,w,F){return ei(),p.flags|=256,yi(f,p,w,F),p.child}var eh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hd(f){return{baseLanes:f,cachePool:ne()}}function ol(f,p,w){return f=f!==null?f.childLanes&~w:0,p&&(f|=pd),f}function Qg(f,p,w){var F=p.pendingProps,W=!1,oe=(p.flags&128)!==0,ze;if((ze=oe)||(ze=f!==null&&f.memoizedState===null?!1:(eo.current&2)!==0),ze&&(W=!0,p.flags&=-129),ze=(p.flags&32)!==0,p.flags&=-33,f===null){if(La){if(W?dd(p):vf(),La){var At=Zs,Lt;if(Lt=At){e:{for(Lt=At,At=Bl;Lt.nodeType!==8;){if(!At){At=null;break e}if(Lt=ch(Lt.nextSibling),Lt===null){At=null;break e}}At=Lt}At!==null?(p.memoizedState={dehydrated:At,treeContext:zs!==null?{id:Ns,overflow:Mu}:null,retryLane:536870912,hydrationErrors:null},Lt=Yi(18,null,null,0),Lt.stateNode=At,Lt.return=p,p.child=Lt,js=p,Zs=null,Lt=!0):Lt=!1}Lt||jc(p)}if(At=p.memoizedState,At!==null&&(At=At.dehydrated,At!==null))return Vu(At)?p.lanes=32:p.lanes=536870912,null;Gc(p)}return At=F.children,F=F.fallback,W?(vf(),W=p.mode,At=jA({mode:"hidden",children:At},W),F=Sl(F,W,w,null),At.return=p,F.return=p,At.sibling=F,p.child=At,W=p.child,W.memoizedState=hd(w),W.childLanes=ol(f,ze,w),p.memoizedState=eh,F):(dd(p),Np(p,At))}if(Lt=f.memoizedState,Lt!==null&&(At=Lt.dehydrated,At!==null)){if(oe)p.flags&256?(dd(p),p.flags&=-257,p=SA(f,p,w)):p.memoizedState!==null?(vf(),p.child=f.child,p.flags|=128,p=null):(vf(),W=F.fallback,At=p.mode,F=jA({mode:"visible",children:F.children},At),W=Sl(W,At,w,null),W.flags|=2,F.return=p,W.return=p,F.sibling=W,p.child=F,NA(p,f.child,null,w),F=p.child,F.memoizedState=hd(w),F.childLanes=ol(f,ze,w),p.memoizedState=eh,p=W);else if(dd(p),Vu(At)){if(ze=At.nextSibling&&At.nextSibling.dataset,ze)var ir=ze.dgst;ze=ir,F=Error(n(419)),F.stack="",F.digest=ze,fu({value:F,source:null,stack:null}),p=SA(f,p,w)}else if(_l||zd(f,p,w,!1),ze=(w&f.childLanes)!==0,_l||ze){if(ze=bi,ze!==null&&(F=w&-w,F=(F&42)!==0?1:Qr(F),F=(F&(ze.suspendedLanes|w))!==0?0:F,F!==0&&F!==Lt.retryLane))throw Lt.retryLane=F,Hc(f,F),Kr(ze,f,F),Rg;At.data==="$?"||No(),p=SA(f,p,w)}else At.data==="$?"?(p.flags|=192,p.child=f.child,p=null):(f=Lt.treeContext,Zs=ch(At.nextSibling),js=p,La=!0,Gl=null,Bl=!1,f!==null&&(wc[El++]=Ns,wc[El++]=Mu,wc[El++]=zs,Ns=f.id,Mu=f.overflow,zs=p),p=Np(p,F.children),p.flags|=4096);return p}return W?(vf(),W=F.fallback,At=p.mode,Lt=f.child,ir=Lt.sibling,F=gi(Lt,{mode:"hidden",children:F.children}),F.subtreeFlags=Lt.subtreeFlags&65011712,ir!==null?W=gi(ir,W):(W=Sl(W,At,w,null),W.flags|=2),W.return=p,F.return=p,F.sibling=W,p.child=F,F=W,W=p.child,At=f.child.memoizedState,At===null?At=hd(w):(Lt=At.cachePool,Lt!==null?(ir=Ss._currentValue,Lt=Lt.parent!==ir?{parent:ir,pool:ir}:Lt):Lt=ne(),At={baseLanes:At.baseLanes|w,cachePool:Lt}),W.memoizedState=At,W.childLanes=ol(f,ze,w),p.memoizedState=eh,F):(dd(p),w=f.child,f=w.sibling,w=gi(w,{mode:"visible",children:F.children}),w.return=p,w.sibling=null,f!==null&&(ze=p.deletions,ze===null?(p.deletions=[f],p.flags|=16):ze.push(f)),p.child=w,p.memoizedState=null,w)}function Np(f,p){return p=jA({mode:"visible",children:p},f.mode),p.return=f,f.child=p}function jA(f,p){return f=Yi(22,f,null,p),f.lanes=0,f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},f}function SA(f,p,w){return NA(p,f.child,null,w),f=Np(p,p.pendingProps.children),f.flags|=2,p.memoizedState=null,f}function jp(f,p,w){f.lanes|=p;var F=f.alternate;F!==null&&(F.lanes|=p),Go(f.return,p,w)}function Sp(f,p,w,F,W){var oe=f.memoizedState;oe===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:F,tail:w,tailMode:W}:(oe.isBackwards=p,oe.rendering=null,oe.renderingStartTime=0,oe.last=F,oe.tail=w,oe.tailMode=W)}function fm(f,p,w){var F=p.pendingProps,W=F.revealOrder,oe=F.tail;if(yi(f,p,F.children,w),F=eo.current,(F&2)!==0)F=F&1|2,p.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&jp(f,w,p);else if(f.tag===19)jp(f,w,p);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break e;for(;f.sibling===null;){if(f.return===null||f.return===p)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}F&=1}switch(R(eo,F),W){case"forwards":for(w=p.child,W=null;w!==null;)f=w.alternate,f!==null&&Mh(f)===null&&(W=w),w=w.sibling;w=W,w===null?(W=p.child,p.child=null):(W=w.sibling,w.sibling=null),Sp(p,!1,W,w,oe);break;case"backwards":for(w=null,W=p.child,p.child=null;W!==null;){if(f=W.alternate,f!==null&&Mh(f)===null){p.child=W;break}f=W.sibling,W.sibling=w,w=W,W=f}Sp(p,!0,w,null,oe);break;case"together":Sp(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function th(f,p,w){if(f!==null&&(p.dependencies=f.dependencies),$h|=p.lanes,(w&p.childLanes)===0)if(f!==null){if(zd(f,p,w,!1),(w&p.childLanes)===0)return null}else return null;if(f!==null&&p.child!==f.child)throw Error(n(153));if(p.child!==null){for(f=p.child,w=gi(f,f.pendingProps),p.child=w,w.return=p;f.sibling!==null;)f=f.sibling,w=w.sibling=gi(f,f.pendingProps),w.return=p;w.sibling=null}return p.child}function Yd(f,p){return(f.lanes&p)!==0?!0:(f=f.dependencies,!!(f!==null&&Bh(f)))}function Yc(f,p,w){switch(p.tag){case 3:pe(p,p.stateNode.containerInfo),sl(p,Ss,f.memoizedState.cache),ei();break;case 27:case 5:le(p);break;case 4:pe(p,p.stateNode.containerInfo);break;case 10:sl(p,p.type,p.memoizedProps.value);break;case 13:var F=p.memoizedState;if(F!==null)return F.dehydrated!==null?(dd(p),p.flags|=128,null):(w&p.child.childLanes)!==0?Qg(f,p,w):(dd(p),f=th(f,p,w),f!==null?f.sibling:null);dd(p);break;case 19:var W=(f.flags&128)!==0;if(F=(w&p.childLanes)!==0,F||(zd(f,p,w,!1),F=(w&p.childLanes)!==0),W){if(F)return fm(f,p,w);p.flags|=128}if(W=p.memoizedState,W!==null&&(W.rendering=null,W.tail=null,W.lastEffect=null),R(eo,eo.current),F)break;return null;case 22:case 23:return p.lanes=0,yf(f,p,w);case 24:sl(p,Ss,f.memoizedState.cache)}return th(f,p,w)}function Cp(f,p,w){if(f!==null)if(f.memoizedProps!==p.pendingProps)_l=!0;else{if(!Yd(f,w)&&(p.flags&128)===0)return _l=!1,Yc(f,p,w);_l=(f.flags&131072)!==0}else _l=!1,La&&(p.flags&1048576)!==0&&AA(p,Vf,p.index);switch(p.lanes=0,p.tag){case 16:e:{f=p.pendingProps;var F=p.elementType,W=F._init;if(F=W(F._payload),p.type=F,typeof F=="function")Kl(F)?(f=Yf(F,f),p.tag=1,p=Wc(null,p,F,f,w)):(p.tag=0,p=fd(null,p,F,f,w));else{if(F!=null){if(W=F.$$typeof,W===T){p.tag=11,p=h0(null,p,F,f,w);break e}else if(W===M){p.tag=14,p=bp(null,p,F,f,w);break e}}throw p=J(F)||F,Error(n(306,p,""))}}return p;case 0:return fd(f,p,p.type,p.pendingProps,w);case 1:return F=p.type,W=Yf(F,p.pendingProps),Wc(f,p,F,W,w);case 3:e:{if(pe(p,p.stateNode.containerInfo),f===null)throw Error(n(387));F=p.pendingProps;var oe=p.memoizedState;W=oe.element,xt(f,p),lr(p,F,null,w);var ze=p.memoizedState;if(F=ze.cache,sl(p,Ss,F),F!==oe.cache&&ba(p,[Ss],w,!0),Ir(),F=ze.element,oe.isDehydrated)if(oe={element:F,isDehydrated:!1,cache:ze.cache},p.updateQueue.baseState=oe,p.memoizedState=oe,p.flags&256){p=Zf(f,p,F,w);break e}else if(F!==W){W=ca(Error(n(424)),p),fu(W),p=Zf(f,p,F,w);break e}else{switch(f=p.stateNode.containerInfo,f.nodeType){case 9:f=f.body;break;default:f=f.nodeName==="HTML"?f.ownerDocument.body:f}for(Zs=ch(f.firstChild),js=p,La=!0,Gl=null,Bl=!0,w=l0(p,null,F,w),p.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling}else{if(ei(),F===W){p=th(f,p,w);break e}yi(f,p,F,w)}p=p.child}return p;case 26:return un(f,p),f===null?(w=Vw(p.type,null,p.pendingProps,null))?p.memoizedState=w:La||(w=p.type,f=p.pendingProps,F=w0(ge.current).createElement(w),F[On]=p,F[Gn]=f,tc(F,w,f),Et(F),p.stateNode=F):p.memoizedState=Vw(p.type,f.memoizedProps,p.pendingProps,f.memoizedState),null;case 27:return le(p),f===null&&La&&(F=p.stateNode=Hw(p.type,p.pendingProps,ge.current),js=p,Bl=!0,W=Zs,Bf(p.type)?(Hy=W,Zs=ch(F.firstChild)):Zs=W),yi(f,p,p.pendingProps.children,w),un(f,p),f===null&&(p.flags|=4194304),p.child;case 5:return f===null&&La&&((W=F=Zs)&&(F=Rw(F,p.type,p.pendingProps,Bl),F!==null?(p.stateNode=F,js=p,Zs=ch(F.firstChild),Bl=!1,W=!0):W=!1),W||jc(p)),le(p),W=p.type,oe=p.pendingProps,ze=f!==null?f.memoizedProps:null,F=oe.children,P1(W,oe)?F=null:ze!==null&&P1(W,ze)&&(p.flags|=32),p.memoizedState!==null&&(W=_i(f,p,Da,null,null,w),Up._currentValue=W),un(f,p),yi(f,p,F,w),p.child;case 6:return f===null&&La&&((f=w=Zs)&&(w=O1(w,p.pendingProps,Bl),w!==null?(p.stateNode=w,js=p,Zs=null,f=!0):f=!1),f||jc(p)),null;case 13:return Qg(f,p,w);case 4:return pe(p,p.stateNode.containerInfo),F=p.pendingProps,f===null?p.child=NA(p,null,F,w):yi(f,p,F,w),p.child;case 11:return h0(f,p,p.type,p.pendingProps,w);case 7:return yi(f,p,p.pendingProps,w),p.child;case 8:return yi(f,p,p.pendingProps.children,w),p.child;case 12:return yi(f,p,p.pendingProps.children,w),p.child;case 10:return F=p.pendingProps,sl(p,p.type,F.value),yi(f,p,F.children,w),p.child;case 9:return W=p.type._context,F=p.pendingProps.children,Wl(p),W=ys(W),F=F(W),p.flags|=1,yi(f,p,F,w),p.child;case 14:return bp(f,p,p.type,p.pendingProps,w);case 15:return wp(f,p,p.type,p.pendingProps,w);case 19:return fm(f,p,w);case 31:return F=p.pendingProps,w=p.mode,F={mode:F.mode,children:F.children},f===null?(w=jA(F,w),w.ref=p.ref,p.child=w,w.return=p,p=w):(w=gi(f.child,F),w.ref=p.ref,p.child=w,w.return=p,p=w),p;case 22:return yf(f,p,w);case 24:return Wl(p),F=ys(Ss),f===null?(W=I(),W===null&&(W=bi,oe=pA(),W.pooledCache=oe,oe.refCount++,oe!==null&&(W.pooledCacheLanes|=w),W=oe),p.memoizedState={parent:F,cache:W},it(p),sl(p,Ss,W)):((f.lanes&w)!==0&&(xt(f,p),lr(p,null,null,w),Ir()),W=f.memoizedState,oe=p.memoizedState,W.parent!==F?(W={parent:F,cache:F},p.memoizedState=W,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=W),sl(p,Ss,F)):(F=oe.cache,sl(p,Ss,F),F!==W.cache&&ba(p,[Ss],w,!0))),yi(f,p,p.pendingProps.children,w),p.child;case 29:throw p.pendingProps}throw Error(n(156,p.tag))}function rh(f){f.flags|=4}function hm(f,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)f.flags&=-16777217;else if(f.flags|=16777216,!rc(p)){if(p=xu.current,p!==null&&((hs&4194048)===hs?Tc!==null:(hs&62914560)!==hs&&(hs&536870912)===0||p!==Tc))throw Ve=Se,me;f.flags|=8192}}function Ep(f,p){p!==null&&(f.flags|=4),f.flags&16384&&(p=f.tag!==22?Ft():536870912,f.lanes|=p,vm|=p)}function A0(f,p){if(!La)switch(f.tailMode){case"hidden":p=f.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?f.tail=null:w.sibling=null;break;case"collapsed":w=f.tail;for(var F=null;w!==null;)w.alternate!==null&&(F=w),w=w.sibling;F===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:F.sibling=null}}function ui(f){var p=f.alternate!==null&&f.alternate.child===f.child,w=0,F=0;if(p)for(var W=f.child;W!==null;)w|=W.lanes|W.childLanes,F|=W.subtreeFlags&65011712,F|=W.flags&65011712,W.return=f,W=W.sibling;else for(W=f.child;W!==null;)w|=W.lanes|W.childLanes,F|=W.subtreeFlags,F|=W.flags,W.return=f,W=W.sibling;return f.subtreeFlags|=F,f.childLanes=w,p}function b1(f,p,w){var F=p.pendingProps;switch(Nc(p),p.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ui(p),null;case 1:return ui(p),null;case 3:return w=p.stateNode,F=null,f!==null&&(F=f.memoizedState.cache),p.memoizedState.cache!==F&&(p.flags|=2048),Io(Ss),Z(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(f===null||f.child===null)&&(Vs(p)?rh(p):f===null||f.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,om())),ui(p),null;case 26:return w=p.memoizedState,f===null?(rh(p),w!==null?(ui(p),hm(p,w)):(ui(p),p.flags&=-16777217)):w?w!==f.memoizedState?(rh(p),ui(p),hm(p,w)):(ui(p),p.flags&=-16777217):(f.memoizedProps!==F&&rh(p),ui(p),p.flags&=-16777217),null;case 27:te(p),w=ge.current;var W=p.type;if(f!==null&&p.stateNode!=null)f.memoizedProps!==F&&rh(p);else{if(!F){if(p.stateNode===null)throw Error(n(166));return ui(p),null}f=Y.current,Vs(p)?im(p):(f=Hw(W,F,w),p.stateNode=f,rh(p))}return ui(p),null;case 5:if(te(p),w=p.type,f!==null&&p.stateNode!=null)f.memoizedProps!==F&&rh(p);else{if(!F){if(p.stateNode===null)throw Error(n(166));return ui(p),null}if(f=Y.current,Vs(p))im(p);else{switch(W=w0(ge.current),f){case 1:f=W.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:f=W.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":f=W.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":f=W.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":f=W.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof F.is=="string"?W.createElement("select",{is:F.is}):W.createElement("select"),F.multiple?f.multiple=!0:F.size&&(f.size=F.size);break;default:f=typeof F.is=="string"?W.createElement(w,{is:F.is}):W.createElement(w)}}f[On]=p,f[Gn]=F;e:for(W=p.child;W!==null;){if(W.tag===5||W.tag===6)f.appendChild(W.stateNode);else if(W.tag!==4&&W.tag!==27&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===p)break e;for(;W.sibling===null;){if(W.return===null||W.return===p)break e;W=W.return}W.sibling.return=W.return,W=W.sibling}p.stateNode=f;e:switch(tc(f,w,F),w){case"button":case"input":case"select":case"textarea":f=!!F.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&rh(p)}}return ui(p),p.flags&=-16777217,null;case 6:if(f&&p.stateNode!=null)f.memoizedProps!==F&&rh(p);else{if(typeof F!="string"&&p.stateNode===null)throw Error(n(166));if(f=ge.current,Vs(p)){if(f=p.stateNode,w=p.memoizedProps,F=null,W=js,W!==null)switch(W.tag){case 27:case 5:F=W.memoizedProps}f[On]=p,f=!!(f.nodeValue===w||F!==null&&F.suppressHydrationWarning===!0||Ow(f.nodeValue,w)),f||jc(p)}else f=w0(f).createTextNode(F),f[On]=p,p.stateNode=f}return ui(p),null;case 13:if(F=p.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(W=Vs(p),F!==null&&F.dehydrated!==null){if(f===null){if(!W)throw Error(n(318));if(W=p.memoizedState,W=W!==null?W.dehydrated:null,!W)throw Error(n(317));W[On]=p}else ei(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;ui(p),W=!1}else W=om(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=W),W=!0;if(!W)return p.flags&256?(Gc(p),p):(Gc(p),null)}if(Gc(p),(p.flags&128)!==0)return p.lanes=w,p;if(w=F!==null,f=f!==null&&f.memoizedState!==null,w){F=p.child,W=null,F.alternate!==null&&F.alternate.memoizedState!==null&&F.alternate.memoizedState.cachePool!==null&&(W=F.alternate.memoizedState.cachePool.pool);var oe=null;F.memoizedState!==null&&F.memoizedState.cachePool!==null&&(oe=F.memoizedState.cachePool.pool),oe!==W&&(F.flags|=2048)}return w!==f&&w&&(p.child.flags|=8192),Ep(p,p.updateQueue),ui(p),null;case 4:return Z(),f===null&&My(p.stateNode.containerInfo),ui(p),null;case 10:return Io(p.type),ui(p),null;case 19:if(B(eo),W=p.memoizedState,W===null)return ui(p),null;if(F=(p.flags&128)!==0,oe=W.rendering,oe===null)if(F)A0(W,!1);else{if(wo!==0||f!==null&&(f.flags&128)!==0)for(f=p.child;f!==null;){if(oe=Mh(f),oe!==null){for(p.flags|=128,A0(W,!1),f=oe.updateQueue,p.updateQueue=f,Ep(p,f),p.subtreeFlags=0,f=w,w=p.child;w!==null;)zc(w,f),w=w.sibling;return R(eo,eo.current&1|2),p.child}f=f.sibling}W.tail!==null&&st()>D&&(p.flags|=128,F=!0,A0(W,!1),p.lanes=4194304)}else{if(!F)if(f=Mh(oe),f!==null){if(p.flags|=128,F=!0,f=f.updateQueue,p.updateQueue=f,Ep(p,f),A0(W,!0),W.tail===null&&W.tailMode==="hidden"&&!oe.alternate&&!La)return ui(p),null}else 2*st()-W.renderingStartTime>D&&w!==536870912&&(p.flags|=128,F=!0,A0(W,!1),p.lanes=4194304);W.isBackwards?(oe.sibling=p.child,p.child=oe):(f=W.last,f!==null?f.sibling=oe:p.child=oe,W.last=oe)}return W.tail!==null?(p=W.tail,W.rendering=p,W.tail=p.sibling,W.renderingStartTime=st(),p.sibling=null,f=eo.current,R(eo,F?f&1|2:f&1),p):(ui(p),null);case 22:case 23:return Gc(p),$r(),F=p.memoizedState!==null,f!==null?f.memoizedState!==null!==F&&(p.flags|=8192):F&&(p.flags|=8192),F?(w&536870912)!==0&&(p.flags&128)===0&&(ui(p),p.subtreeFlags&6&&(p.flags|=8192)):ui(p),w=p.updateQueue,w!==null&&Ep(p,w.retryQueue),w=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),F=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(F=p.memoizedState.cachePool.pool),F!==w&&(p.flags|=2048),f!==null&&B(S),null;case 24:return w=null,f!==null&&(w=f.memoizedState.cache),p.memoizedState.cache!==w&&(p.flags|=2048),Io(Ss),ui(p),null;case 25:return null;case 30:return null}throw Error(n(156,p.tag))}function w1(f,p){switch(Nc(p),p.tag){case 1:return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 3:return Io(Ss),Z(),f=p.flags,(f&65536)!==0&&(f&128)===0?(p.flags=f&-65537|128,p):null;case 26:case 27:case 5:return te(p),null;case 13:if(Gc(p),f=p.memoizedState,f!==null&&f.dehydrated!==null){if(p.alternate===null)throw Error(n(340));ei()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 19:return B(eo),null;case 4:return Z(),null;case 10:return Io(p.type),null;case 22:case 23:return Gc(p),$r(),f!==null&&B(S),f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 24:return Io(Ss),null;case 25:return null;default:return null}}function Bp(f,p){switch(Nc(p),p.tag){case 3:Io(Ss),Z();break;case 26:case 27:case 5:te(p);break;case 4:Z();break;case 13:Gc(p);break;case 19:B(eo);break;case 10:Io(p.type);break;case 22:case 23:Gc(p),$r(),f!==null&&B(S);break;case 24:Io(Ss)}}function CA(f,p){try{var w=p.updateQueue,F=w!==null?w.lastEffect:null;if(F!==null){var W=F.next;w=W;do{if((w.tag&f)===f){F=void 0;var oe=w.create,ze=w.inst;F=oe(),ze.destroy=F}w=w.next}while(w!==W)}}catch(At){Oi(p,p.return,At)}}function nh(f,p,w){try{var F=p.updateQueue,W=F!==null?F.lastEffect:null;if(W!==null){var oe=W.next;F=oe;do{if((F.tag&f)===f){var ze=F.inst,At=ze.destroy;if(At!==void 0){ze.destroy=void 0,W=p;var Lt=w,ir=At;try{ir()}catch(jr){Oi(W,Lt,jr)}}}F=F.next}while(F!==oe)}}catch(jr){Oi(p,p.return,jr)}}function N1(f){var p=f.updateQueue;if(p!==null){var w=f.stateNode;try{Vn(p,w)}catch(F){Oi(f,f.return,F)}}}function Hg(f,p,w){w.props=Yf(f.type,f.memoizedProps),w.state=f.memoizedState;try{w.componentWillUnmount()}catch(F){Oi(f,p,F)}}function EA(f,p){try{var w=f.ref;if(w!==null){switch(f.tag){case 26:case 27:case 5:var F=f.stateNode;break;case 30:F=f.stateNode;break;default:F=f.stateNode}typeof w=="function"?f.refCleanup=w(F):w.current=F}}catch(W){Oi(f,p,W)}}function bf(f,p){var w=f.ref,F=f.refCleanup;if(w!==null)if(typeof F=="function")try{F()}catch(W){Oi(f,p,W)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof w=="function")try{w(null)}catch(W){Oi(f,p,W)}else w.current=null}function Tp(f){var p=f.type,w=f.memoizedProps,F=f.stateNode;try{e:switch(p){case"button":case"input":case"select":case"textarea":w.autoFocus&&F.focus();break e;case"img":w.src?F.src=w.src:w.srcSet&&(F.srcset=w.srcSet)}}catch(W){Oi(f,f.return,W)}}function _p(f,p,w){try{var F=f.stateNode;ES(F,f.type,w,p),F[Gn]=p}catch(W){Oi(f,f.return,W)}}function Am(f){return f.tag===5||f.tag===3||f.tag===26||f.tag===27&&Bf(f.type)||f.tag===4}function m0(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||Am(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.tag===27&&Bf(f.type)||f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function mm(f,p,w){var F=f.tag;if(F===5||F===6)f=f.stateNode,p?(w.nodeType===9?w.body:w.nodeName==="HTML"?w.ownerDocument.body:w).insertBefore(f,p):(p=w.nodeType===9?w.body:w.nodeName==="HTML"?w.ownerDocument.body:w,p.appendChild(f),w=w._reactRootContainer,w!=null||p.onclick!==null||(p.onclick=I1));else if(F!==4&&(F===27&&Bf(f.type)&&(w=f.stateNode,p=null),f=f.child,f!==null))for(mm(f,p,w),f=f.sibling;f!==null;)mm(f,p,w),f=f.sibling}function p0(f,p,w){var F=f.tag;if(F===5||F===6)f=f.stateNode,p?w.insertBefore(f,p):w.appendChild(f);else if(F!==4&&(F===27&&Bf(f.type)&&(w=f.stateNode),f=f.child,f!==null))for(p0(f,p,w),f=f.sibling;f!==null;)p0(f,p,w),f=f.sibling}function BA(f){var p=f.stateNode,w=f.memoizedProps;try{for(var F=f.type,W=p.attributes;W.length;)p.removeAttributeNode(W[0]);tc(p,F,w),p[On]=f,p[Gn]=w}catch(oe){Oi(f,f.return,oe)}}var wf=!1,Or=!1,vu=!1,g0=typeof WeakSet=="function"?WeakSet:Set,Ms=null;function _y(f,p){if(f=f.containerInfo,lh=R1,f=Wi(f),Ls(f)){if("selectionStart"in f)var w={start:f.selectionStart,end:f.selectionEnd};else e:{w=(w=f.ownerDocument)&&w.defaultView||window;var F=w.getSelection&&w.getSelection();if(F&&F.rangeCount!==0){w=F.anchorNode;var W=F.anchorOffset,oe=F.focusNode;F=F.focusOffset;try{w.nodeType,oe.nodeType}catch{w=null;break e}var ze=0,At=-1,Lt=-1,ir=0,jr=0,_r=f,dr=null;t:for(;;){for(var or;_r!==w||W!==0&&_r.nodeType!==3||(At=ze+W),_r!==oe||F!==0&&_r.nodeType!==3||(Lt=ze+F),_r.nodeType===3&&(ze+=_r.nodeValue.length),(or=_r.firstChild)!==null;)dr=_r,_r=or;for(;;){if(_r===f)break t;if(dr===w&&++ir===W&&(At=ze),dr===oe&&++jr===F&&(Lt=ze),(or=_r.nextSibling)!==null)break;_r=dr,dr=_r.parentNode}_r=or}w=At===-1||Lt===-1?null:{start:At,end:Lt}}else w=null}w=w||{start:0,end:0}}else w=null;for(k1={focusedElem:f,selectionRange:w},R1=!1,Ms=p;Ms!==null;)if(p=Ms,f=p.child,(p.subtreeFlags&1024)!==0&&f!==null)f.return=p,Ms=f;else for(;Ms!==null;){switch(p=Ms,oe=p.alternate,f=p.flags,p.tag){case 0:break;case 11:case 15:break;case 1:if((f&1024)!==0&&oe!==null){f=void 0,w=p,W=oe.memoizedProps,oe=oe.memoizedState,F=w.stateNode;try{var aa=Yf(w.type,W,w.elementType===w.type);f=F.getSnapshotBeforeUpdate(aa,oe),F.__reactInternalSnapshotBeforeUpdate=f}catch(ra){Oi(w,w.return,ra)}}break;case 3:if((f&1024)!==0){if(f=p.stateNode.containerInfo,w=f.nodeType,w===9)Qy(f);else if(w===1)switch(f.nodeName){case"HEAD":case"HTML":case"BODY":Qy(f);break;default:f.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(n(163))}if(f=p.sibling,f!==null){f.return=p.return,Ms=f;break}Ms=p.return}}function Es(f,p,w){var F=w.flags;switch(w.tag){case 0:case 11:case 15:ah(f,w),F&4&&CA(5,w);break;case 1:if(ah(f,w),F&4)if(f=w.stateNode,p===null)try{f.componentDidMount()}catch(ze){Oi(w,w.return,ze)}else{var W=Yf(w.type,p.memoizedProps);p=p.memoizedState;try{f.componentDidUpdate(W,p,f.__reactInternalSnapshotBeforeUpdate)}catch(ze){Oi(w,w.return,ze)}}F&64&&N1(w),F&512&&EA(w,w.return);break;case 3:if(ah(f,w),F&64&&(f=w.updateQueue,f!==null)){if(p=null,w.child!==null)switch(w.child.tag){case 27:case 5:p=w.child.stateNode;break;case 1:p=w.child.stateNode}try{Vn(f,p)}catch(ze){Oi(w,w.return,ze)}}break;case 27:p===null&&F&4&&BA(w);case 26:case 5:ah(f,w),p===null&&F&4&&Tp(w),F&512&&EA(w,w.return);break;case 12:ah(f,w);break;case 13:ah(f,w),F&4&&x0(f,w),F&64&&(f=w.memoizedState,f!==null&&(f=f.dehydrated,f!==null&&(w=E1.bind(null,w),Pp(f,w))));break;case 22:if(F=w.memoizedState!==null||wf,!F){p=p!==null&&p.memoizedState!==null||Or,W=wf;var oe=Or;wf=F,(Or=p)&&!oe?Nf(f,w,(w.subtreeFlags&8772)!==0):ah(f,w),wf=W,Or=oe}break;case 30:break;default:ah(f,w)}}function Li(f){var p=f.alternate;p!==null&&(f.alternate=null,Li(p)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(p=f.stateNode,p!==null&&mt(p)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}var di=null,yu=!1;function Ad(f,p,w){for(w=w.child;w!==null;)j1(f,p,w),w=w.sibling}function j1(f,p,w){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Ge,w)}catch{}switch(w.tag){case 26:Or||bf(w,p),Ad(f,p,w),w.memoizedState?w.memoizedState.count--:w.stateNode&&(w=w.stateNode,w.parentNode.removeChild(w));break;case 27:Or||bf(w,p);var F=di,W=yu;Bf(w.type)&&(di=w.stateNode,yu=!1),Ad(f,p,w),tx(w.stateNode),di=F,yu=W;break;case 5:Or||bf(w,p);case 6:if(F=di,W=yu,di=null,Ad(f,p,w),di=F,yu=W,di!==null)if(yu)try{(di.nodeType===9?di.body:di.nodeName==="HTML"?di.ownerDocument.body:di).removeChild(w.stateNode)}catch(oe){Oi(w,p,oe)}else try{di.removeChild(w.stateNode)}catch(oe){Oi(w,p,oe)}break;case 18:di!==null&&(yu?(f=di,L1(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,w.stateNode),cx(f)):L1(di,w.stateNode));break;case 4:F=di,W=yu,di=w.stateNode.containerInfo,yu=!0,Ad(f,p,w),di=F,yu=W;break;case 0:case 11:case 14:case 15:Or||nh(2,w,p),Or||nh(4,w,p),Ad(f,p,w);break;case 1:Or||(bf(w,p),F=w.stateNode,typeof F.componentWillUnmount=="function"&&Hg(w,p,F)),Ad(f,p,w);break;case 21:Ad(f,p,w);break;case 22:Or=(F=Or)||w.memoizedState!==null,Ad(f,p,w),Or=F;break;default:Ad(f,p,w)}}function x0(f,p){if(p.memoizedState===null&&(f=p.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{cx(f)}catch(w){Oi(p,p.return,w)}}function Fy(f){switch(f.tag){case 13:case 19:var p=f.stateNode;return p===null&&(p=f.stateNode=new g0),p;case 22:return f=f.stateNode,p=f._retryCache,p===null&&(p=f._retryCache=new g0),p;default:throw Error(n(435,f.tag))}}function $g(f,p){var w=Fy(f);p.forEach(function(F){var W=yS.bind(null,f,F);w.has(F)||(w.add(F),F.then(W,W))})}function bu(f,p){var w=p.deletions;if(w!==null)for(var F=0;F<w.length;F++){var W=w[F],oe=f,ze=p,At=ze;e:for(;At!==null;){switch(At.tag){case 27:if(Bf(At.type)){di=At.stateNode,yu=!1;break e}break;case 5:di=At.stateNode,yu=!1;break e;case 3:case 4:di=At.stateNode.containerInfo,yu=!0;break e}At=At.return}if(di===null)throw Error(n(160));j1(oe,ze,W),di=null,yu=!1,oe=W.alternate,oe!==null&&(oe.return=null),W.return=null}if(p.subtreeFlags&13878)for(p=p.child;p!==null;)Fp(p,f),p=p.sibling}var md=null;function Fp(f,p){var w=f.alternate,F=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:bu(p,f),wu(f),F&4&&(nh(3,f,f.return),CA(3,f),nh(5,f,f.return));break;case 1:bu(p,f),wu(f),F&512&&(Or||w===null||bf(w,w.return)),F&64&&wf&&(f=f.updateQueue,f!==null&&(F=f.callbacks,F!==null&&(w=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=w===null?F:w.concat(F))));break;case 26:var W=md;if(bu(p,f),wu(f),F&512&&(Or||w===null||bf(w,w.return)),F&4){var oe=w!==null?w.memoizedState:null;if(F=f.memoizedState,w===null)if(F===null)if(f.stateNode===null){e:{F=f.type,w=f.memoizedProps,W=W.ownerDocument||W;t:switch(F){case"title":oe=W.getElementsByTagName("title")[0],(!oe||oe[ft]||oe[On]||oe.namespaceURI==="http://www.w3.org/2000/svg"||oe.hasAttribute("itemprop"))&&(oe=W.createElement(F),W.head.insertBefore(oe,W.querySelector("head > title"))),tc(oe,F,w),oe[On]=f,Et(oe),F=oe;break e;case"link":var ze=Gw("link","href",W).get(F+(w.href||""));if(ze){for(var At=0;At<ze.length;At++)if(oe=ze[At],oe.getAttribute("href")===(w.href==null||w.href===""?null:w.href)&&oe.getAttribute("rel")===(w.rel==null?null:w.rel)&&oe.getAttribute("title")===(w.title==null?null:w.title)&&oe.getAttribute("crossorigin")===(w.crossOrigin==null?null:w.crossOrigin)){ze.splice(At,1);break t}}oe=W.createElement(F),tc(oe,F,w),W.head.appendChild(oe);break;case"meta":if(ze=Gw("meta","content",W).get(F+(w.content||""))){for(At=0;At<ze.length;At++)if(oe=ze[At],oe.getAttribute("content")===(w.content==null?null:""+w.content)&&oe.getAttribute("name")===(w.name==null?null:w.name)&&oe.getAttribute("property")===(w.property==null?null:w.property)&&oe.getAttribute("http-equiv")===(w.httpEquiv==null?null:w.httpEquiv)&&oe.getAttribute("charset")===(w.charSet==null?null:w.charSet)){ze.splice(At,1);break t}}oe=W.createElement(F),tc(oe,F,w),W.head.appendChild(oe);break;default:throw Error(n(468,F))}oe[On]=f,Et(oe),F=oe}f.stateNode=F}else Ww(W,f.type,f.stateNode);else f.stateNode=qw(W,F,f.memoizedProps);else oe!==F?(oe===null?w.stateNode!==null&&(w=w.stateNode,w.parentNode.removeChild(w)):oe.count--,F===null?Ww(W,f.type,f.stateNode):qw(W,F,f.memoizedProps)):F===null&&f.stateNode!==null&&_p(f,f.memoizedProps,w.memoizedProps)}break;case 27:bu(p,f),wu(f),F&512&&(Or||w===null||bf(w,w.return)),w!==null&&F&4&&_p(f,f.memoizedProps,w.memoizedProps);break;case 5:if(bu(p,f),wu(f),F&512&&(Or||w===null||bf(w,w.return)),f.flags&32){W=f.stateNode;try{Ul(W,"")}catch(or){Oi(f,f.return,or)}}F&4&&f.stateNode!=null&&(W=f.memoizedProps,_p(f,W,w!==null?w.memoizedProps:W)),F&1024&&(vu=!0);break;case 6:if(bu(p,f),wu(f),F&4){if(f.stateNode===null)throw Error(n(162));F=f.memoizedProps,w=f.stateNode;try{w.nodeValue=F}catch(or){Oi(f,f.return,or)}}break;case 3:if(Mp=null,W=md,md=Ia(p.containerInfo),bu(p,f),md=W,wu(f),F&4&&w!==null&&w.memoizedState.isDehydrated)try{cx(p.containerInfo)}catch(or){Oi(f,f.return,or)}vu&&(vu=!1,zg(f));break;case 4:F=md,md=Ia(f.stateNode.containerInfo),bu(p,f),wu(f),md=F;break;case 12:bu(p,f),wu(f);break;case 13:bu(p,f),wu(f),f.child.flags&8192&&f.memoizedState!==null!=(w!==null&&w.memoizedState!==null)&&(H=st()),F&4&&(F=f.updateQueue,F!==null&&(f.updateQueue=null,$g(f,F)));break;case 22:W=f.memoizedState!==null;var Lt=w!==null&&w.memoizedState!==null,ir=wf,jr=Or;if(wf=ir||W,Or=jr||Lt,bu(p,f),Or=jr,wf=ir,wu(f),F&8192)e:for(p=f.stateNode,p._visibility=W?p._visibility&-2:p._visibility|1,W&&(w===null||Lt||wf||Or||sh(f)),w=null,p=f;;){if(p.tag===5||p.tag===26){if(w===null){Lt=w=p;try{if(oe=Lt.stateNode,W)ze=oe.style,typeof ze.setProperty=="function"?ze.setProperty("display","none","important"):ze.display="none";else{At=Lt.stateNode;var _r=Lt.memoizedProps.style,dr=_r!=null&&_r.hasOwnProperty("display")?_r.display:null;At.style.display=dr==null||typeof dr=="boolean"?"":(""+dr).trim()}}catch(or){Oi(Lt,Lt.return,or)}}}else if(p.tag===6){if(w===null){Lt=p;try{Lt.stateNode.nodeValue=W?"":Lt.memoizedProps}catch(or){Oi(Lt,Lt.return,or)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===f)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break e;for(;p.sibling===null;){if(p.return===null||p.return===f)break e;w===p&&(w=null),p=p.return}w===p&&(w=null),p.sibling.return=p.return,p=p.sibling}F&4&&(F=f.updateQueue,F!==null&&(w=F.retryQueue,w!==null&&(F.retryQueue=null,$g(f,w))));break;case 19:bu(p,f),wu(f),F&4&&(F=f.updateQueue,F!==null&&(f.updateQueue=null,$g(f,F)));break;case 30:break;case 21:break;default:bu(p,f),wu(f)}}function wu(f){var p=f.flags;if(p&2){try{for(var w,F=f.return;F!==null;){if(Am(F)){w=F;break}F=F.return}if(w==null)throw Error(n(160));switch(w.tag){case 27:var W=w.stateNode,oe=m0(f);p0(f,oe,W);break;case 5:var ze=w.stateNode;w.flags&32&&(Ul(ze,""),w.flags&=-33);var At=m0(f);p0(f,At,ze);break;case 3:case 4:var Lt=w.stateNode.containerInfo,ir=m0(f);mm(f,ir,Lt);break;default:throw Error(n(161))}}catch(jr){Oi(f,f.return,jr)}f.flags&=-3}p&4096&&(f.flags&=-4097)}function zg(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var p=f;zg(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),f=f.sibling}}function ah(f,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)Es(f,p.alternate,p),p=p.sibling}function sh(f){for(f=f.child;f!==null;){var p=f;switch(p.tag){case 0:case 11:case 14:case 15:nh(4,p,p.return),sh(p);break;case 1:bf(p,p.return);var w=p.stateNode;typeof w.componentWillUnmount=="function"&&Hg(p,p.return,w),sh(p);break;case 27:tx(p.stateNode);case 26:case 5:bf(p,p.return),sh(p);break;case 22:p.memoizedState===null&&sh(p);break;case 30:sh(p);break;default:sh(p)}f=f.sibling}}function Nf(f,p,w){for(w=w&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var F=p.alternate,W=f,oe=p,ze=oe.flags;switch(oe.tag){case 0:case 11:case 15:Nf(W,oe,w),CA(4,oe);break;case 1:if(Nf(W,oe,w),F=oe,W=F.stateNode,typeof W.componentDidMount=="function")try{W.componentDidMount()}catch(ir){Oi(F,F.return,ir)}if(F=oe,W=F.updateQueue,W!==null){var At=F.stateNode;try{var Lt=W.shared.hiddenCallbacks;if(Lt!==null)for(W.shared.hiddenCallbacks=null,W=0;W<Lt.length;W++)mn(Lt[W],At)}catch(ir){Oi(F,F.return,ir)}}w&&ze&64&&N1(oe),EA(oe,oe.return);break;case 27:BA(oe);case 26:case 5:Nf(W,oe,w),w&&F===null&&ze&4&&Tp(oe),EA(oe,oe.return);break;case 12:Nf(W,oe,w);break;case 13:Nf(W,oe,w),w&&ze&4&&x0(W,oe);break;case 22:oe.memoizedState===null&&Nf(W,oe,w),EA(oe,oe.return);break;case 30:break;default:Nf(W,oe,w)}p=p.sibling}}function Vg(f,p){var w=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),f=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(f=p.memoizedState.cachePool.pool),f!==w&&(f!=null&&f.refCount++,w!=null&&Kf(w))}function Ip(f,p){f=null,p.alternate!==null&&(f=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==f&&(p.refCount++,f!=null&&Kf(f))}function jf(f,p,w,F){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)S1(f,p,w,F),p=p.sibling}function S1(f,p,w,F){var W=p.flags;switch(p.tag){case 0:case 11:case 15:jf(f,p,w,F),W&2048&&CA(9,p);break;case 1:jf(f,p,w,F);break;case 3:jf(f,p,w,F),W&2048&&(f=null,p.alternate!==null&&(f=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==f&&(p.refCount++,f!=null&&Kf(f)));break;case 12:if(W&2048){jf(f,p,w,F),f=p.stateNode;try{var oe=p.memoizedProps,ze=oe.id,At=oe.onPostCommit;typeof At=="function"&&At(ze,p.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(Lt){Oi(p,p.return,Lt)}}else jf(f,p,w,F);break;case 13:jf(f,p,w,F);break;case 23:break;case 22:oe=p.stateNode,ze=p.alternate,p.memoizedState!==null?oe._visibility&2?jf(f,p,w,F):Rh(f,p):oe._visibility&2?jf(f,p,w,F):(oe._visibility|=2,pm(f,p,w,F,(p.subtreeFlags&10256)!==0)),W&2048&&Vg(ze,p);break;case 24:jf(f,p,w,F),W&2048&&Ip(p.alternate,p);break;default:jf(f,p,w,F)}}function pm(f,p,w,F,W){for(W=W&&(p.subtreeFlags&10256)!==0,p=p.child;p!==null;){var oe=f,ze=p,At=w,Lt=F,ir=ze.flags;switch(ze.tag){case 0:case 11:case 15:pm(oe,ze,At,Lt,W),CA(8,ze);break;case 23:break;case 22:var jr=ze.stateNode;ze.memoizedState!==null?jr._visibility&2?pm(oe,ze,At,Lt,W):Rh(oe,ze):(jr._visibility|=2,pm(oe,ze,At,Lt,W)),W&&ir&2048&&Vg(ze.alternate,ze);break;case 24:pm(oe,ze,At,Lt,W),W&&ir&2048&&Ip(ze.alternate,ze);break;default:pm(oe,ze,At,Lt,W)}p=p.sibling}}function Rh(f,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var w=f,F=p,W=F.flags;switch(F.tag){case 22:Rh(w,F),W&2048&&Vg(F.alternate,F);break;case 24:Rh(w,F),W&2048&&Ip(F.alternate,F);break;default:Rh(w,F)}p=p.sibling}}var fi=8192;function TA(f){if(f.subtreeFlags&fi)for(f=f.child;f!==null;)v0(f),f=f.sibling}function v0(f){switch(f.tag){case 26:TA(f),f.flags&fi&&f.memoizedState!==null&&US(md,f.memoizedState,f.memoizedProps);break;case 5:TA(f);break;case 3:case 4:var p=md;md=Ia(f.stateNode.containerInfo),TA(f),md=p;break;case 22:f.memoizedState===null&&(p=f.alternate,p!==null&&p.memoizedState!==null?(p=fi,fi=16777216,TA(f),fi=p):TA(f));break;default:TA(f)}}function C1(f){var p=f.alternate;if(p!==null&&(f=p.child,f!==null)){p.child=null;do p=f.sibling,f.sibling=null,f=p;while(f!==null)}}function gm(f){var p=f.deletions;if((f.flags&16)!==0){if(p!==null)for(var w=0;w<p.length;w++){var F=p[w];Ms=F,y0(F,f)}C1(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)kp(f),f=f.sibling}function kp(f){switch(f.tag){case 0:case 11:case 15:gm(f),f.flags&2048&&nh(9,f,f.return);break;case 3:gm(f);break;case 12:gm(f);break;case 22:var p=f.stateNode;f.memoizedState!==null&&p._visibility&2&&(f.return===null||f.return.tag!==13)?(p._visibility&=-3,ih(f)):gm(f);break;default:gm(f)}}function ih(f){var p=f.deletions;if((f.flags&16)!==0){if(p!==null)for(var w=0;w<p.length;w++){var F=p[w];Ms=F,y0(F,f)}C1(f)}for(f=f.child;f!==null;){switch(p=f,p.tag){case 0:case 11:case 15:nh(8,p,p.return),ih(p);break;case 22:w=p.stateNode,w._visibility&2&&(w._visibility&=-3,ih(p));break;default:ih(p)}f=f.sibling}}function y0(f,p){for(;Ms!==null;){var w=Ms;switch(w.tag){case 0:case 11:case 15:nh(8,w,p);break;case 23:case 22:if(w.memoizedState!==null&&w.memoizedState.cachePool!==null){var F=w.memoizedState.cachePool.pool;F!=null&&F.refCount++}break;case 24:Kf(w.memoizedState.cache)}if(F=w.child,F!==null)F.return=w,Ms=F;else e:for(w=f;Ms!==null;){F=Ms;var W=F.sibling,oe=F.return;if(Li(F),F===w){Ms=null;break e}if(W!==null){W.return=oe,Ms=W;break e}Ms=oe}}}var Iy={getCacheForType:function(f){var p=ys(Ss),w=p.data.get(f);return w===void 0&&(w=f(),p.data.set(f,w)),w}},Qh=typeof WeakMap=="function"?WeakMap:Map,qs=0,bi=null,Ga=null,hs=0,Us=0,$u=null,Hh=!1,xm=!1,Kg=!1,oh=0,wo=0,$h=0,_A=0,qg=0,pd=0,vm=0,b0=null,Nu=null,Gg=!1,H=0,D=1/0,G=null,q=null,we=0,Ue=null,tt=null,Nt=0,jt=0,Qt=null,Kt=null,er=0,br=null;function Gr(){if((qs&2)!==0&&hs!==0)return hs&-hs;if(ee.T!==null){var f=cd;return f!==0?f:_1()}return ja()}function zr(){pd===0&&(pd=(hs&536870912)===0||La?qt():536870912);var f=xu.current;return f!==null&&(f.flags|=32),pd}function Kr(f,p,w){(f===bi&&(Us===2||Us===9)||f.cancelPendingCommit!==null)&&(ln(f,0),za(f,hs,pd,!1)),Zt(f,w),((qs&2)===0||f!==bi)&&(f===bi&&((qs&2)===0&&(_A|=w),wo===4&&za(f,hs,pd,!1)),qh(f))}function Fa(f,p,w){if((qs&6)!==0)throw Error(n(327));var F=!w&&(p&124)===0&&(p&f.expiredLanes)===0||ut(f,p),W=F?ri(f,p):_c(f,p,!0),oe=F;do{if(W===0){xm&&!F&&za(f,p,0,!1);break}else{if(w=f.current.alternate,oe&&!bn(w)){W=_c(f,p,!1),oe=!1;continue}if(W===2){if(oe=p,f.errorRecoveryDisabledLanes&oe)var ze=0;else ze=f.pendingLanes&-536870913,ze=ze!==0?ze:ze&536870912?536870912:0;if(ze!==0){p=ze;e:{var At=f;W=b0;var Lt=At.current.memoizedState.isDehydrated;if(Lt&&(ln(At,ze).flags|=256),ze=_c(At,ze,!1),ze!==2){if(Kg&&!Lt){At.errorRecoveryDisabledLanes|=oe,_A|=oe,W=4;break e}oe=Nu,Nu=W,oe!==null&&(Nu===null?Nu=oe:Nu.push.apply(Nu,oe))}W=ze}if(oe=!1,W!==2)continue}}if(W===1){ln(f,0),za(f,p,0,!0);break}e:{switch(F=f,oe=W,oe){case 0:case 1:throw Error(n(345));case 4:if((p&4194048)!==p)break;case 6:za(F,p,pd,!Hh);break e;case 2:Nu=null;break;case 3:case 5:break;default:throw Error(n(329))}if((p&62914560)===p&&(W=H+300-st(),10<W)){if(za(F,p,pd,!Hh),De(F,0,!0)!==0)break e;F.timeoutHandle=Dw(jn.bind(null,F,w,Nu,G,Gg,p,pd,_A,vm,Hh,oe,2,-0,0),W);break e}jn(F,w,Nu,G,Gg,p,pd,_A,vm,Hh,oe,0,-0,0)}}break}while(!0);qh(f)}function jn(f,p,w,F,W,oe,ze,At,Lt,ir,jr,_r,dr,or){if(f.timeoutHandle=-1,_r=p.subtreeFlags,(_r&8192||(_r&16785408)===16785408)&&(Fc={stylesheets:null,count:0,unsuspend:MS},v0(p),_r=RS(),_r!==null)){f.cancelPendingCommit=_r(gd.bind(null,f,p,oe,w,F,W,ze,At,Lt,jr,1,dr,or)),za(f,oe,ze,!ir);return}gd(f,p,oe,w,F,W,ze,At,Lt)}function bn(f){for(var p=f;;){var w=p.tag;if((w===0||w===11||w===15)&&p.flags&16384&&(w=p.updateQueue,w!==null&&(w=w.stores,w!==null)))for(var F=0;F<w.length;F++){var W=w[F],oe=W.getSnapshot;W=W.value;try{if(!Ka(oe(),W))return!1}catch{return!1}}if(w=p.child,p.subtreeFlags&16384&&w!==null)w.return=p,p=w;else{if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function za(f,p,w,F){p&=~qg,p&=~_A,f.suspendedLanes|=p,f.pingedLanes&=~p,F&&(f.warmLanes|=p),F=f.expirationTimes;for(var W=p;0<W;){var oe=31-Me(W),ze=1<<oe;F[oe]=-1,W&=~ze}w!==0&&rr(f,w,p)}function Ba(){return(qs&6)===0?(Xg(0),!1):!0}function ta(){if(Ga!==null){if(Us===0)var f=Ga.return;else f=Ga,dt=ds=null,lo(f),bo=null,gu=0,f=Ga;for(;f!==null;)Bp(f.alternate,f),f=f.return;Ga=null}}function ln(f,p){var w=f.timeoutHandle;w!==-1&&(f.timeoutHandle=-1,TS(w)),w=f.cancelPendingCommit,w!==null&&(f.cancelPendingCommit=null,w()),ta(),bi=f,Ga=w=gi(f.current,null),hs=p,Us=0,$u=null,Hh=!1,xm=ut(f,p),Kg=!1,vm=pd=qg=_A=$h=wo=0,Nu=b0=null,Gg=!1,(p&8)!==0&&(p|=p&32);var F=f.entangledLanes;if(F!==0)for(f=f.entanglements,F&=p;0<F;){var W=31-Me(F),oe=1<<W;p|=f[W],F&=~oe}return oh=p,Vo(),w}function os(f,p){Zr=null,ee.H=s0,p===ue||p===xe?(p=at(),Us=3):p===me?(p=at(),Us=4):Us=p===Rg?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,$u=p,Ga===null&&(wo=1,um(f,ca(p,f.current)))}function ls(){var f=ee.H;return ee.H=s0,f===null?s0:f}function la(){var f=ee.A;return ee.A=Iy,f}function No(){wo=4,Hh||(hs&4194048)!==hs&&xu.current!==null||(xm=!0),($h&134217727)===0&&(_A&134217727)===0||bi===null||za(bi,hs,pd,!1)}function _c(f,p,w){var F=qs;qs|=2;var W=ls(),oe=la();(bi!==f||hs!==p)&&(G=null,ln(f,p)),p=!1;var ze=wo;e:do try{if(Us!==0&&Ga!==null){var At=Ga,Lt=$u;switch(Us){case 8:ta(),ze=6;break e;case 3:case 2:case 9:case 6:xu.current===null&&(p=!0);var ir=Us;if(Us=0,$u=null,ll(f,At,Lt,ir),w&&xm){ze=0;break e}break;default:ir=Us,Us=0,$u=null,ll(f,At,Lt,ir)}}zu(),ze=wo;break}catch(jr){os(f,jr)}while(!0);return p&&f.shellSuspendCounter++,dt=ds=null,qs=F,ee.H=W,ee.A=oe,Ga===null&&(bi=null,hs=0,Vo()),ze}function zu(){for(;Ga!==null;)Sf(Ga)}function ri(f,p){var w=qs;qs|=2;var F=ls(),W=la();bi!==f||hs!==p?(G=null,D=st()+500,ln(f,p)):xm=ut(f,p);e:do try{if(Us!==0&&Ga!==null){p=Ga;var oe=$u;t:switch(Us){case 1:Us=0,$u=null,ll(f,p,oe,1);break;case 2:case 9:if(Ie(oe)){Us=0,$u=null,Xc(p);break}p=function(){Us!==2&&Us!==9||bi!==f||(Us=7),qh(f)},oe.then(p,p);break e;case 3:Us=7;break e;case 4:Us=5;break e;case 7:Ie(oe)?(Us=0,$u=null,Xc(p)):(Us=0,$u=null,ll(f,p,oe,7));break;case 5:var ze=null;switch(Ga.tag){case 26:ze=Ga.memoizedState;case 5:case 27:var At=Ga;if(!ze||rc(ze)){Us=0,$u=null;var Lt=At.sibling;if(Lt!==null)Ga=Lt;else{var ir=At.return;ir!==null?(Ga=ir,Cf(ir)):Ga=null}break t}}Us=0,$u=null,ll(f,p,oe,5);break;case 6:Us=0,$u=null,ll(f,p,oe,6);break;case 8:ta(),wo=6;break e;default:throw Error(n(462))}}Fl();break}catch(jr){os(f,jr)}while(!0);return dt=ds=null,ee.H=F,ee.A=W,qs=w,Ga!==null?0:(bi=null,hs=0,Vo(),wo)}function Fl(){for(;Ga!==null&&!re();)Sf(Ga)}function Sf(f){var p=Cp(f.alternate,f,oh);f.memoizedProps=f.pendingProps,p===null?Cf(f):Ga=p}function Xc(f){var p=f,w=p.alternate;switch(p.tag){case 15:case 0:p=Jf(w,p,p.pendingProps,p.type,void 0,hs);break;case 11:p=Jf(w,p,p.pendingProps,p.type.render,p.ref,hs);break;case 5:lo(p);default:Bp(w,p),p=Ga=zc(p,oh),p=Cp(w,p,oh)}f.memoizedProps=f.pendingProps,p===null?Cf(f):Ga=p}function ll(f,p,w,F){dt=ds=null,lo(p),bo=null,gu=0;var W=p.return;try{if(Ug(f,W,p,w,hs)){wo=1,um(f,ca(w,f.current)),Ga=null;return}}catch(oe){if(W!==null)throw Ga=W,oe;wo=1,um(f,ca(w,f.current)),Ga=null;return}p.flags&32768?(La||F===1?f=!0:xm||(hs&536870912)!==0?f=!1:(Hh=f=!0,(F===2||F===9||F===3||F===6)&&(F=xu.current,F!==null&&F.tag===13&&(F.flags|=16384))),Xd(p,f)):Cf(p)}function Cf(f){var p=f;do{if((p.flags&32768)!==0){Xd(p,Hh);return}f=p.return;var w=b1(p.alternate,p,oh);if(w!==null){Ga=w;return}if(p=p.sibling,p!==null){Ga=p;return}Ga=p=f}while(p!==null);wo===0&&(wo=5)}function Xd(f,p){do{var w=w1(f.alternate,f);if(w!==null){w.flags&=32767,Ga=w;return}if(w=f.return,w!==null&&(w.flags|=32768,w.subtreeFlags=0,w.deletions=null),!p&&(f=f.sibling,f!==null)){Ga=f;return}Ga=f=w}while(f!==null);wo=6,Ga=null}function gd(f,p,w,F,W,oe,ze,At,Lt){f.cancelPendingCommit=null;do xd();while(we!==0);if((qs&6)!==0)throw Error(n(327));if(p!==null){if(p===f.current)throw Error(n(177));if(oe=p.lanes|p.childLanes,oe|=$s,$t(f,w,oe,ze,At,Lt),f===bi&&(Ga=bi=null,hs=0),tt=p,Ue=f,Nt=w,jt=oe,Qt=W,Kt=F,(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?(f.callbackNode=null,f.callbackPriority=0,Bw(_e,function(){return FA(),null})):(f.callbackNode=null,f.callbackPriority=0),F=(p.flags&13878)!==0,(p.subtreeFlags&13878)!==0||F){F=ee.T,ee.T=null,W=de.p,de.p=2,ze=qs,qs|=4;try{_y(f,p,w)}finally{qs=ze,de.p=W,ee.T=F}}we=1,zh(),Vh(),Ef()}}function zh(){if(we===1){we=0;var f=Ue,p=tt,w=(p.flags&13878)!==0;if((p.subtreeFlags&13878)!==0||w){w=ee.T,ee.T=null;var F=de.p;de.p=2;var W=qs;qs|=4;try{Fp(p,f);var oe=k1,ze=Wi(f.containerInfo),At=oe.focusedElem,Lt=oe.selectionRange;if(ze!==At&&At&&At.ownerDocument&&$l(At.ownerDocument.documentElement,At)){if(Lt!==null&&Ls(At)){var ir=Lt.start,jr=Lt.end;if(jr===void 0&&(jr=ir),"selectionStart"in At)At.selectionStart=ir,At.selectionEnd=Math.min(jr,At.value.length);else{var _r=At.ownerDocument||document,dr=_r&&_r.defaultView||window;if(dr.getSelection){var or=dr.getSelection(),aa=At.textContent.length,ra=Math.min(Lt.start,aa),Ni=Lt.end===void 0?ra:Math.min(Lt.end,aa);!or.extend&&ra>Ni&&(ze=Ni,Ni=ra,ra=ze);var Yt=Bi(At,ra),zt=Bi(At,Ni);if(Yt&&zt&&(or.rangeCount!==1||or.anchorNode!==Yt.node||or.anchorOffset!==Yt.offset||or.focusNode!==zt.node||or.focusOffset!==zt.offset)){var ar=_r.createRange();ar.setStart(Yt.node,Yt.offset),or.removeAllRanges(),ra>Ni?(or.addRange(ar),or.extend(zt.node,zt.offset)):(ar.setEnd(zt.node,zt.offset),or.addRange(ar))}}}}for(_r=[],or=At;or=or.parentNode;)or.nodeType===1&&_r.push({element:or,left:or.scrollLeft,top:or.scrollTop});for(typeof At.focus=="function"&&At.focus(),At=0;At<_r.length;At++){var Cr=_r[At];Cr.element.scrollLeft=Cr.left,Cr.element.scrollTop=Cr.top}}R1=!!lh,k1=lh=null}finally{qs=W,de.p=F,ee.T=w}}f.current=p,we=2}}function Vh(){if(we===2){we=0;var f=Ue,p=tt,w=(p.flags&8772)!==0;if((p.subtreeFlags&8772)!==0||w){w=ee.T,ee.T=null;var F=de.p;de.p=2;var W=qs;qs|=4;try{Es(f,p.alternate,p)}finally{qs=W,de.p=F,ee.T=w}}we=3}}function Ef(){if(we===4||we===3){we=0,Ce();var f=Ue,p=tt,w=Nt,F=Kt;(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?we=5:(we=0,tt=Ue=null,Kh(f,f.pendingLanes));var W=f.pendingLanes;if(W===0&&(q=null),dn(w),p=p.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Ge,p,void 0,(p.current.flags&128)===128)}catch{}if(F!==null){p=ee.T,W=de.p,de.p=2,ee.T=null;try{for(var oe=f.onRecoverableError,ze=0;ze<F.length;ze++){var At=F[ze];oe(At.value,{componentStack:At.stack})}}finally{ee.T=p,de.p=W}}(Nt&3)!==0&&xd(),qh(f),W=f.pendingLanes,(w&4194090)!==0&&(W&42)!==0?f===br?er++:(er=0,br=f):er=0,Xg(0)}}function Kh(f,p){(f.pooledCacheLanes&=p)===0&&(p=f.pooledCache,p!=null&&(f.pooledCache=null,Kf(p)))}function xd(f){return zh(),Vh(),Ef(),FA()}function FA(){if(we!==5)return!1;var f=Ue,p=jt;jt=0;var w=dn(Nt),F=ee.T,W=de.p;try{de.p=32>w?32:w,ee.T=null,w=Qt,Qt=null;var oe=Ue,ze=Nt;if(we=0,tt=Ue=null,Nt=0,(qs&6)!==0)throw Error(n(331));var At=qs;if(qs|=4,kp(oe.current),S1(oe,oe.current,ze,w),qs=At,Xg(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Ge,oe)}catch{}return!0}finally{de.p=W,ee.T=F,Kh(f,p)}}function ym(f,p,w){p=ca(w,p),p=yp(f.stateNode,p,2),f=Ut(f,p,2),f!==null&&(Zt(f,2),qh(f))}function Oi(f,p,w){if(f.tag===3)ym(f,f,w);else for(;p!==null;){if(p.tag===3){ym(p,f,w);break}else if(p.tag===1){var F=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof F.componentDidCatch=="function"&&(q===null||!q.has(F))){f=ca(w,f),w=dm(2),F=Ut(p,w,2),F!==null&&(f0(w,F,p,f),Zt(F,2),qh(F));break}}p=p.return}}function ky(f,p,w){var F=f.pingCache;if(F===null){F=f.pingCache=new Qh;var W=new Set;F.set(p,W)}else W=F.get(p),W===void 0&&(W=new Set,F.set(p,W));W.has(w)||(Kg=!0,W.add(w),f=vS.bind(null,f,p,w),p.then(f,f))}function vS(f,p,w){var F=f.pingCache;F!==null&&F.delete(p),f.pingedLanes|=f.suspendedLanes&w,f.warmLanes&=~w,bi===f&&(hs&w)===w&&(wo===4||wo===3&&(hs&62914560)===hs&&300>st()-H?(qs&2)===0&&ln(f,0):qg|=w,vm===hs&&(vm=0)),qh(f)}function Ew(f,p){p===0&&(p=Ft()),f=Hc(f,p),f!==null&&(Zt(f,p),qh(f))}function E1(f){var p=f.memoizedState,w=0;p!==null&&(w=p.retryLane),Ew(f,w)}function yS(f,p){var w=0;switch(f.tag){case 13:var F=f.stateNode,W=f.memoizedState;W!==null&&(w=W.retryLane);break;case 19:F=f.stateNode;break;case 22:F=f.stateNode._retryCache;break;default:throw Error(n(314))}F!==null&&F.delete(p),Ew(f,w)}function Bw(f,p){return Fe(f,p)}var Wg=null,bm=null,B1=!1,Yg=!1,T1=!1,wm=0;function qh(f){f!==bm&&f.next===null&&(bm===null?Wg=bm=f:bm=bm.next=f),Yg=!0,B1||(B1=!0,Py())}function Xg(f,p){if(!T1&&Yg){T1=!0;do for(var w=!1,F=Wg;F!==null;){if(f!==0){var W=F.pendingLanes;if(W===0)var oe=0;else{var ze=F.suspendedLanes,At=F.pingedLanes;oe=(1<<31-Me(42|f)+1)-1,oe&=W&~(ze&~At),oe=oe&201326741?oe&201326741|1:oe?oe|2:0}oe!==0&&(w=!0,_w(F,oe))}else oe=hs,oe=De(F,F===bi?oe:0,F.cancelPendingCommit!==null||F.timeoutHandle!==-1),(oe&3)===0||ut(F,oe)||(w=!0,_w(F,oe));F=F.next}while(w);T1=!1}}function bS(){Jg()}function Jg(){Yg=B1=!1;var f=0;wm!==0&&(BS()&&(f=wm),wm=0);for(var p=st(),w=null,F=Wg;F!==null;){var W=F.next,oe=Zg(F,p);oe===0?(F.next=null,w===null?Wg=W:w.next=W,W===null&&(bm=w)):(w=F,(f!==0||(oe&3)!==0)&&(Yg=!0)),F=W}Xg(f)}function Zg(f,p){for(var w=f.suspendedLanes,F=f.pingedLanes,W=f.expirationTimes,oe=f.pendingLanes&-62914561;0<oe;){var ze=31-Me(oe),At=1<<ze,Lt=W[ze];Lt===-1?((At&w)===0||(At&F)!==0)&&(W[ze]=_t(At,p)):Lt<=p&&(f.expiredLanes|=At),oe&=~At}if(p=bi,w=hs,w=De(f,f===p?w:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),F=f.callbackNode,w===0||f===p&&(Us===2||Us===9)||f.cancelPendingCommit!==null)return F!==null&&F!==null&&be(F),f.callbackNode=null,f.callbackPriority=0;if((w&3)===0||ut(f,w)){if(p=w&-w,p===f.callbackPriority)return p;switch(F!==null&&be(F),dn(w)){case 2:case 8:w=ct;break;case 32:w=_e;break;case 268435456:w=Ze;break;default:w=_e}return F=Tw.bind(null,f),w=Fe(w,F),f.callbackPriority=p,f.callbackNode=w,p}return F!==null&&F!==null&&be(F),f.callbackPriority=2,f.callbackNode=null,2}function Tw(f,p){if(we!==0&&we!==5)return f.callbackNode=null,f.callbackPriority=0,null;var w=f.callbackNode;if(xd()&&f.callbackNode!==w)return null;var F=hs;return F=De(f,f===bi?F:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),F===0?null:(Fa(f,F,p),Zg(f,st()),f.callbackNode!=null&&f.callbackNode===w?Tw.bind(null,f):null)}function _w(f,p){if(xd())return null;Fa(f,p,!0)}function Py(){_S(function(){(qs&6)!==0?Fe(He,bS):Jg()})}function _1(){return wm===0&&(wm=qt()),wm}function Fw(f){return f==null||typeof f=="symbol"||typeof f=="boolean"?null:typeof f=="function"?f:go(""+f)}function Iw(f,p){var w=p.ownerDocument.createElement("input");return w.name=p.name,w.value=p.value,f.id&&w.setAttribute("form",f.id),p.parentNode.insertBefore(w,p),f=new FormData(f),w.parentNode.removeChild(w),f}function wS(f,p,w,F,W){if(p==="submit"&&w&&w.stateNode===W){var oe=Fw((W[Gn]||null).action),ze=F.submitter;ze&&(p=(p=ze[Gn]||null)?Fw(p.formAction):ze.getAttribute("formAction"),p!==null&&(oe=p,ze=null));var At=new Ql("action","action",null,F,W);f.push({event:At,listeners:[{instance:null,listener:function(){if(F.defaultPrevented){if(wm!==0){var Lt=ze?Iw(W,ze):new FormData(W);uo(w,{pending:!0,data:Lt,method:W.method,action:oe},null,Lt)}}else typeof oe=="function"&&(At.preventDefault(),Lt=ze?Iw(W,ze):new FormData(W),uo(w,{pending:!0,data:Lt,method:W.method,action:oe},oe,Lt))},currentTarget:W}]})}}for(var Ly=0;Ly<ka.length;Ly++){var Oy=ka[Ly],NS=Oy.toLowerCase(),jS=Oy[0].toUpperCase()+Oy.slice(1);Js(NS,"on"+jS)}Js(_o,"onAnimationEnd"),Js(bc,"onAnimationIteration"),Js(Xs,"onAnimationStart"),Js("dblclick","onDoubleClick"),Js("focusin","onFocus"),Js("focusout","onBlur"),Js(Fo,"onTransitionRun"),Js(ld,"onTransitionStart"),Js(zl,"onTransitionCancel"),Js(Vl,"onTransitionEnd"),nr("onMouseEnter",["mouseout","mouseover"]),nr("onMouseLeave",["mouseout","mouseover"]),nr("onPointerEnter",["pointerout","pointerover"]),nr("onPointerLeave",["pointerout","pointerover"]),It("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),It("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),It("onBeforeInput",["compositionend","keypress","textInput","paste"]),It("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),It("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),It("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ex="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ex));function kw(f,p){p=(p&4)!==0;for(var w=0;w<f.length;w++){var F=f[w],W=F.event;F=F.listeners;e:{var oe=void 0;if(p)for(var ze=F.length-1;0<=ze;ze--){var At=F[ze],Lt=At.instance,ir=At.currentTarget;if(At=At.listener,Lt!==oe&&W.isPropagationStopped())break e;oe=At,W.currentTarget=ir;try{oe(W)}catch(jr){Xf(jr)}W.currentTarget=null,oe=Lt}else for(ze=0;ze<F.length;ze++){if(At=F[ze],Lt=At.instance,ir=At.currentTarget,At=At.listener,Lt!==oe&&W.isPropagationStopped())break e;oe=At,W.currentTarget=ir;try{oe(W)}catch(jr){Xf(jr)}W.currentTarget=null,oe=Lt}}}}function cs(f,p){var w=p[Ct];w===void 0&&(w=p[Ct]=new Set);var F=f+"__bubble";w.has(F)||(Pw(p,f,2,!1),w.add(F))}function Dy(f,p,w){var F=0;p&&(F|=4),Pw(w,f,F,p)}var vd="_reactListening"+Math.random().toString(36).slice(2);function My(f){if(!f[vd]){f[vd]=!0,Qe.forEach(function(w){w!=="selectionchange"&&(SS.has(w)||Dy(w,!1,f),Dy(w,!0,f))});var p=f.nodeType===9?f:f.ownerDocument;p===null||p[vd]||(p[vd]=!0,Dy("selectionchange",!1,p))}}function Pw(f,p,w,F){switch(Zw(p)){case 2:var W=$S;break;case 8:W=Rp;break;default:W=Gy}w=W.bind(null,p,w,f),W=void 0,!Ho||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(W=!0),F?W!==void 0?f.addEventListener(p,w,{capture:!0,passive:W}):f.addEventListener(p,w,!0):W!==void 0?f.addEventListener(p,w,{passive:W}):f.addEventListener(p,w,!1)}function IA(f,p,w,F,W){var oe=F;if((p&1)===0&&(p&2)===0&&F!==null)e:for(;;){if(F===null)return;var ze=F.tag;if(ze===3||ze===4){var At=F.stateNode.containerInfo;if(At===W)break;if(ze===4)for(ze=F.return;ze!==null;){var Lt=ze.tag;if((Lt===3||Lt===4)&&ze.stateNode.containerInfo===W)return;ze=ze.return}for(;At!==null;){if(ze=Re(At),ze===null)return;if(Lt=ze.tag,Lt===5||Lt===6||Lt===26||Lt===27){F=oe=ze;continue e}At=At.parentNode}}F=F.return}ff(function(){var ir=oe,jr=Ki(w),_r=[];e:{var dr=Nl.get(f);if(dr!==void 0){var or=Ql,aa=f;switch(f){case"keypress":if(_a(w)===0)break e;case"keydown":case"keyup":or=kn;break;case"focusin":aa="focus",or=yl;break;case"focusout":aa="blur",or=yl;break;case"beforeblur":case"afterblur":or=yl;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":or=io;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":or=yo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":or=Ws;break;case _o:case bc:case Xs:or=lu;break;case Vl:or=qe;break;case"scroll":case"scrollend":or=ou;break;case"wheel":or=Ot;break;case"copy":case"cut":case"paste":or=Ae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":or=ia;break;case"toggle":case"beforetoggle":or=hr}var ra=(p&4)!==0,Ni=!ra&&(f==="scroll"||f==="scrollend"),Yt=ra?dr!==null?dr+"Capture":null:dr;ra=[];for(var zt=ir,ar;zt!==null;){var Cr=zt;if(ar=Cr.stateNode,Cr=Cr.tag,Cr!==5&&Cr!==26&&Cr!==27||ar===null||Yt===null||(Cr=Qo(zt,Yt),Cr!=null&&ra.push(ma(zt,Cr,ar))),Ni)break;zt=zt.return}0<ra.length&&(dr=new or(dr,aa,null,w,jr),_r.push({event:dr,listeners:ra}))}}if((p&7)===0){e:{if(dr=f==="mouseover"||f==="pointerover",or=f==="mouseout"||f==="pointerout",dr&&w!==Vi&&(aa=w.relatedTarget||w.fromElement)&&(Re(aa)||aa[Dn]))break e;if((or||dr)&&(dr=jr.window===jr?jr:(dr=jr.ownerDocument)?dr.defaultView||dr.parentWindow:window,or?(aa=w.relatedTarget||w.toElement,or=ir,aa=aa?Re(aa):null,aa!==null&&(Ni=i(aa),ra=aa.tag,aa!==Ni||ra!==5&&ra!==27&&ra!==6)&&(aa=null)):(or=null,aa=ir),or!==aa)){if(ra=io,Cr="onMouseLeave",Yt="onMouseEnter",zt="mouse",(f==="pointerout"||f==="pointerover")&&(ra=ia,Cr="onPointerLeave",Yt="onPointerEnter",zt="pointer"),Ni=or==null?dr:ht(or),ar=aa==null?dr:ht(aa),dr=new ra(Cr,zt+"leave",or,w,jr),dr.target=Ni,dr.relatedTarget=ar,Cr=null,Re(jr)===ir&&(ra=new ra(Yt,zt+"enter",aa,w,jr),ra.target=ar,ra.relatedTarget=Ni,Cr=ra),Ni=Cr,or&&aa)t:{for(ra=or,Yt=aa,zt=0,ar=ra;ar;ar=ec(ar))zt++;for(ar=0,Cr=Yt;Cr;Cr=ec(Cr))ar++;for(;0<zt-ar;)ra=ec(ra),zt--;for(;0<ar-zt;)Yt=ec(Yt),ar--;for(;zt--;){if(ra===Yt||Yt!==null&&ra===Yt.alternate)break t;ra=ec(ra),Yt=ec(Yt)}ra=null}else ra=null;or!==null&&Yo(_r,dr,or,ra,!1),aa!==null&&Ni!==null&&Yo(_r,Ni,aa,ra,!0)}}e:{if(dr=ir?ht(ir):window,or=dr.nodeName&&dr.nodeName.toLowerCase(),or==="select"||or==="input"&&dr.type==="file")var wn=yc;else if(us(dr))if(Ei)wn=Hs;else{wn=To;var ns=li}else or=dr.nodeName,!or||or.toLowerCase()!=="input"||dr.type!=="checkbox"&&dr.type!=="radio"?ir&&Ud(ir.elementType)&&(wn=yc):wn=wl;if(wn&&(wn=wn(f,ir))){bl(_r,wn,w,jr);break e}ns&&ns(f,dr,ir),f==="focusout"&&ir&&dr.type==="number"&&ir.memoizedProps.value!=null&&Lu(dr,"number",dr.value)}switch(ns=ir?ht(ir):window,f){case"focusin":(us(ns)||ns.contentEditable==="true")&&(Ti=ns,Os=ir,Rt=null);break;case"focusout":Rt=Os=Ti=null;break;case"mousedown":Ar=!0;break;case"contextmenu":case"mouseup":case"dragend":Ar=!1,Wt(_r,w,jr);break;case"selectionchange":if(zo)break;case"keydown":case"keyup":Wt(_r,w,jr)}var Rn;if(Xr)e:{switch(f){case"compositionstart":var sa="onCompositionStart";break e;case"compositionend":sa="onCompositionEnd";break e;case"compositionupdate":sa="onCompositionUpdate";break e}sa=void 0}else As?oa(f,w)&&(sa="onCompositionEnd"):f==="keydown"&&w.keyCode===229&&(sa="onCompositionStart");sa&&(_n&&w.locale!=="ko"&&(As||sa!=="onCompositionStart"?sa==="onCompositionEnd"&&As&&(Rn=Du()):(oi=jr,od="value"in oi?oi.value:oi.textContent,As=!0)),ns=F1(ir,sa),0<ns.length&&(sa=new St(sa,f,null,w,jr),_r.push({event:sa,listeners:ns}),Rn?sa.data=Rn:(Rn=En(w),Rn!==null&&(sa.data=Rn)))),(Rn=Pn?Ys(f,w):Eo(f,w))&&(sa=F1(ir,"onBeforeInput"),0<sa.length&&(ns=new St("onBeforeInput","beforeinput",null,w,jr),_r.push({event:ns,listeners:sa}),ns.data=Rn)),wS(_r,f,ir,w,jr)}kw(_r,p)})}function ma(f,p,w){return{instance:f,listener:p,currentTarget:w}}function F1(f,p){for(var w=p+"Capture",F=[];f!==null;){var W=f,oe=W.stateNode;if(W=W.tag,W!==5&&W!==26&&W!==27||oe===null||(W=Qo(f,w),W!=null&&F.unshift(ma(f,W,oe)),W=Qo(f,p),W!=null&&F.push(ma(f,W,oe))),f.tag===3)return F;f=f.return}return[]}function ec(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5&&f.tag!==27);return f||null}function Yo(f,p,w,F,W){for(var oe=p._reactName,ze=[];w!==null&&w!==F;){var At=w,Lt=At.alternate,ir=At.stateNode;if(At=At.tag,Lt!==null&&Lt===F)break;At!==5&&At!==26&&At!==27||ir===null||(Lt=ir,W?(ir=Qo(w,oe),ir!=null&&ze.unshift(ma(w,ir,Lt))):W||(ir=Qo(w,oe),ir!=null&&ze.push(ma(w,ir,Lt)))),w=w.return}ze.length!==0&&f.push({event:p,listeners:ze})}var CS=/\r\n?/g,Nm=/\u0000|\uFFFD/g;function Lw(f){return(typeof f=="string"?f:""+f).replace(CS,`
`).replace(Nm,"")}function Ow(f,p){return p=Lw(p),Lw(f)===p}function I1(){}function wi(f,p,w,F,W,oe){switch(w){case"children":typeof F=="string"?p==="body"||p==="textarea"&&F===""||Ul(f,F):(typeof F=="number"||typeof F=="bigint")&&p!=="body"&&Ul(f,""+F);break;case"className":Hn(f,"class",F);break;case"tabIndex":Hn(f,"tabindex",F);break;case"dir":case"role":case"viewBox":case"width":case"height":Hn(f,w,F);break;case"style":id(f,F,oe);break;case"data":if(p!=="object"){Hn(f,"data",F);break}case"src":case"href":if(F===""&&(p!=="a"||w!=="href")){f.removeAttribute(w);break}if(F==null||typeof F=="function"||typeof F=="symbol"||typeof F=="boolean"){f.removeAttribute(w);break}F=go(""+F),f.setAttribute(w,F);break;case"action":case"formAction":if(typeof F=="function"){f.setAttribute(w,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof oe=="function"&&(w==="formAction"?(p!=="input"&&wi(f,p,"name",W.name,W,null),wi(f,p,"formEncType",W.formEncType,W,null),wi(f,p,"formMethod",W.formMethod,W,null),wi(f,p,"formTarget",W.formTarget,W,null)):(wi(f,p,"encType",W.encType,W,null),wi(f,p,"method",W.method,W,null),wi(f,p,"target",W.target,W,null)));if(F==null||typeof F=="symbol"||typeof F=="boolean"){f.removeAttribute(w);break}F=go(""+F),f.setAttribute(w,F);break;case"onClick":F!=null&&(f.onclick=I1);break;case"onScroll":F!=null&&cs("scroll",f);break;case"onScrollEnd":F!=null&&cs("scrollend",f);break;case"dangerouslySetInnerHTML":if(F!=null){if(typeof F!="object"||!("__html"in F))throw Error(n(61));if(w=F.__html,w!=null){if(W.children!=null)throw Error(n(60));f.innerHTML=w}}break;case"multiple":f.multiple=F&&typeof F!="function"&&typeof F!="symbol";break;case"muted":f.muted=F&&typeof F!="function"&&typeof F!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(F==null||typeof F=="function"||typeof F=="boolean"||typeof F=="symbol"){f.removeAttribute("xlink:href");break}w=go(""+F),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",w);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":F!=null&&typeof F!="function"&&typeof F!="symbol"?f.setAttribute(w,""+F):f.removeAttribute(w);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":F&&typeof F!="function"&&typeof F!="symbol"?f.setAttribute(w,""):f.removeAttribute(w);break;case"capture":case"download":F===!0?f.setAttribute(w,""):F!==!1&&F!=null&&typeof F!="function"&&typeof F!="symbol"?f.setAttribute(w,F):f.removeAttribute(w);break;case"cols":case"rows":case"size":case"span":F!=null&&typeof F!="function"&&typeof F!="symbol"&&!isNaN(F)&&1<=F?f.setAttribute(w,F):f.removeAttribute(w);break;case"rowSpan":case"start":F==null||typeof F=="function"||typeof F=="symbol"||isNaN(F)?f.removeAttribute(w):f.setAttribute(w,F);break;case"popover":cs("beforetoggle",f),cs("toggle",f),zn(f,"popover",F);break;case"xlinkActuate":xa(f,"http://www.w3.org/1999/xlink","xlink:actuate",F);break;case"xlinkArcrole":xa(f,"http://www.w3.org/1999/xlink","xlink:arcrole",F);break;case"xlinkRole":xa(f,"http://www.w3.org/1999/xlink","xlink:role",F);break;case"xlinkShow":xa(f,"http://www.w3.org/1999/xlink","xlink:show",F);break;case"xlinkTitle":xa(f,"http://www.w3.org/1999/xlink","xlink:title",F);break;case"xlinkType":xa(f,"http://www.w3.org/1999/xlink","xlink:type",F);break;case"xmlBase":xa(f,"http://www.w3.org/XML/1998/namespace","xml:base",F);break;case"xmlLang":xa(f,"http://www.w3.org/XML/1998/namespace","xml:lang",F);break;case"xmlSpace":xa(f,"http://www.w3.org/XML/1998/namespace","xml:space",F);break;case"is":zn(f,"is",F);break;case"innerText":case"textContent":break;default:(!(2<w.length)||w[0]!=="o"&&w[0]!=="O"||w[1]!=="n"&&w[1]!=="N")&&(w=pc.get(w)||w,zn(f,w,F))}}function Uy(f,p,w,F,W,oe){switch(w){case"style":id(f,F,oe);break;case"dangerouslySetInnerHTML":if(F!=null){if(typeof F!="object"||!("__html"in F))throw Error(n(61));if(w=F.__html,w!=null){if(W.children!=null)throw Error(n(60));f.innerHTML=w}}break;case"children":typeof F=="string"?Ul(f,F):(typeof F=="number"||typeof F=="bigint")&&Ul(f,""+F);break;case"onScroll":F!=null&&cs("scroll",f);break;case"onScrollEnd":F!=null&&cs("scrollend",f);break;case"onClick":F!=null&&(f.onclick=I1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bt.hasOwnProperty(w))e:{if(w[0]==="o"&&w[1]==="n"&&(W=w.endsWith("Capture"),p=w.slice(2,W?w.length-7:void 0),oe=f[Gn]||null,oe=oe!=null?oe[w]:null,typeof oe=="function"&&f.removeEventListener(p,oe,W),typeof F=="function")){typeof oe!="function"&&oe!==null&&(w in f?f[w]=null:f.hasAttribute(w)&&f.removeAttribute(w)),f.addEventListener(p,F,W);break e}w in f?f[w]=F:F===!0?f.setAttribute(w,""):zn(f,w,F)}}}function tc(f,p,w){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":cs("error",f),cs("load",f);var F=!1,W=!1,oe;for(oe in w)if(w.hasOwnProperty(oe)){var ze=w[oe];if(ze!=null)switch(oe){case"src":F=!0;break;case"srcSet":W=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,p));default:wi(f,p,oe,ze,w,null)}}W&&wi(f,p,"srcSet",w.srcSet,w,null),F&&wi(f,p,"src",w.src,w,null);return;case"input":cs("invalid",f);var At=oe=ze=W=null,Lt=null,ir=null;for(F in w)if(w.hasOwnProperty(F)){var jr=w[F];if(jr!=null)switch(F){case"name":W=jr;break;case"type":ze=jr;break;case"checked":Lt=jr;break;case"defaultChecked":ir=jr;break;case"value":oe=jr;break;case"defaultValue":At=jr;break;case"children":case"dangerouslySetInnerHTML":if(jr!=null)throw Error(n(137,p));break;default:wi(f,p,F,jr,w,null)}}sd(f,oe,At,Lt,ir,ze,W,!1),ao(f);return;case"select":cs("invalid",f),F=ze=oe=null;for(W in w)if(w.hasOwnProperty(W)&&(At=w[W],At!=null))switch(W){case"value":oe=At;break;case"defaultValue":ze=At;break;case"multiple":F=At;default:wi(f,p,W,At,w,null)}p=oe,w=ze,f.multiple=!!F,p!=null?Rc(f,!!F,p,!1):w!=null&&Rc(f,!!F,w,!0);return;case"textarea":cs("invalid",f),oe=W=F=null;for(ze in w)if(w.hasOwnProperty(ze)&&(At=w[ze],At!=null))switch(ze){case"value":F=At;break;case"defaultValue":W=At;break;case"children":oe=At;break;case"dangerouslySetInnerHTML":if(At!=null)throw Error(n(91));break;default:wi(f,p,ze,At,w,null)}iu(f,F,W,oe),ao(f);return;case"option":for(Lt in w)if(w.hasOwnProperty(Lt)&&(F=w[Lt],F!=null))switch(Lt){case"selected":f.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:wi(f,p,Lt,F,w,null)}return;case"dialog":cs("beforetoggle",f),cs("toggle",f),cs("cancel",f),cs("close",f);break;case"iframe":case"object":cs("load",f);break;case"video":case"audio":for(F=0;F<ex.length;F++)cs(ex[F],f);break;case"image":cs("error",f),cs("load",f);break;case"details":cs("toggle",f);break;case"embed":case"source":case"link":cs("error",f),cs("load",f);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ir in w)if(w.hasOwnProperty(ir)&&(F=w[ir],F!=null))switch(ir){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,p));default:wi(f,p,ir,F,w,null)}return;default:if(Ud(p)){for(jr in w)w.hasOwnProperty(jr)&&(F=w[jr],F!==void 0&&Uy(f,p,jr,F,w,void 0));return}}for(At in w)w.hasOwnProperty(At)&&(F=w[At],F!=null&&wi(f,p,At,F,w,null))}function ES(f,p,w,F){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var W=null,oe=null,ze=null,At=null,Lt=null,ir=null,jr=null;for(or in w){var _r=w[or];if(w.hasOwnProperty(or)&&_r!=null)switch(or){case"checked":break;case"value":break;case"defaultValue":Lt=_r;default:F.hasOwnProperty(or)||wi(f,p,or,null,F,_r)}}for(var dr in F){var or=F[dr];if(_r=w[dr],F.hasOwnProperty(dr)&&(or!=null||_r!=null))switch(dr){case"type":oe=or;break;case"name":W=or;break;case"checked":ir=or;break;case"defaultChecked":jr=or;break;case"value":ze=or;break;case"defaultValue":At=or;break;case"children":case"dangerouslySetInnerHTML":if(or!=null)throw Error(n(137,p));break;default:or!==_r&&wi(f,p,dr,or,F,_r)}}mc(f,ze,At,Lt,ir,jr,oe,W);return;case"select":or=ze=At=dr=null;for(oe in w)if(Lt=w[oe],w.hasOwnProperty(oe)&&Lt!=null)switch(oe){case"value":break;case"multiple":or=Lt;default:F.hasOwnProperty(oe)||wi(f,p,oe,null,F,Lt)}for(W in F)if(oe=F[W],Lt=w[W],F.hasOwnProperty(W)&&(oe!=null||Lt!=null))switch(W){case"value":dr=oe;break;case"defaultValue":At=oe;break;case"multiple":ze=oe;default:oe!==Lt&&wi(f,p,W,oe,F,Lt)}p=At,w=ze,F=or,dr!=null?Rc(f,!!w,dr,!1):!!F!=!!w&&(p!=null?Rc(f,!!w,p,!0):Rc(f,!!w,w?[]:"",!1));return;case"textarea":or=dr=null;for(At in w)if(W=w[At],w.hasOwnProperty(At)&&W!=null&&!F.hasOwnProperty(At))switch(At){case"value":break;case"children":break;default:wi(f,p,At,null,F,W)}for(ze in F)if(W=F[ze],oe=w[ze],F.hasOwnProperty(ze)&&(W!=null||oe!=null))switch(ze){case"value":dr=W;break;case"defaultValue":or=W;break;case"children":break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(n(91));break;default:W!==oe&&wi(f,p,ze,W,F,oe)}pl(f,dr,or);return;case"option":for(var aa in w)if(dr=w[aa],w.hasOwnProperty(aa)&&dr!=null&&!F.hasOwnProperty(aa))switch(aa){case"selected":f.selected=!1;break;default:wi(f,p,aa,null,F,dr)}for(Lt in F)if(dr=F[Lt],or=w[Lt],F.hasOwnProperty(Lt)&&dr!==or&&(dr!=null||or!=null))switch(Lt){case"selected":f.selected=dr&&typeof dr!="function"&&typeof dr!="symbol";break;default:wi(f,p,Lt,dr,F,or)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ra in w)dr=w[ra],w.hasOwnProperty(ra)&&dr!=null&&!F.hasOwnProperty(ra)&&wi(f,p,ra,null,F,dr);for(ir in F)if(dr=F[ir],or=w[ir],F.hasOwnProperty(ir)&&dr!==or&&(dr!=null||or!=null))switch(ir){case"children":case"dangerouslySetInnerHTML":if(dr!=null)throw Error(n(137,p));break;default:wi(f,p,ir,dr,F,or)}return;default:if(Ud(p)){for(var Ni in w)dr=w[Ni],w.hasOwnProperty(Ni)&&dr!==void 0&&!F.hasOwnProperty(Ni)&&Uy(f,p,Ni,void 0,F,dr);for(jr in F)dr=F[jr],or=w[jr],!F.hasOwnProperty(jr)||dr===or||dr===void 0&&or===void 0||Uy(f,p,jr,dr,F,or);return}}for(var Yt in w)dr=w[Yt],w.hasOwnProperty(Yt)&&dr!=null&&!F.hasOwnProperty(Yt)&&wi(f,p,Yt,null,F,dr);for(_r in F)dr=F[_r],or=w[_r],!F.hasOwnProperty(_r)||dr===or||dr==null&&or==null||wi(f,p,_r,dr,F,or)}var lh=null,k1=null;function w0(f){return f.nodeType===9?f:f.ownerDocument}function jo(f){switch(f){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Po(f,p){if(f===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return f===1&&p==="foreignObject"?0:f}function P1(f,p){return f==="textarea"||f==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.children=="bigint"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var Ry=null;function BS(){var f=window.event;return f&&f.type==="popstate"?f===Ry?!1:(Ry=f,!0):(Ry=null,!1)}var Dw=typeof setTimeout=="function"?setTimeout:void 0,TS=typeof clearTimeout=="function"?clearTimeout:void 0,Mw=typeof Promise=="function"?Promise:void 0,_S=typeof queueMicrotask=="function"?queueMicrotask:typeof Mw<"u"?function(f){return Mw.resolve(null).then(f).catch(Uw)}:Dw;function Uw(f){setTimeout(function(){throw f})}function Bf(f){return f==="head"}function L1(f,p){var w=p,F=0,W=0;do{var oe=w.nextSibling;if(f.removeChild(w),oe&&oe.nodeType===8)if(w=oe.data,w==="/$"){if(0<F&&8>F){w=F;var ze=f.ownerDocument;if(w&1&&tx(ze.documentElement),w&2&&tx(ze.body),w&4)for(w=ze.head,tx(w),ze=w.firstChild;ze;){var At=ze.nextSibling,Lt=ze.nodeName;ze[ft]||Lt==="SCRIPT"||Lt==="STYLE"||Lt==="LINK"&&ze.rel.toLowerCase()==="stylesheet"||w.removeChild(ze),ze=At}}if(W===0){f.removeChild(oe),cx(p);return}W--}else w==="$"||w==="$?"||w==="$!"?W++:F=w.charCodeAt(0)-48;else F=0;w=oe}while(w);cx(p)}function Qy(f){var p=f.firstChild;for(p&&p.nodeType===10&&(p=p.nextSibling);p;){var w=p;switch(p=p.nextSibling,w.nodeName){case"HTML":case"HEAD":case"BODY":Qy(w),mt(w);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(w.rel.toLowerCase()==="stylesheet")continue}f.removeChild(w)}}function Rw(f,p,w,F){for(;f.nodeType===1;){var W=w;if(f.nodeName.toLowerCase()!==p.toLowerCase()){if(!F&&(f.nodeName!=="INPUT"||f.type!=="hidden"))break}else if(F){if(!f[ft])switch(p){case"meta":if(!f.hasAttribute("itemprop"))break;return f;case"link":if(oe=f.getAttribute("rel"),oe==="stylesheet"&&f.hasAttribute("data-precedence"))break;if(oe!==W.rel||f.getAttribute("href")!==(W.href==null||W.href===""?null:W.href)||f.getAttribute("crossorigin")!==(W.crossOrigin==null?null:W.crossOrigin)||f.getAttribute("title")!==(W.title==null?null:W.title))break;return f;case"style":if(f.hasAttribute("data-precedence"))break;return f;case"script":if(oe=f.getAttribute("src"),(oe!==(W.src==null?null:W.src)||f.getAttribute("type")!==(W.type==null?null:W.type)||f.getAttribute("crossorigin")!==(W.crossOrigin==null?null:W.crossOrigin))&&oe&&f.hasAttribute("async")&&!f.hasAttribute("itemprop"))break;return f;default:return f}}else if(p==="input"&&f.type==="hidden"){var oe=W.name==null?null:""+W.name;if(W.type==="hidden"&&f.getAttribute("name")===oe)return f}else return f;if(f=ch(f.nextSibling),f===null)break}return null}function O1(f,p,w){if(p==="")return null;for(;f.nodeType!==3;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!w||(f=ch(f.nextSibling),f===null))return null;return f}function Vu(f){return f.data==="$!"||f.data==="$?"&&f.ownerDocument.readyState==="complete"}function Pp(f,p){var w=f.ownerDocument;if(f.data!=="$?"||w.readyState==="complete")p();else{var F=function(){p(),w.removeEventListener("DOMContentLoaded",F)};w.addEventListener("DOMContentLoaded",F),f._reactRetry=F}}function ch(f){for(;f!=null;f=f.nextSibling){var p=f.nodeType;if(p===1||p===3)break;if(p===8){if(p=f.data,p==="$"||p==="$!"||p==="$?"||p==="F!"||p==="F")break;if(p==="/$")return null}}return f}var Hy=null;function Qw(f){f=f.previousSibling;for(var p=0;f;){if(f.nodeType===8){var w=f.data;if(w==="$"||w==="$!"||w==="$?"){if(p===0)return f;p--}else w==="/$"&&p++}f=f.previousSibling}return null}function Hw(f,p,w){switch(p=w0(w),f){case"html":if(f=p.documentElement,!f)throw Error(n(452));return f;case"head":if(f=p.head,!f)throw Error(n(453));return f;case"body":if(f=p.body,!f)throw Error(n(454));return f;default:throw Error(n(451))}}function tx(f){for(var p=f.attributes;p.length;)f.removeAttributeNode(p[0]);mt(f)}var Jd=new Map,Gh=new Set;function Ia(f){return typeof f.getRootNode=="function"?f.getRootNode():f.nodeType===9?f:f.ownerDocument}var Wh=de.d;de.d={f:Tf,r:$w,D:FS,C:zw,L:D1,m:IS,X:PS,S:kS,M:LS};function Tf(){var f=Wh.f(),p=Ba();return f||p}function $w(f){var p=Ee(f);p!==null&&p.tag===5&&p.type==="form"?pu(p):Wh.r(f)}var Lp=typeof document>"u"?null:document;function Gs(f,p,w){var F=Lp;if(F&&typeof p=="string"&&p){var W=Zn(p);W='link[rel="'+f+'"][href="'+W+'"]',typeof w=="string"&&(W+='[crossorigin="'+w+'"]'),Gh.has(W)||(Gh.add(W),f={rel:f,crossOrigin:w,href:p},F.querySelector(W)===null&&(p=F.createElement("link"),tc(p,"link",f),Et(p),F.head.appendChild(p)))}}function FS(f){Wh.D(f),Gs("dns-prefetch",f,null)}function zw(f,p){Wh.C(f,p),Gs("preconnect",f,p)}function D1(f,p,w){Wh.L(f,p,w);var F=Lp;if(F&&f&&p){var W='link[rel="preload"][as="'+Zn(p)+'"]';p==="image"&&w&&w.imageSrcSet?(W+='[imagesrcset="'+Zn(w.imageSrcSet)+'"]',typeof w.imageSizes=="string"&&(W+='[imagesizes="'+Zn(w.imageSizes)+'"]')):W+='[href="'+Zn(f)+'"]';var oe=W;switch(p){case"style":oe=Op(f);break;case"script":oe=Dp(f)}Jd.has(oe)||(f=u({rel:"preload",href:p==="image"&&w&&w.imageSrcSet?void 0:f,as:p},w),Jd.set(oe,f),F.querySelector(W)!==null||p==="style"&&F.querySelector(rx(oe))||p==="script"&&F.querySelector(nx(oe))||(p=F.createElement("link"),tc(p,"link",f),Et(p),F.head.appendChild(p)))}}function IS(f,p){Wh.m(f,p);var w=Lp;if(w&&f){var F=p&&typeof p.as=="string"?p.as:"script",W='link[rel="modulepreload"][as="'+Zn(F)+'"][href="'+Zn(f)+'"]',oe=W;switch(F){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":oe=Dp(f)}if(!Jd.has(oe)&&(f=u({rel:"modulepreload",href:f},p),Jd.set(oe,f),w.querySelector(W)===null)){switch(F){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(w.querySelector(nx(oe)))return}F=w.createElement("link"),tc(F,"link",f),Et(F),w.head.appendChild(F)}}}function kS(f,p,w){Wh.S(f,p,w);var F=Lp;if(F&&f){var W=nt(F).hoistableStyles,oe=Op(f);p=p||"default";var ze=W.get(oe);if(!ze){var At={loading:0,preload:null};if(ze=F.querySelector(rx(oe)))At.loading=5;else{f=u({rel:"stylesheet",href:f,"data-precedence":p},w),(w=Jd.get(oe))&&ax(f,w);var Lt=ze=F.createElement("link");Et(Lt),tc(Lt,"link",f),Lt._p=new Promise(function(ir,jr){Lt.onload=ir,Lt.onerror=jr}),Lt.addEventListener("load",function(){At.loading|=1}),Lt.addEventListener("error",function(){At.loading|=2}),At.loading|=4,M1(ze,p,F)}ze={type:"stylesheet",instance:ze,count:1,state:At},W.set(oe,ze)}}}function PS(f,p){Wh.X(f,p);var w=Lp;if(w&&f){var F=nt(w).hoistableScripts,W=Dp(f),oe=F.get(W);oe||(oe=w.querySelector(nx(W)),oe||(f=u({src:f,async:!0},p),(p=Jd.get(W))&&$y(f,p),oe=w.createElement("script"),Et(oe),tc(oe,"link",f),w.head.appendChild(oe)),oe={type:"script",instance:oe,count:1,state:null},F.set(W,oe))}}function LS(f,p){Wh.M(f,p);var w=Lp;if(w&&f){var F=nt(w).hoistableScripts,W=Dp(f),oe=F.get(W);oe||(oe=w.querySelector(nx(W)),oe||(f=u({src:f,async:!0,type:"module"},p),(p=Jd.get(W))&&$y(f,p),oe=w.createElement("script"),Et(oe),tc(oe,"link",f),w.head.appendChild(oe)),oe={type:"script",instance:oe,count:1,state:null},F.set(W,oe))}}function Vw(f,p,w,F){var W=(W=ge.current)?Ia(W):null;if(!W)throw Error(n(446));switch(f){case"meta":case"title":return null;case"style":return typeof w.precedence=="string"&&typeof w.href=="string"?(p=Op(w.href),w=nt(W).hoistableStyles,F=w.get(p),F||(F={type:"style",instance:null,count:0,state:null},w.set(p,F)),F):{type:"void",instance:null,count:0,state:null};case"link":if(w.rel==="stylesheet"&&typeof w.href=="string"&&typeof w.precedence=="string"){f=Op(w.href);var oe=nt(W).hoistableStyles,ze=oe.get(f);if(ze||(W=W.ownerDocument||W,ze={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},oe.set(f,ze),(oe=W.querySelector(rx(f)))&&!oe._p&&(ze.instance=oe,ze.state.loading=5),Jd.has(f)||(w={rel:"preload",as:"style",href:w.href,crossOrigin:w.crossOrigin,integrity:w.integrity,media:w.media,hrefLang:w.hrefLang,referrerPolicy:w.referrerPolicy},Jd.set(f,w),oe||OS(W,f,w,ze.state))),p&&F===null)throw Error(n(528,""));return ze}if(p&&F!==null)throw Error(n(529,""));return null;case"script":return p=w.async,w=w.src,typeof w=="string"&&p&&typeof p!="function"&&typeof p!="symbol"?(p=Dp(w),w=nt(W).hoistableScripts,F=w.get(p),F||(F={type:"script",instance:null,count:0,state:null},w.set(p,F)),F):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,f))}}function Op(f){return'href="'+Zn(f)+'"'}function rx(f){return'link[rel="stylesheet"]['+f+"]"}function Kw(f){return u({},f,{"data-precedence":f.precedence,precedence:null})}function OS(f,p,w,F){f.querySelector('link[rel="preload"][as="style"]['+p+"]")?F.loading=1:(p=f.createElement("link"),F.preload=p,p.addEventListener("load",function(){return F.loading|=1}),p.addEventListener("error",function(){return F.loading|=2}),tc(p,"link",w),Et(p),f.head.appendChild(p))}function Dp(f){return'[src="'+Zn(f)+'"]'}function nx(f){return"script[async]"+f}function qw(f,p,w){if(p.count++,p.instance===null)switch(p.type){case"style":var F=f.querySelector('style[data-href~="'+Zn(w.href)+'"]');if(F)return p.instance=F,Et(F),F;var W=u({},w,{"data-href":w.href,"data-precedence":w.precedence,href:null,precedence:null});return F=(f.ownerDocument||f).createElement("style"),Et(F),tc(F,"style",W),M1(F,w.precedence,f),p.instance=F;case"stylesheet":W=Op(w.href);var oe=f.querySelector(rx(W));if(oe)return p.state.loading|=4,p.instance=oe,Et(oe),oe;F=Kw(w),(W=Jd.get(W))&&ax(F,W),oe=(f.ownerDocument||f).createElement("link"),Et(oe);var ze=oe;return ze._p=new Promise(function(At,Lt){ze.onload=At,ze.onerror=Lt}),tc(oe,"link",F),p.state.loading|=4,M1(oe,w.precedence,f),p.instance=oe;case"script":return oe=Dp(w.src),(W=f.querySelector(nx(oe)))?(p.instance=W,Et(W),W):(F=w,(W=Jd.get(oe))&&(F=u({},w),$y(F,W)),f=f.ownerDocument||f,W=f.createElement("script"),Et(W),tc(W,"link",F),f.head.appendChild(W),p.instance=W);case"void":return null;default:throw Error(n(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(F=p.instance,p.state.loading|=4,M1(F,w.precedence,f));return p.instance}function M1(f,p,w){for(var F=w.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),W=F.length?F[F.length-1]:null,oe=W,ze=0;ze<F.length;ze++){var At=F[ze];if(At.dataset.precedence===p)oe=At;else if(oe!==W)break}oe?oe.parentNode.insertBefore(f,oe.nextSibling):(p=w.nodeType===9?w.head:w,p.insertBefore(f,p.firstChild))}function ax(f,p){f.crossOrigin==null&&(f.crossOrigin=p.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=p.referrerPolicy),f.title==null&&(f.title=p.title)}function $y(f,p){f.crossOrigin==null&&(f.crossOrigin=p.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=p.referrerPolicy),f.integrity==null&&(f.integrity=p.integrity)}var Mp=null;function Gw(f,p,w){if(Mp===null){var F=new Map,W=Mp=new Map;W.set(w,F)}else W=Mp,F=W.get(w),F||(F=new Map,W.set(w,F));if(F.has(f))return F;for(F.set(f,null),w=w.getElementsByTagName(f),W=0;W<w.length;W++){var oe=w[W];if(!(oe[ft]||oe[On]||f==="link"&&oe.getAttribute("rel")==="stylesheet")&&oe.namespaceURI!=="http://www.w3.org/2000/svg"){var ze=oe.getAttribute(p)||"";ze=f+ze;var At=F.get(ze);At?At.push(oe):F.set(ze,[oe])}}return F}function Ww(f,p,w){f=f.ownerDocument||f,f.head.insertBefore(w,p==="title"?f.querySelector("head > title"):null)}function DS(f,p,w){if(w===1||p.itemProp!=null)return!1;switch(f){case"meta":case"title":return!0;case"style":if(typeof p.precedence!="string"||typeof p.href!="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!="string"||typeof p.href!="string"||p.href===""||p.onLoad||p.onError)break;switch(p.rel){case"stylesheet":return f=p.disabled,typeof p.precedence=="string"&&f==null;default:return!0}case"script":if(p.async&&typeof p.async!="function"&&typeof p.async!="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src=="string")return!0}return!1}function rc(f){return!(f.type==="stylesheet"&&(f.state.loading&3)===0)}var Fc=null;function MS(){}function US(f,p,w){if(Fc===null)throw Error(n(475));var F=Fc;if(p.type==="stylesheet"&&(typeof w.media!="string"||matchMedia(w.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var W=Op(w.href),oe=f.querySelector(rx(W));if(oe){f=oe._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(F.count++,F=sx.bind(F),f.then(F,F)),p.state.loading|=4,p.instance=oe,Et(oe);return}oe=f.ownerDocument||f,w=Kw(w),(W=Jd.get(W))&&ax(w,W),oe=oe.createElement("link"),Et(oe);var ze=oe;ze._p=new Promise(function(At,Lt){ze.onload=At,ze.onerror=Lt}),tc(oe,"link",w),p.instance=oe}F.stylesheets===null&&(F.stylesheets=new Map),F.stylesheets.set(p,f),(f=p.state.preload)&&(p.state.loading&3)===0&&(F.count++,p=sx.bind(F),f.addEventListener("load",p),f.addEventListener("error",p))}}function RS(){if(Fc===null)throw Error(n(475));var f=Fc;return f.stylesheets&&f.count===0&&zy(f,f.stylesheets),0<f.count?function(p){var w=setTimeout(function(){if(f.stylesheets&&zy(f,f.stylesheets),f.unsuspend){var F=f.unsuspend;f.unsuspend=null,F()}},6e4);return f.unsuspend=p,function(){f.unsuspend=null,clearTimeout(w)}}:null}function sx(){if(this.count--,this.count===0){if(this.stylesheets)zy(this,this.stylesheets);else if(this.unsuspend){var f=this.unsuspend;this.unsuspend=null,f()}}}var U1=null;function zy(f,p){f.stylesheets=null,f.unsuspend!==null&&(f.count++,U1=new Map,p.forEach(QS,f),U1=null,sx.call(f))}function QS(f,p){if(!(p.state.loading&4)){var w=U1.get(f);if(w)var F=w.get(null);else{w=new Map,U1.set(f,w);for(var W=f.querySelectorAll("link[data-precedence],style[data-precedence]"),oe=0;oe<W.length;oe++){var ze=W[oe];(ze.nodeName==="LINK"||ze.getAttribute("media")!=="not all")&&(w.set(ze.dataset.precedence,ze),F=ze)}F&&w.set(null,F)}W=p.instance,ze=W.getAttribute("data-precedence"),oe=w.get(ze)||F,oe===F&&w.set(null,W),w.set(ze,W),this.count++,F=sx.bind(this),W.addEventListener("load",F),W.addEventListener("error",F),oe?oe.parentNode.insertBefore(W,oe.nextSibling):(f=f.nodeType===9?f.head:f,f.insertBefore(W,f.firstChild)),p.state.loading|=4}}var Up={$$typeof:E,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function HS(f,p,w,F,W,oe,ze,At){this.tag=1,this.containerInfo=f,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.hiddenUpdates=gt(null),this.identifierPrefix=F,this.onUncaughtError=W,this.onCaughtError=oe,this.onRecoverableError=ze,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=At,this.incompleteTransitions=new Map}function Yw(f,p,w,F,W,oe,ze,At,Lt,ir,jr,_r){return f=new HS(f,p,w,ze,At,Lt,ir,_r),p=1,oe===!0&&(p|=24),oe=Yi(3,null,null,p),f.current=oe,oe.stateNode=f,p=pA(),p.refCount++,f.pooledCache=p,p.refCount++,oe.memoizedState={element:F,isDehydrated:w,cache:p},it(oe),f}function Xw(f){return f?(f=is,f):is}function Vy(f,p,w,F,W,oe){W=Xw(W),F.context===null?F.context=W:F.pendingContext=W,F=kt(p),F.payload={element:w},oe=oe===void 0?null:oe,oe!==null&&(F.callback=oe),w=Ut(f,F,p),w!==null&&(Kr(w,f,p),Dt(w,f,p))}function Ky(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var w=f.retryLane;f.retryLane=w!==0&&w<p?w:p}}function qy(f,p){Ky(f,p),(f=f.alternate)&&Ky(f,p)}function Jw(f){if(f.tag===13){var p=Hc(f,67108864);p!==null&&Kr(p,f,67108864),qy(f,67108864)}}var R1=!0;function $S(f,p,w,F){var W=ee.T;ee.T=null;var oe=de.p;try{de.p=2,Gy(f,p,w,F)}finally{de.p=oe,ee.T=W}}function Rp(f,p,w,F){var W=ee.T;ee.T=null;var oe=de.p;try{de.p=8,Gy(f,p,w,F)}finally{de.p=oe,ee.T=W}}function Gy(f,p,w,F){if(R1){var W=Wy(F);if(W===null)IA(f,p,F,Q1,w),e4(f,F);else if(VS(W,f,p,w,F))F.stopPropagation();else if(e4(f,F),p&4&&-1<zS.indexOf(f)){for(;W!==null;){var oe=Ee(W);if(oe!==null)switch(oe.tag){case 3:if(oe=oe.stateNode,oe.current.memoizedState.isDehydrated){var ze=Oe(oe.pendingLanes);if(ze!==0){var At=oe;for(At.pendingLanes|=2,At.entangledLanes|=2;ze;){var Lt=1<<31-Me(ze);At.entanglements[1]|=Lt,ze&=~Lt}qh(oe),(qs&6)===0&&(D=st()+500,Xg(0))}}break;case 13:At=Hc(oe,2),At!==null&&Kr(At,oe,2),Ba(),qy(oe,2)}if(oe=Wy(F),oe===null&&IA(f,p,F,Q1,w),oe===W)break;W=oe}W!==null&&F.stopPropagation()}else IA(f,p,F,null,w)}}function Wy(f){return f=Ki(f),Yy(f)}var Q1=null;function Yy(f){if(Q1=null,f=Re(f),f!==null){var p=i(f);if(p===null)f=null;else{var w=p.tag;if(w===13){if(f=o(p),f!==null)return f;f=null}else if(w===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;f=null}else p!==f&&(f=null)}}return Q1=f,null}function Zw(f){switch(f){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(et()){case He:return 2;case ct:return 8;case _e:case ke:return 32;case Ze:return 268435456;default:return 32}default:return 32}}var H1=!1,kA=null,jm=null,Sm=null,ix=new Map,ox=new Map,Cm=[],zS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e4(f,p){switch(f){case"focusin":case"focusout":kA=null;break;case"dragenter":case"dragleave":jm=null;break;case"mouseover":case"mouseout":Sm=null;break;case"pointerover":case"pointerout":ix.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":ox.delete(p.pointerId)}}function lx(f,p,w,F,W,oe){return f===null||f.nativeEvent!==oe?(f={blockedOn:p,domEventName:w,eventSystemFlags:F,nativeEvent:oe,targetContainers:[W]},p!==null&&(p=Ee(p),p!==null&&Jw(p)),f):(f.eventSystemFlags|=F,p=f.targetContainers,W!==null&&p.indexOf(W)===-1&&p.push(W),f)}function VS(f,p,w,F,W){switch(p){case"focusin":return kA=lx(kA,f,p,w,F,W),!0;case"dragenter":return jm=lx(jm,f,p,w,F,W),!0;case"mouseover":return Sm=lx(Sm,f,p,w,F,W),!0;case"pointerover":var oe=W.pointerId;return ix.set(oe,lx(ix.get(oe)||null,f,p,w,F,W)),!0;case"gotpointercapture":return oe=W.pointerId,ox.set(oe,lx(ox.get(oe)||null,f,p,w,F,W)),!0}return!1}function t4(f){var p=Re(f.target);if(p!==null){var w=i(p);if(w!==null){if(p=w.tag,p===13){if(p=o(w),p!==null){f.blockedOn=p,rn(f.priority,function(){if(w.tag===13){var F=Gr();F=Qr(F);var W=Hc(w,F);W!==null&&Kr(W,w,F),qy(w,F)}});return}}else if(p===3&&w.stateNode.current.memoizedState.isDehydrated){f.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}f.blockedOn=null}function $1(f){if(f.blockedOn!==null)return!1;for(var p=f.targetContainers;0<p.length;){var w=Wy(f.nativeEvent);if(w===null){w=f.nativeEvent;var F=new w.constructor(w.type,w);Vi=F,w.target.dispatchEvent(F),Vi=null}else return p=Ee(w),p!==null&&Jw(p),f.blockedOn=w,!1;p.shift()}return!0}function r4(f,p,w){$1(f)&&w.delete(p)}function KS(){H1=!1,kA!==null&&$1(kA)&&(kA=null),jm!==null&&$1(jm)&&(jm=null),Sm!==null&&$1(Sm)&&(Sm=null),ix.forEach(r4),ox.forEach(r4)}function z1(f,p){f.blockedOn===p&&(f.blockedOn=null,H1||(H1=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,KS)))}var V1=null;function n4(f){V1!==f&&(V1=f,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){V1===f&&(V1=null);for(var p=0;p<f.length;p+=3){var w=f[p],F=f[p+1],W=f[p+2];if(typeof F!="function"){if(Yy(F||w)===null)continue;break}var oe=Ee(w);oe!==null&&(f.splice(p,3),p-=3,uo(oe,{pending:!0,data:W,method:w.method,action:F},F,W))}}))}function cx(f){function p(Lt){return z1(Lt,f)}kA!==null&&z1(kA,f),jm!==null&&z1(jm,f),Sm!==null&&z1(Sm,f),ix.forEach(p),ox.forEach(p);for(var w=0;w<Cm.length;w++){var F=Cm[w];F.blockedOn===f&&(F.blockedOn=null)}for(;0<Cm.length&&(w=Cm[0],w.blockedOn===null);)t4(w),w.blockedOn===null&&Cm.shift();if(w=(f.ownerDocument||f).$$reactFormReplay,w!=null)for(F=0;F<w.length;F+=3){var W=w[F],oe=w[F+1],ze=W[Gn]||null;if(typeof oe=="function")ze||n4(w);else if(ze){var At=null;if(oe&&oe.hasAttribute("formAction")){if(W=oe,ze=oe[Gn]||null)At=ze.formAction;else if(Yy(W)!==null)continue}else At=ze.action;typeof At=="function"?w[F+1]=At:(w.splice(F,3),F-=3),n4(w)}}}function Xy(f){this._internalRoot=f}K1.prototype.render=Xy.prototype.render=function(f){var p=this._internalRoot;if(p===null)throw Error(n(409));var w=p.current,F=Gr();Vy(w,F,f,p,null,null)},K1.prototype.unmount=Xy.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var p=f.containerInfo;Vy(f.current,2,null,f,null,null),Ba(),p[Dn]=null}};function K1(f){this._internalRoot=f}K1.prototype.unstable_scheduleHydration=function(f){if(f){var p=ja();f={blockedOn:null,target:f,priority:p};for(var w=0;w<Cm.length&&p!==0&&p<Cm[w].priority;w++);Cm.splice(w,0,f),w===0&&t4(f)}};var a4=t.version;if(a4!=="19.1.1")throw Error(n(527,a4,"19.1.1"));de.findDOMNode=function(f){var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(n(188)):(f=Object.keys(f).join(","),Error(n(268,f)));return f=c(p),f=f!==null?d(f):null,f=f===null?null:f.stateNode,f};var qS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var q1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!q1.isDisabled&&q1.supportsFiber)try{Ge=q1.inject(qS),lt=q1}catch{}}return Zy.createRoot=function(f,p){if(!s(f))throw Error(n(299));var w=!1,F="",W=xp,oe=d0,ze=vp,At=null;return p!=null&&(p.unstable_strictMode===!0&&(w=!0),p.identifierPrefix!==void 0&&(F=p.identifierPrefix),p.onUncaughtError!==void 0&&(W=p.onUncaughtError),p.onCaughtError!==void 0&&(oe=p.onCaughtError),p.onRecoverableError!==void 0&&(ze=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(At=p.unstable_transitionCallbacks)),p=Yw(f,1,!1,null,null,w,F,W,oe,ze,At,null),f[Dn]=p.current,My(f),new Xy(p)},Zy.hydrateRoot=function(f,p,w){if(!s(f))throw Error(n(299));var F=!1,W="",oe=xp,ze=d0,At=vp,Lt=null,ir=null;return w!=null&&(w.unstable_strictMode===!0&&(F=!0),w.identifierPrefix!==void 0&&(W=w.identifierPrefix),w.onUncaughtError!==void 0&&(oe=w.onUncaughtError),w.onCaughtError!==void 0&&(ze=w.onCaughtError),w.onRecoverableError!==void 0&&(At=w.onRecoverableError),w.unstable_transitionCallbacks!==void 0&&(Lt=w.unstable_transitionCallbacks),w.formState!==void 0&&(ir=w.formState)),p=Yw(f,1,!0,p,w??null,F,W,oe,ze,At,Lt,ir),p.context=Xw(null),w=p.current,F=Gr(),F=Qr(F),W=kt(F),W.callback=null,Ut(w,W,F),w=F,p.current.lanes=w,Zt(p,w),qh(p),f[Dn]=p.current,My(f),new K1(p)},Zy.version="19.1.1",Zy}var OI;function oZ(){if(OI)return ZS.exports;OI=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ZS.exports=iZ(),ZS.exports}var lZ=oZ();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var DI="popstate";function cZ(e={}){function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return EE("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:tb(s)}return dZ(t,r,null,e)}function tl(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function YA(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uZ(){return Math.random().toString(36).substring(2,10)}function MI(e,t){return{usr:e.state,key:e.key,idx:t}}function EE(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ny(t):t,state:r,key:t&&t.key||n||uZ()}}function tb({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ny(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function dZ(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l="POP",c=null,d=u();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function u(){return(o.state||{idx:null}).idx}function h(){l="POP";let v=u(),b=v==null?null:v-d;d=v,c&&c({action:l,location:x.location,delta:b})}function m(v,b){l="PUSH";let j=EE(x.location,v,b);d=u()+1;let E=MI(j,d),T=x.createHref(j);try{o.pushState(E,"",T)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(T)}i&&c&&c({action:l,location:x.location,delta:1})}function A(v,b){l="REPLACE";let j=EE(x.location,v,b);d=u();let E=MI(j,d),T=x.createHref(j);o.replaceState(E,"",T),i&&c&&c({action:l,location:x.location,delta:0})}function y(v){return fZ(v)}let x={get action(){return l},get location(){return e(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(DI,h),c=v,()=>{s.removeEventListener(DI,h),c=null}},createHref(v){return t(s,v)},createURL:y,encodeLocation(v){let b=y(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:A,go(v){return o.go(v)}};return x}function fZ(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),tl(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:tb(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function w9(e,t,r="/"){return hZ(e,t,r,!1)}function hZ(e,t,r,n){let s=typeof t=="string"?ny(t):t,i=q0(s.pathname||"/",r);if(i==null)return null;let o=N9(e);AZ(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=SZ(i);l=NZ(o[c],d,n)}return l}function N9(e,t=[],r=[],n="",s=!1){let i=(o,l,c=s,d)=>{let u={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(n)&&c)return;tl(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length)}let h=R0([n,u.relativePath]),m=r.concat(u);o.children&&o.children.length>0&&(tl(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),N9(o.children,t,m,h,c)),!(o.path==null&&!o.index)&&t.push({path:h,score:bZ(h,o.index),routesMeta:m})};return e.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))i(o,l);else for(let c of j9(o.path))i(o,l,!0,c)}),t}function j9(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=j9(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function AZ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:wZ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var mZ=/^:[\w-]+$/,pZ=3,gZ=2,xZ=1,vZ=10,yZ=-2,UI=e=>e==="*";function bZ(e,t){let r=e.split("/"),n=r.length;return r.some(UI)&&(n+=yZ),t&&(n+=gZ),r.filter(s=>!UI(s)).reduce((s,i)=>s+(mZ.test(i)?pZ:i===""?xZ:vZ),n)}function wZ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function NZ(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=_5({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h&&d&&r&&!n[n.length-1].route.index&&(h=_5({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:R0([i,h.pathname]),pathnameBase:TZ(R0([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=R0([i,h.pathnameBase]))}return o}function _5(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=jZ(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,{paramName:u,isOptional:h},m)=>{if(u==="*"){let y=l[m]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const A=l[m];return h&&!A?d[u]=void 0:d[u]=(A||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function jZ(e,t=!1,r=!0){YA(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function SZ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return YA(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function q0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function CZ(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ny(e):e;return{pathname:r?r.startsWith("/")?r:EZ(r,t):t,search:_Z(n),hash:FZ(s)}}function EZ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function n3(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BZ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function VT(e){let t=BZ(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function KT(e,t,r,n=!1){let s;typeof e=="string"?s=ny(e):(s={...e},tl(!s.pathname||!s.pathname.includes("?"),n3("?","pathname","search",s)),tl(!s.pathname||!s.pathname.includes("#"),n3("#","pathname","hash",s)),tl(!s.search||!s.search.includes("#"),n3("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=CZ(s,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var R0=e=>e.join("/").replace(/\/\/+/g,"/"),TZ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_Z=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,FZ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function IZ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var S9=["POST","PUT","PATCH","DELETE"];new Set(S9);var kZ=["GET",...S9];new Set(kZ);var ay=C.createContext(null);ay.displayName="DataRouter";var nj=C.createContext(null);nj.displayName="DataRouterState";C.createContext(!1);var C9=C.createContext({isTransitioning:!1});C9.displayName="ViewTransition";var PZ=C.createContext(new Map);PZ.displayName="Fetchers";var LZ=C.createContext(null);LZ.displayName="Await";var JA=C.createContext(null);JA.displayName="Navigation";var Ub=C.createContext(null);Ub.displayName="Location";var Xm=C.createContext({outlet:null,matches:[],isDataRoute:!1});Xm.displayName="Route";var qT=C.createContext(null);qT.displayName="RouteError";function OZ(e,{relative:t}={}){tl(sy(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=C.useContext(JA),{hash:s,pathname:i,search:o}=Rb(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:R0([r,i])),n.createHref({pathname:l,search:o,hash:s})}function sy(){return C.useContext(Ub)!=null}function Dd(){return tl(sy(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Ub).location}var E9="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function B9(e){C.useContext(JA).static||C.useLayoutEffect(e)}function ru(){let{isDataRoute:e}=C.useContext(Xm);return e?WZ():DZ()}function DZ(){tl(sy(),"useNavigate() may be used only in the context of a <Router> component.");let e=C.useContext(ay),{basename:t,navigator:r}=C.useContext(JA),{matches:n}=C.useContext(Xm),{pathname:s}=Dd(),i=JSON.stringify(VT(n)),o=C.useRef(!1);return B9(()=>{o.current=!0}),C.useCallback((c,d={})=>{if(YA(o.current,E9),!o.current)return;if(typeof c=="number"){r.go(c);return}let u=KT(c,JSON.parse(i),s,d.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:R0([t,u.pathname])),(d.replace?r.replace:r.push)(u,d.state,d)},[t,r,i,s,e])}C.createContext(null);function Rb(e,{relative:t}={}){let{matches:r}=C.useContext(Xm),{pathname:n}=Dd(),s=JSON.stringify(VT(r));return C.useMemo(()=>KT(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function MZ(e,t){return T9(e,t)}function T9(e,t,r,n,s){tl(sy(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=C.useContext(JA),{matches:o}=C.useContext(Xm),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",h=l&&l.route;{let j=h&&h.path||"";_9(d,!h||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let m=Dd(),A;if(t){let j=typeof t=="string"?ny(t):t;tl(u==="/"||j.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${j.pathname}" was given in the \`location\` prop.`),A=j}else A=m;let y=A.pathname||"/",x=y;if(u!=="/"){let j=u.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(j.length).join("/")}let v=w9(e,{pathname:x});YA(h||v!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),YA(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=$Z(v&&v.map(j=>Object.assign({},j,{params:Object.assign({},c,j.params),pathname:R0([u,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?u:R0([u,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,r,n,s);return t&&b?C.createElement(Ub.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},b):b}function UZ(){let e=GZ(),t=IZ(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:i},"ErrorBoundary")," or"," ",C.createElement("code",{style:i},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),r?C.createElement("pre",{style:s},r):null,o)}var RZ=C.createElement(UZ,null),QZ=class extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?C.createElement(Xm.Provider,{value:this.props.routeContext},C.createElement(qT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HZ({routeContext:e,match:t,children:r}){let n=C.useContext(ay);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(Xm.Provider,{value:e},r)}function $Z(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r?.errors;if(o!=null){let d=i.findIndex(u=>u.route.id&&o?.[u.route.id]!==void 0);tl(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<i.length;d++){let u=i[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:h,errors:m}=r,A=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!m||m[u.route.id]===void 0);if(u.route.lazy||A){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,u,h)=>{let m,A=!1,y=null,x=null;r&&(m=o&&u.route.id?o[u.route.id]:void 0,y=u.route.errorElement||RZ,l&&(c<0&&h===0?(_9("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,x=null):c===h&&(A=!0,x=u.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,h+1)),b=()=>{let j;return m?j=y:A?j=x:u.route.Component?j=C.createElement(u.route.Component,null):u.route.element?j=u.route.element:j=d,C.createElement(HZ,{match:u,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:j})};return r&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?C.createElement(QZ,{location:r.location,revalidation:r.revalidation,component:y,error:m,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0},unstable_onError:n}):b()},null)}function GT(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zZ(e){let t=C.useContext(ay);return tl(t,GT(e)),t}function VZ(e){let t=C.useContext(nj);return tl(t,GT(e)),t}function KZ(e){let t=C.useContext(Xm);return tl(t,GT(e)),t}function WT(e){let t=KZ(e),r=t.matches[t.matches.length-1];return tl(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function qZ(){return WT("useRouteId")}function GZ(){let e=C.useContext(qT),t=VZ("useRouteError"),r=WT("useRouteError");return e!==void 0?e:t.errors?.[r]}function WZ(){let{router:e}=zZ("useNavigate"),t=WT("useNavigate"),r=C.useRef(!1);return B9(()=>{r.current=!0}),C.useCallback(async(s,i={})=>{YA(r.current,E9),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var RI={};function _9(e,t,r){!t&&!RI[e]&&(RI[e]=!0,YA(!1,r))}C.memo(YZ);function YZ({routes:e,future:t,state:r,unstable_onError:n}){return T9(e,void 0,r,n,t)}function rb({to:e,replace:t,state:r,relative:n}){tl(sy(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=C.useContext(JA);YA(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=C.useContext(Xm),{pathname:o}=Dd(),l=ru(),c=KT(e,VT(i),o,n==="path"),d=JSON.stringify(c);return C.useEffect(()=>{l(JSON.parse(d),{replace:t,state:r,relative:n})},[l,d,n,t,r]),null}function vn(e){tl(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XZ({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){tl(!sy(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=C.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof r=="string"&&(r=ny(r));let{pathname:c="/",search:d="",hash:u="",state:h=null,key:m="default"}=r,A=C.useMemo(()=>{let y=q0(c,o);return y==null?null:{location:{pathname:y,search:d,hash:u,state:h,key:m},navigationType:n}},[o,c,d,u,h,m,n]);return YA(A!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:C.createElement(JA.Provider,{value:l},C.createElement(Ub.Provider,{children:t,value:A}))}function s4({children:e,location:t}){return MZ(BE(e),t)}function BE(e,t=[]){let r=[];return C.Children.forEach(e,(n,s)=>{if(!C.isValidElement(n))return;let i=[...t,s];if(n.type===C.Fragment){r.push.apply(r,BE(n.props.children,i));return}tl(n.type===vn,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tl(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=BE(n.props.children,i)),r.push(o)}),r}var o5="get",l5="application/x-www-form-urlencoded";function aj(e){return e!=null&&typeof e.tagName=="string"}function JZ(e){return aj(e)&&e.tagName.toLowerCase()==="button"}function ZZ(e){return aj(e)&&e.tagName.toLowerCase()==="form"}function eee(e){return aj(e)&&e.tagName.toLowerCase()==="input"}function tee(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ree(e,t){return e.button===0&&(!t||t==="_self")&&!tee(e)}var i4=null;function nee(){if(i4===null)try{new FormData(document.createElement("form"),0),i4=!1}catch{i4=!0}return i4}var aee=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function a3(e){return e!=null&&!aee.has(e)?(YA(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${l5}"`),null):e}function see(e,t){let r,n,s,i,o;if(ZZ(e)){let l=e.getAttribute("action");n=l?q0(l,t):null,r=e.getAttribute("method")||o5,s=a3(e.getAttribute("enctype"))||l5,i=new FormData(e)}else if(JZ(e)||eee(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?q0(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||o5,s=a3(e.getAttribute("formenctype"))||a3(l.getAttribute("enctype"))||l5,i=new FormData(l,e),!nee()){let{name:d,type:u,value:h}=e;if(u==="image"){let m=d?`${d}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else d&&i.append(d,h)}}else{if(aj(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=o5,n=null,s=l5,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function YT(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function iee(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&q0(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function oee(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lee(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function cee(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await oee(i,r);return o.links?o.links():[]}return[]}));return hee(n.flat(1).filter(lee).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function QI(e,t,r,n,s,i){let o=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,l=(c,d)=>r[d].pathname!==c.pathname||r[d].route.path?.endsWith("*")&&r[d].params["*"]!==c.params["*"];return i==="assets"?t.filter((c,d)=>o(c,d)||l(c,d)):i==="data"?t.filter((c,d)=>{let u=n.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function uee(e,t,{includeHydrateFallback:r}={}){return dee(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function dee(e){return[...new Set(e)]}function fee(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function hee(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(fee(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function F9(){let e=C.useContext(ay);return YT(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Aee(){let e=C.useContext(nj);return YT(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var XT=C.createContext(void 0);XT.displayName="FrameworkContext";function I9(){let e=C.useContext(XT);return YT(e,"You must render this element inside a <HydratedRouter> element"),e}function mee(e,t){let r=C.useContext(XT),[n,s]=C.useState(!1),[i,o]=C.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=t,m=C.useRef(null);C.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let x=b=>{b.forEach(j=>{o(j.isIntersecting)})},v=new IntersectionObserver(x,{threshold:.5});return m.current&&v.observe(m.current),()=>{v.disconnect()}}},[e]),C.useEffect(()=>{if(n){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[n]);let A=()=>{s(!0)},y=()=>{s(!1),o(!1)};return r?e!=="intent"?[i,m,{}]:[i,m,{onFocus:e2(l,A),onBlur:e2(c,y),onMouseEnter:e2(d,A),onMouseLeave:e2(u,y),onTouchStart:e2(h,A)}]:[!1,m,{}]}function e2(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function pee({page:e,...t}){let{router:r}=F9(),n=C.useMemo(()=>w9(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?C.createElement(xee,{page:e,matches:n,...t}):null}function gee(e){let{manifest:t,routeModules:r}=I9(),[n,s]=C.useState([]);return C.useEffect(()=>{let i=!1;return cee(e,t,r).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,r]),n}function xee({page:e,matches:t,...r}){let n=Dd(),{manifest:s,routeModules:i}=I9(),{basename:o}=F9(),{loaderData:l,matches:c}=Aee(),d=C.useMemo(()=>QI(e,t,c,s,n,"data"),[e,t,c,s,n]),u=C.useMemo(()=>QI(e,t,c,s,n,"assets"),[e,t,c,s,n]),h=C.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,x=!1;if(t.forEach(b=>{let j=s.routes[b.route.id];!j||!j.hasLoader||(!d.some(E=>E.route.id===b.route.id)&&b.route.id in l&&i[b.route.id]?.shouldRevalidate||j.hasClientLoader?x=!0:y.add(b.route.id))}),y.size===0)return[];let v=iee(e,o,"data");return x&&y.size>0&&v.searchParams.set("_routes",t.filter(b=>y.has(b.route.id)).map(b=>b.route.id).join(",")),[v.pathname+v.search]},[o,l,n,s,d,t,e,i]),m=C.useMemo(()=>uee(u,s),[u,s]),A=gee(u);return C.createElement(C.Fragment,null,h.map(y=>C.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),m.map(y=>C.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),A.map(({key:y,link:x})=>C.createElement("link",{key:y,nonce:r.nonce,...x})))}function vee(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var k9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{k9&&(window.__reactRouterVersion="7.9.1")}catch{}function yee({basename:e,children:t,window:r}){let n=C.useRef();n.current==null&&(n.current=cZ({window:r,v5Compat:!0}));let s=n.current,[i,o]=C.useState({action:s.action,location:s.location}),l=C.useCallback(c=>{C.startTransition(()=>o(c))},[o]);return C.useLayoutEffect(()=>s.listen(l),[s,l]),C.createElement(XZ,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var P9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cl=C.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h,...m},A){let{basename:y}=C.useContext(JA),x=typeof d=="string"&&P9.test(d),v,b=!1;if(typeof d=="string"&&x&&(v=d,k9))try{let Q=new URL(window.location.href),z=d.startsWith("//")?new URL(Q.protocol+d):new URL(d),O=q0(z.pathname,y);z.origin===Q.origin&&O!=null?d=O+z.search+z.hash:b=!0}catch{YA(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=OZ(d,{relative:s}),[E,T,P]=mee(n,m),U=jee(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:s,viewTransition:h});function M(Q){t&&t(Q),Q.defaultPrevented||U(Q)}let k=C.createElement("a",{...m,...P,href:v||j,onClick:b||i?t:M,ref:vee(A,T),target:c,"data-discover":!x&&r==="render"?"true":void 0});return E&&!x?C.createElement(C.Fragment,null,k,C.createElement(pee,{page:j})):k});cl.displayName="Link";var bee=C.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:o,viewTransition:l,children:c,...d},u){let h=Rb(o,{relative:d.relative}),m=Dd(),A=C.useContext(nj),{navigator:y,basename:x}=C.useContext(JA),v=A!=null&&Tee(h)&&l===!0,b=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,j=m.pathname,E=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;r||(j=j.toLowerCase(),E=E?E.toLowerCase():null,b=b.toLowerCase()),E&&x&&(E=q0(E,x)||E);const T=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let P=j===b||!s&&j.startsWith(b)&&j.charAt(T)==="/",U=E!=null&&(E===b||!s&&E.startsWith(b)&&E.charAt(b.length)==="/"),M={isActive:P,isPending:U,isTransitioning:v},k=P?t:void 0,Q;typeof n=="function"?Q=n(M):Q=[n,P?"active":null,U?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let z=typeof i=="function"?i(M):i;return C.createElement(cl,{...d,"aria-current":k,className:Q,ref:u,style:z,to:o,viewTransition:l},typeof c=="function"?c(M):c)});bee.displayName="NavLink";var wee=C.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:o=o5,action:l,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:h,...m},A)=>{let y=Eee(),x=Bee(l,{relative:d}),v=o.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&P9.test(l),j=E=>{if(c&&c(E),E.defaultPrevented)return;E.preventDefault();let T=E.nativeEvent.submitter,P=T?.getAttribute("formmethod")||o;y(T||E.currentTarget,{fetcherKey:t,method:P,navigate:r,replace:s,state:i,relative:d,preventScrollReset:u,viewTransition:h})};return C.createElement("form",{ref:A,method:v,action:x,onSubmit:n?c:j,...m,"data-discover":!b&&e==="render"?"true":void 0})});wee.displayName="Form";function Nee(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L9(e){let t=C.useContext(ay);return tl(t,Nee(e)),t}function jee(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:o}={}){let l=ru(),c=Dd(),d=Rb(e,{relative:i});return C.useCallback(u=>{if(ree(u,t)){u.preventDefault();let h=r!==void 0?r:tb(c)===tb(d);l(e,{replace:h,state:n,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,d,r,n,t,e,s,i,o])}var See=0,Cee=()=>`__${String(++See)}__`;function Eee(){let{router:e}=L9("useSubmit"),{basename:t}=C.useContext(JA),r=qZ();return C.useCallback(async(n,s={})=>{let{action:i,method:o,encType:l,formData:c,body:d}=see(n,t);if(s.navigate===!1){let u=s.fetcherKey||Cee();await e.fetch(u,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function Bee(e,{relative:t}={}){let{basename:r}=C.useContext(JA),n=C.useContext(Xm);tl(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...Rb(e||".",{relative:t})},o=Dd();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let u=l.toString();i.search=u?`?${u}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:R0([r,i.pathname])),tb(i)}function Tee(e,{relative:t}={}){let r=C.useContext(C9);tl(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=L9("useViewTransitionState"),s=Rb(e,{relative:t});if(!r.isTransitioning)return!1;let i=q0(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=q0(r.nextLocation.pathname,n)||r.nextLocation.pathname;return _5(s.pathname,o)!=null||_5(s.pathname,i)!=null}var O9=b9(),D9={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},HI=Kn.createContext&&Kn.createContext(D9),_ee=["attr","size","title"];function Fee(e,t){if(e==null)return{};var r=Iee(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Iee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function F5(){return F5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F5.apply(this,arguments)}function $I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function I5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$I(Object(r),!0).forEach(function(n){kee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$I(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kee(e,t,r){return t=Pee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pee(e){var t=Lee(e,"string");return typeof t=="symbol"?t:t+""}function Lee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M9(e){return e&&e.map((t,r)=>Kn.createElement(t.tag,I5({key:r},t.attr),M9(t.child)))}function Ur(e){return t=>Kn.createElement(Oee,F5({attr:I5({},e.attr)},t),M9(e.child))}function Oee(e){var t=r=>{var{attr:n,size:s,title:i}=e,o=Fee(e,_ee),l=s||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),Kn.createElement("svg",F5({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:I5(I5({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&Kn.createElement("title",null,i),e.children)};return HI!==void 0?Kn.createElement(HI.Consumer,null,r=>t(r)):t(D9)}function Dee(e){return Ur({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 0H48C22.4 0 0 22.4 0 48v416c0 25.6 22.4 48 48 48h352c25.6 0 48-22.4 48-48V48c0-25.6-22.4-48-48-48zM128 435.2c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8V268.8c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v166.4zm0-256c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8V76.8C64 70.4 70.4 64 76.8 64h294.4c6.4 0 12.8 6.4 12.8 12.8v102.4z"},child:[]}]})(e)}function zI(e){return Ur({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function Mee(e){return Ur({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M208 352c-2.39 0-4.78.35-7.06 1.09C187.98 357.3 174.35 360 160 360c-14.35 0-27.98-2.7-40.95-6.91-2.28-.74-4.66-1.09-7.05-1.09C49.94 352-.33 402.48 0 464.62.14 490.88 21.73 512 48 512h224c26.27 0 47.86-21.12 48-47.38.33-62.14-49.94-112.62-112-112.62zm-48-32c53.02 0 96-42.98 96-96s-42.98-96-96-96-96 42.98-96 96 42.98 96 96 96zM592 0H208c-26.47 0-48 22.25-48 49.59V96c23.42 0 45.1 6.78 64 17.8V64h352v288h-64v-64H384v64h-76.24c19.1 16.69 33.12 38.73 39.69 64H592c26.47 0 48-22.25 48-49.59V49.59C640 22.25 618.47 0 592 0z"},child:[]}]})(e)}function U9(e){return Ur({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Uee(e){return Ur({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(e)}function Ree(e){return Ur({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function TE(e){return Ur({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function Qee(e){return Ur({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function Hee(e){return Ur({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function R9(e){return Ur({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function C2(e){return Ur({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function _E(e){return Ur({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function $ee(e){return Ur({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function zee(e){return Ur({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M288 256H96v64h192v-64zm89-151L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm256 304c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-200v96c0 8.84-7.16 16-16 16H80c-8.84 0-16-7.16-16-16v-96c0-8.84 7.16-16 16-16h224c8.84 0 16 7.16 16 16z"},child:[]}]})(e)}function VI(e){return Ur({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(e)}function Q9(e){return Ur({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function Vee(e){return Ur({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function Kee(e){return Ur({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M255.03 261.65c6.25 6.25 16.38 6.25 22.63 0l11.31-11.31c6.25-6.25 6.25-16.38 0-22.63L253.25 192l35.71-35.72c6.25-6.25 6.25-16.38 0-22.63l-11.31-11.31c-6.25-6.25-16.38-6.25-22.63 0l-58.34 58.34c-6.25 6.25-6.25 16.38 0 22.63l58.35 58.34zm96.01-11.3l11.31 11.31c6.25 6.25 16.38 6.25 22.63 0l58.34-58.34c6.25-6.25 6.25-16.38 0-22.63l-58.34-58.34c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63L386.75 192l-35.71 35.72c-6.25 6.25-6.25 16.38 0 22.63zM624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z"},child:[]}]})(e)}function qee(e){return Ur({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function KI(e){return Ur({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function Gee(e){return Ur({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function FE(e){return Ur({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M308 96c6.627 0 12-5.373 12-12V44c0-6.627-5.373-12-12-12H12C5.373 32 0 37.373 0 44v44.748c0 6.627 5.373 12 12 12h85.28c27.308 0 48.261 9.958 60.97 27.252H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h158.757c-6.217 36.086-32.961 58.632-74.757 58.632H12c-6.627 0-12 5.373-12 12v53.012c0 3.349 1.4 6.546 3.861 8.818l165.052 152.356a12.001 12.001 0 0 0 8.139 3.182h82.562c10.924 0 16.166-13.408 8.139-20.818L116.871 319.906c76.499-2.34 131.144-53.395 138.318-127.906H308c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-58.69c-3.486-11.541-8.28-22.246-14.252-32H308z"},child:[]}]})(e)}function H9(e){return Ur({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M0 224v272c0 8.84 7.16 16 16 16h80V192H32c-17.67 0-32 14.33-32 32zm360-48h-24v-40c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v64c0 4.42 3.58 8 8 8h48c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zm137.75-63.96l-160-106.67a32.02 32.02 0 0 0-35.5 0l-160 106.67A32.002 32.002 0 0 0 128 138.66V512h128V368c0-8.84 7.16-16 16-16h96c8.84 0 16 7.16 16 16v144h128V138.67c0-10.7-5.35-20.7-14.25-26.63zM320 256c-44.18 0-80-35.82-80-80s35.82-80 80-80 80 35.82 80 80-35.82 80-80 80zm288-64h-64v320h80c8.84 0 16-7.16 16-16V224c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Wee(e){return Ur({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function Yee(e){return Ur({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function Xee(e){return Ur({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(e)}function s3(e){return Ur({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Jee(e){return Ur({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M396.8 352h22.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-192 0h22.4c6.4 0 12.8-6.4 12.8-12.8V140.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h22.4c6.4 0 12.8-6.4 12.8-12.8V204.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zM496 400H48V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16zm-387.2-48h22.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8z"},child:[]}]})(e)}function $9(e,t){return function(){return e.apply(t,arguments)}}const{toString:Zee}=Object.prototype,{getPrototypeOf:JT}=Object,{iterator:sj,toStringTag:z9}=Symbol,ij=(e=>t=>{const r=Zee.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ZA=e=>(e=e.toLowerCase(),t=>ij(t)===e),oj=e=>t=>typeof t===e,{isArray:iy}=Array,Hv=oj("undefined");function Qb(e){return e!==null&&!Hv(e)&&e.constructor!==null&&!Hv(e.constructor)&&Pf(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const V9=ZA("ArrayBuffer");function ete(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&V9(e.buffer),t}const tte=oj("string"),Pf=oj("function"),K9=oj("number"),Hb=e=>e!==null&&typeof e=="object",rte=e=>e===!0||e===!1,c5=e=>{if(ij(e)!=="object")return!1;const t=JT(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(z9 in e)&&!(sj in e)},nte=e=>{if(!Hb(e)||Qb(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},ate=ZA("Date"),ste=ZA("File"),ite=ZA("Blob"),ote=ZA("FileList"),lte=e=>Hb(e)&&Pf(e.pipe),cte=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Pf(e.append)&&((t=ij(e))==="formdata"||t==="object"&&Pf(e.toString)&&e.toString()==="[object FormData]"))},ute=ZA("URLSearchParams"),[dte,fte,hte,Ate]=["ReadableStream","Request","Response","Headers"].map(ZA),mte=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $b(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),iy(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Qb(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function q9(e,t){if(Qb(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const bx=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,G9=e=>!Hv(e)&&e!==bx;function IE(){const{caseless:e,skipUndefined:t}=G9(this)&&this||{},r={},n=(s,i)=>{const o=e&&q9(r,i)||i;c5(r[o])&&c5(s)?r[o]=IE(r[o],s):c5(s)?r[o]=IE({},s):iy(s)?r[o]=s.slice():(!t||!Hv(s))&&(r[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&$b(arguments[s],n);return r}const pte=(e,t,r,{allOwnKeys:n}={})=>($b(t,(s,i)=>{r&&Pf(s)?e[i]=$9(s,r):e[i]=s},{allOwnKeys:n}),e),gte=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),xte=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},vte=(e,t,r,n)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&JT(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},yte=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},bte=e=>{if(!e)return null;if(iy(e))return e;let t=e.length;if(!K9(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},wte=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&JT(Uint8Array)),Nte=(e,t)=>{const n=(e&&e[sj]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},jte=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Ste=ZA("HTMLFormElement"),Cte=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),qI=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Ete=ZA("RegExp"),W9=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};$b(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},Bte=e=>{W9(e,(t,r)=>{if(Pf(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Pf(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Tte=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return iy(e)?n(e):n(String(e).split(t)),r},_te=()=>{},Fte=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Ite(e){return!!(e&&Pf(e.append)&&e[z9]==="FormData"&&e[sj])}const kte=e=>{const t=new Array(10),r=(n,s)=>{if(Hb(n)){if(t.indexOf(n)>=0)return;if(Qb(n))return n;if(!("toJSON"in n)){t[s]=n;const i=iy(n)?[]:{};return $b(n,(o,l)=>{const c=r(o,s+1);!Hv(c)&&(i[l]=c)}),t[s]=void 0,i}}return n};return r(e,0)},Pte=ZA("AsyncFunction"),Lte=e=>e&&(Hb(e)||Pf(e))&&Pf(e.then)&&Pf(e.catch),Y9=((e,t)=>e?setImmediate:t?((r,n)=>(bx.addEventListener("message",({source:s,data:i})=>{s===bx&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),bx.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Pf(bx.postMessage)),Ote=typeof queueMicrotask<"u"?queueMicrotask.bind(bx):typeof process<"u"&&process.nextTick||Y9,Dte=e=>e!=null&&Pf(e[sj]),gr={isArray:iy,isArrayBuffer:V9,isBuffer:Qb,isFormData:cte,isArrayBufferView:ete,isString:tte,isNumber:K9,isBoolean:rte,isObject:Hb,isPlainObject:c5,isEmptyObject:nte,isReadableStream:dte,isRequest:fte,isResponse:hte,isHeaders:Ate,isUndefined:Hv,isDate:ate,isFile:ste,isBlob:ite,isRegExp:Ete,isFunction:Pf,isStream:lte,isURLSearchParams:ute,isTypedArray:wte,isFileList:ote,forEach:$b,merge:IE,extend:pte,trim:mte,stripBOM:gte,inherits:xte,toFlatObject:vte,kindOf:ij,kindOfTest:ZA,endsWith:yte,toArray:bte,forEachEntry:Nte,matchAll:jte,isHTMLForm:Ste,hasOwnProperty:qI,hasOwnProp:qI,reduceDescriptors:W9,freezeMethods:Bte,toObjectSet:Tte,toCamelCase:Cte,noop:_te,toFiniteNumber:Fte,findKey:q9,global:bx,isContextDefined:G9,isSpecCompliantForm:Ite,toJSONObject:kte,isAsyncFn:Pte,isThenable:Lte,setImmediate:Y9,asap:Ote,isIterable:Dte};function Wa(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}gr.inherits(Wa,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:gr.toJSONObject(this.config),code:this.code,status:this.status}}});const X9=Wa.prototype,J9={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{J9[e]={value:e}});Object.defineProperties(Wa,J9);Object.defineProperty(X9,"isAxiosError",{value:!0});Wa.from=(e,t,r,n,s,i)=>{const o=Object.create(X9);gr.toFlatObject(e,o,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Wa.call(o,l,c,r,n,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const Mte=null;function kE(e){return gr.isPlainObject(e)||gr.isArray(e)}function Z9(e){return gr.endsWith(e,"[]")?e.slice(0,-2):e}function GI(e,t,r){return e?e.concat(t).map(function(s,i){return s=Z9(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function Ute(e){return gr.isArray(e)&&!e.some(kE)}const Rte=gr.toFlatObject(gr,{},null,function(t){return/^is[A-Z]/.test(t)});function lj(e,t,r){if(!gr.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=gr.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,v){return!gr.isUndefined(v[x])});const n=r.metaTokens,s=r.visitor||u,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&gr.isSpecCompliantForm(t);if(!gr.isFunction(s))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(gr.isDate(y))return y.toISOString();if(gr.isBoolean(y))return y.toString();if(!c&&gr.isBlob(y))throw new Wa("Blob is not supported. Use a Buffer instead.");return gr.isArrayBuffer(y)||gr.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,x,v){let b=y;if(y&&!v&&typeof y=="object"){if(gr.endsWith(x,"{}"))x=n?x:x.slice(0,-2),y=JSON.stringify(y);else if(gr.isArray(y)&&Ute(y)||(gr.isFileList(y)||gr.endsWith(x,"[]"))&&(b=gr.toArray(y)))return x=Z9(x),b.forEach(function(E,T){!(gr.isUndefined(E)||E===null)&&t.append(o===!0?GI([x],T,i):o===null?x:x+"[]",d(E))}),!1}return kE(y)?!0:(t.append(GI(v,x,i),d(y)),!1)}const h=[],m=Object.assign(Rte,{defaultVisitor:u,convertValue:d,isVisitable:kE});function A(y,x){if(!gr.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(y),gr.forEach(y,function(b,j){(!(gr.isUndefined(b)||b===null)&&s.call(t,b,gr.isString(j)?j.trim():j,x,m))===!0&&A(b,x?x.concat(j):[j])}),h.pop()}}if(!gr.isObject(e))throw new TypeError("data must be an object");return A(e),t}function WI(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function ZT(e,t){this._pairs=[],e&&lj(e,this,t)}const eQ=ZT.prototype;eQ.append=function(t,r){this._pairs.push([t,r])};eQ.toString=function(t){const r=t?function(n){return t.call(this,n,WI)}:WI;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function Qte(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function tQ(e,t,r){if(!t)return e;const n=r&&r.encode||Qte;gr.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=gr.isURLSearchParams(t)?t.toString():new ZT(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class YI{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){gr.forEach(this.handlers,function(n){n!==null&&t(n)})}}const rQ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Hte=typeof URLSearchParams<"u"?URLSearchParams:ZT,$te=typeof FormData<"u"?FormData:null,zte=typeof Blob<"u"?Blob:null,Vte={isBrowser:!0,classes:{URLSearchParams:Hte,FormData:$te,Blob:zte},protocols:["http","https","file","blob","url","data"]},e_=typeof window<"u"&&typeof document<"u",PE=typeof navigator=="object"&&navigator||void 0,Kte=e_&&(!PE||["ReactNative","NativeScript","NS"].indexOf(PE.product)<0),qte=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Gte=e_&&window.location.href||"http://localhost",Wte=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:e_,hasStandardBrowserEnv:Kte,hasStandardBrowserWebWorkerEnv:qte,navigator:PE,origin:Gte},Symbol.toStringTag,{value:"Module"})),Fd={...Wte,...Vte};function Yte(e,t){return lj(e,new Fd.classes.URLSearchParams,{visitor:function(r,n,s,i){return Fd.isNode&&gr.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Xte(e){return gr.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Jte(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function nQ(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&gr.isArray(s)?s.length:o,c?(gr.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!gr.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&gr.isArray(s[o])&&(s[o]=Jte(s[o])),!l)}if(gr.isFormData(e)&&gr.isFunction(e.entries)){const r={};return gr.forEachEntry(e,(n,s)=>{t(Xte(n),s,r,0)}),r}return null}function Zte(e,t,r){if(gr.isString(e))try{return(t||JSON.parse)(e),gr.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const zb={transitional:rQ,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=gr.isObject(t);if(i&&gr.isHTMLForm(t)&&(t=new FormData(t)),gr.isFormData(t))return s?JSON.stringify(nQ(t)):t;if(gr.isArrayBuffer(t)||gr.isBuffer(t)||gr.isStream(t)||gr.isFile(t)||gr.isBlob(t)||gr.isReadableStream(t))return t;if(gr.isArrayBufferView(t))return t.buffer;if(gr.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Yte(t,this.formSerializer).toString();if((l=gr.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return lj(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),Zte(t)):t}],transformResponse:[function(t){const r=this.transitional||zb.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(gr.isResponse(t)||gr.isReadableStream(t))return t;if(t&&gr.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Wa.from(l,Wa.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fd.classes.FormData,Blob:Fd.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};gr.forEach(["delete","get","head","post","put","patch"],e=>{zb.headers[e]={}});const ere=gr.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tre=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&ere[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},XI=Symbol("internals");function t2(e){return e&&String(e).trim().toLowerCase()}function u5(e){return e===!1||e==null?e:gr.isArray(e)?e.map(u5):String(e)}function rre(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const nre=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function i3(e,t,r,n,s){if(gr.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!gr.isString(t)){if(gr.isString(n))return t.indexOf(n)!==-1;if(gr.isRegExp(n))return n.test(t)}}function are(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function sre(e,t){const r=gr.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}let Lf=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(l,c,d){const u=t2(c);if(!u)throw new Error("header name must be a non-empty string");const h=gr.findKey(s,u);(!h||s[h]===void 0||d===!0||d===void 0&&s[h]!==!1)&&(s[h||c]=u5(l))}const o=(l,c)=>gr.forEach(l,(d,u)=>i(d,u,c));if(gr.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(gr.isString(t)&&(t=t.trim())&&!nre(t))o(tre(t),r);else if(gr.isObject(t)&&gr.isIterable(t)){let l={},c,d;for(const u of t){if(!gr.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?gr.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=t2(t),t){const n=gr.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return rre(s);if(gr.isFunction(r))return r.call(this,s,n);if(gr.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=t2(t),t){const n=gr.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||i3(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=t2(o),o){const l=gr.findKey(n,o);l&&(!r||i3(n,n[l],l,r))&&(delete n[l],s=!0)}}return gr.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||i3(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return gr.forEach(this,(s,i)=>{const o=gr.findKey(n,i);if(o){r[o]=u5(s),delete r[i];return}const l=t?are(i):String(i).trim();l!==i&&delete r[i],r[l]=u5(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return gr.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&gr.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[XI]=this[XI]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=t2(o);n[l]||(sre(s,o),n[l]=!0)}return gr.isArray(t)?t.forEach(i):i(t),this}};Lf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);gr.reduceDescriptors(Lf.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});gr.freezeMethods(Lf);function o3(e,t){const r=this||zb,n=t||r,s=Lf.from(n.headers);let i=n.data;return gr.forEach(e,function(l){i=l.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function aQ(e){return!!(e&&e.__CANCEL__)}function oy(e,t,r){Wa.call(this,e??"canceled",Wa.ERR_CANCELED,t,r),this.name="CanceledError"}gr.inherits(oy,Wa,{__CANCEL__:!0});function sQ(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Wa("Request failed with status code "+r.status,[Wa.ERR_BAD_REQUEST,Wa.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function ire(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ore(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=n[i];o||(o=d),r[s]=c,n[s]=d;let h=i,m=0;for(;h!==s;)m+=r[h++],h=h%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),d-o<t)return;const A=u&&d-u;return A?Math.round(m*1e3/A):void 0}}function lre(e,t){let r=0,n=1e3/t,s,i;const o=(d,u=Date.now())=>{r=u,s=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),h=u-r;h>=n?o(d,u):(s=d,i||(i=setTimeout(()=>{i=null,o(s)},n-h)))},()=>s&&o(s)]}const k5=(e,t,r=3)=>{let n=0;const s=ore(50,250);return lre(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,d=s(c),u=o<=l;n=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},r)},JI=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},ZI=e=>(...t)=>gr.asap(()=>e(...t)),cre=Fd.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Fd.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Fd.origin),Fd.navigator&&/(msie|trident)/i.test(Fd.navigator.userAgent)):()=>!0,ure=Fd.hasStandardBrowserEnv?{write(e,t,r,n,s,i){const o=[e+"="+encodeURIComponent(t)];gr.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),gr.isString(n)&&o.push("path="+n),gr.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function dre(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function fre(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function iQ(e,t,r){let n=!dre(t);return e&&(n||r==!1)?fre(e,t):t}const ek=e=>e instanceof Lf?{...e}:e;function zx(e,t){t=t||{};const r={};function n(d,u,h,m){return gr.isPlainObject(d)&&gr.isPlainObject(u)?gr.merge.call({caseless:m},d,u):gr.isPlainObject(u)?gr.merge({},u):gr.isArray(u)?u.slice():u}function s(d,u,h,m){if(gr.isUndefined(u)){if(!gr.isUndefined(d))return n(void 0,d,h,m)}else return n(d,u,h,m)}function i(d,u){if(!gr.isUndefined(u))return n(void 0,u)}function o(d,u){if(gr.isUndefined(u)){if(!gr.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function l(d,u,h){if(h in t)return n(d,u);if(h in e)return n(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,h)=>s(ek(d),ek(u),h,!0)};return gr.forEach(Object.keys({...e,...t}),function(u){const h=c[u]||s,m=h(e[u],t[u],u);gr.isUndefined(m)&&h!==l||(r[u]=m)}),r}const oQ=e=>{const t=zx({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Lf.from(o),t.url=tQ(iQ(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),gr.isFormData(r)){if(Fd.hasStandardBrowserEnv||Fd.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(gr.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,h])=>{d.includes(u.toLowerCase())&&o.set(u,h)})}}if(Fd.hasStandardBrowserEnv&&(n&&gr.isFunction(n)&&(n=n(t)),n||n!==!1&&cre(t.url))){const c=s&&i&&ure.read(i);c&&o.set(s,c)}return t},hre=typeof XMLHttpRequest<"u",Are=hre&&function(e){return new Promise(function(r,n){const s=oQ(e);let i=s.data;const o=Lf.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=s,u,h,m,A,y;function x(){A&&A(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function b(){if(!v)return;const E=Lf.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),P={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:E,config:e,request:v};sQ(function(M){r(M),x()},function(M){n(M),x()},P),v=null}"onloadend"in v?v.onloadend=b:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(b)},v.onabort=function(){v&&(n(new Wa("Request aborted",Wa.ECONNABORTED,e,v)),v=null)},v.onerror=function(T){const P=T&&T.message?T.message:"Network Error",U=new Wa(P,Wa.ERR_NETWORK,e,v);U.event=T||null,n(U),v=null},v.ontimeout=function(){let T=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const P=s.transitional||rQ;s.timeoutErrorMessage&&(T=s.timeoutErrorMessage),n(new Wa(T,P.clarifyTimeoutError?Wa.ETIMEDOUT:Wa.ECONNABORTED,e,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&gr.forEach(o.toJSON(),function(T,P){v.setRequestHeader(P,T)}),gr.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),l&&l!=="json"&&(v.responseType=s.responseType),d&&([m,y]=k5(d,!0),v.addEventListener("progress",m)),c&&v.upload&&([h,A]=k5(c),v.upload.addEventListener("progress",h),v.upload.addEventListener("loadend",A)),(s.cancelToken||s.signal)&&(u=E=>{v&&(n(!E||E.type?new oy(null,e,v):E),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const j=ire(s.url);if(j&&Fd.protocols.indexOf(j)===-1){n(new Wa("Unsupported protocol "+j+":",Wa.ERR_BAD_REQUEST,e));return}v.send(i||null)})},mre=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(d){if(!s){s=!0,l();const u=d instanceof Error?d:this.reason;n.abort(u instanceof Wa?u:new oy(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new Wa(`timeout ${t} of ms exceeded`,Wa.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>gr.asap(l),c}},pre=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},gre=async function*(e,t){for await(const r of xre(e))yield*pre(r,t)},xre=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},tk=(e,t,r,n)=>{const s=gre(e,t);let i=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await s.next();if(d){l(),c.close();return}let h=u.byteLength;if(r){let m=i+=h;r(m)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},rk=64*1024,{isFunction:o4}=gr,lQ=(({fetch:e,Request:t,Response:r})=>({fetch:e,Request:t,Response:r}))(gr.global),{ReadableStream:nk,TextEncoder:ak}=gr.global,sk=(e,...t)=>{try{return!!e(...t)}catch{return!1}},vre=e=>{const{fetch:t,Request:r,Response:n}=Object.assign({},lQ,e),s=o4(t),i=o4(r),o=o4(n);if(!s)return!1;const l=s&&o4(nk),c=s&&(typeof ak=="function"?(y=>x=>y.encode(x))(new ak):async y=>new Uint8Array(await new r(y).arrayBuffer())),d=i&&l&&sk(()=>{let y=!1;const x=new r(Fd.origin,{body:new nk,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!x}),u=o&&l&&sk(()=>gr.isReadableStream(new n("").body)),h={stream:u&&(y=>y.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!h[y]&&(h[y]=(x,v)=>{let b=x&&x[y];if(b)return b.call(x);throw new Wa(`Response type '${y}' is not supported`,Wa.ERR_NOT_SUPPORT,v)})});const m=async y=>{if(y==null)return 0;if(gr.isBlob(y))return y.size;if(gr.isSpecCompliantForm(y))return(await new r(Fd.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(gr.isArrayBufferView(y)||gr.isArrayBuffer(y))return y.byteLength;if(gr.isURLSearchParams(y)&&(y=y+""),gr.isString(y))return(await c(y)).byteLength},A=async(y,x)=>{const v=gr.toFiniteNumber(y.getContentLength());return v??m(x)};return async y=>{let{url:x,method:v,data:b,signal:j,cancelToken:E,timeout:T,onDownloadProgress:P,onUploadProgress:U,responseType:M,headers:k,withCredentials:Q="same-origin",fetchOptions:z}=oQ(y);M=M?(M+"").toLowerCase():"text";let O=mre([j,E&&E.toAbortSignal()],T),L=null;const V=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let J;try{if(U&&d&&v!=="get"&&v!=="head"&&(J=await A(k,b))!==0){let fe=new r(x,{method:"POST",body:b,duplex:"half"}),ve;if(gr.isFormData(b)&&(ve=fe.headers.get("content-type"))&&k.setContentType(ve),fe.body){const[B,R]=JI(J,k5(ZI(U)));b=tk(fe.body,rk,B,R)}}gr.isString(Q)||(Q=Q?"include":"omit");const ce=i&&"credentials"in r.prototype,ee={...z,signal:O,method:v.toUpperCase(),headers:k.normalize().toJSON(),body:b,duplex:"half",credentials:ce?Q:void 0};L=i&&new r(x,ee);let de=await(i?t(L,z):t(x,ee));const se=u&&(M==="stream"||M==="response");if(u&&(P||se&&V)){const fe={};["status","statusText","headers"].forEach(Y=>{fe[Y]=de[Y]});const ve=gr.toFiniteNumber(de.headers.get("content-length")),[B,R]=P&&JI(ve,k5(ZI(P),!0))||[];de=new n(tk(de.body,rk,B,()=>{R&&R(),V&&V()}),fe)}M=M||"text";let he=await h[gr.findKey(h,M)||"text"](de,y);return!se&&V&&V(),await new Promise((fe,ve)=>{sQ(fe,ve,{data:he,headers:Lf.from(de.headers),status:de.status,statusText:de.statusText,config:y,request:L})})}catch(ce){throw V&&V(),ce&&ce.name==="TypeError"&&/Load failed|fetch/i.test(ce.message)?Object.assign(new Wa("Network Error",Wa.ERR_NETWORK,y,L),{cause:ce.cause||ce}):Wa.from(ce,ce&&ce.code,y,L)}}},yre=new Map,cQ=e=>{let t=gr.merge.call({skipUndefined:!0},lQ,e?e.env:null);const{fetch:r,Request:n,Response:s}=t,i=[n,s,r];let o=i.length,l=o,c,d,u=yre;for(;l--;)c=i[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:vre(t)),u=d;return d};cQ();const LE={http:Mte,xhr:Are,fetch:{get:cQ}};gr.forEach(LE,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ik=e=>`- ${e}`,bre=e=>gr.isFunction(e)||e===null||e===!1,uQ={getAdapter:(e,t)=>{e=gr.isArray(e)?e:[e];const{length:r}=e;let n,s;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(s=n,!bre(n)&&(s=LE[(l=String(n)).toLowerCase()],s===void 0))throw new Wa(`Unknown adapter '${l}'`);if(s&&(gr.isFunction(s)||(s=s.get(t))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(ik).join(`
`):" "+ik(o[0]):"as no adapter specified";throw new Wa("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:LE};function l3(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new oy(null,e)}function ok(e){return l3(e),e.headers=Lf.from(e.headers),e.data=o3.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),uQ.getAdapter(e.adapter||zb.adapter,e)(e).then(function(n){return l3(e),n.data=o3.call(e,e.transformResponse,n),n.headers=Lf.from(n.headers),n},function(n){return aQ(n)||(l3(e),n&&n.response&&(n.response.data=o3.call(e,e.transformResponse,n.response),n.response.headers=Lf.from(n.response.headers))),Promise.reject(n)})}const dQ="1.12.1",cj={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{cj[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const lk={};cj.transitional=function(t,r,n){function s(i,o){return"[Axios v"+dQ+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new Wa(s(o," has been removed"+(r?" in "+r:"")),Wa.ERR_DEPRECATED);return r&&!lk[o]&&(lk[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};cj.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function wre(e,t,r){if(typeof e!="object")throw new Wa("options must be an object",Wa.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new Wa("option "+i+" must be "+c,Wa.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Wa("Unknown option "+i,Wa.ERR_BAD_OPTION)}}const d5={assertOptions:wre,validators:cj},Bm=d5.validators;let _x=class{constructor(t){this.defaults=t||{},this.interceptors={request:new YI,response:new YI}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=zx(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&d5.assertOptions(n,{silentJSONParsing:Bm.transitional(Bm.boolean),forcedJSONParsing:Bm.transitional(Bm.boolean),clarifyTimeoutError:Bm.transitional(Bm.boolean)},!1),s!=null&&(gr.isFunction(s)?r.paramsSerializer={serialize:s}:d5.assertOptions(s,{encode:Bm.function,serialize:Bm.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),d5.assertOptions(r,{baseUrl:Bm.spelling("baseURL"),withXsrfToken:Bm.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&gr.merge(i.common,i[r.method]);i&&gr.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),r.headers=Lf.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let u,h=0,m;if(!c){const y=[ok.bind(this),void 0];for(y.unshift(...l),y.push(...d),m=y.length,u=Promise.resolve(r);h<m;)u=u.then(y[h++],y[h++]);return u}m=l.length;let A=r;for(h=0;h<m;){const y=l[h++],x=l[h++];try{A=y(A)}catch(v){x.call(this,v);break}}try{u=ok.call(this,A)}catch(y){return Promise.reject(y)}for(h=0,m=d.length;h<m;)u=u.then(d[h++],d[h++]);return u}getUri(t){t=zx(this.defaults,t);const r=iQ(t.baseURL,t.url,t.allowAbsoluteUrls);return tQ(r,t.params,t.paramsSerializer)}};gr.forEach(["delete","get","head","options"],function(t){_x.prototype[t]=function(r,n){return this.request(zx(n||{},{method:t,url:r,data:(n||{}).data}))}});gr.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(zx(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}_x.prototype[t]=r(),_x.prototype[t+"Form"]=r(!0)});let Nre=class fQ{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new oy(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new fQ(function(s){t=s}),cancel:t}}};function jre(e){return function(r){return e.apply(null,r)}}function Sre(e){return gr.isObject(e)&&e.isAxiosError===!0}const OE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(OE).forEach(([e,t])=>{OE[t]=e});function hQ(e){const t=new _x(e),r=$9(_x.prototype.request,t);return gr.extend(r,_x.prototype,t,{allOwnKeys:!0}),gr.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return hQ(zx(e,s))},r}const sr=hQ(zb);sr.Axios=_x;sr.CanceledError=oy;sr.CancelToken=Nre;sr.isCancel=aQ;sr.VERSION=dQ;sr.toFormData=lj;sr.AxiosError=Wa;sr.Cancel=sr.CanceledError;sr.all=function(t){return Promise.all(t)};sr.spread=jre;sr.isAxiosError=Sre;sr.mergeConfig=zx;sr.AxiosHeaders=Lf;sr.formToJSON=e=>nQ(gr.isHTMLForm(e)?new FormData(e):e);sr.getAdapter=uQ.getAdapter;sr.HttpStatusCode=OE;sr.default=sr;const{Axios:VDe,AxiosError:KDe,CanceledError:qDe,isCancel:GDe,CancelToken:WDe,VERSION:YDe,all:XDe,Cancel:JDe,isAxiosError:ZDe,spread:eMe,toFormData:tMe,AxiosHeaders:rMe,HttpStatusCode:nMe,formToJSON:aMe,getAdapter:sMe,mergeConfig:iMe}=sr;function ga(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function ck(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function ip(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function P5(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(e)}function uk(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"},child:[]},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"},child:[]}]})(e)}function og(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(e)}function Ff(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(e)}function Rs(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(e)}function Jn(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function t_(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(e)}function tu(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function r_(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"},child:[]},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},child:[]}]})(e)}function Dl(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function s1(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function fc(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function Al(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function uj(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function es(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function I0(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(e)}function aA(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function xs(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function _u(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(e)}function ed(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function Hi(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function qA(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function Fu(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function DE(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"},child:[]},{tag:"line",attr:{x1:"4",y1:"22",x2:"4",y2:"15"},child:[]}]})(e)}function c3(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"},child:[]}]})(e)}function Pm(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 12 20 22 4 22 4 12"},child:[]},{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"7"},child:[]},{tag:"path",attr:{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"},child:[]},{tag:"path",attr:{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"},child:[]}]})(e)}function L5(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(e)}function ME(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(e)}function Ol(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function Vx(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(e)}function dk(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function Cre(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(e)}function fk(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"},child:[]},{tag:"polyline",attr:{points:"2 17 12 22 22 17"},child:[]},{tag:"polyline",attr:{points:"2 12 12 17 22 12"},child:[]}]})(e)}function an(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(e)}function n_(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function nb(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function Lm(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function Kx(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(e)}function Ere(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"18"},child:[]},{tag:"line",attr:{x1:"16",y1:"6",x2:"16",y2:"22"},child:[]}]})(e)}function a_(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(e)}function u3(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(e)}function Bre(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(e)}function Tre(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function hk(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"3 11 22 2 13 21 11 13 3 11"},child:[]}]})(e)}function af(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function _re(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"},child:[]}]})(e)}function l4(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"5",x2:"5",y2:"19"},child:[]},{tag:"circle",attr:{cx:"6.5",cy:"6.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"17.5",r:"2.5"},child:[]}]})(e)}function GA(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function Si(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function ly(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 6 2 18 2 18 9"},child:[]},{tag:"path",attr:{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"},child:[]},{tag:"rect",attr:{x:"6",y:"14",width:"12",height:"8"},child:[]}]})(e)}function ug(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function td(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(e)}function Va(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function E2(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function Ak(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(e)}function Fre(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function Ire(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(e)}function mk(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(e)}function Om(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(e)}function si(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function tg(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(e)}function rf(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(e)}function kre(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 16 12 12 8 16"},child:[]},{tag:"line",attr:{x1:"12",y1:"12",x2:"12",y2:"21"},child:[]},{tag:"path",attr:{d:"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"},child:[]},{tag:"polyline",attr:{points:"16 16 12 12 8 16"},child:[]}]})(e)}function Pre(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(e)}function Lre(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(e)}function d3(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(e)}function no(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function Ra(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function jv(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(e)}function Lr(e){return Ur({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function Ore(e){return Ur({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M96 0C43 0 0 43 0 96L0 416c0 53 43 96 96 96l288 0 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l0-64c17.7 0 32-14.3 32-32l0-320c0-17.7-14.3-32-32-32L384 0 96 0zm0 384l256 0 0 64L96 448c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16l192 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-192 0c-8.8 0-16-7.2-16-16zm16 48l192 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-192 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"},child:[]}]})(e)}const Dre=()=>{const e=ru(),[t,r]=C.useState(!1),[n,s]=C.useState("School Admin"),[i,o]=C.useState(localStorage.getItem("schoolLogo")||""),l=Dd();console.log(i);const c=localStorage.getItem("color")||"#4f46e5",d=localStorage.getItem("schoolId"),u=localStorage.getItem("token");console.log(d),C.useEffect(()=>{(async()=>{try{const x=await sr.get(`https://vidyaastra.com/api/schools/${d}`,{headers:{Authorization:`Bearer ${u}`}}),v=x.data;s(x.data.data.name),console.log(x)}catch(x){console.error("Error fetching school data:",x),s("School Admin")}})()},[d,u]);const h=[{id:"dashboard",path:"/dashboard",icon:Ol,label:"Dashboard",color:"text-blue-600"},{id:"students",path:"/students",icon:Ra,label:"Students",color:"text-green-600"},{id:"attendance",path:"/attendance",icon:r_,label:"Attendance",color:"text-emerald-600"},{id:"fees",path:"/fees",icon:FE,label:"Fees",color:"text-yellow-600"},{id:"result",path:"/result",icon:Jee,label:"Results",color:"text-yellow-600"},{id:"subject",path:"/subject",icon:Ore,label:"subject",color:"text-yellow-600"},{id:"class",path:"/classManagement",icon:Mee,label:"Class",color:"text-blue-600"},{id:"timetable",path:"/timetable",icon:Jn,label:"Time Table",color:"text-indigo-600"},{id:"exams",path:"/exams",icon:P5,label:"Exams",color:"text-red-600"},{id:"Home work",path:"/assignments",icon:ed,label:"Home work",color:"text-orange-600"},{id:"teachercreate",path:"/teachercreate",icon:qA,label:"Teacher Create",color:"text-teal-600"},{id:"teachers",path:"/teachers",icon:no,label:"Teachers",color:"text-purple-600"},{id:"transport",path:"/transport",icon:rf,label:"Transport",color:"text-cyan-600"},{id:"circular",path:"/circular",icon:og,label:"Circular",color:"text-rose-600"},{id:"events",path:"/events",icon:Om,label:"Events",color:"text-pink-600"},{id:"birthday",path:"/birthday",icon:Pm,label:"Birthday",color:"text-amber-600"},{id:"gallery",path:"/gallery",icon:t_,label:"Gallery",color:"text-blue-500"},{id:"holiday",path:"/holiday",icon:Jn,label:"Holiday",color:"text-sky-600"},{id:"uniform",path:"/uniform",icon:Ire,label:"Uniform",color:"text-emerald-700"},{id:"books",path:"/books",icon:Ff,label:"Books",color:"text-cyan-600"},{id:"orders",path:"/orders",icon:af,label:"Orders",color:"text-orange-600"}],m=()=>{r(!t)},A=()=>{localStorage.removeItem("token"),localStorage.removeItem("schoolId"),localStorage.removeItem("schoolCode"),localStorage.removeItem("color"),localStorage.removeItem("schoolLogo"),e("/login")};return a.jsxs("div",{className:`shadow-xl transition-all duration-700 ease-in-out ${t?"w-22":"w-76"} h-screen sticky top-0 flex flex-col bg-white`,children:[a.jsx("div",{className:"p-6 border-b border-gray-100 flex-shrink-0",style:{backgroundColor:c},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:`flex items-center space-x-3 transition-all duration-700 ease-in-out ${t?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:[a.jsx("img",{src:`${i}`,alt:"School Logo",className:"w-12 h-12 rounded-xl object-contain shadow-lg",style:{backgroundColor:"white"}}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-xl font-bold text-white",children:[n," "]}),a.jsx("p",{className:"text-xs text-white font-medium",children:"Admin Panel"})]})]}),a.jsx("button",{onClick:m,className:"p-3 rounded-xl hover:bg-gray-100 active:bg-gray-200 transition-all duration-300 ease-in-out group transform hover:scale-110 active:scale-95 hover:rotate-3",style:{backgroundColor:"rgba(255, 255, 255, 0.2)"},children:a.jsxs("div",{className:"relative w-5 h-5",children:[a.jsx(a_,{className:`absolute w-5 h-5 text-white transition-all duration-500 ease-in-out transform ${t?"opacity-100 rotate-0 scale-100":"opacity-0 rotate-180 scale-75"}`}),a.jsx(Lr,{className:`absolute w-5 h-5 text-white transition-all duration-500 ease-in-out transform ${t?"opacity-0 rotate-180 scale-75":"opacity-100 rotate-0 scale-100"}`})]})})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden py-4 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100 hover:scrollbar-thumb-gray-400",children:[a.jsx("nav",{className:"px-4",children:a.jsx("ul",{className:"space-y-2",children:h.map(y=>{const x=y.icon,v=l.pathname===y.path||l.pathname==="/"&&y.path==="/dashboard";return a.jsx("li",{children:a.jsxs(cl,{to:y.path,className:`w-full flex items-center space-x-3 p-3 rounded-xl transition-all duration-300 ease-in-out group ${v?"text-white shadow-lg transform scale-105":"hover:bg-gray-50 text-gray-700 hover:shadow-md hover:scale-102"}`,style:v?{backgroundColor:c}:{},children:[a.jsx(x,{className:`w-5 h-5 flex-shrink-0 ${v?"text-white":`${y.color} group-hover:scale-110`} transition-all duration-300 ease-in-out`}),a.jsx("span",{className:`font-medium transition-all duration-700 ease-in-out ${v?"text-white":"text-gray-700 group-hover:text-gray-900"} ${t?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:y.label}),v&&!t&&a.jsx("div",{className:"ml-auto w-2 h-2 bg-white rounded-full animate-pulse flex-shrink-0"})]})},y.id)})})}),a.jsx("div",{className:"px-4 pb-4 flex-shrink-0",children:a.jsxs("button",{onClick:A,className:"w-full flex items-center space-x-3 p-3 rounded-xl transition-all duration-300 ease-in-out group hover:bg-red-50 text-red-600 hover:shadow-md hover:scale-102",children:[a.jsx(nb,{className:"w-5 h-5 flex-shrink-0 text-red-600 group-hover:scale-110 transition-all duration-300 ease-in-out"}),a.jsx("span",{className:`font-medium transition-all duration-700 ease-in-out text-red-600 group-hover:text-red-700 ${t?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:"Logout"})]})})]})]})},s_=C.createContext(),Mre=({children:e})=>{const[t,r]=C.useState(null),[n,s]=C.useState(!0),[i,o]=C.useState(null);C.useEffect(()=>{(async()=>{const m=localStorage.getItem("superadmin_token"),A=localStorage.getItem("superadmin_user");if(m&&A)try{const y=JSON.parse(A);r(y)}catch{d()}s(!1)})()},[]);const l=async(h,m)=>{try{const A=await sr.post("https://vidyaastra.com/api/superadmin/login",{email:h,password:m});if(A.data.success){const y={id:A.data.data.id,email:A.data.data.email,role:"superadmin",token:A.data.token};return r(y),localStorage.setItem("superadmin_token",A.data.token),localStorage.setItem("superadmin_user",JSON.stringify(y)),!0}return!1}catch(A){return o(A.response?.data?.message||"Login failed"),!1}},c=()=>(d(),!0),d=()=>{r(null),o(null),localStorage.removeItem("superadmin_token"),localStorage.removeItem("superadmin_user")},u={user:t,loading:n,error:i,login:l,logout:c};return a.jsx(s_.Provider,{value:u,children:!n&&e})},AQ=()=>{const e=C.useContext(s_);if(e===void 0)throw new Error("useAuth must be used within a SuperAdminAuthProvider");return e},Ure=()=>{const e=C.useContext(s_);if(!e)throw new Error("useAuth must be used within a SuperAdminAuthProvider");return e},cy="/assets/parnets1-8a6NRplW.jpeg",Rre=()=>{const[e,t]=C.useState(!1),r=Dd(),{user:n,logout:s}=Ure(),i=ru(),o=[{id:"dashboard",path:"/admin/dashboard",icon:Ol,label:"Dashboard",color:"text-[#F37021]"},{id:"school",path:"/admin/school",icon:Ol,label:"School",color:"text-[#F37021]"},{id:"students",path:"/admin/students",icon:Ra,label:"Students",color:"text-[#F37021]"},{id:"attendance",path:"/admin/attendance",icon:r_,label:"Attendance",color:"text-[#F37021]"},{id:"fees",path:"/admin/fees",icon:aA,label:"Fees",color:"text-[#F37021]"},{id:"timetable",path:"/admin/timetable",icon:Jn,label:"Time Table",color:"text-[#F37021]"},{id:"exams",path:"/admin/exams",icon:qA,label:"Exams",color:"text-[#F37021]"},{id:"exam-timetable",path:"/admin/exam-timetable",icon:Jn,label:"Exam Timetable",color:"text-[#F37021]"},{id:"library",path:"/admin/library",icon:Ff,label:"Library",color:"text-[#F37021]"},{id:"teachers",path:"/admin/teachers",icon:no,label:"Teachers",color:"text-[#F37021]"},{id:"circular",path:"/admin/circular",icon:og,label:"Circular",color:"text-[#F37021]"},{id:"transport",path:"/admin/transport",icon:rf,label:"Transport",color:"text-[#F37021]"},{id:"events",path:"/admin/events",icon:Om,label:"Events",color:"text-[#F37021]"},{id:"birthday",path:"/admin/birthday",icon:Om,label:"Birthday",color:"text-[#F37021]"},{id:"gallery",path:"/admin/gallery",icon:qA,label:"Gallery",color:"text-[#F37021]"},{id:"holiday",path:"/admin/holiday",icon:Om,label:"Holiday",color:"text-[#F37021]"},{id:"uniform",path:"/admin/uniform",icon:Om,label:"uniform",color:"text-[#F37021]"},{id:"books",path:"/admin/books",icon:rf,label:"Books",color:"text-[#F37021]"},{id:"Enquiry",path:"/admin/enquires-management",icon:rf,label:"Enquiry Management",color:"text-[#F37021]"},{id:"PriceManagement",path:"/admin/PriceManagement",icon:E2,label:"Price Management",color:"text-[#F37021]"}],l=()=>{t(!e)},c=()=>{s(),i("/superadmin-login")};return a.jsxs("div",{className:`bg-white shadow-xl transition-all duration-500 ease-in-out ${e?"w-20":"w-72"} h-screen sticky top-0 flex flex-col`,style:{margin:0,padding:0,left:0},children:[a.jsx("div",{className:"p-4 border-b border-[#1C1444]/10 flex-shrink-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:`flex items-center space-x-3 transition-all duration-500 ease-in-out ${e?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:[a.jsx("div",{className:"w-20 h-14  rounded-xl flex items-center justify-center shadow-md",children:a.jsx("img",{src:cy,alt:"Logo",className:"h-10 object-contain"})}),a.jsx("div",{children:a.jsx("h1",{className:"text-xl font-bold text-[#1C1444] tracking-tight",children:"Super Admin Panel"})})]}),a.jsx("button",{onClick:l,className:"p-2 rounded-xl hover:bg-[#1C1444]/10 transition-all duration-300 ease-in-out group transform hover:scale-110",title:e?"Expand Sidebar":"Collapse Sidebar",children:a.jsxs("div",{className:"relative w-5 h-5",children:[a.jsx(a_,{className:`absolute w-5 h-5 text-[#1C1444] group-hover:text-[#F37021] transition-all duration-300 ease-in-out transform ${e?"opacity-100 rotate-0 scale-100":"opacity-0 rotate-180 scale-75"}`}),a.jsx(Lr,{className:`absolute w-5 h-5 text-[#1C1444] group-hover:text-[#F37021] transition-all duration-300 ease-in-out transform ${e?"opacity-0 rotate-180 scale-75":"opacity-100 rotate-0 scale-100"}`})]})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden py-4 scrollbar-thin scrollbar-thumb-[#1C1444]/20 scrollbar-track-transparent hover:scrollbar-thumb-[#1C1444]/40",children:a.jsx("nav",{className:"px-3",children:a.jsx("ul",{className:"space-y-1",children:o.map(d=>{const u=d.icon,h=r.pathname===d.path||r.pathname==="/"&&d.path==="/dashboard";return a.jsx("li",{children:a.jsxs(cl,{to:d.path,className:`w-full flex items-center space-x-3 p-3 rounded-xl transition-all duration-300 ease-in-out group ${h?"bg-[#F37021] text-white shadow-md":"hover:bg-[#1C1444]/10 text-[#1C1444] hover:shadow-sm"}`,title:e?d.label:"",children:[a.jsx(u,{className:`w-5 h-5 flex-shrink-0 ${h?"text-white":`${d.color} group-hover:scale-110`} transition-all duration-300 ease-in-out`}),a.jsx("span",{className:`font-medium text-sm transition-all duration-500 ease-in-out ${h?"text-white":"text-[#1C1444] group-hover:text-[#F37021]"} ${e?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:d.label}),h&&!e&&a.jsx("div",{className:"ml-auto w-2 h-2 bg-white rounded-full animate-pulse flex-shrink-0"})]})},d.id)})})})}),a.jsxs("div",{className:"border-t border-[#1C1444]/10 flex-shrink-0",children:[a.jsx("div",{className:`transition-all duration-500 ease-in-out ${e?"opacity-0 scale-95 pointer-events-none h-0":"opacity-100 scale-100 h-auto p-4"}`,children:a.jsxs("div",{className:"bg-[#1C1444] rounded-xl p-4 text-white shadow-md",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:a.jsx("span",{className:"text-sm font-bold text-[#F37021]",children:n?.name?.split(" ").map(d=>d[0]).join("")||"SA"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold text-sm text-white",children:n?.name||"Super Admin"}),a.jsx("p",{className:"text-xs text-white/80",children:n?.email||"superadmin@school.com"})]})]}),a.jsxs("button",{onClick:c,className:"w-full flex items-center justify-center space-x-2 p-2 bg-[#F37021] hover:bg-[#d55f1c] rounded-lg transition-all duration-200 ease-in-out",children:[a.jsx(nb,{className:"w-4 h-4 text-white"}),a.jsx("span",{className:"text-sm font-medium text-white",children:"Logout"})]})]})}),a.jsx("div",{className:`transition-all duration-500 ease-in-out p-4 ${e?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none h-0"}`,children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"w-12 h-12 bg-[#1C1444] rounded-xl flex items-center justify-center shadow-md hover:scale-105 transition-transform duration-200",children:a.jsx("span",{className:"text-white font-bold text-sm",children:n?.name?.split(" ").map(d=>d[0]).join("")||"SA"})}),a.jsx("button",{onClick:c,className:"p-3 rounded-xl hover:bg-[#1C1444]/10 transition-all duration-200 ease-in-out text-[#F37021] hover:text-[#d55f1c]",title:"Logout",children:a.jsx(nb,{className:"w-5 h-5"})})]})})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var O5={};O5.version="0.18.5";var mQ=1252,Qre=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],pQ=function(e){Qre.indexOf(e)!=-1&&(mQ=e)};function Hre(){pQ(1252)}var ab=function(e){pQ(e)};function $re(){ab(1200),Hre()}var c4=function(t){return String.fromCharCode(t)},pk=function(t){return String.fromCharCode(t)},D5,rg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function sb(e){for(var t="",r=0,n=0,s=0,i=0,o=0,l=0,c=0,d=0;d<e.length;)r=e.charCodeAt(d++),i=r>>2,n=e.charCodeAt(d++),o=(r&3)<<4|n>>4,s=e.charCodeAt(d++),l=(n&15)<<2|s>>6,c=s&63,isNaN(n)?l=c=64:isNaN(s)&&(c=64),t+=rg.charAt(i)+rg.charAt(o)+rg.charAt(l)+rg.charAt(c);return t}function G0(e){var t="",r=0,n=0,s=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=rg.indexOf(e.charAt(d++)),o=rg.indexOf(e.charAt(d++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=rg.indexOf(e.charAt(d++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=rg.indexOf(e.charAt(d++)),s=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(s));return t}var hi=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),op=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function qx(e){return hi?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function gk(e){return hi?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var HA=function(t){return hi?op(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function dj(e){if(typeof ArrayBuffer>"u")return HA(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Vb(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function zre(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Xu=hi?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:op(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),s=0;for(t=0,r=0;t<e.length;r+=s,++t)if(s=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Vre(e){for(var t=[],r=0,n=e.length+250,s=qx(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)s[r++]=o;else if(o<2048)s[r++]=192|o>>6&31,s[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;s[r++]=240|o>>8&7,s[r++]=128|o>>2&63,s[r++]=128|l>>6&15|(o&3)<<4,s[r++]=128|l&63}else s[r++]=224|o>>12&15,s[r++]=128|o>>6&63,s[r++]=128|o&63;r>n&&(t.push(s.slice(0,r)),r=0,s=qx(65535),n=65530)}return t.push(s.slice(0,r)),Xu(t)}var B2=/\u0000/g,u4=/[\u0001-\u0006]/g;function Sv(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function VA(e,t){var r=""+e;return r.length>=t?r:Ll("0",t-r.length)+r}function i_(e,t){var r=""+e;return r.length>=t?r:Ll(" ",t-r.length)+r}function M5(e,t){var r=""+e;return r.length>=t?r:r+Ll(" ",t-r.length)}function Kre(e,t){var r=""+Math.round(e);return r.length>=t?r:Ll("0",t-r.length)+r}function qre(e,t){var r=""+e;return r.length>=t?r:Ll("0",t-r.length)+r}var xk=Math.pow(2,32);function G1(e,t){if(e>xk||e<-xk)return Kre(e,t);var r=Math.round(e);return qre(r,t)}function U5(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var vk=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],f3=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Gre(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Ml={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},yk={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Wre={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function R5(e,t,r){for(var n=e<0?-1:1,s=e*n,i=0,o=1,l=0,c=1,d=0,u=0,h=Math.floor(s);d<t&&(h=Math.floor(s),l=h*o+i,u=h*d+c,!(s-h<5e-8));)s=1/(s-h),i=o,o=l,c=d,d=u;if(u>t&&(d>t?(u=c,l=i):(u=d,l=o)),!r)return[0,n*l,u];var m=Math.floor(n*l/u);return[m,n*l-m*u,u]}function d4(e,t,r){if(e>2958465||e<0)return null;var n=e|0,s=Math.floor(86400*(e-n)),i=0,o=[],l={D:n,T:s,u:86400*(e-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++s==86400&&(l.T=s=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=rne(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=s%60,s=Math.floor(s/60),l.M=s%60,s=Math.floor(s/60),l.H=s,l.q=i,l}var gQ=new Date(1899,11,31,0,0,0),Yre=gQ.getTime(),Xre=new Date(1900,2,1,0,0,0);function xQ(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Xre&&(r+=1440*60*1e3),(r-(Yre+(e.getTimezoneOffset()-gQ.getTimezoneOffset())*6e4))/(1440*60*1e3)}function o_(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Jre(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Zre(e){var t=e<0?12:11,r=o_(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function ene(e){var t=o_(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function tne(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Zre(e):t===10?r=e.toFixed(10).substr(0,12):r=ene(e),o_(Jre(r.toUpperCase()))}function UE(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):tne(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return dg(14,xQ(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function rne(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function nne(e,t,r,n){var s="",i=0,o=0,l=r.y,c,d=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,d=2;break;default:c=l%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,d=t.length;break;case 3:return f3[r.m-1][1];case 5:return f3[r.m-1][0];default:return f3[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,d=t.length;break;case 3:return vk[r.q][0];default:return vk[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?VA(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(s=VA(i,2+n),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:c=l,d=1;break}var u=d>0?VA(c,d):"";return u}function ng(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var vQ=/%/g;function ane(e,t,r){var n=t.replace(vQ,""),s=t.length-n.length;return Q0(e,n,r*Math.pow(10,2*s))+Ll("%",s)}function sne(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Q0(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function yQ(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+yQ(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(s+i)%s)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var bQ=/# (\?+)( ?)\/( ?)(\d+)/;function ine(e,t,r){var n=parseInt(e[4],10),s=Math.round(t*n),i=Math.floor(s/n),o=s-i*n,l=n;return r+(i===0?"":""+i)+" "+(o===0?Ll(" ",e[1].length+1+e[4].length):i_(o,e[1].length)+e[2]+"/"+e[3]+VA(l,e[4].length))}function one(e,t,r){return r+(t===0?"":""+t)+Ll(" ",e[1].length+2+e[4].length)}var wQ=/^#*0*\.([0#]+)/,NQ=/\).*[0#]/,jQ=/\(###\) ###\\?-####/;function ef(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function bk(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function wk(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function lne(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function cne(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function eA(e,t,r){if(e.charCodeAt(0)===40&&!t.match(NQ)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?eA("n",n,r):"("+eA("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return sne(e,t,r);if(t.indexOf("%")!==-1)return ane(e,t,r);if(t.indexOf("E")!==-1)return yQ(t,r);if(t.charCodeAt(0)===36)return"$"+eA(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+G1(c,t.length);if(t.match(/^[#?]+$/))return s=G1(r,0),s==="0"&&(s=""),s.length>t.length?s:ef(t.substr(0,t.length-s.length))+s;if(i=t.match(bQ))return ine(i,c,d);if(t.match(/^#+0+$/))return d+G1(c,t.length-t.indexOf("0"));if(i=t.match(wQ))return s=bk(r,i[1].length).replace(/^([^\.]+)$/,"$1."+ef(i[1])).replace(/\.$/,"."+ef(i[1])).replace(/\.(\d*)$/,function(y,x){return"."+x+Ll("0",ef(i[1]).length-x.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+bk(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+ng(G1(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+eA(e,t,-r):ng(""+(Math.floor(r)+lne(r,i[1].length)))+"."+VA(wk(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return eA(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Sv(eA(e,t.replace(/[\\-]/g,""),r)),o=0,Sv(Sv(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<s.length?s.charAt(o++):y==="0"?"0":""}));if(t.match(jQ))return s=eA(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=R5(c,Math.pow(10,o)-1,!1),s=""+d,u=Q0("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),s+=u+i[2]+"/"+i[3],u=M5(l[2],o),u.length<i[4].length&&(u=ef(i[4].substr(i[4].length-u.length))+u),s+=u,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=R5(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?i_(l[1],o)+i[2]+"/"+i[3]+M5(l[2],o):Ll(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=G1(r,0),t.length<=s.length?s:ef(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var h=t.indexOf(".")-o,m=t.length-s.length-h;return ef(t.substr(0,h)+s+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=wk(r,i[1].length),r<0?"-"+eA(e,t,-r):ng(cne(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?VA(0,3-y.length):"")+y})+"."+VA(o,i[1].length);switch(t){case"###,##0.00":return eA(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var A=ng(G1(c,0));return A!=="0"?d+A:"";case"###,###.00":return eA(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return eA(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function une(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Q0(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function dne(e,t,r){var n=t.replace(vQ,""),s=t.length-n.length;return Q0(e,n,r*Math.pow(10,2*s))+Ll("%",s)}function SQ(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+SQ(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(s+i)%s)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function _m(e,t,r){if(e.charCodeAt(0)===40&&!t.match(NQ)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?_m("n",n,r):"("+_m("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return une(e,t,r);if(t.indexOf("%")!==-1)return dne(e,t,r);if(t.indexOf("E")!==-1)return SQ(t,r);if(t.charCodeAt(0)===36)return"$"+_m(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+VA(c,t.length);if(t.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>t.length?s:ef(t.substr(0,t.length-s.length))+s;if(i=t.match(bQ))return one(i,c,d);if(t.match(/^#+0+$/))return d+VA(c,t.length-t.indexOf("0"));if(i=t.match(wQ))return s=(""+r).replace(/^([^\.]+)$/,"$1."+ef(i[1])).replace(/\.$/,"."+ef(i[1])),s=s.replace(/\.(\d*)$/,function(y,x){return"."+x+Ll("0",ef(i[1]).length-x.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+ng(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+_m(e,t,-r):ng(""+r)+"."+Ll("0",i[1].length);if(i=t.match(/^#,#*,#0/))return _m(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Sv(_m(e,t.replace(/[\\-]/g,""),r)),o=0,Sv(Sv(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<s.length?s.charAt(o++):y==="0"?"0":""}));if(t.match(jQ))return s=_m(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=R5(c,Math.pow(10,o)-1,!1),s=""+d,u=Q0("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),s+=u+i[2]+"/"+i[3],u=M5(l[2],o),u.length<i[4].length&&(u=ef(i[4].substr(i[4].length-u.length))+u),s+=u,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=R5(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?i_(l[1],o)+i[2]+"/"+i[3]+M5(l[2],o):Ll(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=""+r,t.length<=s.length?s:ef(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var h=t.indexOf(".")-o,m=t.length-s.length-h;return ef(t.substr(0,h)+s+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+_m(e,t,-r):ng(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?VA(0,3-y.length):"")+y})+"."+VA(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var A=ng(""+c);return A!=="0"?d+A:"";default:if(t.match(/\.[0#?]*$/))return _m(e,t.slice(0,t.lastIndexOf(".")),r)+ef(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Q0(e,t,r){return(r|0)===r?_m(e,t,r):eA(e,t,r)}function fne(e){for(var t=[],r=!1,n=0,s=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(s,n-s),s=n+1}if(t[t.length]=e.substr(s),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var CQ=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function EQ(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":U5(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(CQ))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function hne(e,t,r,n){for(var s=[],i="",o=0,l="",c="t",d,u,h,m="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!U5(e,o))throw new Error("unrecognized character "+l+" in "+e);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(h=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(h);s[s.length]={t:"t",v:i},++o;break;case"\\":var A=e.charAt(++o),y=A==="("||A===")"?A:"t";s[s.length]={t:y,v:A},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(d==null&&(d=d4(t,r,e.charAt(o+1)==="2"),d==null))return"";s[s.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=d4(t,r),d==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),s[s.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var x={t:l,v:l};if(d==null&&(d=d4(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(x.v=d.H>=12?"P":"A"),x.t="T",m="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(x.v=d.H>=12?"PM":"AM"),x.t="T",o+=5,m="h"):e.substr(o,5).toUpperCase()==="/"?(d!=null&&(x.v=d.H>=12?"":""),x.t="T",o+=5,m="h"):(x.t="t",++o),d==null&&x.t==="T")return"";s[s.length]=x,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(CQ)){if(d==null&&(d=d4(t,r),d==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",EQ(e)||(s[s.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;s[s.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;s[s.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:l,v:l},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);s[s.length]={t:"t",v:l},++o;break}var v=0,b=0,j;for(o=s.length-1,c="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=m,c="h",v<1&&(v=1);break;case"s":(j=s[o].v.match(/\.0+$/))&&(b=Math.max(b,j[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=s[o].t;break;case"m":c==="s"&&(s[o].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&s[o].v.match(/[Hh]/)&&(v=1),v<2&&s[o].v.match(/[Mm]/)&&(v=2),v<3&&s[o].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var E="",T;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=nne(s[o].t.charCodeAt(0),s[o].v,d,b),s[o].t="t";break;case"n":case"?":for(T=o+1;s[T]!=null&&((l=s[T].t)==="?"||l==="D"||(l===" "||l==="t")&&s[T+1]!=null&&(s[T+1].t==="?"||s[T+1].t==="t"&&s[T+1].v==="/")||s[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(s[T].v==="/"||s[T].v===" "&&s[T+1]!=null&&s[T+1].t=="?"));)s[o].v+=s[T].v,s[T]={v:"",t:";"},++T;E+=s[o].v,o=T-1;break;case"G":s[o].t="t",s[o].v=UE(t,r);break}var P="",U,M;if(E.length>0){E.charCodeAt(0)==40?(U=t<0&&E.charCodeAt(0)===45?-t:t,M=Q0("n",E,U)):(U=t<0&&n>1?-t:t,M=Q0("n",E,U),U<0&&s[0]&&s[0].t=="t"&&(M=M.substr(1),s[0].v="-"+s[0].v)),T=M.length-1;var k=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){k=o;break}var Q=s.length;if(k===s.length&&M.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(T>=s[o].v.length-1?(T-=s[o].v.length,s[o].v=M.substr(T+1,s[o].v.length)):T<0?s[o].v="":(s[o].v=M.substr(0,T+1),T=-1),s[o].t="t",Q=o);T>=0&&Q<s.length&&(s[Q].v=M.substr(0,T+1)+s[Q].v)}else if(k!==s.length&&M.indexOf("E")===-1){for(T=M.indexOf(".")-1,o=k;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(u=s[o].v.indexOf(".")>-1&&o===k?s[o].v.indexOf(".")-1:s[o].v.length-1,P=s[o].v.substr(u+1);u>=0;--u)T>=0&&(s[o].v.charAt(u)==="0"||s[o].v.charAt(u)==="#")&&(P=M.charAt(T--)+P);s[o].v=P,s[o].t="t",Q=o}for(T>=0&&Q<s.length&&(s[Q].v=M.substr(0,T+1)+s[Q].v),T=M.indexOf(".")+1,o=k;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==k)){for(u=s[o].v.indexOf(".")>-1&&o===k?s[o].v.indexOf(".")+1:0,P=s[o].v.substr(0,u);u<s[o].v.length;++u)T<M.length&&(P+=M.charAt(T++));s[o].v=P,s[o].t="t",Q=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(U=n>1&&t<0&&o>0&&s[o-1].v==="-"?-t:t,s[o].v=Q0(s[o].t,s[o].v,U),s[o].t="t");var z="";for(o=0;o!==s.length;++o)s[o]!=null&&(z+=s[o].v);return z}var Nk=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function jk(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Ane(e,t){var r=fne(e),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(Nk),l=r[1].match(Nk);return jk(t,o)?[n,r[0]]:jk(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,i]}function dg(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Ml)[e],n==null&&(n=r.table&&r.table[yk[e]]||Ml[yk[e]]),n==null&&(n=Wre[e]||"General");break}if(U5(n,0))return UE(t,r);t instanceof Date&&(t=xQ(t,r.date1904));var s=Ane(n,t);if(U5(s[1]))return UE(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return hne(s[1],t,r,s[0])}function BQ(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Ml[r]==null){t<0&&(t=r);continue}if(Ml[r]==e){t=r;break}}t<0&&(t=391)}return Ml[t]=e,t}function fj(e){for(var t=0;t!=392;++t)e[t]!==void 0&&BQ(e[t],t)}function hj(){Ml=Gre()}var TQ=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function mne(e){var t=typeof e=="number"?Ml[e]:e;return t=t.replace(TQ,"(\\d+)"),new RegExp("^"+t+"$")}function pne(e,t,r){var n=-1,s=-1,i=-1,o=-1,l=-1,c=-1;(t.match(TQ)||[]).forEach(function(h,m){var A=parseInt(r[m+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=A;break;case"d":i=A;break;case"h":o=A;break;case"s":c=A;break;case"m":o>=0?l=A:s=A;break}}),c>=0&&l==-1&&s>=0&&(l=s,s=-1);var d=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?d:n==-1&&s==-1&&i==-1?u:d+"T"+u}var gne=(function(){var e={};e.version="1.2.0";function t(){for(var M=0,k=new Array(256),Q=0;Q!=256;++Q)M=Q,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,k[Q]=M;return typeof Int32Array<"u"?new Int32Array(k):k}var r=t();function n(M){var k=0,Q=0,z=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(z=0;z!=256;++z)O[z]=M[z];for(z=0;z!=256;++z)for(Q=M[z],k=256+z;k<4096;k+=256)Q=O[k]=Q>>>8^M[Q&255];var L=[];for(z=1;z!=16;++z)L[z-1]=typeof Int32Array<"u"?O.subarray(z*256,z*256+256):O.slice(z*256,z*256+256);return L}var s=n(r),i=s[0],o=s[1],l=s[2],c=s[3],d=s[4],u=s[5],h=s[6],m=s[7],A=s[8],y=s[9],x=s[10],v=s[11],b=s[12],j=s[13],E=s[14];function T(M,k){for(var Q=k^-1,z=0,O=M.length;z<O;)Q=Q>>>8^r[(Q^M.charCodeAt(z++))&255];return~Q}function P(M,k){for(var Q=k^-1,z=M.length-15,O=0;O<z;)Q=E[M[O++]^Q&255]^j[M[O++]^Q>>8&255]^b[M[O++]^Q>>16&255]^v[M[O++]^Q>>>24]^x[M[O++]]^y[M[O++]]^A[M[O++]]^m[M[O++]]^h[M[O++]]^u[M[O++]]^d[M[O++]]^c[M[O++]]^l[M[O++]]^o[M[O++]]^i[M[O++]]^r[M[O++]];for(z+=15;O<z;)Q=Q>>>8^r[(Q^M[O++])&255];return~Q}function U(M,k){for(var Q=k^-1,z=0,O=M.length,L=0,V=0;z<O;)L=M.charCodeAt(z++),L<128?Q=Q>>>8^r[(Q^L)&255]:L<2048?(Q=Q>>>8^r[(Q^(192|L>>6&31))&255],Q=Q>>>8^r[(Q^(128|L&63))&255]):L>=55296&&L<57344?(L=(L&1023)+64,V=M.charCodeAt(z++)&1023,Q=Q>>>8^r[(Q^(240|L>>8&7))&255],Q=Q>>>8^r[(Q^(128|L>>2&63))&255],Q=Q>>>8^r[(Q^(128|V>>6&15|(L&3)<<4))&255],Q=Q>>>8^r[(Q^(128|V&63))&255]):(Q=Q>>>8^r[(Q^(224|L>>12&15))&255],Q=Q>>>8^r[(Q^(128|L>>6&63))&255],Q=Q>>>8^r[(Q^(128|L&63))&255]);return~Q}return e.table=r,e.bstr=T,e.buf=P,e.str=U,e})(),ro=(function(){var t={};t.version="1.2.1";function r($e,pt){for(var ft=$e.split("/"),mt=pt.split("/"),Re=0,Ee=0,ht=Math.min(ft.length,mt.length);Re<ht;++Re){if(Ee=ft[Re].length-mt[Re].length)return Ee;if(ft[Re]!=mt[Re])return ft[Re]<mt[Re]?-1:1}return ft.length-mt.length}function n($e){if($e.charAt($e.length-1)=="/")return $e.slice(0,-1).indexOf("/")===-1?$e:n($e.slice(0,-1));var pt=$e.lastIndexOf("/");return pt===-1?$e:$e.slice(0,pt+1)}function s($e){if($e.charAt($e.length-1)=="/")return s($e.slice(0,-1));var pt=$e.lastIndexOf("/");return pt===-1?$e:$e.slice(pt+1)}function i($e,pt){typeof pt=="string"&&(pt=new Date(pt));var ft=pt.getHours();ft=ft<<6|pt.getMinutes(),ft=ft<<5|pt.getSeconds()>>>1,$e.write_shift(2,ft);var mt=pt.getFullYear()-1980;mt=mt<<4|pt.getMonth()+1,mt=mt<<5|pt.getDate(),$e.write_shift(2,mt)}function o($e){var pt=$e.read_shift(2)&65535,ft=$e.read_shift(2)&65535,mt=new Date,Re=ft&31;ft>>>=5;var Ee=ft&15;ft>>>=4,mt.setMilliseconds(0),mt.setFullYear(ft+1980),mt.setMonth(Ee-1),mt.setDate(Re);var ht=pt&31;pt>>>=5;var nt=pt&63;return pt>>>=6,mt.setHours(pt),mt.setMinutes(nt),mt.setSeconds(ht<<1),mt}function l($e){gh($e,0);for(var pt={},ft=0;$e.l<=$e.length-4;){var mt=$e.read_shift(2),Re=$e.read_shift(2),Ee=$e.l+Re,ht={};switch(mt){case 21589:ft=$e.read_shift(1),ft&1&&(ht.mtime=$e.read_shift(4)),Re>5&&(ft&2&&(ht.atime=$e.read_shift(4)),ft&4&&(ht.ctime=$e.read_shift(4))),ht.mtime&&(ht.mt=new Date(ht.mtime*1e3));break}$e.l=Ee,pt[mt]=ht}return pt}var c;function d(){return c||(c={})}function u($e,pt){if($e[0]==80&&$e[1]==75)return Ft($e,pt);if(($e[0]|32)==109&&($e[1]|32)==105)return rn($e,pt);if($e.length<512)throw new Error("CFB file size "+$e.length+" < 512");var ft=3,mt=512,Re=0,Ee=0,ht=0,nt=0,Et=0,Qe=[],bt=$e.slice(0,512);gh(bt,0);var It=h(bt);switch(ft=It[0],ft){case 3:mt=512;break;case 4:mt=4096;break;case 0:if(It[1]==0)return Ft($e,pt);default:throw new Error("Major Version: Expected 3 or 4 saw "+ft)}mt!==512&&(bt=$e.slice(0,mt),gh(bt,28));var nr=$e.slice(0,mt);m(bt,ft);var tr=bt.read_shift(4,"i");if(ft===3&&tr!==0)throw new Error("# Directory Sectors: Expected 0 saw "+tr);bt.l+=4,ht=bt.read_shift(4,"i"),bt.l+=4,bt.chk("00100000","Mini Stream Cutoff Size: "),nt=bt.read_shift(4,"i"),Re=bt.read_shift(4,"i"),Et=bt.read_shift(4,"i"),Ee=bt.read_shift(4,"i");for(var vr=-1,yr=0;yr<109&&(vr=bt.read_shift(4,"i"),!(vr<0));++yr)Qe[yr]=vr;var Yr=A($e,mt);v(Et,Ee,Yr,mt,Qe);var zn=j(Yr,ht,Qe,mt);zn[ht].name="!Directory",Re>0&&nt!==V&&(zn[nt].name="!MiniFAT"),zn[Qe[0]].name="!FAT",zn.fat_addrs=Qe,zn.ssz=mt;var Hn={},xa=[],Ai=[],Ya=[];E(ht,zn,Yr,xa,Re,Hn,Ai,nt),y(Ai,Ya,xa),xa.shift();var mi={FileIndex:Ai,FullPaths:Ya};return pt&&pt.raw&&(mi.raw={header:nr,sectors:Yr}),mi}function h($e){if($e[$e.l]==80&&$e[$e.l+1]==75)return[0,0];$e.chk(J,"Header Signature: "),$e.l+=16;var pt=$e.read_shift(2,"u");return[$e.read_shift(2,"u"),pt]}function m($e,pt){var ft=9;switch($e.l+=2,ft=$e.read_shift(2)){case 9:if(pt!=3)throw new Error("Sector Shift: Expected 9 saw "+ft);break;case 12:if(pt!=4)throw new Error("Sector Shift: Expected 12 saw "+ft);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ft)}$e.chk("0600","Mini Sector Shift: "),$e.chk("000000000000","Reserved: ")}function A($e,pt){for(var ft=Math.ceil($e.length/pt)-1,mt=[],Re=1;Re<ft;++Re)mt[Re-1]=$e.slice(Re*pt,(Re+1)*pt);return mt[ft-1]=$e.slice(ft*pt),mt}function y($e,pt,ft){for(var mt=0,Re=0,Ee=0,ht=0,nt=0,Et=ft.length,Qe=[],bt=[];mt<Et;++mt)Qe[mt]=bt[mt]=mt,pt[mt]=ft[mt];for(;nt<bt.length;++nt)mt=bt[nt],Re=$e[mt].L,Ee=$e[mt].R,ht=$e[mt].C,Qe[mt]===mt&&(Re!==-1&&Qe[Re]!==Re&&(Qe[mt]=Qe[Re]),Ee!==-1&&Qe[Ee]!==Ee&&(Qe[mt]=Qe[Ee])),ht!==-1&&(Qe[ht]=mt),Re!==-1&&mt!=Qe[mt]&&(Qe[Re]=Qe[mt],bt.lastIndexOf(Re)<nt&&bt.push(Re)),Ee!==-1&&mt!=Qe[mt]&&(Qe[Ee]=Qe[mt],bt.lastIndexOf(Ee)<nt&&bt.push(Ee));for(mt=1;mt<Et;++mt)Qe[mt]===mt&&(Ee!==-1&&Qe[Ee]!==Ee?Qe[mt]=Qe[Ee]:Re!==-1&&Qe[Re]!==Re&&(Qe[mt]=Qe[Re]));for(mt=1;mt<Et;++mt)if($e[mt].type!==0){if(nt=mt,nt!=Qe[nt])do nt=Qe[nt],pt[mt]=pt[nt]+"/"+pt[mt];while(nt!==0&&Qe[nt]!==-1&&nt!=Qe[nt]);Qe[mt]=-1}for(pt[0]+="/",mt=1;mt<Et;++mt)$e[mt].type!==2&&(pt[mt]+="/")}function x($e,pt,ft){for(var mt=$e.start,Re=$e.size,Ee=[],ht=mt;ft&&Re>0&&ht>=0;)Ee.push(pt.slice(ht*L,ht*L+L)),Re-=L,ht=vx(ft,ht*4);return Ee.length===0?Nr(0):Xu(Ee).slice(0,$e.size)}function v($e,pt,ft,mt,Re){var Ee=V;if($e===V){if(pt!==0)throw new Error("DIFAT chain shorter than expected")}else if($e!==-1){var ht=ft[$e],nt=(mt>>>2)-1;if(!ht)return;for(var Et=0;Et<nt&&(Ee=vx(ht,Et*4))!==V;++Et)Re.push(Ee);v(vx(ht,mt-4),pt-1,ft,mt,Re)}}function b($e,pt,ft,mt,Re){var Ee=[],ht=[];Re||(Re=[]);var nt=mt-1,Et=0,Qe=0;for(Et=pt;Et>=0;){Re[Et]=!0,Ee[Ee.length]=Et,ht.push($e[Et]);var bt=ft[Math.floor(Et*4/mt)];if(Qe=Et*4&nt,mt<4+Qe)throw new Error("FAT boundary crossed: "+Et+" 4 "+mt);if(!$e[bt])break;Et=vx($e[bt],Qe)}return{nodes:Ee,data:Ik([ht])}}function j($e,pt,ft,mt){var Re=$e.length,Ee=[],ht=[],nt=[],Et=[],Qe=mt-1,bt=0,It=0,nr=0,tr=0;for(bt=0;bt<Re;++bt)if(nt=[],nr=bt+pt,nr>=Re&&(nr-=Re),!ht[nr]){Et=[];var vr=[];for(It=nr;It>=0;){vr[It]=!0,ht[It]=!0,nt[nt.length]=It,Et.push($e[It]);var yr=ft[Math.floor(It*4/mt)];if(tr=It*4&Qe,mt<4+tr)throw new Error("FAT boundary crossed: "+It+" 4 "+mt);if(!$e[yr]||(It=vx($e[yr],tr),vr[It]))break}Ee[nr]={nodes:nt,data:Ik([Et])}}return Ee}function E($e,pt,ft,mt,Re,Ee,ht,nt){for(var Et=0,Qe=mt.length?2:0,bt=pt[$e].data,It=0,nr=0,tr;It<bt.length;It+=128){var vr=bt.slice(It,It+128);gh(vr,64),nr=vr.read_shift(2),tr=f_(vr,0,nr-Qe),mt.push(tr);var yr={name:tr,type:vr.read_shift(1),color:vr.read_shift(1),L:vr.read_shift(4,"i"),R:vr.read_shift(4,"i"),C:vr.read_shift(4,"i"),clsid:vr.read_shift(16),state:vr.read_shift(4,"i"),start:0,size:0},Yr=vr.read_shift(2)+vr.read_shift(2)+vr.read_shift(2)+vr.read_shift(2);Yr!==0&&(yr.ct=T(vr,vr.l-8));var zn=vr.read_shift(2)+vr.read_shift(2)+vr.read_shift(2)+vr.read_shift(2);zn!==0&&(yr.mt=T(vr,vr.l-8)),yr.start=vr.read_shift(4,"i"),yr.size=vr.read_shift(4,"i"),yr.size<0&&yr.start<0&&(yr.size=yr.type=0,yr.start=V,yr.name=""),yr.type===5?(Et=yr.start,Re>0&&Et!==V&&(pt[Et].name="!StreamData")):yr.size>=4096?(yr.storage="fat",pt[yr.start]===void 0&&(pt[yr.start]=b(ft,yr.start,pt.fat_addrs,pt.ssz)),pt[yr.start].name=yr.name,yr.content=pt[yr.start].data.slice(0,yr.size)):(yr.storage="minifat",yr.size<0?yr.size=0:Et!==V&&yr.start!==V&&pt[Et]&&(yr.content=x(yr,pt[Et].data,(pt[nt]||{}).data))),yr.content&&gh(yr.content,0),Ee[tr]=yr,ht.push(yr)}}function T($e,pt){return new Date((bh($e,pt+4)/1e7*Math.pow(2,32)+bh($e,pt)/1e7-11644473600)*1e3)}function P($e,pt){return d(),u(c.readFileSync($e),pt)}function U($e,pt){var ft=pt&&pt.type;switch(ft||hi&&Buffer.isBuffer($e)&&(ft="buffer"),ft||"base64"){case"file":return P($e,pt);case"base64":return u(HA(G0($e)),pt);case"binary":return u(HA($e),pt)}return u($e,pt)}function M($e,pt){var ft=pt||{},mt=ft.root||"Root Entry";if($e.FullPaths||($e.FullPaths=[]),$e.FileIndex||($e.FileIndex=[]),$e.FullPaths.length!==$e.FileIndex.length)throw new Error("inconsistent CFB structure");$e.FullPaths.length===0&&($e.FullPaths[0]=mt+"/",$e.FileIndex[0]={name:mt,type:5}),ft.CLSID&&($e.FileIndex[0].clsid=ft.CLSID),k($e)}function k($e){var pt="Sh33tJ5";if(!ro.find($e,"/"+pt)){var ft=Nr(4);ft[0]=55,ft[1]=ft[3]=50,ft[2]=54,$e.FileIndex.push({name:pt,type:2,content:ft,size:4,L:69,R:69,C:69}),$e.FullPaths.push($e.FullPaths[0]+pt),Q($e)}}function Q($e,pt){M($e);for(var ft=!1,mt=!1,Re=$e.FullPaths.length-1;Re>=0;--Re){var Ee=$e.FileIndex[Re];switch(Ee.type){case 0:mt?ft=!0:($e.FileIndex.pop(),$e.FullPaths.pop());break;case 1:case 2:case 5:mt=!0,isNaN(Ee.R*Ee.L*Ee.C)&&(ft=!0),Ee.R>-1&&Ee.L>-1&&Ee.R==Ee.L&&(ft=!0);break;default:ft=!0;break}}if(!(!ft&&!pt)){var ht=new Date(1987,1,19),nt=0,Et=Object.create?Object.create(null):{},Qe=[];for(Re=0;Re<$e.FullPaths.length;++Re)Et[$e.FullPaths[Re]]=!0,$e.FileIndex[Re].type!==0&&Qe.push([$e.FullPaths[Re],$e.FileIndex[Re]]);for(Re=0;Re<Qe.length;++Re){var bt=n(Qe[Re][0]);mt=Et[bt],mt||(Qe.push([bt,{name:s(bt).replace("/",""),type:1,clsid:ee,ct:ht,mt:ht,content:null}]),Et[bt]=!0)}for(Qe.sort(function(tr,vr){return r(tr[0],vr[0])}),$e.FullPaths=[],$e.FileIndex=[],Re=0;Re<Qe.length;++Re)$e.FullPaths[Re]=Qe[Re][0],$e.FileIndex[Re]=Qe[Re][1];for(Re=0;Re<Qe.length;++Re){var It=$e.FileIndex[Re],nr=$e.FullPaths[Re];if(It.name=s(nr).replace("/",""),It.L=It.R=It.C=-(It.color=1),It.size=It.content?It.content.length:0,It.start=0,It.clsid=It.clsid||ee,Re===0)It.C=Qe.length>1?1:-1,It.size=0,It.type=5;else if(nr.slice(-1)=="/"){for(nt=Re+1;nt<Qe.length&&n($e.FullPaths[nt])!=nr;++nt);for(It.C=nt>=Qe.length?-1:nt,nt=Re+1;nt<Qe.length&&n($e.FullPaths[nt])!=n(nr);++nt);It.R=nt>=Qe.length?-1:nt,It.type=1}else n($e.FullPaths[Re+1]||"")==n(nr)&&(It.R=Re+1),It.type=2}}}function z($e,pt){var ft=pt||{};if(ft.fileType=="mad")return Vr($e,ft);switch(Q($e),ft.fileType){case"zip":return Zt($e,ft)}var mt=(function(tr){for(var vr=0,yr=0,Yr=0;Yr<tr.FileIndex.length;++Yr){var zn=tr.FileIndex[Yr];if(zn.content){var Hn=zn.content.length;Hn>0&&(Hn<4096?vr+=Hn+63>>6:yr+=Hn+511>>9)}}for(var xa=tr.FullPaths.length+3>>2,Ai=vr+7>>3,Ya=vr+127>>7,mi=Ai+yr+xa+Ya,Ro=mi+127>>7,po=Ro<=109?0:Math.ceil((Ro-109)/127);mi+Ro+po+127>>7>Ro;)po=++Ro<=109?0:Math.ceil((Ro-109)/127);var pi=[1,po,Ro,Ya,xa,yr,vr,0];return tr.FileIndex[0].size=vr<<6,pi[7]=(tr.FileIndex[0].start=pi[0]+pi[1]+pi[2]+pi[3]+pi[4]+pi[5])+(pi[6]+7>>3),pi})($e),Re=Nr(mt[7]<<9),Ee=0,ht=0;{for(Ee=0;Ee<8;++Ee)Re.write_shift(1,ce[Ee]);for(Ee=0;Ee<8;++Ee)Re.write_shift(2,0);for(Re.write_shift(2,62),Re.write_shift(2,3),Re.write_shift(2,65534),Re.write_shift(2,9),Re.write_shift(2,6),Ee=0;Ee<3;++Ee)Re.write_shift(2,0);for(Re.write_shift(4,0),Re.write_shift(4,mt[2]),Re.write_shift(4,mt[0]+mt[1]+mt[2]+mt[3]-1),Re.write_shift(4,0),Re.write_shift(4,4096),Re.write_shift(4,mt[3]?mt[0]+mt[1]+mt[2]-1:V),Re.write_shift(4,mt[3]),Re.write_shift(-4,mt[1]?mt[0]-1:V),Re.write_shift(4,mt[1]),Ee=0;Ee<109;++Ee)Re.write_shift(-4,Ee<mt[2]?mt[1]+Ee:-1)}if(mt[1])for(ht=0;ht<mt[1];++ht){for(;Ee<236+ht*127;++Ee)Re.write_shift(-4,Ee<mt[2]?mt[1]+Ee:-1);Re.write_shift(-4,ht===mt[1]-1?V:ht+1)}var nt=function(tr){for(ht+=tr;Ee<ht-1;++Ee)Re.write_shift(-4,Ee+1);tr&&(++Ee,Re.write_shift(-4,V))};for(ht=Ee=0,ht+=mt[1];Ee<ht;++Ee)Re.write_shift(-4,de.DIFSECT);for(ht+=mt[2];Ee<ht;++Ee)Re.write_shift(-4,de.FATSECT);nt(mt[3]),nt(mt[4]);for(var Et=0,Qe=0,bt=$e.FileIndex[0];Et<$e.FileIndex.length;++Et)bt=$e.FileIndex[Et],bt.content&&(Qe=bt.content.length,!(Qe<4096)&&(bt.start=ht,nt(Qe+511>>9)));for(nt(mt[6]+7>>3);Re.l&511;)Re.write_shift(-4,de.ENDOFCHAIN);for(ht=Ee=0,Et=0;Et<$e.FileIndex.length;++Et)bt=$e.FileIndex[Et],bt.content&&(Qe=bt.content.length,!(!Qe||Qe>=4096)&&(bt.start=ht,nt(Qe+63>>6)));for(;Re.l&511;)Re.write_shift(-4,de.ENDOFCHAIN);for(Ee=0;Ee<mt[4]<<2;++Ee){var It=$e.FullPaths[Ee];if(!It||It.length===0){for(Et=0;Et<17;++Et)Re.write_shift(4,0);for(Et=0;Et<3;++Et)Re.write_shift(4,-1);for(Et=0;Et<12;++Et)Re.write_shift(4,0);continue}bt=$e.FileIndex[Ee],Ee===0&&(bt.start=bt.size?bt.start-1:V);var nr=Ee===0&&ft.root||bt.name;if(Qe=2*(nr.length+1),Re.write_shift(64,nr,"utf16le"),Re.write_shift(2,Qe),Re.write_shift(1,bt.type),Re.write_shift(1,bt.color),Re.write_shift(-4,bt.L),Re.write_shift(-4,bt.R),Re.write_shift(-4,bt.C),bt.clsid)Re.write_shift(16,bt.clsid,"hex");else for(Et=0;Et<4;++Et)Re.write_shift(4,0);Re.write_shift(4,bt.state||0),Re.write_shift(4,0),Re.write_shift(4,0),Re.write_shift(4,0),Re.write_shift(4,0),Re.write_shift(4,bt.start),Re.write_shift(4,bt.size),Re.write_shift(4,0)}for(Ee=1;Ee<$e.FileIndex.length;++Ee)if(bt=$e.FileIndex[Ee],bt.size>=4096)if(Re.l=bt.start+1<<9,hi&&Buffer.isBuffer(bt.content))bt.content.copy(Re,Re.l,0,bt.size),Re.l+=bt.size+511&-512;else{for(Et=0;Et<bt.size;++Et)Re.write_shift(1,bt.content[Et]);for(;Et&511;++Et)Re.write_shift(1,0)}for(Ee=1;Ee<$e.FileIndex.length;++Ee)if(bt=$e.FileIndex[Ee],bt.size>0&&bt.size<4096)if(hi&&Buffer.isBuffer(bt.content))bt.content.copy(Re,Re.l,0,bt.size),Re.l+=bt.size+63&-64;else{for(Et=0;Et<bt.size;++Et)Re.write_shift(1,bt.content[Et]);for(;Et&63;++Et)Re.write_shift(1,0)}if(hi)Re.l=Re.length;else for(;Re.l<Re.length;)Re.write_shift(1,0);return Re}function O($e,pt){var ft=$e.FullPaths.map(function(Et){return Et.toUpperCase()}),mt=ft.map(function(Et){var Qe=Et.split("/");return Qe[Qe.length-(Et.slice(-1)=="/"?2:1)]}),Re=!1;pt.charCodeAt(0)===47?(Re=!0,pt=ft[0].slice(0,-1)+pt):Re=pt.indexOf("/")!==-1;var Ee=pt.toUpperCase(),ht=Re===!0?ft.indexOf(Ee):mt.indexOf(Ee);if(ht!==-1)return $e.FileIndex[ht];var nt=!Ee.match(u4);for(Ee=Ee.replace(B2,""),nt&&(Ee=Ee.replace(u4,"!")),ht=0;ht<ft.length;++ht)if((nt?ft[ht].replace(u4,"!"):ft[ht]).replace(B2,"")==Ee||(nt?mt[ht].replace(u4,"!"):mt[ht]).replace(B2,"")==Ee)return $e.FileIndex[ht];return null}var L=64,V=-2,J="d0cf11e0a1b11ae1",ce=[208,207,17,224,161,177,26,225],ee="00000000000000000000000000000000",de={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:V,FREESECT:-1,HEADER_SIGNATURE:J,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ee,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function se($e,pt,ft){d();var mt=z($e,ft);c.writeFileSync(pt,mt)}function he($e){for(var pt=new Array($e.length),ft=0;ft<$e.length;++ft)pt[ft]=String.fromCharCode($e[ft]);return pt.join("")}function fe($e,pt){var ft=z($e,pt);switch(pt&&pt.type||"buffer"){case"file":return d(),c.writeFileSync(pt.filename,ft),ft;case"binary":return typeof ft=="string"?ft:he(ft);case"base64":return sb(typeof ft=="string"?ft:he(ft));case"buffer":if(hi)return Buffer.isBuffer(ft)?ft:op(ft);case"array":return typeof ft=="string"?HA(ft):ft}return ft}var ve;function B($e){try{var pt=$e.InflateRaw,ft=new pt;if(ft._processChunk(new Uint8Array([3,0]),ft._finishFlushFlag),ft.bytesRead)ve=$e;else throw new Error("zlib does not expose bytesRead")}catch(mt){console.error("cannot use native zlib: "+(mt.message||mt))}}function R($e,pt){if(!ve)return _t($e,pt);var ft=ve.InflateRaw,mt=new ft,Re=mt._processChunk($e.slice($e.l),mt._finishFlushFlag);return $e.l+=mt.bytesRead,Re}function Y($e){return ve?ve.deflateRawSync($e):Te($e)}var ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ge=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ye=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function pe($e){var pt=($e<<1|$e<<11)&139536|($e<<5|$e<<15)&558144;return(pt>>16|pt>>8|pt)&255}for(var Z=typeof Uint8Array<"u",le=Z?new Uint8Array(256):[],te=0;te<256;++te)le[te]=pe(te);function Ne($e,pt){var ft=le[$e&255];return pt<=8?ft>>>8-pt:(ft=ft<<8|le[$e>>8&255],pt<=16?ft>>>16-pt:(ft=ft<<8|le[$e>>16&255],ft>>>24-pt))}function Fe($e,pt){var ft=pt&7,mt=pt>>>3;return($e[mt]|(ft<=6?0:$e[mt+1]<<8))>>>ft&3}function be($e,pt){var ft=pt&7,mt=pt>>>3;return($e[mt]|(ft<=5?0:$e[mt+1]<<8))>>>ft&7}function re($e,pt){var ft=pt&7,mt=pt>>>3;return($e[mt]|(ft<=4?0:$e[mt+1]<<8))>>>ft&15}function Ce($e,pt){var ft=pt&7,mt=pt>>>3;return($e[mt]|(ft<=3?0:$e[mt+1]<<8))>>>ft&31}function st($e,pt){var ft=pt&7,mt=pt>>>3;return($e[mt]|(ft<=1?0:$e[mt+1]<<8))>>>ft&127}function et($e,pt,ft){var mt=pt&7,Re=pt>>>3,Ee=(1<<ft)-1,ht=$e[Re]>>>mt;return ft<8-mt||(ht|=$e[Re+1]<<8-mt,ft<16-mt)||(ht|=$e[Re+2]<<16-mt,ft<24-mt)||(ht|=$e[Re+3]<<24-mt),ht&Ee}function He($e,pt,ft){var mt=pt&7,Re=pt>>>3;return mt<=5?$e[Re]|=(ft&7)<<mt:($e[Re]|=ft<<mt&255,$e[Re+1]=(ft&7)>>8-mt),pt+3}function ct($e,pt,ft){var mt=pt&7,Re=pt>>>3;return ft=(ft&1)<<mt,$e[Re]|=ft,pt+1}function _e($e,pt,ft){var mt=pt&7,Re=pt>>>3;return ft<<=mt,$e[Re]|=ft&255,ft>>>=8,$e[Re+1]=ft,pt+8}function ke($e,pt,ft){var mt=pt&7,Re=pt>>>3;return ft<<=mt,$e[Re]|=ft&255,ft>>>=8,$e[Re+1]=ft&255,$e[Re+2]=ft>>>8,pt+16}function Ze($e,pt){var ft=$e.length,mt=2*ft>pt?2*ft:pt+5,Re=0;if(ft>=pt)return $e;if(hi){var Ee=gk(mt);if($e.copy)$e.copy(Ee);else for(;Re<$e.length;++Re)Ee[Re]=$e[Re];return Ee}else if(Z){var ht=new Uint8Array(mt);if(ht.set)ht.set($e);else for(;Re<ft;++Re)ht[Re]=$e[Re];return ht}return $e.length=mt,$e}function Pe($e){for(var pt=new Array($e),ft=0;ft<$e;++ft)pt[ft]=0;return pt}function ot($e,pt,ft){var mt=1,Re=0,Ee=0,ht=0,nt=0,Et=$e.length,Qe=Z?new Uint16Array(32):Pe(32);for(Ee=0;Ee<32;++Ee)Qe[Ee]=0;for(Ee=Et;Ee<ft;++Ee)$e[Ee]=0;Et=$e.length;var bt=Z?new Uint16Array(Et):Pe(Et);for(Ee=0;Ee<Et;++Ee)Qe[Re=$e[Ee]]++,mt<Re&&(mt=Re),bt[Ee]=0;for(Qe[0]=0,Ee=1;Ee<=mt;++Ee)Qe[Ee+16]=nt=nt+Qe[Ee-1]<<1;for(Ee=0;Ee<Et;++Ee)nt=$e[Ee],nt!=0&&(bt[Ee]=Qe[nt+16]++);var It=0;for(Ee=0;Ee<Et;++Ee)if(It=$e[Ee],It!=0)for(nt=Ne(bt[Ee],mt)>>mt-It,ht=(1<<mt+4-It)-1;ht>=0;--ht)pt[nt|ht<<It]=It&15|Ee<<4;return mt}var Ge=Z?new Uint16Array(512):Pe(512),lt=Z?new Uint16Array(32):Pe(32);if(!Z){for(var Je=0;Je<512;++Je)Ge[Je]=0;for(Je=0;Je<32;++Je)lt[Je]=0}(function(){for(var $e=[],pt=0;pt<32;pt++)$e.push(5);ot($e,lt,32);var ft=[];for(pt=0;pt<=143;pt++)ft.push(8);for(;pt<=255;pt++)ft.push(9);for(;pt<=279;pt++)ft.push(7);for(;pt<=287;pt++)ft.push(8);ot(ft,Ge,288)})();var Me=(function(){for(var pt=Z?new Uint8Array(32768):[],ft=0,mt=0;ft<ye.length-1;++ft)for(;mt<ye[ft+1];++mt)pt[mt]=ft;for(;mt<32768;++mt)pt[mt]=29;var Re=Z?new Uint8Array(259):[];for(ft=0,mt=0;ft<ge.length-1;++ft)for(;mt<ge[ft+1];++mt)Re[mt]=ft;function Ee(nt,Et){for(var Qe=0;Qe<nt.length;){var bt=Math.min(65535,nt.length-Qe),It=Qe+bt==nt.length;for(Et.write_shift(1,+It),Et.write_shift(2,bt),Et.write_shift(2,~bt&65535);bt-- >0;)Et[Et.l++]=nt[Qe++]}return Et.l}function ht(nt,Et){for(var Qe=0,bt=0,It=Z?new Uint16Array(32768):[];bt<nt.length;){var nr=Math.min(65535,nt.length-bt);if(nr<10){for(Qe=He(Et,Qe,+(bt+nr==nt.length)),Qe&7&&(Qe+=8-(Qe&7)),Et.l=Qe/8|0,Et.write_shift(2,nr),Et.write_shift(2,~nr&65535);nr-- >0;)Et[Et.l++]=nt[bt++];Qe=Et.l*8;continue}Qe=He(Et,Qe,+(bt+nr==nt.length)+2);for(var tr=0;nr-- >0;){var vr=nt[bt];tr=(tr<<5^vr)&32767;var yr=-1,Yr=0;if((yr=It[tr])&&(yr|=bt&-32768,yr>bt&&(yr-=32768),yr<bt))for(;nt[yr+Yr]==nt[bt+Yr]&&Yr<250;)++Yr;if(Yr>2){vr=Re[Yr],vr<=22?Qe=_e(Et,Qe,le[vr+1]>>1)-1:(_e(Et,Qe,3),Qe+=5,_e(Et,Qe,le[vr-23]>>5),Qe+=3);var zn=vr<8?0:vr-4>>2;zn>0&&(ke(Et,Qe,Yr-ge[vr]),Qe+=zn),vr=pt[bt-yr],Qe=_e(Et,Qe,le[vr]>>3),Qe-=3;var Hn=vr<4?0:vr-2>>1;Hn>0&&(ke(Et,Qe,bt-yr-ye[vr]),Qe+=Hn);for(var xa=0;xa<Yr;++xa)It[tr]=bt&32767,tr=(tr<<5^nt[bt])&32767,++bt;nr-=Yr-1}else vr<=143?vr=vr+48:Qe=ct(Et,Qe,1),Qe=_e(Et,Qe,le[vr]),It[tr]=bt&32767,++bt}Qe=_e(Et,Qe,0)-1}return Et.l=(Qe+7)/8|0,Et.l}return function(Et,Qe){return Et.length<8?Ee(Et,Qe):ht(Et,Qe)}})();function Te($e){var pt=Nr(50+Math.floor($e.length*1.1)),ft=Me($e,pt);return pt.slice(0,ft)}var je=Z?new Uint16Array(32768):Pe(32768),Ke=Z?new Uint16Array(32768):Pe(32768),Le=Z?new Uint16Array(128):Pe(128),rt=1,Oe=1;function De($e,pt){var ft=Ce($e,pt)+257;pt+=5;var mt=Ce($e,pt)+1;pt+=5;var Re=re($e,pt)+4;pt+=4;for(var Ee=0,ht=Z?new Uint8Array(19):Pe(19),nt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Et=1,Qe=Z?new Uint8Array(8):Pe(8),bt=Z?new Uint8Array(8):Pe(8),It=ht.length,nr=0;nr<Re;++nr)ht[ie[nr]]=Ee=be($e,pt),Et<Ee&&(Et=Ee),Qe[Ee]++,pt+=3;var tr=0;for(Qe[0]=0,nr=1;nr<=Et;++nr)bt[nr]=tr=tr+Qe[nr-1]<<1;for(nr=0;nr<It;++nr)(tr=ht[nr])!=0&&(nt[nr]=bt[tr]++);var vr=0;for(nr=0;nr<It;++nr)if(vr=ht[nr],vr!=0){tr=le[nt[nr]]>>8-vr;for(var yr=(1<<7-vr)-1;yr>=0;--yr)Le[tr|yr<<vr]=vr&7|nr<<3}var Yr=[];for(Et=1;Yr.length<ft+mt;)switch(tr=Le[st($e,pt)],pt+=tr&7,tr>>>=3){case 16:for(Ee=3+Fe($e,pt),pt+=2,tr=Yr[Yr.length-1];Ee-- >0;)Yr.push(tr);break;case 17:for(Ee=3+be($e,pt),pt+=3;Ee-- >0;)Yr.push(0);break;case 18:for(Ee=11+st($e,pt),pt+=7;Ee-- >0;)Yr.push(0);break;default:Yr.push(tr),Et<tr&&(Et=tr);break}var zn=Yr.slice(0,ft),Hn=Yr.slice(ft);for(nr=ft;nr<286;++nr)zn[nr]=0;for(nr=mt;nr<30;++nr)Hn[nr]=0;return rt=ot(zn,je,286),Oe=ot(Hn,Ke,30),pt}function ut($e,pt){if($e[0]==3&&!($e[1]&3))return[qx(pt),2];for(var ft=0,mt=0,Re=gk(pt||1<<18),Ee=0,ht=Re.length>>>0,nt=0,Et=0;(mt&1)==0;){if(mt=be($e,ft),ft+=3,mt>>>1)mt>>1==1?(nt=9,Et=5):(ft=De($e,ft),nt=rt,Et=Oe);else{ft&7&&(ft+=8-(ft&7));var Qe=$e[ft>>>3]|$e[(ft>>>3)+1]<<8;if(ft+=32,Qe>0)for(!pt&&ht<Ee+Qe&&(Re=Ze(Re,Ee+Qe),ht=Re.length);Qe-- >0;)Re[Ee++]=$e[ft>>>3],ft+=8;continue}for(;;){!pt&&ht<Ee+32767&&(Re=Ze(Re,Ee+32767),ht=Re.length);var bt=et($e,ft,nt),It=mt>>>1==1?Ge[bt]:je[bt];if(ft+=It&15,It>>>=4,(It>>>8&255)===0)Re[Ee++]=It;else{if(It==256)break;It-=257;var nr=It<8?0:It-4>>2;nr>5&&(nr=0);var tr=Ee+ge[It];nr>0&&(tr+=et($e,ft,nr),ft+=nr),bt=et($e,ft,Et),It=mt>>>1==1?lt[bt]:Ke[bt],ft+=It&15,It>>>=4;var vr=It<4?0:It-2>>1,yr=ye[It];for(vr>0&&(yr+=et($e,ft,vr),ft+=vr),!pt&&ht<tr&&(Re=Ze(Re,tr+100),ht=Re.length);Ee<tr;)Re[Ee]=Re[Ee-yr],++Ee}}}return pt?[Re,ft+7>>>3]:[Re.slice(0,Ee),ft+7>>>3]}function _t($e,pt){var ft=$e.slice($e.l||0),mt=ut(ft,pt);return $e.l+=mt[1],mt[0]}function qt($e,pt){if($e)typeof console<"u"&&console.error(pt);else throw new Error(pt)}function Ft($e,pt){var ft=$e;gh(ft,0);var mt=[],Re=[],Ee={FileIndex:mt,FullPaths:Re};M(Ee,{root:pt.root});for(var ht=ft.length-4;(ft[ht]!=80||ft[ht+1]!=75||ft[ht+2]!=5||ft[ht+3]!=6)&&ht>=0;)--ht;ft.l=ht+4,ft.l+=4;var nt=ft.read_shift(2);ft.l+=6;var Et=ft.read_shift(4);for(ft.l=Et,ht=0;ht<nt;++ht){ft.l+=20;var Qe=ft.read_shift(4),bt=ft.read_shift(4),It=ft.read_shift(2),nr=ft.read_shift(2),tr=ft.read_shift(2);ft.l+=8;var vr=ft.read_shift(4),yr=l(ft.slice(ft.l+It,ft.l+It+nr));ft.l+=It+nr+tr;var Yr=ft.l;ft.l=vr+4,gt(ft,Qe,bt,Ee,yr),ft.l=Yr}return Ee}function gt($e,pt,ft,mt,Re){$e.l+=2;var Ee=$e.read_shift(2),ht=$e.read_shift(2),nt=o($e);if(Ee&8257)throw new Error("Unsupported ZIP encryption");for(var Et=$e.read_shift(4),Qe=$e.read_shift(4),bt=$e.read_shift(4),It=$e.read_shift(2),nr=$e.read_shift(2),tr="",vr=0;vr<It;++vr)tr+=String.fromCharCode($e[$e.l++]);if(nr){var yr=l($e.slice($e.l,$e.l+nr));(yr[21589]||{}).mt&&(nt=yr[21589].mt),((Re||{})[21589]||{}).mt&&(nt=Re[21589].mt)}$e.l+=nr;var Yr=$e.slice($e.l,$e.l+Qe);switch(ht){case 8:Yr=R($e,bt);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ht)}var zn=!1;Ee&8&&(Et=$e.read_shift(4),Et==134695760&&(Et=$e.read_shift(4),zn=!0),Qe=$e.read_shift(4),bt=$e.read_shift(4)),Qe!=pt&&qt(zn,"Bad compressed size: "+pt+" != "+Qe),bt!=ft&&qt(zn,"Bad uncompressed size: "+ft+" != "+bt),Gn(mt,tr,Yr,{unsafe:!0,mt:nt})}function Zt($e,pt){var ft=pt||{},mt=[],Re=[],Ee=Nr(1),ht=ft.compression?8:0,nt=0,Et=0,Qe=0,bt=0,It=0,nr=$e.FullPaths[0],tr=nr,vr=$e.FileIndex[0],yr=[],Yr=0;for(Et=1;Et<$e.FullPaths.length;++Et)if(tr=$e.FullPaths[Et].slice(nr.length),vr=$e.FileIndex[Et],!(!vr.size||!vr.content||tr=="Sh33tJ5")){var zn=bt,Hn=Nr(tr.length);for(Qe=0;Qe<tr.length;++Qe)Hn.write_shift(1,tr.charCodeAt(Qe)&127);Hn=Hn.slice(0,Hn.l),yr[It]=gne.buf(vr.content,0);var xa=vr.content;ht==8&&(xa=Y(xa)),Ee=Nr(30),Ee.write_shift(4,67324752),Ee.write_shift(2,20),Ee.write_shift(2,nt),Ee.write_shift(2,ht),vr.mt?i(Ee,vr.mt):Ee.write_shift(4,0),Ee.write_shift(-4,yr[It]),Ee.write_shift(4,xa.length),Ee.write_shift(4,vr.content.length),Ee.write_shift(2,Hn.length),Ee.write_shift(2,0),bt+=Ee.length,mt.push(Ee),bt+=Hn.length,mt.push(Hn),bt+=xa.length,mt.push(xa),Ee=Nr(46),Ee.write_shift(4,33639248),Ee.write_shift(2,0),Ee.write_shift(2,20),Ee.write_shift(2,nt),Ee.write_shift(2,ht),Ee.write_shift(4,0),Ee.write_shift(-4,yr[It]),Ee.write_shift(4,xa.length),Ee.write_shift(4,vr.content.length),Ee.write_shift(2,Hn.length),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(4,0),Ee.write_shift(4,zn),Yr+=Ee.l,Re.push(Ee),Yr+=Hn.length,Re.push(Hn),++It}return Ee=Nr(22),Ee.write_shift(4,101010256),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,It),Ee.write_shift(2,It),Ee.write_shift(4,Yr),Ee.write_shift(4,bt),Ee.write_shift(2,0),Xu([Xu(mt),Xu(Re),Ee])}var $t={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function rr($e,pt){if($e.ctype)return $e.ctype;var ft=$e.name||"",mt=ft.match(/\.([^\.]+)$/);return mt&&$t[mt[1]]||pt&&(mt=(ft=pt).match(/[\.\\]([^\.\\])+$/),mt&&$t[mt[1]])?$t[mt[1]]:"application/octet-stream"}function kr($e){for(var pt=sb($e),ft=[],mt=0;mt<pt.length;mt+=76)ft.push(pt.slice(mt,mt+76));return ft.join(`\r
`)+`\r
`}function Qr($e){var pt=$e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Qe){var bt=Qe.charCodeAt(0).toString(16).toUpperCase();return"="+(bt.length==1?"0"+bt:bt)});pt=pt.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),pt.charAt(0)==`
`&&(pt="=0D"+pt.slice(1)),pt=pt.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ft=[],mt=pt.split(`\r
`),Re=0;Re<mt.length;++Re){var Ee=mt[Re];if(Ee.length==0){ft.push("");continue}for(var ht=0;ht<Ee.length;){var nt=76,Et=Ee.slice(ht,ht+nt);Et.charAt(nt-1)=="="?nt--:Et.charAt(nt-2)=="="?nt-=2:Et.charAt(nt-3)=="="&&(nt-=3),Et=Ee.slice(ht,ht+nt),ht+=nt,ht<Ee.length&&(Et+="="),ft.push(Et)}}return ft.join(`\r
`)}function dn($e){for(var pt=[],ft=0;ft<$e.length;++ft){for(var mt=$e[ft];ft<=$e.length&&mt.charAt(mt.length-1)=="=";)mt=mt.slice(0,mt.length-1)+$e[++ft];pt.push(mt)}for(var Re=0;Re<pt.length;++Re)pt[Re]=pt[Re].replace(/[=][0-9A-Fa-f]{2}/g,function(Ee){return String.fromCharCode(parseInt(Ee.slice(1),16))});return HA(pt.join(`\r
`))}function ja($e,pt,ft){for(var mt="",Re="",Ee="",ht,nt=0;nt<10;++nt){var Et=pt[nt];if(!Et||Et.match(/^\s*$/))break;var Qe=Et.match(/^(.*?):\s*([^\s].*)$/);if(Qe)switch(Qe[1].toLowerCase()){case"content-location":mt=Qe[2].trim();break;case"content-type":Ee=Qe[2].trim();break;case"content-transfer-encoding":Re=Qe[2].trim();break}}switch(++nt,Re.toLowerCase()){case"base64":ht=HA(G0(pt.slice(nt).join("")));break;case"quoted-printable":ht=dn(pt.slice(nt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Re)}var bt=Gn($e,mt.slice(ft.length),ht,{unsafe:!0});Ee&&(bt.ctype=Ee)}function rn($e,pt){if(he($e.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ft=pt&&pt.root||"",mt=(hi&&Buffer.isBuffer($e)?$e.toString("binary"):he($e)).split(`\r
`),Re=0,Ee="";for(Re=0;Re<mt.length;++Re)if(Ee=mt[Re],!!/^Content-Location:/i.test(Ee)&&(Ee=Ee.slice(Ee.indexOf("file")),ft||(ft=Ee.slice(0,Ee.lastIndexOf("/")+1)),Ee.slice(0,ft.length)!=ft))for(;ft.length>0&&(ft=ft.slice(0,ft.length-1),ft=ft.slice(0,ft.lastIndexOf("/")+1),Ee.slice(0,ft.length)!=ft););var ht=(mt[1]||"").match(/boundary="(.*?)"/);if(!ht)throw new Error("MAD cannot find boundary");var nt="--"+(ht[1]||""),Et=[],Qe=[],bt={FileIndex:Et,FullPaths:Qe};M(bt);var It,nr=0;for(Re=0;Re<mt.length;++Re){var tr=mt[Re];tr!==nt&&tr!==nt+"--"||(nr++&&ja(bt,mt.slice(It,Re),ft),It=Re)}return bt}function Vr($e,pt){var ft=pt||{},mt=ft.boundary||"SheetJS";mt="------="+mt;for(var Re=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+mt.slice(2)+'"',"","",""],Ee=$e.FullPaths[0],ht=Ee,nt=$e.FileIndex[0],Et=1;Et<$e.FullPaths.length;++Et)if(ht=$e.FullPaths[Et].slice(Ee.length),nt=$e.FileIndex[Et],!(!nt.size||!nt.content||ht=="Sh33tJ5")){ht=ht.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Yr){return"_x"+Yr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Yr){return"_u"+Yr.charCodeAt(0).toString(16)+"_"});for(var Qe=nt.content,bt=hi&&Buffer.isBuffer(Qe)?Qe.toString("binary"):he(Qe),It=0,nr=Math.min(1024,bt.length),tr=0,vr=0;vr<=nr;++vr)(tr=bt.charCodeAt(vr))>=32&&tr<128&&++It;var yr=It>=nr*4/5;Re.push(mt),Re.push("Content-Location: "+(ft.root||"file:///C:/SheetJS/")+ht),Re.push("Content-Transfer-Encoding: "+(yr?"quoted-printable":"base64")),Re.push("Content-Type: "+rr(nt,ht)),Re.push(""),Re.push(yr?Qr(bt):kr(bt))}return Re.push(mt+`--\r
`),Re.join(`\r
`)}function On($e){var pt={};return M(pt,$e),pt}function Gn($e,pt,ft,mt){var Re=mt&&mt.unsafe;Re||M($e);var Ee=!Re&&ro.find($e,pt);if(!Ee){var ht=$e.FullPaths[0];pt.slice(0,ht.length)==ht?ht=pt:(ht.slice(-1)!="/"&&(ht+="/"),ht=(ht+pt).replace("//","/")),Ee={name:s(pt),type:2},$e.FileIndex.push(Ee),$e.FullPaths.push(ht),Re||ro.utils.cfb_gc($e)}return Ee.content=ft,Ee.size=ft?ft.length:0,mt&&(mt.CLSID&&(Ee.clsid=mt.CLSID),mt.mt&&(Ee.mt=mt.mt),mt.ct&&(Ee.ct=mt.ct)),Ee}function Dn($e,pt){M($e);var ft=ro.find($e,pt);if(ft){for(var mt=0;mt<$e.FileIndex.length;++mt)if($e.FileIndex[mt]==ft)return $e.FileIndex.splice(mt,1),$e.FullPaths.splice(mt,1),!0}return!1}function Ct($e,pt,ft){M($e);var mt=ro.find($e,pt);if(mt){for(var Re=0;Re<$e.FileIndex.length;++Re)if($e.FileIndex[Re]==mt)return $e.FileIndex[Re].name=s(ft),$e.FullPaths[Re]=ft,!0}return!1}function fr($e){Q($e,!0)}return t.find=O,t.read=U,t.parse=u,t.write=fe,t.writeFile=se,t.utils={cfb_new:On,cfb_add:Gn,cfb_del:Dn,cfb_mov:Ct,cfb_gc:fr,ReadShift:_2,CheckField:qQ,prep_blob:gh,bconcat:Xu,use_zlib:B,_deflateRaw:Te,_inflateRaw:_t,consts:de},t})();function xne(e){return typeof e=="string"?dj(e):Array.isArray(e)?zre(e):e}function Kb(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=dj(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?ob(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var s=new Blob([xne(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,e);if(typeof saveAs<"u")return saveAs(s,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=Vb(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function rd(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function Sk(e,t){for(var r=[],n=rd(e),s=0;s!==n.length;++s)r[e[n[s]][t]]==null&&(r[e[n[s]][t]]=n[s]);return r}function l_(e){for(var t=[],r=rd(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function Aj(e){for(var t=[],r=rd(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function vne(e){for(var t=[],r=rd(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Q5=new Date(1899,11,30,0,0,0);function Df(e,t){var r=e.getTime(),n=Q5.getTime()+(e.getTimezoneOffset()-Q5.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var _Q=new Date,yne=Q5.getTime()+(_Q.getTimezoneOffset()-Q5.getTimezoneOffset())*6e4,Ck=_Q.getTimezoneOffset();function FQ(e){var t=new Date;return t.setTime(e*24*60*60*1e3+yne),t.getTimezoneOffset()!==Ck&&t.setTime(t.getTime()+(t.getTimezoneOffset()-Ck)*6e4),t}var Ek=new Date("2017-02-19T19:06:09.000Z"),IQ=isNaN(Ek.getFullYear())?new Date("2/19/17"):Ek,bne=IQ.getFullYear()==2017;function cf(e,t){var r=new Date(e);if(bne)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(IQ.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function mj(e,t){if(hi&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],s=0;s!=e.length;++s)n.push(String.fromCharCode(e[s]));return n.join("")}function Mf(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Mf(e[r]));return t}function Ll(e,t){for(var r="";r.length<t;)r+=e;return r}function H0(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var wne=["january","february","march","april","may","june","july","august","september","october","november","december"];function ib(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),s=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&wne.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function ss(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return hi?n=op(r):n=Vre(r),ro.utils.cfb_add(e,t,n)}ro.utils.cfb_add(e,t,r)}else e.file(t,r)}function c_(){return ro.utils.cfb_new()}var Uc=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Nne={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},u_=l_(Nne),d_=/[&<>'"]/g,jne=/[\u0000-\u0008\u000b-\u001f]/g;function Qi(e){var t=e+"";return t.replace(d_,function(r){return u_[r]}).replace(jne,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Bk(e){return Qi(e).replace(/ /g,"_x0020_")}var kQ=/[\u0000-\u001f]/g;function Sne(e){var t=e+"";return t.replace(d_,function(r){return u_[r]}).replace(/\n/g,"<br/>").replace(kQ,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Cne(e){var t=e+"";return t.replace(d_,function(r){return u_[r]}).replace(kQ,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function Ene(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Bne(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function h3(e){for(var t="",r=0,n=0,s=0,i=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(s=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=s&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(s&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function Tk(e){var t=qx(2*e.length),r,n,s=1,i=0,o=0,l;for(n=0;n<e.length;n+=s)s=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),s=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),s=3):(s=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function _k(e){return op(e,"binary").toString("utf8")}var f4="foo bar baz",T2=hi&&(_k(f4)==h3(f4)&&_k||Tk(f4)==h3(f4)&&Tk)||h3,ob=hi?function(e){return op(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,s=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Tne=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)n=n.replace(e[s][0],e[s][1]);return n}})(),PQ=/(^\s|\s$|\n)/;function Ju(e,t){return"<"+e+(t.match(PQ)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function lb(e){return rd(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Jr(e,t,r){return"<"+e+(r!=null?lb(r):"")+(t!=null?(t.match(PQ)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function RE(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function _ne(e,t){switch(typeof e){case"string":var r=Jr("vt:lpwstr",Qi(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Jr((e|0)==e?"vt:i4":"vt:r8",Qi(String(e)));case"boolean":return Jr("vt:bool",e?"true":"false")}if(e instanceof Date)return Jr("vt:filetime",RE(e));throw new Error("Unable to serialize "+e)}var Cu={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},uy=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],yh={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Fne(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),s=e[t+6]&15,i=5;i>=0;--i)s=s*256+e[t+i];return n==2047?s==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}function Ine(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,s=0,i=0,o=n?-t:t;isFinite(o)?o==0?s=i=0:(s=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(s&15)<<4|i&15,e[r+7]=s>>4|n}var Fk=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var s=0,i=e[0][n].length;s<i;s+=r)t.push.apply(t,e[0][n].slice(s,s+r));return t},Ik=hi?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:op(t)})):Fk(e)}:Fk,kk=function(e,t,r){for(var n=[],s=t;s<r;s+=2)n.push(String.fromCharCode(y2(e,s)));return n.join("").replace(B2,"")},f_=hi?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(B2,""):kk(e,t,r)}:kk,Pk=function(e,t,r){for(var n=[],s=t;s<t+r;++s)n.push(("0"+e[s].toString(16)).slice(-2));return n.join("")},LQ=hi?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):Pk(e,t,r)}:Pk,Lk=function(e,t,r){for(var n=[],s=t;s<r;s++)n.push(String.fromCharCode(cv(e,s)));return n.join("")},qb=hi?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):Lk(t,r,n)}:Lk,OQ=function(e,t){var r=bh(e,t);return r>0?qb(e,t+4,t+4+r-1):""},DQ=OQ,MQ=function(e,t){var r=bh(e,t);return r>0?qb(e,t+4,t+4+r-1):""},UQ=MQ,RQ=function(e,t){var r=2*bh(e,t);return r>0?qb(e,t+4,t+4+r-1):""},QQ=RQ,HQ=function(t,r){var n=bh(t,r);return n>0?f_(t,r+4,r+4+n):""},$Q=HQ,zQ=function(e,t){var r=bh(e,t);return r>0?qb(e,t+4,t+4+r):""},VQ=zQ,KQ=function(e,t){return Fne(e,t)},H5=KQ,h_=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};hi&&(DQ=function(t,r){if(!Buffer.isBuffer(t))return OQ(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},UQ=function(t,r){if(!Buffer.isBuffer(t))return MQ(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},QQ=function(t,r){if(!Buffer.isBuffer(t))return RQ(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},$Q=function(t,r){if(!Buffer.isBuffer(t))return HQ(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},VQ=function(t,r){if(!Buffer.isBuffer(t))return zQ(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},H5=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):KQ(t,r)},h_=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var cv=function(e,t){return e[t]},y2=function(e,t){return e[t+1]*256+e[t]},kne=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},bh=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},vx=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Pne=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function _2(e,t){var r="",n,s,i=[],o,l,c,d;switch(t){case"dbcs":if(d=this.l,hi&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(y2(this,d)),d+=2;e*=2;break;case"utf8":r=qb(this,this.l,this.l+e);break;case"utf16le":e*=2,r=f_(this,this.l,this.l+e);break;case"wstr":return _2.call(this,e,"dbcs");case"lpstr-ansi":r=DQ(this,this.l),e=4+bh(this,this.l);break;case"lpstr-cp":r=UQ(this,this.l),e=4+bh(this,this.l);break;case"lpwstr":r=QQ(this,this.l),e=4+2*bh(this,this.l);break;case"lpp4":e=4+bh(this,this.l),r=$Q(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+bh(this,this.l),r=VQ(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=cv(this,this.l+e++))!==0;)i.push(c4(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=y2(this,this.l+e))!==0;)i.push(c4(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",d=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=cv(this,d),this.l=d+1,l=_2.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(c4(y2(this,d))),d+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=cv(this,d),this.l=d+1,l=_2.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(c4(cv(this,d))),d+=1}r=i.join("");break;default:switch(e){case 1:return n=cv(this,this.l),this.l++,n;case 2:return n=(t==="i"?kne:y2)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?vx:Pne)(this,this.l),this.l+=4,n):(s=bh(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return e==8?s=H5(this,this.l):s=H5([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:r=LQ(this,this.l,e);break}}return this.l+=e,r}var Lne=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},One=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Dne=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Mne(e,t,r){var n=0,s=0;if(r==="dbcs"){for(s=0;s!=t.length;++s)Dne(this,t.charCodeAt(s),this.l+2*s);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;n=t.length}else if(r==="hex"){for(;s<e;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(s=0;s<Math.min(t.length,e);++s){var o=t.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Lne(this,t,this.l);break;case 8:if(n=8,r==="f"){Ine(this,t,this.l);break}case 16:break;case-4:n=4,One(this,t,this.l);break}return this.l+=n,this}function qQ(e,t){var r=LQ(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function gh(e,t){e.l=t,e.read_shift=_2,e.chk=qQ,e.write_shift=Mne}function Gm(e,t){e.l+=t}function Nr(e){var t=qx(e);return gh(t,0),t}function Of(){var e=[],t=hi?256:2048,r=function(d){var u=Nr(d);return gh(u,0),u},n=r(t),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(d){return n&&d<n.length-n.l?n:(s(),n=r(Math.max(d+1,t)))},o=function(){return s(),Xu(e)},l=function(d){s(),n=d,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function Pr(e,t,r,n){var s=+t,i;if(!isNaN(s)){n||(n=Fce[s].p||(r||[]).length||0),i=1+(s>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=e.next(i);s<=127?o.write_shift(1,s):(o.write_shift(1,(s&127)+128),o.write_shift(1,s>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&h_(r)&&e.push(r)}}function F2(e,t,r){var n=Mf(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function Ok(e,t,r){var n=Mf(e);return n.s=F2(n.s,t.s,r),n.e=F2(n.e,t.s,r),n}function I2(e,t){if(e.cRel&&e.c<0)for(e=Mf(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Mf(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=$i(e);return!e.cRel&&e.cRel!=null&&(r=Qne(r)),!e.rRel&&e.rRel!=null&&(r=Une(r)),r}function A3(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Pd(e.s.c)+":"+(e.e.cRel?"":"$")+Pd(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Zu(e.s.r)+":"+(e.e.rRel?"":"$")+Zu(e.e.r):I2(e.s,t.biff)+":"+I2(e.e,t.biff)}function A_(e){return parseInt(Rne(e),10)-1}function Zu(e){return""+(e+1)}function Une(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Rne(e){return e.replace(/\$(\d+)$/,"$1")}function m_(e){for(var t=Hne(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Pd(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Qne(e){return e.replace(/^([A-Z])/,"$$$1")}function Hne(e){return e.replace(/^\$([A-Z])/,"$1")}function $ne(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Eu(e){for(var t=0,r=0,n=0;n<e.length;++n){var s=e.charCodeAt(n);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:t-1}}function $i(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Sh(e){var t=e.indexOf(":");return t==-1?{s:Eu(e),e:Eu(e)}:{s:Eu(e.slice(0,t)),e:Eu(e.slice(t+1))}}function Oc(e,t){return typeof t>"u"||typeof t=="number"?Oc(e.s,e.e):(typeof e!="string"&&(e=$i(e)),typeof t!="string"&&(t=$i(t)),e==t?e:e+":"+t)}function Uo(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,i=e.length;for(r=0;n<i&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.s.c=--r,r=0;n<i&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(t.s.r=--r,n===i||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.e.c=--r,r=0;n!=i&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return t.e.r=--r,t}function Dk(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=dg(e.z,r?Df(t):t)}catch{}try{return e.w=dg((e.XF||{}).numFmtId||(r?14:0),r?Df(t):t)}catch{return""+t}}function W0(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Gb[e.v]||e.v:t==null?Dk(e,e.v):Dk(e,t))}function i1(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function GQ(e,t,r){var n=r||{},s=e?Array.isArray(e):n.dense,i=e||(s?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Eu(n.origin):n.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=Uo(i["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),o==-1&&(d.e.r=o=u.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[h].length;++m)if(!(typeof t[h][m]>"u")){var A={v:t[h][m]},y=o+h,x=l+m;if(d.s.r>y&&(d.s.r=y),d.s.c>x&&(d.s.c=x),d.e.r<y&&(d.e.r=y),d.e.c<x&&(d.e.c=x),t[h][m]&&typeof t[h][m]=="object"&&!Array.isArray(t[h][m])&&!(t[h][m]instanceof Date))A=t[h][m];else if(Array.isArray(A.v)&&(A.f=t[h][m][1],A.v=A.v[0]),A.v===null)if(A.f)A.t="n";else if(n.nullError)A.t="e",A.v=0;else if(n.sheetStubs)A.t="z";else continue;else typeof A.v=="number"?A.t="n":typeof A.v=="boolean"?A.t="b":A.v instanceof Date?(A.z=n.dateNF||Ml[14],n.cellDates?(A.t="d",A.w=dg(A.z,Df(A.v))):(A.t="n",A.v=Df(A.v),A.w=dg(A.z,A.v))):A.t="s";if(s)i[y]||(i[y]=[]),i[y][x]&&i[y][x].z&&(A.z=i[y][x].z),i[y][x]=A;else{var v=$i({c:x,r:y});i[v]&&i[v].z&&(A.z=i[v].z),i[v]=A}}}return d.s.c<1e7&&(i["!ref"]=Oc(d)),i}function dy(e,t){return GQ(null,e,t)}function zne(e){return e.read_shift(4,"i")}function WA(e,t){return t||(t=Nr(4)),t.write_shift(4,e),t}function Ld(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Bu(e,t){var r=!1;return t==null&&(r=!0,t=Nr(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function Vne(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Kne(e,t){return t||(t=Nr(4)),t.write_shift(2,0),t.write_shift(2,0),t}function p_(e,t){var r=e.l,n=e.read_shift(1),s=Ld(e),i=[],o={t:s,h:s};if((n&1)!==0){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(Vne(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function qne(e,t){var r=!1;return t==null&&(r=!0,t=Nr(15+4*e.t.length)),t.write_shift(1,0),Bu(e.t,t),r?t.slice(0,t.l):t}var Gne=p_;function Wne(e,t){var r=!1;return t==null&&(r=!0,t=Nr(23+4*e.t.length)),t.write_shift(1,1),Bu(e.t,t),t.write_shift(4,1),Kne({},t),r?t.slice(0,t.l):t}function fA(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function o1(e,t){return t==null&&(t=Nr(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function l1(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function c1(e,t){return t==null&&(t=Nr(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Yne=Ld,WQ=Bu;function g_(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function $5(e,t){var r=!1;return t==null&&(r=!0,t=Nr(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var Xne=Ld,QE=g_,x_=$5;function YQ(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var s=n===0?H5([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):vx(t,0)>>2;return r?s/100:s}function XQ(e,t){t==null&&(t=Nr(4));var r=0,n=0,s=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?s:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function JQ(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function Jne(e,t){return t||(t=Nr(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var u1=JQ,fy=Jne;function hy(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Gx(e,t){return(t||Nr(8)).write_shift(8,e,"f")}function Zne(e){var t={},r=e.read_shift(1),n=r>>>1,s=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=s;var d=lae[s];d&&(t.rgb=Gk(d));break;case 2:t.rgb=Gk([o,l,c]);break;case 3:t.theme=s;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function z5(e,t){if(t||(t=Nr(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function eae(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function tae(e,t){t||(t=Nr(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var ZQ=2,ph=3,h4=11,V5=19,A4=64,rae=65,nae=71,aae=4108,sae=4126,Wu=80,Mk={1:{n:"CodePage",t:ZQ},2:{n:"Category",t:Wu},3:{n:"PresentationFormat",t:Wu},4:{n:"ByteCount",t:ph},5:{n:"LineCount",t:ph},6:{n:"ParagraphCount",t:ph},7:{n:"SlideCount",t:ph},8:{n:"NoteCount",t:ph},9:{n:"HiddenCount",t:ph},10:{n:"MultimediaClipCount",t:ph},11:{n:"ScaleCrop",t:h4},12:{n:"HeadingPairs",t:aae},13:{n:"TitlesOfParts",t:sae},14:{n:"Manager",t:Wu},15:{n:"Company",t:Wu},16:{n:"LinksUpToDate",t:h4},17:{n:"CharacterCount",t:ph},19:{n:"SharedDoc",t:h4},22:{n:"HyperlinksChanged",t:h4},23:{n:"AppVersion",t:ph,p:"version"},24:{n:"DigSig",t:rae},26:{n:"ContentType",t:Wu},27:{n:"ContentStatus",t:Wu},28:{n:"Language",t:Wu},29:{n:"Version",t:Wu},255:{},2147483648:{n:"Locale",t:V5},2147483651:{n:"Behavior",t:V5},1919054434:{}},Uk={1:{n:"CodePage",t:ZQ},2:{n:"Title",t:Wu},3:{n:"Subject",t:Wu},4:{n:"Author",t:Wu},5:{n:"Keywords",t:Wu},6:{n:"Comments",t:Wu},7:{n:"Template",t:Wu},8:{n:"LastAuthor",t:Wu},9:{n:"RevNumber",t:Wu},10:{n:"EditTime",t:A4},11:{n:"LastPrinted",t:A4},12:{n:"CreatedDate",t:A4},13:{n:"ModifiedDate",t:A4},14:{n:"PageCount",t:ph},15:{n:"WordCount",t:ph},16:{n:"CharCount",t:ph},17:{n:"Thumbnail",t:nae},18:{n:"Application",t:Wu},19:{n:"DocSecurity",t:ph},255:{},2147483648:{n:"Locale",t:V5},2147483651:{n:"Behavior",t:V5},1919054434:{}};function iae(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var oae=iae([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),lae=Mf(oae),Gb={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},cae={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},m4={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function eH(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function tH(e,t){var r=vne(cae),n=[],s;n[n.length]=Uc,n[n.length]=Jr("Types",null,{xmlns:Cu.CT,"xmlns:xsd":Cu.xsd,"xmlns:xsi":Cu.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Jr("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(s=e[c][0],n[n.length]=Jr("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:m4[c][t.bookType]||m4[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(d){n[n.length]=Jr("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:m4[c][t.bookType]||m4[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(d){n[n.length]=Jr("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var ni={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function rH(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Cv(e){var t=[Uc,Jr("Relationships",null,{xmlns:Cu.RELS})];return rd(e["!id"]).forEach(function(r){t[t.length]=Jr("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Ui(e,t,r,n,s,i){if(s||(s={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,s.Id="rId"+t,s.Type=n,s.Target=r,[ni.HLINK,ni.XPATH,ni.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),e["!id"][s.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][s.Id]=s,e[("/"+s.Target).replace("//","/")]=s,t}function uae(e){var t=[Uc];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function Rk(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function dae(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function fae(e){var t=[Uc];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(Rk(e[r][0],e[r][1])),t.push(dae("",e[r][0]));return t.push(Rk("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function nH(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+O5.version+"</meta:generator></office:meta></office:document-meta>"}var Fx=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function m3(e,t,r,n,s){s[e]!=null||t==null||t===""||(s[e]=t,t=Qi(t),n[n.length]=r?Jr(e,t,r):Ju(e,t))}function aH(e,t){var r=t||{},n=[Uc,Jr("cp:coreProperties",null,{"xmlns:cp":Cu.CORE_PROPS,"xmlns:dc":Cu.dc,"xmlns:dcterms":Cu.dcterms,"xmlns:dcmitype":Cu.dcmitype,"xmlns:xsi":Cu.xsi})],s={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&m3("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:RE(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s),e.ModifiedDate!=null&&m3("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:RE(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s));for(var i=0;i!=Fx.length;++i){var o=Fx[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&m3(o[0],l,null,n,s)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Ev=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],sH=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function iH(e){var t=[],r=Jr;return e||(e={}),e.Application="SheetJS",t[t.length]=Uc,t[t.length]=Jr("Properties",null,{xmlns:Cu.EXT_PROPS,"xmlns:vt":Cu.vt}),Ev.forEach(function(n){if(e[n[1]]!==void 0){var s;switch(n[2]){case"string":s=Qi(String(e[n[1]]));break;case"bool":s=e[n[1]]?"true":"false";break}s!==void 0&&(t[t.length]=r(n[0],s))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Qi(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function oH(e){var t=[Uc,Jr("Properties",null,{xmlns:Cu.CUST_PROPS,"xmlns:vt":Cu.vt})];if(!e)return t.join("");var r=1;return rd(e).forEach(function(s){++r,t[t.length]=Jr("property",_ne(e[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Qi(s)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Qk={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function hae(e,t){var r=[];return rd(Qk).map(function(n){for(var s=0;s<Fx.length;++s)if(Fx[s][1]==n)return Fx[s];for(s=0;s<Ev.length;++s)if(Ev[s][1]==n)return Ev[s];throw n}).forEach(function(n){if(e[n[1]]!=null){var s=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(Ju(Qk[n[1]]||n[1],s))}}),Jr("DocumentProperties",r.join(""),{xmlns:yh.o})}function Aae(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",s=[];return e&&rd(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<Fx.length;++o)if(i==Fx[o][1])return;for(o=0;o<Ev.length;++o)if(i==Ev[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),s.push(Jr(Bk(i),l,{"dt:dt":c}))}}),t&&rd(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),s.push(Jr(Bk(i),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+yh.o+'">'+s.join("")+"</"+n+">"}function mae(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),s=(r-n)/Math.pow(2,32);n*=1e7,s*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),s+=i);var o=Nr(8);return o.write_shift(4,n),o.write_shift(4,s),o}function Hk(e,t){var r=Nr(4),n=Nr(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Nr(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=mae(t);break;case 31:case 80:for(n=Nr(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Xu([r,n])}var lH=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function pae(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function $k(e,t,r){var n=Nr(8),s=[],i=[],o=8,l=0,c=Nr(8),d=Nr(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),i.push(c),s.push(d),o+=8+c.length,!t){d=Nr(8),d.write_shift(4,0),s.unshift(d);var u=[Nr(4)];for(u[0].write_shift(4,e.length),l=0;l<e.length;++l){var h=e[l][0];for(c=Nr(8+2*(h.length+1)+(h.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,h.length+1),c.write_shift(0,h,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=Xu(u),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(lH.indexOf(e[l][0])>-1||sH.indexOf(e[l][0])>-1)&&e[l][1]!=null){var m=e[l][1],A=0;if(t){A=+t[e[l][0]];var y=r[A];if(y.p=="version"&&typeof m=="string"){var x=m.split(".");m=(+x[0]<<16)+(+x[1]||0)}c=Hk(y.t,m)}else{var v=pae(m);v==-1&&(v=31,m=String(m)),c=Hk(v,m)}i.push(c),d=Nr(8),d.write_shift(4,t?A:2+l),s.push(d),o+=8+c.length}var b=8*(i.length+1);for(l=0;l<i.length;++l)s[l].write_shift(4,b),b+=i[l].length;return n.write_shift(4,o),n.write_shift(4,i.length),Xu([n].concat(s).concat(i))}function zk(e,t,r,n,s,i){var o=Nr(s?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,ro.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,s?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,s?68:48);var c=$k(e,r,n);if(l.push(c),s){var d=$k(s,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(d)}return Xu(l)}function gae(e,t){t||(t=Nr(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function xae(e,t){return e.read_shift(t)===1}function tf(e,t){return t||(t=Nr(2)),t.write_shift(2,+!!e),t}function cH(e){return e.read_shift(2,"u")}function nA(e,t){return t||(t=Nr(2)),t.write_shift(2,e),t}function uH(e,t,r){return r||(r=Nr(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function dH(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var o=n?e.read_shift(n,s):"";return o}function vae(e){var t=e.t||"",r=Nr(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Nr(2*t.length);n.write_shift(2*t.length,t,"utf16le");var s=[r,n];return Xu(s)}function yae(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var s=e.read_shift(1);return s===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function bae(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):yae(e,n,r)}function wae(e,t,r){if(r.biff>5)return bae(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function fH(e,t,r){return r||(r=Nr(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function Vk(e,t){t||(t=Nr(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function Nae(e){var t=Nr(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var s=n.indexOf("#"),i=s>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)n=n.slice(1),Vk(n,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=s>-1?n.slice(0,s):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&Vk(s>-1?n.slice(s+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Wx(e,t,r,n){return n||(n=Nr(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function jae(e,t,r){var n=r.biff>8?4:2,s=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[s,i,o]}function Sae(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2);return{s:{c:n,r:t},e:{c:s,r}}}function hH(e,t){return t||(t=Nr(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function v_(e,t,r){var n=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,s=8;break;case"biff4":n=4,s=6;break;case"biff3":n=3,s=6;break;case"biff2":n=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Nr(s);return i.write_shift(2,n),i.write_shift(2,t),s>4&&i.write_shift(2,29282),s>6&&i.write_shift(2,1997),s>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function Cae(e,t){var r=!t||t.biff==8,n=Nr(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function Eae(e,t){var r=!t||t.biff>=8?2:1,n=Nr(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var s=n.slice(0,n.l);return s.l=n.l,s}function Bae(e,t){var r=Nr(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],s=0;s<e.length;++s)n[s]=vae(e[s]);var i=Xu([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function Tae(){var e=Nr(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function _ae(e){var t=Nr(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Fae(e,t){var r=e.name||"Arial",n=t&&t.biff==5,s=n?15+r.length:16+2*r.length,i=Nr(s);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function Iae(e,t,r,n){var s=Nr(10);return Wx(e,t,n,s),s.write_shift(4,r),s}function kae(e,t,r,n,s){var i=!s||s.biff==8,o=Nr(8+ +i+(1+i)*r.length);return Wx(e,t,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function Pae(e,t,r,n){var s=r&&r.biff==5;n||(n=Nr(s?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(s?1:2,t.length),s||n.write_shift(1,1),n.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function Lae(e,t){var r=t.biff==8||!t.biff?4:2,n=Nr(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function Kk(e,t,r,n){var s=r&&r.biff==5;n||(n=Nr(s?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&s&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),s||n.write_shift(4,0),n.write_shift(2,0),n}function Oae(e){var t=Nr(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function Dae(e,t,r,n,s,i){var o=Nr(8);return Wx(e,t,n,o),uH(r,i,o),o}function Mae(e,t,r,n){var s=Nr(14);return Wx(e,t,n,s),Gx(r,s),s}function Uae(e,t,r){if(r.biff<8)return Rae(e,t,r);for(var n=[],s=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(jae(e,r.biff>8?12:6,r));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return n}function Rae(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=dH(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Qae(e){var t=Nr(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)hH(e[r],t);return t}function Hae(e){var t=Nr(24),r=Eu(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)t.write_shift(1,parseInt(n[s],16));return Xu([t,Nae(e[1])])}function $ae(e){var t=e[1].Tooltip,r=Nr(10+2*(t.length+1));r.write_shift(2,2048);var n=Eu(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var s=0;s<t.length;++s)r.write_shift(2,t.charCodeAt(s));return r.write_shift(2,0),r}function zae(e){return e||(e=Nr(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Vae(e,t,r){if(!r.cellStyles)return Gm(e,t);var n=r&&r.biff>=12?4:2,s=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var d={s,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(d.level=c>>8&7),d}function Kae(e,t){var r=Nr(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function qae(e){for(var t=Nr(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function Gae(e,t,r){var n=Nr(15);return Yb(n,e,t),n.write_shift(8,r,"f"),n}function Wae(e,t,r){var n=Nr(9);return Yb(n,e,t),n.write_shift(2,r),n}var Yae=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=l_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var d=[],u=qx(1);switch(c.type){case"base64":u=HA(G0(l));break;case"binary":u=HA(l);break;case"buffer":case"array":u=l;break}gh(u,0);var h=u.read_shift(1),m=!!(h&136),A=!1,y=!1;switch(h){case 2:break;case 3:break;case 48:A=!0,m=!0;break;case 49:A=!0,m=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var x=0,v=521;h==2&&(x=u.read_shift(2)),u.l+=3,h!=2&&(x=u.read_shift(4)),x>1048576&&(x=1e6),h!=2&&(v=u.read_shift(2));var b=u.read_shift(2),j=c.codepage||1252;h!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(j=e[u[u.l]]),u.l+=1,u.l+=2),y&&(u.l+=36);for(var E=[],T={},P=Math.min(u.length,h==2?521:v-10-(A?264:0)),U=y?32:11;u.l<P&&u[u.l]!=13;)switch(T={},T.name=D5.utils.decode(j,u.slice(u.l,u.l+U)).replace(/[\u0000\r\n].*$/g,""),u.l+=U,T.type=String.fromCharCode(u.read_shift(1)),h!=2&&!y&&(T.offset=u.read_shift(4)),T.len=u.read_shift(1),h==2&&(T.offset=u.read_shift(2)),T.dec=u.read_shift(1),T.name.length&&E.push(T),h!=2&&(u.l+=y?13:14),T.type){case"B":(!A||T.len!=8)&&c.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+T.type)}if(u[u.l]!==13&&(u.l=v-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=v;var M=0,k=0;for(d[0]=[],k=0;k!=E.length;++k)d[0][k]=E[k].name;for(;x-- >0;){if(u[u.l]===42){u.l+=b;continue}for(++u.l,d[++M]=[],k=0,k=0;k!=E.length;++k){var Q=u.slice(u.l,u.l+E[k].len);u.l+=E[k].len,gh(Q,0);var z=D5.utils.decode(j,Q);switch(E[k].type){case"C":z.trim().length&&(d[M][k]=z.replace(/\s+$/,""));break;case"D":z.length===8?d[M][k]=new Date(+z.slice(0,4),+z.slice(4,6)-1,+z.slice(6,8)):d[M][k]=z;break;case"F":d[M][k]=parseFloat(z.trim());break;case"+":case"I":d[M][k]=y?Q.read_shift(-4,"i")^2147483648:Q.read_shift(4,"i");break;case"L":switch(z.trim().toUpperCase()){case"Y":case"T":d[M][k]=!0;break;case"N":case"F":d[M][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+z+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));d[M][k]="##MEMO##"+(y?parseInt(z.trim(),10):Q.read_shift(4));break;case"N":z=z.replace(/\u0000/g,"").trim(),z&&z!="."&&(d[M][k]=+z||0);break;case"@":d[M][k]=new Date(Q.read_shift(-8,"f")-621356832e5);break;case"T":d[M][k]=new Date((Q.read_shift(4)-2440588)*864e5+Q.read_shift(4));break;case"Y":d[M][k]=Q.read_shift(4,"i")/1e4+Q.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[M][k]=-Q.read_shift(-8,"f");break;case"B":if(A&&E[k].len==8){d[M][k]=Q.read_shift(8,"f");break}case"G":case"P":Q.l+=E[k].len;break;case"0":if(E[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+E[k].type)}}}if(h!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=E,d}function n(l,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=dy(r(l,d),d);return u["!cols"]=d.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete d.DBF,u}function s(l,c){try{return i1(n(l,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var d=c||{};if(+d.codepage>=0&&ab(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=Of(),h=Y5(l,{header:1,raw:!0,cellDates:!0}),m=h[0],A=h.slice(1),y=l["!cols"]||[],x=0,v=0,b=0,j=1;for(x=0;x<m.length;++x){if(((y[x]||{}).DBF||{}).name){m[x]=y[x].DBF.name,++b;continue}if(m[x]!=null){if(++b,typeof m[x]=="number"&&(m[x]=m[x].toString(10)),typeof m[x]!="string")throw new Error("DBF Invalid column name "+m[x]+" |"+typeof m[x]+"|");if(m.indexOf(m[x])!==x){for(v=0;v<1024;++v)if(m.indexOf(m[x]+"_"+v)==-1){m[x]+="_"+v;break}}}}var E=Uo(l["!ref"]),T=[],P=[],U=[];for(x=0;x<=E.e.c-E.s.c;++x){var M="",k="",Q=0,z=[];for(v=0;v<A.length;++v)A[v][x]!=null&&z.push(A[v][x]);if(z.length==0||m[x]==null){T[x]="?";continue}for(v=0;v<z.length;++v){switch(typeof z[v]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=z[v]instanceof Date?"D":"C";break;default:k="C"}Q=Math.max(Q,String(z[v]).length),M=M&&M!=k?"C":k}Q>250&&(Q=250),k=((y[x]||{}).DBF||{}).type,k=="C"&&y[x].DBF.len>Q&&(Q=y[x].DBF.len),M=="B"&&k=="N"&&(M="N",U[x]=y[x].DBF.dec,Q=y[x].DBF.len),P[x]=M=="C"||k=="N"?Q:i[M]||0,j+=P[x],T[x]=M}var O=u.next(32);for(O.write_shift(4,318902576),O.write_shift(4,A.length),O.write_shift(2,296+32*b),O.write_shift(2,j),x=0;x<4;++x)O.write_shift(4,0);for(O.write_shift(4,0|(+t[mQ]||3)<<8),x=0,v=0;x<m.length;++x)if(m[x]!=null){var L=u.next(32),V=(m[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);L.write_shift(1,V,"sbcs"),L.write_shift(1,T[x]=="?"?"C":T[x],"sbcs"),L.write_shift(4,v),L.write_shift(1,P[x]||i[T[x]]||0),L.write_shift(1,U[x]||0),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(1,0),L.write_shift(4,0),L.write_shift(4,0),v+=P[x]||i[T[x]]||0}var J=u.next(264);for(J.write_shift(4,13),x=0;x<65;++x)J.write_shift(4,0);for(x=0;x<A.length;++x){var ce=u.next(j);for(ce.write_shift(1,0),v=0;v<m.length;++v)if(m[v]!=null)switch(T[v]){case"L":ce.write_shift(1,A[x][v]==null?63:A[x][v]?84:70);break;case"B":ce.write_shift(8,A[x][v]||0,"f");break;case"N":var ee="0";for(typeof A[x][v]=="number"&&(ee=A[x][v].toFixed(U[v]||0)),b=0;b<P[v]-ee.length;++b)ce.write_shift(1,32);ce.write_shift(1,ee,"sbcs");break;case"D":A[x][v]?(ce.write_shift(4,("0000"+A[x][v].getFullYear()).slice(-4),"sbcs"),ce.write_shift(2,("00"+(A[x][v].getMonth()+1)).slice(-2),"sbcs"),ce.write_shift(2,("00"+A[x][v].getDate()).slice(-2),"sbcs")):ce.write_shift(8,"00000000","sbcs");break;case"C":var de=String(A[x][v]!=null?A[x][v]:"").slice(0,P[v]);for(ce.write_shift(1,de,"sbcs"),b=0;b<P[v]-de.length;++b)ce.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:s,to_sheet:n,from_sheet:o}})(),Xae=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+rd(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,A){var y=e[A];return typeof y=="number"?pk(y):y},n=function(m,A,y){var x=A.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return x==59?m:pk(x)};e["|"]=254;function s(m,A){switch(A.type){case"base64":return i(G0(m),A);case"binary":return i(m,A);case"buffer":return i(hi&&Buffer.isBuffer(m)?m.toString("binary"):Vb(m),A);case"array":return i(mj(m),A)}throw new Error("Unrecognized type "+A.type)}function i(m,A){var y=m.split(/[\n\r]+/),x=-1,v=-1,b=0,j=0,E=[],T=[],P=null,U={},M=[],k=[],Q=[],z=0,O;for(+A.codepage>=0&&ab(+A.codepage);b!==y.length;++b){z=0;var L=y[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),V=L.replace(/;;/g,"\0").split(";").map(function(ie){return ie.replace(/\u0000/g,";")}),J=V[0],ce;if(L.length>0)switch(J){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":V[1].charAt(0)=="P"&&T.push(L.slice(3).replace(/;;/g,";"));break;case"C":var ee=!1,de=!1,se=!1,he=!1,fe=-1,ve=-1;for(j=1;j<V.length;++j)switch(V[j].charAt(0)){case"A":break;case"X":v=parseInt(V[j].slice(1))-1,de=!0;break;case"Y":for(x=parseInt(V[j].slice(1))-1,de||(v=0),O=E.length;O<=x;++O)E[O]=[];break;case"K":ce=V[j].slice(1),ce.charAt(0)==='"'?ce=ce.slice(1,ce.length-1):ce==="TRUE"?ce=!0:ce==="FALSE"?ce=!1:isNaN(H0(ce))?isNaN(ib(ce).getDate())||(ce=cf(ce)):(ce=H0(ce),P!==null&&EQ(P)&&(ce=FQ(ce))),ee=!0;break;case"E":he=!0;var B=Wse(V[j].slice(1),{r:x,c:v});E[x][v]=[E[x][v],B];break;case"S":se=!0,E[x][v]=[E[x][v],"S5S"];break;case"G":break;case"R":fe=parseInt(V[j].slice(1))-1;break;case"C":ve=parseInt(V[j].slice(1))-1;break;default:if(A&&A.WTF)throw new Error("SYLK bad record "+L)}if(ee&&(E[x][v]&&E[x][v].length==2?E[x][v][0]=ce:E[x][v]=ce,P=null),se){if(he)throw new Error("SYLK shared formula cannot have own formula");var R=fe>-1&&E[fe][ve];if(!R||!R[1])throw new Error("SYLK shared formula cannot find base");E[x][v][1]=Yse(R[1],{r:x-fe,c:v-ve})}break;case"F":var Y=0;for(j=1;j<V.length;++j)switch(V[j].charAt(0)){case"X":v=parseInt(V[j].slice(1))-1,++Y;break;case"Y":for(x=parseInt(V[j].slice(1))-1,O=E.length;O<=x;++O)E[O]=[];break;case"M":z=parseInt(V[j].slice(1))/20;break;case"F":break;case"G":break;case"P":P=T[parseInt(V[j].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(Q=V[j].slice(1).split(" "),O=parseInt(Q[0],10);O<=parseInt(Q[1],10);++O)z=parseInt(Q[2],10),k[O-1]=z===0?{hidden:!0}:{wch:z},y_(k[O-1]);break;case"C":v=parseInt(V[j].slice(1))-1,k[v]||(k[v]={});break;case"R":x=parseInt(V[j].slice(1))-1,M[x]||(M[x]={}),z>0?(M[x].hpt=z,M[x].hpx=xH(z)):z===0&&(M[x].hidden=!0);break;default:if(A&&A.WTF)throw new Error("SYLK bad record "+L)}Y<1&&(P=null);break;default:if(A&&A.WTF)throw new Error("SYLK bad record "+L)}}return M.length>0&&(U["!rows"]=M),k.length>0&&(U["!cols"]=k),A&&A.sheetRows&&(E=E.slice(0,A.sheetRows)),[E,U]}function o(m,A){var y=s(m,A),x=y[0],v=y[1],b=dy(x,A);return rd(v).forEach(function(j){b[j]=v[j]}),b}function l(m,A){return i1(o(m,A),A)}function c(m,A,y,x){var v="C;Y"+(y+1)+";X"+(x+1)+";K";switch(m.t){case"n":v+=m.v||0,m.f&&!m.F&&(v+=";E"+w_(m.f,{r:y,c:x}));break;case"b":v+=m.v?"TRUE":"FALSE";break;case"e":v+=m.w||m.v;break;case"d":v+='"'+(m.w||m.v)+'"';break;case"s":v+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function d(m,A){A.forEach(function(y,x){var v="F;W"+(x+1)+" "+(x+1)+" ";y.hidden?v+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=K5(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=q5(y.wpx)),typeof y.wch=="number"&&(v+=Math.round(y.wch))),v.charAt(v.length-1)!=" "&&m.push(v)})}function u(m,A){A.forEach(function(y,x){var v="F;";y.hidden?v+="M0;":y.hpt?v+="M"+20*y.hpt+";":y.hpx&&(v+="M"+20*G5(y.hpx)+";"),v.length>2&&m.push(v+"R"+(x+1))})}function h(m,A){var y=["ID;PWXL;N;E"],x=[],v=Uo(m["!ref"]),b,j=Array.isArray(m),E=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),m["!cols"]&&d(y,m["!cols"]),m["!rows"]&&u(y,m["!rows"]),y.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var T=v.s.r;T<=v.e.r;++T)for(var P=v.s.c;P<=v.e.c;++P){var U=$i({r:T,c:P});b=j?(m[T]||[])[P]:m[U],!(!b||b.v==null&&(!b.f||b.F))&&x.push(c(b,m,T,P))}return y.join(E)+E+x.join(E)+E+"E"+E}return{to_workbook:l,to_sheet:o,from_sheet:h}})(),Jae=(function(){function e(i,o){switch(o.type){case"base64":return t(G0(i),o);case"binary":return t(i,o);case"buffer":return t(hi&&Buffer.isBuffer(i)?i.toString("binary"):Vb(i),o);case"array":return t(mj(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,d=-1,u=0,h=[];u!==l.length;++u){if(l[u].trim()==="BOT"){h[++c]=[],d=0;continue}if(!(c<0)){var m=l[u].trim().split(","),A=m[0],y=m[1];++u;for(var x=l[u]||"";(x.match(/["]/g)||[]).length&1&&u<l.length-1;)x+=`
`+l[++u];switch(x=x.trim(),+A){case-1:if(x==="BOT"){h[++c]=[],d=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?h[c][d]=!0:x==="FALSE"?h[c][d]=!1:isNaN(H0(y))?isNaN(ib(y).getDate())?h[c][d]=y:h[c][d]=cf(y):h[c][d]=H0(y),++d;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),h[c][d++]=x!==""?x:null;break}if(x==="EOD")break}}return o&&o.sheetRows&&(h=h.slice(0,o.sheetRows)),h}function r(i,o){return dy(e(i,o),o)}function n(i,o){return i1(r(i,o),o)}var s=(function(){var i=function(c,d,u,h,m){c.push(d),c.push(u+","+h),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,d,u,h){c.push(d+","+u),c.push(d==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(c){var d=[],u=Uo(c["!ref"]),h,m=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,u.e.r-u.s.r+1,""),i(d,"TUPLES",0,u.e.c-u.s.c+1,""),i(d,"DATA",0,0,"");for(var A=u.s.r;A<=u.e.r;++A){o(d,-1,0,"BOT");for(var y=u.s.c;y<=u.e.c;++y){var x=$i({r:A,c:y});if(h=m?(c[A]||[])[y]:c[x],!h){o(d,1,0,"");continue}switch(h.t){case"n":var v=h.w;!v&&h.v!=null&&(v=h.v),v==null?h.f&&!h.F?o(d,1,0,"="+h.f):o(d,1,0,""):o(d,0,v,"V");break;case"b":o(d,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=dg(h.z||Ml[14],Df(cf(h.v)))),o(d,0,h.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var b=`\r
`,j=d.join(b);return j}})();return{to_workbook:n,to_sheet:r,from_sheet:s}})(),AH=(function(){function e(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,m){for(var A=h.split(`
`),y=-1,x=-1,v=0,b=[];v!==A.length;++v){var j=A[v].trim().split(":");if(j[0]==="cell"){var E=Eu(j[1]);if(b.length<=E.r)for(y=b.length;y<=E.r;++y)b[y]||(b[y]=[]);switch(y=E.r,x=E.c,j[2]){case"t":b[y][x]=e(j[3]);break;case"v":b[y][x]=+j[3];break;case"vtf":var T=j[j.length-1];case"vtc":switch(j[3]){case"nl":b[y][x]=!!+j[4];break;default:b[y][x]=+j[4];break}j[2]=="vtf"&&(b[y][x]=[b[y][x],T])}}}return m&&m.sheetRows&&(b=b.slice(0,m.sheetRows)),b}function n(h,m){return dy(r(h,m),m)}function s(h,m){return i1(n(h,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(h){if(!h||!h["!ref"])return"";for(var m=[],A=[],y,x="",v=Sh(h["!ref"]),b=Array.isArray(h),j=v.s.r;j<=v.e.r;++j)for(var E=v.s.c;E<=v.e.c;++E)if(x=$i({r:j,c:E}),y=b?(h[j]||[])[E]:h[x],!(!y||y.v==null||y.t==="z")){switch(A=["cell",x,"t"],y.t){case"s":case"str":A.push(t(y.v));break;case"n":y.f?(A[2]="vtf",A[3]="n",A[4]=y.v,A[5]=t(y.f)):(A[2]="v",A[3]=y.v);break;case"b":A[2]="vt"+(y.f?"f":"c"),A[3]="nl",A[4]=y.v?"1":"0",A[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var T=Df(cf(y.v));A[2]="vtc",A[3]="nd",A[4]=""+T,A[5]=y.w||dg(y.z||Ml[14],T);break;case"e":continue}m.push(A.join(":"))}return m.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function u(h){return[i,o,l,o,d(h),c].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:u}})(),Zae=(function(){function e(u,h,m,A,y){y.raw?h[m][A]=u:u===""||(u==="TRUE"?h[m][A]=!0:u==="FALSE"?h[m][A]=!1:isNaN(H0(u))?isNaN(ib(u).getDate())?h[m][A]=u:h[m][A]=cf(u):h[m][A]=H0(u))}function t(u,h){var m=h||{},A=[];if(!u||u.length===0)return A;for(var y=u.split(/[\r\n]/),x=y.length-1;x>=0&&y[x].length===0;)--x;for(var v=10,b=0,j=0;j<=x;++j)b=y[j].indexOf(" "),b==-1?b=y[j].length:b++,v=Math.max(v,b);for(j=0;j<=x;++j){A[j]=[];var E=0;for(e(y[j].slice(0,v).trim(),A,j,E,m),E=1;E<=(y[j].length-v)/10+1;++E)e(y[j].slice(v+(E-1)*10,v+E*10).trim(),A,j,E,m)}return m.sheetRows&&(A=A.slice(0,m.sheetRows)),A}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(u){for(var h={},m=!1,A=0,y=0;A<u.length;++A)(y=u.charCodeAt(A))==34?m=!m:!m&&y in r&&(h[y]=(h[y]||0)+1);y=[];for(A in h)Object.prototype.hasOwnProperty.call(h,A)&&y.push([h[A],A]);if(!y.length){h=n;for(A in h)Object.prototype.hasOwnProperty.call(h,A)&&y.push([h[A],A])}return y.sort(function(x,v){return x[0]-v[0]||n[x[1]]-n[v[1]]}),r[y.pop()[1]]||44}function i(u,h){var m=h||{},A="",y=m.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(A=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(A=u.charAt(4),u=u.slice(6)):A=s(u.slice(0,1024)):m&&m.FS?A=m.FS:A=s(u.slice(0,1024));var v=0,b=0,j=0,E=0,T=0,P=A.charCodeAt(0),U=!1,M=0,k=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var Q=m.dateNF!=null?mne(m.dateNF):null;function z(){var O=u.slice(E,T),L={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)L.t="z";else if(m.raw)L.t="s",L.v=O;else if(O.trim().length===0)L.t="s",L.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(L.t="s",L.v=O.slice(2,-1).replace(/""/g,'"')):Xse(O)?(L.t="n",L.f=O.slice(1)):(L.t="s",L.v=O);else if(O=="TRUE")L.t="b",L.v=!0;else if(O=="FALSE")L.t="b",L.v=!1;else if(!isNaN(j=H0(O)))L.t="n",m.cellText!==!1&&(L.w=O),L.v=j;else if(!isNaN(ib(O).getDate())||Q&&O.match(Q)){L.z=m.dateNF||Ml[14];var V=0;Q&&O.match(Q)&&(O=pne(O,m.dateNF,O.match(Q)||[]),V=1),m.cellDates?(L.t="d",L.v=cf(O,V)):(L.t="n",L.v=Df(cf(O,V))),m.cellText!==!1&&(L.w=dg(L.z,L.v instanceof Date?Df(L.v):L.v)),m.cellNF||delete L.z}else L.t="s",L.v=O;if(L.t=="z"||(m.dense?(y[v]||(y[v]=[]),y[v][b]=L):y[$i({c:b,r:v})]=L),E=T+1,k=u.charCodeAt(E),x.e.c<b&&(x.e.c=b),x.e.r<v&&(x.e.r=v),M==P)++b;else if(b=0,++v,m.sheetRows&&m.sheetRows<=v)return!0}e:for(;T<u.length;++T)switch(M=u.charCodeAt(T)){case 34:k===34&&(U=!U);break;case P:case 10:case 13:if(!U&&z())break e;break}return T-E>0&&z(),y["!ref"]=Oc(x),y}function o(u,h){return!(h&&h.PRN)||h.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,h):dy(t(u,h),h)}function l(u,h){var m="",A=h.type=="string"?[0,0,0,0]:due(u,h);switch(h.type){case"base64":m=G0(u);break;case"binary":m=u;break;case"buffer":h.codepage==65001?m=u.toString("utf8"):h.codepage&&typeof D5<"u"||(m=hi&&Buffer.isBuffer(u)?u.toString("binary"):Vb(u));break;case"array":m=mj(u);break;case"string":m=u;break;default:throw new Error("Unrecognized type "+h.type)}return A[0]==239&&A[1]==187&&A[2]==191?m=T2(m.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?m=T2(m):h.type=="binary"&&typeof D5<"u",m.slice(0,19)=="socialcalc:version:"?AH.to_sheet(h.type=="string"?m:T2(m),h):o(m,h)}function c(u,h){return i1(l(u,h),h)}function d(u){for(var h=[],m=Uo(u["!ref"]),A,y=Array.isArray(u),x=m.s.r;x<=m.e.r;++x){for(var v=[],b=m.s.c;b<=m.e.c;++b){var j=$i({r:x,c:b});if(A=y?(u[x]||[])[b]:u[j],!A||A.v==null){v.push("          ");continue}for(var E=(A.w||(W0(A),A.w)||"").slice(0,10);E.length<10;)E+=" ";v.push(E+(b===0?" ":""))}h.push(v.join(""))}return h.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:d}})(),qk=(function(){function e(B,R,Y){if(B){gh(B,B.l||0);for(var ie=Y.Enum||fe;B.l<B.length;){var ge=B.read_shift(2),ye=ie[ge]||ie[65535],pe=B.read_shift(2),Z=B.l+pe,le=ye.f&&ye.f(B,pe,Y);if(B.l=Z,R(le,ye,ge))return}}}function t(B,R){switch(R.type){case"base64":return r(HA(G0(B)),R);case"binary":return r(HA(B),R);case"buffer":case"array":return r(B,R)}throw"Unsupported type "+R.type}function r(B,R){if(!B)return B;var Y=R||{},ie=Y.dense?[]:{},ge="Sheet1",ye="",pe=0,Z={},le=[],te=[],Ne={s:{r:0,c:0},e:{r:0,c:0}},Fe=Y.sheetRows||0;if(B[2]==0&&(B[3]==8||B[3]==9)&&B.length>=16&&B[14]==5&&B[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(B[2]==2)Y.Enum=fe,e(B,function(st,et,He){switch(He){case 0:Y.vers=st,st>=4096&&(Y.qpro=!0);break;case 6:Ne=st;break;case 204:st&&(ye=st);break;case 222:ye=st;break;case 15:case 51:Y.qpro||(st[1].v=st[1].v.slice(1));case 13:case 14:case 16:He==14&&(st[2]&112)==112&&(st[2]&15)>1&&(st[2]&15)<15&&(st[1].z=Y.dateNF||Ml[14],Y.cellDates&&(st[1].t="d",st[1].v=FQ(st[1].v))),Y.qpro&&st[3]>pe&&(ie["!ref"]=Oc(Ne),Z[ge]=ie,le.push(ge),ie=Y.dense?[]:{},Ne={s:{r:0,c:0},e:{r:0,c:0}},pe=st[3],ge=ye||"Sheet"+(pe+1),ye="");var ct=Y.dense?(ie[st[0].r]||[])[st[0].c]:ie[$i(st[0])];if(ct){ct.t=st[1].t,ct.v=st[1].v,st[1].z!=null&&(ct.z=st[1].z),st[1].f!=null&&(ct.f=st[1].f);break}Y.dense?(ie[st[0].r]||(ie[st[0].r]=[]),ie[st[0].r][st[0].c]=st[1]):ie[$i(st[0])]=st[1];break}},Y);else if(B[2]==26||B[2]==14)Y.Enum=ve,B[2]==14&&(Y.qpro=!0,B.l=0),e(B,function(st,et,He){switch(He){case 204:ge=st;break;case 22:st[1].v=st[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(st[3]>pe&&(ie["!ref"]=Oc(Ne),Z[ge]=ie,le.push(ge),ie=Y.dense?[]:{},Ne={s:{r:0,c:0},e:{r:0,c:0}},pe=st[3],ge="Sheet"+(pe+1)),Fe>0&&st[0].r>=Fe)break;Y.dense?(ie[st[0].r]||(ie[st[0].r]=[]),ie[st[0].r][st[0].c]=st[1]):ie[$i(st[0])]=st[1],Ne.e.c<st[0].c&&(Ne.e.c=st[0].c),Ne.e.r<st[0].r&&(Ne.e.r=st[0].r);break;case 27:st[14e3]&&(te[st[14e3][0]]=st[14e3][1]);break;case 1537:te[st[0]]=st[1],st[0]==pe&&(ge=st[1]);break}},Y);else throw new Error("Unrecognized LOTUS BOF "+B[2]);if(ie["!ref"]=Oc(Ne),Z[ye||ge]=ie,le.push(ye||ge),!te.length)return{SheetNames:le,Sheets:Z};for(var be={},re=[],Ce=0;Ce<te.length;++Ce)Z[le[Ce]]?(re.push(te[Ce]||le[Ce]),be[te[Ce]]=Z[te[Ce]]||Z[le[Ce]]):(re.push(te[Ce]),be[te[Ce]]={"!ref":"A1"});return{SheetNames:re,Sheets:be}}function n(B,R){var Y=R||{};if(+Y.codepage>=0&&ab(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK1 to JS string");var ie=Of(),ge=Uo(B["!ref"]),ye=Array.isArray(B),pe=[];en(ie,0,i(1030)),en(ie,6,c(ge));for(var Z=Math.min(ge.e.r,8191),le=ge.s.r;le<=Z;++le)for(var te=Zu(le),Ne=ge.s.c;Ne<=ge.e.c;++Ne){le===ge.s.r&&(pe[Ne]=Pd(Ne));var Fe=pe[Ne]+te,be=ye?(B[le]||[])[Ne]:B[Fe];if(!(!be||be.t=="z"))if(be.t=="n")(be.v|0)==be.v&&be.v>=-32768&&be.v<=32767?en(ie,13,A(le,Ne,be.v)):en(ie,14,x(le,Ne,be.v));else{var re=W0(be);en(ie,15,h(le,Ne,re.slice(0,239)))}}return en(ie,1),ie.end()}function s(B,R){var Y=R||{};if(+Y.codepage>=0&&ab(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK3 to JS string");var ie=Of();en(ie,0,o(B));for(var ge=0,ye=0;ge<B.SheetNames.length;++ge)(B.Sheets[B.SheetNames[ge]]||{})["!ref"]&&en(ie,27,he(B.SheetNames[ge],ye++));var pe=0;for(ge=0;ge<B.SheetNames.length;++ge){var Z=B.Sheets[B.SheetNames[ge]];if(!(!Z||!Z["!ref"])){for(var le=Uo(Z["!ref"]),te=Array.isArray(Z),Ne=[],Fe=Math.min(le.e.r,8191),be=le.s.r;be<=Fe;++be)for(var re=Zu(be),Ce=le.s.c;Ce<=le.e.c;++Ce){be===le.s.r&&(Ne[Ce]=Pd(Ce));var st=Ne[Ce]+re,et=te?(Z[be]||[])[Ce]:Z[st];if(!(!et||et.t=="z"))if(et.t=="n")en(ie,23,z(be,Ce,pe,et.v));else{var He=W0(et);en(ie,22,M(be,Ce,pe,He.slice(0,239)))}}++pe}}return en(ie,1),ie.end()}function i(B){var R=Nr(2);return R.write_shift(2,B),R}function o(B){var R=Nr(26);R.write_shift(2,4096),R.write_shift(2,4),R.write_shift(4,0);for(var Y=0,ie=0,ge=0,ye=0;ye<B.SheetNames.length;++ye){var pe=B.SheetNames[ye],Z=B.Sheets[pe];if(!(!Z||!Z["!ref"])){++ge;var le=Sh(Z["!ref"]);Y<le.e.r&&(Y=le.e.r),ie<le.e.c&&(ie=le.e.c)}}return Y>8191&&(Y=8191),R.write_shift(2,Y),R.write_shift(1,ge),R.write_shift(1,ie),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(1,1),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(4,0),R}function l(B,R,Y){var ie={s:{c:0,r:0},e:{c:0,r:0}};return R==8&&Y.qpro?(ie.s.c=B.read_shift(1),B.l++,ie.s.r=B.read_shift(2),ie.e.c=B.read_shift(1),B.l++,ie.e.r=B.read_shift(2),ie):(ie.s.c=B.read_shift(2),ie.s.r=B.read_shift(2),R==12&&Y.qpro&&(B.l+=2),ie.e.c=B.read_shift(2),ie.e.r=B.read_shift(2),R==12&&Y.qpro&&(B.l+=2),ie.s.c==65535&&(ie.s.c=ie.e.c=ie.s.r=ie.e.r=0),ie)}function c(B){var R=Nr(8);return R.write_shift(2,B.s.c),R.write_shift(2,B.s.r),R.write_shift(2,B.e.c),R.write_shift(2,B.e.r),R}function d(B,R,Y){var ie=[{c:0,r:0},{t:"n",v:0},0,0];return Y.qpro&&Y.vers!=20768?(ie[0].c=B.read_shift(1),ie[3]=B.read_shift(1),ie[0].r=B.read_shift(2),B.l+=2):(ie[2]=B.read_shift(1),ie[0].c=B.read_shift(2),ie[0].r=B.read_shift(2)),ie}function u(B,R,Y){var ie=B.l+R,ge=d(B,R,Y);if(ge[1].t="s",Y.vers==20768){B.l++;var ye=B.read_shift(1);return ge[1].v=B.read_shift(ye,"utf8"),ge}return Y.qpro&&B.l++,ge[1].v=B.read_shift(ie-B.l,"cstr"),ge}function h(B,R,Y){var ie=Nr(7+Y.length);ie.write_shift(1,255),ie.write_shift(2,R),ie.write_shift(2,B),ie.write_shift(1,39);for(var ge=0;ge<ie.length;++ge){var ye=Y.charCodeAt(ge);ie.write_shift(1,ye>=128?95:ye)}return ie.write_shift(1,0),ie}function m(B,R,Y){var ie=d(B,R,Y);return ie[1].v=B.read_shift(2,"i"),ie}function A(B,R,Y){var ie=Nr(7);return ie.write_shift(1,255),ie.write_shift(2,R),ie.write_shift(2,B),ie.write_shift(2,Y,"i"),ie}function y(B,R,Y){var ie=d(B,R,Y);return ie[1].v=B.read_shift(8,"f"),ie}function x(B,R,Y){var ie=Nr(13);return ie.write_shift(1,255),ie.write_shift(2,R),ie.write_shift(2,B),ie.write_shift(8,Y,"f"),ie}function v(B,R,Y){var ie=B.l+R,ge=d(B,R,Y);if(ge[1].v=B.read_shift(8,"f"),Y.qpro)B.l=ie;else{var ye=B.read_shift(2);T(B.slice(B.l,B.l+ye),ge),B.l+=ye}return ge}function b(B,R,Y){var ie=R&32768;return R&=-32769,R=(ie?B:0)+(R>=8192?R-16384:R),(ie?"":"$")+(Y?Pd(R):Zu(R))}var j={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},E=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function T(B,R){gh(B,0);for(var Y=[],ie=0,ge="",ye="",pe="",Z="";B.l<B.length;){var le=B[B.l++];switch(le){case 0:Y.push(B.read_shift(8,"f"));break;case 1:ye=b(R[0].c,B.read_shift(2),!0),ge=b(R[0].r,B.read_shift(2),!1),Y.push(ye+ge);break;case 2:{var te=b(R[0].c,B.read_shift(2),!0),Ne=b(R[0].r,B.read_shift(2),!1);ye=b(R[0].c,B.read_shift(2),!0),ge=b(R[0].r,B.read_shift(2),!1),Y.push(te+Ne+":"+ye+ge)}break;case 3:if(B.l<B.length){console.error("WK1 premature formula end");return}break;case 4:Y.push("("+Y.pop()+")");break;case 5:Y.push(B.read_shift(2));break;case 6:{for(var Fe="";le=B[B.l++];)Fe+=String.fromCharCode(le);Y.push('"'+Fe.replace(/"/g,'""')+'"')}break;case 8:Y.push("-"+Y.pop());break;case 23:Y.push("+"+Y.pop());break;case 22:Y.push("NOT("+Y.pop()+")");break;case 20:case 21:Z=Y.pop(),pe=Y.pop(),Y.push(["AND","OR"][le-20]+"("+pe+","+Z+")");break;default:if(le<32&&E[le])Z=Y.pop(),pe=Y.pop(),Y.push(pe+E[le]+Z);else if(j[le]){if(ie=j[le][1],ie==69&&(ie=B[B.l++]),ie>Y.length){console.error("WK1 bad formula parse 0x"+le.toString(16)+":|"+Y.join("|")+"|");return}var be=Y.slice(-ie);Y.length-=ie,Y.push(j[le][0]+"("+be.join(",")+")")}else return le<=7?console.error("WK1 invalid opcode "+le.toString(16)):le<=24?console.error("WK1 unsupported op "+le.toString(16)):le<=30?console.error("WK1 invalid opcode "+le.toString(16)):le<=115?console.error("WK1 unsupported function opcode "+le.toString(16)):console.error("WK1 unrecognized opcode "+le.toString(16))}}Y.length==1?R[1].f=""+Y[0]:console.error("WK1 bad formula parse |"+Y.join("|")+"|")}function P(B){var R=[{c:0,r:0},{t:"n",v:0},0];return R[0].r=B.read_shift(2),R[3]=B[B.l++],R[0].c=B[B.l++],R}function U(B,R){var Y=P(B);return Y[1].t="s",Y[1].v=B.read_shift(R-4,"cstr"),Y}function M(B,R,Y,ie){var ge=Nr(6+ie.length);ge.write_shift(2,B),ge.write_shift(1,Y),ge.write_shift(1,R),ge.write_shift(1,39);for(var ye=0;ye<ie.length;++ye){var pe=ie.charCodeAt(ye);ge.write_shift(1,pe>=128?95:pe)}return ge.write_shift(1,0),ge}function k(B,R){var Y=P(B);Y[1].v=B.read_shift(2);var ie=Y[1].v>>1;if(Y[1].v&1)switch(ie&7){case 0:ie=(ie>>3)*5e3;break;case 1:ie=(ie>>3)*500;break;case 2:ie=(ie>>3)/20;break;case 3:ie=(ie>>3)/200;break;case 4:ie=(ie>>3)/2e3;break;case 5:ie=(ie>>3)/2e4;break;case 6:ie=(ie>>3)/16;break;case 7:ie=(ie>>3)/64;break}return Y[1].v=ie,Y}function Q(B,R){var Y=P(B),ie=B.read_shift(4),ge=B.read_shift(4),ye=B.read_shift(2);if(ye==65535)return ie===0&&ge===3221225472?(Y[1].t="e",Y[1].v=15):ie===0&&ge===3489660928?(Y[1].t="e",Y[1].v=42):Y[1].v=0,Y;var pe=ye&32768;return ye=(ye&32767)-16446,Y[1].v=(1-pe*2)*(ge*Math.pow(2,ye+32)+ie*Math.pow(2,ye)),Y}function z(B,R,Y,ie){var ge=Nr(14);if(ge.write_shift(2,B),ge.write_shift(1,Y),ge.write_shift(1,R),ie==0)return ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(2,65535),ge;var ye=0,pe=0,Z=0,le=0;return ie<0&&(ye=1,ie=-ie),pe=Math.log2(ie)|0,ie/=Math.pow(2,pe-31),le=ie>>>0,(le&2147483648)==0&&(ie/=2,++pe,le=ie>>>0),ie-=le,le|=2147483648,le>>>=0,ie*=Math.pow(2,32),Z=ie>>>0,ge.write_shift(4,Z),ge.write_shift(4,le),pe+=16383+(ye?32768:0),ge.write_shift(2,pe),ge}function O(B,R){var Y=Q(B);return B.l+=R-14,Y}function L(B,R){var Y=P(B),ie=B.read_shift(4);return Y[1].v=ie>>6,Y}function V(B,R){var Y=P(B),ie=B.read_shift(8,"f");return Y[1].v=ie,Y}function J(B,R){var Y=V(B);return B.l+=R-10,Y}function ce(B,R){return B[B.l+R-1]==0?B.read_shift(R,"cstr"):""}function ee(B,R){var Y=B[B.l++];Y>R-1&&(Y=R-1);for(var ie="";ie.length<Y;)ie+=String.fromCharCode(B[B.l++]);return ie}function de(B,R,Y){if(!(!Y.qpro||R<21)){var ie=B.read_shift(1);B.l+=17,B.l+=1,B.l+=2;var ge=B.read_shift(R-21,"cstr");return[ie,ge]}}function se(B,R){for(var Y={},ie=B.l+R;B.l<ie;){var ge=B.read_shift(2);if(ge==14e3){for(Y[ge]=[0,""],Y[ge][0]=B.read_shift(2);B[B.l];)Y[ge][1]+=String.fromCharCode(B[B.l]),B.l++;B.l++}}return Y}function he(B,R){var Y=Nr(5+B.length);Y.write_shift(2,14e3),Y.write_shift(2,R);for(var ie=0;ie<B.length;++ie){var ge=B.charCodeAt(ie);Y[Y.l++]=ge>127?95:ge}return Y[Y.l++]=0,Y}var fe={0:{n:"BOF",f:cH},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ce},222:{n:"SHEETNAMELP",f:ee},65535:{n:""}},ve={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:U},23:{n:"NUMBER17",f:Q},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:se},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:L},38:{n:"??"},39:{n:"NUMBER27",f:V},40:{n:"FORMULA28",f:J},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ce},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:de},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:t}})(),ese=/^\s|\s$|[\t\n\r]/;function mH(e,t){if(!t.bookSST)return"";var r=[Uc];r[r.length]=Jr("sst",null,{xmlns:uy[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var s=e[n],i="<si>";s.r?i+=s.r:(i+="<t",s.t||(s.t=""),s.t.match(ese)&&(i+=' xml:space="preserve"'),i+=">"+Qi(s.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function tse(e){return[e.read_shift(4),e.read_shift(4)]}function rse(e,t){return t||(t=Nr(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var nse=qne;function ase(e){var t=Of();Pr(t,159,rse(e));for(var r=0;r<e.length;++r)Pr(t,19,nse(e[r]));return Pr(t,160),t.end()}function sse(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function pH(e){var t=0,r,n=sse(e),s=n.length+1,i,o,l,c,d;for(r=qx(s),r[0]=n.length,i=1;i!=s;++i)r[i]=n[i-1];for(i=s-1;i>=0;--i)o=r[i],l=(t&16384)===0?0:1,c=t<<1&32767,d=l|c,t=d^o;return t^52811}var ise=(function(){function e(s,i){switch(i.type){case"base64":return t(G0(s),i);case"binary":return t(s,i);case"buffer":return t(hi&&Buffer.isBuffer(s)?s.toString("binary"):Vb(s),i);case"array":return t(mj(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){var o=i||{},l=o.dense?[]:{},c=s.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,h){Array.isArray(l)&&(l[h]=[]);for(var m=/\\\w+\b/g,A=0,y,x=-1;y=m.exec(u);){switch(y[0]){case"\\cell":var v=u.slice(A,m.lastIndex-y[0].length);if(v[0]==" "&&(v=v.slice(1)),++x,v.length){var b={v,t:"s"};Array.isArray(l)?l[h][x]=b:l[$i({r:h,c:x})]=b}break}A=m.lastIndex}x>d.e.c&&(d.e.c=x)}),l["!ref"]=Oc(d),l}function r(s,i){return i1(e(s,i),i)}function n(s){for(var i=["{\\rtf1\\ansi"],o=Uo(s["!ref"]),l,c=Array.isArray(s),d=o.s.r;d<=o.e.r;++d){i.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var h=$i({r:d,c:u});l=c?(s[d]||[])[u]:s[h],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(W0(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function Gk(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var ose=6,$0=ose;function K5(e){return Math.floor((e+Math.round(128/$0)/256)*$0)}function q5(e){return Math.floor((e-5)/$0*100+.5)/100}function HE(e){return Math.round((e*$0+5)/$0*256)/256}function y_(e){e.width?(e.wpx=K5(e.width),e.wch=q5(e.wpx),e.MDW=$0):e.wpx?(e.wch=q5(e.wpx),e.width=HE(e.wch),e.MDW=$0):typeof e.wch=="number"&&(e.width=HE(e.wch),e.wpx=K5(e.width),e.MDW=$0),e.customWidth&&delete e.customWidth}var lse=96,gH=lse;function G5(e){return e*96/gH}function xH(e){return e*gH/96}function cse(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Jr("numFmt",null,{numFmtId:n,formatCode:Qi(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Jr("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function use(e){var t=[];return t[t.length]=Jr("cellXfs",null),e.forEach(function(r){t[t.length]=Jr("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Jr("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function vH(e,t){var r=[Uc,Jr("styleSheet",null,{xmlns:uy[0],"xmlns:vt":Cu.vt})],n;return e.SSF&&(n=cse(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=use(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function dse(e,t){var r=e.read_shift(2),n=Ld(e);return[r,n]}function fse(e,t,r){r||(r=Nr(6+4*t.length)),r.write_shift(2,e),Bu(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function hse(e,t,r){var n={};n.sz=e.read_shift(2)/20;var s=eae(e);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=Zne(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ld(e),n}function Ase(e,t){t||(t=Nr(153)),t.write_shift(2,e.sz*20),tae(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),z5(e.color,t);var n=0;return n=2,t.write_shift(1,n),Bu(e.name,t),t.length>t.l?t.slice(0,t.l):t}var mse=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],p3,pse=Gm;function Wk(e,t){t||(t=Nr(84)),p3||(p3=l_(mse));var r=p3[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(z5({auto:1},t),z5({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function gse(e,t){var r=e.l+t,n=e.read_shift(2),s=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:s}}function yH(e,t,r){r||(r=Nr(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function r2(e,t){return t||(t=Nr(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var xse=Gm;function vse(e,t){return t||(t=Nr(51)),t.write_shift(1,0),r2(null,t),r2(null,t),r2(null,t),r2(null,t),r2(null,t),t.length>t.l?t.slice(0,t.l):t}function yse(e,t){return t||(t=Nr(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),$5(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function bse(e,t,r){var n=Nr(2052);return n.write_shift(4,e),$5(t,n),$5(r,n),n.length>n.l?n.slice(0,n.l):n}function wse(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&++r}),r!=0&&(Pr(e,615,WA(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&Pr(e,44,fse(s,t[s]))}),Pr(e,616))}}function Nse(e){var t=1;Pr(e,611,WA(t)),Pr(e,43,Ase({sz:12,color:{theme:1},name:"Calibri",family:2})),Pr(e,612)}function jse(e){var t=2;Pr(e,603,WA(t)),Pr(e,45,Wk({patternType:"none"})),Pr(e,45,Wk({patternType:"gray125"})),Pr(e,604)}function Sse(e){var t=1;Pr(e,613,WA(t)),Pr(e,46,vse()),Pr(e,614)}function Cse(e){var t=1;Pr(e,626,WA(t)),Pr(e,47,yH({numFmtId:0},65535)),Pr(e,627)}function Ese(e,t){Pr(e,617,WA(t.length)),t.forEach(function(r){Pr(e,47,yH(r,0))}),Pr(e,618)}function Bse(e){var t=1;Pr(e,619,WA(t)),Pr(e,48,yse({xfId:0,name:"Normal"})),Pr(e,620)}function Tse(e){var t=0;Pr(e,505,WA(t)),Pr(e,506)}function _se(e){var t=0;Pr(e,508,bse(t,"TableStyleMedium9","PivotStyleMedium4")),Pr(e,509)}function Fse(e,t){var r=Of();return Pr(r,278),wse(r,e.SSF),Nse(r),jse(r),Sse(r),Cse(r),Ese(r,t.cellXfs),Bse(r),Tse(r),_se(r),Pr(r,279),r.end()}function bH(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Uc];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Ise(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ld(e)}}function kse(e){var t=Nr(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Bu(e.name,t),t.slice(0,t.l)}function Pse(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Lse(e){var t=Nr(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function Ose(e,t){var r=Nr(8+2*t.length);return r.write_shift(4,e),Bu(t,r),r.slice(0,r.l)}function Dse(e){return e.l+=4,e.read_shift(4)!=0}function Mse(e,t){var r=Nr(8);return r.write_shift(4,e),r.write_shift(4,1),r}function Use(){var e=Of();return Pr(e,332),Pr(e,334,WA(1)),Pr(e,335,kse({name:"XLDAPR",version:12e4,flags:3496657072})),Pr(e,336),Pr(e,339,Ose(1,"XLDAPR")),Pr(e,52),Pr(e,35,WA(514)),Pr(e,4096,WA(0)),Pr(e,4097,nA(1)),Pr(e,36),Pr(e,53),Pr(e,340),Pr(e,337,Mse(1)),Pr(e,51,Lse([[1,0]])),Pr(e,338),Pr(e,333),e.end()}function wH(){var e=[Uc];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Rse(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=$i(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var Av=1024;function NH(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[Jr("xml",null,{"xmlns:v":yh.v,"xmlns:o":yh.o,"xmlns:x":yh.x,"xmlns:mv":yh.mv}).replace(/\/>/,">"),Jr("o:shapelayout",Jr("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Jr("v:shapetype",[Jr("v:stroke",null,{joinstyle:"miter"}),Jr("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Av<e*1e3;)Av+=1e3;return t.forEach(function(i){var o=Eu(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Jr("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=Jr("v:fill",c,l),u={on:"t",obscured:"t"};++Av,s=s.concat(["<v:shape"+lb({id:"_x0000_s"+Av,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,Jr("v:shadow",null,u),Jr("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ju("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Ju("x:AutoFill","False"),Ju("x:Row",String(o.r)),Ju("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function jH(e){var t=[Uc,Jr("comments",null,{xmlns:uy[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(s){var i=Qi(s.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),t.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var s=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?s=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(s=r.indexOf(Qi(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+s+'"><text>'),i.length<=1)t.push(Ju("t",Qi(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(Ju("t",Qi(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Qse(e,t,r){var n=[Uc,Jr("ThreadedComments",null,{xmlns:Cu.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(s){var i="";(s[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(Jr("threadedComment",Ju("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function Hse(e){var t=[Uc,Jr("personList",null,{xmlns:Cu.TCMNT,"xmlns:x":uy[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Jr("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function $se(e){var t={};t.iauthor=e.read_shift(4);var r=u1(e);return t.rfx=r.s,t.ref=$i(r.s),e.l+=16,t}function zse(e,t){return t==null&&(t=Nr(36)),t.write_shift(4,e[1].iauthor),fy(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Vse=Ld;function Kse(e){return Bu(e.slice(0,54))}function qse(e){var t=Of(),r=[];return Pr(t,628),Pr(t,630),e.forEach(function(n){n[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),Pr(t,632,Kse(s.a)))})}),Pr(t,631),Pr(t,633),e.forEach(function(n){n[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var i={s:Eu(n[0]),e:Eu(n[0])};Pr(t,635,zse([i,s])),s.t&&s.t.length>0&&Pr(t,637,Wne(s)),Pr(t,636),delete s.iauthor})}),Pr(t,634),Pr(t,629),t.end()}function Gse(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&ro.utils.cfb_add(e,s,t.FileIndex[n].content)}})}var SH=["xlsb","xlsm","xlam","biff8","xla"],Wse=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,s,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return l?u+=t.c:--u,c?d+=t.r:--d,s+(l?"":"$")+Pd(u)+(c?"":"$")+Zu(d)}return function(s,i){return t=i,s.replace(e,r)}})(),b_=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,w_=(function(){return function(t,r){return t.replace(b_,function(n,s,i,o,l,c){var d=m_(o)-(i?0:r.c),u=A_(c)-(l?0:r.r),h=u==0?"":l?u+1:"["+u+"]",m=d==0?"":i?d+1:"["+d+"]";return s+"R"+h+"C"+m})}})();function Yse(e,t){return e.replace(b_,function(r,n,s,i,o,l){return n+(s=="$"?s+i:Pd(m_(i)+t.c))+(o=="$"?o+l:Zu(A_(l)+t.r))})}function Xse(e){return e.length!=1}function kc(e){e.l+=1}function fg(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function CH(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return EH(e);r.biff==12&&(n=4)}var s=e.read_shift(n),i=e.read_shift(n),o=fg(e),l=fg(e);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function EH(e){var t=fg(e),r=fg(e),n=e.read_shift(1),s=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function Jse(e,t,r){if(r.biff<8)return EH(e);var n=e.read_shift(r.biff==12?4:2),s=e.read_shift(r.biff==12?4:2),i=fg(e),o=fg(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function BH(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Zse(e);var n=e.read_shift(r&&r.biff==12?4:2),s=fg(e);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function Zse(e){var t=fg(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function eie(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function tie(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return rie(e);var s=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;s>524287;)s-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:o,rRel:l}}function rie(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),s==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:s,rRel:n}}function nie(e,t,r){var n=(e[e.l++]&96)>>5,s=CH(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,s]}function aie(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=CH(e,i,r);return[n,s,o]}function sie(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function iie(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,s]}function oie(e,t,r){var n=(e[e.l++]&96)>>5,s=Jse(e,t-1,r);return[n,s]}function lie(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function Yk(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function cie(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),s=[],i=0;i<=n;++i)s.push(e.read_shift(r&&r.biff==2?1:2));return s}function uie(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function die(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function fie(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function hie(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function TH(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Aie(e){return e.read_shift(2),TH(e)}function mie(e){return e.read_shift(2),TH(e)}function pie(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=BH(e,0,r);return[n,s]}function gie(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=tie(e,0,r);return[n,s]}function xie(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=BH(e,0,r);return[n,s,i]}function vie(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(r&&r.biff<=3?1:2);return[voe[s],IH[s],n]}function yie(e,t,r){var n=e[e.l++],s=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:bie(e);return[s,(i[0]===0?IH:xoe)[i[1]]]}function bie(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function wie(e,t,r){e.l+=r&&r.biff==2?3:4}function Nie(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function jie(e){return e.l++,Gb[e.read_shift(1)]}function Sie(e){return e.l++,e.read_shift(2)}function Cie(e){return e.l++,e.read_shift(1)!==0}function Eie(e){return e.l++,hy(e)}function Bie(e,t,r){return e.l++,dH(e,t-1,r)}function Tie(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=xae(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Gb[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=hy(e);break;case 2:r[1]=wae(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function _ie(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),s=[],i=0;i!=n;++i)s.push((r.biff==12?u1:Sae)(e));return s}function Fie(e,t,r){var n=0,s=0;r.biff==12?(n=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--s==0&&(s=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=s;++l)o[i][l]=Tie(e,r.biff);return o}function Iie(e,t,r){var n=e.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,i=e.read_shift(s);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function kie(e,t,r){if(r.biff==5)return Pie(e);var n=e.read_shift(1)>>>5&3,s=e.read_shift(2),i=e.read_shift(4);return[n,s,i]}function Pie(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Lie(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function Oie(e,t,r){var n=e.read_shift(1)>>>5&3,s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function Die(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Mie(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,s]}var Uie=Gm,Rie=Gm,Qie=Gm;function Wb(e,t,r){return e.l+=2,[eie(e)]}function N_(e){return e.l+=6,[]}var Hie=Wb,$ie=N_,zie=N_,Vie=Wb;function _H(e){return e.l+=2,[cH(e),e.read_shift(2)&1]}var Kie=Wb,qie=_H,Gie=N_,Wie=Wb,Yie=Wb,Xie=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Jie(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),s=e.read_shift(2),i=e.read_shift(2),o=Xie[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:s,C:i}}function Zie(e){return e.l+=2,[e.read_shift(4)]}function eoe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function toe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function roe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function noe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function aoe(e){return e.l+=4,[0,0]}var Xk={1:{n:"PtgExp",f:Nie},2:{n:"PtgTbl",f:Qie},3:{n:"PtgAdd",f:kc},4:{n:"PtgSub",f:kc},5:{n:"PtgMul",f:kc},6:{n:"PtgDiv",f:kc},7:{n:"PtgPower",f:kc},8:{n:"PtgConcat",f:kc},9:{n:"PtgLt",f:kc},10:{n:"PtgLe",f:kc},11:{n:"PtgEq",f:kc},12:{n:"PtgGe",f:kc},13:{n:"PtgGt",f:kc},14:{n:"PtgNe",f:kc},15:{n:"PtgIsect",f:kc},16:{n:"PtgUnion",f:kc},17:{n:"PtgRange",f:kc},18:{n:"PtgUplus",f:kc},19:{n:"PtgUminus",f:kc},20:{n:"PtgPercent",f:kc},21:{n:"PtgParen",f:kc},22:{n:"PtgMissArg",f:kc},23:{n:"PtgStr",f:Bie},26:{n:"PtgSheet",f:eoe},27:{n:"PtgEndSheet",f:toe},28:{n:"PtgErr",f:jie},29:{n:"PtgBool",f:Cie},30:{n:"PtgInt",f:Sie},31:{n:"PtgNum",f:Eie},32:{n:"PtgArray",f:lie},33:{n:"PtgFunc",f:vie},34:{n:"PtgFuncVar",f:yie},35:{n:"PtgName",f:Iie},36:{n:"PtgRef",f:pie},37:{n:"PtgArea",f:nie},38:{n:"PtgMemArea",f:Lie},39:{n:"PtgMemErr",f:Uie},40:{n:"PtgMemNoMem",f:Rie},41:{n:"PtgMemFunc",f:Oie},42:{n:"PtgRefErr",f:Die},43:{n:"PtgAreaErr",f:sie},44:{n:"PtgRefN",f:gie},45:{n:"PtgAreaN",f:oie},46:{n:"PtgMemAreaN",f:roe},47:{n:"PtgMemNoMemN",f:noe},57:{n:"PtgNameX",f:kie},58:{n:"PtgRef3d",f:xie},59:{n:"PtgArea3d",f:aie},60:{n:"PtgRefErr3d",f:Mie},61:{n:"PtgAreaErr3d",f:iie},255:{}},soe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},ioe={1:{n:"PtgElfLel",f:_H},2:{n:"PtgElfRw",f:Wie},3:{n:"PtgElfCol",f:Hie},6:{n:"PtgElfRwV",f:Yie},7:{n:"PtgElfColV",f:Vie},10:{n:"PtgElfRadical",f:Kie},11:{n:"PtgElfRadicalS",f:Gie},13:{n:"PtgElfColS",f:$ie},15:{n:"PtgElfColSV",f:zie},16:{n:"PtgElfRadicalLel",f:qie},25:{n:"PtgList",f:Jie},29:{n:"PtgSxName",f:Zie},255:{}},ooe={0:{n:"PtgAttrNoop",f:aoe},1:{n:"PtgAttrSemi",f:hie},2:{n:"PtgAttrIf",f:die},4:{n:"PtgAttrChoose",f:cie},8:{n:"PtgAttrGoto",f:uie},16:{n:"PtgAttrSum",f:wie},32:{n:"PtgAttrBaxcel",f:Yk},33:{n:"PtgAttrBaxcel",f:Yk},64:{n:"PtgAttrSpace",f:Aie},65:{n:"PtgAttrSpaceSemi",f:mie},128:{n:"PtgAttrIfError",f:fie},255:{}};function loe(e,t,r,n){if(n.biff<8)return Gm(e,t);for(var s=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=Fie(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=_ie(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=s-e.l,t!==0&&i.push(Gm(e,t)),i}function coe(e,t,r){for(var n=e.l+t,s,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],s=Xk[i]||Xk[soe[i]],(i===24||i===25)&&(s=(i===24?ioe:ooe)[e[e.l+1]]),!s||!s.f?Gm(e,t):o.push([s.n,s.f(e,t,r)]);return o}function uoe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],s=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:s.push('"'+o[1].replace(/"/g,'""')+'"');break;default:s.push(o[1])}else s.push("")}t.push(s.join(","))}return t.join(";")}var doe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function foe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function FH(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(e[n[0]][0]){case 357:return s=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(s=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function Jk(e,t,r){var n=FH(e,t,r);return n=="#REF"?n:foe(n,r)}function $v(e,t,r,n,s){var i=s&&s.biff||8,o={s:{c:0,r:0}},l=[],c,d,u,h=0,m=0,A,y="";if(!e[0]||!e[0][0])return"";for(var x=-1,v="",b=0,j=e[0].length;b<j;++b){var E=e[0][b];switch(E[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),d=l.pop(),x>=0){switch(e[0][x][1][0]){case 0:v=Ll(" ",e[0][x][1][1]);break;case 1:v=Ll("\r",e[0][x][1][1]);break;default:if(v="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}d=d+v,x=-1}l.push(d+doe[E[0]]+c);break;case"PtgIsect":c=l.pop(),d=l.pop(),l.push(d+" "+c);break;case"PtgUnion":c=l.pop(),d=l.pop(),l.push(d+","+c);break;case"PtgRange":c=l.pop(),d=l.pop(),l.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=F2(E[1][1],o,s),l.push(I2(u,i));break;case"PtgRefN":u=r?F2(E[1][1],r,s):E[1][1],l.push(I2(u,i));break;case"PtgRef3d":h=E[1][1],u=F2(E[1][2],o,s),y=Jk(n,h,s),l.push(y+"!"+I2(u,i));break;case"PtgFunc":case"PtgFuncVar":var T=E[1][0],P=E[1][1];T||(T=0),T&=127;var U=T==0?[]:l.slice(-T);l.length-=T,P==="User"&&(P=U.shift()),l.push(P+"("+U.join(",")+")");break;case"PtgBool":l.push(E[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(E[1]);break;case"PtgNum":l.push(String(E[1]));break;case"PtgStr":l.push('"'+E[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(E[1]);break;case"PtgAreaN":A=Ok(E[1][1],r?{s:r}:o,s),l.push(A3(A,s));break;case"PtgArea":A=Ok(E[1][1],o,s),l.push(A3(A,s));break;case"PtgArea3d":h=E[1][1],A=E[1][2],y=Jk(n,h,s),l.push(y+"!"+A3(A,s));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=E[1][2];var M=(n.names||[])[m-1]||(n[0]||[])[m],k=M?M.Name:"SH33TJSNAME"+String(m);k&&k.slice(0,6)=="_xlfn."&&!s.xlfn&&(k=k.slice(6)),l.push(k);break;case"PtgNameX":var Q=E[1][1];m=E[1][2];var z;if(s.biff<=5)Q<0&&(Q=-Q),n[Q]&&(z=n[Q][m]);else{var O="";if(((n[Q]||[])[0]||[])[0]==14849||(((n[Q]||[])[0]||[])[0]==1025?n[Q][m]&&n[Q][m].itab>0&&(O=n.SheetNames[n[Q][m].itab-1]+"!"):O=n.SheetNames[m-1]+"!"),n[Q]&&n[Q][m])O+=n[Q][m].Name;else if(n[0]&&n[0][m])O+=n[0][m].Name;else{var L=(FH(n,Q,s)||"").split(";;");L[m-1]?O=L[m-1]:O+="SH33TJSERRX"}l.push(O);break}z||(z={Name:"SH33TJSERRY"}),l.push(z.Name);break;case"PtgParen":var V="(",J=")";if(x>=0){switch(v="",e[0][x][1][0]){case 2:V=Ll(" ",e[0][x][1][1])+V;break;case 3:V=Ll("\r",e[0][x][1][1])+V;break;case 4:J=Ll(" ",e[0][x][1][1])+J;break;case 5:J=Ll("\r",e[0][x][1][1])+J;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}x=-1}l.push(V+l.pop()+J);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":u={c:E[1][1],r:E[1][0]};var ce={c:r.c,r:r.r};if(n.sharedf[$i(u)]){var ee=n.sharedf[$i(u)];l.push($v(ee,o,ce,n,s))}else{var de=!1;for(c=0;c!=n.arrayf.length;++c)if(d=n.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){l.push($v(d[1],o,ce,n,s)),de=!0;break}de||l.push(E[1])}break;case"PtgArray":l.push("{"+uoe(E[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+E[1].idx+"[#"+E[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(E));default:throw new Error("Unrecognized Formula Token: "+String(E))}var se=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&x>=0&&se.indexOf(e[0][b][0])==-1){E=e[0][x];var he=!0;switch(E[1][0]){case 4:he=!1;case 0:v=Ll(" ",E[1][1]);break;case 5:he=!1;case 1:v=Ll("\r",E[1][1]);break;default:if(v="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+E[1][0])}l.push((he?v:"")+l.pop()+(he?"":v)),x=-1}}if(l.length>1&&s.WTF)throw new Error("bad formula stack");return l[0]}function hoe(e){if(e==null){var t=Nr(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Gx(e);return Gx(0)}function Aoe(e,t,r,n,s){var i=Wx(t,r,s),o=hoe(e.v),l=Nr(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var d=Nr(e.bf.length),u=0;u<e.bf.length;++u)d[u]=e.bf[u];var h=Xu([i,o,l,d]);return h}function pj(e,t,r){var n=e.read_shift(4),s=coe(e,n,r),i=e.read_shift(4),o=i>0?loe(e,i,s,r):null;return[s,o]}var moe=pj,gj=pj,poe=pj,goe=pj,xoe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},IH={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},voe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function yoe(e){var t="of:="+e.replace(b_,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function boe(e){return e.replace(/\./,"!")}var k2=typeof Map<"u";function j_(e,t,r){var n=0,s=e.length;if(r){if(k2?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=k2?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<s;++n)if(e[n].t===t)return e.Count++,n;return e[s]={t},e.Count++,e.Unique++,r&&(k2?(r.has(t)||r.set(t,[]),r.get(t).push(s)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(s))),s}function xj(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&($0=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=q5(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=HE(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function kH(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Tg(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],s=60,i=e.length;if(n==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){BQ(t.z,s),r.ssf[s]=t.z,r.revssf[t.z]=n=s;break}}for(s=0;s!=i;++s)if(e[s].numFmtId===n)return s;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function woe(e,t,r){if(e&&e["!ref"]){var n=Uo(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function Noe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Oc(e[r])+'"/>';return t+"</mergeCells>"}function joe(e,t,r,n,s){var i=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=ob(Qi(c))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),l=(l||"")+Jr("outlinePr",null,d)}!i&&!l||(s[s.length]=Jr("sheetPr",l,o))}var Soe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Coe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Eoe(e){var t={sheet:1};return Soe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),Coe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=pH(e.password).toString(16).toUpperCase()),Jr("sheetProtection",null,t)}function Boe(e){return kH(e),Jr("pageMargins",null,e)}function Toe(e,t){for(var r=["<cols>"],n,s=0;s!=t.length;++s)(n=t[s])&&(r[r.length]=Jr("col",null,xj(s,n)));return r[r.length]="</cols>",r.join("")}function _oe(e,t,r,n){var s=typeof e.ref=="string"?e.ref:Oc(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Sh(s);o.s.r==o.e.r&&(o.e.r=Sh(t["!ref"]).e.r,s=Oc(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+s;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),Jr("autoFilter",null,{ref:s})}function Foe(e,t,r,n){var s={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Jr("sheetViews",Jr("sheetView",null,s),{})}function Ioe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var s="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":s=e.v?"1":"0";break;case"n":s=""+e.v;break;case"e":s=Gb[e.v];break;case"d":n&&n.cellDates?s=cf(e.v,-1).toISOString():(e=Mf(e),e.t="n",s=""+(e.v=Df(cf(e.v)))),typeof e.z>"u"&&(e.z=Ml[14]);break;default:s=e.v;break}var l=Ju("v",Qi(s)),c={r:t},d=Tg(n.cellXfs,e,n);switch(d!==0&&(c.s=d),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=Ju("v",""+j_(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=Jr("f",Qi(e.f),u)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),Jr("c",l,c)}function koe(e,t,r,n){var s=[],i=[],o=Uo(e["!ref"]),l="",c,d="",u=[],h=0,m=0,A=e["!rows"],y=Array.isArray(e),x={r:d},v,b=-1;for(m=o.s.c;m<=o.e.c;++m)u[m]=Pd(m);for(h=o.s.r;h<=o.e.r;++h){for(i=[],d=Zu(h),m=o.s.c;m<=o.e.c;++m){c=u[m]+d;var j=y?(e[h]||[])[m]:e[c];j!==void 0&&(l=Ioe(j,c,e,t))!=null&&i.push(l)}(i.length>0||A&&A[h])&&(x={r:d},A&&A[h]&&(v=A[h],v.hidden&&(x.hidden=1),b=-1,v.hpx?b=G5(v.hpx):v.hpt&&(b=v.hpt),b>-1&&(x.ht=b,x.customHeight=1),v.level&&(x.outlineLevel=v.level)),s[s.length]=Jr("row",i.join(""),x))}if(A)for(;h<A.length;++h)A&&A[h]&&(x={r:h+1},v=A[h],v.hidden&&(x.hidden=1),b=-1,v.hpx?b=G5(v.hpx):v.hpt&&(b=v.hpt),b>-1&&(x.ht=b,x.customHeight=1),v.level&&(x.outlineLevel=v.level),s[s.length]=Jr("row","",x));return s.join("")}function PH(e,t,r,n){var s=[Uc,Jr("worksheet",null,{xmlns:uy[0],"xmlns:r":Cu.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var d=c["!ref"]||"A1",u=Uo(d);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),d=Oc(u)}n||(n={}),c["!comments"]=[];var h=[];joe(c,r,e,t,s),s[s.length]=Jr("dimension",null,{ref:d}),s[s.length]=Foe(c,t,e,r),t.sheetFormat&&(s[s.length]=Jr("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(s[s.length]=Toe(c,c["!cols"])),s[o=s.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=koe(c,t),l.length>0&&(s[s.length]=l)),s.length>o+1&&(s[s.length]="</sheetData>",s[o]=s[o].replace("/>",">")),c["!protect"]&&(s[s.length]=Eoe(c["!protect"])),c["!autofilter"]!=null&&(s[s.length]=_oe(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(s[s.length]=Noe(c["!merges"]));var m=-1,A,y=-1;return c["!links"].length>0&&(s[s.length]="<hyperlinks>",c["!links"].forEach(function(x){x[1].Target&&(A={ref:x[0]},x[1].Target.charAt(0)!="#"&&(y=Ui(n,-1,Qi(x[1].Target).replace(/#.*$/,""),ni.HLINK),A["r:id"]="rId"+y),(m=x[1].Target.indexOf("#"))>-1&&(A.location=Qi(x[1].Target.slice(m+1))),x[1].Tooltip&&(A.tooltip=Qi(x[1].Tooltip)),s[s.length]=Jr("hyperlink",null,A))}),s[s.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(s[s.length]=Boe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(s[s.length]=Ju("ignoredErrors",Jr("ignoredError",null,{numberStoredAsText:1,sqref:d}))),h.length>0&&(y=Ui(n,-1,"../drawings/drawing"+(e+1)+".xml",ni.DRAW),s[s.length]=Jr("drawing",null,{"r:id":"rId"+y}),c["!drawing"]=h),c["!comments"].length>0&&(y=Ui(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",ni.VML),s[s.length]=Jr("legacyDrawing",null,{"r:id":"rId"+y}),c["!legacy"]=y),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function Poe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=s/20),r}function Loe(e,t,r){var n=Nr(145),s=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;s.hpx?i=G5(s.hpx)*20:s.hpt&&(i=s.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;s.level&&(o|=s.level),s.hidden&&(o|=16),(s.hpx||s.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var d={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var h=-1,m=-1,A=u<<10;A<u+1<<10;++A){d.c=A;var y=Array.isArray(r)?(r[d.r]||[])[d.c]:r[$i(d)];y&&(h<0&&(h=A),m=A)}h<0||(++l,n.write_shift(4,h),n.write_shift(4,m))}var x=n.l;return n.l=c,n.write_shift(4,l),n.l=x,n.length>n.l?n.slice(0,n.l):n}function Ooe(e,t,r,n){var s=Loe(n,r,t);(s.length>17||(t["!rows"]||[])[n])&&Pr(e,0,s)}var Doe=u1,Moe=fy;function Uoe(){}function Roe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Yne(e),r}function Qoe(e,t,r){r==null&&(r=Nr(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var s=1;s<3;++s)r.write_shift(1,0);return z5({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),WQ(e,r),r.slice(0,r.l)}function Hoe(e){var t=fA(e);return[t]}function $oe(e,t,r){return r==null&&(r=Nr(8)),o1(t,r)}function zoe(e){var t=l1(e);return[t]}function Voe(e,t,r){return r==null&&(r=Nr(4)),c1(t,r)}function Koe(e){var t=fA(e),r=e.read_shift(1);return[t,r,"b"]}function qoe(e,t,r){return r==null&&(r=Nr(9)),o1(t,r),r.write_shift(1,e.v?1:0),r}function Goe(e){var t=l1(e),r=e.read_shift(1);return[t,r,"b"]}function Woe(e,t,r){return r==null&&(r=Nr(5)),c1(t,r),r.write_shift(1,e.v?1:0),r}function Yoe(e){var t=fA(e),r=e.read_shift(1);return[t,r,"e"]}function Xoe(e,t,r){return r==null&&(r=Nr(9)),o1(t,r),r.write_shift(1,e.v),r}function Joe(e){var t=l1(e),r=e.read_shift(1);return[t,r,"e"]}function Zoe(e,t,r){return r==null&&(r=Nr(8)),c1(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function ele(e){var t=fA(e),r=e.read_shift(4);return[t,r,"s"]}function tle(e,t,r){return r==null&&(r=Nr(12)),o1(t,r),r.write_shift(4,t.v),r}function rle(e){var t=l1(e),r=e.read_shift(4);return[t,r,"s"]}function nle(e,t,r){return r==null&&(r=Nr(8)),c1(t,r),r.write_shift(4,t.v),r}function ale(e){var t=fA(e),r=hy(e);return[t,r,"n"]}function sle(e,t,r){return r==null&&(r=Nr(16)),o1(t,r),Gx(e.v,r),r}function ile(e){var t=l1(e),r=hy(e);return[t,r,"n"]}function ole(e,t,r){return r==null&&(r=Nr(12)),c1(t,r),Gx(e.v,r),r}function lle(e){var t=fA(e),r=YQ(e);return[t,r,"n"]}function cle(e,t,r){return r==null&&(r=Nr(12)),o1(t,r),XQ(e.v,r),r}function ule(e){var t=l1(e),r=YQ(e);return[t,r,"n"]}function dle(e,t,r){return r==null&&(r=Nr(8)),c1(t,r),XQ(e.v,r),r}function fle(e){var t=fA(e),r=p_(e);return[t,r,"is"]}function hle(e){var t=fA(e),r=Ld(e);return[t,r,"str"]}function Ale(e,t,r){return r==null&&(r=Nr(12+4*e.v.length)),o1(t,r),Bu(e.v,r),r.length>r.l?r.slice(0,r.l):r}function mle(e){var t=l1(e),r=Ld(e);return[t,r,"str"]}function ple(e,t,r){return r==null&&(r=Nr(8+4*e.v.length)),c1(t,r),Bu(e.v,r),r.length>r.l?r.slice(0,r.l):r}function gle(e,t,r){var n=e.l+t,s=fA(e);s.r=r["!row"];var i=e.read_shift(1),o=[s,i,"b"];if(r.cellFormula){e.l+=2;var l=gj(e,n-e.l,r);o[3]=$v(l,null,s,r.supbooks,r)}else e.l=n;return o}function xle(e,t,r){var n=e.l+t,s=fA(e);s.r=r["!row"];var i=e.read_shift(1),o=[s,i,"e"];if(r.cellFormula){e.l+=2;var l=gj(e,n-e.l,r);o[3]=$v(l,null,s,r.supbooks,r)}else e.l=n;return o}function vle(e,t,r){var n=e.l+t,s=fA(e);s.r=r["!row"];var i=hy(e),o=[s,i,"n"];if(r.cellFormula){e.l+=2;var l=gj(e,n-e.l,r);o[3]=$v(l,null,s,r.supbooks,r)}else e.l=n;return o}function yle(e,t,r){var n=e.l+t,s=fA(e);s.r=r["!row"];var i=Ld(e),o=[s,i,"str"];if(r.cellFormula){e.l+=2;var l=gj(e,n-e.l,r);o[3]=$v(l,null,s,r.supbooks,r)}else e.l=n;return o}var ble=u1,wle=fy;function Nle(e,t){return t==null&&(t=Nr(4)),t.write_shift(4,e),t}function jle(e,t){var r=e.l+t,n=u1(e),s=g_(e),i=Ld(e),o=Ld(e),l=Ld(e);e.l=r;var c={rfx:n,relId:s,loc:i,display:l};return o&&(c.Tooltip=o),c}function Sle(e,t){var r=Nr(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));fy({s:Eu(e[0]),e:Eu(e[0])},r),x_("rId"+t,r);var n=e[1].Target.indexOf("#"),s=n==-1?"":e[1].Target.slice(n+1);return Bu(s||"",r),Bu(e[1].Tooltip||"",r),Bu("",r),r.slice(0,r.l)}function Cle(){}function Ele(e,t,r){var n=e.l+t,s=JQ(e),i=e.read_shift(1),o=[s];if(o[2]=i,r.cellFormula){var l=moe(e,n-e.l,r);o[1]=l}else e.l=n;return o}function Ble(e,t,r){var n=e.l+t,s=u1(e),i=[s];if(r.cellFormula){var o=goe(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}function Tle(e,t,r){r==null&&(r=Nr(18));var n=xj(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var s=0;return t.hidden&&(s|=1),typeof n.width=="number"&&(s|=2),t.level&&(s|=t.level<<8),r.write_shift(2,s),r}var LH=["left","right","top","bottom","header","footer"];function _le(e){var t={};return LH.forEach(function(r){t[r]=hy(e)}),t}function Fle(e,t){return t==null&&(t=Nr(48)),kH(e),LH.forEach(function(r){Gx(e[r],t)}),t}function Ile(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function kle(e,t,r){r==null&&(r=Nr(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Ple(e){var t=Nr(24);return t.write_shift(4,4),t.write_shift(4,1),fy(e,t),t}function Lle(e,t){return t==null&&(t=Nr(66)),t.write_shift(2,e.password?pH(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Ole(){}function Dle(){}function Mle(e,t,r,n,s,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=Mf(t),t.z=t.z||Ml[14],t.v=Df(cf(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=Tg(s.cellXfs,t,s),t.l&&i["!links"].push([$i(c),t.l]),t.c&&i["!comments"].push([$i(c),t.c]),t.t){case"s":case"str":return s.bookSST?(l=j_(s.Strings,t.v,s.revStrings),c.t="s",c.v=l,o?Pr(e,18,nle(t,c)):Pr(e,7,tle(t,c))):(c.t="str",o?Pr(e,17,ple(t,c)):Pr(e,6,Ale(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Pr(e,13,dle(t,c)):Pr(e,2,cle(t,c)):o?Pr(e,16,ole(t,c)):Pr(e,5,sle(t,c)),!0;case"b":return c.t="b",o?Pr(e,15,Woe(t,c)):Pr(e,4,qoe(t,c)),!0;case"e":return c.t="e",o?Pr(e,14,Zoe(t,c)):Pr(e,3,Xoe(t,c)),!0}return o?Pr(e,12,Voe(t,c)):Pr(e,1,$oe(t,c)),!0}function Ule(e,t,r,n){var s=Uo(t["!ref"]||"A1"),i,o="",l=[];Pr(e,145);var c=Array.isArray(t),d=s.e.r;t["!rows"]&&(d=Math.max(s.e.r,t["!rows"].length-1));for(var u=s.s.r;u<=d;++u){o=Zu(u),Ooe(e,t,s,u);var h=!1;if(u<=s.e.r)for(var m=s.s.c;m<=s.e.c;++m){u===s.s.r&&(l[m]=Pd(m)),i=l[m]+o;var A=c?(t[u]||[])[m]:t[i];if(!A){h=!1;continue}h=Mle(e,A,u,m,n,t,h)}}Pr(e,146)}function Rle(e,t){!t||!t["!merges"]||(Pr(e,177,Nle(t["!merges"].length)),t["!merges"].forEach(function(r){Pr(e,176,wle(r))}),Pr(e,178))}function Qle(e,t){!t||!t["!cols"]||(Pr(e,390),t["!cols"].forEach(function(r,n){r&&Pr(e,60,Tle(n,r))}),Pr(e,391))}function Hle(e,t){!t||!t["!ref"]||(Pr(e,648),Pr(e,649,Ple(Uo(t["!ref"]))),Pr(e,650))}function $le(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var s=Ui(r,-1,n[1].Target.replace(/#.*$/,""),ni.HLINK);Pr(e,494,Sle(n,s))}}),delete t["!links"]}function zle(e,t,r,n){if(t["!comments"].length>0){var s=Ui(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",ni.VML);Pr(e,551,x_("rId"+s)),t["!legacy"]=s}}function Vle(e,t,r,n){if(t["!autofilter"]){var s=t["!autofilter"],i=typeof s.ref=="string"?s.ref:Oc(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Sh(i);l.s.r==l.e.r&&(l.e.r=Sh(t["!ref"]).e.r,i=Oc(l));for(var c=0;c<o.length;++c){var d=o[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Pr(e,161,fy(Uo(i))),Pr(e,162)}}function Kle(e,t,r){Pr(e,133),Pr(e,137,kle(t,r)),Pr(e,138),Pr(e,134)}function qle(e,t){t["!protect"]&&Pr(e,535,Lle(t["!protect"]))}function Gle(e,t,r,n){var s=Of(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=Uo(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Pr(s,129),(r.vbaraw||o["!outline"])&&Pr(s,147,Qoe(l,o["!outline"])),Pr(s,148,Moe(c)),Kle(s,o,r.Workbook),Qle(s,o),Ule(s,o,e,t),qle(s,o),Vle(s,o,r,e),Rle(s,o),$le(s,o,n),o["!margins"]&&Pr(s,476,Fle(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Hle(s,o),zle(s,o,e,n),Pr(s,130),s.end()}function Wle(e,t){e.l+=10;var r=Ld(e);return{name:r}}var Yle=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function Xle(e){return!e.Workbook||!e.Workbook.WBProps?"false":Bne(e.Workbook.WBProps.date1904)?"true":"false"}var Jle="][*?/\\".split("");function OH(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Jle.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Zle(e,t,r){e.forEach(function(n,s){OH(n);for(var i=0;i<s;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[s]&&t[s].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function ece(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Zle(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)woe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function DH(e){var t=[Uc];t[t.length]=Jr("workbook",null,{xmlns:uy[0],"xmlns:r":Cu.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Yle.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Jr("workbookPr",null,n);var s=e.Workbook&&e.Workbook.Sheets||[],i=0;if(s&&s[0]&&s[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!s[i]||!s[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:Qi(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),s[i])switch(s[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=Jr("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=Jr("definedName",Qi(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function tce(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=QE(e),r.name=Ld(e),r}function rce(e,t){return t||(t=Nr(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),x_(e.strRelID,t),Bu(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function nce(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var s=t>8?Ld(e):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function ace(e,t){t||(t=Nr(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),WQ(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function sce(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var s=e.read_shift(4),i=Xne(e),o=poe(e,0,r),l=g_(e);e.l=n;var c={Name:i,Ptg:o};return s<268435455&&(c.Sheet=s),l&&(c.Comment=l),c}function ice(e,t){Pr(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,s={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Pr(e,156,rce(s))}Pr(e,144)}function oce(e,t){t||(t=Nr(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Bu("SheetJS",t),Bu(O5.version,t),Bu(O5.version,t),Bu("7262",t),t.length>t.l?t.slice(0,t.l):t}function lce(e,t){t||(t=Nr(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function cce(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,s=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&s==-1?s=n:r[n].Hidden==1&&i==-1&&(i=n);i>s||(Pr(e,135),Pr(e,158,lce(s)),Pr(e,136))}}function uce(e,t){var r=Of();return Pr(r,131),Pr(r,128,oce()),Pr(r,153,ace(e.Workbook&&e.Workbook.WBProps||null)),cce(r,e),ice(r,e),Pr(r,132),r.end()}function dce(e,t,r){return(t.slice(-4)===".bin"?uce:DH)(e)}function fce(e,t,r,n,s){return(t.slice(-4)===".bin"?Gle:PH)(e,r,n,s)}function hce(e,t,r){return(t.slice(-4)===".bin"?Fse:vH)(e,r)}function Ace(e,t,r){return(t.slice(-4)===".bin"?ase:mH)(e,r)}function mce(e,t,r){return(t.slice(-4)===".bin"?qse:jH)(e)}function pce(e){return(e.slice(-4)===".bin"?Use:wH)()}function gce(e,t){var r=[];return e.Props&&r.push(hae(e.Props,t)),e.Custprops&&r.push(Aae(e.Props,e.Custprops)),r.join("")}function xce(){return""}function vce(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,s){var i=[];i.push(Jr("NumberFormat",null,{"ss:Format":Qi(Ml[n.numFmtId])}));var o={"ss:ID":"s"+(21+s)};r.push(Jr("Style",i.join(""),o))}),Jr("Styles",r.join(""))}function MH(e){return Jr("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+w_(e.Ref,{r:0,c:0})})}function yce(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var s=t[n];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(MH(s)))}return Jr("Names",r.join(""))}function bce(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var s=n.Workbook.Names,i=[],o=0;o<s.length;++o){var l=s[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(MH(l)))}return i.join("")}function wce(e,t,r,n){if(!e)return"";var s=[];if(e["!margins"]&&(s.push("<PageSetup>"),e["!margins"].header&&s.push(Jr("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&s.push(Jr("Footer",null,{"x:Margin":e["!margins"].footer})),s.push(Jr("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),s.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)s.push(Jr("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&s.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),e["!protect"]&&(s.push(Ju("ProtectContents","True")),e["!protect"].objects&&s.push(Ju("ProtectObjects","True")),e["!protect"].scenarios&&s.push(Ju("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?s.push(Ju("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&s.push(Ju("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&s.push("<"+o[1]+"/>")})),s.length==0?"":Jr("WorksheetOptions",s.join(""),{xmlns:yh.x})}function Nce(e){return e.map(function(t){var r=Ene(t.t||""),n=Jr("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Jr("Comment",n,{"ss:Author":t.a})}).join("")}function jce(e,t,r,n,s,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Qi(w_(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=Eu(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Qi(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Qi(e.l.Tooltip))),r["!merges"])for(var d=r["!merges"],u=0;u!=d.length;++u)d[u].s.c!=o.c||d[u].s.r!=o.r||(d[u].e.c>d[u].s.c&&(l["ss:MergeAcross"]=d[u].e.c-d[u].s.c),d[u].e.r>d[u].s.r&&(l["ss:MergeDown"]=d[u].e.r-d[u].s.r));var h="",m="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",m=String(e.v);break;case"b":h="Boolean",m=e.v?"1":"0";break;case"e":h="Error",m=Gb[e.v];break;case"d":h="DateTime",m=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Ml[14]);break;case"s":h="String",m=Cne(e.v||"");break}var A=Tg(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+A),l["ss:Index"]=o.c+1;var y=e.v!=null?m:"",x=e.t=="z"?"":'<Data ss:Type="'+h+'">'+y+"</Data>";return(e.c||[]).length>0&&(x+=Nce(e.c)),Jr("Cell",x,l)}function Sce(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=xH(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Cce(e,t,r,n){if(!e["!ref"])return"";var s=Uo(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(v,b){y_(v);var j=!!v.width,E=xj(b,v),T={"ss:Index":b+1};j&&(T["ss:Width"]=K5(E.width)),v.hidden&&(T["ss:Hidden"]="1"),l.push(Jr("Column",null,T))});for(var c=Array.isArray(e),d=s.s.r;d<=s.e.r;++d){for(var u=[Sce(d,(e["!rows"]||[])[d])],h=s.s.c;h<=s.e.c;++h){var m=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>h)&&!(i[o].s.r>d)&&!(i[o].e.c<h)&&!(i[o].e.r<d)){(i[o].s.c!=h||i[o].s.r!=d)&&(m=!0);break}if(!m){var A={r:d,c:h},y=$i(A),x=c?(e[d]||[])[h]:e[y];u.push(jce(x,y,e,t,r,n,A))}}u.push("</Row>"),u.length>2&&l.push(u.join(""))}return l.join("")}function Ece(e,t,r){var n=[],s=r.SheetNames[e],i=r.Sheets[s],o=i?bce(i,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?Cce(i,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(wce(i,t,e,r)),n.join("")}function Bce(e,t){t||(t={}),e.SSF||(e.SSF=Mf(Ml)),e.SSF&&(hj(),fj(e.SSF),t.revssf=Aj(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Tg(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(gce(e,t)),r.push(xce()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Jr("Worksheet",Ece(n,t,e),{"ss:Name":Qi(e.SheetNames[n])}));return r[2]=vce(e,t),r[3]=yce(e),Uc+Jr("Workbook",r.join(""),{xmlns:yh.ss,"xmlns:o":yh.o,"xmlns:x":yh.x,"xmlns:ss":yh.ss,"xmlns:dt":yh.dt,"xmlns:html":yh.html})}var g3={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Tce(e,t){var r=[],n=[],s=[],i=0,o,l=Sk(Mk,"n"),c=Sk(Uk,"n");if(e.Props)for(o=rd(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:s).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=rd(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:s).push([o[i],e.Custprops[o[i]]]);var d=[];for(i=0;i<s.length;++i)lH.indexOf(s[i][0])>-1||sH.indexOf(s[i][0])>-1||s[i][1]!=null&&d.push(s[i]);n.length&&ro.utils.cfb_add(t,"/SummaryInformation",zk(n,g3.SI,c,Uk)),(r.length||d.length)&&ro.utils.cfb_add(t,"/DocumentSummaryInformation",zk(r,g3.DSI,l,Mk,d.length?d:null,g3.UDI))}function _ce(e,t){var r=t||{},n=ro.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return ro.utils.cfb_add(n,s,UH(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Tce(e,n),r.biff==8&&e.vbaraw&&Gse(n,ro.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var Fce={0:{f:Poe},1:{f:Hoe},2:{f:lle},3:{f:Yoe},4:{f:Koe},5:{f:ale},6:{f:hle},7:{f:ele},8:{f:yle},9:{f:vle},10:{f:gle},11:{f:xle},12:{f:zoe},13:{f:ule},14:{f:Joe},15:{f:Goe},16:{f:ile},17:{f:mle},18:{f:rle},19:{f:p_},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:sce},40:{},42:{},43:{f:hse},44:{f:dse},45:{f:pse},46:{f:xse},47:{f:gse},48:{},49:{f:zne},50:{},51:{f:Pse},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Vae},62:{f:fle},63:{f:Rse},64:{f:Ole},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Gm,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Ile},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Roe},148:{f:Doe,p:16},151:{f:Cle},152:{},153:{f:nce},154:{},155:{},156:{f:tce},157:{},158:{},159:{T:1,f:tse},160:{T:-1},161:{T:1,f:u1},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:ble},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Ise},336:{T:-1},337:{f:Dse,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:QE},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Uae},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Ele},427:{f:Ble},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:_le},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Uoe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:jle},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:QE},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Vse},633:{T:1},634:{T:-1},635:{T:1,f:$se},636:{T:-1},637:{f:Gne},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Wle},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Dle},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function en(e,t,r,n){var s=t;if(!isNaN(s)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,s),o.write_shift(2,i),i>0&&h_(r)&&e.push(r)}}function Ice(e,t,r,n){var s=(r||[]).length||0;if(s<=8224)return en(e,t,r,s);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d;c<s;){for(u=e.next(4),u.write_shift(2,60),d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d}}}function Yb(e,t,r){return e||(e=Nr(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function kce(e,t,r,n){var s=Nr(9);return Yb(s,e,t),uH(r,n||"b",s),s}function Pce(e,t,r){var n=Nr(8+2*r.length);return Yb(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Lce(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var s=t.t=="d"?Df(cf(t.v)):t.v;s==(s|0)&&s>=0&&s<65536?en(e,2,Wae(r,n,s)):en(e,3,Gae(r,n,s));return;case"b":case"e":en(e,5,kce(r,n,t.v,t.t));return;case"s":case"str":en(e,4,Pce(r,n,(t.v||"").slice(0,255)));return}en(e,1,Yb(null,r,n))}function Oce(e,t,r,n){var s=Array.isArray(t),i=Uo(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=Oc(i)}for(var d=i.s.r;d<=i.e.r;++d){l=Zu(d);for(var u=i.s.c;u<=i.e.c;++u){d===i.s.r&&(c[u]=Pd(u)),o=c[u]+l;var h=s?(t[d]||[])[u]:t[o];h&&Lce(e,h,d,u)}}}function Dce(e,t){for(var r=t||{},n=Of(),s=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(s=i);if(s==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return en(n,r.biff==4?1033:r.biff==3?521:9,v_(e,16,r)),Oce(n,e.Sheets[e.SheetNames[s]],s,r),en(n,10),n.end()}function Mce(e,t,r){en(e,49,Fae({sz:12,name:"Arial"},r))}function Uce(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&en(e,1054,Pae(s,t[s],r))})}function Rce(e,t){var r=Nr(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),en(e,2151,r),r=Nr(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),hH(Uo(t["!ref"]||"A1"),r),r.write_shift(4,4),en(e,2152,r)}function Qce(e,t){for(var r=0;r<16;++r)en(e,224,Kk({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){en(e,224,Kk(n,0,t))})}function Hce(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];en(e,440,Hae(n)),n[1].Tooltip&&en(e,2048,$ae(n))}delete t["!links"]}function $ce(e,t){if(t){var r=0;t.forEach(function(n,s){++r<=256&&n&&en(e,125,Kae(xj(s,n),s))})}}function zce(e,t,r,n,s){var i=16+Tg(s.cellXfs,t,s);if(t.v==null&&!t.bf){en(e,513,Wx(r,n,i));return}if(t.bf)en(e,6,Aoe(t,r,n,s,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?Df(cf(t.v)):t.v;en(e,515,Mae(r,n,o,i));break;case"b":case"e":en(e,517,Dae(r,n,t.v,i,s,t.t));break;case"s":case"str":if(s.bookSST){var l=j_(s.Strings,t.v,s.revStrings);en(e,253,Iae(r,n,l,i))}else en(e,516,kae(r,n,(t.v||"").slice(0,255),i,s));break;default:en(e,513,Wx(r,n,i))}}function Vce(e,t,r){var n=Of(),s=r.SheetNames[e],i=r.Sheets[s]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),d=t.biff==8,u,h="",m=[],A=Uo(i["!ref"]||"A1"),y=d?65536:16384;if(A.e.c>255||A.e.r>=y){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");A.e.c=Math.min(A.e.c,255),A.e.r=Math.min(A.e.c,y-1)}en(n,2057,v_(r,16,t)),en(n,13,nA(1)),en(n,12,nA(100)),en(n,15,tf(!0)),en(n,17,tf(!1)),en(n,16,Gx(.001)),en(n,95,tf(!0)),en(n,42,tf(!1)),en(n,43,tf(!1)),en(n,130,nA(1)),en(n,128,Oae()),en(n,131,tf(!1)),en(n,132,tf(!1)),d&&$ce(n,i["!cols"]),en(n,512,Lae(A,t)),d&&(i["!links"]=[]);for(var x=A.s.r;x<=A.e.r;++x){h=Zu(x);for(var v=A.s.c;v<=A.e.c;++v){x===A.s.r&&(m[v]=Pd(v)),u=m[v]+h;var b=c?(i[x]||[])[v]:i[u];b&&(zce(n,b,x,v,t),d&&b.l&&i["!links"].push([u,b.l]))}}var j=l.CodeName||l.name||s;return d&&en(n,574,_ae((o.Views||[])[0])),d&&(i["!merges"]||[]).length&&en(n,229,Qae(i["!merges"])),d&&Hce(n,i),en(n,442,fH(j)),d&&Rce(n,i),en(n,10),n.end()}function Kce(e,t,r){var n=Of(),s=(e||{}).Workbook||{},i=s.Sheets||[],o=s.WBProps||{},l=r.biff==8,c=r.biff==5;if(en(n,2057,v_(e,5,r)),r.bookType=="xla"&&en(n,135),en(n,225,l?nA(1200):null),en(n,193,gae(2)),c&&en(n,191),c&&en(n,192),en(n,226),en(n,92,Cae("SheetJS",r)),en(n,66,nA(l?1200:1252)),l&&en(n,353,nA(0)),l&&en(n,448),en(n,317,qae(e.SheetNames.length)),l&&e.vbaraw&&en(n,211),l&&e.vbaraw){var d=o.CodeName||"ThisWorkbook";en(n,442,fH(d))}en(n,156,nA(17)),en(n,25,tf(!1)),en(n,18,tf(!1)),en(n,19,nA(0)),l&&en(n,431,tf(!1)),l&&en(n,444,nA(0)),en(n,61,Tae()),en(n,64,tf(!1)),en(n,141,nA(0)),en(n,34,tf(Xle(e)=="true")),en(n,14,tf(!0)),l&&en(n,439,tf(!1)),en(n,218,nA(0)),Mce(n,e,r),Uce(n,e.SSF,r),Qce(n,r),l&&en(n,352,tf(!1));var u=n.end(),h=Of();l&&en(h,140,zae()),l&&r.Strings&&Ice(h,252,Bae(r.Strings)),en(h,10);var m=h.end(),A=Of(),y=0,x=0;for(x=0;x<e.SheetNames.length;++x)y+=(l?12:11)+(l?2:1)*e.SheetNames[x].length;var v=u.length+y+m.length;for(x=0;x<e.SheetNames.length;++x){var b=i[x]||{};en(A,133,Eae({pos:v,hs:b.Hidden||0,dt:0,name:e.SheetNames[x]},r)),v+=t[x].length}var j=A.end();if(y!=j.length)throw new Error("BS8 "+y+" != "+j.length);var E=[];return u.length&&E.push(u),j.length&&E.push(j),m.length&&E.push(m),Xu(E)}function qce(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Mf(Ml)),e&&e.SSF&&(hj(),fj(e.SSF),r.revssf=Aj(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,S_(r),r.cellXfs=[],Tg(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var s=0;s<e.SheetNames.length;++s)n[n.length]=Vce(s,r,e);return n.unshift(Kce(e,n,r)),Xu(n)}function UH(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var s=Sh(n["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return qce(e,t);case 4:case 3:case 2:return Dce(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function Gce(e,t,r,n){for(var s=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,d=0;d<s.length;++d)if(!(s[d].s.r>r||s[d].s.c>o)&&!(s[d].e.r<r||s[d].e.c<o)){if(s[d].s.r<r||s[d].s.c<o){l=-1;break}l=s[d].e.r-s[d].s.r+1,c=s[d].e.c-s[d].s.c+1;break}if(!(l<0)){var u=$i({r,c:o}),h=n.dense?(e[r]||[])[o]:e[u],m=h&&h.v!=null&&(h.h||Sne(h.w||(W0(h),h.w)||""))||"",A={};l>1&&(A.rowspan=l),c>1&&(A.colspan=c),n.editable?m='<span contenteditable="true">'+m+"</span>":h&&(A["data-t"]=h&&h.t||"z",h.v!=null&&(A["data-v"]=h.v),h.z!=null&&(A["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+h.l.Target+'">'+m+"</a>")),A.id=(n.id||"sjs")+"-"+u,i.push(Jr("td",m,A))}}var y="<tr>";return y+i.join("")+"</tr>"}var Wce='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Yce="</body></html>";function Xce(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function RH(e,t){var r=t||{},n=r.header!=null?r.header:Wce,s=r.footer!=null?r.footer:Yce,i=[n],o=Sh(e["!ref"]);r.dense=Array.isArray(e),i.push(Xce(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(Gce(e,o,l,r));return i.push("</table>"+s),i.join("")}function QH(e,t,r){var n=r||{},s=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var o=typeof n.origin=="string"?Eu(n.origin):n.origin;s=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),d={s:{r:0,c:0},e:{r:s,c:i}};if(e["!ref"]){var u=Sh(e["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),s==-1&&(d.e.r=s=u.e.r+1)}var h=[],m=0,A=e["!rows"]||(e["!rows"]=[]),y=0,x=0,v=0,b=0,j=0,E=0;for(e["!cols"]||(e["!cols"]=[]);y<l.length&&x<c;++y){var T=l[y];if(Zk(T)){if(n.display)continue;A[x]={hidden:!0}}var P=T.children;for(v=b=0;v<P.length;++v){var U=P[v];if(!(n.display&&Zk(U))){var M=U.hasAttribute("data-v")?U.getAttribute("data-v"):U.hasAttribute("v")?U.getAttribute("v"):Tne(U.innerHTML),k=U.getAttribute("data-z")||U.getAttribute("z");for(m=0;m<h.length;++m){var Q=h[m];Q.s.c==b+i&&Q.s.r<x+s&&x+s<=Q.e.r&&(b=Q.e.c+1-i,m=-1)}E=+U.getAttribute("colspan")||1,((j=+U.getAttribute("rowspan")||1)>1||E>1)&&h.push({s:{r:x+s,c:b+i},e:{r:x+s+(j||1)-1,c:b+i+(E||1)-1}});var z={t:"s",v:M},O=U.getAttribute("data-t")||U.getAttribute("t")||"";M!=null&&(M.length==0?z.t=O||"z":n.raw||M.trim().length==0||O=="s"||(M==="TRUE"?z={t:"b",v:!0}:M==="FALSE"?z={t:"b",v:!1}:isNaN(H0(M))?isNaN(ib(M).getDate())||(z={t:"d",v:cf(M)},n.cellDates||(z={t:"n",v:Df(z.v)}),z.z=n.dateNF||Ml[14]):z={t:"n",v:H0(M)})),z.z===void 0&&k!=null&&(z.z=k);var L="",V=U.getElementsByTagName("A");if(V&&V.length)for(var J=0;J<V.length&&!(V[J].hasAttribute("href")&&(L=V[J].getAttribute("href"),L.charAt(0)!="#"));++J);L&&L.charAt(0)!="#"&&(z.l={Target:L}),n.dense?(e[x+s]||(e[x+s]=[]),e[x+s][b+i]=z):e[$i({c:b+i,r:x+s})]=z,d.e.c<b+i&&(d.e.c=b+i),b+=E}}++x}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),d.e.r=Math.max(d.e.r,x-1+s),e["!ref"]=Oc(d),x>=c&&(e["!fullref"]=Oc((d.e.r=l.length-y+x-1+s,d))),e}function HH(e,t){var r=t||{},n=r.dense?[]:{};return QH(n,e,t)}function Jce(e,t){return i1(HH(e,t),t)}function Zk(e){var t="",r=Zce(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Zce(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var eue=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+lb({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Uc+t}})(),eP=(function(){var e=function(i){return Qi(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,l){var c=[];c.push('      <table:table table:name="'+Qi(o.SheetNames[l])+`" table:style-name="ta1">
`);var d=0,u=0,h=Sh(i["!ref"]||"A1"),m=i["!merges"]||[],A=0,y=Array.isArray(i);if(i["!cols"])for(u=0;u<=h.e.c;++u)c.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var x="",v=i["!rows"]||[];for(d=0;d<h.s.r;++d)x=v[d]?' table:style-name="ro'+v[d].ods+'"':"",c.push("        <table:table-row"+x+`></table:table-row>
`);for(;d<=h.e.r;++d){for(x=v[d]?' table:style-name="ro'+v[d].ods+'"':"",c.push("        <table:table-row"+x+`>
`),u=0;u<h.s.c;++u)c.push(t);for(;u<=h.e.c;++u){var b=!1,j={},E="";for(A=0;A!=m.length;++A)if(!(m[A].s.c>u)&&!(m[A].s.r>d)&&!(m[A].e.c<u)&&!(m[A].e.r<d)){(m[A].s.c!=u||m[A].s.r!=d)&&(b=!0),j["table:number-columns-spanned"]=m[A].e.c-m[A].s.c+1,j["table:number-rows-spanned"]=m[A].e.r-m[A].s.r+1;break}if(b){c.push(r);continue}var T=$i({r:d,c:u}),P=y?(i[d]||[])[u]:i[T];if(P&&P.f&&(j["table:formula"]=Qi(yoe(P.f)),P.F&&P.F.slice(0,T.length)==T)){var U=Sh(P.F);j["table:number-matrix-columns-spanned"]=U.e.c-U.s.c+1,j["table:number-matrix-rows-spanned"]=U.e.r-U.s.r+1}if(!P){c.push(t);continue}switch(P.t){case"b":E=P.v?"TRUE":"FALSE",j["office:value-type"]="boolean",j["office:boolean-value"]=P.v?"true":"false";break;case"n":E=P.w||String(P.v||0),j["office:value-type"]="float",j["office:value"]=P.v||0;break;case"s":case"str":E=P.v==null?"":P.v,j["office:value-type"]="string";break;case"d":E=P.w||cf(P.v).toISOString(),j["office:value-type"]="date",j["office:date-value"]=cf(P.v).toISOString(),j["table:style-name"]="ce1";break;default:c.push(t);continue}var M=e(E);if(P.l&&P.l.Target){var k=P.l.Target;k=k.charAt(0)=="#"?"#"+boe(k.slice(1)):k,k.charAt(0)!="#"&&!k.match(/^\w+:/)&&(k="../"+k),M=Jr("text:a",M,{"xlink:href":k.replace(/&/g,"&amp;")})}c.push("          "+Jr("table:table-cell",Jr("text:p",M,{}),j)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},s=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var u=0;u<d["!cols"].length;++u)if(d["!cols"][u]){var h=d["!cols"][u];if(h.width==null&&h.wpx==null&&h.wch==null)continue;y_(h),h.ods=l;var m=d["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var u=0;u<d["!rows"].length;++u)if(d["!rows"][u]){d["!rows"][u].ods=c;var h=d["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[Uc],d=lb({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=lb({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+d+u+`>
`),c.push(nH().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),s(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var h=0;h!=o.SheetNames.length;++h)c.push(n(o.Sheets[o.SheetNames[h]],o,h));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function $H(e,t){if(t.bookType=="fods")return eP(e,t);var r=c_(),n="",s=[],i=[];return n="mimetype",ss(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",ss(r,n,eP(e,t)),s.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",ss(r,n,eue(e,t)),s.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",ss(r,n,Uc+nH()),s.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",ss(r,n,fae(i)),s.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",ss(r,n,uae(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function W5(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function tue(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):HA(ob(e))}function rue(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function hg(e){var t=e.reduce(function(s,i){return s+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(s){r.set(s,n),n+=s.length}),r}function nue(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;s>=1;++i,s/=256)e[t+i]=s&255;e[t+15]|=r>=0?0:128}function cb(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Di(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Bv(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Zc(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],s=cb(e,r),i=s&7;s=Math.floor(s/8);var o=0,l;if(s==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=cb(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(n))}var d={data:l,type:i};t[s]==null?t[s]=[d]:t[s].push(d)}return t}function Ku(e){var t=[];return e.forEach(function(r,n){r.forEach(function(s){s.data&&(t.push(Di(n*8+s.type)),s.type==2&&t.push(Di(s.data.length)),t.push(s.data))})}),hg(t)}function LA(e){for(var t,r=[],n=[0];n[0]<e.length;){var s=cb(e,n),i=Zc(e.slice(n[0],n[0]+s));n[0]+=s;var o={id:Bv(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=Zc(l.data),d=Bv(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+d)}),n[0]+=d}),(t=i[3])!=null&&t[0]&&(o.merge=Bv(i[3][0].data)>>>0>0),r.push(o)}return r}function W1(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Di(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Di(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(o){s.push(o.data),o.meta[3]=[{type:0,data:Di(o.data.length)}],n[2].push({data:Ku(o.meta),type:2})});var i=Ku(n);t.push(Di(i.length)),t.push(i),s.forEach(function(o){return t.push(o)})}),hg(t)}function aue(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=cb(t,r),s=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}s.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,d=0;if(i==1?(d=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(d=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),s=[hg(s)],c==0)throw new Error("Invalid offset 0");if(c>s[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(s.push(s[0].slice(-c)),d-=c;d>=s[s.length-1].length;)s.push(s[s.length-1]),d-=s[s.length-1].length;s.push(s[0].slice(-c,-c+d))}}var u=hg(s);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function OA(e){for(var t=[],r=0;r<e.length;){var n=e[r++],s=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(aue(n,e.slice(r,r+s))),r+=s}if(r!==e.length)throw new Error("data is not a valid framed stream!");return hg(t)}function Y1(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),s=new Uint8Array(4);t.push(s);var i=Di(n),o=i.length;t.push(i),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,s[0]=0,s[1]=o&255,s[2]=o>>8&255,s[3]=o>>16&255,r+=n}return hg(t)}function x3(e,t){var r=new Uint8Array(32),n=W5(r),s=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,nue(r,s,e.v),i|=1,s+=16;break;case"b":r[1]=6,n.setFloat64(s,e.v?1:0,!0),i|=2,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(s,t.indexOf(e.v),!0),i|=8,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,s)}function v3(e,t){var r=new Uint8Array(32),n=W5(r),s=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(s,e.v,!0),i|=32,s+=8;break;case"b":r[2]=6,n.setFloat64(s,e.v?1:0,!0),i|=32,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(s,t.indexOf(e.v),!0),i|=16,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,s)}function Qp(e){var t=Zc(e);return cb(t[1][0].data)}function sue(e,t,r){var n,s,i,o;if(!((n=e[6])!=null&&n[0])||!((s=e[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&Bv(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,d=W5(e[7][0].data),u=0,h=[],m=W5(e[4][0].data),A=0,y=[],x=0;x<t.length;++x){if(t[x]==null){d.setUint16(x*2,65535,!0),m.setUint16(x*2,65535);continue}d.setUint16(x*2,u,!0),m.setUint16(x*2,A,!0);var v,b;switch(typeof t[x]){case"string":v=x3({t:"s",v:t[x]},r),b=v3({t:"s",v:t[x]},r);break;case"number":v=x3({t:"n",v:t[x]},r),b=v3({t:"n",v:t[x]},r);break;case"boolean":v=x3({t:"b",v:t[x]},r),b=v3({t:"b",v:t[x]},r);break;default:throw new Error("Unsupported value "+t[x])}h.push(v),u+=v.length,y.push(b),A+=b.length,++c}for(e[2][0].data=Di(c);x<e[7][0].data.length/2;++x)d.setUint16(x*2,65535,!0),m.setUint16(x*2,65535,!0);return e[6][0].data=hg(h),e[3][0].data=hg(y),c}function iue(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Sh(r["!ref"]);n.s.r=n.s.c=0;var s=!1;n.e.c>9&&(s=!0,n.e.c=9),n.e.r>49&&(s=!0,n.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(Oc(n)));var i=Y5(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(R){return R.forEach(function(Y){typeof Y=="string"&&o.push(Y)})});var l={},c=[],d=ro.read(t.numbers,{type:"base64"});d.FileIndex.map(function(R,Y){return[R,d.FullPaths[Y]]}).forEach(function(R){var Y=R[0],ie=R[1];if(Y.type==2&&Y.name.match(/\.iwa/)){var ge=Y.content,ye=OA(ge),pe=LA(ye);pe.forEach(function(Z){c.push(Z.id),l[Z.id]={deps:[],location:ie,type:Bv(Z.messages[0].meta[1][0].data)}})}}),c.sort(function(R,Y){return R-Y});var u=c.filter(function(R){return R>1}).map(function(R){return[R,Di(R)]});d.FileIndex.map(function(R,Y){return[R,d.FullPaths[Y]]}).forEach(function(R){var Y=R[0];if(R[1],!!Y.name.match(/\.iwa/)){var ie=LA(OA(Y.content));ie.forEach(function(ge){ge.messages.forEach(function(ye){u.forEach(function(pe){ge.messages.some(function(Z){return Bv(Z.meta[1][0].data)!=11006&&rue(Z.data,pe[1])})&&l[pe[0]].deps.push(ge.id)})})})}});for(var h=ro.find(d,l[1].location),m=LA(OA(h.content)),A,y=0;y<m.length;++y){var x=m[y];x.id==1&&(A=x)}var v=Qp(Zc(A.messages[0].data)[1][0].data);for(h=ro.find(d,l[v].location),m=LA(OA(h.content)),y=0;y<m.length;++y)x=m[y],x.id==v&&(A=x);for(v=Qp(Zc(A.messages[0].data)[2][0].data),h=ro.find(d,l[v].location),m=LA(OA(h.content)),y=0;y<m.length;++y)x=m[y],x.id==v&&(A=x);for(v=Qp(Zc(A.messages[0].data)[2][0].data),h=ro.find(d,l[v].location),m=LA(OA(h.content)),y=0;y<m.length;++y)x=m[y],x.id==v&&(A=x);var b=Zc(A.messages[0].data);{b[6][0].data=Di(n.e.r+1),b[7][0].data=Di(n.e.c+1);var j=Qp(b[46][0].data),E=ro.find(d,l[j].location),T=LA(OA(E.content));{for(var P=0;P<T.length&&T[P].id!=j;++P);if(T[P].id!=j)throw"Bad ColumnRowUIDMapArchive";var U=Zc(T[P].messages[0].data);U[1]=[],U[2]=[],U[3]=[];for(var M=0;M<=n.e.c;++M){var k=[];k[1]=k[2]=[{type:0,data:Di(M+420690)}],U[1].push({type:2,data:Ku(k)}),U[2].push({type:0,data:Di(M)}),U[3].push({type:0,data:Di(M)})}U[4]=[],U[5]=[],U[6]=[];for(var Q=0;Q<=n.e.r;++Q)k=[],k[1]=k[2]=[{type:0,data:Di(Q+726270)}],U[4].push({type:2,data:Ku(k)}),U[5].push({type:0,data:Di(Q)}),U[6].push({type:0,data:Di(Q)});T[P].messages[0].data=Ku(U)}E.content=Y1(W1(T)),E.size=E.content.length,delete b[46];var z=Zc(b[4][0].data);{z[7][0].data=Di(n.e.r+1);var O=Zc(z[1][0].data),L=Qp(O[2][0].data);E=ro.find(d,l[L].location),T=LA(OA(E.content));{if(T[0].id!=L)throw"Bad HeaderStorageBucket";var V=Zc(T[0].messages[0].data);for(Q=0;Q<i.length;++Q){var J=Zc(V[2][0].data);J[1][0].data=Di(Q),J[4][0].data=Di(i[Q].length),V[2][Q]={type:V[2][0].type,data:Ku(J)}}T[0].messages[0].data=Ku(V)}E.content=Y1(W1(T)),E.size=E.content.length;var ce=Qp(z[2][0].data);E=ro.find(d,l[ce].location),T=LA(OA(E.content));{if(T[0].id!=ce)throw"Bad HeaderStorageBucket";for(V=Zc(T[0].messages[0].data),M=0;M<=n.e.c;++M)J=Zc(V[2][0].data),J[1][0].data=Di(M),J[4][0].data=Di(n.e.r+1),V[2][M]={type:V[2][0].type,data:Ku(J)};T[0].messages[0].data=Ku(V)}E.content=Y1(W1(T)),E.size=E.content.length;var ee=Qp(z[4][0].data);(function(){for(var R=ro.find(d,l[ee].location),Y=LA(OA(R.content)),ie,ge=0;ge<Y.length;++ge){var ye=Y[ge];ye.id==ee&&(ie=ye)}var pe=Zc(ie.messages[0].data);{pe[3]=[];var Z=[];o.forEach(function(Ne,Fe){Z[1]=[{type:0,data:Di(Fe)}],Z[2]=[{type:0,data:Di(1)}],Z[3]=[{type:2,data:tue(Ne)}],pe[3].push({type:2,data:Ku(Z)})})}ie.messages[0].data=Ku(pe);var le=W1(Y),te=Y1(le);R.content=te,R.size=R.content.length})();var de=Zc(z[3][0].data);{var se=de[1][0];delete de[2];var he=Zc(se.data);{var fe=Qp(he[2][0].data);(function(){for(var R=ro.find(d,l[fe].location),Y=LA(OA(R.content)),ie,ge=0;ge<Y.length;++ge){var ye=Y[ge];ye.id==fe&&(ie=ye)}var pe=Zc(ie.messages[0].data);{delete pe[6],delete de[7];var Z=new Uint8Array(pe[5][0].data);pe[5]=[];for(var le=0,te=0;te<=n.e.r;++te){var Ne=Zc(Z);le+=sue(Ne,i[te],o),Ne[1][0].data=Di(te),pe[5].push({data:Ku(Ne),type:2})}pe[1]=[{type:0,data:Di(n.e.c+1)}],pe[2]=[{type:0,data:Di(n.e.r+1)}],pe[3]=[{type:0,data:Di(le)}],pe[4]=[{type:0,data:Di(n.e.r+1)}]}ie.messages[0].data=Ku(pe);var Fe=W1(Y),be=Y1(Fe);R.content=be,R.size=R.content.length})()}se.data=Ku(he)}z[3][0].data=Ku(de)}b[4][0].data=Ku(z)}A.messages[0].data=Ku(b);var ve=W1(m),B=Y1(ve);return h.content=B,h.size=h.content.length,d}function oue(e){return function(r){for(var n=0;n!=e.length;++n){var s=e[n];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function S_(e){oue([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function lue(e,t){return t.bookType=="ods"?$H(e,t):t.bookType=="numbers"?iue(e,t):t.bookType=="xlsb"?cue(e,t):uue(e,t)}function cue(e,t){Av=1024,e&&!e.SSF&&(e.SSF=Mf(Ml)),e&&e.SSF&&(hj(),fj(e.SSF),t.revssf=Aj(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,k2?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=SH.indexOf(t.bookType)>-1,s=eH();S_(t=t||{});var i=c_(),o="",l=0;if(t.cellXfs=[],Tg(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",ss(i,o,aH(e.Props,t)),s.coreprops.push(o),Ui(t.rels,2,o,ni.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,ss(i,o,iH(e.Props)),s.extprops.push(o),Ui(t.rels,3,o,ni.EXT_PROPS),e.Custprops!==e.Props&&rd(e.Custprops||{}).length>0&&(o="docProps/custom.xml",ss(i,o,oH(e.Custprops)),s.custprops.push(o),Ui(t.rels,4,o,ni.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var u={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,ss(i,o,fce(l-1,o,t,e,u)),s.sheets.push(o),Ui(t.wbrels,-1,"worksheets/sheet"+l+"."+r,ni.WS[0])}if(h){var A=h["!comments"],y=!1,x="";A&&A.length>0&&(x="xl/comments"+l+"."+r,ss(i,x,mce(A,x)),s.comments.push(x),Ui(u,-1,"../comments"+l+"."+r,ni.CMNT),y=!0),h["!legacy"]&&y&&ss(i,"xl/drawings/vmlDrawing"+l+".vml",NH(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&ss(i,rH(o),Cv(u))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,ss(i,o,Ace(t.Strings,o,t)),s.strs.push(o),Ui(t.wbrels,-1,"sharedStrings."+r,ni.SST)),o="xl/workbook."+r,ss(i,o,dce(e,o)),s.workbooks.push(o),Ui(t.rels,1,o,ni.WB),o="xl/theme/theme1.xml",ss(i,o,bH(e.Themes,t)),s.themes.push(o),Ui(t.wbrels,-1,"theme/theme1.xml",ni.THEME),o="xl/styles."+r,ss(i,o,hce(e,o,t)),s.styles.push(o),Ui(t.wbrels,-1,"styles."+r,ni.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",ss(i,o,e.vbaraw),s.vba.push(o),Ui(t.wbrels,-1,"vbaProject.bin",ni.VBA)),o="xl/metadata."+r,ss(i,o,pce(o)),s.metadata.push(o),Ui(t.wbrels,-1,"metadata."+r,ni.XLMETA),ss(i,"[Content_Types].xml",tH(s,t)),ss(i,"_rels/.rels",Cv(t.rels)),ss(i,"xl/_rels/workbook."+r+".rels",Cv(t.wbrels)),delete t.revssf,delete t.ssf,i}function uue(e,t){Av=1024,e&&!e.SSF&&(e.SSF=Mf(Ml)),e&&e.SSF&&(hj(),fj(e.SSF),t.revssf=Aj(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,k2?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=SH.indexOf(t.bookType)>-1,s=eH();S_(t=t||{});var i=c_(),o="",l=0;if(t.cellXfs=[],Tg(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",ss(i,o,aH(e.Props,t)),s.coreprops.push(o),Ui(t.rels,2,o,ni.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,ss(i,o,iH(e.Props)),s.extprops.push(o),Ui(t.rels,3,o,ni.EXT_PROPS),e.Custprops!==e.Props&&rd(e.Custprops||{}).length>0&&(o="docProps/custom.xml",ss(i,o,oH(e.Custprops)),s.custprops.push(o),Ui(t.rels,4,o,ni.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var h={"!id":{}},m=e.Sheets[e.SheetNames[l-1]],A=(m||{})["!type"]||"sheet";switch(A){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,ss(i,o,PH(l-1,t,e,h)),s.sheets.push(o),Ui(t.wbrels,-1,"worksheets/sheet"+l+"."+r,ni.WS[0])}if(m){var y=m["!comments"],x=!1,v="";if(y&&y.length>0){var b=!1;y.forEach(function(j){j[1].forEach(function(E){E.T==!0&&(b=!0)})}),b&&(v="xl/threadedComments/threadedComment"+l+"."+r,ss(i,v,Qse(y,u,t)),s.threadedcomments.push(v),Ui(h,-1,"../threadedComments/threadedComment"+l+"."+r,ni.TCMNT)),v="xl/comments"+l+"."+r,ss(i,v,jH(y)),s.comments.push(v),Ui(h,-1,"../comments"+l+"."+r,ni.CMNT),x=!0}m["!legacy"]&&x&&ss(i,"xl/drawings/vmlDrawing"+l+".vml",NH(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}h["!id"].rId1&&ss(i,rH(o),Cv(h))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,ss(i,o,mH(t.Strings,t)),s.strs.push(o),Ui(t.wbrels,-1,"sharedStrings."+r,ni.SST)),o="xl/workbook."+r,ss(i,o,DH(e)),s.workbooks.push(o),Ui(t.rels,1,o,ni.WB),o="xl/theme/theme1.xml",ss(i,o,bH(e.Themes,t)),s.themes.push(o),Ui(t.wbrels,-1,"theme/theme1.xml",ni.THEME),o="xl/styles."+r,ss(i,o,vH(e,t)),s.styles.push(o),Ui(t.wbrels,-1,"styles."+r,ni.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",ss(i,o,e.vbaraw),s.vba.push(o),Ui(t.wbrels,-1,"vbaProject.bin",ni.VBA)),o="xl/metadata."+r,ss(i,o,wH()),s.metadata.push(o),Ui(t.wbrels,-1,"metadata."+r,ni.XLMETA),u.length>1&&(o="xl/persons/person.xml",ss(i,o,Hse(u)),s.people.push(o),Ui(t.wbrels,-1,"persons/person.xml",ni.PEOPLE)),ss(i,"[Content_Types].xml",tH(s,t)),ss(i,"_rels/.rels",Cv(t.rels)),ss(i,"xl/_rels/workbook."+r+".rels",Cv(t.wbrels)),delete t.revssf,delete t.ssf,i}function due(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=G0(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function zH(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Kb(t.file,ro.write(e,{type:hi?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return ro.write(e,t)}function fue(e,t){var r=Mf(t||{}),n=lue(e,r);return hue(n,r)}function hue(e,t){var r={},n=hi?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var s=e.FullPaths?ro.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(t.type=="binary"||t.type=="base64")return s;s=new Uint8Array(dj(s))}return t.password&&typeof encrypt_agile<"u"?zH(encrypt_agile(s,t.password),t):t.type==="file"?Kb(t.file,s):t.type=="string"?T2(s):s}function Aue(e,t){var r=t||{},n=_ce(e,r);return zH(n,r)}function Fm(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return sb(ob(n));case"binary":return ob(n);case"string":return e;case"file":return Kb(t.file,n,"utf8");case"buffer":return hi?op(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Fm(n,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function mue(e,t){switch(t.type){case"base64":return sb(e);case"binary":return e;case"string":return e;case"file":return Kb(t.file,e,"binary");case"buffer":return hi?op(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function p4(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?sb(r):t.type=="string"?T2(r):r;case"file":return Kb(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function VH(e,t){$re(),ece(e);var r=Mf(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=VH(e,r);return r.type="array",dj(n)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=e.SheetNames.indexOf(r.sheet),!e.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Fm(Bce(e,r),r);case"slk":case"sylk":return Fm(Xae.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"htm":case"html":return Fm(RH(e.Sheets[e.SheetNames[s]],r),r);case"txt":return mue(KH(e.Sheets[e.SheetNames[s]],r),r);case"csv":return Fm(C_(e.Sheets[e.SheetNames[s]],r),r,"\uFEFF");case"dif":return Fm(Jae.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"dbf":return p4(Yae.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"prn":return Fm(Zae.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"rtf":return Fm(ise.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"eth":return Fm(AH.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"fods":return Fm($H(e,r),r);case"wk1":return p4(qk.sheet_to_wk1(e.Sheets[e.SheetNames[s]],r),r);case"wk3":return p4(qk.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),p4(UH(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Aue(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return fue(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function pue(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function Xb(e,t,r){var n={};return n.type="file",n.file=t,pue(n),VH(e,n)}function gue(e,t,r,n,s,i,o,l){var c=Zu(r),d=l.defval,u=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),h=!0,m=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!o||e[r])for(var A=t.s.c;A<=t.e.c;++A){var y=o?e[r][A]:e[n[A]+c];if(y===void 0||y.t===void 0){if(d===void 0)continue;i[A]!=null&&(m[i[A]]=d);continue}var x=y.v;switch(y.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(i[A]!=null){if(x==null)if(y.t=="e"&&x===null)m[i[A]]=null;else if(d!==void 0)m[i[A]]=d;else if(u&&x===null)m[i[A]]=null;else continue;else m[i[A]]=u&&(y.t!=="n"||y.t==="n"&&l.rawNumbers!==!1)?x:W0(y,x,l);x!=null&&(h=!1)}}return{row:m,isempty:h}}function Y5(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,s=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},u=d.range!=null?d.range:e["!ref"];switch(d.header===1?n=1:d.header==="A"?n=2:Array.isArray(d.header)?n=3:d.header==null&&(n=0),typeof u){case"string":c=Uo(u);break;case"number":c=Uo(e["!ref"]),c.s.r=u;break;default:c=u}n>0&&(s=0);var h=Zu(c.s.r),m=[],A=[],y=0,x=0,v=Array.isArray(e),b=c.s.r,j=0,E={};v&&!e[b]&&(e[b]=[]);var T=d.skipHidden&&e["!cols"]||[],P=d.skipHidden&&e["!rows"]||[];for(j=c.s.c;j<=c.e.c;++j)if(!(T[j]||{}).hidden)switch(m[j]=Pd(j),r=v?e[b][j]:e[m[j]+h],n){case 1:i[j]=j-c.s.c;break;case 2:i[j]=m[j];break;case 3:i[j]=d.header[j-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=W0(r,null,d),x=E[o]||0,!x)E[o]=1;else{do l=o+"_"+x++;while(E[l]);E[o]=x,E[l]=1}i[j]=l}for(b=c.s.r+s;b<=c.e.r;++b)if(!(P[b]||{}).hidden){var U=gue(e,c,b,m,n,i,v,d);(U.isempty===!1||(n===1?d.blankrows!==!1:d.blankrows))&&(A[y++]=U.row)}return A.length=y,A}var tP=/"/g;function xue(e,t,r,n,s,i,o,l){for(var c=!0,d=[],u="",h=Zu(r),m=t.s.c;m<=t.e.c;++m)if(n[m]){var A=l.dense?(e[r]||[])[m]:e[n[m]+h];if(A==null)u="";else if(A.v!=null){c=!1,u=""+(l.rawNumbers&&A.t=="n"?A.v:W0(A,null,l));for(var y=0,x=0;y!==u.length;++y)if((x=u.charCodeAt(y))===s||x===i||x===34||l.forceQuotes){u='"'+u.replace(tP,'""')+'"';break}u=="ID"&&(u='"ID"')}else A.f!=null&&!A.F?(c=!1,u="="+A.f,u.indexOf(",")>=0&&(u='"'+u.replace(tP,'""')+'"')):u="";d.push(u)}return l.blankrows===!1&&c?null:d.join(o)}function C_(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var s=Uo(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),u="",h=[];n.dense=Array.isArray(e);for(var m=n.skipHidden&&e["!cols"]||[],A=n.skipHidden&&e["!rows"]||[],y=s.s.c;y<=s.e.c;++y)(m[y]||{}).hidden||(h[y]=Pd(y));for(var x=0,v=s.s.r;v<=s.e.r;++v)(A[v]||{}).hidden||(u=xue(e,s,v,h,o,c,i,n),u!=null&&(n.strip&&(u=u.replace(d,"")),(u||n.blankrows!==!1)&&r.push((x++?l:"")+u)));return delete n.dense,r.join("")}function KH(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=C_(e,t);return r}function vue(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var s=Uo(e["!ref"]),i="",o=[],l,c=[],d=Array.isArray(e);for(l=s.s.c;l<=s.e.c;++l)o[l]=Pd(l);for(var u=s.s.r;u<=s.e.r;++u)for(i=Zu(u),l=s.s.c;l<=s.e.c;++l)if(t=o[l]+i,r=d?(e[u]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function qH(e,t,r){var n=r||{},s=+!n.skipHeader,i=e||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Eu(n.origin):n.origin;o=c.r,l=c.c}var d,u={s:{c:0,r:0},e:{c:l,r:o+t.length-1+s}};if(i["!ref"]){var h=Uo(i["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),o==-1&&(o=h.e.r+1,u.e.r=o+t.length-1+s)}else o==-1&&(o=0,u.e.r=t.length-1+s);var m=n.header||[],A=0;t.forEach(function(x,v){rd(x).forEach(function(b){(A=m.indexOf(b))==-1&&(m[A=m.length]=b);var j=x[b],E="z",T="",P=$i({c:l+A,r:o+v+s});d=ub(i,P),j&&typeof j=="object"&&!(j instanceof Date)?i[P]=j:(typeof j=="number"?E="n":typeof j=="boolean"?E="b":typeof j=="string"?E="s":j instanceof Date?(E="d",n.cellDates||(E="n",j=Df(j)),T=n.dateNF||Ml[14]):j===null&&n.nullError&&(E="e",j=0),d?(d.t=E,d.v=j,delete d.w,delete d.R,T&&(d.z=T)):i[P]=d={t:E,v:j},T&&(d.z=T))})}),u.e.c=Math.max(u.e.c,l+m.length-1);var y=Zu(o);if(s)for(A=0;A<m.length;++A)i[Pd(A+l)+y]={t:"s",v:m[A]};return i["!ref"]=Oc(u),i}function yue(e,t){return qH(null,e,t)}function ub(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Eu(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?ub(e,$i(t)):ub(e,$i({r:t,c:r||0}))}function bue(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function wue(){return{SheetNames:[],Sheets:{}}}function Nue(e,t,r,n){var s=1;if(!r)for(;s<=65535&&e.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var o=i&&i[1]||r;for(++s;s<=65535&&e.SheetNames.indexOf(r=o+s)!=-1;++s);}if(OH(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function jue(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=bue(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Sue(e,t){return e.z=t,e}function GH(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Cue(e,t,r){return GH(e,"#"+t,r)}function Eue(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Bue(e,t,r,n){for(var s=typeof t!="string"?t:Uo(t),i=typeof t=="string"?t:Oc(t),o=s.s.r;o<=s.e.r;++o)for(var l=s.s.c;l<=s.e.c;++l){var c=ub(e,o,l);c.t="n",c.F=i,delete c.v,o==s.s.r&&l==s.s.c&&(c.f=r,n&&(c.D=!0))}return e}var Lo={encode_col:Pd,encode_row:Zu,encode_cell:$i,encode_range:Oc,decode_col:m_,decode_row:A_,split_cell:$ne,decode_cell:Eu,decode_range:Sh,format_cell:W0,sheet_add_aoa:GQ,sheet_add_json:qH,sheet_add_dom:QH,aoa_to_sheet:dy,json_to_sheet:yue,table_to_sheet:HH,table_to_book:Jce,sheet_to_csv:C_,sheet_to_txt:KH,sheet_to_json:Y5,sheet_to_html:RH,sheet_to_formulae:vue,sheet_to_row_object_array:Y5,sheet_get_cell:ub,book_new:wue,book_append_sheet:Nue,book_set_sheet_visibility:jue,cell_set_number_format:Sue,cell_set_hyperlink:GH,cell_set_internal_link:Cue,cell_add_comment:Eue,sheet_set_array_formula:Bue,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function WH(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=WH(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function cr(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=WH(e))&&(n&&(n+=" "),n+=t);return n}function Tue(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Tue(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Jb=e=>typeof e=="number"&&!isNaN(e),Yx=e=>typeof e=="string",Y0=e=>typeof e=="function",_ue=e=>Yx(e)||Jb(e),$E=e=>Yx(e)||Y0(e)?e:null,Fue=(e,t)=>e===!1||Jb(e)&&e>0?e:t,zE=e=>C.isValidElement(e)||Yx(e)||Y0(e)||Jb(e);function Iue(e,t,r=300){let{scrollHeight:n,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=n+"px",s.transition=`all ${r}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,r)})})}function kue({enter:e,exit:t,appendPosition:r=!1,collapse:n=!0,collapseDuration:s=300}){return function({children:i,position:o,preventExitTransition:l,done:c,nodeRef:d,isIn:u,playToast:h}){let m=r?`${e}--${o}`:e,A=r?`${t}--${o}`:t,y=C.useRef(0);return C.useLayoutEffect(()=>{let x=d.current,v=m.split(" "),b=j=>{j.target===d.current&&(h(),x.removeEventListener("animationend",b),x.removeEventListener("animationcancel",b),y.current===0&&j.type!=="animationcancel"&&x.classList.remove(...v))};x.classList.add(...v),x.addEventListener("animationend",b),x.addEventListener("animationcancel",b)},[]),C.useEffect(()=>{let x=d.current,v=()=>{x.removeEventListener("animationend",v),n?Iue(x,c,s):c()};u||(l?v():(y.current=1,x.className+=` ${A}`,x.addEventListener("animationend",v)))},[u]),Kn.createElement(Kn.Fragment,null,i)}}function rP(e,t){return{content:YH(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function YH(e,t,r=!1){return C.isValidElement(e)&&!Yx(e.type)?C.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):Y0(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function Pue({closeToast:e,theme:t,ariaLabel:r="close"}){return Kn.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:n=>{n.stopPropagation(),e(!0)},"aria-label":r},Kn.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Kn.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Lue({delay:e,isRunning:t,closeToast:r,type:n="default",hide:s,className:i,controlledProgress:o,progress:l,rtl:c,isIn:d,theme:u}){let h=s||o&&l===0,m={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(m.transform=`scaleX(${l})`);let A=cr("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":c}),y=Y0(i)?i({rtl:c,type:n,defaultClassName:A}):cr(A,i),x={[o&&l>=1?"onTransitionEnd":"onAnimationEnd"]:o&&l<1?null:()=>{d&&r()}};return Kn.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},Kn.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${n}`}),Kn.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:y,style:m,...x}))}var Oue=1,XH=()=>`${Oue++}`;function Due(e,t,r){let n=1,s=0,i=[],o=[],l=t,c=new Map,d=new Set,u=j=>(d.add(j),()=>d.delete(j)),h=()=>{o=Array.from(c.values()),d.forEach(j=>j())},m=({containerId:j,toastId:E,updateId:T})=>{let P=j?j!==e:e!==1,U=c.has(E)&&T==null;return P||U},A=(j,E)=>{c.forEach(T=>{var P;(E==null||E===T.props.toastId)&&((P=T.toggle)==null||P.call(T,j))})},y=j=>{var E,T;(T=(E=j.props)==null?void 0:E.onClose)==null||T.call(E,j.removalReason),j.isActive=!1},x=j=>{if(j==null)c.forEach(y);else{let E=c.get(j);E&&y(E)}h()},v=()=>{s-=i.length,i=[]},b=j=>{var E,T;let{toastId:P,updateId:U}=j.props,M=U==null;j.staleId&&c.delete(j.staleId),j.isActive=!0,c.set(P,j),h(),r(rP(j,M?"added":"updated")),M&&((T=(E=j.props).onOpen)==null||T.call(E))};return{id:e,props:l,observe:u,toggle:A,removeToast:x,toasts:c,clearQueue:v,buildToast:(j,E)=>{if(m(E))return;let{toastId:T,updateId:P,data:U,staleId:M,delay:k}=E,Q=P==null;Q&&s++;let z={...l,style:l.toastStyle,key:n++,...Object.fromEntries(Object.entries(E).filter(([L,V])=>V!=null)),toastId:T,updateId:P,data:U,isIn:!1,className:$E(E.className||l.toastClassName),progressClassName:$E(E.progressClassName||l.progressClassName),autoClose:E.isLoading?!1:Fue(E.autoClose,l.autoClose),closeToast(L){c.get(T).removalReason=L,x(T)},deleteToast(){let L=c.get(T);if(L!=null){if(r(rP(L,"removed")),c.delete(T),s--,s<0&&(s=0),i.length>0){b(i.shift());return}h()}}};z.closeButton=l.closeButton,E.closeButton===!1||zE(E.closeButton)?z.closeButton=E.closeButton:E.closeButton===!0&&(z.closeButton=zE(l.closeButton)?l.closeButton:!0);let O={content:j,props:z,staleId:M};l.limit&&l.limit>0&&s>l.limit&&Q?i.push(O):Jb(k)?setTimeout(()=>{b(O)},k):b(O)},setProps(j){l=j},setToggle:(j,E)=>{let T=c.get(j);T&&(T.toggle=E)},isToastActive:j=>{var E;return(E=c.get(j))==null?void 0:E.isActive},getSnapshot:()=>o}}var sf=new Map,db=[],VE=new Set,Mue=e=>VE.forEach(t=>t(e)),JH=()=>sf.size>0;function Uue(){db.forEach(e=>e$(e.content,e.options)),db=[]}var Rue=(e,{containerId:t})=>{var r;return(r=sf.get(t||1))==null?void 0:r.toasts.get(e)};function ZH(e,t){var r;if(t)return!!((r=sf.get(t))!=null&&r.isToastActive(e));let n=!1;return sf.forEach(s=>{s.isToastActive(e)&&(n=!0)}),n}function Que(e){if(!JH()){db=db.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||_ue(e))sf.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=sf.get(e.containerId);t?t.removeToast(e.id):sf.forEach(r=>{r.removeToast(e.id)})}}var Hue=(e={})=>{sf.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function e$(e,t){zE(e)&&(JH()||db.push({content:e,options:t}),sf.forEach(r=>{r.buildToast(e,t)}))}function $ue(e){var t;(t=sf.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function t$(e,t){sf.forEach(r=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===r.id)&&r.toggle(e,t?.id)})}function zue(e){let t=e.containerId||1;return{subscribe(r){let n=Due(t,e,Mue);sf.set(t,n);let s=n.observe(r);return Uue(),()=>{s(),sf.delete(t)}},setProps(r){var n;(n=sf.get(t))==null||n.setProps(r)},getSnapshot(){var r;return(r=sf.get(t))==null?void 0:r.getSnapshot()}}}function Vue(e){return VE.add(e),()=>{VE.delete(e)}}function Kue(e){return e&&(Yx(e.toastId)||Jb(e.toastId))?e.toastId:XH()}function Zb(e,t){return e$(e,t),t.toastId}function vj(e,t){return{...t,type:t&&t.type||e,toastId:Kue(t)}}function yj(e){return(t,r)=>Zb(t,vj(e,r))}function xr(e,t){return Zb(e,vj("default",t))}xr.loading=(e,t)=>Zb(e,vj("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function que(e,{pending:t,error:r,success:n},s){let i;t&&(i=Yx(t)?xr.loading(t,s):xr.loading(t.render,{...s,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,u,h)=>{if(u==null){xr.dismiss(i);return}let m={type:d,...o,...s,data:h},A=Yx(u)?{render:u}:u;return i?xr.update(i,{...m,...A}):xr(A.render,{...m,...A}),h},c=Y0(e)?e():e;return c.then(d=>l("success",n,d)).catch(d=>l("error",r,d)),c}xr.promise=que;xr.success=yj("success");xr.info=yj("info");xr.error=yj("error");xr.warning=yj("warning");xr.warn=xr.warning;xr.dark=(e,t)=>Zb(e,vj("default",{theme:"dark",...t}));function Gue(e){Que(e)}xr.dismiss=Gue;xr.clearWaitingQueue=Hue;xr.isActive=ZH;xr.update=(e,t={})=>{let r=Rue(e,t);if(r){let{props:n,content:s}=r,i={delay:100,...n,...t,toastId:t.toastId||e,updateId:XH()};i.toastId!==e&&(i.staleId=e);let o=i.render||s;delete i.render,Zb(o,i)}};xr.done=e=>{xr.update(e,{progress:1})};xr.onChange=Vue;xr.play=e=>t$(!0,e);xr.pause=e=>t$(!1,e);function Wue(e){var t;let{subscribe:r,getSnapshot:n,setProps:s}=C.useRef(zue(e)).current;s(e);let i=(t=C.useSyncExternalStore(r,n,n))==null?void 0:t.slice();function o(l){if(!i)return[];let c=new Map;return e.newestOnTop&&i.reverse(),i.forEach(d=>{let{position:u}=d.props;c.has(u)||c.set(u,[]),c.get(u).push(d)}),Array.from(c,d=>l(d[0],d[1]))}return{getToastToRender:o,isToastActive:ZH,count:i?.length}}function Yue(e){let[t,r]=C.useState(!1),[n,s]=C.useState(!1),i=C.useRef(null),o=C.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:d,onClick:u,closeOnClick:h}=e;$ue({id:e.toastId,containerId:e.containerId,fn:r}),C.useEffect(()=>{if(e.pauseOnFocusLoss)return m(),()=>{A()}},[e.pauseOnFocusLoss]);function m(){document.hasFocus()||b(),window.addEventListener("focus",v),window.addEventListener("blur",b)}function A(){window.removeEventListener("focus",v),window.removeEventListener("blur",b)}function y(M){if(e.draggable===!0||e.draggable===M.pointerType){j();let k=i.current;o.canCloseOnClick=!0,o.canDrag=!0,k.style.transition="none",e.draggableDirection==="x"?(o.start=M.clientX,o.removalDistance=k.offsetWidth*(e.draggablePercent/100)):(o.start=M.clientY,o.removalDistance=k.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function x(M){let{top:k,bottom:Q,left:z,right:O}=i.current.getBoundingClientRect();M.nativeEvent.type!=="touchend"&&e.pauseOnHover&&M.clientX>=z&&M.clientX<=O&&M.clientY>=k&&M.clientY<=Q?b():v()}function v(){r(!0)}function b(){r(!1)}function j(){o.didMove=!1,document.addEventListener("pointermove",T),document.addEventListener("pointerup",P)}function E(){document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",P)}function T(M){let k=i.current;if(o.canDrag&&k){o.didMove=!0,t&&b(),e.draggableDirection==="x"?o.delta=M.clientX-o.start:o.delta=M.clientY-o.start,o.start!==M.clientX&&(o.canCloseOnClick=!1);let Q=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;k.style.transform=`translate3d(${Q},0)`,k.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function P(){E();let M=i.current;if(o.canDrag&&o.didMove&&M){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}M.style.transition="transform 0.2s, opacity 0.2s",M.style.removeProperty("transform"),M.style.removeProperty("opacity")}}let U={onPointerDown:y,onPointerUp:x};return l&&c&&(U.onMouseEnter=b,e.stacked||(U.onMouseLeave=v)),h&&(U.onClick=M=>{u&&u(M),o.canCloseOnClick&&d(!0)}),{playToast:v,pauseToast:b,isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:U}}var Xue=typeof window<"u"?C.useLayoutEffect:C.useEffect,bj=({theme:e,type:t,isLoading:r,...n})=>Kn.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...n});function Jue(e){return Kn.createElement(bj,{...e},Kn.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Zue(e){return Kn.createElement(bj,{...e},Kn.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function ede(e){return Kn.createElement(bj,{...e},Kn.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function tde(e){return Kn.createElement(bj,{...e},Kn.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function rde(){return Kn.createElement("div",{className:"Toastify__spinner"})}var KE={info:Zue,warning:Jue,success:ede,error:tde,spinner:rde},nde=e=>e in KE;function ade({theme:e,type:t,isLoading:r,icon:n}){let s=null,i={theme:e,type:t};return n===!1||(Y0(n)?s=n({...i,isLoading:r}):C.isValidElement(n)?s=C.cloneElement(n,i):r?s=KE.spinner():nde(t)&&(s=KE[t](i))),s}var sde=e=>{let{isRunning:t,preventExitTransition:r,toastRef:n,eventHandlers:s,playToast:i}=Yue(e),{closeButton:o,children:l,autoClose:c,onClick:d,type:u,hideProgressBar:h,closeToast:m,transition:A,position:y,className:x,style:v,progressClassName:b,updateId:j,role:E,progress:T,rtl:P,toastId:U,deleteToast:M,isIn:k,isLoading:Q,closeOnClick:z,theme:O,ariaLabel:L}=e,V=cr("Toastify__toast",`Toastify__toast-theme--${O}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":P},{"Toastify__toast--close-on-click":z}),J=Y0(x)?x({rtl:P,position:y,type:u,defaultClassName:V}):cr(V,x),ce=ade(e),ee=!!T||!c,de={closeToast:m,type:u,theme:O},se=null;return o===!1||(Y0(o)?se=o(de):C.isValidElement(o)?se=C.cloneElement(o,de):se=Pue(de)),Kn.createElement(A,{isIn:k,done:M,position:y,preventExitTransition:r,nodeRef:n,playToast:i},Kn.createElement("div",{id:U,tabIndex:0,onClick:d,"data-in":k,className:J,...s,style:v,ref:n,...k&&{role:E,"aria-label":L}},ce!=null&&Kn.createElement("div",{className:cr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!Q})},ce),YH(l,e,!t),se,!e.customProgressBar&&Kn.createElement(Lue,{...j&&!ee?{key:`p-${j}`}:{},rtl:P,theme:O,delay:c,isRunning:t,isIn:k,closeToast:m,hide:h,type:u,className:b,controlledProgress:ee,progress:T||0})))},ide=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),ode=kue(ide("bounce",!0)),lde={position:"top-right",transition:ode,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function wj(e){let t={...lde,...e},r=e.stacked,[n,s]=C.useState(!0),i=C.useRef(null),{getToastToRender:o,isToastActive:l,count:c}=Wue(t),{className:d,style:u,rtl:h,containerId:m,hotKeys:A}=t;function y(v){let b=cr("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":h});return Y0(d)?d({position:v,rtl:h,defaultClassName:b}):cr(b,$E(d))}function x(){r&&(s(!0),xr.play())}return Xue(()=>{var v;if(r){let b=i.current.querySelectorAll('[data-in="true"]'),j=12,E=(v=t.position)==null?void 0:v.includes("top"),T=0,P=0;Array.from(b).reverse().forEach((U,M)=>{let k=U;k.classList.add("Toastify__toast--stacked"),M>0&&(k.dataset.collapsed=`${n}`),k.dataset.pos||(k.dataset.pos=E?"top":"bot");let Q=T*(n?.2:1)+(n?0:j*M);k.style.setProperty("--y",`${E?Q:Q*-1}px`),k.style.setProperty("--g",`${j}`),k.style.setProperty("--s",`${1-(n?P:0)}`),T+=k.offsetHeight,P+=.025})}},[n,c,r]),C.useEffect(()=>{function v(b){var j;let E=i.current;A(b)&&((j=E.querySelector('[tabIndex="0"]'))==null||j.focus(),s(!1),xr.pause()),b.key==="Escape"&&(document.activeElement===E||E!=null&&E.contains(document.activeElement))&&(s(!0),xr.play())}return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[A]),Kn.createElement("section",{ref:i,className:"Toastify",id:m,onMouseEnter:()=>{r&&(s(!1),xr.pause())},onMouseLeave:x,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((v,b)=>{let j=b.length?{...u}:{...u,pointerEvents:"none"};return Kn.createElement("div",{tabIndex:-1,className:y(v),"data-stacked":r,style:j,key:`c-${v}`},b.map(({content:E,props:T})=>Kn.createElement(sde,{...T,stacked:r,collapseAll:x,isIn:l(T.toastId,T.containerId),key:`t-${T.key}`},E)))}))}const fh="https://vidyaastra.com/api",cde=()=>{const e=localStorage.getItem("schoolId");return console.log("Retrieved schoolId from localStorage:",e),e},y3=e=>/^[0-9a-fA-F]{24}$/.test(e),ude=()=>{const[e,t]=C.useState(!1),[r,n]=C.useState(null),[s,i]=C.useState(new Set),[o,l]=C.useState(!1),[c,d]=C.useState(null),[u,h]=C.useState([]),[m,A]=C.useState([]),[y,x]=C.useState([]),[v,b]=C.useState(null),[j,E]=C.useState(cde()),[T,P]=C.useState({totalStudent:0,currentStudentCount:0,remainingCapacity:0,canAddStudents:!1}),[U,M]=C.useState(1),[k,Q]=C.useState(1),[z,O]=C.useState(10),L=localStorage.getItem("color")||"#2563eb",[V,J]=C.useState({name:"",className:"",section:""}),[ce,ee]=C.useState({name:"",rollNumber:"",studentId:"",schoolId:j,dob:"",gender:"Male",address:"",phone:"",email:"",password:"",fatherName:"",motherName:"",parentPhone:"",classId:"",className:"",profileImage:null,section:""}),[de,se]=C.useState(""),[he,fe]=C.useState(""),[ve,B]=C.useState([]),[R,Y]=C.useState({csv:!1,excel:!1});C.useEffect(()=>{j&&!y3(j)&&(d(`Invalid School ID format: ${j}. Please log in again.`),console.error("Invalid schoolId format:",j))},[j]);const ie=async()=>{try{const Me=await fetch(`${fh}/class?schoolId=${j}`);if(!Me.ok)throw new Error("Failed to fetch classes");const Te=await Me.json();if(!Te.success)throw new Error(Te.message||"Failed to fetch classes");x(Te.data||[])}catch(Me){console.log(Me)}};C.useEffect(()=>{ie()},[j]),C.useEffect(()=>{(async()=>{if(!j){d("No school ID available. Please log in again."),l(!1);return}try{l(!0),d(null);const Te=await fetch(`${fh}/schools/${j}`,{headers:{Accept:"application/json"}});if(!Te.ok){const De=await Te.text();throw console.error("School response:",De),new Error(`Failed to fetch school: ${Te.status}`)}const Ke=(await Te.json()).data;if(Ke){A([Ke]);const De=Ke.totalStudent||0,ut=Ke.currentStudentCount||0;P({totalStudent:De,currentStudentCount:ut,remainingCapacity:De-ut,canAddStudents:De>0})}const Le=new URLSearchParams({page:U,limit:z,name:V.name||"",className:V.className||"",section:V.section||""}),rt=await fetch(`${fh}/students/school/${j}?${Le}`,{headers:{Accept:"application/json"}});if(!rt.ok)throw new Error(`Failed to fetch students: ${rt.status}`);const Oe=await rt.json();console.log(" Students API response:",Oe),console.log(" Students data:",Oe.data),Oe.data&&Oe.data.length>0&&(console.log(" First student:",Oe.data[0]),console.log(" First student _id:",Oe.data[0]._id)),h(Oe.data||[]),Q(Oe.totalPages||1),P(De=>({...De,currentStudentCount:Oe.totalStudents||0,remainingCapacity:De.totalStudent-(Oe.totalStudents||0)}))}catch(Te){d(Te.message),console.error("Fetch error:",Te)}finally{l(!1)}})()},[j,U,z,V.name,V.className,V.section]),C.useEffect(()=>{M(1)},[V.name,V.className,V.section]);const ge=[...new Set(y.map(Me=>Me.className))],ye=()=>V.className?[...new Set(y.filter(Me=>Me.className===V.className).map(Me=>Me.section).filter(Me=>Me))]:[],pe=Me=>[...new Set(y.filter(Te=>Te.className===Me).map(Te=>Te.section).filter(Te=>Te))].sort(),Z=(Me,Te)=>{J(je=>({...je,[Me]:Te}))},le=Me=>{J(Te=>({...Te,className:Me,section:""}))},te=()=>{J({name:"",className:"",section:""})},Ne=Me=>{Me>=1&&Me<=k&&M(Me)},Fe=Me=>{if(!Me)return"Unknown School";const Te=typeof Me=="object"&&Me?._id?Me._id:Me,je=m.find(Ke=>Ke._id===Te);return je?je.name:"Unknown School"},be=Me=>{if(!Me)return{className:"Unknown Class",section:"N/A"};const Te=typeof Me=="object"&&Me?._id?Me._id:Me,je=y.find(Ke=>Ke._id===Te);return je?{className:je.className,section:je.section||"N/A"}:{className:"Unknown Class",section:"N/A"}},re=Me=>{const Te=Me.target.files[0];if(Te){ee({...ce,profileImage:Te});const je=new FileReader;je.onloadend=()=>b(je.result),je.readAsDataURL(Te)}},Ce=async()=>{if(r&&r.profileImage)try{if(!(await fetch(`${fh}/students/${r._id}/profile-image`,{method:"DELETE",headers:{Accept:"application/json"}})).ok)throw new Error("Failed to delete profile image");h(u.map(Te=>Te._id===r._id?{...Te,profileImage:""}:Te))}catch(Me){console.error("Delete profile image error:",Me)}ee({...ce,profileImage:null}),b(null)},st=Me=>/^[A-Za-z\s]+$/.test(Me),et=Me=>/^\d{10}$/.test(Me),He=Me=>{const{name:Te,value:je}=Me.target;if(Te==="name"||Te==="fatherName"||Te==="motherName"){(je===""||/^[A-Za-z\s]*$/.test(je))&&ee({...ce,[Te]:je});return}if(Te==="phone"||Te==="parentPhone"){(je===""||/^\d{0,10}$/.test(je)&&je.length<=10)&&ee({...ce,[Te]:je});return}ee({...ce,[Te]:je})},ct=Me=>{se(Me);const Te=pe(Me);if(B(Te),fe(""),Me){const je=y.find(Ke=>Ke.className===Me&&(!he||Ke.section===he));ee(Ke=>({...Ke,classId:je?._id||"",className:Me,section:""}))}else ee(je=>({...je,classId:"",className:"",section:""}))},_e=Me=>{if(fe(Me),de&&Me){const Te=y.find(je=>je.className===de&&je.section===Me);ee(je=>({...je,classId:Te?._id||"",section:Me}))}else if(de){const Te=y.find(je=>je.className===de);ee(je=>({...je,classId:Te?._id||"",section:Me}))}},ke=async Me=>{if(Me.preventDefault(),!st(ce.name)){d("Name should contain only alphabets and spaces");return}if(ce.fatherName&&!st(ce.fatherName)){d("Father's name should contain only alphabets and spaces");return}if(ce.motherName&&!st(ce.motherName)){d("Mother's name should contain only alphabets and spaces");return}if(ce.phone&&!et(ce.phone)){d("Phone number must be exactly 10 digits");return}if(ce.parentPhone&&!et(ce.parentPhone)){d("Parent phone number must be exactly 10 digits");return}if(!ce.classId){d("Please select a class and section");return}if(!T.canAddStudents){d("Cannot add students. School capacity is set to 0. Please contact the administrator.");return}if(T.remainingCapacity<=0){d("Cannot add students. School has reached its maximum capacity.");return}try{l(!0),d(null);const Te=new FormData;Object.keys(ce).forEach(Oe=>{Oe==="profileImage"&&ce[Oe]?Te.append("profileImage",ce[Oe]):ce[Oe]!==null&&ce[Oe]!==""&&Te.append(Oe,ce[Oe])});let je;if(r){if(console.log(" Editing student:",r),console.log(" Student ID:",r._id),!r._id&&!r.id)throw new Error("Student ID is missing. Cannot update student.");je=await fetch(`${fh}/students/${r._id||r.id}`,{method:"PUT",body:Te})}else{if(!ce.password)throw new Error("Password is required for new students");je=await fetch(`${fh}/students`,{method:"POST",body:Te})}if(!je.ok){const Oe=await je.json().catch(()=>({}));throw new Error(Oe.message||(r?"Failed to update student":"Failed to create student"))}const Ke=new URLSearchParams({page:U,limit:z,name:V.name||"",className:V.className||"",section:V.section||""}),rt=await(await fetch(`${fh}/students/school/${j}?${Ke}`,{headers:{Accept:"application/json"}})).json();h(rt.data||[]),Q(rt.totalPages||1),P(Oe=>({...Oe,currentStudentCount:rt.totalStudents||0,remainingCapacity:Oe.totalStudent-(rt.totalStudents||0)})),t(!1),n(null),ot(),d(null)}catch(Te){d(Te.message),console.error("Submission error:",Te)}finally{l(!1)}},Ze=async()=>{try{Y(gt=>({...gt,csv:!0}));const Me=new URLSearchParams({limit:"10000",name:V.name||"",className:V.className||"",section:V.section||""}),Te=await fetch(`${fh}/students/school/${j}/export?${Me}`,{headers:{Accept:"application/json"}});if(!Te.ok)throw new Error(`HTTP error! Status: ${Te.status}`);const je=await Te.json(),Ke=m[0],Le=Ke?Ke.name.replace(/[^a-zA-Z0-9]/g,"_"):"school",rt=je.data.map(gt=>({"Student Name":gt.name||"",Class:gt?.className||"Unassigned",Section:gt?.section||"N/A","Roll Number":gt.rollNumber||"","Student ID":gt.studentId||"","Date of Birth":gt.dob?new Date(gt.dob).toLocaleDateString("en-IN"):"",Gender:gt.gender||"",Email:gt.email||"",Phone:gt.phone||"",Address:gt.address||"","Father's Name":gt.fatherName||"","Mother's Name":gt.motherName||"","Parent Phone":gt.parentPhone||"","School Name":Ke?Ke.name:"","School Code":Ke?Ke.schoolCode||"N/A":""}));if(rt.length===0){alert("No data to export");return}const Oe=`${Le}_students_${new Date().toISOString().split("T")[0]}.csv`,De=Object.keys(rt[0]),ut=[De.join(","),...rt.map(gt=>De.map(Zt=>`"${(gt[Zt]||"").toString().replace(/"/g,'""')}"`).join(","))].join(`
`),_t=new Blob([ut],{type:"text/csv;charset=utf-8;"}),qt=document.createElement("a"),Ft=URL.createObjectURL(_t);qt.setAttribute("href",Ft),qt.setAttribute("download",Oe),qt.style.visibility="hidden",document.body.appendChild(qt),qt.click(),document.body.removeChild(qt),URL.revokeObjectURL(Ft)}catch(Me){console.error("CSV Export error:",Me),alert("Error exporting to CSV. Please try again.")}finally{Y(Me=>({...Me,csv:!1}))}},Pe=async()=>{try{Y(gt=>({...gt,excel:!0}));const Me=new URLSearchParams({limit:"10000",name:V.name||"",className:V.className||"",section:V.section||""}),Te=await fetch(`${fh}/students/school/${j}/export?${Me}`,{headers:{Accept:"application/json"}});if(!Te.ok)throw new Error(`HTTP error! Status: ${Te.status}`);const je=await Te.json(),Ke=m[0],Le=Ke?Ke.name.replace(/[^a-zA-Z0-9]/g,"_"):"school",rt=je.data.map(gt=>({"Student Name":gt.name||"",Class:gt?.className||"Unassigned",Section:gt?.section||"N/A","Roll Number":gt.rollNumber||"","Student ID":gt.studentId||"","Date of Birth":gt.dob?new Date(gt.dob).toLocaleDateString("en-IN"):"",Gender:gt.gender||"",Email:gt.email||"",Phone:gt.phone||"",Address:gt.address||"","Father's Name":gt.fatherName||"","Mother's Name":gt.motherName||"","Parent Phone":gt.parentPhone||"","School Name":Ke?Ke.name:"","School Code":Ke?Ke.schoolCode||"N/A":""}));if(rt.length===0){alert("No data to export");return}const Oe=`${Le}_students_${new Date().toISOString().split("T")[0]}.xlsx`,De=Lo.json_to_sheet(rt),ut=Object.keys(rt[0]).map((gt,Zt)=>({wch:Math.max(gt.length,...rt.map($t=>($t[gt]||"").toString().length))}));De["!cols"]=ut;const _t=Lo.book_new();Lo.book_append_sheet(_t,De,"Students");const qt=[["School Information"],[""],["School Name",Ke?Ke.name:""],["School Code",Ke?Ke.schoolCode||"N/A":""],["Total Students",rt.length.toString()],["Export Date",new Date().toLocaleDateString("en-IN")],[""],["Filter Applied"],...V.name?[["Name Filter",V.name]]:[],...V.className?[["Class Filter",V.className]]:[],...V.section?[["Section Filter",V.section]]:[]],Ft=Lo.aoa_to_sheet(qt);Lo.book_append_sheet(_t,Ft,"School Info"),Xb(_t,Oe)}catch(Me){console.error("Excel Export error:",Me),alert("Error exporting to Excel. Please try again.")}finally{Y(Me=>({...Me,excel:!1}))}},ot=()=>{ee({name:"",rollNumber:"",studentId:"",schoolId:j,dob:"",gender:"Male",address:"",phone:"",email:"",password:"",fatherName:"",motherName:"",parentPhone:"",classId:"",className:"",section:"",profileImage:null}),se(""),fe(""),B([]),b(null)},Ge=async Me=>{if(console.log("handleDeleteStudent called with:",Me),console.log("studentId type:",typeof Me),console.log("studentId value:",Me),!!window.confirm("Are you sure you want to delete this student?")){if(!Me){console.error("Student ID is missing or invalid:",Me),d("Student ID is required");return}if(!j){d("School ID is required");return}if(!y3(Me)){d("Invalid Student ID format");return}if(!y3(j)){d("Invalid School ID format");return}try{l(!0),console.log("Deleting student:",{studentId:Me,schoolId:j});const Te=await sr.delete(`${fh}/students/student/${Me}`,{data:{schoolId:j}});if(Te.status===200){const je=new URLSearchParams({page:U,limit:z,name:V.name||"",className:V.className||"",section:V.section||""}),Le=await(await fetch(`${fh}/students/school/${j}?${je}`,{headers:{Accept:"application/json"}})).json();h(Le.data||[]),Q(Le.totalPages||1),P(rt=>({...rt,currentStudentCount:Le.totalStudents||0,remainingCapacity:rt.totalStudent-(Le.totalStudents||0)}))}else throw new Error(Te.data.message||"Failed to delete student")}catch(Te){const je=Te.response?.data?.message||Te.message||"Failed to delete student";d(je),console.error("Deletion error:",Te)}finally{l(!1)}}},lt=Me=>{const Te=new Set(s);Te.has(Me)?Te.delete(Me):Te.add(Me),i(Te)},Je=Me=>{if(!Me)return"";const Te=Me.split(" ");let je=Te[0].substring(0,1).toUpperCase();return Te.length>1&&(je+=Te[Te.length-1].substring(0,1).toUpperCase()),je};return C.useEffect(()=>{if(!e)ot();else if(r){const Me=be(r.classId);se(Me.className||""),fe(Me.section||"");const Te=pe(Me.className||"");if(B(Te),ee({name:r.name,rollNumber:r.rollNumber,studentId:r.studentId,schoolId:j,dob:r.dob,gender:r.gender,address:r.address,phone:r.phone,email:r.email,password:"",fatherName:r.fatherName,motherName:r.motherName,parentPhone:r.parentPhone,classId:r.classId?._id||r.classId||"",profileImage:null,className:Me.className||"",section:Me.section||""}),r.profileImage){const je=r.profileImage.startsWith("/")?r.profileImage:`${r.profileImage}`;b(`${je}`)}}else se(""),fe(""),B([])},[e,r,j,y]),o&&u.length===0&&m.length===0?a.jsx("div",{className:"flex justify-center items-center h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:L}})}):a.jsxs("div",{className:"space-y-6",children:[c&&a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error: "}),a.jsx("span",{className:"block sm:inline",children:c}),a.jsx("button",{onClick:()=>d(null),className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Lr,{className:"fill-current h-6 w-6 text-red-500"})})]}),a.jsx("div",{className:cr("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:L},children:a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Student Management"}),a.jsxs("p",{className:"text-gray-200",children:["Manage students for ",Fe(j)]}),T.totalStudent===0?a.jsx("p",{className:"text-red-200",children:"Cannot add students. School capacity is set to 0. Please contact the administrator for permission."}):a.jsxs("p",{className:"text-gray-200",children:["Student Capacity: ",T.currentStudentCount," /"," ",T.totalStudent,T.remainingCapacity>0?a.jsxs("span",{children:[" ","(Can add ",T.remainingCapacity," more student",T.remainingCapacity>1?"s":"",")"]}):a.jsx("span",{children:" (No more students can be added)"})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:Ze,disabled:R.csv||u.length===0,className:cr("flex items-center space-x-2 px-4 py-2 rounded-lg shadow-lg transition-all duration-200",R.csv||u.length===0?"opacity-50 cursor-not-allowed bg-gray-400":"bg-green-600 hover:bg-green-700 text-white"),title:"Export to CSV",children:[R.csv?a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):a.jsx(xs,{className:"w-4 h-4"}),a.jsx("span",{children:"CSV"})]}),a.jsxs("button",{onClick:Pe,disabled:R.excel||u.length===0,className:cr("flex items-center space-x-2 px-4 py-2 rounded-lg shadow-lg transition-all duration-200",R.excel||u.length===0?"opacity-50 cursor-not-allowed bg-gray-400":"bg-blue-600 hover:bg-blue-700 text-white"),title:"Export to Excel",children:[R.excel?a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):a.jsx(xs,{className:"w-4 h-4"}),a.jsx("span",{children:"Excel"})]}),a.jsxs("button",{onClick:()=>t(!0),className:cr("text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2",(!T.canAddStudents||T.remainingCapacity<=0)&&"opacity-50 cursor-not-allowed"),style:{backgroundColor:L},disabled:!T.canAddStudents||T.remainingCapacity<=0,title:T.canAddStudents?T.remainingCapacity<=0?"Student limit reached":"Add a new student":"School capacity is 0. Contact administrator.",children:[a.jsx(Si,{style:{color:"white"}})," ",a.jsx("span",{children:"Add Student"})]})]})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[a.jsx("div",{className:"p-6 border-b flex justify-between items-center",children:a.jsx("h2",{className:"text-lg font-bold",children:"All Students"})}),a.jsx("div",{className:"p-4 border-b bg-gray-50",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search by name",value:V.name,onChange:Me=>Z("name",Me.target.value),className:"w-full pl-10 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:L,outlineColor:L}})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Class"}),a.jsxs("select",{value:V.className,onChange:Me=>le(Me.target.value),className:"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:L,outlineColor:L},children:[a.jsx("option",{value:"",children:"All Classes"}),ge.map(Me=>a.jsx("option",{value:Me,children:Me},Me))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Section"}),a.jsxs("select",{value:V.section,onChange:Me=>Z("section",Me.target.value),className:"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:L,outlineColor:L},disabled:!V.className,children:[a.jsx("option",{value:"",children:"All Sections"}),ye().map(Me=>a.jsx("option",{value:Me,children:Me},Me))]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:te,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Reset Filters"})})]})}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Expand"}),a.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Student"}),a.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Class"}),a.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Section"}),a.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"School"}),a.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Roll No"}),a.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Actions"})]})}),a.jsxs("tbody",{className:"divide-y",children:[console.log("Rendering students:",u),u.map(Me=>{console.log("Rendering student:",Me);const{className:Te,section:je}=be(Me.classId);return a.jsxs(a.Fragment,{children:[a.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>lt(Me._id),children:[a.jsx("td",{className:"p-4",children:a.jsx("button",{onClick:Ke=>{Ke.stopPropagation(),lt(Me._id)},children:s.has(Me._id)?a.jsx(s1,{style:{color:L}}):a.jsx(Al,{style:{color:L}})})}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center overflow-hidden",style:{backgroundColor:`${L}20`,color:L},children:Me.profileImage?a.jsx("img",{src:Me.profileImage.startsWith("http")?Me.profileImage:`${fh}${Me.profileImage}`,alt:Me.name,className:"w-full h-full object-cover",onError:Ke=>{Ke.target.style.display="none",Ke.target.parentElement.innerHTML=`<span class="text-xl" style="color: ${L};">${Je(Me.name)}</span>`}}):a.jsx("span",{className:"text-xl",children:Je(Me.name)})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"font-medium",children:Me.name}),a.jsx("div",{className:"text-gray-500",children:Me.email})]})]})}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:Te})}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:je})}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs",children:Fe(Me.schoolId)})}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded text-sm",children:Me.rollNumber})}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:Ke=>{Ke.stopPropagation(),n(Me),t(!0)},className:"p-2 rounded hover:bg-gray-100 transition-colors",style:{color:L},title:"Edit Student",children:a.jsx(ed,{className:"w-4 h-4"})}),a.jsx("button",{onClick:Ke=>{Ke.stopPropagation(),console.log("Delete button clicked for student:",Me),console.log("Student _id:",Me._id),console.log("Student id:",Me.id),console.log("All student keys:",Object.keys(Me));const Le=Me._id||Me.id||Me.studentId;if(console.log("Using studentId:",Le),!Le){console.error("No valid student ID found in student object:",Me),d("Student ID not found in student data");return}Ge(Le)},className:"p-2 rounded hover:bg-gray-100 transition-colors",style:{color:"#ef4444"},title:"Delete Student",children:a.jsx(si,{className:"w-4 h-4"})})]})})]},Me._id),s.has(Me._id)&&a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"p-4 bg-gray-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:[a.jsx("h3",{className:"font-semibold mb-4 text-lg",style:{color:L},children:"Student Details"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium border-b pb-1 mb-3",children:"Personal Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-medium",children:"Date of Birth:"}),a.jsx("span",{children:Me.dob?new Date(Me.dob).toLocaleDateString("en-IN"):"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-medium",children:"Gender:"}),a.jsx("span",{children:Me.gender||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-medium",children:"Address:"}),a.jsx("span",{children:Me.address||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-medium",children:"Phone:"}),a.jsx("span",{children:Me.phone||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-medium",children:"Email:"}),a.jsx("span",{children:Me.email||"N/A"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium border-b pb-1 mb-3",children:"Academic Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-medium",children:"Class:"}),a.jsx("span",{children:Te||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-medium",children:"Section:"}),a.jsx("span",{children:je||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-medium",children:"Roll Number:"}),a.jsx("span",{children:Me.rollNumber||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-medium",children:"Student ID:"}),a.jsx("span",{children:Me.studentId||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-medium",children:"School:"}),a.jsx("span",{children:Fe(Me.schoolId)})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium border-b pb-1 mb-3",children:"Parent Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-medium",children:"Father's Name:"}),a.jsx("span",{children:Me.fatherName||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-medium",children:"Mother's Name:"}),a.jsx("span",{children:Me.motherName||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-medium",children:"Parent Phone:"}),a.jsx("span",{children:Me.parentPhone||"N/A"})]})]})]})]})]})})})]})})]})]}),!u.length&&!o&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ra,{className:"w-12 h-12 mx-auto mb-4",style:{color:L}}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"No students found"}),V.name||V.className||V.section?a.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your filters to see students."}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-gray-600 mb-4",children:"No students are currently enrolled."}),T.canAddStudents&&T.remainingCapacity>0&&a.jsx("button",{onClick:()=>t(!0),className:cr("text-white px-6 py-2 rounded-lg shadow-lg font-medium transition-all duration-200"),style:{backgroundColor:L},children:"Add First Student"})]}),(V.name||V.className||V.section)&&a.jsx("button",{onClick:te,className:"mt-4 text-gray-600 hover:text-gray-800 underline",children:"Clear all filters"})]}),u.length>0&&a.jsxs("div",{className:"p-4 flex justify-between items-center bg-gray-50 border-t",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(U-1)*z+1," to"," ",Math.min(U*z,k*z)," of"," ",k*z," entries"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>Ne(U-1),disabled:U===1,className:cr("px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2",U===1?"opacity-50 cursor-not-allowed bg-gray-200 text-gray-400":"bg-white border border-gray-300 hover:bg-gray-50 text-gray-700"),children:[a.jsx(fc,{className:"w-4 h-4"}),a.jsx("span",{children:"Previous"})]}),a.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:k},(Me,Te)=>Te+1).map(Me=>a.jsx("button",{onClick:()=>Ne(Me),className:cr("px-3 py-2 rounded-lg font-medium transition-all duration-200",U===Me?"bg-blue-600 text-white shadow-md":"bg-white border border-gray-300 hover:bg-gray-50 text-gray-700"),children:Me},Me))}),a.jsxs("button",{onClick:()=>Ne(U+1),disabled:U===k,className:cr("px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2",U===k?"opacity-50 cursor-not-allowed bg-gray-200 text-gray-400":"bg-white border border-gray-300 hover:bg-gray-50 text-gray-700"),children:[a.jsx("span",{children:"Next"}),a.jsx(Al,{className:"w-4 h-4"})]})]})]})]})]}),e&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-auto",children:a.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:cr("text-white p-6 rounded-t-lg shadow-lg sticky top-0 z-10"),style:{backgroundColor:L},children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:r?"Edit Student":"Add Student"}),a.jsx("button",{onClick:()=>t(!1),className:"absolute top-4 right-4 flex items-center justify-center w-8 h-8 hover:bg-white/20 rounded-full transition-colors",style:{color:"white"},children:a.jsx(Lr,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:ke,className:"p-6 space-y-4",children:[a.jsxs("div",{className:"flex flex-col items-center mb-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 overflow-hidden mb-2 border-2 border-gray-300",children:v?a.jsx("img",{src:v,alt:"Preview",className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500 bg-gradient-to-br from-gray-100 to-gray-200",children:r?.profileImage?a.jsx("img",{src:r.profileImage.startsWith("http")?r.profileImage:`${fh}${r.profileImage}`,alt:"Current Profile",className:"w-full h-full object-cover",onError:Me=>{Me.target.style.display="none",Me.target.parentElement.innerHTML=`<span class="text-2xl font-bold" style="color: ${L};">${Je(ce.name||r.name)}</span>`}}):a.jsx("span",{className:"text-2xl font-bold",style:{color:L},children:Je(ce.name||r?.name||"SN")})})}),(v||r?.profileImage)&&a.jsx("button",{type:"button",onClick:Ce,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1.5 shadow-lg hover:bg-red-600 transition-colors",title:"Remove Photo",children:a.jsx(Lr,{className:"w-3 h-3"})})]}),a.jsxs("label",{className:"cursor-pointer mt-2 hover:opacity-80 transition-opacity",children:[a.jsx("span",{className:"text-sm font-medium",style:{color:L},children:"Upload Photo"}),a.jsx("input",{type:"file",accept:"image/*",onChange:re,className:"hidden"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{name:"name",label:"Student Name *",type:"text",placeholder:"Enter full student name",required:!0},{name:"rollNumber",label:"Roll Number *",type:"text",placeholder:"Enter roll number",required:!0},{name:"studentId",label:"Student ID *",type:"text",placeholder:"Enter unique student ID",required:!0},{name:"dob",label:"Date of Birth *",type:"date",placeholder:"Select date of birth",required:!0},{name:"gender",label:"Gender *",type:"select",options:["Male","Female","Other"],required:!0},{name:"phone",label:"Phone Number",type:"tel",placeholder:"Enter 10-digit phone number"},{name:"email",label:"Email Address",type:"email",placeholder:"Enter email address"},{name:"password",label:r?"New Password (Optional)":"Password *",type:"password",required:!r,placeholder:r?"Leave blank to keep current":"Enter strong password"},{name:"fatherName",label:"Father's Name",type:"text",placeholder:"Enter father's full name"},{name:"motherName",label:"Mother's Name",type:"text",placeholder:"Enter mother's full name"},{name:"parentPhone",label:"Parent Phone",type:"tel",placeholder:"Enter 10-digit parent phone number"}].map(Me=>a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:Me.label}),Me.type==="select"?a.jsxs("select",{name:Me.name,value:ce[Me.name]||"",onChange:He,className:cr("w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-200","disabled:bg-gray-100 disabled:cursor-not-allowed"),style:{borderColor:L,outlineColor:L,backgroundColor:Me.required&&!ce[Me.name]?"#fef2f2":"white"},required:Me.required,disabled:Me.name==="password"&&r&&!ce.password,children:[a.jsxs("option",{value:"",children:["Select ",Me.label.split(" ")[0]]}),Me.options.map(Te=>a.jsx("option",{value:Te,children:Te},Te))]}):a.jsx("input",{type:Me.type,name:Me.name,value:ce[Me.name]||"",onChange:He,placeholder:Me.placeholder||"",required:Me.required,className:cr("w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-200","disabled:bg-gray-100 disabled:cursor-not-allowed"),style:{borderColor:L,outlineColor:L,backgroundColor:Me.required&&!ce[Me.name]?"#fef2f2":"white"},disabled:Me.name==="password"&&r&&!ce.password})]},Me.name))}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:["Class Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:de,onChange:Me=>ct(Me.target.value),className:cr("w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-200",de?"":"bg-red-50 border-red-200"),style:{borderColor:L,outlineColor:L},required:!0,children:[a.jsx("option",{value:"",children:"Select Class Name"}),ge.map(Me=>a.jsx("option",{value:Me,children:Me},Me))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:["Section ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:he,onChange:Me=>_e(Me.target.value),className:cr("w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-200",de&&!he?"bg-red-50 border-red-200":"",de?"":"bg-gray-100 cursor-not-allowed"),style:{borderColor:L,outlineColor:L},disabled:!de,required:!0,children:[a.jsx("option",{value:"",children:"Select Section"}),ve.length>0?ve.map(Me=>a.jsx("option",{value:Me,children:Me},Me)):de?a.jsx("option",{disabled:!0,children:"No sections available"}):a.jsx("option",{disabled:!0,children:"Select class first"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Address ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{name:"address",value:ce.address||"",onChange:He,required:!0,rows:"3",placeholder:"Enter complete address",className:cr("w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-200 resize-none",ce.address?"":"bg-red-50 border-red-200"),style:{borderColor:L,outlineColor:L}})]}),c&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ga,{className:"w-5 h-5 mr-2 flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:c})]})}),a.jsxs("div",{className:"sticky bottom-0 bg-white pt-4 pb-2 border-t flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>t(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors",disabled:o,children:"Cancel"}),a.jsx("button",{type:"submit",className:cr("px-6 py-2 rounded-lg shadow-lg font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-200 flex items-center space-x-2",o?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white"),style:{backgroundColor:o?"#9CA3AF":L,borderColor:L},disabled:o||!T.canAddStudents||T.remainingCapacity<=0||!ce.classId||!ce.name||!ce.rollNumber||!ce.studentId||!ce.dob||!ce.gender||!ce.address,children:o?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{children:r?"Updating...":"Creating..."})]}):r?"Update Student":"Create Student"})]})]})]})})]})};var b3={exports:{}},w3={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nP;function dde(){if(nP)return w3;nP=1;var e=ry();function t(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,s=e.useRef,i=e.useEffect,o=e.useMemo,l=e.useDebugValue;return w3.useSyncExternalStoreWithSelector=function(c,d,u,h,m){var A=s(null);if(A.current===null){var y={hasValue:!1,value:null};A.current=y}else y=A.current;A=o(function(){function v(P){if(!b){if(b=!0,j=P,P=h(P),m!==void 0&&y.hasValue){var U=y.value;if(m(U,P))return E=U}return E=P}if(U=E,r(j,P))return U;var M=h(P);return m!==void 0&&m(U,M)?(j=P,U):(j=P,E=M)}var b=!1,j,E,T=u===void 0?null:u;return[function(){return v(d())},T===null?void 0:function(){return v(T())}]},[d,u,h,m]);var x=n(c,A[0],A[1]);return i(function(){y.hasValue=!0,y.value=x},[x]),l(x),x},w3}var aP;function fde(){return aP||(aP=1,b3.exports=dde()),b3.exports}var hde=fde();function Ade(e){e()}function mde(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Ade(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var sP={notify(){},get:()=>[]};function pde(e,t){let r,n=sP,s=0,i=!1;function o(x){u();const v=n.subscribe(x);let b=!1;return()=>{b||(b=!0,v(),h())}}function l(){n.notify()}function c(){y.onStateChange&&y.onStateChange()}function d(){return i}function u(){s++,r||(r=e.subscribe(c),n=mde())}function h(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=sP)}function m(){i||(i=!0,u())}function A(){i&&(i=!1,h())}const y={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:m,tryUnsubscribe:A,getListeners:()=>n};return y}var gde=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xde=gde(),vde=()=>typeof navigator<"u"&&navigator.product==="ReactNative",yde=vde(),bde=()=>xde||yde?C.useLayoutEffect:C.useEffect,wde=bde(),Nde=Symbol.for("react-redux-context"),jde=typeof globalThis<"u"?globalThis:{};function Sde(){if(!C.createContext)return{};const e=jde[Nde]??=new Map;let t=e.get(C.createContext);return t||(t=C.createContext(null),e.set(C.createContext,t)),t}var Ag=Sde();function Cde(e){const{children:t,context:r,serverState:n,store:s}=e,i=C.useMemo(()=>{const c=pde(s);return{store:s,subscription:c,getServerState:n?()=>n:void 0}},[s,n]),o=C.useMemo(()=>s.getState(),[s]);wde(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||Ag;return C.createElement(l.Provider,{value:i},t)}var r$=Cde;function E_(e=Ag){return function(){return C.useContext(e)}}var n$=E_();function a$(e=Ag){const t=e===Ag?n$:E_(e),r=()=>{const{store:n}=t();return n};return Object.assign(r,{withTypes:()=>r}),r}var Ede=a$();function Bde(e=Ag){const t=e===Ag?Ede:a$(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var s$=Bde(),Tde=(e,t)=>e===t;function _de(e=Ag){const t=e===Ag?n$:E_(e),r=(n,s={})=>{const{equalityFn:i=Tde}=typeof s=="function"?{equalityFn:s}:s,o=t(),{store:l,subscription:c,getServerState:d}=o;C.useRef(!0);const u=C.useCallback({[n.name](m){return n(m)}}[n.name],[n]),h=hde.useSyncExternalStoreWithSelector(c.addNestedSub,l.getState,d||l.getState,u,i);return C.useDebugValue(h),h};return Object.assign(r,{withTypes:()=>r}),r}var ai=_de();const Hp="https://vidyaastra.com/api",Fde=()=>{const e=localStorage.getItem("schoolId"),t=localStorage.getItem("color")||"#2563eb",{classes:r,loading:n,error:s}=ai(Je=>({classes:Je.classes.classes?.data||[],loading:Je.classes.loading,error:Je.classes.error})),i=new Date().toISOString().split("T")[0],[o,l]=C.useState(i),[c,d]=C.useState(""),[u,h]=C.useState(""),[m,A]=C.useState(""),[y,x]=C.useState(!0),[v,b]=C.useState([]),[j,E]=C.useState([]),[T,P]=C.useState(!1),[U,M]=C.useState(""),[k,Q]=C.useState(""),[z,O]=C.useState(null),[L,V]=C.useState(1),[J]=C.useState(10),[ce,ee]=C.useState(1),[de,se]=C.useState(1),he={present:{icon:Dl,color:"text-white px-3 py-2 rounded-lg shadow-lg",style:{backgroundColor:t}},absent:{icon:Lr,color:"bg-red-500 text-white",style:{backgroundColor:"#ef4444"}},late:{icon:es,color:"bg-orange-500 text-white",style:{backgroundColor:"#f59e0b"}},holiday:{icon:Ra,color:"bg-purple-500 text-white",style:{backgroundColor:"#8b5cf6"}}},fe=Je=>{Q(Je),setTimeout(()=>Q(""),5e3)},ve=Je=>{M(Je),setTimeout(()=>M(""),5e3)};C.useEffect(()=>{if(!e){M("School ID not found. Please login again.");return}console.log("Current School ID:",e)},[e]);const B=Je=>Je?new Date(Je).toISOString().split("T")[0]:null,R=Je=>Je?Je.split("T")[0]:null,Y=C.useCallback(async(Je=1,Me=!1)=>{if(e){P(!0);try{console.log("Fetching students for schoolId:",e,"page:",Je,"loadAll:",Me);const je=await fetch(`${Hp}/students/school/${e}?page=${Je}&limit=${Me?100:50}`);if(je.ok){const Ke=await je.json();console.log("Students API response:",Ke);const Le=Array.isArray(Ke.data)?Ke.data:[];se(Ke.totalPages||1),E(Me?rt=>{const Oe=[...rt,...Le],De=Oe.filter((ut,_t,qt)=>_t===qt.findIndex(Ft=>Ft._id===ut._id));return console.log(`Combined students: ${Oe.length}, Unique: ${De.length}`),De}:Le)}else console.error("Failed to fetch students:",je.status),await ie()}catch(Te){console.error("Error fetching students:",Te),await ie()}finally{P(!1)}}},[e]),ie=async()=>{try{const Je=await fetch(`${Hp}/students`);if(Je.ok){const Me=await Je.json();console.log("All students API response:",Me);const je=(Array.isArray(Me)?Me:Array.isArray(Me.data)?Me.data:[]).filter(Ke=>typeof Ke.schoolId=="object"&&Ke.schoolId?._id?Ke.schoolId._id===e:Ke.schoolId===e||Ke.schoolId?.toString()===e);E(je),console.log("Fallback - Filtered students loaded:",je.length)}else console.error("Failed to fetch all students:",Je.status),E([]),ve("Failed to fetch students")}catch(Je){console.error("Error fetching all students:",Je),E([]),ve("Error connecting to server while fetching students.")}},ge=C.useCallback(async()=>{if(!(!e||!o)){P(!0);try{console.log("Fetching attendance for school:",e,"date:",o);const Je=B(o);console.log("Formatted API date:",Je);const Me=await fetch(`${Hp}/attendance/by-date?schoolId=${e}&date=${Je}`);if(Me.ok){const Te=await Me.json();if(console.log("Attendance API Response:",Te),!Te.success)throw new Error(Te.message||"Failed to fetch attendance records");const je=(Te.data||[]).map(Ke=>({...Ke,date:R(Ke.date),studentId:typeof Ke.studentId=="string"?{_id:Ke.studentId}:Ke.studentId}));b(je),console.log(`Processed attendance records loaded for ${o}:`,je.length)}else console.error("Failed to fetch attendance:",Me.status),b([]),ve("Failed to fetch attendance records")}catch(Je){console.error("Error fetching attendance:",Je),b([]),ve("Error connecting to server while fetching attendance.")}finally{P(!1)}}},[e,o]);C.useEffect(()=>{e&&(V(1),Y(1,!1))},[e]),C.useEffect(()=>{e&&o&&(b([]),ge())},[e,o,ge]);const ye=C.useMemo(()=>j.length===0?[]:(console.log(`Processing ${j.length} students with ${v.length} attendance records`),j.map(Je=>{const Te=(Oe=>Oe._id?Oe._id:Oe.id?Oe.id:Oe.studentId?._id?Oe.studentId._id:null)(Je),je=v.find(Oe=>(Oe.studentId?._id||Oe.studentId)===Te);let Ke="N/A",Le="N/A";if(Je.classId){const Oe=r.find(De=>{const ut=typeof Je.classId=="object"&&Je.classId?._id?Je.classId._id:Je.classId;return De._id===ut});Oe&&(Ke=Oe.className||"N/A",Le=Oe.section||"N/A")}const rt=je?.status?.toLowerCase()||"absent";return{...Je,id:Te,attendanceId:je?._id,status:rt,class:Ke,section:Le,classDisplay:`${Ke} ${Le!=="N/A"?`(${Le})`:""}`.trim(),attendanceDate:je?.date||o}})),[j,v,r,o]),pe=C.useMemo(()=>{if(ye.length===0)return[];const Je=m.toLowerCase();return ye.filter(Me=>{const Te=!m||(Me.name?.toLowerCase()||"").includes(Je)||(Me.rollNumber?.toString()||"").includes(Je)||(Me.studentId?.toLowerCase()||"").includes(Je),je=!c||Me.class===c,Ke=!u||Me.section===u;return Te&&je&&Ke})},[ye,c,u,m]),Z=Math.ceil(pe.length/J),le=(L-1)*J,te=Math.min(le+J,pe.length),Ne=pe.slice(le,te);C.useEffect(()=>{V(1)},[c,u,m]),C.useEffect(()=>{if((c||u||m)&&j.length<500&&!T&&ce<de){const Je=ce+1;console.log(`Loading more students (page ${Je}) due to filters`),ee(Je),Y(Je,!0)}},[c,u,m,ce,de,j.length,T]),C.useEffect(()=>{s&&ve("Failed to load classes from Redux")},[s]);const Fe=pe.length,be=pe.filter(Je=>Je.status==="present").length,re=pe.filter(Je=>Je.status==="absent").length,Ce=pe.filter(Je=>Je.status==="late").length,st=[{icon:Ra,value:Fe,label:Fe>0?`Total (${j.length} Students)`:"Total Students",color:"green"},{icon:Dl,value:be,label:"Present",color:"green"},{icon:Lr,value:re,label:"Absent",color:"red"},{icon:es,value:Ce,label:"Late",color:"orange"}],et=()=>{if(pe.length===0){ve("No data to export");return}try{const Je=pe.map(Le=>({"Roll Number":Le.rollNumber||"-","Student Name":Le.name||"Unknown","Student ID":Le.studentId||"-",Class:Le.classDisplay||"N/A",Status:(Le.status||"absent").charAt(0).toUpperCase()+(Le.status||"absent").slice(1),Date:o})),Me=Lo.json_to_sheet(Je),Te=Lo.book_new();Lo.book_append_sheet(Te,Me,`Attendance_${o}`);const je=[{wch:12},{wch:20},{wch:15},{wch:15},{wch:10},{wch:12}];Me["!cols"]=je;const Ke=Lo.decode_range(Me["!ref"]);for(let Le=Ke.s.c;Le<=Ke.e.c;++Le){const rt=Lo.encode_col(Le)+Ke.s.r;Me[rt]&&(Me[rt].s={font:{bold:!0,color:{rgb:"FFFFFF"}},fill:{fgColor:{rgb:t.replace("#","")}},alignment:{horizontal:"center"}})}Xb(Te,`Attendance_${o}.xlsx`),fe(`Exported ${pe.length} records to Excel`)}catch(Je){console.error("Export error:",Je),ve("Failed to export to Excel")}},He=async(Je,Me)=>{if(!e){ve("School ID not found. Please login again.");return}console.log(`Changing attendance for studentId: ${Je} to status: ${Me} for date: ${o}`);const Te=j.find(je=>je.id===Je||je._id===Je);if(!Te){ve("Student not found or does not belong to your school.");return}O(Je);try{const je=B(o),Ke=v.find(_t=>{const qt=_t.studentId?._id||_t.studentId,Ft=R(_t.date);return console.log(`Checking record: studentId=${qt}, recordDate=${Ft}, targetStudentId=${Je}, targetDate=${je}`),qt===Je&&Ft===je}),Le={studentId:Je,date:je,status:Me.toLowerCase(),schoolId:e},rt=Ke?`${Hp}/attendance/${Ke._id}`:`${Hp}/attendance`,Oe=Ke?"PUT":"POST";console.log(`${Oe} request to ${rt} with data:`,Le);const De=await fetch(rt,{method:Oe,headers:{"Content-Type":"application/json"},body:JSON.stringify(Le)}),ut=await De.json();console.log("Attendance API response:",ut),De.ok?(fe(`Attendance marked as ${Me} for ${Te.name}`),await ge()):ve(ut.message||"Failed to update attendance")}catch(je){console.error("Error updating attendance:",je),ve(`Error: ${je.message}`)}finally{O(null)}},ct=async Je=>{if(!e){ve("School ID not found. Please login again.");return}if(pe.length===0){ve("No students found to update.");return}if(confirm(`Mark ${pe.length} students as ${Je}?`)){P(!0);try{const Me=B(o),Te=pe.map(Le=>{const rt=v.find(Oe=>{const De=Oe.studentId?._id||Oe.studentId,ut=R(Oe.date);return console.log(`Bulk check: studentId=${De}, recordDate=${ut}, targetStudentId=${Le.id}, targetDate=${Me}`),De===Le.id&&ut===Me});return fetch(rt?`${Hp}/attendance/${rt._id}`:`${Hp}/attendance`,{method:rt?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentId:Le.id,date:Me,status:Je.toLowerCase(),schoolId:e})})}),Ke=(await Promise.allSettled(Te)).filter(Le=>Le.status==="fulfilled").length;fe(`Successfully updated ${Ke} out of ${pe.length} students as ${Je}`),await ge()}catch(Me){console.error("Bulk attendance error:",Me),ve(`Bulk update failed: ${Me.message}`)}finally{P(!1)}}},_e=Je=>{const Me=Je.target.value;console.log("Selected class changed to:",Me),d(Me),h("")},ke=Je=>{const Me=Je.target.value;console.log("Selected section changed to:",Me),h(Me)},Ze=C.useMemo(()=>{const Je=ye.filter(Me=>Me.class!=="N/A").map(Me=>Me.class);return[...new Set(Je)].sort()},[ye]),Pe=C.useCallback(()=>{if(!c||ye.length===0)return[];const Je=ye.filter(Me=>Me.class===c&&Me.section!=="N/A").map(Me=>Me.section);return[...new Set(Je)].sort()},[ye,c]),ot=C.useCallback(Je=>{const Me=Math.ceil(pe.length/J);Je>=1&&Je<=Me&&V(Je)},[pe.length,J]),Ge=C.useCallback(()=>{d(""),h(""),A("")},[]),lt=({student:Je})=>{const Me=Je.name?.charAt(0)?.toUpperCase()||"?";return Je.profileImage?a.jsxs("div",{className:"relative h-8 w-8 rounded-full overflow-hidden shadow-sm",children:[a.jsx("img",{src:`${Hp.replace("/api","")}${Je.profileImage}`,alt:Je.name,className:"h-full w-full object-cover",onError:Te=>{Te.target.style.display="none",Te.target.parentElement.innerHTML=`
              <div class="h-full w-full flex items-center justify-center text-white text-sm font-semibold" style="background-color: ${t}">
                ${Me}
              </div>
            `}}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white text-sm font-semibold",style:{backgroundColor:t,display:"none"},children:Me})]}):a.jsx("div",{className:"h-8 w-8 rounded-full flex items-center justify-center text-white text-sm font-semibold shadow-sm",style:{backgroundColor:t},children:Me})};return e?T&&j.length===0?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(an,{className:"w-12 h-12 mx-auto text-blue-600 animate-spin mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-700",children:"Loading attendance data..."}),a.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["School ID: ",e]})]})}):a.jsxs("div",{className:"space-y-6 bg-gray-50 min-h-screen",children:[k&&a.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-md",children:[a.jsx(tu,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:k}),a.jsx("button",{onClick:()=>Q(""),className:"ml-auto text-green-700 hover:text-green-900",children:a.jsx(Lr,{className:"w-4 h-4"})})]}),U&&a.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-md",children:[a.jsx(ga,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:U}),a.jsx("button",{onClick:()=>M(""),className:"ml-auto text-red-700 hover:text-red-900",children:a.jsx(Lr,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"text-white p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:t},children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Attendance Management"}),a.jsx("p",{className:"text-blue-100",children:"Mark and manage student attendance"}),a.jsxs("div",{className:"text-blue-200 text-sm mt-1",children:["School ID: ",e," | ",Ne.length," of ",Fe," students",(c||u||m)&&" (filtered)",j.length>0&&` | ${j.length} total loaded`,v.length>0&&` | ${v.length} attendance records`]})]}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsxs("button",{onClick:et,className:"px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 hover:bg-opacity-90 transition-colors",style:{backgroundColor:"#10b981"},disabled:T||pe.length===0,children:[a.jsx(xs,{}),a.jsx("span",{children:"Export Excel"})]}),a.jsxs("button",{onClick:()=>x(!y),className:"px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 hover:bg-opacity-90 transition-colors",style:{backgroundColor:t},disabled:T,children:[a.jsx(ed,{}),a.jsx("span",{children:y?"View Mode":"Edit Mode"})]}),(c||u||m)&&a.jsx("button",{onClick:Ge,className:"px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 hover:bg-opacity-90 transition-colors bg-opacity-80",style:{backgroundColor:t},children:"Clear Filters"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(Jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-blue-200 w-5 h-5"}),a.jsx("input",{type:"date",value:o,onChange:Je=>{console.log("Date changed to:",Je.target.value),l(Je.target.value)},className:"w-full pl-10 pr-4 py-2 border border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",style:{outlineColor:t}})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Class"}),a.jsxs("select",{value:c,onChange:_e,className:"w-full px-3 py-2 border border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",style:{outlineColor:t},disabled:n||ye.length===0,children:[a.jsx("option",{value:"",children:"All Classes"}),Ze.map(Je=>a.jsx("option",{value:Je,children:Je},Je))]}),n&&a.jsxs("div",{className:"text-sm text-blue-200 mt-1 flex items-center",children:[a.jsx(an,{className:"animate-spin mr-1"})," Loading..."]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Section"}),a.jsxs("select",{value:u,onChange:ke,className:"w-full px-3 py-2 border border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",style:{outlineColor:t},disabled:!c||ye.length===0,children:[a.jsx("option",{value:"",children:"All Sections"}),Pe().map(Je=>a.jsx("option",{value:Je,children:Je},Je))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Search"}),a.jsxs("div",{className:"relative",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-blue-200 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search students...",value:m,onChange:Je=>{A(Je.target.value)},className:"w-full pl-10 pr-4 py-2 border border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",style:{outlineColor:t}})]})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:st.map((Je,Me)=>a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border-l-4 hover:shadow-xl transition-shadow",style:{borderColor:Je.color==="custom"?t:Je.color==="green"?"#10b981":Je.color==="red"?"#ef4444":Je.color==="orange"?"#f59e0b":t},children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Je.icon,{className:`w-8 h-8 ${Je.color==="custom"?"text-white":`text-${Je.color}-600`}`}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:`text-2xl font-bold ${Je.color==="custom"?"text-white":"text-gray-800"}`,children:Je.value}),a.jsx("div",{className:`text-sm ${Je.color==="custom"?"text-blue-100":"text-gray-600"}`,children:Je.label})]})]})},`stat-${Me}`))}),y&&pe.length>0&&a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-lg border border-gray-200",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Bulk Actions for ",pe.length," student",pe.length!==1?"s":""]}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsx("button",{onClick:()=>ct("present"),className:"px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 text-sm font-medium transition-colors disabled:opacity-50",disabled:T,children:"Mark All Present"}),a.jsx("button",{onClick:()=>ct("absent"),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 text-sm font-medium transition-colors disabled:opacity-50",disabled:T,children:"Mark All Absent"}),a.jsx("button",{onClick:()=>ct("late"),className:"px-4 py-2 bg-orange-100 text-orange-700 rounded-lg hover:bg-orange-200 text-sm font-medium transition-colors disabled:opacity-50",disabled:T,children:"Mark All Late"})]})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Roll No"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ne.length>0?Ne.map(Je=>{const Me=Je.status||"absent",Te=he[Me]?.icon||Lr,je=he[Me]||he.absent;return a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Je.rollNumber||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(lt,{student:Je}),a.jsx("div",{className:"ml-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Je.name||"Unknown Student"})})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full text-white",style:{backgroundColor:t},children:Je.studentId||"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.jsx("span",{className:"font-medium",children:Je.classDisplay||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:y?a.jsx("div",{className:"flex justify-center space-x-1",children:Object.entries(he).map(([Ke,Le])=>{const rt=Me===Ke,Oe=Le.icon;return a.jsxs("button",{onClick:()=>He(Je.id||Je._id,Ke),className:`px-2.5 py-1.5 rounded-md text-xs font-medium flex items-center gap-1 transition-all ${rt?Le.color:"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:rt?Le.style:{},disabled:z===(Je._id||Je.id),title:`Mark as ${Ke}`,children:[z===(Je._id||Je.id)&&Ke===Me?a.jsx(an,{className:"w-3 h-3 animate-spin"}):a.jsx(Oe,{className:"w-3 h-3"}),a.jsx("span",{className:"hidden sm:inline",children:Ke.charAt(0).toUpperCase()+Ke.slice(1)})]},`${Ke}-${Je._id||Je.id}`)})}):a.jsx("div",{className:"flex justify-center",children:a.jsxs("span",{className:`px-3 py-1 rounded-lg text-sm font-medium flex items-center gap-1 ${je.color}`,style:je.style,children:[a.jsx(Te,{className:"w-4 h-4"}),a.jsx("span",{className:"capitalize",children:Me})]})})})]},Je._id||Je.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center",children:j.length===0?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-gray-500",children:[a.jsx(Ra,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No students found"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["School ID: ",e]})]}),T&&a.jsx("div",{className:"flex justify-center",children:a.jsx(an,{className:"w-5 h-5 text-blue-500 animate-spin"})})]}):Fe===0?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-gray-500",children:[a.jsx(Va,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No matching students"}),a.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[c&&a.jsxs("p",{children:["Class: ",a.jsx("strong",{children:c})]}),u&&a.jsxs("p",{children:["Section: ",a.jsx("strong",{children:u})]}),m&&a.jsxs("p",{children:["Search: ",a.jsxs("strong",{children:['"',m,'"']})]})]})]}),a.jsxs("button",{onClick:Ge,className:"mx-auto flex items-center px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 text-sm font-medium transition-colors",style:{borderColor:t},children:[a.jsx(Va,{className:"w-4 h-4 mr-2"}),"Clear Filters"]})]}):a.jsxs("div",{className:"text-gray-500",children:[a.jsx(an,{className:"w-8 h-8 mx-auto text-gray-400 animate-spin"}),a.jsx("p",{className:"mt-2 text-sm",children:"Loading students..."})]})})})})]})}),Z>1&&a.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-700",children:["Showing"," ",a.jsxs("span",{className:"font-medium",children:[le+1," to ",te]})," ","of ",a.jsx("span",{className:"font-medium",children:Fe})," results"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>ot(L-1),disabled:L===1,className:"px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",style:{color:t,borderColor:t},children:a.jsx(fc,{className:"w-4 h-4"})}),a.jsxs("span",{className:"px-3 py-2 text-sm text-gray-700 font-medium",children:["Page ",a.jsx("span",{className:"font-semibold",children:L})," of"," ",a.jsx("span",{className:"font-semibold",children:Z})]}),a.jsx("button",{onClick:()=>ot(L+1),disabled:L===Z,className:"px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",style:{color:t,borderColor:t},children:a.jsx(Al,{className:"w-4 h-4"})})]})]})})]})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ga,{className:"w-12 h-12 mx-auto text-red-600 mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-700",children:"School ID is required to access attendance."}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please ensure you are properly logged in."})]})})},Ide=()=>{const e="https://vidyaastra.com/api/fee",t="https://vidyaastra.com/api/students/school",r="https://vidyaastra.com/api/class",n=localStorage.getItem("schoolId"),s=localStorage.getItem("color")||"#2563eb",i=localStorage.getItem("adminToken")||localStorage.getItem("token"),o=ru(),[l,c]=C.useState([]),[d,u]=C.useState([]),[h,m]=C.useState([]),[A,y]=C.useState(!1),[x,v]=C.useState(!1),[b,j]=C.useState(!1),[E,T]=C.useState(!1),[P,U]=C.useState(null),[M,k]=C.useState(null),[Q,z]=C.useState(""),[O,L]=C.useState(null),[V,J]=C.useState(null),[ce,ee]=C.useState(!0),[de,se]=C.useState(null),[he,fe]=C.useState(null),[ve,B]=C.useState(null),[R,Y]=C.useState(""),[ie,ge]=C.useState(""),[ye,pe]=C.useState(""),[Z,le]=C.useState(!1),[te,Ne]=C.useState(1),[Fe,be]=C.useState(1),[re,Ce]=C.useState(10),[st,et]=C.useState(""),[He,ct]=C.useState(""),[_e,ke]=C.useState([]),[Ze,Pe]=C.useState({studentIds:[],totalAmount:"",numberOfInstallments:1,installmentType:"equal",installments:[{amount:"",dueDate:""}],schoolId:n}),[ot,Ge]=C.useState({amount:"",paymentMethod:"",schoolId:n}),[lt,Je]=C.useState({}),[Me,Te]=C.useState(!1),[je,Ke]=C.useState(!1),[Le,rt]=C.useState(!1);C.useEffect(()=>{if(!n){se("School ID not found. Please login again.");return}if(!i){se("Authentication token not found. Please login again.");return}},[n,i]),C.useEffect(()=>{(async()=>{if(!(!n||!i))try{ee(!0),se(null);const Ee={Authorization:`Bearer ${i}`,"Content-Type":"application/json"},[ht,nt,Et]=await Promise.all([sr.get(`${e}?schoolId=${n}&page=${te}&limit=${re}`,{headers:Ee}),sr.get(`${t}/${n}`,{headers:Ee}),sr.get(`${r}?schoolId=${n}`,{headers:Ee})]),Qe=ht.data?.success?ht.data.data:[],bt=nt.data?.success?nt.data.data:nt.data,It=Et.data?.success?Et.data.data:[];c(Array.isArray(Qe)?Qe:[]),u(Array.isArray(bt)?bt:[]),m(Array.isArray(It)?It:[]),be(ht.data?.totalPages||1),Ne(ht.data?.currentPage||1),ee(!1)}catch(Ee){console.error("Error fetching data:",Ee),se(Ee.response?.data?.message||Ee.message),ee(!1)}})()},[n,i,te,re]);const Oe=Re=>{let Ee=null;Re&&typeof Re=="object"?Ee=Re._id||Re.id:typeof Re=="string"&&(Ee=Re);const ht=nt=>{if(!nt)return null;const Et=nt.classId?.className||nt.class||nt.className||nt.standard||null,Qe=nt.classId?.section||nt.section||nt.division||nt.sectionName||null;return{name:nt.name||nt.fullName||(nt.firstName||nt.firstname?`${nt.firstName||nt.firstname} ${nt.lastName||nt.lastname||""}`.trim():nt.studentName||null)||"Unknown Student",rollNumber:nt.rollNumber||nt.roll_no||nt.roll||"N/A",phone:nt.phone||nt.mobile||nt.contactNumber||nt.studentPhone||"N/A",email:nt.email||nt.studentEmail||"N/A",classId:{className:Et||"N/A",section:Qe||"N/A"},fatherName:nt.fatherName||nt.father_name||nt.father||nt.guardianName||null,motherName:nt.motherName||nt.mother_name||nt.mother||null,parentPhone:nt.parentPhone||nt.parent_phone||nt.guardianPhone||nt.guardian_phone||nt.fatherPhone||nt.motherPhone||null,address:nt.address||nt.full_address||nt.currentAddress||null}};if(Ee&&d.length>0){const nt=d.find(Et=>Et._id===Ee);if(nt)return ht(nt)}return Re&&typeof Re=="object"?ht(Re)||{name:"Unknown Student",rollNumber:"N/A",phone:"N/A",email:"N/A",classId:{className:"N/A",section:"N/A"},fatherName:null,motherName:null,parentPhone:null,address:null}:{name:"Unknown Student",rollNumber:"N/A",phone:"N/A",email:"N/A",classId:{className:"N/A",section:"N/A"},fatherName:null,motherName:null,parentPhone:null,address:null}},De=async()=>{if(!n||!i){alert("Authentication required. Please login again.");return}try{le(!0);const Re={Authorization:`Bearer ${i}`,"Content-Type":"application/json"},Ee=200,ht=await sr.get(`${e}?schoolId=${n}&page=1&limit=${Ee}`,{headers:Re}),nt=ht.data?.totalPages||1,Et=[...ht.data?.data||[]],Qe=[];for(let yr=2;yr<=nt;yr++)Qe.push(sr.get(`${e}?schoolId=${n}&page=${yr}&limit=${Ee}`,{headers:Re}));(await Promise.all(Qe)).forEach(yr=>{yr.data?.success&&Array.isArray(yr.data.data)&&Et.push(...yr.data.data)});const It=Et.map(yr=>{const Yr=Oe(yr.studentId),zn=h?.find(Ya=>Ya._id===yr?.studentId?.classId),Hn=zn?.className,xa=zn?.section,Ai=yr?.numberOfInstallments??(yr?.installments?.length||0);return{"Student Name":Yr.name,"Roll No":Yr.rollNumber,Class:Hn||"",Section:xa||"","Total Amount":yr.totalAmount||0,Paid:yr.paid||0,Pending:yr.pending||0,Installments:Ai,Status:yr.status,"Created Date":yr.createdAt?new Date(yr.createdAt).toLocaleDateString():""}}),nr=Lo.json_to_sheet(It),tr=Lo.book_new();Lo.book_append_sheet(tr,nr,"All Fees");const vr=`fees_all_${new Date().toISOString().slice(0,10)}.xlsx`;Xb(tr,vr)}catch(Re){console.error("Excel export (all) failed:",Re),alert("Failed to export all data. Please try again.")}finally{le(!1)}},ut=(Re,Ee,ht="equal")=>{const nt=Number.parseFloat(Re)||0,Et=Number.parseInt(Ee)||1;if(nt<=0||Et<=0)return[];if(ht==="equal"){const Qe=Math.floor(nt/Et*100)/100,bt=nt-Qe*Et,It=[];for(let nr=0;nr<Et;nr++){const tr=nr===Et-1?Qe+bt:Qe;It.push({amount:tr.toFixed(2),dueDate:""})}return It}return Array(Et).fill({amount:"",dueDate:""})},_t=(Re,Ee,ht)=>{const nt=ut(Re,Ee,ht);Pe(Et=>({...Et,totalAmount:Re,numberOfInstallments:Ee,installmentType:ht,installments:nt}))},qt=Re=>{const ht=Array.from(Re.target.options).filter(nt=>nt.selected).map(nt=>nt.value);ke(ht.map(nt=>{const Et=d.find(Qe=>Qe.id===nt);return Oe(Et||{id:nt})})),Pe(nt=>({...nt,studentIds:ht}))},Ft=l.filter(Re=>{const Ee=Re?.studentId;if(!Ee)return!1;console.log("Student Data =>",Ee);const ht=Q?Ee?.name?.toLowerCase().includes(Q.toLowerCase()):!0,nt=R?h?.find(nr=>nr.className===R):null,Et=nt?nt._id===Ee?.classId:!0,Qe=ie?nt?.section===ie:!0,bt=Re?.numberOfInstallments??(Re?.installments?.length||0),It=ye?bt.toString()===ye:!0;return ht&&Et&&Qe&&It}),gt=()=>{const Re=l.map(ht=>ht.numberOfInstallments??ht.installments?.length??null).filter(ht=>ht!=null).map(ht=>ht.toString());return[...new Set(Re)].sort((ht,nt)=>{const Et=Number.parseInt(ht),Qe=Number.parseInt(nt);return Et-Qe})},Zt=()=>{const Re=d.map(nt=>nt.classId?.className||nt.class).filter(nt=>nt!=null).map(nt=>nt.toString()),Ee=h.map(nt=>nt.className).filter(nt=>nt!=null);return[...new Set([...Re,...Ee])].sort((nt,Et)=>{const Qe=Number.parseInt(nt),bt=Number.parseInt(Et);return!isNaN(Qe)&&!isNaN(bt)?Qe-bt:nt.localeCompare(Et)})},$t=()=>{const Re=d.map(nt=>nt.classId?.section||nt.section).filter(nt=>nt!=null&&nt!==""),Ee=h.map(nt=>nt.section).filter(nt=>nt!=null&&nt!=="");return[...new Set([...Re,...Ee])].sort()},rr=d.filter(Re=>{if(!Re)return!1;console.log("Student =>",Re);const Ee=Re?.className?.toString()||"",ht=Re?.section?.toString()||"",nt=!st||Ee===st,Et=!He||ht.toLowerCase()===He.toLowerCase();return nt&&Et}),kr=()=>{z(""),Y(""),ge(""),pe("")},Qr=Re=>{L(Re);const Ee=Oe(Re.studentId);ke([Ee]),Pe({studentIds:[typeof Re.studentId=="object"?Re.studentId._id:Re.studentId],totalAmount:Re.totalAmount.toString(),numberOfInstallments:Re.numberOfInstallments??Re.installments?.length??1,installmentType:"custom",installments:Re.installments.map(ht=>({amount:ht.amount.toString(),dueDate:ht.dueDate.split("T")[0]})),schoolId:n}),y(!0)},dn=(Re,Ee)=>{J({fee:Re,installmentIndex:Ee});const ht=Re.installments[Ee];Ge({amount:ht.pending?.toString()||"",paymentMethod:"",schoolId:n}),v(!0)},ja=async Re=>{if(!P||!n||!i){se("Authentication required. Please login again.");return}try{const Ee={Authorization:`Bearer ${i}`,"Content-Type":"application/json"};(await sr.put(`${e}/update-status/${P._id}`,{status:Re,schoolId:n},{headers:Ee})).data.success&&(c(l.map(nt=>nt._id===P._id?{...nt,status:Re}:nt)),T(!1),U(null),se(null),await mt())}catch(Ee){console.error("Error updating payment status:",Ee),se(Ee.response?.data?.message||"Failed to update payment status")}},rn=async Re=>{if(!n||!i){se("Authentication required. Please login again.");return}if(window.confirm("Are you sure you want to delete this fee record?"))try{const Ee={Authorization:`Bearer ${i}`,"Content-Type":"application/json"};(await sr.delete(`${e}/${Re}`,{headers:Ee,data:{schoolId:n}})).data.success&&await mt()}catch(Ee){console.error("Error deleting fee:",Ee),se(Ee.response?.data?.message||Ee.message)}},Vr=Ft.reduce((Re,Ee)=>({total:Re.total+(Ee.totalAmount||0),paid:Re.paid+(Ee.paid||0),pending:Re.pending+(Ee.pending||0)}),{total:0,paid:0,pending:0}),On=(Re,Ee=null)=>{const{name:ht,value:nt}=Re.target;if(ht==="totalAmount")_t(nt,Ze.numberOfInstallments,Ze.installmentType);else if(ht==="numberOfInstallments"){const Et=Number.parseInt(nt)||1;_t(Ze.totalAmount,Et,Ze.installmentType)}else if(ht==="installmentType")_t(Ze.totalAmount,Ze.numberOfInstallments,nt);else if(ht.startsWith("installment")){const Et=ht.split("."),Qe=Et[1],bt=Number.parseInt(Et[2]),It=[...Ze.installments];It[bt]={...It[bt],[Qe]:nt},Pe(nr=>({...nr,installments:It}))}else Pe(Et=>({...Et,[ht]:nt}))},Gn=Re=>{const{name:Ee,value:ht}=Re.target;Ge(nt=>({...nt,[Ee]:ht}))},Dn=()=>{Pe({studentIds:[],totalAmount:"",numberOfInstallments:1,installmentType:"equal",installments:[{amount:"",dueDate:""}],schoolId:n}),ke([]),et(""),ct("")},Ct=()=>{const Re={};if(Ze.studentIds.length||(Re.studentIds="At least one student is required"),(!Ze.totalAmount||Ze.totalAmount<=0)&&(Re.totalAmount="Total amount must be greater than 0"),Ze.installments&&Ze.installments.length>0){const Ee=Ze.installments.reduce((ht,nt)=>ht+(Number.parseFloat(nt.amount)||0),0);Math.abs(Ee-Ze.totalAmount)>.01&&(Re.installments="Sum of installment amounts must equal total amount"),Ze.installments.forEach((ht,nt)=>{(!ht.amount||ht.amount<=0)&&(Re[`installment_${nt}_amount`]=`Installment ${nt+1} amount is required`),ht.dueDate||(Re[`installment_${nt}_date`]=`Installment ${nt+1} due date is required`)})}return Je(Re),Object.keys(Re).length===0},fr=async Re=>{if(Re.preventDefault(),!n||!i){se("Authentication required. Please login again.");return}if(Ct()){Te(!0),se(null);try{const Ee={Authorization:`Bearer ${i}`,"Content-Type":"application/json"};if(!Ze.installments.every(bt=>bt.amount&&bt.dueDate)){se("All installments must have due dates."),Te(!1);return}const nt=Ze.installments.reduce((bt,It)=>bt+Number.parseFloat(It.amount||0),0),Et=Number.parseFloat(Ze.totalAmount);if(Math.abs(nt-Et)>.01){se("Total amount must match the sum of installment amounts."),Te(!1);return}const Qe=Ze.installments.map(bt=>({amount:Number.parseFloat(bt.amount),dueDate:bt.dueDate}));if(O){const bt={studentId:Ze.studentIds[0],totalAmount:Et,numberOfInstallments:Ze.numberOfInstallments,installments:Qe,schoolId:n};(await sr.put(`${e}/${O._id}`,bt,{headers:Ee})).data.success&&(await mt(),y(!1),L(null),Dn(),se(null),Ke(!0),setTimeout(()=>Ke(!1),3e3))}else{for(const bt of Ze.studentIds){const It={studentId:bt,totalAmount:Et,numberOfInstallments:Ze.numberOfInstallments,installments:Qe,schoolId:n};if(!(await sr.post(e,It,{headers:Ee})).data.success)throw new Error(`Failed to create fee for student ${bt}`)}await mt(),y(!1),Dn(),se(null),Ke(!0),setTimeout(()=>Ke(!1),3e3)}}catch(Ee){console.error("Error submitting form:",Ee),se(Ee.response?.data?.message||Ee.message)}finally{Te(!1)}}},$e=async Re=>{if(Re.preventDefault(),!V||!n||!i){se("Authentication required. Please login again.");return}try{const Ee={Authorization:`Bearer ${i}`,"Content-Type":"application/json"},{fee:ht,installmentIndex:nt}=V,Et=ht.installments[nt],Qe=Number.parseFloat(ot.amount);if(!Qe||Qe<=0){se("Payment amount must be greater than zero.");return}if(Qe>(Et.pending||0)){se(`Payment amount cannot exceed pending amount of ${Et.pending?.toLocaleString()}.`);return}const bt={paymentMethod:ot.paymentMethod,schoolId:n};(await sr.put(`${e}/pay-installment/${ht._id}/${nt}`,bt,{headers:Ee})).data.success&&(await mt(),v(!1),J(null),Ge({amount:"",paymentMethod:"",schoolId:n}),se(null))}catch(Ee){console.error("Error updating installment payment:",Ee),se(Ee.response?.data?.message||Ee.message)}},pt=Re=>{const Ee={paid:{icon:U9,color:"text-green-700 bg-green-100",text:"Paid"},partial:{icon:TE,color:"text-orange-700 bg-orange-100",text:"Partial"},pending:{icon:C2,color:"text-red-700 bg-red-100",text:"Pending"},overdue:{icon:C2,color:"text-red-700 bg-red-200",text:"Overdue"}},{icon:ht,color:nt,text:Et}=Ee[Re]||{icon:null,color:"",text:Re};return{Icon:ht,color:nt,text:Et}},ft=Re=>{Re>=1&&Re<=Fe&&Ne(Re)},mt=async()=>{try{ee(!0),se(null);const Re={Authorization:`Bearer ${i}`,"Content-Type":"application/json"},[Ee,ht]=await Promise.all([sr.get(`${e}?schoolId=${n}&page=${te}&limit=${re}`,{headers:Re}),sr.get(`${t}/${n}`,{headers:Re})]),nt=Ee.data?.success?Ee.data.data:[],Et=ht.data?.success?ht.data.data:ht.data;c(Array.isArray(nt)?nt:[]),u(Array.isArray(Et)?Et:[]),be(Ee.data?.totalPages||1),Ne(Ee.data?.currentPage||1),ee(!1)}catch(Re){console.error("Error fetching data:",Re),se(Re.response?.data?.message||Re.message),ee(!1)}};return!n||!i?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-500 text-xl mb-4",children:"Authentication Required"}),a.jsx("div",{className:"text-gray-600",children:"Please login again to access the fee management system."})]})}):ce?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center p-8",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-200 border-t-blue-600 mx-auto mb-6"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full animate-pulse"})})]}),a.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Loading Fee Management System"}),a.jsx("p",{className:"text-gray-500",children:"Please wait while we fetch your data..."}),a.jsxs("div",{className:"mt-4 flex justify-center space-x-1",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce"}),a.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),a.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[je&&a.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-2 animate-in slide-in-from-top-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsxs("span",{children:["Fees ",O?"updated":"created"," successfully!"]})]}),a.jsxs("div",{className:"max-w-full mx-auto",children:[de&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6 rounded-r-lg shadow-sm",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsx("div",{className:"ml-3 flex-1",children:a.jsx("p",{className:"text-sm text-red-700 font-medium",children:de})}),a.jsx("div",{className:"ml-auto pl-3",children:a.jsx("button",{onClick:()=>se(null),className:"inline-flex text-red-400 hover:text-red-600 focus:outline-none focus:text-red-600",children:a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})}),a.jsxs("div",{className:"text-black p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:s},children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Student Fee Management"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:De,className:"bg-white text-green-700 px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 hover:opacity-90",title:"Export all fees (all pages) to Excel",disabled:Z,children:Z?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-current border-t-transparent"}),"Exporting..."]}):a.jsxs(a.Fragment,{children:[a.jsx($ee,{})," Export All"]})}),a.jsxs("button",{onClick:()=>{L(null),Dn(),y(!0)},className:"text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 hover:opacity-90",style:{backgroundColor:s},children:[a.jsx(Gee,{})," Add Fee Record"]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[a.jsx("div",{className:"flex-1 min-w-[200px]",children:a.jsx("input",{type:"text",placeholder:"Search by student name...",value:Q,onChange:Re=>z(Re.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})}),a.jsx("div",{className:"min-w-[150px]",children:a.jsxs("select",{value:R,onChange:Re=>Y(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[a.jsx("option",{value:"",children:"All Classes"}),Zt().map(Re=>a.jsx("option",{value:Re,children:Re},Re))]})}),a.jsx("div",{className:"min-w-[150px]",children:a.jsxs("select",{value:ie,onChange:Re=>ge(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[a.jsx("option",{value:"",children:"All Sections"}),$t().map(Re=>a.jsx("option",{value:Re,children:Re},Re))]})}),a.jsx("div",{className:"min-w-[150px]",children:a.jsxs("select",{value:ye,onChange:Re=>pe(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[a.jsx("option",{value:"",children:"All Installments"}),gt().map(Re=>a.jsxs("option",{value:Re,children:[Re," Installment",Re!=="1"?"s":""]},Re))]})}),a.jsx("button",{onClick:kr,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Reset Filters"})]}),(Q||R||ie||ye)&&a.jsxs("div",{className:"flex flex-wrap gap-2 items-center text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Active filters:"}),R&&a.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded",children:R}),ie&&a.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded",children:["Section: ",ie]}),ye&&a.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded",children:["Installments: ",ye]}),a.jsxs("span",{className:"text-gray-500",children:["(",Ft.length," results)"]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 mt-6",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[a.jsxs("div",{className:"text-xl font-bold",style:{color:s},children:["",Vr.total.toLocaleString()]}),a.jsx("div",{className:"text-gray-600",children:"Total Fee"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[a.jsxs("div",{className:"text-xl font-bold text-green-600",children:["",Vr.paid.toLocaleString()]}),a.jsx("div",{className:"text-gray-600",children:"Paid Amount"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[a.jsxs("div",{className:"text-xl font-bold text-red-600",children:["",Vr.pending.toLocaleString()]}),a.jsx("div",{className:"text-gray-600",children:"Pending Amount"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsx("tr",{children:["Student Name","Roll No","Total Amount","Paid","Pending","Installments","Status","Actions"].map((Re,Ee)=>a.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:Re},Ee))})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[Ft.map(Re=>{const Ee=Oe(Re.studentId),{Icon:ht,color:nt,text:Et}=pt(Re.status);return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:Ee.name}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:Ee.rollNumber}),a.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:["",Re.totalAmount?.toLocaleString()]}),a.jsxs("td",{className:"px-4 py-3 text-sm text-green-600",children:["",Re.paid?.toLocaleString()]}),a.jsxs("td",{className:"px-4 py-3 text-sm text-red-600",children:["",Re.pending?.toLocaleString()]}),a.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[Re.numberOfInstallments??Re.installments?.length??0," installment(s)"]}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${nt}`,children:[ht&&a.jsx(ht,{})," ",Et]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>k(Re),className:"hover:opacity-75",style:{color:s},title:"View Details",children:a.jsx(_E,{})}),a.jsx("button",{onClick:()=>Qr(Re),className:"text-green-600 hover:text-green-800",title:"Edit Fee",children:a.jsx(Hee,{})}),a.jsx("button",{onClick:()=>rn(Re._id),className:"text-red-600 hover:text-red-800",title:"Delete Fee",children:a.jsx(Yee,{})})]})})]},Re._id)}),Ft.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"px-4 py-8 text-center text-gray-500",children:"No fee records found"})})]})]})}),Ft.length>0&&a.jsxs("div",{className:"p-4 flex justify-between items-center",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",te," of ",Fe]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>ft(te-1),disabled:te===1,className:`px-3 py-1 rounded-lg ${te===1?"opacity-50 cursor-not-allowed":"hover:bg-gray-100"}`,style:{color:s,borderColor:s},children:a.jsx(Uee,{})}),a.jsx("button",{onClick:()=>ft(te+1),disabled:te===Fe,className:`px-3 py-1 rounded-lg ${te===Fe?"opacity-50 cursor-not-allowed":"hover:bg-gray-100"}`,style:{color:s,borderColor:s},children:a.jsx(Ree,{})})]})]})]})]}),A&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-6xl max-h-[95vh] overflow-y-auto",children:[a.jsxs("div",{className:"p-6 border-b",style:{backgroundColor:`${s}15`},children:[a.jsx("h2",{className:"text-2xl font-bold",style:{color:s},children:O?"Edit Fee Record":"Add New Fee Record"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Enter total fee amount, select installments, and set due dates"})]}),a.jsxs("form",{onSubmit:fr,className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Filter by Class"}),a.jsxs("select",{value:st,onChange:Re=>et(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2",style:{focusRingColor:s},children:[a.jsx("option",{value:"",children:"All Classes"}),Zt().map(Re=>a.jsx("option",{value:Re,children:Re},Re))]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Filter by Section"}),a.jsxs("select",{value:He,onChange:Re=>ct(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2",style:{focusRingColor:s},children:[a.jsx("option",{value:"",children:"All Sections"}),$t().map(Re=>a.jsx("option",{value:Re,children:Re},Re))]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:O?"Student":"Students (Multi-Select)"}),O?a.jsx("div",{className:"w-full px-3 py-2 border border-gray-300 rounded bg-gray-50",children:a.jsxs("span",{className:"text-gray-700",children:[_e[0]?.name," (",_e[0]?.rollNumber,") - Class"," ",_e[0]?.classId?.className||"N/A",_e[0]?.classId?.section?` Section ${_e[0].classId.section}`:""]})}):a.jsx("select",{multiple:!0,size:"10",value:Ze.studentIds,onChange:qt,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2",style:{focusRingColor:s},required:!0,children:rr.map(Re=>a.jsxs("option",{value:Re.id,children:[Re?.name," (",Re?.rollNumber,") "," ",Re?.classId?.className||Re.class||"N/A",Re?.classId?.section||Re.section?` ${Re.classId?.section||Re.section}`:""]},Re.id))})]}),_e.length>0&&a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(s3,{className:"text-blue-600 text-xl mr-3"}),a.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:O||_e.length===1?"Student Details":"Selected Students"})]}),_e.map((Re,Ee)=>a.jsxs("div",{className:`space-y-3 ${_e.length>1?"border-b pb-4 mb-4 last:border-b-0 last:pb-0 last:mb-0":""}`,children:[_e.length>1&&a.jsxs("h4",{className:"font-medium text-blue-700",children:["Student ",Ee+1,": ",Re?.name]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(s3,{className:"text-gray-500 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Full Name"}),a.jsx("p",{className:"font-medium text-gray-800",children:Re?.name})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(VI,{className:"text-gray-500 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Roll Number"}),a.jsx("p",{className:"font-medium text-gray-800",children:Re?.rollNumber})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(VI,{className:"text-gray-500 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Class & Section"}),a.jsxs("p",{className:"font-medium text-gray-800",children:["Class"," ",Re?.classId?.className||"N/A"," - Section"," ",Re?.classId?.section||"N/A"]})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(KI,{className:"text-green-500 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Student Phone"}),a.jsx("p",{className:"font-medium text-gray-800",children:Re?.phone})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(R9,{className:"text-blue-500 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),a.jsx("p",{className:"font-medium text-gray-800",children:Re?.email})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(KI,{className:"text-orange-500 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Parent Phone"}),a.jsx("p",{className:"font-medium text-gray-800",children:Re?.parentPhone})]})]})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Xee,{className:"text-gray-500 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Father's Name"}),a.jsx("p",{className:"font-medium text-gray-800",children:Re?.fatherName})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(s3,{className:"text-gray-500 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Mother's Name"}),a.jsx("p",{className:"font-medium text-gray-800",children:Re?.motherName})]})]})]}),a.jsxs("div",{className:"mt-3 flex items-start",children:[a.jsx(Q9,{className:"text-gray-500 mr-2 mt-1"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Address"}),a.jsx("p",{className:"font-medium text-gray-800 text-sm",children:Re?.address})]})]})]})]},Ee))]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(Dee,{className:"text-yellow-600 mr-2"}),a.jsx("label",{className:"text-base font-semibold text-yellow-800",children:"Total Fee Amount *"})]}),a.jsx("input",{type:"number",name:"totalAmount",value:Ze.totalAmount,onChange:On,placeholder:"Enter total fee amount (e.g., 15000)",className:"w-full px-4 py-3 border border-yellow-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 text-lg font-medium",required:!0,min:"1",step:"0.01"}),a.jsx("p",{className:"text-sm text-yellow-700 mt-2",children:"Enter the total fee amount. It will be automatically divided into installments."})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(zI,{className:"text-blue-600 mr-2"}),a.jsx("label",{className:"text-base font-semibold text-blue-800",children:"Installment Configuration"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-blue-700 mb-1",children:"Number of Installments"}),a.jsx("select",{name:"numberOfInstallments",value:Ze.numberOfInstallments,onChange:On,className:"w-full px-3 py-2 border border-blue-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[1,2,3,4,5,6].map(Re=>a.jsxs("option",{value:Re,children:[Re," Installment",Re>1?"s":""]},Re))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-blue-700 mb-1",children:"Division Type"}),a.jsxs("select",{name:"installmentType",value:Ze.installmentType,onChange:On,className:"w-full px-3 py-2 border border-blue-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"equal",children:"Equal Amounts"}),a.jsx("option",{value:"custom",children:"Custom Amounts"})]})]})]}),Ze.totalAmount&&a.jsxs("div",{className:"text-sm text-blue-700 bg-blue-100 p-2 rounded",children:[a.jsx("strong",{children:"Preview:"})," ",Number.parseFloat(Ze.totalAmount||0).toLocaleString()," "," ",Ze.numberOfInstallments," installments = ",(Number.parseFloat(Ze.totalAmount||0)/Ze.numberOfInstallments).toLocaleString()," ","per installment"]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3 flex items-center",children:[a.jsx(zI,{className:"mr-2"}),"Installment Due Dates *"]}),a.jsx("div",{className:"space-y-3",children:Ze.installments.map((Re,Ee)=>a.jsxs("div",{className:"flex gap-3 p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{className:"block text-xs text-gray-500 mb-1",children:["Installment ",Ee+1," Amount"]}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:""}),a.jsx("input",{type:"number",name:`installment.amount.${Ee}`,value:Re.amount,onChange:ht=>On(ht,Ee),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 bg-white",required:!0,min:"1",step:"0.01",readOnly:Ze.installmentType==="equal"})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Due Date"}),a.jsx("input",{type:"date",name:`installment.dueDate.${Ee}`,value:Re.dueDate,onChange:ht=>On(ht,Ee),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2",required:!0})]})]},Ee))})]}),Ze.totalAmount&&a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"font-semibold text-green-800",children:"Fee Summary:"}),a.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["",Number.parseFloat(Ze.totalAmount||0).toLocaleString()]})]}),a.jsxs("div",{className:"text-sm text-green-600",children:[Ze.numberOfInstallments," installment(s) configured"]}),a.jsx("div",{className:"text-xs text-green-500 mt-1",children:Ze.installmentType==="equal"?"Equal installments":"Custom installments"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-8 pt-6 border-t",children:[a.jsx("button",{type:"button",onClick:()=>{y(!1),L(null),Dn(),se(null)},className:"px-6 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"text-white px-6 py-2 rounded-lg shadow-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",style:{backgroundColor:s},disabled:Me||!(Ze.studentIds.length&&Ze.totalAmount&&Ze.installments.every(Re=>Re.amount&&Re.dueDate)),children:Me?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),O?"Updating...":"Creating..."]}):O?"Update Fee Record":"Create Fee Record"})]})]})]})}),x&&V&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-10000 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Record Installment Payment"}),a.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Paying for Installment ",V.installmentIndex+1," ","(Pending: ",V.fee.installments[V.installmentIndex].pending?.toLocaleString(),")"]}),a.jsxs("form",{onSubmit:$e,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Amount *"}),a.jsx("input",{type:"number",name:"amount",value:ot.amount,onChange:Gn,placeholder:"Enter payment amount",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2",required:!0,min:"1",step:"0.01"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method *"}),a.jsxs("select",{name:"paymentMethod",value:ot.paymentMethod,onChange:Gn,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2",required:!0,children:[a.jsx("option",{value:"",children:"Select Payment Method"}),a.jsx("option",{value:"Cash",children:"Cash"}),a.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),a.jsx("option",{value:"Cheque",children:"Cheque"}),a.jsx("option",{value:"Online",children:"Online Payment"}),a.jsx("option",{value:"UPI",children:"UPI"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{type:"button",onClick:()=>{v(!1),J(null),Ge({amount:"",paymentMethod:"",schoolId:n})},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"text-white px-4 py-2 rounded-lg shadow-lg hover:opacity-90",style:{backgroundColor:s},children:"Record Payment"})]})]})]})}),b&&he&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Payment Receipt"}),a.jsx("button",{onClick:()=>j(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border-b pb-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:he.school.name}),a.jsx("p",{className:"text-sm text-gray-600",children:he.school.address})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Receipt Number"}),a.jsx("div",{className:"font-medium",children:he.installment.receiptNumber})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Payment Date"}),a.jsx("div",{className:"font-medium",children:he.installment.paidDate?new Date(he.installment.paidDate).toLocaleDateString():"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Student Name"}),a.jsx("div",{className:"font-medium",children:he.student.name})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Roll Number"}),a.jsx("div",{className:"font-medium",children:he.student.rollNumber})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Term"}),a.jsx("div",{className:"font-medium",children:he.fee.term})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Amount Paid"}),a.jsxs("div",{className:"font-medium",children:["",he.installment.paid?.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Payment Method"}),a.jsx("div",{className:"font-medium",children:he.installment.paymentMethod})]})]}),a.jsxs("div",{className:"mt-4 text-center text-sm text-gray-600",children:["Issued on: ",new Date().toLocaleDateString()]})]})]})}),M&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Fee Record Details"}),a.jsx("button",{onClick:()=>k(null),className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),a.jsx("div",{className:"space-y-6",children:(()=>{const Re=Oe(M.studentId),Ee=h?.find(It=>It._id===M?.studentId?.classId),ht=Ee?.className,nt=Ee?.section,{Icon:Et,color:Qe,text:bt}=pt(M.status);return a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Student Information"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Student Name"}),a.jsx("p",{className:"text-sm text-gray-900",children:Re.name})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Roll Number"}),a.jsx("p",{className:"text-sm text-gray-900",children:Re.rollNumber})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Class & Section"}),a.jsxs("p",{className:"text-sm text-gray-900",children:[ht," -"," ",nt]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Student Phone"}),a.jsx("p",{className:"text-sm text-gray-900",children:Re.phone})]})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Student Email"}),a.jsx("p",{className:"text-sm text-gray-900",children:Re.email})]})}),(Re.fatherName||Re.motherName||Re.parentPhone||Re.address)&&a.jsxs(a.Fragment,{children:[a.jsx("hr",{className:"my-4"}),a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Additional Details"}),(Re.fatherName||Re.motherName)&&a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Re.fatherName&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Father's Name"}),a.jsx("p",{className:"text-sm text-gray-900",children:Re.fatherName})]}),Re.motherName&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Mother's Name"}),a.jsx("p",{className:"text-sm text-gray-900",children:Re.motherName})]})]}),Re.parentPhone&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Parent Phone"}),a.jsx("p",{className:"text-sm text-gray-900",children:Re.parentPhone})]}),Re.address&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Address"}),a.jsx("p",{className:"text-sm text-gray-900",children:Re.address})]})]})]})]}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Fee Information"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500 block",children:"Term"}),a.jsx("div",{className:"font-medium text-gray-900",children:M.term})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500 block",children:"Total Amount"}),a.jsxs("div",{className:"font-medium text-gray-900",children:["",M.totalAmount?.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500 block",children:"Created Date"}),a.jsx("div",{className:"font-medium text-gray-900",children:M.createdAt?new Date(M.createdAt).toLocaleDateString():"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500 block",children:"Overall Status"}),a.jsx("div",{children:a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${Qe}`,children:[Et&&a.jsx(Et,{}),bt]})})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Installment Details"}),a.jsx("div",{className:"space-y-3",children:M.installments?.map((It,nr)=>{const{Icon:tr,color:vr,text:yr}=pt(It.status);return a.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"font-medium text-gray-900",children:["Installment ",nr+1]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Due:"," ",new Date(It.dueDate).toLocaleDateString()]})]}),a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${vr}`,children:[tr&&a.jsx(tr,{}),yr]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Amount:"}),a.jsxs("div",{className:"font-medium",children:["",It.amount?.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Paid:"}),a.jsxs("div",{className:"font-medium text-green-600",children:["",It.paid?.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Pending:"}),a.jsxs("div",{className:"font-medium text-red-600",children:["",It.pending?.toLocaleString()]})]})]}),It.paidDate&&a.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Paid on:"," ",new Date(It.paidDate).toLocaleDateString()]}),It.receiptNumber&&a.jsxs("div",{className:"mt-1 text-sm text-gray-600",children:["Receipt: ",It.receiptNumber]}),It.paymentMethod&&a.jsxs("div",{className:"mt-1 text-sm text-gray-600",children:["Method: ",It.paymentMethod]}),a.jsxs("div",{className:"mt-2 space-x-2",children:[It.status!=="paid"&&It.pending>0&&a.jsxs("button",{onClick:()=>{k(null),dn(M,nr)},className:"text-white px-3 py-1 rounded text-sm hover:opacity-90",style:{backgroundColor:s},children:[a.jsx(qee,{className:"inline mr-1"}),"Record Payment"]}),It.status==="paid"&&a.jsxs("button",{onClick:()=>{k(null),o("/fees/receipt",{state:{receiptData:{...M,...It}}})},className:"text-blue-600 px-3 py-1 rounded text-sm hover:text-blue-800",children:[a.jsx(zee,{className:"inline mr-1"}),"View Receipt"]})]})]},nr)})})]})]})})()})]})}),E&&P&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Change Payment Status"}),a.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Student: ",Oe(P.studentId).name,a.jsx("br",{}),"Current Status:"," ",a.jsx("span",{className:"font-medium",children:P.status})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Select New Status:"}),["pending","partial","paid","overdue"].map(Re=>a.jsxs("button",{onClick:()=>ja(Re),className:`w-full p-3 text-left rounded-lg border-2 transition-colors ${P.status===Re?"border-gray-400 bg-gray-100 cursor-not-allowed":"border-gray-200 hover:border-blue-300 hover:bg-blue-50"}`,disabled:P.status===Re,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium capitalize",children:Re}),(()=>{const{Icon:Ee,color:ht}=pt(Re);return Ee&&a.jsx(Ee,{className:ht.split(" ")[0]})})()]}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[Re==="pending"&&"No payment received",Re==="partial"&&"Partial payment received",Re==="paid"&&"Full payment completed",Re==="overdue"&&"Payment is overdue"]})]},Re))]}),a.jsx("div",{className:"flex justify-end space-x-3 mt-6",children:a.jsx("button",{type:"button",onClick:()=>{T(!1),U(null)},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",children:"Cancel"})})]})})]})};function qu(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var kde=typeof Symbol=="function"&&Symbol.observable||"@@observable",iP=kde,N3=()=>Math.random().toString(36).substring(7).split("").join("."),Pde={INIT:`@@redux/INIT${N3()}`,REPLACE:`@@redux/REPLACE${N3()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${N3()}`},X5=Pde;function B_(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function i$(e,t,r){if(typeof e!="function")throw new Error(qu(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(qu(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(qu(1));return r(i$)(e,t)}let n=e,s=t,i=new Map,o=i,l=0,c=!1;function d(){o===i&&(o=new Map,i.forEach((v,b)=>{o.set(b,v)}))}function u(){if(c)throw new Error(qu(3));return s}function h(v){if(typeof v!="function")throw new Error(qu(4));if(c)throw new Error(qu(5));let b=!0;d();const j=l++;return o.set(j,v),function(){if(b){if(c)throw new Error(qu(6));b=!1,d(),o.delete(j),i=null}}}function m(v){if(!B_(v))throw new Error(qu(7));if(typeof v.type>"u")throw new Error(qu(8));if(typeof v.type!="string")throw new Error(qu(17));if(c)throw new Error(qu(9));try{c=!0,s=n(s,v)}finally{c=!1}return(i=o).forEach(j=>{j()}),v}function A(v){if(typeof v!="function")throw new Error(qu(10));n=v,m({type:X5.REPLACE})}function y(){const v=h;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(qu(11));function j(){const T=b;T.next&&T.next(u())}return j(),{unsubscribe:v(j)}},[iP](){return this}}}return m({type:X5.INIT}),{dispatch:m,subscribe:h,getState:u,replaceReducer:A,[iP]:y}}function Lde(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:X5.INIT})>"u")throw new Error(qu(12));if(typeof r(void 0,{type:X5.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(qu(13))})}function o$(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let s;try{Lde(r)}catch(i){s=i}return function(o={},l){if(s)throw s;let c=!1;const d={};for(let u=0;u<n.length;u++){const h=n[u],m=r[h],A=o[h],y=m(A,l);if(typeof y>"u")throw l&&l.type,new Error(qu(14));d[h]=y,c=c||y!==A}return c=c||n.length!==Object.keys(o).length,c?d:o}}function J5(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Ode(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(qu(15))};const o={getState:s.getState,dispatch:(c,...d)=>i(c,...d)},l=e.map(c=>c(o));return i=J5(...l)(s.dispatch),{...s,dispatch:i}}}function l$(e){return B_(e)&&"type"in e&&typeof e.type=="string"}var c$=Symbol.for("immer-nothing"),oP=Symbol.for("immer-draftable"),Ch=Symbol.for("immer-state");function $A(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var zv=Object.getPrototypeOf;function Xx(e){return!!e&&!!e[Ch]}function X0(e){return e?u$(e)||Array.isArray(e)||!!e[oP]||!!e.constructor?.[oP]||ew(e)||jj(e):!1}var Dde=Object.prototype.constructor.toString();function u$(e){if(!e||typeof e!="object")return!1;const t=zv(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Dde}function Z5(e,t){Nj(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Nj(e){const t=e[Ch];return t?t.type_:Array.isArray(e)?1:ew(e)?2:jj(e)?3:0}function qE(e,t){return Nj(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function d$(e,t,r){const n=Nj(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Mde(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ew(e){return e instanceof Map}function jj(e){return e instanceof Set}function fx(e){return e.copy_||e.base_}function GE(e,t){if(ew(e))return new Map(e);if(jj(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=u$(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ch];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(zv(e),n)}else{const n=zv(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function T_(e,t=!1){return Sj(e)||Xx(e)||!X0(e)||(Nj(e)>1&&Object.defineProperties(e,{set:{value:g4},add:{value:g4},clear:{value:g4},delete:{value:g4}}),Object.freeze(e),t&&Object.values(e).forEach(r=>T_(r,!0))),e}function g4(){$A(2)}function Sj(e){return Object.isFrozen(e)}var Ude={};function Jx(e){const t=Ude[e];return t||$A(0,e),t}var fb;function f$(){return fb}function Rde(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function lP(e,t){t&&(Jx("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function WE(e){YE(e),e.drafts_.forEach(Qde),e.drafts_=null}function YE(e){e===fb&&(fb=e.parent_)}function cP(e){return fb=Rde(fb,e)}function Qde(e){const t=e[Ch];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function uP(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ch].modified_&&(WE(t),$A(4)),X0(e)&&(e=eN(t,e),t.parent_||tN(t,e)),t.patches_&&Jx("Patches").generateReplacementPatches_(r[Ch].base_,e,t.patches_,t.inversePatches_)):e=eN(t,r,[]),WE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==c$?e:void 0}function eN(e,t,r){if(Sj(t))return t;const n=t[Ch];if(!n)return Z5(t,(s,i)=>dP(e,n,t,s,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return tN(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let i=s,o=!1;n.type_===3&&(i=new Set(s),s.clear(),o=!0),Z5(i,(l,c)=>dP(e,n,s,l,c,r,o)),tN(e,s,!1),r&&e.patches_&&Jx("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function dP(e,t,r,n,s,i,o){if(Xx(s)){const l=i&&t&&t.type_!==3&&!qE(t.assigned_,n)?i.concat(n):void 0,c=eN(e,s,l);if(d$(r,n,c),Xx(c))e.canAutoFreeze_=!1;else return}else o&&r.add(s);if(X0(s)&&!Sj(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;eN(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(ew(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&tN(e,s)}}function tN(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&T_(t,r)}function Hde(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:f$(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=__;r&&(s=[n],i=hb);const{revoke:o,proxy:l}=Proxy.revocable(s,i);return n.draft_=l,n.revoke_=o,l}var __={get(e,t){if(t===Ch)return e;const r=fx(e);if(!qE(r,t))return $de(e,r,t);const n=r[t];return e.finalized_||!X0(n)?n:n===j3(e.base_,t)?(S3(e),e.copy_[t]=JE(n,e)):n},has(e,t){return t in fx(e)},ownKeys(e){return Reflect.ownKeys(fx(e))},set(e,t,r){const n=h$(fx(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=j3(fx(e),t),i=s?.[Ch];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Mde(r,s)&&(r!==void 0||qE(e.base_,t)))return!0;S3(e),XE(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return j3(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,S3(e),XE(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=fx(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){$A(11)},getPrototypeOf(e){return zv(e.base_)},setPrototypeOf(){$A(12)}},hb={};Z5(__,(e,t)=>{hb[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});hb.deleteProperty=function(e,t){return hb.set.call(this,e,t,void 0)};hb.set=function(e,t,r){return __.set.call(this,e[0],t,r,e[0])};function j3(e,t){const r=e[Ch];return(r?fx(r):e)[t]}function $de(e,t,r){const n=h$(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function h$(e,t){if(!(t in e))return;let r=zv(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=zv(r)}}function XE(e){e.modified_||(e.modified_=!0,e.parent_&&XE(e.parent_))}function S3(e){e.copy_||(e.copy_=GE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var zde=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...d){return o.produce(c,u=>r.call(this,u,...d))}}typeof r!="function"&&$A(6),n!==void 0&&typeof n!="function"&&$A(7);let s;if(X0(t)){const i=cP(this),o=JE(t,void 0);let l=!0;try{s=r(o),l=!1}finally{l?WE(i):YE(i)}return lP(i,n),uP(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===c$&&(s=void 0),this.autoFreeze_&&T_(s,!0),n){const i=[],o=[];Jx("Patches").generateReplacementPatches_(t,s,i,o),n(i,o)}return s}else $A(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,s;return[this.produce(t,r,(o,l)=>{n=o,s=l}),n,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){X0(e)||$A(8),Xx(e)&&(e=z0(e));const t=cP(this),r=JE(e,void 0);return r[Ch].isManual_=!0,YE(t),r}finishDraft(e,t){const r=e&&e[Ch];(!r||!r.isManual_)&&$A(9);const{scope_:n}=r;return lP(n,t),uP(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=Jx("Patches").applyPatches_;return Xx(e)?n(e,t):this.produce(e,s=>n(s,t))}};function JE(e,t){const r=ew(e)?Jx("MapSet").proxyMap_(e,t):jj(e)?Jx("MapSet").proxySet_(e,t):Hde(e,t);return(t?t.scope_:f$()).drafts_.push(r),r}function z0(e){return Xx(e)||$A(10,e),A$(e)}function A$(e){if(!X0(e)||Sj(e))return e;const t=e[Ch];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=GE(e,t.scope_.immer_.useStrictShallowCopy_)}else r=GE(e,!0);return Z5(r,(n,s)=>{d$(r,n,A$(s))}),t&&(t.finalized_=!1),r}var Vde=new zde,m$=Vde.produce;function Kde(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function qde(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Gde(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var fP=e=>Array.isArray(e)?e:[e];function Wde(e){const t=Array.isArray(e[0])?e[0]:e;return Gde(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Yde(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var Xde=class{constructor(e){this.value=e}deref(){return this.value}},Jde=typeof WeakRef<"u"?WeakRef:Xde,Zde=0,hP=1;function x4(){return{s:Zde,v:void 0,o:null,p:null}}function p$(e,t={}){let r=x4();const{resultEqualityCheck:n}=t;let s,i=0;function o(){let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const A=arguments[h];if(typeof A=="function"||typeof A=="object"&&A!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const x=y.get(A);x===void 0?(l=x4(),y.set(A,l)):l=x}else{let y=l.p;y===null&&(l.p=y=new Map);const x=y.get(A);x===void 0?(l=x4(),y.set(A,l)):l=x}}const d=l;let u;if(l.s===hP)u=l.v;else if(u=e.apply(null,arguments),i++,n){const h=s?.deref?.()??s;h!=null&&n(h,u)&&(u=h,i!==0&&i--),s=typeof u=="object"&&u!==null||typeof u=="function"?new Jde(u):u}return d.s=hP,d.v=u,u}return o.clearCache=()=>{r=x4(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function efe(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let i=0,o=0,l,c={},d=s.pop();typeof d=="object"&&(c=d,d=s.pop()),Kde(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const u={...r,...c},{memoize:h,memoizeOptions:m=[],argsMemoize:A=p$,argsMemoizeOptions:y=[]}=u,x=fP(m),v=fP(y),b=Wde(s),j=h(function(){return i++,d.apply(null,arguments)},...x),E=A(function(){o++;const P=Yde(b,arguments);return l=j.apply(null,P),l},...v);return Object.assign(E,{resultFunc:d,memoizedResultFunc:j,dependencies:b,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:h,argsMemoize:A})};return Object.assign(n,{withTypes:()=>n}),n}var mr=efe(p$),tfe=Object.assign((e,t=mr)=>{qde(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>tfe});function g$(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var rfe=g$(),nfe=g$,afe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?J5:J5.apply(null,arguments)},sfe=e=>e&&typeof e.match=="function";function uf(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(jh(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>l$(n)&&n.type===e,r}var x$=class b2 extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,b2.prototype)}static get[Symbol.species](){return b2}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new b2(...t[0].concat(this)):new b2(...t.concat(this))}};function AP(e){return X0(e)?m$(e,()=>{}):e}function v4(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function ife(e){return typeof e=="boolean"}var ofe=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new x$;return r&&(ife(r)?o.push(rfe):o.push(nfe(r.extraArgument))),o},lfe="RTK_autoBatch",mP=e=>t=>{setTimeout(t,e)},cfe=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:mP(10):e.type==="callback"?e.queueNotification:mP(e.timeout),d=()=>{o=!1,i&&(i=!1,l.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const h=()=>s&&u(),m=n.subscribe(h);return l.add(u),()=>{m(),l.delete(u)}},dispatch(u){try{return s=!u?.meta?.[lfe],i=!s,i&&(o||(o=!0,c(d))),n.dispatch(u)}finally{s=!0}}})},ufe=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new x$(e);return n&&s.push(cfe(typeof n=="object"?n:void 0)),s};function v$(e){const t=ofe(),{reducer:r=void 0,middleware:n,devTools:s=!0,duplicateMiddlewareCheck:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(B_(r))c=o$(r);else throw new Error(jh(1));let d;typeof n=="function"?d=n(t):d=t();let u=J5;s&&(u=afe({trace:!1,...typeof s=="object"&&s}));const h=Ode(...d),m=ufe(h);let A=typeof l=="function"?l(m):m();const y=u(...A);return i$(c,o,y)}function y$(e){const t={},r=[];let n;const s={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(jh(28));if(l in t)throw new Error(jh(29));return t[l]=o,s},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),s},addMatcher(i,o){return r.push({matcher:i,reducer:o}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,r,n]}function dfe(e){return typeof e=="function"}function ffe(e,t){let[r,n,s]=y$(t),i;if(dfe(e))i=()=>AP(e());else{const l=AP(e);i=()=>l}function o(l=i(),c){let d=[r[c.type],...n.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[s]),d.reduce((u,h)=>{if(h)if(Xx(u)){const A=h(u,c);return A===void 0?u:A}else{if(X0(u))return m$(u,m=>h(m,c));{const m=h(u,c);if(m===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return u},l)}return o.getInitialState=i,o}var hfe=(e,t)=>sfe(e)?e.match(t):e(t);function Afe(...e){return t=>e.some(r=>hfe(r,t))}var mfe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",b$=(e=21)=>{let t="",r=e;for(;r--;)t+=mfe[Math.random()*64|0];return t},pfe=["name","message","stack","code"],C3=class{constructor(e,t){this.payload=e,this.meta=t}_type},pP=class{constructor(e,t){this.payload=e,this.meta=t}_type},gfe=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of pfe)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},gP="External signal was aborted",F_=(()=>{function e(t,r,n){const s=uf(t+"/fulfilled",(c,d,u,h)=>({payload:c,meta:{...h||{},arg:u,requestId:d,requestStatus:"fulfilled"}})),i=uf(t+"/pending",(c,d,u)=>({payload:void 0,meta:{...u||{},arg:d,requestId:c,requestStatus:"pending"}})),o=uf(t+"/rejected",(c,d,u,h,m)=>({payload:h,error:(n&&n.serializeError||gfe)(c||"Rejected"),meta:{...m||{},arg:u,requestId:d,rejectedWithValue:!!h,requestStatus:"rejected",aborted:c?.name==="AbortError",condition:c?.name==="ConditionError"}}));function l(c,{signal:d}={}){return(u,h,m)=>{const A=n?.idGenerator?n.idGenerator(c):b$(),y=new AbortController;let x,v;function b(E){v=E,y.abort()}d&&(d.aborted?b(gP):d.addEventListener("abort",()=>b(gP),{once:!0}));const j=(async function(){let E;try{let P=n?.condition?.(c,{getState:h,extra:m});if(vfe(P)&&(P=await P),P===!1||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const U=new Promise((M,k)=>{x=()=>{k({name:"AbortError",message:v||"Aborted"})},y.signal.addEventListener("abort",x)});u(i(A,c,n?.getPendingMeta?.({requestId:A,arg:c},{getState:h,extra:m}))),E=await Promise.race([U,Promise.resolve(r(c,{dispatch:u,getState:h,extra:m,requestId:A,signal:y.signal,abort:b,rejectWithValue:(M,k)=>new C3(M,k),fulfillWithValue:(M,k)=>new pP(M,k)})).then(M=>{if(M instanceof C3)throw M;return M instanceof pP?s(M.payload,A,c,M.meta):s(M,A,c)})])}catch(P){E=P instanceof C3?o(null,A,c,P.payload,P.meta):o(P,A,c)}finally{x&&y.signal.removeEventListener("abort",x)}return n&&!n.dispatchConditionRejection&&o.match(E)&&E.meta.condition||u(E),E})();return Object.assign(j,{abort:b,requestId:A,arg:c,unwrap(){return j.then(xfe)}})}}return Object.assign(l,{pending:i,rejected:o,fulfilled:s,settled:Afe(o,s),typePrefix:t})}return e.withTypes=()=>e,e})();function xfe(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function vfe(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var yfe=Symbol.for("rtk-slice-createasyncthunk");function bfe(e,t){return`${e}/${t}`}function wfe({creators:e}={}){const t=e?.asyncThunk?.[yfe];return function(n){const{name:s,reducerPath:i=s}=n;if(!s)throw new Error(jh(11));const o=(typeof n.reducers=="function"?n.reducers(jfe()):n.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(E,T){const P=typeof E=="string"?E:E.type;if(!P)throw new Error(jh(12));if(P in c.sliceCaseReducersByType)throw new Error(jh(13));return c.sliceCaseReducersByType[P]=T,d},addMatcher(E,T){return c.sliceMatchers.push({matcher:E,reducer:T}),d},exposeAction(E,T){return c.actionCreators[E]=T,d},exposeCaseReducer(E,T){return c.sliceCaseReducersByName[E]=T,d}};l.forEach(E=>{const T=o[E],P={reducerName:E,type:bfe(s,E),createNotation:typeof n.reducers=="function"};Cfe(T)?Bfe(P,T,d,t):Sfe(P,T,d)});function u(){const[E={},T=[],P=void 0]=typeof n.extraReducers=="function"?y$(n.extraReducers):[n.extraReducers],U={...E,...c.sliceCaseReducersByType};return ffe(n.initialState,M=>{for(let k in U)M.addCase(k,U[k]);for(let k of c.sliceMatchers)M.addMatcher(k.matcher,k.reducer);for(let k of T)M.addMatcher(k.matcher,k.reducer);P&&M.addDefaultCase(P)})}const h=E=>E,m=new Map,A=new WeakMap;let y;function x(E,T){return y||(y=u()),y(E,T)}function v(){return y||(y=u()),y.getInitialState()}function b(E,T=!1){function P(M){let k=M[E];return typeof k>"u"&&T&&(k=v4(A,P,v)),k}function U(M=h){const k=v4(m,T,()=>new WeakMap);return v4(k,M,()=>{const Q={};for(const[z,O]of Object.entries(n.selectors??{}))Q[z]=Nfe(O,M,()=>v4(A,M,v),T);return Q})}return{reducerPath:E,getSelectors:U,get selectors(){return U(P)},selectSlice:P}}const j={name:s,reducer:x,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:v,...b(i),injectInto(E,{reducerPath:T,...P}={}){const U=T??i;return E.inject({reducerPath:U,reducer:x},P),{...j,...b(U,!0)}}};return j}}function Nfe(e,t,r,n){function s(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return s.unwrapped=e,s}var Md=wfe();function jfe(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Sfe({type:e,reducerName:t,createNotation:r},n,s){let i,o;if("reducer"in n){if(r&&!Efe(n))throw new Error(jh(17));i=n.reducer,o=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?uf(e,o):uf(e))}function Cfe(e){return e._reducerDefinitionType==="asyncThunk"}function Efe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Bfe({type:e,reducerName:t},r,n,s){if(!s)throw new Error(jh(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:d,options:u}=r,h=s(e,i,u);n.exposeAction(t,h),o&&n.addCase(h.fulfilled,o),l&&n.addCase(h.pending,l),c&&n.addCase(h.rejected,c),d&&n.addMatcher(h.settled,d),n.exposeCaseReducer(t,{fulfilled:o||y4,pending:l||y4,rejected:c||y4,settled:d||y4})}function y4(){}var Tfe="task",w$="listener",N$="completed",I_="cancelled",_fe=`task-${I_}`,Ffe=`task-${N$}`,ZE=`${w$}-${I_}`,Ife=`${w$}-${N$}`,Cj=class{constructor(e){this.code=e,this.message=`${Tfe} ${I_} (reason: ${e})`}name="TaskAbortError";message},k_=(e,t)=>{if(typeof e!="function")throw new TypeError(jh(32))},rN=()=>{},j$=(e,t=rN)=>(e.catch(t),e),S$=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ix=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},kx=e=>{if(e.aborted){const{reason:t}=e;throw new Cj(t)}};function C$(e,t){let r=rN;return new Promise((n,s)=>{const i=()=>s(new Cj(e.reason));if(e.aborted){i();return}r=S$(e,i),t.finally(()=>r()).then(n,s)}).finally(()=>{r=rN})}var kfe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Cj?"cancelled":"rejected",error:r}}finally{t?.()}},nN=e=>t=>j$(C$(e,t).then(r=>(kx(e),r))),E$=e=>{const t=nN(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Tv}=Object,xP={},Ej="listenerMiddleware",Pfe=(e,t)=>{const r=n=>S$(e,()=>Ix(n,e.reason));return(n,s)=>{k_(n);const i=new AbortController;r(i);const o=kfe(async()=>{kx(e),kx(i.signal);const l=await n({pause:nN(i.signal),delay:E$(i.signal),signal:i.signal});return kx(i.signal),l},()=>Ix(i,Ffe));return s?.autoJoin&&t.push(o.catch(rN)),{result:nN(e)(o),cancel(){Ix(i,_fe)}}}},Lfe=(e,t)=>{const r=async(n,s)=>{kx(t);let i=()=>{};const l=[new Promise((c,d)=>{let u=e({predicate:n,effect:(h,m)=>{m.unsubscribe(),c([h,m.getState(),m.getOriginalState()])}});i=()=>{u(),d()}})];s!=null&&l.push(new Promise(c=>setTimeout(c,s,null)));try{const c=await C$(t,Promise.race(l));return kx(t),c}finally{i()}};return(n,s)=>j$(r(n,s))},B$=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:i}=e;if(t)s=uf(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(jh(21));return k_(i),{predicate:s,type:t,effect:i}},T$=Tv(e=>{const{type:t,predicate:r,effect:n}=B$(e);return{id:b$(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(jh(22))}}},{withTypes:()=>T$}),vP=(e,t)=>{const{type:r,effect:n,predicate:s}=B$(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===s)&&i.effect===n)},eB=e=>{e.pending.forEach(t=>{Ix(t,ZE)})},Ofe=e=>()=>{e.forEach(eB),e.clear()},yP=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},_$=Tv(uf(`${Ej}/add`),{withTypes:()=>_$}),Dfe=uf(`${Ej}/removeAll`),F$=Tv(uf(`${Ej}/remove`),{withTypes:()=>F$}),Mfe=(...e)=>{console.error(`${Ej}/error`,...e)},tw=(e={})=>{const t=new Map,{extra:r,onError:n=Mfe}=e;k_(n);const s=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),h=>{u.unsubscribe(),h?.cancelActive&&eB(u)}),i=u=>{const h=vP(t,u)??T$(u);return s(h)};Tv(i,{withTypes:()=>i});const o=u=>{const h=vP(t,u);return h&&(h.unsubscribe(),u.cancelActive&&eB(h)),!!h};Tv(o,{withTypes:()=>o});const l=async(u,h,m,A)=>{const y=new AbortController,x=Lfe(i,y.signal),v=[];try{u.pending.add(y),await Promise.resolve(u.effect(h,Tv({},m,{getOriginalState:A,condition:(b,j)=>x(b,j).then(Boolean),take:x,delay:E$(y.signal),pause:nN(y.signal),extra:r,signal:y.signal,fork:Pfe(y.signal,v),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((b,j,E)=>{b!==y&&(Ix(b,ZE),E.delete(b))})},cancel:()=>{Ix(y,ZE),u.pending.delete(y)},throwIfCancelled:()=>{kx(y.signal)}})))}catch(b){b instanceof Cj||yP(n,b,{raisedBy:"effect"})}finally{await Promise.all(v),Ix(y,Ife),u.pending.delete(y)}},c=Ofe(t);return{middleware:u=>h=>m=>{if(!l$(m))return h(m);if(_$.match(m))return i(m.payload);if(Dfe.match(m)){c();return}if(F$.match(m))return o(m.payload);let A=u.getState();const y=()=>{if(A===xP)throw new Error(jh(23));return A};let x;try{if(x=h(m),t.size>0){const v=u.getState(),b=Array.from(t.values());for(const j of b){let E=!1;try{E=j.predicate(m,v,A)}catch(T){E=!1,yP(n,T,{raisedBy:"predicate"})}E&&l(j,m,u,y)}}}finally{A=xP}return x},startListening:i,stopListening:o,clearListeners:c}};function jh(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const Ufe="https://vidyaastra.com/api",P2=F_("teachers/fetchTeachers",async e=>(await sr.get(`${Ufe}/teacher/${e}`)).data),Rfe=Md({name:"teachers",initialState:{teachers:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(P2.pending,t=>{t.loading=!0}).addCase(P2.fulfilled,(t,r)=>{t.loading=!1,t.teachers=r.payload}).addCase(P2.rejected,(t,r)=>{t.loading=!1,t.error=r.error.message})}}),Qfe=Rfe.reducer,Hfe="https://vidyaastra.com/api",_v=F_("classes/fetchClasses",async e=>(await sr.get(`${Hfe}/class?schoolId=${e}`)).data),$fe=Md({name:"classes",initialState:{classes:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(_v.pending,t=>{t.loading=!0}).addCase(_v.fulfilled,(t,r)=>{t.loading=!1,t.classes=r.payload}).addCase(_v.rejected,(t,r)=>{t.loading=!1,t.error=r.error.message})}}),zfe=$fe.reducer,Vfe="https://vidyaastra.com/api",Fv=F_("subjects/fetchSubjects",async e=>(await sr.get(`${Vfe}/subject/${e}/subjects`)).data),Kfe=Md({name:"subjects",initialState:{subjects:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(Fv.pending,t=>{t.loading=!0}).addCase(Fv.fulfilled,(t,r)=>{t.loading=!1,t.subjects=r.payload}).addCase(Fv.rejected,(t,r)=>{t.loading=!1,t.error=r.error.message})}}),qfe=Kfe.reducer,$p="https://vidyaastra.com/api",Gfe=()=>localStorage.getItem("schoolId")||"688dfdc93af0f78ebd4b044a",Wfe=()=>{const[e,t]=C.useState("classes"),[r,n]=C.useState(!1),[s,i]=C.useState(!1),[o,l]=C.useState(null),[c,d]=C.useState(null),[u,h]=C.useState(!1),[m,A]=C.useState(null),[y]=C.useState(Gfe()),x=localStorage.getItem("color")||"#2563eb",[v,b]=C.useState([]),[j,E]=C.useState(1),[T,P]=C.useState(1),[U,M]=C.useState([]),[k,Q]=C.useState(1),[z,O]=C.useState(1),[L]=C.useState(10),V=localStorage.getItem("schoolId"),J=ai(re=>re.teachers.teachers.data??[]),[ce,ee]=C.useState({className:"",schoolId:y}),[de,se]=C.useState({section:"",className:"",classTeacher:"",schoolId:y}),he=s$(),fe=re=>{if(!re)return"N/A";if(typeof re=="object"&&re.name)return re.name;const Ce=J.find(st=>st._id===re.toString());return Ce?Ce.name:"N/A"},ve=async()=>{try{h(!0),A(null);const re=await fetch(`${$p}/classes/classes?schoolId=${y}&page=${j}&limit=${L}`);if(!re.ok)throw new Error("Failed to fetch classes");const Ce=await re.json();if(!Ce.success)throw new Error(Ce.message||"Failed to fetch classes");b(Ce.data||[]),P(Ce.totalPages||1)}catch(re){A(re.message)}finally{h(!1)}},B=async()=>{try{h(!0),A(null);const re=await fetch(`${$p}/class?schoolId=${y}&page=${k}&limit=${L}`);if(!re.ok)throw new Error("Failed to fetch sections");const Ce=await re.json();if(!Ce.success)throw new Error(Ce.message||"Failed to fetch sections");M(Ce.data||[]),O(Ce.totalPages||1)}catch(re){A(re.message)}finally{h(!1)}};C.useEffect(()=>{e==="classes"?ve():(B(),v.length===0&&ve())},[y,j,k,e]);const R=re=>{const{name:Ce,value:st}=re.target;ee(et=>({...et,[Ce]:st}))},Y=re=>{const{name:Ce,value:st}=re.target;se(et=>({...et,[Ce]:st}))},ie=()=>{ee({className:"",schoolId:y}),l(null)},ge=()=>{se({section:"",className:"",classTeacher:"",schoolId:y}),d(null)},ye=async re=>{if(re.preventDefault(),!ce.className.trim()){A("Class name is required");return}try{h(!0),A(null);const Ce={...ce,schoolId:y},st=o?`${$p}/classes/updateclass/${o._id}`:`${$p}/classes/addclass`,He=await fetch(st,{method:o?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ce)});if(!He.ok){const ct=await He.json().catch(()=>({}));throw new Error(ct.message||"Failed to save class")}ve(),he(P2(V)),he(_v(V)),he(Fv(V)),n(!1),ie()}catch(Ce){A(Ce.message)}finally{h(!1)}},pe=async re=>{if(re.preventDefault(),!de.section.trim()){A("Section name is required");return}if(!de.className.trim()){A("Class name is required");return}try{h(!0),A(null);const Ce={...de,schoolId:y},st=c?`${$p}/class/${c._id}`:`${$p}/class`,He=await fetch(st,{method:c?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ce)});if(!He.ok){const ct=await He.json().catch(()=>({}));throw new Error(ct.message||"Failed to save section")}B(),i(!1),ge()}catch(Ce){A(Ce.message)}finally{h(!1)}},Z=async re=>{if(window.confirm("Are you sure you want to delete this class? This will also affect related sections."))try{h(!0);const Ce=await fetch(`${$p}/classes/deleteclass/${re}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:y})});if(!Ce.ok){const st=await Ce.json().catch(()=>({}));throw new Error(st.message||"Failed to delete class")}ve(),he(_v(V)),he(Fv(V)),v.length===1&&j>1&&E(st=>st-1)}catch(Ce){A(Ce.message)}finally{h(!1)}},le=async re=>{if(window.confirm("Are you sure you want to delete this section?"))try{h(!0);const Ce=await fetch(`${$p}/class/${re}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:y})});if(!Ce.ok){const st=await Ce.json().catch(()=>({}));throw new Error(st.message||"Failed to delete section")}B(),U.length===1&&k>1&&Q(st=>st-1)}catch(Ce){A(Ce.message)}finally{h(!1)}},te=()=>{j>1&&E(re=>re-1)},Ne=()=>{j<T&&E(re=>re+1)},Fe=()=>{k>1&&Q(re=>re-1)},be=()=>{k<z&&Q(re=>re+1)};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:x},children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:e==="classes"?"Class Management":"Section Management"}),a.jsx("p",{className:"text-gray-200",children:e==="classes"?"Manage classes":"Manage sections within classes"})]}),a.jsxs("button",{onClick:()=>e==="classes"?n(!0):i(!0),className:"text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2",style:{backgroundColor:x},children:[a.jsx(Si,{}),a.jsx("span",{children:e==="classes"?"Add Class":"Add Section"})]})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[a.jsxs("div",{className:"flex border-b",children:[a.jsxs("button",{onClick:()=>t("classes"),className:`flex-1 px-6 py-4 text-center font-medium flex items-center justify-center space-x-2 ${e==="classes"?"border-b-2 text-blue-600":"text-gray-500 hover:text-gray-700"}`,style:{borderBottomColor:e==="classes"?x:"transparent"},children:[a.jsx(Rs,{}),a.jsx("span",{children:"Classes"})]}),a.jsxs("button",{onClick:()=>t("sections"),className:`flex-1 px-6 py-4 text-center font-medium flex items-center justify-center space-x-2 ${e==="sections"?"border-b-2 text-blue-600":"text-gray-500 hover:text-gray-700"}`,style:{borderBottomColor:e==="sections"?x:"transparent"},children:[a.jsx(fk,{}),a.jsx("span",{children:"Sections"})]})]}),m&&a.jsxs("div",{className:"m-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[a.jsx("strong",{className:"font-bold",children:"Error: "}),m,a.jsx("button",{onClick:()=>A(null),className:"absolute top-2 right-2",children:a.jsx(Lr,{})})]}),e==="classes"&&a.jsx("div",{className:"overflow-x-auto",children:u&&v.length===0?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:x}})}):v.length?a.jsxs(a.Fragment,{children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Class Name"}),a.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Created Date"}),a.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y",children:v.map(re=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"p-4 font-medium",children:re.className}),a.jsx("td",{className:"p-4",children:re.createdAt?new Date(re.createdAt).toLocaleDateString():"N/A"}),a.jsxs("td",{className:"p-4 flex space-x-2",children:[a.jsx("button",{onClick:()=>{l(re),ee({className:re.className,schoolId:y}),n(!0)},className:"p-2 hover:bg-gray-100 rounded",children:a.jsx(ed,{style:{color:x}})}),a.jsx("button",{onClick:()=>Z(re._id),className:"p-2 hover:bg-gray-100 rounded text-red-500",children:a.jsx(si,{})})]})]},re._id))})]}),a.jsxs("div",{className:"flex justify-between items-center p-4",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",j," of ",T]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:te,disabled:j===1,className:`p-2 rounded-lg ${j===1?"text-gray-400 cursor-not-allowed":"text-white"}`,style:{backgroundColor:j===1?"#d1d5db":x},children:a.jsx(fc,{})}),a.jsx("button",{onClick:Ne,disabled:j===T,className:`p-2 rounded-lg ${j===T?"text-gray-400 cursor-not-allowed":"text-white"}`,style:{backgroundColor:j===T?"#d1d5db":x},children:a.jsx(Al,{})})]})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Rs,{className:"w-12 h-12 mx-auto mb-4",style:{color:x}}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"No classes found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first class to get started"}),a.jsx("button",{onClick:()=>n(!0),className:"text-white px-4 py-2 rounded-lg shadow-lg",style:{backgroundColor:x},children:"Add First Class"})]})}),e==="sections"&&a.jsx("div",{className:"overflow-x-auto",children:u&&U.length===0?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:x}})}):U.length?a.jsxs(a.Fragment,{children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Section Name"}),a.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Class"}),a.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Class Teacher"}),a.jsx("th",{className:"p-4 text-left text-xs uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y",children:U.map(re=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"p-4 font-medium",children:re.section}),a.jsx("td",{className:"p-4",children:re?.className}),a.jsx("td",{className:"p-4",children:fe(re.classTeacher)}),a.jsxs("td",{className:"p-4 flex space-x-2",children:[a.jsx("button",{onClick:()=>{d(re),se({section:re.section,className:re.className||"",classTeacher:re.classTeacher?typeof re.classTeacher=="object"?re.classTeacher._id:re.classTeacher:"",schoolId:y}),i(!0)},className:"p-2 hover:bg-gray-100 rounded",children:a.jsx(ed,{style:{color:x}})}),a.jsx("button",{onClick:()=>le(re._id),className:"p-2 hover:bg-gray-100 rounded text-red-500",children:a.jsx(si,{})})]})]},re._id))})]}),a.jsxs("div",{className:"flex justify-between items-center p-4",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",k," of ",z]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:Fe,disabled:k===1,className:`p-2 rounded-lg ${k===1?"text-gray-400 cursor-not-allowed":"text-white"}`,style:{backgroundColor:k===1?"#d1d5db":x},children:a.jsx(fc,{})}),a.jsx("button",{onClick:be,disabled:k===z,className:`p-2 rounded-lg ${k===z?"text-gray-400 cursor-not-allowed":"text-white"}`,style:{backgroundColor:k===z?"#d1d5db":x},children:a.jsx(Al,{})})]})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(fk,{className:"w-12 h-12 mx-auto mb-4",style:{color:x}}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"No sections found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:v.length===0?"Create classes first, then add sections to them":"Create your first section"}),v.length>0&&a.jsx("button",{onClick:()=>i(!0),className:"text-white px-4 py-2 rounded-lg shadow-lg",style:{backgroundColor:x},children:"Add First Section"}),v.length===0&&a.jsx("button",{onClick:()=>t("classes"),className:"text-white px-4 py-2 rounded-lg shadow-lg",style:{backgroundColor:x},children:"Go to Classes"})]})})]}),r&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl overflow-y-auto",children:[a.jsxs("div",{className:"p-6 flex justify-between items-center",style:{backgroundColor:x},children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:o?"Edit Class":"Add Class"}),a.jsx("button",{onClick:()=>{n(!1),ie()},className:"text-white",children:a.jsx(Lr,{size:24})})]}),a.jsxs("form",{onSubmit:ye,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Class Name *"}),a.jsx("input",{type:"text",name:"className",value:ce.className,onChange:R,placeholder:"Enter class name (e.g., Grade 1, Class 10, etc.)",className:"w-full p-3 border rounded-lg",required:!0})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>{n(!1),ie()},className:"px-6 py-2 border rounded-lg",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:u,className:"px-6 py-2 text-white rounded-lg",style:{backgroundColor:x},children:u?"Saving...":o?"Update":"Create"})]})]})]})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl overflow-y-auto",children:[a.jsxs("div",{className:"p-6 flex justify-between items-center",style:{backgroundColor:x},children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:c?"Edit Section":"Add Section"}),a.jsx("button",{onClick:()=>{i(!1),ge()},className:"text-white",children:a.jsx(Lr,{size:24})})]}),a.jsxs("form",{onSubmit:pe,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Section Name *"}),a.jsx("input",{type:"text",name:"section",value:de.section,onChange:Y,placeholder:"Enter section name (e.g., A, B, Alpha, Beta)",className:"w-full p-3 border rounded-lg",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Select Class *"}),a.jsxs("select",{name:"className",value:de.className,onChange:Y,className:"w-full p-3 border rounded-lg",required:!0,children:[a.jsx("option",{value:"",children:"Choose a class"}),v.map(re=>a.jsx("option",{value:re.className,children:re.className},re._id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Class Teacher"}),a.jsxs("select",{name:"classTeacher",value:de.classTeacher,onChange:Y,className:"w-full p-3 border rounded-lg",children:[a.jsx("option",{value:"",children:"Select Teacher (Optional)"}),J.map(re=>a.jsx("option",{value:re._id,children:re.name},re._id))]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>{i(!1),ge()},className:"px-6 py-2 border rounded-lg",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:u,className:"px-6 py-2 text-white rounded-lg",style:{backgroundColor:x},children:u?"Saving...":c?"Update":"Create"})]})]})]})})]})},Yfe=()=>{const e=localStorage.getItem("schoolId"),t=localStorage.getItem("color")||"#2563eb",r="https://vidyaastra.com/api",n=`${r}/class`,s=`${r}/subject`,i=`${r}/teacher`,o=`${r}/timetable`,[l,c]=C.useState("Monday"),[d,u]=C.useState(""),[h,m]=C.useState(""),[A,y]=C.useState({}),[x,v]=C.useState([]),[b,j]=C.useState([]),[E,T]=C.useState([]),[P,U]=C.useState(!0),[M,k]=C.useState(null),[Q,z]=C.useState(!1),[O,L]=C.useState("create"),[V,J]=C.useState(null),[ce,ee]=C.useState(null),[de,se]=C.useState(-1),[he,fe]=C.useState(null),ve=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],[B,R]=C.useState({className:"",section:"",day:"Monday",periods:[],timetableName:""}),[Y,ie]=C.useState({_id:"",subjectName:"",teacherName:"",startTime:"",endTime:""});C.useEffect(()=>{if(!e){k("School ID not found. Please login again.");return}console.log("Current School ID:",e)},[e]),C.useEffect(()=>{e&&(async()=>(await ye(),await pe(),await Z(),await le()))()},[e]);const ge=Pe=>{if(!Pe)return"N/A";const ot=/^([0-1]?[0-9]|2[0-3]):[0-5][0-9](\s?(AM|PM))?$/i;return Pe.match(ot)&&!Pe.includes("AM")&&!Pe.includes("PM")?`${Pe} AM`:Pe},ye=async()=>{if(e)try{console.log("Fetching classes for school:",e);const Pe=await fetch(`${n}?schoolId=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});let ot=[];if(Pe.ok){const Ge=await Pe.json();console.log("Classes API Response:",Ge),Ge.success&&Ge.data&&(ot=Ge.data.map(lt=>{const Je=lt.className||`Class ${lt.classNumber||lt.grade||"Unknown"}`,Me=lt.section||"A";return{_id:lt._id,className:Je,section:Me,displayName:`${Je} ${Me}`.trim()}}))}ot.length===0&&(console.log("Using fallback mock classes"),ot=[]),console.log("Final classes data:",ot),v(ot)}catch(Pe){console.error("Error fetching classes:",Pe),k("Failed to fetch classes: "+Pe.message),xr.error("Failed to fetch classes: "+Pe.message)}},pe=async()=>{if(e)try{console.log("Fetching subjects for school:",e);const Pe=await fetch(`${s}/${e}/subjects`,{method:"GET",headers:{"Content-Type":"application/json"}});let ot=[];if(Pe.ok){const Ge=await Pe.json();console.log("Subjects API Response:",Ge),Ge.success&&Ge.data&&(ot=Ge.data.map(lt=>({_id:lt._id,name:lt.SubjectName||lt.name||"Unknown"})))}ot.length===0&&(console.log("Using fallback mock subjects"),ot=[{_id:"sub_math",name:"Maths"}]),console.log("Final subjects data:",ot),j(ot)}catch(Pe){console.error("Error fetching subjects:",Pe),k("Failed to fetch subjects: "+Pe.message),xr.error("Failed to fetch subjects: "+Pe.message)}},Z=async()=>{if(e)try{console.log("Fetching teachers for school:",e);const Pe=await fetch(`${i}/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});let ot=[];if(Pe.ok){const Ge=await Pe.json();console.log("Teachers API Response:",Ge),Ge.success&&Ge.data&&(ot=Ge.data.map(lt=>({_id:lt._id,name:lt.name||lt.teacherName||"Unknown"})).filter(lt=>lt.name&&lt.name.trim()!==""))}ot.length===0&&(console.log("Using fallback mock teachers"),ot=[{_id:"teacher_1",name:"Mukesh"}]),console.log("Final teachers data:",ot),T(ot)}catch(Pe){console.error("Error fetching teachers:",Pe),k("Failed to fetch teachers: "+Pe.message),xr.error("Failed to fetch teachers: "+Pe.message)}},le=async()=>{if(e)try{U(!0),console.log("Fetching timetable for school:",e);const Pe=await fetch(`${o}/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!Pe.ok)throw new Error(`HTTP error! Status: ${Pe.status}`);const ot=await Pe.json();if(console.log("Timetable API Response:",ot),!ot.success||!ot.data||!Array.isArray(ot.data))throw new Error(ot.message||"Failed to fetch timetable");const Ge={};ve.forEach(Je=>{Ge[Je]={}}),(ot.data.length>0&&ot.data[0].timetable?ot.data[0].timetable:[]).forEach(Je=>{if(!Je.day||!ve.includes(Je.day))return;const[Me,Te]=Je.className.split(" "),je=x.find(Le=>Le.className===Me&&Le.section===(Te||"A"))||{_id:`mock_${Je.className.replace(/\s+/g,"_").toLowerCase()}`,className:Me||"Unknown",section:Te||"A",displayName:Je.className},Ke=`${Me} ${Te||"A"}`.trim();Ge[Je.day][Ke]||(Ge[Je.day][Ke]={classId:je._id,className:Me,section:Te||"A",timetables:[]}),Ge[Je.day][Ke].timetables.push({timetableId:Je._id,classId:je._id,className:Ke,timetableName:Je.timetableName||"Regular",day:Je.day,periods:(Je.periods||[]).map((Le,rt)=>({id:Le._id||`${Je._id}-${rt}`,_id:Le._id,subjectName:Le.subjectName||"Unknown",teacherName:Le.teacherName||"N/A",startTime:ge(Le.startTime),endTime:ge(Le.endTime),time:`${ge(Le.startTime)} - ${ge(Le.endTime)}`}))})}),Object.keys(Ge).forEach(Je=>{Object.values(Ge[Je]).forEach(Me=>{Me.timetables.forEach(Te=>{Te.periods.sort((je,Ke)=>{const Le=je.startTime&&je.startTime!=="N/A"?new Date(`1970-01-01 ${je.startTime}`):new Date(0),rt=Ke.startTime&&Ke.startTime!=="N/A"?new Date(`1970-01-01 ${Ke.startTime}`):new Date(0);return Le-rt})})})}),y(Ge),k(null)}catch(Pe){console.error("Fetch Error:",Pe),k(Pe.message||"Error fetching timetable"),xr.error(Pe.message||"Error fetching timetable")}finally{U(!1)}},te=async Pe=>{if(!e)return k("School ID not found. Please login again."),xr.error("School ID not found. Please login again."),!1;try{U(!0),console.log("Creating timetable with data:",Pe);const ot={className:`${Pe.className} ${Pe.section}`.trim(),day:Pe.day,timetableName:Pe.timetableName,periods:Pe.periods},lt=await(await fetch(`${o}/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ot)})).json();if(!lt.success)throw new Error(lt.message||"Failed to add timetable");return await le(),xr.success("Timetable created successfully!"),!0}catch(ot){return k(ot.message||"Error adding timetable"),xr.error(ot.message||"Error adding timetable"),!1}finally{U(!1)}},Ne=async(Pe,ot)=>{if(!e)return k("School ID not found. Please login again."),xr.error("School ID not found. Please login again."),!1;if(!Pe)return k("Timetable ID is required."),xr.error("Timetable ID is required."),!1;if(!ot||typeof ot!="object")return k("Timetable data must be a valid object."),xr.error("Timetable data must be a valid object."),!1;const{className:Ge,section:lt,day:Je,timetableName:Me,periods:Te}=ot;if(!Ge||!lt)return k("Class name and section are required."),xr.error("Class name and section are required."),!1;if(!Je||!ve.includes(Je))return k("Valid day is required (e.g., Monday, Tuesday)."),xr.error("Valid day is required (e.g., Monday, Tuesday)."),!1;if(!Me)return k("Timetable name is required."),xr.error("Timetable name is required."),!1;if(!Array.isArray(Te)||Te.length===0)return k("Periods must be a non-empty array."),xr.error("Periods must be a non-empty array."),!1;const je=/^([0-1]?[0-9]|2[0-3]):[0-5][0-9](\s?(AM|PM))?$/i;for(const Ke of Te){if(!Ke.subjectName)return k("Each period must have a subject name."),xr.error("Each period must have a subject name."),!1;if(!Ke.startTime||!Ke.startTime.match(je))return k("Each period must have a valid start time (e.g., 9:00 AM)."),xr.error("Each period must have a valid start time (e.g., 9:00 AM)."),!1;if(!Ke.endTime||!Ke.endTime.match(je))return k("Each period must have a valid end time (e.g., 10:00 AM)."),xr.error("Each period must have a valid end time (e.g., 10:00 AM)."),!1}try{U(!0),console.log("Updating timetable with ID:",Pe,"Data:",ot);const Ke={className:`${Ge} ${lt}`.trim(),day:Je,timetableName:Me,periods:Te.map(Oe=>({_id:Oe._id||void 0,subjectName:Oe.subjectName,teacherName:Oe.teacherName||"",startTime:Oe.startTime.trim(),endTime:Oe.endTime.trim()}))},rt=await(await fetch(`${o}/${e}/${Pe}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ke)})).json();if(!rt.success)throw new Error(rt.message||"Failed to update timetable");return await le(),xr.success("Timetable updated successfully!"),!0}catch(Ke){return k(Ke.message||"Error updating timetable"),xr.error(Ke.message||"Error updating timetable"),!1}finally{U(!1)}},Fe=async Pe=>{if(!e){k("School ID not found. Please login again."),xr.error("School ID not found. Please login again.");return}if(window.confirm("Are you sure you want to delete this timetable?"))try{fe(Pe),U(!0);const Ge=await(await fetch(`${o}/${Pe}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).json();if(!Ge.success)throw new Error(Ge.message||"Failed to delete timetable");await le(),xr.success("Timetable deleted successfully!")}catch(ot){k(ot.message||"Error deleting timetable"),xr.error(ot.message||"Error deleting timetable")}finally{U(!1),fe(null)}},be=()=>{L("create"),J(null),R({className:d||"",section:h||"",day:l,periods:[],timetableName:""}),z(!0)},re=Pe=>{L("edit"),J(Pe);const[ot,Ge]=Pe.className.split(" ");R({className:ot||"",section:Ge||"A",day:Pe.day,periods:Pe.periods.map(lt=>({_id:lt._id,subjectName:lt.subjectName,teacherName:lt.teacherName,startTime:lt.startTime,endTime:lt.endTime})),timetableName:Pe.timetableName}),z(!0)},Ce=()=>{ie({_id:"",subjectName:"",teacherName:"",startTime:"",endTime:""}),ee(null),se(-1),L("period")},st=(Pe,ot)=>{ie({_id:Pe._id||"",subjectName:Pe.subjectName,teacherName:Pe.teacherName,startTime:Pe.startTime,endTime:Pe.endTime}),ee(Pe),se(ot),L("period")},et=Pe=>{const ot=B.periods.filter((Ge,lt)=>lt!==Pe);R({...B,periods:ot})},He=()=>{const Pe=/^([0-1]?[0-9]|2[0-3]):[0-5][0-9](\s?(AM|PM))?$/i;if(!Y.startTime.match(Pe)&&Y.startTime!==""){k("Please enter a valid start time (e.g., 9:00 AM)"),xr.error("Please enter a valid start time (e.g., 9:00 AM)");return}if(!Y.endTime.match(Pe)&&Y.endTime!==""){k("Please enter a valid end time (e.g., 10:00 AM)"),xr.error("Please enter a valid end time (e.g., 10:00 AM)");return}if(!Y.subjectName){k("Subject is required"),xr.error("Subject is required");return}const ot={_id:Y._id||void 0,subjectName:Y.subjectName,teacherName:Y.teacherName||"",startTime:ge(Y.startTime),endTime:ge(Y.endTime)};let Ge=[...B.periods];ce&&de>=0?Ge[de]=ot:Ge.push(ot),Ge.sort((lt,Je)=>{const Me=lt.startTime&&lt.startTime!=="N/A"?new Date(`1970-01-01 ${lt.startTime}`):new Date(0),Te=Je.startTime&&Je.startTime!=="N/A"?new Date(`1970-01-01 ${Je.startTime}`):new Date(0);return Me-Te}),R({...B,periods:Ge}),L(V?"edit":"create"),k(null)},ct=async()=>{if(B.periods.length===0){k("Please add at least one period"),xr.error("Please add at least one period");return}if(!B.className||!B.section){k("Please select both class and section"),xr.error("Please select both class and section");return}if(!B.timetableName){k("Please enter a timetable name"),xr.error("Please enter a timetable name");return}const Pe={className:B.className,section:B.section,day:B.day,periods:B.periods,timetableName:B.timetableName};let ot=!1;V?ot=await Ne(V.timetableId,Pe):ot=await te(Pe),ot&&_e()},_e=()=>{R({className:"",section:"",day:"Monday",periods:[],timetableName:""}),ie({_id:"",subjectName:"",teacherName:"",startTime:"",endTime:""}),J(null),ee(null),se(-1),z(!1),L("create"),k(null)},ke=[...new Set(x.map(Pe=>Pe.className))],Ze=d?x.filter(Pe=>Pe.className===d).map(Pe=>Pe.section):[];return e?a.jsxs("div",{className:"space-y-6 p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:cr("text-black p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:t},children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Class Timetable"}),a.jsx("p",{className:"text-gray-200",children:"View and manage class schedules"}),a.jsxs("div",{className:"text-white text-sm opacity-75 mt-1",children:["School ID: ",e]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("select",{value:d,onChange:Pe=>{u(Pe.target.value),m("")},className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-32",style:{borderColor:t,outlineColor:t},children:[a.jsx("option",{value:"",children:"All Classes"}),ke.map(Pe=>a.jsx("option",{value:Pe,children:Pe},Pe))]}),a.jsxs("select",{value:h,onChange:Pe=>m(Pe.target.value),className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-24",style:{borderColor:t,outlineColor:t},disabled:!d,children:[a.jsx("option",{value:"",children:"All Sections"}),Ze.map(Pe=>a.jsx("option",{value:Pe,children:Pe},Pe))]})]}),a.jsxs("div",{className:"text-white text-xs opacity-75",children:[x.length," classes available"]}),a.jsxs("button",{onClick:be,className:cr("text-white px-4 py-2 rounded-lg shadow-lg flex items-center hover:opacity-90"),style:{backgroundColor:t},disabled:P||x.length===0,children:[P?a.jsx(an,{className:"mr-2 animate-spin",style:{color:"white"}}):a.jsx(Si,{className:"mr-2",style:{color:"white"}}),"Create Timetable"]})]})]}),M&&a.jsxs("div",{className:"p-4 bg-red-100 text-red-700 rounded-xl mb-4 flex items-center justify-between max-w-full",children:[M,a.jsx("button",{onClick:()=>k(null),className:"text-red-500 hover:text-red-700",children:""})]}),P&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(es,{className:"w-12 h-12 mx-auto mb-4 animate-pulse",style:{color:t}}),a.jsx("p",{className:"text-gray-500 text-lg",children:"Loading timetable..."})]}),!P&&a.jsx("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:ve.map(Pe=>a.jsx("button",{onClick:()=>c(Pe),className:cr("flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors",{"bg-white shadow-sm":l===Pe,"text-gray-600 hover:text-gray-800":l!==Pe}),style:{color:l===Pe?t:void 0},children:Pe},Pe))})]}),!P&&a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-x-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:[l," -"," ",d&&h?`${d} ${h}`:d?`${d} (All Sections)`:"All Classes"]})}),a.jsx("div",{className:"p-6 space-y-6",children:Object.keys(A[l]||{}).length===0?a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx(es,{className:"w-12 h-12 mx-auto mb-4",style:{color:t}}),a.jsxs("p",{children:["No timetables scheduled for ",l,d?` (${d}${h?` ${h}`:" (All Sections)"})`:""]}),a.jsxs("div",{className:"text-xs mt-2",children:["School ID: ",e]}),a.jsx("button",{onClick:be,className:cr("text-white px-4 py-2 rounded-lg shadow-lg mt-4 hover:opacity-90"),style:{backgroundColor:t},disabled:x.length===0,children:"Create Timetable"})]}):Object.entries(A[l]).filter(([Pe,ot])=>{if(!d)return!0;const[Ge,lt]=Pe.split(" ");return Ge===d&&(!h||lt===h)}).map(([Pe,ot])=>a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:Pe}),a.jsxs("table",{className:"min-w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100",children:[a.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-600 border-b w-1/5",children:"Timetable Name"}),a.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-600 border-b w-1/5",children:"Time"}),a.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-600 border-b w-1/5",children:"Subject"}),a.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-600 border-b w-1/5",children:"Teacher"}),a.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-600 border-b w-1/5",children:"Actions"})]})}),a.jsx("tbody",{children:ot.timetables.map(Ge=>Ge.periods.map((lt,Je)=>a.jsxs("tr",{className:"border-b",children:[Je===0&&a.jsx("td",{className:"p-3 text-gray-800",rowSpan:Ge.periods.length,children:Ge.timetableName}),a.jsx("td",{className:"p-3 text-gray-600",children:lt.time}),a.jsx("td",{className:"p-3 text-gray-800",children:lt.subjectName}),a.jsx("td",{className:"p-3 text-gray-600",children:lt.teacherName}),Je===0&&a.jsx("td",{className:"p-3",rowSpan:Ge.periods.length,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>re(Ge),className:"hover:opacity-75",style:{color:t},disabled:P||he===Ge.timetableId,title:"Edit Timetable",children:a.jsx(_u,{size:16})}),a.jsx("button",{onClick:()=>Fe(Ge.timetableId),className:"hover:opacity-75",style:{color:t},disabled:P||he===Ge.timetableId,title:"Delete Timetable",children:he===Ge.timetableId?a.jsx(an,{className:"animate-spin",size:16}):a.jsx(si,{size:16})})]})})]},`${Ge.timetableId}-${lt.id}`)))})]})]},Pe))})]}),Q&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-5xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:cr("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center mb-6 sticky top-0 z-10"),style:{backgroundColor:t},children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:O==="period"?ce?"Edit Period":"Add Period":V?"Edit Timetable":"Create Timetable"}),a.jsx("button",{onClick:_e,className:"flex items-center justify-center w-8 h-8 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:a.jsx(Lr,{size:24,className:"text-white"})})]}),O==="period"?a.jsxs("div",{className:"space-y-4 p-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"startTime",className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),a.jsx("input",{type:"time",id:"startTime",placeholder:"Select start time",value:Y.startTime,onChange:Pe=>ie({...Y,startTime:Pe.target.value}),className:"p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-full",style:{borderColor:t,outlineColor:t},required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"endTime",className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),a.jsx("input",{type:"time",id:"endTime",placeholder:"Select end time",value:Y.endTime,onChange:Pe=>ie({...Y,endTime:Pe.target.value}),className:"p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-full",style:{borderColor:t,outlineColor:t},required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"subjectName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),a.jsxs("select",{id:"subjectName",value:Y.subjectName,onChange:Pe=>{ie({...Y,subjectName:Pe.target.value})},className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:t,outlineColor:t},required:!0,children:[a.jsx("option",{value:"",children:"Select Subject"}),b.map(Pe=>a.jsx("option",{value:Pe.name,children:Pe.name},Pe._id))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"teacherName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Teacher (Optional)"}),a.jsxs("select",{id:"teacherName",value:Y.teacherName,onChange:Pe=>{ie({...Y,teacherName:Pe.target.value})},className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:t,outlineColor:t},children:[a.jsx("option",{value:"",children:"Select Teacher"}),E.filter(Pe=>Pe.name&&Pe.name.trim()!=="").map(Pe=>a.jsx("option",{value:Pe.name,children:Pe.name},Pe._id))]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>L(V?"edit":"create"),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Back"}),a.jsx("button",{onClick:He,className:cr("text-white px-4 py-2 rounded-lg shadow-lg hover:opacity-90"),style:{backgroundColor:t},children:ce?"Update Period":"Add Period"})]})]}):a.jsxs("div",{className:"space-y-6 p-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("select",{value:B.className,onChange:Pe=>R({...B,className:Pe.target.value,section:""}),className:"p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-full",style:{borderColor:t,outlineColor:t},required:!0,children:[a.jsx("option",{value:"",children:"Select Class"}),ke.map(Pe=>a.jsx("option",{value:Pe,children:Pe},Pe))]}),a.jsxs("select",{value:B.section,onChange:Pe=>R({...B,section:Pe.target.value}),className:"p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-full",style:{borderColor:t,outlineColor:t},required:!0,disabled:!B.className,children:[a.jsx("option",{value:"",children:"Select Section"}),x.filter(Pe=>Pe.className===B.className).map(Pe=>a.jsx("option",{value:Pe.section,children:Pe.section},Pe.section))]}),a.jsx("select",{value:B.day,onChange:Pe=>R({...B,day:Pe.target.value}),className:"p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-full",style:{borderColor:t,outlineColor:t},required:!0,children:ve.map(Pe=>a.jsx("option",{value:Pe,children:Pe},Pe))}),a.jsx("input",{type:"text",placeholder:"Timetable Name (e.g., Regular Timetable)",value:B.timetableName,onChange:Pe=>R({...B,timetableName:Pe.target.value}),className:"p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 w-full",style:{borderColor:t,outlineColor:t},required:!0})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Periods"}),a.jsxs("button",{onClick:Ce,className:cr("text-white px-3 py-1 rounded-lg text-sm flex items-center hover:opacity-90"),style:{backgroundColor:t},children:[a.jsx(Si,{className:"mr-1",style:{color:"white"}})," Add Period"]})]}),a.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[B.periods.map((Pe,ot)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"font-medium",children:[Pe.startTime," - ",Pe.endTime]}),a.jsx("span",{className:"text-gray-600",children:Pe.subjectName})]}),a.jsx("div",{className:"text-sm text-gray-500 mt-1",children:Pe.teacherName||"No teacher assigned"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>st(Pe,ot),className:"hover:opacity-75",style:{color:t},children:a.jsx(_u,{size:16})}),a.jsx("button",{onClick:()=>et(ot),className:"hover:opacity-75",style:{color:t},children:a.jsx(si,{size:16})})]})]},ot)),B.periods.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500",children:'No periods added yet. Click "Add Period" to get started.'})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:_e,className:"px-6 py-2 border rounded-lg hover:bg-gray-50",disabled:P,children:"Cancel"}),a.jsxs("button",{onClick:ct,className:cr("text-white px-6 py-2 rounded-lg shadow-lg flex items-center hover:opacity-90"),style:{backgroundColor:t},disabled:P||B.periods.length===0||!B.timetableName||!B.className||!B.section,children:[P?a.jsx(an,{className:"mr-2 animate-spin",style:{color:"white"}}):a.jsx(td,{className:"mr-2",style:{color:"white"}}),V?"Update Timetable":"Create Timetable"]})]})]})]})}),a.jsx(wj,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-500 text-xl mb-4",children:"School ID not found"}),a.jsx("div",{className:"text-gray-600",children:"Please login again to access the timetable system."}),a.jsx("button",{onClick:()=>window.location.href="/login",className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go to Login"})]})})},Xfe="modulepreload",Jfe=function(e){return"/"+e},bP={},Iv=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){let c=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");s=c(r.map(d=>{if(d=Jfe(d),d in bP)return;bP[d]=!0;const u=d.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":Xfe,u||(m.as="script"),m.crossOrigin="",m.href=d,l&&m.setAttribute("nonce",l),document.head.appendChild(m),u)return new Promise((A,y)=>{m.addEventListener("load",A),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function qn(e){"@babel/helpers - typeof";return qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qn(e)}var Id=Uint8Array,Nh=Uint16Array,P_=Int32Array,Bj=new Id([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Tj=new Id([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),tB=new Id([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),I$=function(e,t){for(var r=new Nh(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new P_(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},k$=I$(Bj,2),P$=k$.b,rB=k$.r;P$[28]=258,rB[258]=28;var L$=I$(Tj,0),Zfe=L$.b,wP=L$.r,nB=new Nh(32768);for(var Do=0;Do<32768;++Do){var zp=(Do&43690)>>1|(Do&21845)<<1;zp=(zp&52428)>>2|(zp&13107)<<2,zp=(zp&61680)>>4|(zp&3855)<<4,nB[Do]=((zp&65280)>>8|(zp&255)<<8)>>1}var Hm=(function(e,t,r){for(var n=e.length,s=0,i=new Nh(t);s<n;++s)e[s]&&++i[e[s]-1];var o=new Nh(t);for(s=1;s<t;++s)o[s]=o[s-1]+i[s-1]<<1;var l;if(r){l=new Nh(1<<t);var c=15-t;for(s=0;s<n;++s)if(e[s])for(var d=s<<4|e[s],u=t-e[s],h=o[e[s]-1]++<<u,m=h|(1<<u)-1;h<=m;++h)l[nB[h]>>c]=d}else for(l=new Nh(n),s=0;s<n;++s)e[s]&&(l[s]=nB[o[e[s]-1]++]>>15-e[s]);return l}),mg=new Id(288);for(var Do=0;Do<144;++Do)mg[Do]=8;for(var Do=144;Do<256;++Do)mg[Do]=9;for(var Do=256;Do<280;++Do)mg[Do]=7;for(var Do=280;Do<288;++Do)mg[Do]=8;var Ab=new Id(32);for(var Do=0;Do<32;++Do)Ab[Do]=5;var ehe=Hm(mg,9,0),the=Hm(mg,9,1),rhe=Hm(Ab,5,0),nhe=Hm(Ab,5,1),E3=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},DA=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},B3=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},L_=function(e){return(e+7)/8|0},O$=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Id(e.subarray(t,r))},ahe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],QA=function(e,t,r){var n=new Error(t||ahe[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,QA),!r)throw n;return n},she=function(e,t,r,n){var s=e.length,i=0;if(!s||t.f&&!t.l)return r||new Id(0);var o=!r,l=o||t.i!=2,c=t.i;o&&(r=new Id(s*3));var d=function(te){var Ne=r.length;if(te>Ne){var Fe=new Id(Math.max(Ne*2,te));Fe.set(r),r=Fe}},u=t.f||0,h=t.p||0,m=t.b||0,A=t.l,y=t.d,x=t.m,v=t.n,b=s*8;do{if(!A){u=DA(e,h,1);var j=DA(e,h+1,3);if(h+=3,j)if(j==1)A=the,y=nhe,x=9,v=5;else if(j==2){var U=DA(e,h,31)+257,M=DA(e,h+10,15)+4,k=U+DA(e,h+5,31)+1;h+=14;for(var Q=new Id(k),z=new Id(19),O=0;O<M;++O)z[tB[O]]=DA(e,h+O*3,7);h+=M*3;for(var L=E3(z),V=(1<<L)-1,J=Hm(z,L,1),O=0;O<k;){var ce=J[DA(e,h,V)];h+=ce&15;var E=ce>>4;if(E<16)Q[O++]=E;else{var ee=0,de=0;for(E==16?(de=3+DA(e,h,3),h+=2,ee=Q[O-1]):E==17?(de=3+DA(e,h,7),h+=3):E==18&&(de=11+DA(e,h,127),h+=7);de--;)Q[O++]=ee}}var se=Q.subarray(0,U),he=Q.subarray(U);x=E3(se),v=E3(he),A=Hm(se,x,1),y=Hm(he,v,1)}else QA(1);else{var E=L_(h)+4,T=e[E-4]|e[E-3]<<8,P=E+T;if(P>s){c&&QA(0);break}l&&d(m+T),r.set(e.subarray(E,P),m),t.b=m+=T,t.p=h=P*8,t.f=u;continue}if(h>b){c&&QA(0);break}}l&&d(m+131072);for(var fe=(1<<x)-1,ve=(1<<v)-1,B=h;;B=h){var ee=A[B3(e,h)&fe],R=ee>>4;if(h+=ee&15,h>b){c&&QA(0);break}if(ee||QA(2),R<256)r[m++]=R;else if(R==256){B=h,A=null;break}else{var Y=R-254;if(R>264){var O=R-257,ie=Bj[O];Y=DA(e,h,(1<<ie)-1)+P$[O],h+=ie}var ge=y[B3(e,h)&ve],ye=ge>>4;ge||QA(3),h+=ge&15;var he=Zfe[ye];if(ye>3){var ie=Tj[ye];he+=B3(e,h)&(1<<ie)-1,h+=ie}if(h>b){c&&QA(0);break}l&&d(m+131072);var pe=m+Y;if(m<he){var Z=i-he,le=Math.min(he,pe);for(Z+m<0&&QA(3);m<le;++m)r[m]=n[Z+m]}for(;m<pe;++m)r[m]=r[m-he]}}t.l=A,t.p=B,t.b=m,t.f=u,A&&(u=1,t.m=x,t.d=y,t.n=v)}while(!u);return m!=r.length&&o?O$(r,0,m):r.subarray(0,m)},j0=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},n2=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},T3=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,i=r.slice();if(!s)return{t:M$,l:0};if(s==1){var o=new Id(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(P,U){return P.f-U.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,u=1,h=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};u!=s-1;)l=r[r[d].f<r[h].f?d++:h++],c=r[d!=u&&r[d].f<r[h].f?d++:h++],r[u++]={s:-1,f:l.f+c.f,l,r:c};for(var m=i[0].s,n=1;n<s;++n)i[n].s>m&&(m=i[n].s);var A=new Nh(m+1),y=aB(r[u-1],A,0);if(y>t){var n=0,x=0,v=y-t,b=1<<v;for(i.sort(function(U,M){return A[M.s]-A[U.s]||U.f-M.f});n<s;++n){var j=i[n].s;if(A[j]>t)x+=b-(1<<y-A[j]),A[j]=t;else break}for(x>>=v;x>0;){var E=i[n].s;A[E]<t?x-=1<<t-A[E]++-1:++n}for(;n>=0&&x;--n){var T=i[n].s;A[T]==t&&(--A[T],++x)}y=t}return{t:new Id(A),l:y}},aB=function(e,t,r){return e.s==-1?Math.max(aB(e.l,t,r+1),aB(e.r,t,r+1)):t[e.s]=r},NP=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Nh(++t),n=0,s=e[0],i=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==s&&l!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[l]}return{c:r.subarray(0,n),n:t}},a2=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},D$=function(e,t,r){var n=r.length,s=L_(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<n;++i)e[s+i+4]=r[i];return(s+4+n)*8},jP=function(e,t,r,n,s,i,o,l,c,d,u){j0(t,u++,r),++s[256];for(var h=T3(s,15),m=h.t,A=h.l,y=T3(i,15),x=y.t,v=y.l,b=NP(m),j=b.c,E=b.n,T=NP(x),P=T.c,U=T.n,M=new Nh(19),k=0;k<j.length;++k)++M[j[k]&31];for(var k=0;k<P.length;++k)++M[P[k]&31];for(var Q=T3(M,7),z=Q.t,O=Q.l,L=19;L>4&&!z[tB[L-1]];--L);var V=d+5<<3,J=a2(s,mg)+a2(i,Ab)+o,ce=a2(s,m)+a2(i,x)+o+14+3*L+a2(M,z)+2*M[16]+3*M[17]+7*M[18];if(c>=0&&V<=J&&V<=ce)return D$(t,u,e.subarray(c,c+d));var ee,de,se,he;if(j0(t,u,1+(ce<J)),u+=2,ce<J){ee=Hm(m,A,0),de=m,se=Hm(x,v,0),he=x;var fe=Hm(z,O,0);j0(t,u,E-257),j0(t,u+5,U-1),j0(t,u+10,L-4),u+=14;for(var k=0;k<L;++k)j0(t,u+3*k,z[tB[k]]);u+=3*L;for(var ve=[j,P],B=0;B<2;++B)for(var R=ve[B],k=0;k<R.length;++k){var Y=R[k]&31;j0(t,u,fe[Y]),u+=z[Y],Y>15&&(j0(t,u,R[k]>>5&127),u+=R[k]>>12)}}else ee=ehe,de=mg,se=rhe,he=Ab;for(var k=0;k<l;++k){var ie=n[k];if(ie>255){var Y=ie>>18&31;n2(t,u,ee[Y+257]),u+=de[Y+257],Y>7&&(j0(t,u,ie>>23&31),u+=Bj[Y]);var ge=ie&31;n2(t,u,se[ge]),u+=he[ge],ge>3&&(n2(t,u,ie>>5&8191),u+=Tj[ge])}else n2(t,u,ee[ie]),u+=de[ie]}return n2(t,u,ee[256]),u+de[256]},ihe=new P_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),M$=new Id(0),ohe=function(e,t,r,n,s,i){var o=i.z||e.length,l=new Id(n+o+5*(1+Math.ceil(o/7e3))+s),c=l.subarray(n,l.length-s),d=i.l,u=(i.r||0)&7;if(t){u&&(c[0]=i.r>>3);for(var h=ihe[t-1],m=h>>13,A=h&8191,y=(1<<r)-1,x=i.p||new Nh(32768),v=i.h||new Nh(y+1),b=Math.ceil(r/3),j=2*b,E=function(be){return(e[be]^e[be+1]<<b^e[be+2]<<j)&y},T=new P_(25e3),P=new Nh(288),U=new Nh(32),M=0,k=0,Q=i.i||0,z=0,O=i.w||0,L=0;Q+2<o;++Q){var V=E(Q),J=Q&32767,ce=v[V];if(x[J]=ce,v[V]=J,O<=Q){var ee=o-Q;if((M>7e3||z>24576)&&(ee>423||!d)){u=jP(e,c,0,T,P,U,k,z,L,Q-L,u),z=M=k=0,L=Q;for(var de=0;de<286;++de)P[de]=0;for(var de=0;de<30;++de)U[de]=0}var se=2,he=0,fe=A,ve=J-ce&32767;if(ee>2&&V==E(Q-ve))for(var B=Math.min(m,ee)-1,R=Math.min(32767,Q),Y=Math.min(258,ee);ve<=R&&--fe&&J!=ce;){if(e[Q+se]==e[Q+se-ve]){for(var ie=0;ie<Y&&e[Q+ie]==e[Q+ie-ve];++ie);if(ie>se){if(se=ie,he=ve,ie>B)break;for(var ge=Math.min(ve,ie-2),ye=0,de=0;de<ge;++de){var pe=Q-ve+de&32767,Z=x[pe],le=pe-Z&32767;le>ye&&(ye=le,ce=pe)}}}J=ce,ce=x[J],ve+=J-ce&32767}if(he){T[z++]=268435456|rB[se]<<18|wP[he];var te=rB[se]&31,Ne=wP[he]&31;k+=Bj[te]+Tj[Ne],++P[257+te],++U[Ne],O=Q+se,++M}else T[z++]=e[Q],++P[e[Q]]}}for(Q=Math.max(Q,O);Q<o;++Q)T[z++]=e[Q],++P[e[Q]];u=jP(e,c,d,T,P,U,k,z,L,Q-L,u),d||(i.r=u&7|c[u/8|0]<<3,u-=7,i.h=v,i.p=x,i.i=Q,i.w=O)}else{for(var Q=i.w||0;Q<o+d;Q+=65535){var Fe=Q+65535;Fe>=o&&(c[u/8|0]=d,Fe=o),u=D$(c,u+1,e.subarray(Q,Fe))}i.i=o}return O$(l,0,n+L_(u)+s)},U$=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)s+=n+=r[o];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},lhe=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Id(i.length+e.length);o.set(i),o.set(e,i.length),e=o,s.w=i.length}return ohe(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},R$=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},che=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=U$();s.p(t.dictionary),R$(e,2,s.d())}},uhe=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&QA(6,"invalid zlib data"),(e[1]>>5&1)==1&&QA(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Vv(e,t){t||(t={});var r=U$();r.p(e);var n=lhe(e,t,t.dictionary?6:2,4);return che(n,t),R$(n,n.length-4,r.d()),n}function dhe(e,t){return she(e.subarray(uhe(e),-4),{i:2},t,t)}var fhe=typeof TextDecoder<"u"&&new TextDecoder,hhe=0;try{fhe.decode(M$,{stream:!0}),hhe=1}catch{}var pa=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function _3(){pa.console&&typeof pa.console.log=="function"&&pa.console.log.apply(pa.console,arguments)}var ho={log:_3,warn:function(e){pa.console&&(typeof pa.console.warn=="function"?pa.console.warn.apply(pa.console,arguments):_3.call(null,arguments))},error:function(e){pa.console&&(typeof pa.console.error=="function"?pa.console.error.apply(pa.console,arguments):_3(e))}};function F3(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){hx(n.response,t,r)},n.onerror=function(){ho.error("could not download file")},n.send()}function SP(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function b4(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var L2,sB,hx=pa.saveAs||((typeof window>"u"?"undefined":qn(window))!=="object"||window!==pa?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=pa.URL||pa.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?SP(s.href)?F3(e,t,r):b4(s,s.target="_blank"):b4(s)):(s.href=n.createObjectURL(e),setTimeout((function(){n.revokeObjectURL(s.href)}),4e4),setTimeout((function(){b4(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(SP(e))F3(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout((function(){b4(n)}))}else navigator.msSaveOrOpenBlob((function(s,i){return i===void 0?i={autoBom:!1}:qn(i)!=="object"&&(ho.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return F3(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(pa.HTMLElement)||pa.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":qn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},l.readAsDataURL(e)}else{var c=pa.URL||pa.webkitURL,d=c.createObjectURL(e);n?n.location=d:location.href=d,n=null,setTimeout((function(){c.revokeObjectURL(d)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Q$(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,o=s.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function I3(e,t){var r=e[0],n=e[1],s=e[2],i=e[3];r=bd(r,n,s,i,t[0],7,-680876936),i=bd(i,r,n,s,t[1],12,-389564586),s=bd(s,i,r,n,t[2],17,606105819),n=bd(n,s,i,r,t[3],22,-1044525330),r=bd(r,n,s,i,t[4],7,-176418897),i=bd(i,r,n,s,t[5],12,1200080426),s=bd(s,i,r,n,t[6],17,-1473231341),n=bd(n,s,i,r,t[7],22,-45705983),r=bd(r,n,s,i,t[8],7,1770035416),i=bd(i,r,n,s,t[9],12,-1958414417),s=bd(s,i,r,n,t[10],17,-42063),n=bd(n,s,i,r,t[11],22,-1990404162),r=bd(r,n,s,i,t[12],7,1804603682),i=bd(i,r,n,s,t[13],12,-40341101),s=bd(s,i,r,n,t[14],17,-1502002290),r=wd(r,n=bd(n,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=wd(i,r,n,s,t[6],9,-1069501632),s=wd(s,i,r,n,t[11],14,643717713),n=wd(n,s,i,r,t[0],20,-373897302),r=wd(r,n,s,i,t[5],5,-701558691),i=wd(i,r,n,s,t[10],9,38016083),s=wd(s,i,r,n,t[15],14,-660478335),n=wd(n,s,i,r,t[4],20,-405537848),r=wd(r,n,s,i,t[9],5,568446438),i=wd(i,r,n,s,t[14],9,-1019803690),s=wd(s,i,r,n,t[3],14,-187363961),n=wd(n,s,i,r,t[8],20,1163531501),r=wd(r,n,s,i,t[13],5,-1444681467),i=wd(i,r,n,s,t[2],9,-51403784),s=wd(s,i,r,n,t[7],14,1735328473),r=Nd(r,n=wd(n,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=Nd(i,r,n,s,t[8],11,-2022574463),s=Nd(s,i,r,n,t[11],16,1839030562),n=Nd(n,s,i,r,t[14],23,-35309556),r=Nd(r,n,s,i,t[1],4,-1530992060),i=Nd(i,r,n,s,t[4],11,1272893353),s=Nd(s,i,r,n,t[7],16,-155497632),n=Nd(n,s,i,r,t[10],23,-1094730640),r=Nd(r,n,s,i,t[13],4,681279174),i=Nd(i,r,n,s,t[0],11,-358537222),s=Nd(s,i,r,n,t[3],16,-722521979),n=Nd(n,s,i,r,t[6],23,76029189),r=Nd(r,n,s,i,t[9],4,-640364487),i=Nd(i,r,n,s,t[12],11,-421815835),s=Nd(s,i,r,n,t[15],16,530742520),r=jd(r,n=Nd(n,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=jd(i,r,n,s,t[7],10,1126891415),s=jd(s,i,r,n,t[14],15,-1416354905),n=jd(n,s,i,r,t[5],21,-57434055),r=jd(r,n,s,i,t[12],6,1700485571),i=jd(i,r,n,s,t[3],10,-1894986606),s=jd(s,i,r,n,t[10],15,-1051523),n=jd(n,s,i,r,t[1],21,-2054922799),r=jd(r,n,s,i,t[8],6,1873313359),i=jd(i,r,n,s,t[15],10,-30611744),s=jd(s,i,r,n,t[6],15,-1560198380),n=jd(n,s,i,r,t[13],21,1309151649),r=jd(r,n,s,i,t[4],6,-145523070),i=jd(i,r,n,s,t[11],10,-1120210379),s=jd(s,i,r,n,t[2],15,718787259),n=jd(n,s,i,r,t[9],21,-343485551),e[0]=ag(r,e[0]),e[1]=ag(n,e[1]),e[2]=ag(s,e[2]),e[3]=ag(i,e[3])}function _j(e,t,r,n,s,i){return t=ag(ag(t,e),ag(n,i)),ag(t<<s|t>>>32-s,r)}function bd(e,t,r,n,s,i,o){return _j(t&r|~t&n,e,t,s,i,o)}function wd(e,t,r,n,s,i,o){return _j(t&n|r&~n,e,t,s,i,o)}function Nd(e,t,r,n,s,i,o){return _j(t^r^n,e,t,s,i,o)}function jd(e,t,r,n,s,i,o){return _j(r^(t|~n),e,t,s,i,o)}function H$(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)I3(n,Ahe(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(I3(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,I3(n,s),n}function Ahe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}L2=pa.atob.bind(pa),sB=pa.btoa.bind(pa);var CP="0123456789abcdef".split("");function mhe(e){for(var t="",r=0;r<4;r++)t+=CP[e>>8*r+4&15]+CP[e>>8*r&15];return t}function phe(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function iB(e){return H$(e).map(phe).join("")}var ghe=(function(e){for(var t=0;t<e.length;t++)e[t]=mhe(e[t]);return e.join("")})(H$("hello"))!="5d41402abc4b2a76b9719d911017c592";function ag(e,t){if(ghe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function oB(e,t){var r,n,s,i;if(e!==r){for(var o=(s=e,i=1+(256/e.length>>0),new Array(i+1).join(s)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+o.charCodeAt(c))%256,l[c]=l[d],l[d]=u}r=e,n=l}else l=n;var h=t.length,m=0,A=0,y="";for(c=0;c<h;c++)A=(A+(u=l[m=(m+1)%256]))%256,l[m]=l[A],l[A]=u,o=l[(l[m]+l[A])%256],y+=String.fromCharCode(t.charCodeAt(c)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var EP={print:4,modify:8,copy:16,"annot-forms":32};function uv(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach((function(l){if(EP.perm!==void 0)throw new Error("Invalid permission: "+l);s+=EP[l]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=iB(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=oB(this.encryptionKey,this.padding)}function dv(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=e[n]}return t}function BP(e){if(qn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(l){pa.console&&ho.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function aN(e){if(!(this instanceof aN))return new aN(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function $$(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function yx(e,t,r,n,s){if(!(this instanceof yx))return new yx(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,$$.call(this,n,s)}function mv(e,t,r,n,s){if(!(this instanceof mv))return new mv(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,$$.call(this,n,s)}function Wn(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],o=[],l=1,c=16,d="S",u=null;qn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,m={},A={internal:{},__private__:{}};A.__private__.PubSub=BP;var y="1.3",x=A.__private__.getPdfVersion=function(){return y};A.__private__.setPdfVersion=function(ae){y=ae};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};A.__private__.getPageFormats=function(){return v};var b=A.__private__.getPageFormat=function(ae){return v[ae]};s=s||"a4";var j={COMPAT:"compat",ADVANCED:"advanced"},E=j.COMPAT;function T(){this.saveGraphicsState(),Ce(new Vr(je,0,0,-je,0,ts()*je).toString()+" cm"),this.setFontSize(this.getFontSize()/je),d="n",E=j.ADVANCED}function P(){this.restoreGraphicsState(),d="S",E=j.COMPAT}var U=A.__private__.combineFontStyleAndFontWeight=function(ae,qe){if(ae=="bold"&&qe=="normal"||ae=="bold"&&qe==400||ae=="normal"&&qe=="italic"||ae=="bold"&&qe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return qe&&(ae=qe==400||qe==="normal"?ae==="italic"?"italic":"normal":qe!=700&&qe!=="bold"||ae!=="normal"?(qe==700?"bold":qe)+""+ae:"bold"),ae};A.advancedAPI=function(ae){var qe=E===j.COMPAT;return qe&&T.call(this),typeof ae!="function"||(ae(this),qe&&P.call(this)),this},A.compatAPI=function(ae){var qe=E===j.ADVANCED;return qe&&P.call(this),typeof ae!="function"||(ae(this),qe&&T.call(this)),this},A.isAdvancedAPI=function(){return E===j.ADVANCED};var M,k=function(ae){if(E!==j.ADVANCED)throw new Error(ae+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Q=A.roundToPrecision=A.__private__.roundToPrecision=function(ae,qe){var Bt=t||qe;if(isNaN(ae)||isNaN(Bt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return ae.toFixed(Bt).replace(/0+$/,"")};M=A.hpf=A.__private__.hpf=typeof c=="number"?function(ae){if(isNaN(ae))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(ae,c)}:c==="smart"?function(ae){if(isNaN(ae))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(ae,ae>-1&&ae<1?16:5)}:function(ae){if(isNaN(ae))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(ae,16)};var z=A.f2=A.__private__.f2=function(ae){if(isNaN(ae))throw new Error("Invalid argument passed to jsPDF.f2");return Q(ae,2)},O=A.__private__.f3=function(ae){if(isNaN(ae))throw new Error("Invalid argument passed to jsPDF.f3");return Q(ae,3)},L=A.scale=A.__private__.scale=function(ae){if(isNaN(ae))throw new Error("Invalid argument passed to jsPDF.scale");return E===j.COMPAT?ae*je:E===j.ADVANCED?ae:void 0},V=function(ae){return E===j.COMPAT?ts()-ae:E===j.ADVANCED?ae:void 0},J=function(ae){return L(V(ae))};A.__private__.setPrecision=A.setPrecision=function(ae){typeof parseInt(ae,10)=="number"&&(t=parseInt(ae,10))};var ce,ee="00000000000000000000000000000000",de=A.__private__.getFileId=function(){return ee},se=A.__private__.setFileId=function(ae){return ee=ae!==void 0&&/^[a-fA-F0-9]{32}$/.test(ae)?ae.toUpperCase():ee.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),u!==null&&(Ki=new uv(u.userPermissions,u.userPassword,u.ownerPassword,ee)),ee};A.setFileId=function(ae){return se(ae),this},A.getFileId=function(){return de()};var he=A.__private__.convertDateToPDFDate=function(ae){var qe=ae.getTimezoneOffset(),Bt=qe<0?"+":"-",Ot=Math.floor(Math.abs(qe/60)),Gt=Math.abs(qe%60),hr=[Bt,Y(Ot),"'",Y(Gt),"'"].join("");return["D:",ae.getFullYear(),Y(ae.getMonth()+1),Y(ae.getDate()),Y(ae.getHours()),Y(ae.getMinutes()),Y(ae.getSeconds()),hr].join("")},fe=A.__private__.convertPDFDateToDate=function(ae){var qe=parseInt(ae.substr(2,4),10),Bt=parseInt(ae.substr(6,2),10)-1,Ot=parseInt(ae.substr(8,2),10),Gt=parseInt(ae.substr(10,2),10),hr=parseInt(ae.substr(12,2),10),Br=parseInt(ae.substr(14,2),10);return new Date(qe,Bt,Ot,Gt,hr,Br,0)},ve=A.__private__.setCreationDate=function(ae){var qe;if(ae===void 0&&(ae=new Date),ae instanceof Date)qe=he(ae);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(ae))throw new Error("Invalid argument passed to jsPDF.setCreationDate");qe=ae}return ce=qe},B=A.__private__.getCreationDate=function(ae){var qe=ce;return ae==="jsDate"&&(qe=fe(ce)),qe};A.setCreationDate=function(ae){return ve(ae),this},A.getCreationDate=function(ae){return B(ae)};var R,Y=A.__private__.padd2=function(ae){return("0"+parseInt(ae)).slice(-2)},ie=A.__private__.padd2Hex=function(ae){return("00"+(ae=ae.toString())).substr(ae.length)},ge=0,ye=[],pe=[],Z=0,le=[],te=[],Ne=!1,Fe=pe,be=function(){ge=0,Z=0,pe=[],ye=[],le=[],ft=fr(),mt=fr()};A.__private__.setCustomOutputDestination=function(ae){Ne=!0,Fe=ae};var re=function(ae){Ne||(Fe=ae)};A.__private__.resetCustomOutputDestination=function(){Ne=!1,Fe=pe};var Ce=A.__private__.out=function(ae){return ae=ae.toString(),Z+=ae.length+1,Fe.push(ae),Fe},st=A.__private__.write=function(ae){return Ce(arguments.length===1?ae.toString():Array.prototype.join.call(arguments," "))},et=A.__private__.getArrayBuffer=function(ae){for(var qe=ae.length,Bt=new ArrayBuffer(qe),Ot=new Uint8Array(Bt);qe--;)Ot[qe]=ae.charCodeAt(qe);return Bt},He=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];A.__private__.getStandardFonts=function(){return He};var ct=e.fontSize||16;A.__private__.setFontSize=A.setFontSize=function(ae){return ct=E===j.ADVANCED?ae/je:ae,this};var _e,ke=A.__private__.getFontSize=A.getFontSize=function(){return E===j.COMPAT?ct:ct*je},Ze=e.R2L||!1;A.__private__.setR2L=A.setR2L=function(ae){return Ze=ae,this},A.__private__.getR2L=A.getR2L=function(){return Ze};var Pe,ot=A.__private__.setZoomMode=function(ae){var qe=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(ae))_e=ae;else if(isNaN(ae)){if(qe.indexOf(ae)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+ae+'" is not recognized.');_e=ae}else _e=parseInt(ae,10)};A.__private__.getZoomMode=function(){return _e};var Ge,lt=A.__private__.setPageMode=function(ae){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(ae)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+ae+'" is not recognized.');Pe=ae};A.__private__.getPageMode=function(){return Pe};var Je=A.__private__.setLayoutMode=function(ae){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(ae)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+ae+'" is not recognized.');Ge=ae};A.__private__.getLayoutMode=function(){return Ge},A.__private__.setDisplayMode=A.setDisplayMode=function(ae,qe,Bt){return ot(ae),Je(qe),lt(Bt),this};var Me={title:"",subject:"",author:"",keywords:"",creator:""};A.__private__.getDocumentProperty=function(ae){if(Object.keys(Me).indexOf(ae)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Me[ae]},A.__private__.getDocumentProperties=function(){return Me},A.__private__.setDocumentProperties=A.setProperties=A.setDocumentProperties=function(ae){for(var qe in Me)Me.hasOwnProperty(qe)&&ae[qe]&&(Me[qe]=ae[qe]);return this},A.__private__.setDocumentProperty=function(ae,qe){if(Object.keys(Me).indexOf(ae)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Me[ae]=qe};var Te,je,Ke,Le,rt,Oe={},De={},ut=[],_t={},qt={},Ft={},gt={},Zt=null,$t=0,rr=[],kr=new BP(A),Qr=e.hotfixes||[],dn={},ja={},rn=[],Vr=function ae(qe,Bt,Ot,Gt,hr,Br){if(!(this instanceof ae))return new ae(qe,Bt,Ot,Gt,hr,Br);isNaN(qe)&&(qe=1),isNaN(Bt)&&(Bt=0),isNaN(Ot)&&(Ot=0),isNaN(Gt)&&(Gt=1),isNaN(hr)&&(hr=0),isNaN(Br)&&(Br=0),this._matrix=[qe,Bt,Ot,Gt,hr,Br]};Object.defineProperty(Vr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(ae){this._matrix[0]=ae}}),Object.defineProperty(Vr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(ae){this._matrix[1]=ae}}),Object.defineProperty(Vr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(ae){this._matrix[2]=ae}}),Object.defineProperty(Vr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(ae){this._matrix[3]=ae}}),Object.defineProperty(Vr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(ae){this._matrix[4]=ae}}),Object.defineProperty(Vr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(ae){this._matrix[5]=ae}}),Object.defineProperty(Vr.prototype,"a",{get:function(){return this._matrix[0]},set:function(ae){this._matrix[0]=ae}}),Object.defineProperty(Vr.prototype,"b",{get:function(){return this._matrix[1]},set:function(ae){this._matrix[1]=ae}}),Object.defineProperty(Vr.prototype,"c",{get:function(){return this._matrix[2]},set:function(ae){this._matrix[2]=ae}}),Object.defineProperty(Vr.prototype,"d",{get:function(){return this._matrix[3]},set:function(ae){this._matrix[3]=ae}}),Object.defineProperty(Vr.prototype,"e",{get:function(){return this._matrix[4]},set:function(ae){this._matrix[4]=ae}}),Object.defineProperty(Vr.prototype,"f",{get:function(){return this._matrix[5]},set:function(ae){this._matrix[5]=ae}}),Object.defineProperty(Vr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Vr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Vr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Vr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Vr.prototype.join=function(ae){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(ae)},Vr.prototype.multiply=function(ae){var qe=ae.sx*this.sx+ae.shy*this.shx,Bt=ae.sx*this.shy+ae.shy*this.sy,Ot=ae.shx*this.sx+ae.sy*this.shx,Gt=ae.shx*this.shy+ae.sy*this.sy,hr=ae.tx*this.sx+ae.ty*this.shx+this.tx,Br=ae.tx*this.shy+ae.ty*this.sy+this.ty;return new Vr(qe,Bt,Ot,Gt,hr,Br)},Vr.prototype.decompose=function(){var ae=this.sx,qe=this.shy,Bt=this.shx,Ot=this.sy,Gt=this.tx,hr=this.ty,Br=Math.sqrt(ae*ae+qe*qe),Xr=(ae/=Br)*Bt+(qe/=Br)*Ot;Bt-=ae*Xr,Ot-=qe*Xr;var An=Math.sqrt(Bt*Bt+Ot*Ot);return Xr/=An,ae*(Ot/=An)<qe*(Bt/=An)&&(ae=-ae,qe=-qe,Xr=-Xr,Br=-Br),{scale:new Vr(Br,0,0,An,0,0),translate:new Vr(1,0,0,1,Gt,hr),rotate:new Vr(ae,qe,-qe,ae,0,0),skew:new Vr(1,0,Xr,1,0,0)}},Vr.prototype.toString=function(ae){return this.join(" ")},Vr.prototype.inversed=function(){var ae=this.sx,qe=this.shy,Bt=this.shx,Ot=this.sy,Gt=this.tx,hr=this.ty,Br=1/(ae*Ot-qe*Bt),Xr=Ot*Br,An=-qe*Br,Pn=-Bt*Br,_n=ae*Br;return new Vr(Xr,An,Pn,_n,-Xr*Gt-Pn*hr,-An*Gt-_n*hr)},Vr.prototype.applyToPoint=function(ae){var qe=ae.x*this.sx+ae.y*this.shx+this.tx,Bt=ae.x*this.shy+ae.y*this.sy+this.ty;return new Vt(qe,Bt)},Vr.prototype.applyToRectangle=function(ae){var qe=this.applyToPoint(ae),Bt=this.applyToPoint(new Vt(ae.x+ae.w,ae.y+ae.h));return new wr(qe.x,qe.y,Bt.x-qe.x,Bt.y-qe.y)},Vr.prototype.clone=function(){var ae=this.sx,qe=this.shy,Bt=this.shx,Ot=this.sy,Gt=this.tx,hr=this.ty;return new Vr(ae,qe,Bt,Ot,Gt,hr)},A.Matrix=Vr;var On=A.matrixMult=function(ae,qe){return qe.multiply(ae)},Gn=new Vr(1,0,0,1,0,0);A.unitMatrix=A.identityMatrix=Gn;var Dn=function(ae,qe){if(!qt[ae]){var Bt=(qe instanceof yx?"Sh":"P")+(Object.keys(_t).length+1).toString(10);qe.id=Bt,qt[ae]=Bt,_t[Bt]=qe,kr.publish("addPattern",qe)}};A.ShadingPattern=yx,A.TilingPattern=mv,A.addShadingPattern=function(ae,qe){return k("addShadingPattern()"),Dn(ae,qe),this},A.beginTilingPattern=function(ae){k("beginTilingPattern()"),tn(ae.boundingBox[0],ae.boundingBox[1],ae.boundingBox[2]-ae.boundingBox[0],ae.boundingBox[3]-ae.boundingBox[1],ae.matrix)},A.endTilingPattern=function(ae,qe){k("endTilingPattern()"),qe.stream=te[R].join(`
`),Dn(ae,qe),kr.publish("endTilingPattern",qe),rn.pop().restore()};var Ct=A.__private__.newObject=function(){var ae=fr();return $e(ae,!0),ae},fr=A.__private__.newObjectDeferred=function(){return ge++,ye[ge]=function(){return Z},ge},$e=function(ae,qe){return qe=typeof qe=="boolean"&&qe,ye[ae]=Z,qe&&Ce(ae+" 0 obj"),ae},pt=A.__private__.newAdditionalObject=function(){var ae={objId:fr(),content:""};return le.push(ae),ae},ft=fr(),mt=fr(),Re=A.__private__.decodeColorString=function(ae){var qe=ae.split(" ");if(qe.length!==2||qe[1]!=="g"&&qe[1]!=="G")qe.length===5&&(qe[4]==="k"||qe[4]==="K")&&(qe=[(1-qe[0])*(1-qe[3]),(1-qe[1])*(1-qe[3]),(1-qe[2])*(1-qe[3]),"r"]);else{var Bt=parseFloat(qe[0]);qe=[Bt,Bt,Bt,"r"]}for(var Ot="#",Gt=0;Gt<3;Gt++)Ot+=("0"+Math.floor(255*parseFloat(qe[Gt])).toString(16)).slice(-2);return Ot},Ee=A.__private__.encodeColorString=function(ae){var qe;typeof ae=="string"&&(ae={ch1:ae});var Bt=ae.ch1,Ot=ae.ch2,Gt=ae.ch3,hr=ae.ch4,Br=ae.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Bt=="string"&&Bt.charAt(0)!=="#"){var Xr=new Q$(Bt);if(Xr.ok)Bt=Xr.toHex();else if(!/^\d*\.?\d*$/.test(Bt))throw new Error('Invalid color "'+Bt+'" passed to jsPDF.encodeColorString.')}if(typeof Bt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Bt)&&(Bt="#"+Bt[1]+Bt[1]+Bt[2]+Bt[2]+Bt[3]+Bt[3]),typeof Bt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Bt)){var An=parseInt(Bt.substr(1),16);Bt=An>>16&255,Ot=An>>8&255,Gt=255&An}if(Ot===void 0||hr===void 0&&Bt===Ot&&Ot===Gt)if(typeof Bt=="string")qe=Bt+" "+Br[0];else switch(ae.precision){case 2:qe=z(Bt/255)+" "+Br[0];break;case 3:default:qe=O(Bt/255)+" "+Br[0]}else if(hr===void 0||qn(hr)==="object"){if(hr&&!isNaN(hr.a)&&hr.a===0)return qe=["1.","1.","1.",Br[1]].join(" ");if(typeof Bt=="string")qe=[Bt,Ot,Gt,Br[1]].join(" ");else switch(ae.precision){case 2:qe=[z(Bt/255),z(Ot/255),z(Gt/255),Br[1]].join(" ");break;default:case 3:qe=[O(Bt/255),O(Ot/255),O(Gt/255),Br[1]].join(" ")}}else if(typeof Bt=="string")qe=[Bt,Ot,Gt,hr,Br[2]].join(" ");else switch(ae.precision){case 2:qe=[z(Bt),z(Ot),z(Gt),z(hr),Br[2]].join(" ");break;case 3:default:qe=[O(Bt),O(Ot),O(Gt),O(hr),Br[2]].join(" ")}return qe},ht=A.__private__.getFilters=function(){return o},nt=A.__private__.putStream=function(ae){var qe=(ae=ae||{}).data||"",Bt=ae.filters||ht(),Ot=ae.alreadyAppliedFilters||[],Gt=ae.addLength1||!1,hr=qe.length,Br=ae.objectId,Xr=function(As){return As};if(u!==null&&Br===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Xr=Ki.encryptor(Br,0));var An={};Bt===!0&&(Bt=["FlateEncode"]);var Pn=ae.additionalKeyValues||[],_n=(An=Wn.API.processDataByFilters!==void 0?Wn.API.processDataByFilters(qe,Bt):{data:qe,reverseChain:[]}).reverseChain+(Array.isArray(Ot)?Ot.join(" "):Ot.toString());if(An.data.length!==0&&(Pn.push({key:"Length",value:An.data.length}),Gt===!0&&Pn.push({key:"Length1",value:hr})),_n.length!=0)if(_n.split("/").length-1==1)Pn.push({key:"Filter",value:_n});else{Pn.push({key:"Filter",value:"["+_n+"]"});for(var na=0;na<Pn.length;na+=1)if(Pn[na].key==="DecodeParms"){for(var Ha=[],oa=0;oa<An.reverseChain.split("/").length-1;oa+=1)Ha.push("null");Ha.push(Pn[na].value),Pn[na].value="["+Ha.join(" ")+"]"}}Ce("<<");for(var En=0;En<Pn.length;En++)Ce("/"+Pn[En].key+" "+Pn[En].value);Ce(">>"),An.data.length!==0&&(Ce("stream"),Ce(Xr(An.data)),Ce("endstream"))},Et=A.__private__.putPage=function(ae){var qe=ae.number,Bt=ae.data,Ot=ae.objId,Gt=ae.contentsObjId;$e(Ot,!0),Ce("<</Type /Page"),Ce("/Parent "+ae.rootDictionaryObjId+" 0 R"),Ce("/Resources "+ae.resourceDictionaryObjId+" 0 R"),Ce("/MediaBox ["+parseFloat(M(ae.mediaBox.bottomLeftX))+" "+parseFloat(M(ae.mediaBox.bottomLeftY))+" "+M(ae.mediaBox.topRightX)+" "+M(ae.mediaBox.topRightY)+"]"),ae.cropBox!==null&&Ce("/CropBox ["+M(ae.cropBox.bottomLeftX)+" "+M(ae.cropBox.bottomLeftY)+" "+M(ae.cropBox.topRightX)+" "+M(ae.cropBox.topRightY)+"]"),ae.bleedBox!==null&&Ce("/BleedBox ["+M(ae.bleedBox.bottomLeftX)+" "+M(ae.bleedBox.bottomLeftY)+" "+M(ae.bleedBox.topRightX)+" "+M(ae.bleedBox.topRightY)+"]"),ae.trimBox!==null&&Ce("/TrimBox ["+M(ae.trimBox.bottomLeftX)+" "+M(ae.trimBox.bottomLeftY)+" "+M(ae.trimBox.topRightX)+" "+M(ae.trimBox.topRightY)+"]"),ae.artBox!==null&&Ce("/ArtBox ["+M(ae.artBox.bottomLeftX)+" "+M(ae.artBox.bottomLeftY)+" "+M(ae.artBox.topRightX)+" "+M(ae.artBox.topRightY)+"]"),typeof ae.userUnit=="number"&&ae.userUnit!==1&&Ce("/UserUnit "+ae.userUnit),kr.publish("putPage",{objId:Ot,pageContext:rr[qe],pageNumber:qe,page:Bt}),Ce("/Contents "+Gt+" 0 R"),Ce(">>"),Ce("endobj");var hr=Bt.join(`
`);return E===j.ADVANCED&&(hr+=`
Q`),$e(Gt,!0),nt({data:hr,filters:ht(),objectId:Gt}),Ce("endobj"),Ot},Qe=A.__private__.putPages=function(){var ae,qe,Bt=[];for(ae=1;ae<=$t;ae++)rr[ae].objId=fr(),rr[ae].contentsObjId=fr();for(ae=1;ae<=$t;ae++)Bt.push(Et({number:ae,data:te[ae],objId:rr[ae].objId,contentsObjId:rr[ae].contentsObjId,mediaBox:rr[ae].mediaBox,cropBox:rr[ae].cropBox,bleedBox:rr[ae].bleedBox,trimBox:rr[ae].trimBox,artBox:rr[ae].artBox,userUnit:rr[ae].userUnit,rootDictionaryObjId:ft,resourceDictionaryObjId:mt}));$e(ft,!0),Ce("<</Type /Pages");var Ot="/Kids [";for(qe=0;qe<$t;qe++)Ot+=Bt[qe]+" 0 R ";Ce(Ot+"]"),Ce("/Count "+$t),Ce(">>"),Ce("endobj"),kr.publish("postPutPages")},bt=function(ae){kr.publish("putFont",{font:ae,out:Ce,newObject:Ct,putStream:nt}),ae.isAlreadyPutted!==!0&&(ae.objectNumber=Ct(),Ce("<<"),Ce("/Type /Font"),Ce("/BaseFont /"+dv(ae.postScriptName)),Ce("/Subtype /Type1"),typeof ae.encoding=="string"&&Ce("/Encoding /"+ae.encoding),Ce("/FirstChar 32"),Ce("/LastChar 255"),Ce(">>"),Ce("endobj"))},It=function(){for(var ae in Oe)Oe.hasOwnProperty(ae)&&(h===!1||h===!0&&m.hasOwnProperty(ae))&&bt(Oe[ae])},nr=function(ae){ae.objectNumber=Ct();var qe=[];qe.push({key:"Type",value:"/XObject"}),qe.push({key:"Subtype",value:"/Form"}),qe.push({key:"BBox",value:"["+[M(ae.x),M(ae.y),M(ae.x+ae.width),M(ae.y+ae.height)].join(" ")+"]"}),qe.push({key:"Matrix",value:"["+ae.matrix.toString()+"]"});var Bt=ae.pages[1].join(`
`);nt({data:Bt,additionalKeyValues:qe,objectId:ae.objectNumber}),Ce("endobj")},tr=function(){for(var ae in dn)dn.hasOwnProperty(ae)&&nr(dn[ae])},vr=function(ae,qe){var Bt,Ot=[],Gt=1/(qe-1);for(Bt=0;Bt<1;Bt+=Gt)Ot.push(Bt);if(Ot.push(1),ae[0].offset!=0){var hr={offset:0,color:ae[0].color};ae.unshift(hr)}if(ae[ae.length-1].offset!=1){var Br={offset:1,color:ae[ae.length-1].color};ae.push(Br)}for(var Xr="",An=0,Pn=0;Pn<Ot.length;Pn++){for(Bt=Ot[Pn];Bt>ae[An+1].offset;)An++;var _n=ae[An].offset,na=(Bt-_n)/(ae[An+1].offset-_n),Ha=ae[An].color,oa=ae[An+1].color;Xr+=ie(Math.round((1-na)*Ha[0]+na*oa[0]).toString(16))+ie(Math.round((1-na)*Ha[1]+na*oa[1]).toString(16))+ie(Math.round((1-na)*Ha[2]+na*oa[2]).toString(16))}return Xr.trim()},yr=function(ae,qe){qe||(qe=21);var Bt=Ct(),Ot=vr(ae.colors,qe),Gt=[];Gt.push({key:"FunctionType",value:"0"}),Gt.push({key:"Domain",value:"[0.0 1.0]"}),Gt.push({key:"Size",value:"["+qe+"]"}),Gt.push({key:"BitsPerSample",value:"8"}),Gt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Gt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),nt({data:Ot,additionalKeyValues:Gt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Bt}),Ce("endobj"),ae.objectNumber=Ct(),Ce("<< /ShadingType "+ae.type),Ce("/ColorSpace /DeviceRGB");var hr="/Coords ["+M(parseFloat(ae.coords[0]))+" "+M(parseFloat(ae.coords[1]))+" ";ae.type===2?hr+=M(parseFloat(ae.coords[2]))+" "+M(parseFloat(ae.coords[3])):hr+=M(parseFloat(ae.coords[2]))+" "+M(parseFloat(ae.coords[3]))+" "+M(parseFloat(ae.coords[4]))+" "+M(parseFloat(ae.coords[5])),Ce(hr+="]"),ae.matrix&&Ce("/Matrix ["+ae.matrix.toString()+"]"),Ce("/Function "+Bt+" 0 R"),Ce("/Extend [true true]"),Ce(">>"),Ce("endobj")},Yr=function(ae,qe){var Bt=fr(),Ot=Ct();qe.push({resourcesOid:Bt,objectOid:Ot}),ae.objectNumber=Ot;var Gt=[];Gt.push({key:"Type",value:"/Pattern"}),Gt.push({key:"PatternType",value:"1"}),Gt.push({key:"PaintType",value:"1"}),Gt.push({key:"TilingType",value:"1"}),Gt.push({key:"BBox",value:"["+ae.boundingBox.map(M).join(" ")+"]"}),Gt.push({key:"XStep",value:M(ae.xStep)}),Gt.push({key:"YStep",value:M(ae.yStep)}),Gt.push({key:"Resources",value:Bt+" 0 R"}),ae.matrix&&Gt.push({key:"Matrix",value:"["+ae.matrix.toString()+"]"}),nt({data:ae.stream,additionalKeyValues:Gt,objectId:ae.objectNumber}),Ce("endobj")},zn=function(ae){var qe;for(qe in _t)_t.hasOwnProperty(qe)&&(_t[qe]instanceof yx?yr(_t[qe]):_t[qe]instanceof mv&&Yr(_t[qe],ae))},Hn=function(ae){for(var qe in ae.objectNumber=Ct(),Ce("<<"),ae)switch(qe){case"opacity":Ce("/ca "+z(ae[qe]));break;case"stroke-opacity":Ce("/CA "+z(ae[qe]))}Ce(">>"),Ce("endobj")},xa=function(){var ae;for(ae in Ft)Ft.hasOwnProperty(ae)&&Hn(Ft[ae])},Ai=function(){for(var ae in Ce("/XObject <<"),dn)dn.hasOwnProperty(ae)&&dn[ae].objectNumber>=0&&Ce("/"+ae+" "+dn[ae].objectNumber+" 0 R");kr.publish("putXobjectDict"),Ce(">>")},Ya=function(){Ki.oid=Ct(),Ce("<<"),Ce("/Filter /Standard"),Ce("/V "+Ki.v),Ce("/R "+Ki.r),Ce("/U <"+Ki.toHexString(Ki.U)+">"),Ce("/O <"+Ki.toHexString(Ki.O)+">"),Ce("/P "+Ki.P),Ce(">>"),Ce("endobj")},mi=function(){for(var ae in Ce("/Font <<"),Oe)Oe.hasOwnProperty(ae)&&(h===!1||h===!0&&m.hasOwnProperty(ae))&&Ce("/"+ae+" "+Oe[ae].objectNumber+" 0 R");Ce(">>")},Ro=function(){if(Object.keys(_t).length>0){for(var ae in Ce("/Shading <<"),_t)_t.hasOwnProperty(ae)&&_t[ae]instanceof yx&&_t[ae].objectNumber>=0&&Ce("/"+ae+" "+_t[ae].objectNumber+" 0 R");kr.publish("putShadingPatternDict"),Ce(">>")}},po=function(ae){if(Object.keys(_t).length>0){for(var qe in Ce("/Pattern <<"),_t)_t.hasOwnProperty(qe)&&_t[qe]instanceof A.TilingPattern&&_t[qe].objectNumber>=0&&_t[qe].objectNumber<ae&&Ce("/"+qe+" "+_t[qe].objectNumber+" 0 R");kr.publish("putTilingPatternDict"),Ce(">>")}},pi=function(){if(Object.keys(Ft).length>0){var ae;for(ae in Ce("/ExtGState <<"),Ft)Ft.hasOwnProperty(ae)&&Ft[ae].objectNumber>=0&&Ce("/"+ae+" "+Ft[ae].objectNumber+" 0 R");kr.publish("putGStateDict"),Ce(">>")}},Qs=function(ae){$e(ae.resourcesOid,!0),Ce("<<"),Ce("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),mi(),Ro(),po(ae.objectOid),pi(),Ai(),Ce(">>"),Ce("endobj")},Qa=function(){var ae=[];It(),xa(),tr(),zn(ae),kr.publish("putResources"),ae.forEach(Qs),Qs({resourcesOid:mt,objectOid:Number.MAX_SAFE_INTEGER}),kr.publish("postPutResources")},Pu=function(){kr.publish("putAdditionalObjects");for(var ae=0;ae<le.length;ae++){var qe=le[ae];$e(qe.objId,!0),Ce(qe.content),Ce("endobj")}kr.publish("postPutAdditionalObjects")},Ac=function(ae){De[ae.fontName]=De[ae.fontName]||{},De[ae.fontName][ae.fontStyle]=ae.id},ao=function(ae,qe,Bt,Ot,Gt){var hr={id:"F"+(Object.keys(Oe).length+1).toString(10),postScriptName:ae,fontName:qe,fontStyle:Bt,encoding:Ot,isStandardFont:Gt||!1,metadata:{}};return kr.publish("addFont",{font:hr,instance:this}),Oe[hr.id]=hr,Ac(hr),hr.id},nl=function(ae){for(var qe=0,Bt=He.length;qe<Bt;qe++){var Ot=ao.call(this,ae[qe][0],ae[qe][1],ae[qe][2],He[qe][3],!0);h===!1&&(m[Ot]=!0);var Gt=ae[qe][0].split("-");Ac({id:Ot,fontName:Gt[0],fontStyle:Gt[1]||""})}kr.publish("addFonts",{fonts:Oe,dictionary:De})},bs=function(ae){return ae.foo=function(){try{return ae.apply(this,arguments)}catch(Ot){var qe=Ot.stack||"";~qe.indexOf(" at ")&&(qe=qe.split(" at ")[1]);var Bt="Error in function "+qe.split(`
`)[0].split("<")[0]+": "+Ot.message;if(!pa.console)throw new Error(Bt);pa.console.error(Bt,Ot),pa.alert&&alert(Bt)}},ae.foo.bar=ae,ae.foo},Is=function(ae,qe){var Bt,Ot,Gt,hr,Br,Xr,An,Pn,_n;if(Gt=(qe=qe||{}).sourceEncoding||"Unicode",Br=qe.outputEncoding,(qe.autoencode||Br)&&Oe[Te].metadata&&Oe[Te].metadata[Gt]&&Oe[Te].metadata[Gt].encoding&&(hr=Oe[Te].metadata[Gt].encoding,!Br&&Oe[Te].encoding&&(Br=Oe[Te].encoding),!Br&&hr.codePages&&(Br=hr.codePages[0]),typeof Br=="string"&&(Br=hr[Br]),Br)){for(An=!1,Xr=[],Bt=0,Ot=ae.length;Bt<Ot;Bt++)(Pn=Br[ae.charCodeAt(Bt)])?Xr.push(String.fromCharCode(Pn)):Xr.push(ae[Bt]),Xr[Bt].charCodeAt(0)>>8&&(An=!0);ae=Xr.join("")}for(Bt=ae.length;An===void 0&&Bt!==0;)ae.charCodeAt(Bt-1)>>8&&(An=!0),Bt--;if(!An)return ae;for(Xr=qe.noBOM?[]:[254,255],Bt=0,Ot=ae.length;Bt<Ot;Bt++){if((_n=(Pn=ae.charCodeAt(Bt))>>8)>>8)throw new Error("Character at position "+Bt+" of string '"+ae+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Xr.push(_n),Xr.push(Pn-(_n<<8))}return String.fromCharCode.apply(void 0,Xr)},Zn=A.__private__.pdfEscape=A.pdfEscape=function(ae,qe){return Is(ae,qe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},mc=A.__private__.beginPage=function(ae){te[++$t]=[],rr[$t]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(ae[0]),topRightY:Number(ae[1])}},Rc($t),re(te[R])},sd=function(ae,qe){var Bt,Ot,Gt;switch(r=qe||r,typeof ae=="string"&&(Bt=b(ae.toLowerCase()),Array.isArray(Bt)&&(Ot=Bt[0],Gt=Bt[1])),Array.isArray(ae)&&(Ot=ae[0]*je,Gt=ae[1]*je),isNaN(Ot)&&(Ot=s[0],Gt=s[1]),(Ot>14400||Gt>14400)&&(ho.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ot=Math.min(14400,Ot),Gt=Math.min(14400,Gt)),s=[Ot,Gt],r.substr(0,1)){case"l":Gt>Ot&&(s=[Gt,Ot]);break;case"p":Ot>Gt&&(s=[Gt,Ot])}mc(s),ou(Ql),Ce(Ja),We!==0&&Ce(We+" J"),St!==0&&Ce(St+" j"),kr.publish("addPage",{pageNumber:$t})},Lu=function(ae){ae>0&&ae<=$t&&(te.splice(ae,1),rr.splice(ae,1),$t--,R>$t&&(R=$t),this.setPage(R))},Rc=function(ae){ae>0&&ae<=$t&&(R=ae)},pl=A.__private__.getNumberOfPages=A.getNumberOfPages=function(){return te.length-1},iu=function(ae,qe,Bt){var Ot,Gt=void 0;return Bt=Bt||{},ae=ae!==void 0?ae:Oe[Te].fontName,qe=qe!==void 0?qe:Oe[Te].fontStyle,Ot=ae.toLowerCase(),De[Ot]!==void 0&&De[Ot][qe]!==void 0?Gt=De[Ot][qe]:De[ae]!==void 0&&De[ae][qe]!==void 0?Gt=De[ae][qe]:Bt.disableWarning===!1&&ho.warn("Unable to look up font label for font '"+ae+"', '"+qe+"'. Refer to getFontList() for available fonts."),Gt||Bt.noFallback||(Gt=De.times[qe])==null&&(Gt=De.times.normal),Gt},Ul=A.__private__.putInfo=function(){var ae=Ct(),qe=function(Ot){return Ot};for(var Bt in u!==null&&(qe=Ki.encryptor(ae,0)),Ce("<<"),Ce("/Producer ("+Zn(qe("jsPDF "+Wn.version))+")"),Me)Me.hasOwnProperty(Bt)&&Me[Bt]&&Ce("/"+Bt.substr(0,1).toUpperCase()+Bt.substr(1)+" ("+Zn(qe(Me[Bt]))+")");Ce("/CreationDate ("+Zn(qe(ce))+")"),Ce(">>"),Ce("endobj")},zi=A.__private__.putCatalog=function(ae){var qe=(ae=ae||{}).rootDictionaryObjId||ft;switch(Ct(),Ce("<<"),Ce("/Type /Catalog"),Ce("/Pages "+qe+" 0 R"),_e||(_e="fullwidth"),_e){case"fullwidth":Ce("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ce("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ce("/OpenAction [3 0 R /Fit]");break;case"original":Ce("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Bt=""+_e;Bt.substr(Bt.length-1)==="%"&&(_e=parseInt(_e)/100),typeof _e=="number"&&Ce("/OpenAction [3 0 R /XYZ null null "+z(_e)+"]")}switch(Ge||(Ge="continuous"),Ge){case"continuous":Ce("/PageLayout /OneColumn");break;case"single":Ce("/PageLayout /SinglePage");break;case"two":case"twoleft":Ce("/PageLayout /TwoColumnLeft");break;case"tworight":Ce("/PageLayout /TwoColumnRight")}Pe&&Ce("/PageMode /"+Pe),kr.publish("putCatalog"),Ce(">>"),Ce("endobj")},Ou=A.__private__.putTrailer=function(){Ce("trailer"),Ce("<<"),Ce("/Size "+(ge+1)),Ce("/Root "+ge+" 0 R"),Ce("/Info "+(ge-1)+" 0 R"),u!==null&&Ce("/Encrypt "+Ki.oid+" 0 R"),Ce("/ID [ <"+ee+"> <"+ee+"> ]"),Ce(">>")},id=A.__private__.putHeader=function(){Ce("%PDF-"+y),Ce("%")},Ud=A.__private__.putXRef=function(){var ae="0000000000";Ce("xref"),Ce("0 "+(ge+1)),Ce("0000000000 65535 f ");for(var qe=1;qe<=ge;qe++)typeof ye[qe]=="function"?Ce((ae+ye[qe]()).slice(-10)+" 00000 n "):ye[qe]!==void 0?Ce((ae+ye[qe]).slice(-10)+" 00000 n "):Ce("0000000000 00000 n ")},pc=A.__private__.buildDocument=function(){be(),re(pe),kr.publish("buildDocument"),id(),Qe(),Pu(),Qa(),u!==null&&Ya(),Ul(),zi();var ae=Z;return Ud(),Ou(),Ce("startxref"),Ce(""+ae),Ce("%%EOF"),re(te[R]),pe.join(`
`)},gc=A.__private__.getBlob=function(ae){return new Blob([et(ae)],{type:"application/pdf"})},go=A.output=A.__private__.output=bs((function(ae,qe){switch(typeof(qe=qe||{})=="string"?qe={filename:qe}:qe.filename=qe.filename||"generated.pdf",ae){case void 0:return pc();case"save":A.save(qe.filename);break;case"arraybuffer":return et(pc());case"blob":return gc(pc());case"bloburi":case"bloburl":if(pa.URL!==void 0&&typeof pa.URL.createObjectURL=="function")return pa.URL&&pa.URL.createObjectURL(gc(pc()))||void 0;ho.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Bt="",Ot=pc();try{Bt=sB(Ot)}catch{Bt=sB(unescape(encodeURIComponent(Ot)))}return"data:application/pdf;filename="+qe.filename+";base64,"+Bt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(pa)==="[object Window]"){var Gt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",hr=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';qe.pdfObjectUrl&&(Gt=qe.pdfObjectUrl,hr="");var Br='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Gt+'"'+hr+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(qe)+");<\/script></body></html>",Xr=pa.open();return Xr!==null&&Xr.document.write(Br),Xr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(pa)==="[object Window]"){var An='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(qe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+qe.filename+'" width="500px" height="400px" /></body></html>',Pn=pa.open();if(Pn!==null){Pn.document.write(An);var _n=this;Pn.document.documentElement.querySelector("#pdfViewer").onload=function(){Pn.document.title=qe.filename,Pn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(_n.output("bloburl"))}}return Pn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(pa)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var na='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",qe)+'"></iframe></body></html>',Ha=pa.open();if(Ha!==null&&(Ha.document.write(na),Ha.document.title=qe.filename),Ha||typeof safari>"u")return Ha;break;case"datauri":case"dataurl":return pa.document.location.href=this.output("datauristring",qe);default:return null}})),Vi=function(ae){return Array.isArray(Qr)===!0&&Qr.indexOf(ae)>-1};switch(n){case"pt":je=1;break;case"mm":je=72/25.4;break;case"cm":je=72/2.54;break;case"in":je=72;break;case"px":je=Vi("px_scaling")==1?.75:96/72;break;case"pc":case"em":je=12;break;case"ex":je=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);je=n}var Ki=null;ve(),se();var gl=function(ae){return u!==null?Ki.encryptor(ae,0):function(qe){return qe}},Rl=A.__private__.getPageInfo=A.getPageInfo=function(ae){if(isNaN(ae)||ae%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:rr[ae].objId,pageNumber:ae,pageContext:rr[ae]}},Dr=A.__private__.getPageInfoByObjId=function(ae){if(isNaN(ae)||ae%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var qe in rr)if(rr[qe].objId===ae)break;return Rl(qe)},Rd=A.__private__.getCurrentPageInfo=A.getCurrentPageInfo=function(){return{objId:rr[R].objId,pageNumber:R,pageContext:rr[R]}};A.addPage=function(){return sd.apply(this,arguments),this},A.setPage=function(){return Rc.apply(this,arguments),re.call(this,te[R]),this},A.insertPage=function(ae){return this.addPage(),this.movePage(R,ae),this},A.movePage=function(ae,qe){var Bt,Ot;if(ae>qe){Bt=te[ae],Ot=rr[ae];for(var Gt=ae;Gt>qe;Gt--)te[Gt]=te[Gt-1],rr[Gt]=rr[Gt-1];te[qe]=Bt,rr[qe]=Ot,this.setPage(qe)}else if(ae<qe){Bt=te[ae],Ot=rr[ae];for(var hr=ae;hr<qe;hr++)te[hr]=te[hr+1],rr[hr]=rr[hr+1];te[qe]=Bt,rr[qe]=Ot,this.setPage(qe)}return this},A.deletePage=function(){return Lu.apply(this,arguments),this},A.__private__.text=A.text=function(ae,qe,Bt,Ot,Gt){var hr,Br,Xr,An,Pn,_n,na,Ha,oa,En=(Ot=Ot||{}).scope||this;if(typeof ae=="number"&&typeof qe=="number"&&(typeof Bt=="string"||Array.isArray(Bt))){var As=Bt;Bt=qe,qe=ae,ae=As}if(arguments[3]instanceof Vr?(k("The transform parameter of text() with a Matrix value"),oa=Gt):(Xr=arguments[4],An=arguments[5],qn(na=arguments[3])==="object"&&na!==null||(typeof Xr=="string"&&(An=Xr,Xr=null),typeof na=="string"&&(An=na,na=null),typeof na=="number"&&(Xr=na,na=null),Ot={flags:na,angle:Xr,align:An})),isNaN(qe)||isNaN(Bt)||ae==null)throw new Error("Invalid arguments passed to jsPDF.text");if(ae.length===0)return En;var Ys="",Eo=!1,Mn=typeof Ot.lineHeightFactor=="number"?Ot.lineHeightFactor:vo,us=En.internal.scaleFactor;function bl(ca){return ca=ca.split("	").join(Array(Ot.TabLen||9).join(" ")),Zn(ca,na)}function qi(ca){for(var Sa,ws=ca.concat(),$s=[],Vo=ws.length;Vo--;)typeof(Sa=ws.shift())=="string"?$s.push(Sa):Array.isArray(ca)&&(Sa.length===1||Sa[1]===void 0&&Sa[2]===void 0)?$s.push(Sa[0]):$s.push([Sa[0],Sa[1],Sa[2]]);return $s}function ya(ca,Sa){var ws;if(typeof ca=="string")ws=Sa(ca)[0];else if(Array.isArray(ca)){for(var $s,Vo,Ko=ca.concat(),jl=[],Hc=Ko.length;Hc--;)typeof($s=Ko.shift())=="string"?jl.push(Sa($s)[0]):Array.isArray($s)&&typeof $s[0]=="string"&&(Vo=Sa($s[0],$s[1],$s[2]),jl.push([Vo[0],Vo[1],Vo[2]]));ws=jl}return ws}var Hl=!1,vs=!0;if(typeof ae=="string")Hl=!0;else if(Array.isArray(ae)){var yc=ae.concat();Br=[];for(var Ei,ms=yc.length;ms--;)(typeof(Ei=yc.shift())!="string"||Array.isArray(Ei)&&typeof Ei[0]!="string")&&(vs=!1);Hl=vs}if(Hl===!1)throw new Error('Type of text must be string or Array. "'+ae+'" is not recognized.');typeof ae=="string"&&(ae=ae.match(/[\r?\n]/)?ae.split(/\r\n|\r|\n/g):[ae]);var $n=ct/En.internal.scaleFactor,Gi=$n*(Mn-1);switch(Ot.baseline){case"bottom":Bt-=Gi;break;case"top":Bt+=$n-Gi;break;case"hanging":Bt+=$n-2*Gi;break;case"middle":Bt+=$n/2-Gi}if((_n=Ot.maxWidth||0)>0&&(typeof ae=="string"?ae=En.splitTextToSize(ae,_n):Object.prototype.toString.call(ae)==="[object Array]"&&(ae=ae.reduce((function(ca,Sa){return ca.concat(En.splitTextToSize(Sa,_n))}),[]))),hr={text:ae,x:qe,y:Bt,options:Ot,mutex:{pdfEscape:Zn,activeFontKey:Te,fonts:Oe,activeFontSize:ct}},kr.publish("preProcessText",hr),ae=hr.text,Xr=(Ot=hr.options).angle,!(oa instanceof Vr)&&Xr&&typeof Xr=="number"){Xr*=Math.PI/180,Ot.rotationDirection===0&&(Xr=-Xr),E===j.ADVANCED&&(Xr=-Xr);var al=Math.cos(Xr),Bo=Math.sin(Xr);oa=new Vr(al,Bo,-Bo,al,0,0)}else Xr&&Xr instanceof Vr&&(oa=Xr);E!==j.ADVANCED||oa||(oa=Gn),(Pn=Ot.charSpace||Co)!==void 0&&(Ys+=M(L(Pn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ha=Ot.horizontalScale)!==void 0&&(Ys+=M(100*Ha)+` Tz
`),Ot.lang;var li=-1,To=Ot.renderingMode!==void 0?Ot.renderingMode:Ot.stroke,wl=En.internal.getCurrentPageInfo().pageContext;switch(To){case 0:case!1:case"fill":li=0;break;case 1:case!0:case"stroke":li=1;break;case 2:case"fillThenStroke":li=2;break;case 3:case"invisible":li=3;break;case 4:case"fillAndAddForClipping":li=4;break;case 5:case"strokeAndAddPathForClipping":li=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":li=6;break;case 7:case"addToPathForClipping":li=7}var Hs=wl.usedRenderingMode!==void 0?wl.usedRenderingMode:-1;li!==-1?Ys+=li+` Tr
`:Hs!==-1&&(Ys+=`0 Tr
`),li!==-1&&(wl.usedRenderingMode=li),An=Ot.align||"left";var Ps,Ka=ct*Mn,ps=En.internal.pageSize.getWidth(),Pa=Oe[Te];Pn=Ot.charSpace||Co,_n=Ot.maxWidth||0,na=Object.assign({autoencode:!0,noBOM:!0},Ot.flags);var Bi=[],$l=function(ca){return En.getStringUnitWidth(ca,{font:Pa,charSpace:Pn,fontSize:ct,doKerning:!1})*ct/us};if(Object.prototype.toString.call(ae)==="[object Array]"){var Wi;Br=qi(ae),An!=="left"&&(Ps=Br.map($l));var Ls,zo=0;if(An==="right"){qe-=Ps[0],ae=[],ms=Br.length;for(var Ti=0;Ti<ms;Ti++)Ti===0?(Ls=Ci(qe),Wi=io(Bt)):(Ls=L(zo-Ps[Ti]),Wi=-Ka),ae.push([Br[Ti],Ls,Wi]),zo=Ps[Ti]}else if(An==="center"){qe-=Ps[0]/2,ae=[],ms=Br.length;for(var Os=0;Os<ms;Os++)Os===0?(Ls=Ci(qe),Wi=io(Bt)):(Ls=L((zo-Ps[Os])/2),Wi=-Ka),ae.push([Br[Os],Ls,Wi]),zo=Ps[Os]}else if(An==="left"){ae=[],ms=Br.length;for(var Rt=0;Rt<ms;Rt++)ae.push(Br[Rt])}else if(An==="justify"&&Pa.encoding==="Identity-H"){ae=[],ms=Br.length,_n=_n!==0?_n:ps;for(var Ar=0,Wt=0;Wt<ms;Wt++)if(Wi=Wt===0?io(Bt):-Ka,Ls=Wt===0?Ci(qe):Ar,Wt<ms-1){var Hr=L((_n-Ps[Wt])/(Br[Wt].split(" ").length-1)),Rr=Br[Wt].split(" ");ae.push([Rr[0]+" ",Ls,Wi]),Ar=0;for(var cn=1;cn<Rr.length;cn++){var ea=($l(Rr[cn-1]+" "+Rr[cn])-$l(Rr[cn]))*us+Hr;cn==Rr.length-1?ae.push([Rr[cn],ea,0]):ae.push([Rr[cn]+" ",ea,0]),Ar-=ea}}else ae.push([Br[Wt],Ls,Wi]);ae.push(["",Ar,0])}else{if(An!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(ae=[],ms=Br.length,_n=_n!==0?_n:ps,Wt=0;Wt<ms;Wt++)Wi=Wt===0?io(Bt):-Ka,Ls=Wt===0?Ci(qe):0,Wt<ms-1?Bi.push(M(L((_n-Ps[Wt])/(Br[Wt].split(" ").length-1)))):Bi.push(0),ae.push([Br[Wt],Ls,Wi])}}var xn=typeof Ot.R2L=="boolean"?Ot.R2L:Ze;xn===!0&&(ae=ya(ae,(function(ca,Sa,ws){return[ca.split("").reverse().join(""),Sa,ws]}))),hr={text:ae,x:qe,y:Bt,options:Ot,mutex:{pdfEscape:Zn,activeFontKey:Te,fonts:Oe,activeFontSize:ct}},kr.publish("postProcessText",hr),ae=hr.text,Eo=hr.mutex.isHex||!1;var _o=Oe[Te].encoding;_o!=="WinAnsiEncoding"&&_o!=="StandardEncoding"||(ae=ya(ae,(function(ca,Sa,ws){return[bl(ca),Sa,ws]}))),Br=qi(ae),ae=[];for(var bc,Xs,Fo,ld=0,zl=1,Vl=Array.isArray(Br[0])?zl:ld,Nl="",ka=function(ca,Sa,ws){var $s="";return ws instanceof Vr?(ws=typeof Ot.angle=="number"?On(ws,new Vr(1,0,0,1,ca,Sa)):On(new Vr(1,0,0,1,ca,Sa),ws),E===j.ADVANCED&&(ws=On(new Vr(1,0,0,-1,0,0),ws)),$s=ws.join(" ")+` Tm
`):$s=M(ca)+" "+M(Sa)+` Td
`,$s},Js=0;Js<Br.length;Js++){switch(Nl="",Vl){case zl:Fo=(Eo?"<":"(")+Br[Js][0]+(Eo?">":")"),bc=parseFloat(Br[Js][1]),Xs=parseFloat(Br[Js][2]);break;case ld:Fo=(Eo?"<":"(")+Br[Js]+(Eo?">":")"),bc=Ci(qe),Xs=io(Bt)}Bi!==void 0&&Bi[Js]!==void 0&&(Nl=Bi[Js]+` Tw
`),Js===0?ae.push(Nl+ka(bc,Xs,oa)+Fo):Vl===ld?ae.push(Nl+Fo):Vl===zl&&ae.push(Nl+ka(bc,Xs,oa)+Fo)}ae=Vl===ld?ae.join(` Tj
T* `):ae.join(` Tj
`),ae+=` Tj
`;var oo=`BT
/`;return oo+=Te+" "+ct+` Tf
`,oo+=M(ct*Mn)+` TL
`,oo+=vc+`
`,oo+=Ys,oo+=ae,Ce(oo+="ET"),m[Te]=!0,En};var ff=A.__private__.clip=A.clip=function(ae){return Ce(ae==="evenodd"?"W*":"W"),this};A.clipEvenOdd=function(){return ff("evenodd")},A.__private__.discardPath=A.discardPath=function(){return Ce("n"),this};var Qo=A.__private__.isValidStyle=function(ae){var qe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(ae)!==-1&&(qe=!0),qe};A.__private__.setDefaultPathOperation=A.setDefaultPathOperation=function(ae){return Qo(ae)&&(d=ae),this};var xl=A.__private__.getStyle=A.getStyle=function(ae){var qe=d;switch(ae){case"D":case"S":qe="S";break;case"F":qe="f";break;case"FD":case"DF":qe="B";break;case"f":case"f*":case"B":case"B*":qe=ae}return qe},Ho=A.close=function(){return Ce("h"),this};A.stroke=function(){return Ce("S"),this},A.fill=function(ae){return xo("f",ae),this},A.fillEvenOdd=function(ae){return xo("f*",ae),this},A.fillStroke=function(ae){return xo("B",ae),this},A.fillStrokeEvenOdd=function(ae){return xo("B*",ae),this};var xo=function(ae,qe){qn(qe)==="object"?xc(qe,ae):Ce(ae)},oi=function(ae){ae===null||E===j.ADVANCED&&ae===void 0||(ae=xl(ae),Ce(ae))};function od(ae,qe,Bt,Ot,Gt){var hr=new mv(qe||this.boundingBox,Bt||this.xStep,Ot||this.yStep,this.gState,Gt||this.matrix);hr.stream=this.stream;var Br=ae+"$$"+this.cloneIndex+++"$$";return Dn(Br,hr),hr}var xc=function(ae,qe){var Bt=qt[ae.key],Ot=_t[Bt];if(Ot instanceof yx)Ce("q"),Ce(Du(qe)),Ot.gState&&A.setGState(Ot.gState),Ce(ae.matrix.toString()+" cm"),Ce("/"+Bt+" sh"),Ce("Q");else if(Ot instanceof mv){var Gt=new Vr(1,0,0,-1,0,ts());ae.matrix&&(Gt=Gt.multiply(ae.matrix||Gn),Bt=od.call(Ot,ae.key,ae.boundingBox,ae.xStep,ae.yStep,Gt).id),Ce("q"),Ce("/Pattern cs"),Ce("/"+Bt+" scn"),Ot.gState&&A.setGState(Ot.gState),Ce(qe),Ce("Q")}},Du=function(ae){switch(ae){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},_a=A.moveTo=function(ae,qe){return Ce(M(L(ae))+" "+M(J(qe))+" m"),this},va=A.lineTo=function(ae,qe){return Ce(M(L(ae))+" "+M(J(qe))+" l"),this},vl=A.curveTo=function(ae,qe,Bt,Ot,Gt,hr){return Ce([M(L(ae)),M(J(qe)),M(L(Bt)),M(J(Ot)),M(L(Gt)),M(J(hr)),"c"].join(" ")),this};A.__private__.line=A.line=function(ae,qe,Bt,Ot,Gt){if(isNaN(ae)||isNaN(qe)||isNaN(Bt)||isNaN(Ot)||!Qo(Gt))throw new Error("Invalid arguments passed to jsPDF.line");return E===j.COMPAT?this.lines([[Bt-ae,Ot-qe]],ae,qe,[1,1],Gt||"S"):this.lines([[Bt-ae,Ot-qe]],ae,qe,[1,1]).stroke()},A.__private__.lines=A.lines=function(ae,qe,Bt,Ot,Gt,hr){var Br,Xr,An,Pn,_n,na,Ha,oa,En,As,Ys,Eo;if(typeof ae=="number"&&(Eo=Bt,Bt=qe,qe=ae,ae=Eo),Ot=Ot||[1,1],hr=hr||!1,isNaN(qe)||isNaN(Bt)||!Array.isArray(ae)||!Array.isArray(Ot)||!Qo(Gt)||typeof hr!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(_a(qe,Bt),Br=Ot[0],Xr=Ot[1],Pn=ae.length,As=qe,Ys=Bt,An=0;An<Pn;An++)(_n=ae[An]).length===2?(As=_n[0]*Br+As,Ys=_n[1]*Xr+Ys,va(As,Ys)):(na=_n[0]*Br+As,Ha=_n[1]*Xr+Ys,oa=_n[2]*Br+As,En=_n[3]*Xr+Ys,As=_n[4]*Br+As,Ys=_n[5]*Xr+Ys,vl(na,Ha,oa,En,As,Ys));return hr&&Ho(),oi(Gt),this},A.path=function(ae){for(var qe=0;qe<ae.length;qe++){var Bt=ae[qe],Ot=Bt.c;switch(Bt.op){case"m":_a(Ot[0],Ot[1]);break;case"l":va(Ot[0],Ot[1]);break;case"c":vl.apply(this,Ot);break;case"h":Ho()}}return this},A.__private__.rect=A.rect=function(ae,qe,Bt,Ot,Gt){if(isNaN(ae)||isNaN(qe)||isNaN(Bt)||isNaN(Ot)||!Qo(Gt))throw new Error("Invalid arguments passed to jsPDF.rect");return E===j.COMPAT&&(Ot=-Ot),Ce([M(L(ae)),M(J(qe)),M(L(Bt)),M(L(Ot)),"re"].join(" ")),oi(Gt),this},A.__private__.triangle=A.triangle=function(ae,qe,Bt,Ot,Gt,hr,Br){if(isNaN(ae)||isNaN(qe)||isNaN(Bt)||isNaN(Ot)||isNaN(Gt)||isNaN(hr)||!Qo(Br))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Bt-ae,Ot-qe],[Gt-Bt,hr-Ot],[ae-Gt,qe-hr]],ae,qe,[1,1],Br,!0),this},A.__private__.roundedRect=A.roundedRect=function(ae,qe,Bt,Ot,Gt,hr,Br){if(isNaN(ae)||isNaN(qe)||isNaN(Bt)||isNaN(Ot)||isNaN(Gt)||isNaN(hr)||!Qo(Br))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Xr=4/3*(Math.SQRT2-1);return Gt=Math.min(Gt,.5*Bt),hr=Math.min(hr,.5*Ot),this.lines([[Bt-2*Gt,0],[Gt*Xr,0,Gt,hr-hr*Xr,Gt,hr],[0,Ot-2*hr],[0,hr*Xr,-Gt*Xr,hr,-Gt,hr],[2*Gt-Bt,0],[-Gt*Xr,0,-Gt,-hr*Xr,-Gt,-hr],[0,2*hr-Ot],[0,-hr*Xr,Gt*Xr,-hr,Gt,-hr]],ae+Gt,qe,[1,1],Br,!0),this},A.__private__.ellipse=A.ellipse=function(ae,qe,Bt,Ot,Gt){if(isNaN(ae)||isNaN(qe)||isNaN(Bt)||isNaN(Ot)||!Qo(Gt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var hr=4/3*(Math.SQRT2-1)*Bt,Br=4/3*(Math.SQRT2-1)*Ot;return _a(ae+Bt,qe),vl(ae+Bt,qe-Br,ae+hr,qe-Ot,ae,qe-Ot),vl(ae-hr,qe-Ot,ae-Bt,qe-Br,ae-Bt,qe),vl(ae-Bt,qe+Br,ae-hr,qe+Ot,ae,qe+Ot),vl(ae+hr,qe+Ot,ae+Bt,qe+Br,ae+Bt,qe),oi(Gt),this},A.__private__.circle=A.circle=function(ae,qe,Bt,Ot){if(isNaN(ae)||isNaN(qe)||isNaN(Bt)||!Qo(Ot))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(ae,qe,Bt,Bt,Ot)},A.setFont=function(ae,qe,Bt){return Bt&&(qe=U(qe,Bt)),Te=iu(ae,qe,{disableWarning:!1}),this};var so=A.__private__.getFont=A.getFont=function(){return Oe[iu.apply(A,arguments)]};A.__private__.getFontList=A.getFontList=function(){var ae,qe,Bt={};for(ae in De)if(De.hasOwnProperty(ae))for(qe in Bt[ae]=[],De[ae])De[ae].hasOwnProperty(qe)&&Bt[ae].push(qe);return Bt},A.addFont=function(ae,qe,Bt,Ot,Gt){var hr=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&hr.indexOf(arguments[3])!==-1?Gt=arguments[3]:arguments[3]&&hr.indexOf(arguments[3])==-1&&(Bt=U(Bt,Ot)),Gt=Gt||"Identity-H",ao.call(this,ae,qe,Bt,Gt)};var vo,Ql=e.lineWidth||.200025,$o=A.__private__.getLineWidth=A.getLineWidth=function(){return Ql},ou=A.__private__.setLineWidth=A.setLineWidth=function(ae){return Ql=ae,Ce(M(L(ae))+" w"),this};A.__private__.setLineDash=Wn.API.setLineDash=Wn.API.setLineDashPattern=function(ae,qe){if(ae=ae||[],qe=qe||0,isNaN(qe)||!Array.isArray(ae))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return ae=ae.map((function(Bt){return M(L(Bt))})).join(" "),qe=M(L(qe)),Ce("["+ae+"] "+qe+" d"),this};var ks=A.__private__.getLineHeight=A.getLineHeight=function(){return ct*vo};A.__private__.getLineHeight=A.getLineHeight=function(){return ct*vo};var Qc=A.__private__.setLineHeightFactor=A.setLineHeightFactor=function(ae){return typeof(ae=ae||1.15)=="number"&&(vo=ae),this},Xa=A.__private__.getLineHeightFactor=A.getLineHeightFactor=function(){return vo};Qc(e.lineHeight);var Ci=A.__private__.getHorizontalCoordinate=function(ae){return L(ae)},io=A.__private__.getVerticalCoordinate=function(ae){return E===j.ADVANCED?ae:rr[R].mediaBox.topRightY-rr[R].mediaBox.bottomLeftY-L(ae)},Qd=A.__private__.getHorizontalCoordinateString=A.getHorizontalCoordinateString=function(ae){return M(Ci(ae))},yo=A.__private__.getVerticalCoordinateString=A.getVerticalCoordinateString=function(ae){return M(io(ae))},Ja=e.strokeColor||"0 G";A.__private__.getStrokeColor=A.getDrawColor=function(){return Re(Ja)},A.__private__.setStrokeColor=A.setDrawColor=function(ae,qe,Bt,Ot){return Ja=Ee({ch1:ae,ch2:qe,ch3:Bt,ch4:Ot,pdfColorType:"draw",precision:2}),Ce(Ja),this};var yl=e.fillColor||"0 g";A.__private__.getFillColor=A.getFillColor=function(){return Re(yl)},A.__private__.setFillColor=A.setFillColor=function(ae,qe,Bt,Ot){return yl=Ee({ch1:ae,ch2:qe,ch3:Bt,ch4:Ot,pdfColorType:"fill",precision:2}),Ce(yl),this};var vc=e.textColor||"0 g",lu=A.__private__.getTextColor=A.getTextColor=function(){return Re(vc)};A.__private__.setTextColor=A.setTextColor=function(ae,qe,Bt,Ot){return vc=Ee({ch1:ae,ch2:qe,ch3:Bt,ch4:Ot,pdfColorType:"text",precision:3}),this};var Co=e.charSpace,Ae=A.__private__.getCharSpace=A.getCharSpace=function(){return parseFloat(Co||0)};A.__private__.setCharSpace=A.setCharSpace=function(ae){if(isNaN(ae))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Co=ae,this};var We=0;A.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},A.__private__.setLineCap=A.setLineCap=function(ae){var qe=A.CapJoinStyles[ae];if(qe===void 0)throw new Error("Line cap style of '"+ae+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return We=qe,Ce(qe+" J"),this};var St=0;A.__private__.setLineJoin=A.setLineJoin=function(ae){var qe=A.CapJoinStyles[ae];if(qe===void 0)throw new Error("Line join style of '"+ae+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return St=qe,Ce(qe+" j"),this},A.__private__.setLineMiterLimit=A.__private__.setMiterLimit=A.setLineMiterLimit=A.setMiterLimit=function(ae){if(ae=ae||0,isNaN(ae))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ce(M(L(ae))+" M"),this},A.GState=aN,A.setGState=function(ae){(ae=typeof ae=="string"?Ft[gt[ae]]:Mt(null,ae)).equals(Zt)||(Ce("/"+ae.id+" gs"),Zt=ae)};var Mt=function(ae,qe){if(!ae||!gt[ae]){var Bt=!1;for(var Ot in Ft)if(Ft.hasOwnProperty(Ot)&&Ft[Ot].equals(qe)){Bt=!0;break}if(Bt)qe=Ft[Ot];else{var Gt="GS"+(Object.keys(Ft).length+1).toString(10);Ft[Gt]=qe,qe.id=Gt}return ae&&(gt[ae]=qe.id),kr.publish("addGState",qe),qe}};A.addGState=function(ae,qe){return Mt(ae,qe),this},A.saveGraphicsState=function(){return Ce("q"),ut.push({key:Te,size:ct,color:vc}),this},A.restoreGraphicsState=function(){Ce("Q");var ae=ut.pop();return Te=ae.key,ct=ae.size,vc=ae.color,Zt=null,this},A.setCurrentTransformationMatrix=function(ae){return Ce(ae.toString()+" cm"),this},A.comment=function(ae){return Ce("#"+ae),this};var Vt=function(ae,qe){var Bt=ae||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Bt},set:function(hr){isNaN(hr)||(Bt=parseFloat(hr))}});var Ot=qe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ot},set:function(hr){isNaN(hr)||(Ot=parseFloat(hr))}});var Gt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Gt},set:function(hr){Gt=hr.toString()}}),this},wr=function(ae,qe,Bt,Ot){Vt.call(this,ae,qe),this.type="rect";var Gt=Bt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Gt},set:function(Br){isNaN(Br)||(Gt=parseFloat(Br))}});var hr=Ot||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return hr},set:function(Br){isNaN(Br)||(hr=parseFloat(Br))}}),this},Er=function(){this.page=$t,this.currentPage=R,this.pages=te.slice(0),this.pagesContext=rr.slice(0),this.x=Ke,this.y=Le,this.matrix=rt,this.width=nn(R),this.height=ts(R),this.outputDestination=Fe,this.id="",this.objectNumber=-1};Er.prototype.restore=function(){$t=this.page,R=this.currentPage,rr=this.pagesContext,te=this.pages,Ke=this.x,Le=this.y,rt=this.matrix,ia(R,this.width),Ws(R,this.height),Fe=this.outputDestination};var tn=function(ae,qe,Bt,Ot,Gt){rn.push(new Er),$t=R=0,te=[],Ke=ae,Le=qe,rt=Gt,mc([Bt,Ot])},gn=function(ae){if(ja[ae])rn.pop().restore();else{var qe=new Er,Bt="Xo"+(Object.keys(dn).length+1).toString(10);qe.id=Bt,ja[ae]=Bt,dn[Bt]=qe,kr.publish("addFormObject",qe),rn.pop().restore()}};for(var kn in A.beginFormObject=function(ae,qe,Bt,Ot,Gt){return tn(ae,qe,Bt,Ot,Gt),this},A.endFormObject=function(ae){return gn(ae),this},A.doFormObject=function(ae,qe){var Bt=dn[ja[ae]];return Ce("q"),Ce(qe.toString()+" cm"),Ce("/"+Bt.id+" Do"),Ce("Q"),this},A.getFormObject=function(ae){var qe=dn[ja[ae]];return{x:qe.x,y:qe.y,width:qe.width,height:qe.height,matrix:qe.matrix}},A.save=function(ae,qe){return ae=ae||"generated.pdf",(qe=qe||{}).returnPromise=qe.returnPromise||!1,qe.returnPromise===!1?(hx(gc(pc()),ae),typeof hx.unload=="function"&&pa.setTimeout&&setTimeout(hx.unload,911),this):new Promise((function(Bt,Ot){try{var Gt=hx(gc(pc()),ae);typeof hx.unload=="function"&&pa.setTimeout&&setTimeout(hx.unload,911),Bt(Gt)}catch(hr){Ot(hr.message)}}))},Wn.API)Wn.API.hasOwnProperty(kn)&&(kn==="events"&&Wn.API.events.length?(function(ae,qe){var Bt,Ot,Gt;for(Gt=qe.length-1;Gt!==-1;Gt--)Bt=qe[Gt][0],Ot=qe[Gt][1],ae.subscribe.apply(ae,[Bt].concat(typeof Ot=="function"?[Ot]:Ot))})(kr,Wn.API.events):A[kn]=Wn.API[kn]);var nn=A.getPageWidth=function(ae){return(rr[ae=ae||R].mediaBox.topRightX-rr[ae].mediaBox.bottomLeftX)/je},ia=A.setPageWidth=function(ae,qe){rr[ae].mediaBox.topRightX=qe*je+rr[ae].mediaBox.bottomLeftX},ts=A.getPageHeight=function(ae){return(rr[ae=ae||R].mediaBox.topRightY-rr[ae].mediaBox.bottomLeftY)/je},Ws=A.setPageHeight=function(ae,qe){rr[ae].mediaBox.topRightY=qe*je+rr[ae].mediaBox.bottomLeftY};return A.internal={pdfEscape:Zn,getStyle:xl,getFont:so,getFontSize:ke,getCharSpace:Ae,getTextColor:lu,getLineHeight:ks,getLineHeightFactor:Xa,getLineWidth:$o,write:st,getHorizontalCoordinate:Ci,getVerticalCoordinate:io,getCoordinateString:Qd,getVerticalCoordinateString:yo,collections:{},newObject:Ct,newAdditionalObject:pt,newObjectDeferred:fr,newObjectDeferredBegin:$e,getFilters:ht,putStream:nt,events:kr,scaleFactor:je,pageSize:{getWidth:function(){return nn(R)},setWidth:function(ae){ia(R,ae)},getHeight:function(){return ts(R)},setHeight:function(ae){Ws(R,ae)}},encryptionOptions:u,encryption:Ki,getEncryptor:gl,output:go,getNumberOfPages:pl,pages:te,out:Ce,f2:z,f3:O,getPageInfo:Rl,getPageInfoByObjId:Dr,getCurrentPageInfo:Rd,getPDFVersion:x,Point:Vt,Rectangle:wr,Matrix:Vr,hasHotfix:Vi},Object.defineProperty(A.internal.pageSize,"width",{get:function(){return nn(R)},set:function(ae){ia(R,ae)},enumerable:!0,configurable:!0}),Object.defineProperty(A.internal.pageSize,"height",{get:function(){return ts(R)},set:function(ae){Ws(R,ae)},enumerable:!0,configurable:!0}),nl.call(A,He),Te="F1",sd(s,r),kr.publish("initialized"),A}uv.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},uv.prototype.toHexString=function(e){return e.split("").map((function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)})).join("")},uv.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},uv.prototype.processOwnerPassword=function(e,t){return oB(iB(t).substr(0,5),e)},uv.prototype.encryptor=function(e,t){var r=iB(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return oB(r,n)}},aN.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||qn(e)!==qn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Wn.API={events:[]},Wn.version="2.5.2";var Il=Wn.API,O_=1,d1=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},X1=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ma=function(e){return e.toFixed(2)},Vp=function(e){return e.toFixed(5)};Il.__acroform__={};var Rf=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},TP=function(e){return e*O_},Im=function(e){var t=new V$,r=Tn.internal.getHeight(e)||0,n=Tn.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Ma(n)),Number(Ma(r))],t},xhe=Il.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},vhe=Il.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},yhe=Il.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<t)==0?0:1},ic=Il.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return yhe(e,t-1)},oc=Il.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return xhe(e,t-1)},lc=Il.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return vhe(e,t-1)},bhe=Il.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(s)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(s+o)||0,c.upperRight_Y=n(i)||0,[Number(Ma(c.lowerLeft_X)),Number(Ma(c.lowerLeft_Y)),Number(Ma(c.upperRight_X)),Number(Ma(c.upperRight_Y))]},whe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=lB(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+Ma(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Im(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},lB=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map((function(O){return O.split(`
`)})):s.map((function(O){return[O]}));var i=r,o=Tn.internal.getHeight(e)||0;o=o<0?-o:o;var l=Tn.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(O,L,V){if(O+1<s.length){var J=L+" "+s[O+1][0];return w4(J,e,V).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var d,u,h=w4("3",e,i).height,m=e.multiline?o-i:(o-h)/2,A=m+=2,y=0,x=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+w4(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var b="",j=0,E=0;E<s.length;E++)if(s.hasOwnProperty(E)){var T=!1;if(s[E].length!==1&&v!==s[E].length-1){if((h+2)*(j+2)+2>o)continue e;b+=s[E][v],T=!0,x=E,E--}else{b=(b+=s[E][v]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var P=parseInt(E),U=c(P,b,i),M=E>=s.length-1;if(U&&!M){b+=" ",v=0;continue}if(U||M){if(M)x=P;else if(e.multiline&&(h+2)*(j+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(j+2)+2>o)continue e;x=P}}for(var k="",Q=y;Q<=x;Q++){var z=s[Q];if(e.multiline){if(Q===x){k+=z[v]+" ",v=(v+1)%z.length;continue}if(Q===y){k+=z[z.length-1]+" ";continue}}k+=z[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,u=w4(k,e,i).width,e.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;case"left":default:d=2}t+=Ma(d)+" "+Ma(A)+` Td
`,t+="("+d1(k)+`) Tj
`,t+=-Ma(d)+` 0 Td
`,A=-(i+2),u=0,y=T?x:x+1,j++,b=""}break}return n.text=t,n.fontSize=i,n},w4=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},Nhe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},jhe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find((function(n){return n.type===r.type&&n.object===r.object}))===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},She=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,s=e[r];t.internal.newObjectDeferredBegin(s.objId,!0),qn(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete e[n]}},Che=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(em.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Nhe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");O_=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new K$,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",(function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)})),e.internal.events.subscribe("buildDocument",(function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&jhe(i,r)}})(e)})),e.internal.events.subscribe("putCatalog",(function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)})),e.internal.events.subscribe("postPutPages",(function(r){(function(n,s){var i=!n;for(var o in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=bhe(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Tn.createDefaultAppearanceStream(l),qn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=whe(l);c.push({key:"AP",value:"<</N "+u+">>"}),s.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var h="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var A=l.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(A).length>=1||Array.isArray(A)){for(var o in A)if(A.hasOwnProperty(o)){var y=A[o];typeof y=="function"&&(y=y.call(s,l)),h+="/"+o+" "+y+" ",s.internal.acroformPlugin.xForms.indexOf(y)>=0||s.internal.acroformPlugin.xForms.push(y)}}else typeof(y=A)=="function"&&(y=y.call(s,l)),h+="/"+o+" "+y,s.internal.acroformPlugin.xForms.indexOf(y)>=0||s.internal.acroformPlugin.xForms.push(y);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:l.objId}),s.internal.out("endobj")}i&&She(s.internal.acroformPlugin.xForms,s)})(r,e)})),e.internal.acroformPlugin.isInitialized=!0}},z$=Il.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),qn(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+d1(n(e[i].toString()))+")"):s+=e[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},k3=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+d1(n(e))+")"},Dm=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Dm.prototype.toString=function(){return this.objId+" 0 R"},Dm.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Dm.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter((function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"}));for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:z$(s,this.objId,this.scope)}):s instanceof Dm?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var V$=function(){Dm.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Rf(V$,Dm);var K$=function(){Dm.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+d1(r(e))+")"}},set:function(r){e=r}})};Rf(K$,Dm);var em=function e(){Dm.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');t=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ic(t,3)},set:function(b){b?this.F=oc(t,3):this.F=lc(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(b){n=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(b){n[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(b){n[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(b){n[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(b){n[3]=b}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof sN)return;i="FieldObject"+e.FieldNum++}var b=function(j){return j};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+d1(b(i))+")"},set:function(b){i=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(b){i=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/O_:d},set:function(b){d=b}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(b){u=b}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof sN||this instanceof Px))return k3(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=b}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Su?m:k3(m,this.objId,this.scope)},set:function(b){b=b.toString(),m=this instanceof Su?b:b.substr(0,1)==="("?X1(b.substr(1,b.length-2)):X1(b)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Su?X1(m.substr(1,m.length-1)):m},set:function(b){b=b.toString(),m=this instanceof Su?"/"+b:b}});var A=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(A)return A},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof Su?A:k3(A,this.objId,this.scope)},set:function(b){b=b.toString(),A=this instanceof Su?b:b.substr(0,1)==="("?X1(b.substr(1,b.length-2)):X1(b)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Su?X1(A.substr(1,A.length-1)):A},set:function(b){b=b.toString(),A=this instanceof Su?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(b){b=!!b,x=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(b){y=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ic(this.Ff,1)},set:function(b){b?this.Ff=oc(this.Ff,1):this.Ff=lc(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ic(this.Ff,2)},set:function(b){b?this.Ff=oc(this.Ff,2):this.Ff=lc(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ic(this.Ff,3)},set:function(b){b?this.Ff=oc(this.Ff,3):this.Ff=lc(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');v=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(v){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:v=2;break;case"center":case 1:v=1;break;case"left":case 0:default:v=0}}})};Rf(em,Dm);var kv=function(){em.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return z$(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=(function(i,o,l){l||(l=1);for(var c,d=[];c=o.exec(i);)d.push(c[l]);return d})(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ic(this.Ff,18)},set:function(r){r?this.Ff=oc(this.Ff,18):this.Ff=lc(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ic(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=oc(this.Ff,19):this.Ff=lc(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ic(this.Ff,20)},set:function(r){r?(this.Ff=oc(this.Ff,20),t.sort()):this.Ff=lc(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ic(this.Ff,22)},set:function(r){r?this.Ff=oc(this.Ff,22):this.Ff=lc(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ic(this.Ff,23)},set:function(r){r?this.Ff=oc(this.Ff,23):this.Ff=lc(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ic(this.Ff,27)},set:function(r){r?this.Ff=oc(this.Ff,27):this.Ff=lc(this.Ff,27)}}),this.hasAppearanceStream=!1};Rf(kv,em);var Pv=function(){kv.call(this),this.fontName="helvetica",this.combo=!1};Rf(Pv,kv);var Lv=function(){Pv.call(this),this.combo=!0};Rf(Lv,Pv);var f5=function(){Lv.call(this),this.edit=!0};Rf(f5,Lv);var Su=function(){em.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ic(this.Ff,15)},set:function(r){r?this.Ff=oc(this.Ff,15):this.Ff=lc(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ic(this.Ff,16)},set:function(r){r?this.Ff=oc(this.Ff,16):this.Ff=lc(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ic(this.Ff,17)},set:function(r){r?this.Ff=oc(this.Ff,17):this.Ff=lc(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ic(this.Ff,26)},set:function(r){r?this.Ff=oc(this.Ff,26):this.Ff=lc(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+d1(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){qn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Rf(Su,em);var h5=function(){Su.call(this),this.pushButton=!0};Rf(h5,Su);var Ov=function(){Su.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Rf(Ov,Su);var sN=function(){var e,t;em.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+d1(s(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){qn(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Tn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Rf(sN,em),Ov.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Ov.prototype.createOption=function(e){var t=new sN;return t.Parent=this,t.optionName=e,this.Kids.push(t),Ehe.call(this.scope,t),t};var A5=function(){Su.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Tn.CheckBox.createAppearanceStream()};Rf(A5,Su);var Px=function(){em.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ic(this.Ff,13)},set:function(t){t?this.Ff=oc(this.Ff,13):this.Ff=lc(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ic(this.Ff,21)},set:function(t){t?this.Ff=oc(this.Ff,21):this.Ff=lc(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ic(this.Ff,23)},set:function(t){t?this.Ff=oc(this.Ff,23):this.Ff=lc(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ic(this.Ff,24)},set:function(t){t?this.Ff=oc(this.Ff,24):this.Ff=lc(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ic(this.Ff,25)},set:function(t){t?this.Ff=oc(this.Ff,25):this.Ff=lc(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ic(this.Ff,26)},set:function(t){t?this.Ff=oc(this.Ff,26):this.Ff=lc(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Rf(Px,em);var m5=function(){Px.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ic(this.Ff,14)},set:function(e){e?this.Ff=oc(this.Ff,14):this.Ff=lc(this.Ff,14)}}),this.password=!0};Rf(m5,Px);var Tn={CheckBox:{createAppearanceStream:function(){return{N:{On:Tn.CheckBox.YesNormal},D:{On:Tn.CheckBox.YesPushDown,Off:Tn.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Im(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=lB(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Ma(Tn.internal.getWidth(e))+" "+Ma(Tn.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Ma(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Im(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],i=Tn.internal.getHeight(e),o=Tn.internal.getWidth(e),l=lB(e,e.caption);return s.push("1 g"),s.push("0 0 "+Ma(o)+" "+Ma(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Ma(o-1)+" "+Ma(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+Ma(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Im(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ma(Tn.internal.getWidth(e))+" "+Ma(Tn.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Tn.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Tn.RadioButton.Circle.YesNormal,t.D[e]=Tn.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Im(e);t.scope=e.scope;var r=[],n=Tn.internal.getWidth(e)<=Tn.internal.getHeight(e)?Tn.internal.getWidth(e)/4:Tn.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Tn.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Vp(Tn.internal.getWidth(e)/2)+" "+Vp(Tn.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Im(e);t.scope=e.scope;var r=[],n=Tn.internal.getWidth(e)<=Tn.internal.getHeight(e)?Tn.internal.getWidth(e)/4:Tn.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Tn.internal.Bezier_C).toFixed(5)),o=Number((n*Tn.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Vp(Tn.internal.getWidth(e)/2)+" "+Vp(Tn.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Vp(Tn.internal.getWidth(e)/2)+" "+Vp(Tn.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Im(e);t.scope=e.scope;var r=[],n=Tn.internal.getWidth(e)<=Tn.internal.getHeight(e)?Tn.internal.getWidth(e)/4:Tn.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Tn.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Vp(Tn.internal.getWidth(e)/2)+" "+Vp(Tn.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Tn.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Tn.RadioButton.Cross.YesNormal,t.D[e]=Tn.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Im(e);t.scope=e.scope;var r=[],n=Tn.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Ma(Tn.internal.getWidth(e)-2)+" "+Ma(Tn.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Ma(n.x1.x)+" "+Ma(n.x1.y)+" m"),r.push(Ma(n.x2.x)+" "+Ma(n.x2.y)+" l"),r.push(Ma(n.x4.x)+" "+Ma(n.x4.y)+" m"),r.push(Ma(n.x3.x)+" "+Ma(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Im(e);t.scope=e.scope;var r=Tn.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ma(Tn.internal.getWidth(e))+" "+Ma(Tn.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ma(Tn.internal.getWidth(e)-2)+" "+Ma(Tn.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Ma(r.x1.x)+" "+Ma(r.x1.y)+" m"),n.push(Ma(r.x2.x)+" "+Ma(r.x2.y)+" l"),n.push(Ma(r.x4.x)+" "+Ma(r.x4.y)+" m"),n.push(Ma(r.x3.x)+" "+Ma(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Im(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ma(Tn.internal.getWidth(e))+" "+Ma(Tn.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Tn.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Tn.internal.getWidth(e),r=Tn.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Tn.internal.getWidth=function(e){var t=0;return qn(e)==="object"&&(t=TP(e.Rect[2])),t},Tn.internal.getHeight=function(e){var t=0;return qn(e)==="object"&&(t=TP(e.Rect[3])),t};var Ehe=Il.addField=function(e){if(Che(this,e),!(e instanceof em))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Il.AcroFormChoiceField=kv,Il.AcroFormListBox=Pv,Il.AcroFormComboBox=Lv,Il.AcroFormEditBox=f5,Il.AcroFormButton=Su,Il.AcroFormPushButton=h5,Il.AcroFormRadioButton=Ov,Il.AcroFormCheckBox=A5,Il.AcroFormTextField=Px,Il.AcroFormPasswordField=m5,Il.AcroFormAppearance=Tn,Il.AcroForm={ChoiceField:kv,ListBox:Pv,ComboBox:Lv,EditBox:f5,Button:Su,PushButton:h5,RadioButton:Ov,CheckBox:A5,TextField:Px,PasswordField:m5,Appearance:Tn},Wn.AcroForm={ChoiceField:kv,ListBox:Pv,ComboBox:Lv,EditBox:f5,Button:Su,PushButton:h5,RadioButton:Ov,CheckBox:A5,TextField:Px,PasswordField:m5,Appearance:Tn};Wn.AcroForm;function q$(e){return e.reduce((function(t,r,n){return t[r]=n,t}),{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(O,L){var V,J,ce,ee,de,se=t;if((L=L||t)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(U(O))for(de in r)for(ce=r[de],V=0;V<ce.length;V+=1){for(ee=!0,J=0;J<ce[V].length;J+=1)if(ce[V][J]!==void 0&&ce[V][J]!==O[J]){ee=!1;break}if(ee===!0){se=de;break}}else for(de in r)for(ce=r[de],V=0;V<ce.length;V+=1){for(ee=!0,J=0;J<ce[V].length;J+=1)if(ce[V][J]!==void 0&&ce[V][J]!==O.charCodeAt(J)){ee=!1;break}if(ee===!0){se=de;break}}return se===t&&L!==t&&(se=L),se},s=function O(L){for(var V=this.internal.write,J=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var ee=[];if(ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Image"}),ee.push({key:"Width",value:L.width}),ee.push({key:"Height",value:L.height}),L.colorSpace===v.INDEXED?ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(ee.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===v.DEVICE_CMYK&&ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ee.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&ee.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)){for(var de="",se=0,he=L.transparency.length;se<he;se++)de+=L.transparency[se]+" "+L.transparency[se]+" ";ee.push({key:"Mask",value:"["+de+"]"})}L.sMask!==void 0&&ee.push({key:"SMask",value:L.objectId+1+" 0 R"});var fe=L.filter!==void 0?["/"+L.filter]:void 0;if(J({data:L.data,additionalKeyValues:ee,alreadyAppliedFilters:fe,objectId:L.objectId}),V("endobj"),"sMask"in L&&L.sMask!==void 0){var ve="/Predictor "+L.predictor+" /Colors 1 /BitsPerComponent "+L.bitsPerComponent+" /Columns "+L.width,B={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:L.bitsPerComponent,decodeParameters:ve,data:L.sMask};"filter"in L&&(B.filter=L.filter),O.call(this,B)}if(L.colorSpace===v.INDEXED){var R=this.internal.newObject();J({data:k(new Uint8Array(L.palette)),objectId:R}),V("endobj")}},i=function(){var O=this.internal.collections.addImage_images;for(var L in O)s.call(this,O[L])},o=function(){var O,L=this.internal.collections.addImage_images,V=this.internal.write;for(var J in L)V("/I"+(O=L[J]).index,O.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var O=this.internal.collections.addImage_images;return l.call(this),O},d=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(O){return typeof e["process"+O.toUpperCase()]=="function"},h=function(O){return qn(O)==="object"&&O.nodeType===1},m=function(O,L){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var V=""+O.getAttribute("src");if(V.indexOf("data:image/")===0)return L2(unescape(V).split("base64,").pop());var J=e.loadFile(V,!0);if(J!==void 0)return J}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var ce;switch(L){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;case"JPEG":case"JPG":default:ce="image/jpeg"}return L2(O.toDataURL(ce,1).split("base64,").pop())}},A=function(O){var L=this.internal.collections.addImage_images;if(L){for(var V in L)if(O===L[V].alias)return L[V]}},y=function(O,L,V){return O||L||(O=-96,L=-96),O<0&&(O=-1*V.width*72/O/this.internal.scaleFactor),L<0&&(L=-1*V.height*72/L/this.internal.scaleFactor),O===0&&(O=L*V.width/V.height),L===0&&(L=O*V.height/V.width),[O,L]},x=function(O,L,V,J,ce,ee){var de=y.call(this,V,J,ce),se=this.internal.getCoordinateString,he=this.internal.getVerticalCoordinateString,fe=c.call(this);if(V=de[0],J=de[1],fe[ce.index]=ce,ee){ee*=Math.PI/180;var ve=Math.cos(ee),B=Math.sin(ee),R=function(ie){return ie.toFixed(4)},Y=[R(ve),R(B),R(-1*B),R(ve),0,0,"cm"]}this.internal.write("q"),ee?(this.internal.write([1,"0","0",1,se(O),he(L+J),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([se(V),"0","0",se(J),"0","0","cm"].join(" "))):this.internal.write([se(V),"0","0",se(J),se(O),he(L+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=e.__addimage__.sHashCode=function(O){var L,V,J=0;if(typeof O=="string")for(V=O.length,L=0;L<V;L++)J=(J<<5)-J+O.charCodeAt(L),J|=0;else if(U(O))for(V=O.byteLength/2,L=0;L<V;L++)J=(J<<5)-J+O[L],J|=0;return J},E=e.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var L=!0;return O.length===0&&(L=!1),O.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(L=!1),L},T=e.__addimage__.extractImageFromDataUrl=function(O){var L=(O=O||"").split("base64,"),V=null;if(L.length===2){var J=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(L[0]);Array.isArray(J)&&(V={mimeType:J[1],charset:J[2],data:L[1]})}return V},P=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(O){return P()&&O instanceof ArrayBuffer};var U=e.__addimage__.isArrayBufferView=function(O){return P()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},M=e.__addimage__.binaryStringToUint8Array=function(O){for(var L=O.length,V=new Uint8Array(L),J=0;J<L;J++)V[J]=O.charCodeAt(J);return V},k=e.__addimage__.arrayBufferToBinaryString=function(O){for(var L="",V=U(O)?O:new Uint8Array(O),J=0;J<V.length;J+=8192)L+=String.fromCharCode.apply(null,V.subarray(J,J+8192));return L};e.addImage=function(){var O,L,V,J,ce,ee,de,se,he;if(typeof arguments[1]=="number"?(L=t,V=arguments[1],J=arguments[2],ce=arguments[3],ee=arguments[4],de=arguments[5],se=arguments[6],he=arguments[7]):(L=arguments[1],V=arguments[2],J=arguments[3],ce=arguments[4],ee=arguments[5],de=arguments[6],se=arguments[7],he=arguments[8]),qn(O=arguments[0])==="object"&&!h(O)&&"imageData"in O){var fe=O;O=fe.imageData,L=fe.format||L||t,V=fe.x||V||0,J=fe.y||J||0,ce=fe.w||fe.width||ce,ee=fe.h||fe.height||ee,de=fe.alias||de,se=fe.compression||se,he=fe.rotation||fe.angle||he}var ve=this.internal.getFilters();if(se===void 0&&ve.indexOf("FlateEncode")!==-1&&(se="SLOW"),isNaN(V)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var B=Q.call(this,O,L,de,se);return x.call(this,V,J,ce,ee,B,he),this};var Q=function(O,L,V,J){var ce,ee,de;if(typeof O=="string"&&n(O)===t){O=unescape(O);var se=z(O,!1);(se!==""||(se=e.loadFile(O,!0))!==void 0)&&(O=se)}if(h(O)&&(O=m(O,L)),L=n(O,L),!u(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((de=V)==null||de.length===0)&&(V=(function(he){return typeof he=="string"||U(he)?j(he):U(he.data)?j(he.data):null})(O)),(ce=A.call(this,V))||(P()&&(O instanceof Uint8Array||L==="RGBA"||(ee=O,O=M(O))),ce=this["process"+L.toUpperCase()](O,d.call(this),V,(function(he){return he&&typeof he=="string"&&(he=he.toUpperCase()),he in e.image_compression?he:b.NONE})(J),ee)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},z=e.__addimage__.convertBase64ToBinaryString=function(O,L){var V;L=typeof L!="boolean"||L;var J,ce="";if(typeof O=="string"){J=(V=T(O))!==null?V.data:O;try{ce=L2(J)}catch(ee){if(L)throw E(J)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ce};e.getImageProperties=function(O){var L,V,J="";if(h(O)&&(O=m(O)),typeof O=="string"&&n(O)===t&&((J=z(O,!1))===""&&(J=e.loadFile(O)||""),O=J),V=n(O),!u(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(!P()||O instanceof Uint8Array||(O=M(O)),!(L=this["process"+V.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=V,L}})(Wn.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Wn.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,u=!1,h=0;h<d.length&&!u;h++)switch((n=d[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var m=0;m<d.length;m++){n=d[m];var A=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(x.objId),j=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+A(b(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+A(b(j))+") >>",x.content=i;var E=x.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+E,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(x.objId,"0 R",v.objId,"0 R");break;case"freetext":s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var T=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+A(y(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var P=this.annotations._nameMap[n.options.name];n.options.pageNumber=P.page,n.options.top=P.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+A(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var U=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+U+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(n),w:c(r+s),h:d(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,s,i){var o,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var u=this.splitTextToSize(r,l).length;o=Math.ceil(d*u)}else l=c,o=d;return this.text(r,n,s,i),s+=.2*d,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,s-d,l,o,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Wn.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(x){return t[x.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=e.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&s.indexOf(x.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(x){var v=0,b=r,j="",E=0;for(v=0;v<x.length;v+=1)b[x.charCodeAt(v)]!==void 0?(E++,typeof(b=b[x.charCodeAt(v)])=="number"&&(j+=String.fromCharCode(b),b=r,E=0),v===x.length-1&&(b=r,j+=x.charAt(v-(E-1)),v-=E-1,E=0)):(b=r,j+=x.charAt(v-E),v-=E,E=0);return j};e.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(x,v,b){return o(x)?i(x)===!1?-1:!d(x)||!o(v)&&!o(b)||!o(b)&&l(v)||l(x)&&!o(v)||l(x)&&c(v)||l(x)&&l(v)?0:u(x)&&o(v)&&!l(v)&&o(b)&&d(b)?3:l(x)||!o(b)?1:2:-1},A=function(x){var v=0,b=0,j=0,E="",T="",P="",U=(x=x||"").split("\\s+"),M=[];for(v=0;v<U.length;v+=1){for(M.push(""),b=0;b<U[v].length;b+=1)E=U[v][b],T=U[v][b-1],P=U[v][b+1],o(E)?(j=m(E,T,P),M[v]+=j!==-1?String.fromCharCode(t[E.charCodeAt(0)][j]):E):M[v]+=E;M[v]=h(M[v])}return M.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var x,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(v)){var j=0;for(b=[],j=0;j<v.length;j+=1)Array.isArray(v[j])?b.push([A(v[j][0]),v[j][1],v[j][2]]):b.push([A(v[j])]);x=b}else x=A(v);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};e.events.push(["preProcessText",y])})(Wn.API),Wn.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}))}return this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Wn.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(x){m=x}});var A=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return A},set:function(x){A=x}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(x){y=x}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){n.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),m=d.scaleFactor||this.internal.scaleFactor,A=0,y=0,x=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=d.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce((function(E,T){return E.concat(v.splitTextToSize(T,b))}),[])):c=Array.isArray(c)?c:[c];for(var j=0;j<c.length;j++)A<(x=this.getStringUnitWidth(c[j],{font:h})*u)&&(A=x);return A!==0&&(y=c.length),{w:A/=m,h:Math.max((y*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,A=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,A&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,u,h,m){if(n.call(this),!u)throw new Error("No data for PDF table.");var A,y,x,v,b=[],j=[],E=[],T={},P={},U=[],M=[],k=(m=m||{}).autoSize||!1,Q=m.printHeaders!==!1,z=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,O=m.margins||Object.assign({width:this.getPageWidth()},t),L=typeof m.padding=="number"?m.padding:3,V=m.headerBackgroundColor||"#c8c8c8",J=m.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=Q,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=z,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=J,this.setFontSize(z),h==null)j=b=Object.keys(u[0]),E=b.map((function(){return"left"}));else if(Array.isArray(h)&&qn(h[0])==="object")for(b=h.map((function(fe){return fe.name})),j=h.map((function(fe){return fe.prompt||fe.name||""})),E=h.map((function(fe){return fe.align||"left"})),A=0;A<h.length;A+=1)P[h[A].name]=h[A].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(j=b=h,E=b.map((function(){return"left"})));if(k||Array.isArray(h)&&typeof h[0]=="string")for(A=0;A<b.length;A+=1){for(T[v=b[A]]=u.map((function(fe){return fe[v]})),this.setFont(void 0,"bold"),U.push(this.getTextDimensions(j[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=T[v],this.setFont(void 0,"normal"),x=0;x<y.length;x+=1)U.push(this.getTextDimensions(y[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[v]=Math.max.apply(null,U)+L+L,U=[]}if(Q){var ce={};for(A=0;A<b.length;A+=1)ce[b[A]]={},ce[b[A]].text=j[A],ce[b[A]].align=E[A];var ee=l.call(this,ce,P);M=b.map((function(fe){return new i(c,d,P[fe],ee,ce[fe].text,void 0,ce[fe].align)})),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var de=h.reduce((function(fe,ve){return fe[ve.name]=ve.align,fe}),{});for(A=0;A<u.length;A+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:A,data:u[A]},this);var se=l.call(this,u[A],P);for(x=0;x<b.length;x+=1){var he=u[A][b[x]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:A,col:x,data:he},this),o.call(this,new i(c,d,P[b[x]],se,he,A+2,de[b[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map((function(A){var y=c[A];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,d[A]-u-u)}),this).map((function(A){return this.getLineHeightFactor()*A.length*h/m+u+u}),this).reduce((function(A,y){return Math.max(A,y)}),0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],A=0;A<this.internal.__cell__.tableHeaderRow.length;A+=1){u=this.internal.__cell__.tableHeaderRow[A].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,m.push(u)),u.lineNumber=c;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(y)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}})(Wn.API);var G$={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},W$=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],cB=q$(W$),Y$=[100,200,300,400,500,600,700,800,900],Bhe=q$(Y$);function uB(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return G$[i=i||"normal"]?i:"normal"})(e.style),n=(function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}})(e.weight),s=(function(i){return typeof cB[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function _P(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var The={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},FP={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function IP(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function _he(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},The,r.genericFontFamilies||{}),i=null,o=null,l=0;l<t.length;++l)if(s[(i=uB(t[l])).family]&&(i.family=s[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+IP(i)+"' and default family '"+n+"'.");if(o=(function(c,d){if(d[c])return d[c];var u=cB[c],h=u<=cB.normal?-1:1,m=_P(d,W$,u,h);if(!m)throw new Error("Could not find a matching font-stretch value for "+c);return m})(i.stretch,o),o=(function(c,d){if(d[c])return d[c];for(var u=G$[c],h=0;h<u.length;++h)if(d[u[h]])return d[u[h]];throw new Error("Could not find a matching font-style for "+c)})(i.style,o),!(o=(function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var u=Bhe[c],h=_P(d,Y$,u,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h})(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+IP(i)+"'.");return o}function kP(e){return e.trimLeft()}function Fhe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Ihe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var N4,PP,LP,P3=["times"];(function(e){var t,r,n,s,i,o,l,c,d,u=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new c,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new o,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new o,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var h=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=B;Object.defineProperty(this,"pdf",{get:function(){return R}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(re){Y=!!re}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(re){ie=!!re}});var ge=0;Object.defineProperty(this,"posX",{get:function(){return ge},set:function(re){isNaN(re)||(ge=re)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(re){isNaN(re)||(ye=re)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(re){var Ce;typeof re=="number"?Ce=[re,re,re,re]:((Ce=new Array(4))[0]=re[0],Ce[1]=re.length>=2?re[1]:Ce[0],Ce[2]=re.length>=3?re[2]:Ce[0],Ce[3]=re.length>=4?re[3]:Ce[1]),d.margin=Ce}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(re){pe=re}});var Z=0;Object.defineProperty(this,"lastBreak",{get:function(){return Z},set:function(re){Z=re}});var le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return le},set:function(re){le=re}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(re){re instanceof u&&(d=re)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(re){d.path=re}});var te=[];Object.defineProperty(this,"ctxStack",{get:function(){return te},set:function(re){te=re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(re){var Ce;Ce=m(re),this.ctx.fillStyle=Ce.style,this.ctx.isFillTransparent=Ce.a===0,this.ctx.fillOpacity=Ce.a,this.pdf.setFillColor(Ce.r,Ce.g,Ce.b,{a:Ce.a}),this.pdf.setTextColor(Ce.r,Ce.g,Ce.b,{a:Ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(re){var Ce=m(re);this.ctx.strokeStyle=Ce.style,this.ctx.isStrokeTransparent=Ce.a===0,this.ctx.strokeOpacity=Ce.a,Ce.a===0?this.pdf.setDrawColor(255,255,255):(Ce.a,this.pdf.setDrawColor(Ce.r,Ce.g,Ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(re){["butt","round","square"].indexOf(re)!==-1&&(this.ctx.lineCap=re,this.pdf.setLineCap(re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(re){isNaN(re)||(this.ctx.lineWidth=re,this.pdf.setLineWidth(re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(re){["bevel","round","miter"].indexOf(re)!==-1&&(this.ctx.lineJoin=re,this.pdf.setLineJoin(re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(re){isNaN(re)||(this.ctx.miterLimit=re,this.pdf.setMiterLimit(re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(re){this.ctx.textBaseline=re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(re){["right","end","center","left","start"].indexOf(re)!==-1&&(this.ctx.textAlign=re)}});var Ne=null;function Fe(re,Ce){if(Ne===null){var st=(function(et){var He=[];return Object.keys(et).forEach((function(ct){et[ct].forEach((function(_e){var ke=null;switch(_e){case"bold":ke={family:ct,weight:"bold"};break;case"italic":ke={family:ct,style:"italic"};break;case"bolditalic":ke={family:ct,weight:"bold",style:"italic"};break;case"":case"normal":ke={family:ct}}ke!==null&&(ke.ref={name:ct,style:_e},He.push(ke))}))})),He})(re.getFontList());Ne=(function(et){for(var He={},ct=0;ct<et.length;++ct){var _e=uB(et[ct]),ke=_e.family,Ze=_e.stretch,Pe=_e.style,ot=_e.weight;He[ke]=He[ke]||{},He[ke][Ze]=He[ke][Ze]||{},He[ke][Ze][Pe]=He[ke][Ze][Pe]||{},He[ke][Ze][Pe][ot]=_e}return He})(st.concat(Ce))}return Ne}var be=null;Object.defineProperty(this,"fontFaces",{get:function(){return be},set:function(re){Ne=null,be=re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(re){var Ce;if(this.ctx.font=re,(Ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(re))!==null){var st=Ce[1],et=(Ce[2],Ce[3]),He=Ce[4],ct=(Ce[5],Ce[6]),_e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(He)[2];He=Math.floor(_e==="px"?parseFloat(He)*this.pdf.internal.scaleFactor:_e==="em"?parseFloat(He)*this.pdf.getFontSize():parseFloat(He)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(He);var ke=(function(Me){var Te,je,Ke=[],Le=Me.trim();if(Le==="")return P3;if(Le in FP)return[FP[Le]];for(;Le!=="";){switch(je=null,Te=(Le=kP(Le)).charAt(0)){case'"':case"'":je=Fhe(Le.substring(1),Te);break;default:je=Ihe(Le)}if(je===null||(Ke.push(je[0]),(Le=kP(je[1]))!==""&&Le.charAt(0)!==","))return P3;Le=Le.replace(/^,/,"")}return Ke})(ct);if(this.fontFaces){var Ze=_he(Fe(this.pdf,this.fontFaces),ke.map((function(Me){return{family:Me,stretch:"normal",weight:et,style:st}})));this.pdf.setFont(Ze.ref.name,Ze.ref.style)}else{var Pe="";(et==="bold"||parseInt(et,10)>=700||st==="bold")&&(Pe="bold"),st==="italic"&&(Pe+="italic"),Pe.length===0&&(Pe="normal");for(var ot="",Ge={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},lt=0;lt<ke.length;lt++){if(this.pdf.internal.getFont(ke[lt],Pe,{noFallback:!0,disableWarning:!0})!==void 0){ot=ke[lt];break}if(Pe==="bolditalic"&&this.pdf.internal.getFont(ke[lt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ot=ke[lt],Pe="bold";else if(this.pdf.internal.getFont(ke[lt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ot=ke[lt],Pe="normal";break}}if(ot===""){for(var Je=0;Je<ke.length;Je++)if(Ge[ke[Je]]){ot=Ge[ke[Je]];break}}ot=ot===""?"Times":ot,this.pdf.setFont(ot,Pe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(re){this.ctx.globalCompositeOperation=re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(re){this.ctx.globalAlpha=re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(re){this.ctx.lineDashOffset=re,ve.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(re){this.ctx.lineDash=re,ve.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(re){this.ctx.ignoreClearRect=!!re}})};h.prototype.setLineDash=function(B){this.lineDash=B},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){T.call(this,"fill",!1)},h.prototype.stroke=function(){T.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(B,R){if(isNaN(B)||isNaN(R))throw ho.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new o(B,R));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(B,R)},h.prototype.closePath=function(){var B=new o(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&qn(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){B=new o(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(B.x,B.y)},h.prototype.lineTo=function(B,R){if(isNaN(B)||isNaN(R))throw ho.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new o(B,R));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(Y.x,Y.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},h.prototype.quadraticCurveTo=function(B,R,Y,ie){if(isNaN(Y)||isNaN(ie)||isNaN(B)||isNaN(R))throw ho.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ge=this.ctx.transform.applyToPoint(new o(Y,ie)),ye=this.ctx.transform.applyToPoint(new o(B,R));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new o(ge.x,ge.y)},h.prototype.bezierCurveTo=function(B,R,Y,ie,ge,ye){if(isNaN(ge)||isNaN(ye)||isNaN(B)||isNaN(R)||isNaN(Y)||isNaN(ie))throw ho.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new o(ge,ye)),Z=this.ctx.transform.applyToPoint(new o(B,R)),le=this.ctx.transform.applyToPoint(new o(Y,ie));this.path.push({type:"bct",x1:Z.x,y1:Z.y,x2:le.x,y2:le.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new o(pe.x,pe.y)},h.prototype.arc=function(B,R,Y,ie,ge,ye){if(isNaN(B)||isNaN(R)||isNaN(Y)||isNaN(ie)||isNaN(ge))throw ho.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new o(B,R));B=pe.x,R=pe.y;var Z=this.ctx.transform.applyToPoint(new o(0,Y)),le=this.ctx.transform.applyToPoint(new o(0,0));Y=Math.sqrt(Math.pow(Z.x-le.x,2)+Math.pow(Z.y-le.y,2))}Math.abs(ge-ie)>=2*Math.PI&&(ie=0,ge=2*Math.PI),this.path.push({type:"arc",x:B,y:R,radius:Y,startAngle:ie,endAngle:ge,counterclockwise:ye})},h.prototype.arcTo=function(B,R,Y,ie,ge){throw new Error("arcTo not implemented.")},h.prototype.rect=function(B,R,Y,ie){if(isNaN(B)||isNaN(R)||isNaN(Y)||isNaN(ie))throw ho.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,R),this.lineTo(B+Y,R),this.lineTo(B+Y,R+ie),this.lineTo(B,R+ie),this.lineTo(B,R),this.lineTo(B+Y,R),this.lineTo(B,R)},h.prototype.fillRect=function(B,R,Y,ie){if(isNaN(B)||isNaN(R)||isNaN(Y)||isNaN(ie))throw ho.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!A.call(this)){var ge={};this.lineCap!=="butt"&&(ge.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ge.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,R,Y,ie),this.fill(),ge.hasOwnProperty("lineCap")&&(this.lineCap=ge.lineCap),ge.hasOwnProperty("lineJoin")&&(this.lineJoin=ge.lineJoin)}},h.prototype.strokeRect=function(B,R,Y,ie){if(isNaN(B)||isNaN(R)||isNaN(Y)||isNaN(ie))throw ho.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(B,R,Y,ie),this.stroke())},h.prototype.clearRect=function(B,R,Y,ie){if(isNaN(B)||isNaN(R)||isNaN(Y)||isNaN(ie))throw ho.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,R,Y,ie))},h.prototype.save=function(B){B=typeof B!="boolean"||B;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},h.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(R),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(B){var R,Y,ie,ge;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))R=0,Y=0,ie=0,ge=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(ye!==null)R=parseInt(ye[1]),Y=parseInt(ye[2]),ie=parseInt(ye[3]),ge=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)R=parseInt(ye[1]),Y=parseInt(ye[2]),ie=parseInt(ye[3]),ge=parseFloat(ye[4]);else{if(ge=1,typeof B=="string"&&B.charAt(0)!=="#"){var pe=new Q$(B);B=pe.ok?pe.toHex():"#000000"}B.length===4?(R=B.substring(1,2),R+=R,Y=B.substring(2,3),Y+=Y,ie=B.substring(3,4),ie+=ie):(R=B.substring(1,3),Y=B.substring(3,5),ie=B.substring(5,7)),R=parseInt(R,16),Y=parseInt(Y,16),ie=parseInt(ie,16)}}return{r:R,g:Y,b:ie,a:ge,style:B}},A=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(B,R,Y,ie){if(isNaN(R)||isNaN(Y)||typeof B!="string")throw ho.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!A.call(this)){var ge=se(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;L.call(this,{text:B,x:R,y:Y,scale:ye,angle:ge,align:this.textAlign,maxWidth:ie})}},h.prototype.strokeText=function(B,R,Y,ie){if(isNaN(R)||isNaN(Y)||typeof B!="string")throw ho.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){ie=isNaN(ie)?void 0:ie;var ge=se(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;L.call(this,{text:B,x:R,y:Y,scale:ye,renderingMode:"stroke",angle:ge,align:this.textAlign,maxWidth:ie})}},h.prototype.measureText=function(B){if(typeof B!="string")throw ho.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,Y=this.pdf.internal.scaleFactor,ie=R.internal.getFontSize(),ge=R.getStringUnitWidth(B)*ie/R.internal.scaleFactor,ye=function(pe){var Z=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Z}}),this};return new ye({width:ge*=Math.round(96*Y/72*1e4)/1e4})},h.prototype.scale=function(B,R){if(isNaN(B)||isNaN(R))throw ho.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new c(B,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.rotate=function(B){if(isNaN(B))throw ho.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new c(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},h.prototype.translate=function(B,R){if(isNaN(B)||isNaN(R))throw ho.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new c(1,0,0,1,B,R);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.transform=function(B,R,Y,ie,ge,ye){if(isNaN(B)||isNaN(R)||isNaN(Y)||isNaN(ie)||isNaN(ge)||isNaN(ye))throw ho.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new c(B,R,Y,ie,ge,ye);this.ctx.transform=this.ctx.transform.multiply(pe)},h.prototype.setTransform=function(B,R,Y,ie,ge,ye){B=isNaN(B)?1:B,R=isNaN(R)?0:R,Y=isNaN(Y)?0:Y,ie=isNaN(ie)?1:ie,ge=isNaN(ge)?0:ge,ye=isNaN(ye)?0:ye,this.ctx.transform=new c(B,R,Y,ie,ge,ye)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(B,R,Y,ie,ge,ye,pe,Z,le){var te=this.pdf.getImageProperties(B),Ne=1,Fe=1,be=1,re=1;ie!==void 0&&Z!==void 0&&(be=Z/ie,re=le/ge,Ne=te.width/ie*Z/ie,Fe=te.height/ge*le/ge),ye===void 0&&(ye=R,pe=Y,R=0,Y=0),ie!==void 0&&Z===void 0&&(Z=ie,le=ge),ie===void 0&&Z===void 0&&(Z=te.width,le=te.height);for(var Ce,st=this.ctx.transform.decompose(),et=se(st.rotate.shx),He=new c,ct=(He=(He=(He=He.multiply(st.translate)).multiply(st.skew)).multiply(st.scale)).applyToRectangle(new l(ye-R*be,pe-Y*re,ie*Ne,ge*Fe)),_e=v.call(this,ct),ke=[],Ze=0;Ze<_e.length;Ze+=1)ke.indexOf(_e[Ze])===-1&&ke.push(_e[Ze]);if(E(ke),this.autoPaging)for(var Pe=ke[0],ot=ke[ke.length-1],Ge=Pe;Ge<ot+1;Ge++){this.pdf.setPage(Ge);var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Je=Ge===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Te=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],je=Ge===1?0:Me+(Ge-2)*Te;if(this.ctx.clip_path.length!==0){var Ke=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Ce,this.posX+this.margin[3],-je+Je+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=Ke}var Le=JSON.parse(JSON.stringify(ct));Le=j([Le],this.posX+this.margin[3],-je+Je+this.ctx.prevPageLastElemOffset)[0];var rt=(Ge>Pe||Ge<ot)&&x.call(this);rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,Te,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",Le.x,Le.y,Le.w,Le.h,null,null,et),rt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(B,"JPEG",ct.x,ct.y,ct.w,ct.h,null,null,et)};var v=function(B,R,Y){var ie=[];R=R||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ge=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":ie.push(Math.floor((B.y+ge)/Y)+1);break;case"arc":ie.push(Math.floor((B.y+ge-B.radius)/Y)+1),ie.push(Math.floor((B.y+ge+B.radius)/Y)+1);break;case"qct":var ye=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);ie.push(Math.floor((ye.y+ge)/Y)+1),ie.push(Math.floor((ye.y+ye.h+ge)/Y)+1);break;case"bct":var pe=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);ie.push(Math.floor((pe.y+ge)/Y)+1),ie.push(Math.floor((pe.y+pe.h+ge)/Y)+1);break;case"rect":ie.push(Math.floor((B.y+ge)/Y)+1),ie.push(Math.floor((B.y+B.h+ge)/Y)+1)}for(var Z=0;Z<ie.length;Z+=1)for(;this.pdf.internal.getNumberOfPages()<ie[Z];)b.call(this);return ie},b=function(){var B=this.fillStyle,R=this.strokeStyle,Y=this.font,ie=this.lineCap,ge=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=R,this.font=Y,this.lineCap=ie,this.lineWidth=ge,this.lineJoin=ye},j=function(B,R,Y){for(var ie=0;ie<B.length;ie++)switch(B[ie].type){case"bct":B[ie].x2+=R,B[ie].y2+=Y;case"qct":B[ie].x1+=R,B[ie].y1+=Y;case"mt":case"lt":case"arc":default:B[ie].x+=R,B[ie].y+=Y}return B},E=function(B){return B.sort((function(R,Y){return R-Y}))},T=function(B,R){for(var Y,ie,ge=this.fillStyle,ye=this.strokeStyle,pe=this.lineCap,Z=this.lineWidth,le=Math.abs(Z*this.ctx.transform.scaleX),te=this.lineJoin,Ne=JSON.parse(JSON.stringify(this.path)),Fe=JSON.parse(JSON.stringify(this.path)),be=[],re=0;re<Fe.length;re++)if(Fe[re].x!==void 0)for(var Ce=v.call(this,Fe[re]),st=0;st<Ce.length;st+=1)be.indexOf(Ce[st])===-1&&be.push(Ce[st]);for(var et=0;et<be.length;et++)for(;this.pdf.internal.getNumberOfPages()<be[et];)b.call(this);if(E(be),this.autoPaging)for(var He=be[0],ct=be[be.length-1],_e=He;_e<ct+1;_e++){this.pdf.setPage(_e),this.fillStyle=ge,this.strokeStyle=ye,this.lineCap=pe,this.lineWidth=le,this.lineJoin=te;var ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=_e===1?this.posY+this.margin[0]:this.margin[0],Pe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=_e===1?0:Pe+(_e-2)*ot;if(this.ctx.clip_path.length!==0){var lt=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Y,this.posX+this.margin[3],-Ge+Ze+this.ctx.prevPageLastElemOffset),P.call(this,B,!0),this.path=lt}if(ie=JSON.parse(JSON.stringify(Ne)),this.path=j(ie,this.posX+this.margin[3],-Ge+Ze+this.ctx.prevPageLastElemOffset),R===!1||_e===0){var Je=(_e>He||_e<ct)&&x.call(this);Je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ke,ot,null).clip().discardPath()),P.call(this,B,R),Je&&this.pdf.restoreGraphicsState()}this.lineWidth=Z}else this.lineWidth=le,P.call(this,B,R),this.lineWidth=Z;this.path=Ne},P=function(B,R){if((B!=="stroke"||R||!y.call(this))&&(B==="stroke"||R||!A.call(this))){for(var Y,ie,ge=[],ye=this.path,pe=0;pe<ye.length;pe++){var Z=ye[pe];switch(Z.type){case"begin":ge.push({begin:!0});break;case"close":ge.push({close:!0});break;case"mt":ge.push({start:Z,deltas:[],abs:[]});break;case"lt":var le=ge.length;if(ye[pe-1]&&!isNaN(ye[pe-1].x)&&(Y=[Z.x-ye[pe-1].x,Z.y-ye[pe-1].y],le>0)){for(;le>=0;le--)if(ge[le-1].close!==!0&&ge[le-1].begin!==!0){ge[le-1].deltas.push(Y),ge[le-1].abs.push(Z);break}}break;case"bct":Y=[Z.x1-ye[pe-1].x,Z.y1-ye[pe-1].y,Z.x2-ye[pe-1].x,Z.y2-ye[pe-1].y,Z.x-ye[pe-1].x,Z.y-ye[pe-1].y],ge[ge.length-1].deltas.push(Y);break;case"qct":var te=ye[pe-1].x+2/3*(Z.x1-ye[pe-1].x),Ne=ye[pe-1].y+2/3*(Z.y1-ye[pe-1].y),Fe=Z.x+2/3*(Z.x1-Z.x),be=Z.y+2/3*(Z.y1-Z.y),re=Z.x,Ce=Z.y;Y=[te-ye[pe-1].x,Ne-ye[pe-1].y,Fe-ye[pe-1].x,be-ye[pe-1].y,re-ye[pe-1].x,Ce-ye[pe-1].y],ge[ge.length-1].deltas.push(Y);break;case"arc":ge.push({deltas:[],abs:[],arc:!0}),Array.isArray(ge[ge.length-1].abs)&&ge[ge.length-1].abs.push(Z)}}ie=R?null:B==="stroke"?"stroke":"fill";for(var st=!1,et=0;et<ge.length;et++)if(ge[et].arc)for(var He=ge[et].abs,ct=0;ct<He.length;ct++){var _e=He[ct];_e.type==="arc"?k.call(this,_e.x,_e.y,_e.radius,_e.startAngle,_e.endAngle,_e.counterclockwise,void 0,R,!st):V.call(this,_e.x,_e.y),st=!0}else if(ge[et].close===!0)this.pdf.internal.out("h"),st=!1;else if(ge[et].begin!==!0){var ke=ge[et].start.x,Ze=ge[et].start.y;J.call(this,ge[et].deltas,ke,Ze),st=!0}ie&&Q.call(this,ie),R&&z.call(this)}},U=function(B){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-Y;case"top":return B+R-Y;case"hanging":return B+R-2*Y;case"middle":return B+R/2-Y;case"ideographic":return B;case"alphabetic":default:return B}},M=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(R,Y){this.colorStops.push([R,Y])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(B,R,Y,ie,ge,ye,pe,Z,le){for(var te=ee.call(this,Y,ie,ge,ye),Ne=0;Ne<te.length;Ne++){var Fe=te[Ne];Ne===0&&(le?O.call(this,Fe.x1+B,Fe.y1+R):V.call(this,Fe.x1+B,Fe.y1+R)),ce.call(this,B,R,Fe.x2,Fe.y2,Fe.x3,Fe.y3,Fe.x4,Fe.y4)}Z?z.call(this):Q.call(this,pe)},Q=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},z=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(B,R){this.pdf.internal.out(r(B)+" "+n(R)+" m")},L=function(B){var R;switch(B.align){case"right":case"end":R="right";break;case"center":R="center";break;case"left":case"start":default:R="left"}var Y=this.pdf.getTextDimensions(B.text),ie=U.call(this,B.y),ge=M.call(this,ie)-Y.h,ye=this.ctx.transform.applyToPoint(new o(B.x,ie)),pe=this.ctx.transform.decompose(),Z=new c;Z=(Z=(Z=Z.multiply(pe.translate)).multiply(pe.skew)).multiply(pe.scale);for(var le,te,Ne,Fe=this.ctx.transform.applyToRectangle(new l(B.x,ie,Y.w,Y.h)),be=Z.applyToRectangle(new l(B.x,ge,Y.w,Y.h)),re=v.call(this,be),Ce=[],st=0;st<re.length;st+=1)Ce.indexOf(re[st])===-1&&Ce.push(re[st]);if(E(Ce),this.autoPaging)for(var et=Ce[0],He=Ce[Ce.length-1],ct=et;ct<He+1;ct++){this.pdf.setPage(ct);var _e=ct===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[2],Pe=Ze-this.margin[0],ot=this.pdf.internal.pageSize.width-this.margin[1],Ge=ot-this.margin[3],lt=ct===1?0:ke+(ct-2)*Pe;if(this.ctx.clip_path.length!==0){var Je=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(le,this.posX+this.margin[3],-1*lt+_e),P.call(this,"fill",!0),this.path=Je}var Me=j([JSON.parse(JSON.stringify(be))],this.posX+this.margin[3],-lt+_e+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*B.scale),Ne=this.lineWidth,this.lineWidth=Ne*B.scale);var Te=this.autoPaging!=="text";if(Te||Me.y+Me.h<=Ze){if(Te||Me.y>=_e&&Me.x<=ot){var je=Te?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||ot-Me.x)[0],Ke=j([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-lt+_e+this.ctx.prevPageLastElemOffset)[0],Le=Te&&(ct>et||ct<He)&&x.call(this);Le&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,Pe,null).clip().discardPath()),this.pdf.text(je,Ke.x,Ke.y,{angle:B.angle,align:R,renderingMode:B.renderingMode}),Le&&this.pdf.restoreGraphicsState()}}else Me.y<Ze&&(this.ctx.prevPageLastElemOffset+=Ze-Me.y);B.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=Ne)}else B.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*B.scale),Ne=this.lineWidth,this.lineWidth=Ne*B.scale),this.pdf.text(B.text,ye.x+this.posX,ye.y+this.posY,{angle:B.angle,align:R,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=Ne)},V=function(B,R,Y,ie){Y=Y||0,ie=ie||0,this.pdf.internal.out(r(B+Y)+" "+n(R+ie)+" l")},J=function(B,R,Y){return this.pdf.lines(B,R,Y,null,null)},ce=function(B,R,Y,ie,ge,ye,pe,Z){this.pdf.internal.out([t(s(Y+B)),t(i(ie+R)),t(s(ge+B)),t(i(ye+R)),t(s(pe+B)),t(i(Z+R)),"c"].join(" "))},ee=function(B,R,Y,ie){for(var ge=2*Math.PI,ye=Math.PI/2;R>Y;)R-=ge;var pe=Math.abs(Y-R);pe<ge&&ie&&(pe=ge-pe);for(var Z=[],le=ie?-1:1,te=R;pe>1e-5;){var Ne=te+le*Math.min(pe,ye);Z.push(de.call(this,B,te,Ne)),pe-=Math.abs(Ne-te),te=Ne}return Z},de=function(B,R,Y){var ie=(Y-R)/2,ge=B*Math.cos(ie),ye=B*Math.sin(ie),pe=ge,Z=-ye,le=pe*pe+Z*Z,te=le+pe*ge+Z*ye,Ne=4/3*(Math.sqrt(2*le*te)-te)/(pe*ye-Z*ge),Fe=pe-Ne*Z,be=Z+Ne*pe,re=Fe,Ce=-be,st=ie+R,et=Math.cos(st),He=Math.sin(st);return{x1:B*Math.cos(R),y1:B*Math.sin(R),x2:Fe*et-be*He,y2:Fe*He+be*et,x3:re*et-Ce*He,y3:re*He+Ce*et,x4:B*Math.cos(Y),y4:B*Math.sin(Y)}},se=function(B){return 180*B/Math.PI},he=function(B,R,Y,ie,ge,ye){var pe=B+.5*(Y-B),Z=R+.5*(ie-R),le=ge+.5*(Y-ge),te=ye+.5*(ie-ye),Ne=Math.min(B,ge,pe,le),Fe=Math.max(B,ge,pe,le),be=Math.min(R,ye,Z,te),re=Math.max(R,ye,Z,te);return new l(Ne,be,Fe-Ne,re-be)},fe=function(B,R,Y,ie,ge,ye,pe,Z){var le,te,Ne,Fe,be,re,Ce,st,et,He,ct,_e,ke,Ze,Pe=Y-B,ot=ie-R,Ge=ge-Y,lt=ye-ie,Je=pe-ge,Me=Z-ye;for(te=0;te<41;te++)et=(Ce=(Ne=B+(le=te/40)*Pe)+le*((be=Y+le*Ge)-Ne))+le*(be+le*(ge+le*Je-be)-Ce),He=(st=(Fe=R+le*ot)+le*((re=ie+le*lt)-Fe))+le*(re+le*(ye+le*Me-re)-st),te==0?(ct=et,_e=He,ke=et,Ze=He):(ct=Math.min(ct,et),_e=Math.min(_e,He),ke=Math.max(ke,et),Ze=Math.max(Ze,He));return new l(Math.round(ct),Math.round(_e),Math.round(ke-ct),Math.round(Ze-_e))},ve=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,R,Y=(B=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:R}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(Wn.API),(function(e){var t=function(i){var o,l,c,d,u,h,m,A,y,x;for(l=[],c=0,d=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;d>c;c+=4)(u=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(h=(u=((u=((u=((u=(u-(x=u%85))/85)-(y=u%85))/85)-(A=u%85))/85)-(m=u%85))/85)%85,l.push(h+33,m+33,A+33,y+33,x+33)):l.push(122);return(function(v,b){for(var j=b;j>0;j--)v.pop()})(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var o,l,c,d,u,h=String,m="length",A=255,y="charCodeAt",x="slice",v="replace";for(i[x](-2),i=i[x](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),c=[],d=0,u=(i+=o="uuuuu"[x](i[m]%5||5))[m];u>d;d+=5)l=52200625*(i[y](d)-33)+614125*(i[y](d+1)-33)+7225*(i[y](d+2)-33)+85*(i[y](d+3)-33)+(i[y](d+4)-33),c.push(A&l>>24,A&l>>16,A&l>>8,A&l);return(function(b,j){for(var E=j;E>0;E--)b.pop()})(c,o[m]),h.fromCharCode.apply(h,c)},n=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},s=function(i){for(var o=new Uint8Array(i.length),l=i.length;l--;)o[l]=i.charCodeAt(l);return i=(o=Vv(o)).reduce((function(c,d){return c+String.fromCharCode(d)}),"")};e.processDataByFilters=function(i,o){var l=0,c=i||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map((function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)})).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}})(Wn.API),(function(e){e.loadFile=function(t,r,n){return(function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,d,u){var h=new XMLHttpRequest,m=0,A=function(y){var x=y.length,v=[],b=String.fromCharCode;for(m=0;m<x;m+=1)v.push(b(255&y.charCodeAt(m)));return v.join("")};if(h.open("GET",c,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?u(A(this.responseText)):u(void 0)}),h.send(null),d&&h.status===200)return A(h.responseText)})(s,i,o)}catch{}return l})(t,r,n)},e.loadImageFile=e.loadFile})(Wn.API),(function(e){function t(){return(pa.html2canvas?Promise.resolve(pa.html2canvas):Iv(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch((function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))})).then((function(o){return o.default?o.default:o}))}function r(){return(pa.DOMPurify?Promise.resolve(pa.DOMPurify):Iv(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch((function(o){return Promise.reject(new Error("Could not load dompurify: "+o))})).then((function(o){return o.default?o.default:o}))}var n=function(o){var l=qn(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(o,l){var c=document.createElement(o);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},i=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,o,1,[o])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,l){return o.__proto__=l||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,l){return this.then((function(){switch(l=l||(function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o)){case"string":return this.then(r).then((function(c){return this.set({src:s("div",{innerHTML:o,dompurify:c})})}));case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}}))},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=(function c(d,u){for(var h=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),m=d.firstChild;m;m=m.nextSibling)u!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(c(m,u));return d.nodeType===1&&(d.nodeName==="CANVAS"?(h.width=d.width,h.height=d.height,h.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(h.value=d.value),h.addEventListener("load",(function(){h.scrollTop=d.scrollTop,h.scrollLeft=d.scrollLeft}),!0)),h})(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then((function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)})).then((function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)}))},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then((function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var m=0;m<d.length;++m){var A=d[m],y=A.src.find((function(x){return x.format==="truetype"}));y&&c.addFont(y.url,A.ref.name,A.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)})).then((function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)}))},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o}))},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},i.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},i.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(o,l)}))},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}}))},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},i.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map((function(c){if(c in i.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}}),this);return this.then((function(){return this.thenList(l)}))},i.prototype.get=function(o,l){return this.then((function(){var c=o in i.template.prop?this.prop[o]:this.opt[o];return l?l(c):c}))},i.prototype.setMargin=function(o){return this.then((function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o})).then(this.setPageSize)},i.prototype.setPageSize=function(o){function l(c,d){return Math.floor(c*d/72*96)}return this.then((function(){(o=o||Wn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o}))},i.prototype.setProgress=function(o,l,c,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,l,c,d){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},i.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,(function(d,u){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,(function(h){return c.updateProgress(null,d),h})).then(d,u).then((function(h){return c.updateProgress(1),h}))}))},i.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=c.call(d,o,l);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},i.prototype.thenList=function(o){var l=this;return o.forEach((function(c){l=l.thenCore(c)})),l},i.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return i.convert(l,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then((function(){throw new Error(o)}))},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Wn.getPageSize=function(o,l,c){if(qn(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var u,h=(""+c).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+l}var A,y=0,x=0;if(m.hasOwnProperty(h))y=m[h][1]/u,x=m[h][0]/u;else try{y=c[1],x=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",x>y&&(A=x,x=y,y=A);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>x&&(A=x,x=y,y=A)}return{width:x,height:y,unit:l,k:u,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(uB):null;var c=new i(l);return l.worker?c:c.from(o).doCallback()}})(Wn.API),Wn.API.addJS=function(e){return LP=e,this.internal.events.subscribe("postPutResources",(function(){N4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(N4+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),PP=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+LP+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){N4!==void 0&&PP!==void 0&&this.internal.out("/Names <</JavaScript "+N4+" 0 R>>")})),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(i=0;i<d;i++){var h=r.internal.newObject();u.push(h);var m=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var A=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+A+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var o={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])})(Wn.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,i,o,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=(function(h){for(var m,A=256*h.charCodeAt(4)+h.charCodeAt(5),y=h.length,x={width:0,height:0,numcomponents:1},v=4;v<y;v+=2){if(v+=A,t.indexOf(h.charCodeAt(v+1))!==-1){m=256*h.charCodeAt(v+5)+h.charCodeAt(v+6),x={width:256*h.charCodeAt(v+7)+h.charCodeAt(v+8),height:m,numcomponents:h.charCodeAt(v+9)};break}A=256*h.charCodeAt(v+2)+h.charCodeAt(v+3)}return x})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:s}}return u}})(Wn.API);var J1,j4,OP,DP,MP,khe=(function(){var e,t,r;function n(i){var o,l,c,d,u,h,m,A,y,x,v,b,j,E;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),y=(function(){var T,P;for(P=[],T=0;T<4;++T)P.push(String.fromCharCode(this.data[this.pos++]));return P}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),d=this.readUInt16()||100,h.delay=1e3*u/d,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,o-=4),i=h?.data||this.imgData,b=0;0<=o?b<o:b>o;0<=o?++b:--b)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((x=c-this.transparency.indexed.length)>0)for(j=0;0<=x?j<x:j>x;0<=x?++j:--j)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":m=(v=this.read(o)).indexOf(0),A=String.fromCharCode.apply(String,v.slice(0,m)),this.text[A]=String.fromCharCode.apply(String,v.slice(m+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(E=this.colorType)===4||E===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var o,l;for(l=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,d=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(h,m,A,y){var x,v,b,j,E,T,P,U,M,k,Q,z,O,L,V,J,ce,ee,de,se,he,fe=Math.ceil((d.width-h)/A),ve=Math.ceil((d.height-m)/y),B=d.width==fe&&d.height==ve;for(L=o*fe,z=B?l:new Uint8Array(L*ve),T=i.length,O=0,v=0;O<ve&&c<T;){switch(i[c++]){case 0:for(j=ce=0;ce<L;j=ce+=1)z[v++]=i[c++];break;case 1:for(j=ee=0;ee<L;j=ee+=1)x=i[c++],E=j<o?0:z[v-o],z[v++]=(x+E)%256;break;case 2:for(j=de=0;de<L;j=de+=1)x=i[c++],b=(j-j%o)/o,V=O&&z[(O-1)*L+b*o+j%o],z[v++]=(V+x)%256;break;case 3:for(j=se=0;se<L;j=se+=1)x=i[c++],b=(j-j%o)/o,E=j<o?0:z[v-o],V=O&&z[(O-1)*L+b*o+j%o],z[v++]=(x+Math.floor((E+V)/2))%256;break;case 4:for(j=he=0;he<L;j=he+=1)x=i[c++],b=(j-j%o)/o,E=j<o?0:z[v-o],O===0?V=J=0:(V=z[(O-1)*L+b*o+j%o],J=b&&z[(O-1)*L+(b-1)*o+j%o]),P=E+V-J,U=Math.abs(P-E),k=Math.abs(P-V),Q=Math.abs(P-J),M=U<=k&&U<=Q?E:k<=Q?V:J,z[v++]=(x+M)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!B){var R=((m+O*y)*d.width+h)*o,Y=O*L;for(j=0;j<fe;j+=1){for(var ie=0;ie<o;ie+=1)l[R++]=z[Y++];R+=(A-1)*o}}O++}}return i=dhe(i),d.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),l},n.prototype.decodePalette=function(){var i,o,l,c,d,u,h,m,A;for(l=this.palette,u=this.transparency.indexed||[],d=new Uint8Array((u.length||0)+l.length),c=0,i=0,o=h=0,m=l.length;h<m;o=h+=3)d[c++]=l[o],d[c++]=l[o+1],d[c++]=l[o+2],d[c++]=(A=u[i++])!=null?A:255;return d},n.prototype.copyToImageData=function(i,o){var l,c,d,u,h,m,A,y,x,v,b;if(c=this.colors,x=null,l=this.hasAlphaChannel,this.palette.length&&(x=(b=this._decodedPalette)!=null?b:this._decodedPalette=this.decodePalette(),c=4,l=!0),y=(d=i.data||i).length,h=x||o,u=m=0,c===1)for(;u<y;)A=x?4*o[u/4]:m,v=h[A++],d[u++]=v,d[u++]=v,d[u++]=v,d[u++]=l?h[A++]:255,m=A;else for(;u<y;)A=x?4*o[u/4]:m,d[u++]=h[A++],d[u++]=h[A++],d[u++]=h[A++],d[u++]=l?h[A++]:255,m=A},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(pa)==="[object Window]"){try{t=pa.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),e=function(i){var o;if(s()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var o,l,c,d,u,h,m,A;if(this.animation){for(A=[],l=u=0,h=(m=this.animation.frames).length;u<h;l=++u)o=m[l],c=i.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,d),o.imageData=c,A.push(o.image=e(c));return A}},n.prototype.renderFrame=function(i,o){var l,c,d;return l=(c=this.animation.frames)[o],d=c[o-1],o===0&&i.clearRect(0,0,this.width,this.height),d?.disposeOp===1?i.clearRect(d.xOffset,d.yOffset,d.width,d.height):d?.disposeOp===2&&i.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(i){var o,l,c,d,u,h,m=this;return l=0,h=this.animation,d=h.numFrames,c=h.frames,u=h.numPlays,(o=function(){var A,y;if(A=l++%d,y=c[A],m.renderFrame(i,A),d>1&&l/d<u)return m.animation._timeout=setTimeout(o,y.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var o,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Phe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,o=1<<(7&s)+1;e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var d=!0,u=[],h=0,m=null,A=0,y=null;for(this.width=r,this.height=n;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var x=e[t++];h=e[t++]|e[t++]<<8,m=e[t++],(1&x)==0&&(m=null),A=x>>2&7,t++;break;case 254:for(;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,T=e[t++],P=T>>6&1,U=1<<(7&T)+1,M=l,k=c,Q=!1;T>>7&&(Q=!0,M=t,k=U,t+=3*U);var z=t;for(t++;;){var O;if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}u.push({x:v,y:b,width:j,height:E,has_local_palette:Q,palette_offset:M,palette_size:k,data_offset:z,data_length:t-z,transparent_index:m,interlaced:!!P,delay:h,disposal:A});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return y},this.frameInfo=function(L){if(L<0||L>=u.length)throw new Error("Frame index out of range.");return u[L]},this.decodeAndBlitFrameBGRA=function(L,V){var J=this.frameInfo(L),ce=J.width*J.height,ee=new Uint8Array(ce);UP(e,J.data_offset,ee,ce);var de=J.palette_offset,se=J.transparent_index;se===null&&(se=256);var he=J.width,fe=r-he,ve=he,B=4*(J.y*r+J.x),R=4*((J.y+J.height)*r+J.x),Y=B,ie=4*fe;J.interlaced===!0&&(ie+=4*r*7);for(var ge=8,ye=0,pe=ee.length;ye<pe;++ye){var Z=ee[ye];if(ve===0&&(ve=he,(Y+=ie)>=R&&(ie=4*fe+4*r*(ge-1),Y=B+(he+fe)*(ge<<1),ge>>=1)),Z===se)Y+=4;else{var le=e[de+3*Z],te=e[de+3*Z+1],Ne=e[de+3*Z+2];V[Y++]=Ne,V[Y++]=te,V[Y++]=le,V[Y++]=255}--ve}},this.decodeAndBlitFrameRGBA=function(L,V){var J=this.frameInfo(L),ce=J.width*J.height,ee=new Uint8Array(ce);UP(e,J.data_offset,ee,ce);var de=J.palette_offset,se=J.transparent_index;se===null&&(se=256);var he=J.width,fe=r-he,ve=he,B=4*(J.y*r+J.x),R=4*((J.y+J.height)*r+J.x),Y=B,ie=4*fe;J.interlaced===!0&&(ie+=4*r*7);for(var ge=8,ye=0,pe=ee.length;ye<pe;++ye){var Z=ee[ye];if(ve===0&&(ve=he,(Y+=ie)>=R&&(ie=4*fe+4*r*(ge-1),Y=B+(he+fe)*(ge<<1),ge>>=1)),Z===se)Y+=4;else{var le=e[de+3*Z],te=e[de+3*Z+1],Ne=e[de+3*Z+2];V[Y++]=le,V[Y++]=te,V[Y++]=Ne,V[Y++]=255}--ve}}}function UP(e,t,r,n){for(var s=e[t++],i=1<<s,o=i+1,l=o+1,c=s+1,d=(1<<c)-1,u=0,h=0,m=0,A=e[t++],y=new Int32Array(4096),x=null;;){for(;u<16&&A!==0;)h|=e[t++]<<u,u+=8,A===1?A=e[t++]:--A;if(u<c)break;var v=h&d;if(h>>=c,u-=c,v!==i){if(v===o)break;for(var b=v<l?v:x,j=0,E=b;E>i;)E=y[E]>>8,++j;var T=E;if(m+j+(b!==v?1:0)>n)return void ho.log("Warning, gif stream longer than expected.");r[m++]=T;var P=m+=j;for(b!==v&&(r[m++]=T),E=b;j--;)E=y[E],r[--P]=255&E,E>>=8;x!==null&&l<4096&&(y[l++]=x<<8|T,l>=d+1&&c<12&&(++c,d=d<<1|1)),x=v}else l=o+1,d=(1<<(c=s+1))-1,x=null}return m!==n&&ho.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function L3(e){var t,r,n,s,i,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),h=new Array(65535),m=new Array(65535),A=new Array(64),y=new Array(64),x=[],v=0,b=7,j=new Array(64),E=new Array(64),T=new Array(64),P=new Array(256),U=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ee(B,R){for(var Y=0,ie=0,ge=new Array,ye=1;ye<=16;ye++){for(var pe=1;pe<=B[ye];pe++)ge[R[ie]]=[],ge[R[ie]][0]=Y,ge[R[ie]][1]=ye,ie++,Y++;Y*=2}return ge}function de(B){for(var R=B[0],Y=B[1]-1;Y>=0;)R&1<<Y&&(v|=1<<b),Y--,--b<0&&(v==255?(se(255),se(0)):se(v),b=7,v=0)}function se(B){x.push(B)}function he(B){se(B>>8&255),se(255&B)}function fe(B,R,Y,ie,ge){for(var ye,pe=ge[0],Z=ge[240],le=(function(He,ct){var _e,ke,Ze,Pe,ot,Ge,lt,Je,Me,Te,je=0;for(Me=0;Me<8;++Me){_e=He[je],ke=He[je+1],Ze=He[je+2],Pe=He[je+3],ot=He[je+4],Ge=He[je+5],lt=He[je+6];var Ke=_e+(Je=He[je+7]),Le=_e-Je,rt=ke+lt,Oe=ke-lt,De=Ze+Ge,ut=Ze-Ge,_t=Pe+ot,qt=Pe-ot,Ft=Ke+_t,gt=Ke-_t,Zt=rt+De,$t=rt-De;He[je]=Ft+Zt,He[je+4]=Ft-Zt;var rr=.707106781*($t+gt);He[je+2]=gt+rr,He[je+6]=gt-rr;var kr=.382683433*((Ft=qt+ut)-($t=Oe+Le)),Qr=.5411961*Ft+kr,dn=1.306562965*$t+kr,ja=.707106781*(Zt=ut+Oe),rn=Le+ja,Vr=Le-ja;He[je+5]=Vr+Qr,He[je+3]=Vr-Qr,He[je+1]=rn+dn,He[je+7]=rn-dn,je+=8}for(je=0,Me=0;Me<8;++Me){_e=He[je],ke=He[je+8],Ze=He[je+16],Pe=He[je+24],ot=He[je+32],Ge=He[je+40],lt=He[je+48];var On=_e+(Je=He[je+56]),Gn=_e-Je,Dn=ke+lt,Ct=ke-lt,fr=Ze+Ge,$e=Ze-Ge,pt=Pe+ot,ft=Pe-ot,mt=On+pt,Re=On-pt,Ee=Dn+fr,ht=Dn-fr;He[je]=mt+Ee,He[je+32]=mt-Ee;var nt=.707106781*(ht+Re);He[je+16]=Re+nt,He[je+48]=Re-nt;var Et=.382683433*((mt=ft+$e)-(ht=Ct+Gn)),Qe=.5411961*mt+Et,bt=1.306562965*ht+Et,It=.707106781*(Ee=$e+Ct),nr=Gn+It,tr=Gn-It;He[je+40]=tr+Qe,He[je+24]=tr-Qe,He[je+8]=nr+bt,He[je+56]=nr-bt,je++}for(Me=0;Me<64;++Me)Te=He[Me]*ct[Me],A[Me]=Te>0?Te+.5|0:Te-.5|0;return A})(B,R),te=0;te<64;++te)y[M[te]]=le[te];var Ne=y[0]-Y;Y=y[0],Ne==0?de(ie[0]):(de(ie[m[ye=32767+Ne]]),de(h[ye]));for(var Fe=63;Fe>0&&y[Fe]==0;)Fe--;if(Fe==0)return de(pe),Y;for(var be,re=1;re<=Fe;){for(var Ce=re;y[re]==0&&re<=Fe;)++re;var st=re-Ce;if(st>=16){be=st>>4;for(var et=1;et<=be;++et)de(Z);st&=15}ye=32767+y[re],de(ge[(st<<4)+m[ye]]),de(h[ye]),re++}return Fe!=63&&de(pe),Y}function ve(B){B=Math.min(Math.max(B,1),100),i!=B&&((function(R){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var ge=o((Y[ie]*R+50)/100);ge=Math.min(Math.max(ge,1),255),l[M[ie]]=ge}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var Z=o((ye[pe]*R+50)/100);Z=Math.min(Math.max(Z,1),255),c[M[pe]]=Z}for(var le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],te=0,Ne=0;Ne<8;Ne++)for(var Fe=0;Fe<8;Fe++)d[te]=1/(l[M[te]]*le[Ne]*le[Fe]*8),u[te]=1/(c[M[te]]*le[Ne]*le[Fe]*8),te++})(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),i=B)}this.encode=function(B,R){R&&ve(R),x=new Array,v=0,b=7,he(65496),he(65504),he(16),se(74),se(70),se(73),se(70),se(0),se(1),se(1),se(0),he(1),he(1),se(0),se(0),(function(){he(65499),he(132),se(0);for(var ke=0;ke<64;ke++)se(l[ke]);se(1);for(var Ze=0;Ze<64;Ze++)se(c[Ze])})(),(function(ke,Ze){he(65472),he(17),se(8),he(Ze),he(ke),se(3),se(1),se(17),se(0),se(2),se(17),se(1),se(3),se(17),se(1)})(B.width,B.height),(function(){he(65476),he(418),se(0);for(var ke=0;ke<16;ke++)se(k[ke+1]);for(var Ze=0;Ze<=11;Ze++)se(Q[Ze]);se(16);for(var Pe=0;Pe<16;Pe++)se(z[Pe+1]);for(var ot=0;ot<=161;ot++)se(O[ot]);se(1);for(var Ge=0;Ge<16;Ge++)se(L[Ge+1]);for(var lt=0;lt<=11;lt++)se(V[lt]);se(17);for(var Je=0;Je<16;Je++)se(J[Je+1]);for(var Me=0;Me<=161;Me++)se(ce[Me])})(),he(65498),he(12),se(3),se(1),se(0),se(2),se(17),se(3),se(17),se(0),se(63),se(0);var Y=0,ie=0,ge=0;v=0,b=7,this.encode.displayName="_encode_";for(var ye,pe,Z,le,te,Ne,Fe,be,re,Ce=B.data,st=B.width,et=B.height,He=4*st,ct=0;ct<et;){for(ye=0;ye<He;){for(te=He*ct+ye,Fe=-1,be=0,re=0;re<64;re++)Ne=te+(be=re>>3)*He+(Fe=4*(7&re)),ct+be>=et&&(Ne-=He*(ct+1+be-et)),ye+Fe>=He&&(Ne-=ye+Fe-He+4),pe=Ce[Ne++],Z=Ce[Ne++],le=Ce[Ne++],j[re]=(U[pe]+U[Z+256>>0]+U[le+512>>0]>>16)-128,E[re]=(U[pe+768>>0]+U[Z+1024>>0]+U[le+1280>>0]>>16)-128,T[re]=(U[pe+1280>>0]+U[Z+1536>>0]+U[le+1792>>0]>>16)-128;Y=fe(j,d,Y,t,n),ie=fe(E,u,ie,r,s),ge=fe(T,u,ge,r,s),ye+=32}ct+=8}if(b>=0){var _e=[];_e[1]=b+1,_e[0]=(1<<b+1)-1,de(_e)}return he(65497),new Uint8Array(x)},e=e||50,(function(){for(var B=String.fromCharCode,R=0;R<256;R++)P[R]=B(R)})(),t=ee(k,Q),r=ee(L,V),n=ee(z,O),s=ee(J,ce),(function(){for(var B=1,R=2,Y=1;Y<=15;Y++){for(var ie=B;ie<R;ie++)m[32767+ie]=Y,h[32767+ie]=[],h[32767+ie][1]=Y,h[32767+ie][0]=ie;for(var ge=-(R-1);ge<=-B;ge++)m[32767+ge]=Y,h[32767+ge]=[],h[32767+ge][1]=Y,h[32767+ge][0]=R-1+ge;B<<=1,R<<=1}})(),(function(){for(var B=0;B<256;B++)U[B]=19595*B,U[B+256>>0]=38470*B,U[B+512>>0]=7471*B+32768,U[B+768>>0]=-11059*B,U[B+1024>>0]=-21709*B,U[B+1280>>0]=32768*B+8421375,U[B+1536>>0]=-27439*B,U[B+1792>>0]=-5329*B})(),ve(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function MA(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function RP(e){function t(k){if(!k)throw Error("assert :P")}function r(k,Q,z){for(var O=0;4>O;O++)if(k[Q+O]!=z.charCodeAt(O))return!0;return!1}function n(k,Q,z,O,L){for(var V=0;V<L;V++)k[Q+V]=z[O+V]}function s(k,Q,z,O){for(var L=0;L<O;L++)k[Q+L]=z}function i(k){return new Int32Array(k)}function o(k,Q){for(var z=[],O=0;O<k;O++)z.push(new Q);return z}function l(k,Q){var z=[];return(function O(L,V,J){for(var ce=J[V],ee=0;ee<ce&&(L.push(J.length>V+1?[]:new Q),!(J.length<V+1));ee++)O(L[ee],V+1,J)})(z,0,k),z}var c=function(){var k=this;function Q(g,S){for(var I=1<<S-1>>>0;g&I;)I>>>=1;return I?(g&I-1)+I:g}function z(g,S,I,K,ne){t(!(K%I));do g[S+(K-=I)]=ne;while(0<K)}function O(g,S,I,K,ne){if(t(2328>=ne),512>=ne)var ue=i(512);else if((ue=i(ne))==null)return 0;return(function(me,xe,Se,Ie,Xe,vt){var Ve,at,wt=xe,Tt=1<<Se,it=i(16),xt=i(16);for(t(Xe!=0),t(Ie!=null),t(me!=null),t(0<Se),at=0;at<Xe;++at){if(15<Ie[at])return 0;++it[Ie[at]]}if(it[0]==Xe)return 0;for(xt[1]=0,Ve=1;15>Ve;++Ve){if(it[Ve]>1<<Ve)return 0;xt[Ve+1]=xt[Ve]+it[Ve]}for(at=0;at<Xe;++at)Ve=Ie[at],0<Ie[at]&&(vt[xt[Ve]++]=at);if(xt[15]==1)return(Ie=new L).g=0,Ie.value=vt[0],z(me,wt,1,Tt,Ie),Tt;var kt,Ut=-1,Dt=Tt-1,pr=0,ur=1,Ir=1,lr=1<<Se;for(at=0,Ve=1,Xe=2;Ve<=Se;++Ve,Xe<<=1){if(ur+=Ir<<=1,0>(Ir-=it[Ve]))return 0;for(;0<it[Ve];--it[Ve])(Ie=new L).g=Ve,Ie.value=vt[at++],z(me,wt+pr,Xe,lr,Ie),pr=Q(pr,Ve)}for(Ve=Se+1,Xe=2;15>=Ve;++Ve,Xe<<=1){if(ur+=Ir<<=1,0>(Ir-=it[Ve]))return 0;for(;0<it[Ve];--it[Ve]){if(Ie=new L,(pr&Dt)!=Ut){for(wt+=lr,kt=1<<(Ut=Ve)-Se;15>Ut&&!(0>=(kt-=it[Ut]));)++Ut,kt<<=1;Tt+=lr=1<<(kt=Ut-Se),me[xe+(Ut=pr&Dt)].g=kt+Se,me[xe+Ut].value=wt-xe-Ut}Ie.g=Ve-Se,Ie.value=vt[at++],z(me,wt+(pr>>Se),Xe,lr,Ie),pr=Q(pr,Ve)}}return ur!=2*xt[15]-1?0:Tt})(g,S,I,K,ne,ue)}function L(){this.value=this.g=0}function V(){this.value=this.g=0}function J(){this.G=o(5,L),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ms,V)}function ce(g,S,I,K){t(g!=null),t(S!=null),t(2147483648>K),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=S,g.pa=I,g.Jd=S,g.Yc=I+K,g.Zc=4<=K?I+K-4+1:I,ye(g)}function ee(g,S){for(var I=0;0<S--;)I|=Z(g,128)<<S;return I}function de(g,S){var I=ee(g,S);return pe(g)?-I:I}function se(g,S,I,K){var ne,ue=0;for(t(g!=null),t(S!=null),t(4294967288>K),g.Sb=K,g.Ra=0,g.u=0,g.h=0,4<K&&(K=4),ne=0;ne<K;++ne)ue+=S[I+ne]<<8*ne;g.Ra=ue,g.bb=K,g.oa=S,g.pa=I}function he(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<al-8>>>0,++g.bb,g.u-=8;Y(g)&&(g.h=1,g.u=0)}function fe(g,S){if(t(0<=S),!g.h&&S<=Gi){var I=R(g)&$n[S];return g.u+=S,he(g),I}return g.h=1,g.u=0}function ve(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function B(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function R(g){return g.Ra>>>(g.u&al-1)>>>0}function Y(g){return t(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>al}function ie(g,S){g.u=S,g.h=Y(g)}function ge(g){g.u>=Bo&&(t(g.u>=Bo),he(g))}function ye(g){t(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(t(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function pe(g){return ee(g,1)}function Z(g,S){var I=g.Ca;0>g.b&&ye(g);var K=g.b,ne=I*S>>>8,ue=(g.I>>>K>ne)+0;for(ue?(I-=ne,g.I-=ne+1<<K>>>0):I=ne+1,K=I,ne=0;256<=K;)ne+=8,K>>=8;return K=7^ne+li[K],g.b-=K,g.Ca=(I<<K)-1,ue}function le(g,S,I){g[S+0]=I>>24&255,g[S+1]=I>>16&255,g[S+2]=I>>8&255,g[S+3]=I>>0&255}function te(g,S){return g[S+0]<<0|g[S+1]<<8}function Ne(g,S){return te(g,S)|g[S+2]<<16}function Fe(g,S){return te(g,S)|te(g,S+2)<<16}function be(g,S){var I=1<<S;return t(g!=null),t(0<S),g.X=i(I),g.X==null?0:(g.Mb=32-S,g.Xa=S,1)}function re(g,S){t(g!=null),t(S!=null),t(g.Xa==S.Xa),n(S.X,0,g.X,0,1<<S.Xa)}function Ce(){this.X=[],this.Xa=this.Mb=0}function st(g,S,I,K){t(I!=null),t(K!=null);var ne=I[0],ue=K[0];return ne==0&&(ne=(g*ue+S/2)/S),ue==0&&(ue=(S*ne+g/2)/g),0>=ne||0>=ue?0:(I[0]=ne,K[0]=ue,1)}function et(g,S){return g+(1<<S)-1>>>S}function He(g,S){return((4278255360&g)+(4278255360&S)>>>0&4278255360)+((16711935&g)+(16711935&S)>>>0&16711935)>>>0}function ct(g,S){k[S]=function(I,K,ne,ue,me,xe,Se){var Ie;for(Ie=0;Ie<me;++Ie){var Xe=k[g](xe[Se+Ie-1],ne,ue+Ie);xe[Se+Ie]=He(I[K+Ie],Xe)}}}function _e(){this.ud=this.hd=this.jd=0}function ke(g,S){return((4278124286&(g^S))>>>1)+(g&S)>>>0}function Ze(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Pe(g,S){return Ze(g+(g-S+.5>>1))}function ot(g,S,I){return Math.abs(S-I)-Math.abs(g-I)}function Ge(g,S,I,K,ne,ue,me){for(K=ue[me-1],I=0;I<ne;++I)ue[me+I]=K=He(g[S+I],K)}function lt(g,S,I,K,ne){var ue;for(ue=0;ue<I;++ue){var me=g[S+ue],xe=me>>8&255,Se=16711935&(Se=(Se=16711935&me)+((xe<<16)+xe));K[ne+ue]=(4278255360&me)+Se>>>0}}function Je(g,S){S.jd=g>>0&255,S.hd=g>>8&255,S.ud=g>>16&255}function Me(g,S,I,K,ne,ue){var me;for(me=0;me<K;++me){var xe=S[I+me],Se=xe>>>8,Ie=xe,Xe=255&(Xe=(Xe=xe>>>16)+((g.jd<<24>>24)*(Se<<24>>24)>>>5));Ie=255&(Ie=(Ie=Ie+((g.hd<<24>>24)*(Se<<24>>24)>>>5))+((g.ud<<24>>24)*(Xe<<24>>24)>>>5)),ne[ue+me]=(4278255360&xe)+(Xe<<16)+Ie}}function Te(g,S,I,K,ne){k[S]=function(ue,me,xe,Se,Ie,Xe,vt,Ve,at){for(Se=vt;Se<Ve;++Se)for(vt=0;vt<at;++vt)Ie[Xe++]=ne(xe[K(ue[me++])])},k[g]=function(ue,me,xe,Se,Ie,Xe,vt){var Ve=8>>ue.b,at=ue.Ea,wt=ue.K[0],Tt=ue.w;if(8>Ve)for(ue=(1<<ue.b)-1,Tt=(1<<Ve)-1;me<xe;++me){var it,xt=0;for(it=0;it<at;++it)it&ue||(xt=K(Se[Ie++])),Xe[vt++]=ne(wt[xt&Tt]),xt>>=Ve}else k["VP8LMapColor"+I](Se,Ie,wt,Tt,Xe,vt,me,xe,at)}}function je(g,S,I,K,ne){for(I=S+I;S<I;){var ue=g[S++];K[ne++]=ue>>16&255,K[ne++]=ue>>8&255,K[ne++]=ue>>0&255}}function Ke(g,S,I,K,ne){for(I=S+I;S<I;){var ue=g[S++];K[ne++]=ue>>16&255,K[ne++]=ue>>8&255,K[ne++]=ue>>0&255,K[ne++]=ue>>24&255}}function Le(g,S,I,K,ne){for(I=S+I;S<I;){var ue=(me=g[S++])>>16&240|me>>12&15,me=me>>0&240|me>>28&15;K[ne++]=ue,K[ne++]=me}}function rt(g,S,I,K,ne){for(I=S+I;S<I;){var ue=(me=g[S++])>>16&248|me>>13&7,me=me>>5&224|me>>3&31;K[ne++]=ue,K[ne++]=me}}function Oe(g,S,I,K,ne){for(I=S+I;S<I;){var ue=g[S++];K[ne++]=ue>>0&255,K[ne++]=ue>>8&255,K[ne++]=ue>>16&255}}function De(g,S,I,K,ne,ue){if(ue==0)for(I=S+I;S<I;)le(K,((ue=g[S++])[0]>>24|ue[1]>>8&65280|ue[2]<<8&16711680|ue[3]<<24)>>>0),ne+=32;else n(K,ne,g,S,I)}function ut(g,S){k[S][0]=k[g+"0"],k[S][1]=k[g+"1"],k[S][2]=k[g+"2"],k[S][3]=k[g+"3"],k[S][4]=k[g+"4"],k[S][5]=k[g+"5"],k[S][6]=k[g+"6"],k[S][7]=k[g+"7"],k[S][8]=k[g+"8"],k[S][9]=k[g+"9"],k[S][10]=k[g+"10"],k[S][11]=k[g+"11"],k[S][12]=k[g+"12"],k[S][13]=k[g+"13"],k[S][14]=k[g+"0"],k[S][15]=k[g+"0"]}function _t(g){return g==du||g==ql||g==Cl||g==Vc}function qt(){this.eb=[],this.size=this.A=this.fb=0}function Ft(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function gt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new qt,this.f.kb=new Ft,this.sd=null}function Zt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function $t(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function rr(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function kr(g,S){var I=g.T,K=S.ba.f.RGBA,ne=K.eb,ue=K.fb+g.ka*K.A,me=ds[S.ba.S],xe=g.y,Se=g.O,Ie=g.f,Xe=g.N,vt=g.ea,Ve=g.W,at=S.cc,wt=S.dc,Tt=S.Mc,it=S.Nc,xt=g.ka,kt=g.ka+g.T,Ut=g.U,Dt=Ut+1>>1;for(xt==0?me(xe,Se,null,null,Ie,Xe,vt,Ve,Ie,Xe,vt,Ve,ne,ue,null,null,Ut):(me(S.ec,S.fc,xe,Se,at,wt,Tt,it,Ie,Xe,vt,Ve,ne,ue-K.A,ne,ue,Ut),++I);xt+2<kt;xt+=2)at=Ie,wt=Xe,Tt=vt,it=Ve,Xe+=g.Rc,Ve+=g.Rc,ue+=2*K.A,me(xe,(Se+=2*g.fa)-g.fa,xe,Se,at,wt,Tt,it,Ie,Xe,vt,Ve,ne,ue-K.A,ne,ue,Ut);return Se+=g.fa,g.j+kt<g.o?(n(S.ec,S.fc,xe,Se,Ut),n(S.cc,S.dc,Ie,Xe,Dt),n(S.Mc,S.Nc,vt,Ve,Dt),I--):1&kt||me(xe,Se,null,null,Ie,Xe,vt,Ve,Ie,Xe,vt,Ve,ne,ue+K.A,null,null,Ut),I}function Qr(g,S,I){var K=g.F,ne=[g.J];if(K!=null){var ue=g.U,me=S.ba.S,xe=me==uu||me==Cl;S=S.ba.f.RGBA;var Se=[0],Ie=g.ka;Se[0]=g.T,g.Kb&&(Ie==0?--Se[0]:(--Ie,ne[0]-=g.width),g.j+g.ka+g.T==g.o&&(Se[0]=g.o-g.j-Ie));var Xe=S.eb;Ie=S.fb+Ie*S.A,g=Sa(K,ne[0],g.width,ue,Se,Xe,Ie+(xe?0:3),S.A),t(I==Se),g&&_t(me)&&oo(Xe,Ie,xe,ue,Se,S.A)}return 0}function dn(g){var S=g.ma,I=S.ba.S,K=11>I,ne=I==Kl||I==zc||I==uu||I==Sl||I==12||_t(I);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!vs(S.Oa,g,ne?11:12))return 0;if(ne&&_t(I)&&Br(),g.da)alert("todo:use_scaling");else{if(K){if(S.Ib=rr,g.Kb){if(I=g.U+1>>1,S.memory=i(g.U+2*I),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+g.U,S.Mc=S.cc,S.Nc=S.dc+I,S.Ib=kr,Br()}}else alert("todo:EmitYUV");ne&&(S.Jb=Qr,K&&Gt())}if(K&&!mA){for(g=0;256>g;++g)r0[g]=89858*(g-128)+ys>>Wl,Kf[g]=-22014*(g-128)+ys,pA[g]=-45773*(g-128),Ss[g]=113618*(g-128)+ys>>Wl;for(g=il;g<Af;++g)S=76283*(g-16)+ys>>Wl,qf[g-il]=Mn(S,255),gA[g-il]=Mn(S+8>>4,15);mA=1}return 1}function ja(g){var S=g.ma,I=g.U,K=g.T;return t(!(1&g.ka)),0>=I||0>=K?0:(I=S.Ib(g,S),S.Jb!=null&&S.Jb(g,S,I),S.Dc+=I,1)}function rn(g){g.ma.memory=null}function Vr(g,S,I,K){return fe(g,8)!=47?0:(S[0]=fe(g,14)+1,I[0]=fe(g,14)+1,K[0]=fe(g,1),fe(g,3)!=0?0:!g.h)}function On(g,S){if(4>g)return g+1;var I=g-2>>1;return(2+(1&g)<<I)+fe(S,I)+1}function Gn(g,S){return 120<S?S-120:1<=(I=((I=Mu[S-1])>>4)*g+(8-(15&I)))?I:1;var I}function Dn(g,S,I){var K=R(I),ne=g[S+=255&K].g-8;return 0<ne&&(ie(I,I.u+8),K=R(I),S+=g[S].value,S+=K&(1<<ne)-1),ie(I,I.u+g[S].g),g[S].value}function Ct(g,S,I){return I.g+=g.g,I.value+=g.value<<S>>>0,t(8>=I.g),g.g}function fr(g,S,I){var K=g.xc;return t((S=K==0?0:g.vc[g.md*(I>>K)+(S>>K)])<g.Wb),g.Ya[S]}function $e(g,S,I,K){var ne=g.ab,ue=g.c*S,me=g.C;S=me+S;var xe=I,Se=K;for(K=g.Ta,I=g.Ua;0<ne--;){var Ie=g.gc[ne],Xe=me,vt=S,Ve=xe,at=Se,wt=(Se=K,xe=I,Ie.Ea);switch(t(Xe<vt),t(vt<=Ie.nc),Ie.hc){case 2:Hs(Ve,at,(vt-Xe)*wt,Se,xe);break;case 0:var Tt=Xe,it=vt,xt=Se,kt=xe,Ut=(lr=Ie).Ea;Tt==0&&(To(Ve,at,null,null,1,xt,kt),Ge(Ve,at+1,0,0,Ut-1,xt,kt+1),at+=Ut,kt+=Ut,++Tt);for(var Dt=1<<lr.b,pr=Dt-1,ur=et(Ut,lr.b),Ir=lr.K,lr=lr.w+(Tt>>lr.b)*ur;Tt<it;){var mn=Ir,Vn=lr,Wr=1;for(wl(Ve,at,xt,kt-Ut,1,xt,kt);Wr<Ut;){var Xt=(Wr&~pr)+Dt;Xt>Ut&&(Xt=Ut),(0,Bi[mn[Vn++]>>8&15])(Ve,at+ +Wr,xt,kt+Wr-Ut,Xt-Wr,xt,kt+Wr),Wr=Xt}at+=Ut,kt+=Ut,++Tt&pr||(lr+=ur)}vt!=Ie.nc&&n(Se,xe-wt,Se,xe+(vt-Xe-1)*wt,wt);break;case 1:for(wt=Ve,it=at,Ut=(Ve=Ie.Ea)-(kt=Ve&~(xt=(at=1<<Ie.b)-1)),Tt=et(Ve,Ie.b),Dt=Ie.K,Ie=Ie.w+(Xe>>Ie.b)*Tt;Xe<vt;){for(pr=Dt,ur=Ie,Ir=new _e,lr=it+kt,mn=it+Ve;it<lr;)Je(pr[ur++],Ir),$l(Ir,wt,it,at,Se,xe),it+=at,xe+=at;it<mn&&(Je(pr[ur++],Ir),$l(Ir,wt,it,Ut,Se,xe),it+=Ut,xe+=Ut),++Xe&xt||(Ie+=Tt)}break;case 3:if(Ve==Se&&at==xe&&0<Ie.b){for(it=Se,Ve=wt=xe+(vt-Xe)*wt-(kt=(vt-Xe)*et(Ie.Ea,Ie.b)),at=Se,xt=xe,Tt=[],kt=(Ut=kt)-1;0<=kt;--kt)Tt[kt]=at[xt+kt];for(kt=Ut-1;0<=kt;--kt)it[Ve+kt]=Tt[kt];Ps(Ie,Xe,vt,Se,wt,Se,xe)}else Ps(Ie,Xe,vt,Ve,at,Se,xe)}xe=K,Se=I}Se!=I&&n(K,I,xe,Se,ue)}function pt(g,S){var I=g.V,K=g.Ba+g.c*g.C,ne=S-g.C;if(t(S<=g.l.o),t(16>=ne),0<ne){var ue=g.l,me=g.Ta,xe=g.Ua,Se=ue.width;if($e(g,ne,I,K),ne=xe=[xe],t((I=g.C)<(K=S)),t(ue.v<ue.va),K>ue.o&&(K=ue.o),I<ue.j){var Ie=ue.j-I;I=ue.j,ne[0]+=Ie*Se}if(I>=K?I=0:(ne[0]+=4*ue.v,ue.ka=I-ue.j,ue.U=ue.va-ue.v,ue.T=K-I,I=1),I){if(xe=xe[0],11>(I=g.ca).S){var Xe=I.f.RGBA,vt=(K=I.S,ne=ue.U,ue=ue.T,Ie=Xe.eb,Xe.A),Ve=ue;for(Xe=Xe.fb+g.Ma*Xe.A;0<Ve--;){var at=me,wt=xe,Tt=ne,it=Ie,xt=Xe;switch(K){case Yi:Wi(at,wt,Tt,it,xt);break;case Kl:Ls(at,wt,Tt,it,xt);break;case du:Ls(at,wt,Tt,it,xt),oo(it,xt,0,Tt,1,0);break;case gi:Os(at,wt,Tt,it,xt);break;case zc:De(at,wt,Tt,it,xt,1);break;case ql:De(at,wt,Tt,it,xt,1),oo(it,xt,0,Tt,1,0);break;case uu:De(at,wt,Tt,it,xt,0);break;case Cl:De(at,wt,Tt,it,xt,0),oo(it,xt,1,Tt,1,0);break;case Sl:zo(at,wt,Tt,it,xt);break;case Vc:zo(at,wt,Tt,it,xt),ca(it,xt,Tt,1,0);break;case zf:Ti(at,wt,Tt,it,xt);break;default:t(0)}xe+=Se,Xe+=vt}g.Ma+=ue}else alert("todo:EmitRescaledRowsYUVA");t(g.Ma<=I.height)}}g.C=S,t(g.C<=g.i)}function ft(g){var S;if(0<g.ua)return 0;for(S=0;S<g.Wb;++S){var I=g.Ya[S].G,K=g.Ya[S].H;if(0<I[1][K[1]+0].g||0<I[2][K[2]+0].g||0<I[3][K[3]+0].g)return 0}return 1}function mt(g,S,I,K,ne,ue){if(g.Z!=0){var me=g.qd,xe=g.rd;for(t(xi[g.Z]!=null);S<I;++S)xi[g.Z](me,xe,K,ne,K,ne,ue),me=K,xe=ne,ne+=ue;g.qd=me,g.rd=xe}}function Re(g,S){var I=g.l.ma,K=I.Z==0||I.Z==1?g.l.j:g.C;if(K=g.C<K?K:g.C,t(S<=g.l.o),S>K){var ne=g.l.width,ue=I.ca,me=I.tb+ne*K,xe=g.V,Se=g.Ba+g.c*K,Ie=g.gc;t(g.ab==1),t(Ie[0].hc==3),ps(Ie[0],K,S,xe,Se,ue,me),mt(I,K,S,ue,me,ne)}g.C=g.Ma=S}function Ee(g,S,I,K,ne,ue,me){var xe=g.$/K,Se=g.$%K,Ie=g.m,Xe=g.s,vt=I+g.$,Ve=vt;ne=I+K*ne;var at=I+K*ue,wt=280+Xe.ua,Tt=g.Pb?xe:16777216,it=0<Xe.ua?Xe.Wa:null,xt=Xe.wc,kt=vt<at?fr(Xe,Se,xe):null;t(g.C<ue),t(at<=ne);var Ut=!1;e:for(;;){for(;Ut||vt<at;){var Dt=0;if(xe>=Tt){var pr=vt-I;t((Tt=g).Pb),Tt.wd=Tt.m,Tt.xd=pr,0<Tt.s.ua&&re(Tt.s.Wa,Tt.s.vb),Tt=xe+AA}if(Se&xt||(kt=fr(Xe,Se,xe)),t(kt!=null),kt.Qb&&(S[vt]=kt.qb,Ut=!0),!Ut)if(ge(Ie),kt.jc){Dt=Ie,pr=S;var ur=vt,Ir=kt.pd[R(Dt)&ms-1];t(kt.jc),256>Ir.g?(ie(Dt,Dt.u+Ir.g),pr[ur]=Ir.value,Dt=0):(ie(Dt,Dt.u+Ir.g-256),t(256<=Ir.value),Dt=Ir.value),Dt==0&&(Ut=!0)}else Dt=Dn(kt.G[0],kt.H[0],Ie);if(Ie.h)break;if(Ut||256>Dt){if(!Ut)if(kt.nd)S[vt]=(kt.qb|Dt<<8)>>>0;else{if(ge(Ie),Ut=Dn(kt.G[1],kt.H[1],Ie),ge(Ie),pr=Dn(kt.G[2],kt.H[2],Ie),ur=Dn(kt.G[3],kt.H[3],Ie),Ie.h)break;S[vt]=(ur<<24|Ut<<16|Dt<<8|pr)>>>0}if(Ut=!1,++vt,++Se>=K&&(Se=0,++xe,me!=null&&xe<=ue&&!(xe%16)&&me(g,xe),it!=null))for(;Ve<vt;)Dt=S[Ve++],it.X[(506832829*Dt&4294967295)>>>it.Mb]=Dt}else if(280>Dt){if(Dt=On(Dt-256,Ie),pr=Dn(kt.G[4],kt.H[4],Ie),ge(Ie),pr=Gn(K,pr=On(pr,Ie)),Ie.h)break;if(vt-I<pr||ne-vt<Dt)break e;for(ur=0;ur<Dt;++ur)S[vt+ur]=S[vt+ur-pr];for(vt+=Dt,Se+=Dt;Se>=K;)Se-=K,++xe,me!=null&&xe<=ue&&!(xe%16)&&me(g,xe);if(t(vt<=ne),Se&xt&&(kt=fr(Xe,Se,xe)),it!=null)for(;Ve<vt;)Dt=S[Ve++],it.X[(506832829*Dt&4294967295)>>>it.Mb]=Dt}else{if(!(Dt<wt))break e;for(Ut=Dt-280,t(it!=null);Ve<vt;)Dt=S[Ve++],it.X[(506832829*Dt&4294967295)>>>it.Mb]=Dt;Dt=vt,t(!(Ut>>>(pr=it).Xa)),S[Dt]=pr.X[Ut],Ut=!0}Ut||t(Ie.h==Y(Ie))}if(g.Pb&&Ie.h&&vt<ne)t(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&re(g.s.vb,g.s.Wa);else{if(Ie.h)break e;me?.(g,xe>ue?ue:xe),g.a=0,g.$=vt-I}return 1}return g.a=3,0}function ht(g){t(g!=null),g.vc=null,g.yc=null,g.Ya=null;var S=g.Wa;S!=null&&(S.X=null),g.vb=null,t(g!=null)}function nt(){var g=new gn;return g==null?null:(g.a=0,g.xb=fu,ut("Predictor","VP8LPredictors"),ut("Predictor","VP8LPredictors_C"),ut("PredictorAdd","VP8LPredictorsAdd"),ut("PredictorAdd","VP8LPredictorsAdd_C"),Hs=lt,$l=Me,Wi=je,Ls=Ke,zo=Le,Ti=rt,Os=Oe,k.VP8LMapColor32b=Ka,k.VP8LMapColor8b=Pa,g)}function Et(g,S,I,K,ne){var ue=1,me=[g],xe=[S],Se=K.m,Ie=K.s,Xe=null,vt=0;e:for(;;){if(I)for(;ue&&fe(Se,1);){var Ve=me,at=xe,wt=K,Tt=1,it=wt.m,xt=wt.gc[wt.ab],kt=fe(it,2);if(wt.Oc&1<<kt)ue=0;else{switch(wt.Oc|=1<<kt,xt.hc=kt,xt.Ea=Ve[0],xt.nc=at[0],xt.K=[null],++wt.ab,t(4>=wt.ab),kt){case 0:case 1:xt.b=fe(it,3)+2,Tt=Et(et(xt.Ea,xt.b),et(xt.nc,xt.b),0,wt,xt.K),xt.K=xt.K[0];break;case 3:var Ut,Dt=fe(it,8)+1,pr=16<Dt?0:4<Dt?1:2<Dt?2:3;if(Ve[0]=et(xt.Ea,pr),xt.b=pr,Ut=Tt=Et(Dt,1,0,wt,xt.K)){var ur,Ir=Dt,lr=xt,mn=1<<(8>>lr.b),Vn=i(mn);if(Vn==null)Ut=0;else{var Wr=lr.K[0],Xt=lr.w;for(Vn[0]=lr.K[0][0],ur=1;ur<1*Ir;++ur)Vn[ur]=He(Wr[Xt+ur],Vn[ur-1]);for(;ur<4*mn;++ur)Vn[ur]=0;lr.K[0]=null,lr.K[0]=Vn,Ut=1}}Tt=Ut;break;case 2:break;default:t(0)}ue=Tt}}if(me=me[0],xe=xe[0],ue&&fe(Se,1)&&!(ue=1<=(vt=fe(Se,4))&&11>=vt)){K.a=3;break e}var Sr;if(Sr=ue)t:{var Un,$r,sn,Zr=K,pn=me,fn=xe,Nn=vt,qa=I,ua=Zr.m,Aa=Zr.s,yn=[null],Bn=1,Oa=0,on=Hd[Nn];r:for(;;){if(qa&&fe(ua,1)){var Ca=fe(ua,3)+2,_i=et(pn,Ca),fs=et(fn,Ca),Ji=_i*fs;if(!Et(_i,fs,0,Zr,yn))break r;for(yn=yn[0],Aa.xc=Ca,Un=0;Un<Ji;++Un){var Da=yn[Un]>>8&65535;yn[Un]=Da,Da>=Bn&&(Bn=Da+1)}}if(ua.h)break r;for($r=0;5>$r;++$r){var da=El[$r];!$r&&0<Nn&&(da+=1<<Nn),Oa<da&&(Oa=da)}var Fi=o(Bn*on,L),lo=Bn,Cs=o(lo,J);if(Cs==null)var $a=null;else t(65536>=lo),$a=Cs;var ti=i(Oa);if($a==null||ti==null||Fi==null){Zr.a=1;break r}var Ii=Fi;for(Un=sn=0;Un<Bn;++Un){var Ea=$a[Un],vi=Ea.G,Ks=Ea.H,Sc=0,Tl=1,ci=0;for($r=0;5>$r;++$r){da=El[$r],vi[$r]=Ii,Ks[$r]=sn,!$r&&0<Nn&&(da+=1<<Nn);a:{var Uu,hu=da,Au=Zr,Yl=ti,Th=Ii,yA=sn,Ru=0,ki=Au.m,bA=fe(ki,1);if(s(Yl,0,0,hu),bA){var _h=fe(ki,1)+1,Fh=fe(ki,1),Gf=fe(ki,Fh==0?1:8);Yl[Gf]=1,_h==2&&(Yl[Gf=fe(ki,8)]=1);var Kc=1}else{var mf=i(19),pf=fe(ki,4)+4;if(19<pf){Au.a=3;var Qu=0;break a}for(Uu=0;Uu<pf;++Uu)mf[Ns[Uu]]=fe(ki,3);var ud=void 0,Pi=void 0,Vd=Au,wa=mf,Cc=hu,gf=Yl,mu=0,co=Vd.m,Kd=8,Ih=o(128,L);n:for(;O(Ih,0,7,wa,19);){if(fe(co,1)){var Xl=2+2*fe(co,3);if((ud=2+fe(co,Xl))>Cc)break n}else ud=Cc;for(Pi=0;Pi<Cc&&ud--;){ge(co);var kh=Ih[0+(127&R(co))];ie(co,co.u+kh.g);var Wo=kh.value;if(16>Wo)gf[Pi++]=Wo,Wo!=0&&(Kd=Wo);else{var Ph=Wo==16,qd=Wo-16,Wf=wc[qd],rs=fe(co,Vf[qd])+Wf;if(Pi+rs>Cc)break n;for(var Jl=Ph?Kd:0;0<rs--;)gf[Pi++]=Jl}}mu=1;break n}mu||(Vd.a=3),Kc=mu}(Kc=Kc&&!ki.h)&&(Ru=O(Th,yA,8,Yl,hu)),Kc&&Ru!=0?Qu=Ru:(Au.a=3,Qu=0)}if(Qu==0)break r;if(Tl&&zs[$r]==1&&(Tl=Ii[sn].g==0),Sc+=Ii[sn].g,sn+=Qu,3>=$r){var Zl,Gd=ti[0];for(Zl=1;Zl<da;++Zl)ti[Zl]>Gd&&(Gd=ti[Zl]);ci+=Gd}}if(Ea.nd=Tl,Ea.Qb=0,Tl&&(Ea.qb=(vi[3][Ks[3]+0].value<<24|vi[1][Ks[1]+0].value<<16|vi[2][Ks[2]+0].value)>>>0,Sc==0&&256>vi[0][Ks[0]+0].value&&(Ea.Qb=1,Ea.qb+=vi[0][Ks[0]+0].value<<8)),Ea.jc=!Ea.Qb&&6>ci,Ea.jc){var Ec,Zi=Ea;for(Ec=0;Ec<ms;++Ec){var uo=Ec,ko=Zi.pd[uo],pu=Zi.G[0][Zi.H[0]+uo];256<=pu.value?(ko.g=pu.g+256,ko.value=pu.value):(ko.g=0,ko.value=0,uo>>=Ct(pu,8,ko),uo>>=Ct(Zi.G[1][Zi.H[1]+uo],16,ko),uo>>=Ct(Zi.G[2][Zi.H[2]+uo],0,ko),Ct(Zi.G[3][Zi.H[3]+uo],24,ko))}}}Aa.vc=yn,Aa.Wb=Bn,Aa.Ya=$a,Aa.yc=Fi,Sr=1;break t}Sr=0}if(!(ue=Sr)){K.a=3;break e}if(0<vt){if(Ie.ua=1<<vt,!be(Ie.Wa,vt)){K.a=1,ue=0;break e}}else Ie.ua=0;var Hu=K,qc=me,lm=xe,Bc=Hu.s,xf=Bc.xc;if(Hu.c=qc,Hu.i=lm,Bc.md=et(qc,xf),Bc.wc=xf==0?-1:(1<<xf)-1,I){K.xb=om;break e}if((Xe=i(me*xe))==null){K.a=1,ue=0;break e}ue=(ue=Ee(K,Xe,0,me,xe,xe,null))&&!Se.h;break e}return ue?(ne!=null?ne[0]=Xe:(t(Xe==null),t(I)),K.$=0,I||ht(Ie)):ht(Ie),ue}function Qe(g,S){var I=g.c*g.i,K=I+S+16*S;return t(g.c<=S),g.V=i(K),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+I+S,1)}function bt(g,S){var I=g.C,K=S-I,ne=g.V,ue=g.Ba+g.c*I;for(t(S<=g.l.o);0<K;){var me=16<K?16:K,xe=g.l.ma,Se=g.l.width,Ie=Se*me,Xe=xe.ca,vt=xe.tb+Se*I,Ve=g.Ta,at=g.Ua;$e(g,me,ne,ue),ws(Ve,at,Xe,vt,Ie),mt(xe,I,I+me,Xe,vt,Se),K-=me,ne+=me*g.c,I+=me}t(I==S),g.C=g.Ma=S}function It(){this.ub=this.yd=this.td=this.Rb=0}function nr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function tr(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function vr(){this.Yb=(function(){var g=[];return(function S(I,K,ne){for(var ue=ne[K],me=0;me<ue&&(I.push(ne.length>K+1?[]:0),!(ne.length<K+1));me++)S(I[me],K+1,ne)})(g,0,[3,11]),g})()}function yr(){this.jb=i(3),this.Wc=l([4,8],vr),this.Xc=l([4,17],vr)}function Yr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function zn(){this.ld=this.La=this.dd=this.tc=0}function Hn(){this.Na=this.la=0}function xa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ai(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ya(){this.uc=this.M=this.Nb=0,this.wa=Array(new zn),this.Y=0,this.ya=Array(new Ai),this.aa=0,this.l=new po}function mi(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Ro(){this.cb=this.a=0,this.sc="",this.m=new ve,this.Od=new It,this.Kc=new nr,this.ed=new Yr,this.Qa=new tr,this.Ic=this.$c=this.Aa=0,this.D=new Ya,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ve),this.ia=0,this.pb=o(4,xa),this.Pa=new yr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new mi),this.Hd=0,this.rb=Array(new Hn),this.sb=0,this.wa=Array(new zn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ai),this.L=this.aa=0,this.gd=l([4,2],zn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function po(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function pi(){var g=new Ro;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,js||(js=Ac)),g}function Qs(g,S,I){return g.a==0&&(g.a=S,g.sc=I,g.cb=0),0}function Qa(g,S,I){return 3<=I&&g[S+0]==157&&g[S+1]==1&&g[S+2]==42}function Pu(g,S){if(g==null)return 0;if(g.a=0,g.sc="OK",S==null)return Qs(g,2,"null VP8Io passed to VP8GetHeaders()");var I=S.data,K=S.w,ne=S.ha;if(4>ne)return Qs(g,7,"Truncated header.");var ue=I[K+0]|I[K+1]<<8|I[K+2]<<16,me=g.Od;if(me.Rb=!(1&ue),me.td=ue>>1&7,me.yd=ue>>4&1,me.ub=ue>>5,3<me.td)return Qs(g,3,"Incorrect keyframe parameters.");if(!me.yd)return Qs(g,4,"Frame not displayable.");K+=3,ne-=3;var xe=g.Kc;if(me.Rb){if(7>ne)return Qs(g,7,"cannot parse picture header");if(!Qa(I,K,ne))return Qs(g,3,"Bad code word");xe.c=16383&(I[K+4]<<8|I[K+3]),xe.Td=I[K+4]>>6,xe.i=16383&(I[K+6]<<8|I[K+5]),xe.Ud=I[K+6]>>6,K+=7,ne-=7,g.za=xe.c+15>>4,g.Ub=xe.i+15>>4,S.width=xe.c,S.height=xe.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,s((ue=g.Pa).jb,0,255,ue.jb.length),t((ue=g.Qa)!=null),ue.Cb=0,ue.Bb=0,ue.Fb=1,s(ue.Zb,0,0,ue.Zb.length),s(ue.Lb,0,0,ue.Lb)}if(me.ub>ne)return Qs(g,7,"bad partition length");ce(ue=g.m,I,K,me.ub),K+=me.ub,ne-=me.ub,me.Rb&&(xe.Ld=pe(ue),xe.Kd=pe(ue)),xe=g.Qa;var Se,Ie=g.Pa;if(t(ue!=null),t(xe!=null),xe.Cb=pe(ue),xe.Cb){if(xe.Bb=pe(ue),pe(ue)){for(xe.Fb=pe(ue),Se=0;4>Se;++Se)xe.Zb[Se]=pe(ue)?de(ue,7):0;for(Se=0;4>Se;++Se)xe.Lb[Se]=pe(ue)?de(ue,6):0}if(xe.Bb)for(Se=0;3>Se;++Se)Ie.jb[Se]=pe(ue)?ee(ue,8):255}else xe.Bb=0;if(ue.Ka)return Qs(g,3,"cannot parse segment header");if((xe=g.ed).zd=pe(ue),xe.Tb=ee(ue,6),xe.wb=ee(ue,3),xe.Pc=pe(ue),xe.Pc&&pe(ue)){for(Ie=0;4>Ie;++Ie)pe(ue)&&(xe.vd[Ie]=de(ue,6));for(Ie=0;4>Ie;++Ie)pe(ue)&&(xe.od[Ie]=de(ue,6))}if(g.L=xe.Tb==0?0:xe.zd?1:2,ue.Ka)return Qs(g,3,"cannot parse filter header");var Xe=ne;if(ne=Se=K,K=Se+Xe,xe=Xe,g.Xb=(1<<ee(g.m,2))-1,Xe<3*(Ie=g.Xb))I=7;else{for(Se+=3*Ie,xe-=3*Ie,Xe=0;Xe<Ie;++Xe){var vt=I[ne+0]|I[ne+1]<<8|I[ne+2]<<16;vt>xe&&(vt=xe),ce(g.Jc[+Xe],I,Se,vt),Se+=vt,xe-=vt,ne+=3}ce(g.Jc[+Ie],I,Se,xe),I=Se<K?0:5}if(I!=0)return Qs(g,I,"cannot parse partitions");for(I=ee(Se=g.m,7),ne=pe(Se)?de(Se,4):0,K=pe(Se)?de(Se,4):0,xe=pe(Se)?de(Se,4):0,Ie=pe(Se)?de(Se,4):0,Se=pe(Se)?de(Se,4):0,Xe=g.Qa,vt=0;4>vt;++vt){if(Xe.Cb){var Ve=Xe.Zb[vt];Xe.Fb||(Ve+=I)}else{if(0<vt){g.pb[vt]=g.pb[0];continue}Ve=I}var at=g.pb[vt];at.Sc[0]=$d[Mn(Ve+ne,127)],at.Sc[1]=Nc[Mn(Ve+0,127)],at.Eb[0]=2*$d[Mn(Ve+K,127)],at.Eb[1]=101581*Nc[Mn(Ve+xe,127)]>>16,8>at.Eb[1]&&(at.Eb[1]=8),at.Qc[0]=$d[Mn(Ve+Ie,117)],at.Qc[1]=Nc[Mn(Ve+Se,127)],at.lc=Ve+Se}if(!me.Rb)return Qs(g,4,"Not a key frame.");for(pe(ue),me=g.Pa,I=0;4>I;++I){for(ne=0;8>ne;++ne)for(K=0;3>K;++K)for(xe=0;11>xe;++xe)Ie=Z(ue,jc[I][ne][K][xe])?ee(ue,8):Bl[I][ne][K][xe],me.Wc[I][ne].Yb[K][xe]=Ie;for(ne=0;17>ne;++ne)me.Xc[I][ne]=me.Wc[I][im[ne]]}return g.kc=pe(ue),g.kc&&(g.Bd=ee(ue,8)),g.cb=1}function Ac(g,S,I,K,ne,ue,me){var xe=S[ne].Yb[I];for(I=0;16>ne;++ne){if(!Z(g,xe[I+0]))return ne;for(;!Z(g,xe[I+1]);)if(xe=S[++ne].Yb[0],I=0,ne==16)return 16;var Se=S[ne+1].Yb;if(Z(g,xe[I+2])){var Ie=g,Xe=0;if(Z(Ie,(Ve=xe)[(vt=I)+3]))if(Z(Ie,Ve[vt+6])){for(xe=0,vt=2*(Xe=Z(Ie,Ve[vt+8]))+(Ve=Z(Ie,Ve[vt+9+Xe])),Xe=0,Ve=Zs[vt];Ve[xe];++xe)Xe+=Xe+Z(Ie,Ve[xe]);Xe+=3+(8<<vt)}else Z(Ie,Ve[vt+7])?(Xe=7+2*Z(Ie,165),Xe+=Z(Ie,145)):Xe=5+Z(Ie,159);else Xe=Z(Ie,Ve[vt+4])?3+Z(Ie,Ve[vt+5]):2;xe=Se[2]}else Xe=1,xe=Se[1];Se=me+La[ne],0>(Ie=g).b&&ye(Ie);var vt,Ve=Ie.b,at=(vt=Ie.Ca>>1)-(Ie.I>>Ve)>>31;--Ie.b,Ie.Ca+=at,Ie.Ca|=1,Ie.I-=(vt+1&at)<<Ve,ue[Se]=((Xe^at)-at)*K[(0<ne)+0]}return 16}function ao(g){var S=g.rb[g.sb-1];S.la=0,S.Na=0,s(g.zc,0,0,g.zc.length),g.ja=0}function nl(g,S){if(g==null)return 0;if(S==null)return Qs(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!Pu(g,S))return 0;if(t(g.cb),S.ac==null||S.ac(S)){S.ob&&(g.L=0);var I=Xi[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=S.v-I>>4,g.zb=S.j-I>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=S.o+15+I>>4,g.Hb=S.va+15+I>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var K=g.ed;for(I=0;4>I;++I){var ne;if(g.Qa.Cb){var ue=g.Qa.Lb[I];g.Qa.Fb||(ue+=K.Tb)}else ue=K.Tb;for(ne=0;1>=ne;++ne){var me=g.gd[I][ne],xe=ue;if(K.Pc&&(xe+=K.vd[0],ne&&(xe+=K.od[0])),0<(xe=0>xe?0:63<xe?63:xe)){var Se=xe;0<K.wb&&(Se=4<K.wb?Se>>2:Se>>1)>9-K.wb&&(Se=9-K.wb),1>Se&&(Se=1),me.dd=Se,me.tc=2*xe+Se,me.ld=40<=xe?2:15<=xe?1:0}else me.tc=0;me.La=ne}}}I=0}else Qs(g,6,"Frame setup failed"),I=g.a;if(I=I==0){if(I){g.$c=0,0<g.Aa||(g.Ic=xA);e:{I=g.Ic,K=4*(Se=g.za);var Ie=32*Se,Xe=Se+1,vt=0<g.L?Se*(0<g.Aa?2:1):0,Ve=(g.Aa==2?2:1)*Se;if((me=K+832+(ne=3*(16*I+Xi[g.L])/2*Ie)+(ue=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=me)I=0;else{if(me>g.Vb){if(g.Vb=0,g.Ec=i(me),g.Fc=0,g.Ec==null){I=Qs(g,1,"no memory during frame initialization.");break e}g.Vb=me}me=g.Ec,xe=g.Fc,g.Ac=me,g.Bc=xe,xe+=K,g.Gd=o(Ie,mi),g.Hd=0,g.rb=o(Xe+1,Hn),g.sb=1,g.wa=vt?o(vt,zn):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=Se),t(!0),g.oc=me,g.pc=xe,xe+=832,g.ya=o(Ve,Ai),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=Se),g.R=16*Se,g.B=8*Se,Se=(Ie=Xi[g.L])*g.R,Ie=Ie/2*g.B,g.sa=me,g.ta=xe+Se,g.qa=g.sa,g.ra=g.ta+16*I*g.R+Ie,g.Ha=g.qa,g.Ia=g.ra+8*I*g.B+Ie,g.$c=0,xe+=ne,g.mb=ue?me:null,g.nb=ue?xe:null,t(xe+ue<=g.Fc+g.Vb),ao(g),s(g.Ac,g.Bc,0,K),I=1}}if(I){if(S.ka=0,S.y=g.sa,S.O=g.ta,S.f=g.qa,S.N=g.ra,S.ea=g.Ha,S.Vd=g.Ia,S.fa=g.R,S.Rc=g.B,S.F=null,S.J=0,!Hc){for(I=-255;255>=I;++I)$s[255+I]=0>I?-I:I;for(I=-1020;1020>=I;++I)Vo[1020+I]=-128>I?-128:127<I?127:I;for(I=-112;112>=I;++I)Ko[112+I]=-16>I?-16:15<I?15:I;for(I=-255;510>=I;++I)jl[255+I]=0>I?0:255<I?255:I;Hc=1}Rt=Ul,Ar=Lu,Hr=Rc,Rr=pl,cn=iu,Wt=sd,ea=yl,xn=vc,_o=Ae,bc=We,Xs=lu,Fo=Co,ld=St,zl=Mt,Vl=Xa,Nl=Ci,ka=io,Js=Qd,Vs[0]=Qo,Vs[1]=Ou,Vs[2]=Rd,Vs[3]=ff,Vs[4]=xl,Vs[5]=xo,Vs[6]=Ho,Vs[7]=oi,Vs[8]=xc,Vs[9]=od,qo[0]=Vi,qo[1]=Ud,qo[2]=pc,qo[3]=gc,qo[4]=Ki,qo[5]=gl,qo[6]=Rl,ei[0]=vl,ei[1]=id,ei[2]=Du,ei[3]=_a,ei[4]=vo,ei[5]=so,ei[6]=Ql,I=1}else I=0}I&&(I=(function(at,wt){for(at.M=0;at.M<at.Va;++at.M){var Tt,it=at.Jc[at.M&at.Xb],xt=at.m,kt=at;for(Tt=0;Tt<kt.za;++Tt){var Ut=xt,Dt=kt,pr=Dt.Ac,ur=Dt.Bc+4*Tt,Ir=Dt.zc,lr=Dt.ya[Dt.aa+Tt];if(Dt.Qa.Bb?lr.$b=Z(Ut,Dt.Pa.jb[0])?2+Z(Ut,Dt.Pa.jb[2]):Z(Ut,Dt.Pa.jb[1]):lr.$b=0,Dt.kc&&(lr.Ad=Z(Ut,Dt.Bd)),lr.Za=!Z(Ut,145)+0,lr.Za){var mn=lr.Ob,Vn=0;for(Dt=0;4>Dt;++Dt){var Wr,Xt=Ir[0+Dt];for(Wr=0;4>Wr;++Wr){Xt=hf[pr[ur+Wr]][Xt];for(var Sr=Gl[Z(Ut,Xt[0])];0<Sr;)Sr=Gl[2*Sr+Z(Ut,Xt[Sr])];Xt=-Sr,pr[ur+Wr]=Xt}n(mn,Vn,pr,ur,4),Vn+=4,Ir[0+Dt]=Xt}}else Xt=Z(Ut,156)?Z(Ut,128)?1:3:Z(Ut,163)?2:0,lr.Ob[0]=Xt,s(pr,ur,Xt,4),s(Ir,0,Xt,4);lr.Dd=Z(Ut,142)?Z(Ut,114)?Z(Ut,183)?1:3:2:0}if(kt.m.Ka)return Qs(at,7,"Premature end-of-partition0 encountered.");for(;at.ja<at.za;++at.ja){if(kt=it,Ut=(xt=at).rb[xt.sb-1],pr=xt.rb[xt.sb+xt.ja],Tt=xt.ya[xt.aa+xt.ja],ur=xt.kc?Tt.Ad:0)Ut.la=pr.la=0,Tt.Za||(Ut.Na=pr.Na=0),Tt.Hc=0,Tt.Gc=0,Tt.ia=0;else{var Un,$r;if(Ut=pr,pr=kt,ur=xt.Pa.Xc,Ir=xt.ya[xt.aa+xt.ja],lr=xt.pb[Ir.$b],Dt=Ir.ad,mn=0,Vn=xt.rb[xt.sb-1],Xt=Wr=0,s(Dt,mn,0,384),Ir.Za)var sn=0,Zr=ur[3];else{Sr=i(16);var pn=Ut.Na+Vn.Na;if(pn=js(pr,ur[1],pn,lr.Eb,0,Sr,0),Ut.Na=Vn.Na=(0<pn)+0,1<pn)Rt(Sr,0,Dt,mn);else{var fn=Sr[0]+3>>3;for(Sr=0;256>Sr;Sr+=16)Dt[mn+Sr]=fn}sn=1,Zr=ur[0]}var Nn=15&Ut.la,qa=15&Vn.la;for(Sr=0;4>Sr;++Sr){var ua=1&qa;for(fn=$r=0;4>fn;++fn)Nn=Nn>>1|(ua=(pn=js(pr,Zr,pn=ua+(1&Nn),lr.Sc,sn,Dt,mn))>sn)<<7,$r=$r<<2|(3<pn?3:1<pn?2:Dt[mn+0]!=0),mn+=16;Nn>>=4,qa=qa>>1|ua<<7,Wr=(Wr<<8|$r)>>>0}for(Zr=Nn,sn=qa>>4,Un=0;4>Un;Un+=2){for($r=0,Nn=Ut.la>>4+Un,qa=Vn.la>>4+Un,Sr=0;2>Sr;++Sr){for(ua=1&qa,fn=0;2>fn;++fn)pn=ua+(1&Nn),Nn=Nn>>1|(ua=0<(pn=js(pr,ur[2],pn,lr.Qc,0,Dt,mn)))<<3,$r=$r<<2|(3<pn?3:1<pn?2:Dt[mn+0]!=0),mn+=16;Nn>>=2,qa=qa>>1|ua<<5}Xt|=$r<<4*Un,Zr|=Nn<<4<<Un,sn|=(240&qa)<<Un}Ut.la=Zr,Vn.la=sn,Ir.Hc=Wr,Ir.Gc=Xt,Ir.ia=43690&Xt?0:lr.ia,ur=!(Wr|Xt)}if(0<xt.L&&(xt.wa[xt.Y+xt.ja]=xt.gd[Tt.$b][Tt.Za],xt.wa[xt.Y+xt.ja].La|=!ur),kt.Ka)return Qs(at,7,"Premature end-of-file encountered.")}if(ao(at),xt=wt,kt=1,Tt=(it=at).D,Ut=0<it.L&&it.M>=it.zb&&it.M<=it.Va,it.Aa==0)e:{if(Tt.M=it.M,Tt.uc=Ut,ya(it,Tt),kt=1,Tt=($r=it.D).Nb,Ut=(Xt=Xi[it.L])*it.R,pr=Xt/2*it.B,Sr=16*Tt*it.R,fn=8*Tt*it.B,ur=it.sa,Ir=it.ta-Ut+Sr,lr=it.qa,Dt=it.ra-pr+fn,mn=it.Ha,Vn=it.Ia-pr+fn,qa=(Nn=$r.M)==0,Wr=Nn>=it.Va-1,it.Aa==2&&ya(it,$r),$r.uc)for(ua=(pn=it).D.M,t(pn.D.uc),$r=pn.yb;$r<pn.Hb;++$r){sn=$r,Zr=ua;var Aa=(yn=(da=pn).D).Nb;Un=da.R;var yn=yn.wa[yn.Y+sn],Bn=da.sa,Oa=da.ta+16*Aa*Un+16*sn,on=yn.dd,Ca=yn.tc;if(Ca!=0)if(t(3<=Ca),da.L==1)0<sn&&Nl(Bn,Oa,Un,Ca+4),yn.La&&Js(Bn,Oa,Un,Ca),0<Zr&&Vl(Bn,Oa,Un,Ca+4),yn.La&&ka(Bn,Oa,Un,Ca);else{var _i=da.B,fs=da.qa,Ji=da.ra+8*Aa*_i+8*sn,Da=da.Ha,da=da.Ia+8*Aa*_i+8*sn;Aa=yn.ld,0<sn&&(xn(Bn,Oa,Un,Ca+4,on,Aa),bc(fs,Ji,Da,da,_i,Ca+4,on,Aa)),yn.La&&(Fo(Bn,Oa,Un,Ca,on,Aa),zl(fs,Ji,Da,da,_i,Ca,on,Aa)),0<Zr&&(ea(Bn,Oa,Un,Ca+4,on,Aa),_o(fs,Ji,Da,da,_i,Ca+4,on,Aa)),yn.La&&(Xs(Bn,Oa,Un,Ca,on,Aa),ld(fs,Ji,Da,da,_i,Ca,on,Aa))}}if(it.ia&&alert("todo:DitherRow"),xt.put!=null){if($r=16*Nn,Nn=16*(Nn+1),qa?(xt.y=it.sa,xt.O=it.ta+Sr,xt.f=it.qa,xt.N=it.ra+fn,xt.ea=it.Ha,xt.W=it.Ia+fn):($r-=Xt,xt.y=ur,xt.O=Ir,xt.f=lr,xt.N=Dt,xt.ea=mn,xt.W=Vn),Wr||(Nn-=Xt),Nn>xt.o&&(Nn=xt.o),xt.F=null,xt.J=null,it.Fa!=null&&0<it.Fa.length&&$r<Nn&&(xt.J=Ws(it,xt,$r,Nn-$r),xt.F=it.mb,xt.F==null&&xt.F.length==0)){kt=Qs(it,3,"Could not decode alpha data.");break e}$r<xt.j&&(Xt=xt.j-$r,$r=xt.j,t(!(1&Xt)),xt.O+=it.R*Xt,xt.N+=it.B*(Xt>>1),xt.W+=it.B*(Xt>>1),xt.F!=null&&(xt.J+=xt.width*Xt)),$r<Nn&&(xt.O+=xt.v,xt.N+=xt.v>>1,xt.W+=xt.v>>1,xt.F!=null&&(xt.J+=xt.v),xt.ka=$r-xt.j,xt.U=xt.va-xt.v,xt.T=Nn-$r,kt=xt.put(xt))}Tt+1!=it.Ic||Wr||(n(it.sa,it.ta-Ut,ur,Ir+16*it.R,Ut),n(it.qa,it.ra-pr,lr,Dt+8*it.B,pr),n(it.Ha,it.Ia-pr,mn,Vn+8*it.B,pr))}if(!kt)return Qs(at,6,"Output aborted.")}return 1})(g,S)),S.bc!=null&&S.bc(S),I&=1}return I?(g.cb=0,I):0}function bs(g,S,I,K,ne){ne=g[S+I+32*K]+(ne>>3),g[S+I+32*K]=-256&ne?0>ne?0:255:ne}function Is(g,S,I,K,ne,ue){bs(g,S,0,I,K+ne),bs(g,S,1,I,K+ue),bs(g,S,2,I,K-ue),bs(g,S,3,I,K-ne)}function Zn(g){return(20091*g>>16)+g}function mc(g,S,I,K){var ne,ue=0,me=i(16);for(ne=0;4>ne;++ne){var xe=g[S+0]+g[S+8],Se=g[S+0]-g[S+8],Ie=(35468*g[S+4]>>16)-Zn(g[S+12]),Xe=Zn(g[S+4])+(35468*g[S+12]>>16);me[ue+0]=xe+Xe,me[ue+1]=Se+Ie,me[ue+2]=Se-Ie,me[ue+3]=xe-Xe,ue+=4,S++}for(ne=ue=0;4>ne;++ne)xe=(g=me[ue+0]+4)+me[ue+8],Se=g-me[ue+8],Ie=(35468*me[ue+4]>>16)-Zn(me[ue+12]),bs(I,K,0,0,xe+(Xe=Zn(me[ue+4])+(35468*me[ue+12]>>16))),bs(I,K,1,0,Se+Ie),bs(I,K,2,0,Se-Ie),bs(I,K,3,0,xe-Xe),ue++,K+=32}function sd(g,S,I,K){var ne=g[S+0]+4,ue=35468*g[S+4]>>16,me=Zn(g[S+4]),xe=35468*g[S+1]>>16;Is(I,K,0,ne+me,g=Zn(g[S+1]),xe),Is(I,K,1,ne+ue,g,xe),Is(I,K,2,ne-ue,g,xe),Is(I,K,3,ne-me,g,xe)}function Lu(g,S,I,K,ne){mc(g,S,I,K),ne&&mc(g,S+16,I,K+4)}function Rc(g,S,I,K){Ar(g,S+0,I,K,1),Ar(g,S+32,I,K+128,1)}function pl(g,S,I,K){var ne;for(g=g[S+0]+4,ne=0;4>ne;++ne)for(S=0;4>S;++S)bs(I,K,S,ne,g)}function iu(g,S,I,K){g[S+0]&&Rr(g,S+0,I,K),g[S+16]&&Rr(g,S+16,I,K+4),g[S+32]&&Rr(g,S+32,I,K+128),g[S+48]&&Rr(g,S+48,I,K+128+4)}function Ul(g,S,I,K){var ne,ue=i(16);for(ne=0;4>ne;++ne){var me=g[S+0+ne]+g[S+12+ne],xe=g[S+4+ne]+g[S+8+ne],Se=g[S+4+ne]-g[S+8+ne],Ie=g[S+0+ne]-g[S+12+ne];ue[0+ne]=me+xe,ue[8+ne]=me-xe,ue[4+ne]=Ie+Se,ue[12+ne]=Ie-Se}for(ne=0;4>ne;++ne)me=(g=ue[0+4*ne]+3)+ue[3+4*ne],xe=ue[1+4*ne]+ue[2+4*ne],Se=ue[1+4*ne]-ue[2+4*ne],Ie=g-ue[3+4*ne],I[K+0]=me+xe>>3,I[K+16]=Ie+Se>>3,I[K+32]=me-xe>>3,I[K+48]=Ie-Se>>3,K+=64}function zi(g,S,I){var K,ne=S-32,ue=is,me=255-g[ne-1];for(K=0;K<I;++K){var xe,Se=ue,Ie=me+g[S-1];for(xe=0;xe<I;++xe)g[S+xe]=Se[Ie+g[ne+xe]];S+=32}}function Ou(g,S){zi(g,S,4)}function id(g,S){zi(g,S,8)}function Ud(g,S){zi(g,S,16)}function pc(g,S){var I;for(I=0;16>I;++I)n(g,S+32*I,g,S-32,16)}function gc(g,S){var I;for(I=16;0<I;--I)s(g,S,g[S-1],16),S+=32}function go(g,S,I){var K;for(K=0;16>K;++K)s(S,I+32*K,g,16)}function Vi(g,S){var I,K=16;for(I=0;16>I;++I)K+=g[S-1+32*I]+g[S+I-32];go(K>>5,g,S)}function Ki(g,S){var I,K=8;for(I=0;16>I;++I)K+=g[S-1+32*I];go(K>>4,g,S)}function gl(g,S){var I,K=8;for(I=0;16>I;++I)K+=g[S+I-32];go(K>>4,g,S)}function Rl(g,S){go(128,g,S)}function Dr(g,S,I){return g+2*S+I+2>>2}function Rd(g,S){var I,K=S-32;for(K=new Uint8Array([Dr(g[K-1],g[K+0],g[K+1]),Dr(g[K+0],g[K+1],g[K+2]),Dr(g[K+1],g[K+2],g[K+3]),Dr(g[K+2],g[K+3],g[K+4])]),I=0;4>I;++I)n(g,S+32*I,K,0,K.length)}function ff(g,S){var I=g[S-1],K=g[S-1+32],ne=g[S-1+64],ue=g[S-1+96];le(g,S+0,16843009*Dr(g[S-1-32],I,K)),le(g,S+32,16843009*Dr(I,K,ne)),le(g,S+64,16843009*Dr(K,ne,ue)),le(g,S+96,16843009*Dr(ne,ue,ue))}function Qo(g,S){var I,K=4;for(I=0;4>I;++I)K+=g[S+I-32]+g[S-1+32*I];for(K>>=3,I=0;4>I;++I)s(g,S+32*I,K,4)}function xl(g,S){var I=g[S-1+0],K=g[S-1+32],ne=g[S-1+64],ue=g[S-1-32],me=g[S+0-32],xe=g[S+1-32],Se=g[S+2-32],Ie=g[S+3-32];g[S+0+96]=Dr(K,ne,g[S-1+96]),g[S+1+96]=g[S+0+64]=Dr(I,K,ne),g[S+2+96]=g[S+1+64]=g[S+0+32]=Dr(ue,I,K),g[S+3+96]=g[S+2+64]=g[S+1+32]=g[S+0+0]=Dr(me,ue,I),g[S+3+64]=g[S+2+32]=g[S+1+0]=Dr(xe,me,ue),g[S+3+32]=g[S+2+0]=Dr(Se,xe,me),g[S+3+0]=Dr(Ie,Se,xe)}function Ho(g,S){var I=g[S+1-32],K=g[S+2-32],ne=g[S+3-32],ue=g[S+4-32],me=g[S+5-32],xe=g[S+6-32],Se=g[S+7-32];g[S+0+0]=Dr(g[S+0-32],I,K),g[S+1+0]=g[S+0+32]=Dr(I,K,ne),g[S+2+0]=g[S+1+32]=g[S+0+64]=Dr(K,ne,ue),g[S+3+0]=g[S+2+32]=g[S+1+64]=g[S+0+96]=Dr(ne,ue,me),g[S+3+32]=g[S+2+64]=g[S+1+96]=Dr(ue,me,xe),g[S+3+64]=g[S+2+96]=Dr(me,xe,Se),g[S+3+96]=Dr(xe,Se,Se)}function xo(g,S){var I=g[S-1+0],K=g[S-1+32],ne=g[S-1+64],ue=g[S-1-32],me=g[S+0-32],xe=g[S+1-32],Se=g[S+2-32],Ie=g[S+3-32];g[S+0+0]=g[S+1+64]=ue+me+1>>1,g[S+1+0]=g[S+2+64]=me+xe+1>>1,g[S+2+0]=g[S+3+64]=xe+Se+1>>1,g[S+3+0]=Se+Ie+1>>1,g[S+0+96]=Dr(ne,K,I),g[S+0+64]=Dr(K,I,ue),g[S+0+32]=g[S+1+96]=Dr(I,ue,me),g[S+1+32]=g[S+2+96]=Dr(ue,me,xe),g[S+2+32]=g[S+3+96]=Dr(me,xe,Se),g[S+3+32]=Dr(xe,Se,Ie)}function oi(g,S){var I=g[S+0-32],K=g[S+1-32],ne=g[S+2-32],ue=g[S+3-32],me=g[S+4-32],xe=g[S+5-32],Se=g[S+6-32],Ie=g[S+7-32];g[S+0+0]=I+K+1>>1,g[S+1+0]=g[S+0+64]=K+ne+1>>1,g[S+2+0]=g[S+1+64]=ne+ue+1>>1,g[S+3+0]=g[S+2+64]=ue+me+1>>1,g[S+0+32]=Dr(I,K,ne),g[S+1+32]=g[S+0+96]=Dr(K,ne,ue),g[S+2+32]=g[S+1+96]=Dr(ne,ue,me),g[S+3+32]=g[S+2+96]=Dr(ue,me,xe),g[S+3+64]=Dr(me,xe,Se),g[S+3+96]=Dr(xe,Se,Ie)}function od(g,S){var I=g[S-1+0],K=g[S-1+32],ne=g[S-1+64],ue=g[S-1+96];g[S+0+0]=I+K+1>>1,g[S+2+0]=g[S+0+32]=K+ne+1>>1,g[S+2+32]=g[S+0+64]=ne+ue+1>>1,g[S+1+0]=Dr(I,K,ne),g[S+3+0]=g[S+1+32]=Dr(K,ne,ue),g[S+3+32]=g[S+1+64]=Dr(ne,ue,ue),g[S+3+64]=g[S+2+64]=g[S+0+96]=g[S+1+96]=g[S+2+96]=g[S+3+96]=ue}function xc(g,S){var I=g[S-1+0],K=g[S-1+32],ne=g[S-1+64],ue=g[S-1+96],me=g[S-1-32],xe=g[S+0-32],Se=g[S+1-32],Ie=g[S+2-32];g[S+0+0]=g[S+2+32]=I+me+1>>1,g[S+0+32]=g[S+2+64]=K+I+1>>1,g[S+0+64]=g[S+2+96]=ne+K+1>>1,g[S+0+96]=ue+ne+1>>1,g[S+3+0]=Dr(xe,Se,Ie),g[S+2+0]=Dr(me,xe,Se),g[S+1+0]=g[S+3+32]=Dr(I,me,xe),g[S+1+32]=g[S+3+64]=Dr(K,I,me),g[S+1+64]=g[S+3+96]=Dr(ne,K,I),g[S+1+96]=Dr(ue,ne,K)}function Du(g,S){var I;for(I=0;8>I;++I)n(g,S+32*I,g,S-32,8)}function _a(g,S){var I;for(I=0;8>I;++I)s(g,S,g[S-1],8),S+=32}function va(g,S,I){var K;for(K=0;8>K;++K)s(S,I+32*K,g,8)}function vl(g,S){var I,K=8;for(I=0;8>I;++I)K+=g[S+I-32]+g[S-1+32*I];va(K>>4,g,S)}function so(g,S){var I,K=4;for(I=0;8>I;++I)K+=g[S+I-32];va(K>>3,g,S)}function vo(g,S){var I,K=4;for(I=0;8>I;++I)K+=g[S-1+32*I];va(K>>3,g,S)}function Ql(g,S){va(128,g,S)}function $o(g,S,I){var K=g[S-I],ne=g[S+0],ue=3*(ne-K)+cu[1020+g[S-2*I]-g[S+I]],me=$c[112+(ue+4>>3)];g[S-I]=is[255+K+$c[112+(ue+3>>3)]],g[S+0]=is[255+ne-me]}function ou(g,S,I,K){var ne=g[S+0],ue=g[S+I];return Ds[255+g[S-2*I]-g[S-I]]>K||Ds[255+ue-ne]>K}function ks(g,S,I,K){return 4*Ds[255+g[S-I]-g[S+0]]+Ds[255+g[S-2*I]-g[S+I]]<=K}function Qc(g,S,I,K,ne){var ue=g[S-3*I],me=g[S-2*I],xe=g[S-I],Se=g[S+0],Ie=g[S+I],Xe=g[S+2*I],vt=g[S+3*I];return 4*Ds[255+xe-Se]+Ds[255+me-Ie]>K?0:Ds[255+g[S-4*I]-ue]<=ne&&Ds[255+ue-me]<=ne&&Ds[255+me-xe]<=ne&&Ds[255+vt-Xe]<=ne&&Ds[255+Xe-Ie]<=ne&&Ds[255+Ie-Se]<=ne}function Xa(g,S,I,K){var ne=2*K+1;for(K=0;16>K;++K)ks(g,S+K,I,ne)&&$o(g,S+K,I)}function Ci(g,S,I,K){var ne=2*K+1;for(K=0;16>K;++K)ks(g,S+K*I,1,ne)&&$o(g,S+K*I,1)}function io(g,S,I,K){var ne;for(ne=3;0<ne;--ne)Xa(g,S+=4*I,I,K)}function Qd(g,S,I,K){var ne;for(ne=3;0<ne;--ne)Ci(g,S+=4,I,K)}function yo(g,S,I,K,ne,ue,me,xe){for(ue=2*ue+1;0<ne--;){if(Qc(g,S,I,ue,me))if(ou(g,S,I,xe))$o(g,S,I);else{var Se=g,Ie=S,Xe=I,vt=Se[Ie-2*Xe],Ve=Se[Ie-Xe],at=Se[Ie+0],wt=Se[Ie+Xe],Tt=Se[Ie+2*Xe],it=27*(kt=cu[1020+3*(at-Ve)+cu[1020+vt-wt]])+63>>7,xt=18*kt+63>>7,kt=9*kt+63>>7;Se[Ie-3*Xe]=is[255+Se[Ie-3*Xe]+kt],Se[Ie-2*Xe]=is[255+vt+xt],Se[Ie-Xe]=is[255+Ve+it],Se[Ie+0]=is[255+at-it],Se[Ie+Xe]=is[255+wt-xt],Se[Ie+2*Xe]=is[255+Tt-kt]}S+=K}}function Ja(g,S,I,K,ne,ue,me,xe){for(ue=2*ue+1;0<ne--;){if(Qc(g,S,I,ue,me))if(ou(g,S,I,xe))$o(g,S,I);else{var Se=g,Ie=S,Xe=I,vt=Se[Ie-Xe],Ve=Se[Ie+0],at=Se[Ie+Xe],wt=$c[112+((Tt=3*(Ve-vt))+4>>3)],Tt=$c[112+(Tt+3>>3)],it=wt+1>>1;Se[Ie-2*Xe]=is[255+Se[Ie-2*Xe]+it],Se[Ie-Xe]=is[255+vt+Tt],Se[Ie+0]=is[255+Ve-wt],Se[Ie+Xe]=is[255+at-it]}S+=K}}function yl(g,S,I,K,ne,ue){yo(g,S,I,1,16,K,ne,ue)}function vc(g,S,I,K,ne,ue){yo(g,S,1,I,16,K,ne,ue)}function lu(g,S,I,K,ne,ue){var me;for(me=3;0<me;--me)Ja(g,S+=4*I,I,1,16,K,ne,ue)}function Co(g,S,I,K,ne,ue){var me;for(me=3;0<me;--me)Ja(g,S+=4,1,I,16,K,ne,ue)}function Ae(g,S,I,K,ne,ue,me,xe){yo(g,S,ne,1,8,ue,me,xe),yo(I,K,ne,1,8,ue,me,xe)}function We(g,S,I,K,ne,ue,me,xe){yo(g,S,1,ne,8,ue,me,xe),yo(I,K,1,ne,8,ue,me,xe)}function St(g,S,I,K,ne,ue,me,xe){Ja(g,S+4*ne,ne,1,8,ue,me,xe),Ja(I,K+4*ne,ne,1,8,ue,me,xe)}function Mt(g,S,I,K,ne,ue,me,xe){Ja(g,S+4,1,ne,8,ue,me,xe),Ja(I,K+4,1,ne,8,ue,me,xe)}function Vt(){this.ba=new gt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new $t,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function wr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Er(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function tn(){this.ua=0,this.Wa=new Ce,this.vb=new Ce,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new J,this.yc=new L}function gn(){this.xb=this.a=0,this.l=new po,this.ca=new gt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new B,this.Pb=0,this.wd=new B,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new tn,this.ab=0,this.gc=o(4,Er),this.Oc=0}function kn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new po,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function nn(g,S,I,K,ne,ue,me){for(g=g==null?0:g[S+0],S=0;S<me;++S)ne[ue+S]=g+I[K+S]&255,g=ne[ue+S]}function ia(g,S,I,K,ne,ue,me){var xe;if(g==null)nn(null,null,I,K,ne,ue,me);else for(xe=0;xe<me;++xe)ne[ue+xe]=g[S+xe]+I[K+xe]&255}function ts(g,S,I,K,ne,ue,me){if(g==null)nn(null,null,I,K,ne,ue,me);else{var xe,Se=g[S+0],Ie=Se,Xe=Se;for(xe=0;xe<me;++xe)Ie=Xe+(Se=g[S+xe])-Ie,Xe=I[K+xe]+(-256&Ie?0>Ie?0:255:Ie)&255,Ie=Se,ne[ue+xe]=Xe}}function Ws(g,S,I,K){var ne=S.width,ue=S.o;if(t(g!=null&&S!=null),0>I||0>=K||I+K>ue)return null;if(!g.Cc){if(g.ga==null){var me;if(g.ga=new kn,(me=g.ga==null)||(me=S.width*S.o,t(g.Gb.length==0),g.Gb=i(me),g.Uc=0,g.Gb==null?me=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,me=1),me=!me),!me){me=g.ga;var xe=g.Fa,Se=g.P,Ie=g.qc,Xe=g.mb,vt=g.nb,Ve=Se+1,at=Ie-1,wt=me.l;if(t(xe!=null&&Xe!=null&&S!=null),xi[0]=null,xi[1]=nn,xi[2]=ia,xi[3]=ts,me.ca=Xe,me.tb=vt,me.c=S.width,me.i=S.height,t(0<me.c&&0<me.i),1>=Ie)S=0;else if(me.$a=xe[Se+0]>>0&3,me.Z=xe[Se+0]>>2&3,me.Lc=xe[Se+0]>>4&3,Se=xe[Se+0]>>6&3,0>me.$a||1<me.$a||4<=me.Z||1<me.Lc||Se)S=0;else if(wt.put=ja,wt.ac=dn,wt.bc=rn,wt.ma=me,wt.width=S.width,wt.height=S.height,wt.Da=S.Da,wt.v=S.v,wt.va=S.va,wt.j=S.j,wt.o=S.o,me.$a)e:{t(me.$a==1),S=nt();t:for(;;){if(S==null){S=0;break e}if(t(me!=null),me.mc=S,S.c=me.c,S.i=me.i,S.l=me.l,S.l.ma=me,S.l.width=me.c,S.l.height=me.i,S.a=0,se(S.m,xe,Ve,at),!Et(me.c,me.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&ft(S.s)?(me.ic=1,xe=S.c*S.i,S.Ta=null,S.Ua=0,S.V=i(xe),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(me.ic=0,S=Qe(S,me.c)),!S))break t;S=1;break e}me.mc=null,S=0}else S=at>=me.c*me.i;me=!S}if(me)return null;g.ga.Lc!=1?g.Ga=0:K=ue-I}t(g.ga!=null),t(I+K<=ue);e:{if(S=(xe=g.ga).c,ue=xe.l.o,xe.$a==0){if(Ve=g.rc,at=g.Vc,wt=g.Fa,Se=g.P+1+I*S,Ie=g.mb,Xe=g.nb+I*S,t(Se<=g.P+g.qc),xe.Z!=0)for(t(xi[xe.Z]!=null),me=0;me<K;++me)xi[xe.Z](Ve,at,wt,Se,Ie,Xe,S),Ve=Ie,at=Xe,Xe+=S,Se+=S;else for(me=0;me<K;++me)n(Ie,Xe,wt,Se,S),Ve=Ie,at=Xe,Xe+=S,Se+=S;g.rc=Ve,g.Vc=at}else{if(t(xe.mc!=null),S=I+K,t((me=xe.mc)!=null),t(S<=me.i),me.C>=S)S=1;else if(xe.ic||Gt(),xe.ic){xe=me.V,Ve=me.Ba,at=me.c;var Tt=me.i,it=(wt=1,Se=me.$/at,Ie=me.$%at,Xe=me.m,vt=me.s,me.$),xt=at*Tt,kt=at*S,Ut=vt.wc,Dt=it<kt?fr(vt,Ie,Se):null;t(it<=xt),t(S<=Tt),t(ft(vt));t:for(;;){for(;!Xe.h&&it<kt;){if(Ie&Ut||(Dt=fr(vt,Ie,Se)),t(Dt!=null),ge(Xe),256>(Tt=Dn(Dt.G[0],Dt.H[0],Xe)))xe[Ve+it]=Tt,++it,++Ie>=at&&(Ie=0,++Se<=S&&!(Se%16)&&Re(me,Se));else{if(!(280>Tt)){wt=0;break t}Tt=On(Tt-256,Xe);var pr,ur=Dn(Dt.G[4],Dt.H[4],Xe);if(ge(Xe),!(it>=(ur=Gn(at,ur=On(ur,Xe)))&&xt-it>=Tt)){wt=0;break t}for(pr=0;pr<Tt;++pr)xe[Ve+it+pr]=xe[Ve+it+pr-ur];for(it+=Tt,Ie+=Tt;Ie>=at;)Ie-=at,++Se<=S&&!(Se%16)&&Re(me,Se);it<kt&&Ie&Ut&&(Dt=fr(vt,Ie,Se))}t(Xe.h==Y(Xe))}Re(me,Se>S?S:Se);break t}!wt||Xe.h&&it<xt?(wt=0,me.a=Xe.h?5:3):me.$=it,S=wt}else S=Ee(me,me.V,me.Ba,me.c,me.i,S,bt);if(!S){K=0;break e}}I+K>=ue&&(g.Cc=1),K=1}if(!K)return null;if(g.Cc&&((K=g.ga)!=null&&(K.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+I*ne}function ae(g,S,I,K,ne,ue){for(;0<ne--;){var me,xe=g,Se=S+(I?1:0),Ie=g,Xe=S+(I?0:3);for(me=0;me<K;++me){var vt=Ie[Xe+4*me];vt!=255&&(vt*=32897,xe[Se+4*me+0]=xe[Se+4*me+0]*vt>>23,xe[Se+4*me+1]=xe[Se+4*me+1]*vt>>23,xe[Se+4*me+2]=xe[Se+4*me+2]*vt>>23)}S+=ue}}function qe(g,S,I,K,ne){for(;0<K--;){var ue;for(ue=0;ue<I;++ue){var me=g[S+2*ue+0],xe=15&(Ie=g[S+2*ue+1]),Se=4369*xe,Ie=(240&Ie|Ie>>4)*Se>>16;g[S+2*ue+0]=(240&me|me>>4)*Se>>16&240|(15&me|me<<4)*Se>>16>>4&15,g[S+2*ue+1]=240&Ie|xe}S+=ne}}function Bt(g,S,I,K,ne,ue,me,xe){var Se,Ie,Xe=255;for(Ie=0;Ie<ne;++Ie){for(Se=0;Se<K;++Se){var vt=g[S+Se];ue[me+4*Se]=vt,Xe&=vt}S+=I,me+=xe}return Xe!=255}function Ot(g,S,I,K,ne){var ue;for(ue=0;ue<ne;++ue)I[K+ue]=g[S+ue]>>8}function Gt(){oo=ae,ca=qe,Sa=Bt,ws=Ot}function hr(g,S,I){k[g]=function(K,ne,ue,me,xe,Se,Ie,Xe,vt,Ve,at,wt,Tt,it,xt,kt,Ut){var Dt,pr=Ut-1>>1,ur=xe[Se+0]|Ie[Xe+0]<<16,Ir=vt[Ve+0]|at[wt+0]<<16;t(K!=null);var lr=3*ur+Ir+131074>>2;for(S(K[ne+0],255&lr,lr>>16,Tt,it),ue!=null&&(lr=3*Ir+ur+131074>>2,S(ue[me+0],255&lr,lr>>16,xt,kt)),Dt=1;Dt<=pr;++Dt){var mn=xe[Se+Dt]|Ie[Xe+Dt]<<16,Vn=vt[Ve+Dt]|at[wt+Dt]<<16,Wr=ur+mn+Ir+Vn+524296,Xt=Wr+2*(mn+Ir)>>3;lr=Xt+ur>>1,ur=(Wr=Wr+2*(ur+Vn)>>3)+mn>>1,S(K[ne+2*Dt-1],255&lr,lr>>16,Tt,it+(2*Dt-1)*I),S(K[ne+2*Dt-0],255&ur,ur>>16,Tt,it+(2*Dt-0)*I),ue!=null&&(lr=Wr+Ir>>1,ur=Xt+Vn>>1,S(ue[me+2*Dt-1],255&lr,lr>>16,xt,kt+(2*Dt-1)*I),S(ue[me+2*Dt+0],255&ur,ur>>16,xt,kt+(2*Dt+0)*I)),ur=mn,Ir=Vn}1&Ut||(lr=3*ur+Ir+131074>>2,S(K[ne+Ut-1],255&lr,lr>>16,Tt,it+(Ut-1)*I),ue!=null&&(lr=3*Ir+ur+131074>>2,S(ue[me+Ut-1],255&lr,lr>>16,xt,kt+(Ut-1)*I)))}}function Br(){ds[Yi]=dt,ds[Kl]=Io,ds[gi]=sl,ds[zc]=Go,ds[uu]=ba,ds[Sl]=zd,ds[zf]=Bh,ds[du]=Io,ds[ql]=Go,ds[Cl]=ba,ds[Vc]=zd}function Xr(g){return g&-16384?0>g?0:255:g>>t0}function An(g,S){return Xr((19077*g>>8)+(26149*S>>8)-14234)}function Pn(g,S,I){return Xr((19077*g>>8)-(6419*S>>8)-(13320*I>>8)+8708)}function _n(g,S){return Xr((19077*g>>8)+(33050*S>>8)-17685)}function na(g,S,I,K,ne){K[ne+0]=An(g,I),K[ne+1]=Pn(g,S,I),K[ne+2]=_n(g,S)}function Ha(g,S,I,K,ne){K[ne+0]=_n(g,S),K[ne+1]=Pn(g,S,I),K[ne+2]=An(g,I)}function oa(g,S,I,K,ne){var ue=Pn(g,S,I);S=ue<<3&224|_n(g,S)>>3,K[ne+0]=248&An(g,I)|ue>>5,K[ne+1]=S}function En(g,S,I,K,ne){var ue=240&_n(g,S)|15;K[ne+0]=240&An(g,I)|Pn(g,S,I)>>4,K[ne+1]=ue}function As(g,S,I,K,ne){K[ne+0]=255,na(g,S,I,K,ne+1)}function Ys(g,S,I,K,ne){Ha(g,S,I,K,ne),K[ne+3]=255}function Eo(g,S,I,K,ne){na(g,S,I,K,ne),K[ne+3]=255}function Mn(g,S){return 0>g?0:g>S?S:g}function us(g,S,I){k[g]=function(K,ne,ue,me,xe,Se,Ie,Xe,vt){for(var Ve=Xe+(-2&vt)*I;Xe!=Ve;)S(K[ne+0],ue[me+0],xe[Se+0],Ie,Xe),S(K[ne+1],ue[me+0],xe[Se+0],Ie,Xe+I),ne+=2,++me,++Se,Xe+=2*I;1&vt&&S(K[ne+0],ue[me+0],xe[Se+0],Ie,Xe)}}function bl(g,S,I){return I==0?g==0?S==0?6:5:S==0?4:0:I}function qi(g,S,I,K,ne){switch(g>>>30){case 3:Ar(S,I,K,ne,0);break;case 2:Wt(S,I,K,ne);break;case 1:Rr(S,I,K,ne)}}function ya(g,S){var I,K,ne=S.M,ue=S.Nb,me=g.oc,xe=g.pc+40,Se=g.oc,Ie=g.pc+584,Xe=g.oc,vt=g.pc+600;for(I=0;16>I;++I)me[xe+32*I-1]=129;for(I=0;8>I;++I)Se[Ie+32*I-1]=129,Xe[vt+32*I-1]=129;for(0<ne?me[xe-1-32]=Se[Ie-1-32]=Xe[vt-1-32]=129:(s(me,xe-32-1,127,21),s(Se,Ie-32-1,127,9),s(Xe,vt-32-1,127,9)),K=0;K<g.za;++K){var Ve=S.ya[S.aa+K];if(0<K){for(I=-1;16>I;++I)n(me,xe+32*I-4,me,xe+32*I+12,4);for(I=-1;8>I;++I)n(Se,Ie+32*I-4,Se,Ie+32*I+4,4),n(Xe,vt+32*I-4,Xe,vt+32*I+4,4)}var at=g.Gd,wt=g.Hd+K,Tt=Ve.ad,it=Ve.Hc;if(0<ne&&(n(me,xe-32,at[wt].y,0,16),n(Se,Ie-32,at[wt].f,0,8),n(Xe,vt-32,at[wt].ea,0,8)),Ve.Za){var xt=me,kt=xe-32+16;for(0<ne&&(K>=g.za-1?s(xt,kt,at[wt].y[15],4):n(xt,kt,at[wt+1].y,0,4)),I=0;4>I;I++)xt[kt+128+I]=xt[kt+256+I]=xt[kt+384+I]=xt[kt+0+I];for(I=0;16>I;++I,it<<=2)xt=me,kt=xe+cd[I],Vs[Ve.Ob[I]](xt,kt),qi(it,Tt,16*+I,xt,kt)}else if(xt=bl(K,ne,Ve.Ob[0]),qo[xt](me,xe),it!=0)for(I=0;16>I;++I,it<<=2)qi(it,Tt,16*+I,me,xe+cd[I]);for(I=Ve.Gc,xt=bl(K,ne,Ve.Dd),ei[xt](Se,Ie),ei[xt](Xe,vt),it=Tt,xt=Se,kt=Ie,255&(Ve=I>>0)&&(170&Ve?Hr(it,256,xt,kt):cn(it,256,xt,kt)),Ve=Xe,it=vt,255&(I>>=8)&&(170&I?Hr(Tt,320,Ve,it):cn(Tt,320,Ve,it)),ne<g.Ub-1&&(n(at[wt].y,0,me,xe+480,16),n(at[wt].f,0,Se,Ie+224,8),n(at[wt].ea,0,Xe,vt+224,8)),I=8*ue*g.B,at=g.sa,wt=g.ta+16*K+16*ue*g.R,Tt=g.qa,Ve=g.ra+8*K+I,it=g.Ha,xt=g.Ia+8*K+I,I=0;16>I;++I)n(at,wt+I*g.R,me,xe+32*I,16);for(I=0;8>I;++I)n(Tt,Ve+I*g.B,Se,Ie+32*I,8),n(it,xt+I*g.B,Xe,vt+32*I,8)}}function Hl(g,S,I,K,ne,ue,me,xe,Se){var Ie=[0],Xe=[0],vt=0,Ve=Se!=null?Se.kd:0,at=Se??new wr;if(g==null||12>I)return 7;at.data=g,at.w=S,at.ha=I,S=[S],I=[I],at.gb=[at.gb];e:{var wt=S,Tt=I,it=at.gb;if(t(g!=null),t(Tt!=null),t(it!=null),it[0]=0,12<=Tt[0]&&!r(g,wt[0],"RIFF")){if(r(g,wt[0]+8,"WEBP")){it=3;break e}var xt=Fe(g,wt[0]+4);if(12>xt||4294967286<xt){it=3;break e}if(Ve&&xt>Tt[0]-8){it=7;break e}it[0]=xt,wt[0]+=12,Tt[0]-=12}it=0}if(it!=0)return it;for(xt=0<at.gb[0],I=I[0];;){e:{var kt=g;Tt=S,it=I;var Ut=Ie,Dt=Xe,pr=wt=[0];if((lr=vt=[vt])[0]=0,8>it[0])it=7;else{if(!r(kt,Tt[0],"VP8X")){if(Fe(kt,Tt[0]+4)!=10){it=3;break e}if(18>it[0]){it=7;break e}var ur=Fe(kt,Tt[0]+8),Ir=1+Ne(kt,Tt[0]+12);if(2147483648<=Ir*(kt=1+Ne(kt,Tt[0]+15))){it=3;break e}pr!=null&&(pr[0]=ur),Ut!=null&&(Ut[0]=Ir),Dt!=null&&(Dt[0]=kt),Tt[0]+=18,it[0]-=18,lr[0]=1}it=0}}if(vt=vt[0],wt=wt[0],it!=0)return it;if(Tt=!!(2&wt),!xt&&vt)return 3;if(ue!=null&&(ue[0]=!!(16&wt)),me!=null&&(me[0]=Tt),xe!=null&&(xe[0]=0),me=Ie[0],wt=Xe[0],vt&&Tt&&Se==null){it=0;break}if(4>I){it=7;break}if(xt&&vt||!xt&&!vt&&!r(g,S[0],"ALPH")){I=[I],at.na=[at.na],at.P=[at.P],at.Sa=[at.Sa];e:{ur=g,it=S,xt=I;var lr=at.gb;Ut=at.na,Dt=at.P,pr=at.Sa,Ir=22,t(ur!=null),t(xt!=null),kt=it[0];var mn=xt[0];for(t(Ut!=null),t(pr!=null),Ut[0]=null,Dt[0]=null,pr[0]=0;;){if(it[0]=kt,xt[0]=mn,8>mn){it=7;break e}var Vn=Fe(ur,kt+4);if(4294967286<Vn){it=3;break e}var Wr=8+Vn+1&-2;if(Ir+=Wr,0<lr&&Ir>lr){it=3;break e}if(!r(ur,kt,"VP8 ")||!r(ur,kt,"VP8L")){it=0;break e}if(mn[0]<Wr){it=7;break e}r(ur,kt,"ALPH")||(Ut[0]=ur,Dt[0]=kt+8,pr[0]=Vn),kt+=Wr,mn-=Wr}}if(I=I[0],at.na=at.na[0],at.P=at.P[0],at.Sa=at.Sa[0],it!=0)break}I=[I],at.Ja=[at.Ja],at.xa=[at.xa];e:if(lr=g,it=S,xt=I,Ut=at.gb[0],Dt=at.Ja,pr=at.xa,ur=it[0],kt=!r(lr,ur,"VP8 "),Ir=!r(lr,ur,"VP8L"),t(lr!=null),t(xt!=null),t(Dt!=null),t(pr!=null),8>xt[0])it=7;else{if(kt||Ir){if(lr=Fe(lr,ur+4),12<=Ut&&lr>Ut-12){it=3;break e}if(Ve&&lr>xt[0]-8){it=7;break e}Dt[0]=lr,it[0]+=8,xt[0]-=8,pr[0]=Ir}else pr[0]=5<=xt[0]&&lr[ur+0]==47&&!(lr[ur+4]>>5),Dt[0]=xt[0];it=0}if(I=I[0],at.Ja=at.Ja[0],at.xa=at.xa[0],S=S[0],it!=0)break;if(4294967286<at.Ja)return 3;if(xe==null||Tt||(xe[0]=at.xa?2:1),me=[me],wt=[wt],at.xa){if(5>I){it=7;break}xe=me,Ve=wt,Tt=ue,g==null||5>I?g=0:5<=I&&g[S+0]==47&&!(g[S+4]>>5)?(xt=[0],lr=[0],Ut=[0],se(Dt=new B,g,S,I),Vr(Dt,xt,lr,Ut)?(xe!=null&&(xe[0]=xt[0]),Ve!=null&&(Ve[0]=lr[0]),Tt!=null&&(Tt[0]=Ut[0]),g=1):g=0):g=0}else{if(10>I){it=7;break}xe=wt,g==null||10>I||!Qa(g,S+3,I-3)?g=0:(Ve=g[S+0]|g[S+1]<<8|g[S+2]<<16,Tt=16383&(g[S+7]<<8|g[S+6]),g=16383&(g[S+9]<<8|g[S+8]),1&Ve||3<(Ve>>1&7)||!(Ve>>4&1)||Ve>>5>=at.Ja||!Tt||!g?g=0:(me&&(me[0]=Tt),xe&&(xe[0]=g),g=1))}if(!g||(me=me[0],wt=wt[0],vt&&(Ie[0]!=me||Xe[0]!=wt)))return 3;Se!=null&&(Se[0]=at,Se.offset=S-Se.w,t(4294967286>S-Se.w),t(Se.offset==Se.ha-I));break}return it==0||it==7&&vt&&Se==null?(ue!=null&&(ue[0]|=at.na!=null&&0<at.na.length),K!=null&&(K[0]=me),ne!=null&&(ne[0]=wt),0):it}function vs(g,S,I){var K=S.width,ne=S.height,ue=0,me=0,xe=K,Se=ne;if(S.Da=g!=null&&0<g.Da,S.Da&&(xe=g.cd,Se=g.bd,ue=g.v,me=g.j,11>I||(ue&=-2,me&=-2),0>ue||0>me||0>=xe||0>=Se||ue+xe>K||me+Se>ne))return 0;if(S.v=ue,S.j=me,S.va=ue+xe,S.o=me+Se,S.U=xe,S.T=Se,S.da=g!=null&&0<g.da,S.da){if(!st(xe,Se,I=[g.ib],ue=[g.hb]))return 0;S.ib=I[0],S.hb=ue[0]}return S.ob=g!=null&&g.ob,S.Kb=g==null||!g.Sd,S.da&&(S.ob=S.ib<3*K/4&&S.hb<3*ne/4,S.Kb=0),1}function yc(g){if(g==null)return 2;if(11>g.S){var S=g.f.RGBA;S.fb+=(g.height-1)*S.A,S.A=-S.A}else S=g.f.kb,g=g.height,S.O+=(g-1)*S.fa,S.fa=-S.fa,S.N+=(g-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(g-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(g-1)*S.lb,S.lb=-S.lb);return 0}function Ei(g,S,I,K){if(K==null||0>=g||0>=S)return 2;if(I!=null){if(I.Da){var ne=I.cd,ue=I.bd,me=-2&I.v,xe=-2&I.j;if(0>me||0>xe||0>=ne||0>=ue||me+ne>g||xe+ue>S)return 2;g=ne,S=ue}if(I.da){if(!st(g,S,ne=[I.ib],ue=[I.hb]))return 2;g=ne[0],S=ue[0]}}K.width=g,K.height=S;e:{var Se=K.width,Ie=K.height;if(g=K.S,0>=Se||0>=Ie||!(g>=Yi&&13>g))g=2;else{if(0>=K.Rd&&K.sd==null){me=ue=ne=S=0;var Xe=(xe=Se*vA[g])*Ie;if(11>g||(ue=(Ie+1)/2*(S=(Se+1)/2),g==12&&(me=(ne=Se)*Ie)),(Ie=i(Xe+2*ue+me))==null){g=1;break e}K.sd=Ie,11>g?((Se=K.f.RGBA).eb=Ie,Se.fb=0,Se.A=xe,Se.size=Xe):((Se=K.f.kb).y=Ie,Se.O=0,Se.fa=xe,Se.Fd=Xe,Se.f=Ie,Se.N=0+Xe,Se.Ab=S,Se.Cd=ue,Se.ea=Ie,Se.W=0+Xe+ue,Se.Db=S,Se.Ed=ue,g==12&&(Se.F=Ie,Se.J=0+Xe+2*ue),Se.Tc=me,Se.lb=ne)}if(S=1,ne=K.S,ue=K.width,me=K.height,ne>=Yi&&13>ne)if(11>ne)g=K.f.RGBA,S&=(xe=Math.abs(g.A))*(me-1)+ue<=g.size,S&=xe>=ue*vA[ne],S&=g.eb!=null;else{g=K.f.kb,xe=(ue+1)/2,Xe=(me+1)/2,Se=Math.abs(g.fa),Ie=Math.abs(g.Ab);var vt=Math.abs(g.Db),Ve=Math.abs(g.lb),at=Ve*(me-1)+ue;S&=Se*(me-1)+ue<=g.Fd,S&=Ie*(Xe-1)+xe<=g.Cd,S=(S&=vt*(Xe-1)+xe<=g.Ed)&Se>=ue&Ie>=xe&vt>=xe,S&=g.y!=null,S&=g.f!=null,S&=g.ea!=null,ne==12&&(S&=Ve>=ue,S&=at<=g.Tc,S&=g.F!=null)}else S=0;g=S?0:2}}return g!=0||I!=null&&I.fd&&(g=yc(K)),g}var ms=64,$n=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Gi=24,al=32,Bo=8,li=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ct("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(g){return g},k.Predictor2=function(g,S,I){return S[I+0]},k.Predictor3=function(g,S,I){return S[I+1]},k.Predictor4=function(g,S,I){return S[I-1]},k.Predictor5=function(g,S,I){return ke(ke(g,S[I+1]),S[I+0])},k.Predictor6=function(g,S,I){return ke(g,S[I-1])},k.Predictor7=function(g,S,I){return ke(g,S[I+0])},k.Predictor8=function(g,S,I){return ke(S[I-1],S[I+0])},k.Predictor9=function(g,S,I){return ke(S[I+0],S[I+1])},k.Predictor10=function(g,S,I){return ke(ke(g,S[I-1]),ke(S[I+0],S[I+1]))},k.Predictor11=function(g,S,I){var K=S[I+0];return 0>=ot(K>>24&255,g>>24&255,(S=S[I-1])>>24&255)+ot(K>>16&255,g>>16&255,S>>16&255)+ot(K>>8&255,g>>8&255,S>>8&255)+ot(255&K,255&g,255&S)?K:g},k.Predictor12=function(g,S,I){var K=S[I+0];return(Ze((g>>24&255)+(K>>24&255)-((S=S[I-1])>>24&255))<<24|Ze((g>>16&255)+(K>>16&255)-(S>>16&255))<<16|Ze((g>>8&255)+(K>>8&255)-(S>>8&255))<<8|Ze((255&g)+(255&K)-(255&S)))>>>0},k.Predictor13=function(g,S,I){var K=S[I-1];return(Pe((g=ke(g,S[I+0]))>>24&255,K>>24&255)<<24|Pe(g>>16&255,K>>16&255)<<16|Pe(g>>8&255,K>>8&255)<<8|Pe(g>>0&255,K>>0&255))>>>0};var To=k.PredictorAdd0;k.PredictorAdd1=Ge,ct("Predictor2","PredictorAdd2"),ct("Predictor3","PredictorAdd3"),ct("Predictor4","PredictorAdd4"),ct("Predictor5","PredictorAdd5"),ct("Predictor6","PredictorAdd6"),ct("Predictor7","PredictorAdd7"),ct("Predictor8","PredictorAdd8"),ct("Predictor9","PredictorAdd9"),ct("Predictor10","PredictorAdd10"),ct("Predictor11","PredictorAdd11"),ct("Predictor12","PredictorAdd12"),ct("Predictor13","PredictorAdd13");var wl=k.PredictorAdd2;Te("ColorIndexInverseTransform","MapARGB","32b",(function(g){return g>>8&255}),(function(g){return g})),Te("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(g){return g}),(function(g){return g>>8&255}));var Hs,Ps=k.ColorIndexInverseTransform,Ka=k.MapARGB,ps=k.VP8LColorIndexInverseTransformAlpha,Pa=k.MapAlpha,Bi=k.VP8LPredictorsAdd=[];Bi.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var $l,Wi,Ls,zo,Ti,Os,Rt,Ar,Wt,Hr,Rr,cn,ea,xn,_o,bc,Xs,Fo,ld,zl,Vl,Nl,ka,Js,oo,ca,Sa,ws,$s=i(511),Vo=i(2041),Ko=i(225),jl=i(767),Hc=0,cu=Vo,$c=Ko,is=jl,Ds=$s,Yi=0,Kl=1,gi=2,zc=3,uu=4,Sl=5,zf=6,du=7,ql=8,Cl=9,Vc=10,Vf=[2,3,7],wc=[3,3,11],El=[280,256,256,256,40],zs=[0,1,1,1,0],Ns=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Mu=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Hd=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],AA=8,$d=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Nc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],js=null,Zs=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],La=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Gl=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Bl=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],hf=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],jc=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],im=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],qo=[],Vs=[],ei=[],om=1,fu=2,xi=[],ds=[];hr("UpsampleRgbLinePair",na,3),hr("UpsampleBgrLinePair",Ha,3),hr("UpsampleRgbaLinePair",Eo,4),hr("UpsampleBgraLinePair",Ys,4),hr("UpsampleArgbLinePair",As,4),hr("UpsampleRgba4444LinePair",En,2),hr("UpsampleRgb565LinePair",oa,2);var dt=k.UpsampleRgbLinePair,sl=k.UpsampleBgrLinePair,Io=k.UpsampleRgbaLinePair,Go=k.UpsampleBgraLinePair,ba=k.UpsampleArgbLinePair,zd=k.UpsampleRgba4444LinePair,Bh=k.UpsampleRgb565LinePair,Wl=16,ys=1<<Wl-1,il=-227,Af=482,t0=6,mA=0,r0=i(256),Ss=i(256),pA=i(256),Kf=i(256),qf=i(Af-il),gA=i(Af-il);us("YuvToRgbRow",na,3),us("YuvToBgrRow",Ha,3),us("YuvToRgbaRow",Eo,4),us("YuvToBgraRow",Ys,4),us("YuvToArgbRow",As,4),us("YuvToRgba4444Row",En,2),us("YuvToRgb565Row",oa,2);var cd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xi=[0,2,8],n0=[8,7,6,4,4,2,2,2,1,1,1,1],xA=1;this.WebPDecodeRGBA=function(g,S,I,K,ne){var ue=Kl,me=new Vt,xe=new gt;me.ba=xe,xe.S=ue,xe.width=[xe.width],xe.height=[xe.height];var Se=xe.width,Ie=xe.height,Xe=new Zt;if(Xe==null||g==null)var vt=2;else t(Xe!=null),vt=Hl(g,S,I,Xe.width,Xe.height,Xe.Pd,Xe.Qd,Xe.format,null);if(vt!=0?Se=0:(Se!=null&&(Se[0]=Xe.width[0]),Ie!=null&&(Ie[0]=Xe.height[0]),Se=1),Se){xe.width=xe.width[0],xe.height=xe.height[0],K!=null&&(K[0]=xe.width),ne!=null&&(ne[0]=xe.height);e:{if(K=new po,(ne=new wr).data=g,ne.w=S,ne.ha=I,ne.kd=1,S=[0],t(ne!=null),((g=Hl(ne.data,ne.w,ne.ha,null,null,null,S,null,ne))==0||g==7)&&S[0]&&(g=4),(S=g)==0){if(t(me!=null),K.data=ne.data,K.w=ne.w+ne.offset,K.ha=ne.ha-ne.offset,K.put=ja,K.ac=dn,K.bc=rn,K.ma=me,ne.xa){if((g=nt())==null){me=1;break e}if((function(Ve,at){var wt=[0],Tt=[0],it=[0];t:for(;;){if(Ve==null)return 0;if(at==null)return Ve.a=2,0;if(Ve.l=at,Ve.a=0,se(Ve.m,at.data,at.w,at.ha),!Vr(Ve.m,wt,Tt,it)){Ve.a=3;break t}if(Ve.xb=fu,at.width=wt[0],at.height=Tt[0],!Et(wt[0],Tt[0],1,Ve,null))break t;return 1}return t(Ve.a!=0),0})(g,K)){if(K=(S=Ei(K.width,K.height,me.Oa,me.ba))==0){t:{K=g;r:for(;;){if(K==null){K=0;break t}if(t(K.s.yc!=null),t(K.s.Ya!=null),t(0<K.s.Wb),t((I=K.l)!=null),t((ne=I.ma)!=null),K.xb!=0){if(K.ca=ne.ba,K.tb=ne.tb,t(K.ca!=null),!vs(ne.Oa,I,zc)){K.a=2;break r}if(!Qe(K,I.width)||I.da)break r;if((I.da||_t(K.ca.S))&&Gt(),11>K.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),K.ca.f.kb.F!=null&&Gt()),K.Pb&&0<K.s.ua&&K.s.vb.X==null&&!be(K.s.vb,K.s.Wa.Xa)){K.a=1;break r}K.xb=0}if(!Ee(K,K.V,K.Ba,K.c,K.i,I.o,pt))break r;ne.Dc=K.Ma,K=1;break t}t(K.a!=0),K=0}K=!K}K&&(S=g.a)}else S=g.a}else{if((g=new pi)==null){me=1;break e}if(g.Fa=ne.na,g.P=ne.P,g.qc=ne.Sa,Pu(g,K)){if((S=Ei(K.width,K.height,me.Oa,me.ba))==0){if(g.Aa=0,I=me.Oa,t((ne=g)!=null),I!=null){if(0<(Se=0>(Se=I.Md)?0:100<Se?255:255*Se/100)){for(Ie=Xe=0;4>Ie;++Ie)12>(vt=ne.pb[Ie]).lc&&(vt.ia=Se*n0[0>vt.lc?0:vt.lc]>>3),Xe|=vt.ia;Xe&&(alert("todo:VP8InitRandom"),ne.ia=1)}ne.Ga=I.Id,100<ne.Ga?ne.Ga=100:0>ne.Ga&&(ne.Ga=0)}nl(g,K)||(S=g.a)}}else S=g.a}S==0&&me.Oa!=null&&me.Oa.fd&&(S=yc(me.ba))}me=S}ue=me!=0?null:11>ue?xe.f.RGBA.eb:xe.f.kb.y}else ue=null;return ue};var vA=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(k,Q){for(var z="",O=0;O<4;O++)z+=String.fromCharCode(k[Q++]);return z}function u(k,Q){return(k[Q+0]<<0|k[Q+1]<<8|k[Q+2]<<16)>>>0}function h(k,Q){return(k[Q+0]<<0|k[Q+1]<<8|k[Q+2]<<16|k[Q+3]<<24)>>>0}new c;var m=[0],A=[0],y=[],x=new c,v=e,b=(function(k,Q){var z={},O=0,L=!1,V=0,J=0;if(z.frames=[],!(function(R,Y,ie,ge){for(var ye=0;ye<ge;ye++)if(R[Y+ye]!=ie.charCodeAt(ye))return!0;return!1})(k,Q,"RIFF",4)){var ce,ee;for(h(k,Q+=4),Q+=8;Q<k.length;){var de=d(k,Q),se=h(k,Q+=4);Q+=4;var he=se+(1&se);switch(de){case"VP8 ":case"VP8L":z.frames[O]===void 0&&(z.frames[O]={}),(B=z.frames[O]).src_off=L?J:Q-8,B.src_size=V+se+8,O++,L&&(L=!1,V=0,J=0);break;case"VP8X":(B=z.header={}).feature_flags=k[Q];var fe=Q+4;B.canvas_width=1+u(k,fe),fe+=3,B.canvas_height=1+u(k,fe),fe+=3;break;case"ALPH":L=!0,V=he+8,J=Q-8;break;case"ANIM":(B=z.header).bgcolor=h(k,Q),fe=Q+4,B.loop_count=(ce=k)[(ee=fe)+0]<<0|ce[ee+1]<<8,fe+=2;break;case"ANMF":var ve,B;(B=z.frames[O]={}).offset_x=2*u(k,Q),Q+=3,B.offset_y=2*u(k,Q),Q+=3,B.width=1+u(k,Q),Q+=3,B.height=1+u(k,Q),Q+=3,B.duration=u(k,Q),Q+=3,ve=k[Q++],B.dispose=1&ve,B.blend=ve>>1&1}de!="ANMF"&&(Q+=he)}return z}})(v,0);b.response=v,b.rgbaoutput=!0,b.dataurl=!1;var j=b.header?b.header:null,E=b.frames?b.frames:null;if(j){j.loop_counter=j.loop_count,m=[j.canvas_height],A=[j.canvas_width];for(var T=0;T<E.length&&E[T].blend!=0;T++);}var P=E[0],U=x.WebPDecodeRGBA(v,P.src_off,P.src_size,A,m);P.rgba=U,P.imgwidth=A[0],P.imgheight=m[0];for(var M=0;M<A[0]*m[0]*4;M++)y[M]=U[M];return this.width=A,this.height=m,this.data=y,this}(function(e){var t=function(){return typeof Vv=="function"},r=function(m,A,y,x){var v=4,b=o;switch(x){case e.image_compression.FAST:v=1,b=i;break;case e.image_compression.MEDIUM:v=6,b=l;break;case e.image_compression.SLOW:v=9,b=c}m=n(m,A,y,b);var j=Vv(m,{level:v});return e.__addimage__.arrayBufferToBinaryString(j)},n=function(m,A,y,x){for(var v,b,j,E=m.length/A,T=new Uint8Array(m.length+E),P=u(),U=0;U<E;U+=1){if(j=U*A,v=m.subarray(j,j+A),x)T.set(x(v,y,b),j+U);else{for(var M,k=P.length,Q=[];M<k;M+=1)Q[M]=P[M](v,y,b);var z=h(Q.concat());T.set(Q[z],j+U)}b=v}return T},s=function(m){var A=Array.apply([],m);return A.unshift(0),A},i=function(m,A){var y,x=[],v=m.length;x[0]=1;for(var b=0;b<v;b+=1)y=m[b-A]||0,x[b+1]=m[b]-y+256&255;return x},o=function(m,A,y){var x,v=[],b=m.length;v[0]=2;for(var j=0;j<b;j+=1)x=y&&y[j]||0,v[j+1]=m[j]-x+256&255;return v},l=function(m,A,y){var x,v,b=[],j=m.length;b[0]=3;for(var E=0;E<j;E+=1)x=m[E-A]||0,v=y&&y[E]||0,b[E+1]=m[E]+256-(x+v>>>1)&255;return b},c=function(m,A,y){var x,v,b,j,E=[],T=m.length;E[0]=4;for(var P=0;P<T;P+=1)x=m[P-A]||0,v=y&&y[P]||0,b=y&&y[P-A]||0,j=d(x,v,b),E[P+1]=m[P]-j+256&255;return E},d=function(m,A,y){if(m===A&&A===y)return m;var x=Math.abs(A-y),v=Math.abs(m-y),b=Math.abs(m+A-y-y);return x<=v&&x<=b?m:v<=b?A:y},u=function(){return[s,i,o,l,c]},h=function(m){var A=m.map((function(y){return y.reduce((function(x,v){return x+Math.abs(v)}),0)}));return A.indexOf(Math.min.apply(null,A))};e.processPNG=function(m,A,y,x){var v,b,j,E,T,P,U,M,k,Q,z,O,L,V,J,ce=this.decode.FLATE_DECODE,ee="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(j=new khe(m)).imgData,b=j.bits,v=j.colorSpace,T=j.colors,[4,6].indexOf(j.colorType)!==-1){if(j.bits===8){k=(M=j.pixelBitlength==32?new Uint32Array(j.decodePixels().buffer):j.pixelBitlength==16?new Uint16Array(j.decodePixels().buffer):new Uint8Array(j.decodePixels().buffer)).length,z=new Uint8Array(k*j.colors),Q=new Uint8Array(k);var de,se=j.pixelBitlength-j.bits;for(V=0,J=0;V<k;V++){for(L=M[V],de=0;de<se;)z[J++]=L>>>de&255,de+=j.bits;Q[V]=L>>>de&255}}if(j.bits===16){k=(M=new Uint32Array(j.decodePixels().buffer)).length,z=new Uint8Array(k*(32/j.pixelBitlength)*j.colors),Q=new Uint8Array(k*(32/j.pixelBitlength)),O=j.colors>1,V=0,J=0;for(var he=0;V<k;)L=M[V++],z[J++]=L>>>0&255,O&&(z[J++]=L>>>16&255,L=M[V++],z[J++]=L>>>0&255),Q[he++]=L>>>16&255;b=8}x!==e.image_compression.NONE&&t()?(m=r(z,j.width*j.colors,j.colors,x),U=r(Q,j.width,1,x)):(m=z,U=Q,ce=void 0)}if(j.colorType===3&&(v=this.color_spaces.INDEXED,P=j.palette,j.transparency.indexed)){var fe=j.transparency.indexed,ve=0;for(V=0,k=fe.length;V<k;++V)ve+=fe[V];if((ve/=255)===k-1&&fe.indexOf(0)!==-1)E=[fe.indexOf(0)];else if(ve!==k){for(M=j.decodePixels(),Q=new Uint8Array(M.length),V=0,k=M.length;V<k;V++)Q[V]=fe[M[V]];U=r(Q,j.width,1)}}var B=(function(R){var Y;switch(R){case e.image_compression.FAST:Y=11;break;case e.image_compression.MEDIUM:Y=13;break;case e.image_compression.SLOW:Y=14;break;default:Y=12}return Y})(x);return ce===this.decode.FLATE_DECODE&&(ee="/Predictor "+B+" "),ee+="/Colors "+T+" /BitsPerComponent "+b+" /Columns "+j.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(U&&this.__addimage__.isArrayBuffer(U)||this.__addimage__.isArrayBufferView(U))&&(U=this.__addimage__.arrayBufferToBinaryString(U)),{alias:y,data:m,index:A,filter:ce,decodeParameters:ee,transparency:E,palette:P,sMask:U,predictor:B,width:j.width,height:j.height,bitsPerComponent:b,colorSpace:v}}}})(Wn.API),(function(e){e.processGIF89A=function(t,r,n,s){var i=new Phe(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},u=new L3(100).encode(d,100);return e.processJPEG.call(this,u,r,n,s)},e.processGIF87A=e.processGIF89A})(Wn.API),MA.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},MA.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){ho.log("bit decode error:"+r)}},MA.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},MA.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*s*4,l=i>>4,c=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*s+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},MA.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},MA.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,d=i>>15?255:0,u=n*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=d}this.pos+=e}},MA.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,d=(o>>11)/t*255|0,u=s*this.width*4+4*i;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=e}},MA.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},MA.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=o}},MA.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,n,s){var i=new MA(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new L3(100).encode(c,100);return e.processJPEG.call(this,d,r,n,s)}})(Wn.API),RP.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,n,s){var i=new RP(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new L3(100).encode(c,100);return e.processJPEG.call(this,d,r,n,s)}})(Wn.API),Wn.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,c=0,d=0;d<s;d+=4){var u=n[d],h=n[d+1],m=n[d+2],A=n[d+3];i[l++]=u,i[l++]=h,i[l++]=m,o[c++]=A}var y=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Wn.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},J1=Wn.API,j4=J1.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:s.metadata.Unicode.kerning,u=d.fof?d.fof:1,h=t.doKerning!==!1,m=0,A=e.length,y=0,x=l[0]||c,v=[];for(r=0;r<A;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?v.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(m=h&&qn(d[n])==="object"&&!isNaN(parseInt(d[n][y],10))?d[n][y]/u:0,v.push((l[n]||x)/c+m)),y=n;return v},OP=J1.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return J1.processArabic&&(e=J1.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:j4.apply(this,arguments).reduce((function(i,o){return i+o}),0)},DP=function(e,t,r,n){for(var s=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;s.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>n&&(s.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&s.push(e.slice(c,i)),s},MP=function(e,t,r){r||(r={});var n,s,i,o,l,c,d,u=[],h=[u],m=r.textIndent||0,A=0,y=0,x=e.split(" "),v=j4.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var b=Array(c).join(" "),j=[];x.map((function(T){(T=T.split(/\s*\n/)).length>1?j=j.concat(T.map((function(P,U){return(U&&P.length?`
`:"")+P}))):j.push(T[0])})),x=j,c=OP.apply(this,[b,r])}for(i=0,o=x.length;i<o;i++){var E=0;if(n=x[i],c&&n[0]==`
`&&(n=n.substr(1),E=1),m+A+(y=(s=j4.apply(this,[n,r])).reduce((function(T,P){return T+P}),0))>t||E){if(y>t){for(l=DP.apply(this,[n,s,t-(m+A),t]),u.push(l.shift()),u=[l.pop()];l.length;)h.push([l.shift()]);y=s.slice(n.length-(u[0]?u[0].length:0)).reduce((function(T,P){return T+P}),0)}else u=[n];h.push(u),m=y+c,A=v}else u.push(n),m+=A+y,A=v}return d=c?function(T,P){return(P?b:"")+T.join(" ")}:function(T){return T.join(" ")},h.map(d)},J1.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=n.length;l<c;l++)d=d.concat(MP.apply(this,[n[l],o,i]));return d},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},s=0;s<t.length;s++)r[t[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=t[s];var i=function(h){return"0x"+parseInt(h,10).toString(16)},o=e.__fontmetrics__.compress=function(h){var m,A,y,x,v=["{"];for(var b in h){if(m=h[b],isNaN(parseInt(b,10))?A="'"+b+"'":(b=parseInt(b,10),A=(A=i(b).slice(2)).slice(0,-1)+n[A.slice(-1)]),typeof m=="number")m<0?(y=i(m).slice(3),x="-"):(y=i(m).slice(2),x=""),y=x+y.slice(0,-1)+n[y.slice(-1)];else{if(qn(m)!=="object")throw new Error("Don't know what to do with value type "+qn(m)+".");y=o(m)}v.push(A+y)}return v.push("}"),v.join("")},l=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,A,y,x,v={},b=1,j=v,E=[],T="",P="",U=h.length-1,M=1;M<U;M+=1)(x=h[M])=="'"?m?(y=m.join(""),m=void 0):m=[]:m?m.push(x):x=="{"?(E.push([j,y]),j={},y=void 0):x=="}"?((A=E.pop())[0][A[1]]=j,y=void 0,j=A[0]):x=="-"?b=-1:y===void 0?r.hasOwnProperty(x)?(T+=r[x],y=parseInt(T,16)*b,b=1,T=""):T+=x:r.hasOwnProperty(x)?(P+=r[x],j[y]=parseInt(P,16)*b,b=1,y=void 0,P=""):P+=x;return v},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var m=h.font,A=u.Unicode[m.postScriptName];A&&(m.metadata.Unicode={},m.metadata.Unicode.widths=A.widths,m.metadata.Unicode.kerning=A.kerning);var y=d.Unicode[m.postScriptName];y&&(m.metadata.Unicode.encoding=y,m.encoding=y.codePages[0])}])})(Wn.API),(function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(L2(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,n)}}])})(Wn),(function(e){function t(){return(pa.canvg?Promise.resolve(pa.canvg):Iv(()=>import("./index.es-B3Svk1R9.js"),[])).catch((function(r){return Promise.reject(new Error("Could not load canvg: "+r))})).then((function(r){return r.default?r.default:r}))}Wn.API.addSvgAsImage=function(r,n,s,i,o,l,c,d){if(isNaN(n)||isNaN(s))throw ho.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw ho.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=o;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return t().then((function(y){return y.fromString(h,r,m)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(y){return y.render(m)})).then((function(){A.addImage(u.toDataURL("image/jpeg",1),n,s,i,o,c,d)}))}})(),Wn.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},Wn.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,h=0;function m(y,x){var v,b=!1;for(v=0;v<y.length;v+=1)y[v]===x&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var A=l.length;for(h=0;h<A;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(qn(e)==="object"){for(s in e)if(i=e[s],m(l,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&m(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(d=0;d<i.length;d+=1)if(n=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(u=0;u<i[d].length;u+=1)typeof i[d][u]!="number"&&(n=!1);n===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}r[s].value="["+c.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var y,x=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?x.push("/"+y+" /"+r[y].value):x.push("/"+y+" "+r[y].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(Wn.API),(function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],h=0,m=i.length;h<m;++h){if(l=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},n=function(i){var o,l,c,d,u,h,m;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,m=(l=Object.keys(i).sort((function(A,y){return A-y}))).length;h<m;h++)o=l[h],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),A="",y=0;y<m.length;y++)A+=String.fromCharCode(m[y]);var x=d();u({data:A,addLength1:!0,objectId:x}),c("endobj");var v=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var b=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+dv(l.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var j=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+dv(l.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+dv(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+j+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,m="",A=0;A<h.length;A++)m+=String.fromCharCode(h[A]);var y=d();u({data:m,addLength1:!0,objectId:y}),c("endobj");var x=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var v=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+y+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+dv(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+dv(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,l=i.text||"",c=i.x,d=i.y,u=i.options||{},h=i.mutex||{},m=h.pdfEscape,A=h.activeFontKey,y=h.fonts,x=A,v="",b=0,j="",E=y[x].encoding;if(y[x].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:h};for(j=l,x=A,Array.isArray(l)&&(j=l[0]),b=0;b<j.length;b+=1)y[x].metadata.hasOwnProperty("cmap")&&(o=y[x].metadata.cmap.unicode.codeMap[j[b].charCodeAt(0)]),o||j[b].charCodeAt(0)<256&&y[x].metadata.hasOwnProperty("Unicode")?v+=j[b]:v+="";var T="";return parseInt(x.slice(1))<14||E==="WinAnsiEncoding"?T=m(v,x).split("").map((function(P){return P.charCodeAt(0).toString(16)})).join(""):E==="Identity-H"&&(T=r(v,y[x])),h.isHex=!0,{text:T,x:c,y:d,options:u,mutex:h}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([s(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(s(Object.assign({},c,{text:o[d]})).text);i.text=l}else i.text=s(Object.assign({},c,{text:o})).text}])})(Wn),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Wn.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,i,o,l,c,d,u,h=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],A=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,E=0;this.__bidiEngine__={};var T=function(O){var L=O.charCodeAt(),V=L>>8,J=x[V];return J!==void 0?h[256*J+(255&L)]:V===252||V===253?"AL":b.test(V)?"L":V===8?"R":"N"},P=function(O){for(var L,V=0;V<O.length;V++){if((L=T(O.charAt(V)))==="L")return!1;if(L==="R")return!0}return!1},U=function(O,L,V,J){var ce,ee,de,se,he=L[J];switch(he){case"L":case"R":j=!1;break;case"N":case"AN":break;case"EN":j&&(he="AN");break;case"AL":j=!0,he="R";break;case"WS":he="N";break;case"CS":J<1||J+1>=L.length||(ce=V[J-1])!=="EN"&&ce!=="AN"||(ee=L[J+1])!=="EN"&&ee!=="AN"?he="N":j&&(ee="AN"),he=ee===ce?ee:"N";break;case"ES":he=(ce=J>0?V[J-1]:"B")==="EN"&&J+1<L.length&&L[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&V[J-1]==="EN"){he="EN";break}if(j){he="N";break}for(de=J+1,se=L.length;de<se&&L[de]==="ET";)de++;he=de<se&&L[de]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(se=L.length,de=J+1;de<se&&L[de]==="NSM";)de++;if(de<se){var fe=O[J],ve=fe>=1425&&fe<=2303||fe===64286;if(ce=L[de],ve&&(ce==="R"||ce==="AL")){he="R";break}}}he=J<1||(ce=L[J-1])==="B"?"N":V[J-1];break;case"B":j=!1,s=!0,he=E;break;case"S":i=!0,he="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"BN":he="N"}return he},M=function(O,L,V){var J=O.split("");return V&&k(J,V,{hiLevel:E}),J.reverse(),L&&L.reverse(),J.join("")},k=function(O,L,V){var J,ce,ee,de,se,he=-1,fe=O.length,ve=0,B=[],R=E?A:m,Y=[];for(j=!1,s=!1,i=!1,ce=0;ce<fe;ce++)Y[ce]=T(O[ce]);for(ee=0;ee<fe;ee++){if(se=ve,B[ee]=U(O,Y,B,ee),J=240&(ve=R[se][y[B[ee]]]),ve&=15,L[ee]=de=R[ve][5],J>0)if(J===16){for(ce=he;ce<ee;ce++)L[ce]=1;he=-1}else he=-1;if(R[ve][6])he===-1&&(he=ee);else if(he>-1){for(ce=he;ce<ee;ce++)L[ce]=de;he=-1}Y[ee]==="B"&&(L[ee]=0),V.hiLevel|=de}i&&(function(ie,ge,ye){for(var pe=0;pe<ye;pe++)if(ie[pe]==="S"){ge[pe]=E;for(var Z=pe-1;Z>=0&&ie[Z]==="WS";Z--)ge[Z]=E}})(Y,L,fe)},Q=function(O,L,V,J,ce){if(!(ce.hiLevel<O)){if(O===1&&E===1&&!s)return L.reverse(),void(V&&V.reverse());for(var ee,de,se,he,fe=L.length,ve=0;ve<fe;){if(J[ve]>=O){for(se=ve+1;se<fe&&J[se]>=O;)se++;for(he=ve,de=se-1;he<de;he++,de--)ee=L[he],L[he]=L[de],L[de]=ee,V&&(ee=V[he],V[he]=V[de],V[de]=ee);ve=se}ve++}}},z=function(O,L,V){var J=O.split(""),ce={hiLevel:E};return V||(V=[]),k(J,V,ce),(function(ee,de,se){if(se.hiLevel!==0&&u)for(var he,fe=0;fe<ee.length;fe++)de[fe]===1&&(he=v.indexOf(ee[fe]))>=0&&(ee[fe]=v[he+1])})(J,V,ce),Q(2,J,L,V,ce),Q(1,J,L,V,ce),J.join("")};return this.__bidiEngine__.doBidiReorder=function(O,L,V){if((function(ce,ee){if(ee)for(var de=0;de<ce.length;de++)ee[de]=de;l===void 0&&(l=P(ce)),d===void 0&&(d=P(ce))})(O,L),o||!c||d)if(o&&c&&l^d)E=l?1:0,O=M(O,L,V);else if(!o&&c&&d)E=l?1:0,O=z(O,L,V),O=M(O,L);else if(!o||l||c||d){if(o&&!c&&l^d)O=M(O,L),l?(E=0,O=z(O,L,V)):(E=1,O=z(O,L,V),O=M(O,L));else if(o&&l&&!c&&d)E=1,O=z(O,L,V),O=M(O,L);else if(!o&&!c&&l^d){var J=u;l?(E=1,O=z(O,L,V),E=0,u=!1,O=z(O,L,V),u=J):(E=0,O=z(O,L,V),O=M(O,L),E=1,u=!1,O=z(O,L,V),u=J,O=M(O,L))}}else E=0,O=z(O,L,V);else E=l?1:0,O=z(O,L,V);return O},this.__bidiEngine__.setOptions=function(O){O&&(o=O.isInputVisual,c=O.isOutputVisual,l=O.isInputRtl,d=O.isOutputRtl,u=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text,i=(n.x,n.y,n.options||{}),o=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([r.doBidiReorder(s[l])]);n.text=o}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])})(Wn),Wn.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new pg(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Whe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Lhe(this.contents),this.head=new Dhe(this),this.name=new Hhe(this),this.cmap=new X$(this),this.toUnicode={},this.hhea=new Mhe(this),this.maxp=new $he(this),this.hmtx=new zhe(this),this.post=new Rhe(this),this.os2=new Uhe(this),this.loca=new Ghe(this),this.glyf=new Vhe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),(32768&(r=s>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e})();var tm,pg=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,i,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,i;for(i=[],n=0,s=t.length;n<s;n++)r=t[n],i.push(this.writeByte(r));return i},e})(),Lhe=(function(){var e;function t(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,i,o,l,c,d,u,h,m,A,y,x;for(x in A=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(A)/c),o=Math.floor(h/c),u=16*A-h,(s=new pg).writeInt(this.scalarType),s.writeShort(A),s.writeShort(h),s.writeShort(o),s.writeShort(u),i=16*A,d=s.pos+i,l=null,y=[],r)for(m=r[x],s.writeString(x),s.writeInt(e(m)),s.writeInt(d),s.writeInt(m.length),y=y.concat(m),x==="head"&&(l=d),d+=m.length;d%4;)y.push(0),d++;return s.write(y),n=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(n),s.data},e=function(r){var n,s,i,o;for(r=J$.call(r);r.length%4;)r.push(0);for(i=new pg(r),s=0,n=0,o=r.length;n<o;n=n+=4)s+=i.readUInt32();return 4294967295&s},t})(),Ohe={}.hasOwnProperty,Jm=function(e,t){for(var r in t)Ohe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};tm=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var Dhe=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Jm(t,tm),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new pg).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t})(),QP=(function(){function e(t,r){var n,s,i,o,l,c,d,u,h,m,A,y,x,v,b,j,E;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(A=t.readUInt16(),m=A/2,t.pos+=6,i=(function(){var T,P;for(P=[],c=T=0;0<=m?T<m:T>m;c=0<=m?++T:--T)P.push(t.readUInt16());return P})(),t.pos+=2,x=(function(){var T,P;for(P=[],c=T=0;0<=m?T<m:T>m;c=0<=m?++T:--T)P.push(t.readUInt16());return P})(),d=(function(){var T,P;for(P=[],c=T=0;0<=m?T<m:T>m;c=0<=m?++T:--T)P.push(t.readUInt16());return P})(),u=(function(){var T,P;for(P=[],c=T=0;0<=m?T<m:T>m;c=0<=m?++T:--T)P.push(t.readUInt16());return P})(),s=(this.length-t.pos+this.offset)/2,l=(function(){var T,P;for(P=[],c=T=0;0<=s?T<s:T>s;c=0<=s?++T:--T)P.push(t.readUInt16());return P})(),c=b=0,E=i.length;b<E;c=++b)for(v=i[c],n=j=y=x[c];y<=v?j<=v:j>=v;n=y<=v?++j:--j)u[c]===0?o=n+d[c]:(o=l[u[c]/2+(n-y)-(m-c)]||0)!==0&&(o+=d[c]),this.codeMap[n]=65535&o}t.pos=h}return e.encode=function(t,r){var n,s,i,o,l,c,d,u,h,m,A,y,x,v,b,j,E,T,P,U,M,k,Q,z,O,L,V,J,ce,ee,de,se,he,fe,ve,B,R,Y,ie,ge,ye,pe,Z,le,te,Ne;switch(J=new pg,o=Object.keys(t).sort((function(Fe,be){return Fe-be})),r){case"macroman":for(x=0,v=(function(){var Fe=[];for(y=0;y<256;++y)Fe.push(0);return Fe})(),j={0:0},i={},ce=0,he=o.length;ce<he;ce++)j[Z=t[s=o[ce]]]==null&&(j[Z]=++x),i[s]={old:t[s],new:j[t[s]]},v[s]=j[t[s]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(v),{charMap:i,subtable:J.data,maxGlyphID:x+1};case"unicode":for(L=[],h=[],E=0,j={},n={},b=d=null,ee=0,fe=o.length;ee<fe;ee++)j[P=t[s=o[ee]]]==null&&(j[P]=++E),n[s]={old:P,new:j[P]},l=j[P]-s,b!=null&&l===d||(b&&h.push(b),L.push(s),d=l),b=s;for(b&&h.push(b),h.push(65535),L.push(65535),z=2*(Q=L.length),k=2*Math.pow(Math.log(Q)/Math.LN2,2),m=Math.log(k/2)/Math.LN2,M=2*Q-k,c=[],U=[],A=[],y=de=0,ve=L.length;de<ve;y=++de){if(O=L[y],u=h[y],O===65535){c.push(0),U.push(0);break}if(O-(V=n[O].new)>=32768)for(c.push(0),U.push(2*(A.length+Q-y)),s=se=O;O<=u?se<=u:se>=u;s=O<=u?++se:--se)A.push(n[s].new);else c.push(V-O),U.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*Q+2*A.length),J.writeUInt16(0),J.writeUInt16(z),J.writeUInt16(k),J.writeUInt16(m),J.writeUInt16(M),ye=0,B=h.length;ye<B;ye++)s=h[ye],J.writeUInt16(s);for(J.writeUInt16(0),pe=0,R=L.length;pe<R;pe++)s=L[pe],J.writeUInt16(s);for(le=0,Y=c.length;le<Y;le++)l=c[le],J.writeUInt16(l);for(te=0,ie=U.length;te<ie;te++)T=U[te],J.writeUInt16(T);for(Ne=0,ge=A.length;Ne<ge;Ne++)x=A[Ne],J.writeUInt16(x);return{charMap:n,subtable:J.data,maxGlyphID:E+1}}},e})(),X$=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Jm(t,tm),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,s,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n=new QP(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var s,i;return n==null&&(n="macroman"),s=QP.encode(r,n),(i=new pg).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},t})(),Mhe=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Jm(t,tm),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t})(),Uhe=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Jm(t,tm),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=(function(){var n,s;for(s=[],n=0;n<10;++n)s.push(r.readByte());return s})(),this.charRange=(function(){var n,s;for(s=[],n=0;n<4;++n)s.push(r.readInt());return s})(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=(function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(r.readInt());return s})(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t})(),Rhe=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Jm(t,tm),t.prototype.tag="post",t.prototype.parse=function(r){var n,s,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(s=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 196608:break;case 262144:return this.map=(function(){var l,c,d;for(d=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)d.push(r.readUInt32());return d}).call(this)}},t})(),Qhe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Hhe=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Jm(t,tm),t.prototype.tag="name",t.prototype.parse=function(r){var n,s,i,o,l,c,d,u,h,m,A;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),s=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(d={},o=h=0,m=s.length;h<m;o=++h)i=s[o],r.pos=i.offset,u=r.readString(i.length),l=new Qhe(u,i),d[A=i.nameID]==null&&(d[A]=[]),d[i.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t})(),$he=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Jm(t,tm),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t})(),zhe=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Jm(t,tm),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,s,i,o,l,c,d;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,h;for(h=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)h.push(r.readInt16());return h})(),this.widths=(function(){var u,h,m,A;for(A=[],u=0,h=(m=this.metrics).length;u<h;u++)o=m[u],A.push(o.advance);return A}).call(this),s=this.widths[this.widths.length-1],d=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)d.push(this.widths.push(s));return d},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t})(),J$=[].slice,Vhe=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Jm(t,tm),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,s,i,o,l,c,d,u,h,m;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,s=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+s,l=(c=new pg(n.read(i))).readShort(),u=c.readShort(),m=c.readShort(),d=c.readShort(),h=c.readShort(),this.cache[r]=l===-1?new qhe(c,u,m,d,h):new Khe(c,l,u,m,d,h),this.cache[r]))},t.prototype.encode=function(r,n,s){var i,o,l,c,d;for(l=[],o=[],c=0,d=n.length;c<d;c++)i=r[n[c]],o.push(l.length),i&&(l=l.concat(i.encode(s)));return o.push(l.length),{table:l,offsets:o}},t})(),Khe=(function(){function e(t,r,n,s,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),qhe=(function(){function e(t,r,n,s,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new pg(J$.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),Ghe=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Jm(t,tm),t.prototype.tag="loca",t.prototype.parse=function(r){var n,s;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var s=new Uint32Array(this.offsets.length),i=0,o=0,l=0;l<s.length;++l)if(s[l]=i,o<n.length&&n[o]==l){++o,s[l]=i;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(i+=d)}for(var u=new Array(4*s.length),h=0;h<s.length;++h)u[4*h+3]=255&s[h],u[4*h+2]=(65280&s[h])>>8,u[4*h+1]=(16711680&s[h])>>16,u[4*h]=(4278190080&s[h])>>24;return u},t})(),Whe=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,i,o,l,c;for(s={},o=0,l=t.length;o<l;o++)s[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],s[i]=n;return s},e.prototype.encode=function(t,r){var n,s,i,o,l,c,d,u,h,m,A,y,x,v,b;for(s in n=X$.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),A={0:0},b=n.charMap)A[(c=b[s]).old]=c.new;for(y in m=n.maxGlyphID,o)y in A||(A[y]=m++);return u=(function(j){var E,T;for(E in T={},j)T[j[E]]=E;return T})(A),h=Object.keys(u).sort((function(j,E){return j-E})),x=(function(){var j,E,T;for(T=[],j=0,E=h.length;j<E;j++)l=h[j],T.push(u[l]);return T})(),i=this.font.glyf.encode(o,x,A),d=this.font.loca.encode(i.offsets,x),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e})();Wn.API.PDFObject=(function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,i,o;if(Array.isArray(r))return"["+(function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)n=r[l],d.push(t.convert(n));return d})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)o=r[s],i.push("/"+s+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t})();function Z$(e,t,r,n,s){n=n||{};var i=1.15,o=s.internal.scaleFactor,l=s.internal.getFontSize()/o,c=s.getLineHeightFactor?s.getLineHeightFactor():i,d=l*c,u=/\r\n|\r|\n/g,h="",m=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(h=typeof e=="string"?e.split(u):e,m=h.length||1),r+=l*(2-i),n.valign==="middle"?r-=m/2*d:n.valign==="bottom"&&(r-=m*d),n.halign==="center"||n.halign==="right"){var A=l;if(n.halign==="center"&&(A*=.5),h&&m>=1){for(var y=0;y<h.length;y++)s.text(h[y],t-s.getStringUnitWidth(h[y])*A,r),r+=d;return s}t-=s.getStringUnitWidth(e)*A}return n.halign==="justify"?s.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):s.text(e,t,r),s}var HP={},Dv=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:HP=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,s,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(t.font&&(c=t.font),t.fontStyle){l=t.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),l=d[0])}if(this.jsPDFDocument.setFont(c,l),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=e.unifyColor(t.textColor),u&&(s=this.jsPDFDocument).setTextColor.apply(s,u),u=e.unifyColor(t.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,s,i){return this.jsPDFDocument.rect(t,r,n,s,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return HP||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),dB=function(e,t){return dB=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},dB(e,t)};function ez(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");dB(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var tz=(function(e){ez(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t})(Array);function Yhe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Xhe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function iN(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],s=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,o){return Math.max(i,o)},0);return s}function rz(e,t,r,n){var s=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:s,lineColor:i});var o=nz(s,!1);o&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,o)}function nz(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function Fj(e,t){var r,n,s,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(s=e.right)!==null&&s!==void 0?s:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function az(e,t){var r=Fj(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function Jhe(e,t,r,n,s){var i={},o=1.3333333333333333,l=O3(t,function(E){return s.getComputedStyle(E).backgroundColor});l!=null&&(i.fillColor=l);var c=O3(t,function(E){return s.getComputedStyle(E).color});c!=null&&(i.textColor=c);var d=eAe(n,r);d&&(i.cellPadding=d);var u="borderTopColor",h=o*r,m=n.borderTopWidth;if(n.borderBottomWidth===m&&n.borderRightWidth===m&&n.borderLeftWidth===m){var A=(parseFloat(m)||0)/h;A&&(i.lineWidth=A)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/h,right:(parseFloat(n.borderRightWidth)||0)/h,bottom:(parseFloat(n.borderBottomWidth)||0)/h,left:(parseFloat(n.borderLeftWidth)||0)/h},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var y=O3(t,function(E){return s.getComputedStyle(E)[u]});y!=null&&(i.lineColor=y);var x=["left","right","center","justify"];x.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),x=["middle","bottom","top"],x.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(i.fontSize=v/o);var b=Zhe(n);b&&(i.fontStyle=b);var j=(n.fontFamily||"").toLowerCase();return e.indexOf(j)!==-1&&(i.font=j),i}function Zhe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function O3(e,t){var r=sz(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var s=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function sz(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:sz(e.parentElement,t):r}function eAe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),s=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(l){return parseInt(l||"0")/n}),o=Fj(i,0);return s>o.top&&(o.top=s),s>o.bottom&&(o.bottom=s),o}function iz(e,t,r,n,s){var i,o;n===void 0&&(n=!1),s===void 0&&(s=!1);var l;typeof t=="string"?l=r.document.querySelector(t):l=t;var c=Object.keys(e.getFontList()),d=e.scaleFactor(),u=[],h=[],m=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:u,body:h,foot:m};for(var A=0;A<l.rows.length;A++){var y=l.rows[A],x=(o=(i=y?.parentElement)===null||i===void 0?void 0:i.tagName)===null||o===void 0?void 0:o.toLowerCase(),v=tAe(c,d,r,y,n,s);v&&(x==="thead"?u.push(v):x==="tfoot"?m.push(v):h.push(v))}return{head:u,body:h,foot:m}}function tAe(e,t,r,n,s,i){for(var o=new tz(n),l=0;l<n.cells.length;l++){var c=n.cells[l],d=r.getComputedStyle(c);if(s||d.display!=="none"){var u=void 0;i&&(u=Jhe(e,c,t,d,r)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:u,_element:c,content:rAe(c)})}}var h=r.getComputedStyle(n);if(o.length>0&&(s||h.display!=="none"))return o}function rAe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function nAe(e,t,r){for(var n=0,s=[e,t,r];n<s.length;n++){var i=s[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function O0(e,t,r,n,s){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i}function oz(e,t){var r=new Dv(e),n=r.getDocumentOptions(),s=r.getGlobalOptions();nAe(s,n,t);var i=O0({},s,n,t),o;typeof window<"u"&&(o=window);var l=aAe(s,n,t),c=sAe(s,n,t),d=iAe(r,i),u=lAe(r,i,o);return{id:t.tableId,content:u,hooks:c,styles:l,settings:d}}function aAe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(c){if(c==="columnStyles"){var d=e[c],u=t[c],h=r[c];n.columnStyles=O0({},d,u,h)}else{var m=[e,t,r],A=m.map(function(y){return y[c]||{}});n[c]=O0({},A[0],A[1],A[2])}},i=0,o=Object.keys(n);i<o.length;i++){var l=o[i];s(l)}return n}function sAe(e,t,r){for(var n=[e,t,r],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,o=n;i<o.length;i++){var l=o[i];l.didParseCell&&s.didParseCell.push(l.didParseCell),l.willDrawCell&&s.willDrawCell.push(l.willDrawCell),l.didDrawCell&&s.didDrawCell.push(l.didDrawCell),l.willDrawPage&&s.willDrawPage.push(l.willDrawPage),l.didDrawPage&&s.didDrawPage.push(l.didDrawPage)}return s}function iAe(e,t){var r,n,s,i,o,l,c,d,u,h,m,A,y=Fj(t.margin,40/e.scaleFactor()),x=(r=oAe(e,t.startY))!==null&&r!==void 0?r:y.top,v;t.showFoot===!0?v="everyPage":t.showFoot===!1?v="never":v=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var b;t.showHead===!0?b="everyPage":t.showHead===!1?b="never":b=(s=t.showHead)!==null&&s!==void 0?s:"everyPage";var j=(i=t.useCss)!==null&&i!==void 0?i:!1,E=t.theme||(j?"plain":"striped"),T=!!t.horizontalPageBreak,P=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=t.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:j,theme:E,startY:x,margin:y,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=t.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:b,showFoot:v,tableLineWidth:(h=t.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(m=t.tableLineColor)!==null&&m!==void 0?m:200,horizontalPageBreak:T,horizontalPageBreakRepeat:P,horizontalPageBreakBehaviour:(A=t.horizontalPageBreakBehaviour)!==null&&A!==void 0?A:"afterAllRows"}}function oAe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),s=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;i=o===s}return typeof t=="number"?t:(t==null||t===!1)&&i&&r?.finalY!=null?r.finalY+20/n:null}function lAe(e,t,r){var n=t.head||[],s=t.body||[],i=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(r){var l=iz(e,t.html,r,o,t.useCss)||{};n=l.head||n,s=l.body||n,i=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=t.columns||cAe(n,s,i);return{columns:c,head:n,body:s,foot:i}}function cAe(e,t,r){var n=e[0]||t[0]||r[0]||[],s=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var o=1,l;Array.isArray(n)?l=n[parseInt(i)]:l=n[i],typeof l=="object"&&!Array.isArray(l)&&(o=l?.colSpan||1);for(var c=0;c<o;c++){var d=void 0;Array.isArray(n)?d=s.length:d=i+(c>0?"_".concat(c):"");var u={dataKey:d};s.push(u)}}),s}var fB=(function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e})(),uAe=(function(e){ez(t,e);function t(r,n,s,i,o,l){var c=e.call(this,r,n,l)||this;return c.cell=s,c.row=i,c.column=o,c.section=i.section,c}return t})(fB),dAe=(function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,s,i,o){for(var l=0,c=r;l<c.length;l++){var d=c[l],u=new uAe(t,this,n,s,i,o),h=d(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],h)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,s=this.hooks.didDrawPage;n<s.length;n++){var i=s[n];i(new fB(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,s=this.hooks.willDrawPage;n<s.length;n++){var i=s[n];i(new fB(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(s,i){return s+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e})(),lz=(function(){function e(t,r,n,s,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof tz&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=s,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,s){var i;return Math.max(n,((i=r.cells[s.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var s=r.cells[n.index];return s?s.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(s,i){var o=n.cells[i.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),d=c+l;return d>s?d:s},0)},e})(),cz=(function(){function e(t,r,n){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(s=t.content)!==null&&s!==void 0?s:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=i!=null?""+i:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");n=this.x+s/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/t*r,i=n*s+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=Fj(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e})(),fAe=(function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,s=t.allRows();n<s.length;n++){var i=s[n],o=i.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},e})();function hAe(e,t){AAe(e,t);var r=[],n=0;t.columns.forEach(function(i){var o=i.getMaxCustomCellWidth(t);o?i.width=o:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var s=t.getWidth(e.pageSize().width)-n;s&&(s=hB(r,s,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),s&&(s=hB(r,s,function(i){return i.minWidth})),s=Math.abs(s),!t.settings.horizontalPageBreak&&s>.1/e.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),pAe(t),gAe(t,e),mAe(t)}function AAe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,s=az(e,t);t.allRows().forEach(function(i){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d){var u=t.hooks.didParseCell;t.callCellHooks(e,u,d,i,c,null);var h=d.padding("horizontal");d.contentWidth=iN(d.text,d.styles,e)+h;var m=iN(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,e);if(d.minReadableWidth=m+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||n===!0)d.contentWidth>s?(d.minWidth=s,d.wrappedWidth=s):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var A=10/r;d.minWidth=d.styles.minCellWidth||A,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(i){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var u=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},h=u.cellWidth||u.minCellWidth;h&&typeof h=="number"&&(c.minWidth=h,c.wrappedWidth=h)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function hB(e,t,r){for(var n=t,s=e.reduce(function(A,y){return A+y.wrappedWidth},0),i=0;i<e.length;i++){var o=e[i],l=o.wrappedWidth/s,c=n*l,d=o.width+c,u=r(o),h=d<u?u:d;t-=h-o.width,o.width=h}if(t=Math.round(t*1e10)/1e10,t){var m=e.filter(function(A){return t<0?A.width>r(A):!0});m.length&&(t=hB(m,t,r))}return t}function mAe(e){for(var t={},r=1,n=e.allRows(),s=0;s<n.length;s++)for(var i=n[s],o=0,l=e.columns;o<l.length;o++){var c=l[o],d=t[c.index];if(r>1)r--,delete i.cells[c.index];else if(d)d.cell.height+=i.height,r=d.cell.colSpan,delete i.cells[c.index],d.left--,d.left<=1&&delete t[c.index];else{var u=i.cells[c.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var h=n.length-s,m=u.rowSpan>h?h:u.rowSpan;t[c.index]={cell:u,left:m,row:i}}}}}function pAe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],s=null,i=0,o=0,l=0;l<e.columns.length;l++){var c=e.columns[l];if(o-=1,o>1&&e.columns[l+1])i+=c.width,delete n.cells[c.index];else if(s){var d=s;delete n.cells[c.index],s=null,d.width=c.width+i}else{var d=n.cells[c.index];if(!d)continue;if(o=d.colSpan,i=0,d.colSpan>1){s=d,i+=c.width;continue}d.width=c.width+i}}}function gAe(e,t){for(var r={count:0,height:0},n=0,s=e.allRows();n<s.length;n++){for(var i=s[n],o=0,l=e.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d){t.applyStyles(d.styles,!0);var u=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=t.splitTextToSize(d.text,u+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=$P(d.text,u,d.styles,t,"...");else if(d.styles.overflow==="hidden")d.text=$P(d.text,u,d.styles,t,"");else if(typeof d.styles.overflow=="function"){var h=d.styles.overflow(d.text,u);typeof h=="string"?d.text=[h]:d.text=h}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var m=d.contentHeight/d.rowSpan;d.rowSpan>1&&r.count*r.height<m*d.rowSpan?r={height:m,count:d.rowSpan}:r&&r.count>0&&r.height>m&&(m=r.height),m>i.height&&(i.height=m)}}r.count--}}function $P(e,t,r,n,s){return e.map(function(i){return xAe(i,t,r,n,s)})}function xAe(e,t,r,n,s){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=iN(e,r,n))return e;for(;t<iN(e+s,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+s}function uz(e,t){var r=new Dv(e),n=vAe(t,r.scaleFactor()),s=new dAe(t,n);return hAe(r,s),r.applyStyles(r.userStyles),s}function vAe(e,t){var r=e.content,n=bAe(r.columns);if(r.head.length===0){var s=zP(n,"head");s&&r.head.push(s)}if(r.foot.length===0){var s=zP(n,"foot");s&&r.foot.push(s)}var i=e.settings.theme,o=e.styles;return{columns:n,head:D3("head",r.head,n,o,i,t),body:D3("body",r.body,n,o,i,t),foot:D3("foot",r.foot,n,o,i,t)}}function D3(e,t,r,n,s,i){var o={},l=t.map(function(c,d){for(var u=0,h={},m=0,A=0,y=0,x=r;y<x.length;y++){var v=x[y];if(o[v.index]==null||o[v.index].left===0)if(A===0){var b=void 0;Array.isArray(c)?b=c[v.index-m-u]:b=c[v.dataKey];var j={};typeof b=="object"&&!Array.isArray(b)&&(j=b?.styles||{});var E=wAe(e,v,d,s,n,i,j),T=new cz(b,E,e);h[v.dataKey]=T,h[v.index]=T,A=T.colSpan-1,o[v.index]={left:T.rowSpan-1,times:A}}else A--,m++;else o[v.index].left--,A=o[v.index].times,u++}return new lz(c,d,e,h)});return l}function zP(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var s=yAe(t,n.raw);s!=null&&(r[n.dataKey]=s)}}),Object.keys(r).length>0?r:null}function yAe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function bAe(e){return e.map(function(t,r){var n,s;return typeof t=="object"?s=(n=t.dataKey)!==null&&n!==void 0?n:r:s=r,new fAe(s,t,r)})}function wAe(e,t,r,n,s,i,o){var l=Xhe(n),c;e==="head"?c=s.headStyles:e==="body"?c=s.bodyStyles:e==="foot"&&(c=s.footStyles);var d=O0({},l.table,l[e],s.styles,c),u=s.columnStyles[t.dataKey]||s.columnStyles[t.index]||{},h=e==="body"?u:{},m=e==="body"&&r%2===0?O0({},l.alternateRow,s.alternateRowStyles):{},A=Yhe(i),y=O0({},A,d,m,h);return O0(y,o)}function NAe(e,t,r){var n;r===void 0&&(r={});var s=az(e,t),i=new Map,o=[],l=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(m){var A=t.columns.find(function(y){return y.dataKey===m||y.index===m});A&&!i.has(A.index)&&(i.set(A.index,!0),o.push(A.index),l.push(t.columns[A.index]),s-=A.wrappedWidth)});for(var d=!0,u=(n=r?.start)!==null&&n!==void 0?n:0;u<t.columns.length;){if(i.has(u)){u++;continue}var h=t.columns[u].wrappedWidth;if(d||s>=h)d=!1,o.push(u),l.push(t.columns[u]),s-=h;else break;u++}return{colIndexes:o,columns:l,lastIndex:u-1}}function jAe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var s=NAe(e,t,{start:n});s.columns.length&&(r.push(s),n=s.lastIndex)}return r}function dz(e,t){var r=t.settings,n=r.startY,s=r.margin,i={x:s.left,y:n},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),l=n+s.bottom+o;if(r.pageBreak==="avoid"){var c=t.body,d=c.reduce(function(m,A){return m+A.height},0);l+=d}var u=new Dv(e);(r.pageBreak==="always"||r.startY!=null&&l>u.pageSize().height)&&(hz(u),i.y=s.top),t.callWillDrawPageHooks(u,i);var h=O0({},i);t.startPageNumber=u.pageNumber(),r.horizontalPageBreak?SAe(u,t,h,i):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(m){return J0(u,t,m,i,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(m,A){var y=A===t.body.length-1;oN(u,t,m,y,h,i,t.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(m){return J0(u,t,m,i,t.columns)})),rz(u,t,h,i),t.callEndPageHooks(u,i),t.finalY=i.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function SAe(e,t,r,n){var s=jAe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(d,u){e.applyStyles(e.userStyles),u>0?O2(e,t,r,n,d.columns,!0):VP(e,t,n,d.columns),CAe(e,t,r,n,d.columns),M3(e,t,n,d.columns)});else for(var o=-1,l=s[0],c=function(){var d=o;if(l){e.applyStyles(e.userStyles);var u=l.columns;o>=0?O2(e,t,r,n,u,!0):VP(e,t,n,u),d=KP(e,t,o+1,n,u),M3(e,t,n,u)}var h=d-o;s.slice(1).forEach(function(m){e.applyStyles(e.userStyles),O2(e,t,r,n,m.columns,!0),KP(e,t,o+1,n,m.columns,h),M3(e,t,n,m.columns)}),o=d};o<t.body.length-1;)c()}function VP(e,t,r,n){var s=t.settings;e.applyStyles(e.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&t.head.forEach(function(i){return J0(e,t,i,r,n)})}function CAe(e,t,r,n,s){e.applyStyles(e.userStyles),t.body.forEach(function(i,o){var l=o===t.body.length-1;oN(e,t,i,l,r,n,s)})}function KP(e,t,r,n,s,i){e.applyStyles(e.userStyles),i=i??t.body.length;var o=Math.min(r+i,t.body.length),l=-1;return t.body.slice(r,o).forEach(function(c,d){var u=r+d===t.body.length-1,h=fz(e,t,u,n);c.canEntireRowFit(h,s)&&(J0(e,t,c,n,s),l=r+d)}),l}function M3(e,t,r,n){var s=t.settings;e.applyStyles(e.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&t.foot.forEach(function(i){return J0(e,t,i,r,n)})}function EAe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),s=e.padding("vertical"),i=Math.floor((t-s)/n);return Math.max(0,i)}function BAe(e,t,r,n){var s={};e.spansMultiplePages=!0,e.height=0;for(var i=0,o=0,l=r.columns;o<l.length;o++){var c=l[o],d=e.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var u=new cz(d.raw,d.styles,d.section);u=O0(u,d),u.text=[];var h=EAe(d,t,n);d.text.length>h&&(u.text=d.text.splice(h,d.text.length));var m=n.scaleFactor(),A=n.getLineHeightFactor();d.contentHeight=d.getContentHeight(m,A),d.contentHeight>=t&&(d.contentHeight=t,u.styles.minCellHeight-=t),d.contentHeight>e.height&&(e.height=d.contentHeight),u.contentHeight=u.getContentHeight(m,A),u.contentHeight>i&&(i=u.contentHeight),s[c.index]=u}}var y=new lz(e.raw,-1,e.section,s,!0);y.height=i;for(var x=0,v=r.columns;x<v.length;x++){var c=v[x],u=y.cells[c.index];u&&(u.height=y.height);var d=e.cells[c.index];d&&(d.height=e.height)}return y}function TAe(e,t,r,n){var s=e.pageSize().height,i=n.settings.margin,o=i.top+i.bottom,l=s-o;t.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=t.getMinimumRowHeight(n.columns,e),d=c<r;if(c>l)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var u=t.hasRowSpan(n.columns),h=t.getMaxCellHeight(n.columns)>l;return h?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function oN(e,t,r,n,s,i,o){var l=fz(e,t,n,i);if(r.canEntireRowFit(l,o))J0(e,t,r,i,o);else if(TAe(e,r,l,t)){var c=BAe(r,l,t,e);J0(e,t,r,i,o),O2(e,t,s,i,o),oN(e,t,c,n,s,i,o)}else O2(e,t,s,i,o),oN(e,t,r,n,s,i,o)}function J0(e,t,r,n,s){n.x=t.settings.margin.left;for(var i=0,o=s;i<o.length;i++){var l=o[i],c=r.cells[l.index];if(!c){n.x+=l.width;continue}e.applyStyles(c.styles),c.x=n.x,c.y=n.y;var d=t.callCellHooks(e,t.hooks.willDrawCell,c,r,l,n);if(d===!1){n.x+=l.width;continue}_Ae(e,c,n);var u=c.getTextPos();Z$(c.text,u.x,u.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function _Ae(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var s=nz(n.lineWidth,n.fillColor);s&&e.rect(t.x,r.y,t.width,t.height,s)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),FAe(e,t,r,n.lineWidth))}function FAe(e,t,r,n){var s,i,o,l;n.top&&(s=r.x,i=r.y,o=r.x+t.width,l=r.y,n.right&&(o+=.5*n.right),n.left&&(s-=.5*n.left),c(n.top,s,i,o,l)),n.bottom&&(s=r.x,i=r.y+t.height,o=r.x+t.width,l=r.y+t.height,n.right&&(o+=.5*n.right),n.left&&(s-=.5*n.left),c(n.bottom,s,i,o,l)),n.left&&(s=r.x,i=r.y,o=r.x,l=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,s,i,o,l)),n.right&&(s=r.x+t.width,i=r.y,o=r.x+t.width,l=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,s,i,o,l));function c(d,u,h,m,A){e.getDocument().setLineWidth(d),e.getDocument().line(u,h,m,A,"S")}}function fz(e,t,r,n){var s=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(s+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-s}function O2(e,t,r,n,s,i){s===void 0&&(s=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(l){return J0(e,t,l,n,s)}),t.callEndPageHooks(e,n);var o=t.settings.margin;rz(e,t,r,n),hz(e),t.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(l){return J0(e,t,l,n,s)}),e.applyStyles(e.userStyles))}function hz(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function IAe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],s=oz(this,n),i=uz(this,s);return dz(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,s){Z$(t,r,n,s,this)},e.API.autoTableSetDefaults=function(t){return Dv.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Dv.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new Dv(this),i=iz(s,t,window,r,!1),o=i.head,l=i.body,c=((n=o[0])===null||n===void 0?void 0:n.map(function(d){return d.content}))||[];return{columns:c,rows:l,data:l}}}var U3;function Ij(e,t){var r=oz(e,t),n=uz(e,r);dz(e,n)}try{if(typeof window<"u"&&window){var qP=window,GP=qP.jsPDF||((U3=qP.jspdf)===null||U3===void 0?void 0:U3.jsPDF);GP&&IAe(GP)}}catch(e){console.error("Could not apply autoTable plugin",e)}var R3,WP;function Az(){if(WP)return R3;WP=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return R3=e,R3}var Q3,YP;function kAe(){if(YP)return Q3;YP=1;var e=typeof iA=="object"&&iA&&iA.Object===Object&&iA;return Q3=e,Q3}var H3,XP;function mz(){if(XP)return H3;XP=1;var e=kAe(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return H3=r,H3}var $3,JP;function PAe(){if(JP)return $3;JP=1;var e=mz(),t=function(){return e.Date.now()};return $3=t,$3}var z3,ZP;function LAe(){if(ZP)return z3;ZP=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return z3=t,z3}var V3,eL;function OAe(){if(eL)return V3;eL=1;var e=LAe(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return V3=r,V3}var K3,tL;function pz(){if(tL)return K3;tL=1;var e=mz(),t=e.Symbol;return K3=t,K3}var q3,rL;function DAe(){if(rL)return q3;rL=1;var e=pz(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,s=e?e.toStringTag:void 0;function i(o){var l=r.call(o,s),c=o[s];try{o[s]=void 0;var d=!0}catch{}var u=n.call(o);return d&&(l?o[s]=c:delete o[s]),u}return q3=i,q3}var G3,nL;function MAe(){if(nL)return G3;nL=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return G3=r,G3}var W3,aL;function UAe(){if(aL)return W3;aL=1;var e=pz(),t=DAe(),r=MAe(),n="[object Null]",s="[object Undefined]",i=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?s:n:i&&i in Object(l)?t(l):r(l)}return W3=o,W3}var Y3,sL;function RAe(){if(sL)return Y3;sL=1;function e(t){return t!=null&&typeof t=="object"}return Y3=e,Y3}var X3,iL;function QAe(){if(iL)return X3;iL=1;var e=UAe(),t=RAe(),r="[object Symbol]";function n(s){return typeof s=="symbol"||t(s)&&e(s)==r}return X3=n,X3}var J3,oL;function HAe(){if(oL)return J3;oL=1;var e=OAe(),t=Az(),r=QAe(),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(r(d))return n;if(t(d)){var u=typeof d.valueOf=="function"?d.valueOf():d;d=t(u)?u+"":u}if(typeof d!="string")return d===0?d:+d;d=e(d);var h=i.test(d);return h||o.test(d)?l(d.slice(2),h?2:8):s.test(d)?n:+d}return J3=c,J3}var Z3,lL;function $Ae(){if(lL)return Z3;lL=1;var e=Az(),t=PAe(),r=HAe(),n="Expected a function",s=Math.max,i=Math.min;function o(l,c,d){var u,h,m,A,y,x,v=0,b=!1,j=!1,E=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,e(d)&&(b=!!d.leading,j="maxWait"in d,m=j?s(r(d.maxWait)||0,c):m,E="trailing"in d?!!d.trailing:E);function T(V){var J=u,ce=h;return u=h=void 0,v=V,A=l.apply(ce,J),A}function P(V){return v=V,y=setTimeout(k,c),b?T(V):A}function U(V){var J=V-x,ce=V-v,ee=c-J;return j?i(ee,m-ce):ee}function M(V){var J=V-x,ce=V-v;return x===void 0||J>=c||J<0||j&&ce>=m}function k(){var V=t();if(M(V))return Q(V);y=setTimeout(k,U(V))}function Q(V){return y=void 0,E&&u?T(V):(u=h=void 0,A)}function z(){y!==void 0&&clearTimeout(y),v=0,u=x=h=y=void 0}function O(){return y===void 0?A:Q(t())}function L(){var V=t(),J=M(V);if(u=arguments,h=this,x=V,J){if(y===void 0)return P(x);if(j)return clearTimeout(y),y=setTimeout(k,c),T(x)}return y===void 0&&(y=setTimeout(k,c)),A}return L.cancel=z,L.flush=O,L}return Z3=o,Z3}var zAe=$Ae();const gz=dA(zAe),VAe=()=>{const e=ru(),[t,r]=C.useState(""),[n,s]=C.useState("Unknown School"),[i,o]=C.useState([]),[l,c]=C.useState(!0),[d,u]=C.useState([]),[h,m]=C.useState(!0),[A,y]=C.useState(""),[x,v]=C.useState([]),[b,j]=C.useState(!0),[E,T]=C.useState(""),[P,U]=C.useState(!1),[M,k]=C.useState(!1),[Q,z]=C.useState(null),[O,L]=C.useState(null),[V,J]=C.useState(""),[ce,ee]=C.useState("all"),[de,se]=C.useState(""),[he,fe]=C.useState(""),[ve,B]=C.useState(!1),[R,Y]=C.useState(""),[ie,ge]=C.useState([]),[ye,pe]=C.useState(1),[Z]=C.useState(10),[le,te]=C.useState(1),[Ne,Fe]=C.useState("#2563eb"),be="https://vidyaastra.com/api",re="https://vidyaastra.com/api/exam-types",Ce=(Ee,ht)=>{if(!Ee||!ht)return"";try{const[nt,Et]=Ee.split(":").map(Number),[Qe,bt]=ht.split(":").map(Number),It=new Date(0,0,0,nt,Et);let tr=(new Date(0,0,0,Qe,bt)-It)/6e4;tr<0&&(tr+=1440);const vr=Math.floor(tr/60),yr=tr%60;return`${vr}h ${yr}m`}catch(nt){return console.error("Error calculating duration:",nt),""}};C.useEffect(()=>{try{const Ee=localStorage.getItem("schoolId")||"688dfdc93af0f78ebd4b044a",ht=localStorage.getItem("color");Ee&&(r(Ee),Fe(ht||"#2563eb"))}catch(Ee){console.error("Error accessing localStorage:",Ee),Y("Failed to initialize: "+Ee.message)}},[]),C.useEffect(()=>{t&&(Ke(),Le(),rt(),qt())},[t,ye,de,he,ce]);const[st,et]=C.useState([]),[He,ct]=C.useState([]),[_e,ke]=C.useState(!1),[Ze,Pe]=C.useState(""),[ot,Ge]=C.useState(null);C.useEffect(()=>{(async()=>{if(t)try{const ht=await fetch(`${re}?schoolId=${t}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!ht.ok)throw new Error(`Failed to fetch exam types (${ht.status})`);const nt=await ht.json(),Et=Array.isArray(nt?.data)?nt.data:Array.isArray(nt)?nt:[];ct(Et),et(Et.map(Qe=>Qe.exameType||Qe.name||Qe.examType||Qe))}catch(ht){console.error("Error loading exam types:",ht),ct([]),et([])}})()},[t]);const lt=async()=>{if(!Ze.trim()){xr.error("Please enter an exam type name");return}try{B(!0);const ht=await(await fetch(re,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:t,exameType:Ze.trim()})})).json();if(ht.success){xr.success("Exam type created successfully"),Pe(""),ke(!1);const Et=await(await fetch(`${re}?schoolId=${t}`)).json(),Qe=Array.isArray(Et?.data)?Et.data:[];ct(Qe)}else xr.error(ht.message||"Failed to create exam type")}catch(Ee){xr.error("Error creating exam type: "+Ee.message)}finally{B(!1)}},Je=async()=>{if(!Ze.trim()){xr.error("Please enter an exam type name");return}try{B(!0);const ht=await(await fetch(`${re}/${ot._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({exameType:Ze.trim()})})).json();if(ht.success){xr.success("Exam type updated successfully"),Pe(""),Ge(null),ke(!1);const Et=await(await fetch(`${re}?schoolId=${t}`)).json(),Qe=Array.isArray(Et?.data)?Et.data:[];ct(Qe)}else xr.error(ht.message||"Failed to update exam type")}catch(Ee){xr.error("Error updating exam type: "+Ee.message)}finally{B(!1)}},Me=async Ee=>{if(confirm(`Are you sure you want to delete "${Ee.exameType}"?`))try{B(!0);const nt=await(await fetch(`${re}/${Ee._id}`,{method:"DELETE"})).json();if(nt.success){xr.success("Exam type deleted successfully");const Qe=await(await fetch(`${re}?schoolId=${t}`)).json(),bt=Array.isArray(Qe?.data)?Qe.data:[];ct(bt)}else xr.error(nt.message||"Failed to delete exam type")}catch(ht){xr.error("Error deleting exam type: "+ht.message)}finally{B(!1)}},Te=Ee=>{Ge(Ee),Pe(Ee.exameType),ke(!0)},je=()=>{Pe(""),Ge(null),ke(!1)},Ke=async()=>{try{c(!0);const Ee=await sr.get(`${be}/schools`);if(Ee.data.success&&Array.isArray(Ee.data.data)){o(Ee.data.data);const ht=Ee.data.data.find(nt=>nt._id===t);s(ht?.name||"Unknown School")}else o([]),s("Unknown School")}catch(Ee){console.error("Error fetching schools:",Ee.message),s("Unknown School"),Y("Failed to load schools: "+Ee.message)}finally{c(!1)}},Le=async()=>{if(t)try{m(!0);const Ee=await sr.get(`${be}/class?schoolId=${t}`);Ee.data.success&&Array.isArray(Ee.data.data)?(u(Ee.data.data),y("")):(u([]),y("No classes found"))}catch(Ee){console.error("Error fetching classes:",Ee.message),u([]),y("Failed to load classes: "+Ee.message)}finally{m(!1)}},rt=async()=>{if(t)try{j(!0);const Ee=await sr.get(`${be}/subject/${t}/subjects`);Ee.data.success&&Array.isArray(Ee.data.data)?(v(Ee.data.data),T("")):(v([]),T("No subjects found"))}catch(Ee){console.error("Error fetching subjects:",Ee.message),v([]),T("Failed to load subjects: "+Ee.message)}finally{j(!1)}},Oe=C.useMemo(()=>d.map(Ee=>({_id:Ee._id,className:Ee.className||`Class ${Ee.classNumber||Ee._id}`,section:Ee.section||"",displayName:`${Ee.className||`Class ${Ee.classNumber||Ee._id}`}${Ee.section?` ${Ee.section}`:""}`.trim()})),[d]),De=C.useMemo(()=>[...new Set(Oe.map(Ee=>Ee.className))].sort(),[Oe]),ut=C.useMemo(()=>[...new Set(Oe.filter(Ee=>Ee.className===de).map(Ee=>Ee.section).filter(Boolean))].sort(),[Oe,de]),_t=C.useMemo(()=>x.map(Ee=>({_id:Ee._id,name:Ee.SubjectName||Ee.name||Ee.subjectName||"Unnamed Subject"})),[x]),qt=C.useCallback(gz(async()=>{if(t)try{B(!0);const Ee=new URLSearchParams({schoolId:t,page:ye,limit:Z});if(de){const nt=Oe.filter(Et=>Et.className===de&&(!he||Et.section===he)).map(Et=>Et._id);nt.length>0&&Ee.append("classIds",nt.join(","))}ce!=="all"&&Ee.append("examType",ce);const ht=await sr.get(`${be}/exams?${Ee.toString()}`);ht.data.success?(ge(ht.data.data||[]),te(ht.data.totalPages||1),Y("")):(ge([]),te(1),Y(ht.data.message||"Failed to fetch exams"))}catch(Ee){console.error("Error fetching exams:",Ee.message),ge([]),te(1),Y("Error fetching exams: "+Ee.message)}finally{B(!1)}},300),[t,ye,Z,de,he,ce,Oe]),[Ft,gt]=C.useState({examType:"",status:"Scheduled",classId:"",className:"",section:"",subjects:[]}),Zt=Ee=>{Ee.preventDefault();const{name:ht,value:nt}=Ee.target;gt(Et=>({...Et,[ht]:nt}))},$t=Ee=>{Ee.preventDefault();const ht=Ee.target.value;gt(nt=>({...nt,className:ht,section:"",classId:""}))},rr=Ee=>{Ee.preventDefault();const ht=Ee.target.value,nt=Oe.find(Et=>Et.className===Ft.className&&Et.section===ht);gt(Et=>({...Et,section:ht,classId:nt?nt._id:""}))},kr=()=>Ft.className?[...new Set(Oe.filter(Ee=>Ee.className===Ft.className).map(Ee=>Ee.section).filter(Boolean))].sort():[],Qr=(Ee,ht,nt)=>{gt(Et=>{const Qe=[...Et.subjects];if(Qe[Ee]={...Qe[Ee],[ht]:nt},ht==="startTime"||ht==="endTime"){const bt=ht==="startTime"?nt:Qe[Ee].startTime,It=ht==="endTime"?nt:Qe[Ee].endTime;Qe[Ee].duration=Ce(bt,It)}return{...Et,subjects:Qe}})},dn=()=>{gt(Ee=>({...Ee,subjects:[...Ee.subjects,{subjectName:"",date:"",startTime:"",endTime:"",duration:"",syllabus:""}]}))},ja=Ee=>{gt(ht=>({...ht,subjects:ht.subjects.filter((nt,Et)=>Et!==Ee)}))},rn=async()=>{if(!t){xr.error("Error: School ID not found. Please login again.");return}Y("");try{if(!Ft.className){xr.error("Please select a class first.");return}if(!Ft.section){xr.error("Please select a section for the chosen class.");return}if(!Ft.classId){xr.error("Class ID not found. Please re-select class and section.");return}if(!Ft.examType){xr.error("Please select an exam type.");return}if(Ft.subjects.length===0){xr.error("Please add at least one subject to the exam timetable.");return}if(Ft.subjects.some(nt=>!nt.subjectName||!nt.date||!nt.startTime||!nt.endTime||!nt.syllabus)){xr.error("Please fill all required fields for each subject: subject name, date, start time, end time, and syllabus.");return}const Ee={schoolId:t,classId:Ft.classId,examType:Ft.examType,status:Ft.status,subjects:Ft.subjects.map(nt=>({subjectName:nt.subjectName,date:nt.date,startTime:nt.startTime,endTime:nt.endTime,duration:nt.duration,syllabus:nt.syllabus}))};(O?await On(O._id,Ee):await Vr(Ee))&&fr()}catch(Ee){console.error("Submit error:",Ee),Y("Failed to submit: "+Ee.message),xr.error("Failed to submit: "+Ee.message)}},Vr=async Ee=>{try{B(!0);const ht=await sr.post(`${be}/exams`,Ee);return ht.data.success?(xr.success("Exam created successfully."),await qt(),!0):(Y(ht.data.message||"Failed to create exam"),xr.error(ht.data.message||"Failed to create exam"),!1)}catch(ht){return Y("Error creating exam: "+ht.message),xr.error("Error creating exam: "+ht.message),!1}finally{B(!1)}},On=async(Ee,ht)=>{try{B(!0);const nt=await sr.put(`${be}/exams/${Ee}`,ht);return nt.data.success?(xr.success("Exam updated successfully."),await qt(),!0):(Y(nt.data.message||"Failed to update exam"),xr.error(nt.data.message||"Failed to update exam"),!1)}catch(nt){return Y("Error updating exam: "+nt.message),xr.error("Error updating exam: "+nt.message),!1}finally{B(!1)}},Gn=Ee=>{L(Ee);const ht=Ee.classId?._id||Ee.classId||"",nt=Oe.find(Et=>Et._id===ht);gt({examType:Ee.examType||"",status:Ee.status||"Scheduled",classId:ht,className:nt?nt.className:"",section:nt?nt.section:"",subjects:Ee.subjects?Ee.subjects.map(Et=>({subjectName:Et.subjectName||"",date:Et.date||"",startTime:Et.startTime||"",endTime:Et.endTime||"",duration:Et.duration||Ce(Et.startTime,Et.endTime),syllabus:Et.syllabus||""})):[]}),U(!0)},Dn=Ee=>{z(Ee),k(!0)},Ct=async Ee=>{if(confirm("Are you sure you want to delete this exam?"))try{B(!0);const ht=await sr.delete(`${be}/exams/${Ee._id}`,{data:{schoolId:t}});ht.data.success?(xr.success("Exam deleted successfully."),await qt()):(Y(ht.data.message||"Failed to delete exam"),xr.error(ht.data.message||"Failed to delete exam"))}catch(ht){Y("Error deleting exam: "+ht.message),xr.error("Error deleting exam: "+ht.message)}finally{B(!1)}},fr=()=>{gt({examType:"",status:"Scheduled",classId:"",className:"",section:"",subjects:[]}),L(null),U(!1),Y("")},$e=C.useCallback(Ee=>{if(!Ee)return"N/A";const ht=typeof Ee=="object"?Ee._id:Ee,nt=Oe.find(Et=>Et._id===ht);return nt?nt.displayName:"N/A"},[Oe]),pt=C.useMemo(()=>ie.map(Ee=>({...Ee,className:$e(Ee.classId)})).filter(Ee=>[Ee.examType||"",Ee.className].some(nt=>nt.toLowerCase().includes(V.toLowerCase()))),[ie,V,$e]),ft=()=>{ye>1&&pe(Ee=>Ee-1)},mt=()=>{ye<le&&pe(Ee=>Ee+1)},Re=Ee=>{pe(Ee)};return t?a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"text-white p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:Ne},children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Exam Timetable Management"}),n!=="Unknown School"&&a.jsxs("span",{className:"text-white font-semibold",children:["(",n,")"]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:()=>e("/exams-timetable-download"),className:"text-white px-4 py-2 rounded-lg flex items-center hover:opacity-90 transition-opacity border border-white border-opacity-30",style:{backgroundColor:`${Ne}80`},disabled:ve,title:"Download Exam Time Tables",children:[a.jsx(xs,{className:"mr-2"}),"Download Time Tables"]}),a.jsxs("button",{onClick:()=>ke(!0),className:"text-white px-4 py-2 rounded-lg flex items-center hover:opacity-90 transition-opacity border border-white border-opacity-30",style:{backgroundColor:`${Ne}80`},disabled:ve,title:"Manage Exam Types",children:[a.jsx(Fu,{className:"mr-2"}),"Manage Types"]}),a.jsxs("button",{onClick:()=>{fr(),U(!0)},className:"text-white px-6 py-2 rounded-lg flex items-center hover:opacity-90 transition-opacity",style:{backgroundColor:Ne},disabled:ve||h||b||Oe.length===0||_t.length===0,title:ve||h||b?"Loading...":Oe.length===0?"No classes available":_t.length===0?"No subjects available":"Add Exam Timetable",children:[a.jsx(Si,{className:"mr-2"}),"Add Exam Timetable"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Class"}),a.jsxs("select",{value:de,onChange:Ee=>{Ee.preventDefault(),se(Ee.target.value),fe(""),pe(1)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:h||ve,children:[a.jsx("option",{value:"",children:"All Classes"}),De.map(Ee=>a.jsx("option",{value:Ee,children:Ee},Ee))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Section"}),a.jsxs("select",{value:he,onChange:Ee=>{Ee.preventDefault(),fe(Ee.target.value),pe(1)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",disabled:h||ve||de===""||ut.length===0,children:[a.jsx("option",{value:"",children:"All Sections"}),ut.map(Ee=>a.jsx("option",{value:Ee,children:Ee},Ee))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Exam Type"}),a.jsxs("select",{value:ce,onChange:Ee=>{Ee.preventDefault(),ee(Ee.target.value),pe(1)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Types"}),He.length>0?He.map(Ee=>a.jsx("option",{value:Ee.exameType,children:Ee.exameType},Ee._id)):["Midterm","Final","Unit Test","Quiz","Practical","Other"].map(Ee=>a.jsx("option",{value:Ee,children:Ee},Ee))]})]})]})]})}),a.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[(ve||h||b||l)&&a.jsxs("div",{className:"p-8 text-center bg-white rounded-lg shadow-md",children:[a.jsx(an,{className:"animate-spin mx-auto mb-4",size:32,style:{color:Ne}}),a.jsx("p",{className:"text-gray-600",children:l?"Loading schools...":h?"Loading classes...":b?"Loading subjects...":"Loading exams..."})]}),R&&!ve&&!h&&!b&&!l&&a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ga,{className:"mr-2"}),a.jsx("span",{children:R})]}),a.jsx("button",{onClick:()=>Y(""),className:"text-red-500 hover:text-red-700 font-bold",children:""})]}),!ve&&!h&&!b&&!l&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx(Va,{className:"absolute left-3 top-3 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search by exam type or class...",value:V,onChange:Ee=>J(Ee.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-full text-black focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Exam Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subjects Count"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:pt.map(Ee=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:Ee.examType||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:Ee.className})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ee.status==="Scheduled"?"bg-yellow-100 text-yellow-800":Ee.status==="Completed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:Ee.status||"Scheduled"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ee.subjects?.length||0}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[a.jsx("button",{onClick:()=>Gn(Ee),className:"text-indigo-600 hover:text-indigo-900 mr-4",disabled:ve,title:"Edit",children:a.jsx(_u,{})}),a.jsx("button",{onClick:()=>Dn(Ee),className:"text-blue-600 hover:text-blue-900 mr-4",disabled:ve,title:"View",children:a.jsx(Hi,{})}),a.jsx("button",{onClick:()=>Ct(Ee),className:"text-red-600 hover:text-red-900",disabled:ve,title:"Delete",children:a.jsx(si,{})})]})]},Ee._id||Ee.id))})]}),pt.length===0&&a.jsxs("div",{className:"p-8 text-center text-gray-500",children:[a.jsx("div",{className:"text-lg mb-2",children:"No exams found"}),a.jsx("div",{className:"text-sm",children:V?"Try adjusting your search terms":"Click 'Add Exam Timetable' to create your first entry"})]}),pt.length>0&&a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center px-6 py-4 border-t border-gray-200",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-2 sm:mb-0",children:["Page ",ye," of ",le]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:ft,disabled:ye===1,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100",children:a.jsx(fc,{})}),[...Array(le)].map((Ee,ht)=>{const nt=ht+1;return a.jsx("button",{onClick:()=>Re(nt),className:`px-3 py-1 rounded-lg border border-gray-300 ${ye===nt?"bg-blue-500 text-white":"hover:bg-gray-100"}`,style:ye===nt?{backgroundColor:Ne}:{},children:nt},nt)}),a.jsx("button",{onClick:mt,disabled:ye===le,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100",children:a.jsx(Al,{})})]})]})]})]})]}),P&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"text-white p-4 rounded-t-lg flex justify-between items-center",style:{backgroundColor:Ne},children:[a.jsxs("h2",{className:"text-xl font-bold",children:[O?"Edit":"Add"," Exam Timetable"]}),a.jsx("button",{onClick:fr,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:a.jsx(Lr,{size:24})})]}),a.jsxs("div",{className:"p-6",children:[(h||b)&&a.jsxs("div",{className:"text-center py-4",children:[a.jsx(an,{className:"w-6 h-6 mx-auto animate-spin mb-2",style:{color:Ne}}),a.jsx("p",{className:"text-sm text-gray-600",children:"Loading classes and subjects..."})]}),!h&&!b&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Step 1: Select Class ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"className",value:Ft.className,onChange:$t,className:"w-full p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:h,required:!0,children:[a.jsx("option",{value:"",children:"Select Class"}),De.length===0?a.jsx("option",{value:"",disabled:!0,children:"No classes available"}):De.map(Ee=>a.jsx("option",{value:Ee,children:Ee},Ee))]})]}),Ft.className&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Step 2: Select Section ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"section",value:Ft.section,onChange:rr,className:"w-full p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"",children:"Select Section"}),kr().length===0?a.jsx("option",{value:"",disabled:!0,children:"No sections available for this class"}):kr().map(Ee=>a.jsx("option",{value:Ee,children:Ee},Ee))]})]}),Ft.className&&Ft.section&&Ft.classId&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Step 3: Select Exam Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"examType",value:Ft.examType,onChange:Zt,className:"w-full p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"",children:"Select Exam Type"}),He.length>0?He.map(Ee=>a.jsx("option",{value:Ee.exameType,children:Ee.exameType},Ee._id)):["Midterm","Final","Unit Test","Quiz","Practical","Other"].map(Ee=>a.jsx("option",{value:Ee,children:Ee},Ee))]})]}),O&&Ft.examType&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),a.jsx("select",{name:"status",value:Ft.status,onChange:Zt,className:"w-full p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:["Scheduled","Completed","Cancelled"].map(Ee=>a.jsx("option",{value:Ee,children:Ee},Ee))})]}),Ft.examType&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"border-t pt-6 mt-6",children:[a.jsx("h3",{className:"text-lg font-bold mb-4",children:"Step 4: Add Exam Subjects"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Add the subjects that will be included in this exam timetable."})]}),Ft.subjects.map((Ee,ht)=>a.jsxs("div",{className:"border border-gray-300 p-4 rounded-lg mb-4 space-y-4",children:[a.jsxs("select",{value:Ee.subjectName,onChange:nt=>Qr(ht,"subjectName",nt.target.value),className:"w-full p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:b,required:!0,children:[a.jsx("option",{value:"",children:"Select Subject"}),_t.length===0?a.jsx("option",{value:"",disabled:!0,children:"No subjects available"}):_t.map(nt=>a.jsx("option",{value:nt.name,children:nt.name},nt._id))]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("input",{type:"date",value:Ee.date,onChange:nt=>Qr(ht,"date",nt.target.value),className:"p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:`startTime-${ht}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),a.jsx("input",{type:"time",id:`startTime-${ht}`,value:Ee.startTime,onChange:nt=>Qr(ht,"startTime",nt.target.value),className:"p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500 w-full",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:`endTime-${ht}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),a.jsx("input",{type:"time",id:`endTime-${ht}`,value:Ee.endTime,onChange:nt=>Qr(ht,"endTime",nt.target.value),className:"p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500 w-full",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:`duration-${ht}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration"}),a.jsx("input",{type:"text",id:`duration-${ht}`,value:Ee.duration,readOnly:!0,className:"p-3 border border-gray-300 rounded-lg text-black bg-gray-100 w-full"})]}),a.jsx("textarea",{placeholder:"Syllabus",value:Ee.syllabus,onChange:nt=>Qr(ht,"syllabus",nt.target.value),className:"w-full p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3",required:!0}),a.jsx("button",{onClick:()=>ja(ht),className:"text-red-600 hover:text-red-900 font-medium",children:"Remove Subject"})]},ht)),a.jsx("button",{onClick:dn,className:"text-white px-4 py-2 rounded-lg hover:opacity-90 transition-opacity",style:{backgroundColor:Ne},disabled:b||_t.length===0,children:"Add Subject"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{onClick:fr,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",disabled:ve,children:"Cancel"}),a.jsxs("button",{onClick:rn,className:"text-white px-6 py-2 rounded-lg flex items-center hover:opacity-90",style:{backgroundColor:Ne},disabled:ve||h||b||!Ft.className||!Ft.section||!Ft.classId||!Ft.examType||Ft.subjects.length===0,children:[ve?a.jsx(an,{className:"mr-2 animate-spin"}):a.jsx(td,{className:"mr-2"}),O?"Update":"Save"]})]})]})]})}),M&&Q&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"text-white p-4 rounded-t-lg flex justify-between items-center",style:{backgroundColor:Ne},children:[a.jsxs("h2",{className:"text-xl font-bold",children:["View ",Q.examType," Timetable for"," ",$e(Q.classId)]}),a.jsx("button",{onClick:()=>k(!1),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:a.jsx(Lr,{size:24})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-4",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Status:"})," ",Q.status]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full bg-white border border-gray-200 rounded-lg",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"End Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Syllabus"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:Q.subjects.map((Ee,ht)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Ee.subjectName||"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ee.date||"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ee.startTime||"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ee.endTime||"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ee.duration||"N/A"}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Ee.syllabus||"N/A"})]},ht))})]})})]})]})}),_e&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs("div",{className:"text-white p-4 rounded-t-lg flex justify-between items-center",style:{backgroundColor:Ne},children:[a.jsx("h2",{className:"text-xl font-bold",children:"Manage Exam Types"}),a.jsx("button",{onClick:je,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:a.jsx(Lr,{size:24})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:ot?"Edit Exam Type":"Add New Exam Type"}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("input",{type:"text",value:Ze,onChange:Ee=>Pe(Ee.target.value),placeholder:"Enter exam type name",className:"flex-1 p-3 border border-gray-300 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:Ee=>{Ee.key==="Enter"&&(ot?Je():lt())}}),a.jsx("button",{onClick:ot?Je:lt,className:"text-white px-4 py-3 rounded-lg hover:opacity-90 transition-opacity",style:{backgroundColor:Ne},disabled:ve||!Ze.trim(),children:ve?a.jsx(an,{className:"animate-spin"}):ot?a.jsx(td,{}):a.jsx(Si,{})}),ot&&a.jsx("button",{onClick:je,className:"px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Existing Exam Types"}),He.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500",children:a.jsx("p",{children:"No exam types found. Create your first exam type above."})}):a.jsx("div",{className:"space-y-2",children:He.map(Ee=>a.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[a.jsx("span",{className:"font-medium",children:Ee.exameType}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>Te(Ee),className:"text-blue-600 hover:text-blue-800 p-1",title:"Edit",disabled:ve,children:a.jsx(_u,{})}),a.jsx("button",{onClick:()=>Me(Ee),className:"text-red-600 hover:text-red-800 p-1",title:"Delete",disabled:ve,children:a.jsx(si,{})})]})]},Ee._id))})]})]})]})}),a.jsx(wj,{})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-md max-w-md",children:[a.jsx(ga,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),a.jsx("div",{className:"text-red-500 text-xl mb-4",children:"School ID not found"}),a.jsx("div",{className:"text-gray-600 mb-4",children:"Please login again to access the exam system."}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",style:{backgroundColor:Ne},children:"Refresh Page"})]})})},KAe=()=>{const[e,t]=C.useState(""),[r,n]=C.useState("All"),[s,i]=C.useState("All"),[o,l]=C.useState(""),[c,d]=C.useState(""),[u,h]=C.useState([]),[m,A]=C.useState([]),[y,x]=C.useState(!1),[v,b]=C.useState(""),[j,E]=C.useState(""),[T,P]=C.useState(""),[U,M]=C.useState(1),[k,Q]=C.useState(1),[z,O]=C.useState(0),[L]=C.useState(10),V="https://vidyaastra.com/api",J=ai(ke=>ke.classes.classes?.data||[]),ce=ai(ke=>ke.subjects.subjects?.data||[]),ee=ai(ke=>ke.classes.loading),de=ai(ke=>ke.subjects.loading),se=ai(ke=>ke.classes.error),he=ai(ke=>ke.subjects.error),fe=ke=>{E(ke),setTimeout(()=>E(""),5e3)},ve=ke=>{b(ke),setTimeout(()=>b(""),5e3)};C.useEffect(()=>{const ke=localStorage.getItem("schoolId");console.log("SchoolId from localStorage:",ke),ke?P(ke):ve("School ID not found in localStorage. Please login again.")},[]),C.useEffect(()=>{se&&ve("Failed to load classes: "+se),he&&ve("Failed to load subjects: "+he)},[se,he]);const B=C.useCallback(async()=>{if(!T){console.log("No schoolId available for fetching students");return}try{console.log("Fetching students for schoolId:",T);const ke=await fetch(`${V}/students/school/${T}`);if(ke.ok){const Ze=await ke.json(),Pe=Ze.data||Ze||[];A(Pe),console.log("Students loaded:",Pe.length)}else console.error("Failed to fetch students:",ke.status,ke.statusText),await R()}catch(ke){console.error("Error fetching students:",ke),await R()}},[T]),R=async()=>{try{const ke=await fetch(`${V}/students`);if(ke.ok){const Ze=await ke.json(),ot=(Ze.data||Ze||[]).filter(Ge=>Ge.schoolId===T||Ge.schoolId?._id===T||Ge.schoolId?.toString()===T);A(ot),console.log("Students loaded (filtered):",ot.length)}}catch(ke){console.error("Error fetching all students:",ke),A([]),ve("Error connecting to server while fetching students.")}},Y=C.useCallback(async()=>{if(!T){console.log("No schoolId available for fetching assignments");return}try{x(!0),console.log("Fetching assignments for schoolId:",T,`Page: ${U}, Limit: ${L}`);const ke=await fetch(`${V}/assignments?schoolId=${T}&page=${U}&limit=${L}`);if(!ke.ok){const Pe=await ke.json().catch(()=>({}));throw new Error(Pe.message||"Failed to fetch assignments")}const Ze=await ke.json();if(!Ze.success)throw new Error(Ze.message||"Failed to fetch assignments");h(Ze.assignments||[]),Q(Ze.pagination?.totalPages||1),O(Ze.pagination?.total||0),U>(Ze.pagination?.totalPages||1)&&(Ze.pagination?.totalPages||1)>0&&M(1),console.log("Assignments loaded:",Ze.assignments?.length||0,"Total:",Ze.pagination?.total||0)}catch(ke){console.error("Error fetching assignments:",ke),ve(ke.message||"Failed to fetch assignments"),h([]),Q(1),O(0)}finally{x(!1)}},[T,U,L]),ie=C.useCallback(async()=>{if(!T){console.log("No schoolId available for initial data fetch");return}x(!0);try{await B()}catch(ke){ve("Failed to load initial data"),console.error("Error fetching initial data:",ke)}finally{x(!1)}},[T,B]);C.useEffect(()=>{T&&Y()},[T,U,Y]),C.useEffect(()=>{T&&ie()},[T,ie]);const ge=[...new Set(J.map(ke=>ke.className))],ye=()=>o?[...new Set(J.filter(ke=>ke.className===o).map(ke=>ke.section).filter(ke=>ke))]:[],pe=ke=>{if(!ke)return{className:"",section:""};const Ze=/^(\w+)(?:\s|-)?([A-Za-z]?)$/,Pe=ke.match(Ze);return Pe?{className:Pe[1],section:Pe[2]||""}:{className:ke,section:""}},Z=u.filter(ke=>{const Ze=ke.title?.toLowerCase().includes(e.toLowerCase())||ke.subject?.toLowerCase().includes(e.toLowerCase())||ke.studentName?.toLowerCase().includes(e.toLowerCase())||ke.rollNo?.toLowerCase().includes(e.toLowerCase())||ke.description?.toLowerCase().includes(e.toLowerCase()),Pe=r==="All"||ke.subject===r,ot=s==="All"||ke.status===s,{className:Ge,section:lt}=pe(ke.class);return Ze&&Pe&&ot&&(o===""||Ge===o)&&(c===""||lt===c)}),le=ke=>{switch(ke?.toUpperCase()){case"HIGH":return"bg-red-100 text-red-800";case"MEDIUM":return"bg-orange-100 text-orange-800";case"LOW":return"bg-green-100 text-green-800";case"A":return"bg-green-100 text-green-800";case"B+":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},te=ke=>ke==="submitted"||ke==="graded"?a.jsx(tu,{className:"w-4 h-4 text-green-600"}):a.jsx(es,{className:"w-4 h-4 text-orange-600"}),Ne=ke=>ke?new Date(ke).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",Fe=u.filter(ke=>ke.status==="pending").length,be=u.filter(ke=>ke.status==="submitted"||ke.status==="graded").length,re=ke=>{const{className:Ze,section:Pe}=pe(ke.class);alert(`
      Student: ${ke.studentName}
      Roll No: ${ke.rollNo}
      Class: ${Ze}${Pe?` ${Pe}`:""}
      Subject: ${ke.subject}
      Title: ${ke.title}
      Description: ${ke.description}
      Due Date: ${Ne(ke.dueDate)}
      Priority: ${ke.priority}
      Status: ${ke.status}
      ${ke.submittedDate?`Submitted: ${Ne(ke.submittedDate)}`:""}
    `)},Ce=ke=>{alert(`Edit functionality for assignment ${ke.id} not implemented yet.`)},st=async ke=>{if(window.confirm(`Are you sure you want to delete assignment ${ke.title}?`))try{x(!0);const Ze=await fetch(`${V}/assignments/${ke.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:T})});if(!Ze.ok){const Pe=await Ze.json().catch(()=>({}));throw new Error(Pe.message||"Failed to delete assignment")}await Y(),fe("Assignment deleted successfully")}catch(Ze){ve(Ze.message||"Failed to delete assignment")}finally{x(!1)}},et=()=>{U>1&&M(ke=>ke-1)},He=()=>{U<k&&M(ke=>ke+1)},ct=ke=>{l(ke),d("")},_e=localStorage.getItem("color")||"#3B82F6";return T?y||ee||de?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(an,{className:"w-12 h-12 mx-auto text-blue-600 animate-spin mb-4"}),a.jsxs("p",{className:"text-lg font-medium text-gray-700",children:["Loading assignments",ee?", classes":"",de?", subjects":"","..."]})]})}):a.jsxs("div",{className:"space-y-6 p-6 bg-gray-50 min-h-screen",children:[j&&a.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[a.jsx(tu,{className:"w-5 h-5"}),a.jsx("span",{className:"block sm:inline",children:j}),a.jsx("button",{onClick:()=>E(""),className:"ml-auto text-green-700 hover:text-green-900",children:a.jsx(Lr,{className:"w-4 h-4"})})]}),v&&a.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[a.jsx(ga,{className:"w-5 h-5"}),a.jsx("span",{className:"block sm:inline",children:v}),a.jsx("button",{onClick:()=>b(""),className:"ml-auto text-red-700 hover:text-red-900",children:a.jsx(Lr,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"text-black p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:_e},children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Student Assignment Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage assignments with student details"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search assignments, students...",value:e,onChange:ke=>t(ke.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("select",{value:o,onChange:ke=>ct(ke.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:ee,children:[a.jsx("option",{value:"",children:"All Classes"}),ge.map(ke=>a.jsx("option",{value:ke,children:ke},ke))]}),a.jsxs("select",{value:c,onChange:ke=>d(ke.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:ee||!o,children:[a.jsx("option",{value:"",children:"All Sections"}),ye().map(ke=>a.jsx("option",{value:ke,children:ke},ke))]}),a.jsxs("select",{value:r,onChange:ke=>n(ke.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:de,children:[a.jsx("option",{value:"All",children:"All Subjects"}),ce.map(ke=>a.jsx("option",{value:ke.SubjectName||ke.name||ke.subjectName||"Unnamed Subject",children:ke.SubjectName||ke.name||ke.subjectName||"Unnamed Subject"},ke._id))]}),a.jsxs("select",{value:s,onChange:ke=>i(ke.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"All",children:"All Status"}),a.jsx("option",{value:"submitted",children:"Submitted"}),a.jsx("option",{value:"graded",children:"Graded"}),a.jsx("option",{value:"late",children:"Late"})]})]}),a.jsxs("div",{className:"mt-4 flex space-x-2",children:[a.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Pending (",Fe,")"]}),a.jsxs("div",{className:"bg-green-100 text-green-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Submitted (",be,")"]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full min-w-max",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Student Info"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Roll No"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Class"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Section"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Subject"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Due Date"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority/Grade"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-4 py-4 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:Z.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"10",className:"text-center py-8 text-gray-500",children:e||o||c||r!=="All"||s!=="All"?"No assignments found matching your filters.":"No assignments found."})}):Z.map(ke=>{const{className:Ze,section:Pe}=pe(ke.class);return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(no,{className:"w-5 h-5 text-gray-400 mr-2"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ke.studentName}),a.jsx("div",{className:"text-xs text-gray-500",children:"Student"})]})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("span",{className:"text-sm font-mono text-gray-900 bg-gray-100 px-2 py-1 rounded",children:ke.rollNo})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:Ze})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:Pe||"N/A"})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Rs,{className:"w-4 h-4 text-blue-600 mr-2"}),a.jsx("span",{className:"text-sm font-medium text-blue-600",children:ke.subject})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"max-w-xs",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:ke.title}),a.jsx("div",{className:"text-xs text-gray-500 mt-1 truncate",children:ke.description})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Jn,{className:"w-4 h-4 text-gray-400 mr-2"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-900",children:Ne(ke.dueDate)}),ke.submittedDate&&a.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Submitted:"," ",Ne(ke.submittedDate)]})]})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${le(ke.priority)}`,children:ke.status==="graded"&&ke.grade?ke.grade:ke.priority})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center",children:[te(ke.status),a.jsx("span",{className:`ml-2 text-sm font-medium capitalize ${ke.status==="submitted"||ke.status==="graded"?"text-green-600":"text-orange-600"}`,children:ke.status})]})}),a.jsx("td",{className:"px-4 py-4 text-right",children:a.jsxs("div",{className:"flex space-x-2 justify-end",children:[a.jsx("button",{onClick:()=>re(ke),disabled:y,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg disabled:opacity-50",children:a.jsx(Hi,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Ce(ke),disabled:y,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg disabled:opacity-50",children:a.jsx(ed,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>st(ke),disabled:y,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg disabled:opacity-50",children:a.jsx(si,{className:"w-4 h-4"})})]})})]},ke.id)})})]})}),z>0&&a.jsxs("div",{className:"flex justify-between items-center p-4",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",Z.length," of ",z," ","assignments (Page ",U," of ",k,")"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:et,disabled:U===1,className:`p-2 rounded-lg ${U===1?"text-gray-400 cursor-not-allowed":"text-white"}`,style:{backgroundColor:U===1?"#d1d5db":_e},children:a.jsx(fc,{})}),a.jsx("button",{onClick:He,disabled:U===k||k===0,className:`p-2 rounded-lg ${U===k||k===0?"text-gray-400 cursor-not-allowed":"text-white"}`,style:{backgroundColor:U===k||k===0?"#d1d5db":_e},children:a.jsx(Al,{})})]})]})]})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ga,{className:"w-12 h-12 mx-auto text-red-600 mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-700",children:"School ID is required to access assignments."}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please ensure you are properly logged in."})]})})},S0="https://vidyaastra.com/api";function qAe(){const[e,t]=C.useState("available"),[r,n]=C.useState(""),[s,i]=C.useState(!1),[o,l]=C.useState(!1),[c,d]=C.useState(null),[u,h]=C.useState(null),[m,A]=C.useState(!0),[y,x]=C.useState(""),[v,b]=C.useState(""),[j,E]=C.useState([]),[T,P]=C.useState([]),[U,M]=C.useState([]),[k,Q]=C.useState(""),[z,O]=C.useState({title:"",author:"",isbn:"",category:"Fiction",publicationYear:"",totalCopies:"",description:""}),[L,V]=C.useState({studentId:"",bookId:""}),J=["Fiction","Non-Fiction","Science","History","Technology"],ce=Fe=>{b(Fe),setTimeout(()=>b(""),5e3)},ee=Fe=>{x(Fe),setTimeout(()=>x(""),5e3)};C.useEffect(()=>{const Fe=localStorage.getItem("schoolId");console.log("SchoolId from localStorage:",Fe),Fe?Q(Fe):ee("School ID not found in localStorage. Please login again.")},[]);const de=C.useCallback(async()=>{if(!k){console.log("No schoolId available for fetching students");return}try{console.log("Fetching all students and filtering by schoolId:",k);const Fe=await fetch(`${S0}/students`);if(Fe.ok){const be=await Fe.json();console.log("Students API response:",be);const Ce=(be.data||be||[]).filter(st=>st.schoolId===k||st.schoolId?._id===k||st.schoolId?.toString()===k);E(Ce),console.log("Students loaded for school:",Ce.length)}else{console.error("Failed to fetch students:",Fe.status,Fe.statusText);const be=await Fe.text();console.error("Error response:",be),E([]),ee("Failed to fetch students.")}}catch(Fe){console.error("Error fetching students:",Fe),E([]),ee("Error connecting to server while fetching students.")}},[k]),se=C.useCallback(async()=>{if(k)try{const Fe=await fetch(`${S0}/library?schoolId=${k}`);if(Fe.ok){const be=await Fe.json();P(be.data||[]),console.log("Available books fetched:",be.data?.length||0)}else console.error("Failed to fetch books:",Fe.status),P([])}catch(Fe){console.error("Error fetching available books:",Fe),P([])}},[k]),he=C.useCallback(async()=>{if(!(!k||j.length===0))try{console.log("Fetching issued books for school:",k);const Fe=[];for(const be of j)try{const re=await fetch(`${S0}/library/issued?studentId=${be._id}&schoolId=${k}`);if(re.ok){const et=((await re.json()).data||[]).map(He=>({...He,studentId:be}));Fe.push(...et)}}catch(re){console.error(`Error fetching issued books for student ${be._id}:`,re)}M(Fe),console.log("Total issued books fetched:",Fe.length)}catch(Fe){console.error("Error fetching issued books:",Fe),M([])}},[k,j]),fe=C.useCallback(async()=>{if(!k){console.log("No schoolId available for initial data fetch");return}console.log("Starting initial data fetch for schoolId:",k),A(!0);try{await de(),await se(),console.log("Initial data fetch completed")}catch(Fe){console.error("Error fetching initial data:",Fe),ee("Failed to load library data.")}finally{A(!1)}},[k,de,se]);C.useEffect(()=>{j.length>0&&he()},[j,he]),C.useEffect(()=>{k&&(console.log("SchoolId changed, fetching initial data:",k),fe())},[k,fe]);const ve=C.useCallback(Fe=>{switch(Fe){case"overdue":return"bg-red-100 text-red-800";case"active":return"bg-yellow-100 text-yellow-800";case"returned":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},[]),B=C.useCallback(Fe=>{switch(Fe){case"overdue":return a.jsx(ga,{className:"w-4 h-4"});case"active":return a.jsx(es,{className:"w-4 h-4"});case"returned":return a.jsx(tu,{className:"w-4 h-4"});default:return a.jsx(Rs,{className:"w-4 h-4"})}},[]),R=C.useCallback(Fe=>{h(Fe),V({studentId:"",bookId:Fe._id}),l(!0)},[]),Y=C.useCallback(async Fe=>{if(Fe.preventDefault(),!k){ee("School ID is required.");return}A(!0);try{if(!L.studentId||!L.bookId){ee("Please select a student."),A(!1);return}const be=await fetch(`${S0}/library/issue`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookId:L.bookId,studentId:L.studentId,schoolId:k})}),re=await be.json();be.ok&&re.success?(await se(),await he(),l(!1),h(null),V({studentId:"",bookId:""}),ce("Book issued successfully!")):ee(re.message||"Failed to issue book.")}catch(be){console.error("Error issuing book:",be),ee("Failed to issue book. Please check your connection and try again.")}finally{A(!1)}},[L,k,se,he]),ie=C.useCallback(async Fe=>{if(!k){ee("School ID is required.");return}if(window.confirm("Are you sure you want to return this book?")){A(!0);try{const be=await fetch(`${S0}/library/return`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({issuedBookId:Fe,schoolId:k})}),re=await be.json();be.ok&&re.success?(await se(),await he(),ce("Book returned successfully!")):ee(re.message||"Failed to return book.")}catch(be){console.error("Error returning book:",be),ee("Failed to return book.")}finally{A(!1)}}},[k,se,he]),ge=C.useCallback(async Fe=>{if(!k){ee("School ID is required.");return}if(window.confirm("Are you sure you want to renew this book?")){A(!0);try{const be=await fetch(`${S0}/library/renew`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({issuedBookId:Fe,schoolId:k})}),re=await be.json();be.ok&&re.success?(await he(),ce("Book renewed successfully!")):ee(re.message||"Failed to renew book.")}catch(be){console.error("Error renewing book:",be),ee("Failed to renew book.")}finally{A(!1)}}},[k,he]),ye=C.useCallback(async Fe=>{if(Fe.preventDefault(),!k){ee("School ID is required.");return}A(!0);try{if(!z.title||!z.author||!z.isbn||!z.totalCopies){ee("Please fill in all required fields."),A(!1);return}const be=parseInt(z.totalCopies);if(isNaN(be)||be<1){ee("Total copies must be a valid number greater than 0."),A(!1);return}const re={title:z.title.trim(),author:z.author.trim(),isbn:z.isbn.trim(),category:z.category,totalCopies:be,availableCopies:be,publicationYear:z.publicationYear?parseInt(z.publicationYear):new Date().getFullYear(),description:z.description.trim(),schoolId:k},Ce=c?`${S0}/library/${c._id}`:`${S0}/library`,et=await fetch(Ce,{method:c?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)}),He=await et.json();et.ok&&He.success?(await se(),le(),ce(c?"Book updated successfully!":"Book added successfully!")):ee(He.message||"Failed to save book.")}catch(be){console.error("Error saving book:",be),ee("Failed to save book. Please check all fields and try again.")}finally{A(!1)}},[z,c,k,se]),pe=C.useCallback(Fe=>{d(Fe),O({title:Fe.title,author:Fe.author,isbn:Fe.isbn,category:Fe.category||"Fiction",publicationYear:Fe.publicationYear?String(Fe.publicationYear):"",totalCopies:String(Fe.totalCopies),description:Fe.description||""}),i(!0)},[]),Z=C.useCallback(async Fe=>{if(!k){ee("School ID is required.");return}if(window.confirm("Are you sure you want to delete this book?")){A(!0);try{const be=await fetch(`${S0}/library/${Fe}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:k})}),re=await be.json();be.ok&&re.success?(await se(),ce("Book deleted successfully!")):ee(re.message||"Failed to delete book.")}catch(be){console.error("Error deleting book:",be),ee("Failed to delete book.")}finally{A(!1)}}},[k,se]),le=C.useCallback(()=>{O({title:"",author:"",isbn:"",category:"Fiction",publicationYear:"",totalCopies:"",description:""}),d(null),i(!1)},[]),te=T.filter(Fe=>Fe.title?.toLowerCase().includes(r.toLowerCase())||Fe.author?.toLowerCase().includes(r.toLowerCase())||Fe.category?.toLowerCase().includes(r.toLowerCase())||Fe.isbn?.includes(r)),Ne=U.filter(Fe=>Fe.book?.title?.toLowerCase().includes(r.toLowerCase())||Fe.book?.author?.toLowerCase().includes(r.toLowerCase())||Fe.studentId?.name?.toLowerCase().includes(r.toLowerCase())||Fe.book?.isbn?.includes(r));return k?m&&T.length===0?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(an,{className:"w-12 h-12 mx-auto text-blue-600 animate-spin mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-700",children:"Loading library data..."})]})}):a.jsxs("div",{className:"space-y-6 p-6 bg-gray-50 min-h-screen",children:[v&&a.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[a.jsx(tu,{className:"w-5 h-5"}),a.jsx("span",{className:"block sm:inline",children:v}),a.jsx("button",{onClick:()=>b(""),className:"ml-auto text-green-700 hover:text-green-900",children:a.jsx(Lr,{className:"w-4 h-4"})})]}),y&&a.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[a.jsx(ga,{className:"w-5 h-5"}),a.jsx("span",{className:"block sm:inline",children:y}),a.jsx("button",{onClick:()=>x(""),className:"ml-auto text-red-700 hover:text-red-900",children:a.jsx(Lr,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[a.jsx(Ff,{className:"mr-3 text-blue-600"}),"Library Management"]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage books, issues, and returns"})]}),a.jsxs("button",{onClick:()=>i(!0),disabled:m,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[m?a.jsx(an,{className:"w-4 h-4 animate-spin"}):a.jsx(Si,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Book"})]})]}),a.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg mb-6",children:[a.jsxs("button",{onClick:()=>t("available"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center space-x-2 ${e==="available"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[a.jsx(Rs,{className:"w-4 h-4"}),a.jsxs("span",{children:["Available Books (",T.length,")"]})]}),a.jsxs("button",{onClick:()=>t("issued"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors flex items-center justify-center space-x-2 ${e==="issued"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[a.jsx(no,{className:"w-4 h-4"}),a.jsxs("span",{children:["Issued Books (",U.length,")"]})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:`Search ${e==="available"?"books":"issued books"}...`,value:r,onChange:Fe=>n(Fe.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:e==="available"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Available Books"})}),a.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Book Details"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"ISBN"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Availability"}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:te.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"text-center py-8 text-gray-500",children:r?"No books found matching your search.":"No available books found."})}):te.map(Fe=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"font-medium",children:Fe.title}),a.jsxs("div",{className:"text-sm text-gray-500",children:["by ",Fe.author]}),Fe.publicationYear&&a.jsx("div",{className:"text-xs text-gray-400",children:Fe.publicationYear})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(L5,{className:"w-4 h-4 mr-1"}),Fe.isbn]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"px-2 py-1 text-xs font-semibold bg-purple-100 text-purple-800 rounded-full",children:Fe.category||"General"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{className:"font-medium text-gray-900",children:[Fe.availableCopies,"/",Fe.totalCopies," ","available"]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:a.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${Fe.availableCopies/Fe.totalCopies*100}%`}})})]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex space-x-2 justify-end",children:[a.jsx("button",{onClick:()=>R(Fe),disabled:Fe.availableCopies===0||m,className:`px-3 py-1 text-xs font-semibold rounded-lg transition-colors ${Fe.availableCopies>0&&!m?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:m?"Loading...":"Issue Book"}),a.jsx("button",{onClick:()=>pe(Fe),disabled:m,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg disabled:opacity-50",children:a.jsx(_u,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Z(Fe._id),disabled:m,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg disabled:opacity-50",children:a.jsx(si,{className:"w-4 h-4"})})]})})]},Fe._id))})]})})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Issued Books"})}),a.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Book Details"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Issued To"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Issue Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Due Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:Ne.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"text-center py-8 text-gray-500",children:r?"No issued books found matching your search.":"No issued books found."})}):Ne.map(Fe=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"font-medium",children:Fe.book?.title||"N/A"}),a.jsxs("div",{className:"text-sm text-gray-500",children:["by ",Fe.book?.author||"N/A"]}),a.jsxs("div",{className:"text-xs text-gray-400 flex items-center",children:[a.jsx(L5,{className:"w-3 h-3 mr-1"}),Fe.book?.isbn||"N/A"]})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium",children:Fe.studentId?.name||"N/A"}),a.jsx("div",{className:"text-gray-500",children:Fe.studentId?.rollNumber||Fe.studentId?.studentId||"N/A"})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Jn,{className:"w-4 h-4 mr-1"}),new Date(Fe.issueDate).toLocaleDateString()]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Jn,{className:"w-4 h-4 mr-1"}),new Date(Fe.dueDate).toLocaleDateString()]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:`px-2 py-1 text-xs font-semibold rounded-full flex items-center space-x-1 w-fit ${ve(Fe.status)}`,children:[B(Fe.status),a.jsx("span",{children:Fe.status.toUpperCase()})]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex space-x-2 justify-end",children:[a.jsxs("button",{onClick:()=>ie(Fe._id),disabled:m||Fe.status!=="active",className:`px-3 py-1 text-xs font-semibold rounded-lg flex items-center space-x-1 transition-colors ${Fe.status==="active"?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[a.jsx(tu,{className:"w-3 h-3"}),a.jsx("span",{children:"Return"})]}),a.jsxs("button",{onClick:()=>ge(Fe._id),disabled:m||Fe.status!=="active",className:`px-3 py-1 text-xs font-semibold rounded-lg flex items-center space-x-1 transition-colors ${Fe.status==="active"?"bg-orange-600 text-white hover:bg-orange-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[a.jsx(ug,{className:"w-3 h-3"}),a.jsx("span",{children:"Renew"})]})]})})]},Fe._id))})]})})]})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:c?"Edit Book":"Add New Book"}),a.jsx("button",{onClick:le,className:"text-gray-500 hover:text-gray-700",children:a.jsx(Lr,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:ye,className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Book Title *"}),a.jsx("input",{type:"text",id:"title",placeholder:"Book Title",value:z.title,onChange:Fe=>O({...z,title:Fe.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:m})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"author",className:"block text-sm font-medium text-gray-700 mb-1",children:"Author Name *"}),a.jsx("input",{type:"text",id:"author",placeholder:"Author Name",value:z.author,onChange:Fe=>O({...z,author:Fe.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:m})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"isbn",className:"block text-sm font-medium text-gray-700 mb-1",children:"ISBN *"}),a.jsx("input",{type:"text",id:"isbn",placeholder:"ISBN",value:z.isbn,onChange:Fe=>O({...z,isbn:Fe.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:m})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),a.jsx("select",{id:"category",value:z.category,onChange:Fe=>O({...z,category:Fe.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:m,children:J.map(Fe=>a.jsx("option",{value:Fe,children:Fe},Fe))})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"publicationYear",className:"block text-sm font-medium text-gray-700 mb-1",children:"Publication Year"}),a.jsx("input",{type:"number",id:"publicationYear",placeholder:"Publication Year",value:z.publicationYear,onChange:Fe=>O({...z,publicationYear:Fe.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:m,min:"1900",max:new Date().getFullYear()})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"totalCopies",className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Copies *"}),a.jsx("input",{type:"number",id:"totalCopies",placeholder:"Total Copies",value:z.totalCopies,onChange:Fe=>O({...z,totalCopies:Fe.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,min:"1",disabled:m})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{id:"description",placeholder:"Description (optional)",value:z.description,onChange:Fe=>O({...z,description:Fe.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,disabled:m})]})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:le,disabled:m,className:"flex-1 bg-transparent px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:m,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:bg-blue-400 flex items-center justify-center space-x-2",children:m?a.jsx(an,{className:"w-4 h-4 animate-spin"}):a.jsx("span",{children:c?"Update Book":"Add Book"})})]})]})]})}),o&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Issue Book"}),a.jsx("button",{onClick:()=>l(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(Lr,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:Y,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Book"}),a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"font-medium",children:u?.title}),a.jsxs("div",{className:"text-sm text-gray-600",children:["by ",u?.author]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Available: ",u?.availableCopies]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"studentId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Student *"}),a.jsxs("select",{id:"studentId",value:L.studentId,onChange:Fe=>{V({...L,studentId:Fe.target.value})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:m,children:[a.jsx("option",{value:"",children:"Select Student"}),j.map(Fe=>a.jsxs("option",{value:Fe._id,children:[Fe.name," -"," ",Fe.rollNumber||Fe.studentId||"No Roll Number"]},Fe._id))]}),j.length===0&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:"No students found. Please add students first."})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>{l(!1),x("")},disabled:m,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:m||!L.studentId,className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:bg-green-400 flex items-center justify-center space-x-2",children:[m?a.jsx(an,{className:"w-4 h-4 animate-spin"}):a.jsx(Rs,{className:"w-4 h-4"}),a.jsx("span",{children:m?"Issuing...":"Issue Book"})]})]})]})]})})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ga,{className:"w-12 h-12 mx-auto text-red-600 mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-700",children:"School ID is required to access the library."}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please ensure you are properly logged in."})]})})}class cL{static exportToExcel(t){const{data:r,filename:n,sheetName:s="Data",columnWidths:i=[],summaryData:o=null,addSummary:l=!0,headerStyle:c=!0}=t;try{if(!r||r.length===0)throw new Error("No data to export");const d=Lo.book_new(),u=Lo.json_to_sheet(r);if(i.length>0&&(u["!cols"]=i.map(A=>({wch:A}))),c&&u["!ref"]){const A=Lo.decode_range(u["!ref"]);for(let y=A.s.c;y<=A.e.c;y++){const x=Lo.encode_cell({r:0,c:y});u[x]&&(u[x].s={font:{bold:!0,color:{rgb:"FFFFFF"}},fill:{fgColor:{rgb:"4472C4"}},alignment:{horizontal:"center",vertical:"center"}})}}if(Lo.book_append_sheet(d,u,s),l){const A=[{Metric:"Total Records",Value:r.length},{Metric:"Export Date",Value:new Date().toLocaleDateString()},{Metric:"Export Time",Value:new Date().toLocaleTimeString()}],y=o||A,x=Lo.json_to_sheet(y);if(x["!ref"]){const v=Lo.decode_range(x["!ref"]);for(let b=v.s.c;b<=v.e.c;b++){const j=Lo.encode_cell({r:0,c:b});x[j]&&(x[j].s={font:{bold:!0,color:{rgb:"FFFFFF"}},fill:{fgColor:{rgb:"70AD47"}},alignment:{horizontal:"center"}})}}Lo.book_append_sheet(d,x,"Summary")}const h=new Date().toISOString().replace(/[:.]/g,"-").slice(0,-5),m=`${n}_${h}.xlsx`;return Xb(d,m),{success:!0,filename:m,recordCount:r.length}}catch(d){return console.error("Excel export error:",d),{success:!1,error:d.message}}}static exportTeachers(t,r={}){const n=[];t.forEach(o=>{const l={"Teacher Name":o.name||"N/A","Teacher ID":o.teacherId||o._id||"N/A",Email:o.email||"N/A",Phone:o.phone||"N/A",Gender:o.gender||"N/A","Date of Birth":o.dateOfBirth?new Date(o.dateOfBirth).toLocaleDateString():"N/A","Date of Joining":o.dateOfJoining?new Date(o.dateOfJoining).toLocaleDateString():"N/A",Qualification:o.qualification||"N/A",Experience:o.experience||"N/A",Salary:o.salary||"N/A",Address:o.address||"N/A","Class Teacher Of":o.classTeacherOf||"None"};o.classSubjects&&o.classSubjects.length>0?o.classSubjects.forEach((c,d)=>{const h=(A=>{if(!A)return{className:"N/A",section:"N/A"};const y=A.split(" "),x=y.length>1&&/^[A-Z]$/.test(y[y.length-1])?y.pop():"";return{className:y.join(" ")||"N/A",section:x}})(c.className),m={...l,Class:h.className,Section:h.section||"N/A",Subjects:c.subjects&&c.subjects.length>0?c.subjects.join(", "):"No subjects"};d>0&&Object.keys(l).forEach(A=>{A!=="Teacher Name"&&(m[A]="")}),n.push(m)}):n.push({...l,Class:"N/A",Section:"N/A",Subjects:"No subjects assigned"})});const s=[20,15,25,15,10,12,12,15,10,10,20,15,10,10,30],i=[{Metric:"Total Teachers",Value:t.length},{Metric:"Teachers with Classes",Value:t.filter(o=>o.classSubjects?.length>0).length},{Metric:"Class Teachers",Value:t.filter(o=>o.classTeacherOf).length},{Metric:"Export Date",Value:new Date().toLocaleDateString()},{Metric:"Export Time",Value:new Date().toLocaleTimeString()}];return this.exportToExcel({data:n,filename:r.filename||"Teachers_Export",sheetName:"Teachers Data",columnWidths:s,summaryData:i,...r})}static exportStudents(t,r={}){const n=t.map(i=>({"Student Name":i.name||"N/A","Student ID":i.studentId||i._id||"N/A","Roll Number":i.rollNumber||"N/A",Class:i.className||"N/A",Section:i.section||"N/A",Email:i.email||"N/A",Phone:i.phone||"N/A","Parent Phone":i.parentPhone||"N/A",Gender:i.gender||"N/A","Date of Birth":i.dateOfBirth?new Date(i.dateOfBirth).toLocaleDateString():"N/A",Address:i.address||"N/A","Father Name":i.fatherName||"N/A","Mother Name":i.motherName||"N/A"})),s=[20,15,12,10,10,25,15,15,10,12,25,20,20];return this.exportToExcel({data:n,filename:r.filename||"Students_Export",sheetName:"Students Data",columnWidths:s,...r})}static showExportNotification(t){t.success?alert(` Success! Data exported to ${t.filename}

Total records: ${t.recordCount}`):alert(` Export failed: ${t.error}`)}}const eC="https://vidyaastra.com/api",GAe=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(!1),[s,i]=C.useState("view"),[o,l]=C.useState(null),[c,d]=C.useState([]),[u,h]=C.useState(!1),[m,A]=C.useState(""),[y,x]=C.useState({}),[v,b]=C.useState("#2563eb"),[j,E]=C.useState(null),[T,P]=C.useState(1),[U,M]=C.useState(1),[k]=C.useState(10),[Q,z]=C.useState(null),[O,L]=C.useState(!1),[V,J]=C.useState(""),[ce,ee]=C.useState([]),[de,se]=C.useState(!1),[he,fe]=C.useState({className:"",section:"",subject:"",dateRange:""}),[ve,B]=C.useState({name:"",email:"",phone:"",classSubjects:[],classTeacherOf:""}),R=ai(Le=>Le.classes.classes?.data||[]),Y=ai(Le=>Le.subjects.subjects?.data||[]),ie=ai(Le=>Le.classes.loading),ge=ai(Le=>Le.subjects.loading),ye=ai(Le=>Le.classes.error),pe=ai(Le=>Le.subjects.error),Z=R.map(Le=>({_id:Le._id,className:Le.className||`Class ${Le.classNumber||Le._id}`,section:Le.section||"",displayName:`${Le.className||`Class ${Le.classNumber||Le._id}`}${Le.section?` ${Le.section}`:""}`.trim()})),le=()=>Y.map(Le=>({_id:Le._id,subjectName:Le.SubjectName||Le.name||Le.subjectName||"Unnamed Subject"})),te=[...new Set(Z.map(Le=>Le.section).filter(Boolean))];C.useEffect(()=>{const Le=localStorage.getItem("color");Le&&b(Le);const rt=localStorage.getItem("schoolId");rt?E(rt):A("School ID not found in local storage. Please log in to access teacher data.")},[]),C.useEffect(()=>{ye&&A("Failed to load classes: "+ye),pe&&A("Failed to load subjects: "+pe)},[ye,pe]);const Ne=Le=>typeof Le=="string"&&/^[0-9a-fA-F]{24}$/.test(Le),Fe=Le=>{if(!Le)return{classSubjects:[]};if(Array.isArray(Le.classSubjects)&&Le.classSubjects.length>0)return{...Le,classSubjects:Le.classSubjects.map(rt=>({className:rt.className,subjects:rt.subjects||[]}))};if(Array.isArray(Le.classes)&&Array.isArray(Le.subjects)){const rt=Le.classes.map(Oe=>({className:Oe,subjects:Le.subjects||[]}));return{...Le,classSubjects:rt}}return{...Le,classSubjects:[]}},be=C.useCallback(async()=>{if(!j){h(!1);return}h(!0),A("");try{const Le=await sr.get(`${eC}/teacher/${j}`,{params:{page:T,limit:k,className:he.className,section:he.section,subject:he.subject,dateRange:he.dateRange}});if(Le.data.success){const rt=Le.data.data.filter(Oe=>{const De=Oe&&Ne(Oe._id)&&typeof Oe.name=="string"&&Oe.name.trim()!==""&&typeof Oe.email=="string"&&/\S+@\S+\.\S+/.test(Oe.email)&&typeof Oe.phone=="string"&&/^\+?\d{7,15}$/.test(Oe.phone);return De||console.warn("Invalid teacher data:",{id:Oe?._id,reasons:[!Oe&&"Teacher object is null",!Ne(Oe._id)&&"ID is not a valid ObjectId",typeof Oe.name!="string"&&"Name is not a string",Oe.name?.trim()===""&&"Name is empty",typeof Oe.email!="string"&&"Email is not a string",!/\S+@\S+\.\S+/.test(Oe.email)&&"Invalid email format",typeof Oe.phone!="string"&&"Phone is not a string",!/^\+?\d{7,15}$/.test(Oe.phone)&&"Invalid phone format"].filter(Boolean)}),De}).map(Fe);d(rt),M(Le.data.totalPages||1),P(Le.data.page||1)}else A("Failed to fetch teachers")}catch(Le){A(Le.response?.data?.message||"Failed to fetch teachers. Please try again.")}finally{h(!1)}},[j,T,k,he]);C.useEffect(()=>{be()},[be]);const re=c.filter(Le=>{const rt=e.toLowerCase();return Le.name&&Le.name.toLowerCase().includes(rt)||Array.isArray(Le.classSubjects)&&Le.classSubjects.some(Oe=>Oe.className&&Oe.className.toLowerCase().includes(rt)||Array.isArray(Oe.subjects)&&Oe.subjects.some(De=>De.toLowerCase().includes(rt)))||Le.email&&Le.email.toLowerCase().includes(rt)||Le.phone&&Le.phone.includes(rt)}),Ce=(Le,rt=null)=>{i(Le),l(rt),x({}),Le==="edit"&&rt&&(B({name:rt.name||"",email:rt.email||"",phone:rt.phone||"",classSubjects:Array.isArray(rt.classSubjects)?rt.classSubjects.map(Oe=>({className:Oe.className,subjects:[...Oe.subjects||[]]})):[],classTeacherOf:rt.classTeacherOf||""}),z(null)),n(!0),A(""),L(!1),J(""),ee([]),se(!1)},st=()=>{n(!1),l(null),i("view"),A(""),x({}),z(null),L(!1),J(""),ee([]),se(!1),B({name:"",email:"",phone:"",classSubjects:[],classTeacherOf:""})},et=Le=>{const{name:rt,value:Oe,files:De}=Le.target;rt==="profilePic"?(z(De[0]||null),x(ut=>({...ut,profilePic:""}))):(B({...ve,[rt]:Oe}),x(ut=>({...ut,[rt]:""})))},He=Le=>{J(Le.target.value),ee([]),se(!1)},ct=Le=>{ee(rt=>rt.includes(Le)?rt.filter(Oe=>Oe!==Le):[...rt,Le])},_e=()=>{if(!V||ce.length===0){A("Please select a class and at least one subject.");return}const Le=Z.find(rt=>rt._id===V);if(!Le){A("Invalid class selected.");return}if(ve.classSubjects.some(rt=>rt.className===Le.displayName)){A(`Class "${Le.displayName}" is already assigned.`);return}B({...ve,classSubjects:[...ve.classSubjects,{className:Le.displayName,subjects:[...ce]}]}),J(""),ee([]),se(!1),L(!1),A("")},ke=Le=>{B({...ve,classSubjects:ve.classSubjects.filter(rt=>rt.className!==Le)})},Ze=Le=>{const{name:rt,value:Oe}=Le.target;fe(De=>({...De,[rt]:Oe})),P(1)},Pe=()=>{fe({className:"",section:"",subject:"",dateRange:""}),P(1)},ot=()=>{const Le={};return ve.name.trim()||(Le.name="Name is required."),ve.email.trim()?/\S+@\S+\.\S+/.test(ve.email)||(Le.email="Email is invalid."):Le.email="Email is required.",ve.phone.trim()?/^\+?\d{7,15}$/.test(ve.phone)||(Le.phone="Phone number is invalid (7-15 digits)."):Le.phone="Phone number is required.",ve.classSubjects.length||(Le.classSubjects="At least one class with subjects is required."),ve.classTeacherOf&&!Ne(ve.classTeacherOf)&&(Le.classTeacherOf="Invalid class selected."),Q&&!["image/jpeg","image/png"].includes(Q.type)&&(Le.profilePic="Only JPEG or PNG images are allowed."),Q&&Q.size>2*1024*1024&&(Le.profilePic="Image size must be less than 2MB."),x(Le),Object.keys(Le).length===0},Ge=async Le=>{if(Le.preventDefault(),h(!0),A(""),!ot()){h(!1);return}if(!j||!o?._id){A("School ID or Teacher ID is missing."),h(!1);return}try{const rt=new FormData;rt.append("name",ve.name.trim()),rt.append("email",ve.email.trim()),rt.append("phone",ve.phone.trim()),rt.append("classSubjects",JSON.stringify(ve.classSubjects)),ve.classTeacherOf&&rt.append("classTeacherOf",ve.classTeacherOf),Q&&rt.append("profilePic",Q),(await sr.put(`${eC}/teacher/${j}/teachers/${o._id}`,rt,{headers:{"Content-Type":"multipart/form-data"}})).data.success&&(await be(),st())}catch(rt){A(rt.response?.data?.message||"Failed to update teacher. Please try again.")}finally{h(!1)}},lt=C.useCallback(async Le=>{if(!Ne(Le)){A("Invalid teacher ID.");return}if(window.confirm("Are you sure you want to delete this teacher?")){h(!0),A("");try{(await sr.delete(`${eC}/teacher/${j}/teacher/${Le}`)).data.success?await be():A("Failed to delete teacher.")}catch(rt){A(rt.response?.data?.message||"Failed to delete teacher. Please try again.")}finally{h(!1)}}},[be,j]),Je=Le=>Le?new Date(Le).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",Me=Le=>Le?Le.split(" ").map(rt=>rt[0]).filter(rt=>rt).join("").toUpperCase():"",Te=Le=>{Le>=1&&Le<=U&&P(Le)},je=Le=>{if(!Le)return{className:"N/A",section:"N/A"};const rt=Le.split(" "),Oe=rt.length>1&&/^[A-Z]$/.test(rt[rt.length-1])?rt.pop():"";return{className:rt.join(" ")||"N/A",section:Oe}},Ke=C.useCallback(()=>{if(re.length===0){alert("No teachers data to export");return}const Le=cL.exportTeachers(re,{filename:"Teachers_Export"});cL.showExportNotification(Le)},[re]);return ie||ge?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(an,{className:"animate-spin w-8 h-8 mx-auto mb-4",style:{color:v}}),a.jsxs("p",{className:"text-gray-600",children:["Loading ",ie?"classes":"",ie&&ge?" and ":"",ge?"subjects":"","..."]})]})}):a.jsxs("div",{className:"space-y-6 p-6 bg-gray-50 min-h-screen",children:[m&&a.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[a.jsx(ga,{className:"w-5 h-5"}),a.jsx("span",{children:m}),a.jsx("button",{onClick:()=>A(""),className:"ml-auto text-red-700 hover:text-red-900",children:a.jsx(Lr,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:a.jsxs("div",{className:"flex flex-col space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[a.jsx(Ra,{style:{color:v},className:"mr-3"}),"Teachers Management"]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"View and manage teacher profiles"})]}),a.jsx("div",{className:"flex items-center space-x-3 mt-4 sm:mt-0",children:a.jsxs("button",{onClick:Ke,disabled:u||re.length===0,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Export teachers data to Excel",children:[a.jsx(xs,{className:"w-4 h-4 mr-2"}),"Export Excel"]})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search teachers...",value:e,onChange:Le=>t(Le.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsx("div",{children:a.jsxs("select",{name:"className",value:he.className,onChange:Ze,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"All Classes"}),Z.map(Le=>a.jsx("option",{value:Le.displayName,children:Le.displayName},Le._id))]})}),a.jsx("div",{children:a.jsxs("select",{name:"section",value:he.section,onChange:Ze,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"All Sections"}),te.map(Le=>a.jsx("option",{value:Le,children:Le},Le))]})}),a.jsx("div",{children:a.jsxs("select",{name:"subject",value:he.subject,onChange:Ze,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"All Subjects"}),le().map(Le=>a.jsx("option",{value:Le.subjectName,children:Le.subjectName},Le._id))]})}),a.jsx("div",{children:a.jsxs("select",{name:"dateRange",value:he.dateRange,onChange:Ze,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"All Time"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"lastWeek",children:"Last Week"}),a.jsx("option",{value:"lastMonth",children:"Last Month"})]})})]}),(he.className||he.section||he.subject||he.dateRange)&&a.jsxs("button",{onClick:Pe,className:"flex items-center text-sm text-blue-600 hover:text-blue-800",children:[a.jsx(Fu,{className:"mr-1"}),"Clear Filters"]})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["All Teachers (",re.length,")"]})}),a.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Teacher"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subjects"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class Teacher"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u?a.jsx("tr",{children:a.jsxs("td",{colSpan:"7",className:"text-center py-12",children:[a.jsx(an,{style:{color:v},className:"w-8 h-8 mx-auto animate-spin mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Loading teachers..."})]})}):re.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:"7",className:"text-center py-12 text-gray-500",children:[a.jsx(no,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),a.jsx("p",{className:"text-lg font-medium",children:"No teachers found matching your criteria."})]})}):re.map(Le=>Array.isArray(Le.classSubjects)&&Le.classSubjects.length>0?Le.classSubjects.map((rt,Oe)=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[Oe===0?a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",rowSpan:Le.classSubjects.length,children:a.jsxs("div",{className:"flex items-center",children:[Le.profilePic?a.jsx("img",{src:`${Le.profilePic}`,alt:Le.name,className:"w-12 h-12 rounded-full object-cover"}):a.jsx("div",{style:{backgroundColor:v},className:"w-12 h-12 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-semibold text-lg",children:Me(Le.name)})}),a.jsx("div",{className:"ml-4",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Le.name||"N/A"})})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",rowSpan:Le.classSubjects.length,children:a.jsxs("div",{className:"text-sm text-gray-900",children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(Lm,{className:"w-4 h-4 mr-2 text-gray-400"}),Le.email||"N/A"]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(GA,{className:"w-4 h-4 mr-2 text-gray-400"}),Le.phone||"N/A"]})]})})]}):null,a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-600",children:je(rt.className).className})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-600",children:je(rt.className).section||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:rt.subjects?.length>0?rt.subjects.map((De,ut)=>a.jsx("span",{style:{backgroundColor:`${v}20`,color:v},className:"px-2 py-1 text-xs font-semibold rounded-full mr-1 mb-1 inline-block",children:De},ut)):a.jsx("span",{className:"text-gray-500",children:"No subjects"})}),Oe===0?a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",rowSpan:Le.classSubjects.length,children:Le.classTeacherOf?a.jsx("span",{style:{backgroundColor:`${v}20`,color:v},className:"px-3 py-1 text-xs font-semibold rounded-full",children:Z.find(De=>De._id===Le.classTeacherOf)?.displayName||"N/A"}):a.jsx("span",{className:"text-gray-500",children:"None"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",rowSpan:Le.classSubjects.length,children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>Ce("view",Le),style:{color:v},className:"p-1 rounded hover:opacity-80",title:"View Details",children:a.jsx(Hi,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Ce("edit",Le),disabled:u,className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50 disabled:opacity-50",title:"Edit Teacher",children:a.jsx(_u,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>lt(Le._id),disabled:u,className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50 disabled:opacity-50",title:"Delete Teacher",children:a.jsx(si,{className:"w-4 h-4"})})]})})]}):null]},`${Le._id}-${Oe}`)):a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[Le.profilePic?a.jsx("img",{src:`${Le.profilePic}`,alt:Le.name,className:"w-12 h-12 rounded-full object-cover"}):a.jsx("div",{style:{backgroundColor:v},className:"w-12 h-12 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-semibold text-lg",children:Me(Le.name)})}),a.jsx("div",{className:"ml-4",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Le.name||"N/A"})})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-gray-900",children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(Lm,{className:"w-4 h-4 mr-2 text-gray-400"}),Le.email||"N/A"]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(GA,{className:"w-4 h-4 mr-2 text-gray-400"}),Le.phone||"N/A"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-gray-500",children:"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-gray-500",children:"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-gray-500",children:"No subjects"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Le.classTeacherOf?a.jsx("span",{style:{backgroundColor:`${v}20`,color:v},className:"px-3 py-1 text-xs font-semibold rounded-full",children:Z.find(rt=>rt._id===Le.classTeacherOf)?.displayName||"N/A"}):a.jsx("span",{className:"text-gray-500",children:"None"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>Ce("view",Le),style:{color:v},className:"p-1 rounded hover:opacity-80",title:"View Details",children:a.jsx(Hi,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Ce("edit",Le),disabled:u,className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50 disabled:opacity-50",title:"Edit Teacher",children:a.jsx(_u,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>lt(Le._id),disabled:u,className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50 disabled:opacity-50",title:"Delete Teacher",children:a.jsx(si,{className:"w-4 h-4"})})]})})]},Le._id))})]})}),a.jsxs("div",{className:"p-6 border-t border-gray-200 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",T," of ",U]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>Te(T-1),disabled:T===1||u,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 flex items-center",children:[a.jsx(fc,{className:"w-4 h-4 mr-1"}),"Previous"]}),a.jsxs("button",{onClick:()=>Te(T+1),disabled:T===U||u,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 flex items-center",children:["Next",a.jsx(Al,{className:"w-4 h-4 ml-1"})]})]})]})]}),r&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[a.jsx("div",{style:{backgroundColor:`${v}20`},className:"w-8 h-8 rounded-lg flex items-center justify-center mr-3",children:s==="view"?a.jsx(Hi,{style:{color:v}}):a.jsx(_u,{style:{color:v}})}),s==="view"?"Teacher Profile":"Edit Teacher"]}),a.jsx("button",{onClick:st,className:"text-gray-500 hover:text-gray-700",children:a.jsx(Lr,{className:"w-6 h-6"})})]}),s==="view"&&o?a.jsxs("div",{className:"p-6 space-y-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start gap-6",children:[o.profilePic?a.jsx("img",{src:`${o.profilePic}`,alt:o.name,className:"w-24 h-24 rounded-full object-cover border-4 border-gray-100 shadow-sm"}):a.jsx("div",{style:{backgroundColor:v},className:"w-24 h-24 rounded-full flex items-center justify-center border-4 border-gray-100 shadow-sm",children:a.jsx("span",{className:"text-white font-bold text-3xl",children:Me(o.name)})}),a.jsx("div",{className:"text-center sm:text-left",children:a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:o.name||"N/A"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"text-sm font-semibold text-gray-700 flex items-center",children:[a.jsx(Lm,{className:"w-5 h-5 mr-2 text-gray-400"}),"Contact Information"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",o.email||"N/A"]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Phone:"})," ",o.phone||"N/A"]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"text-sm font-semibold text-gray-700 flex items-center",children:[a.jsx(Jn,{className:"w-5 h-5 mr-2 text-gray-400"}),"Account Details"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Joined:"})," ",Je(o.createdAt)]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Last Updated:"})," ",Je(o.updatedAt)]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"text-sm font-semibold text-gray-700 flex items-center",children:[a.jsx(Rs,{className:"w-5 h-5 mr-2 text-gray-400"}),"Teaching Assignments"]}),Array.isArray(o.classSubjects)&&o.classSubjects.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subjects"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.classSubjects.map((Le,rt)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-600",children:je(Le.className).className}),a.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-600",children:je(Le.className).section||"N/A"}),a.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Le.subjects?.length>0?Le.subjects.map((Oe,De)=>a.jsx("span",{style:{backgroundColor:`${v}20`,color:v},className:"px-2 py-1 text-xs font-semibold rounded-full mr-1 mb-1 inline-block",children:Oe},De)):a.jsx("span",{className:"text-gray-500",children:"No subjects"})})]},rt))})]})}):a.jsx("p",{className:"text-sm text-gray-500",children:"No teaching assignments"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Class Teacher Of:"}),a.jsx("p",{className:"text-sm text-gray-600",children:o.classTeacherOf?Z.find(Le=>Le._id===o.classTeacherOf)?.displayName||"N/A":"None"})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:st,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Close"})})]}):a.jsxs("form",{onSubmit:Ge,className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[a.jsx(no,{className:"mr-1 w-4 h-4"}),"Full Name *"]}),a.jsx("input",{type:"text",name:"name",placeholder:"Enter full name",value:ve.name,onChange:et,className:`w-full px-4 py-2 border ${y.name?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 shadow-sm`,required:!0}),y.name&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.name})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[a.jsx(Lm,{className:"mr-1 w-4 h-4"}),"Email Address *"]}),a.jsx("input",{type:"email",name:"email",placeholder:"Enter email address",value:ve.email,onChange:et,className:`w-full px-4 py-2 border ${y.email?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 shadow-sm`,required:!0}),y.email&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.email})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[a.jsx(GA,{className:"mr-1 w-4 h-4"}),"Phone Number *"]}),a.jsx("input",{type:"tel",name:"phone",placeholder:"Enter phone number",value:ve.phone,onChange:et,className:`w-full px-4 py-2 border ${y.phone?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 shadow-sm`,required:!0}),y.phone&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.phone})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[a.jsx(Vx,{className:"mr-1 w-4 h-4"}),"Profile Picture"]}),a.jsx("input",{type:"file",name:"profilePic",accept:"image/jpeg,image/png",onChange:et,className:`w-full px-4 py-2 border ${y.profilePic?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 shadow-sm`}),y.profilePic&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.profilePic}),Q&&a.jsxs("p",{className:"text-sm text-gray-600 mt-1 truncate",children:["Selected: ",Q.name]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[a.jsx(Rs,{className:"mr-1 w-4 h-4"}),"Classes and Subjects *"]}),a.jsxs("button",{type:"button",onClick:()=>L(!0),disabled:R.length===0||Y.length===0,className:"flex items-center px-4 py-2 rounded-lg text-white font-medium disabled:opacity-50",style:{backgroundColor:v},children:[a.jsx(Si,{className:"mr-2"}),"Add Class and Subjects"]}),ve.classSubjects.length>0&&a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:ve.classSubjects.map((Le,rt)=>a.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:[Le.className,": ",Le.subjects.join(", "),a.jsx("button",{type:"button",onClick:()=>ke(Le.className),className:"ml-2 rounded-full hover:bg-blue-200",children:a.jsx(Lr,{className:"w-4 h-4"})})]},rt))}),y.classSubjects&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.classSubjects}),O&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-bold",children:"Add Classes and Subjects"}),a.jsx("button",{type:"button",onClick:()=>{L(!1),J(""),ee([]),se(!1)},className:"text-gray-500 hover:text-gray-700",children:a.jsx(Lr,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class *"}),a.jsxs("select",{value:V,onChange:He,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:Z.length===0,children:[a.jsx("option",{value:"",children:"Select a class"}),Z.filter(Le=>!ve.classSubjects.some(rt=>rt.className===Le.displayName)).map(Le=>a.jsx("option",{value:Le._id,children:Le.displayName},Le._id))]}),Z.length===0&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:"No classes available"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subjects *"}),a.jsxs("div",{className:`border border-gray-300 rounded-lg p-3 flex justify-between items-center ${V?"cursor-pointer":"cursor-not-allowed"}`,onClick:()=>V&&se(Le=>!Le),children:[a.jsx("span",{children:ce.length>0?`${ce.length} subject(s) selected`:V?"Select subjects":"Select a class first"}),V&&(de?a.jsx(uj,{}):a.jsx(s1,{}))]}),V&&de&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:le().length===0?a.jsx("div",{className:"p-3 text-gray-500 text-center",children:"No subjects available"}):le().map(Le=>a.jsxs("div",{className:"p-3 hover:bg-gray-100 cursor-pointer flex items-center",onClick:()=>ct(Le.subjectName),children:[a.jsx("input",{type:"checkbox",checked:ce.includes(Le.subjectName),onChange:()=>ct(Le.subjectName),className:"mr-2 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{children:Le.subjectName})]},Le._id))}),ce.length>0&&a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:ce.map(Le=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[Le,a.jsx("button",{type:"button",onClick:()=>ct(Le),className:"ml-1 rounded-full hover:bg-blue-200",children:a.jsx(Lr,{className:"w-3 h-3"})})]},Le))})]})]}),a.jsxs("div",{className:"mt-6 flex space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>{L(!1),J(""),ee([]),se(!1)},className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"button",onClick:_e,disabled:!V||ce.length===0,className:"flex-1 py-2 px-4 rounded-lg text-white font-medium disabled:opacity-50",style:{backgroundColor:v},children:"Add"})]})]})})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[a.jsx(Ra,{className:"mr-1 w-4 h-4"}),"Class Teacher Of"]}),a.jsxs("select",{name:"classTeacherOf",value:ve.classTeacherOf,onChange:et,className:`w-full px-4 py-2 border ${y.classTeacherOf?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 shadow-sm`,disabled:ie,children:[a.jsx("option",{value:"",children:"None"}),Z.map(Le=>a.jsx("option",{value:Le._id,children:Le.displayName},Le._id))]}),y.classTeacherOf&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.classTeacherOf})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:st,disabled:u,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:u||ie||ge,style:{backgroundColor:v},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 disabled:opacity-50 flex items-center justify-center space-x-2",children:[u?a.jsx(an,{className:"w-4 h-4 animate-spin"}):a.jsx(td,{className:"w-4 h-4"}),a.jsx("span",{children:u?"Saving...":"Update Teacher"})]})]})]})]})})]})},C0="https://vidyaastra.com/api",WAe=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],YAe=["Bus","Van","Auto"],XAe=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(!1),[s,i]=C.useState("add"),[o,l]=C.useState(null),[c,d]=C.useState([]),[u,h]=C.useState([]),[m,A]=C.useState([]),[y,x]=C.useState([]),[v,b]=C.useState([]),[j,E]=C.useState(!1),[T,P]=C.useState(""),[U,M]=C.useState(""),[k,Q]=C.useState({}),[z,O]=C.useState("#2563eb"),[L,V]=C.useState(null),[J,ce]=C.useState([]),[ee,de]=C.useState([]),[se,he]=C.useState("all"),[fe,ve]=C.useState("all"),[B,R]=C.useState("all"),[Y,ie]=C.useState("all"),[ge,ye]=C.useState(null),[pe,Z]=C.useState({totalTransports:0,totalStudents:0,totalRevenue:0,pendingPayments:0,occupancyRate:0,completedPayments:0,partialPayments:0,overduePayments:0}),[le,te]=C.useState({route:"",routeName:"",busNumber:"",driverName:"",driverPhone:"",conductorName:"",conductorPhone:"",startTime:"",endTime:"",transportType:"Bus",totalCapacity:"",yearlyFee:"",operatingDays:[],notes:"",schoolId:""});C.useEffect(()=>{const De=localStorage.getItem("color");De&&O(De);const ut=localStorage.getItem("schoolId");ut?(V(ut),console.log("School ID loaded:",ut)):(P("School ID not found. Please log in to access transport data."),xr.error("School ID not found. Please log in to access transport data."))},[]);const Ne=C.useCallback(async()=>{if(L)try{console.log("Fetching classes for school:",L);const De=await sr.get(`${C0}/class/all-unfiltered`);console.log("Classes response:",De.data),Array.isArray(De.data)?(A(De.data),console.log(`Loaded ${De.data.length} classes`)):De.data.success&&Array.isArray(De.data.data)&&(A(De.data.data),console.log(`Loaded ${De.data.data.length} classes`))}catch(De){console.error("Error fetching classes:",De)}},[L]),Fe=C.useCallback((De,ut=null)=>{if(!De)return ut||"Not Assigned";if(typeof De=="object"&&De.className)return`${De.className}${De.section?` ${De.section}`:""}`;if(typeof De=="string"){const _t=m.find(qt=>qt._id===De);return _t?`${_t.className}${_t.section?` ${_t.section}`:""}`:`Class ID: ${De}`}return ut||"Not Assigned"},[m]),be=C.useCallback(async()=>{if(L)try{console.log("Fetching students for school:",L);const De=await sr.get(`${C0}/students/school/${L}?page=${currentPage}&limit=${limit}`,{params:{schoolId:L}});if(Array.isArray(De.data)){const ut=De.data.filter(_t=>_t.schoolId===L||_t.schoolId?._id===L);console.log("Filtered students for current school:",ut),h(ut),console.log(`Loaded ${ut.length} students for school`)}else if(De.data.success&&Array.isArray(De.data.data)){const ut=De.data.data.filter(_t=>_t.schoolId===L||_t.schoolId?._id===L);console.log("Filtered students for current school:",ut),h(ut),console.log(`Loaded ${ut.length} students for school`)}}catch(De){console.error("Error fetching students:",De),xr.error("Failed to fetch students")}},[L]),re=C.useCallback(async()=>{if(!L){E(!1);return}E(!0),P("");try{console.log("Fetching transports for school:",L);const De=await sr.get(`${C0}/transports`,{params:{schoolId:L}});if(console.log("Raw transports response:",De.data),De.data.success){const ut=De.data.data||[];console.log("Raw transports array:",ut),d(ut),console.log(`Loaded ${ut.length} transports`),st(ut),xr.success(`Loaded ${ut.length} transport records`)}else P(De.data.message||"Failed to fetch transport data"),xr.error(De.data.message||"Failed to fetch transport data")}catch(De){console.error("Error fetching transports:",De);const ut=De.response?.data?.message||"Failed to fetch transport data";P(ut),xr.error(ut)}finally{E(!1)}},[L]),Ce=C.useCallback(async()=>{if(L)try{const De=[];for(const ut of c)for(const _t of ut.assignedStudents||[])try{const qt=_t.studentId?._id||_t.studentId;if(!qt)continue;const Ft=await sr.get(`${C0}/transports/payment/history/${qt}`,{params:{schoolId:L}});Ft.data.success&&Ft.data.data&&De.push({...Ft.data.data,transportInfo:ut,studentInfo:_t.studentId})}catch{const Ft=_t.studentId?._id||_t.studentId||"unknown";console.log(`No payment record for student ${Ft}`)}b(De),console.log(`Loaded ${De.length} payment records`)}catch(De){console.error("Error fetching payment records:",De)}},[L,c]),st=De=>{const ut=De.length,_t=De.reduce((Qr,dn)=>Qr+(dn.assignedStudents?.length||0),0),qt=De.reduce((Qr,dn)=>Qr+dn.totalCapacity,0),Ft=qt>0?_t/qt*100:0,gt=De.reduce((Qr,dn)=>{const ja=dn.assignedStudents?.length||0;return Qr+ja*(dn.yearlyFee||0)},0),Zt=v.filter(Qr=>Qr.paymentStatus==="completed").length,$t=v.filter(Qr=>Qr.paymentStatus==="partial").length,rr=v.filter(Qr=>Qr.paymentStatus==="pending").length,kr=v.filter(Qr=>Qr.paymentStatus==="overdue").length;Z({totalTransports:ut,totalStudents:_t,totalRevenue:gt,pendingPayments:rr,occupancyRate:Ft,completedPayments:Zt,partialPayments:$t,overduePayments:kr})},et=C.useCallback(async()=>{if(!(!L||u.length===0))try{const De=new Set;c.forEach(_t=>{_t.assignedStudents?.forEach(qt=>{const Ft=qt.studentId?._id||qt.studentId;Ft&&De.add(Ft)})});const ut=u.filter(_t=>!De.has(_t._id));x(ut),console.log(`Found ${ut.length} available students`)}catch(De){console.error("Error filtering available students:",De)}},[u,c,L]);C.useEffect(()=>{re(),be(),Ne()},[re,be,Ne]),C.useEffect(()=>{c.length>0&&Ce()},[c,Ce]),C.useEffect(()=>{et()},[et]),C.useEffect(()=>{v.length>0&&st(c)},[v,c]);const He=c.filter(De=>{const ut=De.busNumber?.toLowerCase().includes(e.toLowerCase())||De.route?.toLowerCase().includes(e.toLowerCase())||De.routeName?.toLowerCase().includes(e.toLowerCase())||De.driverName?.toLowerCase().includes(e.toLowerCase())||De.driverPhone?.includes(e)||De.assignedStudents?.some(Zt=>Zt.studentId?.name?.toLowerCase().includes(e.toLowerCase())),_t=se==="all"||De.status===se,qt=B==="all"||De.routeName?.toLowerCase()===B.toLowerCase()||De.route?.toLowerCase()===B.toLowerCase(),Ft=v.filter(Zt=>Zt.transportId===De._id||Zt.transportInfo?._id===De._id),gt=Y==="all"||De.assignedStudents?.some(Zt=>{if(!Zt.studentId)return!1;const $t=Ft.find(rr=>(rr.studentId?._id||rr.studentId)===(Zt.studentId._id||Zt.studentId));return Y==="paid"?$t?.paymentStatus==="completed":Y==="unpaid"?!$t||$t?.paymentStatus==="pending":Y==="partial"?$t?.paymentStatus==="partial":!0});return ut&&_t&&qt&&gt}),ct=[...new Set(c.map(De=>De.routeName||De.route).filter(Boolean).sort())],_e=(De,ut=null)=>{i(De),l(ut),Q({}),P(""),M(""),ce([]),de([]),De==="add"?(te({route:"",routeName:"",busNumber:"",driverName:"",driverPhone:"",conductorName:"",conductorPhone:"",startTime:"",endTime:"",transportType:"Bus",totalCapacity:"",yearlyFee:"",operatingDays:[],notes:"",schoolId:L||""}),de([{stopName:"",stopTime:"",stopOrder:1,landmark:""}])):ut&&(te({route:ut.route||"",routeName:ut.routeName||"",busNumber:ut.busNumber||"",driverName:ut.driverName||"",driverPhone:ut.driverPhone||"",conductorName:ut.conductorName||"",conductorPhone:ut.conductorPhone||"",startTime:ut.startTime||"",endTime:ut.endTime||"",transportType:ut.transportType||"Bus",totalCapacity:ut.totalCapacity?.toString()||"50",yearlyFee:ut.yearlyFee?.toString()||"12000",operatingDays:ut.operatingDays||[],notes:ut.notes||"",schoolId:L||""}),de(ut.routeStops||[{stopName:"",stopTime:"",stopOrder:1,landmark:""}])),n(!0)},ke=()=>{n(!1),l(null),i("add"),P(""),M(""),Q({}),ce([]),de([]),ye(null)},Ze=De=>{const{name:ut,value:_t}=De.target;te({...le,[ut]:_t}),k[ut]&&Q(qt=>({...qt,[ut]:""}))},Pe=De=>{const ut=le.operatingDays.includes(De)?le.operatingDays.filter(_t=>_t!==De):[...le.operatingDays,De];te({...le,operatingDays:ut})},ot=(De,ut,_t)=>{const qt=[...ee];qt[De]={...qt[De],[ut]:_t},de(qt)},Ge=()=>{const De={stopName:"",stopTime:"",stopOrder:ee.length+1,landmark:""};de([...ee,De])},lt=De=>{if(ee.length>1){const ut=ee.filter((_t,qt)=>qt!==De);ut.forEach((_t,qt)=>{_t.stopOrder=qt+1}),de(ut)}},Je=()=>{const De={};return le.busNumber.trim()||(De.busNumber="Bus Number is required"),le.route.trim()||(De.route="Route is required"),le.routeName.trim()||(De.routeName="Route Name is required"),le.driverName.trim()||(De.driverName="Driver Name is required"),le.driverPhone.trim()?/^[+]?[0-9\s-]{10,16}$/.test(le.driverPhone)||(De.driverPhone="Phone number is invalid (10-16 digits)"):De.driverPhone="Driver Phone is required",le.conductorPhone&&!/^[+]?[0-9\s-]{10,16}$/.test(le.conductorPhone)&&(De.conductorPhone="Conductor phone number is invalid"),le.startTime||(De.startTime="Start Time is required"),le.endTime||(De.endTime="End Time is required"),(!le.totalCapacity||Number.parseInt(le.totalCapacity)<1)&&(De.totalCapacity="Capacity must be at least 1"),(!le.yearlyFee||Number.parseFloat(le.yearlyFee)<0)&&(De.yearlyFee="Yearly fee must be a valid amount"),le.operatingDays.length===0&&(De.operatingDays="At least one operating day is required"),ee.forEach((ut,_t)=>{ut.stopName.trim()||(De[`stop_${_t}_name`]=`Stop ${_t+1} name is required`),ut.stopTime.trim()||(De[`stop_${_t}_time`]=`Stop ${_t+1} time is required`)}),Q(De),Object.keys(De).length===0},Me=async De=>{if(De.preventDefault(),E(!0),P(""),M(""),!Je()){E(!1);return}if(!L){P("School ID is missing. Cannot perform this operation."),xr.error("School ID is missing. Cannot perform this operation."),E(!1);return}try{console.log("Submitting transport data...");const ut=Number.parseFloat(le.yearlyFee),_t=[{numberOfInstallments:1,installmentAmount:ut,description:"Full Payment"},{numberOfInstallments:2,installmentAmount:Math.ceil(ut/2),description:"2 Installments"},{numberOfInstallments:3,installmentAmount:Math.ceil(ut/3),description:"3 Installments"},{numberOfInstallments:4,installmentAmount:Math.ceil(ut/4),description:"4 Installments"}],qt={route:le.route.trim(),routeName:le.routeName.trim(),busNumber:le.busNumber.trim(),driverName:le.driverName.trim(),driverPhone:le.driverPhone.trim(),conductorName:le.conductorName.trim(),conductorPhone:le.conductorPhone.trim(),startTime:le.startTime,endTime:le.endTime,transportType:le.transportType,totalCapacity:Number.parseInt(le.totalCapacity),yearlyFee:ut,installmentOptions:_t,operatingDays:le.operatingDays,notes:le.notes.trim(),routeStops:ee.filter(gt=>gt.stopName.trim()),schoolId:L};let Ft;if(s==="add"?Ft=await sr.post(`${C0}/transports`,qt):s==="edit"&&(Ft=await sr.put(`${C0}/transports/${o?._id}`,qt)),console.log("Transport submission response:",Ft?.data),Ft?.data.success){const gt=Ft.data.message||"Transport saved successfully!";M(gt),xr.success(gt),await re(),ke()}else{const gt=Ft?.data.message||"Failed to save transport";P(gt),xr.error(gt)}}catch(ut){console.error("Error saving transport:",ut);const _t=ut.response?.data?.message||"Failed to save transport. Please try again.";P(_t),xr.error(_t)}finally{E(!1)}},Te=C.useCallback(async De=>{if(window.confirm("Are you sure you want to delete this transport entry?")){if(E(!0),P(""),M(""),!L){P("School ID is missing. Cannot perform this operation."),xr.error("School ID is missing. Cannot perform this operation."),E(!1);return}try{console.log("Deleting transport:",De);const ut=await sr.delete(`${C0}/transports/${De}`,{data:{schoolId:L}});if(console.log("Delete response:",ut.data),ut.data.success){const _t=ut.data.message||"Transport deleted successfully!";M(_t),xr.success(_t),await re()}else{const _t=ut.data.message||"Failed to delete transport";P(_t),xr.error(_t)}}catch(ut){console.error("Error deleting transport:",ut);const _t=ut.response?.data?.message||"Failed to delete transport entry";P(_t),xr.error(_t)}finally{E(!1)}}},[re,L]),je=async(De,ut,_t)=>{if(!(!o||!L)){if(o.availableSeats<=0){xr.error("No seats available. Transport is at full capacity.");return}E(!0),P("");try{const qt={studentId:De,pickupStopId:ut,dropoffStopId:_t,schoolId:L,numberOfInstallments:3,paymentMethod:"cash",academicYear:new Date().getFullYear()+"-"+(new Date().getFullYear()+1)},Ft=await sr.post(`${C0}/transports/${o._id}/book`,qt);Ft.data.success?(M("Student booked successfully! Payment record created."),xr.success("Student booked successfully! Payment record created."),await re(),await Ce(),ce([]),ke()):Ft.data.noSeatsAvailable?xr.error("No seats available. Transport is at full capacity."):xr.error(Ft.data.message||"Failed to book transport")}catch(qt){console.error("Error booking transport:",qt);const Ft=qt.response?.data?.message||"Failed to book transport";Ft.includes("No seats available")||Ft.includes("full capacity")?xr.error("No seats available. Transport is at full capacity."):xr.error(Ft),P(Ft)}finally{E(!1)}}},Ke=async De=>{if(o&&window.confirm("Are you sure you want to remove this student from the transport?")){E(!0),P("");try{const ut=await sr.delete(`${C0}/transports/${o._id}/remove-student/${De}`,{data:{schoolId:L}});ut.data.success&&(M("Student removed successfully!"),xr.success("Student removed successfully!"),await re(),await Ce(),l(ut.data.data))}catch(ut){console.error("Error removing student:",ut);const _t=ut.response?.data?.message||"Failed to remove student";P(_t),xr.error(_t)}finally{E(!1)}}};C.useEffect(()=>{if(T){const De=setTimeout(()=>P(""),5e3);return()=>clearTimeout(De)}},[T]),C.useEffect(()=>{if(U){const De=setTimeout(()=>M(""),3e3);return()=>clearTimeout(De)}},[U]);const Le=()=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-8 gap-4 mb-6",children:[a.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total Transports"}),a.jsx("p",{className:"text-2xl font-bold",style:{color:z},children:pe.totalTransports})]}),a.jsx(rf,{className:"w-8 h-8 text-gray-400"})]})}),a.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total Students"}),a.jsx("p",{className:"text-2xl font-bold",style:{color:z},children:pe.totalStudents})]}),a.jsx(Ra,{className:"w-8 h-8 text-gray-400"})]})}),a.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Yearly Revenue"}),a.jsxs("p",{className:"text-2xl font-bold",style:{color:z},children:["",pe.totalRevenue.toLocaleString()]})]}),a.jsx(aA,{className:"w-8 h-8 text-gray-400"})]})}),a.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Occupancy Rate"}),a.jsxs("p",{className:"text-2xl font-bold",style:{color:z},children:[pe.occupancyRate.toFixed(1),"%"]})]}),a.jsx(uk,{className:"w-8 h-8 text-gray-400"})]})}),a.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Payments"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:pe.completedPayments})]}),a.jsx(tu,{className:"w-8 h-8 text-green-400"})]})}),a.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Partial Payments"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:pe.partialPayments})]}),a.jsx(es,{className:"w-8 h-8 text-yellow-400"})]})}),a.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Pending Payments"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:pe.pendingPayments})]}),a.jsx(jv,{className:"w-8 h-8 text-red-400"})]})}),a.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Available Students"}),a.jsx("p",{className:"text-2xl font-bold",style:{color:z},children:y.length})]}),a.jsx(d3,{className:"w-8 h-8 text-gray-400"})]})})]}),rt=()=>a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transport Details"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Route & Driver"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Students & Payments"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Financial Summary"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:He.map(De=>{const ut=v.filter(gt=>gt.transportId===De._id||gt.transportInfo?._id===De._id),_t=ut.reduce((gt,Zt)=>gt+(Zt.paidAmount||0),0),qt=(De.assignedStudents?.length||0)*(De.yearlyFee||0),Ft=qt>0?_t/qt*100:0;return a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:`${z}20`},children:a.jsx(rf,{className:"w-6 h-6",style:{color:z}})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:De.busNumber}),a.jsx("div",{className:"text-sm text-gray-500",children:De.transportType||"Bus"}),De.availableSeats<=0&&a.jsx("div",{className:"text-xs text-red-600 font-semibold",children:"No Seats Available"})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-gray-900",children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(Kx,{className:"w-4 h-4 mr-2",style:{color:z}}),a.jsx("span",{className:"font-medium",children:De.routeName||De.route})]}),a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(no,{className:"w-4 h-4 mr-2",style:{color:z}}),De.driverName]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(GA,{className:"w-4 h-4 mr-2",style:{color:z}}),De.driverPhone]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-gray-900",children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(Ra,{className:"w-4 h-4 mr-2",style:{color:z}}),a.jsxs("span",{className:"font-medium",children:[De.assignedStudents?.length||0,"/",De.totalCapacity," Students"]})]}),a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(I0,{className:"w-4 h-4 mr-2",style:{color:z}}),a.jsxs("span",{className:"text-green-600 font-medium",children:[ut.filter(gt=>gt.paymentStatus==="completed").length," ","Paid"]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(es,{className:"w-4 h-4 mr-2",style:{color:z}}),a.jsxs("span",{className:"text-yellow-600 font-medium",children:[ut.filter(gt=>gt.paymentStatus==="partial").length," ","Partial"]}),a.jsxs("span",{className:"text-red-600 font-medium ml-2",children:[ut.filter(gt=>gt.paymentStatus==="pending").length," ","Pending"]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-gray-900",children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(aA,{className:"w-4 h-4 mr-2",style:{color:z}}),a.jsxs("span",{className:"font-medium",children:["",De.yearlyFee||0,"/year"]})]}),a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(tg,{className:"w-4 h-4 mr-2",style:{color:z}}),a.jsxs("span",{className:"text-green-600 font-medium",children:["",_t.toLocaleString()," Collected"]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(uk,{className:"w-4 h-4 mr-2",style:{color:z}}),a.jsxs("span",{className:"text-blue-600 font-medium",children:[Ft.toFixed(1),"% Collection Rate"]})]}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full mt-1 ${De.status==="Active"?"bg-green-100 text-green-800":De.status==="Inactive"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:De.status||"Active"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>_e("view",De),className:"hover:opacity-75 p-1 rounded",style:{color:z},title:"View Details",children:a.jsx(Hi,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>_e("payments",De),disabled:j,className:"hover:opacity-75 p-1 rounded disabled:opacity-50",style:{color:z},title:"View Payment Details",children:a.jsx(I0,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>_e("assign",De),disabled:j,className:"hover:opacity-75 p-1 rounded disabled:opacity-50",style:{color:z},title:"Assign Students",children:a.jsx(d3,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>_e("edit",De),disabled:j,className:"hover:opacity-75 p-1 rounded disabled:opacity-50",style:{color:z},title:"Edit Transport",children:a.jsx(_u,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Te(De._id),disabled:j,className:"hover:opacity-75 p-1 rounded disabled:opacity-50",style:{color:z},title:"Delete Transport",children:a.jsx(si,{className:"w-4 h-4"})})]})})]},De._id)})})]}),Oe=()=>{if(s==="payments"){const De=v.filter(Ft=>Ft.transportId===o?._id||Ft.transportInfo?._id===o?._id),ut=De.reduce((Ft,gt)=>Ft+(gt.paidAmount||0),0),_t=(o?.assignedStudents?.length||0)*(o?.yearlyFee||0),qt=_t>0?ut/_t*100:0;return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:["Payment Details - ",o?.busNumber]}),a.jsxs("p",{className:"text-gray-600",children:["Route: ",o?.routeName," | Yearly Fee: ",o?.yearlyFee]}),a.jsx("p",{className:"text-sm text-orange-600 font-medium mt-1",children:" Admin View Only - Payment processing is handled by students/parents"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Collection Rate"}),a.jsxs("p",{className:"text-2xl font-bold",style:{color:z},children:[qt.toFixed(1),"%"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["",ut.toLocaleString()," / ",_t.toLocaleString()]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(tu,{className:"w-6 h-6 text-green-600 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-green-600",children:"Completed"}),a.jsx("p",{className:"text-xl font-bold text-green-800",children:De.filter(Ft=>Ft.paymentStatus==="completed").length})]})]})}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(es,{className:"w-6 h-6 text-yellow-600 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-yellow-600",children:"Partial"}),a.jsx("p",{className:"text-xl font-bold text-yellow-800",children:De.filter(Ft=>Ft.paymentStatus==="partial").length})]})]})}),a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(jv,{className:"w-6 h-6 text-red-600 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-red-600",children:"Pending"}),a.jsx("p",{className:"text-xl font-bold text-red-800",children:De.filter(Ft=>Ft.paymentStatus==="pending").length})]})]})}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsx("div",{className:"flex items-center",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-blue-600",children:"Total Students"}),a.jsx("p",{className:"text-xl font-bold text-blue-800",children:o?.assignedStudents?.length||0})]})})})]}),De.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(I0,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No payment records found for this transport"}),a.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Students need to book this transport to generate payment records"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Student Payment Details (View Only)"}),a.jsx("button",{onClick:()=>{const Ft=De.map(gt=>({StudentName:gt.studentId?.name||gt.studentInfo?.name,RollNumber:gt.studentId?.rollNumber||gt.studentInfo?.rollNumber,TotalAmount:gt.totalAmount,PaidAmount:gt.paidAmount,RemainingAmount:gt.remainingAmount,InstallmentsPaid:`${gt.installmentsPaid}/${gt.numberOfInstallments}`,PaymentStatus:gt.paymentStatus,LastPaymentDate:gt.paymentHistory?.[gt.paymentHistory.length-1]?.paymentDate||"N/A"}));console.log("Payment data for export:",Ft),xr.success("Payment data ready for export")},className:"flex items-center space-x-2 px-3 py-1 text-sm border rounded-lg hover:bg-gray-50"})]}),De.map(Ft=>a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:a.jsx(no,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:Ft.studentId?.name||Ft.studentInfo?.name||"Unknown Student"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Roll:"," ",Ft.studentId?.rollNumber||Ft.studentInfo?.rollNumber||"N/A"," ","| Class:"," ",Fe(Ft.studentId?.classId||Ft.studentInfo?.classId,Ft.studentId?.class||Ft.studentInfo?.class)]}),(Ft.studentId?.phone||Ft.studentInfo?.phone)&&a.jsxs("p",{className:"text-sm text-gray-500",children:["Phone:"," ",Ft.studentId?.phone||Ft.studentInfo?.phone]})]})]})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${Ft.paymentStatus==="completed"?"bg-green-100 text-green-800":Ft.paymentStatus==="partial"?"bg-yellow-100 text-yellow-800":Ft.paymentStatus==="overdue"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:Ft.paymentStatus?.toUpperCase()||"PENDING"}),a.jsx("button",{onClick:()=>ye(ge===Ft._id?null:Ft._id),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:ge===Ft._id?"Hide Details":"View Details"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-white p-3 rounded border",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Total Amount"}),a.jsxs("p",{className:"font-semibold text-lg",children:["",Ft.totalAmount||0]})]}),a.jsxs("div",{className:"bg-white p-3 rounded border",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Paid Amount"}),a.jsxs("p",{className:"font-semibold text-lg text-green-600",children:["",Ft.paidAmount||0]})]}),a.jsxs("div",{className:"bg-white p-3 rounded border",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Remaining"}),a.jsxs("p",{className:"font-semibold text-lg text-orange-600",children:["",Ft.remainingAmount||0]})]}),a.jsxs("div",{className:"bg-white p-3 rounded border",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Installments"}),a.jsxs("p",{className:"font-semibold text-lg",children:[Ft.installmentsPaid||0,"/",Ft.numberOfInstallments||0]})]}),a.jsxs("div",{className:"bg-white p-3 rounded border",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Progress"}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:a.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${Ft.totalAmount>0?Ft.paidAmount/Ft.totalAmount*100:0}%`}})}),a.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[Ft.totalAmount>0?Math.round(Ft.paidAmount/Ft.totalAmount*100):0,"%"]})]})]}),ge===Ft._id&&a.jsxs("div",{className:"bg-white rounded-lg p-4 border mt-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("h5",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[a.jsx(dk,{className:"w-4 h-4 mr-2",style:{color:z}}),"Payment Plan Details"]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Academic Year:"}),a.jsx("span",{className:"font-medium",children:Ft.academicYear||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Start Date:"}),a.jsx("span",{className:"font-medium",children:Ft.startDate?new Date(Ft.startDate).toLocaleDateString():"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"End Date:"}),a.jsx("span",{className:"font-medium",children:Ft.endDate?new Date(Ft.endDate).toLocaleDateString():"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Next Due Date:"}),a.jsx("span",{className:"font-medium",children:Ft.nextDueDate?new Date(Ft.nextDueDate).toLocaleDateString():"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Installment Amount:"}),a.jsxs("span",{className:"font-medium",children:["",Ft.installmentAmount||0]})]})]})]}),a.jsxs("div",{children:[a.jsxs("h5",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[a.jsx(I0,{className:"w-4 h-4 mr-2",style:{color:z}}),"Payment History (",Ft.paymentHistory?.length||0,")"]}),Ft.paymentHistory&&Ft.paymentHistory.length>0?a.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:Ft.paymentHistory.map((gt,Zt)=>a.jsxs("div",{className:"bg-gray-50 p-3 rounded border",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-green-600",children:["",gt.amount]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(gt.paymentDate).toLocaleDateString()," ","at"," ",new Date(gt.paymentDate).toLocaleTimeString()]}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Method:"," ",gt.paymentMethod?.toUpperCase()]}),gt.transactionId&&a.jsxs("p",{className:"text-xs text-gray-600",children:["TXN: ",gt.transactionId]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${gt.status==="completed"?"bg-green-100 text-green-800":gt.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:gt.status?.toUpperCase()}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Installment ",gt.installmentNumber]})]})]}),gt.notes&&a.jsx("p",{className:"text-xs text-gray-600 mt-2 italic",children:gt.notes})]},Zt))}):a.jsx("p",{className:"text-gray-500 text-sm",children:"No payment history available"})]})]}),Ft.remainingAmount>0&&a.jsx("div",{className:"mt-4 pt-4 border-t bg-orange-50 p-3 rounded",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-orange-800 font-medium",children:"Next Payment Due"}),a.jsxs("p",{className:"font-semibold text-orange-900",children:["",Ft.installmentAmount," (Installment"," ",(Ft.installmentsPaid||0)+1,")"]}),a.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:["Due:"," ",Ft.nextDueDate?new Date(Ft.nextDueDate).toLocaleDateString():"Immediate"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-orange-600",children:"Payment to be made by"}),a.jsx("p",{className:"text-sm font-medium text-orange-800",children:"Student/Parent"})]})]})})]})]},Ft._id))]}),o?.assignedStudents&&(()=>{const Ft=o.assignedStudents.filter(gt=>gt.studentId?!De.some(Zt=>(Zt.studentId?._id||Zt.studentId)===(gt.studentId._id||gt.studentId)):!1);return Ft.length>0&&a.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsxs("h5",{className:"font-semibold text-yellow-800 mb-3 flex items-center",children:[a.jsx(ga,{className:"w-4 h-4 mr-2"}),"Students Without Payment Records (",Ft.length,")"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Ft.map((gt,Zt)=>a.jsxs("div",{className:"bg-white p-3 rounded border",children:[a.jsx("p",{className:"font-medium",children:gt.studentId?.name||"Unknown Student"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Roll: ",gt.studentId?.rollNumber||"N/A"]}),a.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Payment record needs to be created"})]},gt.studentId?._id||Zt))})]})})()]})}if(s==="view"){const De=v.filter(ut=>ut.transportId===o?._id||ut.transportInfo?._id===o?._id);return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[a.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center",style:{backgroundColor:z},children:a.jsx(rf,{className:"w-10 h-10 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:o?.busNumber}),a.jsxs("p",{className:"text-gray-600",children:["Route: ",o?.routeName||o?.route]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Status:"," ",a.jsx("span",{className:"font-medium text-green-600",children:o?.status||"Active"})]}),o?.availableSeats<=0&&a.jsx("p",{className:"text-sm text-red-600 font-semibold",children:" No Seats Available"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(no,{className:"w-5 h-5",style:{color:z}}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Driver Name"}),a.jsx("p",{className:"font-medium",children:o?.driverName})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(GA,{className:"w-5 h-5",style:{color:z}}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Driver Phone"}),a.jsx("p",{className:"font-medium",children:o?.driverPhone})]})]}),o?.conductorName&&a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(no,{className:"w-5 h-5",style:{color:z}}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Conductor"}),a.jsx("p",{className:"font-medium",children:o.conductorName}),o.conductorPhone&&a.jsx("p",{className:"text-sm text-gray-400",children:o.conductorPhone})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(es,{className:"w-5 h-5",style:{color:z}}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Schedule"}),a.jsxs("p",{className:"font-medium",children:[o?.startTime," - ",o?.endTime]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(rf,{className:"w-5 h-5",style:{color:z}}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Transport Type"}),a.jsx("p",{className:"font-medium",children:o?.transportType||"Bus"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ra,{className:"w-5 h-5",style:{color:z}}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Capacity"}),a.jsxs("p",{className:"font-medium",children:[o?.totalCapacity," students"]}),a.jsxs("p",{className:"text-sm text-gray-400",children:["Available: ",o?.availableSeats||0," seats"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(aA,{className:"w-5 h-5",style:{color:z}}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Yearly Fee"}),a.jsxs("p",{className:"font-medium",children:["",o?.yearlyFee||0]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Jn,{className:"w-5 h-5",style:{color:z}}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Operating Days"}),a.jsx("p",{className:"font-medium",children:o?.operatingDays?.join(", ")||"Not specified"})]})]}),o?.notes&&a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(dk,{className:"w-5 h-5",style:{color:z}}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Notes"}),a.jsx("p",{className:"font-medium",children:o.notes})]})]})]})]}),De.length>0&&a.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsxs("h4",{className:"text-lg font-semibold text-blue-800 mb-3 flex items-center",children:[a.jsx(I0,{className:"w-5 h-5 mr-2"}),"Payment Summary (View Only)"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:De.filter(ut=>ut.paymentStatus==="completed").length}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:De.filter(ut=>ut.paymentStatus==="partial").length}),a.jsx("p",{className:"text-sm text-gray-600",children:"Partial"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-red-600",children:De.filter(ut=>ut.paymentStatus==="pending").length}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pending"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold",style:{color:z},children:["",De.reduce((ut,_t)=>ut+(_t.paidAmount||0),0).toLocaleString()]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Collected"})]})]})]}),o?.routeStops&&o.routeStops.length>0&&a.jsxs("div",{className:"mt-6",children:[a.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[a.jsx(Kx,{className:"w-5 h-5 mr-2",style:{color:z}}),"Route Stops (",o.routeStops.length,")"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4 max-h-60 overflow-y-auto",children:a.jsx("div",{className:"space-y-2",children:o.routeStops.sort((ut,_t)=>ut.stopOrder-_t.stopOrder).map((ut,_t)=>a.jsxs("div",{className:"bg-white p-3 rounded border text-sm flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:ut.stopName}),a.jsxs("p",{className:"text-gray-500",children:["Time: ",ut.stopTime]}),ut.landmark&&a.jsxs("p",{className:"text-gray-400",children:["Near: ",ut.landmark]})]}),a.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs",children:["Stop ",ut.stopOrder]})]},ut._id||_t))})})]}),o?.assignedStudents&&o.assignedStudents.length>0&&a.jsxs("div",{className:"mt-6",children:[a.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[a.jsx(Ra,{className:"w-5 h-5 mr-2",style:{color:z}}),"Assigned Students (",o.assignedStudents.length,"/",o.totalCapacity,")"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4 max-h-60 overflow-y-auto",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:o.assignedStudents.map((ut,_t)=>{if(!ut.studentId)return a.jsx("div",{className:"bg-white p-3 rounded border text-sm flex justify-between items-center",children:a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-red-500",children:"Invalid Student Record"}),a.jsx("p",{className:"text-gray-500",children:"Student data missing"})]})},_t);const qt=De.find(Ft=>(Ft.studentId?._id||Ft.studentId)===(ut.studentId._id||ut.studentId));return a.jsxs("div",{className:"bg-white p-3 rounded border text-sm flex justify-between items-center",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:ut.studentId.name||"Unknown Student"}),a.jsxs("p",{className:"text-gray-500",children:["Roll: ",ut.studentId.rollNumber||"N/A"]}),a.jsxs("p",{className:"text-gray-500",children:["Class:"," ",Fe(ut.studentId?.classId,ut.studentId?.class)]}),a.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${qt?.paymentStatus==="completed"?"bg-green-100 text-green-800":qt?.paymentStatus==="partial"?"bg-yellow-100 text-yellow-800":qt?.paymentStatus==="pending"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:qt?.paymentStatus?.toUpperCase()||"NO RECORD"}),qt&&a.jsxs("span",{className:"text-xs text-gray-600",children:["",qt.paidAmount||0,"/",qt.totalAmount||0]})]}),a.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:[a.jsxs("p",{children:["Pickup:"," ",o.routeStops?.find(Ft=>Ft._id===ut.pickupStop)?.stopName||"N/A"]}),a.jsxs("p",{children:["Dropoff:"," ",o.routeStops?.find(Ft=>Ft._id===ut.dropoffStop)?.stopName||"N/A"]})]})]}),a.jsx("button",{onClick:()=>Ke(ut.studentId._id),className:"text-red-500 hover:text-red-700 p-1 ml-2",title:"Remove Student",children:a.jsx(Lre,{className:"w-4 h-4"})})]},ut.studentId._id||_t)})})})]})]})}return s==="assign"?a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:["Assign Students to ",o?.busNumber]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Current: ",o?.assignedStudents?.length||0,"/",o?.totalCapacity," students"]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Yearly Fee: ",o?.yearlyFee||0," per student"]}),a.jsx("p",{className:"text-sm text-orange-600 font-medium mt-1",children:"Note: This creates payment records for students. Actual payments are handled by students/parents."}),o?.availableSeats<=0&&a.jsx("p",{className:"text-sm text-red-600 font-semibold mt-2",children:" No seats available for new assignments"})]}),y.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ra,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No available students to assign"})]}):o?.availableSeats<=0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ga,{className:"w-12 h-12 mx-auto text-red-300 mb-4"}),a.jsx("p",{className:"text-red-600 font-semibold",children:"Transport is at full capacity"}),a.jsx("p",{className:"text-gray-500",children:"No seats available for new students"})]}):a.jsx(a.Fragment,{children:a.jsxs("div",{className:"mb-4",children:[a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Select students to assign (",y.length," ","available):"]}),a.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-lg",children:y.map(De=>a.jsx("div",{className:"p-3 hover:bg-gray-50 border-b last:border-b-0",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:De.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Roll: ",De.rollNumber," | Class:"," ",Fe(De.classId,De.class)]}),De.phone&&a.jsxs("p",{className:"text-sm text-gray-500",children:["Phone: ",De.phone]})]}),a.jsxs("div",{className:"ml-4 space-y-2",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("select",{className:"px-2 py-1 border rounded text-xs",id:`pickup-${De._id}`,children:[a.jsx("option",{value:"",children:"Select Pickup"}),o?.routeStops?.map(ut=>a.jsxs("option",{value:ut._id,children:[ut.stopName," (",ut.stopTime,")"]},ut._id))]}),a.jsxs("select",{className:"px-2 py-1 border rounded text-xs",id:`dropoff-${De._id}`,children:[a.jsx("option",{value:"",children:"Select Dropoff"}),o?.routeStops?.map(ut=>a.jsxs("option",{value:ut._id,children:[ut.stopName," (",ut.stopTime,")"]},ut._id))]})]}),a.jsx("button",{onClick:()=>{const ut=document.getElementById(`pickup-${De._id}`),_t=document.getElementById(`dropoff-${De._id}`);if(!ut?.value||!_t?.value){xr.error("Please select both pickup and dropoff stops");return}je(De._id,ut.value,_t.value)},disabled:j||o?.availableSeats<=0,className:"w-full px-3 py-1 text-white rounded text-xs disabled:opacity-50",style:{backgroundColor:o?.availableSeats>0?z:"#ccc"},children:j?a.jsx(an,{className:"w-3 h-3 animate-spin"}):o?.availableSeats>0?"Assign & Create Payment Record":"No Seats"})]})]})},De._id))})]})})]}):a.jsxs("form",{onSubmit:Me,className:"p-6 space-y-4",children:[T&&a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4 flex items-center space-x-2",children:[a.jsx(ga,{className:"w-5 h-5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Error:"}),a.jsx("div",{className:"text-sm",children:T})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("input",{type:"text",name:"busNumber",placeholder:"Bus Number *",value:le.busNumber,onChange:Ze,className:`w-full px-3 py-2 border ${k.busNumber?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:k.busNumber?"red":z,outlineColor:z},required:!0}),k.busNumber&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.busNumber})]}),a.jsxs("div",{children:[a.jsx("input",{type:"text",name:"route",placeholder:"Route Code *",value:le.route,onChange:Ze,className:`w-full px-3 py-2 border ${k.route?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:k.route?"red":z,outlineColor:z},required:!0}),k.route&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.route})]}),a.jsxs("div",{children:[a.jsx("input",{type:"text",name:"routeName",placeholder:"Route Name *",value:le.routeName,onChange:Ze,className:`w-full px-3 py-2 border ${k.routeName?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:k.routeName?"red":z,outlineColor:z},required:!0}),k.routeName&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.routeName})]}),a.jsx("div",{children:a.jsx("select",{name:"transportType",value:le.transportType,onChange:Ze,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:z,outlineColor:z},children:YAe.map(De=>a.jsx("option",{value:De,children:De},De))})}),a.jsxs("div",{children:[a.jsx("input",{type:"text",name:"driverName",placeholder:"Driver Name *",value:le.driverName,onChange:Ze,className:`w-full px-3 py-2 border ${k.driverName?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:k.driverName?"red":z,outlineColor:z},required:!0}),k.driverName&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.driverName})]}),a.jsxs("div",{children:[a.jsx("input",{type:"tel",name:"driverPhone",placeholder:"Driver Phone *",value:le.driverPhone,onChange:Ze,className:`w-full px-3 py-2 border ${k.driverPhone?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:k.driverPhone?"red":z,outlineColor:z},required:!0}),k.driverPhone&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.driverPhone})]}),a.jsx("div",{children:a.jsx("input",{type:"text",name:"conductorName",placeholder:"Conductor Name (optional)",value:le.conductorName,onChange:Ze,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:z,outlineColor:z}})}),a.jsxs("div",{children:[a.jsx("input",{type:"tel",name:"conductorPhone",placeholder:"Conductor Phone (optional)",value:le.conductorPhone,onChange:Ze,className:`w-full px-3 py-2 border ${k.conductorPhone?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:k.conductorPhone?"red":z,outlineColor:z}}),k.conductorPhone&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.conductorPhone})]}),a.jsxs("div",{children:[a.jsx("input",{type:"time",name:"startTime",placeholder:"Start Time *",value:le.startTime,onChange:Ze,className:`w-full px-3 py-2 border ${k.startTime?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:k.startTime?"red":z,outlineColor:z},required:!0}),k.startTime&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.startTime})]}),a.jsxs("div",{children:[a.jsx("input",{type:"time",name:"endTime",placeholder:"End Time *",value:le.endTime,onChange:Ze,className:`w-full px-3 py-2 border ${k.endTime?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:k.endTime?"red":z,outlineColor:z},required:!0}),k.endTime&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.endTime})]}),a.jsxs("div",{children:[a.jsx("input",{type:"number",name:"totalCapacity",placeholder:"Total Capacity *",value:le.totalCapacity,onChange:Ze,min:"1",max:"100",className:`w-full px-3 py-2 border ${k.totalCapacity?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:k.totalCapacity?"red":z,outlineColor:z},required:!0}),k.totalCapacity&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.totalCapacity})]}),a.jsxs("div",{children:[a.jsx("input",{type:"number",name:"yearlyFee",placeholder:"Yearly Fee () *",value:le.yearlyFee,onChange:Ze,min:"0",step:"0.01",className:`w-full px-3 py-2 border ${k.yearlyFee?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:k.yearlyFee?"red":z,outlineColor:z},required:!0}),k.yearlyFee&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.yearlyFee})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operating Days *"}),a.jsx("div",{className:"grid grid-cols-4 md:grid-cols-7 gap-2",children:WAe.map(De=>a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:le.operatingDays.includes(De),onChange:()=>Pe(De),className:"rounded"}),a.jsx("span",{className:"text-sm",children:De.slice(0,3)})]},De))}),k.operatingDays&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.operatingDays})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Route Stops"}),a.jsxs("button",{type:"button",onClick:Ge,className:"text-sm px-3 py-1 rounded-lg flex items-center space-x-1",style:{backgroundColor:`${z}20`,color:z},children:[a.jsx(Si,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Stop"})]})]}),a.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:ee.map((De,ut)=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 p-3 border rounded-lg",children:[a.jsx("input",{type:"text",placeholder:"Stop Name *",value:De.stopName,onChange:_t=>ot(ut,"stopName",_t.target.value),className:`px-3 py-2 border ${k[`stop_${ut}_name`]?"border-red-500":"border-gray-300"} rounded focus:outline-none focus:ring-1`,style:{borderColor:k[`stop_${ut}_name`]?"red":z}}),a.jsx("input",{type:"time",placeholder:"Stop Time *",value:De.stopTime,onChange:_t=>ot(ut,"stopTime",_t.target.value),className:`px-3 py-2 border ${k[`stop_${ut}_time`]?"border-red-500":"border-gray-300"} rounded focus:outline-none focus:ring-1`,style:{borderColor:k[`stop_${ut}_time`]?"red":z}}),a.jsx("input",{type:"text",placeholder:"Landmark",value:De.landmark,onChange:_t=>ot(ut,"landmark",_t.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1",style:{borderColor:z}}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:["#",De.stopOrder]}),ee.length>1&&a.jsx("button",{type:"button",onClick:()=>lt(ut),className:"text-red-500 hover:text-red-700 p-1",children:a.jsx(Lr,{className:"w-4 h-4"})})]}),k[`stop_${ut}_name`]&&a.jsx("p",{className:"text-red-500 text-xs col-span-full",children:k[`stop_${ut}_name`]}),k[`stop_${ut}_time`]&&a.jsx("p",{className:"text-red-500 text-xs col-span-full",children:k[`stop_${ut}_time`]})]},ut))})]}),a.jsx("div",{children:a.jsx("textarea",{name:"notes",placeholder:"Additional Notes (optional)",value:le.notes,onChange:Ze,rows:3,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:z,outlineColor:z}})}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:ke,disabled:j,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:j,className:"flex-1 px-4 py-2 text-white rounded-lg disabled:opacity-50 flex items-center justify-center space-x-2",style:{backgroundColor:z},children:[j?a.jsx(an,{className:"w-4 h-4 animate-spin"}):a.jsx(td,{className:"w-4 h-4"}),a.jsxs("span",{children:[s==="edit"?"Update":"Add"," Transport"]})]})]})]})};return a.jsxs("div",{className:"space-y-6 p-6 bg-gray-50 min-h-screen",children:[U&&a.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-md",children:[a.jsx(Dl,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{className:"block sm:inline",children:U}),a.jsx("button",{onClick:()=>M(""),className:"ml-auto text-green-700 hover:text-green-900 flex-shrink-0",children:a.jsx(Lr,{className:"w-4 h-4"})})]}),T&&a.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-md",children:[a.jsx(ga,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{className:"block sm:inline",children:T}),a.jsx("button",{onClick:()=>P(""),className:"ml-auto text-red-700 hover:text-red-900 flex-shrink-0",children:a.jsx(Lr,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"text-white p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:z},children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center",children:[a.jsx(rf,{className:"mr-3"}),"Professional Transport Management System"]}),a.jsxs("p",{className:"text-white mt-1",children:["Complete transport & payment tracking system (Admin View Only - No Payment Processing)",L&&a.jsxs("span",{className:"text-white text-sm opacity-75 ml-2",children:[" School ID: ",L]})]}),a.jsxs("p",{className:"text-white text-sm opacity-75 mt-1",children:["Total Students: ",u.length," | Available:"," ",y.length," | Active Routes:"," ",c.filter(De=>De.status==="Active").length," | Revenue: ",pe.totalRevenue.toLocaleString()]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>{const De={totalTransports:pe.totalTransports,totalStudents:pe.totalStudents,totalRevenue:pe.totalRevenue,paymentBreakdown:{completed:pe.completedPayments,partial:pe.partialPayments,pending:pe.pendingPayments},occupancyRate:pe.occupancyRate};console.log("Transport Management Report:",De),xr.success("Report generated successfully!")},disabled:j||!L,className:"text-white px-4 py-2 rounded-lg flex items-center space-x-2 disabled:opacity-50 hover:bg-white hover:bg-opacity-20 transition-colors",style:{backgroundColor:`${z}60`}}),a.jsxs("button",{onClick:()=>_e("add"),disabled:j||!L,className:"text-white px-4 py-2 rounded-lg flex items-center space-x-2 disabled:opacity-50 hover:bg-white hover:bg-opacity-20 transition-colors",style:{backgroundColor:`${z}80`},children:[j?a.jsx(an,{className:"w-4 h-4 animate-spin"}):a.jsx(Si,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Transport"})]})]})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative md:col-span-2",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search by bus number, route, driver, or student name...",value:e,onChange:De=>t(De.target.value),className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 text-gray-900",style:{borderColor:z,outlineColor:z}})]}),a.jsx("div",{children:a.jsxs("select",{value:B,onChange:De=>R(De.target.value),className:"w-full px-3 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 text-gray-900",style:{borderColor:z,outlineColor:z},children:[a.jsx("option",{value:"all",children:"All Route Names"}),ct.map((De,ut)=>a.jsx("option",{value:De,children:De},ut))]})}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("select",{value:se,onChange:De=>he(De.target.value),className:"flex-1 px-3 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 text-gray-900",style:{borderColor:z,outlineColor:z},children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"Active",children:"Active"}),a.jsx("option",{value:"Inactive",children:"Inactive"}),a.jsx("option",{value:"Maintenance",children:"Maintenance"})]}),a.jsx("button",{onClick:()=>{re(),Ce()},disabled:j,className:"px-4 py-3 text-white rounded-lg disabled:opacity-50 hover:bg-white hover:bg-opacity-20 transition-colors",style:{backgroundColor:`${z}80`},children:a.jsx(ug,{className:`w-4 h-4 ${j?"animate-spin":""}`})})]})]}),a.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter Students by Payment:"}),a.jsxs("select",{value:Y,onChange:De=>ie(De.target.value),className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 text-gray-900",style:{borderColor:z,outlineColor:z},children:[a.jsx("option",{value:"all",children:"All Students"}),a.jsx("option",{value:"paid",children:"Paid Students Only"}),a.jsx("option",{value:"unpaid",children:"Unpaid Students Only"}),a.jsx("option",{value:"partial",children:"Partial Payment"})]})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",He.length," of ",c.length," ","transports"]})]})]}),Le(),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Transport Fleet & Payment Overview (",He.length,")"]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[a.jsxs("span",{children:["Total Revenue: ",pe.totalRevenue.toLocaleString()]}),a.jsxs("span",{children:["Collection Rate:"," ",pe.totalRevenue>0?(v.reduce((De,ut)=>De+(ut.paidAmount||0),0)/pe.totalRevenue*100).toFixed(1):0,"%"]}),a.jsxs("span",{children:["Occupancy: ",pe.occupancyRate.toFixed(1),"%"]})]})]})}),a.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:j?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(an,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:z}}),a.jsx("p",{className:"text-gray-500",children:"Loading transport data..."})]}):He.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(rf,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),a.jsx("p",{className:"text-gray-500",children:L?"No transport entries found matching your search.":"Please set your school ID to view transports."})]}):rt()})]}),r&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl w-full max-w-7xl max-h-[95vh] overflow-y-auto",children:[a.jsxs("div",{className:"text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10",style:{backgroundColor:z},children:[a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mr-3",style:{backgroundColor:`${z}20`},children:s==="view"?a.jsx(Hi,{style:{color:"white"}}):s==="edit"?a.jsx(_u,{style:{color:"white"}}):s==="assign"?a.jsx(d3,{style:{color:"white"}}):s==="payments"?a.jsx(I0,{style:{color:"white"}}):a.jsx(Si,{style:{color:"white"}})}),s==="view"?"Transport Details & Payment Status":s==="edit"?"Edit Transport":s==="assign"?"Assign Students (No Payment Processing)":s==="payments"?"Payment Details (View Only)":"Add New Transport"]}),a.jsx("button",{onClick:ke,className:"absolute top-4 right-4 flex items-center justify-center w-8 h-8 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:a.jsx(Lr,{size:24,style:{color:"white"}})})]}),Oe()]})})]})},JAe=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(!1),[s,i]=C.useState(null),[o,l]=C.useState([]),[c,d]=C.useState(!1),[u,h]=C.useState(""),[m,A]=C.useState({}),[y,x]=C.useState("#2563eb"),[v,b]=C.useState(null),[j,E]=C.useState({page:1,limit:10,total:0,totalPages:1}),[T,P]=C.useState({title:"",content:""}),U="https://vidyaastra.com/api",M=()=>{const B=localStorage.getItem("token");return B?{Authorization:`Bearer ${B}`}:{}},k=B=>{B.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("userRole"),localStorage.removeItem("schoolId"),window.location.href="/login"),h(B.response?.data?.message||"An unexpected error occurred"),console.error("API Error:",B)};C.useEffect(()=>{const B=localStorage.getItem("color");B&&x(B);const R=localStorage.getItem("schoolId");R?b(R):h("School ID not found. Please log in.")},[]);const Q=C.useCallback(async()=>{if(!v){d(!1);return}d(!0),h("");try{const B=await sr.get(`${U}/circulars`,{headers:M(),params:{schoolId:v,page:j.page,limit:j.limit}});B.data.success?(l(B.data.data.map(R=>({id:R._id,title:R.title,date:new Date(R.date).toISOString().split("T")[0],status:R.read?"read":"unread",description:R.content}))),E({page:B.data.page,limit:B.data.limit,total:B.data.total,totalPages:B.data.totalPages})):h("Failed to fetch circulars.")}catch(B){k(B)}finally{d(!1)}},[v,j.page,j.limit]);C.useEffect(()=>{Q()},[Q]);const z=B=>{B>=1&&B<=j.totalPages&&E(R=>({...R,page:B}))},O=B=>B==="unread"?cr("px-3 py-1 rounded-full text-xs font-medium",{backgroundColor:`${y}20`,color:y}):"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-xs font-medium",L=(B=null)=>{i(B),A({}),P(B?{title:B.title,content:B.description}:{title:"",content:""}),n(!0),h("")},V=()=>{n(!1),i(null),h(""),A({})},J=B=>{P({...T,[B.target.name]:B.target.value}),m[B.target.name]&&A(R=>({...R,[B.target.name]:""}))},ce=()=>{const B={};return T.title.trim()||(B.title="Title is required."),T.content.trim()||(B.content="Description is required."),A(B),Object.keys(B).length===0},ee=async B=>{if(B.preventDefault(),d(!0),h(""),!ce()){d(!1);return}if(!v){h("School ID is missing."),d(!1);return}try{const R={title:T.title.trim(),content:T.content.trim(),date:new Date().toISOString(),read:s?s.status==="read":!1,schoolId:v};let Y;s?Y=await sr.put(`${U}/circulars/${s.id}`,R,{headers:M()}):Y=await sr.post(`${U}/circulars`,R,{headers:M()}),Y.data.success&&(await Q(),V())}catch(R){k(R)}finally{d(!1)}},de=C.useCallback(async B=>{if(window.confirm("Are you sure you want to delete this circular?")){if(d(!0),h(""),!v){h("School ID is missing."),d(!1);return}try{(await sr.delete(`${U}/circulars/${B}`,{headers:M(),data:{schoolId:v}})).data.success&&await Q()}catch(R){k(R)}finally{d(!1)}}},[Q,v]),se=C.useCallback(async B=>{if(d(!0),h(""),!v){h("School ID is missing."),d(!1);return}try{o.find(Y=>Y.id===B)&&((await sr.put(`${U}/circulars/${B}`,{read:!0,schoolId:v},{headers:M()})).data.success?await Q():h("Failed to mark circular as read."))}catch(R){k(R)}finally{d(!1)}},[o,Q,v]),he=C.useCallback(async()=>{if(window.confirm("Are you sure you want to mark all circulars as read?")){if(d(!0),h(""),!v){h("School ID is missing."),d(!1);return}try{(await sr.put(`${U}/circulars/mark-all/read`,{schoolId:v},{headers:M()})).data.success?await Q():h("Failed to mark all circulars as read.")}catch(B){k(B)}finally{d(!1)}}},[Q,v]),fe=o.filter(B=>B.title.toLowerCase().includes(e.toLowerCase())||B.description.toLowerCase().includes(e.toLowerCase())),ve=o.filter(B=>B.status==="unread").length;return a.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6 max-w-7xl",children:[u&&a.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-red-50 border-l-4 border-red-500 text-red-700 px-6 py-4 rounded-lg shadow-lg flex items-center space-x-3 max-w-lg w-full",children:[a.jsx(ga,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm",children:u}),a.jsx("button",{onClick:()=>h(""),className:"ml-auto text-red-700 hover:text-red-900",children:a.jsx(Lr,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:cr("text-white p-8 rounded-2xl shadow-xl bg-gradient-to-r from-[color] to-[color]80"),style:{backgroundColor:y},children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(og,{className:"w-8 h-8 text-white"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:"School Circulars"}),a.jsx("p",{className:"text-white/90 mt-1 text-sm",children:"Stay updated with important announcements"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full sm:w-auto",children:[a.jsxs("button",{onClick:he,disabled:c||ve===0||!v,className:"bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white px-4 py-2 rounded-lg flex items-center space-x-2 text-sm transition-all disabled:opacity-50",children:[c?a.jsx(an,{className:"w-4 h-4 animate-spin"}):a.jsx(Hi,{className:"w-4 h-4"}),a.jsx("span",{children:"Mark All as Read"})]}),a.jsxs("button",{onClick:()=>L(),disabled:c||!v,className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white px-4 py-2 rounded-lg flex items-center space-x-2 text-sm transition-all disabled:opacity-50",children:[c?a.jsx(an,{className:"w-4 h-4 animate-spin"}):a.jsx(Si,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Circular"})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-6 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-white/90",children:"Total:"}),a.jsx("span",{className:"font-semibold text-white",children:j.total})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-white/90",children:"Unread:"}),a.jsx("span",{className:"font-semibold text-red-400",children:ve})]})]}),a.jsxs("div",{className:"mt-6 relative",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/70"}),a.jsx("input",{type:"text",placeholder:"Search circulars...",value:e,onChange:B=>t(B.target.value),className:"w-full pl-10 pr-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-white/30 text-white placeholder-white/50 transition-all"})]})]}),a.jsx("div",{className:"space-y-4",children:c&&o.length===0?a.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl shadow-lg",children:[a.jsx(an,{className:"w-10 h-10 mx-auto animate-spin mb-4",style:{color:y}}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Loading circulars..."})]}):fe.length===0?a.jsxs("div",{className:"bg-white rounded-2xl p-16 shadow-lg border border-gray-100 text-center",children:[a.jsx(og,{className:"w-16 h-16 mx-auto text-gray-200 mb-4"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"No circulars found"})]}):fe.map(B=>a.jsx("div",{className:cr("bg-white rounded-2xl p-6 shadow-lg border hover:shadow-xl transition-all duration-300",{"border-l-4":B.status==="unread"}),style:{borderColor:B.status==="unread"?y:"transparent"},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:B.title}),B.status==="unread"&&a.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:y}})]}),a.jsx("span",{className:O(B.status),children:B.status==="unread"?"Unread":"Read"}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm line-clamp-3",children:B.description}),a.jsx("div",{className:"flex items-center space-x-4 text-xs text-gray-500 mt-3",children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Jn,{className:"w-4 h-4",style:{color:y}}),a.jsx("span",{children:B.date})]})})]}),a.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[B.status==="unread"&&a.jsx("button",{onClick:()=>se(B.id),disabled:c||!v,className:"p-2 hover:bg-gray-50 rounded-lg transition-colors disabled:opacity-50",style:{color:y},title:"Mark as Read",children:a.jsx(Hi,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>L(B),disabled:c||!v,className:"p-2 hover:bg-gray-50 rounded-lg transition-colors disabled:opacity-50",style:{color:y},title:"Edit",children:a.jsx(_u,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>de(B.id),disabled:c||!v,className:"p-2 hover:bg-gray-50 rounded-lg transition-colors disabled:opacity-50",style:{color:y},title:"Delete",children:a.jsx(si,{className:"w-4 h-4"})})]})]})},B.id))}),j.totalPages>1&&a.jsxs("div",{className:"flex items-center justify-between bg-white rounded-2xl p-4 shadow-lg",children:[a.jsx("button",{onClick:()=>z(j.page-1),disabled:j.page===1||c,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50",children:a.jsx(fc,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",j.page," of ",j.totalPages," |"," ",j.total," circulars"]}),a.jsx("button",{onClick:()=>z(j.page+1),disabled:j.page===j.totalPages||c,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50",children:a.jsx(Al,{className:"w-5 h-5"})})]}),r&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl",children:[a.jsxs("div",{className:cr("text-white p-6 rounded-t-2xl bg-gradient-to-r from-[color] to-[color]80 flex justify-between items-center"),style:{backgroundColor:y},children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:s?"Edit Circular":"Add New Circular"}),a.jsx("button",{onClick:V,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:a.jsx(Lr,{size:24,className:"text-white"})})]}),a.jsxs("form",{onSubmit:ee,className:"p-6 space-y-5",children:[u&&a.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-lg",children:[a.jsx("div",{className:"font-medium text-sm",children:"Error:"}),a.jsx("div",{className:"text-xs",children:u})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),a.jsx("input",{type:"text",id:"title",name:"title",value:T.title,onChange:J,placeholder:"Enter circular title...",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 text-gray-900 placeholder-gray-400 transition-all ${m.title?"border-red-500":"border-gray-200"}`,style:{focusRingColor:y},required:!0}),m.title&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.title})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),a.jsx("textarea",{id:"content",name:"content",value:T.content,onChange:J,placeholder:"Enter circular description...",rows:"6",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 text-gray-900 placeholder-gray-400 transition-all ${m.content?"border-red-500":"border-gray-200"}`,style:{focusRingColor:y},required:!0}),m.content&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.content})]}),a.jsxs("div",{className:"flex space-x-3 pt-3",children:[a.jsx("button",{type:"button",onClick:V,disabled:c,className:"flex-1 px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 transition-all",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:c||!v,className:"flex-1 px-4 py-2 text-white rounded-lg disabled:opacity-50 flex items-center justify-center space-x-2 transition-all bg-gradient-to-r from-[color] to-[color]80",style:{backgroundColor:y},children:[c?a.jsx(an,{className:"w-4 h-4 animate-spin"}):a.jsx(td,{className:"w-4 h-4"}),a.jsxs("span",{children:[c?"Saving...":s?"Update":"Save"," ","Circular"]})]})]})]})]})})]})},ZAe=()=>{const[e,t]=C.useState(!1),[r,n]=C.useState(null),[s,i]=C.useState([]),[o,l]=C.useState(!1),[c,d]=C.useState(""),[u,h]=C.useState(null),m=localStorage.getItem("color")||"#2563eb",A="https://vidyaastra.com/api";C.useEffect(()=>{if(typeof window<"u"){const U=localStorage.getItem("schoolId");h(U),U||d("School ID is missing. Please set your school ID.")}},[]);const y=()=>{const U=localStorage.getItem("token");return U?{Authorization:`Bearer ${U}`}:{}},x=U=>{U.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("userRole"),window.location.href="/login"),d(U.response?.data?.message||"An unexpected error occurred"),console.error("API Error:",U)},v=async()=>{if(!u){d("School ID is required to fetch diary entries."),l(!1);return}l(!0),d("");try{const U=localStorage.getItem("userId"),M=await sr.get(`${A}/diary`,{headers:y(),params:{schoolId:u,studentId:U}});M.data.success?i(M.data.data.map(k=>({id:k._id,title:k.title,date:k.date,content:k.content,category:k.category==="Academics"?"Academic":k.category==="Personal"?"Personal":k.category==="Other"&&(k.originalCategory==="Sports"||k.originalCategory==="Projects")?k.originalCategory:"Other"}))):d("Failed to fetch diary entries.")}catch(U){x(U)}finally{l(!1)}};C.useEffect(()=>{u&&v()},[u]);const b=U=>{switch(U){case"Academic":return cr("px-3 py-1 rounded-full text-xs font-medium",{backgroundColor:`${m}20`,color:m});case"Personal":return"bg-orange-100 text-orange-700 px-3 py-1 rounded-full text-xs font-medium";case"Sports":return"bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-medium";case"Projects":return"bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-xs font-medium";default:return"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-xs font-medium"}},j=(U=null)=>{n(U),t(!0),d("")},E=()=>{t(!1),n(null),d("")},T=async U=>{if(!u){d("School ID is required to delete a diary entry."),l(!1);return}if(window.confirm("Delete this diary entry?")){l(!0),d("");try{(await sr.delete(`${A}/diary/${U}`,{headers:y(),data:{schoolId:u}})).data.success&&await v()}catch(M){x(M)}finally{l(!1)}}},P=U=>new Date(U).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"});return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("div",{className:cr("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:m},children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(qA,{className:"w-6 h-6",style:{color:"white"}}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:"My Diary"})]})}),a.jsx("p",{className:"text-white mt-2",children:"Personal notes and thoughts"})]}),c&&a.jsx("div",{className:"fixed top-4 left-4 z-50 p-4 rounded-lg shadow-lg bg-red-500 text-white transition-all duration-300",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Lr,{className:"w-4 h-4"}),a.jsx("span",{children:c}),a.jsx("button",{onClick:()=>d(""),className:"text-white hover:text-gray-200 ml-2",children:a.jsx(Lr,{className:"w-4 h-4"})})]})}),a.jsx("div",{className:"p-6 overflow-x-auto",children:o&&s.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[a.jsx(an,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:m}}),a.jsx("p",{className:"text-gray-500",children:"Loading diary entries..."})]}):s.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[a.jsx(qA,{className:"w-16 h-16 mx-auto mb-4",style:{color:m}}),a.jsx("p",{className:"text-gray-500 text-lg",children:"No diary entries yet"}),a.jsx("p",{className:"text-gray-400",children:u?"No entries available":"Please set your school ID to view entries"})]}):a.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Title"}),a.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Date"}),a.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Content"}),a.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Category"}),a.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:s.map(U=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"py-4 px-4 font-medium text-gray-900",children:U.title}),a.jsx("td",{className:"py-4 px-4 text-gray-600",children:P(U.date)}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("div",{className:"line-clamp-2 max-w-prose text-gray-600",children:U.content})}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("span",{className:b(U.category),children:U.category})}),a.jsx("td",{className:"py-4 px-4",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>j(U),disabled:o||!u,className:cr("p-2 rounded-lg transition-colors disabled:opacity-50",{"hover:bg-gray-100":!o&&u}),style:{color:m},title:"View",children:a.jsx(qA,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>T(U.id),disabled:o||!u,className:cr("p-2 rounded-lg transition-colors disabled:opacity-50",{"hover:bg-gray-100":!o&&u}),style:{color:m},title:"Delete",children:a.jsx(si,{className:"w-4 h-4"})})]})})]},U.id))})]})})}),e&&r&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:cr("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:m},children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"View Diary Entry"}),a.jsx("button",{onClick:E,className:"absolute top-4 right-4 flex items-center justify-center w-8 h-8 hover:bg-gray-100 rounded-full",style:{color:m},children:a.jsx(Lr,{size:24})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[c&&a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[a.jsx("div",{className:"font-medium",children:"Error:"}),a.jsx("div",{className:"text-sm",children:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),a.jsx("div",{className:"w-full px-4 py-3 border rounded-lg bg-gray-50 text-gray-700",children:r.title})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),a.jsx("div",{className:"w-full px-4 py-3 border rounded-lg bg-gray-50 text-gray-700",children:r.category})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),a.jsx("div",{className:"w-full px-4 py-3 border rounded-lg bg-gray-50 text-gray-700 min-h-[150px]",children:r.content})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),a.jsx("div",{className:"w-full px-4 py-3 border rounded-lg bg-gray-50 text-gray-700",children:P(r.date)})]}),a.jsx("div",{className:"pt-4",children:a.jsx("button",{type:"button",onClick:E,disabled:o,className:"w-full px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium disabled:opacity-50",children:"Close"})})]})]})})]})},eme=()=>{const[e,t]=C.useState(null),[r,n]=C.useState("#2563eb");C.useEffect(()=>{try{const He=localStorage.getItem("schoolId"),ct=localStorage.getItem("color");t(He),n(ct||"#2563eb"),console.log("Initialized with schoolId:",He)}catch(He){console.error("Error accessing localStorage:",He)}},[]);const s="https://vidyaastra.com/api/events",[i,o]=C.useState(!1),[l,c]=C.useState(!1),[d,u]=C.useState(null),[h,m]=C.useState(null),[A,y]=C.useState([]),[x,v]=C.useState(!1),[b,j]=C.useState(""),[E,T]=C.useState(""),[P,U]=C.useState("all"),[M,k]=C.useState({}),[Q,z]=C.useState(1),[O]=C.useState(10),[L,V]=C.useState({title:"",date:"",startTime:"",endTime:"",location:"",category:"Academic",description:""}),J=["Academic","Sports","Cultural","Meeting","Other"],ce={Academic:"Academics",Sports:"Sports",Cultural:"Cultural",Meeting:"Meeting",Other:"Other"};C.useEffect(()=>{e?(console.log("School ID found, fetching events..."),ee()):console.log("No school ID found")},[e]);const ee=async()=>{if(e)try{v(!0),j(""),console.log("Fetching events for school:",e);const He=await fetch(`${s}?schoolId=${e}&page=1&limit=1000`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});console.log("Response status:",He.status);const ct=await He.json();if(console.log("Response data:",ct),He.ok){let _e=[];if(Array.isArray(ct))_e=ct;else if(ct.success&&Array.isArray(ct.data))_e=ct.data;else if(ct.data&&Array.isArray(ct.data))_e=ct.data;else{console.error("Unexpected data format:",ct),j("Unexpected response format from server");return}const ke=_e.map(Ze=>{let Pe="",ot="";if(Ze.time&&Ze.time.includes(" - ")){const Ge=Ze.time.split(" - ");Pe=Ge[0]||"",ot=Ge[1]||""}else Pe=Ze.time||"",ot="";return{id:Ze._id,title:Ze.title,date:Ze.date,startTime:Pe,endTime:ot,location:Ze.location,category:Ze.category==="Academics"?"Academic":Ze.category,description:Ze.description||"",icon:le(Ze.category==="Academics"?"Academic":Ze.category)}});y(ke),console.log(`Loaded ${ke.length} events`)}else j(ct.message||"Failed to fetch events")}catch(He){console.error("Error fetching events:",He),j("Failed to fetch events: "+He.message)}finally{v(!1)}},de=He=>/^[A-Za-z\s]*$/.test(He),se=()=>{const He={};if(L.title.trim()?de(L.title)?L.title.trim().length<3?He.title="Title must be at least 3 characters long":L.title.trim().length>200&&(He.title="Title must be less than 200 characters"):He.title="Title should contain only alphabets and spaces":He.title="Event title is required",!L.date)He.date="Date is required";else{const ct=new Date(L.date),_e=new Date;_e.setHours(0,0,0,0),ct<_e&&(He.date="Event date cannot be in the past")}return L.startTime||(He.startTime="Start time is required"),L.endTime||(He.endTime="End time is required"),L.startTime&&L.endTime&&L.startTime>=L.endTime&&(He.endTime="End time must be after start time"),L.location.trim()?L.location.trim().length<2?He.location="Location must be at least 2 characters long":L.location.trim().length>200&&(He.location="Location must be less than 200 characters"):He.location="Location is required",L.description&&L.description.length>1e3&&(He.description="Description must be less than 1000 characters"),k(He),Object.keys(He).length===0},he=He=>{const{name:ct,value:_e}=He.target;ct==="title"?(_e===""||de(_e))&&V(ke=>({...ke,[ct]:_e})):V(ke=>({...ke,[ct]:_e})),M[ct]&&k(ke=>({...ke,[ct]:""}))},fe=async He=>{if(He.preventDefault(),!e){xr.error("Error: School ID not found. Please login again.");return}if(!se()){xr.error("Please fix the form errors before submitting.");return}j("");try{v(!0);const ct={title:L.title.trim(),date:L.date,time:`${L.startTime} - ${L.endTime}`,location:L.location.trim(),description:L.description.trim(),category:ce[L.category],schoolId:e};console.log("Submitting event data:",ct);const _e=h?`${s}/${h.id}`:s,Ze=await fetch(_e,{method:h?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ct)});console.log("Submit response status:",Ze.status);const Pe=await Ze.json();console.log("Submit response data:",Pe),Ze.ok&&(Pe.success||Pe._id)?(xr.success(h?"Event updated successfully!":"Event created successfully!"),await ee(),ie()):xr.error(Pe.message||Pe.error||"Failed to save event")}catch(ct){console.error("Submit error:",ct),xr.error("Failed to save event: "+ct.message)}finally{v(!1)}},ve=async He=>{if(window.confirm("Are you sure you want to delete this event?"))try{v(!0),j(""),console.log("Deleting event:",He);const ct=await fetch(`${s}/${He}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:e})});console.log("Delete response status:",ct.status);const _e=await ct.json();console.log("Delete response data:",_e),ct.ok&&(_e.success||_e.message)?(xr.success("Event deleted successfully!"),await ee()):xr.error(_e.message||_e.error||"Failed to delete event")}catch(ct){console.error("Delete error:",ct),xr.error("Failed to delete event: "+ct.message)}finally{v(!1)}},B=He=>{console.log("Opening view modal for event:",He),u(He),c(!0)},R=()=>{c(!1),u(null)},Y=(He=null)=>{m(He),k({}),V(He?{title:He.title,date:He.date,startTime:He.startTime,endTime:He.endTime,location:He.location,category:He.category,description:He.description}:{title:"",date:"",startTime:"",endTime:"",location:"",category:"Academic",description:""}),o(!0),j("")},ie=()=>{o(!1),m(null),k({}),j("")},ge=He=>{switch(He){case"Sports":return"bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs font-medium";case"Academic":return"px-3 py-1 rounded-full text-xs font-medium text-white";case"Cultural":return"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-xs font-medium";case"Meeting":return"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs font-medium";case"Other":return"bg-gray-100 text-gray-800 px-3 py-1 rounded-full text-xs font-medium";default:return"bg-gray-100 text-gray-800 px-3 py-1 rounded-full text-xs font-medium"}},ye=He=>{switch(He){case"Sports":return"bg-green-100";case"Academic":return"bg-blue-100";case"Cultural":return"bg-purple-100";case"Meeting":return"bg-blue-100";case"Other":return"bg-gray-100";default:return"bg-gray-100"}},pe=He=>new Date(He).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),Z=He=>{if(!He)return"";const[ct,_e]=He.split(":"),ke=parseInt(ct),Ze=ke>=12?"PM":"AM";return`${ke%12||12}:${_e} ${Ze}`},le=He=>{switch(He){case"Sports":return"";case"Academic":return"";case"Cultural":return"";case"Meeting":return"";case"Other":return"";default:return""}},te=A.filter(He=>{const ct=He.title.toLowerCase().includes(E.toLowerCase())||He.location.toLowerCase().includes(E.toLowerCase())||He.description.toLowerCase().includes(E.toLowerCase()),_e=P==="all"||He.category===P;return ct&&_e}),Ne=Q*O,Fe=Ne-O,be=te.slice(Fe,Ne),re=Math.ceil(te.length/O),Ce=()=>{Q>1&&z(He=>He-1)},st=()=>{Q<re&&z(He=>He+1)},et=He=>{z(He)};return e?a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"text-white p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:r},children:a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4",children:[a.jsxs("div",{className:"mb-4 md:mb-0",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"School Events"}),a.jsxs("div",{className:"text-white text-sm opacity-75 mt-1",children:["School ID: ",e," | ",A.length," events scheduled"]})]}),a.jsxs("button",{onClick:()=>Y(),disabled:x,className:"text-white px-6 py-2 rounded-lg flex items-center hover:opacity-90 transition-opacity disabled:opacity-50",style:{backgroundColor:`${r}80`},children:[x?a.jsx(an,{className:"mr-2 animate-spin"}):a.jsx(Si,{className:"mr-2"}),"Add Event"]})]})})}),a.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[b&&a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6 flex justify-between items-center",children:[a.jsx("span",{children:b}),a.jsx("button",{onClick:()=>j(""),className:"text-red-500 hover:text-red-700 font-bold",children:""})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Va,{className:"absolute left-3 top-3 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search events...",value:E,onChange:He=>T(He.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Fu,{className:"absolute left-3 top-3 text-gray-400"}),a.jsxs("select",{value:P,onChange:He=>U(He.target.value),className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none bg-white",children:[a.jsx("option",{value:"all",children:"All Categories"}),J.map(He=>a.jsx("option",{value:He,children:He},He))]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[x&&A.length===0&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(an,{className:"animate-spin mx-auto mb-4",size:32,style:{color:r}}),a.jsx("p",{className:"text-gray-600",children:"Loading events..."})]}),!x&&te.length===0&&a.jsxs("div",{className:"p-8 text-center text-gray-500",children:[a.jsx(Jn,{className:"mx-auto mb-4",size:48,style:{color:r}}),a.jsx("div",{className:"text-lg mb-2",children:E||P!=="all"?"No events match your filters":"No events scheduled"}),a.jsx("div",{className:"text-sm",children:E||P!=="all"?"Try adjusting your search terms or filters":"Click 'Add Event' to create your first event"})]}),!x&&te.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Event"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:be.map(He=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${ye(He.category)}`,children:a.jsx("span",{className:"text-xl",children:He.icon})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:He.title}),a.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:He.description})]})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[a.jsx(Jn,{className:"mr-2",style:{color:r}}),pe(He.date)]}),a.jsx("div",{className:"text-sm text-gray-500",children:He.startTime&&He.endTime?`${Z(He.startTime)} - ${Z(He.endTime)}`:He.startTime||"Time not specified"})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[a.jsx(Kx,{className:"w-4 h-4",style:{color:r}}),a.jsx("span",{className:"max-w-xs truncate",children:He.location})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:ge(He.category),style:He.category==="Academic"?{backgroundColor:r}:{},children:He.category})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[a.jsx("button",{onClick:()=>B(He),className:"text-blue-600 hover:text-blue-900 mr-4",disabled:x,children:a.jsx(Hi,{})}),a.jsx("button",{onClick:()=>Y(He),className:"text-indigo-600 hover:text-indigo-900 mr-4",disabled:x,children:a.jsx(_u,{})}),a.jsx("button",{onClick:()=>ve(He.id),className:"text-red-600 hover:text-red-900",disabled:x,children:a.jsx(si,{})})]})]},He.id))})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center px-6 py-4 border-t border-gray-200",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-2 sm:mb-0",children:["Page ",Q," of ",re]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:Ce,disabled:Q===1,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100",children:a.jsx(fc,{})}),[...Array(re)].map((He,ct)=>{const _e=ct+1;return a.jsx("button",{onClick:()=>et(_e),className:`px-3 py-1 rounded-lg border border-gray-300 ${Q===_e?"bg-blue-500 text-white":"hover:bg-gray-100"}`,children:_e},_e)}),a.jsx("button",{onClick:st,disabled:Q===re,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100",children:a.jsx(Al,{})})]})]})]})]})]}),i&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"text-white p-4 rounded-t-lg flex justify-between items-center",style:{backgroundColor:r},children:[a.jsx("h2",{className:"text-xl font-bold",children:h?"Edit Event":"Add Event"}),a.jsx("button",{onClick:ie,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:a.jsx(Lr,{size:24})})]}),a.jsxs("form",{onSubmit:fe,className:"p-6",children:[b&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-3 py-2 rounded mb-4 text-sm",children:b}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Title *"}),a.jsx("input",{type:"text",name:"title",value:L.title,onChange:he,className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${M.title?"border-red-500":"border-gray-300"}`,placeholder:"Enter event title (letters only)...",maxLength:200}),M.title&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:M.title})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date *"}),a.jsx("input",{type:"date",name:"date",value:L.date,onChange:he,min:new Date().toISOString().split("T")[0],className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${M.date?"border-red-500":"border-gray-300"}`}),M.date&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:M.date})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),a.jsx("select",{name:"category",value:L.category,onChange:he,className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:J.map(He=>a.jsx("option",{value:He,children:He},He))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time *"}),a.jsx("input",{type:"time",name:"startTime",value:L.startTime,onChange:he,className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${M.startTime?"border-red-500":"border-gray-300"}`}),M.startTime&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:M.startTime})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time *"}),a.jsx("input",{type:"time",name:"endTime",value:L.endTime,onChange:he,className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${M.endTime?"border-red-500":"border-gray-300"}`}),M.endTime&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:M.endTime})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location *"}),a.jsx("input",{type:"text",name:"location",value:L.location,onChange:he,className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${M.location?"border-red-500":"border-gray-300"}`,placeholder:"Enter location...",maxLength:200}),M.location&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:M.location})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block macro text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{name:"description",value:L.description,onChange:he,rows:"3",className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none ${M.description?"border-red-500":"border-gray-300"}`,placeholder:"Event description...",maxLength:1e3}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[L.description.length,"/1000 characters"]}),M.description&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:M.description})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{type:"button",onClick:ie,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",disabled:x,children:"Cancel"}),a.jsxs("button",{type:"submit",className:"text-white px-6 py-2 rounded-lg flex items-center hover:opacity-90",style:{backgroundColor:r},disabled:x,children:[x?a.jsx(an,{className:"mr-2 animate-spin"}):a.jsx(td,{className:"mr-2"}),h?"Update":"Save"]})]})]})]})}),l&&d&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"text-white p-4 rounded-t-lg flex justify-between items-center",style:{backgroundColor:r},children:[a.jsx("h2",{className:"text-xl font-bold",children:"Event Details"}),a.jsx("button",{onClick:R,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:a.jsx(Lr,{size:24})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${ye(d.category)}`,children:a.jsx("span",{className:"text-xl",children:d.icon})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:d.title}),a.jsx("span",{className:ge(d.category),style:d.category==="Academic"?{backgroundColor:r}:{},children:d.category})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center text-gray-700",children:[a.jsx(Jn,{className:"mr-2",style:{color:r}}),a.jsx("span",{children:pe(d.date)})]}),a.jsxs("div",{className:"flex items-center text-gray-700",children:[a.jsx(es,{className:"mr-2",style:{color:r}}),a.jsx("span",{children:d.startTime&&d.endTime?`${Z(d.startTime)} - ${Z(d.endTime)}`:d.startTime||"Time not specified"})]}),a.jsxs("div",{className:"flex items-center text-gray-700",children:[a.jsx(Kx,{className:"mr-2",style:{color:r}}),a.jsx("span",{children:d.location})]}),a.jsxs("div",{className:"text-gray-700",children:[a.jsx("p",{className:"font-medium mb-1",children:"Description:"}),a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:d.description||"No description provided"})]})]}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx("button",{onClick:R,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Close"})})]})]})}),a.jsx(wj,{})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-md",children:[a.jsx("div",{className:"text-red-500 text-xl mb-4",children:"School ID not found"}),a.jsx("div",{className:"text-gray-600 mb-4",children:"Please login again to access the events system."}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Refresh Page"})]})})},Z1="https://vidyaastra.com/api",tme=()=>{const[e,t]=C.useState(""),[r,n]=C.useState("all"),[s,i]=C.useState("all"),[o,l]=C.useState(""),[c,d]=C.useState(""),[u,h]=C.useState(!1),[m,A]=C.useState(!1),[y,x]=C.useState(null),[v,b]=C.useState(null),[j,E]=C.useState({upcoming:{data:[],total:0,page:1,totalPages:0},past:{data:[],total:0,page:1,totalPages:1}}),[T,P]=C.useState([]),[U,M]=C.useState(!1),[k,Q]=C.useState(""),[z,O]=C.useState(!1),[L,V]=C.useState(""),[J,ce]=C.useState("#2563eb"),[ee,de]=C.useState(null),[se,he]=C.useState({upcomingPage:1,pastPage:1,limit:10}),[fe,ve]=C.useState({name:"",date:"",color:"#667eea",type:"upcoming",classId:""}),[B,R]=C.useState({}),Y=C.useMemo(()=>T.map(je=>({_id:je._id,className:je.className||`Class ${je._id}`,section:je.section||"",displayName:`${je.className||`Class ${je._id}`}${je.section?` ${je.section}`:""}`.trim()})),[T]),ie=C.useMemo(()=>[...new Set(Y.map(je=>je.className))].sort(),[Y]),ge=C.useMemo(()=>[...new Set(Y.filter(je=>je.className===o).map(je=>je.section).filter(Boolean))].sort(),[Y,o]),ye=C.useCallback(async()=>{if(ee)try{M(!0),Q("");const je=await sr.get(`${Z1}/class?schoolId=${ee}`,{headers:pe()});je.data.success&&Array.isArray(je.data.data)?P(je.data.data):(P([]),Q("No classes found"))}catch(je){P([]),Q("Failed to load classes: "+je.message),Z(je)}finally{M(!1)}},[ee]),pe=()=>{const je=localStorage.getItem("token");return je?{Authorization:`Bearer ${je}`}:{}},Z=je=>{je.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("schoolId"),window.location.href="/login"),V(je.response?.data?.message||je.message||"An unexpected error occurred"),console.error("API Error:",je)},le=C.useCallback(async(je={})=>{if(!ee){V("School ID is required to fetch birthdays."),O(!1);return}O(!0),V("");try{const Ke={schoolId:ee,upcomingPage:je.upcomingPage||se.upcomingPage,pastPage:je.pastPage||se.pastPage,limit:se.limit};o&&(Ke.className=o),c&&(Ke.section=c);const Le=await sr.get(`${Z1}/birthdays`,{headers:pe(),params:Ke});Le.data&&Le.data.upcoming&&Le.data.past?E({upcoming:{data:Le.data.upcoming.data.map(te),total:Le.data.upcoming.total,page:Le.data.upcoming.page,totalPages:Le.data.upcoming.totalPages},past:{data:Le.data.past.data.map(te),total:Le.data.past.total,page:Le.data.past.page,totalPages:Le.data.past.totalPages}}):V("Received unexpected data format from server for birthdays.")}catch(Ke){Z(Ke)}finally{O(!1)}},[ee,se.upcomingPage,se.pastPage,se.limit,o,c]),te=je=>({id:je._id,name:je.name,date:je.date,color:je.color,type:je.type,role:je.role,classId:je.classId?._id||je.classId,className:je.classId?.className||"",section:je.classId?.section||""});C.useEffect(()=>{const je=localStorage.getItem("color");je&&ce(je);const Ke=localStorage.getItem("schoolId");Ke?de(Ke):V("School ID not found in local storage. Please log in to access birthday data.")},[]),C.useEffect(()=>{ee&&(ye(),le())},[ye,le,ee]),C.useEffect(()=>{k&&V(k)},[k]);const Ne=C.useCallback(je=>{if(!je)return"Unknown Class";const Ke=Y.find(Le=>Le._id===(je._id||je));return Ke?Ke.displayName:"Unknown Class"},[Y]),Fe=(je,Ke=new Date().getFullYear())=>{try{const Le=new Date(`${je}, ${Ke}`);if(isNaN(Le.getTime()))throw new Error("Invalid date format");return Le}catch{return null}},be=je=>{const Ke=new Date,Le=Fe(je,Ke.getFullYear());if(!Le)return"Unknown";let rt=Ke.getFullYear()-Le.getFullYear();const Oe=Ke.getMonth()-Le.getMonth();return(Oe<0||Oe===0&&Ke.getDate()<Le.getDate())&&rt--,rt>=0?rt:"Unknown"},re=je=>{const Ke=new Date;Ke.setHours(0,0,0,0);const Le=Fe(je);if(!Le)return"Unknown";const rt=Ke.getFullYear(),Oe=new Date(rt,Le.getMonth(),Le.getDate());Oe<Ke&&Oe.setFullYear(rt+1);const De=Oe.getTime()-Ke.getTime(),ut=Math.ceil(De/(1e3*60*60*24));return ut>=0?ut:"Unknown"},Ce=je=>{try{const[Ke,Le]=je.split(" "),rt=String(Number.parseInt(Le,10)).padStart(2,"0");return`${Ke} ${rt}`}catch{return je}},st=je=>je==="Unknown"?a.jsx("span",{className:"text-sm text-gray-600",children:"Invalid date"}):je===0?a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[a.jsx(Pm,{className:"w-3 h-3 mr-1",style:{color:J}}),"Today!"]}):je<=7?a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[a.jsx(es,{className:"w-3 h-3 mr-1",style:{color:J}}),je," days"]}):je<=30?a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[a.jsx(Jn,{className:"w-3 h-3 mr-1",style:{color:J}}),je," days"]}):a.jsxs("span",{className:"text-sm text-gray-600",children:[je," days"]}),et=C.useMemo(()=>j.upcoming.data.map(je=>({...je,className:Ne(je.classId)})).filter(je=>{const Ke=je.name.toLowerCase().includes(e.toLowerCase()),Le=Fe(je.date),rt=Le?Le.getMonth()+1:null,Oe=r==="all"||rt&&rt.toString()===r,De=re(je.date);let ut=!0;s==="today"?ut=De===0:s==="week"?ut=De<=7&&De>0:s==="month"&&(ut=De<=30&&De>0);const _t=o===""||je.className===o,qt=c===""||je.section===c;return Ke&&Oe&&ut&&_t&&qt}),[e,r,s,o,c,j.upcoming.data,Ne]),He=C.useMemo(()=>j.past.data.map(je=>({...je,className:Ne(je.classId)})).filter(je=>{const Ke=je.name.toLowerCase().includes(e.toLowerCase()),Le=Fe(je.date),rt=Le?Le.getMonth()+1:null,Oe=r==="all"||rt&&rt.toString()===r,De=o===""||je.className===o,ut=c===""||je.section===c;return Ke&&Oe&&De&&ut}),[e,r,o,c,j.past.data,Ne]),ct=C.useMemo(()=>{const je=j.upcoming.total+j.past.total,Ke=[...j.upcoming.data,...j.past.data].filter(Oe=>re(Oe.date)===0).length,Le=[...j.upcoming.data,...j.past.data].filter(Oe=>{const De=re(Oe.date);return De<=7&&De>0&&De!=="Unknown"}).length,rt=[...j.upcoming.data,...j.past.data].filter(Oe=>{const De=re(Oe.date);return De<=30&&De>0&&De!=="Unknown"}).length;return{total:je,todayBirthdays:Ke,thisWeekBirthdays:Le,thisMonthBirthdays:rt}},[j]),_e=async()=>{O(!0);try{const je={schoolId:ee,upcomingPage:1,pastPage:1,limit:1e3};o&&(je.className=o),c&&(je.section=c);const Ke=await sr.get(`${Z1}/birthdays`,{headers:pe(),params:je}),rt=`data:text/csv;charset=utf-8,Name,Date,Class,Section,Color,Type,Days Until,Role
`+[...Ke.data.upcoming.data.map(te),...Ke.data.past.data.map(te)].map(ut=>({...ut,className:Ne(ut.classId)})).map(ut=>`${ut.name},${ut.date},${ut.className},${ut.section},${ut.color},${ut.type},${re(ut.date)},${ut.role}`).join(`
`),Oe=encodeURI(rt),De=document.createElement("a");De.setAttribute("href",Oe),De.setAttribute("download","birthdays.csv"),document.body.appendChild(De),De.click(),document.body.removeChild(De)}catch(je){Z(je)}finally{O(!1)}},ke=je=>{x(je),A(!0)},Ze=je=>{b(je),ve({name:je.name,date:je.date,color:je.color,type:je.type,classId:je.classId?._id||je.classId||""}),R({}),h(!0)},Pe=C.useCallback(async je=>{if(window.confirm("Are you sure you want to delete this record?")){if(O(!0),V(""),!ee){V("School ID is missing. Cannot perform this operation."),O(!1);return}try{await sr.delete(`${Z1}/birthdays/${je}`,{headers:pe(),data:{schoolId:ee}}),await le()}catch(Ke){Z(Ke)}finally{O(!1)}}},[le,ee]),ot=()=>{b(null),ve({name:"",date:"",color:J,type:"upcoming",classId:""}),R({}),h(!0)},Ge=()=>{const je={};return fe.name.trim()||(je.name="Name is required"),(!fe.date.trim()||!/^[A-Za-z]+\s\d{1,2}(,\s\d{4})?$/.test(fe.date.trim()))&&(je.date="Date must be in 'Month Day' or 'Month Day, Year' format (e.g., 'March 15' or 'March 15, 2025')"),fe.color||(je.color="Color is required"),fe.type||(je.type="Type is required"),fe.classId||(je.classId="Class is required"),R(je),Object.keys(je).length===0},lt=async()=>{if(Ge()){if(O(!0),V(""),!ee){V("School ID is missing. Cannot perform this operation."),O(!1);return}try{const je={name:fe.name.trim(),role:"student",date:fe.date.trim(),color:fe.color,type:fe.type,schoolId:ee,classId:fe.classId};let Ke;v?Ke=await sr.put(`${Z1}/birthdays/${v.id}`,je,{headers:pe()}):Ke=await sr.post(`${Z1}/birthdays`,je,{headers:pe()}),Ke.data&&(await le(),h(!1),b(null))}catch(je){Z(je),je.response?.data?.message?V(je.response.data.message):V("Failed to save birthday record. Please try again.")}finally{O(!1)}}},Je=(je,Ke)=>{Ke<1||Ke>j[je].totalPages||(he(Le=>({...Le,[`${je}Page`]:Ke})),le({[`${je}Page`]:Ke}))},Me=[{value:"1",label:"January"},{value:"2",label:"February"},{value:"3",label:"March"},{value:"4",label:"April"},{value:"5",label:"May"},{value:"6",label:"June"},{value:"7",label:"July"},{value:"8",label:"August"},{value:"9",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],Te=({type:je,data:Ke})=>Ke.total===0||Ke.totalPages<=1?null:a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-gray-50 border-t border-gray-200",children:[a.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(Ke.page-1)*se.limit+1," to"," ",Math.min(Ke.page*se.limit,Ke.total)," of ",Ke.total," ","entries"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>Je(je,Ke.page-1),disabled:Ke.page===1,className:"p-2 rounded-md border border-gray-300 bg-white text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(fc,{className:"w-4 h-4"})}),[...Array(Ke.totalPages)].map((Le,rt)=>{const Oe=rt+1;return a.jsx("button",{onClick:()=>Je(je,Oe),className:cr("px-3 py-1 rounded-md border border-gray-300",Ke.page===Oe?"bg-blue-500 text-white":"bg-white text-gray-500 hover:bg-gray-50"),style:Ke.page===Oe?{backgroundColor:J}:{},children:Oe},Oe)}),a.jsx("button",{onClick:()=>Je(je,Ke.page+1),disabled:Ke.page===Ke.totalPages,className:"p-2 rounded-md border border-gray-300 bg-white text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(Al,{className:"w-4 h-4"})})]})]});return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[L&&a.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[a.jsx(ga,{className:"w-5 h-5"}),a.jsx("span",{className:"block sm:inline",children:L}),a.jsx("button",{onClick:()=>V(""),className:"ml-auto text-red-700 hover:text-red-900",children:a.jsx(Lr,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs("div",{className:cr("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:J},children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Pm,{className:"w-6 h-6",style:{color:"white"}}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Birthday Management"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:ot,disabled:z||!ee||U||Y.length===0,className:cr("text-white px-4 py-2 rounded-xl flex items-center space-x-2 disabled:opacity-50"),style:{backgroundColor:`${J}80`},children:[z||U?a.jsx(an,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):a.jsx(Si,{className:"w-4 h-4",style:{color:"white"}}),a.jsx("span",{children:"Add New"})]}),a.jsxs("button",{onClick:_e,disabled:z||!ee,className:cr("text-white px-4 py-2 rounded-xl flex items-center space-x-2 disabled:opacity-50"),style:{backgroundColor:`${J}80`},children:[a.jsx(xs,{className:"w-4 h-4",style:{color:"white"}}),a.jsx("span",{children:"Export"})]})]})]}),a.jsx("p",{className:"text-white mt-2",children:"Track and manage birthdays"})]}),a.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Total Records",value:ct.total,color:"blue",icon:Ra},{label:"Today's Birthdays",value:ct.todayBirthdays,color:"red",icon:Pm},{label:"This Week",value:ct.thisWeekBirthdays,color:"orange",icon:es},{label:"This Month",value:ct.thisMonthBirthdays,color:"yellow",icon:Jn}].map((je,Ke)=>a.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:je.label}),a.jsx("p",{className:`text-2xl font-bold text-${je.color}-600`,children:je.value})]}),a.jsx("div",{className:`p-3 bg-${je.color}-100 rounded-xl`,children:a.jsx(je.icon,{className:`w-6 h-6 text-${je.color}-600`})})]})},Ke))}),a.jsx("div",{className:"px-6 mb-6",children:a.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4",style:{color:J}}),a.jsx("input",{type:"text",placeholder:"Search name...",value:e,onChange:je=>t(je.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:J,outlineColor:J}})]}),a.jsxs("select",{value:r,onChange:je=>n(je.target.value),className:"px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:J,outlineColor:J},children:[a.jsx("option",{value:"all",children:"All Months"}),Me.map(je=>a.jsx("option",{value:je.value,children:je.label},je.value))]}),a.jsxs("select",{value:s,onChange:je=>i(je.target.value),className:"px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:J,outlineColor:J},children:[a.jsx("option",{value:"all",children:"All Upcoming"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"})]}),a.jsxs("select",{value:o,onChange:je=>{l(je.target.value),d("")},className:"px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:J,outlineColor:J},disabled:U,children:[a.jsx("option",{value:"",children:"All Classes"}),ie.map(je=>a.jsx("option",{value:je,children:je},je))]}),a.jsxs("select",{value:c,onChange:je=>d(je.target.value),className:"px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:J,outlineColor:J},disabled:U||o===""||ge.length===0,children:[a.jsx("option",{value:"",children:"All Sections"}),ge.map(je=>a.jsx("option",{value:je,children:je},je))]})]})})}),a.jsxs("div",{className:"px-6 pb-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden mb-6",children:[a.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[a.jsx(Pm,{className:"w-5 h-5 mr-2",style:{color:J}}),"Upcoming Birthdays (",et.length,")"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full table-auto",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Person"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:et.map(je=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:je.name}),a.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",je.id]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:je.className})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:je.section||"N/A"})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm text-gray-900",children:Ce(je.date)}),a.jsx("div",{className:"text-xs text-gray-500",children:st(re(je.date))})]}),a.jsx("td",{className:"px-6 py-4 text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>ke(je),className:"p-1 hover:bg-gray-100 rounded transition-colors",style:{color:J},title:"View Details",children:a.jsx(Hi,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Ze(je),disabled:z||!ee,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:J},title:"Edit",children:a.jsx(ed,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Pe(je.id),disabled:z||!ee,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:J},title:"Delete",children:a.jsx(si,{className:"w-4 h-4"})})]})})]},je.id))})]})}),et.length===0&&!z&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Pm,{className:"w-12 h-12 mx-auto mb-4",style:{color:J}}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No upcoming birthdays"}),a.jsx("p",{className:"text-gray-500",children:"No upcoming birthdays found"})]}),z&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(an,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:J}}),a.jsx("p",{className:"text-gray-500",children:"Loading birthdays..."})]}),a.jsx(Te,{type:"upcoming",data:j.upcoming})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[a.jsx(Jn,{className:"w-5 h-5 mr-2",style:{color:J}}),"Past Birthdays (",He.length,")"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full table-auto",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Person"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:He.map(je=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:je.name}),a.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",je.id]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:je.className})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:je.section||"N/A"})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm text-gray-900",children:Ce(je.date)}),a.jsx("div",{className:"text-xs text-gray-500",children:"Past birthday"})]}),a.jsx("td",{className:"px-6 py-4 text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>ke(je),className:"p-1 hover:bg-gray-100 rounded transition-colors",style:{color:J},title:"View Details",children:a.jsx(Hi,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Ze(je),disabled:z||!ee,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:J},title:"Edit",children:a.jsx(ed,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Pe(je.id),disabled:z||!ee,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:J},title:"Delete",children:a.jsx(si,{className:"w-4 h-4"})})]})})]},je.id))})]})}),He.length===0&&!z&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Jn,{className:"w-12 h-12 mx-auto mb-4",style:{color:J}}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No past birthdays"}),a.jsx("p",{className:"text-gray-500",children:"No past birthdays found"})]}),z&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(an,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:J}}),a.jsx("p",{className:"text-gray-500",children:"Loading birthdays..."})]}),a.jsx(Te,{type:"past",data:j.past})]})]})]}),u&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md mx-4",children:[a.jsxs("div",{className:cr("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:J},children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:v?"Edit Birthday":"Add New Birthday"}),a.jsx("button",{onClick:()=>h(!1),className:"flex items-center justify-center w-8 h-8 hover:bg-gray-100 rounded-full",style:{color:"white"},children:a.jsx(Lr,{size:24})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[U&&a.jsxs("div",{className:"text-center py-4",children:[a.jsx(an,{className:"w-6 h-6 mx-auto animate-spin mb-2",style:{color:J}}),a.jsx("p",{className:"text-sm text-gray-600",children:"Loading classes..."})]}),!U&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Full Name *"}),a.jsx("input",{type:"text",placeholder:"Full Name",value:fe.name,onChange:je=>{ve({...fe,name:je.target.value}),R(Ke=>({...Ke,name:""}))},className:cr("w-full px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",{"border-red-500":B.name}),style:{borderColor:B.name?"#ef4444":J,outlineColor:J},required:!0}),B.name&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:B.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Date *"}),a.jsx("input",{type:"text",placeholder:"Date (e.g., March 15 or March 15, 2025)",value:fe.date,onChange:je=>{ve({...fe,date:je.target.value}),R(Ke=>({...Ke,date:""}))},className:cr("w-full px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",{"border-red-500":B.date}),style:{borderColor:B.date?"#ef4444":J,outlineColor:J},required:!0}),B.date&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:B.date})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Class *"}),a.jsxs("select",{value:fe.classId,onChange:je=>{ve({...fe,classId:je.target.value}),R(Ke=>({...Ke,classId:""}))},disabled:U,className:cr("w-full px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50",{"border-red-500":B.classId}),style:{borderColor:B.classId?"#ef4444":J,outlineColor:J},required:!0,children:[a.jsx("option",{value:"",children:"Select Class"}),Y.map(je=>a.jsx("option",{value:je._id,children:je.displayName},je._id))]}),B.classId&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:B.classId})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Color *"}),a.jsx("input",{type:"color",value:fe.color,onChange:je=>{ve({...fe,color:je.target.value}),R(Ke=>({...Ke,color:""}))},className:cr("w-full h-10 px-2 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",{"border-red-500":B.color}),style:{borderColor:B.color?"#ef4444":J,outlineColor:J},required:!0}),B.color&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:B.color})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Type *"}),a.jsxs("select",{value:fe.type,onChange:je=>{ve({...fe,type:je.target.value}),R(Ke=>({...Ke,type:""}))},className:cr("w-full px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2",{"border-red-500":B.type}),style:{borderColor:B.type?"#ef4444":J,outlineColor:J},required:!0,children:[a.jsx("option",{value:"",children:"Select Type"}),a.jsx("option",{value:"upcoming",children:"Upcoming"}),a.jsx("option",{value:"past",children:"Past"})]}),B.type&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:B.type})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{onClick:()=>h(!1),disabled:z,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),a.jsxs("button",{onClick:lt,disabled:z||!ee||U||Y.length===0,className:cr("flex-1 px-4 py-2 text-white rounded-xl flex items-center justify-center space-x-2 disabled:opacity-50"),style:{backgroundColor:J},children:[z?a.jsx(an,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):a.jsx(td,{className:"w-4 h-4",style:{color:"white"}}),a.jsx("span",{children:"Save"})]})]})]})]})]})}),m&&y&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md mx-4",children:[a.jsxs("div",{className:cr("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:J},children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Birthday Details"}),a.jsx("button",{onClick:()=>A(!1),className:"flex items-center justify-center w-8 h-8 hover:bg-gray-100 rounded-full",style:{color:"white"},children:a.jsx(Lr,{size:24})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Name"}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:y.name})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Role"}),a.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:y.role})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Class"}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:y.className})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Section"}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:y.section||"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Date"}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:Ce(y.date)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Age"}),a.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[be(y.date)," years"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Next Birthday"}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:re(y.date)==="Unknown"?"Invalid date":`${re(y.date)} days`})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Type"}),a.jsx("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:y.type})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Color"}),a.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-300",style:{backgroundColor:y.color}})]}),a.jsx("div",{className:"pt-4",children:a.jsx("button",{onClick:()=>A(!1),className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors",children:"Close"})})]})]})})]})},xz=6048e5,rme=864e5,uL=Symbol.for("constructDateFrom");function gg(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&uL in e?e[uL](t):e instanceof Date?new e.constructor(t):new Date(t)}function rm(e,t){return gg(t||e,e)}let nme={};function kj(){return nme}function mb(e,t){const r=kj(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=rm(e,t?.in),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function lN(e,t){return mb(e,{...t,weekStartsOn:1})}function vz(e,t){const r=rm(e,t?.in),n=r.getFullYear(),s=gg(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=lN(s),o=gg(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=lN(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function dL(e){const t=rm(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ame(e,...t){const r=gg.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function fL(e,t){const r=rm(e,t?.in);return r.setHours(0,0,0,0),r}function sme(e,t,r){const[n,s]=ame(r?.in,e,t),i=fL(n),o=fL(s),l=+i-dL(i),c=+o-dL(o);return Math.round((l-c)/rme)}function ime(e,t){const r=vz(e,t),n=gg(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),lN(n)}function ome(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function lme(e){return!(!ome(e)&&typeof e!="number"||isNaN(+rm(e)))}function cme(e,t){const r=rm(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const ume={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dme=(e,t,r)=>{let n;const s=ume[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function tC(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const fme={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hme={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ame={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mme={date:tC({formats:fme,defaultWidth:"full"}),time:tC({formats:hme,defaultWidth:"full"}),dateTime:tC({formats:Ame,defaultWidth:"full"})},pme={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},gme=(e,t,r,n)=>pme[e];function s2(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r?.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r?.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const xme={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vme={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yme={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bme={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Nme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jme=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Sme={ordinalNumber:jme,era:s2({values:xme,defaultWidth:"wide"}),quarter:s2({values:vme,defaultWidth:"wide",argumentCallback:e=>e-1}),month:s2({values:yme,defaultWidth:"wide"}),day:s2({values:bme,defaultWidth:"wide"}),dayPeriod:s2({values:wme,defaultWidth:"wide",formattingValues:Nme,defaultFormattingWidth:"wide"})};function i2(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Eme(l,h=>h.test(o)):Cme(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function Cme(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Eme(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Bme(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const Tme=/^(\d+)(th|st|nd|rd)?/i,_me=/\d+/i,Fme={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ime={any:[/^b/i,/^(a|c)/i]},kme={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Pme={any:[/1/i,/2/i,/3/i,/4/i]},Lme={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ome={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Dme={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Mme={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ume={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Rme={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Qme={ordinalNumber:Bme({matchPattern:Tme,parsePattern:_me,valueCallback:e=>parseInt(e,10)}),era:i2({matchPatterns:Fme,defaultMatchWidth:"wide",parsePatterns:Ime,defaultParseWidth:"any"}),quarter:i2({matchPatterns:kme,defaultMatchWidth:"wide",parsePatterns:Pme,defaultParseWidth:"any",valueCallback:e=>e+1}),month:i2({matchPatterns:Lme,defaultMatchWidth:"wide",parsePatterns:Ome,defaultParseWidth:"any"}),day:i2({matchPatterns:Dme,defaultMatchWidth:"wide",parsePatterns:Mme,defaultParseWidth:"any"}),dayPeriod:i2({matchPatterns:Ume,defaultMatchWidth:"any",parsePatterns:Rme,defaultParseWidth:"any"})},Hme={code:"en-US",formatDistance:dme,formatLong:mme,formatRelative:gme,localize:Sme,match:Qme,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $me(e,t){const r=rm(e,t?.in);return sme(r,cme(r))+1}function zme(e,t){const r=rm(e,t?.in),n=+lN(r)-+ime(r);return Math.round(n/xz)+1}function yz(e,t){const r=rm(e,t?.in),n=r.getFullYear(),s=kj(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=gg(t?.in||e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=mb(o,t),c=gg(t?.in||e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=mb(c,t);return+r>=+l?n+1:+r>=+d?n:n-1}function Vme(e,t){const r=kj(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=yz(e,t),i=gg(t?.in||e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),mb(i,t)}function Kme(e,t){const r=rm(e,t?.in),n=+mb(r,t)-+Vme(r,t);return Math.round(n/xz)+1}function Mi(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Kp={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Mi(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Mi(r+1,2)},d(e,t){return Mi(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Mi(e.getHours()%12||12,t.length)},H(e,t){return Mi(e.getHours(),t.length)},m(e,t){return Mi(e.getMinutes(),t.length)},s(e,t){return Mi(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Mi(s,t.length)}},ev={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hL={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Kp.y(e,t)},Y:function(e,t,r,n){const s=yz(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return Mi(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Mi(i,t.length)},R:function(e,t){const r=vz(e);return Mi(r,t.length)},u:function(e,t){const r=e.getFullYear();return Mi(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Mi(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Mi(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Kp.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Mi(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=Kme(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Mi(s,t.length)},I:function(e,t,r){const n=zme(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Mi(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Kp.d(e,t)},D:function(e,t,r){const n=$me(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Mi(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Mi(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Mi(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Mi(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=ev.noon:n===0?s=ev.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=ev.evening:n>=12?s=ev.afternoon:n>=4?s=ev.morning:s=ev.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Kp.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Kp.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Mi(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Mi(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Kp.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Kp.s(e,t)},S:function(e,t){return Kp.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return mL(n);case"XXXX":case"XX":return Ax(n);case"XXXXX":case"XXX":default:return Ax(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return mL(n);case"xxxx":case"xx":return Ax(n);case"xxxxx":case"xxx":default:return Ax(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+AL(n,":");case"OOOO":default:return"GMT"+Ax(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+AL(n,":");case"zzzz":default:return"GMT"+Ax(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Mi(n,t.length)},T:function(e,t,r){return Mi(+e,t.length)}};function AL(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Mi(i,2)}function mL(e,t){return e%60===0?(e>0?"-":"+")+Mi(Math.abs(e)/60,2):Ax(e,t)}function Ax(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Mi(Math.trunc(n/60),2),i=Mi(n%60,2);return r+s+t+i}const pL=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},bz=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},qme=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return pL(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",pL(n,t)).replace("{{time}}",bz(s,t))},Gme={p:bz,P:qme},Wme=/^D+$/,Yme=/^Y+$/,Xme=["D","DD","YY","YYYY"];function Jme(e){return Wme.test(e)}function Zme(e){return Yme.test(e)}function e0e(e,t,r){const n=t0e(e,t,r);if(console.warn(n),Xme.includes(e))throw new RangeError(n)}function t0e(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const r0e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,n0e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,a0e=/^'([^]*?)'?$/,s0e=/''/g,i0e=/[a-zA-Z]/;function gL(e,t,r){const n=kj(),s=n.locale??Hme,i=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=rm(e,r?.in);if(!lme(l))throw new RangeError("Invalid time value");let c=t.match(n0e).map(u=>{const h=u[0];if(h==="p"||h==="P"){const m=Gme[h];return m(u,s.formatLong)}return u}).join("").match(r0e).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const h=u[0];if(h==="'")return{isToken:!1,value:o0e(u)};if(hL[h])return{isToken:!0,value:u};if(h.match(i0e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:u}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(u=>{if(!u.isToken)return u.value;const h=u.value;(Zme(h)||Jme(h))&&e0e(h,t,String(e));const m=hL[h[0]];return m(l,h,s.localize,d)}).join("")}function o0e(e){const t=e.match(a0e);return t?t[1].replace(s0e,"'"):e}const qp="https://vidyaastra.com/api",l0e=()=>{const[e,t]=C.useState([]),[r,n]=C.useState([]),[s,i]=C.useState(!1),[o,l]=C.useState(""),[c,d]=C.useState(""),[u,h]=C.useState(!1),[m,A]=C.useState(""),[y,x]=C.useState(""),[v,b]=C.useState({subject:"",date:"",topic:"",description:"",classId:""}),[j,E]=C.useState({}),[T,P]=C.useState(null),[U,M]=C.useState([]),[k,Q]=C.useState(!1),[z,O]=C.useState(""),[L,V]=C.useState("all"),[J,ce]=C.useState("#2563eb"),ee=te=>{d(te),setTimeout(()=>d(""),5e3)},de=te=>{l(te),setTimeout(()=>l(""),5e3)};C.useEffect(()=>{const te=localStorage.getItem("color");te&&ce(te);const Ne=localStorage.getItem("schoolId");Ne?A(Ne):de("School ID not found in localStorage. Please login again.")},[]);const se=C.useCallback(async()=>{if(m)try{const te=await fetch(`${qp}/class?schoolId=${m}`);if(te.ok){const Ne=await te.json();Ne.success&&(n(Ne.data||[]),Ne.data&&Ne.data.length>0&&!y&&x(Ne.data[0]._id))}else console.error("Failed to fetch classes:",te.status),de("Failed to fetch classes")}catch(te){console.error("Error fetching classes:",te),de("Error connecting to server while fetching classes")}},[m,y]),he=C.useCallback(async()=>{if(!m||!y){t([]);return}i(!0);try{const te=await fetch(`${qp}/classwork?schoolId=${m}&classId=${y}`);if(te.ok){const Ne=await te.json();t(Array.isArray(Ne)?Ne:[]),console.log("Classworks loaded:",Ne.length||0)}else console.error("Failed to fetch classworks:",te.status),de("Failed to fetch classworks"),t([])}catch(te){console.error("Error fetching classworks:",te),de("Error connecting to server while fetching classworks"),t([])}finally{i(!1)}},[m,y]);C.useEffect(()=>{m&&se()},[m,se]),C.useEffect(()=>{m&&y&&he()},[m,y,he]);const fe=()=>{const te={};return v.subject.trim()||(te.subject="Subject is required"),v.date||(te.date="Date is required"),v.topic.trim()||(te.topic="Topic is required"),v.description.trim()||(te.description="Description is required"),v.classId||(te.classId="Class is required"),E(te),Object.keys(te).length===0},ve=te=>{const{name:Ne,value:Fe}=te.target;b(be=>({...be,[Ne]:Fe})),j[Ne]&&E(be=>({...be,[Ne]:""}))},B=te=>{const Ne=Array.from(te.target.files);if(Ne.length>5){de("Maximum 5 files allowed");return}M(Ne)},R=async te=>{if(te.preventDefault(),!fe())return;if(!m){de("School ID is missing. Cannot perform this operation.");return}i(!0),Q(!0);const Ne=new FormData;Ne.append("subject",v.subject),Ne.append("date",v.date),Ne.append("topic",v.topic),Ne.append("description",v.description),Ne.append("schoolId",m),Ne.append("classId",v.classId),U.forEach(Fe=>{Ne.append("attachments",Fe)});try{let Fe;if(T?Fe=await fetch(`${qp}/classwork/${T._id}`,{method:"PUT",body:Ne}):Fe=await fetch(`${qp}/classwork`,{method:"POST",body:Ne}),Fe.ok)ee(T?"Classwork updated successfully!":"Classwork added successfully!"),h(!1),ye(),he();else{const be=await Fe.json();de(be.message||"Failed to save classwork")}}catch(Fe){console.error("Error saving classwork:",Fe),de("Failed to save classwork. Please check your connection and try again.")}finally{i(!1),Q(!1)}},Y=te=>{P(te),b({subject:te.subject,date:gL(new Date(te.date),"yyyy-MM-dd"),topic:te.topic,description:te.description,classId:te.classId}),M([]),h(!0)},ie=C.useCallback(async te=>{if(window.confirm("Are you sure you want to delete this classwork?")){if(!m||!y){de("School ID and Class ID are missing. Cannot perform this operation.");return}i(!0);try{const Ne=await fetch(`${qp}/classwork/${te}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:m,classId:y})});if(Ne.ok)ee("Classwork deleted successfully!"),he();else{const Fe=await Ne.json();de(Fe.message||"Failed to delete classwork")}}catch(Ne){console.error("Error deleting classwork:",Ne),de("Failed to delete classwork")}finally{i(!1)}}},[m,y,he]),ge=C.useCallback(async(te,Ne)=>{if(window.confirm("Are you sure you want to delete this attachment?")){if(!m||!y){de("School ID and Class ID are missing. Cannot perform this operation.");return}i(!0);try{const Fe=await fetch(`${qp}/classwork/${te}/attachments/${Ne}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:m,classId:y})});if(Fe.ok)ee("Attachment deleted successfully!"),he();else{const be=await Fe.json();de(be.message||"Failed to delete attachment")}}catch(Fe){console.error("Error deleting attachment:",Fe),de("Failed to delete attachment")}finally{i(!1)}}},[m,y,he]),ye=()=>{b({subject:"",date:"",topic:"",description:"",classId:y||""}),E({}),P(null),M([])},pe=C.useMemo(()=>{let te=e;return L!=="all"&&(te=te.filter(Ne=>Ne.subject===L)),z&&(te=te.filter(Ne=>Ne.topic.toLowerCase().includes(z.toLowerCase())||Ne.description.toLowerCase().includes(z.toLowerCase())||Ne.subject.toLowerCase().includes(z.toLowerCase()))),te.sort((Ne,Fe)=>new Date(Fe.date)-new Date(Ne.date))},[e,L,z]),Z=C.useMemo(()=>{const te=new Set(e.map(Ne=>Ne.subject));return["all",...Array.from(te).sort()]},[e]),le=te=>({Mathematics:"text-blue-600 bg-blue-50",Physics:"text-purple-600 bg-purple-50",English:"text-green-600 bg-green-50",Chemistry:"text-orange-600 bg-orange-50",History:"text-red-600 bg-red-50",Biology:"text-teal-600 bg-teal-50"})[te]||"text-gray-600 bg-gray-50";return m?a.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[c&&a.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[a.jsx(tu,{className:"w-5 h-5"}),a.jsx("span",{className:"block sm:inline",children:c}),a.jsx("button",{onClick:()=>d(""),className:"ml-auto text-green-700 hover:text-green-900",children:a.jsx(Lr,{className:"w-4 h-4"})})]}),o&&a.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[a.jsx(ga,{className:"w-5 h-5"}),a.jsx("span",{className:"block sm:inline",children:o}),a.jsx("button",{onClick:()=>l(""),className:"ml-auto text-red-700 hover:text-red-900",children:a.jsx(Lr,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"text-white p-6 rounded-b-3xl shadow-lg mb-6",style:{backgroundColor:J},children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(_re,{className:"w-6 h-6"}),a.jsx("h1",{className:"text-2xl font-bold",children:"Classwork Management"})]}),a.jsx("p",{className:"text-white mb-4",children:"Manage daily classwork, topics, and attachments."}),a.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-4",children:[a.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:"Select Class:"}),a.jsxs("select",{value:y,onChange:te=>x(te.target.value),className:"w-full md:w-auto px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-white text-gray-800",children:[a.jsx("option",{value:"",children:"Select a class"}),r.map(te=>a.jsxs("option",{value:te._id,children:[te.className," ",te.section]},te._id))]})]})]}),y?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 mb-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search topic, subject, or description...",value:z,onChange:te=>O(te.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:J,outlineColor:J}})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Fu,{className:"text-gray-500 w-4 h-4"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Z.map(te=>a.jsx("button",{onClick:()=>V(te),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${L===te?"text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,style:L===te?{backgroundColor:J}:{},children:te.charAt(0).toUpperCase()+te.slice(1)},te))})]}),a.jsxs("button",{onClick:()=>{ye(),b(te=>({...te,classId:y})),h(!0)},disabled:s,className:"text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2 disabled:opacity-50",style:{backgroundColor:J},children:[a.jsx(Si,{className:"w-5 h-5"}),a.jsx("span",{children:"Add Classwork"})]})]})}),s&&e.length===0?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx(an,{className:"w-12 h-12 animate-spin",style:{color:J}})}):pe.length===0?a.jsxs("div",{className:"text-center py-10 text-gray-500",children:[a.jsx(ga,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-xl font-medium",children:"No classwork found"}),a.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria."})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:pe.map(te=>a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:te.topic}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${le(te.subject)}`,children:te.subject})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-3 flex-grow",children:te.description}),a.jsxs("div",{className:"flex items-center text-gray-500 text-sm mb-4",children:[a.jsx(Jn,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{children:["Date: ",gL(new Date(te.date),"PPP")]})]}),te.attachments&&te.attachments.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Attachments:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:te.attachments.map(Ne=>a.jsxs("a",{href:`${qp.replace("/api","")}${Ne.url}`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-gray-100 text-xs font-medium rounded-full flex items-center hover:underline",style:{color:J},children:[a.jsx(xs,{className:"w-3 h-3 mr-1"}),Ne.name]},Ne._id))})]}),a.jsxs("div",{className:"flex space-x-3 mt-auto pt-4 border-t border-gray-100",children:[a.jsxs("button",{onClick:()=>Y(te),disabled:s,className:"flex items-center text-sm transition-colors disabled:opacity-50",style:{color:J},children:[a.jsx(ed,{className:"w-4 h-4 mr-1"}),"Edit"]}),a.jsxs("button",{onClick:()=>ie(te._id),disabled:s,className:"flex items-center text-sm text-red-600 hover:text-red-800 transition-colors disabled:opacity-50",children:[a.jsx(si,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]},te._id))})]}):a.jsxs("div",{className:"text-center py-10 text-gray-500",children:[a.jsx(ga,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-xl font-medium",children:"Please select a class"}),a.jsx("p",{className:"text-sm",children:"Choose a class from the dropdown above to view classwork."})]}),u&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:T?"Edit Classwork":"Add New Classwork"}),a.jsx("button",{onClick:()=>h(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(Lr,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:R,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"classId",className:"block text-sm font-medium text-gray-700",children:"Class"}),a.jsxs("select",{id:"classId",name:"classId",value:v.classId,onChange:ve,className:`mt-1 block w-full px-3 py-2 border ${j.classId?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:j.classId?void 0:J,outlineColor:J},required:!0,children:[a.jsx("option",{value:"",children:"Select Class"}),r.map(te=>a.jsxs("option",{value:te._id,children:[te.className," ",te.section]},te._id))]}),j.classId&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:j.classId})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700",children:"Subject"}),a.jsx("input",{type:"text",id:"subject",name:"subject",value:v.subject,onChange:ve,className:`mt-1 block w-full px-3 py-2 border ${j.subject?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:j.subject?void 0:J,outlineColor:J},required:!0}),j.subject&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:j.subject})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700",children:"Date"}),a.jsx("input",{type:"date",id:"date",name:"date",value:v.date,onChange:ve,className:`mt-1 block w-full px-3 py-2 border ${j.date?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:j.date?void 0:J,outlineColor:J},required:!0}),j.date&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:j.date})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"topic",className:"block text-sm font-medium text-gray-700",children:"Topic"}),a.jsx("input",{type:"text",id:"topic",name:"topic",value:v.topic,onChange:ve,className:`mt-1 block w-full px-3 py-2 border ${j.topic?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:j.topic?void 0:J,outlineColor:J},required:!0}),j.topic&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:j.topic})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),a.jsx("textarea",{id:"description",name:"description",value:v.description,onChange:ve,rows:"3",className:`mt-1 block w-full px-3 py-2 border ${j.description?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2`,style:{borderColor:j.description?void 0:J,outlineColor:J},required:!0}),j.description&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:j.description})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"attachments",className:"block text-sm font-medium text-gray-700",children:"Attachments (Max 5 files)"}),a.jsx("input",{type:"file",id:"attachments",name:"attachments",multiple:!0,onChange:B,className:"mt-1 block w-full text-sm text-white file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold hover:file:bg-opacity-80",style:{backgroundColor:J}}),U.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Selected files:"}),a.jsx("ul",{className:"list-disc list-inside ml-4",children:U.map((te,Ne)=>a.jsx("li",{className:"text-sm text-gray-600",children:te.name},Ne))})]}),T?.attachments&&T.attachments.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Existing Attachments:"}),a.jsx("ul",{className:"list-disc list-inside ml-4",children:T.attachments.map(te=>a.jsxs("li",{className:"text-sm text-gray-600 flex items-center justify-between",children:[a.jsx("a",{href:`${qp.replace("/api","")}${te.url}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 hover:underline",style:{color:J},children:te.name}),a.jsx("button",{type:"button",onClick:()=>ge(T._id,te._id),className:"ml-2 text-red-500 hover:text-red-700",title:"Delete attachment",disabled:s,children:a.jsx(Lr,{className:"w-4 h-4"})})]},te._id))})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>h(!1),disabled:s||k,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:s||k,className:"text-white px-4 py-2 rounded-lg shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 flex items-center space-x-2",style:{backgroundColor:J,outlineColor:J},children:[s||k?a.jsx(an,{className:"w-4 h-4 animate-spin"}):a.jsx(td,{className:"w-4 h-4"}),a.jsx("span",{children:s||k?"Saving...":"Save Classwork"})]})]})]})]})})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ga,{className:"w-12 h-12 mx-auto text-red-600 mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-700",children:"School ID is required to access classwork."}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please ensure you are properly logged in."})]})})},S4="https://vidyaastra.com/api",c0e="https://vidyaastra.com",u0e=()=>{const[e,t]=C.useState([]),[r,n]=C.useState(!0),[s,i]=C.useState(!1),[o,l]=C.useState(!1),[c,d]=C.useState(""),[u,h]=C.useState(""),[m,A]=C.useState(null),[y,x]=C.useState("#2563eb"),[v,b]=C.useState(null),[j,E]=C.useState(!1),[T,P]=C.useState(""),[U,M]=C.useState(1),[k]=C.useState(10),[Q,z]=C.useState(1),[O,L]=C.useState(0),[V,J]=C.useState({title:"",date:"",newImages:[],existingImages:[]});C.useEffect(()=>{const pe=localStorage.getItem("color");pe&&x(pe);const Z=localStorage.getItem("schoolId");Z?(b(Z),console.log("School ID loaded from localStorage:",Z)):(console.log("No school ID found in localStorage, showing setup"),E(!0))},[]);const ce=pe=>{pe.preventDefault(),T.trim()&&(localStorage.setItem("schoolId",T.trim()),b(T.trim()),E(!1),P(""),console.log("School ID set:",T.trim()))},ee=C.useCallback(async()=>{if(!v){console.log("No schoolId available, skipping fetch"),n(!1);return}console.log("Fetching albums for school:",v,"Page:",U,"Limit:",k),n(!0),d("");try{const pe=await sr.get(`${S4}/albums`,{params:{schoolId:v,page:U,limit:k},timeout:1e4});if(console.log("Fetch albums response:",pe.data),pe.data.success){const Z=pe.data.albums||[];t(Z),z(pe.data.pages||1),L(pe.data.total||0),console.log(`Successfully loaded ${Z.length} albums, Total: ${pe.data.total}, Pages: ${pe.data.pages}`),Z.length>0&&console.log("First album sample:",{id:Z[0]._id,title:Z[0].title,imageCount:Z[0].images?.length||0,firstImagePath:Z[0].images?.[0]?.path})}else console.error("API returned success: false",pe.data),d(pe.data.message||"Failed to fetch albums")}catch(pe){console.error("Error fetching albums:",pe),pe.code==="ECONNABORTED"?d("Request timeout. Please check your internet connection."):pe.response?d(pe.response.data?.message||`Server error: ${pe.response.status}`):pe.request?d("Network error. Please check your internet connection."):d("An unexpected error occurred.")}finally{n(!1)}},[v,U,k]);C.useEffect(()=>{ee()},[ee]);const de=()=>{console.log("Opening add modal"),A(null),J({title:"",date:"",newImages:[],existingImages:[]}),i(!0),d(""),h("")},se=C.useCallback(pe=>{console.log("Opening edit modal for album:",pe._id),A(pe),J({title:pe.title,date:pe.date?new Date(pe.date).toISOString().split("T")[0]:"",newImages:[],existingImages:pe.images||[]}),i(!0),d(""),h("")},[]),he=()=>{console.log("Closing modal"),i(!1),A(null),J({title:"",date:"",newImages:[],existingImages:[]}),d(""),h("");const pe=document.getElementById("images");pe&&(pe.value="")},fe=pe=>{const{name:Z,value:le}=pe.target;console.log(`Form input changed: ${Z} = ${le}`),J(te=>({...te,[Z]:le}))},ve=pe=>{const Z=Array.from(pe.target.files);console.log("Files selected:",Z.length,Z.map(le=>le.name)),J(le=>({...le,newImages:Z}))},B=pe=>{console.log("Removing existing image:",pe),J(Z=>({...Z,existingImages:Z.existingImages.filter(le=>le.path!==pe)}))},R=async pe=>{if(pe.preventDefault(),console.log("=== FORM SUBMISSION ==="),console.log("Form data:",V),console.log("School ID:",v),console.log("Editing album:",m?._id),l(!0),d(""),h(""),!v){d("School ID is missing. Cannot perform this operation."),l(!1);return}if(!V.title.trim()){d("Album title is required and cannot be empty."),l(!1);return}if(V.title.trim().length<3){d("Album title must be at least 3 characters long."),l(!1);return}if(!V.date){d("Event date is required. Please select a date."),l(!1);return}const Z=new Date(V.date),le=new Date;if(le.setHours(23,59,59,999),Z>le){d("Event date cannot be in the future."),l(!1);return}if(!m&&V.newImages.length===0){d("At least one image is required for new albums. Please select images to upload."),l(!1);return}const te=10*1024*1024,Ne=["image/jpeg","image/jpg","image/png","image/gif","image/webp"];for(let be=0;be<V.newImages.length;be++){const re=V.newImages[be];if(re.size>te){d(`Image "${re.name}" is too large. Maximum file size is 10MB.`),l(!1);return}if(!Ne.includes(re.type)){d(`Image "${re.name}" has an unsupported format. Please use JPEG, PNG, GIF, or WEBP.`),l(!1);return}}if(V.newImages.length>20){d("Maximum 20 images can be uploaded at once."),l(!1);return}const Fe=new FormData;Fe.append("title",V.title.trim()),Fe.append("date",V.date),Fe.append("schoolId",v),V.newImages.forEach((be,re)=>{console.log(`Adding image ${re+1}:`,be.name,be.size,"bytes"),Fe.append("images",be)}),m&&(Fe.append("existingImagePaths",JSON.stringify(V.existingImages)),console.log("Existing images to keep:",V.existingImages.length)),console.log("FormData contents:");for(const[be,re]of Fe.entries())re instanceof File?console.log(`${be}: File(${re.name}, ${re.size} bytes)`):console.log(`${be}: ${re}`);try{let be;const re={headers:{"Content-Type":"multipart/form-data"},timeout:3e4};m?(console.log("Updating album:",m._id),be=await sr.put(`${S4}/albums/${m._id}`,Fe,re)):(console.log("Creating new album"),be=await sr.post(`${S4}/albums`,Fe,re)),console.log("Album submission response:",be.data),be.data.success||be.data.message&&be.data.message.includes("successfully")?(h(m?"Album updated successfully!":"Album uploaded successfully!"),console.log("Album saved successfully, refreshing list..."),M(1),await ee(),setTimeout(()=>{he()},1500)):(console.error("API returned success: false",be.data),d(be.data.message||"Failed to save album. Please try again."))}catch(be){console.error("Error saving album:",be),be.code==="ECONNABORTED"?d("Upload timeout. Please try with smaller images or check your internet connection."):be.response?(console.error("Server error response:",be.response.data),d(be.response.data?.message||`Server error: ${be.response.status}. Please try again.`)):be.request?d("Network error. Please check your internet connection and try again."):d("An unexpected error occurred while saving the album. Please try again.")}finally{l(!1)}},Y=C.useCallback(async pe=>{if(window.confirm("Are you sure you want to delete this album and all its images? This action cannot be undone.")){if(console.log("Deleting album:",pe),l(!0),d(""),h(""),!v){d("School ID is missing. Cannot perform this operation."),l(!1);return}try{const Z=await sr.delete(`${S4}/albums/${pe}`,{data:{schoolId:v},timeout:1e4});console.log("Delete response:",Z.data),Z.data.success?(h(Z.data.message||"Album deleted successfully!"),M(1),await ee()):d(Z.data.message||"Failed to delete album")}catch(Z){console.error("Error deleting album:",Z),Z.response?d(Z.response.data?.message||`Server error: ${Z.response.status}`):d("Failed to delete album. Please try again.")}finally{l(!1)}}},[ee,v]),ie=pe=>{if(!pe)return console.log("No image path provided, using placeholder"),"/placeholder.svg?height=192&width=192";if(pe.startsWith("http"))return console.log("Image path is already full URL:",pe),pe;const Z=`${c0e}${pe}`;return console.log("Constructed image URL:",Z),Z},ge=pe=>{console.error("Image failed to load:",pe.target.src)},ye=pe=>{console.log("Image loaded successfully:",pe)};return C.useEffect(()=>{if(c){const pe=setTimeout(()=>d(""),8e3);return()=>clearTimeout(pe)}},[c]),C.useEffect(()=>{if(u){const pe=setTimeout(()=>h(""),3e3);return()=>clearTimeout(pe)}},[u]),a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[j&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl",children:[a.jsxs("div",{className:"text-white p-6 rounded-t-2xl shadow-lg",style:{backgroundColor:y},children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Setup School Gallery"}),a.jsx("p",{className:"text-white text-sm mt-1 opacity-90",children:"Enter your school ID to get started"})]}),a.jsxs("form",{onSubmit:ce,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"setupSchoolId",className:"block text-sm font-medium text-gray-700 mb-2",children:"School ID *"}),a.jsx("input",{type:"text",id:"setupSchoolId",value:T,onChange:pe=>P(pe.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent",style:{focusRingColor:y},placeholder:"e.g., 688dfdc93af0f78ebd4b044a",required:!0}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["For demo purposes, you can use:"," ",a.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"demo-school-123"})]})]}),a.jsx("button",{type:"submit",disabled:!T.trim(),className:"w-full py-3 px-6 text-white rounded-xl font-semibold hover:opacity-90 transition-all duration-200 flex items-center justify-center space-x-2 disabled:opacity-50",style:{backgroundColor:y},children:a.jsx("span",{children:"Continue to Gallery"})})]})]})}),a.jsxs("div",{className:cr("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:y},children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(t_,{className:"w-6 h-6",style:{color:"white"}}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Student Gallery"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("button",{onClick:de,disabled:o||!v,className:cr("text-white px-4 py-2 rounded-lg flex items-center space-x-2 font-semibold disabled:opacity-50 hover:bg-white hover:bg-opacity-20 transition-colors"),style:{backgroundColor:`${y}80`},children:[o?a.jsx(an,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):a.jsx(Si,{className:"w-4 h-4",style:{color:"white"}}),a.jsx("span",{children:"Add Album"})]})})]}),a.jsx("p",{className:"text-white mt-2",children:"School moments and memories"})]}),c&&a.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-lg",children:[a.jsx(ga,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{className:"block sm:inline text-sm",children:c}),a.jsx("button",{onClick:()=>d(""),className:"ml-auto text-red-700 hover:text-red-900 flex-shrink-0",children:a.jsx(Lr,{className:"w-4 h-4"})})]}),u&&a.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-lg",children:[a.jsx(Dl,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{className:"block sm:inline text-sm font-medium",children:u})]}),a.jsx("div",{className:"p-6",children:r?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(an,{className:"w-12 h-12 mx-auto animate-spin mb-4",style:{color:y}}),a.jsx("p",{className:"text-lg font-medium text-gray-700",children:"Loading albums..."}),a.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["School ID: ",v||"Not found"]})]}):e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Vx,{className:"w-16 h-16 mx-auto mb-4",style:{color:y}}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No albums found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:v?'Click "Add Album" to create your first gallery.':"Please set your school ID to view albums."}),v&&a.jsxs("p",{className:"text-xs text-gray-400",children:["School ID: ",v]})]}):a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"text-center mb-6",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Found ",O," album",O!==1?"s":""," for your school (Page ",U," of ",Q,")"]})}),e.map(pe=>a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:pe.title}),a.jsxs("p",{className:"text-sm text-gray-500 flex items-center mt-1",children:[a.jsx(Jn,{className:"w-4 h-4 mr-1",style:{color:y}}),new Date(pe.date).toLocaleDateString(),a.jsxs("span",{className:"ml-3 text-xs",children:[pe.images?.length||0," image",(pe.images?.length||0)!==1?"s":""]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>se(pe),disabled:o||!v,className:"p-2 hover:bg-gray-100 rounded-full disabled:opacity-50 transition-colors",style:{color:y},title:"Edit Album",children:a.jsx(_u,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>Y(pe._id),disabled:o||!v,className:"p-2 hover:bg-gray-100 rounded-full disabled:opacity-50 transition-colors text-red-500 hover:text-red-700",title:"Delete Album",children:a.jsx(si,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:!pe.images||pe.images.length===0?a.jsxs("div",{className:"col-span-full text-center py-8 text-gray-500 bg-gray-50 rounded-xl",children:[a.jsx(Vx,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No images in this album"})]}):pe.images.map((Z,le)=>{const te=ie(Z.path);return a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:te||"/placeholder.svg",alt:`${pe.title} image ${le+1}`,className:"w-full h-48 object-cover rounded-xl shadow-sm group-hover:shadow-md transition-shadow",onError:ge,onLoad:()=>ye(te)}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 flex items-center justify-center rounded-xl transition-all duration-200",children:a.jsxs("div",{className:"text-white text-center opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("p",{className:"text-sm font-medium",children:Z.filename}),Z.size&&a.jsxs("p",{className:"text-xs opacity-75",children:[(Z.size/1024/1024).toFixed(1)," MB"]})]})})]},Z.path||le)})})]},pe._id)),a.jsxs("div",{className:"flex justify-center items-center space-x-4 mt-8",children:[a.jsx("button",{onClick:()=>M(pe=>Math.max(pe-1,1)),disabled:U===1||o,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 transition-colors",children:"Previous"}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",U," of ",Q]}),a.jsx("button",{onClick:()=>M(pe=>Math.min(pe+1,Q)),disabled:U===Q||o,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 transition-colors",children:"Next"})]})]})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[a.jsxs("div",{className:cr("text-white p-6 rounded-t-2xl shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:y},children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:m?"Edit Album":"Add New Album"}),a.jsx("button",{onClick:he,className:"flex items-center justify-center w-8 h-8 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:a.jsx(Lr,{size:20,style:{color:"white"}})})]}),a.jsxs("form",{onSubmit:R,className:"p-6 space-y-6",children:[c&&a.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[a.jsx(ga,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:c}),a.jsx("button",{type:"button",onClick:()=>d(""),className:"ml-auto text-red-700 hover:text-red-900",children:a.jsx(Lr,{className:"w-4 h-4"})})]}),u&&a.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[a.jsx(Dl,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{className:"text-sm font-medium",children:u})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Album Title *"}),a.jsx("input",{type:"text",id:"title",name:"title",value:V.title,onChange:fe,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent",style:{focusRingColor:y},placeholder:"e.g., Annual Sports Day 2023",required:!0,minLength:3,maxLength:100}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[V.title.length,"/100 characters (minimum 3)"]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Date *"}),a.jsx("input",{type:"date",id:"date",name:"date",value:V.date,onChange:fe,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent",style:{focusRingColor:y},required:!0})]})]}),m&&V.existingImages.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:["Current Images (",V.existingImages.length,")"]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:V.existingImages.map((pe,Z)=>{const le=ie(pe.path);return a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:le||"/placeholder.svg",alt:`Existing image ${Z+1}`,className:"w-full h-32 object-cover rounded-lg",onError:ge}),a.jsx("button",{type:"button",onClick:()=>B(pe.path),className:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove image",children:a.jsx(Lr,{className:"w-3 h-3"})}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-xs p-1 rounded-b-lg opacity-0 group-hover:opacity-100 transition-opacity",children:pe.filename})]},pe.path||Z)})})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"images",className:"block text-sm font-medium text-gray-700 mb-2",children:[m?"Add More Images":"Upload Images *",!m&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsx("div",{className:"flex items-center justify-center w-full",children:a.jsxs("label",{htmlFor:"images",className:"flex flex-col items-center justify-center w-full h-40 border-2 border-dashed border-gray-300 rounded-xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",style:{borderColor:V.newImages.length>0?y:void 0},children:[a.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[a.jsx(kre,{className:"w-10 h-10 mb-3",style:{color:y}}),a.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[a.jsx("span",{className:"font-semibold",children:"Click to upload"})," ","or drag and drop"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"JPEG, PNG, GIF, WEBP (Max 10MB per image, 20 images max)"}),!m&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:"At least one image is required"})]}),a.jsx("input",{id:"images",type:"file",name:"images",multiple:!0,accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:ve,className:"hidden"})]})}),V.newImages.length>0&&a.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[a.jsxs("h5",{className:"text-sm font-medium text-blue-800 mb-2",children:["Selected Files (",V.newImages.length,"/20):"]}),a.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:V.newImages.map((pe,Z)=>a.jsxs("div",{className:"flex justify-between items-center text-xs text-blue-700",children:[a.jsx("span",{className:"truncate",children:pe.name}),a.jsxs("span",{className:"ml-2 flex-shrink-0",children:[(pe.size/1024/1024).toFixed(1)," MB"]})]},Z))})]})]}),a.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:he,disabled:o,className:"flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:o||!v,className:cr("flex-1 py-3 px-6 text-white rounded-xl font-semibold hover:opacity-90 transition-all duration-200 flex items-center justify-center space-x-2 disabled:opacity-50"),style:{backgroundColor:y},children:o?a.jsxs(a.Fragment,{children:[a.jsx(an,{className:"w-4 h-4 animate-spin"}),a.jsx("span",{children:m?"Updating...":"Creating..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(td,{className:"w-4 h-4"}),a.jsx("span",{children:m?"Update Album":"Create Album"})]})})]})]})]})})]})},C4="https://vidyaastra.com/api",d0e=()=>{const[e,t]=C.useState("All"),[r,n]=C.useState(""),[s,i]=C.useState({key:null,direction:"asc"}),[o,l]=C.useState("table"),[c,d]=C.useState(!1),[u,h]=C.useState(null),[m,A]=C.useState([]),[y,x]=C.useState(!1),[v,b]=C.useState(""),[j,E]=C.useState(null),[T,P]=C.useState("#2563eb"),[U,M]=C.useState(null),[k,Q]=C.useState({name:"",date:"",category:"National Holiday",description:"",color:"#667eea"}),[z,O]=C.useState({});C.useEffect(()=>{const re=localStorage.getItem("color");re&&P(re);const Ce=localStorage.getItem("schoolId");Ce?M(Ce):b("School ID not found in local storage. Please log in to access holiday data.")},[]);const L=(re,Ce="success")=>{h({message:re,type:Ce}),setTimeout(()=>h(null),3e3)},V=()=>{Q({name:"",date:"",category:"National Holiday",description:"",color:"#667eea"}),O({}),E(null)},J=re=>{if(!re)return"";const Ce=new Date(re),st={year:"numeric",month:"long",day:"numeric"};return Ce.toLocaleDateString("en-US",st)},ce=re=>re?new Date(re).toISOString().split("T")[0]:"",ee=()=>{const re={};if(k.name.trim()||(re.name="Holiday name is required"),!k.date)re.date="Date is required";else{const Ce=new Date(k.date),st=new Date().getFullYear();!j&&Ce.getFullYear()<st&&(re.date="Please select a date from current year onwards for new holidays.")}return k.description.trim()||(re.description="Description is required"),k.name.trim()&&m.some(Ce=>Ce.name.toLowerCase()===k.name.trim().toLowerCase()&&Ce.year===new Date(k.date).getFullYear()&&(!j||Ce.id!==j.id))&&(re.name="A holiday with this name already exists for the selected year."),re},de=re=>{const{name:Ce,value:st}=re.target;Q(et=>({...et,[Ce]:st})),z[Ce]&&O(et=>({...et,[Ce]:""}))},se=re=>{const Ce=re.type==="National Holiday"?DE:re.type==="Festival"?Om:ME;return{id:re._id,name:re.name,date:re.date,category:re.type,description:re.description,color:re.color,icon:Ce,year:re.year}},he=C.useCallback(async()=>{if(!U){x(!1);return}x(!0),b("");try{const re=await sr.get(`${C4}/holidays`,{params:{schoolId:U}});re.data&&Array.isArray(re.data.data)?A(re.data.data.map(se)):b("Received unexpected data format from server for holidays.")}catch(re){console.error("Failed to fetch holidays:",re.response?.data||re.message),b(re.response?.data?.error||"Failed to load holidays."),L("Failed to load holidays.","error")}finally{x(!1)}},[U]);C.useEffect(()=>{he()},[he]);const fe=async re=>{re.preventDefault();const Ce=ee();if(Object.keys(Ce).length>0){O(Ce);return}if(x(!0),b(""),!U){b("School ID is missing. Cannot perform this operation."),x(!1);return}try{const st={name:k.name.trim(),date:J(k.date),type:k.category,description:k.description.trim(),color:k.color,schoolId:U};let et;j?(et=await sr.put(`${C4}/holidays/${j.id}`,st),L(`${et.data.data.name} updated successfully!`)):(et=await sr.post(`${C4}/holidays`,st),L(`${et.data.data.name} added successfully!`)),await he(),d(!1),V()}catch(st){console.error("Failed to save holiday:",st.response?.data||st.message),b(st.response?.data?.error||"Failed to save holiday. Please try again."),L("Failed to save holiday.","error")}finally{x(!1)}},ve=re=>{E(re),Q({name:re.name,date:ce(re.date),category:re.category,description:re.description,color:re.color}),d(!0)},B=C.useCallback(async(re,Ce)=>{if(window.confirm(`Are you sure you want to delete "${Ce}"?`)){if(x(!0),b(""),!U){b("School ID is missing. Cannot perform this operation."),x(!1);return}try{await sr.delete(`${C4}/holidays/${re}`,{data:{schoolId:U}}),L(`${Ce} deleted successfully!`),await he()}catch(st){console.error("Failed to delete holiday:",st.response?.data||st.message),b(st.response?.data?.error||"Failed to delete holiday. Please try again."),L("Failed to delete holiday.","error")}finally{x(!1)}}},[he,U]),R=[{value:"National Holiday",label:"National Holiday",icon:DE},{value:"Festival",label:"Festival",icon:Om},{value:"Religious Holiday",label:"Religious Holiday",icon:ME}],Y=[{value:"#ef4444",label:"Red",class:"bg-red-500"},{value:"#14b8a6",label:"Teal",class:"bg-teal-500"},{value:"#22c55e",label:"Green",class:"bg-green-500"},{value:"#eab308",label:"Yellow",class:"bg-yellow-500"},{value:"#a855f7",label:"Purple",class:"bg-purple-500"},{value:"#f97316",label:"Orange",class:"bg-orange-500"},{value:"#ec4899",label:"Pink",class:"bg-pink-500"}],ie=re=>new Date(re).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),ge=re=>{const Ce=new Date;Ce.setHours(0,0,0,0);const st=new Date(re);st.setHours(0,0,0,0);const et=new Date(st);et.getFullYear()<Ce.getFullYear()&&et.setFullYear(Ce.getFullYear()),et<Ce&&et.setFullYear(et.getFullYear()+1);const He=et.getTime()-Ce.getTime(),ct=Math.ceil(He/(1e3*60*60*24));return ct<0?"Passed":ct===0?"Today":ct===1?"Tomorrow":`${ct} days`},ye=(re,Ce)=>cr("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border",{backgroundColor:`${Ce}1A`,color:Ce,borderColor:Ce}),pe=re=>{const Ce=ge(re);return Ce==="Passed"?"bg-gray-100 text-gray-600 border-gray-200":Ce==="Today"?"bg-green-100 text-green-800 border-green-200":Ce==="Tomorrow"?cr("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border",{backgroundColor:`${T}20`,color:T,borderColor:T}):cr("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border",{backgroundColor:`${T}20`,color:T,borderColor:T})},Z=C.useMemo(()=>{let re=m;return e!=="All"&&(re=re.filter(Ce=>Ce.category===e)),r&&(re=re.filter(Ce=>Ce.name.toLowerCase().includes(r.toLowerCase())||Ce.category.toLowerCase().includes(r.toLowerCase())||Ce.description.toLowerCase().includes(r.toLowerCase()))),re},[e,r,m]),le=C.useMemo(()=>s.key?[...Z].sort((re,Ce)=>{let st,et;switch(s.key){case"name":st=re.name,et=Ce.name;break;case"date":st=new Date(re.date),et=new Date(Ce.date);break;case"category":st=re.category,et=Ce.category;break;case"daysUntil":const He=ge(re.date),ct=ge(Ce.date);He==="Passed"?st=-1e3:He==="Today"?st=0:He==="Tomorrow"?st=1:st=Number.parseInt(He),ct==="Passed"?et=-1e3:ct==="Today"?et=0:ct==="Tomorrow"?et=1:et=Number.parseInt(ct);break;default:return 0}return st<et?s.direction==="asc"?-1:1:st>et?s.direction==="asc"?1:-1:0}):Z,[Z,s]),te=re=>{i(Ce=>({key:re,direction:Ce.key===re&&Ce.direction==="asc"?"desc":"asc"}))},Ne=re=>s.key!==re?null:s.direction==="asc"?a.jsx(uj,{className:"w-4 h-4 inline ml-1",style:{color:T}}):a.jsx(s1,{className:"w-4 h-4 inline ml-1",style:{color:T}}),Fe=["All","National Holiday","Festival","Religious Holiday"],be=()=>{const Ce=[["Holiday Name","Date","Category","Days Until","Description"].join(","),...le.map(ct=>[`"${ct.name}"`,ct.date,`"${ct.category}"`,`"${ge(ct.date)}"`,`"${ct.description}"`].join(","))].join(`
`),st=new Blob([Ce],{type:"text/csv"}),et=window.URL.createObjectURL(st),He=document.createElement("a");He.href=et,He.download="school-holidays.csv",He.click(),window.URL.revokeObjectURL(et)};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u&&a.jsx("div",{className:cr("fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300",{"bg-red-500 text-white":u.type==="error","bg-green-500 text-white":u.type==="success"}),children:a.jsxs("div",{className:"flex items-center space-x-2",children:[u.type==="error"?a.jsx(ga,{className:"w-4 h-4"}):a.jsx(Dl,{className:"w-4 h-4"}),a.jsx("span",{children:u.message})]})}),v&&a.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2",children:[a.jsx(ga,{className:"w-5 h-5"}),a.jsx("span",{className:"block sm:inline",children:v}),a.jsx("button",{onClick:()=>b(""),className:"ml-auto text-red-700 hover:text-red-900",children:a.jsx(Lr,{className:"w-4 h-4"})})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[a.jsxs("div",{className:cr("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:T},children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:j?"Edit Holiday":"Add New Holiday"}),a.jsx("button",{onClick:()=>{d(!1),V()},className:"absolute top-4 right-4 flex items-center justify-center w-8 h-8 hover:bg-gray-100 rounded-full",style:{color:T},children:a.jsx(Lr,{size:20})})]}),a.jsxs("form",{onSubmit:fe,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Holiday Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",value:k.name,onChange:de,className:cr("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",{"border-red-500":z.name}),style:{borderColor:z.name?"#ef4444":T,outlineColor:T},placeholder:"Enter holiday name",required:!0}),z.name&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:z.name})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",name:"date",value:k.date,onChange:de,min:new Date().getFullYear()+"-01-01",className:cr("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",{"border-red-500":z.date}),style:{borderColor:z.date?"#ef4444":T,outlineColor:T},required:!0}),z.date&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:z.date})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("select",{name:"category",value:k.category,onChange:de,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:T,outlineColor:T},required:!0,children:R.map(re=>a.jsx("option",{value:re.value,children:re.label},re.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color Theme"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Y.map(re=>a.jsx("button",{type:"button",onClick:()=>Q(Ce=>({...Ce,color:re.value})),className:cr("w-8 h-8 rounded-full border-2 transition-all",re.class,{"border-gray-800 scale-110":k.color===re.value,"border-gray-300 hover:scale-105":k.color!==re.value}),title:re.label},re.value))})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{name:"description",value:k.description,onChange:de,rows:3,className:cr("w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 resize-none",{"border-red-500":z.description}),style:{borderColor:z.description?"#ef4444":T,outlineColor:T},placeholder:"Enter holiday description",required:!0}),z.description&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:z.description})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>{d(!1),V()},disabled:y,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:y||!U,className:cr("flex-1 text-white py-2 px-4 rounded-lg font-medium flex items-center justify-center space-x-2 disabled:opacity-50"),style:{backgroundColor:T},children:[y?a.jsx(an,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):a.jsx(Dl,{className:"w-4 h-4",style:{color:"white"}}),a.jsx("span",{children:j?"Save Changes":"Add Holiday"})]})]})]})]})}),a.jsxs("div",{className:cr("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:T},children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Jn,{className:"w-6 h-6",style:{color:"white"}}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Holiday Calendar"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:()=>d(!0),disabled:y||!U,className:"flex items-center space-x-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-all font-medium disabled:opacity-50",children:[a.jsx(Si,{className:"w-4 h-4",style:{color:"white"}}),a.jsx("span",{children:"Add Holiday"})]}),a.jsxs("button",{onClick:be,className:cr("flex items-center space-x-2 text-white px-4 py-2 rounded-lg transition-all"),style:{backgroundColor:`${T}80`},children:[a.jsx(xs,{className:"w-4 h-4",style:{color:"white"}}),a.jsx("span",{children:"Export CSV"})]}),a.jsxs("button",{onClick:()=>l(o==="table"?"card":"table"),className:cr("flex items-center space-x-2 text-white px-4 py-2 rounded-lg transition-all"),style:{backgroundColor:`${T}80`},children:[a.jsx(Hi,{className:"w-4 h-4",style:{color:"white"}}),a.jsx("span",{children:o==="table"?"Card View":"Table View"})]})]})]}),a.jsx("p",{className:"text-white mt-2",children:"Professional holiday management system"})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[a.jsx("div",{className:"text-2xl font-bold",style:{color:T},children:m.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Holidays"})]}),a.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:m.filter(re=>re.category==="National Holiday").length}),a.jsx("div",{className:"text-sm text-gray-600",children:"National Holidays"})]}),a.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:m.filter(re=>re.category==="Festival").length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Festivals"})]}),a.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[a.jsx("div",{className:"text-2xl font-bold",style:{color:T},children:m.filter(re=>ge(re.date)!=="Passed").length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Upcoming"})]})]}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4",style:{color:T}}),a.jsx("input",{type:"text",placeholder:"Search holidays...",value:r,onChange:re=>n(re.target.value),className:"pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:T,outlineColor:T}})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Fu,{className:"w-4 h-4",style:{color:T}}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Fe.map(re=>a.jsx("button",{onClick:()=>t(re),className:cr("px-3 py-1.5 rounded-lg text-sm font-medium transition-all",{"text-white shadow-md":e===re,"bg-gray-100 text-gray-600 hover:bg-gray-200":e!==re}),style:{backgroundColor:e===re?T:void 0},children:re},re))})]})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>te("name"),children:["Holiday Name ",Ne("name")]}),a.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>te("date"),children:["Date ",Ne("date")]}),a.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>te("category"),children:["Category ",Ne("category")]}),a.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>te("daysUntil"),children:["Status ",Ne("daysUntil")]}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y?a.jsx("tr",{children:a.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:[a.jsx(an,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:T}}),a.jsx("p",{className:"text-lg font-medium",children:"Loading holidays..."})]})}):le.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:[a.jsx(Jn,{className:"w-12 h-12 mx-auto mb-4",style:{color:T}}),a.jsx("p",{className:"text-lg font-medium",children:"No holidays found"}),a.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria"})]})}):le.map(re=>{const Ce=re.icon;return a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ce,{className:"w-5 h-5",style:{color:re.color}}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:re.name})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-900",children:ie(re.date)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:ye(re.category,re.color),children:re.category})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:pe(re.date),children:ge(re.date)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm text-gray-600",children:re.description})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>ve(re),disabled:y||!U,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:T},title:"Edit Holiday",children:a.jsx(ed,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>B(re.id,re.name),disabled:y||!U,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:T},title:"Delete Holiday",children:a.jsx(si,{className:"w-4 h-4"})})]})})]},re.id)})})]})}),le.length>0&&a.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t border-gray-200",children:a.jsxs("div",{className:"text-sm text-gray-700",children:["Showing"," ",a.jsx("span",{className:"font-medium",children:le.length})," of"," ",a.jsx("span",{className:"font-medium",children:m.length})," holidays"]})})]})]})]})},o2="https://vidyaastra.com/api",f0e="https://vidyaastra.com",E4=(e,t)=>{e=e.replace("#","");const r=parseInt(e,16),n=r>>16&255,s=r>>8&255,i=r&255,o=1-t;return`#${((1<<24)+(Math.round(n*o)<<16)+(Math.round(s*o)<<8)+Math.round(i*o)).toString(16).slice(1).padStart(6,"0")}`},h0e=()=>{const[e,t]=C.useState({}),[r,n]=C.useState(!1),[s,i]=C.useState(!1),[o,l]=C.useState(!1),[c,d]=C.useState(null),[u,h]=C.useState([]),[m,A]=C.useState(!0),[y,x]=C.useState(""),[v,b]=C.useState(null),[j,E]=C.useState("Cash on Delivery"),[T,P]=C.useState(!1),[U,M]=C.useState(null),[k,Q]=C.useState(null),[z,O]=C.useState(""),[L,V]=C.useState(!1),[J,ce]=C.useState(""),[ee,de]=C.useState("name"),[se,he]=C.useState(""),[fe,ve]=C.useState(""),[B,R]=C.useState(1),[Y,ie]=C.useState(1),[ge,ye]=C.useState(0),[pe]=C.useState(10),[Z,le]=C.useState({name:"",description:"",price:"",selectedClassName:"",selectedSection:"",stock:0}),te=localStorage.getItem("color")||"#2563eb",Ne=localStorage.getItem("schoolId")||null,Fe=ai(gt=>gt.classes.classes?.data||[]),be=ai(gt=>gt.classes.loading),re=ai(gt=>gt.classes.error),Ce=C.useMemo(()=>Fe.map(gt=>({_id:gt._id,className:gt.className||`Class ${gt.classNumber||gt._id}`,section:gt.section||"",displayName:`${gt.className||`Class ${gt.classNumber||gt._id}`}${gt.section?` ${gt.section}`:""}`.trim()})),[Fe]),st=C.useMemo(()=>[...new Set(Ce.map(gt=>gt.className))].sort(),[Ce]),et=C.useMemo(()=>[...new Set(Ce.filter(gt=>gt.className===se).map(gt=>gt.section).filter(Boolean))].sort(),[Ce,se]),He=gt=>`${gt.toLocaleString()}`,ct=C.useCallback((gt,Zt="success")=>{M({message:gt,type:Zt}),setTimeout(()=>M(null),3e3)},[]);C.useEffect(()=>{re&&(x("Failed to load classes: "+re),ct("Failed to load classes: "+re,"error"))},[re,ct]);const _e=C.useCallback(async()=>{try{if(!Ne){x("School ID is missing. Please log in again."),A(!1);return}A(!0),x("");const gt={schoolId:Ne,page:B,limit:pe};J&&(gt.search=J),ee&&(gt.sort=ee),se&&(gt.className=se),fe&&(gt.section=fe);const Zt=await sr.get(`${o2}/uniform/items`,{params:gt});Zt.data&&Zt.data.success?(h(Zt.data.data||[]),ye(Zt.data.total||0),ie(Zt.data.totalPages||1),R(Zt.data.page||1),x("")):(x("Received unexpected data format from server."),h([]),ye(0),ie(1))}catch(gt){console.error("Failed to fetch uniform items:",gt.response?.data||gt.message);const Zt=gt.response?.data?.error||"Failed to load uniform items.";x(Zt),ct(Zt,"error"),h([])}finally{A(!1)}},[Ne,B,pe,J,ee,se,fe,ct]);C.useEffect(()=>{Ne?_e():(x("School ID is missing. Please log in again."),A(!1))},[_e,Ne]);const ke=C.useCallback(gt=>{t(Zt=>({...Zt,[gt]:(Zt[gt]||0)+1}))},[]),Ze=C.useCallback(gt=>{t(Zt=>{const $t={...Zt};return $t[gt]>1?$t[gt]--:delete $t[gt],$t})},[]),Pe=C.useCallback(()=>Object.values(e).reduce((gt,Zt)=>gt+Zt,0),[e]),ot=C.useCallback(()=>Object.entries(e).reduce((gt,[Zt,$t])=>{const rr=u.find(kr=>kr._id===Zt);return gt+(rr?rr.price*$t:0)},0),[e,u]),Ge=C.useCallback(gt=>gt>30?{text:"In Stock",color:"bg-green-100 text-green-800"}:gt>10?{text:"Low Stock",color:"bg-yellow-100 text-yellow-800"}:{text:"Out of Stock",color:"bg-red-100 text-red-800"},[]),lt=C.useCallback(gt=>{const{name:Zt,value:$t}=gt.target;le(rr=>({...rr,[Zt]:$t})),Zt==="selectedClassName"&&le(rr=>({...rr,selectedSection:""}))},[]),Je=C.useCallback(gt=>{const Zt=gt.target.files?.[0];if(Zt){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(Zt.type)){x("Please select a valid image file (JPEG, PNG, GIF, WebP)");return}if(Zt.size>5*1024*1024){x("Image file size must be less than 5MB");return}Q(Zt);const rr=new FileReader;rr.onloadend=()=>{O(rr.result)},rr.readAsDataURL(Zt),x("")}},[]),Me=C.useCallback(()=>{le({name:"",description:"",price:"",selectedClassName:"",selectedSection:"",stock:0}),Q(null),O(""),b(null),n(!1),x("")},[]),Te=C.useCallback(async gt=>{if(gt.preventDefault(),V(!0),x(""),!Z){x("Form data is not initialized. Please refresh the page."),V(!1);return}if(!Ne){x("School ID is missing. Please log in again."),V(!1);return}if(!Z.name||!Z.description||!Z.price||!Z.selectedClassName){x("Please fill in all required fields (including class)."),V(!1);return}if(!v&&!k){x("Please select an image file."),V(!1);return}const Zt=Number.parseFloat(Z.price);if(isNaN(Zt)||Zt<0){x("Price must be a valid non-negative number."),V(!1);return}const $t=Number.parseInt(Z.stock)||0;if($t<0){x("Stock must be a non-negative number."),V(!1);return}const rr=Ce.find(Qr=>Qr.className===Z.selectedClassName&&(!Z.selectedSection||Qr.section===Z.selectedSection));if(!rr){x("Invalid class or section selection."),V(!1);return}const kr=new FormData;kr.append("name",Z.name.trim()),kr.append("description",Z.description.trim()),kr.append("price",Zt.toString()),kr.append("classId",rr._id),kr.append("stock",$t.toString()),kr.append("schoolId",Ne),k&&kr.append("image",k);try{v?(await sr.put(`${o2}/uniform/items/${v._id}`,kr,{headers:{"Content-Type":"multipart/form-data"}}),ct("Uniform item updated successfully!")):(await sr.post(`${o2}/uniform/items`,kr,{headers:{"Content-Type":"multipart/form-data"}}),ct("Uniform item added successfully!")),await _e(),Me()}catch(Qr){console.error("Error saving uniform item:",Qr.response?.data||Qr.message);const dn=Qr.response?.data?.error||"Failed to save uniform item. Please try again.";x(dn),ct(dn,"error")}finally{V(!1)}},[Z,v,k,ct,_e,Me,Ne,Ce]),je=C.useCallback(gt=>{b(gt),le({name:gt.name,description:gt.description,price:gt.price.toString(),selectedClassName:gt.classId?.className||"",selectedSection:gt.classId?.section||"",stock:gt.stock||0}),gt.imageUrl?O(`${gt.imageUrl}`):O("/placeholder.svg?height=100&width=100"),Q(null),n(!0)},[]),Ke=C.useCallback(async(gt,Zt)=>{if(!Ne){x("School ID is missing. Please log in again.");return}if(window.confirm(`Are you sure you want to delete "${Zt}"?`)){V(!0);try{await sr.delete(`${o2}/uniform/items/${gt}`,{data:{schoolId:Ne}}),ct("Uniform item deleted successfully!"),await _e()}catch($t){console.error("Error deleting uniform item:",$t.response?.data||$t.message);const rr=$t.response?.data?.error||"Failed to delete uniform item.";x(rr),ct(rr,"error")}finally{V(!1)}}},[ct,_e,Ne]),Le=C.useCallback(gt=>{d(gt),l(!0)},[]),rt=C.useCallback(async()=>{if(P(!0),x(""),!Ne){x("School ID is missing. Please log in again."),P(!1);return}const gt=Object.entries(e).map(([$t,rr])=>({uniformItemId:$t,quantity:rr}));if(gt.length===0){x("Your cart is empty. Please add items before placing an order."),P(!1);return}const Zt="60d5ec49f8e9a20015f8e9a2";try{const $t={user:Zt,items:gt,paymentMethod:j,schoolId:Ne};await sr.post(`${o2}/uniform/orders`,$t),ct("Order placed successfully!","success"),t({}),i(!1)}catch($t){console.error("Error placing order:",$t.response?.data||$t.message);const rr=$t.response?.data?.error||"Failed to place order. Please try again.";x(rr),ct(rr,"error")}finally{P(!1)}},[e,j,ct,Ne]),Oe=C.useCallback(gt=>gt?gt.startsWith("http")?gt:`${f0e}${gt}`:"/placeholder.svg?height=100&width=100",[]),De=C.useCallback(gt=>{if(!gt)return"Unknown Class";const Zt=Ce.find($t=>$t._id===(gt._id||gt));return Zt?Zt.className:"Unknown Class"},[Ce]),ut=C.useCallback(gt=>{if(!gt)return"N/A";const Zt=Ce.find($t=>$t._id===(gt._id||gt));return Zt&&Zt.section?Zt.section:"N/A"},[Ce]),_t=()=>{B>1&&R(gt=>gt-1)},qt=()=>{B<Y&&R(gt=>gt+1)},Ft=gt=>{R(gt)};return Ne?a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[U&&a.jsx("div",{className:cr("fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300",{"bg-red-500 text-white":U.type==="error","bg-green-500 text-white":U.type==="success"}),children:a.jsxs("div",{className:"flex items-center space-x-2",children:[U.type==="error"?a.jsx(ga,{className:"w-5 h-5"}):a.jsx(Dl,{className:"w-5 h-5"}),a.jsx("span",{children:U.message})]})}),a.jsx("div",{className:cr("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:te},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(af,{className:"w-8 h-8",style:{color:"white"}}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"School Uniforms"}),a.jsx("p",{className:"text-sm text-white opacity-90",children:"Manage school uniform inventory and orders"}),a.jsxs("div",{className:"text-xs text-white opacity-75 mt-1",children:["School ID: ",Ne," | ",ge," items available"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[Pe()>0&&a.jsxs("div",{className:"bg-white bg-opacity-20 px-4 py-2 rounded-full text-sm flex items-center space-x-2",children:[a.jsx(mk,{className:"w-5 h-5",style:{color:"white"}}),a.jsxs("span",{children:[Pe()," item(s)"]})]}),a.jsxs("button",{onClick:()=>n(!0),disabled:L||!Ne||be||Ce.length===0,className:cr("text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",{"opacity-50":L||!Ne||be||Ce.length===0}),style:{backgroundColor:te,":hover":{backgroundColor:E4(te,.1)}},children:[L||be?a.jsx(an,{className:"w-5 h-5 animate-spin",style:{color:"white"}}):a.jsx(Si,{className:"w-5 h-5",style:{color:"white"}}),a.jsx("span",{children:"Add Item"})]})]})]})}),a.jsx("div",{className:"p-6 bg-white rounded-2xl shadow-sm mt-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search uniform items...",value:J,onChange:gt=>ce(gt.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:bg-white transition-all",style:{outlineColor:te}})]}),a.jsxs("select",{value:ee,onChange:gt=>de(gt.target.value),className:"px-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:te},children:[a.jsx("option",{value:"name",children:"Sort by Name"}),a.jsx("option",{value:"price-low",children:"Price: Low to High"}),a.jsx("option",{value:"price-high",children:"Price: High to Low"}),a.jsx("option",{value:"newest",children:"Newest First"})]}),a.jsxs("select",{value:se,onChange:gt=>{he(gt.target.value),ve("")},className:"px-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:te},disabled:be,children:[a.jsx("option",{value:"",children:"All Classes"}),st.map(gt=>a.jsx("option",{value:gt,children:gt},gt))]}),a.jsxs("select",{value:fe,onChange:gt=>ve(gt.target.value),className:"px-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:te},disabled:be||se===""||et.length===0,children:[a.jsx("option",{value:"",children:"All Sections"}),et.map(gt=>a.jsx("option",{value:gt,children:gt},gt))]})]})}),y&&a.jsx("div",{className:"mx-4 mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ga,{className:"w-5 h-5"}),a.jsx("span",{children:y}),a.jsx("button",{onClick:()=>x(""),className:"ml-auto text-red-500 hover:text-red-700",children:a.jsx(Lr,{className:"w-5 h-5"})})]})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto min-h-[300px] flex flex-col",children:m?a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center py-12 text-center text-gray-500",children:[a.jsx(an,{className:"w-12 h-12 mx-auto animate-spin mb-4",style:{color:te}}),a.jsx("p",{className:"text-lg font-medium",children:"Loading uniform items..."})]}):u.length===0?a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center py-12 text-center text-gray-500",children:[a.jsx(af,{className:"w-12 h-12 mx-auto mb-4",style:{color:te}}),a.jsx("p",{className:"text-lg font-medium",children:"No uniform items found"}),a.jsx("p",{className:"text-sm",children:"Try adjusting your search or class filter, or add new items"}),a.jsxs("div",{className:"text-xs mt-2",children:["School ID: ",Ne]})]}):a.jsxs("table",{className:"w-full table-auto",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(gt=>{const Zt=Ge(gt.stock||0),$t=e[gt._id]||0;return a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:Oe(gt.imageUrl),alt:gt.name,className:"w-12 h-12 rounded-lg object-cover border border-gray-200"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:gt.name}),a.jsx("div",{className:"text-sm text-gray-500 line-clamp-2",children:gt.description})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:De(gt.classId)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:ut(gt.classId)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-bold text-gray-900",children:He(gt.price)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("span",{className:cr("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",Zt.color),children:Zt.text}),a.jsxs("div",{className:"text-xs text-gray-500",children:[gt.stock||0," units"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>Ze(gt._id),disabled:L||$t===0,className:"p-1 hover:bg-gray-100 rounded disabled:opacity-50 transition-colors",style:{color:te},children:a.jsx(Tre,{className:"w-4 h-4"})}),a.jsx("span",{className:"text-sm font-medium",children:$t}),a.jsx("button",{onClick:()=>ke(gt._id),disabled:L||gt.stock<=$t,className:"p-1 hover:bg-gray-100 rounded disabled:opacity-50 transition-colors",style:{color:te},children:a.jsx(Si,{className:"w-4 h-4"})})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>Le(gt),className:"p-1 hover:bg-gray-100 rounded transition-colors",style:{color:te},title:"View Details",children:a.jsx(Hi,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>je(gt),disabled:L,className:"p-1 hover:bg-gray-100 rounded disabled:opacity-50 transition-colors",style:{color:te},title:"Edit",children:a.jsx(ed,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Ke(gt._id,gt.name),disabled:L,className:"text-red-600 hover:text-red-900 p-1 hover:bg-red-50 rounded disabled:opacity-50 transition-colors",title:"Delete",children:a.jsx(si,{className:"w-4 h-4"})})]})})]},gt._id)})})]})}),!m&&u.length>0&&a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center px-6 py-4 border-t border-gray-200",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-2 sm:mb-0",children:["Page ",B," of ",Y," (Total Items: ",ge,")"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:_t,disabled:B===1,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100 transition-colors",children:a.jsx(fc,{className:"w-5 h-5"})}),[...Array(Y)].map((gt,Zt)=>{const $t=Zt+1;return a.jsx("button",{onClick:()=>Ft($t),className:cr("px-3 py-1 rounded-lg border border-gray-300",{"bg-blue-500 text-white":B===$t,"hover:bg-gray-100":B!==$t}),children:$t},$t)}),a.jsx("button",{onClick:qt,disabled:B===Y,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100 transition-colors",children:a.jsx(Al,{className:"w-5 h-5"})})]})]}),Pe()>0&&a.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-200 flex justify-between items-center",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:[Pe()," item(s) in cart | Total:"," ",He(ot())]}),a.jsxs("button",{onClick:()=>i(!0),disabled:L,className:cr("text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",{"opacity-50":L}),style:{backgroundColor:te,":hover":{backgroundColor:E4(te,.1)}},children:[a.jsx(mk,{className:"w-5 h-5",style:{color:"white"}}),a.jsx("span",{children:"Checkout"})]})]})]})}),o&&c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:cr("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:te},children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:c.name}),a.jsx("button",{onClick:()=>l(!1),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:a.jsx(Lr,{size:20})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsx("img",{src:Oe(c.imageUrl),alt:c.name,className:"w-full h-64 object-cover rounded-lg border border-gray-200"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Description"}),a.jsx("p",{className:"text-sm text-gray-600",children:c.description})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Class"}),a.jsx("p",{className:"text-sm text-gray-600",children:De(c.classId)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Section"}),a.jsx("p",{className:"text-sm text-gray-600",children:ut(c.classId)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Price"}),a.jsx("p",{className:"text-sm text-gray-600",children:He(c.price)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Stock"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[c.stock," units"]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Status"}),a.jsx("span",{className:cr("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",Ge(c.stock).color),children:Ge(c.stock).text})]})]}),a.jsx("button",{onClick:()=>l(!1),className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})]})]})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:cr("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:te},children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Confirm Order"}),a.jsx("button",{onClick:()=>i(!1),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:a.jsx(Lr,{size:20})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[y&&a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:[a.jsx("div",{className:"font-medium",children:"Error:"}),a.jsx("div",{className:"text-sm",children:y})]}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Order Summary"}),a.jsx("ul",{className:"space-y-2",children:Object.entries(e).map(([gt,Zt])=>{const $t=u.find(rr=>rr._id===gt);return $t&&a.jsxs("li",{className:"flex justify-between text-sm text-gray-600",children:[a.jsxs("span",{className:"line-clamp-1",children:[$t.name," x ",Zt]}),a.jsx("span",{children:He($t.price*Zt)})]},gt)})}),a.jsxs("div",{className:"flex justify-between font-bold text-lg text-gray-900 border-t pt-4",children:[a.jsx("span",{children:"Total:"}),a.jsx("span",{children:He(ot())})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),a.jsxs("select",{value:j,onChange:gt=>E(gt.target.value),className:"w-full px-3 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:te},children:[a.jsx("option",{value:"Cash on Delivery",children:"Cash on Delivery"}),a.jsx("option",{value:"Credit Card",children:"Credit Card"}),a.jsx("option",{value:"Debit Card",children:"Debit Card"}),a.jsx("option",{value:"UPI",children:"UPI"}),a.jsx("option",{value:"Net Banking",children:"Net Banking"})]})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>i(!1),disabled:T,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),a.jsxs("button",{type:"button",onClick:rt,disabled:T||Pe()===0,className:cr("flex-1 px-4 py-2 text-white rounded-lg flex items-center justify-center space-x-2",{"opacity-50":T||Pe()===0}),style:{backgroundColor:te,":hover":{backgroundColor:E4(te,.1)}},children:[T?a.jsx(an,{className:"w-5 h-5 animate-spin",style:{color:"white"}}):a.jsx(Dl,{className:"w-5 h-5",style:{color:"white"}}),a.jsx("span",{children:"Place Order"})]})]})]})]})}),r&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:cr("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:te},children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:v?"Edit Item":"Add New Item"}),a.jsx("button",{onClick:Me,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:a.jsx(Lr,{size:20})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[y&&a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:[a.jsx("div",{className:"font-medium",children:"Error:"}),a.jsx("div",{className:"text-sm",children:y})]}),be&&a.jsxs("div",{className:"text-center py-4",children:[a.jsx(an,{className:"w-6 h-6 mx-auto animate-spin mb-2",style:{color:te}}),a.jsx("p",{className:"text-sm text-gray-600",children:"Loading classes..."})]}),!be&&a.jsxs("form",{onSubmit:Te,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Name *"}),a.jsx("input",{type:"text",name:"name",value:Z.name,onChange:lt,required:!0,className:"w-full px-4 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:te},placeholder:"e.g., School Shirt"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class *"}),a.jsxs("select",{name:"selectedClassName",value:Z.selectedClassName,onChange:lt,required:!0,disabled:be,className:"w-full px-4 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all disabled:opacity-50",style:{outlineColor:te},children:[a.jsx("option",{value:"",children:"Select Class"}),st.map(gt=>a.jsx("option",{value:gt,children:gt},gt))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section"}),a.jsxs("select",{name:"selectedSection",value:Z.selectedSection,onChange:lt,disabled:be||Z.selectedClassName===""||et.length===0,className:"w-full px-4 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all disabled:opacity-50",style:{outlineColor:te},children:[a.jsx("option",{value:"",children:"Select Section (Optional)"}),et.filter(gt=>gt).map(gt=>a.jsx("option",{value:gt,children:gt},gt))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),a.jsx("textarea",{name:"description",value:Z.description,onChange:lt,required:!0,rows:4,className:"w-full px-4 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:te},placeholder:"Brief description of the item"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price () *"}),a.jsx("input",{type:"number",name:"price",value:Z.price,onChange:lt,required:!0,min:"0",step:"0.01",className:"w-full px-4 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:te},placeholder:"450"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Quantity"}),a.jsx("input",{type:"number",name:"stock",value:Z.stock,onChange:lt,min:"0",className:"w-full px-4 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:te},placeholder:"50"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Image *"," ",v&&"(Leave empty to keep current image)"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:Je,className:"w-full px-4 py-2 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:te}}),z&&a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("img",{src:z,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border border-gray-200"})}),a.jsx("p",{className:"text-xs text-gray-500",children:"Upload an image file for the uniform item (Max: 5MB, Formats: JPEG, PNG, GIF, WebP)"})]})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:Me,disabled:L,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:L||!Ne||be||Ce.length===0,className:cr("flex-1 px-4 py-2 text-white rounded-lg flex items-center justify-center space-x-2",{"opacity-50":L||!Ne||be||Ce.length===0}),style:{backgroundColor:te,":hover":{backgroundColor:E4(te,.1)}},children:[L?a.jsx(an,{className:"w-5 h-5 animate-spin",style:{color:"white"}}):a.jsx(td,{className:"w-5 h-5",style:{color:"white"}}),a.jsx("span",{children:v?"Update Item":"Add Item"})]})]})]})]})]})})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ga,{className:"w-12 h-12 mx-auto text-red-500 mb-4"}),a.jsx("div",{className:"text-xl font-semibold text-gray-800 mb-2",children:"School ID Not Found"}),a.jsx("div",{className:"text-gray-600 mb-4",children:"Please log in again to access the uniform system."}),a.jsx("button",{onClick:()=>window.location.href="/login",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go to Login"})]})})},B4="https://vidyaastra.com/api",A0e="https://vidyaastra.com",xL=(e,t)=>{e=e.replace("#","");const r=Number.parseInt(e,16),n=r>>16&255,s=r>>8&255,i=r&255,o=1-t;return`#${((1<<24)+(Math.round(n*o)<<16)+(Math.round(s*o)<<8)+Math.round(i*o)).toString(16).slice(1).padStart(6,"0")}`},m0e=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(""),[s,i]=C.useState(""),[o,l]=C.useState("title"),[c,d]=C.useState(!1),[u,h]=C.useState(!1),[m,A]=C.useState(null),[y,x]=C.useState([]),[v,b]=C.useState(!1),[j,E]=C.useState(""),[T,P]=C.useState(null),[U,M]=C.useState(null),[k,Q]=C.useState(null),[z,O]=C.useState(""),[L,V]=C.useState(null),[J,ce]=C.useState(1),[ee,de]=C.useState(1),[se,he]=C.useState(0),[fe]=C.useState(10),[ve,B]=C.useState({title:"",author:"",description:"",price:"",stock:"",classId:""}),R=localStorage.getItem("color")||"#2563eb",Y=ai(Pe=>Pe.classes.classes?.data||[]),ie=ai(Pe=>Pe.classes.loading),ge=ai(Pe=>Pe.classes.error),ye=C.useMemo(()=>Y.map(Pe=>({_id:Pe._id,className:Pe.className||`Class ${Pe.classNumber||Pe._id}`,section:Pe.section||"",displayName:`${Pe.className||`Class ${Pe.classNumber||Pe._id}`}${Pe.section?` ${Pe.section}`:""}`.trim()})),[Y]),pe=C.useMemo(()=>[...new Set(ye.map(Pe=>Pe.className))].sort(),[ye]),Z=C.useMemo(()=>[...new Set(ye.filter(Pe=>Pe.className===e).map(Pe=>Pe.section).filter(Boolean))].sort(),[ye,e]),le=C.useMemo(()=>{let Pe=[...y];if(e&&(Pe=Pe.filter(ot=>ot.classId?ot.classId.className===e:!1)),r&&(Pe=Pe.filter(ot=>ot.classId?ot.classId.section===r:!1)),s.trim()){const ot=s.toLowerCase().trim();Pe=Pe.filter(Ge=>Ge.title?.toLowerCase().includes(ot)||Ge.author?.toLowerCase().includes(ot)||Ge.description?.toLowerCase().includes(ot))}switch(o){case"title":Pe.sort((ot,Ge)=>ot.title.localeCompare(Ge.title));break;case"price-low":Pe.sort((ot,Ge)=>parseFloat(ot.price)-parseFloat(Ge.price));break;case"price-high":Pe.sort((ot,Ge)=>parseFloat(Ge.price)-parseFloat(ot.price));break;case"newest":Pe.sort((ot,Ge)=>new Date(Ge.createdAt)-new Date(ot.createdAt));break}return Pe},[y,e,r,s,o]);C.useEffect(()=>{if(typeof window<"u"){const Pe=localStorage.getItem("schoolId");console.log("Retrieved schoolId from localStorage:",Pe),V(Pe),Pe||E("School ID is missing. Please set your school ID.")}},[]),C.useEffect(()=>{ge&&(E("Failed to load classes: "+ge),te("Failed to load classes: "+ge,"error"))},[ge]);const te=(Pe,ot="success")=>{M({message:Pe,type:ot}),setTimeout(()=>M(null),3e3)},Ne=Pe=>`${Pe.toLocaleString()}`,Fe=async()=>{if(!L){E("School ID is required to fetch books."),b(!1);return}b(!0),E("");try{console.log("Fetching books for school:",L);const Pe={schoolId:L,page:J,limit:fe};s&&(Pe.search=s),e&&(Pe.className=e),r&&(Pe.section=r),o&&(Pe.sort=o);const ot=await sr.get(`${B4}/books`,{params:Pe});console.log("Books API response:",ot.data),ot.data.success?(x(ot.data.data||[]),he(ot.data.totalBooks||0),de(ot.data.totalPages||1),ce(ot.data.currentPage||1),console.log(`Loaded ${ot.data.data.length} books`)):(x([]),he(0),de(1),E("Received unexpected data format from server."),te("Received unexpected data format from server.","error"))}catch(Pe){console.error("Failed to fetch books:",Pe.response?.data||Pe.message);const ot=Pe.response?.data?.message||"Failed to load books.";E(ot),te(ot,"error")}finally{b(!1)}};C.useEffect(()=>{L&&Fe()},[L,e,r,s,o,J]);const be=Pe=>{const{name:ot,value:Ge}=Pe.target;if(B(lt=>({...lt,[ot]:Ge})),ot==="classId"){const lt=ye.find(Je=>Je._id===Ge);B(Je=>({...Je,classId:Ge,className:lt?lt.className:"",section:lt?lt.section:""}))}},re=Pe=>{const ot=Pe.target.files?.[0];if(ot){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(ot.type)){E("Please select a valid image file (JPEG, PNG, or GIF)");return}if(ot.size>5*1024*1024){E("Image file size must be less than 5MB");return}Q(ot);const lt=new FileReader;lt.onloadend=()=>{O(lt.result)},lt.readAsDataURL(ot),E("")}},Ce=()=>{B({title:"",author:"",description:"",price:"",stock:"",classId:""}),Q(null),O(""),P(null),d(!1),E("")},st=async Pe=>{if(Pe.preventDefault(),b(!0),E(""),console.log("Form submission started"),console.log("Form data:",ve),console.log("School ID:",L),console.log("Image file:",k),!ve.title||!ve.author||!ve.description||!ve.price||!ve.stock||!ve.classId||!L){E("All fields including Class selection and School ID are required."),b(!1);return}const ot=Number.parseFloat(ve.price);if(isNaN(ot)||ot<0){E("Price must be a valid non-negative number."),b(!1);return}const Ge=Number.parseInt(ve.stock);if(isNaN(Ge)||Ge<0){E("Stock must be a valid non-negative integer."),b(!1);return}if(!T&&!k){E("Please select an image file."),b(!1);return}const lt=new FormData;lt.append("title",ve.title.trim()),lt.append("author",ve.author.trim()),lt.append("description",ve.description.trim()),lt.append("price",ot.toString()),lt.append("stock",Ge.toString()),lt.append("classId",ve.classId),lt.append("schoolId",L),k&&lt.append("image",k);try{console.log("Sending request...");let Je;T?(console.log("Updating book:",T._id),Je=await sr.put(`${B4}/books/${T._id}`,lt,{headers:{"Content-Type":"multipart/form-data"}}),te("Book updated successfully!")):(console.log("Creating new book"),Je=await sr.post(`${B4}/books`,lt,{headers:{"Content-Type":"multipart/form-data"}}),te("Book added successfully!")),console.log("API response:",Je.data),await Fe(),Ce()}catch(Je){console.error("Error saving book:",Je.response?.data||Je.message);const Me=Je.response?.data?.message||"Failed to save book. Please try again.";E(Me),te(Me,"error")}finally{b(!1)}},et=Pe=>{console.log("Editing book:",Pe),P(Pe),B({title:Pe.title,author:Pe.author,description:Pe.description,price:Pe.price.toString(),stock:Pe.stock.toString(),classId:Pe.classId?._id||""}),Pe.image&&O(`${A0e}${Pe.image}`),d(!0)},He=async(Pe,ot)=>{if(!L){E("School ID is required to delete a book."),te("School ID is required to delete a book.","error");return}if(window.confirm(`Are you sure you want to delete "${ot}"?`)){b(!0),E("");try{console.log("Deleting book:",Pe);const Ge=await sr.delete(`${B4}/books/${Pe}`,{data:{schoolId:L}});console.log("Delete response:",Ge.data),te("Book deleted successfully!"),await Fe()}catch(Ge){console.error("Error deleting book:",Ge.response?.data||Ge.message);const lt=Ge.response?.data?.message||"Failed to delete book.";E(lt),te(lt,"error")}finally{b(!1)}}},ct=Pe=>{A(Pe),h(!0)},_e=()=>{J>1&&ce(Pe=>Pe-1)},ke=()=>{J<ee&&ce(Pe=>Pe+1)},Ze=Pe=>{ce(Pe)};return a.jsx("div",{className:"min-h-screen bg-gray-100",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[U&&a.jsx("div",{className:cr("fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300",{"bg-red-500 text-white":U.type==="error","bg-green-500 text-white":U.type==="success"}),children:a.jsxs("div",{className:"flex items-center space-x-2",children:[U.type==="error"?a.jsx(ga,{className:"w-4 h-4"}):a.jsx(Dl,{className:"w-4 h-4"}),a.jsx("span",{children:U.message})]})}),a.jsx("div",{className:cr("text-white p-4 sticky top-0 z-10"),style:{backgroundColor:R},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(ip,{className:"w-6 h-6 cursor-pointer",style:{color:"white"}}),a.jsx("h1",{className:"text-xl font-semibold text-white",children:"School Books"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("button",{onClick:()=>d(!0),disabled:v||!L||ie,className:cr("text-white p-3 rounded-xl transition-colors flex items-center space-x-2",{"opacity-50":v||!L||ie}),style:{backgroundColor:R,":hover":{backgroundColor:xL(R,.1)}},children:[v||ie?a.jsx(an,{className:"w-5 h-5 animate-spin",style:{color:"white"}}):a.jsx(Si,{className:"w-5 h-5",style:{color:"white"}}),a.jsx("span",{children:"Add Book"})]})})]})}),a.jsx("div",{className:"p-4 bg-white",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search books, authors...",value:s,onChange:Pe=>i(Pe.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:bg-white transition-all",style:{outlineColor:R}})]}),a.jsxs("select",{value:o,onChange:Pe=>l(Pe.target.value),className:"px-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:R},children:[a.jsx("option",{value:"title",children:"Sort by Title"}),a.jsx("option",{value:"price-low",children:"Price: Low to High"}),a.jsx("option",{value:"price-high",children:"Price: High to Low"}),a.jsx("option",{value:"newest",children:"Newest First"})]}),a.jsxs("select",{value:e,onChange:Pe=>{t(Pe.target.value),n("")},className:"px-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:R},disabled:ie,children:[a.jsx("option",{value:"",children:"All Classes"}),pe.map(Pe=>a.jsx("option",{value:Pe,children:Pe},Pe))]}),a.jsxs("select",{value:r,onChange:Pe=>n(Pe.target.value),className:"px-4 py-3 bg-gray-100 rounded-xl border-0 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all",style:{outlineColor:R},disabled:ie||e===""||Z.length===0,children:[a.jsx("option",{value:"",children:"All Sections"}),Z.map(Pe=>a.jsx("option",{value:Pe,children:Pe},Pe))]})]})}),j&&a.jsx("div",{className:"mx-4 mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ga,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:j}),a.jsx("button",{onClick:()=>E(""),className:"ml-auto text-red-500 hover:text-red-700",children:a.jsx(Lr,{className:"w-4 h-4"})})]})}),a.jsx("div",{className:"px-4 pb-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full table-auto",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Image"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Author"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:le.map(Pe=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("img",{src:`${Pe.image}`,alt:Pe.title,className:"w-12 h-12 object-cover rounded"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Pe.title})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-500",children:Pe.author})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:Pe.classId?`${Pe.classId.className} ${Pe.classId.section||""}`:"N/A"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:Ne(Pe.price)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-500",children:Pe.stock})}),a.jsx("td",{className:"px-6 py-4 text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>ct(Pe),className:"p-1 hover:bg-gray-100 rounded transition-colors",style:{color:R},title:"View Details",children:a.jsx(Hi,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>et(Pe),disabled:v||!L,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:R},title:"Edit",children:a.jsx(ed,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>He(Pe._id,Pe.title),disabled:v||!L,className:"p-1 hover:bg-gray-100 rounded transition-colors disabled:opacity-50",style:{color:R},title:"Delete",children:a.jsx(si,{className:"w-4 h-4"})})]})})]},Pe._id))})]})}),v&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(an,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:R}}),a.jsx("p",{className:"text-lg font-medium",children:"Loading books..."})]}),!v&&le.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No books found"}),a.jsx("p",{className:"text-gray-500",children:L?"Try adjusting your search or class filter, or add your first book":"Please set your school ID to view books"})]}),!v&&y.length>0&&a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center px-6 py-4 border-t border-gray-200",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-2 sm:mb-0",children:["Showing ",le.length," of ",se," books",(e||r||s)&&a.jsx("span",{className:"ml-2 text-blue-600",children:"(filtered)"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:_e,disabled:J===1,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100",children:a.jsx(fc,{})}),[...Array(ee)].map((Pe,ot)=>{const Ge=ot+1;return a.jsx("button",{onClick:()=>Ze(Ge),className:`px-3 py-1 rounded-lg border border-gray-300 ${J===Ge?"bg-blue-500 text-white":"hover:bg-gray-100"}`,children:Ge},Ge)}),a.jsx("button",{onClick:ke,disabled:J===ee,className:"px-3 py-1 rounded-lg border border-gray-300 disabled:opacity-50 hover:bg-gray-100",children:a.jsx(Al,{})})]})]})]})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:cr("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:R},children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:T?"Edit Book":"Add New Book"}),a.jsx("button",{onClick:Ce,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:a.jsx(Lr,{size:20})})]}),a.jsxs("div",{className:"p-6",children:[j&&a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[a.jsx("div",{className:"font-medium",children:"Error:"}),a.jsx("div",{className:"text-sm",children:j})]}),a.jsxs("form",{onSubmit:st,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Book Title *"}),a.jsx("input",{type:"text",name:"title",value:ve.title,onChange:be,required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:R,outlineColor:R},placeholder:"e.g., Mathematics Class 10"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Author *"}),a.jsx("input",{type:"text",name:"author",value:ve.author,onChange:be,required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:R,outlineColor:R},placeholder:"e.g., NCERT"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),a.jsx("textarea",{name:"description",value:ve.description,onChange:be,required:!0,rows:2,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:R,outlineColor:R},placeholder:"Brief description of the book"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class *"}),a.jsxs("select",{name:"classId",value:ve.classId,onChange:be,required:!0,disabled:ie,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50",style:{borderColor:R,outlineColor:R},children:[a.jsx("option",{value:"",children:"Select a class"}),ye.map(Pe=>a.jsx("option",{value:Pe._id,children:Pe.displayName},Pe._id))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price () *"}),a.jsx("input",{type:"number",name:"price",value:ve.price,onChange:be,required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:R,outlineColor:R},placeholder:"250"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Quantity *"}),a.jsx("input",{type:"number",name:"stock",value:ve.stock,onChange:be,required:!0,min:"0",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:R,outlineColor:R},placeholder:"10"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Book Image *"," ",T&&"(Leave empty to keep current image)"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:re,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",style:{borderColor:R,outlineColor:R}}),z&&a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("img",{src:z||"/placeholder.svg",alt:"Preview",className:"w-20 h-20 object-cover rounded-lg border"})}),a.jsx("p",{className:"text-xs text-gray-500",children:"Upload an image file for the book cover (Max: 5MB, Formats: JPEG, PNG, GIF)"})]})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:Ce,disabled:v,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:v||!L||ie,className:cr("flex-1 px-4 py-2 text-white rounded-lg flex items-center justify-center space-x-2",{"opacity-50":v||!L||ie}),style:{backgroundColor:R,":hover":{backgroundColor:xL(R,.1)}},children:[v?a.jsx(an,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):a.jsx(Dl,{className:"w-4 h-4",style:{color:"white"}}),a.jsx("span",{children:T?"Update Book":"Add Book"})]})]})]})]})]})}),u&&m&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:cr("text-white p-6 rounded-t-lg shadow-lg flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:R},children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Book Details"}),a.jsx("button",{onClick:()=>h(!1),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1",children:a.jsx(Lr,{size:20})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("img",{src:`${m.image}`,alt:m.title,className:"w-32 h-32 object-cover rounded-lg border",onError:Pe=>{Pe.target.src="/placeholder.svg"}})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Title"}),a.jsx("p",{className:"text-base font-semibold text-gray-900",children:m.title})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Author"}),a.jsx("p",{className:"text-base text-gray-600",children:m.author})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Class"}),a.jsx("p",{className:"text-base text-gray-600",children:m.classId?`${m.classId.className} ${m.classId.section||""}`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Description"}),a.jsx("p",{className:"text-base text-gray-600",children:m.description})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Price"}),a.jsx("p",{className:"text-base font-semibold text-gray-900",children:Ne(m.price)})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Stock"}),a.jsx("p",{className:"text-base text-gray-600",children:m.stock})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})})]})]})})]})})};var rC={exports:{}};function p0e(e){if(Array.isArray(e))return e}function g0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function vL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function x0e(e,t){if(e){if(typeof e=="string")return vL(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vL(e,t):void 0}}function v0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yL(e,t){return p0e(e)||g0e(e,t)||x0e(e,t)||v0e()}function bL(e,t="utf8"){return new TextDecoder(t).decode(e)}const y0e=new TextEncoder;function b0e(e){return y0e.encode(e)}const w0e=1024*8,N0e=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),nC={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class D_{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=w0e,r={}){let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const s=r.offset?r.offset>>>0:0,i=t.byteLength-s;let o=s;(ArrayBuffer.isView(t)||t instanceof D_)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+s),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=nC[r].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+n);if(this.littleEndian===N0e&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+n));l.reverse();const c=new nC[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new nC[r](i);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return bL(this.readBytes(t))}decodeText(t=1,r="utf8"){return bL(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(b0e(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ay(e){let t=e.length;for(;--t>=0;)e[t]=0}const j0e=3,S0e=258,wz=29,C0e=256,E0e=C0e+1+wz,Nz=30,B0e=512,T0e=new Array((E0e+2)*2);Ay(T0e);const _0e=new Array(Nz*2);Ay(_0e);const F0e=new Array(B0e);Ay(F0e);const I0e=new Array(S0e-j0e+1);Ay(I0e);const k0e=new Array(wz);Ay(k0e);const P0e=new Array(Nz);Ay(P0e);const L0e=(e,t,r,n)=>{let s=e&65535|0,i=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do s=s+t[n++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var AB=L0e;const O0e=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},D0e=new Uint32Array(O0e()),M0e=(e,t,r,n)=>{const s=D0e,i=n+r;e^=-1;for(let o=n;o<i;o++)e=e>>>8^s[(e^t[o])&255];return e^-1};var Tm=M0e,mB={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},jz={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const U0e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var R0e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)U0e(r,n)&&(e[n]=r[n])}}return e},Q0e=e=>{let t=0;for(let n=0,s=e.length;n<s;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,s=0,i=e.length;n<i;n++){let o=e[n];r.set(o,s),s+=o.length}return r},Sz={assign:R0e,flattenChunks:Q0e};let Cz=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Cz=!1}const pb=new Uint8Array(256);for(let e=0;e<256;e++)pb[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;pb[254]=pb[254]=1;var H0e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,s,i,o=e.length,l=0;for(s=0;s<o;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),i=0,s=0;i<l;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const $0e=(e,t)=>{if(t<65534&&e.subarray&&Cz)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var z0e=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,s;const i=new Array(r*2);for(s=0,n=0;n<r;){let o=e[n++];if(o<128){i[s++]=o;continue}let l=pb[o];if(l>4){i[s++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|e[n++]&63,l--;if(l>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return $0e(i,s)},V0e=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+pb[e[r]]>t?r:t},pB={string2buf:H0e,buf2string:z0e,utf8border:V0e};function K0e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var q0e=K0e;const T4=16209,G0e=16191;var W0e=function(t,r){let n,s,i,o,l,c,d,u,h,m,A,y,x,v,b,j,E,T,P,U,M,k,Q,z;const O=t.state;n=t.next_in,Q=t.input,s=n+(t.avail_in-5),i=t.next_out,z=t.output,o=i-(r-t.avail_out),l=i+(t.avail_out-257),c=O.dmax,d=O.wsize,u=O.whave,h=O.wnext,m=O.window,A=O.hold,y=O.bits,x=O.lencode,v=O.distcode,b=(1<<O.lenbits)-1,j=(1<<O.distbits)-1;e:do{y<15&&(A+=Q[n++]<<y,y+=8,A+=Q[n++]<<y,y+=8),E=x[A&b];t:for(;;){if(T=E>>>24,A>>>=T,y-=T,T=E>>>16&255,T===0)z[i++]=E&65535;else if(T&16){P=E&65535,T&=15,T&&(y<T&&(A+=Q[n++]<<y,y+=8),P+=A&(1<<T)-1,A>>>=T,y-=T),y<15&&(A+=Q[n++]<<y,y+=8,A+=Q[n++]<<y,y+=8),E=v[A&j];r:for(;;){if(T=E>>>24,A>>>=T,y-=T,T=E>>>16&255,T&16){if(U=E&65535,T&=15,y<T&&(A+=Q[n++]<<y,y+=8,y<T&&(A+=Q[n++]<<y,y+=8)),U+=A&(1<<T)-1,U>c){t.msg="invalid distance too far back",O.mode=T4;break e}if(A>>>=T,y-=T,T=i-o,U>T){if(T=U-T,T>u&&O.sane){t.msg="invalid distance too far back",O.mode=T4;break e}if(M=0,k=m,h===0){if(M+=d-T,T<P){P-=T;do z[i++]=m[M++];while(--T);M=i-U,k=z}}else if(h<T){if(M+=d+h-T,T-=h,T<P){P-=T;do z[i++]=m[M++];while(--T);if(M=0,h<P){T=h,P-=T;do z[i++]=m[M++];while(--T);M=i-U,k=z}}}else if(M+=h-T,T<P){P-=T;do z[i++]=m[M++];while(--T);M=i-U,k=z}for(;P>2;)z[i++]=k[M++],z[i++]=k[M++],z[i++]=k[M++],P-=3;P&&(z[i++]=k[M++],P>1&&(z[i++]=k[M++]))}else{M=i-U;do z[i++]=z[M++],z[i++]=z[M++],z[i++]=z[M++],P-=3;while(P>2);P&&(z[i++]=z[M++],P>1&&(z[i++]=z[M++]))}}else if((T&64)===0){E=v[(E&65535)+(A&(1<<T)-1)];continue r}else{t.msg="invalid distance code",O.mode=T4;break e}break}}else if((T&64)===0){E=x[(E&65535)+(A&(1<<T)-1)];continue t}else if(T&32){O.mode=G0e;break e}else{t.msg="invalid literal/length code",O.mode=T4;break e}break}}while(n<s&&i<l);P=y>>3,n-=P,y-=P<<3,A&=(1<<y)-1,t.next_in=n,t.next_out=i,t.avail_in=n<s?5+(s-n):5-(n-s),t.avail_out=i<l?257+(l-i):257-(i-l),O.hold=A,O.bits=y};const tv=15,wL=852,NL=592,jL=0,aC=1,SL=2,Y0e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),X0e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),J0e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Z0e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),epe=(e,t,r,n,s,i,o,l)=>{const c=l.bits;let d=0,u=0,h=0,m=0,A=0,y=0,x=0,v=0,b=0,j=0,E,T,P,U,M,k=null,Q;const z=new Uint16Array(tv+1),O=new Uint16Array(tv+1);let L=null,V,J,ce;for(d=0;d<=tv;d++)z[d]=0;for(u=0;u<n;u++)z[t[r+u]]++;for(A=c,m=tv;m>=1&&z[m]===0;m--);if(A>m&&(A=m),m===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<m&&z[h]===0;h++);for(A<h&&(A=h),v=1,d=1;d<=tv;d++)if(v<<=1,v-=z[d],v<0)return-1;if(v>0&&(e===jL||m!==1))return-1;for(O[1]=0,d=1;d<tv;d++)O[d+1]=O[d]+z[d];for(u=0;u<n;u++)t[r+u]!==0&&(o[O[t[r+u]]++]=u);if(e===jL?(k=L=o,Q=20):e===aC?(k=Y0e,L=X0e,Q=257):(k=J0e,L=Z0e,Q=0),j=0,u=0,d=h,M=i,y=A,x=0,P=-1,b=1<<A,U=b-1,e===aC&&b>wL||e===SL&&b>NL)return 1;for(;;){V=d-x,o[u]+1<Q?(J=0,ce=o[u]):o[u]>=Q?(J=L[o[u]-Q],ce=k[o[u]-Q]):(J=96,ce=0),E=1<<d-x,T=1<<y,h=T;do T-=E,s[M+(j>>x)+T]=V<<24|J<<16|ce|0;while(T!==0);for(E=1<<d-1;j&E;)E>>=1;if(E!==0?(j&=E-1,j+=E):j=0,u++,--z[d]===0){if(d===m)break;d=t[r+o[u]]}if(d>A&&(j&U)!==P){for(x===0&&(x=A),M+=h,y=d-x,v=1<<y;y+x<m&&(v-=z[y+x],!(v<=0));)y++,v<<=1;if(b+=1<<y,e===aC&&b>wL||e===SL&&b>NL)return 1;P=j&U,s[P]=A<<24|y<<16|M-i|0}}return j!==0&&(s[M+j]=d-x<<24|64<<16|0),l.bits=A,0};var D2=epe;const tpe=0,Ez=1,Bz=2,{Z_FINISH:CL,Z_BLOCK:rpe,Z_TREES:_4,Z_OK:Zx,Z_STREAM_END:npe,Z_NEED_DICT:ape,Z_STREAM_ERROR:cA,Z_DATA_ERROR:Tz,Z_MEM_ERROR:_z,Z_BUF_ERROR:spe,Z_DEFLATED:EL}=jz,Pj=16180,BL=16181,TL=16182,_L=16183,FL=16184,IL=16185,kL=16186,PL=16187,LL=16188,OL=16189,cN=16190,E0=16191,sC=16192,DL=16193,iC=16194,ML=16195,UL=16196,RL=16197,QL=16198,F4=16199,I4=16200,HL=16201,$L=16202,zL=16203,VL=16204,KL=16205,oC=16206,qL=16207,GL=16208,Xo=16209,Fz=16210,Iz=16211,ipe=852,ope=592,lpe=15,cpe=lpe,WL=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function upe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const f1=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Pj||t.mode>Iz?1:0},kz=e=>{if(f1(e))return cA;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Pj,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(ipe),t.distcode=t.distdyn=new Int32Array(ope),t.sane=1,t.back=-1,Zx},Pz=e=>{if(f1(e))return cA;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,kz(e)},Lz=(e,t)=>{let r;if(f1(e))return cA;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?cA:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,Pz(e))},Oz=(e,t)=>{if(!e)return cA;const r=new upe;e.state=r,r.strm=e,r.window=null,r.mode=Pj;const n=Lz(e,t);return n!==Zx&&(e.state=null),n},dpe=e=>Oz(e,cpe);let YL=!0,lC,cC;const fpe=e=>{if(YL){lC=new Int32Array(512),cC=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(D2(Ez,e.lens,0,288,lC,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;D2(Bz,e.lens,0,32,cC,0,e.work,{bits:5}),YL=!1}e.lencode=lC,e.lenbits=9,e.distcode=cC,e.distbits=5},Dz=(e,t,r,n)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),i.window.set(t.subarray(r-n,r-n+s),i.wnext),n-=s,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},hpe=(e,t)=>{let r,n,s,i,o,l,c,d,u,h,m,A,y,x,v=0,b,j,E,T,P,U,M,k;const Q=new Uint8Array(4);let z,O;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(f1(e)||!e.output||!e.input&&e.avail_in!==0)return cA;r=e.state,r.mode===E0&&(r.mode=sC),o=e.next_out,s=e.output,c=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,d=r.hold,u=r.bits,h=l,m=c,k=Zx;e:for(;;)switch(r.mode){case Pj:if(r.wrap===0){r.mode=sC;break}for(;u<16;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(r.wrap&2&&d===35615){r.wbits===0&&(r.wbits=15),r.check=0,Q[0]=d&255,Q[1]=d>>>8&255,r.check=Tm(r.check,Q,2,0),d=0,u=0,r.mode=BL;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",r.mode=Xo;break}if((d&15)!==EL){e.msg="unknown compression method",r.mode=Xo;break}if(d>>>=4,u-=4,M=(d&15)+8,r.wbits===0&&(r.wbits=M),M>15||M>r.wbits){e.msg="invalid window size",r.mode=Xo;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=d&512?OL:E0,d=0,u=0;break;case BL:for(;u<16;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(r.flags=d,(r.flags&255)!==EL){e.msg="unknown compression method",r.mode=Xo;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Xo;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&r.wrap&4&&(Q[0]=d&255,Q[1]=d>>>8&255,r.check=Tm(r.check,Q,2,0)),d=0,u=0,r.mode=TL;case TL:for(;u<32;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}r.head&&(r.head.time=d),r.flags&512&&r.wrap&4&&(Q[0]=d&255,Q[1]=d>>>8&255,Q[2]=d>>>16&255,Q[3]=d>>>24&255,r.check=Tm(r.check,Q,4,0)),d=0,u=0,r.mode=_L;case _L:for(;u<16;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&r.wrap&4&&(Q[0]=d&255,Q[1]=d>>>8&255,r.check=Tm(r.check,Q,2,0)),d=0,u=0,r.mode=FL;case FL:if(r.flags&1024){for(;u<16;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&r.wrap&4&&(Q[0]=d&255,Q[1]=d>>>8&255,r.check=Tm(r.check,Q,2,0)),d=0,u=0}else r.head&&(r.head.extra=null);r.mode=IL;case IL:if(r.flags&1024&&(A=r.length,A>l&&(A=l),A&&(r.head&&(M=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+A),M)),r.flags&512&&r.wrap&4&&(r.check=Tm(r.check,n,A,i)),l-=A,i+=A,r.length-=A),r.length))break e;r.length=0,r.mode=kL;case kL:if(r.flags&2048){if(l===0)break e;A=0;do M=n[i+A++],r.head&&M&&r.length<65536&&(r.head.name+=String.fromCharCode(M));while(M&&A<l);if(r.flags&512&&r.wrap&4&&(r.check=Tm(r.check,n,A,i)),l-=A,i+=A,M)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=PL;case PL:if(r.flags&4096){if(l===0)break e;A=0;do M=n[i+A++],r.head&&M&&r.length<65536&&(r.head.comment+=String.fromCharCode(M));while(M&&A<l);if(r.flags&512&&r.wrap&4&&(r.check=Tm(r.check,n,A,i)),l-=A,i+=A,M)break e}else r.head&&(r.head.comment=null);r.mode=LL;case LL:if(r.flags&512){for(;u<16;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(r.wrap&4&&d!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Xo;break}d=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=E0;break;case OL:for(;u<32;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}e.adler=r.check=WL(d),d=0,u=0,r.mode=cN;case cN:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=d,r.bits=u,ape;e.adler=r.check=1,r.mode=E0;case E0:if(t===rpe||t===_4)break e;case sC:if(r.last){d>>>=u&7,u-=u&7,r.mode=oC;break}for(;u<3;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}switch(r.last=d&1,d>>>=1,u-=1,d&3){case 0:r.mode=DL;break;case 1:if(fpe(r),r.mode=F4,t===_4){d>>>=2,u-=2;break e}break;case 2:r.mode=UL;break;case 3:e.msg="invalid block type",r.mode=Xo}d>>>=2,u-=2;break;case DL:for(d>>>=u&7,u-=u&7;u<32;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Xo;break}if(r.length=d&65535,d=0,u=0,r.mode=iC,t===_4)break e;case iC:r.mode=ML;case ML:if(A=r.length,A){if(A>l&&(A=l),A>c&&(A=c),A===0)break e;s.set(n.subarray(i,i+A),o),l-=A,i+=A,c-=A,o+=A,r.length-=A;break}r.mode=E0;break;case UL:for(;u<14;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(r.nlen=(d&31)+257,d>>>=5,u-=5,r.ndist=(d&31)+1,d>>>=5,u-=5,r.ncode=(d&15)+4,d>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Xo;break}r.have=0,r.mode=RL;case RL:for(;r.have<r.ncode;){for(;u<3;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}r.lens[L[r.have++]]=d&7,d>>>=3,u-=3}for(;r.have<19;)r.lens[L[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,z={bits:r.lenbits},k=D2(tpe,r.lens,0,19,r.lencode,0,r.work,z),r.lenbits=z.bits,k){e.msg="invalid code lengths set",r.mode=Xo;break}r.have=0,r.mode=QL;case QL:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[d&(1<<r.lenbits)-1],b=v>>>24,j=v>>>16&255,E=v&65535,!(b<=u);){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(E<16)d>>>=b,u-=b,r.lens[r.have++]=E;else{if(E===16){for(O=b+2;u<O;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(d>>>=b,u-=b,r.have===0){e.msg="invalid bit length repeat",r.mode=Xo;break}M=r.lens[r.have-1],A=3+(d&3),d>>>=2,u-=2}else if(E===17){for(O=b+3;u<O;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}d>>>=b,u-=b,M=0,A=3+(d&7),d>>>=3,u-=3}else{for(O=b+7;u<O;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}d>>>=b,u-=b,M=0,A=11+(d&127),d>>>=7,u-=7}if(r.have+A>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Xo;break}for(;A--;)r.lens[r.have++]=M}}if(r.mode===Xo)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Xo;break}if(r.lenbits=9,z={bits:r.lenbits},k=D2(Ez,r.lens,0,r.nlen,r.lencode,0,r.work,z),r.lenbits=z.bits,k){e.msg="invalid literal/lengths set",r.mode=Xo;break}if(r.distbits=6,r.distcode=r.distdyn,z={bits:r.distbits},k=D2(Bz,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,z),r.distbits=z.bits,k){e.msg="invalid distances set",r.mode=Xo;break}if(r.mode=F4,t===_4)break e;case F4:r.mode=I4;case I4:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=d,r.bits=u,W0e(e,m),o=e.next_out,s=e.output,c=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,d=r.hold,u=r.bits,r.mode===E0&&(r.back=-1);break}for(r.back=0;v=r.lencode[d&(1<<r.lenbits)-1],b=v>>>24,j=v>>>16&255,E=v&65535,!(b<=u);){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(j&&(j&240)===0){for(T=b,P=j,U=E;v=r.lencode[U+((d&(1<<T+P)-1)>>T)],b=v>>>24,j=v>>>16&255,E=v&65535,!(T+b<=u);){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}d>>>=T,u-=T,r.back+=T}if(d>>>=b,u-=b,r.back+=b,r.length=E,j===0){r.mode=KL;break}if(j&32){r.back=-1,r.mode=E0;break}if(j&64){e.msg="invalid literal/length code",r.mode=Xo;break}r.extra=j&15,r.mode=HL;case HL:if(r.extra){for(O=r.extra;u<O;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=$L;case $L:for(;v=r.distcode[d&(1<<r.distbits)-1],b=v>>>24,j=v>>>16&255,E=v&65535,!(b<=u);){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if((j&240)===0){for(T=b,P=j,U=E;v=r.distcode[U+((d&(1<<T+P)-1)>>T)],b=v>>>24,j=v>>>16&255,E=v&65535,!(T+b<=u);){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}d>>>=T,u-=T,r.back+=T}if(d>>>=b,u-=b,r.back+=b,j&64){e.msg="invalid distance code",r.mode=Xo;break}r.offset=E,r.extra=j&15,r.mode=zL;case zL:if(r.extra){for(O=r.extra;u<O;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Xo;break}r.mode=VL;case VL:if(c===0)break e;if(A=m-c,r.offset>A){if(A=r.offset-A,A>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Xo;break}A>r.wnext?(A-=r.wnext,y=r.wsize-A):y=r.wnext-A,A>r.length&&(A=r.length),x=r.window}else x=s,y=o-r.offset,A=r.length;A>c&&(A=c),c-=A,r.length-=A;do s[o++]=x[y++];while(--A);r.length===0&&(r.mode=I4);break;case KL:if(c===0)break e;s[o++]=r.length,c--,r.mode=I4;break;case oC:if(r.wrap){for(;u<32;){if(l===0)break e;l--,d|=n[i++]<<u,u+=8}if(m-=c,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?Tm(r.check,s,m,o-m):AB(r.check,s,m,o-m)),m=c,r.wrap&4&&(r.flags?d:WL(d))!==r.check){e.msg="incorrect data check",r.mode=Xo;break}d=0,u=0}r.mode=qL;case qL:if(r.wrap&&r.flags){for(;u<32;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(r.wrap&4&&d!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Xo;break}d=0,u=0}r.mode=GL;case GL:k=npe;break e;case Xo:k=Tz;break e;case Fz:return _z;case Iz:default:return cA}return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=d,r.bits=u,(r.wsize||m!==e.avail_out&&r.mode<Xo&&(r.mode<oC||t!==CL))&&Dz(e,e.output,e.next_out,m-e.avail_out),h-=e.avail_in,m-=e.avail_out,e.total_in+=h,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?Tm(r.check,s,m,e.next_out-m):AB(r.check,s,m,e.next_out-m)),e.data_type=r.bits+(r.last?64:0)+(r.mode===E0?128:0)+(r.mode===F4||r.mode===iC?256:0),(h===0&&m===0||t===CL)&&k===Zx&&(k=spe),k},Ape=e=>{if(f1(e))return cA;let t=e.state;return t.window&&(t.window=null),e.state=null,Zx},mpe=(e,t)=>{if(f1(e))return cA;const r=e.state;return(r.wrap&2)===0?cA:(r.head=t,t.done=!1,Zx)},ppe=(e,t)=>{const r=t.length;let n,s,i;return f1(e)||(n=e.state,n.wrap!==0&&n.mode!==cN)?cA:n.mode===cN&&(s=1,s=AB(s,t,r,0),s!==n.check)?Tz:(i=Dz(e,t,r,r),i?(n.mode=Fz,_z):(n.havedict=1,Zx))};var gpe=Pz,xpe=Lz,vpe=kz,ype=dpe,bpe=Oz,wpe=hpe,Npe=Ape,jpe=mpe,Spe=ppe,Cpe="pako inflate (from Nodeca project)",k0={inflateReset:gpe,inflateReset2:xpe,inflateResetKeep:vpe,inflateInit:ype,inflateInit2:bpe,inflate:wpe,inflateEnd:Npe,inflateGetHeader:jpe,inflateSetDictionary:Spe,inflateInfo:Cpe};function Epe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Bpe=Epe;const Mz=Object.prototype.toString,{Z_NO_FLUSH:Tpe,Z_FINISH:_pe,Z_OK:gb,Z_STREAM_END:uC,Z_NEED_DICT:dC,Z_STREAM_ERROR:Fpe,Z_DATA_ERROR:XL,Z_MEM_ERROR:Ipe}=jz;function rw(e){this.options=Sz.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new q0e,this.strm.avail_out=0;let r=k0.inflateInit2(this.strm,t.windowBits);if(r!==gb)throw new Error(mB[r]);if(this.header=new Bpe,k0.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=pB.string2buf(t.dictionary):Mz.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=k0.inflateSetDictionary(this.strm,t.dictionary),r!==gb)))throw new Error(mB[r])}rw.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?_pe:Tpe,Mz.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=k0.inflate(r,o),i===dC&&s&&(i=k0.inflateSetDictionary(r,s),i===gb?i=k0.inflate(r,o):i===XL&&(i=dC));r.avail_in>0&&i===uC&&r.state.wrap>0&&e[r.next_in]!==0;)k0.inflateReset(r),i=k0.inflate(r,o);switch(i){case Fpe:case XL:case dC:case Ipe:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===uC))if(this.options.to==="string"){let c=pB.utf8border(r.output,r.next_out),d=r.next_out-c,u=pB.buf2string(r.output,c);r.next_out=d,r.avail_out=n-d,d&&r.output.set(r.output.subarray(c,c+d),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===gb&&l===0)){if(i===uC)return i=k0.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};rw.prototype.onData=function(e){this.chunks.push(e)};rw.prototype.onEnd=function(e){e===gb&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Sz.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function kpe(e,t){const r=new rw(t);if(r.push(e),r.err)throw r.msg||mB[r.err];return r.result}var Ppe=rw,Lpe=kpe,Ope={Inflate:Ppe,inflate:Lpe};const{Inflate:Dpe,inflate:Mpe}=Ope;var JL=Dpe,Upe=Mpe;const Uz=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;Uz[e]=t}const ZL=4294967295;function Rpe(e,t,r){let n=e;for(let s=0;s<r;s++)n=Uz[(n^t[s])&255]^n>>>8;return n}function Qpe(e,t){return(Rpe(ZL,e,t)^ZL)>>>0}function e7(e,t,r){const n=e.readUint32(),s=Qpe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function Rz(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function Qz(e,t,r,n){let s=0;for(;s<n;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-n]&255}function Hz(e,t,r,n){let s=0;if(r.length===0)for(;s<n;s++)t[s]=e[s];else for(;s<n;s++)t[s]=e[s]+r[s]&255}function $z(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-s]>>1)&255}else{for(;i<s;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-s]+r[i]>>1)&255}}function zz(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-s]&255}else{for(;i<s;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+Hpe(t[i-s],r[i],r[i-s])&255}}function Hpe(e,t,r){const n=e+t-r,s=Math.abs(n-e),i=Math.abs(n-t),o=Math.abs(n-r);return s<=i&&s<=o?e:i<=o?t:r}function $pe(e,t,r,n,s,i){switch(e){case 0:Rz(t,r,s);break;case 1:Qz(t,r,s,i);break;case 2:Hz(t,r,n,s);break;case 3:$z(t,r,n,s,i);break;case 4:zz(t,r,n,s,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const zpe=new Uint16Array([255]),Vpe=new Uint8Array(zpe.buffer),Kpe=Vpe[0]===255;function qpe(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*s,c=new Uint8Array(n*r*l);let d=0;for(let u=0;u<7;u++){const h=o[u],m=Math.ceil((r-h.x)/h.xStep),A=Math.ceil((n-h.y)/h.yStep);if(m<=0||A<=0)continue;const y=m*l,x=new Uint8Array(y);for(let v=0;v<A;v++){const b=t[d++],j=t.subarray(d,d+y);d+=y;const E=new Uint8Array(y);$pe(b,j,E,x,y,l),x.set(E);for(let T=0;T<m;T++){const P=h.x+T*h.xStep,U=h.y+v*h.yStep;if(!(P>=r||U>=n))for(let M=0;M<l;M++)c[(U*r+P)*l+M]=E[T*l+M]}}}if(i===16){const u=new Uint16Array(c.buffer);if(Kpe)for(let h=0;h<u.length;h++)u[h]=Gpe(u[h]);return u}else return c}function Gpe(e){return(e&255)<<8|e>>8&255}const Wpe=new Uint16Array([255]),Ype=new Uint8Array(Wpe.buffer),Xpe=Ype[0]===255,Jpe=new Uint8Array(0);function t7(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,o=Math.ceil(i/8)*s,l=Math.ceil(i/8*s*r),c=new Uint8Array(n*l);let d=Jpe,u=0,h,m;for(let A=0;A<n;A++){switch(h=t.subarray(u+1,u+1+l),m=c.subarray(A*l,(A+1)*l),t[u]){case 0:Rz(h,m,l);break;case 1:Qz(h,m,l,o);break;case 2:Hz(h,m,d,l);break;case 3:$z(h,m,d,l,o);break;case 4:zz(h,m,d,l,o);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}d=m,u+=l+1}if(i===16){const A=new Uint16Array(c.buffer);if(Xpe)for(let y=0;y<A.length;y++)A[y]=Zpe(A[y]);return A}else return c}function Zpe(e){return(e&255)<<8|e>>8&255}const p5=Uint8Array.of(137,80,78,71,13,10,26,10);function r7(e){if(!ege(e.readBytes(p5.length)))throw new Error("wrong PNG signature")}function ege(e){if(e.length<p5.length)return!1;for(let t=0;t<p5.length;t++)if(e[t]!==p5[t])return!1;return!0}const tge="tEXt",rge=0,Vz=new TextDecoder("latin1");function nge(e){if(sge(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const age=/^[\u0000-\u00FF]*$/;function sge(e){if(!age.test(e))throw new Error("invalid latin1 text")}function ige(e,t,r){const n=Kz(t);e[n]=oge(t,r-n.length-1)}function Kz(e){for(e.mark();e.readByte()!==rge;);const t=e.offset;e.reset();const r=Vz.decode(e.readBytes(t-e.offset-1));return e.skip(1),nge(r),r}function oge(e,t){return Vz.decode(e.readBytes(t))}const hh={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},fC={UNKNOWN:-1,DEFLATE:0},n7={UNKNOWN:-1,ADAPTIVE:0},hC={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},k4={NONE:0,BACKGROUND:1,PREVIOUS:2},AC={SOURCE:0,OVER:1};class lge extends D_{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,r={}){super(t);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new JL,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=fC.UNKNOWN,this._filterMethod=n7.UNKNOWN,this._interlaceMethod=hC.UNKNOWN,this._colorType=hh.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(r7(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(r7(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case tge:ige(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?e7(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=n+t;break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?e7(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=cge(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case hh.GREYSCALE:n=1;break;case hh.TRUECOLOUR:n=3;break;case hh.INDEXED_COLOUR:n=1;break;case hh.GREYSCALE_ALPHA:n=2;break;case hh.TRUECOLOUR_ALPHA:n=4;break;case hh.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==fC.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const n=[];this._palette=n;for(let s=0;s<r;s++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case hh.GREYSCALE:case hh.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case hh.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case hh.UNKNOWN:case hh.GREYSCALE_ALPHA:case hh.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=Kz(this),n=this.readUint8();if(n!==fC.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const s=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:Upe(s)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:t,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(t);if(n){if(n.data=t7({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(n,s,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,n){switch(t.disposeOp){case k4.NONE:break;case k4.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let i=0;i<this._png.width;i++){const o=(s*t.width+i)*this._png.channels;for(let l=0;l<this._png.channels;l++)n.data[o+l]=0}break;case k4.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const n=1<<this._png.depth,s=(i,o)=>{const l=((i+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,c=(i*r.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case AC.SOURCE:for(let i=0;i<r.height;i++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=s(i,o);for(let d=0;d<this._png.channels;d++)t.data[l+d]=r.data[c+d]}break;case AC.OVER:for(let i=0;i<r.height;i++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:c}=s(i,o);for(let d=0;d<this._png.channels;d++){const u=r.data[c+this._png.channels-1]/n,h=d%(this._png.channels-1)===0?1:r.data[c+d],m=Math.floor(u*h+(1-u)*t.data[l+d]);t.data[l+d]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==n7.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===hC.NO_INTERLACE)this._png.data=t7({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===hC.ADAM7)this._png.data=qpe({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:k4.NONE,blendOp:AC.SOURCE,data:t}),this._inflator=new JL,this._writingDataChunks=!1}}function cge(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var a7;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(a7||(a7={}));function uge(e,t){return new lge(e,t).decode()}var Ta=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function mC(){Ta.console&&typeof Ta.console.log=="function"&&Ta.console.log.apply(Ta.console,arguments)}var fo={log:mC,warn:function(e){Ta.console&&(typeof Ta.console.warn=="function"?Ta.console.warn.apply(Ta.console,arguments):mC.call(null,arguments))},error:function(e){Ta.console&&(typeof Ta.console.error=="function"?Ta.console.error.apply(Ta.console,arguments):mC(e))}};function pC(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){mx(n.response,t,r)},n.onerror=function(){fo.error("could not download file")},n.send()}function s7(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function P4(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var mx=Ta.saveAs||((typeof window>"u"?"undefined":qn(window))!=="object"||window!==Ta?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Ta.URL||Ta.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?s7(s.href)?pC(e,t,r):P4(s,s.target="_blank"):P4(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){P4(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(s7(e))pC(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){P4(n)})}else navigator.msSaveOrOpenBlob((function(s,i){return i===void 0?i={autoBom:!1}:qn(i)!=="object"&&(fo.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return pC(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(Ta.HTMLElement)||Ta.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":qn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},l.readAsDataURL(e)}else{var c=Ta.URL||Ta.webkitURL,d=c.createObjectURL(e);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function qz(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,o=s.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}var g5=Ta.atob.bind(Ta),i7=Ta.btoa.bind(Ta);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function gC(e,t){var r=e[0],n=e[1],s=e[2],i=e[3];r=Sd(r,n,s,i,t[0],7,-680876936),i=Sd(i,r,n,s,t[1],12,-389564586),s=Sd(s,i,r,n,t[2],17,606105819),n=Sd(n,s,i,r,t[3],22,-1044525330),r=Sd(r,n,s,i,t[4],7,-176418897),i=Sd(i,r,n,s,t[5],12,1200080426),s=Sd(s,i,r,n,t[6],17,-1473231341),n=Sd(n,s,i,r,t[7],22,-45705983),r=Sd(r,n,s,i,t[8],7,1770035416),i=Sd(i,r,n,s,t[9],12,-1958414417),s=Sd(s,i,r,n,t[10],17,-42063),n=Sd(n,s,i,r,t[11],22,-1990404162),r=Sd(r,n,s,i,t[12],7,1804603682),i=Sd(i,r,n,s,t[13],12,-40341101),s=Sd(s,i,r,n,t[14],17,-1502002290),r=Cd(r,n=Sd(n,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=Cd(i,r,n,s,t[6],9,-1069501632),s=Cd(s,i,r,n,t[11],14,643717713),n=Cd(n,s,i,r,t[0],20,-373897302),r=Cd(r,n,s,i,t[5],5,-701558691),i=Cd(i,r,n,s,t[10],9,38016083),s=Cd(s,i,r,n,t[15],14,-660478335),n=Cd(n,s,i,r,t[4],20,-405537848),r=Cd(r,n,s,i,t[9],5,568446438),i=Cd(i,r,n,s,t[14],9,-1019803690),s=Cd(s,i,r,n,t[3],14,-187363961),n=Cd(n,s,i,r,t[8],20,1163531501),r=Cd(r,n,s,i,t[13],5,-1444681467),i=Cd(i,r,n,s,t[2],9,-51403784),s=Cd(s,i,r,n,t[7],14,1735328473),r=Ed(r,n=Cd(n,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=Ed(i,r,n,s,t[8],11,-2022574463),s=Ed(s,i,r,n,t[11],16,1839030562),n=Ed(n,s,i,r,t[14],23,-35309556),r=Ed(r,n,s,i,t[1],4,-1530992060),i=Ed(i,r,n,s,t[4],11,1272893353),s=Ed(s,i,r,n,t[7],16,-155497632),n=Ed(n,s,i,r,t[10],23,-1094730640),r=Ed(r,n,s,i,t[13],4,681279174),i=Ed(i,r,n,s,t[0],11,-358537222),s=Ed(s,i,r,n,t[3],16,-722521979),n=Ed(n,s,i,r,t[6],23,76029189),r=Ed(r,n,s,i,t[9],4,-640364487),i=Ed(i,r,n,s,t[12],11,-421815835),s=Ed(s,i,r,n,t[15],16,530742520),r=Bd(r,n=Ed(n,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=Bd(i,r,n,s,t[7],10,1126891415),s=Bd(s,i,r,n,t[14],15,-1416354905),n=Bd(n,s,i,r,t[5],21,-57434055),r=Bd(r,n,s,i,t[12],6,1700485571),i=Bd(i,r,n,s,t[3],10,-1894986606),s=Bd(s,i,r,n,t[10],15,-1051523),n=Bd(n,s,i,r,t[1],21,-2054922799),r=Bd(r,n,s,i,t[8],6,1873313359),i=Bd(i,r,n,s,t[15],10,-30611744),s=Bd(s,i,r,n,t[6],15,-1560198380),n=Bd(n,s,i,r,t[13],21,1309151649),r=Bd(r,n,s,i,t[4],6,-145523070),i=Bd(i,r,n,s,t[11],10,-1120210379),s=Bd(s,i,r,n,t[2],15,718787259),n=Bd(n,s,i,r,t[9],21,-343485551),e[0]=sg(r,e[0]),e[1]=sg(n,e[1]),e[2]=sg(s,e[2]),e[3]=sg(i,e[3])}function Lj(e,t,r,n,s,i){return t=sg(sg(t,e),sg(n,i)),sg(t<<s|t>>>32-s,r)}function Sd(e,t,r,n,s,i,o){return Lj(t&r|~t&n,e,t,s,i,o)}function Cd(e,t,r,n,s,i,o){return Lj(t&n|r&~n,e,t,s,i,o)}function Ed(e,t,r,n,s,i,o){return Lj(t^r^n,e,t,s,i,o)}function Bd(e,t,r,n,s,i,o){return Lj(r^(t|~n),e,t,s,i,o)}function Gz(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)gC(n,dge(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(gC(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,gC(n,s),n}function dge(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var o7="0123456789abcdef".split("");function fge(e){for(var t="",r=0;r<4;r++)t+=o7[e>>8*r+4&15]+o7[e>>8*r&15];return t}function hge(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function gB(e){return Gz(e).map(hge).join("")}var Age=(function(e){for(var t=0;t<e.length;t++)e[t]=fge(e[t]);return e.join("")})(Gz("hello"))!="5d41402abc4b2a76b9719d911017c592";function sg(e,t){if(Age){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function xB(e,t){var r,n,s,i;if(e!==r){for(var o=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+o.charCodeAt(c))%256,l[c]=l[d],l[d]=u}r=e,n=l}else l=n;var h=t.length,m=0,A=0,y="";for(c=0;c<h;c++)A=(A+(u=l[m=(m+1)%256]))%256,l[m]=l[A],l[A]=u,o=l[(l[m]+l[A])%256],y+=String.fromCharCode(t.charCodeAt(c)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var l7={print:4,modify:8,copy:16,"annot-forms":32};function fv(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(l7.perm!==void 0)throw new Error("Invalid permission: "+l);s+=l7[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=gB(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=xB(this.encryptionKey,this.padding)}function hv(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[n]}return t}function c7(e){if(qn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(l){Ta.console&&fo.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function xb(e){if(!(this instanceof xb))return new xb(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Wz(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Zp(e,t,r,n,s){if(!(this instanceof Zp))return new Zp(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,Wz.call(this,n,s)}function wx(e,t,r,n,s){if(!(this instanceof wx))return new wx(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Wz.call(this,n,s)}function Qn(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],o=[],l=1,c=16,d="S",u=null;qn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,m={},A={internal:{},__private__:{}};A.__private__.PubSub=c7;var y="1.3",x=A.__private__.getPdfVersion=function(){return y};A.__private__.setPdfVersion=function(Ae){y=Ae};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};A.__private__.getPageFormats=function(){return v};var b=A.__private__.getPageFormat=function(Ae){return v[Ae]};s=s||"a4";var j="compat",E="advanced",T=j;function P(){this.saveGraphicsState(),re(new rn(Te,0,0,-Te,0,lu()*Te).toString()+" cm"),this.setFontSize(this.getFontSize()/Te),d="n",T=E}function U(){this.restoreGraphicsState(),d="S",T=j}var M=A.__private__.combineFontStyleAndFontWeight=function(Ae,We){if(Ae=="bold"&&We=="normal"||Ae=="bold"&&We==400||Ae=="normal"&&We=="italic"||Ae=="bold"&&We=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return We&&(Ae=We==400||We==="normal"?Ae==="italic"?"italic":"normal":We!=700&&We!=="bold"||Ae!=="normal"?(We==700?"bold":We)+""+Ae:"bold"),Ae};A.advancedAPI=function(Ae){var We=T===j;return We&&P.call(this),typeof Ae!="function"||(Ae(this),We&&U.call(this)),this},A.compatAPI=function(Ae){var We=T===E;return We&&U.call(this),typeof Ae!="function"||(Ae(this),We&&P.call(this)),this},A.isAdvancedAPI=function(){return T===E};var k,Q=function(Ae){if(T!==E)throw new Error(Ae+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=A.roundToPrecision=A.__private__.roundToPrecision=function(Ae,We){var St=t||We;if(isNaN(Ae)||isNaN(St))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Ae.toFixed(St).replace(/0+$/,"")};k=A.hpf=A.__private__.hpf=typeof c=="number"?function(Ae){if(isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.hpf");return z(Ae,c)}:c==="smart"?function(Ae){if(isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.hpf");return z(Ae,Ae>-1&&Ae<1?16:5)}:function(Ae){if(isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.hpf");return z(Ae,16)};var O=A.f2=A.__private__.f2=function(Ae){if(isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.f2");return z(Ae,2)},L=A.__private__.f3=function(Ae){if(isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.f3");return z(Ae,3)},V=A.scale=A.__private__.scale=function(Ae){if(isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.scale");return T===j?Ae*Te:T===E?Ae:void 0},J=function(Ae){return V((function(We){return T===j?lu()-We:T===E?We:void 0})(Ae))};A.__private__.setPrecision=A.setPrecision=function(Ae){typeof parseInt(Ae,10)=="number"&&(t=parseInt(Ae,10))};var ce,ee="00000000000000000000000000000000",de=A.__private__.getFileId=function(){return ee},se=A.__private__.setFileId=function(Ae){return ee=Ae!==void 0&&/^[a-fA-F0-9]{32}$/.test(Ae)?Ae.toUpperCase():ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Zn=new fv(u.userPermissions,u.userPassword,u.ownerPassword,ee)),ee};A.setFileId=function(Ae){return se(Ae),this},A.getFileId=function(){return de()};var he=A.__private__.convertDateToPDFDate=function(Ae){var We=Ae.getTimezoneOffset(),St=We<0?"+":"-",Mt=Math.floor(Math.abs(We/60)),Vt=Math.abs(We%60),wr=[St,Y(Mt),"'",Y(Vt),"'"].join("");return["D:",Ae.getFullYear(),Y(Ae.getMonth()+1),Y(Ae.getDate()),Y(Ae.getHours()),Y(Ae.getMinutes()),Y(Ae.getSeconds()),wr].join("")},fe=A.__private__.convertPDFDateToDate=function(Ae){var We=parseInt(Ae.substr(2,4),10),St=parseInt(Ae.substr(6,2),10)-1,Mt=parseInt(Ae.substr(8,2),10),Vt=parseInt(Ae.substr(10,2),10),wr=parseInt(Ae.substr(12,2),10),Er=parseInt(Ae.substr(14,2),10);return new Date(We,St,Mt,Vt,wr,Er,0)},ve=A.__private__.setCreationDate=function(Ae){var We;if(Ae===void 0&&(Ae=new Date),Ae instanceof Date)We=he(Ae);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Ae))throw new Error("Invalid argument passed to jsPDF.setCreationDate");We=Ae}return ce=We},B=A.__private__.getCreationDate=function(Ae){var We=ce;return Ae==="jsDate"&&(We=fe(ce)),We};A.setCreationDate=function(Ae){return ve(Ae),this},A.getCreationDate=function(Ae){return B(Ae)};var R,Y=A.__private__.padd2=function(Ae){return("0"+parseInt(Ae)).slice(-2)},ie=A.__private__.padd2Hex=function(Ae){return("00"+(Ae=Ae.toString())).substr(Ae.length)},ge=0,ye=[],pe=[],Z=0,le=[],te=[],Ne=!1,Fe=pe;A.__private__.setCustomOutputDestination=function(Ae){Ne=!0,Fe=Ae};var be=function(Ae){Ne||(Fe=Ae)};A.__private__.resetCustomOutputDestination=function(){Ne=!1,Fe=pe};var re=A.__private__.out=function(Ae){return Ae=Ae.toString(),Z+=Ae.length+1,Fe.push(Ae),Fe},Ce=A.__private__.write=function(Ae){return re(arguments.length===1?Ae.toString():Array.prototype.join.call(arguments," "))},st=A.__private__.getArrayBuffer=function(Ae){for(var We=Ae.length,St=new ArrayBuffer(We),Mt=new Uint8Array(St);We--;)Mt[We]=Ae.charCodeAt(We);return St},et=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];A.__private__.getStandardFonts=function(){return et};var He=e.fontSize||16;A.__private__.setFontSize=A.setFontSize=function(Ae){return He=T===E?Ae/Te:Ae,this};var ct,_e=A.__private__.getFontSize=A.getFontSize=function(){return T===j?He:He*Te},ke=e.R2L||!1;A.__private__.setR2L=A.setR2L=function(Ae){return ke=Ae,this},A.__private__.getR2L=A.getR2L=function(){return ke};var Ze,Pe=A.__private__.setZoomMode=function(Ae){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Ae))ct=Ae;else if(isNaN(Ae)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(Ae)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Ae+'" is not recognized.');ct=Ae}else ct=parseInt(Ae,10)};A.__private__.getZoomMode=function(){return ct};var ot,Ge=A.__private__.setPageMode=function(Ae){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Ae)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Ae+'" is not recognized.');Ze=Ae};A.__private__.getPageMode=function(){return Ze};var lt=A.__private__.setLayoutMode=function(Ae){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Ae)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Ae+'" is not recognized.');ot=Ae};A.__private__.getLayoutMode=function(){return ot},A.__private__.setDisplayMode=A.setDisplayMode=function(Ae,We,St){return Pe(Ae),lt(We),Ge(St),this};var Je={title:"",subject:"",author:"",keywords:"",creator:""};A.__private__.getDocumentProperty=function(Ae){if(Object.keys(Je).indexOf(Ae)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Je[Ae]},A.__private__.getDocumentProperties=function(){return Je},A.__private__.setDocumentProperties=A.setProperties=A.setDocumentProperties=function(Ae){for(var We in Je)Je.hasOwnProperty(We)&&Ae[We]&&(Je[We]=Ae[We]);return this},A.__private__.setDocumentProperty=function(Ae,We){if(Object.keys(Je).indexOf(Ae)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Je[Ae]=We};var Me,Te,je,Ke,Le,rt={},Oe={},De=[],ut={},_t={},qt={},Ft={},gt=null,Zt=0,$t=[],rr=new c7(A),kr=e.hotfixes||[],Qr={},dn={},ja=[],rn=function Ae(We,St,Mt,Vt,wr,Er){if(!(this instanceof Ae))return new Ae(We,St,Mt,Vt,wr,Er);isNaN(We)&&(We=1),isNaN(St)&&(St=0),isNaN(Mt)&&(Mt=0),isNaN(Vt)&&(Vt=1),isNaN(wr)&&(wr=0),isNaN(Er)&&(Er=0),this._matrix=[We,St,Mt,Vt,wr,Er]};Object.defineProperty(rn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Ae){this._matrix[0]=Ae}}),Object.defineProperty(rn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Ae){this._matrix[1]=Ae}}),Object.defineProperty(rn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Ae){this._matrix[2]=Ae}}),Object.defineProperty(rn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Ae){this._matrix[3]=Ae}}),Object.defineProperty(rn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Ae){this._matrix[4]=Ae}}),Object.defineProperty(rn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Ae){this._matrix[5]=Ae}}),Object.defineProperty(rn.prototype,"a",{get:function(){return this._matrix[0]},set:function(Ae){this._matrix[0]=Ae}}),Object.defineProperty(rn.prototype,"b",{get:function(){return this._matrix[1]},set:function(Ae){this._matrix[1]=Ae}}),Object.defineProperty(rn.prototype,"c",{get:function(){return this._matrix[2]},set:function(Ae){this._matrix[2]=Ae}}),Object.defineProperty(rn.prototype,"d",{get:function(){return this._matrix[3]},set:function(Ae){this._matrix[3]=Ae}}),Object.defineProperty(rn.prototype,"e",{get:function(){return this._matrix[4]},set:function(Ae){this._matrix[4]=Ae}}),Object.defineProperty(rn.prototype,"f",{get:function(){return this._matrix[5]},set:function(Ae){this._matrix[5]=Ae}}),Object.defineProperty(rn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(rn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(rn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(rn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),rn.prototype.join=function(Ae){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(Ae)},rn.prototype.multiply=function(Ae){var We=Ae.sx*this.sx+Ae.shy*this.shx,St=Ae.sx*this.shy+Ae.shy*this.sy,Mt=Ae.shx*this.sx+Ae.sy*this.shx,Vt=Ae.shx*this.shy+Ae.sy*this.sy,wr=Ae.tx*this.sx+Ae.ty*this.shx+this.tx,Er=Ae.tx*this.shy+Ae.ty*this.sy+this.ty;return new rn(We,St,Mt,Vt,wr,Er)},rn.prototype.decompose=function(){var Ae=this.sx,We=this.shy,St=this.shx,Mt=this.sy,Vt=this.tx,wr=this.ty,Er=Math.sqrt(Ae*Ae+We*We),tn=(Ae/=Er)*St+(We/=Er)*Mt;St-=Ae*tn,Mt-=We*tn;var gn=Math.sqrt(St*St+Mt*Mt);return tn/=gn,Ae*(Mt/=gn)<We*(St/=gn)&&(Ae=-Ae,We=-We,tn=-tn,Er=-Er),{scale:new rn(Er,0,0,gn,0,0),translate:new rn(1,0,0,1,Vt,wr),rotate:new rn(Ae,We,-We,Ae,0,0),skew:new rn(1,0,tn,1,0,0)}},rn.prototype.toString=function(Ae){return this.join(" ")},rn.prototype.inversed=function(){var Ae=this.sx,We=this.shy,St=this.shx,Mt=this.sy,Vt=this.tx,wr=this.ty,Er=1/(Ae*Mt-We*St),tn=Mt*Er,gn=-We*Er,kn=-St*Er,nn=Ae*Er;return new rn(tn,gn,kn,nn,-tn*Vt-kn*wr,-gn*Vt-nn*wr)},rn.prototype.applyToPoint=function(Ae){var We=Ae.x*this.sx+Ae.y*this.shx+this.tx,St=Ae.x*this.shy+Ae.y*this.sy+this.ty;return new ou(We,St)},rn.prototype.applyToRectangle=function(Ae){var We=this.applyToPoint(Ae),St=this.applyToPoint(new ou(Ae.x+Ae.w,Ae.y+Ae.h));return new ks(We.x,We.y,St.x-We.x,St.y-We.y)},rn.prototype.clone=function(){var Ae=this.sx,We=this.shy,St=this.shx,Mt=this.sy,Vt=this.tx,wr=this.ty;return new rn(Ae,We,St,Mt,Vt,wr)},A.Matrix=rn;var Vr=A.matrixMult=function(Ae,We){return We.multiply(Ae)},On=new rn(1,0,0,1,0,0);A.unitMatrix=A.identityMatrix=On;var Gn=function(Ae,We){if(!_t[Ae]){var St=(We instanceof Zp?"Sh":"P")+(Object.keys(ut).length+1).toString(10);We.id=St,_t[Ae]=St,ut[St]=We,rr.publish("addPattern",We)}};A.ShadingPattern=Zp,A.TilingPattern=wx,A.addShadingPattern=function(Ae,We){return Q("addShadingPattern()"),Gn(Ae,We),this},A.beginTilingPattern=function(Ae){Q("beginTilingPattern()"),Xa(Ae.boundingBox[0],Ae.boundingBox[1],Ae.boundingBox[2]-Ae.boundingBox[0],Ae.boundingBox[3]-Ae.boundingBox[1],Ae.matrix)},A.endTilingPattern=function(Ae,We){Q("endTilingPattern()"),We.stream=te[R].join(`
`),Gn(Ae,We),rr.publish("endTilingPattern",We),ja.pop().restore()};var Dn,Ct=A.__private__.newObject=function(){var Ae=fr();return $e(Ae,!0),Ae},fr=A.__private__.newObjectDeferred=function(){return ge++,ye[ge]=function(){return Z},ge},$e=function(Ae,We){return We=typeof We=="boolean"&&We,ye[Ae]=Z,We&&re(Ae+" 0 obj"),Ae},pt=A.__private__.newAdditionalObject=function(){var Ae={objId:fr(),content:""};return le.push(Ae),Ae},ft=fr(),mt=fr(),Re=A.__private__.decodeColorString=function(Ae){var We=Ae.split(" ");if(We.length!==2||We[1]!=="g"&&We[1]!=="G")We.length!==5||We[4]!=="k"&&We[4]!=="K"||(We=[(1-We[0])*(1-We[3]),(1-We[1])*(1-We[3]),(1-We[2])*(1-We[3]),"r"]);else{var St=parseFloat(We[0]);We=[St,St,St,"r"]}for(var Mt="#",Vt=0;Vt<3;Vt++)Mt+=("0"+Math.floor(255*parseFloat(We[Vt])).toString(16)).slice(-2);return Mt},Ee=A.__private__.encodeColorString=function(Ae){var We;typeof Ae=="string"&&(Ae={ch1:Ae});var St=Ae.ch1,Mt=Ae.ch2,Vt=Ae.ch3,wr=Ae.ch4,Er=Ae.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof St=="string"&&St.charAt(0)!=="#"){var tn=new qz(St);if(tn.ok)St=tn.toHex();else if(!/^\d*\.?\d*$/.test(St))throw new Error('Invalid color "'+St+'" passed to jsPDF.encodeColorString.')}if(typeof St=="string"&&/^#[0-9A-Fa-f]{3}$/.test(St)&&(St="#"+St[1]+St[1]+St[2]+St[2]+St[3]+St[3]),typeof St=="string"&&/^#[0-9A-Fa-f]{6}$/.test(St)){var gn=parseInt(St.substr(1),16);St=gn>>16&255,Mt=gn>>8&255,Vt=255&gn}if(Mt===void 0||wr===void 0&&St===Mt&&Mt===Vt)We=typeof St=="string"?St+" "+Er[0]:Ae.precision===2?O(St/255)+" "+Er[0]:L(St/255)+" "+Er[0];else if(wr===void 0||qn(wr)==="object"){if(wr&&!isNaN(wr.a)&&wr.a===0)return["1.","1.","1.",Er[1]].join(" ");We=typeof St=="string"?[St,Mt,Vt,Er[1]].join(" "):Ae.precision===2?[O(St/255),O(Mt/255),O(Vt/255),Er[1]].join(" "):[L(St/255),L(Mt/255),L(Vt/255),Er[1]].join(" ")}else We=typeof St=="string"?[St,Mt,Vt,wr,Er[2]].join(" "):Ae.precision===2?[O(St),O(Mt),O(Vt),O(wr),Er[2]].join(" "):[L(St),L(Mt),L(Vt),L(wr),Er[2]].join(" ");return We},ht=A.__private__.getFilters=function(){return o},nt=A.__private__.putStream=function(Ae){var We=(Ae=Ae||{}).data||"",St=Ae.filters||ht(),Mt=Ae.alreadyAppliedFilters||[],Vt=Ae.addLength1||!1,wr=We.length,Er=Ae.objectId,tn=function(qe){return qe};if(u!==null&&Er===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(tn=Zn.encryptor(Er,0));var gn={};St===!0&&(St=["FlateEncode"]);var kn=Ae.additionalKeyValues||[],nn=(gn=Qn.API.processDataByFilters!==void 0?Qn.API.processDataByFilters(We,St):{data:We,reverseChain:[]}).reverseChain+(Array.isArray(Mt)?Mt.join(" "):Mt.toString());if(gn.data.length!==0&&(kn.push({key:"Length",value:gn.data.length}),Vt===!0&&kn.push({key:"Length1",value:wr})),nn.length!=0)if(nn.split("/").length-1==1)kn.push({key:"Filter",value:nn});else{kn.push({key:"Filter",value:"["+nn+"]"});for(var ia=0;ia<kn.length;ia+=1)if(kn[ia].key==="DecodeParms"){for(var ts=[],Ws=0;Ws<gn.reverseChain.split("/").length-1;Ws+=1)ts.push("null");ts.push(kn[ia].value),kn[ia].value="["+ts.join(" ")+"]"}}re("<<");for(var ae=0;ae<kn.length;ae++)re("/"+kn[ae].key+" "+kn[ae].value);re(">>"),gn.data.length!==0&&(re("stream"),re(tn(gn.data)),re("endstream"))},Et=A.__private__.putPage=function(Ae){var We=Ae.number,St=Ae.data,Mt=Ae.objId,Vt=Ae.contentsObjId;$e(Mt,!0),re("<</Type /Page"),re("/Parent "+Ae.rootDictionaryObjId+" 0 R"),re("/Resources "+Ae.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(k(Ae.mediaBox.bottomLeftX))+" "+parseFloat(k(Ae.mediaBox.bottomLeftY))+" "+k(Ae.mediaBox.topRightX)+" "+k(Ae.mediaBox.topRightY)+"]"),Ae.cropBox!==null&&re("/CropBox ["+k(Ae.cropBox.bottomLeftX)+" "+k(Ae.cropBox.bottomLeftY)+" "+k(Ae.cropBox.topRightX)+" "+k(Ae.cropBox.topRightY)+"]"),Ae.bleedBox!==null&&re("/BleedBox ["+k(Ae.bleedBox.bottomLeftX)+" "+k(Ae.bleedBox.bottomLeftY)+" "+k(Ae.bleedBox.topRightX)+" "+k(Ae.bleedBox.topRightY)+"]"),Ae.trimBox!==null&&re("/TrimBox ["+k(Ae.trimBox.bottomLeftX)+" "+k(Ae.trimBox.bottomLeftY)+" "+k(Ae.trimBox.topRightX)+" "+k(Ae.trimBox.topRightY)+"]"),Ae.artBox!==null&&re("/ArtBox ["+k(Ae.artBox.bottomLeftX)+" "+k(Ae.artBox.bottomLeftY)+" "+k(Ae.artBox.topRightX)+" "+k(Ae.artBox.topRightY)+"]"),typeof Ae.userUnit=="number"&&Ae.userUnit!==1&&re("/UserUnit "+Ae.userUnit),rr.publish("putPage",{objId:Mt,pageContext:$t[We],pageNumber:We,page:St}),re("/Contents "+Vt+" 0 R"),re(">>"),re("endobj");var wr=St.join(`
`);return T===E&&(wr+=`
Q`),$e(Vt,!0),nt({data:wr,filters:ht(),objectId:Vt}),re("endobj"),Mt},Qe=A.__private__.putPages=function(){var Ae,We,St=[];for(Ae=1;Ae<=Zt;Ae++)$t[Ae].objId=fr(),$t[Ae].contentsObjId=fr();for(Ae=1;Ae<=Zt;Ae++)St.push(Et({number:Ae,data:te[Ae],objId:$t[Ae].objId,contentsObjId:$t[Ae].contentsObjId,mediaBox:$t[Ae].mediaBox,cropBox:$t[Ae].cropBox,bleedBox:$t[Ae].bleedBox,trimBox:$t[Ae].trimBox,artBox:$t[Ae].artBox,userUnit:$t[Ae].userUnit,rootDictionaryObjId:ft,resourceDictionaryObjId:mt}));$e(ft,!0),re("<</Type /Pages");var Mt="/Kids [";for(We=0;We<Zt;We++)Mt+=St[We]+" 0 R ";re(Mt+"]"),re("/Count "+Zt),re(">>"),re("endobj"),rr.publish("postPutPages")},bt=function(Ae){rr.publish("putFont",{font:Ae,out:re,newObject:Ct,putStream:nt}),Ae.isAlreadyPutted!==!0&&(Ae.objectNumber=Ct(),re("<<"),re("/Type /Font"),re("/BaseFont /"+hv(Ae.postScriptName)),re("/Subtype /Type1"),typeof Ae.encoding=="string"&&re("/Encoding /"+Ae.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},It=function(Ae){Ae.objectNumber=Ct();var We=[];We.push({key:"Type",value:"/XObject"}),We.push({key:"Subtype",value:"/Form"}),We.push({key:"BBox",value:"["+[k(Ae.x),k(Ae.y),k(Ae.x+Ae.width),k(Ae.y+Ae.height)].join(" ")+"]"}),We.push({key:"Matrix",value:"["+Ae.matrix.toString()+"]"});var St=Ae.pages[1].join(`
`);nt({data:St,additionalKeyValues:We,objectId:Ae.objectNumber}),re("endobj")},nr=function(Ae,We){We||(We=21);var St=Ct(),Mt=(function(Er,tn){var gn,kn=[],nn=1/(tn-1);for(gn=0;gn<1;gn+=nn)kn.push(gn);if(kn.push(1),Er[0].offset!=0){var ia={offset:0,color:Er[0].color};Er.unshift(ia)}if(Er[Er.length-1].offset!=1){var ts={offset:1,color:Er[Er.length-1].color};Er.push(ts)}for(var Ws="",ae=0,qe=0;qe<kn.length;qe++){for(gn=kn[qe];gn>Er[ae+1].offset;)ae++;var Bt=Er[ae].offset,Ot=(gn-Bt)/(Er[ae+1].offset-Bt),Gt=Er[ae].color,hr=Er[ae+1].color;Ws+=ie(Math.round((1-Ot)*Gt[0]+Ot*hr[0]).toString(16))+ie(Math.round((1-Ot)*Gt[1]+Ot*hr[1]).toString(16))+ie(Math.round((1-Ot)*Gt[2]+Ot*hr[2]).toString(16))}return Ws.trim()})(Ae.colors,We),Vt=[];Vt.push({key:"FunctionType",value:"0"}),Vt.push({key:"Domain",value:"[0.0 1.0]"}),Vt.push({key:"Size",value:"["+We+"]"}),Vt.push({key:"BitsPerSample",value:"8"}),Vt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Vt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),nt({data:Mt,additionalKeyValues:Vt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:St}),re("endobj"),Ae.objectNumber=Ct(),re("<< /ShadingType "+Ae.type),re("/ColorSpace /DeviceRGB");var wr="/Coords ["+k(parseFloat(Ae.coords[0]))+" "+k(parseFloat(Ae.coords[1]))+" ";Ae.type===2?wr+=k(parseFloat(Ae.coords[2]))+" "+k(parseFloat(Ae.coords[3])):wr+=k(parseFloat(Ae.coords[2]))+" "+k(parseFloat(Ae.coords[3]))+" "+k(parseFloat(Ae.coords[4]))+" "+k(parseFloat(Ae.coords[5])),re(wr+="]"),Ae.matrix&&re("/Matrix ["+Ae.matrix.toString()+"]"),re("/Function "+St+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},tr=function(Ae,We){var St=fr(),Mt=Ct();We.push({resourcesOid:St,objectOid:Mt}),Ae.objectNumber=Mt;var Vt=[];Vt.push({key:"Type",value:"/Pattern"}),Vt.push({key:"PatternType",value:"1"}),Vt.push({key:"PaintType",value:"1"}),Vt.push({key:"TilingType",value:"1"}),Vt.push({key:"BBox",value:"["+Ae.boundingBox.map(k).join(" ")+"]"}),Vt.push({key:"XStep",value:k(Ae.xStep)}),Vt.push({key:"YStep",value:k(Ae.yStep)}),Vt.push({key:"Resources",value:St+" 0 R"}),Ae.matrix&&Vt.push({key:"Matrix",value:"["+Ae.matrix.toString()+"]"}),nt({data:Ae.stream,additionalKeyValues:Vt,objectId:Ae.objectNumber}),re("endobj")},vr=function(Ae){for(var We in Ae.objectNumber=Ct(),re("<<"),Ae)switch(We){case"opacity":re("/ca "+O(Ae[We]));break;case"stroke-opacity":re("/CA "+O(Ae[We]))}re(">>"),re("endobj")},yr=function(Ae){$e(Ae.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var We in re("/Font <<"),rt)rt.hasOwnProperty(We)&&(h===!1||h===!0&&m.hasOwnProperty(We))&&re("/"+We+" "+rt[We].objectNumber+" 0 R");re(">>")})(),(function(){if(Object.keys(ut).length>0){for(var We in re("/Shading <<"),ut)ut.hasOwnProperty(We)&&ut[We]instanceof Zp&&ut[We].objectNumber>=0&&re("/"+We+" "+ut[We].objectNumber+" 0 R");rr.publish("putShadingPatternDict"),re(">>")}})(),(function(We){if(Object.keys(ut).length>0){for(var St in re("/Pattern <<"),ut)ut.hasOwnProperty(St)&&ut[St]instanceof A.TilingPattern&&ut[St].objectNumber>=0&&ut[St].objectNumber<We&&re("/"+St+" "+ut[St].objectNumber+" 0 R");rr.publish("putTilingPatternDict"),re(">>")}})(Ae.objectOid),(function(){if(Object.keys(qt).length>0){var We;for(We in re("/ExtGState <<"),qt)qt.hasOwnProperty(We)&&qt[We].objectNumber>=0&&re("/"+We+" "+qt[We].objectNumber+" 0 R");rr.publish("putGStateDict"),re(">>")}})(),(function(){for(var We in re("/XObject <<"),Qr)Qr.hasOwnProperty(We)&&Qr[We].objectNumber>=0&&re("/"+We+" "+Qr[We].objectNumber+" 0 R");rr.publish("putXobjectDict"),re(">>")})(),re(">>"),re("endobj")},Yr=function(Ae){Oe[Ae.fontName]=Oe[Ae.fontName]||{},Oe[Ae.fontName][Ae.fontStyle]=Ae.id},zn=function(Ae,We,St,Mt,Vt){var wr={id:"F"+(Object.keys(rt).length+1).toString(10),postScriptName:Ae,fontName:We,fontStyle:St,encoding:Mt,isStandardFont:Vt||!1,metadata:{}};return rr.publish("addFont",{font:wr,instance:this}),rt[wr.id]=wr,Yr(wr),wr.id},Hn=A.__private__.pdfEscape=A.pdfEscape=function(Ae,We){return(function(St,Mt){var Vt,wr,Er,tn,gn,kn,nn,ia,ts;if(Er=(Mt=Mt||{}).sourceEncoding||"Unicode",gn=Mt.outputEncoding,(Mt.autoencode||gn)&&rt[Me].metadata&&rt[Me].metadata[Er]&&rt[Me].metadata[Er].encoding&&(tn=rt[Me].metadata[Er].encoding,!gn&&rt[Me].encoding&&(gn=rt[Me].encoding),!gn&&tn.codePages&&(gn=tn.codePages[0]),typeof gn=="string"&&(gn=tn[gn]),gn)){for(nn=!1,kn=[],Vt=0,wr=St.length;Vt<wr;Vt++)(ia=gn[St.charCodeAt(Vt)])?kn.push(String.fromCharCode(ia)):kn.push(St[Vt]),kn[Vt].charCodeAt(0)>>8&&(nn=!0);St=kn.join("")}for(Vt=St.length;nn===void 0&&Vt!==0;)St.charCodeAt(Vt-1)>>8&&(nn=!0),Vt--;if(!nn)return St;for(kn=Mt.noBOM?[]:[254,255],Vt=0,wr=St.length;Vt<wr;Vt++){if((ts=(ia=St.charCodeAt(Vt))>>8)>>8)throw new Error("Character at position "+Vt+" of string '"+St+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");kn.push(ts),kn.push(ia-(ts<<8))}return String.fromCharCode.apply(void 0,kn)})(Ae,We).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xa=A.__private__.beginPage=function(Ae){te[++Zt]=[],$t[Zt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Ae[0]),topRightY:Number(Ae[1])}},mi(Zt),be(te[R])},Ai=function(Ae,We){var St,Mt,Vt;switch(r=We||r,typeof Ae=="string"&&(St=b(Ae.toLowerCase()),Array.isArray(St)&&(Mt=St[0],Vt=St[1])),Array.isArray(Ae)&&(Mt=Ae[0]*Te,Vt=Ae[1]*Te),isNaN(Mt)&&(Mt=s[0],Vt=s[1]),(Mt>14400||Vt>14400)&&(fo.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Mt=Math.min(14400,Mt),Vt=Math.min(14400,Vt)),s=[Mt,Vt],r.substr(0,1)){case"l":Vt>Mt&&(s=[Vt,Mt]);break;case"p":Mt>Vt&&(s=[Vt,Mt])}xa(s),Rd(Rl),re(xc),vo!==0&&re(vo+" J"),Ql!==0&&re(Ql+" j"),rr.publish("addPage",{pageNumber:Zt})},Ya=function(Ae){Ae>0&&Ae<=Zt&&(te.splice(Ae,1),$t.splice(Ae,1),Zt--,R>Zt&&(R=Zt),this.setPage(R))},mi=function(Ae){Ae>0&&Ae<=Zt&&(R=Ae)},Ro=A.__private__.getNumberOfPages=A.getNumberOfPages=function(){return te.length-1},po=function(Ae,We,St){var Mt,Vt=void 0;return St=St||{},Ae=Ae!==void 0?Ae:rt[Me].fontName,We=We!==void 0?We:rt[Me].fontStyle,Mt=Ae.toLowerCase(),Oe[Mt]!==void 0&&Oe[Mt][We]!==void 0?Vt=Oe[Mt][We]:Oe[Ae]!==void 0&&Oe[Ae][We]!==void 0?Vt=Oe[Ae][We]:St.disableWarning===!1&&fo.warn("Unable to look up font label for font '"+Ae+"', '"+We+"'. Refer to getFontList() for available fonts."),Vt||St.noFallback||(Vt=Oe.times[We])==null&&(Vt=Oe.times.normal),Vt},pi=A.__private__.putInfo=function(){var Ae=Ct(),We=function(Mt){return Mt};for(var St in u!==null&&(We=Zn.encryptor(Ae,0)),re("<<"),re("/Producer ("+Hn(We("jsPDF "+Qn.version))+")"),Je)Je.hasOwnProperty(St)&&Je[St]&&re("/"+St.substr(0,1).toUpperCase()+St.substr(1)+" ("+Hn(We(Je[St]))+")");re("/CreationDate ("+Hn(We(ce))+")"),re(">>"),re("endobj")},Qs=A.__private__.putCatalog=function(Ae){var We=(Ae=Ae||{}).rootDictionaryObjId||ft;switch(Ct(),re("<<"),re("/Type /Catalog"),re("/Pages "+We+" 0 R"),ct||(ct="fullwidth"),ct){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var St=""+ct;St.substr(St.length-1)==="%"&&(ct=parseInt(ct)/100),typeof ct=="number"&&re("/OpenAction [3 0 R /XYZ null null "+O(ct)+"]")}switch(ot||(ot="continuous"),ot){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}Ze&&re("/PageMode /"+Ze),rr.publish("putCatalog"),re(">>"),re("endobj")},Qa=A.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(ge+1)),re("/Root "+ge+" 0 R"),re("/Info "+(ge-1)+" 0 R"),u!==null&&re("/Encrypt "+Zn.oid+" 0 R"),re("/ID [ <"+ee+"> <"+ee+"> ]"),re(">>")},Pu=A.__private__.putHeader=function(){re("%PDF-"+y),re("%")},Ac=A.__private__.putXRef=function(){var Ae="0000000000";re("xref"),re("0 "+(ge+1)),re("0000000000 65535 f ");for(var We=1;We<=ge;We++)typeof ye[We]=="function"?re((Ae+ye[We]()).slice(-10)+" 00000 n "):ye[We]!==void 0?re((Ae+ye[We]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},ao=A.__private__.buildDocument=function(){var Ae;ge=0,Z=0,pe=[],ye=[],le=[],ft=fr(),mt=fr(),be(pe),rr.publish("buildDocument"),Pu(),Qe(),(function(){rr.publish("putAdditionalObjects");for(var St=0;St<le.length;St++){var Mt=le[St];$e(Mt.objId,!0),re(Mt.content),re("endobj")}rr.publish("postPutAdditionalObjects")})(),Ae=[],(function(){for(var St in rt)rt.hasOwnProperty(St)&&(h===!1||h===!0&&m.hasOwnProperty(St))&&bt(rt[St])})(),(function(){var St;for(St in qt)qt.hasOwnProperty(St)&&vr(qt[St])})(),(function(){for(var St in Qr)Qr.hasOwnProperty(St)&&It(Qr[St])})(),(function(St){var Mt;for(Mt in ut)ut.hasOwnProperty(Mt)&&(ut[Mt]instanceof Zp?nr(ut[Mt]):ut[Mt]instanceof wx&&tr(ut[Mt],St))})(Ae),rr.publish("putResources"),Ae.forEach(yr),yr({resourcesOid:mt,objectOid:Number.MAX_SAFE_INTEGER}),rr.publish("postPutResources"),u!==null&&(Zn.oid=Ct(),re("<<"),re("/Filter /Standard"),re("/V "+Zn.v),re("/R "+Zn.r),re("/U <"+Zn.toHexString(Zn.U)+">"),re("/O <"+Zn.toHexString(Zn.O)+">"),re("/P "+Zn.P),re(">>"),re("endobj")),pi(),Qs();var We=Z;return Ac(),Qa(),re("startxref"),re(""+We),re("%%EOF"),be(te[R]),pe.join(`
`)},nl=A.__private__.getBlob=function(Ae){return new Blob([st(Ae)],{type:"application/pdf"})},bs=A.output=A.__private__.output=(Dn=function(Ae,We){switch(typeof(We=We||{})=="string"?We={filename:We}:We.filename=We.filename||"generated.pdf",Ae){case void 0:return ao();case"save":A.save(We.filename);break;case"arraybuffer":return st(ao());case"blob":return nl(ao());case"bloburi":case"bloburl":if(Ta.URL!==void 0&&typeof Ta.URL.createObjectURL=="function")return Ta.URL&&Ta.URL.createObjectURL(nl(ao()))||void 0;fo.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var St="",Mt=ao();try{St=i7(Mt)}catch{St=i7(unescape(encodeURIComponent(Mt)))}return"data:application/pdf;filename="+We.filename+";base64,"+St;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ta)==="[object Window]"){var Vt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",wr=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';We.pdfObjectUrl&&(Vt=We.pdfObjectUrl,wr="");var Er='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Vt+'"'+wr+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(We)+");<\/script></body></html>",tn=Ta.open();return tn!==null&&tn.document.write(Er),tn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ta)==="[object Window]"){var gn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(We.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+We.filename+'" width="500px" height="400px" /></body></html>',kn=Ta.open();if(kn!==null){kn.document.write(gn);var nn=this;kn.document.documentElement.querySelector("#pdfViewer").onload=function(){kn.document.title=We.filename,kn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(nn.output("bloburl"))}}return kn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ta)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ia='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",We)+'"></iframe></body></html>',ts=Ta.open();if(ts!==null&&(ts.document.write(ia),ts.document.title=We.filename),ts||typeof safari>"u")return ts;break;case"datauri":case"dataurl":return Ta.document.location.href=this.output("datauristring",We);default:return null}},Dn.foo=function(){try{return Dn.apply(this,arguments)}catch(St){var Ae=St.stack||"";~Ae.indexOf(" at ")&&(Ae=Ae.split(" at ")[1]);var We="Error in function "+Ae.split(`
`)[0].split("<")[0]+": "+St.message;if(!Ta.console)throw new Error(We);Ta.console.error(We,St),Ta.alert&&alert(We)}},Dn.foo.bar=Dn,Dn.foo),Is=function(Ae){return Array.isArray(kr)===!0&&kr.indexOf(Ae)>-1};switch(n){case"pt":Te=1;break;case"mm":Te=72/25.4;break;case"cm":Te=72/2.54;break;case"in":Te=72;break;case"px":Te=Is("px_scaling")==1?.75:96/72;break;case"pc":case"em":Te=12;break;case"ex":Te=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Te=n}var Zn=null;ve(),se();var mc=A.__private__.getPageInfo=A.getPageInfo=function(Ae){if(isNaN(Ae)||Ae%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:$t[Ae].objId,pageNumber:Ae,pageContext:$t[Ae]}},sd=A.__private__.getPageInfoByObjId=function(Ae){if(isNaN(Ae)||Ae%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var We in $t)if($t[We].objId===Ae)break;return mc(We)},Lu=A.__private__.getCurrentPageInfo=A.getCurrentPageInfo=function(){return{objId:$t[R].objId,pageNumber:R,pageContext:$t[R]}};A.addPage=function(){return Ai.apply(this,arguments),this},A.setPage=function(){return mi.apply(this,arguments),be.call(this,te[R]),this},A.insertPage=function(Ae){return this.addPage(),this.movePage(R,Ae),this},A.movePage=function(Ae,We){var St,Mt;if(Ae>We){St=te[Ae],Mt=$t[Ae];for(var Vt=Ae;Vt>We;Vt--)te[Vt]=te[Vt-1],$t[Vt]=$t[Vt-1];te[We]=St,$t[We]=Mt,this.setPage(We)}else if(Ae<We){St=te[Ae],Mt=$t[Ae];for(var wr=Ae;wr<We;wr++)te[wr]=te[wr+1],$t[wr]=$t[wr+1];te[We]=St,$t[We]=Mt,this.setPage(We)}return this},A.deletePage=function(){return Ya.apply(this,arguments),this},A.__private__.text=A.text=function(Ae,We,St,Mt,Vt){var wr,Er,tn,gn,kn,nn,ia,ts,Ws,ae=(Mt=Mt||{}).scope||this;if(typeof Ae=="number"&&typeof We=="number"&&(typeof St=="string"||Array.isArray(St))){var qe=St;St=We,We=Ae,Ae=qe}if(arguments[3]instanceof rn==0?(tn=arguments[4],gn=arguments[5],qn(ia=arguments[3])==="object"&&ia!==null||(typeof tn=="string"&&(gn=tn,tn=null),typeof ia=="string"&&(gn=ia,ia=null),typeof ia=="number"&&(tn=ia,ia=null),Mt={flags:ia,angle:tn,align:gn})):(Q("The transform parameter of text() with a Matrix value"),Ws=Vt),isNaN(We)||isNaN(St)||Ae==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Ae.length===0)return ae;var Bt,Ot="",Gt=typeof Mt.lineHeightFactor=="number"?Mt.lineHeightFactor:gl,hr=ae.internal.scaleFactor;function Br(Rr){return Rr=Rr.split("	").join(Array(Mt.TabLen||9).join(" ")),Hn(Rr,ia)}function Xr(Rr){for(var cn,ea=Rr.concat(),xn=[],_o=ea.length;_o--;)typeof(cn=ea.shift())=="string"?xn.push(cn):Array.isArray(Rr)&&(cn.length===1||cn[1]===void 0&&cn[2]===void 0)?xn.push(cn[0]):xn.push([cn[0],cn[1],cn[2]]);return xn}function An(Rr,cn){var ea;if(typeof Rr=="string")ea=cn(Rr)[0];else if(Array.isArray(Rr)){for(var xn,_o,bc=Rr.concat(),Xs=[],Fo=bc.length;Fo--;)typeof(xn=bc.shift())=="string"?Xs.push(cn(xn)[0]):Array.isArray(xn)&&typeof xn[0]=="string"&&(_o=cn(xn[0],xn[1],xn[2]),Xs.push([_o[0],_o[1],_o[2]]));ea=Xs}return ea}var Pn=!1,_n=!0;if(typeof Ae=="string")Pn=!0;else if(Array.isArray(Ae)){var na=Ae.concat();Er=[];for(var Ha,oa=na.length;oa--;)(typeof(Ha=na.shift())!="string"||Array.isArray(Ha)&&typeof Ha[0]!="string")&&(_n=!1);Pn=_n}if(Pn===!1)throw new Error('Type of text must be string or Array. "'+Ae+'" is not recognized.');typeof Ae=="string"&&(Ae=Ae.match(/[\r?\n]/)?Ae.split(/\r\n|\r|\n/g):[Ae]);var En=He/ae.internal.scaleFactor,As=En*(Gt-1);switch(Mt.baseline){case"bottom":St-=As;break;case"top":St+=En-As;break;case"hanging":St+=En-2*As;break;case"middle":St+=En/2-As}if((nn=Mt.maxWidth||0)>0&&(typeof Ae=="string"?Ae=ae.splitTextToSize(Ae,nn):Object.prototype.toString.call(Ae)==="[object Array]"&&(Ae=Ae.reduce(function(Rr,cn){return Rr.concat(ae.splitTextToSize(cn,nn))},[]))),wr={text:Ae,x:We,y:St,options:Mt,mutex:{pdfEscape:Hn,activeFontKey:Me,fonts:rt,activeFontSize:He}},rr.publish("preProcessText",wr),Ae=wr.text,tn=(Mt=wr.options).angle,Ws instanceof rn==0&&tn&&typeof tn=="number"){tn*=Math.PI/180,Mt.rotationDirection===0&&(tn=-tn),T===E&&(tn=-tn);var Ys=Math.cos(tn),Eo=Math.sin(tn);Ws=new rn(Ys,Eo,-Eo,Ys,0,0)}else tn&&tn instanceof rn&&(Ws=tn);T!==E||Ws||(Ws=On),(kn=Mt.charSpace||vl)!==void 0&&(Ot+=k(V(kn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ts=Mt.horizontalScale)!==void 0&&(Ot+=k(100*ts)+` Tz
`),Mt.lang;var Mn=-1,us=Mt.renderingMode!==void 0?Mt.renderingMode:Mt.stroke,bl=ae.internal.getCurrentPageInfo().pageContext;switch(us){case 0:case!1:case"fill":Mn=0;break;case 1:case!0:case"stroke":Mn=1;break;case 2:case"fillThenStroke":Mn=2;break;case 3:case"invisible":Mn=3;break;case 4:case"fillAndAddForClipping":Mn=4;break;case 5:case"strokeAndAddPathForClipping":Mn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Mn=6;break;case 7:case"addToPathForClipping":Mn=7}var qi=bl.usedRenderingMode!==void 0?bl.usedRenderingMode:-1;Mn!==-1?Ot+=Mn+` Tr
`:qi!==-1&&(Ot+=`0 Tr
`),Mn!==-1&&(bl.usedRenderingMode=Mn),gn=Mt.align||"left";var ya,Hl=He*Gt,vs=ae.internal.pageSize.getWidth(),yc=rt[Me];kn=Mt.charSpace||vl,nn=Mt.maxWidth||0,ia=Object.assign({autoencode:!0,noBOM:!0},Mt.flags);var Ei=[],ms=function(Rr){return ae.getStringUnitWidth(Rr,{font:yc,charSpace:kn,fontSize:He,doKerning:!1})*He/hr};if(Object.prototype.toString.call(Ae)==="[object Array]"){var $n;Er=Xr(Ae),gn!=="left"&&(ya=Er.map(ms));var Gi,al=0;if(gn==="right"){We-=ya[0],Ae=[],oa=Er.length;for(var Bo=0;Bo<oa;Bo++)Bo===0?(Gi=Ho(We),$n=xo(St)):(Gi=V(al-ya[Bo]),$n=-Hl),Ae.push([Er[Bo],Gi,$n]),al=ya[Bo]}else if(gn==="center"){We-=ya[0]/2,Ae=[],oa=Er.length;for(var li=0;li<oa;li++)li===0?(Gi=Ho(We),$n=xo(St)):(Gi=V((al-ya[li])/2),$n=-Hl),Ae.push([Er[li],Gi,$n]),al=ya[li]}else if(gn==="left"){Ae=[],oa=Er.length;for(var To=0;To<oa;To++)Ae.push(Er[To])}else if(gn==="justify"&&yc.encoding==="Identity-H"){Ae=[],oa=Er.length,nn=nn!==0?nn:vs;for(var wl=0,Hs=0;Hs<oa;Hs++)if($n=Hs===0?xo(St):-Hl,Gi=Hs===0?Ho(We):wl,Hs<oa-1){var Ps=V((nn-ya[Hs])/(Er[Hs].split(" ").length-1)),Ka=Er[Hs].split(" ");Ae.push([Ka[0]+" ",Gi,$n]),wl=0;for(var ps=1;ps<Ka.length;ps++){var Pa=(ms(Ka[ps-1]+" "+Ka[ps])-ms(Ka[ps]))*hr+Ps;ps==Ka.length-1?Ae.push([Ka[ps],Pa,0]):Ae.push([Ka[ps]+" ",Pa,0]),wl-=Pa}}else Ae.push([Er[Hs],Gi,$n]);Ae.push(["",wl,0])}else{if(gn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(Ae=[],oa=Er.length,nn=nn!==0?nn:vs,Hs=0;Hs<oa;Hs++){$n=Hs===0?xo(St):-Hl,Gi=Hs===0?Ho(We):0;var Bi=Er[Hs].split(" ").length-1,$l=Bi>0?(nn-ya[Hs])/Bi:0;Hs<oa-1?Ei.push(k(V($l))):Ei.push(0),Ae.push([Er[Hs],Gi,$n])}}}(typeof Mt.R2L=="boolean"?Mt.R2L:ke)===!0&&(Ae=An(Ae,function(Rr,cn,ea){return[Rr.split("").reverse().join(""),cn,ea]})),wr={text:Ae,x:We,y:St,options:Mt,mutex:{pdfEscape:Hn,activeFontKey:Me,fonts:rt,activeFontSize:He}},rr.publish("postProcessText",wr),Ae=wr.text,Bt=wr.mutex.isHex||!1;var Wi=rt[Me].encoding;Wi!=="WinAnsiEncoding"&&Wi!=="StandardEncoding"||(Ae=An(Ae,function(Rr,cn,ea){return[Br(Rr),cn,ea]})),Er=Xr(Ae),Ae=[];for(var Ls,zo,Ti,Os=Array.isArray(Er[0])?1:0,Rt="",Ar=function(Rr,cn,ea){var xn="";return ea instanceof rn?(ea=typeof Mt.angle=="number"?Vr(ea,new rn(1,0,0,1,Rr,cn)):Vr(new rn(1,0,0,1,Rr,cn),ea),T===E&&(ea=Vr(new rn(1,0,0,-1,0,0),ea)),xn=ea.join(" ")+` Tm
`):xn=k(Rr)+" "+k(cn)+` Td
`,xn},Wt=0;Wt<Er.length;Wt++){switch(Rt="",Os){case 1:Ti=(Bt?"<":"(")+Er[Wt][0]+(Bt?">":")"),Ls=parseFloat(Er[Wt][1]),zo=parseFloat(Er[Wt][2]);break;case 0:Ti=(Bt?"<":"(")+Er[Wt]+(Bt?">":")"),Ls=Ho(We),zo=xo(St)}Ei!==void 0&&Ei[Wt]!==void 0&&(Rt=Ei[Wt]+` Tw
`),Wt===0?Ae.push(Rt+Ar(Ls,zo,Ws)+Ti):Os===0?Ae.push(Rt+Ti):Os===1&&Ae.push(Rt+Ar(Ls,zo,Ws)+Ti)}Ae=Os===0?Ae.join(` Tj
T* `):Ae.join(` Tj
`),Ae+=` Tj
`;var Hr=`BT
/`;return Hr+=Me+" "+He+` Tf
`,Hr+=k(He*Gt)+` TL
`,Hr+=_a+`
`,Hr+=Ot,Hr+=Ae,re(Hr+="ET"),m[Me]=!0,ae};var Rc=A.__private__.clip=A.clip=function(Ae){return re(Ae==="evenodd"?"W*":"W"),this};A.clipEvenOdd=function(){return Rc("evenodd")},A.__private__.discardPath=A.discardPath=function(){return re("n"),this};var pl=A.__private__.isValidStyle=function(Ae){var We=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Ae)!==-1&&(We=!0),We};A.__private__.setDefaultPathOperation=A.setDefaultPathOperation=function(Ae){return pl(Ae)&&(d=Ae),this};var iu=A.__private__.getStyle=A.getStyle=function(Ae){var We=d;switch(Ae){case"D":case"S":We="S";break;case"F":We="f";break;case"FD":case"DF":We="B";break;case"f":case"f*":case"B":case"B*":We=Ae}return We},Ul=A.close=function(){return re("h"),this};A.stroke=function(){return re("S"),this},A.fill=function(Ae){return zi("f",Ae),this},A.fillEvenOdd=function(Ae){return zi("f*",Ae),this},A.fillStroke=function(Ae){return zi("B",Ae),this},A.fillStrokeEvenOdd=function(Ae){return zi("B*",Ae),this};var zi=function(Ae,We){qn(We)==="object"?Ud(We,Ae):re(Ae)},Ou=function(Ae){Ae===null||T===E&&Ae===void 0||(Ae=iu(Ae),re(Ae))};function id(Ae,We,St,Mt,Vt){var wr=new wx(We||this.boundingBox,St||this.xStep,Mt||this.yStep,this.gState,Vt||this.matrix);wr.stream=this.stream;var Er=Ae+"$$"+this.cloneIndex+++"$$";return Gn(Er,wr),wr}var Ud=function(Ae,We){var St=_t[Ae.key],Mt=ut[St];if(Mt instanceof Zp)re("q"),re(pc(We)),Mt.gState&&A.setGState(Mt.gState),re(Ae.matrix.toString()+" cm"),re("/"+St+" sh"),re("Q");else if(Mt instanceof wx){var Vt=new rn(1,0,0,-1,0,lu());Ae.matrix&&(Vt=Vt.multiply(Ae.matrix||On),St=id.call(Mt,Ae.key,Ae.boundingBox,Ae.xStep,Ae.yStep,Vt).id),re("q"),re("/Pattern cs"),re("/"+St+" scn"),Mt.gState&&A.setGState(Mt.gState),re(We),re("Q")}},pc=function(Ae){switch(Ae){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},gc=A.moveTo=function(Ae,We){return re(k(V(Ae))+" "+k(J(We))+" m"),this},go=A.lineTo=function(Ae,We){return re(k(V(Ae))+" "+k(J(We))+" l"),this},Vi=A.curveTo=function(Ae,We,St,Mt,Vt,wr){return re([k(V(Ae)),k(J(We)),k(V(St)),k(J(Mt)),k(V(Vt)),k(J(wr)),"c"].join(" ")),this};A.__private__.line=A.line=function(Ae,We,St,Mt,Vt){if(isNaN(Ae)||isNaN(We)||isNaN(St)||isNaN(Mt)||!pl(Vt))throw new Error("Invalid arguments passed to jsPDF.line");return T===j?this.lines([[St-Ae,Mt-We]],Ae,We,[1,1],Vt||"S"):this.lines([[St-Ae,Mt-We]],Ae,We,[1,1]).stroke()},A.__private__.lines=A.lines=function(Ae,We,St,Mt,Vt,wr){var Er,tn,gn,kn,nn,ia,ts,Ws,ae,qe,Bt,Ot;if(typeof Ae=="number"&&(Ot=St,St=We,We=Ae,Ae=Ot),Mt=Mt||[1,1],wr=wr||!1,isNaN(We)||isNaN(St)||!Array.isArray(Ae)||!Array.isArray(Mt)||!pl(Vt)||typeof wr!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(gc(We,St),Er=Mt[0],tn=Mt[1],kn=Ae.length,qe=We,Bt=St,gn=0;gn<kn;gn++)(nn=Ae[gn]).length===2?(qe=nn[0]*Er+qe,Bt=nn[1]*tn+Bt,go(qe,Bt)):(ia=nn[0]*Er+qe,ts=nn[1]*tn+Bt,Ws=nn[2]*Er+qe,ae=nn[3]*tn+Bt,qe=nn[4]*Er+qe,Bt=nn[5]*tn+Bt,Vi(ia,ts,Ws,ae,qe,Bt));return wr&&Ul(),Ou(Vt),this},A.path=function(Ae){for(var We=0;We<Ae.length;We++){var St=Ae[We],Mt=St.c;switch(St.op){case"m":gc(Mt[0],Mt[1]);break;case"l":go(Mt[0],Mt[1]);break;case"c":Vi.apply(this,Mt);break;case"h":Ul()}}return this},A.__private__.rect=A.rect=function(Ae,We,St,Mt,Vt){if(isNaN(Ae)||isNaN(We)||isNaN(St)||isNaN(Mt)||!pl(Vt))throw new Error("Invalid arguments passed to jsPDF.rect");return T===j&&(Mt=-Mt),re([k(V(Ae)),k(J(We)),k(V(St)),k(V(Mt)),"re"].join(" ")),Ou(Vt),this},A.__private__.triangle=A.triangle=function(Ae,We,St,Mt,Vt,wr,Er){if(isNaN(Ae)||isNaN(We)||isNaN(St)||isNaN(Mt)||isNaN(Vt)||isNaN(wr)||!pl(Er))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[St-Ae,Mt-We],[Vt-St,wr-Mt],[Ae-Vt,We-wr]],Ae,We,[1,1],Er,!0),this},A.__private__.roundedRect=A.roundedRect=function(Ae,We,St,Mt,Vt,wr,Er){if(isNaN(Ae)||isNaN(We)||isNaN(St)||isNaN(Mt)||isNaN(Vt)||isNaN(wr)||!pl(Er))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var tn=4/3*(Math.SQRT2-1);return Vt=Math.min(Vt,.5*St),wr=Math.min(wr,.5*Mt),this.lines([[St-2*Vt,0],[Vt*tn,0,Vt,wr-wr*tn,Vt,wr],[0,Mt-2*wr],[0,wr*tn,-Vt*tn,wr,-Vt,wr],[2*Vt-St,0],[-Vt*tn,0,-Vt,-wr*tn,-Vt,-wr],[0,2*wr-Mt],[0,-wr*tn,Vt*tn,-wr,Vt,-wr]],Ae+Vt,We,[1,1],Er,!0),this},A.__private__.ellipse=A.ellipse=function(Ae,We,St,Mt,Vt){if(isNaN(Ae)||isNaN(We)||isNaN(St)||isNaN(Mt)||!pl(Vt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var wr=4/3*(Math.SQRT2-1)*St,Er=4/3*(Math.SQRT2-1)*Mt;return gc(Ae+St,We),Vi(Ae+St,We-Er,Ae+wr,We-Mt,Ae,We-Mt),Vi(Ae-wr,We-Mt,Ae-St,We-Er,Ae-St,We),Vi(Ae-St,We+Er,Ae-wr,We+Mt,Ae,We+Mt),Vi(Ae+wr,We+Mt,Ae+St,We+Er,Ae+St,We),Ou(Vt),this},A.__private__.circle=A.circle=function(Ae,We,St,Mt){if(isNaN(Ae)||isNaN(We)||isNaN(St)||!pl(Mt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Ae,We,St,St,Mt)},A.setFont=function(Ae,We,St){return St&&(We=M(We,St)),Me=po(Ae,We,{disableWarning:!1}),this};var Ki=A.__private__.getFont=A.getFont=function(){return rt[po.apply(A,arguments)]};A.__private__.getFontList=A.getFontList=function(){var Ae,We,St={};for(Ae in Oe)if(Oe.hasOwnProperty(Ae))for(We in St[Ae]=[],Oe[Ae])Oe[Ae].hasOwnProperty(We)&&St[Ae].push(We);return St},A.addFont=function(Ae,We,St,Mt,Vt){var wr=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&wr.indexOf(arguments[3])!==-1?Vt=arguments[3]:arguments[3]&&wr.indexOf(arguments[3])==-1&&(St=M(St,Mt)),zn.call(this,Ae,We,St,Vt=Vt||"Identity-H")};var gl,Rl=e.lineWidth||.200025,Dr=A.__private__.getLineWidth=A.getLineWidth=function(){return Rl},Rd=A.__private__.setLineWidth=A.setLineWidth=function(Ae){return Rl=Ae,re(k(V(Ae))+" w"),this};A.__private__.setLineDash=Qn.API.setLineDash=Qn.API.setLineDashPattern=function(Ae,We){if(Ae=Ae||[],We=We||0,isNaN(We)||!Array.isArray(Ae))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Ae=Ae.map(function(St){return k(V(St))}).join(" "),We=k(V(We)),re("["+Ae+"] "+We+" d"),this};var ff=A.__private__.getLineHeight=A.getLineHeight=function(){return He*gl};A.__private__.getLineHeight=A.getLineHeight=function(){return He*gl};var Qo=A.__private__.setLineHeightFactor=A.setLineHeightFactor=function(Ae){return typeof(Ae=Ae||1.15)=="number"&&(gl=Ae),this},xl=A.__private__.getLineHeightFactor=A.getLineHeightFactor=function(){return gl};Qo(e.lineHeight);var Ho=A.__private__.getHorizontalCoordinate=function(Ae){return V(Ae)},xo=A.__private__.getVerticalCoordinate=function(Ae){return T===E?Ae:$t[R].mediaBox.topRightY-$t[R].mediaBox.bottomLeftY-V(Ae)},oi=A.__private__.getHorizontalCoordinateString=A.getHorizontalCoordinateString=function(Ae){return k(Ho(Ae))},od=A.__private__.getVerticalCoordinateString=A.getVerticalCoordinateString=function(Ae){return k(xo(Ae))},xc=e.strokeColor||"0 G";A.__private__.getStrokeColor=A.getDrawColor=function(){return Re(xc)},A.__private__.setStrokeColor=A.setDrawColor=function(Ae,We,St,Mt){return xc=Ee({ch1:Ae,ch2:We,ch3:St,ch4:Mt,pdfColorType:"draw",precision:2}),re(xc),this};var Du=e.fillColor||"0 g";A.__private__.getFillColor=A.getFillColor=function(){return Re(Du)},A.__private__.setFillColor=A.setFillColor=function(Ae,We,St,Mt){return Du=Ee({ch1:Ae,ch2:We,ch3:St,ch4:Mt,pdfColorType:"fill",precision:2}),re(Du),this};var _a=e.textColor||"0 g",va=A.__private__.getTextColor=A.getTextColor=function(){return Re(_a)};A.__private__.setTextColor=A.setTextColor=function(Ae,We,St,Mt){return _a=Ee({ch1:Ae,ch2:We,ch3:St,ch4:Mt,pdfColorType:"text",precision:3}),this};var vl=e.charSpace,so=A.__private__.getCharSpace=A.getCharSpace=function(){return parseFloat(vl||0)};A.__private__.setCharSpace=A.setCharSpace=function(Ae){if(isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return vl=Ae,this};var vo=0;A.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},A.__private__.setLineCap=A.setLineCap=function(Ae){var We=A.CapJoinStyles[Ae];if(We===void 0)throw new Error("Line cap style of '"+Ae+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vo=We,re(We+" J"),this};var Ql=0;A.__private__.setLineJoin=A.setLineJoin=function(Ae){var We=A.CapJoinStyles[Ae];if(We===void 0)throw new Error("Line join style of '"+Ae+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ql=We,re(We+" j"),this},A.__private__.setLineMiterLimit=A.__private__.setMiterLimit=A.setLineMiterLimit=A.setMiterLimit=function(Ae){if(Ae=Ae||0,isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(k(V(Ae))+" M"),this},A.GState=xb,A.setGState=function(Ae){(Ae=typeof Ae=="string"?qt[Ft[Ae]]:$o(null,Ae)).equals(gt)||(re("/"+Ae.id+" gs"),gt=Ae)};var $o=function(Ae,We){if(!Ae||!Ft[Ae]){var St=!1;for(var Mt in qt)if(qt.hasOwnProperty(Mt)&&qt[Mt].equals(We)){St=!0;break}if(St)We=qt[Mt];else{var Vt="GS"+(Object.keys(qt).length+1).toString(10);qt[Vt]=We,We.id=Vt}return Ae&&(Ft[Ae]=We.id),rr.publish("addGState",We),We}};A.addGState=function(Ae,We){return $o(Ae,We),this},A.saveGraphicsState=function(){return re("q"),De.push({key:Me,size:He,color:_a}),this},A.restoreGraphicsState=function(){re("Q");var Ae=De.pop();return Me=Ae.key,He=Ae.size,_a=Ae.color,gt=null,this},A.setCurrentTransformationMatrix=function(Ae){return re(Ae.toString()+" cm"),this},A.comment=function(Ae){return re("#"+Ae),this};var ou=function(Ae,We){var St=Ae||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return St},set:function(wr){isNaN(wr)||(St=parseFloat(wr))}});var Mt=We||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Mt},set:function(wr){isNaN(wr)||(Mt=parseFloat(wr))}});var Vt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Vt},set:function(wr){Vt=wr.toString()}}),this},ks=function(Ae,We,St,Mt){ou.call(this,Ae,We),this.type="rect";var Vt=St||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Vt},set:function(Er){isNaN(Er)||(Vt=parseFloat(Er))}});var wr=Mt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return wr},set:function(Er){isNaN(Er)||(wr=parseFloat(Er))}}),this},Qc=function(){this.page=Zt,this.currentPage=R,this.pages=te.slice(0),this.pagesContext=$t.slice(0),this.x=je,this.y=Ke,this.matrix=Le,this.width=io(R),this.height=yo(R),this.outputDestination=Fe,this.id="",this.objectNumber=-1};Qc.prototype.restore=function(){Zt=this.page,R=this.currentPage,$t=this.pagesContext,te=this.pages,je=this.x,Ke=this.y,Le=this.matrix,Qd(R,this.width),Ja(R,this.height),Fe=this.outputDestination};var Xa=function(Ae,We,St,Mt,Vt){ja.push(new Qc),Zt=R=0,te=[],je=Ae,Ke=We,Le=Vt,xa([St,Mt])};for(var Ci in A.beginFormObject=function(Ae,We,St,Mt,Vt){return Xa(Ae,We,St,Mt,Vt),this},A.endFormObject=function(Ae){return(function(We){if(dn[We])ja.pop().restore();else{var St=new Qc,Mt="Xo"+(Object.keys(Qr).length+1).toString(10);St.id=Mt,dn[We]=Mt,Qr[Mt]=St,rr.publish("addFormObject",St),ja.pop().restore()}})(Ae),this},A.doFormObject=function(Ae,We){var St=Qr[dn[Ae]];return re("q"),re(We.toString()+" cm"),re("/"+St.id+" Do"),re("Q"),this},A.getFormObject=function(Ae){var We=Qr[dn[Ae]];return{x:We.x,y:We.y,width:We.width,height:We.height,matrix:We.matrix}},A.save=function(Ae,We){return Ae=Ae||"generated.pdf",(We=We||{}).returnPromise=We.returnPromise||!1,We.returnPromise===!1?(mx(nl(ao()),Ae),typeof mx.unload=="function"&&Ta.setTimeout&&setTimeout(mx.unload,911),this):new Promise(function(St,Mt){try{var Vt=mx(nl(ao()),Ae);typeof mx.unload=="function"&&Ta.setTimeout&&setTimeout(mx.unload,911),St(Vt)}catch(wr){Mt(wr.message)}})},Qn.API)Qn.API.hasOwnProperty(Ci)&&(Ci==="events"&&Qn.API.events.length?(function(Ae,We){var St,Mt,Vt;for(Vt=We.length-1;Vt!==-1;Vt--)St=We[Vt][0],Mt=We[Vt][1],Ae.subscribe.apply(Ae,[St].concat(typeof Mt=="function"?[Mt]:Mt))})(rr,Qn.API.events):A[Ci]=Qn.API[Ci]);function io(Ae){return $t[Ae].mediaBox.topRightX-$t[Ae].mediaBox.bottomLeftX}function Qd(Ae,We){$t[Ae].mediaBox.topRightX=We+$t[Ae].mediaBox.bottomLeftX}function yo(Ae){return $t[Ae].mediaBox.topRightY-$t[Ae].mediaBox.bottomLeftY}function Ja(Ae,We){$t[Ae].mediaBox.topRightY=We+$t[Ae].mediaBox.bottomLeftY}var yl=A.getPageWidth=function(Ae){return io(Ae=Ae||R)/Te},vc=A.setPageWidth=function(Ae,We){Qd(Ae,We*Te)},lu=A.getPageHeight=function(Ae){return yo(Ae=Ae||R)/Te},Co=A.setPageHeight=function(Ae,We){Ja(Ae,We*Te)};return A.internal={pdfEscape:Hn,getStyle:iu,getFont:Ki,getFontSize:_e,getCharSpace:so,getTextColor:va,getLineHeight:ff,getLineHeightFactor:xl,getLineWidth:Dr,write:Ce,getHorizontalCoordinate:Ho,getVerticalCoordinate:xo,getCoordinateString:oi,getVerticalCoordinateString:od,collections:{},newObject:Ct,newAdditionalObject:pt,newObjectDeferred:fr,newObjectDeferredBegin:$e,getFilters:ht,putStream:nt,events:rr,scaleFactor:Te,pageSize:{getWidth:function(){return yl(R)},setWidth:function(Ae){vc(R,Ae)},getHeight:function(){return lu(R)},setHeight:function(Ae){Co(R,Ae)}},encryptionOptions:u,encryption:Zn,getEncryptor:function(Ae){return u!==null?Zn.encryptor(Ae,0):function(We){return We}},output:bs,getNumberOfPages:Ro,pages:te,out:re,f2:O,f3:L,getPageInfo:mc,getPageInfoByObjId:sd,getCurrentPageInfo:Lu,getPDFVersion:x,Point:ou,Rectangle:ks,Matrix:rn,hasHotfix:Is},Object.defineProperty(A.internal.pageSize,"width",{get:function(){return yl(R)},set:function(Ae){vc(R,Ae)},enumerable:!0,configurable:!0}),Object.defineProperty(A.internal.pageSize,"height",{get:function(){return lu(R)},set:function(Ae){Co(R,Ae)},enumerable:!0,configurable:!0}),(function(Ae){for(var We=0,St=et.length;We<St;We++){var Mt=zn.call(this,Ae[We][0],Ae[We][1],Ae[We][2],et[We][3],!0);h===!1&&(m[Mt]=!0);var Vt=Ae[We][0].split("-");Yr({id:Mt,fontName:Vt[0],fontStyle:Vt[1]||""})}rr.publish("addFonts",{fonts:rt,dictionary:Oe})}).call(A,et),Me="F1",Ai(s,r),rr.publish("initialized"),A}fv.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},fv.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},fv.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},fv.prototype.processOwnerPassword=function(e,t){return xB(gB(t).substr(0,5),e)},fv.prototype.encryptor=function(e,t){var r=gB(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return xB(r,n)}},xb.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||qn(e)!==qn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Qn.API={events:[]},Qn.version="3.0.3";var kl=Qn.API,M_=1,h1=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rv=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ua=function(e){return e.toFixed(2)},Gp=function(e){return e.toFixed(5)};kl.__acroform__={};var Qf=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},u7=function(e){return e*M_},km=function(e){var t=new Xz,r=Cn.internal.getHeight(e)||0,n=Cn.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Ua(n)),Number(Ua(r))],t},mge=kl.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},pge=kl.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},gge=kl.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},cc=kl.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return gge(e,t-1)},uc=kl.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return mge(e,t-1)},dc=kl.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return pge(e,t-1)},xge=kl.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(s)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(s+o)||0,c.upperRight_Y=n(i)||0,[Number(Ua(c.lowerLeft_X)),Number(Ua(c.lowerLeft_Y)),Number(Ua(c.upperRight_X)),Number(Ua(c.upperRight_Y))]},vge=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=vB(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+Ua(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=km(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},vB=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(O){return O.split(`
`)}):s.map(function(O){return[O]});var i=r,o=Cn.internal.getHeight(e)||0;o=o<0?-o:o;var l=Cn.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(O,L,V){if(O+1<s.length){var J=L+" "+s[O+1][0];return L4(J,e,V).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var d,u,h=L4("3",e,i).height,m=e.multiline?o-i:(o-h)/2,A=m+=2,y=0,x=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+L4(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var b="",j=0,E=0;E<s.length;E++)if(s.hasOwnProperty(E)){var T=!1;if(s[E].length!==1&&v!==s[E].length-1){if((h+2)*(j+2)+2>o)continue e;b+=s[E][v],T=!0,x=E,E--}else{b=(b+=s[E][v]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var P=parseInt(E),U=c(P,b,i),M=E>=s.length-1;if(U&&!M){b+=" ",v=0;continue}if(U||M){if(M)x=P;else if(e.multiline&&(h+2)*(j+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(j+2)+2>o)continue e;x=P}}for(var k="",Q=y;Q<=x;Q++){var z=s[Q];if(e.multiline){if(Q===x){k+=z[v]+" ",v=(v+1)%z.length;continue}if(Q===y){k+=z[z.length-1]+" ";continue}}k+=z[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,u=L4(k,e,i).width,e.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;default:d=2}t+=Ua(d)+" "+Ua(A)+` Td
`,t+="("+h1(k)+`) Tj
`,t+=-Ua(d)+` 0 Td
`,A=-(i+2),u=0,y=T?x:x+1,j++,b=""}break}return n.text=t,n.fontSize=i,n},L4=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},yge={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},bge=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},wge=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(nm.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(yge)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");M_=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Jz,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&bge(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var o in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=xge(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Cn.createDefaultAppearanceStream(l),qn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=vge(l);c.push({key:"AP",value:"<</N "+u+">>"}),s.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var h="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var A=l.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(A).length>=1||Array.isArray(A)){for(var o in A)if(A.hasOwnProperty(o)){var y=A[o];typeof y=="function"&&(y=y.call(s,l)),h+="/"+o+" "+y+" ",s.internal.acroformPlugin.xForms.indexOf(y)>=0||s.internal.acroformPlugin.xForms.push(y)}}else typeof(y=A)=="function"&&(y=y.call(s,l)),h+="/"+o+" "+y,s.internal.acroformPlugin.xForms.indexOf(y)>=0||s.internal.acroformPlugin.xForms.push(y);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:l.objId}),s.internal.out("endobj")}i&&(function(x,v){for(var b in x)if(x.hasOwnProperty(b)){var j=b,E=x[b];v.internal.newObjectDeferredBegin(E.objId,!0),qn(E)==="object"&&typeof E.putStream=="function"&&E.putStream(),delete x[j]}})(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},Yz=kl.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),qn(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+h1(n(e[i].toString()))+")"):s+=e[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},xC=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+h1(n(e))+")"},Mm=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Mm.prototype.toString=function(){return this.objId+" 0 R"},Mm.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Mm.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:Yz(s,this.objId,this.scope)}):s instanceof Mm?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var Xz=function(){Mm.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Qf(Xz,Mm);var Jz=function(){Mm.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+h1(r(e))+")"}},set:function(r){e=r}})};Qf(Jz,Mm);var nm=function e(){Mm.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');t=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!cc(t,3)},set:function(b){b?this.F=uc(t,3):this.F=dc(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(b){n=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(b){n[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(b){n[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(b){n[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(b){n[3]=b}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof uN)return;i="FieldObject"+e.FieldNum++}var b=function(j){return j};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+h1(b(i))+")"},set:function(b){i=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(b){i=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/M_:d},set:function(b){d=b}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(b){u=b}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof uN||this instanceof lg))return xC(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=b}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof eu==0?xC(m,this.objId,this.scope):m},set:function(b){b=b.toString(),m=this instanceof eu==0?b.substr(0,1)==="("?rv(b.substr(1,b.length-2)):rv(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof eu==1?rv(m.substr(1,m.length-1)):m},set:function(b){b=b.toString(),m=this instanceof eu==1?"/"+b:b}});var A=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(A)return A},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof eu==0?xC(A,this.objId,this.scope):A},set:function(b){b=b.toString(),A=this instanceof eu==0?b.substr(0,1)==="("?rv(b.substr(1,b.length-2)):rv(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof eu==1?rv(A.substr(1,A.length-1)):A},set:function(b){b=b.toString(),A=this instanceof eu==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(b){b=!!b,x=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(b){y=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!cc(this.Ff,1)},set:function(b){b?this.Ff=uc(this.Ff,1):this.Ff=dc(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!cc(this.Ff,2)},set:function(b){b?this.Ff=uc(this.Ff,2):this.Ff=dc(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!cc(this.Ff,3)},set:function(b){b?this.Ff=uc(this.Ff,3):this.Ff=dc(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');v=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(v){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};Qf(nm,Mm);var Lx=function(){nm.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Yz(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=(function(i,o,l){l||(l=1);for(var c,d=[];c=o.exec(i);)d.push(c[l]);return d})(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!cc(this.Ff,18)},set:function(r){r?this.Ff=uc(this.Ff,18):this.Ff=dc(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!cc(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=uc(this.Ff,19):this.Ff=dc(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!cc(this.Ff,20)},set:function(r){r?(this.Ff=uc(this.Ff,20),t.sort()):this.Ff=dc(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!cc(this.Ff,22)},set:function(r){r?this.Ff=uc(this.Ff,22):this.Ff=dc(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!cc(this.Ff,23)},set:function(r){r?this.Ff=uc(this.Ff,23):this.Ff=dc(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!cc(this.Ff,27)},set:function(r){r?this.Ff=uc(this.Ff,27):this.Ff=dc(this.Ff,27)}}),this.hasAppearanceStream=!1};Qf(Lx,nm);var Ox=function(){Lx.call(this),this.fontName="helvetica",this.combo=!1};Qf(Ox,Lx);var Dx=function(){Ox.call(this),this.combo=!0};Qf(Dx,Ox);var M2=function(){Dx.call(this),this.edit=!0};Qf(M2,Dx);var eu=function(){nm.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!cc(this.Ff,15)},set:function(r){r?this.Ff=uc(this.Ff,15):this.Ff=dc(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!cc(this.Ff,16)},set:function(r){r?this.Ff=uc(this.Ff,16):this.Ff=dc(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!cc(this.Ff,17)},set:function(r){r?this.Ff=uc(this.Ff,17):this.Ff=dc(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!cc(this.Ff,26)},set:function(r){r?this.Ff=uc(this.Ff,26):this.Ff=dc(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+h1(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){qn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Qf(eu,nm);var U2=function(){eu.call(this),this.pushButton=!0};Qf(U2,eu);var Mx=function(){eu.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Qf(Mx,eu);var uN=function(){var e,t;nm.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+h1(s(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){qn(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Cn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Qf(uN,nm),Mx.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Mx.prototype.createOption=function(e){var t=new uN;return t.Parent=this,t.optionName=e,this.Kids.push(t),Nge.call(this.scope,t),t};var R2=function(){eu.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Cn.CheckBox.createAppearanceStream()};Qf(R2,eu);var lg=function(){nm.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!cc(this.Ff,13)},set:function(t){t?this.Ff=uc(this.Ff,13):this.Ff=dc(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!cc(this.Ff,21)},set:function(t){t?this.Ff=uc(this.Ff,21):this.Ff=dc(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!cc(this.Ff,23)},set:function(t){t?this.Ff=uc(this.Ff,23):this.Ff=dc(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!cc(this.Ff,24)},set:function(t){t?this.Ff=uc(this.Ff,24):this.Ff=dc(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!cc(this.Ff,25)},set:function(t){t?this.Ff=uc(this.Ff,25):this.Ff=dc(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!cc(this.Ff,26)},set:function(t){t?this.Ff=uc(this.Ff,26):this.Ff=dc(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Qf(lg,nm);var Q2=function(){lg.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!cc(this.Ff,14)},set:function(e){e?this.Ff=uc(this.Ff,14):this.Ff=dc(this.Ff,14)}}),this.password=!0};Qf(Q2,lg);var Cn={CheckBox:{createAppearanceStream:function(){return{N:{On:Cn.CheckBox.YesNormal},D:{On:Cn.CheckBox.YesPushDown,Off:Cn.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=km(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=vB(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Ua(Cn.internal.getWidth(e))+" "+Ua(Cn.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Ua(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=km(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],i=Cn.internal.getHeight(e),o=Cn.internal.getWidth(e),l=vB(e,e.caption);return s.push("1 g"),s.push("0 0 "+Ua(o)+" "+Ua(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Ua(o-1)+" "+Ua(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+Ua(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=km(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ua(Cn.internal.getWidth(e))+" "+Ua(Cn.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Cn.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Cn.RadioButton.Circle.YesNormal,t.D[e]=Cn.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=km(e);t.scope=e.scope;var r=[],n=Cn.internal.getWidth(e)<=Cn.internal.getHeight(e)?Cn.internal.getWidth(e)/4:Cn.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Cn.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Gp(Cn.internal.getWidth(e)/2)+" "+Gp(Cn.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=km(e);t.scope=e.scope;var r=[],n=Cn.internal.getWidth(e)<=Cn.internal.getHeight(e)?Cn.internal.getWidth(e)/4:Cn.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Cn.internal.Bezier_C).toFixed(5)),o=Number((n*Cn.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Gp(Cn.internal.getWidth(e)/2)+" "+Gp(Cn.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Gp(Cn.internal.getWidth(e)/2)+" "+Gp(Cn.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=km(e);t.scope=e.scope;var r=[],n=Cn.internal.getWidth(e)<=Cn.internal.getHeight(e)?Cn.internal.getWidth(e)/4:Cn.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Cn.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Gp(Cn.internal.getWidth(e)/2)+" "+Gp(Cn.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Cn.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Cn.RadioButton.Cross.YesNormal,t.D[e]=Cn.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=km(e);t.scope=e.scope;var r=[],n=Cn.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Ua(Cn.internal.getWidth(e)-2)+" "+Ua(Cn.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Ua(n.x1.x)+" "+Ua(n.x1.y)+" m"),r.push(Ua(n.x2.x)+" "+Ua(n.x2.y)+" l"),r.push(Ua(n.x4.x)+" "+Ua(n.x4.y)+" m"),r.push(Ua(n.x3.x)+" "+Ua(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=km(e);t.scope=e.scope;var r=Cn.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ua(Cn.internal.getWidth(e))+" "+Ua(Cn.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ua(Cn.internal.getWidth(e)-2)+" "+Ua(Cn.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Ua(r.x1.x)+" "+Ua(r.x1.y)+" m"),n.push(Ua(r.x2.x)+" "+Ua(r.x2.y)+" l"),n.push(Ua(r.x4.x)+" "+Ua(r.x4.y)+" m"),n.push(Ua(r.x3.x)+" "+Ua(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=km(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ua(Cn.internal.getWidth(e))+" "+Ua(Cn.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Cn.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Cn.internal.getWidth(e),r=Cn.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Cn.internal.getWidth=function(e){var t=0;return qn(e)==="object"&&(t=u7(e.Rect[2])),t},Cn.internal.getHeight=function(e){var t=0;return qn(e)==="object"&&(t=u7(e.Rect[3])),t};var Nge=kl.addField=function(e){if(wge(this,e),!(e instanceof nm))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};kl.AcroFormChoiceField=Lx,kl.AcroFormListBox=Ox,kl.AcroFormComboBox=Dx,kl.AcroFormEditBox=M2,kl.AcroFormButton=eu,kl.AcroFormPushButton=U2,kl.AcroFormRadioButton=Mx,kl.AcroFormCheckBox=R2,kl.AcroFormTextField=lg,kl.AcroFormPasswordField=Q2,kl.AcroFormAppearance=Cn,kl.AcroForm={ChoiceField:Lx,ListBox:Ox,ComboBox:Dx,EditBox:M2,Button:eu,PushButton:U2,RadioButton:Mx,CheckBox:R2,TextField:lg,PasswordField:Q2,Appearance:Cn},Qn.AcroForm={ChoiceField:Lx,ListBox:Ox,ComboBox:Dx,EditBox:M2,Button:eu,PushButton:U2,RadioButton:Mx,CheckBox:R2,TextField:lg,PasswordField:Q2,Appearance:Cn};var jge=Qn.AcroForm;function Zz(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(O,L){var V,J,ce,ee,de,se=r;if((L=L||r)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(U(O))for(de in n)for(ce=n[de],V=0;V<ce.length;V+=1){for(ee=!0,J=0;J<ce[V].length;J+=1)if(ce[V][J]!==void 0&&ce[V][J]!==O[J]){ee=!1;break}if(ee===!0){se=de;break}}else for(de in n)for(ce=n[de],V=0;V<ce.length;V+=1){for(ee=!0,J=0;J<ce[V].length;J+=1)if(ce[V][J]!==void 0&&ce[V][J]!==O.charCodeAt(J)){ee=!1;break}if(ee===!0){se=de;break}}return se===r&&L!==r&&(se=L),se},i=function O(L){for(var V=this.internal.write,J=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var ee=[];if(ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Image"}),ee.push({key:"Width",value:L.width}),ee.push({key:"Height",value:L.height}),L.colorSpace===b.INDEXED?ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(ee.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===b.DEVICE_CMYK&&ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ee.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&ee.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)&&L.transparency.length>0){for(var de="",se=0,he=L.transparency.length;se<he;se++)de+=L.transparency[se]+" "+L.transparency[se]+" ";ee.push({key:"Mask",value:"["+de+"]"})}L.sMask!==void 0&&ee.push({key:"SMask",value:L.objectId+1+" 0 R"});var fe=L.filter!==void 0?["/"+L.filter]:void 0;if(J({data:L.data,additionalKeyValues:ee,alreadyAppliedFilters:fe,objectId:L.objectId}),V("endobj"),"sMask"in L&&L.sMask!==void 0){var ve,B=(ve=L.sMaskBitsPerComponent)!==null&&ve!==void 0?ve:L.bitsPerComponent,R={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:B,data:L.sMask};"filter"in L&&(R.decodeParameters="/Predictor ".concat(L.predictor," /Colors 1 /BitsPerComponent ").concat(B," /Columns ").concat(L.width),R.filter=L.filter),O.call(this,R)}if(L.colorSpace===b.INDEXED){var Y=this.internal.newObject();J({data:k(new Uint8Array(L.palette)),objectId:Y}),V("endobj")}},o=function(){var O=this.internal.collections[t+"images"];for(var L in O)i.call(this,O[L])},l=function(){var O,L=this.internal.collections[t+"images"],V=this.internal.write;for(var J in L)V("/I"+(O=L[J]).index,O.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var O=this.internal.collections[t+"images"];return c.call(this),O},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},h=function(O){return typeof e["process"+O.toUpperCase()]=="function"},m=function(O){return qn(O)==="object"&&O.nodeType===1},A=function(O,L){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var V=""+O.getAttribute("src");if(V.indexOf("data:image/")===0)return g5(unescape(V).split("base64,").pop());var J=e.loadFile(V,!0);if(J!==void 0)return J}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var ce;switch(L){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;default:ce="image/jpeg"}return g5(O.toDataURL(ce,1).split("base64,").pop())}},y=function(O){var L=this.internal.collections[t+"images"];if(L){for(var V in L)if(O===L[V].alias)return L[V]}},x=function(O,L,V){return O||L||(O=-96,L=-96),O<0&&(O=-1*V.width*72/O/this.internal.scaleFactor),L<0&&(L=-1*V.height*72/L/this.internal.scaleFactor),O===0&&(O=L*V.width/V.height),L===0&&(L=O*V.height/V.width),[O,L]},v=function(O,L,V,J,ce,ee){var de=x.call(this,V,J,ce),se=this.internal.getCoordinateString,he=this.internal.getVerticalCoordinateString,fe=d.call(this);if(V=de[0],J=de[1],fe[ce.index]=ce,ee){ee*=Math.PI/180;var ve=Math.cos(ee),B=Math.sin(ee),R=function(ie){return ie.toFixed(4)},Y=[R(ve),R(B),R(-1*B),R(ve),0,0,"cm"]}this.internal.write("q"),ee?(this.internal.write([1,"0","0",1,se(O),he(L+J),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([se(V),"0","0",se(J),"0","0","cm"].join(" "))):this.internal.write([se(V),"0","0",se(J),se(O),he(L+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},b=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=e.__addimage__.sHashCode=function(O){var L,V,J=0;if(typeof O=="string")for(V=O.length,L=0;L<V;L++)J=(J<<5)-J+O.charCodeAt(L),J|=0;else if(U(O))for(V=O.byteLength/2,L=0;L<V;L++)J=(J<<5)-J+O[L],J|=0;return J},T=e.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var L=!0;return O.length===0&&(L=!1),O.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(L=!1),L},P=e.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var L=O.indexOf(",");return L<0?null:O.substring(0,L).trim().endsWith("base64")?O.substring(L+1):null};e.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var U=e.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},M=e.__addimage__.binaryStringToUint8Array=function(O){for(var L=O.length,V=new Uint8Array(L),J=0;J<L;J++)V[J]=O.charCodeAt(J);return V},k=e.__addimage__.arrayBufferToBinaryString=function(O){for(var L="",V=U(O)?O:new Uint8Array(O),J=0;J<V.length;J+=8192)L+=String.fromCharCode.apply(null,V.subarray(J,J+8192));return L};e.addImage=function(){var O,L,V,J,ce,ee,de,se,he;if(typeof arguments[1]=="number"?(L=r,V=arguments[1],J=arguments[2],ce=arguments[3],ee=arguments[4],de=arguments[5],se=arguments[6],he=arguments[7]):(L=arguments[1],V=arguments[2],J=arguments[3],ce=arguments[4],ee=arguments[5],de=arguments[6],se=arguments[7],he=arguments[8]),qn(O=arguments[0])==="object"&&!m(O)&&"imageData"in O){var fe=O;O=fe.imageData,L=fe.format||L||r,V=fe.x||V||0,J=fe.y||J||0,ce=fe.w||fe.width||ce,ee=fe.h||fe.height||ee,de=fe.alias||de,se=fe.compression||se,he=fe.rotation||fe.angle||he}var ve=this.internal.getFilters();if(se===void 0&&ve.indexOf("FlateEncode")!==-1&&(se="SLOW"),isNaN(V)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var B=Q.call(this,O,L,de,se);return v.call(this,V,J,ce,ee,B,he),this};var Q=function(O,L,V,J){var ce,ee,de;if(typeof O=="string"&&s(O)===r){O=unescape(O);var se=z(O,!1);(se!==""||(se=e.loadFile(O,!0))!==void 0)&&(O=se)}if(m(O)&&(O=A(O,L)),L=s(O,L),!h(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((de=V)==null||de.length===0)&&(V=(function(he){return typeof he=="string"||U(he)?E(he):U(he.data)?E(he.data):null})(O)),(ce=y.call(this,V))||(O instanceof Uint8Array||L==="RGBA"||(ee=O,O=M(O)),ce=this["process"+L.toUpperCase()](O,u.call(this),V,(function(he){return he&&typeof he=="string"&&(he=he.toUpperCase()),he in e.image_compression?he:j.NONE})(J),ee)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},z=e.__addimage__.convertBase64ToBinaryString=function(O,L){L=typeof L!="boolean"||L;var V,J="";if(typeof O=="string"){var ce;V=(ce=P(O))!==null&&ce!==void 0?ce:O;try{J=g5(V)}catch(ee){if(L)throw T(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};e.getImageProperties=function(O){var L,V,J="";if(m(O)&&(O=A(O)),typeof O=="string"&&s(O)===r&&((J=z(O,!1))===""&&(J=e.loadFile(O)||""),O=J),V=s(O),!h(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(O instanceof Uint8Array||(O=M(O)),!(L=this["process"+V.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=V,L}})(Qn.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Qn.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,u=!1,h=0;h<d.length&&!u;h++)switch((n=d[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var m=0;m<d.length;m++){n=d[m];var A=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(x.objId),j=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+A(b(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+A(b(j))+") >>",x.content=i;var E=x.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+E,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(x.objId,"0 R",v.objId,"0 R");break;case"freetext":s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var T=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+A(y(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var P=this.annotations._nameMap[n.options.name];n.options.pageNumber=P.page,n.options.top=P.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+A(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var U=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+U+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(n),w:c(r+s),h:d(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,s,i){var o,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var u=this.splitTextToSize(r,l).length;o=Math.ceil(d*u)}else l=c,o=d;return this.text(r,n,s,i),s+=.2*d,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,s-d,l,o,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Qn.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(x){return t[x.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=e.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&s.indexOf(x.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(x){var v=0,b=r,j="",E=0;for(v=0;v<x.length;v+=1)b[x.charCodeAt(v)]!==void 0?(E++,typeof(b=b[x.charCodeAt(v)])=="number"&&(j+=String.fromCharCode(b),b=r,E=0),v===x.length-1&&(b=r,j+=x.charAt(v-(E-1)),v-=E-1,E=0)):(b=r,j+=x.charAt(v-E),v-=E,E=0);return j};e.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(x,v,b){return o(x)?i(x)===!1?-1:!d(x)||!o(v)&&!o(b)||!o(b)&&l(v)||l(x)&&!o(v)||l(x)&&c(v)||l(x)&&l(v)?0:u(x)&&o(v)&&!l(v)&&o(b)&&d(b)?3:l(x)||!o(b)?1:2:-1},A=function(x){var v=0,b=0,j=0,E="",T="",P="",U=(x=x||"").split("\\s+"),M=[];for(v=0;v<U.length;v+=1){for(M.push(""),b=0;b<U[v].length;b+=1)E=U[v][b],T=U[v][b-1],P=U[v][b+1],o(E)?(j=m(E,T,P),M[v]+=j!==-1?String.fromCharCode(t[E.charCodeAt(0)][j]):E):M[v]+=E;M[v]=h(M[v])}return M.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var x,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(v)){var j=0;for(b=[],j=0;j<v.length;j+=1)Array.isArray(v[j])?b.push([A(v[j][0]),v[j][1],v[j][2]]):b.push([A(v[j])]);x=b}else x=A(v);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};e.events.push(["preProcessText",y])})(Qn.API),Qn.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Qn.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(x){m=x}});var A=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return A},set:function(x){A=x}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(x){y=x}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){n.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),m=d.scaleFactor||this.internal.scaleFactor,A=0,y=0,x=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=d.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(E,T){return E.concat(v.splitTextToSize(T,b))},[])):c=Array.isArray(c)?c:[c];for(var j=0;j<c.length;j++)A<(x=this.getStringUnitWidth(c[j],{font:h})*u)&&(A=x);return A!==0&&(y=c.length),{w:A/=m,h:Math.max((y*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,A=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,A&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,u,h,m){if(n.call(this),!u)throw new Error("No data for PDF table.");var A,y,x,v,b=[],j=[],E=[],T={},P={},U=[],M=[],k=(m=m||{}).autoSize||!1,Q=m.printHeaders!==!1,z=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,O=m.margins||Object.assign({width:this.getPageWidth()},t),L=typeof m.padding=="number"?m.padding:3,V=m.headerBackgroundColor||"#c8c8c8",J=m.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=Q,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=z,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=J,this.setFontSize(z),h==null)j=b=Object.keys(u[0]),E=b.map(function(){return"left"});else if(Array.isArray(h)&&qn(h[0])==="object")for(b=h.map(function(fe){return fe.name}),j=h.map(function(fe){return fe.prompt||fe.name||""}),E=h.map(function(fe){return fe.align||"left"}),A=0;A<h.length;A+=1)P[h[A].name]=.7499990551181103*h[A].width;else Array.isArray(h)&&typeof h[0]=="string"&&(j=b=h,E=b.map(function(){return"left"}));if(k||Array.isArray(h)&&typeof h[0]=="string")for(A=0;A<b.length;A+=1){for(T[v=b[A]]=u.map(function(fe){return fe[v]}),this.setFont(void 0,"bold"),U.push(this.getTextDimensions(j[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=T[v],this.setFont(void 0,"normal"),x=0;x<y.length;x+=1)U.push(this.getTextDimensions(y[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[v]=Math.max.apply(null,U)+L+L,U=[]}if(Q){var ce={};for(A=0;A<b.length;A+=1)ce[b[A]]={},ce[b[A]].text=j[A],ce[b[A]].align=E[A];var ee=l.call(this,ce,P);M=b.map(function(fe){return new i(c,d,P[fe],ee,ce[fe].text,void 0,ce[fe].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var de=h.reduce(function(fe,ve){return fe[ve.name]=ve.align,fe},{});for(A=0;A<u.length;A+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:A,data:u[A]},this);var se=l.call(this,u[A],P);for(x=0;x<b.length;x+=1){var he=u[A][b[x]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:A,col:x,data:he},this),o.call(this,new i(c,d,P[b[x]],se,he,A+2,de[b[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(A){var y=c[A];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,d[A]-u-u)},this).map(function(A){return this.getLineHeightFactor()*A.length*h/m+u+u},this).reduce(function(A,y){return Math.max(A,y)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],A=0;A<this.internal.__cell__.tableHeaderRow.length;A+=1){u=this.internal.__cell__.tableHeaderRow[A].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,m.push(u)),u.lineNumber=c;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(y)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}})(Qn.API);var eV={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},tV=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],yB=Zz(tV),rV=[100,200,300,400,500,600,700,800,900],Sge=Zz(rV);function vC(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return eV[i=i||"normal"]?i:"normal"})(e.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),s=(function(i){return typeof yB[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function d7(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var Cge={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},f7={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function h7(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function A7(e){return e.trimLeft()}function Ege(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Bge(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var O4,m7,p7,nv,D4,g7,x7,v7,yC=["times"];function y7(e,t,r,n,s){var i=4,o=w7;switch(s){case Qn.API.image_compression.FAST:i=1,o=b7;break;case Qn.API.image_compression.MEDIUM:i=6,o=N7;break;case Qn.API.image_compression.SLOW:i=9,o=j7}e=(function(c,d,u,h){for(var m,A=c.length/d,y=new Uint8Array(c.length+A),x=[Tge,b7,w7,N7,j7],v=0;v<A;v+=1){var b=v*d,j=c.subarray(b,b+d);if(h)y.set(h(j,u,m),b+v);else{for(var E=x.length,T=[],P=0;P<E;P+=1)T[P]=x[P](j,u,m);var U=Fge(T.concat());y.set(T[U],b+v)}m=j}return y})(e,t,Math.ceil(r*n/8),o);var l=Vv(e,{level:i});return Qn.API.__addimage__.arrayBufferToBinaryString(l)}function Tge(e){var t=Array.apply([],e);return t.unshift(0),t}function b7(e,t){var r=e.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var i=e[s-t]||0;n[s+1]=e[s]-i+256&255}return n}function w7(e,t,r){var n=e.length,s=[];s[0]=2;for(var i=0;i<n;i+=1){var o=r&&r[i]||0;s[i+1]=e[i]-o+256&255}return s}function N7(e,t,r){var n=e.length,s=[];s[0]=3;for(var i=0;i<n;i+=1){var o=e[i-t]||0,l=r&&r[i]||0;s[i+1]=e[i]+256-(o+l>>>1)&255}return s}function j7(e,t,r){var n=e.length,s=[];s[0]=4;for(var i=0;i<n;i+=1){var o=_ge(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);s[i+1]=e[i]-o+256&255}return s}function _ge(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),s=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=s&&n<=i?e:s<=i?t:r}function Fge(e){var t=e.map(function(r){return r.reduce(function(n,s){return n+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function bC(e,t,r){var n=t*r,s=Math.floor(n/8),i=16-(n-8*s+r),o=(1<<r)-1;return nV(e,s)>>i&o}function S7(e,t,r,n){var s=r*n,i=Math.floor(s/8),o=16-(s-8*i+n),l=(1<<n)-1,c=(t&l)<<o;(function(d,u,h){if(u+1<d.byteLength)d.setUint16(u,h,!1);else{var m=h>>8&255;d.setUint8(u,m)}})(e,i,nV(e,i)&~(l<<o)&65535|c)}function nV(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function Ige(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,o=1<<1+(7&s);e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var d=!0,u=[],h=0,m=null,A=0,y=null;for(this.width=r,this.height=n;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var x=e[t++];h=e[t++]|e[t++]<<8,m=e[t++],1&x||(m=null),A=x>>2&7,t++;break;case 254:for(;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,T=e[t++],P=T>>6&1,U=1<<1+(7&T),M=l,k=c,Q=!1;T>>7&&(Q=!0,M=t,k=U,t+=3*U);var z=t;for(t++;;){var O;if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}u.push({x:v,y:b,width:j,height:E,has_local_palette:Q,palette_offset:M,palette_size:k,data_offset:z,data_length:t-z,transparent_index:m,interlaced:!!P,delay:h,disposal:A});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return y},this.frameInfo=function(L){if(L<0||L>=u.length)throw new Error("Frame index out of range.");return u[L]},this.decodeAndBlitFrameBGRA=function(L,V){var J=this.frameInfo(L),ce=J.width*J.height,ee=new Uint8Array(ce);C7(e,J.data_offset,ee,ce);var de=J.palette_offset,se=J.transparent_index;se===null&&(se=256);var he=J.width,fe=r-he,ve=he,B=4*(J.y*r+J.x),R=4*((J.y+J.height)*r+J.x),Y=B,ie=4*fe;J.interlaced===!0&&(ie+=4*r*7);for(var ge=8,ye=0,pe=ee.length;ye<pe;++ye){var Z=ee[ye];if(ve===0&&(ve=he,(Y+=ie)>=R&&(ie=4*fe+4*r*(ge-1),Y=B+(he+fe)*(ge<<1),ge>>=1)),Z===se)Y+=4;else{var le=e[de+3*Z],te=e[de+3*Z+1],Ne=e[de+3*Z+2];V[Y++]=Ne,V[Y++]=te,V[Y++]=le,V[Y++]=255}--ve}},this.decodeAndBlitFrameRGBA=function(L,V){var J=this.frameInfo(L),ce=J.width*J.height,ee=new Uint8Array(ce);C7(e,J.data_offset,ee,ce);var de=J.palette_offset,se=J.transparent_index;se===null&&(se=256);var he=J.width,fe=r-he,ve=he,B=4*(J.y*r+J.x),R=4*((J.y+J.height)*r+J.x),Y=B,ie=4*fe;J.interlaced===!0&&(ie+=4*r*7);for(var ge=8,ye=0,pe=ee.length;ye<pe;++ye){var Z=ee[ye];if(ve===0&&(ve=he,(Y+=ie)>=R&&(ie=4*fe+4*r*(ge-1),Y=B+(he+fe)*(ge<<1),ge>>=1)),Z===se)Y+=4;else{var le=e[de+3*Z],te=e[de+3*Z+1],Ne=e[de+3*Z+2];V[Y++]=le,V[Y++]=te,V[Y++]=Ne,V[Y++]=255}--ve}}}function C7(e,t,r,n){for(var s=e[t++],i=1<<s,o=i+1,l=o+1,c=s+1,d=(1<<c)-1,u=0,h=0,m=0,A=e[t++],y=new Int32Array(4096),x=null;;){for(;u<16&&A!==0;)h|=e[t++]<<u,u+=8,A===1?A=e[t++]:--A;if(u<c)break;var v=h&d;if(h>>=c,u-=c,v!==i){if(v===o)break;for(var b=v<l?v:x,j=0,E=b;E>i;)E=y[E]>>8,++j;var T=E;if(m+j+(b!==v?1:0)>n)return void fo.log("Warning, gif stream longer than expected.");r[m++]=T;var P=m+=j;for(b!==v&&(r[m++]=T),E=b;j--;)E=y[E],r[--P]=255&E,E>>=8;x!==null&&l<4096&&(y[l++]=x<<8|T,l>=d+1&&c<12&&(++c,d=d<<1|1)),x=v}else l=o+1,d=(1<<(c=s+1))-1,x=null}return m!==n&&fo.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function wC(e){var t,r,n,s,i,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),h=new Array(65535),m=new Array(65535),A=new Array(64),y=new Array(64),x=[],v=0,b=7,j=new Array(64),E=new Array(64),T=new Array(64),P=new Array(256),U=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ee(B,R){for(var Y=0,ie=0,ge=new Array,ye=1;ye<=16;ye++){for(var pe=1;pe<=B[ye];pe++)ge[R[ie]]=[],ge[R[ie]][0]=Y,ge[R[ie]][1]=ye,ie++,Y++;Y*=2}return ge}function de(B){for(var R=B[0],Y=B[1]-1;Y>=0;)R&1<<Y&&(v|=1<<b),Y--,--b<0&&(v==255?(se(255),se(0)):se(v),b=7,v=0)}function se(B){x.push(B)}function he(B){se(B>>8&255),se(255&B)}function fe(B,R,Y,ie,ge){for(var ye,pe=ge[0],Z=ge[240],le=(function(He,ct){var _e,ke,Ze,Pe,ot,Ge,lt,Je,Me,Te,je=0;for(Me=0;Me<8;++Me){_e=He[je],ke=He[je+1],Ze=He[je+2],Pe=He[je+3],ot=He[je+4],Ge=He[je+5],lt=He[je+6];var Ke=_e+(Je=He[je+7]),Le=_e-Je,rt=ke+lt,Oe=ke-lt,De=Ze+Ge,ut=Ze-Ge,_t=Pe+ot,qt=Pe-ot,Ft=Ke+_t,gt=Ke-_t,Zt=rt+De,$t=rt-De;He[je]=Ft+Zt,He[je+4]=Ft-Zt;var rr=.707106781*($t+gt);He[je+2]=gt+rr,He[je+6]=gt-rr;var kr=.382683433*((Ft=qt+ut)-($t=Oe+Le)),Qr=.5411961*Ft+kr,dn=1.306562965*$t+kr,ja=.707106781*(Zt=ut+Oe),rn=Le+ja,Vr=Le-ja;He[je+5]=Vr+Qr,He[je+3]=Vr-Qr,He[je+1]=rn+dn,He[je+7]=rn-dn,je+=8}for(je=0,Me=0;Me<8;++Me){_e=He[je],ke=He[je+8],Ze=He[je+16],Pe=He[je+24],ot=He[je+32],Ge=He[je+40],lt=He[je+48];var On=_e+(Je=He[je+56]),Gn=_e-Je,Dn=ke+lt,Ct=ke-lt,fr=Ze+Ge,$e=Ze-Ge,pt=Pe+ot,ft=Pe-ot,mt=On+pt,Re=On-pt,Ee=Dn+fr,ht=Dn-fr;He[je]=mt+Ee,He[je+32]=mt-Ee;var nt=.707106781*(ht+Re);He[je+16]=Re+nt,He[je+48]=Re-nt;var Et=.382683433*((mt=ft+$e)-(ht=Ct+Gn)),Qe=.5411961*mt+Et,bt=1.306562965*ht+Et,It=.707106781*(Ee=$e+Ct),nr=Gn+It,tr=Gn-It;He[je+40]=tr+Qe,He[je+24]=tr-Qe,He[je+8]=nr+bt,He[je+56]=nr-bt,je++}for(Me=0;Me<64;++Me)Te=He[Me]*ct[Me],A[Me]=Te>0?Te+.5|0:Te-.5|0;return A})(B,R),te=0;te<64;++te)y[M[te]]=le[te];var Ne=y[0]-Y;Y=y[0],Ne==0?de(ie[0]):(de(ie[m[ye=32767+Ne]]),de(h[ye]));for(var Fe=63;Fe>0&&y[Fe]==0;)Fe--;if(Fe==0)return de(pe),Y;for(var be,re=1;re<=Fe;){for(var Ce=re;y[re]==0&&re<=Fe;)++re;var st=re-Ce;if(st>=16){be=st>>4;for(var et=1;et<=be;++et)de(Z);st&=15}ye=32767+y[re],de(ge[(st<<4)+m[ye]]),de(h[ye]),re++}return Fe!=63&&de(pe),Y}function ve(B){B=Math.min(Math.max(B,1),100),i!=B&&((function(R){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var ge=o((Y[ie]*R+50)/100);ge=Math.min(Math.max(ge,1),255),l[M[ie]]=ge}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var Z=o((ye[pe]*R+50)/100);Z=Math.min(Math.max(Z,1),255),c[M[pe]]=Z}for(var le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],te=0,Ne=0;Ne<8;Ne++)for(var Fe=0;Fe<8;Fe++)d[te]=1/(l[M[te]]*le[Ne]*le[Fe]*8),u[te]=1/(c[M[te]]*le[Ne]*le[Fe]*8),te++})(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),i=B)}this.encode=function(B,R){R&&ve(R),x=new Array,v=0,b=7,he(65496),he(65504),he(16),se(74),se(70),se(73),se(70),se(0),se(1),se(1),se(0),he(1),he(1),se(0),se(0),(function(){he(65499),he(132),se(0);for(var ke=0;ke<64;ke++)se(l[ke]);se(1);for(var Ze=0;Ze<64;Ze++)se(c[Ze])})(),(function(ke,Ze){he(65472),he(17),se(8),he(Ze),he(ke),se(3),se(1),se(17),se(0),se(2),se(17),se(1),se(3),se(17),se(1)})(B.width,B.height),(function(){he(65476),he(418),se(0);for(var ke=0;ke<16;ke++)se(k[ke+1]);for(var Ze=0;Ze<=11;Ze++)se(Q[Ze]);se(16);for(var Pe=0;Pe<16;Pe++)se(z[Pe+1]);for(var ot=0;ot<=161;ot++)se(O[ot]);se(1);for(var Ge=0;Ge<16;Ge++)se(L[Ge+1]);for(var lt=0;lt<=11;lt++)se(V[lt]);se(17);for(var Je=0;Je<16;Je++)se(J[Je+1]);for(var Me=0;Me<=161;Me++)se(ce[Me])})(),he(65498),he(12),se(3),se(1),se(0),se(2),se(17),se(3),se(17),se(0),se(63),se(0);var Y=0,ie=0,ge=0;v=0,b=7,this.encode.displayName="_encode_";for(var ye,pe,Z,le,te,Ne,Fe,be,re,Ce=B.data,st=B.width,et=B.height,He=4*st,ct=0;ct<et;){for(ye=0;ye<He;){for(te=He*ct+ye,Fe=-1,be=0,re=0;re<64;re++)Ne=te+(be=re>>3)*He+(Fe=4*(7&re)),ct+be>=et&&(Ne-=He*(ct+1+be-et)),ye+Fe>=He&&(Ne-=ye+Fe-He+4),pe=Ce[Ne++],Z=Ce[Ne++],le=Ce[Ne++],j[re]=(U[pe]+U[Z+256|0]+U[le+512|0]>>16)-128,E[re]=(U[pe+768|0]+U[Z+1024|0]+U[le+1280|0]>>16)-128,T[re]=(U[pe+1280|0]+U[Z+1536|0]+U[le+1792|0]>>16)-128;Y=fe(j,d,Y,t,n),ie=fe(E,u,ie,r,s),ge=fe(T,u,ge,r,s),ye+=32}ct+=8}if(b>=0){var _e=[];_e[1]=b+1,_e[0]=(1<<b+1)-1,de(_e)}return he(65497),new Uint8Array(x)},e=e||50,(function(){for(var B=String.fromCharCode,R=0;R<256;R++)P[R]=B(R)})(),t=ee(k,Q),r=ee(L,V),n=ee(z,O),s=ee(J,ce),(function(){for(var B=1,R=2,Y=1;Y<=15;Y++){for(var ie=B;ie<R;ie++)m[32767+ie]=Y,h[32767+ie]=[],h[32767+ie][1]=Y,h[32767+ie][0]=ie;for(var ge=-(R-1);ge<=-B;ge++)m[32767+ge]=Y,h[32767+ge]=[],h[32767+ge][1]=Y,h[32767+ge][0]=R-1+ge;B<<=1,R<<=1}})(),(function(){for(var B=0;B<256;B++)U[B]=19595*B,U[B+256|0]=38470*B,U[B+512|0]=7471*B+32768,U[B+768|0]=-11059*B,U[B+1024|0]=-21709*B,U[B+1280|0]=32768*B+8421375,U[B+1536|0]=-27439*B,U[B+1792|0]=-5329*B})(),ve(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function UA(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function E7(e){function t(Q){if(!Q)throw Error("assert :P")}function r(Q,z,O){for(var L=0;4>L;L++)if(Q[z+L]!=O.charCodeAt(L))return!0;return!1}function n(Q,z,O,L,V){for(var J=0;J<V;J++)Q[z+J]=O[L+J]}function s(Q,z,O,L){for(var V=0;V<L;V++)Q[z+V]=O}function i(Q){return new Int32Array(Q)}function o(Q,z){for(var O=[],L=0;L<Q;L++)O.push(new z);return O}function l(Q,z){var O=[];return(function L(V,J,ce){for(var ee=ce[J],de=0;de<ee&&(V.push(ce.length>J+1?[]:new z),!(ce.length<J+1));de++)L(V[de],J+1,ce)})(O,0,Q),O}var c=function(){var Q=this;function z(g,S){for(var I=1<<S-1>>>0;g&I;)I>>>=1;return I?(g&I-1)+I:g}function O(g,S,I,K,ne){t(!(K%I));do g[S+(K-=I)]=ne;while(0<K)}function L(g,S,I,K,ne){if(t(2328>=ne),512>=ne)var ue=i(512);else if((ue=i(ne))==null)return 0;return(function(me,xe,Se,Ie,Xe,vt){var Ve,at,wt=xe,Tt=1<<Se,it=i(16),xt=i(16);for(t(Xe!=0),t(Ie!=null),t(me!=null),t(0<Se),at=0;at<Xe;++at){if(15<Ie[at])return 0;++it[Ie[at]]}if(it[0]==Xe)return 0;for(xt[1]=0,Ve=1;15>Ve;++Ve){if(it[Ve]>1<<Ve)return 0;xt[Ve+1]=xt[Ve]+it[Ve]}for(at=0;at<Xe;++at)Ve=Ie[at],0<Ie[at]&&(vt[xt[Ve]++]=at);if(xt[15]==1)return(Ie=new V).g=0,Ie.value=vt[0],O(me,wt,1,Tt,Ie),Tt;var kt,Ut=-1,Dt=Tt-1,pr=0,ur=1,Ir=1,lr=1<<Se;for(at=0,Ve=1,Xe=2;Ve<=Se;++Ve,Xe<<=1){if(ur+=Ir<<=1,0>(Ir-=it[Ve]))return 0;for(;0<it[Ve];--it[Ve])(Ie=new V).g=Ve,Ie.value=vt[at++],O(me,wt+pr,Xe,lr,Ie),pr=z(pr,Ve)}for(Ve=Se+1,Xe=2;15>=Ve;++Ve,Xe<<=1){if(ur+=Ir<<=1,0>(Ir-=it[Ve]))return 0;for(;0<it[Ve];--it[Ve]){if(Ie=new V,(pr&Dt)!=Ut){for(wt+=lr,kt=1<<(Ut=Ve)-Se;15>Ut&&!(0>=(kt-=it[Ut]));)++Ut,kt<<=1;Tt+=lr=1<<(kt=Ut-Se),me[xe+(Ut=pr&Dt)].g=kt+Se,me[xe+Ut].value=wt-xe-Ut}Ie.g=Ve-Se,Ie.value=vt[at++],O(me,wt+(pr>>Se),Xe,lr,Ie),pr=z(pr,Ve)}}return ur!=2*xt[15]-1?0:Tt})(g,S,I,K,ne,ue)}function V(){this.value=this.g=0}function J(){this.value=this.g=0}function ce(){this.G=o(5,V),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ms,J)}function ee(g,S,I,K){t(g!=null),t(S!=null),t(2147483648>K),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=S,g.pa=I,g.Jd=S,g.Yc=I+K,g.Zc=4<=K?I+K-4+1:I,pe(g)}function de(g,S){for(var I=0;0<S--;)I|=le(g,128)<<S;return I}function se(g,S){var I=de(g,S);return Z(g)?-I:I}function he(g,S,I,K){var ne,ue=0;for(t(g!=null),t(S!=null),t(4294967288>K),g.Sb=K,g.Ra=0,g.u=0,g.h=0,4<K&&(K=4),ne=0;ne<K;++ne)ue+=S[I+ne]<<8*ne;g.Ra=ue,g.bb=K,g.oa=S,g.pa=I}function fe(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<al-8>>>0,++g.bb,g.u-=8;ie(g)&&(g.h=1,g.u=0)}function ve(g,S){if(t(0<=S),!g.h&&S<=Gi){var I=Y(g)&$n[S];return g.u+=S,fe(g),I}return g.h=1,g.u=0}function B(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(g){return g.Ra>>>(g.u&al-1)>>>0}function ie(g){return t(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>al}function ge(g,S){g.u=S,g.h=ie(g)}function ye(g){g.u>=Bo&&(t(g.u>=Bo),fe(g))}function pe(g){t(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(t(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function Z(g){return de(g,1)}function le(g,S){var I=g.Ca;0>g.b&&pe(g);var K=g.b,ne=I*S>>>8,ue=(g.I>>>K>ne)+0;for(ue?(I-=ne,g.I-=ne+1<<K>>>0):I=ne+1,K=I,ne=0;256<=K;)ne+=8,K>>=8;return K=7^ne+li[K],g.b-=K,g.Ca=(I<<K)-1,ue}function te(g,S,I){g[S+0]=I>>24&255,g[S+1]=I>>16&255,g[S+2]=I>>8&255,g[S+3]=255&I}function Ne(g,S){return g[S+0]|g[S+1]<<8}function Fe(g,S){return Ne(g,S)|g[S+2]<<16}function be(g,S){return Ne(g,S)|Ne(g,S+2)<<16}function re(g,S){var I=1<<S;return t(g!=null),t(0<S),g.X=i(I),g.X==null?0:(g.Mb=32-S,g.Xa=S,1)}function Ce(g,S){t(g!=null),t(S!=null),t(g.Xa==S.Xa),n(S.X,0,g.X,0,1<<S.Xa)}function st(){this.X=[],this.Xa=this.Mb=0}function et(g,S,I,K){t(I!=null),t(K!=null);var ne=I[0],ue=K[0];return ne==0&&(ne=(g*ue+S/2)/S),ue==0&&(ue=(S*ne+g/2)/g),0>=ne||0>=ue?0:(I[0]=ne,K[0]=ue,1)}function He(g,S){return g+(1<<S)-1>>>S}function ct(g,S){return((4278255360&g)+(4278255360&S)>>>0&4278255360)+((16711935&g)+(16711935&S)>>>0&16711935)>>>0}function _e(g,S){Q[S]=function(I,K,ne,ue,me,xe,Se){var Ie;for(Ie=0;Ie<me;++Ie){var Xe=Q[g](xe[Se+Ie-1],ne,ue+Ie);xe[Se+Ie]=ct(I[K+Ie],Xe)}}}function ke(){this.ud=this.hd=this.jd=0}function Ze(g,S){return((4278124286&(g^S))>>>1)+(g&S)>>>0}function Pe(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function ot(g,S){return Pe(g+(g-S+.5>>1))}function Ge(g,S,I){return Math.abs(S-I)-Math.abs(g-I)}function lt(g,S,I,K,ne,ue,me){for(K=ue[me-1],I=0;I<ne;++I)ue[me+I]=K=ct(g[S+I],K)}function Je(g,S,I,K,ne){var ue;for(ue=0;ue<I;++ue){var me=g[S+ue],xe=me>>8&255,Se=16711935&(Se=(Se=16711935&me)+((xe<<16)+xe));K[ne+ue]=(4278255360&me)+Se>>>0}}function Me(g,S){S.jd=255&g,S.hd=g>>8&255,S.ud=g>>16&255}function Te(g,S,I,K,ne,ue){var me;for(me=0;me<K;++me){var xe=S[I+me],Se=xe>>>8,Ie=xe,Xe=255&(Xe=(Xe=xe>>>16)+((g.jd<<24>>24)*(Se<<24>>24)>>>5));Ie=255&(Ie=(Ie+=(g.hd<<24>>24)*(Se<<24>>24)>>>5)+((g.ud<<24>>24)*(Xe<<24>>24)>>>5)),ne[ue+me]=(4278255360&xe)+(Xe<<16)+Ie}}function je(g,S,I,K,ne){Q[S]=function(ue,me,xe,Se,Ie,Xe,vt,Ve,at){for(Se=vt;Se<Ve;++Se)for(vt=0;vt<at;++vt)Ie[Xe++]=ne(xe[K(ue[me++])])},Q[g]=function(ue,me,xe,Se,Ie,Xe,vt){var Ve=8>>ue.b,at=ue.Ea,wt=ue.K[0],Tt=ue.w;if(8>Ve)for(ue=(1<<ue.b)-1,Tt=(1<<Ve)-1;me<xe;++me){var it,xt=0;for(it=0;it<at;++it)it&ue||(xt=K(Se[Ie++])),Xe[vt++]=ne(wt[xt&Tt]),xt>>=Ve}else Q["VP8LMapColor"+I](Se,Ie,wt,Tt,Xe,vt,me,xe,at)}}function Ke(g,S,I,K,ne){for(I=S+I;S<I;){var ue=g[S++];K[ne++]=ue>>16&255,K[ne++]=ue>>8&255,K[ne++]=255&ue}}function Le(g,S,I,K,ne){for(I=S+I;S<I;){var ue=g[S++];K[ne++]=ue>>16&255,K[ne++]=ue>>8&255,K[ne++]=255&ue,K[ne++]=ue>>24&255}}function rt(g,S,I,K,ne){for(I=S+I;S<I;){var ue=(me=g[S++])>>16&240|me>>12&15,me=240&me|me>>28&15;K[ne++]=ue,K[ne++]=me}}function Oe(g,S,I,K,ne){for(I=S+I;S<I;){var ue=(me=g[S++])>>16&248|me>>13&7,me=me>>5&224|me>>3&31;K[ne++]=ue,K[ne++]=me}}function De(g,S,I,K,ne){for(I=S+I;S<I;){var ue=g[S++];K[ne++]=255&ue,K[ne++]=ue>>8&255,K[ne++]=ue>>16&255}}function ut(g,S,I,K,ne,ue){if(ue==0)for(I=S+I;S<I;)te(K,((ue=g[S++])[0]>>24|ue[1]>>8&65280|ue[2]<<8&16711680|ue[3]<<24)>>>0),ne+=32;else n(K,ne,g,S,I)}function _t(g,S){Q[S][0]=Q[g+"0"],Q[S][1]=Q[g+"1"],Q[S][2]=Q[g+"2"],Q[S][3]=Q[g+"3"],Q[S][4]=Q[g+"4"],Q[S][5]=Q[g+"5"],Q[S][6]=Q[g+"6"],Q[S][7]=Q[g+"7"],Q[S][8]=Q[g+"8"],Q[S][9]=Q[g+"9"],Q[S][10]=Q[g+"10"],Q[S][11]=Q[g+"11"],Q[S][12]=Q[g+"12"],Q[S][13]=Q[g+"13"],Q[S][14]=Q[g+"0"],Q[S][15]=Q[g+"0"]}function qt(g){return g==du||g==ql||g==Cl||g==Vc}function Ft(){this.eb=[],this.size=this.A=this.fb=0}function gt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Zt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ft,this.f.kb=new gt,this.sd=null}function $t(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function kr(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Qr(g,S){var I=g.T,K=S.ba.f.RGBA,ne=K.eb,ue=K.fb+g.ka*K.A,me=ds[S.ba.S],xe=g.y,Se=g.O,Ie=g.f,Xe=g.N,vt=g.ea,Ve=g.W,at=S.cc,wt=S.dc,Tt=S.Mc,it=S.Nc,xt=g.ka,kt=g.ka+g.T,Ut=g.U,Dt=Ut+1>>1;for(xt==0?me(xe,Se,null,null,Ie,Xe,vt,Ve,Ie,Xe,vt,Ve,ne,ue,null,null,Ut):(me(S.ec,S.fc,xe,Se,at,wt,Tt,it,Ie,Xe,vt,Ve,ne,ue-K.A,ne,ue,Ut),++I);xt+2<kt;xt+=2)at=Ie,wt=Xe,Tt=vt,it=Ve,Xe+=g.Rc,Ve+=g.Rc,ue+=2*K.A,me(xe,(Se+=2*g.fa)-g.fa,xe,Se,at,wt,Tt,it,Ie,Xe,vt,Ve,ne,ue-K.A,ne,ue,Ut);return Se+=g.fa,g.j+kt<g.o?(n(S.ec,S.fc,xe,Se,Ut),n(S.cc,S.dc,Ie,Xe,Dt),n(S.Mc,S.Nc,vt,Ve,Dt),I--):1&kt||me(xe,Se,null,null,Ie,Xe,vt,Ve,Ie,Xe,vt,Ve,ne,ue+K.A,null,null,Ut),I}function dn(g,S,I){var K=g.F,ne=[g.J];if(K!=null){var ue=g.U,me=S.ba.S,xe=me==uu||me==Cl;S=S.ba.f.RGBA;var Se=[0],Ie=g.ka;Se[0]=g.T,g.Kb&&(Ie==0?--Se[0]:(--Ie,ne[0]-=g.width),g.j+g.ka+g.T==g.o&&(Se[0]=g.o-g.j-Ie));var Xe=S.eb;Ie=S.fb+Ie*S.A,g=Sa(K,ne[0],g.width,ue,Se,Xe,Ie+(xe?0:3),S.A),t(I==Se),g&&qt(me)&&oo(Xe,Ie,xe,ue,Se,S.A)}return 0}function ja(g){var S=g.ma,I=S.ba.S,K=11>I,ne=I==Kl||I==zc||I==uu||I==Sl||I==12||qt(I);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!vs(S.Oa,g,ne?11:12))return 0;if(ne&&qt(I)&&Br(),g.da)alert("todo:use_scaling");else{if(K){if(S.Ib=kr,g.Kb){if(I=g.U+1>>1,S.memory=i(g.U+2*I),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+g.U,S.Mc=S.cc,S.Nc=S.dc+I,S.Ib=Qr,Br()}}else alert("todo:EmitYUV");ne&&(S.Jb=dn,K&&Gt())}if(K&&!mA){for(g=0;256>g;++g)r0[g]=89858*(g-128)+ys>>Wl,Kf[g]=-22014*(g-128)+ys,pA[g]=-45773*(g-128),Ss[g]=113618*(g-128)+ys>>Wl;for(g=il;g<Af;++g)S=76283*(g-16)+ys>>Wl,qf[g-il]=Mn(S,255),gA[g-il]=Mn(S+8>>4,15);mA=1}return 1}function rn(g){var S=g.ma,I=g.U,K=g.T;return t(!(1&g.ka)),0>=I||0>=K?0:(I=S.Ib(g,S),S.Jb!=null&&S.Jb(g,S,I),S.Dc+=I,1)}function Vr(g){g.ma.memory=null}function On(g,S,I,K){return ve(g,8)!=47?0:(S[0]=ve(g,14)+1,I[0]=ve(g,14)+1,K[0]=ve(g,1),ve(g,3)!=0?0:!g.h)}function Gn(g,S){if(4>g)return g+1;var I=g-2>>1;return(2+(1&g)<<I)+ve(S,I)+1}function Dn(g,S){return 120<S?S-120:1<=(I=((I=Mu[S-1])>>4)*g+(8-(15&I)))?I:1;var I}function Ct(g,S,I){var K=Y(I),ne=g[S+=255&K].g-8;return 0<ne&&(ge(I,I.u+8),K=Y(I),S+=g[S].value,S+=K&(1<<ne)-1),ge(I,I.u+g[S].g),g[S].value}function fr(g,S,I){return I.g+=g.g,I.value+=g.value<<S>>>0,t(8>=I.g),g.g}function $e(g,S,I){var K=g.xc;return t((S=K==0?0:g.vc[g.md*(I>>K)+(S>>K)])<g.Wb),g.Ya[S]}function pt(g,S,I,K){var ne=g.ab,ue=g.c*S,me=g.C;S=me+S;var xe=I,Se=K;for(K=g.Ta,I=g.Ua;0<ne--;){var Ie=g.gc[ne],Xe=me,vt=S,Ve=xe,at=Se,wt=(Se=K,xe=I,Ie.Ea);switch(t(Xe<vt),t(vt<=Ie.nc),Ie.hc){case 2:Hs(Ve,at,(vt-Xe)*wt,Se,xe);break;case 0:var Tt=Xe,it=vt,xt=Se,kt=xe,Ut=(lr=Ie).Ea;Tt==0&&(To(Ve,at,null,null,1,xt,kt),lt(Ve,at+1,0,0,Ut-1,xt,kt+1),at+=Ut,kt+=Ut,++Tt);for(var Dt=1<<lr.b,pr=Dt-1,ur=He(Ut,lr.b),Ir=lr.K,lr=lr.w+(Tt>>lr.b)*ur;Tt<it;){var mn=Ir,Vn=lr,Wr=1;for(wl(Ve,at,xt,kt-Ut,1,xt,kt);Wr<Ut;){var Xt=(Wr&~pr)+Dt;Xt>Ut&&(Xt=Ut),(0,Bi[mn[Vn++]>>8&15])(Ve,at+ +Wr,xt,kt+Wr-Ut,Xt-Wr,xt,kt+Wr),Wr=Xt}at+=Ut,kt+=Ut,++Tt&pr||(lr+=ur)}vt!=Ie.nc&&n(Se,xe-wt,Se,xe+(vt-Xe-1)*wt,wt);break;case 1:for(wt=Ve,it=at,Ut=(Ve=Ie.Ea)-(kt=Ve&~(xt=(at=1<<Ie.b)-1)),Tt=He(Ve,Ie.b),Dt=Ie.K,Ie=Ie.w+(Xe>>Ie.b)*Tt;Xe<vt;){for(pr=Dt,ur=Ie,Ir=new ke,lr=it+kt,mn=it+Ve;it<lr;)Me(pr[ur++],Ir),$l(Ir,wt,it,at,Se,xe),it+=at,xe+=at;it<mn&&(Me(pr[ur++],Ir),$l(Ir,wt,it,Ut,Se,xe),it+=Ut,xe+=Ut),++Xe&xt||(Ie+=Tt)}break;case 3:if(Ve==Se&&at==xe&&0<Ie.b){for(it=Se,Ve=wt=xe+(vt-Xe)*wt-(kt=(vt-Xe)*He(Ie.Ea,Ie.b)),at=Se,xt=xe,Tt=[],kt=(Ut=kt)-1;0<=kt;--kt)Tt[kt]=at[xt+kt];for(kt=Ut-1;0<=kt;--kt)it[Ve+kt]=Tt[kt];Ps(Ie,Xe,vt,Se,wt,Se,xe)}else Ps(Ie,Xe,vt,Ve,at,Se,xe)}xe=K,Se=I}Se!=I&&n(K,I,xe,Se,ue)}function ft(g,S){var I=g.V,K=g.Ba+g.c*g.C,ne=S-g.C;if(t(S<=g.l.o),t(16>=ne),0<ne){var ue=g.l,me=g.Ta,xe=g.Ua,Se=ue.width;if(pt(g,ne,I,K),ne=xe=[xe],t((I=g.C)<(K=S)),t(ue.v<ue.va),K>ue.o&&(K=ue.o),I<ue.j){var Ie=ue.j-I;I=ue.j,ne[0]+=Ie*Se}if(I>=K?I=0:(ne[0]+=4*ue.v,ue.ka=I-ue.j,ue.U=ue.va-ue.v,ue.T=K-I,I=1),I){if(xe=xe[0],11>(I=g.ca).S){var Xe=I.f.RGBA,vt=(K=I.S,ne=ue.U,ue=ue.T,Ie=Xe.eb,Xe.A),Ve=ue;for(Xe=Xe.fb+g.Ma*Xe.A;0<Ve--;){var at=me,wt=xe,Tt=ne,it=Ie,xt=Xe;switch(K){case Yi:Wi(at,wt,Tt,it,xt);break;case Kl:Ls(at,wt,Tt,it,xt);break;case du:Ls(at,wt,Tt,it,xt),oo(it,xt,0,Tt,1,0);break;case gi:Os(at,wt,Tt,it,xt);break;case zc:ut(at,wt,Tt,it,xt,1);break;case ql:ut(at,wt,Tt,it,xt,1),oo(it,xt,0,Tt,1,0);break;case uu:ut(at,wt,Tt,it,xt,0);break;case Cl:ut(at,wt,Tt,it,xt,0),oo(it,xt,1,Tt,1,0);break;case Sl:zo(at,wt,Tt,it,xt);break;case Vc:zo(at,wt,Tt,it,xt),ca(it,xt,Tt,1,0);break;case zf:Ti(at,wt,Tt,it,xt);break;default:t(0)}xe+=Se,Xe+=vt}g.Ma+=ue}else alert("todo:EmitRescaledRowsYUVA");t(g.Ma<=I.height)}}g.C=S,t(g.C<=g.i)}function mt(g){var S;if(0<g.ua)return 0;for(S=0;S<g.Wb;++S){var I=g.Ya[S].G,K=g.Ya[S].H;if(0<I[1][K[1]+0].g||0<I[2][K[2]+0].g||0<I[3][K[3]+0].g)return 0}return 1}function Re(g,S,I,K,ne,ue){if(g.Z!=0){var me=g.qd,xe=g.rd;for(t(xi[g.Z]!=null);S<I;++S)xi[g.Z](me,xe,K,ne,K,ne,ue),me=K,xe=ne,ne+=ue;g.qd=me,g.rd=xe}}function Ee(g,S){var I=g.l.ma,K=I.Z==0||I.Z==1?g.l.j:g.C;if(K=g.C<K?K:g.C,t(S<=g.l.o),S>K){var ne=g.l.width,ue=I.ca,me=I.tb+ne*K,xe=g.V,Se=g.Ba+g.c*K,Ie=g.gc;t(g.ab==1),t(Ie[0].hc==3),ps(Ie[0],K,S,xe,Se,ue,me),Re(I,K,S,ue,me,ne)}g.C=g.Ma=S}function ht(g,S,I,K,ne,ue,me){var xe=g.$/K,Se=g.$%K,Ie=g.m,Xe=g.s,vt=I+g.$,Ve=vt;ne=I+K*ne;var at=I+K*ue,wt=280+Xe.ua,Tt=g.Pb?xe:16777216,it=0<Xe.ua?Xe.Wa:null,xt=Xe.wc,kt=vt<at?$e(Xe,Se,xe):null;t(g.C<ue),t(at<=ne);var Ut=!1;e:for(;;){for(;Ut||vt<at;){var Dt=0;if(xe>=Tt){var pr=vt-I;t((Tt=g).Pb),Tt.wd=Tt.m,Tt.xd=pr,0<Tt.s.ua&&Ce(Tt.s.Wa,Tt.s.vb),Tt=xe+AA}if(Se&xt||(kt=$e(Xe,Se,xe)),t(kt!=null),kt.Qb&&(S[vt]=kt.qb,Ut=!0),!Ut)if(ye(Ie),kt.jc){Dt=Ie,pr=S;var ur=vt,Ir=kt.pd[Y(Dt)&ms-1];t(kt.jc),256>Ir.g?(ge(Dt,Dt.u+Ir.g),pr[ur]=Ir.value,Dt=0):(ge(Dt,Dt.u+Ir.g-256),t(256<=Ir.value),Dt=Ir.value),Dt==0&&(Ut=!0)}else Dt=Ct(kt.G[0],kt.H[0],Ie);if(Ie.h)break;if(Ut||256>Dt){if(!Ut)if(kt.nd)S[vt]=(kt.qb|Dt<<8)>>>0;else{if(ye(Ie),Ut=Ct(kt.G[1],kt.H[1],Ie),ye(Ie),pr=Ct(kt.G[2],kt.H[2],Ie),ur=Ct(kt.G[3],kt.H[3],Ie),Ie.h)break;S[vt]=(ur<<24|Ut<<16|Dt<<8|pr)>>>0}if(Ut=!1,++vt,++Se>=K&&(Se=0,++xe,me!=null&&xe<=ue&&!(xe%16)&&me(g,xe),it!=null))for(;Ve<vt;)Dt=S[Ve++],it.X[(506832829*Dt&4294967295)>>>it.Mb]=Dt}else if(280>Dt){if(Dt=Gn(Dt-256,Ie),pr=Ct(kt.G[4],kt.H[4],Ie),ye(Ie),pr=Dn(K,pr=Gn(pr,Ie)),Ie.h)break;if(vt-I<pr||ne-vt<Dt)break e;for(ur=0;ur<Dt;++ur)S[vt+ur]=S[vt+ur-pr];for(vt+=Dt,Se+=Dt;Se>=K;)Se-=K,++xe,me!=null&&xe<=ue&&!(xe%16)&&me(g,xe);if(t(vt<=ne),Se&xt&&(kt=$e(Xe,Se,xe)),it!=null)for(;Ve<vt;)Dt=S[Ve++],it.X[(506832829*Dt&4294967295)>>>it.Mb]=Dt}else{if(!(Dt<wt))break e;for(Ut=Dt-280,t(it!=null);Ve<vt;)Dt=S[Ve++],it.X[(506832829*Dt&4294967295)>>>it.Mb]=Dt;Dt=vt,t(!(Ut>>>(pr=it).Xa)),S[Dt]=pr.X[Ut],Ut=!0}Ut||t(Ie.h==ie(Ie))}if(g.Pb&&Ie.h&&vt<ne)t(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Ce(g.s.vb,g.s.Wa);else{if(Ie.h)break e;me?.(g,xe>ue?ue:xe),g.a=0,g.$=vt-I}return 1}return g.a=3,0}function nt(g){t(g!=null),g.vc=null,g.yc=null,g.Ya=null;var S=g.Wa;S!=null&&(S.X=null),g.vb=null,t(g!=null)}function Et(){var g=new gn;return g==null?null:(g.a=0,g.xb=fu,_t("Predictor","VP8LPredictors"),_t("Predictor","VP8LPredictors_C"),_t("PredictorAdd","VP8LPredictorsAdd"),_t("PredictorAdd","VP8LPredictorsAdd_C"),Hs=Je,$l=Te,Wi=Ke,Ls=Le,zo=rt,Ti=Oe,Os=De,Q.VP8LMapColor32b=Ka,Q.VP8LMapColor8b=Pa,g)}function Qe(g,S,I,K,ne){var ue=1,me=[g],xe=[S],Se=K.m,Ie=K.s,Xe=null,vt=0;e:for(;;){if(I)for(;ue&&ve(Se,1);){var Ve=me,at=xe,wt=K,Tt=1,it=wt.m,xt=wt.gc[wt.ab],kt=ve(it,2);if(wt.Oc&1<<kt)ue=0;else{switch(wt.Oc|=1<<kt,xt.hc=kt,xt.Ea=Ve[0],xt.nc=at[0],xt.K=[null],++wt.ab,t(4>=wt.ab),kt){case 0:case 1:xt.b=ve(it,3)+2,Tt=Qe(He(xt.Ea,xt.b),He(xt.nc,xt.b),0,wt,xt.K),xt.K=xt.K[0];break;case 3:var Ut,Dt=ve(it,8)+1,pr=16<Dt?0:4<Dt?1:2<Dt?2:3;if(Ve[0]=He(xt.Ea,pr),xt.b=pr,Ut=Tt=Qe(Dt,1,0,wt,xt.K)){var ur,Ir=Dt,lr=xt,mn=1<<(8>>lr.b),Vn=i(mn);if(Vn==null)Ut=0;else{var Wr=lr.K[0],Xt=lr.w;for(Vn[0]=lr.K[0][0],ur=1;ur<1*Ir;++ur)Vn[ur]=ct(Wr[Xt+ur],Vn[ur-1]);for(;ur<4*mn;++ur)Vn[ur]=0;lr.K[0]=null,lr.K[0]=Vn,Ut=1}}Tt=Ut;break;case 2:break;default:t(0)}ue=Tt}}if(me=me[0],xe=xe[0],ue&&ve(Se,1)&&!(ue=1<=(vt=ve(Se,4))&&11>=vt)){K.a=3;break e}var Sr;if(Sr=ue)t:{var Un,$r,sn,Zr=K,pn=me,fn=xe,Nn=vt,qa=I,ua=Zr.m,Aa=Zr.s,yn=[null],Bn=1,Oa=0,on=Hd[Nn];r:for(;;){if(qa&&ve(ua,1)){var Ca=ve(ua,3)+2,_i=He(pn,Ca),fs=He(fn,Ca),Ji=_i*fs;if(!Qe(_i,fs,0,Zr,yn))break r;for(yn=yn[0],Aa.xc=Ca,Un=0;Un<Ji;++Un){var Da=yn[Un]>>8&65535;yn[Un]=Da,Da>=Bn&&(Bn=Da+1)}}if(ua.h)break r;for($r=0;5>$r;++$r){var da=El[$r];!$r&&0<Nn&&(da+=1<<Nn),Oa<da&&(Oa=da)}var Fi=o(Bn*on,V),lo=Bn,Cs=o(lo,ce);if(Cs==null)var $a=null;else t(65536>=lo),$a=Cs;var ti=i(Oa);if($a==null||ti==null||Fi==null){Zr.a=1;break r}var Ii=Fi;for(Un=sn=0;Un<Bn;++Un){var Ea=$a[Un],vi=Ea.G,Ks=Ea.H,Sc=0,Tl=1,ci=0;for($r=0;5>$r;++$r){da=El[$r],vi[$r]=Ii,Ks[$r]=sn,!$r&&0<Nn&&(da+=1<<Nn);a:{var Uu,hu=da,Au=Zr,Yl=ti,Th=Ii,yA=sn,Ru=0,ki=Au.m,bA=ve(ki,1);if(s(Yl,0,0,hu),bA){var _h=ve(ki,1)+1,Fh=ve(ki,1),Gf=ve(ki,Fh==0?1:8);Yl[Gf]=1,_h==2&&(Yl[Gf=ve(ki,8)]=1);var Kc=1}else{var mf=i(19),pf=ve(ki,4)+4;if(19<pf){Au.a=3;var Qu=0;break a}for(Uu=0;Uu<pf;++Uu)mf[Ns[Uu]]=ve(ki,3);var ud=void 0,Pi=void 0,Vd=Au,wa=mf,Cc=hu,gf=Yl,mu=0,co=Vd.m,Kd=8,Ih=o(128,V);n:for(;L(Ih,0,7,wa,19);){if(ve(co,1)){var Xl=2+2*ve(co,3);if((ud=2+ve(co,Xl))>Cc)break n}else ud=Cc;for(Pi=0;Pi<Cc&&ud--;){ye(co);var kh=Ih[0+(127&Y(co))];ge(co,co.u+kh.g);var Wo=kh.value;if(16>Wo)gf[Pi++]=Wo,Wo!=0&&(Kd=Wo);else{var Ph=Wo==16,qd=Wo-16,Wf=wc[qd],rs=ve(co,Vf[qd])+Wf;if(Pi+rs>Cc)break n;for(var Jl=Ph?Kd:0;0<rs--;)gf[Pi++]=Jl}}mu=1;break n}mu||(Vd.a=3),Kc=mu}(Kc=Kc&&!ki.h)&&(Ru=L(Th,yA,8,Yl,hu)),Kc&&Ru!=0?Qu=Ru:(Au.a=3,Qu=0)}if(Qu==0)break r;if(Tl&&zs[$r]==1&&(Tl=Ii[sn].g==0),Sc+=Ii[sn].g,sn+=Qu,3>=$r){var Zl,Gd=ti[0];for(Zl=1;Zl<da;++Zl)ti[Zl]>Gd&&(Gd=ti[Zl]);ci+=Gd}}if(Ea.nd=Tl,Ea.Qb=0,Tl&&(Ea.qb=(vi[3][Ks[3]+0].value<<24|vi[1][Ks[1]+0].value<<16|vi[2][Ks[2]+0].value)>>>0,Sc==0&&256>vi[0][Ks[0]+0].value&&(Ea.Qb=1,Ea.qb+=vi[0][Ks[0]+0].value<<8)),Ea.jc=!Ea.Qb&&6>ci,Ea.jc){var Ec,Zi=Ea;for(Ec=0;Ec<ms;++Ec){var uo=Ec,ko=Zi.pd[uo],pu=Zi.G[0][Zi.H[0]+uo];256<=pu.value?(ko.g=pu.g+256,ko.value=pu.value):(ko.g=0,ko.value=0,uo>>=fr(pu,8,ko),uo>>=fr(Zi.G[1][Zi.H[1]+uo],16,ko),uo>>=fr(Zi.G[2][Zi.H[2]+uo],0,ko),fr(Zi.G[3][Zi.H[3]+uo],24,ko))}}}Aa.vc=yn,Aa.Wb=Bn,Aa.Ya=$a,Aa.yc=Fi,Sr=1;break t}Sr=0}if(!(ue=Sr)){K.a=3;break e}if(0<vt){if(Ie.ua=1<<vt,!re(Ie.Wa,vt)){K.a=1,ue=0;break e}}else Ie.ua=0;var Hu=K,qc=me,lm=xe,Bc=Hu.s,xf=Bc.xc;if(Hu.c=qc,Hu.i=lm,Bc.md=He(qc,xf),Bc.wc=xf==0?-1:(1<<xf)-1,I){K.xb=om;break e}if((Xe=i(me*xe))==null){K.a=1,ue=0;break e}ue=(ue=ht(K,Xe,0,me,xe,xe,null))&&!Se.h;break e}return ue?(ne!=null?ne[0]=Xe:(t(Xe==null),t(I)),K.$=0,I||nt(Ie)):nt(Ie),ue}function bt(g,S){var I=g.c*g.i,K=I+S+16*S;return t(g.c<=S),g.V=i(K),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+I+S,1)}function It(g,S){var I=g.C,K=S-I,ne=g.V,ue=g.Ba+g.c*I;for(t(S<=g.l.o);0<K;){var me=16<K?16:K,xe=g.l.ma,Se=g.l.width,Ie=Se*me,Xe=xe.ca,vt=xe.tb+Se*I,Ve=g.Ta,at=g.Ua;pt(g,me,ne,ue),ws(Ve,at,Xe,vt,Ie),Re(xe,I,I+me,Xe,vt,Se),K-=me,ne+=me*g.c,I+=me}t(I==S),g.C=g.Ma=S}function nr(){this.ub=this.yd=this.td=this.Rb=0}function tr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function vr(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function yr(){this.Yb=(function(){var g=[];return(function S(I,K,ne){for(var ue=ne[K],me=0;me<ue&&(I.push(ne.length>K+1?[]:0),!(ne.length<K+1));me++)S(I[me],K+1,ne)})(g,0,[3,11]),g})()}function Yr(){this.jb=i(3),this.Wc=l([4,8],yr),this.Xc=l([4,17],yr)}function zn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Hn(){this.ld=this.La=this.dd=this.tc=0}function xa(){this.Na=this.la=0}function Ai(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ya(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function mi(){this.uc=this.M=this.Nb=0,this.wa=Array(new Hn),this.Y=0,this.ya=Array(new Ya),this.aa=0,this.l=new pi}function Ro(){this.y=i(16),this.f=i(8),this.ea=i(8)}function po(){this.cb=this.a=0,this.sc="",this.m=new B,this.Od=new nr,this.Kc=new tr,this.ed=new zn,this.Qa=new vr,this.Ic=this.$c=this.Aa=0,this.D=new mi,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,B),this.ia=0,this.pb=o(4,Ai),this.Pa=new Yr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ro),this.Hd=0,this.rb=Array(new xa),this.sb=0,this.wa=Array(new Hn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ya),this.L=this.aa=0,this.gd=l([4,2],Hn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function pi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Qs(){var g=new po;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,js||(js=ao)),g}function Qa(g,S,I){return g.a==0&&(g.a=S,g.sc=I,g.cb=0),0}function Pu(g,S,I){return 3<=I&&g[S+0]==157&&g[S+1]==1&&g[S+2]==42}function Ac(g,S){if(g==null)return 0;if(g.a=0,g.sc="OK",S==null)return Qa(g,2,"null VP8Io passed to VP8GetHeaders()");var I=S.data,K=S.w,ne=S.ha;if(4>ne)return Qa(g,7,"Truncated header.");var ue=I[K+0]|I[K+1]<<8|I[K+2]<<16,me=g.Od;if(me.Rb=!(1&ue),me.td=ue>>1&7,me.yd=ue>>4&1,me.ub=ue>>5,3<me.td)return Qa(g,3,"Incorrect keyframe parameters.");if(!me.yd)return Qa(g,4,"Frame not displayable.");K+=3,ne-=3;var xe=g.Kc;if(me.Rb){if(7>ne)return Qa(g,7,"cannot parse picture header");if(!Pu(I,K,ne))return Qa(g,3,"Bad code word");xe.c=16383&(I[K+4]<<8|I[K+3]),xe.Td=I[K+4]>>6,xe.i=16383&(I[K+6]<<8|I[K+5]),xe.Ud=I[K+6]>>6,K+=7,ne-=7,g.za=xe.c+15>>4,g.Ub=xe.i+15>>4,S.width=xe.c,S.height=xe.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,s((ue=g.Pa).jb,0,255,ue.jb.length),t((ue=g.Qa)!=null),ue.Cb=0,ue.Bb=0,ue.Fb=1,s(ue.Zb,0,0,ue.Zb.length),s(ue.Lb,0,0,ue.Lb)}if(me.ub>ne)return Qa(g,7,"bad partition length");ee(ue=g.m,I,K,me.ub),K+=me.ub,ne-=me.ub,me.Rb&&(xe.Ld=Z(ue),xe.Kd=Z(ue)),xe=g.Qa;var Se,Ie=g.Pa;if(t(ue!=null),t(xe!=null),xe.Cb=Z(ue),xe.Cb){if(xe.Bb=Z(ue),Z(ue)){for(xe.Fb=Z(ue),Se=0;4>Se;++Se)xe.Zb[Se]=Z(ue)?se(ue,7):0;for(Se=0;4>Se;++Se)xe.Lb[Se]=Z(ue)?se(ue,6):0}if(xe.Bb)for(Se=0;3>Se;++Se)Ie.jb[Se]=Z(ue)?de(ue,8):255}else xe.Bb=0;if(ue.Ka)return Qa(g,3,"cannot parse segment header");if((xe=g.ed).zd=Z(ue),xe.Tb=de(ue,6),xe.wb=de(ue,3),xe.Pc=Z(ue),xe.Pc&&Z(ue)){for(Ie=0;4>Ie;++Ie)Z(ue)&&(xe.vd[Ie]=se(ue,6));for(Ie=0;4>Ie;++Ie)Z(ue)&&(xe.od[Ie]=se(ue,6))}if(g.L=xe.Tb==0?0:xe.zd?1:2,ue.Ka)return Qa(g,3,"cannot parse filter header");var Xe=ne;if(ne=Se=K,K=Se+Xe,xe=Xe,g.Xb=(1<<de(g.m,2))-1,Xe<3*(Ie=g.Xb))I=7;else{for(Se+=3*Ie,xe-=3*Ie,Xe=0;Xe<Ie;++Xe){var vt=I[ne+0]|I[ne+1]<<8|I[ne+2]<<16;vt>xe&&(vt=xe),ee(g.Jc[+Xe],I,Se,vt),Se+=vt,xe-=vt,ne+=3}ee(g.Jc[+Ie],I,Se,xe),I=Se<K?0:5}if(I!=0)return Qa(g,I,"cannot parse partitions");for(I=de(Se=g.m,7),ne=Z(Se)?se(Se,4):0,K=Z(Se)?se(Se,4):0,xe=Z(Se)?se(Se,4):0,Ie=Z(Se)?se(Se,4):0,Se=Z(Se)?se(Se,4):0,Xe=g.Qa,vt=0;4>vt;++vt){if(Xe.Cb){var Ve=Xe.Zb[vt];Xe.Fb||(Ve+=I)}else{if(0<vt){g.pb[vt]=g.pb[0];continue}Ve=I}var at=g.pb[vt];at.Sc[0]=$d[Mn(Ve+ne,127)],at.Sc[1]=Nc[Mn(Ve+0,127)],at.Eb[0]=2*$d[Mn(Ve+K,127)],at.Eb[1]=101581*Nc[Mn(Ve+xe,127)]>>16,8>at.Eb[1]&&(at.Eb[1]=8),at.Qc[0]=$d[Mn(Ve+Ie,117)],at.Qc[1]=Nc[Mn(Ve+Se,127)],at.lc=Ve+Se}if(!me.Rb)return Qa(g,4,"Not a key frame.");for(Z(ue),me=g.Pa,I=0;4>I;++I){for(ne=0;8>ne;++ne)for(K=0;3>K;++K)for(xe=0;11>xe;++xe)Ie=le(ue,jc[I][ne][K][xe])?de(ue,8):Bl[I][ne][K][xe],me.Wc[I][ne].Yb[K][xe]=Ie;for(ne=0;17>ne;++ne)me.Xc[I][ne]=me.Wc[I][im[ne]]}return g.kc=Z(ue),g.kc&&(g.Bd=de(ue,8)),g.cb=1}function ao(g,S,I,K,ne,ue,me){var xe=S[ne].Yb[I];for(I=0;16>ne;++ne){if(!le(g,xe[I+0]))return ne;for(;!le(g,xe[I+1]);)if(xe=S[++ne].Yb[0],I=0,ne==16)return 16;var Se=S[ne+1].Yb;if(le(g,xe[I+2])){var Ie=g,Xe=0;if(le(Ie,(Ve=xe)[(vt=I)+3]))if(le(Ie,Ve[vt+6])){for(xe=0,vt=2*(Xe=le(Ie,Ve[vt+8]))+(Ve=le(Ie,Ve[vt+9+Xe])),Xe=0,Ve=Zs[vt];Ve[xe];++xe)Xe+=Xe+le(Ie,Ve[xe]);Xe+=3+(8<<vt)}else le(Ie,Ve[vt+7])?(Xe=7+2*le(Ie,165),Xe+=le(Ie,145)):Xe=5+le(Ie,159);else Xe=le(Ie,Ve[vt+4])?3+le(Ie,Ve[vt+5]):2;xe=Se[2]}else Xe=1,xe=Se[1];Se=me+La[ne],0>(Ie=g).b&&pe(Ie);var vt,Ve=Ie.b,at=(vt=Ie.Ca>>1)-(Ie.I>>Ve)>>31;--Ie.b,Ie.Ca+=at,Ie.Ca|=1,Ie.I-=(vt+1&at)<<Ve,ue[Se]=((Xe^at)-at)*K[(0<ne)+0]}return 16}function nl(g){var S=g.rb[g.sb-1];S.la=0,S.Na=0,s(g.zc,0,0,g.zc.length),g.ja=0}function bs(g,S,I,K,ne){ne=g[S+I+32*K]+(ne>>3),g[S+I+32*K]=-256&ne?0>ne?0:255:ne}function Is(g,S,I,K,ne,ue){bs(g,S,0,I,K+ne),bs(g,S,1,I,K+ue),bs(g,S,2,I,K-ue),bs(g,S,3,I,K-ne)}function Zn(g){return(20091*g>>16)+g}function mc(g,S,I,K){var ne,ue=0,me=i(16);for(ne=0;4>ne;++ne){var xe=g[S+0]+g[S+8],Se=g[S+0]-g[S+8],Ie=(35468*g[S+4]>>16)-Zn(g[S+12]),Xe=Zn(g[S+4])+(35468*g[S+12]>>16);me[ue+0]=xe+Xe,me[ue+1]=Se+Ie,me[ue+2]=Se-Ie,me[ue+3]=xe-Xe,ue+=4,S++}for(ne=ue=0;4>ne;++ne)xe=(g=me[ue+0]+4)+me[ue+8],Se=g-me[ue+8],Ie=(35468*me[ue+4]>>16)-Zn(me[ue+12]),bs(I,K,0,0,xe+(Xe=Zn(me[ue+4])+(35468*me[ue+12]>>16))),bs(I,K,1,0,Se+Ie),bs(I,K,2,0,Se-Ie),bs(I,K,3,0,xe-Xe),ue++,K+=32}function sd(g,S,I,K){var ne=g[S+0]+4,ue=35468*g[S+4]>>16,me=Zn(g[S+4]),xe=35468*g[S+1]>>16;Is(I,K,0,ne+me,g=Zn(g[S+1]),xe),Is(I,K,1,ne+ue,g,xe),Is(I,K,2,ne-ue,g,xe),Is(I,K,3,ne-me,g,xe)}function Lu(g,S,I,K,ne){mc(g,S,I,K),ne&&mc(g,S+16,I,K+4)}function Rc(g,S,I,K){Ar(g,S+0,I,K,1),Ar(g,S+32,I,K+128,1)}function pl(g,S,I,K){var ne;for(g=g[S+0]+4,ne=0;4>ne;++ne)for(S=0;4>S;++S)bs(I,K,S,ne,g)}function iu(g,S,I,K){g[S+0]&&Rr(g,S+0,I,K),g[S+16]&&Rr(g,S+16,I,K+4),g[S+32]&&Rr(g,S+32,I,K+128),g[S+48]&&Rr(g,S+48,I,K+128+4)}function Ul(g,S,I,K){var ne,ue=i(16);for(ne=0;4>ne;++ne){var me=g[S+0+ne]+g[S+12+ne],xe=g[S+4+ne]+g[S+8+ne],Se=g[S+4+ne]-g[S+8+ne],Ie=g[S+0+ne]-g[S+12+ne];ue[0+ne]=me+xe,ue[8+ne]=me-xe,ue[4+ne]=Ie+Se,ue[12+ne]=Ie-Se}for(ne=0;4>ne;++ne)me=(g=ue[0+4*ne]+3)+ue[3+4*ne],xe=ue[1+4*ne]+ue[2+4*ne],Se=ue[1+4*ne]-ue[2+4*ne],Ie=g-ue[3+4*ne],I[K+0]=me+xe>>3,I[K+16]=Ie+Se>>3,I[K+32]=me-xe>>3,I[K+48]=Ie-Se>>3,K+=64}function zi(g,S,I){var K,ne=S-32,ue=is,me=255-g[ne-1];for(K=0;K<I;++K){var xe,Se=ue,Ie=me+g[S-1];for(xe=0;xe<I;++xe)g[S+xe]=Se[Ie+g[ne+xe]];S+=32}}function Ou(g,S){zi(g,S,4)}function id(g,S){zi(g,S,8)}function Ud(g,S){zi(g,S,16)}function pc(g,S){var I;for(I=0;16>I;++I)n(g,S+32*I,g,S-32,16)}function gc(g,S){var I;for(I=16;0<I;--I)s(g,S,g[S-1],16),S+=32}function go(g,S,I){var K;for(K=0;16>K;++K)s(S,I+32*K,g,16)}function Vi(g,S){var I,K=16;for(I=0;16>I;++I)K+=g[S-1+32*I]+g[S+I-32];go(K>>5,g,S)}function Ki(g,S){var I,K=8;for(I=0;16>I;++I)K+=g[S-1+32*I];go(K>>4,g,S)}function gl(g,S){var I,K=8;for(I=0;16>I;++I)K+=g[S+I-32];go(K>>4,g,S)}function Rl(g,S){go(128,g,S)}function Dr(g,S,I){return g+2*S+I+2>>2}function Rd(g,S){var I,K=S-32;for(K=new Uint8Array([Dr(g[K-1],g[K+0],g[K+1]),Dr(g[K+0],g[K+1],g[K+2]),Dr(g[K+1],g[K+2],g[K+3]),Dr(g[K+2],g[K+3],g[K+4])]),I=0;4>I;++I)n(g,S+32*I,K,0,K.length)}function ff(g,S){var I=g[S-1],K=g[S-1+32],ne=g[S-1+64],ue=g[S-1+96];te(g,S+0,16843009*Dr(g[S-1-32],I,K)),te(g,S+32,16843009*Dr(I,K,ne)),te(g,S+64,16843009*Dr(K,ne,ue)),te(g,S+96,16843009*Dr(ne,ue,ue))}function Qo(g,S){var I,K=4;for(I=0;4>I;++I)K+=g[S+I-32]+g[S-1+32*I];for(K>>=3,I=0;4>I;++I)s(g,S+32*I,K,4)}function xl(g,S){var I=g[S-1+0],K=g[S-1+32],ne=g[S-1+64],ue=g[S-1-32],me=g[S+0-32],xe=g[S+1-32],Se=g[S+2-32],Ie=g[S+3-32];g[S+0+96]=Dr(K,ne,g[S-1+96]),g[S+1+96]=g[S+0+64]=Dr(I,K,ne),g[S+2+96]=g[S+1+64]=g[S+0+32]=Dr(ue,I,K),g[S+3+96]=g[S+2+64]=g[S+1+32]=g[S+0+0]=Dr(me,ue,I),g[S+3+64]=g[S+2+32]=g[S+1+0]=Dr(xe,me,ue),g[S+3+32]=g[S+2+0]=Dr(Se,xe,me),g[S+3+0]=Dr(Ie,Se,xe)}function Ho(g,S){var I=g[S+1-32],K=g[S+2-32],ne=g[S+3-32],ue=g[S+4-32],me=g[S+5-32],xe=g[S+6-32],Se=g[S+7-32];g[S+0+0]=Dr(g[S+0-32],I,K),g[S+1+0]=g[S+0+32]=Dr(I,K,ne),g[S+2+0]=g[S+1+32]=g[S+0+64]=Dr(K,ne,ue),g[S+3+0]=g[S+2+32]=g[S+1+64]=g[S+0+96]=Dr(ne,ue,me),g[S+3+32]=g[S+2+64]=g[S+1+96]=Dr(ue,me,xe),g[S+3+64]=g[S+2+96]=Dr(me,xe,Se),g[S+3+96]=Dr(xe,Se,Se)}function xo(g,S){var I=g[S-1+0],K=g[S-1+32],ne=g[S-1+64],ue=g[S-1-32],me=g[S+0-32],xe=g[S+1-32],Se=g[S+2-32],Ie=g[S+3-32];g[S+0+0]=g[S+1+64]=ue+me+1>>1,g[S+1+0]=g[S+2+64]=me+xe+1>>1,g[S+2+0]=g[S+3+64]=xe+Se+1>>1,g[S+3+0]=Se+Ie+1>>1,g[S+0+96]=Dr(ne,K,I),g[S+0+64]=Dr(K,I,ue),g[S+0+32]=g[S+1+96]=Dr(I,ue,me),g[S+1+32]=g[S+2+96]=Dr(ue,me,xe),g[S+2+32]=g[S+3+96]=Dr(me,xe,Se),g[S+3+32]=Dr(xe,Se,Ie)}function oi(g,S){var I=g[S+0-32],K=g[S+1-32],ne=g[S+2-32],ue=g[S+3-32],me=g[S+4-32],xe=g[S+5-32],Se=g[S+6-32],Ie=g[S+7-32];g[S+0+0]=I+K+1>>1,g[S+1+0]=g[S+0+64]=K+ne+1>>1,g[S+2+0]=g[S+1+64]=ne+ue+1>>1,g[S+3+0]=g[S+2+64]=ue+me+1>>1,g[S+0+32]=Dr(I,K,ne),g[S+1+32]=g[S+0+96]=Dr(K,ne,ue),g[S+2+32]=g[S+1+96]=Dr(ne,ue,me),g[S+3+32]=g[S+2+96]=Dr(ue,me,xe),g[S+3+64]=Dr(me,xe,Se),g[S+3+96]=Dr(xe,Se,Ie)}function od(g,S){var I=g[S-1+0],K=g[S-1+32],ne=g[S-1+64],ue=g[S-1+96];g[S+0+0]=I+K+1>>1,g[S+2+0]=g[S+0+32]=K+ne+1>>1,g[S+2+32]=g[S+0+64]=ne+ue+1>>1,g[S+1+0]=Dr(I,K,ne),g[S+3+0]=g[S+1+32]=Dr(K,ne,ue),g[S+3+32]=g[S+1+64]=Dr(ne,ue,ue),g[S+3+64]=g[S+2+64]=g[S+0+96]=g[S+1+96]=g[S+2+96]=g[S+3+96]=ue}function xc(g,S){var I=g[S-1+0],K=g[S-1+32],ne=g[S-1+64],ue=g[S-1+96],me=g[S-1-32],xe=g[S+0-32],Se=g[S+1-32],Ie=g[S+2-32];g[S+0+0]=g[S+2+32]=I+me+1>>1,g[S+0+32]=g[S+2+64]=K+I+1>>1,g[S+0+64]=g[S+2+96]=ne+K+1>>1,g[S+0+96]=ue+ne+1>>1,g[S+3+0]=Dr(xe,Se,Ie),g[S+2+0]=Dr(me,xe,Se),g[S+1+0]=g[S+3+32]=Dr(I,me,xe),g[S+1+32]=g[S+3+64]=Dr(K,I,me),g[S+1+64]=g[S+3+96]=Dr(ne,K,I),g[S+1+96]=Dr(ue,ne,K)}function Du(g,S){var I;for(I=0;8>I;++I)n(g,S+32*I,g,S-32,8)}function _a(g,S){var I;for(I=0;8>I;++I)s(g,S,g[S-1],8),S+=32}function va(g,S,I){var K;for(K=0;8>K;++K)s(S,I+32*K,g,8)}function vl(g,S){var I,K=8;for(I=0;8>I;++I)K+=g[S+I-32]+g[S-1+32*I];va(K>>4,g,S)}function so(g,S){var I,K=4;for(I=0;8>I;++I)K+=g[S+I-32];va(K>>3,g,S)}function vo(g,S){var I,K=4;for(I=0;8>I;++I)K+=g[S-1+32*I];va(K>>3,g,S)}function Ql(g,S){va(128,g,S)}function $o(g,S,I){var K=g[S-I],ne=g[S+0],ue=3*(ne-K)+cu[1020+g[S-2*I]-g[S+I]],me=$c[112+(ue+4>>3)];g[S-I]=is[255+K+$c[112+(ue+3>>3)]],g[S+0]=is[255+ne-me]}function ou(g,S,I,K){var ne=g[S+0],ue=g[S+I];return Ds[255+g[S-2*I]-g[S-I]]>K||Ds[255+ue-ne]>K}function ks(g,S,I,K){return 4*Ds[255+g[S-I]-g[S+0]]+Ds[255+g[S-2*I]-g[S+I]]<=K}function Qc(g,S,I,K,ne){var ue=g[S-3*I],me=g[S-2*I],xe=g[S-I],Se=g[S+0],Ie=g[S+I],Xe=g[S+2*I],vt=g[S+3*I];return 4*Ds[255+xe-Se]+Ds[255+me-Ie]>K?0:Ds[255+g[S-4*I]-ue]<=ne&&Ds[255+ue-me]<=ne&&Ds[255+me-xe]<=ne&&Ds[255+vt-Xe]<=ne&&Ds[255+Xe-Ie]<=ne&&Ds[255+Ie-Se]<=ne}function Xa(g,S,I,K){var ne=2*K+1;for(K=0;16>K;++K)ks(g,S+K,I,ne)&&$o(g,S+K,I)}function Ci(g,S,I,K){var ne=2*K+1;for(K=0;16>K;++K)ks(g,S+K*I,1,ne)&&$o(g,S+K*I,1)}function io(g,S,I,K){var ne;for(ne=3;0<ne;--ne)Xa(g,S+=4*I,I,K)}function Qd(g,S,I,K){var ne;for(ne=3;0<ne;--ne)Ci(g,S+=4,I,K)}function yo(g,S,I,K,ne,ue,me,xe){for(ue=2*ue+1;0<ne--;){if(Qc(g,S,I,ue,me))if(ou(g,S,I,xe))$o(g,S,I);else{var Se=g,Ie=S,Xe=I,vt=Se[Ie-2*Xe],Ve=Se[Ie-Xe],at=Se[Ie+0],wt=Se[Ie+Xe],Tt=Se[Ie+2*Xe],it=27*(kt=cu[1020+3*(at-Ve)+cu[1020+vt-wt]])+63>>7,xt=18*kt+63>>7,kt=9*kt+63>>7;Se[Ie-3*Xe]=is[255+Se[Ie-3*Xe]+kt],Se[Ie-2*Xe]=is[255+vt+xt],Se[Ie-Xe]=is[255+Ve+it],Se[Ie+0]=is[255+at-it],Se[Ie+Xe]=is[255+wt-xt],Se[Ie+2*Xe]=is[255+Tt-kt]}S+=K}}function Ja(g,S,I,K,ne,ue,me,xe){for(ue=2*ue+1;0<ne--;){if(Qc(g,S,I,ue,me))if(ou(g,S,I,xe))$o(g,S,I);else{var Se=g,Ie=S,Xe=I,vt=Se[Ie-Xe],Ve=Se[Ie+0],at=Se[Ie+Xe],wt=$c[112+(4+(Tt=3*(Ve-vt))>>3)],Tt=$c[112+(Tt+3>>3)],it=wt+1>>1;Se[Ie-2*Xe]=is[255+Se[Ie-2*Xe]+it],Se[Ie-Xe]=is[255+vt+Tt],Se[Ie+0]=is[255+Ve-wt],Se[Ie+Xe]=is[255+at-it]}S+=K}}function yl(g,S,I,K,ne,ue){yo(g,S,I,1,16,K,ne,ue)}function vc(g,S,I,K,ne,ue){yo(g,S,1,I,16,K,ne,ue)}function lu(g,S,I,K,ne,ue){var me;for(me=3;0<me;--me)Ja(g,S+=4*I,I,1,16,K,ne,ue)}function Co(g,S,I,K,ne,ue){var me;for(me=3;0<me;--me)Ja(g,S+=4,1,I,16,K,ne,ue)}function Ae(g,S,I,K,ne,ue,me,xe){yo(g,S,ne,1,8,ue,me,xe),yo(I,K,ne,1,8,ue,me,xe)}function We(g,S,I,K,ne,ue,me,xe){yo(g,S,1,ne,8,ue,me,xe),yo(I,K,1,ne,8,ue,me,xe)}function St(g,S,I,K,ne,ue,me,xe){Ja(g,S+4*ne,ne,1,8,ue,me,xe),Ja(I,K+4*ne,ne,1,8,ue,me,xe)}function Mt(g,S,I,K,ne,ue,me,xe){Ja(g,S+4,1,ne,8,ue,me,xe),Ja(I,K+4,1,ne,8,ue,me,xe)}function Vt(){this.ba=new Zt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function wr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Er(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function tn(){this.ua=0,this.Wa=new st,this.vb=new st,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ce,this.yc=new V}function gn(){this.xb=this.a=0,this.l=new pi,this.ca=new Zt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new tn,this.ab=0,this.gc=o(4,Er),this.Oc=0}function kn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new pi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function nn(g,S,I,K,ne,ue,me){for(g=g==null?0:g[S+0],S=0;S<me;++S)ne[ue+S]=g+I[K+S]&255,g=ne[ue+S]}function ia(g,S,I,K,ne,ue,me){var xe;if(g==null)nn(null,null,I,K,ne,ue,me);else for(xe=0;xe<me;++xe)ne[ue+xe]=g[S+xe]+I[K+xe]&255}function ts(g,S,I,K,ne,ue,me){if(g==null)nn(null,null,I,K,ne,ue,me);else{var xe,Se=g[S+0],Ie=Se,Xe=Se;for(xe=0;xe<me;++xe)Ie=Xe+(Se=g[S+xe])-Ie,Xe=I[K+xe]+(-256&Ie?0>Ie?0:255:Ie)&255,Ie=Se,ne[ue+xe]=Xe}}function Ws(g,S,I,K){var ne=S.width,ue=S.o;if(t(g!=null&&S!=null),0>I||0>=K||I+K>ue)return null;if(!g.Cc){if(g.ga==null){var me;if(g.ga=new kn,(me=g.ga==null)||(me=S.width*S.o,t(g.Gb.length==0),g.Gb=i(me),g.Uc=0,g.Gb==null?me=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,me=1),me=!me),!me){me=g.ga;var xe=g.Fa,Se=g.P,Ie=g.qc,Xe=g.mb,vt=g.nb,Ve=Se+1,at=Ie-1,wt=me.l;if(t(xe!=null&&Xe!=null&&S!=null),xi[0]=null,xi[1]=nn,xi[2]=ia,xi[3]=ts,me.ca=Xe,me.tb=vt,me.c=S.width,me.i=S.height,t(0<me.c&&0<me.i),1>=Ie)S=0;else if(me.$a=3&xe[Se+0],me.Z=xe[Se+0]>>2&3,me.Lc=xe[Se+0]>>4&3,Se=xe[Se+0]>>6&3,0>me.$a||1<me.$a||4<=me.Z||1<me.Lc||Se)S=0;else if(wt.put=rn,wt.ac=ja,wt.bc=Vr,wt.ma=me,wt.width=S.width,wt.height=S.height,wt.Da=S.Da,wt.v=S.v,wt.va=S.va,wt.j=S.j,wt.o=S.o,me.$a)e:{t(me.$a==1),S=Et();t:for(;;){if(S==null){S=0;break e}if(t(me!=null),me.mc=S,S.c=me.c,S.i=me.i,S.l=me.l,S.l.ma=me,S.l.width=me.c,S.l.height=me.i,S.a=0,he(S.m,xe,Ve,at),!Qe(me.c,me.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&mt(S.s)?(me.ic=1,xe=S.c*S.i,S.Ta=null,S.Ua=0,S.V=i(xe),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(me.ic=0,S=bt(S,me.c)),!S))break t;S=1;break e}me.mc=null,S=0}else S=at>=me.c*me.i;me=!S}if(me)return null;g.ga.Lc!=1?g.Ga=0:K=ue-I}t(g.ga!=null),t(I+K<=ue);e:{if(S=(xe=g.ga).c,ue=xe.l.o,xe.$a==0){if(Ve=g.rc,at=g.Vc,wt=g.Fa,Se=g.P+1+I*S,Ie=g.mb,Xe=g.nb+I*S,t(Se<=g.P+g.qc),xe.Z!=0)for(t(xi[xe.Z]!=null),me=0;me<K;++me)xi[xe.Z](Ve,at,wt,Se,Ie,Xe,S),Ve=Ie,at=Xe,Xe+=S,Se+=S;else for(me=0;me<K;++me)n(Ie,Xe,wt,Se,S),Ve=Ie,at=Xe,Xe+=S,Se+=S;g.rc=Ve,g.Vc=at}else{if(t(xe.mc!=null),S=I+K,t((me=xe.mc)!=null),t(S<=me.i),me.C>=S)S=1;else if(xe.ic||Gt(),xe.ic){xe=me.V,Ve=me.Ba,at=me.c;var Tt=me.i,it=(wt=1,Se=me.$/at,Ie=me.$%at,Xe=me.m,vt=me.s,me.$),xt=at*Tt,kt=at*S,Ut=vt.wc,Dt=it<kt?$e(vt,Ie,Se):null;t(it<=xt),t(S<=Tt),t(mt(vt));t:for(;;){for(;!Xe.h&&it<kt;){if(Ie&Ut||(Dt=$e(vt,Ie,Se)),t(Dt!=null),ye(Xe),256>(Tt=Ct(Dt.G[0],Dt.H[0],Xe)))xe[Ve+it]=Tt,++it,++Ie>=at&&(Ie=0,++Se<=S&&!(Se%16)&&Ee(me,Se));else{if(!(280>Tt)){wt=0;break t}Tt=Gn(Tt-256,Xe);var pr,ur=Ct(Dt.G[4],Dt.H[4],Xe);if(ye(Xe),!(it>=(ur=Dn(at,ur=Gn(ur,Xe)))&&xt-it>=Tt)){wt=0;break t}for(pr=0;pr<Tt;++pr)xe[Ve+it+pr]=xe[Ve+it+pr-ur];for(it+=Tt,Ie+=Tt;Ie>=at;)Ie-=at,++Se<=S&&!(Se%16)&&Ee(me,Se);it<kt&&Ie&Ut&&(Dt=$e(vt,Ie,Se))}t(Xe.h==ie(Xe))}Ee(me,Se>S?S:Se);break t}!wt||Xe.h&&it<xt?(wt=0,me.a=Xe.h?5:3):me.$=it,S=wt}else S=ht(me,me.V,me.Ba,me.c,me.i,S,It);if(!S){K=0;break e}}I+K>=ue&&(g.Cc=1),K=1}if(!K)return null;if(g.Cc&&((K=g.ga)!=null&&(K.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+I*ne}function ae(g,S,I,K,ne,ue){for(;0<ne--;){var me,xe=g,Se=S+(I?1:0),Ie=g,Xe=S+(I?0:3);for(me=0;me<K;++me){var vt=Ie[Xe+4*me];vt!=255&&(vt*=32897,xe[Se+4*me+0]=xe[Se+4*me+0]*vt>>23,xe[Se+4*me+1]=xe[Se+4*me+1]*vt>>23,xe[Se+4*me+2]=xe[Se+4*me+2]*vt>>23)}S+=ue}}function qe(g,S,I,K,ne){for(;0<K--;){var ue;for(ue=0;ue<I;++ue){var me=g[S+2*ue+0],xe=15&(Ie=g[S+2*ue+1]),Se=4369*xe,Ie=(240&Ie|Ie>>4)*Se>>16;g[S+2*ue+0]=(240&me|me>>4)*Se>>16&240|(15&me|me<<4)*Se>>16>>4&15,g[S+2*ue+1]=240&Ie|xe}S+=ne}}function Bt(g,S,I,K,ne,ue,me,xe){var Se,Ie,Xe=255;for(Ie=0;Ie<ne;++Ie){for(Se=0;Se<K;++Se){var vt=g[S+Se];ue[me+4*Se]=vt,Xe&=vt}S+=I,me+=xe}return Xe!=255}function Ot(g,S,I,K,ne){var ue;for(ue=0;ue<ne;++ue)I[K+ue]=g[S+ue]>>8}function Gt(){oo=ae,ca=qe,Sa=Bt,ws=Ot}function hr(g,S,I){Q[g]=function(K,ne,ue,me,xe,Se,Ie,Xe,vt,Ve,at,wt,Tt,it,xt,kt,Ut){var Dt,pr=Ut-1>>1,ur=xe[Se+0]|Ie[Xe+0]<<16,Ir=vt[Ve+0]|at[wt+0]<<16;t(K!=null);var lr=3*ur+Ir+131074>>2;for(S(K[ne+0],255&lr,lr>>16,Tt,it),ue!=null&&(lr=3*Ir+ur+131074>>2,S(ue[me+0],255&lr,lr>>16,xt,kt)),Dt=1;Dt<=pr;++Dt){var mn=xe[Se+Dt]|Ie[Xe+Dt]<<16,Vn=vt[Ve+Dt]|at[wt+Dt]<<16,Wr=ur+mn+Ir+Vn+524296,Xt=Wr+2*(mn+Ir)>>3;lr=Xt+ur>>1,ur=(Wr=Wr+2*(ur+Vn)>>3)+mn>>1,S(K[ne+2*Dt-1],255&lr,lr>>16,Tt,it+(2*Dt-1)*I),S(K[ne+2*Dt-0],255&ur,ur>>16,Tt,it+(2*Dt-0)*I),ue!=null&&(lr=Wr+Ir>>1,ur=Xt+Vn>>1,S(ue[me+2*Dt-1],255&lr,lr>>16,xt,kt+(2*Dt-1)*I),S(ue[me+2*Dt+0],255&ur,ur>>16,xt,kt+(2*Dt+0)*I)),ur=mn,Ir=Vn}1&Ut||(lr=3*ur+Ir+131074>>2,S(K[ne+Ut-1],255&lr,lr>>16,Tt,it+(Ut-1)*I),ue!=null&&(lr=3*Ir+ur+131074>>2,S(ue[me+Ut-1],255&lr,lr>>16,xt,kt+(Ut-1)*I)))}}function Br(){ds[Yi]=dt,ds[Kl]=Io,ds[gi]=sl,ds[zc]=Go,ds[uu]=ba,ds[Sl]=zd,ds[zf]=Bh,ds[du]=Io,ds[ql]=Go,ds[Cl]=ba,ds[Vc]=zd}function Xr(g){return g&-16384?0>g?0:255:g>>t0}function An(g,S){return Xr((19077*g>>8)+(26149*S>>8)-14234)}function Pn(g,S,I){return Xr((19077*g>>8)-(6419*S>>8)-(13320*I>>8)+8708)}function _n(g,S){return Xr((19077*g>>8)+(33050*S>>8)-17685)}function na(g,S,I,K,ne){K[ne+0]=An(g,I),K[ne+1]=Pn(g,S,I),K[ne+2]=_n(g,S)}function Ha(g,S,I,K,ne){K[ne+0]=_n(g,S),K[ne+1]=Pn(g,S,I),K[ne+2]=An(g,I)}function oa(g,S,I,K,ne){var ue=Pn(g,S,I);S=ue<<3&224|_n(g,S)>>3,K[ne+0]=248&An(g,I)|ue>>5,K[ne+1]=S}function En(g,S,I,K,ne){var ue=240&_n(g,S)|15;K[ne+0]=240&An(g,I)|Pn(g,S,I)>>4,K[ne+1]=ue}function As(g,S,I,K,ne){K[ne+0]=255,na(g,S,I,K,ne+1)}function Ys(g,S,I,K,ne){Ha(g,S,I,K,ne),K[ne+3]=255}function Eo(g,S,I,K,ne){na(g,S,I,K,ne),K[ne+3]=255}function Mn(g,S){return 0>g?0:g>S?S:g}function us(g,S,I){Q[g]=function(K,ne,ue,me,xe,Se,Ie,Xe,vt){for(var Ve=Xe+(-2&vt)*I;Xe!=Ve;)S(K[ne+0],ue[me+0],xe[Se+0],Ie,Xe),S(K[ne+1],ue[me+0],xe[Se+0],Ie,Xe+I),ne+=2,++me,++Se,Xe+=2*I;1&vt&&S(K[ne+0],ue[me+0],xe[Se+0],Ie,Xe)}}function bl(g,S,I){return I==0?g==0?S==0?6:5:S==0?4:0:I}function qi(g,S,I,K,ne){switch(g>>>30){case 3:Ar(S,I,K,ne,0);break;case 2:Wt(S,I,K,ne);break;case 1:Rr(S,I,K,ne)}}function ya(g,S){var I,K,ne=S.M,ue=S.Nb,me=g.oc,xe=g.pc+40,Se=g.oc,Ie=g.pc+584,Xe=g.oc,vt=g.pc+600;for(I=0;16>I;++I)me[xe+32*I-1]=129;for(I=0;8>I;++I)Se[Ie+32*I-1]=129,Xe[vt+32*I-1]=129;for(0<ne?me[xe-1-32]=Se[Ie-1-32]=Xe[vt-1-32]=129:(s(me,xe-32-1,127,21),s(Se,Ie-32-1,127,9),s(Xe,vt-32-1,127,9)),K=0;K<g.za;++K){var Ve=S.ya[S.aa+K];if(0<K){for(I=-1;16>I;++I)n(me,xe+32*I-4,me,xe+32*I+12,4);for(I=-1;8>I;++I)n(Se,Ie+32*I-4,Se,Ie+32*I+4,4),n(Xe,vt+32*I-4,Xe,vt+32*I+4,4)}var at=g.Gd,wt=g.Hd+K,Tt=Ve.ad,it=Ve.Hc;if(0<ne&&(n(me,xe-32,at[wt].y,0,16),n(Se,Ie-32,at[wt].f,0,8),n(Xe,vt-32,at[wt].ea,0,8)),Ve.Za){var xt=me,kt=xe-32+16;for(0<ne&&(K>=g.za-1?s(xt,kt,at[wt].y[15],4):n(xt,kt,at[wt+1].y,0,4)),I=0;4>I;I++)xt[kt+128+I]=xt[kt+256+I]=xt[kt+384+I]=xt[kt+0+I];for(I=0;16>I;++I,it<<=2)xt=me,kt=xe+cd[I],Vs[Ve.Ob[I]](xt,kt),qi(it,Tt,16*+I,xt,kt)}else if(xt=bl(K,ne,Ve.Ob[0]),qo[xt](me,xe),it!=0)for(I=0;16>I;++I,it<<=2)qi(it,Tt,16*+I,me,xe+cd[I]);for(I=Ve.Gc,xt=bl(K,ne,Ve.Dd),ei[xt](Se,Ie),ei[xt](Xe,vt),it=Tt,xt=Se,kt=Ie,255&(Ve=0|I)&&(170&Ve?Hr(it,256,xt,kt):cn(it,256,xt,kt)),Ve=Xe,it=vt,255&(I>>=8)&&(170&I?Hr(Tt,320,Ve,it):cn(Tt,320,Ve,it)),ne<g.Ub-1&&(n(at[wt].y,0,me,xe+480,16),n(at[wt].f,0,Se,Ie+224,8),n(at[wt].ea,0,Xe,vt+224,8)),I=8*ue*g.B,at=g.sa,wt=g.ta+16*K+16*ue*g.R,Tt=g.qa,Ve=g.ra+8*K+I,it=g.Ha,xt=g.Ia+8*K+I,I=0;16>I;++I)n(at,wt+I*g.R,me,xe+32*I,16);for(I=0;8>I;++I)n(Tt,Ve+I*g.B,Se,Ie+32*I,8),n(it,xt+I*g.B,Xe,vt+32*I,8)}}function Hl(g,S,I,K,ne,ue,me,xe,Se){var Ie=[0],Xe=[0],vt=0,Ve=Se!=null?Se.kd:0,at=Se??new wr;if(g==null||12>I)return 7;at.data=g,at.w=S,at.ha=I,S=[S],I=[I],at.gb=[at.gb];e:{var wt=S,Tt=I,it=at.gb;if(t(g!=null),t(Tt!=null),t(it!=null),it[0]=0,12<=Tt[0]&&!r(g,wt[0],"RIFF")){if(r(g,wt[0]+8,"WEBP")){it=3;break e}var xt=be(g,wt[0]+4);if(12>xt||4294967286<xt){it=3;break e}if(Ve&&xt>Tt[0]-8){it=7;break e}it[0]=xt,wt[0]+=12,Tt[0]-=12}it=0}if(it!=0)return it;for(xt=0<at.gb[0],I=I[0];;){e:{var kt=g;Tt=S,it=I;var Ut=Ie,Dt=Xe,pr=wt=[0];if((lr=vt=[vt])[0]=0,8>it[0])it=7;else{if(!r(kt,Tt[0],"VP8X")){if(be(kt,Tt[0]+4)!=10){it=3;break e}if(18>it[0]){it=7;break e}var ur=be(kt,Tt[0]+8),Ir=1+Fe(kt,Tt[0]+12);if(2147483648<=Ir*(kt=1+Fe(kt,Tt[0]+15))){it=3;break e}pr!=null&&(pr[0]=ur),Ut!=null&&(Ut[0]=Ir),Dt!=null&&(Dt[0]=kt),Tt[0]+=18,it[0]-=18,lr[0]=1}it=0}}if(vt=vt[0],wt=wt[0],it!=0)return it;if(Tt=!!(2&wt),!xt&&vt)return 3;if(ue!=null&&(ue[0]=!!(16&wt)),me!=null&&(me[0]=Tt),xe!=null&&(xe[0]=0),me=Ie[0],wt=Xe[0],vt&&Tt&&Se==null){it=0;break}if(4>I){it=7;break}if(xt&&vt||!xt&&!vt&&!r(g,S[0],"ALPH")){I=[I],at.na=[at.na],at.P=[at.P],at.Sa=[at.Sa];e:{ur=g,it=S,xt=I;var lr=at.gb;Ut=at.na,Dt=at.P,pr=at.Sa,Ir=22,t(ur!=null),t(xt!=null),kt=it[0];var mn=xt[0];for(t(Ut!=null),t(pr!=null),Ut[0]=null,Dt[0]=null,pr[0]=0;;){if(it[0]=kt,xt[0]=mn,8>mn){it=7;break e}var Vn=be(ur,kt+4);if(4294967286<Vn){it=3;break e}var Wr=8+Vn+1&-2;if(Ir+=Wr,0<lr&&Ir>lr){it=3;break e}if(!r(ur,kt,"VP8 ")||!r(ur,kt,"VP8L")){it=0;break e}if(mn[0]<Wr){it=7;break e}r(ur,kt,"ALPH")||(Ut[0]=ur,Dt[0]=kt+8,pr[0]=Vn),kt+=Wr,mn-=Wr}}if(I=I[0],at.na=at.na[0],at.P=at.P[0],at.Sa=at.Sa[0],it!=0)break}I=[I],at.Ja=[at.Ja],at.xa=[at.xa];e:if(lr=g,it=S,xt=I,Ut=at.gb[0],Dt=at.Ja,pr=at.xa,ur=it[0],kt=!r(lr,ur,"VP8 "),Ir=!r(lr,ur,"VP8L"),t(lr!=null),t(xt!=null),t(Dt!=null),t(pr!=null),8>xt[0])it=7;else{if(kt||Ir){if(lr=be(lr,ur+4),12<=Ut&&lr>Ut-12){it=3;break e}if(Ve&&lr>xt[0]-8){it=7;break e}Dt[0]=lr,it[0]+=8,xt[0]-=8,pr[0]=Ir}else pr[0]=5<=xt[0]&&lr[ur+0]==47&&!(lr[ur+4]>>5),Dt[0]=xt[0];it=0}if(I=I[0],at.Ja=at.Ja[0],at.xa=at.xa[0],S=S[0],it!=0)break;if(4294967286<at.Ja)return 3;if(xe==null||Tt||(xe[0]=at.xa?2:1),me=[me],wt=[wt],at.xa){if(5>I){it=7;break}xe=me,Ve=wt,Tt=ue,g==null||5>I?g=0:5<=I&&g[S+0]==47&&!(g[S+4]>>5)?(xt=[0],lr=[0],Ut=[0],he(Dt=new R,g,S,I),On(Dt,xt,lr,Ut)?(xe!=null&&(xe[0]=xt[0]),Ve!=null&&(Ve[0]=lr[0]),Tt!=null&&(Tt[0]=Ut[0]),g=1):g=0):g=0}else{if(10>I){it=7;break}xe=wt,g==null||10>I||!Pu(g,S+3,I-3)?g=0:(Ve=g[S+0]|g[S+1]<<8|g[S+2]<<16,Tt=16383&(g[S+7]<<8|g[S+6]),g=16383&(g[S+9]<<8|g[S+8]),1&Ve||3<(Ve>>1&7)||!(Ve>>4&1)||Ve>>5>=at.Ja||!Tt||!g?g=0:(me&&(me[0]=Tt),xe&&(xe[0]=g),g=1))}if(!g||(me=me[0],wt=wt[0],vt&&(Ie[0]!=me||Xe[0]!=wt)))return 3;Se!=null&&(Se[0]=at,Se.offset=S-Se.w,t(4294967286>S-Se.w),t(Se.offset==Se.ha-I));break}return it==0||it==7&&vt&&Se==null?(ue!=null&&(ue[0]|=at.na!=null&&0<at.na.length),K!=null&&(K[0]=me),ne!=null&&(ne[0]=wt),0):it}function vs(g,S,I){var K=S.width,ne=S.height,ue=0,me=0,xe=K,Se=ne;if(S.Da=g!=null&&0<g.Da,S.Da&&(xe=g.cd,Se=g.bd,ue=g.v,me=g.j,11>I||(ue&=-2,me&=-2),0>ue||0>me||0>=xe||0>=Se||ue+xe>K||me+Se>ne))return 0;if(S.v=ue,S.j=me,S.va=ue+xe,S.o=me+Se,S.U=xe,S.T=Se,S.da=g!=null&&0<g.da,S.da){if(!et(xe,Se,I=[g.ib],ue=[g.hb]))return 0;S.ib=I[0],S.hb=ue[0]}return S.ob=g!=null&&g.ob,S.Kb=g==null||!g.Sd,S.da&&(S.ob=S.ib<3*K/4&&S.hb<3*ne/4,S.Kb=0),1}function yc(g){if(g==null)return 2;if(11>g.S){var S=g.f.RGBA;S.fb+=(g.height-1)*S.A,S.A=-S.A}else S=g.f.kb,g=g.height,S.O+=(g-1)*S.fa,S.fa=-S.fa,S.N+=(g-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(g-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(g-1)*S.lb,S.lb=-S.lb);return 0}function Ei(g,S,I,K){if(K==null||0>=g||0>=S)return 2;if(I!=null){if(I.Da){var ne=I.cd,ue=I.bd,me=-2&I.v,xe=-2&I.j;if(0>me||0>xe||0>=ne||0>=ue||me+ne>g||xe+ue>S)return 2;g=ne,S=ue}if(I.da){if(!et(g,S,ne=[I.ib],ue=[I.hb]))return 2;g=ne[0],S=ue[0]}}K.width=g,K.height=S;e:{var Se=K.width,Ie=K.height;if(g=K.S,0>=Se||0>=Ie||!(g>=Yi&&13>g))g=2;else{if(0>=K.Rd&&K.sd==null){me=ue=ne=S=0;var Xe=(xe=Se*vA[g])*Ie;if(11>g||(ue=(Ie+1)/2*(S=(Se+1)/2),g==12&&(me=(ne=Se)*Ie)),(Ie=i(Xe+2*ue+me))==null){g=1;break e}K.sd=Ie,11>g?((Se=K.f.RGBA).eb=Ie,Se.fb=0,Se.A=xe,Se.size=Xe):((Se=K.f.kb).y=Ie,Se.O=0,Se.fa=xe,Se.Fd=Xe,Se.f=Ie,Se.N=0+Xe,Se.Ab=S,Se.Cd=ue,Se.ea=Ie,Se.W=0+Xe+ue,Se.Db=S,Se.Ed=ue,g==12&&(Se.F=Ie,Se.J=0+Xe+2*ue),Se.Tc=me,Se.lb=ne)}if(S=1,ne=K.S,ue=K.width,me=K.height,ne>=Yi&&13>ne)if(11>ne)g=K.f.RGBA,S&=(xe=Math.abs(g.A))*(me-1)+ue<=g.size,S&=xe>=ue*vA[ne],S&=g.eb!=null;else{g=K.f.kb,xe=(ue+1)/2,Xe=(me+1)/2,Se=Math.abs(g.fa),Ie=Math.abs(g.Ab);var vt=Math.abs(g.Db),Ve=Math.abs(g.lb),at=Ve*(me-1)+ue;S&=Se*(me-1)+ue<=g.Fd,S&=Ie*(Xe-1)+xe<=g.Cd,S=(S&=vt*(Xe-1)+xe<=g.Ed)&Se>=ue&Ie>=xe&vt>=xe,S&=g.y!=null,S&=g.f!=null,S&=g.ea!=null,ne==12&&(S&=Ve>=ue,S&=at<=g.Tc,S&=g.F!=null)}else S=0;g=S?0:2}}return g!=0||I!=null&&I.fd&&(g=yc(K)),g}var ms=64,$n=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Gi=24,al=32,Bo=8,li=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];_e("Predictor0","PredictorAdd0"),Q.Predictor0=function(){return 4278190080},Q.Predictor1=function(g){return g},Q.Predictor2=function(g,S,I){return S[I+0]},Q.Predictor3=function(g,S,I){return S[I+1]},Q.Predictor4=function(g,S,I){return S[I-1]},Q.Predictor5=function(g,S,I){return Ze(Ze(g,S[I+1]),S[I+0])},Q.Predictor6=function(g,S,I){return Ze(g,S[I-1])},Q.Predictor7=function(g,S,I){return Ze(g,S[I+0])},Q.Predictor8=function(g,S,I){return Ze(S[I-1],S[I+0])},Q.Predictor9=function(g,S,I){return Ze(S[I+0],S[I+1])},Q.Predictor10=function(g,S,I){return Ze(Ze(g,S[I-1]),Ze(S[I+0],S[I+1]))},Q.Predictor11=function(g,S,I){var K=S[I+0];return 0>=Ge(K>>24&255,g>>24&255,(S=S[I-1])>>24&255)+Ge(K>>16&255,g>>16&255,S>>16&255)+Ge(K>>8&255,g>>8&255,S>>8&255)+Ge(255&K,255&g,255&S)?K:g},Q.Predictor12=function(g,S,I){var K=S[I+0];return(Pe((g>>24&255)+(K>>24&255)-((S=S[I-1])>>24&255))<<24|Pe((g>>16&255)+(K>>16&255)-(S>>16&255))<<16|Pe((g>>8&255)+(K>>8&255)-(S>>8&255))<<8|Pe((255&g)+(255&K)-(255&S)))>>>0},Q.Predictor13=function(g,S,I){var K=S[I-1];return(ot((g=Ze(g,S[I+0]))>>24&255,K>>24&255)<<24|ot(g>>16&255,K>>16&255)<<16|ot(g>>8&255,K>>8&255)<<8|ot(255&g,255&K))>>>0};var To=Q.PredictorAdd0;Q.PredictorAdd1=lt,_e("Predictor2","PredictorAdd2"),_e("Predictor3","PredictorAdd3"),_e("Predictor4","PredictorAdd4"),_e("Predictor5","PredictorAdd5"),_e("Predictor6","PredictorAdd6"),_e("Predictor7","PredictorAdd7"),_e("Predictor8","PredictorAdd8"),_e("Predictor9","PredictorAdd9"),_e("Predictor10","PredictorAdd10"),_e("Predictor11","PredictorAdd11"),_e("Predictor12","PredictorAdd12"),_e("Predictor13","PredictorAdd13");var wl=Q.PredictorAdd2;je("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),je("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var Hs,Ps=Q.ColorIndexInverseTransform,Ka=Q.MapARGB,ps=Q.VP8LColorIndexInverseTransformAlpha,Pa=Q.MapAlpha,Bi=Q.VP8LPredictorsAdd=[];Bi.length=16,(Q.VP8LPredictors=[]).length=16,(Q.VP8LPredictorsAdd_C=[]).length=16,(Q.VP8LPredictors_C=[]).length=16;var $l,Wi,Ls,zo,Ti,Os,Rt,Ar,Wt,Hr,Rr,cn,ea,xn,_o,bc,Xs,Fo,ld,zl,Vl,Nl,ka,Js,oo,ca,Sa,ws,$s=i(511),Vo=i(2041),Ko=i(225),jl=i(767),Hc=0,cu=Vo,$c=Ko,is=jl,Ds=$s,Yi=0,Kl=1,gi=2,zc=3,uu=4,Sl=5,zf=6,du=7,ql=8,Cl=9,Vc=10,Vf=[2,3,7],wc=[3,3,11],El=[280,256,256,256,40],zs=[0,1,1,1,0],Ns=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Mu=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Hd=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],AA=8,$d=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Nc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],js=null,Zs=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],La=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Gl=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Bl=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],hf=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],jc=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],im=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],qo=[],Vs=[],ei=[],om=1,fu=2,xi=[],ds=[];hr("UpsampleRgbLinePair",na,3),hr("UpsampleBgrLinePair",Ha,3),hr("UpsampleRgbaLinePair",Eo,4),hr("UpsampleBgraLinePair",Ys,4),hr("UpsampleArgbLinePair",As,4),hr("UpsampleRgba4444LinePair",En,2),hr("UpsampleRgb565LinePair",oa,2);var dt=Q.UpsampleRgbLinePair,sl=Q.UpsampleBgrLinePair,Io=Q.UpsampleRgbaLinePair,Go=Q.UpsampleBgraLinePair,ba=Q.UpsampleArgbLinePair,zd=Q.UpsampleRgba4444LinePair,Bh=Q.UpsampleRgb565LinePair,Wl=16,ys=1<<Wl-1,il=-227,Af=482,t0=6,mA=0,r0=i(256),Ss=i(256),pA=i(256),Kf=i(256),qf=i(Af-il),gA=i(Af-il);us("YuvToRgbRow",na,3),us("YuvToBgrRow",Ha,3),us("YuvToRgbaRow",Eo,4),us("YuvToBgraRow",Ys,4),us("YuvToArgbRow",As,4),us("YuvToRgba4444Row",En,2),us("YuvToRgb565Row",oa,2);var cd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xi=[0,2,8],n0=[8,7,6,4,4,2,2,2,1,1,1,1],xA=1;this.WebPDecodeRGBA=function(g,S,I,K,ne){var ue=Kl,me=new Vt,xe=new Zt;me.ba=xe,xe.S=ue,xe.width=[xe.width],xe.height=[xe.height];var Se=xe.width,Ie=xe.height,Xe=new $t;if(Xe==null||g==null)var vt=2;else t(Xe!=null),vt=Hl(g,S,I,Xe.width,Xe.height,Xe.Pd,Xe.Qd,Xe.format,null);if(vt!=0?Se=0:(Se!=null&&(Se[0]=Xe.width[0]),Ie!=null&&(Ie[0]=Xe.height[0]),Se=1),Se){xe.width=xe.width[0],xe.height=xe.height[0],K!=null&&(K[0]=xe.width),ne!=null&&(ne[0]=xe.height);e:{if(K=new pi,(ne=new wr).data=g,ne.w=S,ne.ha=I,ne.kd=1,S=[0],t(ne!=null),((g=Hl(ne.data,ne.w,ne.ha,null,null,null,S,null,ne))==0||g==7)&&S[0]&&(g=4),(S=g)==0){if(t(me!=null),K.data=ne.data,K.w=ne.w+ne.offset,K.ha=ne.ha-ne.offset,K.put=rn,K.ac=ja,K.bc=Vr,K.ma=me,ne.xa){if((g=Et())==null){me=1;break e}if((function(Ve,at){var wt=[0],Tt=[0],it=[0];t:for(;;){if(Ve==null)return 0;if(at==null)return Ve.a=2,0;if(Ve.l=at,Ve.a=0,he(Ve.m,at.data,at.w,at.ha),!On(Ve.m,wt,Tt,it)){Ve.a=3;break t}if(Ve.xb=fu,at.width=wt[0],at.height=Tt[0],!Qe(wt[0],Tt[0],1,Ve,null))break t;return 1}return t(Ve.a!=0),0})(g,K)){if(K=(S=Ei(K.width,K.height,me.Oa,me.ba))==0){t:{K=g;r:for(;;){if(K==null){K=0;break t}if(t(K.s.yc!=null),t(K.s.Ya!=null),t(0<K.s.Wb),t((I=K.l)!=null),t((ne=I.ma)!=null),K.xb!=0){if(K.ca=ne.ba,K.tb=ne.tb,t(K.ca!=null),!vs(ne.Oa,I,zc)){K.a=2;break r}if(!bt(K,I.width)||I.da)break r;if((I.da||qt(K.ca.S))&&Gt(),11>K.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),K.ca.f.kb.F!=null&&Gt()),K.Pb&&0<K.s.ua&&K.s.vb.X==null&&!re(K.s.vb,K.s.Wa.Xa)){K.a=1;break r}K.xb=0}if(!ht(K,K.V,K.Ba,K.c,K.i,I.o,ft))break r;ne.Dc=K.Ma,K=1;break t}t(K.a!=0),K=0}K=!K}K&&(S=g.a)}else S=g.a}else{if((g=new Qs)==null){me=1;break e}if(g.Fa=ne.na,g.P=ne.P,g.qc=ne.Sa,Ac(g,K)){if((S=Ei(K.width,K.height,me.Oa,me.ba))==0){if(g.Aa=0,I=me.Oa,t((ne=g)!=null),I!=null){if(0<(Se=0>(Se=I.Md)?0:100<Se?255:255*Se/100)){for(Ie=Xe=0;4>Ie;++Ie)12>(vt=ne.pb[Ie]).lc&&(vt.ia=Se*n0[0>vt.lc?0:vt.lc]>>3),Xe|=vt.ia;Xe&&(alert("todo:VP8InitRandom"),ne.ia=1)}ne.Ga=I.Id,100<ne.Ga?ne.Ga=100:0>ne.Ga&&(ne.Ga=0)}(function(Ve,at){if(Ve==null)return 0;if(at==null)return Qa(Ve,2,"NULL VP8Io parameter in VP8Decode().");if(!Ve.cb&&!Ac(Ve,at))return 0;if(t(Ve.cb),at.ac==null||at.ac(at)){at.ob&&(Ve.L=0);var wt=Xi[Ve.L];if(Ve.L==2?(Ve.yb=0,Ve.zb=0):(Ve.yb=at.v-wt>>4,Ve.zb=at.j-wt>>4,0>Ve.yb&&(Ve.yb=0),0>Ve.zb&&(Ve.zb=0)),Ve.Va=at.o+15+wt>>4,Ve.Hb=at.va+15+wt>>4,Ve.Hb>Ve.za&&(Ve.Hb=Ve.za),Ve.Va>Ve.Ub&&(Ve.Va=Ve.Ub),0<Ve.L){var Tt=Ve.ed;for(wt=0;4>wt;++wt){var it;if(Ve.Qa.Cb){var xt=Ve.Qa.Lb[wt];Ve.Qa.Fb||(xt+=Tt.Tb)}else xt=Tt.Tb;for(it=0;1>=it;++it){var kt=Ve.gd[wt][it],Ut=xt;if(Tt.Pc&&(Ut+=Tt.vd[0],it&&(Ut+=Tt.od[0])),0<(Ut=0>Ut?0:63<Ut?63:Ut)){var Dt=Ut;0<Tt.wb&&(Dt=4<Tt.wb?Dt>>2:Dt>>1)>9-Tt.wb&&(Dt=9-Tt.wb),1>Dt&&(Dt=1),kt.dd=Dt,kt.tc=2*Ut+Dt,kt.ld=40<=Ut?2:15<=Ut?1:0}else kt.tc=0;kt.La=it}}}wt=0}else Qa(Ve,6,"Frame setup failed"),wt=Ve.a;if(wt=wt==0){if(wt){Ve.$c=0,0<Ve.Aa||(Ve.Ic=xA);t:{wt=Ve.Ic,Tt=4*(Dt=Ve.za);var pr=32*Dt,ur=Dt+1,Ir=0<Ve.L?Dt*(0<Ve.Aa?2:1):0,lr=(Ve.Aa==2?2:1)*Dt;if((kt=Tt+832+(it=3*(16*wt+Xi[Ve.L])/2*pr)+(xt=Ve.Fa!=null&&0<Ve.Fa.length?Ve.Kc.c*Ve.Kc.i:0))!=kt)wt=0;else{if(kt>Ve.Vb){if(Ve.Vb=0,Ve.Ec=i(kt),Ve.Fc=0,Ve.Ec==null){wt=Qa(Ve,1,"no memory during frame initialization.");break t}Ve.Vb=kt}kt=Ve.Ec,Ut=Ve.Fc,Ve.Ac=kt,Ve.Bc=Ut,Ut+=Tt,Ve.Gd=o(pr,Ro),Ve.Hd=0,Ve.rb=o(ur+1,xa),Ve.sb=1,Ve.wa=Ir?o(Ir,Hn):null,Ve.Y=0,Ve.D.Nb=0,Ve.D.wa=Ve.wa,Ve.D.Y=Ve.Y,0<Ve.Aa&&(Ve.D.Y+=Dt),t(!0),Ve.oc=kt,Ve.pc=Ut,Ut+=832,Ve.ya=o(lr,Ya),Ve.aa=0,Ve.D.ya=Ve.ya,Ve.D.aa=Ve.aa,Ve.Aa==2&&(Ve.D.aa+=Dt),Ve.R=16*Dt,Ve.B=8*Dt,Dt=(pr=Xi[Ve.L])*Ve.R,pr=pr/2*Ve.B,Ve.sa=kt,Ve.ta=Ut+Dt,Ve.qa=Ve.sa,Ve.ra=Ve.ta+16*wt*Ve.R+pr,Ve.Ha=Ve.qa,Ve.Ia=Ve.ra+8*wt*Ve.B+pr,Ve.$c=0,Ut+=it,Ve.mb=xt?kt:null,Ve.nb=xt?Ut:null,t(Ut+xt<=Ve.Fc+Ve.Vb),nl(Ve),s(Ve.Ac,Ve.Bc,0,Tt),wt=1}}if(wt){if(at.ka=0,at.y=Ve.sa,at.O=Ve.ta,at.f=Ve.qa,at.N=Ve.ra,at.ea=Ve.Ha,at.Vd=Ve.Ia,at.fa=Ve.R,at.Rc=Ve.B,at.F=null,at.J=0,!Hc){for(wt=-255;255>=wt;++wt)$s[255+wt]=0>wt?-wt:wt;for(wt=-1020;1020>=wt;++wt)Vo[1020+wt]=-128>wt?-128:127<wt?127:wt;for(wt=-112;112>=wt;++wt)Ko[112+wt]=-16>wt?-16:15<wt?15:wt;for(wt=-255;510>=wt;++wt)jl[255+wt]=0>wt?0:255<wt?255:wt;Hc=1}Rt=Ul,Ar=Lu,Hr=Rc,Rr=pl,cn=iu,Wt=sd,ea=yl,xn=vc,_o=Ae,bc=We,Xs=lu,Fo=Co,ld=St,zl=Mt,Vl=Xa,Nl=Ci,ka=io,Js=Qd,Vs[0]=Qo,Vs[1]=Ou,Vs[2]=Rd,Vs[3]=ff,Vs[4]=xl,Vs[5]=xo,Vs[6]=Ho,Vs[7]=oi,Vs[8]=xc,Vs[9]=od,qo[0]=Vi,qo[1]=Ud,qo[2]=pc,qo[3]=gc,qo[4]=Ki,qo[5]=gl,qo[6]=Rl,ei[0]=vl,ei[1]=id,ei[2]=Du,ei[3]=_a,ei[4]=vo,ei[5]=so,ei[6]=Ql,wt=1}else wt=0}wt&&(wt=(function(mn,Vn){for(mn.M=0;mn.M<mn.Va;++mn.M){var Wr,Xt=mn.Jc[mn.M&mn.Xb],Sr=mn.m,Un=mn;for(Wr=0;Wr<Un.za;++Wr){var $r=Sr,sn=Un,Zr=sn.Ac,pn=sn.Bc+4*Wr,fn=sn.zc,Nn=sn.ya[sn.aa+Wr];if(sn.Qa.Bb?Nn.$b=le($r,sn.Pa.jb[0])?2+le($r,sn.Pa.jb[2]):le($r,sn.Pa.jb[1]):Nn.$b=0,sn.kc&&(Nn.Ad=le($r,sn.Bd)),Nn.Za=!le($r,145)+0,Nn.Za){var qa=Nn.Ob,ua=0;for(sn=0;4>sn;++sn){var Aa,yn=fn[0+sn];for(Aa=0;4>Aa;++Aa){yn=hf[Zr[pn+Aa]][yn];for(var Bn=Gl[le($r,yn[0])];0<Bn;)Bn=Gl[2*Bn+le($r,yn[Bn])];yn=-Bn,Zr[pn+Aa]=yn}n(qa,ua,Zr,pn,4),ua+=4,fn[0+sn]=yn}}else yn=le($r,156)?le($r,128)?1:3:le($r,163)?2:0,Nn.Ob[0]=yn,s(Zr,pn,yn,4),s(fn,0,yn,4);Nn.Dd=le($r,142)?le($r,114)?le($r,183)?1:3:2:0}if(Un.m.Ka)return Qa(mn,7,"Premature end-of-partition0 encountered.");for(;mn.ja<mn.za;++mn.ja){if(Un=Xt,$r=(Sr=mn).rb[Sr.sb-1],Zr=Sr.rb[Sr.sb+Sr.ja],Wr=Sr.ya[Sr.aa+Sr.ja],pn=Sr.kc?Wr.Ad:0)$r.la=Zr.la=0,Wr.Za||($r.Na=Zr.Na=0),Wr.Hc=0,Wr.Gc=0,Wr.ia=0;else{var Oa,on;if($r=Zr,Zr=Un,pn=Sr.Pa.Xc,fn=Sr.ya[Sr.aa+Sr.ja],Nn=Sr.pb[fn.$b],sn=fn.ad,qa=0,ua=Sr.rb[Sr.sb-1],yn=Aa=0,s(sn,qa,0,384),fn.Za)var Ca=0,_i=pn[3];else{Bn=i(16);var fs=$r.Na+ua.Na;if(fs=js(Zr,pn[1],fs,Nn.Eb,0,Bn,0),$r.Na=ua.Na=(0<fs)+0,1<fs)Rt(Bn,0,sn,qa);else{var Ji=Bn[0]+3>>3;for(Bn=0;256>Bn;Bn+=16)sn[qa+Bn]=Ji}Ca=1,_i=pn[0]}var Da=15&$r.la,da=15&ua.la;for(Bn=0;4>Bn;++Bn){var Fi=1&da;for(Ji=on=0;4>Ji;++Ji)Da=Da>>1|(Fi=(fs=js(Zr,_i,fs=Fi+(1&Da),Nn.Sc,Ca,sn,qa))>Ca)<<7,on=on<<2|(3<fs?3:1<fs?2:sn[qa+0]!=0),qa+=16;Da>>=4,da=da>>1|Fi<<7,Aa=(Aa<<8|on)>>>0}for(_i=Da,Ca=da>>4,Oa=0;4>Oa;Oa+=2){for(on=0,Da=$r.la>>4+Oa,da=ua.la>>4+Oa,Bn=0;2>Bn;++Bn){for(Fi=1&da,Ji=0;2>Ji;++Ji)fs=Fi+(1&Da),Da=Da>>1|(Fi=0<(fs=js(Zr,pn[2],fs,Nn.Qc,0,sn,qa)))<<3,on=on<<2|(3<fs?3:1<fs?2:sn[qa+0]!=0),qa+=16;Da>>=2,da=da>>1|Fi<<5}yn|=on<<4*Oa,_i|=Da<<4<<Oa,Ca|=(240&da)<<Oa}$r.la=_i,ua.la=Ca,fn.Hc=Aa,fn.Gc=yn,fn.ia=43690&yn?0:Nn.ia,pn=!(Aa|yn)}if(0<Sr.L&&(Sr.wa[Sr.Y+Sr.ja]=Sr.gd[Wr.$b][Wr.Za],Sr.wa[Sr.Y+Sr.ja].La|=!pn),Un.Ka)return Qa(mn,7,"Premature end-of-file encountered.")}if(nl(mn),Sr=Vn,Un=1,Wr=(Xt=mn).D,$r=0<Xt.L&&Xt.M>=Xt.zb&&Xt.M<=Xt.Va,Xt.Aa==0)t:{if(Wr.M=Xt.M,Wr.uc=$r,ya(Xt,Wr),Un=1,Wr=(on=Xt.D).Nb,$r=(yn=Xi[Xt.L])*Xt.R,Zr=yn/2*Xt.B,Bn=16*Wr*Xt.R,Ji=8*Wr*Xt.B,pn=Xt.sa,fn=Xt.ta-$r+Bn,Nn=Xt.qa,sn=Xt.ra-Zr+Ji,qa=Xt.Ha,ua=Xt.Ia-Zr+Ji,da=(Da=on.M)==0,Aa=Da>=Xt.Va-1,Xt.Aa==2&&ya(Xt,on),on.uc)for(Fi=(fs=Xt).D.M,t(fs.D.uc),on=fs.yb;on<fs.Hb;++on){Ca=on,_i=Fi;var lo=(Cs=(ci=fs).D).Nb;Oa=ci.R;var Cs=Cs.wa[Cs.Y+Ca],$a=ci.sa,ti=ci.ta+16*lo*Oa+16*Ca,Ii=Cs.dd,Ea=Cs.tc;if(Ea!=0)if(t(3<=Ea),ci.L==1)0<Ca&&Nl($a,ti,Oa,Ea+4),Cs.La&&Js($a,ti,Oa,Ea),0<_i&&Vl($a,ti,Oa,Ea+4),Cs.La&&ka($a,ti,Oa,Ea);else{var vi=ci.B,Ks=ci.qa,Sc=ci.ra+8*lo*vi+8*Ca,Tl=ci.Ha,ci=ci.Ia+8*lo*vi+8*Ca;lo=Cs.ld,0<Ca&&(xn($a,ti,Oa,Ea+4,Ii,lo),bc(Ks,Sc,Tl,ci,vi,Ea+4,Ii,lo)),Cs.La&&(Fo($a,ti,Oa,Ea,Ii,lo),zl(Ks,Sc,Tl,ci,vi,Ea,Ii,lo)),0<_i&&(ea($a,ti,Oa,Ea+4,Ii,lo),_o(Ks,Sc,Tl,ci,vi,Ea+4,Ii,lo)),Cs.La&&(Xs($a,ti,Oa,Ea,Ii,lo),ld(Ks,Sc,Tl,ci,vi,Ea,Ii,lo))}}if(Xt.ia&&alert("todo:DitherRow"),Sr.put!=null){if(on=16*Da,Da=16*(Da+1),da?(Sr.y=Xt.sa,Sr.O=Xt.ta+Bn,Sr.f=Xt.qa,Sr.N=Xt.ra+Ji,Sr.ea=Xt.Ha,Sr.W=Xt.Ia+Ji):(on-=yn,Sr.y=pn,Sr.O=fn,Sr.f=Nn,Sr.N=sn,Sr.ea=qa,Sr.W=ua),Aa||(Da-=yn),Da>Sr.o&&(Da=Sr.o),Sr.F=null,Sr.J=null,Xt.Fa!=null&&0<Xt.Fa.length&&on<Da&&(Sr.J=Ws(Xt,Sr,on,Da-on),Sr.F=Xt.mb,Sr.F==null&&Sr.F.length==0)){Un=Qa(Xt,3,"Could not decode alpha data.");break t}on<Sr.j&&(yn=Sr.j-on,on=Sr.j,t(!(1&yn)),Sr.O+=Xt.R*yn,Sr.N+=Xt.B*(yn>>1),Sr.W+=Xt.B*(yn>>1),Sr.F!=null&&(Sr.J+=Sr.width*yn)),on<Da&&(Sr.O+=Sr.v,Sr.N+=Sr.v>>1,Sr.W+=Sr.v>>1,Sr.F!=null&&(Sr.J+=Sr.v),Sr.ka=on-Sr.j,Sr.U=Sr.va-Sr.v,Sr.T=Da-on,Un=Sr.put(Sr))}Wr+1!=Xt.Ic||Aa||(n(Xt.sa,Xt.ta-$r,pn,fn+16*Xt.R,$r),n(Xt.qa,Xt.ra-Zr,Nn,sn+8*Xt.B,Zr),n(Xt.Ha,Xt.Ia-Zr,qa,ua+8*Xt.B,Zr))}if(!Un)return Qa(mn,6,"Output aborted.")}return 1})(Ve,at)),at.bc!=null&&at.bc(at),wt&=1}return wt?(Ve.cb=0,wt):0})(g,K)||(S=g.a)}}else S=g.a}S==0&&me.Oa!=null&&me.Oa.fd&&(S=yc(me.ba))}me=S}ue=me!=0?null:11>ue?xe.f.RGBA.eb:xe.f.kb.y}else ue=null;return ue};var vA=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(Q,z){for(var O="",L=0;L<4;L++)O+=String.fromCharCode(Q[z++]);return O}function u(Q,z){return Q[z+0]|Q[z+1]<<8}function h(Q,z){return(Q[z+0]|Q[z+1]<<8|Q[z+2]<<16)>>>0}function m(Q,z){return(Q[z+0]|Q[z+1]<<8|Q[z+2]<<16|Q[z+3]<<24)>>>0}new c;var A=[0],y=[0],x=[],v=new c,b=e,j=(function(Q,z){var O={},L=0,V=!1,J=0,ce=0;if(O.frames=[],!(function(B,R){for(var Y=0;Y<4;Y++)if(B[R+Y]!="RIFF".charCodeAt(Y))return!0;return!1})(Q,z)){for(m(Q,z+=4),z+=8;z<Q.length;){var ee=d(Q,z),de=m(Q,z+=4);z+=4;var se=de+(1&de);switch(ee){case"VP8 ":case"VP8L":O.frames[L]===void 0&&(O.frames[L]={}),(ve=O.frames[L]).src_off=V?ce:z-8,ve.src_size=J+de+8,L++,V&&(V=!1,J=0,ce=0);break;case"VP8X":(ve=O.header={}).feature_flags=Q[z];var he=z+4;ve.canvas_width=1+h(Q,he),he+=3,ve.canvas_height=1+h(Q,he),he+=3;break;case"ALPH":V=!0,J=se+8,ce=z-8;break;case"ANIM":(ve=O.header).bgcolor=m(Q,z),he=z+4,ve.loop_count=u(Q,he),he+=2;break;case"ANMF":var fe,ve;(ve=O.frames[L]={}).offset_x=2*h(Q,z),z+=3,ve.offset_y=2*h(Q,z),z+=3,ve.width=1+h(Q,z),z+=3,ve.height=1+h(Q,z),z+=3,ve.duration=h(Q,z),z+=3,fe=Q[z++],ve.dispose=1&fe,ve.blend=fe>>1&1}ee!="ANMF"&&(z+=se)}return O}})(b,0);j.response=b,j.rgbaoutput=!0,j.dataurl=!1;var E=j.header?j.header:null,T=j.frames?j.frames:null;if(E){E.loop_counter=E.loop_count,A=[E.canvas_height],y=[E.canvas_width];for(var P=0;P<T.length&&T[P].blend!=0;P++);}var U=T[0],M=v.WebPDecodeRGBA(b,U.src_off,U.src_size,y,A);U.rgba=M,U.imgwidth=y[0],U.imgheight=A[0];for(var k=0;k<y[0]*A[0]*4;k++)x[k]=M[k];return this.width=y,this.height=A,this.data=x,this}(function(e){var t,r,n,s,i,o,l,c,d,u=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new c,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new o,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new o,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var h=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=B;Object.defineProperty(this,"pdf",{get:function(){return R}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(be){Y=!!be}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(be){ie=!!be}});var ge=0;Object.defineProperty(this,"posX",{get:function(){return ge},set:function(be){isNaN(be)||(ge=be)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(be){isNaN(be)||(ye=be)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(be){var re;typeof be=="number"?re=[be,be,be,be]:((re=new Array(4))[0]=be[0],re[1]=be.length>=2?be[1]:re[0],re[2]=be.length>=3?be[2]:re[0],re[3]=be.length>=4?be[3]:re[1]),d.margin=re}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(be){pe=be}});var Z=0;Object.defineProperty(this,"lastBreak",{get:function(){return Z},set:function(be){Z=be}});var le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return le},set:function(be){le=be}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(be){be instanceof u&&(d=be)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(be){d.path=be}});var te=[];Object.defineProperty(this,"ctxStack",{get:function(){return te},set:function(be){te=be}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(be){var re;re=m(be),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(be){var re=m(be);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(be){["butt","round","square"].indexOf(be)!==-1&&(this.ctx.lineCap=be,this.pdf.setLineCap(be))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(be){isNaN(be)||(this.ctx.lineWidth=be,this.pdf.setLineWidth(be))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(be){["bevel","round","miter"].indexOf(be)!==-1&&(this.ctx.lineJoin=be,this.pdf.setLineJoin(be))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(be){isNaN(be)||(this.ctx.miterLimit=be,this.pdf.setMiterLimit(be))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(be){this.ctx.textBaseline=be}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(be){["right","end","center","left","start"].indexOf(be)!==-1&&(this.ctx.textAlign=be)}});var Ne=null,Fe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Fe},set:function(be){Ne=null,Fe=be}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(be){var re;if(this.ctx.font=be,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(be))!==null){var Ce=re[1];re[2];var st=re[3],et=re[4];re[5];var He=re[6],ct=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(et)[2];et=Math.floor(ct==="px"?parseFloat(et)*this.pdf.internal.scaleFactor:ct==="em"?parseFloat(et)*this.pdf.getFontSize():parseFloat(et)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(et);var _e=(function(Te){var je,Ke,Le=[],rt=Te.trim();if(rt==="")return yC;if(rt in f7)return[f7[rt]];for(;rt!=="";){switch(Ke=null,je=(rt=A7(rt)).charAt(0)){case'"':case"'":Ke=Ege(rt.substring(1),je);break;default:Ke=Bge(rt)}if(Ke===null||(Le.push(Ke[0]),(rt=A7(Ke[1]))!==""&&rt.charAt(0)!==","))return yC;rt=rt.replace(/^,/,"")}return Le})(He);if(this.fontFaces){var ke=(function(Te,je){if(Ne===null){var Ke=(function(Le){var rt=[];return Object.keys(Le).forEach(function(Oe){Le[Oe].forEach(function(De){var ut=null;switch(De){case"bold":ut={family:Oe,weight:"bold"};break;case"italic":ut={family:Oe,style:"italic"};break;case"bolditalic":ut={family:Oe,weight:"bold",style:"italic"};break;case"":case"normal":ut={family:Oe}}ut!==null&&(ut.ref={name:Oe,style:De},rt.push(ut))})}),rt})(Te.getFontList());Ne=(function(Le){for(var rt={},Oe=0;Oe<Le.length;++Oe){var De=vC(Le[Oe]),ut=De.family,_t=De.stretch,qt=De.style,Ft=De.weight;rt[ut]=rt[ut]||{},rt[ut][_t]=rt[ut][_t]||{},rt[ut][_t][qt]=rt[ut][_t][qt]||{},rt[ut][_t][qt][Ft]=De}return rt})(Ke.concat(je))}return Ne})(this.pdf,this.fontFaces),Ze=_e.map(function(Te){return{family:Te,stretch:"normal",weight:st,style:Ce}}),Pe=(function(Te,je,Ke){for(var Le=(Ke=Ke||{}).defaultFontFamily||"times",rt=Object.assign({},Cge,Ke.genericFontFamilies||{}),Oe=null,De=null,ut=0;ut<je.length;++ut)if(rt[(Oe=vC(je[ut])).family]&&(Oe.family=rt[Oe.family]),Te.hasOwnProperty(Oe.family)){De=Te[Oe.family];break}if(!(De=De||Te[Le]))throw new Error("Could not find a font-family for the rule '"+h7(Oe)+"' and default family '"+Le+"'.");if(De=(function(_t,qt){if(qt[_t])return qt[_t];var Ft=yB[_t],gt=Ft<=yB.normal?-1:1,Zt=d7(qt,tV,Ft,gt);if(!Zt)throw new Error("Could not find a matching font-stretch value for "+_t);return Zt})(Oe.stretch,De),De=(function(_t,qt){if(qt[_t])return qt[_t];for(var Ft=eV[_t],gt=0;gt<Ft.length;++gt)if(qt[Ft[gt]])return qt[Ft[gt]];throw new Error("Could not find a matching font-style for "+_t)})(Oe.style,De),!(De=(function(_t,qt){if(qt[_t])return qt[_t];if(_t===400&&qt[500])return qt[500];if(_t===500&&qt[400])return qt[400];var Ft=Sge[_t],gt=d7(qt,rV,Ft,_t<400?-1:1);if(!gt)throw new Error("Could not find a matching font-weight for value "+_t);return gt})(Oe.weight,De)))throw new Error("Failed to resolve a font for the rule '"+h7(Oe)+"'.");return De})(ke,Ze);this.pdf.setFont(Pe.ref.name,Pe.ref.style)}else{var ot="";(st==="bold"||parseInt(st,10)>=700||Ce==="bold")&&(ot="bold"),Ce==="italic"&&(ot+="italic"),ot.length===0&&(ot="normal");for(var Ge="",lt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Je=0;Je<_e.length;Je++){if(this.pdf.internal.getFont(_e[Je],ot,{noFallback:!0,disableWarning:!0})!==void 0){Ge=_e[Je];break}if(ot==="bolditalic"&&this.pdf.internal.getFont(_e[Je],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ge=_e[Je],ot="bold";else if(this.pdf.internal.getFont(_e[Je],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ge=_e[Je],ot="normal";break}}if(Ge===""){for(var Me=0;Me<_e.length;Me++)if(lt[_e[Me]]){Ge=lt[_e[Me]];break}}Ge=Ge===""?"Times":Ge,this.pdf.setFont(Ge,ot)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(be){this.ctx.globalCompositeOperation=be}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(be){this.ctx.globalAlpha=be}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(be){this.ctx.lineDashOffset=be,ve.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(be){this.ctx.lineDash=be,ve.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(be){this.ctx.ignoreClearRect=!!be}})};h.prototype.setLineDash=function(B){this.lineDash=B},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){T.call(this,"fill",!1)},h.prototype.stroke=function(){T.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(B,R){if(isNaN(B)||isNaN(R))throw fo.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new o(B,R));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(B,R)},h.prototype.closePath=function(){var B=new o(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&qn(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){B=new o(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(B.x,B.y)},h.prototype.lineTo=function(B,R){if(isNaN(B)||isNaN(R))throw fo.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new o(B,R));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(Y.x,Y.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},h.prototype.quadraticCurveTo=function(B,R,Y,ie){if(isNaN(Y)||isNaN(ie)||isNaN(B)||isNaN(R))throw fo.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ge=this.ctx.transform.applyToPoint(new o(Y,ie)),ye=this.ctx.transform.applyToPoint(new o(B,R));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new o(ge.x,ge.y)},h.prototype.bezierCurveTo=function(B,R,Y,ie,ge,ye){if(isNaN(ge)||isNaN(ye)||isNaN(B)||isNaN(R)||isNaN(Y)||isNaN(ie))throw fo.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new o(ge,ye)),Z=this.ctx.transform.applyToPoint(new o(B,R)),le=this.ctx.transform.applyToPoint(new o(Y,ie));this.path.push({type:"bct",x1:Z.x,y1:Z.y,x2:le.x,y2:le.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new o(pe.x,pe.y)},h.prototype.arc=function(B,R,Y,ie,ge,ye){if(isNaN(B)||isNaN(R)||isNaN(Y)||isNaN(ie)||isNaN(ge))throw fo.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new o(B,R));B=pe.x,R=pe.y;var Z=this.ctx.transform.applyToPoint(new o(0,Y)),le=this.ctx.transform.applyToPoint(new o(0,0));Y=Math.sqrt(Math.pow(Z.x-le.x,2)+Math.pow(Z.y-le.y,2))}Math.abs(ge-ie)>=2*Math.PI&&(ie=0,ge=2*Math.PI),this.path.push({type:"arc",x:B,y:R,radius:Y,startAngle:ie,endAngle:ge,counterclockwise:ye})},h.prototype.arcTo=function(B,R,Y,ie,ge){throw new Error("arcTo not implemented.")},h.prototype.rect=function(B,R,Y,ie){if(isNaN(B)||isNaN(R)||isNaN(Y)||isNaN(ie))throw fo.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,R),this.lineTo(B+Y,R),this.lineTo(B+Y,R+ie),this.lineTo(B,R+ie),this.lineTo(B,R),this.lineTo(B+Y,R),this.lineTo(B,R)},h.prototype.fillRect=function(B,R,Y,ie){if(isNaN(B)||isNaN(R)||isNaN(Y)||isNaN(ie))throw fo.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!A.call(this)){var ge={};this.lineCap!=="butt"&&(ge.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ge.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,R,Y,ie),this.fill(),ge.hasOwnProperty("lineCap")&&(this.lineCap=ge.lineCap),ge.hasOwnProperty("lineJoin")&&(this.lineJoin=ge.lineJoin)}},h.prototype.strokeRect=function(B,R,Y,ie){if(isNaN(B)||isNaN(R)||isNaN(Y)||isNaN(ie))throw fo.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(B,R,Y,ie),this.stroke())},h.prototype.clearRect=function(B,R,Y,ie){if(isNaN(B)||isNaN(R)||isNaN(Y)||isNaN(ie))throw fo.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,R,Y,ie))},h.prototype.save=function(B){B=typeof B!="boolean"||B;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},h.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(R),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(B){var R,Y,ie,ge;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))R=0,Y=0,ie=0,ge=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(ye!==null)R=parseInt(ye[1]),Y=parseInt(ye[2]),ie=parseInt(ye[3]),ge=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)R=parseInt(ye[1]),Y=parseInt(ye[2]),ie=parseInt(ye[3]),ge=parseFloat(ye[4]);else{if(ge=1,typeof B=="string"&&B.charAt(0)!=="#"){var pe=new qz(B);B=pe.ok?pe.toHex():"#000000"}B.length===4?(R=B.substring(1,2),R+=R,Y=B.substring(2,3),Y+=Y,ie=B.substring(3,4),ie+=ie):(R=B.substring(1,3),Y=B.substring(3,5),ie=B.substring(5,7)),R=parseInt(R,16),Y=parseInt(Y,16),ie=parseInt(ie,16)}}return{r:R,g:Y,b:ie,a:ge,style:B}},A=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(B,R,Y,ie){if(isNaN(R)||isNaN(Y)||typeof B!="string")throw fo.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!A.call(this)){var ge=se(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;L.call(this,{text:B,x:R,y:Y,scale:ye,angle:ge,align:this.textAlign,maxWidth:ie})}},h.prototype.strokeText=function(B,R,Y,ie){if(isNaN(R)||isNaN(Y)||typeof B!="string")throw fo.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){ie=isNaN(ie)?void 0:ie;var ge=se(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;L.call(this,{text:B,x:R,y:Y,scale:ye,renderingMode:"stroke",angle:ge,align:this.textAlign,maxWidth:ie})}},h.prototype.measureText=function(B){if(typeof B!="string")throw fo.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,Y=this.pdf.internal.scaleFactor,ie=R.internal.getFontSize(),ge=R.getStringUnitWidth(B)*ie/R.internal.scaleFactor;return new function(ye){var pe=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this}({width:ge*=Math.round(96*Y/72*1e4)/1e4})},h.prototype.scale=function(B,R){if(isNaN(B)||isNaN(R))throw fo.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new c(B,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.rotate=function(B){if(isNaN(B))throw fo.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new c(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},h.prototype.translate=function(B,R){if(isNaN(B)||isNaN(R))throw fo.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new c(1,0,0,1,B,R);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.transform=function(B,R,Y,ie,ge,ye){if(isNaN(B)||isNaN(R)||isNaN(Y)||isNaN(ie)||isNaN(ge)||isNaN(ye))throw fo.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new c(B,R,Y,ie,ge,ye);this.ctx.transform=this.ctx.transform.multiply(pe)},h.prototype.setTransform=function(B,R,Y,ie,ge,ye){B=isNaN(B)?1:B,R=isNaN(R)?0:R,Y=isNaN(Y)?0:Y,ie=isNaN(ie)?1:ie,ge=isNaN(ge)?0:ge,ye=isNaN(ye)?0:ye,this.ctx.transform=new c(B,R,Y,ie,ge,ye)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(B,R,Y,ie,ge,ye,pe,Z,le){var te=this.pdf.getImageProperties(B),Ne=1,Fe=1,be=1,re=1;ie!==void 0&&Z!==void 0&&(be=Z/ie,re=le/ge,Ne=te.width/ie*Z/ie,Fe=te.height/ge*le/ge),ye===void 0&&(ye=R,pe=Y,R=0,Y=0),ie!==void 0&&Z===void 0&&(Z=ie,le=ge),ie===void 0&&Z===void 0&&(Z=te.width,le=te.height);for(var Ce,st=this.ctx.transform.decompose(),et=se(st.rotate.shx),He=new c,ct=(He=(He=(He=He.multiply(st.translate)).multiply(st.skew)).multiply(st.scale)).applyToRectangle(new l(ye-R*be,pe-Y*re,ie*Ne,ge*Fe)),_e=v.call(this,ct),ke=[],Ze=0;Ze<_e.length;Ze+=1)ke.indexOf(_e[Ze])===-1&&ke.push(_e[Ze]);if(E(ke),this.autoPaging)for(var Pe=ke[0],ot=ke[ke.length-1],Ge=Pe;Ge<ot+1;Ge++){this.pdf.setPage(Ge);var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Je=Ge===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Te=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],je=Ge===1?0:Me+(Ge-2)*Te;if(this.ctx.clip_path.length!==0){var Ke=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Ce,this.posX+this.margin[3],-je+Je+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=Ke}var Le=JSON.parse(JSON.stringify(ct));Le=j([Le],this.posX+this.margin[3],-je+Je+this.ctx.prevPageLastElemOffset)[0];var rt=(Ge>Pe||Ge<ot)&&x.call(this);rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,Te,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",Le.x,Le.y,Le.w,Le.h,null,null,et),rt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(B,"JPEG",ct.x,ct.y,ct.w,ct.h,null,null,et)};var v=function(B,R,Y){var ie=[];R=R||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ge=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":ie.push(Math.floor((B.y+ge)/Y)+1);break;case"arc":ie.push(Math.floor((B.y+ge-B.radius)/Y)+1),ie.push(Math.floor((B.y+ge+B.radius)/Y)+1);break;case"qct":var ye=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);ie.push(Math.floor((ye.y+ge)/Y)+1),ie.push(Math.floor((ye.y+ye.h+ge)/Y)+1);break;case"bct":var pe=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);ie.push(Math.floor((pe.y+ge)/Y)+1),ie.push(Math.floor((pe.y+pe.h+ge)/Y)+1);break;case"rect":ie.push(Math.floor((B.y+ge)/Y)+1),ie.push(Math.floor((B.y+B.h+ge)/Y)+1)}for(var Z=0;Z<ie.length;Z+=1)for(;this.pdf.internal.getNumberOfPages()<ie[Z];)b.call(this);return ie},b=function(){var B=this.fillStyle,R=this.strokeStyle,Y=this.font,ie=this.lineCap,ge=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=R,this.font=Y,this.lineCap=ie,this.lineWidth=ge,this.lineJoin=ye},j=function(B,R,Y){for(var ie=0;ie<B.length;ie++)switch(B[ie].type){case"bct":B[ie].x2+=R,B[ie].y2+=Y;case"qct":B[ie].x1+=R,B[ie].y1+=Y;default:B[ie].x+=R,B[ie].y+=Y}return B},E=function(B){return B.sort(function(R,Y){return R-Y})},T=function(B,R){for(var Y,ie,ge=this.fillStyle,ye=this.strokeStyle,pe=this.lineCap,Z=this.lineWidth,le=Math.abs(Z*this.ctx.transform.scaleX),te=this.lineJoin,Ne=JSON.parse(JSON.stringify(this.path)),Fe=JSON.parse(JSON.stringify(this.path)),be=[],re=0;re<Fe.length;re++)if(Fe[re].x!==void 0)for(var Ce=v.call(this,Fe[re]),st=0;st<Ce.length;st+=1)be.indexOf(Ce[st])===-1&&be.push(Ce[st]);for(var et=0;et<be.length;et++)for(;this.pdf.internal.getNumberOfPages()<be[et];)b.call(this);if(E(be),this.autoPaging)for(var He=be[0],ct=be[be.length-1],_e=He;_e<ct+1;_e++){this.pdf.setPage(_e),this.fillStyle=ge,this.strokeStyle=ye,this.lineCap=pe,this.lineWidth=le,this.lineJoin=te;var ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=_e===1?this.posY+this.margin[0]:this.margin[0],Pe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=_e===1?0:Pe+(_e-2)*ot;if(this.ctx.clip_path.length!==0){var lt=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Y,this.posX+this.margin[3],-Ge+Ze+this.ctx.prevPageLastElemOffset),P.call(this,B,!0),this.path=lt}if(ie=JSON.parse(JSON.stringify(Ne)),this.path=j(ie,this.posX+this.margin[3],-Ge+Ze+this.ctx.prevPageLastElemOffset),R===!1||_e===0){var Je=(_e>He||_e<ct)&&x.call(this);Je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ke,ot,null).clip().discardPath()),P.call(this,B,R),Je&&this.pdf.restoreGraphicsState()}this.lineWidth=Z}else this.lineWidth=le,P.call(this,B,R),this.lineWidth=Z;this.path=Ne},P=function(B,R){if((B!=="stroke"||R||!y.call(this))&&(B==="stroke"||R||!A.call(this))){for(var Y,ie,ge=[],ye=this.path,pe=0;pe<ye.length;pe++){var Z=ye[pe];switch(Z.type){case"begin":ge.push({begin:!0});break;case"close":ge.push({close:!0});break;case"mt":ge.push({start:Z,deltas:[],abs:[]});break;case"lt":var le=ge.length;if(ye[pe-1]&&!isNaN(ye[pe-1].x)&&(Y=[Z.x-ye[pe-1].x,Z.y-ye[pe-1].y],le>0)){for(;le>=0;le--)if(ge[le-1].close!==!0&&ge[le-1].begin!==!0){ge[le-1].deltas.push(Y),ge[le-1].abs.push(Z);break}}break;case"bct":Y=[Z.x1-ye[pe-1].x,Z.y1-ye[pe-1].y,Z.x2-ye[pe-1].x,Z.y2-ye[pe-1].y,Z.x-ye[pe-1].x,Z.y-ye[pe-1].y],ge[ge.length-1].deltas.push(Y);break;case"qct":var te=ye[pe-1].x+2/3*(Z.x1-ye[pe-1].x),Ne=ye[pe-1].y+2/3*(Z.y1-ye[pe-1].y),Fe=Z.x+2/3*(Z.x1-Z.x),be=Z.y+2/3*(Z.y1-Z.y),re=Z.x,Ce=Z.y;Y=[te-ye[pe-1].x,Ne-ye[pe-1].y,Fe-ye[pe-1].x,be-ye[pe-1].y,re-ye[pe-1].x,Ce-ye[pe-1].y],ge[ge.length-1].deltas.push(Y);break;case"arc":ge.push({deltas:[],abs:[],arc:!0}),Array.isArray(ge[ge.length-1].abs)&&ge[ge.length-1].abs.push(Z)}}ie=R?null:B==="stroke"?"stroke":"fill";for(var st=!1,et=0;et<ge.length;et++)if(ge[et].arc)for(var He=ge[et].abs,ct=0;ct<He.length;ct++){var _e=He[ct];_e.type==="arc"?k.call(this,_e.x,_e.y,_e.radius,_e.startAngle,_e.endAngle,_e.counterclockwise,void 0,R,!st):V.call(this,_e.x,_e.y),st=!0}else if(ge[et].close===!0)this.pdf.internal.out("h"),st=!1;else if(ge[et].begin!==!0){var ke=ge[et].start.x,Ze=ge[et].start.y;J.call(this,ge[et].deltas,ke,Ze),st=!0}ie&&Q.call(this,ie),R&&z.call(this)}},U=function(B){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-Y;case"top":return B+R-Y;case"hanging":return B+R-2*Y;case"middle":return B+R/2-Y;default:return B}},M=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(R,Y){this.colorStops.push([R,Y])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(B,R,Y,ie,ge,ye,pe,Z,le){for(var te=ee.call(this,Y,ie,ge,ye),Ne=0;Ne<te.length;Ne++){var Fe=te[Ne];Ne===0&&(le?O.call(this,Fe.x1+B,Fe.y1+R):V.call(this,Fe.x1+B,Fe.y1+R)),ce.call(this,B,R,Fe.x2,Fe.y2,Fe.x3,Fe.y3,Fe.x4,Fe.y4)}Z?z.call(this):Q.call(this,pe)},Q=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},z=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(B,R){this.pdf.internal.out(r(B)+" "+n(R)+" m")},L=function(B){var R;switch(B.align){case"right":case"end":R="right";break;case"center":R="center";break;default:R="left"}var Y=this.pdf.getTextDimensions(B.text),ie=U.call(this,B.y),ge=M.call(this,ie)-Y.h,ye=this.ctx.transform.applyToPoint(new o(B.x,ie)),pe=this.ctx.transform.decompose(),Z=new c;Z=(Z=(Z=Z.multiply(pe.translate)).multiply(pe.skew)).multiply(pe.scale);for(var le,te,Ne,Fe=this.ctx.transform.applyToRectangle(new l(B.x,ie,Y.w,Y.h)),be=Z.applyToRectangle(new l(B.x,ge,Y.w,Y.h)),re=v.call(this,be),Ce=[],st=0;st<re.length;st+=1)Ce.indexOf(re[st])===-1&&Ce.push(re[st]);if(E(Ce),this.autoPaging)for(var et=Ce[0],He=Ce[Ce.length-1],ct=et;ct<He+1;ct++){this.pdf.setPage(ct);var _e=ct===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[2],Pe=Ze-this.margin[0],ot=this.pdf.internal.pageSize.width-this.margin[1],Ge=ot-this.margin[3],lt=ct===1?0:ke+(ct-2)*Pe;if(this.ctx.clip_path.length!==0){var Je=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(le,this.posX+this.margin[3],-1*lt+_e),P.call(this,"fill",!0),this.path=Je}var Me=j([JSON.parse(JSON.stringify(be))],this.posX+this.margin[3],-lt+_e+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*B.scale),Ne=this.lineWidth,this.lineWidth=Ne*B.scale);var Te=this.autoPaging!=="text";if(Te||Me.y+Me.h<=Ze){if(Te||Me.y>=_e&&Me.x<=ot){var je=Te?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||ot-Me.x)[0],Ke=j([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-lt+_e+this.ctx.prevPageLastElemOffset)[0],Le=Te&&(ct>et||ct<He)&&x.call(this);Le&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,Pe,null).clip().discardPath()),this.pdf.text(je,Ke.x,Ke.y,{angle:B.angle,align:R,renderingMode:B.renderingMode}),Le&&this.pdf.restoreGraphicsState()}}else Me.y<Ze&&(this.ctx.prevPageLastElemOffset+=Ze-Me.y);B.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=Ne)}else B.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*B.scale),Ne=this.lineWidth,this.lineWidth=Ne*B.scale),this.pdf.text(B.text,ye.x+this.posX,ye.y+this.posY,{angle:B.angle,align:R,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=Ne)},V=function(B,R,Y,ie){Y=Y||0,ie=ie||0,this.pdf.internal.out(r(B+Y)+" "+n(R+ie)+" l")},J=function(B,R,Y){return this.pdf.lines(B,R,Y,null,null)},ce=function(B,R,Y,ie,ge,ye,pe,Z){this.pdf.internal.out([t(s(Y+B)),t(i(ie+R)),t(s(ge+B)),t(i(ye+R)),t(s(pe+B)),t(i(Z+R)),"c"].join(" "))},ee=function(B,R,Y,ie){for(var ge=2*Math.PI,ye=Math.PI/2;R>Y;)R-=ge;var pe=Math.abs(Y-R);pe<ge&&ie&&(pe=ge-pe);for(var Z=[],le=ie?-1:1,te=R;pe>1e-5;){var Ne=te+le*Math.min(pe,ye);Z.push(de.call(this,B,te,Ne)),pe-=Math.abs(Ne-te),te=Ne}return Z},de=function(B,R,Y){var ie=(Y-R)/2,ge=B*Math.cos(ie),ye=B*Math.sin(ie),pe=ge,Z=-ye,le=pe*pe+Z*Z,te=le+pe*ge+Z*ye,Ne=4/3*(Math.sqrt(2*le*te)-te)/(pe*ye-Z*ge),Fe=pe-Ne*Z,be=Z+Ne*pe,re=Fe,Ce=-be,st=ie+R,et=Math.cos(st),He=Math.sin(st);return{x1:B*Math.cos(R),y1:B*Math.sin(R),x2:Fe*et-be*He,y2:Fe*He+be*et,x3:re*et-Ce*He,y3:re*He+Ce*et,x4:B*Math.cos(Y),y4:B*Math.sin(Y)}},se=function(B){return 180*B/Math.PI},he=function(B,R,Y,ie,ge,ye){var pe=B+.5*(Y-B),Z=R+.5*(ie-R),le=ge+.5*(Y-ge),te=ye+.5*(ie-ye),Ne=Math.min(B,ge,pe,le),Fe=Math.max(B,ge,pe,le),be=Math.min(R,ye,Z,te),re=Math.max(R,ye,Z,te);return new l(Ne,be,Fe-Ne,re-be)},fe=function(B,R,Y,ie,ge,ye,pe,Z){var le,te,Ne,Fe,be,re,Ce,st,et,He,ct,_e,ke,Ze,Pe=Y-B,ot=ie-R,Ge=ge-Y,lt=ye-ie,Je=pe-ge,Me=Z-ye;for(te=0;te<41;te++)et=(Ce=(Ne=B+(le=te/40)*Pe)+le*((be=Y+le*Ge)-Ne))+le*(be+le*(ge+le*Je-be)-Ce),He=(st=(Fe=R+le*ot)+le*((re=ie+le*lt)-Fe))+le*(re+le*(ye+le*Me-re)-st),te==0?(ct=et,_e=He,ke=et,Ze=He):(ct=Math.min(ct,et),_e=Math.min(_e,He),ke=Math.max(ke,et),Ze=Math.max(Ze,He));return new l(Math.round(ct),Math.round(_e),Math.round(ke-ct),Math.round(Ze-_e))},ve=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,R,Y=(B=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:R}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(Qn.API),(function(e){var t=function(o){var l,c,d,u,h,m,A,y,x,v;for(c=[],d=0,u=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;u>d;d+=4)(h=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(m=(h=((h=((h=((h=(h-(v=h%85))/85)-(x=h%85))/85)-(y=h%85))/85)-(A=h%85))/85)%85,c.push(m+33,A+33,y+33,x+33,v+33)):c.push(122);return(function(b,j){for(var E=j;E>0;E--)b.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,d,u,h,m=String,A="length",y=255,x="charCodeAt",v="slice",b="replace";for(o[v](-2),o=o[v](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),d=[],u=0,h=(o+=l="uuuuu"[v](o[A]%5||5))[A];h>u;u+=5)c=52200625*(o[x](u)-33)+614125*(o[x](u+1)-33)+7225*(o[x](u+2)-33)+85*(o[x](u+3)-33)+(o[x](u+4)-33),d.push(y&c>>24,y&c>>16,y&c>>8,y&c);return(function(j,E){for(var T=E;T>0;T--)j.pop()})(d,l[A]),m.fromCharCode.apply(m,d)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",d=0;d<o.length;d+=2)c+=String.fromCharCode("0x"+(o[d]+o[d+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=Vv(l)).reduce(function(d,u){return d+String.fromCharCode(u)},"")};e.processDataByFilters=function(o,l){var c=0,d=o||"",u=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=n(d),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:u.reverse().join(" ")}}})(Qn.API),(function(e){e.loadFile=function(t,r,n){return(function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,d,u){var h=new XMLHttpRequest,m=0,A=function(y){var x=y.length,v=[],b=String.fromCharCode;for(m=0;m<x;m+=1)v.push(b(255&y.charCodeAt(m)));return v.join("")};if(h.open("GET",c,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?u(A(this.responseText)):u(void 0)}),h.send(null),d&&h.status===200)return A(h.responseText)})(s,i,o)}catch{}return l})(t,r,n)},e.loadImageFile=e.loadFile})(Qn.API),(function(e){function t(){return(Ta.html2canvas?Promise.resolve(Ta.html2canvas):Iv(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Ta.DOMPurify?Promise.resolve(Ta.DOMPurify):Iv(()=>import("./purify.es-aGzT-_H7.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=qn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},s=function(l,c){var d=document.createElement(l);for(var u in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[u]=c.style[u];return d},i=function l(c,d){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||u.appendChild(l(h,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u},o=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),u=l.convert(Promise.resolve(),d);return(u=u.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(r).then(function(d){return this.set({src:s("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=u,u)for(var A=0;A<u.length;++A){var y=u[A],x=y.src.find(function(v){return v.format==="truetype"});x&&d.addFont(x.url,y.ref.name,y.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,d.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(d,u){return Math.floor(d*u/72*96)}return this.then(function(){(l=l||Qn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,d,u){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,d,u){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(u,h){return d.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(m){return d.updateProgress(null,u),m}).then(u,h).then(function(m){return d.updateProgress(1),m})})},o.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then;var u=this;l&&(l=l.bind(u)),c&&(c=c.bind(u));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),m=d.call(h,l,c);return o.convert(m,u.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Qn.getPageSize=function(l,c,d){if(qn(l)==="object"){var u=l;l=u.orientation,c=u.unit||c,d=u.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var h,m=(""+d).toLowerCase(),A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var y,x=0,v=0;if(A.hasOwnProperty(m))x=A[m][1]/h,v=A[m][0]/h;else try{x=d[1],v=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",v>x&&(y=v,v=x,x=y);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",x>v&&(y=v,v=x,x=y)}return{width:v,height:x,unit:c,k:h,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(vC):null;var d=new o(c);return c.worker?d:d.from(l).doCallback()}})(Qn.API),Qn.API.addJS=function(e){return p7=e,this.internal.events.subscribe("postPutResources",function(){O4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(O4+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),m7=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+p7+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){O4!==void 0&&m7!==void 0&&this.internal.out("/Names <</JavaScript "+O4+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(i=0;i<d;i++){var h=r.internal.newObject();u.push(h);var m=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var A=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+A+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var o={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])})(Qn.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,i,o,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(h){for(var m,A=256*h.charCodeAt(4)+h.charCodeAt(5),y=h.length,x={width:0,height:0,numcomponents:1},v=4;v<y;v+=2){if(v+=A,t.indexOf(h.charCodeAt(v+1))!==-1){m=256*h.charCodeAt(v+5)+h.charCodeAt(v+6),x={width:256*h.charCodeAt(v+7)+h.charCodeAt(v+8),height:m,numcomponents:h.charCodeAt(v+9)};break}A=256*h.charCodeAt(v+2)+h.charCodeAt(v+3)}return x})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:s}}return u}})(Qn.API),Qn.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,i=uge(e,{checkCrc:!0}),o=i.width,l=i.height,c=i.channels,d=i.palette,u=i.depth;s=d&&c===1?(function(k){for(var Q=k.width,z=k.height,O=k.data,L=k.palette,V=k.depth,J=!1,ce=[],ee=[],de=void 0,se=!1,he=0,fe=0;fe<L.length;fe++){var ve=yL(L[fe],4),B=ve[0],R=ve[1],Y=ve[2],ie=ve[3];ce.push(B,R,Y),ie!=null&&(ie===0?(he++,ee.length<1&&ee.push(fe)):ie<255&&(se=!0))}if(se||he>1){J=!0,ee=void 0;var ge=Q*z;de=new Uint8Array(ge);for(var ye=new DataView(O.buffer),pe=0;pe<ge;pe++){var Z=bC(ye,pe,V),le=yL(L[Z],4)[3];de[pe]=le}}else he===0&&(ee=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:J?8:void 0,colorBytes:O,alphaBytes:de,needSMask:J,palette:ce,mask:ee}})(i):c===2||c===4?(function(k){for(var Q=k.data,z=k.width,O=k.height,L=k.channels,V=k.depth,J=L===2?"DeviceGray":"DeviceRGB",ce=L-1,ee=z*O,de=ce,se=ee*de,he=1*ee,fe=Math.ceil(se*V/8),ve=Math.ceil(he*V/8),B=new Uint8Array(fe),R=new Uint8Array(ve),Y=new DataView(Q.buffer),ie=new DataView(B.buffer),ge=new DataView(R.buffer),ye=!1,pe=0;pe<ee;pe++){for(var Z=pe*L,le=0;le<de;le++)S7(ie,bC(Y,Z+le,V),pe*de+le,V);var te=bC(Y,Z+de,V);te<(1<<V)-1&&(ye=!0),S7(ge,te,1*pe,V)}return{colorSpace:J,colorsPerPixel:ce,sMaskBitsPerComponent:ye?V:void 0,colorBytes:B,alphaBytes:R,needSMask:ye}})(i):(function(k){var Q=k.data,z=k.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:z,colorsPerPixel:z==="DeviceGray"?1:3,colorBytes:Q instanceof Uint16Array?(function(O){for(var L=O.length,V=new Uint8Array(2*L),J=new DataView(V.buffer,V.byteOffset,V.byteLength),ce=0;ce<L;ce++)J.setUint16(2*ce,O[ce],!1);return V})(Q):Q,needSMask:!1}})(i);var h,m,A,y=s,x=y.colorSpace,v=y.colorsPerPixel,b=y.sMaskBitsPerComponent,j=y.colorBytes,E=y.alphaBytes,T=y.needSMask,P=y.palette,U=y.mask,M=null;return n!==Qn.API.image_compression.NONE&&typeof Vv=="function"?(M=(function(k){var Q;switch(k){case Qn.API.image_compression.FAST:Q=11;break;case Qn.API.image_compression.MEDIUM:Q=13;break;case Qn.API.image_compression.SLOW:Q=14;break;default:Q=12}return Q})(n),h=this.decode.FLATE_DECODE,m="/Predictor ".concat(M," /Colors ").concat(v," /BitsPerComponent ").concat(u," /Columns ").concat(o),e=y7(j,Math.ceil(o*v*u/8),v,u,n),T&&(A=y7(E,Math.ceil(o*b/8),1,b,n))):(h=void 0,m=void 0,e=j,T&&(A=E)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(A&&this.__addimage__.isArrayBuffer(A)||this.__addimage__.isArrayBufferView(A))&&(A=this.__addimage__.arrayBufferToBinaryString(A)),{alias:r,data:e,index:t,filter:h,decodeParameters:m,transparency:U,palette:P,sMask:A,predictor:M,width:o,height:l,bitsPerComponent:u,sMaskBitsPerComponent:b,colorSpace:x}}},(function(e){e.processGIF89A=function(t,r,n,s){var i=new Ige(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},u=new wC(100).encode(d,100);return e.processJPEG.call(this,u,r,n,s)},e.processGIF87A=e.processGIF89A})(Qn.API),UA.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},UA.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){fo.log("bit decode error:"+r)}},UA.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},UA.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*s*4,l=i>>4,c=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*s+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},UA.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},UA.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,d=i>>15?255:0,u=n*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=d}this.pos+=e}},UA.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,d=(o>>11)/t*255|0,u=s*this.width*4+4*i;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=e}},UA.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},UA.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=o}},UA.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,n,s){var i=new UA(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new wC(100).encode(c,100);return e.processJPEG.call(this,d,r,n,s)}})(Qn.API),E7.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,n,s){var i=new E7(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new wC(100).encode(c,100);return e.processJPEG.call(this,d,r,n,s)}})(Qn.API),Qn.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,c=0,d=0;d<s;d+=4){var u=n[d],h=n[d+1],m=n[d+2],A=n[d+3];i[l++]=u,i[l++]=h,i[l++]=m,o[c++]=A}var y=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Qn.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},nv=Qn.API,D4=nv.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:s.metadata.Unicode.kerning,u=d.fof?d.fof:1,h=t.doKerning!==!1,m=0,A=e.length,y=0,x=l[0]||c,v=[];for(r=0;r<A;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?v.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(m=h&&qn(d[n])==="object"&&!isNaN(parseInt(d[n][y],10))?d[n][y]/u:0,v.push((l[n]||x)/c+m)),y=n;return v},g7=nv.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return nv.processArabic&&(e=nv.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:D4.apply(this,arguments).reduce(function(i,o){return i+o},0)},x7=function(e,t,r,n){for(var s=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;s.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>n&&(s.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&s.push(e.slice(c,i)),s},v7=function(e,t,r){r||(r={});var n,s,i,o,l,c,d,u=[],h=[u],m=r.textIndent||0,A=0,y=0,x=e.split(" "),v=D4.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var b=Array(c).join(" "),j=[];x.map(function(T){(T=T.split(/\s*\n/)).length>1?j=j.concat(T.map(function(P,U){return(U&&P.length?`
`:"")+P})):j.push(T[0])}),x=j,c=g7.apply(this,[b,r])}for(i=0,o=x.length;i<o;i++){var E=0;if(n=x[i],c&&n[0]==`
`&&(n=n.substr(1),E=1),m+A+(y=(s=D4.apply(this,[n,r])).reduce(function(T,P){return T+P},0))>t||E){if(y>t){for(l=x7.apply(this,[n,s,t-(m+A),t]),u.push(l.shift()),u=[l.pop()];l.length;)h.push([l.shift()]);y=s.slice(n.length-(u[0]?u[0].length:0)).reduce(function(T,P){return T+P},0)}else u=[n];h.push(u),m=y+c,A=v}else u.push(n),m+=A+y,A=v}return d=c?function(T,P){return(P?b:"")+T.join(" ")}:function(T){return T.join(" ")},h.map(d)},nv.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle),m="Unicode";return h.metadata[m]?{widths:h.metadata[m].widths||{0:1},kerning:h.metadata[m].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=n.length;l<c;l++)d=d.concat(v7.apply(this,[n[l],o,i]));return d},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},i=0;i<16;i++)n[r[i]]=t[i],s[t[i]]=r[i];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=e.__fontmetrics__.compress=function(m){var A,y,x,v,b=["{"];for(var j in m){if(A=m[j],isNaN(parseInt(j,10))?y="'"+j+"'":(j=parseInt(j,10),y=(y=o(j).slice(2)).slice(0,-1)+s[y.slice(-1)]),typeof A=="number")A<0?(x=o(A).slice(3),v="-"):(x=o(A).slice(2),v=""),x=v+x.slice(0,-1)+s[x.slice(-1)];else{if(qn(A)!=="object")throw new Error("Don't know what to do with value type "+qn(A)+".");x=l(A)}b.push(y+x)}return b.push("}"),b.join("")},c=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var A,y,x,v,b={},j=1,E=b,T=[],P="",U="",M=m.length-1,k=1;k<M;k+=1)(v=m[k])=="'"?A?(x=A.join(""),A=void 0):A=[]:A?A.push(v):v=="{"?(T.push([E,x]),E={},x=void 0):v=="}"?((y=T.pop())[0][y[1]]=E,x=void 0,E=y[0]):v=="-"?j=-1:x===void 0?n.hasOwnProperty(v)?(P+=n[v],x=parseInt(P,16)*j,j=1,P=""):P+=v:n.hasOwnProperty(v)?(U+=n[v],E[x]=parseInt(U,16)*j,j=1,x=void 0,U=""):U+=v;return b},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var A=m.font,y=h.Unicode[A.postScriptName];y&&(A.metadata.Unicode={},A.metadata.Unicode.widths=y.widths,A.metadata.Unicode.kerning=y.kerning);var x=u.Unicode[A.postScriptName];x&&(A.metadata.Unicode.encoding=x,A.encoding=x.codePages[0])}])})(Qn.API),(function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(g5(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,n)}}])})(Qn),Qn.API.addSvgAsImage=function(e,t,r,n,s,i,o,l){if(isNaN(t)||isNaN(r))throw fo.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw fo.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=s;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Ta.canvg?Promise.resolve(Ta.canvg):Iv(()=>import("./index.es-B3Svk1R9.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(d,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(u)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),t,r,n,s,o,l)})},Qn.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},Qn.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,h=0;function m(y,x){var v,b=!1;for(v=0;v<y.length;v+=1)y[v]===x&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var A=l.length;for(h=0;h<A;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(qn(e)==="object"){for(s in e)if(i=e[s],m(l,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&m(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(d=0;d<i.length;d+=1)if(n=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(u=0;u<i[d].length;u+=1)typeof i[d][u]!="number"&&(n=!1);n===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}r[s].value="["+c.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,x=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?x.push("/"+y+" /"+r[y].value):x.push("/"+y+" "+r[y].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(Qn.API),(function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],h=0,m=i.length;h<m;++h){if(l=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},n=function(i){var o,l,c,d,u,h,m;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,m=(l=Object.keys(i).sort(function(A,y){return A-y})).length;h<m;h++)o=l[h],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),A="",y=0;y<m.length;y++)A+=String.fromCharCode(m[y]);var x=d();u({data:A,addLength1:!0,objectId:x}),c("endobj");var v=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var b=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+hv(l.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var j=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+hv(l.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+hv(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+j+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,m="",A=0;A<h.length;A++)m+=String.fromCharCode(h[A]);var y=d();u({data:m,addLength1:!0,objectId:y}),c("endobj");var x=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var v=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+y+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+hv(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+hv(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,l=i.text||"",c=i.x,d=i.y,u=i.options||{},h=i.mutex||{},m=h.pdfEscape,A=h.activeFontKey,y=h.fonts,x=A,v="",b=0,j="",E=y[x].encoding;if(y[x].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:h};for(j=l,x=A,Array.isArray(l)&&(j=l[0]),b=0;b<j.length;b+=1)y[x].metadata.hasOwnProperty("cmap")&&(o=y[x].metadata.cmap.unicode.codeMap[j[b].charCodeAt(0)]),o||j[b].charCodeAt(0)<256&&y[x].metadata.hasOwnProperty("Unicode")?v+=j[b]:v+="";var T="";return parseInt(x.slice(1))<14||E==="WinAnsiEncoding"?T=m(v,x).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(T=r(v,y[x])),h.isHex=!0,{text:T,x:c,y:d,options:u,mutex:h}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([s(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(s(Object.assign({},c,{text:o[d]})).text);i.text=l}else i.text=s(Object.assign({},c,{text:o})).text}])})(Qn),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Qn.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,i,o,l,c,d,u,h=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],A=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,E=0;this.__bidiEngine__={};var T=function(O){var L=O.charCodeAt(),V=L>>8,J=x[V];return J!==void 0?h[256*J+(255&L)]:V===252||V===253?"AL":b.test(V)?"L":V===8?"R":"N"},P=function(O){for(var L,V=0;V<O.length;V++){if((L=T(O.charAt(V)))==="L")return!1;if(L==="R")return!0}return!1},U=function(O,L,V,J){var ce,ee,de,se,he=L[J];switch(he){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"N":case"AN":break;case"EN":j&&(he="AN");break;case"AL":j=!0,he="R";break;case"WS":case"BN":he="N";break;case"CS":J<1||J+1>=L.length||(ce=V[J-1])!=="EN"&&ce!=="AN"||(ee=L[J+1])!=="EN"&&ee!=="AN"?he="N":j&&(ee="AN"),he=ee===ce?ee:"N";break;case"ES":he=(ce=J>0?V[J-1]:"B")==="EN"&&J+1<L.length&&L[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&V[J-1]==="EN"){he="EN";break}if(j){he="N";break}for(de=J+1,se=L.length;de<se&&L[de]==="ET";)de++;he=de<se&&L[de]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(se=L.length,de=J+1;de<se&&L[de]==="NSM";)de++;if(de<se){var fe=O[J],ve=fe>=1425&&fe<=2303||fe===64286;if(ce=L[de],ve&&(ce==="R"||ce==="AL")){he="R";break}}}he=J<1||(ce=L[J-1])==="B"?"N":V[J-1];break;case"B":j=!1,s=!0,he=E;break;case"S":i=!0,he="N"}return he},M=function(O,L,V){var J=O.split("");return V&&k(J,V,{hiLevel:E}),J.reverse(),L&&L.reverse(),J.join("")},k=function(O,L,V){var J,ce,ee,de,se,he=-1,fe=O.length,ve=0,B=[],R=E?A:m,Y=[];for(j=!1,s=!1,i=!1,ce=0;ce<fe;ce++)Y[ce]=T(O[ce]);for(ee=0;ee<fe;ee++){if(se=ve,B[ee]=U(O,Y,B,ee),J=240&(ve=R[se][y[B[ee]]]),ve&=15,L[ee]=de=R[ve][5],J>0)if(J===16){for(ce=he;ce<ee;ce++)L[ce]=1;he=-1}else he=-1;if(R[ve][6])he===-1&&(he=ee);else if(he>-1){for(ce=he;ce<ee;ce++)L[ce]=de;he=-1}Y[ee]==="B"&&(L[ee]=0),V.hiLevel|=de}i&&(function(ie,ge,ye){for(var pe=0;pe<ye;pe++)if(ie[pe]==="S"){ge[pe]=E;for(var Z=pe-1;Z>=0&&ie[Z]==="WS";Z--)ge[Z]=E}})(Y,L,fe)},Q=function(O,L,V,J,ce){if(!(ce.hiLevel<O)){if(O===1&&E===1&&!s)return L.reverse(),void(V&&V.reverse());for(var ee,de,se,he,fe=L.length,ve=0;ve<fe;){if(J[ve]>=O){for(se=ve+1;se<fe&&J[se]>=O;)se++;for(he=ve,de=se-1;he<de;he++,de--)ee=L[he],L[he]=L[de],L[de]=ee,V&&(ee=V[he],V[he]=V[de],V[de]=ee);ve=se}ve++}}},z=function(O,L,V){var J=O.split(""),ce={hiLevel:E};return V||(V=[]),k(J,V,ce),(function(ee,de,se){if(se.hiLevel!==0&&u)for(var he,fe=0;fe<ee.length;fe++)de[fe]===1&&(he=v.indexOf(ee[fe]))>=0&&(ee[fe]=v[he+1])})(J,V,ce),Q(2,J,L,V,ce),Q(1,J,L,V,ce),J.join("")};return this.__bidiEngine__.doBidiReorder=function(O,L,V){if((function(ce,ee){if(ee)for(var de=0;de<ce.length;de++)ee[de]=de;l===void 0&&(l=P(ce)),d===void 0&&(d=P(ce))})(O,L),o||!c||d)if(o&&c&&l^d)E=l?1:0,O=M(O,L,V);else if(!o&&c&&d)E=l?1:0,O=z(O,L,V),O=M(O,L);else if(!o||l||c||d){if(o&&!c&&l^d)O=M(O,L),l?(E=0,O=z(O,L,V)):(E=1,O=z(O,L,V),O=M(O,L));else if(o&&l&&!c&&d)E=1,O=z(O,L,V),O=M(O,L);else if(!o&&!c&&l^d){var J=u;l?(E=1,O=z(O,L,V),E=0,u=!1,O=z(O,L,V),u=J):(E=0,O=z(O,L,V),O=M(O,L),E=1,u=!1,O=z(O,L,V),u=J,O=M(O,L))}}else E=0,O=z(O,L,V);else E=l?1:0,O=z(O,L,V);return O},this.__bidiEngine__.setOptions=function(O){O&&(o=O.isInputVisual,c=O.isOutputVisual,l=O.isInputRtl,d=O.isOutputRtl,u=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([r.doBidiReorder(s[l])]);n.text=o}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])})(Qn),Qn.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new xg(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new qge(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new kge(this.contents),this.head=new Lge(this),this.name=new Rge(this),this.cmap=new aV(this),this.toUnicode={},this.hhea=new Oge(this),this.maxp=new Qge(this),this.hmtx=new Hge(this),this.post=new Mge(this),this.os2=new Dge(this),this.loca=new Kge(this),this.glyf=new $ge(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e})();var am,xg=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,i,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,i;for(i=[],n=0,s=t.length;n<s;n++)r=t[n],i.push(this.writeByte(r));return i},e})(),kge=(function(){var e;function t(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,i,o,l,c,d,u,h,m,A,y,x;for(x in A=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(A)/c),o=Math.floor(h/c),u=16*A-h,(s=new xg).writeInt(this.scalarType),s.writeShort(A),s.writeShort(h),s.writeShort(o),s.writeShort(u),i=16*A,d=s.pos+i,l=null,y=[],r)for(m=r[x],s.writeString(x),s.writeInt(e(m)),s.writeInt(d),s.writeInt(m.length),y=y.concat(m),x==="head"&&(l=d),d+=m.length;d%4;)y.push(0),d++;return s.write(y),n=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(n),s.data},e=function(r){var n,s,i,o;for(r=sV.call(r);r.length%4;)r.push(0);for(i=new xg(r),s=0,n=0,o=r.length;n<o;n=n+=4)s+=i.readUInt32();return 4294967295&s},t})(),Pge={}.hasOwnProperty,Zm=function(e,t){for(var r in t)Pge.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};am=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var Lge=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Zm(e,am),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new xg).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),B7=(function(){function e(t,r){var n,s,i,o,l,c,d,u,h,m,A,y,x,v,b,j,E;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(A=t.readUInt16(),m=A/2,t.pos+=6,i=(function(){var T,P;for(P=[],c=T=0;0<=m?T<m:T>m;c=0<=m?++T:--T)P.push(t.readUInt16());return P})(),t.pos+=2,x=(function(){var T,P;for(P=[],c=T=0;0<=m?T<m:T>m;c=0<=m?++T:--T)P.push(t.readUInt16());return P})(),d=(function(){var T,P;for(P=[],c=T=0;0<=m?T<m:T>m;c=0<=m?++T:--T)P.push(t.readUInt16());return P})(),u=(function(){var T,P;for(P=[],c=T=0;0<=m?T<m:T>m;c=0<=m?++T:--T)P.push(t.readUInt16());return P})(),s=(this.length-t.pos+this.offset)/2,l=(function(){var T,P;for(P=[],c=T=0;0<=s?T<s:T>s;c=0<=s?++T:--T)P.push(t.readUInt16());return P})(),c=b=0,E=i.length;b<E;c=++b)for(v=i[c],n=j=y=x[c];y<=v?j<=v:j>=v;n=y<=v?++j:--j)u[c]===0?o=n+d[c]:(o=l[u[c]/2+(n-y)-(m-c)]||0)!==0&&(o+=d[c]),this.codeMap[n]=65535&o}t.pos=h}return e.encode=function(t,r){var n,s,i,o,l,c,d,u,h,m,A,y,x,v,b,j,E,T,P,U,M,k,Q,z,O,L,V,J,ce,ee,de,se,he,fe,ve,B,R,Y,ie,ge,ye,pe,Z,le,te,Ne;switch(J=new xg,o=Object.keys(t).sort(function(Fe,be){return Fe-be}),r){case"macroman":for(x=0,v=(function(){var Fe=[];for(y=0;y<256;++y)Fe.push(0);return Fe})(),j={0:0},i={},ce=0,he=o.length;ce<he;ce++)j[Z=t[s=o[ce]]]==null&&(j[Z]=++x),i[s]={old:t[s],new:j[t[s]]},v[s]=j[t[s]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(v),{charMap:i,subtable:J.data,maxGlyphID:x+1};case"unicode":for(L=[],h=[],E=0,j={},n={},b=d=null,ee=0,fe=o.length;ee<fe;ee++)j[P=t[s=o[ee]]]==null&&(j[P]=++E),n[s]={old:P,new:j[P]},l=j[P]-s,b!=null&&l===d||(b&&h.push(b),L.push(s),d=l),b=s;for(b&&h.push(b),h.push(65535),L.push(65535),z=2*(Q=L.length),k=2*Math.pow(Math.log(Q)/Math.LN2,2),m=Math.log(k/2)/Math.LN2,M=2*Q-k,c=[],U=[],A=[],y=de=0,ve=L.length;de<ve;y=++de){if(O=L[y],u=h[y],O===65535){c.push(0),U.push(0);break}if(O-(V=n[O].new)>=32768)for(c.push(0),U.push(2*(A.length+Q-y)),s=se=O;O<=u?se<=u:se>=u;s=O<=u?++se:--se)A.push(n[s].new);else c.push(V-O),U.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*Q+2*A.length),J.writeUInt16(0),J.writeUInt16(z),J.writeUInt16(k),J.writeUInt16(m),J.writeUInt16(M),ye=0,B=h.length;ye<B;ye++)s=h[ye],J.writeUInt16(s);for(J.writeUInt16(0),pe=0,R=L.length;pe<R;pe++)s=L[pe],J.writeUInt16(s);for(le=0,Y=c.length;le<Y;le++)l=c[le],J.writeUInt16(l);for(te=0,ie=U.length;te<ie;te++)T=U[te],J.writeUInt16(T);for(Ne=0,ge=A.length;Ne<ge;Ne++)x=A[Ne],J.writeUInt16(x);return{charMap:n,subtable:J.data,maxGlyphID:E+1}}},e})(),aV=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Zm(e,am),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r=new B7(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,s;return r==null&&(r="macroman"),n=B7.encode(t,r),(s=new xg).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},e})(),Oge=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Zm(e,am),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),Dge=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Zm(e,am),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),Mge=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Zm(e,am),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e})(),Uge=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Rge=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Zm(e,am),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,s,i,o,l,c,d,u,h,m;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},i=u=0,h=n.length;u<h;i=++u)s=n[i],t.pos=s.offset,d=t.readString(s.length),o=new Uge(d,s),c[m=s.nameID]==null&&(c[m]=[]),c[s.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e})(),Qge=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Zm(e,am),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),Hge=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Zm(e,am),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,s,i,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,u;for(u=[],r=d=0;0<=s?d<s:d>s;r=0<=s?++d:--d)u.push(t.readInt16());return u})(),this.widths=(function(){var d,u,h,m;for(m=[],d=0,u=(h=this.metrics).length;d<u;d++)i=h[d],m.push(i.advance);return m}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),sV=[].slice,$ge=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Zm(e,am),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,s,i,o,l,c,d,u,h;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(s=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(l=new xg(r.read(s))).readShort(),d=l.readShort(),h=l.readShort(),c=l.readShort(),u=l.readShort(),this.cache[t]=o===-1?new Vge(l,d,h,c,u):new zge(l,o,d,h,c,u),this.cache[t]))},e.prototype.encode=function(t,r,n){var s,i,o,l,c;for(o=[],i=[],l=0,c=r.length;l<c;l++)s=t[r[l]],i.push(o.length),s&&(o=o.concat(s.encode(n)));return i.push(o.length),{table:o,offsets:i}},e})(),zge=(function(){function e(t,r,n,s,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),Vge=(function(){function e(t,r,n,s,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new xg(sV.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),Kge=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Zm(e,am),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<n.length;++o)if(n[o]=s,i<r.length&&r[i]==o){++i,n[o]=s;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(s+=c)}for(var d=new Array(4*n.length),u=0;u<n.length;++u)d[4*u+3]=255&n[u],d[4*u+2]=(65280&n[u])>>8,d[4*u+1]=(16711680&n[u])>>16,d[4*u]=(4278190080&n[u])>>24;return d},e})(),qge=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,i,o,l,c;for(s={},o=0,l=t.length;o<l;o++)s[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],s[i]=n;return s},e.prototype.encode=function(t,r){var n,s,i,o,l,c,d,u,h,m,A,y,x,v,b;for(s in n=aV.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),A={0:0},b=n.charMap)A[(c=b[s]).old]=c.new;for(y in m=n.maxGlyphID,o)y in A||(A[y]=m++);return u=(function(j){var E,T;for(E in T={},j)T[j[E]]=E;return T})(A),h=Object.keys(u).sort(function(j,E){return j-E}),x=(function(){var j,E,T;for(T=[],j=0,E=h.length;j<E;j++)l=h[j],T.push(u[l]);return T})(),i=this.font.glyf.encode(o,x,A),d=this.font.loca.encode(i.offsets,x),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e})();Qn.API.PDFObject=(function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,i,o;if(Array.isArray(r))return"["+(function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)n=r[l],d.push(t.convert(n));return d})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)o=r[s],i.push("/"+s+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t})();const Gge=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:jge,AcroFormAppearance:Cn,AcroFormButton:eu,AcroFormCheckBox:R2,AcroFormChoiceField:Lx,AcroFormComboBox:Dx,AcroFormEditBox:M2,AcroFormListBox:Ox,AcroFormPasswordField:Q2,AcroFormPushButton:U2,AcroFormRadioButton:Mx,AcroFormTextField:lg,GState:xb,ShadingPattern:Zp,TilingPattern:wx,default:Qn,jsPDF:Qn},Symbol.toStringTag,{value:"Module"})),Wge=JJ(Gge);var x5={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var Yge=x5.exports,T7;function Xge(){return T7||(T7=1,(function(e,t){(function(r,n){e.exports=n()})(Yge,(function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var r=function(H,D){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,q){G.__proto__=q}||function(G,q){for(var we in q)Object.prototype.hasOwnProperty.call(q,we)&&(G[we]=q[we])},r(H,D)};function n(H,D){if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");r(H,D);function G(){this.constructor=H}H.prototype=D===null?Object.create(D):(G.prototype=D.prototype,new G)}var s=function(){return s=Object.assign||function(D){for(var G,q=1,we=arguments.length;q<we;q++){G=arguments[q];for(var Ue in G)Object.prototype.hasOwnProperty.call(G,Ue)&&(D[Ue]=G[Ue])}return D},s.apply(this,arguments)};function i(H,D,G,q){function we(Ue){return Ue instanceof G?Ue:new G(function(tt){tt(Ue)})}return new(G||(G=Promise))(function(Ue,tt){function Nt(Kt){try{Qt(q.next(Kt))}catch(er){tt(er)}}function jt(Kt){try{Qt(q.throw(Kt))}catch(er){tt(er)}}function Qt(Kt){Kt.done?Ue(Kt.value):we(Kt.value).then(Nt,jt)}Qt((q=q.apply(H,[])).next())})}function o(H,D){var G={label:0,sent:function(){if(Ue[0]&1)throw Ue[1];return Ue[1]},trys:[],ops:[]},q,we,Ue,tt;return tt={next:Nt(0),throw:Nt(1),return:Nt(2)},typeof Symbol=="function"&&(tt[Symbol.iterator]=function(){return this}),tt;function Nt(Qt){return function(Kt){return jt([Qt,Kt])}}function jt(Qt){if(q)throw new TypeError("Generator is already executing.");for(;G;)try{if(q=1,we&&(Ue=Qt[0]&2?we.return:Qt[0]?we.throw||((Ue=we.return)&&Ue.call(we),0):we.next)&&!(Ue=Ue.call(we,Qt[1])).done)return Ue;switch(we=0,Ue&&(Qt=[Qt[0]&2,Ue.value]),Qt[0]){case 0:case 1:Ue=Qt;break;case 4:return G.label++,{value:Qt[1],done:!1};case 5:G.label++,we=Qt[1],Qt=[0];continue;case 7:Qt=G.ops.pop(),G.trys.pop();continue;default:if(Ue=G.trys,!(Ue=Ue.length>0&&Ue[Ue.length-1])&&(Qt[0]===6||Qt[0]===2)){G=0;continue}if(Qt[0]===3&&(!Ue||Qt[1]>Ue[0]&&Qt[1]<Ue[3])){G.label=Qt[1];break}if(Qt[0]===6&&G.label<Ue[1]){G.label=Ue[1],Ue=Qt;break}if(Ue&&G.label<Ue[2]){G.label=Ue[2],G.ops.push(Qt);break}Ue[2]&&G.ops.pop(),G.trys.pop();continue}Qt=D.call(H,G)}catch(Kt){Qt=[6,Kt],we=0}finally{q=Ue=0}if(Qt[0]&5)throw Qt[1];return{value:Qt[0]?Qt[1]:void 0,done:!0}}}function l(H,D,G){if(arguments.length===2)for(var q=0,we=D.length,Ue;q<we;q++)(Ue||!(q in D))&&(Ue||(Ue=Array.prototype.slice.call(D,0,q)),Ue[q]=D[q]);return H.concat(Ue||D)}for(var c=(function(){function H(D,G,q,we){this.left=D,this.top=G,this.width=q,this.height=we}return H.prototype.add=function(D,G,q,we){return new H(this.left+D,this.top+G,this.width+q,this.height+we)},H.fromClientRect=function(D,G){return new H(G.left+D.windowBounds.left,G.top+D.windowBounds.top,G.width,G.height)},H.fromDOMRectList=function(D,G){var q=Array.from(G).find(function(we){return we.width!==0});return q?new H(q.left+D.windowBounds.left,q.top+D.windowBounds.top,q.width,q.height):H.EMPTY},H.EMPTY=new H(0,0,0,0),H})(),d=function(H,D){return c.fromClientRect(H,D.getBoundingClientRect())},u=function(H){var D=H.body,G=H.documentElement;if(!D||!G)throw new Error("Unable to get document size");var q=Math.max(Math.max(D.scrollWidth,G.scrollWidth),Math.max(D.offsetWidth,G.offsetWidth),Math.max(D.clientWidth,G.clientWidth)),we=Math.max(Math.max(D.scrollHeight,G.scrollHeight),Math.max(D.offsetHeight,G.offsetHeight),Math.max(D.clientHeight,G.clientHeight));return new c(0,0,q,we)},h=function(H){for(var D=[],G=0,q=H.length;G<q;){var we=H.charCodeAt(G++);if(we>=55296&&we<=56319&&G<q){var Ue=H.charCodeAt(G++);(Ue&64512)===56320?D.push(((we&1023)<<10)+(Ue&1023)+65536):(D.push(we),G--)}else D.push(we)}return D},m=function(){for(var H=[],D=0;D<arguments.length;D++)H[D]=arguments[D];if(String.fromCodePoint)return String.fromCodePoint.apply(String,H);var G=H.length;if(!G)return"";for(var q=[],we=-1,Ue="";++we<G;){var tt=H[we];tt<=65535?q.push(tt):(tt-=65536,q.push((tt>>10)+55296,tt%1024+56320)),(we+1===G||q.length>16384)&&(Ue+=String.fromCharCode.apply(String,q),q.length=0)}return Ue},A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=typeof Uint8Array>"u"?[]:new Uint8Array(256),x=0;x<A.length;x++)y[A.charCodeAt(x)]=x;for(var v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=typeof Uint8Array>"u"?[]:new Uint8Array(256),j=0;j<v.length;j++)b[v.charCodeAt(j)]=j;for(var E=function(H){var D=H.length*.75,G=H.length,q,we=0,Ue,tt,Nt,jt;H[H.length-1]==="="&&(D--,H[H.length-2]==="="&&D--);var Qt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(D):new Array(D),Kt=Array.isArray(Qt)?Qt:new Uint8Array(Qt);for(q=0;q<G;q+=4)Ue=b[H.charCodeAt(q)],tt=b[H.charCodeAt(q+1)],Nt=b[H.charCodeAt(q+2)],jt=b[H.charCodeAt(q+3)],Kt[we++]=Ue<<2|tt>>4,Kt[we++]=(tt&15)<<4|Nt>>2,Kt[we++]=(Nt&3)<<6|jt&63;return Qt},T=function(H){for(var D=H.length,G=[],q=0;q<D;q+=2)G.push(H[q+1]<<8|H[q]);return G},P=function(H){for(var D=H.length,G=[],q=0;q<D;q+=4)G.push(H[q+3]<<24|H[q+2]<<16|H[q+1]<<8|H[q]);return G},U=5,M=11,k=2,Q=M-U,z=65536>>U,O=1<<U,L=O-1,V=1024>>U,J=z+V,ce=J,ee=32,de=ce+ee,se=65536>>M,he=1<<Q,fe=he-1,ve=function(H,D,G){return H.slice?H.slice(D,G):new Uint16Array(Array.prototype.slice.call(H,D,G))},B=function(H,D,G){return H.slice?H.slice(D,G):new Uint32Array(Array.prototype.slice.call(H,D,G))},R=function(H,D){var G=E(H),q=Array.isArray(G)?P(G):new Uint32Array(G),we=Array.isArray(G)?T(G):new Uint16Array(G),Ue=24,tt=ve(we,Ue/2,q[4]/2),Nt=q[5]===2?ve(we,(Ue+q[4])/2):B(q,Math.ceil((Ue+q[4])/4));return new Y(q[0],q[1],q[2],q[3],tt,Nt)},Y=(function(){function H(D,G,q,we,Ue,tt){this.initialValue=D,this.errorValue=G,this.highStart=q,this.highValueIndex=we,this.index=Ue,this.data=tt}return H.prototype.get=function(D){var G;if(D>=0){if(D<55296||D>56319&&D<=65535)return G=this.index[D>>U],G=(G<<k)+(D&L),this.data[G];if(D<=65535)return G=this.index[z+(D-55296>>U)],G=(G<<k)+(D&L),this.data[G];if(D<this.highStart)return G=de-se+(D>>M),G=this.index[G],G+=D>>U&fe,G=this.index[G],G=(G<<k)+(D&L),this.data[G];if(D<=1114111)return this.data[this.highValueIndex]}return this.errorValue},H})(),ie="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ge=typeof Uint8Array>"u"?[]:new Uint8Array(256),ye=0;ye<ie.length;ye++)ge[ie.charCodeAt(ye)]=ye;var pe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Z=50,le=1,te=2,Ne=3,Fe=4,be=5,re=7,Ce=8,st=9,et=10,He=11,ct=12,_e=13,ke=14,Ze=15,Pe=16,ot=17,Ge=18,lt=19,Je=20,Me=21,Te=22,je=23,Ke=24,Le=25,rt=26,Oe=27,De=28,ut=29,_t=30,qt=31,Ft=32,gt=33,Zt=34,$t=35,rr=36,kr=37,Qr=38,dn=39,ja=40,rn=41,Vr=42,On=43,Gn=[9001,65288],Dn="!",Ct="",fr="",$e=R(pe),pt=[_t,rr],ft=[le,te,Ne,be],mt=[et,Ce],Re=[Oe,rt],Ee=ft.concat(mt),ht=[Qr,dn,ja,Zt,$t],nt=[Ze,_e],Et=function(H,D){D===void 0&&(D="strict");var G=[],q=[],we=[];return H.forEach(function(Ue,tt){var Nt=$e.get(Ue);if(Nt>Z?(we.push(!0),Nt-=Z):we.push(!1),["normal","auto","loose"].indexOf(D)!==-1&&[8208,8211,12316,12448].indexOf(Ue)!==-1)return q.push(tt),G.push(Pe);if(Nt===Fe||Nt===He){if(tt===0)return q.push(tt),G.push(_t);var jt=G[tt-1];return Ee.indexOf(jt)===-1?(q.push(q[tt-1]),G.push(jt)):(q.push(tt),G.push(_t))}if(q.push(tt),Nt===qt)return G.push(D==="strict"?Me:kr);if(Nt===Vr||Nt===ut)return G.push(_t);if(Nt===On)return Ue>=131072&&Ue<=196605||Ue>=196608&&Ue<=262141?G.push(kr):G.push(_t);G.push(Nt)}),[q,G,we]},Qe=function(H,D,G,q){var we=q[G];if(Array.isArray(H)?H.indexOf(we)!==-1:H===we)for(var Ue=G;Ue<=q.length;){Ue++;var tt=q[Ue];if(tt===D)return!0;if(tt!==et)break}if(we===et)for(var Ue=G;Ue>0;){Ue--;var Nt=q[Ue];if(Array.isArray(H)?H.indexOf(Nt)!==-1:H===Nt)for(var jt=G;jt<=q.length;){jt++;var tt=q[jt];if(tt===D)return!0;if(tt!==et)break}if(Nt!==et)break}return!1},bt=function(H,D){for(var G=H;G>=0;){var q=D[G];if(q===et)G--;else return q}return 0},It=function(H,D,G,q,we){if(G[q]===0)return Ct;var Ue=q-1;if(Array.isArray(we)&&we[Ue]===!0)return Ct;var tt=Ue-1,Nt=Ue+1,jt=D[Ue],Qt=tt>=0?D[tt]:0,Kt=D[Nt];if(jt===te&&Kt===Ne)return Ct;if(ft.indexOf(jt)!==-1)return Dn;if(ft.indexOf(Kt)!==-1||mt.indexOf(Kt)!==-1)return Ct;if(bt(Ue,D)===Ce)return fr;if($e.get(H[Ue])===He||(jt===Ft||jt===gt)&&$e.get(H[Nt])===He||jt===re||Kt===re||jt===st||[et,_e,Ze].indexOf(jt)===-1&&Kt===st||[ot,Ge,lt,Ke,De].indexOf(Kt)!==-1||bt(Ue,D)===Te||Qe(je,Te,Ue,D)||Qe([ot,Ge],Me,Ue,D)||Qe(ct,ct,Ue,D))return Ct;if(jt===et)return fr;if(jt===je||Kt===je)return Ct;if(Kt===Pe||jt===Pe)return fr;if([_e,Ze,Me].indexOf(Kt)!==-1||jt===ke||Qt===rr&&nt.indexOf(jt)!==-1||jt===De&&Kt===rr||Kt===Je||pt.indexOf(Kt)!==-1&&jt===Le||pt.indexOf(jt)!==-1&&Kt===Le||jt===Oe&&[kr,Ft,gt].indexOf(Kt)!==-1||[kr,Ft,gt].indexOf(jt)!==-1&&Kt===rt||pt.indexOf(jt)!==-1&&Re.indexOf(Kt)!==-1||Re.indexOf(jt)!==-1&&pt.indexOf(Kt)!==-1||[Oe,rt].indexOf(jt)!==-1&&(Kt===Le||[Te,Ze].indexOf(Kt)!==-1&&D[Nt+1]===Le)||[Te,Ze].indexOf(jt)!==-1&&Kt===Le||jt===Le&&[Le,De,Ke].indexOf(Kt)!==-1)return Ct;if([Le,De,Ke,ot,Ge].indexOf(Kt)!==-1)for(var er=Ue;er>=0;){var br=D[er];if(br===Le)return Ct;if([De,Ke].indexOf(br)!==-1)er--;else break}if([Oe,rt].indexOf(Kt)!==-1)for(var er=[ot,Ge].indexOf(jt)!==-1?tt:Ue;er>=0;){var br=D[er];if(br===Le)return Ct;if([De,Ke].indexOf(br)!==-1)er--;else break}if(Qr===jt&&[Qr,dn,Zt,$t].indexOf(Kt)!==-1||[dn,Zt].indexOf(jt)!==-1&&[dn,ja].indexOf(Kt)!==-1||[ja,$t].indexOf(jt)!==-1&&Kt===ja||ht.indexOf(jt)!==-1&&[Je,rt].indexOf(Kt)!==-1||ht.indexOf(Kt)!==-1&&jt===Oe||pt.indexOf(jt)!==-1&&pt.indexOf(Kt)!==-1||jt===Ke&&pt.indexOf(Kt)!==-1||pt.concat(Le).indexOf(jt)!==-1&&Kt===Te&&Gn.indexOf(H[Nt])===-1||pt.concat(Le).indexOf(Kt)!==-1&&jt===Ge)return Ct;if(jt===rn&&Kt===rn){for(var Gr=G[Ue],zr=1;Gr>0&&(Gr--,D[Gr]===rn);)zr++;if(zr%2!==0)return Ct}return jt===Ft&&Kt===gt?Ct:fr},nr=function(H,D){D||(D={lineBreak:"normal",wordBreak:"normal"});var G=Et(H,D.lineBreak),q=G[0],we=G[1],Ue=G[2];(D.wordBreak==="break-all"||D.wordBreak==="break-word")&&(we=we.map(function(Nt){return[Le,_t,Vr].indexOf(Nt)!==-1?kr:Nt}));var tt=D.wordBreak==="keep-all"?Ue.map(function(Nt,jt){return Nt&&H[jt]>=19968&&H[jt]<=40959}):void 0;return[q,we,tt]},tr=(function(){function H(D,G,q,we){this.codePoints=D,this.required=G===Dn,this.start=q,this.end=we}return H.prototype.slice=function(){return m.apply(void 0,this.codePoints.slice(this.start,this.end))},H})(),vr=function(H,D){var G=h(H),q=nr(G,D),we=q[0],Ue=q[1],tt=q[2],Nt=G.length,jt=0,Qt=0;return{next:function(){if(Qt>=Nt)return{done:!0,value:null};for(var Kt=Ct;Qt<Nt&&(Kt=It(G,Ue,we,++Qt,tt))===Ct;);if(Kt!==Ct||Qt===Nt){var er=new tr(G,Kt,jt,Qt);return jt=Qt,{value:er,done:!1}}return{done:!0,value:null}}}},yr=1,Yr=2,zn=4,Hn=8,xa=10,Ai=47,Ya=92,mi=9,Ro=32,po=34,pi=61,Qs=35,Qa=36,Pu=37,Ac=39,ao=40,nl=41,bs=95,Is=45,Zn=33,mc=60,sd=62,Lu=64,Rc=91,pl=93,iu=61,Ul=123,zi=63,Ou=125,id=124,Ud=126,pc=128,gc=65533,go=42,Vi=43,Ki=44,gl=58,Rl=59,Dr=46,Rd=0,ff=8,Qo=11,xl=14,Ho=31,xo=127,oi=-1,od=48,xc=97,Du=101,_a=102,va=117,vl=122,so=65,vo=69,Ql=70,$o=85,ou=90,ks=function(H){return H>=od&&H<=57},Qc=function(H){return H>=55296&&H<=57343},Xa=function(H){return ks(H)||H>=so&&H<=Ql||H>=xc&&H<=_a},Ci=function(H){return H>=xc&&H<=vl},io=function(H){return H>=so&&H<=ou},Qd=function(H){return Ci(H)||io(H)},yo=function(H){return H>=pc},Ja=function(H){return H===xa||H===mi||H===Ro},yl=function(H){return Qd(H)||yo(H)||H===bs},vc=function(H){return yl(H)||ks(H)||H===Is},lu=function(H){return H>=Rd&&H<=ff||H===Qo||H>=xl&&H<=Ho||H===xo},Co=function(H,D){return H!==Ya?!1:D!==xa},Ae=function(H,D,G){return H===Is?yl(D)||Co(D,G):yl(H)?!0:!!(H===Ya&&Co(H,D))},We=function(H,D,G){return H===Vi||H===Is?ks(D)?!0:D===Dr&&ks(G):ks(H===Dr?D:H)},St=function(H){var D=0,G=1;(H[D]===Vi||H[D]===Is)&&(H[D]===Is&&(G=-1),D++);for(var q=[];ks(H[D]);)q.push(H[D++]);var we=q.length?parseInt(m.apply(void 0,q),10):0;H[D]===Dr&&D++;for(var Ue=[];ks(H[D]);)Ue.push(H[D++]);var tt=Ue.length,Nt=tt?parseInt(m.apply(void 0,Ue),10):0;(H[D]===vo||H[D]===Du)&&D++;var jt=1;(H[D]===Vi||H[D]===Is)&&(H[D]===Is&&(jt=-1),D++);for(var Qt=[];ks(H[D]);)Qt.push(H[D++]);var Kt=Qt.length?parseInt(m.apply(void 0,Qt),10):0;return G*(we+Nt*Math.pow(10,-tt))*Math.pow(10,jt*Kt)},Mt={type:2},Vt={type:3},wr={type:4},Er={type:13},tn={type:8},gn={type:21},kn={type:9},nn={type:10},ia={type:11},ts={type:12},Ws={type:14},ae={type:23},qe={type:1},Bt={type:25},Ot={type:24},Gt={type:26},hr={type:27},Br={type:28},Xr={type:29},An={type:31},Pn={type:32},_n=(function(){function H(){this._value=[]}return H.prototype.write=function(D){this._value=this._value.concat(h(D))},H.prototype.read=function(){for(var D=[],G=this.consumeToken();G!==Pn;)D.push(G),G=this.consumeToken();return D},H.prototype.consumeToken=function(){var D=this.consumeCodePoint();switch(D){case po:return this.consumeStringToken(po);case Qs:var G=this.peekCodePoint(0),q=this.peekCodePoint(1),we=this.peekCodePoint(2);if(vc(G)||Co(q,we)){var Ue=Ae(G,q,we)?Yr:yr,tt=this.consumeName();return{type:5,value:tt,flags:Ue}}break;case Qa:if(this.peekCodePoint(0)===pi)return this.consumeCodePoint(),Er;break;case Ac:return this.consumeStringToken(Ac);case ao:return Mt;case nl:return Vt;case go:if(this.peekCodePoint(0)===pi)return this.consumeCodePoint(),Ws;break;case Vi:if(We(D,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(D),this.consumeNumericToken();break;case Ki:return wr;case Is:var Nt=D,jt=this.peekCodePoint(0),Qt=this.peekCodePoint(1);if(We(Nt,jt,Qt))return this.reconsumeCodePoint(D),this.consumeNumericToken();if(Ae(Nt,jt,Qt))return this.reconsumeCodePoint(D),this.consumeIdentLikeToken();if(jt===Is&&Qt===sd)return this.consumeCodePoint(),this.consumeCodePoint(),Ot;break;case Dr:if(We(D,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(D),this.consumeNumericToken();break;case Ai:if(this.peekCodePoint(0)===go)for(this.consumeCodePoint();;){var Kt=this.consumeCodePoint();if(Kt===go&&(Kt=this.consumeCodePoint(),Kt===Ai))return this.consumeToken();if(Kt===oi)return this.consumeToken()}break;case gl:return Gt;case Rl:return hr;case mc:if(this.peekCodePoint(0)===Zn&&this.peekCodePoint(1)===Is&&this.peekCodePoint(2)===Is)return this.consumeCodePoint(),this.consumeCodePoint(),Bt;break;case Lu:var er=this.peekCodePoint(0),br=this.peekCodePoint(1),Gr=this.peekCodePoint(2);if(Ae(er,br,Gr)){var tt=this.consumeName();return{type:7,value:tt}}break;case Rc:return Br;case Ya:if(Co(D,this.peekCodePoint(0)))return this.reconsumeCodePoint(D),this.consumeIdentLikeToken();break;case pl:return Xr;case iu:if(this.peekCodePoint(0)===pi)return this.consumeCodePoint(),tn;break;case Ul:return ia;case Ou:return ts;case va:case $o:var zr=this.peekCodePoint(0),Kr=this.peekCodePoint(1);return zr===Vi&&(Xa(Kr)||Kr===zi)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(D),this.consumeIdentLikeToken();case id:if(this.peekCodePoint(0)===pi)return this.consumeCodePoint(),kn;if(this.peekCodePoint(0)===id)return this.consumeCodePoint(),gn;break;case Ud:if(this.peekCodePoint(0)===pi)return this.consumeCodePoint(),nn;break;case oi:return Pn}return Ja(D)?(this.consumeWhiteSpace(),An):ks(D)?(this.reconsumeCodePoint(D),this.consumeNumericToken()):yl(D)?(this.reconsumeCodePoint(D),this.consumeIdentLikeToken()):{type:6,value:m(D)}},H.prototype.consumeCodePoint=function(){var D=this._value.shift();return typeof D>"u"?-1:D},H.prototype.reconsumeCodePoint=function(D){this._value.unshift(D)},H.prototype.peekCodePoint=function(D){return D>=this._value.length?-1:this._value[D]},H.prototype.consumeUnicodeRangeToken=function(){for(var D=[],G=this.consumeCodePoint();Xa(G)&&D.length<6;)D.push(G),G=this.consumeCodePoint();for(var q=!1;G===zi&&D.length<6;)D.push(G),G=this.consumeCodePoint(),q=!0;if(q){var we=parseInt(m.apply(void 0,D.map(function(jt){return jt===zi?od:jt})),16),Ue=parseInt(m.apply(void 0,D.map(function(jt){return jt===zi?Ql:jt})),16);return{type:30,start:we,end:Ue}}var tt=parseInt(m.apply(void 0,D),16);if(this.peekCodePoint(0)===Is&&Xa(this.peekCodePoint(1))){this.consumeCodePoint(),G=this.consumeCodePoint();for(var Nt=[];Xa(G)&&Nt.length<6;)Nt.push(G),G=this.consumeCodePoint();var Ue=parseInt(m.apply(void 0,Nt),16);return{type:30,start:tt,end:Ue}}else return{type:30,start:tt,end:tt}},H.prototype.consumeIdentLikeToken=function(){var D=this.consumeName();return D.toLowerCase()==="url"&&this.peekCodePoint(0)===ao?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===ao?(this.consumeCodePoint(),{type:19,value:D}):{type:20,value:D}},H.prototype.consumeUrlToken=function(){var D=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===oi)return{type:22,value:""};var G=this.peekCodePoint(0);if(G===Ac||G===po){var q=this.consumeStringToken(this.consumeCodePoint());return q.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===oi||this.peekCodePoint(0)===nl)?(this.consumeCodePoint(),{type:22,value:q.value}):(this.consumeBadUrlRemnants(),ae)}for(;;){var we=this.consumeCodePoint();if(we===oi||we===nl)return{type:22,value:m.apply(void 0,D)};if(Ja(we))return this.consumeWhiteSpace(),this.peekCodePoint(0)===oi||this.peekCodePoint(0)===nl?(this.consumeCodePoint(),{type:22,value:m.apply(void 0,D)}):(this.consumeBadUrlRemnants(),ae);if(we===po||we===Ac||we===ao||lu(we))return this.consumeBadUrlRemnants(),ae;if(we===Ya)if(Co(we,this.peekCodePoint(0)))D.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),ae;else D.push(we)}},H.prototype.consumeWhiteSpace=function(){for(;Ja(this.peekCodePoint(0));)this.consumeCodePoint()},H.prototype.consumeBadUrlRemnants=function(){for(;;){var D=this.consumeCodePoint();if(D===nl||D===oi)return;Co(D,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},H.prototype.consumeStringSlice=function(D){for(var G=5e4,q="";D>0;){var we=Math.min(G,D);q+=m.apply(void 0,this._value.splice(0,we)),D-=we}return this._value.shift(),q},H.prototype.consumeStringToken=function(D){var G="",q=0;do{var we=this._value[q];if(we===oi||we===void 0||we===D)return G+=this.consumeStringSlice(q),{type:0,value:G};if(we===xa)return this._value.splice(0,q),qe;if(we===Ya){var Ue=this._value[q+1];Ue!==oi&&Ue!==void 0&&(Ue===xa?(G+=this.consumeStringSlice(q),q=-1,this._value.shift()):Co(we,Ue)&&(G+=this.consumeStringSlice(q),G+=m(this.consumeEscapedCodePoint()),q=-1))}q++}while(!0)},H.prototype.consumeNumber=function(){var D=[],G=zn,q=this.peekCodePoint(0);for((q===Vi||q===Is)&&D.push(this.consumeCodePoint());ks(this.peekCodePoint(0));)D.push(this.consumeCodePoint());q=this.peekCodePoint(0);var we=this.peekCodePoint(1);if(q===Dr&&ks(we))for(D.push(this.consumeCodePoint(),this.consumeCodePoint()),G=Hn;ks(this.peekCodePoint(0));)D.push(this.consumeCodePoint());q=this.peekCodePoint(0),we=this.peekCodePoint(1);var Ue=this.peekCodePoint(2);if((q===vo||q===Du)&&((we===Vi||we===Is)&&ks(Ue)||ks(we)))for(D.push(this.consumeCodePoint(),this.consumeCodePoint()),G=Hn;ks(this.peekCodePoint(0));)D.push(this.consumeCodePoint());return[St(D),G]},H.prototype.consumeNumericToken=function(){var D=this.consumeNumber(),G=D[0],q=D[1],we=this.peekCodePoint(0),Ue=this.peekCodePoint(1),tt=this.peekCodePoint(2);if(Ae(we,Ue,tt)){var Nt=this.consumeName();return{type:15,number:G,flags:q,unit:Nt}}return we===Pu?(this.consumeCodePoint(),{type:16,number:G,flags:q}):{type:17,number:G,flags:q}},H.prototype.consumeEscapedCodePoint=function(){var D=this.consumeCodePoint();if(Xa(D)){for(var G=m(D);Xa(this.peekCodePoint(0))&&G.length<6;)G+=m(this.consumeCodePoint());Ja(this.peekCodePoint(0))&&this.consumeCodePoint();var q=parseInt(G,16);return q===0||Qc(q)||q>1114111?gc:q}return D===oi?gc:D},H.prototype.consumeName=function(){for(var D="";;){var G=this.consumeCodePoint();if(vc(G))D+=m(G);else if(Co(G,this.peekCodePoint(0)))D+=m(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(G),D}},H})(),na=(function(){function H(D){this._tokens=D}return H.create=function(D){var G=new _n;return G.write(D),new H(G.read())},H.parseValue=function(D){return H.create(D).parseComponentValue()},H.parseValues=function(D){return H.create(D).parseComponentValues()},H.prototype.parseComponentValue=function(){for(var D=this.consumeToken();D.type===31;)D=this.consumeToken();if(D.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(D);var G=this.consumeComponentValue();do D=this.consumeToken();while(D.type===31);if(D.type===32)return G;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},H.prototype.parseComponentValues=function(){for(var D=[];;){var G=this.consumeComponentValue();if(G.type===32)return D;D.push(G),D.push()}},H.prototype.consumeComponentValue=function(){var D=this.consumeToken();switch(D.type){case 11:case 28:case 2:return this.consumeSimpleBlock(D.type);case 19:return this.consumeFunction(D)}return D},H.prototype.consumeSimpleBlock=function(D){for(var G={type:D,values:[]},q=this.consumeToken();;){if(q.type===32||bl(q,D))return G;this.reconsumeToken(q),G.values.push(this.consumeComponentValue()),q=this.consumeToken()}},H.prototype.consumeFunction=function(D){for(var G={name:D.value,values:[],type:18};;){var q=this.consumeToken();if(q.type===32||q.type===3)return G;this.reconsumeToken(q),G.values.push(this.consumeComponentValue())}},H.prototype.consumeToken=function(){var D=this._tokens.shift();return typeof D>"u"?Pn:D},H.prototype.reconsumeToken=function(D){this._tokens.unshift(D)},H})(),Ha=function(H){return H.type===15},oa=function(H){return H.type===17},En=function(H){return H.type===20},As=function(H){return H.type===0},Ys=function(H,D){return En(H)&&H.value===D},Eo=function(H){return H.type!==31},Mn=function(H){return H.type!==31&&H.type!==4},us=function(H){var D=[],G=[];return H.forEach(function(q){if(q.type===4){if(G.length===0)throw new Error("Error parsing function args, zero tokens for arg");D.push(G),G=[];return}q.type!==31&&G.push(q)}),G.length&&D.push(G),D},bl=function(H,D){return D===11&&H.type===12||D===28&&H.type===29?!0:D===2&&H.type===3},qi=function(H){return H.type===17||H.type===15},ya=function(H){return H.type===16||qi(H)},Hl=function(H){return H.length>1?[H[0],H[1]]:[H[0]]},vs={type:17,number:0,flags:zn},yc={type:16,number:50,flags:zn},Ei={type:16,number:100,flags:zn},ms=function(H,D,G){var q=H[0],we=H[1];return[$n(q,D),$n(typeof we<"u"?we:q,G)]},$n=function(H,D){if(H.type===16)return H.number/100*D;if(Ha(H))switch(H.unit){case"rem":case"em":return 16*H.number;case"px":default:return H.number}return H.number},Gi="deg",al="grad",Bo="rad",li="turn",To={name:"angle",parse:function(H,D){if(D.type===15)switch(D.unit){case Gi:return Math.PI*D.number/180;case al:return Math.PI/200*D.number;case Bo:return D.number;case li:return Math.PI*2*D.number}throw new Error("Unsupported angle type")}},wl=function(H){return H.type===15&&(H.unit===Gi||H.unit===al||H.unit===Bo||H.unit===li)},Hs=function(H){var D=H.filter(En).map(function(G){return G.value}).join(" ");switch(D){case"to bottom right":case"to right bottom":case"left top":case"top left":return[vs,vs];case"to top":case"bottom":return Ps(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[vs,Ei];case"to right":case"left":return Ps(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ei,Ei];case"to bottom":case"top":return Ps(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ei,vs];case"to left":case"right":return Ps(270)}return 0},Ps=function(H){return Math.PI*H/180},Ka={name:"color",parse:function(H,D){if(D.type===18){var G=Ti[D.name];if(typeof G>"u")throw new Error('Attempting to parse an unsupported color function "'+D.name+'"');return G(H,D.values)}if(D.type===5){if(D.value.length===3){var q=D.value.substring(0,1),we=D.value.substring(1,2),Ue=D.value.substring(2,3);return Bi(parseInt(q+q,16),parseInt(we+we,16),parseInt(Ue+Ue,16),1)}if(D.value.length===4){var q=D.value.substring(0,1),we=D.value.substring(1,2),Ue=D.value.substring(2,3),tt=D.value.substring(3,4);return Bi(parseInt(q+q,16),parseInt(we+we,16),parseInt(Ue+Ue,16),parseInt(tt+tt,16)/255)}if(D.value.length===6){var q=D.value.substring(0,2),we=D.value.substring(2,4),Ue=D.value.substring(4,6);return Bi(parseInt(q,16),parseInt(we,16),parseInt(Ue,16),1)}if(D.value.length===8){var q=D.value.substring(0,2),we=D.value.substring(2,4),Ue=D.value.substring(4,6),tt=D.value.substring(6,8);return Bi(parseInt(q,16),parseInt(we,16),parseInt(Ue,16),parseInt(tt,16)/255)}}if(D.type===20){var Nt=Rt[D.value.toUpperCase()];if(typeof Nt<"u")return Nt}return Rt.TRANSPARENT}},ps=function(H){return(255&H)===0},Pa=function(H){var D=255&H,G=255&H>>8,q=255&H>>16,we=255&H>>24;return D<255?"rgba("+we+","+q+","+G+","+D/255+")":"rgb("+we+","+q+","+G+")"},Bi=function(H,D,G,q){return(H<<24|D<<16|G<<8|Math.round(q*255)<<0)>>>0},$l=function(H,D){if(H.type===17)return H.number;if(H.type===16){var G=D===3?1:255;return D===3?H.number/100*G:Math.round(H.number/100*G)}return 0},Wi=function(H,D){var G=D.filter(Mn);if(G.length===3){var q=G.map($l),we=q[0],Ue=q[1],tt=q[2];return Bi(we,Ue,tt,1)}if(G.length===4){var Nt=G.map($l),we=Nt[0],Ue=Nt[1],tt=Nt[2],jt=Nt[3];return Bi(we,Ue,tt,jt)}return 0};function Ls(H,D,G){return G<0&&(G+=1),G>=1&&(G-=1),G<1/6?(D-H)*G*6+H:G<1/2?D:G<2/3?(D-H)*6*(2/3-G)+H:H}var zo=function(H,D){var G=D.filter(Mn),q=G[0],we=G[1],Ue=G[2],tt=G[3],Nt=(q.type===17?Ps(q.number):To.parse(H,q))/(Math.PI*2),jt=ya(we)?we.number/100:0,Qt=ya(Ue)?Ue.number/100:0,Kt=typeof tt<"u"&&ya(tt)?$n(tt,1):1;if(jt===0)return Bi(Qt*255,Qt*255,Qt*255,1);var er=Qt<=.5?Qt*(jt+1):Qt+jt-Qt*jt,br=Qt*2-er,Gr=Ls(br,er,Nt+1/3),zr=Ls(br,er,Nt),Kr=Ls(br,er,Nt-1/3);return Bi(Gr*255,zr*255,Kr*255,Kt)},Ti={hsl:zo,hsla:zo,rgb:Wi,rgba:Wi},Os=function(H,D){return Ka.parse(H,na.create(D).parseComponentValue())},Rt={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Ar={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(H,D){return D.map(function(G){if(En(G))switch(G.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Wt={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Hr=function(H,D){var G=Ka.parse(H,D[0]),q=D[1];return q&&ya(q)?{color:G,stop:q}:{color:G,stop:null}},Rr=function(H,D){var G=H[0],q=H[H.length-1];G.stop===null&&(G.stop=vs),q.stop===null&&(q.stop=Ei);for(var we=[],Ue=0,tt=0;tt<H.length;tt++){var Nt=H[tt].stop;if(Nt!==null){var jt=$n(Nt,D);jt>Ue?we.push(jt):we.push(Ue),Ue=jt}else we.push(null)}for(var Qt=null,tt=0;tt<we.length;tt++){var Kt=we[tt];if(Kt===null)Qt===null&&(Qt=tt);else if(Qt!==null){for(var er=tt-Qt,br=we[Qt-1],Gr=(Kt-br)/(er+1),zr=1;zr<=er;zr++)we[Qt+zr-1]=Gr*zr;Qt=null}}return H.map(function(Kr,Fa){var jn=Kr.color;return{color:jn,stop:Math.max(Math.min(1,we[Fa]/D),0)}})},cn=function(H,D,G){var q=D/2,we=G/2,Ue=$n(H[0],D)-q,tt=we-$n(H[1],G);return(Math.atan2(tt,Ue)+Math.PI*2)%(Math.PI*2)},ea=function(H,D,G){var q=typeof H=="number"?H:cn(H,D,G),we=Math.abs(D*Math.sin(q))+Math.abs(G*Math.cos(q)),Ue=D/2,tt=G/2,Nt=we/2,jt=Math.sin(q-Math.PI/2)*Nt,Qt=Math.cos(q-Math.PI/2)*Nt;return[we,Ue-Qt,Ue+Qt,tt-jt,tt+jt]},xn=function(H,D){return Math.sqrt(H*H+D*D)},_o=function(H,D,G,q,we){var Ue=[[0,0],[0,D],[H,0],[H,D]];return Ue.reduce(function(tt,Nt){var jt=Nt[0],Qt=Nt[1],Kt=xn(G-jt,q-Qt);return(we?Kt<tt.optimumDistance:Kt>tt.optimumDistance)?{optimumCorner:Nt,optimumDistance:Kt}:tt},{optimumDistance:we?1/0:-1/0,optimumCorner:null}).optimumCorner},bc=function(H,D,G,q,we){var Ue=0,tt=0;switch(H.size){case 0:H.shape===0?Ue=tt=Math.min(Math.abs(D),Math.abs(D-q),Math.abs(G),Math.abs(G-we)):H.shape===1&&(Ue=Math.min(Math.abs(D),Math.abs(D-q)),tt=Math.min(Math.abs(G),Math.abs(G-we)));break;case 2:if(H.shape===0)Ue=tt=Math.min(xn(D,G),xn(D,G-we),xn(D-q,G),xn(D-q,G-we));else if(H.shape===1){var Nt=Math.min(Math.abs(G),Math.abs(G-we))/Math.min(Math.abs(D),Math.abs(D-q)),jt=_o(q,we,D,G,!0),Qt=jt[0],Kt=jt[1];Ue=xn(Qt-D,(Kt-G)/Nt),tt=Nt*Ue}break;case 1:H.shape===0?Ue=tt=Math.max(Math.abs(D),Math.abs(D-q),Math.abs(G),Math.abs(G-we)):H.shape===1&&(Ue=Math.max(Math.abs(D),Math.abs(D-q)),tt=Math.max(Math.abs(G),Math.abs(G-we)));break;case 3:if(H.shape===0)Ue=tt=Math.max(xn(D,G),xn(D,G-we),xn(D-q,G),xn(D-q,G-we));else if(H.shape===1){var Nt=Math.max(Math.abs(G),Math.abs(G-we))/Math.max(Math.abs(D),Math.abs(D-q)),er=_o(q,we,D,G,!1),Qt=er[0],Kt=er[1];Ue=xn(Qt-D,(Kt-G)/Nt),tt=Nt*Ue}break}return Array.isArray(H.size)&&(Ue=$n(H.size[0],q),tt=H.size.length===2?$n(H.size[1],we):Ue),[Ue,tt]},Xs=function(H,D){var G=Ps(180),q=[];return us(D).forEach(function(we,Ue){if(Ue===0){var tt=we[0];if(tt.type===20&&tt.value==="to"){G=Hs(we);return}else if(wl(tt)){G=To.parse(H,tt);return}}var Nt=Hr(H,we);q.push(Nt)}),{angle:G,stops:q,type:1}},Fo=function(H,D){var G=Ps(180),q=[];return us(D).forEach(function(we,Ue){if(Ue===0){var tt=we[0];if(tt.type===20&&["top","left","right","bottom"].indexOf(tt.value)!==-1){G=Hs(we);return}else if(wl(tt)){G=(To.parse(H,tt)+Ps(270))%Ps(360);return}}var Nt=Hr(H,we);q.push(Nt)}),{angle:G,stops:q,type:1}},ld=function(H,D){var G=Ps(180),q=[],we=1,Ue=0,tt=3,Nt=[];return us(D).forEach(function(jt,Qt){var Kt=jt[0];if(Qt===0){if(En(Kt)&&Kt.value==="linear"){we=1;return}else if(En(Kt)&&Kt.value==="radial"){we=2;return}}if(Kt.type===18){if(Kt.name==="from"){var er=Ka.parse(H,Kt.values[0]);q.push({stop:vs,color:er})}else if(Kt.name==="to"){var er=Ka.parse(H,Kt.values[0]);q.push({stop:Ei,color:er})}else if(Kt.name==="color-stop"){var br=Kt.values.filter(Mn);if(br.length===2){var er=Ka.parse(H,br[1]),Gr=br[0];oa(Gr)&&q.push({stop:{type:16,number:Gr.number*100,flags:Gr.flags},color:er})}}}}),we===1?{angle:(G+Ps(180))%Ps(360),stops:q,type:we}:{size:tt,shape:Ue,stops:q,position:Nt,type:we}},zl="closest-side",Vl="farthest-side",Nl="closest-corner",ka="farthest-corner",Js="circle",oo="ellipse",ca="cover",Sa="contain",ws=function(H,D){var G=0,q=3,we=[],Ue=[];return us(D).forEach(function(tt,Nt){var jt=!0;if(Nt===0){var Qt=!1;jt=tt.reduce(function(er,br){if(Qt)if(En(br))switch(br.value){case"center":return Ue.push(yc),er;case"top":case"left":return Ue.push(vs),er;case"right":case"bottom":return Ue.push(Ei),er}else(ya(br)||qi(br))&&Ue.push(br);else if(En(br))switch(br.value){case Js:return G=0,!1;case oo:return G=1,!1;case"at":return Qt=!0,!1;case zl:return q=0,!1;case ca:case Vl:return q=1,!1;case Sa:case Nl:return q=2,!1;case ka:return q=3,!1}else if(qi(br)||ya(br))return Array.isArray(q)||(q=[]),q.push(br),!1;return er},jt)}if(jt){var Kt=Hr(H,tt);we.push(Kt)}}),{size:q,shape:G,stops:we,position:Ue,type:2}},$s=function(H,D){var G=0,q=3,we=[],Ue=[];return us(D).forEach(function(tt,Nt){var jt=!0;if(Nt===0?jt=tt.reduce(function(Kt,er){if(En(er))switch(er.value){case"center":return Ue.push(yc),!1;case"top":case"left":return Ue.push(vs),!1;case"right":case"bottom":return Ue.push(Ei),!1}else if(ya(er)||qi(er))return Ue.push(er),!1;return Kt},jt):Nt===1&&(jt=tt.reduce(function(Kt,er){if(En(er))switch(er.value){case Js:return G=0,!1;case oo:return G=1,!1;case Sa:case zl:return q=0,!1;case Vl:return q=1,!1;case Nl:return q=2,!1;case ca:case ka:return q=3,!1}else if(qi(er)||ya(er))return Array.isArray(q)||(q=[]),q.push(er),!1;return Kt},jt)),jt){var Qt=Hr(H,tt);we.push(Qt)}}),{size:q,shape:G,stops:we,position:Ue,type:2}},Vo=function(H){return H.type===1},Ko=function(H){return H.type===2},jl={name:"image",parse:function(H,D){if(D.type===22){var G={url:D.value,type:0};return H.cache.addImage(D.value),G}if(D.type===18){var q=cu[D.name];if(typeof q>"u")throw new Error('Attempting to parse an unsupported image function "'+D.name+'"');return q(H,D.values)}throw new Error("Unsupported image type "+D.type)}};function Hc(H){return!(H.type===20&&H.value==="none")&&(H.type!==18||!!cu[H.name])}var cu={"linear-gradient":Xs,"-moz-linear-gradient":Fo,"-ms-linear-gradient":Fo,"-o-linear-gradient":Fo,"-webkit-linear-gradient":Fo,"radial-gradient":ws,"-moz-radial-gradient":$s,"-ms-radial-gradient":$s,"-o-radial-gradient":$s,"-webkit-radial-gradient":$s,"-webkit-gradient":ld},$c={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(H,D){if(D.length===0)return[];var G=D[0];return G.type===20&&G.value==="none"?[]:D.filter(function(q){return Mn(q)&&Hc(q)}).map(function(q){return jl.parse(H,q)})}},is={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(H,D){return D.map(function(G){if(En(G))switch(G.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ds={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(H,D){return us(D).map(function(G){return G.filter(ya)}).map(Hl)}},Yi={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(H,D){return us(D).map(function(G){return G.filter(En).map(function(q){return q.value}).join(" ")}).map(Kl)}},Kl=function(H){switch(H){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},gi;(function(H){H.AUTO="auto",H.CONTAIN="contain",H.COVER="cover"})(gi||(gi={}));var zc={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(H,D){return us(D).map(function(G){return G.filter(uu)})}},uu=function(H){return En(H)||ya(H)},Sl=function(H){return{name:"border-"+H+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},zf=Sl("top"),du=Sl("right"),ql=Sl("bottom"),Cl=Sl("left"),Vc=function(H){return{name:"border-radius-"+H,initialValue:"0 0",prefix:!1,type:1,parse:function(D,G){return Hl(G.filter(ya))}}},Vf=Vc("top-left"),wc=Vc("top-right"),El=Vc("bottom-right"),zs=Vc("bottom-left"),Ns=function(H){return{name:"border-"+H+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(D,G){switch(G){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Mu=Ns("top"),Hd=Ns("right"),AA=Ns("bottom"),$d=Ns("left"),Nc=function(H){return{name:"border-"+H+"-width",initialValue:"0",type:0,prefix:!1,parse:function(D,G){return Ha(G)?G.number:0}}},js=Nc("top"),Zs=Nc("right"),La=Nc("bottom"),Gl=Nc("left"),Bl={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},hf={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(H,D){switch(D){case"rtl":return 1;case"ltr":default:return 0}}},jc={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(H,D){return D.filter(En).reduce(function(G,q){return G|im(q.value)},0)}},im=function(H){switch(H){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},qo={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(H,D){switch(D){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Vs={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(H,D){return D.type===20&&D.value==="normal"?0:D.type===17||D.type===15?D.number:0}},ei;(function(H){H.NORMAL="normal",H.STRICT="strict"})(ei||(ei={}));var om={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(H,D){switch(D){case"strict":return ei.STRICT;case"normal":default:return ei.NORMAL}}},fu={name:"line-height",initialValue:"normal",prefix:!1,type:4},xi=function(H,D){return En(H)&&H.value==="normal"?1.2*D:H.type===17?D*H.number:ya(H)?$n(H,D):D},ds={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(H,D){return D.type===20&&D.value==="none"?null:jl.parse(H,D)}},dt={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(H,D){switch(D){case"inside":return 0;case"outside":default:return 1}}},sl={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(H,D){switch(D){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Io=function(H){return{name:"margin-"+H,initialValue:"0",prefix:!1,type:4}},Go=Io("top"),ba=Io("right"),zd=Io("bottom"),Bh=Io("left"),Wl={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(H,D){return D.filter(En).map(function(G){switch(G.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},ys={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(H,D){switch(D){case"break-word":return"break-word";case"normal":default:return"normal"}}},il=function(H){return{name:"padding-"+H,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Af=il("top"),t0=il("right"),mA=il("bottom"),r0=il("left"),Ss={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(H,D){switch(D){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},pA={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(H,D){switch(D){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Kf={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(H,D){return D.length===1&&Ys(D[0],"none")?[]:us(D).map(function(G){for(var q={color:Rt.TRANSPARENT,offsetX:vs,offsetY:vs,blur:vs},we=0,Ue=0;Ue<G.length;Ue++){var tt=G[Ue];qi(tt)?(we===0?q.offsetX=tt:we===1?q.offsetY=tt:q.blur=tt,we++):q.color=Ka.parse(H,tt)}return q})}},qf={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(H,D){switch(D){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},gA={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(H,D){if(D.type===20&&D.value==="none")return null;if(D.type===18){var G=n0[D.name];if(typeof G>"u")throw new Error('Attempting to parse an unsupported transform function "'+D.name+'"');return G(D.values)}return null}},cd=function(H){var D=H.filter(function(G){return G.type===17}).map(function(G){return G.number});return D.length===6?D:null},Xi=function(H){var D=H.filter(function(jt){return jt.type===17}).map(function(jt){return jt.number}),G=D[0],q=D[1];D[2],D[3];var we=D[4],Ue=D[5];D[6],D[7],D[8],D[9],D[10],D[11];var tt=D[12],Nt=D[13];return D[14],D[15],D.length===16?[G,q,we,Ue,tt,Nt]:null},n0={matrix:cd,matrix3d:Xi},xA={type:16,number:50,flags:zn},vA=[xA,xA],g={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(H,D){var G=D.filter(ya);return G.length!==2?vA:[G[0],G[1]]}},S={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(H,D){switch(D){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},I;(function(H){H.NORMAL="normal",H.BREAK_ALL="break-all",H.KEEP_ALL="keep-all"})(I||(I={}));for(var K={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(H,D){switch(D){case"break-all":return I.BREAK_ALL;case"keep-all":return I.KEEP_ALL;case"normal":default:return I.NORMAL}}},ne={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(H,D){if(D.type===20)return{auto:!0,order:0};if(oa(D))return{auto:!1,order:D.number};throw new Error("Invalid z-index number parsed")}},ue={name:"time",parse:function(H,D){if(D.type===15)switch(D.unit.toLowerCase()){case"s":return 1e3*D.number;case"ms":return D.number}throw new Error("Unsupported time type")}},me={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(H,D){return oa(D)?D.number:1}},xe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Se={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(H,D){return D.filter(En).map(function(G){switch(G.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(G){return G!==0})}},Ie={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(H,D){var G=[],q=[];return D.forEach(function(we){switch(we.type){case 20:case 0:G.push(we.value);break;case 17:G.push(we.number.toString());break;case 4:q.push(G.join(" ")),G.length=0;break}}),G.length&&q.push(G.join(" ")),q.map(function(we){return we.indexOf(" ")===-1?we:"'"+we+"'"})}},Xe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},vt={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(H,D){if(oa(D))return D.number;if(En(D))switch(D.value){case"bold":return 700;case"normal":default:return 400}return 400}},Ve={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(H,D){return D.filter(En).map(function(G){return G.value})}},at={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(H,D){switch(D){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},wt=function(H,D){return(H&D)!==0},Tt={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(H,D){if(D.length===0)return[];var G=D[0];return G.type===20&&G.value==="none"?[]:D}},it={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(H,D){if(D.length===0)return null;var G=D[0];if(G.type===20&&G.value==="none")return null;for(var q=[],we=D.filter(Eo),Ue=0;Ue<we.length;Ue++){var tt=we[Ue],Nt=we[Ue+1];if(tt.type===20){var jt=Nt&&oa(Nt)?Nt.number:1;q.push({counter:tt.value,increment:jt})}}return q}},xt={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(H,D){if(D.length===0)return[];for(var G=[],q=D.filter(Eo),we=0;we<q.length;we++){var Ue=q[we],tt=q[we+1];if(En(Ue)&&Ue.value!=="none"){var Nt=tt&&oa(tt)?tt.number:0;G.push({counter:Ue.value,reset:Nt})}}return G}},kt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(H,D){return D.filter(Ha).map(function(G){return ue.parse(H,G)})}},Ut={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(H,D){if(D.length===0)return null;var G=D[0];if(G.type===20&&G.value==="none")return null;var q=[],we=D.filter(As);if(we.length%2!==0)return null;for(var Ue=0;Ue<we.length;Ue+=2){var tt=we[Ue].value,Nt=we[Ue+1].value;q.push({open:tt,close:Nt})}return q}},Dt=function(H,D,G){if(!H)return"";var q=H[Math.min(D,H.length-1)];return q?G?q.open:q.close:""},pr={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(H,D){return D.length===1&&Ys(D[0],"none")?[]:us(D).map(function(G){for(var q={color:255,offsetX:vs,offsetY:vs,blur:vs,spread:vs,inset:!1},we=0,Ue=0;Ue<G.length;Ue++){var tt=G[Ue];Ys(tt,"inset")?q.inset=!0:qi(tt)?(we===0?q.offsetX=tt:we===1?q.offsetY=tt:we===2?q.blur=tt:q.spread=tt,we++):q.color=Ka.parse(H,tt)}return q})}},ur={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(H,D){var G=[0,1,2],q=[];return D.filter(En).forEach(function(we){switch(we.value){case"stroke":q.push(1);break;case"fill":q.push(0);break;case"markers":q.push(2);break}}),G.forEach(function(we){q.indexOf(we)===-1&&q.push(we)}),q}},Ir={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},lr={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(H,D){return Ha(D)?D.number:0}},mn=(function(){function H(D,G){var q,we;this.animationDuration=Xt(D,kt,G.animationDuration),this.backgroundClip=Xt(D,Ar,G.backgroundClip),this.backgroundColor=Xt(D,Wt,G.backgroundColor),this.backgroundImage=Xt(D,$c,G.backgroundImage),this.backgroundOrigin=Xt(D,is,G.backgroundOrigin),this.backgroundPosition=Xt(D,Ds,G.backgroundPosition),this.backgroundRepeat=Xt(D,Yi,G.backgroundRepeat),this.backgroundSize=Xt(D,zc,G.backgroundSize),this.borderTopColor=Xt(D,zf,G.borderTopColor),this.borderRightColor=Xt(D,du,G.borderRightColor),this.borderBottomColor=Xt(D,ql,G.borderBottomColor),this.borderLeftColor=Xt(D,Cl,G.borderLeftColor),this.borderTopLeftRadius=Xt(D,Vf,G.borderTopLeftRadius),this.borderTopRightRadius=Xt(D,wc,G.borderTopRightRadius),this.borderBottomRightRadius=Xt(D,El,G.borderBottomRightRadius),this.borderBottomLeftRadius=Xt(D,zs,G.borderBottomLeftRadius),this.borderTopStyle=Xt(D,Mu,G.borderTopStyle),this.borderRightStyle=Xt(D,Hd,G.borderRightStyle),this.borderBottomStyle=Xt(D,AA,G.borderBottomStyle),this.borderLeftStyle=Xt(D,$d,G.borderLeftStyle),this.borderTopWidth=Xt(D,js,G.borderTopWidth),this.borderRightWidth=Xt(D,Zs,G.borderRightWidth),this.borderBottomWidth=Xt(D,La,G.borderBottomWidth),this.borderLeftWidth=Xt(D,Gl,G.borderLeftWidth),this.boxShadow=Xt(D,pr,G.boxShadow),this.color=Xt(D,Bl,G.color),this.direction=Xt(D,hf,G.direction),this.display=Xt(D,jc,G.display),this.float=Xt(D,qo,G.cssFloat),this.fontFamily=Xt(D,Ie,G.fontFamily),this.fontSize=Xt(D,Xe,G.fontSize),this.fontStyle=Xt(D,at,G.fontStyle),this.fontVariant=Xt(D,Ve,G.fontVariant),this.fontWeight=Xt(D,vt,G.fontWeight),this.letterSpacing=Xt(D,Vs,G.letterSpacing),this.lineBreak=Xt(D,om,G.lineBreak),this.lineHeight=Xt(D,fu,G.lineHeight),this.listStyleImage=Xt(D,ds,G.listStyleImage),this.listStylePosition=Xt(D,dt,G.listStylePosition),this.listStyleType=Xt(D,sl,G.listStyleType),this.marginTop=Xt(D,Go,G.marginTop),this.marginRight=Xt(D,ba,G.marginRight),this.marginBottom=Xt(D,zd,G.marginBottom),this.marginLeft=Xt(D,Bh,G.marginLeft),this.opacity=Xt(D,me,G.opacity);var Ue=Xt(D,Wl,G.overflow);this.overflowX=Ue[0],this.overflowY=Ue[Ue.length>1?1:0],this.overflowWrap=Xt(D,ys,G.overflowWrap),this.paddingTop=Xt(D,Af,G.paddingTop),this.paddingRight=Xt(D,t0,G.paddingRight),this.paddingBottom=Xt(D,mA,G.paddingBottom),this.paddingLeft=Xt(D,r0,G.paddingLeft),this.paintOrder=Xt(D,ur,G.paintOrder),this.position=Xt(D,pA,G.position),this.textAlign=Xt(D,Ss,G.textAlign),this.textDecorationColor=Xt(D,xe,(q=G.textDecorationColor)!==null&&q!==void 0?q:G.color),this.textDecorationLine=Xt(D,Se,(we=G.textDecorationLine)!==null&&we!==void 0?we:G.textDecoration),this.textShadow=Xt(D,Kf,G.textShadow),this.textTransform=Xt(D,qf,G.textTransform),this.transform=Xt(D,gA,G.transform),this.transformOrigin=Xt(D,g,G.transformOrigin),this.visibility=Xt(D,S,G.visibility),this.webkitTextStrokeColor=Xt(D,Ir,G.webkitTextStrokeColor),this.webkitTextStrokeWidth=Xt(D,lr,G.webkitTextStrokeWidth),this.wordBreak=Xt(D,K,G.wordBreak),this.zIndex=Xt(D,ne,G.zIndex)}return H.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},H.prototype.isTransparent=function(){return ps(this.backgroundColor)},H.prototype.isTransformed=function(){return this.transform!==null},H.prototype.isPositioned=function(){return this.position!==0},H.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},H.prototype.isFloating=function(){return this.float!==0},H.prototype.isInlineLevel=function(){return wt(this.display,4)||wt(this.display,33554432)||wt(this.display,268435456)||wt(this.display,536870912)||wt(this.display,67108864)||wt(this.display,134217728)},H})(),Vn=(function(){function H(D,G){this.content=Xt(D,Tt,G.content),this.quotes=Xt(D,Ut,G.quotes)}return H})(),Wr=(function(){function H(D,G){this.counterIncrement=Xt(D,it,G.counterIncrement),this.counterReset=Xt(D,xt,G.counterReset)}return H})(),Xt=function(H,D,G){var q=new _n,we=G!==null&&typeof G<"u"?G.toString():D.initialValue;q.write(we);var Ue=new na(q.read());switch(D.type){case 2:var tt=Ue.parseComponentValue();return D.parse(H,En(tt)?tt.value:D.initialValue);case 0:return D.parse(H,Ue.parseComponentValue());case 1:return D.parse(H,Ue.parseComponentValues());case 4:return Ue.parseComponentValue();case 3:switch(D.format){case"angle":return To.parse(H,Ue.parseComponentValue());case"color":return Ka.parse(H,Ue.parseComponentValue());case"image":return jl.parse(H,Ue.parseComponentValue());case"length":var Nt=Ue.parseComponentValue();return qi(Nt)?Nt:vs;case"length-percentage":var jt=Ue.parseComponentValue();return ya(jt)?jt:vs;case"time":return ue.parse(H,Ue.parseComponentValue())}break}},Sr="data-html2canvas-debug",Un=function(H){var D=H.getAttribute(Sr);switch(D){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},$r=function(H,D){var G=Un(H);return G===1||D===G},sn=(function(){function H(D,G){if(this.context=D,this.textNodes=[],this.elements=[],this.flags=0,$r(G,3))debugger;this.styles=new mn(D,window.getComputedStyle(G,null)),eo(G)&&(this.styles.animationDuration.some(function(q){return q>0})&&(G.style.animationDuration="0s"),this.styles.transform!==null&&(G.style.transform="none")),this.bounds=d(this.context,G),$r(G,4)&&(this.flags|=16)}return H})(),Zr="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",pn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fn=typeof Uint8Array>"u"?[]:new Uint8Array(256),Nn=0;Nn<pn.length;Nn++)fn[pn.charCodeAt(Nn)]=Nn;for(var qa=function(H){var D=H.length*.75,G=H.length,q,we=0,Ue,tt,Nt,jt;H[H.length-1]==="="&&(D--,H[H.length-2]==="="&&D--);var Qt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(D):new Array(D),Kt=Array.isArray(Qt)?Qt:new Uint8Array(Qt);for(q=0;q<G;q+=4)Ue=fn[H.charCodeAt(q)],tt=fn[H.charCodeAt(q+1)],Nt=fn[H.charCodeAt(q+2)],jt=fn[H.charCodeAt(q+3)],Kt[we++]=Ue<<2|tt>>4,Kt[we++]=(tt&15)<<4|Nt>>2,Kt[we++]=(Nt&3)<<6|jt&63;return Qt},ua=function(H){for(var D=H.length,G=[],q=0;q<D;q+=2)G.push(H[q+1]<<8|H[q]);return G},Aa=function(H){for(var D=H.length,G=[],q=0;q<D;q+=4)G.push(H[q+3]<<24|H[q+2]<<16|H[q+1]<<8|H[q]);return G},yn=5,Bn=11,Oa=2,on=Bn-yn,Ca=65536>>yn,_i=1<<yn,fs=_i-1,Ji=1024>>yn,Da=Ca+Ji,da=Da,Fi=32,lo=da+Fi,Cs=65536>>Bn,$a=1<<on,ti=$a-1,Ii=function(H,D,G){return H.slice?H.slice(D,G):new Uint16Array(Array.prototype.slice.call(H,D,G))},Ea=function(H,D,G){return H.slice?H.slice(D,G):new Uint32Array(Array.prototype.slice.call(H,D,G))},vi=function(H,D){var G=qa(H),q=Array.isArray(G)?Aa(G):new Uint32Array(G),we=Array.isArray(G)?ua(G):new Uint16Array(G),Ue=24,tt=Ii(we,Ue/2,q[4]/2),Nt=q[5]===2?Ii(we,(Ue+q[4])/2):Ea(q,Math.ceil((Ue+q[4])/4));return new Ks(q[0],q[1],q[2],q[3],tt,Nt)},Ks=(function(){function H(D,G,q,we,Ue,tt){this.initialValue=D,this.errorValue=G,this.highStart=q,this.highValueIndex=we,this.index=Ue,this.data=tt}return H.prototype.get=function(D){var G;if(D>=0){if(D<55296||D>56319&&D<=65535)return G=this.index[D>>yn],G=(G<<Oa)+(D&fs),this.data[G];if(D<=65535)return G=this.index[Ca+(D-55296>>yn)],G=(G<<Oa)+(D&fs),this.data[G];if(D<this.highStart)return G=lo-Cs+(D>>Bn),G=this.index[G],G+=D>>yn&ti,G=this.index[G],G=(G<<Oa)+(D&fs),this.data[G];if(D<=1114111)return this.data[this.highValueIndex]}return this.errorValue},H})(),Sc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Tl=typeof Uint8Array>"u"?[]:new Uint8Array(256),ci=0;ci<Sc.length;ci++)Tl[Sc.charCodeAt(ci)]=ci;var Uu=1,hu=2,Au=3,Yl=4,Th=5,yA=7,Ru=8,ki=9,bA=10,_h=11,Fh=12,Gf=13,Kc=14,mf=15,pf=function(H){for(var D=[],G=0,q=H.length;G<q;){var we=H.charCodeAt(G++);if(we>=55296&&we<=56319&&G<q){var Ue=H.charCodeAt(G++);(Ue&64512)===56320?D.push(((we&1023)<<10)+(Ue&1023)+65536):(D.push(we),G--)}else D.push(we)}return D},Qu=function(){for(var H=[],D=0;D<arguments.length;D++)H[D]=arguments[D];if(String.fromCodePoint)return String.fromCodePoint.apply(String,H);var G=H.length;if(!G)return"";for(var q=[],we=-1,Ue="";++we<G;){var tt=H[we];tt<=65535?q.push(tt):(tt-=65536,q.push((tt>>10)+55296,tt%1024+56320)),(we+1===G||q.length>16384)&&(Ue+=String.fromCharCode.apply(String,q),q.length=0)}return Ue},ud=vi(Zr),Pi="",Vd="",wa=function(H){return ud.get(H)},Cc=function(H,D,G){var q=G-2,we=D[q],Ue=D[G-1],tt=D[G];if(Ue===hu&&tt===Au)return Pi;if(Ue===hu||Ue===Au||Ue===Yl||tt===hu||tt===Au||tt===Yl)return Vd;if(Ue===Ru&&[Ru,ki,_h,Fh].indexOf(tt)!==-1||(Ue===_h||Ue===ki)&&(tt===ki||tt===bA)||(Ue===Fh||Ue===bA)&&tt===bA||tt===Gf||tt===Th||tt===yA||Ue===Uu)return Pi;if(Ue===Gf&&tt===Kc){for(;we===Th;)we=D[--q];if(we===Kc)return Pi}if(Ue===mf&&tt===mf){for(var Nt=0;we===mf;)Nt++,we=D[--q];if(Nt%2===0)return Pi}return Vd},gf=function(H){var D=pf(H),G=D.length,q=0,we=0,Ue=D.map(wa);return{next:function(){if(q>=G)return{done:!0,value:null};for(var tt=Pi;q<G&&(tt=Cc(D,Ue,++q))===Pi;);if(tt!==Pi||q===G){var Nt=Qu.apply(null,D.slice(we,q));return we=q,{value:Nt,done:!1}}return{done:!0,value:null}}}},mu=function(H){for(var D=gf(H),G=[],q;!(q=D.next()).done;)q.value&&G.push(q.value.slice());return G},co=function(H){var D=123;if(H.createRange){var G=H.createRange();if(G.getBoundingClientRect){var q=H.createElement("boundtest");q.style.height=D+"px",q.style.display="block",H.body.appendChild(q),G.selectNode(q);var we=G.getBoundingClientRect(),Ue=Math.round(we.height);if(H.body.removeChild(q),Ue===D)return!0}}return!1},Kd=function(H){var D=H.createElement("boundtest");D.style.width="50px",D.style.display="block",D.style.fontSize="12px",D.style.letterSpacing="0px",D.style.wordSpacing="0px",H.body.appendChild(D);var G=H.createRange();D.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var q=D.firstChild,we=h(q.data).map(function(jt){return m(jt)}),Ue=0,tt={},Nt=we.every(function(jt,Qt){G.setStart(q,Ue),G.setEnd(q,Ue+jt.length);var Kt=G.getBoundingClientRect();Ue+=jt.length;var er=Kt.x>tt.x||Kt.y>tt.y;return tt=Kt,Qt===0?!0:er});return H.body.removeChild(D),Nt},Ih=function(){return typeof new Image().crossOrigin<"u"},Xl=function(){return typeof new XMLHttpRequest().responseType=="string"},kh=function(H){var D=new Image,G=H.createElement("canvas"),q=G.getContext("2d");if(!q)return!1;D.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{q.drawImage(D,0,0),G.toDataURL()}catch{return!1}return!0},Wo=function(H){return H[0]===0&&H[1]===255&&H[2]===0&&H[3]===255},Ph=function(H){var D=H.createElement("canvas"),G=100;D.width=G,D.height=G;var q=D.getContext("2d");if(!q)return Promise.reject(!1);q.fillStyle="rgb(0, 255, 0)",q.fillRect(0,0,G,G);var we=new Image,Ue=D.toDataURL();we.src=Ue;var tt=qd(G,G,0,0,we);return q.fillStyle="red",q.fillRect(0,0,G,G),Wf(tt).then(function(Nt){q.drawImage(Nt,0,0);var jt=q.getImageData(0,0,G,G).data;q.fillStyle="red",q.fillRect(0,0,G,G);var Qt=H.createElement("div");return Qt.style.backgroundImage="url("+Ue+")",Qt.style.height=G+"px",Wo(jt)?Wf(qd(G,G,0,0,Qt)):Promise.reject(!1)}).then(function(Nt){return q.drawImage(Nt,0,0),Wo(q.getImageData(0,0,G,G).data)}).catch(function(){return!1})},qd=function(H,D,G,q,we){var Ue="http://www.w3.org/2000/svg",tt=document.createElementNS(Ue,"svg"),Nt=document.createElementNS(Ue,"foreignObject");return tt.setAttributeNS(null,"width",H.toString()),tt.setAttributeNS(null,"height",D.toString()),Nt.setAttributeNS(null,"width","100%"),Nt.setAttributeNS(null,"height","100%"),Nt.setAttributeNS(null,"x",G.toString()),Nt.setAttributeNS(null,"y",q.toString()),Nt.setAttributeNS(null,"externalResourcesRequired","true"),tt.appendChild(Nt),Nt.appendChild(we),tt},Wf=function(H){return new Promise(function(D,G){var q=new Image;q.onload=function(){return D(q)},q.onerror=G,q.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(H))})},rs={get SUPPORT_RANGE_BOUNDS(){var H=co(document);return Object.defineProperty(rs,"SUPPORT_RANGE_BOUNDS",{value:H}),H},get SUPPORT_WORD_BREAKING(){var H=rs.SUPPORT_RANGE_BOUNDS&&Kd(document);return Object.defineProperty(rs,"SUPPORT_WORD_BREAKING",{value:H}),H},get SUPPORT_SVG_DRAWING(){var H=kh(document);return Object.defineProperty(rs,"SUPPORT_SVG_DRAWING",{value:H}),H},get SUPPORT_FOREIGNOBJECT_DRAWING(){var H=typeof Array.from=="function"&&typeof window.fetch=="function"?Ph(document):Promise.resolve(!1);return Object.defineProperty(rs,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:H}),H},get SUPPORT_CORS_IMAGES(){var H=Ih();return Object.defineProperty(rs,"SUPPORT_CORS_IMAGES",{value:H}),H},get SUPPORT_RESPONSE_TYPE(){var H=Xl();return Object.defineProperty(rs,"SUPPORT_RESPONSE_TYPE",{value:H}),H},get SUPPORT_CORS_XHR(){var H="withCredentials"in new XMLHttpRequest;return Object.defineProperty(rs,"SUPPORT_CORS_XHR",{value:H}),H},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var H=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(rs,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:H}),H}},Jl=(function(){function H(D,G){this.text=D,this.bounds=G}return H})(),Zl=function(H,D,G,q){var we=ko(D,G),Ue=[],tt=0;return we.forEach(function(Nt){if(G.textDecorationLine.length||Nt.trim().length>0)if(rs.SUPPORT_RANGE_BOUNDS){var jt=Ec(q,tt,Nt.length).getClientRects();if(jt.length>1){var Qt=Zi(Nt),Kt=0;Qt.forEach(function(br){Ue.push(new Jl(br,c.fromDOMRectList(H,Ec(q,Kt+tt,br.length).getClientRects()))),Kt+=br.length})}else Ue.push(new Jl(Nt,c.fromDOMRectList(H,jt)))}else{var er=q.splitText(Nt.length);Ue.push(new Jl(Nt,Gd(H,q))),q=er}else rs.SUPPORT_RANGE_BOUNDS||(q=q.splitText(Nt.length));tt+=Nt.length}),Ue},Gd=function(H,D){var G=D.ownerDocument;if(G){var q=G.createElement("html2canvaswrapper");q.appendChild(D.cloneNode(!0));var we=D.parentNode;if(we){we.replaceChild(q,D);var Ue=d(H,q);return q.firstChild&&we.replaceChild(q.firstChild,q),Ue}}return c.EMPTY},Ec=function(H,D,G){var q=H.ownerDocument;if(!q)throw new Error("Node has no owner document");var we=q.createRange();return we.setStart(H,D),we.setEnd(H,D+G),we},Zi=function(H){if(rs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var D=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(D.segment(H)).map(function(G){return G.segment})}return mu(H)},uo=function(H,D){if(rs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var G=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(G.segment(H)).map(function(q){return q.segment})}return Hu(H,D)},ko=function(H,D){return D.letterSpacing!==0?Zi(H):uo(H,D)},pu=[32,160,4961,65792,65793,4153,4241],Hu=function(H,D){for(var G=vr(H,{lineBreak:D.lineBreak,wordBreak:D.overflowWrap==="break-word"?"break-word":D.wordBreak}),q=[],we,Ue=function(){if(we.value){var tt=we.value.slice(),Nt=h(tt),jt="";Nt.forEach(function(Qt){pu.indexOf(Qt)===-1?jt+=m(Qt):(jt.length&&q.push(jt),q.push(m(Qt)),jt="")}),jt.length&&q.push(jt)}};!(we=G.next()).done;)Ue();return q},qc=(function(){function H(D,G,q){this.text=lm(G.data,q.textTransform),this.textBounds=Zl(D,this.text,q,G)}return H})(),lm=function(H,D){switch(D){case 1:return H.toLowerCase();case 3:return H.replace(Bc,xf);case 2:return H.toUpperCase();default:return H}},Bc=/(^|\s|:|-|\(|\))([a-z])/g,xf=function(H,D,G){return H.length>0?D+G.toUpperCase():H},Ap=(function(H){n(D,H);function D(G,q){var we=H.call(this,G,q)||this;return we.src=q.currentSrc||q.src,we.intrinsicWidth=q.naturalWidth,we.intrinsicHeight=q.naturalHeight,we.context.cache.addImage(we.src),we}return D})(sn),Lh=(function(H){n(D,H);function D(G,q){var we=H.call(this,G,q)||this;return we.canvas=q,we.intrinsicWidth=q.width,we.intrinsicHeight=q.height,we}return D})(sn),mp=(function(H){n(D,H);function D(G,q){var we=H.call(this,G,q)||this,Ue=new XMLSerializer,tt=d(G,q);return q.setAttribute("width",tt.width+"px"),q.setAttribute("height",tt.height+"px"),we.svg="data:image/svg+xml,"+encodeURIComponent(Ue.serializeToString(q)),we.intrinsicWidth=q.width.baseVal.value,we.intrinsicHeight=q.height.baseVal.value,we.context.cache.addImage(we.svg),we}return D})(sn),a0=(function(H){n(D,H);function D(G,q){var we=H.call(this,G,q)||this;return we.value=q.value,we}return D})(sn),pp=(function(H){n(D,H);function D(G,q){var we=H.call(this,G,q)||this;return we.start=q.start,we.reversed=typeof q.reversed=="boolean"&&q.reversed===!0,we}return D})(sn),Dg=[{type:15,flags:0,unit:"px",number:3}],s0=[{type:16,flags:0,number:50}],x1=function(H){return H.width>H.height?new c(H.left+(H.width-H.height)/2,H.top,H.height,H.height):H.width<H.height?new c(H.left,H.top+(H.height-H.width)/2,H.width,H.width):H},Mg=function(H){var D=H.type===gu?new Array(H.value.length+1).join(""):H.value;return D.length===0?H.placeholder||"":D},i0="checkbox",bo="radio",gu="password",o0=707406591,wA=(function(H){n(D,H);function D(G,q){var we=H.call(this,G,q)||this;switch(we.type=q.type.toLowerCase(),we.checked=q.checked,we.value=Mg(q),(we.type===i0||we.type===bo)&&(we.styles.backgroundColor=3739148031,we.styles.borderTopColor=we.styles.borderRightColor=we.styles.borderBottomColor=we.styles.borderLeftColor=2779096575,we.styles.borderTopWidth=we.styles.borderRightWidth=we.styles.borderBottomWidth=we.styles.borderLeftWidth=1,we.styles.borderTopStyle=we.styles.borderRightStyle=we.styles.borderBottomStyle=we.styles.borderLeftStyle=1,we.styles.backgroundClip=[0],we.styles.backgroundOrigin=[0],we.bounds=x1(we.bounds)),we.type){case i0:we.styles.borderTopRightRadius=we.styles.borderTopLeftRadius=we.styles.borderBottomRightRadius=we.styles.borderBottomLeftRadius=Dg;break;case bo:we.styles.borderTopRightRadius=we.styles.borderTopLeftRadius=we.styles.borderBottomRightRadius=we.styles.borderBottomLeftRadius=s0;break}return we}return D})(sn),Oh=(function(H){n(D,H);function D(G,q){var we=H.call(this,G,q)||this,Ue=q.options[q.selectedIndex||0];return we.value=Ue&&Ue.text||"",we}return D})(sn),Dh=(function(H){n(D,H);function D(G,q){var we=H.call(this,G,q)||this;return we.value=q.value,we}return D})(sn),gp=(function(H){n(D,H);function D(G,q){var we=H.call(this,G,q)||this;we.src=q.src,we.width=parseInt(q.width,10)||0,we.height=parseInt(q.height,10)||0,we.backgroundColor=we.styles.backgroundColor;try{if(q.contentWindow&&q.contentWindow.document&&q.contentWindow.document.documentElement){we.tree=Tc(G,q.contentWindow.document.documentElement);var Ue=q.contentWindow.document.documentElement?Os(G,getComputedStyle(q.contentWindow.document.documentElement).backgroundColor):Rt.TRANSPARENT,tt=q.contentWindow.document.body?Os(G,getComputedStyle(q.contentWindow.document.body).backgroundColor):Rt.TRANSPARENT;we.backgroundColor=ps(Ue)?ps(tt)?we.styles.backgroundColor:tt:Ue}}catch{}return we}return D})(sn),NA=["OL","UL","MENU"],l0=function(H,D,G,q){for(var we=D.firstChild,Ue=void 0;we;we=Ue)if(Ue=we.nextSibling,vf(we)&&we.data.trim().length>0)G.textNodes.push(new qc(H,we,G.styles));else if(Gc(we))if(Ug(we)&&we.assignedNodes)we.assignedNodes().forEach(function(Nt){return l0(H,Nt,G,q)});else{var tt=xu(H,we);tt.styles.isVisible()&&(dd(we,tt,q)?tt.flags|=4:v1(tt.styles)&&(tt.flags|=2),NA.indexOf(we.tagName)!==-1&&(tt.flags|=8),G.elements.push(tt),we.slot,we.shadowRoot?l0(H,we.shadowRoot,tt,q):!dm(we)&&!Yf(we)&&!f0(we)&&l0(H,we,tt,q))}},xu=function(H,D){return vp(D)?new Ap(H,D):xp(D)?new Lh(H,D):Yf(D)?new mp(H,D):cm(D)?new a0(H,D):c0(D)?new pp(H,D):u0(D)?new wA(H,D):f0(D)?new Oh(H,D):dm(D)?new Dh(H,D):um(D)?new gp(H,D):new sn(H,D)},Tc=function(H,D){var G=xu(H,D);return G.flags|=4,l0(H,D,G,G),G},dd=function(H,D,G){return D.styles.isPositionedWithZIndex()||D.styles.opacity<1||D.styles.isTransformed()||Xf(H)&&G.styles.isTransparent()},v1=function(H){return H.isPositioned()||H.isFloating()},vf=function(H){return H.nodeType===Node.TEXT_NODE},Gc=function(H){return H.nodeType===Node.ELEMENT_NODE},eo=function(H){return Gc(H)&&typeof H.style<"u"&&!Mh(H)},Mh=function(H){return typeof H.className=="object"},cm=function(H){return H.tagName==="LI"},c0=function(H){return H.tagName==="OL"},u0=function(H){return H.tagName==="INPUT"},y1=function(H){return H.tagName==="HTML"},Yf=function(H){return H.tagName==="svg"},Xf=function(H){return H.tagName==="BODY"},xp=function(H){return H.tagName==="CANVAS"},d0=function(H){return H.tagName==="VIDEO"},vp=function(H){return H.tagName==="IMG"},um=function(H){return H.tagName==="IFRAME"},Wd=function(H){return H.tagName==="STYLE"},yp=function(H){return H.tagName==="SCRIPT"},dm=function(H){return H.tagName==="TEXTAREA"},f0=function(H){return H.tagName==="SELECT"},Ug=function(H){return H.tagName==="SLOT"},Rg=function(H){return H.tagName.indexOf("-")>0},_l=(function(){function H(){this.counters={}}return H.prototype.getCounterValue=function(D){var G=this.counters[D];return G&&G.length?G[G.length-1]:1},H.prototype.getCounterValues=function(D){var G=this.counters[D];return G||[]},H.prototype.pop=function(D){var G=this;D.forEach(function(q){return G.counters[q].pop()})},H.prototype.parse=function(D){var G=this,q=D.counterIncrement,we=D.counterReset,Ue=!0;q!==null&&q.forEach(function(Nt){var jt=G.counters[Nt.counter];jt&&Nt.increment!==0&&(Ue=!1,jt.length||jt.push(1),jt[Math.max(0,jt.length-1)]+=Nt.increment)});var tt=[];return Ue&&we.forEach(function(Nt){var jt=G.counters[Nt.counter];tt.push(Nt.counter),jt||(jt=G.counters[Nt.counter]=[]),jt.push(Nt.reset)}),tt},H})(),yi={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},h0={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},bp={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},wp={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},yf=function(H,D,G,q,we,Ue){return H<D||H>G?SA(H,we,Ue.length>0):q.integers.reduce(function(tt,Nt,jt){for(;H>=Nt;)H-=Nt,tt+=q.values[jt];return tt},"")+Ue},Uh=function(H,D,G,q){var we="";do G||H--,we=q(H)+we,H/=D;while(H*D>=D);return we},un=function(H,D,G,q,we){var Ue=G-D+1;return(H<0?"-":"")+(Uh(Math.abs(H),Ue,q,function(tt){return m(Math.floor(tt%Ue)+D)})+we)},fd=function(H,D,G){G===void 0&&(G=". ");var q=D.length;return Uh(Math.abs(H),q,!1,function(we){return D[Math.floor(we%q)]})+G},Jf=1,Wc=2,Zf=4,eh=8,hd=function(H,D,G,q,we,Ue){if(H<-9999||H>9999)return SA(H,4,we.length>0);var tt=Math.abs(H),Nt=we;if(tt===0)return D[0]+Nt;for(var jt=0;tt>0&&jt<=4;jt++){var Qt=tt%10;Qt===0&&wt(Ue,Jf)&&Nt!==""?Nt=D[Qt]+Nt:Qt>1||Qt===1&&jt===0||Qt===1&&jt===1&&wt(Ue,Wc)||Qt===1&&jt===1&&wt(Ue,Zf)&&H>100||Qt===1&&jt>1&&wt(Ue,eh)?Nt=D[Qt]+(jt>0?G[jt-1]:"")+Nt:Qt===1&&jt>0&&(Nt=G[jt-1]+Nt),tt=Math.floor(tt/10)}return(H<0?q:"")+Nt},ol="",Qg="",Np="",jA="",SA=function(H,D,G){var q=G?". ":"",we=G?"":"",Ue=G?", ":"",tt=G?" ":"";switch(D){case 0:return""+tt;case 1:return""+tt;case 2:return""+tt;case 5:var Nt=un(H,48,57,!0,q);return Nt.length<4?"0"+Nt:Nt;case 4:return fd(H,"",we);case 6:return yf(H,1,3999,yi,3,q).toLowerCase();case 7:return yf(H,1,3999,yi,3,q);case 8:return un(H,945,969,!1,q);case 9:return un(H,97,122,!1,q);case 10:return un(H,65,90,!1,q);case 11:return un(H,1632,1641,!0,q);case 12:case 49:return yf(H,1,9999,h0,3,q);case 35:return yf(H,1,9999,h0,3,q).toLowerCase();case 13:return un(H,2534,2543,!0,q);case 14:case 30:return un(H,6112,6121,!0,q);case 15:return fd(H,"",we);case 16:return fd(H,"",we);case 17:case 48:return hd(H,"",ol,"",we,Wc|Zf|eh);case 47:return hd(H,"",Qg,"",we,Jf|Wc|Zf|eh);case 42:return hd(H,"",ol,"",we,Wc|Zf|eh);case 41:return hd(H,"",Qg,"",we,Jf|Wc|Zf|eh);case 26:return hd(H,"","",Np,we,0);case 25:return hd(H,"","",Np,we,Jf|Wc|Zf);case 31:return hd(H,"","",jA,Ue,Jf|Wc|Zf);case 33:return hd(H,"","",jA,Ue,0);case 32:return hd(H,"","",jA,Ue,Jf|Wc|Zf);case 18:return un(H,2406,2415,!0,q);case 20:return yf(H,1,19999,wp,3,q);case 21:return un(H,2790,2799,!0,q);case 22:return un(H,2662,2671,!0,q);case 22:return yf(H,1,10999,bp,3,q);case 23:return fd(H,"");case 24:return fd(H,"");case 27:return un(H,3302,3311,!0,q);case 28:return fd(H,"",we);case 29:return fd(H,"",we);case 34:return un(H,3792,3801,!0,q);case 37:return un(H,6160,6169,!0,q);case 38:return un(H,4160,4169,!0,q);case 39:return un(H,2918,2927,!0,q);case 40:return un(H,1776,1785,!0,q);case 43:return un(H,3046,3055,!0,q);case 44:return un(H,3174,3183,!0,q);case 45:return un(H,3664,3673,!0,q);case 46:return un(H,3872,3881,!0,q);case 3:default:return un(H,48,57,!0,q)}},jp="data-html2canvas-ignore",Sp=(function(){function H(D,G,q){if(this.context=D,this.options=q,this.scrolledElements=[],this.referenceElement=G,this.counters=new _l,this.quoteDepth=0,!G.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(G.ownerDocument.documentElement,!1)}return H.prototype.toIFrame=function(D,G){var q=this,we=th(D,G);if(!we.contentWindow)return Promise.reject("Unable to find iframe window");var Ue=D.defaultView.pageXOffset,tt=D.defaultView.pageYOffset,Nt=we.contentWindow,jt=Nt.document,Qt=Cp(we).then(function(){return i(q,void 0,void 0,function(){var Kt,er;return o(this,function(br){switch(br.label){case 0:return this.scrolledElements.forEach(ui),Nt&&(Nt.scrollTo(G.left,G.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(Nt.scrollY!==G.top||Nt.scrollX!==G.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(Nt.scrollX-G.left,Nt.scrollY-G.top,0,0))),Kt=this.options.onclone,er=this.clonedReferenceElement,typeof er>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:jt.fonts&&jt.fonts.ready?[4,jt.fonts.ready]:[3,2];case 1:br.sent(),br.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Yc(jt)]:[3,4];case 3:br.sent(),br.label=4;case 4:return typeof Kt=="function"?[2,Promise.resolve().then(function(){return Kt(jt,er)}).then(function(){return we})]:[2,we]}})})});return jt.open(),jt.write(Ep(document.doctype)+"<html></html>"),A0(this.referenceElement.ownerDocument,Ue,tt),jt.replaceChild(jt.adoptNode(this.documentElement),jt.documentElement),jt.close(),Qt},H.prototype.createElementClone=function(D){if($r(D,2))debugger;if(xp(D))return this.createCanvasClone(D);if(d0(D))return this.createVideoClone(D);if(Wd(D))return this.createStyleClone(D);var G=D.cloneNode(!1);return vp(G)&&(vp(D)&&D.currentSrc&&D.currentSrc!==D.src&&(G.src=D.currentSrc,G.srcset=""),G.loading==="lazy"&&(G.loading="eager")),Rg(G)?this.createCustomElementClone(G):G},H.prototype.createCustomElementClone=function(D){var G=document.createElement("html2canvascustomelement");return hm(D.style,G),G},H.prototype.createStyleClone=function(D){try{var G=D.sheet;if(G&&G.cssRules){var q=[].slice.call(G.cssRules,0).reduce(function(Ue,tt){return tt&&typeof tt.cssText=="string"?Ue+tt.cssText:Ue},""),we=D.cloneNode(!1);return we.textContent=q,we}}catch(Ue){if(this.context.logger.error("Unable to access cssRules property",Ue),Ue.name!=="SecurityError")throw Ue}return D.cloneNode(!1)},H.prototype.createCanvasClone=function(D){var G;if(this.options.inlineImages&&D.ownerDocument){var q=D.ownerDocument.createElement("img");try{return q.src=D.toDataURL(),q}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",D)}}var we=D.cloneNode(!1);try{we.width=D.width,we.height=D.height;var Ue=D.getContext("2d"),tt=we.getContext("2d");if(tt)if(!this.options.allowTaint&&Ue)tt.putImageData(Ue.getImageData(0,0,D.width,D.height),0,0);else{var Nt=(G=D.getContext("webgl2"))!==null&&G!==void 0?G:D.getContext("webgl");if(Nt){var jt=Nt.getContextAttributes();jt?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",D)}tt.drawImage(D,0,0)}return we}catch{this.context.logger.info("Unable to clone canvas as it is tainted",D)}return we},H.prototype.createVideoClone=function(D){var G=D.ownerDocument.createElement("canvas");G.width=D.offsetWidth,G.height=D.offsetHeight;var q=G.getContext("2d");try{return q&&(q.drawImage(D,0,0,G.width,G.height),this.options.allowTaint||q.getImageData(0,0,G.width,G.height)),G}catch{this.context.logger.info("Unable to clone video as it is tainted",D)}var we=D.ownerDocument.createElement("canvas");return we.width=D.offsetWidth,we.height=D.offsetHeight,we},H.prototype.appendChildNode=function(D,G,q){(!Gc(G)||!yp(G)&&!G.hasAttribute(jp)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(G)))&&(!this.options.copyStyles||!Gc(G)||!Wd(G))&&D.appendChild(this.cloneNode(G,q))},H.prototype.cloneChildNodes=function(D,G,q){for(var we=this,Ue=D.shadowRoot?D.shadowRoot.firstChild:D.firstChild;Ue;Ue=Ue.nextSibling)if(Gc(Ue)&&Ug(Ue)&&typeof Ue.assignedNodes=="function"){var tt=Ue.assignedNodes();tt.length&&tt.forEach(function(Nt){return we.appendChildNode(G,Nt,q)})}else this.appendChildNode(G,Ue,q)},H.prototype.cloneNode=function(D,G){if(vf(D))return document.createTextNode(D.data);if(!D.ownerDocument)return D.cloneNode(!1);var q=D.ownerDocument.defaultView;if(q&&Gc(D)&&(eo(D)||Mh(D))){var we=this.createElementClone(D);we.style.transitionProperty="none";var Ue=q.getComputedStyle(D),tt=q.getComputedStyle(D,":before"),Nt=q.getComputedStyle(D,":after");this.referenceElement===D&&eo(we)&&(this.clonedReferenceElement=we),Xf(we)&&N1(we);var jt=this.counters.parse(new Wr(this.context,Ue)),Qt=this.resolvePseudoContent(D,we,tt,fm.BEFORE);Rg(D)&&(G=!0),d0(D)||this.cloneChildNodes(D,we,G),Qt&&we.insertBefore(Qt,we.firstChild);var Kt=this.resolvePseudoContent(D,we,Nt,fm.AFTER);return Kt&&we.appendChild(Kt),this.counters.pop(jt),(Ue&&(this.options.copyStyles||Mh(D))&&!um(D)||G)&&hm(Ue,we),(D.scrollTop!==0||D.scrollLeft!==0)&&this.scrolledElements.push([we,D.scrollLeft,D.scrollTop]),(dm(D)||f0(D))&&(dm(we)||f0(we))&&(we.value=D.value),we}return D.cloneNode(!1)},H.prototype.resolvePseudoContent=function(D,G,q,we){var Ue=this;if(q){var tt=q.content,Nt=G.ownerDocument;if(!(!Nt||!tt||tt==="none"||tt==="-moz-alt-content"||q.display==="none")){this.counters.parse(new Wr(this.context,q));var jt=new Vn(this.context,q),Qt=Nt.createElement("html2canvaspseudoelement");hm(q,Qt),jt.content.forEach(function(er){if(er.type===0)Qt.appendChild(Nt.createTextNode(er.value));else if(er.type===22){var br=Nt.createElement("img");br.src=er.value,br.style.opacity="1",Qt.appendChild(br)}else if(er.type===18){if(er.name==="attr"){var Gr=er.values.filter(En);Gr.length&&Qt.appendChild(Nt.createTextNode(D.getAttribute(Gr[0].value)||""))}else if(er.name==="counter"){var zr=er.values.filter(Mn),Kr=zr[0],Fa=zr[1];if(Kr&&En(Kr)){var jn=Ue.counters.getCounterValue(Kr.value),bn=Fa&&En(Fa)?sl.parse(Ue.context,Fa.value):3;Qt.appendChild(Nt.createTextNode(SA(jn,bn,!1)))}}else if(er.name==="counters"){var za=er.values.filter(Mn),Kr=za[0],Ba=za[1],Fa=za[2];if(Kr&&En(Kr)){var ta=Ue.counters.getCounterValues(Kr.value),ln=Fa&&En(Fa)?sl.parse(Ue.context,Fa.value):3,os=Ba&&Ba.type===0?Ba.value:"",ls=ta.map(function(_c){return SA(_c,ln,!1)}).join(os);Qt.appendChild(Nt.createTextNode(ls))}}}else if(er.type===20)switch(er.value){case"open-quote":Qt.appendChild(Nt.createTextNode(Dt(jt.quotes,Ue.quoteDepth++,!0)));break;case"close-quote":Qt.appendChild(Nt.createTextNode(Dt(jt.quotes,--Ue.quoteDepth,!1)));break;default:Qt.appendChild(Nt.createTextNode(er.value))}}),Qt.className=Bp+" "+CA;var Kt=we===fm.BEFORE?" "+Bp:" "+CA;return Mh(G)?G.className.baseValue+=Kt:G.className+=Kt,Qt}}},H.destroy=function(D){return D.parentNode?(D.parentNode.removeChild(D),!0):!1},H})(),fm;(function(H){H[H.BEFORE=0]="BEFORE",H[H.AFTER=1]="AFTER"})(fm||(fm={}));var th=function(H,D){var G=H.createElement("iframe");return G.className="html2canvas-container",G.style.visibility="hidden",G.style.position="fixed",G.style.left="-10000px",G.style.top="0px",G.style.border="0",G.width=D.width.toString(),G.height=D.height.toString(),G.scrolling="no",G.setAttribute(jp,"true"),H.body.appendChild(G),G},Yd=function(H){return new Promise(function(D){if(H.complete){D();return}if(!H.src){D();return}H.onload=D,H.onerror=D})},Yc=function(H){return Promise.all([].slice.call(H.images,0).map(Yd))},Cp=function(H){return new Promise(function(D,G){var q=H.contentWindow;if(!q)return G("No window assigned for iframe");var we=q.document;q.onload=H.onload=function(){q.onload=H.onload=null;var Ue=setInterval(function(){we.body.childNodes.length>0&&we.readyState==="complete"&&(clearInterval(Ue),D(H))},50)}})},rh=["all","d","content"],hm=function(H,D){for(var G=H.length-1;G>=0;G--){var q=H.item(G);rh.indexOf(q)===-1&&D.style.setProperty(q,H.getPropertyValue(q))}return D},Ep=function(H){var D="";return H&&(D+="<!DOCTYPE ",H.name&&(D+=H.name),H.internalSubset&&(D+=H.internalSubset),H.publicId&&(D+='"'+H.publicId+'"'),H.systemId&&(D+='"'+H.systemId+'"'),D+=">"),D},A0=function(H,D,G){H&&H.defaultView&&(D!==H.defaultView.pageXOffset||G!==H.defaultView.pageYOffset)&&H.defaultView.scrollTo(D,G)},ui=function(H){var D=H[0],G=H[1],q=H[2];D.scrollLeft=G,D.scrollTop=q},b1=":before",w1=":after",Bp="___html2canvas___pseudoelement_before",CA="___html2canvas___pseudoelement_after",nh=`{
    content: "" !important;
    display: none !important;
}`,N1=function(H){Hg(H,"."+Bp+b1+nh+`
         .`+CA+w1+nh)},Hg=function(H,D){var G=H.ownerDocument;if(G){var q=G.createElement("style");q.textContent=D,H.appendChild(q)}},EA=(function(){function H(){}return H.getOrigin=function(D){var G=H._link;return G?(G.href=D,G.href=G.href,G.protocol+G.hostname+G.port):"about:blank"},H.isSameOrigin=function(D){return H.getOrigin(D)===H._origin},H.setContext=function(D){H._link=D.document.createElement("a"),H._origin=H.getOrigin(D.location.href)},H._origin="about:blank",H})(),bf=(function(){function H(D,G){this.context=D,this._options=G,this._cache={}}return H.prototype.addImage=function(D){var G=Promise.resolve();return this.has(D)||(BA(D)||m0(D))&&(this._cache[D]=this.loadImage(D)).catch(function(){}),G},H.prototype.match=function(D){return this._cache[D]},H.prototype.loadImage=function(D){return i(this,void 0,void 0,function(){var G,q,we,Ue,tt=this;return o(this,function(Nt){switch(Nt.label){case 0:return G=EA.isSameOrigin(D),q=!mm(D)&&this._options.useCORS===!0&&rs.SUPPORT_CORS_IMAGES&&!G,we=!mm(D)&&!G&&!BA(D)&&typeof this._options.proxy=="string"&&rs.SUPPORT_CORS_XHR&&!q,!G&&this._options.allowTaint===!1&&!mm(D)&&!BA(D)&&!we&&!q?[2]:(Ue=D,we?[4,this.proxy(Ue)]:[3,2]);case 1:Ue=Nt.sent(),Nt.label=2;case 2:return this.context.logger.debug("Added image "+D.substring(0,256)),[4,new Promise(function(jt,Qt){var Kt=new Image;Kt.onload=function(){return jt(Kt)},Kt.onerror=Qt,(p0(Ue)||q)&&(Kt.crossOrigin="anonymous"),Kt.src=Ue,Kt.complete===!0&&setTimeout(function(){return jt(Kt)},500),tt._options.imageTimeout>0&&setTimeout(function(){return Qt("Timed out ("+tt._options.imageTimeout+"ms) loading image")},tt._options.imageTimeout)})];case 3:return[2,Nt.sent()]}})})},H.prototype.has=function(D){return typeof this._cache[D]<"u"},H.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},H.prototype.proxy=function(D){var G=this,q=this._options.proxy;if(!q)throw new Error("No proxy defined");var we=D.substring(0,256);return new Promise(function(Ue,tt){var Nt=rs.SUPPORT_RESPONSE_TYPE?"blob":"text",jt=new XMLHttpRequest;jt.onload=function(){if(jt.status===200)if(Nt==="text")Ue(jt.response);else{var er=new FileReader;er.addEventListener("load",function(){return Ue(er.result)},!1),er.addEventListener("error",function(br){return tt(br)},!1),er.readAsDataURL(jt.response)}else tt("Failed to proxy resource "+we+" with status code "+jt.status)},jt.onerror=tt;var Qt=q.indexOf("?")>-1?"&":"?";if(jt.open("GET",""+q+Qt+"url="+encodeURIComponent(D)+"&responseType="+Nt),Nt!=="text"&&jt instanceof XMLHttpRequest&&(jt.responseType=Nt),G._options.imageTimeout){var Kt=G._options.imageTimeout;jt.timeout=Kt,jt.ontimeout=function(){return tt("Timed out ("+Kt+"ms) proxying "+we)}}jt.send()})},H})(),Tp=/^data:image\/svg\+xml/i,_p=/^data:image\/.*;base64,/i,Am=/^data:image\/.*/i,m0=function(H){return rs.SUPPORT_SVG_DRAWING||!wf(H)},mm=function(H){return Am.test(H)},p0=function(H){return _p.test(H)},BA=function(H){return H.substr(0,4)==="blob"},wf=function(H){return H.substr(-3).toLowerCase()==="svg"||Tp.test(H)},Or=(function(){function H(D,G){this.type=0,this.x=D,this.y=G}return H.prototype.add=function(D,G){return new H(this.x+D,this.y+G)},H})(),vu=function(H,D,G){return new Or(H.x+(D.x-H.x)*G,H.y+(D.y-H.y)*G)},g0=(function(){function H(D,G,q,we){this.type=1,this.start=D,this.startControl=G,this.endControl=q,this.end=we}return H.prototype.subdivide=function(D,G){var q=vu(this.start,this.startControl,D),we=vu(this.startControl,this.endControl,D),Ue=vu(this.endControl,this.end,D),tt=vu(q,we,D),Nt=vu(we,Ue,D),jt=vu(tt,Nt,D);return G?new H(this.start,q,tt,jt):new H(jt,Nt,Ue,this.end)},H.prototype.add=function(D,G){return new H(this.start.add(D,G),this.startControl.add(D,G),this.endControl.add(D,G),this.end.add(D,G))},H.prototype.reverse=function(){return new H(this.end,this.endControl,this.startControl,this.start)},H})(),Ms=function(H){return H.type===1},_y=(function(){function H(D){var G=D.styles,q=D.bounds,we=ms(G.borderTopLeftRadius,q.width,q.height),Ue=we[0],tt=we[1],Nt=ms(G.borderTopRightRadius,q.width,q.height),jt=Nt[0],Qt=Nt[1],Kt=ms(G.borderBottomRightRadius,q.width,q.height),er=Kt[0],br=Kt[1],Gr=ms(G.borderBottomLeftRadius,q.width,q.height),zr=Gr[0],Kr=Gr[1],Fa=[];Fa.push((Ue+jt)/q.width),Fa.push((zr+er)/q.width),Fa.push((tt+Kr)/q.height),Fa.push((Qt+br)/q.height);var jn=Math.max.apply(Math,Fa);jn>1&&(Ue/=jn,tt/=jn,jt/=jn,Qt/=jn,er/=jn,br/=jn,zr/=jn,Kr/=jn);var bn=q.width-jt,za=q.height-br,Ba=q.width-er,ta=q.height-Kr,ln=G.borderTopWidth,os=G.borderRightWidth,ls=G.borderBottomWidth,la=G.borderLeftWidth,No=$n(G.paddingTop,D.bounds.width),_c=$n(G.paddingRight,D.bounds.width),zu=$n(G.paddingBottom,D.bounds.width),ri=$n(G.paddingLeft,D.bounds.width);this.topLeftBorderDoubleOuterBox=Ue>0||tt>0?Li(q.left+la/3,q.top+ln/3,Ue-la/3,tt-ln/3,Es.TOP_LEFT):new Or(q.left+la/3,q.top+ln/3),this.topRightBorderDoubleOuterBox=Ue>0||tt>0?Li(q.left+bn,q.top+ln/3,jt-os/3,Qt-ln/3,Es.TOP_RIGHT):new Or(q.left+q.width-os/3,q.top+ln/3),this.bottomRightBorderDoubleOuterBox=er>0||br>0?Li(q.left+Ba,q.top+za,er-os/3,br-ls/3,Es.BOTTOM_RIGHT):new Or(q.left+q.width-os/3,q.top+q.height-ls/3),this.bottomLeftBorderDoubleOuterBox=zr>0||Kr>0?Li(q.left+la/3,q.top+ta,zr-la/3,Kr-ls/3,Es.BOTTOM_LEFT):new Or(q.left+la/3,q.top+q.height-ls/3),this.topLeftBorderDoubleInnerBox=Ue>0||tt>0?Li(q.left+la*2/3,q.top+ln*2/3,Ue-la*2/3,tt-ln*2/3,Es.TOP_LEFT):new Or(q.left+la*2/3,q.top+ln*2/3),this.topRightBorderDoubleInnerBox=Ue>0||tt>0?Li(q.left+bn,q.top+ln*2/3,jt-os*2/3,Qt-ln*2/3,Es.TOP_RIGHT):new Or(q.left+q.width-os*2/3,q.top+ln*2/3),this.bottomRightBorderDoubleInnerBox=er>0||br>0?Li(q.left+Ba,q.top+za,er-os*2/3,br-ls*2/3,Es.BOTTOM_RIGHT):new Or(q.left+q.width-os*2/3,q.top+q.height-ls*2/3),this.bottomLeftBorderDoubleInnerBox=zr>0||Kr>0?Li(q.left+la*2/3,q.top+ta,zr-la*2/3,Kr-ls*2/3,Es.BOTTOM_LEFT):new Or(q.left+la*2/3,q.top+q.height-ls*2/3),this.topLeftBorderStroke=Ue>0||tt>0?Li(q.left+la/2,q.top+ln/2,Ue-la/2,tt-ln/2,Es.TOP_LEFT):new Or(q.left+la/2,q.top+ln/2),this.topRightBorderStroke=Ue>0||tt>0?Li(q.left+bn,q.top+ln/2,jt-os/2,Qt-ln/2,Es.TOP_RIGHT):new Or(q.left+q.width-os/2,q.top+ln/2),this.bottomRightBorderStroke=er>0||br>0?Li(q.left+Ba,q.top+za,er-os/2,br-ls/2,Es.BOTTOM_RIGHT):new Or(q.left+q.width-os/2,q.top+q.height-ls/2),this.bottomLeftBorderStroke=zr>0||Kr>0?Li(q.left+la/2,q.top+ta,zr-la/2,Kr-ls/2,Es.BOTTOM_LEFT):new Or(q.left+la/2,q.top+q.height-ls/2),this.topLeftBorderBox=Ue>0||tt>0?Li(q.left,q.top,Ue,tt,Es.TOP_LEFT):new Or(q.left,q.top),this.topRightBorderBox=jt>0||Qt>0?Li(q.left+bn,q.top,jt,Qt,Es.TOP_RIGHT):new Or(q.left+q.width,q.top),this.bottomRightBorderBox=er>0||br>0?Li(q.left+Ba,q.top+za,er,br,Es.BOTTOM_RIGHT):new Or(q.left+q.width,q.top+q.height),this.bottomLeftBorderBox=zr>0||Kr>0?Li(q.left,q.top+ta,zr,Kr,Es.BOTTOM_LEFT):new Or(q.left,q.top+q.height),this.topLeftPaddingBox=Ue>0||tt>0?Li(q.left+la,q.top+ln,Math.max(0,Ue-la),Math.max(0,tt-ln),Es.TOP_LEFT):new Or(q.left+la,q.top+ln),this.topRightPaddingBox=jt>0||Qt>0?Li(q.left+Math.min(bn,q.width-os),q.top+ln,bn>q.width+os?0:Math.max(0,jt-os),Math.max(0,Qt-ln),Es.TOP_RIGHT):new Or(q.left+q.width-os,q.top+ln),this.bottomRightPaddingBox=er>0||br>0?Li(q.left+Math.min(Ba,q.width-la),q.top+Math.min(za,q.height-ls),Math.max(0,er-os),Math.max(0,br-ls),Es.BOTTOM_RIGHT):new Or(q.left+q.width-os,q.top+q.height-ls),this.bottomLeftPaddingBox=zr>0||Kr>0?Li(q.left+la,q.top+Math.min(ta,q.height-ls),Math.max(0,zr-la),Math.max(0,Kr-ls),Es.BOTTOM_LEFT):new Or(q.left+la,q.top+q.height-ls),this.topLeftContentBox=Ue>0||tt>0?Li(q.left+la+ri,q.top+ln+No,Math.max(0,Ue-(la+ri)),Math.max(0,tt-(ln+No)),Es.TOP_LEFT):new Or(q.left+la+ri,q.top+ln+No),this.topRightContentBox=jt>0||Qt>0?Li(q.left+Math.min(bn,q.width+la+ri),q.top+ln+No,bn>q.width+la+ri?0:jt-la+ri,Qt-(ln+No),Es.TOP_RIGHT):new Or(q.left+q.width-(os+_c),q.top+ln+No),this.bottomRightContentBox=er>0||br>0?Li(q.left+Math.min(Ba,q.width-(la+ri)),q.top+Math.min(za,q.height+ln+No),Math.max(0,er-(os+_c)),br-(ls+zu),Es.BOTTOM_RIGHT):new Or(q.left+q.width-(os+_c),q.top+q.height-(ls+zu)),this.bottomLeftContentBox=zr>0||Kr>0?Li(q.left+la+ri,q.top+ta,Math.max(0,zr-(la+ri)),Kr-(ls+zu),Es.BOTTOM_LEFT):new Or(q.left+la+ri,q.top+q.height-(ls+zu))}return H})(),Es;(function(H){H[H.TOP_LEFT=0]="TOP_LEFT",H[H.TOP_RIGHT=1]="TOP_RIGHT",H[H.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",H[H.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Es||(Es={}));var Li=function(H,D,G,q,we){var Ue=4*((Math.sqrt(2)-1)/3),tt=G*Ue,Nt=q*Ue,jt=H+G,Qt=D+q;switch(we){case Es.TOP_LEFT:return new g0(new Or(H,Qt),new Or(H,Qt-Nt),new Or(jt-tt,D),new Or(jt,D));case Es.TOP_RIGHT:return new g0(new Or(H,D),new Or(H+tt,D),new Or(jt,Qt-Nt),new Or(jt,Qt));case Es.BOTTOM_RIGHT:return new g0(new Or(jt,D),new Or(jt,D+Nt),new Or(H+tt,Qt),new Or(H,Qt));case Es.BOTTOM_LEFT:default:return new g0(new Or(jt,Qt),new Or(jt-tt,Qt),new Or(H,D+Nt),new Or(H,D))}},di=function(H){return[H.topLeftBorderBox,H.topRightBorderBox,H.bottomRightBorderBox,H.bottomLeftBorderBox]},yu=function(H){return[H.topLeftContentBox,H.topRightContentBox,H.bottomRightContentBox,H.bottomLeftContentBox]},Ad=function(H){return[H.topLeftPaddingBox,H.topRightPaddingBox,H.bottomRightPaddingBox,H.bottomLeftPaddingBox]},j1=(function(){function H(D,G,q){this.offsetX=D,this.offsetY=G,this.matrix=q,this.type=0,this.target=6}return H})(),x0=(function(){function H(D,G){this.path=D,this.target=G,this.type=1}return H})(),Fy=(function(){function H(D){this.opacity=D,this.type=2,this.target=6}return H})(),$g=function(H){return H.type===0},bu=function(H){return H.type===1},md=function(H){return H.type===2},Fp=function(H,D){return H.length===D.length?H.some(function(G,q){return G===D[q]}):!1},wu=function(H,D,G,q,we){return H.map(function(Ue,tt){switch(tt){case 0:return Ue.add(D,G);case 1:return Ue.add(D+q,G);case 2:return Ue.add(D+q,G+we);case 3:return Ue.add(D,G+we)}return Ue})},zg=(function(){function H(D){this.element=D,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return H})(),ah=(function(){function H(D,G){if(this.container=D,this.parent=G,this.effects=[],this.curves=new _y(this.container),this.container.styles.opacity<1&&this.effects.push(new Fy(this.container.styles.opacity)),this.container.styles.transform!==null){var q=this.container.bounds.left+this.container.styles.transformOrigin[0].number,we=this.container.bounds.top+this.container.styles.transformOrigin[1].number,Ue=this.container.styles.transform;this.effects.push(new j1(q,we,Ue))}if(this.container.styles.overflowX!==0){var tt=di(this.curves),Nt=Ad(this.curves);Fp(tt,Nt)?this.effects.push(new x0(tt,6)):(this.effects.push(new x0(tt,2)),this.effects.push(new x0(Nt,4)))}}return H.prototype.getEffects=function(D){for(var G=[2,3].indexOf(this.container.styles.position)===-1,q=this.parent,we=this.effects.slice(0);q;){var Ue=q.effects.filter(function(jt){return!bu(jt)});if(G||q.container.styles.position!==0||!q.parent){if(we.unshift.apply(we,Ue),G=[2,3].indexOf(q.container.styles.position)===-1,q.container.styles.overflowX!==0){var tt=di(q.curves),Nt=Ad(q.curves);Fp(tt,Nt)||we.unshift(new x0(Nt,6))}}else we.unshift.apply(we,Ue);q=q.parent}return we.filter(function(jt){return wt(jt.target,D)})},H})(),sh=function(H,D,G,q){H.container.elements.forEach(function(we){var Ue=wt(we.flags,4),tt=wt(we.flags,2),Nt=new ah(we,H);wt(we.styles.display,2048)&&q.push(Nt);var jt=wt(we.flags,8)?[]:q;if(Ue||tt){var Qt=Ue||we.styles.isPositioned()?G:D,Kt=new zg(Nt);if(we.styles.isPositioned()||we.styles.opacity<1||we.styles.isTransformed()){var er=we.styles.zIndex.order;if(er<0){var br=0;Qt.negativeZIndex.some(function(zr,Kr){return er>zr.element.container.styles.zIndex.order?(br=Kr,!1):br>0}),Qt.negativeZIndex.splice(br,0,Kt)}else if(er>0){var Gr=0;Qt.positiveZIndex.some(function(zr,Kr){return er>=zr.element.container.styles.zIndex.order?(Gr=Kr+1,!1):Gr>0}),Qt.positiveZIndex.splice(Gr,0,Kt)}else Qt.zeroOrAutoZIndexOrTransformedOrOpacity.push(Kt)}else we.styles.isFloating()?Qt.nonPositionedFloats.push(Kt):Qt.nonPositionedInlineLevel.push(Kt);sh(Nt,Kt,Ue?Kt:G,jt)}else we.styles.isInlineLevel()?D.inlineLevel.push(Nt):D.nonInlineLevel.push(Nt),sh(Nt,D,G,jt);wt(we.flags,8)&&Nf(we,jt)})},Nf=function(H,D){for(var G=H instanceof pp?H.start:1,q=H instanceof pp?H.reversed:!1,we=0;we<D.length;we++){var Ue=D[we];Ue.container instanceof a0&&typeof Ue.container.value=="number"&&Ue.container.value!==0&&(G=Ue.container.value),Ue.listValue=SA(G,Ue.container.styles.listStyleType,!0),G+=q?-1:1}},Vg=function(H){var D=new ah(H,null),G=new zg(D),q=[];return sh(D,G,G,q),Nf(D.container,q),G},Ip=function(H,D){switch(D){case 0:return fi(H.topLeftBorderBox,H.topLeftPaddingBox,H.topRightBorderBox,H.topRightPaddingBox);case 1:return fi(H.topRightBorderBox,H.topRightPaddingBox,H.bottomRightBorderBox,H.bottomRightPaddingBox);case 2:return fi(H.bottomRightBorderBox,H.bottomRightPaddingBox,H.bottomLeftBorderBox,H.bottomLeftPaddingBox);case 3:default:return fi(H.bottomLeftBorderBox,H.bottomLeftPaddingBox,H.topLeftBorderBox,H.topLeftPaddingBox)}},jf=function(H,D){switch(D){case 0:return fi(H.topLeftBorderBox,H.topLeftBorderDoubleOuterBox,H.topRightBorderBox,H.topRightBorderDoubleOuterBox);case 1:return fi(H.topRightBorderBox,H.topRightBorderDoubleOuterBox,H.bottomRightBorderBox,H.bottomRightBorderDoubleOuterBox);case 2:return fi(H.bottomRightBorderBox,H.bottomRightBorderDoubleOuterBox,H.bottomLeftBorderBox,H.bottomLeftBorderDoubleOuterBox);case 3:default:return fi(H.bottomLeftBorderBox,H.bottomLeftBorderDoubleOuterBox,H.topLeftBorderBox,H.topLeftBorderDoubleOuterBox)}},S1=function(H,D){switch(D){case 0:return fi(H.topLeftBorderDoubleInnerBox,H.topLeftPaddingBox,H.topRightBorderDoubleInnerBox,H.topRightPaddingBox);case 1:return fi(H.topRightBorderDoubleInnerBox,H.topRightPaddingBox,H.bottomRightBorderDoubleInnerBox,H.bottomRightPaddingBox);case 2:return fi(H.bottomRightBorderDoubleInnerBox,H.bottomRightPaddingBox,H.bottomLeftBorderDoubleInnerBox,H.bottomLeftPaddingBox);case 3:default:return fi(H.bottomLeftBorderDoubleInnerBox,H.bottomLeftPaddingBox,H.topLeftBorderDoubleInnerBox,H.topLeftPaddingBox)}},pm=function(H,D){switch(D){case 0:return Rh(H.topLeftBorderStroke,H.topRightBorderStroke);case 1:return Rh(H.topRightBorderStroke,H.bottomRightBorderStroke);case 2:return Rh(H.bottomRightBorderStroke,H.bottomLeftBorderStroke);case 3:default:return Rh(H.bottomLeftBorderStroke,H.topLeftBorderStroke)}},Rh=function(H,D){var G=[];return Ms(H)?G.push(H.subdivide(.5,!1)):G.push(H),Ms(D)?G.push(D.subdivide(.5,!0)):G.push(D),G},fi=function(H,D,G,q){var we=[];return Ms(H)?we.push(H.subdivide(.5,!1)):we.push(H),Ms(G)?we.push(G.subdivide(.5,!0)):we.push(G),Ms(q)?we.push(q.subdivide(.5,!0).reverse()):we.push(q),Ms(D)?we.push(D.subdivide(.5,!1).reverse()):we.push(D),we},TA=function(H){var D=H.bounds,G=H.styles;return D.add(G.borderLeftWidth,G.borderTopWidth,-(G.borderRightWidth+G.borderLeftWidth),-(G.borderTopWidth+G.borderBottomWidth))},v0=function(H){var D=H.styles,G=H.bounds,q=$n(D.paddingLeft,G.width),we=$n(D.paddingRight,G.width),Ue=$n(D.paddingTop,G.width),tt=$n(D.paddingBottom,G.width);return G.add(q+D.borderLeftWidth,Ue+D.borderTopWidth,-(D.borderRightWidth+D.borderLeftWidth+q+we),-(D.borderTopWidth+D.borderBottomWidth+Ue+tt))},C1=function(H,D){return H===0?D.bounds:H===2?v0(D):TA(D)},gm=function(H,D){return H===0?D.bounds:H===2?v0(D):TA(D)},kp=function(H,D,G){var q=C1(Qh(H.styles.backgroundOrigin,D),H),we=gm(Qh(H.styles.backgroundClip,D),H),Ue=Iy(Qh(H.styles.backgroundSize,D),G,q),tt=Ue[0],Nt=Ue[1],jt=ms(Qh(H.styles.backgroundPosition,D),q.width-tt,q.height-Nt),Qt=qs(Qh(H.styles.backgroundRepeat,D),jt,Ue,q,we),Kt=Math.round(q.left+jt[0]),er=Math.round(q.top+jt[1]);return[Qt,Kt,er,tt,Nt]},ih=function(H){return En(H)&&H.value===gi.AUTO},y0=function(H){return typeof H=="number"},Iy=function(H,D,G){var q=D[0],we=D[1],Ue=D[2],tt=H[0],Nt=H[1];if(!tt)return[0,0];if(ya(tt)&&Nt&&ya(Nt))return[$n(tt,G.width),$n(Nt,G.height)];var jt=y0(Ue);if(En(tt)&&(tt.value===gi.CONTAIN||tt.value===gi.COVER)){if(y0(Ue)){var Qt=G.width/G.height;return Qt<Ue!=(tt.value===gi.COVER)?[G.width,G.width/Ue]:[G.height*Ue,G.height]}return[G.width,G.height]}var Kt=y0(q),er=y0(we),br=Kt||er;if(ih(tt)&&(!Nt||ih(Nt))){if(Kt&&er)return[q,we];if(!jt&&!br)return[G.width,G.height];if(br&&jt){var Gr=Kt?q:we*Ue,zr=er?we:q/Ue;return[Gr,zr]}var Kr=Kt?q:G.width,Fa=er?we:G.height;return[Kr,Fa]}if(jt){var jn=0,bn=0;return ya(tt)?jn=$n(tt,G.width):ya(Nt)&&(bn=$n(Nt,G.height)),ih(tt)?jn=bn*Ue:(!Nt||ih(Nt))&&(bn=jn/Ue),[jn,bn]}var za=null,Ba=null;if(ya(tt)?za=$n(tt,G.width):Nt&&ya(Nt)&&(Ba=$n(Nt,G.height)),za!==null&&(!Nt||ih(Nt))&&(Ba=Kt&&er?za/q*we:G.height),Ba!==null&&ih(tt)&&(za=Kt&&er?Ba/we*q:G.width),za!==null&&Ba!==null)return[za,Ba];throw new Error("Unable to calculate background-size for element")},Qh=function(H,D){var G=H[D];return typeof G>"u"?H[0]:G},qs=function(H,D,G,q,we){var Ue=D[0],tt=D[1],Nt=G[0],jt=G[1];switch(H){case 2:return[new Or(Math.round(q.left),Math.round(q.top+tt)),new Or(Math.round(q.left+q.width),Math.round(q.top+tt)),new Or(Math.round(q.left+q.width),Math.round(jt+q.top+tt)),new Or(Math.round(q.left),Math.round(jt+q.top+tt))];case 3:return[new Or(Math.round(q.left+Ue),Math.round(q.top)),new Or(Math.round(q.left+Ue+Nt),Math.round(q.top)),new Or(Math.round(q.left+Ue+Nt),Math.round(q.height+q.top)),new Or(Math.round(q.left+Ue),Math.round(q.height+q.top))];case 1:return[new Or(Math.round(q.left+Ue),Math.round(q.top+tt)),new Or(Math.round(q.left+Ue+Nt),Math.round(q.top+tt)),new Or(Math.round(q.left+Ue+Nt),Math.round(q.top+tt+jt)),new Or(Math.round(q.left+Ue),Math.round(q.top+tt+jt))];default:return[new Or(Math.round(we.left),Math.round(we.top)),new Or(Math.round(we.left+we.width),Math.round(we.top)),new Or(Math.round(we.left+we.width),Math.round(we.height+we.top)),new Or(Math.round(we.left),Math.round(we.height+we.top))]}},bi="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Ga="Hidden Text",hs=(function(){function H(D){this._data={},this._document=D}return H.prototype.parseMetrics=function(D,G){var q=this._document.createElement("div"),we=this._document.createElement("img"),Ue=this._document.createElement("span"),tt=this._document.body;q.style.visibility="hidden",q.style.fontFamily=D,q.style.fontSize=G,q.style.margin="0",q.style.padding="0",q.style.whiteSpace="nowrap",tt.appendChild(q),we.src=bi,we.width=1,we.height=1,we.style.margin="0",we.style.padding="0",we.style.verticalAlign="baseline",Ue.style.fontFamily=D,Ue.style.fontSize=G,Ue.style.margin="0",Ue.style.padding="0",Ue.appendChild(this._document.createTextNode(Ga)),q.appendChild(Ue),q.appendChild(we);var Nt=we.offsetTop-Ue.offsetTop+2;q.removeChild(Ue),q.appendChild(this._document.createTextNode(Ga)),q.style.lineHeight="normal",we.style.verticalAlign="super";var jt=we.offsetTop-q.offsetTop+2;return tt.removeChild(q),{baseline:Nt,middle:jt}},H.prototype.getMetrics=function(D,G){var q=D+" "+G;return typeof this._data[q]>"u"&&(this._data[q]=this.parseMetrics(D,G)),this._data[q]},H})(),Us=(function(){function H(D,G){this.context=D,this.options=G}return H})(),$u=1e4,Hh=(function(H){n(D,H);function D(G,q){var we=H.call(this,G,q)||this;return we._activeEffects=[],we.canvas=q.canvas?q.canvas:document.createElement("canvas"),we.ctx=we.canvas.getContext("2d"),q.canvas||(we.canvas.width=Math.floor(q.width*q.scale),we.canvas.height=Math.floor(q.height*q.scale),we.canvas.style.width=q.width+"px",we.canvas.style.height=q.height+"px"),we.fontMetrics=new hs(document),we.ctx.scale(we.options.scale,we.options.scale),we.ctx.translate(-q.x,-q.y),we.ctx.textBaseline="bottom",we._activeEffects=[],we.context.logger.debug("Canvas renderer initialized ("+q.width+"x"+q.height+") with scale "+q.scale),we}return D.prototype.applyEffects=function(G){for(var q=this;this._activeEffects.length;)this.popEffect();G.forEach(function(we){return q.applyEffect(we)})},D.prototype.applyEffect=function(G){this.ctx.save(),md(G)&&(this.ctx.globalAlpha=G.opacity),$g(G)&&(this.ctx.translate(G.offsetX,G.offsetY),this.ctx.transform(G.matrix[0],G.matrix[1],G.matrix[2],G.matrix[3],G.matrix[4],G.matrix[5]),this.ctx.translate(-G.offsetX,-G.offsetY)),bu(G)&&(this.path(G.path),this.ctx.clip()),this._activeEffects.push(G)},D.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},D.prototype.renderStack=function(G){return i(this,void 0,void 0,function(){var q;return o(this,function(we){switch(we.label){case 0:return q=G.element.container.styles,q.isVisible()?[4,this.renderStackContent(G)]:[3,2];case 1:we.sent(),we.label=2;case 2:return[2]}})})},D.prototype.renderNode=function(G){return i(this,void 0,void 0,function(){return o(this,function(q){switch(q.label){case 0:if(wt(G.container.flags,16))debugger;return G.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(G)]:[3,3];case 1:return q.sent(),[4,this.renderNodeContent(G)];case 2:q.sent(),q.label=3;case 3:return[2]}})})},D.prototype.renderTextWithLetterSpacing=function(G,q,we){var Ue=this;if(q===0)this.ctx.fillText(G.text,G.bounds.left,G.bounds.top+we);else{var tt=Zi(G.text);tt.reduce(function(Nt,jt){return Ue.ctx.fillText(jt,Nt,G.bounds.top+we),Nt+Ue.ctx.measureText(jt).width},G.bounds.left)}},D.prototype.createFontStyle=function(G){var q=G.fontVariant.filter(function(tt){return tt==="normal"||tt==="small-caps"}).join(""),we=$h(G.fontFamily).join(", "),Ue=Ha(G.fontSize)?""+G.fontSize.number+G.fontSize.unit:G.fontSize.number+"px";return[[G.fontStyle,q,G.fontWeight,Ue,we].join(" "),we,Ue]},D.prototype.renderTextNode=function(G,q){return i(this,void 0,void 0,function(){var we,Ue,tt,Nt,jt,Qt,Kt,er,br=this;return o(this,function(Gr){return we=this.createFontStyle(q),Ue=we[0],tt=we[1],Nt=we[2],this.ctx.font=Ue,this.ctx.direction=q.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",jt=this.fontMetrics.getMetrics(tt,Nt),Qt=jt.baseline,Kt=jt.middle,er=q.paintOrder,G.textBounds.forEach(function(zr){er.forEach(function(Kr){switch(Kr){case 0:br.ctx.fillStyle=Pa(q.color),br.renderTextWithLetterSpacing(zr,q.letterSpacing,Qt);var Fa=q.textShadow;Fa.length&&zr.text.trim().length&&(Fa.slice(0).reverse().forEach(function(jn){br.ctx.shadowColor=Pa(jn.color),br.ctx.shadowOffsetX=jn.offsetX.number*br.options.scale,br.ctx.shadowOffsetY=jn.offsetY.number*br.options.scale,br.ctx.shadowBlur=jn.blur.number,br.renderTextWithLetterSpacing(zr,q.letterSpacing,Qt)}),br.ctx.shadowColor="",br.ctx.shadowOffsetX=0,br.ctx.shadowOffsetY=0,br.ctx.shadowBlur=0),q.textDecorationLine.length&&(br.ctx.fillStyle=Pa(q.textDecorationColor||q.color),q.textDecorationLine.forEach(function(jn){switch(jn){case 1:br.ctx.fillRect(zr.bounds.left,Math.round(zr.bounds.top+Qt),zr.bounds.width,1);break;case 2:br.ctx.fillRect(zr.bounds.left,Math.round(zr.bounds.top),zr.bounds.width,1);break;case 3:br.ctx.fillRect(zr.bounds.left,Math.ceil(zr.bounds.top+Kt),zr.bounds.width,1);break}}));break;case 1:q.webkitTextStrokeWidth&&zr.text.trim().length&&(br.ctx.strokeStyle=Pa(q.webkitTextStrokeColor),br.ctx.lineWidth=q.webkitTextStrokeWidth,br.ctx.lineJoin=window.chrome?"miter":"round",br.ctx.strokeText(zr.text,zr.bounds.left,zr.bounds.top+Qt)),br.ctx.strokeStyle="",br.ctx.lineWidth=0,br.ctx.lineJoin="miter";break}})}),[2]})})},D.prototype.renderReplacedElement=function(G,q,we){if(we&&G.intrinsicWidth>0&&G.intrinsicHeight>0){var Ue=v0(G),tt=Ad(q);this.path(tt),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(we,0,0,G.intrinsicWidth,G.intrinsicHeight,Ue.left,Ue.top,Ue.width,Ue.height),this.ctx.restore()}},D.prototype.renderNodeContent=function(G){return i(this,void 0,void 0,function(){var q,we,Ue,tt,Nt,jt,bn,bn,Qt,Kt,er,br,Ba,Gr,zr,ta,Kr,Fa,jn,bn,za,Ba,ta;return o(this,function(ln){switch(ln.label){case 0:this.applyEffects(G.getEffects(4)),q=G.container,we=G.curves,Ue=q.styles,tt=0,Nt=q.textNodes,ln.label=1;case 1:return tt<Nt.length?(jt=Nt[tt],[4,this.renderTextNode(jt,Ue)]):[3,4];case 2:ln.sent(),ln.label=3;case 3:return tt++,[3,1];case 4:if(!(q instanceof Ap))return[3,8];ln.label=5;case 5:return ln.trys.push([5,7,,8]),[4,this.context.cache.match(q.src)];case 6:return bn=ln.sent(),this.renderReplacedElement(q,we,bn),[3,8];case 7:return ln.sent(),this.context.logger.error("Error loading image "+q.src),[3,8];case 8:if(q instanceof Lh&&this.renderReplacedElement(q,we,q.canvas),!(q instanceof mp))return[3,12];ln.label=9;case 9:return ln.trys.push([9,11,,12]),[4,this.context.cache.match(q.svg)];case 10:return bn=ln.sent(),this.renderReplacedElement(q,we,bn),[3,12];case 11:return ln.sent(),this.context.logger.error("Error loading svg "+q.svg.substring(0,255)),[3,12];case 12:return q instanceof gp&&q.tree?(Qt=new D(this.context,{scale:this.options.scale,backgroundColor:q.backgroundColor,x:0,y:0,width:q.width,height:q.height}),[4,Qt.render(q.tree)]):[3,14];case 13:Kt=ln.sent(),q.width&&q.height&&this.ctx.drawImage(Kt,0,0,q.width,q.height,q.bounds.left,q.bounds.top,q.bounds.width,q.bounds.height),ln.label=14;case 14:if(q instanceof wA&&(er=Math.min(q.bounds.width,q.bounds.height),q.type===i0?q.checked&&(this.ctx.save(),this.path([new Or(q.bounds.left+er*.39363,q.bounds.top+er*.79),new Or(q.bounds.left+er*.16,q.bounds.top+er*.5549),new Or(q.bounds.left+er*.27347,q.bounds.top+er*.44071),new Or(q.bounds.left+er*.39694,q.bounds.top+er*.5649),new Or(q.bounds.left+er*.72983,q.bounds.top+er*.23),new Or(q.bounds.left+er*.84,q.bounds.top+er*.34085),new Or(q.bounds.left+er*.39363,q.bounds.top+er*.79)]),this.ctx.fillStyle=Pa(o0),this.ctx.fill(),this.ctx.restore()):q.type===bo&&q.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(q.bounds.left+er/2,q.bounds.top+er/2,er/4,0,Math.PI*2,!0),this.ctx.fillStyle=Pa(o0),this.ctx.fill(),this.ctx.restore())),xm(q)&&q.value.length){switch(br=this.createFontStyle(Ue),Ba=br[0],Gr=br[1],zr=this.fontMetrics.getMetrics(Ba,Gr).baseline,this.ctx.font=Ba,this.ctx.fillStyle=Pa(Ue.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=oh(q.styles.textAlign),ta=v0(q),Kr=0,q.styles.textAlign){case 1:Kr+=ta.width/2;break;case 2:Kr+=ta.width;break}Fa=ta.add(Kr,0,0,-ta.height/2+1),this.ctx.save(),this.path([new Or(ta.left,ta.top),new Or(ta.left+ta.width,ta.top),new Or(ta.left+ta.width,ta.top+ta.height),new Or(ta.left,ta.top+ta.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Jl(q.value,Fa),Ue.letterSpacing,zr),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!wt(q.styles.display,2048))return[3,20];if(q.styles.listStyleImage===null)return[3,19];if(jn=q.styles.listStyleImage,jn.type!==0)return[3,18];bn=void 0,za=jn.url,ln.label=15;case 15:return ln.trys.push([15,17,,18]),[4,this.context.cache.match(za)];case 16:return bn=ln.sent(),this.ctx.drawImage(bn,q.bounds.left-(bn.width+10),q.bounds.top),[3,18];case 17:return ln.sent(),this.context.logger.error("Error loading list-style-image "+za),[3,18];case 18:return[3,20];case 19:G.listValue&&q.styles.listStyleType!==-1&&(Ba=this.createFontStyle(Ue)[0],this.ctx.font=Ba,this.ctx.fillStyle=Pa(Ue.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",ta=new c(q.bounds.left,q.bounds.top+$n(q.styles.paddingTop,q.bounds.width),q.bounds.width,xi(Ue.lineHeight,Ue.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Jl(G.listValue,ta),Ue.letterSpacing,xi(Ue.lineHeight,Ue.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),ln.label=20;case 20:return[2]}})})},D.prototype.renderStackContent=function(G){return i(this,void 0,void 0,function(){var q,we,jn,Ue,tt,jn,Nt,jt,jn,Qt,Kt,jn,er,br,jn,Gr,zr,jn,Kr,Fa,jn;return o(this,function(bn){switch(bn.label){case 0:if(wt(G.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(G.element)];case 1:bn.sent(),q=0,we=G.negativeZIndex,bn.label=2;case 2:return q<we.length?(jn=we[q],[4,this.renderStack(jn)]):[3,5];case 3:bn.sent(),bn.label=4;case 4:return q++,[3,2];case 5:return[4,this.renderNodeContent(G.element)];case 6:bn.sent(),Ue=0,tt=G.nonInlineLevel,bn.label=7;case 7:return Ue<tt.length?(jn=tt[Ue],[4,this.renderNode(jn)]):[3,10];case 8:bn.sent(),bn.label=9;case 9:return Ue++,[3,7];case 10:Nt=0,jt=G.nonPositionedFloats,bn.label=11;case 11:return Nt<jt.length?(jn=jt[Nt],[4,this.renderStack(jn)]):[3,14];case 12:bn.sent(),bn.label=13;case 13:return Nt++,[3,11];case 14:Qt=0,Kt=G.nonPositionedInlineLevel,bn.label=15;case 15:return Qt<Kt.length?(jn=Kt[Qt],[4,this.renderStack(jn)]):[3,18];case 16:bn.sent(),bn.label=17;case 17:return Qt++,[3,15];case 18:er=0,br=G.inlineLevel,bn.label=19;case 19:return er<br.length?(jn=br[er],[4,this.renderNode(jn)]):[3,22];case 20:bn.sent(),bn.label=21;case 21:return er++,[3,19];case 22:Gr=0,zr=G.zeroOrAutoZIndexOrTransformedOrOpacity,bn.label=23;case 23:return Gr<zr.length?(jn=zr[Gr],[4,this.renderStack(jn)]):[3,26];case 24:bn.sent(),bn.label=25;case 25:return Gr++,[3,23];case 26:Kr=0,Fa=G.positiveZIndex,bn.label=27;case 27:return Kr<Fa.length?(jn=Fa[Kr],[4,this.renderStack(jn)]):[3,30];case 28:bn.sent(),bn.label=29;case 29:return Kr++,[3,27];case 30:return[2]}})})},D.prototype.mask=function(G){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(G.slice(0).reverse()),this.ctx.closePath()},D.prototype.path=function(G){this.ctx.beginPath(),this.formatPath(G),this.ctx.closePath()},D.prototype.formatPath=function(G){var q=this;G.forEach(function(we,Ue){var tt=Ms(we)?we.start:we;Ue===0?q.ctx.moveTo(tt.x,tt.y):q.ctx.lineTo(tt.x,tt.y),Ms(we)&&q.ctx.bezierCurveTo(we.startControl.x,we.startControl.y,we.endControl.x,we.endControl.y,we.end.x,we.end.y)})},D.prototype.renderRepeat=function(G,q,we,Ue){this.path(G),this.ctx.fillStyle=q,this.ctx.translate(we,Ue),this.ctx.fill(),this.ctx.translate(-we,-Ue)},D.prototype.resizeImage=function(G,q,we){var Ue;if(G.width===q&&G.height===we)return G;var tt=(Ue=this.canvas.ownerDocument)!==null&&Ue!==void 0?Ue:document,Nt=tt.createElement("canvas");Nt.width=Math.max(1,q),Nt.height=Math.max(1,we);var jt=Nt.getContext("2d");return jt.drawImage(G,0,0,G.width,G.height,0,0,q,we),Nt},D.prototype.renderBackgroundImage=function(G){return i(this,void 0,void 0,function(){var q,we,Ue,tt,Nt,jt;return o(this,function(Qt){switch(Qt.label){case 0:q=G.styles.backgroundImage.length-1,we=function(Kt){var er,br,Gr,No,Xc,ll,ri,Fl,ls,zr,No,Xc,ll,ri,Fl,Kr,Fa,jn,bn,za,Ba,ta,ln,os,ls,la,No,_c,zu,ri,Fl,Sf,Xc,ll,Cf,Xd,gd,zh,Vh,Ef,Kh,xd;return o(this,function(FA){switch(FA.label){case 0:if(Kt.type!==0)return[3,5];er=void 0,br=Kt.url,FA.label=1;case 1:return FA.trys.push([1,3,,4]),[4,Ue.context.cache.match(br)];case 2:return er=FA.sent(),[3,4];case 3:return FA.sent(),Ue.context.logger.error("Error loading background-image "+br),[3,4];case 4:return er&&(Gr=kp(G,q,[er.width,er.height,er.width/er.height]),No=Gr[0],Xc=Gr[1],ll=Gr[2],ri=Gr[3],Fl=Gr[4],ls=Ue.ctx.createPattern(Ue.resizeImage(er,ri,Fl),"repeat"),Ue.renderRepeat(No,ls,Xc,ll)),[3,6];case 5:Vo(Kt)?(zr=kp(G,q,[null,null,null]),No=zr[0],Xc=zr[1],ll=zr[2],ri=zr[3],Fl=zr[4],Kr=ea(Kt.angle,ri,Fl),Fa=Kr[0],jn=Kr[1],bn=Kr[2],za=Kr[3],Ba=Kr[4],ta=document.createElement("canvas"),ta.width=ri,ta.height=Fl,ln=ta.getContext("2d"),os=ln.createLinearGradient(jn,za,bn,Ba),Rr(Kt.stops,Fa).forEach(function(ym){return os.addColorStop(ym.stop,Pa(ym.color))}),ln.fillStyle=os,ln.fillRect(0,0,ri,Fl),ri>0&&Fl>0&&(ls=Ue.ctx.createPattern(ta,"repeat"),Ue.renderRepeat(No,ls,Xc,ll))):Ko(Kt)&&(la=kp(G,q,[null,null,null]),No=la[0],_c=la[1],zu=la[2],ri=la[3],Fl=la[4],Sf=Kt.position.length===0?[yc]:Kt.position,Xc=$n(Sf[0],ri),ll=$n(Sf[Sf.length-1],Fl),Cf=bc(Kt,Xc,ll,ri,Fl),Xd=Cf[0],gd=Cf[1],Xd>0&&gd>0&&(zh=Ue.ctx.createRadialGradient(_c+Xc,zu+ll,0,_c+Xc,zu+ll,Xd),Rr(Kt.stops,Xd*2).forEach(function(ym){return zh.addColorStop(ym.stop,Pa(ym.color))}),Ue.path(No),Ue.ctx.fillStyle=zh,Xd!==gd?(Vh=G.bounds.left+.5*G.bounds.width,Ef=G.bounds.top+.5*G.bounds.height,Kh=gd/Xd,xd=1/Kh,Ue.ctx.save(),Ue.ctx.translate(Vh,Ef),Ue.ctx.transform(1,0,0,Kh,0,0),Ue.ctx.translate(-Vh,-Ef),Ue.ctx.fillRect(_c,xd*(zu-Ef)+Ef,ri,Fl*xd),Ue.ctx.restore()):Ue.ctx.fill())),FA.label=6;case 6:return q--,[2]}})},Ue=this,tt=0,Nt=G.styles.backgroundImage.slice(0).reverse(),Qt.label=1;case 1:return tt<Nt.length?(jt=Nt[tt],[5,we(jt)]):[3,4];case 2:Qt.sent(),Qt.label=3;case 3:return tt++,[3,1];case 4:return[2]}})})},D.prototype.renderSolidBorder=function(G,q,we){return i(this,void 0,void 0,function(){return o(this,function(Ue){return this.path(Ip(we,q)),this.ctx.fillStyle=Pa(G),this.ctx.fill(),[2]})})},D.prototype.renderDoubleBorder=function(G,q,we,Ue){return i(this,void 0,void 0,function(){var tt,Nt;return o(this,function(jt){switch(jt.label){case 0:return q<3?[4,this.renderSolidBorder(G,we,Ue)]:[3,2];case 1:return jt.sent(),[2];case 2:return tt=jf(Ue,we),this.path(tt),this.ctx.fillStyle=Pa(G),this.ctx.fill(),Nt=S1(Ue,we),this.path(Nt),this.ctx.fill(),[2]}})})},D.prototype.renderNodeBackgroundAndBorders=function(G){return i(this,void 0,void 0,function(){var q,we,Ue,tt,Nt,jt,Qt,Kt,er=this;return o(this,function(br){switch(br.label){case 0:return this.applyEffects(G.getEffects(2)),q=G.container.styles,we=!ps(q.backgroundColor)||q.backgroundImage.length,Ue=[{style:q.borderTopStyle,color:q.borderTopColor,width:q.borderTopWidth},{style:q.borderRightStyle,color:q.borderRightColor,width:q.borderRightWidth},{style:q.borderBottomStyle,color:q.borderBottomColor,width:q.borderBottomWidth},{style:q.borderLeftStyle,color:q.borderLeftColor,width:q.borderLeftWidth}],tt=Kg(Qh(q.backgroundClip,0),G.curves),we||q.boxShadow.length?(this.ctx.save(),this.path(tt),this.ctx.clip(),ps(q.backgroundColor)||(this.ctx.fillStyle=Pa(q.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(G.container)]):[3,2];case 1:br.sent(),this.ctx.restore(),q.boxShadow.slice(0).reverse().forEach(function(Gr){er.ctx.save();var zr=di(G.curves),Kr=Gr.inset?0:$u,Fa=wu(zr,-Kr+(Gr.inset?1:-1)*Gr.spread.number,(Gr.inset?1:-1)*Gr.spread.number,Gr.spread.number*(Gr.inset?-2:2),Gr.spread.number*(Gr.inset?-2:2));Gr.inset?(er.path(zr),er.ctx.clip(),er.mask(Fa)):(er.mask(zr),er.ctx.clip(),er.path(Fa)),er.ctx.shadowOffsetX=Gr.offsetX.number+Kr,er.ctx.shadowOffsetY=Gr.offsetY.number,er.ctx.shadowColor=Pa(Gr.color),er.ctx.shadowBlur=Gr.blur.number,er.ctx.fillStyle=Gr.inset?Pa(Gr.color):"rgba(0,0,0,1)",er.ctx.fill(),er.ctx.restore()}),br.label=2;case 2:Nt=0,jt=0,Qt=Ue,br.label=3;case 3:return jt<Qt.length?(Kt=Qt[jt],Kt.style!==0&&!ps(Kt.color)&&Kt.width>0?Kt.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Kt.color,Kt.width,Nt,G.curves,2)]:[3,11]):[3,13];case 4:return br.sent(),[3,11];case 5:return Kt.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Kt.color,Kt.width,Nt,G.curves,3)];case 6:return br.sent(),[3,11];case 7:return Kt.style!==4?[3,9]:[4,this.renderDoubleBorder(Kt.color,Kt.width,Nt,G.curves)];case 8:return br.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Kt.color,Nt,G.curves)];case 10:br.sent(),br.label=11;case 11:Nt++,br.label=12;case 12:return jt++,[3,3];case 13:return[2]}})})},D.prototype.renderDashedDottedBorder=function(G,q,we,Ue,tt){return i(this,void 0,void 0,function(){var Nt,jt,Qt,Kt,er,br,Gr,zr,Kr,Fa,jn,bn,za,Ba,ta,ln,ta,ln;return o(this,function(os){return this.ctx.save(),Nt=pm(Ue,we),jt=Ip(Ue,we),tt===2&&(this.path(jt),this.ctx.clip()),Ms(jt[0])?(Qt=jt[0].start.x,Kt=jt[0].start.y):(Qt=jt[0].x,Kt=jt[0].y),Ms(jt[1])?(er=jt[1].end.x,br=jt[1].end.y):(er=jt[1].x,br=jt[1].y),we===0||we===2?Gr=Math.abs(Qt-er):Gr=Math.abs(Kt-br),this.ctx.beginPath(),tt===3?this.formatPath(Nt):this.formatPath(jt.slice(0,2)),zr=q<3?q*3:q*2,Kr=q<3?q*2:q,tt===3&&(zr=q,Kr=q),Fa=!0,Gr<=zr*2?Fa=!1:Gr<=zr*2+Kr?(jn=Gr/(2*zr+Kr),zr*=jn,Kr*=jn):(bn=Math.floor((Gr+Kr)/(zr+Kr)),za=(Gr-bn*zr)/(bn-1),Ba=(Gr-(bn+1)*zr)/bn,Kr=Ba<=0||Math.abs(Kr-za)<Math.abs(Kr-Ba)?za:Ba),Fa&&(tt===3?this.ctx.setLineDash([0,zr+Kr]):this.ctx.setLineDash([zr,Kr])),tt===3?(this.ctx.lineCap="round",this.ctx.lineWidth=q):this.ctx.lineWidth=q*2+1.1,this.ctx.strokeStyle=Pa(G),this.ctx.stroke(),this.ctx.setLineDash([]),tt===2&&(Ms(jt[0])&&(ta=jt[3],ln=jt[0],this.ctx.beginPath(),this.formatPath([new Or(ta.end.x,ta.end.y),new Or(ln.start.x,ln.start.y)]),this.ctx.stroke()),Ms(jt[1])&&(ta=jt[1],ln=jt[2],this.ctx.beginPath(),this.formatPath([new Or(ta.end.x,ta.end.y),new Or(ln.start.x,ln.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},D.prototype.render=function(G){return i(this,void 0,void 0,function(){var q;return o(this,function(we){switch(we.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Pa(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),q=Vg(G),[4,this.renderStack(q)];case 1:return we.sent(),this.applyEffects([]),[2,this.canvas]}})})},D})(Us),xm=function(H){return H instanceof Dh||H instanceof Oh?!0:H instanceof wA&&H.type!==bo&&H.type!==i0},Kg=function(H,D){switch(H){case 0:return di(D);case 2:return yu(D);case 1:default:return Ad(D)}},oh=function(H){switch(H){case 1:return"center";case 2:return"right";case 0:default:return"left"}},wo=["-apple-system","system-ui"],$h=function(H){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?H.filter(function(D){return wo.indexOf(D)===-1}):H},_A=(function(H){n(D,H);function D(G,q){var we=H.call(this,G,q)||this;return we.canvas=q.canvas?q.canvas:document.createElement("canvas"),we.ctx=we.canvas.getContext("2d"),we.options=q,we.canvas.width=Math.floor(q.width*q.scale),we.canvas.height=Math.floor(q.height*q.scale),we.canvas.style.width=q.width+"px",we.canvas.style.height=q.height+"px",we.ctx.scale(we.options.scale,we.options.scale),we.ctx.translate(-q.x,-q.y),we.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+q.width+"x"+q.height+" at "+q.x+","+q.y+") with scale "+q.scale),we}return D.prototype.render=function(G){return i(this,void 0,void 0,function(){var q,we;return o(this,function(Ue){switch(Ue.label){case 0:return q=qd(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,G),[4,qg(q)];case 1:return we=Ue.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Pa(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(we,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},D})(Us),qg=function(H){return new Promise(function(D,G){var q=new Image;q.onload=function(){D(q)},q.onerror=G,q.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(H))})},pd=(function(){function H(D){var G=D.id,q=D.enabled;this.id=G,this.enabled=q,this.start=Date.now()}return H.prototype.debug=function(){for(var D=[],G=0;G<arguments.length;G++)D[G]=arguments[G];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,l([this.id,this.getTime()+"ms"],D)):this.info.apply(this,D))},H.prototype.getTime=function(){return Date.now()-this.start},H.prototype.info=function(){for(var D=[],G=0;G<arguments.length;G++)D[G]=arguments[G];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,l([this.id,this.getTime()+"ms"],D))},H.prototype.warn=function(){for(var D=[],G=0;G<arguments.length;G++)D[G]=arguments[G];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,l([this.id,this.getTime()+"ms"],D)):this.info.apply(this,D))},H.prototype.error=function(){for(var D=[],G=0;G<arguments.length;G++)D[G]=arguments[G];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,l([this.id,this.getTime()+"ms"],D)):this.info.apply(this,D))},H.instances={},H})(),vm=(function(){function H(D,G){var q;this.windowBounds=G,this.instanceName="#"+H.instanceCount++,this.logger=new pd({id:this.instanceName,enabled:D.logging}),this.cache=(q=D.cache)!==null&&q!==void 0?q:new bf(this,D)}return H.instanceCount=1,H})(),b0=function(H,D){return D===void 0&&(D={}),Nu(H,D)};typeof window<"u"&&EA.setContext(window);var Nu=function(H,D){return i(void 0,void 0,void 0,function(){var G,q,we,Ue,tt,Nt,jt,Qt,Kt,er,br,Gr,zr,Kr,Fa,jn,bn,za,Ba,ta,os,ln,os,ls,la,No,_c,zu,ri,Fl,Sf,Xc,ll,Cf,Xd,gd,zh,Vh,Ef,Kh;return o(this,function(xd){switch(xd.label){case 0:if(!H||typeof H!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(G=H.ownerDocument,!G)throw new Error("Element is not attached to a Document");if(q=G.defaultView,!q)throw new Error("Document is not attached to a Window");return we={allowTaint:(ls=D.allowTaint)!==null&&ls!==void 0?ls:!1,imageTimeout:(la=D.imageTimeout)!==null&&la!==void 0?la:15e3,proxy:D.proxy,useCORS:(No=D.useCORS)!==null&&No!==void 0?No:!1},Ue=s({logging:(_c=D.logging)!==null&&_c!==void 0?_c:!0,cache:D.cache},we),tt={windowWidth:(zu=D.windowWidth)!==null&&zu!==void 0?zu:q.innerWidth,windowHeight:(ri=D.windowHeight)!==null&&ri!==void 0?ri:q.innerHeight,scrollX:(Fl=D.scrollX)!==null&&Fl!==void 0?Fl:q.pageXOffset,scrollY:(Sf=D.scrollY)!==null&&Sf!==void 0?Sf:q.pageYOffset},Nt=new c(tt.scrollX,tt.scrollY,tt.windowWidth,tt.windowHeight),jt=new vm(Ue,Nt),Qt=(Xc=D.foreignObjectRendering)!==null&&Xc!==void 0?Xc:!1,Kt={allowTaint:(ll=D.allowTaint)!==null&&ll!==void 0?ll:!1,onclone:D.onclone,ignoreElements:D.ignoreElements,inlineImages:Qt,copyStyles:Qt},jt.logger.debug("Starting document clone with size "+Nt.width+"x"+Nt.height+" scrolled to "+-Nt.left+","+-Nt.top),er=new Sp(jt,H,Kt),br=er.clonedReferenceElement,br?[4,er.toIFrame(G,Nt)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Gr=xd.sent(),zr=Xf(br)||y1(br)?u(br.ownerDocument):d(jt,br),Kr=zr.width,Fa=zr.height,jn=zr.left,bn=zr.top,za=Gg(jt,br,D.backgroundColor),Ba={canvas:D.canvas,backgroundColor:za,scale:(Xd=(Cf=D.scale)!==null&&Cf!==void 0?Cf:q.devicePixelRatio)!==null&&Xd!==void 0?Xd:1,x:((gd=D.x)!==null&&gd!==void 0?gd:0)+jn,y:((zh=D.y)!==null&&zh!==void 0?zh:0)+bn,width:(Vh=D.width)!==null&&Vh!==void 0?Vh:Math.ceil(Kr),height:(Ef=D.height)!==null&&Ef!==void 0?Ef:Math.ceil(Fa)},Qt?(jt.logger.debug("Document cloned, using foreign object rendering"),os=new _A(jt,Ba),[4,os.render(br)]):[3,3];case 2:return ta=xd.sent(),[3,5];case 3:return jt.logger.debug("Document cloned, element located at "+jn+","+bn+" with size "+Kr+"x"+Fa+" using computed rendering"),jt.logger.debug("Starting DOM parsing"),ln=Tc(jt,br),za===ln.styles.backgroundColor&&(ln.styles.backgroundColor=Rt.TRANSPARENT),jt.logger.debug("Starting renderer for element at "+Ba.x+","+Ba.y+" with size "+Ba.width+"x"+Ba.height),os=new Hh(jt,Ba),[4,os.render(ln)];case 4:ta=xd.sent(),xd.label=5;case 5:return(!((Kh=D.removeContainer)!==null&&Kh!==void 0)||Kh)&&(Sp.destroy(Gr)||jt.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),jt.logger.debug("Finished rendering"),[2,ta]}})})},Gg=function(H,D,G){var q=D.ownerDocument,we=q.documentElement?Os(H,getComputedStyle(q.documentElement).backgroundColor):Rt.TRANSPARENT,Ue=q.body?Os(H,getComputedStyle(q.body).backgroundColor):Rt.TRANSPARENT,tt=typeof G=="string"?Os(H,G):G===null?Rt.TRANSPARENT:4294967295;return D===q.documentElement?ps(we)?ps(Ue)?tt:Ue:we:tt};return b0}))})(x5)),x5.exports}/*!
 * html2pdf.js v0.10.3
 * Copyright (c) 2025 Erik Koopmans
 * Released under the MIT License.
 */var _7;function Jge(){return _7||(_7=1,(function(e,t){(function(n,s){e.exports=s(Wge,Xge())})(self,function(r,n){return(function(){var s={"./src/plugin/hyperlinks.js":(function(c,d,u){u.r(d),u("./node_modules/core-js/modules/web.dom-collections.for-each.js"),u("./node_modules/core-js/modules/es.string.link.js");var h=u("./src/worker.js"),m=u("./src/utils.js"),A=[],y={toContainer:h.default.prototype.toContainer,toPdf:h.default.prototype.toPdf};h.default.prototype.toContainer=function(){return y.toContainer.call(this).then(function(){if(this.opt.enableLinks){var b=this.prop.container,j=b.querySelectorAll("a"),E=(0,m.unitConvert)(b.getBoundingClientRect(),this.prop.pageSize.k);A=[],Array.prototype.forEach.call(j,function(T){for(var P=T.getClientRects(),U=0;U<P.length;U++){var M=(0,m.unitConvert)(P[U],this.prop.pageSize.k);M.left-=E.left,M.top-=E.top;var k=Math.floor(M.top/this.prop.pageSize.inner.height)+1,Q=this.opt.margin[0]+M.top%this.prop.pageSize.inner.height,z=this.opt.margin[1]+M.left;A.push({page:k,top:Q,left:z,clientRect:M,link:T})}},this)}})},h.default.prototype.toPdf=function(){return y.toPdf.call(this).then(function(){if(this.opt.enableLinks){A.forEach(function(j){this.prop.pdf.setPage(j.page),this.prop.pdf.link(j.left,j.top,j.clientRect.width,j.clientRect.height,{url:j.link.href})},this);var b=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(b)}})}}),"./src/plugin/jspdf-plugin.js":(function(c,d,u){u.r(d),u("./node_modules/core-js/modules/es.symbol.js"),u("./node_modules/core-js/modules/es.symbol.description.js"),u("./node_modules/core-js/modules/es.object.to-string.js"),u("./node_modules/core-js/modules/es.symbol.iterator.js"),u("./node_modules/core-js/modules/es.array.iterator.js"),u("./node_modules/core-js/modules/es.string.iterator.js"),u("./node_modules/core-js/modules/web.dom-collections.iterator.js");var h=u("jspdf");function m(A){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m=function(x){return typeof x}:m=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},m(A)}h.jsPDF.getPageSize=function(A,y,x){if(m(A)==="object"){var v=A;A=v.orientation,y=v.unit||y,x=v.format||x}y=y||"mm",x=x||"a4",A=(""+(A||"P")).toLowerCase();var b=(""+x).toLowerCase(),j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(y){case"pt":var E=1;break;case"mm":var E=72/25.4;break;case"cm":var E=72/2.54;break;case"in":var E=72;break;case"px":var E=72/96;break;case"pc":var E=12;break;case"em":var E=12;break;case"ex":var E=6;break;default:throw"Invalid unit: "+y}if(j.hasOwnProperty(b))var T=j[b][1]/E,P=j[b][0]/E;else try{var T=x[1],P=x[0]}catch{throw new Error("Invalid format: "+x)}if(A==="p"||A==="portrait"){if(A="p",P>T){var U=P;P=T,T=U}}else if(A==="l"||A==="landscape"){if(A="l",T>P){var U=P;P=T,T=U}}else throw"Invalid orientation: "+A;var M={width:P,height:T,unit:y,k:E};return M},d.default=h.jsPDF}),"./src/plugin/pagebreaks.js":(function(c,d,u){u.r(d),u("./node_modules/core-js/modules/es.array.concat.js"),u("./node_modules/core-js/modules/es.array.slice.js"),u("./node_modules/core-js/modules/es.array.join.js"),u("./node_modules/core-js/modules/web.dom-collections.for-each.js"),u("./node_modules/core-js/modules/es.object.keys.js");var h=u("./src/worker.js"),m=u("./src/utils.js"),A={toContainer:h.default.prototype.toContainer};h.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},h.default.prototype.toContainer=function(){return A.toContainer.call(this).then(function(){var v=this.prop.container,b=this.prop.pageSize.inner.px.height,j=[].concat(this.opt.pagebreak.mode),E={avoidAll:j.indexOf("avoid-all")!==-1,css:j.indexOf("css")!==-1,legacy:j.indexOf("legacy")!==-1},T={},P=this;["before","after","avoid"].forEach(function(k){var Q=E.avoidAll&&k==="avoid";T[k]=Q?[]:[].concat(P.opt.pagebreak[k]||[]),T[k].length>0&&(T[k]=Array.prototype.slice.call(v.querySelectorAll(T[k].join(", "))))});var U=v.querySelectorAll(".html2pdf__page-break");U=Array.prototype.slice.call(U);var M=v.querySelectorAll("*");Array.prototype.forEach.call(M,function(Q){var z={before:!1,after:E.legacy&&U.indexOf(Q)!==-1,avoid:E.avoidAll};if(E.css){var O=window.getComputedStyle(Q),L=["always","page","left","right"],V=["avoid","avoid-page"];z={before:z.before||L.indexOf(O.breakBefore||O.pageBreakBefore)!==-1,after:z.after||L.indexOf(O.breakAfter||O.pageBreakAfter)!==-1,avoid:z.avoid||V.indexOf(O.breakInside||O.pageBreakInside)!==-1}}Object.keys(z).forEach(function(he){z[he]=z[he]||T[he].indexOf(Q)!==-1});var J=Q.getBoundingClientRect();if(z.avoid&&!z.before){var ce=Math.floor(J.top/b),ee=Math.floor(J.bottom/b),de=Math.abs(J.bottom-J.top)/b;ee!==ce&&de<=1&&(z.before=!0)}if(z.before){var se=(0,m.createElement)("div",{style:{display:"block",height:b-J.top%b+"px"}});Q.parentNode.insertBefore(se,Q)}if(z.after){var se=(0,m.createElement)("div",{style:{display:"block",height:b-J.bottom%b+"px"}});Q.parentNode.insertBefore(se,Q.nextSibling)}})})}}),"./src/utils.js":(function(c,d,u){u.r(d),u.d(d,{objType:function(){return m},createElement:function(){return A},cloneNode:function(){return y},unitConvert:function(){return x},toPx:function(){return v}}),u("./node_modules/core-js/modules/es.number.constructor.js"),u("./node_modules/core-js/modules/es.symbol.js"),u("./node_modules/core-js/modules/es.symbol.description.js"),u("./node_modules/core-js/modules/es.object.to-string.js"),u("./node_modules/core-js/modules/es.symbol.iterator.js"),u("./node_modules/core-js/modules/es.array.iterator.js"),u("./node_modules/core-js/modules/es.string.iterator.js"),u("./node_modules/core-js/modules/web.dom-collections.iterator.js");function h(b){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(E){return typeof E}:h=function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},h(b)}var m=function(j){var E=h(j);return E==="undefined"?"undefined":E==="string"||j instanceof String?"string":E==="number"||j instanceof Number?"number":E==="function"||j instanceof Function?"function":j&&j.constructor===Array?"array":j&&j.nodeType===1?"element":E==="object"?"object":"unknown"},A=function(j,E){var T=document.createElement(j);if(E.className&&(T.className=E.className),E.innerHTML){T.innerHTML=E.innerHTML;for(var P=T.getElementsByTagName("script"),U=P.length;U-- >0;null)P[U].parentNode.removeChild(P[U])}for(var M in E.style)T.style[M]=E.style[M];return T},y=function b(j,E){for(var T=j.nodeType===3?document.createTextNode(j.nodeValue):j.cloneNode(!1),P=j.firstChild;P;P=P.nextSibling)(E===!0||P.nodeType!==1||P.nodeName!=="SCRIPT")&&T.appendChild(b(P,E));return j.nodeType===1&&(j.nodeName==="CANVAS"?(T.width=j.width,T.height=j.height,T.getContext("2d").drawImage(j,0,0)):(j.nodeName==="TEXTAREA"||j.nodeName==="SELECT")&&(T.value=j.value),T.addEventListener("load",function(){T.scrollTop=j.scrollTop,T.scrollLeft=j.scrollLeft},!0)),T},x=function(j,E){if(m(j)==="number")return j*72/96/E;var T={};for(var P in j)T[P]=j[P]*72/96/E;return T},v=function(j,E){return Math.floor(j*E/72*96)}}),"./src/worker.js":(function(c,d,u){u.r(d),u("./node_modules/core-js/modules/es.object.assign.js"),u("./node_modules/core-js/modules/es.array.map.js"),u("./node_modules/core-js/modules/es.object.keys.js"),u("./node_modules/core-js/modules/es.array.concat.js"),u("./node_modules/core-js/modules/es.object.to-string.js"),u("./node_modules/core-js/modules/es.regexp.to-string.js"),u("./node_modules/core-js/modules/es.function.name.js"),u("./node_modules/core-js/modules/web.dom-collections.for-each.js");var h=u("jspdf"),m=u("html2canvas"),A=u("./src/utils.js"),y=u("./node_modules/es6-promise/dist/es6-promise.js"),x=u.n(y),v=x().Promise,b=function j(E){var T=Object.assign(j.convert(v.resolve()),JSON.parse(JSON.stringify(j.template))),P=j.convert(v.resolve(),T);return P=P.setProgress(1,j,1,[j]),P=P.set(E),P};b.prototype=Object.create(v.prototype),b.prototype.constructor=b,b.convert=function(E,T){return E.__proto__=T||b.prototype,E},b.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},b.prototype.from=function(E,T){function P(U){switch((0,A.objType)(U)){case"string":return"string";case"element":return U.nodeName.toLowerCase&&U.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(T=T||P(E),T){case"string":return this.set({src:(0,A.createElement)("div",{innerHTML:E})});case"element":return this.set({src:E});case"canvas":return this.set({canvas:E});case"img":return this.set({img:E});default:return this.error("Unknown source type.")}})},b.prototype.to=function(E){switch(E){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},b.prototype.toContainer=function(){var E=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(E).then(function(){var P={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},U={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};P.opacity=0;var M=(0,A.cloneNode)(this.prop.src,this.opt.html2canvas.javascriptEnabled);this.prop.overlay=(0,A.createElement)("div",{className:"html2pdf__overlay",style:P}),this.prop.container=(0,A.createElement)("div",{className:"html2pdf__container",style:U}),this.prop.container.appendChild(M),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay)})},b.prototype.toCanvas=function(){var E=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(E).then(function(){var P=Object.assign({},this.opt.html2canvas);return delete P.onrendered,m(this.prop.container,P)}).then(function(P){var U=this.opt.html2canvas.onrendered||function(){};U(P),this.prop.canvas=P,document.body.removeChild(this.prop.overlay)})},b.prototype.toImg=function(){var E=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(E).then(function(){var P=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=P})},b.prototype.toPdf=function(){var E=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(E).then(function(){var P=this.prop.canvas,U=this.opt,M=P.height,k=Math.floor(P.width*this.prop.pageSize.inner.ratio),Q=Math.ceil(M/k),z=this.prop.pageSize.inner.height,O=document.createElement("canvas"),L=O.getContext("2d");O.width=P.width,O.height=k,this.prop.pdf=this.prop.pdf||new h.jsPDF(U.jsPDF);for(var V=0;V<Q;V++){V===Q-1&&M%k!==0&&(O.height=M%k,z=O.height*this.prop.pageSize.inner.width/O.width);var J=O.width,ce=O.height;L.fillStyle="white",L.fillRect(0,0,J,ce),L.drawImage(P,0,V*k,J,ce,0,0,J,ce),V&&this.prop.pdf.addPage();var ee=O.toDataURL("image/"+U.image.type,U.image.quality);this.prop.pdf.addImage(ee,U.image.type,U.margin[1],U.margin[0],this.prop.pageSize.inner.width,z)}})},b.prototype.output=function(E,T,P){return P=P||"pdf",P.toLowerCase()==="img"||P.toLowerCase()==="image"?this.outputImg(E,T):this.outputPdf(E,T)},b.prototype.outputPdf=function(E,T){var P=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(P).then(function(){return this.prop.pdf.output(E,T)})},b.prototype.outputImg=function(E,T){var P=[function(){return this.prop.img||this.toImg()}];return this.thenList(P).then(function(){switch(E){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+E+'" is not supported.'}})},b.prototype.save=function(E){var T=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(T).set(E?{filename:E}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},b.prototype.set=function(E){if((0,A.objType)(E)!=="object")return this;var T=Object.keys(E||{}).map(function(P){switch(P){case"margin":return this.setMargin.bind(this,E.margin);case"jsPDF":return function(){return this.opt.jsPDF=E.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,E.pageSize);default:return P in b.template.prop?function(){this.prop[P]=E[P]}:function(){this.opt[P]=E[P]}}},this);return this.then(function(){return this.thenList(T)})},b.prototype.get=function(E,T){return this.then(function(){var U=E in b.template.prop?this.prop[E]:this.opt[E];return T?T(U):U})},b.prototype.setMargin=function(E){return this.then(function(){switch((0,A.objType)(E)){case"number":E=[E,E,E,E];case"array":if(E.length===2&&(E=[E[0],E[1],E[0],E[1]]),E.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=E}).then(this.setPageSize)},b.prototype.setPageSize=function(E){return this.then(function(){E=E||h.jsPDF.getPageSize(this.opt.jsPDF),E.hasOwnProperty("inner")||(E.inner={width:E.width-this.opt.margin[1]-this.opt.margin[3],height:E.height-this.opt.margin[0]-this.opt.margin[2]},E.inner.px={width:(0,A.toPx)(E.inner.width,E.k),height:(0,A.toPx)(E.inner.height,E.k)},E.inner.ratio=E.inner.height/E.inner.width),this.prop.pageSize=E})},b.prototype.setProgress=function(E,T,P,U){return E!=null&&(this.progress.val=E),T!=null&&(this.progress.state=T),P!=null&&(this.progress.n=P),U!=null&&(this.progress.stack=U),this.progress.ratio=this.progress.val/this.progress.state,this},b.prototype.updateProgress=function(E,T,P,U){return this.setProgress(E?this.progress.val+E:null,T||null,P?this.progress.n+P:null,U?this.progress.stack.concat(U):null)},b.prototype.then=function(E,T){var P=this;return this.thenCore(E,T,function(M,k){return P.updateProgress(null,null,1,[M]),v.prototype.then.call(this,function(z){return P.updateProgress(null,M),z}).then(M,k).then(function(z){return P.updateProgress(1),z})})},b.prototype.thenCore=function(E,T,P){P=P||v.prototype.then;var U=this;E&&(E=E.bind(U)),T&&(T=T.bind(U));var M=v.toString().indexOf("[native code]")!==-1&&v.name==="Promise",k=M?U:b.convert(Object.assign({},U),v.prototype),Q=P.call(k,E,T);return b.convert(Q,U.__proto__)},b.prototype.thenExternal=function(E,T){return v.prototype.then.call(this,E,T)},b.prototype.thenList=function(E){var T=this;return E.forEach(function(U){T=T.thenCore(U)}),T},b.prototype.catch=function(j){j&&(j=j.bind(this));var E=v.prototype.catch.call(this,j);return b.convert(E,this)},b.prototype.catchExternal=function(E){return v.prototype.catch.call(this,E)},b.prototype.error=function(E){return this.then(function(){throw new Error(E)})},b.prototype.using=b.prototype.set,b.prototype.saveAs=b.prototype.save,b.prototype.export=b.prototype.output,b.prototype.run=b.prototype.then,d.default=b}),"./node_modules/core-js/internals/a-function.js":(function(c){c.exports=function(d){if(typeof d!="function")throw TypeError(String(d)+" is not a function");return d}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/is-object.js");c.exports=function(m){if(!h(m)&&m!==null)throw TypeError("Can't set "+String(m)+" as a prototype");return m}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/well-known-symbol.js"),m=u("./node_modules/core-js/internals/object-create.js"),A=u("./node_modules/core-js/internals/object-define-property.js"),y=h("unscopables"),x=Array.prototype;x[y]==null&&A.f(x,y,{configurable:!0,value:m(null)}),c.exports=function(v){x[y][v]=!0}}),"./node_modules/core-js/internals/an-object.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/is-object.js");c.exports=function(m){if(!h(m))throw TypeError(String(m)+" is not an object");return m}}),"./node_modules/core-js/internals/array-for-each.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/array-iteration.js").forEach,m=u("./node_modules/core-js/internals/array-method-is-strict.js"),A=m("forEach");c.exports=A?[].forEach:function(x){return h(this,x,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-includes.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/to-indexed-object.js"),m=u("./node_modules/core-js/internals/to-length.js"),A=u("./node_modules/core-js/internals/to-absolute-index.js"),y=function(x){return function(v,b,j){var E=h(v),T=m(E.length),P=A(j,T),U;if(x&&b!=b){for(;T>P;)if(U=E[P++],U!=U)return!0}else for(;T>P;P++)if((x||P in E)&&E[P]===b)return x||P||0;return!x&&-1}};c.exports={includes:y(!0),indexOf:y(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/function-bind-context.js"),m=u("./node_modules/core-js/internals/indexed-object.js"),A=u("./node_modules/core-js/internals/to-object.js"),y=u("./node_modules/core-js/internals/to-length.js"),x=u("./node_modules/core-js/internals/array-species-create.js"),v=[].push,b=function(j){var E=j==1,T=j==2,P=j==3,U=j==4,M=j==6,k=j==7,Q=j==5||M;return function(z,O,L,V){for(var J=A(z),ce=m(J),ee=h(O,L,3),de=y(ce.length),se=0,he=V||x,fe=E?he(z,de):T||k?he(z,0):void 0,ve,B;de>se;se++)if((Q||se in ce)&&(ve=ce[se],B=ee(ve,se,J),j))if(E)fe[se]=B;else if(B)switch(j){case 3:return!0;case 5:return ve;case 6:return se;case 2:v.call(fe,ve)}else switch(j){case 4:return!1;case 7:v.call(fe,ve)}return M?-1:P||U?U:fe}};c.exports={forEach:b(0),map:b(1),filter:b(2),some:b(3),every:b(4),find:b(5),findIndex:b(6),filterReject:b(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/fails.js"),m=u("./node_modules/core-js/internals/well-known-symbol.js"),A=u("./node_modules/core-js/internals/engine-v8-version.js"),y=m("species");c.exports=function(x){return A>=51||!h(function(){var v=[],b=v.constructor={};return b[y]=function(){return{foo:1}},v[x](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/fails.js");c.exports=function(m,A){var y=[][m];return!!y&&h(function(){y.call(null,A||function(){throw 1},1)})}}),"./node_modules/core-js/internals/array-species-constructor.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/is-object.js"),m=u("./node_modules/core-js/internals/is-array.js"),A=u("./node_modules/core-js/internals/well-known-symbol.js"),y=A("species");c.exports=function(x){var v;return m(x)&&(v=x.constructor,typeof v=="function"&&(v===Array||m(v.prototype))?v=void 0:h(v)&&(v=v[y],v===null&&(v=void 0))),v===void 0?Array:v}}),"./node_modules/core-js/internals/array-species-create.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/array-species-constructor.js");c.exports=function(m,A){return new(h(m))(A===0?0:A)}}),"./node_modules/core-js/internals/classof-raw.js":(function(c){var d={}.toString;c.exports=function(u){return d.call(u).slice(8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/to-string-tag-support.js"),m=u("./node_modules/core-js/internals/classof-raw.js"),A=u("./node_modules/core-js/internals/well-known-symbol.js"),y=A("toStringTag"),x=m((function(){return arguments})())=="Arguments",v=function(b,j){try{return b[j]}catch{}};c.exports=h?m:function(b){var j,E,T;return b===void 0?"Undefined":b===null?"Null":typeof(E=v(j=Object(b),y))=="string"?E:x?m(j):(T=m(j))=="Object"&&typeof j.callee=="function"?"Arguments":T}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/has.js"),m=u("./node_modules/core-js/internals/own-keys.js"),A=u("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),y=u("./node_modules/core-js/internals/object-define-property.js");c.exports=function(x,v){for(var b=m(v),j=y.f,E=A.f,T=0;T<b.length;T++){var P=b[T];h(x,P)||j(x,P,E(v,P))}}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/fails.js");c.exports=!h(function(){function m(){}return m.prototype.constructor=null,Object.getPrototypeOf(new m)!==m.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/require-object-coercible.js"),m=u("./node_modules/core-js/internals/to-string.js"),A=/"/g;c.exports=function(y,x,v,b){var j=m(h(y)),E="<"+x;return v!==""&&(E+=" "+v+'="'+m(b).replace(A,"&quot;")+'"'),E+">"+j+"</"+x+">"}}),"./node_modules/core-js/internals/create-iterator-constructor.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,m=u("./node_modules/core-js/internals/object-create.js"),A=u("./node_modules/core-js/internals/create-property-descriptor.js"),y=u("./node_modules/core-js/internals/set-to-string-tag.js"),x=u("./node_modules/core-js/internals/iterators.js"),v=function(){return this};c.exports=function(b,j,E){var T=j+" Iterator";return b.prototype=m(h,{next:A(1,E)}),y(b,T,!1,!0),x[T]=v,b}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/descriptors.js"),m=u("./node_modules/core-js/internals/object-define-property.js"),A=u("./node_modules/core-js/internals/create-property-descriptor.js");c.exports=h?function(y,x,v){return m.f(y,x,A(1,v))}:function(y,x,v){return y[x]=v,y}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(c){c.exports=function(d,u){return{enumerable:!(d&1),configurable:!(d&2),writable:!(d&4),value:u}}}),"./node_modules/core-js/internals/create-property.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/to-property-key.js"),m=u("./node_modules/core-js/internals/object-define-property.js"),A=u("./node_modules/core-js/internals/create-property-descriptor.js");c.exports=function(y,x,v){var b=h(x);b in y?m.f(y,b,A(0,v)):y[b]=v}}),"./node_modules/core-js/internals/define-iterator.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/export.js"),m=u("./node_modules/core-js/internals/create-iterator-constructor.js"),A=u("./node_modules/core-js/internals/object-get-prototype-of.js"),y=u("./node_modules/core-js/internals/object-set-prototype-of.js"),x=u("./node_modules/core-js/internals/set-to-string-tag.js"),v=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),b=u("./node_modules/core-js/internals/redefine.js"),j=u("./node_modules/core-js/internals/well-known-symbol.js"),E=u("./node_modules/core-js/internals/is-pure.js"),T=u("./node_modules/core-js/internals/iterators.js"),P=u("./node_modules/core-js/internals/iterators-core.js"),U=P.IteratorPrototype,M=P.BUGGY_SAFARI_ITERATORS,k=j("iterator"),Q="keys",z="values",O="entries",L=function(){return this};c.exports=function(V,J,ce,ee,de,se,he){m(ce,J,ee);var fe=function(le){if(le===de&&ie)return ie;if(!M&&le in R)return R[le];switch(le){case Q:return function(){return new ce(this,le)};case z:return function(){return new ce(this,le)};case O:return function(){return new ce(this,le)}}return function(){return new ce(this)}},ve=J+" Iterator",B=!1,R=V.prototype,Y=R[k]||R["@@iterator"]||de&&R[de],ie=!M&&Y||fe(de),ge=J=="Array"&&R.entries||Y,ye,pe,Z;if(ge&&(ye=A(ge.call(new V)),U!==Object.prototype&&ye.next&&(!E&&A(ye)!==U&&(y?y(ye,U):typeof ye[k]!="function"&&v(ye,k,L)),x(ye,ve,!0,!0),E&&(T[ve]=L))),de==z&&Y&&Y.name!==z&&(B=!0,ie=function(){return Y.call(this)}),(!E||he)&&R[k]!==ie&&v(R,k,ie),T[J]=ie,de)if(pe={values:fe(z),keys:se?ie:fe(Q),entries:fe(O)},he)for(Z in pe)(M||B||!(Z in R))&&b(R,Z,pe[Z]);else h({target:J,proto:!0,forced:M||B},pe);return pe}}),"./node_modules/core-js/internals/define-well-known-symbol.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/path.js"),m=u("./node_modules/core-js/internals/has.js"),A=u("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),y=u("./node_modules/core-js/internals/object-define-property.js").f;c.exports=function(x){var v=h.Symbol||(h.Symbol={});m(v,x)||y(v,x,{value:A.f(x)})}}),"./node_modules/core-js/internals/descriptors.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/fails.js");c.exports=!h(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})}),"./node_modules/core-js/internals/document-create-element.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/global.js"),m=u("./node_modules/core-js/internals/is-object.js"),A=h.document,y=m(A)&&m(A.createElement);c.exports=function(x){return y?A.createElement(x):{}}}),"./node_modules/core-js/internals/dom-iterables.js":(function(c){c.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/engine-user-agent.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/get-built-in.js");c.exports=h("navigator","userAgent")||""}),"./node_modules/core-js/internals/engine-v8-version.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/global.js"),m=u("./node_modules/core-js/internals/engine-user-agent.js"),A=h.process,y=h.Deno,x=A&&A.versions||y&&y.version,v=x&&x.v8,b,j;v?(b=v.split("."),j=b[0]<4?1:b[0]+b[1]):m&&(b=m.match(/Edge\/(\d+)/),(!b||b[1]>=74)&&(b=m.match(/Chrome\/(\d+)/),b&&(j=b[1]))),c.exports=j&&+j}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(c){c.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/export.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/global.js"),m=u("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,A=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),y=u("./node_modules/core-js/internals/redefine.js"),x=u("./node_modules/core-js/internals/set-global.js"),v=u("./node_modules/core-js/internals/copy-constructor-properties.js"),b=u("./node_modules/core-js/internals/is-forced.js");c.exports=function(j,E){var T=j.target,P=j.global,U=j.stat,M,k,Q,z,O,L;if(P?k=h:U?k=h[T]||x(T,{}):k=(h[T]||{}).prototype,k)for(Q in E){if(O=E[Q],j.noTargetGet?(L=m(k,Q),z=L&&L.value):z=k[Q],M=b(P?Q:T+(U?".":"#")+Q,j.forced),!M&&z!==void 0){if(typeof O==typeof z)continue;v(O,z)}(j.sham||z&&z.sham)&&A(O,"sham",!0),y(k,Q,O,j)}}}),"./node_modules/core-js/internals/fails.js":(function(c){c.exports=function(d){try{return!!d()}catch{return!0}}}),"./node_modules/core-js/internals/function-bind-context.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/a-function.js");c.exports=function(m,A,y){if(h(m),A===void 0)return m;switch(y){case 0:return function(){return m.call(A)};case 1:return function(x){return m.call(A,x)};case 2:return function(x,v){return m.call(A,x,v)};case 3:return function(x,v,b){return m.call(A,x,v,b)}}return function(){return m.apply(A,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/global.js"),m=function(A){return typeof A=="function"?A:void 0};c.exports=function(A,y){return arguments.length<2?m(h[A]):h[A]&&h[A][y]}}),"./node_modules/core-js/internals/global.js":(function(c){var d=function(u){return u&&u.Math==Math&&u};c.exports=d(typeof globalThis=="object"&&globalThis)||d(typeof window=="object"&&window)||d(typeof self=="object"&&self)||d(typeof iA=="object"&&iA)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/to-object.js"),m={}.hasOwnProperty;c.exports=Object.hasOwn||function(y,x){return m.call(h(y),x)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(c){c.exports={}}),"./node_modules/core-js/internals/html.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/get-built-in.js");c.exports=h("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/descriptors.js"),m=u("./node_modules/core-js/internals/fails.js"),A=u("./node_modules/core-js/internals/document-create-element.js");c.exports=!h&&!m(function(){return Object.defineProperty(A("div"),"a",{get:function(){return 7}}).a!=7})}),"./node_modules/core-js/internals/indexed-object.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/fails.js"),m=u("./node_modules/core-js/internals/classof-raw.js"),A="".split;c.exports=h(function(){return!Object("z").propertyIsEnumerable(0)})?function(y){return m(y)=="String"?A.call(y,""):Object(y)}:Object}),"./node_modules/core-js/internals/inherit-if-required.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/is-object.js"),m=u("./node_modules/core-js/internals/object-set-prototype-of.js");c.exports=function(A,y,x){var v,b;return m&&typeof(v=y.constructor)=="function"&&v!==x&&h(b=v.prototype)&&b!==x.prototype&&m(A,b),A}}),"./node_modules/core-js/internals/inspect-source.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/shared-store.js"),m=Function.toString;typeof h.inspectSource!="function"&&(h.inspectSource=function(A){return m.call(A)}),c.exports=h.inspectSource}),"./node_modules/core-js/internals/internal-state.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/native-weak-map.js"),m=u("./node_modules/core-js/internals/global.js"),A=u("./node_modules/core-js/internals/is-object.js"),y=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=u("./node_modules/core-js/internals/has.js"),v=u("./node_modules/core-js/internals/shared-store.js"),b=u("./node_modules/core-js/internals/shared-key.js"),j=u("./node_modules/core-js/internals/hidden-keys.js"),E="Object already initialized",T=m.WeakMap,P,U,M,k=function(ce){return M(ce)?U(ce):P(ce,{})},Q=function(ce){return function(ee){var de;if(!A(ee)||(de=U(ee)).type!==ce)throw TypeError("Incompatible receiver, "+ce+" required");return de}};if(h||v.state){var z=v.state||(v.state=new T),O=z.get,L=z.has,V=z.set;P=function(ce,ee){if(L.call(z,ce))throw new TypeError(E);return ee.facade=ce,V.call(z,ce,ee),ee},U=function(ce){return O.call(z,ce)||{}},M=function(ce){return L.call(z,ce)}}else{var J=b("state");j[J]=!0,P=function(ce,ee){if(x(ce,J))throw new TypeError(E);return ee.facade=ce,y(ce,J,ee),ee},U=function(ce){return x(ce,J)?ce[J]:{}},M=function(ce){return x(ce,J)}}c.exports={set:P,get:U,has:M,enforce:k,getterFor:Q}}),"./node_modules/core-js/internals/is-array.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/classof-raw.js");c.exports=Array.isArray||function(A){return h(A)=="Array"}}),"./node_modules/core-js/internals/is-forced.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/fails.js"),m=/#|\.prototype\./,A=function(j,E){var T=x[y(j)];return T==b?!0:T==v?!1:typeof E=="function"?h(E):!!E},y=A.normalize=function(j){return String(j).replace(m,".").toLowerCase()},x=A.data={},v=A.NATIVE="N",b=A.POLYFILL="P";c.exports=A}),"./node_modules/core-js/internals/is-object.js":(function(c){c.exports=function(d){return typeof d=="object"?d!==null:typeof d=="function"}}),"./node_modules/core-js/internals/is-pure.js":(function(c){c.exports=!1}),"./node_modules/core-js/internals/is-symbol.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/get-built-in.js"),m=u("./node_modules/core-js/internals/use-symbol-as-uid.js");c.exports=m?function(A){return typeof A=="symbol"}:function(A){var y=h("Symbol");return typeof y=="function"&&Object(A)instanceof y}}),"./node_modules/core-js/internals/iterators-core.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/fails.js"),m=u("./node_modules/core-js/internals/object-get-prototype-of.js"),A=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),y=u("./node_modules/core-js/internals/has.js"),x=u("./node_modules/core-js/internals/well-known-symbol.js"),v=u("./node_modules/core-js/internals/is-pure.js"),b=x("iterator"),j=!1,E=function(){return this},T,P,U;[].keys&&(U=[].keys(),"next"in U?(P=m(m(U)),P!==Object.prototype&&(T=P)):j=!0);var M=T==null||h(function(){var k={};return T[b].call(k)!==k});M&&(T={}),(!v||M)&&!y(T,b)&&A(T,b,E),c.exports={IteratorPrototype:T,BUGGY_SAFARI_ITERATORS:j}}),"./node_modules/core-js/internals/iterators.js":(function(c){c.exports={}}),"./node_modules/core-js/internals/native-symbol.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/engine-v8-version.js"),m=u("./node_modules/core-js/internals/fails.js");c.exports=!!Object.getOwnPropertySymbols&&!m(function(){var A=Symbol();return!String(A)||!(Object(A)instanceof Symbol)||!Symbol.sham&&h&&h<41})}),"./node_modules/core-js/internals/native-weak-map.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/global.js"),m=u("./node_modules/core-js/internals/inspect-source.js"),A=h.WeakMap;c.exports=typeof A=="function"&&/native code/.test(m(A))}),"./node_modules/core-js/internals/object-assign.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/descriptors.js"),m=u("./node_modules/core-js/internals/fails.js"),A=u("./node_modules/core-js/internals/object-keys.js"),y=u("./node_modules/core-js/internals/object-get-own-property-symbols.js"),x=u("./node_modules/core-js/internals/object-property-is-enumerable.js"),v=u("./node_modules/core-js/internals/to-object.js"),b=u("./node_modules/core-js/internals/indexed-object.js"),j=Object.assign,E=Object.defineProperty;c.exports=!j||m(function(){if(h&&j({b:1},j(E({},"a",{enumerable:!0,get:function(){E(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var T={},P={},U=Symbol(),M="abcdefghijklmnopqrst";return T[U]=7,M.split("").forEach(function(k){P[k]=k}),j({},T)[U]!=7||A(j({},P)).join("")!=M})?function(P,U){for(var M=v(P),k=arguments.length,Q=1,z=y.f,O=x.f;k>Q;)for(var L=b(arguments[Q++]),V=z?A(L).concat(z(L)):A(L),J=V.length,ce=0,ee;J>ce;)ee=V[ce++],(!h||O.call(L,ee))&&(M[ee]=L[ee]);return M}:j}),"./node_modules/core-js/internals/object-create.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/an-object.js"),m=u("./node_modules/core-js/internals/object-define-properties.js"),A=u("./node_modules/core-js/internals/enum-bug-keys.js"),y=u("./node_modules/core-js/internals/hidden-keys.js"),x=u("./node_modules/core-js/internals/html.js"),v=u("./node_modules/core-js/internals/document-create-element.js"),b=u("./node_modules/core-js/internals/shared-key.js"),j=">",E="<",T="prototype",P="script",U=b("IE_PROTO"),M=function(){},k=function(V){return E+P+j+V+E+"/"+P+j},Q=function(V){V.write(k("")),V.close();var J=V.parentWindow.Object;return V=null,J},z=function(){var V=v("iframe"),J="java"+P+":",ce;if(V.style)return V.style.display="none",x.appendChild(V),V.src=String(J),ce=V.contentWindow.document,ce.open(),ce.write(k("document.F=Object")),ce.close(),ce.F},O,L=function(){try{O=new ActiveXObject("htmlfile")}catch{}L=document.domain&&O?Q(O):z()||Q(O);for(var V=A.length;V--;)delete L[T][A[V]];return L()};y[U]=!0,c.exports=Object.create||function(J,ce){var ee;return J!==null?(M[T]=h(J),ee=new M,M[T]=null,ee[U]=J):ee=L(),ce===void 0?ee:m(ee,ce)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/descriptors.js"),m=u("./node_modules/core-js/internals/object-define-property.js"),A=u("./node_modules/core-js/internals/an-object.js"),y=u("./node_modules/core-js/internals/object-keys.js");c.exports=h?Object.defineProperties:function(v,b){A(v);for(var j=y(b),E=j.length,T=0,P;E>T;)m.f(v,P=j[T++],b[P]);return v}}),"./node_modules/core-js/internals/object-define-property.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/descriptors.js"),m=u("./node_modules/core-js/internals/ie8-dom-define.js"),A=u("./node_modules/core-js/internals/an-object.js"),y=u("./node_modules/core-js/internals/to-property-key.js"),x=Object.defineProperty;d.f=h?x:function(b,j,E){if(A(b),j=y(j),A(E),m)try{return x(b,j,E)}catch{}if("get"in E||"set"in E)throw TypeError("Accessors not supported");return"value"in E&&(b[j]=E.value),b}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/descriptors.js"),m=u("./node_modules/core-js/internals/object-property-is-enumerable.js"),A=u("./node_modules/core-js/internals/create-property-descriptor.js"),y=u("./node_modules/core-js/internals/to-indexed-object.js"),x=u("./node_modules/core-js/internals/to-property-key.js"),v=u("./node_modules/core-js/internals/has.js"),b=u("./node_modules/core-js/internals/ie8-dom-define.js"),j=Object.getOwnPropertyDescriptor;d.f=h?j:function(T,P){if(T=y(T),P=x(P),b)try{return j(T,P)}catch{}if(v(T,P))return A(!m.f.call(T,P),T[P])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/to-indexed-object.js"),m=u("./node_modules/core-js/internals/object-get-own-property-names.js").f,A={}.toString,y=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],x=function(v){try{return m(v)}catch{return y.slice()}};c.exports.f=function(b){return y&&A.call(b)=="[object Window]"?x(b):m(h(b))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/object-keys-internal.js"),m=u("./node_modules/core-js/internals/enum-bug-keys.js"),A=m.concat("length","prototype");d.f=Object.getOwnPropertyNames||function(x){return h(x,A)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(c,d){d.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/has.js"),m=u("./node_modules/core-js/internals/to-object.js"),A=u("./node_modules/core-js/internals/shared-key.js"),y=u("./node_modules/core-js/internals/correct-prototype-getter.js"),x=A("IE_PROTO"),v=Object.prototype;c.exports=y?Object.getPrototypeOf:function(b){return b=m(b),h(b,x)?b[x]:typeof b.constructor=="function"&&b instanceof b.constructor?b.constructor.prototype:b instanceof Object?v:null}}),"./node_modules/core-js/internals/object-keys-internal.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/has.js"),m=u("./node_modules/core-js/internals/to-indexed-object.js"),A=u("./node_modules/core-js/internals/array-includes.js").indexOf,y=u("./node_modules/core-js/internals/hidden-keys.js");c.exports=function(x,v){var b=m(x),j=0,E=[],T;for(T in b)!h(y,T)&&h(b,T)&&E.push(T);for(;v.length>j;)h(b,T=v[j++])&&(~A(E,T)||E.push(T));return E}}),"./node_modules/core-js/internals/object-keys.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/object-keys-internal.js"),m=u("./node_modules/core-js/internals/enum-bug-keys.js");c.exports=Object.keys||function(y){return h(y,m)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(c,d){var u={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,m=h&&!u.call({1:2},1);d.f=m?function(y){var x=h(this,y);return!!x&&x.enumerable}:u}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/an-object.js"),m=u("./node_modules/core-js/internals/a-possible-prototype.js");c.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var A=!1,y={},x;try{x=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,x.call(y,[]),A=y instanceof Array}catch{}return function(b,j){return h(b),m(j),A?x.call(b,j):b.__proto__=j,b}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/to-string-tag-support.js"),m=u("./node_modules/core-js/internals/classof.js");c.exports=h?{}.toString:function(){return"[object "+m(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/is-object.js");c.exports=function(m,A){var y,x;if(A==="string"&&typeof(y=m.toString)=="function"&&!h(x=y.call(m))||typeof(y=m.valueOf)=="function"&&!h(x=y.call(m))||A!=="string"&&typeof(y=m.toString)=="function"&&!h(x=y.call(m)))return x;throw TypeError("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/get-built-in.js"),m=u("./node_modules/core-js/internals/object-get-own-property-names.js"),A=u("./node_modules/core-js/internals/object-get-own-property-symbols.js"),y=u("./node_modules/core-js/internals/an-object.js");c.exports=h("Reflect","ownKeys")||function(v){var b=m.f(y(v)),j=A.f;return j?b.concat(j(v)):b}}),"./node_modules/core-js/internals/path.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/global.js");c.exports=h}),"./node_modules/core-js/internals/redefine.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/global.js"),m=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),A=u("./node_modules/core-js/internals/has.js"),y=u("./node_modules/core-js/internals/set-global.js"),x=u("./node_modules/core-js/internals/inspect-source.js"),v=u("./node_modules/core-js/internals/internal-state.js"),b=v.get,j=v.enforce,E=String(String).split("String");(c.exports=function(T,P,U,M){var k=M?!!M.unsafe:!1,Q=M?!!M.enumerable:!1,z=M?!!M.noTargetGet:!1,O;if(typeof U=="function"&&(typeof P=="string"&&!A(U,"name")&&m(U,"name",P),O=j(U),O.source||(O.source=E.join(typeof P=="string"?P:""))),T===h){Q?T[P]=U:y(P,U);return}else k?!z&&T[P]&&(Q=!0):delete T[P];Q?T[P]=U:m(T,P,U)})(Function.prototype,"toString",function(){return typeof this=="function"&&b(this).source||x(this)})}),"./node_modules/core-js/internals/regexp-flags.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/an-object.js");c.exports=function(){var m=h(this),A="";return m.global&&(A+="g"),m.ignoreCase&&(A+="i"),m.multiline&&(A+="m"),m.dotAll&&(A+="s"),m.unicode&&(A+="u"),m.sticky&&(A+="y"),A}}),"./node_modules/core-js/internals/require-object-coercible.js":(function(c){c.exports=function(d){if(d==null)throw TypeError("Can't call method on "+d);return d}}),"./node_modules/core-js/internals/set-global.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/global.js");c.exports=function(m,A){try{Object.defineProperty(h,m,{value:A,configurable:!0,writable:!0})}catch{h[m]=A}return A}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/object-define-property.js").f,m=u("./node_modules/core-js/internals/has.js"),A=u("./node_modules/core-js/internals/well-known-symbol.js"),y=A("toStringTag");c.exports=function(x,v,b){x&&!m(x=b?x:x.prototype,y)&&h(x,y,{configurable:!0,value:v})}}),"./node_modules/core-js/internals/shared-key.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/shared.js"),m=u("./node_modules/core-js/internals/uid.js"),A=h("keys");c.exports=function(y){return A[y]||(A[y]=m(y))}}),"./node_modules/core-js/internals/shared-store.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/global.js"),m=u("./node_modules/core-js/internals/set-global.js"),A="__core-js_shared__",y=h[A]||m(A,{});c.exports=y}),"./node_modules/core-js/internals/shared.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/is-pure.js"),m=u("./node_modules/core-js/internals/shared-store.js");(c.exports=function(A,y){return m[A]||(m[A]=y!==void 0?y:{})})("versions",[]).push({version:"3.16.0",mode:h?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})}),"./node_modules/core-js/internals/string-html-forced.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/fails.js");c.exports=function(m){return h(function(){var A=""[m]('"');return A!==A.toLowerCase()||A.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/to-integer.js"),m=u("./node_modules/core-js/internals/to-string.js"),A=u("./node_modules/core-js/internals/require-object-coercible.js"),y=function(x){return function(v,b){var j=m(A(v)),E=h(b),T=j.length,P,U;return E<0||E>=T?x?"":void 0:(P=j.charCodeAt(E),P<55296||P>56319||E+1===T||(U=j.charCodeAt(E+1))<56320||U>57343?x?j.charAt(E):P:x?j.slice(E,E+2):(P-55296<<10)+(U-56320)+65536)}};c.exports={codeAt:y(!1),charAt:y(!0)}}),"./node_modules/core-js/internals/string-trim.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/require-object-coercible.js"),m=u("./node_modules/core-js/internals/to-string.js"),A=u("./node_modules/core-js/internals/whitespaces.js"),y="["+A+"]",x=RegExp("^"+y+y+"*"),v=RegExp(y+y+"*$"),b=function(j){return function(E){var T=m(h(E));return j&1&&(T=T.replace(x,"")),j&2&&(T=T.replace(v,"")),T}};c.exports={start:b(1),end:b(2),trim:b(3)}}),"./node_modules/core-js/internals/to-absolute-index.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/to-integer.js"),m=Math.max,A=Math.min;c.exports=function(y,x){var v=h(y);return v<0?m(v+x,0):A(v,x)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/indexed-object.js"),m=u("./node_modules/core-js/internals/require-object-coercible.js");c.exports=function(A){return h(m(A))}}),"./node_modules/core-js/internals/to-integer.js":(function(c){var d=Math.ceil,u=Math.floor;c.exports=function(h){return isNaN(h=+h)?0:(h>0?u:d)(h)}}),"./node_modules/core-js/internals/to-length.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/to-integer.js"),m=Math.min;c.exports=function(A){return A>0?m(h(A),9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/require-object-coercible.js");c.exports=function(m){return Object(h(m))}}),"./node_modules/core-js/internals/to-primitive.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/is-object.js"),m=u("./node_modules/core-js/internals/is-symbol.js"),A=u("./node_modules/core-js/internals/ordinary-to-primitive.js"),y=u("./node_modules/core-js/internals/well-known-symbol.js"),x=y("toPrimitive");c.exports=function(v,b){if(!h(v)||m(v))return v;var j=v[x],E;if(j!==void 0){if(b===void 0&&(b="default"),E=j.call(v,b),!h(E)||m(E))return E;throw TypeError("Can't convert object to primitive value")}return b===void 0&&(b="number"),A(v,b)}}),"./node_modules/core-js/internals/to-property-key.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/to-primitive.js"),m=u("./node_modules/core-js/internals/is-symbol.js");c.exports=function(A){var y=h(A,"string");return m(y)?y:String(y)}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/well-known-symbol.js"),m=h("toStringTag"),A={};A[m]="z",c.exports=String(A)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/is-symbol.js");c.exports=function(m){if(h(m))throw TypeError("Cannot convert a Symbol value to a string");return String(m)}}),"./node_modules/core-js/internals/uid.js":(function(c){var d=0,u=Math.random();c.exports=function(h){return"Symbol("+String(h===void 0?"":h)+")_"+(++d+u).toString(36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/native-symbol.js");c.exports=h&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/well-known-symbol.js");d.f=h}),"./node_modules/core-js/internals/well-known-symbol.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/global.js"),m=u("./node_modules/core-js/internals/shared.js"),A=u("./node_modules/core-js/internals/has.js"),y=u("./node_modules/core-js/internals/uid.js"),x=u("./node_modules/core-js/internals/native-symbol.js"),v=u("./node_modules/core-js/internals/use-symbol-as-uid.js"),b=m("wks"),j=h.Symbol,E=v?j:j&&j.withoutSetter||y;c.exports=function(T){return(!A(b,T)||!(x||typeof b[T]=="string"))&&(x&&A(j,T)?b[T]=j[T]:b[T]=E("Symbol."+T)),b[T]}}),"./node_modules/core-js/internals/whitespaces.js":(function(c){c.exports=`	
\v\f\r \u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/export.js"),m=u("./node_modules/core-js/internals/fails.js"),A=u("./node_modules/core-js/internals/is-array.js"),y=u("./node_modules/core-js/internals/is-object.js"),x=u("./node_modules/core-js/internals/to-object.js"),v=u("./node_modules/core-js/internals/to-length.js"),b=u("./node_modules/core-js/internals/create-property.js"),j=u("./node_modules/core-js/internals/array-species-create.js"),E=u("./node_modules/core-js/internals/array-method-has-species-support.js"),T=u("./node_modules/core-js/internals/well-known-symbol.js"),P=u("./node_modules/core-js/internals/engine-v8-version.js"),U=T("isConcatSpreadable"),M=9007199254740991,k="Maximum allowed index exceeded",Q=P>=51||!m(function(){var V=[];return V[U]=!1,V.concat()[0]!==V}),z=E("concat"),O=function(V){if(!y(V))return!1;var J=V[U];return J!==void 0?!!J:A(V)},L=!Q||!z;h({target:"Array",proto:!0,forced:L},{concat:function(J){var ce=x(this),ee=j(ce,0),de=0,se,he,fe,ve,B;for(se=-1,fe=arguments.length;se<fe;se++)if(B=se===-1?ce:arguments[se],O(B)){if(ve=v(B.length),de+ve>M)throw TypeError(k);for(he=0;he<ve;he++,de++)he in B&&b(ee,de,B[he])}else{if(de>=M)throw TypeError(k);b(ee,de++,B)}return ee.length=de,ee}})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/to-indexed-object.js"),m=u("./node_modules/core-js/internals/add-to-unscopables.js"),A=u("./node_modules/core-js/internals/iterators.js"),y=u("./node_modules/core-js/internals/internal-state.js"),x=u("./node_modules/core-js/internals/define-iterator.js"),v="Array Iterator",b=y.set,j=y.getterFor(v);c.exports=x(Array,"Array",function(E,T){b(this,{type:v,target:h(E),index:0,kind:T})},function(){var E=j(this),T=E.target,P=E.kind,U=E.index++;return!T||U>=T.length?(E.target=void 0,{value:void 0,done:!0}):P=="keys"?{value:U,done:!1}:P=="values"?{value:T[U],done:!1}:{value:[U,T[U]],done:!1}},"values"),A.Arguments=A.Array,m("keys"),m("values"),m("entries")}),"./node_modules/core-js/modules/es.array.join.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/export.js"),m=u("./node_modules/core-js/internals/indexed-object.js"),A=u("./node_modules/core-js/internals/to-indexed-object.js"),y=u("./node_modules/core-js/internals/array-method-is-strict.js"),x=[].join,v=m!=Object,b=y("join",",");h({target:"Array",proto:!0,forced:v||!b},{join:function(E){return x.call(A(this),E===void 0?",":E)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/export.js"),m=u("./node_modules/core-js/internals/array-iteration.js").map,A=u("./node_modules/core-js/internals/array-method-has-species-support.js"),y=A("map");h({target:"Array",proto:!0,forced:!y},{map:function(v){return m(this,v,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/export.js"),m=u("./node_modules/core-js/internals/is-object.js"),A=u("./node_modules/core-js/internals/is-array.js"),y=u("./node_modules/core-js/internals/to-absolute-index.js"),x=u("./node_modules/core-js/internals/to-length.js"),v=u("./node_modules/core-js/internals/to-indexed-object.js"),b=u("./node_modules/core-js/internals/create-property.js"),j=u("./node_modules/core-js/internals/well-known-symbol.js"),E=u("./node_modules/core-js/internals/array-method-has-species-support.js"),T=E("slice"),P=j("species"),U=[].slice,M=Math.max;h({target:"Array",proto:!0,forced:!T},{slice:function(Q,z){var O=v(this),L=x(O.length),V=y(Q,L),J=y(z===void 0?L:z,L),ce,ee,de;if(A(O)&&(ce=O.constructor,typeof ce=="function"&&(ce===Array||A(ce.prototype))?ce=void 0:m(ce)&&(ce=ce[P],ce===null&&(ce=void 0)),ce===Array||ce===void 0))return U.call(O,V,J);for(ee=new(ce===void 0?Array:ce)(M(J-V,0)),de=0;V<J;V++,de++)V in O&&b(ee,de,O[V]);return ee.length=de,ee}})}),"./node_modules/core-js/modules/es.function.name.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/descriptors.js"),m=u("./node_modules/core-js/internals/object-define-property.js").f,A=Function.prototype,y=A.toString,x=/^\s*function ([^ (]*)/,v="name";h&&!(v in A)&&m(A,v,{configurable:!0,get:function(){try{return y.call(this).match(x)[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/descriptors.js"),m=u("./node_modules/core-js/internals/global.js"),A=u("./node_modules/core-js/internals/is-forced.js"),y=u("./node_modules/core-js/internals/redefine.js"),x=u("./node_modules/core-js/internals/has.js"),v=u("./node_modules/core-js/internals/classof-raw.js"),b=u("./node_modules/core-js/internals/inherit-if-required.js"),j=u("./node_modules/core-js/internals/is-symbol.js"),E=u("./node_modules/core-js/internals/to-primitive.js"),T=u("./node_modules/core-js/internals/fails.js"),P=u("./node_modules/core-js/internals/object-create.js"),U=u("./node_modules/core-js/internals/object-get-own-property-names.js").f,M=u("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,k=u("./node_modules/core-js/internals/object-define-property.js").f,Q=u("./node_modules/core-js/internals/string-trim.js").trim,z="Number",O=m[z],L=O.prototype,V=v(P(L))==z,J=function(he){if(j(he))throw TypeError("Cannot convert a Symbol value to a number");var fe=E(he,"number"),ve,B,R,Y,ie,ge,ye,pe;if(typeof fe=="string"&&fe.length>2){if(fe=Q(fe),ve=fe.charCodeAt(0),ve===43||ve===45){if(B=fe.charCodeAt(2),B===88||B===120)return NaN}else if(ve===48){switch(fe.charCodeAt(1)){case 66:case 98:R=2,Y=49;break;case 79:case 111:R=8,Y=55;break;default:return+fe}for(ie=fe.slice(2),ge=ie.length,ye=0;ye<ge;ye++)if(pe=ie.charCodeAt(ye),pe<48||pe>Y)return NaN;return parseInt(ie,R)}}return+fe};if(A(z,!O(" 0o1")||!O("0b1")||O("+0x1"))){for(var ce=function(fe){var ve=arguments.length<1?0:fe,B=this;return B instanceof ce&&(V?T(function(){L.valueOf.call(B)}):v(B)!=z)?b(new O(J(ve)),B,ce):J(ve)},ee=h?U(O):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),de=0,se;ee.length>de;de++)x(O,se=ee[de])&&!x(ce,se)&&k(ce,se,M(O,se));ce.prototype=L,L.constructor=ce,y(m,z,ce)}}),"./node_modules/core-js/modules/es.object.assign.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/export.js"),m=u("./node_modules/core-js/internals/object-assign.js");h({target:"Object",stat:!0,forced:Object.assign!==m},{assign:m})}),"./node_modules/core-js/modules/es.object.keys.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/export.js"),m=u("./node_modules/core-js/internals/to-object.js"),A=u("./node_modules/core-js/internals/object-keys.js"),y=u("./node_modules/core-js/internals/fails.js"),x=y(function(){A(1)});h({target:"Object",stat:!0,forced:x},{keys:function(b){return A(m(b))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/to-string-tag-support.js"),m=u("./node_modules/core-js/internals/redefine.js"),A=u("./node_modules/core-js/internals/object-to-string.js");h||m(Object.prototype,"toString",A,{unsafe:!0})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/redefine.js"),m=u("./node_modules/core-js/internals/an-object.js"),A=u("./node_modules/core-js/internals/to-string.js"),y=u("./node_modules/core-js/internals/fails.js"),x=u("./node_modules/core-js/internals/regexp-flags.js"),v="toString",b=RegExp.prototype,j=b[v],E=y(function(){return j.call({source:"a",flags:"b"})!="/a/b"}),T=j.name!=v;(E||T)&&h(RegExp.prototype,v,function(){var U=m(this),M=A(U.source),k=U.flags,Q=A(k===void 0&&U instanceof RegExp&&!("flags"in b)?x.call(U):k);return"/"+M+"/"+Q},{unsafe:!0})}),"./node_modules/core-js/modules/es.string.iterator.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/string-multibyte.js").charAt,m=u("./node_modules/core-js/internals/to-string.js"),A=u("./node_modules/core-js/internals/internal-state.js"),y=u("./node_modules/core-js/internals/define-iterator.js"),x="String Iterator",v=A.set,b=A.getterFor(x);y(String,"String",function(j){v(this,{type:x,string:m(j),index:0})},function(){var E=b(this),T=E.string,P=E.index,U;return P>=T.length?{value:void 0,done:!0}:(U=h(T,P),E.index+=U.length,{value:U,done:!1})})}),"./node_modules/core-js/modules/es.string.link.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/export.js"),m=u("./node_modules/core-js/internals/create-html.js"),A=u("./node_modules/core-js/internals/string-html-forced.js");h({target:"String",proto:!0,forced:A("link")},{link:function(x){return m(this,"a","href",x)}})}),"./node_modules/core-js/modules/es.symbol.description.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/export.js"),m=u("./node_modules/core-js/internals/descriptors.js"),A=u("./node_modules/core-js/internals/global.js"),y=u("./node_modules/core-js/internals/has.js"),x=u("./node_modules/core-js/internals/is-object.js"),v=u("./node_modules/core-js/internals/object-define-property.js").f,b=u("./node_modules/core-js/internals/copy-constructor-properties.js"),j=A.Symbol;if(m&&typeof j=="function"&&(!("description"in j.prototype)||j().description!==void 0)){var E={},T=function(){var z=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),O=this instanceof T?new j(z):z===void 0?j():j(z);return z===""&&(E[O]=!0),O};b(T,j);var P=T.prototype=j.prototype;P.constructor=T;var U=P.toString,M=String(j("test"))=="Symbol(test)",k=/^Symbol\((.*)\)[^)]+$/;v(P,"description",{configurable:!0,get:function(){var z=x(this)?this.valueOf():this,O=U.call(z);if(y(E,z))return"";var L=M?O.slice(7,-1):O.replace(k,"$1");return L===""?void 0:L}}),h({global:!0,forced:!0},{Symbol:T})}}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/define-well-known-symbol.js");h("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/export.js"),m=u("./node_modules/core-js/internals/global.js"),A=u("./node_modules/core-js/internals/get-built-in.js"),y=u("./node_modules/core-js/internals/is-pure.js"),x=u("./node_modules/core-js/internals/descriptors.js"),v=u("./node_modules/core-js/internals/native-symbol.js"),b=u("./node_modules/core-js/internals/fails.js"),j=u("./node_modules/core-js/internals/has.js"),E=u("./node_modules/core-js/internals/is-array.js"),T=u("./node_modules/core-js/internals/is-object.js"),P=u("./node_modules/core-js/internals/is-symbol.js"),U=u("./node_modules/core-js/internals/an-object.js"),M=u("./node_modules/core-js/internals/to-object.js"),k=u("./node_modules/core-js/internals/to-indexed-object.js"),Q=u("./node_modules/core-js/internals/to-property-key.js"),z=u("./node_modules/core-js/internals/to-string.js"),O=u("./node_modules/core-js/internals/create-property-descriptor.js"),L=u("./node_modules/core-js/internals/object-create.js"),V=u("./node_modules/core-js/internals/object-keys.js"),J=u("./node_modules/core-js/internals/object-get-own-property-names.js"),ce=u("./node_modules/core-js/internals/object-get-own-property-names-external.js"),ee=u("./node_modules/core-js/internals/object-get-own-property-symbols.js"),de=u("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),se=u("./node_modules/core-js/internals/object-define-property.js"),he=u("./node_modules/core-js/internals/object-property-is-enumerable.js"),fe=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),ve=u("./node_modules/core-js/internals/redefine.js"),B=u("./node_modules/core-js/internals/shared.js"),R=u("./node_modules/core-js/internals/shared-key.js"),Y=u("./node_modules/core-js/internals/hidden-keys.js"),ie=u("./node_modules/core-js/internals/uid.js"),ge=u("./node_modules/core-js/internals/well-known-symbol.js"),ye=u("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),pe=u("./node_modules/core-js/internals/define-well-known-symbol.js"),Z=u("./node_modules/core-js/internals/set-to-string-tag.js"),le=u("./node_modules/core-js/internals/internal-state.js"),te=u("./node_modules/core-js/internals/array-iteration.js").forEach,Ne=R("hidden"),Fe="Symbol",be="prototype",re=ge("toPrimitive"),Ce=le.set,st=le.getterFor(Fe),et=Object[be],He=m.Symbol,ct=A("JSON","stringify"),_e=de.f,ke=se.f,Ze=ce.f,Pe=he.f,ot=B("symbols"),Ge=B("op-symbols"),lt=B("string-to-symbol-registry"),Je=B("symbol-to-string-registry"),Me=B("wks"),Te=m.QObject,je=!Te||!Te[be]||!Te[be].findChild,Ke=x&&b(function(){return L(ke({},"a",{get:function(){return ke(this,"a",{value:7}).a}})).a!=7})?function(Zt,$t,rr){var kr=_e(et,$t);kr&&delete et[$t],ke(Zt,$t,rr),kr&&Zt!==et&&ke(et,$t,kr)}:ke,Le=function(Zt,$t){var rr=ot[Zt]=L(He[be]);return Ce(rr,{type:Fe,tag:Zt,description:$t}),x||(rr.description=$t),rr},rt=function($t,rr,kr){$t===et&&rt(Ge,rr,kr),U($t);var Qr=Q(rr);return U(kr),j(ot,Qr)?(kr.enumerable?(j($t,Ne)&&$t[Ne][Qr]&&($t[Ne][Qr]=!1),kr=L(kr,{enumerable:O(0,!1)})):(j($t,Ne)||ke($t,Ne,O(1,{})),$t[Ne][Qr]=!0),Ke($t,Qr,kr)):ke($t,Qr,kr)},Oe=function($t,rr){U($t);var kr=k(rr),Qr=V(kr).concat(Ft(kr));return te(Qr,function(dn){(!x||ut.call(kr,dn))&&rt($t,dn,kr[dn])}),$t},De=function($t,rr){return rr===void 0?L($t):Oe(L($t),rr)},ut=function($t){var rr=Q($t),kr=Pe.call(this,rr);return this===et&&j(ot,rr)&&!j(Ge,rr)?!1:kr||!j(this,rr)||!j(ot,rr)||j(this,Ne)&&this[Ne][rr]?kr:!0},_t=function($t,rr){var kr=k($t),Qr=Q(rr);if(!(kr===et&&j(ot,Qr)&&!j(Ge,Qr))){var dn=_e(kr,Qr);return dn&&j(ot,Qr)&&!(j(kr,Ne)&&kr[Ne][Qr])&&(dn.enumerable=!0),dn}},qt=function($t){var rr=Ze(k($t)),kr=[];return te(rr,function(Qr){!j(ot,Qr)&&!j(Y,Qr)&&kr.push(Qr)}),kr},Ft=function($t){var rr=$t===et,kr=Ze(rr?Ge:k($t)),Qr=[];return te(kr,function(dn){j(ot,dn)&&(!rr||j(et,dn))&&Qr.push(ot[dn])}),Qr};if(v||(He=function(){if(this instanceof He)throw TypeError("Symbol is not a constructor");var $t=!arguments.length||arguments[0]===void 0?void 0:z(arguments[0]),rr=ie($t),kr=function(Qr){this===et&&kr.call(Ge,Qr),j(this,Ne)&&j(this[Ne],rr)&&(this[Ne][rr]=!1),Ke(this,rr,O(1,Qr))};return x&&je&&Ke(et,rr,{configurable:!0,set:kr}),Le(rr,$t)},ve(He[be],"toString",function(){return st(this).tag}),ve(He,"withoutSetter",function(Zt){return Le(ie(Zt),Zt)}),he.f=ut,se.f=rt,de.f=_t,J.f=ce.f=qt,ee.f=Ft,ye.f=function(Zt){return Le(ge(Zt),Zt)},x&&(ke(He[be],"description",{configurable:!0,get:function(){return st(this).description}}),y||ve(et,"propertyIsEnumerable",ut,{unsafe:!0}))),h({global:!0,wrap:!0,forced:!v,sham:!v},{Symbol:He}),te(V(Me),function(Zt){pe(Zt)}),h({target:Fe,stat:!0,forced:!v},{for:function(Zt){var $t=z(Zt);if(j(lt,$t))return lt[$t];var rr=He($t);return lt[$t]=rr,Je[rr]=$t,rr},keyFor:function($t){if(!P($t))throw TypeError($t+" is not a symbol");if(j(Je,$t))return Je[$t]},useSetter:function(){je=!0},useSimple:function(){je=!1}}),h({target:"Object",stat:!0,forced:!v,sham:!x},{create:De,defineProperty:rt,defineProperties:Oe,getOwnPropertyDescriptor:_t}),h({target:"Object",stat:!0,forced:!v},{getOwnPropertyNames:qt,getOwnPropertySymbols:Ft}),h({target:"Object",stat:!0,forced:b(function(){ee.f(1)})},{getOwnPropertySymbols:function($t){return ee.f(M($t))}}),ct){var gt=!v||b(function(){var Zt=He();return ct([Zt])!="[null]"||ct({a:Zt})!="{}"||ct(Object(Zt))!="{}"});h({target:"JSON",stat:!0,forced:gt},{stringify:function($t,rr,kr){for(var Qr=[$t],dn=1,ja;arguments.length>dn;)Qr.push(arguments[dn++]);if(ja=rr,!(!T(rr)&&$t===void 0||P($t)))return E(rr)||(rr=function(rn,Vr){if(typeof ja=="function"&&(Vr=ja.call(this,rn,Vr)),!P(Vr))return Vr}),Qr[1]=rr,ct.apply(null,Qr)}})}He[be][re]||fe(He[be],re,He[be].valueOf),Z(He,Fe),Y[Ne]=!0}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/global.js"),m=u("./node_modules/core-js/internals/dom-iterables.js"),A=u("./node_modules/core-js/internals/array-for-each.js"),y=u("./node_modules/core-js/internals/create-non-enumerable-property.js");for(var x in m){var v=h[x],b=v&&v.prototype;if(b&&b.forEach!==A)try{y(b,"forEach",A)}catch{b.forEach=A}}}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(c,d,u){var h=u("./node_modules/core-js/internals/global.js"),m=u("./node_modules/core-js/internals/dom-iterables.js"),A=u("./node_modules/core-js/modules/es.array.iterator.js"),y=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=u("./node_modules/core-js/internals/well-known-symbol.js"),v=x("iterator"),b=x("toStringTag"),j=A.values;for(var E in m){var T=h[E],P=T&&T.prototype;if(P){if(P[v]!==j)try{y(P,v,j)}catch{P[v]=j}if(P[b]||y(P,b,E),m[E]){for(var U in A)if(P[U]!==A[U])try{y(P,U,A[U])}catch{P[U]=A[U]}}}}}),"./node_modules/es6-promise/dist/es6-promise.js":(function(c){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(d,u){c.exports=u()})(this,(function(){function d(Te){var je=typeof Te;return Te!==null&&(je==="object"||je==="function")}function u(Te){return typeof Te=="function"}var h=void 0;Array.isArray?h=Array.isArray:h=function(Te){return Object.prototype.toString.call(Te)==="[object Array]"};var m=h,A=0,y=void 0,x=void 0,v=function(je,Ke){V[A]=je,V[A+1]=Ke,A+=2,A===2&&(x?x(J):ee())};function b(Te){x=Te}function j(Te){v=Te}var E=typeof window<"u"?window:void 0,T=E||{},P=T.MutationObserver||T.WebKitMutationObserver,U=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",M=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function k(){return function(){return process.nextTick(J)}}function Q(){return typeof y<"u"?function(){y(J)}:L()}function z(){var Te=0,je=new P(J),Ke=document.createTextNode("");return je.observe(Ke,{characterData:!0}),function(){Ke.data=Te=++Te%2}}function O(){var Te=new MessageChannel;return Te.port1.onmessage=J,function(){return Te.port2.postMessage(0)}}function L(){var Te=setTimeout;return function(){return Te(J,1)}}var V=new Array(1e3);function J(){for(var Te=0;Te<A;Te+=2){var je=V[Te],Ke=V[Te+1];je(Ke),V[Te]=void 0,V[Te+1]=void 0}A=0}function ce(){try{var Te=Function("return this")().require("vertx");return y=Te.runOnLoop||Te.runOnContext,Q()}catch{return L()}}var ee=void 0;U?ee=k():P?ee=z():M?ee=O():E===void 0?ee=ce():ee=L();function de(Te,je){var Ke=this,Le=new this.constructor(fe);Le[he]===void 0&&ct(Le);var rt=Ke._state;if(rt){var Oe=arguments[rt-1];v(function(){return Ce(rt,Le,Oe,Ke._result)})}else be(Ke,Le,Te,je);return Le}function se(Te){var je=this;if(Te&&typeof Te=="object"&&Te.constructor===je)return Te;var Ke=new je(fe);return le(Ke,Te),Ke}var he=Math.random().toString(36).substring(2);function fe(){}var ve=void 0,B=1,R=2;function Y(){return new TypeError("You cannot resolve a promise with itself")}function ie(){return new TypeError("A promises callback cannot return that same promise.")}function ge(Te,je,Ke,Le){try{Te.call(je,Ke,Le)}catch(rt){return rt}}function ye(Te,je,Ke){v(function(Le){var rt=!1,Oe=ge(Ke,je,function(De){rt||(rt=!0,je!==De?le(Le,De):Ne(Le,De))},function(De){rt||(rt=!0,Fe(Le,De))},"Settle: "+(Le._label||" unknown promise"));!rt&&Oe&&(rt=!0,Fe(Le,Oe))},Te)}function pe(Te,je){je._state===B?Ne(Te,je._result):je._state===R?Fe(Te,je._result):be(je,void 0,function(Ke){return le(Te,Ke)},function(Ke){return Fe(Te,Ke)})}function Z(Te,je,Ke){je.constructor===Te.constructor&&Ke===de&&je.constructor.resolve===se?pe(Te,je):Ke===void 0?Ne(Te,je):u(Ke)?ye(Te,je,Ke):Ne(Te,je)}function le(Te,je){if(Te===je)Fe(Te,Y());else if(d(je)){var Ke=void 0;try{Ke=je.then}catch(Le){Fe(Te,Le);return}Z(Te,je,Ke)}else Ne(Te,je)}function te(Te){Te._onerror&&Te._onerror(Te._result),re(Te)}function Ne(Te,je){Te._state===ve&&(Te._result=je,Te._state=B,Te._subscribers.length!==0&&v(re,Te))}function Fe(Te,je){Te._state===ve&&(Te._state=R,Te._result=je,v(te,Te))}function be(Te,je,Ke,Le){var rt=Te._subscribers,Oe=rt.length;Te._onerror=null,rt[Oe]=je,rt[Oe+B]=Ke,rt[Oe+R]=Le,Oe===0&&Te._state&&v(re,Te)}function re(Te){var je=Te._subscribers,Ke=Te._state;if(je.length!==0){for(var Le=void 0,rt=void 0,Oe=Te._result,De=0;De<je.length;De+=3)Le=je[De],rt=je[De+Ke],Le?Ce(Ke,Le,rt,Oe):rt(Oe);Te._subscribers.length=0}}function Ce(Te,je,Ke,Le){var rt=u(Ke),Oe=void 0,De=void 0,ut=!0;if(rt){try{Oe=Ke(Le)}catch(_t){ut=!1,De=_t}if(je===Oe){Fe(je,ie());return}}else Oe=Le;je._state!==ve||(rt&&ut?le(je,Oe):ut===!1?Fe(je,De):Te===B?Ne(je,Oe):Te===R&&Fe(je,Oe))}function st(Te,je){try{je(function(Le){le(Te,Le)},function(Le){Fe(Te,Le)})}catch(Ke){Fe(Te,Ke)}}var et=0;function He(){return et++}function ct(Te){Te[he]=et++,Te._state=void 0,Te._result=void 0,Te._subscribers=[]}function _e(){return new Error("Array Methods must be provided an Array")}var ke=(function(){function Te(je,Ke){this._instanceConstructor=je,this.promise=new je(fe),this.promise[he]||ct(this.promise),m(Ke)?(this.length=Ke.length,this._remaining=Ke.length,this._result=new Array(this.length),this.length===0?Ne(this.promise,this._result):(this.length=this.length||0,this._enumerate(Ke),this._remaining===0&&Ne(this.promise,this._result))):Fe(this.promise,_e())}return Te.prototype._enumerate=function(Ke){for(var Le=0;this._state===ve&&Le<Ke.length;Le++)this._eachEntry(Ke[Le],Le)},Te.prototype._eachEntry=function(Ke,Le){var rt=this._instanceConstructor,Oe=rt.resolve;if(Oe===se){var De=void 0,ut=void 0,_t=!1;try{De=Ke.then}catch(Ft){_t=!0,ut=Ft}if(De===de&&Ke._state!==ve)this._settledAt(Ke._state,Le,Ke._result);else if(typeof De!="function")this._remaining--,this._result[Le]=Ke;else if(rt===Je){var qt=new rt(fe);_t?Fe(qt,ut):Z(qt,Ke,De),this._willSettleAt(qt,Le)}else this._willSettleAt(new rt(function(Ft){return Ft(Ke)}),Le)}else this._willSettleAt(Oe(Ke),Le)},Te.prototype._settledAt=function(Ke,Le,rt){var Oe=this.promise;Oe._state===ve&&(this._remaining--,Ke===R?Fe(Oe,rt):this._result[Le]=rt),this._remaining===0&&Ne(Oe,this._result)},Te.prototype._willSettleAt=function(Ke,Le){var rt=this;be(Ke,void 0,function(Oe){return rt._settledAt(B,Le,Oe)},function(Oe){return rt._settledAt(R,Le,Oe)})},Te})();function Ze(Te){return new ke(this,Te).promise}function Pe(Te){var je=this;return m(Te)?new je(function(Ke,Le){for(var rt=Te.length,Oe=0;Oe<rt;Oe++)je.resolve(Te[Oe]).then(Ke,Le)}):new je(function(Ke,Le){return Le(new TypeError("You must pass an array to race."))})}function ot(Te){var je=this,Ke=new je(fe);return Fe(Ke,Te),Ke}function Ge(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function lt(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Je=(function(){function Te(je){this[he]=He(),this._result=this._state=void 0,this._subscribers=[],fe!==je&&(typeof je!="function"&&Ge(),this instanceof Te?st(this,je):lt())}return Te.prototype.catch=function(Ke){return this.then(null,Ke)},Te.prototype.finally=function(Ke){var Le=this,rt=Le.constructor;return u(Ke)?Le.then(function(Oe){return rt.resolve(Ke()).then(function(){return Oe})},function(Oe){return rt.resolve(Ke()).then(function(){throw Oe})}):Le.then(Ke,Ke)},Te})();Je.prototype.then=de,Je.all=Ze,Je.race=Pe,Je.resolve=se,Je.reject=ot,Je._setScheduler=b,Je._setAsap=j,Je._asap=v;function Me(){var Te=void 0;if(typeof iA<"u")Te=iA;else if(typeof self<"u")Te=self;else try{Te=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var je=Te.Promise;if(je){var Ke=null;try{Ke=Object.prototype.toString.call(je.resolve())}catch{}if(Ke==="[object Promise]"&&!je.cast)return}Te.Promise=Je}return Je.polyfill=Me,Je.Promise=Je,Je}))}),html2canvas:(function(c){c.exports=n}),jspdf:(function(c){c.exports=r})},i={};function o(c){var d=i[c];if(d!==void 0)return d.exports;var u=i[c]={exports:{}};return s[c].call(u.exports,u,u.exports,o),u.exports}(function(){o.n=function(c){var d=c&&c.__esModule?function(){return c.default}:function(){return c};return o.d(d,{a:d}),d}})(),(function(){o.d=function(c,d){for(var u in d)o.o(d,u)&&!o.o(c,u)&&Object.defineProperty(c,u,{enumerable:!0,get:d[u]})}})(),(function(){o.o=function(c,d){return Object.prototype.hasOwnProperty.call(c,d)}})(),(function(){o.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})}})();var l={};return(function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/o.r(l);var c=o("./src/worker.js");o("./src/plugin/jspdf-plugin.js"),o("./src/plugin/pagebreaks.js"),o("./src/plugin/hyperlinks.js");var d=function u(h,m){var A=new u.Worker(m);return h?A.from(h).save():A};d.Worker=c.default,l.default=d})(),l=l.default,l})()})})(rC)),rC.exports}var Zge=Jge();const exe=dA(Zge),av="https://vidyaastra.com/api",txe=()=>{const[e,t]=C.useState(!1),[r,n]=C.useState(""),[s,i]=C.useState(!1),[o,l]=C.useState(!1),[c,d]=C.useState(null),[u,h]=C.useState([]),[m,A]=C.useState(""),[y,x]=C.useState("All"),[v,b]=C.useState(""),[j,E]=C.useState(null),[T,P]=C.useState(null),[U,M]=C.useState("#6B46C1"),[k,Q]=C.useState(!1),[z,O]=C.useState(null),[L,V]=C.useState(!1),J=C.useRef(null);C.useEffect(()=>{if(typeof window<"u"){M(localStorage.getItem("color")||"#6B46C1");const te=localStorage.getItem("schoolId");E(te),te||(n("School ID is missing. Please set your school ID."),b(" School ID not found in localStorage"))}},[]);const ce=async te=>{if(!te)return null;try{console.log("Fetching school details for ID:",te);const Ne=[`${av}/school/${te}`,`${av}/schools/${te}`,`${av}/school?id=${te}`];let Fe=null,be=null;for(const Ce of Ne)try{if(console.log("Trying endpoint:",Ce),Fe=await fe(Ce),Fe.ok){be=await Fe.json(),console.log("School API Response:",be);break}}catch(st){console.log(`Endpoint ${Ce} failed:`,st.message);continue}if(be){let Ce=null;if(be.success&&be.data||be.data?Ce=be.data:(be._id||be.name)&&(Ce=be),Ce){const st={name:Ce.name||"School Name Not Available",address:Ce.address||"Address Not Available",phone:Ce.phone||"Phone Not Available",email:Ce.email||"Email Not Available",logo:Ce.logoUrl?`https://vidyaastra.com${Ce.logoUrl}`:"/placeholder.svg?height=100&width=100&text=School+Logo",schoolCode:Ce.schoolCode||"N/A",adminName:Ce.adminName||"N/A",adminEmail:Ce.adminEmail||"N/A",adminContact:Ce.adminContact||"N/A"};return console.log("Processed school details:",st),P(st),st}}console.warn("Could not fetch school details, using fallback");const re={name:"School Name Not Available",address:"Address Not Available",phone:"Phone Not Available",email:"Email Not Available",logo:"/placeholder.svg?height=100&width=100&text=School+Logo",schoolCode:te,adminName:"N/A",adminEmail:"N/A",adminContact:"N/A"};return P(re),re}catch(Ne){console.error("Error fetching school details:",Ne);const Fe={name:"School Name Not Available",address:"Address Not Available",phone:"Phone Not Available",email:"Email Not Available",logo:"/placeholder.svg?height=100&width=100&text=School+Logo",schoolCode:te,adminName:"N/A",adminEmail:"N/A",adminContact:"N/A"};return P(Fe),Fe}};C.useEffect(()=>{j&&!T&&ce(j)},[j,T]);const ee=te=>`${Number(te||0).toLocaleString()}`,de=te=>{if(!te)return"N/A";try{return new Date(te).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Date"}},se=te=>({Delivered:"bg-green-100 text-green-800",Processing:"bg-yellow-100 text-yellow-800",Shipped:"bg-blue-100 text-blue-800",Cancelled:"bg-red-100 text-red-800",Pending:"bg-gray-100 text-gray-800",Paid:"bg-green-100 text-green-800"})[te]||"bg-gray-100 text-gray-800",he=te=>te==="UNIFORM"||te==="uniform"?a.jsx(af,{className:"w-4 h-4"}):a.jsx(Rs,{className:"w-4 h-4"}),fe=async(te,Ne=1e4)=>{const Fe=new AbortController,be=setTimeout(()=>Fe.abort(),Ne);try{const re=await fetch(te,{signal:Fe.signal,headers:{"Content-Type":"application/json",Accept:"application/json"}});return clearTimeout(be),re}catch(re){throw clearTimeout(be),re}},ve=async()=>{if(!j){n("School ID is required to fetch orders."),b(te=>te+`
 Cannot fetch orders: School ID is missing`);return}t(!0),n(""),b(""),T||await ce(j);try{const te=[];let Ne=[],Fe=[],be=[];te.push(" Testing API connectivity..."),te.push(` Using School ID: ${j}`),te.push(" Fetching uniform orders...");try{const Ce=await fe(`${av}/uniform/orders?schoolId=${j}`);if(te.push(` Uniform API Response: ${Ce.status} ${Ce.statusText}`),Ce.ok){const st=await Ce.json(),et=st.data||st||[];Array.isArray(et)&&(Ne=et.map((He,ct)=>{try{return{id:He._id||He.id||`uniform-${ct}`,type:"UNIFORM",orderType:"uniform",date:He.createdAt||He.date||new Date().toISOString(),status:He.status||"Pending",items:He.items?.map(_e=>`${_e.uniformItem?.name||_e.name||"Unknown"} ${_e.size?`(${_e.size})`:""} x ${_e.quantity||1}`)||[`Order #${ct+1}`],total:Number(He.totalAmount||He.total||0),customer:He.user?.name||He.customerName||"N/A",class:He.user?.class||He.class||"N/A",rawOrder:He}}catch(_e){return te.push(` Error processing uniform order ${ct}: ${_e.message}`),null}}).filter(Boolean)),te.push(` Processed Uniform Orders: ${Ne.length}`)}}catch(Ce){te.push(` Uniform Fetch Error: ${Ce.message}`)}te.push(" Fetching book orders...");try{const Ce=await fe(`${av}/orders?schoolId=${j}`);if(te.push(` Book API Response: ${Ce.status} ${Ce.statusText}`),Ce.ok){const st=await Ce.json(),et=Array.isArray(st)?st:st.data||st.orders||[];Array.isArray(et)&&(Fe=et.map((He,ct)=>{try{return{id:He._id||He.id||`book-${ct}`,type:"BOOKS",orderType:"book",date:He.createdAt||He.date||new Date().toISOString(),status:He.status||"Pending",items:He.items?.map(_e=>`${_e.book?.title||_e.title||_e.name||"Unknown"} x ${_e.quantity||1}`)||[`Order #${ct+1}`],total:Number(He.totalAmount||He.total||0),customer:He.studentDetails?.name||He.student?.name||He.customerName||"N/A",class:He.studentDetails?.class||He.student?.class||He.class||"N/A",rawOrder:He}}catch(_e){return te.push(` Error processing book order ${ct}: ${_e.message}`),null}}).filter(Boolean)),te.push(` Processed Book Orders: ${Fe.length}`)}}catch(Ce){te.push(` Book Fetch Error: ${Ce.message}`)}te.push(" Fetching fee orders...");try{const Ce=await fe(`${av}/fee?schoolId=${j}`);te.push(` Fee API Response: ${Ce.status} ${Ce.statusText}`),Ce.ok&&(be=((await Ce.json())?.data||[]).map((He,ct)=>{try{return{id:He._id||`fee-${ct}`,type:"FEE",orderType:"fee",date:He.createdAt,status:He.status,items:[`${He.term||"Fee"} Fee`],total:He.totalAmount,customer:He.student?.name||"N/A",class:He.student?.class||"N/A",rawOrder:He,feeId:He._id,installments:He.installments}}catch(_e){return te.push(` Error processing fee order ${ct}: ${_e.message}`),null}}).filter(Boolean),te.push(` Processed Fee Orders: ${be.length}`))}catch(Ce){te.push(` Fee Fetch Error: ${Ce.message}`)}const re=[...Ne,...Fe,...be].sort((Ce,st)=>new Date(st.date)-new Date(Ce.date));te.push(` Total Combined Orders: ${re.length}`),h(re),b(te.join(`
`))}catch(te){const Ne=`Failed to fetch orders: ${te.message}`;n(Ne),b(Fe=>Fe+`
 General Error: ${Ne}`)}finally{t(!1)}};C.useEffect(()=>{j&&ve()},[j]),console.log("Debug Orders:",v);const B=["All","Uniform","Books","Delivered","Processing","Shipped","Cancelled","Pending","Paid"],R=C.useMemo(()=>{let te=u;return y==="Uniform"?te=te.filter(Ne=>Ne.type==="UNIFORM"):y==="Books"?te=te.filter(Ne=>Ne.type==="BOOKS"):y==="Fee"?te=te.filter(Ne=>Ne.type==="FEE"):y!=="All"&&(te=te.filter(Ne=>Ne.status===y)),te},[y,u]),Y=C.useMemo(()=>{const te=m.toLowerCase();return R.filter(Ne=>Ne.customer.toLowerCase().includes(te)||Ne.id.toLowerCase().includes(te)||Ne.items.some(Fe=>Fe.toLowerCase().includes(te)))},[m,R]),ie=C.useMemo(()=>{const te=u.length,Ne=u.filter(re=>re.status==="Delivered"||re.status==="Paid").length,Fe=u.filter(re=>re.status==="Processing").length,be=u.filter(re=>re.status==="Delivered"||re.status==="Paid").reduce((re,Ce)=>re+Ce.total,0);return{total:te,delivered:Ne,processing:Fe,totalRevenue:be}},[u]),ge=te=>{d(te),i(!0)},ye=async te=>{V(!0),d(te);try{let Ne,Fe=null,be=T;!be&&j&&(console.log("School data not available, fetching..."),be=await ce(j)),te.orderType==="uniform"?Fe=te.rawOrder.user:te.orderType==="book"?Fe=te.rawOrder.studentDetails||te.rawOrder.student:te.orderType==="fee"&&(Fe=te.rawOrder.student),Fe||(Fe={name:te.customer,studentId:"N/A",phone:"N/A",email:"N/A",class:te.class}),te.orderType==="fee"?Ne={fee:te.rawOrder,installment:te.installments?.[0]||{},student:Fe,school:be}:Ne={order:te.rawOrder,student:Fe,school:be},console.log("Invoice data prepared:",Ne),O(Ne),l(!0)}catch(Ne){console.error("Error loading invoice data:",Ne),alert("Failed to load invoice data. Please check console for details.")}finally{V(!1)}},pe=(te,Ne)=>{if(!te||!Ne)return"";const Fe=new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"});let be,re,Ce,st,et,He,ct,_e=Ne.student,ke=Ne.school;if(console.log("Generating invoice HTML with school data:",ke),te.orderType==="fee"){const Ze=Ne.fee,Pe=Ne.installment;ct="Fee Receipt",be=Pe.receiptNumber||"N/A",re=de(Pe.paidDate||Ze.createdAt),et=Pe.paymentMethod||"N/A",He=Pe.status||"Pending",st=Pe.paid,Ce=`
        <div class="fee-details-section">
          <h3 class="section-title">Fee Installment Details</h3>
          <div class="detail-row">
            <span class="detail-label">Installment Title:</span>
            <span class="detail-value">Installment 1 (Term: ${Ze.term||"N/A"})</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Installment Value:</span>
            <span class="detail-value">${Pe.amount?.toFixed(2)||"0.00"}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Amount Paid:</span>
            <span class="detail-value">${Pe.paid?.toFixed(2)||"0.00"}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Paid Date:</span>
            <span class="detail-value">${de(Pe.paidDate)}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Receipt Number:</span>
            <span class="detail-value">${Pe.receiptNumber||"N/A"}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Payment Method:</span>
            <span class="detail-value">${Pe.paymentMethod||"N/A"}</span>
          </div>
        </div>
      `}else{const Ze=Ne.order;ct="Invoice",be=te.id?.slice(-8)||"N/A",re=de(te.date),et=Ze.paymentMethod||"N/A",He=te.status||"Pending",st=te.total,Ce=`
        <div class="items-section">
          <h3 class="section-title">Order Items</h3>
          <table class="items-table">
            <thead>
              <tr>
                <th>Description</th>
                <th>Quantity</th>
                <th>Unit Price</th>
                <th>Amount</th>
              </tr>
            </thead>
            <tbody>
              ${Ze.items.map((Pe,ot)=>{const Ge=te.orderType==="book"?Pe.book?.title:Pe.uniformItem?.name,lt=te.orderType==="book"?Pe.price:Pe.priceAtOrder,Je=Pe.quantity,Me=te.orderType==="uniform"?` (Size: ${Pe.size})`:"",Te=(Je*lt).toFixed(2);return`
                  <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 12px 8px; text-align: left; border-right: 1px solid #eee;">
                      <div style="font-weight: 500; color: #333; margin-bottom: 2px;">${Ge}</div>
                      ${Me?`<div style="font-size: 11px; color: #666;">${Me}</div>`:""}
                    </td>
                    <td style="padding: 12px 8px; text-align: center; border-right: 1px solid #eee; font-weight: 500;">${Je}</td>
                    <td style="padding: 12px 8px; text-align: right; border-right: 1px solid #eee;">${lt?.toFixed(2)||"0.00"}</td>
                    <td style="padding: 12px 8px; text-align: right; font-weight: 600; color: #333;">${Te}</td>
                  </tr>
                `}).join("")}
            </tbody>
          </table>
        </div>
      `}return`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>${ct} #${be}</title>
      <style>
        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }

        body {
          font-family: 'Helvetica Neue', Arial, sans-serif;
          line-height: 1.6;
          color: #333;
          background: #f8f9fa;
          padding: 20px;
        }

        .invoice-container {
          max-width: 800px;
          margin: 0 auto;
          background: white;
          border-radius: 10px;
          overflow: hidden;
          box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .invoice-header {
          color: #333;
          padding: 40px;
          text-align: center;
        }

        .invoice-title {
          font-size: 32px;
          font-weight: bold;
          margin-bottom: 10px;
          text-transform: uppercase;
          letter-spacing: 2px;
        }

        .invoice-body {
          padding: 40px;
        }

        .school-info {
          display: flex;
          align-items: center;
          margin-bottom: 40px;
          padding-bottom: 30px;
          border-bottom: 3px solid #f0f0f0;
        }

        .school-logo {
          width: 80px;
          height: 80px;
          border-radius: 10px;
          margin-right: 30px;
          object-fit: contain;
          border: 2px solid #eee;
        }

        .school-details h2 {
          font-size: 24px;
          color: #333;
          margin-bottom: 8px;
          font-weight: bold;
        }

        .school-details p {
          color: #666;
          margin-bottom: 4px;
          font-size: 14px;
        }

        .invoice-meta {
          display: flex;
          justify-content: space-between;
          margin-bottom: 40px;
          gap: 40px;
        }

        .invoice-details, .billing-details {
          flex: 1;
          background: #f8f9fa;
          padding: 25px;
          border-radius: 8px;
          border-left: 4px solid ${U};
        }

        .invoice-details h3, .billing-details h3 {
          font-size: 18px;
          color: #333;
          margin-bottom: 15px;
          font-weight: bold;
        }

        .detail-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 8px;
          padding: 5px 0;
        }

        .detail-label {
          font-weight: 600;
          color: #555;
        }

        .detail-value {
          color: #333;
          font-weight: 500;
        }

        .items-section {
          margin: 40px 0;
        }

        .section-title {
          font-size: 20px;
          color: #333;
          margin-bottom: 20px;
          font-weight: bold;
          text-transform: uppercase;
          letter-spacing: 1px;
        }

        .items-table {
          width: 100%;
          border-collapse: collapse;
          border: 1px solid #ddd;
          border-radius: 8px;
          overflow: hidden;
          box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .items-table thead {
          background: linear-gradient(135deg, ${U} 0%, ${U} 100%);
          color: white;
        }

        .items-table th {
          padding: 15px 10px;
          text-align: left;
          font-weight: bold;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          font-size: 12px;
        }

        .items-table th:nth-child(2) {
          text-align: center;
        }

        .items-table th:nth-child(3),
        .items-table th:nth-child(4) {
          text-align: right;
        }

        .items-table tbody tr:nth-child(even) {
          background: #f9f9f9;
        }

        .items-table tbody tr:hover {
          background: #f0f0f0;
        }

        .fee-details-section {
          margin: 40px 0;
          background: #f8f9fa;
          padding: 25px;
          border-radius: 8px;
          border: 1px solid #eee;
          box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        .fee-details-section .section-title {
          font-size: 20px;
          color: #333;
          margin-bottom: 20px;
          font-weight: bold;
          text-transform: uppercase;
          letter-spacing: 1px;
          border-bottom: 2px solid ${U};
          padding-bottom: 10px;
        }

        .fee-details-section .detail-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 10px;
          padding: 8px 0;
          border-bottom: 1px dashed #e0e0e0;
        }

        .fee-details-section .detail-row:last-child {
          border-bottom: none;
          margin-bottom: 0;
        }

        .fee-details-section .detail-label {
          font-weight: 600;
          color: #555;
          flex: 1;
        }

        .fee-details-section .detail-value {
          color: #333;
          font-weight: 500;
          text-align: right;
          flex: 1;
        }

        .summary-section {
          margin-top: 40px;
          border-top: 3px solid #f0f0f0;
          padding-top: 30px;
        }

        .summary-rows {
          max-width: 400px;
          margin-left: auto;
        }

        .summary-row {
          display: flex;
          justify-content: space-between;
          padding: 10px 0;
          border-bottom: 1px solid #eee;
        }

        .summary-row:last-child {
          border-bottom: none;
        }

        .summary-label {
          font-weight: 600;
          color: #555;
        }

        .summary-value {
          font-weight: 600;
          color: #333;
        }

        .total-row {
          background: linear-gradient(135deg, ${U} 0%, ${U} 100%);
          color: white;
          padding: 15px 20px;
          border-radius: 8px;
          margin-top: 15px;
        }

        .total-row .summary-label,
        .total-row .summary-value {
          color: white;
          font-size: 18px;
          font-weight: bold;
        }

        .payment-status {
          display: inline-block;
          padding: 6px 12px;
          border-radius: 20px;
          font-size: 12px;
          font-weight: bold;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .status-paid {
          background: #d4edda;
          color: #155724;
          border: 1px solid #c3e6cb;
        }

        .status-pending {
          background: #fff3cd;
          color: #856404;
          border: 1px solid #ffeaa7;
        }

        .status-delivered {
          background: #d4edda;
          color: #155724;
          border: 1px solid #c3e6cb;
        }

        .status-processing {
          background: #fff3cd;
          color: #856404;
          border: 1px solid #ffeaa7;
        }

        .status-shipped {
          background: #d1ecf1;
          color: #0c5460;
          border: 1px solid #bee5eb;
        }

        .status-cancelled {
          background: #f8d7da;
          color: #721c24;
          border: 1px solid #f5c6cb;
        }

        .footer {
          margin-top: 50px;
          text-align: center;
          padding: 30px;
          background: #f8f9fa;
          border-radius: 8px;
        }

        .thank-you {
          font-size: 18px;
          color: #333;
          font-weight: 600;
          margin-bottom: 10px;
        }

        .footer-note {
          font-size: 14px;
          color: #666;
          font-style: italic;
        }

        .watermark {
          position: fixed;
          bottom: 20px;
          right: 20px;
          font-size: 10px;
          color: #ccc;
          opacity: 0.7;
        }

        @media print {
          body {
            background: white;
            padding: 0;
          }

          .invoice-container {
            box-shadow: none;
            border-radius: 0;
          }
        }
      </style>
    </head>
    <body>
      <div class="invoice-container">
        <div class="invoice-header">
          <div class="invoice-title">${ct}</div>
        </div>

        <div class="invoice-body">
          <div class="school-info">
            <img src="${ke?.logo||"/placeholder.svg?height=100&width=100&text=School+Logo"}" alt="School Logo" class="school-logo" />
            <div class="school-details">
              <h2>${ke?.name||"School Name Not Available"}</h2>
              <p><strong>Address:</strong> ${ke?.address||"Address Not Available"}</p>
              <p><strong>Phone:</strong> ${ke?.phone||"Phone Not Available"}</p>
              <p><strong>Email:</strong> ${ke?.email||"Email Not Available"}</p>
              ${ke?.schoolCode?`<p><strong>School Code:</strong> ${ke.schoolCode}</p>`:""}
            </div>
          </div>

          <div class="invoice-meta">
            <div class="invoice-details">
              <h3>${ct} Details</h3>
              <div class="detail-row">
                <span class="detail-label">${ct} Number:</span>
                <span class="detail-value">#${be}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Date:</span>
                <span class="detail-value">${re}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Generated Date:</span>
                <span class="detail-value">${Fe}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Type:</span>
                <span class="detail-value">${te.type}</span>
              </div>
            </div>

            <div class="billing-details">
              <h3>Billed To</h3>
              <div class="detail-row">
                <span class="detail-label">Student Name:</span>
                <span class="detail-value">${_e?.name||"N/A"}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Student ID:</span>
                <span class="detail-value">${_e?.studentId||_e?.rollNumber||_e?._id||"N/A"}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Phone:</span>
                <span class="detail-value">${_e?.phone||"N/A"}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Email:</span>
                <span class="detail-value">${_e?.email||"N/A"}</span>
              </div>
            </div>
          </div>

          ${Ce}

          <div class="summary-section">
            <div class="summary-rows">
              <div class="summary-row">
                <span class="summary-label">Payment Method:</span>
                <span class="summary-value">${et}</span>
              </div>
              <div class="summary-row">
                <span class="summary-label">Status:</span>
                <span class="summary-value">
                  <span class="payment-status status-${He?.toLowerCase()}">
                    ${He||"Pending"}
                  </span>
                </span>
              </div>
              <div class="summary-row total-row">
                <span class="summary-label">${te.orderType==="fee"?"Total Amount Paid:":"Total Amount:"}</span>
                <span class="summary-value">${st?.toFixed(2)||"0.00"}</span>
              </div>
            </div>
          </div>

          <div class="footer">
            <div class="thank-you">Thank you for your ${te.orderType==="fee"?"payment":"purchase"}!</div>
            <div class="footer-note">
              This is a computer-generated ${te.orderType==="fee"?"receipt":"invoice"} and does not require a signature.
              <br>
              For any queries, please contact the school administration.
            </div>
          </div>
        </div>
      </div>

      <div class="watermark">
        Generated on ${Fe} | ${ke?.name||"School Name"}
      </div>
    </body>
    </html>
    `},Z=async(te,Ne=null)=>{if(!te||!Ne){alert("Error: Order data not available for PDF generation.");return}Q(!0);try{const Fe=pe(te,Ne),be={filename:`${te.orderType==="fee"?"fee_receipt":"invoice"}_${te.id.slice(-8)}_${Date.now()}.pdf`,margin:20,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"pt",format:"a4",orientation:"portrait"}};await exe().from(Fe).set(be).save(),alert(`${te.orderType==="fee"?"Fee Receipt":"Invoice"} PDF downloaded successfully!`)}catch(Fe){console.error("PDF generation error:",Fe),alert("Failed to generate PDF. Please try again.")}finally{Q(!1)}},le=te=>{const Ne=T?.name||"School Name";let Fe;te.orderType==="fee"?Fe=`FEE RECEIPT #${te.id.slice(-8)}
${Ne}
Date: ${de(te.date)}

Billed to: ${te.customer}
Fee Details:
${te.items.join(`
`)}

TOTAL: ${ee(te.total)}
Status: ${te.status}`:Fe=`INVOICE #${te.id.slice(-8)}
${Ne}
Date: ${de(te.date)}

Billed to: ${te.customer}
Class: ${te.class}

ITEMS:
${te.items.join(`
`)}

TOTAL: ${ee(te.total)}
Payment: ${te.rawOrder?.paymentMethod||"N/A"}
Status: ${te.status}`,navigator.share?navigator.share({title:te.orderType==="fee"?"Fee Receipt Details":"Invoice Details",text:Fe}):(navigator.clipboard.writeText(Fe),alert("Invoice details copied to clipboard!"))};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r&&a.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-red-100 border border-red-400 text-red-800 px-4 py-3 rounded-lg shadow-lg flex items-center gap-2 z-50",children:[a.jsx(ga,{className:"w-5 h-5"}),a.jsx("span",{children:r}),a.jsx("button",{onClick:()=>n(""),className:"ml-2 hover:text-red-900",children:a.jsx(Lr,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"text-white p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:U},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Jn,{className:"w-6 h-6"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Order History"}),a.jsx("p",{className:"text-white/80 mt-1",children:"Track and manage all orders efficiently"}),T&&a.jsxs("p",{className:"text-white/60 text-sm mt-1",children:[T.name," | School ID: ",j]})]})]}),a.jsxs("button",{onClick:ve,disabled:e||!j,className:"bg-white/20 hover:bg-white/30 text-white border border-white/30 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50",children:[e?a.jsx(an,{className:"w-4 h-4 animate-spin"}):a.jsx(ug,{className:"w-4 h-4"}),"Refresh"]})]})}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Va,{className:"absolute left-3 top-5 -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search orders...",value:m,onChange:te=>A(te.target.value),className:"pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 w-full lg:w-64"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fu,{className:"text-gray-500 w-4 h-4"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:B.map(te=>a.jsx("button",{onClick:()=>x(te),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${y===te?"text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,style:y===te?{backgroundColor:U}:{},children:te},te))})]})]})})}),a.jsxs("div",{className:"p-6 grid grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:ie.total}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Orders"})]}),a.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:ie.delivered}),a.jsx("div",{className:"text-sm text-gray-600",children:"Delivered/Paid"})]}),a.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border",children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:ie.processing}),a.jsx("div",{className:"text-sm text-gray-600",children:"Processing"})]}),a.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border",children:[a.jsx("div",{className:"text-2xl font-bold",style:{color:U},children:ee(ie.totalRevenue)}),a.jsx("div",{className:"text-sm text-gray-600",children:"Revenue"})]})]}),a.jsx("div",{className:"px-6 pb-6",children:a.jsx("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:e?a.jsx("tr",{children:a.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:[a.jsx(an,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:U}}),a.jsx("p",{className:"text-lg font-medium",children:"Loading orders..."}),a.jsx("p",{className:"text-sm",children:"This may take a few moments"})]})}):Y.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:[a.jsx(Jn,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-lg font-medium",children:"No orders found"}),a.jsx("p",{className:"text-sm",children:u.length===0?"Check if your backend is running and accessible or verify your school ID":"Try adjusting your search or filter"}),u.length===0&&a.jsxs("button",{onClick:ve,disabled:!j,className:"mt-4 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 mx-auto disabled:opacity-50",children:[a.jsx(ug,{className:"w-4 h-4"}),"Retry"]})]})}):Y.map(te=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${te.type==="UNIFORM"?"bg-purple-100 text-purple-600":te.type==="FEE"?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}`,children:te.type==="FEE"?"":he(te.type)}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["#",te.id.slice(-8)]}),a.jsx("div",{className:"text-sm text-gray-500",children:de(te.date)}),a.jsx("div",{className:`text-xs font-medium ${te.type==="UNIFORM"?"text-purple-600":te.type==="FEE"?"text-green-600":"text-blue-600"}`,children:te.type})]})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:te.customer}),te.class!=="N/A"&&a.jsx("div",{className:"text-sm text-gray-500",children:te.class})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"max-w-xs",children:[te.items.slice(0,2).map((Ne,Fe)=>a.jsx("div",{className:"text-sm text-gray-900 truncate",children:Ne},Fe)),te.items.length>2&&a.jsxs("div",{className:"text-xs text-gray-500",children:["+",te.items.length-2," more"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-bold text-gray-900",children:ee(te.total)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2.5 py-0.5 rounded-full text-xs font-medium ${se(te.status)}`,children:te.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>ge(te),className:"p-2 rounded-full hover:bg-opacity-80 transition text-white",style:{backgroundColor:U},title:"View Details",children:a.jsx(Hi,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>ye(te),disabled:L,className:"p-2 rounded-full hover:bg-opacity-80 transition text-white",style:{backgroundColor:U},title:"View Invoice",children:L?a.jsx(an,{className:"w-4 h-4 animate-spin"}):a.jsx(xs,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>le(te),className:"p-2 rounded-full hover:bg-opacity-80 transition text-white",style:{backgroundColor:U},title:"Share as Text",children:a.jsx(Ak,{className:"w-4 h-4"})})]})})]},te.id))})]})})})}),s&&c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:["Order Details #",c.id.slice(-8)]}),a.jsx("button",{onClick:()=>i(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(Lr,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-700",children:"Order Type:"}),a.jsx("p",{className:"text-gray-900",children:c.type})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-700",children:"Date:"}),a.jsx("p",{className:"text-gray-900",children:de(c.date)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-700",children:"Status:"}),a.jsx("span",{className:`inline-flex px-2.5 py-0.5 rounded-full text-xs font-medium ${se(c.status)}`,children:c.status})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-700",children:"Total Amount:"}),a.jsx("p",{className:"text-gray-900 font-bold",children:ee(c.total)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-700",children:"Customer:"}),a.jsx("p",{className:"text-gray-900",children:c.customer})]}),c.class!=="N/A"&&a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-700",children:"Class:"}),a.jsx("p",{className:"text-gray-900",children:c.class})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Items Ordered"}),a.jsx("div",{className:"space-y-3 border-t pt-4",children:c.rawOrder.items?.map((te,Ne)=>{const Fe=c.type==="UNIFORM"?te.uniformItem:te.book;return Fe?a.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx("img",{src:Fe.image||"/placeholder.svg?height=48&width=48",alt:c.type==="UNIFORM"?Fe.name:Fe.title,className:"w-12 h-12 object-cover rounded-md"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:c.type==="UNIFORM"?Fe.name:Fe.title}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Quantity: ",te.quantity,c.type==="UNIFORM"&&te.size&&`, Size: ${te.size}`]})]}),a.jsx("span",{className:"text-sm font-bold text-gray-900",children:ee((te.priceAtOrder||te.price||0)*te.quantity)})]},Ne):a.jsxs("div",{className:"flex items-center space-x-3 text-red-600 p-3 bg-red-50 rounded-lg",children:[a.jsx(ga,{className:"w-5 h-5"}),a.jsx("span",{children:"Item not found"})]},Ne)})})]})]})]})}),o&&c&&z&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b",style:{backgroundColor:U},children:[a.jsxs("div",{className:"flex items-center gap-3 text-white",children:[a.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:a.jsx(ip,{className:"w-5 h-5"})}),a.jsx("h2",{className:"text-xl font-bold",children:c.orderType==="fee"?"Fee Receipt":"Invoice"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>Z(c,z),disabled:k,className:"bg-white/20 hover:bg-white/30 text-white border border-white/30 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50",children:[k?a.jsx(an,{className:"w-4 h-4 animate-spin"}):a.jsx(xs,{className:"w-4 h-4"}),"PDF"]}),a.jsxs("button",{onClick:()=>le(c),className:"bg-white/20 hover:bg-white/30 text-white border border-white/30 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(Ak,{className:"w-4 h-4"}),"Share"]})]})]}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border max-w-2xl mx-auto",children:[a.jsxs("div",{className:"flex items-center p-6 border-b",children:[a.jsx("img",{src:z.school?.logo||"/placeholder.svg?height=80&width=80&text=School+Logo",alt:"School Logo",className:"w-16 h-16 object-contain rounded-lg border mr-4"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:z.school?.name||"School Name Not Available"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Address:"," ",z.school?.address||"Address Not Available"]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Phone:"," ",z.school?.phone||"Phone Not Available"]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Email:"," ",z.school?.email||"Email Not Available"]}),z.school?.schoolCode&&a.jsxs("p",{className:"text-sm text-gray-600",children:["School Code: ",z.school.schoolCode]})]})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:c.orderType==="fee"?"Receipt Details":"Invoice Details"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:c.orderType==="fee"?"Receipt #:":"Invoice #:"}),a.jsxs("span",{className:"font-medium",children:["#",c.orderType==="fee"?z.installment?.receiptNumber||"N/A":c.id.slice(-8)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Date:"}),a.jsx("span",{className:"font-medium",children:de(c.orderType==="fee"&&z.installment?.paidDate||c.date)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Type:"}),a.jsx("span",{className:"font-medium",children:c.type})]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Billed To"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Student Name:"}),a.jsx("span",{className:"font-medium",children:z.student?.name||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Student ID:"}),a.jsx("span",{className:"font-medium",children:z.student?.studentId||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Phone:"}),a.jsx("span",{className:"font-medium",children:z.student?.phone||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Email:"}),a.jsx("span",{className:"font-medium",children:z.student?.email||"N/A"})]})]})]})]}),c.orderType==="fee"?a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Fee Installment Details"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[a.jsx("span",{className:"text-gray-600",children:"Installment Title:"}),a.jsxs("span",{className:"font-medium",children:["Installment 1 (Term:"," ",z.fee?.term||"N/A",")"]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[a.jsx("span",{className:"text-gray-600",children:"Installment Value:"}),a.jsxs("span",{className:"font-medium",children:["",z.installment?.amount?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[a.jsx("span",{className:"text-gray-600",children:"Amount Paid:"}),a.jsxs("span",{className:"font-medium",children:["",z.installment?.paid?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[a.jsx("span",{className:"text-gray-600",children:"Paid Date:"}),a.jsx("span",{className:"font-medium",children:de(z.installment?.paidDate)})]}),a.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[a.jsx("span",{className:"text-gray-600",children:"Receipt Number:"}),a.jsx("span",{className:"font-medium",children:z.installment?.receiptNumber||"N/A"})]}),a.jsxs("div",{className:"flex justify-between py-2",children:[a.jsx("span",{className:"text-gray-600",children:"Payment Method:"}),a.jsx("span",{className:"font-medium",children:z.installment?.paymentMethod||"N/A"})]})]})]}):a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Order Items"}),a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Qty"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Unit Price"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Amount"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:c.rawOrder.items?.map((te,Ne)=>{const Fe=c.orderType==="book"?te.book?.title:te.uniformItem?.name,be=c.orderType==="book"?te.price:te.priceAtOrder,re=te.quantity,Ce=c.orderType==="uniform"?` (Size: ${te.size})`:"",st=(re*be).toFixed(2);return a.jsxs("tr",{children:[a.jsxs("td",{className:"px-4 py-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Fe}),Ce&&a.jsx("div",{className:"text-xs text-gray-500",children:Ce})]}),a.jsx("td",{className:"px-4 py-3 text-center text-sm text-gray-900",children:re}),a.jsxs("td",{className:"px-4 py-3 text-right text-sm text-gray-900",children:["",be?.toFixed(2)||"0.00"]}),a.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-gray-900",children:["",st]})]},Ne)})})]})})]}),a.jsx("div",{className:"border-t pt-4",children:a.jsxs("div",{className:"space-y-2 max-w-sm ml-auto",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Payment Method:"}),a.jsx("span",{className:"font-medium",children:c.orderType==="fee"?z.installment?.paymentMethod||"N/A":c.rawOrder?.paymentMethod||"N/A"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Status:"}),a.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${se(c.status)}`,children:c.status})]}),a.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",style:{color:U},children:[a.jsx("span",{children:c.orderType==="fee"?"Total Amount Paid:":"Total Amount:"}),a.jsxs("span",{children:["",c.total?.toFixed(2)||"0.00"]})]})]})}),a.jsxs("div",{className:"text-center pt-6 border-t",children:[a.jsxs("p",{className:"text-lg font-medium text-gray-700 mb-2",children:["Thank you for your"," ",c.orderType==="fee"?"payment":"purchase","!"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["This is a computer-generated"," ",c.orderType==="fee"?"receipt":"invoice"," ","and does not require a signature.",a.jsx("br",{}),"For any queries, please contact the school administration."]})]})]})]})})]})}),c&&z&&a.jsx("div",{style:{display:"none"},ref:J,children:a.jsx("div",{dangerouslySetInnerHTML:{__html:pe(c,z)}})})]})};var NC={},jC={},F7;function rxe(){return F7||(F7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(jC)),jC}var SC={},I7;function iV(){return I7||(I7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(SC)),SC}var CC={},k7;function oV(){return k7||(k7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(CC)),CC}var EC={},P7;function U_(){return P7||(P7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],s=r.length;if(s===0)return n;let i=0,o="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<s;){const d=r[i];l?d==="\\"&&i+1<s?(i++,o+=r[i]):d===l?l="":o+=d:c?d==='"'||d==="'"?l=d:d==="]"?(c=!1,n.push(o),o=""):o+=d:d==="["?(c=!0,o&&(n.push(o),o="")):d==="."?o&&(n.push(o),o=""):o+=d,i++}return o&&n.push(o),n}e.toPath=t})(EC)),EC}var L7;function R_(){return L7||(L7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rxe(),r=iV(),n=oV(),s=U_();function i(l,c,d){if(l==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?r.isDeepKey(c)?i(l,s.toPath(c),d):d:u}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const u=l[c];return u===void 0?d:u}default:{if(Array.isArray(c))return o(l,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?d:u}}}function o(l,c,d){if(c.length===0)return d;let u=l;for(let h=0;h<c.length;h++){if(u==null||t.isUnsafeProperty(c[h]))return d;u=u[c[h]]}return u===void 0?d:u}e.get=i})(NC)),NC}var BC,O7;function nxe(){return O7||(O7=1,BC=R_().get),BC}var axe=nxe();const e1=dA(axe);var TC={exports:{}},to={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D7;function sxe(){if(D7)return to;D7=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),A=Symbol.for("react.client.reference");function y(x){if(typeof x=="object"&&x!==null){var v=x.$$typeof;switch(v){case e:switch(x=x.type,x){case r:case s:case n:case c:case d:case m:return x;default:switch(x=x&&x.$$typeof,x){case o:case l:case h:case u:return x;case i:return x;default:return v}}case t:return v}}}return to.ContextConsumer=i,to.ContextProvider=o,to.Element=e,to.ForwardRef=l,to.Fragment=r,to.Lazy=h,to.Memo=u,to.Portal=t,to.Profiler=s,to.StrictMode=n,to.Suspense=c,to.SuspenseList=d,to.isContextConsumer=function(x){return y(x)===i},to.isContextProvider=function(x){return y(x)===o},to.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===e},to.isForwardRef=function(x){return y(x)===l},to.isFragment=function(x){return y(x)===r},to.isLazy=function(x){return y(x)===h},to.isMemo=function(x){return y(x)===u},to.isPortal=function(x){return y(x)===t},to.isProfiler=function(x){return y(x)===s},to.isStrictMode=function(x){return y(x)===n},to.isSuspense=function(x){return y(x)===c},to.isSuspenseList=function(x){return y(x)===d},to.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===r||x===s||x===n||x===c||x===d||typeof x=="object"&&x!==null&&(x.$$typeof===h||x.$$typeof===u||x.$$typeof===o||x.$$typeof===i||x.$$typeof===l||x.$$typeof===A||x.getModuleId!==void 0)},to.typeOf=y,to}var M7;function ixe(){return M7||(M7=1,TC.exports=sxe()),TC.exports}var oxe=ixe(),Tu=e=>e===0?0:e>0?1:-1,Uf=e=>typeof e=="number"&&e!=+e,Nx=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Fn=e=>(typeof e=="number"||e instanceof Number)&&!Uf(e),Wm=e=>Fn(e)||typeof e=="string",lxe=0,vb=e=>{var t=++lxe;return"".concat(e||"").concat(t)},Od=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Fn(t)&&typeof t!="string")return n;var i;if(Nx(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Uf(i)&&(i=n),s&&r!=null&&i>r&&(i=r),i},lV=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function ul(e,t,r){return Fn(e)&&Fn(t)?e+r*(t-e):t}function cV(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):e1(n,t))===r)}var hl=e=>e===null||typeof e>"u",nw=e=>hl(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),cxe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Q_(e){if(typeof e!="string")return!1;var t=cxe;return t.includes(e)}var uxe=["viewBox","children"],U7=["points","pathLength"],_C={svg:uxe,polygon:U7,polyline:U7},H_=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(C.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{Q_(s)&&(n[s]=(i=>r[s](r,i)))}),n},dxe=(e,t,r)=>n=>(e(t,r,n),null),aw=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var i=e[s];Q_(s)&&typeof i=="function"&&(n||(n={}),n[s]=dxe(i,t,r))}),n},fxe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function uV(e){if(typeof e!="string")return!1;var t=fxe;return t.includes(e)}function e0(e){var t=Object.entries(e).filter(r=>{var[n]=r;return uV(n)});return Object.fromEntries(t)}var R7=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Q7=null,FC=null,dV=e=>{if(e===Q7&&Array.isArray(FC))return FC;var t=[];return C.Children.forEach(e,r=>{hl(r)||(oxe.isFragment(r)?t=t.concat(dV(r.props.children)):t.push(r))}),FC=t,Q7=e,t};function $_(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>R7(s)):n=[R7(t)],dV(e).forEach(s=>{var i=e1(s,"type.displayName")||e1(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}var fV=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,hxe=(e,t,r,n)=>{var s;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(s=n&&_C?.[n])!==null&&s!==void 0?s:[],o=t.startsWith("data-"),l=typeof e!="function"&&(!!n&&i.includes(t)||uV(t)),c=!!r&&Q_(t);return o||l||c},fl=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(C.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var s={};return Object.keys(n).forEach(i=>{var o;hxe((o=n)===null||o===void 0?void 0:o[i],i,t,r)&&(s[i]=n[i])}),s},Axe=["children","width","height","viewBox","className","style","title","desc"];function bB(){return bB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bB.apply(null,arguments)}function mxe(e,t){if(e==null)return{};var r,n,s=pxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function pxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var z_=C.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:i,className:o,style:l,title:c,desc:d}=e,u=mxe(e,Axe),h=i||{width:n,height:s,x:0,y:0},m=cr("recharts-surface",o);return C.createElement("svg",bB({},fl(u,!0,"svg"),{className:m,width:n,height:s,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),C.createElement("title",null,c),C.createElement("desc",null,d),r)}),gxe=["children","className"];function wB(){return wB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wB.apply(null,arguments)}function xxe(e,t){if(e==null)return{};var r,n,s=vxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function vxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Mc=C.forwardRef((e,t)=>{var{children:r,className:n}=e,s=xxe(e,gxe),i=cr("recharts-layer",n);return C.createElement("g",wB({className:i},fl(s,!0),{ref:t}),r)}),hV=C.createContext(null),yxe=()=>C.useContext(hV);function So(e){return function(){return e}}const AV=Math.cos,dN=Math.sin,sm=Math.sqrt,fN=Math.PI,Oj=2*fN,NB=Math.PI,jB=2*NB,px=1e-6,bxe=jB-px;function mV(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function wxe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return mV;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class Nxe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?mV:wxe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,d=s-r,u=o-t,h=l-r,m=u*u+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>px)if(!(Math.abs(h*c-d*u)>px)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let A=n-o,y=s-l,x=c*c+d*d,v=A*A+y*y,b=Math.sqrt(x),j=Math.sqrt(m),E=i*Math.tan((NB-Math.acos((x+m-v)/(2*b*j)))/2),T=E/j,P=E/b;Math.abs(T-1)>px&&this._append`L${t+T*u},${r+T*h}`,this._append`A${i},${i},0,0,${+(h*A>u*y)},${this._x1=t+P*c},${this._y1=r+P*d}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),d=t+l,u=r+c,h=1^o,m=o?s-i:i-s;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>px||Math.abs(this._y1-u)>px)&&this._append`L${d},${u}`,n&&(m<0&&(m=m%jB+jB),m>bxe?this._append`A${n},${n},0,1,${h},${t-l},${r-c}A${n},${n},0,1,${h},${this._x1=d},${this._y1=u}`:m>px&&this._append`A${n},${n},0,${+(m>=NB)},${h},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function V_(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Nxe(t)}function K_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function pV(e){this._context=e}pV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Dj(e){return new pV(e)}function gV(e){return e[0]}function xV(e){return e[1]}function vV(e,t){var r=So(!0),n=null,s=Dj,i=null,o=V_(l);e=typeof e=="function"?e:e===void 0?gV:So(e),t=typeof t=="function"?t:t===void 0?xV:So(t);function l(c){var d,u=(c=K_(c)).length,h,m=!1,A;for(n==null&&(i=s(A=o())),d=0;d<=u;++d)!(d<u&&r(h=c[d],d,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(h,d,c),+t(h,d,c));if(A)return i=null,A+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:So(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:So(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:So(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function M4(e,t,r){var n=null,s=So(!0),i=null,o=Dj,l=null,c=V_(d);e=typeof e=="function"?e:e===void 0?gV:So(+e),t=typeof t=="function"?t:So(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?xV:So(+r);function d(h){var m,A,y,x=(h=K_(h)).length,v,b=!1,j,E=new Array(x),T=new Array(x);for(i==null&&(l=o(j=c())),m=0;m<=x;++m){if(!(m<x&&s(v=h[m],m,h))===b)if(b=!b)A=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=m-1;y>=A;--y)l.point(E[y],T[y]);l.lineEnd(),l.areaEnd()}b&&(E[m]=+e(v,m,h),T[m]=+t(v,m,h),l.point(n?+n(v,m,h):E[m],r?+r(v,m,h):T[m]))}if(j)return l=null,j+""||null}function u(){return vV().defined(s).curve(o).context(i)}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:So(+h),n=null,d):e},d.x0=function(h){return arguments.length?(e=typeof h=="function"?h:So(+h),d):e},d.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:So(+h),d):n},d.y=function(h){return arguments.length?(t=typeof h=="function"?h:So(+h),r=null,d):t},d.y0=function(h){return arguments.length?(t=typeof h=="function"?h:So(+h),d):t},d.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:So(+h),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(n).y(t)},d.defined=function(h){return arguments.length?(s=typeof h=="function"?h:So(!!h),d):s},d.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),d):i},d}class yV{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function jxe(e){return new yV(e,!0)}function Sxe(e){return new yV(e,!1)}const q_={draw(e,t){const r=sm(t/fN);e.moveTo(r,0),e.arc(0,0,r,0,Oj)}},Cxe={draw(e,t){const r=sm(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},bV=sm(1/3),Exe=bV*2,Bxe={draw(e,t){const r=sm(t/Exe),n=r*bV;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Txe={draw(e,t){const r=sm(t),n=-r/2;e.rect(n,n,r,r)}},_xe=.8908130915292852,wV=dN(fN/10)/dN(7*fN/10),Fxe=dN(Oj/10)*wV,Ixe=-AV(Oj/10)*wV,kxe={draw(e,t){const r=sm(t*_xe),n=Fxe*r,s=Ixe*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=Oj*i/5,l=AV(o),c=dN(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},IC=sm(3),Pxe={draw(e,t){const r=-sm(t/(IC*3));e.moveTo(0,r*2),e.lineTo(-IC*r,-r),e.lineTo(IC*r,-r),e.closePath()}},Yh=-.5,Xh=sm(3)/2,SB=1/sm(12),Lxe=(SB/2+1)*3,Oxe={draw(e,t){const r=sm(t/Lxe),n=r/2,s=r*SB,i=n,o=r*SB+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Yh*n-Xh*s,Xh*n+Yh*s),e.lineTo(Yh*i-Xh*o,Xh*i+Yh*o),e.lineTo(Yh*l-Xh*c,Xh*l+Yh*c),e.lineTo(Yh*n+Xh*s,Yh*s-Xh*n),e.lineTo(Yh*i+Xh*o,Yh*o-Xh*i),e.lineTo(Yh*l+Xh*c,Yh*c-Xh*l),e.closePath()}};function Dxe(e,t){let r=null,n=V_(s);e=typeof e=="function"?e:So(e||q_),t=typeof t=="function"?t:So(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:So(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:So(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function hN(){}function AN(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function NV(e){this._context=e}NV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:AN(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:AN(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Mxe(e){return new NV(e)}function jV(e){this._context=e}jV.prototype={areaStart:hN,areaEnd:hN,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:AN(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Uxe(e){return new jV(e)}function SV(e){this._context=e}SV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:AN(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Rxe(e){return new SV(e)}function CV(e){this._context=e}CV.prototype={areaStart:hN,areaEnd:hN,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Qxe(e){return new CV(e)}function H7(e){return e<0?-1:1}function $7(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(H7(i)+H7(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function z7(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function kC(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function mN(e){this._context=e}mN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:kC(this,this._t0,z7(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,kC(this,z7(this,r=$7(this,e,t)),r);break;default:kC(this,this._t0,r=$7(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function EV(e){this._context=new BV(e)}(EV.prototype=Object.create(mN.prototype)).point=function(e,t){mN.prototype.point.call(this,t,e)};function BV(e){this._context=e}BV.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function Hxe(e){return new mN(e)}function $xe(e){return new EV(e)}function TV(e){this._context=e}TV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=V7(e),s=V7(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function V7(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function zxe(e){return new TV(e)}function Mj(e,t){this._context=e,this._t=t}Mj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Vxe(e){return new Mj(e,.5)}function Kxe(e){return new Mj(e,0)}function qxe(e){return new Mj(e,1)}function Kv(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function CB(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Gxe(e,t){return e[t]}function Wxe(e){const t=[];return t.key=e,t}function Yxe(){var e=So([]),t=CB,r=Kv,n=Gxe;function s(i){var o=Array.from(e.apply(this,arguments),Wxe),l,c=o.length,d=-1,u;for(const h of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(h,o[l].key,d,i)]).data=h;for(l=0,u=K_(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:So(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:So(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?CB:typeof i=="function"?i:So(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Kv,s):r},s}function Xxe(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Kv(e,t)}}function Jxe(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Kv(e,t)}}function Zxe(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],h=u[n][1]||0,m=u[n-1][1]||0,A=(h-m)/2,y=0;y<l;++y){var x=e[t[y]],v=x[n][1]||0,b=x[n-1][1]||0;A+=v-b}c+=h,d+=A*h}s[n-1][1]+=s[n-1][0]=r,c&&(r-=d/c)}s[n-1][1]+=s[n-1][0]=r,Kv(e,t)}}var e1e=["type","size","sizeType"];function EB(){return EB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EB.apply(null,arguments)}function K7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function q7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K7(Object(r),!0).forEach(function(n){t1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t1e(e,t,r){return(t=r1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r1e(e){var t=n1e(e,"string");return typeof t=="symbol"?t:t+""}function n1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a1e(e,t){if(e==null)return{};var r,n,s=s1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function s1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _V={symbolCircle:q_,symbolCross:Cxe,symbolDiamond:Bxe,symbolSquare:Txe,symbolStar:kxe,symbolTriangle:Pxe,symbolWye:Oxe},i1e=Math.PI/180,o1e=e=>{var t="symbol".concat(nw(e));return _V[t]||q_},l1e=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*i1e;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},c1e=(e,t)=>{_V["symbol".concat(nw(e))]=t},G_=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=a1e(e,e1e),i=q7(q7({},s),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var m=o1e(o),A=Dxe().type(m).size(l1e(r,n,o));return A()},{className:c,cx:d,cy:u}=i,h=fl(i,!0);return d===+d&&u===+u&&r===+r?C.createElement("path",EB({},h,{className:cr("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:l()})):null};G_.registerSymbol=c1e;function BB(){return BB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BB.apply(null,arguments)}function G7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function u1e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G7(Object(r),!0).forEach(function(n){W_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W_(e,t,r){return(t=d1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d1e(e){var t=f1e(e,"string");return typeof t=="symbol"?t:t+""}function f1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jh=32;class Y_ extends C.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,s=Jh/2,i=Jh/6,o=Jh/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return C.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:s,x2:Jh,y2:s,className:"recharts-legend-icon"});if(c==="line")return C.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(Jh,"M").concat(2*o,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(c==="rect")return C.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Jh/8,"h").concat(Jh,"v").concat(Jh*3/4,"h").concat(-Jh,"z"),className:"recharts-legend-icon"});if(C.isValidElement(t.legendIcon)){var d=u1e({},t);return delete d.legendIcon,C.cloneElement(t.legendIcon,d)}return C.createElement(G_,{fill:l,cx:s,cy:s,size:Jh,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:s,inactiveColor:i,iconType:o}=this.props,l={x:0,y:0,width:Jh,height:Jh},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,h)=>{var m=u.formatter||s,A=cr({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:u.inactive});if(u.type==="none")return null;var y=u.inactive?i:u.color,x=m?m(u.value,u,h):u.value;return C.createElement("li",BB({className:A,style:c,key:"legend-item-".concat(h)},aw(this.props,u,h)),C.createElement(z_,{width:r,height:r,viewBox:l,style:d,"aria-label":"".concat(x," legend icon")},this.renderIcon(u,o)),C.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},x))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return C.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}W_(Y_,"displayName","Legend");W_(Y_,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var PC={},LC={},W7;function h1e(){return W7||(W7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o);s.has(l)||s.set(l,o)}return Array.from(s.values())}e.uniqBy=t})(LC)),LC}var OC={},Y7;function FV(){return Y7||(Y7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(OC)),OC}var DC={},MC={},UC={},X7;function A1e(){return X7||(X7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(UC)),UC}var J7;function X_(){return J7||(J7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A1e();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(MC)),MC}var RC={},Z7;function m1e(){return Z7||(Z7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(RC)),RC}var eO;function p1e(){return eO||(eO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X_(),r=m1e();function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(DC)),DC}var QC={},HC={},tO;function g1e(){return tO||(tO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R_();function r(n){return function(s){return t.get(s,n)}}e.property=r})(HC)),HC}var $C={},zC={},VC={},KC={},rO;function IV(){return rO||(rO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(KC)),KC}var qC={},nO;function kV(){return nO||(nO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(qC)),qC}var GC={},aO;function PV(){return aO||(aO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(GC)),GC}var sO;function x1e(){return sO||(sO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J_(),r=IV(),n=kV(),s=PV();function i(h,m,A){return typeof A!="function"?t.isMatch(h,m):o(h,m,function y(x,v,b,j,E,T){const P=A(x,v,b,j,E,T);return P!==void 0?!!P:o(x,v,y,T)},new Map)}function o(h,m,A,y){if(m===h)return!0;switch(typeof m){case"object":return l(h,m,A,y);case"function":return Object.keys(m).length>0?o(h,{...m},A,y):s.eq(h,m);default:return r.isObject(h)?typeof m=="string"?m==="":!0:s.eq(h,m)}}function l(h,m,A,y){if(m==null)return!0;if(Array.isArray(m))return d(h,m,A,y);if(m instanceof Map)return c(h,m,A,y);if(m instanceof Set)return u(h,m,A,y);const x=Object.keys(m);if(h==null)return x.length===0;if(x.length===0)return!0;if(y&&y.has(m))return y.get(m)===h;y&&y.set(m,h);try{for(let v=0;v<x.length;v++){const b=x[v];if(!n.isPrimitive(h)&&!(b in h)||m[b]===void 0&&h[b]!==void 0||m[b]===null&&h[b]!==null||!A(h[b],m[b],b,h,m,y))return!1}return!0}finally{y&&y.delete(m)}}function c(h,m,A,y){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[x,v]of m.entries()){const b=h.get(x);if(A(b,v,x,h,m,y)===!1)return!1}return!0}function d(h,m,A,y){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const x=new Set;for(let v=0;v<m.length;v++){const b=m[v];let j=!1;for(let E=0;E<h.length;E++){if(x.has(E))continue;const T=h[E];let P=!1;if(A(T,b,v,h,m,y)&&(P=!0),P){x.add(E),j=!0;break}}if(!j)return!1}return!0}function u(h,m,A,y){return m.size===0?!0:h instanceof Set?d([...h],[...m],A,y):!1}e.isMatchWith=i,e.isSetMatch=u})(VC)),VC}var iO;function J_(){return iO||(iO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x1e();function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r})(zC)),zC}var WC={},YC={},XC={},oO;function v1e(){return oO||(oO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(XC)),XC}var JC={},lO;function LV(){return lO||(lO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(JC)),JC}var ZC={},cO;function OV(){return cO||(cO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",d="[object Set]",u="[object Array]",h="[object Function]",m="[object ArrayBuffer]",A="[object Object]",y="[object Error]",x="[object DataView]",v="[object Uint8Array]",b="[object Uint8ClampedArray]",j="[object Uint16Array]",E="[object Uint32Array]",T="[object BigUint64Array]",P="[object Int8Array]",U="[object Int16Array]",M="[object Int32Array]",k="[object BigInt64Array]",Q="[object Float32Array]",z="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=m,e.arrayTag=u,e.bigInt64ArrayTag=k,e.bigUint64ArrayTag=T,e.booleanTag=s,e.dataViewTag=x,e.dateTag=l,e.errorTag=y,e.float32ArrayTag=Q,e.float64ArrayTag=z,e.functionTag=h,e.int16ArrayTag=U,e.int32ArrayTag=M,e.int8ArrayTag=P,e.mapTag=c,e.numberTag=n,e.objectTag=A,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=j,e.uint32ArrayTag=E,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=b})(ZC)),ZC}var e6={},uO;function y1e(){return uO||(uO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(e6)),e6}var dO;function DV(){return dO||(dO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v1e(),r=LV(),n=OV(),s=kV(),i=y1e();function o(u,h){return l(u,void 0,u,new Map,h)}function l(u,h,m,A=new Map,y=void 0){const x=y?.(u,h,m,A);if(x!==void 0)return x;if(s.isPrimitive(u))return u;if(A.has(u))return A.get(u);if(Array.isArray(u)){const v=new Array(u.length);A.set(u,v);for(let b=0;b<u.length;b++)v[b]=l(u[b],b,m,A,y);return Object.hasOwn(u,"index")&&(v.index=u.index),Object.hasOwn(u,"input")&&(v.input=u.input),v}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const v=new RegExp(u.source,u.flags);return v.lastIndex=u.lastIndex,v}if(u instanceof Map){const v=new Map;A.set(u,v);for(const[b,j]of u)v.set(b,l(j,b,m,A,y));return v}if(u instanceof Set){const v=new Set;A.set(u,v);for(const b of u)v.add(l(b,void 0,m,A,y));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const v=new(Object.getPrototypeOf(u)).constructor(u.length);A.set(u,v);for(let b=0;b<u.length;b++)v[b]=l(u[b],b,m,A,y);return v}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const v=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return A.set(u,v),c(v,u,m,A,y),v}if(typeof File<"u"&&u instanceof File){const v=new File([u],u.name,{type:u.type});return A.set(u,v),c(v,u,m,A,y),v}if(u instanceof Blob){const v=new Blob([u],{type:u.type});return A.set(u,v),c(v,u,m,A,y),v}if(u instanceof Error){const v=new u.constructor;return A.set(u,v),v.message=u.message,v.name=u.name,v.stack=u.stack,v.cause=u.cause,c(v,u,m,A,y),v}if(typeof u=="object"&&d(u)){const v=Object.create(Object.getPrototypeOf(u));return A.set(u,v),c(v,u,m,A,y),v}return u}function c(u,h,m=u,A,y){const x=[...Object.keys(h),...t.getSymbols(h)];for(let v=0;v<x.length;v++){const b=x[v],j=Object.getOwnPropertyDescriptor(u,b);(j==null||j.writable)&&(u[b]=l(h[b],b,m,A,y))}}function d(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(YC)),YC}var fO;function b1e(){return fO||(fO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DV();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(WC)),WC}var hO;function w1e(){return hO||(hO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J_(),r=b1e();function n(s){return s=r.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=n})($C)),$C}var t6={},r6={},n6={},AO;function N1e(){return AO||(AO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DV(),r=OV();function n(s,i){return t.cloneDeepWith(s,(o,l,c,d)=>{const u=i?.(o,l,c,d);if(u!==void 0)return u;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new s.constructor(s?.valueOf());return t.copyProperties(h,s),h}case r.argumentsTag:{const h={};return t.copyProperties(h,s),h.length=s.length,h[Symbol.iterator]=s[Symbol.iterator],h}default:return}})}e.cloneDeepWith=n})(n6)),n6}var mO;function j1e(){return mO||(mO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N1e();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(r6)),r6}var a6={},s6={},pO;function MV(){return pO||(pO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(s6)),s6}var i6={},gO;function S1e(){return gO||(gO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LV();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(i6)),i6}var xO;function C1e(){return xO||(xO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iV(),r=MV(),n=S1e(),s=U_();function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&o?.[l]==null?c=s.toPath(l):c=[l],c.length===0)return!1;let d=o;for(let u=0;u<c.length;u++){const h=c[u];if((d==null||!Object.hasOwn(d,h))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(h)&&h<d.length))return!1;d=d[h]}return!0}e.has=i})(a6)),a6}var vO;function E1e(){return vO||(vO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J_(),r=oV(),n=j1e(),s=R_(),i=C1e();function o(l,c){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(d){const u=s.get(d,l);return u===void 0?i.has(d,l):c===void 0?u===void 0:t.isMatch(u,c)}}e.matchesProperty=o})(t6)),t6}var yO;function B1e(){return yO||(yO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FV(),r=g1e(),n=w1e(),s=E1e();function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?s.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(QC)),QC}var bO;function T1e(){return bO||(bO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h1e(),r=FV(),n=p1e(),s=B1e();function i(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),s.iteratee(l)):[]}e.uniqBy=i})(PC)),PC}var o6,wO;function _1e(){return wO||(wO=1,o6=T1e().uniqBy),o6}var F1e=_1e();const NO=dA(F1e);function UV(e,t,r){return t===!0?NO(e,r):typeof t=="function"?NO(e,t):e}var l6={exports:{}},c6={},u6={exports:{}},d6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jO;function I1e(){if(jO)return d6;jO=1;var e=ry();function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(h,m){var A=m(),y=n({inst:{value:A,getSnapshot:m}}),x=y[0].inst,v=y[1];return i(function(){x.value=A,x.getSnapshot=m,c(x)&&v({inst:x})},[h,A,m]),s(function(){return c(x)&&v({inst:x}),h(function(){c(x)&&v({inst:x})})},[h]),o(A),A}function c(h){var m=h.getSnapshot;h=h.value;try{var A=m();return!r(h,A)}catch{return!0}}function d(h,m){return m()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return d6.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,d6}var SO;function k1e(){return SO||(SO=1,u6.exports=I1e()),u6.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CO;function P1e(){if(CO)return c6;CO=1;var e=ry(),t=k1e();function r(d,u){return d===u&&(d!==0||1/d===1/u)||d!==d&&u!==u}var n=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,c=e.useDebugValue;return c6.useSyncExternalStoreWithSelector=function(d,u,h,m,A){var y=i(null);if(y.current===null){var x={hasValue:!1,value:null};y.current=x}else x=y.current;y=l(function(){function b(U){if(!j){if(j=!0,E=U,U=m(U),A!==void 0&&x.hasValue){var M=x.value;if(A(M,U))return T=M}return T=U}if(M=T,n(E,U))return M;var k=m(U);return A!==void 0&&A(M,k)?(E=U,M):(E=U,T=k)}var j=!1,E,T,P=h===void 0?null:h;return[function(){return b(u())},P===null?void 0:function(){return b(P())}]},[u,h,m,A]);var v=s(d,y[0],y[1]);return o(function(){x.hasValue=!0,x.value=v},[v]),c(v),v},c6}var EO;function L1e(){return EO||(EO=1,l6.exports=P1e()),l6.exports}var O1e=L1e(),Z_=C.createContext(null),D1e=e=>e,ml=()=>{var e=C.useContext(Z_);return e?e.store.dispatch:D1e},v5=()=>{},M1e=()=>v5,U1e=(e,t)=>e===t;function In(e){var t=C.useContext(Z_);return O1e.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:M1e,t?t.store.getState:v5,t?t.store.getState:v5,t?e:v5,U1e)}var f6={},h6={},A6={},BO;function R1e(){return BO||(BO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,i)=>{if(n!==s){const o=t(n),l=t(s);if(o===l&&o===0){if(n<s)return i==="desc"?1:-1;if(n>s)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(A6)),A6}var m6={},p6={},TO;function RV(){return TO||(TO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(p6)),p6}var _O;function Q1e(){return _O||(_O=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RV(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=s})(m6)),m6}var FO;function H1e(){return FO||(FO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R1e(),r=Q1e(),n=U_();function s(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(A=>String(A));const d=(A,y)=>{let x=A;for(let v=0;v<y.length&&x!=null;++v)x=x[y[v]];return x},u=(A,y)=>y==null||A==null?y:typeof A=="object"&&"key"in A?Object.hasOwn(y,A.key)?y[A.key]:d(y,A.path):typeof A=="function"?A(y):Array.isArray(A)?d(y,A):typeof y=="object"?y[A]:y,h=o.map(A=>(Array.isArray(A)&&A.length===1&&(A=A[0]),A==null||typeof A=="function"||Array.isArray(A)||r.isKey(A)?A:{key:A,path:n.toPath(A)}));return i.map(A=>({original:A,criteria:h.map(y=>u(y,A))})).slice().sort((A,y)=>{for(let x=0;x<h.length;x++){const v=t.compareValues(A.criteria[x],y.criteria[x],l[x]);if(v!==0)return v}return 0}).map(A=>A.original)}e.orderBy=s})(h6)),h6}var g6={},IO;function $1e(){return IO||(IO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],i=Math.floor(n),o=(l,c)=>{for(let d=0;d<l.length;d++){const u=l[d];Array.isArray(u)&&c<i?o(u,c+1):s.push(u)}};return o(r,0),s}e.flatten=t})(g6)),g6}var x6={},kO;function QV(){return kO||(kO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MV(),r=X_(),n=IV(),s=PV();function i(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?s.eq(c[l],o):!1}e.isIterateeCall=i})(x6)),x6}var PO;function z1e(){return PO||(PO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H1e(),r=$1e(),n=QV();function s(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=s})(f6)),f6}var v6,LO;function V1e(){return LO||(LO=1,v6=z1e().sortBy),v6}var K1e=V1e();const Uj=dA(K1e);var HV=e=>e.legend.settings,q1e=e=>e.legend.size,G1e=e=>e.legend.payload,W1e=mr([G1e,HV],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Uj(n,r):n});function Y1e(){return In(W1e)}var U4=1;function $V(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=C.useState({height:0,left:0,top:0,width:0}),n=C.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>U4||Math.abs(o.left-t.left)>U4||Math.abs(o.top-t.top)>U4||Math.abs(o.width-t.width)>U4)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}var X1e={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},zV=Md({name:"chartLayout",initialState:X1e,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,s,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:J1e,setLayout:Z1e,setChartSize:eve,setScale:tve}=zV.actions,rve=zV.reducer;function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function DO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(n){nve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nve(e,t,r){return(t=ave(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ave(e){var t=sve(e,"string");return typeof t=="symbol"?t:t+""}function sve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pN=Math.PI/180,ive=e=>e*180/Math.PI,Lc=(e,t,r,n)=>({x:e+Math.cos(-pN*n)*r,y:t+Math.sin(-pN*n)*r}),VV=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},ove=(e,t)=>{var{x:r,y:n}=e,{x:s,y:i}=t;return Math.sqrt((r-s)**2+(n-i)**2)},lve=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:i}=t,o=ove({x:r,y:n},{x:s,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-s)/o,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:o,angle:ive(c),angleInRadian:c}},cve=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),i=Math.min(n,s);return{startAngle:t-i*360,endAngle:r-i*360}},uve=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return e+o*360},dve=(e,t)=>{var{x:r,y:n}=e,{radius:s,angle:i}=lve({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(s<o||s>l||s===0)return null;var{startAngle:c,endAngle:d}=cve(t),u=i,h;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;h=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;h=u>=d&&u<=c}return h?DO(DO({},t),{},{radius:s,angle:uve(u,t)}):null};function KV(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(n){fve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fve(e,t,r){return(t=hve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hve(e){var t=Ave(e,"string");return typeof t=="symbol"?t:t+""}function Ave(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ao(e,t,r){return hl(e)||hl(t)?r:Wm(t)?e1(e,t,r):typeof t=="function"?t(e):r}var mve=(e,t,r,n,s)=>{var i,o=-1,l=(i=t?.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var c=0;c<l;c++){var d=c>0?r[c-1].coordinate:r[l-1].coordinate,u=r[c].coordinate,h=c>=l-1?r[0].coordinate:r[c+1].coordinate,m=void 0;if(Tu(u-d)!==Tu(h-u)){var A=[];if(Tu(h-u)===Tu(s[1]-s[0])){m=h;var y=u+s[1]-s[0];A[0]=Math.min(y,(y+d)/2),A[1]=Math.max(y,(y+d)/2)}else{m=d;var x=h+s[1]-s[0];A[0]=Math.min(u,(x+u)/2),A[1]=Math.max(u,(x+u)/2)}var v=[Math.min(u,(m+u)/2),Math.max(u,(m+u)/2)];if(e>v[0]&&e<=v[1]||e>=A[0]&&e<=A[1]){({index:o}=r[c]);break}}else{var b=Math.min(d,h),j=Math.max(d,h);if(e>(b+u)/2&&e<=(j+u)/2){({index:o}=r[c]);break}}}else if(t){for(var E=0;E<l;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<l-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===l-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:o}=t[E]);break}}return o},pve=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&Fn(e[i]))return sA(sA({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&Fn(e[o]))return sA(sA({},e),{},{[o]:e[o]+(s||0)})}return e},lp=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",qV=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var s,i,o=e.map(l=>(l.coordinate===t&&(s=!0),l.coordinate===r&&(i=!0),l.coordinate));return s||o.push(t),i||o.push(r),o},GV=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:d,tickCount:u,ticks:h,niceTicks:m,axisType:A}=e;if(!o)return null;var y=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,x=s==="category"&&o.bandwidth?o.bandwidth()/y:0;if(x=A==="angleAxis"&&i&&i.length>=2?Tu(i[0]-i[1])*2*x:x,h||m){var v=(h||m||[]).map((b,j)=>{var E=n?n.indexOf(b):b;return{coordinate:o(E)+x,value:b,offset:x,index:j}});return v.filter(b=>!Uf(b.coordinate))}return c&&d?d.map((b,j)=>({coordinate:o(b)+x,value:b,index:j,offset:x})):o.ticks&&u!=null?o.ticks(u).map((b,j)=>({coordinate:o(b)+x,value:b,offset:x,index:j})):o.domain().map((b,j)=>({coordinate:o(b)+x,value:n?n[b]:b,index:j,offset:x}))},UO=1e-4,gve=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-UO,i=Math.max(n[0],n[1])+UO,o=e(t[0]),l=e(t[r-1]);(o<s||o>i||l<s||l>i)&&e.domain([t[0],t[r-1]])}},xve=(e,t)=>{if(!t||t.length!==2||!Fn(t[0])||!Fn(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Fn(e[0])||e[0]<r)&&(s[0]=r),(!Fn(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},vve=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0,o=0;o<t;++o){var l=Uf(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},yve=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0;i<t;++i){var o=Uf(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},bve={sign:vve,expand:Xxe,none:Kv,silhouette:Jxe,wiggle:Zxe,positive:yve},wve=(e,t,r)=>{var n=bve[r],s=Yxe().keys(t).value((i,o)=>+Ao(i,o,0)).order(CB).offset(n);return s(e)};function WV(e){return e==null?void 0:String(e)}function RO(e){var{axis:t,ticks:r,bandSize:n,entry:s,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!hl(s[t.dataKey])){var l=cV(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Ao(s,hl(o)?t.dataKey:o);return hl(c)?null:t.scale(c)}var QO=e=>{var{axis:t,ticks:r,offset:n,bandSize:s,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=Ao(i,t.dataKey,t.scale.domain()[o]);return hl(l)?null:t.scale(l)-s/2+n},Nve=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},jve=e=>{var t=e.flat(2).filter(Fn);return[Math.min(...t),Math.max(...t)]},Sve=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Cve=(e,t,r)=>{if(e!=null)return Sve(Object.keys(e).reduce((n,s)=>{var i=e[s],{stackedData:o}=i,l=o.reduce((c,d)=>{var u=KV(d,t,r),h=jve(u);return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},HO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$O=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yb=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=Uj(t,u=>u.coordinate),i=1/0,o=1,l=s.length;o<l;o++){var c=s[o],d=s[o-1];i=Math.min((c.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function zO(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:i}=e;return sA(sA({},t),{},{dataKey:r,payload:n,value:s,name:i})}function my(e,t){if(e)return String(e);if(typeof t=="string")return t}function Eve(e,t,r,n,s){if(r==="horizontal"||r==="vertical"){var i=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return i?{x:e,y:t}:null}return n?dve({x:e,y:t},n):null}var Bve=(e,t,r,n)=>{var s=t.find(d=>d&&d.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,{radius:o}=n;return sA(sA(sA({},n),Lc(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=s.coordinate,{angle:c}=n;return sA(sA(sA({},n),Lc(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},Tve=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,cp=e=>e.layout.width,up=e=>e.layout.height,_ve=e=>e.layout.scale,YV=e=>e.layout.margin,Rj=mr(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Qj=mr(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),XV="data-recharts-item-index",JV="data-recharts-item-data-key",sw=60;function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function R4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(n){Fve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fve(e,t,r){return(t=Ive(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ive(e){var t=kve(e,"string");return typeof t=="symbol"?t:t+""}function kve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pve=e=>e.brush.height;function Lve(e){var t=Qj(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:sw;return r+s}return r},0)}function Ove(e){var t=Qj(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:sw;return r+s}return r},0)}function Dve(e){var t=Rj(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Mve(e){var t=Rj(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var nu=mr([cp,up,YV,Pve,Lve,Ove,Dve,Mve,HV,q1e],(e,t,r,n,s,i,o,l,c,d)=>{var u={left:(r.left||0)+s,right:(r.right||0)+i},h={top:(r.top||0)+o,bottom:(r.bottom||0)+l},m=R4(R4({},h),u),A=m.bottom;m.bottom+=n,m=pve(m,c,d);var y=e-m.left-m.right,x=t-m.top-m.bottom;return R4(R4({brushBottom:A},m),{},{width:Math.max(y,0),height:Math.max(x,0)})}),Uve=mr(nu,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),e8=mr(cp,up,(e,t)=>({x:0,y:0,width:e,height:t})),Rve=C.createContext(null),Hf=()=>C.useContext(Rve)!=null,Hj=e=>e.brush,$j=mr([Hj,nu,YV],(e,t,r)=>({height:e.height,x:Fn(e.x)?e.x:t.left,y:Fn(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Fn(e.width)?e.width:t.width})),t8=()=>{var e,t=Hf(),r=In(Uve),n=In($j),s=(e=In(Hj))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},Qve={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},ZV=()=>{var e;return(e=In(nu))!==null&&e!==void 0?e:Qve},r8=()=>In(cp),n8=()=>In(up),Hve=()=>In(e=>e.layout.margin),Fs=e=>e.layout.layoutType,zj=()=>In(Fs),$ve={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},eK=Md({name:"legend",initialState:$ve,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=z0(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:KO,setLegendSettings:zve,addLegendPayload:tK,removeLegendPayload:rK}=eK.actions,Vve=eK.reducer,Kve=["contextPayload"];function TB(){return TB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TB.apply(null,arguments)}function qO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(r),!0).forEach(function(n){a8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a8(e,t,r){return(t=qve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qve(e){var t=Gve(e,"string");return typeof t=="symbol"?t:t+""}function Gve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wve(e,t){if(e==null)return{};var r,n,s=Yve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Yve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Xve(e){return e.value}function Jve(e){var{contextPayload:t}=e,r=Wve(e,Kve),n=UV(t,e.payloadUniqBy,Xve),s=qv(qv({},r),{},{payload:n});return C.isValidElement(e.content)?C.cloneElement(e.content,s):typeof e.content=="function"?C.createElement(e.content,s):C.createElement(Y_,s)}function Zve(e,t,r,n,s,i){var{layout:o,align:l,verticalAlign:c}=t,d,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?d={left:((n||0)-i.width)/2}:d=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?u={top:((s||0)-i.height)/2}:u=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),qv(qv({},d),u)}function eye(e){var t=ml();return C.useEffect(()=>{t(zve(e))},[t,e]),null}function tye(e){var t=ml();return C.useEffect(()=>(t(KO(e)),()=>{t(KO({width:0,height:0}))}),[t,e]),null}function rye(e){var t=Y1e(),r=yxe(),n=Hve(),{width:s,height:i,wrapperStyle:o,portal:l}=e,[c,d]=$V([t]),u=r8(),h=n8();if(u==null||h==null)return null;var m=u-(n.left||0)-(n.right||0),A=Ux.getWidthOrHeight(e.layout,i,s,m),y=l?o:qv(qv({position:"absolute",width:A?.width||s||"auto",height:A?.height||i||"auto"},Zve(o,e,n,u,h,c)),o),x=l??r;if(x==null)return null;var v=C.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:d},C.createElement(eye,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),C.createElement(tye,{width:c.width,height:c.height}),C.createElement(Jve,TB({},e,A,{margin:n,chartWidth:u,chartHeight:h,contextPayload:t})));return O9.createPortal(v,x)}class Ux extends C.PureComponent{static getWidthOrHeight(t,r,n,s){return t==="vertical"&&Fn(r)?{height:r}:t==="horizontal"?{width:n||s}:null}render(){return C.createElement(rye,this.props)}}a8(Ux,"displayName","Legend");a8(Ux,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function _B(){return _B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_B.apply(null,arguments)}function GO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function y6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(r),!0).forEach(function(n){nye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nye(e,t,r){return(t=aye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aye(e){var t=sye(e,"string");return typeof t=="symbol"?t:t+""}function sye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iye(e){return Array.isArray(e)&&Wm(e[0])&&Wm(e[1])?e.join(" ~ "):e}var oye=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:h,accessibilityLayer:m=!1}=e,A=()=>{if(i&&i.length){var P={padding:0,margin:0},U=(l?Uj(i,l):i).map((M,k)=>{if(M.type==="none")return null;var Q=M.formatter||o||iye,{value:z,name:O}=M,L=z,V=O;if(Q){var J=Q(z,O,M,k,i);if(Array.isArray(J))[L,V]=J;else if(J!=null)L=J;else return null}var ce=y6({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},n);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:ce},Wm(V)?C.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Wm(V)?C.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,C.createElement("span",{className:"recharts-tooltip-item-value"},L),C.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:P},U)}return null},y=y6({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=y6({margin:0},s),v=!hl(u),b=v?u:"",j=cr("recharts-default-tooltip",c),E=cr("recharts-tooltip-label",d);v&&h&&i!==void 0&&i!==null&&(b=h(u,i));var T=m?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",_B({className:j,style:y},T),C.createElement("p",{className:E,style:x},C.isValidElement(b)?b:"".concat(b)),A())},l2="recharts-tooltip-wrapper",lye={visibility:"hidden"};function cye(e){var{coordinate:t,translateX:r,translateY:n}=e;return cr(l2,{["".concat(l2,"-right")]:Fn(r)&&t&&Fn(t.x)&&r>=t.x,["".concat(l2,"-left")]:Fn(r)&&t&&Fn(t.x)&&r<t.x,["".concat(l2,"-bottom")]:Fn(n)&&t&&Fn(t.y)&&n>=t.y,["".concat(l2,"-top")]:Fn(n)&&t&&Fn(t.y)&&n<t.y})}function WO(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:d}=e;if(i&&Fn(i[n]))return i[n];var u=r[n]-l-(s>0?s:0),h=r[n]+s;if(t[n])return o[n]?u:h;var m=c[n];if(m==null)return 0;if(o[n]){var A=u,y=m;return A<y?Math.max(h,m):Math.max(u,m)}if(d==null)return 0;var x=h+l,v=m+d;return x>v?Math.max(u,m):Math.max(h,m)}function uye(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function dye(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,d,u,h;return o.height>0&&o.width>0&&r?(u=WO({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=WO({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=uye({translateX:u,translateY:h,useTranslate3d:l})):d=lye,{cssProperties:d,cssClasses:cye({translateX:u,translateY:h,coordinate:r})}}function YO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Q4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(r),!0).forEach(function(n){FB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FB(e,t,r){return(t=fye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fye(e){var t=hye(e,"string");return typeof t=="symbol"?t:t+""}function hye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Aye extends C.PureComponent{constructor(){super(...arguments),FB(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),FB(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:d,position:u,reverseDirection:h,useTranslate3d:m,viewBox:A,wrapperStyle:y,lastBoundingBox:x,innerRef:v,hasPortalFromProps:b}=this.props,{cssClasses:j,cssProperties:E}=dye({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:d,position:u,reverseDirection:h,tooltipBox:{height:x.height,width:x.width},useTranslate3d:m,viewBox:A}),T=b?{}:Q4(Q4({transition:c&&t?"transform ".concat(n,"ms ").concat(s):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),P=Q4(Q4({},T),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},y);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:j,style:P,ref:v},i)}}var mye=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),A1={isSsr:mye()},nK=()=>In(e=>e.rootProps.accessibilityLayer);function nd(e){return Number.isFinite(e)}function Gv(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function IB(){return IB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IB.apply(null,arguments)}function XO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function JO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(r),!0).forEach(function(n){pye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pye(e,t,r){return(t=gye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gye(e){var t=xye(e,"string");return typeof t=="symbol"?t:t+""}function xye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZO={curveBasisClosed:Uxe,curveBasisOpen:Rxe,curveBasis:Mxe,curveBumpX:jxe,curveBumpY:Sxe,curveLinearClosed:Qxe,curveLinear:Dj,curveMonotoneX:Hxe,curveMonotoneY:$xe,curveNatural:zxe,curveStep:Vxe,curveStepAfter:qxe,curveStepBefore:Kxe},H4=e=>nd(e.x)&&nd(e.y),c2=e=>e.x,u2=e=>e.y,vye=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(nw(e));return(r==="curveMonotone"||r==="curveBump")&&t?ZO["".concat(r).concat(t==="vertical"?"Y":"X")]:ZO[r]||Dj},yye=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:i=!1}=e,o=vye(t,s),l=i?r.filter(H4):r,c;if(Array.isArray(n)){var d=i?n.filter(h=>H4(h)):n,u=l.map((h,m)=>JO(JO({},h),{},{base:d[m]}));return s==="vertical"?c=M4().y(u2).x1(c2).x0(h=>h.base.x):c=M4().x(c2).y1(u2).y0(h=>h.base.y),c.defined(H4).curve(o),c(u)}return s==="vertical"&&Fn(n)?c=M4().y(u2).x1(c2).x0(n):Fn(n)?c=M4().x(c2).y1(u2).y0(n):c=vV().x(c2).y(u2),c.defined(H4).curve(o),c(l)},H2=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?yye(e):n;return C.createElement("path",IB({},e0(e),H_(e),{className:cr("recharts-curve",t),d:i===null?void 0:i,ref:s}))},bye=["x","y","top","left","width","height","className"];function kB(){return kB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kB.apply(null,arguments)}function eD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eD(Object(r),!0).forEach(function(n){Nye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nye(e,t,r){return(t=jye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jye(e){var t=Sye(e,"string");return typeof t=="symbol"?t:t+""}function Sye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cye(e,t){if(e==null)return{};var r,n,s=Eye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Eye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bye=(e,t,r,n,s,i)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),Tye=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:i=0,height:o=0,className:l}=e,c=Cye(e,bye),d=wye({x:t,y:r,top:n,left:s,width:i,height:o},c);return!Fn(t)||!Fn(r)||!Fn(i)||!Fn(o)||!Fn(n)||!Fn(s)?null:C.createElement("path",kB({},fl(d,!0),{className:cr("recharts-cross",l),d:Bye(t,r,i,o,n,s)}))};function _ye(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function tD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tD(Object(r),!0).forEach(function(n){Iye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iye(e,t,r){return(t=kye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kye(e){var t=Pye(e,"string");return typeof t=="symbol"?t:t+""}function Pye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $f(e,t){var r=Fye({},e),n=t,s=Object.keys(t),i=s.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}function Lye(){}function rD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rD(Object(r),!0).forEach(function(n){Oye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oye(e,t,r){return(t=Dye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dye(e){var t=Mye(e,"string");return typeof t=="symbol"?t:t+""}function Mye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uye=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),aK=(e,t,r)=>e.map(n=>"".concat(Uye(n)," ").concat(t,"ms ").concat(r)).join(","),Rye=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),bb=(e,t)=>Object.keys(t).reduce((r,n)=>nD(nD({},r),{},{[n]:e(n,t[n])}),{});function aD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(r),!0).forEach(function(n){Qye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qye(e,t,r){return(t=Hye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hye(e){var t=$ye(e,"string");return typeof t=="symbol"?t:t+""}function $ye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gN=(e,t,r)=>e+(t-e)*r,PB=e=>{var{from:t,to:r}=e;return t!==r},sK=(e,t,r)=>{var n=bb((s,i)=>{if(PB(i)){var[o,l]=e(i.from,i.to,i.velocity);return Yu(Yu({},i),{},{from:o,velocity:l})}return i},t);return r<1?bb((s,i)=>PB(i)?Yu(Yu({},i),{},{velocity:gN(i.velocity,n[s].velocity,r),from:gN(i.from,n[s].from,r)}):i,t):sK(e,n,r-1)};function zye(e,t,r,n,s,i){var o,l=n.reduce((m,A)=>Yu(Yu({},m),{},{[A]:{from:e[A],velocity:0,to:t[A]}}),{}),c=()=>bb((m,A)=>A.from,l),d=()=>!Object.values(l).filter(PB).length,u=null,h=m=>{o||(o=m);var A=m-o,y=A/r.dt;l=sK(r,l,y),s(Yu(Yu(Yu({},e),t),c())),o=m,d()||(u=i.setTimeout(h))};return()=>(u=i.setTimeout(h),()=>{u()})}function Vye(e,t,r,n,s,i,o){var l=null,c=s.reduce((h,m)=>Yu(Yu({},h),{},{[m]:[e[m],t[m]]}),{}),d,u=h=>{d||(d=h);var m=(h-d)/n,A=bb((x,v)=>gN(...v,r(m)),c);if(i(Yu(Yu(Yu({},e),t),A)),m<1)l=o.setTimeout(u);else{var y=bb((x,v)=>gN(...v,r(1)),c);i(Yu(Yu(Yu({},e),t),y))}};return()=>(l=o.setTimeout(u),()=>{l()})}const Kye=(e,t,r,n,s,i)=>{var o=Rye(e,t);return r.isStepper===!0?zye(e,t,r,o,s,i):Vye(e,t,r,n,o,s,i)};var xN=1e-4,iK=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],oK=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),sD=(e,t)=>r=>{var n=iK(e,t);return oK(n,r)},qye=(e,t)=>r=>{var n=iK(e,t),s=[...n.map((i,o)=>i*o).slice(1),0];return oK(s,r)},iD=function(){for(var t,r,n,s,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,n,r,s]=[0,0,1,1];break;case"ease":[t,n,r,s]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,s]=[.42,0,1,1];break;case"ease-out":[t,n,r,s]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,s]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,s]=c[1].split(")")[0].split(",").map(y=>parseFloat(y)))}}else o.length===4&&([t,n,r,s]=o);var d=sD(t,r),u=sD(n,s),h=qye(t,r),m=y=>y>1?1:y<0?0:y,A=y=>{for(var x=y>1?1:y,v=x,b=0;b<8;++b){var j=d(v)-x,E=h(v);if(Math.abs(j-x)<xN||E<xN)return u(v);v=m(v-j/E)}return u(v)};return A.isStepper=!1,A},Gye=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,i=(o,l,c)=>{var d=-(o-l)*r,u=c*n,h=c+(d-u)*s/1e3,m=c*s/1e3+o;return Math.abs(m-l)<xN&&Math.abs(h)<xN?[l,0]:[m,h]};return i.isStepper=!0,i.dt=s,i},Wye=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return iD(e);case"spring":return Gye();default:if(e.split("(")[0]==="cubic-bezier")return iD(e)}return typeof e=="function"?e:null};function Yye(e){var t,r=()=>null,n=!1,s=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...d]=l;if(typeof c=="number"){s=e.setTimeout(i.bind(null,d),c);return}i(c),s=e.setTimeout(i.bind(null,d));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,s&&(s(),s=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class Xye{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{cancelAnimationFrame(s)}}}function Jye(){return Yye(new Xye)}var Zye=C.createContext(Jye);function e2e(e,t){var r=C.useContext(Zye);return C.useMemo(()=>t??r(e),[e,t,r])}var t2e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},oD={t:0},b6={t:1};function iw(e){var t=$f(e,t2e),{isActive:r,canBegin:n,duration:s,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c,children:d}=t,u=e2e(t.animationId,t.animationManager),[h,m]=C.useState(r?oD:b6),A=C.useRef(null);return C.useEffect(()=>{r||m(b6)},[r]),C.useEffect(()=>{if(!r||!n)return Lye;var y=Kye(oD,b6,Wye(i),s,m,u.getTimeoutController()),x=()=>{A.current=y()};return u.start([c,o,x,s,l]),()=>{u.stop(),A.current&&A.current(),l()}},[r,n,s,i,o,c,l,u]),d(h.t)}function ow(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=C.useRef(vb(t)),n=C.useRef(e);return n.current!==e&&(r.current=vb(t),n.current=e),r.current}function lD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lD(Object(r),!0).forEach(function(n){r2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r2e(e,t,r){return(t=n2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n2e(e){var t=a2e(e,"string");return typeof t=="symbol"?t:t+""}function a2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vN(){return vN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vN.apply(null,arguments)}var uD=(e,t,r,n,s)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,d;if(i>0&&s instanceof Array){for(var u=[0,0,0,0],h=0,m=4;h<m;h++)u[h]=s[h]>i?i:s[h];d="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),d+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*u[1])),d+="L ".concat(e+r,",").concat(t+n-o*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+r-l*u[2],",").concat(t+n)),d+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*u[3])),d+="Z"}else if(i>0&&s===+s&&s>0){var A=Math.min(i,s);d="M ".concat(e,",").concat(t+o*A,`
            A `).concat(A,",").concat(A,",0,0,").concat(c,",").concat(e+l*A,",").concat(t,`
            L `).concat(e+r-l*A,",").concat(t,`
            A `).concat(A,",").concat(A,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*A,`
            L `).concat(e+r,",").concat(t+n-o*A,`
            A `).concat(A,",").concat(A,",0,0,").concat(c,",").concat(e+r-l*A,",").concat(t+n,`
            L `).concat(e+l*A,",").concat(t+n,`
            A `).concat(A,",").concat(A,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*A," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return d},s2e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lK=e=>{var t=$f(e,s2e),r=C.useRef(null),[n,s]=C.useState(-1);C.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var J=r.current.getTotalLength();J&&s(J)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:d,className:u}=t,{animationEasing:h,animationDuration:m,animationBegin:A,isAnimationActive:y,isUpdateAnimationActive:x}=t,v=C.useRef(l),b=C.useRef(c),j=C.useRef(i),E=C.useRef(o),T=C.useMemo(()=>({x:i,y:o,width:l,height:c,radius:d}),[i,o,l,c,d]),P=ow(T,"rectangle-");if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var U=cr("recharts-rectangle",u);if(!x)return C.createElement("path",vN({},fl(t,!0),{className:U,d:uD(i,o,l,c,d)}));var M=v.current,k=b.current,Q=j.current,z=E.current,O="0px ".concat(n===-1?1:n,"px"),L="".concat(n,"px 0px"),V=aK(["strokeDasharray"],m,typeof h=="string"?h:void 0);return C.createElement(iw,{animationId:P,key:P,canBegin:n>0,duration:m,easing:h,isActive:x,begin:A},J=>{var ce=ul(M,l,J),ee=ul(k,c,J),de=ul(Q,i,J),se=ul(z,o,J);r.current&&(v.current=ce,b.current=ee,j.current=de,E.current=se);var he;return y?J>0?he={transition:V,strokeDasharray:L}:he={strokeDasharray:O}:he={strokeDasharray:L},C.createElement("path",vN({},fl(t,!0),{className:U,d:uD(de,se,ce,ee,d),ref:r,style:cD(cD({},he),t.style)}))})};function cK(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:i}=e,o=Lc(t,r,n,s),l=Lc(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function LB(){return LB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LB.apply(null,arguments)}var i2e=(e,t)=>{var r=Tu(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},$4=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,d=l*(o?1:-1)+n,u=Math.asin(l/d)/pN,h=c?s:s+i*u,m=Lc(t,r,d,h),A=Lc(t,r,n,h),y=c?s-i*u:s,x=Lc(t,r,d*Math.cos(u*pN),y);return{center:m,circleTangency:A,lineTangency:x,theta:u}},uK=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:i,endAngle:o}=e,l=i2e(i,o),c=i+l,d=Lc(t,r,s,i),u=Lc(t,r,s,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var m=Lc(t,r,n,i),A=Lc(t,r,n,c);h+="L ".concat(A.x,",").concat(A.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(t,",").concat(r," Z");return h},o2e=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}=e,u=Tu(d-c),{circleTangency:h,lineTangency:m,theta:A}=$4({cx:t,cy:r,radius:s,angle:c,sign:u,cornerRadius:i,cornerIsExternal:l}),{circleTangency:y,lineTangency:x,theta:v}=$4({cx:t,cy:r,radius:s,angle:d,sign:-u,cornerRadius:i,cornerIsExternal:l}),b=l?Math.abs(c-d):Math.abs(c-d)-A-v;if(b<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):uK({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:c,endAngle:d});var j="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var{circleTangency:E,lineTangency:T,theta:P}=$4({cx:t,cy:r,radius:n,angle:c,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:U,lineTangency:M,theta:k}=$4({cx:t,cy:r,radius:n,angle:d,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),Q=l?Math.abs(c-d):Math.abs(c-d)-P-k;if(Q<0&&i===0)return"".concat(j,"L").concat(t,",").concat(r,"Z");j+="L".concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(U.x,",").concat(U.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(Q>180),",").concat(+(u>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(T.x,",").concat(T.y,"Z")}else j+="L".concat(t,",").concat(r,"Z");return j},l2e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},dK=e=>{var t=$f(e,l2e),{cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u,className:h}=t;if(i<s||d===u)return null;var m=cr("recharts-sector",h),A=i-s,y=Od(o,A,0,!0),x;return y>0&&Math.abs(d-u)<360?x=o2e({cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:Math.min(y,A/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):x=uK({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:d,endAngle:u}),C.createElement("path",LB({},fl(t,!0),{className:m,d:x}))};function c2e(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:d,outerRadius:u,angle:h}=t,m=Lc(l,c,d,h),A=Lc(l,c,u,h);n=m.x,s=m.y,i=A.x,o=A.y}else return cK(t);return[{x:n,y:s},{x:i,y:o}]}var w6={},N6={},j6={},dD;function u2e(){return dD||(dD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RV();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(j6)),j6}var fD;function d2e(){return fD||(fD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u2e();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(N6)),N6}var hD;function f2e(){return hD||(hD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QV(),r=d2e();function n(s,i,o){o&&typeof o!="number"&&t.isIterateeCall(s,i,o)&&(i=o=void 0),s=r.toFinite(s),i===void 0?(i=s,s=0):i=r.toFinite(i),o=o===void 0?s<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-s)/(o||1)),0),c=new Array(l);for(let d=0;d<l;d++)c[d]=s,s+=o;return c}e.range=n})(w6)),w6}var S6,AD;function h2e(){return AD||(AD=1,S6=f2e().range),S6}var A2e=h2e();const fK=dA(A2e);function cg(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function m2e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function s8(e){let t,r,n;e.length!==2?(t=cg,r=(l,c)=>cg(e(l),c),n=(l,c)=>e(l)-c):(t=e===cg||e===m2e?e:p2e,r=e,n=e);function s(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<0?d=h+1:u=h}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<=0?d=h+1:u=h}while(d<u)}return d}function o(l,c,d=0,u=l.length){const h=s(l,c,d,u-1);return h>d&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:s,center:o,right:i}}function p2e(){return 0}function hK(e){return e===null?NaN:+e}function*g2e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const x2e=s8(cg),lw=x2e.right;s8(hK).center;class mD extends Map{constructor(t,r=b2e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(pD(this,t))}has(t){return super.has(pD(this,t))}set(t,r){return super.set(v2e(this,t),r)}delete(t){return super.delete(y2e(this,t))}}function pD({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function v2e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function y2e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function b2e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function w2e(e=cg){if(e===cg)return AK;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function AK(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const N2e=Math.sqrt(50),j2e=Math.sqrt(10),S2e=Math.sqrt(2);function yN(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=N2e?10:i>=j2e?5:i>=S2e?2:1;let l,c,d;return s<0?(d=Math.pow(10,-s)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,s)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?yN(e,t,r*2):[l,c,d]}function OB(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?yN(t,e,r):yN(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(s+d)/-o;else for(let d=0;d<l;++d)c[d]=(s+d)*o;return c}function DB(e,t,r){return t=+t,e=+e,r=+r,yN(e,t,r)[2]}function MB(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?DB(t,e,r):DB(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function gD(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function xD(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function mK(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?AK:w2e(s);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,u=Math.log(c),h=.5*Math.exp(2*u/3),m=.5*Math.sqrt(u*h*(c-h)/c)*(d-c/2<0?-1:1),A=Math.max(r,Math.floor(t-d*h/c+m)),y=Math.min(n,Math.floor(t+(c-d)*h/c+m));mK(e,t,A,y,s)}const i=e[t];let o=r,l=n;for(d2(e,r,t),s(e[n],i)>0&&d2(e,r,n);o<l;){for(d2(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?d2(e,r,l):(++l,d2(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function d2(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function C2e(e,t,r){if(e=Float64Array.from(g2e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return xD(e);if(t>=1)return gD(e);var n,s=(n-1)*t,i=Math.floor(s),o=gD(mK(e,i).subarray(0,i+1)),l=xD(e.subarray(i+1));return o+(l-o)*(s-i)}}function E2e(e,t,r=hK){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function B2e(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function hA(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function dp(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const UB=Symbol("implicit");function i8(){var e=new mD,t=[],r=[],n=UB;function s(i){let o=e.get(i);if(o===void 0){if(n!==UB)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new mD;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return i8(t,r).unknown(n)},hA.apply(s,arguments),s}function o8(){var e=i8().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function h(){var m=t().length,A=s<n,y=A?s:n,x=A?n:s;i=(x-y)/Math.max(1,m-c+d*2),l&&(i=Math.floor(i)),y+=(x-y-i*(m-c))*u,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var v=B2e(m).map(function(b){return y+i*b});return r(A?v.reverse():v)}return e.domain=function(m){return arguments.length?(t(m),h()):t()},e.range=function(m){return arguments.length?([n,s]=m,n=+n,s=+s,h()):[n,s]},e.rangeRound=function(m){return[n,s]=m,n=+n,s=+s,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(l=!!m,h()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,d=+m),h()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},e.paddingOuter=function(m){return arguments.length?(d=+m,h()):d},e.align=function(m){return arguments.length?(u=Math.max(0,Math.min(1,m)),h()):u},e.copy=function(){return o8(t(),[n,s]).round(l).paddingInner(c).paddingOuter(d).align(u)},hA.apply(h(),arguments)}function pK(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pK(t())},e}function T2e(){return pK(o8.apply(null,arguments).paddingInner(1))}function l8(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function gK(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function cw(){}var wb=.7,bN=1/wb,Mv="\\s*([+-]?\\d+)\\s*",Nb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$m="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_2e=/^#([0-9a-f]{3,8})$/,F2e=new RegExp(`^rgb\\(${Mv},${Mv},${Mv}\\)$`),I2e=new RegExp(`^rgb\\(${$m},${$m},${$m}\\)$`),k2e=new RegExp(`^rgba\\(${Mv},${Mv},${Mv},${Nb}\\)$`),P2e=new RegExp(`^rgba\\(${$m},${$m},${$m},${Nb}\\)$`),L2e=new RegExp(`^hsl\\(${Nb},${$m},${$m}\\)$`),O2e=new RegExp(`^hsla\\(${Nb},${$m},${$m},${Nb}\\)$`),vD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};l8(cw,jb,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:yD,formatHex:yD,formatHex8:D2e,formatHsl:M2e,formatRgb:bD,toString:bD});function yD(){return this.rgb().formatHex()}function D2e(){return this.rgb().formatHex8()}function M2e(){return xK(this).formatHsl()}function bD(){return this.rgb().formatRgb()}function jb(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=_2e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?wD(t):r===3?new If(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?z4(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?z4(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=F2e.exec(e))?new If(t[1],t[2],t[3],1):(t=I2e.exec(e))?new If(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=k2e.exec(e))?z4(t[1],t[2],t[3],t[4]):(t=P2e.exec(e))?z4(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=L2e.exec(e))?SD(t[1],t[2]/100,t[3]/100,1):(t=O2e.exec(e))?SD(t[1],t[2]/100,t[3]/100,t[4]):vD.hasOwnProperty(e)?wD(vD[e]):e==="transparent"?new If(NaN,NaN,NaN,0):null}function wD(e){return new If(e>>16&255,e>>8&255,e&255,1)}function z4(e,t,r,n){return n<=0&&(e=t=r=NaN),new If(e,t,r,n)}function U2e(e){return e instanceof cw||(e=jb(e)),e?(e=e.rgb(),new If(e.r,e.g,e.b,e.opacity)):new If}function RB(e,t,r,n){return arguments.length===1?U2e(e):new If(e,t,r,n??1)}function If(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}l8(If,RB,gK(cw,{brighter(e){return e=e==null?bN:Math.pow(bN,e),new If(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wb:Math.pow(wb,e),new If(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new If(Rx(this.r),Rx(this.g),Rx(this.b),wN(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ND,formatHex:ND,formatHex8:R2e,formatRgb:jD,toString:jD}));function ND(){return`#${jx(this.r)}${jx(this.g)}${jx(this.b)}`}function R2e(){return`#${jx(this.r)}${jx(this.g)}${jx(this.b)}${jx((isNaN(this.opacity)?1:this.opacity)*255)}`}function jD(){const e=wN(this.opacity);return`${e===1?"rgb(":"rgba("}${Rx(this.r)}, ${Rx(this.g)}, ${Rx(this.b)}${e===1?")":`, ${e})`}`}function wN(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Rx(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function jx(e){return e=Rx(e),(e<16?"0":"")+e.toString(16)}function SD(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new zA(e,t,r,n)}function xK(e){if(e instanceof zA)return new zA(e.h,e.s,e.l,e.opacity);if(e instanceof cw||(e=jb(e)),!e)return new zA;if(e instanceof zA)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new zA(o,l,c,e.opacity)}function Q2e(e,t,r,n){return arguments.length===1?xK(e):new zA(e,t,r,n??1)}function zA(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}l8(zA,Q2e,gK(cw,{brighter(e){return e=e==null?bN:Math.pow(bN,e),new zA(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wb:Math.pow(wb,e),new zA(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new If(C6(e>=240?e-240:e+120,s,n),C6(e,s,n),C6(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new zA(CD(this.h),V4(this.s),V4(this.l),wN(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=wN(this.opacity);return`${e===1?"hsl(":"hsla("}${CD(this.h)}, ${V4(this.s)*100}%, ${V4(this.l)*100}%${e===1?")":`, ${e})`}`}}));function CD(e){return e=(e||0)%360,e<0?e+360:e}function V4(e){return Math.max(0,Math.min(1,e||0))}function C6(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const c8=e=>()=>e;function H2e(e,t){return function(r){return e+r*t}}function $2e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function z2e(e){return(e=+e)==1?vK:function(t,r){return r-t?$2e(t,r,e):c8(isNaN(t)?r:t)}}function vK(e,t){var r=t-e;return r?H2e(e,r):c8(isNaN(e)?t:e)}const ED=(function e(t){var r=z2e(t);function n(s,i){var o=r((s=RB(s)).r,(i=RB(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),d=vK(s.opacity,i.opacity);return function(u){return s.r=o(u),s.g=l(u),s.b=c(u),s.opacity=d(u),s+""}}return n.gamma=e,n})(1);function V2e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function K2e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function q2e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=py(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function G2e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function NN(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function W2e(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=py(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var QB=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,E6=new RegExp(QB.source,"g");function Y2e(e){return function(){return e}}function X2e(e){return function(t){return e(t)+""}}function J2e(e,t){var r=QB.lastIndex=E6.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=QB.exec(e))&&(s=E6.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:NN(n,s)})),r=E6.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?X2e(c[0].x):Y2e(t):(t=c.length,function(d){for(var u=0,h;u<t;++u)l[(h=c[u]).i]=h.x(d);return l.join("")})}function py(e,t){var r=typeof t,n;return t==null||r==="boolean"?c8(t):(r==="number"?NN:r==="string"?(n=jb(t))?(t=n,ED):J2e:t instanceof jb?ED:t instanceof Date?G2e:K2e(t)?V2e:Array.isArray(t)?q2e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?W2e:NN)(e,t)}function u8(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Z2e(e,t){t===void 0&&(t=e,e=py);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function ebe(e){return function(){return e}}function jN(e){return+e}var BD=[0,1];function of(e){return e}function HB(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:ebe(isNaN(t)?NaN:.5)}function tbe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function rbe(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=HB(s,n),i=r(o,i)):(n=HB(n,s),i=r(i,o)),function(l){return i(n(l))}}function nbe(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=HB(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=lw(e,l,1,n)-1;return i[c](s[c](l))}}function uw(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Vj(){var e=BD,t=BD,r=py,n,s,i,o=of,l,c,d;function u(){var m=Math.min(e.length,t.length);return o!==of&&(o=tbe(e[0],e[m-1])),l=m>2?nbe:rbe,c=d=null,h}function h(m){return m==null||isNaN(m=+m)?i:(c||(c=l(e.map(n),t,r)))(n(o(m)))}return h.invert=function(m){return o(s((d||(d=l(t,e.map(n),NN)))(m)))},h.domain=function(m){return arguments.length?(e=Array.from(m,jN),u()):e.slice()},h.range=function(m){return arguments.length?(t=Array.from(m),u()):t.slice()},h.rangeRound=function(m){return t=Array.from(m),r=u8,u()},h.clamp=function(m){return arguments.length?(o=m?!0:of,u()):o!==of},h.interpolate=function(m){return arguments.length?(r=m,u()):r},h.unknown=function(m){return arguments.length?(i=m,h):i},function(m,A){return n=m,s=A,u()}}function d8(){return Vj()(of,of)}function abe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function SN(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Wv(e){return e=SN(Math.abs(e)),e?e[1]:NaN}function sbe(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function ibe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var obe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sb(e){if(!(t=obe.exec(e)))throw new Error("invalid format: "+e);var t;return new f8({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Sb.prototype=f8.prototype;function f8(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}f8.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lbe(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var yK;function cbe(e,t){var r=SN(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(yK=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+SN(e,Math.max(0,t+i-1))[0]}function TD(e,t){var r=SN(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const _D={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:abe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>TD(e*100,t),r:TD,s:cbe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function FD(e){return e}var ID=Array.prototype.map,kD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ube(e){var t=e.grouping===void 0||e.thousands===void 0?FD:sbe(ID.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?FD:ibe(ID.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(h){h=Sb(h);var m=h.fill,A=h.align,y=h.sign,x=h.symbol,v=h.zero,b=h.width,j=h.comma,E=h.precision,T=h.trim,P=h.type;P==="n"?(j=!0,P="g"):_D[P]||(E===void 0&&(E=12),T=!0,P="g"),(v||m==="0"&&A==="=")&&(v=!0,m="0",A="=");var U=x==="$"?r:x==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",M=x==="$"?n:/[%p]/.test(P)?o:"",k=_D[P],Q=/[defgprs%]/.test(P);E=E===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function z(O){var L=U,V=M,J,ce,ee;if(P==="c")V=k(O)+V,O="";else{O=+O;var de=O<0||1/O<0;if(O=isNaN(O)?c:k(Math.abs(O),E),T&&(O=lbe(O)),de&&+O==0&&y!=="+"&&(de=!1),L=(de?y==="("?y:l:y==="-"||y==="("?"":y)+L,V=(P==="s"?kD[8+yK/3]:"")+V+(de&&y==="("?")":""),Q){for(J=-1,ce=O.length;++J<ce;)if(ee=O.charCodeAt(J),48>ee||ee>57){V=(ee===46?s+O.slice(J+1):O.slice(J))+V,O=O.slice(0,J);break}}}j&&!v&&(O=t(O,1/0));var se=L.length+O.length+V.length,he=se<b?new Array(b-se+1).join(m):"";switch(j&&v&&(O=t(he+O,he.length?b-V.length:1/0),he=""),A){case"<":O=L+O+V+he;break;case"=":O=L+he+O+V;break;case"^":O=he.slice(0,se=he.length>>1)+L+O+V+he.slice(se);break;default:O=he+L+O+V;break}return i(O)}return z.toString=function(){return h+""},z}function u(h,m){var A=d((h=Sb(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(Wv(m)/3)))*3,x=Math.pow(10,-y),v=kD[8+y/3];return function(b){return A(x*b)+v}}return{format:d,formatPrefix:u}}var K4,h8,bK;dbe({thousands:",",grouping:[3],currency:["$",""]});function dbe(e){return K4=ube(e),h8=K4.format,bK=K4.formatPrefix,K4}function fbe(e){return Math.max(0,-Wv(Math.abs(e)))}function hbe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wv(t)/3)))*3-Wv(Math.abs(e)))}function Abe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Wv(t)-Wv(e))+1}function wK(e,t,r,n){var s=MB(e,t,r),i;switch(n=Sb(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=hbe(s,o))&&(n.precision=i),bK(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Abe(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=fbe(s))&&(n.precision=i-(n.type==="%")*2);break}}return h8(n)}function _g(e){var t=e.domain;return e.ticks=function(r){var n=t();return OB(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return wK(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=s,s=i,i=d);u-- >0;){if(d=DB(o,l,r),d===c)return n[s]=o,n[i]=l,t(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function NK(){var e=d8();return e.copy=function(){return uw(e,NK())},hA.apply(e,arguments),_g(e)}function jK(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,jN),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return jK(e).unknown(t)},e=arguments.length?Array.from(e,jN):[0,1],_g(r)}function SK(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function PD(e){return Math.log(e)}function LD(e){return Math.exp(e)}function mbe(e){return-Math.log(-e)}function pbe(e){return-Math.exp(-e)}function gbe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function xbe(e){return e===10?gbe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function vbe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function OD(e){return(t,r)=>-e(-t,r)}function A8(e){const t=e(PD,LD),r=t.domain;let n=10,s,i;function o(){return s=vbe(n),i=xbe(n),r()[0]<0?(s=OD(s),i=OD(i),e(mbe,pbe)):e(PD,LD),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const h=u<d;h&&([d,u]=[u,d]);let m=s(d),A=s(u),y,x;const v=l==null?10:+l;let b=[];if(!(n%1)&&A-m<v){if(m=Math.floor(m),A=Math.ceil(A),d>0){for(;m<=A;++m)for(y=1;y<n;++y)if(x=m<0?y/i(-m):y*i(m),!(x<d)){if(x>u)break;b.push(x)}}else for(;m<=A;++m)for(y=n-1;y>=1;--y)if(x=m>0?y/i(-m):y*i(m),!(x<d)){if(x>u)break;b.push(x)}b.length*2<v&&(b=OB(d,u,v))}else b=OB(m,A,Math.min(A-m,v)).map(i);return h?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Sb(c)).precision==null&&(c.trim=!0),c=h8(c)),l===1/0)return c;const d=Math.max(1,n*l/t.ticks().length);return u=>{let h=u/i(Math.round(s(u)));return h*n<n-.5&&(h*=n),h<=d?c(u):""}},t.nice=()=>r(SK(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function CK(){const e=A8(Vj()).domain([1,10]);return e.copy=()=>uw(e,CK()).base(e.base()),hA.apply(e,arguments),e}function DD(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function MD(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function m8(e){var t=1,r=e(DD(t),MD(t));return r.constant=function(n){return arguments.length?e(DD(t=+n),MD(t)):t},_g(r)}function EK(){var e=m8(Vj());return e.copy=function(){return uw(e,EK()).constant(e.constant())},hA.apply(e,arguments)}function UD(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ybe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function bbe(e){return e<0?-e*e:e*e}function p8(e){var t=e(of,of),r=1;function n(){return r===1?e(of,of):r===.5?e(ybe,bbe):e(UD(r),UD(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},_g(t)}function g8(){var e=p8(Vj());return e.copy=function(){return uw(e,g8()).exponent(e.exponent())},hA.apply(e,arguments),e}function wbe(){return g8.apply(null,arguments).exponent(.5)}function RD(e){return Math.sign(e)*e*e}function Nbe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function BK(){var e=d8(),t=[0,1],r=!1,n;function s(i){var o=Nbe(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(RD(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,jN)).map(RD)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return BK(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},hA.apply(s,arguments),_g(s)}function TK(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=E2e(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[lw(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(cg),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return TK().domain(e).range(t).unknown(n)},hA.apply(i,arguments)}function _K(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[lw(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var d=s.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return _K().domain([e,t]).range(s).unknown(i)},hA.apply(_g(o),arguments)}function FK(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[lw(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return FK().domain(e).range(t).unknown(r)},hA.apply(s,arguments)}const B6=new Date,T6=new Date;function au(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},s.filter=i=>au(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(B6.setTime(+i),T6.setTime(+o),e(B6),e(T6),Math.floor(r(B6,T6))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const CN=au(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);CN.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?au(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):CN);CN.range;const D0=1e3,oA=D0*60,M0=oA*60,Z0=M0*24,x8=Z0*7,QD=Z0*30,_6=Z0*365,Sx=au(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*D0)},(e,t)=>(t-e)/D0,e=>e.getUTCSeconds());Sx.range;const v8=au(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*D0)},(e,t)=>{e.setTime(+e+t*oA)},(e,t)=>(t-e)/oA,e=>e.getMinutes());v8.range;const y8=au(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*oA)},(e,t)=>(t-e)/oA,e=>e.getUTCMinutes());y8.range;const b8=au(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*D0-e.getMinutes()*oA)},(e,t)=>{e.setTime(+e+t*M0)},(e,t)=>(t-e)/M0,e=>e.getHours());b8.range;const w8=au(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*M0)},(e,t)=>(t-e)/M0,e=>e.getUTCHours());w8.range;const dw=au(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*oA)/Z0,e=>e.getDate()-1);dw.range;const Kj=au(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Z0,e=>e.getUTCDate()-1);Kj.range;const IK=au(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Z0,e=>Math.floor(e/Z0));IK.range;function m1(e){return au(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*oA)/x8)}const qj=m1(0),EN=m1(1),jbe=m1(2),Sbe=m1(3),Yv=m1(4),Cbe=m1(5),Ebe=m1(6);qj.range;EN.range;jbe.range;Sbe.range;Yv.range;Cbe.range;Ebe.range;function p1(e){return au(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/x8)}const Gj=p1(0),BN=p1(1),Bbe=p1(2),Tbe=p1(3),Xv=p1(4),_be=p1(5),Fbe=p1(6);Gj.range;BN.range;Bbe.range;Tbe.range;Xv.range;_be.range;Fbe.range;const N8=au(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());N8.range;const j8=au(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());j8.range;const ep=au(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ep.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:au(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ep.range;const tp=au(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());tp.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:au(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});tp.range;function kK(e,t,r,n,s,i){const o=[[Sx,1,D0],[Sx,5,5*D0],[Sx,15,15*D0],[Sx,30,30*D0],[i,1,oA],[i,5,5*oA],[i,15,15*oA],[i,30,30*oA],[s,1,M0],[s,3,3*M0],[s,6,6*M0],[s,12,12*M0],[n,1,Z0],[n,2,2*Z0],[r,1,x8],[t,1,QD],[t,3,3*QD],[e,1,_6]];function l(d,u,h){const m=u<d;m&&([d,u]=[u,d]);const A=h&&typeof h.range=="function"?h:c(d,u,h),y=A?A.range(d,+u+1):[];return m?y.reverse():y}function c(d,u,h){const m=Math.abs(u-d)/h,A=s8(([,,v])=>v).right(o,m);if(A===o.length)return e.every(MB(d/_6,u/_6,h));if(A===0)return CN.every(Math.max(MB(d,u,h),1));const[y,x]=o[m/o[A-1][2]<o[A][2]/m?A-1:A];return y.every(x)}return[l,c]}const[Ibe,kbe]=kK(tp,j8,Gj,IK,w8,y8),[Pbe,Lbe]=kK(ep,N8,qj,dw,b8,v8);function F6(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function I6(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function f2(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Obe(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=h2(s),u=A2(s),h=h2(i),m=A2(i),A=h2(o),y=A2(o),x=h2(l),v=A2(l),b=h2(c),j=A2(c),E={a:de,A:se,b:he,B:fe,c:null,d:qD,e:qD,f:swe,g:mwe,G:gwe,H:rwe,I:nwe,j:awe,L:PK,m:iwe,M:owe,p:ve,q:B,Q:YD,s:XD,S:lwe,u:cwe,U:uwe,V:dwe,w:fwe,W:hwe,x:null,X:null,y:Awe,Y:pwe,Z:xwe,"%":WD},T={a:R,A:Y,b:ie,B:ge,c:null,d:GD,e:GD,f:wwe,g:Iwe,G:Pwe,H:vwe,I:ywe,j:bwe,L:OK,m:Nwe,M:jwe,p:ye,q:pe,Q:YD,s:XD,S:Swe,u:Cwe,U:Ewe,V:Bwe,w:Twe,W:_we,x:null,X:null,y:Fwe,Y:kwe,Z:Lwe,"%":WD},P={a:z,A:O,b:L,B:V,c:J,d:VD,e:VD,f:Jbe,g:zD,G:$D,H:KD,I:KD,j:Gbe,L:Xbe,m:qbe,M:Wbe,p:Q,q:Kbe,Q:ewe,s:twe,S:Ybe,u:Qbe,U:Hbe,V:$be,w:Rbe,W:zbe,x:ce,X:ee,y:zD,Y:$D,Z:Vbe,"%":Zbe};E.x=U(r,E),E.X=U(n,E),E.c=U(t,E),T.x=U(r,T),T.X=U(n,T),T.c=U(t,T);function U(Z,le){return function(te){var Ne=[],Fe=-1,be=0,re=Z.length,Ce,st,et;for(te instanceof Date||(te=new Date(+te));++Fe<re;)Z.charCodeAt(Fe)===37&&(Ne.push(Z.slice(be,Fe)),(st=HD[Ce=Z.charAt(++Fe)])!=null?Ce=Z.charAt(++Fe):st=Ce==="e"?" ":"0",(et=le[Ce])&&(Ce=et(te,st)),Ne.push(Ce),be=Fe+1);return Ne.push(Z.slice(be,Fe)),Ne.join("")}}function M(Z,le){return function(te){var Ne=f2(1900,void 0,1),Fe=k(Ne,Z,te+="",0),be,re;if(Fe!=te.length)return null;if("Q"in Ne)return new Date(Ne.Q);if("s"in Ne)return new Date(Ne.s*1e3+("L"in Ne?Ne.L:0));if(le&&!("Z"in Ne)&&(Ne.Z=0),"p"in Ne&&(Ne.H=Ne.H%12+Ne.p*12),Ne.m===void 0&&(Ne.m="q"in Ne?Ne.q:0),"V"in Ne){if(Ne.V<1||Ne.V>53)return null;"w"in Ne||(Ne.w=1),"Z"in Ne?(be=I6(f2(Ne.y,0,1)),re=be.getUTCDay(),be=re>4||re===0?BN.ceil(be):BN(be),be=Kj.offset(be,(Ne.V-1)*7),Ne.y=be.getUTCFullYear(),Ne.m=be.getUTCMonth(),Ne.d=be.getUTCDate()+(Ne.w+6)%7):(be=F6(f2(Ne.y,0,1)),re=be.getDay(),be=re>4||re===0?EN.ceil(be):EN(be),be=dw.offset(be,(Ne.V-1)*7),Ne.y=be.getFullYear(),Ne.m=be.getMonth(),Ne.d=be.getDate()+(Ne.w+6)%7)}else("W"in Ne||"U"in Ne)&&("w"in Ne||(Ne.w="u"in Ne?Ne.u%7:"W"in Ne?1:0),re="Z"in Ne?I6(f2(Ne.y,0,1)).getUTCDay():F6(f2(Ne.y,0,1)).getDay(),Ne.m=0,Ne.d="W"in Ne?(Ne.w+6)%7+Ne.W*7-(re+5)%7:Ne.w+Ne.U*7-(re+6)%7);return"Z"in Ne?(Ne.H+=Ne.Z/100|0,Ne.M+=Ne.Z%100,I6(Ne)):F6(Ne)}}function k(Z,le,te,Ne){for(var Fe=0,be=le.length,re=te.length,Ce,st;Fe<be;){if(Ne>=re)return-1;if(Ce=le.charCodeAt(Fe++),Ce===37){if(Ce=le.charAt(Fe++),st=P[Ce in HD?le.charAt(Fe++):Ce],!st||(Ne=st(Z,te,Ne))<0)return-1}else if(Ce!=te.charCodeAt(Ne++))return-1}return Ne}function Q(Z,le,te){var Ne=d.exec(le.slice(te));return Ne?(Z.p=u.get(Ne[0].toLowerCase()),te+Ne[0].length):-1}function z(Z,le,te){var Ne=A.exec(le.slice(te));return Ne?(Z.w=y.get(Ne[0].toLowerCase()),te+Ne[0].length):-1}function O(Z,le,te){var Ne=h.exec(le.slice(te));return Ne?(Z.w=m.get(Ne[0].toLowerCase()),te+Ne[0].length):-1}function L(Z,le,te){var Ne=b.exec(le.slice(te));return Ne?(Z.m=j.get(Ne[0].toLowerCase()),te+Ne[0].length):-1}function V(Z,le,te){var Ne=x.exec(le.slice(te));return Ne?(Z.m=v.get(Ne[0].toLowerCase()),te+Ne[0].length):-1}function J(Z,le,te){return k(Z,t,le,te)}function ce(Z,le,te){return k(Z,r,le,te)}function ee(Z,le,te){return k(Z,n,le,te)}function de(Z){return o[Z.getDay()]}function se(Z){return i[Z.getDay()]}function he(Z){return c[Z.getMonth()]}function fe(Z){return l[Z.getMonth()]}function ve(Z){return s[+(Z.getHours()>=12)]}function B(Z){return 1+~~(Z.getMonth()/3)}function R(Z){return o[Z.getUTCDay()]}function Y(Z){return i[Z.getUTCDay()]}function ie(Z){return c[Z.getUTCMonth()]}function ge(Z){return l[Z.getUTCMonth()]}function ye(Z){return s[+(Z.getUTCHours()>=12)]}function pe(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var le=U(Z+="",E);return le.toString=function(){return Z},le},parse:function(Z){var le=M(Z+="",!1);return le.toString=function(){return Z},le},utcFormat:function(Z){var le=U(Z+="",T);return le.toString=function(){return Z},le},utcParse:function(Z){var le=M(Z+="",!0);return le.toString=function(){return Z},le}}}var HD={"-":"",_:" ",0:"0"},Iu=/^\s*\d+/,Dbe=/^%/,Mbe=/[\\^$*+?|[\]().{}]/g;function ii(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function Ube(e){return e.replace(Mbe,"\\$&")}function h2(e){return new RegExp("^(?:"+e.map(Ube).join("|")+")","i")}function A2(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Rbe(e,t,r){var n=Iu.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Qbe(e,t,r){var n=Iu.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Hbe(e,t,r){var n=Iu.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function $be(e,t,r){var n=Iu.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function zbe(e,t,r){var n=Iu.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function $D(e,t,r){var n=Iu.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function zD(e,t,r){var n=Iu.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Vbe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Kbe(e,t,r){var n=Iu.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function qbe(e,t,r){var n=Iu.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function VD(e,t,r){var n=Iu.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Gbe(e,t,r){var n=Iu.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function KD(e,t,r){var n=Iu.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Wbe(e,t,r){var n=Iu.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Ybe(e,t,r){var n=Iu.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Xbe(e,t,r){var n=Iu.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Jbe(e,t,r){var n=Iu.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Zbe(e,t,r){var n=Dbe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function ewe(e,t,r){var n=Iu.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function twe(e,t,r){var n=Iu.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function qD(e,t){return ii(e.getDate(),t,2)}function rwe(e,t){return ii(e.getHours(),t,2)}function nwe(e,t){return ii(e.getHours()%12||12,t,2)}function awe(e,t){return ii(1+dw.count(ep(e),e),t,3)}function PK(e,t){return ii(e.getMilliseconds(),t,3)}function swe(e,t){return PK(e,t)+"000"}function iwe(e,t){return ii(e.getMonth()+1,t,2)}function owe(e,t){return ii(e.getMinutes(),t,2)}function lwe(e,t){return ii(e.getSeconds(),t,2)}function cwe(e){var t=e.getDay();return t===0?7:t}function uwe(e,t){return ii(qj.count(ep(e)-1,e),t,2)}function LK(e){var t=e.getDay();return t>=4||t===0?Yv(e):Yv.ceil(e)}function dwe(e,t){return e=LK(e),ii(Yv.count(ep(e),e)+(ep(e).getDay()===4),t,2)}function fwe(e){return e.getDay()}function hwe(e,t){return ii(EN.count(ep(e)-1,e),t,2)}function Awe(e,t){return ii(e.getFullYear()%100,t,2)}function mwe(e,t){return e=LK(e),ii(e.getFullYear()%100,t,2)}function pwe(e,t){return ii(e.getFullYear()%1e4,t,4)}function gwe(e,t){var r=e.getDay();return e=r>=4||r===0?Yv(e):Yv.ceil(e),ii(e.getFullYear()%1e4,t,4)}function xwe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ii(t/60|0,"0",2)+ii(t%60,"0",2)}function GD(e,t){return ii(e.getUTCDate(),t,2)}function vwe(e,t){return ii(e.getUTCHours(),t,2)}function ywe(e,t){return ii(e.getUTCHours()%12||12,t,2)}function bwe(e,t){return ii(1+Kj.count(tp(e),e),t,3)}function OK(e,t){return ii(e.getUTCMilliseconds(),t,3)}function wwe(e,t){return OK(e,t)+"000"}function Nwe(e,t){return ii(e.getUTCMonth()+1,t,2)}function jwe(e,t){return ii(e.getUTCMinutes(),t,2)}function Swe(e,t){return ii(e.getUTCSeconds(),t,2)}function Cwe(e){var t=e.getUTCDay();return t===0?7:t}function Ewe(e,t){return ii(Gj.count(tp(e)-1,e),t,2)}function DK(e){var t=e.getUTCDay();return t>=4||t===0?Xv(e):Xv.ceil(e)}function Bwe(e,t){return e=DK(e),ii(Xv.count(tp(e),e)+(tp(e).getUTCDay()===4),t,2)}function Twe(e){return e.getUTCDay()}function _we(e,t){return ii(BN.count(tp(e)-1,e),t,2)}function Fwe(e,t){return ii(e.getUTCFullYear()%100,t,2)}function Iwe(e,t){return e=DK(e),ii(e.getUTCFullYear()%100,t,2)}function kwe(e,t){return ii(e.getUTCFullYear()%1e4,t,4)}function Pwe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Xv(e):Xv.ceil(e),ii(e.getUTCFullYear()%1e4,t,4)}function Lwe(){return"+0000"}function WD(){return"%"}function YD(e){return+e}function XD(e){return Math.floor(+e/1e3)}var sv,MK,UK;Owe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Owe(e){return sv=Obe(e),MK=sv.format,sv.parse,UK=sv.utcFormat,sv.utcParse,sv}function Dwe(e){return new Date(e)}function Mwe(e){return e instanceof Date?+e:+new Date(+e)}function S8(e,t,r,n,s,i,o,l,c,d){var u=d8(),h=u.invert,m=u.domain,A=d(".%L"),y=d(":%S"),x=d("%I:%M"),v=d("%I %p"),b=d("%a %d"),j=d("%b %d"),E=d("%B"),T=d("%Y");function P(U){return(c(U)<U?A:l(U)<U?y:o(U)<U?x:i(U)<U?v:n(U)<U?s(U)<U?b:j:r(U)<U?E:T)(U)}return u.invert=function(U){return new Date(h(U))},u.domain=function(U){return arguments.length?m(Array.from(U,Mwe)):m().map(Dwe)},u.ticks=function(U){var M=m();return e(M[0],M[M.length-1],U??10)},u.tickFormat=function(U,M){return M==null?P:d(M)},u.nice=function(U){var M=m();return(!U||typeof U.range!="function")&&(U=t(M[0],M[M.length-1],U??10)),U?m(SK(M,U)):u},u.copy=function(){return uw(u,S8(e,t,r,n,s,i,o,l,c,d))},u}function Uwe(){return hA.apply(S8(Pbe,Lbe,ep,N8,qj,dw,b8,v8,Sx,MK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Rwe(){return hA.apply(S8(Ibe,kbe,tp,j8,Gj,Kj,w8,y8,Sx,UK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Wj(){var e=0,t=1,r,n,s,i,o=of,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(s===0?.5:(h=(i(h)-r)*s,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function u(h){return function(m){var A,y;return arguments.length?([A,y]=m,o=h(A,y),d):[o(0),o(1)]}}return d.range=u(py),d.rangeRound=u(u8),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return i=h,r=h(e),n=h(t),s=r===n?0:1/(n-r),d}}function Fg(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function RK(){var e=_g(Wj()(of));return e.copy=function(){return Fg(e,RK())},dp.apply(e,arguments)}function QK(){var e=A8(Wj()).domain([1,10]);return e.copy=function(){return Fg(e,QK()).base(e.base())},dp.apply(e,arguments)}function HK(){var e=m8(Wj());return e.copy=function(){return Fg(e,HK()).constant(e.constant())},dp.apply(e,arguments)}function C8(){var e=p8(Wj());return e.copy=function(){return Fg(e,C8()).exponent(e.exponent())},dp.apply(e,arguments)}function Qwe(){return C8.apply(null,arguments).exponent(.5)}function $K(){var e=[],t=of;function r(n){if(n!=null&&!isNaN(n=+n))return t((lw(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(cg),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>C2e(e,i/n))},r.copy=function(){return $K(t).domain(e)},dp.apply(r,arguments)}function Yj(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,d=of,u,h=!1,m;function A(x){return isNaN(x=+x)?m:(x=.5+((x=+u(x))-i)*(n*x<n*i?l:c),d(h?Math.max(0,Math.min(1,x)):x))}A.domain=function(x){return arguments.length?([e,t,r]=x,s=u(e=+e),i=u(t=+t),o=u(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,A):[e,t,r]},A.clamp=function(x){return arguments.length?(h=!!x,A):h},A.interpolator=function(x){return arguments.length?(d=x,A):d};function y(x){return function(v){var b,j,E;return arguments.length?([b,j,E]=v,d=Z2e(x,[b,j,E]),A):[d(0),d(.5),d(1)]}}return A.range=y(py),A.rangeRound=y(u8),A.unknown=function(x){return arguments.length?(m=x,A):m},function(x){return u=x,s=x(e),i=x(t),o=x(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,A}}function zK(){var e=_g(Yj()(of));return e.copy=function(){return Fg(e,zK())},dp.apply(e,arguments)}function VK(){var e=A8(Yj()).domain([.1,1,10]);return e.copy=function(){return Fg(e,VK()).base(e.base())},dp.apply(e,arguments)}function KK(){var e=m8(Yj());return e.copy=function(){return Fg(e,KK()).constant(e.constant())},dp.apply(e,arguments)}function E8(){var e=p8(Yj());return e.copy=function(){return Fg(e,E8()).exponent(e.exponent())},dp.apply(e,arguments)}function Hwe(){return E8.apply(null,arguments).exponent(.5)}const w2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:o8,scaleDiverging:zK,scaleDivergingLog:VK,scaleDivergingPow:E8,scaleDivergingSqrt:Hwe,scaleDivergingSymlog:KK,scaleIdentity:jK,scaleImplicit:UB,scaleLinear:NK,scaleLog:CK,scaleOrdinal:i8,scalePoint:T2e,scalePow:g8,scaleQuantile:TK,scaleQuantize:_K,scaleRadial:BK,scaleSequential:RK,scaleSequentialLog:QK,scaleSequentialPow:C8,scaleSequentialQuantile:$K,scaleSequentialSqrt:Qwe,scaleSequentialSymlog:HK,scaleSqrt:wbe,scaleSymlog:EK,scaleThreshold:FK,scaleTime:Uwe,scaleUtc:Rwe,tickFormat:wK},Symbol.toStringTag,{value:"Module"}));var Ig=e=>e.chartData,B8=mr([Ig],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Xj=(e,t,r,n)=>n?B8(e):Ig(e);function Jv(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(nd(t)&&nd(r))return!0}return!1}function JD(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function $we(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,i;if(nd(r))s=r;else if(typeof r=="function")return;if(nd(n))i=n;else if(typeof n=="function")return;var o=[s,i];if(Jv(o))return o}}function zwe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Jv(n))return JD(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,o,l;if(s==="auto")t!=null&&(o=Math.min(...t));else if(Fn(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t?.[0]))}catch{}else if(typeof s=="string"&&HO.test(s)){var c=HO.exec(s);if(c==null||t==null)o=void 0;else{var d=+c[1];o=t[0]-d}}else o=t?.[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(Fn(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t?.[1]))}catch{}else if(typeof i=="string"&&$O.test(i)){var u=$O.exec(i);if(u==null||t==null)l=void 0;else{var h=+u[1];l=t[1]+h}}else l=t?.[1];var m=[o,l];if(Jv(m))return t==null?m:JD(m,t,r)}}}var gy=1e9,Vwe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_8,Zo=!0,uA="[DecimalError] ",Qx=uA+"Invalid argument: ",T8=uA+"Exponent out of range: ",xy=Math.floor,gx=Math.pow,Kwe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wh,ju=1e7,Oo=7,qK=9007199254740991,TN=xy(qK/Oo),Sn={};Sn.absoluteValue=Sn.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Sn.comparedTo=Sn.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};Sn.decimalPlaces=Sn.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Oo;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Sn.dividedBy=Sn.div=function(e){return V0(this,new this.constructor(e))};Sn.dividedToIntegerBy=Sn.idiv=function(e){var t=this,r=t.constructor;return mo(V0(t,new r(e),0,1),r.precision)};Sn.equals=Sn.eq=function(e){return!this.cmp(e)};Sn.exponent=function(){return Dc(this)};Sn.greaterThan=Sn.gt=function(e){return this.cmp(e)>0};Sn.greaterThanOrEqualTo=Sn.gte=function(e){return this.cmp(e)>=0};Sn.isInteger=Sn.isint=function(){return this.e>this.d.length-2};Sn.isNegative=Sn.isneg=function(){return this.s<0};Sn.isPositive=Sn.ispos=function(){return this.s>0};Sn.isZero=function(){return this.s===0};Sn.lessThan=Sn.lt=function(e){return this.cmp(e)<0};Sn.lessThanOrEqualTo=Sn.lte=function(e){return this.cmp(e)<1};Sn.logarithm=Sn.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(wh))throw Error(uA+"NaN");if(r.s<1)throw Error(uA+(r.s?"NaN":"-Infinity"));return r.eq(wh)?new n(0):(Zo=!1,t=V0(Cb(r,i),Cb(e,i),i),Zo=!0,mo(t,s))};Sn.minus=Sn.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?YK(t,e):GK(t,(e.s=-e.s,e))};Sn.modulo=Sn.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(uA+"NaN");return r.s?(Zo=!1,t=V0(r,e,0,1).times(e),Zo=!0,r.minus(t)):mo(new n(r),s)};Sn.naturalExponential=Sn.exp=function(){return WK(this)};Sn.naturalLogarithm=Sn.ln=function(){return Cb(this)};Sn.negated=Sn.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Sn.plus=Sn.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?GK(t,e):YK(t,(e.s=-e.s,e))};Sn.precision=Sn.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Qx+e);if(t=Dc(s)+1,n=s.d.length-1,r=n*Oo+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Sn.squareRoot=Sn.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(uA+"NaN")}for(e=Dc(l),Zo=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Um(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=xy((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(V0(l,i,o+2)).times(.5),Um(i.d).slice(0,o)===(t=Um(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(mo(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Zo=!0,mo(n,r)};Sn.times=Sn.mul=function(e){var t,r,n,s,i,o,l,c,d,u=this,h=u.constructor,m=u.d,A=(e=new h(e)).d;if(!u.s||!e.s)return new h(0);for(e.s*=u.s,r=u.e+e.e,c=m.length,d=A.length,c<d&&(i=m,m=A,A=i,o=c,c=d,d=o),i=[],o=c+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+A[n]*m[s-n-1]+t,i[s--]=l%ju|0,t=l/ju|0;i[s]=(i[s]+t)%ju|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Zo?mo(e,h.precision):e};Sn.toDecimalPlaces=Sn.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ym(e,0,gy),t===void 0?t=n.rounding:Ym(t,0,8),mo(r,e+Dc(r)+1,t))};Sn.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=t1(n,!0):(Ym(e,0,gy),t===void 0?t=s.rounding:Ym(t,0,8),n=mo(new s(n),e+1,t),r=t1(n,!0,e+1)),r};Sn.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?t1(s):(Ym(e,0,gy),t===void 0?t=i.rounding:Ym(t,0,8),n=mo(new i(s),e+Dc(s)+1,t),r=t1(n.abs(),!1,e+Dc(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Sn.toInteger=Sn.toint=function(){var e=this,t=e.constructor;return mo(new t(e),Dc(e)+1,t.rounding)};Sn.toNumber=function(){return+this};Sn.toPower=Sn.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(wh);if(l=new c(l),!l.s){if(e.s<1)throw Error(uA+"Infinity");return l}if(l.eq(wh))return l;if(n=c.precision,e.eq(wh))return mo(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=qK){for(s=new c(wh),t=Math.ceil(n/Oo+4),Zo=!1;r%2&&(s=s.times(l),eM(s.d,t)),r=xy(r/2),r!==0;)l=l.times(l),eM(l.d,t);return Zo=!0,e.s<0?new c(wh).div(s):mo(s,n)}}else if(i<0)throw Error(uA+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Zo=!1,s=e.times(Cb(l,n+d)),Zo=!0,s=WK(s),s.s=i,s};Sn.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=Dc(s),n=t1(s,r<=i.toExpNeg||r>=i.toExpPos)):(Ym(e,1,gy),t===void 0?t=i.rounding:Ym(t,0,8),s=mo(new i(s),e,t),r=Dc(s),n=t1(s,e<=r||r<=i.toExpNeg,e)),n};Sn.toSignificantDigits=Sn.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ym(e,1,gy),t===void 0?t=n.rounding:Ym(t,0,8)),mo(new n(r),e,t)};Sn.toString=Sn.valueOf=Sn.val=Sn.toJSON=Sn[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Dc(e),r=e.constructor;return t1(e,t<=r.toExpNeg||t>=r.toExpPos)};function GK(e,t){var r,n,s,i,o,l,c,d,u=e.constructor,h=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Zo?mo(t,h):t;if(c=e.d,d=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=d.length):(n=d,s=o,l=c.length),o=Math.ceil(h/Oo),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/ju|0,c[i]%=ju;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Zo?mo(t,h):t}function Ym(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Qx+e)}function Um(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Oo-n.length,r&&(i+=Yp(r)),i+=n;o=e[t],n=o+"",r=Oo-n.length,r&&(i+=Yp(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var V0=(function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%ju|0,o=i/ju|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*ju+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,d,u,h,m,A,y,x,v,b,j,E,T,P,U,M,k,Q=n.constructor,z=n.s==s.s?1:-1,O=n.d,L=s.d;if(!n.s)return new Q(n);if(!s.s)throw Error(uA+"Division by zero");for(c=n.e-s.e,M=L.length,P=O.length,A=new Q(z),y=A.d=[],d=0;L[d]==(O[d]||0);)++d;if(L[d]>(O[d]||0)&&--c,i==null?j=i=Q.precision:o?j=i+(Dc(n)-Dc(s))+1:j=i,j<0)return new Q(0);if(j=j/Oo+2|0,d=0,M==1)for(u=0,L=L[0],j++;(d<P||u)&&j--;d++)E=u*ju+(O[d]||0),y[d]=E/L|0,u=E%L|0;else{for(u=ju/(L[0]+1)|0,u>1&&(L=e(L,u),O=e(O,u),M=L.length,P=O.length),T=M,x=O.slice(0,M),v=x.length;v<M;)x[v++]=0;k=L.slice(),k.unshift(0),U=L[0],L[1]>=ju/2&&++U;do u=0,l=t(L,x,M,v),l<0?(b=x[0],M!=v&&(b=b*ju+(x[1]||0)),u=b/U|0,u>1?(u>=ju&&(u=ju-1),h=e(L,u),m=h.length,v=x.length,l=t(h,x,m,v),l==1&&(u--,r(h,M<m?k:L,m))):(u==0&&(l=u=1),h=L.slice()),m=h.length,m<v&&h.unshift(0),r(x,h,v),l==-1&&(v=x.length,l=t(L,x,M,v),l<1&&(u++,r(x,M<v?k:L,v))),v=x.length):l===0&&(u++,x=[0]),y[d++]=u,l&&x[0]?x[v++]=O[T]||0:(x=[O[T]],v=1);while((T++<P||x[0]!==void 0)&&j--)}return y[0]||y.shift(),A.e=c,mo(A,o?i+Dc(A)+1:i)}})();function WK(e,t){var r,n,s,i,o,l,c=0,d=0,u=e.constructor,h=u.precision;if(Dc(e)>16)throw Error(T8+Dc(e));if(!e.s)return new u(wh);for(Zo=!1,l=h,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(gx(2,d))/Math.LN10*2+5|0,l+=n,r=s=i=new u(wh),u.precision=l;;){if(s=mo(s.times(e),l),r=r.times(++c),o=i.plus(V0(s,r,l)),Um(o.d).slice(0,l)===Um(i.d).slice(0,l)){for(;d--;)i=mo(i.times(i),l);return u.precision=h,t==null?(Zo=!0,mo(i,h)):i}i=o}}function Dc(e){for(var t=e.e*Oo,r=e.d[0];r>=10;r/=10)t++;return t}function k6(e,t,r){if(t>e.LN10.sd())throw Zo=!0,r&&(e.precision=r),Error(uA+"LN10 precision limit exceeded");return mo(new e(e.LN10),t)}function Yp(e){for(var t="";e--;)t+="0";return t}function Cb(e,t){var r,n,s,i,o,l,c,d,u,h=1,m=10,A=e,y=A.d,x=A.constructor,v=x.precision;if(A.s<1)throw Error(uA+(A.s?"NaN":"-Infinity"));if(A.eq(wh))return new x(0);if(t==null?(Zo=!1,d=v):d=t,A.eq(10))return t==null&&(Zo=!0),k6(x,d);if(d+=m,x.precision=d,r=Um(y),n=r.charAt(0),i=Dc(A),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)A=A.times(e),r=Um(A.d),n=r.charAt(0),h++;i=Dc(A),n>1?(A=new x("0."+r),i++):A=new x(n+"."+r.slice(1))}else return c=k6(x,d+2,v).times(i+""),A=Cb(new x(n+"."+r.slice(1)),d-m).plus(c),x.precision=v,t==null?(Zo=!0,mo(A,v)):A;for(l=o=A=V0(A.minus(wh),A.plus(wh),d),u=mo(A.times(A),d),s=3;;){if(o=mo(o.times(u),d),c=l.plus(V0(o,new x(s),d)),Um(c.d).slice(0,d)===Um(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(k6(x,d+2,v).times(i+""))),l=V0(l,new x(h),d),x.precision=v,t==null?(Zo=!0,mo(l,v)):l;l=c,s+=2}}function ZD(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=xy(r/Oo),e.d=[],n=(r+1)%Oo,r<0&&(n+=Oo),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Oo;n<s;)e.d.push(+t.slice(n,n+=Oo));t=t.slice(n),n=Oo-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Zo&&(e.e>TN||e.e<-TN))throw Error(T8+r)}else e.s=0,e.e=0,e.d=[0];return e}function mo(e,t,r){var n,s,i,o,l,c,d,u,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Oo,s=t,d=h[u=0];else{if(u=Math.ceil((n+1)/Oo),i=h.length,u>=i)return e;for(d=i=h[u],o=1;i>=10;i/=10)o++;n%=Oo,s=n-Oo+o}if(r!==void 0&&(i=gx(10,o-s-1),l=d/i%10|0,c=t<0||h[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?d/gx(10,o-s):0:h[u-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return c?(i=Dc(e),h.length=1,t=t-i-1,h[0]=gx(10,(Oo-t%Oo)%Oo),e.e=xy(-t/Oo)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=u,i=1,u--):(h.length=u+1,i=gx(10,Oo-n),h[u]=s>0?(d/gx(10,o-s)%gx(10,s)|0)*i:0),c)for(;;)if(u==0){(h[0]+=i)==ju&&(h[0]=1,++e.e);break}else{if(h[u]+=i,h[u]!=ju)break;h[u--]=0,i=1}for(n=h.length;h[--n]===0;)h.pop();if(Zo&&(e.e>TN||e.e<-TN))throw Error(T8+Dc(e));return e}function YK(e,t){var r,n,s,i,o,l,c,d,u,h,m=e.constructor,A=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Zo?mo(t,A):t;if(c=e.d,h=t.d,n=t.e,d=e.e,c=c.slice(),o=d-n,o){for(u=o<0,u?(r=c,o=-o,l=h.length):(r=h,n=d,l=c.length),s=Math.max(Math.ceil(A/Oo),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=h.length,u=s<l,u&&(l=s),s=0;s<l;s++)if(c[s]!=h[s]){u=c[s]<h[s];break}o=0}for(u&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,s=h.length-l;s>0;--s)c[l++]=0;for(s=h.length;s>o;){if(c[--s]<h[s]){for(i=s;i&&c[--i]===0;)c[i]=ju-1;--c[i],c[s]+=ju}c[s]-=h[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Zo?mo(t,A):t):new m(0)}function t1(e,t,r){var n,s=Dc(e),i=Um(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Yp(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Yp(-s-1)+i,r&&(n=r-o)>0&&(i+=Yp(n))):s>=o?(i+=Yp(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+Yp(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=Yp(n))),e.s<0?"-"+i:i}function eM(e,t){if(e.length>t)return e.length=t,!0}function XK(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Qx+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return ZD(o,i.toString())}else if(typeof i!="string")throw Error(Qx+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Kwe.test(i))ZD(o,i);else throw Error(Qx+i)}if(s.prototype=Sn,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=XK,s.config=s.set=qwe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function qwe(e){if(!e||typeof e!="object")throw Error(uA+"Object expected");var t,r,n,s=["precision",1,gy,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(xy(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Qx+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Qx+r+": "+n);return this}var _8=XK(Vwe);wh=new _8(1);const Ri=_8;var Gwe=e=>e,JK={},ZK=e=>e===JK,tM=e=>function t(){return arguments.length===0||arguments.length===1&&ZK(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},eq=(e,t)=>e===1?t:tM(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var i=n.filter(o=>o!==JK).length;return i>=e?t(...n):eq(e-i,tM(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=n.map(u=>ZK(u)?l.shift():u);return t(...d,...l)}))}),Jj=e=>eq(e.length,e),$B=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Wwe=Jj((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Ywe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Gwe;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce((l,c)=>c(l),i(...arguments))}},zB=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),tq=e=>{var t=null,r=null;return function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return t&&s.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=s,r=e(...s)),r}};function rq(e){var t;return e===0?t=1:t=Math.floor(new Ri(e).abs().log(10).toNumber())+1,t}function nq(e,t,r){for(var n=new Ri(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}Jj((e,t,r)=>{var n=+e,s=+t;return n+r*(s-n)});Jj((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Jj((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var aq=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},sq=(e,t,r)=>{if(e.lte(0))return new Ri(0);var n=rq(e.toNumber()),s=new Ri(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new Ri(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?new Ri(c.toNumber()):new Ri(Math.ceil(c.toNumber()))},Xwe=(e,t,r)=>{var n=new Ri(1),s=new Ri(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Ri(10).pow(rq(e)-1),s=new Ri(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Ri(Math.floor(e)))}else e===0?s=new Ri(Math.floor((t-1)/2)):r||(s=new Ri(Math.floor(e)));var o=Math.floor((t-1)/2),l=Ywe(Wwe(c=>s.add(new Ri(c-o).mul(n)).toNumber()),$B);return l(0,t)},iq=function(t,r,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ri(0),tickMin:new Ri(0),tickMax:new Ri(0)};var o=sq(new Ri(r).sub(t).div(n-1),s,i),l;t<=0&&r>=0?l=new Ri(0):(l=new Ri(t).add(r).div(2),l=l.sub(new Ri(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),d=Math.ceil(new Ri(r).sub(l).div(o).toNumber()),u=c+d+1;return u>n?iq(t,r,n,s,i+1):(u<n&&(d=r>0?d+(n-u):d,c=r>0?c:c+(n-u)),{step:o,tickMin:l.sub(new Ri(c).mul(o)),tickMax:l.add(new Ri(d).mul(o))})};function Jwe(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[o,l]=aq([t,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...$B(0,n-1).map(()=>1/0)]:[...$B(0,n-1).map(()=>-1/0),l];return t>r?zB(c):c}if(o===l)return Xwe(o,n,s);var{step:d,tickMin:u,tickMax:h}=iq(o,l,i,s,0),m=nq(u,h.add(new Ri(.1).mul(d)),d);return t>r?zB(m):m}function Zwe(e,t){var[r,n]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=aq([r,n]);if(i===-1/0||o===1/0)return[r,n];if(i===o)return[i];var l=Math.max(t,2),c=sq(new Ri(o).sub(i).div(l-1),s,0),d=[...nq(new Ri(i),new Ri(o),c),o];return s===!1&&(d=d.map(u=>Math.round(u))),r>n?zB(d):d}var e4e=tq(Jwe),t4e=tq(Zwe),oq=e=>e.rootProps.maxBarSize,r4e=e=>e.rootProps.barGap,lq=e=>e.rootProps.barCategoryGap,n4e=e=>e.rootProps.barSize,fw=e=>e.rootProps.stackOffset,F8=e=>e.options.chartName,I8=e=>e.rootProps.syncId,cq=e=>e.rootProps.syncMethod,k8=e=>e.options.eventEmitter,P0={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},xh={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Zj=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},a4e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:P0.angleAxisId,includeHidden:!1,name:void 0,reversed:P0.reversed,scale:P0.scale,tick:P0.tick,tickCount:void 0,ticks:void 0,type:P0.type,unit:void 0},s4e={allowDataOverflow:xh.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xh.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xh.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xh.scale,tick:xh.tick,tickCount:xh.tickCount,ticks:void 0,type:xh.type,unit:void 0},i4e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:P0.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:P0.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:P0.scale,tick:P0.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},o4e={allowDataOverflow:xh.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xh.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xh.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xh.scale,tick:xh.tick,tickCount:xh.tickCount,ticks:void 0,type:"category",unit:void 0},P8=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?i4e:a4e,L8=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?o4e:s4e,eS=e=>e.polarOptions,O8=mr([cp,up,nu],VV),uq=mr([eS,O8],(e,t)=>{if(e!=null)return Od(e.innerRadius,t,0)}),dq=mr([eS,O8],(e,t)=>{if(e!=null)return Od(e.outerRadius,t,t*.8)}),l4e=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},fq=mr([eS],l4e);mr([P8,fq],Zj);var hq=mr([O8,uq,dq],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});mr([L8,hq],Zj);var Aq=mr([Fs,eS,uq,dq,cp,up],(e,t,r,n,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:d}=t;return{cx:Od(o,s,s/2),cy:Od(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:d,clockWise:!1}}}),rl=(e,t)=>t,hw=(e,t,r)=>r;function tS(e){return e?.id}var su=e=>{var t=Fs(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},vy=e=>e.tooltip.settings.axisId,ku=e=>{var t=su(e),r=vy(e);return Aw(e,t,r)},mq=mr([ku],e=>e?.dataKey);function pq(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:s,dataKey:i}=r,o=new Map;return e.forEach(l=>{var c,d=(c=l.data)!==null&&c!==void 0?c:n;if(!(d==null||d.length===0)){var u=tS(l);d.forEach((h,m)=>{var A=i==null||s?m:String(Ao(h,i,null)),y=Ao(h,l.dataKey,0),x;o.has(A)?x=o.get(A):x={},Object.assign(x,{[u]:y}),o.set(A,x)})}}),Array.from(o.values())}function rS(e){return e.stackId!=null&&e.dataKey!=null}function rM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _N(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rM(Object(r),!0).forEach(function(n){c4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c4e(e,t,r){return(t=u4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u4e(e){var t=d4e(e,"string");return typeof t=="symbol"?t:t+""}function d4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VB=[0,"auto"],Ah={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},gq=(e,t)=>e.cartesianAxis.xAxis[t],kg=(e,t)=>{var r=gq(e,t);return r??Ah},mh={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:VB,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:sw},xq=(e,t)=>e.cartesianAxis.yAxis[t],Pg=(e,t)=>{var r=xq(e,t);return r??mh},f4e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},D8=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??f4e},hc=(e,t,r)=>{switch(t){case"xAxis":return kg(e,r);case"yAxis":return Pg(e,r);case"zAxis":return D8(e,r);case"angleAxis":return P8(e,r);case"radiusAxis":return L8(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},h4e=(e,t,r)=>{switch(t){case"xAxis":return kg(e,r);case"yAxis":return Pg(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Aw=(e,t,r)=>{switch(t){case"xAxis":return kg(e,r);case"yAxis":return Pg(e,r);case"angleAxis":return P8(e,r);case"radiusAxis":return L8(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},vq=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function M8(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var nS=e=>e.graphicalItems.cartesianItems,A4e=mr([rl,hw],M8),U8=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),mw=mr([nS,hc,A4e],U8),yq=mr([mw],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(rS)),bq=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),wq=mr([mw],bq),R8=e=>e.map(t=>t.data).filter(Boolean).flat(1),m4e=mr([mw],R8),Q8=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},H8=mr([m4e,Xj],Q8),$8=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:Ao(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:Ao(s,n)}))):e.map(n=>({value:n})),aS=mr([H8,hc,mw],$8);function Nq(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function g1(e){return e.filter(t=>Wm(t)||t instanceof Date).map(Number).filter(t=>Uf(t)===!1)}function p4e(e,t,r){return!r||typeof t!="number"||Uf(t)?[]:r.length?g1(r.flatMap(n=>{var s=Ao(e,n.dataKey),i,o;if(Array.isArray(s)?[i,o]=s:i=o=s,!(!nd(i)||!nd(o)))return[t-i,t+o]})):[]}var g4e=mr([yq,Xj,ku],pq),jq=(e,t,r)=>{var n={},s=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),n);return Object.fromEntries(Object.entries(s).map(i=>{var[o,l]=i,c=l.map(tS);return[o,{stackedData:wve(e,c,r),graphicalItems:l}]}))},Eb=mr([g4e,yq,fw],jq),Sq=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:s}=t;if(r!=="zAxis"){var i=Cve(e,n,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},x4e=mr([Eb,Ig,rl],Sq),Cq=(e,t,r,n,s)=>r.length>0?e.flatMap(i=>r.flatMap(o=>{var l,c,d=(l=n[o.id])===null||l===void 0?void 0:l.filter(h=>Nq(s,h)),u=Ao(i,(c=t.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:u,errorDomain:p4e(i,u,d)}})).filter(Boolean):t?.dataKey!=null?e.map(i=>({value:Ao(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),sS=e=>e.errorBars,Eq=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>Nq(r,n));mr([wq,sS,rl],Eq);var v4e=mr([H8,hc,wq,sS,rl],Cq);function y4e(e){var{value:t}=e;if(Wm(t)||t instanceof Date)return t}var nM=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=g1(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},b4e=(e,t,r)=>{var n=e.map(y4e).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&lV(n))?fK(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},z8=e=>{var t;if(e==null||!("domain"in e))return VB;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=g1(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:VB},FN=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var i=s.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},Bq=e=>e.referenceElements.dots,yy=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),w4e=mr([Bq,rl,hw],yy),Tq=e=>e.referenceElements.areas,N4e=mr([Tq,rl,hw],yy),_q=e=>e.referenceElements.lines,j4e=mr([_q,rl,hw],yy),Fq=(e,t)=>{var r=g1(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},S4e=mr(w4e,rl,Fq),Iq=(e,t)=>{var r=g1(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},C4e=mr([N4e,rl],Iq),kq=(e,t)=>{var r=g1(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},E4e=mr(j4e,rl,kq),B4e=mr(S4e,E4e,C4e,(e,t,r)=>FN(e,r,t)),Pq=mr([hc],z8),V8=(e,t,r,n,s,i,o)=>{var l=$we(t,e.allowDataOverflow);if(l!=null)return l;var c=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",d=c?FN(r,s,nM(n)):FN(s,nM(n));return zwe(t,d,e.allowDataOverflow)},T4e=mr([hc,Pq,x4e,v4e,B4e,Fs,rl],V8),_4e=[0,1],K8=(e,t,r,n,s,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,d=lp(t,i);return d&&l==null?fK(0,r.length):c==="category"?b4e(n,e,d):s==="expand"?_4e:o}},q8=mr([hc,Fs,H8,aS,fw,rl,T4e],K8),Lq=(e,t,r,n,s)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(nw(i));return l in w2?l:"point"}}},by=mr([hc,Fs,vq,F8,rl],Lq);function F4e(e){if(e!=null){if(e in w2)return w2[e]();var t="scale".concat(nw(e));if(t in w2)return w2[t]()}}function G8(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=F4e(t);if(s!=null){var i=s.domain(r).range(n);return gve(i),i}}}var W8=(e,t,r)=>{var n=z8(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Jv(e))return e4e(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Jv(e))return t4e(e,t.tickCount,t.allowDecimals)}},Y8=mr([q8,Aw,by],W8),X8=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Jv(t)&&Array.isArray(r)&&r.length>0){var s=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(s,i),Math.max(o,l)]}return t},I4e=mr([hc,q8,Y8,rl],X8),k4e=mr(aS,hc,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(g1(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/s}}),Oq=mr(k4e,Fs,lq,nu,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!nd(e))return 0;var i=t==="vertical"?n.height:n.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var o=Od(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),P4e=(e,t)=>{var r=kg(e,t);return r==null||typeof r.padding!="string"?0:Oq(e,"xAxis",t,r.padding)},L4e=(e,t)=>{var r=Pg(e,t);return r==null||typeof r.padding!="string"?0:Oq(e,"yAxis",t,r.padding)},O4e=mr(kg,P4e,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),D4e=mr(Pg,L4e,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),M4e=mr([nu,O4e,$j,Hj,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:i}=n;return s?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),U4e=mr([nu,Fs,D4e,$j,Hj,(e,t,r)=>r],(e,t,r,n,s,i)=>{var{padding:o}=s;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),pw=(e,t,r,n)=>{var s;switch(t){case"xAxis":return M4e(e,r,n);case"yAxis":return U4e(e,r,n);case"zAxis":return(s=D8(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return fq(e);case"radiusAxis":return hq(e,r);default:return}},Dq=mr([hc,pw],Zj),wy=mr([hc,by,I4e,Dq],G8);mr([mw,sS,rl],Eq);function Mq(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var iS=(e,t)=>t,oS=(e,t,r)=>r,R4e=mr(Rj,iS,oS,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Mq)),Q4e=mr(Qj,iS,oS,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Mq)),Uq=(e,t)=>({width:e.width,height:t.height}),H4e=(e,t)=>{var r=typeof t.width=="number"?t.width:sw;return{width:r,height:e.height}},Rq=mr(nu,kg,Uq),$4e=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},z4e=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},V4e=mr(up,nu,R4e,iS,oS,(e,t,r,n,s)=>{var i={},o;return r.forEach(l=>{var c=Uq(t,l);o==null&&(o=$4e(t,n,e));var d=n==="top"&&!s||n==="bottom"&&s;i[l.id]=o-Number(d)*c.height,o+=(d?-1:1)*c.height}),i}),K4e=mr(cp,nu,Q4e,iS,oS,(e,t,r,n,s)=>{var i={},o;return r.forEach(l=>{var c=H4e(t,l);o==null&&(o=z4e(t,n,e));var d=n==="left"&&!s||n==="right"&&s;i[l.id]=o-Number(d)*c.width,o+=(d?-1:1)*c.width}),i}),q4e=(e,t)=>{var r=nu(e),n=kg(e,t);if(n!=null){var s=V4e(e,n.orientation,n.mirror),i=s[t];return i==null?{x:r.left,y:0}:{x:r.left,y:i}}},G4e=(e,t)=>{var r=nu(e),n=Pg(e,t);if(n!=null){var s=K4e(e,n.orientation,n.mirror),i=s[t];return i==null?{x:0,y:r.top}:{x:i,y:r.top}}},Qq=mr(nu,Pg,(e,t)=>{var r=typeof t.width=="number"?t.width:sw;return{width:r,height:e.height}}),aM=(e,t,r)=>{switch(t){case"xAxis":return Rq(e,r).width;case"yAxis":return Qq(e,r).height;default:return}},Hq=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:i,dataKey:o}=r,l=lp(e,n),c=t.map(d=>d.value);if(o&&l&&i==="category"&&s&&lV(c))return c}},J8=mr([Fs,aS,hc,rl],Hq),$q=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:i}=r,o=lp(e,n);if(o&&(s==="number"||i!=="auto"))return t.map(l=>l.value)}},Z8=mr([Fs,aS,Aw,rl],$q),sM=mr([Fs,h4e,by,wy,J8,Z8,pw,Y8,rl],(e,t,r,n,s,i,o,l,c)=>{if(t==null)return null;var d=lp(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:s,isCategorical:d,niceTicks:l,range:o,realScaleType:r,scale:n}}),W4e=(e,t,r,n,s,i,o,l,c)=>{if(!(t==null||n==null)){var d=lp(e,c),{type:u,ticks:h,tickCount:m}=t,A=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,y=u==="category"&&n.bandwidth?n.bandwidth()/A:0;y=c==="angleAxis"&&i!=null&&i.length>=2?Tu(i[0]-i[1])*2*y:y;var x=h||s;if(x){var v=x.map((b,j)=>{var E=o?o.indexOf(b):b;return{index:j,coordinate:n(E)+y,value:b,offset:y}});return v.filter(b=>!Uf(b.coordinate))}return d&&l?l.map((b,j)=>({coordinate:n(b)+y,value:b,index:j,offset:y})):n.ticks?n.ticks(m).map(b=>({coordinate:n(b)+y,value:b,offset:y})):n.domain().map((b,j)=>({coordinate:n(b)+y,value:o?o[b]:b,index:j,offset:y}))}},zq=mr([Fs,Aw,by,wy,Y8,pw,J8,Z8,rl],W4e),Y4e=(e,t,r,n,s,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=lp(e,o),{tickCount:c}=t,d=0;return d=o==="angleAxis"&&n?.length>=2?Tu(n[0]-n[1])*2*d:d,l&&i?i.map((u,h)=>({coordinate:r(u)+d,value:u,index:h,offset:d})):r.ticks?r.ticks(c).map(u=>({coordinate:r(u)+d,value:u,offset:d})):r.domain().map((u,h)=>({coordinate:r(u)+d,value:s?s[u]:u,index:h,offset:d}))}},vg=mr([Fs,Aw,wy,pw,J8,Z8,rl],Y4e),yg=mr(hc,wy,(e,t)=>{if(!(e==null||t==null))return _N(_N({},e),{},{scale:t})}),X4e=mr([hc,by,q8,Dq],G8);mr((e,t,r)=>D8(e,r),X4e,(e,t)=>{if(!(e==null||t==null))return _N(_N({},e),{},{scale:t})});var J4e=mr([Fs,Rj,Qj],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Vq=e=>e.options.defaultTooltipEventType,Kq=e=>e.options.validateTooltipEventTypes;function qq(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function eF(e,t){var r=Vq(e),n=Kq(e);return qq(t,r,n)}function Z4e(e){return In(t=>eF(t,e))}var Gq=(e,t)=>{var r,n=Number(t);if(!(Uf(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},e5e=e=>e.tooltip.settings,eg={active:!1,index:null,dataKey:void 0,coordinate:void 0},t5e={itemInteraction:{click:eg,hover:eg},axisInteraction:{click:eg,hover:eg},keyboardInteraction:eg,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Wq=Md({name:"tooltip",initialState:t5e,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=z0(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:r5e,removeTooltipEntrySettings:n5e,setTooltipSettingsState:a5e,setActiveMouseOverItemIndex:Yq,mouseLeaveItem:s5e,mouseLeaveChart:Xq,setActiveClickItemIndex:i5e,setMouseOverAxisIndex:Jq,setMouseClickAxisIndex:o5e,setSyncInteraction:KB,setKeyboardInteraction:qB}=Wq.actions,l5e=Wq.reducer;function iM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function q4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iM(Object(r),!0).forEach(function(n){c5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c5e(e,t,r){return(t=u5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u5e(e){var t=d5e(e,"string");return typeof t=="symbol"?t:t+""}function d5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f5e(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function h5e(e){return e.index!=null}var Zq=(e,t,r,n)=>{if(t==null)return eg;var s=f5e(e,t,r);if(s==null)return eg;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(h5e(s)){if(i)return q4(q4({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return q4(q4({},eg),{},{coordinate:s.coordinate})},tF=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!nd(n))return r;var s=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(s,Math.min(n,i)))},eG=(e,t,r,n,s,i,o,l)=>{if(!(i==null||l==null)){var c=o[0],d=c==null?void 0:l(c.positions,i);if(d!=null)return d;var u=s?.[Number(i)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},tG=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===s})},gw=e=>e.options.tooltipPayloadSearcher,Ny=e=>e.tooltip;function oM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oM(Object(r),!0).forEach(function(n){A5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A5e(e,t,r){return(t=m5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m5e(e){var t=p5e(e,"string");return typeof t=="symbol"?t:t+""}function p5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g5e(e,t){return e??t}var rG=(e,t,r,n,s,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:d,dataEndIndex:u}=r,h=[];return e.reduce((m,A)=>{var y,{dataDefinedOnItem:x,settings:v}=A,b=g5e(x,l),j=Array.isArray(b)?KV(b,d,u):b,E=(y=v?.dataKey)!==null&&y!==void 0?y:n,T=v?.nameKey,P;if(n&&Array.isArray(j)&&!Array.isArray(j[0])&&o==="axis"?P=cV(j,n,s):P=i(j,t,c,T),Array.isArray(P))P.forEach(M=>{var k=lM(lM({},v),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});m.push(zO({tooltipEntrySettings:k,dataKey:M.dataKey,payload:M.payload,value:Ao(M.payload,M.dataKey),name:M.name}))});else{var U;m.push(zO({tooltipEntrySettings:v,dataKey:E,payload:P,value:Ao(P,E),name:(U=Ao(P,T))!==null&&U!==void 0?U:v?.name}))}return m},h)}},rF=mr([ku,Fs,vq,F8,su],Lq),x5e=mr([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),v5e=mr([su,vy],M8),xw=mr([x5e,ku,v5e],U8),y5e=mr([xw],e=>e.filter(rS)),b5e=mr([xw],R8),jy=mr([b5e,Ig],Q8),w5e=mr([y5e,Ig,ku],pq),nF=mr([jy,ku,xw],$8),N5e=mr([ku],z8),j5e=mr([xw],e=>e.filter(rS)),S5e=mr([w5e,j5e,fw],jq),C5e=mr([S5e,Ig,su],Sq),E5e=mr([xw],bq),B5e=mr([jy,ku,E5e,sS,su],Cq),T5e=mr([Bq,su,vy],yy),_5e=mr([T5e,su],Fq),F5e=mr([Tq,su,vy],yy),I5e=mr([F5e,su],Iq),k5e=mr([_q,su,vy],yy),P5e=mr([k5e,su],kq),L5e=mr([_5e,P5e,I5e],FN),O5e=mr([ku,N5e,C5e,B5e,L5e,Fs,su],V8),nG=mr([ku,Fs,jy,nF,fw,su,O5e],K8),D5e=mr([nG,ku,rF],W8),M5e=mr([ku,nG,D5e,su],X8),aG=e=>{var t=su(e),r=vy(e),n=!1;return pw(e,t,r,n)},sG=mr([ku,aG],Zj),iG=mr([ku,rF,M5e,sG],G8),U5e=mr([Fs,nF,ku,su],Hq),R5e=mr([Fs,nF,ku,su],$q),Q5e=(e,t,r,n,s,i,o,l)=>{if(t){var{type:c}=t,d=lp(e,l);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,h=c==="category"&&n.bandwidth?n.bandwidth()/u:0;return h=l==="angleAxis"&&s!=null&&s?.length>=2?Tu(s[0]-s[1])*2*h:h,d&&o?o.map((m,A)=>({coordinate:n(m)+h,value:m,index:A,offset:h})):n.domain().map((m,A)=>({coordinate:n(m)+h,value:i?i[m]:m,index:A,offset:h}))}}},fp=mr([Fs,ku,rF,iG,aG,U5e,R5e,su],Q5e),aF=mr([Vq,Kq,e5e],(e,t,r)=>qq(r.shared,e,t)),oG=e=>e.tooltip.settings.trigger,sF=e=>e.tooltip.settings.defaultIndex,lS=mr([Ny,aF,oG,sF],Zq),bg=mr([lS,jy],tF),lG=mr([fp,bg],Gq),cG=mr([lS],e=>{if(e)return e.dataKey}),uG=mr([Ny,aF,oG,sF],tG),H5e=mr([cp,up,Fs,nu,fp,sF,uG,gw],eG),$5e=mr([lS,H5e],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),z5e=mr([lS],e=>e.active),V5e=mr([uG,bg,Ig,mq,lG,gw,aF],rG),K5e=mr([V5e],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function cM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cM(Object(r),!0).forEach(function(n){q5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q5e(e,t,r){return(t=G5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G5e(e){var t=W5e(e,"string");return typeof t=="symbol"?t:t+""}function W5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y5e=()=>In(ku),X5e=()=>{var e=Y5e(),t=In(fp),r=In(iG);return yb(uM(uM({},e),{},{scale:r}),t)},dG=()=>In(F8),iF=(e,t)=>t,fG=(e,t,r)=>r,oF=(e,t,r,n)=>n,J5e=mr(fp,e=>Uj(e,t=>t.coordinate)),lF=mr([Ny,iF,fG,oF],Zq),hG=mr([lF,jy],tF),Z5e=(e,t,r)=>{if(t!=null){var n=Ny(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},AG=mr([Ny,iF,fG,oF],tG),IN=mr([cp,up,Fs,nu,fp,oF,AG,gw],eG),eNe=mr([lF,IN],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),mG=mr(fp,hG,Gq),tNe=mr([AG,hG,Ig,mq,mG,gw,iF],rG),rNe=mr([lF],e=>({isActive:e.active,activeIndex:e.index})),nNe=(e,t,r,n,s,i,o,l)=>{if(!(!e||!t||!n||!s||!i)){var c=Eve(e.chartX,e.chartY,t,r,l);if(c){var d=Tve(c,t),u=mve(d,o,i,n,s),h=Bve(t,i,u,c);return{activeIndex:String(u),activeCoordinate:h}}}};function GB(){return GB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GB.apply(null,arguments)}function dM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function G4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dM(Object(r),!0).forEach(function(n){aNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aNe(e,t,r){return(t=sNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sNe(e){var t=iNe(e,"string");return typeof t=="symbol"?t:t+""}function iNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oNe(e){var{coordinate:t,payload:r,index:n,offset:s,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:d}=e,u=t,h=r,m=n;if(!l||!u||d!=="ScatterChart"&&c!=="axis")return null;var A,y;if(d==="ScatterChart")A=u,y=Tye;else if(d==="BarChart")A=_ye(o,u,s,i),y=lK;else if(o==="radial"){var{cx:x,cy:v,radius:b,startAngle:j,endAngle:E}=cK(u);A={cx:x,cy:v,startAngle:j,endAngle:E,innerRadius:b,outerRadius:b},y=dK}else A={points:c2e(o,u,s)},y=H2;var T=typeof l=="object"&&"className"in l?l.className:void 0,P=G4(G4(G4(G4({stroke:"#ccc",pointerEvents:"none"},s),A),fl(l,!1)),{},{payload:h,payloadIndex:m,className:cr("recharts-tooltip-cursor",T)});return C.isValidElement(l)?C.cloneElement(l,P):C.createElement(y,P)}function lNe(e){var t=X5e(),r=ZV(),n=zj(),s=dG();return C.createElement(oNe,GB({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var pG=C.createContext(null),cNe=()=>C.useContext(pG),P6={exports:{}},fM;function uNe(){return fM||(fM=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,h,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var A=new s(u,h||c,m),y=r?r+d:d;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],A]:c._events[y].push(A):(c._events[y]=A,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,h;if(this._eventsCount===0)return d;for(h in u=this._events)t.call(u,h)&&d.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,A=h.length,y=new Array(A);m<A;m++)y[m]=h[m].fn;return y},l.prototype.listenerCount=function(d){var u=r?r+d:d,h=this._events[u];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,u,h,m,A,y){var x=r?r+d:d;if(!this._events[x])return!1;var v=this._events[x],b=arguments.length,j,E;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,h),!0;case 4:return v.fn.call(v.context,u,h,m),!0;case 5:return v.fn.call(v.context,u,h,m,A),!0;case 6:return v.fn.call(v.context,u,h,m,A,y),!0}for(E=1,j=new Array(b-1);E<b;E++)j[E-1]=arguments[E];v.fn.apply(v.context,j)}else{var T=v.length,P;for(E=0;E<T;E++)switch(v[E].once&&this.removeListener(d,v[E].fn,void 0,!0),b){case 1:v[E].fn.call(v[E].context);break;case 2:v[E].fn.call(v[E].context,u);break;case 3:v[E].fn.call(v[E].context,u,h);break;case 4:v[E].fn.call(v[E].context,u,h,m);break;default:if(!j)for(P=1,j=new Array(b-1);P<b;P++)j[P-1]=arguments[P];v[E].fn.apply(v[E].context,j)}}return!0},l.prototype.on=function(d,u,h){return i(this,d,u,h,!1)},l.prototype.once=function(d,u,h){return i(this,d,u,h,!0)},l.prototype.removeListener=function(d,u,h,m){var A=r?r+d:d;if(!this._events[A])return this;if(!u)return o(this,A),this;var y=this._events[A];if(y.fn)y.fn===u&&(!m||y.once)&&(!h||y.context===h)&&o(this,A);else{for(var x=0,v=[],b=y.length;x<b;x++)(y[x].fn!==u||m&&!y[x].once||h&&y[x].context!==h)&&v.push(y[x]);v.length?this._events[A]=v.length===1?v[0]:v:o(this,A)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(P6)),P6.exports}var dNe=uNe();const fNe=dA(dNe);var Bb=new fNe,WB="recharts.syncEvent.tooltip",hM="recharts.syncEvent.brush";function cF(e,t){if(t){var r=Number.parseInt(t,10);if(!Uf(r))return e?.[r]}}var hNe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},gG=Md({name:"options",initialState:hNe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ANe=gG.reducer,{createEventEmitter:mNe}=gG.actions;function pNe(e){return e.tooltip.syncInteraction}var gNe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},xG=Md({name:"chartData",initialState:gNe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:AM,setDataStartEndIndexes:xNe,setComputedData:oMe}=xG.actions,vNe=xG.reducer,yNe=["x","y"];function mM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ux(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mM(Object(r),!0).forEach(function(n){bNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bNe(e,t,r){return(t=wNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wNe(e){var t=NNe(e,"string");return typeof t=="symbol"?t:t+""}function NNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jNe(e,t){if(e==null)return{};var r,n,s=SNe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function SNe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vG=()=>{};function CNe(){var e=In(I8),t=In(k8),r=ml(),n=In(cq),s=In(fp),i=zj(),o=t8(),l=In(c=>c.rootProps.className);C.useEffect(()=>{if(e==null)return vG;var c=(d,u,h)=>{if(t!==h&&e===d){if(n==="index"){var m;if(o&&u!==null&&u!==void 0&&(m=u.payload)!==null&&m!==void 0&&m.coordinate){var A=u.payload.coordinate,{x:y,y:x}=A,v=jNe(A,yNe),b=ux(ux(ux({},v),typeof y=="number"&&{x:Math.max(o.x,Math.min(y,o.x+o.width))}),typeof x=="number"&&{y:Math.max(o.y,Math.min(x,o.y+o.height))}),j=ux(ux({},u),{},{payload:ux(ux({},u.payload),{},{coordinate:b})});r(j)}else r(u);return}if(s!=null){var E;if(typeof n=="function"){var T={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},P=n(s,T);E=s[P]}else n==="value"&&(E=s.find(V=>String(V.value)===u.payload.label));var{coordinate:U}=u.payload;if(E==null||u.payload.active===!1||U==null||o==null){r(KB({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:M,y:k}=U,Q=Math.min(M,o.x+o.width),z=Math.min(k,o.y+o.height),O={x:i==="horizontal"?E.coordinate:Q,y:i==="horizontal"?z:E.coordinate},L=KB({active:u.payload.active,coordinate:O,dataKey:u.payload.dataKey,index:String(E.index),label:u.payload.label});r(L)}}};return Bb.on(WB,c),()=>{Bb.off(WB,c)}},[l,r,t,e,n,s,i,o])}function ENe(){var e=In(I8),t=In(k8),r=ml();C.useEffect(()=>{if(e==null)return vG;var n=(s,i,o)=>{t!==o&&e===s&&r(xNe(i))};return Bb.on(hM,n),()=>{Bb.off(hM,n)}},[r,t,e])}function BNe(){var e=ml();C.useEffect(()=>{e(mNe())},[e]),CNe(),ENe()}function TNe(e,t,r,n,s,i){var o=In(m=>Z5e(m,e,t)),l=In(k8),c=In(I8),d=In(cq),u=In(pNe),h=u?.active;C.useEffect(()=>{if(!h&&c!=null&&l!=null){var m=KB({active:i,coordinate:r,dataKey:o,index:s,label:typeof n=="number"?String(n):n});Bb.emit(WB,c,m,l)}},[h,r,o,s,n,l,c,d,i])}function pM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pM(Object(r),!0).forEach(function(n){_Ne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Ne(e,t,r){return(t=FNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FNe(e){var t=INe(e,"string");return typeof t=="symbol"?t:t+""}function INe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kNe(e){return e.dataKey}function PNe(e,t){return C.isValidElement(e)?C.cloneElement(e,t):typeof e=="function"?C.createElement(e,t):C.createElement(oye,t)}var xM=[],LNe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!A1.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function $2(e){var t=$f(e,LNe),{active:r,allowEscapeViewBox:n,animationDuration:s,animationEasing:i,content:o,filterNull:l,isAnimationActive:c,offset:d,payloadUniqBy:u,position:h,reverseDirection:m,useTranslate3d:A,wrapperStyle:y,cursor:x,shared:v,trigger:b,defaultIndex:j,portal:E,axisId:T}=t,P=ml(),U=typeof j=="number"?String(j):j;C.useEffect(()=>{P(a5e({shared:v,trigger:b,axisId:T,active:r,defaultIndex:U}))},[P,v,b,T,r,U]);var M=t8(),k=nK(),Q=Z4e(v),{activeIndex:z,isActive:O}=In(ie=>rNe(ie,Q,b,U)),L=In(ie=>tNe(ie,Q,b,U)),V=In(ie=>mG(ie,Q,b,U)),J=In(ie=>eNe(ie,Q,b,U)),ce=L,ee=cNe(),de=r??O,[se,he]=$V([ce,de]),fe=Q==="axis"?V:void 0;TNe(Q,b,J,fe,z,de);var ve=E??ee;if(ve==null)return null;var B=ce??xM;de||(B=xM),l&&B.length&&(B=UV(ce.filter(ie=>ie.value!=null&&(ie.hide!==!0||t.includeHidden)),u,kNe));var R=B.length>0,Y=C.createElement(Aye,{allowEscapeViewBox:n,animationDuration:s,animationEasing:i,isAnimationActive:c,active:de,coordinate:J,hasPayload:R,offset:d,position:h,reverseDirection:m,useTranslate3d:A,viewBox:M,wrapperStyle:y,lastBoundingBox:se,innerRef:he,hasPortalFromProps:!!E},PNe(o,gM(gM({},t),{},{payload:B,label:fe,active:de,coordinate:J,accessibilityLayer:k})));return C.createElement(C.Fragment,null,O9.createPortal(Y,ve),de&&C.createElement(lNe,{cursor:x,tooltipEventType:Q,coordinate:J,payload:ce,index:z}))}var L6={},O6={},D6={},vM;function ONe(){return vM||(vM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),u=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},h=()=>{d&&u(),x()};let m=null;const A=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,h()},n)},y=()=>{m!==null&&(clearTimeout(m),m=null)},x=()=>{y(),o=void 0,l=null},v=()=>{u()},b=function(...j){if(s?.aborted)return;o=this,l=j;const E=m==null;A(),c&&E&&u()};return b.schedule=A,b.cancel=x,b.flush=v,s?.addEventListener("abort",x,{once:!0}),b}e.debounce=t})(D6)),D6}var yM;function DNe(){return yM||(yM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ONe();function r(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let u,h=null;const m=t.debounce(function(...x){u=n.apply(this,x),h=null},s,{edges:d}),A=function(...x){return c!=null&&(h===null&&(h=Date.now()),Date.now()-h>=c)?(u=n.apply(this,x),h=Date.now(),m.cancel(),m.schedule(),u):(m.apply(this,x),u)},y=()=>(m.flush(),u);return A.cancel=m.cancel,A.flush=y,A}e.debounce=r})(O6)),O6}var bM;function MNe(){return bM||(bM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DNe();function r(n,s=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,s,{leading:o,maxWait:s,trailing:l})}e.throttle=r})(L6)),L6}var M6,wM;function UNe(){return wM||(wM=1,M6=MNe().throttle),M6}var RNe=UNe();const QNe=dA(RNe);var z2=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function NM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function U6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NM(Object(r),!0).forEach(function(n){HNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HNe(e,t,r){return(t=$Ne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Ne(e){var t=zNe(e,"string");return typeof t=="symbol"?t:t+""}function zNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V2=C.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:d,debounce:u=0,id:h,className:m,onResize:A,style:y={}}=e,x=C.useRef(null),v=C.useRef();v.current=A,C.useImperativeHandle(t,()=>x.current);var[b,j]=C.useState({containerWidth:n.width,containerHeight:n.height}),E=C.useCallback((P,U)=>{j(M=>{var k=Math.round(P),Q=Math.round(U);return M.containerWidth===k&&M.containerHeight===Q?M:{containerWidth:k,containerHeight:Q}})},[]);C.useEffect(()=>{var P=Q=>{var z,{width:O,height:L}=Q[0].contentRect;E(O,L),(z=v.current)===null||z===void 0||z.call(v,O,L)};u>0&&(P=QNe(P,u,{trailing:!0,leading:!1}));var U=new ResizeObserver(P),{width:M,height:k}=x.current.getBoundingClientRect();return E(M,k),U.observe(x.current),()=>{U.disconnect()}},[E,u]);var T=C.useMemo(()=>{var{containerWidth:P,containerHeight:U}=b;if(P<0||U<0)return null;z2(Nx(s)||Nx(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,i),z2(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=Nx(s)?P:s,k=Nx(i)?U:i;return r&&r>0&&(M?k=M/r:k&&(M=k*r),c&&k>c&&(k=c)),z2(M>0||k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,k,s,i,o,l,r),C.Children.map(d,Q=>C.cloneElement(Q,{width:M,height:k,style:U6({width:M,height:k},Q.props.style)}))},[r,d,i,c,l,o,b,s]);return C.createElement("div",{id:h?"".concat(h):void 0,className:cr("recharts-responsive-container",m),style:U6(U6({},y),{},{width:s,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:x},C.createElement("div",{style:{width:0,height:0,overflow:"visible"}},T))}),Sy=e=>null;Sy.displayName="Cell";function VNe(e,t,r){return(t=KNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KNe(e){var t=qNe(e,"string");return typeof t=="symbol"?t:t+""}function qNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class GNe{constructor(t){VNe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function jM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function WNe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(r),!0).forEach(function(n){YNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YNe(e,t,r){return(t=XNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XNe(e){var t=JNe(e,"string");return typeof t=="symbol"?t:t+""}function JNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZNe={cacheSize:2e3,enableCache:!0},yG=WNe({},ZNe),SM=new GNe(yG.cacheSize),eje={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CM="recharts_measurement_span";function tje(e,t){var r=t.fontSize||"",n=t.fontFamily||"",s=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(s,"|").concat(i,"|").concat(o,"|").concat(l)}var EM=(e,t)=>{try{var r=document.getElementById(CM);r||(r=document.createElement("span"),r.setAttribute("id",CM),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,eje,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},K2=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||A1.isSsr)return{width:0,height:0};if(!yG.enableCache)return EM(t,r);var n=tje(t,r),s=SM.get(n);if(s)return s;var i=EM(t,r);return SM.set(n,i),i},BM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rje=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,nje=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,bG={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},aje=Object.keys(bG),pv="NaN";function sje(e,t){return e*bG[t]}class _f{static parse(t){var r,[,n,s]=(r=nje.exec(t))!==null&&r!==void 0?r:[];return new _f(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Uf(t)&&(this.unit=""),r!==""&&!rje.test(r)&&(this.num=NaN,this.unit=""),aje.includes(r)&&(this.num=sje(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new _f(NaN,""):new _f(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new _f(NaN,""):new _f(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new _f(NaN,""):new _f(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new _f(NaN,""):new _f(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Uf(this.num)}}function wG(e){if(e.includes(pv))return pv;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,i]=(r=BM.exec(t))!==null&&r!==void 0?r:[],o=_f.parse(n??""),l=_f.parse(i??""),c=s==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return pv;t=t.replace(BM,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,u,h,m]=(d=TM.exec(t))!==null&&d!==void 0?d:[],A=_f.parse(u??""),y=_f.parse(m??""),x=h==="+"?A.add(y):A.subtract(y);if(x.isNaN())return pv;t=t.replace(TM,x.toString())}return t}var _M=/\(([^()]*)\)/;function ije(e){for(var t=e,r;(r=_M.exec(t))!=null;){var[,n]=r;t=t.replace(_M,wG(n))}return t}function oje(e){var t=e.replace(/\s+/g,"");return t=ije(t),t=wG(t),t}function lje(e){try{return oje(e)}catch{return pv}}function R6(e){var t=lje(e.slice(5,-1));return t===pv?"":t}var cje=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],uje=["dx","dy","angle","className","breakAll"];function YB(){return YB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YB.apply(null,arguments)}function FM(e,t){if(e==null)return{};var r,n,s=dje(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function dje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NG=/[ \f\n\r\t\v\u2028\u2029]+/,jG=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];hl(t)||(r?s=t.toString().split(""):s=t.toString().split(NG));var i=s.map(l=>({word:l,width:K2(l,n).width})),o=r?0:K2("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},fje=(e,t,r,n,s)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,d=Fn(i),u=o,h=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce((L,V)=>{var{word:J,width:ce}=V,ee=L[L.length-1];if(ee&&(n==null||s||ee.width+ce+r<Number(n)))ee.words.push(J),ee.width+=ce+r;else{var de={words:[J],width:ce};L.push(de)}return L},[])},m=h(t),A=z=>z.reduce((O,L)=>O.width>L.width?O:L);if(!d||s)return m;var y=m.length>i||A(m).width>Number(n);if(!y)return m;for(var x="",v=z=>{var O=u.slice(0,z),L=jG({breakAll:c,style:l,children:O+x}).wordsWithComputedWidth,V=h(L),J=V.length>i||A(V).width>Number(n);return[J,V]},b=0,j=u.length-1,E=0,T;b<=j&&E<=u.length-1;){var P=Math.floor((b+j)/2),U=P-1,[M,k]=v(U),[Q]=v(P);if(!M&&!Q&&(b=P+1),M&&Q&&(j=P-1),!M&&Q){T=k;break}E++}return T||m},IM=e=>{var t=hl(e)?[]:e.toString().split(NG);return[{words:t}]},hje=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:i,maxLines:o}=e;if((t||r)&&!A1.isSsr){var l,c,d=jG({breakAll:i,children:n,style:s});if(d){var{wordsWithComputedWidth:u,spaceWidth:h}=d;l=u,c=h}else return IM(n);return fje({breakAll:i,children:n,maxLines:o,style:s},l,c,t,r)}return IM(n)},kM="#808080",cS=C.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:s="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:d=kM}=e,u=FM(e,cje),h=C.useMemo(()=>hje({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:o,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,o,u.style,u.width]),{dx:m,dy:A,angle:y,className:x,breakAll:v}=u,b=FM(u,uje);if(!Wm(r)||!Wm(n)||h.length===0)return null;var j=r+(Fn(m)?m:0),E=n+(Fn(A)?A:0),T;switch(c){case"start":T=R6("calc(".concat(i,")"));break;case"middle":T=R6("calc(".concat((h.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:T=R6("calc(".concat(h.length-1," * -").concat(s,")"));break}var P=[];if(o){var U=h[0].width,{width:M}=u;P.push("scale(".concat(Fn(M)?M/U:1,")"))}return y&&P.push("rotate(".concat(y,", ").concat(j,", ").concat(E,")")),P.length&&(b.transform=P.join(" ")),C.createElement("text",YB({},fl(b,!0),{ref:t,x:j,y:E,className:cr("recharts-text",x),textAnchor:l,fill:d.includes("url")?kM:d}),h.map((k,Q)=>{var z=k.words.join(v?"":" ");return C.createElement("tspan",{x:j,dy:Q===0?T:s,key:"".concat(z,"-").concat(Q)},z)}))});cS.displayName="Text";var Aje=["labelRef"];function mje(e,t){if(e==null)return{};var r,n,s=pje(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function pje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function PM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ac(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PM(Object(r),!0).forEach(function(n){gje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gje(e,t,r){return(t=xje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xje(e){var t=vje(e,"string");return typeof t=="symbol"?t:t+""}function vje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L0(){return L0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L0.apply(null,arguments)}var SG=C.createContext(null),yje=e=>{var{x:t,y:r,width:n,height:s,children:i}=e,o=C.useMemo(()=>({x:t,y:r,width:n,height:s}),[t,r,n,s]);return C.createElement(SG.Provider,{value:o},i)},CG=()=>{var e=C.useContext(SG),t=t8();return e||t},bje=C.createContext(null),wje=()=>{var e=C.useContext(bje),t=In(Aq);return e||t},Nje=e=>{var{value:t,formatter:r}=e,n=hl(e.children)?t:e.children;return typeof r=="function"?r(n):n},uF=e=>e!=null&&typeof e=="function",jje=(e,t)=>{var r=Tu(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Sje=(e,t,r,n,s)=>{var{offset:i,className:o}=e,{cx:l,cy:c,innerRadius:d,outerRadius:u,startAngle:h,endAngle:m,clockWise:A}=s,y=(d+u)/2,x=jje(h,m),v=x>=0?1:-1,b,j;switch(t){case"insideStart":b=h+v*i,j=A;break;case"insideEnd":b=m-v*i,j=!A;break;case"end":b=m+v*i,j=A;break;default:throw new Error("Unsupported position ".concat(t))}j=x<=0?j:!j;var E=Lc(l,c,y,b),T=Lc(l,c,y,b+(j?1:-1)*359),P="M".concat(E.x,",").concat(E.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(j?0:1,`,
    `).concat(T.x,",").concat(T.y),U=hl(e.id)?vb("recharts-radial-line-"):e.id;return C.createElement("text",L0({},n,{dominantBaseline:"central",className:cr("recharts-radial-bar-label",o)}),C.createElement("defs",null,C.createElement("path",{id:U,d:P})),C.createElement("textPath",{xlinkHref:"#".concat(U)},r))},Cje=(e,t,r)=>{var{cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c}=e,d=(l+c)/2;if(r==="outside"){var{x:u,y:h}=Lc(n,s,o+t,d);return{x:u,y:h,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"end"};var m=(i+o)/2,{x:A,y}=Lc(n,s,m,d);return{x:A,y,textAnchor:"middle",verticalAnchor:"middle"}},EG=e=>"cx"in e&&Fn(e.cx),Eje=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,i;r!=null&&!EG(r)&&(i=r);var{x:o,y:l,width:c,height:d}=t,u=d>=0?1:-1,h=u*n,m=u>0?"end":"start",A=u>0?"start":"end",y=c>=0?1:-1,x=y*n,v=y>0?"end":"start",b=y>0?"start":"end";if(s==="top"){var j={x:o+c/2,y:l-u*n,textAnchor:"middle",verticalAnchor:m};return ac(ac({},j),i?{height:Math.max(l-i.y,0),width:c}:{})}if(s==="bottom"){var E={x:o+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:A};return ac(ac({},E),i?{height:Math.max(i.y+i.height-(l+d),0),width:c}:{})}if(s==="left"){var T={x:o-x,y:l+d/2,textAnchor:v,verticalAnchor:"middle"};return ac(ac({},T),i?{width:Math.max(T.x-i.x,0),height:d}:{})}if(s==="right"){var P={x:o+c+x,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return ac(ac({},P),i?{width:Math.max(i.x+i.width-P.x,0),height:d}:{})}var U=i?{width:c,height:d}:{};return s==="insideLeft"?ac({x:o+x,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},U):s==="insideRight"?ac({x:o+c-x,y:l+d/2,textAnchor:v,verticalAnchor:"middle"},U):s==="insideTop"?ac({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:A},U):s==="insideBottom"?ac({x:o+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:m},U):s==="insideTopLeft"?ac({x:o+x,y:l+h,textAnchor:b,verticalAnchor:A},U):s==="insideTopRight"?ac({x:o+c-x,y:l+h,textAnchor:v,verticalAnchor:A},U):s==="insideBottomLeft"?ac({x:o+x,y:l+d-h,textAnchor:b,verticalAnchor:m},U):s==="insideBottomRight"?ac({x:o+c-x,y:l+d-h,textAnchor:v,verticalAnchor:m},U):s&&typeof s=="object"&&(Fn(s.x)||Nx(s.x))&&(Fn(s.y)||Nx(s.y))?ac({x:o+Od(s.x,c),y:l+Od(s.y,d),textAnchor:"end",verticalAnchor:"end"},U):ac({x:o+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},U)},Bje={offset:5};function Xp(e){var t=$f(e,Bje),{viewBox:r,position:n,value:s,children:i,content:o,className:l="",textBreakAll:c,labelRef:d}=t,u=wje(),h=CG(),m=n==="center"?h:u??h,A=r||m;if(!A||hl(s)&&hl(i)&&!C.isValidElement(o)&&typeof o!="function")return null;var y=ac(ac({},t),{},{viewBox:A});if(C.isValidElement(o)){var{labelRef:x}=y,v=mje(y,Aje);return C.cloneElement(o,v)}var b;if(typeof o=="function"){if(b=C.createElement(o,y),C.isValidElement(b))return b}else b=Nje(t);var j=EG(A),E=fl(t,!0);if(j&&(n==="insideStart"||n==="insideEnd"||n==="end"))return Sje(t,n,b,E,A);var T=j?Cje(A,t.offset,t.position):Eje(t,A);return C.createElement(cS,L0({ref:d,className:cr("recharts-label",l)},E,T,{breakAll:c}),b)}Xp.displayName="Label";var Tje=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?C.createElement(Xp,L0({key:"label-implicit"},n)):Wm(e)?C.createElement(Xp,L0({key:"label-implicit",value:e},n)):C.isValidElement(e)?e.type===Xp?C.cloneElement(e,ac({key:"label-implicit"},n)):C.createElement(Xp,L0({key:"label-implicit",content:e},n)):uF(e)?C.createElement(Xp,L0({key:"label-implicit",content:e},n)):e&&typeof e=="object"?C.createElement(Xp,L0({},e,{key:"label-implicit"},n)):null};function _je(e){var{label:t}=e,r=CG();return Tje(t,r)||null}var Q6={},H6={},LM;function Fje(){return LM||(LM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(H6)),H6}var $6={},OM;function Ije(){return OM||(OM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})($6)),$6}var DM;function kje(){return DM||(DM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fje(),r=Ije(),n=X_();function s(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=s})(Q6)),Q6}var z6,MM;function Pje(){return MM||(MM=1,z6=kje().last),z6}var Lje=Pje();const Oje=dA(Lje);var Dje=["valueAccessor"],Mje=["dataKey","clockWise","id","textBreakAll"];function kN(){return kN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kN.apply(null,arguments)}function UM(e,t){if(e==null)return{};var r,n,s=Uje(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Uje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Rje=e=>Array.isArray(e.value)?Oje(e.value):e.value,BG=C.createContext(void 0),TG=BG.Provider,_G=C.createContext(void 0),Qje=_G.Provider;function Hje(){return C.useContext(BG)}function $je(){return C.useContext(_G)}function y5(e){var{valueAccessor:t=Rje}=e,r=UM(e,Dje),{dataKey:n,clockWise:s,id:i,textBreakAll:o}=r,l=UM(r,Mje),c=Hje(),d=$je(),u=c||d;return!u||!u.length?null:C.createElement(Mc,{className:"recharts-label-list"},u.map((h,m)=>{var A,y=hl(n)?t(h,m):Ao(h&&h.payload,n),x=hl(i)?{}:{id:"".concat(i,"-").concat(m)};return C.createElement(Xp,kN({},fl(h,!0),l,x,{fill:(A=r.fill)!==null&&A!==void 0?A:h.fill,parentViewBox:h.parentViewBox,value:y,textBreakAll:o,viewBox:h.viewBox,key:"label-".concat(m),index:m}))}))}y5.displayName="LabelList";function dF(e){var{label:t}=e;return t?t===!0?C.createElement(y5,{key:"labelList-implicit"}):C.isValidElement(t)||uF(t)?C.createElement(y5,{key:"labelList-implicit",content:t}):typeof t=="object"?C.createElement(y5,kN({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function XB(){return XB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XB.apply(null,arguments)}var FG=e=>{var{cx:t,cy:r,r:n,className:s}=e,i=cr("recharts-dot",s);return t===+t&&r===+r&&n===+n?C.createElement("circle",XB({},e0(e),H_(e),{className:i,cx:t,cy:r,r:n})):null},IG=e=>e.graphicalItems.polarItems,zje=mr([rl,hw],M8),fF=mr([IG,hc,zje],U8),Vje=mr([fF],R8),hF=mr([Vje,B8],Q8),Kje=mr([hF,hc,fF],$8),qje=mr([hF,hc,fF],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(s=>{var i,o=Ao(n,(i=t.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:Ao(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),RM=()=>{},Gje=mr([hc,Pq,RM,qje,RM,Fs,rl],V8),kG=mr([hc,Fs,hF,Kje,fw,rl,Gje],K8),Wje=mr([kG,hc,by],W8);mr([hc,kG,Wje,rl],X8);var Yje={radiusAxis:{},angleAxis:{}},PG=Md({name:"polarAxis",initialState:Yje,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:lMe,removeRadiusAxis:cMe,addAngleAxis:uMe,removeAngleAxis:dMe}=PG.actions,Xje=PG.reducer;function QM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function HM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QM(Object(r),!0).forEach(function(n){Jje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jje(e,t,r){return(t=Zje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zje(e){var t=eSe(e,"string");return typeof t=="symbol"?t:t+""}function eSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tSe=(e,t)=>t,AF=mr([IG,tSe],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),rSe=[],mF=(e,t,r)=>r?.length===0?rSe:r,LG=mr([B8,AF,mF],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var s;if(t?.data!=null&&t.data.length>0?s=t.data:s=n,(!s||!s.length)&&r!=null&&(s=r.map(i=>HM(HM({},t.presentationProps),i.props))),s!=null)return s}}),nSe=mr([LG,AF,mF],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,s)=>{var i,o=Ao(n,t.nameKey,t.name),l;return r!=null&&(i=r[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[s].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:my(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),aSe=mr([LG,AF,mF,nu],(e,t,r,n)=>{if(!(t==null||e==null))return t3e({offset:n,pieSettings:t,displayedData:e,cells:r})}),V6={},$M;function sSe(){return $M||($M=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(V6)),V6}var K6,zM;function iSe(){return zM||(zM=1,K6=sSe().isPlainObject),K6}var oSe=iSe();const lSe=dA(oSe);function VM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function KM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VM(Object(r),!0).forEach(function(n){cSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cSe(e,t,r){return(t=uSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uSe(e){var t=dSe(e,"string");return typeof t=="symbol"?t:t+""}function dSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PN(){return PN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PN.apply(null,arguments)}var qM=(e,t,r,n,s)=>{var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+s),o+="L ".concat(e+r-i/2-n,",").concat(t+s),o+="L ".concat(e,",").concat(t," Z"),o},fSe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hSe=e=>{var t=$f(e,fSe),{x:r,y:n,upperWidth:s,lowerWidth:i,height:o,className:l}=t,{animationEasing:c,animationDuration:d,animationBegin:u,isUpdateAnimationActive:h}=t,m=C.useRef(),[A,y]=C.useState(-1),x=C.useRef(s),v=C.useRef(i),b=C.useRef(o),j=C.useRef(r),E=C.useRef(n),T=ow(e,"trapezoid-");if(C.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var J=m.current.getTotalLength();J&&y(J)}catch{}},[]),r!==+r||n!==+n||s!==+s||i!==+i||o!==+o||s===0&&i===0||o===0)return null;var P=cr("recharts-trapezoid",l);if(!h)return C.createElement("g",null,C.createElement("path",PN({},fl(t,!0),{className:P,d:qM(r,n,s,i,o)})));var U=x.current,M=v.current,k=b.current,Q=j.current,z=E.current,O="0px ".concat(A===-1?1:A,"px"),L="".concat(A,"px 0px"),V=aK(["strokeDasharray"],d,c);return C.createElement(iw,{animationId:T,key:T,canBegin:A>0,duration:d,easing:c,isActive:h,begin:u},J=>{var ce=ul(U,s,J),ee=ul(M,i,J),de=ul(k,o,J),se=ul(Q,r,J),he=ul(z,n,J);m.current&&(x.current=ce,v.current=ee,b.current=de,j.current=se,E.current=he);var fe=J>0?{transition:V,strokeDasharray:L}:{strokeDasharray:O};return C.createElement("path",PN({},fl(t,!0),{className:P,d:qM(se,he,ce,ee,de),ref:m,style:KM(KM({},fe),t.style)}))})},ASe=["option","shapeType","propTransformer","activeClassName","isActive"];function mSe(e,t){if(e==null)return{};var r,n,s=pSe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function pSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function GM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function LN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GM(Object(r),!0).forEach(function(n){gSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gSe(e,t,r){return(t=xSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xSe(e){var t=vSe(e,"string");return typeof t=="symbol"?t:t+""}function vSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ySe(e,t){return LN(LN({},t),e)}function bSe(e,t){return e==="symbols"}function WM(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return C.createElement(lK,r);case"trapezoid":return C.createElement(hSe,r);case"sector":return C.createElement(dK,r);case"symbols":if(bSe(t))return C.createElement(G_,r);break;default:return null}}function wSe(e){return C.isValidElement(e)?e.props:e}function OG(e){var{option:t,shapeType:r,propTransformer:n=ySe,activeClassName:s="recharts-active-shape",isActive:i}=e,o=mSe(e,ASe),l;if(C.isValidElement(t))l=C.cloneElement(t,LN(LN({},o),wSe(t)));else if(typeof t=="function")l=t(o);else if(lSe(t)&&typeof t!="boolean"){var c=n(t,o);l=C.createElement(WM,{shapeType:r,elementProps:c})}else{var d=o;l=C.createElement(WM,{shapeType:r,elementProps:d})}return i?C.createElement(Mc,{className:s},l):l}var pF=(e,t)=>{var r=ml();return(n,s)=>i=>{e?.(n,s,i),r(Yq({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},gF=e=>{var t=ml();return(r,n)=>s=>{e?.(r,n,s),t(s5e())}},xF=(e,t)=>{var r=ml();return(n,s)=>i=>{e?.(n,s,i),r(i5e({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function vF(e){var{fn:t,args:r}=e,n=ml(),s=Hf();return C.useEffect(()=>{if(!s){var i=t(r);return n(r5e(i)),()=>{n(n5e(i))}}},[t,r,n,s]),null}var DG=()=>{};function MG(e){var{legendPayload:t}=e,r=ml(),n=Hf();return C.useEffect(()=>n?DG:(r(tK(t)),()=>{r(rK(t))}),[r,n,t]),null}function NSe(e){var{legendPayload:t}=e,r=ml(),n=In(Fs);return C.useEffect(()=>n!=="centric"&&n!=="radial"?DG:(r(tK(t)),()=>{r(rK(t))}),[r,n,t]),null}var q6,jSe=()=>{var[e]=C.useState(()=>vb("uid-"));return e},SSe=(q6=rZ.useId)!==null&&q6!==void 0?q6:jSe;function CSe(e,t){var r=SSe();return t||(e?"".concat(e,"-").concat(r):r)}var ESe=C.createContext(void 0),yF=e=>{var{id:t,type:r,children:n}=e,s=CSe("recharts-".concat(r),t);return C.createElement(ESe.Provider,{value:s},n(s))},BSe={cartesianItems:[],polarItems:[]},UG=Md({name:"graphicalItems",initialState:BSe,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,s=z0(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=n)},removeCartesianGraphicalItem(e,t){var r=z0(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=z0(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:TSe,replaceCartesianGraphicalItem:_Se,removeCartesianGraphicalItem:FSe,addPolarGraphicalItem:ISe,removePolarGraphicalItem:kSe}=UG.actions,PSe=UG.reducer;function RG(e){var t=ml(),r=C.useRef(null);return C.useEffect(()=>{r.current===null?t(TSe(e)):r.current!==e&&t(_Se({prev:r.current,next:e})),r.current=e},[t,e]),C.useEffect(()=>()=>{r.current&&(t(FSe(r.current)),r.current=null)},[t]),null}function LSe(e){var t=ml();return C.useEffect(()=>(t(ISe(e)),()=>{t(kSe(e))}),[t,e]),null}var OSe=["onMouseEnter","onClick","onMouseLeave"],DSe=["id"],MSe=["id"];function bF(e,t){if(e==null)return{};var r,n,s=USe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function USe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function YM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YM(Object(r),!0).forEach(function(n){RSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RSe(e,t,r){return(t=QSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QSe(e){var t=HSe(e,"string");return typeof t=="symbol"?t:t+""}function HSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wg.apply(null,arguments)}function $Se(e){var t=C.useMemo(()=>$_(e.children,Sy),[e.children]),r=In(n=>nSe(n,e.id,t));return r==null?null:C.createElement(NSe,{legendPayload:r})}function zSe(e){var{dataKey:t,nameKey:r,sectors:n,stroke:s,strokeWidth:i,fill:o,name:l,hide:c,tooltipType:d}=e;return{dataDefinedOnItem:n.map(u=>u.tooltipPayload),positions:n.map(u=>u.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:my(l,t),hide:c,type:d,color:o,unit:""}}}var VSe=(e,t)=>e>t?"start":e<t?"end":"middle",KSe=(e,t,r)=>Od(typeof t=="function"?t(e):t,r,r*.8),qSe=(e,t,r)=>{var{top:n,left:s,width:i,height:o}=t,l=VV(i,o),c=s+Od(e.cx,i,i/2),d=n+Od(e.cy,o,o/2),u=Od(e.innerRadius,l,0),h=KSe(r,e.outerRadius,l),m=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:d,innerRadius:u,outerRadius:h,maxRadius:m}},GSe=(e,t)=>{var r=Tu(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function WSe(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var YSe=(e,t)=>{if(C.isValidElement(e))return C.cloneElement(e,t);if(typeof e=="function")return e(t);var r=cr("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return C.createElement(H2,wg({},t,{type:"linear",className:r}))},XSe=(e,t,r)=>{if(C.isValidElement(e))return C.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),C.isValidElement(n)))return n;var s=cr("recharts-pie-label-text",WSe(e));return C.createElement(cS,wg({},t,{alignmentBaseline:"middle",className:s}),n)};function JSe(e){var{sectors:t,props:r,showLabels:n}=e,{label:s,labelLine:i,dataKey:o}=r;if(!n||!s||!t)return null;var l=e0(r),c=fl(s,!1),d=fl(i,!1),u=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,h=t.map((m,A)=>{var y=(m.startAngle+m.endAngle)/2,x=Lc(m.cx,m.cy,m.outerRadius+u,y),v=Jo(Jo(Jo(Jo({},l),m),{},{stroke:"none"},c),{},{index:A,textAnchor:VSe(x.x,m.cx)},x),b=Jo(Jo(Jo(Jo({},l),m),{},{fill:"none",stroke:m.fill},d),{},{index:A,points:[Lc(m.cx,m.cy,m.outerRadius,y),x],key:"line"});return C.createElement(Mc,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(A)},i&&YSe(i,b),XSe(s,v,Ao(m,o)))});return C.createElement(Mc,{className:"recharts-pie-labels"},h)}function ZSe(e){var{sectors:t,props:r,showLabels:n}=e,{label:s}=r;return typeof s=="object"&&s!=null&&"position"in s?C.createElement(dF,{label:r.label}):C.createElement(JSe,{sectors:t,props:r,showLabels:n})}function e3e(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:s}=e,i=In(bg),{onMouseEnter:o,onClick:l,onMouseLeave:c}=s,d=bF(s,OSe),u=pF(o,s.dataKey),h=gF(c),m=xF(l,s.dataKey);return t==null||t.length===0?null:C.createElement(C.Fragment,null,t.map((A,y)=>{if(A?.startAngle===0&&A?.endAngle===0&&t.length!==1)return null;var x=r&&String(y)===i,v=i?n:null,b=x?r:v,j=Jo(Jo({},A),{},{stroke:A.stroke,tabIndex:-1,[XV]:y,[JV]:s.dataKey});return C.createElement(Mc,wg({tabIndex:-1,className:"recharts-pie-sector"},aw(d,A,y),{onMouseEnter:u(A,y),onMouseLeave:h(A,y),onClick:m(A,y),key:"sector-".concat(A?.startAngle,"-").concat(A?.endAngle,"-").concat(A.midAngle,"-").concat(y)}),C.createElement(OG,wg({option:b,isActive:x,shapeType:"sector"},j)))}))}function t3e(e){var t,{pieSettings:r,displayedData:n,cells:s,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:d,nameKey:u,tooltipType:h}=r,m=Math.abs(r.minAngle),A=GSe(l,c),y=Math.abs(A),x=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,v=n.filter(U=>Ao(U,d,0)!==0).length,b=(y>=360?v:v-1)*x,j=y-v*m-b,E=n.reduce((U,M)=>{var k=Ao(M,d,0);return U+(Fn(k)?k:0)},0),T;if(E>0){var P;T=n.map((U,M)=>{var k=Ao(U,d,0),Q=Ao(U,u,M),z=qSe(r,i,U),O=(Fn(k)?k:0)/E,L,V=Jo(Jo({},U),s&&s[M]&&s[M].props);M?L=P.endAngle+Tu(A)*x*(k!==0?1:0):L=l;var J=L+Tu(A)*((k!==0?m:0)+O*j),ce=(L+J)/2,ee=(z.innerRadius+z.outerRadius)/2,de=[{name:Q,value:k,payload:V,dataKey:d,type:h}],se=Lc(z.cx,z.cy,ee,ce);return P=Jo(Jo(Jo(Jo({},r.presentationProps),{},{percent:O,cornerRadius:o,name:Q,tooltipPayload:de,midAngle:ce,middleRadius:ee,tooltipPosition:se},V),z),{},{value:Ao(U,d),startAngle:L,endAngle:J,payload:V,paddingAngle:Tu(A)*x}),P})}return T}function r3e(e){var{showLabels:t,sectors:r,children:n}=e,s=C.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return C.createElement(Qje,{value:t?s:void 0},n)}function n3e(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:u,onAnimationEnd:h}=t,m=ow(t,"recharts-pie-"),A=r.current,[y,x]=C.useState(!1),v=C.useCallback(()=>{typeof h=="function"&&h(),x(!1)},[h]),b=C.useCallback(()=>{typeof u=="function"&&u(),x(!0)},[u]);return C.createElement(r3e,{showLabels:!y,sectors:n},C.createElement(iw,{animationId:m,begin:i,duration:o,isActive:s,easing:l,onAnimationStart:b,onAnimationEnd:v,key:m},j=>{var E=[],T=n&&n[0],P=T?.startAngle;return n?.forEach((U,M)=>{var k=A&&A[M],Q=M>0?e1(U,"paddingAngle",0):0;if(k){var z=ul(k.endAngle-k.startAngle,U.endAngle-U.startAngle,j),O=Jo(Jo({},U),{},{startAngle:P+Q,endAngle:P+z+Q});E.push(O),P=O.endAngle}else{var{endAngle:L,startAngle:V}=U,J=ul(0,L-V,j),ce=Jo(Jo({},U),{},{startAngle:P+Q,endAngle:P+J+Q});E.push(ce),P=ce.endAngle}}),r.current=E,C.createElement(Mc,null,C.createElement(e3e,{sectors:E,activeShape:c,inactiveShape:d,allOtherPieProps:t}))}),C.createElement(ZSe,{showLabels:!y,sectors:n,props:t}),t.children)}var a3e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!A1.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function s3e(e){var{id:t}=e,r=bF(e,DSe),{hide:n,className:s,rootTabIndex:i}=e,o=C.useMemo(()=>$_(e.children,Sy),[e.children]),l=In(u=>aSe(u,t,o)),c=C.useRef(null),d=cr("recharts-pie",s);return n||l==null?(c.current=null,C.createElement(Mc,{tabIndex:i,className:d})):C.createElement(C.Fragment,null,C.createElement(vF,{fn:zSe,args:Jo(Jo({},e),{},{sectors:l})}),C.createElement(Mc,{tabIndex:i,className:d},C.createElement(n3e,{props:Jo(Jo({},r),{},{sectors:l}),previousSectorsRef:c})))}function wF(e){var t=$f(e,a3e),{id:r}=t,n=bF(t,MSe),s=e0(n);return C.createElement(yF,{id:r,type:"pie"},i=>C.createElement(C.Fragment,null,C.createElement(LSe,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:s}),C.createElement($Se,wg({},n,{id:i})),C.createElement(s3e,wg({},n,{id:i}))))}wF.displayName="Pie";function XM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function JM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XM(Object(r),!0).forEach(function(n){i3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i3e(e,t,r){return(t=o3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o3e(e){var t=l3e(e,"string");return typeof t=="symbol"?t:t+""}function l3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c3e={xAxis:{},yAxis:{},zAxis:{}},QG=Md({name:"cartesianAxis",initialState:c3e,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=JM(JM({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:u3e,removeXAxis:d3e,addYAxis:f3e,removeYAxis:h3e,addZAxis:fMe,removeZAxis:hMe,updateYAxisWidth:A3e}=QG.actions,m3e=QG.reducer,p3e=mr([nu],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),g3e=mr([p3e,cp,up],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),NF=()=>In(g3e),x3e=()=>In(K5e);function ZM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function eU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZM(Object(r),!0).forEach(function(n){v3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v3e(e,t,r){return(t=y3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y3e(e){var t=b3e(e,"string");return typeof t=="symbol"?t:t+""}function b3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w3e=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:s,dataKey:i}=e;if(s===!1||t.x==null||t.y==null)return null;var o=eU(eU({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},fl(s,!1)),H_(s)),l;return C.isValidElement(s)?l=C.cloneElement(s,o):typeof s=="function"?l=s(o):l=C.createElement(FG,o),C.createElement(Mc,{className:"recharts-active-dot"},l)};function tU(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:s}=e,i=In(bg),o=x3e();if(t==null||o==null)return null;var l=t.find(c=>o.includes(c.payload));return hl(l)?null:w3e({point:l,childIndex:Number(i),mainColor:r,dataKey:s,activeDot:n})}var N3e="Invariant failed";function j3e(e,t){throw new Error(N3e)}var S3e=["x","y"];function JB(){return JB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JB.apply(null,arguments)}function rU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function m2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rU(Object(r),!0).forEach(function(n){C3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C3e(e,t,r){return(t=E3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E3e(e){var t=B3e(e,"string");return typeof t=="symbol"?t:t+""}function B3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T3e(e,t){if(e==null)return{};var r,n,s=_3e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function F3e(e,t){var{x:r,y:n}=e,s=T3e(e,S3e),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),d="".concat(t.height||s.height),u=parseInt(d,10),h="".concat(t.width||s.width),m=parseInt(h,10);return m2(m2(m2(m2(m2({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:m,name:t.name,radius:t.radius})}function jF(e){return C.createElement(OG,JB({shapeType:"rectangle",propTransformer:F3e,activeClassName:"recharts-active-bar"},e))}var I3e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,s)=>{if(Fn(t))return t;var i=Fn(n)||hl(n);return i?t(n,s):(i||j3e(),r)}},k3e={},HG=Md({name:"errorBars",initialState:k3e,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:s}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?s:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==n.dataKey||s.direction!==n.direction))}}}),{addErrorBar:AMe,replaceErrorBar:mMe,removeErrorBar:pMe}=HG.actions,P3e=HG.reducer,L3e=["children"];function O3e(e,t){if(e==null)return{};var r,n,s=D3e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function D3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var M3e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},U3e=C.createContext(M3e);function R3e(e){var{children:t}=e,r=O3e(e,L3e);return C.createElement(U3e.Provider,{value:r},t)}function SF(e,t){var r,n,s=In(d=>kg(d,e)),i=In(d=>Pg(d,t)),o=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Ah.allowDataOverflow,l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:mh.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function $G(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=NF(),{needClipX:i,needClipY:o,needClip:l}=SF(t,r);if(!l)return null;var{x:c,y:d,width:u,height:h}=s;return C.createElement("clipPath",{id:"clipPath-".concat(n)},C.createElement("rect",{x:i?c:c-u/2,y:o?d:d-h/2,width:i?u:u*2,height:o?h:h*2}))}var Q3e=["onMouseEnter","onMouseLeave","onClick"],H3e=["value","background","tooltipPosition"],$3e=["id"],z3e=["onMouseEnter","onClick","onMouseLeave"];function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ng.apply(null,arguments)}function nU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nU(Object(r),!0).forEach(function(n){V3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V3e(e,t,r){return(t=K3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K3e(e){var t=q3e(e,"string");return typeof t=="symbol"?t:t+""}function q3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ON(e,t){if(e==null)return{};var r,n,s=G3e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function G3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var W3e=e=>{var{dataKey:t,name:r,fill:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:my(r,t),payload:e}]};function Y3e(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:s,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:s,dataKey:t,nameKey:void 0,name:my(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:l}}}function X3e(e){var t=In(bg),{data:r,dataKey:n,background:s,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=i,d=ON(i,Q3e),u=pF(o,n),h=gF(l),m=xF(c,n);if(!s||r==null)return null;var A=fl(s,!1);return C.createElement(C.Fragment,null,r.map((y,x)=>{var{value:v,background:b,tooltipPosition:j}=y,E=ON(y,H3e);if(!b)return null;var T=u(y,x),P=h(y,x),U=m(y,x),M=nf(nf(nf(nf(nf({option:s,isActive:String(x)===t},E),{},{fill:"#eee"},b),A),aw(d,y,x)),{},{onMouseEnter:T,onMouseLeave:P,onClick:U,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return C.createElement(jF,Ng({key:"background-bar-".concat(x)},M))}))}function J3e(e){var{showLabels:t,children:r,rects:n}=e,s=n?.map(i=>{var o={x:i.x,y:i.y,width:i.width,height:i.height};return nf(nf({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return C.createElement(TG,{value:t?s:void 0},r)}function Z3e(e){var{shape:t,activeBar:r,baseProps:n,entry:s,index:i,dataKey:o}=e,l=In(bg),c=In(cG),d=r&&String(i)===l&&(c==null||o===c),u=d?r:t;return C.createElement(jF,Ng({},n,s,{isActive:d,option:u,index:i,dataKey:o}))}function eCe(e){var{shape:t,baseProps:r,entry:n,index:s,dataKey:i}=e;return C.createElement(jF,Ng({},r,n,{isActive:!1,option:t,index:s,dataKey:i}))}function tCe(e){var{data:t,props:r}=e,n=e0(r),{id:s}=n,i=ON(n,$3e),{shape:o,dataKey:l,activeBar:c}=r,{onMouseEnter:d,onClick:u,onMouseLeave:h}=r,m=ON(r,z3e),A=pF(d,l),y=gF(h),x=xF(u,l);return t?C.createElement(C.Fragment,null,t.map((v,b)=>C.createElement(Mc,Ng({className:"recharts-bar-rectangle"},aw(m,v,b),{onMouseEnter:A(v,b),onMouseLeave:y(v,b),onClick:x(v,b),key:"rectangle-".concat(v?.x,"-").concat(v?.y,"-").concat(v?.value,"-").concat(b)}),c?C.createElement(Z3e,{shape:o,activeBar:c,baseProps:i,entry:v,index:b,dataKey:l}):C.createElement(eCe,{shape:o,baseProps:i,entry:v,index:b,dataKey:l})))):null}function rCe(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:s,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:d,onAnimationStart:u}=t,h=r.current,m=ow(t,"recharts-bar-"),[A,y]=C.useState(!1),x=!A,v=C.useCallback(()=>{typeof d=="function"&&d(),y(!1)},[d]),b=C.useCallback(()=>{typeof u=="function"&&u(),y(!0)},[u]);return C.createElement(J3e,{showLabels:x,rects:n},C.createElement(iw,{animationId:m,begin:o,duration:l,isActive:i,easing:c,onAnimationEnd:v,onAnimationStart:b,key:m},j=>{var E=j===1?n:n?.map((T,P)=>{var U=h&&h[P];if(U)return nf(nf({},T),{},{x:ul(U.x,T.x,j),y:ul(U.y,T.y,j),width:ul(U.width,T.width,j),height:ul(U.height,T.height,j)});if(s==="horizontal"){var M=ul(0,T.height,j);return nf(nf({},T),{},{y:T.y+T.height-M,height:M})}var k=ul(0,T.width,j);return nf(nf({},T),{},{width:k})});return j>0&&(r.current=E??null),E==null?null:C.createElement(Mc,null,C.createElement(tCe,{props:t,data:E}))}),C.createElement(dF,{label:t.label}),t.children)}function nCe(e){var t=C.useRef(null);return C.createElement(rCe,{previousRectanglesRef:t,props:e})}var zG=0,aCe=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ao(e,t)}};class sCe extends C.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:s,xAxisId:i,yAxisId:o,needClip:l,background:c,id:d}=this.props;if(t||r==null)return null;var u=cr("recharts-bar",s),h=d;return C.createElement(Mc,{className:u,id:d},l&&C.createElement("defs",null,C.createElement($G,{clipPathId:h,xAxisId:i,yAxisId:o})),C.createElement(Mc,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(h,")"):void 0},C.createElement(X3e,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),C.createElement(nCe,this.props)))}}var iCe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!A1.isSsr,legendType:"rect",minPointSize:zG,xAxisId:0,yAxisId:0};function oCe(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:u}=e,{needClip:h}=SF(t,r),m=zj(),A=Hf(),y=$_(e.children,Sy),x=In(j=>PCe(j,t,r,A,e.id,y));if(m!=="vertical"&&m!=="horizontal")return null;var v,b=x?.[0];return b==null||b.height==null||b.width==null?v=0:v=m==="vertical"?b.height/2:b.width/2,C.createElement(R3e,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:aCe,errorBarOffset:v},C.createElement(sCe,Ng({},e,{layout:m,needClip:h,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:u})))}function lCe(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:s,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:d,stackedData:u,displayedData:h,offset:m,cells:A,parentViewBox:y}=e,x=t==="horizontal"?l:o,v=u?x.scale.domain():null,b=Nve({numericAxis:x});return h.map((j,E)=>{var T,P,U,M,k,Q;u?T=xve(u[E],v):(T=Ao(j,r),Array.isArray(T)||(T=[b,T]));var z=I3e(n,zG)(T[1],E);if(t==="horizontal"){var O,[L,V]=[l.scale(T[0]),l.scale(T[1])];P=QO({axis:o,ticks:c,bandSize:i,offset:s.offset,entry:j,index:E}),U=(O=V??L)!==null&&O!==void 0?O:void 0,M=s.size;var J=L-V;if(k=Uf(J)?0:J,Q={x:P,y:m.top,width:M,height:m.height},Math.abs(z)>0&&Math.abs(k)<Math.abs(z)){var ce=Tu(k||z)*(Math.abs(z)-Math.abs(k));U-=ce,k+=ce}}else{var[ee,de]=[o.scale(T[0]),o.scale(T[1])];if(P=ee,U=QO({axis:l,ticks:d,bandSize:i,offset:s.offset,entry:j,index:E}),M=de-ee,k=s.size,Q={x:m.left,y:U,width:m.width,height:k},Math.abs(z)>0&&Math.abs(M)<Math.abs(z)){var se=Tu(M||z)*(Math.abs(z)-Math.abs(M));M+=se}}if(P==null||U==null||M==null||k==null)return null;var he=nf(nf({},j),{},{x:P,y:U,width:M,height:k,value:u?T:T[1],payload:j,background:Q,tooltipPosition:{x:P+M/2,y:U+k/2},parentViewBox:y},A&&A[E]&&A[E].props);return he}).filter(Boolean)}function ZB(e){var t=$f(e,iCe),r=Hf();return C.createElement(yF,{id:t.id,type:"bar"},n=>C.createElement(C.Fragment,null,C.createElement(MG,{legendPayload:W3e(t)}),C.createElement(vF,{fn:Y3e,args:t}),C.createElement(RG,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:WV(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),C.createElement(oCe,Ng({},t,{id:n}))))}ZB.displayName="Bar";function aU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function W4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aU(Object(r),!0).forEach(function(n){cCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cCe(e,t,r){return(t=uCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uCe(e){var t=dCe(e,"string");return typeof t=="symbol"?t:t+""}function dCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fCe=(e,t)=>t,hCe=(e,t,r)=>r,ACe=(e,t,r,n)=>n,mCe=(e,t,r,n,s)=>s,vw=mr([nS,mCe],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),pCe=mr([vw],e=>e?.maxBarSize),gCe=(e,t,r,n,s,i)=>i,sU=(e,t,r)=>{var n=r??e;if(!hl(n))return Od(n,t,0)},xCe=mr([Fs,nS,fCe,hCe,ACe],(e,t,r,n,s)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),vCe=(e,t,r,n)=>{var s=Fs(e);return s==="horizontal"?Eb(e,"yAxis",r,n):Eb(e,"xAxis",t,n)},yCe=(e,t,r)=>{var n=Fs(e);return n==="horizontal"?aM(e,"xAxis",t):aM(e,"yAxis",r)},bCe=(e,t,r)=>{var n={},s=e.filter(rS),i=e.filter(d=>d.stackId==null),o=s.reduce((d,u)=>(d[u.stackId]||(d[u.stackId]=[]),d[u.stackId].push(u),d),n),l=Object.entries(o).map(d=>{var[u,h]=d,m=h.map(y=>y.dataKey),A=sU(t,r,h[0].barSize);return{stackId:u,dataKeys:m,barSize:A}}),c=i.map(d=>{var u=[d.dataKey].filter(m=>m!=null),h=sU(t,r,d.barSize);return{stackId:void 0,dataKeys:u,barSize:h}});return[...l,...c]},wCe=mr([xCe,n4e,yCe],bCe),NCe=(e,t,r,n,s)=>{var i,o,l=vw(e,t,r,n,s);if(l!=null){var c=Fs(e),d=oq(e),{maxBarSize:u}=l,h=hl(u)?d:u,m,A;return c==="horizontal"?(m=yg(e,"xAxis",t,n),A=vg(e,"xAxis",t,n)):(m=yg(e,"yAxis",r,n),A=vg(e,"yAxis",r,n)),(i=(o=yb(m,A,!0))!==null&&o!==void 0?o:h)!==null&&i!==void 0?i:0}},VG=(e,t,r,n)=>{var s=Fs(e),i,o;return s==="horizontal"?(i=yg(e,"xAxis",t,n),o=vg(e,"xAxis",t,n)):(i=yg(e,"yAxis",r,n),o=vg(e,"yAxis",r,n)),yb(i,o)};function jCe(e,t,r,n,s){var i=n.length;if(!(i<1)){var o=Od(e,r,0,!0),l,c=[];if(nd(n[0].barSize)){var d=!1,u=r/i,h=n.reduce((b,j)=>b+(j.barSize||0),0);h+=(i-1)*o,h>=r&&(h-=(i-1)*o,o=0),h>=r&&u>0&&(d=!0,u*=.9,h=i*u);var m=(r-h)/2>>0,A={offset:m-o,size:0};l=n.reduce((b,j)=>{var E,T={stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:A.offset+A.size+o,size:d?u:(E=j.barSize)!==null&&E!==void 0?E:0}},P=[...b,T];return A=P[P.length-1].position,P},c)}else{var y=Od(t,r,0,!0);r-2*y-(i-1)*o<=0&&(o=0);var x=(r-2*y-(i-1)*o)/i;x>1&&(x>>=0);var v=nd(s)?Math.min(x,s):x;l=n.reduce((b,j,E)=>[...b,{stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:y+(x+o)*E+(x-v)/2,size:v}}],c)}return l}}var SCe=(e,t,r,n,s,i,o)=>{var l=hl(o)?t:o,c=jCe(r,n,s!==i?s:i,e,l);return s!==i&&c!=null&&(c=c.map(d=>W4(W4({},d),{},{position:W4(W4({},d.position),{},{offset:d.position.offset-s/2})}))),c},CCe=mr([wCe,oq,r4e,lq,NCe,VG,pCe],SCe),ECe=(e,t,r,n)=>yg(e,"xAxis",t,n),BCe=(e,t,r,n)=>yg(e,"yAxis",r,n),TCe=(e,t,r,n)=>vg(e,"xAxis",t,n),_Ce=(e,t,r,n)=>vg(e,"yAxis",r,n),FCe=mr([CCe,vw],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),ICe=(e,t)=>{var r=tS(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var s=e[n];if(s){var{stackedData:i}=s;if(i)return i.find(o=>o.key===r)}}}},kCe=mr([vCe,vw],ICe),PCe=mr([nu,e8,ECe,BCe,TCe,_Ce,FCe,Fs,Xj,VG,kCe,vw,gCe],(e,t,r,n,s,i,o,l,c,d,u,h,m)=>{var{chartData:A,dataStartIndex:y,dataEndIndex:x}=c;if(!(h==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||s==null||i==null||d==null)){var{data:v}=h,b;if(v!=null&&v.length>0?b=v:b=A?.slice(y,x+1),b!=null)return lCe({layout:l,barSettings:h,pos:o,parentViewBox:t,bandSize:d,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,stackedData:u,displayedData:b,offset:e,cells:m})}}),KG=e=>{var{chartData:t}=e,r=ml(),n=Hf();return C.useEffect(()=>n?()=>{}:(r(AM(t)),()=>{r(AM(void 0))}),[t,r,n]),null},iU={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},qG=Md({name:"brush",initialState:iU,reducers:{setBrushSettings(e,t){return t.payload==null?iU:t.payload}}}),{setBrushSettings:gMe}=qG.actions,LCe=qG.reducer;function OCe(e,t,r){return(t=DCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DCe(e){var t=MCe(e,"string");return typeof t=="symbol"?t:t+""}function MCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class CF{static create(t){return new CF(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}OCe(CF,"EPS",1e-4);function UCe(e){return(e%180+180)%180}var RCe=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=UCe(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},QCe={dots:[],areas:[],lines:[]},GG=Md({name:"referenceElements",initialState:QCe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=z0(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=z0(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=z0(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:xMe,removeDot:vMe,addArea:yMe,removeArea:bMe,addLine:wMe,removeLine:NMe}=GG.actions,HCe=GG.reducer,$Ce=C.createContext(void 0),zCe=e=>{var{children:t}=e,[r]=C.useState("".concat(vb("recharts"),"-clip")),n=NF();if(n==null)return null;var{x:s,y:i,width:o,height:l}=n;return C.createElement($Ce.Provider,{value:r},C.createElement("defs",null,C.createElement("clipPath",{id:r},C.createElement("rect",{x:s,y:i,height:l,width:o}))),t)};function G6(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function WG(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function VCe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return RCe(n,r)}function KCe(e,t,r){var n=r==="width",{x:s,y:i,width:o,height:l}=e;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function DN(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function qCe(e,t){return WG(e,t+1)}function GCe(e,t,r,n,s){for(var i=(n||[]).slice(),{start:o,end:l}=t,c=0,d=1,u=o,h=function(){var y=n?.[c];if(y===void 0)return{v:WG(n,d)};var x=c,v,b=()=>(v===void 0&&(v=r(y,x)),v),j=y.coordinate,E=c===0||DN(e,j,b,u,l);E||(c=0,u=o,d+=1),E&&(u=j+e*(b()/2+s),c+=d)},m;d<=i.length;)if(m=h(),m)return m.v;return[]}function oU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Td(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oU(Object(r),!0).forEach(function(n){WCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WCe(e,t,r){return(t=YCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YCe(e){var t=XCe(e,"string");return typeof t=="symbol"?t:t+""}function XCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JCe(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:c}=t,d=function(m){var A=i[m],y,x=()=>(y===void 0&&(y=r(A,m)),y);if(m===o-1){var v=e*(A.coordinate+e*x()/2-c);i[m]=A=Td(Td({},A),{},{tickCoord:v>0?A.coordinate-v*e:A.coordinate})}else i[m]=A=Td(Td({},A),{},{tickCoord:A.coordinate});var b=DN(e,A.tickCoord,x,l,c);b&&(c=A.tickCoord-e*(x()/2+s),i[m]=Td(Td({},A),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function ZCe(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,{start:c,end:d}=t;if(i){var u=n[l-1],h=r(u,l-1),m=e*(u.coordinate+e*h/2-d);o[l-1]=u=Td(Td({},u),{},{tickCoord:m>0?u.coordinate-m*e:u.coordinate});var A=DN(e,u.tickCoord,()=>h,c,d);A&&(d=u.tickCoord-e*(h/2+s),o[l-1]=Td(Td({},u),{},{isShow:!0}))}for(var y=i?l-1:l,x=function(j){var E=o[j],T,P=()=>(T===void 0&&(T=r(E,j)),T);if(j===0){var U=e*(E.coordinate-e*P()/2-c);o[j]=E=Td(Td({},E),{},{tickCoord:U<0?E.coordinate-U*e:E.coordinate})}else o[j]=E=Td(Td({},E),{},{tickCoord:E.coordinate});var M=DN(e,E.tickCoord,P,c,d);M&&(c=E.tickCoord+e*(P()/2+s),o[j]=Td(Td({},E),{},{isShow:!0}))},v=0;v<y;v++)x(v);return o}function EF(e,t,r){var{tick:n,ticks:s,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:d,unit:u,angle:h}=e;if(!s||!s.length||!n)return[];if(Fn(c)||A1.isSsr){var m;return(m=qCe(s,Fn(c)?c:0))!==null&&m!==void 0?m:[]}var A=[],y=l==="top"||l==="bottom"?"width":"height",x=u&&y==="width"?K2(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(E,T)=>{var P=typeof d=="function"?d(E.value,T):E.value;return y==="width"?VCe(K2(P,{fontSize:t,letterSpacing:r}),x,h):K2(P,{fontSize:t,letterSpacing:r})[y]},b=s.length>=2?Tu(s[1].coordinate-s[0].coordinate):1,j=KCe(i,b,y);return c==="equidistantPreserveStart"?GCe(b,j,v,s,o):(c==="preserveStart"||c==="preserveStartEnd"?A=ZCe(b,j,v,s,o,c==="preserveStartEnd"):A=JCe(b,j,v,s,o),A.filter(E=>E.isShow))}var e6e=["viewBox"],t6e=["viewBox"];function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gv.apply(null,arguments)}function lU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lU(Object(r),!0).forEach(function(n){BF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cU(e,t){if(e==null)return{};var r,n,s=r6e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function r6e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function BF(e,t,r){return(t=n6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n6e(e){var t=a6e(e,"string");return typeof t=="symbol"?t:t+""}function a6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Lg extends C.Component{constructor(t){super(t),this.tickRefs=C.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,s=cU(t,e6e),i=this.props,{viewBox:o}=i,l=cU(i,t6e);return!G6(n,o)||!G6(s,l)||!G6(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:s,height:i,orientation:o,tickSize:l,mirror:c,tickMargin:d}=this.props,u,h,m,A,y,x,v=c?-1:1,b=t.tickSize||l,j=Fn(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":u=h=t.coordinate,A=n+ +!c*i,m=A-v*b,x=m-v*d,y=j;break;case"left":m=A=t.coordinate,h=r+ +!c*s,u=h-v*b,y=u-v*d,x=j;break;case"right":m=A=t.coordinate,h=r+ +c*s,u=h+v*b,y=u+v*d,x=j;break;default:u=h=t.coordinate,A=n+ +c*i,m=A+v*b,x=m+v*d,y=j;break}return{line:{x1:u,y1:m,x2:h,y2:A},tick:{x:y,y:x}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":return r?"start":"end";case"right":return r?"end":"start";default:return"middle"}}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:s,orientation:i,mirror:o,axisLine:l}=this.props,c=Jc(Jc(Jc({},fl(this.props,!1)),fl(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);c=Jc(Jc({},c),{},{x1:t,y1:r+d*s,x2:t+n,y2:r+d*s})}else{var u=+(i==="left"&&!o||i==="right"&&o);c=Jc(Jc({},c),{},{x1:t+u*n,y1:r,x2:t+u*n,y2:r+s})}return C.createElement("line",gv({},c,{className:cr("recharts-cartesian-axis-line",e1(l,"className"))}))}static renderTickItem(t,r,n){var s,i=cr(r.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(t))s=C.cloneElement(t,Jc(Jc({},r),{},{className:i}));else if(typeof t=="function")s=t(Jc(Jc({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=cr(o,t.className)),s=C.createElement(cS,gv({},r,{className:o}),n)}return s}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:s,stroke:i,tick:o,tickFormatter:l,unit:c,padding:d,tickTextProps:u}=this.props,h=EF(Jc(Jc({},this.props),{},{ticks:n}),t,r),m=this.getTickTextAnchor(),A=this.getTickVerticalAnchor(),y=e0(this.props),x=fl(o,!1),v=Jc(Jc({},y),{},{fill:"none"},fl(s,!1)),b=h.map((j,E)=>{var{line:T,tick:P}=this.getTickLineCoord(j),U=Jc(Jc(Jc(Jc({textAnchor:m,verticalAnchor:A},y),{},{stroke:"none",fill:i},x),P),{},{index:E,payload:j,visibleTicksCount:h.length,tickFormatter:l,padding:d},u);return C.createElement(Mc,gv({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},aw(this.props,j,E)),s&&C.createElement("line",gv({},v,T,{className:cr("recharts-cartesian-axis-tick-line",e1(s,"className"))})),o&&Lg.renderTickItem(o,U,"".concat(typeof l=="function"?l(j.value,E):j.value).concat(c||"")))});return b.length>0?C.createElement("g",{className:"recharts-cartesian-axis-ticks"},b):null}render(){var{axisLine:t,width:r,height:n,className:s,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:C.createElement(Mc,{className:cr("recharts-cartesian-axis",s),ref:l=>{if(l){var c=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var d=c[0];if(d){var u=window.getComputedStyle(d).fontSize,h=window.getComputedStyle(d).letterSpacing;(u!==this.state.fontSize||h!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(d).fontSize,letterSpacing:window.getComputedStyle(d).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),C.createElement(yje,{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height},C.createElement(_je,{label:this.props.label}),this.props.children))}}BF(Lg,"displayName","CartesianAxis");BF(Lg,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var s6e=["x1","y1","x2","y2","key"],i6e=["offset"],o6e=["xAxisId","yAxisId"],l6e=["xAxisId","yAxisId"];function uU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _d(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uU(Object(r),!0).forEach(function(n){c6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c6e(e,t,r){return(t=u6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u6e(e){var t=d6e(e,"string");return typeof t=="symbol"?t:t+""}function d6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cx(){return Cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cx.apply(null,arguments)}function MN(e,t){if(e==null)return{};var r,n,s=f6e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function f6e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var h6e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:i,height:o,ry:l}=e;return C.createElement("rect",{x:n,y:s,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function YG(e,t){var r;if(C.isValidElement(e))r=C.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:s,x2:i,y2:o,key:l}=t,c=MN(t,s6e),d=e0(c),{offset:u}=d,h=MN(d,i6e);r=C.createElement("line",Cx({},h,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function A6e(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=MN(e,o6e),c=s.map((d,u)=>{var h=_d(_d({},l),{},{x1:t,y1:d,x2:t+r,y2:d,key:"line-".concat(u),index:u});return YG(n,h)});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function m6e(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=MN(e,l6e),c=s.map((d,u)=>{var h=_d(_d({},l),{},{x1:d,y1:t,x2:d,y2:t+r,key:"line-".concat(u),index:u});return YG(n,h)});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function p6e(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var d=l.map(h=>Math.round(h+s-s)).sort((h,m)=>h-m);s!==d[0]&&d.unshift(0);var u=d.map((h,m)=>{var A=!d[m+1],y=A?s+o-h:d[m+1]-h;if(y<=0)return null;var x=m%t.length;return C.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:y,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function g6e(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var d=c.map(h=>Math.round(h+s-s)).sort((h,m)=>h-m);s!==d[0]&&d.unshift(0);var u=d.map((h,m)=>{var A=!d[m+1],y=A?s+o-h:d[m+1]-h;if(y<=0)return null;var x=m%r.length;return C.createElement("rect",{key:"react-".concat(m),x:h,y:i,width:y,height:l,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var x6e=(e,t)=>{var{xAxis:r,width:n,height:s,offset:i}=e;return qV(EF(_d(_d(_d({},Lg.defaultProps),r),{},{ticks:GV(r),viewBox:{x:0,y:0,width:n,height:s}})),i.left,i.left+i.width,t)},v6e=(e,t)=>{var{yAxis:r,width:n,height:s,offset:i}=e;return qV(EF(_d(_d(_d({},Lg.defaultProps),r),{},{ticks:GV(r),viewBox:{x:0,y:0,width:n,height:s}})),i.top,i.top+i.height,t)},y6e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function UN(e){var t=r8(),r=n8(),n=ZV(),s=_d(_d({},$f(e,y6e)),{},{x:Fn(e.x)?e.x:n.left,y:Fn(e.y)?e.y:n.top,width:Fn(e.width)?e.width:n.width,height:Fn(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:d,height:u,syncWithTicks:h,horizontalValues:m,verticalValues:A}=s,y=Hf(),x=In(Q=>sM(Q,"xAxis",i,y)),v=In(Q=>sM(Q,"yAxis",o,y));if(!Fn(d)||d<=0||!Fn(u)||u<=0||!Fn(l)||l!==+l||!Fn(c)||c!==+c)return null;var b=s.verticalCoordinatesGenerator||x6e,j=s.horizontalCoordinatesGenerator||v6e,{horizontalPoints:E,verticalPoints:T}=s;if((!E||!E.length)&&typeof j=="function"){var P=m&&m.length,U=j({yAxis:v?_d(_d({},v),{},{ticks:P?m:v.ticks}):void 0,width:t,height:r,offset:n},P?!0:h);z2(Array.isArray(U),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(E=U)}if((!T||!T.length)&&typeof b=="function"){var M=A&&A.length,k=b({xAxis:x?_d(_d({},x),{},{ticks:M?A:x.ticks}):void 0,width:t,height:r,offset:n},M?!0:h);z2(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(T=k)}return C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(h6e,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),C.createElement(p6e,Cx({},s,{horizontalPoints:E})),C.createElement(g6e,Cx({},s,{verticalPoints:T})),C.createElement(A6e,Cx({},s,{offset:n,horizontalPoints:E,xAxis:x,yAxis:v})),C.createElement(m6e,Cx({},s,{offset:n,verticalPoints:T,xAxis:x,yAxis:v})))}UN.displayName="CartesianGrid";var XG=(e,t,r,n)=>yg(e,"xAxis",t,n),JG=(e,t,r,n)=>vg(e,"xAxis",t,n),ZG=(e,t,r,n)=>yg(e,"yAxis",r,n),eW=(e,t,r,n)=>vg(e,"yAxis",r,n),b6e=mr([Fs,XG,ZG,JG,eW],(e,t,r,n,s)=>lp(e,"xAxis")?yb(t,n,!1):yb(r,s,!1)),w6e=(e,t,r,n,s)=>s,tW=mr([nS,w6e],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),N6e=(e,t,r,n,s)=>{var i,o=tW(e,t,r,n,s);if(o!=null){var l=Fs(e),c=lp(l,"xAxis"),d;if(c?d=Eb(e,"yAxis",r,n):d=Eb(e,"xAxis",t,n),d!=null){var{stackId:u}=o,h=tS(o);if(!(u==null||h==null)){var m=(i=d[u])===null||i===void 0?void 0:i.stackedData;return m?.find(A=>A.key===h)}}}},j6e=mr([Fs,XG,ZG,JG,eW,N6e,Xj,b6e,tW],(e,t,r,n,s,i,o,l,c)=>{var{chartData:d,dataStartIndex:u,dataEndIndex:h}=o;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||s==null||n.length===0||s.length===0||l==null)){var{data:m}=c,A;if(m&&m.length>0?A=m:A=d?.slice(u,h+1),A!=null){var y=void 0;return V6e({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataStartIndex:u,areaSettings:c,stackedData:i,displayedData:A,chartBaseValue:y,bandSize:l})}}}),S6e=["id"],C6e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function rW(e,t){if(e==null)return{};var r,n,s=E6e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function E6e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function U0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dU(Object(r),!0).forEach(function(n){B6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B6e(e,t,r){return(t=T6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T6e(e){var t=_6e(e,"string");return typeof t=="symbol"?t:t+""}function _6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K0(){return K0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K0.apply(null,arguments)}function RN(e,t){return e&&e!=="none"?e:t}var F6e=e=>{var{dataKey:t,name:r,stroke:n,fill:s,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:RN(n,s),value:my(r,t),payload:e}]};function I6e(e){var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:my(o,t),hide:l,type:e.tooltipType,color:RN(n,i),unit:c}}}var k6e=(e,t)=>{var r;if(C.isValidElement(e))r=C.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=cr("recharts-area-dot",typeof e!="boolean"?e.className:"");r=C.createElement(FG,K0({},t,{className:n}))}return r};function P6e(e,t){return e==null?!1:t?!0:e.length===1}function L6e(e){var{clipPathId:t,points:r,props:n}=e,{needClip:s,dot:i,dataKey:o}=n;if(!P6e(r,i))return null;var l=fV(i),c=e0(n),d=fl(i,!0),u=r.map((m,A)=>{var y=U0(U0(U0({key:"dot-".concat(A),r:3},c),d),{},{index:A,cx:m.x,cy:m.y,dataKey:o,value:m.value,payload:m.payload,points:r});return k6e(i,y)}),h={clipPath:s?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return C.createElement(Mc,K0({className:"recharts-area-dots"},h),u)}function O6e(e){var{showLabels:t,children:r,points:n}=e,s=n.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return U0(U0({},o),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return C.createElement(TG,{value:t?s:null},r)}function fU(e){var{points:t,baseLine:r,needClip:n,clipPathId:s,props:i}=e,{layout:o,type:l,stroke:c,connectNulls:d,isRange:u}=i,{id:h}=i,m=rW(i,S6e),A=e0(m);return C.createElement(C.Fragment,null,t?.length>1&&C.createElement(Mc,{clipPath:n?"url(#clipPath-".concat(s,")"):void 0},C.createElement(H2,K0({},A,{id:h,points:t,connectNulls:d,type:l,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),c!=="none"&&C.createElement(H2,K0({},A,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:t})),c!=="none"&&u&&C.createElement(H2,K0({},A,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:r}))),C.createElement(L6e,{points:t,props:m,clipPathId:s}))}function D6e(e){var{alpha:t,baseLine:r,points:n,strokeWidth:s}=e,i=n[0].y,o=n[n.length-1].y;if(!nd(i)||!nd(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(d=>d.x||0));return Fn(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(d=>d.x||0),c)),Fn(c)?C.createElement("rect",{x:0,y:i<o?i:i-l,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(l)}):null}function M6e(e){var{alpha:t,baseLine:r,points:n,strokeWidth:s}=e,i=n[0].x,o=n[n.length-1].x;if(!nd(i)||!nd(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(d=>d.y||0));return Fn(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(d=>d.y||0),c)),Fn(c)?C.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}function U6e(e){var{alpha:t,layout:r,points:n,baseLine:s,strokeWidth:i}=e;return r==="vertical"?C.createElement(D6e,{alpha:t,points:n,baseLine:s,strokeWidth:i}):C.createElement(M6e,{alpha:t,points:n,baseLine:s,strokeWidth:i})}function R6e(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:s,previousBaselineRef:i}=e,{points:o,baseLine:l,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:h,onAnimationStart:m,onAnimationEnd:A}=n,y=ow(n,"recharts-area-"),[x,v]=C.useState(!1),b=!x,j=C.useCallback(()=>{typeof A=="function"&&A(),v(!1)},[A]),E=C.useCallback(()=>{typeof m=="function"&&m(),v(!0)},[m]),T=s.current,P=i.current;return C.createElement(O6e,{showLabels:b,points:o},n.children,C.createElement(iw,{animationId:y,begin:d,duration:u,isActive:c,easing:h,onAnimationEnd:j,onAnimationStart:E,key:y},U=>{if(T){var M=T.length/o.length,k=U===1?o:o.map((z,O)=>{var L=Math.floor(O*M);if(T[L]){var V=T[L];return U0(U0({},z),{},{x:ul(V.x,z.x,U),y:ul(V.y,z.y,U)})}return z}),Q;return Fn(l)?Q=ul(P,l,U):hl(l)||Uf(l)?Q=ul(P,0,U):Q=l.map((z,O)=>{var L=Math.floor(O*M);if(Array.isArray(P)&&P[L]){var V=P[L];return U0(U0({},z),{},{x:ul(V.x,z.x,U),y:ul(V.y,z.y,U)})}return z}),U>0&&(s.current=k,i.current=Q),C.createElement(fU,{points:k,baseLine:Q,needClip:t,clipPathId:r,props:n})}return U>0&&(s.current=o,i.current=l),C.createElement(Mc,null,c&&C.createElement("defs",null,C.createElement("clipPath",{id:"animationClipPath-".concat(r)},C.createElement(U6e,{alpha:U,points:o,baseLine:l,layout:n.layout,strokeWidth:n.strokeWidth}))),C.createElement(Mc,{clipPath:"url(#animationClipPath-".concat(r,")")},C.createElement(fU,{points:o,baseLine:l,needClip:t,clipPathId:r,props:n})))}),C.createElement(dF,{label:n.label}))}function Q6e(e){var{needClip:t,clipPathId:r,props:n}=e,s=C.useRef(null),i=C.useRef();return C.createElement(R6e,{needClip:t,clipPathId:r,props:n,previousPointsRef:s,previousBaselineRef:i})}class H6e extends C.PureComponent{render(){var t,{hide:r,dot:n,points:s,className:i,top:o,left:l,needClip:c,xAxisId:d,yAxisId:u,width:h,height:m,id:A,baseLine:y}=this.props;if(r)return null;var x=cr("recharts-area",i),v=A,{r:b=3,strokeWidth:j=2}=(t=fl(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},E=fV(n),T=b*2+j;return C.createElement(C.Fragment,null,C.createElement(Mc,{className:x},c&&C.createElement("defs",null,C.createElement($G,{clipPathId:v,xAxisId:d,yAxisId:u}),!E&&C.createElement("clipPath",{id:"clipPath-dots-".concat(v)},C.createElement("rect",{x:l-T/2,y:o-T/2,width:h+T,height:m+T}))),C.createElement(Q6e,{needClip:c,clipPathId:v,props:this.props})),C.createElement(tU,{points:s,mainColor:RN(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(y)&&C.createElement(tU,{points:y,mainColor:RN(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var nW={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!A1.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function $6e(e){var t,r=$f(e,nW),{activeDot:n,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,fill:d,fillOpacity:u,hide:h,isAnimationActive:m,legendType:A,stroke:y,xAxisId:x,yAxisId:v}=r,b=rW(r,C6e),j=zj(),E=dG(),{needClip:T}=SF(x,v),P=Hf(),{points:U,isRange:M,baseLine:k}=(t=In(J=>j6e(J,x,v,P,e.id)))!==null&&t!==void 0?t:{},Q=NF();if(j!=="horizontal"&&j!=="vertical"||Q==null||E!=="AreaChart"&&E!=="ComposedChart")return null;var{height:z,width:O,x:L,y:V}=Q;return!U||!U.length?null:C.createElement(H6e,K0({},b,{activeDot:n,animationBegin:s,animationDuration:i,animationEasing:o,baseLine:k,connectNulls:l,dot:c,fill:d,fillOpacity:u,height:z,hide:h,layout:j,isAnimationActive:m,isRange:M,legendType:A,needClip:T,points:U,stroke:y,width:O,left:L,top:V,xAxisId:x,yAxisId:v}))}var z6e=(e,t,r,n,s)=>{var i=r??t;if(Fn(i))return i;var o=e==="horizontal"?s:n,l=o.scale.domain();if(o.type==="number"){var c=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return i==="dataMin"?d:i==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function V6e(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:s,layout:i,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:d,dataStartIndex:u,xAxisTicks:h,yAxisTicks:m,bandSize:A}=e,y=s&&s.length,x=z6e(i,o,r,l,c),v=i==="horizontal",b=!1,j=d.map((T,P)=>{var U;y?U=s[u+P]:(U=Ao(T,n),Array.isArray(U)?b=!0:U=[x,U]);var M=U[1]==null||y&&!t&&Ao(T,n)==null;return v?{x:RO({axis:l,ticks:h,bandSize:A,entry:T,index:P}),y:M?null:c.scale(U[1]),value:U,payload:T}:{x:M?null:l.scale(U[1]),y:RO({axis:c,ticks:m,bandSize:A,entry:T,index:P}),value:U,payload:T}}),E;return y||b?E=j.map(T=>{var P=Array.isArray(T.value)?T.value[0]:null;return v?{x:T.x,y:P!=null&&T.y!=null?c.scale(P):null,payload:T.payload}:{x:P!=null?l.scale(P):null,y:T.y,payload:T.payload}}):E=v?c.scale(x):l.scale(x),{points:j,baseLine:E,isRange:b}}function QN(e){var t=$f(e,nW),r=Hf();return C.createElement(yF,{id:t.id,type:"area"},n=>C.createElement(C.Fragment,null,C.createElement(MG,{legendPayload:F6e(t)}),C.createElement(vF,{fn:I6e,args:t}),C.createElement(RG,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:WV(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),C.createElement($6e,K0({},t,{id:n}))))}QN.displayName="Area";var K6e=["children"],q6e=["dangerouslySetInnerHTML","ticks"],G6e=["id"];function aW(e,t,r){return(t=W6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W6e(e){var t=Y6e(e,"string");return typeof t=="symbol"?t:t+""}function Y6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eT(){return eT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eT.apply(null,arguments)}function tT(e,t){if(e==null)return{};var r,n,s=X6e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function X6e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function J6e(e){var t=ml(),r=C.useMemo(()=>{var{children:n}=e,s=tT(e,K6e);return s},[e]);return C.useEffect(()=>(t(u3e(r)),()=>{t(d3e(r))}),[r,t]),e.children}var Z6e=e=>{var{xAxisId:t,className:r}=e,n=In(e8),s=Hf(),i="xAxis",o=In(v=>wy(v,i,t,s)),l=In(v=>zq(v,i,t,s)),c=In(v=>Rq(v,t)),d=In(v=>q4e(v,t)),u=In(v=>gq(v,t));if(c==null||d==null||u==null)return null;var{dangerouslySetInnerHTML:h,ticks:m}=e,A=tT(e,q6e),{id:y}=u,x=tT(u,G6e);return C.createElement(Lg,eT({},A,x,{scale:o,x:d.x,y:d.y,width:c.width,height:c.height,className:cr("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l}))},eEe=e=>{var t,r,n,s,i;return C.createElement(J6e,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},C.createElement(Z6e,e))};class Tb extends C.Component{render(){return C.createElement(eEe,this.props)}}aW(Tb,"displayName","XAxis");aW(Tb,"defaultProps",{allowDataOverflow:Ah.allowDataOverflow,allowDecimals:Ah.allowDecimals,allowDuplicatedCategory:Ah.allowDuplicatedCategory,height:Ah.height,hide:!1,mirror:Ah.mirror,orientation:Ah.orientation,padding:Ah.padding,reversed:Ah.reversed,scale:Ah.scale,tickCount:Ah.tickCount,type:Ah.type,xAxisId:0});var tEe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(u=>{if(u){var h=u.getBoundingClientRect();h.width>o&&(o=h.width)}});var l=r?r.getBoundingClientRect().width:0,c=s+i,d=o+c+l+(r?n:0);return Math.round(d)}return 0},rEe=["dangerouslySetInnerHTML","ticks"],nEe=["id"];function sW(e,t,r){return(t=aEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aEe(e){var t=sEe(e,"string");return typeof t=="symbol"?t:t+""}function sEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rT(){return rT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rT.apply(null,arguments)}function hU(e,t){if(e==null)return{};var r,n,s=iEe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function iEe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oEe(e){var t=ml();return C.useEffect(()=>(t(f3e(e)),()=>{t(h3e(e))}),[e,t]),null}var lEe=e=>{var t,{yAxisId:r,className:n,width:s,label:i}=e,o=C.useRef(null),l=C.useRef(null),c=In(e8),d=Hf(),u=ml(),h="yAxis",m=In(U=>wy(U,h,r,d)),A=In(U=>Qq(U,r)),y=In(U=>G4e(U,r)),x=In(U=>zq(U,h,r,d)),v=In(U=>xq(U,r));if(C.useLayoutEffect(()=>{var U;if(!(s!=="auto"||!A||uF(i)||C.isValidElement(i)||v==null)){var M=o.current,k=M==null||(U=M.tickRefs)===null||U===void 0?void 0:U.current,{tickSize:Q,tickMargin:z}=M.props,O=tEe({ticks:k,label:l.current,labelGapWithTick:5,tickSize:Q,tickMargin:z});Math.round(A.width)!==Math.round(O)&&u(A3e({id:r,width:O}))}},[o,o==null||(t=o.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,A?.width,A,u,i,r,s]),A==null||y==null||v==null)return null;var{dangerouslySetInnerHTML:b,ticks:j}=e,E=hU(e,rEe),{id:T}=v,P=hU(v,nEe);return C.createElement(Lg,rT({},E,P,{ref:o,labelRef:l,scale:m,x:y.x,y:y.y,tickTextProps:s==="auto"?{width:void 0}:{width:s},width:A.width,height:A.height,className:cr("recharts-".concat(h," ").concat(h),n),viewBox:c,ticks:x}))},cEe=e=>{var t,r,n,s,i;return C.createElement(C.Fragment,null,C.createElement(oEe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),C.createElement(lEe,e))},uEe={allowDataOverflow:mh.allowDataOverflow,allowDecimals:mh.allowDecimals,allowDuplicatedCategory:mh.allowDuplicatedCategory,hide:!1,mirror:mh.mirror,orientation:mh.orientation,padding:mh.padding,reversed:mh.reversed,scale:mh.scale,tickCount:mh.tickCount,type:mh.type,width:mh.width,yAxisId:0};class _b extends C.Component{render(){return C.createElement(cEe,this.props)}}sW(_b,"displayName","YAxis");sW(_b,"defaultProps",uEe);var dEe=(e,t)=>t,TF=mr([dEe,Fs,Aq,su,sG,fp,J5e,nu],nNe),_F=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},iW=uf("mouseClick"),oW=tw();oW.startListening({actionCreator:iW,effect:(e,t)=>{var r=e.payload,n=TF(t.getState(),_F(r));n?.activeIndex!=null&&t.dispatch(o5e({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var nT=uf("mouseMove"),lW=tw();lW.startListening({actionCreator:nT,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=eF(n,n.tooltip.settings.shared),i=TF(n,_F(r));s==="axis"&&(i?.activeIndex!=null?t.dispatch(Jq({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(Xq()))}});function fEe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var AU={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},cW=Md({name:"rootProps",initialState:AU,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:AU.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),hEe=cW.reducer,{updateOptions:AEe}=cW.actions,uW=Md({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:mEe}=uW.actions,pEe=uW.reducer,dW=uf("keyDown"),fW=uf("focus"),FF=tw();FF.startListening({actionCreator:dW,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(tF(s,jy(r))),l=fp(r);if(i==="Enter"){var c=IN(r,"axis","hover",String(s.index));t.dispatch(qB({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:c}));return}var d=J4e(r),u=d==="left-to-right"?1:-1,h=i==="ArrowRight"?1:-1,m=o+h*u;if(!(l==null||m>=l.length||m<0)){var A=IN(r,"axis","hover",String(m));t.dispatch(qB({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:A}))}}}}});FF.startListening({actionCreator:fW,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var i="0",o=IN(r,"axis","hover",String(i));t.dispatch(qB({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var tA=uf("externalEvent"),hW=tw();hW.startListening({actionCreator:tA,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:$5e(r),activeDataKey:cG(r),activeIndex:bg(r),activeLabel:lG(r),activeTooltipIndex:bg(r),isTooltipActive:z5e(r)};e.payload.handler(n,e.payload.reactEvent)}}});var gEe=mr([Ny],e=>e.tooltipItemPayloads),xEe=mr([gEe,gw,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(l=>l.settings.dataKey===n);if(s!=null){var{positions:i}=s;if(i!=null){var o=t(i,r);return o}}}),AW=uf("touchMove"),mW=tw();mW.startListening({actionCreator:AW,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=eF(n,n.tooltip.settings.shared);if(s==="axis"){var i=TF(n,_F({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));i?.activeIndex!=null&&t.dispatch(Jq({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var o,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(XV),u=(o=c.getAttribute(JV))!==null&&o!==void 0?o:void 0,h=xEe(t.getState(),d,u);t.dispatch(Yq({activeDataKey:u,activeIndex:d,activeCoordinate:h}))}}});var vEe=o$({brush:LCe,cartesianAxis:m3e,chartData:vNe,errorBars:P3e,graphicalItems:PSe,layout:rve,legend:Vve,options:ANe,polarAxis:Xje,polarOptions:pEe,referenceElements:HCe,rootProps:hEe,tooltip:l5e}),yEe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return v$({reducer:vEe,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([oW.middleware,lW.middleware,FF.middleware,hW.middleware,mW.middleware]),devTools:!!window.RECHARTS_DEV_TOOLS_ENABLED&&{serialize:{replacer:fEe},name:"recharts-".concat(r)}})};function pW(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=Hf(),i=C.useRef(null);if(s)return r;i.current==null&&(i.current=yEe(t,n));var o=Z_;return C.createElement(r$,{context:o,store:i.current},r)}function gW(e){var{layout:t,width:r,height:n,margin:s}=e,i=ml(),o=Hf();return C.useEffect(()=>{o||(i(Z1e(t)),i(eve({width:r,height:n})),i(J1e(s)))},[i,o,t,r,n,s]),null}function xW(e){var t=ml();return C.useEffect(()=>{t(AEe(e))},[t,e]),null}var bEe=["children"];function wEe(e,t){if(e==null)return{};var r,n,s=NEe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function NEe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function HN(){return HN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HN.apply(null,arguments)}var jEe={width:"100%",height:"100%"},SEe=C.forwardRef((e,t)=>{var r=r8(),n=n8(),s=nK();if(!Gv(r)||!Gv(n))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,d,u;return typeof o.tabIndex=="number"?d=o.tabIndex:d=s?0:void 0,typeof o.role=="string"?u=o.role:u=s?"application":void 0,C.createElement(z_,HN({},o,{title:l,desc:c,role:u,tabIndex:d,width:r,height:n,style:jEe,ref:t}),i)}),CEe=e=>{var{children:t}=e,r=In($j);if(!r)return null;var{width:n,height:s,y:i,x:o}=r;return C.createElement(z_,{width:n,height:s,x:o,y:i},t)},mU=C.forwardRef((e,t)=>{var{children:r}=e,n=wEe(e,bEe),s=Hf();return s?C.createElement(CEe,null,r):C.createElement(SEe,HN({ref:t},n),r)});function EEe(){var e=ml(),[t,r]=C.useState(null),n=In(_ve);return C.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;nd(i)&&i!==n&&e(tve(i))}},[t,e,n]),r}function pU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function BEe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pU(Object(r),!0).forEach(function(n){TEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TEe(e,t,r){return(t=_Ee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Ee(e){var t=FEe(e,"string");return typeof t=="symbol"?t:t+""}function FEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IEe=C.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:h,onMouseUp:m,onTouchEnd:A,onTouchMove:y,onTouchStart:x,style:v,width:b}=e,j=ml(),[E,T]=C.useState(null),[P,U]=C.useState(null);BNe();var M=EEe(),k=C.useCallback(B=>{M(B),typeof t=="function"&&t(B),T(B),U(B)},[M,t,T,U]),Q=C.useCallback(B=>{j(iW(B)),j(tA({handler:i,reactEvent:B}))},[j,i]),z=C.useCallback(B=>{j(nT(B)),j(tA({handler:d,reactEvent:B}))},[j,d]),O=C.useCallback(B=>{j(Xq()),j(tA({handler:u,reactEvent:B}))},[j,u]),L=C.useCallback(B=>{j(nT(B)),j(tA({handler:h,reactEvent:B}))},[j,h]),V=C.useCallback(()=>{j(fW())},[j]),J=C.useCallback(B=>{j(dW(B.key))},[j]),ce=C.useCallback(B=>{j(tA({handler:o,reactEvent:B}))},[j,o]),ee=C.useCallback(B=>{j(tA({handler:l,reactEvent:B}))},[j,l]),de=C.useCallback(B=>{j(tA({handler:c,reactEvent:B}))},[j,c]),se=C.useCallback(B=>{j(tA({handler:m,reactEvent:B}))},[j,m]),he=C.useCallback(B=>{j(tA({handler:x,reactEvent:B}))},[j,x]),fe=C.useCallback(B=>{j(AW(B)),j(tA({handler:y,reactEvent:B}))},[j,y]),ve=C.useCallback(B=>{j(tA({handler:A,reactEvent:B}))},[j,A]);return C.createElement(pG.Provider,{value:E},C.createElement(hV.Provider,{value:P},C.createElement("div",{className:cr("recharts-wrapper",n),style:BEe({position:"relative",cursor:"default",width:b,height:s},v),onClick:Q,onContextMenu:ce,onDoubleClick:ee,onFocus:V,onKeyDown:J,onMouseDown:de,onMouseEnter:z,onMouseLeave:O,onMouseMove:L,onMouseUp:se,onTouchEnd:ve,onTouchMove:fe,onTouchStart:he,ref:k},r)))}),kEe=["children","className","width","height","style","compact","title","desc"];function PEe(e,t){if(e==null)return{};var r,n,s=LEe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function LEe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vW=C.forwardRef((e,t)=>{var{children:r,className:n,width:s,height:i,style:o,compact:l,title:c,desc:d}=e,u=PEe(e,kEe),h=e0(u);return l?C.createElement(mU,{otherAttributes:h,title:c,desc:d},r):C.createElement(IEe,{className:n,style:o,width:s,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},C.createElement(mU,{otherAttributes:h,title:c,desc:d,ref:t},C.createElement(zCe,null,r)))}),OEe=["width","height"];function aT(){return aT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aT.apply(null,arguments)}function DEe(e,t){if(e==null)return{};var r,n,s=MEe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function MEe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var UEe={top:5,right:5,bottom:5,left:5},REe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:UEe,reverseStackOrder:!1,syncMethod:"index"},yW=C.forwardRef(function(t,r){var n,s=$f(t.categoricalChartProps,REe),{width:i,height:o}=s,l=DEe(s,OEe);if(!Gv(i)||!Gv(o))return null;var{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:h,categoricalChartProps:m}=t,A={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:h,eventEmitter:void 0};return C.createElement(pW,{preloadedState:{options:A},reduxStoreName:(n=m.id)!==null&&n!==void 0?n:c},C.createElement(KG,{chartData:m.data}),C.createElement(gW,{width:i,height:o,layout:s.layout,margin:s.margin}),C.createElement(xW,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),C.createElement(vW,aT({},l,{width:i,height:o,ref:r})))}),QEe=["axis","item"],HEe=C.forwardRef((e,t)=>C.createElement(yW,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:QEe,tooltipPayloadSearcher:cF,categoricalChartProps:e,ref:t}));function $Ee(e){var t=ml();return C.useEffect(()=>{t(mEe(e))},[t,e]),null}var zEe=["width","height","layout"];function sT(){return sT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sT.apply(null,arguments)}function VEe(e,t){if(e==null)return{};var r,n,s=KEe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function KEe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qEe={top:5,right:5,bottom:5,left:5},GEe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:qEe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},WEe=C.forwardRef(function(t,r){var n,s=$f(t.categoricalChartProps,GEe),{width:i,height:o,layout:l}=s,c=VEe(s,zEe);if(!Gv(i)||!Gv(o))return null;var{chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:h,tooltipPayloadSearcher:m}=t,A={chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:h,tooltipPayloadSearcher:m,eventEmitter:void 0};return C.createElement(pW,{preloadedState:{options:A},reduxStoreName:(n=s.id)!==null&&n!==void 0?n:d},C.createElement(KG,{chartData:s.data}),C.createElement(gW,{width:i,height:o,layout:l,margin:s.margin}),C.createElement(xW,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),C.createElement($Ee,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),C.createElement(vW,sT({width:i,height:o},c,{ref:r})))}),YEe=["item"],XEe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},bW=C.forwardRef((e,t)=>{var r=$f(e,XEe);return C.createElement(WEe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:YEe,tooltipPayloadSearcher:cF,categoricalChartProps:r,ref:t})}),JEe=["axis"],wW=C.forwardRef((e,t)=>C.createElement(yW,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:JEe,tooltipPayloadSearcher:cF,categoricalChartProps:e,ref:t}));const p2="https://vidyaastra.com/api",ZEe=()=>{const[e,t]=C.useState(!0),[r,n]=C.useState(null),[s,i]=C.useState(!1),[o,l]=C.useState({stats:{totalStudents:0,totalAssignments:0,totalTeachers:0},monthlyData:[],classDistribution:[],subjectPerformance:[],recentActivities:[]}),c=E=>{switch(E){case"student":return a.jsx(Ra,{className:"w-4 h-4 text-blue-600"});case"assignment":return a.jsx(Ff,{className:"w-4 h-4 text-green-600"});case"teacher":return a.jsx(no,{className:"w-4 h-4 text-red-600"});default:return a.jsx(Jn,{className:"w-4 h-4 text-gray-600"})}},d=async(E=!1)=>{E?i(!0):t(!0),n(null);const T=localStorage.getItem("adminToken")||localStorage.getItem("token"),P=localStorage.getItem("schoolId");console.log("Dashboard fetch - Token:",!!T,"SchoolId:",P);const U=T?{Authorization:`Bearer ${T}`}:{};try{const M=P?`${p2}/students/school/${P}`:`${p2}/students/${P}`,k=P?`https://vidyaastra.com/api/teacher/${P}`:`${p2}/teachers`;console.log("Fetching from URLs:",{studentsUrl:M,teachersUrl:k});const[Q,z]=await Promise.all([sr.get(M,{headers:U}),sr.get(k,{headers:U})]);console.log("API Responses:",{students:Q.data,teachers:z.data});const O=Q.data,L=z.data,V=O?.data||O||[],J=L?.data||L||[];console.log(`Loaded ${V.length} students and ${J.length} teachers`);const ce=[];for(const pe of V)try{const Z=P?`${p2}/assignments?studentId=${pe._id}&schoolId=${P}`:`${p2}/assignments?studentId=${pe._id}`,le=await sr.get(Z,{headers:U});if(le.data?.success&&le.data?.data){const te=le.data.data.map(Ne=>{const Fe=be=>{if(be.classId?.className){let re=be.classId.className;return be.classId.section&&(re+=` ${be.classId.section}`),re}else if(be.className){let re=be.className;return be.section&&be.section!=="N/A"&&(re+=` ${be.section}`),re}else if(be.class)return be.class;return"Unknown"};return{...Ne,id:Ne._id,studentName:pe.name,rollNo:pe.rollNumber||pe.rollNo,class:Fe(pe),priority:(Ne.priority||"MEDIUM").toUpperCase(),dueDate:Ne.dueDate?Ne.dueDate.split("T")[0]:new Date().toISOString().split("T")[0],createdAt:Ne.createdAt||new Date().toISOString()}});ce.push(...te)}}catch(Z){console.warn(`Could not fetch assignments for student ${pe._id}:`,Z.message)}console.log(`Loaded ${ce.length} assignments`);const ee=V.length,de=J.length,se=ce.length,he=new Map;for(let pe=5;pe>=0;pe--){const Z=new Date;Z.setMonth(Z.getMonth()-pe);const le=Z.toLocaleString("en-US",{month:"short",year:"numeric"});he.set(le,{month:Z.toLocaleString("en-US",{month:"short"}),students:0,assignments:0})}V.forEach(pe=>{if(pe.createdAt){const Z=new Date(pe.createdAt).toLocaleString("en-US",{month:"short",year:"numeric"});he.has(Z)&&(he.get(Z).students+=1)}}),ce.forEach(pe=>{if(pe.createdAt){const Z=new Date(pe.createdAt).toLocaleString("en-US",{month:"short",year:"numeric"});he.has(Z)&&(he.get(Z).assignments+=1)}});const fe=Array.from(he.values()).sort((pe,Z)=>{const le=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return le.indexOf(pe.month)-le.indexOf(Z.month)}),ve=new Map;V.forEach(pe=>{const Z=pe.classId?.name||pe.class||"Unknown Class";ve.set(Z,(ve.get(Z)||0)+1)});const B=Array.from(ve.entries()).map(([pe,Z],le)=>({name:pe,value:Z,color:["#3B82F6","#10B981","#F59E0B","#EF4444","#6B7280","#8B5CF6"][le%6]})),R=new Map;ce.forEach(pe=>{const Z=pe.subject||"Unknown Subject";R.has(Z)||R.set(Z,{subject:Z,assignments:0,completed:0,pending:0});const le=R.get(Z);le.assignments+=1,pe.status==="submitted"||pe.status==="graded"?le.completed+=1:le.pending+=1});const Y=Array.from(R.values()),ie=[],ge=pe=>{if(pe.classId?.className){let Z=pe.classId.className;return pe.classId.section&&(Z+=` ${pe.classId.section}`),Z}else if(pe.className){let Z=pe.className;return pe.section&&pe.section!=="N/A"&&(Z+=` ${pe.section}`),Z}else if(pe.class)return pe.class;return"Unknown"};V.forEach(pe=>{pe.name==="Kiran"&&console.log("Student Kiran data:",{classId:pe.classId,className:pe.className,section:pe.section,class:pe.class,fullObject:pe}),ie.push({id:pe._id,type:"student",message:`New student ${pe.name} enrolled in Class ${ge(pe)}`,time:pe.createdAt||new Date().toISOString()})}),J.forEach(pe=>{let Z="Unknown";if(pe.subject)Z=pe.subject;else if(pe.subjects&&pe.subjects.length>0)Z=pe.subjects.length===1?pe.subjects[0]:`${pe.subjects[0]} (+${pe.subjects.length-1} more)`;else if(pe.classSubjects&&pe.classSubjects.length>0){const le=pe.classSubjects.flatMap(Ne=>Ne.subjects||[]),te=[...new Set(le)];te.length>0&&(Z=te.length===1?te[0]:`${te[0]} (+${te.length-1} more)`)}pe.name==="Demo Teachers"&&console.log("Teacher Demo Teachers data:",{subject:pe.subject,subjects:pe.subjects,classSubjects:pe.classSubjects,calculatedDepartment:Z,fullObject:pe}),ie.push({id:pe._id,type:"teacher",message:`New teacher ${pe.name} joined ${Z} department`,time:pe.createdAt||new Date().toISOString()})}),ce.forEach(pe=>ie.push({id:pe._id,type:"assignment",message:`${pe.subject||"Unknown"} assignment "${pe.title||"Untitled"}" ${pe.status||"created"} by ${pe.studentName}`,time:pe.createdAt||new Date().toISOString()}));const ye=ie.sort((pe,Z)=>new Date(Z.time).getTime()-new Date(pe.time).getTime()).slice(0,5);l({stats:{totalStudents:ee,totalAssignments:se,totalTeachers:de},monthlyData:fe,classDistribution:B,subjectPerformance:Y,recentActivities:ye}),console.log("Dashboard data updated successfully")}catch(M){console.error("Failed to fetch dashboard data:",M);let k="Failed to load dashboard data.";if(sr.isAxiosError(M))if(M.response){const Q=M.response.status,z=M.response.data?.message;Q===401?(k="Session expired. Please login again.",localStorage.removeItem("adminToken"),localStorage.removeItem("token"),localStorage.removeItem("schoolId"),setTimeout(()=>{window.location.href="/login"},2e3)):Q===403?k="Access denied. Please check your permissions.":Q===404?k="Data not found. Please contact support.":Q>=500?k="Server error. Please try again later.":k=z||`Error: ${Q}`}else M.request?k="Network error. Please check your internet connection and try again.":k=`Request error: ${M.message}`;else k=`Unexpected error: ${M.message}`;n(k)}finally{t(!1),i(!1)}},u=()=>{d(!0)},h=()=>{n(null),d()};C.useEffect(()=>{d()},[]);const{stats:m,monthlyData:A,classDistribution:y,subjectPerformance:x,recentActivities:v}=o;if(e)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(an,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Loading dashboard data..."}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please wait while we fetch your school's information"})]})});if(r)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:a.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ga,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Oops! Something went wrong"}),a.jsx("p",{className:"text-gray-600 mb-6",children:r}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:h,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Try Again"}),a.jsx("button",{onClick:()=>n(null),className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Dismiss"})]})]})})});const b=localStorage.getItem("color")||"#3B82F6",j=localStorage.getItem("schoolName")||"School";return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:cr("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:b},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold",children:[j," Dashboard"]}),a.jsx("p",{className:"text-blue-100 mt-2",children:"Welcome back! Here's what's happening at your school today."})]}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:u,disabled:s,className:"bg-white/20 hover:bg-white/30 text-white p-2 rounded-lg transition-colors disabled:opacity-50",title:"Refresh Data",children:a.jsx(ug,{className:`w-5 h-5 ${s?"animate-spin":""}`})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-100",children:"Today"}),a.jsx("p",{className:"text-xl font-semibold",children:new Date().toLocaleDateString("en-IN")})]})]})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.totalStudents.toLocaleString()}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(tg,{className:"w-4 h-4 text-green-500 mr-1"}),a.jsx("span",{className:"text-sm text-green-600",children:"Active students"})]})]}),a.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:a.jsx(Ra,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Assignments"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.totalAssignments}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(tg,{className:"w-4 h-4 text-green-500 mr-1"}),a.jsx("span",{className:"text-sm text-green-600",children:"All assignments"})]})]}),a.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:a.jsx(Ff,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Teachers"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.totalTeachers}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(tg,{className:"w-4 h-4 text-green-500 mr-1"}),a.jsx("span",{className:"text-sm text-green-600",children:"Active teachers"})]})]}),a.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:a.jsx(no,{className:"w-6 h-6 text-purple-600"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-6",children:"Monthly Overview"}),A.length>0?a.jsx(V2,{width:"100%",height:300,children:a.jsxs(wW,{data:A,margin:{top:10,right:30,left:0,bottom:0},children:[a.jsx(UN,{strokeDasharray:"3 3"}),a.jsx(Tb,{dataKey:"month"}),a.jsx(_b,{}),a.jsx($2,{}),a.jsx(Ux,{}),a.jsx(QN,{type:"monotone",dataKey:"students",stroke:"#8884d8",fill:"#8884d8",name:"Students"}),a.jsx(QN,{type:"monotone",dataKey:"assignments",stroke:"#82ca9d",fill:"#82ca9d",name:"Assignments"})]})}):a.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Jn,{className:"w-12 h-12 mx-auto mb-3"}),a.jsx("p",{children:"No monthly data available"})]})})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-6",children:"Recent Activities"}),a.jsx("div",{className:"space-y-4",children:v.length>0?v.map(E=>a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"p-2 bg-gray-100 rounded-full flex-shrink-0",children:c(E.type)}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-gray-800",children:E.message}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(E.time).toLocaleString()})]})]},E.id)):a.jsxs("div",{className:"text-center py-10 text-gray-500",children:[a.jsx(Jn,{className:"w-10 h-10 mx-auto mb-3"}),a.jsx("p",{children:"No recent activities to display."})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-6",children:"Class Distribution"}),y.length>0?a.jsx(V2,{width:"100%",height:300,children:a.jsxs(bW,{children:[a.jsx(wF,{data:y,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",nameKey:"name",children:y.map((E,T)=>a.jsx(Sy,{fill:E.color},`cell-${T}`))}),a.jsx($2,{}),a.jsx(Ux,{})]})}):a.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ra,{className:"w-12 h-12 mx-auto mb-3"}),a.jsx("p",{children:"No class data available"})]})})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-6",children:"Assignment Progress by Subject"}),x.length>0?a.jsx(V2,{width:"100%",height:300,children:a.jsxs(HEe,{data:x,children:[a.jsx(UN,{strokeDasharray:"3 3"}),a.jsx(Tb,{dataKey:"subject"}),a.jsx(_b,{}),a.jsx($2,{}),a.jsx(Ux,{}),a.jsx(ZB,{dataKey:"completed",stackId:"a",fill:"#10B981",name:"Completed"}),a.jsx(ZB,{dataKey:"pending",stackId:"a",fill:"#F59E0B",name:"Pending"})]})}):a.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ff,{className:"w-12 h-12 mx-auto mb-3"}),a.jsx("p",{children:"No assignment data available"})]})})]})]}),a.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsx("div",{children:a.jsxs("span",{children:["School ID: ",localStorage.getItem("schoolId")||"Not set"]})}),a.jsx("div",{children:a.jsxs("span",{children:["Last updated: ",new Date().toLocaleString("en-IN")]})})]})})]})]})},eBe="https://vidyaastra.com/api",tBe=()=>{const[e,t]=C.useState(!1),[r,n]=C.useState(null),[s,i]=C.useState(!1),[o,l]=C.useState(""),[c,d]=C.useState(""),[u,h]=C.useState({name:"",email:"",phone:"",paymentMethod:"card",cardNumber:"",expiryDate:"",cvv:"",nameOnCard:"",upiId:""}),m=localStorage.getItem("color")||"#4f46e5",A=[{id:"65d2e8e7a1b2c3d4e5f6a7b8",name:"Basic Plan",students:50,price:15e3,duration:"Monthly",features:["Basic Learning","Online Classes","Study Materials"],color:"blue"},{id:"65d2e8e7a1b2c3d4e5f6a7b9",name:"Premium Plan",students:100,price:25e3,duration:"Monthly",features:["Advanced Learning","Live Sessions","Personal Tutor","Assignments"],color:"purple"},{id:"65d2e8e7a1b2c3d4e5f6a7c0",name:"Enterprise Plan",students:200,price:45e3,duration:"Monthly",features:["All Features","Priority Support","Custom Content","Analytics"],color:"green"}],y=j=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(j),x=j=>{n(j),t(!0),l(""),d("")},v=()=>{t(!1),n(null),h({name:"",email:"",phone:"",paymentMethod:"card",cardNumber:"",expiryDate:"",cvv:"",nameOnCard:"",upiId:""}),l(""),d("")},b=async j=>{j.preventDefault(),i(!0),l(""),d("");const E=localStorage.getItem("schoolId")||"65d2e8e7a1b2c3d4e5f6a7b7";if(!r){l("No package selected."),i(!1);return}const T={schoolId:E,packageId:r.id,name:u.name,email:u.email,phone:u.phone,paymentMethod:u.paymentMethod,amount:r.price};u.paymentMethod==="card"?T.cardDetails={cardNumber:u.cardNumber.replace(/\s/g,""),nameOnCard:u.nameOnCard,expiryDate:u.expiryDate,cvv:u.cvv}:u.paymentMethod==="upi"&&(T.upiId=u.upiId);try{const P=await sr.post(`${eBe}/payments`,T,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});console.log("Payment submitted successfully:",P.data),d("Payment submitted successfully!"),setTimeout(()=>{v()},2e3)}catch(P){console.error("Payment submission error:",P.response?.data||P.message),l(P.response?.data?.message||"Failed to process payment. Please try again.")}finally{i(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("div",{className:"text-white p-6 rounded-b-3xl shadow-lg",style:{background:m},children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(af,{className:"w-6 h-6"}),a.jsx("h1",{className:"text-2xl font-bold",children:"School Packages"})]})}),a.jsx("p",{className:"opacity-80 mt-2",children:"Choose the perfect package for your needs"})]}),a.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(j=>a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border hover:shadow-lg transition-all",style:{borderColor:m},children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:j.name})}),a.jsx("div",{className:"text-white rounded-xl p-4 mb-4",style:{background:m},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ra,{className:"w-5 h-5"}),a.jsxs("span",{className:"font-semibold",children:[j.students," Students"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold",children:y(j.price)}),a.jsxs("div",{className:"text-sm opacity-90",children:["/",j.duration]})]})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Features:"}),j.features.map((E,T)=>a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),a.jsx("span",{children:E})]},T))]}),a.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100",children:a.jsxs("button",{onClick:()=>x(j),className:"w-full py-3 px-6 text-white rounded-xl font-semibold hover:shadow-lg transform hover:scale-105 transition-all duration-200 flex items-center justify-center space-x-2",style:{background:m},children:[a.jsx("span",{children:"Buy Now"}),a.jsx("span",{children:""})]})})]},j.id))}),e&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(I0,{className:"w-6 h-6",style:{color:m}}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Complete Payment"})]}),a.jsx("button",{onClick:v,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(Lr,{className:"w-5 h-5 text-gray-500"})})]}),r&&a.jsxs("div",{className:"p-6 bg-gray-50 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Package Summary"}),a.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-semibold text-gray-800",children:r.name}),a.jsx("span",{className:"text-2xl font-bold",style:{color:m},children:y(r.price)})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[a.jsx(Ra,{className:"w-4 h-4 mr-1"}),a.jsxs("span",{children:[r.students," Students "," ",r.duration]})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:r.features.map((j,E)=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:[a.jsx(Dl,{className:"w-3 h-3 mr-1"}),j]},E))})]})]}),a.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[o&&a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded flex items-center space-x-2",children:[a.jsx(ga,{className:"w-5 h-5"}),a.jsx("span",{children:o})]}),c&&a.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded flex items-center space-x-2",children:[a.jsx(Dl,{className:"w-5 h-5"}),a.jsx("span",{children:c})]}),a.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:v,disabled:s,className:"flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:s,className:"flex-1 py-3 px-6 text-white rounded-xl font-semibold hover:shadow-lg transform hover:scale-105 transition-all duration-200 flex items-center justify-center space-x-2",style:{background:m},children:[s?a.jsx(an,{className:"w-4 h-4 animate-spin"}):a.jsx(Dl,{className:"w-4 h-4"}),a.jsx("span",{children:s?"Processing...":`Pay ${r&&y(r.price)}`})]})]})]})]})})]})},rBe=({setSchoolId:e})=>{const[t,r]=C.useState("admin"),n=ru(),[s,i]=C.useState(""),[o,l]=C.useState(""),[c,d]=C.useState(""),[u,h]=C.useState(""),[m,A]=C.useState(""),[y,x]=C.useState(""),[v,b]=C.useState(!1),[j,E]=C.useState(null),[T,P]=C.useState(null),U=async Q=>{Q.preventDefault(),b(!0),E(null),P(null);try{const z=await sr.post("https://vidyaastra.com/api/schools/login",{email:s,password:o,schoolCode:c});console.log("Admin Login Success:",z.data),localStorage.setItem("schoolId",z.data.data.id),e(z.data.data.id),localStorage.setItem("adminToken",z.data.token),localStorage.setItem("userType","admin"),localStorage.setItem("color",z.data.data.color),localStorage.setItem("schoolLogo",z.data.data.logoUrl||"/default-logo.png"),localStorage.removeItem("superadmin_token"),localStorage.removeItem("superadmin_user"),localStorage.removeItem("teacherId"),localStorage.removeItem("teacherToken"),P("Admin login successful! Redirecting..."),setTimeout(()=>{n("/dashboard",{replace:!0})},1500)}catch(z){console.error("Admin Login Error:",z),E(z.response?.data?.message||"Admin login failed. Please check your credentials and school code.")}finally{b(!1)}},M=async Q=>{Q.preventDefault(),b(!0),E(null),P(null);try{const z=await sr.post("https://vidyaastra.com/api/teacher/login",{email:u,password:m,schoolCode:y});console.log("Teacher Login Success:",z.data),localStorage.setItem("teacherId",z.data.teacher._id),localStorage.setItem("teacherToken",z.data.token),localStorage.setItem("userType","teacher"),localStorage.setItem("schoolId",z.data.teacher.schoolId),e(z.data.teacher.schoolId),localStorage.setItem("schoolLogo",z.data.teacher.schoolId.logoUrl||"/default-logo.png"),localStorage.removeItem("adminToken"),localStorage.removeItem("superadmin_token"),P("Teacher login successful! Redirecting..."),setTimeout(()=>{n("/teacher/attendance",{replace:!0})},1500)}catch(z){console.error("Teacher Login Error:",z),E(z.response?.data?.message||"Teacher login failed. Please check your credentials and school code.")}finally{b(!1)}},k=Q=>{r(Q),E(null),P(null),Q==="admin"?(h(""),A(""),x("")):(i(""),l(""),d(""))};return a.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-blue-400 to-orange-400 p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"flex space-x-2 mb-6 bg-white rounded-lg p-1 shadow-sm",children:[a.jsx("button",{onClick:()=>k("admin"),className:`flex-1 px-6 py-3 rounded-md font-medium transition-all duration-200 ${t==="admin"?"bg-indigo-700 text-white shadow-md":"text-indigo-700 hover:bg-indigo-50"}`,children:"Admin Login"}),a.jsx("button",{onClick:()=>k("teacher"),className:`flex-1 px-6 py-3 rounded-md font-medium transition-all duration-200 ${t==="teacher"?"bg-orange-600 text-white shadow-md":"text-orange-600 hover:bg-orange-50"}`,children:"Teacher Login"})]}),T&&a.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded-md text-center",children:T}),j&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-md text-center",children:j}),t==="admin"&&a.jsxs("form",{onSubmit:U,className:"bg-white p-6 rounded-xl shadow-lg space-y-6",children:[a.jsx("div",{children:a.jsx("img",{src:cy,alt:"ParNets Logo",className:"h-24 text-center"})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-3xl font-bold text-indigo-700 ",children:"Admin Portal"}),a.jsx("p",{className:"text-gray-600",children:"Sign in to manage your school"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),a.jsx("input",{type:"email",placeholder:"Enter your email",value:s,onChange:Q=>i(Q.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",disabled:v,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),a.jsx("input",{type:"password",placeholder:"Enter your password",value:o,onChange:Q=>l(Q.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",disabled:v,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"School Code"}),a.jsx("input",{type:"text",placeholder:"Enter school code",value:c,onChange:Q=>d(Q.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",disabled:v,required:!0})]})]}),a.jsx("button",{type:"submit",className:"w-full bg-indigo-700 text-white py-3 rounded-lg hover:bg-indigo-800 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",disabled:v||!s||!o||!c,children:v?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in as Admin"})]}),t==="teacher"&&a.jsxs("form",{onSubmit:M,className:"bg-white p-8 rounded-xl shadow-lg space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-3xl font-bold text-orange-700 mb-2",children:"Teacher Portal"}),a.jsx("p",{className:"text-gray-600",children:"Access your teaching dashboard"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),a.jsx("input",{type:"email",placeholder:"Enter your email",value:u,onChange:Q=>h(Q.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",disabled:v,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),a.jsx("input",{type:"password",placeholder:"Enter your password",value:m,onChange:Q=>A(Q.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",disabled:v,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"School Code"}),a.jsx("input",{type:"text",placeholder:"Enter school code",value:y,onChange:Q=>x(Q.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",disabled:v,required:!0})]})]}),a.jsx("button",{type:"submit",className:"w-full bg-orange-600 text-white py-3 rounded-lg hover:bg-orange-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",disabled:v||!u||!m||!y,children:v?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in as Teacher"})]})]})})},gU={present:{icon:Dl,color:"bg-green-500 text-white"},absent:{icon:Lr,color:"bg-red-500 text-white"},late:{icon:es,color:"bg-[#F37021] text-white"},holiday:{icon:es,color:"bg-yellow-500 text-white"}},nBe=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(""),[s,i]=C.useState(""),[o,l]=C.useState(""),[c,d]=C.useState([]),[u,h]=C.useState(null),[m,A]=C.useState(!0),[y,x]=C.useState([]),[v,b]=C.useState(""),[j,E]=C.useState(""),[T,P]=C.useState(!1),[U,M]=C.useState({start:"",end:""}),[k,Q]=C.useState(1),[z]=C.useState(10),[O,L]=C.useState(1),[V,J]=C.useState(0),[ce,ee]=C.useState(!1),de=async()=>{try{console.log("[API] Fetching all schools for filter");const le=await(await fetch("https://vidyaastra.com/api/schools/simple",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();console.log("[API] Schools response:",le),le.success&&Array.isArray(le.data)?(x(le.data),ee(!1)):(console.warn("[API] Failed to fetch schools:",le.message),x([]),ee(!0))}catch(Z){console.error("[API] Error fetching schools:",Z.message),h("Failed to load school data"),x([]),ee(!0)}},se=async()=>{try{A(!0),console.log(`[API] Fetching attendance for page ${k}, schoolId: ${v||"all"}`);const le=await(await fetch(`https://vidyaastra.com/api/attendance/all-unfiltered?page=${k}&limit=${z}${v?`&schoolId=${v}`:""}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();if(console.log("[API] Attendance API response:",le),console.log("[API] First record sample:",le.data?.[0]),le.success&&Array.isArray(le.data)){const te=le.data.map(Ne=>{const Fe=Ne.studentId,be=Ne.schoolId,re=Fe?.className||"No Class Data",Ce=Fe?.section||"N/A";return{id:Ne._id,name:Fe?.name||"No Student Data",rollNo:Fe?.rollNumber||"N/A",studentId:Fe?.studentId||"N/A",classGrade:re,section:Ce,status:Ne.status||"unknown",date:he(Ne.date),schoolId:be?._id||Ne.schoolId||"",schoolName:be?.name||"No School Data",hasValidStudent:Fe!==null,hasValidSchool:be!==null}});console.log("[API] Normalized data sample:",te[0]),d(te),L(le.pagination.totalPages||1),J(le.pagination.totalRecords||0),h(null)}else h(le.message||"Failed to fetch attendance"),d([]),ee(!0)}catch(Z){console.error("[API] Error fetching attendance:",Z.message),h("Error fetching attendance: "+Z.message),d([]),ee(!0)}finally{A(!1)}};C.useEffect(()=>{se()},[k,v]),C.useEffect(()=>{de()},[]);const he=Z=>{if(!Z)return"N/A";if(/^\d{4}-\d{2}-\d{2}$/.test(Z))return Z;try{const le=new Date(Z);return isNaN(le)?"N/A":le.toISOString().slice(0,10)}catch{return"N/A"}},fe=C.useMemo(()=>y.length>0,[y]),ve=C.useMemo(()=>{if(!v)return"All Schools";const Z=y.find(le=>le._id===v);return Z?Z.name:"Unknown School"},[v,y]),B=C.useMemo(()=>[...new Set(c.map(Z=>Z.classGrade))].filter(Z=>Z&&Z!=="Unknown Class").sort((Z,le)=>Z.localeCompare(le,void 0,{numeric:!0})),[c]),R=C.useMemo(()=>{const Z=c.filter(le=>le.section&&le.section!=="N/A").map(le=>le.section);return[...new Set(Z)].sort()},[c]),Y=C.useMemo(()=>c.filter(Z=>{const le=!v||Z.schoolId===v;let te=!0;U.start&&U.end?te=Z.date!=="N/A"&&Z.date>=U.start&&Z.date<=U.end:e&&(te=Z.date===e);const Ne=!r||Z.classGrade===r,Fe=!s||Z.section===s,be=!o||Z.name.toLowerCase().includes(o.toLowerCase())||Z.rollNo.includes(o)||Z.studentId.toLowerCase().includes(o.toLowerCase()),re=!j||Z.status===j;return le&&te&&Ne&&Fe&&be&&re}),[c,v,e,r,s,o,j,U]),ie=()=>{l(""),E(""),M({start:"",end:""}),t(""),b(""),n(""),i(""),Q(1)},ge=()=>{if(Y.length===0){alert("No data to export");return}const Z=Y.map(Ce=>({Date:Ce.date,"Roll Number":Ce.rollNo,"Student Name":Ce.name,"Student ID":Ce.studentId,Class:Ce.classGrade,Section:Ce.section,"School Name":Ce.schoolName||"Unknown School","Attendance Status":Ce.status.charAt(0).toUpperCase()+Ce.status.slice(1)})),le=Object.keys(Z[0]),te=[le.join(","),...Z.map(Ce=>le.map(st=>`"${Ce[st]??""}"`).join(","))].join(`
`),Ne=new Blob([te],{type:"text/csv;charset=utf-8;"}),Fe=document.createElement("a"),be=URL.createObjectURL(Ne);Fe.setAttribute("href",be);let re="attendance_";v&&(re+=`${ve}_`),r&&(re+=`${r}_`),s&&(re+=`${s}_`),e?re+=`${e}_`:U.start&&U.end&&(re+=`${U.start}_to_${U.end}_`),re+=`${new Date().toISOString().split("T")[0]}.csv`,Fe.setAttribute("download",re),Fe.style.visibility="hidden",document.body.appendChild(Fe),Fe.click(),document.body.removeChild(Fe)},ye=C.useMemo(()=>[{icon:Ra,value:Y.length,label:"Total Students",color:"orange"},{icon:Dl,value:Y.filter(Z=>Z.status==="present").length,label:"Present",color:"green"},{icon:Lr,value:Y.filter(Z=>Z.status==="absent").length,label:"Absent",color:"red"},{icon:es,value:Y.filter(Z=>Z.status==="late").length,label:"Late",color:"orange"}],[Y]),pe=Z=>{Z>=1&&Z<=O&&Q(Z)};return a.jsxs("div",{className:"space-y-8 p-8 bg-gradient-to-b from-[#1C1444]/5 to-white min-h-screen",children:[a.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-[#1C1444]/10 transition-all duration-300 hover:shadow-2xl",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-extrabold text-[#1C1444] tracking-tight",children:"Attendance Management"}),a.jsxs("p",{className:"text-[#1C1444]/80 text-lg mt-1",children:["View student attendance records",a.jsxs("span",{className:"ml-2 text-[#F37021] font-semibold",children:["(",ve,")"]})]})]}),a.jsxs("button",{onClick:ge,className:"bg-gradient-to-r from-[#F37021] to-[#d55f1c] hover:from-[#d55f1c] hover:to-[#b54e17] text-white px-6 py-3 rounded-lg shadow-md flex items-center space-x-2 transform transition-all duration-200 hover:scale-105 disabled:opacity-50",title:"Export to CSV",disabled:m,children:[a.jsx(xs,{className:"w-5 h-5"})," ",a.jsx("span",{children:"Export CSV"})]})]}),c.length>0&&c.every(Z=>!Z.hasValidStudent)&&a.jsxs("div",{className:"mb-6 p-4 bg-yellow-100 text-yellow-800 rounded-lg text-center",children:[a.jsx("strong",{children:" Data Integrity Issue:"})," All attendance records have missing student data. This indicates that students may have been deleted or attendance records were created without proper student references.",a.jsx("br",{}),a.jsx("span",{className:"text-sm mt-2 block",children:"To fix this, you need to either delete orphaned attendance records or restore the missing student data."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-6",children:[fe&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"School"}),a.jsxs("select",{value:v,onChange:Z=>{b(Z.target.value),n(""),i(""),Q(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:m||y.length===0,children:[a.jsx("option",{value:"",children:"All Schools"}),y.sort((Z,le)=>Z.name.localeCompare(le.name)).map(Z=>a.jsx("option",{value:Z._id,children:Z.name},Z._id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Class"}),a.jsxs("select",{value:r,onChange:Z=>{n(Z.target.value),i(""),Q(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:m||B.length===0,children:[a.jsx("option",{value:"",children:"All Classes"}),B.length===0?a.jsx("option",{value:"",disabled:!0,children:"No classes available"}):B.map(Z=>a.jsx("option",{value:Z,children:Z},Z))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Section"}),a.jsxs("select",{value:s,onChange:Z=>{i(Z.target.value),Q(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:m||R.length===0,children:[a.jsx("option",{value:"",children:"All Sections"}),R.length===0?a.jsx("option",{value:"",disabled:!0,children:"No sections available"}):R.map(Z=>a.jsx("option",{value:Z,children:Z},Z))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(Jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#1C1444]/60 w-5 h-5"}),a.jsx("input",{type:"date",value:e,onChange:Z=>{t(Z.target.value),M({start:"",end:""}),Q(1)},className:"w-full pl-10 pr-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:m})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Search Students"}),a.jsxs("div",{className:"relative",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#1C1444]/60 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search by name, roll no...",value:o,onChange:Z=>l(Z.target.value),className:"w-full pl-10 pr-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:m})]})]})]}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"text-sm text-[#1C1444]/80",children:["Showing ",Y.length," of ",V," records"]}),a.jsxs("button",{onClick:()=>P(!T),className:"flex items-center space-x-2 px-4 py-2 border border-[#1C1444]/20 rounded-lg bg-white hover:bg-[#1C1444] hover:text-white transition-all duration-200 disabled:opacity-50",disabled:m,children:[a.jsx(Fu,{className:"w-5 h-5"}),a.jsx("span",{children:"Advanced Filters"})]})]})}),T&&a.jsx("div",{className:"border-t pt-6 mt-6 border-[#1C1444]/10 transition-all duration-300",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Date Range Start"}),a.jsx("input",{type:"date",value:U.start,onChange:Z=>{M({...U,start:Z.target.value}),t(""),Q(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:m})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Date Range End"}),a.jsx("input",{type:"date",value:U.end,onChange:Z=>{M({...U,end:Z.target.value}),t(""),Q(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:m})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Attendance Status"}),a.jsxs("select",{value:j,onChange:Z=>E(Z.target.value),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:m,children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"present",children:"Present"}),a.jsx("option",{value:"absent",children:"Absent"}),a.jsx("option",{value:"late",children:"Late"}),a.jsx("option",{value:"holiday",children:"Holiday"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:ie,className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg bg-white hover:bg-[#1C1444] hover:text-white text-[#1C1444] transition-all duration-200 disabled:opacity-50",disabled:m,children:"Clear Filters"})})]})})]}),m&&a.jsx("div",{className:"p-6 bg-[#F37021]/10 text-[#F37021] rounded-2xl shadow-md text-center transition-all duration-300",children:"Loading attendance records..."}),u&&a.jsx("div",{className:"p-6 bg-red-100 text-red-700 rounded-2xl shadow-md text-center transition-all duration-300",children:u}),!m&&!u&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:ye.map((Z,le)=>a.jsx("div",{className:`bg-white rounded-2xl p-6 shadow-md border-l-4 border-${Z.color==="orange"?"[#F37021]":Z.color+"-500"} transition-all duration-300 hover:shadow-lg hover:-translate-y-1`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Z.icon,{className:`w-10 h-10 text-${Z.color==="orange"?"[#F37021]":Z.color+"-600"} transition-transform duration-200 group-hover:scale-110`}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-3xl font-extrabold text-[#1C1444]",children:Z.value}),a.jsx("div",{className:"text-sm text-[#1C1444]/80",children:Z.label})]})]})},le))}),!m&&!u&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden transition-all duration-300",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gradient-to-r from-[#1C1444]/10 to-[#F37021]/10",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Roll No"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Student Name"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Student ID"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Class"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Section"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"School"}),a.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Attendance Status"})]})}),a.jsx("tbody",{className:"divide-y divide-[#1C1444]/10",children:Y.map(Z=>{const le=Z.status,te=gU[le]?.icon||Lr,Ne=gU[le]?.color||"bg-[#1C1444] text-white",Fe=Z.schoolName||"Unknown School";return a.jsxs("tr",{className:"hover:bg-[#F37021]/5 transition-all duration-200",children:[a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-[#1C1444]",children:Z.date}),a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-[#1C1444]",children:Z.rollNo}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`${Z.hasValidStudent?"bg-[#F37021]/10 text-[#F37021]":"bg-red-100 text-red-600"} text-sm font-semibold rounded-full w-8 h-8 flex items-center justify-center mr-3 transition-transform duration-200 hover:scale-110`,children:Z.hasValidStudent?Z.name.split(" ").map(be=>be[0]).join(""):"?"}),a.jsx("span",{className:`${Z.hasValidStudent?"text-[#1C1444]":"text-red-600 italic"}`,children:Z.name})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-[#F37021]/10 text-[#F37021] rounded-full",children:Z.studentId})}),a.jsx("td",{className:"px-6 py-4 text-sm text-[#1C1444]",children:Z.classGrade}),a.jsx("td",{className:"px-6 py-4 text-sm text-[#1C1444]",children:Z.section}),a.jsx("td",{className:"px-6 py-4 text-sm",children:a.jsx("span",{className:`${Z.hasValidSchool?"text-[#1C1444]":"text-red-600 italic"}`,title:Z.schoolId,children:Fe})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"flex justify-center",children:a.jsxs("span",{className:`px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 ${Ne} transition-all duration-200 hover:shadow-md`,children:[a.jsx(te,{className:"w-4 h-4"}),a.jsx("span",{className:"capitalize",children:le})]})})})]},Z.id)})})]}),Y.length===0&&c.length>0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ra,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),a.jsx("h3",{className:"text-lg font-semibold text-[#1C1444] mb-2",children:"No records match your filters"}),a.jsx("p",{className:"text-[#1C1444]/80 mb-4",children:"Try adjusting your date, class, section, status, or search criteria"}),a.jsx("button",{onClick:ie,className:"text-[#F37021] hover:text-[#d55f1c] underline font-medium transition-colors duration-200",children:"Clear all filters"})]}),Y.length===0&&c.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ra,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),a.jsx("h3",{className:"text-lg font-semibold text-[#1C1444] mb-2",children:"No attendance records found"}),a.jsx("p",{className:"text-[#1C1444]/80",children:"No attendance data is available"})]})]}),!m&&!u&&V>0&&a.jsxs("div",{className:"mt-8 flex justify-between items-center",children:[a.jsxs("div",{className:"text-sm text-[#1C1444]/80",children:["Showing ",(k-1)*z+1," to"," ",Math.min(k*z,V)," of ",V," ","records"]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>pe(k-1),disabled:k===1,className:"px-5 py-2 bg-[#1C1444]/10 text-[#1C1444] rounded-lg disabled:opacity-50 hover:bg-[#1C1444] hover:text-white transition-all duration-200",children:"Previous"}),a.jsx("button",{onClick:()=>pe(k+1),disabled:k===O,className:"px-5 py-2 bg-[#1C1444]/10 text-[#1C1444] rounded-lg disabled:opacity-50 hover:bg-[#1C1444] hover:text-white transition-all duration-200",children:"Next"})]})]})]})},aBe=()=>{const[e,t]=C.useState("all"),[r,n]=C.useState([]),[s,i]=C.useState([]),[o,l]=C.useState([]),[c,d]=C.useState(""),[u,h]=C.useState(""),[m,A]=C.useState(""),[y,x]=C.useState([]),[v,b]=C.useState(1),[j]=C.useState(10),[E,T]=C.useState(1),[P,U]=C.useState(!1),[M,k]=C.useState(null),[Q,z]=C.useState(!1),O=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];C.useEffect(()=>{sr.get("https://vidyaastra.com/api/schools").then(ee=>{ee.data.success&&n(ee.data.data)}).catch(()=>k("Failed to load schools"))},[]),C.useEffect(()=>{if(y.length===0){i([]),l([]),d(""),h("");return}const ee=new Set,de=new Set;y.forEach(fe=>{fe.timetable.forEach(ve=>{const[B,R]=ve.className.split(" ");ee.add(B),R&&de.add(R)})});const se=Array.from(ee).map(fe=>({className:fe})),he=Array.from(de).map(fe=>({section:fe}));i(se.sort((fe,ve)=>fe.className.localeCompare(ve.className))),l(he.sort((fe,ve)=>fe.section.localeCompare(ve.section))),d(se[0]?.className||""),h(he[0]?.section||"")},[y]),C.useEffect(()=>{U(!0);const ee={page:v,limit:j};e!=="all"&&(ee.schoolId=e),c&&(ee.className=c),u&&(ee.section=u),sr.get("https://vidyaastra.com/api/timetable",{params:ee}).then(de=>{de.data.success?(x(de.data.data),T(de.data.totalPages),k(null)):(x([]),T(1),k("No timetables found"))}).catch(()=>k("Failed to load timetable")).finally(()=>U(!1))},[e,c,u,v,j]);const L=()=>{t("all"),d(""),h(""),A(""),b(1)},V=C.useMemo(()=>{const ee={};return y.forEach(de=>{const se=r.find(he=>he._id===de.schoolId)?.name||"Unknown School";ee[se]||(ee[se]={}),de.timetable.filter(he=>m?he.day===m:!0).filter(he=>{if(!u)return!0;const[,fe]=he.className.split(" ");return fe===u}).forEach(he=>{const fe=he.className.split(" ")[0];ee[se][fe]||(ee[se][fe]=[]),ee[se][fe].push(...he.periods.map(ve=>({id:ve._id||"unknown-id",className:he.className,day:he.day,subject:ve.subjectName||"Unknown Subject",teacher:ve.teacherName||"Unknown Teacher",startTime:J(ve.startTime),endTime:J(ve.endTime),type:ve.type||"subject"})))})}),Object.keys(ee).forEach(de=>{Object.keys(ee[de]).forEach(se=>{ee[de][se].sort((he,fe)=>he.startTime.localeCompare(fe.startTime))})}),ee},[y,m,u,r]);function J(ee){if(!ee||typeof ee!="string")return"00:00";let de=ee.replace(/(AM|PM|am|pm)/gi,"").trim();const[se,he="00"]=de.split(":").map(fe=>fe.trim());return`${se.padStart(2,"0")}:${he.padStart(2,"0")}`}const ce=ee=>{switch(ee){case"break":return"bg-orange-50 text-orange-700";case"lunch":return"bg-green-50 text-green-700";default:return"bg-white text-[#1C1444]"}};return a.jsx("div",{className:"min-h-screen bg-white p-4 md:p-6",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("header",{className:"bg-white border-b border-[#1C1444]/10 p-4 md:p-6 shadow-md sticky top-0 z-20",children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(es,{className:"w-6 h-6 text-[#F37021] animate-pulse"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-[#1C1444]",children:"Timetable Dashboard"}),a.jsx("p",{className:"text-sm text-[#1C1444]/70",children:"Manage your class schedules with ease"})]})]}),a.jsxs("button",{className:"md:hidden flex items-center px-3 py-1.5 bg-[#F37021] text-white rounded-md text-sm hover:bg-[#d55f1d] transition duration-200",onClick:()=>z(!Q),children:[a.jsx(Fu,{className:"w-4 h-4 mr-1"}),"Filters",a.jsx(s1,{className:`w-4 h-4 ml-1 transform transition-transform duration-200 ${Q?"rotate-180":""}`})]})]}),a.jsxs("div",{className:`flex flex-wrap items-center gap-2 md:gap-3 ${Q?"block":"hidden md:flex"} transition-all duration-300`,children:[a.jsxs("div",{className:"flex items-center gap-2 bg-[#1C1444]/5 p-2 rounded-md",children:[a.jsx(Fu,{className:"w-4 h-4 text-[#1C1444]"}),a.jsxs("select",{value:e,onChange:ee=>{t(ee.target.value),b(1)},className:"px-3 py-1.5 bg-white border border-[#1C1444]/20 rounded-md text-[#1C1444] text-sm focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition duration-200 hover:bg-[#F37021]/5",children:[a.jsx("option",{value:"all",children:"All Schools"}),r.map(ee=>a.jsx("option",{value:ee._id,children:ee.name},ee._id))]})]}),a.jsxs("select",{value:c,onChange:ee=>{d(ee.target.value),b(1)},className:"px-3 py-1.5 bg-white border border-[#1C1444]/20 rounded-md text-[#1C1444] text-sm focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition duration-200 hover:bg-[#F37021]/5 disabled:opacity-50",disabled:!s.length,children:[a.jsx("option",{value:"",children:"All Classes"}),s.map(ee=>a.jsx("option",{value:ee.className,children:ee.className},ee.className))]}),a.jsxs("select",{value:u,onChange:ee=>{h(ee.target.value),b(1)},className:"px-3 py-1.5 bg-white border border-[#1C1444]/20 rounded-md text-[#1C1444] text-sm focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition duration-200 hover:bg-[#F37021]/5 disabled:opacity-50",disabled:!o.length,children:[a.jsx("option",{value:"",children:"All Sections"}),o.map(ee=>a.jsx("option",{value:ee.section,children:ee.section},ee.section))]}),a.jsxs("select",{value:m,onChange:ee=>A(ee.target.value),className:"px-3 py-1.5 bg-white border border-[#1C1444]/20 rounded-md text-[#1C1444] text-sm focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition duration-200 hover:bg-[#F37021]/5",children:[a.jsx("option",{value:"",children:"All Days"}),O.map(ee=>a.jsx("option",{value:ee,children:ee},ee))]}),a.jsxs("button",{onClick:L,className:"flex items-center px-3 py-1.5 bg-[#F37021] text-white rounded-md text-sm hover:bg-[#d55f1d] transition duration-200",children:[a.jsx(Lr,{className:"w-4 h-4 mr-1"}),"Reset"]})]})]})}),a.jsxs("div",{className:"p-4 md:p-6 space-y-8",children:[P&&a.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-md",children:[a.jsx("div",{className:"inline-block w-10 h-10 border-4 border-[#F37021] border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-[#1C1444] text-base font-medium mt-3",children:"Loading schedules..."})]}),M&&a.jsxs("div",{className:"p-4 bg-white border border-red-200 text-red-600 rounded-xl shadow-md",children:[a.jsx("p",{className:"font-medium",children:M}),a.jsx("p",{className:"text-sm mt-1",children:"Please ensure the backend server is running."})]}),!P&&!M&&a.jsxs("div",{className:"space-y-8",children:[Object.keys(V).length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-md",children:[a.jsx(es,{className:"w-10 h-10 text-[#1C1444]/30 mx-auto mb-3"}),a.jsx("p",{className:"text-[#1C1444] text-base font-medium",children:"No schedules available"})]}):Object.entries(V).map(([ee,de])=>a.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[a.jsxs("div",{className:"p-4 bg-white border-b border-[#1C1444]/10 flex items-center gap-2",children:[a.jsx(Ol,{className:"w-5 h-5 text-[#F37021]"}),a.jsx("h2",{className:"text-lg font-semibold text-[#1C1444]",children:ee})]}),Object.entries(de).map(([se,he])=>a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-base font-semibold text-[#1C1444] mb-3",children:se}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full border border-[#1C1444]/10 rounded-md",children:[a.jsx("thead",{className:"bg-[#1C1444]/5",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Day"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Time"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Subject"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Teacher"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Type"})]})}),a.jsx("tbody",{className:"divide-y divide-[#1C1444]/10",children:he.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:"5",className:"px-4 py-3 text-center text-[#1C1444]/60",children:["No periods scheduled for"," ",m||"this day"]})}):he.map((fe,ve)=>a.jsxs("tr",{className:`${ce(fe.type)} ${ve%2===0?"bg-white":"bg-[#1C1444]/5"} hover:bg-[#F37021]/10 transition duration-200`,children:[a.jsx("td",{className:"px-4 py-2.5 text-sm text-[#1C1444] font-medium",children:fe.day}),a.jsxs("td",{className:"px-4 py-2.5 text-sm text-[#1C1444]",children:[fe.startTime," - ",fe.endTime]}),a.jsx("td",{className:"px-4 py-2.5 text-sm font-semibold text-[#1C1444]",children:fe.subject}),a.jsx("td",{className:"px-4 py-2.5 text-sm text-[#1C1444]",children:fe.teacher}),a.jsx("td",{className:"px-4 py-2.5 text-sm capitalize text-[#1C1444]",children:fe.type})]},fe.id))})]})})]},se))]},ee)),E>1&&a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl shadow-md",children:[a.jsx("button",{onClick:()=>b(ee=>Math.max(1,ee-1)),disabled:v===1,className:"px-4 py-1.5 bg-[#F37021] text-white rounded-md text-sm hover:bg-[#d55f1d] disabled:opacity-50 transition duration-200 transform hover:scale-105",children:"Previous"}),a.jsxs("span",{className:"text-[#1C1444] text-sm font-medium",children:["Page ",v," of ",E]}),a.jsx("button",{onClick:()=>b(ee=>Math.min(E,ee+1)),disabled:v===E,className:"px-4 py-1.5 bg-[#F37021] text-white rounded-md text-sm hover:bg-[#d55f1d] disabled:opacity-50 transition duration-200 transform hover:scale-105",children:"Next"})]})]})]})]})})};var N2={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var sBe=N2.exports,xU;function iBe(){return xU||(xU=1,(function(e,t){(function(){var r,n="4.17.21",s=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",d=500,u="__lodash_placeholder__",h=1,m=2,A=4,y=1,x=2,v=1,b=2,j=4,E=8,T=16,P=32,U=64,M=128,k=256,Q=512,z=30,O="...",L=800,V=16,J=1,ce=2,ee=3,de=1/0,se=9007199254740991,he=17976931348623157e292,fe=NaN,ve=4294967295,B=ve-1,R=ve>>>1,Y=[["ary",M],["bind",v],["bindKey",b],["curry",E],["curryRight",T],["flip",Q],["partial",P],["partialRight",U],["rearg",k]],ie="[object Arguments]",ge="[object Array]",ye="[object AsyncFunction]",pe="[object Boolean]",Z="[object Date]",le="[object DOMException]",te="[object Error]",Ne="[object Function]",Fe="[object GeneratorFunction]",be="[object Map]",re="[object Number]",Ce="[object Null]",st="[object Object]",et="[object Promise]",He="[object Proxy]",ct="[object RegExp]",_e="[object Set]",ke="[object String]",Ze="[object Symbol]",Pe="[object Undefined]",ot="[object WeakMap]",Ge="[object WeakSet]",lt="[object ArrayBuffer]",Je="[object DataView]",Me="[object Float32Array]",Te="[object Float64Array]",je="[object Int8Array]",Ke="[object Int16Array]",Le="[object Int32Array]",rt="[object Uint8Array]",Oe="[object Uint8ClampedArray]",De="[object Uint16Array]",ut="[object Uint32Array]",_t=/\b__p \+= '';/g,qt=/\b(__p \+=) '' \+/g,Ft=/(__e\(.*?\)|\b__t\)) \+\n'';/g,gt=/&(?:amp|lt|gt|quot|#39);/g,Zt=/[&<>"']/g,$t=RegExp(gt.source),rr=RegExp(Zt.source),kr=/<%-([\s\S]+?)%>/g,Qr=/<%([\s\S]+?)%>/g,dn=/<%=([\s\S]+?)%>/g,ja=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rn=/^\w*$/,Vr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,On=/[\\^$.*+?()[\]{}|]/g,Gn=RegExp(On.source),Dn=/^\s+/,Ct=/\s/,fr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$e=/\{\n\/\* \[wrapped with (.+)\] \*/,pt=/,? & /,ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,mt=/[()=,{}\[\]\/\s]/,Re=/\\(\\)?/g,Ee=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ht=/\w*$/,nt=/^[-+]0x[0-9a-f]+$/i,Et=/^0b[01]+$/i,Qe=/^\[object .+?Constructor\]$/,bt=/^0o[0-7]+$/i,It=/^(?:0|[1-9]\d*)$/,nr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,tr=/($^)/,vr=/['\n\r\u2028\u2029\\]/g,yr="\\ud800-\\udfff",Yr="\\u0300-\\u036f",zn="\\ufe20-\\ufe2f",Hn="\\u20d0-\\u20ff",xa=Yr+zn+Hn,Ai="\\u2700-\\u27bf",Ya="a-z\\xdf-\\xf6\\xf8-\\xff",mi="\\xac\\xb1\\xd7\\xf7",Ro="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",po="\\u2000-\\u206f",pi=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qs="A-Z\\xc0-\\xd6\\xd8-\\xde",Qa="\\ufe0e\\ufe0f",Pu=mi+Ro+po+pi,Ac="[']",ao="["+yr+"]",nl="["+Pu+"]",bs="["+xa+"]",Is="\\d+",Zn="["+Ai+"]",mc="["+Ya+"]",sd="[^"+yr+Pu+Is+Ai+Ya+Qs+"]",Lu="\\ud83c[\\udffb-\\udfff]",Rc="(?:"+bs+"|"+Lu+")",pl="[^"+yr+"]",iu="(?:\\ud83c[\\udde6-\\uddff]){2}",Ul="[\\ud800-\\udbff][\\udc00-\\udfff]",zi="["+Qs+"]",Ou="\\u200d",id="(?:"+mc+"|"+sd+")",Ud="(?:"+zi+"|"+sd+")",pc="(?:"+Ac+"(?:d|ll|m|re|s|t|ve))?",gc="(?:"+Ac+"(?:D|LL|M|RE|S|T|VE))?",go=Rc+"?",Vi="["+Qa+"]?",Ki="(?:"+Ou+"(?:"+[pl,iu,Ul].join("|")+")"+Vi+go+")*",gl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Rl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Dr=Vi+go+Ki,Rd="(?:"+[Zn,iu,Ul].join("|")+")"+Dr,ff="(?:"+[pl+bs+"?",bs,iu,Ul,ao].join("|")+")",Qo=RegExp(Ac,"g"),xl=RegExp(bs,"g"),Ho=RegExp(Lu+"(?="+Lu+")|"+ff+Dr,"g"),xo=RegExp([zi+"?"+mc+"+"+pc+"(?="+[nl,zi,"$"].join("|")+")",Ud+"+"+gc+"(?="+[nl,zi+id,"$"].join("|")+")",zi+"?"+id+"+"+pc,zi+"+"+gc,Rl,gl,Is,Rd].join("|"),"g"),oi=RegExp("["+Ou+yr+xa+Qa+"]"),od=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Du=-1,_a={};_a[Me]=_a[Te]=_a[je]=_a[Ke]=_a[Le]=_a[rt]=_a[Oe]=_a[De]=_a[ut]=!0,_a[ie]=_a[ge]=_a[lt]=_a[pe]=_a[Je]=_a[Z]=_a[te]=_a[Ne]=_a[be]=_a[re]=_a[st]=_a[ct]=_a[_e]=_a[ke]=_a[ot]=!1;var va={};va[ie]=va[ge]=va[lt]=va[Je]=va[pe]=va[Z]=va[Me]=va[Te]=va[je]=va[Ke]=va[Le]=va[be]=va[re]=va[st]=va[ct]=va[_e]=va[ke]=va[Ze]=va[rt]=va[Oe]=va[De]=va[ut]=!0,va[te]=va[Ne]=va[ot]=!1;var vl={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},so={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},vo={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ql={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$o=parseFloat,ou=parseInt,ks=typeof iA=="object"&&iA&&iA.Object===Object&&iA,Qc=typeof self=="object"&&self&&self.Object===Object&&self,Xa=ks||Qc||Function("return this")(),Ci=t&&!t.nodeType&&t,io=Ci&&!0&&e&&!e.nodeType&&e,Qd=io&&io.exports===Ci,yo=Qd&&ks.process,Ja=(function(){try{var Rt=io&&io.require&&io.require("util").types;return Rt||yo&&yo.binding&&yo.binding("util")}catch{}})(),yl=Ja&&Ja.isArrayBuffer,vc=Ja&&Ja.isDate,lu=Ja&&Ja.isMap,Co=Ja&&Ja.isRegExp,Ae=Ja&&Ja.isSet,We=Ja&&Ja.isTypedArray;function St(Rt,Ar,Wt){switch(Wt.length){case 0:return Rt.call(Ar);case 1:return Rt.call(Ar,Wt[0]);case 2:return Rt.call(Ar,Wt[0],Wt[1]);case 3:return Rt.call(Ar,Wt[0],Wt[1],Wt[2])}return Rt.apply(Ar,Wt)}function Mt(Rt,Ar,Wt,Hr){for(var Rr=-1,cn=Rt==null?0:Rt.length;++Rr<cn;){var ea=Rt[Rr];Ar(Hr,ea,Wt(ea),Rt)}return Hr}function Vt(Rt,Ar){for(var Wt=-1,Hr=Rt==null?0:Rt.length;++Wt<Hr&&Ar(Rt[Wt],Wt,Rt)!==!1;);return Rt}function wr(Rt,Ar){for(var Wt=Rt==null?0:Rt.length;Wt--&&Ar(Rt[Wt],Wt,Rt)!==!1;);return Rt}function Er(Rt,Ar){for(var Wt=-1,Hr=Rt==null?0:Rt.length;++Wt<Hr;)if(!Ar(Rt[Wt],Wt,Rt))return!1;return!0}function tn(Rt,Ar){for(var Wt=-1,Hr=Rt==null?0:Rt.length,Rr=0,cn=[];++Wt<Hr;){var ea=Rt[Wt];Ar(ea,Wt,Rt)&&(cn[Rr++]=ea)}return cn}function gn(Rt,Ar){var Wt=Rt==null?0:Rt.length;return!!Wt&&Br(Rt,Ar,0)>-1}function kn(Rt,Ar,Wt){for(var Hr=-1,Rr=Rt==null?0:Rt.length;++Hr<Rr;)if(Wt(Ar,Rt[Hr]))return!0;return!1}function nn(Rt,Ar){for(var Wt=-1,Hr=Rt==null?0:Rt.length,Rr=Array(Hr);++Wt<Hr;)Rr[Wt]=Ar(Rt[Wt],Wt,Rt);return Rr}function ia(Rt,Ar){for(var Wt=-1,Hr=Ar.length,Rr=Rt.length;++Wt<Hr;)Rt[Rr+Wt]=Ar[Wt];return Rt}function ts(Rt,Ar,Wt,Hr){var Rr=-1,cn=Rt==null?0:Rt.length;for(Hr&&cn&&(Wt=Rt[++Rr]);++Rr<cn;)Wt=Ar(Wt,Rt[Rr],Rr,Rt);return Wt}function Ws(Rt,Ar,Wt,Hr){var Rr=Rt==null?0:Rt.length;for(Hr&&Rr&&(Wt=Rt[--Rr]);Rr--;)Wt=Ar(Wt,Rt[Rr],Rr,Rt);return Wt}function ae(Rt,Ar){for(var Wt=-1,Hr=Rt==null?0:Rt.length;++Wt<Hr;)if(Ar(Rt[Wt],Wt,Rt))return!0;return!1}var qe=_n("length");function Bt(Rt){return Rt.split("")}function Ot(Rt){return Rt.match(ft)||[]}function Gt(Rt,Ar,Wt){var Hr;return Wt(Rt,function(Rr,cn,ea){if(Ar(Rr,cn,ea))return Hr=cn,!1}),Hr}function hr(Rt,Ar,Wt,Hr){for(var Rr=Rt.length,cn=Wt+(Hr?1:-1);Hr?cn--:++cn<Rr;)if(Ar(Rt[cn],cn,Rt))return cn;return-1}function Br(Rt,Ar,Wt){return Ar===Ar?Ps(Rt,Ar,Wt):hr(Rt,An,Wt)}function Xr(Rt,Ar,Wt,Hr){for(var Rr=Wt-1,cn=Rt.length;++Rr<cn;)if(Hr(Rt[Rr],Ar))return Rr;return-1}function An(Rt){return Rt!==Rt}function Pn(Rt,Ar){var Wt=Rt==null?0:Rt.length;return Wt?En(Rt,Ar)/Wt:fe}function _n(Rt){return function(Ar){return Ar==null?r:Ar[Rt]}}function na(Rt){return function(Ar){return Rt==null?r:Rt[Ar]}}function Ha(Rt,Ar,Wt,Hr,Rr){return Rr(Rt,function(cn,ea,xn){Wt=Hr?(Hr=!1,cn):Ar(Wt,cn,ea,xn)}),Wt}function oa(Rt,Ar){var Wt=Rt.length;for(Rt.sort(Ar);Wt--;)Rt[Wt]=Rt[Wt].value;return Rt}function En(Rt,Ar){for(var Wt,Hr=-1,Rr=Rt.length;++Hr<Rr;){var cn=Ar(Rt[Hr]);cn!==r&&(Wt=Wt===r?cn:Wt+cn)}return Wt}function As(Rt,Ar){for(var Wt=-1,Hr=Array(Rt);++Wt<Rt;)Hr[Wt]=Ar(Wt);return Hr}function Ys(Rt,Ar){return nn(Ar,function(Wt){return[Wt,Rt[Wt]]})}function Eo(Rt){return Rt&&Rt.slice(0,Bi(Rt)+1).replace(Dn,"")}function Mn(Rt){return function(Ar){return Rt(Ar)}}function us(Rt,Ar){return nn(Ar,function(Wt){return Rt[Wt]})}function bl(Rt,Ar){return Rt.has(Ar)}function qi(Rt,Ar){for(var Wt=-1,Hr=Rt.length;++Wt<Hr&&Br(Ar,Rt[Wt],0)>-1;);return Wt}function ya(Rt,Ar){for(var Wt=Rt.length;Wt--&&Br(Ar,Rt[Wt],0)>-1;);return Wt}function Hl(Rt,Ar){for(var Wt=Rt.length,Hr=0;Wt--;)Rt[Wt]===Ar&&++Hr;return Hr}var vs=na(vl),yc=na(so);function Ei(Rt){return"\\"+Ql[Rt]}function ms(Rt,Ar){return Rt==null?r:Rt[Ar]}function $n(Rt){return oi.test(Rt)}function Gi(Rt){return od.test(Rt)}function al(Rt){for(var Ar,Wt=[];!(Ar=Rt.next()).done;)Wt.push(Ar.value);return Wt}function Bo(Rt){var Ar=-1,Wt=Array(Rt.size);return Rt.forEach(function(Hr,Rr){Wt[++Ar]=[Rr,Hr]}),Wt}function li(Rt,Ar){return function(Wt){return Rt(Ar(Wt))}}function To(Rt,Ar){for(var Wt=-1,Hr=Rt.length,Rr=0,cn=[];++Wt<Hr;){var ea=Rt[Wt];(ea===Ar||ea===u)&&(Rt[Wt]=u,cn[Rr++]=Wt)}return cn}function wl(Rt){var Ar=-1,Wt=Array(Rt.size);return Rt.forEach(function(Hr){Wt[++Ar]=Hr}),Wt}function Hs(Rt){var Ar=-1,Wt=Array(Rt.size);return Rt.forEach(function(Hr){Wt[++Ar]=[Hr,Hr]}),Wt}function Ps(Rt,Ar,Wt){for(var Hr=Wt-1,Rr=Rt.length;++Hr<Rr;)if(Rt[Hr]===Ar)return Hr;return-1}function Ka(Rt,Ar,Wt){for(var Hr=Wt+1;Hr--;)if(Rt[Hr]===Ar)return Hr;return Hr}function ps(Rt){return $n(Rt)?Wi(Rt):qe(Rt)}function Pa(Rt){return $n(Rt)?Ls(Rt):Bt(Rt)}function Bi(Rt){for(var Ar=Rt.length;Ar--&&Ct.test(Rt.charAt(Ar)););return Ar}var $l=na(vo);function Wi(Rt){for(var Ar=Ho.lastIndex=0;Ho.test(Rt);)++Ar;return Ar}function Ls(Rt){return Rt.match(Ho)||[]}function zo(Rt){return Rt.match(xo)||[]}var Ti=(function Rt(Ar){Ar=Ar==null?Xa:Os.defaults(Xa.Object(),Ar,Os.pick(Xa,xc));var Wt=Ar.Array,Hr=Ar.Date,Rr=Ar.Error,cn=Ar.Function,ea=Ar.Math,xn=Ar.Object,_o=Ar.RegExp,bc=Ar.String,Xs=Ar.TypeError,Fo=Wt.prototype,ld=cn.prototype,zl=xn.prototype,Vl=Ar["__core-js_shared__"],Nl=ld.toString,ka=zl.hasOwnProperty,Js=0,oo=(function(){var N=/[^.]+$/.exec(Vl&&Vl.keys&&Vl.keys.IE_PROTO||"");return N?"Symbol(src)_1."+N:""})(),ca=zl.toString,Sa=Nl.call(xn),ws=Xa._,$s=_o("^"+Nl.call(ka).replace(On,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vo=Qd?Ar.Buffer:r,Ko=Ar.Symbol,jl=Ar.Uint8Array,Hc=Vo?Vo.allocUnsafe:r,cu=li(xn.getPrototypeOf,xn),$c=xn.create,is=zl.propertyIsEnumerable,Ds=Fo.splice,Yi=Ko?Ko.isConcatSpreadable:r,Kl=Ko?Ko.iterator:r,gi=Ko?Ko.toStringTag:r,zc=(function(){try{var N=Wc(xn,"defineProperty");return N({},"",{}),N}catch{}})(),uu=Ar.clearTimeout!==Xa.clearTimeout&&Ar.clearTimeout,Sl=Hr&&Hr.now!==Xa.Date.now&&Hr.now,zf=Ar.setTimeout!==Xa.setTimeout&&Ar.setTimeout,du=ea.ceil,ql=ea.floor,Cl=xn.getOwnPropertySymbols,Vc=Vo?Vo.isBuffer:r,Vf=Ar.isFinite,wc=Fo.join,El=li(xn.keys,xn),zs=ea.max,Ns=ea.min,Mu=Hr.now,Hd=Ar.parseInt,AA=ea.random,$d=Fo.reverse,Nc=Wc(Ar,"DataView"),js=Wc(Ar,"Map"),Zs=Wc(Ar,"Promise"),La=Wc(Ar,"Set"),Gl=Wc(Ar,"WeakMap"),Bl=Wc(xn,"create"),hf=Gl&&new Gl,jc={},im=vu(Nc),qo=vu(js),Vs=vu(Zs),ei=vu(La),om=vu(Gl),fu=Ko?Ko.prototype:r,xi=fu?fu.valueOf:r,ds=fu?fu.toString:r;function dt(N){if(Po(N)&&!ma(N)&&!(N instanceof ba)){if(N instanceof Go)return N;if(ka.call(N,"__wrapped__"))return Ms(N)}return new Go(N)}var sl=(function(){function N(){}return function(_){if(!jo(_))return{};if($c)return $c(_);N.prototype=_;var X=new N;return N.prototype=r,X}})();function Io(){}function Go(N,_){this.__wrapped__=N,this.__actions__=[],this.__chain__=!!_,this.__index__=0,this.__values__=r}dt.templateSettings={escape:kr,evaluate:Qr,interpolate:dn,variable:"",imports:{_:dt}},dt.prototype=Io.prototype,dt.prototype.constructor=dt,Go.prototype=sl(Io.prototype),Go.prototype.constructor=Go;function ba(N){this.__wrapped__=N,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ve,this.__views__=[]}function zd(){var N=new ba(this.__wrapped__);return N.__actions__=bo(this.__actions__),N.__dir__=this.__dir__,N.__filtered__=this.__filtered__,N.__iteratees__=bo(this.__iteratees__),N.__takeCount__=this.__takeCount__,N.__views__=bo(this.__views__),N}function Bh(){if(this.__filtered__){var N=new ba(this);N.__dir__=-1,N.__filtered__=!0}else N=this.clone(),N.__dir__*=-1;return N}function Wl(){var N=this.__wrapped__.value(),_=this.__dir__,X=ma(N),Be=_<0,Ye=X?N.length:0,yt=Qg(0,Ye,this.__views__),Pt=yt.start,Ht=yt.end,Jt=Ht-Pt,Tr=Be?Ht:Pt-1,Fr=this.__iteratees__,Mr=Fr.length,hn=0,Ln=Ns(Jt,this.__takeCount__);if(!X||!Be&&Ye==Jt&&Ln==Jt)return Zi(N,this.__actions__);var fa=[];e:for(;Jt--&&hn<Ln;){Tr+=_;for(var as=-1,ha=N[Tr];++as<Mr;){var gs=Fr[as],Ts=gs.iteratee,uh=gs.type,Zd=Ts(ha);if(uh==ce)ha=Zd;else if(!Zd){if(uh==J)continue e;break e}}fa[hn++]=ha}return fa}ba.prototype=sl(Io.prototype),ba.prototype.constructor=ba;function ys(N){var _=-1,X=N==null?0:N.length;for(this.clear();++_<X;){var Be=N[_];this.set(Be[0],Be[1])}}function il(){this.__data__=Bl?Bl(null):{},this.size=0}function Af(N){var _=this.has(N)&&delete this.__data__[N];return this.size-=_?1:0,_}function t0(N){var _=this.__data__;if(Bl){var X=_[N];return X===c?r:X}return ka.call(_,N)?_[N]:r}function mA(N){var _=this.__data__;return Bl?_[N]!==r:ka.call(_,N)}function r0(N,_){var X=this.__data__;return this.size+=this.has(N)?0:1,X[N]=Bl&&_===r?c:_,this}ys.prototype.clear=il,ys.prototype.delete=Af,ys.prototype.get=t0,ys.prototype.has=mA,ys.prototype.set=r0;function Ss(N){var _=-1,X=N==null?0:N.length;for(this.clear();++_<X;){var Be=N[_];this.set(Be[0],Be[1])}}function pA(){this.__data__=[],this.size=0}function Kf(N){var _=this.__data__,X=xt(_,N);if(X<0)return!1;var Be=_.length-1;return X==Be?_.pop():Ds.call(_,X,1),--this.size,!0}function qf(N){var _=this.__data__,X=xt(_,N);return X<0?r:_[X][1]}function gA(N){return xt(this.__data__,N)>-1}function cd(N,_){var X=this.__data__,Be=xt(X,N);return Be<0?(++this.size,X.push([N,_])):X[Be][1]=_,this}Ss.prototype.clear=pA,Ss.prototype.delete=Kf,Ss.prototype.get=qf,Ss.prototype.has=gA,Ss.prototype.set=cd;function Xi(N){var _=-1,X=N==null?0:N.length;for(this.clear();++_<X;){var Be=N[_];this.set(Be[0],Be[1])}}function n0(){this.size=0,this.__data__={hash:new ys,map:new(js||Ss),string:new ys}}function xA(N){var _=fd(this,N).delete(N);return this.size-=_?1:0,_}function vA(N){return fd(this,N).get(N)}function g(N){return fd(this,N).has(N)}function S(N,_){var X=fd(this,N),Be=X.size;return X.set(N,_),this.size+=X.size==Be?0:1,this}Xi.prototype.clear=n0,Xi.prototype.delete=xA,Xi.prototype.get=vA,Xi.prototype.has=g,Xi.prototype.set=S;function I(N){var _=-1,X=N==null?0:N.length;for(this.__data__=new Xi;++_<X;)this.add(N[_])}function K(N){return this.__data__.set(N,c),this}function ne(N){return this.__data__.has(N)}I.prototype.add=I.prototype.push=K,I.prototype.has=ne;function ue(N){var _=this.__data__=new Ss(N);this.size=_.size}function me(){this.__data__=new Ss,this.size=0}function xe(N){var _=this.__data__,X=_.delete(N);return this.size=_.size,X}function Se(N){return this.__data__.get(N)}function Ie(N){return this.__data__.has(N)}function Xe(N,_){var X=this.__data__;if(X instanceof Ss){var Be=X.__data__;if(!js||Be.length<s-1)return Be.push([N,_]),this.size=++X.size,this;X=this.__data__=new Xi(Be)}return X.set(N,_),this.size=X.size,this}ue.prototype.clear=me,ue.prototype.delete=xe,ue.prototype.get=Se,ue.prototype.has=Ie,ue.prototype.set=Xe;function vt(N,_){var X=ma(N),Be=!X&&IA(N),Ye=!X&&!Be&&Nm(N),yt=!X&&!Be&&!Ye&&Pp(N),Pt=X||Be||Ye||yt,Ht=Pt?As(N.length,bc):[],Jt=Ht.length;for(var Tr in N)(_||ka.call(N,Tr))&&!(Pt&&(Tr=="length"||Ye&&(Tr=="offset"||Tr=="parent")||yt&&(Tr=="buffer"||Tr=="byteLength"||Tr=="byteOffset")||Yd(Tr,Jt)))&&Ht.push(Tr);return Ht}function Ve(N){var _=N.length;return _?N[ud(0,_-1)]:r}function at(N,_){return BA(bo(N),Ir(_,0,N.length))}function wt(N){return BA(bo(N))}function Tt(N,_,X){(X!==r&&!vd(N[_],X)||X===r&&!(_ in N))&&pr(N,_,X)}function it(N,_,X){var Be=N[_];(!(ka.call(N,_)&&vd(Be,X))||X===r&&!(_ in N))&&pr(N,_,X)}function xt(N,_){for(var X=N.length;X--;)if(vd(N[X][0],_))return X;return-1}function kt(N,_,X,Be){return Sr(N,function(Ye,yt,Pt){_(Be,Ye,X(Ye),Pt)}),Be}function Ut(N,_){return N&&gu(_,rc(_),N)}function Dt(N,_){return N&&gu(_,Fc(_),N)}function pr(N,_,X){_=="__proto__"&&zc?zc(N,_,{configurable:!0,enumerable:!0,value:X,writable:!0}):N[_]=X}function ur(N,_){for(var X=-1,Be=_.length,Ye=Wt(Be),yt=N==null;++X<Be;)Ye[X]=yt?r:ax(N,_[X]);return Ye}function Ir(N,_,X){return N===N&&(X!==r&&(N=N<=X?N:X),_!==r&&(N=N>=_?N:_)),N}function lr(N,_,X,Be,Ye,yt){var Pt,Ht=_&h,Jt=_&m,Tr=_&A;if(X&&(Pt=Ye?X(N,Be,Ye,yt):X(N)),Pt!==r)return Pt;if(!jo(N))return N;var Fr=ma(N);if(Fr){if(Pt=SA(N),!Ht)return bo(N,Pt)}else{var Mr=ol(N),hn=Mr==Ne||Mr==Fe;if(Nm(N))return Ap(N,Ht);if(Mr==st||Mr==ie||hn&&!Ye){if(Pt=Jt||hn?{}:jp(N),!Ht)return Jt?wA(N,Dt(Pt,N)):o0(N,Ut(Pt,N))}else{if(!va[Mr])return Ye?N:{};Pt=Sp(N,Mr,Ht)}}yt||(yt=new ue);var Ln=yt.get(N);if(Ln)return Ln;yt.set(N,Pt),Rw(N)?N.forEach(function(ha){Pt.add(lr(ha,_,X,ha,N,yt))}):P1(N)&&N.forEach(function(ha,gs){Pt.set(gs,lr(ha,_,X,gs,N,yt))});var fa=Tr?Jt?bp:h0:Jt?Fc:rc,as=Fr?r:fa(N);return Vt(as||N,function(ha,gs){as&&(gs=ha,ha=N[gs]),it(Pt,gs,lr(ha,_,X,gs,N,yt))}),Pt}function mn(N){var _=rc(N);return function(X){return Vn(X,N,_)}}function Vn(N,_,X){var Be=X.length;if(N==null)return!Be;for(N=xn(N);Be--;){var Ye=X[Be],yt=_[Ye],Pt=N[Ye];if(Pt===r&&!(Ye in N)||!yt(Pt))return!1}return!0}function Wr(N,_,X){if(typeof N!="function")throw new Xs(o);return Am(function(){N.apply(r,X)},_)}function Xt(N,_,X,Be){var Ye=-1,yt=gn,Pt=!0,Ht=N.length,Jt=[],Tr=_.length;if(!Ht)return Jt;X&&(_=nn(_,Mn(X))),Be?(yt=kn,Pt=!1):_.length>=s&&(yt=bl,Pt=!1,_=new I(_));e:for(;++Ye<Ht;){var Fr=N[Ye],Mr=X==null?Fr:X(Fr);if(Fr=Be||Fr!==0?Fr:0,Pt&&Mr===Mr){for(var hn=Tr;hn--;)if(_[hn]===Mr)continue e;Jt.push(Fr)}else yt(_,Mr,Be)||Jt.push(Fr)}return Jt}var Sr=gp(ua),Un=gp(Aa,!0);function $r(N,_){var X=!0;return Sr(N,function(Be,Ye,yt){return X=!!_(Be,Ye,yt),X}),X}function sn(N,_,X){for(var Be=-1,Ye=N.length;++Be<Ye;){var yt=N[Be],Pt=_(yt);if(Pt!=null&&(Ht===r?Pt===Pt&&!Vu(Pt):X(Pt,Ht)))var Ht=Pt,Jt=yt}return Jt}function Zr(N,_,X,Be){var Ye=N.length;for(X=Ia(X),X<0&&(X=-X>Ye?0:Ye+X),Be=Be===r||Be>Ye?Ye:Ia(Be),Be<0&&(Be+=Ye),Be=X>Be?0:Wh(Be);X<Be;)N[X++]=_;return N}function pn(N,_){var X=[];return Sr(N,function(Be,Ye,yt){_(Be,Ye,yt)&&X.push(Be)}),X}function fn(N,_,X,Be,Ye){var yt=-1,Pt=N.length;for(X||(X=th),Ye||(Ye=[]);++yt<Pt;){var Ht=N[yt];_>0&&X(Ht)?_>1?fn(Ht,_-1,X,Be,Ye):ia(Ye,Ht):Be||(Ye[Ye.length]=Ht)}return Ye}var Nn=NA(),qa=NA(!0);function ua(N,_){return N&&Nn(N,_,rc)}function Aa(N,_){return N&&qa(N,_,rc)}function yn(N,_){return tn(_,function(X){return lh(N[X])})}function Bn(N,_){_=qc(_,N);for(var X=0,Be=_.length;N!=null&&X<Be;)N=N[Or(_[X++])];return X&&X==Be?N:r}function Oa(N,_,X){var Be=_(N);return ma(N)?Be:ia(Be,X(N))}function on(N){return N==null?N===r?Pe:Ce:gi&&gi in xn(N)?Zf(N):N1(N)}function Ca(N,_){return N>_}function _i(N,_){return N!=null&&ka.call(N,_)}function fs(N,_){return N!=null&&_ in xn(N)}function Ji(N,_,X){return N>=Ns(_,X)&&N<zs(_,X)}function Da(N,_,X){for(var Be=X?kn:gn,Ye=N[0].length,yt=N.length,Pt=yt,Ht=Wt(yt),Jt=1/0,Tr=[];Pt--;){var Fr=N[Pt];Pt&&_&&(Fr=nn(Fr,Mn(_))),Jt=Ns(Fr.length,Jt),Ht[Pt]=!X&&(_||Ye>=120&&Fr.length>=120)?new I(Pt&&Fr):r}Fr=N[0];var Mr=-1,hn=Ht[0];e:for(;++Mr<Ye&&Tr.length<Jt;){var Ln=Fr[Mr],fa=_?_(Ln):Ln;if(Ln=X||Ln!==0?Ln:0,!(hn?bl(hn,fa):Be(Tr,fa,X))){for(Pt=yt;--Pt;){var as=Ht[Pt];if(!(as?bl(as,fa):Be(N[Pt],fa,X)))continue e}hn&&hn.push(fa),Tr.push(Ln)}}return Tr}function da(N,_,X,Be){return ua(N,function(Ye,yt,Pt){_(Be,X(Ye),yt,Pt)}),Be}function Fi(N,_,X){_=qc(_,N),N=EA(N,_);var Be=N==null?N:N[Or(fi(_))];return Be==null?r:St(Be,N,X)}function lo(N){return Po(N)&&on(N)==ie}function Cs(N){return Po(N)&&on(N)==lt}function $a(N){return Po(N)&&on(N)==Z}function ti(N,_,X,Be,Ye){return N===_?!0:N==null||_==null||!Po(N)&&!Po(_)?N!==N&&_!==_:Ii(N,_,X,Be,ti,Ye)}function Ii(N,_,X,Be,Ye,yt){var Pt=ma(N),Ht=ma(_),Jt=Pt?ge:ol(N),Tr=Ht?ge:ol(_);Jt=Jt==ie?st:Jt,Tr=Tr==ie?st:Tr;var Fr=Jt==st,Mr=Tr==st,hn=Jt==Tr;if(hn&&Nm(N)){if(!Nm(_))return!1;Pt=!0,Fr=!1}if(hn&&!Fr)return yt||(yt=new ue),Pt||Pp(N)?Ug(N,_,X,Be,Ye,yt):Rg(N,_,Jt,X,Be,Ye,yt);if(!(X&y)){var Ln=Fr&&ka.call(N,"__wrapped__"),fa=Mr&&ka.call(_,"__wrapped__");if(Ln||fa){var as=Ln?N.value():N,ha=fa?_.value():_;return yt||(yt=new ue),Ye(as,ha,X,Be,yt)}}return hn?(yt||(yt=new ue),_l(N,_,X,Be,Ye,yt)):!1}function Ea(N){return Po(N)&&ol(N)==be}function vi(N,_,X,Be){var Ye=X.length,yt=Ye,Pt=!Be;if(N==null)return!yt;for(N=xn(N);Ye--;){var Ht=X[Ye];if(Pt&&Ht[2]?Ht[1]!==N[Ht[0]]:!(Ht[0]in N))return!1}for(;++Ye<yt;){Ht=X[Ye];var Jt=Ht[0],Tr=N[Jt],Fr=Ht[1];if(Pt&&Ht[2]){if(Tr===r&&!(Jt in N))return!1}else{var Mr=new ue;if(Be)var hn=Be(Tr,Fr,Jt,N,_,Mr);if(!(hn===r?ti(Fr,Tr,y|x,Be,Mr):hn))return!1}}return!0}function Ks(N){if(!jo(N)||Ep(N))return!1;var _=lh(N)?$s:Qe;return _.test(vu(N))}function Sc(N){return Po(N)&&on(N)==ct}function Tl(N){return Po(N)&&ol(N)==_e}function ci(N){return Po(N)&&w0(N.length)&&!!_a[on(N)]}function Uu(N){return typeof N=="function"?N:N==null?or:typeof N=="object"?ma(N)?Ru(N[0],N[1]):yA(N):Bs(N)}function hu(N){if(!ui(N))return El(N);var _=[];for(var X in xn(N))ka.call(N,X)&&X!="constructor"&&_.push(X);return _}function Au(N){if(!jo(N))return nh(N);var _=ui(N),X=[];for(var Be in N)Be=="constructor"&&(_||!ka.call(N,Be))||X.push(Be);return X}function Yl(N,_){return N<_}function Th(N,_){var X=-1,Be=ec(N)?Wt(N.length):[];return Sr(N,function(Ye,yt,Pt){Be[++X]=_(Ye,yt,Pt)}),Be}function yA(N){var _=Jf(N);return _.length==1&&_[0][2]?w1(_[0][0],_[0][1]):function(X){return X===N||vi(X,N,_)}}function Ru(N,_){return Cp(N)&&b1(_)?w1(Or(N),_):function(X){var Be=ax(X,N);return Be===r&&Be===_?Mp(X,N):ti(_,Be,y|x)}}function ki(N,_,X,Be,Ye){N!==_&&Nn(_,function(yt,Pt){if(Ye||(Ye=new ue),jo(yt))bA(N,_,Pt,X,ki,Be,Ye);else{var Ht=Be?Be(Tp(N,Pt),yt,Pt+"",N,_,Ye):r;Ht===r&&(Ht=yt),Tt(N,Pt,Ht)}},Fc)}function bA(N,_,X,Be,Ye,yt,Pt){var Ht=Tp(N,X),Jt=Tp(_,X),Tr=Pt.get(Jt);if(Tr){Tt(N,X,Tr);return}var Fr=yt?yt(Ht,Jt,X+"",N,_,Pt):r,Mr=Fr===r;if(Mr){var hn=ma(Jt),Ln=!hn&&Nm(Jt),fa=!hn&&!Ln&&Pp(Jt);Fr=Jt,hn||Ln||fa?ma(Ht)?Fr=Ht:Yo(Ht)?Fr=bo(Ht):Ln?(Mr=!1,Fr=Ap(Jt,!0)):fa?(Mr=!1,Fr=Dg(Jt,!0)):Fr=[]:Bf(Jt)||IA(Jt)?(Fr=Ht,IA(Ht)?Fr=$w(Ht):(!jo(Ht)||lh(Ht))&&(Fr=jp(Jt))):Mr=!1}Mr&&(Pt.set(Jt,Fr),Ye(Fr,Jt,Be,yt,Pt),Pt.delete(Jt)),Tt(N,X,Fr)}function _h(N,_){var X=N.length;if(X)return _+=_<0?X:0,Yd(_,X)?N[_]:r}function Fh(N,_,X){_.length?_=nn(_,function(yt){return ma(yt)?function(Pt){return Bn(Pt,yt.length===1?yt[0]:yt)}:yt}):_=[or];var Be=-1;_=nn(_,Mn(un()));var Ye=Th(N,function(yt,Pt,Ht){var Jt=nn(_,function(Tr){return Tr(yt)});return{criteria:Jt,index:++Be,value:yt}});return oa(Ye,function(yt,Pt){return x1(yt,Pt,X)})}function Gf(N,_){return Kc(N,_,function(X,Be){return Mp(N,Be)})}function Kc(N,_,X){for(var Be=-1,Ye=_.length,yt={};++Be<Ye;){var Pt=_[Be],Ht=Bn(N,Pt);X(Ht,Pt)&&mu(yt,qc(Pt,N),Ht)}return yt}function mf(N){return function(_){return Bn(_,N)}}function pf(N,_,X,Be){var Ye=Be?Xr:Br,yt=-1,Pt=_.length,Ht=N;for(N===_&&(_=bo(_)),X&&(Ht=nn(N,Mn(X)));++yt<Pt;)for(var Jt=0,Tr=_[yt],Fr=X?X(Tr):Tr;(Jt=Ye(Ht,Fr,Jt,Be))>-1;)Ht!==N&&Ds.call(Ht,Jt,1),Ds.call(N,Jt,1);return N}function Qu(N,_){for(var X=N?_.length:0,Be=X-1;X--;){var Ye=_[X];if(X==Be||Ye!==yt){var yt=Ye;Yd(Ye)?Ds.call(N,Ye,1):Zl(N,Ye)}}return N}function ud(N,_){return N+ql(AA()*(_-N+1))}function Pi(N,_,X,Be){for(var Ye=-1,yt=zs(du((_-N)/(X||1)),0),Pt=Wt(yt);yt--;)Pt[Be?yt:++Ye]=N,N+=X;return Pt}function Vd(N,_){var X="";if(!N||_<1||_>se)return X;do _%2&&(X+=N),_=ql(_/2),_&&(N+=N);while(_);return X}function wa(N,_){return m0(Hg(N,_,or),N+"")}function Cc(N){return Ve(Rp(N))}function gf(N,_){var X=Rp(N);return BA(X,Ir(_,0,X.length))}function mu(N,_,X,Be){if(!jo(N))return N;_=qc(_,N);for(var Ye=-1,yt=_.length,Pt=yt-1,Ht=N;Ht!=null&&++Ye<yt;){var Jt=Or(_[Ye]),Tr=X;if(Jt==="__proto__"||Jt==="constructor"||Jt==="prototype")return N;if(Ye!=Pt){var Fr=Ht[Jt];Tr=Be?Be(Fr,Jt,Ht):r,Tr===r&&(Tr=jo(Fr)?Fr:Yd(_[Ye+1])?[]:{})}it(Ht,Jt,Tr),Ht=Ht[Jt]}return N}var co=hf?function(N,_){return hf.set(N,_),N}:or,Kd=zc?function(N,_){return zc(N,"toString",{configurable:!0,enumerable:!1,value:ir(_),writable:!0})}:or;function Ih(N){return BA(Rp(N))}function Xl(N,_,X){var Be=-1,Ye=N.length;_<0&&(_=-_>Ye?0:Ye+_),X=X>Ye?Ye:X,X<0&&(X+=Ye),Ye=_>X?0:X-_>>>0,_>>>=0;for(var yt=Wt(Ye);++Be<Ye;)yt[Be]=N[Be+_];return yt}function kh(N,_){var X;return Sr(N,function(Be,Ye,yt){return X=_(Be,Ye,yt),!X}),!!X}function Wo(N,_,X){var Be=0,Ye=N==null?Be:N.length;if(typeof _=="number"&&_===_&&Ye<=R){for(;Be<Ye;){var yt=Be+Ye>>>1,Pt=N[yt];Pt!==null&&!Vu(Pt)&&(X?Pt<=_:Pt<_)?Be=yt+1:Ye=yt}return Ye}return Ph(N,_,or,X)}function Ph(N,_,X,Be){var Ye=0,yt=N==null?0:N.length;if(yt===0)return 0;_=X(_);for(var Pt=_!==_,Ht=_===null,Jt=Vu(_),Tr=_===r;Ye<yt;){var Fr=ql((Ye+yt)/2),Mr=X(N[Fr]),hn=Mr!==r,Ln=Mr===null,fa=Mr===Mr,as=Vu(Mr);if(Pt)var ha=Be||fa;else Tr?ha=fa&&(Be||hn):Ht?ha=fa&&hn&&(Be||!Ln):Jt?ha=fa&&hn&&!Ln&&(Be||!as):Ln||as?ha=!1:ha=Be?Mr<=_:Mr<_;ha?Ye=Fr+1:yt=Fr}return Ns(yt,B)}function qd(N,_){for(var X=-1,Be=N.length,Ye=0,yt=[];++X<Be;){var Pt=N[X],Ht=_?_(Pt):Pt;if(!X||!vd(Ht,Jt)){var Jt=Ht;yt[Ye++]=Pt===0?0:Pt}}return yt}function Wf(N){return typeof N=="number"?N:Vu(N)?fe:+N}function rs(N){if(typeof N=="string")return N;if(ma(N))return nn(N,rs)+"";if(Vu(N))return ds?ds.call(N):"";var _=N+"";return _=="0"&&1/N==-de?"-0":_}function Jl(N,_,X){var Be=-1,Ye=gn,yt=N.length,Pt=!0,Ht=[],Jt=Ht;if(X)Pt=!1,Ye=kn;else if(yt>=s){var Tr=_?null:vp(N);if(Tr)return wl(Tr);Pt=!1,Ye=bl,Jt=new I}else Jt=_?[]:Ht;e:for(;++Be<yt;){var Fr=N[Be],Mr=_?_(Fr):Fr;if(Fr=X||Fr!==0?Fr:0,Pt&&Mr===Mr){for(var hn=Jt.length;hn--;)if(Jt[hn]===Mr)continue e;_&&Jt.push(Mr),Ht.push(Fr)}else Ye(Jt,Mr,X)||(Jt!==Ht&&Jt.push(Mr),Ht.push(Fr))}return Ht}function Zl(N,_){return _=qc(_,N),N=EA(N,_),N==null||delete N[Or(fi(_))]}function Gd(N,_,X,Be){return mu(N,_,X(Bn(N,_)),Be)}function Ec(N,_,X,Be){for(var Ye=N.length,yt=Be?Ye:-1;(Be?yt--:++yt<Ye)&&_(N[yt],yt,N););return X?Xl(N,Be?0:yt,Be?yt+1:Ye):Xl(N,Be?yt+1:0,Be?Ye:yt)}function Zi(N,_){var X=N;return X instanceof ba&&(X=X.value()),ts(_,function(Be,Ye){return Ye.func.apply(Ye.thisArg,ia([Be],Ye.args))},X)}function uo(N,_,X){var Be=N.length;if(Be<2)return Be?Jl(N[0]):[];for(var Ye=-1,yt=Wt(Be);++Ye<Be;)for(var Pt=N[Ye],Ht=-1;++Ht<Be;)Ht!=Ye&&(yt[Ye]=Xt(yt[Ye]||Pt,N[Ht],_,X));return Jl(fn(yt,1),_,X)}function ko(N,_,X){for(var Be=-1,Ye=N.length,yt=_.length,Pt={};++Be<Ye;){var Ht=Be<yt?_[Be]:r;X(Pt,N[Be],Ht)}return Pt}function pu(N){return Yo(N)?N:[]}function Hu(N){return typeof N=="function"?N:or}function qc(N,_){return ma(N)?N:Cp(N,_)?[N]:wf(Gs(N))}var lm=wa;function Bc(N,_,X){var Be=N.length;return X=X===r?Be:X,!_&&X>=Be?N:Xl(N,_,X)}var xf=uu||function(N){return Xa.clearTimeout(N)};function Ap(N,_){if(_)return N.slice();var X=N.length,Be=Hc?Hc(X):new N.constructor(X);return N.copy(Be),Be}function Lh(N){var _=new N.constructor(N.byteLength);return new jl(_).set(new jl(N)),_}function mp(N,_){var X=_?Lh(N.buffer):N.buffer;return new N.constructor(X,N.byteOffset,N.byteLength)}function a0(N){var _=new N.constructor(N.source,ht.exec(N));return _.lastIndex=N.lastIndex,_}function pp(N){return xi?xn(xi.call(N)):{}}function Dg(N,_){var X=_?Lh(N.buffer):N.buffer;return new N.constructor(X,N.byteOffset,N.length)}function s0(N,_){if(N!==_){var X=N!==r,Be=N===null,Ye=N===N,yt=Vu(N),Pt=_!==r,Ht=_===null,Jt=_===_,Tr=Vu(_);if(!Ht&&!Tr&&!yt&&N>_||yt&&Pt&&Jt&&!Ht&&!Tr||Be&&Pt&&Jt||!X&&Jt||!Ye)return 1;if(!Be&&!yt&&!Tr&&N<_||Tr&&X&&Ye&&!Be&&!yt||Ht&&X&&Ye||!Pt&&Ye||!Jt)return-1}return 0}function x1(N,_,X){for(var Be=-1,Ye=N.criteria,yt=_.criteria,Pt=Ye.length,Ht=X.length;++Be<Pt;){var Jt=s0(Ye[Be],yt[Be]);if(Jt){if(Be>=Ht)return Jt;var Tr=X[Be];return Jt*(Tr=="desc"?-1:1)}}return N.index-_.index}function Mg(N,_,X,Be){for(var Ye=-1,yt=N.length,Pt=X.length,Ht=-1,Jt=_.length,Tr=zs(yt-Pt,0),Fr=Wt(Jt+Tr),Mr=!Be;++Ht<Jt;)Fr[Ht]=_[Ht];for(;++Ye<Pt;)(Mr||Ye<yt)&&(Fr[X[Ye]]=N[Ye]);for(;Tr--;)Fr[Ht++]=N[Ye++];return Fr}function i0(N,_,X,Be){for(var Ye=-1,yt=N.length,Pt=-1,Ht=X.length,Jt=-1,Tr=_.length,Fr=zs(yt-Ht,0),Mr=Wt(Fr+Tr),hn=!Be;++Ye<Fr;)Mr[Ye]=N[Ye];for(var Ln=Ye;++Jt<Tr;)Mr[Ln+Jt]=_[Jt];for(;++Pt<Ht;)(hn||Ye<yt)&&(Mr[Ln+X[Pt]]=N[Ye++]);return Mr}function bo(N,_){var X=-1,Be=N.length;for(_||(_=Wt(Be));++X<Be;)_[X]=N[X];return _}function gu(N,_,X,Be){var Ye=!X;X||(X={});for(var yt=-1,Pt=_.length;++yt<Pt;){var Ht=_[yt],Jt=Be?Be(X[Ht],N[Ht],Ht,X,N):r;Jt===r&&(Jt=N[Ht]),Ye?pr(X,Ht,Jt):it(X,Ht,Jt)}return X}function o0(N,_){return gu(N,eh(N),_)}function wA(N,_){return gu(N,hd(N),_)}function Oh(N,_){return function(X,Be){var Ye=ma(X)?Mt:kt,yt=_?_():{};return Ye(X,N,un(Be,2),yt)}}function Dh(N){return wa(function(_,X){var Be=-1,Ye=X.length,yt=Ye>1?X[Ye-1]:r,Pt=Ye>2?X[2]:r;for(yt=N.length>3&&typeof yt=="function"?(Ye--,yt):r,Pt&&Yc(X[0],X[1],Pt)&&(yt=Ye<3?r:yt,Ye=1),_=xn(_);++Be<Ye;){var Ht=X[Be];Ht&&N(_,Ht,Be,yt)}return _})}function gp(N,_){return function(X,Be){if(X==null)return X;if(!ec(X))return N(X,Be);for(var Ye=X.length,yt=_?Ye:-1,Pt=xn(X);(_?yt--:++yt<Ye)&&Be(Pt[yt],yt,Pt)!==!1;);return X}}function NA(N){return function(_,X,Be){for(var Ye=-1,yt=xn(_),Pt=Be(_),Ht=Pt.length;Ht--;){var Jt=Pt[N?Ht:++Ye];if(X(yt[Jt],Jt,yt)===!1)break}return _}}function l0(N,_,X){var Be=_&v,Ye=dd(N);function yt(){var Pt=this&&this!==Xa&&this instanceof yt?Ye:N;return Pt.apply(Be?X:this,arguments)}return yt}function xu(N){return function(_){_=Gs(_);var X=$n(_)?Pa(_):r,Be=X?X[0]:_.charAt(0),Ye=X?Bc(X,1).join(""):_.slice(1);return Be[N]()+Ye}}function Tc(N){return function(_){return ts(W(kA(_).replace(Qo,"")),N,"")}}function dd(N){return function(){var _=arguments;switch(_.length){case 0:return new N;case 1:return new N(_[0]);case 2:return new N(_[0],_[1]);case 3:return new N(_[0],_[1],_[2]);case 4:return new N(_[0],_[1],_[2],_[3]);case 5:return new N(_[0],_[1],_[2],_[3],_[4]);case 6:return new N(_[0],_[1],_[2],_[3],_[4],_[5]);case 7:return new N(_[0],_[1],_[2],_[3],_[4],_[5],_[6])}var X=sl(N.prototype),Be=N.apply(X,_);return jo(Be)?Be:X}}function v1(N,_,X){var Be=dd(N);function Ye(){for(var yt=arguments.length,Pt=Wt(yt),Ht=yt,Jt=Uh(Ye);Ht--;)Pt[Ht]=arguments[Ht];var Tr=yt<3&&Pt[0]!==Jt&&Pt[yt-1]!==Jt?[]:To(Pt,Jt);if(yt-=Tr.length,yt<X)return xp(N,_,eo,Ye.placeholder,r,Pt,Tr,r,r,X-yt);var Fr=this&&this!==Xa&&this instanceof Ye?Be:N;return St(Fr,this,Pt)}return Ye}function vf(N){return function(_,X,Be){var Ye=xn(_);if(!ec(_)){var yt=un(X,3);_=rc(_),X=function(Ht){return yt(Ye[Ht],Ht,Ye)}}var Pt=N(_,X,Be);return Pt>-1?Ye[yt?_[Pt]:Pt]:r}}function Gc(N){return yi(function(_){var X=_.length,Be=X,Ye=Go.prototype.thru;for(N&&_.reverse();Be--;){var yt=_[Be];if(typeof yt!="function")throw new Xs(o);if(Ye&&!Pt&&yf(yt)=="wrapper")var Pt=new Go([],!0)}for(Be=Pt?Be:X;++Be<X;){yt=_[Be];var Ht=yf(yt),Jt=Ht=="wrapper"?wp(yt):r;Jt&&hm(Jt[0])&&Jt[1]==(M|E|P|k)&&!Jt[4].length&&Jt[9]==1?Pt=Pt[yf(Jt[0])].apply(Pt,Jt[3]):Pt=yt.length==1&&hm(yt)?Pt[Ht]():Pt.thru(yt)}return function(){var Tr=arguments,Fr=Tr[0];if(Pt&&Tr.length==1&&ma(Fr))return Pt.plant(Fr).value();for(var Mr=0,hn=X?_[Mr].apply(this,Tr):Fr;++Mr<X;)hn=_[Mr].call(this,hn);return hn}})}function eo(N,_,X,Be,Ye,yt,Pt,Ht,Jt,Tr){var Fr=_&M,Mr=_&v,hn=_&b,Ln=_&(E|T),fa=_&Q,as=hn?r:dd(N);function ha(){for(var gs=arguments.length,Ts=Wt(gs),uh=gs;uh--;)Ts[uh]=arguments[uh];if(Ln)var Zd=Uh(ha),dh=Hl(Ts,Zd);if(Be&&(Ts=Mg(Ts,Be,Ye,Ln)),yt&&(Ts=i0(Ts,yt,Pt,Ln)),gs-=dh,Ln&&gs<Tr){var nc=To(Ts,Zd);return xp(N,_,eo,ha.placeholder,X,Ts,nc,Ht,Jt,Tr-gs)}var PA=Mr?X:this,N0=hn?PA[N]:N;return gs=Ts.length,Ht?Ts=bf(Ts,Ht):fa&&gs>1&&Ts.reverse(),Fr&&Jt<gs&&(Ts.length=Jt),this&&this!==Xa&&this instanceof ha&&(N0=as||dd(N0)),N0.apply(PA,Ts)}return ha}function Mh(N,_){return function(X,Be){return da(X,N,_(Be),{})}}function cm(N,_){return function(X,Be){var Ye;if(X===r&&Be===r)return _;if(X!==r&&(Ye=X),Be!==r){if(Ye===r)return Be;typeof X=="string"||typeof Be=="string"?(X=rs(X),Be=rs(Be)):(X=Wf(X),Be=Wf(Be)),Ye=N(X,Be)}return Ye}}function c0(N){return yi(function(_){return _=nn(_,Mn(un())),wa(function(X){var Be=this;return N(_,function(Ye){return St(Ye,Be,X)})})})}function u0(N,_){_=_===r?" ":rs(_);var X=_.length;if(X<2)return X?Vd(_,N):_;var Be=Vd(_,du(N/ps(_)));return $n(_)?Bc(Pa(Be),0,N).join(""):Be.slice(0,N)}function y1(N,_,X,Be){var Ye=_&v,yt=dd(N);function Pt(){for(var Ht=-1,Jt=arguments.length,Tr=-1,Fr=Be.length,Mr=Wt(Fr+Jt),hn=this&&this!==Xa&&this instanceof Pt?yt:N;++Tr<Fr;)Mr[Tr]=Be[Tr];for(;Jt--;)Mr[Tr++]=arguments[++Ht];return St(hn,Ye?X:this,Mr)}return Pt}function Yf(N){return function(_,X,Be){return Be&&typeof Be!="number"&&Yc(_,X,Be)&&(X=Be=r),_=Gh(_),X===r?(X=_,_=0):X=Gh(X),Be=Be===r?_<X?1:-1:Gh(Be),Pi(_,X,Be,N)}}function Xf(N){return function(_,X){return typeof _=="string"&&typeof X=="string"||(_=Tf(_),X=Tf(X)),N(_,X)}}function xp(N,_,X,Be,Ye,yt,Pt,Ht,Jt,Tr){var Fr=_&E,Mr=Fr?Pt:r,hn=Fr?r:Pt,Ln=Fr?yt:r,fa=Fr?r:yt;_|=Fr?P:U,_&=~(Fr?U:P),_&j||(_&=-4);var as=[N,_,Ye,Ln,Mr,fa,hn,Ht,Jt,Tr],ha=X.apply(r,as);return hm(N)&&_p(ha,as),ha.placeholder=Be,mm(ha,N,_)}function d0(N){var _=ea[N];return function(X,Be){if(X=Tf(X),Be=Be==null?0:Ns(Ia(Be),292),Be&&Vf(X)){var Ye=(Gs(X)+"e").split("e"),yt=_(Ye[0]+"e"+(+Ye[1]+Be));return Ye=(Gs(yt)+"e").split("e"),+(Ye[0]+"e"+(+Ye[1]-Be))}return _(X)}}var vp=La&&1/wl(new La([,-0]))[1]==de?function(N){return new La(N)}:wn;function um(N){return function(_){var X=ol(_);return X==be?Bo(_):X==_e?Hs(_):Ys(_,N(_))}}function Wd(N,_,X,Be,Ye,yt,Pt,Ht){var Jt=_&b;if(!Jt&&typeof N!="function")throw new Xs(o);var Tr=Be?Be.length:0;if(Tr||(_&=-97,Be=Ye=r),Pt=Pt===r?Pt:zs(Ia(Pt),0),Ht=Ht===r?Ht:Ia(Ht),Tr-=Ye?Ye.length:0,_&U){var Fr=Be,Mr=Ye;Be=Ye=r}var hn=Jt?r:wp(N),Ln=[N,_,X,Be,Ye,Fr,Mr,yt,Pt,Ht];if(hn&&CA(Ln,hn),N=Ln[0],_=Ln[1],X=Ln[2],Be=Ln[3],Ye=Ln[4],Ht=Ln[9]=Ln[9]===r?Jt?0:N.length:zs(Ln[9]-Tr,0),!Ht&&_&(E|T)&&(_&=-25),!_||_==v)var fa=l0(N,_,X);else _==E||_==T?fa=v1(N,_,Ht):(_==P||_==(v|P))&&!Ye.length?fa=y1(N,_,X,Be):fa=eo.apply(r,Ln);var as=hn?co:_p;return mm(as(fa,Ln),N,_)}function yp(N,_,X,Be){return N===r||vd(N,zl[X])&&!ka.call(Be,X)?_:N}function dm(N,_,X,Be,Ye,yt){return jo(N)&&jo(_)&&(yt.set(_,N),ki(N,_,r,dm,yt),yt.delete(_)),N}function f0(N){return Bf(N)?r:N}function Ug(N,_,X,Be,Ye,yt){var Pt=X&y,Ht=N.length,Jt=_.length;if(Ht!=Jt&&!(Pt&&Jt>Ht))return!1;var Tr=yt.get(N),Fr=yt.get(_);if(Tr&&Fr)return Tr==_&&Fr==N;var Mr=-1,hn=!0,Ln=X&x?new I:r;for(yt.set(N,_),yt.set(_,N);++Mr<Ht;){var fa=N[Mr],as=_[Mr];if(Be)var ha=Pt?Be(as,fa,Mr,_,N,yt):Be(fa,as,Mr,N,_,yt);if(ha!==r){if(ha)continue;hn=!1;break}if(Ln){if(!ae(_,function(gs,Ts){if(!bl(Ln,Ts)&&(fa===gs||Ye(fa,gs,X,Be,yt)))return Ln.push(Ts)})){hn=!1;break}}else if(!(fa===as||Ye(fa,as,X,Be,yt))){hn=!1;break}}return yt.delete(N),yt.delete(_),hn}function Rg(N,_,X,Be,Ye,yt,Pt){switch(X){case Je:if(N.byteLength!=_.byteLength||N.byteOffset!=_.byteOffset)return!1;N=N.buffer,_=_.buffer;case lt:return!(N.byteLength!=_.byteLength||!yt(new jl(N),new jl(_)));case pe:case Z:case re:return vd(+N,+_);case te:return N.name==_.name&&N.message==_.message;case ct:case ke:return N==_+"";case be:var Ht=Bo;case _e:var Jt=Be&y;if(Ht||(Ht=wl),N.size!=_.size&&!Jt)return!1;var Tr=Pt.get(N);if(Tr)return Tr==_;Be|=x,Pt.set(N,_);var Fr=Ug(Ht(N),Ht(_),Be,Ye,yt,Pt);return Pt.delete(N),Fr;case Ze:if(xi)return xi.call(N)==xi.call(_)}return!1}function _l(N,_,X,Be,Ye,yt){var Pt=X&y,Ht=h0(N),Jt=Ht.length,Tr=h0(_),Fr=Tr.length;if(Jt!=Fr&&!Pt)return!1;for(var Mr=Jt;Mr--;){var hn=Ht[Mr];if(!(Pt?hn in _:ka.call(_,hn)))return!1}var Ln=yt.get(N),fa=yt.get(_);if(Ln&&fa)return Ln==_&&fa==N;var as=!0;yt.set(N,_),yt.set(_,N);for(var ha=Pt;++Mr<Jt;){hn=Ht[Mr];var gs=N[hn],Ts=_[hn];if(Be)var uh=Pt?Be(Ts,gs,hn,_,N,yt):Be(gs,Ts,hn,N,_,yt);if(!(uh===r?gs===Ts||Ye(gs,Ts,X,Be,yt):uh)){as=!1;break}ha||(ha=hn=="constructor")}if(as&&!ha){var Zd=N.constructor,dh=_.constructor;Zd!=dh&&"constructor"in N&&"constructor"in _&&!(typeof Zd=="function"&&Zd instanceof Zd&&typeof dh=="function"&&dh instanceof dh)&&(as=!1)}return yt.delete(N),yt.delete(_),as}function yi(N){return m0(Hg(N,r,wu),N+"")}function h0(N){return Oa(N,rc,eh)}function bp(N){return Oa(N,Fc,hd)}var wp=hf?function(N){return hf.get(N)}:wn;function yf(N){for(var _=N.name+"",X=jc[_],Be=ka.call(jc,_)?X.length:0;Be--;){var Ye=X[Be],yt=Ye.func;if(yt==null||yt==N)return Ye.name}return _}function Uh(N){var _=ka.call(dt,"placeholder")?dt:N;return _.placeholder}function un(){var N=dt.iteratee||aa;return N=N===aa?Uu:N,arguments.length?N(arguments[0],arguments[1]):N}function fd(N,_){var X=N.__data__;return rh(_)?X[typeof _=="string"?"string":"hash"]:X.map}function Jf(N){for(var _=rc(N),X=_.length;X--;){var Be=_[X],Ye=N[Be];_[X]=[Be,Ye,b1(Ye)]}return _}function Wc(N,_){var X=ms(N,_);return Ks(X)?X:r}function Zf(N){var _=ka.call(N,gi),X=N[gi];try{N[gi]=r;var Be=!0}catch{}var Ye=ca.call(N);return Be&&(_?N[gi]=X:delete N[gi]),Ye}var eh=Cl?function(N){return N==null?[]:(N=xn(N),tn(Cl(N),function(_){return is.call(N,_)}))}:WS,hd=Cl?function(N){for(var _=[];N;)ia(_,eh(N)),N=cu(N);return _}:WS,ol=on;(Nc&&ol(new Nc(new ArrayBuffer(1)))!=Je||js&&ol(new js)!=be||Zs&&ol(Zs.resolve())!=et||La&&ol(new La)!=_e||Gl&&ol(new Gl)!=ot)&&(ol=function(N){var _=on(N),X=_==st?N.constructor:r,Be=X?vu(X):"";if(Be)switch(Be){case im:return Je;case qo:return be;case Vs:return et;case ei:return _e;case om:return ot}return _});function Qg(N,_,X){for(var Be=-1,Ye=X.length;++Be<Ye;){var yt=X[Be],Pt=yt.size;switch(yt.type){case"drop":N+=Pt;break;case"dropRight":_-=Pt;break;case"take":_=Ns(_,N+Pt);break;case"takeRight":N=zs(N,_-Pt);break}}return{start:N,end:_}}function Np(N){var _=N.match($e);return _?_[1].split(pt):[]}function jA(N,_,X){_=qc(_,N);for(var Be=-1,Ye=_.length,yt=!1;++Be<Ye;){var Pt=Or(_[Be]);if(!(yt=N!=null&&X(N,Pt)))break;N=N[Pt]}return yt||++Be!=Ye?yt:(Ye=N==null?0:N.length,!!Ye&&w0(Ye)&&Yd(Pt,Ye)&&(ma(N)||IA(N)))}function SA(N){var _=N.length,X=new N.constructor(_);return _&&typeof N[0]=="string"&&ka.call(N,"index")&&(X.index=N.index,X.input=N.input),X}function jp(N){return typeof N.constructor=="function"&&!ui(N)?sl(cu(N)):{}}function Sp(N,_,X){var Be=N.constructor;switch(_){case lt:return Lh(N);case pe:case Z:return new Be(+N);case Je:return mp(N,X);case Me:case Te:case je:case Ke:case Le:case rt:case Oe:case De:case ut:return Dg(N,X);case be:return new Be;case re:case ke:return new Be(N);case ct:return a0(N);case _e:return new Be;case Ze:return pp(N)}}function fm(N,_){var X=_.length;if(!X)return N;var Be=X-1;return _[Be]=(X>1?"& ":"")+_[Be],_=_.join(X>2?", ":" "),N.replace(fr,`{
/* [wrapped with `+_+`] */
`)}function th(N){return ma(N)||IA(N)||!!(Yi&&N&&N[Yi])}function Yd(N,_){var X=typeof N;return _=_??se,!!_&&(X=="number"||X!="symbol"&&It.test(N))&&N>-1&&N%1==0&&N<_}function Yc(N,_,X){if(!jo(X))return!1;var Be=typeof _;return(Be=="number"?ec(X)&&Yd(_,X.length):Be=="string"&&_ in X)?vd(X[_],N):!1}function Cp(N,_){if(ma(N))return!1;var X=typeof N;return X=="number"||X=="symbol"||X=="boolean"||N==null||Vu(N)?!0:rn.test(N)||!ja.test(N)||_!=null&&N in xn(_)}function rh(N){var _=typeof N;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?N!=="__proto__":N===null}function hm(N){var _=yf(N),X=dt[_];if(typeof X!="function"||!(_ in ba.prototype))return!1;if(N===X)return!0;var Be=wp(X);return!!Be&&N===Be[0]}function Ep(N){return!!oo&&oo in N}var A0=Vl?lh:YS;function ui(N){var _=N&&N.constructor,X=typeof _=="function"&&_.prototype||zl;return N===X}function b1(N){return N===N&&!jo(N)}function w1(N,_){return function(X){return X==null?!1:X[N]===_&&(_!==r||N in xn(X))}}function Bp(N){var _=Jg(N,function(Be){return X.size===d&&X.clear(),Be}),X=_.cache;return _}function CA(N,_){var X=N[1],Be=_[1],Ye=X|Be,yt=Ye<(v|b|M),Pt=Be==M&&X==E||Be==M&&X==k&&N[7].length<=_[8]||Be==(M|k)&&_[7].length<=_[8]&&X==E;if(!(yt||Pt))return N;Be&v&&(N[2]=_[2],Ye|=X&v?0:j);var Ht=_[3];if(Ht){var Jt=N[3];N[3]=Jt?Mg(Jt,Ht,_[4]):Ht,N[4]=Jt?To(N[3],u):_[4]}return Ht=_[5],Ht&&(Jt=N[5],N[5]=Jt?i0(Jt,Ht,_[6]):Ht,N[6]=Jt?To(N[5],u):_[6]),Ht=_[7],Ht&&(N[7]=Ht),Be&M&&(N[8]=N[8]==null?_[8]:Ns(N[8],_[8])),N[9]==null&&(N[9]=_[9]),N[0]=_[0],N[1]=Ye,N}function nh(N){var _=[];if(N!=null)for(var X in xn(N))_.push(X);return _}function N1(N){return ca.call(N)}function Hg(N,_,X){return _=zs(_===r?N.length-1:_,0),function(){for(var Be=arguments,Ye=-1,yt=zs(Be.length-_,0),Pt=Wt(yt);++Ye<yt;)Pt[Ye]=Be[_+Ye];Ye=-1;for(var Ht=Wt(_+1);++Ye<_;)Ht[Ye]=Be[Ye];return Ht[_]=X(Pt),St(N,this,Ht)}}function EA(N,_){return _.length<2?N:Bn(N,Xl(_,0,-1))}function bf(N,_){for(var X=N.length,Be=Ns(_.length,X),Ye=bo(N);Be--;){var yt=_[Be];N[Be]=Yd(yt,X)?Ye[yt]:r}return N}function Tp(N,_){if(!(_==="constructor"&&typeof N[_]=="function")&&_!="__proto__")return N[_]}var _p=p0(co),Am=zf||function(N,_){return Xa.setTimeout(N,_)},m0=p0(Kd);function mm(N,_,X){var Be=_+"";return m0(N,fm(Be,g0(Np(Be),X)))}function p0(N){var _=0,X=0;return function(){var Be=Mu(),Ye=V-(Be-X);if(X=Be,Ye>0){if(++_>=L)return arguments[0]}else _=0;return N.apply(r,arguments)}}function BA(N,_){var X=-1,Be=N.length,Ye=Be-1;for(_=_===r?Be:_;++X<_;){var yt=ud(X,Ye),Pt=N[yt];N[yt]=N[X],N[X]=Pt}return N.length=_,N}var wf=Bp(function(N){var _=[];return N.charCodeAt(0)===46&&_.push(""),N.replace(Vr,function(X,Be,Ye,yt){_.push(Ye?yt.replace(Re,"$1"):Be||X)}),_});function Or(N){if(typeof N=="string"||Vu(N))return N;var _=N+"";return _=="0"&&1/N==-de?"-0":_}function vu(N){if(N!=null){try{return Nl.call(N)}catch{}try{return N+""}catch{}}return""}function g0(N,_){return Vt(Y,function(X){var Be="_."+X[0];_&X[1]&&!gn(N,Be)&&N.push(Be)}),N.sort()}function Ms(N){if(N instanceof ba)return N.clone();var _=new Go(N.__wrapped__,N.__chain__);return _.__actions__=bo(N.__actions__),_.__index__=N.__index__,_.__values__=N.__values__,_}function _y(N,_,X){(X?Yc(N,_,X):_===r)?_=1:_=zs(Ia(_),0);var Be=N==null?0:N.length;if(!Be||_<1)return[];for(var Ye=0,yt=0,Pt=Wt(du(Be/_));Ye<Be;)Pt[yt++]=Xl(N,Ye,Ye+=_);return Pt}function Es(N){for(var _=-1,X=N==null?0:N.length,Be=0,Ye=[];++_<X;){var yt=N[_];yt&&(Ye[Be++]=yt)}return Ye}function Li(){var N=arguments.length;if(!N)return[];for(var _=Wt(N-1),X=arguments[0],Be=N;Be--;)_[Be-1]=arguments[Be];return ia(ma(X)?bo(X):[X],fn(_,1))}var di=wa(function(N,_){return Yo(N)?Xt(N,fn(_,1,Yo,!0)):[]}),yu=wa(function(N,_){var X=fi(_);return Yo(X)&&(X=r),Yo(N)?Xt(N,fn(_,1,Yo,!0),un(X,2)):[]}),Ad=wa(function(N,_){var X=fi(_);return Yo(X)&&(X=r),Yo(N)?Xt(N,fn(_,1,Yo,!0),r,X):[]});function j1(N,_,X){var Be=N==null?0:N.length;return Be?(_=X||_===r?1:Ia(_),Xl(N,_<0?0:_,Be)):[]}function x0(N,_,X){var Be=N==null?0:N.length;return Be?(_=X||_===r?1:Ia(_),_=Be-_,Xl(N,0,_<0?0:_)):[]}function Fy(N,_){return N&&N.length?Ec(N,un(_,3),!0,!0):[]}function $g(N,_){return N&&N.length?Ec(N,un(_,3),!0):[]}function bu(N,_,X,Be){var Ye=N==null?0:N.length;return Ye?(X&&typeof X!="number"&&Yc(N,_,X)&&(X=0,Be=Ye),Zr(N,_,X,Be)):[]}function md(N,_,X){var Be=N==null?0:N.length;if(!Be)return-1;var Ye=X==null?0:Ia(X);return Ye<0&&(Ye=zs(Be+Ye,0)),hr(N,un(_,3),Ye)}function Fp(N,_,X){var Be=N==null?0:N.length;if(!Be)return-1;var Ye=Be-1;return X!==r&&(Ye=Ia(X),Ye=X<0?zs(Be+Ye,0):Ns(Ye,Be-1)),hr(N,un(_,3),Ye,!0)}function wu(N){var _=N==null?0:N.length;return _?fn(N,1):[]}function zg(N){var _=N==null?0:N.length;return _?fn(N,de):[]}function ah(N,_){var X=N==null?0:N.length;return X?(_=_===r?1:Ia(_),fn(N,_)):[]}function sh(N){for(var _=-1,X=N==null?0:N.length,Be={};++_<X;){var Ye=N[_];Be[Ye[0]]=Ye[1]}return Be}function Nf(N){return N&&N.length?N[0]:r}function Vg(N,_,X){var Be=N==null?0:N.length;if(!Be)return-1;var Ye=X==null?0:Ia(X);return Ye<0&&(Ye=zs(Be+Ye,0)),Br(N,_,Ye)}function Ip(N){var _=N==null?0:N.length;return _?Xl(N,0,-1):[]}var jf=wa(function(N){var _=nn(N,pu);return _.length&&_[0]===N[0]?Da(_):[]}),S1=wa(function(N){var _=fi(N),X=nn(N,pu);return _===fi(X)?_=r:X.pop(),X.length&&X[0]===N[0]?Da(X,un(_,2)):[]}),pm=wa(function(N){var _=fi(N),X=nn(N,pu);return _=typeof _=="function"?_:r,_&&X.pop(),X.length&&X[0]===N[0]?Da(X,r,_):[]});function Rh(N,_){return N==null?"":wc.call(N,_)}function fi(N){var _=N==null?0:N.length;return _?N[_-1]:r}function TA(N,_,X){var Be=N==null?0:N.length;if(!Be)return-1;var Ye=Be;return X!==r&&(Ye=Ia(X),Ye=Ye<0?zs(Be+Ye,0):Ns(Ye,Be-1)),_===_?Ka(N,_,Ye):hr(N,An,Ye,!0)}function v0(N,_){return N&&N.length?_h(N,Ia(_)):r}var C1=wa(gm);function gm(N,_){return N&&N.length&&_&&_.length?pf(N,_):N}function kp(N,_,X){return N&&N.length&&_&&_.length?pf(N,_,un(X,2)):N}function ih(N,_,X){return N&&N.length&&_&&_.length?pf(N,_,r,X):N}var y0=yi(function(N,_){var X=N==null?0:N.length,Be=ur(N,_);return Qu(N,nn(_,function(Ye){return Yd(Ye,X)?+Ye:Ye}).sort(s0)),Be});function Iy(N,_){var X=[];if(!(N&&N.length))return X;var Be=-1,Ye=[],yt=N.length;for(_=un(_,3);++Be<yt;){var Pt=N[Be];_(Pt,Be,N)&&(X.push(Pt),Ye.push(Be))}return Qu(N,Ye),X}function Qh(N){return N==null?N:$d.call(N)}function qs(N,_,X){var Be=N==null?0:N.length;return Be?(X&&typeof X!="number"&&Yc(N,_,X)?(_=0,X=Be):(_=_==null?0:Ia(_),X=X===r?Be:Ia(X)),Xl(N,_,X)):[]}function bi(N,_){return Wo(N,_)}function Ga(N,_,X){return Ph(N,_,un(X,2))}function hs(N,_){var X=N==null?0:N.length;if(X){var Be=Wo(N,_);if(Be<X&&vd(N[Be],_))return Be}return-1}function Us(N,_){return Wo(N,_,!0)}function $u(N,_,X){return Ph(N,_,un(X,2),!0)}function Hh(N,_){var X=N==null?0:N.length;if(X){var Be=Wo(N,_,!0)-1;if(vd(N[Be],_))return Be}return-1}function xm(N){return N&&N.length?qd(N):[]}function Kg(N,_){return N&&N.length?qd(N,un(_,2)):[]}function oh(N){var _=N==null?0:N.length;return _?Xl(N,1,_):[]}function wo(N,_,X){return N&&N.length?(_=X||_===r?1:Ia(_),Xl(N,0,_<0?0:_)):[]}function $h(N,_,X){var Be=N==null?0:N.length;return Be?(_=X||_===r?1:Ia(_),_=Be-_,Xl(N,_<0?0:_,Be)):[]}function _A(N,_){return N&&N.length?Ec(N,un(_,3),!1,!0):[]}function qg(N,_){return N&&N.length?Ec(N,un(_,3)):[]}var pd=wa(function(N){return Jl(fn(N,1,Yo,!0))}),vm=wa(function(N){var _=fi(N);return Yo(_)&&(_=r),Jl(fn(N,1,Yo,!0),un(_,2))}),b0=wa(function(N){var _=fi(N);return _=typeof _=="function"?_:r,Jl(fn(N,1,Yo,!0),r,_)});function Nu(N){return N&&N.length?Jl(N):[]}function Gg(N,_){return N&&N.length?Jl(N,un(_,2)):[]}function H(N,_){return _=typeof _=="function"?_:r,N&&N.length?Jl(N,r,_):[]}function D(N){if(!(N&&N.length))return[];var _=0;return N=tn(N,function(X){if(Yo(X))return _=zs(X.length,_),!0}),As(_,function(X){return nn(N,_n(X))})}function G(N,_){if(!(N&&N.length))return[];var X=D(N);return _==null?X:nn(X,function(Be){return St(_,r,Be)})}var q=wa(function(N,_){return Yo(N)?Xt(N,_):[]}),we=wa(function(N){return uo(tn(N,Yo))}),Ue=wa(function(N){var _=fi(N);return Yo(_)&&(_=r),uo(tn(N,Yo),un(_,2))}),tt=wa(function(N){var _=fi(N);return _=typeof _=="function"?_:r,uo(tn(N,Yo),r,_)}),Nt=wa(D);function jt(N,_){return ko(N||[],_||[],it)}function Qt(N,_){return ko(N||[],_||[],mu)}var Kt=wa(function(N){var _=N.length,X=_>1?N[_-1]:r;return X=typeof X=="function"?(N.pop(),X):r,G(N,X)});function er(N){var _=dt(N);return _.__chain__=!0,_}function br(N,_){return _(N),N}function Gr(N,_){return _(N)}var zr=yi(function(N){var _=N.length,X=_?N[0]:0,Be=this.__wrapped__,Ye=function(yt){return ur(yt,N)};return _>1||this.__actions__.length||!(Be instanceof ba)||!Yd(X)?this.thru(Ye):(Be=Be.slice(X,+X+(_?1:0)),Be.__actions__.push({func:Gr,args:[Ye],thisArg:r}),new Go(Be,this.__chain__).thru(function(yt){return _&&!yt.length&&yt.push(r),yt}))});function Kr(){return er(this)}function Fa(){return new Go(this.value(),this.__chain__)}function jn(){this.__values__===r&&(this.__values__=Jd(this.value()));var N=this.__index__>=this.__values__.length,_=N?r:this.__values__[this.__index__++];return{done:N,value:_}}function bn(){return this}function za(N){for(var _,X=this;X instanceof Io;){var Be=Ms(X);Be.__index__=0,Be.__values__=r,_?Ye.__wrapped__=Be:_=Be;var Ye=Be;X=X.__wrapped__}return Ye.__wrapped__=N,_}function Ba(){var N=this.__wrapped__;if(N instanceof ba){var _=N;return this.__actions__.length&&(_=new ba(this)),_=_.reverse(),_.__actions__.push({func:Gr,args:[Qh],thisArg:r}),new Go(_,this.__chain__)}return this.thru(Qh)}function ta(){return Zi(this.__wrapped__,this.__actions__)}var ln=Oh(function(N,_,X){ka.call(N,X)?++N[X]:pr(N,X,1)});function os(N,_,X){var Be=ma(N)?Er:$r;return X&&Yc(N,_,X)&&(_=r),Be(N,un(_,3))}function ls(N,_){var X=ma(N)?tn:pn;return X(N,un(_,3))}var la=vf(md),No=vf(Fp);function _c(N,_){return fn(gd(N,_),1)}function zu(N,_){return fn(gd(N,_),de)}function ri(N,_,X){return X=X===r?1:Ia(X),fn(gd(N,_),X)}function Fl(N,_){var X=ma(N)?Vt:Sr;return X(N,un(_,3))}function Sf(N,_){var X=ma(N)?wr:Un;return X(N,un(_,3))}var Xc=Oh(function(N,_,X){ka.call(N,X)?N[X].push(_):pr(N,X,[_])});function ll(N,_,X,Be){N=ec(N)?N:Rp(N),X=X&&!Be?Ia(X):0;var Ye=N.length;return X<0&&(X=zs(Ye+X,0)),O1(N)?X<=Ye&&N.indexOf(_,X)>-1:!!Ye&&Br(N,_,X)>-1}var Cf=wa(function(N,_,X){var Be=-1,Ye=typeof _=="function",yt=ec(N)?Wt(N.length):[];return Sr(N,function(Pt){yt[++Be]=Ye?St(_,Pt,X):Fi(Pt,_,X)}),yt}),Xd=Oh(function(N,_,X){pr(N,X,_)});function gd(N,_){var X=ma(N)?nn:Th;return X(N,un(_,3))}function zh(N,_,X,Be){return N==null?[]:(ma(_)||(_=_==null?[]:[_]),X=Be?r:X,ma(X)||(X=X==null?[]:[X]),Fh(N,_,X))}var Vh=Oh(function(N,_,X){N[X?0:1].push(_)},function(){return[[],[]]});function Ef(N,_,X){var Be=ma(N)?ts:Ha,Ye=arguments.length<3;return Be(N,un(_,4),X,Ye,Sr)}function Kh(N,_,X){var Be=ma(N)?Ws:Ha,Ye=arguments.length<3;return Be(N,un(_,4),X,Ye,Un)}function xd(N,_){var X=ma(N)?tn:pn;return X(N,Zg(un(_,3)))}function FA(N){var _=ma(N)?Ve:Cc;return _(N)}function ym(N,_,X){(X?Yc(N,_,X):_===r)?_=1:_=Ia(_);var Be=ma(N)?at:gf;return Be(N,_)}function Oi(N){var _=ma(N)?wt:Ih;return _(N)}function ky(N){if(N==null)return 0;if(ec(N))return O1(N)?ps(N):N.length;var _=ol(N);return _==be||_==_e?N.size:hu(N).length}function vS(N,_,X){var Be=ma(N)?ae:kh;return X&&Yc(N,_,X)&&(_=r),Be(N,un(_,3))}var Ew=wa(function(N,_){if(N==null)return[];var X=_.length;return X>1&&Yc(N,_[0],_[1])?_=[]:X>2&&Yc(_[0],_[1],_[2])&&(_=[_[0]]),Fh(N,fn(_,1),[])}),E1=Sl||function(){return Xa.Date.now()};function yS(N,_){if(typeof _!="function")throw new Xs(o);return N=Ia(N),function(){if(--N<1)return _.apply(this,arguments)}}function Bw(N,_,X){return _=X?r:_,_=N&&_==null?N.length:_,Wd(N,M,r,r,r,r,_)}function Wg(N,_){var X;if(typeof _!="function")throw new Xs(o);return N=Ia(N),function(){return--N>0&&(X=_.apply(this,arguments)),N<=1&&(_=r),X}}var bm=wa(function(N,_,X){var Be=v;if(X.length){var Ye=To(X,Uh(bm));Be|=P}return Wd(N,Be,_,X,Ye)}),B1=wa(function(N,_,X){var Be=v|b;if(X.length){var Ye=To(X,Uh(B1));Be|=P}return Wd(_,Be,N,X,Ye)});function Yg(N,_,X){_=X?r:_;var Be=Wd(N,E,r,r,r,r,r,_);return Be.placeholder=Yg.placeholder,Be}function T1(N,_,X){_=X?r:_;var Be=Wd(N,T,r,r,r,r,r,_);return Be.placeholder=T1.placeholder,Be}function wm(N,_,X){var Be,Ye,yt,Pt,Ht,Jt,Tr=0,Fr=!1,Mr=!1,hn=!0;if(typeof N!="function")throw new Xs(o);_=Tf(_)||0,jo(X)&&(Fr=!!X.leading,Mr="maxWait"in X,yt=Mr?zs(Tf(X.maxWait)||0,_):yt,hn="trailing"in X?!!X.trailing:hn);function Ln(nc){var PA=Be,N0=Ye;return Be=Ye=r,Tr=nc,Pt=N.apply(N0,PA),Pt}function fa(nc){return Tr=nc,Ht=Am(gs,_),Fr?Ln(nc):Pt}function as(nc){var PA=nc-Jt,N0=nc-Tr,CI=_-PA;return Mr?Ns(CI,yt-N0):CI}function ha(nc){var PA=nc-Jt,N0=nc-Tr;return Jt===r||PA>=_||PA<0||Mr&&N0>=yt}function gs(){var nc=E1();if(ha(nc))return Ts(nc);Ht=Am(gs,as(nc))}function Ts(nc){return Ht=r,hn&&Be?Ln(nc):(Be=Ye=r,Pt)}function uh(){Ht!==r&&xf(Ht),Tr=0,Be=Jt=Ye=Ht=r}function Zd(){return Ht===r?Pt:Ts(E1())}function dh(){var nc=E1(),PA=ha(nc);if(Be=arguments,Ye=this,Jt=nc,PA){if(Ht===r)return fa(Jt);if(Mr)return xf(Ht),Ht=Am(gs,_),Ln(Jt)}return Ht===r&&(Ht=Am(gs,_)),Pt}return dh.cancel=uh,dh.flush=Zd,dh}var qh=wa(function(N,_){return Wr(N,1,_)}),Xg=wa(function(N,_,X){return Wr(N,Tf(_)||0,X)});function bS(N){return Wd(N,Q)}function Jg(N,_){if(typeof N!="function"||_!=null&&typeof _!="function")throw new Xs(o);var X=function(){var Be=arguments,Ye=_?_.apply(this,Be):Be[0],yt=X.cache;if(yt.has(Ye))return yt.get(Ye);var Pt=N.apply(this,Be);return X.cache=yt.set(Ye,Pt)||yt,Pt};return X.cache=new(Jg.Cache||Xi),X}Jg.Cache=Xi;function Zg(N){if(typeof N!="function")throw new Xs(o);return function(){var _=arguments;switch(_.length){case 0:return!N.call(this);case 1:return!N.call(this,_[0]);case 2:return!N.call(this,_[0],_[1]);case 3:return!N.call(this,_[0],_[1],_[2])}return!N.apply(this,_)}}function Tw(N){return Wg(2,N)}var _w=lm(function(N,_){_=_.length==1&&ma(_[0])?nn(_[0],Mn(un())):nn(fn(_,1),Mn(un()));var X=_.length;return wa(function(Be){for(var Ye=-1,yt=Ns(Be.length,X);++Ye<yt;)Be[Ye]=_[Ye].call(this,Be[Ye]);return St(N,this,Be)})}),Py=wa(function(N,_){var X=To(_,Uh(Py));return Wd(N,P,r,_,X)}),_1=wa(function(N,_){var X=To(_,Uh(_1));return Wd(N,U,r,_,X)}),Fw=yi(function(N,_){return Wd(N,k,r,r,r,_)});function Iw(N,_){if(typeof N!="function")throw new Xs(o);return _=_===r?_:Ia(_),wa(N,_)}function wS(N,_){if(typeof N!="function")throw new Xs(o);return _=_==null?0:zs(Ia(_),0),wa(function(X){var Be=X[_],Ye=Bc(X,0,_);return Be&&ia(Ye,Be),St(N,this,Ye)})}function Ly(N,_,X){var Be=!0,Ye=!0;if(typeof N!="function")throw new Xs(o);return jo(X)&&(Be="leading"in X?!!X.leading:Be,Ye="trailing"in X?!!X.trailing:Ye),wm(N,_,{leading:Be,maxWait:_,trailing:Ye})}function Oy(N){return Bw(N,1)}function NS(N,_){return Py(Hu(_),N)}function jS(){if(!arguments.length)return[];var N=arguments[0];return ma(N)?N:[N]}function ex(N){return lr(N,A)}function SS(N,_){return _=typeof _=="function"?_:r,lr(N,A,_)}function kw(N){return lr(N,h|A)}function cs(N,_){return _=typeof _=="function"?_:r,lr(N,h|A,_)}function Dy(N,_){return _==null||Vn(N,_,rc(_))}function vd(N,_){return N===_||N!==N&&_!==_}var My=Xf(Ca),Pw=Xf(function(N,_){return N>=_}),IA=lo((function(){return arguments})())?lo:function(N){return Po(N)&&ka.call(N,"callee")&&!is.call(N,"callee")},ma=Wt.isArray,F1=yl?Mn(yl):Cs;function ec(N){return N!=null&&w0(N.length)&&!lh(N)}function Yo(N){return Po(N)&&ec(N)}function CS(N){return N===!0||N===!1||Po(N)&&on(N)==pe}var Nm=Vc||YS,Lw=vc?Mn(vc):$a;function Ow(N){return Po(N)&&N.nodeType===1&&!Bf(N)}function I1(N){if(N==null)return!0;if(ec(N)&&(ma(N)||typeof N=="string"||typeof N.splice=="function"||Nm(N)||Pp(N)||IA(N)))return!N.length;var _=ol(N);if(_==be||_==_e)return!N.size;if(ui(N))return!hu(N).length;for(var X in N)if(ka.call(N,X))return!1;return!0}function wi(N,_){return ti(N,_)}function Uy(N,_,X){X=typeof X=="function"?X:r;var Be=X?X(N,_):r;return Be===r?ti(N,_,r,X):!!Be}function tc(N){if(!Po(N))return!1;var _=on(N);return _==te||_==le||typeof N.message=="string"&&typeof N.name=="string"&&!Bf(N)}function ES(N){return typeof N=="number"&&Vf(N)}function lh(N){if(!jo(N))return!1;var _=on(N);return _==Ne||_==Fe||_==ye||_==He}function k1(N){return typeof N=="number"&&N==Ia(N)}function w0(N){return typeof N=="number"&&N>-1&&N%1==0&&N<=se}function jo(N){var _=typeof N;return N!=null&&(_=="object"||_=="function")}function Po(N){return N!=null&&typeof N=="object"}var P1=lu?Mn(lu):Ea;function Ry(N,_){return N===_||vi(N,_,Jf(_))}function BS(N,_,X){return X=typeof X=="function"?X:r,vi(N,_,Jf(_),X)}function Dw(N){return Uw(N)&&N!=+N}function TS(N){if(A0(N))throw new Rr(i);return Ks(N)}function Mw(N){return N===null}function _S(N){return N==null}function Uw(N){return typeof N=="number"||Po(N)&&on(N)==re}function Bf(N){if(!Po(N)||on(N)!=st)return!1;var _=cu(N);if(_===null)return!0;var X=ka.call(_,"constructor")&&_.constructor;return typeof X=="function"&&X instanceof X&&Nl.call(X)==Sa}var L1=Co?Mn(Co):Sc;function Qy(N){return k1(N)&&N>=-se&&N<=se}var Rw=Ae?Mn(Ae):Tl;function O1(N){return typeof N=="string"||!ma(N)&&Po(N)&&on(N)==ke}function Vu(N){return typeof N=="symbol"||Po(N)&&on(N)==Ze}var Pp=We?Mn(We):ci;function ch(N){return N===r}function Hy(N){return Po(N)&&ol(N)==ot}function Qw(N){return Po(N)&&on(N)==Ge}var Hw=Xf(Yl),tx=Xf(function(N,_){return N<=_});function Jd(N){if(!N)return[];if(ec(N))return O1(N)?Pa(N):bo(N);if(Kl&&N[Kl])return al(N[Kl]());var _=ol(N),X=_==be?Bo:_==_e?wl:Rp;return X(N)}function Gh(N){if(!N)return N===0?N:0;if(N=Tf(N),N===de||N===-de){var _=N<0?-1:1;return _*he}return N===N?N:0}function Ia(N){var _=Gh(N),X=_%1;return _===_?X?_-X:_:0}function Wh(N){return N?Ir(Ia(N),0,ve):0}function Tf(N){if(typeof N=="number")return N;if(Vu(N))return fe;if(jo(N)){var _=typeof N.valueOf=="function"?N.valueOf():N;N=jo(_)?_+"":_}if(typeof N!="string")return N===0?N:+N;N=Eo(N);var X=Et.test(N);return X||bt.test(N)?ou(N.slice(2),X?2:8):nt.test(N)?fe:+N}function $w(N){return gu(N,Fc(N))}function Lp(N){return N?Ir(Ia(N),-se,se):N===0?N:0}function Gs(N){return N==null?"":rs(N)}var FS=Dh(function(N,_){if(ui(_)||ec(_)){gu(_,rc(_),N);return}for(var X in _)ka.call(_,X)&&it(N,X,_[X])}),zw=Dh(function(N,_){gu(_,Fc(_),N)}),D1=Dh(function(N,_,X,Be){gu(_,Fc(_),N,Be)}),IS=Dh(function(N,_,X,Be){gu(_,rc(_),N,Be)}),kS=yi(ur);function PS(N,_){var X=sl(N);return _==null?X:Ut(X,_)}var LS=wa(function(N,_){N=xn(N);var X=-1,Be=_.length,Ye=Be>2?_[2]:r;for(Ye&&Yc(_[0],_[1],Ye)&&(Be=1);++X<Be;)for(var yt=_[X],Pt=Fc(yt),Ht=-1,Jt=Pt.length;++Ht<Jt;){var Tr=Pt[Ht],Fr=N[Tr];(Fr===r||vd(Fr,zl[Tr])&&!ka.call(N,Tr))&&(N[Tr]=yt[Tr])}return N}),Vw=wa(function(N){return N.push(r,dm),St(sx,r,N)});function Op(N,_){return Gt(N,un(_,3),ua)}function rx(N,_){return Gt(N,un(_,3),Aa)}function Kw(N,_){return N==null?N:Nn(N,un(_,3),Fc)}function OS(N,_){return N==null?N:qa(N,un(_,3),Fc)}function Dp(N,_){return N&&ua(N,un(_,3))}function nx(N,_){return N&&Aa(N,un(_,3))}function qw(N){return N==null?[]:yn(N,rc(N))}function M1(N){return N==null?[]:yn(N,Fc(N))}function ax(N,_,X){var Be=N==null?r:Bn(N,_);return Be===r?X:Be}function $y(N,_){return N!=null&&jA(N,_,_i)}function Mp(N,_){return N!=null&&jA(N,_,fs)}var Gw=Mh(function(N,_,X){_!=null&&typeof _.toString!="function"&&(_=ca.call(_)),N[_]=X},ir(or)),Ww=Mh(function(N,_,X){_!=null&&typeof _.toString!="function"&&(_=ca.call(_)),ka.call(N,_)?N[_].push(X):N[_]=[X]},un),DS=wa(Fi);function rc(N){return ec(N)?vt(N):hu(N)}function Fc(N){return ec(N)?vt(N,!0):Au(N)}function MS(N,_){var X={};return _=un(_,3),ua(N,function(Be,Ye,yt){pr(X,_(Be,Ye,yt),Be)}),X}function US(N,_){var X={};return _=un(_,3),ua(N,function(Be,Ye,yt){pr(X,Ye,_(Be,Ye,yt))}),X}var RS=Dh(function(N,_,X){ki(N,_,X)}),sx=Dh(function(N,_,X,Be){ki(N,_,X,Be)}),U1=yi(function(N,_){var X={};if(N==null)return X;var Be=!1;_=nn(_,function(yt){return yt=qc(yt,N),Be||(Be=yt.length>1),yt}),gu(N,bp(N),X),Be&&(X=lr(X,h|m|A,f0));for(var Ye=_.length;Ye--;)Zl(X,_[Ye]);return X});function zy(N,_){return Up(N,Zg(un(_)))}var QS=yi(function(N,_){return N==null?{}:Gf(N,_)});function Up(N,_){if(N==null)return{};var X=nn(bp(N),function(Be){return[Be]});return _=un(_),Kc(N,X,function(Be,Ye){return _(Be,Ye[0])})}function HS(N,_,X){_=qc(_,N);var Be=-1,Ye=_.length;for(Ye||(Ye=1,N=r);++Be<Ye;){var yt=N==null?r:N[Or(_[Be])];yt===r&&(Be=Ye,yt=X),N=lh(yt)?yt.call(N):yt}return N}function Yw(N,_,X){return N==null?N:mu(N,_,X)}function Xw(N,_,X,Be){return Be=typeof Be=="function"?Be:r,N==null?N:mu(N,_,X,Be)}var Vy=um(rc),Ky=um(Fc);function qy(N,_,X){var Be=ma(N),Ye=Be||Nm(N)||Pp(N);if(_=un(_,4),X==null){var yt=N&&N.constructor;Ye?X=Be?new yt:[]:jo(N)?X=lh(yt)?sl(cu(N)):{}:X={}}return(Ye?Vt:ua)(N,function(Pt,Ht,Jt){return _(X,Pt,Ht,Jt)}),X}function Jw(N,_){return N==null?!0:Zl(N,_)}function R1(N,_,X){return N==null?N:Gd(N,_,Hu(X))}function $S(N,_,X,Be){return Be=typeof Be=="function"?Be:r,N==null?N:Gd(N,_,Hu(X),Be)}function Rp(N){return N==null?[]:us(N,rc(N))}function Gy(N){return N==null?[]:us(N,Fc(N))}function Wy(N,_,X){return X===r&&(X=_,_=r),X!==r&&(X=Tf(X),X=X===X?X:0),_!==r&&(_=Tf(_),_=_===_?_:0),Ir(Tf(N),_,X)}function Q1(N,_,X){return _=Gh(_),X===r?(X=_,_=0):X=Gh(X),N=Tf(N),Ji(N,_,X)}function Yy(N,_,X){if(X&&typeof X!="boolean"&&Yc(N,_,X)&&(_=X=r),X===r&&(typeof _=="boolean"?(X=_,_=r):typeof N=="boolean"&&(X=N,N=r)),N===r&&_===r?(N=0,_=1):(N=Gh(N),_===r?(_=N,N=0):_=Gh(_)),N>_){var Be=N;N=_,_=Be}if(X||N%1||_%1){var Ye=AA();return Ns(N+Ye*(_-N+$o("1e-"+((Ye+"").length-1))),_)}return ud(N,_)}var Zw=Tc(function(N,_,X){return _=_.toLowerCase(),N+(X?H1(_):_)});function H1(N){return F(Gs(N).toLowerCase())}function kA(N){return N=Gs(N),N&&N.replace(nr,vs).replace(xl,"")}function jm(N,_,X){N=Gs(N),_=rs(_);var Be=N.length;X=X===r?Be:Ir(Ia(X),0,Be);var Ye=X;return X-=_.length,X>=0&&N.slice(X,Ye)==_}function Sm(N){return N=Gs(N),N&&rr.test(N)?N.replace(Zt,yc):N}function ix(N){return N=Gs(N),N&&Gn.test(N)?N.replace(On,"\\$&"):N}var ox=Tc(function(N,_,X){return N+(X?"-":"")+_.toLowerCase()}),Cm=Tc(function(N,_,X){return N+(X?" ":"")+_.toLowerCase()}),zS=xu("toLowerCase");function e4(N,_,X){N=Gs(N),_=Ia(_);var Be=_?ps(N):0;if(!_||Be>=_)return N;var Ye=(_-Be)/2;return u0(ql(Ye),X)+N+u0(du(Ye),X)}function lx(N,_,X){N=Gs(N),_=Ia(_);var Be=_?ps(N):0;return _&&Be<_?N+u0(_-Be,X):N}function VS(N,_,X){N=Gs(N),_=Ia(_);var Be=_?ps(N):0;return _&&Be<_?u0(_-Be,X)+N:N}function t4(N,_,X){return X||_==null?_=0:_&&(_=+_),Hd(Gs(N).replace(Dn,""),_||0)}function $1(N,_,X){return(X?Yc(N,_,X):_===r)?_=1:_=Ia(_),Vd(Gs(N),_)}function r4(){var N=arguments,_=Gs(N[0]);return N.length<3?_:_.replace(N[1],N[2])}var KS=Tc(function(N,_,X){return N+(X?"_":"")+_.toLowerCase()});function z1(N,_,X){return X&&typeof X!="number"&&Yc(N,_,X)&&(_=X=r),X=X===r?ve:X>>>0,X?(N=Gs(N),N&&(typeof _=="string"||_!=null&&!L1(_))&&(_=rs(_),!_&&$n(N))?Bc(Pa(N),0,X):N.split(_,X)):[]}var V1=Tc(function(N,_,X){return N+(X?" ":"")+F(_)});function n4(N,_,X){return N=Gs(N),X=X==null?0:Ir(Ia(X),0,N.length),_=rs(_),N.slice(X,X+_.length)==_}function cx(N,_,X){var Be=dt.templateSettings;X&&Yc(N,_,X)&&(_=r),N=Gs(N),_=D1({},_,Be,yp);var Ye=D1({},_.imports,Be.imports,yp),yt=rc(Ye),Pt=us(Ye,yt),Ht,Jt,Tr=0,Fr=_.interpolate||tr,Mr="__p += '",hn=_o((_.escape||tr).source+"|"+Fr.source+"|"+(Fr===dn?Ee:tr).source+"|"+(_.evaluate||tr).source+"|$","g"),Ln="//# sourceURL="+(ka.call(_,"sourceURL")?(_.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Du+"]")+`
`;N.replace(hn,function(ha,gs,Ts,uh,Zd,dh){return Ts||(Ts=uh),Mr+=N.slice(Tr,dh).replace(vr,Ei),gs&&(Ht=!0,Mr+=`' +
__e(`+gs+`) +
'`),Zd&&(Jt=!0,Mr+=`';
`+Zd+`;
__p += '`),Ts&&(Mr+=`' +
((__t = (`+Ts+`)) == null ? '' : __t) +
'`),Tr=dh+ha.length,ha}),Mr+=`';
`;var fa=ka.call(_,"variable")&&_.variable;if(!fa)Mr=`with (obj) {
`+Mr+`
}
`;else if(mt.test(fa))throw new Rr(l);Mr=(Jt?Mr.replace(_t,""):Mr).replace(qt,"$1").replace(Ft,"$1;"),Mr="function("+(fa||"obj")+`) {
`+(fa?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ht?", __e = _.escape":"")+(Jt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Mr+`return __p
}`;var as=oe(function(){return cn(yt,Ln+"return "+Mr).apply(r,Pt)});if(as.source=Mr,tc(as))throw as;return as}function Xy(N){return Gs(N).toLowerCase()}function K1(N){return Gs(N).toUpperCase()}function a4(N,_,X){if(N=Gs(N),N&&(X||_===r))return Eo(N);if(!N||!(_=rs(_)))return N;var Be=Pa(N),Ye=Pa(_),yt=qi(Be,Ye),Pt=ya(Be,Ye)+1;return Bc(Be,yt,Pt).join("")}function qS(N,_,X){if(N=Gs(N),N&&(X||_===r))return N.slice(0,Bi(N)+1);if(!N||!(_=rs(_)))return N;var Be=Pa(N),Ye=ya(Be,Pa(_))+1;return Bc(Be,0,Ye).join("")}function q1(N,_,X){if(N=Gs(N),N&&(X||_===r))return N.replace(Dn,"");if(!N||!(_=rs(_)))return N;var Be=Pa(N),Ye=qi(Be,Pa(_));return Bc(Be,Ye).join("")}function f(N,_){var X=z,Be=O;if(jo(_)){var Ye="separator"in _?_.separator:Ye;X="length"in _?Ia(_.length):X,Be="omission"in _?rs(_.omission):Be}N=Gs(N);var yt=N.length;if($n(N)){var Pt=Pa(N);yt=Pt.length}if(X>=yt)return N;var Ht=X-ps(Be);if(Ht<1)return Be;var Jt=Pt?Bc(Pt,0,Ht).join(""):N.slice(0,Ht);if(Ye===r)return Jt+Be;if(Pt&&(Ht+=Jt.length-Ht),L1(Ye)){if(N.slice(Ht).search(Ye)){var Tr,Fr=Jt;for(Ye.global||(Ye=_o(Ye.source,Gs(ht.exec(Ye))+"g")),Ye.lastIndex=0;Tr=Ye.exec(Fr);)var Mr=Tr.index;Jt=Jt.slice(0,Mr===r?Ht:Mr)}}else if(N.indexOf(rs(Ye),Ht)!=Ht){var hn=Jt.lastIndexOf(Ye);hn>-1&&(Jt=Jt.slice(0,hn))}return Jt+Be}function p(N){return N=Gs(N),N&&$t.test(N)?N.replace(gt,$l):N}var w=Tc(function(N,_,X){return N+(X?" ":"")+_.toUpperCase()}),F=xu("toUpperCase");function W(N,_,X){return N=Gs(N),_=X?r:_,_===r?Gi(N)?zo(N):Ot(N):N.match(_)||[]}var oe=wa(function(N,_){try{return St(N,r,_)}catch(X){return tc(X)?X:new Rr(X)}}),ze=yi(function(N,_){return Vt(_,function(X){X=Or(X),pr(N,X,bm(N[X],N))}),N});function At(N){var _=N==null?0:N.length,X=un();return N=_?nn(N,function(Be){if(typeof Be[1]!="function")throw new Xs(o);return[X(Be[0]),Be[1]]}):[],wa(function(Be){for(var Ye=-1;++Ye<_;){var yt=N[Ye];if(St(yt[0],this,Be))return St(yt[1],this,Be)}})}function Lt(N){return mn(lr(N,h))}function ir(N){return function(){return N}}function jr(N,_){return N==null||N!==N?_:N}var _r=Gc(),dr=Gc(!0);function or(N){return N}function aa(N){return Uu(typeof N=="function"?N:lr(N,h))}function ra(N){return yA(lr(N,h))}function Ni(N,_){return Ru(N,lr(_,h))}var Yt=wa(function(N,_){return function(X){return Fi(X,N,_)}}),zt=wa(function(N,_){return function(X){return Fi(N,X,_)}});function ar(N,_,X){var Be=rc(_),Ye=yn(_,Be);X==null&&!(jo(_)&&(Ye.length||!Be.length))&&(X=_,_=N,N=this,Ye=yn(_,rc(_)));var yt=!(jo(X)&&"chain"in X)||!!X.chain,Pt=lh(N);return Vt(Ye,function(Ht){var Jt=_[Ht];N[Ht]=Jt,Pt&&(N.prototype[Ht]=function(){var Tr=this.__chain__;if(yt||Tr){var Fr=N(this.__wrapped__),Mr=Fr.__actions__=bo(this.__actions__);return Mr.push({func:Jt,args:arguments,thisArg:N}),Fr.__chain__=Tr,Fr}return Jt.apply(N,ia([this.value()],arguments))})}),N}function Cr(){return Xa._===this&&(Xa._=ws),this}function wn(){}function ns(N){return N=Ia(N),wa(function(_){return _h(_,N)})}var Rn=c0(nn),sa=c0(Er),Ic=c0(ae);function Bs(N){return Cp(N)?_n(Or(N)):mf(N)}function Em(N){return function(_){return N==null?r:Bn(N,_)}}var GS=Yf(),TJ=Yf(!0);function WS(){return[]}function YS(){return!1}function _J(){return{}}function FJ(){return""}function IJ(){return!0}function kJ(N,_){if(N=Ia(N),N<1||N>se)return[];var X=ve,Be=Ns(N,ve);_=un(_),N-=ve;for(var Ye=As(Be,_);++X<N;)_(X);return Ye}function PJ(N){return ma(N)?nn(N,Or):Vu(N)?[N]:bo(wf(Gs(N)))}function LJ(N){var _=++Js;return Gs(N)+_}var OJ=cm(function(N,_){return N+_},0),DJ=d0("ceil"),MJ=cm(function(N,_){return N/_},1),UJ=d0("floor");function RJ(N){return N&&N.length?sn(N,or,Ca):r}function QJ(N,_){return N&&N.length?sn(N,un(_,2),Ca):r}function HJ(N){return Pn(N,or)}function $J(N,_){return Pn(N,un(_,2))}function zJ(N){return N&&N.length?sn(N,or,Yl):r}function VJ(N,_){return N&&N.length?sn(N,un(_,2),Yl):r}var KJ=cm(function(N,_){return N*_},1),qJ=d0("round"),GJ=cm(function(N,_){return N-_},0);function WJ(N){return N&&N.length?En(N,or):0}function YJ(N,_){return N&&N.length?En(N,un(_,2)):0}return dt.after=yS,dt.ary=Bw,dt.assign=FS,dt.assignIn=zw,dt.assignInWith=D1,dt.assignWith=IS,dt.at=kS,dt.before=Wg,dt.bind=bm,dt.bindAll=ze,dt.bindKey=B1,dt.castArray=jS,dt.chain=er,dt.chunk=_y,dt.compact=Es,dt.concat=Li,dt.cond=At,dt.conforms=Lt,dt.constant=ir,dt.countBy=ln,dt.create=PS,dt.curry=Yg,dt.curryRight=T1,dt.debounce=wm,dt.defaults=LS,dt.defaultsDeep=Vw,dt.defer=qh,dt.delay=Xg,dt.difference=di,dt.differenceBy=yu,dt.differenceWith=Ad,dt.drop=j1,dt.dropRight=x0,dt.dropRightWhile=Fy,dt.dropWhile=$g,dt.fill=bu,dt.filter=ls,dt.flatMap=_c,dt.flatMapDeep=zu,dt.flatMapDepth=ri,dt.flatten=wu,dt.flattenDeep=zg,dt.flattenDepth=ah,dt.flip=bS,dt.flow=_r,dt.flowRight=dr,dt.fromPairs=sh,dt.functions=qw,dt.functionsIn=M1,dt.groupBy=Xc,dt.initial=Ip,dt.intersection=jf,dt.intersectionBy=S1,dt.intersectionWith=pm,dt.invert=Gw,dt.invertBy=Ww,dt.invokeMap=Cf,dt.iteratee=aa,dt.keyBy=Xd,dt.keys=rc,dt.keysIn=Fc,dt.map=gd,dt.mapKeys=MS,dt.mapValues=US,dt.matches=ra,dt.matchesProperty=Ni,dt.memoize=Jg,dt.merge=RS,dt.mergeWith=sx,dt.method=Yt,dt.methodOf=zt,dt.mixin=ar,dt.negate=Zg,dt.nthArg=ns,dt.omit=U1,dt.omitBy=zy,dt.once=Tw,dt.orderBy=zh,dt.over=Rn,dt.overArgs=_w,dt.overEvery=sa,dt.overSome=Ic,dt.partial=Py,dt.partialRight=_1,dt.partition=Vh,dt.pick=QS,dt.pickBy=Up,dt.property=Bs,dt.propertyOf=Em,dt.pull=C1,dt.pullAll=gm,dt.pullAllBy=kp,dt.pullAllWith=ih,dt.pullAt=y0,dt.range=GS,dt.rangeRight=TJ,dt.rearg=Fw,dt.reject=xd,dt.remove=Iy,dt.rest=Iw,dt.reverse=Qh,dt.sampleSize=ym,dt.set=Yw,dt.setWith=Xw,dt.shuffle=Oi,dt.slice=qs,dt.sortBy=Ew,dt.sortedUniq=xm,dt.sortedUniqBy=Kg,dt.split=z1,dt.spread=wS,dt.tail=oh,dt.take=wo,dt.takeRight=$h,dt.takeRightWhile=_A,dt.takeWhile=qg,dt.tap=br,dt.throttle=Ly,dt.thru=Gr,dt.toArray=Jd,dt.toPairs=Vy,dt.toPairsIn=Ky,dt.toPath=PJ,dt.toPlainObject=$w,dt.transform=qy,dt.unary=Oy,dt.union=pd,dt.unionBy=vm,dt.unionWith=b0,dt.uniq=Nu,dt.uniqBy=Gg,dt.uniqWith=H,dt.unset=Jw,dt.unzip=D,dt.unzipWith=G,dt.update=R1,dt.updateWith=$S,dt.values=Rp,dt.valuesIn=Gy,dt.without=q,dt.words=W,dt.wrap=NS,dt.xor=we,dt.xorBy=Ue,dt.xorWith=tt,dt.zip=Nt,dt.zipObject=jt,dt.zipObjectDeep=Qt,dt.zipWith=Kt,dt.entries=Vy,dt.entriesIn=Ky,dt.extend=zw,dt.extendWith=D1,ar(dt,dt),dt.add=OJ,dt.attempt=oe,dt.camelCase=Zw,dt.capitalize=H1,dt.ceil=DJ,dt.clamp=Wy,dt.clone=ex,dt.cloneDeep=kw,dt.cloneDeepWith=cs,dt.cloneWith=SS,dt.conformsTo=Dy,dt.deburr=kA,dt.defaultTo=jr,dt.divide=MJ,dt.endsWith=jm,dt.eq=vd,dt.escape=Sm,dt.escapeRegExp=ix,dt.every=os,dt.find=la,dt.findIndex=md,dt.findKey=Op,dt.findLast=No,dt.findLastIndex=Fp,dt.findLastKey=rx,dt.floor=UJ,dt.forEach=Fl,dt.forEachRight=Sf,dt.forIn=Kw,dt.forInRight=OS,dt.forOwn=Dp,dt.forOwnRight=nx,dt.get=ax,dt.gt=My,dt.gte=Pw,dt.has=$y,dt.hasIn=Mp,dt.head=Nf,dt.identity=or,dt.includes=ll,dt.indexOf=Vg,dt.inRange=Q1,dt.invoke=DS,dt.isArguments=IA,dt.isArray=ma,dt.isArrayBuffer=F1,dt.isArrayLike=ec,dt.isArrayLikeObject=Yo,dt.isBoolean=CS,dt.isBuffer=Nm,dt.isDate=Lw,dt.isElement=Ow,dt.isEmpty=I1,dt.isEqual=wi,dt.isEqualWith=Uy,dt.isError=tc,dt.isFinite=ES,dt.isFunction=lh,dt.isInteger=k1,dt.isLength=w0,dt.isMap=P1,dt.isMatch=Ry,dt.isMatchWith=BS,dt.isNaN=Dw,dt.isNative=TS,dt.isNil=_S,dt.isNull=Mw,dt.isNumber=Uw,dt.isObject=jo,dt.isObjectLike=Po,dt.isPlainObject=Bf,dt.isRegExp=L1,dt.isSafeInteger=Qy,dt.isSet=Rw,dt.isString=O1,dt.isSymbol=Vu,dt.isTypedArray=Pp,dt.isUndefined=ch,dt.isWeakMap=Hy,dt.isWeakSet=Qw,dt.join=Rh,dt.kebabCase=ox,dt.last=fi,dt.lastIndexOf=TA,dt.lowerCase=Cm,dt.lowerFirst=zS,dt.lt=Hw,dt.lte=tx,dt.max=RJ,dt.maxBy=QJ,dt.mean=HJ,dt.meanBy=$J,dt.min=zJ,dt.minBy=VJ,dt.stubArray=WS,dt.stubFalse=YS,dt.stubObject=_J,dt.stubString=FJ,dt.stubTrue=IJ,dt.multiply=KJ,dt.nth=v0,dt.noConflict=Cr,dt.noop=wn,dt.now=E1,dt.pad=e4,dt.padEnd=lx,dt.padStart=VS,dt.parseInt=t4,dt.random=Yy,dt.reduce=Ef,dt.reduceRight=Kh,dt.repeat=$1,dt.replace=r4,dt.result=HS,dt.round=qJ,dt.runInContext=Rt,dt.sample=FA,dt.size=ky,dt.snakeCase=KS,dt.some=vS,dt.sortedIndex=bi,dt.sortedIndexBy=Ga,dt.sortedIndexOf=hs,dt.sortedLastIndex=Us,dt.sortedLastIndexBy=$u,dt.sortedLastIndexOf=Hh,dt.startCase=V1,dt.startsWith=n4,dt.subtract=GJ,dt.sum=WJ,dt.sumBy=YJ,dt.template=cx,dt.times=kJ,dt.toFinite=Gh,dt.toInteger=Ia,dt.toLength=Wh,dt.toLower=Xy,dt.toNumber=Tf,dt.toSafeInteger=Lp,dt.toString=Gs,dt.toUpper=K1,dt.trim=a4,dt.trimEnd=qS,dt.trimStart=q1,dt.truncate=f,dt.unescape=p,dt.uniqueId=LJ,dt.upperCase=w,dt.upperFirst=F,dt.each=Fl,dt.eachRight=Sf,dt.first=Nf,ar(dt,(function(){var N={};return ua(dt,function(_,X){ka.call(dt.prototype,X)||(N[X]=_)}),N})(),{chain:!1}),dt.VERSION=n,Vt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(N){dt[N].placeholder=dt}),Vt(["drop","take"],function(N,_){ba.prototype[N]=function(X){X=X===r?1:zs(Ia(X),0);var Be=this.__filtered__&&!_?new ba(this):this.clone();return Be.__filtered__?Be.__takeCount__=Ns(X,Be.__takeCount__):Be.__views__.push({size:Ns(X,ve),type:N+(Be.__dir__<0?"Right":"")}),Be},ba.prototype[N+"Right"]=function(X){return this.reverse()[N](X).reverse()}}),Vt(["filter","map","takeWhile"],function(N,_){var X=_+1,Be=X==J||X==ee;ba.prototype[N]=function(Ye){var yt=this.clone();return yt.__iteratees__.push({iteratee:un(Ye,3),type:X}),yt.__filtered__=yt.__filtered__||Be,yt}}),Vt(["head","last"],function(N,_){var X="take"+(_?"Right":"");ba.prototype[N]=function(){return this[X](1).value()[0]}}),Vt(["initial","tail"],function(N,_){var X="drop"+(_?"":"Right");ba.prototype[N]=function(){return this.__filtered__?new ba(this):this[X](1)}}),ba.prototype.compact=function(){return this.filter(or)},ba.prototype.find=function(N){return this.filter(N).head()},ba.prototype.findLast=function(N){return this.reverse().find(N)},ba.prototype.invokeMap=wa(function(N,_){return typeof N=="function"?new ba(this):this.map(function(X){return Fi(X,N,_)})}),ba.prototype.reject=function(N){return this.filter(Zg(un(N)))},ba.prototype.slice=function(N,_){N=Ia(N);var X=this;return X.__filtered__&&(N>0||_<0)?new ba(X):(N<0?X=X.takeRight(-N):N&&(X=X.drop(N)),_!==r&&(_=Ia(_),X=_<0?X.dropRight(-_):X.take(_-N)),X)},ba.prototype.takeRightWhile=function(N){return this.reverse().takeWhile(N).reverse()},ba.prototype.toArray=function(){return this.take(ve)},ua(ba.prototype,function(N,_){var X=/^(?:filter|find|map|reject)|While$/.test(_),Be=/^(?:head|last)$/.test(_),Ye=dt[Be?"take"+(_=="last"?"Right":""):_],yt=Be||/^find/.test(_);Ye&&(dt.prototype[_]=function(){var Pt=this.__wrapped__,Ht=Be?[1]:arguments,Jt=Pt instanceof ba,Tr=Ht[0],Fr=Jt||ma(Pt),Mr=function(gs){var Ts=Ye.apply(dt,ia([gs],Ht));return Be&&hn?Ts[0]:Ts};Fr&&X&&typeof Tr=="function"&&Tr.length!=1&&(Jt=Fr=!1);var hn=this.__chain__,Ln=!!this.__actions__.length,fa=yt&&!hn,as=Jt&&!Ln;if(!yt&&Fr){Pt=as?Pt:new ba(this);var ha=N.apply(Pt,Ht);return ha.__actions__.push({func:Gr,args:[Mr],thisArg:r}),new Go(ha,hn)}return fa&&as?N.apply(this,Ht):(ha=this.thru(Mr),fa?Be?ha.value()[0]:ha.value():ha)})}),Vt(["pop","push","shift","sort","splice","unshift"],function(N){var _=Fo[N],X=/^(?:push|sort|unshift)$/.test(N)?"tap":"thru",Be=/^(?:pop|shift)$/.test(N);dt.prototype[N]=function(){var Ye=arguments;if(Be&&!this.__chain__){var yt=this.value();return _.apply(ma(yt)?yt:[],Ye)}return this[X](function(Pt){return _.apply(ma(Pt)?Pt:[],Ye)})}}),ua(ba.prototype,function(N,_){var X=dt[_];if(X){var Be=X.name+"";ka.call(jc,Be)||(jc[Be]=[]),jc[Be].push({name:_,func:X})}}),jc[eo(r,b).name]=[{name:"wrapper",func:r}],ba.prototype.clone=zd,ba.prototype.reverse=Bh,ba.prototype.value=Wl,dt.prototype.at=zr,dt.prototype.chain=Kr,dt.prototype.commit=Fa,dt.prototype.next=jn,dt.prototype.plant=za,dt.prototype.reverse=Ba,dt.prototype.toJSON=dt.prototype.valueOf=dt.prototype.value=ta,dt.prototype.first=dt.prototype.head,Kl&&(dt.prototype[Kl]=bn),dt}),Os=Ti();io?((io.exports=Os)._=Os,Ci._=Os):Xa._=Os}).call(sBe)})(N2,N2.exports)),N2.exports}var oBe=iBe();const lBe="https://vidyaastra.com/api/schools/",cBe="https://vidyaastra.com/api/teacher/",uBe="https://vidyaastra.com/api/class/",dBe=()=>{const[e,t]=C.useState("upcoming"),[r,n]=C.useState(""),[s,i]=C.useState("all"),[o,l]=C.useState([]),[c,d]=C.useState(!0),[u,h]=C.useState(null),[m,A]=C.useState(""),[y,x]=C.useState(""),[v,b]=C.useState([]),[j,E]=C.useState({}),[T,P]=C.useState({}),[U,M]=C.useState("all"),[k,Q]=C.useState([]),[z,O]=C.useState(!1),[L,V]=C.useState(1),[J]=C.useState(10),[ce,ee]=C.useState(1),[de,se]=C.useState(0),[he,fe]=C.useState("date"),[ve,B]=C.useState("asc"),[R]=C.useState([{id:1,subject:"English",score:85,totalMarks:100,percentage:85,grade:"A",examDate:"2023-11-15",class:"10-A",teacher:"Ms. Davis",studentsAppeared:43,passRate:89.5},{id:2,subject:"History",score:78,totalMarks:100,percentage:78,grade:"B+",examDate:"2023-11-10",class:"11-A",teacher:"Mr. Brown",studentsAppeared:36,passRate:83.3},{id:3,subject:"Biology",score:92,totalMarks:100,percentage:92,grade:"A+",examDate:"2023-11-05",class:"12-A",teacher:"Dr. Taylor",studentsAppeared:40,passRate:95}]);C.useEffect(()=>{ge()},[]),C.useEffect(()=>{ye()},[L,U,m,y,r,he,ve]);const Y=C.useCallback(oBe.debounce(ke=>{n(ke),V(1)},500),[]),ie=ke=>{Y(ke.target.value)},ge=async()=>{O(!0);try{const ke=localStorage.getItem("token"),Ze=await fetch("https://vidyaastra.com/api/schools",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ke}`}});if(!Ze.ok)throw new Error(`HTTP error! Status: ${Ze.status}`);const Pe=await Ze.json();Pe.success&&Pe.data&&Q(Pe.data)}catch(ke){console.error("Error fetching schools:",ke),h("Error fetching schools: "+ke.message)}finally{O(!1)}},ye=async()=>{d(!0),h(null);try{const ke=new URLSearchParams({page:L.toString(),limit:J.toString(),sortBy:he,sortOrder:ve});U&&U!=="all"&&ke.append("schoolId",U),m&&ke.append("className",m),y&&ke.append("section",y),r&&ke.append("search",r);const Ze=await fetch(`https://vidyaastra.com/api/exams/all-unfiltered?${ke.toString()}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!Ze.ok)throw new Error(`HTTP error! Status: ${Ze.status}`);const Pe=await Ze.json();if(!Pe.success)throw new Error(Pe.message||"Failed to fetch exams");const ot=Pe.data.flatMap(rt=>{let Oe=rt.classId?.schoolId||rt.schoolId||null;return typeof Oe=="object"&&Oe!==null&&Oe._id&&(Oe=Oe._id),rt.subjects&&rt.subjects.length>0?rt.subjects.map(De=>({...rt,subject:De.subjectName,date:De.date,time:De.time,duration:De.duration,syllabus:De.syllabus,schoolId:Oe||"",id:`${rt._id}-${De._id}`})):[{...rt,subject:rt.subject||"Unknown",date:rt.date||"",time:rt.time||"",duration:rt.duration||"",syllabus:rt.syllabus||"",schoolId:Oe||"",id:rt._id}]}),lt=[...new Set(ot.map(rt=>rt.classId?._id).filter(Boolean))].map(async rt=>{try{const De=await(await fetch(`${uBe}${rt}`)).json();return De.success&&De.data?{_id:De.data._id,className:De.data.className||"Unknown",section:De.data.section||""}:{_id:rt,className:"Unknown",section:""}}catch{return{_id:rt,className:"Unknown",section:""}}}),Je=await Promise.all(lt);b(Je.filter(rt=>rt._id&&rt.className));const Me=[...new Set(ot.map(rt=>rt.schoolId).filter(Boolean))],Te={};await Promise.all(Me.map(async rt=>{try{const De=await(await fetch(`${lBe}${rt}`)).json();De.success&&De.data&&De.data.name?Te[rt]=De.data.name:Te[rt]="Unknown"}catch{Te[rt]="Unknown"}})),E(Te);const je=[...new Set(ot.map(rt=>rt.classId?.classTeacher).filter(rt=>rt&&typeof rt=="string"))],Ke={};await Promise.all(je.map(async rt=>{try{const De=await(await fetch(`${cBe}${rt}`)).json();De.success&&De.data&&De.data.name?Ke[rt]=De.data.name:Ke[rt]="Unknown"}catch{Ke[rt]="Unknown"}})),P(Ke);const Le=ot.map(rt=>{const Oe=Je.find(ut=>ut._id===rt.classId?._id),De=Oe?`${Oe.className}${Oe.section?`-${Oe.section}`:""}`:"Unknown";return{id:rt.id,subject:rt.subject,date:rt.date,time:rt.time,duration:rt.duration,chapters:rt.syllabus,type:rt.examType||"Final Exam",class:De,teacher:Ke[rt.classId?.classTeacher]||"Unknown",totalStudents:40,status:rt.status||"Scheduled",schoolId:rt.schoolId,schoolName:Te[rt.schoolId]||"Unknown"}});l(Le),ee(Pe.totalPages||1),se(Pe.total||0)}catch(ke){h("Error fetching exams: "+ke.message)}finally{d(!1)}};C.useEffect(()=>{x("")},[m]);const pe=[...new Set(v.map(ke=>ke.className).filter(Boolean))].sort(),Z=[...new Set(v.filter(ke=>ke.className===m).map(ke=>ke.section).filter(Boolean))].sort(),le=e==="upcoming"?o:R;[...new Set(o.map(ke=>ke.schoolId).filter(Boolean))].map(ke=>({_id:ke,name:j[ke]||"Unknown"}));const Ne=U==="all"?le:le.filter(ke=>ke.schoolId===U),Fe=Ne.filter(ke=>{const Ze=s==="all"||(e==="upcoming"?ke.type.includes(s):ke.grade===s),Pe=[ke.subject||"",ke.class||"",ke.teacher||""].some(Ge=>Ge.toLowerCase().includes(r.toLowerCase()));let ot=!0;if(m)if(e==="upcoming"){const Ge=v.find(lt=>`${lt.className}${lt.section?`-${lt.section}`:""}`===ke.class);ot=Ge&&Ge.className===m&&(!y||Ge.section===y)}else{const[Ge,lt]=ke.class.split("-");ot=Ge===m&&(!y||lt===y)}return Ze&&Pe&&ot}),be=Fe.reduce((ke,Ze)=>{const Pe=Ze.schoolName||"Unknown",ot=Ze.class||"Unknown";return ke[Pe]||(ke[Pe]={}),ke[Pe][ot]||(ke[Pe][ot]=[]),ke[Pe][ot].push(Ze),ke},{}),re={};Object.keys(be).sort().forEach(ke=>{re[ke]={},Object.keys(be[ke]).sort().forEach(Ze=>{re[ke][Ze]=[...be[ke][Ze]].sort((Pe,ot)=>{let Ge=Pe[he],lt=ot[he];return he==="date"?(Ge=new Date(Pe.date),lt=new Date(ot.date)):typeof Ge=="string"&&(Ge=Ge.toLowerCase(),lt=lt.toLowerCase()),Ge<lt?ve==="asc"?-1:1:Ge>lt?ve==="asc"?1:-1:0})})});const Ce=ke=>{he===ke?B(ve==="asc"?"desc":"asc"):(fe(ke),B("asc"))},st=()=>{const ke=window.open("","_blank"),Ze=document.getElementById("exam-content");Ze&&(ke.document.write(`
        <html>
          <head>
            <title>Exam Schedule Report</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; }
              .header { text-align: center; margin-bottom: 30px; }
              .header h1 { color: #333; margin-bottom: 10px; }
              .header p { color: #666; }
              table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
              th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
              th { background-color: #f5f5f5; font-weight: bold; }
              .school-group { margin-bottom: 30px; }
              .school-title { background-color: #e9ecef; padding: 10px; font-weight: bold; margin-bottom: 10px; }
              .class-group { margin-bottom: 20px; }
              .class-title { background-color: #f8f9fa; padding: 8px; font-weight: bold; margin-bottom: 5px; }
              @media print {
                body { margin: 0; }
                .no-print { display: none; }
              }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>Exam Schedule Report</h1>
              <p>Generated on: ${new Date().toLocaleDateString()}</p>
            </div>
            ${Ze.innerHTML}
          </body>
        </html>
      `),ke.document.close(),ke.print())},et=()=>{const ke=new Wn,Ze=ke.internal.pageSize.getWidth();let Pe=20;ke.setFontSize(20),ke.text("Exam Schedule Report",Ze/2,Pe,{align:"center"}),Pe+=10,ke.setFontSize(12),ke.text(`Generated on: ${new Date().toLocaleDateString()}`,Ze/2,Pe,{align:"center"}),Pe+=20;const ot=o.map(Ge=>[Ge.schoolName||"Unknown",Ge.class||"Unknown",Ge.subject||"Unknown",Ge.date||"N/A",Ge.time||"N/A",Ge.duration||"N/A",Ge.type||"N/A",Ge.teacher||"Unknown"]);ke.autoTable({head:[["School","Class","Subject","Date","Time","Duration","Type","Teacher"]],body:ot,startY:Pe,styles:{fontSize:8},headStyles:{fillColor:[37,99,235]},margin:{left:10,right:10}}),ke.save("exam_schedule_report.pdf")},He=()=>{n(""),i("all"),A(""),x(""),M("all"),V(1)},ct=()=>{if(Fe.length===0){alert("No data to export");return}let ke=[],Ze="";e==="upcoming"?(ke=Fe.map(Me=>({"School Name":Me.schoolName,Subject:Me.subject,Date:Me.date,Time:Me.time,Duration:Me.duration,Class:Me.class,Type:Me.type,Chapters:Me.chapters,"Total Students":Me.totalStudents,Status:Me.status})),Ze=`upcoming_exams_${new Date().toISOString().split("T")[0]}.csv`):(ke=Fe.map(Me=>({Subject:Me.subject,Score:Me.score,"Total Marks":Me.totalMarks,Percentage:Me.percentage,Grade:Me.grade,"Exam Date":Me.examDate,Class:Me.class,"Students Appeared":Me.studentsAppeared,"Pass Rate":Me.passRate})),Ze=`exam_results_${new Date().toISOString().split("T")[0]}.csv`);const Pe=Object.keys(ke[0]),ot=[Pe.join(","),...ke.map(Me=>Pe.map(Te=>`"${Me[Te]??""}"`).join(","))].join(`
`),Ge=new Blob([ot],{type:"text/csv;charset=utf-8;"}),lt=document.createElement("a"),Je=URL.createObjectURL(Ge);lt.setAttribute("href",Je),lt.setAttribute("download",Ze),lt.style.visibility="hidden",document.body.appendChild(lt),lt.click(),document.body.removeChild(lt)},_e=ke=>{ke>=1&&ke<=ce&&V(ke)};return a.jsxs("div",{className:"min-h-screen bg-gray-100",children:[a.jsx("div",{className:"bg-white border-b p-4 shadow-sm",children:a.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-black",children:"School Admin Panel"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{onClick:()=>t("upcoming"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="upcoming"?"bg-[#F37021] text-white":"bg-gray-200 text-black hover:bg-gray-300"}`,children:"Upcoming Exams"}),a.jsx("button",{onClick:()=>t("results"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="results"?"bg-[#F37021] text-white":"bg-gray-200 text-black hover:bg-gray-300"}`,children:"Exam Results"})]})]})}),a.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[c&&e==="upcoming"&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Jn,{className:"w-12 h-12 text-[#F37021] mx-auto mb-4 animate-pulse"}),a.jsx("p",{className:"text-black text-lg",children:"Loading exams..."})]}),u&&e==="upcoming"&&a.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-xl",children:[u,a.jsx("p",{className:"text-sm mt-2",children:"Please check if the backend server is running and accessible."})]}),!c&&!u&&a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-black",children:e==="upcoming"?"Upcoming Exams":"Exam Results"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:st,className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg shadow flex items-center space-x-2 transition-colors",title:"Print Report",disabled:c,children:[a.jsx(ly,{})," ",a.jsx("span",{children:"Print"})]}),a.jsxs("button",{onClick:et,className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg shadow flex items-center space-x-2 transition-colors",title:"Download PDF",disabled:c,children:[a.jsx(xs,{})," ",a.jsx("span",{children:"PDF"})]}),a.jsxs("button",{onClick:ct,className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg shadow flex items-center space-x-2 transition-colors",title:"Export to CSV",disabled:c,children:[a.jsx(xs,{})," ",a.jsx("span",{children:"CSV"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-black mb-2 flex items-center",children:[a.jsx(Ol,{className:"mr-2 text-[#F37021]"}),"Filter by School Name"]}),a.jsxs("select",{value:U,onChange:ke=>M(ke.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-black focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition-colors",disabled:c||z,children:[a.jsx("option",{value:"all",children:"All Schools"}),k.map(ke=>a.jsx("option",{value:ke._id,children:ke.name},ke._id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Exam Type / Grade"}),a.jsxs("select",{value:s,onChange:ke=>i(ke.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-black focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition-colors",disabled:c,children:[a.jsx("option",{value:"all",children:e==="upcoming"?"All Exam Types":"All Grades"}),e==="upcoming"?["Midterm","Final Exam","Unit Test","Quiz","Practical"].map(ke=>a.jsx("option",{value:ke,children:ke},ke)):["A+","A","B+","B","C+","C","F"].map(ke=>a.jsxs("option",{value:ke,children:["Grade ",ke]},ke))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Class"}),a.jsxs("select",{value:m,onChange:ke=>A(ke.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-black focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition-colors",disabled:c,children:[a.jsx("option",{value:"",children:"All Classes"}),pe.map(ke=>a.jsx("option",{value:ke,children:ke},ke))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Section"}),a.jsxs("select",{value:y,onChange:ke=>x(ke.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-black focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition-colors disabled:opacity-50",disabled:c||m===""||Z.length===0,children:[a.jsx("option",{value:"",children:"All Sections"}),Z.map(ke=>a.jsx("option",{value:ke,children:ke},ke))]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"Search"}),a.jsx(Va,{className:"absolute left-3 top-10 text-[#F37021]"}),a.jsx("input",{type:"text",placeholder:"Search by subject, class, or teacher...",onChange:ie,className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg w-full text-black focus:outline-none focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] transition-colors",disabled:c})]})]}),a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"text-sm text-black",children:["Showing ",Fe.length," of ",de," records"]}),a.jsx("button",{onClick:He,className:"px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-100 text-black transition-colors",disabled:c,children:"Clear All Filters"})]})})]}),!c&&!u&&a.jsx("div",{id:"exam-content",className:"bg-white rounded-xl shadow-lg overflow-hidden",children:a.jsxs("table",{className:"w-full table-auto min-w-max",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{className:"text-left text-sm font-semibold text-black",children:[a.jsxs("th",{onClick:()=>Ce("subject"),className:"p-4 cursor-pointer hover:bg-gray-100 transition-colors",children:["Subject"," ",he==="subject"&&a.jsx("span",{className:"ml-1",children:ve==="asc"?"":""})]}),a.jsxs("th",{onClick:()=>Ce("date"),className:"p-4 cursor-pointer hover:bg-gray-100 transition-colors",children:[e==="upcoming"?"Date/Time":"Score"," ",he==="date"&&a.jsx("span",{className:"ml-1",children:ve==="asc"?"":""})]}),a.jsxs("th",{onClick:()=>Ce("type"),className:"p-4 cursor-pointer hover:bg-gray-100 transition-colors",children:[e==="upcoming"?"Type":"Grade"," ",he==="type"&&a.jsx("span",{className:"ml-1",children:ve==="asc"?"":""})]}),a.jsx("th",{className:"p-4",children:"Details"})]})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[Object.keys(re).length===0&&Ne.length>0&&a.jsx("tr",{children:a.jsxs("td",{colSpan:"4",className:"p-8 text-center text-black",children:["No ",e==="upcoming"?"exams":"results"," ","match your current filters",a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:He,className:"text-[#F37021] hover:text-[#d65f1c] underline font-medium",children:"Clear all filters"})})]})}),Object.keys(re).length===0&&Ne.length===0&&a.jsx("tr",{children:a.jsxs("td",{colSpan:"4",className:"p-8 text-center text-black",children:["No ",e==="upcoming"?"exams":"results"," ","found"]})}),Object.keys(re).map(ke=>a.jsxs(Kn.Fragment,{children:[a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"bg-[#F37021]/10 p-4 font-semibold text-black text-lg",children:ke})}),Object.keys(re[ke]).map(Ze=>a.jsxs(Kn.Fragment,{children:[a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"bg-gray-50 p-4 font-medium text-black",children:Ze})}),re[ke][Ze].map(Pe=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"p-4 font-medium text-black",children:Pe.subject}),a.jsx("td",{className:"p-4 text-black",children:e==="upcoming"?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Jn,{className:"text-[#F37021]"}),a.jsx("span",{children:Pe.date}),a.jsx(es,{className:"text-[#F37021]"}),a.jsx("span",{children:Pe.time})]}):a.jsxs("span",{children:[Pe.score,"/",Pe.totalMarks," (",Pe.percentage.toFixed(1),"%)"]})}),a.jsx("td",{className:"p-4",children:e==="upcoming"?a.jsx("span",{className:"inline-block bg-[#F37021]/10 text-[#F37021] px-3 py-1 rounded-full text-sm font-medium",children:Pe.type}):a.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium text-white ${Pe.grade==="A+"?"bg-green-600":Pe.grade==="A"?"bg-green-500":Pe.grade==="B+"?"bg-[#F37021]":"bg-yellow-500"}`,children:Pe.grade})}),a.jsx("td",{className:"p-4",children:e==="upcoming"?a.jsxs("div",{className:"text-sm text-black space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Rs,{className:"mr-2 text-[#F37021]"}),Pe.chapters]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(es,{className:"mr-2 text-[#F37021]"}),"Duration: ",Pe.duration]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(P5,{className:"mr-2 text-[#F37021]"}),"Students: ",Pe.totalStudents]})]}):a.jsxs("div",{className:"text-sm text-black space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Jn,{className:"mr-2 text-[#F37021]"}),"Exam Date: ",Pe.examDate]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(P5,{className:"mr-2 text-[#F37021]"}),"Pass Rate: ",Pe.passRate.toFixed(1),"%"]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(xs,{className:"mr-2 text-[#F37021]"}),"Appeared: ",Pe.studentsAppeared]})]})})]},Pe.id))]},`${ke}-${Ze}`))]},ke))]})]})}),!c&&!u&&e==="upcoming"&&de>0&&a.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[a.jsxs("div",{className:"text-sm text-black",children:["Showing ",(L-1)*J+1," to"," ",Math.min(L*J,de)," of ",de," ","records"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>_e(L-1),disabled:L===1,className:"px-4 py-2 bg-gray-200 text-black rounded-lg disabled:opacity-50 hover:bg-gray-300 transition-colors",children:"Previous"}),a.jsx("button",{onClick:()=>_e(L+1),disabled:L===ce,className:"px-4 py-2 bg-gray-200 text-black rounded-lg disabled:opacity-50 hover:bg-gray-300 transition-colors",children:"Next"})]})]})]})]})},fBe=()=>{const e=ru(),[t,r]=C.useState(""),[n,s]=C.useState(null),[i,o]=C.useState([]),[l,c]=C.useState([]),[d,u]=C.useState([]),[h,m]=C.useState(null),[A,y]=C.useState(!1),[x,v]=C.useState(!0),[b,j]=C.useState(!1),[E,T]=C.useState(!1),[P,U]=C.useState(!1),[M,k]=C.useState(""),[Q,z]=C.useState("#F37021"),[O,L]=C.useState(""),V="https://vidyaastra.com/api";C.useEffect(()=>{J()},[]),C.useEffect(()=>{t&&(ce(),m(null),u([]))},[t]),C.useEffect(()=>{h&&ee()},[h]);const J=async()=>{try{v(!0);const B=localStorage.getItem("token"),R=await sr.get(`${V}/schools`,{headers:{Authorization:`Bearer ${B}`}});R.data.success&&Array.isArray(R.data.data)?(o(R.data.data),R.data.data.length>0&&z(R.data.data[0].themeColor||"#F37021")):(o([]),k("No schools found"))}catch(B){console.error("Error fetching schools:",B.message),k("Failed to load schools: "+B.message)}finally{v(!1)}},ce=async()=>{if(t)try{j(!0);const B=localStorage.getItem("token"),R=await sr.get(`${V}/class?schoolId=${t}`,{headers:{Authorization:`Bearer ${B}`}});R.data.success&&Array.isArray(R.data.data)?c(R.data.data):c([])}catch(B){console.error("Error fetching classes:",B.message),c([])}finally{j(!1)}},ee=async()=>{if(!(!t||!h))try{T(!0);const B=localStorage.getItem("token"),R=await sr.get(`${V}/exams?schoolId=${t}`,{headers:{Authorization:`Bearer ${B}`}});if(R.data.success){const ie=(R.data.data||[]).filter(ge=>(ge.classId?._id||ge.classId)===h._id);u(ie)}else u([])}catch(B){console.error("Error fetching exams:",B.message),u([])}finally{T(!1)}},de=C.useCallback(B=>{if(!B)return"N/A";const R=typeof B=="object"?B._id:B,Y=l.find(ie=>ie._id===R);return Y?`${Y.className}${Y.section?`-${Y.section}`:""}`:"N/A"},[l]);C.useCallback(B=>B?(typeof B=="object"&&B._id,"Subject"):"N/A",[]);const se=(B,R)=>{if(!B||!R)return"";try{const[Y,ie]=B.split(":").map(Number),[ge,ye]=R.split(":").map(Number),pe=new Date(0,0,0,Y,ie);let le=(new Date(0,0,0,ge,ye)-pe)/6e4;le<0&&(le+=1440);const te=Math.floor(le/60),Ne=le%60;return`${te}h ${Ne}m`}catch(Y){return console.error("Error calculating duration:",Y),""}},he=async()=>{if(!h||d.length===0){xr.error("Please select a class with exams first");return}U(!0);try{const B=new Wn,R=B.internal.pageSize.getWidth();let Y=20;B.setFontSize(20),B.text(`${n?.name||"School"} - Exam Timetable`,R/2,Y,{align:"center"}),Y+=10,B.setFontSize(14),B.text(`Class: ${de(h._id)}`,R/2,Y,{align:"center"}),Y+=10,B.setFontSize(12),B.text(`Generated on: ${new Date().toLocaleDateString()}`,R/2,Y,{align:"center"}),Y+=20;const ie=d.map(ge=>{const ye=ge.subjects||[];return ye.length===0?[ge.subject||"N/A",ge.date||"N/A",ge.time||"N/A",se(ge.startTime,ge.endTime),ge.examType||"N/A",ge.syllabus||"N/A"]:ye.map(pe=>[pe.subjectName||"N/A",pe.date||ge.date||"N/A",pe.time||ge.time||"N/A",se(pe.startTime||ge.startTime,pe.endTime||ge.endTime),ge.examType||"N/A",pe.syllabus||ge.syllabus||"N/A"])}).flat();B.autoTable({head:[["Subject","Date","Time","Duration","Type","Syllabus"]],body:ie,startY:Y,styles:{fontSize:10},headStyles:{fillColor:[243,112,33]},margin:{left:10,right:10}}),B.save(`${n?.name||"School"}_${de(h._id)}_Exam_Timetable.pdf`),xr.success("PDF downloaded successfully")}catch(B){console.error("Error generating PDF:",B),xr.error("Failed to generate PDF")}finally{U(!1)}},fe=()=>{if(!h||d.length===0){xr.error("Please select a class with exams first");return}const B=window.open("","_blank"),R=document.getElementById("timetable-content");R&&(B.document.write(`
        <html>
          <head>
            <title>Exam Timetable - ${n?.name||"School"}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; }
              .header { text-align: center; margin-bottom: 30px; }
              .header h1 { color: #333; margin-bottom: 10px; }
              .header p { color: #666; }
              table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
              th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
              th { background-color: #f5f5f5; font-weight: bold; }
              .exam-item { margin-bottom: 20px; padding: 15px; border: 1px solid #ddd; border-radius: 8px; }
              .exam-header { font-weight: bold; margin-bottom: 10px; color: #F37021; }
              .exam-details { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; }
              .detail-item { display: flex; align-items: center; }
              .detail-icon { margin-right: 8px; color: #F37021; }
              @media print {
                body { margin: 0; }
                .no-print { display: none; }
              }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>${n?.name||"School"} - Exam Timetable</h1>
              <p>Class: ${de(h._id)}</p>
              <p>Generated on: ${new Date().toLocaleDateString()}</p>
            </div>
            ${R.innerHTML}
          </body>
        </html>
      `),B.document.close(),B.print())},ve=l.filter(B=>B.className.toLowerCase().includes(O.toLowerCase())||B.section&&B.section.toLowerCase().includes(O.toLowerCase()));return a.jsxs("div",{className:"min-h-screen bg-gray-100",children:[a.jsx("div",{className:"bg-white border-b p-4 shadow-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:()=>e(-1),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors",children:[a.jsx(ip,{className:"w-5 h-5"}),a.jsx("span",{children:"Back"})]}),a.jsx("h1",{className:"text-2xl font-bold text-black",children:"School Exam Timetable"})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-black mb-4 flex items-center",children:[a.jsx(Ol,{className:"mr-2",style:{color:Q}}),"Select School"]}),x?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(an,{className:"w-6 h-6 animate-spin mr-2",style:{color:Q}}),a.jsx("span",{children:"Loading schools..."})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(B=>a.jsx("div",{onClick:()=>{r(B._id),s(B),z(B.themeColor||"#F37021")},className:`p-4 border-2 rounded-lg cursor-pointer transition-all hover:shadow-md ${t===B._id?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,style:{borderColor:t===B._id?B.themeColor||"#F37021":void 0,backgroundColor:t===B._id?`${B.themeColor||"#F37021"}10`:void 0},children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(H9,{className:"w-8 h-8",style:{color:B.themeColor||"#F37021"}}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-black",children:B.name}),a.jsx("p",{className:"text-sm text-gray-600",children:B.address})]})]})},B._id))})]}),t&&a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-black mb-4 flex items-center",children:[a.jsx(Ff,{className:"mr-2",style:{color:Q}}),"Select Class"]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(Va,{className:"absolute left-3 top-3 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search classes...",value:O,onChange:B=>L(B.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg w-full text-black focus:outline-none focus:ring-2 focus:border-transparent transition-colors",style:{focusRingColor:Q}})]})}),b?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(an,{className:"w-6 h-6 animate-spin mr-2",style:{color:Q}}),a.jsx("span",{children:"Loading classes..."})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ve.map(B=>a.jsx("div",{onClick:()=>m(B),className:`p-4 border-2 rounded-lg cursor-pointer transition-all hover:shadow-md ${h?._id===B._id?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,style:{borderColor:h?._id===B._id?Q:void 0,backgroundColor:h?._id===B._id?`${Q}10`:void 0},children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ff,{className:"w-8 h-8",style:{color:Q}}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold text-black",children:[B.className," ",B.section&&`- ${B.section}`]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[B.students?.length||0," students"]})]})]})},B._id))})]}),h&&a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-black flex items-center",children:[a.jsx(Jn,{className:"mr-2",style:{color:Q}}),"Exam Timetable - ",de(h._id)]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:fe,className:"px-4 py-2 rounded-lg text-white shadow-md flex items-center space-x-2 transition-colors",style:{backgroundColor:Q},disabled:E||d.length===0,children:[a.jsx(ly,{className:"w-4 h-4"}),a.jsx("span",{children:"Print"})]}),a.jsxs("button",{onClick:he,className:"px-4 py-2 rounded-lg text-white shadow-md flex items-center space-x-2 transition-colors",style:{backgroundColor:Q},disabled:E||P||d.length===0,children:[P?a.jsx(an,{className:"w-4 h-4 animate-spin"}):a.jsx(xs,{className:"w-4 h-4"}),a.jsx("span",{children:"Download PDF"})]})]})]}),E?a.jsxs("div",{className:"flex items-center justify-center py-12",children:[a.jsx(an,{className:"w-8 h-8 animate-spin mr-3",style:{color:Q}}),a.jsx("span",{className:"text-lg",children:"Loading exam timetable..."})]}):d.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ga,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"No exams found for this class"})]}):a.jsx("div",{id:"timetable-content",children:d.map((B,R)=>a.jsxs("div",{className:"mb-6 p-6 border border-gray-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-black flex items-center",children:[a.jsx(Jn,{className:"mr-2",style:{color:Q}}),B.examType||"Exam"]}),a.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800",children:B.status||"Scheduled"})]}),B.subjects&&B.subjects.length>0?a.jsx("div",{className:"space-y-4",children:B.subjects.map((Y,ie)=>a.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ff,{className:"mr-2 text-gray-500"}),a.jsx("span",{className:"font-medium",children:Y.subjectName})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Jn,{className:"mr-2 text-gray-500"}),a.jsx("span",{children:Y.date||"N/A"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(es,{className:"mr-2 text-gray-500"}),a.jsx("span",{children:Y.time||"N/A"})]}),Y.syllabus&&a.jsx("div",{className:"md:col-span-2 lg:col-span-3",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"Syllabus:"})," ",Y.syllabus]})})]})},Y._id||ie))}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ff,{className:"mr-2 text-gray-500"}),a.jsx("span",{className:"font-medium",children:B.subject||"N/A"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Jn,{className:"mr-2 text-gray-500"}),a.jsx("span",{children:B.date||"N/A"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(es,{className:"mr-2 text-gray-500"}),a.jsx("span",{children:B.time||"N/A"})]}),B.syllabus&&a.jsx("div",{className:"md:col-span-2 lg:col-span-3",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"Syllabus:"})," ",B.syllabus]})})]})]},B._id||R))})]}),M&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mt-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ga,{className:"w-5 h-5 text-red-500 mr-2"}),a.jsx("span",{className:"text-red-700",children:M})]})})]})]})},hBe="https://vidyaastra.com/api/assignments/all-unfiltered",ABe=()=>{const[e,t]=C.useState(""),[r,n]=C.useState("All"),[s,i]=C.useState("All"),[o,l]=C.useState("All"),[c,d]=C.useState([]),[u,h]=C.useState(!0),[m,A]=C.useState(""),[y,x]=C.useState(1),[v]=C.useState(10),[b,j]=C.useState(1),[E,T]=C.useState(0),P=["Mathematics","Physics","Chemistry","English","History","Biology","Computer Science"],U=["10A","10B","9A","9B","8A","8B"];C.useEffect(()=>{(async()=>{h(!0);try{const ee=localStorage.getItem("token"),de=await fetch(`${hBe}?page=${y}&limit=${v}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ee}`}});if(!de.ok)throw new Error(`HTTP error! Status: ${de.status}`);const se=await de.json();if(!se.success)throw new Error(se.message||"Failed to fetch assignments");d(se.data||[]),j(se.pagination.totalPages||1),T(se.pagination.totalRecords||0)}catch(ee){A("Error fetching assignments: "+ee.message),console.error("Fetch Error:",ee)}finally{h(!1)}})()},[y]);const M=c.filter(ce=>{const ee=ce.title.toLowerCase().includes(e.toLowerCase())||ce.subject.toLowerCase().includes(e.toLowerCase())||ce.studentName.toLowerCase().includes(e.toLowerCase())||ce.rollNo.toLowerCase().includes(e.toLowerCase())||ce.description.toLowerCase().includes(e.toLowerCase()),de=r==="All"||ce.subject===r,se=s==="All"||ce.status===s,he=o==="All"||ce.class===o;return ee&&de&&se&&he}),k=ce=>{window.confirm("Are you sure you want to delete this assignment?")&&d(c.filter(ee=>ee.id!==ce))},Q=ce=>{switch(ce.toUpperCase()){case"HIGH":return"bg-red-100 text-red-800";case"MEDIUM":return"bg-orange-100 text-orange-800";case"LOW":return"bg-green-100 text-green-800";case"A":return"bg-green-100 text-green-800";case"B+":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},z=ce=>ce==="submitted"?a.jsx(tu,{className:"w-4 h-4 text-green-600"}):a.jsx(es,{className:"w-4 h-4 text-orange-600"}),O=ce=>new Date(ce).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),L=c.filter(ce=>ce.status==="pending").length,V=c.filter(ce=>ce.status==="submitted").length,J=ce=>{ce>=1&&ce<=b&&x(ce)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Student Assignment Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage assignments with student details"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search assignments, students...",value:e,onChange:ce=>t(ce.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:u})]}),a.jsxs("select",{value:o,onChange:ce=>l(ce.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:u,children:[a.jsx("option",{value:"All",children:"All Classes"}),U.map(ce=>a.jsx("option",{value:ce,children:ce},ce))]}),a.jsxs("select",{value:r,onChange:ce=>n(ce.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:u,children:[a.jsx("option",{value:"All",children:"All Subjects"}),P.map(ce=>a.jsx("option",{value:ce,children:ce},ce))]}),a.jsxs("select",{value:s,onChange:ce=>i(ce.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:u,children:[a.jsx("option",{value:"All",children:"All Status"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"submitted",children:"Submitted"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Pending (",L,")"]}),a.jsxs("div",{className:"bg-green-100 text-green-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Submitted (",V,")"]})]})]})]}),u&&a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(es,{className:"w-12 h-12 text-gray-400 mx-auto mb-4 animate-pulse"}),a.jsx("p",{className:"text-gray-500 text-lg",children:"Loading assignments..."})]}),m&&a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"bg-red-100 text-red-700 rounded-lg p-4 flex items-center",children:[a.jsx(si,{className:"w-5 h-5 mr-2"}),m]})}),!u&&!m&&a.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full min-w-max",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Student Info"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Roll No"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Class"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Subject"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Due Date"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority/Grade"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[M.map(ce=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(no,{className:"w-5 h-5 text-gray-400 mr-2"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ce.studentName}),a.jsx("div",{className:"text-xs text-gray-500",children:"Student"})]})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("span",{className:"text-sm font-mono text-gray-900 bg-gray-100 px-2 py-1 rounded",children:ce.rollNo})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:ce.class})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Rs,{className:"w-4 h-4 text-blue-600 mr-2"}),a.jsx("span",{className:"text-sm font-medium text-blue-600",children:ce.subject})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"max-w-xs",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:ce.title}),a.jsx("div",{className:"text-xs text-gray-500 mt-1 truncate",children:ce.description})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Jn,{className:"w-4 h-4 text-gray-400 mr-2"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-900",children:O(ce.dueDate)}),ce.submittedDate&&a.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Submitted: ",O(ce.submittedDate)]})]})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Q(ce.priority)}`,children:ce.status==="submitted"&&ce.grade?ce.grade:ce.priority})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center",children:[z(ce.status),a.jsx("span",{className:`ml-2 text-sm font-medium capitalize ${ce.status==="submitted"?"text-green-600":"text-orange-600"}`,children:ce.status})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:a.jsx(ed,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>k(ce.id),className:"text-red-600 hover:text-red-800",children:a.jsx(si,{className:"w-5 h-5"})})]})})]},ce.id)),M.length===0&&c.length>0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"9",className:"px-4 py-8 text-center text-gray-500",children:"No assignments match your current filters"})}),M.length===0&&c.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"9",className:"px-4 py-8 text-center text-gray-500",children:"No assignments found"})})]})]})})}),!u&&!m&&E>0&&a.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(y-1)*v+1," to"," ",Math.min(y*v,E)," of ",E," ","records"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>J(y-1),disabled:y===1,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg disabled:opacity-50 hover:bg-gray-300",children:"Previous"}),a.jsx("button",{onClick:()=>J(y+1),disabled:y===b,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg disabled:opacity-50 hover:bg-gray-300",children:"Next"})]})]})]})},mBe=()=>{const[e,t]=C.useState(!1),[r,n]=C.useState(null),[s,i]=C.useState(!1),[o,l]=C.useState(null),[c,d]=C.useState([]),[u,h]=C.useState(null),[m,A]=C.useState({name:"",students:"",price:"",duration:"Monthly",features:"",color:"blue"}),y=[{value:"blue",label:"Blue"},{value:"purple",label:"Purple"},{value:"green",label:"Green"},{value:"orange",label:"Orange"},{value:"red",label:"Red"}],x=["Monthly","Quarterly","Yearly"];C.useEffect(()=>{v()},[]);const v=async()=>{try{const O=await(await fetch("https://vidyaastra.com/api/packages",{method:"GET",headers:{"Content-Type":"application/json"}})).json();O.success?(d(O.data),h(null)):h("Failed to fetch packages")}catch(z){h("Error fetching packages"),console.error(z)}},b=z=>{const O={blue:"from-blue-500 to-blue-600 border-blue-200",purple:"from-purple-500 to-purple-600 border-purple-200",green:"from-green-500 to-green-600 border-green-200",orange:"from-orange-500 to-orange-600 border-orange-200",red:"from-red-500 to-red-600 border-red-200"};return O[z]||O.blue},j=z=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(z),E=(z=null)=>{n(z),A(z?{name:z.name,students:z.students,price:z.price,duration:z.duration,features:z.features.join(", "),color:z.color}:{name:"",students:"",price:"",duration:"Monthly",features:"",color:"blue"}),t(!0)},T=()=>{t(!1),n(null),h(null)},P=z=>{l(z),i(!0)},U=()=>{i(!1),l(null),h(null)},M=z=>{const{name:O,value:L}=z.target;A(V=>({...V,[O]:L}))},k=async z=>{z.preventDefault(),h(null);const O=m.features.split(",").map(V=>V.trim()).filter(V=>V),L={name:m.name,students:Number(m.students),price:Number(m.price),duration:m.duration,features:O,color:m.color};try{let V;r?V=await fetch(`https://vidyaastra.com/api/packages/${r._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)}):V=await fetch("https://vidyaastra.com/api/packages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)});const J=await V.json();J.success?(await v(),T()):h(J.message||"Failed to save package")}catch(V){h("Error saving package"),console.error(V)}},Q=async()=>{if(o)try{const O=await(await fetch(`https://vidyaastra.com/api/packages/${o._id}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).json();O.success?(await v(),U()):h(O.message||"Failed to delete package")}catch(z){h("Error deleting package"),console.error(z)}};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-b-3xl shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(af,{className:"w-6 h-6"}),a.jsx("h1",{className:"text-2xl font-bold",children:"School Packages"})]}),a.jsxs("button",{onClick:()=>E(),className:"flex items-center space-x-2 bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-xl transition-all",children:[a.jsx(Si,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Package"})]})]}),a.jsx("p",{className:"text-indigo-100 mt-2",children:"Manage school subscription packages"})]}),u&&a.jsx("div",{className:"p-4 mx-6 mt-4 bg-red-100 text-red-700 rounded-xl",children:u}),a.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(z=>a.jsxs("div",{className:`bg-white rounded-2xl p-6 shadow-sm border-2 ${b(z.color).split(" ")[2]} hover:shadow-lg transition-all`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:z.name}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>E(z),className:"p-1 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Edit package",children:a.jsx(_u,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>P(z),className:"p-1 text-red-600 hover:bg-red-50 rounded-lg",title:"Delete package",children:a.jsx(si,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:`bg-gradient-to-r ${b(z.color).split(" ").slice(0,2).join(" ")} text-white rounded-xl p-4 mb-4`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ra,{className:"w-5 h-5"}),a.jsxs("span",{className:"font-semibold",children:[z.students," Students"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold",children:j(z.price)}),a.jsxs("div",{className:"text-sm opacity-90",children:["/",z.duration]})]})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Features:"}),z.features.map((O,L)=>a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),a.jsx("span",{children:O})]},L))]})]},z._id))}),e&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(af,{className:"w-6 h-6 text-indigo-600"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:r?"Edit Package":"Add New Package"})]}),a.jsx("button",{onClick:T,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(Lr,{className:"w-5 h-5 text-gray-500"})})]}),a.jsxs("form",{onSubmit:k,className:"p-6 space-y-6",children:[u&&a.jsx("div",{className:"p-4 bg-red-100 text-red-700 rounded-xl",children:u}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Package Name"}),a.jsx("input",{type:"text",name:"name",value:m.name,onChange:M,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Enter package name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),a.jsx("select",{name:"color",value:m.color,onChange:M,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",children:y.map(z=>a.jsx("option",{value:z.value,children:z.label},z.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Students"}),a.jsx("input",{type:"number",name:"students",value:m.students,onChange:M,required:!0,min:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Enter max students"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price"}),a.jsx("input",{type:"number",name:"price",value:m.price,onChange:M,required:!0,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Enter price"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration"}),a.jsx("select",{name:"duration",value:m.duration,onChange:M,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",children:x.map(z=>a.jsx("option",{value:z,children:z},z))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Features (comma separated)"}),a.jsx("textarea",{name:"features",value:m.features,onChange:M,required:!0,rows:"3",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Feature 1, Feature 2, Feature 3"})]}),a.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:T,className:"flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",className:"flex-1 py-3 px-6 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all",children:r?"Update Package":"Add Package"})]})]})]})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Confirm Deletion"}),a.jsx("button",{onClick:U,className:"p-1 hover:bg-gray-100 rounded-full",children:a.jsx(Lr,{className:"w-5 h-5 text-gray-500"})})]}),a.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete the "',o?.name,'" package? This action cannot be undone.']}),u&&a.jsx("div",{className:"p-4 bg-red-100 text-red-700 rounded-xl mb-4",children:u}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{onClick:U,className:"flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:Q,className:"flex-1 py-3 px-6 bg-red-600 text-white rounded-xl font-semibold hover:bg-red-700 transition-colors",children:"Delete"})]})]})})]})};/*!
 * Color Thief v2.0
 * by Lokesh Dhakar - http://www.lokeshdhakar.com
 *
 * Thanks
 * ------
 * Nick Rabinowitz - For creating quantize.js.
 * John Schulz - For clean up and optimization. @JFSIII
 * Nathan Spady - For adding drag and drop support to the demo page.
 *
 * License
 * -------
 * Copyright 2011, 2015 Lokesh Dhakar
 * Released under the MIT license
 * https://raw.githubusercontent.com/lokesh/color-thief/master/LICENSE
 *
 */var W6,vU;function pBe(){if(vU)return W6;vU=1;var e=function(s){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.width=this.canvas.width=s.width,this.height=this.canvas.height=s.height,this.context.drawImage(s,0,0,this.width,this.height)};e.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},e.prototype.update=function(s){this.context.putImageData(s,0,0)},e.prototype.getPixelCount=function(){return this.width*this.height},e.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},e.prototype.removeCanvas=function(){this.canvas.parentNode.removeChild(this.canvas)};var t=function(){};/*!
* quantize.js Copyright 2008 Nick Rabinowitz.
* Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php
*//*!
 * Block below copied from Protovis: http://mbostock.github.com/protovis/
 * Copyright 2010 Stanford Visualization Group
 * Licensed under the BSD License: http://www.opensource.org/licenses/bsd-license.php
 */if(t.prototype.getColor=function(s,i){var o=this.getPalette(s,5,i),l=o[0];return l},t.prototype.getPalette=function(s,i,o){typeof i>"u"&&(i=10),(typeof o>"u"||1>o)&&(o=10);for(var l,c,d,u,h,m=new e(s),A=m.getImageData(),y=A.data,x=m.getPixelCount(),v=[],b=0;x>b;b+=o)l=4*b,c=y[l+0],d=y[l+1],u=y[l+2],h=y[l+3],h>=125&&(c>250&&d>250&&u>250||v.push([c,d,u]));var j=n.quantize(v,i),E=j?j.palette():null;return m.removeCanvas(),E},!r)var r={map:function(s,i){var o={};return i?s.map(function(l,c){return o.index=c,i.call(o,l)}):s.slice()},naturalOrder:function(s,i){return i>s?-1:s>i?1:0},sum:function(s,i){var o={};return s.reduce(i?function(l,c,d){return o.index=d,l+i.call(o,c)}:function(l,c){return l+c},0)},max:function(s,i){return Math.max.apply(null,i?r.map(s,i):s)}};var n=(function(){function s(v,b,j){return(v<<2*m)+(b<<m)+j}function i(v){function b(){j.sort(v),E=!0}var j=[],E=!1;return{push:function(T){j.push(T),E=!1},peek:function(T){return E||b(),T===void 0&&(T=j.length-1),j[T]},pop:function(){return E||b(),j.pop()},size:function(){return j.length},map:function(T){return j.map(T)},debug:function(){return E||b(),j}}}function o(v,b,j,E,T,P,U){var M=this;M.r1=v,M.r2=b,M.g1=j,M.g2=E,M.b1=T,M.b2=P,M.histo=U}function l(){this.vboxes=new i(function(v,b){return r.naturalOrder(v.vbox.count()*v.vbox.volume(),b.vbox.count()*b.vbox.volume())})}function c(v){var b,j,E,T,P=1<<3*m,U=new Array(P);return v.forEach(function(M){j=M[0]>>A,E=M[1]>>A,T=M[2]>>A,b=s(j,E,T),U[b]=(U[b]||0)+1}),U}function d(v,b){var j,E,T,P=1e6,U=0,M=1e6,k=0,Q=1e6,z=0;return v.forEach(function(O){j=O[0]>>A,E=O[1]>>A,T=O[2]>>A,P>j?P=j:j>U&&(U=j),M>E?M=E:E>k&&(k=E),Q>T?Q=T:T>z&&(z=T)}),new o(P,U,M,k,Q,z,b)}function u(v,b){function j(ce){var ee,de,se,he,fe,ve=ce+"1",B=ce+"2",R=0;for(M=b[ve];M<=b[B];M++)if(V[M]>L/2){for(se=b.copy(),he=b.copy(),ee=M-b[ve],de=b[B]-M,fe=de>=ee?Math.min(b[B]-1,~~(M+de/2)):Math.max(b[ve],~~(M-1-ee/2));!V[fe];)fe++;for(R=J[fe];!R&&V[fe-1];)R=J[--fe];return se[B]=fe,he[ve]=se[B]+1,[se,he]}}if(b.count()){var E=b.r2-b.r1+1,T=b.g2-b.g1+1,P=b.b2-b.b1+1,U=r.max([E,T,P]);if(b.count()==1)return[b.copy()];var M,k,Q,z,O,L=0,V=[],J=[];if(U==E)for(M=b.r1;M<=b.r2;M++){for(z=0,k=b.g1;k<=b.g2;k++)for(Q=b.b1;Q<=b.b2;Q++)O=s(M,k,Q),z+=v[O]||0;L+=z,V[M]=L}else if(U==T)for(M=b.g1;M<=b.g2;M++){for(z=0,k=b.r1;k<=b.r2;k++)for(Q=b.b1;Q<=b.b2;Q++)O=s(k,M,Q),z+=v[O]||0;L+=z,V[M]=L}else for(M=b.b1;M<=b.b2;M++){for(z=0,k=b.r1;k<=b.r2;k++)for(Q=b.g1;Q<=b.g2;Q++)O=s(k,Q,M),z+=v[O]||0;L+=z,V[M]=L}return V.forEach(function(ce,ee){J[ee]=L-ce}),j(U==E?"r":U==T?"g":"b")}}function h(v,b){function j(k,Q){for(var z,O=1,L=0;y>L;)if(z=k.pop(),z.count()){var V=u(E,z),J=V[0],ce=V[1];if(!J||(k.push(J),ce&&(k.push(ce),O++),O>=Q)||L++>y)return}else k.push(z),L++}if(!v.length||2>b||b>256)return!1;var E=c(v);E.forEach(function(){});var T=d(v,E),P=new i(function(k,Q){return r.naturalOrder(k.count(),Q.count())});P.push(T),j(P,x*b);for(var U=new i(function(k,Q){return r.naturalOrder(k.count()*k.volume(),Q.count()*Q.volume())});P.size();)U.push(P.pop());j(U,b-U.size());for(var M=new l;U.size();)M.push(U.pop());return M}var m=5,A=8-m,y=1e3,x=.75;return o.prototype={volume:function(v){var b=this;return(!b._volume||v)&&(b._volume=(b.r2-b.r1+1)*(b.g2-b.g1+1)*(b.b2-b.b1+1)),b._volume},count:function(v){var b=this,j=b.histo;if(!b._count_set||v){var E,T,P,U=0;for(E=b.r1;E<=b.r2;E++)for(T=b.g1;T<=b.g2;T++)for(P=b.b1;P<=b.b2;P++)index=s(E,T,P),U+=j[index]||0;b._count=U,b._count_set=!0}return b._count},copy:function(){var v=this;return new o(v.r1,v.r2,v.g1,v.g2,v.b1,v.b2,v.histo)},avg:function(v){var b=this,j=b.histo;if(!b._avg||v){var E,T,P,U,M,k=0,Q=1<<8-m,z=0,O=0,L=0;for(T=b.r1;T<=b.r2;T++)for(P=b.g1;P<=b.g2;P++)for(U=b.b1;U<=b.b2;U++)M=s(T,P,U),E=j[M]||0,k+=E,z+=E*(T+.5)*Q,O+=E*(P+.5)*Q,L+=E*(U+.5)*Q;k?b._avg=[~~(z/k),~~(O/k),~~(L/k)]:b._avg=[~~(Q*(b.r1+b.r2+1)/2),~~(Q*(b.g1+b.g2+1)/2),~~(Q*(b.b1+b.b2+1)/2)]}return b._avg},contains:function(v){var b=this,j=v[0]>>A;return gval=v[1]>>A,bval=v[2]>>A,j>=b.r1&&j<=b.r2&&gval>=b.g1&&gval<=b.g2&&bval>=b.b1&&bval<=b.b2}},l.prototype={push:function(v){this.vboxes.push({vbox:v,color:v.avg()})},palette:function(){return this.vboxes.map(function(v){return v.color})},size:function(){return this.vboxes.size()},map:function(v){for(var b=this.vboxes,j=0;j<b.size();j++)if(b.peek(j).vbox.contains(v))return b.peek(j).color;return this.nearest(v)},nearest:function(v){for(var b,j,E,T=this.vboxes,P=0;P<T.size();P++)j=Math.sqrt(Math.pow(v[0]-T.peek(P).color[0],2)+Math.pow(v[1]-T.peek(P).color[1],2)+Math.pow(v[2]-T.peek(P).color[2],2)),(b>j||b===void 0)&&(b=j,E=T.peek(P).color);return E},forcebw:function(){var v=this.vboxes;v.sort(function(T,P){return r.naturalOrder(r.sum(T.color),r.sum(P.color))});var b=v[0].color;b[0]<5&&b[1]<5&&b[2]<5&&(v[0].color=[0,0,0]);var j=v.length-1,E=v[j].color;E[0]>251&&E[1]>251&&E[2]>251&&(v[j].color=[255,255,255])}},{quantize:h}})();return W6=t,W6}var gBe=pBe();const xBe=dA(gBe),vBe="https://vidyaastra.com/api/schools/pricing",yBe="https://vidyaastra.com/api/schools/pricing/save",Y6="defaultPricingSettings",NW=()=>{const[e,t]=C.useState(0),[r,n]=C.useState(0),[s,i]=C.useState(0),[o,l]=C.useState(null),[c,d]=C.useState(""),[u,h]=C.useState(""),[m,A]=C.useState(!1);C.useEffect(()=>{(async()=>{try{A(!0);const j=await sr.get(vBe),{perStudentPrice:E,serviceCharge:T,gstServiceCharge:P}=j.data.data||{},U={perStudentPrice:E||1e3,serviceCharge:T||5,gstServiceCharge:P||18};l(U),t(U.perStudentPrice),n(U.serviceCharge),i(U.gstServiceCharge)}catch{const E=localStorage.getItem(Y6);if(E){const T=JSON.parse(E);l(T),t(T.perStudentPrice||1e3),n(T.serviceCharge||5),i(T.gstServiceCharge||18)}else l({perStudentPrice:1e3,serviceCharge:5,gstServiceCharge:18}),t(1e3),n(5),i(18);d("Failed to fetch pricing data. Using local defaults.")}finally{A(!1)}})()},[]);const y=()=>isNaN(e)||e<0?"Per Student Price must be a non-negative number.":isNaN(r)||r<0||r>100?"Service Charge must be a number between 0 and 100.":isNaN(s)||s<0||s>100?"GST Charge must be a number between 0 and 100.":"",x=async()=>{d(""),h(""),A(!0);const b=y();if(b){d(b),A(!1);return}const j={perStudentPrice:e,serviceCharge:r,gstServiceCharge:s};localStorage.setItem(Y6,JSON.stringify(j));try{(await sr.post(yBe,j)).data.success&&(l(j),h("Pricing settings saved successfully!"),setTimeout(()=>h(""),3e3))}catch(E){d(E?.response?.data?.message||"Failed to save to backend. Saved locally.")}finally{A(!1)}},v=()=>{const b={perStudentPrice:1e3,serviceCharge:5,gstServiceCharge:18};t(1e3),n(5),i(18),l(b),d(""),h("Settings reset to defaults."),setTimeout(()=>h(""),3e3),localStorage.setItem(Y6,JSON.stringify(b))};return a.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans",children:[a.jsxs("div",{className:"bg-[#1C1444] text-white p-6 shadow-lg",children:[a.jsx("div",{className:"container mx-auto flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(E2,{className:"w-6 h-6 text-[#F37021]"}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Default Pricing Settings"})]})}),a.jsx("p",{className:"container mx-auto text-[#F37021] mt-2",children:"Configure and view default pricing for new schools"})]}),c&&a.jsx("div",{className:"container mx-auto mt-6 p-4 bg-red-50 text-red-700 rounded-lg shadow-sm",children:c}),u&&a.jsx("div",{className:"container mx-auto mt-6 p-4 bg-green-50 text-green-700 rounded-lg shadow-sm",children:u}),a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 mb-6",children:[a.jsxs("h2",{className:"text-lg font-semibold text-[#1C1444] mb-4 flex items-center",children:[a.jsx(E2,{className:"w-5 h-5 mr-2 text-[#F37021]"}),"Current Pricing Data"]}),m?a.jsx("p",{className:"text-[#1C1444]",children:"Loading pricing data..."}):o?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-sm text-[#1C1444]",children:[a.jsx(FE,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"Per Student Price: ",o.perStudentPrice]}),a.jsxs("p",{className:"text-sm text-[#1C1444]",children:[a.jsx(l4,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"Service Charge: ",o.serviceCharge,"%"]}),a.jsxs("p",{className:"text-sm text-[#1C1444]",children:[a.jsx(l4,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"GST Charge: ",o.gstServiceCharge,"%"]})]}):a.jsx("p",{className:"text-sm text-[#1C1444]",children:"No pricing data available."})]}),a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[a.jsxs("h2",{className:"text-lg font-semibold text-[#1C1444] mb-4 flex items-center",children:[a.jsx(E2,{className:"w-5 h-5 mr-2 text-[#F37021]"}),"Update Pricing Settings"]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm font-medium text-[#1C1444] flex items-center mb-2",children:[a.jsx(FE,{className:"w-5 h-5 mr-2 text-[#F37021]"}),"Per Student Price ()"]}),a.jsx("input",{type:"number",value:e,onChange:b=>t(Number(b.target.value)),placeholder:"Enter price per student (e.g., 1000)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F37021] text-[#1C1444] transition-colors",required:!0,min:"0",step:"1"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm font-medium text-[#1C1444] flex items-center mb-2",children:[a.jsx(l4,{className:"w-5 h-5 mr-2 text-[#F37021]"}),"Service Charge (%)"]}),a.jsx("input",{type:"number",value:r,onChange:b=>n(Number(b.target.value)),placeholder:"Enter service charge percentage (e.g., 5)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F37021] text-[#1C1444] transition-colors",required:!0,min:"0",max:"100",step:"0.1"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm font-medium text-[#1C1444] flex items-center mb-2",children:[a.jsx(l4,{className:"w-5 h-5 mr-2 text-[#F37021]"}),"GST Charge (%)"]}),a.jsx("input",{type:"number",value:s,onChange:b=>i(Number(b.target.value)),placeholder:"Enter GST percentage (e.g., 18)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F37021] text-[#1C1444] transition-colors",required:!0,min:"0",max:"100",step:"0.1"})]}),a.jsxs("div",{className:"flex space-x-4 pt-4",children:[a.jsxs("button",{type:"button",onClick:v,className:"flex-1 py-2 px-4 bg-gray-100 text-[#1C1444] rounded-lg hover:bg-gray-200 flex items-center justify-center space-x-2 transition-colors disabled:opacity-50",disabled:m,children:[a.jsx(ug,{className:"w-4 h-4 text-[#F37021]"}),a.jsx("span",{children:"Reset Defaults"})]}),a.jsxs("button",{type:"button",onClick:x,className:"flex-1 py-2 px-4 bg-[#F37021] text-white rounded-lg hover:bg-[#d65f1c] flex items-center justify-center space-x-2 transition-colors disabled:opacity-50",disabled:m,children:[a.jsx(td,{className:"w-4 h-4 text-white"}),a.jsx("span",{children:m?"Saving...":"Save Defaults"})]})]})]})]})]})]})},Jp="https://vidyaastra.com/api/schools",bBe="https://vidyaastra.com/api/schools/pricing",X6=Jp.substring(0,Jp.lastIndexOf("/")),wBe=["Online","Cash","Cheque","Bank Transfer"],NBe=()=>{const[e,t]=C.useState([]),[r,n]=C.useState(""),[s,i]=C.useState(!1),[o,l]=C.useState(!1),[c,d]=C.useState(!1),[u,h]=C.useState(!1),[m,A]=C.useState(null),[y,x]=C.useState(null),[v,b]=C.useState(""),[j,E]=C.useState(!0),[T,P]=C.useState({perStudentPrice:0,serviceCharge:0,gstServiceCharge:0}),[U,M]=C.useState(""),[k,Q]=C.useState(1),[z,O]=C.useState(1),[L,V]=C.useState(0),[J]=C.useState(10),[ce,ee]=C.useState(!1),de=(Te,je)=>{let Ke;return(...Le)=>{clearTimeout(Ke),Ke=setTimeout(()=>Te.apply(null,Le),je)}};C.useCallback(de(Te=>{n(Te),Q(1)},500),[]);const[se,he]=C.useState({name:"",address:"",email:"",phone:"",password:"",color:"#000000",adminNumber:"",headDepartmentNumber:"",adminName:"",adminEmail:"",adminContact:"",perStudentPrice:"",totalStudent:1,serviceCharge:"",gstServiceCharge:"",totalPayAmount:"",managementApproved:!1,numberOfInstallments:1,installments:[]}),[fe,ve]=C.useState(null),[B,R]=C.useState(null),[Y,ie]=C.useState([]),[ge,ye]=C.useState("");C.useEffect(()=>{te()},[]),C.useEffect(()=>{const Te=parseInt(se.numberOfInstallments)||1,je=parseFloat(se.totalPayAmount)||0;if(Te!==se.installments.length){const Ke=(je/Te).toFixed(2),Le=Array.from({length:Te},()=>({amount:Ke,paid:"0.00",dueDate:new Date,paidDate:null,paymentMethod:null,receiptUrl:null,remarks:""}));he(rt=>({...rt,installments:Le})),ie(new Array(Te).fill(null))}else if(se.installments.length>0){const Ke=se.installments.reduce((Le,rt)=>Le+parseFloat(rt.amount||0),0);if(Ke>0&&Math.abs(Ke-je)>.01){const Le=je/Ke,rt=se.installments.map(Oe=>({...Oe,amount:(parseFloat(Oe.amount||0)*Le).toFixed(2)}));he(Oe=>({...Oe,installments:rt}))}}},[se.totalPayAmount,se.numberOfInstallments]);const pe=async(Te=1,je="")=>{try{ee(!0);const Ke={page:Te,limit:J,...je&&{search:je}},Le=await sr.get(Jp,{params:Ke});t(Le.data.data||[]),O(Le.data.totalPages||1),V(Le.data.total||0),Q(Le.data.page||1),ye("")}catch(Ke){ye(Ke?.response?.data?.message||"Failed to fetch schools"),t([]),V(0),O(1)}finally{ee(!1)}};C.useEffect(()=>{pe(k,r)},[k,r]);const Z=Te=>{Te>=1&&Te<=z&&Q(Te)},le=()=>{const Te=[];let Ke=Math.max(1,k-Math.floor(2.5)),Le=Math.min(z,Ke+5-1);Le-Ke+1<5&&(Ke=Math.max(1,Le-5+1));for(let rt=Ke;rt<=Le;rt++)Te.push(rt);return Te},te=async()=>{try{const Te=await sr.get(bBe),je={perStudentPrice:Te.data.data.perStudentPrice||0,serviceCharge:Te.data.data.serviceCharge||0,gstServiceCharge:Te.data.data.gstServiceCharge||0};P(je),he(Ke=>{const Le=Ne(je.perStudentPrice,je.serviceCharge,je.gstServiceCharge,Ke.totalStudent);return{...Ke,perStudentPrice:je.perStudentPrice.toString(),serviceCharge:je.serviceCharge.toString(),gstServiceCharge:je.gstServiceCharge.toString(),totalPayAmount:Le,numberOfInstallments:1,installments:[{amount:Le,paid:"0.00",dueDate:new Date,paidDate:null,paymentMethod:null,receiptUrl:null,remarks:""}]}})}catch(Te){ye(Te?.response?.data?.message||"Failed to fetch default pricing")}},Ne=(Te,je,Ke,Le)=>{const rt=parseFloat(Te)||0,Oe=parseFloat(je)||0,De=parseFloat(Ke)||0,ut=parseInt(Le)||1,_t=rt*ut+Oe,qt=_t*De/100;return((_t+qt)*12).toFixed(2)},Fe=Te=>{const je=Te.target.files[0];if(ve(je),je){const Ke=URL.createObjectURL(je);R(Ke);const Le=new Image;Le.crossOrigin="anonymous",Le.src=Ke,Le.onload=()=>{const rt=new xBe;try{const[Oe,De,ut]=rt.getColor(Le),_t=`rgb(${Oe}, ${De}, ${ut})`;he(qt=>({...qt,color:_t}))}catch(Oe){console.error("Color extraction failed:",Oe)}}}else R(null)},be=(Te=null)=>{if(A(Te),ie([]),Te){const je=Te?.installments||[],Ke=je.reduce((Le,rt)=>Le+(parseFloat(rt.amount)||0),0).toFixed(2);he({name:Te?.name||"",address:Te?.address||"",email:Te?.email||"",phone:Te?.phone||"",password:"",color:Te?.color||"#000000",adminNumber:Te?.adminNumber||"",headDepartmentNumber:Te?.headDepartmentNumber||"",adminName:Te?.adminName||"",adminEmail:Te?.adminEmail||"",adminContact:Te?.adminContact||"",perStudentPrice:Te?.perStudentPrice?.toString()||"",totalStudent:Te?.totalStudent||1,serviceCharge:Te?.serviceCharge?.toString()||"",gstServiceCharge:Te?.gstServiceCharge?.toString()||"",totalPayAmount:Ke,managementApproved:Te?.managementApproved||!1,numberOfInstallments:je.length||1,installments:je.length?je.map(Le=>({amount:parseFloat(Le.amount||0).toFixed(2),paid:parseFloat(Le.paid||0).toFixed(2),dueDate:new Date(Le.dueDate),paidDate:Le.paidDate?new Date(Le.paidDate):null,paymentMethod:Le.paymentMethod||null,receiptUrl:Le.receiptUrl||null,remarks:Le.remarks||""})):[{amount:Ke,paid:"0.00",dueDate:new Date,paidDate:null,paymentMethod:null,receiptUrl:null,remarks:""}]}),ie(new Array(je.length).fill(null)),R(Te?.logoUrl?`${X6}${Te.logoUrl}`:null)}else{const je=T.perStudentPrice,Ke=T.serviceCharge,Le=T.gstServiceCharge,rt=1,Oe=Ne(je,Ke,Le,rt);he({name:"",address:"",email:"",phone:"",password:"",color:"#000000",adminNumber:"",headDepartmentNumber:"",adminName:"",adminEmail:"",adminContact:"",perStudentPrice:je.toString(),totalStudent:rt,serviceCharge:Ke.toString(),gstServiceCharge:Le.toString(),totalPayAmount:Oe,managementApproved:!1,numberOfInstallments:1,installments:[{amount:Oe,paid:"0.00",dueDate:new Date,paidDate:null,paymentMethod:null,receiptUrl:null,remarks:""}]}),ie([null]),R(null)}ve(null),ye(""),i(!0)},re=()=>{i(!1),A(null),ve(null),R(null),ie([]),ye("")},Ce=Te=>{x(Te),ve(null),R(Te?.logoUrl?`${X6}${Te.logoUrl}`:null),ye(""),l(!0)},st=()=>{l(!1),x(null),ve(null),R(null),ye("")},et=async Te=>{try{const je=JSON.parse(localStorage.getItem("schoolsExcelData")||"[]"),Ke={...Te,dateAdded:new Date().toISOString(),id:Te._id||Date.now().toString()},Le=[...je,Ke];localStorage.setItem("schoolsExcelData",JSON.stringify(Le))}catch(je){console.error("Failed to save to local storage:",je)}},He=(Te,je,Ke)=>{he(Le=>{const rt=[...Le.installments];return rt[Te]={...rt[Te],[je]:Ke},{...Le,installments:rt}})},ct=Te=>je=>{const Ke=je.target.files[0],Le=[...Y];Le[Te]=Ke,ie(Le)},_e=Te=>{const{amount:je,paid:Ke,dueDate:Le}=Te,rt=parseFloat(je),Oe=parseFloat(Ke);return Oe>=rt?"paid":Oe>0&&Oe<rt?"partial":new Date>new Date(Le)&&Oe<rt?"overdue":"pending"},ke=async Te=>{Te.preventDefault(),ye("");const je=parseFloat(se.perStudentPrice)||0,Ke=parseFloat(se.serviceCharge)||0,Le=parseFloat(se.gstServiceCharge)||0,rt=parseInt(se.totalStudent,10)||1,Oe=parseInt(se.numberOfInstallments)||1;if(!se.name||!se.name.match(/^[a-zA-Z\s]+$/)){ye("School name is required and must contain only letters and spaces");return}if(!se.email||!se.email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)){ye("Valid school email is required");return}if(se.phone&&!se.phone.match(/^\d{10}$/)){ye("Phone number must be exactly 10 digits");return}if(!se.adminName||!se.adminName.match(/^[a-zA-Z\s]+$/)){ye("Administrator name is required and must contain only letters and spaces");return}if(!se.adminEmail||!se.adminEmail.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)){ye("Valid administrator email is required");return}if(!se.adminNumber||!se.adminNumber.match(/^\d+$/)){ye("Administrator unique number is required and must be numeric");return}if(!se.headDepartmentNumber||!se.headDepartmentNumber.match(/^\d+$/)){ye("Head department number is required and must be numeric");return}if(!se.adminContact||!se.adminContact.match(/^\d{10}$/)){ye("Administrator contact number must be exactly 10 digits");return}if(!m&&(!se.password||se.password.length<6)){ye("Password is required and must be at least 6 characters");return}if(isNaN(je)||je<0){ye("Per student price is required and must be non-negative");return}if(isNaN(Ke)||Ke<0){ye("Service charge is required and must be non-negative");return}if(isNaN(Le)||Le<0||Le>100){ye("GST service charge is required and must be between 0 and 100");return}if(isNaN(rt)||rt<1){ye("Total students must be at least 1");return}if(!m&&!fe){ye("Logo is required for new schools");return}if(se.installments.length!==Oe){ye("Number of installments does not match installment entries");return}const De=se.installments.reduce((qt,Ft)=>qt+parseFloat(Ft.amount||0),0),ut=parseFloat(se.totalPayAmount);if(Math.abs(De-ut)>.01){ye("Sum of installment amounts must equal total pay amount");return}for(let qt=0;qt<se.installments.length;qt++){const Ft=se.installments[qt];if(!Ft.amount||parseFloat(Ft.amount)<=0){ye(`Installment ${qt+1} amount must be greater than 0`);return}if(!Ft.dueDate){ye(`Installment ${qt+1} due date is required`);return}if(Ft.paid&&parseFloat(Ft.paid)>parseFloat(Ft.amount)){ye(`Installment ${qt+1} paid amount cannot exceed the installment amount`);return}if(parseFloat(Ft.paid)>0&&!Ft.paymentMethod){ye(`Installment ${qt+1} payment method is required if paid amount is greater than 0`);return}if(Ft.paymentMethod&&(Ft.paymentMethod==="Cheque"||Ft.paymentMethod==="Bank Transfer")&&parseFloat(Ft.paid)>0&&!Ft.receiptUrl&&!Y[qt]){ye(`Installment ${qt+1} requires a receipt for Cheque or Bank Transfer payments`);return}}const _t=new FormData;_t.append("name",se.name),_t.append("address",se.address),_t.append("email",se.email),_t.append("phone",se.phone),_t.append("password",se.password||""),_t.append("color",se.color),_t.append("adminNumber",se.adminNumber),_t.append("headDepartmentNumber",se.headDepartmentNumber),_t.append("adminName",se.adminName),_t.append("adminEmail",se.adminEmail),_t.append("adminContact",se.adminContact),_t.append("perStudentPrice",je.toFixed(2)),_t.append("totalStudent",rt.toString()),_t.append("serviceCharge",Ke.toFixed(2)),_t.append("gstServiceCharge",Le.toFixed(2)),_t.append("managementApproved",se.managementApproved.toString()),_t.append("numberOfInstallments",Oe.toString()),_t.append("installments",JSON.stringify(se.installments.map(qt=>({amount:Number(parseFloat(qt.amount).toFixed(2)),paid:Number(parseFloat(qt.paid||0).toFixed(2)),dueDate:qt.dueDate.toISOString(),paidDate:qt.paidDate?qt.paidDate.toISOString():null,paymentMethod:qt.paymentMethod,receiptUrl:qt.receiptUrl,remarks:qt.remarks})))),fe&&_t.append("logo",fe),Y.forEach((qt,Ft)=>{qt&&_t.append(`receipts[${Ft}]`,qt)});try{let qt;m?qt=await sr.put(`${Jp}/logo/${m._id}`,_t,{headers:{"Content-Type":"multipart/form-data"}}):qt=await sr.post(`${Jp}/logo`,_t,{headers:{"Content-Type":"multipart/form-data"}}),await et(qt.data.data),re(),pe(k,r)}catch(qt){ye(qt?.response?.data?.message||"Failed to save school")}},Ze=async Te=>{if(Te.preventDefault(),ye(""),!fe){ye("Please select a logo file");return}const je=new FormData;je.append("logo",fe);try{await sr.put(`${Jp}/logos/${y._id}`,je,{headers:{"Content-Type":"multipart/form-data"}}),st(),pe(k,r)}catch(Ke){ye(Ke?.response?.data?.message||"Failed to upload logo")}},Pe=async()=>{if(window.confirm("Are you sure you want to delete this logo?"))try{await sr.delete(`${Jp}/logos/${y._id}`),st(),pe(k,r)}catch(Te){ye(Te?.response?.data?.message||"Failed to delete logo")}},ot=async Te=>{if(window.confirm("Are you sure you want to delete this school?"))try{await sr.delete(`${Jp}/${Te}`),pe(k,r)}catch(je){ye(je?.response?.data?.message||"Failed to delete school")}},Ge=()=>{if(!v){ye("Password is required for export");return}if(v!=="admin123"){ye("Invalid password");return}try{const Te=Je.map(De=>({"School Name":De.name,"School Code":De.schoolCode||"N/A",Address:De.address||"N/A",Email:De.email,Phone:De.phone||"N/A","Admin Number":De.adminNumber||"N/A","Head Dept Number":De.headDepartmentNumber||"N/A","Admin Name":De.adminName||"N/A","Admin Email":De.adminEmail||"N/A","Admin Contact":De.adminContact||"N/A","Total Students":De.totalStudent||"N/A","Per Student Price":`${De.perStudentPrice}`,"Service Charge":`${De.serviceCharge}`,"GST Service Charge":`${De.gstServiceCharge}%`,"Total Pay Amount":`${De.totalPayAmount||"N/A"}`,"Number of Installments":De.numberOfInstallments||"N/A","Payment Status":De.paymentStatus||"N/A","Total Paid":`${De.paid||"0.00"}`,"Total Pending":`${De.pending||"0.00"}`,Installments:De.installments?De.installments.map((ut,_t)=>`Installment ${_t+1}: ${ut.amount} (Paid: ${ut.paid}, Due: ${new Date(ut.dueDate).toLocaleDateString()}${ut.paymentMethod?`, Method: ${ut.paymentMethod}`:""}${ut.remarks?`, Remarks: ${ut.remarks}`:""})`).join("; "):"N/A","Management Approved":De.managementApproved?"Yes":"No","Subscription Duration":De.duration?new Date(De.duration).toLocaleDateString():"N/A",Color:De.color,"Date Added":new Date(De.createdAt||Date.now()).toLocaleDateString()})),je=`schools_${new Date().toISOString().split("T")[0]}.xlsx`,Ke=Lo.json_to_sheet(Te),Le=Lo.book_new();Lo.book_append_sheet(Le,Ke,"Schools");const rt=[];Object.keys(Te[0]||{}).forEach((De,ut)=>{const _t=Math.max(De.length,...Te.map(qt=>String(qt[De]||"").length));rt[ut]={width:Math.min(_t+2,50)}}),Ke["!cols"]=rt,Xb(Le,je),d(!1),b(""),ye("")}catch{ye("Failed to export data")}},lt=(Te,je)=>{he(Ke=>{const Le={...Ke,[Te]:je},rt=Ne(Le.perStudentPrice,Le.serviceCharge,Le.gstServiceCharge,Le.totalStudent);return{...Le,totalPayAmount:rt}})},Je=e.filter(Te=>Te.name.toLowerCase().includes(r.toLowerCase())),Me=Te=>Te?Te.startsWith("/")?`${X6}${Te}`:Te:null;return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#1C1444]/5 to-white",children:[a.jsxs("div",{className:"bg-[#1C1444] text-white p-6 sm:p-8 rounded-b-3xl shadow-2xl",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between max-w-5xl mx-auto",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4 sm:mb-0",children:[a.jsx(Ol,{className:"w-8 h-8"}),a.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold tracking-tight",children:"School Management System"}),j&&a.jsxs("span",{className:"bg-[#F37021]/20 text-[#F37021] px-3 py-1 rounded-full text-sm font-semibold flex items-center",children:[a.jsx(P5,{className:"w-4 h-4 inline mr-1"}),"Super Admin"]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>h(!0),className:"p-3 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200",title:"Manage Default Pricing",children:a.jsx(E2,{className:"w-6 h-6"})}),a.jsx("button",{onClick:()=>d(!0),className:"p-3 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200",title:"Export Data",children:a.jsx(xs,{className:"w-6 h-6"})}),a.jsx("button",{onClick:()=>be(),className:"p-3 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200",title:"Add New School",children:a.jsx(Si,{className:"w-6 h-6"})})]})]}),a.jsx("p",{className:"text-white/80 mt-3 max-w-5xl mx-auto text-center sm:text-left",children:"Streamline school administration and payment processes"})]}),a.jsxs("div",{className:"p-4 sm:p-8 max-w-5xl mx-auto",children:[a.jsxs("div",{className:"mb-8 relative",children:[a.jsx(Va,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-[#1C1444]/60 w-6 h-6"}),a.jsx("input",{type:"text",placeholder:"Search schools by name...",value:r,onChange:Te=>n(Te.target.value),className:"w-full sm:max-w-lg pl-12 pr-4 py-4 border border-[#1C1444]/20 rounded-xl focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200"})]}),ge&&a.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-xl mb-6 flex items-center shadow-sm transition-all duration-200",children:[a.jsx(Lr,{className:"w-5 h-5 mr-2"}),ge]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:ce?a.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-sm",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#F37021] mx-auto mb-4"}),a.jsx("p",{className:"text-[#1C1444] text-lg font-medium",children:"Loading schools..."})]}):e.length===0?a.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-sm",children:[a.jsx(Ol,{className:"w-20 h-20 mx-auto text-[#1C1444]/60 mb-4 transition-transform duration-200 hover:scale-110"}),a.jsx("p",{className:"text-[#1C1444] text-lg font-medium",children:r?"No schools match your search":"No schools registered"}),!r&&a.jsx("p",{className:"text-[#1C1444]/80 mt-2",children:"Add your first school to get started!"})]}):e.map(Te=>a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-300 border border-[#1C1444]/10 w-full",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4 sm:mb-0",children:[Te.logoUrl?a.jsx("img",{src:Me(Te.logoUrl),alt:`${Te.name} logo`,className:"w-16 h-16 object-contain rounded-full border border-[#1C1444]/20 transition-transform duration-200 hover:scale-105"}):a.jsx("div",{className:"w-16 h-16 bg-[#1C1444]/10 rounded-full flex items-center justify-center",children:a.jsx(Vx,{className:"w-8 h-8 text-[#1C1444]/60"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-[#1C1444]",children:Te.name}),a.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[a.jsx("div",{className:"w-5 h-5 rounded-full border",style:{backgroundColor:Te.color}}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Te.managementApproved?"bg-green-100 text-green-800":"bg-[#F37021]/10 text-[#F37021]"}`,children:Te.managementApproved?"Approved":"Pending"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Te.paymentStatus==="paid"?"bg-green-100 text-green-800":Te.paymentStatus==="partial"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:Te.paymentStatus.toUpperCase()})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>Ce(Te),className:"p-2 text-[#F37021] hover:bg-[#F37021]/10 rounded-lg transition-all duration-200",title:"Update Logo",children:a.jsx(Pre,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>be(Te),className:"p-2 text-[#F37021] hover:bg-[#F37021]/10 rounded-lg transition-all duration-200",title:"Edit School",children:a.jsx(_u,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>ot(Te._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200",title:"Delete School",children:a.jsx(si,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center text-[#1C1444]/80",children:[a.jsx(Cre,{className:"w-5 h-5 mr-3 text-[#F37021]"}),a.jsx("span",{className:"text-sm font-semibold",children:"Code:"}),a.jsx("span",{className:"ml-2 text-sm",children:Te.schoolCode||"N/A"})]}),a.jsxs("div",{className:"flex items-center text-[#1C1444]/80",children:[a.jsx(Kx,{className:"w-5 h-5 mr-3 text-[#F37021]"}),a.jsx("span",{className:"text-sm",children:Te.address||"N/A"})]}),a.jsxs("div",{className:"flex items-center text-[#1C1444]/80",children:[a.jsx(Lm,{className:"w-5 h-5 mr-3 text-[#F37021]"}),a.jsx("span",{className:"text-sm",children:Te.email})]}),a.jsxs("div",{className:"flex items-center text-[#1C1444]/80",children:[a.jsx(GA,{className:"w-5 h-5 mr-3 text-[#F37021]"}),a.jsx("span",{className:"text-sm",children:Te.phone||"N/A"})]})]}),a.jsxs("div",{className:"mt-4 p-4 bg-[#1C1444]/5 rounded-lg",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[a.jsx(Ra,{className:"w-5 h-5 mr-2 text-[#F37021]"}),a.jsx("span",{className:"text-sm font-medium",children:"Students:"}),a.jsx("span",{className:"ml-2 text-sm",children:Te.totalStudent||"N/A"})]}),a.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[a.jsx(aA,{className:"w-5 h-5 mr-2 text-[#F37021]"}),a.jsx("span",{className:"text-sm font-medium",children:"Per Student:"}),a.jsxs("span",{className:"ml-2 text-sm",children:["",parseFloat(Te.perStudentPrice).toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[a.jsx(aA,{className:"w-5 h-5 mr-2 text-[#F37021]"}),a.jsx("span",{className:"text-sm font-medium",children:"Service:"}),a.jsxs("span",{className:"ml-2 text-sm",children:["",parseFloat(Te.serviceCharge).toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[a.jsx(Fre,{className:"w-5 h-5 mr-2 text-[#F37021]"}),a.jsx("span",{className:"text-sm font-medium",children:"GST:"}),a.jsxs("span",{className:"ml-2 text-sm",children:[parseFloat(Te.gstServiceCharge).toFixed(2),"%"]})]}),a.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[a.jsx(aA,{className:"w-5 h-5 mr-2 text-[#F37021]"}),a.jsx("span",{className:"text-sm font-medium",children:"Total:"}),a.jsxs("span",{className:"ml-2 text-sm",children:["",parseFloat(Te.totalPayAmount).toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[a.jsx(aA,{className:"w-5 h-5 mr-2 text-[#F37021]"}),a.jsx("span",{className:"text-sm font-medium",children:"Paid:"}),a.jsxs("span",{className:"ml-2 text-sm",children:["",parseFloat(Te.paid).toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[a.jsx(aA,{className:"w-5 h-5 mr-2 text-[#F37021]"}),a.jsx("span",{className:"text-sm font-medium",children:"Pending:"}),a.jsxs("span",{className:"ml-2 text-sm",children:["",parseFloat(Te.pending).toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center text-[#1C1444]",children:[a.jsx(I0,{className:"w-5 h-5 mr-2 text-[#F37021]"}),a.jsx("span",{className:"text-sm font-medium",children:"Installments:"}),a.jsx("span",{className:"ml-2 text-sm",children:Te.numberOfInstallments})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-[#1C1444] mb-2",children:"Installments:"}),Te.installments?.map((je,Ke)=>a.jsxs("div",{className:"flex items-center text-[#1C1444]/80 text-sm mb-1",children:[a.jsxs("span",{children:["Installment ",Ke+1,": ",parseFloat(je.amount).toFixed(2)," (Paid: ",parseFloat(je.paid).toFixed(2),", Due:"," ",new Date(je.dueDate).toLocaleDateString(),je.paymentMethod?`, ${je.paymentMethod}`:"",je.remarks?`, ${je.remarks}`:"",")"]}),je.receiptUrl&&a.jsx("a",{href:Me(je.receiptUrl),target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-[#F37021] hover:underline",children:"[Receipt]"})]},je._id))]})]})]},Te._id))}),z>1&&a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-[#1C1444]/70",children:["Showing ",(k-1)*J+1," to"," ",Math.min(k*J,L)," of ",L," schools"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>Z(k-1),disabled:k===1,className:`p-2 rounded-lg transition-all duration-200 ${k===1?"text-[#1C1444]/30 cursor-not-allowed":"text-[#1C1444] hover:bg-[#1C1444]/10"}`,children:a.jsx(fc,{className:"w-5 h-5"})}),le().map(Te=>a.jsx("button",{onClick:()=>Z(Te),className:`px-3 py-1 rounded-lg transition-all duration-200 ${Te===k?"bg-[#F37021] text-white":"text-[#1C1444] hover:bg-[#1C1444]/10"}`,children:Te},Te)),a.jsx("button",{onClick:()=>Z(k+1),disabled:k===z,className:`p-2 rounded-lg transition-all duration-200 ${k===z?"text-[#1C1444]/30 cursor-not-allowed":"text-[#1C1444] hover:bg-[#1C1444]/10"}`,children:a.jsx(Al,{className:"w-5 h-5"})})]})]})})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-all duration-300",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl transform transition-all duration-300 scale-100",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 sm:p-8 border-b border-[#1C1444]/10",children:[a.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-[#1C1444] flex items-center",children:[a.jsx(Ol,{className:"w-7 h-7 mr-3 text-[#F37021]"}),m?"Edit School":"Add New School"]}),a.jsx("button",{onClick:re,className:"text-[#1C1444]/60 hover:text-[#1C1444] p-2 rounded-full hover:bg-[#1C1444]/10 transition-all duration-200",children:a.jsx(Lr,{className:"w-6 h-6 sm:w-7 h-7"})})]}),a.jsxs("form",{onSubmit:ke,className:"p-6 sm:p-8 space-y-8",encType:"multipart/form-data",children:[ge&&a.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-xl text-sm flex items-center shadow-sm transition-all duration-200",children:[a.jsx(Lr,{className:"w-5 h-5 mr-2"}),ge]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-[#1C1444] flex items-center mb-4",children:[a.jsx(Ol,{className:"w-6 h-6 mr-2 text-[#F37021]"}),"School Details"]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"School Name"}),a.jsx("input",{type:"text",placeholder:"Enter school name (letters only)",value:se.name,onChange:Te=>he({...se,name:Te.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"School Email Address"}),a.jsx("input",{type:"email",placeholder:"Enter school email (login)",value:se.email,onChange:Te=>he({...se,email:Te.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"School Address"}),a.jsx("textarea",{placeholder:"Enter school address",value:se.address,onChange:Te=>he({...se,address:Te.target.value}),rows:"3",className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"School Primary Contact Number"}),a.jsx("input",{type:"tel",placeholder:"Enter 10-digit contact number",value:se.phone,onChange:Te=>he({...se,phone:Te.target.value}),maxLength:10,className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Password"}),a.jsx("input",{type:"password",placeholder:"Enter password (min 6 characters)",value:se.password,onChange:Te=>he({...se,password:Te.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!m})]})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-[#1C1444] flex items-center mb-4",children:[a.jsx(Ra,{className:"w-6 h-6 mr-2 text-[#F37021]"}),"Administrator Details"]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Administrator Name"}),a.jsx("input",{type:"text",placeholder:"Enter admin name (letters only)",value:se.adminName,onChange:Te=>he({...se,adminName:Te.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Administrator Email"}),a.jsx("input",{type:"email",placeholder:"Enter admin email",value:se.adminEmail,onChange:Te=>he({...se,adminEmail:Te.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Administrator Unique Number"}),a.jsx("input",{type:"tel",placeholder:"Enter numeric admin number",value:se.adminNumber,onChange:Te=>he({...se,adminNumber:Te.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Head Department Number"}),a.jsx("input",{type:"tel",placeholder:"Enter numeric head dept number",value:se.headDepartmentNumber,onChange:Te=>he({...se,headDepartmentNumber:Te.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Administrator Contact Number"}),a.jsx("input",{type:"tel",placeholder:"Enter 10-digit admin contact",value:se.adminContact,onChange:Te=>he({...se,adminContact:Te.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-[#1C1444] flex items-center mb-4",children:[a.jsx(aA,{className:"w-6 h-6 mr-2 text-[#F37021]"}),"Pricing & Payment"]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Total Students"}),a.jsx("input",{type:"number",placeholder:"Enter number of students",value:se.totalStudent,onChange:Te=>lt("totalStudent",Te.target.value),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0,min:"1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Per Student Price ()"}),a.jsx("input",{type:"number",step:"0.01",placeholder:"Enter per student price",value:se.perStudentPrice,onChange:Te=>lt("perStudentPrice",Te.target.value),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0,min:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Service Charge ()"}),a.jsx("input",{type:"number",step:"0.01",placeholder:"Enter service charge",value:se.serviceCharge,onChange:Te=>lt("serviceCharge",Te.target.value),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0,min:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"GST Service Charge (%)"}),a.jsx("input",{type:"number",step:"0.01",placeholder:"Enter GST percentage",value:se.gstServiceCharge,onChange:Te=>lt("gstServiceCharge",Te.target.value),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0,min:"0",max:"100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Total Pay Amount ()"}),a.jsx("input",{type:"number",step:"0.01",value:se.totalPayAmount,readOnly:!0,className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg bg-[#1C1444]/5 cursor-not-allowed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Number of Installments"}),a.jsx("input",{type:"number",min:"1",placeholder:"Enter number of installments",value:se.numberOfInstallments,onChange:Te=>he({...se,numberOfInstallments:parseInt(Te.target.value)||1}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",id:"managementApproved",checked:se.managementApproved,onChange:Te=>he({...se,managementApproved:Te.target.checked}),className:"w-4 h-4 text-[#F37021] border-[#1C1444]/20 rounded focus:ring-[#F37021]"}),a.jsx("label",{htmlFor:"managementApproved",className:"text-sm font-medium text-[#1C1444]",children:"Management Approved"})]})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-[#1C1444] flex items-center mb-4",children:[a.jsx(I0,{className:"w-6 h-6 mr-2 text-[#F37021]"}),"Installments"]}),se.installments.map((Te,je)=>a.jsxs("div",{className:"mb-6 p-4 border border-[#1C1444]/20 rounded-lg shadow-sm",children:[a.jsxs("h4",{className:"text-md font-medium text-[#1C1444] mb-2",children:["Installment ",je+1]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-1 block",children:"Amount ()"}),a.jsx("input",{type:"number",step:"0.01",value:Te.amount,readOnly:!0,className:"w-full px-3 py-2 border border-[#1C1444]/20 rounded-lg bg-[#1C1444]/5 cursor-not-allowed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-1 block",children:"Due Date"}),a.jsx("input",{type:"date",value:Te.dueDate.toISOString().split("T")[0],onChange:Ke=>He(je,"dueDate",new Date(Ke.target.value)),className:"w-full px-3 py-2 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-1 block",children:"Paid ()"}),a.jsx("input",{type:"number",step:"0.01",placeholder:"Enter paid amount",value:Te.paid,onChange:Ke=>He(je,"paid",Ke.target.value),className:"w-full px-3 py-2 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent",min:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-1 block",children:"Paid Date"}),a.jsx("input",{type:"date",value:Te.paidDate?Te.paidDate.toISOString().split("T")[0]:"",onChange:Ke=>He(je,"paidDate",Ke.target.value?new Date(Ke.target.value):null),className:"w-full px-3 py-2 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-1 block",children:"Payment Method"}),a.jsxs("select",{value:Te.paymentMethod||"",onChange:Ke=>He(je,"paymentMethod",Ke.target.value||null),className:"w-full px-3 py-2 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent",children:[a.jsx("option",{value:"",children:"Select Method"}),wBe.map(Ke=>a.jsx("option",{value:Ke,children:Ke},Ke))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-1 block",children:"Remarks"}),a.jsx("input",{type:"text",placeholder:"Enter remarks",value:Te.remarks,onChange:Ke=>He(je,"remarks",Ke.target.value),className:"w-full px-3 py-2 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent"})]}),(Te.paymentMethod==="Cheque"||Te.paymentMethod==="Bank Transfer")&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-1 block",children:"Upload Receipt"}),a.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:ct(je),className:"w-full px-3 py-2 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent"}),Te.receiptUrl&&a.jsx("a",{href:Me(Te.receiptUrl),target:"_blank",rel:"noopener noreferrer",className:"text-sm text-[#F37021] mt-1 block",children:"View Current Receipt"})]})]}),a.jsxs("div",{className:"mt-2 text-sm text-[#1C1444]",children:["Pending: ",(parseFloat(Te.amount)-parseFloat(Te.paid)).toFixed(2),a.jsx("span",{className:`ml-4 px-2 py-1 rounded-full text-xs ${_e(Te)==="paid"?"bg-green-100 text-green-800":_e(Te)==="partial"?"bg-yellow-100 text-yellow-800":_e(Te)==="overdue"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:_e(Te).toUpperCase()})]})]},je))]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-[#1C1444] flex items-center mb-4",children:[a.jsx(Vx,{className:"w-6 h-6 mr-2 text-[#F37021]"}),"School Logo & Color"]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"logo",className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"School Logo"}),a.jsx("input",{type:"file",id:"logo",accept:"image/jpeg,image/jpg,image/png",onChange:Fe,className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!m}),B&&a.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[a.jsx("img",{src:B,alt:"Logo preview",className:"w-20 h-20 object-contain rounded-lg border border-[#1C1444]/20 transition-transform duration-200 hover:scale-105"}),a.jsx("p",{className:"text-sm text-[#1C1444]/80",children:fe?`Selected: ${fe.name}`:"Current logo"})]}),m&&!B&&!fe&&a.jsx("p",{className:"text-sm text-[#1C1444]/80 mt-2",children:"No new logo selected. Current logo will be retained."})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("label",{htmlFor:"color",className:"text-sm font-medium text-[#1C1444]",children:"School Color"}),a.jsx("input",{type:"color",id:"color",value:se.color,onChange:Te=>he({...se,color:Te.target.value}),className:"w-16 h-16 p-1 border border-[#1C1444]/20 rounded-lg cursor-pointer",required:!0})]})]})]}),a.jsxs("div",{className:"flex space-x-4 pt-6",children:[a.jsx("button",{type:"button",onClick:re,className:"flex-1 px-6 py-3 border border-[#1C1444]/20 text-[#1C1444] rounded-lg hover:bg-[#1C1444]/10 transition-all duration-200",children:"Cancel"}),a.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-[#F37021] to-[#d55f1c] text-white rounded-lg hover:shadow-lg transition-all duration-200 flex items-center justify-center space-x-2",children:[a.jsx(td,{className:"w-5 h-5"}),a.jsx("span",{children:m?"Update":"Save"})]})]})]})]})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-all duration-300",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl transform transition-all duration-300 scale-100",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-[#1C1444]/10",children:[a.jsx("h2",{className:"text-xl font-bold text-[#1C1444]",children:"Export Data"}),a.jsx("button",{onClick:()=>d(!1),className:"text-[#1C1444]/60 hover:text-[#1C1444] p-2 rounded-full hover:bg-[#1C1444]/10 transition-all duration-200",children:a.jsx(Lr,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[ge&&a.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-xl text-sm flex items-center shadow-sm transition-all duration-200",children:[a.jsx(Lr,{className:"w-5 h-5 mr-2"}),ge]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:"Export Type:"}),a.jsx("select",{value:"schools",disabled:!0,className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",children:a.jsx("option",{value:"schools",children:"Schools Data"})})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm font-medium text-[#1C1444] mb-2 block",children:[a.jsx(n_,{className:"w-4 h-4 inline mr-1"}),"Export Password:"]}),a.jsx("input",{type:"password",placeholder:"Enter password to export",value:v,onChange:Te=>b(Te.target.value),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0}),a.jsx("p",{className:"text-xs text-[#1C1444]/80 mt-1",children:"Contact admin for export password"})]}),a.jsxs("div",{className:"flex space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 px-6 py-3 border border-[#1C1444]/20 text-[#1C1444] rounded-lg hover:bg-[#1C1444]/10 transition-all duration-200",children:"Cancel"}),a.jsxs("button",{onClick:Ge,className:"flex-1 px-6 py-3 bg-gradient-to-r from-[#F37021] to-[#d55f1c] text-white rounded-lg hover:shadow-lg transition-all duration-200 flex items-center justify-center space-x-2",children:[a.jsx(xs,{className:"w-5 h-5"}),a.jsx("span",{children:"Export Excel"})]})]})]})]})}),o&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-all duration-300",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl transform transition-all duration-300 scale-100",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-[#1C1444]/10",children:[a.jsx("h2",{className:"text-xl font-bold text-[#1C1444]",children:"Update Logo"}),a.jsx("button",{onClick:st,className:"text-[#1C1444]/60 hover:text-[#1C1444] p-2 rounded-full hover:bg-[#1C1444]/10 transition-all duration-200",children:a.jsx(Lr,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:Ze,className:"p-6 space-y-6",children:[ge&&a.jsxs("div",{className:"p-3 bg-red-50 text-red-700 rounded-xl text-sm flex items-center shadow-sm transition-all duration-200",children:[a.jsx(Lr,{className:"w-5 h-5 mr-2"}),ge]}),B&&a.jsxs("div",{className:"text-center",children:[a.jsx("img",{src:B,alt:"Logo preview",className:"w-24 h-24 object-contain mx-auto rounded-lg border border-[#1C1444]/20 transition-transform duration-200 hover:scale-105"}),a.jsx("p",{className:"text-sm text-[#1C1444]/80 mt-2",children:fe?`Selected: ${fe.name}`:"Current Logo"})]}),a.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:Te=>{const je=Te.target.files[0];ve(je),R(je?URL.createObjectURL(je):null)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",required:!0}),a.jsxs("div",{className:"flex space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:st,className:"flex-1 px-6 py-3 border border-[#1C1444]/20 text-[#1C1444] rounded-lg hover:bg-[#1C1444]/10 transition-all duration-200",children:"Cancel"}),y?.logoUrl&&a.jsx("button",{type:"button",onClick:Pe,className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-200",children:"Delete Logo"}),a.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-[#F37021] to-[#d55f1c] text-white rounded-lg hover:shadow-lg transition-all duration-200",children:"Update Logo"})]})]})]})}),u&&a.jsx(NW,{onClose:()=>h(!1)})]})},jBe=()=>{const[e,t]=C.useState(""),[r,n]=C.useState("all"),[s,i]=C.useState("all"),[o,l]=C.useState("all"),[c,d]=C.useState([]),[u,h]=C.useState(!0),[m,A]=C.useState("");C.useEffect(()=>{y()},[]);const y=async()=>{try{h(!0),A("");const U=localStorage.getItem("superadmin_token");console.log("Fetching payments from https://vidyaastra.com/api/payments");const M=await fetch("https://vidyaastra.com/api/payments",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${U}`}});if(!M.ok)throw new Error(`HTTP error! Status: ${M.status}`);const k=await M.json();if(console.log("API Response:",k),!k.success)throw new Error(k.message||"Failed to fetch payments");const Q=k.data.map(z=>{const O=new Date(z.createdAt);let L;switch(z?.packageId?.duration||"Monthly"){case"Monthly":L=new Date(O.setMonth(O.getMonth()+1));break;case"Quarterly":L=new Date(O.setMonth(O.getMonth()+3));break;case"Yearly":L=new Date(O.setFullYear(O.getFullYear()+1));break;default:L=new Date(O.setMonth(O.getMonth()+1))}const V=z?.packageId?.name.toLowerCase(),ce={"basic plan":"basic","premium plan":"premium","enterprise plan":"enterprise"}[V]||"basic",ee={"Basic Plan":{students:50,features:["Basic Learning","Online Classes","Study Materials"]},"Premium Plan":{students:100,features:["Advanced Learning","Live Sessions","Personal Tutor","Assignments"]},"Enterprise Plan":{students:200,features:["All Features","Priority Support","Custom Content","Analytics"]}};return{id:z._id,customerName:z.name,email:z.email,phone:z.phone,packageName:z?.packageId?.name,packageType:ce,students:ee[z?.packageId?.name]?.students||50,price:z.amount,duration:z?.packageId?.duration||"Monthly",paymentMethod:z.paymentMethod,transactionId:`TXN_${z._id}`,purchaseDate:z.createdAt,status:z.status,expiryDate:L.toISOString(),features:ee[z?.packageId?.name]?.features||[]}});console.log("Mapped Purchase History:",Q),d(Q),A("")}catch(U){A("Error fetching payments: "+U.message),console.error("Fetch Error:",U)}finally{h(!1)}},x=U=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(U),v=U=>new Date(U).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),b=U=>{const M={active:{color:"bg-green-100 text-green-800",icon:tu,text:"Active"},pending:{color:"bg-yellow-100 text-yellow-800",icon:es,text:"Pending"},expired:{color:"bg-red-100 text-red-800",icon:jv,text:"Expired"},cancelled:{color:"bg-gray-100 text-gray-800",icon:jv,text:"Cancelled"}},k=M[U]||M.pending,Q=k.icon;return a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k.color}`,children:[a.jsx(Q,{className:"w-3 h-3 mr-1"}),k.text]})},j=U=>{const M={basic:"text-blue-600 bg-blue-50",premium:"text-purple-600 bg-purple-50",enterprise:"text-green-600 bg-green-50"};return M[U]||M.basic},E=C.useMemo(()=>c.filter(U=>{const M=U.customerName.toLowerCase().includes(e.toLowerCase())||U.email.toLowerCase().includes(e.toLowerCase())||U.transactionId.toLowerCase().includes(e.toLowerCase()),k=r==="all"||U.status===r,Q=s==="all"||U.packageType===s,z=new Date(U.purchaseDate),O=new Date;let L=!0;if(o!=="all")if(o==="today")L=z.toDateString()===O.toDateString();else if(o==="week"){const V=new Date(O.setDate(O.getDate()-7));L=z>=V}else o==="month"?L=z.getMonth()===O.getMonth()&&z.getFullYear()===O.getFullYear():o==="year"&&(L=z.getFullYear()===O.getFullYear());return M&&k&&Q&&L}),[e,r,s,o,c]),T=()=>{console.log("Exporting data...",E),alert("Export functionality would be implemented here")},P=C.useMemo(()=>{const U=c.length,M=c.filter(z=>z.status==="active").length,k=c.filter(z=>z.status==="active").reduce((z,O)=>z+O.price,0),Q=c.filter(z=>z.status==="active").reduce((z,O)=>z+O.students,0);return{total:U,active:M,totalRevenue:k,totalStudents:Q}},[c]);return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-b-3xl shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(af,{className:"w-6 h-6"}),a.jsx("h1",{className:"text-2xl font-bold",children:"Package Purchase History"})]}),a.jsxs("button",{onClick:T,className:"flex items-center space-x-2 bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-xl transition-all",disabled:u,children:[a.jsx(xs,{className:"w-4 h-4"}),a.jsx("span",{children:"Export"})]})]}),a.jsx("p",{className:"text-indigo-100 mt-2",children:"Manage and track all package purchases"})]}),u&&a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(af,{className:"w-12 h-12 text-gray-400 mx-auto mb-4 animate-pulse"}),a.jsx("p",{className:"text-gray-500 text-lg",children:"Loading payment history..."})]}),m&&a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"bg-red-100 text-red-700 rounded-lg p-4 flex items-center",children:[a.jsx(jv,{className:"w-5 h-5 mr-2"}),m]})}),!u&&!m&&a.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Purchases"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P.total})]}),a.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:a.jsx(af,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Subscriptions"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:P.active})]}),a.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:a.jsx(tu,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:x(P.totalRevenue)})]}),a.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:a.jsx(aA,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:P.totalStudents})]}),a.jsx("div",{className:"p-3 bg-orange-100 rounded-xl",children:a.jsx(Ra,{className:"w-6 h-6 text-orange-600"})})]})})]}),!u&&!m&&a.jsx("div",{className:"px-6 mb-6",children:a.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search customers, email, or transaction ID...",value:e,onChange:U=>t(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),a.jsxs("select",{value:r,onChange:U=>n(U.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"expired",children:"Expired"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]}),a.jsxs("select",{value:s,onChange:U=>i(U.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Packages"}),a.jsx("option",{value:"basic",children:"Basic Plan"}),a.jsx("option",{value:"premium",children:"Premium Plan"}),a.jsx("option",{value:"enterprise",children:"Enterprise Plan"})]}),a.jsxs("select",{value:o,onChange:U=>l(U.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"}),a.jsx("option",{value:"year",children:"This Year"})]})]})})}),!u&&!m&&a.jsx("div",{className:"px-6 pb-6",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Package"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Purchase Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(U=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:U.customerName}),a.jsx("div",{className:"text-sm text-gray-500",children:U.email}),a.jsx("div",{className:"text-sm text-gray-500",children:U.phone})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j(U.packageType)}`,children:U.packageName}),a.jsxs("div",{className:"text-sm text-gray-500 mt-1 flex items-center",children:[a.jsx(Ra,{className:"w-3 h-3 mr-1"}),U.students," Students"]})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:x(U.price)}),a.jsx("div",{className:"text-sm text-gray-500",children:U.duration})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900",children:U.paymentMethod}),a.jsx("div",{className:"text-sm text-gray-500",children:U.transactionId})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900",children:v(U.purchaseDate)}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Expires: ",v(U.expiryDate)]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b(U.status)})]},U.id))})]})}),E.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(af,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No records found"}),a.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]})]})})]})},jW=C.createContext(null),SBe="https://vidyaastra.com/api",CBe=({children:e})=>{const[t,r]=C.useState(null),[n,s]=C.useState(null),[i,o]=C.useState(null);C.useEffect(()=>{const m=localStorage.getItem("token"),A=localStorage.getItem("schoolId"),y=localStorage.getItem("schoolCode");m&&A&&y&&(r(m),s(A),o(y))},[]);const[l,c]=C.useState([]),d=async m=>{try{const A=await fetch(`${SBe}/classes/classes?schoolId=${m}`);if(!A.ok)throw new Error("Failed to fetch classes");const y=await A.json();if(!y.success)throw new Error(y.message||"Failed to fetch classes");c(y.data||[])}catch(A){console.log(A)}},u=(m,A,y)=>{localStorage.setItem("token",m),localStorage.setItem("schoolId",A),localStorage.setItem("schoolCode",y),r(m),s(A),o(y)},h=()=>{localStorage.removeItem("token"),localStorage.removeItem("schoolId"),localStorage.removeItem("schoolCode"),r(null),s(null),o(null),console.log("Logout successful - Authentication token cleared")};return C.useEffect(()=>{d(n)},[n]),a.jsx(jW.Provider,{value:{token:t,schoolId:n,schoolCode:i,login:u,logout:h,classesD:l},children:e})},EBe=()=>{const e=C.useContext(jW);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},BBe=({children:e})=>localStorage.getItem("teacherToken")?e:a.jsx(rb,{to:"/login",replace:!0}),TBe=({children:e})=>{const{isAuthenticated:t,loading:r}=EBe(),n=localStorage.getItem("adminToken");return r?a.jsx("div",{children:"Loading authentication..."}):n?e:a.jsx(rb,{to:"/login",replace:!0})},_Be=()=>{const{login:e,error:t}=AQ(),[r,n]=C.useState(""),[s,i]=C.useState(""),[o,l]=C.useState(""),[c,d]=C.useState(!1),u=ru(),h=async m=>{m.preventDefault(),l(""),d(!0);try{await e(r,s)?u("/admin/dashboard"):l("Invalid credentials")}catch(A){l(A.message||"Login failed")}finally{d(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsx("div",{className:"container mx-auto flex justify-center",children:a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md ",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:cy,alt:"Logo",className:"h-20   object-cover shadow-md"}),a.jsx("div",{className:"absolute inset-0 "})]})}),a.jsx("h2",{className:"text-2xl font-bold text-[#1C1444] mb-6 text-center",children:"Super Admin Login"}),(o||t)&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-600 rounded-lg flex items-center space-x-2",children:[a.jsx(ga,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{children:o||t})]}),a.jsxs("form",{onSubmit:h,children:[a.jsxs("div",{className:"mb-5",children:[a.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-2",htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Lm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-5 h-5"}),a.jsx("input",{id:"email",type:"email",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent text-[#1C1444] transition-all",value:r,onChange:m=>n(m.target.value),required:!0,placeholder:"Enter your email"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-2",htmlFor:"password",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(n_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-5 h-5"}),a.jsx("input",{id:"password",type:"password",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent text-[#1C1444] transition-all",value:s,onChange:m=>i(m.target.value),required:!0,placeholder:"Enter your password"})]})]}),a.jsx("button",{type:"submit",disabled:c,className:`w-full bg-[#F37021] text-white py-3 px-4 rounded-lg hover:bg-[#d65f1c] transition-all flex items-center justify-center ${c?"opacity-50 cursor-not-allowed":""}`,children:c?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Logging in..."]}):"Login"})]})]})})})},FBe=({children:e})=>{const{user:t,loading:r}=AQ();return r?a.jsx("div",{children:"Loading..."}):t?e:a.jsx(rb,{to:"/superadmin-login",replace:!0})},IBe=()=>{const[e,t]=C.useState("available"),[r,n]=C.useState(""),[s,i]=C.useState([]),[o,l]=C.useState(!0),[c,d]=C.useState(""),[u,h]=C.useState([]),[m,A]=C.useState(""),[y,x]=C.useState(1),[v]=C.useState(10),[b,j]=C.useState(1),[E,T]=C.useState([{id:1,title:"Advanced Mathematics",author:"R.D. Sharma",isbn:"978-8193332456",student:"John Smith",studentId:"STU001",issueDate:"2023-11-01",dueDate:"2023-12-01",status:"overdue",renewCount:0},{id:2,title:"Physics Fundamentals",author:"H.C. Verma",isbn:"978-8177091878",student:"Emma Wilson",studentId:"STU002",issueDate:"2023-11-15",dueDate:"2023-12-15",status:"active",renewCount:1},{id:3,title:"Organic Chemistry",author:"Morrison & Boyd",isbn:"978-8131704815",student:"Michael Brown",studentId:"STU003",issueDate:"2023-11-20",dueDate:"2023-12-20",status:"active",renewCount:0}]);C.useEffect(()=>{P()},[]),C.useEffect(()=>{U(y)},[y]),C.useEffect(()=>{x(1)},[r,m]);const P=async()=>{try{const V=await(await fetch("https://vidyaastra.com/api/schools")).json();V.success&&h(V.data)}catch{}},U=async L=>{try{l(!0),d("");const V=localStorage.getItem("token"),J=await fetch(`https://vidyaastra.com/api/library/all-unfiltered?page=${L}&limit=${v}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${V}`}});if(!J.ok)throw new Error(`HTTP error! Status: ${J.status}`);const ce=await J.json();if(!ce.success)throw new Error(ce.message||"Failed to fetch books");const ee=ce.data.map(de=>({id:de._id,title:de.title,author:de.author,isbn:de.isbn,subject:de.category,copiesAvailable:de.availableCopies,totalCopies:de.totalCopies,publisher:"Unknown",year:2023,schoolId:de.schoolId||""}));i(ee),j(ce.totalPages||1),d("")}catch(V){d("Error fetching books: "+V.message)}finally{l(!1)}},k=s.map(L=>{const V=L.schoolId&&u.length?u.find(J=>J._id===L.schoolId):null;return{...L,schoolName:V?V.name:L.schoolId?"Unknown School":"No School"}}).filter(L=>(m===""||L.schoolId===m)&&(L.title.toLowerCase().includes(r.toLowerCase())||L.author.toLowerCase().includes(r.toLowerCase())||L.subject.toLowerCase().includes(r.toLowerCase())||L.isbn.includes(r))),Q=E.filter(L=>L.title.toLowerCase().includes(r.toLowerCase())||L.author.toLowerCase().includes(r.toLowerCase())||L.student.toLowerCase().includes(r.toLowerCase())||L.studentId.toLowerCase().includes(r.toLowerCase())),z=L=>{switch(L){case"overdue":return"bg-red-100 text-red-800";case"active":return"bg-green-100 text-green-800";case"due-soon":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},O=L=>{switch(L){case"overdue":return a.jsx(ga,{className:"w-4 h-4"});case"active":return a.jsx(tu,{className:"w-4 h-4"});case"due-soon":return a.jsx(es,{className:"w-4 h-4"});default:return a.jsx(Rs,{className:"w-4 h-4"})}};return a.jsxs("div",{className:"space-y-6 p-4 bg-gray-50 min-h-screen",children:[a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-gray-100",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-[#1C1444] flex items-center",children:[a.jsx(Ff,{className:"mr-3 text-[#F37021] h-8 w-8"}),"Library Management"]}),a.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:"Manage books, issues, and returns with ease"})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>t("available"),className:`px-5 py-2.5 rounded-lg font-medium transition-all duration-200 ${e==="available"?"bg-[#F37021] hover:bg-[#d65f1c] text-white shadow-md":"bg-gray-100 text-[#1C1444] hover:bg-gray-200"}`,children:"Available Books"}),a.jsx("button",{onClick:()=>t("issued"),className:`px-5 py-2.5 rounded-lg font-medium transition-all duration-200 ${e==="issued"?"bg-[#F37021] hover:bg-[#d65f1c] text-white shadow-md":"bg-gray-100 text-[#1C1444] hover:bg-gray-200"}`,children:"Issued Books"})]})]}),c&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-lg flex items-center border border-red-200",children:[a.jsx(ga,{className:"w-5 h-5 mr-2 text-red-600"}),c]}),a.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[a.jsx("label",{className:"text-sm font-medium text-[#1C1444]",children:"Filter by School:"}),a.jsxs("select",{value:m,onChange:L=>A(L.target.value),className:"px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white transition-all duration-200",children:[a.jsx("option",{value:"",children:"All Schools"}),u.map(L=>a.jsx("option",{value:L._id,children:L.name},L._id))]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-5 h-5"}),a.jsx("input",{type:"text",placeholder:`Search ${e==="available"?"books":"issued books"}...`,value:r,onChange:L=>n(L.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] placeholder-gray-400 transition-all duration-200",disabled:o})]})]}),o&&e==="available"&&a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md text-center border border-gray-100",children:[a.jsx(Rs,{className:"w-12 h-12 text-[#F37021] mx-auto mb-4 animate-pulse"}),a.jsx("p",{className:"text-[#1C1444] text-lg font-medium",children:"Loading books..."})]}),!o&&a.jsx("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden border border-gray-100",children:e==="available"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-6 border-b border-gray-100",children:a.jsx("h2",{className:"text-xl font-semibold text-[#1C1444]",children:"Available Books"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Book Details"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Boock Code"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Subject"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"School"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Availability"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:k.map(L=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-all duration-150",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 bg-[#1C1444]/10 rounded-lg flex items-center justify-center",children:a.jsx(Rs,{className:"w-5 h-5 text-[#1C1444]"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-[#1C1444]",children:L.title}),a.jsxs("div",{className:"text-sm text-gray-500",children:["by ",L.author]}),a.jsxs("div",{className:"text-xs text-gray-400",children:[L.publisher,"  ",L.year]})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center text-sm text-[#1C1444]",children:[a.jsx(L5,{className:"w-4 h-4 mr-1 text-[#F37021]"}),L.isbn]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"px-3 py-1 text-xs font-semibold bg-[#F37021]/10 text-[#F37021] rounded-full",children:L.subject})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-[#1C1444]/10 text-[#1C1444] rounded-full",children:L.schoolName})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{className:"font-medium text-[#1C1444]",children:[L.copiesAvailable,"/",L.totalCopies," ","available"]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mt-2",children:a.jsx("div",{className:"bg-[#F37021] h-2.5 rounded-full transition-all duration-300",style:{width:`${L.copiesAvailable/L.totalCopies*100}%`}})})]})})]},L.id))})]})}),k.length===0&&a.jsx("div",{className:"p-6 text-center text-gray-500",children:"No books found"}),a.jsxs("div",{className:"flex justify-between items-center p-6 border-t border-gray-100",children:[a.jsx("button",{disabled:y<=1||o,onClick:()=>x(L=>L-1),className:"px-5 py-2.5 bg-gray-100 text-[#1C1444] rounded-lg font-medium hover:bg-gray-200 disabled:opacity-50 transition-all duration-200",children:"Previous"}),a.jsxs("span",{className:"text-sm text-[#1C1444] font-medium",children:["Page ",y," of ",b]}),a.jsx("button",{disabled:y>=b||o,onClick:()=>x(L=>L+1),className:"px-5 py-2.5 bg-gray-100 text-[#1C1444] rounded-lg font-medium hover:bg-gray-200 disabled:opacity-50 transition-all duration-200",children:"Next"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-6 border-b border-gray-100",children:a.jsx("h2",{className:"text-xl font-semibold text-[#1C1444]",children:"Issued Books"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Book Details"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Student"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Issue Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Due Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:Q.map(L=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-all duration-150",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 bg-[#F37021]/10 rounded-lg flex items-center justify-center",children:a.jsx(Ff,{className:"w-5 h-5 text-[#F37021]"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-[#1C1444]",children:L.title}),a.jsxs("div",{className:"text-sm text-gray-500",children:["by ",L.author]}),a.jsxs("div",{className:"text-xs text-gray-400 flex items-center",children:[a.jsx(L5,{className:"w-3 h-3 mr-1 text-[#F37021]"}),L.isbn]})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium text-[#1C1444]",children:L.student}),a.jsx("div",{className:"text-gray-500",children:L.studentId})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center text-sm text-[#1C1444]",children:[a.jsx(Jn,{className:"w-4 h-4 mr-1 text-[#F37021]"}),L.issueDate]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center text-sm text-[#1C1444]",children:[a.jsx(Jn,{className:"w-4 h-4 mr-1 text-[#F37021]"}),L.dueDate]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:`px-3 py-1 text-xs font-semibold rounded-full flex items-center space-x-1 w-fit ${z(L.status)}`,children:[O(L.status),a.jsx("span",{children:L.status.toUpperCase()})]})})]},L.id))})]})}),Q.length===0&&a.jsx("div",{className:"p-6 text-center text-gray-500",children:"No issued books found"})]})})]})},kBe=()=>{const[e,t]=C.useState(""),[r,n]=C.useState([]),[s,i]=C.useState(!0),[o,l]=C.useState(null),[c,d]=C.useState(1),[u]=C.useState(10),[h,m]=C.useState(1),[A,y]=C.useState(0),[x,v]=C.useState(""),[b,j]=C.useState([]);C.useEffect(()=>{(async()=>{try{i(!0);const J=await sr.get("https://vidyaastra.com/api/circulars/all-unfiltered",{params:{page:c,limit:u,schoolId:x||void 0}});if(J.data.success){const ce=J.data.data.map(he=>({id:he._id,title:he.title||"Untitled",date:he.date?new Date(he.date).toISOString().split("T")[0]:"Not specified",author:he.author||"Administration",category:he.category||"General",priority:he.priority||"Medium",status:he.read?"read":"unread",description:he.content||"No description",schoolId:he.schoolId||""}));n(ce),m(J.data.totalPages||Math.ceil(J.data.count/u)),y(J.data.count||J.data.data.length);const de=[...new Set(ce.map(he=>he.schoolId).filter(Boolean))].map(async he=>{try{const fe=await sr.get(`https://vidyaastra.com/api/schools/${he}`);return fe.data.success?fe.data.data:{_id:he,name:"Unknown School"}}catch(fe){return console.error(`Error fetching school ${he}:`,fe),{_id:he,name:"Unknown School"}}}),se=await Promise.all(de);j(se.filter(Boolean))}else l(J.data.message||"No circulars found")}catch(J){console.error("Error fetching circulars:",J),l("Failed to load circulars. Please try again later.")}finally{i(!1)}})()},[c,u,x]);const E=()=>{c>1&&d(c-1)},T=()=>{c<h&&d(c+1)},P=V=>{V>=1&&V<=h&&d(V)},U=b;console.log("Schools:",b),console.log("Circular School IDs:",[...new Set(r.map(V=>V.schoolId).filter(Boolean))]),console.log("Filtered Schools:",U);const M=r.filter(V=>V.title.toLowerCase().includes(e.toLowerCase())||V.category.toLowerCase().includes(e.toLowerCase())||V.description.toLowerCase().includes(e.toLowerCase())||V.author.toLowerCase().includes(e.toLowerCase())),k=()=>{t(""),v(""),d(1)},Q=()=>{if(M.length===0){alert("No data to export");return}const V=M.map(he=>({Title:he.title,Date:he.date,Author:he.author,Category:he.category,Priority:he.priority,Status:he.status.charAt(0).toUpperCase()+he.status.slice(1),Description:he.description,"School Name":b.find(fe=>fe._id===he.schoolId)?.name||"Unknown School"})),J=Object.keys(V[0]),ce=[J.join(","),...V.map(he=>J.map(fe=>`"${he[fe]||""}"`).join(","))].join(`
`),ee=new Blob([ce],{type:"text/csv;charset=utf-8;"}),de=document.createElement("a"),se=URL.createObjectURL(ee);de.setAttribute("href",se),de.setAttribute("download",`circulars_${new Date().toISOString().split("T")[0]}.csv`),de.style.visibility="hidden",document.body.appendChild(de),de.click(),document.body.removeChild(de)},z=V=>{switch(V){case"High":return"bg-red-100 text-red-700";case"Medium":return"bg-yellow-100 text-yellow-700";case"Low":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-[#1C1444]"}},O=V=>{switch(V){case"Academic":return"bg-[#F37021]/10 text-[#F37021]";case"Events":return"bg-purple-100 text-purple-700";case"Finance":return"bg-green-100 text-green-700";case"Sports":return"bg-[#F37021]/10 text-[#F37021]";default:return"bg-gray-100 text-[#1C1444]"}},L=async V=>{try{n(r.map(J=>J.id===V?{...J,status:"read"}:J)),await sr.patch(`https://vidyaastra.com/api/circulars/${V}`,{read:!0})}catch{n(r.map(ce=>ce.id===V?{...ce,status:"unread"}:ce))}};return s?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#F37021]"})}):o?a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-gray-100 text-center",children:[a.jsx("div",{className:"text-red-700 mb-4",children:o}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-[#F37021] text-white rounded-lg hover:bg-[#d65f1c] transition-all duration-200",children:"Retry"})]}):a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 p-4 bg-gray-50 min-h-screen",children:[a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-gray-100",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(og,{className:"w-6 h-6 text-[#F37021]"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-[#1C1444]",children:"School Circulars"}),a.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:"Important announcements and notices"})]})]}),a.jsxs("button",{onClick:Q,className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg shadow-md flex items-center space-x-2 transition-all duration-200",title:"Export to CSV",disabled:s,children:[a.jsx(xs,{className:"text-white"})," ",a.jsx("span",{children:"Export CSV"})]})]}),a.jsxs("div",{className:"flex space-x-6 text-sm mt-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-[#1C1444]",children:"Total:"}),a.jsx("span",{className:"font-semibold text-[#1C1444]",children:A})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-[#1C1444]",children:"Unread:"}),a.jsx("span",{className:"font-semibold text-[#1C1444]",children:r.filter(V=>V.status==="unread").length})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-[#1C1444]",children:"Filtered:"}),a.jsx("span",{className:"font-semibold text-[#1C1444]",children:M.length})]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-gray-100",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-w-5xl",children:[a.jsxs("div",{className:"max-w-xs",children:[a.jsxs("label",{className:"block text-sm font-medium text-[#1C1444] mb-1 flex items-center",children:[a.jsx(Ol,{className:"mr-2 text-[#F37021]"}),"School"]}),a.jsxs("select",{value:x,onChange:V=>v(V.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white transition-all duration-200 text-sm",children:[a.jsx("option",{value:"",children:"All Schools"}),U.length>0?U.map(V=>a.jsx("option",{value:V._id,children:V.name.charAt(0).toUpperCase()+V.name.slice(1)||"Unnamed School"},V._id)):a.jsx("option",{disabled:!0,children:"No schools available"})]})]}),a.jsxs("div",{className:"max-w-xs",children:[a.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Search"}),a.jsxs("div",{className:"relative",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search by title, category, description...",value:e,onChange:V=>t(V.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] placeholder-gray-400 transition-all duration-200 text-sm"})]})]})]}),a.jsx("div",{className:"flex items-center justify-between mt-4",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"text-sm text-[#1C1444] font-medium",children:["Showing ",M.length," of ",A," circulars"]}),a.jsx("button",{onClick:k,className:"px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50 text-[#1C1444] font-medium transition-all duration-200 text-sm",children:"Clear Filters"})]})})]}),a.jsx("div",{className:"space-y-4",children:M.map(V=>a.jsx("div",{className:`bg-white rounded-2xl p-6 shadow-md border border-gray-100 hover:shadow-lg transition-shadow duration-200 ${V.status==="unread"?"border-l-4 border-l-[#F37021]":""}`,children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#1C1444]",children:V.title}),V.status==="unread"&&a.jsx("span",{className:"w-2 h-2 bg-[#F37021] rounded-full"})]}),a.jsxs("div",{className:"flex items-center space-x-4 mb-3 text-sm",children:[a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${z(V.priority)}`,children:V.priority}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${O(V.category)}`,children:V.category}),V.schoolId&&a.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-[#F37021]/10 text-[#F37021] flex items-center",children:[a.jsx(Ol,{className:"w-3 h-3 mr-1 text-[#F37021]"}),b.find(J=>J._id===V.schoolId)?.name||"Unknown School"]})]}),a.jsx("p",{className:"text-[#1C1444] mb-3",children:V.description}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-[#1C1444]",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Jn,{className:"w-4 h-4 text-[#F37021]"}),a.jsx("span",{children:V.date})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(no,{className:"w-4 h-4 text-[#F37021]"}),a.jsx("span",{children:V.author})]})]})]}),V.status==="unread"&&a.jsxs("button",{onClick:()=>L(V.id),className:"flex items-center space-x-1 text-sm text-[#F37021] hover:text-[#d65f1c] transition-all duration-200",children:[a.jsx(Hi,{className:"w-4 h-4"}),a.jsx("span",{children:"Mark as read"})]})]})},V.id))}),A>0&&a.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-md border border-gray-100 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-[#1C1444] font-medium",children:["Page ",c," of ",h]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:E,disabled:c===1,className:`px-3 py-2 rounded-lg font-medium ${c===1?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"} transition-all duration-200`,children:a.jsx(fc,{})}),Array.from({length:h},(V,J)=>J+1).filter(V=>V===1||V===h||V>=c-2&&V<=c+2).map(V=>a.jsx("button",{onClick:()=>P(V),className:`px-3 py-1 rounded-lg font-medium ${c===V?"bg-[#F37021] text-white":"bg-gray-100 text-[#1C1444] hover:bg-gray-200"} transition-all duration-200`,children:V},V)),a.jsx("button",{onClick:T,disabled:c===h,className:`px-3 py-2 rounded-lg font-medium ${c===h?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"} transition-all duration-200`,children:a.jsx(Al,{})})]})]}),M.length===0&&r.length>0&&!s&&a.jsxs("div",{className:"bg-white rounded-2xl p-12 shadow-md border border-gray-100 text-center",children:[a.jsx(og,{className:"w-12 h-12 mx-auto text-[#F37021] mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:"No circulars match your filters"}),a.jsx("button",{onClick:k,className:"text-[#F37021] hover:text-[#d65f1c] underline font-medium transition-all duration-200",children:"Clear filters to see all circulars"})]}),M.length===0&&r.length===0&&!s&&a.jsxs("div",{className:"bg-white rounded-2xl p-12 shadow-md border border-gray-100 text-center",children:[a.jsx(og,{className:"w-12 h-12 mx-auto text-[#F37021] mb-4"}),a.jsx("p",{className:"text-[#1C1444]",children:"No circulars found"})]})]})},PBe=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(!1),[s,i]=C.useState(null),[o,l]=C.useState([]),[c,d]=C.useState(!0),[u,h]=C.useState(null),[m,A]=C.useState(1),[y]=C.useState(10),[x,v]=C.useState(1),[b,j]=C.useState(0),[E,T]=C.useState(""),[P,U]=C.useState(""),[M,k]=C.useState(""),[Q,z]=C.useState(""),[O,L]=C.useState([]),[V,J]=C.useState([]);C.useEffect(()=>{(async()=>{try{const le=await sr.get("https://vidyaastra.com/api/schools");le.data.success&&L(le.data.data)}catch{}})()},[]),C.useEffect(()=>{const Z=async()=>{try{const le=new Set;o.forEach(Fe=>{Fe.classTeacherOf&&le.add(Fe.classTeacherOf),Array.isArray(Fe.classes)&&Fe.classes.forEach(be=>{be.includes("-")||le.add(be)})});const te=Array.from(le).map(async Fe=>{try{const re=(await sr.get(`https://vidyaastra.com/api/class/${Fe}`)).data?.data||{_id:Fe,className:"Unknown Class",section:""};return{_id:re._id,className:re.className,section:re.section||""}}catch(be){return console.error(`Failed to fetch class ${Fe}:`,be.message),{_id:Fe,className:"Unknown Class",section:""}}}),Ne=await Promise.all(te);J(Ne.filter(Fe=>Fe._id&&Fe.className))}catch(le){console.error("Failed to fetch classes:",le.message)}};o.length>0&&Z()},[o]),C.useEffect(()=>{(async()=>{try{d(!0);const le=await sr.get("https://vidyaastra.com/api/teacher",{params:{page:m,limit:y}});if(le.data.success){const te=le.data.data.map(Ne=>({id:Ne._id,name:Ne.name||"Unknown",email:Ne.email||"N/A",phone:Ne.phone||"N/A",subject:Array.isArray(Ne.subjects)?Ne.subjects.join(", "):Ne.subjects||"N/A",classes:Array.isArray(Ne.classes)?Ne.classes:Ne.classes?[Ne.classes]:[],joiningDate:Ne.createdAt?new Date(Ne.createdAt).toLocaleDateString():"Not specified",address:"Not specified",salary:"Not specified",status:Ne.classTeacherOf?"Active":"Inactive",profilePic:Ne.profilePic||null,schoolId:Ne.schoolId||"",classTeacherOf:Ne.classTeacherOf||""}));l(te),v(le.data.totalPages),j(le.data.total)}else h(le.data.message||"No teachers found")}catch{h("Failed to load teachers. Please try again later.")}finally{d(!1)}})()},[m,y]);const ce=()=>{m>1&&A(m-1)},ee=()=>{m<x&&A(m+1)},de=Z=>{Z>=1&&Z<=x&&A(Z)},se=[...new Set(o.flatMap(Z=>Z.subject.split(", ").filter(Boolean)).filter(Boolean))],he=[...new Set(V.map(Z=>Z.className).filter(Boolean))].sort(),fe=[...new Set(V.filter(Z=>Z.className===P).map(Z=>Z.section).filter(Boolean))].sort();C.useEffect(()=>{k("")},[P]);const ve=[...new Set(o.map(Z=>Z.schoolId).filter(Boolean))],B=O.filter(Z=>ve.includes(Z._id)),R=o.filter(Z=>{const le=Z.name.toLowerCase().includes(e.toLowerCase())||Z.subject.toLowerCase().includes(e.toLowerCase())||Z.email.toLowerCase().includes(e.toLowerCase())||Z.phone.includes(e),te=!E||Z.subject.split(", ").includes(E),Ne=!P||Z.classes.some(be=>{const re=V.find(Ce=>Ce._id===be||`${Ce.className}-${Ce.section}`===be);return re&&re.className===P&&(!M||re.section===M)})||Z.classTeacherOf&&V.find(be=>be._id===Z.classTeacherOf)?.className===P&&(!M||V.find(be=>be._id===Z.classTeacherOf)?.section===M),Fe=!Q||Z.schoolId===Q;return le&&te&&Ne&&Fe}),Y=()=>{t(""),T(""),U(""),k(""),z(""),A(1)},ie=()=>{if(R.length===0){alert("No data to export");return}const Z=R.map(re=>({"Teacher Name":re.name,Email:re.email,Phone:re.phone,Subjects:re.subject,Classes:re.classes.map(Ce=>{const st=V.find(et=>et._id===Ce||`${et.className}-${et.section}`===Ce);return st?`${st.className}${st.section?`-${st.section}`:""}`:Ce}).join(", "),Status:re.status,"Joining Date":re.joiningDate,Address:re.address,Salary:re.salary,"School Name":O.find(Ce=>Ce._id===re.schoolId)?.name||"N/A"})),le=Object.keys(Z[0]),te=[le.join(","),...Z.map(re=>le.map(Ce=>`"${re[Ce]||""}"`).join(","))].join(`
`),Ne=new Blob([te],{type:"text/csv;charset=utf-8;"}),Fe=document.createElement("a"),be=URL.createObjectURL(Ne);Fe.setAttribute("href",be),Fe.setAttribute("download",`teachers_${new Date().toISOString().split("T")[0]}.csv`),Fe.style.visibility="hidden",document.body.appendChild(Fe),Fe.click(),document.body.removeChild(Fe)},ge=Z=>{i(Z),n(!0)},ye=()=>{n(!1),i(null)},pe=Z=>Z==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800";return c?a.jsx("div",{className:"flex justify-center items-center h-64 bg-gray-50 max-w-7xl mx-auto",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#F37021]"})}):u?a.jsxs("div",{className:"max-w-7xl mx-auto bg-white rounded-2xl p-6 shadow-md border border-gray-100 text-center",children:[a.jsx("div",{className:"text-red-500 mb-4",children:u}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-5 py-2.5 bg-[#F37021] text-white rounded-lg font-medium hover:bg-[#d65f1c] transition-all duration-200",children:"Retry"})]}):a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 p-4 bg-gray-50 min-h-screen",children:[a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-gray-100",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-[#1C1444] flex items-center",children:[a.jsx(Ra,{className:"mr-3 text-[#F37021] h-8 w-8"}),"Teachers Management"]}),a.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:"Manage teacher profiles and information"})]}),a.jsxs("button",{onClick:ie,className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-5 py-2.5 rounded-lg shadow-md flex items-center space-x-2 transition-all duration-200",title:"Export to CSV",disabled:c,children:[a.jsx(xs,{})," ",a.jsx("span",{children:"Export CSV"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-5 gap-3 mt-6",children:[a.jsxs("div",{className:"max-w-[180px]",children:[a.jsxs("label",{className:"block text-sm font-medium text-[#1C1444] mb-1 flex items-center",children:[a.jsx(Ol,{className:"mr-2 text-[#F37021]"}),"School"]}),a.jsxs("select",{value:Q,onChange:Z=>z(Z.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white transition-all duration-200 text-sm",children:[a.jsx("option",{value:"",children:"All Schools"}),B.map(Z=>a.jsx("option",{value:Z._id,children:Z.name},Z._id))]})]}),a.jsxs("div",{className:"max-w-[180px]",children:[a.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Subject"}),a.jsxs("select",{value:E,onChange:Z=>T(Z.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white transition-all duration-200 text-sm",children:[a.jsx("option",{value:"",children:"All Subjects"}),se.map(Z=>a.jsx("option",{value:Z,children:Z},Z))]})]}),a.jsxs("div",{className:"max-w-[180px]",children:[a.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Class"}),a.jsxs("select",{value:P,onChange:Z=>U(Z.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white transition-all duration-200 text-sm",children:[a.jsx("option",{value:"",children:"All Classes"}),he.map(Z=>a.jsx("option",{value:Z,children:Z},Z))]})]}),a.jsxs("div",{className:"max-w-[180px]",children:[a.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Section"}),a.jsxs("select",{value:M,onChange:Z=>k(Z.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white transition-all duration-200 text-sm",disabled:P===""||fe.length===0,children:[a.jsx("option",{value:"",children:"All Sections"}),fe.map(Z=>a.jsx("option",{value:Z,children:Z},Z))]})]}),a.jsxs("div",{className:"max-w-[180px]",children:[a.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Search"}),a.jsxs("div",{className:"relative",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search...",value:e,onChange:Z=>t(Z.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] placeholder-gray-400 transition-all duration-200 text-sm"})]})]})]}),a.jsx("div",{className:"flex items-center justify-between mt-4",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"text-sm text-[#1C1444] font-medium",children:["Showing ",R.length," of ",b," teachers"]}),a.jsx("button",{onClick:Y,className:"px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50 text-[#1C1444] font-medium transition-all duration-200 text-sm",children:"Clear Filters"})]})})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden border border-gray-100",children:[a.jsx("div",{className:"p-6 border-b border-gray-100",children:a.jsxs("h2",{className:"text-xl font-semibold text-[#1C1444]",children:["All Teachers (",R.length,")"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Teacher"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Contact"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Subjects"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Classes"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"School"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:R.map(Z=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-all duration-150",children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[Z.profilePic?a.jsx("img",{src:Z.profilePic||"/placeholder.svg",alt:Z.name,className:"w-10 h-10 rounded-full object-cover"}):a.jsx("div",{className:"w-10 h-10 bg-[#1C1444]/10 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-[#1C1444] font-semibold text-base",children:Z.name.split(" ").map(le=>le[0]).join("")})}),a.jsx("div",{className:"ml-3",children:a.jsx("div",{className:"text-sm font-medium text-[#1C1444]",children:Z.name})})]})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-[#1C1444]",children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(Lm,{className:"w-4 h-4 mr-2 text-[#F37021]"}),Z.email]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(GA,{className:"w-4 h-4 mr-2 text-[#F37021]"}),Z.phone]})]})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsxs("span",{className:"px-3 py-1 inline-flex text-xs font-semibold rounded-full bg-[#F37021]/10 text-[#F37021]",children:[a.jsx(Rs,{className:"w-3 h-3 mr-1"}),Z.subject]})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsxs("span",{className:"px-3 py-1 inline-flex text-xs font-semibold rounded-full bg-[#F37021]/10 text-[#F37021]",children:[a.jsx(Rs,{className:"w-3 h-3 mr-1"}),Z.classes.map(le=>{const te=V.find(Ne=>Ne._id===le||`${Ne.className}-${Ne.section}`===le);return te?`${te.className}${te.section?`-${te.section}`:""}`:le}).join(", ")]})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsxs("span",{className:"px-3 py-1 inline-flex text-xs font-semibold rounded-full bg-[#1C1444]/10 text-[#1C1444]",children:[a.jsx(Ol,{className:"w-3 h-3 mr-1"}),O.find(le=>le._id===Z.schoolId)?.name||"N/A"]})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs font-semibold rounded-full ${pe(Z.status)}`,children:Z.status})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:a.jsx("div",{className:"flex space-x-2",children:a.jsx("button",{onClick:()=>ge(Z),className:"text-[#F37021] hover:text-[#d65f1c] p-1 rounded hover:bg-[#F37021]/10 transition-all duration-200",title:"View Details",children:a.jsx(Hi,{className:"w-4 h-4"})})})})]},Z.id))})]})}),R.length===0&&o.length>0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(no,{className:"w-12 h-12 mx-auto text-[#1C1444]/20 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:"No teachers match your filters"}),a.jsx("button",{onClick:Y,className:"text-[#F37021] hover:text-[#d65f1c] underline font-medium transition-all duration-200",children:"Clear filters to see all teachers"})]}),R.length===0&&o.length===0&&!c&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(no,{className:"w-12 h-12 mx-auto text-[#1C1444]/20 mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No teachers found matching your search."})]}),b>0&&a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100",children:[a.jsxs("div",{className:"text-sm text-[#1C1444] font-medium",children:["Page ",m," of ",x]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:ce,disabled:m===1,className:`px-3 py-2 rounded-lg font-medium ${m===1?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"} transition-all duration-200`,children:a.jsx(fc,{})}),Array.from({length:x},(Z,le)=>le+1).filter(Z=>Z===1||Z===x||Z>=m-2&&Z<=m+2).map(Z=>a.jsx("button",{onClick:()=>de(Z),className:`px-3 py-1 rounded-lg font-medium ${m===Z?"bg-[#F37021] text-white":"bg-gray-100 text-[#1C1444] hover:bg-gray-200"} transition-all duration-200`,children:Z},Z)),a.jsx("button",{onClick:ee,disabled:m===x,className:`px-3 py-2 rounded-lg font-medium ${m===x?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"} transition-all duration-200`,children:a.jsx(Al,{})})]})]})]}),r&&s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto border border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[a.jsxs("h2",{className:"text-xl font-bold text-[#1C1444] flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-[#F37021]/10 rounded-lg flex items-center justify-center mr-3",children:a.jsx(Hi,{className:"text-[#F37021]"})}),"Teacher Details"]}),a.jsx("button",{onClick:ye,className:"text-[#1C1444] hover:text-[#F37021] transition-all duration-200",children:a.jsx(Lr,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[s.profilePic?a.jsx("img",{src:s.profilePic||"/placeholder.svg",alt:s.name,className:"w-16 h-16 rounded-full object-cover"}):a.jsx("div",{className:"w-16 h-16 bg-[#1C1444]/10 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-[#1C1444] font-bold text-xl",children:s.name.split(" ").map(Z=>Z[0]).join("")})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-[#1C1444]",children:s.name}),a.jsxs("p",{className:"text-gray-500 text-sm",children:["Subjects: ",s.subject]}),a.jsxs("p",{className:"text-gray-500 text-sm",children:["School:"," ",O.find(Z=>Z._id===s.schoolId)?.name||"N/A"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Lm,{className:"w-5 h-5 text-[#F37021]"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),a.jsx("p",{className:"font-medium text-[#1C1444]",children:s.email})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(GA,{className:"w-5 h-5 text-[#F37021]"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),a.jsx("p",{className:"font-medium text-[#1C1444]",children:s.phone})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Rs,{className:"w-5 h-5 text-[#F37021]"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Subjects"}),a.jsx("p",{className:"font-medium text-[#1C1444]",children:s.subject})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Classes"}),a.jsx("p",{className:"font-medium text-[#1C1444]",children:s.classes.map(Z=>{const le=V.find(te=>te._id===Z||`${te.className}-${te.section}`===Z);return le?`${le.className}${le.section?`-${le.section}`:""}`:Z}).join(", ")})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),a.jsx("p",{className:"font-medium text-[#1C1444]",children:s.status})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"School"}),a.jsx("p",{className:"font-medium text-[#1C1444]",children:O.find(Z=>Z._id===s.schoolId)?.name||"N/A"})]})]})]})]})]})})]})},LBe=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(!1),[s,i]=C.useState("view"),[o,l]=C.useState(null),[c,d]=C.useState("buses"),[u,h]=C.useState([]),[m,A]=C.useState(!0),[y,x]=C.useState(null),[v,b]=C.useState([]),[j,E]=C.useState("all"),[T,P]=C.useState([]),[U,M]=C.useState("all"),[k,Q]=C.useState("all"),[z,O]=C.useState(""),[L,V]=C.useState(""),[J,ce]=C.useState(""),[ee,de]=C.useState(!1),[se,he]=C.useState({min:"",max:""}),[fe,ve]=C.useState(1),B=10,[R,Y]=C.useState(1),[ie,ge]=C.useState(0);localStorage.getItem("schoolId"),C.useEffect(()=>{(async()=>{try{A(!0);const ke=await sr.get(`https://vidyaastra.com/api/transports/all-unfiltered?page=${fe}&limit=${B}`);if(ke.data.success){const Ze=ke.data.data;h(Ze),Y(ke.data.totalPages||1),ge(ke.data.total||0);const Pe=new Map;Ze.forEach(Me=>{Me.schoolId&&typeof Me.schoolId=="object"&&Me.schoolId._id&&Me.schoolId.name&&Pe.set(Me.schoolId._id,Me.schoolId)});const ot=Array.from(Pe.values());b(ot);const Ge=new Set;Ze.forEach(Me=>{Array.isArray(Me.assignedStudents)&&Me.assignedStudents.forEach(Te=>{Te.studentId?.classId&&Ge.add(Te.studentId.classId)})});const lt=Array.from(Ge).map(async Me=>{try{const je=(await sr.get(`https://vidyaastra.com/api/class/${Me}`)).data?.data||{_id:Me,className:"Unknown Class",section:""};return{_id:je._id,className:je.className,section:je.section||""}}catch(Te){return console.error(`Failed to fetch class ${Me}:`,Te.message),{_id:Me,className:"Unknown Class",section:""}}}),Je=await Promise.all(lt);P(Je.filter(Me=>Me._id&&Me.className))}else x("Failed to fetch transport data: Invalid response")}catch(ke){x("Failed to fetch transport data: "+ke.message)}finally{A(!1)}})()},[fe]);const ye=C.useMemo(()=>[...new Set(u.map(_e=>_e.schoolId&&typeof _e.schoolId=="object"?_e.schoolId._id:_e.schoolId))].filter(Boolean),[u]),pe=C.useMemo(()=>v.filter(_e=>ye.includes(_e._id)).map(_e=>({..._e,name:_e.name||"Unknown School"})),[v,ye]),Z=C.useMemo(()=>[...new Set(T.map(_e=>_e.className))].sort(),[T]),le=C.useMemo(()=>U==="all"?[]:[...new Set(T.filter(_e=>_e.className===U).map(_e=>_e.section).filter(_e=>_e))].sort(),[U,T]);C.useEffect(()=>{Q("all")},[U]);const te=C.useMemo(()=>u.filter(_e=>{if(j!=="all"&&(_e.schoolId&&typeof _e.schoolId=="object"?_e.schoolId._id:_e.schoolId)!==j||U!=="all"&&!(Array.isArray(_e.assignedStudents)&&_e.assignedStudents.some(Pe=>{const ot=T.find(Ge=>Ge._id===Pe.studentId?.classId);return ot&&ot.className===U&&(k==="all"||ot.section===k)}))||z&&_e.route!==z||L&&_e.status!==L||J&&_e.driverName!==J)return!1;if(se.min||se.max){const Ze=_e.totalCapacity||_e.capacity||0;if(se.min&&Ze<Number(se.min)||se.max&&Ze>Number(se.max))return!1}const ke=e.toLowerCase();return!(e&&!((_e.busNumber||"").toLowerCase().includes(ke)||(_e.route||"").toLowerCase().includes(ke)||(_e.driverName||"").toLowerCase().includes(ke)||(_e.routeName||"").toLowerCase().includes(ke)))}),[u,j,U,k,z,L,J,se,e,T]),Ne=[...new Set(u.map(_e=>_e.route).filter(Boolean))],Fe=[...new Set(u.map(_e=>_e.driverName).filter(Boolean))],be=["Active","Maintenance","Inactive"],re=()=>{t(""),O(""),V(""),ce(""),he({min:"",max:""}),E("all"),M("all"),Q("all")},Ce=()=>{if(te.length===0){alert("No data to export");return}const _e=te.map(lt=>({"Bus Number":lt.busNumber,Route:lt.route,"Route Name":lt.routeName,Driver:lt.driverName,"Driver Phone":lt.driverPhone,Capacity:lt.totalCapacity||lt.capacity,"Current Occupancy":lt.currentOccupancy,"Available Seats":lt.availableSeats,"Pickup Time":lt.pickupTime||lt.startTime,"Dropoff Time":lt.dropoffTime||lt.endTime,Status:lt.status,School:lt.schoolId&&typeof lt.schoolId=="object"?lt.schoolId.name||"Unknown School":v.find(Je=>Je._id===lt.schoolId)?.name||"Unknown School",Classes:Array.isArray(lt.assignedStudents)?lt.assignedStudents.map(Je=>{const Me=T.find(Te=>Te._id===Je.studentId?.classId);return Me?`${Me.className}${Me.section?`-${Me.section}`:""}`:"Unknown Class"}).filter(Boolean).join(", "):""})),ke=Object.keys(_e[0]),Ze=[ke.join(","),..._e.map(lt=>ke.map(Je=>`"${lt[Je]??""}"`).join(","))].join(`
`),Pe=new Blob([Ze],{type:"text/csv;charset=utf-8;"}),ot=document.createElement("a"),Ge=URL.createObjectURL(Pe);ot.setAttribute("href",Ge),ot.setAttribute("download",`buses_${new Date().toISOString().split("T")[0]}.csv`),ot.style.visibility="hidden",document.body.appendChild(ot),ot.click(),document.body.removeChild(ot)},st=_e=>{i("view"),l(_e),n(!0)},et=()=>{n(!1),l(null)},He=_e=>{switch(_e){case"Active":return"bg-green-100 text-green-800 border-green-200";case"Maintenance":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Inactive":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-[#1C1444] border-gray-200"}},ct=_e=>{_e>=1&&_e<=R&&ve(_e)};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-[#1C1444] text-white p-6 shadow-lg",children:a.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(rf,{className:"w-6 h-6 text-[#F37021]"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Transport Management"}),a.jsx("p",{className:"text-[#F37021] mt-1",children:"Manage buses, routes, and drivers"})]})]}),a.jsxs("button",{onClick:Ce,className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2",title:"Export to CSV",disabled:m,children:[a.jsx(xs,{className:"w-4 h-4 text-white"}),a.jsx("span",{children:"Export CSV"})]})]})}),a.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search bus, route, driver...",value:e,onChange:_e=>t(_e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"})]}),a.jsxs("select",{value:j,onChange:_e=>E(_e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444] min-w-[150px]",children:[a.jsx("option",{value:"all",children:"All Schools"}),pe.length>0?pe.map(_e=>a.jsx("option",{value:_e._id,children:_e.name},_e._id)):a.jsx("option",{disabled:!0,children:"No schools available"})]}),a.jsxs("select",{value:U,onChange:_e=>M(_e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444] min-w-[150px]",children:[a.jsx("option",{value:"all",children:"All Classes"}),Z.length>0?Z.map(_e=>a.jsx("option",{value:_e,children:_e},_e)):a.jsx("option",{disabled:!0,children:"No classes available"})]}),a.jsxs("select",{value:k,onChange:_e=>Q(_e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444] min-w-[150px]",disabled:U==="all"||le.length===0,children:[a.jsx("option",{value:"all",children:"All Sections"}),le.length>0?le.map(_e=>a.jsx("option",{value:_e,children:_e},_e)):a.jsx("option",{disabled:!0,children:"No sections available"})]}),a.jsxs("button",{onClick:()=>de(!ee),className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-[#1C1444]",children:[a.jsx(Fu,{className:"w-4 h-4 text-[#F37021]"}),a.jsx("span",{children:"Advanced Filters"})]})]}),ee&&a.jsx("div",{className:"border-t pt-4 mt-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Route"}),a.jsxs("select",{value:z,onChange:_e=>O(_e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[a.jsx("option",{value:"",children:"All Routes"}),Ne.map(_e=>a.jsx("option",{value:_e,children:_e},_e))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Status"}),a.jsxs("select",{value:L,onChange:_e=>V(_e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[a.jsx("option",{value:"",children:"All Status"}),be.map(_e=>a.jsx("option",{value:_e,children:_e},_e))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Driver"}),a.jsxs("select",{value:J,onChange:_e=>ce(_e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[a.jsx("option",{value:"",children:"All Drivers"}),Fe.map(_e=>a.jsx("option",{value:_e,children:_e},_e))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Min Capacity"}),a.jsx("input",{type:"number",placeholder:"Min",value:se.min,onChange:_e=>he({...se,min:_e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"}),a.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1 mt-2",children:"Max Capacity"}),a.jsx("input",{type:"number",placeholder:"Max",value:se.max,onChange:_e=>he({...se,max:_e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:re,className:"w-full px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-[#1C1444]",children:"Clear Filters"})})]})})]}),m?a.jsxs("div",{className:"text-center py-12 text-[#1C1444]",children:[a.jsx(rf,{className:"w-12 h-12 mx-auto text-[#F37021] mb-4 animate-pulse"}),"Loading..."]}):y?a.jsx("div",{className:"text-center py-12 text-red-700 bg-red-50 rounded-lg p-4",children:y}):a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("h2",{className:"text-lg font-semibold text-[#1C1444]",children:["Buses (",te.length,")"]})}),a.jsx("div",{className:"relative overflow-x-auto",children:a.jsxs("table",{className:"w-full min-w-[800px]",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider min-w-[180px]",children:"Bus Details"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider min-w-[200px]",children:"Route & Driver"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider min-w-[180px]",children:"Schedule"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider min-w-[120px]",children:"Capacity"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider whitespace-nowrap",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider min-w-[120px]",children:"School"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider whitespace-nowrap",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:te.map(_e=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-12 h-12 bg-[#F37021]/10 rounded-lg flex items-center justify-center",children:a.jsx(rf,{className:"w-6 h-6 text-[#F37021]"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-[#1C1444]",children:_e.busNumber}),a.jsx("div",{className:"text-sm text-[#1C1444]",children:_e.transportType||"Bus"})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"text-sm text-[#1C1444]",children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(hk,{className:"w-4 h-4 mr-2 text-[#F37021]"}),_e.routeName||_e.route]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(no,{className:"w-4 h-4 mr-2 text-[#F37021]"}),_e.driverName]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"text-sm text-[#1C1444]",children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(es,{className:"w-4 h-4 mr-2 text-[#F37021]"}),_e.startTime||_e.pickupTime," -"," ",_e.endTime||_e.dropoffTime]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ere,{className:"w-4 h-4 mr-2 text-[#F37021]"}),Array.isArray(_e.operatingDays)?_e.operatingDays.join(", "):""]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{className:"font-medium text-[#1C1444]",children:[_e.currentOccupancy??0,"/",_e.totalCapacity??_e.capacity??0]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:a.jsx("div",{className:"bg-[#F37021] h-2 rounded-full",style:{width:`${(_e.currentOccupancy??0)/(_e.totalCapacity??_e.capacity??1)*100}%`}})})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full border ${He(_e.status)}`,children:_e.status})}),a.jsx("td",{className:"px-6 py-4",children:_e.schoolId&&typeof _e.schoolId=="object"?a.jsxs("span",{className:"flex items-center text-[#1C1444]",children:[a.jsx(Ol,{className:"w-4 h-4 mr-1 text-[#F37021]"}),_e.schoolId.name||"Unknown School"]}):a.jsxs("span",{className:"flex items-center text-[#1C1444]",children:[a.jsx(Ol,{className:"w-4 h-4 mr-1 text-[#F37021]"}),v.find(ke=>ke._id===_e.schoolId)?.name||"Unknown School"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsx("div",{className:"flex space-x-2",children:a.jsx("button",{onClick:()=>st(_e),className:"text-[#F37021] hover:text-[#d65f1c] p-1 rounded hover:bg-[#F37021]/10",title:"View Details",children:a.jsx(Hi,{className:"w-4 h-4"})})})})]},_e._id))})]})}),te.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(rf,{className:"w-12 h-12 mx-auto text-[#F37021] mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:"No buses match your filters"}),a.jsx("button",{onClick:re,className:"text-[#F37021] hover:text-[#d65f1c] underline",children:"Clear filters to see all buses"})]}),!m&&ie>0&&a.jsxs("div",{className:"mt-6 flex justify-between items-center p-6 border-t border-gray-200",children:[a.jsxs("div",{className:"text-sm text-[#1C1444]",children:["Showing ",(fe-1)*B+1," to"," ",Math.min(fe*B,ie)," of"," ",ie," records"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>ct(fe-1),disabled:fe===1,className:"px-4 py-2 bg-[#F37021] text-white rounded-lg disabled:opacity-50 hover:bg-[#d65f1c] transition-colors",children:"Previous"}),a.jsx("button",{onClick:()=>ct(fe+1),disabled:fe===R,className:"px-4 py-2 bg-[#F37021] text-white rounded-lg disabled:opacity-50 hover:bg-[#d65f1c] transition-colors",children:"Next"})]})]})]}),r&&o&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsxs("h2",{className:"text-xl font-bold text-[#1C1444] flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-[#F37021]/10 rounded-lg flex items-center justify-center mr-3",children:a.jsx(Hi,{className:"text-[#F37021]"})}),"Bus Details"]}),a.jsx("button",{onClick:et,className:"text-[#1C1444] hover:text-[#F37021]",children:a.jsx(Lr,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[a.jsx("div",{className:"w-20 h-20 bg-[#F37021]/10 rounded-full flex items-center justify-center",children:a.jsx(rf,{className:"w-10 h-10 text-[#F37021]"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-[#1C1444]",children:o.busNumber}),a.jsx("p",{className:"text-[#1C1444]",children:o.routeName||o.route}),a.jsx("p",{className:"text-[#1C1444]",children:o.schoolId&&typeof o.schoolId=="object"?o.schoolId.name||"Unknown School":v.find(_e=>_e._id===o.schoolId)?.name||"Unknown School"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(hk,{className:"w-5 h-5 text-[#F37021]"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-[#1C1444]",children:"Route"}),a.jsx("p",{className:"font-medium text-[#1C1444]",children:o.routeName||o.route})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(no,{className:"w-5 h-5 text-[#F37021]"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-[#1C1444]",children:"Driver"}),a.jsx("p",{className:"font-medium text-[#1C1444]",children:o.driverName})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(GA,{className:"w-5 h-5 text-[#F37021]"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-[#1C1444]",children:"Driver Phone"}),a.jsx("p",{className:"font-medium text-[#1C1444]",children:o.driverPhone})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(es,{className:"w-5 h-5 text-[#F37021]"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-[#1C1444]",children:"Start Time"}),a.jsx("p",{className:"font-medium text-[#1C1444]",children:o.startTime||o.pickupTime})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(es,{className:"w-5 h-5 text-[#F37021]"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-[#1C1444]",children:"End Time"}),a.jsx("p",{className:"font-medium text-[#1C1444]",children:o.endTime||o.dropoffTime})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ra,{className:"w-5 h-5 text-[#F37021]"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-[#1C1444]",children:"Capacity"}),a.jsxs("p",{className:"font-medium text-[#1C1444]",children:[o.currentOccupancy??0,"/",o.totalCapacity??o.capacity??0]})]})]})]})]}),Array.isArray(o.routeStops)&&o.routeStops.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-[#1C1444] mt-6 mb-2",children:"Route Stops"}),a.jsx("ul",{className:"space-y-2",children:o.routeStops.map((_e,ke)=>a.jsxs("li",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center font-bold text-[#F37021]",children:_e.stopOrder}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-[#1C1444]",children:_e.stopName}),a.jsxs("div",{className:"text-xs text-[#1C1444]",children:[_e.stopTime," ",_e.landmark&&` ${_e.landmark}`]})]})]},_e._id||ke))})]}),Array.isArray(o.assignedStudents)&&o.assignedStudents.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-[#1C1444] mt-6 mb-2",children:"Assigned Students"}),a.jsx("ul",{className:"space-y-2",children:o.assignedStudents.map((_e,ke)=>a.jsxs("li",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center font-bold text-[#F37021]",children:ke+1}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-[#1C1444]",children:_e.studentId?.name||"Unknown Student"}),a.jsxs("div",{className:"text-xs text-[#1C1444]",children:["Roll: ",_e.studentId?.rollNumber||"N/A"," | Class:"," ",(()=>{const Ze=T.find(Pe=>Pe._id===_e.studentId?.classId);return Ze?`${Ze.className}${Ze.section?`-${Ze.section}`:""}`:"Unknown Class"})(),"| Payment: ",_e.paymentStatus||"N/A"]})]})]},_e._id||ke))})]})]})]})})]})]})},OBe=()=>{const[e,t]=C.useState([]),[r,n]=C.useState(!0),[s,i]=C.useState(null),[o,l]=C.useState(""),[c,d]=C.useState(""),[u,h]=C.useState(!1),[m,A]=C.useState({start:"",end:""});C.useEffect(()=>{(async()=>{try{const M=(await sr.get("https://vidyaastra.com/api/diary/all-unfiltered")).data.data.map(k=>({id:k._id,title:k.title,date:k.date,content:k.content,category:k.category}));t(M)}catch(P){console.error("Failed to fetch diary entries:",P),i("Failed to load diary entries.")}finally{n(!1)}})()},[]);const y=[...new Set(e.map(T=>T.category))].filter(Boolean),x=e.filter(T=>{const P=T.title.toLowerCase().includes(o.toLowerCase())||T.content.toLowerCase().includes(o.toLowerCase())||T.category.toLowerCase().includes(o.toLowerCase()),U=!c||T.category===c;let M=!0;if(m.start&&m.end){const k=new Date(T.date).toISOString().split("T")[0];M=k>=m.start&&k<=m.end}return P&&U&&M}),v=()=>{l(""),d(""),A({start:"",end:""})},b=()=>{if(x.length===0){alert("No data to export");return}const T=x.map(z=>({Title:z.title,Date:E(z.date),Category:z.category,Content:z.content})),P=Object.keys(T[0]),U=[P.join(","),...T.map(z=>P.map(O=>`"${z[O]}"`).join(","))].join(`
`),M=new Blob([U],{type:"text/csv;charset=utf-8;"}),k=document.createElement("a"),Q=URL.createObjectURL(M);k.setAttribute("href",Q),k.setAttribute("download",`diary_entries_${new Date().toISOString().split("T")[0]}.csv`),k.style.visibility="hidden",document.body.appendChild(k),k.click(),document.body.removeChild(k)},j=T=>{switch(T){case"Academic":return"bg-blue-100 text-blue-700";case"Personal":return"bg-orange-100 text-orange-700";case"Sports":return"bg-green-100 text-green-700";case"Projects":return"bg-purple-100 text-purple-700";default:return"bg-gray-100 text-gray-700"}},E=T=>new Date(T).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"});return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-6 rounded-b-3xl shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(qA,{className:"w-6 h-6"}),a.jsx("h1",{className:"text-2xl font-bold",children:"My Diary"})]}),a.jsxs("button",{onClick:b,className:"bg-white bg-opacity-20 text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2 hover:bg-opacity-30 transition-all",title:"Export to CSV",disabled:r,children:[a.jsx(xs,{})," ",a.jsx("span",{children:"Export CSV"})]})]}),a.jsx("p",{className:"text-purple-100 mt-2",children:"Personal notes and thoughts"})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:[a.jsxs("div",{className:"relative mb-4",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search diary entries by title, content, or category...",value:o,onChange:T=>l(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",x.length," of ",e.length," entries"]}),a.jsxs("button",{onClick:()=>h(!u),className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[a.jsx(Fu,{}),a.jsx("span",{children:"Advanced Filters"})]})]})}),u&&a.jsx("div",{className:"border-t pt-4 mt-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),a.jsxs("select",{value:c,onChange:T=>d(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[a.jsx("option",{value:"",children:"All Categories"}),y.map(T=>a.jsx("option",{value:T,children:T},T))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date From"}),a.jsx("input",{type:"date",value:m.start,onChange:T=>A({...m,start:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date To"}),a.jsx("input",{type:"date",value:m.end,onChange:T=>A({...m,end:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-gray-700",children:"Clear Filters"})})]})})]}),a.jsx("div",{className:"overflow-x-auto",children:r?a.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading..."}):s?a.jsx("div",{className:"text-center py-12 text-red-500",children:s}):x.length===0&&e.length>0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[a.jsx(qA,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"No diary entries match your filters"}),a.jsx("button",{onClick:v,className:"text-purple-600 hover:text-purple-800 underline",children:"Clear filters to see all entries"})]}):e.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[a.jsx(qA,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),a.jsx("p",{className:"text-gray-500 text-lg",children:"No diary entries yet"}),a.jsx("p",{className:"text-gray-400",children:"Start writing your thoughts!"})]}):a.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Title"}),a.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Date"}),a.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Content"}),a.jsx("th",{className:"py-3 px-4 text-left text-sm font-medium text-gray-500",children:"Category"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:x.map(T=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"py-4 px-4 font-medium text-gray-900",children:T.title}),a.jsx("td",{className:"py-4 px-4 text-gray-600",children:E(T.date)}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("div",{className:"line-clamp-2 max-w-prose text-gray-600",children:T.content})}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${j(T.category)}`,children:T.category})})]},T.id))})]})})})]})]})},DBe=()=>{const[e,t]=C.useState([]),[r,n]=C.useState(!0),[s,i]=C.useState(null),[o,l]=C.useState({key:"date",direction:"asc"}),[c,d]=C.useState("All"),[u,h]=C.useState(!1),[m,A]=C.useState(""),[y,x]=C.useState(!1),[v,b]=C.useState({start:"",end:""}),[j,E]=C.useState("All"),[T,P]=C.useState("All"),[U,M]=C.useState("All"),[k,Q]=C.useState(1),[z]=C.useState(10),[O,L]=C.useState(1),[V,J]=C.useState(0),ce=["All","Sports","Academics","Cultural","Meeting","Other"],ee=["All","Morning","Afternoon","Evening"],de=le=>({Sports:"",Academics:"",Cultural:"",Meeting:"",Other:""})[le]||"",se=le=>{switch(le){case"Sports":return"bg-[#F37021]/10 text-[#F37021]";case"Academics":return"bg-green-100 text-green-700";case"Cultural":return"bg-purple-100 text-purple-700";case"Meeting":return"bg-yellow-100 text-yellow-700";case"Other":return"bg-gray-100 text-[#1C1444]";default:return"bg-gray-100 text-[#1C1444]"}},he=["All",...Array.from(new Map(e.filter(le=>le.schoolId&&le.schoolId._id&&le.schoolId.name).map(le=>[le.schoolId._id,le.schoolId.name])).values())],fe=["All",...new Set(e.map(le=>le.location).filter(Boolean))],B=(()=>{let le=[...e];if(m){const te=m.toLowerCase();le=le.filter(Ne=>Ne.title.toLowerCase().includes(te)||Ne.description.toLowerCase().includes(te)||Ne.location.toLowerCase().includes(te))}return c!=="All"&&(le=le.filter(te=>te.category===c)),j!=="All"&&(le=le.filter(te=>te.location===j)),U!=="All"&&(le=le.filter(te=>te.schoolId&&(typeof te.schoolId=="object"&&te.schoolId.name===U||te.schoolId===U))),v.start&&(le=le.filter(te=>new Date(te.date)>=new Date(v.start))),v.end&&(le=le.filter(te=>new Date(te.date)<=new Date(v.end))),T!=="All"&&(le=le.filter(te=>{const Ne=Number.parseInt((te.startTime||te.time&&te.time.split(" - ")[0]||"09:00").split(":")[0]);return T==="Morning"?Ne>=6&&Ne<12:T==="Afternoon"?Ne>=12&&Ne<17:T==="Evening"?Ne>=17||Ne<6:!0})),le})(),R=[...B].sort((le,te)=>le[o.key]<te[o.key]?o.direction==="asc"?-1:1:le[o.key]>te[o.key]?o.direction==="asc"?1:-1:0),Y=le=>{let te="asc";o.key===le&&o.direction==="asc"&&(te="desc"),l({key:le,direction:te})},ie=()=>{const le=["Event Title","Date","Start Time","End Time","Location","Category","School","Description"],te=R.map(Ce=>[`"${Ce.title}"`,`"${new Date(Ce.date).toLocaleDateString()}"`,`"${Ce.startTime}"`,`"${Ce.endTime}"`,`"${Ce.location}"`,`"${Ce.category}"`,`"${Ce.schoolId&&Ce.schoolId.name?Ce.schoolId.name:""}"`,`"${(Ce.description||"").replace(/"/g,'""')}"`]),Ne=[le.join(","),...te.map(Ce=>Ce.join(","))].join(`
`),Fe=new Blob([Ne],{type:"text/csv;charset=utf-8;"}),be=document.createElement("a"),re=URL.createObjectURL(Fe);be.setAttribute("href",re),be.setAttribute("download",`events_${new Date().toISOString().split("T")[0]}.csv`),be.style.visibility="hidden",document.body.appendChild(be),be.click(),document.body.removeChild(be)},ge=()=>{A(""),d("All"),E("All"),P("All"),b({start:"",end:""}),M("All"),Q(1)};C.useEffect(()=>{(async()=>{try{n(!0);const te=await sr.get("https://vidyaastra.com/api/events/global",{params:{page:k,limit:z}});if(te.data.success){const Fe=te.data.data.map(be=>{let re="09:00",Ce="17:00";if(be.time&&typeof be.time=="string"){const st=be.time.split(" - ");re=st[0]||"09:00",Ce=st[1]||"17:00"}else be.startTime&&be.endTime&&(re=be.startTime,Ce=be.endTime);return{id:be._id||"unknown-id",title:be.title||"Untitled Event",date:be.date||new Date().toISOString().split("T")[0],startTime:re,endTime:Ce,location:be.location||"Unknown Location",category:be.category||"Other",description:be.description||"",icon:de(be.category||"Other"),schoolId:be.schoolId||null}});t(Fe),L(te.data.totalPages),J(te.data.total),i(null)}else throw new Error(te.data.message||"No events found")}catch{i("Failed to load events. Please check the API and try again.")}finally{n(!1)}})()},[k,z]);const ye=()=>{k>1&&Q(k-1)},pe=()=>{k<O&&Q(k+1)},Z=le=>{le>=1&&le<=O&&Q(le)};return r?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#F37021]"})}):s?a.jsx("div",{className:"container mx-auto px-4 py-6",children:a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsxs("span",{className:"block sm:inline",children:[" ",s]})]})}):a.jsxs("div",{className:"container mx-auto px-4 py-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-[#1C1444]",children:"All Events"}),a.jsx("div",{className:"flex space-x-4",children:a.jsxs("button",{onClick:ie,className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[a.jsx(xs,{className:"w-4 h-4 text-white"}),a.jsx("span",{children:"Export CSV"})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 mb-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search events by title, description, or location...",value:m,onChange:le=>A(le.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"})]}),a.jsx("select",{value:c,onChange:le=>d(le.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:ce.map(le=>a.jsx("option",{value:le,children:le},le))}),a.jsx("select",{value:U,onChange:le=>M(le.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:he.map((le,te)=>le==="All"?a.jsx("option",{value:"All",children:"All Schools"},"all-schools"):a.jsx("option",{value:le,children:le},le))}),a.jsxs("button",{onClick:()=>x(!y),className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[a.jsx(Fu,{className:"w-4 h-4 text-white"}),a.jsx("span",{children:"Filters"})]})]}),y&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:[a.jsx(Kx,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"Location"]}),a.jsx("select",{value:j,onChange:le=>E(le.target.value),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:fe.map(le=>a.jsx("option",{value:le,children:le},le))})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:[a.jsx(es,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"Time"]}),a.jsx("select",{value:T,onChange:le=>P(le.target.value),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:ee.map(le=>a.jsx("option",{value:le,children:le},le))})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:[a.jsx(Jn,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"Start Date"]}),a.jsx("input",{type:"date",value:v.start,onChange:le=>b(te=>({...te,start:le.target.value})),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:[a.jsx(Jn,{className:"inline w-4 h-4 mr-1 text-[#F37021]"}),"End Date"]}),a.jsx("input",{type:"date",value:v.end,onChange:le=>b(te=>({...te,end:le.target.value})),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"})]})]}),a.jsx("div",{className:"mt-4 flex justify-end",children:a.jsxs("button",{onClick:ge,className:"text-[#1C1444] hover:text-[#F37021] px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[a.jsx(Lr,{className:"w-4 h-4 text-[#F37021]"}),a.jsx("span",{children:"Clear Filters"})]})})]}),a.jsxs("div",{className:"mt-4 text-sm text-[#1C1444]",children:["Showing ",R.length," of ",V," events",(m||c!=="All"||j!=="All"||U!=="All"||T!=="All"||v.start||v.end)&&a.jsx("span",{className:"ml-2 text-[#F37021]",children:"(filtered)"})]})]}),a.jsx("div",{className:"relative overflow-x-auto",children:a.jsxs("table",{className:"w-full min-w-[640px] bg-white rounded-lg shadow-sm border",children:[a.jsx("thead",{className:"bg-gray-100",children:a.jsxs("tr",{children:[a.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider cursor-pointer",onClick:()=>Y("title"),children:["Event"," ",o.key==="title"&&(o.direction==="asc"?"":"")]}),a.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider cursor-pointer",onClick:()=>Y("date"),children:["Date"," ",o.key==="date"&&(o.direction==="asc"?"":"")]}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Location"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Category"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"School"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:R.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-[#1C1444]",children:B.length===0&&e.length>0?a.jsxs("div",{children:[a.jsx("p",{children:"No events found matching your search criteria."}),a.jsx("button",{onClick:ge,className:"mt-2 text-[#F37021] hover:text-[#d65f1c] underline",children:"Clear filters to see all events"})]}):"No events found"})}):R.map(le=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 min-w-[200px]",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`text-xl mr-3 ${se(le.category)} rounded-full p-2`,children:le.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-[#1C1444]",children:le.title}),a.jsx("div",{className:"text-[#1C1444] text-sm mt-1 line-clamp-2",children:le.description})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:new Date(le.date).toLocaleDateString()}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:[le.startTime," - ",le.endTime]}),a.jsx("td",{className:"px-6 py-4 text-sm text-[#1C1444] min-w-[120px]",children:le.location}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${se(le.category)}`,children:le.category})}),a.jsx("td",{className:"px-6 py-4 text-sm text-[#1C1444] min-w-[120px]",children:le.schoolId&&le.schoolId.name?a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ol,{className:"w-4 h-4 mr-1 text-[#F37021]"}),le.schoolId.name]}):"N/A"})]},le.id))})]})}),V>0&&a.jsxs("div",{className:"mt-6 flex items-center justify-between bg-white rounded-lg shadow-sm border p-4",children:[a.jsxs("div",{className:"text-sm text-[#1C1444]",children:["Page ",k," of ",O]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:ye,disabled:k===1,className:`px-3 py-2 rounded-lg ${k===1?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:a.jsx(fc,{})}),Array.from({length:O},(le,te)=>te+1).filter(le=>le===1||le===O||le>=k-2&&le<=k+2).map(le=>a.jsx("button",{onClick:()=>Z(le),className:`px-3 py-1 rounded-lg ${k===le?"bg-[#F37021] text-white":"bg-gray-100 text-[#1C1444] hover:bg-gray-200"}`,children:le},le)),a.jsx("button",{onClick:pe,disabled:k===O,className:`px-3 py-2 rounded-lg ${k===O?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:a.jsx(Al,{})})]})]})]})},MBe=()=>{const[e,t]=C.useState({upcoming:[],past:[]}),[r,n]=C.useState(""),[s,i]=C.useState("all"),[o,l]=C.useState("all"),[c,d]=C.useState(""),[u,h]=C.useState(""),[m,A]=C.useState([]),[y,x]=C.useState(!1),[v,b]=C.useState(!0),[j,E]=C.useState(null),[T,P]=C.useState({}),[U,M]=C.useState({}),[k,Q]=C.useState(1),[z]=C.useState(10),[O,L]=C.useState(0),[V,J]=C.useState(1),ce="https://vidyaastra.com/api/birthdays/all",ee="https://vidyaastra.com/api/schools/",de="https://vidyaastra.com/api/teachers/",se="https://vidyaastra.com/api/class";C.useEffect(()=>{(async()=>{try{b(!0);const He=await sr.get(`${ce}?page=${k}&limit=${z}`);if(!He.data.success)throw new Error(He.data.message||"Failed to fetch birthdays");if(!Array.isArray(He.data.data))throw new Error("Invalid data format received from server");L(He.data.total||0),J(He.data.totalPages||1);const ct=[...new Set(He.data.data.filter(lt=>lt.role?.toLowerCase()==="teacher").map(lt=>lt._id).filter(Boolean))],_e={};await Promise.all(ct.map(async lt=>{try{const Je=await sr.get(`${de}${lt}`);Je.data.success&&Je.data.data?.name?_e[lt]=Je.data.data.name:_e[lt]="Unknown"}catch{_e[lt]="Unknown"}})),M(_e);const ke=[...new Set(He.data.data.map(lt=>typeof lt.schoolId=="object"?lt.schoolId?._id:lt.schoolId).filter(Boolean))],Ze={};await Promise.all(ke.map(async lt=>{try{const Je=await sr.get(`${ee}${lt}`);Je.data.success&&Je.data.data?.name?Ze[lt]=Je.data.data.name:Ze[lt]="Unknown School"}catch{Ze[lt]="Unknown School"}})),P(Ze);let Pe=[];if(o==="all")await Promise.all(ke.map(async lt=>{try{const Je=await sr.get(`${se}?schoolId=${lt}`);if(Je.data.success&&Array.isArray(Je.data.data)){const Me=Je.data.data.map(Te=>({_id:Te._id,className:Te.className||"Unknown",section:Te.section||"",schoolId:Te.schoolId||lt}));Pe=[...Pe,...Me]}}catch(Je){console.error(`Failed to fetch classes for school ${lt}:`,Je.message)}}));else{const lt=await sr.get(`${se}?schoolId=${o}`);lt.data.success&&Array.isArray(lt.data.data)&&(Pe=lt.data.data.map(Je=>({_id:Je._id,className:Je.className||"Unknown",section:Je.section||"",schoolId:Je.schoolId||o})))}A(Pe);let ot={upcoming:[],past:[]};const Ge=new Date;ot.upcoming=He.data.data.filter(lt=>{const Je=new Date(lt.date);return Je.setFullYear(Ge.getFullYear()),Je<Ge&&Je.setFullYear(Ge.getFullYear()+1),Je>=Ge}),ot.past=He.data.data.filter(lt=>{const Je=new Date(lt.date);return Je.setFullYear(Ge.getFullYear()),Je<Ge}),ot.upcoming=ot.upcoming.map(lt=>({...lt,_id:lt._id||"unknown-id",name:lt.role?.toLowerCase()==="teacher"?_e[lt._id]||lt.name||"Unknown":lt.name||"Unknown",role:lt.role||"Unknown",date:lt.date||new Date().toISOString().split("T")[0],type:lt.type||"upcoming",classId:lt.classId||null})),ot.past=ot.past.map(lt=>({...lt,_id:lt._id||"unknown-id",name:lt.role?.toLowerCase()==="teacher"?_e[lt._id]||lt.name||"Unknown":lt.name||"Unknown",role:lt.role||"Unknown",date:lt.date||new Date().toISOString().split("T")[0],type:lt.type||"past",classId:lt.classId||null})),t(ot),E(null)}catch(He){E("Failed to load data: "+He.message)}finally{b(!1)}})()},[k,z,o]),C.useEffect(()=>{h("")},[c]);const he=[...Array.isArray(e.upcoming)?e.upcoming:[],...Array.isArray(e.past)?e.past:[]],ve=[...new Set(he.map(et=>typeof et.schoolId=="object"?et.schoolId?._id:et.schoolId).filter(Boolean))].map(et=>({_id:et,name:T[et]||"Unknown School"})),B=C.useMemo(()=>[...new Set(m.filter(et=>!o||et.schoolId===o).map(et=>et.className).filter(Boolean))].sort(),[m,o]),R=C.useMemo(()=>c?[...new Set(m.filter(et=>et.className===c&&(!o||et.schoolId===o)).map(et=>et.section).filter(Boolean))].sort():[],[m,c,o]),Y=et=>{if(!/\d{4}/.test(et))return null;const He=new Date,ct=new Date(et);let _e=He.getFullYear()-ct.getFullYear();const ke=He.getMonth()-ct.getMonth();return(ke<0||ke===0&&He.getDate()<ct.getDate())&&_e--,_e},ie=et=>{const He=new Date,ct=new Date(et),_e=He.getFullYear(),ke=new Date(_e,ct.getMonth(),ct.getDate());return ke<He&&ke.setFullYear(_e+1),Math.ceil((ke-He)/(1e3*60*60*24))},ge=et=>new Date(et).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),ye=et=>{const ct={student:{color:"bg-[#F37021]/10 text-[#F37021]",icon:Ra,text:"Student"},teacher:{color:"bg-green-100 text-green-800",icon:Ra,text:"Teacher"},staff:{color:"bg-yellow-100 text-yellow-800",icon:Ra,text:"Staff"}}[et?.toLowerCase()]||{color:"bg-gray-100 text-[#1C1444]",icon:Ra,text:et||"Unknown"},_e=ct.icon;return a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ct.color}`,children:[a.jsx(_e,{className:"w-3 h-3 mr-1"}),ct.text]})},pe=et=>et===0?a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[a.jsx(Pm,{className:"w-3 h-3 mr-1"}),"Today!"]}):et<=7?a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[a.jsx(es,{className:"w-3 h-3 mr-1"}),et," days"]}):et<=30?a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[a.jsx(Jn,{className:"w-3 h-3 mr-1"}),et," days"]}):a.jsxs("span",{className:"text-sm text-[#1C1444]",children:[et," days"]}),Z=C.useMemo(()=>he.filter(et=>{const He=et.name?.toLowerCase().includes(r.toLowerCase())||!1,ct=new Date(et.date).getMonth()+1,_e=s==="all"||ct.toString()===s,ke=o==="all"||(typeof et.schoolId=="object"?et.schoolId?._id===o:et.schoolId===o),Ze=!c||et.classId&&m.find(Pe=>Pe._id===et.classId)?.className===c&&(!u||m.find(Pe=>Pe._id===et.classId)?.section===u);return He&&_e&&ke&&Ze}),[he,r,s,o,c,u,m]),le=[{value:"1",label:"January"},{value:"2",label:"February"},{value:"3",label:"March"},{value:"4",label:"April"},{value:"5",label:"May"},{value:"6",label:"June"},{value:"7",label:"July"},{value:"8",label:"August"},{value:"9",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],te=C.useMemo(()=>{const et=he.length,He=he.filter(ke=>ie(ke.date)===0).length,ct=he.filter(ke=>ie(ke.date)<=7).length,_e=he.filter(ke=>ie(ke.date)<=30).length;return{total:et,todayBirthdays:He,thisWeekBirthdays:ct,thisMonthBirthdays:_e}},[he]),Ne=()=>{const et=Z.map(Ze=>{const Pe=typeof Ze.schoolId=="object"?Ze.schoolId?._id:Ze.schoolId,ot=Ze.classId?m.find(Ge=>Ge._id===Ze.classId):null;return{Name:Ze.name,Role:Ze.role||"Unknown","Birth Date":ge(Ze.date),Age:Y(Ze.date)!==null?`${Y(Ze.date)} years`:"N/A","Days Until Birthday":ie(Ze.date),Type:Ze.type,"Birth Month":new Date(Ze.date).toLocaleDateString("en-US",{month:"long"}),"Birth Day":new Date(Ze.date).getDate(),Class:ot?`${ot.className}${ot.section?`-${ot.section}`:""}`:"N/A",Section:ot&&ot.section||"N/A","School Name":Pe?T[Pe]||"Unknown School":"N/A"}}),He=[Object.keys(et[0]).map(Ze=>`"${Ze}"`).join(","),...et.map(Ze=>Object.values(Ze).map(Pe=>`"${Pe}"`).join(","))].join(`
`),ct=new Blob([He],{type:"text/csv;charset=utf-8;"}),_e=document.createElement("a"),ke=URL.createObjectURL(ct);_e.setAttribute("href",ke),_e.setAttribute("download",`birthdays_${new Date().toISOString().split("T")[0]}.csv`),_e.style.visibility="hidden",document.body.appendChild(_e),_e.click(),document.body.removeChild(_e)},Fe=()=>{n(""),i("all"),l("all"),d(""),h(""),Q(1)},be=r||s!=="all"||o!=="all"||c||u,re=()=>{k>1&&Q(k-1)},Ce=()=>{k<V&&Q(k+1)},st=et=>{Q(et)};return v?a.jsx("div",{className:"flex justify-center items-center h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#F37021]"})}):j?a.jsx("div",{className:"container mx-auto px-4 py-6",children:a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsxs("span",{className:"block sm:inline",children:[" ",j]})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("div",{className:"bg-gradient-to-r from-[#1C1444] to-[#1C1444] text-white p-6 rounded-b-3xl shadow-lg",children:[a.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Pm,{className:"w-6 h-6 text-[#F37021]"}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Birthday Management"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("button",{onClick:Ne,className:"flex items-center space-x-2 bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-xl transition-all",children:[a.jsx(xs,{className:"w-4 h-4 text-white"}),a.jsx("span",{children:"Export CSV"})]})})]}),a.jsx("p",{className:"container mx-auto text-[#F37021] mt-2",children:"Track and manage birthdays for students, teachers, and staff"})]}),a.jsx("div",{className:"container mx-auto p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Total Records",value:te.total,color:"blue",icon:Ra},{label:"Today's Birthdays",value:te.todayBirthdays,color:"red",icon:Pm},{label:"This Week",value:te.thisWeekBirthdays,color:"orange",icon:es},{label:"This Month",value:te.thisMonthBirthdays,color:"yellow",icon:Jn}].map((et,He)=>a.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[#1C1444]",children:et.label}),a.jsx("p",{className:"text-2xl font-bold text-[#1C1444]",children:et.value})]}),a.jsx("div",{className:"p-3 bg-[#F37021]/10 rounded-xl",children:a.jsx(et.icon,{className:"w-6 h-6 text-[#F37021]"})})]})},He))}),a.jsx("div",{className:"container mx-auto px-6 mb-6",children:a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search name...",value:r,onChange:et=>n(et.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#F37021] text-[#1C1444]"})]}),a.jsxs("select",{value:o,onChange:et=>{l(et.target.value),d(""),h(""),Q(1)},className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[a.jsx("option",{value:"all",children:"All Schools"}),ve.map(et=>a.jsx("option",{value:et._id,children:et.name},et._id))]}),a.jsxs("select",{value:c,onChange:et=>d(et.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",disabled:v||B.length===0,children:[a.jsx("option",{value:"",children:"All Classes"}),B.length===0?a.jsx("option",{value:"",disabled:!0,children:"No classes available"}):B.map(et=>a.jsx("option",{value:et,children:et},et))]}),a.jsxs("select",{value:u,onChange:et=>h(et.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",disabled:v||c===""||R.length===0,children:[a.jsx("option",{value:"",children:"All Sections"}),R.length===0?a.jsx("option",{value:"",disabled:!0,children:"No sections available"}):R.map(et=>a.jsx("option",{value:et,children:et},et))]}),a.jsxs("select",{value:s,onChange:et=>i(et.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[a.jsx("option",{value:"all",children:"All Months"}),le.map(et=>a.jsx("option",{value:et.value,children:et.label},et.value))]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("button",{onClick:()=>x(!y),className:"flex items-center space-x-2 text-[#F37021] hover:text-[#d65f1c] font-medium",children:[a.jsx(Fu,{className:"w-4 h-4 text-[#F37021]"}),a.jsx("span",{children:"Advanced Filters"}),y?a.jsx(Lr,{className:"w-4 h-4 text-[#F37021]"}):a.jsx(Hi,{className:"w-4 h-4 text-[#F37021]"})]}),be&&a.jsxs("button",{onClick:Fe,className:"flex items-center space-x-2 text-[#1C1444] hover:text-[#F37021] font-medium",children:[a.jsx(Lr,{className:"w-4 h-4 text-[#F37021]"}),a.jsx("span",{children:"Clear Filters"})]})]})]})}),a.jsx("div",{className:"container mx-auto px-6 mb-4",children:a.jsxs("div",{className:"flex items-center justify-between text-sm text-[#1C1444]",children:[a.jsxs("span",{children:["Showing ",Z.length," of ",O," birthdays",be&&a.jsx("span",{className:"text-[#F37021]",children:" (filtered)"})]}),a.jsxs("span",{children:["Page ",k," of ",V]})]})}),a.jsxs("div",{className:"container mx-auto px-6 pb-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full min-w-[900px]",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Person"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Birth Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Age"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Next Birthday"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Class"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Section"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"School"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Type"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Z.map(et=>{const He=typeof et.schoolId=="object"?et.schoolId?._id:et.schoolId,ct=et.classId?m.find(_e=>_e._id===et.classId):null;return a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-[#1C1444]",children:et.name})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ye(et.role)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-[#1C1444]",children:ge(et.date)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-[#1C1444]",children:Y(et.date)!==null?`${Y(et.date)} years`:"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:pe(ie(et.date))}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-[#1C1444]",children:ct?`${ct.className}${ct.section?`-${ct.section}`:""}`:"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-[#1C1444]",children:ct&&ct.section||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:He?a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ol,{className:"w-4 h-4 mr-1 text-[#F37021]"}),T[He]||"Unknown School"]}):"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${et.type==="upcoming"?"bg-green-100 text-green-800":"bg-gray-100 text-[#1C1444]"}`,children:et.type})})]},et._id)})})]})}),Z.length===0&&!v&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Pm,{className:"w-12 h-12 text-[#F37021] mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:"No birthdays found"}),a.jsx("p",{className:"text-[#1C1444]",children:be?"Try adjusting your search or filter criteria":"No birthday data available"}),be&&a.jsx("button",{onClick:Fe,className:"mt-2 text-[#F37021] hover:text-[#d65f1c] font-medium",children:"Clear all filters"})]})]}),V>1&&a.jsxs("div",{className:"mt-6 flex justify-center items-center space-x-2",children:[a.jsxs("button",{onClick:re,disabled:k===1,className:`px-4 py-2 rounded-xl flex items-center space-x-2 ${k===1?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:[a.jsx(fc,{className:"w-4 h-4"}),a.jsx("span",{children:"Previous"})]}),a.jsx("div",{className:"flex space-x-1",children:Array.from({length:V},(et,He)=>He+1).map(et=>a.jsx("button",{onClick:()=>st(et),className:`px-4 py-2 rounded-xl ${et===k?"bg-[#F37021] text-white":"bg-white text-[#1C1444] hover:bg-gray-100"}`,children:et},et))}),a.jsxs("button",{onClick:Ce,disabled:k===V,className:`px-4 py-2 rounded-xl flex items-center space-x-2 ${k===V?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:[a.jsx("span",{children:"Next"}),a.jsx(Al,{className:"w-4 h-4"})]})]})]})]})},UBe=()=>{const[e,t]=C.useState([]),[r,n]=C.useState([]),[s,i]=C.useState(""),[o,l]=C.useState(!0),[c,d]=C.useState(!0),[u,h]=C.useState(null);C.useEffect(()=>{m()},[]);const m=async()=>{try{l(!0);const v=await sr.get("https://vidyaastra.com/api/schools");v.data.success&&Array.isArray(v.data.data)?n(v.data.data):n([])}catch(v){console.error("Error fetching schools:",v.message),h("Failed to load schools")}finally{l(!1)}},A=C.useCallback(gz(async v=>{try{d(!0);const b=v?`https://vidyaastra.com/api/albums/all?schoolId=${v}`:"https://vidyaastra.com/api/albums/all",j=await sr.get(b);if(j.data.success&&Array.isArray(j.data.albums)){const E=j.data.albums.map(T=>({...T,schoolName:r.find(P=>P._id===T.schoolId)?.name||"Unknown School",date:y(T.date)}));t(E),h(null)}else t([]),h("No albums found")}catch(b){console.error("Error fetching albums:",b.message),h("Failed to load albums"),t([])}finally{d(!1)}},300),[r]);C.useEffect(()=>{A(s)},[s,A]);const y=v=>{if(!v)return"No Date";if(/^\d{4}-\d{2}-\d{2}$/.test(v))return v;try{const b=new Date(v);return isNaN(b)?"Invalid Date":b.toISOString().slice(0,10)}catch{return"Invalid Date"}},x=e.filter(v=>!s||v.schoolId===s);return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#1C1444]/5 to-white",children:[a.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-[#1C1444]/10 transition-all duration-300 hover:shadow-2xl mx-6 mt-6",children:[a.jsx("div",{className:"flex justify-between items-center mb-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(t_,{className:"w-6 h-6 text-[#F37021]"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-extrabold text-[#1C1444] tracking-tight",children:"Student Gallery"}),a.jsxs("p",{className:"text-[#1C1444]/80 text-lg mt-1",children:["School moments and memories",s&&x.length>0&&a.jsxs("span",{className:"ml-2 text-[#F37021] font-semibold",children:["(",r.find(v=>v._id===s)?.name||"Unknown School",")"]})]})]})]})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"School"}),a.jsxs("div",{className:"relative w-full md:w-1/4",children:[a.jsxs("select",{value:s,onChange:v=>{v.preventDefault(),i(v.target.value)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:o||c||r.length===0,children:[a.jsx("option",{value:"",children:"All Schools"}),r.map(v=>a.jsx("option",{value:v._id,children:v.name||"Unknown School"},v._id))]}),a.jsx(Fu,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#1C1444]/60 w-5 h-5"})]})]})]}),(o||c)&&a.jsx("div",{className:"p-6 bg-[#F37021]/10 text-[#F37021] rounded-2xl shadow-md text-center transition-all duration-300 mx-6",children:o?"Loading schools...":"Loading albums..."}),u&&!o&&!c&&a.jsx("div",{className:"p-6 bg-red-100 text-red-700 rounded-2xl shadow-md text-center transition-all duration-300 mx-6",children:u}),!o&&!c&&!u&&a.jsx("div",{className:"container mx-auto p-6",children:x.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Vx,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),a.jsx("h3",{className:"text-lg font-semibold text-[#1C1444] mb-2",children:"No albums found"}),a.jsx("p",{className:"text-[#1C1444]/80",children:s?"No albums found for this school. Try selecting a different school.":"Check back later for gallery updates."})]}):a.jsx("div",{className:"space-y-8",children:x.map(v=>a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md border border-[#1C1444]/10 transition-all duration-300 hover:shadow-lg",children:[a.jsx("h2",{className:"text-xl font-bold text-[#1C1444] mb-2",children:v.title}),a.jsxs("p",{className:"text-sm text-[#1C1444]/80 mb-4",children:["School: ",v.schoolName," | Date: ",v.date]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:v.images.map((b,j)=>a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:`${b.path}`,alt:v.title,className:"w-full h-48 object-cover rounded-xl shadow-sm transition-transform duration-200 hover:scale-105"}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-[#1C1444] bg-opacity-50 text-white p-2 rounded-b-xl",children:a.jsx("p",{className:"text-sm",children:new Date(v.createdAt).toLocaleDateString()})})]},j))})]},v._id))})})]})},RBe="https://vidyaastra.com/api/schools/",QBe="https://vidyaastra.com/api/uniform/items/all-unfiltered",HBe=()=>{const[e,t]=C.useState({}),[r,n]=C.useState([]),[s,i]=C.useState({}),[o,l]=C.useState(!0),[c,d]=C.useState(null),[u,h]=C.useState("#2563eb"),[m,A]=C.useState(""),[y,x]=C.useState("all"),[v,b]=C.useState("all"),[j,E]=C.useState("all"),[T,P]=C.useState("all"),[U,M]=C.useState("all"),[k,Q]=C.useState("all"),[z,O]=C.useState("all");C.useEffect(()=>{const R=localStorage.getItem("color");h(R||"#2563eb"),(async()=>{l(!0);try{const ge=(await sr.get(QBe,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data.data,ye=Array.isArray(ge)?ge:[ge],pe=[...new Set(ye.map(te=>(te.schoolId||"").trim()).filter(Boolean))],Z={};await Promise.all(pe.map(async te=>{try{const Fe=(await sr.get(RBe+te,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;Fe.success&&Fe.data&&Fe.data.name?Z[te]=`${Fe.data.name} (${Fe.data.schoolCode})`:Z[te]="Unknown"}catch{Z[te]="Unknown"}})),i(Z);const le=ye.map(te=>({...te,sizes:te.sizes||[],inStock:te.stock||0,image:te.imageUrl||"/placeholder.svg",schoolId:(te.schoolId||"").trim()||null,className:te.classId?`${te.classId.className} ${te.classId.section||""}`.trim():"N/A"}));n(le)}catch{d("Failed to load uniform items or schools.")}finally{l(!1)}})()},[]);const L=R=>`${R?.toLocaleString()}`,V=R=>R>30?{text:"In Stock",color:"bg-green-100 text-green-800"}:R>10?{text:"Low Stock",color:"bg-yellow-100 text-yellow-800"}:{text:"Out of Stock",color:"bg-red-100 text-red-800"},J=R=>R?s[R]||"Unknown":"N/A",ee=[...new Set(r.map(R=>R.schoolId).filter(Boolean))].map(R=>({id:R,displayName:J(R)}));[...new Set(r.map(R=>R.category).filter(Boolean))],[...new Set(r.flatMap(R=>R.sizes||[]).filter(Boolean))];const de=[...new Set(r.filter(R=>R.classId&&R.classId.className).map(R=>R.classId.className))].sort(),se=k==="all"?[]:[...new Set(r.filter(R=>R.classId&&R.classId.className===k&&R.classId.section).map(R=>R.classId.section).filter(Boolean))].sort(),he=r.filter(R=>{const Y=R.name?.toLowerCase().includes(m.toLowerCase())||R.description?.toLowerCase().includes(m.toLowerCase())||R.category?.toLowerCase().includes(m.toLowerCase())||R.className?.toLowerCase().includes(m.toLowerCase())||J(R.schoolId).toLowerCase().includes(m.toLowerCase()),ie=y==="all"||R.category===y,ge=v==="all"||v==="under-500"&&R.price<500||v==="500-1000"&&R.price>=500&&R.price<=1e3||v==="1000-2000"&&R.price>1e3&&R.price<=2e3||v==="above-2000"&&R.price>2e3,ye=j==="all"||j==="in-stock"&&R.inStock>30||j==="low-stock"&&R.inStock>0&&R.inStock<=30||j==="out-of-stock"&&R.inStock===0,pe=T==="all"||R.sizes&&R.sizes.includes(T),Z=U==="all"||U==="N/A"&&!R.schoolId||R.schoolId===U,le=k==="all"||R.classId&&R.classId.className===k,te=z==="all"||R.classId&&R.classId.section===z;return Y&&ie&&ge&&ye&&pe&&Z&&le&&te}),fe=()=>{A(""),x("all"),b("all"),E("all"),P("all"),M("all"),Q("all"),O("all")},ve=m||y!=="all"||v!=="all"||j!=="all"||T!=="all"||U!=="all"||k!=="all"||z!=="all",B=()=>{const R=["School Name","Item Name","Description","Category","Price ()","Class","Section","Sizes Available","Stock Quantity","Stock Status"],Y=he.map(Z=>[J(Z.schoolId),Z.name||"",Z.description||"",Z.category||"",Z.price||0,Z.classId?Z.classId.className:"N/A",Z.classId&&Z.classId.section||"N/A",(Z.sizes||[]).join("; ")||"N/A",Z.inStock||0,V(Z.inStock).text]),ie=[R,...Y].map(Z=>Z.map(le=>`"${le}"`).join(",")).join(`
`),ge=new Blob([ie],{type:"text/csv;charset=utf-8;"}),ye=document.createElement("a"),pe=URL.createObjectURL(ge);ye.setAttribute("href",pe),ye.setAttribute("download",`uniforms_${new Date().toISOString().split("T")[0]}.csv`),ye.style.visibility="hidden",document.body.appendChild(ye),ye.click(),document.body.removeChild(ye)};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("div",{className:"bg-[#1C1444]  text-white p-6 rounded-b-3xl shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(af,{className:"w-6 h-6"}),a.jsx("h1",{className:"text-2xl font-bold",children:"School Uniform"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("button",{onClick:B,className:"flex items-center space-x-2 bg-[#F37021] hover:bg-[#D95F1C] px-4 py-2 rounded-xl transition-all text-white",children:[a.jsx(xs,{className:"w-4 h-4"}),a.jsx("span",{children:"Export CSV"})]})})]}),a.jsx("p",{className:"text-gray-200 mt-2",children:"School uniform inventory and orders"})]}),a.jsx("div",{className:"p-6 pb-0",children:a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Search & Filters"}),ve&&a.jsxs("button",{onClick:fe,className:"flex items-center space-x-1 text-sm text-gray-600 hover:text-gray-800 px-3 py-1 rounded-lg hover:bg-gray-100",children:[a.jsx(Lr,{className:"w-4 h-4"}),a.jsx("span",{children:"Clear Filters"})]})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-black w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search uniforms by school, name, description, class, or category...",value:m,onChange:R=>A(R.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#F37021] focus:border-transparent placeholder:text-black"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-7 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"School"}),a.jsxs("select",{value:U,onChange:R=>{R.preventDefault(),M(R.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Schools"}),ee.map(R=>a.jsx("option",{value:R.id,children:R.displayName},R.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Class"}),a.jsxs("select",{value:k,onChange:R=>{R.preventDefault(),Q(R.target.value),O("all")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Classes"}),de.map(R=>a.jsx("option",{value:R,children:R},R))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section"}),a.jsxs("select",{value:z,onChange:R=>{R.preventDefault(),O(R.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent",disabled:!k||k==="all",children:[a.jsx("option",{value:"all",children:"All Sections"}),se.map(R=>a.jsx("option",{value:R,children:R},R))]})]})]})]})}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex justify-between items-center mb-6",children:a.jsx("div",{children:a.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:["Uniform Items",a.jsxs("span",{className:"text-sm font-normal text-gray-600 ml-2",children:["(Showing ",he.length," of ",r.length," items",ve?" - filtered":"",")"]})]})})}),o?a.jsx("div",{className:"text-center text-gray-500 py-10",children:"Loading..."}):c?a.jsx("div",{className:"text-center text-red-500 py-10",children:c}):a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"School Name"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Item"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Price"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Class"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Section"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Sizes"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Stock"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:he.map(R=>{const Y=V(R.inStock);return a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:J(R.schoolId)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:`${R.image}`,alt:R.name,className:"w-12 h-12 rounded-lg object-cover border border-gray-200"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.name}),a.jsx("div",{className:"text-sm text-gray-500",children:R.description})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:R.category||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-bold text-gray-900",children:L(R.price)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:R.classId?R.classId.className:"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:R.classId&&R.classId.section||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex flex-wrap gap-1",children:[(R.sizes||[]).slice(0,3).map(ie=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:ie},ie)),(R.sizes||[]).length>3?a.jsxs("span",{className:"text-xs text-gray-500",children:["+",(R.sizes||[]).length-3]}):(R.sizes||[]).length===0?a.jsx("span",{className:"text-xs text-gray-500",children:"N/A"}):null]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Y.color}`,children:Y.text}),a.jsxs("div",{className:"text-xs text-gray-500",children:[R.inStock," units"]})]})})]},R._id)})})]})}),he.length===0&&!o&&!c&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(af,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No uniforms found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:ve?"Try adjusting your search or filter criteria":"No uniform items available"}),ve&&a.jsx("button",{onClick:fe,className:"text-[#F37021] hover:text-[#D95F1C] font-medium",children:"Clear all filters"})]})]})]})]})},$Be=e=>{switch(e){case"National Holiday":return DE;case"Festival":return Om;case"Religious Holiday":return ME;default:return Jn}},zBe=()=>{const[e,t]=C.useState([]),[r,n]=C.useState("All"),[s,i]=C.useState(""),[o,l]=C.useState({key:null,direction:"asc"}),[c,d]=C.useState("table"),[u,h]=C.useState(!0),[m,A]=C.useState(null),[y,x]=C.useState([]),[v,b]=C.useState("all"),[j,E]=C.useState(1),T=10,[P,U]=C.useState(1),[M,k]=C.useState(0);C.useEffect(()=>{(async()=>{try{h(!0);const B=await sr.get(`https://vidyaastra.com/api/holidays/all-unfiltered?page=${j}&limit=${T}`);if(B.data.success){t(B.data.data),U(B.data.totalPages||1),k(B.data.total||0);const Y=[...new Set(B.data.data.map(ye=>typeof ye.schoolId=="object"?ye.schoolId._id:ye.schoolId).filter(Boolean))].map(async ye=>{try{const pe=await sr.get(`https://vidyaastra.com/api/schools/${ye}`);return pe.data.success&&pe.data.data?{_id:ye,name:pe.data.data.name||"Unknown School"}:{_id:ye,name:"Unknown School"}}catch(pe){return console.error(`Failed to fetch school ${ye}:`,pe.message),{_id:ye,name:"Unknown School"}}});try{const ye=await sr.get("https://vidyaastra.com/api/schools");ye.data.success&&Y.push(...ye.data.data.map(pe=>({_id:pe._id,name:pe.name||"Unknown School"})))}catch(ye){console.error("Failed to fetch all schools:",ye.message)}const ie=await Promise.all(Y),ge=new Map;ie.forEach(ye=>{ye._id&&ye.name&&ge.set(ye._id,ye)}),x(Array.from(ge.values()))}else A("Failed to load holidays")}catch(B){A("Failed to load holidays: "+B.message)}finally{h(!1)}})()},[j]);const Q=C.useMemo(()=>[...new Set(e.map(ve=>typeof ve.schoolId=="object"?ve.schoolId._id:ve.schoolId))].filter(Boolean),[e]),z=C.useMemo(()=>y.filter(ve=>Q.includes(ve._id)).map(ve=>({...ve,name:ve.name||"Unknown School"})),[y,Q]),O=ve=>new Date(ve).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),L=ve=>{const B=new Date,Y=new Date(ve)-B,ie=Math.ceil(Y/(1e3*60*60*24));return ie<0?"Passed":ie===0?"Today":ie===1?"Tomorrow":`${ie} days`},V=(ve,B)=>({"#FF9933":"bg-[#F37021]/10 text-[#F37021] border-[#F37021]/20","#008000":"bg-green-100 text-green-800 border-green-200","#FF0000":"bg-red-100 text-red-800 border-red-200","#0000FF":"bg-blue-100 text-blue-800 border-blue-200","#800080":"bg-purple-100 text-purple-800 border-purple-200","#FFC0CB":"bg-pink-100 text-pink-800 border-pink-200","#008080":"bg-teal-100 text-teal-800 border-teal-200"})[B]||"bg-gray-100 text-[#1C1444] border-gray-200",J=ve=>{const B=L(ve);return B==="Passed"?"bg-gray-100 text-[#1C1444] border-gray-200":B==="Today"?"bg-green-100 text-green-800 border-green-200":B==="Tomorrow"?"bg-blue-100 text-blue-800 border-blue-200":"bg-[#F37021]/10 text-[#F37021] border-[#F37021]/20"},ce=C.useMemo(()=>{let ve=e;return r!=="All"&&(ve=ve.filter(B=>B.type===r)),v!=="all"&&(ve=ve.filter(B=>(typeof B.schoolId=="object"?B.schoolId._id:B.schoolId)===v)),s&&(ve=ve.filter(B=>B.name.toLowerCase().includes(s.toLowerCase())||B.type.toLowerCase().includes(s.toLowerCase())||B.description.toLowerCase().includes(s.toLowerCase()))),ve},[r,s,e,v]),ee=C.useMemo(()=>o.key?[...ce].sort((ve,B)=>{let R,Y;switch(o.key){case"name":R=ve.name,Y=B.name;break;case"date":R=new Date(ve.date),Y=new Date(B.date);break;case"type":R=ve.type,Y=B.type;break;case"daysUntil":const ie=ge=>{const ye=L(ge);return ye==="Passed"?-1e3:ye==="Today"?0:ye==="Tomorrow"?1:parseInt(ye)};R=ie(ve.date),Y=ie(B.date);break;default:return 0}return R<Y?o.direction==="asc"?-1:1:R>Y?o.direction==="asc"?1:-1:0}):ce,[ce,o]),de=ve=>{l(B=>({key:ve,direction:B.key===ve&&B.direction==="asc"?"desc":"asc"}))},se=ve=>o.key!==ve?null:o.direction==="asc"?a.jsx(uj,{className:"inline w-4 h-4 text-[#F37021]"}):a.jsx(s1,{className:"inline w-4 h-4 text-[#F37021]"}),he=()=>{const B=[["Holiday Name","Date","Category","Days Until","Description","School Name"].join(","),...ee.map(ge=>[`"${ge.name}"`,ge.date,`"${ge.type}"`,`"${L(ge.date)}"`,`"${ge.description}"`,`"${(typeof ge.schoolId=="object"?ge.schoolId.name:y.find(ye=>ye._id===ge.schoolId)?.name)||"Unknown School"}"`].join(","))].join(`
`),R=new Blob([B],{type:"text/csv"}),Y=window.URL.createObjectURL(R),ie=document.createElement("a");ie.href=Y,ie.download="holidays-2025.csv",ie.click(),window.URL.revokeObjectURL(Y)},fe=["All","National Holiday","Festival","Religious Holiday"];return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("div",{className:"bg-[#1C1444] text-white p-6 shadow-lg",children:[a.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Jn,{className:"w-6 h-6 text-[#F37021]"}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Holiday Calendar 2025"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:he,className:"flex items-center space-x-2 bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg transition-all",children:[a.jsx(xs,{className:"w-4 h-4 text-white"}),a.jsx("span",{children:"Export CSV"})]}),a.jsxs("button",{onClick:()=>d(c==="table"?"card":"table"),className:"flex items-center space-x-2 bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg transition-all",children:[a.jsx(Hi,{className:"w-4 h-4 text-white"}),a.jsx("span",{children:c==="table"?"Card View":"Table View"})]})]})]}),a.jsx("p",{className:"container mx-auto text-[#F37021] mt-2",children:"Professional holiday management system"})]}),a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[u&&a.jsx("p",{className:"text-center text-[#1C1444] py-10",children:"Loading holidays..."}),m&&a.jsx("p",{className:"text-center text-red-500 py-10",children:m}),!u&&!m&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-[#1C1444]",children:M}),a.jsx("div",{className:"text-sm text-[#1C1444]",children:"Total Holidays"})]}),a.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-[#1C1444]",children:e.filter(ve=>ve.type==="National Holiday").length}),a.jsx("div",{className:"text-sm text-[#1C1444]",children:"National Holidays"})]}),a.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-[#1C1444]",children:e.filter(ve=>ve.type==="Festival").length}),a.jsx("div",{className:"text-sm text-[#1C1444]",children:"Festivals"})]}),a.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-[#1C1444]",children:e.filter(ve=>L(ve.date)!=="Passed").length}),a.jsx("div",{className:"text-sm text-[#1C1444]",children:"Upcoming"})]})]}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#F37021] w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search holidays...",value:s,onChange:ve=>i(ve.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F37021] text-[#1C1444] w-full lg:w-64"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Fu,{className:"text-[#F37021] w-4 h-4"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:fe.map(ve=>a.jsx("button",{onClick:()=>n(ve),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${r===ve?"bg-[#F37021] text-white shadow-md":"bg-gray-100 text-[#1C1444] hover:bg-gray-200"}`,children:ve},ve))}),a.jsxs("select",{value:v,onChange:ve=>b(ve.target.value),className:"ml-4 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[a.jsx("option",{value:"all",children:"All Schools"}),z.length>0?z.map(ve=>a.jsx("option",{value:ve._id,children:ve.name},ve._id)):a.jsx("option",{disabled:!0,children:"No schools available"})]})]})]})}),!u&&!m&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full min-w-[900px]",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>de("name"),children:["Holiday Name ",se("name")]}),a.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>de("date"),children:["Date ",se("date")]}),a.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>de("type"),children:["Category ",se("type")]}),a.jsxs("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>de("daysUntil"),children:["Status ",se("daysUntil")]}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"School"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wider",children:"Description"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ee.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-[#1C1444]",children:[a.jsx(Jn,{className:"w-12 h-12 text-[#F37021] mx-auto mb-4"}),a.jsx("p",{className:"text-lg font-medium text-[#1C1444]",children:"No holidays found"}),a.jsx("p",{className:"text-sm text-[#1C1444]",children:"Try adjusting your search or filters"})]})}):ee.map(ve=>{const B=$Be(ve.type);return a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(B,{className:"w-5 h-5 text-[#F37021]"}),a.jsx("span",{className:"text-sm font-medium text-[#1C1444]",children:ve.name})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-[#1C1444]",children:O(ve.date)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${V(ve.type,ve.color)}`,children:ve.type})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${J(ve.date)}`,children:L(ve.date)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ve.schoolId?a.jsxs("span",{className:"flex items-center text-[#1C1444]",children:[a.jsx(Ol,{className:"w-4 h-4 mr-1 text-[#F37021]"}),(typeof ve.schoolId=="object"?ve.schoolId.name:y.find(R=>R._id===ve.schoolId)?.name)||"Unknown School"]}):"-"}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm text-[#1C1444]",children:ve.description})})]},ve._id)})})]})}),ee.length>0&&a.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t border-gray-200",children:a.jsxs("div",{className:"text-sm text-[#1C1444]",children:["Showing"," ",a.jsx("span",{className:"font-medium",children:ee.length})," ","of ",a.jsx("span",{className:"font-medium",children:e.length})," ","holidays"]})})]}),!u&&!m&&M>0&&a.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[a.jsxs("div",{className:"text-sm text-[#1C1444]",children:["Showing ",(j-1)*T+1," to"," ",Math.min(j*T,M)," of ",M," ","records"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>E(ve=>Math.max(ve-1,1)),disabled:j===1,className:`px-4 py-2 rounded-lg transition-colors ${j===1?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:"Previous"}),a.jsx("button",{onClick:()=>E(ve=>Math.min(ve+1,P)),disabled:j===P,className:`px-4 py-2 rounded-lg transition-colors ${j===P?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:"Next"})]})]})]})]})},VBe=()=>{const[e,t]=C.useState(""),[r,n]=C.useState("all"),[s,i]=C.useState("all"),[o,l]=C.useState("all"),[c,d]=C.useState([]),[u,h]=C.useState(!0),[m,A]=C.useState(null);C.useEffect(()=>{(async()=>{try{const U=await sr.get("https://vidyaastra.com/api/classwork");d(U.data)}catch(U){console.error("Error fetching classwork:",U),A("Failed to load classwork data")}finally{h(!1)}})()},[]);const y=P=>new Date(P).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}),x=P=>{const U={completed:{color:"bg-green-100 text-green-800",icon:tu,text:"Completed"},"in-progress":{color:"bg-yellow-100 text-yellow-800",icon:es,text:"In Progress"},pending:{color:"bg-red-100 text-red-800",icon:ga,text:"Pending"}},M=U[P]||U.pending,k=M.icon;return a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${M.color}`,children:[a.jsx(k,{className:"w-3 h-3 mr-1"}),M.text]})},v=P=>({pdf:"",docx:"",pptx:"",jpg:"",zip:""})[P]||"",b=C.useMemo(()=>c.filter(P=>{const U=P.topic?.toLowerCase().includes(e.toLowerCase())||P.subject?.toLowerCase().includes(e.toLowerCase())||P.description?.toLowerCase().includes(e.toLowerCase()),M=r==="all"||P.subject===r,k=s==="all"||P.class===s,Q=o==="all"||P.status===o;return U&&M&&k&&Q}),[e,r,s,o,c]),j=C.useMemo(()=>{const P=c.length,U=c.filter(Q=>Q.status==="completed").length,M=c.filter(Q=>Q.status==="in-progress").length,k=c.reduce((Q,z)=>Q+(z.studentsCount||0),0);return{total:P,completed:U,inProgress:M,totalStudents:k}},[c]),E=[...new Set(c.map(P=>P.subject))].filter(Boolean),T=[...new Set(c.map(P=>P.class))].filter(Boolean);return u?a.jsx("div",{className:"p-6 text-center text-lg text-gray-600",children:"Loading classwork data..."}):m?a.jsx("div",{className:"p-6 text-center text-red-500",children:m}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-b-3xl shadow-lg",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Rs,{className:"w-6 h-6"}),a.jsx("h1",{className:"text-2xl font-bold",children:"Classwork Management"})]})}),a.jsx("p",{className:"text-indigo-100 mt-2",children:"Track and manage daily classwork activities"})]}),a.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Classwork"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.total})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:j.completed})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:j.inProgress})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:j.totalStudents})]})]}),a.jsx("div",{className:"px-6 mb-6",children:a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search topic or subject...",value:e,onChange:P=>t(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("select",{value:r,onChange:P=>n(P.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl",children:[a.jsx("option",{value:"all",children:"All Subjects"}),E.map(P=>a.jsx("option",{children:P},P))]}),a.jsxs("select",{value:s,onChange:P=>i(P.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl",children:[a.jsx("option",{value:"all",children:"All Classes"}),T.map(P=>a.jsx("option",{children:P},P))]}),a.jsxs("select",{value:o,onChange:P=>l(P.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"in-progress",children:"In Progress"}),a.jsx("option",{value:"pending",children:"Pending"})]})]})}),a.jsx("div",{className:"px-6 pb-6",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-x-auto",children:[a.jsxs("table",{className:"w-full min-w-[800px]",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Topic"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Subject"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Attachments"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(P=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:P.topic}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:P.subject}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:y(P.date)}),a.jsx("td",{className:"px-6 py-4",children:x(P.status||"pending")}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:(P.attachments||[]).map((U,M)=>a.jsxs("div",{className:"flex items-center space-x-1 text-xs",children:[a.jsx("span",{children:v(U.name?.split(".").pop())}),a.jsx("span",{children:U.name})]},M))})]},P._id))})]}),b.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Rs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No classwork found"}),a.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]})]})})]})},KBe="https://vidyaastra.com/api/schools/",qBe=()=>{const[e,t]=C.useState("All"),[r,n]=C.useState(""),[s,i]=C.useState([]),[o,l]=C.useState(!0),[c,d]=C.useState(null),[u,h]=C.useState(1),[m]=C.useState(10),[A,y]=C.useState(1),[x,v]=C.useState(0),[b,j]=C.useState(!1),[E,T]=C.useState("all"),[P,U]=C.useState("all"),[M,k]=C.useState("all"),[Q,z]=C.useState("all"),[O,L]=C.useState({}),[V,J]=C.useState(null);C.useEffect(()=>{ce()},[u,Q,P,M,E]);const ce=async()=>{try{l(!0),d(null);const ye=new URLSearchParams({page:u,limit:m});Q!=="all"&&ye.append("schoolId",Q),P!=="all"&&ye.append("className",P),M!=="all"&&ye.append("section",M),E!=="all"&&ye.append("subject",E);const pe=await fetch(`https://vidyaastra.com/api/books/all-unfiltered?${ye.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!pe.ok)throw new Error(`HTTP error! Status: ${pe.status}`);const Z=await pe.json();if(!Z.success||!Array.isArray(Z.data))throw new Error("Invalid API response format");v(Z.total),y(Z.totalPages);const le=Z.data,te=[...new Set(le.map(be=>be.schoolId).filter(Boolean))],Ne={};await Promise.all(te.map(async be=>{try{const Ce=await(await fetch(KBe+be)).json();Ne[be]=Ce.success&&Ce.data?.name?Ce.data.name:"Unknown"}catch{Ne[be]="Unknown"}})),L(Ne);const Fe=le.map(be=>{const re=be.title?.toLowerCase().includes("grade"),Ce=re?be.title.replace(/Grade \d+/,"").trim().split(" ")[0]:"Literature";return{id:be._id,title:be.title||"Unknown Title",author:be.author||"Unknown Author",description:be.description||"No description available",price:be.price||0,category:re?"Textbooks":"Novels",subject:Ce,className:be.classId?.className||"General",section:be.classId?.section||"N/A",image:be.image?be.image.startsWith("http")?be.image:`https://vidyaastra.com${be.image}`:"https://images.unsplash.com/photo-1509228468518-180dd4864904?w=200&h=250&fit=crop",schoolId:be.schoolId||"",stock:be.stock||0}});i(Fe)}catch(ye){d(`Error fetching books: ${ye.message}`),i([])}finally{l(!1)}},ee=ye=>{ye>=1&&ye<=A&&h(ye)},de=ye=>[...new Set(s.map(Z=>Z[ye]).filter(Boolean))].sort(),he=[...new Set(s.map(ye=>ye.schoolId).filter(Boolean))].map(ye=>({id:ye,displayName:O[ye]||"Unknown"})),fe=s.filter(ye=>{const pe=e==="All"||ye.category===e,Z=ye.title.toLowerCase().includes(r.toLowerCase())||ye.author.toLowerCase().includes(r.toLowerCase())||ye.subject.toLowerCase().includes(r.toLowerCase())||ye.description.toLowerCase().includes(r.toLowerCase())||(O[ye.schoolId]||"").toLowerCase().includes(r.toLowerCase()),le=E==="all"||ye.subject===E,te=P==="all"||ye.className===P,Ne=M==="all"||ye.section===M,Fe=Q==="all"||ye.schoolId===Q;return pe&&Z&&le&&te&&Ne&&Fe}),ve=()=>{t("All"),n(""),T("all"),U("all"),k("all"),z("all"),j(!1),h(1)},B=()=>e!=="All"||r!==""||E!=="all"||P!=="all"||M!=="all"||Q!=="all",R=()=>{const ye=["Title","Author","Category","Subject","Class","Section","Price ()","Description","School Name","Stock"],pe=fe.map(Fe=>[`"${Fe.title.replace(/"/g,'""')}"`,`"${Fe.author.replace(/"/g,'""')}"`,`"${Fe.category}"`,`"${Fe.subject}"`,`"${Fe.className}"`,`"${Fe.section}"`,`"${Fe.price}"`,`"${Fe.description.replace(/"/g,'""')}"`,`"${O[Fe.schoolId]||""}"`,`"${Fe.stock}"`]),Z=[ye.join(","),...pe.map(Fe=>Fe.join(","))].join(`
`),le=new Blob([Z],{type:"text/csv;charset=utf-8;"}),te=document.createElement("a"),Ne=URL.createObjectURL(le);te.setAttribute("href",Ne),te.setAttribute("download",`books_${new Date().toISOString().split("T")[0]}.csv`),te.style.visibility="hidden",document.body.appendChild(te),te.click(),document.body.removeChild(te)},Y=ye=>`${ye}`,ie=ye=>{J(ye)},ge=()=>{J(null)};return a.jsxs("div",{className:"min-h-screen bg-gray-100",children:[a.jsx("div",{className:"bg-[#1C1444] text-white p-4 sticky top-0 z-10",children:a.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(ip,{className:"w-6 h-6 text-[#F37021] cursor-pointer"}),a.jsx("h1",{className:"text-xl font-semibold text-white",children:"School Books"})]}),!o&&!c&&a.jsxs("button",{onClick:R,className:"flex items-center space-x-2 bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-xl transition-all",disabled:fe.length===0,children:[a.jsx(xs,{className:"w-4 h-4 text-white"}),a.jsx("span",{children:"Export CSV"})]})]})}),o&&a.jsxs("div",{className:"container mx-auto p-4 text-center",children:[a.jsx("div",{className:"text-6xl mb-4 animate-pulse",children:""}),a.jsx("p",{className:"text-[#1C1444] text-lg",children:"Loading books..."})]}),c&&a.jsxs("div",{className:"container mx-auto p-4 bg-red-100 text-red-700 rounded-xl m-4",children:[c,a.jsx("p",{className:"text-sm mt-2 text-red-600",children:"Please check if the backend server is running and accessible."})]}),!o&&!c&&a.jsx("div",{className:"container mx-auto p-4 bg-white",children:a.jsxs("div",{className:"relative",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-[#F37021]"}),a.jsx("input",{type:"text",placeholder:"Search books, authors, subjects, school...",value:r,onChange:ye=>n(ye.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-100 rounded-xl border-0 focus:ring-2 focus:ring-[#F37021] focus:bg-white text-[#1C1444] transition-all"})]})}),!o&&!c&&a.jsxs("div",{className:"container mx-auto px-4 pb-4 bg-white border-b",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"flex items-center space-x-4",children:B()&&a.jsxs("button",{onClick:ve,className:"flex items-center space-x-2 text-[#1C1444] hover:text-[#F37021]",children:[a.jsx(Lr,{className:"w-4 h-4 text-[#F37021]"}),a.jsx("span",{children:"Clear Filters"})]})}),a.jsxs("div",{className:"text-sm text-[#1C1444]",children:["Showing ",fe.length," of ",x," books",B()&&a.jsx("span",{className:"text-[#F37021] ml-1",children:"(filtered)"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 bg-gray-50 rounded-xl",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-2",children:"School"}),a.jsxs("select",{value:Q,onChange:ye=>{z(ye.target.value),U("all"),k("all")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[a.jsx("option",{value:"all",children:"All Schools"}),he.length===0?a.jsx("option",{value:"",disabled:!0,children:o?"Loading schools...":"No schools available"}):he.map(ye=>a.jsx("option",{value:ye.id,children:ye.displayName},ye.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-2",children:"Class"}),a.jsxs("select",{value:P,onChange:ye=>{U(ye.target.value),k("all")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[a.jsx("option",{value:"all",children:"All Classes"}),de("className").length===0?a.jsx("option",{value:"",disabled:!0,children:o?"Loading classes...":Q!=="all"?"No classes for selected school":"No classes available"}):de("className").map(ye=>a.jsx("option",{value:ye,children:ye},ye))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-2",children:"Section"}),a.jsxs("select",{value:M,onChange:ye=>k(ye.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[a.jsx("option",{value:"all",children:"All Sections"}),de("section").length===0?a.jsx("option",{value:"",disabled:!0,children:o?"Loading sections...":P!=="all"?"No sections for selected class":"No sections available"}):de("section").map(ye=>a.jsx("option",{value:ye,children:ye},ye))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-2",children:"Subject"}),a.jsxs("select",{value:E,onChange:ye=>T(ye.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] text-[#1C1444]",children:[a.jsx("option",{value:"all",children:"All Subjects"}),de("subject").map(ye=>a.jsx("option",{value:ye,children:ye},ye))]})]})]})]}),!o&&!c&&a.jsxs("div",{className:"container mx-auto p-4",children:[a.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Title"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Author"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Class"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Section"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"School"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#1C1444] uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:fe.map(ye=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-[#1C1444]",children:ye.title}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:ye.author}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:ye.className}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:ye.section}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:Y(ye.price)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:ye.stock}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#1C1444]",children:O[ye.schoolId]||"Unknown"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsx("button",{onClick:()=>ie(ye),className:"text-[#F37021] hover:text-[#d65f1c]",children:"View"})})]},ye.id))})]})}),A>1&&a.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[a.jsx("button",{onClick:()=>ee(u-1),disabled:u===1,className:`px-4 py-2 rounded-lg transition-colors ${u===1?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:"Previous"}),a.jsxs("span",{className:"text-sm text-[#1C1444]",children:["Page ",u," of ",A]}),a.jsx("button",{onClick:()=>ee(u+1),disabled:u===A,className:`px-4 py-2 rounded-lg transition-colors ${u===A?"bg-gray-200 text-[#1C1444] cursor-not-allowed":"bg-[#F37021] text-white hover:bg-[#d65f1c]"}`,children:"Next"})]}),fe.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4 text-[#F37021]",children:""}),a.jsx("h3",{className:"text-lg font-semibold text-[#1C1444] mb-2",children:"No books found"}),a.jsx("p",{className:"text-[#1C1444]",children:"Try adjusting your search or filter criteria"}),B()&&a.jsx("button",{onClick:ve,className:"mt-4 px-4 py-2 bg-[#F37021] text-white rounded-lg hover:bg-[#d65f1c] transition-colors",children:"Clear All Filters"})]})]}),V&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full mx-4 p-6 relative max-h-[90vh] overflow-y-auto",children:[a.jsx("button",{onClick:ge,className:"absolute top-4 right-4 text-[#1C1444] hover:text-[#F37021]",children:a.jsx(Lr,{className:"w-6 h-6 text-[#F37021]"})}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("img",{src:V.image,alt:V.title,className:"w-32 h-48 object-cover rounded-lg shadow-md mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-[#1C1444] mb-2",children:V.title}),a.jsxs("p",{className:"text-[#1C1444] mb-4",children:["by ",V.author]}),a.jsxs("div",{className:"w-full space-y-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-medium text-[#1C1444]",children:"Category:"}),a.jsx("span",{className:"text-[#1C1444]",children:V.category})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-medium text-[#1C1444]",children:"Subject:"}),a.jsx("span",{className:"text-[#1C1444]",children:V.subject})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-medium text-[#1C1444]",children:"Class:"}),a.jsx("span",{className:"text-[#1C1444]",children:V.className})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-medium text-[#1C1444]",children:"Section:"}),a.jsx("span",{className:"text-[#1C1444]",children:V.section})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-medium text-[#1C1444]",children:"Price:"}),a.jsx("span",{className:"text-[#1C1444]",children:Y(V.price)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-medium text-[#1C1444]",children:"Stock:"}),a.jsx("span",{className:"text-[#1C1444]",children:V.stock})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-medium text-[#1C1444]",children:"School:"}),a.jsx("span",{className:"text-[#1C1444]",children:O[V.schoolId]||"Unknown"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-[#1C1444] block mb-2",children:"Description:"}),a.jsx("p",{className:"text-[#1C1444]",children:V.description})]})]})]})]})})]})},GBe="https://vidyaastra.com/api";class WBe{constructor(){this.api=sr.create({baseURL:GBe,timeout:3e4}),this.api.interceptors.request.use(t=>{const r=localStorage.getItem("superadmin_token");return r&&(t.headers.Authorization=`Bearer ${r}`),t},t=>Promise.reject(t)),this.api.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(localStorage.removeItem("superadmin_token"),localStorage.removeItem("superadmin_user"),window.location.href="/superadmin-login"),Promise.reject(t)))}async getSchools(t={}){try{return(await this.api.get("/schools",{params:t})).data}catch(r){throw this.handleError(r,"Failed to fetch schools")}}async getSchoolById(t){try{return(await this.api.get(`/schools/${t}`)).data}catch(r){throw this.handleError(r,"Failed to fetch school details")}}async createSchool(t){try{return(await this.api.post("/schools",t)).data}catch(r){throw this.handleError(r,"Failed to create school")}}async updateSchool(t,r){try{return(await this.api.put(`/schools/${t}`,r)).data}catch(n){throw this.handleError(n,"Failed to update school")}}async deleteSchool(t){try{return(await this.api.delete(`/schools/${t}`)).data}catch(r){throw this.handleError(r,"Failed to delete school")}}async getStudents(t={}){try{return(await this.api.get("/students",{params:t})).data}catch(r){throw this.handleError(r,"Failed to fetch students")}}async getStudentsBySchool(t,r={}){try{return(await this.api.get(`/students/school/${t}`,{params:r})).data}catch(n){throw this.handleError(n,"Failed to fetch students by school")}}async getPackages(t={}){try{return(await this.api.get("/packages",{params:t})).data}catch(r){throw this.handleError(r,"Failed to fetch packages")}}async getPayments(t={}){try{return(await this.api.get("/payments",{params:t})).data}catch(r){throw this.handleError(r,"Failed to fetch payments")}}async getStatistics(){try{const[t,r,n]=await Promise.allSettled([this.getSchools({limit:1e3}),this.getPackages(),this.getPayments({limit:1e3})]);return{schools:t.status==="fulfilled"?t.value.data:[],packages:r.status==="fulfilled"?r.value.data:[],payments:n.status==="fulfilled"?n.value.data:[]}}catch(t){throw this.handleError(t,"Failed to fetch statistics")}}handleError(t,r){if(console.error("API Error:",t),t.response){const n=t.response.data?.message||r;return new Error(`${n} (${t.response.status})`)}else return t.request?new Error("Network error - please check your connection"):new Error(t.message||r)}createCancelToken(){return sr.CancelToken.source()}}const YBe=new WBe,XBe=()=>{const[e,t]=C.useState("month"),[r,n]=C.useState(!1),[s,i]=C.useState([]),[o,l]=C.useState([]),[c,d]=C.useState([]),[u,h]=C.useState(!0),[m,A]=C.useState(null);C.useEffect(()=>{y()},[]);const y=async()=>{n(!0),h(!0);try{const M=await YBe.getStatistics();i(M.schools),l(M.packages),d(M.payments),A(null)}catch(M){A("Failed to fetch data: "+M.message),console.error(M)}finally{h(!1),n(!1)}},x=C.useMemo(()=>{const M=s.length,k=o.length,Q=c.length,z=c.reduce((L,V)=>L+V.amount,0),O=c.filter(L=>L.status==="active").length;return{totalSchools:M,totalPackages:k,activePurchases:O,totalPurchases:Q,totalRevenue:z}},[s,o,c]),v=M=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(M),b=M=>{const k={active:{color:"bg-green-100 text-green-800 border-green-200",icon:tu},pending:{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:es},failed:{color:"bg-red-100 text-red-800 border-red-200",icon:jv}},Q=k[M]||k.pending,z=Q.icon;return a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${Q.color}`,children:[a.jsx(z,{className:"w-3 h-3 mr-1"}),M.charAt(0).toUpperCase()+M.slice(1)]})},j=()=>{y()},E=C.useMemo(()=>{const M=Array.from({length:12},(Q,z)=>{const O=new Date;return O.setMonth(O.getMonth()-(11-z)),O.toLocaleString("default",{month:"short"})}),k=M.map(Q=>({month:Q,revenue:0,purchases:0}));return c.reduce((Q,z)=>{const L=new Date(z.createdAt).toLocaleString("default",{month:"short"}),V=M.indexOf(L);return V!==-1&&(Q[V].revenue+=z.amount,Q[V].purchases+=1),Q},[...k])},[c,e]),T=C.useMemo(()=>{const M=o.map(k=>{const Q=c.filter(z=>z.packageId===k._id).length;return{name:k.name,sales:Q,revenue:Q*k.price,color:(k.color==="blue"||k.color==="purple"||k.color==="green"||k.color==="orange","#F37021")}}).filter(k=>k.sales>0);return M.length===0?[{name:"No Data Available",sales:1,revenue:0,color:"#9CA3AF"}]:M},[o,c]),P=C.useMemo(()=>c.sort((M,k)=>new Date(k.createdAt)-new Date(M.createdAt)).slice(0,3).map(M=>({id:M._id,school:s.find(k=>k._id===M.schoolId)?.name||"Unknown School",package:o.find(k=>k._id===M.packageId)?.name||"Unknown Package",amount:M.amount,status:M.status,date:M.createdAt})),[c,s,o]),U=C.useMemo(()=>s.map(M=>{const k=c.filter(z=>z.schoolId===M._id),Q=k.reduce((z,O)=>z+O.amount,0);return{...M,revenue:Q,purchases:k.length}}).sort((M,k)=>k.revenue-M.revenue).slice(0,3),[s,c]);return u?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ug,{className:"w-10 h-10 text-[#F37021] animate-spin mx-auto"}),a.jsx("p",{className:"mt-4 text-[#1C1444]",children:"Loading dashboard data..."})]})}):m?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:[a.jsx("p",{children:m}),a.jsx("button",{onClick:y,className:"mt-2 bg-[#F37021] text-white px-4 py-2 rounded-lg hover:bg-[#d65f1c] transition-colors",children:"Retry"})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-[#1C1444] text-white p-6 shadow-lg",children:a.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ol,{className:"w-6 h-6 text-[#F37021]"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Super Admin Dashboard"}),a.jsx("p",{className:"text-[#F37021] mt-1",children:"Comprehensive school management overview"})]})]}),a.jsxs("button",{onClick:j,disabled:r,className:"flex items-center space-x-2 bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg transition-all",children:[a.jsx(ug,{className:`w-4 h-4 text-white ${r?"animate-spin":""}`}),a.jsx("span",{children:"Refresh"})]})]})}),a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[#1C1444]",children:"Total Schools"}),a.jsx("p",{className:"text-2xl font-bold text-[#1C1444]",children:x.totalSchools}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(tg,{className:"w-4 h-4 text-green-500 mr-1"}),a.jsxs("span",{className:"text-sm text-green-600",children:["+",Math.floor(x.totalSchools/10),"% from last month"]})]})]}),a.jsx("div",{className:"p-3 bg-[#F37021]/10 rounded-lg",children:a.jsx(Ol,{className:"w-6 h-6 text-[#F37021]"})})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[#1C1444]",children:"Total Packages"}),a.jsx("p",{className:"text-2xl font-bold text-[#1C1444]",children:x.totalPackages}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(tg,{className:"w-4 h-4 text-green-500 mr-1"}),a.jsxs("span",{className:"text-sm text-green-600",children:["+",Math.floor(x.totalPackages/5),"% from last month"]})]})]}),a.jsx("div",{className:"p-3 bg-[#F37021]/10 rounded-lg",children:a.jsx(af,{className:"w-6 h-6 text-[#F37021]"})})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[#1C1444]",children:"Total Purchases"}),a.jsx("p",{className:"text-2xl font-bold text-[#1C1444]",children:x.totalPurchases}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(tg,{className:"w-4 h-4 text-green-500 mr-1"}),a.jsxs("span",{className:"text-sm text-green-600",children:["+",Math.floor(x.totalPurchases/10),"% from last month"]})]})]}),a.jsx("div",{className:"p-3 bg-[#F37021]/10 rounded-lg",children:a.jsx(Ra,{className:"w-6 h-6 text-[#F37021]"})})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[#1C1444]",children:"Total Revenue"}),a.jsx("p",{className:"text-2xl font-bold text-[#1C1444]",children:v(x.totalRevenue)}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(tg,{className:"w-4 h-4 text-green-500 mr-1"}),a.jsxs("span",{className:"text-sm text-green-600",children:["+",Math.floor(x.totalRevenue/1e5),"% from last month"]})]})]}),a.jsx("div",{className:"p-3 bg-[#F37021]/10 rounded-lg",children:a.jsx(aA,{className:"w-6 h-6 text-[#F37021]"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-bold text-[#1C1444]",children:"Revenue Trend"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-[#F37021] rounded-full"}),a.jsx("span",{className:"text-sm text-[#1C1444]",children:"Monthly Revenue"})]})]}),a.jsx(V2,{width:"100%",height:300,children:a.jsxs(wW,{data:E,children:[a.jsx(UN,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),a.jsx(Tb,{dataKey:"month",stroke:"#1C1444"}),a.jsx(_b,{tickFormatter:M=>M===0?"0":`${(M/1e5).toFixed(0)}L`,domain:[0,"auto"],stroke:"#1C1444"}),a.jsx($2,{formatter:M=>[M===0?"0":v(M),"Revenue"]}),a.jsx(QN,{type:"monotone",dataKey:"revenue",stroke:"#F37021",fill:"#F37021",fillOpacity:.1})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-bold text-[#1C1444] mb-6",children:"Package Sales Distribution"}),a.jsx(V2,{width:"100%",height:300,children:a.jsxs(bW,{children:[a.jsx(wF,{data:T,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:T.length>1?5:0,dataKey:"sales",label:({name:M,percent:k})=>`${M} ${(k*100).toFixed(0)}%`,labelLine:!1,children:T.map((M,k)=>a.jsx(Sy,{fill:M.color,stroke:"#fff",strokeWidth:2},`cell-${k}`))}),a.jsx($2,{formatter:(M,k,Q)=>[M,Q.payload.name,Q.payload.revenue>0?`Revenue: ${v(Q.payload.revenue)}`:""]}),a.jsx(Ux,{})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-bold text-[#1C1444]",children:"Top Performing Schools"}),a.jsx(cl,{to:"/admin/school",children:a.jsx("button",{className:"text-[#F37021] hover:text-[#d65f1c] text-sm font-medium",children:"View All"})})]}),a.jsx("div",{className:"space-y-4",children:U.map((M,k)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-[#F37021]/10 rounded-full flex items-center justify-center",children:a.jsxs("span",{className:"text-[#F37021] font-bold text-sm",children:["#",k+1]})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-[#1C1444]",children:M.name}),a.jsxs("p",{className:"text-sm text-[#1C1444] flex items-center",children:[a.jsx(Kx,{className:"w-3 h-3 mr-1 text-[#F37021]"}),M.address.split(",")[0]]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold text-[#1C1444]",children:M.phone}),a.jsxs("p",{className:"text-sm text-[#1C1444]",children:[M.purchases," purchases"]})]})]},M._id))})]}),a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-bold text-[#1C1444]",children:"Recent Transactions"}),a.jsx(cl,{to:"/admin/packagehistory",children:a.jsx("button",{className:"text-[#F37021] hover:text-[#d65f1c] text-sm font-medium",children:"View All"})})]}),a.jsx("div",{className:"space-y-4",children:P.map(M=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-[#F37021]/10 rounded-full flex items-center justify-center",children:a.jsx(af,{className:"w-5 h-5 text-[#F37021]"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-[#1C1444]",children:M.school}),a.jsx("p",{className:"text-sm text-[#1C1444]",children:M.package})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold text-[#1C1444]",children:v(M.amount)}),a.jsx("div",{className:"flex items-center space-x-2",children:b(M.status)})]})]},M.id))})]})]})]})]})},JBe="https://vidyaastra.com/api";function ZBe(){const[e,t]=C.useState(""),[r,n]=C.useState({name:"",email:"",password:"",phone:"",profilePic:null,classSubjects:[]}),[s,i]=C.useState(""),[o,l]=C.useState([]),[c,d]=C.useState(!1),[u,h]=C.useState(!1),[m,A]=C.useState(""),[y,x]=C.useState(!1),[v,b]=C.useState(!1),j=ru(),E=localStorage.getItem("color")||"#2563eb",T=ai(he=>he.classes.classes?.data||[]),P=ai(he=>he.subjects.subjects?.data||[]),U=ai(he=>he.classes.loading),M=ai(he=>he.subjects.loading),k=ai(he=>he.classes.error),Q=ai(he=>he.subjects.error);C.useEffect(()=>{const he=localStorage.getItem("schoolId");he?t(he):(A("School ID not found. Please log in as a school admin first."),x(!1))},[]),C.useEffect(()=>{k&&(A("Failed to load classes: "+k),x(!1)),Q&&(A("Failed to load subjects: "+Q),x(!1))},[k,Q]);const z=T.map(he=>({_id:he._id,className:he.className||`Class ${he.classNumber||he._id}`,section:he.section||"",displayName:`${he.className||`Class ${he.classNumber||he._id}`}${he.section?` ${he.section}`:""}`.trim()})),O=()=>P.map(he=>({_id:he._id,subjectName:he.SubjectName||he.name||he.subjectName||"Unnamed Subject"})),L=he=>{const{name:fe,value:ve}=he.target;n({...r,[fe]:ve})},V=he=>{const fe=he.target.files[0];if(fe&&!["image/jpeg","image/png"].includes(fe.type)){A("Please select a valid image file (e.g., .jpg, .png)."),x(!1);return}n({...r,profilePic:fe||null})},J=he=>{i(he.target.value),l([]),h(!1)},ce=he=>{l(fe=>fe.includes(he)?fe.filter(ve=>ve!==he):[...fe,he])},ee=()=>{if(!s||o.length===0){A("Please select a class and at least one subject."),x(!1);return}const he=z.find(ve=>ve._id===s);if(!he){A("Invalid class selected."),x(!1);return}if(r.classSubjects.some(ve=>ve.className===he.displayName)){A(`Class "${he.displayName}" has already been added.`),x(!1);return}const fe=o.map(ve=>O().find(B=>B._id===ve)?.subjectName||"Unknown Subject");n({...r,classSubjects:[...r.classSubjects,{className:he.displayName,subjects:[...fe]}]}),i(""),l([]),d(!1),h(!1),A("")},de=he=>{n({...r,classSubjects:r.classSubjects.filter(fe=>fe.className!==he)})},se=async he=>{if(he.preventDefault(),b(!0),A(""),!r.name||!r.email||!r.password||!r.phone){A("Name, email, password, and phone are required fields."),x(!1),b(!1);return}if(r.classSubjects.length===0){A("Please add at least one class with subjects."),x(!1),b(!1);return}if(!e){A("School ID is missing. Please log in as a school admin."),x(!1),b(!1);return}try{const fe=new FormData;fe.append("name",r.name.trim()),fe.append("email",r.email.trim()),fe.append("password",r.password),fe.append("phone",r.phone.trim()),fe.append("classSubjects",JSON.stringify(r.classSubjects)),r.profilePic&&fe.append("profilePic",r.profilePic);const ve=await sr.post(`${JBe}/teacher/${e}/register`,fe,{headers:{"Content-Type":"multipart/form-data"}});ve.data.success&&(A(ve.data.message||"Teacher registered successfully!"),x(!0),n({name:"",email:"",password:"",phone:"",profilePic:null,classSubjects:[]}),setTimeout(()=>{j("/teachers")},2e3))}catch(fe){console.error("Error registering teacher:",fe),A(fe.response?.data?.message||"Failed to register teacher. Please try again."),x(!1)}finally{b(!1)}};return U||M?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(an,{className:"animate-spin w-8 h-8 mx-auto mb-4",style:{color:E}}),a.jsxs("p",{className:"text-gray-600",children:["Loading ",U?"classes":"",U&&M?" and ":"",M?"subjects":"","..."]})]})}):a.jsx("div",{className:"bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-md overflow-scroll",children:[a.jsxs("div",{className:"p-6 text-white",style:{backgroundColor:E},children:[a.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[a.jsx(no,{className:"mr-2"}),"Register New Teacher"]}),a.jsx("p",{className:"mt-1 opacity-90",children:"Add a new teacher to your school"})]}),a.jsxs("form",{onSubmit:se,className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[a.jsx(no,{className:"mr-1 w-4 h-4"}),"Full Name *"]}),a.jsx("input",{type:"text",name:"name",value:r.name,onChange:L,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[a.jsx(Lm,{className:"mr-1 w-4 h-4"}),"Email Address *"]}),a.jsx("input",{type:"email",name:"email",value:r.email,onChange:L,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[a.jsx(n_,{className:"mr-1 w-4 h-4"}),"Password *"]}),a.jsx("input",{type:"password",name:"password",value:r.password,onChange:L,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[a.jsx(GA,{className:"mr-1 w-4 h-4"}),"Phone Number *"]}),a.jsx("input",{type:"tel",name:"phone",value:r.phone,onChange:L,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[a.jsx(Vx,{className:"mr-1 w-4 h-4"}),"Profile Picture (Optional)"]}),a.jsx("input",{type:"file",accept:"image/jpeg,image/png",onChange:V,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),r.profilePic&&a.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Selected: ",r.profilePic.name]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[a.jsx(Rs,{className:"mr-1 w-4 h-4"}),"Classes and Subjects *"]}),a.jsxs("button",{type:"button",onClick:()=>d(!0),disabled:T.length===0||P.length===0,className:"flex items-center px-4 py-2 rounded-lg text-white font-medium disabled:opacity-50",style:{backgroundColor:E},children:[a.jsx(Si,{className:"mr-2"}),"Add Class and Subjects"]}),r.classSubjects.length>0&&a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:r.classSubjects.map((he,fe)=>a.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:[he.className,": ",he.subjects.join(", "),a.jsx("button",{type:"button",onClick:()=>de(he.className),className:"ml-2 rounded-full hover:bg-blue-200",children:a.jsx(Lr,{className:"w-4 h-4"})})]},fe))}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-bold",children:"Add Class and Subjects"}),a.jsx("button",{type:"button",onClick:()=>{d(!1),i(""),l([]),h(!1)},className:"text-gray-500 hover:text-gray-700",children:a.jsx(Lr,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class *"}),a.jsx("select",{value:s,onChange:J,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:z.length===0,children:z.length===0?a.jsx("option",{value:"",children:"No classes available"}):a.jsxs(a.Fragment,{children:[a.jsx("option",{value:"",children:"Select a class"}),z.map(he=>a.jsx("option",{value:he._id,children:he.displayName},he._id))]})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subjects *"}),a.jsxs("div",{className:`border border-gray-300 rounded-lg p-3 flex justify-between items-center ${s?"cursor-pointer":"cursor-not-allowed"}`,onClick:()=>s&&h(he=>!he),children:[a.jsx("span",{children:o.length>0?`${o.length} subject(s) selected`:s?"Select subjects":"Select a class first"}),s&&(u?a.jsx(uj,{}):a.jsx(s1,{}))]}),s&&u&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:O().length===0?a.jsx("div",{className:"p-3 text-gray-500 text-center",children:"No subjects available"}):O().map(he=>a.jsxs("div",{className:"p-3 hover:bg-gray-100 cursor-pointer flex items-center",onClick:()=>ce(he._id),children:[a.jsx("input",{type:"checkbox",checked:o.includes(he._id),onChange:()=>ce(he._id),className:"mr-2 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"truncate",children:he.subjectName})]},he._id))}),o.length>0&&a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:o.map(he=>{const fe=O().find(ve=>ve._id===he);return a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[fe?.subjectName||"Unknown Subject",a.jsx("button",{type:"button",onClick:()=>ce(he),className:"ml-1 rounded-full hover:bg-blue-200",children:a.jsx(Lr,{className:"w-3 h-3"})})]},he)})})]})]}),a.jsxs("div",{className:"mt-6 flex space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>{d(!1),i(""),l([]),h(!1)},className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"button",onClick:ee,disabled:!s||o.length===0,className:"flex-1 py-2 px-4 rounded-lg text-white font-medium disabled:opacity-50",style:{backgroundColor:E},children:"Add"})]})]})})]}),a.jsx("div",{className:"pt-4",children:a.jsx("button",{type:"submit",disabled:v||U||M,className:"w-full py-3 px-4 rounded-lg text-white font-medium flex items-center justify-center disabled:opacity-50",style:{backgroundColor:E},children:v?a.jsxs(a.Fragment,{children:[a.jsx(an,{className:"animate-spin mr-2"}),"Registering..."]}):a.jsxs(a.Fragment,{children:[a.jsx(no,{className:"mr-2"}),"Register Teacher"]})})}),m&&a.jsxs("div",{className:`p-3 rounded-lg flex items-center ${y?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[y?a.jsx(Dl,{className:"mr-2"}):a.jsx(ga,{className:"mr-2"}),m]})]})]})})}const yU=e=>{if(!e)return"";if(e.includes("-")){const[s,i,o]=e.split("-");return`${i}/${o}/${s}`}const[t,r,n]=e.split("/");return`${r}/${t}/${n}`},g2=e=>e?new Date(e).toISOString().split("T")[0]:"",eTe=()=>{const e=new Date().toISOString().split("T")[0],[t,r]=C.useState(""),[n,s]=C.useState(""),[i,o]=C.useState([]),[l,c]=C.useState({}),[d,u]=C.useState([]),[h,m]=C.useState(""),[A,y]=C.useState(!1),[x,v]=C.useState(e),[b,j]=C.useState({}),[E,T]=C.useState([]),[P,U]=C.useState([]),[M,k]=C.useState(new Map),[Q,z]=C.useState(!1),[O,L]=C.useState(null),[V,J]=C.useState(!1),[ce,ee]=C.useState(null),[de,se]=C.useState([]),[he,fe]=C.useState(!1),[ve,B]=C.useState(""),[R,Y]=C.useState(1),[ie,ge]=C.useState(1),[ye,pe]=C.useState(0),[Z,le]=C.useState(10),[te,Ne]=C.useState(""),[Fe,be]=C.useState(""),[re,Ce]=C.useState(""),[st,et]=C.useState({classes:!1,students:!1,attendance:!1,saving:!1,deleting:{},dailySaving:!1,teacher:!1}),[He,ct]=C.useState(!1),[_e,ke]=C.useState(""),[Ze,Pe]=C.useState([]),[ot,Ge]=C.useState(""),[lt,Je]=C.useState(null),[Me,Te]=C.useState(null),je=localStorage.getItem("schoolId");C.useEffect(()=>{const Ct=localStorage.getItem("schoolId"),fr=localStorage.getItem("teacherId");ct(!Ct),fr&&Je(fr)},[]),C.useEffect(()=>{je&&lt&&(async()=>{if(!(!je||!lt)){et(fr=>({...fr,teacher:!0}));try{const $e=await(await fetch(`https://vidyaastra.com/api/teacher/${je}/${lt}`)).json();Te($e.data)}catch(fr){console.error("Error fetching teacher:",fr)}finally{et(fr=>({...fr,teacher:!1}))}}})()},[je,lt]),C.useEffect(()=>{Me&&(async()=>{if(!(!Me||!Me.classSubjects)){et(fr=>({...fr,classes:!0}));try{const fr=Me.classSubjects.map($e=>{const pt=$e.className.split(" "),ft=pt.slice(0,-1).join(" ")||$e.className,mt=pt[pt.length-1];return{displayName:$e.className,className:ft,section:mt,originalData:{_id:$e._id,className:$e.className}}});if(U(fr),fr.length>0&&!t){const $e=fr[0];r($e.className),s($e.section),Le($e.className,fr)}}catch(fr){console.error("Failed to process teacher's classes:",fr)}finally{et(fr=>({...fr,classes:!1}))}}})()},[Me]);const Ke=()=>{_e.trim()&&(localStorage.setItem("schoolId",_e.trim()),window.location.reload())},Le=(Ct,fr=P)=>{const $e=fr.filter(pt=>pt.className===Ct).map(pt=>pt.section).filter((pt,ft,mt)=>mt.indexOf(pt)===ft);Pe($e),!$e.includes(n)&&$e.length>0&&s($e[0])},rt=Ct=>{r(Ct),Le(Ct)},Oe=async()=>{if(!je||!t||n===void 0){o([]),T([]);return}et(Ct=>({...Ct,students:!0}));try{const Ct=await sr.get(`https://vidyaastra.com/api/students/class/${t}`,{params:{schoolId:je,section:n}}),fr=Ct.data.data||Ct.data;o(fr),T(fr);const $e={};fr.forEach(pt=>{$e[pt._id]="absent"}),c($e)}catch(Ct){console.error("Failed to fetch students:",Ct),alert("Failed to fetch students. Please check the server or schoolId."),o([]),T([])}finally{et(Ct=>({...Ct,students:!1}))}};C.useEffect(()=>{je&&t&&n!==void 0&&Oe()},[je,t,n]);const De=async()=>{if(!je){ct(!0);return}et(Ct=>({...Ct,attendance:!0}));try{const Ct={schoolId:je,page:R,limit:Z};h&&(Ct.studentId=h),te&&(Ct.className=te),Fe&&(Ct.section=Fe),re&&(Ct.date=yU(re));const fr=await sr.get("https://vidyaastra.com/api/attendance",{params:Ct}),{data:$e,total:pt,totalPages:ft}=fr.data;u($e||[]),pe(pt||0),ge(ft||1),ut($e||[])}catch(Ct){console.error("Failed to fetch attendance:",Ct),alert("Failed to fetch attendance records. Please check if schoolId or studentId is correct.")}finally{et(Ct=>({...Ct,attendance:!1}))}},ut=Ct=>{const fr=new Map;Ct.forEach($e=>{const pt=$e.studentId?._id||$e.studentId,ft=g2($e.date),mt=`${pt}-${ft}`;fr.set(mt,{...$e,studentName:$e.studentId?.name||"Unknown",rollNumber:$e.studentId?.rollNumber||"N/A"})}),k(fr)};C.useEffect(()=>{je&&De()},[je,h,R,Z,te,Fe,re]);const _t=(Ct,fr)=>{const $e=g2(fr),pt=`${Ct}-${$e}`;return M.get(pt)||null},qt=()=>{const Ct=[];return E.forEach(fr=>{const $e=_t(fr._id,x);$e&&Ct.push({student:fr,existing:$e,newStatus:b[fr._id]||"absent"})}),Ct},Ft=async Ct=>{const fr=Ct.studentId;r(Ct?.className),s(Ct?.section),v(g2(Ct.date)),j({[fr._id]:Ct.status}),await Oe(),y(!0),alert(`Editing attendance for ${fr.name} on ${new Date(Ct.date).toLocaleDateString()}. Update the status and save.`)},gt=async Ct=>{if(!je){ct(!0);return}if(window.confirm("Are you sure you want to delete this attendance record?")){et(fr=>({...fr,deleting:{...fr.deleting,[Ct]:!0}}));try{await sr.delete(`https://vidyaastra.com/api/attendance/${Ct}`,{data:{schoolId:je}}),u(fr=>fr.filter($e=>$e._id!==Ct)),alert("Attendance record deleted successfully!"),De()}catch(fr){console.error("Failed to delete attendance record:",fr),alert("Failed to delete attendance record. Please try again.")}finally{et(fr=>({...fr,deleting:{...fr.deleting,[Ct]:!1}}))}}},Zt=Ct=>{m(Ct.target.value),Y(1)},$t=(Ct,fr)=>{j($e=>({...$e,[Ct]:fr}))},rr=Ct=>{const fr={};E.forEach($e=>{fr[$e._id]=Ct}),j(fr)},kr=async()=>{if(!je){ct(!0);return}const Ct=qt();if(Ct.length>0){L({duplicates:Ct,totalStudents:E.length,date:x}),z(!0);return}await dn(!0)},Qr=async Ct=>{z(!1),L(null),Ct==="update"?await dn(!0):Ct==="skip"&&await dn(!1,!0)},dn=async(Ct=!0,fr=!1)=>{et($e=>({...$e,dailySaving:!0}));try{const $e=fr?E.filter(mt=>!_t(mt._id,x)):E,pt=$e.map(mt=>{const Re={studentId:mt._id,status:b[mt._id]||"absent",date:yU(x),schoolId:je,className:t,section:n},Ee=_t(mt._id,x);return Ee&&Ct?sr.put(`https://vidyaastra.com/api/attendance/${Ee._id}`,Re):Ee?Promise.resolve():sr.post("https://vidyaastra.com/api/attendance",Re)});await Promise.all(pt.filter(mt=>mt)),alert(`Attendance ${Ct?"saved/updated":fr?"saved (skipped duplicates)":"saved"} successfully for ${$e.length} students!`),y(!1),Ne(t),be(n),De()}catch($e){console.error("Failed to save daily attendance:",$e),alert("Failed to save attendance. Please try again.")}finally{et($e=>({...$e,dailySaving:!1}))}},ja=async Ct=>{if(!(!je||!Ct)){fe(!0);try{const fr=await sr.get(`https://vidyaastra.com/api/attendance/student/${Ct}`,{params:{schoolId:je}});se(fr.data.data||[])}catch(fr){console.error("Failed to fetch student attendance history:",fr),alert("Failed to fetch student attendance history.")}finally{fe(!1)}}},rn=async Ct=>{ee(Ct),J(!0),await ja(Ct._id)},Vr=()=>{J(!1),ee(null),se([])},On=Ct=>{Ct>=1&&Ct<=ie&&Y(Ct)},Gn=Ct=>{Ne(Ct),Y(1),Le(Ct)},Dn=d.filter(Ct=>{if(!te&&!Fe&&!re&&!ot)return!0;const fr=!te||Ct?.className===te,$e=!Fe||Ct?.section===Fe,pt=!re||g2(Ct.date)===g2(re),ft=!ot||Ct?.studentId?.name?.toLowerCase().includes(ot.toLowerCase())||Ct?.studentId?.rollNumber?.toString().includes(ot)||Ct?.studentId?.studentId?.toLowerCase().includes(ot.toLowerCase());return fr&&$e&&pt&&ft});return He?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsxs("div",{className:"text-center p-8 bg-red-50 rounded-lg border border-red-200 max-w-md",children:[a.jsx(Lr,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-bold text-red-700 mb-2",children:"School ID Missing"}),a.jsx("p",{className:"text-red-600 mb-4",children:"School ID is missing from localStorage. Please enter it manually to continue."}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("input",{type:"text",value:_e,onChange:Ct=>ke(Ct.target.value),placeholder:"Enter School ID",className:"w-full px-3 py-2 border border-red-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:Ke,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",disabled:!_e.trim(),children:"Set School ID"}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Refresh"})]})]})]})}):a.jsxs("div",{className:"space-y-6 h-screen overflow-y-auto p-4 bg-gray-50",children:[Q&&O&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(ck,{className:"w-8 h-8 text-orange-500"}),a.jsx("h2",{className:"text-xl font-bold text-orange-700",children:"Duplicate Attendance Detected"})]}),a.jsxs("div",{className:"mb-4 p-4 bg-orange-50 rounded-lg border border-orange-200",children:[a.jsxs("p",{className:"text-orange-800 mb-2",children:[a.jsx("strong",{children:O.duplicates.length})," out of"," ",a.jsx("strong",{children:O.totalStudents})," students already have attendance marked for"," ",a.jsx("strong",{children:new Date(O.date).toLocaleDateString()}),"."]}),a.jsxs("p",{className:"text-orange-700 text-sm",children:[" ",a.jsx("strong",{children:"Warning:"})," These students already have attendance records for this date. To modify existing attendance, please use the ",a.jsx("strong",{children:"Edit button"})," in the main attendance table instead."]})]}),a.jsxs("div",{className:"mb-4 max-h-60 overflow-y-auto",children:[a.jsx("h3",{className:"font-medium mb-2",children:"Students with existing attendance:"}),a.jsx("div",{className:"space-y-2",children:O.duplicates.map(({student:Ct,existing:fr,newStatus:$e})=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded border-l-4 border-orange-400",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:Ct.name}),a.jsxs("span",{className:"text-gray-500 ml-2",children:["(",Ct.rollNumber,")"]})]}),a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Already marked: "}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${fr.status==="present"?"bg-green-100 text-green-800":fr.status==="absent"?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"}`,children:fr.status.toUpperCase()}),fr.status!==$e&&a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"text-gray-600 ml-2",children:[" Trying to change to:"," "]}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${$e==="present"?"bg-green-100 text-green-800":$e==="absent"?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"}`,children:$e.toUpperCase()})]}),fr.status===$e&&a.jsx("span",{className:"text-blue-600 ml-2 text-xs",children:"(Same status - no change needed)"})]})]},Ct._id))})]}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx("button",{onClick:()=>Qr("cancel"),className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-700 rounded-lg transition-colors",children:"Cancel & Go Back"}),a.jsxs("button",{onClick:()=>{z(!1),L(null),y(!1),Ne(t),be(n),setTimeout(()=>{const Ct=document.querySelector(".attendance-table");Ct&&Ct.scrollIntoView({behavior:"smooth"})},100)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[a.jsx(ed,{className:"w-4 h-4"}),"Go to Edit Records"]}),a.jsx("button",{onClick:()=>Qr("update"),className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg transition-colors",children:"Override Anyway"})]})]})}),A&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(Ra,{})," Daily Attendance Marking"]}),a.jsx("button",{onClick:()=>{y(!1),L(null),z(!1),Ne(t),be(n),j({})},className:"text-gray-500 hover:text-gray-700",children:a.jsx(Lr,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Date:"}),a.jsx("input",{type:"date",value:x,onChange:Ct=>v(Ct.target.value),className:"border px-3 py-2 rounded-lg w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Class:"}),a.jsxs("select",{value:t,onChange:Ct=>rt(Ct.target.value),className:"border px-3 py-2 rounded-lg w-full",disabled:st.classes,children:[a.jsx("option",{value:"",children:st.classes?"Loading classes...":"Select Class"}),[...new Set(P.map(Ct=>Ct.className))].map(Ct=>a.jsx("option",{value:Ct,children:Ct},Ct))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Section:"}),a.jsxs("select",{value:n,onChange:Ct=>s(Ct.target.value),className:"border px-3 py-2 rounded-lg w-full",disabled:st.classes||!t,children:[a.jsx("option",{value:"",children:"Select Section"}),Ze.map(Ct=>a.jsx("option",{value:Ct,children:Ct||"No Section"},Ct))]})]})]}),E.length>0?a.jsx("div",{className:"mb-4",children:(()=>{const Ct=qt();return Ct.length>0?a.jsxs("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg flex items-center gap-2",children:[a.jsx(ck,{className:"w-5 h-5 text-orange-500"}),a.jsxs("span",{className:"text-orange-800",children:[a.jsx("strong",{children:Ct.length})," students already have attendance for this date. You can update existing records below."]})]}):a.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg flex items-center gap-2",children:[a.jsx(Dl,{className:"w-5 h-5 text-green-500"}),a.jsxs("span",{className:"text-green-800",children:["Ready to mark or update attendance for"," ",E.length," students"]})]})})()}):a.jsx("div",{className:"mb-4 p-3 bg-gray-100 border border-gray-200 rounded-lg flex items-center gap-2",children:a.jsx("span",{className:"text-gray-600",children:st.students?"Loading students...":"No students found for the selected class and section"})}),a.jsxs("div",{className:"flex gap-3 mb-4",children:[a.jsxs("button",{onClick:()=>rr("present"),className:"px-4 py-2 rounded-full text-xs font-medium transition-colors bg-green-600 hover:bg-green-700 text-white flex items-center gap-2",disabled:st.students||E.length===0,children:[a.jsx(Dl,{})," Mark All Present"]}),a.jsxs("button",{onClick:()=>rr("absent"),className:"px-4 py-2 rounded-full text-xs font-medium transition-colors bg-red-600 hover:bg-red-700 text-white flex items-center gap-2",disabled:st.students||E.length===0,children:[a.jsx(Lr,{})," Mark All Absent"]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"font-medium mb-3",children:st.students?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(an,{className:"w-4 h-4 animate-spin mx-auto mb-2 text-gray-400"}),"Loading students..."]}):E.length===0?`No students found for Class ${t} ${n?`(${n})`:""}`:`Students in Class ${t} ${n?`(${n})`:""} (${E.length} students)`}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-60 overflow-y-auto",children:st.students?a.jsxs("div",{className:"col-span-2 text-center py-8",children:[a.jsx(an,{className:"w-8 h-8 animate-spin mx-auto mb-2 text-gray-400"}),a.jsx("p",{className:"text-gray-500",children:"Loading students..."})]}):E.length===0?a.jsx("div",{className:"col-span-2 text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:"No students found for the selected class and section."})}):E.map(Ct=>{const fr=_t(Ct._id,x);return a.jsxs("div",{className:`bg-white p-3 rounded-lg border flex items-center justify-between ${fr?"border-orange-300 bg-orange-50":"border-gray-200"}`,children:[a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium flex items-center gap-2",children:[Ct.name,fr&&a.jsxs("span",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded",children:["Already marked:"," ",fr.status.toUpperCase()]})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Roll: ",Ct.rollNumber]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>$t(Ct._id,"present"),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${b[Ct._id]==="present"?"bg-green-500 text-white":"bg-gray-200 text-gray-700 hover:bg-green-100"}`,children:"Present"}),a.jsx("button",{onClick:()=>$t(Ct._id,"absent"),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${b[Ct._id]==="absent"?"bg-red-500 text-white":"bg-gray-200 text-gray-700 hover:bg-red-100"}`,children:"Absent"}),a.jsx("button",{onClick:()=>$t(Ct._id,"late"),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${b[Ct._id]==="late"?"bg-orange-500 text-white":"bg-gray-200 text-gray-700 hover:bg-orange-100"}`,children:"Late"})]})]},Ct._id)})})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>{y(!1),L(null),z(!1),Ne(t),be(n),j({})},className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 rounded-lg transition-colors",disabled:st.dailySaving,children:"Cancel"}),a.jsxs("button",{onClick:kr,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2",disabled:st.dailySaving||E.length===0,children:[st.dailySaving&&a.jsx(an,{className:"w-4 h-4 animate-spin"}),st.dailySaving?"Saving...":`Save Attendance (${E.length} students)`]})]})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Attendance Management"}),a.jsx("p",{className:"text-gray-600",children:"Track and manage student attendance records"}),Me&&a.jsxs("div",{className:"mt-2 text-sm text-blue-600",children:[a.jsxs("p",{className:"font-medium",children:["Teacher: ",Me.name]}),a.jsx("p",{className:"mt-1",children:a.jsx("span",{className:"font-medium",children:"Class Teacher of and subjects"})}),a.jsx("ul",{className:"list-disc list-inside ml-4",children:Me?.classSubjects?.map((Ct,fr)=>a.jsxs("li",{children:[a.jsx("span",{className:"font-semibold",children:Ct.className}),":"," ",Ct?.subjects?.join(", ")]},fr))})]})]}),a.jsxs("button",{onClick:()=>{y(!0),j({})},className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg flex items-center gap-2 transition-colors shadow-md",disabled:st.students||st.classes,children:[(st.students||st.classes)&&a.jsx(an,{className:"w-4 h-4 animate-spin"}),a.jsx(Jn,{})," Daily Marking"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Va,{className:"text-gray-400"})}),a.jsx("input",{type:"text",value:ot,onChange:Ct=>Ge(Ct.target.value),placeholder:"Search students...",className:"pl-10 w-full border px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("select",{value:te,onChange:Ct=>Gn(Ct.target.value),className:"w-full border px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:st.classes,children:[a.jsx("option",{value:"",children:st.classes?"Loading classes...":"Filter by Class"}),[...new Set(P.map(Ct=>Ct.className))].map(Ct=>a.jsx("option",{value:Ct,children:Ct},Ct))]}),a.jsxs("select",{value:Fe,onChange:Ct=>{be(Ct.target.value),Y(1)},className:"w-full border px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:st.classes||!te,children:[a.jsx("option",{value:"",children:"Filter by Section"}),Ze.map(Ct=>a.jsx("option",{value:Ct,children:Ct||"No Section"},Ct))]}),a.jsx("input",{type:"date",value:re,onChange:Ct=>{Ce(Ct.target.value),Y(1)},className:"w-full border px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[a.jsxs("select",{value:h,onChange:Zt,className:"w-64 border px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:st.students,children:[a.jsx("option",{value:"",children:st.students?"Loading students...":"View Individual Student"}),i.map(Ct=>a.jsxs("option",{value:Ct._id,children:[Ct.name," - ",Ct.rollNumber]},Ct._id))]}),a.jsxs("button",{onClick:()=>{m(""),Ne(""),be(""),Ce(""),Ge(""),Y(1)},className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 rounded-lg transition-colors flex items-center gap-2",disabled:st.attendance,children:[a.jsx(Lr,{})," Clear Filters"]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden attendance-table",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border-b",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-700 flex items-center gap-2",children:[a.jsx(Fu,{className:"text-blue-500"}),"Attendance Records"]}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",Dn.length," of ",ye," records"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Roll No"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student Name"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student ID"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:st.attendance?a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"px-6 py-8 text-center text-gray-500",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(an,{className:"w-5 h-5 animate-spin"}),"Loading attendance records..."]})})}):Dn.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"px-6 py-8 text-center text-gray-500",children:"No attendance records found matching your criteria"})}):Dn.map(Ct=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:Ct?.studentId?.rollNumber||"N/A"}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:a.jsx("button",{onClick:()=>rn(Ct.studentId),className:"text-blue-600 hover:text-blue-800 hover:underline font-medium transition-colors",disabled:!Ct.studentId,children:Ct?.studentId?.name||"N/A"})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:Ct?.studentId?.studentId||"N/A"}),a.jsx("td",{className:"px-6 py-4 text-sm",children:a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:Ct?.className})}),a.jsx("td",{className:"px-6 py-4 text-sm",children:a.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs font-medium",children:Ct?.section})}),a.jsx("td",{className:"px-6 py-4 text-sm",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ct?.status==="present"?"bg-green-100 text-green-800":Ct?.status==="absent"?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"}`,children:Ct?.status?Ct.status.charAt(0).toUpperCase()+Ct.status.slice(1):"N/A"})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:Ct?.date?new Date(Ct.date).toLocaleDateString():"N/A"}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>rn(Ct.studentId),className:"text-gray-600 hover:text-blue-600 p-2 rounded-lg hover:bg-blue-50 transition-colors",title:"View student attendance history",disabled:!Ct.studentId,children:a.jsx(Hi,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Ft(Ct),className:"text-blue-600 hover:text-blue-800 p-2 rounded-lg hover:bg-blue-50 transition-colors",title:"Edit attendance",disabled:st.saving,children:a.jsx(ed,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>gt(Ct._id),className:"text-red-600 hover:text-red-800 p-2 rounded-lg hover:bg-red-50 transition-colors",title:"Delete attendance",disabled:st.deleting[Ct._id],children:st.deleting[Ct._id]?a.jsx(an,{className:"w-4 h-4 animate-spin"}):a.jsx(si,{className:"w-4 h-4"})})]})})]},Ct._id))})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center p-4 bg-gray-50 border-t",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",Dn.length," of ",ye," records"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>On(R-1),disabled:R===1,className:"p-2 rounded-lg bg-gray-200 hover:bg-gray-300 disabled:opacity-50 transition-colors",children:a.jsx(fc,{className:"w-4 h-4"})}),a.jsxs("span",{className:"text-sm",children:["Page ",R," of ",ie]}),a.jsx("button",{onClick:()=>On(R+1),disabled:R===ie,className:"p-2 rounded-lg bg-gray-200 hover:bg-gray-300 disabled:opacity-50 transition-colors",children:a.jsx(Al,{className:"w-4 h-4"})}),a.jsxs("select",{value:Z,onChange:Ct=>{le(parseInt(Ct.target.value)),Y(1)},className:"border px-2 py-1 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:10,children:"10 per page"}),a.jsx("option",{value:20,children:"20 per page"}),a.jsx("option",{value:50,children:"50 per page"})]})]})]})]}),V&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[ce?.name,"'s Attendance History"]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Roll Number: ",ce?.rollNumber," | Student ID:"," ",ce?.studentId]})]}),a.jsx("button",{onClick:Vr,className:"text-gray-400 hover:text-gray-600 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:a.jsx(Lr,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:he?a.jsxs("div",{className:"flex items-center justify-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-3 text-gray-600",children:"Loading attendance history..."})]}):de.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Attendance Records"}),a.jsx("p",{className:"text-gray-600",children:"No attendance records found for this student."})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Total Records:"," ",(ve?de.filter(fr=>{const $e=new Date(fr.date);return $e.getFullYear()+"-"+String($e.getMonth()+1).padStart(2,"0")===ve}):de).length]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter by Month:"}),a.jsx("input",{type:"month",value:ve,onChange:Ct=>B(Ct.target.value),className:"border border-gray-300 rounded-lg px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),ve&&a.jsx("button",{onClick:()=>B(""),className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"Clear"})]})]}),a.jsx("div",{className:"flex gap-4 text-sm",children:(()=>{const Ct=ve?de.filter(fr=>{const $e=new Date(fr.date);return $e.getFullYear()+"-"+String($e.getMonth()+1).padStart(2,"0")===ve}):de;return a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),"Present:"," ",Ct.filter(fr=>fr.status==="present").length]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),"Absent:"," ",Ct.filter(fr=>fr.status==="absent").length]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),"Late:"," ",Ct.filter(fr=>fr.status==="late").length]})]})})()})]}),a.jsx("div",{className:"bg-gray-50 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recorded By"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:de.filter(Ct=>{if(!ve)return!0;const fr=new Date(Ct.date);return fr.getFullYear()+"-"+String(fr.getMonth()+1).padStart(2,"0")===ve}).sort((Ct,fr)=>new Date(fr.date)-new Date(Ct.date)).map(Ct=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:Ct.date?new Date(Ct.date).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}):"N/A"}),a.jsx("td",{className:"px-4 py-3 text-sm",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ct.status==="present"?"bg-green-100 text-green-800":Ct.status==="absent"?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"}`,children:Ct.status?Ct.status.charAt(0).toUpperCase()+Ct.status.slice(1):"N/A"})}),a.jsx("td",{className:"px-4 py-3 text-sm",children:a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:Ct?.className})}),a.jsx("td",{className:"px-4 py-3 text-sm",children:a.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs font-medium",children:Ct?.section})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:Ct.recordedBy||"System"})]},Ct._id))})]})})]})})]})})]})},iv="https://vidyaastra.com/api",SW=({show:e,onClose:t,children:r})=>e?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:a.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 relative max-h-[90vh] overflow-y-auto",children:[a.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600",children:a.jsx(Lr,{className:"w-5 h-5"})}),r]})}):null,tTe=({show:e,onClose:t,data:r})=>e?a.jsxs(SW,{show:e,onClose:t,children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(qA,{className:"w-5 h-5 text-indigo-600"}),a.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Classwork Details"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Rs,{className:"w-4 h-4 text-gray-500"}),a.jsx("label",{className:"font-semibold text-gray-700 text-sm",children:"Topic"})]}),a.jsx("p",{className:"text-gray-900 font-medium",children:r?.topic||"N/A"})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(c3,{className:"w-4 h-4 text-gray-500"}),a.jsx("label",{className:"font-semibold text-gray-700 text-sm",children:"Subject"})]}),a.jsx("p",{className:"text-gray-900 font-medium",children:r?.subject||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Rs,{className:"w-4 h-4 text-gray-500"}),a.jsx("label",{className:"font-semibold text-gray-700 text-sm",children:"Class"})]}),a.jsx("p",{className:"text-gray-900 font-medium",children:r?.className||"N/A"})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(c3,{className:"w-4 h-4 text-gray-500"}),a.jsx("label",{className:"font-semibold text-gray-700 text-sm",children:"Section"})]}),a.jsx("p",{className:"text-gray-900 font-medium",children:r?.section||"N/A"})]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Jn,{className:"w-4 h-4 text-gray-500"}),a.jsx("label",{className:"font-semibold text-gray-700 text-sm",children:"Date"})]}),a.jsx("p",{className:"text-gray-900 font-medium",children:r?.date?new Date(r.date).toLocaleDateString():"N/A"})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(qA,{className:"w-4 h-4 text-gray-500"}),a.jsx("label",{className:"font-semibold text-gray-700 text-sm",children:"Description"})]}),a.jsx("p",{className:"text-gray-900",children:r?.description||"N/A"})]}),r?.attachments&&r.attachments.length>0&&a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(c3,{className:"w-4 h-4 text-blue-600"}),a.jsx("label",{className:"font-semibold text-blue-800 text-sm",children:"Attachments"})]}),a.jsx("div",{className:"space-y-2",children:r.attachments.map((n,s)=>a.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded-lg border border-gray-200",children:[a.jsx("span",{className:"text-sm text-gray-700 font-medium truncate flex-1 mr-2",children:n.name||n.filename}),n.url&&a.jsxs("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(xs,{className:"w-3 h-3 mr-1"}),"Download"]})]},s))})]})]})]}):null,rTe=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(!1),[s,i]=C.useState(!1),[o,l]=C.useState({}),[c,d]=C.useState({}),[u,h]=C.useState("add"),[m,A]=C.useState([]),[y,x]=C.useState(!1),[v,b]=C.useState(""),[j,E]=C.useState(null),[T,P]=C.useState(null),[U,M]=C.useState([]),[k,Q]=C.useState([]),[z,O]=C.useState(""),[L,V]=C.useState(""),[J,ce]=C.useState([]),[ee,de]=C.useState(1),[se,he]=C.useState(1),[fe,ve]=C.useState("All"),[B,R]=C.useState("All"),[Y,ie]=C.useState("All"),ge=10;C.useEffect(()=>{const Ge=localStorage.getItem("schoolId"),lt=localStorage.getItem("teacherId");Ge&&lt?(E(Ge),P(lt)):b("School ID or Teacher ID not found in local storage")},[]),C.useEffect(()=>{j&&T&&ye()},[j,T,ee,B]);const ye=async()=>{x(!0),b("");try{const lt=(await sr.get(`${iv}/teacher/${j}/${T}`)).data.data,Je=lt.classes||[],Me=lt.subjects||[];Q(Me);const Ke=((await sr.get(`${iv}/class?schoolId=${j}`)).data.data||[]).filter(gt=>Je.includes(`${gt.className} ${gt.section||""}`.trim())).map(gt=>({...gt,className:gt.className,section:gt.section||""}));M(Ke);const Le=[...new Set(Ke.map(gt=>gt.className))],rt=B==="All"?Le:[B];if(rt.length===0){b("No classes assigned to this teacher."),A([]),he(1),x(!1);return}const Oe=await sr.get(`${iv}/classwork/by-class-names`,{params:{schoolId:j,classNames:rt.join(","),page:ee,limit:ge}}),{classwork:De,pagination:ut}=Oe.data,_t=De.map(gt=>({...gt,className:gt.classId?.className||"Unknown",section:gt.classId?.section||"N/A"})),qt=new Set(Ke.map(gt=>`${gt.className} ${gt.section||""}`.trim())),Ft=_t.filter(gt=>qt.has(`${gt.className} ${gt.section}`.trim()));A(Ft),he(ut.totalPages)}catch(Ge){console.error("Failed to fetch initial data:",Ge),b(Ge.response?.data?.message||"Failed to load classwork data. Please try again.")}finally{x(!1)}},pe=Ge=>new Date(Ge).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}),Z=Ge=>({className:Ge?.className||"Unknown",section:Ge?.section||"N/A"}),le=C.useMemo(()=>B==="All"?[]:U.filter(Ge=>Ge.className===B).map(Ge=>Ge.section||"N/A").filter((Ge,lt,Je)=>Je.indexOf(Ge)===lt).sort(),[B,U]),te=C.useMemo(()=>m.filter(Ge=>{const lt=Ge.topic?.toLowerCase().includes(e.toLowerCase())||Ge.subject?.toLowerCase().includes(e.toLowerCase())||Ge.description?.toLowerCase().includes(e.toLowerCase()),Je=fe==="All"||Ge.subject===fe,Me=Y==="All"||Ge.section===Y;return lt&&Je&&Me}),[e,fe,Y,m]);C.useEffect(()=>{de(1)},[e,fe,B,Y]);const Ne=ee*ge,Fe=Ne-ge,be=te.slice(Fe,Ne),re=Ge=>{Ge>=1&&Ge<=se&&de(Ge)},Ce=()=>[...new Set(U.map(lt=>lt.className))].sort(),st=Ge=>U.filter(lt=>lt.className===Ge).map(lt=>lt.section||"N/A").filter((lt,Je,Me)=>Me.indexOf(lt)===Je).sort(),et=Ge=>{O(Ge);const lt=st(Ge);ce(lt);const Je=lt.length>0?lt[0]:"";V(Je);const Me=U.find(Te=>Te.className===Ge&&(Te.section||"N/A")===Je);l({...o,classId:Me?._id||"",section:Je})},He=Ge=>{V(Ge);const lt=U.find(Je=>Je.className===z&&(Je.section||"N/A")===Ge);l({...o,classId:lt?._id||"",section:Ge})},ct=()=>{h("add"),l({topic:"",subject:k.length>0?k[0]:"",description:"",date:new Date().toISOString().split("T")[0],attachments:[],classId:""}),O(""),V(""),ce([]),n(!0)},_e=Ge=>{h("edit");const lt=Z(Ge.classId);l({...Ge,date:Ge.date?Ge.date.split("T")[0]:new Date().toISOString().split("T")[0],attachments:Ge.attachments||[],classId:Ge.classId?._id||""}),O(lt.className);const Je=st(lt.className);ce(Je),V(lt.section),n(!0)},ke=Ge=>{d({...Ge,className:Ge.className,section:Ge.section}),i(!0)},Ze=async Ge=>{if(window.confirm("Are you sure you want to delete this classwork?"))try{await sr.delete(`${iv}/classwork/${Ge}`,{data:{schoolId:j}}),alert("Classwork deleted successfully!"),ye()}catch(lt){console.error("Failed to delete classwork:",lt),alert("Failed to delete classwork. Please try again.")}},Pe=async Ge=>{if(Ge.preventDefault(),!o.topic||!o.subject||!o.date||!o.classId){alert("Please fill in all required fields including selecting a class");return}const lt=new FormData;lt.append("topic",o.topic),lt.append("subject",o.subject),lt.append("description",o.description||""),lt.append("date",o.date),lt.append("schoolId",j),lt.append("classId",o.classId),lt.append("createdBy",T),o.newAttachments?.length&&o.newAttachments.forEach(Je=>{lt.append("attachments",Je)});try{let Je;u==="add"?(Je=await sr.post(`${iv}/classwork`,lt,{headers:{"Content-Type":"multipart/form-data"}}),alert("Classwork added successfully!")):(Je=await sr.put(`${iv}/classwork/${o._id}`,lt,{"Content-Type":"multipart/form-data"}),alert("Classwork updated successfully!")),n(!1),l({}),ye()}catch(Je){console.error("Submission failed:",Je),alert(`Failed to ${u==="add"?"add":"update"} classwork. Please try again.`)}},ot=Ge=>{const lt=Array.from(Ge.target.files);l({...o,newAttachments:lt})};return j?a.jsxs("div",{className:"min-h-screen bg-gray-50 h-screen overflow-y-scroll overflow-x-scroll",children:[a.jsxs("div",{className:"bg-indigo-600 text-white p-6 rounded-b-3xl shadow-lg flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Rs,{className:"w-6 h-6"}),a.jsx("h1",{className:"text-2xl font-bold",children:"Classwork Management"})]}),a.jsxs("button",{onClick:ct,className:"bg-white bg-opacity-20 px-4 py-2 rounded-xl hover:bg-opacity-30 flex items-center space-x-2 transition-colors",children:[a.jsx(Si,{className:"w-4 h-4"})," ",a.jsx("span",{children:"Add Classwork"})]})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",value:e,onChange:Ge=>t(Ge.target.value),placeholder:"Search by topic, subject, or description...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),a.jsxs("select",{value:B,onChange:Ge=>R(Ge.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[a.jsx("option",{value:"All",children:"All Classes"}),Ce().map(Ge=>a.jsx("option",{value:Ge,children:Ge},Ge))]}),a.jsxs("select",{value:Y,onChange:Ge=>ie(Ge.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[a.jsx("option",{value:"All",children:"All Sections"}),le.length>0?le.map(Ge=>a.jsx("option",{value:Ge,children:Ge},Ge)):a.jsx("option",{disabled:!0,children:"No sections available"})]}),a.jsxs("select",{value:fe,onChange:Ge=>ve(Ge.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[a.jsx("option",{value:"All",children:"All Subjects"}),k.map((Ge,lt)=>a.jsx("option",{value:Ge,children:Ge},lt))]})]}),v&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:v}),y?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading classwork..."})]}):a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Topic"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Attachments"}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:be.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"px-6 py-8 text-center text-gray-500",children:e||B!=="All"||fe!=="All"||Y!=="All"?"No classwork found matching your filters":"No classwork available"})}):be.map(Ge=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ge.topic})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:Ge.subject})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:Ge.className})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:Ge.section})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:pe(Ge.date)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",title:Ge.description,children:Ge.description||"No description"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:Ge.attachments&&Ge.attachments.length>0?a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[Ge.attachments.length," file",Ge.attachments.length!==1?"s":""]}):a.jsx("span",{className:"text-gray-400",children:"No files"})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>ke(Ge),className:"text-blue-600 hover:text-blue-900 p-1 rounded transition-colors",title:"View details",children:a.jsx(Hi,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>_e(Ge),className:"text-indigo-600 hover:text-indigo-900 p-1 rounded transition-colors",title:"Edit classwork",children:a.jsx(ed,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Ze(Ge._id),className:"text-red-600 hover:text-red-900 p-1 rounded transition-colors",title:"Delete classwork",children:a.jsx(si,{className:"w-4 h-4"})})]})})]},Ge._id))})]})}),se>1&&a.jsxs("div",{className:"flex justify-center items-center py-4 space-x-2",children:[a.jsx("button",{onClick:()=>re(ee-1),disabled:ee===1,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg disabled:opacity-50 hover:bg-gray-300 transition-colors",children:"Previous"}),Array.from({length:se},(Ge,lt)=>lt+1).map(Ge=>a.jsx("button",{onClick:()=>re(Ge),className:`px-4 py-2 rounded-lg transition-colors ${ee===Ge?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:Ge},Ge)),a.jsx("button",{onClick:()=>re(ee+1),disabled:ee===se,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg disabled:opacity-50 hover:bg-gray-300 transition-colors",children:"Next"})]})]})]}),a.jsxs(SW,{show:r,onClose:()=>n(!1),children:[a.jsxs("h2",{className:"text-lg font-bold mb-4",children:[u==="add"?"Add New":"Edit"," Classwork"]}),a.jsxs("form",{onSubmit:Pe,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Topic *"}),a.jsx("input",{type:"text",placeholder:"Enter topic",value:o?.topic||"",onChange:Ge=>l({...o,topic:Ge.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject *"}),a.jsxs("select",{value:o?.subject||"",onChange:Ge=>l({...o,subject:Ge.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0,children:[a.jsx("option",{value:"",children:"Select a subject"}),k.map((Ge,lt)=>a.jsx("option",{value:Ge,children:Ge},lt))]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the subject for this classwork"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class *"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Class Name"}),a.jsxs("select",{value:z,onChange:Ge=>et(Ge.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm",required:!0,children:[a.jsx("option",{value:"",children:"Select Class"}),Ce().map(Ge=>a.jsx("option",{value:Ge,children:Ge},Ge))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Section"}),a.jsxs("select",{value:L,onChange:Ge=>He(Ge.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm",disabled:!z,required:!0,children:[a.jsx("option",{value:"",children:"Select Section"}),J.map(Ge=>a.jsx("option",{value:Ge,children:Ge},Ge))]})]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select the class and section for this classwork"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date *"}),a.jsx("input",{type:"date",value:o?.date||"",onChange:Ge=>l({...o,date:Ge.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{placeholder:"Enter description",value:o?.description||"",onChange:Ge=>l({...o,description:Ge.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload Documents"}),a.jsx("input",{type:"file",multiple:!0,onChange:ot,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.txt,.xlsx,.xls,.ppt,.pptx"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supported formats: PDF, DOC, DOCX, JPG, JPEG, PNG, TXT, Excel, PowerPoint"}),o?.newAttachments&&o.newAttachments.length>0&&a.jsxs("div",{className:"mt-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Selected files:"}),a.jsx("div",{className:"mt-1 space-y-1",children:Array.from(o.newAttachments).map((Ge,lt)=>a.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded text-sm",children:[a.jsx("span",{className:"text-gray-600",children:Ge.name}),a.jsxs("span",{className:"text-gray-400",children:[(Ge.size/1024/1024).toFixed(2)," MB"]})]},lt))})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:u==="add"?"Add Classwork":"Update Classwork"})]})]})]}),a.jsx(tTe,{show:s,onClose:()=>i(!1),data:c})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center",children:[a.jsx(ga,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Missing Required Information"}),a.jsx("p",{className:"text-gray-600",children:"School ID is required to manage classwork."}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please ensure you are logged in and try refreshing the page."})]})})},nTe=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(!1),[s,i]=C.useState(!1),[o,l]=C.useState(!1),[c,d]=C.useState(null),[u,h]=C.useState("All"),[m,A]=C.useState("All"),[y,x]=C.useState("All"),[v,b]=C.useState("All"),[j,E]=C.useState(1),[T,P]=C.useState([]),[U,M]=C.useState([]),[k,Q]=C.useState([]),[z,O]=C.useState([]),[L,V]=C.useState(!1),[J,ce]=C.useState(""),[ee,de]=C.useState(null),[se,he]=C.useState({total:0,pages:0}),[fe,ve]=C.useState({pending:0,submitted:0}),[B,R]=C.useState({selectedClassId:"",selectedSection:"",selectedStudentIds:[],selectedStudents:[],subject:"",title:"",description:"",dueDate:"",priority:"low",status:"pending",schoolId:""}),[Y,ie]=C.useState([]),[ge,ye]=C.useState([]),pe="https://vidyaastra.com/api",Z=["low","medium","high"],le=10,te=C.useMemo(()=>[...new Set(k.map(Oe=>Oe.section).filter(Boolean))],[k]),Ne=C.useMemo(()=>{const Oe={};return k.forEach(De=>{Oe[De.className]||(Oe[De.className]=[]),Oe[De.className].push(De)}),Oe},[k]);C.useEffect(()=>{const Oe=localStorage.getItem("schoolId");Oe?(de(Oe),R(De=>({...De,schoolId:Oe}))):ce("School ID not found in local storage")},[]),C.useEffect(()=>{ee&&Fe()},[ee]);const Fe=async()=>{V(!0);try{await Promise.all([et(),He(),st()]),re(1,be())}catch(Oe){ce("Failed to load initial data"),console.error("Error fetching initial data:",Oe)}finally{V(!1)}},be=C.useCallback(()=>({status:m==="All"?"":m,subject:u==="All"?"":u,className:y==="All"?"":y,section:v==="All"?"":v,search:e.trim()||""}),[m,u,y,v,e]),re=C.useCallback(async(Oe=1,De)=>{if(ee){V(!0),ce("");try{const ut=new URLSearchParams({schoolId:ee,typeTE:"teacher",page:Oe.toString(),limit:le.toString(),...De.status&&{status:De.status},...De.subject&&{subject:De.subject},...De.className&&{className:De.className},...De.section&&{section:De.section},...De.search&&{search:De.search}}),_t=await sr.get(`${pe}/assignments?${ut}`);if(_t.data.success){const qt=_t.data.data.map(Ft=>{const gt=Ft.studentId||{},Zt=gt.classId||gt.classId||gt.classId?._id,$t=Ce(Zt);return console.log("Processing assignment:",$t,Zt,gt.classId),{...Ft,id:Ft._id,studentId:gt._id||"",studentName:gt.name||"Unknown",rollNo:gt.rollNumber||"",class:$t,priority:Ft.priority?Ft.priority.toUpperCase():"NORMAL",dueDate:Ft.dueDate?new Date(Ft.dueDate).toISOString().split("T")[0]:"",classId:Zt||""}});P(qt),he(_t.data.pagination||{total:0,pages:0}),ve(_t.data.counts||{pending:0,submitted:0})}}catch(ut){console.error("Error fetching assignments:",ut),ce("Failed to fetch assignments")}finally{V(!1)}}},[ee]);C.useEffect(()=>{E(1),re(1,be())},[u,m,y,v,e]),C.useEffect(()=>{re(j,be())},[j]);const Ce=C.useCallback(Oe=>{if(!Oe)return"N/A";const De=k.find(ut=>ut._id===Oe||ut._id===String(Oe)||String(ut._id)===String(Oe));return De?De.className+(De.section?` ${De.section}`:""):"N/A"},[k]);C.useEffect(()=>{if(B.selectedClassId){const Oe=k.filter(De=>De.className===B.selectedClassId);ye(Oe)}else ye(k)},[B.selectedClassId,k]);const st=async()=>{try{const Oe=await sr.get(`${pe}/subject/${ee}/subjects`);if(Oe.data.success){const De=Oe.data.data.map(ut=>ut.SubjectName);O(De)}else ce("Failed to fetch subjects: Invalid response"),O([])}catch(Oe){console.error("Error fetching subjects:",Oe),ce("Failed to fetch subjects"),O([])}},et=async()=>{try{const Oe=await sr.get(`${pe}/students?schoolId=${ee}`);M(Oe.data?.students||[])}catch(Oe){console.error("Error fetching students:",Oe),ce("Failed to fetch students")}},He=async()=>{try{const Oe=await sr.get(`${pe}/class?schoolId=${ee}`);if(Oe.data.success){const De=Oe.data.data.map(ut=>({_id:ut._id,className:ut.className,section:ut.section||""}));Q(De)}else ce("Failed to fetch classes: Invalid response")}catch(Oe){console.error("Error fetching classes:",Oe),ce("Failed to fetch classes")}};C.useEffect(()=>{if(B.selectedSection&&U.length>0){const Oe=U.filter(De=>De.classId?._id===B.selectedSection||De.classId===B.selectedSection||String(De.classId?._id)===String(B.selectedSection)||String(De.classId)===String(B.selectedSection));ie(Oe)}else ie([])},[B.selectedSection,U]);const ct=()=>{R({selectedClassId:"",selectedSection:"",selectedStudentIds:[],selectedStudents:[],subject:"",title:"",description:"",dueDate:"",priority:"low",status:"pending",schoolId:ee||""}),ie([]),ye(k),i(!1),l(!1),n(!0)},_e=Oe=>{const De=Oe.studentId||{},ut=De.classId?._id||De.classId,_t=k.find(qt=>qt._id===ut);R({selectedClassId:ut||"",selectedSection:_t?.section||"",selectedStudentIds:[Oe.studentId],selectedStudents:[{_id:Oe.studentId,name:Oe.studentName,rollNumber:Oe.rollNo}],subject:Oe.subject,title:Oe.title,description:Oe.description,dueDate:Oe.dueDate,priority:Oe.priority.toLowerCase(),status:Oe.status,schoolId:ee||""}),ye(_t?.section?k.filter(qt=>qt.section===_t.section):k),d(Oe),i(!0),l(!1),n(!0)},ke=Oe=>{const De=Oe.studentId||{},ut=De.classId?._id||De.classId,_t=k.find(qt=>qt._id===ut);R({selectedClassId:ut||"",selectedSection:_t?.section||"",selectedStudentIds:[Oe.studentId],selectedStudents:[{_id:Oe.studentId,name:Oe.studentName,rollNumber:Oe.rollNo}],subject:Oe.subject,title:Oe.title,description:Oe.description,dueDate:Oe.dueDate,priority:Oe.priority.toLowerCase(),status:Oe.status,schoolId:ee||""}),d(Oe),i(!1),l(!0),n(!0)},Ze=()=>{n(!1),d(null),i(!1),l(!1),ce(""),ie([]),ye(k)},Pe=Oe=>{const{name:De,value:ut}=Oe.target;if(De==="selectedSection")R({...B,selectedSection:ut,selectedStudentIds:[],selectedStudents:[],schoolId:ee||""});else if(De==="selectedClassId"){R({...B,selectedClassId:ut,selectedStudentIds:[],selectedStudents:[],schoolId:ee||""});const _t=ut?k.filter(qt=>qt.className===ut):k;ye(_t)}else R({...B,[De]:ut})},ot=(Oe,De)=>{R(De?{...B,selectedStudentIds:[...B.selectedStudentIds,Oe._id],selectedStudents:[...B.selectedStudents,Oe]}:{...B,selectedStudentIds:B.selectedStudentIds.filter(ut=>ut!==Oe._id),selectedStudents:B.selectedStudents.filter(ut=>ut._id!==Oe._id)})},Ge=Oe=>{R(Oe?{...B,selectedStudentIds:Y.map(De=>De._id),selectedStudents:Y}:{...B,selectedStudentIds:[],selectedStudents:[]})},lt=async()=>{if(!ee){ce("School ID is required");return}if(!s&&B.selectedStudentIds.length===0){ce("Please select at least one student");return}V(!0),ce("");try{const Oe={subject:B.subject,title:B.title,description:B.description,dueDate:B.dueDate,priority:B.priority,studentIds:B.selectedStudentIds,schoolId:B.schoolId};s?(await sr.put(`${pe}/assignments/${c._id}`,Oe)).data.success&&(re(j,be()),Ze()):(await sr.post(`${pe}/assignments`,Oe)).data.success&&(re(j,be()),Ze())}catch(Oe){console.error("Error saving assignment:",Oe),ce(Oe.response?.data?.message||"Failed to save assignment")}finally{V(!1)}},Je=Oe=>{if(!Oe)return"N/A";const De=k.find(ut=>ut._id===Oe);return De?De.className+(De.section?` ${De.section}`:""):"N/A"},Me=async Oe=>{if(!ee){ce("School ID is required");return}if(window.confirm("Are you sure you want to delete this homework?")){V(!0);try{const De=await sr.delete(`${pe}/assignments/${Oe._id}`,{data:{schoolId:ee}});De.data.success?re(j,be()):ce("Failed to delete assignment: "+De.data.message)}catch(De){console.error("Error deleting assignment:",De),ce(De.response?.data?.message||"Failed to delete assignment")}finally{V(!1)}}},Te=Oe=>{switch(Oe?.toUpperCase()){case"HIGH":return"bg-red-100 text-red-800";case"MEDIUM":return"bg-orange-100 text-orange-800";case"LOW":return"bg-green-100 text-green-800";case"A":return"bg-green-100 text-green-800";case"B+":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},je=Oe=>Oe==="submitted"?a.jsx(tu,{className:"w-4 h-4 text-green-600"}):a.jsx(es,{className:"w-4 h-4 text-orange-600"}),Ke=Oe=>Oe?new Date(Oe).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",Le=Oe=>{E(Oe)},rt=Array.from({length:se.pages},(Oe,De)=>De+1);return L&&T.length===0?a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"text-lg",children:"Loading homeworks..."})}):a.jsxs("div",{className:"space-y-6 h-screen overflow-y-scroll",children:[J&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:J}),a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Student HomeWork Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage homeworks with student details"})]}),a.jsxs("button",{onClick:ct,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",disabled:!ee,children:[a.jsx(Si,{className:"w-5 h-5 mr-2"}),"Add Homework"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search Homework, students...",value:e,onChange:Oe=>t(Oe.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("select",{value:y,onChange:Oe=>x(Oe.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"All",children:"All Classes"}),Object.keys(Ne).map(Oe=>a.jsx("option",{value:Oe,children:Oe},Oe))]}),a.jsxs("select",{value:v,onChange:Oe=>b(Oe.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"All",children:"All Sections"}),te.map(Oe=>a.jsx("option",{value:Oe,children:Oe},Oe))]}),a.jsxs("select",{value:u,onChange:Oe=>h(Oe.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"All",children:"All Subjects"}),z.map(Oe=>a.jsx("option",{value:Oe,children:Oe},Oe))]}),a.jsxs("select",{value:m,onChange:Oe=>A(Oe.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"All",children:"All Status"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"submitted",children:"Submitted"}),a.jsx("option",{value:"graded",children:"Graded"})]}),a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsxs("div",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs font-medium",children:["Pending (",fe.pending,")"]}),a.jsxs("div",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs font-medium",children:["Submitted (",fe.submitted,")"]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full min-w-max table-auto",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Student Info"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Roll No"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Class"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Subject"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Assignment"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Due Date"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority/Grade"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase w-32",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:T.map(Oe=>{console.log(Oe,"AASSSS");const De=Je(Oe?.classId);return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(no,{className:"w-5 h-5 text-gray-400 mr-2"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Oe.studentName}),a.jsx("div",{className:"text-xs text-gray-500",children:"Student"})]})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("span",{className:"text-sm font-mono text-gray-900 bg-gray-100 px-2 py-1 rounded",children:Oe.rollNo})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:De})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Rs,{className:"w-4 h-4 text-blue-600 mr-2"}),a.jsx("span",{className:"text-sm font-medium text-blue-600",children:Oe.subject})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"max-w-xs",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:Oe.title}),a.jsx("div",{className:"text-xs text-gray-500 mt-1 truncate",children:Oe.description})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Jn,{className:"w-4 h-4 text-gray-400 mr-2"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-900",children:Ke(Oe.dueDate)}),Oe.submittedDate&&a.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Submitted: ",Ke(Oe.submittedDate)]})]})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Te(Oe.priority)}`,children:Oe.status==="graded"&&Oe.grade?Oe.grade:Oe.priority})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center",children:[je(Oe.status),a.jsx("span",{className:`ml-2 text-sm font-medium capitalize ${Oe.status==="submitted"||Oe.status==="graded"?"text-green-600":"text-orange-600"}`,children:Oe.status})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>ke(Oe),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full transition-colors duration-200",title:"View","aria-label":"View assignment",children:a.jsx(Hi,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>_e(Oe),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full transition-colors duration-200",title:"Edit","aria-label":"Edit assignment",children:a.jsx(ed,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>Me(Oe),className:"p-2 text-red-600 hover:bg-red-100 rounded-full transition-colors duration-200",title:"Delete","aria-label":"Delete assignment",children:a.jsx(si,{className:"w-5 h-5"})})]})})]},Oe.id)})})]})}),T.length===0&&!L&&a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Ra,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No assignments found"})]}),se.pages>1&&a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-50 border-t border-gray-200 sm:px-6",children:[a.jsxs("div",{className:"text-sm text-gray-700",children:["Showing"," ",a.jsx("span",{className:"font-medium",children:(j-1)*le+1})," ","to"," ",a.jsx("span",{className:"font-medium",children:Math.min(j*le,se.total)})," ","of ",a.jsx("span",{className:"font-medium",children:se.total})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>Le(j-1),disabled:j===1,className:"px-3 py-2 border border-gray-300 text-sm rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:a.jsx(fc,{className:"w-4 h-4"})}),rt.map(Oe=>a.jsx("button",{onClick:()=>Le(Oe),className:`px-3 py-2 border text-sm rounded-md ${j===Oe?"border-blue-500 bg-blue-50 text-blue-600":"border-gray-300 hover:bg-gray-50"}`,children:Oe},Oe)),a.jsx("button",{onClick:()=>Le(j+1),disabled:j===se.pages,className:"px-3 py-2 border border-gray-300 text-sm rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:a.jsx(Al,{className:"w-4 h-4"})})]})]})]}),r&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:o?"View Assignment":s?"Edit Assignment":"Create New Assignment"}),a.jsx("button",{onClick:Ze,className:"text-gray-500 hover:text-gray-700",children:a.jsx(Lr,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[J&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:J}),!s&&!o&&a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-4 flex items-center",children:[a.jsx(Ra,{className:"w-5 h-5 mr-2"}),"Select Class & Students"]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Class First"}),a.jsxs("select",{name:"selectedClassId",value:B.selectedClassId,onChange:Pe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"",children:"Choose a class..."}),k.map((Oe,De)=>a.jsx("option",{value:Oe.className,children:Oe?.className},De))]})]}),B.selectedClassId&&a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select section"}),a.jsxs("select",{name:"selectedSection",value:B.selectedSection,onChange:Pe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,disabled:!B.selectedClassId,children:[a.jsx("option",{value:"",children:"Choose a section..."}),ge.map(Oe=>a.jsx("option",{value:Oe._id,children:Oe.section},Oe._id))]})]}),B.selectedClassId&&Y.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Select Students (",B.selectedStudentIds.length," selected)"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>Ge(!0),className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:"Select All"}),a.jsx("button",{type:"button",onClick:()=>Ge(!1),className:"text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"Clear All"})]})]}),a.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-lg",children:Y.map(Oe=>a.jsxs("div",{className:"flex items-center p-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:[a.jsx("input",{type:"checkbox",id:`student-${Oe._id}`,checked:B.selectedStudentIds.includes(Oe._id),onChange:De=>ot(Oe,De.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("label",{htmlFor:`student-${Oe._id}`,className:"ml-3 flex-1 cursor-pointer",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Oe.name}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Roll No: ",Oe.rollNumber]})]}),a.jsx(no,{className:"w-4 h-4 text-gray-400"})]})})]},Oe._id))})]}),B.selectedClassId&&Y.length===0&&a.jsx("div",{className:"text-center py-4 text-gray-500",children:"No students found in this class"})]}),(s||o)&&a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"Student Information"}),B.selectedStudents.map(Oe=>a.jsxs("div",{className:"flex items-center p-2 bg-white rounded border",children:[a.jsx(no,{className:"w-4 h-4 text-gray-400 mr-2"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Oe.name}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Roll No: ",Oe.rollNumber]})]})]},Oe._id))]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"Homework Details"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),a.jsxs("select",{name:"subject",value:B.subject,onChange:Pe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,disabled:o,children:[a.jsx("option",{value:"",children:"Select Subject"}),z.map(Oe=>a.jsx("option",{value:Oe,children:Oe},Oe))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignment Title"}),a.jsx("input",{type:"text",name:"title",value:B.title,onChange:Pe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,disabled:o})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{name:"description",value:B.description,onChange:Pe,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,disabled:o})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),a.jsx("input",{type:"date",name:"dueDate",value:B.dueDate,onChange:Pe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,disabled:o})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),a.jsx("select",{name:"priority",value:B.priority,onChange:Pe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,disabled:o,children:Z.map(Oe=>a.jsx("option",{value:Oe,children:Oe.toUpperCase()},Oe))})]})]})]})]}),!o&&a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:Ze,disabled:L,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),a.jsxs("button",{type:"button",onClick:lt,disabled:L||!ee||!s&&B.selectedStudentIds.length===0,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400 flex items-center justify-center space-x-2",children:[a.jsx(td,{className:"w-4 h-4"}),a.jsxs("span",{children:[L?"Saving...":s?"Update":"Create"," ","Assignment",!s&&B.selectedStudentIds.length>0&&` (${B.selectedStudentIds.length} students)`]})]})]}),o&&a.jsx("div",{className:"flex justify-end pt-4",children:a.jsx("button",{type:"button",onClick:Ze,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Close"})})]})]})})]})};function bU(e){return Ur({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9 4h2v5l-1-.75L9 9V4zm9 16H6V4h1v9l3-2.25L13 13V4h5v16z"},child:[]}]})(e)}const aTe=()=>{const[e,t]=C.useState(!1),r=Dd(),n=ru(),s=localStorage.getItem("schoolLogo")||"";console.log(s);const i=localStorage.getItem("schoolId"),o=localStorage.getItem("teacherId"),[l,c]=C.useState(),[d,u]=C.useState(null),h=[{id:"attendance",path:"/teacher/attendance",icon:r_,label:"Attendance",color:"text-emerald-600"},{id:"assignments",path:"/teacher/assignments",icon:Rs,label:"Home work",color:"text-orange-600"},{id:"classwork",path:"/teacher/classworks",icon:bU,label:"Classwork",color:"text-emerald-600"},{id:"submittedAssignments",path:"/teacher/submittedAssignments",icon:bU,label:"Submitted Assignments",color:"text-emerald-600"}],m=()=>{t(!e)},A=x=>x?x.split(" ").map(v=>v[0]).join("").toUpperCase():"TU";C.useEffect(()=>{(async()=>{try{const b=await(await fetch(`https://vidyaastra.com/api/schools/${i}`)).json();c(b.data.logoUrl)}catch(v){console.error("Error fetching albums:",v)}})()},[i]),C.useEffect(()=>{i&&o&&(async()=>{try{const b=await(await fetch(`https://vidyaastra.com/api/teacher/${i}/${o}`)).json();u(b.data)}catch(v){console.error("Error fetching teacher:",v)}})()},[i,o]);const y=()=>{localStorage.removeItem("teacherToken"),n("/login")};return console.log(d,"teacher"),a.jsxs("div",{className:`bg-white h-screen shadow-xl transition-all duration-700 ease-in-out ${e?"w-20":"w-72"} min-h-screen relative`,style:{margin:0,padding:0,marginLeft:0,paddingLeft:0,left:0,position:"relative"},children:[a.jsx("div",{className:"p-6 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:`flex items-center space-x-3 transition-all duration-700 ease-in-out ${e?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:a.jsx("img",{src:`${l}`,alt:"School Logo",className:"w-12 h-12 rounded-xl object-contain shadow-lg",style:{backgroundColor:"white"}})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"SchoolTeacher"}),a.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Management Panel"})]})]}),a.jsx("button",{onClick:m,className:"p-3 rounded-xl hover:bg-gray-100 active:bg-gray-200 transition-all duration-300 ease-in-out group transform hover:scale-110 active:scale-95 hover:rotate-3",children:a.jsxs("div",{className:"relative w-5 h-5",children:[a.jsx(a_,{className:`absolute w-5 h-5 text-gray-600 group-hover:text-gray-800 transition-all duration-500 ease-in-out transform ${e?"opacity-100 rotate-0 scale-100":"opacity-0 rotate-180 scale-75"}`}),a.jsx(Lr,{className:`absolute w-5 h-5 text-gray-600 group-hover:text-gray-800 transition-all duration-500 ease-in-out transform ${e?"opacity-0 rotate-180 scale-75":"opacity-100 rotate-0 scale-100"}`})]})})]})}),a.jsx("nav",{className:"p-4",children:a.jsx("ul",{className:"space-y-2",children:h.map(x=>{const v=x.icon,b=r.pathname===x.path||r.pathname==="/"&&x.path==="/dashboard";return a.jsx("li",{children:a.jsxs(cl,{to:x.path,className:`w-full flex items-center space-x-3 p-3 rounded-xl transition-all duration-300 ease-in-out group ${b?"bg-gradient-to-r from-purple-500 to-blue-500 text-white shadow-lg transform scale-105":"hover:bg-gray-50 text-gray-700 hover:shadow-md hover:scale-102"}`,children:[a.jsx(v,{className:`w-5 h-5 flex-shrink-0 ${b?"text-white":`${x.color} group-hover:scale-110`} transition-all duration-300 ease-in-out`}),a.jsx("span",{className:`font-medium transition-all duration-700 ease-in-out ${b?"text-white":"text-gray-700 group-hover:text-gray-900"} ${e?"opacity-0 w-0 overflow-hidden":"opacity-100 w-auto"}`,children:x.label}),b&&!e&&a.jsx("div",{className:"ml-auto w-2 h-2 bg-white rounded-full animate-pulse flex-shrink-0"})]})},x.id)})})}),a.jsx("div",{className:`absolute bottom-6 left-4 right-4 transition-all duration-700 ease-in-out ${e?"opacity-0 scale-95 pointer-events-none":"opacity-100 scale-100"}`,children:a.jsx("div",{className:"bg-gradient-to-br from-purple-500 via-blue-500 to-indigo-600 rounded-xl p-4 text-white shadow-lg",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[d?.profilePic?a.jsx("img",{src:`${d.profilePic}`,alt:d.name,className:"w-12 h-12 rounded-xl object-cover shadow-lg"}):a.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:a.jsx("span",{className:"text-sm font-bold",children:A(d?.name||"Teacher User")})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold text-sm",children:d?.name||"Teacher User"}),a.jsx("p",{className:"text-xs opacity-80",children:d?.email?.slice(0,10)||"teacher@school.com"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-all duration-200 ease-in-out",children:a.jsx(og,{className:"w-4 h-4"})}),a.jsx("button",{onClick:y,className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-all duration-200 ease-in-out",title:"Logout",children:a.jsx(nb,{className:"w-4 h-4"})})]})]})})}),a.jsx("div",{className:`absolute bottom-6 left-1/2 transform -translate-x-1/2 transition-all duration-700 ease-in-out ${e?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[d?.profilePicture?a.jsx("img",{src:`${d.profilePicture}`,alt:d.name,className:"w-12 h-12 rounded-xl object-cover shadow-lg hover:scale-105 transition-transform duration-200"}):a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-blue-500 rounded-xl flex items-center justify-center shadow-lg hover:scale-105 transition-transform duration-200",children:a.jsx("span",{className:"text-white font-bold text-sm",children:A(d?.name||"TU")})}),a.jsx("button",{onClick:y,className:"w-12 h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center shadow-lg hover:scale-105 transition-transform duration-200",title:"Logout",children:a.jsx(nb,{className:"w-5 h-5 text-white"})})]})})]})},IF=C.createContext({});function kF(e){const t=C.useRef(null);return t.current===null&&(t.current=e()),t.current}const PF=typeof window<"u",CW=PF?C.useLayoutEffect:C.useEffect,uS=C.createContext(null);function LF(e,t){e.indexOf(t)===-1&&e.push(t)}function OF(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const rp=(e,t,r)=>r>t?t:r<e?e:r;let DF=()=>{};const np={},EW=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function BW(e){return typeof e=="object"&&e!==null}const TW=e=>/^0[^.\s]+$/u.test(e);function MF(e){let t;return()=>(t===void 0&&(t=e()),t)}const lA=e=>e,sTe=(e,t)=>r=>t(e(r)),yw=(...e)=>e.reduce(sTe),Fb=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class UF{constructor(){this.subscriptions=[]}add(t){return LF(this.subscriptions,t),()=>OF(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zm=e=>e*1e3,Vm=e=>e/1e3;function _W(e,t){return t?e*(1e3/t):0}const FW=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,iTe=1e-7,oTe=12;function lTe(e,t,r,n,s){let i,o,l=0;do o=t+(r-t)/2,i=FW(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>iTe&&++l<oTe);return o}function bw(e,t,r,n){if(e===t&&r===n)return lA;const s=i=>lTe(i,0,1,e,r);return i=>i===0||i===1?i:FW(s(i),t,n)}const IW=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,kW=e=>t=>1-e(1-t),PW=bw(.33,1.53,.69,.99),RF=kW(PW),LW=IW(RF),OW=e=>(e*=2)<1?.5*RF(e):.5*(2-Math.pow(2,-10*(e-1))),QF=e=>1-Math.sin(Math.acos(e)),DW=kW(QF),MW=IW(QF),cTe=bw(.42,0,1,1),uTe=bw(0,0,.58,1),UW=bw(.42,0,.58,1),dTe=e=>Array.isArray(e)&&typeof e[0]!="number",RW=e=>Array.isArray(e)&&typeof e[0]=="number",fTe={linear:lA,easeIn:cTe,easeInOut:UW,easeOut:uTe,circIn:QF,circInOut:MW,circOut:DW,backIn:RF,backInOut:LW,backOut:PW,anticipate:OW},hTe=e=>typeof e=="string",wU=e=>{if(RW(e)){DF(e.length===4);const[t,r,n,s]=e;return bw(t,r,n,s)}else if(hTe(e))return fTe[e];return e},Y4=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ATe(e,t){let r=new Set,n=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(d.schedule(u),e()),u(l)}const d={schedule:(u,h=!1,m=!1)=>{const y=m&&s?r:n;return h&&o.add(u),y.has(u)||y.add(u),u},cancel:u=>{n.delete(u),o.delete(u)},process:u=>{if(l=u,s){i=!0;return}s=!0,[r,n]=[n,r],r.forEach(c),r.clear(),s=!1,i&&(i=!1,d.process(u))}};return d}const mTe=40;function QW(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Y4.reduce((E,T)=>(E[T]=ATe(i),E),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:m,render:A,postRender:y}=o,x=()=>{const E=np.useManualTiming?s.timestamp:performance.now();r=!1,np.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(E-s.timestamp,mTe),1)),s.timestamp=E,s.isProcessing=!0,l.process(s),c.process(s),d.process(s),u.process(s),h.process(s),m.process(s),A.process(s),y.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(x))},v=()=>{r=!0,n=!0,s.isProcessing||e(x)};return{schedule:Y4.reduce((E,T)=>{const P=o[T];return E[T]=(U,M=!1,k=!1)=>(r||v(),P.schedule(U,M,k)),E},{}),cancel:E=>{for(let T=0;T<Y4.length;T++)o[Y4[T]].cancel(E)},state:s,steps:o}}const{schedule:el,cancel:jg,state:Gu,steps:J6}=QW(typeof requestAnimationFrame<"u"?requestAnimationFrame:lA,!0);let b5;function pTe(){b5=void 0}const kf={now:()=>(b5===void 0&&kf.set(Gu.isProcessing||np.useManualTiming?Gu.timestamp:performance.now()),b5),set:e=>{b5=e,queueMicrotask(pTe)}},HW=e=>t=>typeof t=="string"&&t.startsWith(e),HF=HW("--"),gTe=HW("var(--"),$F=e=>gTe(e)?xTe.test(e.split("/*")[0].trim()):!1,xTe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Cy={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ib={...Cy,transform:e=>rp(0,1,e)},X4={...Cy,default:1},q2=e=>Math.round(e*1e5)/1e5,zF=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vTe(e){return e==null}const yTe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,VF=(e,t)=>r=>!!(typeof r=="string"&&yTe.test(r)&&r.startsWith(e)||t&&!vTe(r)&&Object.prototype.hasOwnProperty.call(r,t)),$W=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,o,l]=n.match(zF);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},bTe=e=>rp(0,255,e),Z6={...Cy,transform:e=>Math.round(bTe(e))},Ex={test:VF("rgb","red"),parse:$W("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Z6.transform(e)+", "+Z6.transform(t)+", "+Z6.transform(r)+", "+q2(Ib.transform(n))+")"};function wTe(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const iT={test:VF("#"),parse:wTe,transform:Ex.transform},ww=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Wp=ww("deg"),Km=ww("%"),Na=ww("px"),NTe=ww("vh"),jTe=ww("vw"),NU={...Km,parse:e=>Km.parse(e)/100,transform:e=>Km.transform(e*100)},xv={test:VF("hsl","hue"),parse:$W("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Km.transform(q2(t))+", "+Km.transform(q2(r))+", "+q2(Ib.transform(n))+")"},Pc={test:e=>Ex.test(e)||iT.test(e)||xv.test(e),parse:e=>Ex.test(e)?Ex.parse(e):xv.test(e)?xv.parse(e):iT.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ex.transform(e):xv.transform(e),getAnimatableNone:e=>{const t=Pc.parse(e);return t.alpha=0,Pc.transform(t)}},STe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function CTe(e){return isNaN(e)&&typeof e=="string"&&(e.match(zF)?.length||0)+(e.match(STe)?.length||0)>0}const zW="number",VW="color",ETe="var",BTe="var(",jU="${}",TTe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function kb(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(TTe,c=>(Pc.test(c)?(n.color.push(i),s.push(VW),r.push(Pc.parse(c))):c.startsWith(BTe)?(n.var.push(i),s.push(ETe),r.push(c)):(n.number.push(i),s.push(zW),r.push(parseFloat(c))),++i,jU)).split(jU);return{values:r,split:l,indexes:n,types:s}}function KW(e){return kb(e).values}function qW(e){const{split:t,types:r}=kb(e),n=t.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],s[o]!==void 0){const l=r[o];l===zW?i+=q2(s[o]):l===VW?i+=Pc.transform(s[o]):i+=s[o]}return i}}const _Te=e=>typeof e=="number"?0:Pc.test(e)?Pc.getAnimatableNone(e):e;function FTe(e){const t=KW(e);return qW(e)(t.map(_Te))}const Sg={test:CTe,parse:KW,createTransformer:qW,getAnimatableNone:FTe};function eE(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function ITe({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=eE(c,l,e+1/3),i=eE(c,l,e),o=eE(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function $N(e,t){return r=>r>0?t:e}const dl=(e,t,r)=>e+(t-e)*r,tE=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},kTe=[iT,Ex,xv],PTe=e=>kTe.find(t=>t.test(e));function SU(e){const t=PTe(e);if(!t)return!1;let r=t.parse(e);return t===xv&&(r=ITe(r)),r}const CU=(e,t)=>{const r=SU(e),n=SU(t);if(!r||!n)return $N(e,t);const s={...r};return i=>(s.red=tE(r.red,n.red,i),s.green=tE(r.green,n.green,i),s.blue=tE(r.blue,n.blue,i),s.alpha=dl(r.alpha,n.alpha,i),Ex.transform(s))},oT=new Set(["none","hidden"]);function LTe(e,t){return oT.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function OTe(e,t){return r=>dl(e,t,r)}function KF(e){return typeof e=="number"?OTe:typeof e=="string"?$F(e)?$N:Pc.test(e)?CU:UTe:Array.isArray(e)?GW:typeof e=="object"?Pc.test(e)?CU:DTe:$N}function GW(e,t){const r=[...e],n=r.length,s=e.map((i,o)=>KF(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}}function DTe(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=KF(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function MTe(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][n[i]],l=e.values[o]??0;r[s]=l,n[i]++}return r}const UTe=(e,t)=>{const r=Sg.createTransformer(t),n=kb(e),s=kb(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?oT.has(e)&&!s.values.length||oT.has(t)&&!n.values.length?LTe(e,t):yw(GW(MTe(n,s),s.values),r):$N(e,t)};function WW(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?dl(e,t,r):KF(e)(e,t)}const RTe=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>el.update(t,r),stop:()=>jg(t),now:()=>Gu.isProcessing?Gu.timestamp:kf.now()}},YW=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},zN=2e4;function qF(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<zN;)t+=r,n=e.next(t);return t>=zN?1/0:t}function QTe(e,t=100,r){const n=r({...e,keyframes:[0,t]}),s=Math.min(qF(n),zN);return{type:"keyframes",ease:i=>n.next(s*i).value/t,duration:Vm(s)}}const HTe=5;function XW(e,t,r){const n=Math.max(t-HTe,0);return _W(r-e(n),t-n)}const Pl={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rE=.001;function $Te({duration:e=Pl.duration,bounce:t=Pl.bounce,velocity:r=Pl.velocity,mass:n=Pl.mass}){let s,i,o=1-t;o=rp(Pl.minDamping,Pl.maxDamping,o),e=rp(Pl.minDuration,Pl.maxDuration,Vm(e)),o<1?(s=d=>{const u=d*o,h=u*e,m=u-r,A=lT(d,o),y=Math.exp(-h);return rE-m/A*y},i=d=>{const h=d*o*e,m=h*r+r,A=Math.pow(o,2)*Math.pow(d,2)*e,y=Math.exp(-h),x=lT(Math.pow(d,2),o);return(-s(d)+rE>0?-1:1)*((m-A)*y)/x}):(s=d=>{const u=Math.exp(-d*e),h=(d-r)*e+1;return-rE+u*h},i=d=>{const u=Math.exp(-d*e),h=(r-d)*(e*e);return u*h});const l=5/e,c=VTe(s,i,l);if(e=zm(e),isNaN(c))return{stiffness:Pl.stiffness,damping:Pl.damping,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const zTe=12;function VTe(e,t,r){let n=r;for(let s=1;s<zTe;s++)n=n-e(n)/t(n);return n}function lT(e,t){return e*Math.sqrt(1-t*t)}const KTe=["duration","bounce"],qTe=["stiffness","damping","mass"];function EU(e,t){return t.some(r=>e[r]!==void 0)}function GTe(e){let t={velocity:Pl.velocity,stiffness:Pl.stiffness,damping:Pl.damping,mass:Pl.mass,isResolvedFromDuration:!1,...e};if(!EU(e,qTe)&&EU(e,KTe))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*rp(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Pl.mass,stiffness:s,damping:i}}else{const r=$Te(e);t={...t,...r,mass:Pl.mass},t.isResolvedFromDuration=!0}return t}function VN(e=Pl.visualDuration,t=Pl.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:h,velocity:m,isResolvedFromDuration:A}=GTe({...r,velocity:-Vm(r.velocity||0)}),y=m||0,x=d/(2*Math.sqrt(c*u)),v=o-i,b=Vm(Math.sqrt(c/u)),j=Math.abs(v)<5;n||(n=j?Pl.restSpeed.granular:Pl.restSpeed.default),s||(s=j?Pl.restDelta.granular:Pl.restDelta.default);let E;if(x<1){const P=lT(b,x);E=U=>{const M=Math.exp(-x*b*U);return o-M*((y+x*b*v)/P*Math.sin(P*U)+v*Math.cos(P*U))}}else if(x===1)E=P=>o-Math.exp(-b*P)*(v+(y+b*v)*P);else{const P=b*Math.sqrt(x*x-1);E=U=>{const M=Math.exp(-x*b*U),k=Math.min(P*U,300);return o-M*((y+x*b*v)*Math.sinh(k)+P*v*Math.cosh(k))/P}}const T={calculatedDuration:A&&h||null,next:P=>{const U=E(P);if(A)l.done=P>=h;else{let M=P===0?y:0;x<1&&(M=P===0?zm(y):XW(E,P,U));const k=Math.abs(M)<=n,Q=Math.abs(o-U)<=s;l.done=k&&Q}return l.value=l.done?o:U,l},toString:()=>{const P=Math.min(qF(T),zN),U=YW(M=>T.next(P*M).value,P,30);return P+"ms "+U},toTransition:()=>{}};return T}VN.applyToOptions=e=>{const t=QTe(e,100,VN);return e.ease=t.ease,e.duration=zm(t.duration),e.type="keyframes",e};function cT({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],m={done:!1,value:h},A=k=>l!==void 0&&k<l||c!==void 0&&k>c,y=k=>l===void 0?c:c===void 0||Math.abs(l-k)<Math.abs(c-k)?l:c;let x=r*t;const v=h+x,b=o===void 0?v:o(v);b!==v&&(x=b-h);const j=k=>-x*Math.exp(-k/n),E=k=>b+j(k),T=k=>{const Q=j(k),z=E(k);m.done=Math.abs(Q)<=d,m.value=m.done?b:z};let P,U;const M=k=>{A(m.value)&&(P=k,U=VN({keyframes:[m.value,y(m.value)],velocity:XW(E,k,m.value),damping:s,stiffness:i,restDelta:d,restSpeed:u}))};return M(0),{calculatedDuration:null,next:k=>{let Q=!1;return!U&&P===void 0&&(Q=!0,T(k),M(k)),P!==void 0&&k>=P?U.next(k-P):(!Q&&T(k),m)}}}function WTe(e,t,r){const n=[],s=r||np.mix||WW,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||lA:t;l=yw(c,l)}n.push(l)}return n}function YTe(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(DF(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=WTe(t,n,s),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const m=Fb(e[h],e[h+1],u);return l[h](m)};return r?u=>d(rp(e[0],e[i-1],u)):d}function XTe(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Fb(0,t,n);e.push(dl(r,1,s))}}function JTe(e){const t=[0];return XTe(t,e.length-1),t}function ZTe(e,t){return e.map(r=>r*t)}function e_e(e,t){return e.map(()=>t||UW).splice(0,e.length-1)}function G2({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=dTe(n)?n.map(wU):wU(n),i={done:!1,value:t[0]},o=ZTe(r&&r.length===t.length?r:JTe(t),e),l=YTe(o,t,{ease:Array.isArray(s)?s:e_e(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const t_e=e=>e!==null;function GF(e,{repeat:t,repeatType:r="loop"},n,s=1){const i=e.filter(t_e),l=s<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const r_e={decay:cT,inertia:cT,tween:G2,keyframes:G2,spring:VN};function JW(e){typeof e.type=="string"&&(e.type=r_e[e.type])}class WF{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const n_e=e=>e/100;class YF extends WF{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==kf.now()&&this.tick(kf.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;JW(t);const{type:r=G2,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=r||G2;c!==G2&&typeof l[0]!="number"&&(this.mixKeyframes=yw(n_e,WW(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=qF(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=d}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:m,repeatDelay:A,type:y,onUpdate:x,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const b=this.currentTime-d*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?b<0:b>s;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let E=this.currentTime,T=n;if(h){const k=Math.min(this.currentTime,s)/l;let Q=Math.floor(k),z=k%1;!z&&k>=1&&(z=1),z===1&&Q--,Q=Math.min(Q,h+1),!!(Q%2)&&(m==="reverse"?(z=1-z,A&&(z-=A/l)):m==="mirror"&&(T=o)),E=rp(0,1,z)*l}const P=j?{done:!1,value:u[0]}:T.next(E);i&&(P.value=i(P.value));let{done:U}=P;!j&&c!==null&&(U=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return M&&y!==cT&&(P.value=GF(u,this.options,v,this.speed)),x&&x(P.value),M&&this.finish(),P}then(t,r){return this.finished.then(t,r)}get duration(){return Vm(this.calculatedDuration)}get time(){return Vm(this.currentTime)}set time(t){t=zm(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(kf.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Vm(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=RTe,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(kf.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function a_e(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Bx=e=>e*180/Math.PI,uT=e=>{const t=Bx(Math.atan2(e[1],e[0]));return dT(t)},s_e={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:uT,rotateZ:uT,skewX:e=>Bx(Math.atan(e[1])),skewY:e=>Bx(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},dT=e=>(e=e%360,e<0&&(e+=360),e),BU=uT,TU=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),_U=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),i_e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:TU,scaleY:_U,scale:e=>(TU(e)+_U(e))/2,rotateX:e=>dT(Bx(Math.atan2(e[6],e[5]))),rotateY:e=>dT(Bx(Math.atan2(-e[2],e[0]))),rotateZ:BU,rotate:BU,skewX:e=>Bx(Math.atan(e[4])),skewY:e=>Bx(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function fT(e){return e.includes("scale")?1:0}function hT(e,t){if(!e||e==="none")return fT(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=i_e,s=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=s_e,s=l}if(!s)return fT(t);const i=n[t],o=s[1].split(",").map(l_e);return typeof i=="function"?i(o):o[i]}const o_e=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return hT(r,t)};function l_e(e){return parseFloat(e.trim())}const Ey=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],By=new Set(Ey),FU=e=>e===Cy||e===Na,c_e=new Set(["x","y","z"]),u_e=Ey.filter(e=>!c_e.has(e));function d_e(e){const t=[];return u_e.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Hx={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>hT(t,"x"),y:(e,{transform:t})=>hT(t,"y")};Hx.translateX=Hx.x;Hx.translateY=Hx.y;const $x=new Set;let AT=!1,mT=!1,pT=!1;function ZW(){if(mT){const e=Array.from($x).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=d_e(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,o])=>{n.getValue(i)?.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}mT=!1,AT=!1,$x.forEach(e=>e.complete(pT)),$x.clear()}function eY(){$x.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(mT=!0)})}function f_e(){pT=!0,eY(),ZW(),pT=!1}class XF{constructor(t,r,n,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?($x.add(this),AT||(AT=!0,el.read(eY),el.resolveKeyframes(ZW))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;if(t[0]===null){const i=s?.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}a_e(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),$x.delete(this)}cancel(){this.state==="scheduled"&&($x.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const h_e=e=>e.startsWith("--");function A_e(e,t,r){h_e(t)?e.style.setProperty(t,r):e.style[t]=r}const m_e=MF(()=>window.ScrollTimeline!==void 0),p_e={};function g_e(e,t){const r=MF(e);return()=>p_e[t]??r()}const tY=g_e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),j2=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,IU={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:j2([0,.65,.55,1]),circOut:j2([.55,0,1,.45]),backIn:j2([.31,.01,.66,-.59]),backOut:j2([.33,1.53,.69,.99])};function rY(e,t){if(e)return typeof e=="function"?tY()?YW(e,t):"ease-out":RW(e)?j2(e):Array.isArray(e)?e.map(r=>rY(r,t)||IU.easeOut):IU[e]}function x_e(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[t]:r};c&&(u.offset=c);const h=rY(l,s);Array.isArray(h)&&(u.easing=h);const m={delay:n,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),e.animate(u,m)}function nY(e){return typeof e=="function"&&"applyToOptions"in e}function v_e({type:e,...t}){return nY(e)&&tY()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class y_e extends WF{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,DF(typeof t.type!="string");const d=v_e(t);this.animation=x_e(r,n,s,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=GF(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):A_e(r,n,u),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Vm(Number(t))}get time(){return Vm(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=zm(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&m_e()?(this.animation.timeline=t,lA):r(this)}}const aY={anticipate:OW,backInOut:LW,circInOut:MW};function b_e(e){return e in aY}function w_e(e){typeof e.ease=="string"&&b_e(e.ease)&&(e.ease=aY[e.ease])}const kU=10;class N_e extends y_e{constructor(t){w_e(t),JW(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:s,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new YF({...o,autoplay:!1}),c=zm(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-kU).value,l.sample(c).value,kU),l.stop()}}const PU=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Sg.test(e)||e==="0")&&!e.startsWith("url("));function j_e(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function S_e(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=PU(s,t),l=PU(i,t);return!o||!l?!1:j_e(e)||(r==="spring"||nY(r))&&n}function gT(e){e.duration=0,e.type}const C_e=new Set(["opacity","clipPath","filter","transform"]),E_e=MF(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function B_e(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:s,damping:i,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return E_e()&&r&&C_e.has(r)&&(r!=="transform"||!d)&&!c&&!n&&s!=="mirror"&&i!==0&&o!=="inertia"}const T_e=40;class __e extends WF{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=kf.now();const m={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...h},A=u?.KeyframeResolver||XF;this.keyframeResolver=new A(l,(y,x,v)=>this.onKeyframesResolved(y,x,m,!v),c,d,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,n,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=n;this.resolvedAt=kf.now(),S_e(t,i,o,l)||((np.instantAnimations||!c)&&u?.(GF(t,n,r)),t[0]=t[t.length-1],gT(n),n.repeat=0);const m={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>T_e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},A=!d&&B_e(m)?new N_e({...m,element:m.motionValue.owner.current}):new YF(m);A.finished.then(()=>this.notifyFinished()).catch(lA),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),f_e()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const F_e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function I_e(e){const t=F_e.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function sY(e,t,r=1){const[n,s]=I_e(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return EW(o)?parseFloat(o):o}return $F(s)?sY(s,t,r+1):s}function JF(e,t){return e?.[t]??e?.default??e}const iY=new Set(["width","height","top","left","right","bottom",...Ey]),k_e={test:e=>e==="auto",parse:e=>e},oY=e=>t=>t.test(e),lY=[Cy,Na,Km,Wp,jTe,NTe,k_e],LU=e=>lY.find(oY(e));function P_e(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||TW(e):!0}const L_e=new Set(["brightness","contrast","saturate","opacity"]);function O_e(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(zF)||[];if(!n)return e;const s=r.replace(n,"");let i=L_e.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const D_e=/\b([a-z-]*)\(.*?\)/gu,xT={...Sg,getAnimatableNone:e=>{const t=e.match(D_e);return t?t.map(O_e).join(" "):e}},OU={...Cy,transform:Math.round},M_e={rotate:Wp,rotateX:Wp,rotateY:Wp,rotateZ:Wp,scale:X4,scaleX:X4,scaleY:X4,scaleZ:X4,skew:Wp,skewX:Wp,skewY:Wp,distance:Na,translateX:Na,translateY:Na,translateZ:Na,x:Na,y:Na,z:Na,perspective:Na,transformPerspective:Na,opacity:Ib,originX:NU,originY:NU,originZ:Na},ZF={borderWidth:Na,borderTopWidth:Na,borderRightWidth:Na,borderBottomWidth:Na,borderLeftWidth:Na,borderRadius:Na,radius:Na,borderTopLeftRadius:Na,borderTopRightRadius:Na,borderBottomRightRadius:Na,borderBottomLeftRadius:Na,width:Na,maxWidth:Na,height:Na,maxHeight:Na,top:Na,right:Na,bottom:Na,left:Na,padding:Na,paddingTop:Na,paddingRight:Na,paddingBottom:Na,paddingLeft:Na,margin:Na,marginTop:Na,marginRight:Na,marginBottom:Na,marginLeft:Na,backgroundPositionX:Na,backgroundPositionY:Na,...M_e,zIndex:OU,fillOpacity:Ib,strokeOpacity:Ib,numOctaves:OU},U_e={...ZF,color:Pc,backgroundColor:Pc,outlineColor:Pc,fill:Pc,stroke:Pc,borderColor:Pc,borderTopColor:Pc,borderRightColor:Pc,borderBottomColor:Pc,borderLeftColor:Pc,filter:xT,WebkitFilter:xT},cY=e=>U_e[e];function uY(e,t){let r=cY(e);return r!==xT&&(r=Sg),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const R_e=new Set(["auto","none","0"]);function Q_e(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!R_e.has(i)&&kb(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=uY(r,s)}class H_e extends XF{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),$F(d))){const u=sY(d,r.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!iY.has(n)||t.length!==2)return;const[s,i]=t,o=LU(s),l=LU(i);if(o!==l)if(FU(o)&&FU(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else Hx[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)(t[s]===null||P_e(t[s]))&&n.push(s);n.length&&Q_e(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hx[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=Hx[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function $_e(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const s=r?.[e]??n.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const dY=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function fY(e){return BW(e)&&"offsetHeight"in e}const DU=30,z_e=e=>!isNaN(parseFloat(e));class V_e{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const s=kf.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=kf.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=z_e(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new UF);const n=this.events[t].add(r);return t==="change"?()=>{n(),el.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=kf.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>DU)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,DU);return _W(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zv(e,t){return new V_e(e,t)}const{schedule:eI}=QW(queueMicrotask,!1),RA={x:!1,y:!1};function hY(){return RA.x||RA.y}function K_e(e){return e==="x"||e==="y"?RA[e]?null:(RA[e]=!0,()=>{RA[e]=!1}):RA.x||RA.y?null:(RA.x=RA.y=!0,()=>{RA.x=RA.y=!1})}function AY(e,t){const r=$_e(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function MU(e){return!(e.pointerType==="touch"||hY())}function q_e(e,t,r={}){const[n,s,i]=AY(e,r),o=l=>{if(!MU(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const u=h=>{MU(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,s)};return n.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const mY=(e,t)=>t?e===t?!0:mY(e,t.parentElement):!1,tI=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,G_e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function W_e(e){return G_e.has(e.tagName)||e.tabIndex!==-1}const w5=new WeakSet;function UU(e){return t=>{t.key==="Enter"&&e(t)}}function nE(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Y_e=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=UU(()=>{if(w5.has(r))return;nE(r,"down");const s=UU(()=>{nE(r,"up")}),i=()=>nE(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function RU(e){return tI(e)&&!hY()}function X_e(e,t,r={}){const[n,s,i]=AY(e,r),o=l=>{const c=l.currentTarget;if(!RU(l))return;w5.add(c);const d=t(c,l),u=(A,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),w5.has(c)&&w5.delete(c),RU(A)&&typeof d=="function"&&d(A,{success:y})},h=A=>{u(A,c===window||c===document||r.useGlobalTarget||mY(c,A.target))},m=A=>{u(A,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",m,s)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),fY(l)&&(l.addEventListener("focus",d=>Y_e(d,s)),!W_e(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function pY(e){return BW(e)&&"ownerSVGElement"in e}function J_e(e){return pY(e)&&e.tagName==="svg"}const kd=e=>!!(e&&e.getVelocity),Z_e=[...lY,Pc,Sg],e8e=e=>Z_e.find(oY(e)),rI=C.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class t8e extends C.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=fY(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function r8e({children:e,isPresent:t,anchorX:r,root:n}){const s=C.useId(),i=C.useRef(null),o=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=C.useContext(rI);return C.useInsertionEffect(()=>{const{width:c,height:d,top:u,left:h,right:m}=o.current;if(t||!i.current||!c||!d)return;const A=r==="left"?`left: ${h}`:`right: ${m}`;i.current.dataset.motionPopId=s;const y=document.createElement("style");l&&(y.nonce=l);const x=n??document.head;return x.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${A}px !important;
            top: ${u}px !important;
          }
        `),()=>{x.contains(y)&&x.removeChild(y)}},[t]),a.jsx(t8e,{isPresent:t,childRef:i,sizeRef:o,children:C.cloneElement(e,{ref:i})})}const n8e=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const d=kF(a8e),u=C.useId();let h=!0,m=C.useMemo(()=>(h=!1,{id:u,initial:t,isPresent:r,custom:s,onExitComplete:A=>{d.set(A,!0);for(const y of d.values())if(!y)return;n&&n()},register:A=>(d.set(A,!1),()=>d.delete(A))}),[r,d,n]);return i&&h&&(m={...m}),C.useMemo(()=>{d.forEach((A,y)=>d.set(y,!1))},[r]),C.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),o==="popLayout"&&(e=a.jsx(r8e,{isPresent:r,anchorX:l,root:c,children:e})),a.jsx(uS.Provider,{value:m,children:e})};function a8e(){return new Map}function gY(e=!0){const t=C.useContext(uS);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=C.useId();C.useEffect(()=>{if(e)return s(i)},[e]);const o=C.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const J4=e=>e.key||"";function QU(e){const t=[];return C.Children.forEach(e,r=>{C.isValidElement(r)&&t.push(r)}),t}const Pb=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,u]=gY(o),h=C.useMemo(()=>QU(e),[e]),m=o&&!d?[]:h.map(J4),A=C.useRef(!0),y=C.useRef(h),x=kF(()=>new Map),[v,b]=C.useState(h),[j,E]=C.useState(h);CW(()=>{A.current=!1,y.current=h;for(let U=0;U<j.length;U++){const M=J4(j[U]);m.includes(M)?x.delete(M):x.get(M)!==!0&&x.set(M,!1)}},[j,m.length,m.join("-")]);const T=[];if(h!==v){let U=[...h];for(let M=0;M<j.length;M++){const k=j[M],Q=J4(k);m.includes(Q)||(U.splice(M,0,k),T.push(k))}return i==="wait"&&T.length&&(U=T),E(QU(U)),b(h),null}const{forceRender:P}=C.useContext(IF);return a.jsx(a.Fragment,{children:j.map(U=>{const M=J4(U),k=o&&!d?!1:h===j||m.includes(M),Q=()=>{if(x.has(M))x.set(M,!0);else return;let z=!0;x.forEach(O=>{O||(z=!1)}),z&&(P?.(),E(y.current),o&&u?.(),n&&n())};return a.jsx(n8e,{isPresent:k,initial:!A.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:k?void 0:Q,anchorX:l,children:U},M)})})},xY=C.createContext({strict:!1}),HU={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ey={};for(const e in HU)ey[e]={isEnabled:t=>HU[e].some(r=>!!t[r])};function s8e(e){for(const t in e)ey[t]={...ey[t],...e[t]}}const i8e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function KN(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||i8e.has(e)}let vY=e=>!KN(e);function o8e(e){typeof e=="function"&&(vY=t=>t.startsWith("on")?!KN(t):e(t))}try{o8e(require("@emotion/is-prop-valid").default)}catch{}function l8e(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(vY(s)||r===!0&&KN(s)||!t&&!KN(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}const dS=C.createContext({});function fS(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Lb(e){return typeof e=="string"||Array.isArray(e)}const nI=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],aI=["initial",...nI];function hS(e){return fS(e.animate)||aI.some(t=>Lb(e[t]))}function yY(e){return!!(hS(e)||e.variants)}function c8e(e,t){if(hS(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Lb(r)?r:void 0,animate:Lb(n)?n:void 0}}return e.inherit!==!1?t:{}}function u8e(e){const{initial:t,animate:r}=c8e(e,C.useContext(dS));return C.useMemo(()=>({initial:t,animate:r}),[$U(t),$U(r)])}function $U(e){return Array.isArray(e)?e.join(" "):e}const Ob={};function d8e(e){for(const t in e)Ob[t]=e[t],HF(t)&&(Ob[t].isCSSVariable=!0)}function bY(e,{layout:t,layoutId:r}){return By.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Ob[e]||e==="opacity")}const f8e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},h8e=Ey.length;function A8e(e,t,r){let n="",s=!0;for(let i=0;i<h8e;i++){const o=Ey[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=dY(l,ZF[o]);if(!c){s=!1;const u=f8e[o]||o;n+=`${u}(${d}) `}r&&(t[o]=d)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function sI(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(By.has(c)){o=!0;continue}else if(HF(c)){s[c]=d;continue}else{const u=dY(d,ZF[c]);c.startsWith("origin")?(l=!0,i[c]=u):n[c]=u}}if(t.transform||(o||r?n.transform=A8e(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;n.transformOrigin=`${c} ${d} ${u}`}}const iI=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wY(e,t,r){for(const n in t)!kd(t[n])&&!bY(n,r)&&(e[n]=t[n])}function m8e({transformTemplate:e},t){return C.useMemo(()=>{const r=iI();return sI(r,t,e),Object.assign({},r.vars,r.style)},[t])}function p8e(e,t){const r=e.style||{},n={};return wY(n,r,e),Object.assign(n,m8e(e,t)),n}function g8e(e,t){const r={},n=p8e(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const x8e={offset:"stroke-dashoffset",array:"stroke-dasharray"},v8e={offset:"strokeDashoffset",array:"strokeDasharray"};function y8e(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?x8e:v8e;e[i.offset]=Na.transform(-n);const o=Na.transform(t),l=Na.transform(r);e[i.array]=`${o} ${l}`}function NY(e,{attrX:t,attrY:r,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(sI(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m}=e;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=u?.transformBox??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),s!==void 0&&y8e(h,s,i,o,!1)}const jY=()=>({...iI(),attrs:{}}),SY=e=>typeof e=="string"&&e.toLowerCase()==="svg";function b8e(e,t,r,n){const s=C.useMemo(()=>{const i=jY();return NY(i,t,SY(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};wY(i,e.style,e),s.style={...i,...s.style}}return s}const w8e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oI(e){return typeof e!="string"||e.includes("-")?!1:!!(w8e.indexOf(e)>-1||/[A-Z]/u.test(e))}function N8e(e,t,r,{latestValues:n},s,i=!1){const l=(oI(e)?b8e:g8e)(t,n,s,e),c=l8e(t,typeof e=="string",i),d=e!==C.Fragment?{...c,...l,ref:r}:{},{children:u}=t,h=C.useMemo(()=>kd(u)?u.get():u,[u]);return C.createElement(e,{...d,children:h})}function zU(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function lI(e,t,r,n){if(typeof t=="function"){const[s,i]=zU(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=zU(n);t=t(r!==void 0?r:e.custom,s,i)}return t}function N5(e){return kd(e)?e.get():e}function j8e({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,s){return{latestValues:S8e(r,n,s,e),renderState:t()}}function S8e(e,t,r,n){const s={},i=n(e,{});for(const m in i)s[m]=N5(i[m]);let{initial:o,animate:l}=e;const c=hS(e),d=yY(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!fS(h)){const m=Array.isArray(h)?h:[h];for(let A=0;A<m.length;A++){const y=lI(e,m[A]);if(y){const{transitionEnd:x,transition:v,...b}=y;for(const j in b){let E=b[j];if(Array.isArray(E)){const T=u?E.length-1:0;E=E[T]}E!==null&&(s[j]=E)}for(const j in x)s[j]=x[j]}}}return s}const CY=e=>(t,r)=>{const n=C.useContext(dS),s=C.useContext(uS),i=()=>j8e(e,t,n,s);return r?i():kF(i)};function cI(e,t,r){const{style:n}=e,s={};for(const i in n)(kd(n[i])||t.style&&kd(t.style[i])||bY(i,e)||r?.getValue(i)?.liveStyle!==void 0)&&(s[i]=n[i]);return s}const C8e=CY({scrapeMotionValuesFromProps:cI,createRenderState:iI});function EY(e,t,r){const n=cI(e,t,r);for(const s in e)if(kd(e[s])||kd(t[s])){const i=Ey.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}const E8e=CY({scrapeMotionValuesFromProps:EY,createRenderState:jY}),B8e=Symbol.for("motionComponentSymbol");function vv(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function T8e(e,t,r){return C.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):vv(r)&&(r.current=n))},[t])}const uI=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_8e="framerAppearId",BY="data-"+uI(_8e),TY=C.createContext({});function F8e(e,t,r,n,s){const{visualElement:i}=C.useContext(dS),o=C.useContext(xY),l=C.useContext(uS),c=C.useContext(rI).reducedMotion,d=C.useRef(null);n=n||o.renderer,!d.current&&n&&(d.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=C.useContext(TY);u&&!u.projection&&s&&(u.type==="html"||u.type==="svg")&&I8e(d.current,r,s,h);const m=C.useRef(!1);C.useInsertionEffect(()=>{u&&m.current&&u.update(r,l)});const A=r[BY],y=C.useRef(!!A&&!window.MotionHandoffIsComplete?.(A)&&window.MotionHasOptimisedAnimation?.(A));return CW(()=>{u&&(m.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),y.current&&u.animationState&&u.animationState.animateChanges())}),C.useEffect(()=>{u&&(!y.current&&u.animationState&&u.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(A)}),y.current=!1),u.enteringChildren=void 0)}),u}function I8e(e,t,r,n){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:_Y(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&vv(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:c,layoutRoot:d})}function _Y(e){if(e)return e.options.allowProjection!==!1?e.projection:_Y(e.parent)}function aE(e,{forwardMotionProps:t=!1}={},r,n){r&&s8e(r);const s=oI(e)?E8e:C8e;function i(l,c){let d;const u={...C.useContext(rI),...l,layoutId:k8e(l)},{isStatic:h}=u,m=u8e(l),A=s(l,h);if(!h&&PF){P8e();const y=L8e(u);d=y.MeasureLayout,m.visualElement=F8e(e,A,u,n,y.ProjectionNode)}return a.jsxs(dS.Provider,{value:m,children:[d&&m.visualElement?a.jsx(d,{visualElement:m.visualElement,...u}):null,N8e(e,l,T8e(A,m.visualElement,c),A,h,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=C.forwardRef(i);return o[B8e]=e,o}function k8e({layoutId:e}){const t=C.useContext(IF).id;return t&&e!==void 0?t+"-"+e:e}function P8e(e,t){C.useContext(xY).strict}function L8e(e){const{drag:t,layout:r}=ey;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function O8e(e,t){if(typeof Proxy>"u")return aE;const r=new Map,n=(i,o)=>aE(i,o,e,t),s=(i,o)=>n(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,aE(o,void 0,e,t)),r.get(o))})}function FY({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function D8e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function M8e(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function sE(e){return e===void 0||e===1}function vT({scale:e,scaleX:t,scaleY:r}){return!sE(e)||!sE(t)||!sE(r)}function xx(e){return vT(e)||IY(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function IY(e){return VU(e.x)||VU(e.y)}function VU(e){return e&&e!=="0%"}function qN(e,t,r){const n=e-r,s=t*n;return r+s}function KU(e,t,r,n,s){return s!==void 0&&(e=qN(e,s,n)),qN(e,r,n)+t}function yT(e,t=0,r=1,n,s){e.min=KU(e.min,t,r,n,s),e.max=KU(e.max,t,r,n,s)}function kY(e,{x:t,y:r}){yT(e.x,t.translate,t.scale,t.originPoint),yT(e.y,r.translate,r.scale,r.originPoint)}const qU=.999999999999,GU=1.0000000000001;function U8e(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&bv(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,kY(e,o)),n&&xx(i.latestValues)&&bv(e,i.latestValues))}t.x<GU&&t.x>qU&&(t.x=1),t.y<GU&&t.y>qU&&(t.y=1)}function yv(e,t){e.min=e.min+t,e.max=e.max+t}function WU(e,t,r,n,s=.5){const i=dl(e.min,e.max,s);yT(e,t,r,i,n)}function bv(e,t){WU(e.x,t.x,t.scaleX,t.scale,t.originX),WU(e.y,t.y,t.scaleY,t.scale,t.originY)}function PY(e,t){return FY(M8e(e.getBoundingClientRect(),t))}function R8e(e,t,r){const n=PY(e,r),{scroll:s}=t;return s&&(yv(n.x,s.offset.x),yv(n.y,s.offset.y)),n}const YU=()=>({translate:0,scale:1,origin:0,originPoint:0}),wv=()=>({x:YU(),y:YU()}),XU=()=>({min:0,max:0}),sc=()=>({x:XU(),y:XU()}),bT={current:null},LY={current:!1};function Q8e(){if(LY.current=!0,!!PF)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>bT.current=e.matches;e.addEventListener("change",t),t()}else bT.current=!1}const H8e=new WeakMap;function $8e(e,t,r){for(const n in t){const s=t[n],i=r[n];if(kd(s))e.addValue(n,s);else if(kd(i))e.addValue(n,Zv(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(n);e.addValue(n,Zv(o!==void 0?o:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const JU=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class z8e{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=XF,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=kf.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,el.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=hS(r),this.isVariantNode=yY(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in h){const A=h[m];c[m]!==void 0&&kd(A)&&A.set(c[m])}}mount(t){this.current=t,H8e.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),LY.current||Q8e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bT.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),jg(this.notifyUpdate),jg(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=By.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&el.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ey){const r=ey[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):sc()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<JU.length;n++){const s=JU[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=$8e(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Zv(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(EW(n)||TW(n))?n=parseFloat(n):!e8e(n)&&Sg.test(r)&&(n=uY(t,r)),this.setBaseTarget(t,kd(n)?n.get():n)),kd(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=lI(this.props,r,this.presenceContext?.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!kd(s)?s:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new UF),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){eI.render(this.render)}}class OY extends z8e{constructor(){super(...arguments),this.KeyframeResolver=H_e}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;kd(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function DY(e,{style:t,vars:r},n,s){const i=e.style;let o;for(o in t)i[o]=t[o];s?.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function V8e(e){return window.getComputedStyle(e)}class K8e extends OY{constructor(){super(...arguments),this.type="html",this.renderInstance=DY}readValueFromInstance(t,r){if(By.has(r))return this.projection?.isProjecting?fT(r):o_e(t,r);{const n=V8e(t),s=(HF(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return PY(t,r)}build(t,r,n){sI(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return cI(t,r,n)}}const MY=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function q8e(e,t,r,n){DY(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(MY.has(s)?s:uI(s),t.attrs[s])}class G8e extends OY{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=sc}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(By.has(r)){const n=cY(r);return n&&n.default||0}return r=MY.has(r)?r:uI(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return EY(t,r,n)}build(t,r,n){NY(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,s){q8e(t,r,n,s)}mount(t){this.isSVGTag=SY(t.tagName),super.mount(t)}}const W8e=(e,t)=>oI(e)?new G8e(t):new K8e(t,{allowProjection:e!==C.Fragment});function Uv(e,t,r){const n=e.getProps();return lI(n,t,r!==void 0?r:n.custom,e)}const wT=e=>Array.isArray(e);function Y8e(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Zv(r))}function X8e(e){return wT(e)?e[e.length-1]||0:e}function J8e(e,t){const r=Uv(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const o in i){const l=X8e(i[o]);Y8e(e,o,l)}}function Z8e(e){return!!(kd(e)&&e.add)}function NT(e,t){const r=e.getValue("willChange");if(Z8e(r))return r.add(t);if(!r&&np.WillChange){const n=new np.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function UY(e){return e.props[BY]}const eFe=e=>e!==null;function tFe(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(eFe),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return s[i]}const rFe={type:"spring",stiffness:500,damping:25,restSpeed:10},nFe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),aFe={type:"keyframes",duration:.8},sFe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iFe=(e,{keyframes:t})=>t.length>2?aFe:By.has(e)?e.startsWith("scale")?nFe(t[1]):rFe:sFe;function oFe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const dI=(e,t,r,n={},s,i)=>o=>{const l=JF(n,e)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-zm(c);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};oFe(l)||Object.assign(u,iFe(e,u)),u.duration&&(u.duration=zm(u.duration)),u.repeatDelay&&(u.repeatDelay=zm(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(gT(u),u.delay===0&&(h=!0)),(np.instantAnimations||np.skipAnimations)&&(h=!0,gT(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!i&&t.get()!==void 0){const m=tFe(u.keyframes,l);if(m!==void 0){el.update(()=>{u.onUpdate(m),u.onComplete()});return}}return l.isSync?new YF(u):new __e(u)};function lFe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function RY(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(i=n);const c=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const u in l){const h=e.getValue(u,e.latestValues[u]??null),m=l[u];if(m===void 0||d&&lFe(d,u))continue;const A={delay:r,...JF(i||{},u)},y=h.get();if(y!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===y&&!A.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const b=UY(e);if(b){const j=window.MotionHandoffAnimation(b,u,el);j!==null&&(A.startTime=j,x=!0)}}NT(e,u),h.start(dI(u,h,m,e.shouldReduceMotion&&iY.has(u)?{type:!1}:A,e,x));const v=h.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{el.update(()=>{o&&J8e(e,o)})}),c}function QY(e,t,r,n=0,s=1){const i=Array.from(e).sort((d,u)=>d.sortNodePosition(u)).indexOf(t),o=e.size,l=(o-1)*n;return typeof r=="function"?r(i,o):s===1?i*n:l-i*n}function jT(e,t,r={}){const n=Uv(e,t,r.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(RY(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:h}=s;return cFe(e,t,c,d,u,h,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(r.delay)])}function cFe(e,t,r=0,n=0,s=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(jT(c,t,{...o,delay:r+(typeof n=="function"?0:n)+QY(e.variantChildren,c,n,s,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function uFe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>jT(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=jT(e,t,r);else{const s=typeof t=="function"?Uv(e,t,r.custom):t;n=Promise.all(RY(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function HY(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const dFe=aI.length;function $Y(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?$Y(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<dFe;r++){const n=aI[r],s=e.props[n];(Lb(s)||s===!1)&&(t[n]=s)}return t}const fFe=[...nI].reverse(),hFe=nI.length;function AFe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>uFe(e,r,n)))}function mFe(e){let t=AFe(e),r=ZU(),n=!0;const s=c=>(d,u)=>{const h=Uv(e,u,c==="exit"?e.presenceContext?.custom:void 0);if(h){const{transition:m,transitionEnd:A,...y}=h;d={...d,...y,...A}}return d};function i(c){t=c(e)}function o(c){const{props:d}=e,u=$Y(e.parent)||{},h=[],m=new Set;let A={},y=1/0;for(let v=0;v<hFe;v++){const b=fFe[v],j=r[b],E=d[b]!==void 0?d[b]:u[b],T=Lb(E),P=b===c?j.isActive:null;P===!1&&(y=v);let U=E===u[b]&&E!==d[b]&&T;if(U&&n&&e.manuallyAnimateOnMount&&(U=!1),j.protectedKeys={...A},!j.isActive&&P===null||!E&&!j.prevProp||fS(E)||typeof E=="boolean")continue;const M=pFe(j.prevProp,E);let k=M||b===c&&j.isActive&&!U&&T||v>y&&T,Q=!1;const z=Array.isArray(E)?E:[E];let O=z.reduce(s(b),{});P===!1&&(O={});const{prevResolvedValues:L={}}=j,V={...L,...O},J=de=>{k=!0,m.has(de)&&(Q=!0,m.delete(de)),j.needsAnimating[de]=!0;const se=e.getValue(de);se&&(se.liveStyle=!1)};for(const de in V){const se=O[de],he=L[de];if(A.hasOwnProperty(de))continue;let fe=!1;wT(se)&&wT(he)?fe=!HY(se,he):fe=se!==he,fe?se!=null?J(de):m.add(de):se!==void 0&&m.has(de)?J(de):j.protectedKeys[de]=!0}j.prevProp=E,j.prevResolvedValues=O,j.isActive&&(A={...A,...O}),n&&e.blockInitialAnimation&&(k=!1);const ce=U&&M;k&&(!ce||Q)&&h.push(...z.map(de=>{const se={type:b};if(typeof de=="string"&&n&&!ce&&e.manuallyAnimateOnMount&&e.parent){const{parent:he}=e,fe=Uv(he,de);if(he.enteringChildren&&fe){const{delayChildren:ve}=fe.transition||{};se.delay=QY(he.enteringChildren,e,ve)}}return{animation:de,options:se}}))}if(m.size){const v={};if(typeof d.initial!="boolean"){const b=Uv(e,Array.isArray(d.initial)?d.initial[0]:d.initial);b&&b.transition&&(v.transition=b.transition)}m.forEach(b=>{const j=e.getBaseTarget(b),E=e.getValue(b);E&&(E.liveStyle=!0),v[b]=j??null}),h.push({animation:v})}let x=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(h):Promise.resolve()}function l(c,d){if(r[c].isActive===d)return Promise.resolve();e.variantChildren?.forEach(h=>h.animationState?.setActive(c,d)),r[c].isActive=d;const u=o(c);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=ZU(),n=!0}}}function pFe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!HY(t,e):!1}function dx(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ZU(){return{animate:dx(!0),whileInView:dx(),whileHover:dx(),whileTap:dx(),whileDrag:dx(),whileFocus:dx(),exit:dx()}}class Og{constructor(t){this.isMounted=!1,this.node=t}update(){}}class gFe extends Og{constructor(t){super(t),t.animationState||(t.animationState=mFe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();fS(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let xFe=0;class vFe extends Og{constructor(){super(...arguments),this.id=xFe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const yFe={animation:{Feature:gFe},exit:{Feature:vFe}};function Db(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Nw(e){return{point:{x:e.pageX,y:e.pageY}}}const bFe=e=>t=>tI(t)&&e(t,Nw(t));function W2(e,t,r,n){return Db(e,t,bFe(r),n)}const zY=1e-4,wFe=1-zY,NFe=1+zY,VY=.01,jFe=0-VY,SFe=0+VY;function lf(e){return e.max-e.min}function CFe(e,t,r){return Math.abs(e-t)<=r}function eR(e,t,r,n=.5){e.origin=n,e.originPoint=dl(t.min,t.max,e.origin),e.scale=lf(r)/lf(t),e.translate=dl(r.min,r.max,e.origin)-e.originPoint,(e.scale>=wFe&&e.scale<=NFe||isNaN(e.scale))&&(e.scale=1),(e.translate>=jFe&&e.translate<=SFe||isNaN(e.translate))&&(e.translate=0)}function Y2(e,t,r,n){eR(e.x,t.x,r.x,n?n.originX:void 0),eR(e.y,t.y,r.y,n?n.originY:void 0)}function tR(e,t,r){e.min=r.min+t.min,e.max=e.min+lf(t)}function EFe(e,t,r){tR(e.x,t.x,r.x),tR(e.y,t.y,r.y)}function rR(e,t,r){e.min=t.min-r.min,e.max=e.min+lf(t)}function X2(e,t,r){rR(e.x,t.x,r.x),rR(e.y,t.y,r.y)}function rA(e){return[e("x"),e("y")]}const KY=({current:e})=>e?e.ownerDocument.defaultView:null,nR=(e,t)=>Math.abs(e-t);function BFe(e,t){const r=nR(e.x,t.x),n=nR(e.y,t.y);return Math.sqrt(r**2+n**2)}class qY{constructor(t,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=oE(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,y=BFe(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!y)return;const{point:x}=m,{timestamp:v}=Gu;this.history.push({...x,timestamp:v});const{onStart:b,onMove:j}=this.handlers;A||(b&&b(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,m)},this.handlePointerMove=(m,A)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=iE(A,this.transformPagePoint),el.update(this.updatePoint,!0)},this.handlePointerUp=(m,A)=>{this.end();const{onEnd:y,onSessionEnd:x,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=oE(m.type==="pointercancel"?this.lastMoveEventInfo:iE(A,this.transformPagePoint),this.history);this.startEvent&&y&&y(m,b),x&&x(m,b)},!tI(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=s||window;const l=Nw(t),c=iE(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=Gu;this.history=[{...d,timestamp:u}];const{onSessionStart:h}=r;h&&h(t,oE(c,this.history)),this.removeListeners=yw(W2(this.contextWindow,"pointermove",this.handlePointerMove),W2(this.contextWindow,"pointerup",this.handlePointerUp),W2(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),jg(this.updatePoint)}}function iE(e,t){return t?{point:t(e.point)}:e}function aR(e,t){return{x:e.x-t.x,y:e.y-t.y}}function oE({point:e},t){return{point:e,delta:aR(e,GY(t)),offset:aR(e,TFe(t)),velocity:_Fe(t,.1)}}function TFe(e){return e[0]}function GY(e){return e[e.length-1]}function _Fe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=GY(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>zm(t)));)r--;if(!n)return{x:0,y:0};const i=Vm(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function FFe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?dl(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?dl(r,e,n.max):Math.min(e,r)),e}function sR(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function IFe(e,{top:t,left:r,bottom:n,right:s}){return{x:sR(e.x,r,s),y:sR(e.y,t,n)}}function iR(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function kFe(e,t){return{x:iR(e.x,t.x),y:iR(e.y,t.y)}}function PFe(e,t){let r=.5;const n=lf(e),s=lf(t);return s>n?r=Fb(t.min,t.max-n,e.min):n>s&&(r=Fb(e.min,e.max-s,t.min)),rp(0,1,r)}function LFe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const ST=.35;function OFe(e=ST){return e===!1?e=0:e===!0&&(e=ST),{x:oR(e,"left","right"),y:oR(e,"top","bottom")}}function oR(e,t,r){return{min:lR(e,t),max:lR(e,r)}}function lR(e,t){return typeof e=="number"?e:e[t]||0}const DFe=new WeakMap;class MFe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=sc(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Nw(h).point)},o=(h,m)=>{const{drag:A,dragPropagation:y,onDragStart:x}=this.getProps();if(A&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=K_e(A),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rA(b=>{let j=this.getAxisMotionValue(b).get()||0;if(Km.test(j)){const{projection:E}=this.visualElement;if(E&&E.layout){const T=E.layout.layoutBox[b];T&&(j=lf(T)*(parseFloat(j)/100))}}this.originPoint[b]=j}),x&&el.postRender(()=>x(h,m)),NT(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m;const{dragPropagation:A,dragDirectionLock:y,onDirectionLock:x,onDrag:v}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:b}=m;if(y&&this.currentDirection===null){this.currentDirection=UFe(b),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,b),this.updateAxis("y",m.point,b),this.visualElement.render(),v&&v(h,m)},c=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m,this.stop(h,m),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>rA(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new qY(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:KY(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,s=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!n)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&el.postRender(()=>l(n,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Z4(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=FFe(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&vv(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=IFe(n.layoutBox,t):this.constraints=!1,this.elastic=OFe(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&rA(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=LFe(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!vv(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=R8e(n,s.root,this.visualElement.getTransformPagePoint());let o=kFe(s.layout.layoutBox,i);if(r){const l=r(D8e(o));this.hasMutatedConstraints=!!l,l&&(o=FY(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=rA(u=>{if(!Z4(u,r,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const m=s?200:1e6,A=s?40:1e7,y={type:"inertia",velocity:n?t[u]:0,bounceStiffness:m,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,y)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return NT(this.visualElement,t),n.start(dI(t,n,0,r,this.visualElement,!1))}stopAnimation(){rA(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){rA(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){rA(r=>{const{drag:n}=this.getProps();if(!Z4(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];i.set(t[r]-dl(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!vv(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};rA(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=PFe({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),rA(o=>{if(!Z4(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(dl(c,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;DFe.set(this.visualElement,this);const t=this.visualElement.current,r=W2(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();vv(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),el.read(n);const o=Db(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(rA(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())}));return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=ST,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Z4(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function UFe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class RFe extends Og{constructor(t){super(t),this.removeGroupControls=lA,this.removeListeners=lA,this.controls=new MFe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||lA}unmount(){this.removeGroupControls(),this.removeListeners()}}const cR=e=>(t,r)=>{e&&el.postRender(()=>e(t,r))};class QFe extends Og{constructor(){super(...arguments),this.removePointerDownListener=lA}onPointerDown(t){this.session=new qY(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:KY(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:cR(t),onStart:cR(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&el.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=W2(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const j5={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function uR(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const x2={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Na.test(e))e=parseFloat(e);else return e;const r=uR(e,t.target.x),n=uR(e,t.target.y);return`${r}% ${n}%`}},HFe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Sg.parse(e);if(s.length>5)return n;const i=Sg.createTransformer(e),o=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const d=dl(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}};let lE=!1;class $Fe extends C.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;d8e(zFe),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),lE&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),j5.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,lE=!0,s||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||el.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),eI.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;lE=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function WY(e){const[t,r]=gY(),n=C.useContext(IF);return a.jsx($Fe,{...e,layoutGroup:n,switchLayoutGroup:C.useContext(TY),isPresent:t,safeToRemove:r})}const zFe={borderRadius:{...x2,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:x2,borderTopRightRadius:x2,borderBottomLeftRadius:x2,borderBottomRightRadius:x2,boxShadow:HFe};function VFe(e,t,r){const n=kd(e)?e:Zv(e);return n.start(dI("",n,t,r)),n.animation}const KFe=(e,t)=>e.depth-t.depth;class qFe{constructor(){this.children=[],this.isDirty=!1}add(t){LF(this.children,t),this.isDirty=!0}remove(t){OF(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(KFe),this.isDirty=!1,this.children.forEach(t)}}function GFe(e,t){const r=kf.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(jg(n),e(i-t))};return el.setup(n,!0),()=>jg(n)}const YY=["TopLeft","TopRight","BottomLeft","BottomRight"],WFe=YY.length,dR=e=>typeof e=="string"?parseFloat(e):e,fR=e=>typeof e=="number"||Na.test(e);function YFe(e,t,r,n,s,i){s?(e.opacity=dl(0,r.opacity??1,XFe(n)),e.opacityExit=dl(t.opacity??1,0,JFe(n))):i&&(e.opacity=dl(t.opacity??1,r.opacity??1,n));for(let o=0;o<WFe;o++){const l=`border${YY[o]}Radius`;let c=hR(t,l),d=hR(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||fR(c)===fR(d)?(e[l]=Math.max(dl(dR(c),dR(d),n),0),(Km.test(d)||Km.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=dl(t.rotate||0,r.rotate||0,n))}function hR(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const XFe=XY(0,.5,DW),JFe=XY(.5,.95,lA);function XY(e,t,r){return n=>n<e?0:n>t?1:r(Fb(e,t,n))}function AR(e,t){e.min=t.min,e.max=t.max}function Zh(e,t){AR(e.x,t.x),AR(e.y,t.y)}function mR(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function pR(e,t,r,n,s){return e-=t,e=qN(e,1/r,n),s!==void 0&&(e=qN(e,1/s,n)),e}function ZFe(e,t=0,r=1,n=.5,s,i=e,o=e){if(Km.test(t)&&(t=parseFloat(t),t=dl(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=dl(i.min,i.max,n);e===i&&(l-=t),e.min=pR(e.min,t,r,l,s),e.max=pR(e.max,t,r,l,s)}function gR(e,t,[r,n,s],i,o){ZFe(e,t[r],t[n],t[s],t.scale,i,o)}const eIe=["x","scaleX","originX"],tIe=["y","scaleY","originY"];function xR(e,t,r,n){gR(e.x,t,eIe,r?r.x:void 0,n?n.x:void 0),gR(e.y,t,tIe,r?r.y:void 0,n?n.y:void 0)}function vR(e){return e.translate===0&&e.scale===1}function JY(e){return vR(e.x)&&vR(e.y)}function yR(e,t){return e.min===t.min&&e.max===t.max}function rIe(e,t){return yR(e.x,t.x)&&yR(e.y,t.y)}function bR(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function ZY(e,t){return bR(e.x,t.x)&&bR(e.y,t.y)}function wR(e){return lf(e.x)/lf(e.y)}function NR(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class nIe{constructor(){this.members=[]}add(t){LF(this.members,t),t.scheduleRender()}remove(t){if(OF(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function aIe(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=r?.z||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:m,skewX:A,skewY:y}=r;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),h&&(n+=`rotateX(${h}deg) `),m&&(n+=`rotateY(${m}deg) `),A&&(n+=`skewX(${A}deg) `),y&&(n+=`skewY(${y}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const cE=["","X","Y","Z"],sIe=1e3;let iIe=0;function uE(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function eX(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=UY(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",el,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&eX(n)}function tX({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=t?.()){this.id=iIe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(cIe),this.nodes.forEach(hIe),this.nodes.forEach(AIe),this.nodes.forEach(uIe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new qFe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new UF),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=pY(o)&&!J_e(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let u,h=0;const m=()=>this.root.updateBlockedByResize=!1;el.read(()=>{h=window.innerWidth}),e(o,()=>{const A=window.innerWidth;A!==h&&(h=A,this.root.updateBlockedByResize=!0,u&&u(),u=GFe(m,250),j5.hasAnimatedSinceResize&&(j5.hasAnimatedSinceResize=!1,this.nodes.forEach(CR)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||vIe,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=d.getProps(),b=!this.targetLayout||!ZY(this.targetLayout,A),j=!h&&m;if(this.options.layoutRoot||this.resumeFrom||j||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...JF(y,"layout"),onPlay:x,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(u,j)}else h||CR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),jg(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mIe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&eX(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(SR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(fIe),this.nodes.forEach(oIe),this.nodes.forEach(lIe)):this.nodes.forEach(SR),this.clearAllSnapshots();const l=kf.now();Gu.delta=rp(0,1e3/60,l-Gu.timestamp),Gu.timestamp=l,Gu.isProcessing=!0,J6.update.process(Gu),J6.preRender.process(Gu),J6.render.process(Gu),Gu.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,eI.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(dIe),this.sharedNodes.forEach(pIe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,el.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){el.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!lf(this.snapshot.measuredBox.x)&&!lf(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=sc(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!JY(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||xx(this.latestValues)||u)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),yIe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return sc();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(bIe))){const{scroll:d}=this.root;d&&(yv(l.x,d.offset.x),yv(l.y,d.offset.y))}return l}removeElementScroll(o){const l=sc();if(Zh(l,o),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:h}=d;d!==this.root&&u&&h.layoutScroll&&(u.wasRoot&&Zh(l,o),yv(l.x,u.offset.x),yv(l.y,u.offset.y))}return l}applyTransform(o,l=!1){const c=sc();Zh(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&bv(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),xx(u.latestValues)&&bv(c,u.latestValues)}return xx(this.latestValues)&&bv(c,this.latestValues),c}removeTransform(o){const l=sc();Zh(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!xx(d.latestValues))continue;vT(d.latestValues)&&d.updateSnapshot();const u=sc(),h=d.measurePageBox();Zh(u,h),xR(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return xx(this.latestValues)&&xR(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gu.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=Gu.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sc(),this.relativeTargetOrigin=sc(),X2(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Zh(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=sc(),this.targetWithTransforms=sc()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),EFe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zh(this.target,this.layout.layoutBox),kY(this.target,this.targetDelta)):Zh(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sc(),this.relativeTargetOrigin=sc(),X2(this.relativeTargetOrigin,this.target,m.target),Zh(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||vT(this.parent.latestValues)||IY(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Gu.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;Zh(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;U8e(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=sc());const{target:A}=o;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(mR(this.prevProjectionDelta.x,this.projectionDelta.x),mR(this.prevProjectionDelta.y,this.projectionDelta.y)),Y2(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!NR(this.projectionDelta.x,this.prevProjectionDelta.x)||!NR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=wv(),this.projectionDelta=wv(),this.projectionDeltaWithTransform=wv()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=wv();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=sc(),A=c?c.source:void 0,y=this.layout?this.layout.source:void 0,x=A!==y,v=this.getStack(),b=!v||v.members.length<=1,j=!!(x&&!b&&this.options.crossfade===!0&&!this.path.some(xIe));this.animationProgress=0;let E;this.mixTargetDelta=T=>{const P=T/1e3;ER(h.x,o.x,P),ER(h.y,o.y,P),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(X2(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gIe(this.relativeTarget,this.relativeTargetOrigin,m,P),E&&rIe(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=sc()),Zh(E,this.relativeTarget)),x&&(this.animationValues=u,YFe(u,d,this.latestValues,P,j,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(jg(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=el.update(()=>{j5.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Zv(0)),this.currentAnimation=VFe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(sIe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&rX(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||sc();const h=lf(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const m=lf(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}Zh(l,c),bv(l,u),Y2(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new nIe),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&uE("z",o,d,this.animationValues);for(let u=0;u<cE.length;u++)uE(`rotate${cE[u]}`,o,d,this.animationValues),uE(`skew${cE[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=N5(l?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=N5(l?.pointerEvents)||""),this.hasProjected&&!xx(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=aIe(this.projectionDeltaWithTransform,this.treeScale,u);c&&(h=c(u,h)),o.transform=h;const{x:m,y:A}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${A.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const y in Ob){if(u[y]===void 0)continue;const{correct:x,applyTo:v,isCSSVariable:b}=Ob[y],j=h==="none"?u[y]:x(u[y],d);if(v){const E=v.length;for(let T=0;T<E;T++)o[v[T]]=j}else b?this.options.visualElement.renderState.vars[y]=j:o[y]=j}this.options.layoutId&&(o.pointerEvents=d===this?N5(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(jR),this.root.sharedNodes.clear()}}}function oIe(e){e.updateLayout()}function lIe(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=e.layout,{animationType:s}=e.options,i=t.source!==e.layout.source;s==="size"?rA(u=>{const h=i?t.measuredBox[u]:t.layoutBox[u],m=lf(h);h.min=r[u].min,h.max=h.min+m}):rX(s,t.layoutBox,r)&&rA(u=>{const h=i?t.measuredBox[u]:t.layoutBox[u],m=lf(r[u]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+m)});const o=wv();Y2(o,r,t.layoutBox);const l=wv();i?Y2(l,e.applyTransform(n,!0),t.measuredBox):Y2(l,r,t.layoutBox);const c=!JY(o);let d=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:m}=u;if(h&&m){const A=sc();X2(A,t.layoutBox,h.layoutBox);const y=sc();X2(y,r,m.layoutBox),ZY(A,y)||(d=!0),u.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=A,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function cIe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function uIe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function dIe(e){e.clearSnapshot()}function jR(e){e.clearMeasurements()}function SR(e){e.isLayoutDirty=!1}function fIe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function CR(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function hIe(e){e.resolveTargetDelta()}function AIe(e){e.calcProjection()}function mIe(e){e.resetSkewAndRotation()}function pIe(e){e.removeLeadSnapshot()}function ER(e,t,r){e.translate=dl(t.translate,0,r),e.scale=dl(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function BR(e,t,r,n){e.min=dl(t.min,r.min,n),e.max=dl(t.max,r.max,n)}function gIe(e,t,r,n){BR(e.x,t.x,r.x,n),BR(e.y,t.y,r.y,n)}function xIe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const vIe={duration:.45,ease:[.4,0,.1,1]},TR=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),_R=TR("applewebkit/")&&!TR("chrome/")?Math.round:lA;function FR(e){e.min=_R(e.min),e.max=_R(e.max)}function yIe(e){FR(e.x),FR(e.y)}function rX(e,t,r){return e==="position"||e==="preserve-aspect"&&!CFe(wR(t),wR(r),.2)}function bIe(e){return e!==e.root&&e.scroll?.wasRoot}const wIe=tX({attachResizeListener:(e,t)=>Db(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dE={current:void 0},nX=tX({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!dE.current){const e=new wIe({});e.mount(window),e.setOptions({layoutScroll:!0}),dE.current=e}return dE.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),NIe={pan:{Feature:QFe},drag:{Feature:RFe,ProjectionNode:nX,MeasureLayout:WY}};function IR(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&el.postRender(()=>i(t,Nw(t)))}class jIe extends Og{mount(){const{current:t}=this.node;t&&(this.unmount=q_e(t,(r,n)=>(IR(this.node,n,"Start"),s=>IR(this.node,s,"End"))))}unmount(){}}class SIe extends Og{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yw(Db(this.node.current,"focus",()=>this.onFocus()),Db(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kR(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&el.postRender(()=>i(t,Nw(t)))}class CIe extends Og{mount(){const{current:t}=this.node;t&&(this.unmount=X_e(t,(r,n)=>(kR(this.node,n,"Start"),(s,{success:i})=>kR(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const CT=new WeakMap,fE=new WeakMap,EIe=e=>{const t=CT.get(e.target);t&&t(e)},BIe=e=>{e.forEach(EIe)};function TIe({root:e,...t}){const r=e||document;fE.has(r)||fE.set(r,{});const n=fE.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(BIe,{root:e,...t})),n[s]}function _Ie(e,t,r){const n=TIe(t);return CT.set(e,r),n.observe(e),()=>{CT.delete(e),n.unobserve(e)}}const FIe={some:0,all:1};class IIe extends Og{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:FIe[s]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(c)};return _Ie(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(kIe(t,r))&&this.startObserver()}unmount(){}}function kIe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const PIe={inView:{Feature:IIe},tap:{Feature:CIe},focus:{Feature:SIe},hover:{Feature:jIe}},LIe={layout:{ProjectionNode:nX,MeasureLayout:WY}},OIe={...yFe,...PIe,...NIe,...LIe},Yn=O8e(OIe,W8e);/*!
 * Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */function ET(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function DIe(e){if(Array.isArray(e))return e}function MIe(e){if(Array.isArray(e))return ET(e)}function UIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aX(n.key),n)}}function QIe(e,t,r){return t&&RIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function S5(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=fI(e))||t){r&&(e=r);var n=0,s=function(){};return{s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||r.return==null||r.return()}finally{if(l)throw i}}}}function _s(e,t,r){return(t=aX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $Ie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function zIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(r),!0).forEach(function(n){_s(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AS(e,t){return DIe(e)||$Ie(e,t)||fI(e,t)||zIe()}function XA(e){return MIe(e)||HIe(e)||fI(e)||VIe()}function KIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aX(e){var t=KIe(e,"string");return typeof t=="symbol"?t:t+""}function GN(e){"@babel/helpers - typeof";return GN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GN(e)}function fI(e,t){if(e){if(typeof e=="string")return ET(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ET(e,t):void 0}}var LR=function(){},hI={},sX={},iX=null,oX={mark:LR,measure:LR};try{typeof window<"u"&&(hI=window),typeof document<"u"&&(sX=document),typeof MutationObserver<"u"&&(iX=MutationObserver),typeof performance<"u"&&(oX=performance)}catch{}var qIe=hI.navigator||{},OR=qIe.userAgent,DR=OR===void 0?"":OR,Cg=hI,Mo=sX,MR=iX,e5=oX;Cg.document;var hp=!!Mo.documentElement&&!!Mo.head&&typeof Mo.addEventListener=="function"&&typeof Mo.createElement=="function",lX=~DR.indexOf("MSIE")||~DR.indexOf("Trident/"),hE,GIe=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,WIe=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Slab Press|Slab|Whiteboard)?.*/i,cX={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"}},YIe={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},uX=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press"],ad="classic",jw="duotone",dX="sharp",fX="sharp-duotone",hX="chisel",AX="etch",mX="jelly",pX="jelly-duo",gX="jelly-fill",xX="notdog",vX="notdog-duo",yX="slab",bX="slab-press",wX="thumbprint",NX="whiteboard",XIe="Classic",JIe="Duotone",ZIe="Sharp",eke="Sharp Duotone",tke="Chisel",rke="Etch",nke="Jelly",ake="Jelly Duo",ske="Jelly Fill",ike="Notdog",oke="Notdog Duo",lke="Slab",cke="Slab Press",uke="Thumbprint",dke="Whiteboard",jX=[ad,jw,dX,fX,hX,AX,mX,pX,gX,xX,vX,yX,bX,wX,NX];hE={},_s(_s(_s(_s(_s(_s(_s(_s(_s(_s(hE,ad,XIe),jw,JIe),dX,ZIe),fX,eke),hX,tke),AX,rke),mX,nke),pX,ake),gX,ske),xX,ike),_s(_s(_s(_s(_s(hE,vX,oke),yX,lke),bX,cke),wX,uke),NX,dke);var fke={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"}},hke={"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"}},Ake=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]]),mke={chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},whiteboard:{semibold:"fawsb"}},SX=["fak","fa-kit","fakd","fa-kit-duotone"],UR={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},pke=["kit"],gke="kit",xke="kit-duotone",vke="Kit",yke="Kit Duotone";_s(_s({},gke,vke),xke,yke);var bke={kit:{"fa-kit":"fak"}},wke={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},Nke={kit:{fak:"fa-kit"}},RR={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},AE,t5={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},jke=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press"],Ske="classic",Cke="duotone",Eke="sharp",Bke="sharp-duotone",Tke="chisel",_ke="etch",Fke="jelly",Ike="jelly-duo",kke="jelly-fill",Pke="notdog",Lke="notdog-duo",Oke="slab",Dke="slab-press",Mke="thumbprint",Uke="whiteboard",Rke="Classic",Qke="Duotone",Hke="Sharp",$ke="Sharp Duotone",zke="Chisel",Vke="Etch",Kke="Jelly",qke="Jelly Duo",Gke="Jelly Fill",Wke="Notdog",Yke="Notdog Duo",Xke="Slab",Jke="Slab Press",Zke="Thumbprint",ePe="Whiteboard";AE={},_s(_s(_s(_s(_s(_s(_s(_s(_s(_s(AE,Ske,Rke),Cke,Qke),Eke,Hke),Bke,$ke),Tke,zke),_ke,Vke),Fke,Kke),Ike,qke),kke,Gke),Pke,Wke),_s(_s(_s(_s(_s(AE,Lke,Yke),Oke,Xke),Dke,Jke),Mke,Zke),Uke,ePe);var tPe="kit",rPe="kit-duotone",nPe="Kit",aPe="Kit Duotone";_s(_s({},tPe,nPe),rPe,aPe);var sPe={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"}},iPe={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"]},BT={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"}},oPe=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"],CX=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr"].concat(jke,oPe),lPe=["solid","regular","light","thin","duotone","brands","semibold"],EX=[1,2,3,4,5,6,7,8,9,10],cPe=EX.concat([11,12,13,14,15,16,17,18,19,20]),uPe=["aw","fw","pull-left","pull-right"],dPe=[].concat(XA(Object.keys(iPe)),lPe,uPe,["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",t5.GROUP,t5.SWAP_OPACITY,t5.PRIMARY,t5.SECONDARY]).concat(EX.map(function(e){return"".concat(e,"x")})).concat(cPe.map(function(e){return"w-".concat(e)})),fPe={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},ap="___FONT_AWESOME___",TT=16,BX="fa",TX="svg-inline--fa",r1="data-fa-i2svg",_T="data-fa-pseudo-element",hPe="data-fa-pseudo-element-pending",AI="data-prefix",mI="data-icon",QR="fontawesome-i2svg",APe="async",mPe=["HTML","HEAD","STYLE","SCRIPT"],_X=["::before","::after",":before",":after"],FX=(function(){try{return!0}catch{return!1}})();function Sw(e){return new Proxy(e,{get:function(r,n){return n in r?r[n]:r[ad]}})}var IX=qr({},cX);IX[ad]=qr(qr(qr(qr({},{"fa-duotone":"duotone"}),cX[ad]),UR.kit),UR["kit-duotone"]);var pPe=Sw(IX),FT=qr({},mke);FT[ad]=qr(qr(qr(qr({},{duotone:"fad"}),FT[ad]),RR.kit),RR["kit-duotone"]);var HR=Sw(FT),IT=qr({},BT);IT[ad]=qr(qr({},IT[ad]),Nke.kit);var pI=Sw(IT),kT=qr({},sPe);kT[ad]=qr(qr({},kT[ad]),bke.kit);Sw(kT);var gPe=GIe,kX="fa-layers-text",xPe=WIe,vPe=qr({},fke);Sw(vPe);var yPe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],mE=YIe,bPe=[].concat(XA(pke),XA(dPe)),J2=Cg.FontAwesomeConfig||{};function wPe(e){var t=Mo.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function NPe(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}if(Mo&&typeof Mo.querySelector=="function"){var jPe=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];jPe.forEach(function(e){var t=AS(e,2),r=t[0],n=t[1],s=NPe(wPe(r));s!=null&&(J2[n]=s)})}var PX={styleDefault:"solid",familyDefault:ad,cssPrefix:BX,replacementClass:TX,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};J2.familyPrefix&&(J2.cssPrefix=J2.familyPrefix);var ty=qr(qr({},PX),J2);ty.autoReplaceSvg||(ty.observeMutations=!1);var Xn={};Object.keys(PX).forEach(function(e){Object.defineProperty(Xn,e,{enumerable:!0,set:function(r){ty[e]=r,Z2.forEach(function(n){return n(Xn)})},get:function(){return ty[e]}})});Object.defineProperty(Xn,"familyPrefix",{enumerable:!0,set:function(t){ty.cssPrefix=t,Z2.forEach(function(r){return r(Xn)})},get:function(){return ty.cssPrefix}});Cg.FontAwesomeConfig=Xn;var Z2=[];function SPe(e){return Z2.push(e),function(){Z2.splice(Z2.indexOf(e),1)}}var ov=TT,Rm={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function CPe(e){if(!(!e||!hp)){var t=Mo.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var r=Mo.head.childNodes,n=null,s=r.length-1;s>-1;s--){var i=r[s],o=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(n=i)}return Mo.head.insertBefore(t,n),e}}var EPe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function $R(){for(var e=12,t="";e-- >0;)t+=EPe[Math.random()*62|0];return t}function Ty(e){for(var t=[],r=(e||[]).length>>>0;r--;)t[r]=e[r];return t}function gI(e){return e.classList?Ty(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(t){return t})}function LX(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function BPe(e){return Object.keys(e||{}).reduce(function(t,r){return t+"".concat(r,'="').concat(LX(e[r]),'" ')},"").trim()}function mS(e){return Object.keys(e||{}).reduce(function(t,r){return t+"".concat(r,": ").concat(e[r].trim(),";")},"")}function xI(e){return e.size!==Rm.size||e.x!==Rm.x||e.y!==Rm.y||e.rotate!==Rm.rotate||e.flipX||e.flipY}function TPe(e){var t=e.transform,r=e.containerWidth,n=e.iconWidth,s={transform:"translate(".concat(r/2," 256)")},i="translate(".concat(t.x*32,", ").concat(t.y*32,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),l="rotate(".concat(t.rotate," 0 0)"),c={transform:"".concat(i," ").concat(o," ").concat(l)},d={transform:"translate(".concat(n/2*-1," -256)")};return{outer:s,inner:c,path:d}}function _Pe(e){var t=e.transform,r=e.width,n=r===void 0?TT:r,s=e.height,i=s===void 0?TT:s,o="";return lX?o+="translate(".concat(t.x/ov-n/2,"em, ").concat(t.y/ov-i/2,"em) "):o+="translate(calc(-50% + ".concat(t.x/ov,"em), calc(-50% + ").concat(t.y/ov,"em)) "),o+="scale(".concat(t.size/ov*(t.flipX?-1:1),", ").concat(t.size/ov*(t.flipY?-1:1),") "),o+="rotate(".concat(t.rotate,"deg) "),o}var FPe=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";
  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";
  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";
  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";
  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";
  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";
  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";
  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";
  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";
  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";
  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";
}

.svg-inline--fa {
  box-sizing: content-box;
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285714em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left,
.svg-inline--fa .fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-pull-right,
.svg-inline--fa .fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.fa-layers .svg-inline--fa {
  inset: 0;
  margin: auto;
  position: absolute;
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xs {
  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-sm {
  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-lg {
  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xl {
  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-2xl {
  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-width-auto {
  --fa-width: auto;
}

.fa-fw,
.fa-width-fixed {
  --fa-width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-inline-start: var(--fa-li-margin, 2.5em);
  padding-inline-start: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

/* Heads Up: Bordered Icons will not be supported in the future!
  - This feature will be deprecated in the next major release of Font Awesome (v8)!
  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.
*/
/* Notes:
* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)
* --@{v.$css-prefix}-border-padding =
  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it's vertical alignment)
  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)
*/
.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.0625em);
  box-sizing: var(--fa-border-box-sizing, content-box);
  padding: var(--fa-border-padding, 0.1875em 0.25em);
}

.fa-pull-left,
.fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right,
.fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
  .fa-bounce,
  .fa-fade,
  .fa-beat-fade,
  .fa-flip,
  .fa-pulse,
  .fa-shake,
  .fa-spin,
  .fa-spin-pulse {
    animation: none !important;
    transition: none !important;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.svg-inline--fa.fa-inverse {
  fill: var(--fa-inverse, #fff);
}

.fa-stack {
  display: inline-block;
  height: 2em;
  line-height: 2em;
  position: relative;
  vertical-align: middle;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.svg-inline--fa.fa-stack-1x {
  --fa-width: 1.25em;
  height: 1em;
  width: var(--fa-width);
}
.svg-inline--fa.fa-stack-2x {
  --fa-width: 2.5em;
  height: 2em;
  width: var(--fa-width);
}

.fa-stack-1x,
.fa-stack-2x {
  inset: 0;
  margin: auto;
  position: absolute;
  z-index: var(--fa-stack-z-index, auto);
}`;function OX(){var e=BX,t=TX,r=Xn.cssPrefix,n=Xn.replacementClass,s=FPe;if(r!==e||n!==t){var i=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),l=new RegExp("\\.".concat(t),"g");s=s.replace(i,".".concat(r,"-")).replace(o,"--".concat(r,"-")).replace(l,".".concat(n))}return s}var zR=!1;function pE(){Xn.autoAddCss&&!zR&&(CPe(OX()),zR=!0)}var IPe={mixout:function(){return{dom:{css:OX,insertCss:pE}}},hooks:function(){return{beforeDOMElementCreation:function(){pE()},beforeI2svg:function(){pE()}}}},sp=Cg||{};sp[ap]||(sp[ap]={});sp[ap].styles||(sp[ap].styles={});sp[ap].hooks||(sp[ap].hooks={});sp[ap].shims||(sp[ap].shims=[]);var KA=sp[ap],DX=[],MX=function(){Mo.removeEventListener("DOMContentLoaded",MX),WN=1,DX.map(function(t){return t()})},WN=!1;hp&&(WN=(Mo.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Mo.readyState),WN||Mo.addEventListener("DOMContentLoaded",MX));function kPe(e){hp&&(WN?setTimeout(e,0):DX.push(e))}function Cw(e){var t=e.tag,r=e.attributes,n=r===void 0?{}:r,s=e.children,i=s===void 0?[]:s;return typeof e=="string"?LX(e):"<".concat(t," ").concat(BPe(n),">").concat(i.map(Cw).join(""),"</").concat(t,">")}function VR(e,t,r){if(e&&e[t]&&e[t][r])return{prefix:t,iconName:r,icon:e[t][r]}}var gE=function(t,r,n,s){var i=Object.keys(t),o=i.length,l=r,c,d,u;for(n===void 0?(c=1,u=t[i[0]]):(c=0,u=n);c<o;c++)d=i[c],u=l(u,t[d],d,t);return u};function UX(e){return XA(e).length!==1?null:e.codePointAt(0).toString(16)}function KR(e){return Object.keys(e).reduce(function(t,r){var n=e[r],s=!!n.icon;return s?t[n.iconName]=n.icon:t[r]=n,t},{})}function PT(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=r.skipHooks,s=n===void 0?!1:n,i=KR(t);typeof KA.hooks.addPack=="function"&&!s?KA.hooks.addPack(e,KR(t)):KA.styles[e]=qr(qr({},KA.styles[e]||{}),i),e==="fas"&&PT("fa",t)}var Mb=KA.styles,PPe=KA.shims,RX=Object.keys(pI),LPe=RX.reduce(function(e,t){return e[t]=Object.keys(pI[t]),e},{}),vI=null,QX={},HX={},$X={},zX={},VX={};function OPe(e){return~bPe.indexOf(e)}function DPe(e,t){var r=t.split("-"),n=r[0],s=r.slice(1).join("-");return n===e&&s!==""&&!OPe(s)?s:null}var KX=function(){var t=function(i){return gE(Mb,function(o,l,c){return o[c]=gE(l,i,{}),o},{})};QX=t(function(s,i,o){if(i[3]&&(s[i[3]]=o),i[2]){var l=i[2].filter(function(c){return typeof c=="number"});l.forEach(function(c){s[c.toString(16)]=o})}return s}),HX=t(function(s,i,o){if(s[o]=o,i[2]){var l=i[2].filter(function(c){return typeof c=="string"});l.forEach(function(c){s[c]=o})}return s}),VX=t(function(s,i,o){var l=i[2];return s[o]=o,l.forEach(function(c){s[c]=o}),s});var r="far"in Mb||Xn.autoFetchSvg,n=gE(PPe,function(s,i){var o=i[0],l=i[1],c=i[2];return l==="far"&&!r&&(l="fas"),typeof o=="string"&&(s.names[o]={prefix:l,iconName:c}),typeof o=="number"&&(s.unicodes[o.toString(16)]={prefix:l,iconName:c}),s},{names:{},unicodes:{}});$X=n.names,zX=n.unicodes,vI=pS(Xn.styleDefault,{family:Xn.familyDefault})};SPe(function(e){vI=pS(e.styleDefault,{family:Xn.familyDefault})});KX();function yI(e,t){return(QX[e]||{})[t]}function MPe(e,t){return(HX[e]||{})[t]}function Tx(e,t){return(VX[e]||{})[t]}function qX(e){return $X[e]||{prefix:null,iconName:null}}function UPe(e){var t=zX[e],r=yI("fas",e);return t||(r?{prefix:"fas",iconName:r}:null)||{prefix:null,iconName:null}}function Eg(){return vI}var GX=function(){return{prefix:null,iconName:null,rest:[]}};function RPe(e){var t=ad,r=RX.reduce(function(n,s){return n[s]="".concat(Xn.cssPrefix,"-").concat(s),n},{});return jX.forEach(function(n){(e.includes(r[n])||e.some(function(s){return LPe[n].includes(s)}))&&(t=n)}),t}function pS(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.family,n=r===void 0?ad:r,s=pPe[n][e];if(n===jw&&!e)return"fad";var i=HR[n][e]||HR[n][s],o=e in KA.styles?e:null,l=i||o||null;return l}function QPe(e){var t=[],r=null;return e.forEach(function(n){var s=DPe(Xn.cssPrefix,n);s?r=s:n&&t.push(n)}),{iconName:r,rest:t}}function qR(e){return e.sort().filter(function(t,r,n){return n.indexOf(t)===r})}var GR=CX.concat(SX);function gS(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.skipLookups,n=r===void 0?!1:r,s=null,i=qR(e.filter(function(A){return GR.includes(A)})),o=qR(e.filter(function(A){return!GR.includes(A)})),l=i.filter(function(A){return s=A,!uX.includes(A)}),c=AS(l,1),d=c[0],u=d===void 0?null:d,h=RPe(i),m=qr(qr({},QPe(o)),{},{prefix:pS(u,{family:h})});return qr(qr(qr({},m),VPe({values:e,family:h,styles:Mb,config:Xn,canonical:m,givenPrefix:s})),HPe(n,s,m))}function HPe(e,t,r){var n=r.prefix,s=r.iconName;if(e||!n||!s)return{prefix:n,iconName:s};var i=t==="fa"?qX(s):{},o=Tx(n,s);return s=i.iconName||o||s,n=i.prefix||n,n==="far"&&!Mb.far&&Mb.fas&&!Xn.autoFetchSvg&&(n="fas"),{prefix:n,iconName:s}}var $Pe=jX.filter(function(e){return e!==ad||e!==jw}),zPe=Object.keys(BT).filter(function(e){return e!==ad}).map(function(e){return Object.keys(BT[e])}).flat();function VPe(e){var t=e.values,r=e.family,n=e.canonical,s=e.givenPrefix,i=s===void 0?"":s,o=e.styles,l=o===void 0?{}:o,c=e.config,d=c===void 0?{}:c,u=r===jw,h=t.includes("fa-duotone")||t.includes("fad"),m=d.familyDefault==="duotone",A=n.prefix==="fad"||n.prefix==="fa-duotone";if(!u&&(h||m||A)&&(n.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(n.prefix="fab"),!n.prefix&&$Pe.includes(r)){var y=Object.keys(l).find(function(v){return zPe.includes(v)});if(y||d.autoFetchSvg){var x=Ake.get(r).defaultShortPrefixId;n.prefix=x,n.iconName=Tx(n.prefix,n.iconName)||n.iconName}}return(n.prefix==="fa"||i==="fa")&&(n.prefix=Eg()||"fas"),n}var KPe=(function(){function e(){UIe(this,e),this.definitions={}}return QIe(e,[{key:"add",value:function(){for(var r=this,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(l){r.definitions[l]=qr(qr({},r.definitions[l]||{}),o[l]),PT(l,o[l]);var c=pI[ad][l];c&&PT(c,o[l]),KX()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(r,n){var s=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(s).map(function(i){var o=s[i],l=o.prefix,c=o.iconName,d=o.icon,u=d[2];r[l]||(r[l]={}),u.length>0&&u.forEach(function(h){typeof h=="string"&&(r[l][h]=d)}),r[l][c]=d}),r}}])})(),WR=[],Nv={},Rv={},qPe=Object.keys(Rv);function GPe(e,t){var r=t.mixoutsTo;return WR=e,Nv={},Object.keys(Rv).forEach(function(n){qPe.indexOf(n)===-1&&delete Rv[n]}),WR.forEach(function(n){var s=n.mixout?n.mixout():{};if(Object.keys(s).forEach(function(o){typeof s[o]=="function"&&(r[o]=s[o]),GN(s[o])==="object"&&Object.keys(s[o]).forEach(function(l){r[o]||(r[o]={}),r[o][l]=s[o][l]})}),n.hooks){var i=n.hooks();Object.keys(i).forEach(function(o){Nv[o]||(Nv[o]=[]),Nv[o].push(i[o])})}n.provides&&n.provides(Rv)}),r}function LT(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),s=2;s<r;s++)n[s-2]=arguments[s];var i=Nv[e]||[];return i.forEach(function(o){t=o.apply(null,[t].concat(n))}),t}function n1(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var s=Nv[e]||[];s.forEach(function(i){i.apply(null,r)})}function Bg(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Rv[e]?Rv[e].apply(null,t):void 0}function OT(e){e.prefix==="fa"&&(e.prefix="fas");var t=e.iconName,r=e.prefix||Eg();if(t)return t=Tx(r,t)||t,VR(WX.definitions,r,t)||VR(KA.styles,r,t)}var WX=new KPe,WPe=function(){Xn.autoReplaceSvg=!1,Xn.observeMutations=!1,n1("noAuto")},YPe={i2svg:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return hp?(n1("beforeI2svg",t),Bg("pseudoElements2svg",t),Bg("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.autoReplaceSvgRoot;Xn.autoReplaceSvg===!1&&(Xn.autoReplaceSvg=!0),Xn.observeMutations=!0,kPe(function(){JPe({autoReplaceSvgRoot:r}),n1("watch",t)})}},XPe={icon:function(t){if(t===null)return null;if(GN(t)==="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:Tx(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){var r=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=pS(t[0]);return{prefix:n,iconName:Tx(n,r)||r}}if(typeof t=="string"&&(t.indexOf("".concat(Xn.cssPrefix,"-"))>-1||t.match(gPe))){var s=gS(t.split(" "),{skipLookups:!0});return{prefix:s.prefix||Eg(),iconName:Tx(s.prefix,s.iconName)||s.iconName}}if(typeof t=="string"){var i=Eg();return{prefix:i,iconName:Tx(i,t)||t}}}},Eh={noAuto:WPe,config:Xn,dom:YPe,parse:XPe,library:WX,findIconDefinition:OT,toHtml:Cw},JPe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.autoReplaceSvgRoot,n=r===void 0?Mo:r;(Object.keys(KA.styles).length>0||Xn.autoFetchSvg)&&hp&&Xn.autoReplaceSvg&&Eh.dom.i2svg({node:n})};function xS(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(n){return Cw(n)})}}),Object.defineProperty(e,"node",{get:function(){if(hp){var n=Mo.createElement("div");return n.innerHTML=e.html,n.children}}}),e}function ZPe(e){var t=e.children,r=e.main,n=e.mask,s=e.attributes,i=e.styles,o=e.transform;if(xI(o)&&r.found&&!n.found){var l=r.width,c=r.height,d={x:l/c/2,y:.5};s.style=mS(qr(qr({},i),{},{"transform-origin":"".concat(d.x+o.x/16,"em ").concat(d.y+o.y/16,"em")}))}return[{tag:"svg",attributes:s,children:t}]}function eLe(e){var t=e.prefix,r=e.iconName,n=e.children,s=e.attributes,i=e.symbol,o=i===!0?"".concat(t,"-").concat(Xn.cssPrefix,"-").concat(r):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:qr(qr({},s),{},{id:o}),children:n}]}]}function tLe(e){var t=["aria-label","aria-labelledby","title","role"];return t.some(function(r){return r in e})}function bI(e){var t=e.icons,r=t.main,n=t.mask,s=e.prefix,i=e.iconName,o=e.transform,l=e.symbol,c=e.maskId,d=e.extra,u=e.watchable,h=u===void 0?!1:u,m=n.found?n:r,A=m.width,y=m.height,x=[Xn.replacementClass,i?"".concat(Xn.cssPrefix,"-").concat(i):""].filter(function(P){return d.classes.indexOf(P)===-1}).filter(function(P){return P!==""||!!P}).concat(d.classes).join(" "),v={children:[],attributes:qr(qr({},d.attributes),{},{"data-prefix":s,"data-icon":i,class:x,role:d.attributes.role||"img",viewBox:"0 0 ".concat(A," ").concat(y)})};!tLe(d.attributes)&&!d.attributes["aria-hidden"]&&(v.attributes["aria-hidden"]="true"),h&&(v.attributes[r1]="");var b=qr(qr({},v),{},{prefix:s,iconName:i,main:r,mask:n,maskId:c,transform:o,symbol:l,styles:qr({},d.styles)}),j=n.found&&r.found?Bg("generateAbstractMask",b)||{children:[],attributes:{}}:Bg("generateAbstractIcon",b)||{children:[],attributes:{}},E=j.children,T=j.attributes;return b.children=E,b.attributes=T,l?eLe(b):ZPe(b)}function YR(e){var t=e.content,r=e.width,n=e.height,s=e.transform,i=e.extra,o=e.watchable,l=o===void 0?!1:o,c=qr(qr({},i.attributes),{},{class:i.classes.join(" ")});l&&(c[r1]="");var d=qr({},i.styles);xI(s)&&(d.transform=_Pe({transform:s,width:r,height:n}),d["-webkit-transform"]=d.transform);var u=mS(d);u.length>0&&(c.style=u);var h=[];return h.push({tag:"span",attributes:c,children:[t]}),h}function rLe(e){var t=e.content,r=e.extra,n=qr(qr({},r.attributes),{},{class:r.classes.join(" ")}),s=mS(r.styles);s.length>0&&(n.style=s);var i=[];return i.push({tag:"span",attributes:n,children:[t]}),i}var xE=KA.styles;function DT(e){var t=e[0],r=e[1],n=e.slice(4),s=AS(n,1),i=s[0],o=null;return Array.isArray(i)?o={tag:"g",attributes:{class:"".concat(Xn.cssPrefix,"-").concat(mE.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Xn.cssPrefix,"-").concat(mE.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(Xn.cssPrefix,"-").concat(mE.PRIMARY),fill:"currentColor",d:i[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:t,height:r,icon:o}}var nLe={found:!1,width:512,height:512};function aLe(e,t){!FX&&!Xn.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function MT(e,t){var r=t;return t==="fa"&&Xn.styleDefault!==null&&(t=Eg()),new Promise(function(n,s){if(r==="fa"){var i=qX(e)||{};e=i.iconName||e,t=i.prefix||t}if(e&&t&&xE[t]&&xE[t][e]){var o=xE[t][e];return n(DT(o))}aLe(e,t),n(qr(qr({},nLe),{},{icon:Xn.showMissingIcons&&e?Bg("missingIconAbstract")||{}:{}}))})}var XR=function(){},UT=Xn.measurePerformance&&e5&&e5.mark&&e5.measure?e5:{mark:XR,measure:XR},S2='FA "7.0.1"',sLe=function(t){return UT.mark("".concat(S2," ").concat(t," begins")),function(){return YX(t)}},YX=function(t){UT.mark("".concat(S2," ").concat(t," ends")),UT.measure("".concat(S2," ").concat(t),"".concat(S2," ").concat(t," begins"),"".concat(S2," ").concat(t," ends"))},wI={begin:sLe,end:YX},C5=function(){};function JR(e){var t=e.getAttribute?e.getAttribute(r1):null;return typeof t=="string"}function iLe(e){var t=e.getAttribute?e.getAttribute(AI):null,r=e.getAttribute?e.getAttribute(mI):null;return t&&r}function oLe(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(Xn.replacementClass)}function lLe(){if(Xn.autoReplaceSvg===!0)return E5.replace;var e=E5[Xn.autoReplaceSvg];return e||E5.replace}function cLe(e){return Mo.createElementNS("http://www.w3.org/2000/svg",e)}function uLe(e){return Mo.createElement(e)}function XX(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.ceFn,n=r===void 0?e.tag==="svg"?cLe:uLe:r;if(typeof e=="string")return Mo.createTextNode(e);var s=n(e.tag);Object.keys(e.attributes||[]).forEach(function(o){s.setAttribute(o,e.attributes[o])});var i=e.children||[];return i.forEach(function(o){s.appendChild(XX(o,{ceFn:n}))}),s}function dLe(e){var t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}var E5={replace:function(t){var r=t[0];if(r.parentNode)if(t[1].forEach(function(s){r.parentNode.insertBefore(XX(s),r)}),r.getAttribute(r1)===null&&Xn.keepOriginalSource){var n=Mo.createComment(dLe(r));r.parentNode.replaceChild(n,r)}else r.remove()},nest:function(t){var r=t[0],n=t[1];if(~gI(r).indexOf(Xn.replacementClass))return E5.replace(t);var s=new RegExp("".concat(Xn.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce(function(l,c){return c===Xn.replacementClass||c.match(s)?l.toSvg.push(c):l.toNode.push(c),l},{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?r.removeAttribute("class"):r.setAttribute("class",i.toNode.join(" "))}var o=n.map(function(l){return Cw(l)}).join(`
`);r.setAttribute(r1,""),r.innerHTML=o}};function ZR(e){e()}function JX(e,t){var r=typeof t=="function"?t:C5;if(e.length===0)r();else{var n=ZR;Xn.mutateApproach===APe&&(n=Cg.requestAnimationFrame||ZR),n(function(){var s=lLe(),i=wI.begin("mutate");e.map(s),i(),r()})}}var NI=!1;function ZX(){NI=!0}function RT(){NI=!1}var YN=null;function e9(e){if(MR&&Xn.observeMutations){var t=e.treeCallback,r=t===void 0?C5:t,n=e.nodeCallback,s=n===void 0?C5:n,i=e.pseudoElementsCallback,o=i===void 0?C5:i,l=e.observeMutationsRoot,c=l===void 0?Mo:l;YN=new MR(function(d){if(!NI){var u=Eg();Ty(d).forEach(function(h){if(h.type==="childList"&&h.addedNodes.length>0&&!JR(h.addedNodes[0])&&(Xn.searchPseudoElements&&o(h.target),r(h.target)),h.type==="attributes"&&h.target.parentNode&&Xn.searchPseudoElements&&o([h.target],!0),h.type==="attributes"&&JR(h.target)&&~yPe.indexOf(h.attributeName))if(h.attributeName==="class"&&iLe(h.target)){var m=gS(gI(h.target)),A=m.prefix,y=m.iconName;h.target.setAttribute(AI,A||u),y&&h.target.setAttribute(mI,y)}else oLe(h.target)&&s(h.target)})}}),hp&&YN.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function fLe(){YN&&YN.disconnect()}function hLe(e){var t=e.getAttribute("style"),r=[];return t&&(r=t.split(";").reduce(function(n,s){var i=s.split(":"),o=i[0],l=i.slice(1);return o&&l.length>0&&(n[o]=l.join(":").trim()),n},{})),r}function ALe(e){var t=e.getAttribute("data-prefix"),r=e.getAttribute("data-icon"),n=e.innerText!==void 0?e.innerText.trim():"",s=gS(gI(e));return s.prefix||(s.prefix=Eg()),t&&r&&(s.prefix=t,s.iconName=r),s.iconName&&s.prefix||(s.prefix&&n.length>0&&(s.iconName=MPe(s.prefix,e.innerText)||yI(s.prefix,UX(e.innerText))),!s.iconName&&Xn.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=e.firstChild.data)),s}function mLe(e){var t=Ty(e.attributes).reduce(function(r,n){return r.name!=="class"&&r.name!=="style"&&(r[n.name]=n.value),r},{});return t}function pLe(){return{iconName:null,prefix:null,transform:Rm,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function t9(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},r=ALe(e),n=r.iconName,s=r.prefix,i=r.rest,o=mLe(e),l=LT("parseNodeAttributes",{},e),c=t.styleParser?hLe(e):[];return qr({iconName:n,prefix:s,transform:Rm,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:c,attributes:o}},l)}var gLe=KA.styles;function eJ(e){var t=Xn.autoReplaceSvg==="nest"?t9(e,{styleParser:!1}):t9(e);return~t.extra.classes.indexOf(kX)?Bg("generateLayersText",e,t):Bg("generateSvgReplacementMutation",e,t)}function xLe(){return[].concat(XA(SX),XA(CX))}function r9(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!hp)return Promise.resolve();var r=Mo.documentElement.classList,n=function(h){return r.add("".concat(QR,"-").concat(h))},s=function(h){return r.remove("".concat(QR,"-").concat(h))},i=Xn.autoFetchSvg?xLe():uX.concat(Object.keys(gLe));i.includes("fa")||i.push("fa");var o=[".".concat(kX,":not([").concat(r1,"])")].concat(i.map(function(u){return".".concat(u,":not([").concat(r1,"])")})).join(", ");if(o.length===0)return Promise.resolve();var l=[];try{l=Ty(e.querySelectorAll(o))}catch{}if(l.length>0)n("pending"),s("complete");else return Promise.resolve();var c=wI.begin("onTree"),d=l.reduce(function(u,h){try{var m=eJ(h);m&&u.push(m)}catch(A){FX||A.name==="MissingIcon"&&console.error(A)}return u},[]);return new Promise(function(u,h){Promise.all(d).then(function(m){JX(m,function(){n("active"),n("complete"),s("pending"),typeof t=="function"&&t(),c(),u()})}).catch(function(m){c(),h(m)})})}function vLe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;eJ(e).then(function(r){r&&JX([r],t)})}function yLe(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=(t||{}).icon?t:OT(t||{}),s=r.mask;return s&&(s=(s||{}).icon?s:OT(s||{})),e(n,qr(qr({},r),{},{mask:s}))}}var bLe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.transform,s=n===void 0?Rm:n,i=r.symbol,o=i===void 0?!1:i,l=r.mask,c=l===void 0?null:l,d=r.maskId,u=d===void 0?null:d,h=r.classes,m=h===void 0?[]:h,A=r.attributes,y=A===void 0?{}:A,x=r.styles,v=x===void 0?{}:x;if(t){var b=t.prefix,j=t.iconName,E=t.icon;return xS(qr({type:"icon"},t),function(){return n1("beforeDOMElementCreation",{iconDefinition:t,params:r}),bI({icons:{main:DT(E),mask:c?DT(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:b,iconName:j,transform:qr(qr({},Rm),s),symbol:o,maskId:u,extra:{attributes:y,styles:v,classes:m}})})}},wLe={mixout:function(){return{icon:yLe(bLe)}},hooks:function(){return{mutationObserverCallbacks:function(r){return r.treeCallback=r9,r.nodeCallback=vLe,r}}},provides:function(t){t.i2svg=function(r){var n=r.node,s=n===void 0?Mo:n,i=r.callback,o=i===void 0?function(){}:i;return r9(s,o)},t.generateSvgReplacementMutation=function(r,n){var s=n.iconName,i=n.prefix,o=n.transform,l=n.symbol,c=n.mask,d=n.maskId,u=n.extra;return new Promise(function(h,m){Promise.all([MT(s,i),c.iconName?MT(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(A){var y=AS(A,2),x=y[0],v=y[1];h([r,bI({icons:{main:x,mask:v},prefix:i,iconName:s,transform:o,symbol:l,maskId:d,extra:u,watchable:!0})])}).catch(m)})},t.generateAbstractIcon=function(r){var n=r.children,s=r.attributes,i=r.main,o=r.transform,l=r.styles,c=mS(l);c.length>0&&(s.style=c);var d;return xI(o)&&(d=Bg("generateAbstractTransformGrouping",{main:i,transform:o,containerWidth:i.width,iconWidth:i.width})),n.push(d||i.icon),{children:n,attributes:s}}}},NLe={mixout:function(){return{layer:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.classes,i=s===void 0?[]:s;return xS({type:"layer"},function(){n1("beforeDOMElementCreation",{assembler:r,params:n});var o=[];return r(function(l){Array.isArray(l)?l.map(function(c){o=o.concat(c.abstract)}):o=o.concat(l.abstract)}),[{tag:"span",attributes:{class:["".concat(Xn.cssPrefix,"-layers")].concat(XA(i)).join(" ")},children:o}]})}}}},jLe={mixout:function(){return{counter:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};n.title;var s=n.classes,i=s===void 0?[]:s,o=n.attributes,l=o===void 0?{}:o,c=n.styles,d=c===void 0?{}:c;return xS({type:"counter",content:r},function(){return n1("beforeDOMElementCreation",{content:r,params:n}),rLe({content:r.toString(),extra:{attributes:l,styles:d,classes:["".concat(Xn.cssPrefix,"-layers-counter")].concat(XA(i))}})})}}}},SLe={mixout:function(){return{text:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.transform,i=s===void 0?Rm:s,o=n.classes,l=o===void 0?[]:o,c=n.attributes,d=c===void 0?{}:c,u=n.styles,h=u===void 0?{}:u;return xS({type:"text",content:r},function(){return n1("beforeDOMElementCreation",{content:r,params:n}),YR({content:r,transform:qr(qr({},Rm),i),extra:{attributes:d,styles:h,classes:["".concat(Xn.cssPrefix,"-layers-text")].concat(XA(l))}})})}}},provides:function(t){t.generateLayersText=function(r,n){var s=n.transform,i=n.extra,o=null,l=null;if(lX){var c=parseInt(getComputedStyle(r).fontSize,10),d=r.getBoundingClientRect();o=d.width/c,l=d.height/c}return Promise.resolve([r,YR({content:r.innerHTML,width:o,height:l,transform:s,extra:i,watchable:!0})])}}},tJ=new RegExp('"',"ug"),n9=[1105920,1112319],a9=qr(qr(qr(qr({},{FontAwesome:{normal:"fas",400:"fas"}}),hke),fPe),wke),QT=Object.keys(a9).reduce(function(e,t){return e[t.toLowerCase()]=a9[t],e},{}),CLe=Object.keys(QT).reduce(function(e,t){var r=QT[t];return e[t]=r[900]||XA(Object.entries(r))[0][1],e},{});function ELe(e){var t=e.replace(tJ,"");return UX(XA(t)[0]||"")}function BLe(e){var t=e.getPropertyValue("font-feature-settings").includes("ss01"),r=e.getPropertyValue("content"),n=r.replace(tJ,""),s=n.codePointAt(0),i=s>=n9[0]&&s<=n9[1],o=n.length===2?n[0]===n[1]:!1;return i||o||t}function TLe(e,t){var r=e.replace(/^['"]|['"]$/g,"").toLowerCase(),n=parseInt(t),s=isNaN(n)?"normal":n;return(QT[r]||{})[s]||CLe[r]}function s9(e,t){var r="".concat(hPe).concat(t.replace(":","-"));return new Promise(function(n,s){if(e.getAttribute(r)!==null)return n();var i=Ty(e.children),o=i.filter(function(U){return U.getAttribute(_T)===t})[0],l=Cg.getComputedStyle(e,t),c=l.getPropertyValue("font-family"),d=c.match(xPe),u=l.getPropertyValue("font-weight"),h=l.getPropertyValue("content");if(o&&!d)return e.removeChild(o),n();if(d&&h!=="none"&&h!==""){var m=l.getPropertyValue("content"),A=TLe(c,u),y=ELe(m),x=d[0].startsWith("FontAwesome"),v=BLe(l),b=yI(A,y),j=b;if(x){var E=UPe(y);E.iconName&&E.prefix&&(b=E.iconName,A=E.prefix)}if(b&&!v&&(!o||o.getAttribute(AI)!==A||o.getAttribute(mI)!==j)){e.setAttribute(r,j),o&&e.removeChild(o);var T=pLe(),P=T.extra;P.attributes[_T]=t,MT(b,A).then(function(U){var M=bI(qr(qr({},T),{},{icons:{main:U,mask:GX()},prefix:A,iconName:j,extra:P,watchable:!0})),k=Mo.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(k,e.firstChild):e.appendChild(k),k.outerHTML=M.map(function(Q){return Cw(Q)}).join(`
`),e.removeAttribute(r),n()}).catch(s)}else n()}else n()})}function _Le(e){return Promise.all([s9(e,"::before"),s9(e,"::after")])}function FLe(e){return e.parentNode!==document.head&&!~mPe.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(_T)&&(!e.parentNode||e.parentNode.tagName!=="svg")}var ILe=function(t){return!!t&&_X.some(function(r){return t.includes(r)})},kLe=function(t){if(!t)return[];var r=new Set,n=t.split(/,(?![^()]*\))/).map(function(c){return c.trim()});n=n.flatMap(function(c){return c.includes("(")?c:c.split(",").map(function(d){return d.trim()})});var s=S5(n),i;try{for(s.s();!(i=s.n()).done;){var o=i.value;if(ILe(o)){var l=_X.reduce(function(c,d){return c.replace(d,"")},o);l!==""&&l!=="*"&&r.add(l)}}}catch(c){s.e(c)}finally{s.f()}return r};function i9(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(hp){var r;if(t)r=e;else if(Xn.searchPseudoElementsFullScan)r=e.querySelectorAll("*");else{var n=new Set,s=S5(document.styleSheets),i;try{for(s.s();!(i=s.n()).done;){var o=i.value;try{var l=S5(o.cssRules),c;try{for(l.s();!(c=l.n()).done;){var d=c.value,u=kLe(d.selectorText),h=S5(u),m;try{for(h.s();!(m=h.n()).done;){var A=m.value;n.add(A)}}catch(x){h.e(x)}finally{h.f()}}}catch(x){l.e(x)}finally{l.f()}}catch(x){Xn.searchPseudoElementsWarnings&&console.warn("Font Awesome: cannot parse stylesheet: ".concat(o.href," (").concat(x.message,`)
If it declares any Font Awesome CSS pseudo-elements, they will not be rendered as SVG icons. Add crossorigin="anonymous" to the <link>, enable searchPseudoElementsFullScan for slower but more thorough DOM parsing, or suppress this warning by setting searchPseudoElementsWarnings to false.`))}}}catch(x){s.e(x)}finally{s.f()}if(!n.size)return;var y=Array.from(n).join(", ");try{r=e.querySelectorAll(y)}catch{}}return new Promise(function(x,v){var b=Ty(r).filter(FLe).map(_Le),j=wI.begin("searchPseudoElements");ZX(),Promise.all(b).then(function(){j(),RT(),x()}).catch(function(){j(),RT(),v()})})}}var PLe={hooks:function(){return{mutationObserverCallbacks:function(r){return r.pseudoElementsCallback=i9,r}}},provides:function(t){t.pseudoElements2svg=function(r){var n=r.node,s=n===void 0?Mo:n;Xn.searchPseudoElements&&i9(s)}}},o9=!1,LLe={mixout:function(){return{dom:{unwatch:function(){ZX(),o9=!0}}}},hooks:function(){return{bootstrap:function(){e9(LT("mutationObserverCallbacks",{}))},noAuto:function(){fLe()},watch:function(r){var n=r.observeMutationsRoot;o9?RT():e9(LT("mutationObserverCallbacks",{observeMutationsRoot:n}))}}}},l9=function(t){var r={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce(function(n,s){var i=s.toLowerCase().split("-"),o=i[0],l=i.slice(1).join("-");if(o&&l==="h")return n.flipX=!0,n;if(o&&l==="v")return n.flipY=!0,n;if(l=parseFloat(l),isNaN(l))return n;switch(o){case"grow":n.size=n.size+l;break;case"shrink":n.size=n.size-l;break;case"left":n.x=n.x-l;break;case"right":n.x=n.x+l;break;case"up":n.y=n.y-l;break;case"down":n.y=n.y+l;break;case"rotate":n.rotate=n.rotate+l;break}return n},r)},OLe={mixout:function(){return{parse:{transform:function(r){return l9(r)}}}},hooks:function(){return{parseNodeAttributes:function(r,n){var s=n.getAttribute("data-fa-transform");return s&&(r.transform=l9(s)),r}}},provides:function(t){t.generateAbstractTransformGrouping=function(r){var n=r.main,s=r.transform,i=r.containerWidth,o=r.iconWidth,l={transform:"translate(".concat(i/2," 256)")},c="translate(".concat(s.x*32,", ").concat(s.y*32,") "),d="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),u="rotate(".concat(s.rotate," 0 0)"),h={transform:"".concat(c," ").concat(d," ").concat(u)},m={transform:"translate(".concat(o/2*-1," -256)")},A={outer:l,inner:h,path:m};return{tag:"g",attributes:qr({},A.outer),children:[{tag:"g",attributes:qr({},A.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:qr(qr({},n.icon.attributes),A.path)}]}]}}}},vE={x:0,y:0,width:"100%",height:"100%"};function c9(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function DLe(e){return e.tag==="g"?e.children:[e]}var MLe={hooks:function(){return{parseNodeAttributes:function(r,n){var s=n.getAttribute("data-fa-mask"),i=s?gS(s.split(" ").map(function(o){return o.trim()})):GX();return i.prefix||(i.prefix=Eg()),r.mask=i,r.maskId=n.getAttribute("data-fa-mask-id"),r}}},provides:function(t){t.generateAbstractMask=function(r){var n=r.children,s=r.attributes,i=r.main,o=r.mask,l=r.maskId,c=r.transform,d=i.width,u=i.icon,h=o.width,m=o.icon,A=TPe({transform:c,containerWidth:h,iconWidth:d}),y={tag:"rect",attributes:qr(qr({},vE),{},{fill:"white"})},x=u.children?{children:u.children.map(c9)}:{},v={tag:"g",attributes:qr({},A.inner),children:[c9(qr({tag:u.tag,attributes:qr(qr({},u.attributes),A.path)},x))]},b={tag:"g",attributes:qr({},A.outer),children:[v]},j="mask-".concat(l||$R()),E="clip-".concat(l||$R()),T={tag:"mask",attributes:qr(qr({},vE),{},{id:j,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[y,b]},P={tag:"defs",children:[{tag:"clipPath",attributes:{id:E},children:DLe(m)},T]};return n.push(P,{tag:"rect",attributes:qr({fill:"currentColor","clip-path":"url(#".concat(E,")"),mask:"url(#".concat(j,")")},vE)}),{children:n,attributes:s}}}},ULe={provides:function(t){var r=!1;Cg.matchMedia&&(r=Cg.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var n=[],s={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:qr(qr({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=qr(qr({},i),{},{attributeName:"opacity"}),l={tag:"circle",attributes:qr(qr({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return r||l.children.push({tag:"animate",attributes:qr(qr({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:qr(qr({},o),{},{values:"1;0;1;1;0;1;"})}),n.push(l),n.push({tag:"path",attributes:qr(qr({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:r?[]:[{tag:"animate",attributes:qr(qr({},o),{},{values:"1;0;0;0;0;1;"})}]}),r||n.push({tag:"path",attributes:qr(qr({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:qr(qr({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},RLe={hooks:function(){return{parseNodeAttributes:function(r,n){var s=n.getAttribute("data-fa-symbol"),i=s===null?!1:s===""?!0:s;return r.symbol=i,r}}}},QLe=[IPe,wLe,NLe,jLe,SLe,PLe,LLe,OLe,MLe,ULe,RLe];GPe(QLe,{mixoutsTo:Eh});Eh.noAuto;var HLe=Eh.config;Eh.library;Eh.dom;var rJ=Eh.parse;Eh.findIconDefinition;Eh.toHtml;var $Le=Eh.icon;Eh.layer;Eh.text;Eh.counter;function zLe(e){return e=e-0,e===e}function nJ(e){return zLe(e)?e:(e=e.replaceAll(/[_-]+(.)?/g,(t,r)=>r?r.toUpperCase():""),e.charAt(0).toLowerCase()+e.slice(1))}function VLe(e){return e.charAt(0).toUpperCase()+e.slice(1)}var lv=new Map,KLe=1e3;function qLe(e){if(lv.has(e))return lv.get(e);const t={};let r=0;const n=e.length;for(;r<n;){const s=e.indexOf(";",r),i=s===-1?n:s,o=e.slice(r,i).trim();if(o){const l=o.indexOf(":");if(l>0){const c=o.slice(0,l).trim(),d=o.slice(l+1).trim();if(c&&d){const u=nJ(c);t[u.startsWith("webkit")?VLe(u):u]=d}}}r=i+1}if(lv.size===KLe){const s=lv.keys().next().value;s&&lv.delete(s)}return lv.set(e,t),t}function aJ(e,t,r={}){if(typeof t=="string")return t;const n=(t.children||[]).map(d=>aJ(e,d)),s=t.attributes||{},i={};for(const[d,u]of Object.entries(s))switch(!0){case d==="class":{i.className=u,delete s.class;break}case d==="style":{i.style=qLe(String(u));break}case d.startsWith("aria-"):case d.startsWith("data-"):{i[d.toLowerCase()]=u;break}default:i[nJ(d)]=u}const{style:o,"aria-label":l,...c}=r;return o&&(i.style=i.style?{...i.style,...o}:o),l&&(i["aria-label"]=l,i["aria-hidden"]="false"),e(t.tag,{...c,...i},...n)}var u9=(e,t)=>{const r=C.useId();return e||(t?r:void 0)},GLe=class{constructor(e="react-fontawesome"){this.enabled=!1;let t=!1;try{t=typeof process<"u"&&!1}catch{}this.scope=e,this.enabled=t}log(...e){this.enabled&&console.log(`[${this.scope}]`,...e)}warn(...e){this.enabled&&console.warn(`[${this.scope}]`,...e)}error(...e){this.enabled&&console.error(`[${this.scope}]`,...e)}},WLe="searchPseudoElementsFullScan"in HLe?"7.0.0":"6.0.0",YLe=Number.parseInt(WLe)>=7,B0={beat:"fa-beat",fade:"fa-fade",beatFade:"fa-beat-fade",bounce:"fa-bounce",shake:"fa-shake",spin:"fa-spin",spinPulse:"fa-spin-pulse",spinReverse:"fa-spin-reverse",pulse:"fa-pulse"},XLe={left:"fa-pull-left",right:"fa-pull-right"},JLe={90:"fa-rotate-90",180:"fa-rotate-180",270:"fa-rotate-270"},ZLe={"2xs":"fa-2xs",xs:"fa-xs",sm:"fa-sm",lg:"fa-lg",xl:"fa-xl","2xl":"fa-2xl","1x":"fa-1x","2x":"fa-2x","3x":"fa-3x","4x":"fa-4x","5x":"fa-5x","6x":"fa-6x","7x":"fa-7x","8x":"fa-8x","9x":"fa-9x","10x":"fa-10x"},T0={border:"fa-border",fixedWidth:"fa-fw",flip:"fa-flip",flipHorizontal:"fa-flip-horizontal",flipVertical:"fa-flip-vertical",inverse:"fa-inverse",rotateBy:"fa-rotate-by",swapOpacity:"fa-swap-opacity",widthAuto:"fa-width-auto"};function e7e(e){const{beat:t,fade:r,beatFade:n,bounce:s,shake:i,spin:o,spinPulse:l,spinReverse:c,pulse:d,fixedWidth:u,inverse:h,border:m,flip:A,size:y,rotation:x,pull:v,swapOpacity:b,rotateBy:j,widthAuto:E,className:T}=e,P=[];return T&&P.push(...T.split(" ")),t&&P.push(B0.beat),r&&P.push(B0.fade),n&&P.push(B0.beatFade),s&&P.push(B0.bounce),i&&P.push(B0.shake),o&&P.push(B0.spin),c&&P.push(B0.spinReverse),l&&P.push(B0.spinPulse),d&&P.push(B0.pulse),u&&P.push(T0.fixedWidth),h&&P.push(T0.inverse),m&&P.push(T0.border),A===!0&&P.push(T0.flip),(A==="horizontal"||A==="both")&&P.push(T0.flipHorizontal),(A==="vertical"||A==="both")&&P.push(T0.flipVertical),y!=null&&P.push(ZLe[y]),x!=null&&x!==0&&P.push(JLe[x]),v!=null&&P.push(XLe[v]),b&&P.push(T0.swapOpacity),YLe&&(j&&P.push(T0.rotateBy),E&&P.push(T0.widthAuto)),P}var t7e=e=>typeof e=="object"&&"icon"in e&&!!e.icon;function d9(e){if(e)return t7e(e)?e:rJ.icon(e)}function r7e(e){return Object.keys(e)}var f9=new GLe("FontAwesomeIcon"),sJ={border:!1,className:"",mask:void 0,maskId:void 0,fixedWidth:!1,inverse:!1,flip:!1,icon:void 0,listItem:!1,pull:void 0,pulse:!1,rotation:void 0,rotateBy:!1,size:void 0,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:void 0,transform:void 0,swapOpacity:!1,widthAuto:!1},n7e=new Set(Object.keys(sJ)),ji=Kn.forwardRef((e,t)=>{const r={...sJ,...e},{icon:n,mask:s,symbol:i,title:o,titleId:l,maskId:c,transform:d}=r,u=u9(c,!!s),h=u9(l,!!o),m=d9(n);if(!m)return f9.error("Icon lookup is undefined",n),null;const A=e7e(r),y=typeof d=="string"?rJ.transform(d):d,x=d9(s),v=$Le(m,{...A.length>0&&{classes:A},...y&&{transform:y},...x&&{mask:x},symbol:i,title:o,titleId:h,maskId:u});if(!v)return f9.error("Could not find icon",m),null;const{abstract:b}=v,j={ref:t};for(const E of r7e(r))n7e.has(E)||(j[E]=r[E]);return a7e(b[0],j)});ji.displayName="FontAwesomeIcon";var a7e=aJ.bind(null,Kn.createElement);/*!
 * Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var s7e={prefix:"fab",iconName:"linkedin",icon:[448,512,[],"f08c","M416 32L31.9 32C14.3 32 0 46.5 0 64.3L0 447.7C0 465.5 14.3 480 31.9 480L416 480c17.6 0 32-14.5 32-32.3l0-383.4C448 46.5 433.6 32 416 32zM135.4 416l-66.4 0 0-213.8 66.5 0 0 213.8-.1 0zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77zM384.3 416l-66.4 0 0-104c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9l0 105.8-66.4 0 0-213.8 63.7 0 0 29.2 .9 0c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9l0 117.2z"]},i7e={prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5l0-170.3-52.8 0 0-78.2 52.8 0 0-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4l0 70.8c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2l0 27.8 83.6 0-14.4 78.2-69.3 0 0 175.9C413.8 494.8 512 386.9 512 256z"]},o7e={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.3 141a115 115 0 1 0 -.6 230 115 115 0 1 0 .6-230zm-.6 40.4a74.6 74.6 0 1 1 .6 149.2 74.6 74.6 0 1 1 -.6-149.2zm93.4-45.1a26.8 26.8 0 1 1 53.6 0 26.8 26.8 0 1 1 -53.6 0zm129.7 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM399 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]},l7e={prefix:"fab",iconName:"whatsapp",icon:[448,512,[],"f232","M380.9 97.1c-41.9-42-97.7-65.1-157-65.1-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480 117.7 449.1c32.4 17.7 68.9 27 106.1 27l.1 0c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3 18.6-68.1-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1s56.2 81.2 56.1 130.5c0 101.8-84.9 184.6-186.6 184.6zM325.1 300.5c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8s-14.3 18-17.6 21.8c-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7 .9-6.9-.5-9.7s-12.5-30.1-17.1-41.2c-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2s-9.7 1.4-14.8 6.9c-5.1 5.6-19.4 19-19.4 46.3s19.9 53.7 22.6 57.4c2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4s4.6-24.1 3.2-26.4c-1.3-2.5-5-3.9-10.5-6.6z"]},c7e={prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.4 151.7c.3 4.5 .3 9.1 .3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103l0-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53 51.7 63.7 129.3 105.3 216.4 109.8-1.6-7.8-2.6-15.9-2.6-24 0-57.8 46.8-104.9 104.9-104.9 30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3z"]};const u7e="/assets/Capture-CUW6gBsa.PNG",d7e="/assets/Capture2-CwHGBG9c.png",f7e="/assets/school1-CD8wMhyW.jpg",h7e="/assets/school2-CophQY_4.jpg",A7e="/assets/school3-CNkxgSjB.jpg";/*!
 * Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var m7e={prefix:"fas",iconName:"calendar-check",icon:[448,512,[],"f274","M320 0c17.7 0 32 14.3 32 32l0 32 32 0c35.3 0 64 28.7 64 64l0 288c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 128C0 92.7 28.7 64 64 64l32 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32zm22 161.7c-10.7-7.8-25.7-5.4-33.5 5.3L189.1 331.2 137 279.1c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l72 72c5 5 11.9 7.5 18.8 7s13.4-4.1 17.5-9.8L347.3 195.2c7.8-10.7 5.4-25.7-5.3-33.5z"]},iJ={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64c-26.5 0-48 21.5-48 48 0 15.1 7.1 29.3 19.2 38.4l208 156c17.1 12.8 40.5 12.8 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48L48 64zM0 196L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-188-198.4 148.8c-34.1 25.6-81.1 25.6-115.2 0L0 196z"]},oJ={prefix:"fas",iconName:"bell",icon:[448,512,[128276,61602],"f0f3","M224 0c-17.7 0-32 14.3-32 32l0 3.2C119 50 64 114.6 64 192l0 21.7c0 48.1-16.4 94.8-46.4 132.4L7.8 358.3C2.7 364.6 0 372.4 0 380.5 0 400.1 15.9 416 35.5 416l376.9 0c19.6 0 35.5-15.9 35.5-35.5 0-8.1-2.7-15.9-7.8-22.2l-9.8-12.2C400.4 308.5 384 261.8 384 213.7l0-21.7c0-77.4-55-142-128-156.8l0-3.2c0-17.7-14.3-32-32-32zM162 464c7.1 27.6 32.2 48 62 48s54.9-20.4 62-48l-124 0z"]},p7e={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512 256 256 0 1 1 0-512zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},g7e={prefix:"fas",iconName:"rocket",icon:[512,512,[],"f135","M128 320L24.5 320c-24.9 0-40.2-27.1-27.4-48.5L50 183.3C58.7 168.8 74.3 160 91.2 160l95 0c76.1-128.9 189.6-135.4 265.5-124.3 12.8 1.9 22.8 11.9 24.6 24.6 11.1 75.9 4.6 189.4-124.3 265.5l0 95c0 16.9-8.8 32.5-23.3 41.2l-88.2 52.9c-21.3 12.8-48.5-2.6-48.5-27.4L192 384c0-35.3-28.7-64-64-64l-.1 0zM400 160a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z"]},x7e={prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M320 16a104 104 0 1 1 0 208 104 104 0 1 1 0-208zM96 88a72 72 0 1 1 0 144 72 72 0 1 1 0-144zM0 416c0-70.7 57.3-128 128-128 12.8 0 25.2 1.9 36.9 5.4-32.9 36.8-52.9 85.4-52.9 138.6l0 16c0 11.4 2.4 22.2 6.7 32L32 480c-17.7 0-32-14.3-32-32l0-32zm521.3 64c4.3-9.8 6.7-20.6 6.7-32l0-16c0-53.2-20-101.8-52.9-138.6 11.7-3.5 24.1-5.4 36.9-5.4 70.7 0 128 57.3 128 128l0 32c0 17.7-14.3 32-32 32l-86.7 0zM472 160a72 72 0 1 1 144 0 72 72 0 1 1 -144 0zM160 432c0-88.4 71.6-160 160-160s160 71.6 160 160l0 16c0 17.7-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32l0-16z"]},v7e={prefix:"fas",iconName:"lightbulb",icon:[384,512,[128161],"f0eb","M292.9 384c7.3-22.3 21.9-42.5 38.4-59.9 32.7-34.4 52.7-80.9 52.7-132.1 0-106-86-192-192-192S0 86 0 192c0 51.2 20 97.7 52.7 132.1 16.5 17.4 31.2 37.6 38.4 59.9l201.7 0zM288 432l-192 0 0 16c0 44.2 35.8 80 80 80l32 0c44.2 0 80-35.8 80-80l0-16zM184 112c-39.8 0-72 32.2-72 72 0 13.3-10.7 24-24 24s-24-10.7-24-24c0-66.3 53.7-120 120-120 13.3 0 24 10.7 24 24s-10.7 24-24 24z"]},y7e={prefix:"fas",iconName:"chart-line",icon:[512,512,["line-chart"],"f201","M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7 262.6 153.4c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l73.4-73.4 57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"]},b7e={prefix:"fas",iconName:"mobile-screen-button",icon:[384,512,["mobile-alt"],"f3cd","M16 64C16 28.7 44.7 0 80 0L304 0c35.3 0 64 28.7 64 64l0 384c0 35.3-28.7 64-64 64L80 512c-35.3 0-64-28.7-64-64L16 64zm64 0l0 304 224 0 0-304-224 0zM192 472c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32z"]},w7e=b7e,N7e={prefix:"fas",iconName:"chart-bar",icon:[512,512,["bar-chart"],"f080","M32 32c17.7 0 32 14.3 32 32l0 336c0 8.8 7.2 16 16 16l400 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L80 480c-44.2 0-80-35.8-80-80L0 64C0 46.3 14.3 32 32 32zm96 64c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-192 0c-17.7 0-32-14.3-32-32zm32 80l128 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 112l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},j7e={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M55.1 73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L147.2 256 9.9 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192.5 301.3 329.9 438.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.8 256 375.1 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192.5 210.7 55.1 73.4z"]},S7e=j7e,C7e={prefix:"fas",iconName:"file-lines",icon:[384,512,[128441,128462,61686,"file-alt","file-text"],"f15c","M0 64C0 28.7 28.7 0 64 0L213.5 0c17 0 33.3 6.7 45.3 18.7L365.3 125.3c12 12 18.7 28.3 18.7 45.3L384 448c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm208-5.5l0 93.5c0 13.3 10.7 24 24 24L325.5 176 208 58.5zM120 256c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-144 0zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-144 0z"]},h9=C7e,E7e={prefix:"fas",iconName:"comments",icon:[576,512,[128490,61670],"f086","M384 144c0 97.2-86 176-192 176-26.7 0-52.1-5-75.2-14L35.2 349.2c-9.3 4.9-20.7 3.2-28.2-4.2s-9.2-18.9-4.2-28.2l35.6-67.2C14.3 220.2 0 183.6 0 144 0 46.8 86-32 192-32S384 46.8 384 144zm0 368c-94.1 0-172.4-62.1-188.8-144 120-1.5 224.3-86.9 235.8-202.7 83.3 19.2 145 88.3 145 170.7 0 39.6-14.3 76.2-38.4 105.6l35.6 67.2c4.9 9.3 3.2 20.7-4.2 28.2s-18.9 9.2-28.2 4.2L459.2 498c-23.1 9-48.5 14-75.2 14z"]},B7e={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512a256 256 0 1 1 0-512 256 256 0 1 1 0 512zM374 145.7c-10.7-7.8-25.7-5.4-33.5 5.3L221.1 315.2 169 263.1c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l72 72c5 5 11.8 7.5 18.8 7s13.4-4.1 17.5-9.8L379.3 179.2c7.8-10.7 5.4-25.7-5.3-33.5z"]},B5=B7e,lJ={prefix:"fas",iconName:"phone",icon:[512,512,[128222,128379],"f095","M160.2 25C152.3 6.1 131.7-3.9 112.1 1.4l-5.5 1.5c-64.6 17.6-119.8 80.2-103.7 156.4 37.1 175 174.8 312.7 349.8 349.8 76.3 16.2 138.8-39.1 156.4-103.7l1.5-5.5c5.4-19.7-4.7-40.3-23.5-48.1l-97.3-40.5c-16.5-6.9-35.6-2.1-47 11.8l-38.6 47.2C233.9 335.4 177.3 277 144.8 205.3L189 169.3c13.9-11.3 18.6-30.4 11.8-47L160.2 25z"]},T7e={prefix:"fas",iconName:"leaf",icon:[512,512,[],"f06c","M471.3 6.7C477.7 .6 487-1.6 495.6 1.2 505.4 4.5 512 13.7 512 24l0 186.9c0 131.2-108.1 237.1-238.8 237.1-77 0-143.4-49.5-167.5-118.7-35.4 30.8-57.7 76.1-57.7 126.7 0 13.3-10.7 24-24 24S0 469.3 0 456C0 381.1 38.2 315.1 96.1 276.3 131.4 252.7 173.5 240 216 240l80 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-80 0c-39.7 0-77.3 8.8-111 24.5 23.3-70 89.2-120.5 167-120.5 66.4 0 115.8-22.1 148.7-44 19.2-12.8 35.5-28.1 50.7-45.3z"]},_7e={prefix:"fas",iconName:"bus",icon:[448,512,[128653],"f207","M96 0C43 0 0 43 0 96L0 384c0 29.8 20.4 54.9 48 62l0 34c0 17.7 14.3 32 32 32l16 0c17.7 0 32-14.3 32-32l0-32 192 0 0 32c0 17.7 14.3 32 32 32l16 0c17.7 0 32-14.3 32-32l0-34c27.6-7.1 48-32.2 48-62l0-288c0-53-43-96-96-96L96 0zM64 176c0-17.7 14.3-32 32-32l104 0 0 112-104 0c-17.7 0-32-14.3-32-32l0-48zm184 80l0-112 104 0c17.7 0 32 14.3 32 32l0 48c0 17.7-14.3 32-32 32l-104 0zM96 320a32 32 0 1 1 0 64 32 32 0 1 1 0-64zm256 0a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM152 72c0-13.3 10.7-24 24-24l96 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-96 0c-13.3 0-24-10.7-24-24z"]},F7e={prefix:"fas",iconName:"quote-left",icon:[448,512,[8220,"quote-left-alt"],"f10d","M0 216C0 149.7 53.7 96 120 96l8 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-8 0c-30.9 0-56 25.1-56 56l0 8 64 0c35.3 0 64 28.7 64 64l0 64c0 35.3-28.7 64-64 64l-64 0c-35.3 0-64-28.7-64-64L0 216zm256 0c0-66.3 53.7-120 120-120l8 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-8 0c-30.9 0-56 25.1-56 56l0 8 64 0c35.3 0 64 28.7 64 64l0 64c0 35.3-28.7 64-64 64l-64 0c-35.3 0-64-28.7-64-64l0-136z"]},I7e={prefix:"fas",iconName:"credit-card",icon:[512,512,[128179,62083,"credit-card-alt"],"f09d","M0 128l0 32 512 0 0-32c0-35.3-28.7-64-64-64L64 64C28.7 64 0 92.7 0 128zm0 80L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-176-512 0zM64 360c0-13.3 10.7-24 24-24l48 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-48 0c-13.3 0-24-10.7-24-24zm144 0c0-13.3 10.7-24 24-24l64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0c-13.3 0-24-10.7-24-24z"]},k7e={prefix:"fas",iconName:"file-invoice-dollar",icon:[384,512,[],"f571","M0 64C0 28.7 28.7 0 64 0L213.5 0c17 0 33.3 6.7 45.3 18.7L365.3 125.3c12 12 18.7 28.3 18.7 45.3L384 448c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm208-5.5l0 93.5c0 13.3 10.7 24 24 24L325.5 176 208 58.5zM64 88c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L88 64C74.7 64 64 74.7 64 88zm0 96c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0c-13.3 0-24 10.7-24 24zm112 76l0 4c-28.8 .3-52 23.7-52 52.5 0 25.7 18.5 47.6 43.9 51.8l41.7 7c6 1 10.4 6.2 10.4 12.3 0 6.9-5.6 12.5-12.5 12.5L152 400c-11 0-20 9-20 20s9 20 20 20l24 0 0 4c0 11 9 20 20 20s20-9 20-20l0-4.7c25-4.1 44-25.7 44-51.8 0-25.7-18.5-47.6-43.9-51.8l-41.7-7c-6-1-10.4-6.2-10.4-12.3 0-6.9 5.6-12.5 12.5-12.5l47.5 0c11 0 20-9 20-20s-9-20-20-20l-8 0 0-4c0-11-9-20-20-20s-20 9-20 20z"]},P7e={prefix:"fas",iconName:"lock",icon:[384,512,[128274],"f023","M128 96l0 64 128 0 0-64c0-35.3-28.7-64-64-64s-64 28.7-64 64zM64 160l0-64C64 25.3 121.3-32 192-32S320 25.3 320 96l0 64c35.3 0 64 28.7 64 64l0 224c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 224c0-35.3 28.7-64 64-64z"]},L7e={prefix:"fas",iconName:"globe",icon:[512,512,[127760],"f0ac","M351.9 280l-190.9 0c2.9 64.5 17.2 123.9 37.5 167.4 11.4 24.5 23.7 41.8 35.1 52.4 11.2 10.5 18.9 12.2 22.9 12.2s11.7-1.7 22.9-12.2c11.4-10.6 23.7-28 35.1-52.4 20.3-43.5 34.6-102.9 37.5-167.4zM160.9 232l190.9 0C349 167.5 334.7 108.1 314.4 64.6 303 40.2 290.7 22.8 279.3 12.2 268.1 1.7 260.4 0 256.4 0s-11.7 1.7-22.9 12.2c-11.4 10.6-23.7 28-35.1 52.4-20.3 43.5-34.6 102.9-37.5 167.4zm-48 0C116.4 146.4 138.5 66.9 170.8 14.7 78.7 47.3 10.9 131.2 1.5 232l111.4 0zM1.5 280c9.4 100.8 77.2 184.7 169.3 217.3-32.3-52.2-54.4-131.7-57.9-217.3L1.5 280zm398.4 0c-3.5 85.6-25.6 165.1-57.9 217.3 92.1-32.7 159.9-116.5 169.3-217.3l-111.4 0zm111.4-48C501.9 131.2 434.1 47.3 342 14.7 374.3 66.9 396.4 146.4 399.9 232l111.4 0z"]},O7e={prefix:"fas",iconName:"upload",icon:[448,512,[],"f093","M256 109.3L256 320c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-210.7-41.4 41.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l96-96c12.5-12.5 32.8-12.5 45.3 0l96 96c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 109.3zM224 400c44.2 0 80-35.8 80-80l80 0c35.3 0 64 28.7 64 64l0 32c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64l0-32c0-35.3 28.7-64 64-64l80 0c0 44.2 35.8 80 80 80zm144 24a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"]},D7e={prefix:"fas",iconName:"bolt",icon:[448,512,[9889,"zap"],"f0e7","M338.8-9.9c11.9 8.6 16.3 24.2 10.9 37.8L271.3 224 416 224c13.5 0 25.5 8.4 30.1 21.1s.7 26.9-9.6 35.5l-288 240c-11.3 9.4-27.4 9.9-39.3 1.3s-16.3-24.2-10.9-37.8L176.7 288 32 288c-13.5 0-25.5-8.4-30.1-21.1s-.7-26.9 9.6-35.5l288-240c11.3-9.4 27.4-9.9 39.3-1.3z"]},M7e={prefix:"fas",iconName:"location-dot",icon:[384,512,["map-marker-alt"],"f3c5","M0 188.6C0 84.4 86 0 192 0S384 84.4 384 188.6c0 119.3-120.2 262.3-170.4 316.8-11.8 12.8-31.5 12.8-43.3 0-50.2-54.5-170.4-197.5-170.4-316.8zM192 256a64 64 0 1 0 0-128 64 64 0 1 0 0 128z"]},cJ=M7e,U7e={prefix:"fas",iconName:"book-open",icon:[512,512,[128214,128366],"f518","M256 141.3l0 309.3 .5-.2C311.1 427.7 369.7 416 428.8 416l19.2 0 0-320-19.2 0c-42.2 0-84.1 8.4-123.1 24.6-16.8 7-33.4 13.9-49.7 20.7zM230.9 61.5L256 72 281.1 61.5C327.9 42 378.1 32 428.8 32L464 32c26.5 0 48 21.5 48 48l0 352c0 26.5-21.5 48-48 48l-35.2 0c-50.7 0-100.9 10-147.7 29.5l-12.8 5.3c-7.9 3.3-16.7 3.3-24.6 0l-12.8-5.3C184.1 490 133.9 480 83.2 480L48 480c-26.5 0-48-21.5-48-48L0 80C0 53.5 21.5 32 48 32l35.2 0c50.7 0 100.9 10 147.7 29.5z"]},R7e={prefix:"fas",iconName:"money-bill",icon:[512,512,[],"f0d6","M64 64C28.7 64 0 92.7 0 128L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-256c0-35.3-28.7-64-64-64L64 64zm192 96a96 96 0 1 1 0 192 96 96 0 1 1 0-192zm192 24c0 4.4-3.6 8.1-8 7.5-29-3.6-51.9-26.6-55.5-55.5-.5-4.4 3.1-8 7.5-8l48 0c4.4 0 8 3.6 8 8l0 48zM64 328c0-4.4 3.6-8.1 8-7.5 29 3.6 51.9 26.6 55.5 55.5 .5 4.4-3.1 8-7.5 8l-48 0c-4.4 0-8-3.6-8-8l0-48zm8-136.5c-4.4 .5-8-3.1-8-7.5l0-48c0-4.4 3.6-8 8-8l48 0c4.4 0 8.1 3.6 7.5 8-3.6 29-26.6 51.9-55.5 55.5zm368 129c4.4-.5 8 3.1 8 7.5l0 48c0 4.4-3.6 8-8 8l-48 0c-4.4 0-8.1-3.6-7.5-8 3.6-29 26.6-51.9 55.5-55.5z"]};const Q7e=()=>{const e=[{icon:p7e,title:"Save Time with Automation",description:"Automate attendance, fee collection, and assignments to let educators focus on teaching."},{icon:oJ,title:"Transparent Communication",description:"Real-time updates on homework, schedules, and events keep everyone connected."},{icon:x7e,title:"Stronger Parent Engagement",description:"Empower parents with instant access to their child's academic progress."},{icon:I7e,title:"Smart Fee Management",description:"Streamline payments with online options and automated reminders."},{icon:T7e,title:"Eco-Friendly",description:"Go paperless with secure cloud-based records to reduce environmental impact."},{icon:g7e,title:"Smarter Decision-Making",description:"Leverage analytics to drive growth and boost admissions."},{icon:w7e,title:"One App for All",description:"Unify parents, teachers, students, and management on one platform."}];return a.jsx("div",{className:"min-h-screen bg-white py-16 px-4 sm:px-8 lg:px-12 font-sans",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsxs("h2",{className:"text-4xl md:text-4xl font-bold mb-6 text-gray-800",children:["How ",a.jsx("span",{className:"text-orange-500",children:"Vidyaastra"})," Transforms Education"]}),a.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Discover innovative tools designed to enhance efficiency and engagement across your educational community."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((t,r)=>a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-shadow duration-300 border border-gray-100",children:[a.jsx("div",{className:"w-14 h-14 bg-orange-100 rounded-lg flex items-center justify-center mb-4",children:a.jsx(ji,{icon:t.icon,className:"text-orange-500 text-2xl"})}),a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:t.title}),a.jsx("p",{className:"text-gray-600",children:t.description})]},r))})]})})},H7e=()=>{const e=ru(),t=()=>{e("/contact")};return a.jsxs("section",{className:"bg-gradient-to-b from-gray-50 to-gray-100 py-16 px-4",children:[a.jsx("style",{children:`
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeInUp { animation: fadeInUp 0.8s ease-out forwards; }
        .banner {
          position: relative;
          background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), 
                      url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
          background-size: cover;
          background-position: center;
          border-radius: 1rem;
          padding: 3rem 2rem;
          display: flex;
          flex-direction: row;
          justify-content: space-between;
          align-items: center;
          min-height: 220px;
          color: white;
          width: 100%;
          box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
          overflow: hidden;
          margin-bottom: 2rem;
        }
        .banner-content h4 {
          font-size: 1.75rem;
          font-weight: 700;
          margin-bottom: 1rem;
          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
        }
        .banner-content p {
          font-size: 1.125rem;
          opacity: 0.9;
        }
        @media (max-width: 768px) {
          .banner {
            flex-direction: column;
            text-align: center;
            padding: 2rem;
          }
          .banner-content {
            max-width: 100%;
            margin-bottom: 1.5rem;
          }
        }
      `}),a.jsxs("div",{className:"text-center mb-12",children:[a.jsxs(Yn.h1,{className:"text-4xl sm:text-4xl font-bold text-gray-900 mb-4 animate-fadeInUp",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("span",{className:"text-orange-600",children:"Flexible & Affordable"})," Plans"]}),a.jsx(Yn.p,{className:"text-lg sm:text-xl text-gray-500 max-w-3xl mx-auto leading-relaxed",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:"Choose a plan tailored to your school's needs, from small setups to large institutions. Contact us for custom pricing and demos."})]}),a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs(Yn.div,{className:"banner",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[a.jsxs(Yn.div,{className:"banner-content",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},children:[a.jsx("h4",{children:"Not sure what Plan is best for you?"}),a.jsx("p",{children:"Our team is here to help you find the perfect plan."})]}),a.jsxs(Yn.button,{whileHover:{scale:1.1,boxShadow:"0px 8px 20px rgba(249, 115, 22, 0.6)"},whileTap:{scale:.95},animate:{y:[0,-5,0]},transition:{repeat:1/0,repeatType:"mirror",duration:2,ease:"easeInOut"},onClick:t,className:"relative bg-gradient-to-r from-orange-500 to-orange-600 text-white px-8 py-3 rounded-xl font-bold text-lg shadow-md transition-all duration-300",children:[a.jsx("span",{className:"relative z-10",children:" Get in Touch"}),a.jsx("span",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700 ease-in-out"})]})]})})]})},uJ=({isOpen:e,setIsOpen:t})=>{const[r,n]=C.useState(!1),[s,i]=C.useState({name:"",school:"",email:"",phone:"",message:""}),o=c=>{i({...s,[c.target.name]:c.target.value})},l=async c=>{c.preventDefault();try{(await sr.post("https://vidyaastra.com/api/enquiries",s)).status===201&&(i({name:"",school:"",email:"",phone:"",message:""}),t(!1),n(!0),setTimeout(()=>{n(!1)},3e3))}catch(d){d.response&&alert(d.response.data.errors||d.response.data.message),console.log(d)}};return a.jsxs(a.Fragment,{children:[a.jsx(Pb,{children:e&&a.jsx(Yn.div,{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50",onClick:()=>t(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:a.jsxs(Yn.div,{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-4 sm:p-6 relative mx-auto",onClick:c=>c.stopPropagation(),initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},transition:{duration:.4,ease:"easeOut"},children:[a.jsx("style",{children:`
                .input-field {
                  transition: all 0.3s ease;
                }
                .input-field:focus {
                  border-color: #f97316; /* orange-600 */
                  box-shadow: 0 0 0 3px rgba(234, 88, 12, 0.2);
                }
                .submit-button:hover {
                  transform: translateY(-2px);
                }
                .toast {
                  position: fixed;
                  top: 20px;
                  right: 20px;
                  background: #f97316; /* orange-600 */
                  color: white;
                  padding: 12px 24px;
                  border-radius: 8px;
                  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
                  z-index: 1000;
                }
              `}),a.jsx("button",{onClick:()=>t(!1),className:"absolute top-2 sm:top-4 right-2 sm:right-4 text-gray-500 hover:text-orange-600 text-xl",children:a.jsx(ji,{icon:S7e})}),a.jsx("div",{className:"flex justify-center mb-4 sm:mb-6",children:a.jsx("img",{src:cy,alt:"Vidyaastra Logo",className:"h-10 sm:h-12 w-auto"})}),a.jsxs("h2",{className:"text-xl sm:text-2xl font-extrabold text-center text-gray-900 mb-4 sm:mb-6",children:[a.jsx("span",{className:"text-orange-600",children:"Enquiry"})," Form"]}),a.jsxs("form",{onSubmit:l,className:"space-y-4 sm:space-y-5",children:[a.jsx("div",{children:a.jsx("input",{type:"text",name:"name",value:s.name,onChange:o,required:!0,placeholder:"Enter your name",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-2 sm:p-3 text-gray-900 text-sm sm:text-base"})}),a.jsx("div",{children:a.jsx("input",{type:"text",name:"school",value:s.school,onChange:o,required:!0,placeholder:"Enter your school/institution name",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-2 sm:p-3 text-gray-900 text-sm sm:text-base"})}),a.jsx("div",{children:a.jsx("input",{type:"email",name:"email",value:s.email,onChange:o,required:!0,placeholder:"Enter your email",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-2 sm:p-3 text-gray-900 text-sm sm:text-base"})}),a.jsx("div",{children:a.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:o,required:!0,placeholder:"Enter your phone number",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-2 sm:p-3 text-gray-900 text-sm sm:text-base"})}),a.jsx("div",{children:a.jsx("textarea",{name:"message",value:s.message,onChange:o,rows:"3",required:!0,placeholder:"Enter your message",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-2 sm:p-3 text-gray-900 text-sm sm:text-base"})}),a.jsx("button",{type:"submit",className:"submit-button w-full bg-orange-600 hover:bg-orange-500 text-white font-bold py-2 sm:py-3 px-4 rounded-lg shadow-md transition duration-300 text-sm sm:text-base",children:"Submit Enquiry"})]})]})})}),a.jsx(Pb,{children:r&&a.jsx(Yn.div,{className:"toast",initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{duration:.3},children:"Enquiry submitted successfully!"})})]})};function A9(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function jI(e,t){e===void 0&&(e={}),t===void 0&&(t={});const r=["__proto__","constructor","prototype"];Object.keys(t).filter(n=>r.indexOf(n)<0).forEach(n=>{typeof e[n]>"u"?e[n]=t[n]:A9(t[n])&&A9(e[n])&&Object.keys(t[n]).length>0&&jI(e[n],t[n])})}const dJ={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function qm(){const e=typeof document<"u"?document:{};return jI(e,dJ),e}const $7e={document:dJ,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function df(){const e=typeof window<"u"?window:{};return jI(e,$7e),e}function z7e(e){return e===void 0&&(e=""),e.trim().split(" ").filter(t=>!!t.trim())}function V7e(e){const t=e;Object.keys(t).forEach(r=>{try{t[r]=null}catch{}try{delete t[r]}catch{}})}function fJ(e,t){return t===void 0&&(t=0),setTimeout(e,t)}function XN(){return Date.now()}function K7e(e){const t=df();let r;return t.getComputedStyle&&(r=t.getComputedStyle(e,null)),!r&&e.currentStyle&&(r=e.currentStyle),r||(r=e.style),r}function q7e(e,t){t===void 0&&(t="x");const r=df();let n,s,i;const o=K7e(e);return r.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(l=>l.replace(",",".")).join(", ")),i=new r.WebKitCSSMatrix(s==="none"?"":s)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=i.toString().split(",")),t==="x"&&(r.WebKitCSSMatrix?s=i.m41:n.length===16?s=parseFloat(n[12]):s=parseFloat(n[4])),t==="y"&&(r.WebKitCSSMatrix?s=i.m42:n.length===16?s=parseFloat(n[13]):s=parseFloat(n[5])),s||0}function r5(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function G7e(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function vh(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let r=1;r<arguments.length;r+=1){const n=r<0||arguments.length<=r?void 0:arguments[r];if(n!=null&&!G7e(n)){const s=Object.keys(Object(n)).filter(i=>t.indexOf(i)<0);for(let i=0,o=s.length;i<o;i+=1){const l=s[i],c=Object.getOwnPropertyDescriptor(n,l);c!==void 0&&c.enumerable&&(r5(e[l])&&r5(n[l])?n[l].__swiper__?e[l]=n[l]:vh(e[l],n[l]):!r5(e[l])&&r5(n[l])?(e[l]={},n[l].__swiper__?e[l]=n[l]:vh(e[l],n[l])):e[l]=n[l])}}}return e}function n5(e,t,r){e.style.setProperty(t,r)}function hJ(e){let{swiper:t,targetPosition:r,side:n}=e;const s=df(),i=-t.translate;let o=null,l;const c=t.params.speed;t.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(t.cssModeFrameID);const d=r>i?"next":"prev",u=(m,A)=>d==="next"&&m>=A||d==="prev"&&m<=A,h=()=>{l=new Date().getTime(),o===null&&(o=l);const m=Math.max(Math.min((l-o)/c,1),0),A=.5-Math.cos(m*Math.PI)/2;let y=i+A*(r-i);if(u(y,r)&&(y=r),t.wrapperEl.scrollTo({[n]:y}),u(y,r)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:y})}),s.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=s.requestAnimationFrame(h)};h()}function Qm(e,t){t===void 0&&(t="");const r=df(),n=[...e.children];return r.HTMLSlotElement&&e instanceof HTMLSlotElement&&n.push(...e.assignedElements()),t?n.filter(s=>s.matches(t)):n}function W7e(e,t){const r=[t];for(;r.length>0;){const n=r.shift();if(e===n)return!0;r.push(...n.children,...n.shadowRoot?n.shadowRoot.children:[],...n.assignedElements?n.assignedElements():[])}}function Y7e(e,t){const r=df();let n=t.contains(e);return!n&&r.HTMLSlotElement&&t instanceof HTMLSlotElement&&(n=[...t.assignedElements()].includes(e),n||(n=W7e(e,t))),n}function JN(e){try{console.warn(e);return}catch{}}function ZN(e,t){t===void 0&&(t=[]);const r=document.createElement(e);return r.classList.add(...Array.isArray(t)?t:z7e(t)),r}function X7e(e,t){const r=[];for(;e.previousElementSibling;){const n=e.previousElementSibling;t?n.matches(t)&&r.push(n):r.push(n),e=n}return r}function J7e(e,t){const r=[];for(;e.nextElementSibling;){const n=e.nextElementSibling;t?n.matches(t)&&r.push(n):r.push(n),e=n}return r}function ig(e,t){return df().getComputedStyle(e,null).getPropertyValue(t)}function ej(e){let t=e,r;if(t){for(r=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(r+=1);return r}}function AJ(e,t){const r=[];let n=e.parentElement;for(;n;)t?n.matches(t)&&r.push(n):r.push(n),n=n.parentElement;return r}function HT(e,t,r){const n=df();return e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom"))}function _0(e){return(Array.isArray(e)?e:[e]).filter(t=>!!t)}function tj(e,t){t===void 0&&(t=""),typeof trustedTypes<"u"?e.innerHTML=trustedTypes.createPolicy("html",{createHTML:r=>r}).createHTML(t):e.innerHTML=t}let yE;function Z7e(){const e=df(),t=qm();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function mJ(){return yE||(yE=Z7e()),yE}let bE;function eOe(e){let{userAgent:t}=e===void 0?{}:e;const r=mJ(),n=df(),s=n.navigator.platform,i=t||n.navigator.userAgent,o={ios:!1,android:!1},l=n.screen.width,c=n.screen.height,d=i.match(/(Android);?[\s\/]+([\d.]+)?/);let u=i.match(/(iPad).*OS\s([\d_]+)/);const h=i.match(/(iPod)(.*OS\s([\d_]+))?/),m=!u&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),A=s==="Win32";let y=s==="MacIntel";const x=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&y&&r.touch&&x.indexOf(`${l}x${c}`)>=0&&(u=i.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),y=!1),d&&!A&&(o.os="android",o.android=!0),(u||m||h)&&(o.os="ios",o.ios=!0),o}function pJ(e){return e===void 0&&(e={}),bE||(bE=eOe(e)),bE}let wE;function tOe(){const e=df(),t=pJ();let r=!1;function n(){const l=e.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(n()){const l=String(e.navigator.userAgent);if(l.includes("Version/")){const[c,d]=l.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));r=c<16||c===16&&d<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),i=n(),o=i||s&&t.ios;return{isSafari:r||i,needPerspectiveFix:r,need3dFix:o,isWebView:s}}function gJ(){return wE||(wE=tOe()),wE}function rOe(e){let{swiper:t,on:r,emit:n}=e;const s=df();let i=null,o=null;const l=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},c=()=>{!t||t.destroyed||!t.initialized||(i=new ResizeObserver(h=>{o=s.requestAnimationFrame(()=>{const{width:m,height:A}=t;let y=m,x=A;h.forEach(v=>{let{contentBoxSize:b,contentRect:j,target:E}=v;E&&E!==t.el||(y=j?j.width:(b[0]||b).inlineSize,x=j?j.height:(b[0]||b).blockSize)}),(y!==m||x!==A)&&l()})}),i.observe(t.el))},d=()=>{o&&s.cancelAnimationFrame(o),i&&i.unobserve&&t.el&&(i.unobserve(t.el),i=null)},u=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};r("init",()=>{if(t.params.resizeObserver&&typeof s.ResizeObserver<"u"){c();return}s.addEventListener("resize",l),s.addEventListener("orientationchange",u)}),r("destroy",()=>{d(),s.removeEventListener("resize",l),s.removeEventListener("orientationchange",u)})}function nOe(e){let{swiper:t,extendParams:r,on:n,emit:s}=e;const i=[],o=df(),l=function(u,h){h===void 0&&(h={});const m=o.MutationObserver||o.WebkitMutationObserver,A=new m(y=>{if(t.__preventObserver__)return;if(y.length===1){s("observerUpdate",y[0]);return}const x=function(){s("observerUpdate",y[0])};o.requestAnimationFrame?o.requestAnimationFrame(x):o.setTimeout(x,0)});A.observe(u,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:t.isElement||(typeof h.childList>"u"?!0:h).childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),i.push(A)},c=()=>{if(t.params.observer){if(t.params.observeParents){const u=AJ(t.hostEl);for(let h=0;h<u.length;h+=1)l(u[h])}l(t.hostEl,{childList:t.params.observeSlideChildren}),l(t.wrapperEl,{attributes:!1})}},d=()=>{i.forEach(u=>{u.disconnect()}),i.splice(0,i.length)};r({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",c),n("destroy",d)}var aOe={on(e,t,r){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const s=r?"unshift":"push";return e.split(" ").forEach(i=>{n.eventsListeners[i]||(n.eventsListeners[i]=[]),n.eventsListeners[i][s](t)}),n},once(e,t,r){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;function s(){n.off(e,s),s.__emitterProxy&&delete s.__emitterProxy;for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];t.apply(n,o)}return s.__emitterProxy=t,n.on(e,s,r)},onAny(e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const n=t?"unshift":"push";return r.eventsAnyListeners.indexOf(e)<0&&r.eventsAnyListeners[n](e),r},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const r=t.eventsAnyListeners.indexOf(e);return r>=0&&t.eventsAnyListeners.splice(r,1),t},off(e,t){const r=this;return!r.eventsListeners||r.destroyed||!r.eventsListeners||e.split(" ").forEach(n=>{typeof t>"u"?r.eventsListeners[n]=[]:r.eventsListeners[n]&&r.eventsListeners[n].forEach((s,i)=>{(s===t||s.__emitterProxy&&s.__emitterProxy===t)&&r.eventsListeners[n].splice(i,1)})}),r},emit(){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,r,n;for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return typeof i[0]=="string"||Array.isArray(i[0])?(t=i[0],r=i.slice(1,i.length),n=e):(t=i[0].events,r=i[0].data,n=i[0].context||e),r.unshift(n),(Array.isArray(t)?t:t.split(" ")).forEach(c=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(d=>{d.apply(n,[c,...r])}),e.eventsListeners&&e.eventsListeners[c]&&e.eventsListeners[c].forEach(d=>{d.apply(n,r)})}),e}};function sOe(){const e=this;let t,r;const n=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=n.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?r=e.params.height:r=n.clientHeight,!(t===0&&e.isHorizontal()||r===0&&e.isVertical())&&(t=t-parseInt(ig(n,"padding-left")||0,10)-parseInt(ig(n,"padding-right")||0,10),r=r-parseInt(ig(n,"padding-top")||0,10)-parseInt(ig(n,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(r)&&(r=0),Object.assign(e,{width:t,height:r,size:e.isHorizontal()?t:r}))}function iOe(){const e=this;function t(z,O){return parseFloat(z.getPropertyValue(e.getDirectionLabel(O))||0)}const r=e.params,{wrapperEl:n,slidesEl:s,size:i,rtlTranslate:o,wrongRTL:l}=e,c=e.virtual&&r.virtual.enabled,d=c?e.virtual.slides.length:e.slides.length,u=Qm(s,`.${e.params.slideClass}, swiper-slide`),h=c?e.virtual.slides.length:u.length;let m=[];const A=[],y=[];let x=r.slidesOffsetBefore;typeof x=="function"&&(x=r.slidesOffsetBefore.call(e));let v=r.slidesOffsetAfter;typeof v=="function"&&(v=r.slidesOffsetAfter.call(e));const b=e.snapGrid.length,j=e.slidesGrid.length;let E=r.spaceBetween,T=-x,P=0,U=0;if(typeof i>"u")return;typeof E=="string"&&E.indexOf("%")>=0?E=parseFloat(E.replace("%",""))/100*i:typeof E=="string"&&(E=parseFloat(E)),e.virtualSize=-E,u.forEach(z=>{o?z.style.marginLeft="":z.style.marginRight="",z.style.marginBottom="",z.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(n5(n,"--swiper-centered-offset-before",""),n5(n,"--swiper-centered-offset-after",""));const M=r.grid&&r.grid.rows>1&&e.grid;M?e.grid.initSlides(u):e.grid&&e.grid.unsetSlides();let k;const Q=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(z=>typeof r.breakpoints[z].slidesPerView<"u").length>0;for(let z=0;z<h;z+=1){k=0;let O;if(u[z]&&(O=u[z]),M&&e.grid.updateSlide(z,O,u),!(u[z]&&ig(O,"display")==="none")){if(r.slidesPerView==="auto"){Q&&(u[z].style[e.getDirectionLabel("width")]="");const L=getComputedStyle(O),V=O.style.transform,J=O.style.webkitTransform;if(V&&(O.style.transform="none"),J&&(O.style.webkitTransform="none"),r.roundLengths)k=e.isHorizontal()?HT(O,"width"):HT(O,"height");else{const ce=t(L,"width"),ee=t(L,"padding-left"),de=t(L,"padding-right"),se=t(L,"margin-left"),he=t(L,"margin-right"),fe=L.getPropertyValue("box-sizing");if(fe&&fe==="border-box")k=ce+se+he;else{const{clientWidth:ve,offsetWidth:B}=O;k=ce+ee+de+se+he+(B-ve)}}V&&(O.style.transform=V),J&&(O.style.webkitTransform=J),r.roundLengths&&(k=Math.floor(k))}else k=(i-(r.slidesPerView-1)*E)/r.slidesPerView,r.roundLengths&&(k=Math.floor(k)),u[z]&&(u[z].style[e.getDirectionLabel("width")]=`${k}px`);u[z]&&(u[z].swiperSlideSize=k),y.push(k),r.centeredSlides?(T=T+k/2+P/2+E,P===0&&z!==0&&(T=T-i/2-E),z===0&&(T=T-i/2-E),Math.abs(T)<1/1e3&&(T=0),r.roundLengths&&(T=Math.floor(T)),U%r.slidesPerGroup===0&&m.push(T),A.push(T)):(r.roundLengths&&(T=Math.floor(T)),(U-Math.min(e.params.slidesPerGroupSkip,U))%e.params.slidesPerGroup===0&&m.push(T),A.push(T),T=T+k+E),e.virtualSize+=k+E,P=k,U+=1}}if(e.virtualSize=Math.max(e.virtualSize,i)+v,o&&l&&(r.effect==="slide"||r.effect==="coverflow")&&(n.style.width=`${e.virtualSize+E}px`),r.setWrapperSize&&(n.style[e.getDirectionLabel("width")]=`${e.virtualSize+E}px`),M&&e.grid.updateWrapperSize(k,m),!r.centeredSlides){const z=[];for(let O=0;O<m.length;O+=1){let L=m[O];r.roundLengths&&(L=Math.floor(L)),m[O]<=e.virtualSize-i&&z.push(L)}m=z,Math.floor(e.virtualSize-i)-Math.floor(m[m.length-1])>1&&m.push(e.virtualSize-i)}if(c&&r.loop){const z=y[0]+E;if(r.slidesPerGroup>1){const O=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/r.slidesPerGroup),L=z*r.slidesPerGroup;for(let V=0;V<O;V+=1)m.push(m[m.length-1]+L)}for(let O=0;O<e.virtual.slidesBefore+e.virtual.slidesAfter;O+=1)r.slidesPerGroup===1&&m.push(m[m.length-1]+z),A.push(A[A.length-1]+z),e.virtualSize+=z}if(m.length===0&&(m=[0]),E!==0){const z=e.isHorizontal()&&o?"marginLeft":e.getDirectionLabel("marginRight");u.filter((O,L)=>!r.cssMode||r.loop?!0:L!==u.length-1).forEach(O=>{O.style[z]=`${E}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let z=0;y.forEach(L=>{z+=L+(E||0)}),z-=E;const O=z>i?z-i:0;m=m.map(L=>L<=0?-x:L>O?O+v:L)}if(r.centerInsufficientSlides){let z=0;y.forEach(L=>{z+=L+(E||0)}),z-=E;const O=(r.slidesOffsetBefore||0)+(r.slidesOffsetAfter||0);if(z+O<i){const L=(i-z-O)/2;m.forEach((V,J)=>{m[J]=V-L}),A.forEach((V,J)=>{A[J]=V+L})}}if(Object.assign(e,{slides:u,snapGrid:m,slidesGrid:A,slidesSizesGrid:y}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){n5(n,"--swiper-centered-offset-before",`${-m[0]}px`),n5(n,"--swiper-centered-offset-after",`${e.size/2-y[y.length-1]/2}px`);const z=-e.snapGrid[0],O=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(L=>L+z),e.slidesGrid=e.slidesGrid.map(L=>L+O)}if(h!==d&&e.emit("slidesLengthChange"),m.length!==b&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),A.length!==j&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!c&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const z=`${r.containerModifierClass}backface-hidden`,O=e.el.classList.contains(z);h<=r.maxBackfaceHiddenSlides?O||e.el.classList.add(z):O&&e.el.classList.remove(z)}}function oOe(e){const t=this,r=[],n=t.virtual&&t.params.virtual.enabled;let s=0,i;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const o=l=>n?t.slides[t.getSlideIndexByData(l)]:t.slides[l];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(l=>{r.push(l)});else for(i=0;i<Math.ceil(t.params.slidesPerView);i+=1){const l=t.activeIndex+i;if(l>t.slides.length&&!n)break;r.push(o(l))}else r.push(o(t.activeIndex));for(i=0;i<r.length;i+=1)if(typeof r[i]<"u"){const l=r[i].offsetHeight;s=l>s?l:s}(s||s===0)&&(t.wrapperEl.style.height=`${s}px`)}function lOe(){const e=this,t=e.slides,r=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let n=0;n<t.length;n+=1)t[n].swiperSlideOffset=(e.isHorizontal()?t[n].offsetLeft:t[n].offsetTop)-r-e.cssOverflowAdjustment()}const m9=(e,t,r)=>{t&&!e.classList.contains(r)?e.classList.add(r):!t&&e.classList.contains(r)&&e.classList.remove(r)};function cOe(e){e===void 0&&(e=this&&this.translate||0);const t=this,r=t.params,{slides:n,rtlTranslate:s,snapGrid:i}=t;if(n.length===0)return;typeof n[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let o=-e;s&&(o=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let l=r.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*t.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<n.length;c+=1){const d=n[c];let u=d.swiperSlideOffset;r.cssMode&&r.centeredSlides&&(u-=n[0].swiperSlideOffset);const h=(o+(r.centeredSlides?t.minTranslate():0)-u)/(d.swiperSlideSize+l),m=(o-i[0]+(r.centeredSlides?t.minTranslate():0)-u)/(d.swiperSlideSize+l),A=-(o-u),y=A+t.slidesSizesGrid[c],x=A>=0&&A<=t.size-t.slidesSizesGrid[c],v=A>=0&&A<t.size-1||y>1&&y<=t.size||A<=0&&y>=t.size;v&&(t.visibleSlides.push(d),t.visibleSlidesIndexes.push(c)),m9(d,v,r.slideVisibleClass),m9(d,x,r.slideFullyVisibleClass),d.progress=s?-h:h,d.originalProgress=s?-m:m}}function uOe(e){const t=this;if(typeof e>"u"){const u=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*u||0}const r=t.params,n=t.maxTranslate()-t.minTranslate();let{progress:s,isBeginning:i,isEnd:o,progressLoop:l}=t;const c=i,d=o;if(n===0)s=0,i=!0,o=!0;else{s=(e-t.minTranslate())/n;const u=Math.abs(e-t.minTranslate())<1,h=Math.abs(e-t.maxTranslate())<1;i=u||s<=0,o=h||s>=1,u&&(s=0),h&&(s=1)}if(r.loop){const u=t.getSlideIndexByData(0),h=t.getSlideIndexByData(t.slides.length-1),m=t.slidesGrid[u],A=t.slidesGrid[h],y=t.slidesGrid[t.slidesGrid.length-1],x=Math.abs(e);x>=m?l=(x-m)/y:l=(x+y-A)/y,l>1&&(l-=1)}Object.assign(t,{progress:s,progressLoop:l,isBeginning:i,isEnd:o}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&t.updateSlidesProgress(e),i&&!c&&t.emit("reachBeginning toEdge"),o&&!d&&t.emit("reachEnd toEdge"),(c&&!i||d&&!o)&&t.emit("fromEdge"),t.emit("progress",s)}const NE=(e,t,r)=>{t&&!e.classList.contains(r)?e.classList.add(r):!t&&e.classList.contains(r)&&e.classList.remove(r)};function dOe(){const e=this,{slides:t,params:r,slidesEl:n,activeIndex:s}=e,i=e.virtual&&r.virtual.enabled,o=e.grid&&r.grid&&r.grid.rows>1,l=h=>Qm(n,`.${r.slideClass}${h}, swiper-slide${h}`)[0];let c,d,u;if(i)if(r.loop){let h=s-e.virtual.slidesBefore;h<0&&(h=e.virtual.slides.length+h),h>=e.virtual.slides.length&&(h-=e.virtual.slides.length),c=l(`[data-swiper-slide-index="${h}"]`)}else c=l(`[data-swiper-slide-index="${s}"]`);else o?(c=t.find(h=>h.column===s),u=t.find(h=>h.column===s+1),d=t.find(h=>h.column===s-1)):c=t[s];c&&(o||(u=J7e(c,`.${r.slideClass}, swiper-slide`)[0],r.loop&&!u&&(u=t[0]),d=X7e(c,`.${r.slideClass}, swiper-slide`)[0],r.loop&&!d===0&&(d=t[t.length-1]))),t.forEach(h=>{NE(h,h===c,r.slideActiveClass),NE(h,h===u,r.slideNextClass),NE(h,h===d,r.slidePrevClass)}),e.emitSlidesClasses()}const T5=(e,t)=>{if(!e||e.destroyed||!e.params)return;const r=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,n=t.closest(r());if(n){let s=n.querySelector(`.${e.params.lazyPreloaderClass}`);!s&&e.isElement&&(n.shadowRoot?s=n.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{n.shadowRoot&&(s=n.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},jE=(e,t)=>{if(!e.slides[t])return;const r=e.slides[t].querySelector('[loading="lazy"]');r&&r.removeAttribute("loading")},$T=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const r=e.slides.length;if(!r||!t||t<0)return;t=Math.min(t,r);const n=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),s=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const o=s,l=[o-t];l.push(...Array.from({length:t}).map((c,d)=>o+n+d)),e.slides.forEach((c,d)=>{l.includes(c.column)&&jE(e,d)});return}const i=s+n-1;if(e.params.rewind||e.params.loop)for(let o=s-t;o<=i+t;o+=1){const l=(o%r+r)%r;(l<s||l>i)&&jE(e,l)}else for(let o=Math.max(s-t,0);o<=Math.min(i+t,r-1);o+=1)o!==s&&(o>i||o<s)&&jE(e,o)};function fOe(e){const{slidesGrid:t,params:r}=e,n=e.rtlTranslate?e.translate:-e.translate;let s;for(let i=0;i<t.length;i+=1)typeof t[i+1]<"u"?n>=t[i]&&n<t[i+1]-(t[i+1]-t[i])/2?s=i:n>=t[i]&&n<t[i+1]&&(s=i+1):n>=t[i]&&(s=i);return r.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function hOe(e){const t=this,r=t.rtlTranslate?t.translate:-t.translate,{snapGrid:n,params:s,activeIndex:i,realIndex:o,snapIndex:l}=t;let c=e,d;const u=A=>{let y=A-t.virtual.slidesBefore;return y<0&&(y=t.virtual.slides.length+y),y>=t.virtual.slides.length&&(y-=t.virtual.slides.length),y};if(typeof c>"u"&&(c=fOe(t)),n.indexOf(r)>=0)d=n.indexOf(r);else{const A=Math.min(s.slidesPerGroupSkip,c);d=A+Math.floor((c-A)/s.slidesPerGroup)}if(d>=n.length&&(d=n.length-1),c===i&&!t.params.loop){d!==l&&(t.snapIndex=d,t.emit("snapIndexChange"));return}if(c===i&&t.params.loop&&t.virtual&&t.params.virtual.enabled){t.realIndex=u(c);return}const h=t.grid&&s.grid&&s.grid.rows>1;let m;if(t.virtual&&s.virtual.enabled&&s.loop)m=u(c);else if(h){const A=t.slides.find(x=>x.column===c);let y=parseInt(A.getAttribute("data-swiper-slide-index"),10);Number.isNaN(y)&&(y=Math.max(t.slides.indexOf(A),0)),m=Math.floor(y/s.grid.rows)}else if(t.slides[c]){const A=t.slides[c].getAttribute("data-swiper-slide-index");A?m=parseInt(A,10):m=c}else m=c;Object.assign(t,{previousSnapIndex:l,snapIndex:d,previousRealIndex:o,realIndex:m,previousIndex:i,activeIndex:c}),t.initialized&&$T(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(o!==m&&t.emit("realIndexChange"),t.emit("slideChange"))}function AOe(e,t){const r=this,n=r.params;let s=e.closest(`.${n.slideClass}, swiper-slide`);!s&&r.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(l=>{!s&&l.matches&&l.matches(`.${n.slideClass}, swiper-slide`)&&(s=l)});let i=!1,o;if(s){for(let l=0;l<r.slides.length;l+=1)if(r.slides[l]===s){i=!0,o=l;break}}if(s&&i)r.clickedSlide=s,r.virtual&&r.params.virtual.enabled?r.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):r.clickedIndex=o;else{r.clickedSlide=void 0,r.clickedIndex=void 0;return}n.slideToClickedSlide&&r.clickedIndex!==void 0&&r.clickedIndex!==r.activeIndex&&r.slideToClickedSlide()}var mOe={updateSize:sOe,updateSlides:iOe,updateAutoHeight:oOe,updateSlidesOffset:lOe,updateSlidesProgress:cOe,updateProgress:uOe,updateSlidesClasses:dOe,updateActiveIndex:hOe,updateClickedSlide:AOe};function pOe(e){e===void 0&&(e=this.isHorizontal()?"x":"y");const t=this,{params:r,rtlTranslate:n,translate:s,wrapperEl:i}=t;if(r.virtualTranslate)return n?-s:s;if(r.cssMode)return s;let o=q7e(i,e);return o+=t.cssOverflowAdjustment(),n&&(o=-o),o||0}function gOe(e,t){const r=this,{rtlTranslate:n,params:s,wrapperEl:i,progress:o}=r;let l=0,c=0;const d=0;r.isHorizontal()?l=n?-e:e:c=e,s.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),r.previousTranslate=r.translate,r.translate=r.isHorizontal()?l:c,s.cssMode?i[r.isHorizontal()?"scrollLeft":"scrollTop"]=r.isHorizontal()?-l:-c:s.virtualTranslate||(r.isHorizontal()?l-=r.cssOverflowAdjustment():c-=r.cssOverflowAdjustment(),i.style.transform=`translate3d(${l}px, ${c}px, ${d}px)`);let u;const h=r.maxTranslate()-r.minTranslate();h===0?u=0:u=(e-r.minTranslate())/h,u!==o&&r.updateProgress(e),r.emit("setTranslate",r.translate,t)}function xOe(){return-this.snapGrid[0]}function vOe(){return-this.snapGrid[this.snapGrid.length-1]}function yOe(e,t,r,n,s){e===void 0&&(e=0),t===void 0&&(t=this.params.speed),r===void 0&&(r=!0),n===void 0&&(n=!0);const i=this,{params:o,wrapperEl:l}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const c=i.minTranslate(),d=i.maxTranslate();let u;if(n&&e>c?u=c:n&&e<d?u=d:u=e,i.updateProgress(u),o.cssMode){const h=i.isHorizontal();if(t===0)l[h?"scrollLeft":"scrollTop"]=-u;else{if(!i.support.smoothScroll)return hJ({swiper:i,targetPosition:-u,side:h?"left":"top"}),!0;l.scrollTo({[h?"left":"top"]:-u,behavior:"smooth"})}return!0}return t===0?(i.setTransition(0),i.setTranslate(u),r&&(i.emit("beforeTransitionStart",t,s),i.emit("transitionEnd"))):(i.setTransition(t),i.setTranslate(u),r&&(i.emit("beforeTransitionStart",t,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(m){!i||i.destroyed||m.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,r&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var bOe={getTranslate:pOe,setTranslate:gOe,minTranslate:xOe,maxTranslate:vOe,translateTo:yOe};function wOe(e,t){const r=this;r.params.cssMode||(r.wrapperEl.style.transitionDuration=`${e}ms`,r.wrapperEl.style.transitionDelay=e===0?"0ms":""),r.emit("setTransition",e,t)}function xJ(e){let{swiper:t,runCallbacks:r,direction:n,step:s}=e;const{activeIndex:i,previousIndex:o}=t;let l=n;l||(i>o?l="next":i<o?l="prev":l="reset"),t.emit(`transition${s}`),r&&l==="reset"?t.emit(`slideResetTransition${s}`):r&&i!==o&&(t.emit(`slideChangeTransition${s}`),l==="next"?t.emit(`slideNextTransition${s}`):t.emit(`slidePrevTransition${s}`))}function NOe(e,t){e===void 0&&(e=!0);const r=this,{params:n}=r;n.cssMode||(n.autoHeight&&r.updateAutoHeight(),xJ({swiper:r,runCallbacks:e,direction:t,step:"Start"}))}function jOe(e,t){e===void 0&&(e=!0);const r=this,{params:n}=r;r.animating=!1,!n.cssMode&&(r.setTransition(0),xJ({swiper:r,runCallbacks:e,direction:t,step:"End"}))}var SOe={setTransition:wOe,transitionStart:NOe,transitionEnd:jOe};function COe(e,t,r,n,s){e===void 0&&(e=0),r===void 0&&(r=!0),typeof e=="string"&&(e=parseInt(e,10));const i=this;let o=e;o<0&&(o=0);const{params:l,snapGrid:c,slidesGrid:d,previousIndex:u,activeIndex:h,rtlTranslate:m,wrapperEl:A,enabled:y}=i;if(!y&&!n&&!s||i.destroyed||i.animating&&l.preventInteractionOnTransition)return!1;typeof t>"u"&&(t=i.params.speed);const x=Math.min(i.params.slidesPerGroupSkip,o);let v=x+Math.floor((o-x)/i.params.slidesPerGroup);v>=c.length&&(v=c.length-1);const b=-c[v];if(l.normalizeSlideIndex)for(let M=0;M<d.length;M+=1){const k=-Math.floor(b*100),Q=Math.floor(d[M]*100),z=Math.floor(d[M+1]*100);typeof d[M+1]<"u"?k>=Q&&k<z-(z-Q)/2?o=M:k>=Q&&k<z&&(o=M+1):k>=Q&&(o=M)}if(i.initialized&&o!==h&&(!i.allowSlideNext&&(m?b>i.translate&&b>i.minTranslate():b<i.translate&&b<i.minTranslate())||!i.allowSlidePrev&&b>i.translate&&b>i.maxTranslate()&&(h||0)!==o))return!1;o!==(u||0)&&r&&i.emit("beforeSlideChangeStart"),i.updateProgress(b);let j;o>h?j="next":o<h?j="prev":j="reset";const E=i.virtual&&i.params.virtual.enabled;if(!(E&&s)&&(m&&-b===i.translate||!m&&b===i.translate))return i.updateActiveIndex(o),l.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),l.effect!=="slide"&&i.setTranslate(b),j!=="reset"&&(i.transitionStart(r,j),i.transitionEnd(r,j)),!1;if(l.cssMode){const M=i.isHorizontal(),k=m?b:-b;if(t===0)E&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),E&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{A[M?"scrollLeft":"scrollTop"]=k})):A[M?"scrollLeft":"scrollTop"]=k,E&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return hJ({swiper:i,targetPosition:k,side:M?"left":"top"}),!0;A.scrollTo({[M?"left":"top"]:k,behavior:"smooth"})}return!0}const U=gJ().isSafari;return E&&!s&&U&&i.isElement&&i.virtual.update(!1,!1,o),i.setTransition(t),i.setTranslate(b),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,n),i.transitionStart(r,j),t===0?i.transitionEnd(r,j):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(k){!i||i.destroyed||k.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(r,j))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function EOe(e,t,r,n){e===void 0&&(e=0),r===void 0&&(r=!0),typeof e=="string"&&(e=parseInt(e,10));const s=this;if(s.destroyed)return;typeof t>"u"&&(t=s.params.speed);const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let o=e;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)o=o+s.virtual.slidesBefore;else{let l;if(i){const m=o*s.params.grid.rows;l=s.slides.find(A=>A.getAttribute("data-swiper-slide-index")*1===m).column}else l=s.getSlideIndexByData(o);const c=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:d}=s.params;let u=s.params.slidesPerView;u==="auto"?u=s.slidesPerViewDynamic():(u=Math.ceil(parseFloat(s.params.slidesPerView,10)),d&&u%2===0&&(u=u+1));let h=c-l<u;if(d&&(h=h||l<Math.ceil(u/2)),n&&d&&s.params.slidesPerView!=="auto"&&!i&&(h=!1),h){const m=d?l<s.activeIndex?"prev":"next":l-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:m,slideTo:!0,activeSlideIndex:m==="next"?l+1:l-c+1,slideRealIndex:m==="next"?s.realIndex:void 0})}if(i){const m=o*s.params.grid.rows;o=s.slides.find(A=>A.getAttribute("data-swiper-slide-index")*1===m).column}else o=s.getSlideIndexByData(o)}return requestAnimationFrame(()=>{s.slideTo(o,t,r,n)}),s}function BOe(e,t,r){t===void 0&&(t=!0);const n=this,{enabled:s,params:i,animating:o}=n;if(!s||n.destroyed)return n;typeof e>"u"&&(e=n.params.speed);let l=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(l=Math.max(n.slidesPerViewDynamic("current",!0),1));const c=n.activeIndex<i.slidesPerGroupSkip?1:l,d=n.virtual&&i.virtual.enabled;if(i.loop){if(o&&!d&&i.loopPreventsSliding)return!1;if(n.loopFix({direction:"next"}),n._clientLeft=n.wrapperEl.clientLeft,n.activeIndex===n.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{n.slideTo(n.activeIndex+c,e,t,r)}),!0}return i.rewind&&n.isEnd?n.slideTo(0,e,t,r):n.slideTo(n.activeIndex+c,e,t,r)}function TOe(e,t,r){t===void 0&&(t=!0);const n=this,{params:s,snapGrid:i,slidesGrid:o,rtlTranslate:l,enabled:c,animating:d}=n;if(!c||n.destroyed)return n;typeof e>"u"&&(e=n.params.speed);const u=n.virtual&&s.virtual.enabled;if(s.loop){if(d&&!u&&s.loopPreventsSliding)return!1;n.loopFix({direction:"prev"}),n._clientLeft=n.wrapperEl.clientLeft}const h=l?n.translate:-n.translate;function m(j){return j<0?-Math.floor(Math.abs(j)):Math.floor(j)}const A=m(h),y=i.map(j=>m(j)),x=s.freeMode&&s.freeMode.enabled;let v=i[y.indexOf(A)-1];if(typeof v>"u"&&(s.cssMode||x)){let j;i.forEach((E,T)=>{A>=E&&(j=T)}),typeof j<"u"&&(v=x?i[j]:i[j>0?j-1:j])}let b=0;if(typeof v<"u"&&(b=o.indexOf(v),b<0&&(b=n.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(b=b-n.slidesPerViewDynamic("previous",!0)+1,b=Math.max(b,0))),s.rewind&&n.isBeginning){const j=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(j,e,t,r)}else if(s.loop&&n.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{n.slideTo(b,e,t,r)}),!0;return n.slideTo(b,e,t,r)}function _Oe(e,t,r){t===void 0&&(t=!0);const n=this;if(!n.destroyed)return typeof e>"u"&&(e=n.params.speed),n.slideTo(n.activeIndex,e,t,r)}function FOe(e,t,r,n){t===void 0&&(t=!0),n===void 0&&(n=.5);const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);let i=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,i),l=o+Math.floor((i-o)/s.params.slidesPerGroup),c=s.rtlTranslate?s.translate:-s.translate;if(c>=s.snapGrid[l]){const d=s.snapGrid[l],u=s.snapGrid[l+1];c-d>(u-d)*n&&(i+=s.params.slidesPerGroup)}else{const d=s.snapGrid[l-1],u=s.snapGrid[l];c-d<=(u-d)*n&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,e,t,r)}function IOe(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:r}=e,n=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let s=e.getSlideIndexWhenGrid(e.clickedIndex),i;const o=e.isElement?"swiper-slide":`.${t.slideClass}`,l=e.grid&&e.params.grid&&e.params.grid.rows>1;if(t.loop){if(e.animating)return;i=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?e.slideToLoop(i):s>(l?(e.slides.length-n)/2-(e.params.grid.rows-1):e.slides.length-n)?(e.loopFix(),s=e.getSlideIndex(Qm(r,`${o}[data-swiper-slide-index="${i}"]`)[0]),fJ(()=>{e.slideTo(s)})):e.slideTo(s)}else e.slideTo(s)}var kOe={slideTo:COe,slideToLoop:EOe,slideNext:BOe,slidePrev:TOe,slideReset:_Oe,slideToClosest:FOe,slideToClickedSlide:IOe};function POe(e,t){const r=this,{params:n,slidesEl:s}=r;if(!n.loop||r.virtual&&r.params.virtual.enabled)return;const i=()=>{Qm(s,`.${n.slideClass}, swiper-slide`).forEach((A,y)=>{A.setAttribute("data-swiper-slide-index",y)})},o=()=>{const m=Qm(s,`.${n.slideBlankClass}`);m.forEach(A=>{A.remove()}),m.length>0&&(r.recalcSlides(),r.updateSlides())},l=r.grid&&n.grid&&n.grid.rows>1;n.loopAddBlankSlides&&(n.slidesPerGroup>1||l)&&o();const c=n.slidesPerGroup*(l?n.grid.rows:1),d=r.slides.length%c!==0,u=l&&r.slides.length%n.grid.rows!==0,h=m=>{for(let A=0;A<m;A+=1){const y=r.isElement?ZN("swiper-slide",[n.slideBlankClass]):ZN("div",[n.slideClass,n.slideBlankClass]);r.slidesEl.append(y)}};if(d){if(n.loopAddBlankSlides){const m=c-r.slides.length%c;h(m),r.recalcSlides(),r.updateSlides()}else JN("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(u){if(n.loopAddBlankSlides){const m=n.grid.rows-r.slides.length%n.grid.rows;h(m),r.recalcSlides(),r.updateSlides()}else JN("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();r.loopFix({slideRealIndex:e,direction:n.centeredSlides?void 0:"next",initial:t})}function LOe(e){let{slideRealIndex:t,slideTo:r=!0,direction:n,setTranslate:s,activeSlideIndex:i,initial:o,byController:l,byMousewheel:c}=e===void 0?{}:e;const d=this;if(!d.params.loop)return;d.emit("beforeLoopFix");const{slides:u,allowSlidePrev:h,allowSlideNext:m,slidesEl:A,params:y}=d,{centeredSlides:x,initialSlide:v}=y;if(d.allowSlidePrev=!0,d.allowSlideNext=!0,d.virtual&&y.virtual.enabled){r&&(!y.centeredSlides&&d.snapIndex===0?d.slideTo(d.virtual.slides.length,0,!1,!0):y.centeredSlides&&d.snapIndex<y.slidesPerView?d.slideTo(d.virtual.slides.length+d.snapIndex,0,!1,!0):d.snapIndex===d.snapGrid.length-1&&d.slideTo(d.virtual.slidesBefore,0,!1,!0)),d.allowSlidePrev=h,d.allowSlideNext=m,d.emit("loopFix");return}let b=y.slidesPerView;b==="auto"?b=d.slidesPerViewDynamic():(b=Math.ceil(parseFloat(y.slidesPerView,10)),x&&b%2===0&&(b=b+1));const j=y.slidesPerGroupAuto?b:y.slidesPerGroup;let E=x?Math.max(j,Math.ceil(b/2)):j;E%j!==0&&(E+=j-E%j),E+=y.loopAdditionalSlides,d.loopedSlides=E;const T=d.grid&&y.grid&&y.grid.rows>1;u.length<b+E||d.params.effect==="cards"&&u.length<b+E*2?JN("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):T&&y.grid.fill==="row"&&JN("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const P=[],U=[],M=T?Math.ceil(u.length/y.grid.rows):u.length,k=o&&M-v<b&&!x;let Q=k?v:d.activeIndex;typeof i>"u"?i=d.getSlideIndex(u.find(ee=>ee.classList.contains(y.slideActiveClass))):Q=i;const z=n==="next"||!n,O=n==="prev"||!n;let L=0,V=0;const ce=(T?u[i].column:i)+(x&&typeof s>"u"?-b/2+.5:0);if(ce<E){L=Math.max(E-ce,j);for(let ee=0;ee<E-ce;ee+=1){const de=ee-Math.floor(ee/M)*M;if(T){const se=M-de-1;for(let he=u.length-1;he>=0;he-=1)u[he].column===se&&P.push(he)}else P.push(M-de-1)}}else if(ce+b>M-E){V=Math.max(ce-(M-E*2),j),k&&(V=Math.max(V,b-M+v+1));for(let ee=0;ee<V;ee+=1){const de=ee-Math.floor(ee/M)*M;T?u.forEach((se,he)=>{se.column===de&&U.push(he)}):U.push(de)}}if(d.__preventObserver__=!0,requestAnimationFrame(()=>{d.__preventObserver__=!1}),d.params.effect==="cards"&&u.length<b+E*2&&(U.includes(i)&&U.splice(U.indexOf(i),1),P.includes(i)&&P.splice(P.indexOf(i),1)),O&&P.forEach(ee=>{u[ee].swiperLoopMoveDOM=!0,A.prepend(u[ee]),u[ee].swiperLoopMoveDOM=!1}),z&&U.forEach(ee=>{u[ee].swiperLoopMoveDOM=!0,A.append(u[ee]),u[ee].swiperLoopMoveDOM=!1}),d.recalcSlides(),y.slidesPerView==="auto"?d.updateSlides():T&&(P.length>0&&O||U.length>0&&z)&&d.slides.forEach((ee,de)=>{d.grid.updateSlide(de,ee,d.slides)}),y.watchSlidesProgress&&d.updateSlidesOffset(),r){if(P.length>0&&O){if(typeof t>"u"){const ee=d.slidesGrid[Q],se=d.slidesGrid[Q+L]-ee;c?d.setTranslate(d.translate-se):(d.slideTo(Q+Math.ceil(L),0,!1,!0),s&&(d.touchEventsData.startTranslate=d.touchEventsData.startTranslate-se,d.touchEventsData.currentTranslate=d.touchEventsData.currentTranslate-se))}else if(s){const ee=T?P.length/y.grid.rows:P.length;d.slideTo(d.activeIndex+ee,0,!1,!0),d.touchEventsData.currentTranslate=d.translate}}else if(U.length>0&&z)if(typeof t>"u"){const ee=d.slidesGrid[Q],se=d.slidesGrid[Q-V]-ee;c?d.setTranslate(d.translate-se):(d.slideTo(Q-V,0,!1,!0),s&&(d.touchEventsData.startTranslate=d.touchEventsData.startTranslate-se,d.touchEventsData.currentTranslate=d.touchEventsData.currentTranslate-se))}else{const ee=T?U.length/y.grid.rows:U.length;d.slideTo(d.activeIndex-ee,0,!1,!0)}}if(d.allowSlidePrev=h,d.allowSlideNext=m,d.controller&&d.controller.control&&!l){const ee={slideRealIndex:t,direction:n,setTranslate:s,activeSlideIndex:i,byController:!0};Array.isArray(d.controller.control)?d.controller.control.forEach(de=>{!de.destroyed&&de.params.loop&&de.loopFix({...ee,slideTo:de.params.slidesPerView===y.slidesPerView?r:!1})}):d.controller.control instanceof d.constructor&&d.controller.control.params.loop&&d.controller.control.loopFix({...ee,slideTo:d.controller.control.params.slidesPerView===y.slidesPerView?r:!1})}d.emit("loopFix")}function OOe(){const e=this,{params:t,slidesEl:r}=e;if(!t.loop||!r||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const n=[];e.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;n[i]=s}),e.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),n.forEach(s=>{r.append(s)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}var DOe={loopCreate:POe,loopFix:LOe,loopDestroy:OOe};function MOe(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const r=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),r.style.cursor="move",r.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function UOe(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}var ROe={setGrabCursor:MOe,unsetGrabCursor:UOe};function QOe(e,t){t===void 0&&(t=this);function r(n){if(!n||n===qm()||n===df())return null;n.assignedSlot&&(n=n.assignedSlot);const s=n.closest(e);return!s&&!n.getRootNode?null:s||r(n.getRootNode().host)}return r(t)}function p9(e,t,r){const n=df(),{params:s}=e,i=s.edgeSwipeDetection,o=s.edgeSwipeThreshold;return i&&(r<=o||r>=n.innerWidth-o)?i==="prevent"?(t.preventDefault(),!0):!1:!0}function HOe(e){const t=this,r=qm();let n=e;n.originalEvent&&(n=n.originalEvent);const s=t.touchEventsData;if(n.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==n.pointerId)return;s.pointerId=n.pointerId}else n.type==="touchstart"&&n.targetTouches.length===1&&(s.touchId=n.targetTouches[0].identifier);if(n.type==="touchstart"){p9(t,n,n.targetTouches[0].pageX);return}const{params:i,touches:o,enabled:l}=t;if(!l||!i.simulateTouch&&n.pointerType==="mouse"||t.animating&&i.preventInteractionOnTransition)return;!t.animating&&i.cssMode&&i.loop&&t.loopFix();let c=n.target;if(i.touchEventsTarget==="wrapper"&&!Y7e(c,t.wrapperEl)||"which"in n&&n.which===3||"button"in n&&n.button>0||s.isTouched&&s.isMoved)return;const d=!!i.noSwipingClass&&i.noSwipingClass!=="",u=n.composedPath?n.composedPath():n.path;d&&n.target&&n.target.shadowRoot&&u&&(c=u[0]);const h=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,m=!!(n.target&&n.target.shadowRoot);if(i.noSwiping&&(m?QOe(h,c):c.closest(h))){t.allowClick=!0;return}if(i.swipeHandler&&!c.closest(i.swipeHandler))return;o.currentX=n.pageX,o.currentY=n.pageY;const A=o.currentX,y=o.currentY;if(!p9(t,n,A))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=A,o.startY=y,s.touchStartTime=XN(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let x=!0;c.matches(s.focusableElements)&&(x=!1,c.nodeName==="SELECT"&&(s.isTouched=!1)),r.activeElement&&r.activeElement.matches(s.focusableElements)&&r.activeElement!==c&&(n.pointerType==="mouse"||n.pointerType!=="mouse"&&!c.matches(s.focusableElements))&&r.activeElement.blur();const v=x&&t.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||v)&&!c.isContentEditable&&n.preventDefault(),i.freeMode&&i.freeMode.enabled&&t.freeMode&&t.animating&&!i.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",n)}function $Oe(e){const t=qm(),r=this,n=r.touchEventsData,{params:s,touches:i,rtlTranslate:o,enabled:l}=r;if(!l||!s.simulateTouch&&e.pointerType==="mouse")return;let c=e;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(n.touchId!==null||c.pointerId!==n.pointerId))return;let d;if(c.type==="touchmove"){if(d=[...c.changedTouches].find(P=>P.identifier===n.touchId),!d||d.identifier!==n.touchId)return}else d=c;if(!n.isTouched){n.startMoving&&n.isScrolling&&r.emit("touchMoveOpposite",c);return}const u=d.pageX,h=d.pageY;if(c.preventedByNestedSwiper){i.startX=u,i.startY=h;return}if(!r.allowTouchMove){c.target.matches(n.focusableElements)||(r.allowClick=!1),n.isTouched&&(Object.assign(i,{startX:u,startY:h,currentX:u,currentY:h}),n.touchStartTime=XN());return}if(s.touchReleaseOnEdges&&!s.loop)if(r.isVertical()){if(h<i.startY&&r.translate<=r.maxTranslate()||h>i.startY&&r.translate>=r.minTranslate()){n.isTouched=!1,n.isMoved=!1;return}}else{if(o&&(u>i.startX&&-r.translate<=r.maxTranslate()||u<i.startX&&-r.translate>=r.minTranslate()))return;if(!o&&(u<i.startX&&r.translate<=r.maxTranslate()||u>i.startX&&r.translate>=r.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(n.focusableElements)&&t.activeElement!==c.target&&c.pointerType!=="mouse"&&t.activeElement.blur(),t.activeElement&&c.target===t.activeElement&&c.target.matches(n.focusableElements)){n.isMoved=!0,r.allowClick=!1;return}n.allowTouchCallbacks&&r.emit("touchMove",c),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=u,i.currentY=h;const m=i.currentX-i.startX,A=i.currentY-i.startY;if(r.params.threshold&&Math.sqrt(m**2+A**2)<r.params.threshold)return;if(typeof n.isScrolling>"u"){let P;r.isHorizontal()&&i.currentY===i.startY||r.isVertical()&&i.currentX===i.startX?n.isScrolling=!1:m*m+A*A>=25&&(P=Math.atan2(Math.abs(A),Math.abs(m))*180/Math.PI,n.isScrolling=r.isHorizontal()?P>s.touchAngle:90-P>s.touchAngle)}if(n.isScrolling&&r.emit("touchMoveOpposite",c),typeof n.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(n.startMoving=!0),n.isScrolling||c.type==="touchmove"&&n.preventTouchMoveFromPointerMove){n.isTouched=!1;return}if(!n.startMoving)return;r.allowClick=!1,!s.cssMode&&c.cancelable&&c.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&c.stopPropagation();let y=r.isHorizontal()?m:A,x=r.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(y=Math.abs(y)*(o?1:-1),x=Math.abs(x)*(o?1:-1)),i.diff=y,y*=s.touchRatio,o&&(y=-y,x=-x);const v=r.touchesDirection;r.swipeDirection=y>0?"prev":"next",r.touchesDirection=x>0?"prev":"next";const b=r.params.loop&&!s.cssMode,j=r.touchesDirection==="next"&&r.allowSlideNext||r.touchesDirection==="prev"&&r.allowSlidePrev;if(!n.isMoved){if(b&&j&&r.loopFix({direction:r.swipeDirection}),n.startTranslate=r.getTranslate(),r.setTransition(0),r.animating){const P=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});r.wrapperEl.dispatchEvent(P)}n.allowMomentumBounce=!1,s.grabCursor&&(r.allowSlideNext===!0||r.allowSlidePrev===!0)&&r.setGrabCursor(!0),r.emit("sliderFirstMove",c)}if(new Date().getTime(),s._loopSwapReset!==!1&&n.isMoved&&n.allowThresholdMove&&v!==r.touchesDirection&&b&&j&&Math.abs(y)>=1){Object.assign(i,{startX:u,startY:h,currentX:u,currentY:h,startTranslate:n.currentTranslate}),n.loopSwapReset=!0,n.startTranslate=n.currentTranslate;return}r.emit("sliderMove",c),n.isMoved=!0,n.currentTranslate=y+n.startTranslate;let E=!0,T=s.resistanceRatio;if(s.touchReleaseOnEdges&&(T=0),y>0?(b&&j&&n.allowThresholdMove&&n.currentTranslate>(s.centeredSlides?r.minTranslate()-r.slidesSizesGrid[r.activeIndex+1]-(s.slidesPerView!=="auto"&&r.slides.length-s.slidesPerView>=2?r.slidesSizesGrid[r.activeIndex+1]+r.params.spaceBetween:0)-r.params.spaceBetween:r.minTranslate())&&r.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>r.minTranslate()&&(E=!1,s.resistance&&(n.currentTranslate=r.minTranslate()-1+(-r.minTranslate()+n.startTranslate+y)**T))):y<0&&(b&&j&&n.allowThresholdMove&&n.currentTranslate<(s.centeredSlides?r.maxTranslate()+r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween+(s.slidesPerView!=="auto"&&r.slides.length-s.slidesPerView>=2?r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween:0):r.maxTranslate())&&r.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:r.slides.length-(s.slidesPerView==="auto"?r.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),n.currentTranslate<r.maxTranslate()&&(E=!1,s.resistance&&(n.currentTranslate=r.maxTranslate()+1-(r.maxTranslate()-n.startTranslate-y)**T))),E&&(c.preventedByNestedSwiper=!0),!r.allowSlideNext&&r.swipeDirection==="next"&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!r.allowSlidePrev&&r.swipeDirection==="prev"&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),!r.allowSlidePrev&&!r.allowSlideNext&&(n.currentTranslate=n.startTranslate),s.threshold>0)if(Math.abs(y)>s.threshold||n.allowThresholdMove){if(!n.allowThresholdMove){n.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,n.currentTranslate=n.startTranslate,i.diff=r.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{n.currentTranslate=n.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&r.freeMode||s.watchSlidesProgress)&&(r.updateActiveIndex(),r.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&r.freeMode&&r.freeMode.onTouchMove(),r.updateProgress(n.currentTranslate),r.setTranslate(n.currentTranslate))}function zOe(e){const t=this,r=t.touchEventsData;let n=e;n.originalEvent&&(n=n.originalEvent);let s;if(n.type==="touchend"||n.type==="touchcancel"){if(s=[...n.changedTouches].find(P=>P.identifier===r.touchId),!s||s.identifier!==r.touchId)return}else{if(r.touchId!==null||n.pointerId!==r.pointerId)return;s=n}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(n.type)&&!(["pointercancel","contextmenu"].includes(n.type)&&(t.browser.isSafari||t.browser.isWebView)))return;r.pointerId=null,r.touchId=null;const{params:o,touches:l,rtlTranslate:c,slidesGrid:d,enabled:u}=t;if(!u||!o.simulateTouch&&n.pointerType==="mouse")return;if(r.allowTouchCallbacks&&t.emit("touchEnd",n),r.allowTouchCallbacks=!1,!r.isTouched){r.isMoved&&o.grabCursor&&t.setGrabCursor(!1),r.isMoved=!1,r.startMoving=!1;return}o.grabCursor&&r.isMoved&&r.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const h=XN(),m=h-r.touchStartTime;if(t.allowClick){const P=n.path||n.composedPath&&n.composedPath();t.updateClickedSlide(P&&P[0]||n.target,P),t.emit("tap click",n),m<300&&h-r.lastClickTime<300&&t.emit("doubleTap doubleClick",n)}if(r.lastClickTime=XN(),fJ(()=>{t.destroyed||(t.allowClick=!0)}),!r.isTouched||!r.isMoved||!t.swipeDirection||l.diff===0&&!r.loopSwapReset||r.currentTranslate===r.startTranslate&&!r.loopSwapReset){r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;return}r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;let A;if(o.followFinger?A=c?t.translate:-t.translate:A=-r.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:A});return}const y=A>=-t.maxTranslate()&&!t.params.loop;let x=0,v=t.slidesSizesGrid[0];for(let P=0;P<d.length;P+=P<o.slidesPerGroupSkip?1:o.slidesPerGroup){const U=P<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof d[P+U]<"u"?(y||A>=d[P]&&A<d[P+U])&&(x=P,v=d[P+U]-d[P]):(y||A>=d[P])&&(x=P,v=d[d.length-1]-d[d.length-2])}let b=null,j=null;o.rewind&&(t.isBeginning?j=o.virtual&&o.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(b=0));const E=(A-d[x])/v,T=x<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(m>o.longSwipesMs){if(!o.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(E>=o.longSwipesRatio?t.slideTo(o.rewind&&t.isEnd?b:x+T):t.slideTo(x)),t.swipeDirection==="prev"&&(E>1-o.longSwipesRatio?t.slideTo(x+T):j!==null&&E<0&&Math.abs(E)>o.longSwipesRatio?t.slideTo(j):t.slideTo(x))}else{if(!o.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(n.target===t.navigation.nextEl||n.target===t.navigation.prevEl)?n.target===t.navigation.nextEl?t.slideTo(x+T):t.slideTo(x):(t.swipeDirection==="next"&&t.slideTo(b!==null?b:x+T),t.swipeDirection==="prev"&&t.slideTo(j!==null?j:x))}}function g9(){const e=this,{params:t,el:r}=e;if(r&&r.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:s,snapGrid:i}=e,o=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const l=o&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!l?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!o?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=s,e.allowSlideNext=n,e.params.watchOverflow&&i!==e.snapGrid&&e.checkOverflow()}function VOe(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function KOe(){const e=this,{wrapperEl:t,rtlTranslate:r,enabled:n}=e;if(!n)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let s;const i=e.maxTranslate()-e.minTranslate();i===0?s=0:s=(e.translate-e.minTranslate())/i,s!==e.progress&&e.updateProgress(r?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function qOe(e){const t=this;T5(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}function GOe(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const vJ=(e,t)=>{const r=qm(),{params:n,el:s,wrapperEl:i,device:o}=e,l=!!n.nested,c=t==="on"?"addEventListener":"removeEventListener",d=t;!s||typeof s=="string"||(r[c]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:l}),s[c]("touchstart",e.onTouchStart,{passive:!1}),s[c]("pointerdown",e.onTouchStart,{passive:!1}),r[c]("touchmove",e.onTouchMove,{passive:!1,capture:l}),r[c]("pointermove",e.onTouchMove,{passive:!1,capture:l}),r[c]("touchend",e.onTouchEnd,{passive:!0}),r[c]("pointerup",e.onTouchEnd,{passive:!0}),r[c]("pointercancel",e.onTouchEnd,{passive:!0}),r[c]("touchcancel",e.onTouchEnd,{passive:!0}),r[c]("pointerout",e.onTouchEnd,{passive:!0}),r[c]("pointerleave",e.onTouchEnd,{passive:!0}),r[c]("contextmenu",e.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&s[c]("click",e.onClick,!0),n.cssMode&&i[c]("scroll",e.onScroll),n.updateOnWindowResize?e[d](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",g9,!0):e[d]("observerUpdate",g9,!0),s[c]("load",e.onLoad,{capture:!0}))};function WOe(){const e=this,{params:t}=e;e.onTouchStart=HOe.bind(e),e.onTouchMove=$Oe.bind(e),e.onTouchEnd=zOe.bind(e),e.onDocumentTouchStart=GOe.bind(e),t.cssMode&&(e.onScroll=KOe.bind(e)),e.onClick=VOe.bind(e),e.onLoad=qOe.bind(e),vJ(e,"on")}function YOe(){vJ(this,"off")}var XOe={attachEvents:WOe,detachEvents:YOe};const x9=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function JOe(){const e=this,{realIndex:t,initialized:r,params:n,el:s}=e,i=n.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const o=qm(),l=n.breakpointsBase==="window"||!n.breakpointsBase?n.breakpointsBase:"container",c=["window","container"].includes(n.breakpointsBase)||!n.breakpointsBase?e.el:o.querySelector(n.breakpointsBase),d=e.getBreakpoint(i,l,c);if(!d||e.currentBreakpoint===d)return;const h=(d in i?i[d]:void 0)||e.originalParams,m=x9(e,n),A=x9(e,h),y=e.params.grabCursor,x=h.grabCursor,v=n.enabled;m&&!A?(s.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),e.emitContainerClasses()):!m&&A&&(s.classList.add(`${n.containerModifierClass}grid`),(h.grid.fill&&h.grid.fill==="column"||!h.grid.fill&&n.grid.fill==="column")&&s.classList.add(`${n.containerModifierClass}grid-column`),e.emitContainerClasses()),y&&!x?e.unsetGrabCursor():!y&&x&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(U=>{if(typeof h[U]>"u")return;const M=n[U]&&n[U].enabled,k=h[U]&&h[U].enabled;M&&!k&&e[U].disable(),!M&&k&&e[U].enable()});const b=h.direction&&h.direction!==n.direction,j=n.loop&&(h.slidesPerView!==n.slidesPerView||b),E=n.loop;b&&r&&e.changeDirection(),vh(e.params,h);const T=e.params.enabled,P=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),v&&!T?e.disable():!v&&T&&e.enable(),e.currentBreakpoint=d,e.emit("_beforeBreakpoint",h),r&&(j?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!E&&P?(e.loopCreate(t),e.updateSlides()):E&&!P&&e.loopDestroy()),e.emit("breakpoint",h)}function ZOe(e,t,r){if(t===void 0&&(t="window"),!e||t==="container"&&!r)return;let n=!1;const s=df(),i=t==="window"?s.innerHeight:r.clientHeight,o=Object.keys(e).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:i*c,point:l}}return{value:l,point:l}});o.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<o.length;l+=1){const{point:c,value:d}=o[l];t==="window"?s.matchMedia(`(min-width: ${d}px)`).matches&&(n=c):d<=r.clientWidth&&(n=c)}return n||"max"}var eDe={setBreakpoint:JOe,getBreakpoint:ZOe};function tDe(e,t){const r=[];return e.forEach(n=>{typeof n=="object"?Object.keys(n).forEach(s=>{n[s]&&r.push(t+s)}):typeof n=="string"&&r.push(t+n)}),r}function rDe(){const e=this,{classNames:t,params:r,rtl:n,el:s,device:i}=e,o=tDe(["initialized",r.direction,{"free-mode":e.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:n},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&r.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides},{"watch-progress":r.watchSlidesProgress}],r.containerModifierClass);t.push(...o),s.classList.add(...t),e.emitContainerClasses()}function nDe(){const e=this,{el:t,classNames:r}=e;!t||typeof t=="string"||(t.classList.remove(...r),e.emitContainerClasses())}var aDe={addClasses:rDe,removeClasses:nDe};function sDe(){const e=this,{isLocked:t,params:r}=e,{slidesOffsetBefore:n}=r;if(n){const s=e.slides.length-1,i=e.slidesGrid[s]+e.slidesSizesGrid[s]+n*2;e.isLocked=e.size>i}else e.isLocked=e.snapGrid.length===1;r.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),r.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}var iDe={checkOverflow:sDe},zT={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function oDe(e,t){return function(n){n===void 0&&(n={});const s=Object.keys(n)[0],i=n[s];if(typeof i!="object"||i===null){vh(t,n);return}if(e[s]===!0&&(e[s]={enabled:!0}),s==="navigation"&&e[s]&&e[s].enabled&&!e[s].prevEl&&!e[s].nextEl&&(e[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&e[s]&&e[s].enabled&&!e[s].el&&(e[s].auto=!0),!(s in e&&"enabled"in i)){vh(t,n);return}typeof e[s]=="object"&&!("enabled"in e[s])&&(e[s].enabled=!0),e[s]||(e[s]={enabled:!1}),vh(t,n)}}const SE={eventsEmitter:aOe,update:mOe,translate:bOe,transition:SOe,slide:kOe,loop:DOe,grabCursor:ROe,events:XOe,breakpoints:eDe,checkOverflow:iDe,classes:aDe},CE={};let SI=class F0{constructor(){let t,r;for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?r=s[0]:[t,r]=s,r||(r={}),r=vh({},r),t&&!r.el&&(r.el=t);const o=qm();if(r.el&&typeof r.el=="string"&&o.querySelectorAll(r.el).length>1){const u=[];return o.querySelectorAll(r.el).forEach(h=>{const m=vh({},r,{el:h});u.push(new F0(m))}),u}const l=this;l.__swiper__=!0,l.support=mJ(),l.device=pJ({userAgent:r.userAgent}),l.browser=gJ(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],r.modules&&Array.isArray(r.modules)&&l.modules.push(...r.modules);const c={};l.modules.forEach(u=>{u({params:r,swiper:l,extendParams:oDe(r,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const d=vh({},zT,c);return l.params=vh({},d,CE,r),l.originalParams=vh({},l.params),l.passedParams=vh({},r),l.params&&l.params.on&&Object.keys(l.params.on).forEach(u=>{l.on(u,l.params.on[u])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:r,params:n}=this,s=Qm(r,`.${n.slideClass}, swiper-slide`),i=ej(s[0]);return ej(t)-i}getSlideIndexByData(t){return this.getSlideIndex(this.slides.find(r=>r.getAttribute("data-swiper-slide-index")*1===t))}getSlideIndexWhenGrid(t){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?t=Math.floor(t/this.params.grid.rows):this.params.grid.fill==="row"&&(t=t%Math.ceil(this.slides.length/this.params.grid.rows))),t}recalcSlides(){const t=this,{slidesEl:r,params:n}=t;t.slides=Qm(r,`.${n.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,r){const n=this;t=Math.min(Math.max(t,0),1);const s=n.minTranslate(),o=(n.maxTranslate()-s)*t+s;n.translateTo(o,typeof r>"u"?0:r),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const r=t.el.className.split(" ").filter(n=>n.indexOf("swiper")===0||n.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",r.join(" "))}getSlideClasses(t){const r=this;return r.destroyed?"":t.className.split(" ").filter(n=>n.indexOf("swiper-slide")===0||n.indexOf(r.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const r=[];t.slides.forEach(n=>{const s=t.getSlideClasses(n);r.push({slideEl:n,classNames:s}),t.emit("_slideClass",n,s)}),t.emit("_slideClasses",r)}slidesPerViewDynamic(t,r){t===void 0&&(t="current"),r===void 0&&(r=!1);const n=this,{params:s,slides:i,slidesGrid:o,slidesSizesGrid:l,size:c,activeIndex:d}=n;let u=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let h=i[d]?Math.ceil(i[d].swiperSlideSize):0,m;for(let A=d+1;A<i.length;A+=1)i[A]&&!m&&(h+=Math.ceil(i[A].swiperSlideSize),u+=1,h>c&&(m=!0));for(let A=d-1;A>=0;A-=1)i[A]&&!m&&(h+=i[A].swiperSlideSize,u+=1,h>c&&(m=!0))}else if(t==="current")for(let h=d+1;h<i.length;h+=1)(r?o[h]+l[h]-o[d]<c:o[h]-o[d]<c)&&(u+=1);else for(let h=d-1;h>=0;h-=1)o[d]-o[h]<c&&(u+=1);return u}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:r,params:n}=t;n.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&T5(t,o)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function s(){const o=t.rtlTranslate?t.translate*-1:t.translate,l=Math.min(Math.max(o,t.maxTranslate()),t.minTranslate());t.setTranslate(l),t.updateActiveIndex(),t.updateSlidesClasses()}let i;if(n.freeMode&&n.freeMode.enabled&&!n.cssMode)s(),n.autoHeight&&t.updateAutoHeight();else{if((n.slidesPerView==="auto"||n.slidesPerView>1)&&t.isEnd&&!n.centeredSlides){const o=t.virtual&&n.virtual.enabled?t.virtual.slides:t.slides;i=t.slideTo(o.length-1,0,!1,!0)}else i=t.slideTo(t.activeIndex,0,!1,!0);i||s()}n.watchOverflow&&r!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,r){r===void 0&&(r=!0);const n=this,s=n.params.direction;return t||(t=s==="horizontal"?"vertical":"horizontal"),t===s||t!=="horizontal"&&t!=="vertical"||(n.el.classList.remove(`${n.params.containerModifierClass}${s}`),n.el.classList.add(`${n.params.containerModifierClass}${t}`),n.emitContainerClasses(),n.params.direction=t,n.slides.forEach(i=>{t==="vertical"?i.style.width="":i.style.height=""}),n.emit("changeDirection"),r&&n.update()),n}changeLanguageDirection(t){const r=this;r.rtl&&t==="rtl"||!r.rtl&&t==="ltr"||(r.rtl=t==="rtl",r.rtlTranslate=r.params.direction==="horizontal"&&r.rtl,r.rtl?(r.el.classList.add(`${r.params.containerModifierClass}rtl`),r.el.dir="rtl"):(r.el.classList.remove(`${r.params.containerModifierClass}rtl`),r.el.dir="ltr"),r.update())}mount(t){const r=this;if(r.mounted)return!0;let n=t||r.params.el;if(typeof n=="string"&&(n=document.querySelector(n)),!n)return!1;n.swiper=r,n.parentNode&&n.parentNode.host&&n.parentNode.host.nodeName===r.params.swiperElementNodeName.toUpperCase()&&(r.isElement=!0);const s=()=>`.${(r.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=n&&n.shadowRoot&&n.shadowRoot.querySelector?n.shadowRoot.querySelector(s()):Qm(n,s())[0];return!o&&r.params.createElements&&(o=ZN("div",r.params.wrapperClass),n.append(o),Qm(n,`.${r.params.slideClass}`).forEach(l=>{o.append(l)})),Object.assign(r,{el:n,wrapperEl:o,slidesEl:r.isElement&&!n.parentNode.host.slideSlots?n.parentNode.host:o,hostEl:r.isElement?n.parentNode.host:n,mounted:!0,rtl:n.dir.toLowerCase()==="rtl"||ig(n,"direction")==="rtl",rtlTranslate:r.params.direction==="horizontal"&&(n.dir.toLowerCase()==="rtl"||ig(n,"direction")==="rtl"),wrongRTL:ig(o,"display")==="-webkit-box"}),!0}init(t){const r=this;if(r.initialized||r.mount(t)===!1)return r;r.emit("beforeInit"),r.params.breakpoints&&r.setBreakpoint(),r.addClasses(),r.updateSize(),r.updateSlides(),r.params.watchOverflow&&r.checkOverflow(),r.params.grabCursor&&r.enabled&&r.setGrabCursor(),r.params.loop&&r.virtual&&r.params.virtual.enabled?r.slideTo(r.params.initialSlide+r.virtual.slidesBefore,0,r.params.runCallbacksOnInit,!1,!0):r.slideTo(r.params.initialSlide,0,r.params.runCallbacksOnInit,!1,!0),r.params.loop&&r.loopCreate(void 0,!0),r.attachEvents();const s=[...r.el.querySelectorAll('[loading="lazy"]')];return r.isElement&&s.push(...r.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?T5(r,i):i.addEventListener("load",o=>{T5(r,o.target)})}),$T(r),r.initialized=!0,$T(r),r.emit("init"),r.emit("afterInit"),r}destroy(t,r){t===void 0&&(t=!0),r===void 0&&(r=!0);const n=this,{params:s,el:i,wrapperEl:o,slides:l}=n;return typeof n.params>"u"||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),s.loop&&n.loopDestroy(),r&&(n.removeClasses(),i&&typeof i!="string"&&i.removeAttribute("style"),o&&o.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(c=>{n.off(c)}),t!==!1&&(n.el&&typeof n.el!="string"&&(n.el.swiper=null),V7e(n)),n.destroyed=!0),null}static extendDefaults(t){vh(CE,t)}static get extendedDefaults(){return CE}static get defaults(){return zT}static installModule(t){F0.prototype.__modules__||(F0.prototype.__modules__=[]);const r=F0.prototype.__modules__;typeof t=="function"&&r.indexOf(t)<0&&r.push(t)}static use(t){return Array.isArray(t)?(t.forEach(r=>F0.installModule(r)),F0):(F0.installModule(t),F0)}};Object.keys(SE).forEach(e=>{Object.keys(SE[e]).forEach(t=>{SI.prototype[t]=SE[e][t]})});SI.use([rOe,nOe]);const yJ=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function a1(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"&&!e.__swiper__}function Qv(e,t){const r=["__proto__","constructor","prototype"];Object.keys(t).filter(n=>r.indexOf(n)<0).forEach(n=>{typeof e[n]>"u"?e[n]=t[n]:a1(t[n])&&a1(e[n])&&Object.keys(t[n]).length>0?t[n].__swiper__?e[n]=t[n]:Qv(e[n],t[n]):e[n]=t[n]})}function bJ(e){return e===void 0&&(e={}),e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function wJ(e){return e===void 0&&(e={}),e.pagination&&typeof e.pagination.el>"u"}function NJ(e){return e===void 0&&(e={}),e.scrollbar&&typeof e.scrollbar.el>"u"}function jJ(e){e===void 0&&(e="");const t=e.split(" ").map(n=>n.trim()).filter(n=>!!n),r=[];return t.forEach(n=>{r.indexOf(n)<0&&r.push(n)}),r.join(" ")}function lDe(e){return e===void 0&&(e=""),e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function cDe(e){let{swiper:t,slides:r,passedParams:n,changedParams:s,nextEl:i,prevEl:o,scrollbarEl:l,paginationEl:c}=e;const d=s.filter(Q=>Q!=="children"&&Q!=="direction"&&Q!=="wrapperClass"),{params:u,pagination:h,navigation:m,scrollbar:A,virtual:y,thumbs:x}=t;let v,b,j,E,T,P,U,M;s.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(v=!0),s.includes("controller")&&n.controller&&n.controller.control&&u.controller&&!u.controller.control&&(b=!0),s.includes("pagination")&&n.pagination&&(n.pagination.el||c)&&(u.pagination||u.pagination===!1)&&h&&!h.el&&(j=!0),s.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||l)&&(u.scrollbar||u.scrollbar===!1)&&A&&!A.el&&(E=!0),s.includes("navigation")&&n.navigation&&(n.navigation.prevEl||o)&&(n.navigation.nextEl||i)&&(u.navigation||u.navigation===!1)&&m&&!m.prevEl&&!m.nextEl&&(T=!0);const k=Q=>{t[Q]&&(t[Q].destroy(),Q==="navigation"?(t.isElement&&(t[Q].prevEl.remove(),t[Q].nextEl.remove()),u[Q].prevEl=void 0,u[Q].nextEl=void 0,t[Q].prevEl=void 0,t[Q].nextEl=void 0):(t.isElement&&t[Q].el.remove(),u[Q].el=void 0,t[Q].el=void 0))};s.includes("loop")&&t.isElement&&(u.loop&&!n.loop?P=!0:!u.loop&&n.loop?U=!0:M=!0),d.forEach(Q=>{if(a1(u[Q])&&a1(n[Q]))Object.assign(u[Q],n[Q]),(Q==="navigation"||Q==="pagination"||Q==="scrollbar")&&"enabled"in n[Q]&&!n[Q].enabled&&k(Q);else{const z=n[Q];(z===!0||z===!1)&&(Q==="navigation"||Q==="pagination"||Q==="scrollbar")?z===!1&&k(Q):u[Q]=n[Q]}}),d.includes("controller")&&!b&&t.controller&&t.controller.control&&u.controller&&u.controller.control&&(t.controller.control=u.controller.control),s.includes("children")&&r&&y&&u.virtual.enabled?(y.slides=r,y.update(!0)):s.includes("virtual")&&y&&u.virtual.enabled&&(r&&(y.slides=r),y.update(!0)),s.includes("children")&&r&&u.loop&&(M=!0),v&&x.init()&&x.update(!0),b&&(t.controller.control=u.controller.control),j&&(t.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),t.el.appendChild(c)),c&&(u.pagination.el=c),h.init(),h.render(),h.update()),E&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),t.el.appendChild(l)),l&&(u.scrollbar.el=l),A.init(),A.updateSize(),A.setTranslate()),T&&(t.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),tj(i,t.hostEl.constructor.nextButtonSvg),i.part.add("button-next"),t.el.appendChild(i)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),tj(o,t.hostEl.constructor.prevButtonSvg),o.part.add("button-prev"),t.el.appendChild(o))),i&&(u.navigation.nextEl=i),o&&(u.navigation.prevEl=o),m.init(),m.update()),s.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),s.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),s.includes("direction")&&t.changeDirection(n.direction,!1),(P||M)&&t.loopDestroy(),(U||M)&&t.loopCreate(),t.update()}function uDe(e,t){e===void 0&&(e={}),t===void 0&&(t=!0);const r={on:{}},n={},s={};Qv(r,zT),r._emitClasses=!0,r.init=!1;const i={},o=yJ.map(c=>c.replace(/_/,"")),l=Object.assign({},e);return Object.keys(l).forEach(c=>{typeof e[c]>"u"||(o.indexOf(c)>=0?a1(e[c])?(r[c]={},s[c]={},Qv(r[c],e[c]),Qv(s[c],e[c])):(r[c]=e[c],s[c]=e[c]):c.search(/on[A-Z]/)===0&&typeof e[c]=="function"?t?n[`${c[2].toLowerCase()}${c.substr(3)}`]=e[c]:r.on[`${c[2].toLowerCase()}${c.substr(3)}`]=e[c]:i[c]=e[c])}),["navigation","pagination","scrollbar"].forEach(c=>{r[c]===!0&&(r[c]={}),r[c]===!1&&delete r[c]}),{params:r,passedParams:s,rest:i,events:n}}function dDe(e,t){let{el:r,nextEl:n,prevEl:s,paginationEl:i,scrollbarEl:o,swiper:l}=e;bJ(t)&&n&&s&&(l.params.navigation.nextEl=n,l.originalParams.navigation.nextEl=n,l.params.navigation.prevEl=s,l.originalParams.navigation.prevEl=s),wJ(t)&&i&&(l.params.pagination.el=i,l.originalParams.pagination.el=i),NJ(t)&&o&&(l.params.scrollbar.el=o,l.originalParams.scrollbar.el=o),l.init(r)}function fDe(e,t,r,n,s){const i=[];if(!t)return i;const o=c=>{i.indexOf(c)<0&&i.push(c)};if(r&&n){const c=n.map(s),d=r.map(s);c.join("")!==d.join("")&&o("children"),n.length!==r.length&&o("children")}return yJ.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in e&&c in t)if(a1(e[c])&&a1(t[c])){const d=Object.keys(e[c]),u=Object.keys(t[c]);d.length!==u.length?o(c):(d.forEach(h=>{e[c][h]!==t[c][h]&&o(c)}),u.forEach(h=>{e[c][h]!==t[c][h]&&o(c)}))}else e[c]!==t[c]&&o(c)}),i}const hDe=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.emit("_virtualUpdated"),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())};function rj(){return rj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rj.apply(this,arguments)}function SJ(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function CJ(e){const t=[];return Kn.Children.toArray(e).forEach(r=>{SJ(r)?t.push(r):r.props&&r.props.children&&CJ(r.props.children).forEach(n=>t.push(n))}),t}function ADe(e){const t=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Kn.Children.toArray(e).forEach(n=>{if(SJ(n))t.push(n);else if(n.props&&n.props.slot&&r[n.props.slot])r[n.props.slot].push(n);else if(n.props&&n.props.children){const s=CJ(n.props.children);s.length>0?s.forEach(i=>t.push(i)):r["container-end"].push(n)}else r["container-end"].push(n)}),{slides:t,slots:r}}function mDe(e,t,r){if(!r)return null;const n=u=>{let h=u;return u<0?h=t.length+u:h>=t.length&&(h=h-t.length),h},s=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${r.offset}px`}:{top:`${r.offset}px`},{from:i,to:o}=r,l=e.params.loop?-t.length:0,c=e.params.loop?t.length*2:t.length,d=[];for(let u=l;u<c;u+=1)u>=i&&u<=o&&d.push(t[n(u)]);return d.map((u,h)=>Kn.cloneElement(u,{swiper:e,style:s,key:u.props.virtualIndex||u.key||`slide-${h}`}))}function eb(e,t){return typeof window>"u"?C.useEffect(e,t):C.useLayoutEffect(e,t)}const v9=C.createContext(null),pDe=C.createContext(null),EJ=C.forwardRef(function(e,t){let{className:r,tag:n="div",wrapperTag:s="div",children:i,onSwiper:o,...l}=e===void 0?{}:e,c=!1;const[d,u]=C.useState("swiper"),[h,m]=C.useState(null),[A,y]=C.useState(!1),x=C.useRef(!1),v=C.useRef(null),b=C.useRef(null),j=C.useRef(null),E=C.useRef(null),T=C.useRef(null),P=C.useRef(null),U=C.useRef(null),M=C.useRef(null),{params:k,passedParams:Q,rest:z,events:O}=uDe(l),{slides:L,slots:V}=ADe(i),J=()=>{y(!A)};Object.assign(k.on,{_containerClasses(he,fe){u(fe)}});const ce=()=>{Object.assign(k.on,O),c=!0;const he={...k};if(delete he.wrapperClass,b.current=new SI(he),b.current.virtual&&b.current.params.virtual.enabled){b.current.virtual.slides=L;const fe={cache:!1,slides:L,renderExternal:m,renderExternalUpdate:!1};Qv(b.current.params.virtual,fe),Qv(b.current.originalParams.virtual,fe)}};v.current||ce(),b.current&&b.current.on("_beforeBreakpoint",J);const ee=()=>{c||!O||!b.current||Object.keys(O).forEach(he=>{b.current.on(he,O[he])})},de=()=>{!O||!b.current||Object.keys(O).forEach(he=>{b.current.off(he,O[he])})};C.useEffect(()=>()=>{b.current&&b.current.off("_beforeBreakpoint",J)}),C.useEffect(()=>{!x.current&&b.current&&(b.current.emitSlidesClasses(),x.current=!0)}),eb(()=>{if(t&&(t.current=v.current),!!v.current)return b.current.destroyed&&ce(),dDe({el:v.current,nextEl:T.current,prevEl:P.current,paginationEl:U.current,scrollbarEl:M.current,swiper:b.current},k),o&&!b.current.destroyed&&o(b.current),()=>{b.current&&!b.current.destroyed&&b.current.destroy(!0,!1)}},[]),eb(()=>{ee();const he=fDe(Q,j.current,L,E.current,fe=>fe.key);return j.current=Q,E.current=L,he.length&&b.current&&!b.current.destroyed&&cDe({swiper:b.current,slides:L,passedParams:Q,changedParams:he,nextEl:T.current,prevEl:P.current,scrollbarEl:M.current,paginationEl:U.current}),()=>{de()}}),eb(()=>{hDe(b.current)},[h]);function se(){return k.virtual?mDe(b.current,L,h):L.map((he,fe)=>Kn.cloneElement(he,{swiper:b.current,swiperSlideIndex:fe}))}return Kn.createElement(n,rj({ref:v,className:jJ(`${d}${r?` ${r}`:""}`)},z),Kn.createElement(pDe.Provider,{value:b.current},V["container-start"],Kn.createElement(s,{className:lDe(k.wrapperClass)},V["wrapper-start"],se(),V["wrapper-end"]),bJ(k)&&Kn.createElement(Kn.Fragment,null,Kn.createElement("div",{ref:P,className:"swiper-button-prev"}),Kn.createElement("div",{ref:T,className:"swiper-button-next"})),NJ(k)&&Kn.createElement("div",{ref:M,className:"swiper-scrollbar"}),wJ(k)&&Kn.createElement("div",{ref:U,className:"swiper-pagination"}),V["container-end"]))});EJ.displayName="Swiper";const BJ=C.forwardRef(function(e,t){let{tag:r="div",children:n,className:s="",swiper:i,zoom:o,lazy:l,virtualIndex:c,swiperSlideIndex:d,...u}=e===void 0?{}:e;const h=C.useRef(null),[m,A]=C.useState("swiper-slide"),[y,x]=C.useState(!1);function v(T,P,U){P===h.current&&A(U)}eb(()=>{if(typeof d<"u"&&(h.current.swiperSlideIndex=d),t&&(t.current=h.current),!(!h.current||!i)){if(i.destroyed){m!=="swiper-slide"&&A("swiper-slide");return}return i.on("_slideClass",v),()=>{i&&i.off("_slideClass",v)}}}),eb(()=>{i&&h.current&&!i.destroyed&&A(i.getSlideClasses(h.current))},[i]);const b={isActive:m.indexOf("swiper-slide-active")>=0,isVisible:m.indexOf("swiper-slide-visible")>=0,isPrev:m.indexOf("swiper-slide-prev")>=0,isNext:m.indexOf("swiper-slide-next")>=0},j=()=>typeof n=="function"?n(b):n,E=()=>{x(!0)};return Kn.createElement(r,rj({ref:h,className:jJ(`${m}${s?` ${s}`:""}`),"data-swiper-slide-index":c,onLoad:E},u),o&&Kn.createElement(v9.Provider,{value:b},Kn.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},j(),l&&!y&&Kn.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&Kn.createElement(v9.Provider,{value:b},j(),l&&!y&&Kn.createElement("div",{className:"swiper-lazy-preloader"})))});BJ.displayName="SwiperSlide";function gDe(e,t,r,n){return e.params.createElements&&Object.keys(n).forEach(s=>{if(!r[s]&&r.auto===!0){let i=Qm(e.el,`.${n[s]}`)[0];i||(i=ZN("div",n[s]),i.className=n[s],e.el.append(i)),r[s]=i,t[s]=i}}),r}function v2(e){return e===void 0&&(e=""),`.${e.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function xDe(e){let{swiper:t,extendParams:r,on:n,emit:s}=e;const i="swiper-pagination";r({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:j=>j,formatFractionTotal:j=>j,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),t.pagination={el:null,bullets:[]};let o,l=0;function c(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&t.pagination.el.length===0}function d(j,E){const{bulletActiveClass:T}=t.params.pagination;j&&(j=j[`${E==="prev"?"previous":"next"}ElementSibling`],j&&(j.classList.add(`${T}-${E}`),j=j[`${E==="prev"?"previous":"next"}ElementSibling`],j&&j.classList.add(`${T}-${E}-${E}`)))}function u(j,E,T){if(j=j%T,E=E%T,E===j+1)return"next";if(E===j-1)return"previous"}function h(j){const E=j.target.closest(v2(t.params.pagination.bulletClass));if(!E)return;j.preventDefault();const T=ej(E)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===T)return;const P=u(t.realIndex,T,t.slides.length);P==="next"?t.slideNext():P==="previous"?t.slidePrev():t.slideToLoop(T)}else t.slideTo(T)}function m(){const j=t.rtl,E=t.params.pagination;if(c())return;let T=t.pagination.el;T=_0(T);let P,U;const M=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,k=t.params.loop?Math.ceil(M/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(U=t.previousRealIndex||0,P=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(P=t.snapIndex,U=t.previousSnapIndex):(U=t.previousIndex||0,P=t.activeIndex||0),E.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const Q=t.pagination.bullets;let z,O,L;if(E.dynamicBullets&&(o=HT(Q[0],t.isHorizontal()?"width":"height"),T.forEach(V=>{V.style[t.isHorizontal()?"width":"height"]=`${o*(E.dynamicMainBullets+4)}px`}),E.dynamicMainBullets>1&&U!==void 0&&(l+=P-(U||0),l>E.dynamicMainBullets-1?l=E.dynamicMainBullets-1:l<0&&(l=0)),z=Math.max(P-l,0),O=z+(Math.min(Q.length,E.dynamicMainBullets)-1),L=(O+z)/2),Q.forEach(V=>{const J=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(ce=>`${E.bulletActiveClass}${ce}`)].map(ce=>typeof ce=="string"&&ce.includes(" ")?ce.split(" "):ce).flat();V.classList.remove(...J)}),T.length>1)Q.forEach(V=>{const J=ej(V);J===P?V.classList.add(...E.bulletActiveClass.split(" ")):t.isElement&&V.setAttribute("part","bullet"),E.dynamicBullets&&(J>=z&&J<=O&&V.classList.add(...`${E.bulletActiveClass}-main`.split(" ")),J===z&&d(V,"prev"),J===O&&d(V,"next"))});else{const V=Q[P];if(V&&V.classList.add(...E.bulletActiveClass.split(" ")),t.isElement&&Q.forEach((J,ce)=>{J.setAttribute("part",ce===P?"bullet-active":"bullet")}),E.dynamicBullets){const J=Q[z],ce=Q[O];for(let ee=z;ee<=O;ee+=1)Q[ee]&&Q[ee].classList.add(...`${E.bulletActiveClass}-main`.split(" "));d(J,"prev"),d(ce,"next")}}if(E.dynamicBullets){const V=Math.min(Q.length,E.dynamicMainBullets+4),J=(o*V-o)/2-L*o,ce=j?"right":"left";Q.forEach(ee=>{ee.style[t.isHorizontal()?ce:"top"]=`${J}px`})}}T.forEach((Q,z)=>{if(E.type==="fraction"&&(Q.querySelectorAll(v2(E.currentClass)).forEach(O=>{O.textContent=E.formatFractionCurrent(P+1)}),Q.querySelectorAll(v2(E.totalClass)).forEach(O=>{O.textContent=E.formatFractionTotal(k)})),E.type==="progressbar"){let O;E.progressbarOpposite?O=t.isHorizontal()?"vertical":"horizontal":O=t.isHorizontal()?"horizontal":"vertical";const L=(P+1)/k;let V=1,J=1;O==="horizontal"?V=L:J=L,Q.querySelectorAll(v2(E.progressbarFillClass)).forEach(ce=>{ce.style.transform=`translate3d(0,0,0) scaleX(${V}) scaleY(${J})`,ce.style.transitionDuration=`${t.params.speed}ms`})}E.type==="custom"&&E.renderCustom?(tj(Q,E.renderCustom(t,P+1,k)),z===0&&s("paginationRender",Q)):(z===0&&s("paginationRender",Q),s("paginationUpdate",Q)),t.params.watchOverflow&&t.enabled&&Q.classList[t.isLocked?"add":"remove"](E.lockClass)})}function A(){const j=t.params.pagination;if(c())return;const E=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let T=t.pagination.el;T=_0(T);let P="";if(j.type==="bullets"){let U=t.params.loop?Math.ceil(E/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&U>E&&(U=E);for(let M=0;M<U;M+=1)j.renderBullet?P+=j.renderBullet.call(t,M,j.bulletClass):P+=`<${j.bulletElement} ${t.isElement?'part="bullet"':""} class="${j.bulletClass}"></${j.bulletElement}>`}j.type==="fraction"&&(j.renderFraction?P=j.renderFraction.call(t,j.currentClass,j.totalClass):P=`<span class="${j.currentClass}"></span> / <span class="${j.totalClass}"></span>`),j.type==="progressbar"&&(j.renderProgressbar?P=j.renderProgressbar.call(t,j.progressbarFillClass):P=`<span class="${j.progressbarFillClass}"></span>`),t.pagination.bullets=[],T.forEach(U=>{j.type!=="custom"&&tj(U,P||""),j.type==="bullets"&&t.pagination.bullets.push(...U.querySelectorAll(v2(j.bulletClass)))}),j.type!=="custom"&&s("paginationRender",T[0])}function y(){t.params.pagination=gDe(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const j=t.params.pagination;if(!j.el)return;let E;typeof j.el=="string"&&t.isElement&&(E=t.el.querySelector(j.el)),!E&&typeof j.el=="string"&&(E=[...document.querySelectorAll(j.el)]),E||(E=j.el),!(!E||E.length===0)&&(t.params.uniqueNavElements&&typeof j.el=="string"&&Array.isArray(E)&&E.length>1&&(E=[...t.el.querySelectorAll(j.el)],E.length>1&&(E=E.find(T=>AJ(T,".swiper")[0]===t.el))),Array.isArray(E)&&E.length===1&&(E=E[0]),Object.assign(t.pagination,{el:E}),E=_0(E),E.forEach(T=>{j.type==="bullets"&&j.clickable&&T.classList.add(...(j.clickableClass||"").split(" ")),T.classList.add(j.modifierClass+j.type),T.classList.add(t.isHorizontal()?j.horizontalClass:j.verticalClass),j.type==="bullets"&&j.dynamicBullets&&(T.classList.add(`${j.modifierClass}${j.type}-dynamic`),l=0,j.dynamicMainBullets<1&&(j.dynamicMainBullets=1)),j.type==="progressbar"&&j.progressbarOpposite&&T.classList.add(j.progressbarOppositeClass),j.clickable&&T.addEventListener("click",h),t.enabled||T.classList.add(j.lockClass)}))}function x(){const j=t.params.pagination;if(c())return;let E=t.pagination.el;E&&(E=_0(E),E.forEach(T=>{T.classList.remove(j.hiddenClass),T.classList.remove(j.modifierClass+j.type),T.classList.remove(t.isHorizontal()?j.horizontalClass:j.verticalClass),j.clickable&&(T.classList.remove(...(j.clickableClass||"").split(" ")),T.removeEventListener("click",h))})),t.pagination.bullets&&t.pagination.bullets.forEach(T=>T.classList.remove(...j.bulletActiveClass.split(" ")))}n("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const j=t.params.pagination;let{el:E}=t.pagination;E=_0(E),E.forEach(T=>{T.classList.remove(j.horizontalClass,j.verticalClass),T.classList.add(t.isHorizontal()?j.horizontalClass:j.verticalClass)})}),n("init",()=>{t.params.pagination.enabled===!1?b():(y(),A(),m())}),n("activeIndexChange",()=>{typeof t.snapIndex>"u"&&m()}),n("snapIndexChange",()=>{m()}),n("snapGridLengthChange",()=>{A(),m()}),n("destroy",()=>{x()}),n("enable disable",()=>{let{el:j}=t.pagination;j&&(j=_0(j),j.forEach(E=>E.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),n("lock unlock",()=>{m()}),n("click",(j,E)=>{const T=E.target,P=_0(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&P&&P.length>0&&!T.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&T===t.navigation.nextEl||t.navigation.prevEl&&T===t.navigation.prevEl))return;const U=P[0].classList.contains(t.params.pagination.hiddenClass);s(U===!0?"paginationShow":"paginationHide"),P.forEach(M=>M.classList.toggle(t.params.pagination.hiddenClass))}});const v=()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:j}=t.pagination;j&&(j=_0(j),j.forEach(E=>E.classList.remove(t.params.pagination.paginationDisabledClass))),y(),A(),m()},b=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:j}=t.pagination;j&&(j=_0(j),j.forEach(E=>E.classList.add(t.params.pagination.paginationDisabledClass))),x()};Object.assign(t.pagination,{enable:v,disable:b,render:A,update:m,init:y,destroy:x})}function vDe(e){let{swiper:t,extendParams:r,on:n,emit:s,params:i}=e;t.autoplay={running:!1,paused:!1,timeLeft:0},r({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,l,c=i&&i.autoplay?i.autoplay.delay:3e3,d=i&&i.autoplay?i.autoplay.delay:3e3,u,h=new Date().getTime(),m,A,y,x,v,b,j;function E(se){!t||t.destroyed||!t.wrapperEl||se.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",E),!(j||se.detail&&se.detail.bySwiperTouchMove)&&z())}const T=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?m=!0:m&&(d=u,m=!1);const se=t.autoplay.paused?u:h+d-new Date().getTime();t.autoplay.timeLeft=se,s("autoplayTimeLeft",se,se/c),l=requestAnimationFrame(()=>{T()})},P=()=>{let se;return t.virtual&&t.params.virtual.enabled?se=t.slides.find(fe=>fe.classList.contains("swiper-slide-active")):se=t.slides[t.activeIndex],se?parseInt(se.getAttribute("data-swiper-autoplay"),10):void 0},U=se=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(l),T();let he=typeof se>"u"?t.params.autoplay.delay:se;c=t.params.autoplay.delay,d=t.params.autoplay.delay;const fe=P();!Number.isNaN(fe)&&fe>0&&typeof se>"u"&&(he=fe,c=fe,d=fe),u=he;const ve=t.params.speed,B=()=>{!t||t.destroyed||(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(ve,!0,!0),s("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,ve,!0,!0),s("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(ve,!0,!0),s("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,ve,!0,!0),s("autoplay")),t.params.cssMode&&(h=new Date().getTime(),requestAnimationFrame(()=>{U()})))};return he>0?(clearTimeout(o),o=setTimeout(()=>{B()},he)):requestAnimationFrame(()=>{B()}),he},M=()=>{h=new Date().getTime(),t.autoplay.running=!0,U(),s("autoplayStart")},k=()=>{t.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(l),s("autoplayStop")},Q=(se,he)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(o),se||(b=!0);const fe=()=>{s("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",E):z()};if(t.autoplay.paused=!0,he){v&&(u=t.params.autoplay.delay),v=!1,fe();return}u=(u||t.params.autoplay.delay)-(new Date().getTime()-h),!(t.isEnd&&u<0&&!t.params.loop)&&(u<0&&(u=0),fe())},z=()=>{t.isEnd&&u<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(h=new Date().getTime(),b?(b=!1,U(u)):U(),t.autoplay.paused=!1,s("autoplayResume"))},O=()=>{if(t.destroyed||!t.autoplay.running)return;const se=qm();se.visibilityState==="hidden"&&(b=!0,Q(!0)),se.visibilityState==="visible"&&z()},L=se=>{se.pointerType==="mouse"&&(b=!0,j=!0,!(t.animating||t.autoplay.paused)&&Q(!0))},V=se=>{se.pointerType==="mouse"&&(j=!1,t.autoplay.paused&&z())},J=()=>{t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",L),t.el.addEventListener("pointerleave",V))},ce=()=>{t.el&&typeof t.el!="string"&&(t.el.removeEventListener("pointerenter",L),t.el.removeEventListener("pointerleave",V))},ee=()=>{qm().addEventListener("visibilitychange",O)},de=()=>{qm().removeEventListener("visibilitychange",O)};n("init",()=>{t.params.autoplay.enabled&&(J(),ee(),M())}),n("destroy",()=>{ce(),de(),t.autoplay.running&&k()}),n("_freeModeStaticRelease",()=>{(y||b)&&z()}),n("_freeModeNoMomentumRelease",()=>{t.params.autoplay.disableOnInteraction?k():Q(!0,!0)}),n("beforeTransitionStart",(se,he,fe)=>{t.destroyed||!t.autoplay.running||(fe||!t.params.autoplay.disableOnInteraction?Q(!0,!0):k())}),n("sliderFirstMove",()=>{if(!(t.destroyed||!t.autoplay.running)){if(t.params.autoplay.disableOnInteraction){k();return}A=!0,y=!1,b=!1,x=setTimeout(()=>{b=!0,y=!0,Q(!0)},200)}}),n("touchEnd",()=>{if(!(t.destroyed||!t.autoplay.running||!A)){if(clearTimeout(x),clearTimeout(o),t.params.autoplay.disableOnInteraction){y=!1,A=!1;return}y&&t.params.cssMode&&z(),y=!1,A=!1}}),n("slideChange",()=>{t.destroyed||!t.autoplay.running||(v=!0)}),Object.assign(t.autoplay,{start:M,stop:k,pause:Q,resume:z})}const yDe=()=>{const e=[{quote:"Vidyaastra has transformed the way our school operates. Its simple, efficient, and keeps parents, teachers, and management connected seamlessly.",author:"E Krishnappa - Chairman",school:"SM English Medium High School - Bangalore"},{quote:"A user-friendly solution that saves time, improves communication, and ensures smooth school management.",author:"Principal",school:"Sanskruthi School - Bangalore"},{quote:"Simple, reliable, and effective  Vidyaastra has become an integral part of our schools success.",author:"Principal",school:"MES Kishore Kendra- Bangalore"},{quote:"With Vidyaastra, we have better control, happier parents, and efficient teachers  truly a complete school app.",author:"Principal",school:"Sujana Convent Bangalore."}];return a.jsxs("section",{className:"bg-gray-100 py-14 px-4 font-sans overflow-hidden",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsxs(Yn.h1,{className:"text-3xl sm:text-4xl lg:text-4xl font-bold text-gray-900 mb-3 tracking-tight",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-orange-500 to-orange-700",children:"What Schools Say"})," ","About Us"]}),a.jsx(Yn.p,{className:"text-base sm:text-lg text-gray-500 max-w-2xl mx-auto leading-relaxed",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},children:"Hear from educators who have transformed their operations with Vidyaastras intuitive platform."})]}),a.jsx("div",{className:"max-w-7xl mx-auto px-2",children:a.jsx(EJ,{modules:[xDe,vDe],spaceBetween:20,slidesPerView:1,breakpoints:{640:{slidesPerView:2,spaceBetween:20},1024:{slidesPerView:4,spaceBetween:25}},pagination:{clickable:!0},autoplay:{delay:3500,disableOnInteraction:!1},loop:!0,className:"pb-8",children:e.map((t,r)=>a.jsx(BJ,{children:a.jsxs(Yn.div,{className:"relative bg-white mb-3 rounded-2xl shadow-md p-4 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-lg cursor-pointer group flex flex-col h-56",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:r*.1},children:[a.jsx("div",{className:"text-orange-500 mb-2",children:a.jsx(ji,{icon:F7e,className:"w-5 h-5 opacity-70 group-hover:opacity-100 transition-opacity","aria-hidden":"true"})}),a.jsxs("blockquote",{className:"text-gray-600 text-sm sm:text-base leading-relaxed mb-3 flex-grow",children:["",t.quote,""]}),a.jsxs("div",{className:"mt-auto",children:[a.jsx("div",{className:"text-gray-900 font-semibold text-sm",children:t.author}),a.jsx("div",{className:"text-gray-500 text-xs",children:t.school})]})]})},r))})}),a.jsx("style",{children:`
          .swiper-pagination-bullet {
            background-color: #cbd5e1;
            opacity: 1;
            width: 8px;
            height: 8px;
            transition: all 0.3s ease;
          }
          .swiper-pagination-bullet-active {
            background-color: #f97316;
            width: 12px;
            height: 12px;
          }
        `})]})},bDe=()=>{ru();const[e,t]=C.useState(!1),r=[u7e,d7e],[n,s]=C.useState(0);C.useEffect(()=>{const o=setTimeout(()=>{t(!0)},2e3);return()=>clearTimeout(o)},[]),C.useEffect(()=>{const o=setInterval(()=>{s(l=>(l+1)%r.length)},3e3);return()=>clearInterval(o)},[r.length]);const i=()=>{window.open("https://wa.me/8123486068","_blank")};return a.jsxs("div",{className:"min-h-screen font-sans overflow-x-hidden relative",children:[a.jsxs("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-50 via-purple-50 to-orange-50 opacity-90"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-full",children:[...Array(15)].map((o,l)=>a.jsx(Yn.div,{className:"absolute rounded-full opacity-20",style:{background:"linear-gradient(135deg, #4f46e5, #ea580c)",width:Math.floor(Math.random()*200)+50+"px",height:Math.floor(Math.random()*200)+50+"px",top:Math.floor(Math.random()*100)+"%",left:Math.floor(Math.random()*100)+"%"},animate:{y:[0,Math.floor(Math.random()*40)-20,0],x:[0,Math.floor(Math.random()*40)-20,0],scale:[1,1.1,1]},transition:{duration:Math.floor(Math.random()*10)+10,repeat:1/0,ease:"easeInOut"}},l))})]}),a.jsx("style",{children:`
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slideInLeft {
          from { opacity: 0; transform: translateX(-30px); }
          to { opacity: 1; transform: translateX(0); }
        }
        @keyframes slideInRight {
          from { opacity: 0; transform: translateX(30px); }
          to { opacity: 1; transform: translateX(0); }
        }
        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-8px); }
        }
        @keyframes pulse-glow {
          0% { box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); }
          50% { box-shadow: 0 8px 24px rgba(234, 88, 12, 0.3); }
          100% { box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); }
        }
        .animate-fadeInUp { animation: fadeInUp 0.8s ease-out forwards; }
        .animate-slideInLeft { animation: slideInLeft 0.8s ease-out forwards; }
        .animate-slideInRight { animation: slideInRight 0.8s ease-out forwards; }
        .animate-float { animation: float 4s ease-in-out infinite; }
        .hover-glow:hover { animation: pulse-glow 2s infinite; }
        .card-hover {
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .card-hover:hover {
          transform: translateY(-4px);
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
        }
        .mobile-device {
          max-width: 300px;
          height: 400px;
          background: linear-gradient(145deg, #15024B, #0b0125);
          border-radius: 24px;
          padding: 6px;
          box-shadow: 0 12px 32px rgba(0, 0, 0, 0.25);
          position: relative;
        }
        @media (min-width: 768px) {
          .mobile-device {
            max-width: 140px;
            width: 35vw;
            min-width: 100px;
            height: 280px;
          }
        }
        .mobile-device::before {
          content: '';
          position: absolute;
          top: 12px;
          left: 50%;
          transform: translateX(-50%);
          width: 40px;
          height: 3px;
          background: #4a5568;
          border-radius: 2px;
        }
        .device-screen {
          width: 100%;
          height: 100%;
          border-radius: 20px;
          overflow: hidden;
          background: white;
        }
        .screen-image {
          width: 100%;
          height: 100%;
          object-fit: cover;
          border-radius: 20px;
        }
        .whatsapp-icon {
          position: fixed;
          bottom: 20px;
          right: 20px;
          width: 60px;
          height: 60px;
          background: linear-gradient(135deg, #25D366, #128C7E);
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
          cursor: pointer;
          z-index: 1000;
          animation: floatAndPulse 3s ease-in-out infinite;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .whatsapp-icon::before {
          content: '';
          position: absolute;
          width: 100%;
          height: 100%;
          border-radius: 50%;
          background: rgba(37, 211, 102, 0.3);
          animation: ripple 2s infinite;
          z-index: -1;
        }

        .whatsapp-icon:hover {
          transform: scale(1.15);
          box-shadow: 0 8px 30px rgba(37, 211, 102, 0.6);
        }

        @keyframes floatAndPulse {
          0%, 100% {
            transform: translateY(0px);
            box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
          }
          25% {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(37, 211, 102, 0.5);
          }
          50% {
            transform: translateY(-8px);
            box-shadow: 0 12px 30px rgba(37, 211, 102, 0.6);
          }
          75% {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(37, 211, 102, 0.5);
          }
        }

        @keyframes ripple {
          0% {
            transform: scale(1);
            opacity: 0.8;
          }
          100% {
            transform: scale(1.8);
            opacity: 0;
          }
        }
        
        /* Smaller Realistic Laptop Frame */
        .laptop-container {
          width: 80%;
          max-width: 400px; /* Reduced max-width for smaller laptop */
          margin: 2rem auto;
          perspective: 800px;
        }
        
        .laptop-wrapper {
          width: 80%;
          aspect-ratio: 16/11; /* Adjusted for slightly taller appearance */
          position: relative;
          transform-style: preserve-3d;
          transform: rotateX(6deg);
        }
        
        .laptop-top {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 80%; /* Screen takes 80% of laptop height */
          background: linear-gradient(145deg, #2d2d2d, #1a1a1a);
          border-radius: 16px 16px 0 0;
          padding: 12px 12px 8px;
          box-shadow: 0 15px 30px rgba(0,0,0,0.25);
          z-index: 2;
        }
        
        .laptop-screen {
          width: 100%;
          height: calc(100% - 20px); /* Adjusted for padding */
          background: #111;
          border-radius: 8px;
          padding: 10px;
          position: relative;
          overflow: hidden;
          box-shadow: inset 0 2px 8px rgba(0,0,0,0.4);
        }
        
        .laptop-screen::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 3px;
          background: linear-gradient(to right, #333, #555, #333);
          border-radius: 2px 2px 0 0;
          z-index: 3;
        }
        
        .laptop-bottom {
          position: absolute;
          bottom: 0;
          left: 0;
          right: 0;
          height: 20%; /* Base takes 20% of laptop height */
          background: linear-gradient(to top, #2d2d2d, #1a1a1a);
          border-radius: 0 0 16px 16px;
          box-shadow: 0 8px 20px rgba(0,0,0,0.25);
          z-index: 1;
        }
        
        .laptop-bottom::before {
          content: '';
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          width: 80px;
          height: 4px;
          background: linear-gradient(to right, #333, #555, #333);
          border-radius: 2px;
        }
        
        .dashboard-slider {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          border-radius: 6px;
          overflow: hidden;
          background: #000;
        }
        
        .dashboard-image {
          width: 100%;
          height: 100%;
          object-fit: contain;
          object-position: center;
          border-radius: 6px;
        }
        
        /* Keyboard area */
        .laptop-keyboard {
          position: absolute;
          top: 15%;
          left: 10%;
          right: 10%;
          height: 50%;
          background: linear-gradient(145deg, #1a1a1a, #111);
          border-radius: 6px;
          box-shadow: inset 0 2px 6px rgba(0,0,0,0.4);
        }
        
        .laptop-keyboard::before {
          content: '';
          position: absolute;
          top: 10%;
          left: 5%;
          right: 5%;
          height: 3px;
          background: linear-gradient(to right, #444, #666, #444);
          border-radius: 1.5px;
          box-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }
        
        .laptop-keyboard::after {
          content: '';
          position: absolute;
          bottom: 15%;
          left: 10%;
          right: 10%;
          height: 2px;
          background: #333;
          border-radius: 1px;
        }
        
        /* Shine effect on laptop */
        .laptop-top::after {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 30%;
          background: linear-gradient(to bottom, rgba(255,255,255,0.12), transparent);
          pointer-events: none;
          border-radius: 16px 16px 0 0;
        }
        
        /* Screen reflection effect */
        .screen-reflection {
          position: absolute;
          top: 0;
          right: 0;
          width: 30%;
          height: 100%;
          background: linear-gradient(135deg, rgba(255,255,255,0.06), transparent);
          pointer-events: none;
          z-index: 4;
          border-radius: 6px;
        }
        
        /* Camera notch */
        .camera-notch {
          position: absolute;
          top: 8px;
          left: 50%;
          transform: translateX(-50%);
          width: 40px;
          height: 6px;
          background: linear-gradient(to right, #333, #555, #333);
          border-radius: 3px;
          z-index: 5;
          box-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }
        
        .camera-notch::before {
          content: '';
          position: absolute;
          top: 50%;
          left: 10px;
          transform: translateY(-50%);
          width: 3px;
          height: 3px;
          background: #666;
          border-radius: 50%;
          box-shadow: 0 0 2px rgba(255,255,255,0.3);
        }
        
        .camera-notch::after {
          content: '';
          position: absolute;
          top: 50%;
          right: 10px;
          transform: translateY(-50%);
          width: 3px;
          height: 3px;
          background: #666;
          border-radius: 50%;
          box-shadow: 0 0 2px rgba(255,255,255,0.3);
        }
        
        /* Responsive adjustments */
        @media (max-width: 640px) {
          .laptop-container {
            max-width: 400px; /* Even smaller on mobile */
          }
          
          .laptop-wrapper {
            aspect-ratio: 4/3; /* Slightly wider on mobile */
          }
          
          .laptop-top {
            height: 75%;
            padding: 8px 8px 6px;
            border-radius: 12px 12px 0 0;
          }
          
          .laptop-bottom {
            height: 25%;
          }
          
          .laptop-screen {
            border-radius: 6px;
            padding: 6px;
          }
          
          .camera-notch {
            width: 30px;
            height: 5px;
          }
          
          .camera-notch::before,
          .camera-notch::after {
            width: 2.5px;
            height: 2.5px;
          }
        }
      `}),a.jsx("section",{className:"pt-10 pb-12 px-4 relative z-10",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 items-center",children:[a.jsxs("div",{className:"space-y-4 order-1",children:[a.jsxs(Yn.h1,{className:"text-3xl sm:text-4xl font-bold text-gray-900",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[' "Smart, Simple'," ",a.jsx("span",{className:"text-orange-600",children:' & Complete"'})]}),a.jsx(Yn.h2,{className:"text-4xl lg:text-4xl font-bold text-gray-900",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:a.jsx("span",{className:"text-orange-600",children:"School Management System"})}),a.jsx(Yn.div,{className:"space-y-3 pt-7 text-gray-600 text-base lg:text-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:a.jsx("p",{children:"Digitize your school operations with Vidyaastra  A powerful, easy-to-use platform that connects schools, teachers, parents, and students in one app."})})]}),a.jsxs("div",{className:"flex flex-col items-center gap-6 lg:flex-row lg:justify-end order-2",children:[a.jsx(Yn.div,{className:"mobile-device",style:{zIndex:3},initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},whileHover:{y:-10},children:a.jsx("div",{className:"device-screen",children:a.jsx("img",{src:f7e,alt:"App Screenshot 1",className:"screen-image"})})}),a.jsx(Yn.div,{className:"mobile-device",style:{zIndex:2},initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},whileHover:{y:-10},children:a.jsx("div",{className:"device-screen",children:a.jsx("img",{src:h7e,alt:"App Screenshot 2",className:"screen-image"})})}),a.jsx(Yn.div,{className:"mobile-device",style:{zIndex:1},initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},whileHover:{y:-10},children:a.jsx("div",{className:"device-screen",children:a.jsx("img",{src:A7e,alt:"App Screenshot 3",className:"screen-image"})})})]})]})})}),a.jsx(Q7e,{}),a.jsxs("section",{className:"py-16 px-4 bg-gradient-to-b from-white to-gray-100",children:[a.jsxs(Yn.h2,{className:"text-3xl sm:text-4xl font-bold text-gray-900 text-center mb-12",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[a.jsx("span",{className:"text-orange-600",children:"Discover"})," the Vidyaastra Dashboard"]}),a.jsx("div",{className:"flex justify-center",children:a.jsxs(Yn.div,{className:"laptop-wrapper",initial:{opacity:0,y:50,rotateY:-8},whileInView:{opacity:1,y:0,rotateY:0},viewport:{once:!0},transition:{duration:.8,delay:.2},whileHover:{rotateY:2,scale:1.03},children:[a.jsxs("div",{className:"laptop-top",children:[a.jsx("div",{className:"camera-notch"}),a.jsx("div",{className:"laptop-screen",children:a.jsxs("div",{className:"dashboard-slider",children:[a.jsx(Pb,{mode:"wait",children:a.jsx(Yn.img,{src:r[n],alt:"Vidyaastra Dashboard",className:"dashboard-image",initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.6,ease:"easeInOut"}},n)}),a.jsx("div",{className:"screen-reflection"})]})})]}),a.jsx("div",{className:"laptop-bottom"}),a.jsx("div",{className:"laptop-keyboard"})]})}),a.jsxs(Yn.div,{className:"mt-12 text-center max-w-3xl mx-auto",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.6},children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Intuitive & Powerful Dashboard"}),a.jsx("p",{className:"text-gray-600 font-medium text-base leading-relaxed",children:"The Vidyaastra Dashboard provides a comprehensive overview of your school's operations. Monitor key metrics, track student progress, manage schedules, and access real-time reportsall from a single, user-friendly interface designed to simplify your workflow."})]})]}),a.jsx(uJ,{isOpen:e,setIsOpen:t}),a.jsx(H7e,{}),a.jsx(yDe,{}),a.jsx(Yn.div,{className:"whatsapp-icon",onClick:i,title:"Chat with us on WhatsApp",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1,duration:.5},whileHover:{scale:1.1},children:a.jsx(ji,{icon:l7e,className:"text-white w-8 h-8"})})]})},wDe=()=>a.jsxs("section",{className:"max-w-7xl mx-auto px-4 py-12 bg-gray-50 min-h-screen",children:[a.jsx("style",{children:`
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeInUp { animation: fadeInUp 0.8s ease-out forwards; }
        .why-card {
          transition: all 0.3s ease;
        }
        .why-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }
      `}),a.jsxs("div",{className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-3xl sm:text-5xl font-extrabold text-gray-900 mb-6 animate-fadeInUp",children:[a.jsx("span",{className:"text-orange-600",children:"About"})," Us"]}),a.jsx(Yn.p,{className:"text-base sm:text-lg text-gray-500 max-w-3xl mx-auto leading-relaxed",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:"Vidyaastra is an advanced School Management App designed to simplify school administration, enhance teaching efficiency, and keep parents connected. Our goal is to make every school digital-first, time-efficient, and transparent."})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[a.jsxs("h2",{className:"text-2xl sm:text-3xl font-semibold text-center text-gray-900 mb-6 sm:mb-8 animate-fadeInUp",children:[a.jsx("span",{className:"text-orange-600",children:"Why Choose"})," Vidyaastra?"]}),a.jsxs("div",{className:"grid sm:grid-cols-3 gap-6",children:[a.jsxs(Yn.div,{className:"flex items-start space-x-3 bg-gray-50 p-4 rounded-lg why-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[a.jsx(ji,{icon:B5,className:"text-orange-600 w-6 h-6 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Save Time & Reduce Paperwork"}),a.jsx("p",{className:"text-gray-500 text-base",children:"Streamline administrative tasks and go paperless with our efficient tools."})]})]}),a.jsxs(Yn.div,{className:"flex items-start space-x-3 bg-gray-50 p-4 rounded-lg why-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[a.jsx(ji,{icon:B5,className:"text-orange-600 w-6 h-6 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Increase Parent Satisfaction"}),a.jsx("p",{className:"text-gray-500 text-base",children:"Keep parents engaged with real-time updates and seamless communication."})]})]}),a.jsxs(Yn.div,{className:"flex items-start space-x-3 bg-gray-50 p-4 rounded-lg why-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[a.jsx(ji,{icon:B5,className:"text-orange-600 w-6 h-6 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Affordable for All Schools"}),a.jsx("p",{className:"text-gray-500 text-base",children:"Cost-effective solutions tailored for schools of all sizes."})]})]})]})]})]}),a5=()=>{const[e,t]=C.useState(!1),[r,n]=C.useState(!1),[s,i]=C.useState(!1),o=Dd();C.useEffect(()=>{const c=()=>{t(window.scrollY>20)};return window.addEventListener("scroll",c),()=>window.removeEventListener("scroll",c)},[]);const l={rest:{scale:1,color:"#4B5563"},hover:{scale:1.05,color:"#17024F",originX:0,transition:{duration:.2,ease:"easeInOut"}}};return a.jsxs(a.Fragment,{children:[a.jsxs(Yn.aside,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,ease:"easeOut",delay:.5},className:"fixed right-0 top-[40%] -translate-y-1/2 h-auto py-4 z-50 hidden md:flex flex-col items-end space-y-3 rounded-l-lg w-[60px] px-2",children:[a.jsx(Yn.div,{whileHover:{scale:1.1},transition:{type:"spring",stiffness:300},children:a.jsxs(cl,{to:"/",className:`group flex bg-[#17024F] p-3 items-center rounded transition-all duration-200 ${o.pathname==="/"?"text-white":"text-gray-400 hover:text-white"}`,children:[a.jsx("span",{className:"whitespace-nowrap overflow-hidden opacity-0 max-w-0 transition-all duration-300 group-hover:opacity-100 group-hover:max-w-[150px]",children:"Home"}),a.jsx(Q9,{className:"text-2xl transition-all duration-300 ml-2"})]})}),a.jsx(Yn.div,{whileHover:{scale:1.1},transition:{type:"spring",stiffness:300},children:a.jsxs(cl,{to:"/features",className:`group flex bg-[#17024F] p-3 items-center rounded transition-all duration-200 ${o.pathname==="/features"?"text-white":"text-gray-400 hover:text-white"}`,children:[a.jsx("span",{className:"whitespace-nowrap overflow-hidden opacity-0 max-w-0 transition-all duration-300 group-hover:opacity-100 group-hover:max-w-[150px]",children:"Features"}),a.jsx(Kee,{className:"text-2xl transition-all duration-300 ml-2"})]})}),a.jsx(Yn.div,{whileHover:{scale:1.1},transition:{type:"spring",stiffness:300},children:a.jsxs(cl,{to:"/about",className:`group flex bg-[#17024F] p-3 items-center rounded transition-all duration-200 ${o.pathname==="/about"?"text-white":"text-gray-400 hover:text-white"}`,children:[a.jsx("span",{className:"whitespace-nowrap overflow-hidden opacity-0 max-w-0 transition-all duration-300 group-hover:opacity-100 group-hover:max-w-[150px]",children:"About Us"}),a.jsx(Vee,{className:"text-2xl transition-all duration-300 ml-2"})]})}),a.jsx(Yn.div,{whileHover:{scale:1.1},transition:{type:"spring",stiffness:300},children:a.jsxs(cl,{to:"/contact",className:`group flex bg-[#17024F] p-3 items-center rounded transition-all duration-200 ${o.pathname==="/contact"?"text-white":"text-gray-400 hover:text-white"}`,children:[a.jsx("span",{className:"whitespace-nowrap overflow-hidden opacity-0 max-w-0 transition-all duration-300 group-hover:opacity-100 group-hover:max-w-[150px]",children:"Contact"}),a.jsx(R9,{className:"text-2xl transition-all duration-300 ml-2"})]})})]}),a.jsxs(Yn.nav,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:"easeOut"},className:`sticky top-0 w-full z-40 transition-all duration-500 ${e?"bg-white/95 backdrop-blur-md shadow-lg":"bg-white/90 shadow-sm"}`,children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[a.jsx(Yn.div,{className:"flex items-center h-full cursor-pointer",whileHover:{scale:1.05},whileTap:{scale:.95},children:a.jsx(cl,{to:"/",children:a.jsx("img",{src:cy,alt:"Vidyaastra Logo",className:"h-16 w-auto"})})}),a.jsxs("div",{className:"hidden sm:flex items-center space-x-4",children:[a.jsx(Yn.div,{whileHover:{x:5,scale:1.05},transition:{type:"spring",stiffness:300},children:a.jsx(cl,{to:"/login",className:`bg-orange-600 text-white px-6 py-3 rounded-full font-semibold shadow-md transition-all duration-300 hover:bg-orange-700 transform-gpu ${o.pathname==="/login"?"bg-orange-700":""}`,children:"School Admin Login"})}),a.jsx(Yn.div,{whileHover:{x:5,scale:1.05},transition:{type:"spring",stiffness:300},onClick:()=>i(!0),children:a.jsx(cl,{className:"bg-[#19034C] text-white px-6 py-3 rounded-full font-semibold shadow-md transition-all duration-300 hover:bg-[#32264d] transform-gpu",children:"Enquiry"})})]}),a.jsx("div",{className:"sm:hidden",children:a.jsx("button",{onClick:()=>n(!r),className:"p-2 text-gray-800 focus:outline-none",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r?a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}):a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})})})]})}),a.jsx(Pb,{children:r&&a.jsx(Yn.div,{className:"sm:hidden bg-white/95 backdrop-blur-md shadow-md",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:a.jsxs("div",{className:"px-4 pt-2 pb-4 space-y-2",children:[a.jsx(Yn.div,{variants:l,initial:"rest",whileHover:"hover",children:a.jsx(cl,{to:"/",className:`block py-2 text-gray-700 font-medium transition-colors duration-200 border-b border-gray-100 ${o.pathname==="/"?"text-[#17024F] font-bold":""}`,onClick:()=>n(!1),children:"Home"})}),a.jsx(Yn.div,{variants:l,initial:"rest",whileHover:"hover",children:a.jsx(cl,{to:"/features",className:`block py-2 text-gray-700 font-medium transition-colors duration-200 border-b border-gray-100 ${o.pathname==="/features"?"text-[#17024F] font-bold":""}`,onClick:()=>n(!1),children:"Features"})}),a.jsx(Yn.div,{variants:l,initial:"rest",whileHover:"hover",children:a.jsx(cl,{to:"/about",className:`block py-2 text-gray-700 font-medium transition-colors duration-200 border-b border-gray-100 ${o.pathname==="/about"?"text-[#17024F] font-bold":""}`,onClick:()=>n(!1),children:"About Us"})}),a.jsx(Yn.div,{variants:l,initial:"rest",whileHover:"hover",children:a.jsx(cl,{to:"/contact",className:`block py-2 text-gray-700 font-medium transition-colors duration-200 ${o.pathname==="/contact"?"text-[#17024F] font-bold":""}`,onClick:()=>n(!1),children:"Contact"})}),a.jsxs("div",{className:"pt-4 flex justify-around",children:[a.jsx(Yn.div,{whileHover:{x:5,scale:1.05},transition:{type:"spring",stiffness:300},children:a.jsx(cl,{to:"/login",className:`block text-center bg-orange-600 text-white px-6 py-3 rounded-full font-semibold shadow-md transition-all duration-300 hover:bg-orange-700 transform-gpu ${o.pathname==="/login"?"bg-orange-700":""}`,onClick:()=>n(!1),children:"School Admin Login"})}),a.jsx(Yn.div,{whileHover:{x:5,scale:1.05},transition:{type:"spring",stiffness:300},onClick:()=>i(!0),children:a.jsx(cl,{className:"block text-center bg-[#19034C] text-white px-6 py-3 rounded-full font-semibold shadow-md transition-all duration-300 hover:bg-[#32264d] transform-gpu ",style:{width:"100%"},children:"Enquiry"})})]})]})})})]}),a.jsx(uJ,{isOpen:s,setIsOpen:i})]})},NDe=()=>{const[e,t]=C.useState("list"),[r,n]=C.useState(""),[s,i]=C.useState(""),[o,l]=C.useState(""),[c,d]=C.useState(""),[u,h]=C.useState(""),[m,A]=C.useState(new Set),[y,x]=C.useState([]),[v,b]=C.useState([]),[j,E]=C.useState([]),[T,P]=C.useState(!0),[U,M]=C.useState(null),[k,Q]=C.useState(""),[z,O]=C.useState(1),[L]=C.useState(9),[V,J]=C.useState(1),[ce,ee]=C.useState(1),[de]=C.useState(10),[se,he]=C.useState(1),[fe,ve]=C.useState(0),[B,R]=C.useState([]),[Y,ie]=C.useState({totalStudents:0,totalClasses:0,maleCount:0,femaleCount:0});C.useEffect(()=>{ge()},[]),C.useEffect(()=>{e==="detail"&&r&&te()},[ce,k,r,s,o,c,e]),C.useEffect(()=>{Z()},[z,k,u,r]),C.useEffect(()=>{ce!==1&&ee(1)},[k,r,s,o,c]),C.useEffect(()=>{Ne()},[r]),C.useEffect(()=>{r&&e==="detail"?le():(E([]),i(""))},[r,e]);const ge=async()=>{try{P(!0),await Promise.all([Z(),Ne()]),M(null)}catch(_e){M(`Error fetching data: ${_e.message}`)}finally{P(!1)}},[ye,pe]=C.useState(0),Z=async()=>{try{const _e=new URLSearchParams({page:z.toString(),limit:L.toString(),...k&&{search:k},...u&&{dateRange:u},...r&&{id:r}}),ke=await fetch(`https://vidyaastra.com/api/students/schools?${_e}`,{method:"PATCH",headers:{"Content-Type":"application/json"}});if(!ke.ok)throw new Error(`HTTP error! Status: ${ke.status}`);const Ze=await ke.json();let Pe=Ze?.schools?.map(ot=>({id:ot._id,name:ot.name,studentCount:ot.studentCount,code:ot.schoolCode||"N/A"}))||[];b(Pe),J(Ze?.pagination?.totalPages||1),pe(Ze?.pagination?.totalSchools||0)}catch(_e){console.error("Error fetching schools:",_e),M(`Error fetching schools: ${_e.message}`)}},le=async()=>{try{const _e=await fetch(`https://vidyaastra.com/api/students/classes?schoolId=${r}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!_e.ok)throw new Error(`HTTP error! Status: ${_e.status}`);const ke=await _e.json();E(ke.map(Ze=>({id:Ze.id,name:Ze.name})))}catch(_e){console.error("Error fetching classes:",_e),M(`Error fetching classes: ${_e.message}`)}},te=async()=>{if(r)try{const _e=new URLSearchParams({page:ce.toString(),limit:de.toString(),...k&&{search:k},schoolId:r,...s&&{classId:s},...o&&{gender:o},...c&&{dateRange:c}}),ke=await fetch(`https://vidyaastra.com/api/students?${_e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!ke.ok)throw new Error(`HTTP error! Status: ${ke.status}`);const Ze=await ke.json(),Pe=Ze.students.map(ot=>({id:ot._id,name:ot.name||"Unknown",class:Fe(ot.class||ot.classId?.className),rollNo:ot.rollNumber||"N/A",studentId:ot.studentId||"N/A",dateOfBirth:ot.dob||null,gender:ot.gender||"N/A",address:ot.address||"N/A",phone:ot.phone||"N/A",email:ot.email||"N/A",fatherName:ot.fatherName||"N/A",motherName:ot.motherName||"N/A",parentPhone:ot.parentPhone||"N/A",schoolId:ot.schoolId?._id||"N/A",schoolName:ot.schoolId?.name||"N/A",schoolCode:ot.schoolId?.code||"N/A"}));R(Pe),he(Ze.pagination.totalPages),ve(Ze.pagination.totalStudents)}catch(_e){console.error("Error fetching students:",_e),M(`Error fetching students: ${_e.message}`)}},Ne=async()=>{try{const _e=r?`?schoolId=${r}`:"",ke=await fetch(`https://vidyaastra.com/api/students/stats${_e}`,{method:"PATCH",headers:{"Content-Type":"application/json"}});if(!ke.ok)throw new Error(`HTTP error! Status: ${ke.status}`);const Ze=await ke.json();ie({totalStudents:Ze.totalStudents||0,totalClasses:Ze.totalClasses||0,maleCount:Ze.maleCount||0,femaleCount:Ze.femaleCount||0})}catch(_e){console.error("Error fetching stats:",_e)}},Fe=_e=>{if(!_e)return"Unknown";const ke=_e.replace(/\s|-/g,"");return ke.match(/[AB]$/)?ke:`${ke}A`},be=_e=>{O(_e)},re=_e=>{ee(_e),A(new Set)},Ce=()=>{Q(""),n(""),i(""),l(""),d(""),h(""),ee(1),O(1)},st=async(_e=null)=>{try{let ke="https://vidyaastra.com/api/students",Ze=new URLSearchParams({limit:"10000",...k&&{search:k},...s&&{classId:s},...o&&{gender:o},...c&&{dateRange:c}}),Pe="",ot=_e||r;ot&&(Pe=v.find(De=>De.id===ot)?.name||"",Ze.append("schoolId",ot));const Ge=await fetch(`${ke}?${Ze}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!Ge.ok)throw new Error(`HTTP error! Status: ${Ge.status}`);const Je=(await Ge.json()).students.map(Oe=>({"Student Name":Oe.name,Class:Fe(Oe.class||Oe.classId?.className),"Roll Number":Oe.rollNumber||"N/A","Student ID":Oe.studentId||"N/A",Gender:Oe.gender||"N/A","Date of Birth":Oe.dob?new Date(Oe.dob).toLocaleDateString():"N/A",Email:Oe.email||"N/A",Phone:Oe.phone||"N/A",Address:Oe.address||"N/A","Father's Name":Oe.fatherName||"N/A","Mother's Name":Oe.motherName||"N/A","Parent Phone":Oe.parentPhone||"N/A","School Name":Oe.schoolId?.name||"N/A","School Code":school?.code||"N/A"}));if(Je.length===0){alert("No data to export");return}const Me=Pe?`${Pe.replace(/[^a-z0-9]/gi,"_")}_students_${new Date().toISOString().split("T")[0]}.csv`:`all_students_${new Date().toISOString().split("T")[0]}.csv`,Te=Object.keys(Je[0]),je=[Te.join(","),...Je.map(Oe=>Te.map(De=>`"${Oe[De]||""}"`).join(","))].join(`
`),Ke=new Blob([je],{type:"text/csv;charset=utf-8;"}),Le=document.createElement("a"),rt=URL.createObjectURL(Ke);Le.setAttribute("href",rt),Le.setAttribute("download",Me),Le.style.visibility="hidden",document.body.appendChild(Le),Le.click(),document.body.removeChild(Le)}catch(ke){console.error("Export error:",ke),alert("Error exporting data. Please try again.")}},et=_e=>{const ke=new Set(m);ke.has(_e)?ke.delete(_e):ke.add(_e),A(ke)},He=({totalPages:_e,currentPage:ke,onPageChange:Ze})=>{if(_e<=1)return null;const Pe=[],ot=5;let Ge=Math.max(1,ke-Math.floor(ot/2)),lt=Math.min(_e,Ge+ot-1);lt-Ge<ot-1&&(Ge=Math.max(1,lt-ot+1));for(let Je=Ge;Je<=lt;Je++)Pe.push(Je);return a.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-6",children:[a.jsx("button",{onClick:()=>Ze(ke-1),disabled:ke===1,className:`p-2 rounded-lg ${ke===1?"text-gray-400 cursor-not-allowed":"text-[#1C1444] hover:bg-[#1C1444]/10"}`,children:a.jsx(fc,{className:"w-5 h-5"})}),Ge>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>Ze(1),className:"px-3 py-2 rounded-lg text-[#1C1444] hover:bg-[#1C1444]/10",children:"1"}),Ge>2&&a.jsx("span",{className:"text-[#1C1444]/60",children:"..."})]}),Pe.map(Je=>a.jsx("button",{onClick:()=>Ze(Je),className:`px-3 py-2 rounded-lg ${ke===Je?"bg-[#F37021] text-white":"text-[#1C1444] hover:bg-[#1C1444]/10"}`,children:Je},Je)),lt<_e&&a.jsxs(a.Fragment,{children:[lt<_e-1&&a.jsx("span",{className:"text-[#1C1444]/60",children:"..."}),a.jsx("button",{onClick:()=>Ze(_e),className:"px-3 py-2 rounded-lg text-[#1C1444] hover:bg-[#1C1444]/10",children:_e})]}),a.jsx("button",{onClick:()=>Ze(ke+1),disabled:ke===_e,className:`p-2 rounded-lg ${ke===_e?"text-gray-400 cursor-not-allowed":"text-[#1C1444] hover:bg-[#1C1444]/10"}`,children:a.jsx(Al,{className:"w-5 h-5"})})]})};if(U)return a.jsxs("div",{className:"p-6 bg-red-50 text-red-700 rounded-xl flex items-center shadow-sm",children:[a.jsx(Lr,{className:"w-5 h-5 mr-2"}),U]});if(T)return a.jsx("div",{className:"p-6 text-center text-[#1C1444] font-medium",children:"Loading data..."});const ct=v.find(_e=>_e.id===r)?.name||"Unknown";return e==="list"?a.jsx("div",{className:"min-h-screen bg-white p-6 sm:p-8",children:a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[a.jsxs("div",{className:"mb-4 sm:mb-0",children:[a.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-[#1C1444] flex items-center",children:[a.jsx(Rs,{className:"w-7 h-7 mr-3 text-[#F37021]"}),"Student Management"]}),a.jsx("p",{className:"text-[#1C1444]/80 text-sm mt-2",children:"View schools and students"})]}),a.jsxs("button",{onClick:()=>st(),className:"bg-[#F37021] hover:bg-[#d55f1c] text-white px-4 py-2 rounded-lg shadow-md flex items-center space-x-2 transition-all duration-200",title:"Export All Students",children:[a.jsx(xs,{className:"w-5 h-5"}),a.jsx("span",{children:"Export All CSV"})]})]}),a.jsx("div",{className:"bg-[#1C1444]/5 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(Va,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-[#1C1444]/60 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search schools...",value:k,onChange:_e=>Q(_e.target.value),className:"w-full pl-12 pr-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200"})]}),a.jsxs("select",{value:r,onChange:_e=>n(_e.target.value),className:"px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",children:[a.jsx("option",{value:"",children:"All Schools"}),v.map(_e=>a.jsx("option",{value:_e.id,children:_e.name},_e.id))]}),a.jsxs("select",{value:u,onChange:_e=>h(_e.target.value),className:"px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",children:[a.jsx("option",{value:"",children:"All Time"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"lastWeek",children:"Last Week"}),a.jsx("option",{value:"lastMonth",children:"Last Month"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"text-sm text-[#1C1444]/80",children:["Total Students: ",Y.totalStudents]}),a.jsxs("button",{onClick:Ce,className:"flex items-center space-x-2 px-3 py-2 border border-[#1C1444]/20 rounded-lg hover:bg-[#1C1444]/10 text-[#1C1444] transition-all duration-200",children:[a.jsx(Fu,{className:"w-5 h-5"}),a.jsx("span",{children:"Clear Filters"})]})]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[{icon:Rs,label:"Total Classes",value:Y.totalClasses},{icon:Ra,label:"Total Students",value:Y.totalStudents},{icon:Ol,label:"Schools",value:ye},{icon:Jn,label:"Academic Year",value:"2024-25"}].map((_e,ke)=>a.jsx("div",{className:"bg-[#1C1444]/5 rounded-lg p-4 shadow-sm",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-[#F37021]/10 rounded-lg",children:a.jsx(_e.icon,{className:"w-5 h-5 text-[#F37021]"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-[#1C1444]/80",children:_e.label}),a.jsx("p",{className:"text-xl font-bold text-[#1C1444]",children:_e.value})]})]})},ke))}),v.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[a.jsx(Rs,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),a.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:k||r||u?"No schools match your filters":"No schools found"}),a.jsx("p",{className:"text-[#1C1444]/80",children:k||r||u?"Try adjusting your filters or clear them to see all schools.":"No schools are available."}),(k||r||u)&&a.jsx("button",{onClick:Ce,className:"mt-4 text-[#F37021] hover:text-[#d55f1c] underline transition-all duration-200",children:"Clear filters to see all schools"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(_e=>a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border border-[#1C1444]/10 hover:shadow-lg transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-[#F37021]/10 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-[#F37021] font-bold text-lg",children:_e.name.charAt(0).toUpperCase()})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-[#1C1444]",children:_e.name}),a.jsxs("p",{className:"text-sm text-[#1C1444]/80",children:[_e.studentCount," Students"]})]})]}),a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm text-[#1C1444]",children:[a.jsx("span",{children:"Code:"}),a.jsx("span",{className:"font-medium",children:_e.code})]}),a.jsxs("div",{className:"flex justify-between text-sm text-[#1C1444]",children:[a.jsx("span",{children:"Total Students:"}),a.jsx("span",{className:"font-medium",children:_e.studentCount})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>{n(_e.id),t("detail"),ee(1)},className:"flex-1 bg-[#F37021] hover:bg-[#d55f1c] text-white py-2 rounded-lg flex items-center justify-center space-x-2 transition-all duration-200",title:"View Students",children:[a.jsx(Ra,{className:"w-5 h-5"}),a.jsx("span",{children:"View Students"})]}),a.jsx("button",{onClick:()=>st(_e.id),className:"bg-[#F37021] hover:bg-[#d55f1c] text-white px-3 py-2 rounded-lg transition-all duration-200",title:"Export School CSV",children:a.jsx(xs,{className:"w-5 h-5"})})]})]},_e.id))}),a.jsx(He,{totalPages:V,currentPage:z,onPageChange:be})]})]})}):e==="detail"?r?a.jsxs("div",{className:"min-h-screen bg-white p-6 sm:p-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4 sm:mb-0",children:[a.jsx("button",{onClick:()=>{t("list"),A(new Set),i(""),l(""),d("")},className:"p-2 hover:bg-[#1C1444]/10 rounded-lg text-[#1C1444] transition-all duration-200",children:a.jsx(ip,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-[#1C1444] flex items-center",children:[a.jsx(Rs,{className:"w-7 h-7 mr-3 text-[#F37021]"}),"School ",ct]}),a.jsxs("p",{className:"text-[#1C1444]/80 text-sm mt-2",children:[fe," students enrolled"]})]})]}),a.jsxs("button",{onClick:()=>st(),className:"bg-[#F37021] hover:bg-[#d55f1c] text-white px-4 py-2 rounded-lg shadow-md flex items-center space-x-2 transition-all duration-200",title:"Export School CSV",children:[a.jsx(xs,{className:"w-5 h-5"}),a.jsx("span",{children:"Export CSV"})]})]}),a.jsx("div",{className:"bg-[#1C1444]/5 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(Va,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-[#1C1444]/60 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search students in this school...",value:k,onChange:_e=>Q(_e.target.value),className:"w-full pl-12 pr-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200"})]}),a.jsxs("select",{value:s,onChange:_e=>i(_e.target.value),className:"px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",children:[a.jsx("option",{value:"",children:"All Classes"}),j.map(_e=>a.jsx("option",{value:_e.id,children:_e.name},_e.id))]}),a.jsxs("select",{value:o,onChange:_e=>l(_e.target.value),className:"px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",children:[a.jsx("option",{value:"",children:"All Genders"}),a.jsx("option",{value:"Male",children:"Male"}),a.jsx("option",{value:"Female",children:"Female"})]}),a.jsxs("select",{value:c,onChange:_e=>d(_e.target.value),className:"px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-transparent shadow-sm transition-all duration-200",children:[a.jsx("option",{value:"",children:"All Time"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"lastWeek",children:"Last Week"}),a.jsx("option",{value:"lastMonth",children:"Last Month"})]})]}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("span",{className:"text-sm text-[#1C1444]/80",children:["Showing ",B.length," of ",fe," students"]})})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[{icon:Ra,label:"Total Students",value:Y.totalStudents},{icon:no,label:"Male Students",value:Y.maleCount},{icon:no,label:"Female Students",value:Y.femaleCount},{icon:Rs,label:"Total Classes",value:Y.totalClasses}].map((_e,ke)=>a.jsx("div",{className:"bg-[#1C1444]/5 rounded-lg p-4 shadow-sm",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-[#F37021]/10 rounded-lg",children:a.jsx(_e.icon,{className:"w-5 h-5 text-[#F37021]"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-[#1C1444]/80",children:_e.label}),a.jsx("p",{className:"text-xl font-bold text-[#1C1444]",children:_e.value})]})]})},ke))})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg",children:[a.jsx("div",{className:"p-6 border-b border-[#1C1444]/10",children:a.jsxs("h2",{className:"text-lg font-bold text-[#1C1444]",children:["Students in ",ct]})}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-[#1C1444]/5",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"Expand"}),a.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"Student"}),a.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"Roll No"}),a.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"Class"}),a.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"ID"}),a.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"Contact"}),a.jsx("th",{className:"p-4 text-left text-xs uppercase text-[#1C1444] font-semibold",children:"Parent"})]})}),a.jsx("tbody",{className:"divide-y divide-[#1C1444]/10",children:B.map(_e=>a.jsxs(a.Fragment,{children:[a.jsxs("tr",{className:"hover:bg-[#1C1444]/5 cursor-pointer transition-all duration-200",onClick:()=>et(_e.id),children:[a.jsx("td",{className:"p-4",children:a.jsx("button",{onClick:ke=>{ke.stopPropagation(),et(_e.id)},className:"text-[#F37021] hover:text-[#d55f1c] transition-all duration-200",children:m.has(_e.id)?a.jsx(s1,{className:"w-5 h-5"}):a.jsx(Al,{className:"w-5 h-5"})})}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 bg-[#F37021]/10 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-[#F37021] font-semibold",children:_e.name.split(" ").map(ke=>ke[0]).join("")})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"font-medium text-[#1C1444]",children:_e.name}),a.jsx("div",{className:"text-[#1C1444]/80 text-sm",children:_e.email})]})]})}),a.jsx("td",{className:"p-4 text-[#1C1444]",children:_e.rollNo}),a.jsx("td",{className:"p-4 text-[#1C1444]",children:_e.class}),a.jsx("td",{className:"p-4",children:_e.studentId&&_e.studentId!=="N/A"&&a.jsx("span",{className:"px-2 py-1 bg-[#F37021]/10 text-[#F37021] rounded-full text-sm",children:_e.studentId})}),a.jsx("td",{className:"p-4 text-[#1C1444]/80",children:_e.phone}),a.jsxs("td",{className:"p-4",children:[a.jsx("div",{className:"text-[#1C1444]",children:_e.fatherName}),a.jsx("div",{className:"text-[#1C1444]/80 text-sm",children:_e.parentPhone})]})]},_e.id),m.has(_e.id)&&a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"p-4 bg-[#1C1444]/5",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-[#1C1444]/10",children:[a.jsx("h3",{className:"font-semibold text-[#1C1444] mb-4",children:"Student Details"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-[#1C1444]",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium border-b border-[#1C1444]/20 pb-1",children:"Personal"}),a.jsxs("div",{className:"space-y-2 mt-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"DOB:"})," ",_e.dateOfBirth?new Date(_e.dateOfBirth).toLocaleDateString():"N/A"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Gender:"})," ",_e.gender]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Address:"})," ",_e.address]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium border-b border-[#1C1444]/20 pb-1",children:"Academic"}),a.jsxs("div",{className:"space-y-2 mt-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Class:"})," ",_e.class]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Roll No:"})," ",_e.rollNo]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Student ID:"})," ",_e.studentId]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"School:"})," ",_e.schoolName]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium border-b border-[#1C1444]/20 pb-1",children:"Parent"}),a.jsxs("div",{className:"space-y-2 mt-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Father:"})," ",_e.fatherName]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Mother:"})," ",_e.motherName]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Phone:"})," ",_e.parentPhone]})]})]})]})]})})})]}))})]}),B.length===0&&a.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[a.jsx(Ra,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),a.jsx("h3",{className:"text-lg font-medium text-[#1C1444] mb-2",children:k||s||o||c?"No students match your filters":"No students found"}),a.jsx("p",{className:"text-[#1C1444]/80",children:k||s||o||c?"Try adjusting your filters or clear them to see all students.":"No students are enrolled in this school."}),(k||s||o||c)&&a.jsx("button",{onClick:Ce,className:"mt-4 text-[#F37021] hover:text-[#d55f1c] underline transition-all duration-200",children:"Clear filters to see all students"})]})]}),a.jsx(He,{totalPages:se,currentPage:ce,onPageChange:re})]})]}):a.jsxs("div",{className:"p-6 bg-red-50 text-red-700 rounded-xl flex items-center shadow-sm",children:[a.jsx(Lr,{className:"w-5 h-5 mr-2"}),"Error: No school selected. Please go back and select a school."]}):a.jsxs("div",{className:"p-6 bg-red-50 text-red-700 rounded-xl flex items-center shadow-sm",children:[a.jsx(Lr,{className:"w-5 h-5 mr-2"}),"Error: Invalid view state"]})},s5="https://vidyaastra.com/api",jDe=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(!1),[s,i]=C.useState("add"),[o,l]=C.useState(null),[c,d]=C.useState([]),[u,h]=C.useState([]),[m,A]=C.useState(!1),[y,x]=C.useState(""),[v,b]=C.useState({}),[j,E]=C.useState("#2563eb"),[T,P]=C.useState(null),[U,M]=C.useState({subjectName:"",className:"",section:""});console.log("Subjects Component Rendered",m,u,c,T),C.useEffect(()=>{const de=localStorage.getItem("schoolId");de?P(de):x("School ID not found. Please log in to access subject data.");const se=localStorage.getItem("color");se&&E(se)},[]);const k=C.useCallback(async()=>{if(!T){A(!1);return}A(!0),x("");try{const de=await sr.get(`${s5}/subject/${T}/subjects`);de.data.success?d(de.data.data||[]):x(de.data.message||"Failed to fetch subjects")}catch(de){x(de.response?.data?.message||"Failed to fetch subjects. Please try again.")}finally{A(!1)}},[T]);C.useEffect(()=>{T&&k()},[T,k]);const Q=[...new Set(u.map(de=>de.className))],z=c.filter(de=>(de.subjectName||"").toLowerCase().includes(e.toLowerCase())),O=(de,se=null)=>{if(i(de),l(se),b({}),de==="add")M({subjectName:"",className:Q.length>0?Q[0]:"",section:""});else if(se){const he=u.find(fe=>fe._id===(se.classId?._id||se.classId));M({subjectName:se.subjectName||"",className:he?.className||"",section:he?.section||""})}n(!0),x("")},L=()=>{n(!1),l(null),i("add"),x(""),b({})},V=de=>{const{name:se,value:he}=de.target;M(fe=>{const ve={...fe,[se]:he};return se==="className"&&(ve.section=""),ve}),v[se]&&b(fe=>({...fe,[se]:""}))},J=()=>{const de={};return U.subjectName.trim()||(de.subjectName="Subject name is required."),b(de),Object.keys(de).length===0},ce=async de=>{if(de.preventDefault(),A(!0),x(""),!J()){A(!1);return}if(!T){x("School ID is missing. Cannot perform this operation."),A(!1);return}try{let se;s==="add"?se=await sr.post(`${s5}/subject/${T}/subjects`,{subjectName:U.subjectName.trim()}):s==="edit"&&(se=await sr.put(`${s5}/subject/${T}/subjects/${o._id}`,{subjectName:U.subjectName.trim()})),se.data.success&&(await k(),L())}catch(se){x(se.response?.data?.message||se.message||"Failed to save subject. Please try again."),console.error("Error details:",se)}finally{A(!1)}},ee=C.useCallback(async de=>{if(window.confirm("Are you sure you want to delete this subject? This action cannot be undone.")){if(A(!0),x(""),!T){x("School ID is missing. Cannot perform this operation."),A(!1);return}try{(await sr.delete(`${s5}/subject/${T}/subjects/${de}`)).data.success&&await k()}catch(se){x(se.response?.data?.message||"Failed to delete subject.")}finally{A(!1)}}},[k,T]);return a.jsxs("div",{className:"space-y-6 bg-gray-50 min-h-screen",children:[y&&a.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-lg",children:[a.jsx(ga,{className:"w-5 h-5",style:{color:j}}),a.jsx("span",{className:"block sm:inline text-sm",children:y}),a.jsx("button",{onClick:()=>x(""),className:"ml-auto text-red-700 hover:text-red-900",children:a.jsx(Lr,{className:"w-4 h-4"})})]}),a.jsx("div",{className:cr("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:j},children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center",children:[a.jsx(Ff,{className:"mr-3",style:{color:"white"}}),"Subject Management"]}),a.jsx("p",{className:"text-white text-sm opacity-75 mt-1",children:"Manage academic subjects for your school"})]}),a.jsxs("button",{onClick:()=>O("add"),disabled:m||!T,className:cr("text-white px-4 py-2 rounded-xl flex items-center space-x-2 font-semibold","hover:opacity-90 transition-all duration-200","disabled:opacity-50"),style:{backgroundColor:j},children:[m?a.jsx(an,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):a.jsx(Si,{className:"w-4 h-4",style:{color:"white"}}),a.jsx("span",{children:"Add Subject"})]})]}),a.jsxs("div",{className:"mt-6 relative max-w-5xl mx-auto",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5",style:{color:j}}),a.jsx("input",{type:"text",placeholder:"Search subjects by name...",value:e,onChange:de=>t(de.target.value),className:cr("w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:j}})]})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden max-w-5xl mx-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["All Subjects (",z.length,")"]})}),a.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject Name"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m?a.jsx("tr",{children:a.jsxs("td",{colSpan:"4",className:"text-center py-12",children:[a.jsx(an,{className:"w-8 h-8 mx-auto animate-spin mb-4",style:{color:j}}),a.jsx("p",{className:"text-gray-500",children:"Loading subjects..."})]})}):z.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:"4",className:"text-center py-12 text-gray-500",children:[a.jsx(Rs,{className:"w-12 h-12 mx-auto text-gray-300 mb-4"}),a.jsx("p",{className:"text-lg font-medium",children:c.length===0?"No subjects found. Add your first subject!":"No subjects found matching your search."})]})}):z.map(de=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:j},children:a.jsx(Rs,{className:"text-white w-5 h-5"})}),a.jsx("div",{className:"ml-4",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:de.SubjectName||"Unnamed Subject"})})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>O("edit",de),disabled:m,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Edit Subject",style:{color:j},children:a.jsx(_u,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>ee(de._id),disabled:m,className:"p-2 hover:bg-red-50 rounded-full transition-colors text-red-500 hover:text-red-700",title:"Delete Subject",children:a.jsx(si,{className:"w-4 h-4"})})]})})]},de._id))})]})})]}),r&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[a.jsxs("div",{className:cr("text-white p-6 rounded-t-xl flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:j},children:[a.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mr-3",style:{backgroundColor:`${j}20`},children:s==="edit"?a.jsx(_u,{className:"w-5 h-5",style:{color:"white"}}):a.jsx(Si,{className:"w-5 h-5",style:{color:"white"}})}),s==="edit"?"Edit Subject":"Add New Subject"]}),a.jsx("button",{onClick:L,className:"flex items-center justify-center w-8 h-8 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:a.jsx(Lr,{className:"w-6 h-6",style:{color:"white"}})})]}),a.jsxs("form",{onSubmit:ce,className:"p-6 space-y-4",children:[a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject Name *"}),a.jsx("input",{type:"text",name:"subjectName",placeholder:"Enter subject name",value:U.subjectName,onChange:V,className:cr("w-full px-3 py-2 border rounded-xl",v.subjectName?"border-red-500":"border-gray-300","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:j},required:!0}),v.subjectName&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:v.subjectName})]})}),a.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:L,disabled:m,className:cr("flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-xl font-semibold","hover:bg-gray-50 transition-colors disabled:opacity-50"),children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:m,className:cr("flex-1 px-4 py-2 text-white rounded-xl font-semibold","hover:opacity-90 transition-all duration-200 flex items-center justify-center space-x-2","disabled:opacity-50"),style:{backgroundColor:j},children:[m?a.jsx(an,{className:"w-4 h-4 animate-spin",style:{color:"white"}}):a.jsx(td,{className:"w-4 h-4",style:{color:"white"}}),a.jsx("span",{children:m?"Saving...":s==="edit"?"Update Subject":"Add Subject"})]})]})]})]})})]})},SDe=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(!1),[s,i]=C.useState(null),[o,l]=C.useState("All"),[c,d]=C.useState("All"),[u,h]=C.useState("All"),[m,A]=C.useState("All"),[y,x]=C.useState([]),[v,b]=C.useState([]),[j,E]=C.useState([]),[T,P]=C.useState([]),[U,M]=C.useState(!1),[k,Q]=C.useState(""),[z,O]=C.useState(null),[L,V]=C.useState(null),[J,ce]=C.useState(1),[ee,de]=C.useState(1),se=10,he="https://vidyaastra.com/api";C.useEffect(()=>{const be=localStorage.getItem("schoolId"),re=localStorage.getItem("teacherId");be&&re?(O(be),V(re)):Q("School ID or Teacher ID not found in local storage")},[]),C.useEffect(()=>{z&&L&&fe()},[z,L,J,u,m,o,c]),C.useEffect(()=>{ce(1)},[u,m,o,c,e]),C.useEffect(()=>{if(u!=="All"){const be=Fe(u);P(be),A("All")}else P([]),A("All")},[u,v]);const fe=async()=>{M(!0),Q("");try{const re=(await sr.get(`${he}/teacher/${z}/${L}`)).data.data,Ce=re.classes||[],st=re.subjects||[];E(st);const He=(await sr.get(`${he}/class?schoolId=${z}`)).data.data||[];let ct=[];if(Array.isArray(Ce)&&Ce.length>0)if(Ce[0]&&Ce[0]._id){const ot=Ce.map(Ge=>Ge._id);ct=He.filter(Ge=>ot.includes(Ge._id))}else if(typeof Ce[0]=="string"){const ot=Ce.map(Ge=>Ge.trim());ct=He.filter(Ge=>{const lt=`${Ge.className} ${Ge.section||""}`.trim();return ot.includes(lt)})}else ct=He.filter(ot=>Ce.includes(ot._id.toString()));if(ct.length===0&&(ct=He),b(ct),ct.length===0){x([]),de(1),M(!1),Q("No classes assigned to this teacher.");return}const ke=[...new Set(ct.map(ot=>ot.className))].join(","),Ze=new URLSearchParams({schoolId:z,classNames:ke,page:J,limit:se});o!=="All"&&Ze.append("subject",o),c!=="All"&&Ze.append("status",c),u!=="All"&&Ze.append("className",u),m!=="All"&&Ze.append("section",m);const Pe=await sr.get(`${he}/assignments/submitted-by-classes?${Ze.toString()}`);Pe.data.success?(x(Pe.data.data),de(Pe.data.pagination.totalPages||1)):(Q("Failed to fetch submitted assignments: "+Pe.data.message),x([]),de(1))}catch(be){Q("Failed to load initial data: "+(be.response?.data?.message||be.message)),console.error("Error fetching initial data:",be),x([]),de(1)}finally{M(!1)}},ve=be=>!be||!be.url?null:be.url.startsWith("http")?be.url:`${he.replace("/api","")}${be.url}`,B=C.useMemo(()=>y.filter(be=>be.title?.toLowerCase().includes(e.toLowerCase())||be.subject?.toLowerCase().includes(e.toLowerCase())||be.studentName?.toLowerCase().includes(e.toLowerCase())||be.rollNo?.toLowerCase().includes(e.toLowerCase())||be.description?.toLowerCase().includes(e.toLowerCase())),[y,e]),R=B,Y=be=>{i(be),n(!0)},ie=()=>{n(!1),i(null),Q("")},ge=be=>{switch(be?.toUpperCase()){case"HIGH":return"bg-red-100 text-red-800";case"MEDIUM":return"bg-orange-100 text-orange-800";case"LOW":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},ye=be=>{switch(be){case"submitted":return a.jsx(tu,{className:"w-4 h-4 text-green-600"});case"graded":return a.jsx(Om,{className:"w-4 h-4 text-blue-600"});case"late":return a.jsx(es,{className:"w-4 h-4 text-red-600"});default:return a.jsx(es,{className:"w-4 h-4 text-orange-600"})}},pe=be=>{if(!be)return"N/A";try{return new Date(be).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"N/A"}},Z=y.filter(be=>be.status==="submitted").length,le=y.filter(be=>be.status==="graded").length,te=y.filter(be=>be.status==="late").length,Ne=()=>[...new Set(v.map(be=>be.className))].sort(),Fe=be=>v.filter(re=>re.className===be).map(re=>re.section||"N/A").filter((re,Ce,st)=>st.indexOf(re)===Ce).sort();return U&&y.length===0?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("div",{className:"text-lg text-gray-600",children:"Loading submitted assignments..."})]})}):!z||!L?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center max-w-md",children:[a.jsx(Ra,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Authentication Required"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"School ID or Teacher ID not found. Please log in to continue."}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh Page"})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50 space-y-6 p-4",children:[k&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg max-w-2xl mx-auto",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(FiAlertCircle,{className:"w-5 h-5 mr-2"}),a.jsx("span",{children:k}),a.jsx("button",{onClick:()=>Q(""),className:"ml-auto hover:text-red-900",children:a.jsx(Lr,{className:"w-4 h-4"})})]})}),a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Submitted Assignments"}),a.jsx("p",{className:"text-gray-600",children:"View and manage student assignment submissions"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("div",{className:"bg-green-100 text-green-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Total: ",y.length]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search assignments, students...",value:e,onChange:be=>t(be.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("select",{value:u,onChange:be=>h(be.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"All",children:"All Classes"}),Ne().map(be=>a.jsx("option",{value:be,children:be},be))]}),a.jsxs("select",{value:m,onChange:be=>A(be.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:u==="All",children:[a.jsx("option",{value:"All",children:"All Sections"}),T.length>0?T.map(be=>a.jsx("option",{value:be,children:be},be)):a.jsx("option",{disabled:!0,children:u==="All"?"Select class first":"No sections"})]}),a.jsxs("select",{value:o,onChange:be=>l(be.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"All",children:"All Subjects"}),j.map(be=>a.jsx("option",{value:be,children:be},be))]}),a.jsxs("select",{value:c,onChange:be=>d(be.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"All",children:"All Status"}),a.jsx("option",{value:"submitted",children:"Submitted"}),a.jsx("option",{value:"graded",children:"Graded"}),a.jsx("option",{value:"late",children:"Late"})]})]}),a.jsxs("div",{className:"flex space-x-4 mt-4 flex-wrap",children:[a.jsxs("div",{className:"bg-green-100 text-green-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Submitted (",Z,")"]}),a.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Graded (",le,")"]}),a.jsxs("div",{className:"bg-red-100 text-red-800 px-3 py-2 rounded-lg text-sm font-medium",children:["Late (",te,")"]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full min-w-max",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student Info"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Roll No"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignment"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted Date"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority/Grade"}),a.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-4 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:R.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"11",className:"px-4 py-8 text-center text-gray-500",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(Ra,{className:"w-12 h-12 text-gray-300 mb-4"}),a.jsx("p",{children:e?"No assignments found matching your search":"No submitted assignments found"}),e&&a.jsx("button",{onClick:()=>t(""),className:"mt-2 text-blue-600 hover:text-blue-800 text-sm",children:"Clear search"})]})})}):R.map(be=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(no,{className:"w-5 h-5 text-gray-400 mr-2"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:be.studentName}),a.jsx("div",{className:"text-xs text-gray-500",children:"Student"})]})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("span",{className:"text-sm font-mono text-gray-900 bg-gray-100 px-2 py-1 rounded",children:be.rollNo})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:be.class})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-purple-100 text-purple-800 rounded-full",children:be.section||"N/A"})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Rs,{className:"w-4 h-4 text-blue-600 mr-2"}),a.jsx("span",{className:"text-sm font-medium text-blue-600",children:be.subject})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"max-w-xs",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",title:be.title,children:be.title}),a.jsx("div",{className:"text-xs text-gray-500 mt-1 truncate",title:be.description,children:be.description||"No description"})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Jn,{className:"w-4 h-4 text-gray-400 mr-2"}),a.jsx("div",{className:"text-sm text-gray-900",children:pe(be.dueDate)})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(tu,{className:"w-4 h-4 text-green-600 mr-2"}),a.jsx("div",{className:"text-sm text-green-600 font-medium",children:pe(be.submittedDate)})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ge(be.priority)}`,children:be.status==="graded"&&be.grade?be.grade:be.priority||"N/A"})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center",children:[ye(be.status),a.jsx("span",{className:`ml-2 text-sm font-medium capitalize ${be.status==="submitted"||be.status==="graded"?"text-green-600":be.status==="late"?"text-red-600":"text-orange-600"}`,children:be.status||"Unknown"})]})}),a.jsx("td",{className:"px-4 py-4 text-right",children:a.jsx("div",{className:"flex justify-end space-x-2",children:a.jsx("button",{onClick:()=>Y(be),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors",title:"View Details",children:a.jsx(Hi,{className:"w-4 h-4"})})})})]},be.id))})]})}),ee>1&&a.jsxs("div",{className:"flex justify-center items-center py-4 space-x-2 border-t bg-gray-50",children:[a.jsx("button",{onClick:()=>ce(be=>Math.max(1,be-1)),disabled:J===1,className:"px-4 py-2 bg-blue-500 text-white rounded-lg disabled:bg-gray-300 disabled:cursor-not-allowed hover:bg-blue-600 transition-colors",children:"Previous"}),Array.from({length:Math.min(5,ee)},(be,re)=>{let Ce;return J<=3?Ce=re+1:J>=ee-2?Ce=ee-4+re:Ce=J-2+re,Ce}).filter(be=>be>=1&&be<=ee).map(be=>a.jsx("button",{onClick:()=>ce(be),className:`px-3 py-2 rounded-lg transition-colors ${J===be?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:be},be)),ee>5&&a.jsxs(a.Fragment,{children:[J<=3&&a.jsx("span",{className:"px-2 text-gray-500",children:"..."}),J>3&&J<ee-2&&a.jsx("span",{className:"px-2 text-gray-500",children:"..."}),J>=ee-2&&a.jsx("span",{className:"px-2 text-gray-500",children:"..."})]}),a.jsx("button",{onClick:()=>ce(be=>Math.min(ee,be+1)),disabled:J===ee,className:"px-4 py-2 bg-blue-500 text-white rounded-lg disabled:bg-gray-300 disabled:cursor-not-allowed hover:bg-blue-600 transition-colors",children:"Next"}),a.jsxs("span",{className:"text-sm text-gray-700 px-4",children:["Page ",J," of ",ee," (",B.length," total)"]})]})]}),r&&s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b bg-gray-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Assignment Submission Details"}),a.jsx("button",{onClick:ie,className:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-200",children:a.jsx(Lr,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[a.jsx(no,{className:"w-5 h-5 mr-2 text-blue-600"}),"Student Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("p",{className:"text-sm text-gray-900 font-medium",children:s.studentName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Roll Number"}),a.jsx("p",{className:"text-sm text-gray-900",children:s.rollNo})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class"}),a.jsxs("p",{className:"text-sm text-gray-900",children:[s.class," - ",s.section||"N/A"]})]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[a.jsx(Rs,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Assignment Details"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),a.jsx("p",{className:"text-sm text-gray-900 font-medium bg-blue-100 px-2 py-1 rounded inline-block",children:s.subject})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),a.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${ge(s.priority)}`,children:s.priority})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),a.jsx("p",{className:"text-sm text-gray-900 font-medium",children:s.title})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("p",{className:"text-sm text-gray-900 bg-white p-3 rounded border",children:s.description||"No description provided"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class"}),a.jsx("p",{className:"text-sm text-gray-900",children:s.class})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section"}),a.jsx("p",{className:"text-sm text-gray-900",children:s.section||"N/A"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),a.jsx("p",{className:"text-sm text-gray-900",children:pe(s.dueDate)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Submitted Date"}),a.jsx("p",{className:"text-sm text-green-600 font-medium",children:pe(s.submittedDate)})]})]})]}),(s.attachments?.length>0||s.studentComments)&&a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[a.jsx(tu,{className:"w-5 h-5 mr-2 text-green-600"}),"Submission Details"]}),s.studentComments&&a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student Comments"}),a.jsx("p",{className:"text-sm text-gray-900 bg-white p-3 rounded border",children:s.studentComments})]}),s.attachments?.length>0&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Attachments (",s.attachments.length,")"]}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:s.attachments.map((be,re)=>{const Ce=ve(be);return a.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border hover:shadow-sm",children:[a.jsxs("div",{className:"flex items-center flex-1",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center mr-3",children:a.jsx(xs,{className:"w-4 h-4 text-gray-500"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",title:be.name,children:be.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:[be.type||"File"," "," ",be.size?`${(be.size/1024).toFixed(1)} KB`:"Unknown size"]})]})]}),Ce&&a.jsxs("a",{href:Ce,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors ml-2",title:`Download ${be.name}`,children:[a.jsx(xs,{className:"w-3 h-3 mr-1"}),"Download"]})]},re)})})]})]}),s.status==="graded"&&a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[a.jsx(Om,{className:"w-5 h-5 mr-2 text-yellow-600"}),"Grading Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Grade"}),a.jsx("p",{className:"text-lg font-bold text-yellow-600",children:s.grade||"N/A"})]}),s.teacherComments&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teacher Comments"}),a.jsx("p",{className:"text-sm text-gray-900 bg-white p-3 rounded border",children:s.teacherComments})]})]})]}),a.jsx("div",{className:"flex justify-end pt-4 border-t",children:a.jsx("button",{type:"button",onClick:ie,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Close"})})]})]})})]})},CDe=()=>{const e=ru();Dd();const[t,r]=C.useState(""),[n,s]=C.useState(null),[i,o]=C.useState([]),[l,c]=C.useState([]),[d,u]=C.useState([]),[h,m]=C.useState(null),[A,y]=C.useState(!1),[x,v]=C.useState(!0),[b,j]=C.useState(!0),[E,T]=C.useState(!1),[P,U]=C.useState(!1),[M,k]=C.useState(""),[Q,z]=C.useState("#2563eb"),O="https://vidyaastra.com/api";C.useEffect(()=>{try{const de=localStorage.getItem("schoolId")||"688dfdc93af0f78ebd4b044a",se=localStorage.getItem("color");de&&(r(de),z(se||"#2563eb"))}catch(de){console.error("Error accessing localStorage:",de),k("Failed to initialize: "+de.message)}},[]),C.useEffect(()=>{t&&(L(),V())},[t]),C.useEffect(()=>{h&&J()},[h]);const L=async()=>{try{v(!0);const de=await sr.get(`${O}/schools`);if(de.data.success&&Array.isArray(de.data.data)){o(de.data.data);const se=de.data.data.find(he=>he._id===t);s(se)}else o([]),k("No schools found")}catch(de){console.error("Error fetching schools:",de.message),k("Failed to load schools: "+de.message)}finally{v(!1)}},V=async()=>{if(t)try{j(!0);const de=await sr.get(`${O}/class?schoolId=${t}`);de.data.success&&Array.isArray(de.data.data)?c(de.data.data):c([])}catch(de){console.error("Error fetching classes:",de.message),c([])}finally{j(!1)}},J=async()=>{if(!(!t||!h))try{T(!0),console.log("Fetching exams for class:",h._id),console.log("Selected exam (class):",h);const de=await sr.get(`${O}/exams?schoolId=${t}`);if(console.log("All exams response:",de.data),de.data.success){const he=(de.data.data||[]).filter(fe=>(fe.classId?._id||fe.classId)===h._id);console.log("Filtered exams for class:",he),u(he)}else u([]),console.log("No exams found")}catch(de){console.error("Error fetching exams:",de.message),u([])}finally{T(!1)}},ce=C.useCallback(de=>{if(!de)return"N/A";const se=typeof de=="object"?de._id:de,he=l.find(fe=>fe._id===se);return he?`${he.className||`Class ${he.classNumber||he._id}`}${he.section?` ${he.section}`:""}`.trim():"N/A"},[l]),ee=de=>{if(!de||!n){xr.error("Missing exam or school data");return}const se=window.open("","_blank"),he=ce(de.classId),ve=(R=>{const Y=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(R);return Y?{r:parseInt(Y[1],16),g:parseInt(Y[2],16),b:parseInt(Y[3],16)}:{r:37,g:99,b:235}})(Q),B=`rgb(${ve.r}, ${ve.g}, ${ve.b})`;se.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Exam Time Table - ${n.name}</title>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <style>
            @media print {
              @page {
                margin: 0.5in;
                size: A4;
              }
              * {
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
              body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                margin: 0;
                padding: 0;
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
              .no-print {
                display: none !important;
              }
              .header {
                background: ${B} !important;
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
              th {
                background: ${B} !important;
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
            }
            body {
              font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
              margin: 0;
              padding: 20px;
              background: white;
              color: #333;
              line-height: 1.6;
            }
            .header {
              background: linear-gradient(135deg, ${B}, ${B}dd);
              color: white;
              padding: 25px;
              border-radius: 12px;
              margin-bottom: 25px;
              display: flex;
              align-items: center;
              gap: 25px;
              box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
              position: relative;
              overflow: hidden;
            }
            .header::before {
              content: '';
              position: absolute;
              top: 0;
              left: 0;
              right: 0;
              bottom: 0;
              background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
              animation: shimmer 3s infinite;
            }
            @keyframes shimmer {
              0% { transform: translateX(-100%); }
              100% { transform: translateX(100%); }
            }
            .logo {
              width: 70px;
              height: 70px;
              border-radius: 50%;
              background: white;
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 28px;
              color: ${B};
              box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
              overflow: hidden;
            }
            .logo img {
              width: 100%;
              height: 100%;
              object-fit: cover;
              border-radius: 50%;
            }
            .school-info h1 {
              margin: 0;
              font-size: 28px;
              font-weight: bold;
              text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
            }
            .school-info p {
              margin: 8px 0 0 0;
              font-size: 16px;
              opacity: 0.95;
            }
            .title {
              text-align: center;
              font-size: 32px;
              font-weight: bold;
              margin: 35px 0;
              color: #1f2937;
              text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
              position: relative;
            }
            .title::after {
              content: '';
              position: absolute;
              bottom: -10px;
              left: 50%;
              transform: translateX(-50%);
              width: 100px;
              height: 3px;
              background: linear-gradient(90deg, ${B}, ${B}80);
              border-radius: 2px;
            }
            .exam-details {
              background: linear-gradient(135deg, #f8fafc, #e2e8f0);
              padding: 25px;
              border-radius: 12px;
              margin-bottom: 25px;
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 25px;
              border: 1px solid #e2e8f0;
              box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            }
            .detail-item {
              display: flex;
              align-items: center;
              gap: 12px;
              padding: 8px 0;
            }
            .detail-item strong {
              color: #374151;
              min-width: 120px;
              font-weight: 600;
            }
            .detail-item span {
              color: #6b7280;
              font-weight: 500;
            }
            table {
              width: 100%;
              border-collapse: collapse;
              margin: 25px 0;
              background: white;
              box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
              border-radius: 12px;
              overflow: hidden;
              border: 1px solid #e5e7eb;
            }
            th {
              background: ${B};
              color: white;
              padding: 18px 12px;
              text-align: left;
              font-weight: bold;
              font-size: 15px;
              text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
            }
            td {
              padding: 15px 12px;
              border-bottom: 1px solid #e5e7eb;
              font-size: 14px;
              vertical-align: top;
            }
            tr:nth-child(even) {
              background: #f9fafb;
            }
            tr:hover {
              background: #f3f4f6;
            }
            .syllabus-cell {
              max-width: 250px;
              word-wrap: break-word;
              line-height: 1.4;
            }
            .footer {
              margin-top: 50px;
              text-align: center;
              color: #6b7280;
              font-size: 13px;
              border-top: 2px solid #e5e7eb;
              padding-top: 25px;
            }
            .status-badge {
              padding: 6px 16px;
              border-radius: 25px;
              font-size: 12px;
              font-weight: bold;
              text-transform: uppercase;
              letter-spacing: 0.5px;
            }
            .status-scheduled {
              background: #fef3c7;
              color: #92400e;
            }
            .status-completed {
              background: #d1fae5;
              color: #065f46;
            }
            .status-cancelled {
              background: #fee2e2;
              color: #991b1b;
            }
            .print-button {
              position: fixed;
              top: 20px;
              right: 20px;
              background: ${B};
              color: white;
              border: none;
              padding: 12px 24px;
              border-radius: 8px;
              cursor: pointer;
              font-weight: bold;
              box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
              z-index: 1000;
            }
            .print-button:hover {
              opacity: 0.9;
            }
            @media print {
              .print-button {
                display: none;
              }
            }
          </style>
        </head>
        <body>
          <button class="print-button no-print" onclick="window.print()"> Print</button>
          
          <div class="header" style="background: ${B} !important;">
            <div class="logo">
              ${n.logoUrl?`<img src="${n.logoUrl}" alt="Logo" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';"><div style="display:none; width:100%; height:100%; align-items:center; justify-content:center; font-size:24px;"></div>`:'<div style="display:flex; width:100%; height:100%; align-items:center; justify-content:center; font-size:24px;"></div>'}
            </div>
            <div class="school-info">
              <h1>${n.name||"School Name"}</h1>
              <p>${n.schoolCode?`Code: ${n.schoolCode}`:""}</p>
              <p>${n.address||""}</p>
            </div>
          </div>

          <div class="title">EXAM TIME TABLE</div>

          <div class="exam-details">
            <div class="detail-item">
              <strong>Exam Type:</strong>
              <span>${de.examType}</span>
            </div>
            <div class="detail-item">
              <strong>Class:</strong>
              <span>${he}</span>
            </div>
            <div class="detail-item">
              <strong>Status:</strong>
              <span class="status-badge status-${de.status.toLowerCase()}">${de.status}</span>
            </div>
            <div class="detail-item">
              <strong>Generated:</strong>
              <span>${new Date().toLocaleDateString()}</span>
            </div>
          </div>

          <table>
            <thead>
              <tr>
                <th style="background: ${B} !important; color: white !important;">Subject</th>
                <th style="background: ${B} !important; color: white !important;">Date</th>
                <th style="background: ${B} !important; color: white !important;">Start Time</th>
                <th style="background: ${B} !important; color: white !important;">End Time</th>
                <th style="background: ${B} !important; color: white !important;">Duration</th>
                <th style="background: ${B} !important; color: white !important;">Syllabus</th>
              </tr>
            </thead>
            <tbody>
              ${de.subjects.map(R=>`
                <tr>
                  <td><strong>${R.subjectName||"N/A"}</strong></td>
                  <td>${R.date||"N/A"}</td>
                  <td>${R.startTime||"N/A"}</td>
                  <td>${R.endTime||"N/A"}</td>
                  <td>${R.duration||"N/A"}</td>
                  <td class="syllabus-cell">${R.syllabus||"N/A"}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>

          <div class="footer">
            <p><strong>This document was generated by Vidyaastra School Management System</strong></p>
            <p>For any queries, please contact the school administration</p>
            <p>Generated on: ${new Date().toLocaleString()}</p>
          </div>
        </body>
      </html>
    `),se.document.close(),se.focus(),setTimeout(()=>{se.print()},1e3)};return t?a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"text-white p-6 rounded-b-3xl shadow-lg",style:{backgroundColor:Q},children:a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsx("div",{className:"flex justify-between items-center mb-6",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>e(-1),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-2 transition-colors",title:"Back to Exam Management",children:a.jsx(ip,{size:24})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Exam Time Table Download"}),n&&a.jsxs("p",{className:"text-white opacity-90",children:[n.name," ",n.schoolCode&&`(${n.schoolCode})`]})]})]})})})}),a.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[(x||b)&&a.jsxs("div",{className:"p-8 text-center bg-white rounded-lg shadow-md",children:[a.jsx(an,{className:"animate-spin mx-auto mb-4",size:32,style:{color:Q}}),a.jsx("p",{className:"text-gray-600",children:x?"Loading school data...":"Loading classes..."})]}),M&&!x&&!b&&a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ga,{className:"mr-2"}),a.jsx("span",{children:M})]}),a.jsx("button",{onClick:()=>k(""),className:"text-red-500 hover:text-red-700 font-bold",children:""})]}),!x&&!b&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[a.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center",children:[a.jsx(H9,{className:"mr-2",style:{color:Q}}),"Select Class for Time Table"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(de=>{const se=`${de.className||`Class ${de.classNumber||de._id}`}${de.section?` ${de.section}`:""}`.trim();return a.jsx("button",{onClick:()=>m(de),className:`p-4 rounded-lg border-2 transition-all ${h?._id===de._id?"border-opacity-100":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,style:{borderColor:h?._id===de._id?Q:void 0,backgroundColor:h?._id===de._id?`${Q}10`:void 0},children:a.jsxs("div",{className:"text-left",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:se}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[de.section?"Section":"Class"," Details"]})]})},de._id)})})]}),h&&a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[a.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center",children:[a.jsx(Jn,{className:"mr-2",style:{color:Q}}),"Available Exam Time Tables"]}),E?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(an,{className:"animate-spin mx-auto mb-4",size:32,style:{color:Q}}),a.jsx("p",{className:"text-gray-600",children:"Loading exam time tables..."})]}):d.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Jn,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-lg mb-2",children:"No exam time tables found"}),a.jsx("p",{className:"text-sm",children:"No exams have been scheduled for this class yet."})]}):a.jsx("div",{className:"space-y-4",children:d.map(de=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:de.examType}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${de.status==="Scheduled"?"bg-yellow-100 text-yellow-800":de.status==="Completed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:de.status})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-3",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ff,{size:14}),de.subjects?.length||0," subjects"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(es,{size:14}),de.subjects?.reduce((se,he)=>{if(he.duration){const fe=he.duration.match(/(\d+)h\s*(\d+)m/);if(fe)return se+parseInt(fe[1])*60+parseInt(fe[2])}return se},0)||0," minutes total"]})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Class:"})," ",ce(de.classId)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Subjects:"})," ",de.subjects?.map(se=>se.subjectName).join(", ")||"None"]})]})]}),a.jsx("div",{className:"flex gap-2 ml-4",children:a.jsxs("button",{onClick:()=>ee(de),className:"flex items-center gap-2 px-4 py-2 text-white rounded-lg transition-colors",style:{backgroundColor:Q},onMouseEnter:se=>se.target.style.opacity="0.9",onMouseLeave:se=>se.target.style.opacity="1",title:"Print Time Table",children:[a.jsx(ly,{size:16}),"Print"]})})]})},de._id))})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"How to Use This Feature"}),a.jsxs("div",{className:"space-y-2 text-blue-800",children:[a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Select a Class:"})," Choose the class for which you want to download the exam time table"]}),a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Choose Exam:"})," Select from available exam time tables for the selected class"]}),a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Download PDF:"})," Get a professional PDF version with school branding"]}),a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Print:"})," Print the time table directly with proper formatting"]}),a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Professional Format:"})," All downloads include school logo, name, and code"]})]})]})]})]}),P&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-lg text-center",children:[a.jsx(an,{className:"animate-spin mx-auto mb-4",size:48,style:{color:Q}}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Generating PDF"}),a.jsx("p",{className:"text-gray-600",children:"Please wait while we create your exam time table..."})]})})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-md max-w-md",children:[a.jsx(ga,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),a.jsx("div",{className:"text-red-500 text-xl mb-4",children:"School ID not found"}),a.jsx("div",{className:"text-gray-600 mb-4",children:"Please login again to access the exam time table system."}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",style:{backgroundColor:Q},children:"Refresh Page"})]})})},EDe=()=>{const e=ru(),t=localStorage.getItem("schoolId"),[r,n]=C.useState("Unknown School"),[s,i]=C.useState("#2563eb"),[o,l]=C.useState(!1),[c,d]=C.useState(!1),[u,h]=C.useState(null),[m,A]=C.useState(null),[y,x]=C.useState(""),[v,b]=C.useState(""),[j,E]=C.useState(""),[T,P]=C.useState(!1),[U,M]=C.useState(""),[k,Q]=C.useState([]),[z,O]=C.useState([]),[L,V]=C.useState(1),[J]=C.useState(10),ce=localStorage.getItem("schoolLogo"),ee="https://vidyaastra.com/api/results",de="https://vidyaastra.com/api/students?limit=10000&page=1&schoolId="+t,se=`https://vidyaastra.com/api/schools/${t}`,he=ai(Qe=>Qe.classes.classes?.data||[]),fe=ai(Qe=>Qe.classes.loading),ve=ai(Qe=>Qe.classes.error),B=ai(Qe=>Qe.subjects.subjects?.data||[]),R=ai(Qe=>Qe.subjects.loading),Y=ai(Qe=>Qe.subjects.error);C.useEffect(()=>{const Qe=localStorage.getItem("color");Qe&&i(Qe)},[]);const ie=C.useMemo(()=>he.map(Qe=>({_id:Qe._id,className:Qe.className||`Class ${Qe.classNumber||Qe._id}`,section:Qe.section||"",displayName:`${Qe.className||`Class ${Qe.classNumber||Qe._id}`}${Qe.section?` ${Qe.section}`:""}`.trim()})),[he]),ge=C.useMemo(()=>Array.from(new Set(ie.map(Qe=>Qe.className))).sort(),[ie]),ye=C.useMemo(()=>v?Array.from(new Set(ie.filter(Qe=>Qe.className===v&&Qe.section).map(Qe=>Qe.section))).sort():Array.from(new Set(ie.map(Qe=>Qe.section).filter(Boolean))).sort(),[ie,v]),pe=C.useMemo(()=>B.map(Qe=>({_id:Qe._id,name:Qe.SubjectName||Qe.name||Qe.subjectName||"Unnamed Subject"})),[B]),Z="https://vidyaastra.com/api/exam-types";C.useMemo(()=>[],[]);const[le,te]=C.useState([]),[Ne,Fe]=C.useState([]),[be,re]=C.useState(""),[Ce,st]=C.useState(!1),[et,He]=C.useState(!1),[ct,_e]=C.useState(null),[ke,Ze]=C.useState(""),[Pe,ot]=C.useState(null),[Ge,lt]=C.useState(""),[Je,Me]=C.useState(""),Te=C.useMemo(()=>Ge?Array.from(new Set(ie.filter(Qe=>Qe.className===Ge&&Qe.section).map(Qe=>Qe.section))).sort():[],[ie,Ge]),je=(Qe,bt)=>{const It=ie.find(nr=>nr.className===Qe&&(!bt||nr.section===bt));Le(nr=>({...nr,classId:It?._id||""}))},[Ke,Le]=C.useState({examType:"",classId:"",studentId:"",examDate:"",subjects:[{subjectName:"",maxMarks:100,scoredMarks:"",grade:""}]});C.useEffect(()=>{t&&(rt(),Oe(),De())},[t]),C.useEffect(()=>{ve&&M("Failed to load classes: "+ve),Y&&M("Failed to load subjects: "+Y)},[ve,Y]),C.useEffect(()=>{V(1)},[y,v,j]),C.useEffect(()=>{(async()=>{if(t)try{const bt=await fetch(`${Z}?schoolId=${t}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!bt.ok)throw new Error(`Failed to fetch exam types (${bt.status})`);const It=await bt.json(),nr=Array.isArray(It?.data)?It.data:Array.isArray(It)?It:[];Fe(nr),te(nr.map(tr=>tr.exameType||tr.name||tr.examType||tr))}catch(bt){console.error("Error loading exam types:",bt),Fe([]),te([])}})()},[t]);const rt=async()=>{try{const Qe=await fetch(se,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(Qe.ok){const bt=await Qe.json();bt.success&&bt.data?n(bt.data.name||"Unknown School"):n("Unknown School")}else n("Unknown School")}catch(Qe){console.error("Error fetching school name:",Qe),n("Unknown School")}},Oe=async()=>{if(t)try{const Qe=await fetch(`${de}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!Qe.ok)throw new Error(`HTTP error! Status: ${Qe.status}`);const bt=await Qe.json();let It=Array.isArray(bt.students)?bt.students:[];if(!It.length)throw new Error("Invalid students data structure");const nr=It.filter(tr=>tr.schoolId===t||tr.schoolId?._id===t).map(tr=>({...tr,_id:tr._id||tr.id,name:tr.name||tr.fullName||"Unknown",rollNumber:tr.rollNumber||tr.roll||"N/A",schoolId:tr.schoolId}));Q(nr)}catch(Qe){console.error("Error fetching students:",Qe)}},De=async()=>{if(t)try{const Qe=await fetch(`${ee}/results/${t}?limit=10000`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(Qe.ok){const bt=await Qe.json();bt.success?O(bt.data||[]):(O([]),M(bt.message||"Failed to fetch results"))}else O([]),M("Failed to fetch results")}catch(Qe){console.error("Error fetching results:",Qe),O([]),M("Error fetching results: "+Qe.message)}},ut=(Qe,bt)=>{if(!Qe||!bt||bt<=0)return"N/A";const It=Qe/bt*100;return It>=95?"A+":It>=85?"A":It>=75?"B+":It>=65?"B":It>=55?"C+":It>=45?"C":"F"},_t=(Qe,bt)=>{const{name:It,value:nr}=Qe.target;Le(bt!==void 0?tr=>{const vr=[...tr.subjects];if(vr[bt]={...vr[bt],[It]:nr},It==="scoredMarks"||It==="maxMarks"){const yr=parseFloat(vr[bt].scoredMarks)||0,Yr=parseFloat(vr[bt].maxMarks)||1;vr[bt].grade=ut(yr,Yr)}return{...tr,subjects:vr}}:tr=>({...tr,[It]:nr}))},qt=async()=>{const Qe=(be||"").trim();if(!(!Qe||!t))try{He(!0);const bt=await fetch(`${Z}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({exameType:Qe,schoolId:t})}),It=await bt.json();if(!bt.ok||It?.success===!1)throw new Error(It?.message||"Failed to save exam type");const tr=await(await fetch(`${Z}?schoolId=${t}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}})).json(),vr=Array.isArray(tr?.data)?tr.data:Array.isArray(tr)?tr:[];Fe(vr);const yr=vr.map(Yr=>Yr.exameType||Yr.name||Yr.examType||Yr);te(yr),Le(Yr=>({...Yr,examType:Qe})),st(!1),re(""),xr.success("Exam type added")}catch(bt){console.error("Save exam type error:",bt),xr.error(bt.message||"Failed to add exam type")}finally{He(!1)}},Ft=Qe=>{_e(Qe._id),Ze(Qe.exameType||"")},gt=()=>{_e(null),Ze("")},Zt=async Qe=>{const bt=(ke||"").trim();if(bt)try{const It=await fetch(`${Z}/${Qe}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({exameType:bt})}),nr=await It.json();if(!It.ok||nr?.success===!1)throw new Error(nr?.message||"Failed to update exam type");const vr=await(await fetch(`${Z}?schoolId=${t}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}})).json(),yr=Array.isArray(vr?.data)?vr.data:Array.isArray(vr)?vr:[];Fe(yr),te(yr.map(Yr=>Yr.exameType||Yr.name||Yr.examType||Yr)),_e(null),Ze(""),xr.success("Exam type updated")}catch(It){console.error("Update exam type error:",It),xr.error(It.message||"Failed to update exam type")}},$t=async Qe=>{if(confirm("Delete this exam type?"))try{ot(Qe);const bt=await fetch(`${Z}/${Qe}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}),It=await bt.json();if(!bt.ok||It?.success===!1)throw new Error(It?.message||"Failed to delete exam type");const tr=await(await fetch(`${Z}?schoolId=${t}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}})).json(),vr=Array.isArray(tr?.data)?tr.data:Array.isArray(tr)?tr:[];Fe(vr),te(vr.map(yr=>yr.exameType||yr.name||yr.examType||yr)),xr.success("Exam type deleted")}catch(bt){console.error("Delete exam type error:",bt),xr.error(bt.message||"Failed to delete exam type")}finally{ot(null)}},rr=()=>{Le(Qe=>({...Qe,subjects:[...Qe.subjects,{subjectName:"",maxMarks:"",scoredMarks:"",grade:""}]}))},kr=Qe=>{Le(bt=>({...bt,subjects:bt.subjects.filter((It,nr)=>nr!==Qe)}))},Qr=async()=>{if(!t){xr.error("Error: School ID not found. Please login again.");return}M("");try{if(!Ke.examType||!Ke.classId||!Ke.studentId||!Ke.examDate||Ke.subjects.length===0||Ke.subjects.some(It=>!It.subjectName||!It.maxMarks||!It.scoredMarks||parseFloat(It.scoredMarks)>parseFloat(It.maxMarks))){xr.error("Please fill all required fields for each subject and ensure scored marks are not greater than max marks.");return}const Qe={classId:Ke.classId,examType:Ke.examType,date:Ke.examDate,subjects:Ke.subjects.map(It=>({subjectName:It.subjectName,maxMarks:parseFloat(It.maxMarks),scoredMarks:parseFloat(It.scoredMarks),grade:It.grade}))};(m?await ja(m._id,Qe,Ke.studentId):await dn(Qe,Ke.studentId))&&Dn()}catch(Qe){console.error("Submit error:",Qe),M("Failed to submit: "+Qe.message)}},dn=async(Qe,bt)=>{try{P(!0);const nr=await(await fetch(`${ee}/${t}/${bt}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({results:[Qe]})})).json();return nr.success?(xr.success("Result created successfully."),await De(),!0):(M(nr.message||"Failed to create result"),xr.error("Error: "+(nr.message||"Failed to create result")),!1)}catch(It){return M("Error creating result: "+It.message),xr.error("Error creating result: "+It.message),!1}finally{P(!1)}},ja=async(Qe,bt,It)=>{try{P(!0);const tr=await(await fetch(`${ee}/${t}/${It}/${Qe}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({updateFields:bt})})).json();return tr.success?(xr.success("Result updated successfully."),await De(),!0):(M(tr.message||"Failed to update result"),xr.error("Error: "+(tr.message||"Failed to update result")),!1)}catch(nr){return M("Error updating result: "+nr.message),xr.error("Error updating result: "+nr.message),!1}finally{P(!1)}},rn=Qe=>{A(Qe),Le({examType:Qe.examType||"",classId:Qe.classId?._id||Qe.classId||"",studentId:Qe.studentId?._id||Qe.studentId||"",examDate:Qe.date?new Date(Qe.date).toISOString().split("T")[0]:"",subjects:Qe.subjects?.length?Qe.subjects.map(bt=>({subjectName:bt.subjectName||"",maxMarks:bt.maxMarks?.toString()||"",scoredMarks:bt.scoredMarks?.toString()||"",grade:bt.grade||""})):[{subjectName:"",maxMarks:"",scoredMarks:"",grade:""}]}),l(!0)},Vr=async Qe=>{if(confirm("Are you sure you want to delete this item?"))try{P(!0);const It=await(await fetch(`${ee}/${t}/${Qe.studentId._id}/${Qe._id}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).json();It.success?(xr.success("Item deleted successfully."),await De()):(M(It.message||"Failed to delete item"),xr.error("Error: "+(It.message||"Failed to delete item")))}catch(bt){M("Error deleting item: "+bt.message),xr.error("Error deleting item: "+bt.message)}finally{P(!1)}},On=()=>{d(!1),h(null)},Gn=()=>{if(!u||!u.subjects){xr.error("Error: No valid result data available to download.");return}const Qe=new Wn,bt=Qe.internal.pageSize.getWidth(),It=Qe.internal.pageSize.getHeight(),nr=15;let tr=15;const vr=()=>{Qe.setFont("helvetica","bold"),Qe.setFontSize(24),Qe.setTextColor(0,51,102),Qe.text(r.toUpperCase(),bt/2,tr,{align:"center"}),tr+=10,Qe.setFontSize(16),Qe.setTextColor(0,0,0),Qe.text("Examination Result Sheet",bt/2,tr,{align:"center"}),tr+=10,Qe.setDrawColor(0,51,102),Qe.setLineWidth(.5),Qe.line(nr,tr,bt-nr,tr),tr+=10,Qe.setFont("helvetica","normal"),Qe.setFontSize(12),Qe.text(`Student: ${Ct(u.studentId)}`,nr,tr),tr+=7,Qe.text(`Roll Number: ${fr(u.studentId)}`,nr,tr),tr+=7,Qe.text(`Class: ${$e(u.classId)}`,nr,tr),tr+=7,Qe.text(`Exam Type: ${u.examType||"N/A"}`,nr,tr),tr+=10;const Yr=u.subjects.map(Ya=>[Ya.subjectName||"N/A",Ya.maxMarks?.toString()||"0",Ya.scoredMarks?.toString()||"0",Ya.maxMarks>0?`${(Ya.scoredMarks/Ya.maxMarks*100).toFixed(1)}%`:"0%",Ya.grade||"N/A"]),zn=u.subjects.reduce((Ya,mi)=>Ya+(mi.scoredMarks||0),0),Hn=u.subjects.reduce((Ya,mi)=>Ya+(mi.maxMarks||0),0),xa=Hn>0?(zn/Hn*100).toFixed(1):0,Ai=ut(zn,Hn);Ij(Qe,{startY:tr,head:[["Subject","Max Marks","Scored Marks","Percentage","Grade"]],body:Yr,theme:"grid",headStyles:{fillColor:[0,51,102],textColor:[255,255,255],fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]},margin:{left:nr,right:nr},styles:{fontSize:10,cellPadding:3}}),tr=(Qe.lastAutoTable?.finalY||tr)+10,Qe.setFont("helvetica","bold"),Qe.setFontSize(12),Qe.text(`Total Marks: ${zn}/${Hn}`,nr,tr),tr+=7,Qe.text(`Overall Percentage: ${xa}%`,nr,tr),tr+=7,Qe.text(`Overall Grade: ${Ai}`,nr,tr),tr+=10,Qe.setFont("helvetica","italic"),Qe.setFontSize(10),Qe.setTextColor(100),Qe.text(`Generated on: ${new Date().toLocaleDateString()}`,nr,It-30),Qe.text("Authorized by: ____________________",bt-nr-60,It-30),Qe.setDrawColor(0,51,102),Qe.setLineWidth(.2),Qe.line(nr,It-35,bt-nr,It-35)},yr=()=>{const Yr=Ct(u.studentId).replace(/\s+/g,"_"),zn=u.examType||"N_A";Qe.save(`result_${Yr}_${zn}.pdf`)};if(ce)try{const Yr=new Image;Yr.src=ce,Yr.onload=()=>{Qe.addImage(Yr,"PNG",nr,tr,30,30),tr+=35,vr(),yr()},Yr.onerror=()=>{console.warn("Failed to load logo, proceeding without it."),vr(),yr()}}catch(Yr){console.warn("Error adding logo to PDF, proceeding without it:",Yr),vr(),yr()}else vr(),yr()},Dn=()=>{Le({examType:"",classId:"",studentId:"",examDate:"",subjects:[{subjectName:"",maxMarks:"",scoredMarks:"",grade:""}]}),A(null),l(!1),M("")},Ct=Qe=>Qe?.name||"Unknown Student",fr=Qe=>Qe?.rollNumber||"N/A",$e=C.useCallback(Qe=>Qe?`${Qe.className||`Class ${Qe._id}`}${Qe.section?` ${Qe.section}`:""}`.trim():"N/A",[]),pt=Qe=>{const bt=Qe.subjects.reduce((vr,yr)=>vr+(yr.scoredMarks||0),0),It=Qe.subjects.reduce((vr,yr)=>vr+(yr.maxMarks||0),0),nr=It>0?(bt/It*100).toFixed(1):0,tr=ut(bt,It);return{totalScored:bt,totalMax:It,percentage:nr,grade:tr}},ft=z.map(Qe=>({...Qe,className:$e(ie.find(bt=>bt._id===(Qe.classId?._id||Qe.classId))),summary:pt(Qe)})).filter(Qe=>[Qe.examType||"",Qe.className,Ct(Qe.studentId),...Qe.subjects.map(It=>It.subjectName||"")].some(It=>It.toLowerCase().includes(y.toLowerCase()))).filter(Qe=>{if(!v)return!0;const bt=ie.find(tr=>tr._id===(Qe.classId?._id||Qe.classId));if(!bt)return!1;const It=bt?.className,nr=bt?.section;return It===v&&(!j||nr===j)}),mt=Math.ceil(ft.length/J),Re=ft.slice((L-1)*J,L*J),Ee=()=>{L>1&&V(Qe=>Qe-1)},ht=()=>{L<mt&&V(Qe=>Qe+1)},nt=Qe=>{V(Qe)},Et=()=>{b(""),E(""),x(""),V(1)};return t?a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:cr("text-white p-6 rounded-b-3xl shadow-lg"),style:{backgroundColor:s},children:a.jsx("div",{className:"max-w-5xl mx-auto",children:a.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4",children:a.jsxs("div",{className:"mb-4 md:mb-0",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Exam Results Management"}),a.jsxs("div",{className:"text-white text-sm opacity-75 mt-1",children:["School: ",r," | ID: ",t," |"," ",ie.length," classes | ",k.length," students |"," ",pe.length," subjects"]})]})})})}),a.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[U&&a.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg flex items-center space-x-2 max-w-lg",children:[a.jsx(ga,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{className:"block sm:inline text-sm",children:U}),a.jsx("button",{onClick:()=>M(""),className:"ml-auto text-red-700 hover:text-red-900 flex-shrink-0",children:a.jsx(Lr,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Va,{className:"absolute left-3 top-3",style:{color:s}}),a.jsx("input",{type:"text",placeholder:"Search by exam type, student, or subject...",value:y,onChange:Qe=>x(Qe.target.value),className:cr("pl-10 pr-4 py-2 border border-gray-300 rounded-xl w-full","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s}})]}),a.jsxs("select",{value:v,onChange:Qe=>{b(Qe.target.value),E(""),V(1)},className:cr("border border-gray-300 rounded-xl px-4 py-2","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s},children:[a.jsx("option",{value:"",children:"All Classes"}),ge.map(Qe=>a.jsx("option",{value:Qe,children:Qe},Qe))]}),a.jsxs("select",{value:j,onChange:Qe=>{E(Qe.target.value),V(1)},className:cr("border border-gray-300 rounded-xl px-4 py-2",!v&&"opacity-50 cursor-not-allowed"),style:{focusRingColor:s},disabled:!v,children:[a.jsx("option",{value:"",children:v&&ye.length===0?"No sections available":"All Sections"}),ye.map(Qe=>a.jsx("option",{value:Qe,children:Qe},Qe))]}),a.jsx("button",{onClick:Et,className:cr("px-4 py-2 border border-gray-300 rounded-xl text-gray-700","hover:bg-gray-50 transition-all duration-200"),style:{borderColor:s},children:"Reset Filters"}),a.jsxs("button",{onClick:()=>l(!0),className:cr("text-white px-6 py-2 rounded-xl flex items-center font-semibold","hover:opacity-90 transition-all duration-200","disabled:opacity-50"),style:{backgroundColor:s},title:T||fe||R?"Loading...":ie.length===0?"No classes available":pe.length===0?"No subjects available":k.length===0?"No students available":"Add Result",children:[T||fe||R?a.jsx(an,{className:"mr-2 animate-spin",style:{color:"white"}}):a.jsx(Si,{className:"mr-2",style:{color:"white"}}),"Add Result"]}),a.jsxs("button",{onClick:()=>{re(""),st(!0)},className:cr("text-white px-6 py-2 rounded-xl flex items-center font-semibold","hover:opacity-90 transition-all duration-200","disabled:opacity-50"),style:{backgroundColor:s},disabled:T,title:"Add Exam Type",children:[a.jsx(Si,{className:"mr-2",style:{color:"white"}}),"Add Exam Type"]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden",children:[T&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(an,{className:"animate-spin mx-auto mb-4",size:32,style:{color:s}}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]}),!T&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Exam Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Marks"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Percentage"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Overall Grade"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Re.map(Qe=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:Qe.examType||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:Qe.className})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[Ct(Qe.studentId)," (",fr(Qe.studentId),")"]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[Qe.summary.totalScored,"/",Qe.summary.totalMax]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[Qe.summary.percentage,"%"]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full text-white",style:{backgroundColor:Qe.summary.grade==="A+"?"#16a34a":Qe.summary.grade==="A"?"#22c55e":Qe.summary.grade==="B+"?s:Qe.summary.grade==="B"?"#eab308":Qe.summary.grade==="C+"?"#f97316":Qe.summary.grade==="C"?"#ef4444":"#dc2626"},children:Qe.summary.grade})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[a.jsx("button",{onClick:()=>{e("/result/certificate",{state:{result:Qe,schoolName:r,schoolLogo:ce,themeColor:s}})},className:"p-2 hover:bg-gray-100 rounded-full transition-colors",disabled:T,title:"Open Certificate",style:{color:s},children:a.jsx(Hi,{})}),a.jsx("button",{onClick:()=>rn(Qe),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",disabled:T,title:"Edit",style:{color:s},children:a.jsx(_u,{})}),a.jsx("button",{onClick:()=>Vr(Qe),className:"p-2 hover:bg-gray-100 rounded-full transition-colors text-red-500 hover:text-red-700",disabled:T,title:"Delete",children:a.jsx(si,{})})]})]},Qe._id||Qe.id))})]})}),!T&&ft.length>0&&a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center px-6 py-4 border-t border-gray-200",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-2 sm:mb-0",children:["Page ",L," of ",mt]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:Ee,disabled:L===1,className:cr("px-4 py-2 bg-gray-100 text-gray-700 rounded-lg","hover:bg-gray-200 disabled:opacity-50 transition-colors"),children:a.jsx(fc,{})}),[...Array(mt)].map((Qe,bt)=>{const It=bt+1;return a.jsx("button",{onClick:()=>nt(It),className:cr("px-3 py-1 rounded-lg border border-gray-300",L===It?"text-white":"hover:bg-gray-100"),style:{backgroundColor:L===It?s:"transparent"},children:It},It)}),a.jsx("button",{onClick:ht,disabled:L===mt,className:cr("px-4 py-2 bg-gray-100 text-gray-700 rounded-lg","hover:bg-gray-200 disabled:opacity-50 transition-colors"),children:a.jsx(Al,{})})]})]}),!T&&ft.length===0&&a.jsxs("div",{className:"p-8 text-center text-gray-500",children:[a.jsx("div",{className:"text-lg mb-2",children:"No results found"}),a.jsx("div",{className:"text-sm",children:y||v||j?"Try adjusting your search terms or filters":"Click 'Add Result' to create your first entry"})]})]})]})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[a.jsxs("div",{className:cr("text-white p-6 rounded-t-2xl flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:s},children:[a.jsx("h2",{className:"text-xl font-bold",children:m?"Edit Result":"Add Result"}),a.jsx("button",{onClick:Dn,className:"flex items-center justify-center w-8 h-8 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:a.jsx(Lr,{size:24,style:{color:"white"}})})]}),a.jsxs("div",{className:"p-6",children:[(fe||R)&&a.jsxs("div",{className:"text-center py-4",children:[a.jsx(an,{className:"w-6 h-6 mx-auto animate-spin mb-2",style:{color:s}}),a.jsx("p",{className:"text-sm text-gray-600",children:"Loading classes and subjects..."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("select",{name:"examType",value:Ke.examType,onChange:_t,className:cr("w-full px-4 py-3 border border-gray-300 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s},required:!0,children:[a.jsx("option",{value:"",children:"Select Exam Type"}),le.map(Qe=>a.jsx("option",{value:Qe,children:Qe},Qe))]}),a.jsxs("select",{value:Ge,onChange:Qe=>{const bt=Qe.target.value;lt(bt),Me(""),je(bt,"")},className:cr("w-full px-4 py-3 border border-gray-300 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s},disabled:fe,required:!0,children:[a.jsx("option",{value:"",children:"Select Class"}),ge.length===0?a.jsx("option",{value:"",disabled:!0,children:"No classes available"}):ge.map(Qe=>a.jsx("option",{value:Qe,children:Qe},Qe))]}),a.jsxs("select",{value:Je,onChange:Qe=>{const bt=Qe.target.value;Me(bt),je(Ge,bt)},className:cr("w-full px-4 py-3 border border-gray-300 rounded-xl",!Ge&&"opacity-50 cursor-not-allowed"),style:{focusRingColor:s},disabled:!Ge,children:[a.jsx("option",{value:"",children:Ge&&Te.length===0?"No sections available":"Select Section"}),Te.map(Qe=>a.jsx("option",{value:Qe,children:Qe},Qe))]}),a.jsxs("select",{name:"studentId",value:Ke.studentId,onChange:_t,className:cr("w-full px-4 py-3 border border-gray-300 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s},disabled:!Ke.classId,required:!0,children:[a.jsx("option",{value:"",children:"Select Student"}),k.length===0?a.jsx("option",{value:"",disabled:!0,children:"No students available"}):k?.filter(Qe=>{const bt=Qe.classId?.className,It=Qe.classId?.section;return Ge&&Je?bt===Ge&&It===Je:Ge?bt===Ge:!0}).map(Qe=>a.jsxs("option",{value:Qe._id,children:[Qe.name," (",Qe.rollNumber,")"]},Qe._id))]}),a.jsx("input",{type:"date",name:"examDate",value:Ke.examDate,onChange:_t,className:cr("w-full px-4 py-3 border border-gray-300 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s},required:!0}),a.jsxs("div",{className:"space-y-4",children:[Ke.subjects.map((Qe,bt)=>a.jsxs("div",{className:"border p-4 rounded-xl relative",children:[a.jsx("button",{type:"button",onClick:()=>kr(bt),className:"absolute top-2 right-2 text-red-500 hover:text-red-700",disabled:Ke.subjects.length===1,children:a.jsx(Bre,{})}),a.jsxs("select",{name:"subjectName",value:Qe.subjectName,onChange:It=>_t(It,bt),className:cr("w-full px-4 py-3 border border-gray-300 rounded-xl mb-2","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s},required:!0,children:[a.jsx("option",{value:"",children:"Select Subject"}),pe.length===0?a.jsx("option",{value:"",disabled:!0,children:"No subjects available"}):pe.map(It=>a.jsx("option",{value:It.name,children:It.name},It._id))]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("input",{type:"number",name:"scoredMarks",placeholder:"Scored Marks",value:Qe.scoredMarks,onChange:It=>_t(It,bt),className:cr("px-4 py-3 border border-gray-300 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s},required:!0,min:"0",step:"0.1"}),a.jsx("input",{type:"number",name:"maxMarks",placeholder:"Max Marks",value:Qe.maxMarks,onChange:It=>_t(It,bt),className:cr("px-4 py-3 border border-gray-300 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s},required:!0,min:"1",step:"0.1"})]}),a.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Grade: ",Qe.grade||"N/A"]})]},bt)),a.jsxs("button",{type:"button",onClick:rr,className:"flex items-center text-white px-4 py-2 rounded-xl font-semibold hover:opacity-90 transition-all duration-200",style:{backgroundColor:s},children:[a.jsx(Si,{className:"mr-2",style:{color:"white"}}),"Add Subject"]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200",children:[a.jsx("button",{onClick:Dn,className:cr("flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-xl font-semibold","hover:bg-gray-50 transition-colors disabled:opacity-50"),disabled:T,children:"Cancel"}),a.jsx("button",{onClick:Qr,className:cr("flex-1 py-3 px-6 text-white rounded-xl font-semibold","hover:opacity-90 transition-all duration-200 flex items-center justify-center space-x-2","disabled:opacity-50"),style:{backgroundColor:s},disabled:T||fe||R||!Ke.examType||!Ke.classId||!Ke.studentId||Ke.subjects.length===0||Ke.subjects.some(Qe=>!Qe.subjectName||!Qe.maxMarks||!Qe.scoredMarks),children:T?a.jsxs(a.Fragment,{children:[a.jsx(an,{className:"w-4 h-4 animate-spin",style:{color:"white"}}),a.jsx("span",{children:m?"Updating...":"Saving..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(td,{className:"w-4 h-4",style:{color:"white"}}),a.jsx("span",{children:m?"Update":"Save"})]})})]})]})]})}),c&&u&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl",children:[a.jsxs("div",{className:cr("text-white p-6 rounded-t-2xl flex justify-between items-center sticky top-0 z-10"),style:{backgroundColor:s},children:[a.jsx("h2",{className:"text-xl font-bold",children:"Result Sheet"}),a.jsx("button",{onClick:On,className:"flex items-center justify-center w-8 h-8 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:a.jsx(Lr,{size:24,style:{color:"white"}})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[ce&&a.jsx("img",{src:ce,alt:"School Logo",className:"h-16 mx-auto mb-4"}),a.jsx("h3",{className:"text-3xl font-bold text-gray-800 uppercase",children:r}),a.jsx("p",{className:"text-lg font-semibold text-gray-600",children:"Examination Result Sheet"})]}),a.jsxs("div",{className:"border-t border-b border-gray-300 py-4 mb-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-semibold text-gray-700",children:"Student:"}),a.jsx("span",{className:"text-gray-900",children:Ct(u.studentId)})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-semibold text-gray-700",children:"Roll Number:"}),a.jsx("span",{className:"text-gray-900",children:fr(u.studentId)})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-semibold text-gray-700",children:"Class:"}),a.jsx("span",{className:"text-gray-900",children:$e(u.classId)})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-semibold text-gray-700",children:"Exam Type:"}),a.jsx("span",{className:"text-gray-900",children:u.examType||"N/A"})]})]}),a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100",children:[a.jsx("th",{className:"border p-2 text-left text-sm font-semibold text-gray-700",children:"Subject"}),a.jsx("th",{className:"border p-2 text-left text-sm font-semibold text-gray-700",children:"Max Marks"}),a.jsx("th",{className:"border p-2 text-left text-sm font-semibold text-gray-700",children:"Scored Marks"}),a.jsx("th",{className:"border p-2 text-left text-sm font-semibold text-gray-700",children:"Percentage"}),a.jsx("th",{className:"border p-2 text-left text-sm font-semibold text-gray-700",children:"Grade"})]})}),a.jsx("tbody",{children:u.subjects.map((Qe,bt)=>a.jsxs("tr",{className:bt%2===0?"bg-gray-50":"bg-white",children:[a.jsx("td",{className:"border p-2 text-sm text-gray-900",children:Qe.subjectName}),a.jsx("td",{className:"border p-2 text-sm text-gray-900",children:Qe.maxMarks}),a.jsx("td",{className:"border p-2 text-sm text-gray-900",children:Qe.scoredMarks}),a.jsxs("td",{className:"border p-2 text-sm text-gray-900",children:[(Qe.scoredMarks/Qe.maxMarks*100).toFixed(1),"%"]}),a.jsx("td",{className:"border p-2 text-sm",children:a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full text-white",style:{backgroundColor:Qe.grade==="A+"?"#16a34a":Qe.grade==="A"?"#22c55e":Qe.grade==="B+"?s:Qe.grade==="B"?"#eab308":Qe.grade==="C+"?"#f97316":Qe.grade==="C"?"#ef4444":"#dc2626"},children:Qe.grade})})]},bt))}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"bg-gray-100 font-semibold",children:[a.jsx("td",{className:"border p-2 text-sm text-gray-900",children:"Total"}),a.jsx("td",{className:"border p-2 text-sm text-gray-900",children:u.subjects.reduce((Qe,bt)=>Qe+bt.maxMarks,0)}),a.jsx("td",{className:"border p-2 text-sm text-gray-900",children:u.subjects.reduce((Qe,bt)=>Qe+bt.scoredMarks,0)}),a.jsxs("td",{className:"border p-2 text-sm text-gray-900",children:[pt(u).percentage,"%"]}),a.jsx("td",{className:"border p-2 text-sm",children:a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full text-white",style:{backgroundColor:pt(u).grade==="A+"?"#16a34a":pt(u).grade==="A"?"#22c55e":pt(u).grade==="B+"?s:pt(u).grade==="B"?"#eab308":pt(u).grade==="C+"?"#f97316":pt(u).grade==="C"?"#ef4444":"#dc2626"},children:pt(u).grade})})]})})]})]}),a.jsxs("div",{className:"text-sm text-gray-500 italic mb-4",children:[a.jsxs("p",{children:["Generated on: ",new Date().toLocaleDateString()]}),a.jsx("p",{children:"Authorized by: ____________________"})]}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsxs("button",{onClick:Gn,className:cr("text-white px-6 py-2 rounded-xl flex items-center font-semibold","hover:opacity-90 transition-all duration-200"),style:{backgroundColor:s},children:[a.jsx(td,{className:"mr-2",style:{color:"white"}}),"Download PDF"]})})]})]})}),Ce&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl",children:[a.jsxs("div",{className:cr("text-white p-6 rounded-t-2xl flex justify-between items-center"),style:{backgroundColor:s},children:[a.jsx("h2",{className:"text-xl font-bold",children:"Add Exam Type"}),a.jsx("button",{onClick:()=>st(!1),className:"flex items-center justify-center w-8 h-8 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:a.jsx(Lr,{size:24,style:{color:"white"}})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsx("input",{type:"text",placeholder:"Exam type name (e.g., Midterm)",value:be,onChange:Qe=>re(Qe.target.value),className:cr("w-full px-4 py-3 border border-gray-300 rounded-xl","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s}}),a.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-xl",children:Ne.length===0?a.jsx("div",{className:"p-4 text-sm text-gray-500",children:"No exam types"}):a.jsx("ul",{className:"divide-y",children:Ne.map(Qe=>a.jsx("li",{className:"flex items-center justify-between p-3",children:ct===Qe._id?a.jsxs("div",{className:"flex-1 flex gap-2 items-center",children:[a.jsx("input",{type:"text",value:ke,onChange:bt=>Ze(bt.target.value),className:cr("w-full px-3 py-2 border border-gray-300 rounded-lg","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:border-transparent"),style:{focusRingColor:s}}),a.jsx("button",{className:cr("px-3 py-2 text-white rounded-lg font-semibold","hover:opacity-90 transition-all duration-200"),style:{backgroundColor:s},onClick:()=>Zt(Qe._id),children:"Save"}),a.jsx("button",{className:"px-3 py-2 border border-gray-300 rounded-lg",onClick:gt,children:"Cancel"})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-sm text-gray-900",children:Qe.exameType}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded-lg text-sm",onClick:()=>Ft(Qe),children:"Edit"}),a.jsx("button",{className:"px-3 py-1 border border-red-300 text-red-600 rounded-lg text-sm",onClick:()=>$t(Qe._id),disabled:Pe===Qe._id,children:Pe===Qe._id?"Deleting...":"Delete"})]})]})},Qe._id))})}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>st(!1),className:cr("py-2 px-4 border border-gray-300 text-gray-700 rounded-xl font-semibold","hover:bg-gray-50 transition-colors disabled:opacity-50"),disabled:et,children:"Cancel"}),a.jsxs("button",{onClick:qt,className:cr("py-2 px-4 text-white rounded-xl font-semibold","hover:opacity-90 transition-all duration-200 flex items-center gap-2","disabled:opacity-50"),style:{backgroundColor:s},disabled:et||!be.trim(),children:[et&&a.jsx(an,{className:"w-4 h-4 animate-spin",style:{color:"white"}}),"Save"]})]})]})]})}),a.jsx(wj,{})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-md max-w-md",children:[a.jsx(ga,{className:"w-16 h-16 mx-auto mb-4",style:{color:s}}),a.jsx("div",{className:"text-red-500 text-xl mb-4",children:"School ID not found"}),a.jsx("div",{className:"text-gray-600 mb-4",children:"Please login again to access the exam system."}),a.jsx("button",{onClick:()=>window.location.reload(),className:cr("px-4 py-2 text-white rounded-xl font-semibold hover:opacity-90 transition-all duration-200","disabled:opacity-50"),style:{backgroundColor:s},children:"Refresh Page"})]})})},BDe=()=>{const e=ru(),{state:t}=Dd(),{result:r,schoolName:n="Unknown School",schoolLogo:s,themeColor:i="#2563eb"}=t||{},o=C.useRef(null),[l,c]=C.useState(i);localStorage.getItem("schoolId"),C.useEffect(()=>{const A=localStorage.getItem("color");A&&c(A)},[]);const d=C.useMemo(()=>{if(!r?.subjects?.length)return{totalMax:0,totalScored:0,percentage:0};const A=r.subjects.reduce((v,b)=>v+(Number(b.maxMarks)||0),0),y=r.subjects.reduce((v,b)=>v+(Number(b.scoredMarks)||0),0),x=A>0?(y/A*100).toFixed(1):0;return{totalMax:A,totalScored:y,percentage:x}},[r]),u=()=>{setTimeout(()=>{window.print()},100)},h=async A=>{try{if(A.startsWith("/"))return A;const y=await fetch(A,{mode:"cors",headers:{"X-Requested-With":"XMLHttpRequest"}});if(!y.ok)throw new Error(`Failed to fetch image: ${y.status}`);const x=await y.blob();return new Promise((v,b)=>{const j=new FileReader;j.onload=()=>v(j.result),j.onerror=b,j.readAsDataURL(x)})}catch(y){return console.error("Error converting image to base64:",y),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg=="}},m=async()=>{if(!r)return;const A=new Wn({unit:"pt",format:"a4"}),y=A.internal.pageSize.getWidth(),x=A.internal.pageSize.getHeight();let v=60;const j=(V=>{const J=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(V);return J?[parseInt(J[1],16),parseInt(J[2],16),parseInt(J[3],16)]:[37,99,235]})(l);A.setDrawColor(...j),A.setLineWidth(3),A.rect(20,20,y-40,x-40),A.setDrawColor(...j.map(V=>Math.min(V+50,255))),A.setLineWidth(1),A.rect(35,35,y-70,x-70),A.setFont("helvetica","bold"),A.setTextColor(240,240,245),A.setFontSize(50);const E=(n||"CERTIFICATE").toUpperCase();A.text(E,y/2,x/2,{align:"center",angle:-15,renderingMode:"fillThenStroke"});const T=V=>`https://vidyaastra.com/proxy-image?url=${encodeURIComponent(V)}`;let P=null;if(s){const V=T(s);if(P=await h(V),P&&P!=="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg==")try{A.addImage(P,"PNG",y/2-30,v,60,60),v+=70}catch(J){console.error("Error adding logo to PDF:",J),A.setFont("helvetica","normal"),A.setFontSize(12),A.setTextColor(100,100,100),A.text("School Logo Unavailable",y/2,v+30,{align:"center"}),v+=70}else A.setFont("helvetica","normal"),A.setFontSize(12),A.setTextColor(100,100,100),A.text("School Logo Unavailable",y/2,v+30,{align:"center"}),v+=70}else v+=20;A.setFont("times","bold"),A.setTextColor(30,30,30),A.setFontSize(22),A.text(n.toUpperCase(),y/2,v,{align:"center"}),v+=25,A.setFontSize(14),A.setTextColor(80,80,80),A.text("CERTIFICATE OF ACADEMIC ACHIEVEMENT",y/2,v,{align:"center"}),v+=35,A.setDrawColor(...j),A.setLineWidth(2),A.line(100,v,y-100,v),v+=25,A.setFont("times","normal"),A.setTextColor(60,60,60),A.setFontSize(12),A.text("This is to certify that",y/2,v,{align:"center"}),v+=25,A.setFont("times","bold"),A.setTextColor(...j),A.setFontSize(18),A.text(r.studentId?.name||"N/A",y/2,v,{align:"center"}),v+=30,A.setFont("times","normal"),A.setFontSize(10),A.setTextColor(80,80,80),[`Roll No: ${r.studentId?.rollNumber||"N/A"} | Class: ${(r.classId?.className||"")+" "+(r.classId?.section||"")}`.trim(),`Examination: ${r.examType||"N/A"}${r.date?` | Date: ${new Date(r.date).toLocaleDateString()}`:""}`].forEach(V=>{A.text(V,y/2,v,{align:"center"}),v+=15}),v+=15;const M=(r.subjects||[]).map(V=>[V.subjectName||"",String(V.maxMarks||0),String(V.scoredMarks||0),(V.maxMarks>0?(V.scoredMarks/V.maxMarks*100).toFixed(1):"0")+"%",V.grade||""]);Ij(A,{startY:v,head:[["Subject","Max","Score","%","Grade"]],body:M,styles:{fontSize:r.subjects.length>10?8:9,cellPadding:4,halign:"center",font:"times"},headStyles:{fillColor:j,textColor:255,fontSize:10,fontStyle:"bold"},alternateRowStyles:{fillColor:[248,249,250]},margin:{left:80,right:80},theme:"grid",didDrawPage:V=>{V.pageCount>1&&(A.setFont("times","normal"),A.setFontSize(8),A.setTextColor(150,150,150),A.text(`Page ${V.pageCount}`,y-50,x-20,{align:"right"}),A.text(n.toUpperCase(),50,20,{align:"left"}))}});let k=(A.lastAutoTable?.finalY||v)+20;A.setFont("times","bold"),A.setFontSize(12),A.setTextColor(30,30,30),A.text(`Total: ${d.totalScored}/${d.totalMax} | Overall: ${d.percentage}%`,y/2,k,{align:"center"}),k+=25,A.setFont("times","normal"),A.setFontSize(11),A.setTextColor(60,60,60),A.text("has successfully completed the examination with the above results.",y/2,k,{align:"center"}),k+=40,A.setFont("times","normal"),A.setFontSize(9),A.setTextColor(100,100,100);const Q=120,z=y-200;A.line(Q,k,Q+100,k),A.line(z,k,z+100,k),k+=12,A.text("Class Teacher",Q+50,k,{align:"center"}),A.text("Principal",z+50,k,{align:"center"}),k+=30,A.setFontSize(8),A.setTextColor(150,150,150),A.text(`Generated on: ${new Date().toLocaleDateString()}`,y/2,k,{align:"center"});const O=(r.studentId?.name||"student").replace(/\s+/g,"_"),L=(r.examType||"Exam").replace(/\s+/g,"_");A.save(`Certificate_${O}_${L}.pdf`)};return r?a.jsxs(a.Fragment,{children:[a.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),a.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),a.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Times+New+Roman&display=swap",rel:"stylesheet"}),a.jsx("style",{jsx:!0,children:`
        @media print {
          * {
            box-sizing: border-box;
          }
          body {
            margin: 0;
            padding: 0;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
          }
          body * {
            visibility: hidden;
          }
          .printable-certificate,
          .printable-certificate * {
            visibility: visible;
          }
          .printable-certificate {
            position: absolute;
            top: 0;
            left: 0;
            width: 210mm;
            height: 297mm;
            margin: 0;
            padding: 10mm;
            background: white;
            page-break-inside: avoid;
            page-break-after: always;
            overflow: hidden;
          }
          .no-print {
            display: none !important;
          }
          @page {
            size: A4 portrait;
            margin: 0mm;
          }
          .printable-certificate .absolute {
            position: absolute !important;
          }
          .printable-certificate .p-12 {
            padding: 1rem !important;
          }
          .printable-certificate .p-8 {
            padding: 0.5rem !important;
          }
          .printable-certificate .mb-8 {
            margin-bottom: 0.8rem !important;
          }
          .printable-certificate .mb-6 {
            margin-bottom: 0.6rem !important;
          }
          .printable-certificate .text-4xl {
            font-size: 1.6rem !important;
          }
          .printable-certificate .text-3xl {
            font-size: 1.3rem !important;
          }
          .printable-certificate .text-xl {
            font-size: 1rem !important;
          }
          .printable-certificate .h-20 {
            height: 2.5rem !important;
          }
          .printable-certificate .w-20 {
            width: 2.5rem !important;
          }
          .printable-certificate table {
            font-size: ${r.subjects.length>10?"0.8rem":"0.9rem"} !important;
          }
          .certificate-title {
            font-family: 'Playfair Display', serif !important;
          }
          .certificate-text {
            font-family: 'Times New Roman', Times, serif !important;
          }
          .second-page-header {
            font-family: 'Times New Roman', Times, serif;
            font-size: 8pt;
            color: #969696;
            position: absolute;
            top: 20pt;
            left: 50pt;
          }
          .second-page-footer {
            font-family: 'Times New Roman', Times, serif;
            font-size: 8pt;
            color: #969696;
            position: absolute;
            bottom: 20pt;
            right: 50pt;
          }
        }
      `}),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:a.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6 no-print",children:[a.jsxs("button",{onClick:()=>e(-1),className:"inline-flex items-center px-4 py-2 rounded-lg border border-gray-300 bg-white hover:bg-gray-50 shadow-sm transition-colors",children:[a.jsx(ip,{className:"mr-2"})," Back"]}),a.jsxs("div",{className:"space-x-3",children:[a.jsxs("button",{onClick:u,className:"inline-flex items-center px-4 py-2 rounded-lg text-white shadow-sm transition-all hover:shadow-md",style:{backgroundColor:l},children:[a.jsx(ly,{className:"mr-2"})," Print Certificate"]}),a.jsxs("button",{onClick:m,className:"inline-flex items-center px-4 py-2 rounded-lg text-white shadow-sm transition-all hover:shadow-md",style:{backgroundColor:l},children:[a.jsx(xs,{className:"mr-2"})," Download PDF"]})]})]}),a.jsx("div",{ref:o,className:"printable-certificate bg-white shadow-2xl rounded-lg overflow-hidden",style:{width:"210mm",minHeight:"297mm",boxSizing:"border-box"},children:a.jsxs("div",{className:"relative p-12",children:[a.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-10 pointer-events-none select-none overflow-hidden",children:s?a.jsx("img",{src:s,alt:"watermark",className:"max-w-md max-h-md transform rotate-[-15deg] opacity-50",style:{filter:"grayscale(100%)"}}):a.jsx("div",{className:"text-7xl certificate-title text-gray-800 rotate-[-15deg] select-none opacity-50",children:n.toUpperCase()})}),a.jsx("div",{className:"border-4 rounded-lg p-8 relative",style:{borderColor:l,background:`linear-gradient(180deg, #ffffff, ${l}10)`},children:a.jsxs("div",{className:"border-2 rounded p-8",style:{borderColor:l+"60",background:`linear-gradient(45deg, ${l}05, #ffffff)`},children:[a.jsx("div",{className:"absolute top-4 left-4 h-6 w-6 border-t-2 border-l-2",style:{borderColor:l}}),a.jsx("div",{className:"absolute top-4 right-4 h-6 w-6 border-t-2 border-r-2",style:{borderColor:l}}),a.jsx("div",{className:"absolute bottom-4 left-4 h-6 w-6 border-b-2 border-l-2",style:{borderColor:l}}),a.jsx("div",{className:"absolute bottom-4 right-4 h-6 w-6 border-b-2 border-r-2",style:{borderColor:l}}),a.jsxs("div",{className:"text-center mb-8",children:[s&&a.jsx("div",{className:"mb-6",children:a.jsx("img",{src:s,alt:"School Logo",className:"h-20 w-20 mx-auto object-contain shadow-sm"})}),a.jsx("h1",{className:"text-4xl certificate-title font-bold tracking-wide mb-2 text-gray-800",children:n.toUpperCase()}),a.jsx("div",{className:"h-1 w-32 mx-auto mb-4",style:{backgroundColor:l}}),a.jsx("p",{className:"text-xl certificate-text text-gray-600 font-semibold",children:"CERTIFICATE OF ACADEMIC ACHIEVEMENT"})]}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("p",{className:"text-lg certificate-text text-gray-700 mb-4",children:"This is to certify that"}),a.jsx("h2",{className:"text-3xl certificate-title font-bold mb-6 text-gray-800",style:{color:l},children:r.studentId?.name}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-2xl mx-auto mb-8 text-left",children:[a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg shadow-sm",children:[a.jsx("p",{className:"text-sm certificate-text text-gray-600 mb-1",children:"Student Name"}),a.jsx("p",{className:"font-semibold certificate-text text-gray-800",children:r.studentId?.name})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg shadow-sm",children:[a.jsx("p",{className:"text-sm certificate-text text-gray-600 mb-1",children:"Roll Number"}),a.jsx("p",{className:"font-semibold certificate-text text-gray-800",children:r.studentId?.rollNumber})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg shadow-sm",children:[a.jsx("p",{className:"text-sm certificate-text text-gray-600 mb-1",children:"Class"}),a.jsx("p",{className:"font-semibold certificate-text text-gray-800",children:`${r.classId?.className||""} ${r.classId?.section||""}`.trim()})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg shadow-sm",children:[a.jsx("p",{className:"text-sm certificate-text text-gray-600 mb-1",children:"Examination"}),a.jsx("p",{className:"font-semibold certificate-text text-gray-800",children:r.examType})]}),r.date&&a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg shadow-sm col-span-2",children:[a.jsx("p",{className:"text-sm certificate-text text-gray-600 mb-1",children:"Examination Date"}),a.jsx("p",{className:"font-semibold certificate-text text-gray-800",children:new Date(r.date).toLocaleDateString()})]})]})]}),a.jsx("div",{className:"overflow-x-auto mb-8",children:a.jsxs("table",{className:"w-full border-collapse border border-gray-200 rounded-lg overflow-hidden shadow-sm text-sm certificate-text",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{background:`linear-gradient(90deg, ${l}, ${l}cc)`},children:[a.jsx("th",{className:"border border-gray-200 px-4 py-2 text-white font-semibold text-sm",children:"Subject"}),a.jsx("th",{className:"border border-gray-200 px-4 py-2 text-white font-semibold text-sm",children:"Maximum Marks"}),a.jsx("th",{className:"border border-gray-200 px-4 py-2 text-white font-semibold text-sm",children:"Marks Obtained"}),a.jsx("th",{className:"border border-gray-200 px-4 py-2 text-white font-semibold text-sm",children:"Percentage"}),a.jsx("th",{className:"border border-gray-200 px-4 py-2 text-white font-semibold text-sm",children:"Grade"})]})}),a.jsx("tbody",{children:(r.subjects||[]).map((A,y)=>a.jsxs("tr",{className:`${y%2===0?"bg-white":"bg-gray-50/50"} hover:bg-gray-100 transition-colors`,children:[a.jsx("td",{className:"border border-gray-200 px-4 py-2 text-gray-800 font-medium",children:A.subjectName}),a.jsx("td",{className:"border border-gray-200 px-4 py-2 text-center",children:A.maxMarks}),a.jsx("td",{className:"border border-gray-200 px-4 py-2 text-center font-semibold",children:A.scoredMarks}),a.jsxs("td",{className:"border border-gray-200 px-4 py-2 text-center",children:[A.maxMarks?(A.scoredMarks/A.maxMarks*100).toFixed(1):"0","%"]}),a.jsx("td",{className:"border border-gray-200 px-4 py-2 text-center",children:a.jsx("span",{className:"px-3 py-1 rounded-full text-white font-semibold text-sm",style:{backgroundColor:l},children:A.grade})})]},y))}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"bg-gray-50 font-bold",children:[a.jsx("td",{className:"border border-gray-200 px-4 py-2 text-gray-800",children:"TOTAL"}),a.jsx("td",{className:"border border-gray-200 px-4 py-2 text-center",children:d.totalMax}),a.jsx("td",{className:"border border-gray-200 px-4 py-2 text-center",children:d.totalScored}),a.jsxs("td",{className:"border border-gray-200 px-4 py-2 text-center text-lg",style:{color:l},children:[d.percentage,"%"]}),a.jsx("td",{className:"border border-gray-200 px-4 py-2"})]})})]})}),a.jsx("div",{className:"text-center mb-10",children:a.jsx("p",{className:"text-lg certificate-text text-gray-700",children:"has successfully completed the examination and achieved the above results."})}),a.jsxs("div",{className:"flex justify-between items-end pt-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-48 h-px bg-gray-400 mb-2"}),a.jsx("p",{className:"text-sm certificate-text text-gray-600 font-medium",children:"Class Teacher"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{background:`radial-gradient(circle, ${l}40, ${l}20)`,boxShadow:`0 4px 8px ${l}40`},children:a.jsx("div",{className:"w-12 h-12 rounded-full",style:{background:`linear-gradient(45deg, ${l}, ${l}cc)`,boxShadow:`inset 0 2px 4px ${l}80`}})}),a.jsx("p",{className:"text-sm certificate-text text-gray-500",children:"Official Seal"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-48 h-px bg-gray-400 mb-2"}),a.jsx("p",{className:"text-sm certificate-text text-gray-600 font-medium",children:"Principal"})]})]}),a.jsxs("div",{className:"text-center mt-8 text-sm text-gray-500 certificate-text",children:["Generated on: ",new Date().toLocaleDateString()]})]})})]})})]})})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:a.jsxs("div",{className:"bg-white shadow rounded-xl p-6",children:[a.jsx("p",{className:"mb-4",children:"No result selected."}),a.jsx("button",{onClick:()=>e(-1),className:"px-4 py-2 bg-gray-800 text-white rounded-lg",children:"Go Back"})]})})},TDe="https://vidyaastra.com/api/schools",_De="https://vidyaastra.com/api/fee/all-unfiltered",FDe="https://vidyaastra.com/api/fee/filter-options",IDe=()=>{const e=ru(),[t,r]=C.useState(""),[n,s]=C.useState([]),[i,o]=C.useState(!0),[l,c]=C.useState(""),[d,u]=C.useState(""),[h,m]=C.useState(""),[A,y]=C.useState(""),[x,v]=C.useState(""),[b,j]=C.useState(""),[E,T]=C.useState({start:"",end:""}),[P,U]=C.useState([]),[M,k]=C.useState({schools:[],classes:[],paymentMethods:[]}),[Q,z]=C.useState(1),[O]=C.useState(10),[L,V]=C.useState(1),[J,ce]=C.useState(0),[ee,de]=C.useState(null),[se,he]=C.useState({});C.useEffect(()=>{(async()=>{o(!0);try{await Promise.all([ve(),fe()])}catch(te){c("Error fetching data: "+te.message)}finally{o(!1)}})()},[Q,t,d,h,A,x,b,E]);const fe=async()=>{try{const le=localStorage.getItem("token"),te=await fetch(FDe,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${le}`}});if(!te.ok)throw new Error(`HTTP error! Status: ${te.status}`);const Ne=await te.json();if(!Ne.success)throw new Error(Ne.message||"Failed to fetch filter options");k(Ne.data);const Fe=Ne.data.schools.map(async Ce=>{try{const st=await fetch(`${TDe}/${Ce.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${le}`}});if(st.ok){const et=await st.json();if(et.success)return{id:Ce.id,...et.data}}return{id:Ce.id,name:Ce.name}}catch(st){return console.error(`Error fetching school ${Ce.id}:`,st),{id:Ce.id,name:Ce.name}}}),re=(await Promise.all(Fe)).reduce((Ce,st)=>(Ce[st.id]=st,Ce),{});he(re)}catch(le){console.error("Error fetching filter options:",le.message)}};C.useEffect(()=>{if(P.length>0){const le=P.map(te=>{let Ne="Pending";if(te.installments&&te.installments.length>0){const ct=te.installments.filter(ke=>ke.status==="paid").length,_e=te.installments.length;ct===_e?Ne="Paid":ct>0&&(Ne="Partial")}const Fe=ct=>{const _e=new Date(ct);return _e instanceof Date&&!isNaN(_e)},be=(()=>{const _e=te.installments?.find(ke=>ke.status==="pending")||te.installments?.[0];return _e?.dueDate&&Fe(_e.dueDate)?new Date(_e.dueDate).toISOString().split("T")[0]:"Unknown"})(),re=te.installments?.find(_e=>_e.status==="paid")?.paymentMethod||"N/A",Ce=typeof te.totalAmount=="number"?te.totalAmount:0,st=te.installments?.reduce((ct,_e)=>ct+(_e.paid||0),0)||0,et=te.installments?.reduce((ct,_e)=>ct+(_e.pending||0),0)||0,He=te.student?.className&&te.student?.section?`${te.student.className} ${te.student.section}`:te.student?.className||"N/A";return{id:te._id||"Unknown",studentName:te.student?.name||"Unknown Student",rollNumber:te.student?.rollNumber||"Unknown",class:He,schoolId:te.schoolId||"Unknown",schoolName:te.schoolName||"Unknown",paymentMethod:re,amount:Ce,paidAmount:st,pendingAmount:et,dueDate:be,status:Ne,installments:te.installments||[]}});s(le)}},[P]);const ve=async()=>{try{const le=localStorage.getItem("token"),te=new URLSearchParams({page:Q.toString(),limit:O.toString()});t&&te.append("search",t),b&&te.append("schoolId",b),h&&te.append("classId",h),A&&te.append("section",A),x&&te.append("paymentMethod",x),d&&te.append("status",d),E.start&&te.append("dateFrom",E.start),E.end&&te.append("dateTo",E.end);const Ne=await fetch(`${_De}?${te.toString()}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${le}`}});if(!Ne.ok)throw new Error(`HTTP error! Status: ${Ne.status}`);const Fe=await Ne.json();if(!Fe.success)throw new Error(Fe.message||"Failed to fetch fees");U(Fe.data||[]),V(Fe.totalPages||1),ce(Fe.total||0)}catch(le){c("Error fetching fees: "+le.message)}},B=n;M.classes.map(le=>le.displayName).sort(),M.paymentMethods.sort();const R=["Paid","Partial","Pending"];M.schools.map(le=>le.name).sort();const Y=()=>{r(""),u(""),m(""),y(""),v(""),j(""),T({start:"",end:""}),z(1)},ie=le=>{le>=1&&le<=L&&z(le)},ge=()=>{if(B.length===0){alert("No data to export");return}const le=B.map(Ce=>({"School Name":Ce.schoolName,"Student Name":Ce.studentName,"Roll Number":Ce.rollNumber,Class:Ce.class,"Payment Method":Ce.paymentMethod,"Total Amount":Ce.amount,"Paid Amount":Ce.paidAmount,"Pending Amount":Ce.pendingAmount,"Due Date":Ce.dueDate,Status:Ce.status})),te=Object.keys(le[0]),Ne=[te.join(","),...le.map(Ce=>te.map(st=>`"${Ce[st]||"N/A"}"`).join(","))].join(`
`),Fe=new Blob([Ne],{type:"text/csv;charset=utf-8;"}),be=document.createElement("a"),re=URL.createObjectURL(Fe);be.setAttribute("href",re),be.setAttribute("download",`fees_${new Date().toISOString().split("T")[0]}.csv`),be.style.visibility="hidden",document.body.appendChild(be),be.click(),document.body.removeChild(be)},ye=async(le,te)=>{try{const Ne=localStorage.getItem("token"),Fe=await fetch(`https://vidyaastra.com/api/fee/receipt/${le}/${te}?schoolId=${ee.schoolId}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ne}`}});if(!Fe.ok)throw new Error(`HTTP error! Status: ${Fe.status}`);const be=await Fe.json();if(!be.success)throw new Error(be.message||"Failed to fetch receipt data");e("/admin/admin-payment-receipt",{state:{receiptData:be.data,themeColor:se[ee.schoolId]?.themeColor||"#F37021"}})}catch(Ne){console.error("Error fetching receipt data:",Ne),alert("Error fetching receipt data: "+Ne.message)}},pe=le=>({Paid:{icon:U9,color:"text-green-700 bg-green-100"},Partial:{icon:TE,color:"text-orange-700 bg-orange-100"},Pending:{icon:C2,color:"text-red-700 bg-red-100"}})[le]||{icon:C2,color:"text-red-700 bg-red-100"},Z=B.reduce((le,te)=>({total:le.total+(te.amount||0),paid:le.paid+(te.paidAmount||0),pending:le.pending+(te.pendingAmount||0)}),{total:0,paid:0,pending:0});return a.jsx("div",{className:"min-h-screen bg-gray-100 p-4",children:a.jsxs("div",{className:"max-w-full mx-auto",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-[#1C1444]",children:"Student Fee Management"}),a.jsxs("button",{onClick:ge,className:"bg-[#F37021] hover:bg-[#d65f1c] text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2",title:"Export to CSV",disabled:i,children:[a.jsx(Qee,{})," ",a.jsx("span",{children:"Export CSV"})]})]}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx(Wee,{className:"absolute left-3 top-3 text-[#F37021]"}),a.jsx("input",{type:"text",placeholder:"Search by school, student name, roll number, class, or payment method...",value:t,onChange:le=>r(le.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] placeholder-gray-400",disabled:i})]}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("span",{className:"text-sm text-[#1C1444]",children:["Showing ",B.length," of ",J," records"]})})}),a.jsxs("div",{className:"border-t pt-4 mt-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"School"}),a.jsxs("select",{value:b,onChange:le=>j(le.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white",children:[a.jsx("option",{value:"",children:"All Schools"}),M.schools.map(le=>a.jsx("option",{value:le.id,children:le.name},le.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Class"}),a.jsxs("select",{value:h,onChange:le=>m(le.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white",children:[a.jsx("option",{value:"",children:"All Classes"}),M.classes.map(le=>a.jsx("option",{value:le.id,children:le.displayName},le.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Section"}),a.jsxs("select",{value:A,onChange:le=>y(le.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white",children:[a.jsx("option",{value:"",children:"All Sections"}),[...new Set(M.classes.map(le=>le.section).filter(Boolean))].sort().map(le=>a.jsx("option",{value:le,children:le},le))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Payment Method"}),a.jsxs("select",{value:x,onChange:le=>v(le.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white",children:[a.jsx("option",{value:"",children:"All Payment Methods"}),M.paymentMethods.map(le=>a.jsx("option",{value:le,children:le},le))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Status"}),a.jsxs("select",{value:d,onChange:le=>u(le.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white",children:[a.jsx("option",{value:"",children:"All Statuses"}),R.map(le=>a.jsx("option",{value:le,children:le},le))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Due Date From"}),a.jsx("input",{type:"date",value:E.start,onChange:le=>T({...E,start:le.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#1C1444] mb-1",children:"Due Date To"}),a.jsx("input",{type:"date",value:E.end,onChange:le=>T({...E,end:le.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] text-[#1C1444] bg-white"})]})]}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:Y,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-[#1C1444]",children:"Clear All Filters"})})]})]}),i&&a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(TE,{className:"w-12 h-12 text-[#F37021] mx-auto mb-4 animate-pulse"}),a.jsx("p",{className:"text-[#1C1444] text-lg",children:"Loading fee records..."})]}),l&&a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"bg-red-100 text-red-700 rounded-lg p-4 flex items-center",children:[a.jsx(C2,{className:"w-5 h-5 mr-2"}),l]})}),!i&&!l&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[{value:`${Z.total.toLocaleString()}`,label:"Total Fee",color:"text-[#1C1444]"},{value:`${Z.paid.toLocaleString()}`,label:"Paid Amount",color:"text-green-600"},{value:`${Z.pending.toLocaleString()}`,label:"Pending Amount",color:"text-red-600"}].map((le,te)=>a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[a.jsx("div",{className:`${le.color} text-xl font-bold`,children:le.value}),a.jsx("div",{className:"text-[#1C1444]",children:le.label})]},te))}),!i&&!l&&a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsx("tr",{children:["School Name","Student Name","Roll No","Class","Payment Method","Amount","Paid","Pending","Due Date","Status","Actions"].map((le,te)=>a.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-[#1C1444]",children:le},te))})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[B.map(le=>{const{icon:te,color:Ne}=pe(le.status);return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:le.schoolName}),a.jsx("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:le.studentName}),a.jsx("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:le.rollNumber}),a.jsx("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:le.class}),a.jsx("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:le.paymentMethod}),a.jsxs("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:["",le.amount.toLocaleString()]}),a.jsxs("td",{className:"px-4 py-3 text-sm text-green-600",children:["",le.paidAmount.toLocaleString()]}),a.jsxs("td",{className:"px-4 py-3 text-sm text-red-600",children:["",le.pendingAmount.toLocaleString()]}),a.jsx("td",{className:"px-4 py-3 text-sm text-[#1C1444]",children:le.dueDate}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${Ne}`,children:[te&&a.jsx(te,{className:"text-[#F37021]"})," ",le.status]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"flex space-x-2",children:a.jsx("button",{onClick:()=>{console.log("Setting viewingFee:",le),de(le)},className:"text-[#F37021] hover:text-[#d65f1c]",children:a.jsx(_E,{})})})})]},le.id)}),B.length===0&&n.length>0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"11",className:"px-4 py-8 text-center",children:a.jsxs("div",{className:"text-[#1C1444]",children:[a.jsx("p",{className:"mb-2",children:"No fee records match your current filters"}),a.jsx("button",{onClick:Y,className:"text-[#F37021] hover:text-[#d65f1c] underline",children:"Clear all filters"})]})})}),B.length===0&&n.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"11",className:"px-4 py-8 text-center text-[#1C1444]",children:"No fee records found"})})]})]})})}),!i&&!l&&J>0&&a.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[a.jsxs("div",{className:"text-sm text-[#1C1444]",children:["Page ",Q," of ",L]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>ie(Q-1),disabled:Q===1,className:"px-4 py-2 bg-gray-200 text-[#1C1444] rounded-lg disabled:opacity-50 hover:bg-gray-300",children:"Previous"}),a.jsx("button",{onClick:()=>ie(Q+1),disabled:Q===L,className:"px-4 py-2 bg-gray-200 text-[#1C1444] rounded-lg disabled:opacity-50 hover:bg-gray-300",children:"Next"})]})]}),ee&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto relative",children:[a.jsx("button",{onClick:()=>{console.log("Clearing viewingFee"),de(null)},className:"absolute top-4 right-4 text-[#1C1444] hover:text-[#F37021] text-2xl font-bold transition-colors",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-[#1C1444] mb-6",children:"Fee Record Details"}),ee?a.jsx("div",{className:"space-y-4",children:(()=>{const le=pe(ee.status||"Unknown"),te=[{label:"School Name",value:ee.schoolName||"N/A"},{label:"Student Name",value:ee.studentName||"N/A"},{label:"Roll Number",value:ee.rollNumber||"N/A"},{label:"Class",value:ee.class||"N/A"},{label:"Payment Method",value:ee.paymentMethod||"N/A"},{label:"Total Amount",value:ee.amount?`${ee.amount.toLocaleString()}`:"N/A"},{label:"Paid Amount",value:ee.paidAmount?`${ee.paidAmount.toLocaleString()}`:"N/A",className:"text-green-600"},{label:"Pending Amount",value:ee.pendingAmount?`${ee.pendingAmount.toLocaleString()}`:"N/A",className:"text-red-600"},{label:"Due Date",value:ee.dueDate||"N/A"},{label:"Status",value:a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${le.color}`,children:[le.icon&&a.jsx(le.icon,{className:"text-[#F37021]"}),ee.status||"Unknown"]})}];return ee.installments?.length>0&&te.push({label:"Installments",value:a.jsx("div",{className:"mt-2",children:ee.installments.map((Ne,Fe)=>a.jsxs("div",{className:"border-t pt-2 mt-2",children:[a.jsxs("p",{children:[a.jsxs("strong",{children:["Installment ",Fe+1,":"]})," ",Ne.amount?`${Ne.amount.toLocaleString()}`:"N/A"]}),a.jsxs("p",{children:["Paid:"," ",Ne.paid?`${Ne.paid.toLocaleString()}`:"N/A"]}),a.jsxs("p",{children:["Pending:"," ",Ne.pending?`${Ne.pending.toLocaleString()}`:"N/A"]}),a.jsxs("p",{children:["Due Date:"," ",Ne.dueDate?new Date(Ne.dueDate).toISOString().split("T")[0]:"N/A"]}),a.jsxs("p",{children:["Status: ",Ne.status||"N/A"]}),Ne.paidDate&&a.jsxs("p",{children:["Paid Date:"," ",new Date(Ne.paidDate).toISOString().split("T")[0]]}),Ne.receiptNumber&&a.jsxs("p",{children:["Receipt: ",Ne.receiptNumber]}),Ne.paymentMethod&&a.jsxs("p",{children:["Method: ",Ne.paymentMethod]}),Ne.status==="paid"&&a.jsx("div",{className:"mt-2 flex space-x-2",children:a.jsxs("button",{onClick:()=>ye(ee.id,Fe),className:"px-3 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600 flex items-center space-x-1",children:[a.jsx(_E,{className:"text-xs"}),a.jsx("span",{children:"View Receipt"})]})})]},Fe))})}),te.map((Ne,Fe)=>a.jsxs("div",{className:"border-b border-gray-200 pb-3",children:[a.jsx("span",{className:"text-sm font-medium text-gray-500 block",children:Ne.label}),a.jsx("div",{className:`text-base font-semibold ${Ne.className||"text-[#1C1444]"}`,children:Ne.value})]},Fe))})()}):a.jsx("div",{className:"text-center text-red-600",children:"Error: Fee record details not available"}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{onClick:()=>{console.log("Clearing viewingFee via Close button"),de(null)},className:"px-4 py-2 bg-[#F37021] text-white rounded-lg hover:bg-[#d65f1c] transition-colors",children:"Close"})})]})})]})})},kDe=()=>{const e=ru(),{state:t}=Dd(),r=t?.receiptData,n=t?.themeColor,s=C.useRef(null),[i,o]=C.useState({}),[l,c]=C.useState(n||"#F37021"),[d,u]=C.useState(!0),h=`https://vidyaastra.com/api/schools/${r?.school?._id||r?.schoolId}`,m=async()=>{try{const v=localStorage.getItem("token"),b=await sr.get(h,{headers:{Authorization:`Bearer ${v}`}});b.status===200&&(o(b.data?.data),b.data?.data?.themeColor&&!n&&c(b.data.data.themeColor))}catch(v){console.log("Error fetching school:",v)}finally{u(!1)}};C.useEffect(()=>{r?m():u(!1)},[r]);const A=()=>{setTimeout(()=>{window.print()},100)},y=async v=>{try{if(v?.startsWith("/"))return v;const b=await fetch(v,{mode:"cors",headers:{"X-Requested-With":"XMLHttpRequest"}});if(!b.ok)throw new Error(`Failed to fetch image: ${b.status}`);const j=await b.blob();return new Promise((E,T)=>{const P=new FileReader;P.onload=()=>E(P.result),P.onerror=T,P.readAsDataURL(j)})}catch(b){return console.error("Error converting image to base64:",b),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg=="}},x=async()=>{if(!r)return;const v=new Wn({unit:"pt",isCORS:!0}),b=v.internal.pageSize.getWidth();let j=30;const T=(J=>{const ce=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(J);return ce?[parseInt(ce[1],16),parseInt(ce[2],16),parseInt(ce[3],16)]:[243,112,33]})(l);v.setDrawColor(...T),v.setLineWidth(1.5),v.rect(20,20,b-40,v.internal.pageSize.getHeight()-40),v.setFont("helvetica","bold"),v.setTextColor(240,240,245),v.setFontSize(30);const P=(i?.name||"RECEIPT").toUpperCase();v.text(P,b/2,v.internal.pageSize.getHeight()/2,{align:"center",angle:-10,renderingMode:"fillThenStroke"});let U=null;const M=J=>`https://vidyaastra.com/proxy-image?url=${encodeURIComponent(J)}`;if(i?.logoUrl)try{const J=M(i.logoUrl);U=await y(J),U&&U!=="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg=="?(v.addImage(U,"PNG",b/2-20,j,40,40),j+=50):(v.setFont("helvetica","normal"),v.setFontSize(9),v.setTextColor(100,100,100),v.text("School Logo Unavailable",b/2,j+20,{align:"center"}),j+=50)}catch(J){console.error("Error adding logo to PDF:",J),v.setFont("helvetica","normal"),v.setFontSize(9),v.setTextColor(100,100,100),v.text("School Logo Unavailable",b/2,j+20,{align:"center"}),j+=50}else j+=10;v.setFont("times","bold"),v.setTextColor(30,30,30),v.setFontSize(20),v.text(i?.name?.toUpperCase()||"UNKNOWN SCHOOL",b/2,j,{align:"center"}),j+=20,v.setFontSize(12),v.setTextColor(80,80,80),v.text("PAYMENT RECEIPT",b/2,j,{align:"center"}),j+=20,v.setDrawColor(...T),v.setLineWidth(1),v.line(100,j,b-100,j),j+=15,v.setFont("times","normal"),v.setFontSize(9),v.setTextColor(80,80,80),v.text(`School Code: ${i?.schoolCode||"N/A"} | Address: ${i?.address||"N/A"}`,b/2,j,{align:"center"}),j+=15;const k=[["Receipt Number",r.installment?.receiptNumber||"N/A"],["Payment Date",r.installment?.paidDate?new Date(r.installment.paidDate).toLocaleDateString():"N/A"],["Due Date",r.installment?.dueDate?new Date(r.installment.dueDate).toLocaleDateString():"N/A"],["Student Name",r.student?.name||"N/A"],["Roll Number",r.student?.rollNumber||"N/A"],["Class",r.student?.classId?.className&&r.student?.classId?.section?`${r.student.classId.className} ${r.student.classId.section}`:r.student?.classId?.className||r.student?.className||"N/A"],["Installment Amount",`Rs. ${r.installment?.amount?.toLocaleString("en-IN",{maximumFractionDigits:2})||"0"}`],["Amount Paid",`Rs. ${r.installment?.paid?.toLocaleString("en-IN",{maximumFractionDigits:2})||"0"}`],["Pending Amount",`Rs. ${(r.installment?.pending||0)?.toLocaleString("en-IN",{maximumFractionDigits:2})}`],["Payment Method",r.installment?.paymentMethod||"N/A"]];Ij(v,{startY:j,body:k,styles:{fontSize:9,cellPadding:3,halign:"left",font:"times"},columnStyles:{0:{cellWidth:120,fontStyle:"bold",textColor:[60,60,60]},1:{cellWidth:"auto"}},margin:{left:b/2-130,right:b/2-130},theme:"grid",alternateRowStyles:{fillColor:[245,245,245]}});let Q=(v.lastAutoTable?.finalY||j)+20;v.setFont("times","normal"),v.setFontSize(9),v.setTextColor(150,150,150),v.text(`Issued on: ${new Date().toLocaleDateString()}`,b/2,Q,{align:"center"}),Q+=30,v.setFontSize(8),v.setTextColor(100,100,100);const z=100,O=b-180;v.setDrawColor(...T),v.line(z,Q,z+80,Q),v.line(O,Q,O+80,Q),Q+=10,v.text("Accountant",z+40,Q,{align:"center"}),v.text("Principal",O+40,Q,{align:"center"}),Q+=20,v.setFillColor(...T),v.circle(b/2,Q,15,"F"),v.setFontSize(7),v.setTextColor(255,255,255),v.text("OFFICIAL SEAL",b/2,Q,{align:"center"});const L=(r.student?.name||"student").replace(/\s+/g,"_"),V=(r.installment?.receiptNumber||"receipt").replace(/\s+/g,"_");v.save(`Receipt_${L}_${V}.pdf`)};return d?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:a.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 animate-fade-in",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#F37021] mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-center",children:"Loading receipt..."})]})}):r?a.jsxs(a.Fragment,{children:[a.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),a.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),a.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Times+New+Roman&display=swap",rel:"stylesheet"}),a.jsx("style",{jsx:!0,children:`
        @keyframes fade-in {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-fade-in {
          animation: fade-in 0.5s ease-out;
        }
        .action-button {
          transition: all 0.3s ease;
          transform: scale(1);
        }
        .action-button:hover {
          transform: scale(1.05);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        .grid-item {
          transition: background-color 0.2s ease;
        }
        .grid-item:hover {
          background-color: #f9f9f9;
        }
        @media print {
          * {
            box-sizing: border-box;
          }
          body {
            margin: 0;
            padding: 0;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
          }
          body * {
            visibility: hidden;
          }
          .printable-receipt,
          .printable-receipt * {
            visibility: visible;
          }
          .printable-receipt {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            margin: 0;
            padding: 0.75rem;
            background: white;
            page-break-inside: avoid;
            page-break-after: always;
          }
          .no-print {
            display: none !important;
          }
          @page {
            margin: 0.5cm;
          }
          .printable-receipt .absolute {
            position: absolute !important;
          }
          .printable-receipt .p-6 {
            padding: 0.5rem !important;
          }
          .printable-receipt .mb-4 {
            margin-bottom: 0.5rem !important;
          }
          .printable-receipt .text-4xl {
            font-size: 1.4rem !important;
          }
          .printable-receipt .text-xl {
            font-size: 0.9rem !important;
          }
          .printable-receipt .text-sm {
            font-size: 0.8rem !important;
          }
          .printable-receipt .h-14 {
            height: 2rem !important;
          }
          .printable-receipt .w-14 {
            width: 2rem !important;
          }
          .certificate-title {
            font-family: 'Playfair Display', serif !important;
          }
          .certificate-text {
            font-family: 'Times New Roman', Times, serif !important;
          }
        }
      `}),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-xl w-full mx-auto animate-fade-in",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 no-print",children:[a.jsxs("button",{onClick:()=>e(-1),className:"action-button inline-flex items-center px-4 py-2 rounded-full border border-gray-300 bg-white hover:bg-gray-50 shadow-md text-sm font-medium text-gray-700 transition-all duration-200",children:[a.jsx(ip,{className:"mr-2 h-4 w-4"})," Back"]}),a.jsxs("div",{className:"space-x-3",children:[a.jsxs("button",{onClick:A,className:"action-button inline-flex items-center px-4 py-2 rounded-full text-white shadow-md text-sm font-medium",style:{background:`linear-gradient(135deg, ${l}, ${l}cc)`},children:[a.jsx(ly,{className:"mr-2 h-4 w-4"})," Print Receipt"]}),a.jsxs("button",{onClick:x,className:"action-button inline-flex items-center px-4 py-2 rounded-full text-white shadow-md text-sm font-medium",style:{background:`linear-gradient(135deg, ${l}, ${l}cc)`},children:[a.jsx(xs,{className:"mr-2 h-4 w-4"})," Download PDF"]})]})]}),a.jsx("div",{ref:s,className:"printable-receipt bg-white shadow-xl rounded-lg overflow-hidden border border-gray-100",style:{width:"100%",boxSizing:"border-box"},children:a.jsxs("div",{className:"relative p-6",children:[a.jsxs("div",{className:"absolute inset-0 flex items-center justify-center opacity-[0.03] pointer-events-none select-none overflow-hidden",children:[i?.logoUrl&&a.jsx("img",{src:i.logoUrl,alt:"watermark",className:"max-w-xs max-h-xs transform rotate-[-10deg]",style:{filter:"grayscale(100%)"}}),a.jsx("div",{className:"text-4xl certificate-title text-gray-800 rotate-[-10deg] select-none",children:i?.name?.toUpperCase()||"RECEIPT"})]}),a.jsxs("div",{className:"border-2 rounded-lg p-6 relative",style:{borderColor:l,background:`linear-gradient(180deg, #ffffff, ${l}05)`},children:[a.jsx("div",{className:"absolute top-2 left-2 h-3 w-3 border-t-2 border-l-2",style:{borderColor:l}}),a.jsx("div",{className:"absolute top-2 right-2 h-3 w-3 border-t-2 border-r-2",style:{borderColor:l}}),a.jsx("div",{className:"absolute bottom-2 left-2 h-3 w-3 border-b-2 border-l-2",style:{borderColor:l}}),a.jsx("div",{className:"absolute bottom-2 right-2 h-3 w-3 border-b-2 border-r-2",style:{borderColor:l}}),a.jsxs("div",{className:"text-center mb-4",children:[i?.logoUrl&&a.jsx("div",{className:"mb-3",children:a.jsx("img",{src:i.logoUrl,alt:"School Logo",className:"h-14 w-14 mx-auto object-contain shadow-sm rounded-full"})}),a.jsx("h1",{className:"text-4xl certificate-title font-bold tracking-wide mb-2 text-gray-800",children:i?.name?.toUpperCase()||"UNKNOWN SCHOOL"}),a.jsx("div",{className:"h-1 w-20 mx-auto mb-2",style:{backgroundColor:l}}),a.jsx("p",{className:"text-xl certificate-text text-gray-600 font-semibold",children:"PAYMENT RECEIPT"}),a.jsx("p",{className:"text-sm certificate-text text-gray-500 mt-1",children:i?.address||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 max-w-md mx-auto mb-4 text-left",children:[a.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[a.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Receipt Number"}),a.jsx("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:r.installment?.receiptNumber||"N/A"})]}),a.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[a.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Payment Date"}),a.jsx("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:r.installment?.paidDate?new Date(r.installment.paidDate).toLocaleDateString():"N/A"})]}),a.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[a.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Due Date"}),a.jsx("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:r.installment?.dueDate?new Date(r.installment.dueDate).toLocaleDateString():"N/A"})]}),a.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[a.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Student Name"}),a.jsx("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:r.student?.name||"N/A"})]}),a.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[a.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Roll Number"}),a.jsx("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:r.student?.rollNumber||"N/A"})]}),a.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[a.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Class"}),a.jsx("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:r.student?.classId?.className&&r.student?.classId?.section?`${r.student.classId.className} ${r.student.classId.section}`:r.student?.classId?.className||r.student?.className||"N/A"})]}),a.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[a.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Installment Amount"}),a.jsxs("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:["",r.installment?.amount?.toLocaleString("en-IN",{maximumFractionDigits:2})||"0"]})]}),a.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[a.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Amount Paid"}),a.jsxs("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:["",r.installment?.paid?.toLocaleString("en-IN",{maximumFractionDigits:2})||"0"]})]}),a.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[a.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Pending Amount"}),a.jsxs("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:["",(r.installment?.pending||0)?.toLocaleString("en-IN",{maximumFractionDigits:2})]})]}),a.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[a.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Payment Method"}),a.jsx("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:r.installment?.paymentMethod||"N/A"})]})]}),a.jsxs("div",{className:"text-center mb-4 text-xs certificate-text text-gray-500",children:["Issued on: ",new Date().toLocaleDateString()]}),a.jsxs("div",{className:"flex justify-between items-end pt-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-32 h-px mb-2",style:{background:`linear-gradient(to right, ${l}, ${l}80)`}}),a.jsx("p",{className:"text-xs certificate-text text-gray-600 font-medium",children:"Accountant"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-full mx-auto mb-2 flex items-center justify-center",style:{background:`radial-gradient(circle, ${l}40, ${l}20)`,boxShadow:`0 2px 4px ${l}40`},children:a.jsx("div",{className:"w-8 h-8 rounded-full",style:{background:`linear-gradient(45deg, ${l}, ${l}cc)`,boxShadow:`inset 0 1px 2px ${l}80`}})}),a.jsx("p",{className:"text-xs certificate-text text-gray-500",children:"Official Seal"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-32 h-px mb-2",style:{background:`linear-gradient(to right, ${l}, ${l}80)`}}),a.jsx("p",{className:"text-xs certificate-text text-gray-600 font-medium",children:"Principal"})]})]})]})]})})]})})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:a.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 animate-fade-in",children:[a.jsx("p",{className:"mb-4 text-gray-600",children:"No receipt data available."}),a.jsx("button",{onClick:()=>e(-1),className:"px-4 py-2 bg-gray-800 text-white rounded-full hover:bg-gray-900 transition-all duration-200 text-sm font-medium",children:"Go Back"})]})})},PDe=()=>a.jsx("div",{className:"max-w-4xl mx-auto px-6 py-8 bg-white",children:a.jsxs("div",{className:"prose prose-lg max-w-none",children:[a.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-8",children:"PRIVACY POLICY"}),a.jsx("p",{className:"text-gray-600 mb-8",children:"Effective date: 2025-09-07"}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"1. Introduction"}),a.jsxs("div",{className:"space-y-4 text-gray-700",children:[a.jsxs("p",{children:["Welcome to ",a.jsx("strong",{children:"vidyaastra"}),"."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"vidyaastra"}),' ("us", "we", or "our") operates'," ",a.jsxs("strong",{children:["     ",a.jsxs("a",{href:"https://parnetsgroup.com/",className:"font-medium text-orange-500 hover:text-orange-400 transition-colors",children:[a.jsx("strong",{className:"text-orange-500",children:"Par"}),a.jsx("strong",{className:"text-black",children:"Nets"})]})," ","Software India Pvt Ltd "]}),". (hereinafter referred to as ",a.jsx("strong",{children:'"Service"'}),")."]}),a.jsxs("p",{children:["Our Privacy Policy governs your visit to"," ",a.jsx("strong",{children:"https://vidyaastra.com"}),", and explains how we collect, safeguard and disclose information that results from your use of our Service."]}),a.jsx("p",{children:"We use your data to provide and improve Service. By using Service, you agree to the collection and use of information in accordance with this policy. Unless otherwise defined in this Privacy Policy, the terms used in this Privacy Policy have the same meanings as in our Terms and Conditions."}),a.jsxs("p",{children:["Our Terms and Conditions (",a.jsx("strong",{children:'"Terms"'}),") govern all use of our Service and together with the Privacy Policy constitutes your agreement with us (",a.jsx("strong",{children:'"agreement"'}),")."]})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"2. Definitions"}),a.jsxs("div",{className:"space-y-3 text-gray-700",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"SERVICE"})," means the https://vidyaastra.com website operated by vidyaastra."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"PERSONAL DATA"})," means data about a living individual who can be identified from those data (or from those and other information either in our possession or likely to come into our possession)."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"USAGE DATA"})," is data collected automatically either generated by the use of Service or from Service infrastructure itself (for example, the duration of a page visit)."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"COOKIES"})," are small files stored on your device (computer or mobile device)."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"DATA CONTROLLER"})," means a natural or legal person who (either alone or jointly or in common with other persons) determines the purposes for which and the manner in which any personal data are, or are to be, processed. For the purpose of this Privacy Policy, we are a Data Controller of your data."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"DATA PROCESSORS (OR SERVICE PROVIDERS)"})," means any natural or legal person who processes the data on behalf of the Data Controller. We may use the services of various Service Providers in order to process your data more effectively."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"DATA SUBJECT"})," is any living individual who is the subject of Personal Data."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"THE USER"})," is the individual using our Service. The User corresponds to the Data Subject, who is the subject of Personal Data."]})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"3. Information Collection and Use"}),a.jsx("p",{className:"text-gray-700",children:"We collect several different types of information for various purposes to provide and improve our Service to you."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"4. Types of Data Collected"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Personal Data"}),a.jsxs("p",{className:"text-gray-700 mb-3",children:["While using our Service, we may ask you to provide us with certain personally identifiable information that can be used to contact or identify you (",a.jsx("strong",{children:'"Personal Data"'}),"). Personally identifiable information may include, but is not limited to:"]}),a.jsxs("ul",{className:"list-decimal list-inside space-y-2 text-gray-700 ml-4",children:[a.jsx("li",{children:"Email address"}),a.jsx("li",{children:"First name and last name"}),a.jsx("li",{children:"Phone number"}),a.jsx("li",{children:"Address, Country, State, Province, ZIP/Postal code, City"}),a.jsx("li",{children:"Cookies and Usage Data"})]}),a.jsx("p",{className:"text-gray-700 mt-4",children:"We may use your Personal Data to contact you with newsletters, marketing or promotional materials and other information that may be of interest to you. You may opt out of receiving any, or all, of these communications from us by following the unsubscribe link."})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Usage Data"}),a.jsxs("p",{className:"text-gray-700 mb-3",children:["We may also collect information that your browser sends whenever you visit our Service or when you access Service by or through any device (",a.jsx("strong",{children:'"Usage Data"'}),")."]}),a.jsx("p",{className:"text-gray-700 mb-3",children:"This Usage Data may include information such as your computer's Internet Protocol address (e.g. IP address), browser type, browser version, the pages of our Service that you visit, the time and date of your visit, the time spent on those pages, unique device identifiers and other diagnostic data."}),a.jsx("p",{className:"text-gray-700",children:"When you access Service with a device, this Usage Data may include information such as the type of device you use, your device unique ID, the IP address of your device, your device operating system, the type of Internet browser you use, unique device identifiers and other diagnostic data."})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Tracking Cookies Data"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"We use cookies and similar tracking technologies to track the activity on our Service and we hold certain information."}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Cookies are files with a small amount of data which may include an anonymous unique identifier. Cookies are sent to your browser from a website and stored on your device. Other tracking technologies are also used such as beacons, tags and scripts to collect and track information and to improve and analyze our Service."}),a.jsx("p",{className:"text-gray-700 mb-4",children:"You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent. However, if you do not accept cookies, you may not be able to use some portions of our Service."}),a.jsx("p",{className:"text-gray-700 mb-2",children:"Examples of Cookies we use:"}),a.jsxs("ul",{className:"list-decimal list-inside space-y-2 text-gray-700 ml-4",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Session Cookies:"})," We use Session Cookies to operate our Service."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Preference Cookies:"})," We use Preference Cookies to remember your preferences and various settings."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Security Cookies:"})," We use Security Cookies for security purposes."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Advertising Cookies:"})," Advertising Cookies are used to serve you with advertisements that may be relevant to you and your interests."]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Other Data"}),a.jsxs("p",{className:"text-gray-700",children:["While using our Service, we may also collect the following information: sex, age, date of birth, place of birth, passport details, citizenship, registration at place of residence and actual address, telephone number (work, mobile), details of documents on education, qualification, professional training, employment agreements,"," ",", information on bonuses and compensation, information on marital status, family members, social security (or other taxpayer identification) number, office location and other data."]})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"5. Use of Data"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"vidyaastra uses the collected data for various purposes:"}),a.jsxs("ul",{className:"list-decimal list-inside space-y-2 text-gray-700 ml-4",children:[a.jsx("li",{children:"to provide and maintain our Service;"}),a.jsx("li",{children:"to notify you about changes to our Service;"}),a.jsx("li",{children:"to allow you to participate in interactive features of our Service when you choose to do so;"}),a.jsx("li",{children:"to provide customer support;"}),a.jsx("li",{children:"to gather analysis or valuable information so that we can improve our Service;"}),a.jsx("li",{children:"to monitor the usage of our Service;"}),a.jsx("li",{children:"to detect, prevent and address technical issues;"}),a.jsx("li",{children:"to fulfil any other purpose for which you provide it;"}),a.jsx("li",{children:"to carry out our obligations and enforce our rights arising from any contracts entered into between you and us, including for billing and collection;"}),a.jsx("li",{children:"to provide you with notices about your account and/or subscription, including expiration and renewal notices, email-instructions, etc.;"}),a.jsx("li",{children:"to provide you with news, special offers and general information about other goods, services and events which we offer that are similar to those that you have already purchased or enquired about unless you have opted not to receive such information;"}),a.jsx("li",{children:"in any other way we may describe when you provide the information;"}),a.jsx("li",{children:"for any other purpose with your consent."})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"6. Retention of Data"}),a.jsxs("div",{className:"space-y-4 text-gray-700",children:[a.jsx("p",{children:"We will retain your Personal Data only for as long as is necessary for the purposes set out in this Privacy Policy. We will retain and use your Personal Data to the extent necessary to comply with our legal obligations (for example, if we are required to retain your data to comply with applicable laws), resolve disputes, and enforce our legal agreements and policies."}),a.jsx("p",{children:"We will also retain Usage Data for internal analysis purposes. Usage Data is generally retained for a shorter period, except when this data is used to strengthen the security or to improve the functionality of our Service, or we are legally obligated to retain this data for longer time periods."})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"7. Transfer of Data"}),a.jsxs("div",{className:"space-y-4 text-gray-700",children:[a.jsx("p",{children:"Your information, including Personal Data, may be transferred to  and maintained on  computers located outside of your state, province, country or other governmental jurisdiction where the data protection laws may differ from those of your jurisdiction."}),a.jsx("p",{children:"If you are located outside India and choose to provide information to us, please note that we transfer the data, including Personal Data, to India and process it there."}),a.jsx("p",{children:"Your consent to this Privacy Policy followed by your submission of such information represents your agreement to that transfer."}),a.jsx("p",{children:"vidyaastra will take all the steps reasonably necessary to ensure that your data is treated securely and in accordance with this Privacy Policy and no transfer of your Personal Data will take place to an organisation or a country unless there are adequate controls in place including the security of your data and other personal information."})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"8. Disclosure of Data"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"We may disclose personal information that we collect, or you provide:"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"8.1. Disclosure for Law Enforcement"}),a.jsx("p",{className:"text-gray-700",children:"Under certain circumstances, we may be required to disclose your Personal Data if required to do so by law or in response to valid requests by public authorities."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"8.2. Business Transaction"}),a.jsx("p",{className:"text-gray-700",children:"If we or our subsidiaries are involved in a merger, acquisition or asset sale, your Personal Data may be transferred."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"8.3. Other cases. We may disclose your information also:"}),a.jsxs("ul",{className:"list-decimal list-inside space-y-2 text-gray-700 ml-4",children:[a.jsx("li",{children:"to our subsidiaries and affiliates;"}),a.jsx("li",{children:"to contractors, service providers, and other third parties we use to support our business;"}),a.jsx("li",{children:"to fulfill the purpose for which you provide it;"}),a.jsx("li",{children:"for the purpose of including your company's logo on our website;"}),a.jsx("li",{children:"for any other purpose disclosed by us when you provide the information;"}),a.jsx("li",{children:"with your consent in any other cases;"}),a.jsx("li",{children:"if we believe disclosure is necessary or appropriate to protect the rights, property, or safety of the Company, our customers, or others."})]})]})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"9. Security of Data"}),a.jsx("p",{className:"text-gray-700",children:"The security of your data is important to us but remember that no method of transmission over the Internet or method of electronic storage is 100% secure. While we strive to use commercially acceptable means to protect your Personal Data, we cannot guarantee its absolute security."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"10. Your Data Protection Rights Under General Data Protection Regulation (GDPR)"}),a.jsxs("div",{className:"space-y-4 text-gray-700",children:[a.jsx("p",{children:"If you are a resident of the European Union (EU) and European Economic Area (EEA), you have certain data protection rights, covered by GDPR."}),a.jsx("p",{children:"We aim to take reasonable steps to allow you to correct, amend, delete, or limit the use of your Personal Data."}),a.jsxs("p",{children:["If you wish to be informed what Personal Data we hold about you and if you want it to be removed from our systems, please email us at ",a.jsx("strong",{children:"support@vidyaastra.com"}),"."]}),a.jsx("p",{children:"In certain circumstances, you have the following data protection rights:"}),a.jsxs("ul",{className:"list-decimal list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"the right to access, update or to delete the information we have on you;"}),a.jsx("li",{children:"the right of rectification. You have the right to have your information rectified if that information is inaccurate or incomplete;"}),a.jsx("li",{children:"the right to object. You have the right to object to our processing of your Personal Data;"}),a.jsx("li",{children:"the right of restriction. You have the right to request that we restrict the processing of your personal information;"}),a.jsx("li",{children:"the right to data portability. You have the right to be provided with a copy of your Personal Data in a structured, machine-readable and commonly used format;"}),a.jsx("li",{children:"the right to withdraw consent. You also have the right to withdraw your consent at any time where we rely on your consent to process your personal information;"})]}),a.jsx("p",{children:"Please note that we may ask you to verify your identity before responding to such requests. Please note, we may not able to provide Service without some necessary data."}),a.jsx("p",{children:"You have the right to complain to a Data Protection Authority about our collection and use of your Personal Data. For more information, please contact your local data protection authority in the European Economic Area (EEA)."})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"11. Your Data Protection Rights under the California Privacy Protection Act (CalOPPA)"}),a.jsxs("div",{className:"space-y-4 text-gray-700",children:[a.jsx("p",{children:"CalOPPA is the first state law in the nation to require commercial websites and online services to post a privacy policy. The law's reach stretches well beyond California to require a person or company in the United States (and conceivable the world) that operates websites collecting personally identifiable information from California consumers to post a conspicuous privacy policy on its website stating exactly the information being collected and those individuals with whom it is being shared, and to comply with this policy."}),a.jsx("p",{children:"According to CalOPPA we agree to the following:"}),a.jsxs("ul",{className:"list-decimal list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"users can visit our site anonymously;"}),a.jsx("li",{children:'our Privacy Policy link includes the word "Privacy", and can easily be found on the home page of our website;'}),a.jsx("li",{children:"users will be notified of any privacy policy changes on our Privacy Policy Page;"}),a.jsxs("li",{children:["users are able to change their personal information by emailing us at ",a.jsx("strong",{children:"support@vidyaastra.com"}),"."]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"font-semibold",children:'Our Policy on "Do Not Track" Signals:'}),a.jsx("p",{children:"We honor Do Not Track signals and do not track, plant cookies, or use advertising when a Do Not Track browser mechanism is in place. Do Not Track is a preference you can set in your web browser to inform websites that you do not want to be tracked."}),a.jsx("p",{children:"You can enable or disable Do Not Track by visiting the Preferences or Settings page of your web browser."})]})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"12. Your Data Protection Rights under the California Consumer Privacy Act (CCPA)"}),a.jsxs("div",{className:"space-y-4 text-gray-700",children:[a.jsx("p",{children:"If you are a California resident, you are entitled to learn what data we collect about you, ask to delete your data and not to sell (share) it. To exercise your data protection rights, you can make certain requests and ask us:"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:"12.1. What personal information we have about you. If you make this request, we will return to you:"}),a.jsxs("ul",{className:"list-decimal list-inside space-y-1 ml-8",children:[a.jsx("li",{children:"The categories of personal information we have collected about you."}),a.jsx("li",{children:"The categories of sources from which we collect your personal information."}),a.jsx("li",{children:"The business or commercial purpose for collecting or selling your personal information."}),a.jsx("li",{children:"The categories of third parties with whom we share personal information."}),a.jsx("li",{children:"The specific pieces of personal information we have collected about you."}),a.jsx("li",{children:"A list of categories of personal information that we have sold, along with the category of any other company we sold it to. If we have not sold your personal information, we will inform you of that fact."}),a.jsx("li",{children:"A list of categories of personal information that we have disclosed for a business purpose, along with the category of any other company we shared it with."})]}),a.jsx("p",{className:"mt-2",children:"Please note, you are entitled to ask us to provide you with this information up to two times in a rolling twelve-month period. When you make this request, the information provided may be limited to the personal information we collected about you in the previous 12 months."})]}),a.jsxs("p",{children:[a.jsx("strong",{children:"12.2. To delete your personal information."})," If you make this request, we will delete the personal information we hold about you as of the date of your request from our records and direct any service providers to do the same. In some cases, deletion may be accomplished through de-identification of the information. If you choose to delete your personal information, you may not be able to use certain functions that require your personal information to operate."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"12.3. To stop selling your personal information."})," ",`We don't sell or rent your personal information to any third parties for any purpose. We do not sell your personal information for monetary consideration. However, under some circumstances, a transfer of personal information to a third party, or within our family of companies, without monetary consideration may be considered a "sale" under California law. You are the only owner of your Personal Data and can request disclosure or deletion at any time.`]}),a.jsx("p",{children:"If you submit a request to stop selling your personal information, we will stop making such transfers."}),a.jsx("p",{children:"Please note, if you ask us to delete or stop selling your data, it may impact your experience with us, and you may not be able to participate in certain programs or membership services which require the usage of your personal information to function. But in no circumstances, we will discriminate against you for exercising your rights."}),a.jsxs("p",{children:["To exercise your California data protection rights described above, please send your request(s) by email:"," ",a.jsx("strong",{children:"support@vidyaastra.com"}),"."]}),a.jsx("p",{children:"Your data protection rights, described above, are covered by the CCPA, short for the California Consumer Privacy Act. To find out more, visit the official California Legislative Information website. The CCPA took effect on 01/01/2020."})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"13. Service Providers"}),a.jsxs("div",{className:"space-y-4 text-gray-700",children:[a.jsxs("p",{children:["We may employ third party companies and individuals to facilitate our Service (",a.jsx("strong",{children:'"Service Providers"'}),"), provide Service on our behalf, perform Service-related services or assist us in analysing how our Service is used."]}),a.jsx("p",{children:"These third parties have access to your Personal Data only to perform these tasks on our behalf and are obligated not to disclose or use it for any other purpose."})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"14. Analytics"}),a.jsx("p",{className:"text-gray-700",children:"We may use third-party Service Providers to monitor and analyze the use of our Service."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"15. CI/CD tools"}),a.jsx("p",{className:"text-gray-700",children:"We may use third-party Service Providers to automate the development process of our Service."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"16. Behavioral Remarketing"}),a.jsx("p",{className:"text-gray-700",children:"We may use remarketing services to advertise on third party websites to you after you visited our Service. We and our third-party vendors use cookies to inform, optimise and serve ads based on your past visits to our Service."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"17. Links to Other Sites"}),a.jsxs("div",{className:"space-y-4 text-gray-700",children:[a.jsx("p",{children:"Our Service may contain links to other sites that are not operated by us. If you click a third party link, you will be directed to that third party's site. We strongly advise you to review the Privacy Policy of every site you visit."}),a.jsx("p",{children:"We have no control over and assume no responsibility for the content, privacy policies or practices of any third party sites or services."})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"18. Children's Privacy"}),a.jsxs("div",{className:"space-y-4 text-gray-700",children:[a.jsxs("p",{children:["Our Services are not intended for use by children under the age of 18 (",a.jsx("strong",{children:'"Child"'})," or ",a.jsx("strong",{children:'"Children"'}),")."]}),a.jsx("p",{children:"We do not knowingly collect personally identifiable information from Children under 18. If you become aware that a Child has provided us with Personal Data, please contact us. If we become aware that we have collected Personal Data from Children without verification of parental consent, we take steps to remove that information from our servers."})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"19. Changes to This Privacy Policy"}),a.jsxs("div",{className:"space-y-4 text-gray-700",children:[a.jsx("p",{children:"We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page."}),a.jsx("p",{children:'We will let you know via email and/or a prominent notice on our Service, prior to the change becoming effective and update "effective date" at the top of this Privacy Policy.'}),a.jsx("p",{children:"You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"20. Contact Us"}),a.jsxs("p",{className:"text-gray-700",children:["If you have any questions about this Privacy Policy, please contact us by email: ",a.jsx("strong",{children:"support@vidyaastra.com"}),"."]})]})]})}),LDe=()=>a.jsx("div",{className:"max-w-4xl mx-auto px-6 py-8 bg-white",children:a.jsxs("div",{className:"prose prose-lg max-w-none",children:[a.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-8",children:"TERMS AND CONDITIONS"}),a.jsx("p",{className:"text-gray-600 mb-8",children:"Last updated: 2025-09-07"}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"1. Introduction"}),a.jsxs("div",{className:"space-y-4 text-gray-700",children:[a.jsxs("p",{children:["Welcome to ",a.jsx("strong",{children:"vidyaastra"}),' ("Company", "we", "our", "us")!']}),a.jsxs("p",{children:['These Terms of Service ("Terms", "Terms of Service") govern your use of our website located at'," ",a.jsx("strong",{children:"https://vidyaastra.com"}),' (together or individually "Service") operated by ',a.jsxs("strong",{children:["     ",a.jsxs("a",{href:"https://parnetsgroup.com/",className:"font-medium text-orange-500 hover:text-orange-400 transition-colors",children:[a.jsx("strong",{className:"text-orange-500",children:"Par"}),a.jsx("strong",{className:"text-black",children:"Nets"})]})," ","Software India Pvt Ltd "]}),"."]}),a.jsx("p",{children:"Our Privacy Policy also governs your use of our Service and explains how we collect, safeguard and disclose information that results from your use of our web pages."}),a.jsx("p",{children:'Your agreement with us includes these Terms and our Privacy Policy ("Agreements"). You acknowledge that you have read and understood Agreements, and agree to be bound of them.'}),a.jsxs("p",{children:["If you do not agree with (or cannot comply with) Agreements, then you may not use the Service, but please let us know by emailing at"," ",a.jsx("strong",{children:"support@vidyaastra.com"})," so we can try to find a solution. These Terms apply to all visitors, users and others who wish to access or use Service."]})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"2. Communications"}),a.jsx("p",{className:"text-gray-700",children:"By using our Service, you agree to subscribe to newsletters, marketing or promotional materials and other information we may send. However, you may opt out of receiving any, or all, of these communications from us by following the unsubscribe link or by emailing at support@vidyaastra.com."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"3. Contests, Sweepstakes and Promotions"}),a.jsx("p",{className:"text-gray-700",children:'Any contests, sweepstakes or other promotions (collectively, "Promotions") made available through Service may be governed by rules that are separate from these Terms of Service. If you participate in any Promotions, please review the applicable rules as well as our Privacy Policy. If the rules for a Promotion conflict with these Terms of Service, Promotion rules will apply.'})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"4. Content"}),a.jsx("p",{className:"text-gray-700",children:"Content found on or through this Service are the property of vidyaastra or used with permission. You may not distribute, modify, transmit, reuse, download, repost, copy, or use said Content, whether in whole or in part, for commercial purposes or for personal gain, without express advance written permission from us."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"5. Prohibited Uses"}),a.jsxs("div",{className:"space-y-4 text-gray-700",children:[a.jsx("p",{children:"You may use Service only for lawful purposes and in accordance with Terms. You agree not to use Service:"}),a.jsxs("ul",{className:"list-decimal list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"In any way that violates any applicable national or international law or regulation."}),a.jsx("li",{children:"For the purpose of exploiting, harming, or attempting to exploit or harm minors in any way by exposing them to inappropriate content or otherwise."}),a.jsx("li",{children:'To transmit, or procure the sending of, any advertising or promotional material, including any "junk mail", "chain letter," "spam," or any other similar solicitation.'}),a.jsx("li",{children:"To impersonate or attempt to impersonate Company, a Company employee, another user, or any other person or entity."}),a.jsx("li",{children:"In any way that infringes upon the rights of others, or in any way is illegal, threatening, fraudulent, or harmful, or in connection with any unlawful, illegal, fraudulent, or harmful purpose or activity."}),a.jsx("li",{children:"To engage in any other conduct that restricts or inhibits anyone's use or enjoyment of Service, or which, as determined by us, may harm or offend Company or users of Service or expose them to liability."})]}),a.jsx("p",{className:"mt-6",children:"Additionally, you agree not to:"}),a.jsxs("ul",{className:"list-decimal list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"Use Service in any manner that could disable, overburden, damage, or impair Service or interfere with any other party's use of Service, including their ability to engage in real time activities through Service."}),a.jsx("li",{children:"Use any robot, spider, or other automatic device, process, or means to access Service for any purpose, including monitoring or copying any of the material on Service."}),a.jsx("li",{children:"Use any manual process to monitor or copy any of the material on Service or for any other unauthorized purpose without our prior written consent."}),a.jsx("li",{children:"Use any device, software, or routine that interferes with the proper working of Service."}),a.jsx("li",{children:"Introduce any viruses, trojan horses, worms, logic bombs, or other material which is malicious or technologically harmful."}),a.jsx("li",{children:"Attempt to gain unauthorized access to, interfere with, damage, or disrupt any parts of Service, the server on which Service is stored, or any server, computer, or database connected to Service."}),a.jsx("li",{children:"Attack Service via a denial-of-service attack or a distributed denial-of-service attack."}),a.jsx("li",{children:"Take any action that may damage or falsify Company rating."}),a.jsx("li",{children:"Otherwise attempt to interfere with the proper working of Service."})]})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"6. Analytics"}),a.jsx("p",{className:"text-gray-700",children:"We may use third-party Service Providers to monitor and analyze the use of our Service."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"7. No Use By Minors"}),a.jsx("p",{className:"text-gray-700",children:"Service is intended only for access and use by individuals at least eighteen (18) years old. By accessing or using Service, you warrant and represent that you are at least eighteen (18) years of age and with the full authority, right, and capacity to enter into this agreement and abide by all of the terms and conditions of Terms. If you are not at least eighteen (18) years old, you are prohibited from both the access and usage of Service."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"8. Intellectual Property"}),a.jsx("p",{className:"text-gray-700",children:"Service and its original content (excluding Content provided by users), features and functionality are and will remain the exclusive property of vidyaastra and its licensors. Service is protected by copyright, trademark, and other laws of and foreign countries. Our trademarks may not be used in connection with any product or service without the prior written consent of vidyaastra."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"9. Copyright Policy"}),a.jsxs("div",{className:"space-y-4 text-gray-700",children:[a.jsx("p",{children:'We respect the intellectual property rights of others. It is our policy to respond to any claim that Content posted on Service infringes on the copyright or other intellectual property rights ("Infringement") of any person or entity.'}),a.jsx("p",{children:'If you are a copyright owner, or authorized on behalf of one, and you believe that the copyrighted work has been copied in a way that constitutes copyright infringement, please submit your claim via email to support@vidyaastra.com, with the subject line: "Copyright Infringement" and include in your claim a detailed description of the alleged Infringement as detailed below, under "DMCA Notice and Procedure for Copyright Infringement Claims"'}),a.jsx("p",{children:"You may be held accountable for damages (including costs and attorneys' fees) for misrepresentation or bad-faith claims on the infringement of any Content found on and/or through Service on your copyright."})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"10. DMCA Notice and Procedure for Copyright Infringement Claims"}),a.jsxs("div",{className:"space-y-4 text-gray-700",children:[a.jsx("p",{children:"You may submit a notification pursuant to the Digital Millennium Copyright Act (DMCA) by providing our Copyright Agent with the following information in writing (see 17 U.S.C 512(c)(3) for further detail):"}),a.jsxs("ul",{className:"list-decimal list-inside space-y-2 ml-4",children:[a.jsx("li",{children:"an electronic or physical signature of the person authorized to act on behalf of the owner of the copyright's interest;"}),a.jsx("li",{children:"a description of the copyrighted work that you claim has been infringed, including the URL (i.e., web page address) of the location where the copyrighted work exists or a copy of the copyrighted work;"}),a.jsx("li",{children:"identification of the URL or other specific location on Service where the material that you claim is infringing is located;"}),a.jsx("li",{children:"your address, telephone number, and email address;"}),a.jsx("li",{children:"a statement by you that you have a good faith belief that the disputed use is not authorized by the copyright owner, its agent, or the law;"}),a.jsx("li",{children:"a statement by you, made under penalty of perjury, that the above information in your notice is accurate and that you are the copyright owner or authorized to act on the copyright owner's behalf."})]}),a.jsx("p",{children:"You can contact our Copyright Agent via email at support@vidyaastra.com."})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"11. Error Reporting and Feedback"}),a.jsx("p",{className:"text-gray-700",children:'You may provide us either directly at support@vidyaastra.com or via third party sites and tools with information and feedback concerning errors, suggestions for improvements, ideas, problems, complaints, and other matters related to our Service ("Feedback"). You acknowledge and agree that: (i) you shall not retain, acquire or assert any intellectual property right or other right, title or interest in or to the Feedback; (ii) Company may have development ideas similar to the Feedback; (iii) Feedback does not contain confidential information or proprietary information from you or any third party; and (iv) Company is not under any obligation of confidentiality with respect to the Feedback. In the event the transfer of the ownership to the Feedback is not possible due to applicable mandatory laws, you grant Company and its affiliates an exclusive, transferable, irrevocable, free-of-charge, sub-licensable, unlimited and perpetual right to use (including copy, modify, create derivative works, publish, distribute and commercialize) Feedback in any manner and for any purpose.'})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"12. Links To Other Web Sites"}),a.jsxs("div",{className:"space-y-4 text-gray-700",children:[a.jsx("p",{children:"Our Service may contain links to third party web sites or services that are not owned or controlled by vidyaastra."}),a.jsx("p",{children:"vidyaastra has no control over, and assumes no responsibility for the content, privacy policies, or practices of any third party web sites or services. We do not warrant the offerings of any of these entities/individuals or their websites."}),a.jsx("p",{className:"font-semibold uppercase",children:"YOU ACKNOWLEDGE AND AGREE THAT COMPANY SHALL NOT BE RESPONSIBLE OR LIABLE, DIRECTLY OR INDIRECTLY, FOR ANY DAMAGE OR LOSS CAUSED OR ALLEGED TO BE CAUSED BY OR IN CONNECTION WITH USE OF OR RELIANCE ON ANY SUCH CONTENT, GOODS OR SERVICES AVAILABLE ON OR THROUGH ANY SUCH THIRD PARTY WEB SITES OR SERVICES."}),a.jsx("p",{className:"font-semibold uppercase",children:"WE STRONGLY ADVISE YOU TO READ THE TERMS OF SERVICE AND PRIVACY POLICIES OF ANY THIRD PARTY WEB SITES OR SERVICES THAT YOU VISIT."})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"13. Disclaimer Of Warranty"}),a.jsxs("div",{className:"space-y-4 text-gray-700",children:[a.jsx("p",{className:"font-semibold uppercase",children:'THESE SERVICES ARE PROVIDED BY COMPANY ON AN "AS IS" AND "AS AVAILABLE" BASIS. COMPANY MAKES NO REPRESENTATIONS OR WARRANTIES OF ANY KIND, EXPRESS OR IMPLIED, AS TO THE OPERATION OF THEIR SERVICES, OR THE INFORMATION, CONTENT OR MATERIALS INCLUDED THEREIN. YOU EXPRESSLY AGREE THAT YOUR USE OF THESE SERVICES, THEIR CONTENT, AND ANY SERVICES OR ITEMS OBTAINED FROM US IS AT YOUR SOLE RISK.'}),a.jsx("p",{className:"font-semibold uppercase",children:"NEITHER COMPANY NOR ANY PERSON ASSOCIATED WITH COMPANY MAKES ANY WARRANTY OR REPRESENTATION WITH RESPECT TO THE COMPLETENESS, SECURITY, RELIABILITY, QUALITY, ACCURACY, OR AVAILABILITY OF THE SERVICES. WITHOUT LIMITING THE FOREGOING, NEITHER COMPANY NOR ANYONE ASSOCIATED WITH COMPANY REPRESENTS OR WARRANTS THAT THE SERVICES, THEIR CONTENT, OR ANY SERVICES OR ITEMS OBTAINED THROUGH THE SERVICES WILL BE ACCURATE, RELIABLE, ERROR-FREE, OR UNINTERRUPTED, THAT DEFECTS WILL BE CORRECTED, THAT THE SERVICES OR THE SERVER THAT MAKES IT AVAILABLE ARE FREE OF VIRUSES OR OTHER HARMFUL COMPONENTS OR THAT THE SERVICES OR ANY SERVICES OR ITEMS OBTAINED THROUGH THE SERVICES WILL OTHERWISE MEET YOUR NEEDS OR EXPECTATIONS."}),a.jsx("p",{className:"font-semibold uppercase",children:"COMPANY HEREBY DISCLAIMS ALL WARRANTIES OF ANY KIND, WHETHER EXPRESS OR IMPLIED, STATUTORY, OR OTHERWISE, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF MERCHANTABILITY, NON-INFRINGEMENT, AND FITNESS FOR PARTICULAR PURPOSE."}),a.jsx("p",{className:"font-semibold uppercase",children:"THE FOREGOING DOES NOT AFFECT ANY WARRANTIES WHICH CANNOT BE EXCLUDED OR LIMITED UNDER APPLICABLE LAW."})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"14. Limitation Of Liability"}),a.jsx("p",{className:"text-gray-700 font-semibold uppercase",children:"EXCEPT AS PROHIBITED BY LAW, YOU WILL HOLD US AND OUR OFFICERS, DIRECTORS, EMPLOYEES, AND AGENTS HARMLESS FOR ANY INDIRECT, PUNITIVE, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGE, HOWEVER IT ARISES (INCLUDING ATTORNEYS' FEES AND ALL RELATED COSTS AND EXPENSES OF LITIGATION AND ARBITRATION, OR AT TRIAL OR ON APPEAL, IF ANY, WHETHER OR NOT LITIGATION OR ARBITRATION IS INSTITUTED), WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE, OR OTHER TORTIOUS ACTION, OR ARISING OUT OF OR IN CONNECTION WITH THIS AGREEMENT, INCLUDING WITHOUT LIMITATION ANY CLAIM FOR PERSONAL INJURY OR PROPERTY DAMAGE, ARISING FROM THIS AGREEMENT AND ANY VIOLATION BY YOU OF ANY FEDERAL, STATE, OR LOCAL LAWS, STATUTES, RULES, OR REGULATIONS, EVEN IF COMPANY HAS BEEN PREVIOUSLY ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. EXCEPT AS PROHIBITED BY LAW, IF THERE IS LIABILITY FOUND ON THE PART OF COMPANY, IT WILL BE LIMITED TO THE AMOUNT PAID FOR THE PRODUCTS AND/OR SERVICES, AND UNDER NO CIRCUMSTANCES WILL THERE BE CONSEQUENTIAL OR PUNITIVE DAMAGES. SOME STATES DO NOT ALLOW THE EXCLUSION OR LIMITATION OF PUNITIVE, INCIDENTAL OR CONSEQUENTIAL DAMAGES, SO THE PRIOR LIMITATION OR EXCLUSION MAY NOT APPLY TO YOU."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"15. Termination"}),a.jsxs("div",{className:"space-y-4 text-gray-700",children:[a.jsx("p",{children:"We may terminate or suspend your account and bar access to Service immediately, without prior notice or liability, under our sole discretion, for any reason whatsoever and without limitation, including but not limited to a breach of Terms."}),a.jsx("p",{children:"If you wish to terminate your account, you may simply discontinue using Service."}),a.jsx("p",{children:"All provisions of Terms which by their nature should survive termination shall survive termination, including, without limitation, ownership provisions, warranty disclaimers, indemnity and limitations of liability."})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"16. Governing Law"}),a.jsxs("div",{className:"space-y-4 text-gray-700",children:[a.jsx("p",{children:"These Terms shall be governed and construed in accordance with the laws of India, which governing law applies to agreement without regard to its conflict of law provisions."}),a.jsx("p",{children:"Our failure to enforce any right or provision of these Terms will not be considered a waiver of those rights. If any provision of these Terms is held to be invalid or unenforceable by a court, the remaining provisions of these Terms will remain in effect. These Terms constitute the entire agreement between us regarding our Service and supersede and replace any prior agreements we might have had between us regarding Service."})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"17. Changes To Service"}),a.jsx("p",{className:"text-gray-700",children:"We reserve the right to withdraw or amend our Service, and any service or material we provide via Service, in our sole discretion without notice. We will not be liable if for any reason all or any part of Service is unavailable at any time or for any period. From time to time, we may restrict access to some parts of Service, or the entire Service, to users, including registered users."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"18. Amendments To Terms"}),a.jsxs("div",{className:"space-y-4 text-gray-700",children:[a.jsx("p",{children:"We may amend Terms at any time by posting the amended terms on this site. It is your responsibility to review these Terms periodically."}),a.jsx("p",{children:"Your continued use of the Platform following the posting of revised Terms means that you accept and agree to the changes. You are expected to check this page frequently so you are aware of any changes, as they are binding on you."}),a.jsx("p",{children:"By continuing to access or use our Service after any revisions become effective, you agree to be bound by the revised terms. If you do not agree to the new terms, you are no longer authorized to use Service."})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"19. Waiver And Severability"}),a.jsxs("div",{className:"space-y-4 text-gray-700",children:[a.jsx("p",{children:"No waiver by Company of any term or condition set forth in Terms shall be deemed a further or continuing waiver of such term or condition or a waiver of any other term or condition, and any failure of Company to assert a right or provision under Terms shall not constitute a waiver of such right or provision."}),a.jsx("p",{children:"If any provision of Terms is held by a court or other tribunal of competent jurisdiction to be invalid, illegal or unenforceable for any reason, such provision shall be eliminated or limited to the minimum extent such that the remaining provisions of Terms will continue in full force and effect."})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"20. Acknowledgement"}),a.jsx("p",{className:"text-gray-700 font-semibold uppercase",children:"BY USING SERVICE OR OTHER SERVICES PROVIDED BY US, YOU ACKNOWLEDGE THAT YOU HAVE READ THESE TERMS OF SERVICE AND AGREE TO BE BOUND BY THEM."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"21. Contact Us"}),a.jsxs("p",{className:"text-gray-700",children:["Please send your feedback, comments, requests for technical support by email: ",a.jsx("strong",{children:"support@vidyaastra.com"}),"."]})]})]})}),i5=()=>a.jsxs("footer",{className:"bg-white text-[#17024F] relative",children:[a.jsx("style",{children:`
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes pulse {
          0% { transform: scale(1); }
          50% { transform: scale(1.1); }
          100% { transform: scale(1); }
        }
        .animate-fadeInUp { animation: fadeInUp 0.8s ease-out forwards; }
        .animate-pulse { animation: pulse 1.5s infinite ease-in-out; }
        .footer-link:hover, .social-icon:hover {
          transform: translateY(-2px);
          color: #FF6200;
        }
        .contact-item:hover .contact-icon {
          transform: scale(1.2);
        }
      `}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12 sm:py-16",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[a.jsx("img",{src:cy,alt:"Vidyaastra Logo",className:"h-20 w-auto mb-4 animate-fadeInUp",style:{animationDelay:"0.1s"}}),a.jsx("p",{className:"text-gray-600 text-sm text-center md:text-left max-w-xs animate-fadeInUp",style:{animationDelay:"0.2s"},children:"Vidyaastra: Empowering schools with seamless management and enhanced engagement."}),a.jsx("div",{className:"flex space-x-4 mt-4",children:[{icon:c7e,href:"https://twitter.com",label:"Twitter"},{icon:s7e,href:"https://www.linkedin.com/company/vidyaastra1/about/?viewAsMember=true",label:"LinkedIn"},{icon:i7e,href:"https://www.facebook.com/profile.php?id=61580375357151",label:"Facebook"},{icon:o7e,href:"https://instagram.com",label:"Instagram"}].map((e,t)=>a.jsx("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",className:"text-[#17024F] hover:text-orange-500 transition-all duration-300 social-icon animate-fadeInUp","aria-label":e.label,style:{animationDelay:`${.3+t*.1}s`},children:a.jsx(ji,{icon:e.icon,className:"w-6 h-6 hover:animate-pulse"})},t))})]}),a.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#17024F] mb-4 animate-fadeInUp",style:{animationDelay:"0.4s"},children:"Quick Links"}),a.jsx("ul",{className:"space-y-2 text-gray-600 text-sm",children:[{to:"/",label:"Home"},{to:"/about",label:"About"},{to:"/features",label:"Features"},{to:"/contact",label:"Contact"}].map((e,t)=>a.jsx("li",{children:a.jsx(cl,{to:e.to,className:"footer-link hover:text-orange-500 transition-all duration-200 animate-fadeInUp",style:{animationDelay:`${.5+t*.1}s`},children:e.label})},t))})]}),a.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#17024F] mb-4 animate-fadeInUp",style:{animationDelay:"0.7s"},children:"Download App"}),a.jsxs("div",{className:"flex flex-col space-y-4",children:[a.jsx("a",{href:"https://play.google.com/store/apps/details?id=com.schoolmanagment",target:"_blank",rel:"noopener noreferrer",className:"animate-fadeInUp",style:{animationDelay:"0.8s"},children:a.jsx("img",{src:"/badge-google-play.webp ",alt:"Get it on Google Play",className:"h-12 w-auto"})}),a.jsx("a",{target:"_blank",rel:"noopener noreferrer",className:"animate-fadeInUp",style:{animationDelay:"0.9s"},onClick:()=>alert("Comming soon..."),children:a.jsx("img",{src:"/badge-google-play-apple.webp",alt:"Download on the App Store",className:"h-12 w-auto"})})]})]}),a.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#17024F] mb-4 animate-fadeInUp",style:{animationDelay:"1s"},children:"Contact Us"}),a.jsx("div",{className:"space-y-3 text-gray-600 text-sm",children:[{icon:cJ,content:"104/1 Singapura Main Road near Reliance Smart , Bengaluru , Karnataka , 560097"},{icon:lJ,content:"+91-8123486068",href:"tel:+91-8123486068"},{icon:iJ,content:"support@vidyaastra.com",href:"mailto:info@vidyaastra.com"}].map((e,t)=>a.jsxs("div",{className:"flex items-start space-x-3 contact-item animate-fadeInUp",style:{animationDelay:`${1.1+t*.1}s`},children:[a.jsx(ji,{icon:e.icon,className:"text-orange-500 w-5 h-5 mt-1 transition-transform contact-icon","aria-hidden":"true"}),e.href?a.jsx("a",{href:e.href,className:"hover:text-orange-500 transition-colors",children:e.content}):a.jsx("p",{children:e.content})]},t))})]})]})}),a.jsx("div",{className:"border-t border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0 text-gray-600 text-sm",children:[a.jsxs("div",{className:"flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-6",children:[a.jsxs("p",{className:"animate-fadeInUp",style:{animationDelay:"1.5s"},children:[" ",new Date().getFullYear()," Vidyaastra. All rights reserved."]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx(cl,{to:"/PrivacyPolicy",className:"footer-link hover:text-orange-500 transition-all duration-200 animate-fadeInUp",style:{animationDelay:"1.6s"},children:"Privacy Policy"}),a.jsx("span",{className:"text-gray-400",children:""}),a.jsx(cl,{to:"/Terms&Conditions",className:"footer-link hover:text-orange-500 transition-all duration-200 animate-fadeInUp",style:{animationDelay:"1.7s"},children:"Terms & Conditions"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 animate-fadeInUp",style:{animationDelay:"1.8s"},children:[a.jsx("span",{children:"A Product of"}),a.jsxs("a",{href:"https://parnetsgroup.com/",className:"font-medium text-orange-500 hover:text-orange-400 transition-colors",children:[a.jsx("span",{className:"text-orange-500",children:"Par"}),a.jsx("span",{className:"text-black",children:"Nets"})]}),a.jsx("span",{children:"Software India Pvt Ltd"})]})]})})})]}),ODe=()=>a.jsxs("section",{className:"max-w-7xl mx-auto px-4 py-12 bg-gray-50",children:[a.jsx("style",{children:`
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeInUp { animation: fadeInUp 0.8s ease-out forwards; }
        .feature-card {
          transition: all 0.3s ease;
        }
        .feature-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
        }
        .usp-card {
          transition: all 0.3s ease;
        }
        .usp-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }
      `}),a.jsxs("div",{className:"mb-12",children:[a.jsxs("h2",{className:"text-3xl sm:text-4xl font-extrabold text-center text-gray-900 mb-8 animate-fadeInUp",children:[a.jsx("span",{className:"text-orange-600",children:"Features"})," for Everyone"]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[a.jsxs(Yn.div,{className:"bg-white rounded-xl shadow-lg p-6 feature-card",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"For School Admins"}),a.jsxs("ul",{className:"space-y-3 text-gray-500 text-base",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx(ji,{icon:R7e,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Fee Collection & Online Payments"]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(ji,{icon:m7e,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Attendance & Timetable Management"]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(ji,{icon:h9,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Report Cards & Exam Management"]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(ji,{icon:_7e,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Transport & Bus Tracking"]})]})]}),a.jsxs(Yn.div,{className:"bg-white rounded-xl shadow-lg p-6 feature-card",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"For Teachers"}),a.jsxs("ul",{className:"space-y-3 text-gray-500 text-base",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx(ji,{icon:B5,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Quick Attendance Marking"]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(ji,{icon:O7e,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Homework & Assignment Uploads"]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(ji,{icon:h9,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Exam & Marks Entry"]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(ji,{icon:E7e,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Direct Parent Communication"]})]})]}),a.jsxs(Yn.div,{className:"bg-white rounded-xl shadow-lg p-6 feature-card",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"For Parents & Students"}),a.jsxs("ul",{className:"space-y-3 text-gray-500 text-base",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx(ji,{icon:oJ,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Real-time Notifications"]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(ji,{icon:k7e,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Online Fee Payment"]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(ji,{icon:U7e,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Homework & Class Updates"]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(ji,{icon:y7e,className:"text-orange-600 w-5 h-5 mr-2 mt-1"}),"Progress Reports & Digital Report Cards"]})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[a.jsxs("h2",{className:"text-3xl sm:text-4xl font-extrabold text-center text-gray-900 mb-6 sm:mb-8 animate-fadeInUp",children:[a.jsx("span",{className:"text-orange-600",children:"What Makes"})," Vidyaastra Different?"]}),a.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[a.jsxs(Yn.div,{className:"flex items-start space-x-3 bg-gray-50 p-4 rounded-lg usp-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[a.jsx(ji,{icon:D7e,className:"text-orange-600 w-6 h-6 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Time-Saving Automation"}),a.jsx("p",{className:"text-gray-500 text-base",children:"Focus more on education, less on admin tasks with our streamlined automation tools."})]})]}),a.jsxs(Yn.div,{className:"flex items-start space-x-3 bg-gray-50 p-4 rounded-lg usp-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[a.jsx(ji,{icon:L7e,className:"text-orange-600 w-6 h-6 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Anytime, Anywhere Access"}),a.jsx("p",{className:"text-gray-500 text-base",children:"Web & mobile ready platform for seamless access from any device."})]})]}),a.jsxs(Yn.div,{className:"flex items-start space-x-3 bg-gray-50 p-4 rounded-lg usp-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[a.jsx(ji,{icon:v7e,className:"text-orange-600 w-6 h-6 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Simple & User-Friendly"}),a.jsx("p",{className:"text-gray-500 text-base",children:"No technical skills needed to navigate our intuitive interface."})]})]}),a.jsxs(Yn.div,{className:"flex items-start space-x-3 bg-gray-50 p-4 rounded-lg usp-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},children:[a.jsx(ji,{icon:P7e,className:"text-orange-600 w-6 h-6 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Data Security First"}),a.jsx("p",{className:"text-gray-500 text-base",children:"Safe & encrypted platform to protect your school's data."})]})]}),a.jsxs(Yn.div,{className:"flex items-start space-x-3 bg-gray-50 p-4 rounded-lg usp-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:[a.jsx(ji,{icon:N7e,className:"text-orange-600 w-6 h-6 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Smart Insights"}),a.jsx("p",{className:"text-gray-500 text-base",children:"Track school growth & student progress with actionable analytics."})]})]})]})]})]}),DDe=()=>{const[e,t]=C.useState({name:"",school:"",email:"",phone:"",message:""}),[r,n]=C.useState(!1),s=o=>{t({...e,[o.target.name]:o.target.value})},i=async o=>{o.preventDefault();try{(await sr.post("https://vidyaastra.com/api/enquiries",e)).status===201&&(t({name:"",school:"",email:"",phone:"",message:""}),setIsOpen(!1),n(!0),setTimeout(()=>{n(!1)},3e3))}catch(l){l.response&&alert(l.response.data.errors||l.response.data.message),console.log(l)}};return a.jsxs("section",{className:"max-w-7xl mx-auto px-4 py-12 bg-gray-50 min-h-screen",children:[a.jsx("style",{children:`
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeInUp { animation: fadeInUp 0.8s ease-out forwards; }
        .input-field {
          transition: all 0.3s ease;
        }
        .input-field:focus {
          border-color: #f97316; /* orange-600 */
          box-shadow: 0 0 0 3px rgba(234, 88, 12, 0.2);
        }
        .submit-button:hover {
          transform: translateY(-2px);
        }
        .contact-card {
          transition: all 0.3s ease;
        }
        .contact-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }
        .toast {
          position: fixed;
          top: 20px;
          right: 20px;
          background: #f97316; /* orange-600 */
          color: white;
          padding: 12px 24px;
          border-radius: 8px;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
          z-index: 1000;
        }
      `}),a.jsxs("div",{className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-3xl sm:text-5xl font-extrabold text-gray-900 mb-6 animate-fadeInUp",children:[a.jsx("span",{className:"text-orange-600",children:"Get in Touch"})," with Us"]}),a.jsx(Yn.p,{className:"text-base sm:text-lg text-gray-500 max-w-3xl mx-auto leading-relaxed",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:"We're here to help you transform your school with Vidyaastra. Reach out to us for any queries or to schedule a demo."})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[a.jsxs(Yn.div,{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8 contact-card",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Contact Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(ji,{icon:cJ,className:"text-orange-600 w-6 h-6 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Address"}),a.jsxs("p",{className:"text-gray-500 text-base",children:["104/1 Singapura Main Road near Reliance Smart,",a.jsx("br",{})," Bengaluru , Karnataka , 560097"]})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(ji,{icon:lJ,className:"text-orange-600 w-6 h-6 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Phone"}),a.jsx("a",{className:"text-gray-500 text-base hover:text-orange-500",href:"tel:+91-8123486068",children:"+91-8123486068"})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(ji,{icon:iJ,className:"text-orange-600 w-6 h-6 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Email"}),a.jsx("a",{className:"text-gray-500 text-base hover:text-orange-500",href:"mailto:info@vidyaastra.com",children:"support@vidyaastra.com"})]})]})]})]}),a.jsxs(Yn.div,{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Send Us a Message"}),a.jsxs("form",{onSubmit:i,className:"space-y-5",children:[a.jsx("div",{children:a.jsx("input",{type:"text",name:"name",value:e.name,onChange:s,required:!0,placeholder:"Enter your name",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-3 text-gray-900 text-base"})}),a.jsx("div",{children:a.jsx("input",{type:"text",name:"school",value:e.school,onChange:s,required:!0,placeholder:"Enter your school/institution name",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-3 text-gray-900 text-base"})}),a.jsx("div",{children:a.jsx("input",{type:"email",name:"email",value:e.email,onChange:s,required:!0,placeholder:"Enter your email",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-3 text-gray-900 text-base"})}),a.jsx("div",{children:a.jsx("input",{type:"tel",name:"phone",value:e.phone,onChange:s,required:!0,placeholder:"Enter your phone number",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-3 text-gray-900 text-base"})}),a.jsx("div",{children:a.jsx("textarea",{name:"message",value:e.message,onChange:s,rows:"4",required:!0,placeholder:"Enter your message",className:"input-field mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-orange-600 focus:border-orange-600 p-3 text-gray-900 text-base"})}),a.jsx("button",{type:"submit",className:"submit-button w-full bg-orange-600 hover:bg-orange-500 text-white font-bold py-3 px-4 rounded-lg shadow-md transition duration-300 text-base",children:"Submit Enquiry"})]})]})]}),a.jsx(Pb,{children:r&&a.jsx(Yn.div,{className:"toast",initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{duration:.3},children:"Enquiry submitted successfully!"})})]})},y9={pending:{icon:es,color:"bg-yellow-500 text-white"},"in-progress":{icon:ga,color:"bg-blue-500 text-white"},resolved:{icon:Dl,color:"bg-green-500 text-white"},closed:{icon:Lr,color:"bg-gray-500 text-white"}},MDe={low:{color:"bg-green-100 text-green-800"},medium:{color:"bg-yellow-100 text-yellow-800"},high:{color:"bg-red-100 text-red-800"}},UDe=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(""),[s,i]=C.useState([]),[o,l]=C.useState(null),[c,d]=C.useState(!0),[u,h]=C.useState(""),[m,A]=C.useState(""),[y,x]=C.useState(!1),[v,b]=C.useState({start:"",end:""}),[j,E]=C.useState(1),[T]=C.useState(10),[P,U]=C.useState(1),[M,k]=C.useState(0),[Q,z]=C.useState(null),[O,L]=C.useState(!1),V=async()=>{try{d(!0),console.log(`[API] Fetching enquiries for page ${j}`);const B=new URLSearchParams({page:j,limit:T});u&&B.append("status",u),m&&B.append("priority",m),r&&B.append("search",r);const Y=await(await fetch(`https://vidyaastra.com/api/enquiries?${B}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();if(console.log("[API] Enquiries API response:",Y),Y.success&&Array.isArray(Y.data)){const ie=Y.data.map(ge=>({id:ge._id,name:ge.name||"Unknown",school:ge.school||"Unknown School",email:ge.email||"",phone:ge.phone||"",message:ge.message||"",status:ge.status||"pending",priority:ge.priority||"medium",date:J(ge.createdAt),updatedAt:J(ge.updatedAt)}));i(ie),U(Y.pagination?.pages||1),k(Y.pagination?.total||0),l(null)}else l(Y.message||"Failed to fetch enquiries"),i([])}catch(B){console.error("[API] Error fetching enquiries:",B.message),l("Error fetching enquiries: "+B.message),i([])}finally{d(!1)}};C.useEffect(()=>{V()},[j,u,m,r]);const J=B=>{if(!B)return"N/A";try{const R=new Date(B);return isNaN(R)?"N/A":R.toISOString().slice(0,10)}catch{return"N/A"}},ce=C.useMemo(()=>s.filter(B=>{let R=!0;v.start&&v.end?R=B.date!=="N/A"&&B.date>=v.start&&B.date<=v.end:e&&(R=B.date===e);const Y=!r||B.name.toLowerCase().includes(r.toLowerCase())||B.school.toLowerCase().includes(r.toLowerCase())||B.email.toLowerCase().includes(r.toLowerCase())||B.phone.includes(r),ie=!u||B.status===u,ge=!m||B.priority===m;return R&&Y&&ie&&ge}),[s,e,r,u,m,v]),ee=()=>{n(""),h(""),A(""),b({start:"",end:""}),t(""),E(1)},de=()=>{if(ce.length===0){alert("No data to export");return}const B=ce.map(Z=>({Date:Z.date,Name:Z.name,School:Z.school,Email:Z.email,Phone:Z.phone,Message:Z.message.replace(/,/g,";"),Status:Z.status.charAt(0).toUpperCase()+Z.status.slice(1),Priority:Z.priority.charAt(0).toUpperCase()+Z.priority.slice(1),"Last Updated":Z.updatedAt})),R=Object.keys(B[0]),Y=[R.join(","),...B.map(Z=>R.map(le=>`"${Z[le]??""}"`).join(","))].join(`
`),ie=new Blob([Y],{type:"text/csv;charset=utf-8;"}),ge=document.createElement("a"),ye=URL.createObjectURL(ie);ge.setAttribute("href",ye);let pe="enquiries_";u&&(pe+=`${u}_`),m&&(pe+=`${m}_`),e?pe+=`${e}_`:v.start&&v.end&&(pe+=`${v.start}_to_${v.end}_`),pe+=`${new Date().toISOString().split("T")[0]}.csv`,ge.setAttribute("download",pe),ge.style.visibility="hidden",document.body.appendChild(ge),ge.click(),document.body.removeChild(ge)},se=async(B,R,Y)=>{try{const ge=await(await fetch(`https://vidyaastra.com/api/enquiries/${B}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:R,priority:Y})})).json();ge.success?(V(),L(!1)):l(ge.message||"Failed to update enquiry")}catch(ie){l("Error updating enquiry: "+ie.message)}},he=async B=>{if(confirm("Are you sure you want to delete this enquiry?"))try{const Y=await(await fetch(`https://vidyaastra.com/api/enquiries/${B}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();Y.success?V():l(Y.message||"Failed to delete enquiry")}catch(R){l("Error deleting enquiry: "+R.message)}},fe=C.useMemo(()=>[{icon:u3,value:ce.length,label:"Total Enquiries",color:"orange"},{icon:es,value:ce.filter(B=>B.status==="pending").length,label:"Pending",color:"yellow"},{icon:ga,value:ce.filter(B=>B.status==="in-progress").length,label:"In Progress",color:"blue"},{icon:Dl,value:ce.filter(B=>B.status==="resolved").length,label:"Resolved",color:"green"}],[ce]),ve=B=>{B>=1&&B<=P&&E(B)};return a.jsxs("div",{className:"space-y-8 p-8 bg-gradient-to-b from-[#1C1444]/5 to-white min-h-screen",children:[a.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-[#1C1444]/10 transition-all duration-300 hover:shadow-2xl",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-extrabold text-[#1C1444] tracking-tight",children:"Enquiry Management"}),a.jsx("p",{className:"text-[#1C1444]/80 text-lg mt-1",children:"Manage and track enquiry submissions"})]}),a.jsxs("button",{onClick:de,className:"bg-gradient-to-r from-[#F37021] to-[#d55f1c] hover:from-[#d55f1c] hover:to-[#b54e17] text-white px-6 py-3 rounded-lg shadow-md flex items-center space-x-2 transform transition-all duration-200 hover:scale-105 disabled:opacity-50",title:"Export to CSV",disabled:c,children:[a.jsx(xs,{className:"w-5 h-5"})," ",a.jsx("span",{children:"Export CSV"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Status"}),a.jsxs("select",{value:u,onChange:B=>{h(B.target.value),E(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:c,children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"in-progress",children:"In Progress"}),a.jsx("option",{value:"resolved",children:"Resolved"}),a.jsx("option",{value:"closed",children:"Closed"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Priority"}),a.jsxs("select",{value:m,onChange:B=>{A(B.target.value),E(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:c,children:[a.jsx("option",{value:"",children:"All Priority"}),a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(Jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#1C1444]/60 w-5 h-5"}),a.jsx("input",{type:"date",value:e,onChange:B=>{t(B.target.value),b({start:"",end:""}),E(1)},className:"w-full pl-10 pr-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:c})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Search"}),a.jsxs("div",{className:"relative",children:[a.jsx(Va,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#1C1444]/60 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search by name, school, email...",value:r,onChange:B=>n(B.target.value),className:"w-full pl-10 pr-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:c})]})]})]}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"text-sm text-[#1C1444]/80",children:["Showing ",ce.length," of ",M," records"]}),a.jsxs("button",{onClick:()=>x(!y),className:"flex items-center space-x-2 px-4 py-2 border border-[#1C1444]/20 rounded-lg bg-white hover:bg-[#1C1444] hover:text-white transition-all duration-200 disabled:opacity-50",disabled:c,children:[a.jsx(Fu,{className:"w-5 h-5"}),a.jsx("span",{children:"Advanced Filters"})]})]})}),y&&a.jsx("div",{className:"border-t pt-6 mt-6 border-[#1C1444]/10 transition-all duration-300",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Date Range Start"}),a.jsx("input",{type:"date",value:v.start,onChange:B=>{b({...v,start:B.target.value}),t(""),E(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:c})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Date Range End"}),a.jsx("input",{type:"date",value:v.end,onChange:B=>{b({...v,end:B.target.value}),t(""),E(1)},className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",disabled:c})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:ee,className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg bg-white hover:bg-[#1C1444] hover:text-white text-[#1C1444] transition-all duration-200 disabled:opacity-50",disabled:c,children:"Clear Filters"})})]})})]}),c&&a.jsx("div",{className:"p-6 bg-[#F37021]/10 text-[#F37021] rounded-2xl shadow-md text-center transition-all duration-300",children:"Loading enquiry records..."}),o&&a.jsx("div",{className:"p-6 bg-red-100 text-red-700 rounded-2xl shadow-md text-center transition-all duration-300",children:o}),!c&&!o&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:fe.map((B,R)=>a.jsx("div",{className:`bg-white rounded-2xl p-6 shadow-md border-l-4 border-${B.color==="orange"?"[#F37021]":B.color==="yellow"?"yellow-500":B.color==="blue"?"blue-500":B.color+"-500"} transition-all duration-300 hover:shadow-lg hover:-translate-y-1`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(B.icon,{className:`w-10 h-10 text-${B.color==="orange"?"[#F37021]":B.color==="yellow"?"yellow-600":B.color==="blue"?"blue-600":B.color+"-600"} transition-transform duration-200 group-hover:scale-110`}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-3xl font-extrabold text-[#1C1444]",children:B.value}),a.jsx("div",{className:"text-sm text-[#1C1444]/80",children:B.label})]})]})},R))}),!c&&!o&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden transition-all duration-300",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gradient-to-r from-[#1C1444]/10 to-[#F37021]/10",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Name"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"School"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Contact"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Message"}),a.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Priority"}),a.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-[#1C1444] uppercase tracking-wide",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-[#1C1444]/10",children:ce.map(B=>{const R=B.status,Y=y9[R]?.icon||es,ie=y9[R]?.color||"bg-yellow-500 text-white",ge=MDe[B.priority]?.color||"bg-gray-100 text-gray-800";return a.jsxs("tr",{className:"hover:bg-[#F37021]/5 transition-all duration-200",children:[a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-[#1C1444]",children:B.date}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-[#F37021]/10 text-[#F37021] text-sm font-semibold rounded-full w-8 h-8 flex items-center justify-center mr-3 transition-transform duration-200 hover:scale-110",children:B.name.split(" ").map(ye=>ye[0]).join("")}),a.jsx("span",{className:"text-[#1C1444]",children:B.name})]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-[#1C1444]",children:B.school}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center text-sm text-[#1C1444]",children:[a.jsx(Lm,{className:"w-4 h-4 mr-2 text-[#F37021]"}),a.jsx("a",{href:`mailto:${B.email}`,className:"hover:underline",children:B.email})]}),a.jsxs("div",{className:"flex items-center text-sm text-[#1C1444]",children:[a.jsx(GA,{className:"w-4 h-4 mr-2 text-[#F37021]"}),a.jsx("a",{href:`tel:${B.phone}`,className:"hover:underline",children:B.phone})]})]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-[#1C1444] max-w-xs",children:a.jsx("div",{className:"truncate",title:B.message,children:B.message.length>50?`${B.message.substring(0,50)}...`:B.message})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"flex justify-center",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${ge}`,children:B.priority.charAt(0).toUpperCase()+B.priority.slice(1)})})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"flex justify-center",children:a.jsxs("span",{className:`px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 ${ie} transition-all duration-200 hover:shadow-md`,children:[a.jsx(Y,{className:"w-4 h-4"}),a.jsx("span",{className:"capitalize",children:R.replace("-"," ")})]})})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex justify-center space-x-2",children:[a.jsx("button",{onClick:()=>{z(B),L(!0)},className:"text-[#F37021] hover:text-[#d55f1c] p-2 rounded-lg hover:bg-[#F37021]/10 transition-all duration-200",title:"View Details",children:a.jsx(Hi,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>he(B.id),className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-all duration-200",title:"Delete Enquiry",children:a.jsx(si,{className:"w-4 h-4"})})]})})]},B.id)})})]}),ce.length===0&&s.length>0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(u3,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),a.jsx("h3",{className:"text-lg font-semibold text-[#1C1444] mb-2",children:"No records match your filters"}),a.jsx("p",{className:"text-[#1C1444]/80 mb-4",children:"Try adjusting your date, status, priority, or search criteria"}),a.jsx("button",{onClick:ee,className:"text-[#F37021] hover:text-[#d55f1c] underline font-medium transition-colors duration-200",children:"Clear all filters"})]}),ce.length===0&&s.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(u3,{className:"w-12 h-12 text-[#1C1444]/60 mx-auto mb-4 transition-transform duration-200 hover:scale-110"}),a.jsx("h3",{className:"text-lg font-semibold text-[#1C1444] mb-2",children:"No enquiry records found"}),a.jsx("p",{className:"text-[#1C1444]/80",children:"No enquiry data is available"})]})]}),!c&&!o&&M>0&&a.jsxs("div",{className:"mt-8 flex justify-between items-center",children:[a.jsxs("div",{className:"text-sm text-[#1C1444]/80",children:["Showing ",(j-1)*T+1," to"," ",Math.min(j*T,M)," of ",M," ","records"]}),a.jsx("button",{onClick:()=>ve(j+1),disabled:j===P,className:"px-5 py-2 bg-[#1C1444]/10 text-[#1C1444] rounded-lg disabled:opacity-50 hover:bg-[#1C1444] hover:text-white transition-all duration-200",children:"Next"})]}),O&&Q&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"p-6 border-b border-[#1C1444]/10 flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-[#1C1444]",children:"Enquiry Details"}),a.jsx("button",{onClick:()=>L(!1),className:"text-[#1C1444]/60 hover:text-[#1C1444] transition-colors duration-200",children:a.jsx(Lr,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Name"}),a.jsx("p",{className:"text-lg font-medium text-[#1C1444]",children:Q.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"School"}),a.jsx("p",{className:"text-lg text-[#1C1444]",children:Q.school})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Email"}),a.jsx("p",{className:"text-lg text-[#1C1444] break-all",children:Q.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Phone"}),a.jsx("p",{className:"text-lg text-[#1C1444]",children:Q.phone})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Date"}),a.jsx("p",{className:"text-lg text-[#1C1444]",children:Q.date})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Message"}),a.jsx("p",{className:"text-[#1C1444] whitespace-pre-wrap",children:Q.message})]})]}),a.jsxs("div",{className:"border-t pt-6 border-[#1C1444]/10",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#1C1444] mb-4",children:"Update Status & Priority"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Status"}),a.jsxs("select",{value:Q.status,onChange:B=>z({...Q,status:B.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",children:[a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"in-progress",children:"In Progress"}),a.jsx("option",{value:"resolved",children:"Resolved"}),a.jsx("option",{value:"closed",children:"Closed"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-[#1C1444] mb-2",children:"Priority"}),a.jsxs("select",{value:Q.priority,onChange:B=>z({...Q,priority:B.target.value}),className:"w-full px-4 py-3 border border-[#1C1444]/20 rounded-lg focus:ring-2 focus:ring-[#F37021] focus:border-[#F37021] bg-white transition-all duration-200",children:[a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"})]})]})]})]})]}),a.jsxs("div",{className:"p-6 border-t border-[#1C1444]/10 flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>L(!1),className:"px-6 py-3 border border-[#1C1444]/20 text-[#1C1444] rounded-lg hover:bg-[#1C1444]/10 transition-all duration-200",children:"Cancel"}),a.jsxs("button",{onClick:()=>se(Q.id,Q.status,Q.priority),className:"bg-gradient-to-r from-[#F37021] to-[#d55f1c] hover:from-[#d55f1c] hover:to-[#b54e17] text-white px-6 py-3 rounded-lg shadow-md flex items-center space-x-2 transform transition-all duration-200 hover:scale-105",children:[a.jsx(Dl,{className:"w-5 h-5"}),a.jsx("span",{children:"Update"})]})]})]})})]})},RDe=()=>{const e=ru(),{state:t}=Dd(),r=t?.receiptData,n=t?.themeColor||"#2563eb",s=C.useRef(null),[i,o]=C.useState(n),[l,c]=C.useState({}),u=`https://vidyaastra.com/api/schools/${localStorage.getItem("schoolId")}`,h=async()=>{try{let x=await sr.get(u);x.status===200&&(c(x.data?.data),console.log("=====>",x.data?.data))}catch(x){console.log(x)}};C.useEffect(()=>{const x=localStorage.getItem("color");x&&o(x),h()},[]);const m=()=>{setTimeout(()=>{window.print()},100)},A=async x=>{try{if(x?.startsWith("/"))return x;const v=await fetch(x,{mode:"cors",headers:{"X-Requested-With":"XMLHttpRequest"}});if(!v.ok)throw new Error(`Failed to fetch image: ${v.status}`);const b=await v.blob();return new Promise((j,E)=>{const T=new FileReader;T.onload=()=>j(T.result),T.onerror=E,T.readAsDataURL(b)})}catch(v){return console.error("Error converting image to base64:",v),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg=="}},y=async()=>{if(!r)return;const x=new Wn({unit:"pt",isCORS:!0}),v=x.internal.pageSize.getWidth();let b=30;const E=(V=>{const J=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(V);return J?[parseInt(J[1],16),parseInt(J[2],16),parseInt(J[3],16)]:[37,99,235]})(i);x.setDrawColor(...E),x.setLineWidth(1.5),x.rect(20,20,v-40,x.internal.pageSize.getHeight()-40),x.setFont("helvetica","bold"),x.setTextColor(240,240,245),x.setFontSize(30);const T=(l?.name||"RECEIPT").toUpperCase();x.text(T,v/2,x.internal.pageSize.getHeight()/2,{align:"center",angle:-10,renderingMode:"fillThenStroke"});let P=null;const U=V=>`https://vidyaastra.com/proxy-image?url=${encodeURIComponent(V)}`;if(l?.logoUrl)try{const V=U(l.logoUrl);P=await A(V),P&&P!=="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg=="?(x.addImage(P,"PNG",v/2-20,b,40,40),b+=50):(x.setFont("helvetica","normal"),x.setFontSize(9),x.setTextColor(100,100,100),x.text("School Logo Unavailable",v/2,b+20,{align:"center"}),b+=50)}catch(V){console.error("Error adding logo to PDF:",V),x.setFont("helvetica","normal"),x.setFontSize(9),x.setTextColor(100,100,100),x.text("School Logo Unavailable",v/2,b+20,{align:"center"}),b+=50}else b+=10;x.setFont("times","bold"),x.setTextColor(30,30,30),x.setFontSize(20),x.text(l?.name?.toUpperCase()||"UNKNOWN SCHOOL",v/2,b,{align:"center"}),b+=20,x.setFontSize(12),x.setTextColor(80,80,80),x.text("PAYMENT RECEIPT",v/2,b,{align:"center"}),b+=20,x.setDrawColor(...E),x.setLineWidth(1),x.line(100,b,v-100,b),b+=15,x.setFont("times","normal"),x.setFontSize(9),x.setTextColor(80,80,80),x.text(`School Code: ${l?.schoolCode||"N/A"} | Address: ${l?.address||"N/A"}`,v/2,b,{align:"center"}),b+=15;const M=[["Receipt Number",r.receiptNumber||"N/A"],["Payment Date",r.paidDate?new Date(r.paidDate).toLocaleDateString():"N/A"],["Due Date",r.dueDate?new Date(r.dueDate).toLocaleDateString():"N/A"],["Student Name",r.studentId?.name||"N/A"],["Roll Number",r.studentId?.rollNumber||"N/A"],["Class",r.studentId?.classId?.className&&r.studentId?.classId?.section?`${r.studentId.classId.className} ${r.studentId.classId.section}`:r.studentId?.classId?.className||r.studentId?.classId||"N/A"],["Total Amount",`Rs. ${r.totalAmount?.toLocaleString("en-IN",{maximumFractionDigits:2})||"0"}`],["Amount Paid",`Rs. ${(r.paid||r.installment?.paid||0)?.toLocaleString("en-IN",{maximumFractionDigits:2})||"0"}`],["Pending Amount",`Rs. ${(r.pending||r.installment?.pending||0)?.toLocaleString("en-IN",{maximumFractionDigits:2})}`],["Payment Method",r.paymentMethod||r.installment?.paymentMethod||"N/A"]];Ij(x,{startY:b,body:M,styles:{fontSize:9,cellPadding:3,halign:"left",font:"times"},columnStyles:{0:{cellWidth:120,fontStyle:"bold",textColor:[60,60,60]},1:{cellWidth:"auto"}},margin:{left:v/2-130,right:v/2-130},theme:"grid",alternateRowStyles:{fillColor:[245,245,245]}});let k=(x.lastAutoTable?.finalY||b)+20;x.setFont("times","normal"),x.setFontSize(9),x.setTextColor(150,150,150),x.text(`Issued on: ${new Date().toLocaleDateString()}`,v/2,k,{align:"center"}),k+=30,x.setFontSize(8),x.setTextColor(100,100,100);const Q=100,z=v-180;x.setDrawColor(...E),x.line(Q,k,Q+80,k),x.line(z,k,z+80,k),k+=10,x.text("Accountant",Q+40,k,{align:"center"}),x.text("Principal",z+40,k,{align:"center"}),k+=20,x.setFillColor(...E),x.circle(v/2,k,15,"F"),x.setFontSize(7),x.setTextColor(255,255,255),x.text("OFFICIAL SEAL",v/2,k,{align:"center"});const O=(r.studentId?.name||"student").replace(/\s+/g,"_"),L=(r.receiptNumber||"receipt").replace(/\s+/g,"_");x.save(`Receipt_${O}_${L}.pdf`)};return r?a.jsxs(a.Fragment,{children:[a.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),a.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),a.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Times+New+Roman&display=swap",rel:"stylesheet"}),a.jsx("style",{jsx:!0,children:`
        @keyframes fade-in {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-fade-in {
          animation: fade-in 0.5s ease-out;
        }
        .action-button {
          transition: all 0.3s ease;
          transform: scale(1);
        }
        .action-button:hover {
          transform: scale(1.05);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        .grid-item {
          transition: background-color 0.2s ease;
        }
        .grid-item:hover {
          background-color: #f9f9f9;
        }
        @media print {
          * {
            box-sizing: border-box;
          }
          body {
            margin: 0;
            padding: 0;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
          }
          body * {
            visibility: hidden;
          }
          .printable-receipt,
          .printable-receipt * {
            visibility: visible;
          }
          .printable-receipt {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            margin: 0;
            padding: 0.75rem;
            background: white;
            page-break-inside: avoid;
            page-break-after: always;
          }
          .no-print {
            display: none !important;
          }
          @page {
            margin: 0.5cm;
          }
          .printable-receipt .absolute {
            position: absolute !important;
          }
          .printable-receipt .p-6 {
            padding: 0.5rem !important;
          }
          .printable-receipt .mb-4 {
            margin-bottom: 0.5rem !important;
          }
          .printable-receipt .text-4xl {
            font-size: 1.4rem !important;
          }
          .printable-receipt .text-xl {
            font-size: 0.9rem !important;
          }
          .printable-receipt .text-sm {
            font-size: 0.8rem !important;
          }
          .printable-receipt .h-14 {
            height: 2rem !important;
          }
          .printable-receipt .w-14 {
            width: 2rem !important;
          }
          .certificate-title {
            font-family: 'Playfair Display', serif !important;
          }
          .certificate-text {
            font-family: 'Times New Roman', Times, serif !important;
          }
        }
      `}),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-xl w-full mx-auto animate-fade-in",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 no-print",children:[a.jsxs("button",{onClick:()=>e(-1),className:"action-button inline-flex items-center px-4 py-2 rounded-full border border-gray-300 bg-white hover:bg-gray-50 shadow-md text-sm font-medium text-gray-700 transition-all duration-200",children:[a.jsx(ip,{className:"mr-2 h-4 w-4"})," Back"]}),a.jsxs("div",{className:"space-x-3",children:[a.jsxs("button",{onClick:m,className:"action-button inline-flex items-center px-4 py-2 rounded-full text-white shadow-md text-sm font-medium",style:{background:`linear-gradient(135deg, ${i}, ${i}cc)`},children:[a.jsx(ly,{className:"mr-2 h-4 w-4"})," Print Receipt"]}),a.jsxs("button",{onClick:y,className:"action-button inline-flex items-center px-4 py-2 rounded-full text-white shadow-md text-sm font-medium",style:{background:`linear-gradient(135deg, ${i}, ${i}cc)`},children:[a.jsx(xs,{className:"mr-2 h-4 w-4"})," Download PDF"]})]})]}),a.jsx("div",{ref:s,className:"printable-receipt bg-white shadow-xl rounded-lg overflow-hidden border border-gray-100",style:{width:"100%",boxSizing:"border-box"},children:a.jsxs("div",{className:"relative p-6",children:[a.jsxs("div",{className:"absolute inset-0 flex items-center justify-center opacity-[0.03] pointer-events-none select-none overflow-hidden",children:[l?.logoUrl&&a.jsx("img",{src:l.logoUrl,alt:"watermark",className:"max-w-xs max-h-xs transform rotate-[-10deg]",style:{filter:"grayscale(100%)"}}),a.jsx("div",{className:"text-4xl certificate-title text-gray-800 rotate-[-10deg] select-none",children:l?.name?.toUpperCase()||"RECEIPT"})]}),a.jsxs("div",{className:"border-2 rounded-lg p-6 relative",style:{borderColor:i,background:`linear-gradient(180deg, #ffffff, ${i}05)`},children:[a.jsx("div",{className:"absolute top-2 left-2 h-3 w-3 border-t-2 border-l-2",style:{borderColor:i}}),a.jsx("div",{className:"absolute top-2 right-2 h-3 w-3 border-t-2 border-r-2",style:{borderColor:i}}),a.jsx("div",{className:"absolute bottom-2 left-2 h-3 w-3 border-b-2 border-l-2",style:{borderColor:i}}),a.jsx("div",{className:"absolute bottom-2 right-2 h-3 w-3 border-b-2 border-r-2",style:{borderColor:i}}),a.jsxs("div",{className:"text-center mb-4",children:[l?.logoUrl&&a.jsx("div",{className:"mb-3",children:a.jsx("img",{src:l.logoUrl,alt:"School Logo",className:"h-14 w-14 mx-auto object-contain shadow-sm rounded-full"})}),a.jsx("h1",{className:"text-4xl certificate-title font-bold tracking-wide mb-2 text-gray-800",children:l?.name?.toUpperCase()||"UNKNOWN SCHOOL"}),a.jsx("div",{className:"h-1 w-20 mx-auto mb-2",style:{backgroundColor:i}}),a.jsx("p",{className:"text-xl certificate-text text-gray-600 font-semibold",children:"PAYMENT RECEIPT"}),a.jsx("p",{className:"text-sm certificate-text text-gray-500 mt-1",children:l?.address||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 max-w-md mx-auto mb-4 text-left",children:[a.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[a.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Receipt Number"}),a.jsx("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:r.receiptNumber||"N/A"})]}),a.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[a.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Payment Date"}),a.jsx("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:r.paidDate?new Date(r.paidDate).toLocaleDateString():"N/A"})]}),a.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[a.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Due Date"}),a.jsx("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:r.dueDate?new Date(r.dueDate).toLocaleDateString():"N/A"})]}),a.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[a.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Student Name"}),a.jsx("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:r.studentId?.name||"N/A"})]}),a.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[a.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Roll Number"}),a.jsx("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:r.studentId?.rollNumber||"N/A"})]}),a.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[a.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Class"}),a.jsx("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:r.studentId?.classId?.className&&r.studentId?.classId?.section?`${r.studentId.classId.className} ${r.studentId.classId.section}`:r.studentId?.classId?.className||r.studentId?.classId||"N/A"})]}),a.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[a.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Total Amount"}),a.jsxs("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:["",r.totalAmount?.toLocaleString("en-IN",{maximumFractionDigits:2})||"0"]})]}),a.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[a.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Amount Paid"}),a.jsxs("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:["",(r.paid||r.installment?.paid||0)?.toLocaleString("en-IN",{maximumFractionDigits:2})||"0"]})]}),a.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[a.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Pending Amount"}),a.jsxs("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:["",(r.pending||r.installment?.pending||0)?.toLocaleString("en-IN",{maximumFractionDigits:2})]})]}),a.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg shadow-sm grid-item",children:[a.jsx("p",{className:"text-xs certificate-text text-gray-600 mb-1",children:"Payment Method"}),a.jsx("p",{className:"font-semibold certificate-text text-gray-800 text-sm",children:r.paymentMethod||r.installment?.paymentMethod||"N/A"})]})]}),a.jsxs("div",{className:"text-center mb-4 text-xs certificate-text text-gray-500",children:["Issued on: ",new Date().toLocaleDateString()]}),a.jsxs("div",{className:"flex justify-between items-end pt-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-32 h-px mb-2",style:{background:`linear-gradient(to right, ${i}, ${i}80)`}}),a.jsx("p",{className:"text-xs certificate-text text-gray-600 font-medium",children:"Accountant"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-full mx-auto mb-2 flex items-center justify-center",style:{background:`radial-gradient(circle, ${i}40, ${i}20)`,boxShadow:`0 2px 4px ${i}40`},children:a.jsx("div",{className:"w-8 h-8 rounded-full",style:{background:`linear-gradient(45deg, ${i}, ${i}cc)`,boxShadow:`inset 0 1px 2px ${i}80`}})}),a.jsx("p",{className:"text-xs certificate-text text-gray-500",children:"Official Seal"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-32 h-px mb-2",style:{background:`linear-gradient(to right, ${i}, ${i}80)`}}),a.jsx("p",{className:"text-xs certificate-text text-gray-600 font-medium",children:"Principal"})]})]})]})]})})]})})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:a.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 animate-fade-in",children:[a.jsx("p",{className:"mb-4 text-gray-600",children:"No receipt data available."}),a.jsx("button",{onClick:()=>e(-1),className:"px-4 py-2 bg-gray-800 text-white rounded-full hover:bg-gray-900 transition-all duration-200 text-sm font-medium",children:"Go Back"})]})})},QDe=()=>{const[e,t]=C.useState(localStorage.getItem("schoolId")||""),r=s$();return C.useEffect(()=>{e&&(r(_v(e)),r(Fv(e)),r(P2(e)))},[r,e]),a.jsx(CBe,{children:a.jsx(Mre,{children:a.jsx(yee,{children:a.jsxs(s4,{children:[a.jsx(vn,{path:"/*",element:a.jsx(TBe,{children:a.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[a.jsx(Dre,{}),a.jsx("div",{className:"flex-1",children:a.jsx("main",{className:"p-2",children:a.jsxs(s4,{children:[" ",a.jsx(vn,{path:"/dashboard",element:a.jsx(ZEe,{})}),a.jsx(vn,{path:"/students",element:a.jsx(ude,{})}),a.jsx(vn,{path:"/attendance",element:a.jsx(Fde,{})}),a.jsx(vn,{path:"/fees",element:a.jsx(Ide,{})}),a.jsx(vn,{path:"/fees/receipt",element:a.jsx(RDe,{})}),a.jsx(vn,{path:"/subject",element:a.jsx(jDe,{})}),a.jsx(vn,{path:"/classManagement",element:a.jsx(Wfe,{})}),a.jsx(vn,{path:"/timetable",element:a.jsx(Yfe,{})}),a.jsx(vn,{path:"/exams",element:a.jsx(VAe,{})}),a.jsx(vn,{path:"/exams-timetable-download",element:a.jsx(CDe,{})}),a.jsx(vn,{path:"/result",element:a.jsx(EDe,{})}),a.jsx(vn,{path:"/result/certificate",element:a.jsx(BDe,{})}),a.jsx(vn,{path:"/assignments",element:a.jsx(KAe,{})}),a.jsx(vn,{path:"/library",element:a.jsx(qAe,{})}),a.jsx(vn,{path:"/teachers",element:a.jsx(GAe,{})}),a.jsx(vn,{path:"/transport",element:a.jsx(XAe,{})}),a.jsx(vn,{path:"/circular",element:a.jsx(JAe,{})}),a.jsx(vn,{path:"/diary",element:a.jsx(ZAe,{})}),a.jsx(vn,{path:"/events",element:a.jsx(eme,{})}),a.jsx(vn,{path:"/birthday",element:a.jsx(tme,{})}),a.jsx(vn,{path:"/classwork",element:a.jsx(l0e,{})}),a.jsx(vn,{path:"/gallery",element:a.jsx(u0e,{})}),a.jsx(vn,{path:"/holiday",element:a.jsx(d0e,{})}),a.jsx(vn,{path:"/uniform",element:a.jsx(h0e,{})}),a.jsx(vn,{path:"/books",element:a.jsx(m0e,{})}),a.jsx(vn,{path:"/orders",element:a.jsx(txe,{})}),a.jsx(vn,{path:"/buy",element:a.jsx(tBe,{})}),a.jsx(vn,{path:"/teachercreate",element:a.jsx(ZBe,{})})]})})})]})})}),a.jsx(vn,{path:"/login",element:a.jsx(rBe,{setSchoolId:t})}),a.jsx(vn,{path:"/admin/*",element:a.jsx(FBe,{children:a.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[a.jsx(Rre,{}),a.jsx("div",{className:"flex-1",children:a.jsx("main",{className:"p-2",children:a.jsxs(s4,{children:[a.jsx(vn,{path:"dashboard",element:a.jsx(XBe,{})}),a.jsx(vn,{path:"students",element:a.jsx(NDe,{})}),a.jsx(vn,{path:"attendance",element:a.jsx(nBe,{})}),a.jsx(vn,{path:"fees",element:a.jsx(IDe,{})}),a.jsx(vn,{path:"admin-payment-receipt",element:a.jsx(kDe,{})}),a.jsx(vn,{path:"timetable",element:a.jsx(aBe,{})}),a.jsx(vn,{path:"exams",element:a.jsx(dBe,{})}),a.jsx(vn,{path:"exam-timetable",element:a.jsx(fBe,{})}),a.jsx(vn,{path:"assignments",element:a.jsx(ABe,{})}),a.jsx(vn,{path:"package",element:a.jsx(mBe,{})}),a.jsx(vn,{path:"packagehistory",element:a.jsx(jBe,{})}),a.jsx(vn,{path:"school",element:a.jsx(NBe,{})}),a.jsx(vn,{path:"library",element:a.jsx(IBe,{})}),a.jsx(vn,{path:"circular",element:a.jsx(kBe,{})}),a.jsx(vn,{path:"teachers",element:a.jsx(PBe,{})}),a.jsx(vn,{path:"transport",element:a.jsx(LBe,{})}),a.jsx(vn,{path:"diary",element:a.jsx(OBe,{})}),a.jsx(vn,{path:"events",element:a.jsx(DBe,{})}),a.jsx(vn,{path:"birthday",element:a.jsx(MBe,{})}),a.jsx(vn,{path:"gallery",element:a.jsx(UBe,{})}),a.jsx(vn,{path:"uniform",element:a.jsx(HBe,{})}),a.jsx(vn,{path:"holiday",element:a.jsx(zBe,{})}),a.jsx(vn,{path:"classwork",element:a.jsx(VBe,{})}),a.jsx(vn,{path:"books",element:a.jsx(qBe,{})}),a.jsx(vn,{path:"/PriceManagement",element:a.jsx(NW,{})}),a.jsx(vn,{path:"/enquires-management",element:a.jsx(UDe,{})})]})})})]})})}),a.jsx(vn,{path:"/superadmin-login",element:a.jsx(_Be,{})}),a.jsx(vn,{path:"/",element:a.jsxs(a.Fragment,{children:[" ",a.jsx(a5,{})," ",a.jsx(bDe,{})," ",a.jsx(i5,{})]})}),a.jsx(vn,{path:"/PrivacyPolicy",element:a.jsx(a.Fragment,{children:a.jsx(PDe,{})})}),a.jsx(vn,{path:"/contact",element:a.jsxs(a.Fragment,{children:[a.jsx(a5,{}),a.jsx(DDe,{}),a.jsx(i5,{})]})}),a.jsx(vn,{path:"/Terms&Conditions",element:a.jsx(a.Fragment,{children:a.jsx(LDe,{})})}),a.jsx(vn,{path:"/features",element:a.jsxs(a.Fragment,{children:[a.jsx(a5,{})," ",a.jsx(ODe,{}),a.jsx(i5,{})]})}),a.jsx(vn,{path:"/about",element:a.jsxs(a.Fragment,{children:[a.jsx(a5,{}),a.jsx(wDe,{}),a.jsx(i5,{})]})}),a.jsx(vn,{path:"/teacher/*",element:a.jsx(BBe,{children:a.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[a.jsx(aTe,{}),a.jsx("div",{className:"flex-1",children:a.jsx("main",{className:"p-2",children:a.jsxs(s4,{children:[a.jsx(vn,{index:!0,path:"attendance",element:a.jsx(eTe,{})}),a.jsx(vn,{path:"assignments",element:a.jsx(nTe,{})}),a.jsx(vn,{path:"classworks",element:a.jsx(rTe,{})}),a.jsx(vn,{path:"submittedAssignments",element:a.jsx(SDe,{})}),a.jsx(vn,{index:!0,element:a.jsx(rb,{to:"attendance",replace:!0})}),a.jsx(vn,{path:"*",element:a.jsx(rb,{to:"attendance",replace:!0})})]})})})]})})})]})})})})},HDe=v$({reducer:{classes:zfe,subjects:qfe,teachers:Qfe}});lZ.createRoot(document.getElementById("root")).render(a.jsx(C.StrictMode,{children:a.jsx(r$,{store:HDe,children:a.jsx(QDe,{})})}));export{qn as _,iA as c,dA as g};
